var W0=Object.defineProperty;var t1=(e,t,n)=>t in e?W0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var u=(e,t,n)=>t1(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function $m(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xm={exports:{}},ku={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1=Symbol.for("react.transitional.element"),n1=Symbol.for("react.fragment");function Zm(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:e1,type:e,key:i,ref:t!==void 0?t:null,props:n}}ku.Fragment=n1;ku.jsx=Zm;ku.jsxs=Zm;Xm.exports=ku;var Z=Xm.exports,Qm={exports:{}},Ru={},_m={exports:{}},Wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,G){var P=M.length;M.push(G);t:for(;0<P;){var bt=P-1>>>1,Bt=M[bt];if(0<r(Bt,G))M[bt]=G,M[P]=Bt,P=bt;else break t}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var G=M[0],P=M.pop();if(P!==G){M[0]=P;t:for(var bt=0,Bt=M.length,Vo=Bt>>>1;bt<Vo;){var Po=2*(bt+1)-1,rc=M[Po],Br=Po+1,Go=M[Br];if(0>r(rc,P))Br<Bt&&0>r(Go,rc)?(M[bt]=Go,M[Br]=P,bt=Br):(M[bt]=rc,M[Po]=P,bt=Po);else if(Br<Bt&&0>r(Go,P))M[bt]=Go,M[Br]=P,bt=Br;else break t}}return G}function r(M,G){var P=M.sortIndex-G.sortIndex;return P!==0?P:M.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],h=1,d=null,g=3,m=!1,S=!1,A=!1,O=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function v(M){for(var G=n(c);G!==null;){if(G.callback===null)i(c);else if(G.startTime<=M)i(c),G.sortIndex=G.expirationTime,t(l,G);else break;G=n(c)}}function w(M){if(A=!1,v(M),!S)if(n(l)!==null)S=!0,nc();else{var G=n(c);G!==null&&ic(w,G.startTime-M)}}var x=!1,B=-1,C=5,R=-1;function K(){return!(e.unstable_now()-R<C)}function q(){if(x){var M=e.unstable_now();R=M;var G=!0;try{t:{S=!1,A&&(A=!1,p(B),B=-1),m=!0;var P=g;try{e:{for(v(M),d=n(l);d!==null&&!(d.expirationTime>M&&K());){var bt=d.callback;if(typeof bt=="function"){d.callback=null,g=d.priorityLevel;var Bt=bt(d.expirationTime<=M);if(M=e.unstable_now(),typeof Bt=="function"){d.callback=Bt,v(M),G=!0;break e}d===n(l)&&i(l),v(M)}else i(l);d=n(l)}if(d!==null)G=!0;else{var Vo=n(c);Vo!==null&&ic(w,Vo.startTime-M),G=!1}}break t}finally{d=null,g=P,m=!1}G=void 0}}finally{G?St():x=!1}}}var St;if(typeof y=="function")St=function(){y(q)};else if(typeof MessageChannel<"u"){var Rr=new MessageChannel,_0=Rr.port2;Rr.port1.onmessage=q,St=function(){_0.postMessage(null)}}else St=function(){O(q,0)};function nc(){x||(x=!0,St())}function ic(M,G){B=O(function(){M(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){S||m||(S=!0,nc())},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(M){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var P=g;g=G;try{return M()}finally{g=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var P=g;g=M;try{return G()}finally{g=P}},e.unstable_scheduleCallback=function(M,G,P){var bt=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?bt+P:bt):P=bt,M){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=P+Bt,M={id:h++,callback:G,priorityLevel:M,startTime:P,expirationTime:Bt,sortIndex:-1},P>bt?(M.sortIndex=P,t(c,M),n(l)===null&&M===n(c)&&(A?(p(B),B=-1):A=!0,ic(w,P-bt))):(M.sortIndex=Bt,t(l,M),S||m||(S=!0,nc())),M},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(M){var G=g;return function(){var P=g;g=G;try{return M.apply(this,arguments)}finally{g=P}}}})(Wm);_m.exports=Wm;var i1=_m.exports,ty={exports:{}},j={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vh=Symbol.for("react.transitional.element"),r1=Symbol.for("react.portal"),a1=Symbol.for("react.fragment"),s1=Symbol.for("react.strict_mode"),o1=Symbol.for("react.profiler"),l1=Symbol.for("react.consumer"),u1=Symbol.for("react.context"),c1=Symbol.for("react.forward_ref"),f1=Symbol.for("react.suspense"),h1=Symbol.for("react.memo"),ey=Symbol.for("react.lazy"),Ld=Symbol.iterator;function d1(e){return e===null||typeof e!="object"?null:(e=Ld&&e[Ld]||e["@@iterator"],typeof e=="function"?e:null)}var ny={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iy=Object.assign,ry={};function us(e,t,n){this.props=e,this.context=t,this.refs=ry,this.updater=n||ny}us.prototype.isReactComponent={};us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ay(){}ay.prototype=us.prototype;function Sh(e,t,n){this.props=e,this.context=t,this.refs=ry,this.updater=n||ny}var bh=Sh.prototype=new ay;bh.constructor=Sh;iy(bh,us.prototype);bh.isPureReactComponent=!0;var qd=Array.isArray,ht={H:null,A:null,T:null,S:null},sy=Object.prototype.hasOwnProperty;function Th(e,t,n,i,r,a){return n=a.ref,{$$typeof:vh,type:e,key:t,ref:n!==void 0?n:null,props:a}}function g1(e,t){return Th(e.type,t,void 0,void 0,void 0,e.props)}function Ah(e){return typeof e=="object"&&e!==null&&e.$$typeof===vh}function m1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Jd=/\/+/g;function ac(e,t){return typeof e=="object"&&e!==null&&e.key!=null?m1(""+e.key):t.toString(36)}function Hd(){}function y1(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Hd,Hd):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function pa(e,t,n,i,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case vh:case r1:s=!0;break;case ey:return s=e._init,pa(s(e._payload),t,n,i,r)}}if(s)return r=r(e),s=i===""?"."+ac(e,0):i,qd(r)?(n="",s!=null&&(n=s.replace(Jd,"$&/")+"/"),pa(r,t,n,"",function(c){return c})):r!=null&&(Ah(r)&&(r=g1(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(Jd,"$&/")+"/")+s)),t.push(r)),1;s=0;var o=i===""?".":i+":";if(qd(e))for(var l=0;l<e.length;l++)i=e[l],a=o+ac(i,l),s+=pa(i,t,n,a,r);else if(l=d1(e),typeof l=="function")for(e=l.call(e),l=0;!(i=e.next()).done;)i=i.value,a=o+ac(i,l++),s+=pa(i,t,n,a,r);else if(a==="object"){if(typeof e.then=="function")return pa(y1(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Yo(e,t,n){if(e==null)return e;var i=[],r=0;return pa(e,i,"","",function(a){return t.call(n,a,r++)}),i}function p1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function v1(){}j.Children={map:Yo,forEach:function(e,t,n){Yo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yo(e,function(){t++}),t},toArray:function(e){return Yo(e,function(t){return t})||[]},only:function(e){if(!Ah(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};j.Component=us;j.Fragment=a1;j.Profiler=o1;j.PureComponent=Sh;j.StrictMode=s1;j.Suspense=f1;j.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht;j.act=function(){throw Error("act(...) is not supported in production builds of React.")};j.cache=function(e){return function(){return e.apply(null,arguments)}};j.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=iy({},e.props),r=e.key,a=void 0;if(t!=null)for(s in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(r=""+t.key),t)!sy.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(i[s]=t[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}return Th(e.type,r,void 0,void 0,a,i)};j.createContext=function(e){return e={$$typeof:u1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:l1,_context:e},e};j.createElement=function(e,t,n){var i,r={},a=null;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)sy.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];r.children=o}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)r[i]===void 0&&(r[i]=s[i]);return Th(e,a,void 0,void 0,null,r)};j.createRef=function(){return{current:null}};j.forwardRef=function(e){return{$$typeof:c1,render:e}};j.isValidElement=Ah;j.lazy=function(e){return{$$typeof:ey,_payload:{_status:-1,_result:e},_init:p1}};j.memo=function(e,t){return{$$typeof:h1,type:e,compare:t===void 0?null:t}};j.startTransition=function(e){var t=ht.T,n={};ht.T=n;try{var i=e(),r=ht.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(v1,jd)}catch(a){jd(a)}finally{ht.T=t}};j.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()};j.use=function(e){return ht.H.use(e)};j.useActionState=function(e,t,n){return ht.H.useActionState(e,t,n)};j.useCallback=function(e,t){return ht.H.useCallback(e,t)};j.useContext=function(e){return ht.H.useContext(e)};j.useDebugValue=function(){};j.useDeferredValue=function(e,t){return ht.H.useDeferredValue(e,t)};j.useEffect=function(e,t){return ht.H.useEffect(e,t)};j.useId=function(){return ht.H.useId()};j.useImperativeHandle=function(e,t,n){return ht.H.useImperativeHandle(e,t,n)};j.useInsertionEffect=function(e,t){return ht.H.useInsertionEffect(e,t)};j.useLayoutEffect=function(e,t){return ht.H.useLayoutEffect(e,t)};j.useMemo=function(e,t){return ht.H.useMemo(e,t)};j.useOptimistic=function(e,t){return ht.H.useOptimistic(e,t)};j.useReducer=function(e,t,n){return ht.H.useReducer(e,t,n)};j.useRef=function(e){return ht.H.useRef(e)};j.useState=function(e){return ht.H.useState(e)};j.useSyncExternalStore=function(e,t,n){return ht.H.useSyncExternalStore(e,t,n)};j.useTransition=function(){return ht.H.useTransition()};j.version="19.0.0";ty.exports=j;var It=ty.exports,oy={exports:{}},_t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1=It;function ly(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zi(){}var Zt={d:{f:Zi,r:function(){throw Error(ly(522))},D:Zi,C:Zi,L:Zi,m:Zi,X:Zi,S:Zi,M:Zi},p:0,findDOMNode:null},b1=Symbol.for("react.portal");function T1(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b1,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Bs=S1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Bu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}_t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Zt;_t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(ly(299));return T1(e,t,null,n)};_t.flushSync=function(e){var t=Bs.T,n=Zt.p;try{if(Bs.T=null,Zt.p=2,e)return e()}finally{Bs.T=t,Zt.p=n,Zt.d.f()}};_t.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Zt.d.C(e,t))};_t.prefetchDNS=function(e){typeof e=="string"&&Zt.d.D(e)};_t.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Bu(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Zt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):n==="script"&&Zt.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};_t.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Bu(t.as,t.crossOrigin);Zt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Zt.d.M(e)};_t.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Bu(n,t.crossOrigin);Zt.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};_t.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Bu(t.as,t.crossOrigin);Zt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Zt.d.m(e)};_t.requestFormReset=function(e){Zt.d.r(e)};_t.unstable_batchedUpdates=function(e,t){return e(t)};_t.useFormState=function(e,t,n){return Bs.H.useFormState(e,t,n)};_t.useFormStatus=function(){return Bs.H.useHostTransitionStatus()};_t.version="19.0.0";function uy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uy)}catch(e){console.error(e)}}uy(),oy.exports=_t;var A1=oy.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rt=i1,cy=It,w1=A1;function N(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function fy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var E1=Symbol.for("react.element"),Fo=Symbol.for("react.transitional.element"),xs=Symbol.for("react.portal"),Aa=Symbol.for("react.fragment"),hy=Symbol.for("react.strict_mode"),Xc=Symbol.for("react.profiler"),N1=Symbol.for("react.provider"),dy=Symbol.for("react.consumer"),Ri=Symbol.for("react.context"),wh=Symbol.for("react.forward_ref"),Zc=Symbol.for("react.suspense"),Qc=Symbol.for("react.suspense_list"),Eh=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),gy=Symbol.for("react.offscreen"),x1=Symbol.for("react.memo_cache_sentinel"),Vd=Symbol.iterator;function ys(e){return e===null||typeof e!="object"?null:(e=Vd&&e[Vd]||e["@@iterator"],typeof e=="function"?e:null)}var D1=Symbol.for("react.client.reference");function _c(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D1?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Aa:return"Fragment";case xs:return"Portal";case Xc:return"Profiler";case hy:return"StrictMode";case Zc:return"Suspense";case Qc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ri:return(e.displayName||"Context")+".Provider";case dy:return(e._context.displayName||"Context")+".Consumer";case wh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Eh:return t=e.displayName||null,t!==null?t:_c(e.type)||"Memo";case nr:t=e._payload,e=e._init;try{return _c(e(t))}catch{}}return null}var H=cy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=Object.assign,sc,Pd;function Ds(e){if(sc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sc=t&&t[1]||"",Pd=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sc+e+Pd}var oc=!1;function lc(e,t){if(!e||oc)return"";oc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(m){var g=m}Reflect.construct(e,[],d)}else{try{d.call()}catch(m){g=m}e.call(d.prototype)}}else{try{throw Error()}catch(m){g=m}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(m){if(m&&g&&typeof m.stack=="string")return[m.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),c=o.split(`
`);for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||l[i]!==c[r]){var h=`
`+l[i].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=i&&0<=r);break}}}finally{oc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ds(n):""}function O1(e){switch(e.tag){case 26:case 27:case 5:return Ds(e.type);case 16:return Ds("Lazy");case 13:return Ds("Suspense");case 19:return Ds("SuspenseList");case 0:case 15:return e=lc(e.type,!1),e;case 11:return e=lc(e.type.render,!1),e;case 1:return e=lc(e.type,!0),e;default:return""}}function Gd(e){try{var t="";do t+=O1(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function cs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function my(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yd(e){if(cs(e)!==e)throw Error(N(188))}function C1(e){var t=e.alternate;if(!t){if(t=cs(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Yd(r),e;if(a===i)return Yd(r),t;a=a.sibling}throw Error(N(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,o=r.child;o;){if(o===n){s=!0,n=r,i=a;break}if(o===i){s=!0,i=r,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,i=r;break}if(o===i){s=!0,i=a,n=r;break}o=o.sibling}if(!s)throw Error(N(189))}}if(n.alternate!==i)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function yy(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=yy(e),t!==null)return t;e=e.sibling}return null}var Os=Array.isArray,st=w1.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pr={pending:!1,data:null,method:null,action:null},Wc=[],wa=-1;function Tn(e){return{current:e}}function Lt(e){0>wa||(e.current=Wc[wa],Wc[wa]=null,wa--)}function ct(e,t){wa++,Wc[wa]=e.current,e.current=t}var mn=Tn(null),Ws=Tn(null),fr=Tn(null),Bl=Tn(null);function Ml(e,t){switch(ct(fr,t),ct(Ws,e),ct(mn,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Fg(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=Fg(e),t=Ov(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Lt(mn),ct(mn,t)}function Fa(){Lt(mn),Lt(Ws),Lt(fr)}function tf(e){e.memoizedState!==null&&ct(Bl,e);var t=mn.current,n=Ov(t,e.type);t!==n&&(ct(Ws,e),ct(mn,n))}function Il(e){Ws.current===e&&(Lt(mn),Lt(Ws)),Bl.current===e&&(Lt(Bl),co._currentValue=Pr)}var ef=Object.prototype.hasOwnProperty,Nh=Rt.unstable_scheduleCallback,uc=Rt.unstable_cancelCallback,k1=Rt.unstable_shouldYield,R1=Rt.unstable_requestPaint,yn=Rt.unstable_now,B1=Rt.unstable_getCurrentPriorityLevel,py=Rt.unstable_ImmediatePriority,vy=Rt.unstable_UserBlockingPriority,Ul=Rt.unstable_NormalPriority,M1=Rt.unstable_LowPriority,Sy=Rt.unstable_IdlePriority,I1=Rt.log,U1=Rt.unstable_setDisableYieldValue,No=null,ce=null;function z1(e){if(ce&&typeof ce.onCommitFiberRoot=="function")try{ce.onCommitFiberRoot(No,e,void 0,(e.current.flags&128)===128)}catch{}}function lr(e){if(typeof I1=="function"&&U1(e),ce&&typeof ce.setStrictMode=="function")try{ce.setStrictMode(No,e)}catch{}}var fe=Math.clz32?Math.clz32:J1,L1=Math.log,q1=Math.LN2;function J1(e){return e>>>=0,e===0?32:31-(L1(e)/q1|0)|0}var Ko=128,$o=4194304;function Ir(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Mu(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,a=e.pingedLanes,s=e.warmLanes;e=e.finishedLanes!==0;var o=n&134217727;return o!==0?(n=o&~r,n!==0?i=Ir(n):(a&=o,a!==0?i=Ir(a):e||(s=o&~s,s!==0&&(i=Ir(s))))):(o=n&~r,o!==0?i=Ir(o):a!==0?i=Ir(a):e||(s=n&~s,s!==0&&(i=Ir(s)))),i===0?0:t!==0&&t!==i&&!(t&r)&&(r=i&-i,s=t&-t,r>=s||r===32&&(s&4194176)!==0)?t:i}function xo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function H1(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function by(){var e=Ko;return Ko<<=1,!(Ko&4194176)&&(Ko=128),e}function Ty(){var e=$o;return $o<<=1,!($o&62914560)&&($o=4194304),e}function cc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Do(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function j1(e,t,n,i,r,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var h=31-fe(n),d=1<<h;o[h]=0,l[h]=-1;var g=c[h];if(g!==null)for(c[h]=null,h=0;h<g.length;h++){var m=g[h];m!==null&&(m.lane&=-536870913)}n&=~d}i!==0&&Ay(e,i,0),a!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=a&~(s&~t))}function Ay(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-fe(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194218}function wy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-fe(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Ey(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Ny(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:qv(e.type))}function V1(e,t){var n=st.p;try{return st.p=e,t()}finally{st.p=n}}var Cr=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Cr,ne="__reactProps$"+Cr,fs="__reactContainer$"+Cr,nf="__reactEvents$"+Cr,P1="__reactListeners$"+Cr,G1="__reactHandles$"+Cr,Fd="__reactResources$"+Cr,to="__reactMarker$"+Cr;function xh(e){delete e[Gt],delete e[ne],delete e[nf],delete e[P1],delete e[G1]}function Jr(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fs]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$g(e);e!==null;){if(n=e[Gt])return n;e=$g(e)}return t}e=n,n=e.parentNode}return null}function hs(e){if(e=e[Gt]||e[fs]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Cs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(N(33))}function Ua(e){var t=e[Fd];return t||(t=e[Fd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ut(e){e[to]=!0}var xy=new Set,Dy={};function aa(e,t){Ka(e,t),Ka(e+"Capture",t)}function Ka(e,t){for(Dy[e]=t,e=0;e<t.length;e++)xy.add(t[e])}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Y1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kd={},$d={};function F1(e){return ef.call($d,e)?!0:ef.call(Kd,e)?!1:Y1.test(e)?$d[e]=!0:(Kd[e]=!0,!1)}function dl(e,t,n){if(F1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Xo(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function wn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Se(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function K1(e){var t=Oy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zl(e){e._valueTracker||(e._valueTracker=K1(e))}function Cy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Oy(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Ll(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $1=/[\n"\\]/g;function Be(e){return e.replace($1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function rf(e,t,n,i,r,a,s,o){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Se(t)):e.value!==""+Se(t)&&(e.value=""+Se(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?af(e,s,Se(t)):n!=null?af(e,s,Se(n)):i!=null&&e.removeAttribute("value"),r==null&&a!=null&&(e.defaultChecked=!!a),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Se(o):e.removeAttribute("name")}function ky(e,t,n,i,r,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;n=n!=null?""+Se(n):"",t=t!=null?""+Se(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s)}function af(e,t,n){t==="number"&&Ll(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function za(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Se(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Ry(e,t,n){if(t!=null&&(t=""+Se(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Se(n):""}function By(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(N(92));if(Os(i)){if(1<i.length)throw Error(N(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Se(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function $a(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var X1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xd(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||X1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function My(e,t,n){if(t!=null&&typeof t!="object")throw Error(N(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&Xd(e,r,i)}else for(var a in t)t.hasOwnProperty(a)&&Xd(e,a,t[a])}function Dh(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Q1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gl(e){return Q1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var sf=null;function Oh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ea=null,La=null;function Zd(e){var t=hs(e);if(t&&(e=t.stateNode)){var n=e[ne]||null;t:switch(e=t.stateNode,t.type){case"input":if(rf(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Be(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[ne]||null;if(!r)throw Error(N(90));rf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Cy(i)}break t;case"textarea":Ry(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&za(e,!!n.multiple,t,!1)}}}var fc=!1;function Iy(e,t,n){if(fc)return e(t,n);fc=!0;try{var i=e(t);return i}finally{if(fc=!1,(Ea!==null||La!==null)&&(Pu(),Ea&&(t=Ea,e=La,La=Ea=null,Zd(t),e)))for(t=0;t<e.length;t++)Zd(e[t])}}function eo(e,t){var n=e.stateNode;if(n===null)return null;var i=n[ne]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var of=!1;if(Vi)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){of=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{of=!1}var ur=null,Ch=null,ml=null;function Uy(){if(ml)return ml;var e,t=Ch,n=t.length,i,r="value"in ur?ur.value:ur.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===r[a-i];i++);return ml=r.slice(e,1<i?1-i:void 0)}function yl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zo(){return!0}function Qd(){return!1}function re(e){function t(n,i,r,a,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Zo:Qd,this.isPropagationStopped=Qd,this}return ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zo)},persist:function(){},isPersistent:Zo}),t}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iu=re(sa),Oo=ot({},sa,{view:0,detail:0}),_1=re(Oo),hc,dc,vs,Uu=ot({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vs&&(vs&&e.type==="mousemove"?(hc=e.screenX-vs.screenX,dc=e.screenY-vs.screenY):dc=hc=0,vs=e),hc)},movementY:function(e){return"movementY"in e?e.movementY:dc}}),_d=re(Uu),W1=ot({},Uu,{dataTransfer:0}),tS=re(W1),eS=ot({},Oo,{relatedTarget:0}),gc=re(eS),nS=ot({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),iS=re(nS),rS=ot({},sa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aS=re(rS),sS=ot({},sa,{data:0}),Wd=re(sS),oS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uS[e])?!!t[e]:!1}function kh(){return cS}var fS=ot({},Oo,{key:function(e){if(e.key){var t=oS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kh,charCode:function(e){return e.type==="keypress"?yl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hS=re(fS),dS=ot({},Uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tg=re(dS),gS=ot({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kh}),mS=re(gS),yS=ot({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),pS=re(yS),vS=ot({},Uu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),SS=re(vS),bS=ot({},sa,{newState:0,oldState:0}),TS=re(bS),AS=[9,13,27,32],Rh=Vi&&"CompositionEvent"in window,Ms=null;Vi&&"documentMode"in document&&(Ms=document.documentMode);var wS=Vi&&"TextEvent"in window&&!Ms,zy=Vi&&(!Rh||Ms&&8<Ms&&11>=Ms),eg=" ",ng=!1;function Ly(e,t){switch(e){case"keyup":return AS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Na=!1;function ES(e,t){switch(e){case"compositionend":return qy(t);case"keypress":return t.which!==32?null:(ng=!0,eg);case"textInput":return e=t.data,e===eg&&ng?null:e;default:return null}}function NS(e,t){if(Na)return e==="compositionend"||!Rh&&Ly(e,t)?(e=Uy(),ml=Ch=ur=null,Na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zy&&t.locale!=="ko"?null:t.data;default:return null}}var xS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xS[e.type]:t==="textarea"}function Jy(e,t,n,i){Ea?La?La.push(i):La=[i]:Ea=i,t=Wl(t,"onChange"),0<t.length&&(n=new Iu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Is=null,no=null;function DS(e){Nv(e,0)}function zu(e){var t=Cs(e);if(Cy(t))return e}function rg(e,t){if(e==="change")return t}var Hy=!1;if(Vi){var mc;if(Vi){var yc="oninput"in document;if(!yc){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),yc=typeof ag.oninput=="function"}mc=yc}else mc=!1;Hy=mc&&(!document.documentMode||9<document.documentMode)}function sg(){Is&&(Is.detachEvent("onpropertychange",jy),no=Is=null)}function jy(e){if(e.propertyName==="value"&&zu(no)){var t=[];Jy(t,no,e,Oh(e)),Iy(DS,t)}}function OS(e,t,n){e==="focusin"?(sg(),Is=t,no=n,Is.attachEvent("onpropertychange",jy)):e==="focusout"&&sg()}function CS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zu(no)}function kS(e,t){if(e==="click")return zu(t)}function RS(e,t){if(e==="input"||e==="change")return zu(t)}function BS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var me=typeof Object.is=="function"?Object.is:BS;function io(e,t){if(me(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!ef.call(t,r)||!me(e[r],t[r]))return!1}return!0}function og(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lg(e,t){var n=og(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=og(n)}}function Vy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Py(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ll(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ll(e.document)}return t}function Bh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function MS(e,t){var n=Py(t);t=e.focusedElem;var i=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Vy(t.ownerDocument.documentElement,t)){if(i!==null&&Bh(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,a=Math.min(i.start,r);i=i.end===void 0?a:Math.min(i.end,r),!n.extend&&a>i&&(r=i,i=a,a=r),r=lg(t,a);var s=lg(t,i);r&&s&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),a>i?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var IS=Vi&&"documentMode"in document&&11>=document.documentMode,xa=null,lf=null,Us=null,uf=!1;function ug(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uf||xa==null||xa!==Ll(i)||(i=xa,"selectionStart"in i&&Bh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Us&&io(Us,i)||(Us=i,i=Wl(lf,"onSelect"),0<i.length&&(t=new Iu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=xa)))}function Mr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Da={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},pc={},Gy={};Vi&&(Gy=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function oa(e){if(pc[e])return pc[e];if(!Da[e])return e;var t=Da[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gy)return pc[e]=t[n];return e}var Yy=oa("animationend"),Fy=oa("animationiteration"),Ky=oa("animationstart"),US=oa("transitionrun"),zS=oa("transitionstart"),LS=oa("transitioncancel"),$y=oa("transitionend"),Xy=new Map,cg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function _e(e,t){Xy.set(e,t),aa(t,[e])}var ve=[],Oa=0,Mh=0;function Lu(){for(var e=Oa,t=Mh=Oa=0;t<e;){var n=ve[t];ve[t++]=null;var i=ve[t];ve[t++]=null;var r=ve[t];ve[t++]=null;var a=ve[t];if(ve[t++]=null,i!==null&&r!==null){var s=i.pending;s===null?r.next=r:(r.next=s.next,s.next=r),i.pending=r}a!==0&&Zy(n,r,a)}}function qu(e,t,n,i){ve[Oa++]=e,ve[Oa++]=t,ve[Oa++]=n,ve[Oa++]=i,Mh|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Ih(e,t,n,i){return qu(e,t,n,i),ql(e)}function Ar(e,t){return qu(e,null,null,t),ql(e)}function Zy(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,a=e.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(r=!0)),e=a,a=a.return;r&&t!==null&&e.tag===3&&(a=e.stateNode,r=31-fe(n),a=a.hiddenUpdates,e=a[r],e===null?a[r]=[t]:e.push(t),t.lane=n|536870912)}function ql(e){if(50<Ks)throw Ks=0,Rf=null,Error(N(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ca={},fg=new WeakMap;function Me(e,t){if(typeof e=="object"&&e!==null){var n=fg.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Gd(t)},fg.set(e,t),t)}return{value:e,source:t,stack:Gd(t)}}var ka=[],Ra=0,Jl=null,Hl=0,be=[],Te=0,Gr=null,Bi=1,Mi="";function Ur(e,t){ka[Ra++]=Hl,ka[Ra++]=Jl,Jl=e,Hl=t}function Qy(e,t,n){be[Te++]=Bi,be[Te++]=Mi,be[Te++]=Gr,Gr=e;var i=Bi;e=Mi;var r=32-fe(i)-1;i&=~(1<<r),n+=1;var a=32-fe(t)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Bi=1<<32-fe(t)+r|n<<r|i,Mi=a+e}else Bi=1<<a|n<<r|i,Mi=e}function Uh(e){e.return!==null&&(Ur(e,1),Qy(e,1,0))}function zh(e){for(;e===Jl;)Jl=ka[--Ra],ka[Ra]=null,Hl=ka[--Ra],ka[Ra]=null;for(;e===Gr;)Gr=be[--Te],be[Te]=null,Mi=be[--Te],be[Te]=null,Bi=be[--Te],be[Te]=null}var Xt=null,Ht=null,Q=!1,Ye=null,nn=!1,cf=Error(N(519));function Qr(e){var t=Error(N(418,""));throw ro(Me(t,e)),cf}function hg(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Gt]=e,t[ne]=i,n){case"dialog":F("cancel",t),F("close",t);break;case"iframe":case"object":case"embed":F("load",t);break;case"video":case"audio":for(n=0;n<oo.length;n++)F(oo[n],t);break;case"source":F("error",t);break;case"img":case"image":case"link":F("error",t),F("load",t);break;case"details":F("toggle",t);break;case"input":F("invalid",t),ky(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),zl(t);break;case"select":F("invalid",t);break;case"textarea":F("invalid",t),By(t,i.value,i.defaultValue,i.children),zl(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Dv(t.textContent,n)?(i.popover!=null&&(F("beforetoggle",t),F("toggle",t)),i.onScroll!=null&&F("scroll",t),i.onScrollEnd!=null&&F("scrollend",t),i.onClick!=null&&(t.onclick=Yu),t=!0):t=!1,t||Qr(e)}function dg(e){for(Xt=e.return;Xt;)switch(Xt.tag){case 3:case 27:nn=!0;return;case 5:case 13:nn=!1;return;default:Xt=Xt.return}}function Ss(e){if(e!==Xt)return!1;if(!Q)return dg(e),Q=!0,!1;var t=!1,n;if((n=e.tag!==3&&e.tag!==27)&&((n=e.tag===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||qf(e.type,e.memoizedProps)),n=!n),n&&(t=!0),t&&Ht&&Qr(e),dg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Ht=$e(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Ht=null}}else Ht=Xt?$e(e.stateNode.nextSibling):null;return!0}function Co(){Ht=Xt=null,Q=!1}function ro(e){Ye===null?Ye=[e]:Ye.push(e)}var zs=Error(N(460)),_y=Error(N(474)),ff={then:function(){}};function gg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qo(){}function Wy(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Qo,Qo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===zs?Error(N(483)):e;default:if(typeof t.status=="string")t.then(Qo,Qo);else{if(e=at,e!==null&&100<e.shellSuspendCounter)throw Error(N(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===zs?Error(N(483)):e}throw Ls=t,zs}}var Ls=null;function mg(){if(Ls===null)throw Error(N(459));var e=Ls;return Ls=null,e}var qa=null,ao=0;function _o(e){var t=ao;return ao+=1,qa===null&&(qa=[]),Wy(qa,e,t)}function bs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Wo(e,t){throw t.$$typeof===E1?Error(N(525)):(e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function yg(e){var t=e._init;return t(e._payload)}function tp(e){function t(p,y){if(e){var v=p.deletions;v===null?(p.deletions=[y],p.flags|=16):v.push(y)}}function n(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function i(p){for(var y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function r(p,y){return p=gr(p,y),p.index=0,p.sibling=null,p}function a(p,y,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<y?(p.flags|=33554434,y):v):(p.flags|=33554434,y)):(p.flags|=1048576,y)}function s(p){return e&&p.alternate===null&&(p.flags|=33554434),p}function o(p,y,v,w){return y===null||y.tag!==6?(y=Cc(v,p.mode,w),y.return=p,y):(y=r(y,v),y.return=p,y)}function l(p,y,v,w){var x=v.type;return x===Aa?h(p,y,v.props.children,w,v.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===nr&&yg(x)===y.type)?(y=r(y,v.props),bs(y,v),y.return=p,y):(y=Tl(v.type,v.key,v.props,null,p.mode,w),bs(y,v),y.return=p,y)}function c(p,y,v,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=kc(v,p.mode,w),y.return=p,y):(y=r(y,v.children||[]),y.return=p,y)}function h(p,y,v,w,x){return y===null||y.tag!==7?(y=Fr(v,p.mode,w,x),y.return=p,y):(y=r(y,v),y.return=p,y)}function d(p,y,v){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Cc(""+y,p.mode,v),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Fo:return v=Tl(y.type,y.key,y.props,null,p.mode,v),bs(v,y),v.return=p,v;case xs:return y=kc(y,p.mode,v),y.return=p,y;case nr:var w=y._init;return y=w(y._payload),d(p,y,v)}if(Os(y)||ys(y))return y=Fr(y,p.mode,v,null),y.return=p,y;if(typeof y.then=="function")return d(p,_o(y),v);if(y.$$typeof===Ri)return d(p,tl(p,y),v);Wo(p,y)}return null}function g(p,y,v,w){var x=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return x!==null?null:o(p,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fo:return v.key===x?l(p,y,v,w):null;case xs:return v.key===x?c(p,y,v,w):null;case nr:return x=v._init,v=x(v._payload),g(p,y,v,w)}if(Os(v)||ys(v))return x!==null?null:h(p,y,v,w,null);if(typeof v.then=="function")return g(p,y,_o(v),w);if(v.$$typeof===Ri)return g(p,y,tl(p,v),w);Wo(p,v)}return null}function m(p,y,v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return p=p.get(v)||null,o(y,p,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fo:return p=p.get(w.key===null?v:w.key)||null,l(y,p,w,x);case xs:return p=p.get(w.key===null?v:w.key)||null,c(y,p,w,x);case nr:var B=w._init;return w=B(w._payload),m(p,y,v,w,x)}if(Os(w)||ys(w))return p=p.get(v)||null,h(y,p,w,x,null);if(typeof w.then=="function")return m(p,y,v,_o(w),x);if(w.$$typeof===Ri)return m(p,y,v,tl(y,w),x);Wo(y,w)}return null}function S(p,y,v,w){for(var x=null,B=null,C=y,R=y=0,K=null;C!==null&&R<v.length;R++){C.index>R?(K=C,C=null):K=C.sibling;var q=g(p,C,v[R],w);if(q===null){C===null&&(C=K);break}e&&C&&q.alternate===null&&t(p,C),y=a(q,y,R),B===null?x=q:B.sibling=q,B=q,C=K}if(R===v.length)return n(p,C),Q&&Ur(p,R),x;if(C===null){for(;R<v.length;R++)C=d(p,v[R],w),C!==null&&(y=a(C,y,R),B===null?x=C:B.sibling=C,B=C);return Q&&Ur(p,R),x}for(C=i(C);R<v.length;R++)K=m(C,p,R,v[R],w),K!==null&&(e&&K.alternate!==null&&C.delete(K.key===null?R:K.key),y=a(K,y,R),B===null?x=K:B.sibling=K,B=K);return e&&C.forEach(function(St){return t(p,St)}),Q&&Ur(p,R),x}function A(p,y,v,w){if(v==null)throw Error(N(151));for(var x=null,B=null,C=y,R=y=0,K=null,q=v.next();C!==null&&!q.done;R++,q=v.next()){C.index>R?(K=C,C=null):K=C.sibling;var St=g(p,C,q.value,w);if(St===null){C===null&&(C=K);break}e&&C&&St.alternate===null&&t(p,C),y=a(St,y,R),B===null?x=St:B.sibling=St,B=St,C=K}if(q.done)return n(p,C),Q&&Ur(p,R),x;if(C===null){for(;!q.done;R++,q=v.next())q=d(p,q.value,w),q!==null&&(y=a(q,y,R),B===null?x=q:B.sibling=q,B=q);return Q&&Ur(p,R),x}for(C=i(C);!q.done;R++,q=v.next())q=m(C,p,R,q.value,w),q!==null&&(e&&q.alternate!==null&&C.delete(q.key===null?R:q.key),y=a(q,y,R),B===null?x=q:B.sibling=q,B=q);return e&&C.forEach(function(Rr){return t(p,Rr)}),Q&&Ur(p,R),x}function O(p,y,v,w){if(typeof v=="object"&&v!==null&&v.type===Aa&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Fo:t:{for(var x=v.key;y!==null;){if(y.key===x){if(x=v.type,x===Aa){if(y.tag===7){n(p,y.sibling),w=r(y,v.props.children),w.return=p,p=w;break t}}else if(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===nr&&yg(x)===y.type){n(p,y.sibling),w=r(y,v.props),bs(w,v),w.return=p,p=w;break t}n(p,y);break}else t(p,y);y=y.sibling}v.type===Aa?(w=Fr(v.props.children,p.mode,w,v.key),w.return=p,p=w):(w=Tl(v.type,v.key,v.props,null,p.mode,w),bs(w,v),w.return=p,p=w)}return s(p);case xs:t:{for(x=v.key;y!==null;){if(y.key===x)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(p,y.sibling),w=r(y,v.children||[]),w.return=p,p=w;break t}else{n(p,y);break}else t(p,y);y=y.sibling}w=kc(v,p.mode,w),w.return=p,p=w}return s(p);case nr:return x=v._init,v=x(v._payload),O(p,y,v,w)}if(Os(v))return S(p,y,v,w);if(ys(v)){if(x=ys(v),typeof x!="function")throw Error(N(150));return v=x.call(v),A(p,y,v,w)}if(typeof v.then=="function")return O(p,y,_o(v),w);if(v.$$typeof===Ri)return O(p,y,tl(p,v),w);Wo(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,y!==null&&y.tag===6?(n(p,y.sibling),w=r(y,v),w.return=p,p=w):(n(p,y),w=Cc(v,p.mode,w),w.return=p,p=w),s(p)):n(p,y)}return function(p,y,v,w){try{ao=0;var x=O(p,y,v,w);return qa=null,x}catch(C){if(C===zs)throw C;var B=Ie(29,C,null,p.mode);return B.lanes=w,B.return=p,B}finally{}}}var _r=tp(!0),ep=tp(!1),Xa=Tn(null),jl=Tn(0);function pg(e,t){e=Yi,ct(jl,e),ct(Xa,t),Yi=e|t.baseLanes}function hf(){ct(jl,Yi),ct(Xa,Xa.current)}function Lh(){Yi=jl.current,Lt(Xa),Lt(jl)}var Je=Tn(null),pn=null;function rr(e){var t=e.alternate;ct(kt,kt.current&1),ct(Je,e),pn===null&&(t===null||Xa.current!==null||t.memoizedState!==null)&&(pn=e)}function np(e){if(e.tag===22){if(ct(kt,kt.current),ct(Je,e),pn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(pn=e)}}else ar()}function ar(){ct(kt,kt.current),ct(Je,Je.current)}function Ii(e){Lt(Je),pn===e&&(pn=null),Lt(kt)}var kt=Tn(0);function Vl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},JS=Rt.unstable_scheduleCallback,HS=Rt.unstable_NormalPriority,Ct={$$typeof:Ri,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qh(){return{controller:new qS,data:new Map,refCount:0}}function ko(e){e.refCount--,e.refCount===0&&JS(HS,function(){e.controller.abort()})}var qs=null,df=0,Za=0,Ja=null;function jS(e,t){if(qs===null){var n=qs=[];df=0,Za=od(),Ja={status:"pending",value:void 0,then:function(i){n.push(i)}}}return df++,t.then(vg,vg),t}function vg(){if(--df===0&&qs!==null){Ja!==null&&(Ja.status="fulfilled");var e=qs;qs=null,Za=0,Ja=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function VS(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Sg=H.S;H.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&jS(e,t),Sg!==null&&Sg(e,t)};var Yr=Tn(null);function Jh(){var e=Yr.current;return e!==null?e:at.pooledCache}function pl(e,t){t===null?ct(Yr,Yr.current):ct(Yr,t.pool)}function ip(){var e=Jh();return e===null?null:{parent:Ct._currentValue,pool:e}}var wr=0,V=null,et=null,xt=null,Pl=!1,Ha=!1,Wr=!1,Gl=0,so=0,ja=null,PS=0;function Tt(){throw Error(N(321))}function Hh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!me(e[n],t[n]))return!1;return!0}function jh(e,t,n,i,r,a){return wr=a,V=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H.H=e===null||e.memoizedState===null?la:kr,Wr=!1,a=n(i,r),Wr=!1,Ha&&(a=ap(t,n,i,r)),rp(e),a}function rp(e){H.H=Sn;var t=et!==null&&et.next!==null;if(wr=0,xt=et=V=null,Pl=!1,so=0,ja=null,t)throw Error(N(300));e===null||zt||(e=e.dependencies,e!==null&&Kl(e)&&(zt=!0))}function ap(e,t,n,i){V=e;var r=0;do{if(Ha&&(ja=null),so=0,Ha=!1,25<=r)throw Error(N(301));if(r+=1,xt=et=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}H.H=ua,a=t(n,i)}while(Ha);return a}function GS(){var e=H.H,t=e.useState()[0];return t=typeof t.then=="function"?Ro(t):t,e=e.useState()[0],(et!==null?et.memoizedState:null)!==e&&(V.flags|=1024),t}function Vh(){var e=Gl!==0;return Gl=0,e}function Ph(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Gh(e){if(Pl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Pl=!1}wr=0,xt=et=V=null,Ha=!1,so=Gl=0,ja=null}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?V.memoizedState=xt=e:xt=xt.next=e,xt}function Dt(){if(et===null){var e=V.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=xt===null?V.memoizedState:xt.next;if(t!==null)xt=t,et=e;else{if(e===null)throw V.alternate===null?Error(N(467)):Error(N(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},xt===null?V.memoizedState=xt=e:xt=xt.next=e}return xt}var Ju;Ju=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ro(e){var t=so;return so+=1,ja===null&&(ja=[]),e=Wy(ja,e,t),t=V,(xt===null?t.memoizedState:xt.next)===null&&(t=t.alternate,H.H=t===null||t.memoizedState===null?la:kr),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ro(e);if(e.$$typeof===Ri)return Yt(e)}throw Error(N(438,String(e)))}function Yh(e){var t=null,n=V.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=V.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ju(),V.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=x1;return t.index++,n}function Pi(e,t){return typeof t=="function"?t(e):t}function vl(e){var t=Dt();return Fh(t,et,e)}function Fh(e,t,n){var i=e.queue;if(i===null)throw Error(N(311));i.lastRenderedReducer=n;var r=e.baseQueue,a=i.pending;if(a!==null){if(r!==null){var s=r.next;r.next=a.next,a.next=s}t.baseQueue=r=a,i.pending=null}if(a=e.baseState,r===null)e.memoizedState=a;else{t=r.next;var o=s=null,l=null,c=t,h=!1;do{var d=c.lane&-536870913;if(d!==c.lane?($&d)===d:(wr&d)===d){var g=c.revertLane;if(g===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Za&&(h=!0);else if((wr&g)===g){c=c.next,g===Za&&(h=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,s=a):l=l.next=d,V.lanes|=g,Nr|=g;d=c.action,Wr&&n(a,d),a=c.hasEagerState?c.eagerState:n(a,d)}else g={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=g,s=a):l=l.next=g,V.lanes|=d,Nr|=d;c=c.next}while(c!==null&&c!==t);if(l===null?s=a:l.next=o,!me(a,e.memoizedState)&&(zt=!0,h&&(n=Ja,n!==null)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=l,i.lastRenderedState=a}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function vc(e){var t=Dt(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do a=e(a,s.action),s=s.next;while(s!==r);me(a,t.memoizedState)||(zt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function sp(e,t,n){var i=V,r=Dt(),a=Q;if(a){if(n===void 0)throw Error(N(407));n=n()}else n=t();var s=!me((et||r).memoizedState,n);if(s&&(r.memoizedState=n,zt=!0),r=r.queue,Kh(up.bind(null,i,r,e),[e]),r.getSnapshot!==t||s||xt!==null&&xt.memoizedState.tag&1){if(i.flags|=2048,Qa(9,lp.bind(null,i,r,n,t),{destroy:void 0},null),at===null)throw Error(N(349));a||wr&60||op(i,t,n)}return n}function op(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=V.updateQueue,t===null?(t=Ju(),V.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lp(e,t,n,i){t.value=n,t.getSnapshot=i,cp(t)&&fp(e)}function up(e,t,n){return n(function(){cp(t)&&fp(e)})}function cp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!me(e,n)}catch{return!0}}function fp(e){var t=Ar(e,2);t!==null&&Qt(t,e,2)}function gf(e){var t=Wt();if(typeof e=="function"){var n=e;if(e=n(),Wr){lr(!0);try{n()}finally{lr(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},t}function hp(e,t,n,i){return e.baseState=n,Fh(e,et,typeof i=="function"?i:Pi)}function YS(e,t,n,i,r){if(Vu(e))throw Error(N(485));if(e=t.action,e!==null){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};H.T!==null?n(!0):a.isTransition=!1,i(a),n=t.pending,n===null?(a.next=t.pending=a,dp(t,a)):(a.next=n.next,t.pending=n.next=a)}}function dp(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=H.T,s={};H.T=s;try{var o=n(r,i),l=H.S;l!==null&&l(s,o),bg(e,t,o)}catch(c){mf(e,t,c)}finally{H.T=a}}else try{a=n(r,i),bg(e,t,a)}catch(c){mf(e,t,c)}}function bg(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Tg(e,t,i)},function(i){return mf(e,t,i)}):Tg(e,t,n)}function Tg(e,t,n){t.status="fulfilled",t.value=n,gp(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,dp(e,n)))}function mf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,gp(t),t=t.next;while(t!==i)}e.action=null}function gp(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function mp(e,t){return t}function yp(e,t){if(Q){var n=at.formState;if(n!==null){t:{var i=V;if(Q){if(Ht){e:{for(var r=Ht,a=nn;r.nodeType!==8;){if(!a){r=null;break e}if(r=$e(r.nextSibling),r===null){r=null;break e}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){Ht=$e(r.nextSibling),i=r.data==="F!";break t}}Qr(i)}i=!1}i&&(t=n[0])}}return n=Wt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mp,lastRenderedState:t},n.queue=i,n=Mp.bind(null,V,i),i.dispatch=n,i=gf(!1),a=Qh.bind(null,V,!1,i.queue),i=Wt(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=YS.bind(null,V,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function pp(e){var t=Dt();return vp(t,et,e)}function vp(e,t,n){t=Fh(e,t,mp)[0],e=vl(Pi)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?Ro(t):t;var i=Dt(),r=i.queue,a=r.dispatch;return n!==i.memoizedState&&(V.flags|=2048,Qa(9,FS.bind(null,r,n),{destroy:void 0},null)),[t,a,e]}function FS(e,t){e.action=t}function Sp(e){var t=Dt(),n=et;if(n!==null)return vp(t,n,e);Dt(),t=t.memoizedState,n=Dt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Qa(e,t,n,i){return e={tag:e,create:t,inst:n,deps:i,next:null},t=V.updateQueue,t===null&&(t=Ju(),V.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function bp(){return Dt().memoizedState}function Sl(e,t,n,i){var r=Wt();V.flags|=e,r.memoizedState=Qa(1|t,n,{destroy:void 0},i===void 0?null:i)}function ju(e,t,n,i){var r=Dt();i=i===void 0?null:i;var a=r.memoizedState.inst;et!==null&&i!==null&&Hh(i,et.memoizedState.deps)?r.memoizedState=Qa(t,n,a,i):(V.flags|=e,r.memoizedState=Qa(1|t,n,a,i))}function Ag(e,t){Sl(8390656,8,e,t)}function Kh(e,t){ju(2048,8,e,t)}function Tp(e,t){return ju(4,2,e,t)}function Ap(e,t){return ju(4,4,e,t)}function wp(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ep(e,t,n){n=n!=null?n.concat([e]):null,ju(4,4,wp.bind(null,t,e),n)}function $h(){}function Np(e,t){var n=Dt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Hh(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function xp(e,t){var n=Dt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Hh(t,i[1]))return i[0];if(i=e(),Wr){lr(!0);try{e()}finally{lr(!1)}}return n.memoizedState=[i,t],i}function Xh(e,t,n){return n===void 0||wr&1073741824?e.memoizedState=t:(e.memoizedState=n,e=gv(),V.lanes|=e,Nr|=e,n)}function Dp(e,t,n,i){return me(n,t)?n:Xa.current!==null?(e=Xh(e,n,i),me(e,t)||(zt=!0),e):wr&42?(e=gv(),V.lanes|=e,Nr|=e,t):(zt=!0,e.memoizedState=n)}function Op(e,t,n,i,r){var a=st.p;st.p=a!==0&&8>a?a:8;var s=H.T,o={};H.T=o,Qh(e,!1,t,n);try{var l=r(),c=H.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=VS(l,i);Js(e,t,h,he(e))}else Js(e,t,i,he(e))}catch(d){Js(e,t,{then:function(){},status:"rejected",reason:d},he())}finally{st.p=a,H.T=s}}function KS(){}function yf(e,t,n,i){if(e.tag!==5)throw Error(N(476));var r=Cp(e).queue;Op(e,r,t,Pr,n===null?KS:function(){return kp(e),n(i)})}function Cp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Pr,baseState:Pr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:Pr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function kp(e){var t=Cp(e).next.queue;Js(e,t,{},he())}function Zh(){return Yt(co)}function Rp(){return Dt().memoizedState}function Bp(){return Dt().memoizedState}function $S(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=he();e=hr(n);var i=dr(t,e,n);i!==null&&(Qt(i,t,n),js(i,t,n)),t={cache:qh()},e.payload=t;return}t=t.return}}function XS(e,t,n){var i=he();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Vu(e)?Ip(t,n):(n=Ih(e,t,n,i),n!==null&&(Qt(n,e,i),Up(n,t,i)))}function Mp(e,t,n){var i=he();Js(e,t,n,i)}function Js(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vu(e))Ip(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(r.hasEagerState=!0,r.eagerState=o,me(o,s))return qu(e,t,r,0),at===null&&Lu(),!1}catch{}finally{}if(n=Ih(e,t,r,i),n!==null)return Qt(n,e,i),Up(n,t,i),!0}return!1}function Qh(e,t,n,i){if(i={lane:2,revertLane:od(),action:i,hasEagerState:!1,eagerState:null,next:null},Vu(e)){if(t)throw Error(N(479))}else t=Ih(e,n,i,2),t!==null&&Qt(t,e,2)}function Vu(e){var t=e.alternate;return e===V||t!==null&&t===V}function Ip(e,t){Ha=Pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Up(e,t,n){if(n&4194176){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,wy(e,n)}}var Sn={readContext:Yt,use:Hu,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt};Sn.useCacheRefresh=Tt;Sn.useMemoCache=Tt;Sn.useHostTransitionStatus=Tt;Sn.useFormState=Tt;Sn.useActionState=Tt;Sn.useOptimistic=Tt;var la={readContext:Yt,use:Hu,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:Ag,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Sl(4194308,4,wp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sl(4194308,4,e,t)},useInsertionEffect:function(e,t){Sl(4,2,e,t)},useMemo:function(e,t){var n=Wt();t=t===void 0?null:t;var i=e();if(Wr){lr(!0);try{e()}finally{lr(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Wt();if(n!==void 0){var r=n(t);if(Wr){lr(!0);try{n(t)}finally{lr(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=XS.bind(null,V,e),[i.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:function(e){e=gf(e);var t=e.queue,n=Mp.bind(null,V,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:$h,useDeferredValue:function(e,t){var n=Wt();return Xh(n,e,t)},useTransition:function(){var e=gf(!1);return e=Op.bind(null,V,e.queue,!0,!1),Wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=V,r=Wt();if(Q){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),at===null)throw Error(N(349));$&60||op(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Ag(up.bind(null,i,a,e),[e]),i.flags|=2048,Qa(9,lp.bind(null,i,a,n,t),{destroy:void 0},null),n},useId:function(){var e=Wt(),t=at.identifierPrefix;if(Q){var n=Mi,i=Bi;n=(i&~(1<<32-fe(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=PS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return Wt().memoizedState=$S.bind(null,V)}};la.useMemoCache=Yh;la.useHostTransitionStatus=Zh;la.useFormState=yp;la.useActionState=yp;la.useOptimistic=function(e){var t=Wt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Qh.bind(null,V,!0,n),n.dispatch=t,[e,t]};var kr={readContext:Yt,use:Hu,useCallback:Np,useContext:Yt,useEffect:Kh,useImperativeHandle:Ep,useInsertionEffect:Tp,useLayoutEffect:Ap,useMemo:xp,useReducer:vl,useRef:bp,useState:function(){return vl(Pi)},useDebugValue:$h,useDeferredValue:function(e,t){var n=Dt();return Dp(n,et.memoizedState,e,t)},useTransition:function(){var e=vl(Pi)[0],t=Dt().memoizedState;return[typeof e=="boolean"?e:Ro(e),t]},useSyncExternalStore:sp,useId:Rp};kr.useCacheRefresh=Bp;kr.useMemoCache=Yh;kr.useHostTransitionStatus=Zh;kr.useFormState=pp;kr.useActionState=pp;kr.useOptimistic=function(e,t){var n=Dt();return hp(n,et,e,t)};var ua={readContext:Yt,use:Hu,useCallback:Np,useContext:Yt,useEffect:Kh,useImperativeHandle:Ep,useInsertionEffect:Tp,useLayoutEffect:Ap,useMemo:xp,useReducer:vc,useRef:bp,useState:function(){return vc(Pi)},useDebugValue:$h,useDeferredValue:function(e,t){var n=Dt();return et===null?Xh(n,e,t):Dp(n,et.memoizedState,e,t)},useTransition:function(){var e=vc(Pi)[0],t=Dt().memoizedState;return[typeof e=="boolean"?e:Ro(e),t]},useSyncExternalStore:sp,useId:Rp};ua.useCacheRefresh=Bp;ua.useMemoCache=Yh;ua.useHostTransitionStatus=Zh;ua.useFormState=Sp;ua.useActionState=Sp;ua.useOptimistic=function(e,t){var n=Dt();return et!==null?hp(n,et,e,t):(n.baseState=e,[e,n.queue.dispatch])};function Sc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ot({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pf={isMounted:function(e){return(e=e._reactInternals)?cs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=he(),r=hr(i);r.payload=t,n!=null&&(r.callback=n),t=dr(e,r,i),t!==null&&(Qt(t,e,i),js(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=he(),r=hr(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=dr(e,r,i),t!==null&&(Qt(t,e,i),js(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=he(),i=hr(n);i.tag=2,t!=null&&(i.callback=t),t=dr(e,i,n),t!==null&&(Qt(t,e,n),js(t,e,n))}};function wg(e,t,n,i,r,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,s):t.prototype&&t.prototype.isPureReactComponent?!io(n,i)||!io(r,a):!0}function Eg(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&pf.enqueueReplaceState(t,t.state,null)}function ta(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=ot({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var Yl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function zp(e){Yl(e)}function Lp(e){console.error(e)}function qp(e){Yl(e)}function Fl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Ng(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function vf(e,t,n){return n=hr(n),n.tag=3,n.payload={element:null},n.callback=function(){Fl(e,t)},n}function Jp(e){return e=hr(e),e.tag=3,e}function Hp(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){Ng(t,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Ng(t,n,i),typeof r!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function ZS(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Bo(t,n,r,!0),n=Je.current,n!==null){switch(n.tag){case 13:return pn===null?Mf():n.alternate===null&&pt===0&&(pt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===ff?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Bc(e,i,r)),!1;case 22:return n.flags|=65536,i===ff?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Bc(e,i,r)),!1}throw Error(N(435,n.tag))}return Bc(e,i,r),Mf(),!1}if(Q)return t=Je.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==cf&&(e=Error(N(422),{cause:i}),ro(Me(e,n)))):(i!==cf&&(t=Error(N(423),{cause:i}),ro(Me(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=Me(i,n),r=vf(e.stateNode,i,r),Nc(e,r),pt!==4&&(pt=2)),!1;var a=Error(N(520),{cause:i});if(a=Me(a,n),Ys===null?Ys=[a]:Ys.push(a),pt!==4&&(pt=2),t===null)return!0;i=Me(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=vf(n.stateNode,i,e),Nc(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(mr===null||!mr.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Jp(r),Hp(r,e,n,i),Nc(n,r),!1}n=n.return}while(n!==null);return!1}var jp=Error(N(461)),zt=!1;function qt(e,t,n,i){t.child=e===null?ep(t,null,n,i):_r(t,e.child,n,i)}function xg(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}else s=i;return ea(t),i=jh(e,t,n,s,a,r),o=Vh(),e!==null&&!zt?(Ph(e,t,r),Gi(e,t,r)):(Q&&o&&Uh(t),t.flags|=1,qt(e,t,i,r),t.child)}function Dg(e,t,n,i,r){if(e===null){var a=n.type;return typeof a=="function"&&!nd(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,Vp(e,t,a,i,r)):(e=Tl(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!_h(e,r)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:io,n(s,i)&&e.ref===t.ref)return Gi(e,t,r)}return t.flags|=1,e=gr(a,i),e.ref=t.ref,e.return=t,t.child=e}function Vp(e,t,n,i,r){if(e!==null){var a=e.memoizedProps;if(io(a,i)&&e.ref===t.ref)if(zt=!1,t.pendingProps=i=a,_h(e,r))e.flags&131072&&(zt=!0);else return t.lanes=e.lanes,Gi(e,t,r)}return Sf(e,t,n,i,r)}function Pp(e,t,n){var i=t.pendingProps,r=i.children,a=(t.stateNode._pendingVisibility&2)!==0,s=e!==null?e.memoizedState:null;if(Hs(e,t),i.mode==="hidden"||a){if(t.flags&128){if(i=s!==null?s.baseLanes|n:n,e!==null){for(r=t.child=e.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~i}else t.childLanes=0,t.child=null;return Og(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&pl(t,s!==null?s.cachePool:null),s!==null?pg(t,s):hf(),np(t);else return t.lanes=t.childLanes=536870912,Og(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(pl(t,s.cachePool),pg(t,s),ar(),t.memoizedState=null):(e!==null&&pl(t,null),hf(),ar());return qt(e,t,r,n),t.child}function Og(e,t,n,i){var r=Jh();return r=r===null?null:{parent:Ct._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&pl(t,null),hf(),np(t),e!==null&&Bo(e,t,i,!0),null}function Hs(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(N(284));(e===null||e.ref!==n)&&(t.flags|=2097664)}}function Sf(e,t,n,i,r){return ea(t),n=jh(e,t,n,i,void 0,r),i=Vh(),e!==null&&!zt?(Ph(e,t,r),Gi(e,t,r)):(Q&&i&&Uh(t),t.flags|=1,qt(e,t,n,r),t.child)}function Cg(e,t,n,i,r,a){return ea(t),t.updateQueue=null,n=ap(t,i,n,r),rp(e),i=Vh(),e!==null&&!zt?(Ph(e,t,a),Gi(e,t,a)):(Q&&i&&Uh(t),t.flags|=1,qt(e,t,n,a),t.child)}function kg(e,t,n,i,r){if(ea(t),t.stateNode===null){var a=Ca,s=n.contextType;typeof s=="object"&&s!==null&&(a=Yt(s)),a=new n(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=pf,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},Wh(t),s=n.contextType,a.context=typeof s=="object"&&s!==null?Yt(s):Ca,a.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Sc(t,n,s,i),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&pf.enqueueReplaceState(a,a.state,null),Ps(t,i,a,r),Vs(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){a=t.stateNode;var o=t.memoizedProps,l=ta(n,o);a.props=l;var c=a.context,h=n.contextType;s=Ca,typeof h=="object"&&h!==null&&(s=Yt(h));var d=n.getDerivedStateFromProps;h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==s)&&Eg(t,a,i,s),ir=!1;var g=t.memoizedState;a.state=g,Ps(t,i,a,r),Vs(),c=t.memoizedState,o||g!==c||ir?(typeof d=="function"&&(Sc(t,n,d,i),c=t.memoizedState),(l=ir||wg(t,n,l,i,g,c,s))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=s,i=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Nf(e,t),s=t.memoizedProps,h=ta(n,s),a.props=h,d=t.pendingProps,g=a.context,c=n.contextType,l=Ca,typeof c=="object"&&c!==null&&(l=Yt(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||g!==l)&&Eg(t,a,i,l),ir=!1,g=t.memoizedState,a.state=g,Ps(t,i,a,r),Vs();var m=t.memoizedState;s!==d||g!==m||ir||e!==null&&e.dependencies!==null&&Kl(e.dependencies)?(typeof o=="function"&&(Sc(t,n,o,i),m=t.memoizedState),(h=ir||wg(t,n,h,i,g,m,l)||e!==null&&e.dependencies!==null&&Kl(e.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,m,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),a.props=i,a.state=m,a.context=l,i=h):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,Hs(e,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&i?(t.child=_r(t,e.child,null,r),t.child=_r(t,null,n,r)):qt(e,t,n,r),t.memoizedState=a.state,e=t.child):e=Gi(e,t,r),e}function Rg(e,t,n,i){return Co(),t.flags|=256,qt(e,t,n,i),t.child}var bc={dehydrated:null,treeContext:null,retryLane:0};function Tc(e){return{baseLanes:e,cachePool:ip()}}function Ac(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ue),e}function Gp(e,t,n){var i=t.pendingProps,r=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(kt.current&2)!==0),s&&(r=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(Q){if(r?rr(t):ar(),Q){var o=Ht,l;if(l=o){t:{for(l=o,o=nn;l.nodeType!==8;){if(!o){o=null;break t}if(l=$e(l.nextSibling),l===null){o=null;break t}}o=l}o!==null?(t.memoizedState={dehydrated:o,treeContext:Gr!==null?{id:Bi,overflow:Mi}:null,retryLane:536870912},l=Ie(18,null,null,0),l.stateNode=o,l.return=t,t.child=l,Xt=t,Ht=null,l=!0):l=!1}l||Qr(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return o.data==="$!"?t.lanes=16:t.lanes=536870912,null;Ii(t)}return o=i.children,i=i.fallback,r?(ar(),r=t.mode,o=Tf({mode:"hidden",children:o},r),i=Fr(i,r,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,r=t.child,r.memoizedState=Tc(n),r.childLanes=Ac(e,s,n),t.memoizedState=bc,i):(rr(t),bf(t,o))}if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(a)t.flags&256?(rr(t),t.flags&=-257,t=wc(e,t,n)):t.memoizedState!==null?(ar(),t.child=e.child,t.flags|=128,t=null):(ar(),r=i.fallback,o=t.mode,i=Tf({mode:"visible",children:i.children},o),r=Fr(r,o,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,_r(t,e.child,null,n),i=t.child,i.memoizedState=Tc(n),i.childLanes=Ac(e,s,n),t.memoizedState=bc,t=r);else if(rr(t),o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,i=Error(N(419)),i.stack="",i.digest=s,ro({value:i,source:null,stack:null}),t=wc(e,t,n)}else if(zt||Bo(e,t,n,!1),s=(n&e.childLanes)!==0,zt||s){if(s=at,s!==null){if(i=n&-n,i&42)i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(i=i&(s.suspendedLanes|n)?0:i,i!==0&&i!==l.retryLane)throw l.retryLane=i,Ar(e,i),Qt(s,e,i),jp}o.data==="$?"||Mf(),t=wc(e,t,n)}else o.data==="$?"?(t.flags|=128,t.child=e.child,t=fb.bind(null,e),o._reactRetry=t,t=null):(e=l.treeContext,Ht=$e(o.nextSibling),Xt=t,Q=!0,Ye=null,nn=!1,e!==null&&(be[Te++]=Bi,be[Te++]=Mi,be[Te++]=Gr,Bi=e.id,Mi=e.overflow,Gr=t),t=bf(t,i.children),t.flags|=4096);return t}return r?(ar(),r=i.fallback,o=t.mode,l=e.child,c=l.sibling,i=gr(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&31457280,c!==null?r=gr(c,r):(r=Fr(r,o,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,o=e.child.memoizedState,o===null?o=Tc(n):(l=o.cachePool,l!==null?(c=Ct._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=ip(),o={baseLanes:o.baseLanes|n,cachePool:l}),r.memoizedState=o,r.childLanes=Ac(e,s,n),t.memoizedState=bc,i):(rr(t),n=e.child,e=n.sibling,n=gr(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function bf(e,t){return t=Tf({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Tf(e,t){return hv(e,t,0,null)}function wc(e,t,n){return _r(t,e.child,null,n),e=bf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bg(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),wf(e.return,t,n)}function Ec(e,t,n,i,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function Yp(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(qt(e,t,i.children,n),i=kt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bg(e,n,t);else if(e.tag===19)Bg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(ct(kt,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Vl(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ec(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Vl(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ec(t,!0,n,null,a);break;case"together":Ec(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nr|=t.lanes,!(n&t.childLanes))if(e!==null){if(Bo(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=gr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _h(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Kl(e)))}function QS(e,t,n){switch(t.tag){case 3:Ml(t,t.stateNode.containerInfo),sr(t,Ct,e.memoizedState.cache),Co();break;case 27:case 5:tf(t);break;case 4:Ml(t,t.stateNode.containerInfo);break;case 10:sr(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(rr(t),t.flags|=128,null):n&t.child.childLanes?Gp(e,t,n):(rr(t),e=Gi(e,t,n),e!==null?e.sibling:null);rr(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Bo(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return Yp(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ct(kt,kt.current),i)break;return null;case 22:case 23:return t.lanes=0,Pp(e,t,n);case 24:sr(t,Ct,e.memoizedState.cache)}return Gi(e,t,n)}function Fp(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)zt=!0;else{if(!_h(e,n)&&!(t.flags&128))return zt=!1,QS(e,t,n);zt=!!(e.flags&131072)}else zt=!1,Q&&t.flags&1048576&&Qy(t,Hl,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")nd(i)?(e=ta(i,e),t.tag=1,t=kg(null,t,i,e,n)):(t.tag=0,t=Sf(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===wh){t.tag=11,t=xg(null,t,i,e,n);break t}else if(r===Eh){t.tag=14,t=Dg(null,t,i,e,n);break t}}throw t=_c(i)||i,Error(N(306,t,""))}}return t;case 0:return Sf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=ta(i,t.pendingProps),kg(e,t,i,r,n);case 3:t:{if(Ml(t,t.stateNode.containerInfo),e===null)throw Error(N(387));var a=t.pendingProps;r=t.memoizedState,i=r.element,Nf(e,t),Ps(t,a,null,n);var s=t.memoizedState;if(a=s.cache,sr(t,Ct,a),a!==r.cache&&Ef(t,[Ct],n,!0),Vs(),a=s.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Rg(e,t,a,n);break t}else if(a!==i){i=Me(Error(N(424)),t),ro(i),t=Rg(e,t,a,n);break t}else for(Ht=$e(t.stateNode.containerInfo.firstChild),Xt=t,Q=!0,Ye=null,nn=!0,n=ep(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Co(),a===i){t=Gi(e,t,n);break t}qt(e,t,a,n)}t=t.child}return t;case 26:return Hs(e,t),e===null?(n=Zg(t.type,null,t.pendingProps,null))?t.memoizedState=n:Q||(n=t.type,e=t.pendingProps,i=tu(fr.current).createElement(n),i[Gt]=t,i[ne]=e,jt(i,n,e),Ut(i),t.stateNode=i):t.memoizedState=Zg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return tf(t),e===null&&Q&&(i=t.stateNode=kv(t.type,t.pendingProps,fr.current),Xt=t,nn=!0,Ht=$e(i.firstChild)),i=t.pendingProps.children,e!==null||Q?qt(e,t,i,n):t.child=_r(t,null,i,n),Hs(e,t),t.child;case 5:return e===null&&Q&&((r=i=Ht)&&(i=Db(i,t.type,t.pendingProps,nn),i!==null?(t.stateNode=i,Xt=t,Ht=$e(i.firstChild),nn=!1,r=!0):r=!1),r||Qr(t)),tf(t),r=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,qf(r,a)?i=null:s!==null&&qf(r,s)&&(t.flags|=32),t.memoizedState!==null&&(r=jh(e,t,GS,null,null,n),co._currentValue=r),Hs(e,t),qt(e,t,i,n),t.child;case 6:return e===null&&Q&&((e=n=Ht)&&(n=Ob(n,t.pendingProps,nn),n!==null?(t.stateNode=n,Xt=t,Ht=null,e=!0):e=!1),e||Qr(t)),null;case 13:return Gp(e,t,n);case 4:return Ml(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=_r(t,null,i,n):qt(e,t,i,n),t.child;case 11:return xg(e,t,t.type,t.pendingProps,n);case 7:return qt(e,t,t.pendingProps,n),t.child;case 8:return qt(e,t,t.pendingProps.children,n),t.child;case 12:return qt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,sr(t,t.type,i.value),qt(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,ea(t),r=Yt(r),i=i(r),t.flags|=1,qt(e,t,i,n),t.child;case 14:return Dg(e,t,t.type,t.pendingProps,n);case 15:return Vp(e,t,t.type,t.pendingProps,n);case 19:return Yp(e,t,n);case 22:return Pp(e,t,n);case 24:return ea(t),i=Yt(Ct),e===null?(r=Jh(),r===null&&(r=at,a=qh(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:i,cache:r},Wh(t),sr(t,Ct,r)):(e.lanes&n&&(Nf(e,t),Ps(t,null,null,n),Vs()),r=e.memoizedState,a=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),sr(t,Ct,i)):(i=a.cache,sr(t,Ct,i),i!==r.cache&&Ef(t,[Ct],n,!0))),qt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(N(156,t.tag))}var Af=Tn(null),ca=null,Ui=null;function sr(e,t,n){ct(Af,t._currentValue),t._currentValue=n}function Ji(e){e._currentValue=Af.current,Lt(Af)}function wf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ef(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){var s=r.child;a=a.firstContext;t:for(;a!==null;){var o=a;a=r;for(var l=0;l<t.length;l++)if(o.context===t[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),wf(a.return,n,e),i||(s=null);break t}a=o.next}}else if(r.tag===18){if(s=r.return,s===null)throw Error(N(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),wf(s,n,e),s=null}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===e){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}}function Bo(e,t,n,i){e=null;for(var r=t,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var s=r.alternate;if(s===null)throw Error(N(387));if(s=s.memoizedProps,s!==null){var o=r.type;me(r.pendingProps.value,s.value)||(e!==null?e.push(o):e=[o])}}else if(r===Bl.current){if(s=r.alternate,s===null)throw Error(N(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(co):e=[co])}r=r.return}e!==null&&Ef(t,e,n,i),t.flags|=262144}function Kl(e){for(e=e.firstContext;e!==null;){if(!me(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ea(e){ca=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Yt(e){return Kp(ca,e)}function tl(e,t){return ca===null&&ea(e),Kp(e,t)}function Kp(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ui===null){if(e===null)throw Error(N(308));Ui=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ui=Ui.next=t;return n}var ir=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function hr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function dr(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,dt&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=ql(e),Zy(e,null,n),t}return qu(e,i,t,n),ql(e)}function js(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194176)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,wy(e,n)}}function Nc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?r=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var xf=!1;function Vs(){if(xf){var e=Ja;if(e!==null)throw e}}function Ps(e,t,n,i){xf=!1;var r=e.updateQueue;ir=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==s&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(a!==null){var d=r.baseState;s=0,h=c=l=null,o=a;do{var g=o.lane&-536870913,m=g!==o.lane;if(m?($&g)===g:(i&g)===g){g!==0&&g===Za&&(xf=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var S=e,A=o;g=t;var O=n;switch(A.tag){case 1:if(S=A.payload,typeof S=="function"){d=S.call(O,d,g);break t}d=S;break t;case 3:S.flags=S.flags&-65537|128;case 0:if(S=A.payload,g=typeof S=="function"?S.call(O,d,g):S,g==null)break t;d=ot({},d,g);break t;case 2:ir=!0}}g=o.callback,g!==null&&(e.flags|=64,m&&(e.flags|=8192),m=r.callbacks,m===null?r.callbacks=[g]:m.push(g))}else m={lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=m,l=d):h=h.next=m,s|=g;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;m=o,o=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,a===null&&(r.shared.lanes=0),Nr|=s,e.lanes=s,e.memoizedState=d}}function $p(e,t){if(typeof e!="function")throw Error(N(191,e));e.call(t)}function Xp(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)$p(n[e],t)}function Mo(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create,s=n.inst;i=a(),s.destroy=i}n=n.next}while(n!==r)}}catch(o){it(t,t.return,o)}}function Er(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var a=r.next;i=a;do{if((i.tag&e)===e){var s=i.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,r=t;var l=n;try{o()}catch(c){it(r,l,c)}}}i=i.next}while(i!==a)}}catch(c){it(t,t.return,c)}}function Zp(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Xp(t,n)}catch(i){it(e,e.return,i)}}}function Qp(e,t,n){n.props=ta(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){it(e,t,i)}}function Hr(e,t){try{var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 26:case 27:case 5:var r=i;break;default:r=i}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(a){it(e,t,a)}}function oe(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){it(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){it(e,t,r)}else n.current=null}function _p(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){it(e,e.return,r)}}function Mg(e,t,n){try{var i=e.stateNode;Ab(i,e.type,n,t),i[ne]=t}catch(r){it(e,e.return,r)}}function Wp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function xc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Wp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Df(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yu));else if(i!==4&&i!==27&&(e=e.child,e!==null))for(Df(e,t,n),e=e.sibling;e!==null;)Df(e,t,n),e=e.sibling}function $l(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&i!==27&&(e=e.child,e!==null))for($l(e,t,n),e=e.sibling;e!==null;)$l(e,t,n),e=e.sibling}var Di=!1,yt=!1,Dc=!1,Ig=typeof WeakSet=="function"?WeakSet:Set,Mt=null,Ug=!1;function _S(e,t){if(e=e.containerInfo,zf=ru,e=Py(e),Bh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break t}var s=0,o=-1,l=-1,c=0,h=0,d=e,g=null;e:for(;;){for(var m;d!==n||r!==0&&d.nodeType!==3||(o=s+r),d!==a||i!==0&&d.nodeType!==3||(l=s+i),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)g=d,d=m;for(;;){if(d===e)break e;if(g===n&&++c===r&&(o=s),g===a&&++h===i&&(l=s),(m=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lf={focusedElem:e,selectionRange:n},ru=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){switch(t=Mt,a=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var S=ta(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(S,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(A){it(n,n.return,A)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Jf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Jf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(N(163))}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}return S=Ug,Ug=!1,S}function tv(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Nn(e,n),i&4&&Mo(5,n);break;case 1:if(Nn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(o){it(n,n.return,o)}else{var r=ta(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){it(n,n.return,o)}}i&64&&Zp(n),i&512&&Hr(n,n.return);break;case 3:if(Nn(e,n),i&64&&(i=n.updateQueue,i!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Xp(i,e)}catch(o){it(n,n.return,o)}}break;case 26:Nn(e,n),i&512&&Hr(n,n.return);break;case 27:case 5:Nn(e,n),t===null&&i&4&&_p(n),i&512&&Hr(n,n.return);break;case 12:Nn(e,n);break;case 13:Nn(e,n),i&4&&iv(e,n);break;case 22:if(r=n.memoizedState!==null||Di,!r){t=t!==null&&t.memoizedState!==null||yt;var a=Di,s=yt;Di=r,(yt=t)&&!s?Wi(e,n,(n.subtreeFlags&8772)!==0):Nn(e,n),Di=a,yt=s}i&512&&(n.memoizedProps.mode==="manual"?Hr(n,n.return):oe(n,n.return));break;default:Nn(e,n)}}function ev(e){var t=e.alternate;t!==null&&(e.alternate=null,ev(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&xh(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Nt=null,ae=!1;function En(e,t,n){for(n=n.child;n!==null;)nv(e,t,n),n=n.sibling}function nv(e,t,n){if(ce&&typeof ce.onCommitFiberUnmount=="function")try{ce.onCommitFiberUnmount(No,n)}catch{}switch(n.tag){case 26:yt||oe(n,t),En(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:yt||oe(n,t);var i=Nt,r=ae;for(Nt=n.stateNode,En(e,t,n),n=n.stateNode,t=n.attributes;t.length;)n.removeAttributeNode(t[0]);xh(n),Nt=i,ae=r;break;case 5:yt||oe(n,t);case 6:r=Nt;var a=ae;if(Nt=null,En(e,t,n),Nt=r,ae=a,Nt!==null)if(ae)try{e=Nt,i=n.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)}catch(s){it(n,t,s)}else try{Nt.removeChild(n.stateNode)}catch(s){it(n,t,s)}break;case 18:Nt!==null&&(ae?(t=Nt,n=n.stateNode,t.nodeType===8?Jc(t.parentNode,n):t.nodeType===1&&Jc(t,n),go(t)):Jc(Nt,n.stateNode));break;case 4:i=Nt,r=ae,Nt=n.stateNode.containerInfo,ae=!0,En(e,t,n),Nt=i,ae=r;break;case 0:case 11:case 14:case 15:yt||Er(2,n,t),yt||Er(4,n,t),En(e,t,n);break;case 1:yt||(oe(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Qp(n,t,i)),En(e,t,n);break;case 21:En(e,t,n);break;case 22:yt||oe(n,t),yt=(i=yt)||n.memoizedState!==null,En(e,t,n),yt=i;break;default:En(e,t,n)}}function iv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{go(e)}catch(n){it(t,t.return,n)}}function WS(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ig),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ig),t;default:throw Error(N(435,e.tag))}}function Oc(e,t){var n=WS(e);t.forEach(function(i){var r=hb.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function ye(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],a=e,s=t,o=s;t:for(;o!==null;){switch(o.tag){case 27:case 5:Nt=o.stateNode,ae=!1;break t;case 3:Nt=o.stateNode.containerInfo,ae=!0;break t;case 4:Nt=o.stateNode.containerInfo,ae=!0;break t}o=o.return}if(Nt===null)throw Error(N(160));nv(a,s,r),Nt=null,ae=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)rv(t,e),t=t.sibling}var Ge=null;function rv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ye(t,e),pe(e),i&4&&(Er(3,e,e.return),Mo(3,e),Er(5,e,e.return));break;case 1:ye(t,e),pe(e),i&512&&(yt||n===null||oe(n,n.return)),i&64&&Di&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=Ge;if(ye(t,e),pe(e),i&512&&(yt||n===null||oe(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":a=r.getElementsByTagName("title")[0],(!a||a[to]||a[Gt]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),jt(a,i,n),a[Gt]=e,Ut(a),i=a;break t;case"link":var s=_g("link","href",r).get(i+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break e}}a=r.createElement(i),jt(a,i,n),r.head.appendChild(a);break;case"meta":if(s=_g("meta","content",r).get(i+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break e}}a=r.createElement(i),jt(a,i,n),r.head.appendChild(a);break;default:throw Error(N(468,i))}a[Gt]=e,Ut(a),i=a}e.stateNode=i}else Wg(r,e.type,e.stateNode);else e.stateNode=Qg(r,i,e.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?Wg(r,e.type,e.stateNode):Qg(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Mg(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(i&4&&e.alternate===null){r=e.stateNode,a=e.memoizedProps;try{for(var l=r.firstChild;l;){var c=l.nextSibling,h=l.nodeName;l[to]||h==="HEAD"||h==="BODY"||h==="SCRIPT"||h==="STYLE"||h==="LINK"&&l.rel.toLowerCase()==="stylesheet"||r.removeChild(l),l=c}for(var d=e.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);jt(r,d,a),r[Gt]=e,r[ne]=a}catch(S){it(e,e.return,S)}}case 5:if(ye(t,e),pe(e),i&512&&(yt||n===null||oe(n,n.return)),e.flags&32){r=e.stateNode;try{$a(r,"")}catch(S){it(e,e.return,S)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Mg(e,r,n!==null?n.memoizedProps:r)),i&1024&&(Dc=!0);break;case 6:if(ye(t,e),pe(e),i&4){if(e.stateNode===null)throw Error(N(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(S){it(e,e.return,S)}}break;case 3:if(wl=null,r=Ge,Ge=eu(t.containerInfo),ye(t,e),Ge=r,pe(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{go(t.containerInfo)}catch(S){it(e,e.return,S)}Dc&&(Dc=!1,av(e));break;case 4:i=Ge,Ge=eu(e.stateNode.containerInfo),ye(t,e),pe(e),Ge=i;break;case 12:ye(t,e),pe(e);break;case 13:ye(t,e),pe(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ad=yn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Oc(e,i)));break;case 22:if(i&512&&(yt||n===null||oe(n,n.return)),l=e.memoizedState!==null,c=n!==null&&n.memoizedState!==null,h=Di,d=yt,Di=h||l,yt=d||c,ye(t,e),yt=d,Di=h,pe(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,i&8192&&(t._visibility=l?t._visibility&-2:t._visibility|1,l&&(t=Di||yt,n===null||c||t||va(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(n=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(n===null){c=n=t;try{if(r=c.stateNode,l)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{s=c.stateNode,o=c.memoizedProps.style;var m=o!=null&&o.hasOwnProperty("display")?o.display:null;s.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(S){it(c,c.return,S)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(S){it(c,c.return,S)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Oc(e,n))));break;case 19:ye(t,e),pe(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Oc(e,i)));break;case 21:break;default:ye(t,e),pe(e)}}function pe(e){var t=e.flags;if(t&2){try{if(e.tag!==27){t:{for(var n=e.return;n!==null;){if(Wp(n)){var i=n;break t}n=n.return}throw Error(N(160))}switch(i.tag){case 27:var r=i.stateNode,a=xc(e);$l(e,a,r);break;case 5:var s=i.stateNode;i.flags&32&&($a(s,""),i.flags&=-33);var o=xc(e);$l(e,o,s);break;case 3:case 4:var l=i.stateNode.containerInfo,c=xc(e);Df(e,c,l);break;default:throw Error(N(161))}}}catch(h){it(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function av(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;av(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Nn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)tv(e,t.alternate,t),t=t.sibling}function va(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Er(4,t,t.return),va(t);break;case 1:oe(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Qp(t,t.return,n),va(t);break;case 26:case 27:case 5:oe(t,t.return),va(t);break;case 22:oe(t,t.return),t.memoizedState===null&&va(t);break;default:va(t)}e=e.sibling}}function Wi(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(r,a,n),Mo(4,a);break;case 1:if(Wi(r,a,n),i=a,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){it(i,i.return,c)}if(i=a,r=i.updateQueue,r!==null){var o=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(l!==null)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)$p(l[r],o)}catch(c){it(i,i.return,c)}}n&&s&64&&Zp(a),Hr(a,a.return);break;case 26:case 27:case 5:Wi(r,a,n),n&&i===null&&s&4&&_p(a),Hr(a,a.return);break;case 12:Wi(r,a,n);break;case 13:Wi(r,a,n),n&&s&4&&iv(r,a);break;case 22:a.memoizedState===null&&Wi(r,a,n),Hr(a,a.return);break;default:Wi(r,a,n)}t=t.sibling}}function td(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ko(n))}function ed(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ko(e))}function Qi(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sv(e,t,n,i),t=t.sibling}function sv(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Qi(e,t,n,i),r&2048&&Mo(9,t);break;case 3:Qi(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ko(e)));break;case 12:if(r&2048){Qi(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){it(t,t.return,l)}}else Qi(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,t.memoizedState!==null?a._visibility&4?Qi(e,t,n,i):Gs(e,t):a._visibility&4?Qi(e,t,n,i):(a._visibility|=4,Sa(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&td(t.alternate,t);break;case 24:Qi(e,t,n,i),r&2048&&ed(t.alternate,t);break;default:Qi(e,t,n,i)}}function Sa(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=e,s=t,o=n,l=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:Sa(a,s,o,l,r),Mo(8,s);break;case 23:break;case 22:var h=s.stateNode;s.memoizedState!==null?h._visibility&4?Sa(a,s,o,l,r):Gs(a,s):(h._visibility|=4,Sa(a,s,o,l,r)),r&&c&2048&&td(s.alternate,s);break;case 24:Sa(a,s,o,l,r),r&&c&2048&&ed(s.alternate,s);break;default:Sa(a,s,o,l,r)}t=t.sibling}}function Gs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Gs(n,i),r&2048&&td(i.alternate,i);break;case 24:Gs(n,i),r&2048&&ed(i.alternate,i);break;default:Gs(n,i)}t=t.sibling}}var ks=8192;function ha(e){if(e.subtreeFlags&ks)for(e=e.child;e!==null;)ov(e),e=e.sibling}function ov(e){switch(e.tag){case 26:ha(e),e.flags&ks&&e.memoizedState!==null&&jb(Ge,e.memoizedState,e.memoizedProps);break;case 5:ha(e);break;case 3:case 4:var t=Ge;Ge=eu(e.stateNode.containerInfo),ha(e),Ge=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ks,ks=16777216,ha(e),ks=t):ha(e));break;default:ha(e)}}function lv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ts(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Mt=i,cv(i,e)}lv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)uv(e),e=e.sibling}function uv(e){switch(e.tag){case 0:case 11:case 15:Ts(e),e.flags&2048&&Er(9,e,e.return);break;case 3:Ts(e);break;case 12:Ts(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,bl(e)):Ts(e);break;default:Ts(e)}}function bl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Mt=i,cv(i,e)}lv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Er(8,t,t.return),bl(t);break;case 22:n=t.stateNode,n._visibility&4&&(n._visibility&=-5,bl(t));break;default:bl(t)}e=e.sibling}}function cv(e,t){for(;Mt!==null;){var n=Mt;switch(n.tag){case 0:case 11:case 15:Er(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ko(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Mt=i;else t:for(n=e;Mt!==null;){i=Mt;var r=i.sibling,a=i.return;if(ev(i),i===n){Mt=null;break t}if(r!==null){r.return=a,Mt=r;break t}Mt=a}}}function tb(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ie(e,t,n,i){return new tb(e,t,n,i)}function nd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gr(e,t){var n=e.alternate;return n===null?(n=Ie(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&31457280,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function fv(e,t){e.flags&=31457282;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Tl(e,t,n,i,r,a){var s=0;if(i=e,typeof e=="function")nd(e)&&(s=1);else if(typeof e=="string")s=Jb(e,n,mn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Aa:return Fr(n.children,r,a,t);case hy:s=8,r|=24;break;case Xc:return e=Ie(12,n,t,r|2),e.elementType=Xc,e.lanes=a,e;case Zc:return e=Ie(13,n,t,r),e.elementType=Zc,e.lanes=a,e;case Qc:return e=Ie(19,n,t,r),e.elementType=Qc,e.lanes=a,e;case gy:return hv(n,r,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N1:case Ri:s=10;break t;case dy:s=9;break t;case wh:s=11;break t;case Eh:s=14;break t;case nr:s=16,i=null;break t}s=29,n=Error(N(130,e===null?"null":typeof e,"")),i=null}return t=Ie(s,n,t,r),t.elementType=e,t.type=i,t.lanes=a,t}function Fr(e,t,n,i){return e=Ie(7,e,i,t),e.lanes=n,e}function hv(e,t,n,i){e=Ie(22,e,i,t),e.elementType=gy,e.lanes=n;var r={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var a=r._current;if(a===null)throw Error(N(456));if(!(r._pendingVisibility&2)){var s=Ar(a,2);s!==null&&(r._pendingVisibility|=2,Qt(s,a,2))}},attach:function(){var a=r._current;if(a===null)throw Error(N(456));if(r._pendingVisibility&2){var s=Ar(a,2);s!==null&&(r._pendingVisibility&=-3,Qt(s,a,2))}}};return e.stateNode=r,e}function Cc(e,t,n){return e=Ie(6,e,null,t),e.lanes=n,e}function kc(e,t,n){return t=Ie(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xn(e){e.flags|=4}function zg(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Mv(t)){if(t=Je.current,t!==null&&(($&4194176)===$?pn!==null:($&62914560)!==$&&!($&536870912)||t!==pn))throw Ls=ff,_y;e.flags|=8192}}function el(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ty():536870912,e.lanes|=t,_a|=t)}function As(e,t){if(!Q)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&31457280,i|=r.flags&31457280,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function eb(e,t,n){var i=t.pendingProps;switch(zh(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return ft(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ji(Ct),Fa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ss(t)?xn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ye!==null&&(Bf(Ye),Ye=null))),ft(t),null;case 26:return n=t.memoizedState,e===null?(xn(t),n!==null?(ft(t),zg(t,n)):(ft(t),t.flags&=-16777217)):n?n!==e.memoizedState?(xn(t),ft(t),zg(t,n)):(ft(t),t.flags&=-16777217):(e.memoizedProps!==i&&xn(t),ft(t),t.flags&=-16777217),null;case 27:Il(t),n=fr.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&xn(t);else{if(!i){if(t.stateNode===null)throw Error(N(166));return ft(t),null}e=mn.current,Ss(t)?hg(t):(e=kv(r,i,n),t.stateNode=e,xn(t))}return ft(t),null;case 5:if(Il(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&xn(t);else{if(!i){if(t.stateNode===null)throw Error(N(166));return ft(t),null}if(e=mn.current,Ss(t))hg(t);else{switch(r=tu(fr.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[Gt]=t,e[ne]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(jt(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&xn(t)}}return ft(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&xn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(N(166));if(e=fr.current,Ss(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=Xt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Gt]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Dv(e.nodeValue,n)),e||Qr(t)}else e=tu(e).createTextNode(i),e[Gt]=t,t.stateNode=e}return ft(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ss(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(N(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(N(317));r[Gt]=t}else Co(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ft(t),r=!1}else Ye!==null&&(Bf(Ye),Ye=null),r=!0;if(!r)return t.flags&256?(Ii(t),t):(Ii(t),null)}if(Ii(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var a=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),ft(t),null;case 4:return Fa(),e===null&&ld(t.stateNode.containerInfo),ft(t),null;case 10:return Ji(t.type),ft(t),null;case 19:if(Lt(kt),r=t.memoizedState,r===null)return ft(t),null;if(i=(t.flags&128)!==0,a=r.rendering,a===null)if(i)As(r,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Vl(e),a!==null){for(t.flags|=128,As(r,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)fv(n,e),n=n.sibling;return ct(kt,kt.current&1|2),t.child}e=e.sibling}r.tail!==null&&yn()>Xl&&(t.flags|=128,i=!0,As(r,!1),t.lanes=4194304)}else{if(!i)if(e=Vl(a),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),As(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Q)return ft(t),null}else 2*yn()-r.renderingStartTime>Xl&&n!==536870912&&(t.flags|=128,i=!0,As(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=yn(),t.sibling=null,e=kt.current,ct(kt,i?e&1|2:e&1),t):(ft(t),null);case 22:case 23:return Ii(t),Lh(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),n=t.updateQueue,n!==null&&el(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Lt(Yr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ji(Ct),ft(t),null;case 25:return null}throw Error(N(156,t.tag))}function nb(e,t){switch(zh(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ji(Ct),Fa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Il(t),null;case 13:if(Ii(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Lt(kt),null;case 4:return Fa(),null;case 10:return Ji(t.type),null;case 22:case 23:return Ii(t),Lh(),e!==null&&Lt(Yr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ji(Ct),null;case 25:return null;default:return null}}function dv(e,t){switch(zh(t),t.tag){case 3:Ji(Ct),Fa();break;case 26:case 27:case 5:Il(t);break;case 4:Fa();break;case 13:Ii(t);break;case 19:Lt(kt);break;case 10:Ji(t.type);break;case 22:case 23:Ii(t),Lh(),e!==null&&Lt(Yr);break;case 24:Ji(Ct)}}var ib={getCacheForType:function(e){var t=Yt(Ct),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},rb=typeof WeakMap=="function"?WeakMap:Map,dt=0,at=null,Y=null,$=0,rt=0,se=null,Oi=!1,ds=!1,id=!1,Yi=0,pt=0,Nr=0,Kr=0,rd=0,Ue=0,_a=0,Ys=null,rn=null,Of=!1,ad=0,Xl=1/0,Zl=null,mr=null,nl=!1,qr=null,Fs=0,Cf=0,kf=null,Ks=0,Rf=null;function he(){if(dt&2&&$!==0)return $&-$;if(H.T!==null){var e=Za;return e!==0?e:od()}return Ny()}function gv(){Ue===0&&(Ue=!($&536870912)||Q?by():536870912);var e=Je.current;return e!==null&&(e.flags|=32),Ue}function Qt(e,t,n){(e===at&&rt===2||e.cancelPendingCommit!==null)&&(Wa(e,0),Ci(e,$,Ue,!1)),Do(e,n),(!(dt&2)||e!==at)&&(e===at&&(!(dt&2)&&(Kr|=n),pt===4&&Ci(e,$,Ue,!1)),An(e))}function mv(e,t,n){if(dt&6)throw Error(N(327));var i=!n&&(t&60)===0&&(t&e.expiredLanes)===0||xo(e,t),r=i?ob(e,t):Rc(e,t,!0),a=i;do{if(r===0){ds&&!i&&Ci(e,t,0,!1);break}else if(r===6)Ci(e,t,0,!Oi);else{if(n=e.current.alternate,a&&!ab(n)){r=Rc(e,t,!1),a=!1;continue}if(r===2){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;t:{var o=e;r=Ys;var l=o.current.memoizedState.isDehydrated;if(l&&(Wa(o,s).flags|=256),s=Rc(o,s,!1),s!==2){if(id&&!l){o.errorRecoveryDisabledLanes|=a,Kr|=a,r=4;break t}a=rn,rn=r,a!==null&&Bf(a)}r=s}if(a=!1,r!==2)continue}}if(r===1){Wa(e,0),Ci(e,t,0,!0);break}t:{switch(i=e,r){case 0:case 1:throw Error(N(345));case 4:if((t&4194176)===t){Ci(i,t,Ue,!Oi);break t}break;case 2:rn=null;break;case 3:case 5:break;default:throw Error(N(329))}if(i.finishedWork=n,i.finishedLanes=t,(t&62914560)===t&&(a=ad+300-yn(),10<a)){if(Ci(i,t,Ue,!Oi),Mu(i,0)!==0)break t;i.timeoutHandle=Cv(Lg.bind(null,i,n,rn,Zl,Of,t,Ue,Kr,_a,Oi,2,-0,0),a);break t}Lg(i,n,rn,Zl,Of,t,Ue,Kr,_a,Oi,0,-0,0)}}break}while(!0);An(e)}function Bf(e){rn===null?rn=e:rn.push.apply(rn,e)}function Lg(e,t,n,i,r,a,s,o,l,c,h,d,g){var m=t.subtreeFlags;if((m&8192||(m&16785408)===16785408)&&(uo={stylesheets:null,count:0,unsuspend:Hb},ov(t),t=Vb(),t!==null)){e.cancelPendingCommit=t(Jg.bind(null,e,n,i,r,s,o,l,1,d,g)),Ci(e,a,s,!c);return}Jg(e,n,i,r,s,o,l,h,d,g)}function ab(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!me(a(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ci(e,t,n,i){t&=~rd,t&=~Kr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-fe(r),s=1<<a;i[a]=-1,r&=~s}n!==0&&Ay(e,n,t)}function Pu(){return dt&6?!0:(Io(0),!1)}function sd(){if(Y!==null){if(rt===0)var e=Y.return;else e=Y,Ui=ca=null,Gh(e),qa=null,ao=0,e=Y;for(;e!==null;)dv(e.alternate,e),e=e.return;Y=null}}function Wa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Eb(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),sd(),at=e,Y=n=gr(e.current,null),$=t,rt=0,se=null,Oi=!1,ds=xo(e,t),id=!1,_a=Ue=rd=Kr=Nr=pt=0,rn=Ys=null,Of=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-fe(i),a=1<<r;t|=e[r],i&=~a}return Yi=t,Lu(),n}function yv(e,t){V=null,H.H=Sn,t===zs?(t=mg(),rt=3):t===_y?(t=mg(),rt=4):rt=t===jp?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,se=t,Y===null&&(pt=1,Fl(e,Me(t,e.current)))}function pv(){var e=H.H;return H.H=Sn,e===null?Sn:e}function vv(){var e=H.A;return H.A=ib,e}function Mf(){pt=4,Oi||($&4194176)!==$&&Je.current!==null||(ds=!0),!(Nr&134217727)&&!(Kr&134217727)||at===null||Ci(at,$,Ue,!1)}function Rc(e,t,n){var i=dt;dt|=2;var r=pv(),a=vv();(at!==e||$!==t)&&(Zl=null,Wa(e,t)),t=!1;var s=pt;t:do try{if(rt!==0&&Y!==null){var o=Y,l=se;switch(rt){case 8:sd(),s=6;break t;case 3:case 2:case 6:Je.current===null&&(t=!0);var c=rt;if(rt=0,se=null,Ba(e,o,l,c),n&&ds){s=0;break t}break;default:c=rt,rt=0,se=null,Ba(e,o,l,c)}}sb(),s=pt;break}catch(h){yv(e,h)}while(!0);return t&&e.shellSuspendCounter++,Ui=ca=null,dt=i,H.H=r,H.A=a,Y===null&&(at=null,$=0,Lu()),s}function sb(){for(;Y!==null;)Sv(Y)}function ob(e,t){var n=dt;dt|=2;var i=pv(),r=vv();at!==e||$!==t?(Zl=null,Xl=yn()+500,Wa(e,t)):ds=xo(e,t);t:do try{if(rt!==0&&Y!==null){t=Y;var a=se;e:switch(rt){case 1:rt=0,se=null,Ba(e,t,a,1);break;case 2:if(gg(a)){rt=0,se=null,qg(t);break}t=function(){rt===2&&at===e&&(rt=7),An(e)},a.then(t,t);break t;case 3:rt=7;break t;case 4:rt=5;break t;case 7:gg(a)?(rt=0,se=null,qg(t)):(rt=0,se=null,Ba(e,t,a,7));break;case 5:var s=null;switch(Y.tag){case 26:s=Y.memoizedState;case 5:case 27:var o=Y;if(!s||Mv(s)){rt=0,se=null;var l=o.sibling;if(l!==null)Y=l;else{var c=o.return;c!==null?(Y=c,Gu(c)):Y=null}break e}}rt=0,se=null,Ba(e,t,a,5);break;case 6:rt=0,se=null,Ba(e,t,a,6);break;case 8:sd(),pt=6;break t;default:throw Error(N(462))}}lb();break}catch(h){yv(e,h)}while(!0);return Ui=ca=null,H.H=i,H.A=r,dt=n,Y!==null?0:(at=null,$=0,Lu(),pt)}function lb(){for(;Y!==null&&!k1();)Sv(Y)}function Sv(e){var t=Fp(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,t===null?Gu(e):Y=t}function qg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Cg(n,t,t.pendingProps,t.type,void 0,$);break;case 11:t=Cg(n,t,t.pendingProps,t.type.render,t.ref,$);break;case 5:Gh(t);default:dv(n,t),t=Y=fv(t,Yi),t=Fp(n,t,Yi)}e.memoizedProps=e.pendingProps,t===null?Gu(e):Y=t}function Ba(e,t,n,i){Ui=ca=null,Gh(t),qa=null,ao=0;var r=t.return;try{if(ZS(e,r,t,n,$)){pt=1,Fl(e,Me(n,e.current)),Y=null;return}}catch(a){if(r!==null)throw Y=r,a;pt=1,Fl(e,Me(n,e.current)),Y=null;return}t.flags&32768?(Q||i===1?e=!0:ds||$&536870912?e=!1:(Oi=e=!0,(i===2||i===3||i===6)&&(i=Je.current,i!==null&&i.tag===13&&(i.flags|=16384))),bv(t,e)):Gu(t)}function Gu(e){var t=e;do{if(t.flags&32768){bv(t,Oi);return}e=t.return;var n=eb(t.alternate,t,Yi);if(n!==null){Y=n;return}if(t=t.sibling,t!==null){Y=t;return}Y=t=e}while(t!==null);pt===0&&(pt=5)}function bv(e,t){do{var n=nb(e.alternate,e);if(n!==null){n.flags&=32767,Y=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Y=e;return}Y=e=n}while(e!==null);pt=6,Y=null}function Jg(e,t,n,i,r,a,s,o,l,c){var h=H.T,d=st.p;try{st.p=2,H.T=null,ub(e,t,n,i,d,r,a,s,o,l,c)}finally{H.T=h,st.p=d}}function ub(e,t,n,i,r,a,s,o){do Va();while(qr!==null);if(dt&6)throw Error(N(327));var l=e.finishedWork;if(i=e.finishedLanes,l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var c=l.lanes|l.childLanes;if(c|=Mh,j1(e,i,c,a,s,o),e===at&&(Y=at=null,$=0),!(l.subtreeFlags&10256)&&!(l.flags&10256)||nl||(nl=!0,Cf=c,kf=n,db(Ul,function(){return Va(),null})),n=(l.flags&15990)!==0,l.subtreeFlags&15990||n?(n=H.T,H.T=null,a=st.p,st.p=2,s=dt,dt|=4,_S(e,l),rv(l,e),MS(Lf,e.containerInfo),ru=!!zf,Lf=zf=null,e.current=l,tv(e,l.alternate,l),R1(),dt=s,st.p=a,H.T=n):e.current=l,nl?(nl=!1,qr=e,Fs=i):Tv(e,c),c=e.pendingLanes,c===0&&(mr=null),z1(l.stateNode),An(e),t!==null)for(r=e.onRecoverableError,l=0;l<t.length;l++)c=t[l],r(c.value,{componentStack:c.stack});return Fs&3&&Va(),c=e.pendingLanes,i&4194218&&c&42?e===Rf?Ks++:(Ks=0,Rf=e):Ks=0,Io(0),null}function Tv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ko(t)))}function Va(){if(qr!==null){var e=qr,t=Cf;Cf=0;var n=Ey(Fs),i=H.T,r=st.p;try{if(st.p=32>n?32:n,H.T=null,qr===null)var a=!1;else{n=kf,kf=null;var s=qr,o=Fs;if(qr=null,Fs=0,dt&6)throw Error(N(331));var l=dt;if(dt|=4,uv(s.current),sv(s,s.current,o,n),dt=l,Io(0,!1),ce&&typeof ce.onPostCommitFiberRoot=="function")try{ce.onPostCommitFiberRoot(No,s)}catch{}a=!0}return a}finally{st.p=r,H.T=i,Tv(e,t)}}return!1}function Hg(e,t,n){t=Me(n,t),t=vf(e.stateNode,t,2),e=dr(e,t,2),e!==null&&(Do(e,2),An(e))}function it(e,t,n){if(e.tag===3)Hg(e,e,n);else for(;t!==null;){if(t.tag===3){Hg(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(mr===null||!mr.has(i))){e=Me(n,e),n=Jp(2),i=dr(t,n,2),i!==null&&(Hp(n,i,t,e),Do(i,2),An(i));break}}t=t.return}}function Bc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new rb;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(id=!0,r.add(n),e=cb.bind(null,e,t,n),t.then(e,e))}function cb(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,at===e&&($&n)===n&&(pt===4||pt===3&&($&62914560)===$&&300>yn()-ad?!(dt&2)&&Wa(e,0):rd|=n,_a===$&&(_a=0)),An(e)}function Av(e,t){t===0&&(t=Ty()),e=Ar(e,t),e!==null&&(Do(e,t),An(e))}function fb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Av(e,n)}function hb(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(N(314))}i!==null&&i.delete(t),Av(e,n)}function db(e,t){return Nh(e,t)}var Ql=null,ba=null,If=!1,_l=!1,Mc=!1,$r=0;function An(e){e!==ba&&e.next===null&&(ba===null?Ql=ba=e:ba=ba.next=e),_l=!0,If||(If=!0,mb(gb))}function Io(e,t){if(!Mc&&_l){Mc=!0;do for(var n=!1,i=Ql;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var a=0;else{var s=i.suspendedLanes,o=i.pingedLanes;a=(1<<31-fe(42|e)+1)-1,a&=r&~(s&~o),a=a&201326677?a&201326677|1:a?a|2:0}a!==0&&(n=!0,jg(i,a))}else a=$,a=Mu(i,i===at?a:0),!(a&3)||xo(i,a)||(n=!0,jg(i,a));i=i.next}while(n);Mc=!1}}function gb(){_l=If=!1;var e=0;$r!==0&&(wb()&&(e=$r),$r=0);for(var t=yn(),n=null,i=Ql;i!==null;){var r=i.next,a=wv(i,t);a===0?(i.next=null,n===null?Ql=r:n.next=r,r===null&&(ba=n)):(n=i,(e!==0||a&3)&&(_l=!0)),i=r}Io(e)}function wv(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var s=31-fe(a),o=1<<s,l=r[s];l===-1?(!(o&n)||o&i)&&(r[s]=H1(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(t=at,n=$,n=Mu(e,e===t?n:0),i=e.callbackNode,n===0||e===t&&rt===2||e.cancelPendingCommit!==null)return i!==null&&i!==null&&uc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||xo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&uc(i),Ey(n)){case 2:case 8:n=vy;break;case 32:n=Ul;break;case 268435456:n=Sy;break;default:n=Ul}return i=Ev.bind(null,e),n=Nh(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&uc(i),e.callbackPriority=2,e.callbackNode=null,2}function Ev(e,t){var n=e.callbackNode;if(Va()&&e.callbackNode!==n)return null;var i=$;return i=Mu(e,e===at?i:0),i===0?null:(mv(e,i,t),wv(e,yn()),e.callbackNode!=null&&e.callbackNode===n?Ev.bind(null,e):null)}function jg(e,t){if(Va())return null;mv(e,t,!0)}function mb(e){Nb(function(){dt&6?Nh(py,e):e()})}function od(){return $r===0&&($r=by()),$r}function Vg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:gl(""+e)}function Pg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function yb(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var a=Vg((r[ne]||null).action),s=i.submitter;s&&(t=(t=s[ne]||null)?Vg(t.formAction):s.getAttribute("formAction"),t!==null&&(a=t,s=null));var o=new Iu("action","action",null,i,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if($r!==0){var l=s?Pg(r,s):new FormData(r);yf(n,{pending:!0,data:l,method:r.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?Pg(r,s):new FormData(r),yf(n,{pending:!0,data:l,method:r.method,action:a},a,l))},currentTarget:r}]})}}for(var Ic=0;Ic<cg.length;Ic++){var Uc=cg[Ic],pb=Uc.toLowerCase(),vb=Uc[0].toUpperCase()+Uc.slice(1);_e(pb,"on"+vb)}_e(Yy,"onAnimationEnd");_e(Fy,"onAnimationIteration");_e(Ky,"onAnimationStart");_e("dblclick","onDoubleClick");_e("focusin","onFocus");_e("focusout","onBlur");_e(US,"onTransitionRun");_e(zS,"onTransitionStart");_e(LS,"onTransitionCancel");_e($y,"onTransitionEnd");Ka("onMouseEnter",["mouseout","mouseover"]);Ka("onMouseLeave",["mouseout","mouseover"]);Ka("onPointerEnter",["pointerout","pointerover"]);Ka("onPointerLeave",["pointerout","pointerover"]);aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oo));function Nv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var a=void 0;if(t)for(var s=i.length-1;0<=s;s--){var o=i[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=c;try{a(r)}catch(h){Yl(h)}r.currentTarget=null,a=l}else for(s=0;s<i.length;s++){if(o=i[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=c;try{a(r)}catch(h){Yl(h)}r.currentTarget=null,a=l}}}}function F(e,t){var n=t[nf];n===void 0&&(n=t[nf]=new Set);var i=e+"__bubble";n.has(i)||(xv(t,e,2,!1),n.add(i))}function zc(e,t,n){var i=0;t&&(i|=4),xv(n,e,i,t)}var il="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[il]){e[il]=!0,xy.forEach(function(n){n!=="selectionchange"&&(Sb.has(n)||zc(n,!1,e),zc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[il]||(t[il]=!0,zc("selectionchange",!1,t))}}function xv(e,t,n,i){switch(qv(t)){case 2:var r=Yb;break;case 8:r=Fb;break;default:r=hd}n=r.bind(null,t,n,e),r=void 0,!of||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Lc(e,t,n,i,r){var a=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;s=s.return}for(;o!==null;){if(s=Jr(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){i=a=s;continue t}o=o.parentNode}}i=i.return}Iy(function(){var c=a,h=Oh(n),d=[];t:{var g=Xy.get(e);if(g!==void 0){var m=Iu,S=e;switch(e){case"keypress":if(yl(n)===0)break t;case"keydown":case"keyup":m=hS;break;case"focusin":S="focus",m=gc;break;case"focusout":S="blur",m=gc;break;case"beforeblur":case"afterblur":m=gc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=tS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=mS;break;case Yy:case Fy:case Ky:m=iS;break;case $y:m=pS;break;case"scroll":case"scrollend":m=_1;break;case"wheel":m=SS;break;case"copy":case"cut":case"paste":m=aS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=tg;break;case"toggle":case"beforetoggle":m=TS}var A=(t&4)!==0,O=!A&&(e==="scroll"||e==="scrollend"),p=A?g!==null?g+"Capture":null:g;A=[];for(var y=c,v;y!==null;){var w=y;if(v=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||v===null||p===null||(w=eo(y,p),w!=null&&A.push(lo(y,w,v))),O)break;y=y.return}0<A.length&&(g=new m(g,S,null,n,h),d.push({event:g,listeners:A}))}}if(!(t&7)){t:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&n!==sf&&(S=n.relatedTarget||n.fromElement)&&(Jr(S)||S[fs]))break t;if((m||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,m?(S=n.relatedTarget||n.toElement,m=c,S=S?Jr(S):null,S!==null&&(O=cs(S),A=S.tag,S!==O||A!==5&&A!==27&&A!==6)&&(S=null)):(m=null,S=c),m!==S)){if(A=_d,w="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(A=tg,w="onPointerLeave",p="onPointerEnter",y="pointer"),O=m==null?g:Cs(m),v=S==null?g:Cs(S),g=new A(w,y+"leave",m,n,h),g.target=O,g.relatedTarget=v,w=null,Jr(h)===c&&(A=new A(p,y+"enter",S,n,h),A.target=v,A.relatedTarget=O,w=A),O=w,m&&S)e:{for(A=m,p=S,y=0,v=A;v;v=da(v))y++;for(v=0,w=p;w;w=da(w))v++;for(;0<y-v;)A=da(A),y--;for(;0<v-y;)p=da(p),v--;for(;y--;){if(A===p||p!==null&&A===p.alternate)break e;A=da(A),p=da(p)}A=null}else A=null;m!==null&&Gg(d,g,m,A,!1),S!==null&&O!==null&&Gg(d,O,S,A,!0)}}t:{if(g=c?Cs(c):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var x=rg;else if(ig(g))if(Hy)x=RS;else{x=CS;var B=OS}else m=g.nodeName,!m||m.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?c&&Dh(c.elementType)&&(x=rg):x=kS;if(x&&(x=x(e,c))){Jy(d,x,n,h);break t}B&&B(e,g,c),e==="focusout"&&c&&g.type==="number"&&c.memoizedProps.value!=null&&af(g,"number",g.value)}switch(B=c?Cs(c):window,e){case"focusin":(ig(B)||B.contentEditable==="true")&&(xa=B,lf=c,Us=null);break;case"focusout":Us=lf=xa=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,ug(d,n,h);break;case"selectionchange":if(IS)break;case"keydown":case"keyup":ug(d,n,h)}var C;if(Rh)t:{switch(e){case"compositionstart":var R="onCompositionStart";break t;case"compositionend":R="onCompositionEnd";break t;case"compositionupdate":R="onCompositionUpdate";break t}R=void 0}else Na?Ly(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(zy&&n.locale!=="ko"&&(Na||R!=="onCompositionStart"?R==="onCompositionEnd"&&Na&&(C=Uy()):(ur=h,Ch="value"in ur?ur.value:ur.textContent,Na=!0)),B=Wl(c,R),0<B.length&&(R=new Wd(R,e,null,n,h),d.push({event:R,listeners:B}),C?R.data=C:(C=qy(n),C!==null&&(R.data=C)))),(C=wS?ES(e,n):NS(e,n))&&(R=Wl(c,"onBeforeInput"),0<R.length&&(B=new Wd("onBeforeInput","beforeinput",null,n,h),d.push({event:B,listeners:R}),B.data=C)),yb(d,e,c,n,h)}Nv(d,t)})}function lo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wl(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,a=r.stateNode;r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=eo(e,n),r!=null&&i.unshift(lo(e,r,a)),r=eo(e,t),r!=null&&i.push(lo(e,r,a))),e=e.return}return i}function da(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gg(e,t,n,i,r){for(var a=t._reactName,s=[];n!==null&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===i)break;o!==5&&o!==26&&o!==27||c===null||(l=c,r?(c=eo(n,a),c!=null&&s.unshift(lo(n,c,l))):r||(c=eo(n,a),c!=null&&s.push(lo(n,c,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var bb=/\r\n?/g,Tb=/\u0000|\uFFFD/g;function Yg(e){return(typeof e=="string"?e:""+e).replace(bb,`
`).replace(Tb,"")}function Dv(e,t){return t=Yg(t),Yg(e)===t}function Yu(){}function tt(e,t,n,i,r,a){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||$a(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&$a(e,""+i);break;case"className":Xo(e,"class",i);break;case"tabIndex":Xo(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Xo(e,n,i);break;case"style":My(e,i,a);break;case"data":if(t!=="object"){Xo(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=gl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&tt(e,t,"name",r.name,r,null),tt(e,t,"formEncType",r.formEncType,r,null),tt(e,t,"formMethod",r.formMethod,r,null),tt(e,t,"formTarget",r.formTarget,r,null)):(tt(e,t,"encType",r.encType,r,null),tt(e,t,"method",r.method,r,null),tt(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=gl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Yu);break;case"onScroll":i!=null&&F("scroll",e);break;case"onScrollEnd":i!=null&&F("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(N(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(N(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=gl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":F("beforetoggle",e),F("toggle",e),dl(e,"popover",i);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":dl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Z1.get(n)||n,dl(e,n,i))}}function Uf(e,t,n,i,r,a){switch(n){case"style":My(e,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(N(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(N(60));e.innerHTML=n}}break;case"children":typeof i=="string"?$a(e,i):(typeof i=="number"||typeof i=="bigint")&&$a(e,""+i);break;case"onScroll":i!=null&&F("scroll",e);break;case"onScrollEnd":i!=null&&F("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dy.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),a=e[ne]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,r),typeof i=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):dl(e,n,i)}}}function jt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":F("error",e),F("load",e);var i=!1,r=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(N(137,t));default:tt(e,t,a,s,n,null)}}r&&tt(e,t,"srcSet",n.srcSet,n,null),i&&tt(e,t,"src",n.src,n,null);return;case"input":F("invalid",e);var o=a=s=r=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":r=h;break;case"type":s=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":a=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(N(137,t));break;default:tt(e,t,i,h,n,null)}}ky(e,a,o,l,c,s,r,!1),zl(e);return;case"select":F("invalid",e),i=s=a=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":i=o;default:tt(e,t,r,o,n,null)}t=a,n=s,e.multiple=!!i,t!=null?za(e,!!i,t,!1):n!=null&&za(e,!!i,n,!0);return;case"textarea":F("invalid",e),a=r=i=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":i=o;break;case"defaultValue":r=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(N(91));break;default:tt(e,t,s,o,n,null)}By(e,i,r,a),zl(e);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:tt(e,t,l,i,n,null)}return;case"dialog":F("cancel",e),F("close",e);break;case"iframe":case"object":F("load",e);break;case"video":case"audio":for(i=0;i<oo.length;i++)F(oo[i],e);break;case"image":F("error",e),F("load",e);break;case"details":F("toggle",e);break;case"embed":case"source":case"link":F("error",e),F("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(N(137,t));default:tt(e,t,c,i,n,null)}return;default:if(Dh(t)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&Uf(e,t,h,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&tt(e,t,o,i,n,null))}function Ab(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,s=null,o=null,l=null,c=null,h=null;for(m in n){var d=n[m];if(n.hasOwnProperty(m)&&d!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=d;default:i.hasOwnProperty(m)||tt(e,t,m,null,i,d)}}for(var g in i){var m=i[g];if(d=n[g],i.hasOwnProperty(g)&&(m!=null||d!=null))switch(g){case"type":a=m;break;case"name":r=m;break;case"checked":c=m;break;case"defaultChecked":h=m;break;case"value":s=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(N(137,t));break;default:m!==d&&tt(e,t,g,m,i,d)}}rf(e,s,o,l,c,h,a,r);return;case"select":m=s=o=g=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":m=l;default:i.hasOwnProperty(a)||tt(e,t,a,null,i,l)}for(r in i)if(a=i[r],l=n[r],i.hasOwnProperty(r)&&(a!=null||l!=null))switch(r){case"value":g=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&tt(e,t,r,a,i,l)}t=o,n=s,i=m,g!=null?za(e,!!n,g,!1):!!i!=!!n&&(t!=null?za(e,!!n,t,!0):za(e,!!n,n?[]:"",!1));return;case"textarea":m=g=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:tt(e,t,o,null,i,r)}for(s in i)if(r=i[s],a=n[s],i.hasOwnProperty(s)&&(r!=null||a!=null))switch(s){case"value":g=r;break;case"defaultValue":m=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(N(91));break;default:r!==a&&tt(e,t,s,r,i,a)}Ry(e,g,m);return;case"option":for(var S in n)if(g=n[S],n.hasOwnProperty(S)&&g!=null&&!i.hasOwnProperty(S))switch(S){case"selected":e.selected=!1;break;default:tt(e,t,S,null,i,g)}for(l in i)if(g=i[l],m=n[l],i.hasOwnProperty(l)&&g!==m&&(g!=null||m!=null))switch(l){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:tt(e,t,l,g,i,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in n)g=n[A],n.hasOwnProperty(A)&&g!=null&&!i.hasOwnProperty(A)&&tt(e,t,A,null,i,g);for(c in i)if(g=i[c],m=n[c],i.hasOwnProperty(c)&&g!==m&&(g!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(N(137,t));break;default:tt(e,t,c,g,i,m)}return;default:if(Dh(t)){for(var O in n)g=n[O],n.hasOwnProperty(O)&&g!==void 0&&!i.hasOwnProperty(O)&&Uf(e,t,O,void 0,i,g);for(h in i)g=i[h],m=n[h],!i.hasOwnProperty(h)||g===m||g===void 0&&m===void 0||Uf(e,t,h,g,i,m);return}}for(var p in n)g=n[p],n.hasOwnProperty(p)&&g!=null&&!i.hasOwnProperty(p)&&tt(e,t,p,null,i,g);for(d in i)g=i[d],m=n[d],!i.hasOwnProperty(d)||g===m||g==null&&m==null||tt(e,t,d,g,i,m)}var zf=null,Lf=null;function tu(e){return e.nodeType===9?e:e.ownerDocument}function Fg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ov(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function qf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qc=null;function wb(){var e=window.event;return e&&e.type==="popstate"?e===qc?!1:(qc=e,!0):(qc=null,!1)}var Cv=typeof setTimeout=="function"?setTimeout:void 0,Eb=typeof clearTimeout=="function"?clearTimeout:void 0,Kg=typeof Promise=="function"?Promise:void 0,Nb=typeof queueMicrotask=="function"?queueMicrotask:typeof Kg<"u"?function(e){return Kg.resolve(null).then(e).catch(xb)}:Cv;function xb(e){setTimeout(function(){throw e})}function Jc(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){e.removeChild(r),go(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);go(t)}function Jf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Jf(n),xh(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Db(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[to])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(r.href==null?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=$e(e.nextSibling),e===null)break}return null}function Ob(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=$e(e.nextSibling),e===null))return null;return e}function $e(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function $g(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function kv(e,t,n){switch(t=tu(n),e){case"html":if(e=t.documentElement,!e)throw Error(N(452));return e;case"head":if(e=t.head,!e)throw Error(N(453));return e;case"body":if(e=t.body,!e)throw Error(N(454));return e;default:throw Error(N(451))}}var He=new Map,Xg=new Set;function eu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var $i=st.d;st.d={f:Cb,r:kb,D:Rb,C:Bb,L:Mb,m:Ib,X:zb,S:Ub,M:Lb};function Cb(){var e=$i.f(),t=Pu();return e||t}function kb(e){var t=hs(e);t!==null&&t.tag===5&&t.type==="form"?kp(t):$i.r(e)}var gs=typeof document>"u"?null:document;function Rv(e,t,n){var i=gs;if(i&&typeof t=="string"&&t){var r=Be(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Xg.has(r)||(Xg.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),jt(t,"link",e),Ut(t),i.head.appendChild(t)))}}function Rb(e){$i.D(e),Rv("dns-prefetch",e,null)}function Bb(e,t){$i.C(e,t),Rv("preconnect",e,t)}function Mb(e,t,n){$i.L(e,t,n);var i=gs;if(i&&e&&t){var r='link[rel="preload"][as="'+Be(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Be(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Be(n.imageSizes)+'"]')):r+='[href="'+Be(e)+'"]';var a=r;switch(t){case"style":a=ts(e);break;case"script":a=ms(e)}He.has(a)||(e=ot({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),He.set(a,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(Uo(a))||t==="script"&&i.querySelector(zo(a))||(t=i.createElement("link"),jt(t,"link",e),Ut(t),i.head.appendChild(t)))}}function Ib(e,t){$i.m(e,t);var n=gs;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Be(i)+'"][href="'+Be(e)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=ms(e)}if(!He.has(a)&&(e=ot({rel:"modulepreload",href:e},t),He.set(a,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(zo(a)))return}i=n.createElement("link"),jt(i,"link",e),Ut(i),n.head.appendChild(i)}}}function Ub(e,t,n){$i.S(e,t,n);var i=gs;if(i&&e){var r=Ua(i).hoistableStyles,a=ts(e);t=t||"default";var s=r.get(a);if(!s){var o={loading:0,preload:null};if(s=i.querySelector(Uo(a)))o.loading=5;else{e=ot({rel:"stylesheet",href:e,"data-precedence":t},n),(n=He.get(a))&&ud(e,n);var l=s=i.createElement("link");Ut(l),jt(l,"link",e),l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Al(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:o},r.set(a,s)}}}function zb(e,t){$i.X(e,t);var n=gs;if(n&&e){var i=Ua(n).hoistableScripts,r=ms(e),a=i.get(r);a||(a=n.querySelector(zo(r)),a||(e=ot({src:e,async:!0},t),(t=He.get(r))&&cd(e,t),a=n.createElement("script"),Ut(a),jt(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function Lb(e,t){$i.M(e,t);var n=gs;if(n&&e){var i=Ua(n).hoistableScripts,r=ms(e),a=i.get(r);a||(a=n.querySelector(zo(r)),a||(e=ot({src:e,async:!0,type:"module"},t),(t=He.get(r))&&cd(e,t),a=n.createElement("script"),Ut(a),jt(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function Zg(e,t,n,i){var r=(r=fr.current)?eu(r):null;if(!r)throw Error(N(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ts(n.href),n=Ua(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ts(n.href);var a=Ua(r).hoistableStyles,s=a.get(e);if(s||(r=r.ownerDocument||r,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=r.querySelector(Uo(e)))&&!a._p&&(s.instance=a,s.state.loading=5),He.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},He.set(e,n),a||qb(r,e,n,s.state))),t&&i===null)throw Error(N(528,""));return s}if(t&&i!==null)throw Error(N(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ms(n),n=Ua(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(N(444,e))}}function ts(e){return'href="'+Be(e)+'"'}function Uo(e){return'link[rel="stylesheet"]['+e+"]"}function Bv(e){return ot({},e,{"data-precedence":e.precedence,precedence:null})}function qb(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),jt(t,"link",n),Ut(t),e.head.appendChild(t))}function ms(e){return'[src="'+Be(e)+'"]'}function zo(e){return"script[async]"+e}function Qg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Be(n.href)+'"]');if(i)return t.instance=i,Ut(i),i;var r=ot({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Ut(i),jt(i,"style",r),Al(i,n.precedence,e),t.instance=i;case"stylesheet":r=ts(n.href);var a=e.querySelector(Uo(r));if(a)return t.state.loading|=4,t.instance=a,Ut(a),a;i=Bv(n),(r=He.get(r))&&ud(i,r),a=(e.ownerDocument||e).createElement("link"),Ut(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),jt(a,"link",i),t.state.loading|=4,Al(a,n.precedence,e),t.instance=a;case"script":return a=ms(n.src),(r=e.querySelector(zo(a)))?(t.instance=r,Ut(r),r):(i=n,(r=He.get(a))&&(i=ot({},n),cd(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Ut(r),jt(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(N(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Al(i,n.precedence,e));return t.instance}function Al(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,s=0;s<i.length;s++){var o=i[s];if(o.dataset.precedence===t)a=o;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ud(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function cd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var wl=null;function _g(e,t,n){if(wl===null){var i=new Map,r=wl=new Map;r.set(n,i)}else r=wl,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[to]||a[Gt]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(t)||"";s=e+s;var o=i.get(s);o?o.push(a):i.set(s,[a])}}return i}function Wg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Jb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Mv(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var uo=null;function Hb(){}function jb(e,t,n){if(uo===null)throw Error(N(475));var i=uo;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=ts(n.href),a=e.querySelector(Uo(r));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=nu.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=a,Ut(a);return}a=e.ownerDocument||e,n=Bv(n),(r=He.get(r))&&ud(n,r),a=a.createElement("link"),Ut(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),jt(a,"link",n),t.instance=a}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=nu.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function Vb(){if(uo===null)throw Error(N(475));var e=uo;return e.stylesheets&&e.count===0&&Hf(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Hf(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function nu(){if(this.count--,this.count===0){if(this.stylesheets)Hf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var iu=null;function Hf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,iu=new Map,t.forEach(Pb,e),iu=null,nu.call(e))}function Pb(e,t){if(!(t.state.loading&4)){var n=iu.get(e);if(n)var i=n.get(null);else{n=new Map,iu.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var s=r[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}r=t.instance,s=r.getAttribute("data-precedence"),a=n.get(s)||i,a===i&&n.set(null,r),n.set(s,r),this.count++,i=nu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var co={$$typeof:Ri,Provider:null,Consumer:null,_currentValue:Pr,_currentValue2:Pr,_threadCount:0};function Gb(e,t,n,i,r,a,s,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cc(0),this.hiddenUpdates=cc(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Iv(e,t,n,i,r,a,s,o,l,c,h,d){return e=new Gb(e,t,n,s,o,l,c,d),t=1,a===!0&&(t|=24),a=Ie(3,null,null,t),e.current=a,a.stateNode=e,t=qh(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},Wh(a),e}function Uv(e){return e?(e=Ca,e):Ca}function zv(e,t,n,i,r,a){r=Uv(r),i.context===null?i.context=r:i.pendingContext=r,i=hr(t),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=dr(e,i,t),n!==null&&(Qt(n,e,t),js(n,e,t))}function tm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fd(e,t){tm(e,t),(e=e.alternate)&&tm(e,t)}function Lv(e){if(e.tag===13){var t=Ar(e,67108864);t!==null&&Qt(t,e,67108864),fd(e,67108864)}}var ru=!0;function Yb(e,t,n,i){var r=H.T;H.T=null;var a=st.p;try{st.p=2,hd(e,t,n,i)}finally{st.p=a,H.T=r}}function Fb(e,t,n,i){var r=H.T;H.T=null;var a=st.p;try{st.p=8,hd(e,t,n,i)}finally{st.p=a,H.T=r}}function hd(e,t,n,i){if(ru){var r=jf(i);if(r===null)Lc(e,t,i,au,n),em(e,i);else if($b(r,e,t,n,i))i.stopPropagation();else if(em(e,i),t&4&&-1<Kb.indexOf(e)){for(;r!==null;){var a=hs(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Ir(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-fe(s);o.entanglements[1]|=l,s&=~l}An(a),!(dt&6)&&(Xl=yn()+500,Io(0))}}break;case 13:o=Ar(a,2),o!==null&&Qt(o,a,2),Pu(),fd(a,2)}if(a=jf(i),a===null&&Lc(e,t,i,au,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else Lc(e,t,i,null,n)}}function jf(e){return e=Oh(e),dd(e)}var au=null;function dd(e){if(au=null,e=Jr(e),e!==null){var t=cs(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=my(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return au=e,null}function qv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(B1()){case py:return 2;case vy:return 8;case Ul:case M1:return 32;case Sy:return 268435456;default:return 32}default:return 32}}var Vf=!1,yr=null,pr=null,vr=null,fo=new Map,ho=new Map,or=[],Kb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function em(e,t){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":fo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(t.pointerId)}}function ws(e,t,n,i,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},t!==null&&(t=hs(t),t!==null&&Lv(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function $b(e,t,n,i,r){switch(t){case"focusin":return yr=ws(yr,e,t,n,i,r),!0;case"dragenter":return pr=ws(pr,e,t,n,i,r),!0;case"mouseover":return vr=ws(vr,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return fo.set(a,ws(fo.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,ho.set(a,ws(ho.get(a)||null,e,t,n,i,r)),!0}return!1}function Jv(e){var t=Jr(e.target);if(t!==null){var n=cs(t);if(n!==null){if(t=n.tag,t===13){if(t=my(n),t!==null){e.blockedOn=t,V1(e.priority,function(){if(n.tag===13){var i=he(),r=Ar(n,i);r!==null&&Qt(r,n,i),fd(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function El(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);sf=i,n.target.dispatchEvent(i),sf=null}else return t=hs(n),t!==null&&Lv(t),e.blockedOn=n,!1;t.shift()}return!0}function nm(e,t,n){El(e)&&n.delete(t)}function Xb(){Vf=!1,yr!==null&&El(yr)&&(yr=null),pr!==null&&El(pr)&&(pr=null),vr!==null&&El(vr)&&(vr=null),fo.forEach(nm),ho.forEach(nm)}function rl(e,t){e.blockedOn===t&&(e.blockedOn=null,Vf||(Vf=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,Xb)))}var al=null;function im(e){al!==e&&(al=e,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,function(){al===e&&(al=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(dd(i||n)===null)continue;break}var a=hs(n);a!==null&&(e.splice(t,3),t-=3,yf(a,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function go(e){function t(l){return rl(l,e)}yr!==null&&rl(yr,e),pr!==null&&rl(pr,e),vr!==null&&rl(vr,e),fo.forEach(t),ho.forEach(t);for(var n=0;n<or.length;n++){var i=or[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<or.length&&(n=or[0],n.blockedOn===null);)Jv(n),n.blockedOn===null&&or.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],s=r[ne]||null;if(typeof a=="function")s||im(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(r=a,s=a[ne]||null)o=s.formAction;else if(dd(r)!==null)continue}else o=s.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),im(n)}}}function gd(e){this._internalRoot=e}Fu.prototype.render=gd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));var n=t.current,i=he();zv(n,i,e,t,null,null)};Fu.prototype.unmount=gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&Va(),zv(e.current,2,null,e,null,null),Pu(),t[fs]=null}};function Fu(e){this._internalRoot=e}Fu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ny();e={blockedOn:null,target:e,priority:t};for(var n=0;n<or.length&&t!==0&&t<or[n].priority;n++);or.splice(n,0,e),n===0&&Jv(e)}};var rm=cy.version;if(rm!=="19.0.0")throw Error(N(527,rm,"19.0.0"));st.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=C1(t),e=e!==null?yy(e):null,e=e===null?null:e.stateNode,e};var Zb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:H,findFiberByHostInstance:Jr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{No=sl.inject(Zb),ce=sl}catch{}}Ru.createRoot=function(e,t){if(!fy(e))throw Error(N(299));var n=!1,i="",r=zp,a=Lp,s=qp,o=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=Iv(e,1,!1,null,null,n,i,r,a,s,o,null),e[fs]=t.current,ld(e.nodeType===8?e.parentNode:e),new gd(t)};Ru.hydrateRoot=function(e,t,n){if(!fy(e))throw Error(N(299));var i=!1,r="",a=zp,s=Lp,o=qp,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=Iv(e,1,!0,t,n??null,i,r,a,s,o,l,c),t.context=Uv(null),n=t.current,i=he(),r=hr(i),r.callback=null,dr(n,r,i),t.current.lanes=i,Do(t,i),An(t),e[fs]=t.current,ld(e),new Fu(t)};Ru.version="19.0.0";function Hv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hv)}catch(e){console.error(e)}}Hv(),Qm.exports=Ru;var Qb=Qm.exports;const _b=$m(Qb);var W;(function(e){e[e.Canceled=1]="Canceled",e[e.Unknown=2]="Unknown",e[e.InvalidArgument=3]="InvalidArgument",e[e.DeadlineExceeded=4]="DeadlineExceeded",e[e.NotFound=5]="NotFound",e[e.AlreadyExists=6]="AlreadyExists",e[e.PermissionDenied=7]="PermissionDenied",e[e.ResourceExhausted=8]="ResourceExhausted",e[e.FailedPrecondition=9]="FailedPrecondition",e[e.Aborted=10]="Aborted",e[e.OutOfRange=11]="OutOfRange",e[e.Unimplemented=12]="Unimplemented",e[e.Internal=13]="Internal",e[e.Unavailable=14]="Unavailable",e[e.DataLoss=15]="DataLoss",e[e.Unauthenticated=16]="Unauthenticated"})(W||(W={}));function am(e){const t=W[e];return typeof t!="string"?e.toString():t[0].toLowerCase()+t.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}class lt extends Error{constructor(t,n=W.Unknown,i,r,a){super(Wb(t,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=t,this.code=n,this.metadata=new Headers(i??{}),this.details=r??[],this.cause=a}static from(t,n=W.Unknown){return t instanceof lt?t:t instanceof Error?t.name=="AbortError"?new lt(t.message,W.Canceled):new lt(t.message,n,void 0,void 0,t):new lt(String(t),n,void 0,void 0,t)}static[Symbol.hasInstance](t){return t instanceof Error?Object.getPrototypeOf(t)===lt.prototype?!0:t.name==="ConnectError"&&"code"in t&&typeof t.code=="number"&&"metadata"in t&&"details"in t&&Array.isArray(t.details)&&"rawMessage"in t&&typeof t.rawMessage=="string"&&"cause"in t:!1}findDetails(t){const n="typeName"in t?{findMessage:r=>r===t.typeName?t:void 0}:t,i=[];for(const r of this.details){if("getType"in r){n.findMessage(r.getType().typeName)&&i.push(r);continue}const a=n.findMessage(r.type);if(a)try{i.push(a.fromBinary(r.value))}catch{}}return i}}function Wb(e,t){return e.length?`[${am(t)}] ${e}`:`[${am(t)}]`}function vt(e,t){if(!e)throw new Error(t)}const tT=34028234663852886e22,eT=-34028234663852886e22,nT=4294967295,iT=2147483647,rT=-2147483648;function Nl(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>iT||e<rT)throw new Error("invalid int 32: "+e)}function Pf(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>nT||e<0)throw new Error("invalid uint 32: "+e)}function jv(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>tT||e<eT))throw new Error("invalid float 32: "+e)}const Vv=Symbol("@bufbuild/protobuf/enum-type");function aT(e){const t=e[Vv];return vt(t,"missing enum type on enum object"),t}function Pv(e,t,n,i){e[Vv]=Gv(t,n.map(r=>({no:r.no,name:r.name,localName:e[r.no]})))}function Gv(e,t,n){const i=Object.create(null),r=Object.create(null),a=[];for(const s of t){const o=Yv(s);a.push(o),i[s.name]=o,r[s.no]=o}return{typeName:e,values:a,findName(s){return i[s]},findNumber(s){return r[s]}}}function sT(e,t,n){const i={};for(const r of t){const a=Yv(r);i[a.localName]=a.no,i[a.no]=a.localName}return Pv(i,e,t),i}function Yv(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class k{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,n){const i=this.getType(),r=i.runtime.bin,a=r.makeReadOptions(n);return r.readMessage(this,a.readerFactory(t),t.byteLength,a),this}fromJson(t,n){const i=this.getType(),r=i.runtime.json,a=r.makeReadOptions(n);return r.readMessage(i,t,a,this),this}fromJsonString(t,n){let i;try{i=JSON.parse(t)}catch(r){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${r instanceof Error?r.message:String(r)}`)}return this.fromJson(i,n)}toBinary(t){const n=this.getType(),i=n.runtime.bin,r=i.makeWriteOptions(t),a=r.writerFactory();return i.writeMessage(this,a,r),a.finish()}toJson(t){const n=this.getType(),i=n.runtime.json,r=i.makeWriteOptions(t);return i.writeMessage(this,r)}toJsonString(t){var n;const i=this.toJson(t);return JSON.stringify(i,null,(n=t==null?void 0:t.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function oT(e,t,n,i){var r;const a=(r=i==null?void 0:i.localName)!==null&&r!==void 0?r:t.substring(t.lastIndexOf(".")+1),s={[a]:function(o){e.util.initFields(this),e.util.initPartial(o,this)}}[a];return Object.setPrototypeOf(s.prototype,new k),Object.assign(s,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary(o,l){return new s().fromBinary(o,l)},fromJson(o,l){return new s().fromJson(o,l)},fromJsonString(o,l){return new s().fromJsonString(o,l)},equals(o,l){return e.util.equals(s,o,l)}}),s}function lT(){let e=0,t=0;for(let i=0;i<28;i+=7){let r=this.buf[this.pos++];if(e|=(r&127)<<i,!(r&128))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(n&15)<<28,t=(n&112)>>4,!(n&128))return this.assertBounds(),[e,t];for(let i=3;i<=31;i+=7){let r=this.buf[this.pos++];if(t|=(r&127)<<i,!(r&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function Hc(e,t,n){for(let a=0;a<28;a=a+7){const s=e>>>a,o=!(!(s>>>7)&&t==0),l=(o?s|128:s)&255;if(n.push(l),!o)return}const i=e>>>28&15|(t&7)<<4,r=!!(t>>3);if(n.push((r?i|128:i)&255),!!r){for(let a=3;a<31;a=a+7){const s=t>>>a,o=!!(s>>>7),l=(o?s|128:s)&255;if(n.push(l),!o)return}n.push(t>>>31&1)}}const xl=4294967296;function sm(e){const t=e[0]==="-";t&&(e=e.slice(1));const n=1e6;let i=0,r=0;function a(s,o){const l=Number(e.slice(s,o));r*=n,i=i*n+l,i>=xl&&(r=r+(i/xl|0),i=i%xl)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),t?Kv(i,r):md(i,r)}function uT(e,t){let n=md(e,t);const i=n.hi&2147483648;i&&(n=Kv(n.lo,n.hi));const r=Fv(n.lo,n.hi);return i?"-"+r:r}function Fv(e,t){if({lo:e,hi:t}=cT(e,t),t<=2097151)return String(xl*t+e);const n=e&16777215,i=(e>>>24|t<<8)&16777215,r=t>>16&65535;let a=n+i*6777216+r*6710656,s=i+r*8147497,o=r*2;const l=1e7;return a>=l&&(s+=Math.floor(a/l),a%=l),s>=l&&(o+=Math.floor(s/l),s%=l),o.toString()+om(s)+om(a)}function cT(e,t){return{lo:e>>>0,hi:t>>>0}}function md(e,t){return{lo:e|0,hi:t|0}}function Kv(e,t){return t=~t,e?e=~e+1:t+=1,md(e,t)}const om=e=>{const t=String(e);return"0000000".slice(t.length)+t};function lm(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let n=0;n<9;n++)t.push(e&127|128),e=e>>7;t.push(1)}}function fT(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let n=5;e&128&&n<10;n++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}var um={};function hT(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof process!="object"||typeof um!="object"||um.BUF_BIGINT_DISABLE!=="1")){const r=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),s=BigInt("0"),o=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>a||c<r)throw new Error(`int64 invalid: ${l}`);return c},uParse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>o||c<s)throw new Error(`uint64 invalid: ${l}`);return c},enc(l){return e.setBigInt64(0,this.parse(l),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(l){return e.setBigInt64(0,this.uParse(l),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(l,c){return e.setInt32(0,l,!0),e.setInt32(4,c,!0),e.getBigInt64(0,!0)},uDec(l,c){return e.setInt32(0,l,!0),e.setInt32(4,c,!0),e.getBigUint64(0,!0)}}}const n=r=>vt(/^-?[0-9]+$/.test(r),`int64 invalid: ${r}`),i=r=>vt(/^[0-9]+$/.test(r),`uint64 invalid: ${r}`);return{zero:"0",supported:!1,parse(r){return typeof r!="string"&&(r=r.toString()),n(r),r},uParse(r){return typeof r!="string"&&(r=r.toString()),i(r),r},enc(r){return typeof r!="string"&&(r=r.toString()),n(r),sm(r)},uEnc(r){return typeof r!="string"&&(r=r.toString()),i(r),sm(r)},dec(r,a){return uT(r,a)},uDec(r,a){return Fv(r,a)}}}const ut=hT();var E;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(E||(E={}));var xr;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"})(xr||(xr={}));function _i(e,t,n){if(t===n)return!0;if(e==E.BYTES){if(!(t instanceof Uint8Array)||!(n instanceof Uint8Array)||t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==n[i])return!1;return!0}switch(e){case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return t==n}return!1}function es(e,t){switch(e){case E.BOOL:return!1;case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return t==0?ut.zero:"0";case E.DOUBLE:case E.FLOAT:return 0;case E.BYTES:return new Uint8Array(0);case E.STRING:return"";default:return 0}}function $v(e,t){switch(e){case E.BOOL:return t===!1;case E.STRING:return t==="";case E.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}var wt;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(wt||(wt={}));class dT{constructor(t){this.stack=[],this.textEncoder=t??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let r=0;r<this.chunks.length;r++)t+=this.chunks[r].length;let n=new Uint8Array(t),i=0;for(let r=0;r<this.chunks.length;r++)n.set(this.chunks[r],i),i+=this.chunks[r].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,n){return this.uint32((t<<3|n)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(Pf(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return Nl(t),lm(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let n=this.textEncoder.encode(t);return this.uint32(n.byteLength),this.raw(n)}float(t){jv(t);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,t,!0),this.raw(n)}double(t){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),this.raw(n)}fixed32(t){Pf(t);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t,!0),this.raw(n)}sfixed32(t){Nl(t);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),this.raw(n)}sint32(t){return Nl(t),t=(t<<1^t>>31)>>>0,lm(t,this.buf),this}sfixed64(t){let n=new Uint8Array(8),i=new DataView(n.buffer),r=ut.enc(t);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}fixed64(t){let n=new Uint8Array(8),i=new DataView(n.buffer),r=ut.uEnc(t);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}int64(t){let n=ut.enc(t);return Hc(n.lo,n.hi,this.buf),this}sint64(t){let n=ut.enc(t),i=n.hi>>31,r=n.lo<<1^i,a=(n.hi<<1|n.lo>>>31)^i;return Hc(r,a,this.buf),this}uint64(t){let n=ut.uEnc(t);return Hc(n.lo,n.hi,this.buf),this}}class gT{constructor(t,n){this.varint64=lT,this.uint32=fT,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=n??new TextDecoder}tag(){let t=this.uint32(),n=t>>>3,i=t&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(t,n){let i=this.pos;switch(t){case wt.Varint:for(;this.buf[this.pos++]&128;);break;case wt.Bit64:this.pos+=4;case wt.Bit32:this.pos+=4;break;case wt.LengthDelimited:let r=this.uint32();this.pos+=r;break;case wt.StartGroup:for(;;){const[a,s]=this.tag();if(s===wt.EndGroup){if(n!==void 0&&a!==n)throw new Error("invalid end group tag");break}this.skip(s,a)}break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return ut.dec(...this.varint64())}uint64(){return ut.uDec(...this.varint64())}sint64(){let[t,n]=this.varint64(),i=-(t&1);return t=(t>>>1|(n&1)<<31)^i,n=n>>>1^i,ut.dec(t,n)}bool(){let[t,n]=this.varint64();return t!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return ut.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return ut.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),n=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(n,n+t)}string(){return this.textDecoder.decode(this.bytes())}}function mT(e,t,n,i){let r;return{typeName:t,extendee:n,get field(){if(!r){const a=typeof i=="function"?i():i;a.name=t.split(".").pop(),a.jsonName=`[${t}]`,r=e.util.newFieldList([a]).list()[0]}return r},runtime:e}}function Xv(e){const t=e.field.localName,n=Object.create(null);return n[t]=yT(e),[n,()=>n[t]]}function yT(e){const t=e.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return es(t.T,t.L);case"message":const n=t.T,i=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(i):i;case"map":throw"map fields are not allowed to be extensions"}}function pT(e,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.no)return[e[n]];return[]}return e.filter(n=>n.no===t.no)}let ki="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Ku=[];for(let e=0;e<ki.length;e++)Ku[ki[e].charCodeAt(0)]=e;Ku[45]=ki.indexOf("+");Ku[95]=ki.indexOf("/");const yd={dec(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let n=new Uint8Array(t),i=0,r=0,a,s=0;for(let o=0;o<e.length;o++){if(a=Ku[e.charCodeAt(o)],a===void 0)switch(e[o]){case"=":r=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(r){case 0:s=a,r=1;break;case 1:n[i++]=s<<2|(a&48)>>4,s=a,r=2;break;case 2:n[i++]=(s&15)<<4|(a&60)>>2,s=a,r=3;break;case 3:n[i++]=(s&3)<<6|a,r=0;break}}if(r==1)throw Error("invalid base64 string.");return n.subarray(0,i)},enc(e){let t="",n=0,i,r=0;for(let a=0;a<e.length;a++)switch(i=e[a],n){case 0:t+=ki[i>>2],r=(i&3)<<4,n=1;break;case 1:t+=ki[r|i>>4],r=(i&15)<<2,n=2;break;case 2:t+=ki[r|i>>6],t+=ki[i&63],n=0;break}return n&&(t+=ki[r],t+="=",n==1&&(t+="=")),t}};function vT(e,t,n){Qv(t,e);const i=t.runtime.bin.makeReadOptions(n),r=pT(e.getType().runtime.bin.listUnknownFields(e),t.field),[a,s]=Xv(t);for(const o of r)t.runtime.bin.readField(a,i.readerFactory(o.data),t.field,o.wireType,i);return s()}function ST(e,t,n,i){Qv(t,e);const r=t.runtime.bin.makeReadOptions(i),a=t.runtime.bin.makeWriteOptions(i);if(Zv(e,t)){const c=e.getType().runtime.bin.listUnknownFields(e).filter(h=>h.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const h of c)e.getType().runtime.bin.onUnknownField(e,h.no,h.wireType,h.data)}const s=a.writerFactory();let o=t.field;!o.opt&&!o.repeated&&(o.kind=="enum"||o.kind=="scalar")&&(o=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(o,n,s,a);const l=r.readerFactory(s.finish());for(;l.pos<l.len;){const[c,h]=l.tag(),d=l.skip(h,c);e.getType().runtime.bin.onUnknownField(e,c,h,d)}}function Zv(e,t){const n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find(i=>i.no==t.field.no)}function Qv(e,t){vt(e.extendee.typeName==t.getType().typeName,`extension ${e.typeName} can only be applied to message ${e.extendee.typeName}`)}function _v(e,t){const n=e.localName;if(e.repeated)return t[n].length>0;if(e.oneof)return t[e.oneof.localName].case===n;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?t[n]!==void 0:e.kind=="enum"?t[n]!==e.T.values[0].no:!$v(e.T,t[n]);case"message":return t[n]!==void 0;case"map":return Object.keys(t[n]).length>0}}function cm(e,t){const n=e.localName,i=!e.opt&&!e.req;if(e.repeated)t[n]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[n]={};break;case"enum":t[n]=i?e.T.values[0].no:void 0;break;case"scalar":t[n]=i?es(e.T,e.L):void 0;break;case"message":t[n]=void 0;break}}function Xr(e,t){if(e===null||typeof e!="object"||!Object.getOwnPropertyNames(k.prototype).every(i=>i in e&&typeof e[i]=="function"))return!1;const n=e.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:t===void 0?!0:n.typeName==t.typeName}function Wv(e,t){return Xr(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}E.DOUBLE,E.FLOAT,E.INT64,E.UINT64,E.INT32,E.UINT32,E.BOOL,E.STRING,E.BYTES;const fm={ignoreUnknownFields:!1},hm={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function bT(e){return e?Object.assign(Object.assign({},fm),e):fm}function TT(e){return e?Object.assign(Object.assign({},hm),e):hm}const su=Symbol(),Dl=Symbol();function AT(){return{makeReadOptions:bT,makeWriteOptions:TT,readMessage(e,t,n,i){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message ${e.typeName} from JSON: ${en(t)}`);i=i??new e;const r=new Map,a=n.typeRegistry;for(const[s,o]of Object.entries(t)){const l=e.fields.findJsonName(s);if(l){if(l.oneof){if(o===null&&l.kind=="scalar")continue;const c=r.get(l.oneof);if(c!==void 0)throw new Error(`cannot decode message ${e.typeName} from JSON: multiple keys for oneof "${l.oneof.name}" present: "${c}", "${s}"`);r.set(l.oneof,s)}dm(i,o,l,n,e)}else{let c=!1;if(a!=null&&a.findExtension&&s.startsWith("[")&&s.endsWith("]")){const h=a.findExtension(s.substring(1,s.length-1));if(h&&h.extendee.typeName==e.typeName){c=!0;const[d,g]=Xv(h);dm(d,o,h.field,n,h),ST(i,h,g(),n)}}if(!c&&!n.ignoreUnknownFields)throw new Error(`cannot decode message ${e.typeName} from JSON: key "${s}" is unknown`)}}return i},writeMessage(e,t){const n=e.getType(),i={};let r;try{for(r of n.fields.byNumber()){if(!_v(r,e)){if(r.req)throw"required field not set";if(!t.emitDefaultValues||!ET(r))continue}const s=r.oneof?e[r.oneof.localName].value:e[r.localName],o=gm(r,s,t);o!==void 0&&(i[t.useProtoFieldName?r.name:r.jsonName]=o)}const a=t.typeRegistry;if(a!=null&&a.findExtensionFor)for(const s of n.runtime.bin.listUnknownFields(e)){const o=a.findExtensionFor(n.typeName,s.no);if(o&&Zv(e,o)){const l=vT(e,o,t),c=gm(o.field,l,t);c!==void 0&&(i[o.field.jsonName]=c)}}}catch(a){const s=r?`cannot encode field ${n.typeName}.${r.name} to JSON`:`cannot encode message ${n.typeName} to JSON`,o=a instanceof Error?a.message:String(a);throw new Error(s+(o.length>0?`: ${o}`:""))}return i},readScalar(e,t,n){return $s(e,t,n??xr.BIGINT,!0)},writeScalar(e,t,n){if(t!==void 0&&(n||$v(e,t)))return Ol(e,t)},debug:en}}function en(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":`"${e.split('"').join('\\"')}"`;default:return String(e)}}function dm(e,t,n,i,r){let a=n.localName;if(n.repeated){if(vt(n.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${en(t)}`);const s=e[a];for(const o of t){if(o===null)throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${en(o)}`);switch(n.kind){case"message":s.push(n.T.fromJson(o,i));break;case"enum":const l=jc(n.T,o,i.ignoreUnknownFields,!0);l!==Dl&&s.push(l);break;case"scalar":try{s.push($s(n.T,o,n.L,!0))}catch(c){let h=`cannot decode field ${r.typeName}.${n.name} from JSON: ${en(o)}`;throw c instanceof Error&&c.message.length>0&&(h+=`: ${c.message}`),new Error(h)}break}}}else if(n.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${en(t)}`);const s=e[a];for(const[o,l]of Object.entries(t)){if(l===null)throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: map value null`);let c;try{c=wT(n.K,o)}catch(h){let d=`cannot decode map key for field ${r.typeName}.${n.name} from JSON: ${en(t)}`;throw h instanceof Error&&h.message.length>0&&(d+=`: ${h.message}`),new Error(d)}switch(n.V.kind){case"message":s[c]=n.V.T.fromJson(l,i);break;case"enum":const h=jc(n.V.T,l,i.ignoreUnknownFields,!0);h!==Dl&&(s[c]=h);break;case"scalar":try{s[c]=$s(n.V.T,l,xr.BIGINT,!0)}catch(d){let g=`cannot decode map value for field ${r.typeName}.${n.name} from JSON: ${en(t)}`;throw d instanceof Error&&d.message.length>0&&(g+=`: ${d.message}`),new Error(g)}break}}}else switch(n.oneof&&(e=e[n.oneof.localName]={case:a},a="value"),n.kind){case"message":const s=n.T;if(t===null&&s.typeName!="google.protobuf.Value")return;let o=e[a];Xr(o)?o.fromJson(t,i):(e[a]=o=s.fromJson(t,i),s.fieldWrapper&&!n.oneof&&(e[a]=s.fieldWrapper.unwrapField(o)));break;case"enum":const l=jc(n.T,t,i.ignoreUnknownFields,!1);switch(l){case su:cm(n,e);break;case Dl:break;default:e[a]=l;break}break;case"scalar":try{const c=$s(n.T,t,n.L,!1);switch(c){case su:cm(n,e);break;default:e[a]=c;break}}catch(c){let h=`cannot decode field ${r.typeName}.${n.name} from JSON: ${en(t)}`;throw c instanceof Error&&c.message.length>0&&(h+=`: ${c.message}`),new Error(h)}break}}function wT(e,t){if(e===E.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1;break}return $s(e,t,xr.BIGINT,!0).toString()}function $s(e,t,n,i){if(t===null)return i?es(e,n):su;switch(e){case E.DOUBLE:case E.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const r=Number(t);if(Number.isNaN(r)||!Number.isFinite(r))break;return e==E.FLOAT&&jv(r),r;case E.INT32:case E.FIXED32:case E.SFIXED32:case E.SINT32:case E.UINT32:let a;if(typeof t=="number"?a=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(a=Number(t)),a===void 0)break;return e==E.UINT32||e==E.FIXED32?Pf(a):Nl(a),a;case E.INT64:case E.SFIXED64:case E.SINT64:if(typeof t!="number"&&typeof t!="string")break;const s=ut.parse(t);return n?s.toString():s;case E.FIXED64:case E.UINT64:if(typeof t!="number"&&typeof t!="string")break;const o=ut.uParse(t);return n?o.toString():o;case E.BOOL:if(typeof t!="boolean")break;return t;case E.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch{throw new Error("invalid UTF8")}return t;case E.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return yd.dec(t)}throw new Error}function jc(e,t,n,i){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:i?e.values[0].no:su;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const r=e.findName(t);if(r!==void 0)return r.no;if(n)return Dl;break}throw new Error(`cannot decode enum ${e.typeName} from JSON: ${en(t)}`)}function ET(e){return e.repeated||e.kind=="map"?!0:!(e.oneof||e.kind=="message"||e.opt||e.req)}function gm(e,t,n){if(e.kind=="map"){vt(typeof t=="object"&&t!=null);const i={},r=Object.entries(t);switch(e.V.kind){case"scalar":for(const[s,o]of r)i[s.toString()]=Ol(e.V.T,o);break;case"message":for(const[s,o]of r)i[s.toString()]=o.toJson(n);break;case"enum":const a=e.V.T;for(const[s,o]of r)i[s.toString()]=Vc(a,o,n.enumAsInteger);break}return n.emitDefaultValues||r.length>0?i:void 0}if(e.repeated){vt(Array.isArray(t));const i=[];switch(e.kind){case"scalar":for(let r=0;r<t.length;r++)i.push(Ol(e.T,t[r]));break;case"enum":for(let r=0;r<t.length;r++)i.push(Vc(e.T,t[r],n.enumAsInteger));break;case"message":for(let r=0;r<t.length;r++)i.push(t[r].toJson(n));break}return n.emitDefaultValues||i.length>0?i:void 0}switch(e.kind){case"scalar":return Ol(e.T,t);case"enum":return Vc(e.T,t,n.enumAsInteger);case"message":return Wv(e.T,t).toJson(n)}}function Vc(e,t,n){var i;if(vt(typeof t=="number"),e.typeName=="google.protobuf.NullValue")return null;if(n)return t;const r=e.findNumber(t);return(i=r==null?void 0:r.name)!==null&&i!==void 0?i:t}function Ol(e,t){switch(e){case E.INT32:case E.SFIXED32:case E.SINT32:case E.FIXED32:case E.UINT32:return vt(typeof t=="number"),t;case E.FLOAT:case E.DOUBLE:return vt(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case E.STRING:return vt(typeof t=="string"),t;case E.BOOL:return vt(typeof t=="boolean"),t;case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return vt(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case E.BYTES:return vt(t instanceof Uint8Array),yd.enc(t)}}const ga=Symbol("@bufbuild/protobuf/unknown-fields"),mm={readUnknownFields:!0,readerFactory:e=>new gT(e)},ym={writeUnknownFields:!0,writerFactory:()=>new dT};function NT(e){return e?Object.assign(Object.assign({},mm),e):mm}function xT(e){return e?Object.assign(Object.assign({},ym),e):ym}function DT(){return{makeReadOptions:NT,makeWriteOptions:xT,listUnknownFields(e){var t;return(t=e[ga])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[ga]},writeUnknownFields(e,t){const i=e[ga];if(i)for(const r of i)t.tag(r.no,r.wireType).raw(r.data)},onUnknownField(e,t,n,i){const r=e;Array.isArray(r[ga])||(r[ga]=[]),r[ga].push({no:t,wireType:n,data:i})},readMessage(e,t,n,i,r){const a=e.getType(),s=r?t.len:t.pos+n;let o,l;for(;t.pos<s&&([o,l]=t.tag(),!(r===!0&&l==wt.EndGroup));){const c=a.fields.find(o);if(!c){const h=t.skip(l,o);i.readUnknownFields&&this.onUnknownField(e,o,l,h);continue}pm(e,t,c,l,i)}if(r&&(l!=wt.EndGroup||o!==n))throw new Error("invalid end group tag")},readField:pm,writeMessage(e,t,n){const i=e.getType();for(const r of i.fields.byNumber()){if(!_v(r,e)){if(r.req)throw new Error(`cannot encode field ${i.typeName}.${r.name} to binary: required field not set`);continue}const a=r.oneof?e[r.oneof.localName].value:e[r.localName];vm(r,a,t,n)}return n.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,n,i){t!==void 0&&vm(e,t,n,i)}}}function pm(e,t,n,i,r){let{repeated:a,localName:s}=n;switch(n.oneof&&(e=e[n.oneof.localName],e.case!=s&&delete e.value,e.case=s,s="value"),n.kind){case"scalar":case"enum":const o=n.kind=="enum"?E.INT32:n.T;let l=ou;if(n.kind=="scalar"&&n.L>0&&(l=CT),a){let g=e[s];if(i==wt.LengthDelimited&&o!=E.STRING&&o!=E.BYTES){let S=t.uint32()+t.pos;for(;t.pos<S;)g.push(l(t,o))}else g.push(l(t,o))}else e[s]=l(t,o);break;case"message":const c=n.T;a?e[s].push(Cl(t,new c,r,n)):Xr(e[s])?Cl(t,e[s],r,n):(e[s]=Cl(t,new c,r,n),c.fieldWrapper&&!n.oneof&&!n.repeated&&(e[s]=c.fieldWrapper.unwrapField(e[s])));break;case"map":let[h,d]=OT(n,t,r);e[s][h]=d;break}}function Cl(e,t,n,i){const r=t.getType().runtime.bin,a=i==null?void 0:i.delimited;return r.readMessage(t,e,a?i.no:e.uint32(),n,a),t}function OT(e,t,n){const i=t.uint32(),r=t.pos+i;let a,s;for(;t.pos<r;){const[o]=t.tag();switch(o){case 1:a=ou(t,e.K);break;case 2:switch(e.V.kind){case"scalar":s=ou(t,e.V.T);break;case"enum":s=t.int32();break;case"message":s=Cl(t,new e.V.T,n,void 0);break}break}}if(a===void 0&&(a=es(e.K,xr.BIGINT)),typeof a!="string"&&typeof a!="number"&&(a=a.toString()),s===void 0)switch(e.V.kind){case"scalar":s=es(e.V.T,xr.BIGINT);break;case"enum":s=e.V.T.values[0].no;break;case"message":s=new e.V.T;break}return[a,s]}function CT(e,t){const n=ou(e,t);return typeof n=="bigint"?n.toString():n}function ou(e,t){switch(t){case E.STRING:return e.string();case E.BOOL:return e.bool();case E.DOUBLE:return e.double();case E.FLOAT:return e.float();case E.INT32:return e.int32();case E.INT64:return e.int64();case E.UINT64:return e.uint64();case E.FIXED64:return e.fixed64();case E.BYTES:return e.bytes();case E.FIXED32:return e.fixed32();case E.SFIXED32:return e.sfixed32();case E.SFIXED64:return e.sfixed64();case E.SINT64:return e.sint64();case E.UINT32:return e.uint32();case E.SINT32:return e.sint32()}}function vm(e,t,n,i){vt(t!==void 0);const r=e.repeated;switch(e.kind){case"scalar":case"enum":let a=e.kind=="enum"?E.INT32:e.T;if(r)if(vt(Array.isArray(t)),e.packed)RT(n,a,e.no,t);else for(const s of t)Xs(n,a,e.no,s);else Xs(n,a,e.no,t);break;case"message":if(r){vt(Array.isArray(t));for(const s of t)Sm(n,i,e,s)}else Sm(n,i,e,t);break;case"map":vt(typeof t=="object"&&t!=null);for(const[s,o]of Object.entries(t))kT(n,i,e,s,o);break}}function kT(e,t,n,i,r){e.tag(n.no,wt.LengthDelimited),e.fork();let a=i;switch(n.K){case E.INT32:case E.FIXED32:case E.UINT32:case E.SFIXED32:case E.SINT32:a=Number.parseInt(i);break;case E.BOOL:vt(i=="true"||i=="false"),a=i=="true";break}switch(Xs(e,n.K,1,a),n.V.kind){case"scalar":Xs(e,n.V.T,2,r);break;case"enum":Xs(e,E.INT32,2,r);break;case"message":vt(r!==void 0),e.tag(2,wt.LengthDelimited).bytes(r.toBinary(t));break}e.join()}function Sm(e,t,n,i){const r=Wv(n.T,i);n.delimited?e.tag(n.no,wt.StartGroup).raw(r.toBinary(t)).tag(n.no,wt.EndGroup):e.tag(n.no,wt.LengthDelimited).bytes(r.toBinary(t))}function Xs(e,t,n,i){vt(i!==void 0);let[r,a]=t0(t);e.tag(n,r)[a](i)}function RT(e,t,n,i){if(!i.length)return;e.tag(n,wt.LengthDelimited).fork();let[,r]=t0(t);for(let a=0;a<i.length;a++)e[r](i[a]);e.join()}function t0(e){let t=wt.Varint;switch(e){case E.BYTES:case E.STRING:t=wt.LengthDelimited;break;case E.DOUBLE:case E.FIXED64:case E.SFIXED64:t=wt.Bit64;break;case E.FIXED32:case E.SFIXED32:case E.FLOAT:t=wt.Bit32;break}const n=E[e].toLowerCase();return[t,n]}function BT(){return{setEnumType:Pv,initPartial(e,t){if(e===void 0)return;const n=t.getType();for(const i of n.fields.byMember()){const r=i.localName,a=t,s=e;if(s[r]!=null)switch(i.kind){case"oneof":const o=s[r].case;if(o===void 0)continue;const l=i.findField(o);let c=s[r].value;l&&l.kind=="message"&&!Xr(c,l.T)?c=new l.T(c):l&&l.kind==="scalar"&&l.T===E.BYTES&&(c=Es(c)),a[r]={case:o,value:c};break;case"scalar":case"enum":let h=s[r];i.T===E.BYTES&&(h=i.repeated?h.map(Es):Es(h)),a[r]=h;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===E.BYTES)for(const[m,S]of Object.entries(s[r]))a[r][m]=Es(S);else Object.assign(a[r],s[r]);break;case"message":const g=i.V.T;for(const m of Object.keys(s[r])){let S=s[r][m];g.fieldWrapper||(S=new g(S)),a[r][m]=S}break}break;case"message":const d=i.T;if(i.repeated)a[r]=s[r].map(g=>Xr(g,d)?g:new d(g));else{const g=s[r];d.fieldWrapper?d.typeName==="google.protobuf.BytesValue"?a[r]=Es(g):a[r]=g:a[r]=Xr(g,d)?g:new d(g)}break}}},equals(e,t,n){return t===n?!0:!t||!n?!1:e.fields.byMember().every(i=>{const r=t[i.localName],a=n[i.localName];if(i.repeated){if(r.length!==a.length)return!1;switch(i.kind){case"message":return r.every((s,o)=>i.T.equals(s,a[o]));case"scalar":return r.every((s,o)=>_i(i.T,s,a[o]));case"enum":return r.every((s,o)=>_i(E.INT32,s,a[o]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":return i.T.equals(r,a);case"enum":return _i(E.INT32,r,a);case"scalar":return _i(i.T,r,a);case"oneof":if(r.case!==a.case)return!1;const s=i.findField(r.case);if(s===void 0)return!0;switch(s.kind){case"message":return s.T.equals(r.value,a.value);case"enum":return _i(E.INT32,r.value,a.value);case"scalar":return _i(s.T,r.value,a.value)}throw new Error(`oneof cannot contain ${s.kind}`);case"map":const o=Object.keys(r).concat(Object.keys(a));switch(i.V.kind){case"message":const l=i.V.T;return o.every(h=>l.equals(r[h],a[h]));case"enum":return o.every(h=>_i(E.INT32,r[h],a[h]));case"scalar":const c=i.V.T;return o.every(h=>_i(c,r[h],a[h]))}break}})},clone(e){const t=e.getType(),n=new t,i=n;for(const r of t.fields.byMember()){const a=e[r.localName];let s;if(r.repeated)s=a.map(ol);else if(r.kind=="map"){s=i[r.localName];for(const[o,l]of Object.entries(a))s[o]=ol(l)}else r.kind=="oneof"?s=r.findField(a.case)?{case:a.case,value:ol(a.value)}:{case:void 0}:s=ol(a);i[r.localName]=s}for(const r of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(i,r.no,r.wireType,r.data);return n}}}function ol(e){if(e===void 0)return e;if(Xr(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function Es(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function MT(e,t,n){return{syntax:e,json:AT(),bin:DT(),util:Object.assign(Object.assign({},BT()),{newFieldList:t,initFields:n}),makeMessageType(i,r,a){return oT(this,i,r,a)},makeEnum:sT,makeEnumType:Gv,getEnumType:aT,makeExtension(i,r,a){return mT(this,i,r,a)}}}class IT{constructor(t,n){this._fields=t,this._normalizer=n}findJsonName(t){if(!this.jsonNames){const n={};for(const i of this.list())n[i.jsonName]=n[i.name]=i;this.jsonNames=n}return this.jsonNames[t]}find(t){if(!this.numbers){const n={};for(const i of this.list())n[i.no]=i;this.numbers=n}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,n)=>t.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const t=this.members;let n;for(const i of this.list())i.oneof?i.oneof!==n&&(n=i.oneof,t.push(n)):t.push(i)}return this.members}}function e0(e,t){const n=n0(e);return t?n:HT(JT(n))}function UT(e){return e0(e,!1)}const zT=n0;function n0(e){let t=!1;const n=[];for(let i=0;i<e.length;i++){let r=e.charAt(i);switch(r){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(r),t=!1;break;default:t&&(t=!1,r=r.toUpperCase()),n.push(r);break}}return n.join("")}const LT=new Set(["constructor","toString","toJSON","valueOf"]),qT=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),i0=e=>`${e}$`,JT=e=>qT.has(e)?i0(e):e,HT=e=>LT.has(e)?i0(e):e;class jT{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=UT(t)}addField(t){vt(t.oneof===this,`field ${t.name} not one of ${this.name}`),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[t]}}function VT(e,t){var n,i,r,a,s,o;const l=[];let c;for(const h of typeof e=="function"?e():e){const d=h;if(d.localName=e0(h.name,h.oneof!==void 0),d.jsonName=(n=h.jsonName)!==null&&n!==void 0?n:zT(h.name),d.repeated=(i=h.repeated)!==null&&i!==void 0?i:!1,h.kind=="scalar"&&(d.L=(r=h.L)!==null&&r!==void 0?r:xr.BIGINT),d.delimited=(a=h.delimited)!==null&&a!==void 0?a:!1,d.req=(s=h.req)!==null&&s!==void 0?s:!1,d.opt=(o=h.opt)!==null&&o!==void 0?o:!1,h.packed===void 0&&(d.packed=h.kind=="enum"||h.kind=="scalar"&&h.T!=E.BYTES&&h.T!=E.STRING),h.oneof!==void 0){const g=typeof h.oneof=="string"?h.oneof:h.oneof.name;(!c||c.name!=g)&&(c=new jT(g)),d.oneof=c,c.addField(d)}l.push(d)}return l}const f=MT("proto3",e=>new IT(e,t=>VT(t)),e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,i=e;if(t.repeated){i[n]=[];continue}switch(t.kind){case"oneof":i[n]={case:void 0};break;case"enum":i[n]=0;break;case"map":i[n]={};break;case"scalar":i[n]=es(t.T,t.L);break}}});var Kt;(function(e){e[e.Unary=0]="Unary",e[e.ServerStreaming=1]="ServerStreaming",e[e.ClientStreaming=2]="ClientStreaming",e[e.BiDiStreaming=3]="BiDiStreaming"})(Kt||(Kt={}));var bm;(function(e){e[e.NoSideEffects=1]="NoSideEffects",e[e.Idempotent=2]="Idempotent"})(bm||(bm={}));class Pt extends k{constructor(t){super(),this.seconds=ut.zero,this.nanos=0,f.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${f.json.debug(t)}`);const i=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const r=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(r))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=ut.parse(r/1e3),this.nanos=0,i[7]&&(this.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),this}toJson(t){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let i="Z";if(this.nanos>0){const r=(this.nanos+1e9).toString().substring(1);r.substring(3)==="000000"?i="."+r.substring(0,3)+"Z":r.substring(6)==="000"?i="."+r.substring(0,6)+"Z":i="."+r+"Z"}return new Date(n).toISOString().replace(".000Z",i)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return Pt.fromDate(new Date)}static fromDate(t){const n=t.getTime();return new Pt({seconds:ut.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(t,n){return new Pt().fromBinary(t,n)}static fromJson(t,n){return new Pt().fromJson(t,n)}static fromJsonString(t,n){return new Pt().fromJsonString(t,n)}static equals(t,n){return f.util.equals(Pt,t,n)}}Pt.runtime=f;Pt.typeName="google.protobuf.Timestamp";Pt.fields=f.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class zi extends k{constructor(t){super(),this.seconds=ut.zero,this.nanos=0,f.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);const i=t.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(i===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);const r=Number(i[1]);if(r>315576e6||r<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);if(this.seconds=ut.parse(r),typeof i[2]=="string"){const a=i[2]+"0".repeat(9-i[2].length);this.nanos=parseInt(a),(r<0||Object.is(r,-0))&&(this.nanos=-this.nanos)}return this}toJson(t){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let n=this.seconds.toString();if(this.nanos!==0){let i=Math.abs(this.nanos).toString();i="0".repeat(9-i.length)+i,i.substring(3)==="000000"?i=i.substring(0,3):i.substring(6)==="000"&&(i=i.substring(0,6)),n+="."+i,this.nanos<0&&Number(this.seconds)==0&&(n="-"+n)}return n+"s"}static fromBinary(t,n){return new zi().fromBinary(t,n)}static fromJson(t,n){return new zi().fromJson(t,n)}static fromJsonString(t,n){return new zi().fromJsonString(t,n)}static equals(t,n){return f.util.equals(zi,t,n)}}zi.runtime=f;zi.typeName="google.protobuf.Duration";zi.fields=f.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class an extends k{constructor(t){super(),this.typeUrl="",this.value=new Uint8Array(0),f.util.initPartial(t,this)}toJson(t){var n;if(this.typeUrl==="")return{};const i=this.typeUrlToName(this.typeUrl),r=(n=t==null?void 0:t.typeRegistry)===null||n===void 0?void 0:n.findMessage(i);if(!r)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let s=r.fromBinary(this.value).toJson(t);return(i.startsWith("google.protobuf.")||s===null||Array.isArray(s)||typeof s!="object")&&(s={value:s}),s["@type"]=this.typeUrl,s}fromJson(t,n){var i;if(t===null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${t===null?"null":Array.isArray(t)?"array":typeof t}`);if(Object.keys(t).length==0)return this;const r=t["@type"];if(typeof r!="string"||r=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const a=this.typeUrlToName(r),s=(i=n==null?void 0:n.typeRegistry)===null||i===void 0?void 0:i.findMessage(a);if(!s)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${r} is not in the type registry`);let o;if(a.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(t,"value"))o=s.fromJson(t.value,n);else{const l=Object.assign({},t);delete l["@type"],o=s.fromJson(l,n)}return this.packFrom(o),this}packFrom(t){this.value=t.toBinary(),this.typeUrl=this.typeNameToUrl(t.getType().typeName)}unpackTo(t){return this.is(t.getType())?(t.fromBinary(this.value),!0):!1}unpack(t){if(this.typeUrl==="")return;const n=t.findMessage(this.typeUrlToName(this.typeUrl));if(n)return n.fromBinary(this.value)}is(t){if(this.typeUrl==="")return!1;const n=this.typeUrlToName(this.typeUrl);let i="";return typeof t=="string"?i=t:i=t.typeName,n===i}typeNameToUrl(t){return`type.googleapis.com/${t}`}typeUrlToName(t){if(!t.length)throw new Error(`invalid type url: ${t}`);const n=t.lastIndexOf("/"),i=n>=0?t.substring(n+1):t;if(!i.length)throw new Error(`invalid type url: ${t}`);return i}static pack(t){const n=new an;return n.packFrom(t),n}static fromBinary(t,n){return new an().fromBinary(t,n)}static fromJson(t,n){return new an().fromJson(t,n)}static fromJsonString(t,n){return new an().fromJsonString(t,n)}static equals(t,n){return f.util.equals(an,t,n)}}an.runtime=f;an.typeName="google.protobuf.Any";an.fields=f.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class sn extends k{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.DOUBLE,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.DOUBLE,t)}catch(i){let r='cannot decode message google.protobuf.DoubleValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new sn().fromBinary(t,n)}static fromJson(t,n){return new sn().fromJson(t,n)}static fromJsonString(t,n){return new sn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(sn,t,n)}}sn.runtime=f;sn.typeName="google.protobuf.DoubleValue";sn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);sn.fieldWrapper={wrapField(e){return new sn({value:e})},unwrapField(e){return e.value}};class on extends k{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.FLOAT,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.FLOAT,t)}catch(i){let r='cannot decode message google.protobuf.FloatValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new on().fromBinary(t,n)}static fromJson(t,n){return new on().fromJson(t,n)}static fromJsonString(t,n){return new on().fromJsonString(t,n)}static equals(t,n){return f.util.equals(on,t,n)}}on.runtime=f;on.typeName="google.protobuf.FloatValue";on.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);on.fieldWrapper={wrapField(e){return new on({value:e})},unwrapField(e){return e.value}};class ln extends k{constructor(t){super(),this.value=ut.zero,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.INT64,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.INT64,t)}catch(i){let r='cannot decode message google.protobuf.Int64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new ln().fromBinary(t,n)}static fromJson(t,n){return new ln().fromJson(t,n)}static fromJsonString(t,n){return new ln().fromJsonString(t,n)}static equals(t,n){return f.util.equals(ln,t,n)}}ln.runtime=f;ln.typeName="google.protobuf.Int64Value";ln.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);ln.fieldWrapper={wrapField(e){return new ln({value:e})},unwrapField(e){return e.value}};class un extends k{constructor(t){super(),this.value=ut.zero,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.UINT64,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.UINT64,t)}catch(i){let r='cannot decode message google.protobuf.UInt64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new un().fromBinary(t,n)}static fromJson(t,n){return new un().fromJson(t,n)}static fromJsonString(t,n){return new un().fromJsonString(t,n)}static equals(t,n){return f.util.equals(un,t,n)}}un.runtime=f;un.typeName="google.protobuf.UInt64Value";un.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);un.fieldWrapper={wrapField(e){return new un({value:e})},unwrapField(e){return e.value}};class cn extends k{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.INT32,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.INT32,t)}catch(i){let r='cannot decode message google.protobuf.Int32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new cn().fromBinary(t,n)}static fromJson(t,n){return new cn().fromJson(t,n)}static fromJsonString(t,n){return new cn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(cn,t,n)}}cn.runtime=f;cn.typeName="google.protobuf.Int32Value";cn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);cn.fieldWrapper={wrapField(e){return new cn({value:e})},unwrapField(e){return e.value}};class fn extends k{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.UINT32,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.UINT32,t)}catch(i){let r='cannot decode message google.protobuf.UInt32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new fn().fromBinary(t,n)}static fromJson(t,n){return new fn().fromJson(t,n)}static fromJsonString(t,n){return new fn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(fn,t,n)}}fn.runtime=f;fn.typeName="google.protobuf.UInt32Value";fn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);fn.fieldWrapper={wrapField(e){return new fn({value:e})},unwrapField(e){return e.value}};class hn extends k{constructor(t){super(),this.value=!1,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.BOOL,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.BOOL,t)}catch(i){let r='cannot decode message google.protobuf.BoolValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new hn().fromBinary(t,n)}static fromJson(t,n){return new hn().fromJson(t,n)}static fromJsonString(t,n){return new hn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(hn,t,n)}}hn.runtime=f;hn.typeName="google.protobuf.BoolValue";hn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);hn.fieldWrapper={wrapField(e){return new hn({value:e})},unwrapField(e){return e.value}};class le extends k{constructor(t){super(),this.value="",f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.STRING,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.STRING,t)}catch(i){let r='cannot decode message google.protobuf.StringValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new le().fromBinary(t,n)}static fromJson(t,n){return new le().fromJson(t,n)}static fromJsonString(t,n){return new le().fromJsonString(t,n)}static equals(t,n){return f.util.equals(le,t,n)}}le.runtime=f;le.typeName="google.protobuf.StringValue";le.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);le.fieldWrapper={wrapField(e){return new le({value:e})},unwrapField(e){return e.value}};class dn extends k{constructor(t){super(),this.value=new Uint8Array(0),f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.BYTES,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.BYTES,t)}catch(i){let r='cannot decode message google.protobuf.BytesValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new dn().fromBinary(t,n)}static fromJson(t,n){return new dn().fromJson(t,n)}static fromJsonString(t,n){return new dn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(dn,t,n)}}dn.runtime=f;dn.typeName="google.protobuf.BytesValue";dn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);dn.fieldWrapper={wrapField(e){return new dn({value:e})},unwrapField(e){return e.value}};function PT(e,t,n){try{const i=yd.dec(e);return t?t.fromBinary(i,n):i}catch(i){throw lt.from(i,W.DataLoss)}}function GT(e,t){const n={};for(const[i,r]of Object.entries(e.methods)){const a=t(Object.assign(Object.assign({},r),{localName:i,service:e}));a!=null&&(n[i]=a)}return n}function Tm(e){let t,n=new Uint8Array(0);function i(r){const a=new Uint8Array(n.length+r.length);a.set(n),a.set(r,n.length),n=a}return new ReadableStream({start(){t=e.getReader()},async pull(r){let a;for(;;){if(a===void 0&&n.byteLength>=5){let l=0;for(let c=1;c<5;c++)l=(l<<8)+n[c];a={flags:n[0],length:l}}if(a!==void 0&&n.byteLength>=a.length+5)break;const o=await t.read();if(o.done)break;i(o.value)}if(a===void 0){if(n.byteLength==0){r.close();return}r.error(new lt("premature end of stream",W.DataLoss));return}const s=n.subarray(5,5+a.length);n=n.subarray(5+a.length),r.enqueue({flags:a.flags,data:s})}})}function Am(e,t){const n=new Uint8Array(t.length+5);n.set(t,5);const i=new DataView(n.buffer,n.byteOffset,n.byteLength);return i.setUint8(0,e),i.setUint32(1,t.length),n}var YT=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(s){return new Promise(function(o,l){s=e[a](s),r(o,l,s.done,s.value)})}}function r(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}},mo=function(e){return this instanceof mo?(this.v=e,this):new mo(e)},FT=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r={},o("next"),o("throw"),o("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(m){return function(S){return Promise.resolve(S).then(m,d)}}function o(m,S){i[m]&&(r[m]=function(A){return new Promise(function(O,p){a.push([m,A,O,p])>1||l(m,A)})},S&&(r[m]=S(r[m])))}function l(m,S){try{c(i[m](S))}catch(A){g(a[0][3],A)}}function c(m){m.value instanceof mo?Promise.resolve(m.value.v).then(h,d):g(a[0][2],m)}function h(m){l("next",m)}function d(m){l("throw",m)}function g(m,S){m(S),a.shift(),a.length&&l(a[0][0],a[0][1])}},KT=function(e){var t,n;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,a){t[r]=e[r]?function(s){return(n=!n)?{value:mo(e[r](s)),done:!1}:a?a(s):s}:a}};function $T(e){return FT(this,arguments,function*(){yield mo(yield*KT(YT(e)))})}var r0=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(s){return new Promise(function(o,l){s=e[a](s),r(o,l,s.done,s.value)})}}function r(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}},ns=function(e){return this instanceof ns?(this.v=e,this):new ns(e)},XT=function(e){var t,n;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,a){t[r]=e[r]?function(s){return(n=!n)?{value:ns(e[r](s)),done:!1}:a?a(s):s}:a}},ZT=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r={},o("next"),o("throw"),o("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(m){return function(S){return Promise.resolve(S).then(m,d)}}function o(m,S){i[m]&&(r[m]=function(A){return new Promise(function(O,p){a.push([m,A,O,p])>1||l(m,A)})},S&&(r[m]=S(r[m])))}function l(m,S){try{c(i[m](S))}catch(A){g(a[0][3],A)}}function c(m){m.value instanceof ns?Promise.resolve(m.value.v).then(h,d):g(a[0][2],m)}function h(m){l("next",m)}function d(m){l("throw",m)}function g(m,S){m(S),a.shift(),a.length&&l(a[0][0],a[0][1])}};function QT(e,t){return GT(e,n=>{switch(n.kind){case Kt.Unary:return _T(t,e,n);case Kt.ServerStreaming:return WT(t,e,n);case Kt.ClientStreaming:return tA(t,e,n);case Kt.BiDiStreaming:return eA(t,e,n);default:return null}})}function _T(e,t,n){return async function(i,r){var a,s;const o=await e.unary(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,i,r==null?void 0:r.contextValues);return(a=r==null?void 0:r.onHeader)===null||a===void 0||a.call(r,o.header),(s=r==null?void 0:r.onTrailer)===null||s===void 0||s.call(r,o.trailer),o.message}}function WT(e,t,n){return function(i,r){return a0(e.stream(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,$T([i]),r==null?void 0:r.contextValues),r)}}function tA(e,t,n){return async function(i,r){var a,s,o,l,c,h;const d=await e.stream(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,i,r==null?void 0:r.contextValues);(c=r==null?void 0:r.onHeader)===null||c===void 0||c.call(r,d.header);let g;try{for(var m=!0,S=r0(d.message),A;A=await S.next(),a=A.done,!a;m=!0)l=A.value,m=!1,g=l}catch(O){s={error:O}}finally{try{!m&&!a&&(o=S.return)&&await o.call(S)}finally{if(s)throw s.error}}if(!g)throw new lt("protocol error: missing response message",W.Internal);return(h=r==null?void 0:r.onTrailer)===null||h===void 0||h.call(r,d.trailer),g}}function eA(e,t,n){return function(i,r){return a0(e.stream(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,i,r==null?void 0:r.contextValues),r)}}function a0(e,t){const n=function(){var i,r;return ZT(this,arguments,function*(){const a=yield ns(e);(i=t==null?void 0:t.onHeader)===null||i===void 0||i.call(t,a.header),yield ns(yield*XT(r0(a.message))),(r=t==null?void 0:t.onTrailer)===null||r===void 0||r.call(t,a.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function nA(...e){const t=new AbortController,n=e.filter(r=>r!==void 0).concat(t.signal);for(const r of n){if(r.aborted){i.apply(r);break}r.addEventListener("abort",i)}function i(){t.signal.aborted||t.abort(s0(this));for(const r of n)r.removeEventListener("abort",i)}return t}function iA(e){const t=new AbortController,n=()=>{t.abort(new lt("the operation timed out",W.DeadlineExceeded))};let i;return e!==void 0&&(e<=0?n():i=setTimeout(n,e)),{signal:t.signal,cleanup:()=>clearTimeout(i)}}function s0(e){if(!e.aborted)return;if(e.reason!==void 0)return e.reason;const t=new Error("This operation was aborted");return t.name="AbortError",t}function wm(){return{get(e){return e.id in this?this[e.id]:e.defaultValue},set(e,t){return this[e.id]=t,this},delete(e){return delete this[e.id],this}}}const Pc=128;function Em(e){const t=new Headers,n=new TextDecoder().decode(e).split(`\r
`);for(const i of n){if(i==="")continue;const r=i.indexOf(":");if(r>0){const a=i.substring(0,r).trim(),s=i.substring(r+1).trim();t.append(a,s)}}return t}const rA="Content-Type",aA="Grpc-Timeout",o0="Grpc-Status",l0="Grpc-Message",sA="Grpc-Status-Details-Bin",oA="X-User-Agent",lA="X-Grpc-Web",uA="application/grpc-web+proto",cA="application/grpc-web+json";class Li extends k{constructor(t){super(),this.code=0,this.message="",this.details=[],f.util.initPartial(t,this)}static fromBinary(t,n){return new Li().fromBinary(t,n)}static fromJson(t,n){return new Li().fromJson(t,n)}static fromJsonString(t,n){return new Li().fromJsonString(t,n)}static equals(t,n){return f.util.equals(Li,t,n)}}Li.runtime=f;Li.typeName="google.rpc.Status";Li.fields=f.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:an,repeated:!0}]);const fA="0";function u0(e){var t;const n=e.get(sA);if(n!=null){const r=PT(n,Li);if(r.code==0)return;const a=new lt(r.message,r.code,e);return a.details=r.details.map(s=>({type:s.typeUrl.substring(s.typeUrl.lastIndexOf("/")+1),value:s.value})),a}const i=e.get(o0);if(i!=null){if(i===fA)return;const r=parseInt(i,10);return r in W?new lt(decodeURIComponent((t=e.get(l0))!==null&&t!==void 0?t:""),r,e):new lt(`invalid grpc-status: ${i}`,W.Internal,e)}}function Nm(e,t,n){const i=typeof t=="string"?t:t.typeName,r=typeof n=="string"?n:n.name;return e.toString().replace(/\/?$/,`/${i}/${r}`)}function c0(e,t){return t instanceof e?t:new e(t)}function hA(e,t){function n(i){return i.done===!0?i:{done:i.done,value:c0(e,i.value)}}return{[Symbol.asyncIterator](){const i=t[Symbol.asyncIterator](),r={next:()=>i.next().then(n)};return i.throw!==void 0&&(r.throw=a=>i.throw(a).then(n)),i.return!==void 0&&(r.return=a=>i.return(a).then(n)),r}}}function f0(e,t){var n;return(n=t==null?void 0:t.concat().reverse().reduce((i,r)=>r(i),e))!==null&&n!==void 0?n:e}function dA(e){var t;const n=Object.assign({},e);return(t=n.ignoreUnknownFields)!==null&&t!==void 0||(n.ignoreUnknownFields=!0),n}function xm(e,t,n,i){const r=t?Dm(e.I,i):Om(e.I,n);return{parse:(t?Dm(e.O,i):Om(e.O,n)).parse,serialize:r.serialize}}function Dm(e,t){return{parse(n){try{return e.fromBinary(n,t)}catch(i){const r=i instanceof Error?i.message:String(i);throw new lt(`parse binary: ${r}`,W.InvalidArgument)}},serialize(n){try{return n.toBinary(t)}catch(i){const r=i instanceof Error?i.message:String(i);throw new lt(`serialize binary: ${r}`,W.Internal)}}}}function Om(e,t){var n,i;const r=(n=t==null?void 0:t.textEncoder)!==null&&n!==void 0?n:new TextEncoder,a=(i=t==null?void 0:t.textDecoder)!==null&&i!==void 0?i:new TextDecoder,s=dA(t);return{parse(o){try{const l=a.decode(o);return e.fromJsonString(l,s)}catch(l){throw lt.from(l,W.InvalidArgument)}},serialize(o){try{const l=o.toJsonString(s);return r.encode(l)}catch(l){throw lt.from(l,W.Internal)}}}}function gA(e){const t=f0(e.next,e.interceptors),[n,i,r]=h0(e),a=Object.assign(Object.assign({},e.req),{message:c0(e.req.method.I,e.req.message),signal:n});return t(a).then(s=>(r(),s),i)}function mA(e){const t=f0(e.next,e.interceptors),[n,i,r]=h0(e),a=Object.assign(Object.assign({},e.req),{message:hA(e.req.method.I,e.req.message),signal:n});let s=!1;return n.addEventListener("abort",function(){var o,l;const c=e.req.message[Symbol.asyncIterator]();s||(o=c.throw)===null||o===void 0||o.call(c,this.reason).catch(()=>{}),(l=c.return)===null||l===void 0||l.call(c).catch(()=>{})}),t(a).then(o=>Object.assign(Object.assign({},o),{message:{[Symbol.asyncIterator](){const l=o.message[Symbol.asyncIterator]();return{next(){return l.next().then(c=>(c.done==!0&&(s=!0,r()),c),i)}}}}}),i)}function h0(e){const{signal:t,cleanup:n}=iA(e.timeoutMs),i=nA(e.signal,t);return[i.signal,function(a){const s=lt.from(t.aborted?s0(t):a);return i.abort(s),n(),Promise.reject(s)},function(){n(),i.abort()}]}function yA(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Cm(e,t){const n=u0(e);if(n)throw t.forEach((i,r)=>{n.metadata.append(r,i)}),n}function km(e,t,n,i){const r=new Headers(n??{});return r.set(rA,e?uA:cA),r.set(lA,"1"),r.set(oA,"connect-es/1.4.0"),t!==void 0&&r.set(aA,`${t}m`),r}function pA(e){switch(e){case 400:return W.Internal;case 401:return W.Unauthenticated;case 403:return W.PermissionDenied;case 404:return W.Unimplemented;case 429:return W.Unavailable;case 502:return W.Unavailable;case 503:return W.Unavailable;case 504:return W.Unavailable;default:return W.Unknown}}function Rm(e,t){var n;if(e>=200&&e<300){const i=u0(t);if(i)throw i;return{foundStatus:t.has(o0)}}throw new lt(decodeURIComponent((n=t.get(l0))!==null&&n!==void 0?n:`HTTP ${e}`),pA(e),t)}var jr=function(e){return this instanceof jr?(this.v=e,this):new jr(e)},vA=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r={},o("next"),o("throw"),o("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(m){return function(S){return Promise.resolve(S).then(m,d)}}function o(m,S){i[m]&&(r[m]=function(A){return new Promise(function(O,p){a.push([m,A,O,p])>1||l(m,A)})},S&&(r[m]=S(r[m])))}function l(m,S){try{c(i[m](S))}catch(A){g(a[0][3],A)}}function c(m){m.value instanceof jr?Promise.resolve(m.value.v).then(h,d):g(a[0][2],m)}function h(m){l("next",m)}function d(m){l("throw",m)}function g(m,S){m(S),a.shift(),a.length&&l(a[0][0],a[0][1])}};function SA(e){var t;yA();const n=(t=e.useBinaryFormat)!==null&&t!==void 0?t:!0;return{async unary(i,r,a,s,o,l,c){var h;const{serialize:d,parse:g}=xm(r,n,e.jsonOptions,e.binaryOptions);return s=s===void 0?e.defaultTimeoutMs:s<=0?void 0:s,await gA({interceptors:e.interceptors,signal:a,timeoutMs:s,req:{stream:!1,service:i,method:r,url:Nm(e.baseUrl,i,r),init:{method:"POST",credentials:(h=e.credentials)!==null&&h!==void 0?h:"same-origin",redirect:"error",mode:"cors"},header:km(n,s,o),contextValues:c??wm(),message:l},next:async m=>{var S;const O=await((S=e.fetch)!==null&&S!==void 0?S:globalThis.fetch)(m.url,Object.assign(Object.assign({},m.init),{headers:m.header,signal:m.signal,body:Am(0,d(m.message))}));if(Rm(O.status,O.headers),!O.body)throw"missing response body";const p=Tm(O.body).getReader();let y,v;for(;;){const w=await p.read();if(w.done)break;const{flags:x,data:B}=w.value;if(x===Pc){if(y!==void 0)throw"extra trailer";y=Em(B);continue}if(v!==void 0)throw"extra message";v=g(B)}if(y===void 0)throw"missing trailer";if(Cm(y,O.headers),v===void 0)throw"missing message";return{stream:!1,service:i,method:r,header:O.headers,message:v,trailer:y}}})},async stream(i,r,a,s,o,l,c){var h;const{serialize:d,parse:g}=xm(r,n,e.jsonOptions,e.binaryOptions);function m(A,O,p,y){return vA(this,arguments,function*(){const w=Tm(A).getReader();if(O){if(!(yield jr(w.read())).done)throw"extra data for trailers-only";return yield jr(void 0)}let x=!1;for(;;){const B=yield jr(w.read());if(B.done)break;const{flags:C,data:R}=B.value;if((C&Pc)===Pc){if(x)throw"extra trailer";x=!0;const K=Em(R);Cm(K,y),K.forEach((q,St)=>p.set(St,q));continue}if(x)throw"extra message";yield yield jr(g(R))}if(!x)throw"missing trailer"})}async function S(A){if(r.kind!=Kt.ServerStreaming)throw"The fetch API does not support streaming request bodies";const O=await A[Symbol.asyncIterator]().next();if(O.done==!0)throw"missing request message";return Am(0,d(O.value))}return s=s===void 0?e.defaultTimeoutMs:s<=0?void 0:s,mA({interceptors:e.interceptors,signal:a,timeoutMs:s,req:{stream:!0,service:i,method:r,url:Nm(e.baseUrl,i,r),init:{method:"POST",credentials:(h=e.credentials)!==null&&h!==void 0?h:"same-origin",redirect:"error",mode:"cors"},header:km(n,s,o),contextValues:c??wm(),message:l},next:async A=>{var O;const y=await((O=e.fetch)!==null&&O!==void 0?O:globalThis.fetch)(A.url,Object.assign(Object.assign({},A.init),{headers:A.header,signal:A.signal,body:await S(A.message)})),{foundStatus:v}=Rm(y.status,y.headers);if(!y.body)throw"missing response body";const w=new Headers;return Object.assign(Object.assign({},A),{header:y.headers,trailer:w,message:m(y.body,v,w,y.headers)})}})}}}var J=(e=>(e[e.NULL=0]="NULL",e[e.BOOLEAN=1]="BOOLEAN",e[e.INTEGER=2]="INTEGER",e[e.LONG=3]="LONG",e[e.DOUBLE=4]="DOUBLE",e[e.STRING=5]="STRING",e[e.BYTES=6]="BYTES",e[e.DATE=7]="DATE",e[e.JSON_OBJECT=8]="JSON_OBJECT",e[e.JSON_ARRAY=9]="JSON_ARRAY",e[e.TEXT=10]="TEXT",e[e.INTEGER_CNT=11]="INTEGER_CNT",e[e.LONG_CNT=12]="LONG_CNT",e[e.TREE=13]="TREE",e))(J||{});f.util.setEnumType(J,"yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER"},{no:3,name:"VALUE_TYPE_LONG"},{no:4,name:"VALUE_TYPE_DOUBLE"},{no:5,name:"VALUE_TYPE_STRING"},{no:6,name:"VALUE_TYPE_BYTES"},{no:7,name:"VALUE_TYPE_DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE"}]);var Zr=(e=>(e[e.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",e[e.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",e[e.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",e[e.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",e))(Zr||{});f.util.setEnumType(Zr,"yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST"}]);const Dn=class Dn extends k{constructor(n){super();u(this,"root");u(this,"presences",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Dn().fromBinary(n,i)}static fromJson(n,i){return new Dn().fromJson(n,i)}static fromJsonString(n,i){return new Dn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Dn,n,i)}};u(Dn,"runtime",f),u(Dn,"typeName","yorkie.v1.Snapshot"),u(Dn,"fields",f.util.newFieldList(()=>[{no:1,name:"root",kind:"message",T:ie},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:vd}}]));let Gf=Dn;var we;let Xi=(we=class extends k{constructor(n){super();u(this,"documentKey","");u(this,"checkpoint");u(this,"snapshot",new Uint8Array(0));u(this,"changes",[]);u(this,"minSyncedTicket");u(this,"isRemoved",!1);u(this,"versionVector");f.util.initPartial(n,this)}static fromBinary(n,i){return new we().fromBinary(n,i)}static fromJson(n,i){return new we().fromJson(n,i)}static fromJsonString(n,i){return new we().fromJsonString(n,i)}static equals(n,i){return f.util.equals(we,n,i)}},u(we,"runtime",f),u(we,"typeName","yorkie.v1.ChangePack"),u(we,"fields",f.util.newFieldList(()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:m0},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:d0,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:I},{no:6,name:"is_removed",kind:"scalar",T:8},{no:7,name:"version_vector",kind:"message",T:Xu}])),we);var Ee;let d0=(Ee=class extends k{constructor(n){super();u(this,"id");u(this,"message","");u(this,"operations",[]);u(this,"presenceChange");f.util.initPartial(n,this)}static fromBinary(n,i){return new Ee().fromBinary(n,i)}static fromJson(n,i){return new Ee().fromJson(n,i)}static fromJsonString(n,i){return new Ee().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ee,n,i)}},u(Ee,"runtime",f),u(Ee,"typeName","yorkie.v1.Change"),u(Ee,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:$u},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:pd,repeated:!0},{no:4,name:"presence_change",kind:"message",T:vo}])),Ee);var Ne;let $u=(Ne=class extends k{constructor(n){super();u(this,"clientSeq",0);u(this,"serverSeq",ut.zero);u(this,"lamport",ut.zero);u(this,"actorId",new Uint8Array(0));u(this,"versionVector");f.util.initPartial(n,this)}static fromBinary(n,i){return new Ne().fromBinary(n,i)}static fromJson(n,i){return new Ne().fromJson(n,i)}static fromJsonString(n,i){return new Ne().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ne,n,i)}},u(Ne,"runtime",f),u(Ne,"typeName","yorkie.v1.ChangeID"),u(Ne,"fields",f.util.newFieldList(()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3},{no:3,name:"lamport",kind:"scalar",T:3},{no:4,name:"actor_id",kind:"scalar",T:12},{no:5,name:"version_vector",kind:"message",T:Xu}])),Ne);var xe;let Xu=(xe=class extends k{constructor(n){super();u(this,"vector",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new xe().fromBinary(n,i)}static fromJson(n,i){return new xe().fromJson(n,i)}static fromJsonString(n,i){return new xe().fromJsonString(n,i)}static equals(n,i){return f.util.equals(xe,n,i)}},u(xe,"runtime",f),u(xe,"typeName","yorkie.v1.VersionVector"),u(xe,"fields",f.util.newFieldList(()=>[{no:1,name:"vector",kind:"map",K:9,V:{kind:"scalar",T:3}}])),xe);var De;let pd=(De=class extends k{constructor(n){super();u(this,"body",{case:void 0});f.util.initPartial(n,this)}static fromBinary(n,i){return new De().fromBinary(n,i)}static fromJson(n,i){return new De().fromJson(n,i)}static fromJsonString(n,i){return new De().fromJsonString(n,i)}static equals(n,i){return f.util.equals(De,n,i)}},u(De,"runtime",f),u(De,"typeName","yorkie.v1.Operation"),u(De,"fields",f.util.newFieldList(()=>[{no:1,name:"set",kind:"message",T:lu,oneof:"body"},{no:2,name:"add",kind:"message",T:uu,oneof:"body"},{no:3,name:"move",kind:"message",T:cu,oneof:"body"},{no:4,name:"remove",kind:"message",T:fu,oneof:"body"},{no:5,name:"edit",kind:"message",T:hu,oneof:"body"},{no:6,name:"select",kind:"message",T:Yf,oneof:"body"},{no:7,name:"style",kind:"message",T:du,oneof:"body"},{no:8,name:"increase",kind:"message",T:gu,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:mu,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:yu,oneof:"body"},{no:11,name:"array_set",kind:"message",T:Ff,oneof:"body"}])),De);const On=class On extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"key","");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new On().fromBinary(n,i)}static fromJson(n,i){return new On().fromJson(n,i)}static fromJsonString(n,i){return new On().fromJsonString(n,i)}static equals(n,i){return f.util.equals(On,n,i)}};u(On,"runtime",f),u(On,"typeName","yorkie.v1.Operation.Set"),u(On,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:Ae},{no:4,name:"executed_at",kind:"message",T:I}]));let lu=On;const Cn=class Cn extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"prevCreatedAt");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Cn().fromBinary(n,i)}static fromJson(n,i){return new Cn().fromJson(n,i)}static fromJsonString(n,i){return new Cn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Cn,n,i)}};u(Cn,"runtime",f),u(Cn,"typeName","yorkie.v1.Operation.Add"),u(Cn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"prev_created_at",kind:"message",T:I},{no:3,name:"value",kind:"message",T:Ae},{no:4,name:"executed_at",kind:"message",T:I}]));let uu=Cn;const kn=class kn extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"prevCreatedAt");u(this,"createdAt");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new kn().fromBinary(n,i)}static fromJson(n,i){return new kn().fromJson(n,i)}static fromJsonString(n,i){return new kn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(kn,n,i)}};u(kn,"runtime",f),u(kn,"typeName","yorkie.v1.Operation.Move"),u(kn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"prev_created_at",kind:"message",T:I},{no:3,name:"created_at",kind:"message",T:I},{no:4,name:"executed_at",kind:"message",T:I}]));let cu=kn;const Rn=class Rn extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"createdAt");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Rn().fromBinary(n,i)}static fromJson(n,i){return new Rn().fromJson(n,i)}static fromJsonString(n,i){return new Rn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Rn,n,i)}};u(Rn,"runtime",f),u(Rn,"typeName","yorkie.v1.Operation.Remove"),u(Rn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"created_at",kind:"message",T:I},{no:3,name:"executed_at",kind:"message",T:I}]));let fu=Rn;const Bn=class Bn extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"createdAtMapByActor",{});u(this,"content","");u(this,"executedAt");u(this,"attributes",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Bn().fromBinary(n,i)}static fromJson(n,i){return new Bn().fromJson(n,i)}static fromJsonString(n,i){return new Bn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Bn,n,i)}};u(Bn,"runtime",f),u(Bn,"typeName","yorkie.v1.Operation.Edit"),u(Bn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"from",kind:"message",T:Fi},{no:3,name:"to",kind:"message",T:Fi},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:I}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:I},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let hu=Bn;const Mn=class Mn extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Mn().fromBinary(n,i)}static fromJson(n,i){return new Mn().fromJson(n,i)}static fromJsonString(n,i){return new Mn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Mn,n,i)}};u(Mn,"runtime",f),u(Mn,"typeName","yorkie.v1.Operation.Select"),u(Mn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"from",kind:"message",T:Fi},{no:3,name:"to",kind:"message",T:Fi},{no:4,name:"executed_at",kind:"message",T:I}]));let Yf=Mn;const In=class In extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"attributes",{});u(this,"executedAt");u(this,"createdAtMapByActor",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new In().fromBinary(n,i)}static fromJson(n,i){return new In().fromJson(n,i)}static fromJsonString(n,i){return new In().fromJsonString(n,i)}static equals(n,i){return f.util.equals(In,n,i)}};u(In,"runtime",f),u(In,"typeName","yorkie.v1.Operation.Style"),u(In,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"from",kind:"message",T:Fi},{no:3,name:"to",kind:"message",T:Fi},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:I},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:I}}]));let du=In;const Un=class Un extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Un().fromBinary(n,i)}static fromJson(n,i){return new Un().fromJson(n,i)}static fromJsonString(n,i){return new Un().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Un,n,i)}};u(Un,"runtime",f),u(Un,"typeName","yorkie.v1.Operation.Increase"),u(Un,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"value",kind:"message",T:Ae},{no:3,name:"executed_at",kind:"message",T:I}]));let gu=Un;const zn=class zn extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"createdAtMapByActor",{});u(this,"contents",[]);u(this,"splitLevel",0);u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new zn().fromBinary(n,i)}static fromJson(n,i){return new zn().fromJson(n,i)}static fromJsonString(n,i){return new zn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(zn,n,i)}};u(zn,"runtime",f),u(zn,"typeName","yorkie.v1.Operation.TreeEdit"),u(zn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"from",kind:"message",T:na},{no:3,name:"to",kind:"message",T:na},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:I}},{no:5,name:"contents",kind:"message",T:Nu,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:I}]));let mu=zn;const Ln=class Ln extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"attributes",{});u(this,"executedAt");u(this,"attributesToRemove",[]);u(this,"createdAtMapByActor",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Ln().fromBinary(n,i)}static fromJson(n,i){return new Ln().fromJson(n,i)}static fromJsonString(n,i){return new Ln().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ln,n,i)}};u(Ln,"runtime",f),u(Ln,"typeName","yorkie.v1.Operation.TreeStyle"),u(Ln,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"from",kind:"message",T:na},{no:3,name:"to",kind:"message",T:na},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:I},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:I}}]));let yu=Ln;const qn=class qn extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"createdAt");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new qn().fromBinary(n,i)}static fromJson(n,i){return new qn().fromJson(n,i)}static fromJsonString(n,i){return new qn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(qn,n,i)}};u(qn,"runtime",f),u(qn,"typeName","yorkie.v1.Operation.ArraySet"),u(qn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"created_at",kind:"message",T:I},{no:3,name:"value",kind:"message",T:Ae},{no:4,name:"executed_at",kind:"message",T:I}]));let Ff=qn;const Jn=class Jn extends k{constructor(n){super();u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");u(this,"type",0);u(this,"value",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new Jn().fromBinary(n,i)}static fromJson(n,i){return new Jn().fromJson(n,i)}static fromJsonString(n,i){return new Jn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Jn,n,i)}};u(Jn,"runtime",f),u(Jn,"typeName","yorkie.v1.JSONElementSimple"),u(Jn,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:I},{no:2,name:"moved_at",kind:"message",T:I},{no:3,name:"removed_at",kind:"message",T:I},{no:4,name:"type",kind:"enum",T:f.getEnumType(J)},{no:5,name:"value",kind:"scalar",T:12}]));let Ae=Jn;const Hn=class Hn extends k{constructor(n){super();u(this,"body",{case:void 0});f.util.initPartial(n,this)}static fromBinary(n,i){return new Hn().fromBinary(n,i)}static fromJson(n,i){return new Hn().fromJson(n,i)}static fromJsonString(n,i){return new Hn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Hn,n,i)}};u(Hn,"runtime",f),u(Hn,"typeName","yorkie.v1.JSONElement"),u(Hn,"fields",f.util.newFieldList(()=>[{no:1,name:"json_object",kind:"message",T:pu,oneof:"body"},{no:2,name:"json_array",kind:"message",T:vu,oneof:"body"},{no:3,name:"primitive",kind:"message",T:Su,oneof:"body"},{no:5,name:"text",kind:"message",T:bu,oneof:"body"},{no:6,name:"counter",kind:"message",T:Tu,oneof:"body"},{no:7,name:"tree",kind:"message",T:Au,oneof:"body"}]));let ie=Hn;const jn=class jn extends k{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new jn().fromBinary(n,i)}static fromJson(n,i){return new jn().fromJson(n,i)}static fromJsonString(n,i){return new jn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(jn,n,i)}};u(jn,"runtime",f),u(jn,"typeName","yorkie.v1.JSONElement.JSONObject"),u(jn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:g0,repeated:!0},{no:2,name:"created_at",kind:"message",T:I},{no:3,name:"moved_at",kind:"message",T:I},{no:4,name:"removed_at",kind:"message",T:I}]));let pu=jn;const Vn=class Vn extends k{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Vn().fromBinary(n,i)}static fromJson(n,i){return new Vn().fromJson(n,i)}static fromJsonString(n,i){return new Vn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Vn,n,i)}};u(Vn,"runtime",f),u(Vn,"typeName","yorkie.v1.JSONElement.JSONArray"),u(Vn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:wu,repeated:!0},{no:2,name:"created_at",kind:"message",T:I},{no:3,name:"moved_at",kind:"message",T:I},{no:4,name:"removed_at",kind:"message",T:I}]));let vu=Vn;const Pn=class Pn extends k{constructor(n){super();u(this,"type",0);u(this,"value",new Uint8Array(0));u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Pn().fromBinary(n,i)}static fromJson(n,i){return new Pn().fromJson(n,i)}static fromJsonString(n,i){return new Pn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Pn,n,i)}};u(Pn,"runtime",f),u(Pn,"typeName","yorkie.v1.JSONElement.Primitive"),u(Pn,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(J)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:I},{no:4,name:"moved_at",kind:"message",T:I},{no:5,name:"removed_at",kind:"message",T:I}]));let Su=Pn;const Gn=class Gn extends k{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Gn().fromBinary(n,i)}static fromJson(n,i){return new Gn().fromJson(n,i)}static fromJsonString(n,i){return new Gn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Gn,n,i)}};u(Gn,"runtime",f),u(Gn,"typeName","yorkie.v1.JSONElement.Text"),u(Gn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Eu,repeated:!0},{no:2,name:"created_at",kind:"message",T:I},{no:3,name:"moved_at",kind:"message",T:I},{no:4,name:"removed_at",kind:"message",T:I}]));let bu=Gn;const Yn=class Yn extends k{constructor(n){super();u(this,"type",0);u(this,"value",new Uint8Array(0));u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Yn().fromBinary(n,i)}static fromJson(n,i){return new Yn().fromJson(n,i)}static fromJsonString(n,i){return new Yn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Yn,n,i)}};u(Yn,"runtime",f),u(Yn,"typeName","yorkie.v1.JSONElement.Counter"),u(Yn,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(J)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:I},{no:4,name:"moved_at",kind:"message",T:I},{no:5,name:"removed_at",kind:"message",T:I}]));let Tu=Yn;const Fn=class Fn extends k{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Fn().fromBinary(n,i)}static fromJson(n,i){return new Fn().fromJson(n,i)}static fromJsonString(n,i){return new Fn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Fn,n,i)}};u(Fn,"runtime",f),u(Fn,"typeName","yorkie.v1.JSONElement.Tree"),u(Fn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:po,repeated:!0},{no:2,name:"created_at",kind:"message",T:I},{no:3,name:"moved_at",kind:"message",T:I},{no:4,name:"removed_at",kind:"message",T:I}]));let Au=Fn;var Oe;let g0=(Oe=class extends k{constructor(n){super();u(this,"key","");u(this,"element");f.util.initPartial(n,this)}static fromBinary(n,i){return new Oe().fromBinary(n,i)}static fromJson(n,i){return new Oe().fromJson(n,i)}static fromJsonString(n,i){return new Oe().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Oe,n,i)}},u(Oe,"runtime",f),u(Oe,"typeName","yorkie.v1.RHTNode"),u(Oe,"fields",f.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:ie}])),Oe);const tn=class tn extends k{constructor(n){super();u(this,"next");u(this,"element");f.util.initPartial(n,this)}static fromBinary(n,i){return new tn().fromBinary(n,i)}static fromJson(n,i){return new tn().fromJson(n,i)}static fromJsonString(n,i){return new tn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(tn,n,i)}};u(tn,"runtime",f),u(tn,"typeName","yorkie.v1.RGANode"),u(tn,"fields",f.util.newFieldList(()=>[{no:1,name:"next",kind:"message",T:tn},{no:2,name:"element",kind:"message",T:ie}]));let wu=tn;const Kn=class Kn extends k{constructor(n){super();u(this,"value","");u(this,"updatedAt");u(this,"isRemoved",!1);f.util.initPartial(n,this)}static fromBinary(n,i){return new Kn().fromBinary(n,i)}static fromJson(n,i){return new Kn().fromJson(n,i)}static fromJsonString(n,i){return new Kn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Kn,n,i)}};u(Kn,"runtime",f),u(Kn,"typeName","yorkie.v1.NodeAttr"),u(Kn,"fields",f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:I},{no:3,name:"is_removed",kind:"scalar",T:8}]));let is=Kn;const $n=class $n extends k{constructor(n){super();u(this,"id");u(this,"value","");u(this,"removedAt");u(this,"insPrevId");u(this,"attributes",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new $n().fromBinary(n,i)}static fromJson(n,i){return new $n().fromJson(n,i)}static fromJsonString(n,i){return new $n().fromJsonString(n,i)}static equals(n,i){return f.util.equals($n,n,i)}};u($n,"runtime",f),u($n,"typeName","yorkie.v1.TextNode"),u($n,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:yo},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:I},{no:4,name:"ins_prev_id",kind:"message",T:yo},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:is}}]));let Eu=$n;const Xn=class Xn extends k{constructor(n){super();u(this,"createdAt");u(this,"offset",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new Xn().fromBinary(n,i)}static fromJson(n,i){return new Xn().fromJson(n,i)}static fromJsonString(n,i){return new Xn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Xn,n,i)}};u(Xn,"runtime",f),u(Xn,"typeName","yorkie.v1.TextNodeID"),u(Xn,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:I},{no:2,name:"offset",kind:"scalar",T:5}]));let yo=Xn;const Zn=class Zn extends k{constructor(n){super();u(this,"id");u(this,"type","");u(this,"value","");u(this,"removedAt");u(this,"insPrevId");u(this,"insNextId");u(this,"depth",0);u(this,"attributes",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Zn().fromBinary(n,i)}static fromJson(n,i){return new Zn().fromJson(n,i)}static fromJsonString(n,i){return new Zn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Zn,n,i)}};u(Zn,"runtime",f),u(Zn,"typeName","yorkie.v1.TreeNode"),u(Zn,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Sr},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:I},{no:5,name:"ins_prev_id",kind:"message",T:Sr},{no:6,name:"ins_next_id",kind:"message",T:Sr},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:is}}]));let po=Zn;const Qn=class Qn extends k{constructor(n){super();u(this,"content",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new Qn().fromBinary(n,i)}static fromJson(n,i){return new Qn().fromJson(n,i)}static fromJsonString(n,i){return new Qn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Qn,n,i)}};u(Qn,"runtime",f),u(Qn,"typeName","yorkie.v1.TreeNodes"),u(Qn,"fields",f.util.newFieldList(()=>[{no:1,name:"content",kind:"message",T:po,repeated:!0}]));let Nu=Qn;const _n=class _n extends k{constructor(n){super();u(this,"createdAt");u(this,"offset",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new _n().fromBinary(n,i)}static fromJson(n,i){return new _n().fromJson(n,i)}static fromJsonString(n,i){return new _n().fromJsonString(n,i)}static equals(n,i){return f.util.equals(_n,n,i)}};u(_n,"runtime",f),u(_n,"typeName","yorkie.v1.TreeNodeID"),u(_n,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:I},{no:2,name:"offset",kind:"scalar",T:5}]));let Sr=_n;const Wn=class Wn extends k{constructor(n){super();u(this,"parentId");u(this,"leftSiblingId");f.util.initPartial(n,this)}static fromBinary(n,i){return new Wn().fromBinary(n,i)}static fromJson(n,i){return new Wn().fromJson(n,i)}static fromJsonString(n,i){return new Wn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Wn,n,i)}};u(Wn,"runtime",f),u(Wn,"typeName","yorkie.v1.TreePos"),u(Wn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_id",kind:"message",T:Sr},{no:2,name:"left_sibling_id",kind:"message",T:Sr}]));let na=Wn;const ti=class ti extends k{constructor(n){super();u(this,"id","");u(this,"username","");u(this,"createdAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new ti().fromBinary(n,i)}static fromJson(n,i){return new ti().fromJson(n,i)}static fromJsonString(n,i){return new ti().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ti,n,i)}};u(ti,"runtime",f),u(ti,"typeName","yorkie.v1.User"),u(ti,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"created_at",kind:"message",T:Pt}]));let Bm=ti;const ei=class ei extends k{constructor(n){super();u(this,"id","");u(this,"name","");u(this,"publicKey","");u(this,"secretKey","");u(this,"authWebhookUrl","");u(this,"authWebhookMethods",[]);u(this,"clientDeactivateThreshold","");u(this,"createdAt");u(this,"updatedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new ei().fromBinary(n,i)}static fromJson(n,i){return new ei().fromJson(n,i)}static fromJsonString(n,i){return new ei().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ei,n,i)}};u(ei,"runtime",f),u(ei,"typeName","yorkie.v1.Project"),u(ei,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:8,name:"created_at",kind:"message",T:Pt},{no:9,name:"updated_at",kind:"message",T:Pt}]));let Mm=ei;const ni=class ni extends k{constructor(n){super();u(this,"name");u(this,"authWebhookUrl");u(this,"authWebhookMethods");u(this,"clientDeactivateThreshold");f.util.initPartial(n,this)}static fromBinary(n,i){return new ni().fromBinary(n,i)}static fromJson(n,i){return new ni().fromJson(n,i)}static fromJsonString(n,i){return new ni().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ni,n,i)}};u(ni,"runtime",f),u(ni,"typeName","yorkie.v1.UpdatableProjectFields"),u(ni,"fields",f.util.newFieldList(()=>[{no:1,name:"name",kind:"message",T:le},{no:2,name:"auth_webhook_url",kind:"message",T:le},{no:3,name:"auth_webhook_methods",kind:"message",T:Kf},{no:4,name:"client_deactivate_threshold",kind:"message",T:le}]));let Im=ni;const ii=class ii extends k{constructor(n){super();u(this,"methods",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new ii().fromBinary(n,i)}static fromJson(n,i){return new ii().fromJson(n,i)}static fromJsonString(n,i){return new ii().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ii,n,i)}};u(ii,"runtime",f),u(ii,"typeName","yorkie.v1.UpdatableProjectFields.AuthWebhookMethods"),u(ii,"fields",f.util.newFieldList(()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}]));let Kf=ii;const ri=class ri extends k{constructor(n){super();u(this,"id","");u(this,"key","");u(this,"snapshot","");u(this,"createdAt");u(this,"accessedAt");u(this,"updatedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new ri().fromBinary(n,i)}static fromJson(n,i){return new ri().fromJson(n,i)}static fromJsonString(n,i){return new ri().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ri,n,i)}};u(ri,"runtime",f),u(ri,"typeName","yorkie.v1.DocumentSummary"),u(ri,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"snapshot",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:Pt},{no:5,name:"accessed_at",kind:"message",T:Pt},{no:6,name:"updated_at",kind:"message",T:Pt}]));let Um=ri;const ai=class ai extends k{constructor(n){super();u(this,"type",0);u(this,"presence");f.util.initPartial(n,this)}static fromBinary(n,i){return new ai().fromBinary(n,i)}static fromJson(n,i){return new ai().fromJson(n,i)}static fromJsonString(n,i){return new ai().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ai,n,i)}};u(ai,"runtime",f),u(ai,"typeName","yorkie.v1.PresenceChange"),u(ai,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(ia)},{no:2,name:"presence",kind:"message",T:vd}]));let vo=ai;var ia=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PUT=1]="PUT",e[e.DELETE=2]="DELETE",e[e.CLEAR=3]="CLEAR",e))(ia||{});f.util.setEnumType(ia,"yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT"},{no:2,name:"CHANGE_TYPE_DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR"}]);var Ce;let vd=(Ce=class extends k{constructor(n){super();u(this,"data",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Ce().fromBinary(n,i)}static fromJson(n,i){return new Ce().fromJson(n,i)}static fromJsonString(n,i){return new Ce().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ce,n,i)}},u(Ce,"runtime",f),u(Ce,"typeName","yorkie.v1.Presence"),u(Ce,"fields",f.util.newFieldList(()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}])),Ce);var ke;let m0=(ke=class extends k{constructor(n){super();u(this,"serverSeq",ut.zero);u(this,"clientSeq",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new ke().fromBinary(n,i)}static fromJson(n,i){return new ke().fromJson(n,i)}static fromJsonString(n,i){return new ke().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ke,n,i)}},u(ke,"runtime",f),u(ke,"typeName","yorkie.v1.Checkpoint"),u(ke,"fields",f.util.newFieldList(()=>[{no:1,name:"server_seq",kind:"scalar",T:3},{no:2,name:"client_seq",kind:"scalar",T:13}])),ke);const si=class si extends k{constructor(n){super();u(this,"createdAt");u(this,"offset",0);u(this,"relativeOffset",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new si().fromBinary(n,i)}static fromJson(n,i){return new si().fromJson(n,i)}static fromJsonString(n,i){return new si().fromJsonString(n,i)}static equals(n,i){return f.util.equals(si,n,i)}};u(si,"runtime",f),u(si,"typeName","yorkie.v1.TextNodePos"),u(si,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:I},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]));let Fi=si;var Re;let I=(Re=class extends k{constructor(n){super();u(this,"lamport",ut.zero);u(this,"delimiter",0);u(this,"actorId",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new Re().fromBinary(n,i)}static fromJson(n,i){return new Re().fromJson(n,i)}static fromJsonString(n,i){return new Re().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Re,n,i)}},u(Re,"runtime",f),u(Re,"typeName","yorkie.v1.TimeTicket"),u(Re,"fields",f.util.newFieldList(()=>[{no:1,name:"lamport",kind:"scalar",T:3},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}])),Re);const oi=class oi extends k{constructor(n){super();u(this,"topic","");u(this,"payload",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new oi().fromBinary(n,i)}static fromJson(n,i){return new oi().fromJson(n,i)}static fromJsonString(n,i){return new oi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(oi,n,i)}};u(oi,"runtime",f),u(oi,"typeName","yorkie.v1.DocEventBody"),u(oi,"fields",f.util.newFieldList(()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]));let $f=oi;const li=class li extends k{constructor(n){super();u(this,"type",0);u(this,"publisher","");u(this,"body");f.util.initPartial(n,this)}static fromBinary(n,i){return new li().fromBinary(n,i)}static fromJson(n,i){return new li().fromJson(n,i)}static fromJsonString(n,i){return new li().fromJsonString(n,i)}static equals(n,i){return f.util.equals(li,n,i)}};u(li,"runtime",f),u(li,"typeName","yorkie.v1.DocEvent"),u(li,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(Zr)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:$f}]));let Xf=li;const ui=class ui extends k{constructor(n){super();u(this,"clientKey","");u(this,"metadata",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new ui().fromBinary(n,i)}static fromJson(n,i){return new ui().fromJson(n,i)}static fromJsonString(n,i){return new ui().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ui,n,i)}};u(ui,"runtime",f),u(ui,"typeName","yorkie.v1.ActivateClientRequest"),u(ui,"fields",f.util.newFieldList(()=>[{no:1,name:"client_key",kind:"scalar",T:9},{no:2,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let Zf=ui;const ci=class ci extends k{constructor(n){super();u(this,"clientId","");f.util.initPartial(n,this)}static fromBinary(n,i){return new ci().fromBinary(n,i)}static fromJson(n,i){return new ci().fromJson(n,i)}static fromJsonString(n,i){return new ci().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ci,n,i)}};u(ci,"runtime",f),u(ci,"typeName","yorkie.v1.ActivateClientResponse"),u(ci,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let Qf=ci;const fi=class fi extends k{constructor(n){super();u(this,"clientId","");f.util.initPartial(n,this)}static fromBinary(n,i){return new fi().fromBinary(n,i)}static fromJson(n,i){return new fi().fromJson(n,i)}static fromJsonString(n,i){return new fi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(fi,n,i)}};u(fi,"runtime",f),u(fi,"typeName","yorkie.v1.DeactivateClientRequest"),u(fi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let _f=fi;const hi=class hi extends k{constructor(t){super(),f.util.initPartial(t,this)}static fromBinary(t,n){return new hi().fromBinary(t,n)}static fromJson(t,n){return new hi().fromJson(t,n)}static fromJsonString(t,n){return new hi().fromJsonString(t,n)}static equals(t,n){return f.util.equals(hi,t,n)}};u(hi,"runtime",f),u(hi,"typeName","yorkie.v1.DeactivateClientResponse"),u(hi,"fields",f.util.newFieldList(()=>[]));let Wf=hi;const di=class di extends k{constructor(n){super();u(this,"clientId","");u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new di().fromBinary(n,i)}static fromJson(n,i){return new di().fromJson(n,i)}static fromJsonString(n,i){return new di().fromJsonString(n,i)}static equals(n,i){return f.util.equals(di,n,i)}};u(di,"runtime",f),u(di,"typeName","yorkie.v1.AttachDocumentRequest"),u(di,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Xi}]));let th=di;const gi=class gi extends k{constructor(n){super();u(this,"documentId","");u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new gi().fromBinary(n,i)}static fromJson(n,i){return new gi().fromJson(n,i)}static fromJsonString(n,i){return new gi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(gi,n,i)}};u(gi,"runtime",f),u(gi,"typeName","yorkie.v1.AttachDocumentResponse"),u(gi,"fields",f.util.newFieldList(()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Xi}]));let eh=gi;const mi=class mi extends k{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"changePack");u(this,"removeIfNotAttached",!1);f.util.initPartial(n,this)}static fromBinary(n,i){return new mi().fromBinary(n,i)}static fromJson(n,i){return new mi().fromJson(n,i)}static fromJsonString(n,i){return new mi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(mi,n,i)}};u(mi,"runtime",f),u(mi,"typeName","yorkie.v1.DetachDocumentRequest"),u(mi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Xi},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]));let nh=mi;const yi=class yi extends k{constructor(n){super();u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new yi().fromBinary(n,i)}static fromJson(n,i){return new yi().fromJson(n,i)}static fromJsonString(n,i){return new yi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(yi,n,i)}};u(yi,"runtime",f),u(yi,"typeName","yorkie.v1.DetachDocumentResponse"),u(yi,"fields",f.util.newFieldList(()=>[{no:2,name:"change_pack",kind:"message",T:Xi}]));let ih=yi;const pi=class pi extends k{constructor(n){super();u(this,"clientId","");u(this,"documentId","");f.util.initPartial(n,this)}static fromBinary(n,i){return new pi().fromBinary(n,i)}static fromJson(n,i){return new pi().fromJson(n,i)}static fromJsonString(n,i){return new pi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(pi,n,i)}};u(pi,"runtime",f),u(pi,"typeName","yorkie.v1.WatchDocumentRequest"),u(pi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]));let rh=pi;const vi=class vi extends k{constructor(n){super();u(this,"body",{case:void 0});f.util.initPartial(n,this)}static fromBinary(n,i){return new vi().fromBinary(n,i)}static fromJson(n,i){return new vi().fromJson(n,i)}static fromJsonString(n,i){return new vi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(vi,n,i)}};u(vi,"runtime",f),u(vi,"typeName","yorkie.v1.WatchDocumentResponse"),u(vi,"fields",f.util.newFieldList(()=>[{no:1,name:"initialization",kind:"message",T:sh,oneof:"body"},{no:2,name:"event",kind:"message",T:Xf,oneof:"body"}]));let ah=vi;const Si=class Si extends k{constructor(n){super();u(this,"clientIds",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new Si().fromBinary(n,i)}static fromJson(n,i){return new Si().fromJson(n,i)}static fromJsonString(n,i){return new Si().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Si,n,i)}};u(Si,"runtime",f),u(Si,"typeName","yorkie.v1.WatchDocumentResponse.Initialization"),u(Si,"fields",f.util.newFieldList(()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}]));let sh=Si;const bi=class bi extends k{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new bi().fromBinary(n,i)}static fromJson(n,i){return new bi().fromJson(n,i)}static fromJsonString(n,i){return new bi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(bi,n,i)}};u(bi,"runtime",f),u(bi,"typeName","yorkie.v1.RemoveDocumentRequest"),u(bi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Xi}]));let oh=bi;const Ti=class Ti extends k{constructor(n){super();u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new Ti().fromBinary(n,i)}static fromJson(n,i){return new Ti().fromJson(n,i)}static fromJsonString(n,i){return new Ti().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ti,n,i)}};u(Ti,"runtime",f),u(Ti,"typeName","yorkie.v1.RemoveDocumentResponse"),u(Ti,"fields",f.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Xi}]));let lh=Ti;const Ai=class Ai extends k{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"changePack");u(this,"pushOnly",!1);f.util.initPartial(n,this)}static fromBinary(n,i){return new Ai().fromBinary(n,i)}static fromJson(n,i){return new Ai().fromJson(n,i)}static fromJsonString(n,i){return new Ai().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ai,n,i)}};u(Ai,"runtime",f),u(Ai,"typeName","yorkie.v1.PushPullChangesRequest"),u(Ai,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Xi},{no:4,name:"push_only",kind:"scalar",T:8}]));let uh=Ai;const wi=class wi extends k{constructor(n){super();u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new wi().fromBinary(n,i)}static fromJson(n,i){return new wi().fromJson(n,i)}static fromJsonString(n,i){return new wi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(wi,n,i)}};u(wi,"runtime",f),u(wi,"typeName","yorkie.v1.PushPullChangesResponse"),u(wi,"fields",f.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Xi}]));let ch=wi;const Ei=class Ei extends k{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"topic","");u(this,"payload",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new Ei().fromBinary(n,i)}static fromJson(n,i){return new Ei().fromJson(n,i)}static fromJsonString(n,i){return new Ei().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ei,n,i)}};u(Ei,"runtime",f),u(Ei,"typeName","yorkie.v1.BroadcastRequest"),u(Ei,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]));let fh=Ei;const Ni=class Ni extends k{constructor(t){super(),f.util.initPartial(t,this)}static fromBinary(t,n){return new Ni().fromBinary(t,n)}static fromJson(t,n){return new Ni().fromJson(t,n)}static fromJsonString(t,n){return new Ni().fromJsonString(t,n)}static equals(t,n){return f.util.equals(Ni,t,n)}};u(Ni,"runtime",f),u(Ni,"typeName","yorkie.v1.BroadcastResponse"),u(Ni,"fields",f.util.newFieldList(()=>[]));let hh=Ni;const bA={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:Zf,O:Qf,kind:Kt.Unary},deactivateClient:{name:"DeactivateClient",I:_f,O:Wf,kind:Kt.Unary},attachDocument:{name:"AttachDocument",I:th,O:eh,kind:Kt.Unary},detachDocument:{name:"DetachDocument",I:nh,O:ih,kind:Kt.Unary},removeDocument:{name:"RemoveDocument",I:oh,O:lh,kind:Kt.Unary},pushPullChanges:{name:"PushPullChanges",I:uh,O:ch,kind:Kt.Unary},watchDocument:{name:"WatchDocument",I:rh,O:ah,kind:Kt.ServerStreaming},broadcast:{name:"Broadcast",I:fh,O:hh,kind:Kt.Unary}}},TA=f.makeMessageType("google.rpc.ErrorInfo",()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]);f.makeMessageType("google.rpc.RetryInfo",()=>[{no:1,name:"retry_delay",kind:"message",T:zi}]);f.makeMessageType("google.rpc.DebugInfo",()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.QuotaFailure",()=>[{no:1,name:"violations",kind:"message",T:AA,repeated:!0}]);const AA=f.makeMessageType("google.rpc.QuotaFailure.Violation",()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}],{localName:"QuotaFailure_Violation"});f.makeMessageType("google.rpc.PreconditionFailure",()=>[{no:1,name:"violations",kind:"message",T:wA,repeated:!0}]);const wA=f.makeMessageType("google.rpc.PreconditionFailure.Violation",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}],{localName:"PreconditionFailure_Violation"});f.makeMessageType("google.rpc.BadRequest",()=>[{no:1,name:"field_violations",kind:"message",T:EA,repeated:!0}]);const EA=f.makeMessageType("google.rpc.BadRequest.FieldViolation",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}],{localName:"BadRequest_FieldViolation"});f.makeMessageType("google.rpc.RequestInfo",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.ResourceInfo",()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.Help",()=>[{no:1,name:"links",kind:"message",T:NA,repeated:!0}]);const NA=f.makeMessageType("google.rpc.Help.Link",()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}],{localName:"Help_Link"});f.makeMessageType("google.rpc.LocalizedMessage",()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]);var b=(e=>(e.Ok="ok",e.ErrClientNotActivated="ErrClientNotActivated",e.ErrClientNotFound="ErrClientNotFound",e.ErrUnimplemented="ErrUnimplemented",e.ErrInvalidType="ErrInvalidType",e.ErrDummy="ErrDummy",e.ErrDocumentNotAttached="ErrDocumentNotAttached",e.ErrDocumentNotDetached="ErrDocumentNotDetached",e.ErrDocumentRemoved="ErrDocumentRemoved",e.ErrInvalidObjectKey="ErrInvalidObjectKey",e.ErrInvalidArgument="ErrInvalidArgument",e.ErrNotInitialized="ErrNotInitialized",e.ErrNotReady="ErrNotReady",e.ErrRefused="ErrRefused",e.ErrContextNotProvided="ErrContextNotProvided",e.ErrPermissionDenied="ErrPermissionDenied",e.ErrUnauthenticated="ErrUnauthenticated",e))(b||{});class T extends Error{constructor(n,i){super(i);u(this,"name","YorkieError");u(this,"stack");this.code=n,this.message=i,this.toString=()=>`[code=${this.code}]: ${this.message}`}}function Pe(e){if(e instanceof Map){const t=Array.from(e);return new Map(JSON.parse(JSON.stringify(t)))}return JSON.parse(JSON.stringify(e))}const y0=e=>e?Object.entries(e).length===0:!0,rs=e=>{const t={};for(const[n,i]of Object.entries(e))t[n]=JSON.stringify(i);return t},Pa=e=>{const t={};for(const[n,i]of Object.entries(e))t[n]=JSON.parse(i);return t};var Dr=(e=>(e.Put="put",e.Clear="clear",e))(Dr||{});class Gc{constructor(t,n){u(this,"context");u(this,"presence");this.context=t,this.presence=n}set(t,n){for(const i of Object.keys(t))this.presence[i]=t[i];this.context.setPresenceChange({type:"put",presence:Pe(this.presence)}),this.context.setReversePresence(t,n)}get(t){return this.presence[t]}clear(){this.presence={},this.context.setPresenceChange({type:"clear"})}}const Zu="000000000000000000000000";class qe{constructor(t,n,i){u(this,"lamport");u(this,"delimiter");u(this,"actorID");this.lamport=t,this.delimiter=n,this.actorID=i}static of(t,n,i){return new qe(t,n,i)}static fromStruct(t){return qe.of(BigInt(t.lamport),t.delimiter,t.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(t){return new qe(this.lamport,this.delimiter,t)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(t){return this.compare(t)>0}equals(t){return this.compare(t)===0}compare(t){if(this.lamport>t.lamport)return 1;if(t.lamport>this.lamport)return-1;const n=this.actorID.localeCompare(t.actorID);return n!==0?n:this.delimiter>t.delimiter?1:t.delimiter>this.delimiter?-1:0}}const p0=0,Zs=9223372036854775807n,Xe=new qe(0n,p0,Zu);function gn(e){return e.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(t){switch(t){case'"':case"\\":return"\\"+t;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return t}})}class Lo{constructor(t){u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");this.createdAt=t}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(t){return!this.movedAt||t&&t.after(this.movedAt)?(this.movedAt=t,!0):!1}setRemovedAt(t){this.removedAt=t}remove(t){return t&&t.after(this.getPositionedAt())&&(!this.removedAt||t.after(this.removedAt))?(this.removedAt=t,!0):!1}isRemoved(){return!!this.removedAt}}class br extends Lo{constructor(t){super(t)}}class Sd{constructor(t,n){u(this,"strKey");u(this,"value");this.strKey=t,this.value=n}static of(t,n){return new Sd(t,n)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(t){return this.value.remove(t)}}class So{constructor(){u(this,"nodeMapByKey");u(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new So}set(t,n,i){let r;const a=this.nodeMapByKey.get(t);a!=null&&!a.isRemoved()&&a.remove(i)&&(r=a.getValue());const s=Sd.of(t,n);return this.nodeMapByCreatedAt.set(n.getCreatedAt().toIDString(),s),(a==null||i.after(a.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(t,s),n.setMovedAt(i)),r}delete(t,n){if(!this.nodeMapByCreatedAt.has(t.toIDString()))throw new T(b.ErrInvalidArgument,`fail to find ${t.toIDString()}`);const i=this.nodeMapByCreatedAt.get(t.toIDString());return i.remove(n),i.getValue()}subPathOf(t){const n=this.nodeMapByCreatedAt.get(t.toIDString());if(n)return n.getStrKey()}purge(t){const n=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!n)throw new T(b.ErrInvalidArgument,`fail to find ${t.getCreatedAt().toIDString()}`);const i=this.nodeMapByKey.get(n.getStrKey());n===i&&this.nodeMapByKey.delete(i.getStrKey()),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}deleteByKey(t,n){const i=this.nodeMapByKey.get(t);if(i!=null&&i.remove(n))return i.getValue()}has(t){const n=this.nodeMapByKey.get(t);return n==null?!1:!n.isRemoved()}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}get(t){const n=this.nodeMapByKey.get(t);if(!(!n||n.isRemoved()))return n}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}}class ee extends br{constructor(n,i){super(n);u(this,"memberNodes");this.memberNodes=i}static create(n,i){if(!i)return new ee(n,So.create());const r=So.create();for(const[a,s]of Object.entries(i))r.set(a,s.deepcopy(),s.getCreatedAt());return new ee(n,r)}subPathOf(n){return this.memberNodes.subPathOf(n)}purge(n){this.memberNodes.purge(n)}set(n,i,r){return this.memberNodes.set(n,i,r)}delete(n,i){return this.memberNodes.delete(n,i)}deleteByKey(n,i){return this.memberNodes.deleteByKey(n,i)}get(n){const i=this.memberNodes.get(n);return i==null?void 0:i.getValue()}getByID(n){const i=this.memberNodes.getByID(n);return i==null?void 0:i.getValue()}has(n){return this.memberNodes.has(n)}toJSON(){const n=[];for(const[i,r]of this)n.push(`"${gn(i)}":${r.toJSON()}`);return`{${n.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const n={};for(const[i,r]of this){const{createdAt:a,value:s,type:o}=r.toJSForTest();n[i]={key:i,createdAt:a,value:s,type:o}}return{createdAt:this.getCreatedAt().toTestString(),value:n,type:"YORKIE_OBJECT"}}getKeys(){const n=Array();for(const[i]of this)n.push(i);return n}toSortedJSON(){var r;const n=Array();for(const[a]of this)n.push(a);const i=[];for(const a of n.sort()){const s=(r=this.memberNodes.get(a))==null?void 0:r.getValue();i.push(`"${gn(a)}":${s.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const n=ee.create(this.getCreatedAt());for(const i of this.memberNodes)n.memberNodes.set(i.getStrKey(),i.getValue().deepcopy(),this.getPositionedAt());return n.remove(this.getRemovedAt()),n}getDescendants(n){for(const i of this.memberNodes){const r=i.getValue();if(n(r,this))return;r instanceof br&&r.getDescendants(n)}}*[Symbol.iterator](){const n=new Set;for(const i of this.memberNodes)n.has(i.getStrKey())||(n.add(i.getStrKey()),i.isRemoved()||(yield[i.getStrKey(),i.getValue()]))}}var nt=(e=>(e.Local="local",e.Remote="remote",e.UndoRedo="undoredo",e))(nt||{});class Qe{constructor(t,n){u(this,"parentCreatedAt");u(this,"executedAt");this.parentCreatedAt=t,this.executedAt=n}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new T(b.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(t){this.executedAt&&(this.executedAt=this.executedAt.setActor(t))}setExecutedAt(t){this.executedAt=t}}class v0{constructor(t){u(this,"value");u(this,"left");u(this,"right");u(this,"parent");u(this,"weight");this.value=t,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(t){this.left=t}setRight(t){this.right=t}setParent(t){this.parent=t}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(t){this.weight+=t}initWeight(){this.weight=this.getLength()}}class bo{constructor(t){u(this,"root");this.root=t}get length(){return this.root?this.root.getWeight():0}find(t){if(!this.root||t<0)return[void 0,0];let n=this.root;for(;;)if(n.hasLeft()&&t<=n.getLeftWeight())n=n.getLeft();else if(n.hasRight()&&n.getLeftWeight()+n.getLength()<t)t-=n.getLeftWeight()+n.getLength(),n=n.getRight();else{t-=n.getLeftWeight();break}if(t>n.getLength())throw new T(b.ErrInvalidArgument,`out of index range: pos: ${t} > node.length: ${n.getLength()}`);return this.splayNode(n),[n,t]}indexOf(t){return!t||t!==this.root&&!t.hasLinks()?-1:(this.splayNode(t),this.root.getLeftWeight())}getRoot(){return this.root}insert(t){return this.insertAfter(this.root,t)}insertAfter(t,n){return t?(this.splayNode(t),this.root=n,n.setRight(t.getRight()),t.hasRight()&&t.getRight().setParent(n),n.setLeft(t),t.setParent(n),t.setRight(),this.updateWeight(t),this.updateWeight(n),n):(this.root=n,n)}updateWeight(t){t.initWeight(),t.hasLeft()&&t.increaseWeight(t.getLeftWeight()),t.hasRight()&&t.increaseWeight(t.getRightWeight())}updateTreeWeight(t){for(;t;)this.updateWeight(t),t=t.getParent()}splayNode(t){if(t)for(;;)if(this.isLeftChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t),this.rotateLeft(t);else if(this.isLeftChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t.getParent()),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t.getParent()),this.rotateLeft(t);else{this.isLeftChild(t)?this.rotateRight(t):this.isRightChild(t)&&this.rotateLeft(t),this.updateWeight(t);return}}delete(t){this.splayNode(t);const n=new bo(t.getLeft());n.root&&n.root.setParent();const i=new bo(t.getRight());if(i.root&&i.root.setParent(),n.root){const r=n.getRightmost();n.splayNode(r),n.root.setRight(i.root),i.root&&i.root.setParent(n.root),this.root=n.root}else this.root=i.root;t.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(t,n){if(!n){this.splayNode(t),this.cutOffRight(t);return}this.splayNode(t),this.splayNode(n),n.getLeft()!=t&&this.rotateRight(t),this.cutOffRight(t)}cutOffRight(t){const n=[];this.traversePostorder(t.getRight(),n);for(const i of n)i.initWeight();this.updateTreeWeight(t)}toTestString(){const t=[];return this.traverseInorder(this.root,t),t.map(n=>`[${n.getWeight()},${n.getLength()}]${n.getValue()||""}`).join("")}checkWeight(){const t=[];this.traverseInorder(this.root,t);for(const n of t)if(n.getWeight()!=n.getLength()+n.getLeftWeight()+n.getRightWeight())return!1;return!0}getRightmost(){let t=this.root;for(;t.hasRight();)t=t.getRight();return t}traverseInorder(t,n){t&&(this.traverseInorder(t.getLeft(),n),n.push(t),this.traverseInorder(t.getRight(),n))}traversePostorder(t,n){t&&(this.traversePostorder(t.getLeft(),n),this.traversePostorder(t.getRight(),n),n.push(t))}rotateLeft(t){const n=t.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(t):n.getParent().setRight(t):this.root=t,t.setParent(n.getParent()),n.setRight(t.getLeft()),n.hasRight()&&n.getRight().setParent(n),t.setLeft(n),t.getLeft().setParent(t),this.updateWeight(n),this.updateWeight(t)}rotateRight(t){const n=t.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(t):n.getParent().setRight(t):this.root=t,t.setParent(n.getParent()),n.setLeft(t.getRight()),n.hasLeft()&&n.getLeft().setParent(n),t.setRight(n),t.getRight().setParent(t),this.updateWeight(n),this.updateWeight(t)}isLeftChild(t){return t&&t.hasParent()?t.getParent().getLeft()===t:!1}isRightChild(t){return t&&t.hasParent()?t.getParent().getRight()===t:!1}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var ze=null;try{ze=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function X(e,t,n){this.low=e|0,this.high=t|0,this.unsigned=!!n}X.prototype.__isLong__;Object.defineProperty(X.prototype,"__isLong__",{value:!0});function Ft(e){return(e&&e.__isLong__)===!0}function zm(e){var t=Math.clz32(e&-e);return e?31-t:t}X.isLong=Ft;var Lm={},qm={};function fa(e,t){var n,i,r;return t?(e>>>=0,(r=0<=e&&e<256)&&(i=qm[e],i)?i:(n=_(e,0,!0),r&&(qm[e]=n),n)):(e|=0,(r=-128<=e&&e<128)&&(i=Lm[e],i)?i:(n=_(e,e<0?-1:0,!1),r&&(Lm[e]=n),n))}X.fromInt=fa;function Le(e,t){if(isNaN(e))return t?qi:Fe;if(t){if(e<0)return qi;if(e>=S0)return A0}else{if(e<=-Hm)return te;if(e+1>=Hm)return T0}return e<0?Le(-e,t).neg():_(e%as|0,e/as|0,t)}X.fromNumber=Le;function _(e,t,n){return new X(e,t,n)}X.fromBits=_;var xu=Math.pow;function bd(e,t,n){if(e.length===0)throw Error("empty string");if(typeof t=="number"?(n=t,t=!1):t=!!t,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t?qi:Fe;if(n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return bd(e.substring(1),t,n).neg();for(var r=Le(xu(n,8)),a=Fe,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),l=parseInt(e.substring(s,s+o),n);if(o<8){var c=Le(xu(n,o));a=a.mul(c).add(Le(l))}else a=a.mul(r),a=a.add(Le(l))}return a.unsigned=t,a}X.fromString=bd;function We(e,t){return typeof e=="number"?Le(e,t):typeof e=="string"?bd(e,t):_(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}X.fromValue=We;var Jm=65536,xA=1<<24,as=Jm*Jm,S0=as*as,Hm=S0/2,jm=fa(xA),Fe=fa(0);X.ZERO=Fe;var qi=fa(0,!0);X.UZERO=qi;var Ma=fa(1);X.ONE=Ma;var b0=fa(1,!0);X.UONE=b0;var dh=fa(-1);X.NEG_ONE=dh;var T0=_(-1,2147483647,!1);X.MAX_VALUE=T0;var A0=_(-1,-1,!0);X.MAX_UNSIGNED_VALUE=A0;var te=_(0,-2147483648,!1);X.MIN_VALUE=te;var D=X.prototype;D.toInt=function(){return this.unsigned?this.low>>>0:this.low};D.toNumber=function(){return this.unsigned?(this.high>>>0)*as+(this.low>>>0):this.high*as+(this.low>>>0)};D.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(te)){var n=Le(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var a=Le(xu(t,6),this.unsigned),s=this,o="";;){var l=s.div(a),c=s.sub(l.mul(a)).toInt()>>>0,h=c.toString(t);if(s=l,s.isZero())return h+o;for(;h.length<6;)h="0"+h;o=""+h+o}};D.getHighBits=function(){return this.high};D.getHighBitsUnsigned=function(){return this.high>>>0};D.getLowBits=function(){return this.low};D.getLowBitsUnsigned=function(){return this.low>>>0};D.getNumBitsAbs=function(){if(this.isNegative())return this.eq(te)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,n=31;n>0&&!(t&1<<n);n--);return this.high!=0?n+33:n+1};D.isZero=function(){return this.high===0&&this.low===0};D.eqz=D.isZero;D.isNegative=function(){return!this.unsigned&&this.high<0};D.isPositive=function(){return this.unsigned||this.high>=0};D.isOdd=function(){return(this.low&1)===1};D.isEven=function(){return(this.low&1)===0};D.equals=function(t){return Ft(t)||(t=We(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low};D.eq=D.equals;D.notEquals=function(t){return!this.eq(t)};D.neq=D.notEquals;D.ne=D.notEquals;D.lessThan=function(t){return this.comp(t)<0};D.lt=D.lessThan;D.lessThanOrEqual=function(t){return this.comp(t)<=0};D.lte=D.lessThanOrEqual;D.le=D.lessThanOrEqual;D.greaterThan=function(t){return this.comp(t)>0};D.gt=D.greaterThan;D.greaterThanOrEqual=function(t){return this.comp(t)>=0};D.gte=D.greaterThanOrEqual;D.ge=D.greaterThanOrEqual;D.compare=function(t){if(Ft(t)||(t=We(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1};D.comp=D.compare;D.negate=function(){return!this.unsigned&&this.eq(te)?te:this.not().add(Ma)};D.neg=D.negate;D.add=function(t){Ft(t)||(t=We(t));var n=this.high>>>16,i=this.high&65535,r=this.low>>>16,a=this.low&65535,s=t.high>>>16,o=t.high&65535,l=t.low>>>16,c=t.low&65535,h=0,d=0,g=0,m=0;return m+=a+c,g+=m>>>16,m&=65535,g+=r+l,d+=g>>>16,g&=65535,d+=i+o,h+=d>>>16,d&=65535,h+=n+s,h&=65535,_(g<<16|m,h<<16|d,this.unsigned)};D.subtract=function(t){return Ft(t)||(t=We(t)),this.add(t.neg())};D.sub=D.subtract;D.multiply=function(t){if(this.isZero())return this;if(Ft(t)||(t=We(t)),ze){var n=ze.mul(this.low,this.high,t.low,t.high);return _(n,ze.get_high(),this.unsigned)}if(t.isZero())return this.unsigned?qi:Fe;if(this.eq(te))return t.isOdd()?te:Fe;if(t.eq(te))return this.isOdd()?te:Fe;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(jm)&&t.lt(jm))return Le(this.toNumber()*t.toNumber(),this.unsigned);var i=this.high>>>16,r=this.high&65535,a=this.low>>>16,s=this.low&65535,o=t.high>>>16,l=t.high&65535,c=t.low>>>16,h=t.low&65535,d=0,g=0,m=0,S=0;return S+=s*h,m+=S>>>16,S&=65535,m+=a*h,g+=m>>>16,m&=65535,m+=s*c,g+=m>>>16,m&=65535,g+=r*h,d+=g>>>16,g&=65535,g+=a*c,d+=g>>>16,g&=65535,g+=s*l,d+=g>>>16,g&=65535,d+=i*h+r*c+a*l+s*o,d&=65535,_(m<<16|S,d<<16|g,this.unsigned)};D.mul=D.multiply;D.divide=function(t){if(Ft(t)||(t=We(t)),t.isZero())throw Error("division by zero");if(ze){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var n=(this.unsigned?ze.div_u:ze.div_s)(this.low,this.high,t.low,t.high);return _(n,ze.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?qi:Fe;var i,r,a;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return qi;if(t.gt(this.shru(1)))return b0;a=qi}else{if(this.eq(te)){if(t.eq(Ma)||t.eq(dh))return te;if(t.eq(te))return Ma;var s=this.shr(1);return i=s.div(t).shl(1),i.eq(Fe)?t.isNegative()?Ma:dh:(r=this.sub(t.mul(i)),a=i.add(r.div(t)),a)}else if(t.eq(te))return this.unsigned?qi:Fe;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();a=Fe}for(r=this;r.gte(t);){i=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(i)/Math.LN2),l=o<=48?1:xu(2,o-48),c=Le(i),h=c.mul(t);h.isNegative()||h.gt(r);)i-=l,c=Le(i,this.unsigned),h=c.mul(t);c.isZero()&&(c=Ma),a=a.add(c),r=r.sub(h)}return a};D.div=D.divide;D.modulo=function(t){if(Ft(t)||(t=We(t)),ze){var n=(this.unsigned?ze.rem_u:ze.rem_s)(this.low,this.high,t.low,t.high);return _(n,ze.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))};D.mod=D.modulo;D.rem=D.modulo;D.not=function(){return _(~this.low,~this.high,this.unsigned)};D.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};D.clz=D.countLeadingZeros;D.countTrailingZeros=function(){return this.low?zm(this.low):zm(this.high)+32};D.ctz=D.countTrailingZeros;D.and=function(t){return Ft(t)||(t=We(t)),_(this.low&t.low,this.high&t.high,this.unsigned)};D.or=function(t){return Ft(t)||(t=We(t)),_(this.low|t.low,this.high|t.high,this.unsigned)};D.xor=function(t){return Ft(t)||(t=We(t)),_(this.low^t.low,this.high^t.high,this.unsigned)};D.shiftLeft=function(t){return Ft(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?_(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):_(0,this.low<<t-32,this.unsigned)};D.shl=D.shiftLeft;D.shiftRight=function(t){return Ft(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?_(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):_(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};D.shr=D.shiftRight;D.shiftRightUnsigned=function(t){return Ft(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?_(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):t===32?_(this.high,0,this.unsigned):_(this.high>>>t-32,0,this.unsigned)};D.shru=D.shiftRightUnsigned;D.shr_u=D.shiftRightUnsigned;D.rotateLeft=function(t){var n;return Ft(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?_(this.high,this.low,this.unsigned):t<32?(n=32-t,_(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(t-=32,n=32-t,_(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))};D.rotl=D.rotateLeft;D.rotateRight=function(t){var n;return Ft(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?_(this.high,this.low,this.unsigned):t<32?(n=32-t,_(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(t-=32,n=32-t,_(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))};D.rotr=D.rotateRight;D.toSigned=function(){return this.unsigned?_(this.low,this.high,!1):this};D.toUnsigned=function(){return this.unsigned?this:_(this.low,this.high,!0)};D.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()};D.toBytesLE=function(){var t=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};D.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};X.fromBytes=function(t,n,i){return i?X.fromBytesLE(t,n):X.fromBytesBE(t,n)};X.fromBytesLE=function(t,n){return new X(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)};X.fromBytesBE=function(t,n){return new X(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Ot=(e=>(e[e.Null=0]="Null",e[e.Boolean=1]="Boolean",e[e.Integer=2]="Integer",e[e.Long=3]="Long",e[e.Double=4]="Double",e[e.String=5]="String",e[e.Bytes=6]="Bytes",e[e.Date=7]="Date",e))(Ot||{});class gt extends Lo{constructor(n,i){super(i);u(this,"valueType");u(this,"value");this.valueType=gt.getPrimitiveType(n),this.value=n===void 0?null:n}static of(n,i){return new gt(n,i)}static valueFromBytes(n,i){switch(n){case 0:return null;case 1:return!!i[0];case 2:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 4:{const r=new DataView(i.buffer);return i.forEach(function(a,s){r.setUint8(s,a)}),r.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(i);case 3:return X.fromBytesLE(Array.from(i));case 6:return i;case 7:return new Date(X.fromBytesLE(Array.from(i),!0).toNumber());default:throw new T(b.ErrUnimplemented,`unimplemented type: ${n}`)}}toJSON(){return this.valueType===5?`"${gn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const n=gt.of(this.value,this.getCreatedAt());return n.setMovedAt(this.getMovedAt()),n.setRemovedAt(this.getRemovedAt()),n}getType(){return this.valueType}static getPrimitiveType(n){switch(typeof n){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(n)?2:4;case"string":return 5;case"object":if(n===null)return 0;if(n instanceof X)return 3;if(n instanceof Uint8Array)return 6;if(n instanceof Date)return 7}}static isSupport(n){return gt.getPrimitiveType(n)!==void 0}static isInteger(n){return n%1===0}isNumericType(){const n=this.valueType;return n===2||n===3||n===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const n=this.value;return new Uint8Array([n&255,n>>8&255,n>>16&255,n>>24&255])}case 4:{const n=this.value,i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,n,!0),i}case 5:return new TextEncoder().encode(this.value);case 3:{const i=this.value.toBytesLE();return Uint8Array.from(i)}case 6:return this.value;case 7:{const n=this.value,i=X.fromNumber(n.getTime(),!0).toBytesLE();return Uint8Array.from(i)}default:throw new T(b.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Du extends v0{constructor(n){super(n);u(this,"prev");u(this,"next");this.value=n}static createAfter(n,i){const r=new Du(i),a=n.next;return n.next=r,r.prev=n,r.next=a,a&&(a.prev=r),r}remove(n){return this.value.remove(n)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class To{constructor(){u(this,"dummyHead");u(this,"last");u(this,"nodeMapByIndex");u(this,"nodeMapByCreatedAt");const t=gt.of(0,Xe);t.setRemovedAt(Xe),this.dummyHead=new Du(t),this.last=this.dummyHead,this.nodeMapByIndex=new bo,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new To}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(t,n){let i=this.nodeMapByCreatedAt.get(t.toIDString());if(!i)throw new T(b.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);for(;i.getNext()&&i.getNext().getPositionedAt().after(n);)i=i.getNext();return i}release(t){this.last===t&&(this.last=t.getPrev()),t.release(),this.nodeMapByIndex.delete(t),this.nodeMapByCreatedAt.delete(t.getValue().getCreatedAt().toIDString())}insertAfter(t,n,i=n.getCreatedAt()){const r=this.findNextBeforeExecutedAt(t,i),a=Du.createAfter(r,n);r===this.last&&(this.last=a),this.nodeMapByIndex.insertAfter(r,a),this.nodeMapByCreatedAt.set(a.getCreatedAt().toIDString(),a)}moveAfter(t,n,i){const r=this.nodeMapByCreatedAt.get(t.toIDString());if(!r)throw new T(b.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);const a=this.nodeMapByCreatedAt.get(n.toIDString());if(!a)throw new T(b.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);r!==a&&(!a.getValue().getMovedAt()||i.after(a.getValue().getMovedAt()))&&(this.release(a),this.insertAfter(r.getCreatedAt(),a.getValue(),i),a.getValue().setMovedAt(i))}insert(t){this.insertAfter(this.last.getCreatedAt(),t)}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}subPathOf(t){const n=this.nodeMapByCreatedAt.get(t.toIDString());if(n)return String(this.nodeMapByIndex.indexOf(n))}purge(t){const n=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!n)throw new T(b.ErrInvalidArgument,`fail to find the given createdAt: ${t.getCreatedAt().toIDString()}`);this.release(n)}getByIndex(t){if(t>=this.length)return;const[n,i]=this.nodeMapByIndex.find(t);let r=n;if(t===0&&n===this.dummyHead||i>0)do r&&(r=r.getNext());while(r&&r.isRemoved());return r}getPrevCreatedAt(t){let n=this.nodeMapByCreatedAt.get(t.toIDString());do n=n.getPrev();while(this.dummyHead!==n&&n.isRemoved());return n.getValue().getCreatedAt()}delete(t,n){const i=this.nodeMapByCreatedAt.get(t.toIDString()),r=i.isRemoved();return i.remove(n)&&!r&&this.nodeMapByIndex.splayNode(i),i.getValue()}deleteByIndex(t,n){const i=this.getByIndex(t);if(i)return i.remove(n)&&this.nodeMapByIndex.splayNode(i),i.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const t=[];for(const n of this){const i=`${n.getCreatedAt().toIDString()}:${n.getValue().toJSON()}`;n.isRemoved()?t.push(`{${i}}`):t.push(`[${i}]`)}return t.join("")}*[Symbol.iterator](){let t=this.dummyHead.getNext();for(;t;)yield t,t=t.getNext()}}class de extends br{constructor(n,i){super(n);u(this,"elements");this.elements=i}static create(n,i){if(!i)return new de(n,To.create());const r=To.create();for(const a of i)r.insertAfter(r.getLastCreatedAt(),a.deepcopy());return new de(n,r)}subPathOf(n){return this.elements.subPathOf(n)}purge(n){this.elements.purge(n)}insertAfter(n,i){this.elements.insertAfter(n,i)}moveAfter(n,i,r){this.elements.moveAfter(n,i,r)}get(n){const i=this.elements.getByIndex(n);return i==null?void 0:i.getValue()}getByID(n){const i=this.elements.getByID(n);return i==null?void 0:i.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(n){return this.elements.getPrevCreatedAt(n)}delete(n,i){return this.elements.delete(n,i)}deleteByIndex(n,i){return this.elements.deleteByIndex(n,i)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const n of this.elements)n.isRemoved()||(yield n.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(n){for(const i of this.elements){const r=i.getValue();if(n(r,this))return;r instanceof br&&r.getDescendants(n)}}toJSON(){const n=[];for(const i of this)n.push(i.toJSON());return`[${n.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const n={};for(let i=0;i<this.length;i++){const{createdAt:r,value:a,type:s}=this.get(i).toJSForTest();n[i]={key:String(i),createdAt:r,value:a,type:s}}return{createdAt:this.getCreatedAt().toTestString(),value:n,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const n=de.create(this.getCreatedAt());for(const i of this.elements)n.elements.insertAfter(n.getLastCreatedAt(),i.getValue().deepcopy());return n.remove(this.getRemovedAt()),n}}class Or extends Qe{constructor(n,i,r){super(n,r);u(this,"createdAt");this.createdAt=i}static create(n,i,r){return new Or(n,i,r)}execute(n,i){var c;const r=n.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new T(b.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof br))throw new T(b.ErrInvalidArgument,`only object and array can execute remove: ${r}`);if(i===nt.UndoRedo){let h=r.getByID(this.createdAt);for(;h;){if(h.getRemovedAt())return;h=(c=n.findElementPairByCreatedAt(h.getCreatedAt()))==null?void 0:c.parent}}const a=r.subPathOf(this.createdAt),s=this.toReverseOperation(r),o=r.delete(this.createdAt,this.getExecutedAt());return n.registerRemovedElement(o),{opInfos:r instanceof de?[{type:"remove",path:n.createPath(this.getParentCreatedAt()),index:Number(a)}]:[{type:"remove",path:n.createPath(this.getParentCreatedAt()),key:a}],reverseOp:s}}toReverseOperation(n){if(n instanceof ee){const i=n.subPathOf(this.createdAt);if(i!==void 0){const r=n.get(i);if(r!==void 0)return ra.create(i,r.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class ra extends Qe{constructor(n,i,r,a){super(r,a);u(this,"key");u(this,"value");this.key=n,this.value=i}static create(n,i,r,a){return new ra(n,i,r,a)}execute(n,i){var c;const r=n.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new T(b.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof ee))throw new T(b.ErrInvalidArgument,"fail to execute, only object can execute set");if(i===nt.UndoRedo){let h=r;for(;h;){if(h.getRemovedAt())return;h=(c=n.findElementPairByCreatedAt(h.getCreatedAt()))==null?void 0:c.parent}}const a=r.get(this.key),s=this.toReverseOperation(a),o=this.value.deepcopy(),l=r.set(this.key,o,this.getExecutedAt());return i===nt.UndoRedo&&n.findByCreatedAt(o.getCreatedAt())&&n.deregisterElement(o),n.registerElement(o,r),l&&n.registerRemovedElement(l),{opInfos:[{type:"set",path:n.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:s}}toReverseOperation(n){let i=Or.create(this.getParentCreatedAt(),this.value.getCreatedAt());return n!==void 0&&!n.isRemoved()&&(i=ra.create(this.key,n.deepcopy(),this.getParentCreatedAt())),i}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class qo extends Qe{constructor(n,i,r,a){super(n,a);u(this,"prevCreatedAt");u(this,"value");this.prevCreatedAt=i,this.value=r}static create(n,i,r,a){return new qo(n,i,r,a)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new T(b.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof de))throw new T(b.ErrInvalidArgument,"fail to execute, only array can execute add");const r=i,a=this.value.deepcopy();return r.insertAfter(this.prevCreatedAt,a),n.registerElement(a,r),{opInfos:[{type:"add",path:n.createPath(this.getParentCreatedAt()),index:Number(r.subPathOf(this.getEffectedCreatedAt()))}]}}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class cr extends Qe{constructor(n,i,r,a){super(n,a);u(this,"prevCreatedAt");u(this,"createdAt");this.prevCreatedAt=i,this.createdAt=r}static create(n,i,r,a){return new cr(n,i,r,a)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new T(b.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof de))throw new T(b.ErrInvalidArgument,"fail to execute, only array can execute move");const r=i,a=Number(r.subPathOf(this.createdAt));r.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const s=Number(r.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:n.createPath(this.getParentCreatedAt()),index:s,previousIndex:a}]}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class Vr{constructor(t,n,i,r){u(this,"key");u(this,"value");u(this,"updatedAt");u(this,"_isRemoved");this.key=t,this.value=n,this.updatedAt=i,this._isRemoved=r}static of(t,n,i,r){return new Vr(t,n,i,r)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}}class Ki{constructor(){u(this,"nodeMapByKey");u(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Ki}getNodeMapByKey(){return this.nodeMapByKey}set(t,n,i){const r=this.nodeMapByKey.get(t);if(r&&r.isRemoved()&&i.after(r.getUpdatedAt())&&(this.numberOfRemovedElement-=1),r===void 0||i.after(r.getUpdatedAt())){const a=Vr.of(t,n,i,!1);return this.nodeMapByKey.set(t,a),r!==void 0&&r.isRemoved()?[r,a]:[void 0,a]}return r.isRemoved()?[r,void 0]:[void 0,void 0]}setInternal(t,n,i,r){const a=Vr.of(t,n,i,r);this.nodeMapByKey.set(t,a),r&&this.numberOfRemovedElement++}remove(t,n){const i=this.nodeMapByKey.get(t),r=[];if(i===void 0||n.after(i.getUpdatedAt())){if(i===void 0){this.numberOfRemovedElement+=1;const o=Vr.of(t,"",n,!0);return this.nodeMapByKey.set(t,o),r.push(o),r}const a=i.isRemoved();a||(this.numberOfRemovedElement+=1),a&&r.push(i);const s=Vr.of(t,i.getValue(),n,!0);return this.nodeMapByKey.set(t,s),r.push(s),r}return r}has(t){if(this.nodeMapByKey.has(t)){const n=this.nodeMapByKey.get(t);return n!==void 0&&!n.isRemoved()}return!1}get(t){if(this.nodeMapByKey.has(t))return this.nodeMapByKey.get(t).getValue()}deepcopy(){const t=new Ki;for(const[,n]of this.nodeMapByKey)t.setInternal(n.getKey(),n.getValue(),n.getUpdatedAt(),n.isRemoved());return t}toJSON(){if(!this.size())return"{}";const t=[];for(const[n,i]of this.nodeMapByKey)i.isRemoved()||t.push(`"${gn(n)}":"${gn(i.getValue())}"`);return`{${t.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const t={};for(const[n,i]of this.nodeMapByKey)i.isRemoved()||(t[n]=i.getValue());return t}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}purge(t){const n=this.nodeMapByKey.get(t.getKey());n==null||n.toIDString()!=t.toIDString()||(this.nodeMapByKey.delete(t.getKey()),this.numberOfRemovedElement--)}}class Ao{constructor(t){u(this,"attributes");u(this,"content");this.attributes=Ki.create(),this.content=t}static create(t){return new Ao(t)}get length(){return this.content.length}substring(t,n){const i=new Ao(this.content.substring(t,n));return i.attributes=this.attributes.deepcopy(),i}setAttr(t,n,i){return this.attributes.set(t,n,i)}getAttrs(){return this.attributes}toString(){return this.content}toJSON(){const t=gn(this.content),n=this.attributes.toObject(),i=[];for(const[r,a]of Object.entries(n)){const s=JSON.parse(a),o=typeof s=="string"?`"${gn(r)}":"${gn(s)}"`:`"${gn(r)}":${String(s)}`;i.push(o)}return i.sort(),i.length===0?`{"val":"${t}"}`:`{"attrs":{${i.join(",")}},"val":"${t}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(t){this.attributes&&t instanceof Vr&&this.attributes.purge(t)}getGCPairs(){const t=[];for(const n of this.attributes)n.getRemovedAt()&&t.push({parent:this,child:n});return t}}class je extends Lo{constructor(n,i){super(i);u(this,"rgaTreeSplit");this.rgaTreeSplit=n}static create(n,i){return new je(n,i)}edit(n,i,r,a,s,o){const l=i?Ao.create(i):void 0;if(l&&a)for(const[S,A]of Object.entries(a))l.setAttr(S,A,r);const[c,h,d,g]=this.rgaTreeSplit.edit(n,r,l,s,o),m=g.map(S=>({...S,value:S.value?{attributes:Pa(S.value.getAttributes()),content:S.value.getContent()}:{attributes:void 0,content:""},type:"content"}));return[h,m,d,[c,c]]}setStyle(n,i,r,a,s){const[,o]=this.rgaTreeSplit.findNodeWithSplit(n[1],r),[,l]=this.rgaTreeSplit.findNodeWithSplit(n[0],r),c=[],h=this.rgaTreeSplit.findBetween(l,o),d=new Map,g=[];for(const S of h){const A=S.getCreatedAt().getActorID();let O,p=0n;if(s===void 0&&a===void 0?p=Zs:s.size()>0?p=s.get(A)?s.get(A):0n:O=a.has(A)?a.get(A):Xe,S.canStyle(r,O,p)){const y=d.get(A),v=S.getCreatedAt();(!y||v.after(y))&&d.set(A,v),g.push(S)}}const m=[];for(const S of g){if(S.isRemoved())continue;const[A,O]=this.rgaTreeSplit.findIndexesFromRange(S.createPosRange());c.push({type:"style",actor:r.getActorID(),from:A,to:O,value:{attributes:Pa(i)}});for(const[p,y]of Object.entries(i)){const[v]=S.getValue().setAttr(p,y,r);v!==void 0&&m.push({parent:S.getValue(),child:v})}}return[d,m,c]}indexRangeToPosRange(n,i){const r=this.rgaTreeSplit.indexToPos(n);return n===i?[r,r]:[r,this.rgaTreeSplit.indexToPos(i)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}toJSON(){const n=[];for(const i of this.rgaTreeSplit)i.isRemoved()||n.push(i.getValue().toJSON());return`[${n.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const n=[];for(const i of this.rgaTreeSplit)if(!i.isRemoved()){const r=i.getValue();n.push({attributes:Pa(r.getAttributes()),content:r.getContent()})}return n}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const n=new je(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return n.remove(this.getRemovedAt()),n}findIndexesFromRange(n){return this.rgaTreeSplit.findIndexesFromRange(n)}getGCPairs(){const n=[];for(const i of this.rgaTreeSplit){i.getRemovedAt()&&n.push({parent:this.rgaTreeSplit,child:i});for(const r of i.getValue().getGCPairs())n.push(r)}return n}}class Jo extends Qe{constructor(n,i,r,a,s,o,l){super(n,l);u(this,"fromPos");u(this,"toPos");u(this,"maxCreatedAtMapByActor");u(this,"content");u(this,"attributes");this.fromPos=i,this.toPos=r,this.maxCreatedAtMapByActor=a,this.content=s,this.attributes=o}static create(n,i,r,a,s,o,l){return new Jo(n,i,r,a,s,o,l)}execute(n,i,r){const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(b.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof je))throw new T(b.ErrInvalidArgument,"fail to execute, only Text can execute edit");const s=a,[,o,l]=s.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),this.maxCreatedAtMapByActor,r);for(const c of l)n.registerGCPair(c);return{opInfos:o.map(({from:c,to:h,value:d})=>({type:"edit",from:c,to:h,value:d,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),r=this.toPos.toTestString(),a=this.content;return`${n}.EDIT(${i},${r},${a})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Ho extends Qe{constructor(n,i,r,a,s,o){super(n,o);u(this,"fromPos");u(this,"toPos");u(this,"maxCreatedAtMapByActor");u(this,"attributes");this.fromPos=i,this.toPos=r,this.maxCreatedAtMapByActor=a,this.attributes=s}static create(n,i,r,a,s,o){return new Ho(n,i,r,a,s,o)}execute(n,i,r){const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(b.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof je))throw new T(b.ErrInvalidArgument,"fail to execute, only Text can execute edit");const s=a,[,o,l]=s.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),this.maxCreatedAtMapByActor,r);for(const c of o)n.registerGCPair(c);return{opInfos:l.map(({from:c,to:h,value:d})=>({type:"style",from:c,to:h,value:d,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),r=this.toPos.toTestString(),a=this.attributes;return`${n}.STYL(${i},${r},${JSON.stringify(a)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}const DA=2,OA="root",Hi="text";function Ns(e,t){let n=0;const i=e.children;for(let r=0;r<t;r++){const a=i[r];!a||a.isRemoved||(n+=a.paddedSize)}return n}class CA{constructor(t,n=[]){u(this,"type");u(this,"parent");u(this,"_children");u(this,"size");if(this.type=t,this.size=0,this._children=n,this.isText&&this._children.length>0)throw new T(b.ErrRefused,"Text node cannot have children")}updateAncestorsSize(){let t=this.parent;const n=this.isRemoved?-1:1;for(;t&&(t.size+=this.paddedSize*n,!t.isRemoved);)t=t.parent}updateDescendantsSize(){let t=0;for(const n of this._children){const i=n.updateDescendantsSize();n.isRemoved||(t+=i)}return this.size+=t,this.paddedSize}get isText(){return this.type===Hi}get paddedSize(){return this.size+(this.isText?0:DA)}isAncestorOf(t){return kA(this,t)}get nextSibling(){const t=this.parent.findOffset(this),n=this.parent.children[t+1];if(n)return n}get prevSibling(){const t=this.parent.findOffset(this),n=this.parent.children[t-1];if(n)return n}splitText(t,n){if(t===0||t===this.size)return;const i=this.value.slice(0,t),r=this.value.slice(t);if(!r.length)return;this.value=i;const a=this.cloneText(t+n);return a.value=r,this.parent.insertAfterInternal(a,this),a}get children(){return this._children.filter(t=>!t.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(t=>t.isText)}append(...t){if(this.isText)throw new T(b.ErrRefused,"Text node cannot have children");this._children.push(...t);for(const n of t)n.parent=this,n.updateAncestorsSize()}prepend(...t){if(this.isText)throw new T(b.ErrRefused,"Text node cannot have children");this._children.unshift(...t);for(const n of t)n.parent=this}insertBefore(t,n){if(this.isText)throw new T(b.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new T(b.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i),t.updateAncestorsSize()}insertAfter(t,n){if(this.isText)throw new T(b.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new T(b.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i+1),t.updateAncestorsSize()}insertAt(t,n){if(this.isText)throw new T(b.ErrRefused,"Text node cannot have children");this.insertAtInternal(t,n),t.updateAncestorsSize()}removeChild(t){if(this.isText)throw new T(b.ErrRefused,"Text node cannot have children");const n=this._children.indexOf(t);if(n===-1)throw new T(b.ErrInvalidArgument,"child not found");this._children.splice(n,1),t.parent=void 0}splitElement(t,n){const i=this.cloneElement(n);this.parent.insertAfterInternal(i,this),i.updateAncestorsSize();const r=this.children.slice(0,t),a=this.children.slice(t);this._children=r,i._children=a,this.size=this._children.reduce((s,o)=>s+o.paddedSize,0),i.size=i._children.reduce((s,o)=>s+o.paddedSize,0);for(const s of i._children)s.parent=i;return i}insertAfterInternal(t,n){if(this.isText)throw new T(b.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new T(b.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i+1)}insertAtInternal(t,n){if(this.isText)throw new T(b.ErrRefused,"Text node cannot have children");this._children.splice(n,0,t),t.parent=this}findOffset(t){if(this.isText)throw new T(b.ErrRefused,"Text node cannot have children");if(t.isRemoved){const n=this._children.indexOf(t);return this.allChildren.splice(0,n).filter(r=>!r.isRemoved).length}return this.children.indexOf(t)}findBranchOffset(t){if(this.isText)throw new T(b.ErrRefused,"Text node cannot have children");let n=t;for(;n;){const i=this._children.indexOf(n);if(i!==-1)return i;n=n.parent}return-1}}function kA(e,t){if(e===t)return!1;for(;t.parent;){if(t.parent===e)return!0;t=t.parent}return!1}var Et=(e=>(e.Start="Start",e.End="End",e.Text="Text",e))(Et||{});function w0(e,t,n,i){if(t>n)throw new T(b.ErrInvalidArgument,`from is greater than to: ${t} > ${n}`);if(t>e.size)throw new T(b.ErrInvalidArgument,`from is out of range: ${t} > ${e.size}`);if(n>e.size)throw new T(b.ErrInvalidArgument,`to is out of range: ${n} > ${e.size}`);if(t===n)return;let r=0;for(const a of e.children){if(t-a.paddedSize<r&&r<n){const s=a.isText?t-r:t-r-1,o=a.isText?n-r:n-r-1,l=!a.isText&&s<0,c=!a.isText&&o>a.size;(a.isText||l)&&i([a,a.isText?"Text":"Start"],c),w0(a,Math.max(0,s),Math.min(o,a.size),i),c&&i([a,"End"],c)}r+=a.paddedSize}}function E0(e,t,n=0){for(const i of e.children)E0(i,t,n+1);t(e,n)}function Qu(e,t,n=0){for(const i of e._children)Qu(i,t,n+1);t(e,n)}function gh(e,t,n=!0){if(t>e.size)throw new T(b.ErrInvalidArgument,`index is out of range: ${t} > ${e.size}`);if(e.isText)return{node:e,offset:t};let i=0,r=0;for(const a of e.children){if(n&&a.isText&&a.size>=t-r)return gh(a,t-r,n);if(t===r)return{node:e,offset:i};if(!n&&a.paddedSize===t-r)return{node:e,offset:i+1};if(a.paddedSize>t-r)return gh(a,t-r-1,n);r+=a.paddedSize,i+=1}return{node:e,offset:i}}function N0(e){return e.isText||e.children.length===0?e:N0(e.children[0])}function RA(e,t){if(e.size<t)throw new T(b.ErrInvalidArgument,"unacceptable path");for(let n=0;n<e.children.length;n++){const i=e.children[n];if(i.size<t)t-=i.size;else{e=i;break}}return{node:e,offset:t}}class BA{constructor(t){u(this,"root");this.root=t}tokensBetween(t,n,i){w0(this.root,t,n,i)}traverse(t){E0(this.root,t,0)}traverseAll(t){Qu(this.root,t,0)}findTreePos(t,n=!0){return gh(this.root,t,n)}treePosToPath(t){const n=[];let i=t.node;if(i.isText){const r=i.parent.findOffset(i);if(r===-1)throw new T(b.ErrInvalidArgument,"invalid treePos");const a=Ns(i.parent,r);n.push(a+t.offset),i=i.parent}else if(i.hasTextChild()){const r=Ns(i,t.offset);n.push(r)}else n.push(t.offset);for(;i.parent;){const r=i.parent.findOffset(i);if(r===-1)throw new T(b.ErrInvalidArgument,"invalid treePos");n.push(r),i=i.parent}return n.reverse()}pathToIndex(t){const n=this.pathToTreePos(t);return this.indexOf(n)}pathToTreePos(t){if(!t.length)throw new T(b.ErrInvalidArgument,"unacceptable path");let n=this.root;for(let i=0;i<t.length-1;i++){const r=t[i];if(n=n.children[r],!n)throw new T(b.ErrInvalidArgument,"unacceptable path")}if(n.hasTextChild())return RA(n,t[t.length-1]);if(n.children.length<t[t.length-1])throw new T(b.ErrInvalidArgument,"unacceptable path");return{node:n,offset:t[t.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(t){const{node:n,offset:i}=t;if(n.isText){if(n.size===i){const r=n.nextSibling;return r||n.parent}return n}return n.children.length===i?n:N0(n.children[i])}indexOf(t){let{node:n}=t;const{offset:i}=t;let r=0,a=1;if(n.isText){r+=i;const s=n.parent,o=s.findOffset(n);if(o===-1)throw new T(b.ErrInvalidArgument,"invalid pos");r+=Ns(s,o),n=n.parent}else r+=Ns(n,i);for(;n!=null&&n.parent;){const s=n.parent,o=s.findOffset(n);if(o===-1)throw new T(b.ErrInvalidArgument,"invalid pos");r+=Ns(s,o),a++,n=n.parent}return r+a-1}indexToPath(t){const n=this.findTreePos(t);return this.treePosToPath(n)}}const MA=(e,t)=>e===t?0:e<t?-1:1;class IA{constructor(t,n,i){u(this,"key");u(this,"value");u(this,"parent");u(this,"left");u(this,"right");u(this,"isRed");this.key=t,this.value=n,this.isRed=i}}class UA{constructor(t){u(this,"stack");this.stack=[],this.traverseInorder(t)}traverseInorder(t){t&&(this.traverseInorder(t.left),this.stack.push({key:t.key,value:t.value}),this.traverseInorder(t.right))}}class x0{constructor(t){u(this,"root");u(this,"comparator");u(this,"counter");this.comparator=typeof t<"u"?t:MA,this.counter=0}put(t,n){return this.root=this.putInternal(t,n,this.root),this.root.isRed=!1,n}get(t){const n=this.getInternal(t,this.root);return n?n.value:void 0}remove(t){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,t),this.root&&(this.root.isRed=!1)}getIterator(){return new UA(this.root)}values(){const t=[];for(const n of this.getIterator().stack)t.push(n.value);return t}floorEntry(t){let n=this.root;for(;n;){const i=this.comparator(t,n.key);if(i>0)if(n.right)n.right.parent=n,n=n.right;else return n;else if(i<0)if(n.left)n.left.parent=n,n=n.left;else{let r=n.parent,a=n;for(;r&&a===r.left;)a=r,r=r.parent;return r}else return n}}lastEntry(){if(!this.root)return this.root;let t=this.root;for(;t.right;)t=t.right;return t}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(t,n){for(;n;){const i=this.comparator(t,n.key);if(i===0)return n;i<0?n=n.left:i>0&&(n=n.right)}}putInternal(t,n,i){if(!i)return this.counter+=1,new IA(t,n,!0);const r=this.comparator(t,i.key);return r<0?i.left=this.putInternal(t,n,i.left):r>0?i.right=this.putInternal(t,n,i.right):i.value=n,this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}removeInternal(t,n){if(this.comparator(n,t.key)<0)!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeInternal(t.left,n);else{if(this.isRed(t.left)&&(t=this.rotateRight(t)),this.comparator(n,t.key)===0&&!t.right){this.counter-=1;return}if(!this.isRed(t.right)&&!this.isRed(t.right.left)&&(t=this.moveRedRight(t)),this.comparator(n,t.key)===0){this.counter-=1;const i=this.min(t.right);t.value=i.value,t.key=i.key,t.right=this.removeMin(t.right)}else t.right=this.removeInternal(t.right,n)}return this.fixUp(t)}min(t){return t.left?this.min(t.left):t}removeMin(t){if(t.left)return!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeMin(t.left),this.fixUp(t)}fixUp(t){return this.isRed(t.right)&&(t=this.rotateLeft(t)),this.isRed(t.left)&&this.isRed(t.left.left)&&(t=this.rotateRight(t)),this.isRed(t.left)&&this.isRed(t.right)&&this.flipColors(t),t}moveRedLeft(t){return this.flipColors(t),this.isRed(t.right.left)&&(t.right=this.rotateRight(t.right),t=this.rotateLeft(t),this.flipColors(t)),t}moveRedRight(t){return this.flipColors(t),this.isRed(t.left.left)&&(t=this.rotateRight(t),this.flipColors(t)),t}isRed(t){return t&&t.isRed}rotateLeft(t){const n=t.right;return t.right=n.left,n.left=t,n.isRed=n.left.isRed,n.left.isRed=!0,n}rotateRight(t){const n=t.left;return t.left=n.right,n.right=t,n.isRed=n.right.isRed,n.right.isRed=!0,n}flipColors(t){t.isRed=!t.isRed,t.left.isRed=!t.left.isRed,t.right.isRed=!t.right.isRed}}class Ke{constructor(t,n){u(this,"parentID");u(this,"leftSiblingID");this.parentID=t,this.leftSiblingID=n}static of(t,n){return new Ke(t,n)}static fromTreePos(t){const{offset:n}=t;let{node:i}=t,r;return i.isText?(i.parent.children[0]===i&&n===0?r=i.parent:r=i,i=i.parent):n===0?r=i:r=i.children[n-1],Ke.of(i.id,Vt.of(r.getCreatedAt(),r.getOffset()+n))}getParentID(){return this.parentID}static fromStruct(t){return Ke.of(Vt.of(qe.fromStruct(t.parentID.createdAt),t.parentID.offset),Vt.of(qe.fromStruct(t.leftSiblingID.createdAt),t.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(t){const n=this.getParentID(),i=this.getLeftSiblingID(),r=t.findFloorNode(n);let a=t.findFloorNode(i);if(!r||!a)throw new T(b.ErrRefused,`cannot find node of CRDTTreePos(${n.toTestString()}, ${i.toTestString()})`);return!i.equals(n)&&i.getOffset()>0&&i.getOffset()===a.id.getOffset()&&a.insPrevID&&(a=t.findFloorNode(a.insPrevID)),[r,a]}getLeftSiblingID(){return this.leftSiblingID}equals(t){return this.getParentID().getCreatedAt().equals(t.getParentID().getCreatedAt())&&this.getParentID().getOffset()===t.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(t.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===t.getLeftSiblingID().getOffset()}}class Vt{constructor(t,n){u(this,"createdAt");u(this,"offset");this.createdAt=t,this.offset=n}static of(t,n){return new Vt(t,n)}static fromStruct(t){return Vt.of(qe.fromStruct(t.createdAt),t.offset)}static createComparator(){return(t,n)=>{const i=t.getCreatedAt().compare(n.getCreatedAt());return i!==0?i:t.getOffset()>n.getOffset()?1:t.getOffset()<n.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}getOffset(){return this.offset}setOffset(t){this.offset=t}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class ue extends CA{constructor(n,i,r,a,s){super(i);u(this,"id");u(this,"removedAt");u(this,"attrs");u(this,"insPrevID");u(this,"insNextID");u(this,"_value","");this.id=n,this.removedAt=s,a&&(this.attrs=a),typeof r=="string"?this.value=r:Array.isArray(r)&&(this._children=r)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(n,i,r,a){return new ue(n,i,r,a)}deepcopy(){var i;const n=new ue(this.id,this.type);return n.removedAt=this.removedAt,n._value=this._value,n.size=this.size,n.attrs=(i=this.attrs)==null?void 0:i.deepcopy(),n._children=this._children.map(r=>{const a=r.deepcopy();return a.parent=n,a}),n.insPrevID=this.insPrevID,n.insNextID=this.insNextID,n}get value(){if(!this.isText)throw new T(b.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(n){if(!this.isText)throw new T(b.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=n,this.size=n.length}get isRemoved(){return!!this.removedAt}remove(n){const i=!this.removedAt;(!this.removedAt||this.removedAt.compare(n)>0)&&(this.removedAt=n),i&&this.updateAncestorsSize()}cloneText(n){return new ue(Vt.of(this.id.getCreatedAt(),n),this.type,void 0,void 0,this.removedAt)}cloneElement(n){return new ue(Vt.of(n(),0),this.type,void 0,void 0,this.removedAt)}split(n,i,r){const a=this.isText?this.splitText(i,this.id.getOffset()):this.splitElement(i,r);if(a){if(a.insPrevID=this.id,this.insNextID){const s=n.findFloorNode(this.insNextID);s.insPrevID=a.id,a.insNextID=this.insNextID}this.insNextID=a.id,n.registerNode(a)}return a}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(n,i,r){return(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=r)&&(!this.removedAt||n.after(this.removedAt))}canStyle(n,i,r){return this.isText?!1:(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=r)&&(!this.removedAt||n.after(this.removedAt))}setAttrs(n,i){this.attrs||(this.attrs=new Ki);const r=[];for(const[a,s]of Object.entries(n))r.push(this.attrs.set(a,s,i));return r}purge(n){this.attrs&&this.attrs.purge(n)}getGCPairs(){const n=[];if(!this.attrs)return n;for(const i of this.attrs)i.getRemovedAt()&&n.push({parent:this,child:i});return n}}function mh(e){var n;if(e.isText){const i=e;return{type:i.type,value:i.value}}const t={type:e.type,children:e.children.map(mh)};return e.attrs&&(t.attributes=Pa((n=e.attrs)==null?void 0:n.toObject())),t}function Td(e){if(e.isText)return e.value;let t="";return e.attrs&&e.attrs.size()&&(t=" "+Array.from(e.attrs).filter(n=>!n.isRemoved()).sort((n,i)=>n.getKey().localeCompare(i.getKey())).map(n=>{const i=JSON.parse(n.getValue());return typeof i=="string"?`${n.getKey()}="${i}"`:`${n.getKey()}="${gn(n.getValue())}"`}).join(" ")),`<${e.type}${t}>${e.children.map(n=>Td(n)).join("")}</${e.type}>`}function D0(e){if(e.isText){const t=e;return{type:t.type,value:t.value,size:t.size,isRemoved:t.isRemoved}}return{type:e.type,children:e.children.map(D0),size:e.size,isRemoved:e.isRemoved}}class Ve extends Lo{constructor(n,i){super(i);u(this,"indexTree");u(this,"nodeMapByID");this.indexTree=new BA(n),this.nodeMapByID=new x0(Vt.createComparator()),this.indexTree.traverseAll(r=>{this.nodeMapByID.put(r.id,r)})}static create(n,i){return new Ve(n,i)}findFloorNode(n){const i=this.nodeMapByID.floorEntry(n);if(!(!i||!i.key.getCreatedAt().equals(n.getCreatedAt())))return i.value}registerNode(n){this.nodeMapByID.put(n.id,n)}findNodesAndSplitText(n,i){const[r,a]=n.toTreeNodePair(this);let s=a;const o=r===s,l=s.parent&&!o?s.parent:r;if(s.isText&&s.split(this,n.getLeftSiblingID().getOffset()-s.id.getOffset()),i){const c=l.allChildren,h=o?0:c.indexOf(s)+1;for(let d=h;d<c.length;d++){const g=c[d];if(!g.id.getCreatedAt().after(i))break;s=g}}return[l,s]}style(n,i,r,a,s){const[o,l]=this.findNodesAndSplitText(n[0],r),[c,h]=this.findNodesAndSplitText(n[1],r),d=[],g=i?Pa(i):{},m=new Map,S=[];return this.traverseInPosRange(o,l,c,h,([A])=>{const O=A.getCreatedAt().getActorID();let p,y=0n;if(s===void 0&&a===void 0?y=Zs:s.size()>0?y=s.get(O)?s.get(O):0n:p=a.has(O)?a.get(O):Xe,A.canStyle(r,p,y)&&i){const v=m.get(O),w=A.getCreatedAt();(!v||w.after(v))&&m.set(O,w);const x=A.setAttrs(i,r),B=x.reduce((K,[,q])=>(q&&(K[q.getKey()]=g[q.getKey()]),K),{}),C=A.parent,R=A.prevSibling||A.parent;Object.keys(B).length>0&&d.push({type:"style",from:this.toIndex(C,R),to:this.toIndex(A,A),fromPath:this.toPath(C,R),toPath:this.toPath(A,A),actor:r.getActorID(),value:B});for(const[K]of x)K&&S.push({parent:A,child:K})}}),[m,S,d]}removeStyle(n,i,r,a,s){const[o,l]=this.findNodesAndSplitText(n[0],r),[c,h]=this.findNodesAndSplitText(n[1],r),d=[],g=new Map,m=[];return this.traverseInPosRange(o,l,c,h,([S])=>{const A=S.getCreatedAt().getActorID();let O,p=0n;if(s===void 0&&a===void 0?p=Zs:s.size()>0?p=s.get(A)?s.get(A):0n:O=a.has(A)?a.get(A):Xe,S.canStyle(r,O,p)&&i){const y=g.get(A),v=S.getCreatedAt();(!y||v.after(y))&&g.set(A,v),S.attrs||(S.attrs=new Ki);for(const B of i){const C=S.attrs.remove(B,r);for(const R of C)m.push({parent:S,child:R})}const w=S.parent,x=S.prevSibling||S.parent;d.push({actor:r.getActorID(),type:"removeStyle",from:this.toIndex(w,x),to:this.toIndex(S,S),fromPath:this.toPath(w,x),toPath:this.toPath(S,S),value:i})}}),[g,m,d]}edit(n,i,r,a,s,o,l){const[c,h]=this.findNodesAndSplitText(n[0],a),[d,g]=this.findNodesAndSplitText(n[1],a),m=this.toIndex(c,h),S=this.toPath(c,h),A=[],O=[],p=[],y=new Map;this.traverseInPosRange(c,h,d,g,([x,B],C)=>{if(B===Et.Start&&!C)for(const St of x.children)p.push(St);const R=x.getCreatedAt().getActorID();let K,q=0n;if(l===void 0&&o===void 0?q=Zs:l.size()>0?q=l.get(R)?l.get(R):0n:K=o.has(R)?o.get(R):Xe,x.canDelete(a,K,q)||A.includes(x.parent)){const St=y.get(R),Rr=x.getCreatedAt();(!St||Rr.after(St))&&y.set(R,Rr),(B===Et.Text||B===Et.Start)&&A.push(x),O.push([x,B])}});const v=this.makeDeletionChanges(O,a),w=[];for(const x of A)x.remove(a),x.isRemoved&&w.push({parent:this,child:x});for(const x of p)x.removedAt||c.append(x);if(r>0){let x=0,B=c,C=h;for(;x<r;)B.split(this,B.findOffset(C)+1,s),C=B,B=B.parent,x++;v.push({type:"content",from:m,to:m,fromPath:S,toPath:S,actor:a.getActorID()})}if(i!=null&&i.length){const x=[];let B=h;for(const C of i)B===c?c.insertAt(C,0):c.insertAfter(C,B),B=C,Qu(C,R=>{c.isRemoved&&(R.remove(a),w.push({parent:this,child:R})),this.nodeMapByID.put(R.id,R)}),C.isRemoved||x.push(C);if(x.length){const C=x.map(R=>mh(R));v.length&&v[v.length-1].from===m?v[v.length-1].value=C:v.push({type:"content",from:m,to:m,fromPath:S,toPath:S,actor:a.getActorID(),value:C})}}return[v,w,y]}editT(n,i,r,a,s){const o=this.findPos(n[0]),l=this.findPos(n[1]);this.edit([o,l],i,r,a,s)}move(n,i,r){throw new T(b.ErrUnimplemented,`not implemented: ${n}, ${i}, ${r}`)}purge(n){var a;(a=n.parent)==null||a.removeChild(n),this.nodeMapByID.remove(n.id);const i=n.insPrevID,r=n.insNextID;if(i){const s=this.findFloorNode(i);s.insNextID=r}if(r){const s=this.findFloorNode(r);s.insPrevID=i}n.insPrevID=void 0,n.insNextID=void 0}getGCPairs(){const n=[];return this.indexTree.traverse(i=>{i.getRemovedAt()&&n.push({parent:this,child:i});for(const r of i.getGCPairs())n.push(r)}),n}findPos(n,i=!0){const r=this.indexTree.findTreePos(n,i);return Ke.fromTreePos(r)}pathToPosRange(n){const i=this.pathToIndex(n);return[this.findPos(i),this.findPos(i+1)]}pathToPos(n){const i=this.indexTree.pathToIndex(n);return this.findPos(i)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Td(this.indexTree.getRoot())}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const n=this.indexTree.getRoot(),i=(r,a=void 0,s=void 0,o=0)=>{var m,S,A,O;let l,c,h;const d=r.isText?{node:r,offset:0}:a&&s?this.toTreePos(a,s):null;d&&(l=this.indexTree.indexOf(d),c=this.indexTree.treePosToPath(d),h=Ke.fromTreePos(d).toStruct());const g={type:r.type,parent:a==null?void 0:a.id.toTestString(),size:r.size,id:r.id.toTestString(),removedAt:(m=r.removedAt)==null?void 0:m.toTestString(),insPrev:(S=r.insPrevID)==null?void 0:S.toTestString(),insNext:(A=r.insNextID)==null?void 0:A.toTestString(),value:r.isText?r.value:void 0,isRemoved:r.isRemoved,children:[],depth:o,attributes:r.attrs?Pa((O=r.attrs)==null?void 0:O.toObject()):void 0,index:l,path:c,pos:h};for(let p=0;p<r.allChildren.length;p++){const y=p===0?r:r.allChildren[p-1];g.children.push(i(r.allChildren[p],r,y,o+1))}return g};return i(n)}getRootTreeNode(){return mh(this.indexTree.getRoot())}toTestTreeNode(){return D0(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const n=this.getRoot();return new Ve(n.deepcopy(),this.getCreatedAt())}toPath(n,i){const r=this.toTreePos(n,i);return r?this.indexTree.treePosToPath(r):[]}toIndex(n,i){const r=this.toTreePos(n,i);return r?this.indexTree.indexOf(r):-1}indexToPath(n){return this.indexTree.indexToPath(n)}pathToIndex(n){return this.indexTree.pathToIndex(n)}indexRangeToPosRange(n){const i=this.findPos(n[0]);return n[0]===n[1]?[i,i]:[i,this.findPos(n[1])]}indexRangeToPosStructRange(n){const[i,r]=n,a=this.findPos(i);return i===r?[a.toStruct(),a.toStruct()]:[a.toStruct(),this.findPos(r).toStruct()]}posRangeToPathRange(n){const[i,r]=this.findNodesAndSplitText(n[0]),[a,s]=this.findNodesAndSplitText(n[1]);return[this.toPath(i,r),this.toPath(a,s)]}posRangeToIndexRange(n){const[i,r]=this.findNodesAndSplitText(n[0]),[a,s]=this.findNodesAndSplitText(n[1]);return[this.toIndex(i,r),this.toIndex(a,s)]}traverseInPosRange(n,i,r,a,s){const o=this.toIndex(n,i),l=this.toIndex(r,a);return this.indexTree.tokensBetween(o,l,s)}toTreePos(n,i){if(!n||!i)return;if(n.isRemoved){let a;for(;n.isRemoved;)a=n,n=a.parent;const s=n.findOffset(a);return{node:n,offset:s}}if(n===i)return{node:n,offset:0};let r=n.findOffset(i);if(!i.isRemoved){if(i.isText)return{node:i,offset:i.paddedSize};r++}return{node:n,offset:r}}makeDeletionChanges(n,i){const r=[],a=[];let s=null,o=null;for(let l=0;l<n.length;l++){const c=n[l],h=n[l+1];s||(s=c),o=c;const d=this.findRightToken(c);(!d||!h||d[0]!==h[0]||d[1]!==h[1])&&(a.push([s,o]),s=null,o=null)}for(const l of a){const[c,h]=l,[d,g]=this.findLeftToken(c),[m,S]=h,A=g===Et.Start?d:d.parent,O=S===Et.Start?m:m.parent,p=this.toIndex(A,d),y=this.toIndex(O,m);p<y&&(r.length>0&&p===r[r.length-1].to?(r[r.length-1].to=y,r[r.length-1].toPath=this.toPath(O,m)):r.push({type:"content",from:p,to:y,fromPath:this.toPath(A,d),toPath:this.toPath(O,m),actor:i.getActorID()}))}return r.reverse()}findRightToken([n,i]){if(i===Et.Start){const l=n.allChildren;return l.length>0?[l[0],l[0].isText?Et.Text:Et.Start]:[n,Et.End]}const r=n.parent,a=r.allChildren,s=a.indexOf(n);if(r&&s===a.length-1)return[r,Et.End];const o=a[s+1];return[o,o.isText?Et.Text:Et.Start]}findLeftToken([n,i]){if(i===Et.End){const l=n.allChildren;if(l.length>0){const c=l[l.length-1];return[c,c.isText?Et.Text:Et.End]}return[n,Et.Start]}const r=n.parent,a=r.allChildren,s=a.indexOf(n);if(r&&s===0)return[r,Et.Start];const o=a[s-1];return[o,o.isText?Et.Text:Et.End]}}class jo extends Qe{constructor(n,i,r,a,s,o,l){super(n,l);u(this,"fromPos");u(this,"toPos");u(this,"contents");u(this,"splitLevel");u(this,"maxCreatedAtMapByActor");this.fromPos=i,this.toPos=r,this.contents=a,this.splitLevel=s,this.maxCreatedAtMapByActor=o}static create(n,i,r,a,s,o,l){return new jo(n,i,r,a,s,o,l)}execute(n,i,r){var h;const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(b.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Ve))throw new T(b.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const s=this.getExecutedAt(),o=a,[l,c]=o.edit([this.fromPos,this.toPos],(h=this.contents)==null?void 0:h.map(d=>d.deepcopy()),this.splitLevel,s,(()=>{let d=s.getDelimiter();return this.contents!==void 0&&(d+=this.contents.length),()=>qe.of(s.getLamport(),++d,s.getActorID())})(),this.maxCreatedAtMapByActor,r);for(const d of c)n.registerGCPair(d);return{opInfos:l.map(({from:d,to:g,value:m,splitLevel:S,fromPath:A,toPath:O})=>({type:"tree-edit",path:n.createPath(this.getParentCreatedAt()),from:d,to:g,value:m,splitLevel:S,fromPath:A,toPath:O}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,r=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,a=this.contents||[];return`${n}.EDIT(${i},${r},${a.map(s=>Td(s)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Ga{constructor(t){u(this,"vector");this.vector=t||new Map}set(t,n){this.vector.set(t,n)}unset(t){this.vector.delete(t)}get(t){return this.vector.get(t)}maxLamport(){let t=BigInt(0);for(const[,n]of this)n>t&&(t=n);return t}max(t){const n=new Map;for(const[i,r]of t){const a=this.vector.get(i),s=a&&a>r?a:r;n.set(i,s)}for(const[i,r]of this){const a=t.get(i),s=a&&a>r?a:r;n.set(i,s)}return new Ga(n)}afterOrEqual(t){const n=this.vector.get(t.getActorID());return n===void 0?!1:n>=t.getLamport()}deepcopy(){const t=new Map;for(const[n,i]of this.vector)t.set(n,i);return new Ga(t)}filter(t){const n=new Map;for(const[i]of t){const r=this.vector.get(i);r!==void 0&&n.set(i,r)}return new Ga(n)}size(){return this.vector.size}*[Symbol.iterator](){for(const[t,n]of this.vector)yield[t,n]}}const zA=new Ga(new Map);class xi{constructor(t,n,i,r,a){u(this,"clientSeq");u(this,"serverSeq");u(this,"lamport");u(this,"actor");u(this,"versionVector");this.clientSeq=t,this.serverSeq=a,this.lamport=n,this.versionVector=r,this.actor=i}static of(t,n,i,r,a){return new xi(t,n,i,r,a)}next(){const t=this.versionVector.deepcopy();return t.set(this.actor,this.lamport+1n),new xi(this.clientSeq+1,this.lamport+1n,this.actor,t)}syncClocks(t){const n=t.lamport>this.lamport?t.lamport+1n:this.lamport+1n;let i=t.versionVector;i.size()===0&&(i=i.deepcopy(),i.set(t.actor,t.lamport));const r=this.versionVector.max(i),a=new xi(this.clientSeq,n,this.actor,r);return a.versionVector.set(this.actor,n),a}setClocks(t,n){const i=t>this.lamport?t+1n:this.lamport+1n;n.unset(Zu);const r=this.versionVector.max(n);return r.set(this.actor,i),xi.of(this.clientSeq,i,this.actor,r)}createTimeTicket(t){return qe.of(this.lamport,t,this.actor)}setActor(t){return new xi(this.clientSeq,this.lamport,t,this.versionVector,this.serverSeq)}setVersionVector(t){return new xi(this.clientSeq,this.lamport,this.actor,t,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const LA=new xi(0,0n,Zu,zA);class ss{constructor({id:t,operations:n,presenceChange:i,message:r}){u(this,"id");u(this,"operations");u(this,"presenceChange");u(this,"message");this.id=t,this.operations=n||[],this.presenceChange=i,this.message=r}static create({id:t,operations:n,presenceChange:i,message:r}){return new ss({id:t,operations:n,presenceChange:i,message:r})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(t){for(const n of this.operations)n.setActor(t);this.id=this.id.setActor(t)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(t,n,i){const r=[],a=[];for(const s of this.operations){const o=s.execute(t,i,this.id.getVersionVector());if(!o)continue;const{opInfos:l,reverseOp:c}=o;r.push(...l),c&&a.unshift(c)}return this.presenceChange&&(this.presenceChange.type===Dr.Put?n.set(this.id.getActorID(),Pe(this.presenceChange.presence)):n.delete(this.id.getActorID())),{opInfos:r,reverseOps:a}}toTestString(){return`${this.operations.map(t=>t.toTestString()).join(",")}`}toStruct(){return{changeID:At.bytesToHex(At.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(t=>At.bytesToHex(At.toOperation(t).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(t){const{changeID:n,operations:i,presenceChange:r,message:a}=t;return ss.create({id:At.bytesToChangeID(At.hexToBytes(n)),operations:i==null?void 0:i.map(s=>At.bytesToOperation(At.hexToBytes(s))),presenceChange:r,message:a})}}class _u{constructor(t,n,i,r,a,s,o){u(this,"documentKey");u(this,"checkpoint");u(this,"isRemoved");u(this,"changes");u(this,"snapshot");u(this,"minSyncedTicket");u(this,"versionVector");this.documentKey=t,this.checkpoint=n,this.isRemoved=i,this.changes=r,this.snapshot=s,this.minSyncedTicket=o,this.versionVector=a}static create(t,n,i,r,a,s,o){return new _u(t,n,i,r,a,s,o)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getMinSyncedTicket(){return this.minSyncedTicket}getVersionVector(){return this.versionVector}}class Ya{constructor(t,n){u(this,"serverSeq");u(this,"clientSeq");this.serverSeq=t,this.clientSeq=n}static of(t,n){return new Ya(t,n)}increaseClientSeq(t){return t===0?this:new Ya(this.serverSeq,this.clientSeq+t)}forward(t){if(this.equals(t))return this;const n=this.serverSeq>t.serverSeq?this.serverSeq:t.serverSeq,i=Math.max(this.clientSeq,t.clientSeq);return Ya.of(n,i)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(t){return this.clientSeq===t.clientSeq&&this.serverSeq==t.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const qA=new Ya(0n,0);class vn{constructor(t,n){u(this,"createdAt");u(this,"offset");this.createdAt=t,this.offset=n}static of(t,n){return new vn(t,n)}static fromStruct(t){return vn.of(qe.fromStruct(t.createdAt),t.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}hasSameCreatedAt(t){return this.createdAt.compare(t.createdAt)===0}split(t){return new vn(this.createdAt,this.offset+t)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const JA=vn.of(Xe,0);class Ze{constructor(t,n){u(this,"id");u(this,"relativeOffset");this.id=t,this.relativeOffset=n}static of(t,n){return new Ze(t,n)}static fromStruct(t){const n=vn.fromStruct(t.id);return Ze.of(n,t.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return vn.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(t){return this.id.equals(t.id)?this.relativeOffset===t.relativeOffset:!1}}class Tr extends v0{constructor(n,i,r){super(i);u(this,"id");u(this,"removedAt");u(this,"prev");u(this,"next");u(this,"insPrev");u(this,"insNext");this.id=n,this.removedAt=r}static create(n,i){return new Tr(n,i)}static createComparator(){return(n,i)=>{const r=n.getCreatedAt().compare(i.getCreatedAt());return r!==0?r:n.getOffset()>i.getOffset()?1:n.getOffset()<i.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(n){this.prev=n,n&&(n.next=this)}setNext(n){this.next=n,n&&(n.prev=this)}setInsPrev(n){this.insPrev=n,n&&(n.insNext=this)}setInsNext(n){this.insNext=n,n&&(n.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(n){return new Tr(this.id.split(n),this.splitValue(n),this.removedAt)}canDelete(n,i,r){const a=!this.removedAt;return(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=r)&&(!this.removedAt||n.after(this.removedAt))?a:!1}canStyle(n,i,r){return(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=r)&&(!this.removedAt||n.after(this.removedAt))}remove(n){this.removedAt=n}createPosRange(){return[Ze.of(this.id,0),Ze.of(this.id,this.getLength())]}deepcopy(){return new Tr(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(n){const i=this.value;return this.value=i.substring(0,n),i.substring(n,i.length)}toIDString(){return this.id.toIDString()}}class os{constructor(){u(this,"head");u(this,"treeByIndex");u(this,"treeByID");this.head=Tr.create(JA),this.treeByIndex=new bo,this.treeByID=new x0(Tr.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new os}edit(t,n,i,r,a){const[s,o]=this.findNodeWithSplit(t[1],n),[l,c]=this.findNodeWithSplit(t[0],n),h=this.findBetween(c,o),[d,g,m]=this.deleteNodes(h,n,r,a),S=o?o.getID():s.getID();let A=Ze.of(S,0);if(i){const p=this.posToIndex(l.createPosRange()[1],!0),y=this.insertAfter(l,Tr.create(vn.of(n,0),i));d.length&&d[d.length-1].from===p?d[d.length-1].value=i:d.push({actor:n.getActorID(),from:p,to:p,value:i}),A=Ze.of(y.getID(),y.getContentLength())}const O=[];for(const[,p]of m)O.push({parent:this,child:p});return[A,g,O,d]}indexToPos(t){const[n,i]=this.treeByIndex.find(t),r=n;return Ze.of(r.getID(),i)}findIndexesFromRange(t){const[n,i]=t;return[this.posToIndex(n,!1),this.posToIndex(i,!0)]}posToIndex(t,n){const i=t.getAbsoluteID(),r=n?this.findFloorNodePreferToLeft(i):this.findFloorNode(i);if(!r)throw new T(b.ErrInvalidArgument,`the node of the given id should be found: ${i.toTestString()}`);const a=this.treeByIndex.indexOf(r),s=r.isRemoved()?0:i.getOffset()-r.getID().getOffset();return a+s}findNode(t){return this.findFloorNode(t)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const t=[];for(const n of this)n.isRemoved()||t.push(n.getValue());return t.join("")}*[Symbol.iterator](){let t=this.head.getNext();for(;t;)yield t,t=t.getNext()}getHead(){return this.head}deepcopy(){const t=new os;let n=this.head.getNext(),i=t.head,r;for(;n;){if(r=t.insertAfter(i,n.deepcopy()),n.hasInsPrev()){const a=t.findNode(n.getInsPrevID());r.setInsPrev(a)}i=r,n=n.getNext()}return t}toTestString(){const t=[];let n=this.head;for(;n;)n.isRemoved()?t.push(`{${n.toTestString()}}`):t.push(`[${n.toTestString()}]`),n=n.getNext();return t.join("")}insertAfter(t,n){const i=t.getNext();return n.setPrev(t),i&&i.setPrev(n),this.treeByID.put(n.getID(),n),this.treeByIndex.insertAfter(t,n),n}findNodeWithSplit(t,n){const i=t.getAbsoluteID();let r=this.findFloorNodePreferToLeft(i);const a=i.getOffset()-r.getID().getOffset();for(this.splitNode(r,a);r.hasNext()&&r.getNext().getCreatedAt().after(n);)r=r.getNext();return[r,r.getNext()]}findFloorNodePreferToLeft(t){let n=this.findFloorNode(t);if(!n)throw new T(b.ErrInvalidArgument,`the node of the given id should be found: ${t.toTestString()}`);if(t.getOffset()>0&&n.getID().getOffset()==t.getOffset()){if(!n.hasInsPrev())return n;n=n.getInsPrev()}return n}findFloorNode(t){const n=this.treeByID.floorEntry(t);if(n&&!(!n.key.equals(t)&&!n.key.hasSameCreatedAt(t)))return n.value}findBetween(t,n){const i=[];let r=t;for(;r&&r!==n;)i.push(r),r=r.getNext();return i}splitNode(t,n){if(n>t.getContentLength())throw new T(b.ErrInvalidArgument,"offset should be less than or equal to length");if(n===0)return t;if(n===t.getContentLength())return t.getNext();const i=t.split(n);this.treeByIndex.updateWeight(i),this.insertAfter(t,i);const r=t.getInsNext();return r&&r.setInsPrev(i),i.setInsPrev(t),i}deleteNodes(t,n,i,r){if(!t.length)return[[],new Map,new Map];const[a,s]=this.filterNodes(t,n,i,r),o=new Map,l=new Map,c=this.makeChanges(s,n);for(const h of a){const d=h.getCreatedAt().getActorID();(!o.has(d)||h.getID().getCreatedAt().after(o.get(d)))&&o.set(d,h.getID().getCreatedAt()),l.set(h.getID().toIDString(),h),h.remove(n)}return this.deleteIndexNodes(s),[c,o,l]}filterNodes(t,n,i,r){const a=[],s=[],[o,l]=this.findEdgesOfCandidates(t);s.push(o);for(const c of t){const h=c.getCreatedAt().getActorID();let d,g=0n;r===void 0&&i===void 0?g=Zs:r.size()>0?g=r.get(h)?r.get(h):0n:d=i.has(h)?i.get(h):Xe,c.canDelete(n,d,g)?a.push(c):s.push(c)}return s.push(l),[a,s]}findEdgesOfCandidates(t){return[t[0].getPrev(),t[t.length-1].getNext()]}makeChanges(t,n){const i=[];let r,a;for(let s=0;s<t.length-1;s++){const o=t[s],l=t[s+1];o.getNext()!=l&&([r]=this.findIndexesFromRange(o.getNext().createPosRange()),l?[,a]=this.findIndexesFromRange(l.getPrev().createPosRange()):a=this.treeByIndex.length,r<a&&i.push({actor:n.getActorID(),from:r,to:a}))}return i.reverse()}deleteIndexNodes(t){for(let n=0;n<t.length-1;n++){const i=t[n],r=t[n+1];i.getNext()!=r&&this.treeByIndex.deleteRange(i,r)}}purge(t){this.treeByIndex.delete(t),this.treeByID.remove(t.getID());const n=t.getPrev(),i=t.getNext(),r=t.getInsPrev(),a=t.getInsNext();n&&n.setNext(i),i&&i.setPrev(n),t.setPrev(void 0),t.setNext(void 0),r&&r.setInsNext(a),a&&a.setInsPrev(r),t.setInsPrev(void 0),t.setInsNext(void 0)}}const Vm=e=>e<0?Math.ceil(e):Math.floor(e);var bn=(e=>(e[e.IntegerCnt=0]="IntegerCnt",e[e.LongCnt=1]="LongCnt",e))(bn||{});class ge extends Lo{constructor(n,i,r){super(r);u(this,"valueType");u(this,"value");switch(this.valueType=n,n){case 0:typeof i=="number"?i>Math.pow(2,31)-1||i<-Math.pow(2,31)?this.value=X.fromNumber(i).toInt():this.value=Vm(i):this.value=i.toInt();break;case 1:typeof i=="number"?this.value=X.fromNumber(i):this.value=i;break;default:throw new T(b.ErrUnimplemented,`unimplemented type: ${n}`)}}static create(n,i,r){return new ge(n,i,r)}static valueFromBytes(n,i){switch(n){case 0:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 1:return X.fromBytesLE(Array.from(i));default:throw new T(b.ErrUnimplemented,`unimplemented type: ${n}`)}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const n=ge.create(this.valueType,this.value,this.getCreatedAt());return n.setMovedAt(this.getMovedAt()),n}getType(){return this.valueType}static getCounterType(n){switch(typeof n){case"object":return n instanceof X?1:void 0;case"number":return n>Math.pow(2,31)-1||n<-Math.pow(2,31)?1:0;default:return}}static isSupport(n){return!!ge.getCounterType(n)}static isInteger(n){return n%1===0}isNumericType(){const n=this.valueType;return n===0||n===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const n=this.value;return new Uint8Array([n&255,n>>8&255,n>>16&255,n>>24&255])}case 1:{const i=this.value.toBytesLE();return Uint8Array.from(i)}default:throw new T(b.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(n){function i(r){if(!r.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof r.getValue()}`)}return i(this),i(n),this.valueType===1?this.value=this.value.add(n.getValue()):n.getType()===Ot.Long?this.value=this.value+n.getValue().toInt():this.value=X.fromNumber(this.value+Vm(n.getValue())).toInt(),this}}class ls extends Qe{constructor(n,i,r){super(n,r);u(this,"value");this.value=i}static create(n,i,r){return new ls(n,i,r)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new T(b.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof ge))throw new T(b.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const r=i,a=this.value.deepcopy();return r.increase(a),{opInfos:[{type:"increase",path:n.createPath(this.getParentCreatedAt()),value:a.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const n=this.value.deepcopy(),r=n.getType()===Ot.Long?n.getValue().multiply(-1):n.getValue()*-1;return ls.create(this.getParentCreatedAt(),gt.of(r,n.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class ji extends Qe{constructor(n,i,r,a,s,o,l){super(n,l);u(this,"fromPos");u(this,"toPos");u(this,"maxCreatedAtMapByActor");u(this,"attributes");u(this,"attributesToRemove");this.fromPos=i,this.toPos=r,this.maxCreatedAtMapByActor=a,this.attributes=s,this.attributesToRemove=o}static create(n,i,r,a,s,o){return new ji(n,i,r,a,s,[],o)}static createTreeRemoveStyleOperation(n,i,r,a,s,o){return new ji(n,i,r,a,new Map,s,o)}execute(n,i,r){const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(b.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Ve))throw new T(b.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const s=a;let o,l;if(this.attributes.size){const c={};[...this.attributes].forEach(([h,d])=>c[h]=d),[,l,o]=s.style([this.fromPos,this.toPos],c,this.getExecutedAt(),this.maxCreatedAtMapByActor,r)}else{const c=this.attributesToRemove;[,l,o]=s.removeStyle([this.fromPos,this.toPos],c,this.getExecutedAt(),this.maxCreatedAtMapByActor,r)}for(const c of l)n.registerGCPair(c);return{opInfos:o.map(({from:c,to:h,value:d,fromPath:g,toPath:m})=>({type:"tree-style",from:c,to:h,value:this.attributes.size?{attributes:d}:{attributesToRemove:d},fromPath:g,toPath:m,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,r=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${n}.STYLE(${i},${r},${Object.entries(this.attributes||{}).map(([a,s])=>`${a}:"${s}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}function HA(e){const t=new vd,n=t.data;for(const[i,r]of Object.entries(e))n[i]=JSON.stringify(r);return t}function jA(e){if(e.type===Dr.Put)return new vo({type:ia.PUT,presence:HA(e.presence)});if(e.type===Dr.Clear)return new vo({type:ia.CLEAR});throw new T(b.ErrUnimplemented,"unimplemented type")}function VA(e){return new m0({serverSeq:e.getServerSeq(),clientSeq:e.getClientSeq()})}function O0(e){return new $u({clientSeq:e.getClientSeq(),lamport:e.getLamport(),actorId:Bd(e.getActorID()),versionVector:Ad(e.getVersionVector())})}function U(e){if(e)return new I({lamport:e.getLamport(),delimiter:e.getDelimiter(),actorId:Bd(e.getActorID())})}function Ad(e){if(!e)return;const t=new Xu;for(const[n,i]of e)t.vector[n]=BigInt(i.toString());return t}function C0(e){switch(e){case Ot.Null:return J.NULL;case Ot.Boolean:return J.BOOLEAN;case Ot.Integer:return J.INTEGER;case Ot.Long:return J.LONG;case Ot.Double:return J.DOUBLE;case Ot.String:return J.STRING;case Ot.Bytes:return J.BYTES;case Ot.Date:return J.DATE;default:throw new T(b.ErrInvalidType,`unsupported type: ${e}`)}}function k0(e){switch(e){case bn.IntegerCnt:return J.INTEGER_CNT;case bn.LongCnt:return J.LONG_CNT;default:throw new T(b.ErrInvalidType,`unsupported type: ${e}`)}}function Yc(e){if(e instanceof ee)return new Ae({type:J.JSON_OBJECT,createdAt:U(e.getCreatedAt()),value:P0(e)});if(e instanceof de)return new Ae({type:J.JSON_ARRAY,createdAt:U(e.getCreatedAt()),value:Sw(e)});if(e instanceof je)return new Ae({type:J.TEXT,createdAt:U(e.getCreatedAt())});if(e instanceof gt)return new Ae({type:C0(e.getType()),createdAt:U(e.getCreatedAt()),value:e.toBytes()});if(e instanceof ge)return new Ae({type:k0(e.getType()),createdAt:U(e.getCreatedAt()),value:e.toBytes()});if(e instanceof Ve)return new Ae({type:J.TREE,createdAt:U(e.getCreatedAt()),value:Tw(e)});throw new T(b.ErrUnimplemented,"unimplemented element")}function PA(e){return new yo({createdAt:U(e.getCreatedAt()),offset:e.getOffset()})}function ll(e){return new Fi({createdAt:U(e.getID().getCreatedAt()),offset:e.getID().getOffset(),relativeOffset:e.getRelativeOffset()})}function ul(e){return new na({parentId:Qs(e.getParentID()),leftSiblingId:Qs(e.getLeftSiblingID())})}function Qs(e){return new Sr({createdAt:U(e.getCreatedAt()),offset:e.getOffset()})}function R0(e){const t=new pd;if(e instanceof ra){const n=e,i=new lu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.key=n.getKey(),i.value=Yc(n.getValue()),i.executedAt=U(n.getExecutedAt()),t.body.case="set",t.body.value=i}else if(e instanceof qo){const n=e,i=new uu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.prevCreatedAt=U(n.getPrevCreatedAt()),i.value=Yc(n.getValue()),i.executedAt=U(n.getExecutedAt()),t.body.case="add",t.body.value=i}else if(e instanceof cr){const n=e,i=new cu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.prevCreatedAt=U(n.getPrevCreatedAt()),i.createdAt=U(n.getCreatedAt()),i.executedAt=U(n.getExecutedAt()),t.body.case="move",t.body.value=i}else if(e instanceof Or){const n=e,i=new fu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.createdAt=U(n.getCreatedAt()),i.executedAt=U(n.getExecutedAt()),t.body.case="remove",t.body.value=i}else if(e instanceof Jo){const n=e,i=new hu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.from=ll(n.getFromPos()),i.to=ll(n.getToPos());const r=i.createdAtMapByActor;for(const[s,o]of n.getMaxCreatedAtMapByActor())r[s]=U(o);i.content=n.getContent();const a=i.attributes;for(const[s,o]of n.getAttributes())a[s]=o;i.executedAt=U(n.getExecutedAt()),t.body.case="edit",t.body.value=i}else if(e instanceof Ho){const n=e,i=new du;i.parentCreatedAt=U(n.getParentCreatedAt()),i.from=ll(n.getFromPos()),i.to=ll(n.getToPos());const r=i.createdAtMapByActor;for(const[s,o]of n.getMaxCreatedAtMapByActor())r[s]=U(o);const a=i.attributes;for(const[s,o]of n.getAttributes())a[s]=o;i.executedAt=U(n.getExecutedAt()),t.body.case="style",t.body.value=i}else if(e instanceof ls){const n=e,i=new gu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.value=Yc(n.getValue()),i.executedAt=U(n.getExecutedAt()),t.body.case="increase",t.body.value=i}else if(e instanceof jo){const n=e,i=new mu,r=i.createdAtMapByActor;for(const[a,s]of n.getMaxCreatedAtMapByActor())r[a]=U(s);i.parentCreatedAt=U(n.getParentCreatedAt()),i.from=ul(n.getFromPos()),i.to=ul(n.getToPos()),i.contents=ZA(n.getContents()),i.splitLevel=n.getSplitLevel(),i.executedAt=U(n.getExecutedAt()),t.body.case="treeEdit",t.body.value=i}else if(e instanceof ji){const n=e,i=new yu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.from=ul(n.getFromPos()),i.to=ul(n.getToPos());const r=i.createdAtMapByActor;for(const[s,o]of n.getMaxCreatedAtMapByActor())r[s]=U(o);const a=n.getAttributesToRemove();if(a.length>0)i.attributesToRemove=a;else{const s=i.attributes;for(const[o,l]of n.getAttributes())s[o]=l}i.executedAt=U(n.getExecutedAt()),t.body.case="treeStyle",t.body.value=i}else throw new T(b.ErrUnimplemented,"unimplemented operation");return t}function GA(e){const t=[];for(const n of e)t.push(R0(n));return t}function YA(e){const t=new d0({id:O0(e.getID()),message:e.getMessage()});return e.hasOperations()&&(t.operations=GA(e.getOperations())),e.hasPresenceChange()&&(t.presenceChange=jA(e.getPresenceChange())),t}function FA(e){const t=[];for(const n of e)t.push(YA(n));return t}function KA(e){const t=[];for(const n of e)t.push(new g0({key:n.getStrKey(),element:Ed(n.getValue())}));return t}function $A(e){const t=[];for(const n of e)t.push(new wu({element:Ed(n.getValue())}));return t}function XA(e){const t=[];for(const n of e){const i=new Eu;i.id=PA(n.getID()),i.value=n.getValue().getContent(),i.removedAt=U(n.getRemovedAt());const r=i.attributes,a=n.getValue().getAttrs();for(const s of a){const o=new is;o.value=s.getValue(),o.updatedAt=U(s.getUpdatedAt()),r[s.getKey()]=o}t.push(i)}return t}function ZA(e){const t=[];if(!e||!e.length)return t;for(const n of e)t.push(new Nu({content:wd(n)}));return t}function QA(e){const t={};for(const n of e)t[n.getKey()]=new is({value:n.getValue(),updatedAt:U(n.getUpdatedAt()),isRemoved:n.isRemoved()});return t}function wd(e){if(!e)return[];const t=[];return Qu(e,(n,i)=>{const r=new po({id:Qs(n.id),type:n.type,removedAt:U(n.removedAt),depth:i});n.isText&&(r.value=n.value),n.insPrevID&&(r.insPrevId=Qs(n.insPrevID)),n.insNextID&&(r.insNextId=Qs(n.insNextID)),n.attrs&&(r.attributes=QA(n.attrs)),t.push(r)}),t}function _A(e){const t=new ie;return t.body.case="jsonObject",t.body.value=new pu({nodes:KA(e.getRHT()),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function B0(e){const t=new ie;return t.body.case="jsonArray",t.body.value=new vu({nodes:$A(e.getElements()),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function WA(e){const t=new ie;return t.body.case="primitive",t.body.value=new Su({type:C0(e.getType()),value:e.toBytes(),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function tw(e){const t=new ie;return t.body.case="text",t.body.value=new bu({nodes:XA(e.getRGATreeSplit()),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function ew(e){const t=new ie;return t.body.case="counter",t.body.value=new Tu({type:k0(e.getType()),value:e.toBytes(),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function M0(e){const t=new ie;return t.body.case="tree",t.body.value=new Au({nodes:wd(e.getRoot()),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function Ed(e){if(e instanceof ee)return _A(e);if(e instanceof de)return B0(e);if(e instanceof gt)return WA(e);if(e instanceof je)return tw(e);if(e instanceof ge)return ew(e);if(e instanceof Ve)return M0(e);throw new T(b.ErrUnimplemented,"unimplemented element")}function nw(e){return new Xi({documentKey:e.getDocumentKey(),checkpoint:VA(e.getCheckpoint()),isRemoved:e.getIsRemoved(),changes:FA(e.getChanges()),snapshot:e.getSnapshot(),versionVector:Ad(e.getVersionVector()),minSyncedTicket:U(e.getMinSyncedTicket())})}function Rs(e){if(!(e instanceof lt))return{};const t=e.findDetails(TA);for(const n of t)return n.metadata;return{}}function ma(e){return Rs(e).code??""}function I0(e){return xi.of(e.clientSeq,BigInt(e.lamport),kd(e.actorId),Nd(e.versionVector),BigInt(e.serverSeq))}function Nd(e){if(!e)return;const t=new Ga;return Object.entries(e.vector).forEach(([n,i])=>{t.set(n,BigInt(i.toString()))}),t}function z(e){if(e)return qe.of(BigInt(e.lamport),e.delimiter,kd(e.actorId))}function xd(e){const t={};return Object.entries(e.data).forEach(([n,i])=>{t[n]=JSON.parse(i)}),t}function iw(e){const t=e.type;if(t===ia.PUT){const n=xd(e.presence);return{type:Dr.Put,presence:n}}if(t===ia.CLEAR)return{type:Dr.Clear};throw new T(b.ErrInvalidType,`unsupported type: ${t}`)}function rw(e){const t=new Map;return Object.entries(e).forEach(([n,i])=>{t.set(n,xd(i))}),t}function U0(e){switch(e){case J.NULL:return Ot.Null;case J.BOOLEAN:return Ot.Boolean;case J.INTEGER:return Ot.Integer;case J.LONG:return Ot.Long;case J.DOUBLE:return Ot.Double;case J.STRING:return Ot.String;case J.BYTES:return Ot.Bytes;case J.DATE:return Ot.Date}throw new T(b.ErrUnimplemented,`unimplemented value type: ${e}`)}function Ou(e){switch(e){case J.INTEGER_CNT:return bn.IntegerCnt;case J.LONG_CNT:return bn.LongCnt}throw new T(b.ErrUnimplemented,`unimplemented value type: ${e}`)}function Fc(e){switch(e.type){case J.JSON_OBJECT:return e.value?V0(e.value):ee.create(z(e.createdAt));case J.JSON_ARRAY:return e.value?vw(e.value):de.create(z(e.createdAt));case J.TEXT:return je.create(os.create(),z(e.createdAt));case J.TREE:return bw(e.value);case J.NULL:case J.BOOLEAN:case J.INTEGER:case J.LONG:case J.DOUBLE:case J.STRING:case J.BYTES:case J.DATE:return gt.of(gt.valueFromBytes(U0(e.type),e.value),z(e.createdAt));case J.INTEGER_CNT:case J.LONG_CNT:return ge.create(Ou(e.type),ge.valueFromBytes(Ou(e.type),e.value),z(e.createdAt))}}function cl(e){return Ze.of(vn.of(z(e.createdAt),e.offset),e.relativeOffset)}function z0(e){return vn.of(z(e.createdAt),e.offset)}function aw(e){const t=Ao.create(e.value);Object.entries(e.attributes).forEach(([i,r])=>{t.setAttr(i,r.value,z(r.updatedAt))});const n=Tr.create(z0(e.id),t);return n.remove(z(e.removedAt)),n}function ya(e){return Ke.of(_s(e.parentId),_s(e.leftSiblingId))}function _s(e){return Vt.of(z(e.createdAt),e.offset)}function sw(e){if(!e.length)return;const t=[];return e.forEach(n=>{const i=Dd(n.content);t.push(i)}),t}function Dd(e){if(e.length===0)return;const t=[];for(const r of e)t.push(lw(r));const n=t[t.length-1],i=new Map;i.set(e[t.length-1].depth,t[t.length-1]);for(let r=t.length-2;r>=0;r--)i.get(e[r].depth-1).prepend(t[r]),i.set(e[r].depth,t[r]);return n.updateDescendantsSize(),Ve.create(n,Xe).getRoot()}function ow(e){const t=Ki.create();for(const[n,i]of Object.entries(e))t.setInternal(n,i.value,z(i.updatedAt),i.isRemoved);return t}function lw(e){const t=_s(e.id),n=ue.create(t,e.type),i=Object.entries(e.attributes);return n.isText?n.value=e.value:i.length&&(n.attrs=ow(e.attributes)),e.insPrevId&&(n.insPrevID=_s(e.insPrevId)),e.insNextId&&(n.insNextID=_s(e.insNextId)),n.removedAt=z(e.removedAt),n}function L0(e){if(e.body.case==="set"){const t=e.body.value;return ra.create(t.key,Fc(t.value),z(t.parentCreatedAt),z(t.executedAt))}else if(e.body.case==="add"){const t=e.body.value;return qo.create(z(t.parentCreatedAt),z(t.prevCreatedAt),Fc(t.value),z(t.executedAt))}else if(e.body.case==="move"){const t=e.body.value;return cr.create(z(t.parentCreatedAt),z(t.prevCreatedAt),z(t.createdAt),z(t.executedAt))}else if(e.body.case==="remove"){const t=e.body.value;return Or.create(z(t.parentCreatedAt),z(t.createdAt),z(t.executedAt))}else if(e.body.case==="edit"){const t=e.body.value,n=new Map;Object.entries(t.createdAtMapByActor).forEach(([r,a])=>{n.set(r,z(a))});const i=new Map;return Object.entries(t.attributes).forEach(([r,a])=>{i.set(r,a)}),Jo.create(z(t.parentCreatedAt),cl(t.from),cl(t.to),n,t.content,i,z(t.executedAt))}else if(e.body.case==="style"){const t=e.body.value,n=new Map;Object.entries(t.createdAtMapByActor).forEach(([r,a])=>{n.set(r,z(a))});const i=new Map;return Object.entries(t.attributes).forEach(([r,a])=>{i.set(r,a)}),Ho.create(z(t.parentCreatedAt),cl(t.from),cl(t.to),n,i,z(t.executedAt))}else{if(e.body.case==="select")return;if(e.body.case==="increase"){const t=e.body.value;return ls.create(z(t.parentCreatedAt),Fc(t.value),z(t.executedAt))}else if(e.body.case==="treeEdit"){const t=e.body.value,n=new Map;return Object.entries(t.createdAtMapByActor).forEach(([i,r])=>{n.set(i,z(r))}),jo.create(z(t.parentCreatedAt),ya(t.from),ya(t.to),sw(t.contents),t.splitLevel,n,z(t.executedAt))}else if(e.body.case==="treeStyle"){const t=e.body.value,n=new Map,i=t.attributesToRemove,r=new Map;return t!=null&&t.createdAtMapByActor&&Object.entries(t.createdAtMapByActor).forEach(([a,s])=>{r.set(a,z(s))}),(i==null?void 0:i.length)>0?ji.createTreeRemoveStyleOperation(z(t.parentCreatedAt),ya(t.from),ya(t.to),r,i,z(t.executedAt)):(Object.entries(t.attributes).forEach(([a,s])=>{n.set(a,s)}),ji.create(z(t.parentCreatedAt),ya(t.from),ya(t.to),r,n,z(t.executedAt)))}else throw new T(b.ErrUnimplemented,"unimplemented operation")}}function uw(e){const t=[];for(const n of e){const i=L0(n);i&&t.push(i)}return t}function q0(e){const t=[];for(const n of e)t.push(ss.create({id:I0(n.id),operations:uw(n.operations),presenceChange:n.presenceChange?iw(n.presenceChange):void 0,message:n.message}));return t}function cw(e){return Ya.of(BigInt(e.serverSeq),e.clientSeq)}function fw(e){return _u.create(e.documentKey,cw(e.checkpoint),e.isRemoved,q0(e.changes),Nd(e.versionVector),e.snapshot,z(e.minSyncedTicket))}function J0(e){const t=new So;for(const i of e.nodes){const r=Od(i.element);t.set(i.key,r,r.getPositionedAt())}const n=new ee(z(e.createdAt),t);return n.setMovedAt(z(e.movedAt)),n.setRemovedAt(z(e.removedAt)),n}function H0(e){const t=new To;for(const i of e.nodes)t.insert(Od(i.element));const n=new de(z(e.createdAt),t);return n.setMovedAt(z(e.movedAt)),n.setRemovedAt(z(e.removedAt)),n}function hw(e){const t=gt.of(gt.valueFromBytes(U0(e.type),e.value),z(e.createdAt));return t.setMovedAt(z(e.movedAt)),t.setRemovedAt(z(e.removedAt)),t}function dw(e){const t=new os;let n=t.getHead();for(const r of e.nodes){const a=t.insertAfter(n,aw(r));r.insPrevId&&a.setInsPrev(t.findNode(z0(r.insPrevId))),n=a}const i=new je(t,z(e.createdAt));return i.setMovedAt(z(e.movedAt)),i.setRemovedAt(z(e.removedAt)),i}function gw(e){const t=ge.create(Ou(e.type),ge.valueFromBytes(Ou(e.type),e.value),z(e.createdAt));return t.setMovedAt(z(e.movedAt)),t.setRemovedAt(z(e.removedAt)),t}function j0(e){const t=Dd(e.nodes);return Ve.create(t,z(e.createdAt))}function Od(e){if(e.body.case==="jsonObject")return J0(e.body.value);if(e.body.case==="jsonArray")return H0(e.body.value);if(e.body.case==="primitive")return hw(e.body.value);if(e.body.case==="text")return dw(e.body.value);if(e.body.case==="counter")return gw(e.body.value);if(e.body.case==="tree")return j0(e.body.value);throw new T(b.ErrUnimplemented,"unimplemented element")}function mw(e){if(!e)return{root:ee.create(Xe),presences:new Map};const t=Gf.fromBinary(e);return{root:Od(t.root),presences:rw(t.presences)}}function yw(e){const t=Ad(e);return Cd(t.toBinary())}function pw(e){const t=Rd(e),n=Xu.fromBinary(t);return Nd(n)}function V0(e){if(!e)throw new T(b.ErrInvalidArgument,"bytes is empty");const t=ie.fromBinary(e);return J0(t.body.value)}function P0(e){return Ed(e).toBinary()}function vw(e){if(!e)throw new T(b.ErrInvalidArgument,"bytes is empty");const t=ie.fromBinary(e);return H0(t.body.value)}function Sw(e){return B0(e).toBinary()}function bw(e){if(!e)throw new T(b.ErrInvalidArgument,"bytes is empty");const t=ie.fromBinary(e);return j0(t.body.value)}function Tw(e){return M0(e).toBinary()}function Cd(e){return e?Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join(""):""}function kd(e){return Cd(e)}function Rd(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>parseInt(t,16)))}function Bd(e){return Rd(e)}function Aw(e){const t=$u.fromBinary(e);return I0(t)}function ww(e){const t=pd.fromBinary(e);return L0(t)}const At={fromPresence:xd,toChangePack:nw,fromChangePack:fw,fromChanges:q0,toTreeNodes:wd,fromTreeNodes:Dd,objectToBytes:P0,bytesToObject:V0,bytesToSnapshot:mw,bytesToHex:Cd,hexToBytes:Rd,toHexString:kd,toUint8Array:Bd,toOperation:R0,toChangeID:O0,PbChangeID:$u,bytesToChangeID:Aw,bytesToOperation:ww,versionVectorToHex:yw,hexToVersionVector:pw};var $t=(e=>(e[e.Trivial=0]="Trivial",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warn=3]="Warn",e[e.Error=4]="Error",e[e.Fatal=5]="Fatal",e))($t||{});let zr=3;function G0(e){zr=e}const L={trivial:(...e)=>{zr>0||typeof console<"u"&&console.log("YORKIE T:",...e)},debug:(...e)=>{zr>1||typeof console<"u"&&console.log("YORKIE D:",...e)},info:(...e)=>{zr>2||typeof console<"u"&&console.log("YORKIE I:",...e)},warn:(...e)=>{zr>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...e):console.log("YORKIE W:",...e))},error:(...e)=>{zr>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...e):console.log("YORKIE E:",...e))},fatal:(...e)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...e):console.log("YORKIE F:",...e))},isEnabled:e=>zr<=e};function Y0(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class Ew{constructor(t,n,i,r,a){u(this,"reconnectStreamDelay");u(this,"doc");u(this,"docID");u(this,"syncMode");u(this,"remoteChangeEventReceived");u(this,"watchStream");u(this,"watchLoopTimerID");u(this,"watchAbortController");u(this,"unsubscribeBroadcastEvent");this.reconnectStreamDelay=t,this.doc=n,this.docID=i,this.syncMode=r,this.remoteChangeEventReceived=!1,this.unsubscribeBroadcastEvent=a}changeSyncMode(t){this.syncMode=t}needRealtimeSync(){return this.syncMode===Rl.RealtimeSyncOff?!1:this.syncMode===Rl.RealtimePushOnly?this.doc.hasLocalChanges():this.syncMode!==Rl.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(t){const n=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await t(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(n,this.reconnectStreamDelay)})}catch{}};await n()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}const Kc=()=>{};class Nw{constructor(t){u(this,"finalized",!1);u(this,"observers",[]);u(this,"finalError");try{t(this)}catch(n){this.error(n)}}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(!t)throw new T(b.ErrInvalidArgument,"missing observer");if(this.finalized)throw new T(b.ErrRefused,"observable is finalized due to previous error");typeof t=="object"?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Kc),r.error===void 0&&(r.error=Kc),r.complete===void 0&&(r.complete=Kc);const a=Y0(),s=this.unsubscribeOne.bind(this,a);if(this.observers.push({subscriptionID:a,observer:r}),this.finalized)try{this.finalError?r.error(this.finalError):r.complete()}catch(o){L.warn(o)}return s}unsubscribeOne(t){var n;this.observers=(n=this.observers)==null?void 0:n.filter(i=>i.subscriptionID!==t)}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t].observer)}catch(i){L.error(i)}}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.observers=void 0)}}function xw(e){const t=new Nw(e);return{subscribe:t.subscribe.bind(t),getProxy:()=>t}}class Ia{constructor(t,n,i,r){u(this,"id");u(this,"delimiter");u(this,"message");u(this,"root");u(this,"operations");u(this,"presenceChange");u(this,"previousPresence");u(this,"reversePresenceKeys");this.id=t,this.delimiter=p0,this.root=n,this.operations=[],this.previousPresence=Pe(i),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=r}static create(t,n,i,r){return new Ia(t,n,i,r)}push(t){this.operations.push(t)}registerElement(t,n){this.root.registerElement(t,n)}registerRemovedElement(t){this.root.registerRemovedElement(t)}registerGCPair(t){this.root.registerGCPair(t)}getChange(){return ss.create({id:this.id,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(t){this.presenceChange=t}setReversePresence(t,n){for(const i of Object.keys(t))n!=null&&n.addToHistory?this.reversePresenceKeys.add(i):this.reversePresenceKeys.delete(i)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const t={};for(const n of this.reversePresenceKeys)t[n]=this.previousPresence[n];return t}issueTimeTicket(){return this.delimiter+=1,this.id.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.id.createTimeTicket(this.delimiter)}}class wo{constructor(t){u(this,"rootObject");u(this,"elementPairMapByCreatedAt");u(this,"gcElementSetByCreatedAt");u(this,"gcPairMap");this.rootObject=t,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.registerElement(t,void 0),t.getDescendants(n=>{if(n.getRemovedAt()&&this.registerRemovedElement(n),n instanceof je||n instanceof Ve)for(const i of n.getGCPairs())this.registerGCPair(i);return!1})}static create(){return new wo(ee.create(Xe))}findByCreatedAt(t){const n=this.elementPairMapByCreatedAt.get(t.toIDString());if(n)return n.element}findElementPairByCreatedAt(t){return this.elementPairMapByCreatedAt.get(t.toIDString())}createSubPaths(t){let n=this.elementPairMapByCreatedAt.get(t.toIDString());if(!n)return[];const i=[];for(;n.parent;){const r=n.element.getCreatedAt(),a=n.parent.subPathOf(r);if(a===void 0)throw new T(b.ErrInvalidArgument,`cant find the given element: ${r.toIDString()}`);i.unshift(a),n=this.elementPairMapByCreatedAt.get(n.parent.getCreatedAt().toIDString())}return i.unshift("$"),i}createPath(t){return this.createSubPaths(t).join(".")}registerElement(t,n){this.elementPairMapByCreatedAt.set(t.getCreatedAt().toIDString(),{parent:n,element:t}),t instanceof br&&t.getDescendants((i,r)=>(this.registerElement(i,r),!1))}deregisterElement(t){let n=0;const i=r=>{const a=r.getCreatedAt().toIDString();this.elementPairMapByCreatedAt.delete(a),this.gcElementSetByCreatedAt.delete(a),n++};return i(t),t instanceof br&&t.getDescendants(r=>(i(r),!1)),n}registerRemovedElement(t){this.gcElementSetByCreatedAt.add(t.getCreatedAt().toIDString())}registerGCPair(t){if(this.gcPairMap.get(t.child.toIDString())){this.gcPairMap.delete(t.child.toIDString());return}this.gcPairMap.set(t.child.toIDString(),t)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const t=new Set;for(const n of this.gcElementSetByCreatedAt){t.add(n);const i=this.elementPairMapByCreatedAt.get(n);i.element instanceof br&&i.element.getDescendants(r=>(t.add(r.getCreatedAt().toIDString()),!1))}return t.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}deepcopy(){return new wo(this.rootObject.deepcopy())}garbageCollect(t){let n=0;for(const i of this.gcElementSetByCreatedAt){const r=this.elementPairMapByCreatedAt.get(i),a=r.element.getRemovedAt();a&&(t!=null&&t.afterOrEqual(a))&&(r.parent.purge(r.element),n+=this.deregisterElement(r.element))}for(const[,i]of this.gcPairMap){const r=i.child.getRemovedAt();r&&(t!=null&&t.afterOrEqual(r))&&(i.parent.purge(i.child),this.gcPairMap.delete(i.child.toIDString()),n+=1)}return n}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}}function F0(e,t){const n=new Eo(e);return new Proxy(t,n.getHandlers())}class Eo{constructor(t){u(this,"context");u(this,"handlers");this.context=t,this.handlers={set:(n,i,r)=>(L.isEnabled($t.Trivial)&&L.trivial(`obj[${i}]=${JSON.stringify(r)}`),Eo.setInternal(t,n,i,r),!0),get:(n,i)=>(L.isEnabled($t.Trivial)&&L.trivial(`obj[${i}]`),i==="getID"?()=>n.getCreatedAt():i==="toJSON"||i==="toString"?()=>n.toJSON():i==="toJS"?()=>n.toJS():i==="toJSForTest"?()=>n.toJSForTest():Lr(t,n.get(i))),ownKeys:n=>n.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(n,i)=>(L.isEnabled($t.Trivial)&&L.trivial(`obj[${i}]`),Eo.deleteInternal(t,n,i),!0)}}static setInternal(t,n,i,r){if(i.includes("."))throw new T(b.ErrInvalidObjectKey,"key must not contain the '.'.");const a=t.issueTimeTicket(),s=Cu(t,r,a),o=n.set(i,s,a);t.registerElement(s,n),o&&t.registerRemovedElement(o),t.push(ra.create(i,s.deepcopy(),n.getCreatedAt(),a))}static buildObjectMembers(t,n){const i={};for(const[r,a]of Object.entries(n)){if(r.includes("."))throw new T(b.ErrInvalidObjectKey,"key must not contain the '.'.");const s=t.issueTimeTicket(),o=Cu(t,a,s);i[r]=o}return i}static deleteInternal(t,n,i){const r=t.issueTimeTicket(),a=n.deleteByKey(i,r);a&&(t.push(Or.create(n.getCreatedAt(),a.getCreatedAt(),r)),t.registerRemovedElement(a))}getHandlers(){return this.handlers}}function Dw(e,t){const n=new mt(e,t);return new Proxy(t,n.getHandlers())}function Ow(e){return typeof e=="string"||e instanceof String?!isNaN(e):!1}function Cw(e){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(e)}class mt{constructor(t,n){u(this,"context");u(this,"handlers");u(this,"array");this.context=t,this.array=n,this.handlers={get:(i,r,a)=>r==="getID"?()=>i.getCreatedAt():r==="getElementByID"?s=>{const o=i.getByID(s);if(!(!o||o.isRemoved()))return tr(t,o)}:r==="getElementByIndex"?s=>{const o=i.get(s);return tr(t,o)}:r==="getLast"?()=>tr(t,i.getLast()):r==="deleteByID"?s=>{const o=mt.deleteInternalByID(t,i,s);return tr(t,o)}:r==="insertAfter"?(s,o)=>{const l=mt.insertAfterInternal(t,i,s,o);return tr(t,l)}:r==="insertBefore"?(s,o)=>{const l=mt.insertBeforeInternal(t,i,s,o);return tr(t,l)}:r==="moveBefore"?(s,o)=>{mt.moveBeforeInternal(t,i,s,o)}:r==="moveAfter"?(s,o)=>{mt.moveAfterInternal(t,i,s,o)}:r==="moveFront"?s=>{mt.moveFrontInternal(t,i,s)}:r==="moveLast"?s=>{mt.moveLastInternal(t,i,s)}:Ow(r)?Lr(t,i.get(Number(r))):r==="push"?s=>mt.pushInternal(t,i,s):r==="splice"?(s,o,...l)=>mt.splice(t,i,s,o,...l):r==="length"?i.length:typeof r=="symbol"&&r===Symbol.iterator?mt.iteratorInternal.bind(this,t,i):r==="includes"?(s,o)=>mt.includes(t,i,s,o):r==="indexOf"?(s,o)=>mt.indexOf(t,i,s,o):r==="lastIndexOf"?(s,o)=>mt.lastIndexOf(t,i,s,o):r==="toJSForTest"?()=>i.toJSForTest():r==="toTestString"?()=>mt.toTestString(i):typeof r=="string"&&Cw(r)?(...s)=>{const o=Array.from(i).map(l=>Lr(t,l));return Array.prototype[r].apply(o,s)}:Reflect.get(i,r,a),deleteProperty:(i,r)=>(L.isEnabled($t.Trivial)&&L.trivial(`array[${r}]`),mt.deleteInternalByIndex(t,i,Number.parseInt(r)),!0)}}static*iteratorInternal(t,n){for(const i of n)yield tr(t,i)}static buildArrayElements(t,n){const i=[];for(const r of n){const a=t.issueTimeTicket(),s=Cu(t,r,a);i.push(s)}return i}static pushInternal(t,n,i){return mt.insertAfterInternal(t,n,n.getLastCreatedAt(),i),n.length}static moveBeforeInternal(t,n,i,r){const a=t.issueTimeTicket(),s=n.getPrevCreatedAt(i);n.moveAfter(s,r,a),t.push(cr.create(n.getCreatedAt(),s,r,a))}static moveAfterInternal(t,n,i,r){const a=t.issueTimeTicket();n.moveAfter(i,r,a),t.push(cr.create(n.getCreatedAt(),i,r,a))}static moveFrontInternal(t,n,i){const r=t.issueTimeTicket(),a=n.getHead();n.moveAfter(a.getCreatedAt(),i,r),t.push(cr.create(n.getCreatedAt(),a.getCreatedAt(),i,r))}static moveLastInternal(t,n,i){const r=t.issueTimeTicket(),a=n.getLastCreatedAt();n.moveAfter(a,i,r),t.push(cr.create(n.getCreatedAt(),a,i,r))}static insertAfterInternal(t,n,i,r){const a=t.issueTimeTicket(),s=Cu(t,r,a);return n.insertAfter(i,s),t.registerElement(s,n),t.push(qo.create(n.getCreatedAt(),i,s.deepcopy(),a)),s}static insertBeforeInternal(t,n,i,r){return mt.insertAfterInternal(t,n,n.getPrevCreatedAt(i),r)}static deleteInternalByIndex(t,n,i){const r=t.issueTimeTicket(),a=n.deleteByIndex(i,r);if(a)return t.push(Or.create(n.getCreatedAt(),a.getCreatedAt(),r)),t.registerRemovedElement(a),a}static deleteInternalByID(t,n,i){const r=t.issueTimeTicket(),a=n.delete(i,r);return t.push(Or.create(n.getCreatedAt(),a.getCreatedAt(),r)),t.registerRemovedElement(a),a}static splice(t,n,i,r,...a){const s=n.length,o=i>=0?Math.min(i,s):Math.max(s+i,0),l=r===void 0?s:r<0?o:Math.min(o+r,s),c=[];for(let h=o;h<l;h++){const d=mt.deleteInternalByIndex(t,n,o);if(d){const g=d.deepcopy();g.setRemovedAt(),c.push(Lr(t,g))}}if(a){let h=o===0?n.getHead().getID():n.get(o-1).getID();for(const d of a)h=mt.insertAfterInternal(t,n,h,d).getID()}return c}static includes(t,n,i,r){var o;const a=n.length,s=r===void 0?0:r<0?Math.max(r+a,0):r;if(s>=a)return!1;if(gt.isSupport(i))return Array.from(n).map(c=>Lr(t,c)).includes(i,s);for(let l=s;l<a;l++)if(((o=n.get(l))==null?void 0:o.getID())===i.getID())return!0;return!1}static indexOf(t,n,i,r){var o;const a=n.length,s=r===void 0?0:r<0?Math.max(r+a,0):r;if(s>=a)return-1;if(gt.isSupport(i))return Array.from(n).map(c=>Lr(t,c)).indexOf(i,s);for(let l=s;l<a;l++)if(((o=n.get(l))==null?void 0:o.getID())===i.getID())return l;return-1}static lastIndexOf(t,n,i,r){var o;const a=n.length,s=r===void 0||r>=a?a-1:r<0?r+a:r;if(s<0)return-1;if(gt.isSupport(i))return Array.from(n).map(c=>Lr(t,c)).lastIndexOf(i,s);for(let l=s;l>0;l--)if(((o=n.get(l))==null?void 0:o.getID())===i.getID())return l;return-1}static toTestString(t){return t.toTestString()}getHandlers(){return this.handlers}}class Wu{constructor(t,n){u(this,"context");u(this,"text");this.context=t,this.text=n}initialize(t,n){this.context=t,this.text=n}getID(){return this.text.getID()}edit(t,n,i,r){if(!this.context||!this.text)throw new T(b.ErrNotInitialized,"Text is not initialized yet");if(t>n)throw new T(b.ErrInvalidArgument,"from should be less than or equal to to");const a=this.text.indexRangeToPosRange(t,n);L.isEnabled($t.Debug)&&L.debug(`EDIT: f:${t}->${a[0].toTestString()}, t:${n}->${a[1].toTestString()} c:${i}`);const s=r?rs(r):void 0,o=this.context.issueTimeTicket(),[l,,c,h]=this.text.edit(a,i,o,s);for(const d of c)this.context.registerGCPair(d);return this.context.push(new Jo(this.text.getCreatedAt(),a[0],a[1],l,i,s?new Map(Object.entries(s)):new Map,o)),this.text.findIndexesFromRange(h)}delete(t,n){return this.edit(t,n,"")}empty(){return this.edit(0,this.length,"")}setStyle(t,n,i){if(!this.context||!this.text)throw new T(b.ErrNotInitialized,"Text is not initialized yet");if(t>n)throw new T(b.ErrInvalidArgument,"from should be less than or equal to to");const r=this.text.indexRangeToPosRange(t,n);L.isEnabled($t.Debug)&&L.debug(`STYL: f:${t}->${r[0].toTestString()}, t:${n}->${r[1].toTestString()} a:${JSON.stringify(i)}`);const a=rs(i),s=this.context.issueTimeTicket(),[o,l]=this.text.setStyle(r,a,s);for(const c of l)this.context.registerGCPair(c);return this.context.push(new Ho(this.text.getCreatedAt(),r[0],r[1],o,new Map(Object.entries(a)),s)),!0}indexRangeToPosRange(t){if(!this.context||!this.text)throw new T(b.ErrNotInitialized,"Text is not initialized yet");const n=this.text.indexRangeToPosRange(t[0],t[1]);return[n[0].toStruct(),n[1].toStruct()]}posRangeToIndexRange(t){if(!this.context||!this.text)throw new T(b.ErrNotInitialized,"Text is not initialized yet");const n=this.text.findIndexesFromRange([Ze.fromStruct(t[0]),Ze.fromStruct(t[1])]);return[n[0],n[1]]}toTestString(){if(!this.context||!this.text)throw new T(b.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new T(b.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new T(b.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new T(b.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new T(b.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(t,n){if(!this.context||!this.text)throw new T(b.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(t,n)}}class tc{constructor(t,n){u(this,"valueType");u(this,"value");u(this,"context");u(this,"counter");this.valueType=t,this.value=n}initialize(t,n){this.valueType=n.getValueType(),this.context=t,this.counter=n,this.value=n.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(t){if(!this.context||!this.counter)throw new T(b.ErrNotInitialized,"Counter is not initialized yet");const n=this.context.issueTimeTicket(),i=gt.of(t,n);if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`);return this.counter.increase(i),this.context.push(ls.create(this.counter.getCreatedAt(),i,n)),this}toJSForTest(){if(!this.context||!this.counter)throw new T(b.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function Md(e,t,n){const{type:i}=e,r=n.issueTimeTicket();if(i===Hi){K0(e);const{value:a}=e,s=ue.create(Vt.of(r,0),i,a);t.append(s)}else{const{children:a=[]}=e,{attributes:s}=e;let o;if(typeof s=="object"&&!y0(s)){const c=rs(s);o=new Ki;for(const[h,d]of Object.entries(c))o.set(h,d,r)}const l=ue.create(Vt.of(r,0),i,void 0,o);t.append(l);for(const c of a)Md(c,l,n)}}function kw(e,t){const{type:n}=t,i=e.issueTimeTicket();let r;if(t.type===Hi){const{value:a}=t;r=ue.create(Vt.of(i,0),n,a)}else if(t){const{children:a=[]}=t,{attributes:s}=t;let o;if(typeof s=="object"&&!y0(s)){const l=rs(s);o=new Ki;for(const[c,h]of Object.entries(l))o.set(c,h,i)}r=ue.create(Vt.of(e.issueTimeTicket(),0),n,void 0,o);for(const l of a)Md(l,r,e)}return r}function K0(e){if(!e.value.length)throw new T(b.ErrInvalidArgument,"text node cannot have empty value");return!0}function Pm(e){if(!e.length)return!0;if(e[0].type===Hi)for(const n of e){const{type:i}=n;if(i!==Hi)throw new T(b.ErrInvalidArgument,"element node and text node cannot be passed together");K0(n)}else for(const n of e){const{type:i}=n;if(i===Hi)throw new T(b.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class ec{constructor(t){u(this,"initialRoot");u(this,"context");u(this,"tree");this.initialRoot=t}initialize(t,n){this.context=t,this.tree=n}getID(){return this.tree.getID()}buildRoot(t){if(!this.initialRoot)return ue.create(Vt.of(t.issueTimeTicket(),0),OA);const n=ue.create(Vt.of(t.issueTimeTicket(),0),this.initialRoot.type);for(const i of this.initialRoot.children)Md(i,n,t);return n}getSize(){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}styleByPath(t,n){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");if(!t.length)throw new T(b.ErrInvalidArgument,"path should not be empty");const[i,r]=this.tree.pathToPosRange(t),a=this.context.issueTimeTicket(),s=n?rs(n):void 0,[o]=this.tree.style([i,r],s,a);this.context.push(ji.create(this.tree.getCreatedAt(),i,r,o,s?new Map(Object.entries(s)):new Map,a))}style(t,n,i){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new T(b.ErrInvalidArgument,"from should be less than or equal to to");const r=this.tree.findPos(t),a=this.tree.findPos(n),s=this.context.issueTimeTicket(),o=i?rs(i):void 0,[l,c]=this.tree.style([r,a],o,s);for(const h of c)this.context.registerGCPair(h);this.context.push(ji.create(this.tree.getCreatedAt(),r,a,l,o?new Map(Object.entries(o)):new Map,s))}removeStyle(t,n,i){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new T(b.ErrInvalidArgument,"from should be less than or equal to to");const r=this.tree.findPos(t),a=this.tree.findPos(n),s=this.context.issueTimeTicket(),[o,l]=this.tree.removeStyle([r,a],i,s);for(const c of l)this.context.registerGCPair(c);this.context.push(ji.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),r,a,o,i,s))}editInternal(t,n,i,r=0){var c;if(i.length!==0&&i[0]&&(Pm(i),i[0].type!==Hi))for(const h of i){const{children:d=[]}=h;Pm(d)}const a=this.context.getLastTimeTicket();let s=new Array;if(((c=i[0])==null?void 0:c.type)===Hi){let h="";for(const d of i){const{value:g}=d;h+=g}s.push(ue.create(Vt.of(this.context.issueTimeTicket(),0),Hi,h))}else s=i.map(h=>h&&kw(this.context,h)).filter(h=>h);const[,o,l]=this.tree.edit([t,n],s.length?s.map(h=>h==null?void 0:h.deepcopy()):void 0,r,a,()=>this.context.issueTimeTicket());for(const h of o)this.context.registerGCPair(h);return this.context.push(jo.create(this.tree.getCreatedAt(),t,n,s.length?s:void 0,r,l,a)),!0}editByPath(t,n,i,r=0){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");if(t.length!==n.length)throw new T(b.ErrInvalidArgument,"path length should be equal");if(!t.length||!n.length)throw new T(b.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToPos(t),s=this.tree.pathToPos(n);return this.editInternal(a,s,i?[i]:[],r)}editBulkByPath(t,n,i,r=0){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");if(t.length!==n.length)throw new T(b.ErrInvalidArgument,"path length should be equal");if(!t.length||!n.length)throw new T(b.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToPos(t),s=this.tree.pathToPos(n);return this.editInternal(a,s,i,r)}edit(t,n,i,r=0){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new T(b.ErrInvalidArgument,"from should be less than or equal to to");const a=this.tree.findPos(t),s=this.tree.findPos(n);return this.editInternal(a,s,i?[i]:[],r)}editBulk(t,n,i,r=0){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new T(b.ErrInvalidArgument,"from should be less than or equal to to");const a=this.tree.findPos(t),s=this.tree.findPos(n);return this.editInternal(a,s,i,r)}toXML(){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(t){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(t)}pathToIndex(t){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(t)}pathRangeToPosRange(t){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");const n=[this.tree.pathToIndex(t[0]),this.tree.pathToIndex(t[1])],i=this.tree.indexRangeToPosRange(n);return[i[0].toStruct(),i[1].toStruct()]}indexRangeToPosRange(t){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(t)}posRangeToIndexRange(t){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");const n=[Ke.fromStruct(t[0]),Ke.fromStruct(t[1])];return this.tree.posRangeToIndexRange(n)}posRangeToPathRange(t){if(!this.context||!this.tree)throw new T(b.ErrNotInitialized,"Tree is not initialized yet");const n=[Ke.fromStruct(t[0]),Ke.fromStruct(t[1])];return this.tree.posRangeToPathRange(n)}}function Gm(e,t){return F0(e,t)}function tr(e,t){if(t){if(t instanceof gt)return t;if(t instanceof ee)return F0(e,t);if(t instanceof de)return Dw(e,t);if(t instanceof je)return new Wu(e,t);if(t instanceof ge){const n=new tc(bn.IntegerCnt,0);return n.initialize(e,t),n}else if(t instanceof Ve){const n=new ec;return n.initialize(e,t),n}}else return;throw new TypeError(`Unsupported type of element: ${typeof t}`)}function Lr(e,t){const n=tr(e,t);return n instanceof gt?n.getValue():n}function Cu(e,t,n){let i;if(gt.isSupport(t))i=gt.of(t,n);else if(Array.isArray(t))i=de.create(n,mt.buildArrayElements(e,t));else if(typeof t=="object")t instanceof Wu?(i=je.create(os.create(),n),t.initialize(e,i)):t instanceof tc?(i=ge.create(t.getValueType(),t.getValue(),n),t.initialize(e,i)):t instanceof ec?(i=Ve.create(t.buildRoot(e),n),t.initialize(e,i)):i=ee.create(n,Eo.buildObjectMembers(e,t));else throw new TypeError(`Unsupported type of value: ${typeof t}`);return i}const Ym=50;class Rw{constructor(){u(this,"undoStack",[]);u(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(t){this.undoStack.length>=Ym&&this.undoStack.shift(),this.undoStack.push(t)}popUndo(){return this.undoStack.pop()}pushRedo(t){this.redoStack.length>=Ym&&this.redoStack.shift(),this.redoStack.push(t)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const Bw="yorkie-devtools-panel",Mw="yorkie-devtools-sdk";function Iw(e){return[Jt.StatusChanged,Jt.Snapshot,Jt.LocalChange,Jt.RemoteChange,Jt.Initialized,Jt.Watched,Jt.Unwatched,Jt.PresenceChanged].includes(e.type)}function Uw(e){return e.every(Iw)}let Ta="disconnected";const Fm=new Map,kl=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=kl);function fl(e,t){(t!=null&&t.force||Ta!=="disconnected")&&window.postMessage({source:Mw,...e},"*")}function zw(e){if(!e.isEnableDevtools()||typeof window>"u"||Fm.has(e.getKey()))return;kl.set(e.getKey(),[]);const t=e.subscribe("all",n=>{Uw(n)&&(kl.get(e.getKey()).push(n),Ta==="synced"&&fl({msg:"doc::sync::partial",docKey:e.getKey(),event:n}))});Fm.set(e.getKey(),[t]),fl({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",n=>{var r;if(((r=n.data)==null?void 0:r.source)!==Bw)return;switch(n.data.msg){case"devtools::connect":if(Ta!=="disconnected")break;Ta="connected",fl({msg:"doc::available",docKey:e.getKey()}),L.info(`[YD] Devtools connected. Doc: ${e.getKey()}`);break;case"devtools::disconnect":Ta="disconnected",L.info(`[YD] Devtools disconnected. Doc: ${e.getKey()}`);break;case"devtools::subscribe":Ta="synced",fl({msg:"doc::sync::full",docKey:e.getKey(),events:kl.get(e.getKey())}),L.info(`[YD] Devtools subscribed. Doc: ${e.getKey()}`);break}})}var er=(e=>(e.Detached="detached",e.Attached="attached",e.Removed="removed",e))(er||{}),Jt=(e=>(e.StatusChanged="status-changed",e.ConnectionChanged="connection-changed",e.SyncStatusChanged="sync-status-changed",e.Snapshot="snapshot",e.LocalChange="local-change",e.RemoteChange="remote-change",e.Initialized="initialized",e.Watched="watched",e.Unwatched="unwatched",e.PresenceChanged="presence-changed",e.Broadcast="broadcast",e.LocalBroadcast="local-broadcast",e.AuthError="auth-error",e))(Jt||{}),yh=(e=>(e.Connected="connected",e.Disconnected="disconnected",e))(yh||{}),ph=(e=>(e.Synced="synced",e.SyncFailed="sync-failed",e))(ph||{});class Id{constructor(t,n){u(this,"key");u(this,"status");u(this,"opts");u(this,"changeID");u(this,"checkpoint");u(this,"localChanges");u(this,"root");u(this,"clone");u(this,"eventStream");u(this,"eventStreamObserver");u(this,"onlineClients");u(this,"presences");u(this,"history");u(this,"internalHistory");u(this,"isUpdating");this.opts=n||{},this.key=t,this.status="detached",this.root=wo.create(),this.changeID=LA,this.checkpoint=qA,this.localChanges=[],this.eventStream=xw(i=>{this.eventStreamObserver=i}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new Rw,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},zw(this)}update(t,n){if(this.getStatus()==="removed")throw new T(b.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const i=this.changeID.getActorID(),r=Ia.create(this.changeID.next(),this.clone.root,this.clone.presences.get(i)||{},n);try{const a=Gm(r,this.clone.root.getObject());this.presences.has(i)||this.clone.presences.set(i,{}),this.isUpdating=!0,t(a,new Gc(r,this.clone.presences.get(i)))}catch(a){throw this.clone=void 0,a}finally{this.isUpdating=!1}if(r.hasChange()){L.isEnabled($t.Trivial)&&L.trivial(`trying to update a local change: ${this.toJSON()}`);const a=r.getChange(),{opInfos:s,reverseOps:o}=a.execute(this.root,this.presences,nt.Local),l=r.getReversePresence();l&&o.push({type:"presence",value:l}),this.localChanges.push(a),o.length>0&&this.internalHistory.pushUndo(o),s.length>0&&this.internalHistory.clearRedo(),this.changeID=a.getID();const c=[];s.length>0&&c.push({type:"local-change",source:nt.Local,value:{message:a.getMessage()||"",operations:s,actor:i,clientSeq:a.getID().getClientSeq(),serverSeq:a.getID().getServerSeq()},rawChange:this.isEnableDevtools()?a.toStruct():void 0}),a.hasPresenceChange()&&c.push({type:"presence-changed",source:nt.Local,value:{clientID:i,presence:this.getPresence(i)}}),this.publish(c),L.isEnabled($t.Trivial)&&L.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(t,n,i,r){if(typeof t=="string"){if(typeof n!="function")throw new T(b.ErrInvalidArgument,"Second argument must be a callback function");if(t==="presence"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="initialized"&&c.type!=="watched"&&c.type!=="unwatched"&&c.type!=="presence-changed"||o(c)},i,r)}if(t==="my-presence"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="initialized"&&c.type!=="presence-changed"||c.type==="presence-changed"&&c.value.clientID!==this.changeID.getActorID()||o(c)},i,r)}if(t==="others"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="watched"&&c.type!=="unwatched"&&c.type!=="presence-changed"||c.value.clientID!==this.changeID.getActorID()&&o(c)},i,r)}if(t==="connection"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="connection-changed"&&o(c)},i,r)}if(t==="status"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="status-changed"&&o(c)},i,r)}if(t==="sync"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="sync-status-changed"&&o(c)},i,r)}if(t==="local-broadcast"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="local-broadcast"&&o(c)},i)}if(t==="broadcast"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="broadcast"&&o(c)},i)}if(t==="auth-error"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="auth-error"&&o(c)},i)}if(t==="all"){const o=n;return this.eventStream.subscribe(o,i,r)}const a=t,s=n;return this.eventStream.subscribe(o=>{for(const l of o){if(l.type!=="local-change"&&l.type!=="remote-change")continue;const c=[];for(const h of l.value.operations)this.isSameElementOrChildOf(h.path,a)&&c.push(h);c.length&&s({...l,value:{...l.value,operations:c}})}},i,r)}if(typeof t=="function"){const a=t,s=n,o=i;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="snapshot"&&c.type!=="local-change"&&c.type!=="remote-change"||a(c)},s,o)}throw new T(b.ErrInvalidArgument,`"${t}" is not a valid`)}publish(t){this.eventStreamObserver&&this.eventStreamObserver.next(t)}isSameElementOrChildOf(t,n){if(n===t)return!0;const i=t.split(".");return n.split(".").every((a,s)=>a===i[s])}removePushedLocalChanges(t){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>t);)this.localChanges.shift()}applyChangePack(t){const n=t.hasSnapshot();n?this.applySnapshot(t.getCheckpoint().getServerSeq(),t.getVersionVector(),t.getSnapshot(),t.getCheckpoint().getClientSeq()):(this.applyChanges(t.getChanges(),nt.Remote),this.removePushedLocalChanges(t.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(t.getCheckpoint()),n||this.garbageCollect(t.getVersionVector()),t.getIsRemoved()&&this.applyStatus("removed"),L.isEnabled($t.Trivial)&&L.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Pe(this.presences)})}createChangePack(){const t=Array.from(this.localChanges),n=this.checkpoint.increaseClientSeq(t.length);return _u.create(this.key,n,!1,t,this.getVersionVector())}setActor(t){for(const n of this.localChanges)n.setActor(t);this.changeID=this.changeID.setActor(t)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const t=Ia.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return Gm(t,this.clone.root.getObject())}garbageCollect(t){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(t),this.root.garbageCollect(t))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(t,n,i,r=-1){const{root:a,presences:s}=At.bytesToSnapshot(i);this.root=new wo(a),this.presences=s,this.changeID=this.changeID.setClocks(n.maxLamport(),n),this.clone=void 0,this.removePushedLocalChanges(r),this.applyChanges(this.localChanges,nt.Local),this.publish([{type:"snapshot",source:nt.Remote,value:{serverSeq:t.toString(),snapshot:this.isEnableDevtools()?At.bytesToHex(i):void 0,snapshotVector:At.versionVectorToHex(n)}}])}applyChanges(t,n){L.isEnabled($t.Debug)&&L.debug(`trying to apply ${t.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),L.isEnabled($t.Trivial)&&L.trivial(t.map(i=>`${i.getID().toTestString()}	${i.toTestString()}`).join(`
`));for(const i of t)this.applyChange(i,n);L.isEnabled($t.Debug)&&L.debug(`after appling ${t.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(t,n){this.ensureClone(),t.execute(this.clone.root,this.clone.presences,n);const i=[],r=t.getID().getActorID();if(t.hasPresenceChange()&&this.onlineClients.has(r)){const s=t.getPresenceChange();switch(s.type){case Dr.Put:i.push(this.presences.has(r)?{type:"presence-changed",source:n,value:{clientID:r,presence:s.presence}}:{type:"watched",source:nt.Remote,value:{clientID:r,presence:s.presence}});break;case Dr.Clear:i.push({type:"unwatched",source:nt.Remote,value:{clientID:r,presence:this.getPresence(r)}}),this.removeOnlineClient(r);break}}const{opInfos:a}=t.execute(this.root,this.presences,n);if(this.changeID=this.changeID.syncClocks(t.getID()),a.length>0){const s=this.isEnableDevtools()?t.toStruct():void 0;i.push(n===nt.Remote?{type:"remote-change",source:n,value:{actor:r,clientSeq:t.getID().getClientSeq(),serverSeq:t.getID().getServerSeq(),message:t.getMessage()||"",operations:a},rawChange:s}:{type:"local-change",source:n,value:{actor:r,clientSeq:t.getID().getClientSeq(),serverSeq:t.getID().getServerSeq(),message:t.getMessage()||"",operations:a},rawChange:s})}i.length>0&&this.publish(i)}applyWatchStream(t){if(t.body.case==="initialization"){const n=t.body.value.clientIds,i=new Set;for(const r of n)r!==this.changeID.getActorID()&&i.add(r);this.setOnlineClients(i),this.publish([{type:"initialized",source:nt.Local,value:this.getPresences()}]);return}if(t.body.case==="event"){const{type:n,publisher:i}=t.body.value,r=[];if(n===Zr.DOCUMENT_WATCHED){if(this.onlineClients.has(i)&&this.hasPresence(i))return;this.addOnlineClient(i),this.hasPresence(i)&&r.push({type:"watched",source:nt.Remote,value:{clientID:i,presence:this.getPresence(i)}})}else if(n===Zr.DOCUMENT_UNWATCHED){const a=this.getPresence(i);this.removeOnlineClient(i),a&&r.push({type:"unwatched",source:nt.Remote,value:{clientID:i,presence:a}})}else if(n===Zr.DOCUMENT_BROADCAST&&t.body.value.body){const{topic:a,payload:s}=t.body.value.body,o=new TextDecoder;r.push({type:"broadcast",value:{clientID:i,topic:a,payload:JSON.parse(o.decode(s))}})}r.length>0&&this.publish(r)}}applyStatus(t){this.status=t,t==="detached"&&this.setActor(Zu),this.publish([{source:t==="removed"?nt.Remote:nt.Local,type:"status-changed",value:t==="attached"?{status:t,actorID:this.changeID.getActorID()}:{status:t}}])}applyDocEventForReplay(t){if(t.type==="status-changed"){this.applyStatus(t.value.status),t.value.status==="attached"&&this.setActor(t.value.actorID);return}if(t.type==="snapshot"){const{snapshot:n,serverSeq:i,snapshotVector:r}=t.value;if(!n)return;this.applySnapshot(BigInt(i),At.hexToVersionVector(r),At.hexToBytes(n));return}if(t.type==="local-change"||t.type==="remote-change"){if(!t.rawChange)return;const n=ss.fromStruct(t.rawChange);this.applyChange(n,t.source)}if(t.type==="initialized"){const n=new Set;for(const{clientID:i,presence:r}of t.value)n.add(i),this.presences.set(i,r);this.setOnlineClients(n);return}if(t.type==="watched"){const{clientID:n,presence:i}=t.value;this.addOnlineClient(n),this.presences.set(n,i);return}if(t.type==="unwatched"){const{clientID:n}=t.value;this.removeOnlineClient(n),this.presences.delete(n)}if(t.type==="presence-changed"){const{clientID:n,presence:i}=t.value;this.presences.set(n,i)}}applyDocEventsForReplay(t){for(const n of t)this.applyDocEventForReplay(n)}getValueByPath(t){if(!t.startsWith("$"))throw new T(b.ErrInvalidArgument,'path must start with "$"');const n=t.split(".");n.shift();let i=this.getRoot();for(const r of n)if(i=i[r],i===void 0)return;return i}setOnlineClients(t){this.onlineClients=t}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(t){this.onlineClients.add(t)}removeOnlineClient(t){this.onlineClients.delete(t)}hasPresence(t){return this.presences.has(t)}getMyPresence(){if(this.status!=="attached")return{};const t=this.presences.get(this.changeID.getActorID());return t?Pe(t):{}}getPresence(t){if(t===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(t))return;const n=this.presences.get(t);return n?Pe(n):void 0}getPresenceForTest(t){const n=this.presences.get(t);return n?Pe(n):void 0}getPresences(){const t=[];t.push({clientID:this.changeID.getActorID(),presence:Pe(this.getMyPresence())});for(const n of this.onlineClients)this.presences.has(n)&&t.push({clientID:n,presence:Pe(this.presences.get(n))});return t}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const t=this.getChangeID().getActorID();return this.getPresences().filter(n=>n.clientID!==t).sort((n,i)=>n.clientID>i.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}filterVersionVector(t){const i=this.changeID.getVersionVector().filter(t);this.changeID=this.changeID.setVersionVector(i)}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new T(b.ErrRefused,"Undo is not allowed during an update");const t=this.internalHistory.popUndo();if(t===void 0)throw new T(b.ErrRefused,"There is no operation to be undone");this.ensureClone();const n=Ia.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const c of t){if(!(c instanceof Qe)){new Gc(n,Pe(this.clone.presences.get(this.changeID.getActorID()))).set(c.value,{addToHistory:!0});continue}const h=n.issueTimeTicket();c.setExecutedAt(h),n.push(c)}const i=n.getChange();i.execute(this.clone.root,this.clone.presences,nt.UndoRedo);const{opInfos:r,reverseOps:a}=i.execute(this.root,this.presences,nt.UndoRedo),s=n.getReversePresence();if(s&&a.push({type:"presence",value:s}),a.length>0&&this.internalHistory.pushRedo(a),!i.hasPresenceChange()&&r.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const o=this.changeID.getActorID(),l=[];r.length>0&&l.push({type:"local-change",source:nt.UndoRedo,value:{message:i.getMessage()||"",operations:r,actor:o,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&l.push({type:"presence-changed",source:nt.UndoRedo,value:{clientID:o,presence:this.getPresence(o)}}),this.publish(l)}redo(){if(this.isUpdating)throw new T(b.ErrRefused,"Redo is not allowed during an update");const t=this.internalHistory.popRedo();if(t===void 0)throw new T(b.ErrRefused,"There is no operation to be redone");this.ensureClone();const n=Ia.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const c of t){if(!(c instanceof Qe)){new Gc(n,Pe(this.clone.presences.get(this.changeID.getActorID()))).set(c.value,{addToHistory:!0});continue}const h=n.issueTimeTicket();c.setExecutedAt(h),n.push(c)}const i=n.getChange();i.execute(this.clone.root,this.clone.presences,nt.UndoRedo);const{opInfos:r,reverseOps:a}=i.execute(this.root,this.presences,nt.UndoRedo),s=n.getReversePresence();if(s&&a.push({type:"presence",value:s}),a.length>0&&this.internalHistory.pushUndo(a),!i.hasPresenceChange()&&r.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const o=this.changeID.getActorID(),l=[];r.length>0&&l.push({type:"local-change",source:nt.UndoRedo,value:{message:i.getMessage()||"",operations:r,actor:o,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&l.push({type:"presence-changed",source:nt.UndoRedo,value:{clientID:o,presence:this.getPresence(o)}}),this.publish(l)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}broadcast(t,n,i){const r={type:"local-broadcast",value:{topic:t,payload:n},options:i};this.publish([r])}getVersionVector(){return this.changeID.getVersionVector()}}function Lw(e,t){let n=t;return{authInterceptor:a=>async s=>(e&&s.header.set("x-api-key",e),n&&s.header.set("authorization",n),await a(s)),setToken:a=>{n=a}}}const qw="@yorkie-js/sdk",Jw="0.6.0",Hw="Yorkie JS SDK",jw="./src/yorkie.ts",Vw={access:"public",main:"./dist/yorkie-js-sdk.js",typings:"./dist/yorkie-js-sdk.d.ts"},Pw=["dist","README.md"],Gw={build:"tsc && vite build","build:proto":"npx buf generate","build:docs":"typedoc","build:ghpages":"mkdir -p ghpages/examples && cp -r docs ghpages/api-reference && find ../../examples -name 'dist' -type d -exec sh -c 'cp -r {} ghpages/examples/$(basename $(dirname {}))' \\;",dev:"vite build -c vite.preview.ts && vite preview",test:"vitest run","test:watch":"vitest","test:bench":"vitest bench","test:ci":"vitest run --coverage","test:yorkie.dev":"TEST_RPC_ADDR=https://api.yorkie.dev vitest run --coverage",prepare:"pnpm build"},Yw={node:">=18.0.0",npm:">=7.1.0"},Fw={type:"git",url:"git+https://github.com/yorkie-team/yorkie-js-sdk.git"},Kw={name:"hackerwins",email:"susukang98@gmail.com"},$w="Apache-2.0",Xw={url:"https://github.com/yorkie-team/yorkie-js-sdk/issues"},Zw="https://github.com/yorkie-team/yorkie-js-sdk#readme",Qw={"@buf/googleapis_googleapis.bufbuild_es":"^1.4.0-20240524201209-f0e53af8f2fc.3","@bufbuild/buf":"^1.28.1","@bufbuild/protoc-gen-es":"^1.6.0","@connectrpc/protoc-gen-connect-es":"^1.4.0","@types/express":"^4.17.21","@types/google-protobuf":"^3.15.5","@types/long":"^4.0.1","@typescript-eslint/eslint-plugin":"^6.21.0","@typescript-eslint/parser":"^6.21.0","@vitest/coverage-istanbul":"^0.34.5","@vitest/coverage-v8":"^0.34.5",axios:"^1.7.7","eslint-plugin-tsdoc":"^0.2.16",express:"^4.21.1",prettier:"^2.7.1","ts-node":"^10.9.1",typedoc:"^0.25.13",typescript:"^5.3.3","typescript-transform-paths":"^3.3.1",vite:"^5.0.12","vite-plugin-commonjs":"^0.10.1","vite-plugin-dts":"^3.9.1","vite-tsconfig-paths":"^4.3.1",vitest:"^0.34.5"},_w={"@bufbuild/protobuf":"^1.6.0","@connectrpc/connect":"^1.4.0","@connectrpc/connect-web":"^1.4.0",long:"^5.2.0"},Km={name:qw,version:Jw,description:Hw,main:jw,publishConfig:Vw,files:Pw,scripts:Gw,engines:Yw,repository:Fw,author:Kw,license:$w,bugs:Xw,homepage:Zw,devDependencies:Qw,dependencies:_w};function Ww(){return e=>async t=>(t.header.set("x-yorkie-user-agent",Km.name+"/"+Km.version),await e(t))}const tE=e=>{try{if(JSON.stringify(e)===void 0)return!1}catch{return!1}return!0};var Rl=(e=>(e.Manual="manual",e.Realtime="realtime",e.RealtimePushOnly="realtime-pushonly",e.RealtimeSyncOff="realtime-syncoff",e))(Rl||{});const hl={syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3},$c={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class Ud{constructor(t,n){u(this,"id");u(this,"key");u(this,"metadata");u(this,"status");u(this,"attachmentMap");u(this,"apiKey");u(this,"authTokenInjector");u(this,"conditions");u(this,"syncLoopDuration");u(this,"reconnectStreamDelay");u(this,"retrySyncLoopDelay");u(this,"rpcClient");u(this,"setAuthToken");u(this,"taskQueue");u(this,"processing",!1);u(this,"keepalive",!1);n=n||hl,this.key=n.key?n.key:Y0(),this.metadata=n.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=n.apiKey||"",this.authTokenInjector=n.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=n.syncLoopDuration??hl.syncLoopDuration,this.reconnectStreamDelay=n.reconnectStreamDelay??hl.reconnectStreamDelay,this.retrySyncLoopDelay=n.retrySyncLoopDelay??hl.retrySyncLoopDelay;const{authInterceptor:i,setToken:r}=Lw(this.apiKey);this.setAuthToken=r,this.rpcClient=QT(bA,SA({baseUrl:t,interceptors:[i,Ww()],fetch:(a,s)=>{const o={...s,keepalive:this.keepalive};return fetch(a,o)}})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const t=await this.authTokenInjector();this.setAuthToken(t)}return this.enqueueTask(async()=>this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":this.apiKey}}).then(t=>{this.id=t.clientId,this.status="activated",this.runSyncLoop(),L.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`)}).catch(async t=>{throw L.error(`[AC] c:"${this.getKey()}" err :`,t),await this.handleConnectError(t),t}))}deactivate(t={keepalive:!1}){if(this.status==="deactivated")return Promise.resolve();const n=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":this.apiKey}}),this.deactivateInternal(),L.info(`[DC] c"${this.getKey()}" deactivated`)}catch(i){throw L.error(`[DC] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};if(t.keepalive){this.keepalive=!0;const i=n();return this.keepalive=!1,i}return this.enqueueTask(n)}attach(t,n={}){if(!this.isActive())throw new T(b.ErrClientNotActivated,`${this.key} is not active`);if(t.getStatus()!==er.Detached)throw new T(b.ErrDocumentNotDetached,`${t.getKey()} is not detached`);t.setActor(this.id),t.update((a,s)=>s.set(n.initialPresence||{}));const i=t.subscribe("local-broadcast",async a=>{var h;const{topic:s,payload:o}=a.value,l=(h=a.options)==null?void 0:h.error,c=a.options;try{await this.broadcast(t.getKey(),s,o,c)}catch(d){d instanceof Error&&(l==null||l(d))}}),r=n.syncMode??"realtime";return this.enqueueTask(async()=>this.rpcClient.attachDocument({clientId:this.id,changePack:At.toChangePack(t.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}).then(async a=>{const s=At.fromChangePack(a.changePack);if(t.applyChangePack(s),t.getStatus()===er.Removed)return t;t.applyStatus(er.Attached),this.attachmentMap.set(t.getKey(),new Ew(this.reconnectStreamDelay,t,a.documentId,r,i)),r!=="manual"&&await this.runWatchLoop(t.getKey()),L.info(`[AD] c:"${this.getKey()}" attaches d:"${t.getKey()}"`);const o=t.getRootObject();if(n.initialRoot){const l=n.initialRoot;t.update(c=>{for(const[h,d]of Object.entries(l))if(!o.has(h)){const g=h;c[g]=d}})}return t}).catch(async a=>{throw L.error(`[AD] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}))}detach(t,n={}){if(!this.isActive())throw new T(b.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(t.getKey());if(!i)throw new T(b.ErrDocumentNotAttached,`${t.getKey()} is not attached`);return t.update((r,a)=>a.clear()),this.enqueueTask(async()=>this.rpcClient.detachDocument({clientId:this.id,documentId:i.docID,changePack:At.toChangePack(t.createChangePack()),removeIfNotAttached:n.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}).then(r=>{const a=At.fromChangePack(r.changePack);return t.applyChangePack(a),t.getStatus()!==er.Removed&&t.applyStatus(er.Detached),this.detachInternal(t.getKey()),L.info(`[DD] c:"${this.getKey()}" detaches d:"${t.getKey()}"`),t}).catch(async r=>{throw L.error(`[DD] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}))}async changeSyncMode(t,n){if(!this.isActive())throw new T(b.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(t.getKey());if(!i)throw new T(b.ErrDocumentNotAttached,`${t.getKey()} is not attached`);const r=i.syncMode;return r===n?t:(i.changeSyncMode(n),n==="manual"?(i.cancelWatchStream(),t):(n==="realtime"&&(i.remoteChangeEventReceived=!0),r==="manual"&&await this.runWatchLoop(t.getKey()),t))}sync(t){if(!this.isActive())throw new T(b.ErrClientNotActivated,`${this.key} is not active`);if(t){const n=this.attachmentMap.get(t.getKey());if(!n)throw new T(b.ErrDocumentNotAttached,`${t.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(n,"realtime").catch(async i=>{throw L.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}return this.enqueueTask(async()=>{const n=[];for(const[,i]of this.attachmentMap)n.push(this.syncInternal(i,i.syncMode));return Promise.all(n).catch(async i=>{throw L.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i})})}remove(t){if(!this.isActive())throw new T(b.ErrClientNotActivated,`${this.key} is not active`);const n=this.attachmentMap.get(t.getKey());if(!n)throw new T(b.ErrDocumentNotAttached,`${t.getKey()} is not attached`);t.setActor(this.id);const i=At.toChangePack(t.createChangePack());return i.isRemoved=!0,this.enqueueTask(async()=>this.rpcClient.removeDocument({clientId:this.id,documentId:n.docID,changePack:i},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}).then(r=>{const a=At.fromChangePack(r.changePack);t.applyChangePack(a),this.detachInternal(t.getKey()),L.info(`[RD] c:"${this.getKey()}" removes d:"${t.getKey()}"`)}).catch(async r=>{throw L.error(`[RD] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}))}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(t){return this.conditions[t]}broadcast(t,n,i,r){if(!this.isActive())throw new T(b.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(t);if(!a)throw new T(b.ErrDocumentNotAttached,`${t} is not attached`);if(!tE(i))throw new T(b.ErrInvalidArgument,"payload is not serializable");const s=(r==null?void 0:r.maxRetries)??$c.maxRetries,o=$c.maxBackoff;let l=0;const c=d=>Math.min($c.initialRetryInterval*2**d,o),h=async()=>this.enqueueTask(async()=>this.rpcClient.broadcast({clientId:this.id,documentId:a.docID,topic:n,payload:new TextEncoder().encode(JSON.stringify(i))},{headers:{"x-shard-key":`${this.apiKey}/${t}`}}).then(()=>{L.info(`[BC] c:"${this.getKey()}" broadcasts d:"${t}" t:"${n}"`)}).catch(async d=>{if(L.error(`[BC] c:"${this.getKey()}" err:`,d),await this.handleConnectError(d))if(d instanceof lt&&ma(d)===b.ErrUnauthenticated&&a.doc.publish([{type:Jt.AuthError,value:{reason:Rs(d).reason,method:"Broadcast"}}]),l<s)l++,setTimeout(()=>h(),c(l-1)),L.info(`[BC] c:"${this.getKey()}" retry attempt ${l}/${s}`);else throw L.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),d;else throw d}));return h()}runSyncLoop(){const t=()=>{if(!this.isActive()){L.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}const n=[];for(const[,i]of this.attachmentMap)i.needRealtimeSync()&&(i.remoteChangeEventReceived=!1,n.push(this.syncInternal(i,i.syncMode).catch(async r=>{throw r instanceof lt&&ma(r)===b.ErrUnauthenticated&&i.doc.publish([{type:Jt.AuthError,value:{reason:Rs(r).reason,method:"PushPull"}}]),r})));Promise.all(n).then(()=>setTimeout(t,this.syncLoopDuration)).catch(async i=>{L.error(`[SL] c:"${this.getKey()}" sync failed:`,i),await this.handleConnectError(i)?setTimeout(t,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1})};L.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,t()}async runWatchLoop(t){const n=this.attachmentMap.get(t);if(!n)throw new T(b.ErrDocumentNotAttached,`${t} is not attached`);return this.conditions.WatchLoop=!0,n.runWatchLoop(i=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new T(b.ErrClientNotActivated,`${this.key} is not active`));const r=new AbortController,a=this.rpcClient.watchDocument({clientId:this.id,documentId:n.docID},{headers:{"x-shard-key":`${this.apiKey}/${t}`},signal:r.signal});return n.doc.publish([{type:Jt.ConnectionChanged,value:yh.Connected}]),L.info(`[WD] c:"${this.getKey()}" watches d:"${t}"`),new Promise((s,o)=>{(async()=>{try{for await(const c of a)this.handleWatchDocumentsResponse(n,c),c.body.case==="initialization"&&s([a,r])}catch(c){n.doc.resetOnlineClients(),n.doc.publish([{type:Jt.Initialized,source:nt.Local,value:n.doc.getPresences()}]),n.doc.publish([{type:Jt.ConnectionChanged,value:yh.Disconnected}]),L.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(c)?(c instanceof lt&&ma(c)===b.ErrUnauthenticated&&n.doc.publish([{type:Jt.AuthError,value:{reason:Rs(c).reason,method:"WatchDocuments"}}]),i()):this.conditions.WatchLoop=!1,o(c)}})()})})}handleWatchDocumentsResponse(t,n){if(n.body.case==="event"&&n.body.value.type===Zr.DOCUMENT_CHANGED){t.remoteChangeEventReceived=!0;return}t.doc.applyWatchStream(n)}deactivateInternal(){this.status="deactivated";for(const[t,n]of this.attachmentMap)this.detachInternal(t),n.doc.applyStatus(er.Detached)}detachInternal(t){const n=this.attachmentMap.get(t);n&&(n.cancelWatchStream(),n.unsubscribeBroadcastEvent(),this.attachmentMap.delete(t))}syncInternal(t,n){const{doc:i,docID:r}=t,a=i.createChangePack();return this.rpcClient.pushPullChanges({clientId:this.id,documentId:r,changePack:At.toChangePack(a),pushOnly:n==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}).then(s=>{const o=At.fromChangePack(s.changePack);if(o.hasChanges()&&(t.syncMode==="realtime-pushonly"||t.syncMode==="realtime-syncoff"))return i;i.applyChangePack(o),t.doc.publish([{type:Jt.SyncStatusChanged,value:ph.Synced}]),i.getStatus()===er.Removed&&this.detachInternal(i.getKey());const l=i.getKey(),c=o.getChangeSize();return L.info(`[PP] c:"${this.getKey()}" sync d:"${l}", push:${a.getChangeSize()} pull:${c} cp:${o.getCheckpoint().toTestString()}`),i}).catch(async s=>{throw i.publish([{type:Jt.SyncStatusChanged,value:ph.SyncFailed}]),L.error(`[PP] c:"${this.getKey()}" err :`,s),s})}async handleConnectError(t){if(!(t instanceof lt))return!1;if(t.code===W.Canceled||t.code===W.Unknown||t.code===W.ResourceExhausted||t.code===W.Unavailable)return!0;if(ma(t)===b.ErrUnauthenticated){if(this.authTokenInjector){const n=await this.authTokenInjector(Rs(t).reason);this.setAuthToken(n)}return!0}return(ma(t)===b.ErrClientNotActivated||ma(t)===b.ErrClientNotFound)&&this.deactivateInternal(),!1}enqueueTask(t){return new Promise((n,i)=>{this.taskQueue.push(()=>t().then(n).catch(i)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{L.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}bn.IntegerCnt,bn.LongCnt;typeof globalThis<"u"&&(globalThis.yorkie={Client:Ud,Document:Id,Primitive:gt,Text:Wu,Counter:tc,Tree:ec,LogLevel:$t,setLogLevel:G0,IntType:bn.IntegerCnt,LongType:bn.LongCnt});const $0=It.createContext({client:void 0}),eE=({apiKey:e,rpcAddr:t="https://api.yorkie.dev",children:n})=>{const[i,r]=It.useState(void 0);return It.useEffect(()=>{async function a(){const s=new Ud(t,{apiKey:e});await s.activate(),r(s)}return a(),()=>{i==null||i.deactivate({keepalive:!0})}},[e,t]),Z.jsx($0.Provider,{value:{client:i},children:n})},nE=()=>{const e=It.useContext($0);return e==null?void 0:e.client},X0=It.createContext(null),iE=({docKey:e,initialRoot:t,children:n})=>{const i=nE(),[r,a]=It.useState(void 0),[s,o]=It.useState(!0),[l,c]=It.useState(void 0),[h,d]=It.useState(t),[g,m]=It.useState([]);It.useEffect(()=>{if(o(!0),c(void 0),!i)return;const A=new Id(e);async function O(){try{await(i==null?void 0:i.attach(A)),A.subscribe(()=>{d({...A.getRoot()})}),A.subscribe("presence",()=>{m(A.getPresences())}),a(A),d({...A.getRoot()})}catch(p){c(p instanceof Error?p:new Error("Failed to attach document"))}finally{o(!1)}}return O(),()=>{i.detach(A)}},[i,e]);const S=It.useCallback(A=>{if(r)try{r.update(A)}catch(O){c(O instanceof Error?O:new Error("Failed to update document"))}},[r]);return Z.jsx(X0.Provider,{value:{root:h,presences:g,update:S,loading:s,error:l},children:n})},rE=()=>{const e=It.useContext(X0);if(!e)throw new Error("useDocument must be used within a DocumentProvider");return{root:e.root,presences:e.presences,update:e.update,loading:e.loading,error:e.error}};var Z0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i=[],r=0;r<arguments.length;r++){var a=arguments[r];if(a){var s=typeof a;if(s==="string"||s==="number")i.push(a);else if(Array.isArray(a)){if(a.length){var o=n.apply(null,a);o&&i.push(o)}}else if(s==="object"){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){i.push(a.toString());continue}for(var l in a)t.call(a,l)&&a[l]&&i.push(l)}}}return i.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Z0);var aE=Z0.exports;const zd=$m(aE);function Q0(e){const[t,n]=It.useState(e.text||"");return Z.jsx("input",{className:zd({edit:e.editing,"new-todo":e.newTodo}),type:"text",placeholder:e.placeholder,value:t,onBlur:i=>{e.newTodo||e.onSave(i.target.value)},onChange:i=>{n(i.target.value)},onKeyDown:i=>{const r=i.target;i.which===13&&(e.onSave(r.value.trim()),e.newTodo&&n(""))}})}function sE(e){return Z.jsxs("header",{className:"header",children:[Z.jsx("h1",{children:"todos"}),Z.jsx(Q0,{newTodo:!0,onSave:t=>{t.length!==0&&e.addTodo(t)},placeholder:"What needs to be done?"})]})}function oE(e){const[t,n]=It.useState(!1),{todo:i,completeTodo:r,editTodo:a,deleteTodo:s}=e;return Z.jsx("li",{className:zd({completed:i.completed,editing:t}),children:t?Z.jsx(Q0,{text:i.text,editing:t,onSave:o=>{o.length===0?s(i.id):a(i.id,o),n(!1)}}):Z.jsxs("div",{className:"view",children:[Z.jsx("input",{id:`item-input-${i.id}`,className:"toggle",type:"checkbox",checked:i.completed,onChange:()=>r(i.id)}),Z.jsx("label",{htmlFor:`item-input-${i.id}`,onDoubleClick:()=>n(!0),children:i.text}),Z.jsx("button",{type:"button","aria-label":"Delete",className:"destroy",onClick:()=>s(i.id)})]})})}const lE={SHOW_ALL:"All",SHOW_ACTIVE:"Active",SHOW_COMPLETED:"Completed"};function uE(e){const{activeCount:t,completedCount:n,filter:i,onClearCompleted:r,onShow:a}=e;return Z.jsxs("footer",{className:"footer",children:[Z.jsxs("span",{className:"todo-count",children:[Z.jsx("strong",{children:t||"No"})," ",t===1?"item":"items"," left"]}),Z.jsx("ul",{className:"filters",children:["SHOW_ALL","SHOW_ACTIVE","SHOW_COMPLETED"].map(s=>Z.jsx("li",{children:Z.jsx("button",{type:"button",className:zd({selected:s===i}),style:{cursor:"pointer"},onClick:()=>a(s),children:lE[s]})},s))}),!!n&&Z.jsx("button",{type:"button",className:"clear-completed",onClick:r,children:"Clear completed"})]})}const cE={SHOW_ALL:e=>!0,SHOW_ACTIVE:e=>!e.completed,SHOW_COMPLETED:e=>e.completed};function fE({todos:e,actions:t}){const[n,i]=It.useState("SHOW_ALL"),r=e.filter(cE[n]),a=e.reduce((o,l)=>l.completed?o+1:o,0),s=e.length-a;return e.length===0?null:Z.jsxs("section",{className:"main",children:[Z.jsx("input",{className:"toggle-all",type:"checkbox",defaultChecked:a===e.length,onChange:t.completeAll}),Z.jsx("ul",{className:"todo-list",children:r.map(o=>Z.jsx(oE,{todo:o,editTodo:t.editTodo,deleteTodo:t.deleteTodo,completeTodo:t.completeTodo},o.id))}),Z.jsx(uE,{completedCount:a,activeCount:s,filter:n,onClearCompleted:()=>t.clearCompleted(),onShow:i})]})}function hE(){const{root:e,update:t,loading:n,error:i}=rE();if(n)return Z.jsx("div",{children:"Loading..."});if(i)return Z.jsxs("div",{children:["Error: ",i.message]});const r={addTodo:a=>{t(s=>{s.todos.push({id:s.todos.reduce((o,l)=>Math.max(l.id,o),-1)+1,completed:!1,text:a})})},deleteTodo:a=>{t(s=>{let o;for(const l of s.todos)if(l.id===a){o=l;break}o&&s.todos.deleteByID(o.getID())})},editTodo:(a,s)=>{t(o=>{let l;for(const c of o.todos)if(c.id===a){l=c;break}l&&(l.text=s)})},completeTodo:a=>{t(s=>{let o;for(const l of s.todos)if(l.id===a){o=l;break}o&&(o.completed=!o.completed)})},clearCompleted:()=>{t(a=>{for(const s of a.todos)if(s.completed){const o=s;a.todos.deleteByID(o.getID())}})}};return Z.jsxs("div",{className:"App",children:[Z.jsx(sE,{addTodo:r.addTodo}),Z.jsx(fE,{todos:e.todos,actions:r})]})}const dE={todos:[{id:0,text:"Yorkie JS SDK",completed:!1},{id:1,text:"Garbage collection",completed:!1},{id:2,text:"RichText datatype",completed:!1}]};_b.createRoot(document.getElementById("root")).render(Z.jsx(eE,{apiKey:"cedaovjuioqlk4pjqn6g",children:Z.jsx(iE,{docKey:`react-todomvc-${new Date().toISOString().substring(0,10).replace(/-/g,"")}`,initialRoot:dE,children:Z.jsx(hE,{})})}));
