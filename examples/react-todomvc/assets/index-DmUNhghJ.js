var fS=Object.defineProperty;var hS=(e,t,n)=>t in e?fS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var u=(e,t,n)=>hS(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function ry(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ay={exports:{}},Mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dS=Symbol.for("react.transitional.element"),gS=Symbol.for("react.fragment");function sy(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:dS,type:e,key:i,ref:t!==void 0?t:null,props:n}}Mu.Fragment=gS;Mu.jsx=sy;Mu.jsxs=sy;ay.exports=Mu;var nt=ay.exports,oy={exports:{}},zu={},ly={exports:{}},uy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,G){var P=I.length;I.push(G);t:for(;0<P;){var bt=P-1>>>1,Mt=I[bt];if(0<r(Mt,G))I[bt]=G,I[P]=Mt,P=bt;else break t}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var G=I[0],P=I.pop();if(P!==G){I[0]=P;t:for(var bt=0,Mt=I.length,Go=Mt>>>1;bt<Go;){var Yo=2*(bt+1)-1,ac=I[Yo],Ir=Yo+1,Ko=I[Ir];if(0>r(ac,P))Ir<Mt&&0>r(Ko,ac)?(I[bt]=Ko,I[Ir]=P,bt=Ir):(I[bt]=ac,I[Yo]=P,bt=Yo);else if(Ir<Mt&&0>r(Ko,P))I[bt]=Ko,I[Ir]=P,bt=Ir;else break t}}return G}function r(I,G){var P=I.sortIndex-G.sortIndex;return P!==0?P:I.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],h=1,d=null,m=3,g=!1,T=!1,w=!1,O=!1,p=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function A(I){for(var G=n(c);G!==null;){if(G.callback===null)i(c);else if(G.startTime<=I)i(c),G.sortIndex=G.expirationTime,t(l,G);else break;G=n(c)}}function x(I){if(w=!1,A(I),!T)if(n(l)!==null)T=!0,R||(R=!0,oe());else{var G=n(c);G!==null&&rc(x,G.startTime-I)}}var R=!1,C=-1,B=5,Z=-1;function J(){return O?!0:!(e.unstable_now()-Z<B)}function Ct(){if(O=!1,R){var I=e.unstable_now();Z=I;var G=!0;try{t:{T=!1,w&&(w=!1,y(C),C=-1),g=!0;var P=m;try{e:{for(A(I),d=n(l);d!==null&&!(d.expirationTime>I&&J());){var bt=d.callback;if(typeof bt=="function"){d.callback=null,m=d.priorityLevel;var Mt=bt(d.expirationTime<=I);if(I=e.unstable_now(),typeof Mt=="function"){d.callback=Mt,A(I),G=!0;break e}d===n(l)&&i(l),A(I)}else i(l);d=n(l)}if(d!==null)G=!0;else{var Go=n(c);Go!==null&&rc(x,Go.startTime-I),G=!1}}break t}finally{d=null,m=P,g=!1}G=void 0}}finally{G?oe():R=!1}}}var oe;if(typeof v=="function")oe=function(){v(Ct)};else if(typeof MessageChannel<"u"){var jd=new MessageChannel,cS=jd.port2;jd.port1.onmessage=Ct,oe=function(){cS.postMessage(null)}}else oe=function(){p(Ct,0)};function rc(I,G){C=p(function(){I(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var P=m;m=G;try{return I()}finally{m=P}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(I,G){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var P=m;m=I;try{return G()}finally{m=P}},e.unstable_scheduleCallback=function(I,G,P){var bt=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?bt+P:bt):P=bt,I){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=P+Mt,I={id:h++,callback:G,priorityLevel:I,startTime:P,expirationTime:Mt,sortIndex:-1},P>bt?(I.sortIndex=P,t(c,I),n(l)===null&&I===n(c)&&(w?(y(C),C=-1):w=!0,rc(x,P-bt))):(I.sortIndex=Mt,t(l,I),T||g||(T=!0,R||(R=!0,oe()))),I},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(I){var G=m;return function(){var P=m;m=G;try{return I.apply(this,arguments)}finally{m=P}}}})(uy);ly.exports=uy;var mS=ly.exports,cy={exports:{}},V={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th=Symbol.for("react.transitional.element"),yS=Symbol.for("react.portal"),pS=Symbol.for("react.fragment"),vS=Symbol.for("react.strict_mode"),SS=Symbol.for("react.profiler"),TS=Symbol.for("react.consumer"),bS=Symbol.for("react.context"),AS=Symbol.for("react.forward_ref"),wS=Symbol.for("react.suspense"),ES=Symbol.for("react.memo"),fy=Symbol.for("react.lazy"),Pd=Symbol.iterator;function NS(e){return e===null||typeof e!="object"?null:(e=Pd&&e[Pd]||e["@@iterator"],typeof e=="function"?e:null)}var hy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dy=Object.assign,gy={};function us(e,t,n){this.props=e,this.context=t,this.refs=gy,this.updater=n||hy}us.prototype.isReactComponent={};us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function my(){}my.prototype=us.prototype;function bh(e,t,n){this.props=e,this.context=t,this.refs=gy,this.updater=n||hy}var Ah=bh.prototype=new my;Ah.constructor=bh;dy(Ah,us.prototype);Ah.isPureReactComponent=!0;var Gd=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},yy=Object.prototype.hasOwnProperty;function wh(e,t,n,i,r,a){return n=a.ref,{$$typeof:Th,type:e,key:t,ref:n!==void 0?n:null,props:a}}function xS(e,t){return wh(e.type,t,void 0,void 0,void 0,e.props)}function Eh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Th}function DS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Yd=/\/+/g;function sc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?DS(""+e.key):t.toString(36)}function Kd(){}function OS(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Kd,Kd):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function da(e,t,n,i,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Th:case yS:s=!0;break;case fy:return s=e._init,da(s(e._payload),t,n,i,r)}}if(s)return r=r(e),s=i===""?"."+sc(e,0):i,Gd(r)?(n="",s!=null&&(n=s.replace(Yd,"$&/")+"/"),da(r,t,n,"",function(c){return c})):r!=null&&(Eh(r)&&(r=xS(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(Yd,"$&/")+"/")+s)),t.push(r)),1;s=0;var o=i===""?".":i+":";if(Gd(e))for(var l=0;l<e.length;l++)i=e[l],a=o+sc(i,l),s+=da(i,t,n,a,r);else if(l=NS(e),typeof l=="function")for(e=l.call(e),l=0;!(i=e.next()).done;)i=i.value,a=o+sc(i,l++),s+=da(i,t,n,a,r);else if(a==="object"){if(typeof e.then=="function")return da(OS(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function $o(e,t,n){if(e==null)return e;var i=[],r=0;return da(e,i,"","",function(a){return t.call(n,a,r++)}),i}function CS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $d=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function RS(){}V.Children={map:$o,forEach:function(e,t,n){$o(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $o(e,function(){t++}),t},toArray:function(e){return $o(e,function(t){return t})||[]},only:function(e){if(!Eh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=us;V.Fragment=pS;V.Profiler=SS;V.PureComponent=bh;V.StrictMode=vS;V.Suspense=wS;V.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht;V.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ht.H.useMemoCache(e)}};V.cache=function(e){return function(){return e.apply(null,arguments)}};V.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=dy({},e.props),r=e.key,a=void 0;if(t!=null)for(s in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(r=""+t.key),t)!yy.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(i[s]=t[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}return wh(e.type,r,void 0,void 0,a,i)};V.createContext=function(e){return e={$$typeof:bS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:TS,_context:e},e};V.createElement=function(e,t,n){var i,r={},a=null;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)yy.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];r.children=o}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)r[i]===void 0&&(r[i]=s[i]);return wh(e,a,void 0,void 0,null,r)};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:AS,render:e}};V.isValidElement=Eh;V.lazy=function(e){return{$$typeof:fy,_payload:{_status:-1,_result:e},_init:CS}};V.memo=function(e,t){return{$$typeof:ES,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=ht.T,n={};ht.T=n;try{var i=e(),r=ht.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(RS,$d)}catch(a){$d(a)}finally{ht.T=t}};V.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()};V.use=function(e){return ht.H.use(e)};V.useActionState=function(e,t,n){return ht.H.useActionState(e,t,n)};V.useCallback=function(e,t){return ht.H.useCallback(e,t)};V.useContext=function(e){return ht.H.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e,t){return ht.H.useDeferredValue(e,t)};V.useEffect=function(e,t,n){var i=ht.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};V.useId=function(){return ht.H.useId()};V.useImperativeHandle=function(e,t,n){return ht.H.useImperativeHandle(e,t,n)};V.useInsertionEffect=function(e,t){return ht.H.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return ht.H.useLayoutEffect(e,t)};V.useMemo=function(e,t){return ht.H.useMemo(e,t)};V.useOptimistic=function(e,t){return ht.H.useOptimistic(e,t)};V.useReducer=function(e,t,n){return ht.H.useReducer(e,t,n)};V.useRef=function(e){return ht.H.useRef(e)};V.useState=function(e){return ht.H.useState(e)};V.useSyncExternalStore=function(e,t,n){return ht.H.useSyncExternalStore(e,t,n)};V.useTransition=function(){return ht.H.useTransition()};V.version="19.1.0";cy.exports=V;var mt=cy.exports,py={exports:{}},_t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kS=mt;function vy(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zi(){}var Qt={d:{f:Zi,r:function(){throw Error(vy(522))},D:Zi,C:Zi,L:Zi,m:Zi,X:Zi,S:Zi,M:Zi},p:0,findDOMNode:null},BS=Symbol.for("react.portal");function IS(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:BS,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Bs=kS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Uu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}_t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Qt;_t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(vy(299));return IS(e,t,null,n)};_t.flushSync=function(e){var t=Bs.T,n=Qt.p;try{if(Bs.T=null,Qt.p=2,e)return e()}finally{Bs.T=t,Qt.p=n,Qt.d.f()}};_t.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Qt.d.C(e,t))};_t.prefetchDNS=function(e){typeof e=="string"&&Qt.d.D(e)};_t.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Uu(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Qt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):n==="script"&&Qt.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};_t.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Uu(t.as,t.crossOrigin);Qt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Qt.d.M(e)};_t.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Uu(n,t.crossOrigin);Qt.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};_t.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Uu(t.as,t.crossOrigin);Qt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Qt.d.m(e)};_t.requestFormReset=function(e){Qt.d.r(e)};_t.unstable_batchedUpdates=function(e,t){return e(t)};_t.useFormState=function(e,t,n){return Bs.H.useFormState(e,t,n)};_t.useFormStatus=function(){return Bs.H.useHostTransitionStatus()};_t.version="19.1.0";function Sy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sy)}catch(e){console.error(e)}}Sy(),py.exports=_t;var MS=py.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var It=mS,Ty=mt,zS=MS;function N(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function by(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ay(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xd(e){if(wo(e)!==e)throw Error(N(188))}function US(e){var t=e.alternate;if(!t){if(t=wo(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Xd(r),e;if(a===i)return Xd(r),t;a=a.sibling}throw Error(N(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,o=r.child;o;){if(o===n){s=!0,n=r,i=a;break}if(o===i){s=!0,i=r,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,i=r;break}if(o===i){s=!0,i=a,n=r;break}o=o.sibling}if(!s)throw Error(N(189))}}if(n.alternate!==i)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function wy(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=wy(e),t!==null)return t;e=e.sibling}return null}var ut=Object.assign,LS=Symbol.for("react.element"),Xo=Symbol.for("react.transitional.element"),Ds=Symbol.for("react.portal"),va=Symbol.for("react.fragment"),Ey=Symbol.for("react.strict_mode"),Qc=Symbol.for("react.profiler"),qS=Symbol.for("react.provider"),Ny=Symbol.for("react.consumer"),Ci=Symbol.for("react.context"),Nh=Symbol.for("react.forward_ref"),_c=Symbol.for("react.suspense"),Fc=Symbol.for("react.suspense_list"),xh=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),Wc=Symbol.for("react.activity"),JS=Symbol.for("react.memo_cache_sentinel"),Zd=Symbol.iterator;function ys(e){return e===null||typeof e!="object"?null:(e=Zd&&e[Zd]||e["@@iterator"],typeof e=="function"?e:null)}var HS=Symbol.for("react.client.reference");function tf(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===HS?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case va:return"Fragment";case Qc:return"Profiler";case Ey:return"StrictMode";case _c:return"Suspense";case Fc:return"SuspenseList";case Wc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ds:return"Portal";case Ci:return(e.displayName||"Context")+".Provider";case Ny:return(e._context.displayName||"Context")+".Consumer";case Nh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xh:return t=e.displayName||null,t!==null?t:tf(e.type)||"Memo";case nr:t=e._payload,e=e._init;try{return tf(e(t))}catch{}}return null}var Os=Array.isArray,q=Ty.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=zS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,jr={pending:!1,data:null,method:null,action:null},ef=[],Sa=-1;function An(e){return{current:e}}function qt(e){0>Sa||(e.current=ef[Sa],ef[Sa]=null,Sa--)}function dt(e,t){Sa++,ef[Sa]=e.current,e.current=t}var pn=An(null),Fs=An(null),dr=An(null),Il=An(null);function Ml(e,t){switch(dt(dr,t),dt(Fs,e),dt(pn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?tm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=tm(t),e=jv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}qt(pn),dt(pn,e)}function Pa(){qt(pn),qt(Fs),qt(dr)}function nf(e){e.memoizedState!==null&&dt(Il,e);var t=pn.current,n=jv(t,e.type);t!==n&&(dt(Fs,e),dt(pn,n))}function zl(e){Fs.current===e&&(qt(pn),qt(Fs)),Il.current===e&&(qt(Il),lo._currentValue=jr)}var rf=Object.prototype.hasOwnProperty,Dh=It.unstable_scheduleCallback,oc=It.unstable_cancelCallback,VS=It.unstable_shouldYield,jS=It.unstable_requestPaint,vn=It.unstable_now,PS=It.unstable_getCurrentPriorityLevel,xy=It.unstable_ImmediatePriority,Dy=It.unstable_UserBlockingPriority,Ul=It.unstable_NormalPriority,GS=It.unstable_LowPriority,Oy=It.unstable_IdlePriority,YS=It.log,KS=It.unstable_setDisableYieldValue,Eo=null,ge=null;function lr(e){if(typeof YS=="function"&&KS(e),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(Eo,e)}catch{}}var me=Math.clz32?Math.clz32:ZS,$S=Math.log,XS=Math.LN2;function ZS(e){return e>>>=0,e===0?32:31-($S(e)/XS|0)|0}var Zo=256,Qo=4194304;function zr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Lu(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~a,i!==0?r=zr(i):(s&=o,s!==0?r=zr(s):n||(n=o&~e,n!==0&&(r=zr(n))))):(o=i&~a,o!==0?r=zr(o):s!==0?r=zr(s):n||(n=i&~e,n!==0&&(r=zr(n)))),r===0?0:t!==0&&t!==r&&!(t&a)&&(a=r&-r,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:r}function No(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function QS(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cy(){var e=Zo;return Zo<<=1,!(Zo&4194048)&&(Zo=256),e}function Ry(){var e=Qo;return Qo<<=1,!(Qo&62914560)&&(Qo=4194304),e}function lc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xo(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _S(e,t,n,i,r,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var h=31-me(n),d=1<<h;o[h]=0,l[h]=-1;var m=c[h];if(m!==null)for(c[h]=null,h=0;h<m.length;h++){var g=m[h];g!==null&&(g.lane&=-536870913)}n&=~d}i!==0&&ky(e,i,0),a!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=a&~(s&~t))}function ky(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-me(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function By(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-me(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Oh(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ch(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Iy(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:Fv(e.type))}function FS(e,t){var n=W.p;try{return W.p=e,t()}finally{W.p=n}}var kr=Math.random().toString(36).slice(2),Yt="__reactFiber$"+kr,re="__reactProps$"+kr,cs="__reactContainer$"+kr,af="__reactEvents$"+kr,WS="__reactListeners$"+kr,tT="__reactHandles$"+kr,Qd="__reactResources$"+kr,Do="__reactMarker$"+kr;function Rh(e){delete e[Yt],delete e[re],delete e[af],delete e[WS],delete e[tT]}function Ta(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cs]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=im(e);e!==null;){if(n=e[Yt])return n;e=im(e)}return t}e=n,n=e.parentNode}return null}function fs(e){if(e=e[Yt]||e[cs]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Cs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(N(33))}function Ba(e){var t=e[Qd];return t||(t=e[Qd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ut(e){e[Do]=!0}var My=new Set,zy={};function ra(e,t){Ga(e,t),Ga(e+"Capture",t)}function Ga(e,t){for(zy[e]=t,e=0;e<t.length;e++)My.add(t[e])}var eT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_d={},Fd={};function nT(e){return rf.call(Fd,e)?!0:rf.call(_d,e)?!1:eT.test(e)?Fd[e]=!0:(_d[e]=!0,!1)}function dl(e,t,n){if(nT(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function _o(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function En(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var uc,Wd;function ga(e){if(uc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);uc=t&&t[1]||"",Wd=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+uc+e+Wd}var cc=!1;function fc(e,t){if(!e||cc)return"";cc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(g){var m=g}Reflect.construct(e,[],d)}else{try{d.call()}catch(g){m=g}e.call(d.prototype)}}else{try{throw Error()}catch(g){m=g}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(g){if(g&&m&&typeof g.stack=="string")return[g.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),c=o.split(`
`);for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||l[i]!==c[r]){var h=`
`+l[i].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=i&&0<=r);break}}}finally{cc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ga(n):""}function iT(e){switch(e.tag){case 26:case 27:case 5:return ga(e.type);case 16:return ga("Lazy");case 13:return ga("Suspense");case 19:return ga("SuspenseList");case 0:case 15:return fc(e.type,!1);case 11:return fc(e.type.render,!1);case 1:return fc(e.type,!0);case 31:return ga("Activity");default:return""}}function tg(e){try{var t="";do t+=iT(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ae(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rT(e){var t=Uy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ll(e){e._valueTracker||(e._valueTracker=rT(e))}function Ly(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Uy(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function ql(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var aT=/[\n"\\]/g;function ze(e){return e.replace(aT,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function sf(e,t,n,i,r,a,s,o){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ae(t)):e.value!==""+Ae(t)&&(e.value=""+Ae(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?of(e,s,Ae(t)):n!=null?of(e,s,Ae(n)):i!=null&&e.removeAttribute("value"),r==null&&a!=null&&(e.defaultChecked=!!a),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Ae(o):e.removeAttribute("name")}function qy(e,t,n,i,r,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;n=n!=null?""+Ae(n):"",t=t!=null?""+Ae(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s)}function of(e,t,n){t==="number"&&ql(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ia(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ae(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Jy(e,t,n){if(t!=null&&(t=""+Ae(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ae(n):""}function Hy(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(N(92));if(Os(i)){if(1<i.length)throw Error(N(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Ae(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function Ya(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eg(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||sT.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Vy(e,t,n){if(t!=null&&typeof t!="object")throw Error(N(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&eg(e,r,i)}else for(var a in t)t.hasOwnProperty(a)&&eg(e,a,t[a])}function kh(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gl(e){return lT.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var lf=null;function Bh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ba=null,Ma=null;function ng(e){var t=fs(e);if(t&&(e=t.stateNode)){var n=e[re]||null;t:switch(e=t.stateNode,t.type){case"input":if(sf(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ze(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[re]||null;if(!r)throw Error(N(90));sf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Ly(i)}break t;case"textarea":Jy(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Ia(e,!!n.multiple,t,!1)}}}var hc=!1;function jy(e,t,n){if(hc)return e(t,n);hc=!0;try{var i=e(t);return i}finally{if(hc=!1,(ba!==null||Ma!==null)&&($u(),ba&&(t=ba,e=Ma,Ma=ba=null,ng(t),e)))for(t=0;t<e.length;t++)ng(e[t])}}function Ws(e,t){var n=e.stateNode;if(n===null)return null;var i=n[re]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uf=!1;if(Vi)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){uf=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{uf=!1}var ur=null,Ih=null,ml=null;function Py(){if(ml)return ml;var e,t=Ih,n=t.length,i,r="value"in ur?ur.value:ur.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===r[a-i];i++);return ml=r.slice(e,1<i?1-i:void 0)}function yl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fo(){return!0}function ig(){return!1}function se(e){function t(n,i,r,a,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Fo:ig,this.isPropagationStopped=ig,this}return ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fo)},persist:function(){},isPersistent:Fo}),t}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qu=se(aa),Oo=ut({},aa,{view:0,detail:0}),uT=se(Oo),dc,gc,vs,Ju=ut({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vs&&(vs&&e.type==="mousemove"?(dc=e.screenX-vs.screenX,gc=e.screenY-vs.screenY):gc=dc=0,vs=e),dc)},movementY:function(e){return"movementY"in e?e.movementY:gc}}),rg=se(Ju),cT=ut({},Ju,{dataTransfer:0}),fT=se(cT),hT=ut({},Oo,{relatedTarget:0}),mc=se(hT),dT=ut({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),gT=se(dT),mT=ut({},aa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yT=se(mT),pT=ut({},aa,{data:0}),ag=se(pT),vT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ST={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TT[e])?!!t[e]:!1}function Mh(){return bT}var AT=ut({},Oo,{key:function(e){if(e.key){var t=vT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ST[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mh,charCode:function(e){return e.type==="keypress"?yl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wT=se(AT),ET=ut({},Ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sg=se(ET),NT=ut({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mh}),xT=se(NT),DT=ut({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),OT=se(DT),CT=ut({},Ju,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RT=se(CT),kT=ut({},aa,{newState:0,oldState:0}),BT=se(kT),IT=[9,13,27,32],zh=Vi&&"CompositionEvent"in window,Is=null;Vi&&"documentMode"in document&&(Is=document.documentMode);var MT=Vi&&"TextEvent"in window&&!Is,Gy=Vi&&(!zh||Is&&8<Is&&11>=Is),og=" ",lg=!1;function Yy(e,t){switch(e){case"keyup":return IT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ky(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Aa=!1;function zT(e,t){switch(e){case"compositionend":return Ky(t);case"keypress":return t.which!==32?null:(lg=!0,og);case"textInput":return e=t.data,e===og&&lg?null:e;default:return null}}function UT(e,t){if(Aa)return e==="compositionend"||!zh&&Yy(e,t)?(e=Py(),ml=Ih=ur=null,Aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gy&&t.locale!=="ko"?null:t.data;default:return null}}var LT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LT[e.type]:t==="textarea"}function $y(e,t,n,i){ba?Ma?Ma.push(i):Ma=[i]:ba=i,t=nu(t,"onChange"),0<t.length&&(n=new qu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ms=null,to=null;function qT(e){Jv(e,0)}function Hu(e){var t=Cs(e);if(Ly(t))return e}function cg(e,t){if(e==="change")return t}var Xy=!1;if(Vi){var yc;if(Vi){var pc="oninput"in document;if(!pc){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),pc=typeof fg.oninput=="function"}yc=pc}else yc=!1;Xy=yc&&(!document.documentMode||9<document.documentMode)}function hg(){Ms&&(Ms.detachEvent("onpropertychange",Zy),to=Ms=null)}function Zy(e){if(e.propertyName==="value"&&Hu(to)){var t=[];$y(t,to,e,Bh(e)),jy(qT,t)}}function JT(e,t,n){e==="focusin"?(hg(),Ms=t,to=n,Ms.attachEvent("onpropertychange",Zy)):e==="focusout"&&hg()}function HT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hu(to)}function VT(e,t){if(e==="click")return Hu(t)}function jT(e,t){if(e==="input"||e==="change")return Hu(t)}function PT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Te=typeof Object.is=="function"?Object.is:PT;function eo(e,t){if(Te(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!rf.call(t,r)||!Te(e[r],t[r]))return!1}return!0}function dg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gg(e,t){var n=dg(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=dg(n)}}function Qy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _y(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ql(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ql(e.document)}return t}function Uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var GT=Vi&&"documentMode"in document&&11>=document.documentMode,wa=null,cf=null,zs=null,ff=!1;function mg(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ff||wa==null||wa!==ql(i)||(i=wa,"selectionStart"in i&&Uh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),zs&&eo(zs,i)||(zs=i,i=nu(cf,"onSelect"),0<i.length&&(t=new qu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=wa)))}function Mr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ea={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},vc={},Fy={};Vi&&(Fy=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function sa(e){if(vc[e])return vc[e];if(!Ea[e])return e;var t=Ea[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fy)return vc[e]=t[n];return e}var Wy=sa("animationend"),tp=sa("animationiteration"),ep=sa("animationstart"),YT=sa("transitionrun"),KT=sa("transitionstart"),$T=sa("transitioncancel"),np=sa("transitionend"),ip=new Map,hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hf.push("scrollEnd");function tn(e,t){ip.set(e,t),ra(t,[e])}var yg=new WeakMap;function Ue(e,t){if(typeof e=="object"&&e!==null){var n=yg.get(e);return n!==void 0?n:(t={value:e,source:t,stack:tg(t)},yg.set(e,t),t)}return{value:e,source:t,stack:tg(t)}}var be=[],Na=0,Lh=0;function Vu(){for(var e=Na,t=Lh=Na=0;t<e;){var n=be[t];be[t++]=null;var i=be[t];be[t++]=null;var r=be[t];be[t++]=null;var a=be[t];if(be[t++]=null,i!==null&&r!==null){var s=i.pending;s===null?r.next=r:(r.next=s.next,s.next=r),i.pending=r}a!==0&&rp(n,r,a)}}function ju(e,t,n,i){be[Na++]=e,be[Na++]=t,be[Na++]=n,be[Na++]=i,Lh|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function qh(e,t,n,i){return ju(e,t,n,i),Jl(e)}function hs(e,t){return ju(e,null,null,t),Jl(e)}function rp(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,a=e.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(r=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,r&&t!==null&&(r=31-me(n),e=a.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),a):null}function Jl(e){if(50<Ys)throw Ys=0,If=null,Error(N(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var xa={};function XT(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fe(e,t,n,i){return new XT(e,t,n,i)}function Jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,t){var n=e.alternate;return n===null?(n=fe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ap(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function pl(e,t,n,i,r,a){var s=0;if(i=e,typeof e=="function")Jh(e)&&(s=1);else if(typeof e=="string")s=Qb(e,n,pn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Wc:return e=fe(31,n,t,r),e.elementType=Wc,e.lanes=a,e;case va:return Pr(n.children,r,a,t);case Ey:s=8,r|=24;break;case Qc:return e=fe(12,n,t,r|2),e.elementType=Qc,e.lanes=a,e;case _c:return e=fe(13,n,t,r),e.elementType=_c,e.lanes=a,e;case Fc:return e=fe(19,n,t,r),e.elementType=Fc,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qS:case Ci:s=10;break t;case Ny:s=9;break t;case Nh:s=11;break t;case xh:s=14;break t;case nr:s=16,i=null;break t}s=29,n=Error(N(130,e===null?"null":typeof e,"")),i=null}return t=fe(s,n,t,r),t.elementType=e,t.type=i,t.lanes=a,t}function Pr(e,t,n,i){return e=fe(7,e,i,t),e.lanes=n,e}function Sc(e,t,n){return e=fe(6,e,null,t),e.lanes=n,e}function Tc(e,t,n){return t=fe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Da=[],Oa=0,Hl=null,Vl=0,we=[],Ee=0,Gr=null,Ri=1,ki="";function Ur(e,t){Da[Oa++]=Vl,Da[Oa++]=Hl,Hl=e,Vl=t}function sp(e,t,n){we[Ee++]=Ri,we[Ee++]=ki,we[Ee++]=Gr,Gr=e;var i=Ri;e=ki;var r=32-me(i)-1;i&=~(1<<r),n+=1;var a=32-me(t)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Ri=1<<32-me(t)+r|n<<r|i,ki=a+e}else Ri=1<<a|n<<r|i,ki=e}function Hh(e){e.return!==null&&(Ur(e,1),sp(e,1,0))}function Vh(e){for(;e===Hl;)Hl=Da[--Oa],Da[Oa]=null,Vl=Da[--Oa],Da[Oa]=null;for(;e===Gr;)Gr=we[--Ee],we[Ee]=null,ki=we[--Ee],we[Ee]=null,Ri=we[--Ee],we[Ee]=null}var Zt=null,pt=null,F=!1,Yr=null,an=!1,df=Error(N(519));function _r(e){var t=Error(N(418,""));throw no(Ue(t,e)),df}function pg(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Yt]=e,t[re]=i,n){case"dialog":Y("cancel",t),Y("close",t);break;case"iframe":case"object":case"embed":Y("load",t);break;case"video":case"audio":for(n=0;n<ao.length;n++)Y(ao[n],t);break;case"source":Y("error",t);break;case"img":case"image":case"link":Y("error",t),Y("load",t);break;case"details":Y("toggle",t);break;case"input":Y("invalid",t),qy(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Ll(t);break;case"select":Y("invalid",t);break;case"textarea":Y("invalid",t),Hy(t,i.value,i.defaultValue,i.children),Ll(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Vv(t.textContent,n)?(i.popover!=null&&(Y("beforetoggle",t),Y("toggle",t)),i.onScroll!=null&&Y("scroll",t),i.onScrollEnd!=null&&Y("scrollend",t),i.onClick!=null&&(t.onclick=Qu),t=!0):t=!1,t||_r(e)}function vg(e){for(Zt=e.return;Zt;)switch(Zt.tag){case 5:case 13:an=!1;return;case 27:case 3:an=!0;return;default:Zt=Zt.return}}function Ss(e){if(e!==Zt)return!1;if(!F)return vg(e),F=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Jf(e.type,e.memoizedProps)),n=!n),n&&pt&&_r(e),vg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){pt=Qe(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}pt=null}}else t===27?(t=pt,Br(e.type)?(e=jf,jf=null,pt=e):pt=t):pt=Zt?Qe(e.stateNode.nextSibling):null;return!0}function Co(){pt=Zt=null,F=!1}function Sg(){var e=Yr;return e!==null&&(te===null?te=e:te.push.apply(te,e),Yr=null),e}function no(e){Yr===null?Yr=[e]:Yr.push(e)}var gf=An(null),oa=null,Bi=null;function rr(e,t,n){dt(gf,t._currentValue),t._currentValue=n}function qi(e){e._currentValue=gf.current,qt(gf)}function mf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function yf(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){var s=r.child;a=a.firstContext;t:for(;a!==null;){var o=a;a=r;for(var l=0;l<t.length;l++)if(o.context===t[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),mf(a.return,n,e),i||(s=null);break t}a=o.next}}else if(r.tag===18){if(s=r.return,s===null)throw Error(N(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),mf(s,n,e),s=null}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===e){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}}function Ro(e,t,n,i){e=null;for(var r=t,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var s=r.alternate;if(s===null)throw Error(N(387));if(s=s.memoizedProps,s!==null){var o=r.type;Te(r.pendingProps.value,s.value)||(e!==null?e.push(o):e=[o])}}else if(r===Il.current){if(s=r.alternate,s===null)throw Error(N(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(lo):e=[lo])}r=r.return}e!==null&&yf(t,e,n,i),t.flags|=262144}function jl(e){for(e=e.firstContext;e!==null;){if(!Te(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fr(e){oa=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Kt(e){return op(oa,e)}function Wo(e,t){return oa===null&&Fr(e),op(e,t)}function op(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Bi===null){if(e===null)throw Error(N(308));Bi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Bi=Bi.next=t;return n}var ZT=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},QT=It.unstable_scheduleCallback,_T=It.unstable_NormalPriority,kt={$$typeof:Ci,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jh(){return{controller:new ZT,data:new Map,refCount:0}}function ko(e){e.refCount--,e.refCount===0&&QT(_T,function(){e.controller.abort()})}var Us=null,pf=0,Ka=0,za=null;function FT(e,t){if(Us===null){var n=Us=[];pf=0,Ka=fd(),za={status:"pending",value:void 0,then:function(i){n.push(i)}}}return pf++,t.then(Tg,Tg),t}function Tg(){if(--pf===0&&Us!==null){za!==null&&(za.status="fulfilled");var e=Us;Us=null,Ka=0,za=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function WT(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var bg=q.S;q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&FT(e,t),bg!==null&&bg(e,t)};var Kr=An(null);function Ph(){var e=Kr.current;return e!==null?e:lt.pooledCache}function vl(e,t){t===null?dt(Kr,Kr.current):dt(Kr,t.pool)}function lp(){var e=Ph();return e===null?null:{parent:kt._currentValue,pool:e}}var Bo=Error(N(460)),up=Error(N(474)),Pu=Error(N(542)),vf={then:function(){}};function Ag(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tl(){}function cp(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(tl,tl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Eg(e),e;default:if(typeof t.status=="string")t.then(tl,tl);else{if(e=lt,e!==null&&100<e.shellSuspendCounter)throw Error(N(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Eg(e),e}throw Ls=t,Bo}}var Ls=null;function wg(){if(Ls===null)throw Error(N(459));var e=Ls;return Ls=null,e}function Eg(e){if(e===Bo||e===Pu)throw Error(N(483))}var ir=!1;function Gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function gr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function mr(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,it&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Jl(e),rp(e,null,n),t}return ju(e,i,t,n),Jl(e)}function qs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,By(e,n)}}function bc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?r=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Tf=!1;function Js(){if(Tf){var e=za;if(e!==null)throw e}}function Hs(e,t,n,i){Tf=!1;var r=e.updateQueue;ir=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==s&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(a!==null){var d=r.baseState;s=0,h=c=l=null,o=a;do{var m=o.lane&-536870913,g=m!==o.lane;if(g?(Q&m)===m:(i&m)===m){m!==0&&m===Ka&&(Tf=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var T=e,w=o;m=t;var O=n;switch(w.tag){case 1:if(T=w.payload,typeof T=="function"){d=T.call(O,d,m);break t}d=T;break t;case 3:T.flags=T.flags&-65537|128;case 0:if(T=w.payload,m=typeof T=="function"?T.call(O,d,m):T,m==null)break t;d=ut({},d,m);break t;case 2:ir=!0}}m=o.callback,m!==null&&(e.flags|=64,g&&(e.flags|=8192),g=r.callbacks,g===null?r.callbacks=[m]:g.push(m))}else g={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=g,l=d):h=h.next=g,s|=m;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;g=o,o=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(!0);h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,a===null&&(r.shared.lanes=0),Dr|=s,e.lanes=s,e.memoizedState=d}}function fp(e,t){if(typeof e!="function")throw Error(N(191,e));e.call(t)}function hp(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)fp(n[e],t)}var $a=An(null),Pl=An(0);function Ng(e,t){e=Gi,dt(Pl,e),dt($a,t),Gi=e|t.baseLanes}function bf(){dt(Pl,Gi),dt($a,$a.current)}function Yh(){Gi=Pl.current,qt($a),qt(Pl)}var Nr=0,j=null,at=null,Dt=null,Gl=!1,Ua=!1,Wr=!1,Yl=0,io=0,La=null,tb=0;function At(){throw Error(N(321))}function Kh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Te(e[n],t[n]))return!1;return!0}function $h(e,t,n,i,r,a){return Nr=a,j=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?Pp:Gp,Wr=!1,a=n(i,r),Wr=!1,Ua&&(a=gp(t,n,i,r)),dp(e),a}function dp(e){q.H=Kl;var t=at!==null&&at.next!==null;if(Nr=0,Dt=at=j=null,Gl=!1,io=0,La=null,t)throw Error(N(300));e===null||Lt||(e=e.dependencies,e!==null&&jl(e)&&(Lt=!0))}function gp(e,t,n,i){j=e;var r=0;do{if(Ua&&(La=null),io=0,Ua=!1,25<=r)throw Error(N(301));if(r+=1,Dt=at=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}q.H=ob,a=t(n,i)}while(Ua);return a}function eb(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?Io(t):t,e=e.useState()[0],(at!==null?at.memoizedState:null)!==e&&(j.flags|=1024),t}function Xh(){var e=Yl!==0;return Yl=0,e}function Zh(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Qh(e){if(Gl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Gl=!1}Nr=0,Dt=at=j=null,Ua=!1,io=Yl=0,La=null}function Ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?j.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function Ot(){if(at===null){var e=j.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=Dt===null?j.memoizedState:Dt.next;if(t!==null)Dt=t,at=e;else{if(e===null)throw j.alternate===null?Error(N(467)):Error(N(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Dt===null?j.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function _h(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Io(e){var t=io;return io+=1,La===null&&(La=[]),e=cp(La,e,t),t=j,(Dt===null?t.memoizedState:Dt.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?Pp:Gp),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Io(e);if(e.$$typeof===Ci)return Kt(e)}throw Error(N(438,String(e)))}function Fh(e){var t=null,n=j.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=j.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=_h(),j.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=JS;return t.index++,n}function ji(e,t){return typeof t=="function"?t(e):t}function Sl(e){var t=Ot();return Wh(t,at,e)}function Wh(e,t,n){var i=e.queue;if(i===null)throw Error(N(311));i.lastRenderedReducer=n;var r=e.baseQueue,a=i.pending;if(a!==null){if(r!==null){var s=r.next;r.next=a.next,a.next=s}t.baseQueue=r=a,i.pending=null}if(a=e.baseState,r===null)e.memoizedState=a;else{t=r.next;var o=s=null,l=null,c=t,h=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(Q&d)===d:(Nr&d)===d){var m=c.revertLane;if(m===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Ka&&(h=!0);else if((Nr&m)===m){c=c.next,m===Ka&&(h=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,s=a):l=l.next=d,j.lanes|=m,Dr|=m;d=c.action,Wr&&n(a,d),a=c.hasEagerState?c.eagerState:n(a,d)}else m={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=m,s=a):l=l.next=m,j.lanes|=d,Dr|=d;c=c.next}while(c!==null&&c!==t);if(l===null?s=a:l.next=o,!Te(a,e.memoizedState)&&(Lt=!0,h&&(n=za,n!==null)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=l,i.lastRenderedState=a}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Ac(e){var t=Ot(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do a=e(a,s.action),s=s.next;while(s!==r);Te(a,t.memoizedState)||(Lt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function mp(e,t,n){var i=j,r=Ot(),a=F;if(a){if(n===void 0)throw Error(N(407));n=n()}else n=t();var s=!Te((at||r).memoizedState,n);s&&(r.memoizedState=n,Lt=!0),r=r.queue;var o=vp.bind(null,i,r,e);if(Mo(2048,8,o,[e]),r.getSnapshot!==t||s||Dt!==null&&Dt.memoizedState.tag&1){if(i.flags|=2048,Xa(9,Yu(),pp.bind(null,i,r,n,t),null),lt===null)throw Error(N(349));a||Nr&124||yp(i,t,n)}return n}function yp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=j.updateQueue,t===null?(t=_h(),j.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function pp(e,t,n,i){t.value=n,t.getSnapshot=i,Sp(t)&&Tp(e)}function vp(e,t,n){return n(function(){Sp(t)&&Tp(e)})}function Sp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Te(e,n)}catch{return!0}}function Tp(e){var t=hs(e,2);t!==null&&pe(t,e,2)}function Af(e){var t=Ft();if(typeof e=="function"){var n=e;if(e=n(),Wr){lr(!0);try{n()}finally{lr(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},t}function bp(e,t,n,i){return e.baseState=n,Wh(e,at,typeof i=="function"?i:ji)}function nb(e,t,n,i,r){if(Ku(e))throw Error(N(485));if(e=t.action,e!==null){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};q.T!==null?n(!0):a.isTransition=!1,i(a),n=t.pending,n===null?(a.next=t.pending=a,Ap(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Ap(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=q.T,s={};q.T=s;try{var o=n(r,i),l=q.S;l!==null&&l(s,o),xg(e,t,o)}catch(c){wf(e,t,c)}finally{q.T=a}}else try{a=n(r,i),xg(e,t,a)}catch(c){wf(e,t,c)}}function xg(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Dg(e,t,i)},function(i){return wf(e,t,i)}):Dg(e,t,n)}function Dg(e,t,n){t.status="fulfilled",t.value=n,wp(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Ap(e,n)))}function wf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,wp(t),t=t.next;while(t!==i)}e.action=null}function wp(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ep(e,t){return t}function Og(e,t){if(F){var n=lt.formState;if(n!==null){t:{var i=j;if(F){if(pt){e:{for(var r=pt,a=an;r.nodeType!==8;){if(!a){r=null;break e}if(r=Qe(r.nextSibling),r===null){r=null;break e}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){pt=Qe(r.nextSibling),i=r.data==="F!";break t}}_r(i)}i=!1}i&&(t=n[0])}}return n=Ft(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ep,lastRenderedState:t},n.queue=i,n=Hp.bind(null,j,i),i.dispatch=n,i=Af(!1),a=id.bind(null,j,!1,i.queue),i=Ft(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=nb.bind(null,j,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Cg(e){var t=Ot();return Np(t,at,e)}function Np(e,t,n){if(t=Wh(e,t,Ep)[0],e=Sl(ji)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Io(t)}catch(s){throw s===Bo?Pu:s}else i=t;t=Ot();var r=t.queue,a=r.dispatch;return n!==t.memoizedState&&(j.flags|=2048,Xa(9,Yu(),ib.bind(null,r,n),null)),[i,a,e]}function ib(e,t){e.action=t}function Rg(e){var t=Ot(),n=at;if(n!==null)return Np(t,n,e);Ot(),t=t.memoizedState,n=Ot();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Xa(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=j.updateQueue,t===null&&(t=_h(),j.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Yu(){return{destroy:void 0,resource:void 0}}function xp(){return Ot().memoizedState}function Tl(e,t,n,i){var r=Ft();i=i===void 0?null:i,j.flags|=e,r.memoizedState=Xa(1|t,Yu(),n,i)}function Mo(e,t,n,i){var r=Ot();i=i===void 0?null:i;var a=r.memoizedState.inst;at!==null&&i!==null&&Kh(i,at.memoizedState.deps)?r.memoizedState=Xa(t,a,n,i):(j.flags|=e,r.memoizedState=Xa(1|t,a,n,i))}function kg(e,t){Tl(8390656,8,e,t)}function Dp(e,t){Mo(2048,8,e,t)}function Op(e,t){return Mo(4,2,e,t)}function Cp(e,t){return Mo(4,4,e,t)}function Rp(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kp(e,t,n){n=n!=null?n.concat([e]):null,Mo(4,4,Rp.bind(null,t,e),n)}function td(){}function Bp(e,t){var n=Ot();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Kh(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ip(e,t){var n=Ot();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Kh(t,i[1]))return i[0];if(i=e(),Wr){lr(!0);try{e()}finally{lr(!1)}}return n.memoizedState=[i,t],i}function ed(e,t,n){return n===void 0||Nr&1073741824?e.memoizedState=t:(e.memoizedState=n,e=wv(),j.lanes|=e,Dr|=e,n)}function Mp(e,t,n,i){return Te(n,t)?n:$a.current!==null?(e=ed(e,n,i),Te(e,t)||(Lt=!0),e):Nr&42?(e=wv(),j.lanes|=e,Dr|=e,t):(Lt=!0,e.memoizedState=n)}function zp(e,t,n,i,r){var a=W.p;W.p=a!==0&&8>a?a:8;var s=q.T,o={};q.T=o,id(e,!1,t,n);try{var l=r(),c=q.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=WT(l,i);Vs(e,t,h,ye(e))}else Vs(e,t,i,ye(e))}catch(d){Vs(e,t,{then:function(){},status:"rejected",reason:d},ye())}finally{W.p=a,q.T=s}}function rb(){}function Ef(e,t,n,i){if(e.tag!==5)throw Error(N(476));var r=Up(e).queue;zp(e,r,t,jr,n===null?rb:function(){return Lp(e),n(i)})}function Up(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:jr,baseState:jr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:jr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Lp(e){var t=Up(e).next.queue;Vs(e,t,{},ye())}function nd(){return Kt(lo)}function qp(){return Ot().memoizedState}function Jp(){return Ot().memoizedState}function ab(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ye();e=gr(n);var i=mr(t,e,n);i!==null&&(pe(i,t,n),qs(i,t,n)),t={cache:jh()},e.payload=t;return}t=t.return}}function sb(e,t,n){var i=ye();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Vp(t,n):(n=qh(e,t,n,i),n!==null&&(pe(n,e,i),jp(n,t,i)))}function Hp(e,t,n){var i=ye();Vs(e,t,n,i)}function Vs(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Vp(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(r.hasEagerState=!0,r.eagerState=o,Te(o,s))return ju(e,t,r,0),lt===null&&Vu(),!1}catch{}finally{}if(n=qh(e,t,r,i),n!==null)return pe(n,e,i),jp(n,t,i),!0}return!1}function id(e,t,n,i){if(i={lane:2,revertLane:fd(),action:i,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(t)throw Error(N(479))}else t=qh(e,n,i,2),t!==null&&pe(t,e,2)}function Ku(e){var t=e.alternate;return e===j||t!==null&&t===j}function Vp(e,t){Ua=Gl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jp(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,By(e,n)}}var Kl={readContext:Kt,use:Gu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},Pp={readContext:Kt,use:Gu,useCallback:function(e,t){return Ft().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:kg,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Tl(4194308,4,Rp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Tl(4194308,4,e,t)},useInsertionEffect:function(e,t){Tl(4,2,e,t)},useMemo:function(e,t){var n=Ft();t=t===void 0?null:t;var i=e();if(Wr){lr(!0);try{e()}finally{lr(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Ft();if(n!==void 0){var r=n(t);if(Wr){lr(!0);try{n(t)}finally{lr(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=sb.bind(null,j,e),[i.memoizedState,e]},useRef:function(e){var t=Ft();return e={current:e},t.memoizedState=e},useState:function(e){e=Af(e);var t=e.queue,n=Hp.bind(null,j,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:td,useDeferredValue:function(e,t){var n=Ft();return ed(n,e,t)},useTransition:function(){var e=Af(!1);return e=zp.bind(null,j,e.queue,!0,!1),Ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=j,r=Ft();if(F){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),lt===null)throw Error(N(349));Q&124||yp(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,kg(vp.bind(null,i,a,e),[e]),i.flags|=2048,Xa(9,Yu(),pp.bind(null,i,a,n,t),null),n},useId:function(){var e=Ft(),t=lt.identifierPrefix;if(F){var n=ki,i=Ri;n=(i&~(1<<32-me(i)-1)).toString(32)+n,t="«"+t+"R"+n,n=Yl++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=tb++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:nd,useFormState:Og,useActionState:Og,useOptimistic:function(e){var t=Ft();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=id.bind(null,j,!0,n),n.dispatch=t,[e,t]},useMemoCache:Fh,useCacheRefresh:function(){return Ft().memoizedState=ab.bind(null,j)}},Gp={readContext:Kt,use:Gu,useCallback:Bp,useContext:Kt,useEffect:Dp,useImperativeHandle:kp,useInsertionEffect:Op,useLayoutEffect:Cp,useMemo:Ip,useReducer:Sl,useRef:xp,useState:function(){return Sl(ji)},useDebugValue:td,useDeferredValue:function(e,t){var n=Ot();return Mp(n,at.memoizedState,e,t)},useTransition:function(){var e=Sl(ji)[0],t=Ot().memoizedState;return[typeof e=="boolean"?e:Io(e),t]},useSyncExternalStore:mp,useId:qp,useHostTransitionStatus:nd,useFormState:Cg,useActionState:Cg,useOptimistic:function(e,t){var n=Ot();return bp(n,at,e,t)},useMemoCache:Fh,useCacheRefresh:Jp},ob={readContext:Kt,use:Gu,useCallback:Bp,useContext:Kt,useEffect:Dp,useImperativeHandle:kp,useInsertionEffect:Op,useLayoutEffect:Cp,useMemo:Ip,useReducer:Ac,useRef:xp,useState:function(){return Ac(ji)},useDebugValue:td,useDeferredValue:function(e,t){var n=Ot();return at===null?ed(n,e,t):Mp(n,at.memoizedState,e,t)},useTransition:function(){var e=Ac(ji)[0],t=Ot().memoizedState;return[typeof e=="boolean"?e:Io(e),t]},useSyncExternalStore:mp,useId:qp,useHostTransitionStatus:nd,useFormState:Rg,useActionState:Rg,useOptimistic:function(e,t){var n=Ot();return at!==null?bp(n,at,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Fh,useCacheRefresh:Jp},qa=null,ro=0;function el(e){var t=ro;return ro+=1,qa===null&&(qa=[]),cp(qa,e,t)}function Ts(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function nl(e,t){throw t.$$typeof===LS?Error(N(525)):(e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Bg(e){var t=e._init;return t(e._payload)}function Yp(e){function t(p,y){if(e){var v=p.deletions;v===null?(p.deletions=[y],p.flags|=16):v.push(y)}}function n(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function i(p){for(var y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function r(p,y){return p=Li(p,y),p.index=0,p.sibling=null,p}function a(p,y,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<y?(p.flags|=67108866,y):v):(p.flags|=67108866,y)):(p.flags|=1048576,y)}function s(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function o(p,y,v,A){return y===null||y.tag!==6?(y=Sc(v,p.mode,A),y.return=p,y):(y=r(y,v),y.return=p,y)}function l(p,y,v,A){var x=v.type;return x===va?h(p,y,v.props.children,A,v.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===nr&&Bg(x)===y.type)?(y=r(y,v.props),Ts(y,v),y.return=p,y):(y=pl(v.type,v.key,v.props,null,p.mode,A),Ts(y,v),y.return=p,y)}function c(p,y,v,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Tc(v,p.mode,A),y.return=p,y):(y=r(y,v.children||[]),y.return=p,y)}function h(p,y,v,A,x){return y===null||y.tag!==7?(y=Pr(v,p.mode,A,x),y.return=p,y):(y=r(y,v),y.return=p,y)}function d(p,y,v){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Sc(""+y,p.mode,v),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xo:return v=pl(y.type,y.key,y.props,null,p.mode,v),Ts(v,y),v.return=p,v;case Ds:return y=Tc(y,p.mode,v),y.return=p,y;case nr:var A=y._init;return y=A(y._payload),d(p,y,v)}if(Os(y)||ys(y))return y=Pr(y,p.mode,v,null),y.return=p,y;if(typeof y.then=="function")return d(p,el(y),v);if(y.$$typeof===Ci)return d(p,Wo(p,y),v);nl(p,y)}return null}function m(p,y,v,A){var x=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return x!==null?null:o(p,y,""+v,A);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xo:return v.key===x?l(p,y,v,A):null;case Ds:return v.key===x?c(p,y,v,A):null;case nr:return x=v._init,v=x(v._payload),m(p,y,v,A)}if(Os(v)||ys(v))return x!==null?null:h(p,y,v,A,null);if(typeof v.then=="function")return m(p,y,el(v),A);if(v.$$typeof===Ci)return m(p,y,Wo(p,v),A);nl(p,v)}return null}function g(p,y,v,A,x){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return p=p.get(v)||null,o(y,p,""+A,x);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Xo:return p=p.get(A.key===null?v:A.key)||null,l(y,p,A,x);case Ds:return p=p.get(A.key===null?v:A.key)||null,c(y,p,A,x);case nr:var R=A._init;return A=R(A._payload),g(p,y,v,A,x)}if(Os(A)||ys(A))return p=p.get(v)||null,h(y,p,A,x,null);if(typeof A.then=="function")return g(p,y,v,el(A),x);if(A.$$typeof===Ci)return g(p,y,v,Wo(y,A),x);nl(y,A)}return null}function T(p,y,v,A){for(var x=null,R=null,C=y,B=y=0,Z=null;C!==null&&B<v.length;B++){C.index>B?(Z=C,C=null):Z=C.sibling;var J=m(p,C,v[B],A);if(J===null){C===null&&(C=Z);break}e&&C&&J.alternate===null&&t(p,C),y=a(J,y,B),R===null?x=J:R.sibling=J,R=J,C=Z}if(B===v.length)return n(p,C),F&&Ur(p,B),x;if(C===null){for(;B<v.length;B++)C=d(p,v[B],A),C!==null&&(y=a(C,y,B),R===null?x=C:R.sibling=C,R=C);return F&&Ur(p,B),x}for(C=i(C);B<v.length;B++)Z=g(C,p,B,v[B],A),Z!==null&&(e&&Z.alternate!==null&&C.delete(Z.key===null?B:Z.key),y=a(Z,y,B),R===null?x=Z:R.sibling=Z,R=Z);return e&&C.forEach(function(Ct){return t(p,Ct)}),F&&Ur(p,B),x}function w(p,y,v,A){if(v==null)throw Error(N(151));for(var x=null,R=null,C=y,B=y=0,Z=null,J=v.next();C!==null&&!J.done;B++,J=v.next()){C.index>B?(Z=C,C=null):Z=C.sibling;var Ct=m(p,C,J.value,A);if(Ct===null){C===null&&(C=Z);break}e&&C&&Ct.alternate===null&&t(p,C),y=a(Ct,y,B),R===null?x=Ct:R.sibling=Ct,R=Ct,C=Z}if(J.done)return n(p,C),F&&Ur(p,B),x;if(C===null){for(;!J.done;B++,J=v.next())J=d(p,J.value,A),J!==null&&(y=a(J,y,B),R===null?x=J:R.sibling=J,R=J);return F&&Ur(p,B),x}for(C=i(C);!J.done;B++,J=v.next())J=g(C,p,B,J.value,A),J!==null&&(e&&J.alternate!==null&&C.delete(J.key===null?B:J.key),y=a(J,y,B),R===null?x=J:R.sibling=J,R=J);return e&&C.forEach(function(oe){return t(p,oe)}),F&&Ur(p,B),x}function O(p,y,v,A){if(typeof v=="object"&&v!==null&&v.type===va&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Xo:t:{for(var x=v.key;y!==null;){if(y.key===x){if(x=v.type,x===va){if(y.tag===7){n(p,y.sibling),A=r(y,v.props.children),A.return=p,p=A;break t}}else if(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===nr&&Bg(x)===y.type){n(p,y.sibling),A=r(y,v.props),Ts(A,v),A.return=p,p=A;break t}n(p,y);break}else t(p,y);y=y.sibling}v.type===va?(A=Pr(v.props.children,p.mode,A,v.key),A.return=p,p=A):(A=pl(v.type,v.key,v.props,null,p.mode,A),Ts(A,v),A.return=p,p=A)}return s(p);case Ds:t:{for(x=v.key;y!==null;){if(y.key===x)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(p,y.sibling),A=r(y,v.children||[]),A.return=p,p=A;break t}else{n(p,y);break}else t(p,y);y=y.sibling}A=Tc(v,p.mode,A),A.return=p,p=A}return s(p);case nr:return x=v._init,v=x(v._payload),O(p,y,v,A)}if(Os(v))return T(p,y,v,A);if(ys(v)){if(x=ys(v),typeof x!="function")throw Error(N(150));return v=x.call(v),w(p,y,v,A)}if(typeof v.then=="function")return O(p,y,el(v),A);if(v.$$typeof===Ci)return O(p,y,Wo(p,v),A);nl(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,y!==null&&y.tag===6?(n(p,y.sibling),A=r(y,v),A.return=p,p=A):(n(p,y),A=Sc(v,p.mode,A),A.return=p,p=A),s(p)):n(p,y)}return function(p,y,v,A){try{ro=0;var x=O(p,y,v,A);return qa=null,x}catch(C){if(C===Bo||C===Pu)throw C;var R=fe(29,C,null,p.mode);return R.lanes=A,R.return=p,R}finally{}}}var Za=Yp(!0),Kp=Yp(!1),Ve=An(null),Sn=null;function ar(e){var t=e.alternate;dt(Bt,Bt.current&1),dt(Ve,e),Sn===null&&(t===null||$a.current!==null||t.memoizedState!==null)&&(Sn=e)}function $p(e){if(e.tag===22){if(dt(Bt,Bt.current),dt(Ve,e),Sn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Sn=e)}}else sr()}function sr(){dt(Bt,Bt.current),dt(Ve,Ve.current)}function Ii(e){qt(Ve),Sn===e&&(Sn=null),qt(Bt)}var Bt=An(0);function $l(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Vf(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function wc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ut({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Nf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ye(),r=gr(i);r.payload=t,n!=null&&(r.callback=n),t=mr(e,r,i),t!==null&&(pe(t,e,i),qs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ye(),r=gr(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=mr(e,r,i),t!==null&&(pe(t,e,i),qs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ye(),i=gr(n);i.tag=2,t!=null&&(i.callback=t),t=mr(e,i,n),t!==null&&(pe(t,e,n),qs(t,e,n))}};function Ig(e,t,n,i,r,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,s):t.prototype&&t.prototype.isPureReactComponent?!eo(n,i)||!eo(r,a):!0}function Mg(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Nf.enqueueReplaceState(t,t.state,null)}function ta(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=ut({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var Xl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Xp(e){Xl(e)}function Zp(e){console.error(e)}function Qp(e){Xl(e)}function Zl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function zg(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function xf(e,t,n){return n=gr(n),n.tag=3,n.payload={element:null},n.callback=function(){Zl(e,t)},n}function _p(e){return e=gr(e),e.tag=3,e}function Fp(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){zg(t,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){zg(t,n,i),typeof r!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function lb(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Ro(t,n,r,!0),n=Ve.current,n!==null){switch(n.tag){case 13:return Sn===null?Mf():n.alternate===null&&vt===0&&(vt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===vf?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Mc(e,i,r)),!1;case 22:return n.flags|=65536,i===vf?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Mc(e,i,r)),!1}throw Error(N(435,n.tag))}return Mc(e,i,r),Mf(),!1}if(F)return t=Ve.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==df&&(e=Error(N(422),{cause:i}),no(Ue(e,n)))):(i!==df&&(t=Error(N(423),{cause:i}),no(Ue(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=Ue(i,n),r=xf(e.stateNode,i,r),bc(e,r),vt!==4&&(vt=2)),!1;var a=Error(N(520),{cause:i});if(a=Ue(a,n),Gs===null?Gs=[a]:Gs.push(a),vt!==4&&(vt=2),t===null)return!0;i=Ue(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=xf(n.stateNode,i,e),bc(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(yr===null||!yr.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,r=_p(r),Fp(r,e,n,i),bc(n,r),!1}n=n.return}while(n!==null);return!1}var Wp=Error(N(461)),Lt=!1;function Jt(e,t,n,i){t.child=e===null?Kp(t,null,n,i):Za(t,e.child,n,i)}function Ug(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}else s=i;return Fr(t),i=$h(e,t,n,s,a,r),o=Xh(),e!==null&&!Lt?(Zh(e,t,r),Pi(e,t,r)):(F&&o&&Hh(t),t.flags|=1,Jt(e,t,i,r),t.child)}function Lg(e,t,n,i,r){if(e===null){var a=n.type;return typeof a=="function"&&!Jh(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,tv(e,t,a,i,r)):(e=pl(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!rd(e,r)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:eo,n(s,i)&&e.ref===t.ref)return Pi(e,t,r)}return t.flags|=1,e=Li(a,i),e.ref=t.ref,e.return=t,t.child=e}function tv(e,t,n,i,r){if(e!==null){var a=e.memoizedProps;if(eo(a,i)&&e.ref===t.ref)if(Lt=!1,t.pendingProps=i=a,rd(e,r))e.flags&131072&&(Lt=!0);else return t.lanes=e.lanes,Pi(e,t,r)}return Df(e,t,n,i,r)}function ev(e,t,n){var i=t.pendingProps,r=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=a!==null?a.baseLanes|n:n,e!==null){for(r=t.child=e.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~i}else t.childLanes=0,t.child=null;return qg(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&vl(t,a!==null?a.cachePool:null),a!==null?Ng(t,a):bf(),$p(t);else return t.lanes=t.childLanes=536870912,qg(e,t,a!==null?a.baseLanes|n:n,n)}else a!==null?(vl(t,a.cachePool),Ng(t,a),sr(),t.memoizedState=null):(e!==null&&vl(t,null),bf(),sr());return Jt(e,t,r,n),t.child}function qg(e,t,n,i){var r=Ph();return r=r===null?null:{parent:kt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&vl(t,null),bf(),$p(t),e!==null&&Ro(e,t,i,!0),null}function bl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(N(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Df(e,t,n,i,r){return Fr(t),n=$h(e,t,n,i,void 0,r),i=Xh(),e!==null&&!Lt?(Zh(e,t,r),Pi(e,t,r)):(F&&i&&Hh(t),t.flags|=1,Jt(e,t,n,r),t.child)}function Jg(e,t,n,i,r,a){return Fr(t),t.updateQueue=null,n=gp(t,i,n,r),dp(e),i=Xh(),e!==null&&!Lt?(Zh(e,t,a),Pi(e,t,a)):(F&&i&&Hh(t),t.flags|=1,Jt(e,t,n,a),t.child)}function Hg(e,t,n,i,r){if(Fr(t),t.stateNode===null){var a=xa,s=n.contextType;typeof s=="object"&&s!==null&&(a=Kt(s)),a=new n(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Nf,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},Gh(t),s=n.contextType,a.context=typeof s=="object"&&s!==null?Kt(s):xa,a.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(wc(t,n,s,i),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Nf.enqueueReplaceState(a,a.state,null),Hs(t,i,a,r),Js(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){a=t.stateNode;var o=t.memoizedProps,l=ta(n,o);a.props=l;var c=a.context,h=n.contextType;s=xa,typeof h=="object"&&h!==null&&(s=Kt(h));var d=n.getDerivedStateFromProps;h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==s)&&Mg(t,a,i,s),ir=!1;var m=t.memoizedState;a.state=m,Hs(t,i,a,r),Js(),c=t.memoizedState,o||m!==c||ir?(typeof d=="function"&&(wc(t,n,d,i),c=t.memoizedState),(l=ir||Ig(t,n,l,i,m,c,s))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=s,i=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Sf(e,t),s=t.memoizedProps,h=ta(n,s),a.props=h,d=t.pendingProps,m=a.context,c=n.contextType,l=xa,typeof c=="object"&&c!==null&&(l=Kt(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||m!==l)&&Mg(t,a,i,l),ir=!1,m=t.memoizedState,a.state=m,Hs(t,i,a,r),Js();var g=t.memoizedState;s!==d||m!==g||ir||e!==null&&e.dependencies!==null&&jl(e.dependencies)?(typeof o=="function"&&(wc(t,n,o,i),g=t.memoizedState),(h=ir||Ig(t,n,h,i,m,g,l)||e!==null&&e.dependencies!==null&&jl(e.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,g,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),a.props=i,a.state=g,a.context=l,i=h):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,bl(e,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&i?(t.child=Za(t,e.child,null,r),t.child=Za(t,null,n,r)):Jt(e,t,n,r),t.memoizedState=a.state,e=t.child):e=Pi(e,t,r),e}function Vg(e,t,n,i){return Co(),t.flags|=256,Jt(e,t,n,i),t.child}var Ec={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nc(e){return{baseLanes:e,cachePool:lp()}}function xc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Le),e}function nv(e,t,n){var i=t.pendingProps,r=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(Bt.current&2)!==0),s&&(r=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(F){if(r?ar(t):sr(),F){var o=pt,l;if(l=o){t:{for(l=o,o=an;l.nodeType!==8;){if(!o){o=null;break t}if(l=Qe(l.nextSibling),l===null){o=null;break t}}o=l}o!==null?(t.memoizedState={dehydrated:o,treeContext:Gr!==null?{id:Ri,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},l=fe(18,null,null,0),l.stateNode=o,l.return=t,t.child=l,Zt=t,pt=null,l=!0):l=!1}l||_r(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Vf(o)?t.lanes=32:t.lanes=536870912,null;Ii(t)}return o=i.children,i=i.fallback,r?(sr(),r=t.mode,o=Ql({mode:"hidden",children:o},r),i=Pr(i,r,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,r=t.child,r.memoizedState=Nc(n),r.childLanes=xc(e,s,n),t.memoizedState=Ec,i):(ar(t),Of(t,o))}if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(a)t.flags&256?(ar(t),t.flags&=-257,t=Dc(e,t,n)):t.memoizedState!==null?(sr(),t.child=e.child,t.flags|=128,t=null):(sr(),r=i.fallback,o=t.mode,i=Ql({mode:"visible",children:i.children},o),r=Pr(r,o,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,Za(t,e.child,null,n),i=t.child,i.memoizedState=Nc(n),i.childLanes=xc(e,s,n),t.memoizedState=Ec,t=r);else if(ar(t),Vf(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,i=Error(N(419)),i.stack="",i.digest=s,no({value:i,source:null,stack:null}),t=Dc(e,t,n)}else if(Lt||Ro(e,t,n,!1),s=(n&e.childLanes)!==0,Lt||s){if(s=lt,s!==null&&(i=n&-n,i=i&42?1:Oh(i),i=i&(s.suspendedLanes|n)?0:i,i!==0&&i!==l.retryLane))throw l.retryLane=i,hs(e,i),pe(s,e,i),Wp;o.data==="$?"||Mf(),t=Dc(e,t,n)}else o.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,pt=Qe(o.nextSibling),Zt=t,F=!0,Yr=null,an=!1,e!==null&&(we[Ee++]=Ri,we[Ee++]=ki,we[Ee++]=Gr,Ri=e.id,ki=e.overflow,Gr=t),t=Of(t,i.children),t.flags|=4096);return t}return r?(sr(),r=i.fallback,o=t.mode,l=e.child,c=l.sibling,i=Li(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&65011712,c!==null?r=Li(c,r):(r=Pr(r,o,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,o=e.child.memoizedState,o===null?o=Nc(n):(l=o.cachePool,l!==null?(c=kt._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=lp(),o={baseLanes:o.baseLanes|n,cachePool:l}),r.memoizedState=o,r.childLanes=xc(e,s,n),t.memoizedState=Ec,i):(ar(t),n=e.child,e=n.sibling,n=Li(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Of(e,t){return t=Ql({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ql(e,t){return e=fe(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Dc(e,t,n){return Za(t,e.child,null,n),e=Of(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jg(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),mf(e.return,t,n)}function Oc(e,t,n,i,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function iv(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(Jt(e,t,i.children,n),i=Bt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jg(e,n,t);else if(e.tag===19)jg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(dt(Bt,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&$l(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Oc(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&$l(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Oc(t,!0,n,null,a);break;case"together":Oc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dr|=t.lanes,!(n&t.childLanes))if(e!==null){if(Ro(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=Li(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Li(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rd(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&jl(e)))}function ub(e,t,n){switch(t.tag){case 3:Ml(t,t.stateNode.containerInfo),rr(t,kt,e.memoizedState.cache),Co();break;case 27:case 5:nf(t);break;case 4:Ml(t,t.stateNode.containerInfo);break;case 10:rr(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ar(t),t.flags|=128,null):n&t.child.childLanes?nv(e,t,n):(ar(t),e=Pi(e,t,n),e!==null?e.sibling:null);ar(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Ro(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return iv(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),dt(Bt,Bt.current),i)break;return null;case 22:case 23:return t.lanes=0,ev(e,t,n);case 24:rr(t,kt,e.memoizedState.cache)}return Pi(e,t,n)}function rv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Lt=!0;else{if(!rd(e,n)&&!(t.flags&128))return Lt=!1,ub(e,t,n);Lt=!!(e.flags&131072)}else Lt=!1,F&&t.flags&1048576&&sp(t,Vl,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")Jh(i)?(e=ta(i,e),t.tag=1,t=Hg(null,t,i,e,n)):(t.tag=0,t=Df(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===Nh){t.tag=11,t=Ug(null,t,i,e,n);break t}else if(r===xh){t.tag=14,t=Lg(null,t,i,e,n);break t}}throw t=tf(i)||i,Error(N(306,t,""))}}return t;case 0:return Df(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=ta(i,t.pendingProps),Hg(e,t,i,r,n);case 3:t:{if(Ml(t,t.stateNode.containerInfo),e===null)throw Error(N(387));i=t.pendingProps;var a=t.memoizedState;r=a.element,Sf(e,t),Hs(t,i,null,n);var s=t.memoizedState;if(i=s.cache,rr(t,kt,i),i!==a.cache&&yf(t,[kt],n,!0),Js(),i=s.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=Vg(e,t,i,n);break t}else if(i!==r){r=Ue(Error(N(424)),t),no(r),t=Vg(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(pt=Qe(e.firstChild),Zt=t,F=!0,Yr=null,an=!0,n=Kp(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Co(),i===r){t=Pi(e,t,n);break t}Jt(e,t,i,n)}t=t.child}return t;case 26:return bl(e,t),e===null?(n=am(t.type,null,t.pendingProps,null))?t.memoizedState=n:F||(n=t.type,e=t.pendingProps,i=iu(dr.current).createElement(n),i[Yt]=t,i[re]=e,jt(i,n,e),Ut(i),t.stateNode=i):t.memoizedState=am(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return nf(t),e===null&&F&&(i=t.stateNode=Gv(t.type,t.pendingProps,dr.current),Zt=t,an=!0,r=pt,Br(t.type)?(jf=r,pt=Qe(i.firstChild)):pt=r),Jt(e,t,t.pendingProps.children,n),bl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&F&&((r=i=pt)&&(i=Lb(i,t.type,t.pendingProps,an),i!==null?(t.stateNode=i,Zt=t,pt=Qe(i.firstChild),an=!1,r=!0):r=!1),r||_r(t)),nf(t),r=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,Jf(r,a)?i=null:s!==null&&Jf(r,s)&&(t.flags|=32),t.memoizedState!==null&&(r=$h(e,t,eb,null,null,n),lo._currentValue=r),bl(e,t),Jt(e,t,i,n),t.child;case 6:return e===null&&F&&((e=n=pt)&&(n=qb(n,t.pendingProps,an),n!==null?(t.stateNode=n,Zt=t,pt=null,e=!0):e=!1),e||_r(t)),null;case 13:return nv(e,t,n);case 4:return Ml(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Za(t,null,i,n):Jt(e,t,i,n),t.child;case 11:return Ug(e,t,t.type,t.pendingProps,n);case 7:return Jt(e,t,t.pendingProps,n),t.child;case 8:return Jt(e,t,t.pendingProps.children,n),t.child;case 12:return Jt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,rr(t,t.type,i.value),Jt(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Fr(t),r=Kt(r),i=i(r),t.flags|=1,Jt(e,t,i,n),t.child;case 14:return Lg(e,t,t.type,t.pendingProps,n);case 15:return tv(e,t,t.type,t.pendingProps,n);case 19:return iv(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=Ql(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Li(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return ev(e,t,n);case 24:return Fr(t),i=Kt(kt),e===null?(r=Ph(),r===null&&(r=lt,a=jh(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:i,cache:r},Gh(t),rr(t,kt,r)):(e.lanes&n&&(Sf(e,t),Hs(t,null,null,n),Js()),r=e.memoizedState,a=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),rr(t,kt,i)):(i=a.cache,rr(t,kt,i),i!==r.cache&&yf(t,[kt],n,!0))),Jt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(N(156,t.tag))}function Nn(e){e.flags|=4}function Pg(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!$v(t)){if(t=Ve.current,t!==null&&((Q&4194048)===Q?Sn!==null:(Q&62914560)!==Q&&!(Q&536870912)||t!==Sn))throw Ls=vf,up;e.flags|=8192}}function il(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ry():536870912,e.lanes|=t,Qa|=t)}function bs(e,t){if(!F)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function cb(e,t,n){var i=t.pendingProps;switch(Vh(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return gt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),qi(kt),Pa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ss(t)?Nn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sg())),gt(t),null;case 26:return n=t.memoizedState,e===null?(Nn(t),n!==null?(gt(t),Pg(t,n)):(gt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Nn(t),gt(t),Pg(t,n)):(gt(t),t.flags&=-16777217):(e.memoizedProps!==i&&Nn(t),gt(t),t.flags&=-16777217),null;case 27:zl(t),n=dr.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Nn(t);else{if(!i){if(t.stateNode===null)throw Error(N(166));return gt(t),null}e=pn.current,Ss(t)?pg(t):(e=Gv(r,i,n),t.stateNode=e,Nn(t))}return gt(t),null;case 5:if(zl(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Nn(t);else{if(!i){if(t.stateNode===null)throw Error(N(166));return gt(t),null}if(e=pn.current,Ss(t))pg(t);else{switch(r=iu(dr.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[Yt]=t,e[re]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(jt(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Nn(t)}}return gt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Nn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(N(166));if(e=dr.current,Ss(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=Zt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Yt]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Vv(e.nodeValue,n)),e||_r(t)}else e=iu(e).createTextNode(i),e[Yt]=t,t.stateNode=e}return gt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ss(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(N(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(N(317));r[Yt]=t}else Co(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),r=!1}else r=Sg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Ii(t),t):(Ii(t),null)}if(Ii(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var a=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),il(t,t.updateQueue),gt(t),null;case 4:return Pa(),e===null&&hd(t.stateNode.containerInfo),gt(t),null;case 10:return qi(t.type),gt(t),null;case 19:if(qt(Bt),r=t.memoizedState,r===null)return gt(t),null;if(i=(t.flags&128)!==0,a=r.rendering,a===null)if(i)bs(r,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=$l(e),a!==null){for(t.flags|=128,bs(r,!1),e=a.updateQueue,t.updateQueue=e,il(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ap(n,e),n=n.sibling;return dt(Bt,Bt.current&1|2),t.child}e=e.sibling}r.tail!==null&&vn()>Fl&&(t.flags|=128,i=!0,bs(r,!1),t.lanes=4194304)}else{if(!i)if(e=$l(a),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,il(t,e),bs(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!F)return gt(t),null}else 2*vn()-r.renderingStartTime>Fl&&n!==536870912&&(t.flags|=128,i=!0,bs(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=vn(),t.sibling=null,e=Bt.current,dt(Bt,i?e&1|2:e&1),t):(gt(t),null);case 22:case 23:return Ii(t),Yh(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),n=t.updateQueue,n!==null&&il(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&qt(Kr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),qi(kt),gt(t),null;case 25:return null;case 30:return null}throw Error(N(156,t.tag))}function fb(e,t){switch(Vh(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qi(kt),Pa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return zl(t),null;case 13:if(Ii(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qt(Bt),null;case 4:return Pa(),null;case 10:return qi(t.type),null;case 22:case 23:return Ii(t),Yh(),e!==null&&qt(Kr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return qi(kt),null;case 25:return null;default:return null}}function av(e,t){switch(Vh(t),t.tag){case 3:qi(kt),Pa();break;case 26:case 27:case 5:zl(t);break;case 4:Pa();break;case 13:Ii(t);break;case 19:qt(Bt);break;case 10:qi(t.type);break;case 22:case 23:Ii(t),Yh(),e!==null&&qt(Kr);break;case 24:qi(kt)}}function zo(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create,s=n.inst;i=a(),s.destroy=i}n=n.next}while(n!==r)}}catch(o){ot(t,t.return,o)}}function xr(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var a=r.next;i=a;do{if((i.tag&e)===e){var s=i.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,r=t;var l=n,c=o;try{c()}catch(h){ot(r,l,h)}}}i=i.next}while(i!==a)}}catch(h){ot(t,t.return,h)}}function sv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{hp(t,n)}catch(i){ot(e,e.return,i)}}}function ov(e,t,n){n.props=ta(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){ot(e,t,i)}}function js(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){ot(e,t,r)}}function on(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){ot(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){ot(e,t,r)}else n.current=null}function lv(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){ot(e,e.return,r)}}function Cc(e,t,n){try{var i=e.stateNode;Bb(i,e.type,n,t),i[re]=t}catch(r){ot(e,e.return,r)}}function uv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Br(e.type)||e.tag===4}function Rc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||uv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Br(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Qu));else if(i!==4&&(i===27&&Br(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Cf(e,t,n),e=e.sibling;e!==null;)Cf(e,t,n),e=e.sibling}function _l(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Br(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(_l(e,t,n),e=e.sibling;e!==null;)_l(e,t,n),e=e.sibling}function cv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);jt(t,i,n),t[Yt]=e,t[re]=n}catch(a){ot(e,e.return,a)}}var Di=!1,wt=!1,kc=!1,Gg=typeof WeakSet=="function"?WeakSet:Set,zt=null;function hb(e,t){if(e=e.containerInfo,Lf=ou,e=_y(e),Uh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break t}var s=0,o=-1,l=-1,c=0,h=0,d=e,m=null;e:for(;;){for(var g;d!==n||r!==0&&d.nodeType!==3||(o=s+r),d!==a||i!==0&&d.nodeType!==3||(l=s+i),d.nodeType===3&&(s+=d.nodeValue.length),(g=d.firstChild)!==null;)m=d,d=g;for(;;){if(d===e)break e;if(m===n&&++c===r&&(o=s),m===a&&++h===i&&(l=s),(g=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=g}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qf={focusedElem:e,selectionRange:n},ou=!1,zt=t;zt!==null;)if(t=zt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,zt=e;else for(;zt!==null;){switch(t=zt,a=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var T=ta(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(T,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(w){ot(n,n.return,w)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Hf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(N(163))}if(e=t.sibling,e!==null){e.return=t.return,zt=e;break}zt=t.return}}function fv(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Qi(e,n),i&4&&zo(5,n);break;case 1:if(Qi(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){ot(n,n.return,s)}else{var r=ta(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){ot(n,n.return,s)}}i&64&&sv(n),i&512&&js(n,n.return);break;case 3:if(Qi(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{hp(e,t)}catch(s){ot(n,n.return,s)}}break;case 27:t===null&&i&4&&cv(n);case 26:case 5:Qi(e,n),t===null&&i&4&&lv(n),i&512&&js(n,n.return);break;case 12:Qi(e,n);break;case 13:Qi(e,n),i&4&&gv(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=bb.bind(null,n),Jb(e,n))));break;case 22:if(i=n.memoizedState!==null||Di,!i){t=t!==null&&t.memoizedState!==null||wt,r=Di;var a=wt;Di=i,(wt=t)&&!a?Wi(e,n,(n.subtreeFlags&8772)!==0):Qi(e,n),Di=r,wt=a}break;case 30:break;default:Qi(e,n)}}function hv(e){var t=e.alternate;t!==null&&(e.alternate=null,hv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Rh(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ct=null,Wt=!1;function xn(e,t,n){for(n=n.child;n!==null;)dv(e,t,n),n=n.sibling}function dv(e,t,n){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(Eo,n)}catch{}switch(n.tag){case 26:wt||on(n,t),xn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:wt||on(n,t);var i=ct,r=Wt;Br(n.type)&&(ct=n.stateNode,Wt=!1),xn(e,t,n),Ks(n.stateNode),ct=i,Wt=r;break;case 5:wt||on(n,t);case 6:if(i=ct,r=Wt,ct=null,xn(e,t,n),ct=i,Wt=r,ct!==null)if(Wt)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(n.stateNode)}catch(a){ot(n,t,a)}else try{ct.removeChild(n.stateNode)}catch(a){ot(n,t,a)}break;case 18:ct!==null&&(Wt?(e=ct,nm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),fo(e)):nm(ct,n.stateNode));break;case 4:i=ct,r=Wt,ct=n.stateNode.containerInfo,Wt=!0,xn(e,t,n),ct=i,Wt=r;break;case 0:case 11:case 14:case 15:wt||xr(2,n,t),wt||xr(4,n,t),xn(e,t,n);break;case 1:wt||(on(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&ov(n,t,i)),xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:wt=(i=wt)||n.memoizedState!==null,xn(e,t,n),wt=i;break;default:xn(e,t,n)}}function gv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fo(e)}catch(n){ot(t,t.return,n)}}function db(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Gg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Gg),t;default:throw Error(N(435,e.tag))}}function Bc(e,t){var n=db(e);t.forEach(function(i){var r=Ab.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function le(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],a=e,s=t,o=s;t:for(;o!==null;){switch(o.tag){case 27:if(Br(o.type)){ct=o.stateNode,Wt=!1;break t}break;case 5:ct=o.stateNode,Wt=!1;break t;case 3:case 4:ct=o.stateNode.containerInfo,Wt=!0;break t}o=o.return}if(ct===null)throw Error(N(160));dv(a,s,r),ct=null,Wt=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)mv(t,e),t=t.sibling}var $e=null;function mv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:le(t,e),ue(e),i&4&&(xr(3,e,e.return),zo(3,e),xr(5,e,e.return));break;case 1:le(t,e),ue(e),i&512&&(wt||n===null||on(n,n.return)),i&64&&Di&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=$e;if(le(t,e),ue(e),i&512&&(wt||n===null||on(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":a=r.getElementsByTagName("title")[0],(!a||a[Do]||a[Yt]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),jt(a,i,n),a[Yt]=e,Ut(a),i=a;break t;case"link":var s=om("link","href",r).get(i+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break e}}a=r.createElement(i),jt(a,i,n),r.head.appendChild(a);break;case"meta":if(s=om("meta","content",r).get(i+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break e}}a=r.createElement(i),jt(a,i,n),r.head.appendChild(a);break;default:throw Error(N(468,i))}a[Yt]=e,Ut(a),i=a}e.stateNode=i}else lm(r,e.type,e.stateNode);else e.stateNode=sm(r,i,e.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?lm(r,e.type,e.stateNode):sm(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Cc(e,e.memoizedProps,n.memoizedProps)}break;case 27:le(t,e),ue(e),i&512&&(wt||n===null||on(n,n.return)),n!==null&&i&4&&Cc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(le(t,e),ue(e),i&512&&(wt||n===null||on(n,n.return)),e.flags&32){r=e.stateNode;try{Ya(r,"")}catch(g){ot(e,e.return,g)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Cc(e,r,n!==null?n.memoizedProps:r)),i&1024&&(kc=!0);break;case 6:if(le(t,e),ue(e),i&4){if(e.stateNode===null)throw Error(N(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(g){ot(e,e.return,g)}}break;case 3:if(El=null,r=$e,$e=ru(t.containerInfo),le(t,e),$e=r,ue(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{fo(t.containerInfo)}catch(g){ot(e,e.return,g)}kc&&(kc=!1,yv(e));break;case 4:i=$e,$e=ru(e.stateNode.containerInfo),le(t,e),ue(e),$e=i;break;case 12:le(t,e),ue(e);break;case 13:le(t,e),ue(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ud=vn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Bc(e,i)));break;case 22:r=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=Di,h=wt;if(Di=c||r,wt=h||l,le(t,e),wt=h,Di=c,ue(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||l||Di||wt||Lr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(a=l.stateNode,r)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var d=l.memoizedProps.style,m=d!=null&&d.hasOwnProperty("display")?d.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(g){ot(l,l.return,g)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=r?"":l.memoizedProps}catch(g){ot(l,l.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Bc(e,n))));break;case 19:le(t,e),ue(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Bc(e,i)));break;case 30:break;case 21:break;default:le(t,e),ue(e)}}function ue(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(uv(i)){n=i;break}i=i.return}if(n==null)throw Error(N(160));switch(n.tag){case 27:var r=n.stateNode,a=Rc(e);_l(e,a,r);break;case 5:var s=n.stateNode;n.flags&32&&(Ya(s,""),n.flags&=-33);var o=Rc(e);_l(e,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,c=Rc(e);Cf(e,c,l);break;default:throw Error(N(161))}}catch(h){ot(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;yv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Qi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)fv(e,t.alternate,t),t=t.sibling}function Lr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:xr(4,t,t.return),Lr(t);break;case 1:on(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ov(t,t.return,n),Lr(t);break;case 27:Ks(t.stateNode);case 26:case 5:on(t,t.return),Lr(t);break;case 22:t.memoizedState===null&&Lr(t);break;case 30:Lr(t);break;default:Lr(t)}e=e.sibling}}function Wi(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(r,a,n),zo(4,a);break;case 1:if(Wi(r,a,n),i=a,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){ot(i,i.return,c)}if(i=a,r=i.updateQueue,r!==null){var o=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(l!==null)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)fp(l[r],o)}catch(c){ot(i,i.return,c)}}n&&s&64&&sv(a),js(a,a.return);break;case 27:cv(a);case 26:case 5:Wi(r,a,n),n&&i===null&&s&4&&lv(a),js(a,a.return);break;case 12:Wi(r,a,n);break;case 13:Wi(r,a,n),n&&s&4&&gv(r,a);break;case 22:a.memoizedState===null&&Wi(r,a,n),js(a,a.return);break;case 30:break;default:Wi(r,a,n)}t=t.sibling}}function ad(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ko(n))}function sd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ko(e))}function en(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pv(e,t,n,i),t=t.sibling}function pv(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:en(e,t,n,i),r&2048&&zo(9,t);break;case 1:en(e,t,n,i);break;case 3:en(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ko(e)));break;case 12:if(r&2048){en(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ot(t,t.return,l)}}else en(e,t,n,i);break;case 13:en(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,t.memoizedState!==null?a._visibility&2?en(e,t,n,i):Ps(e,t):a._visibility&2?en(e,t,n,i):(a._visibility|=2,ma(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&ad(s,t);break;case 24:en(e,t,n,i),r&2048&&sd(t.alternate,t);break;default:en(e,t,n,i)}}function ma(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=e,s=t,o=n,l=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:ma(a,s,o,l,r),zo(8,s);break;case 23:break;case 22:var h=s.stateNode;s.memoizedState!==null?h._visibility&2?ma(a,s,o,l,r):Ps(a,s):(h._visibility|=2,ma(a,s,o,l,r)),r&&c&2048&&ad(s.alternate,s);break;case 24:ma(a,s,o,l,r),r&&c&2048&&sd(s.alternate,s);break;default:ma(a,s,o,l,r)}t=t.sibling}}function Ps(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Ps(n,i),r&2048&&ad(i.alternate,i);break;case 24:Ps(n,i),r&2048&&sd(i.alternate,i);break;default:Ps(n,i)}t=t.sibling}}var Rs=8192;function ua(e){if(e.subtreeFlags&Rs)for(e=e.child;e!==null;)vv(e),e=e.sibling}function vv(e){switch(e.tag){case 26:ua(e),e.flags&Rs&&e.memoizedState!==null&&Fb($e,e.memoizedState,e.memoizedProps);break;case 5:ua(e);break;case 3:case 4:var t=$e;$e=ru(e.stateNode.containerInfo),ua(e),$e=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Rs,Rs=16777216,ua(e),Rs=t):ua(e));break;default:ua(e)}}function Sv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function As(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];zt=i,bv(i,e)}Sv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Tv(e),e=e.sibling}function Tv(e){switch(e.tag){case 0:case 11:case 15:As(e),e.flags&2048&&xr(9,e,e.return);break;case 3:As(e);break;case 12:As(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Al(e)):As(e);break;default:As(e)}}function Al(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];zt=i,bv(i,e)}Sv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:xr(8,t,t.return),Al(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Al(t));break;default:Al(t)}e=e.sibling}}function bv(e,t){for(;zt!==null;){var n=zt;switch(n.tag){case 0:case 11:case 15:xr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ko(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,zt=i;else t:for(n=e;zt!==null;){i=zt;var r=i.sibling,a=i.return;if(hv(i),i===n){zt=null;break t}if(r!==null){r.return=a,zt=r;break t}zt=a}}}var gb={getCacheForType:function(e){var t=Kt(kt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},mb=typeof WeakMap=="function"?WeakMap:Map,it=0,lt=null,K=null,Q=0,et=0,ce=null,cr=!1,ds=!1,od=!1,Gi=0,vt=0,Dr=0,$r=0,ld=0,Le=0,Qa=0,Gs=null,te=null,Rf=!1,ud=0,Fl=1/0,Wl=null,yr=null,Vt=0,pr=null,_a=null,Ja=0,kf=0,Bf=null,Av=null,Ys=0,If=null;function ye(){if(it&2&&Q!==0)return Q&-Q;if(q.T!==null){var e=Ka;return e!==0?e:fd()}return Iy()}function wv(){Le===0&&(Le=!(Q&536870912)||F?Cy():536870912);var e=Ve.current;return e!==null&&(e.flags|=32),Le}function pe(e,t,n){(e===lt&&(et===2||et===9)||e.cancelPendingCommit!==null)&&(Fa(e,0),fr(e,Q,Le,!1)),xo(e,n),(!(it&2)||e!==lt)&&(e===lt&&(!(it&2)&&($r|=n),vt===4&&fr(e,Q,Le,!1)),wn(e))}function Ev(e,t,n){if(it&6)throw Error(N(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||No(e,t),r=i?vb(e,t):Ic(e,t,!0),a=i;do{if(r===0){ds&&!i&&fr(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!yb(n)){r=Ic(e,t,!1),a=!1;continue}if(r===2){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;t:{var o=e;r=Gs;var l=o.current.memoizedState.isDehydrated;if(l&&(Fa(o,s).flags|=256),s=Ic(o,s,!1),s!==2){if(od&&!l){o.errorRecoveryDisabledLanes|=a,$r|=a,r=4;break t}a=te,te=r,a!==null&&(te===null?te=a:te.push.apply(te,a))}r=s}if(a=!1,r!==2)continue}}if(r===1){Fa(e,0),fr(e,t,0,!0);break}t:{switch(i=e,a=r,a){case 0:case 1:throw Error(N(345));case 4:if((t&4194048)!==t)break;case 6:fr(i,t,Le,!cr);break t;case 2:te=null;break;case 3:case 5:break;default:throw Error(N(329))}if((t&62914560)===t&&(r=ud+300-vn(),10<r)){if(fr(i,t,Le,!cr),Lu(i,0,!0)!==0)break t;i.timeoutHandle=Pv(Yg.bind(null,i,n,te,Wl,Rf,t,Le,$r,Qa,cr,a,2,-0,0),r);break t}Yg(i,n,te,Wl,Rf,t,Le,$r,Qa,cr,a,0,-0,0)}}break}while(!0);wn(e)}function Yg(e,t,n,i,r,a,s,o,l,c,h,d,m,g){if(e.timeoutHandle=-1,d=t.subtreeFlags,(d&8192||(d&16785408)===16785408)&&(oo={stylesheets:null,count:0,unsuspend:_b},vv(t),d=Wb(),d!==null)){e.cancelPendingCommit=d($g.bind(null,e,t,a,n,i,r,s,o,l,h,1,m,g)),fr(e,a,s,!c);return}$g(e,t,a,n,i,r,s,o,l)}function yb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!Te(a(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fr(e,t,n,i){t&=~ld,t&=~$r,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-me(r),s=1<<a;i[a]=-1,r&=~s}n!==0&&ky(e,n,t)}function $u(){return it&6?!0:(Uo(0),!1)}function cd(){if(K!==null){if(et===0)var e=K.return;else e=K,Bi=oa=null,Qh(e),qa=null,ro=0,e=K;for(;e!==null;)av(e.alternate,e),e=e.return;K=null}}function Fa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Mb(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),cd(),lt=e,K=n=Li(e.current,null),Q=t,et=0,ce=null,cr=!1,ds=No(e,t),od=!1,Qa=Le=ld=$r=Dr=vt=0,te=Gs=null,Rf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-me(i),a=1<<r;t|=e[r],i&=~a}return Gi=t,Vu(),n}function Nv(e,t){j=null,q.H=Kl,t===Bo||t===Pu?(t=wg(),et=3):t===up?(t=wg(),et=4):et=t===Wp?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ce=t,K===null&&(vt=1,Zl(e,Ue(t,e.current)))}function xv(){var e=q.H;return q.H=Kl,e===null?Kl:e}function Dv(){var e=q.A;return q.A=gb,e}function Mf(){vt=4,cr||(Q&4194048)!==Q&&Ve.current!==null||(ds=!0),!(Dr&134217727)&&!($r&134217727)||lt===null||fr(lt,Q,Le,!1)}function Ic(e,t,n){var i=it;it|=2;var r=xv(),a=Dv();(lt!==e||Q!==t)&&(Wl=null,Fa(e,t)),t=!1;var s=vt;t:do try{if(et!==0&&K!==null){var o=K,l=ce;switch(et){case 8:cd(),s=6;break t;case 3:case 2:case 9:case 6:Ve.current===null&&(t=!0);var c=et;if(et=0,ce=null,Ca(e,o,l,c),n&&ds){s=0;break t}break;default:c=et,et=0,ce=null,Ca(e,o,l,c)}}pb(),s=vt;break}catch(h){Nv(e,h)}while(!0);return t&&e.shellSuspendCounter++,Bi=oa=null,it=i,q.H=r,q.A=a,K===null&&(lt=null,Q=0,Vu()),s}function pb(){for(;K!==null;)Ov(K)}function vb(e,t){var n=it;it|=2;var i=xv(),r=Dv();lt!==e||Q!==t?(Wl=null,Fl=vn()+500,Fa(e,t)):ds=No(e,t);t:do try{if(et!==0&&K!==null){t=K;var a=ce;e:switch(et){case 1:et=0,ce=null,Ca(e,t,a,1);break;case 2:case 9:if(Ag(a)){et=0,ce=null,Kg(t);break}t=function(){et!==2&&et!==9||lt!==e||(et=7),wn(e)},a.then(t,t);break t;case 3:et=7;break t;case 4:et=5;break t;case 7:Ag(a)?(et=0,ce=null,Kg(t)):(et=0,ce=null,Ca(e,t,a,7));break;case 5:var s=null;switch(K.tag){case 26:s=K.memoizedState;case 5:case 27:var o=K;if(!s||$v(s)){et=0,ce=null;var l=o.sibling;if(l!==null)K=l;else{var c=o.return;c!==null?(K=c,Xu(c)):K=null}break e}}et=0,ce=null,Ca(e,t,a,5);break;case 6:et=0,ce=null,Ca(e,t,a,6);break;case 8:cd(),vt=6;break t;default:throw Error(N(462))}}Sb();break}catch(h){Nv(e,h)}while(!0);return Bi=oa=null,q.H=i,q.A=r,it=n,K!==null?0:(lt=null,Q=0,Vu(),vt)}function Sb(){for(;K!==null&&!VS();)Ov(K)}function Ov(e){var t=rv(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,t===null?Xu(e):K=t}function Kg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Jg(n,t,t.pendingProps,t.type,void 0,Q);break;case 11:t=Jg(n,t,t.pendingProps,t.type.render,t.ref,Q);break;case 5:Qh(t);default:av(n,t),t=K=ap(t,Gi),t=rv(n,t,Gi)}e.memoizedProps=e.pendingProps,t===null?Xu(e):K=t}function Ca(e,t,n,i){Bi=oa=null,Qh(t),qa=null,ro=0;var r=t.return;try{if(lb(e,r,t,n,Q)){vt=1,Zl(e,Ue(n,e.current)),K=null;return}}catch(a){if(r!==null)throw K=r,a;vt=1,Zl(e,Ue(n,e.current)),K=null;return}t.flags&32768?(F||i===1?e=!0:ds||Q&536870912?e=!1:(cr=e=!0,(i===2||i===9||i===3||i===6)&&(i=Ve.current,i!==null&&i.tag===13&&(i.flags|=16384))),Cv(t,e)):Xu(t)}function Xu(e){var t=e;do{if(t.flags&32768){Cv(t,cr);return}e=t.return;var n=cb(t.alternate,t,Gi);if(n!==null){K=n;return}if(t=t.sibling,t!==null){K=t;return}K=t=e}while(t!==null);vt===0&&(vt=5)}function Cv(e,t){do{var n=fb(e.alternate,e);if(n!==null){n.flags&=32767,K=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){K=e;return}K=e=n}while(e!==null);vt=6,K=null}function $g(e,t,n,i,r,a,s,o,l){e.cancelPendingCommit=null;do Zu();while(Vt!==0);if(it&6)throw Error(N(327));if(t!==null){if(t===e.current)throw Error(N(177));if(a=t.lanes|t.childLanes,a|=Lh,_S(e,n,a,s,o,l),e===lt&&(K=lt=null,Q=0),_a=t,pr=e,Ja=n,kf=a,Bf=r,Av=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,wb(Ul,function(){return Mv(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=q.T,q.T=null,r=W.p,W.p=2,s=it,it|=4;try{hb(e,t,n)}finally{it=s,W.p=r,q.T=i}}Vt=1,Rv(),kv(),Bv()}}function Rv(){if(Vt===1){Vt=0;var e=pr,t=_a,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=q.T,q.T=null;var i=W.p;W.p=2;var r=it;it|=4;try{mv(t,e);var a=qf,s=_y(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&Qy(o.ownerDocument.documentElement,o)){if(l!==null&&Uh(o)){var c=l.start,h=l.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var d=o.ownerDocument||document,m=d&&d.defaultView||window;if(m.getSelection){var g=m.getSelection(),T=o.textContent.length,w=Math.min(l.start,T),O=l.end===void 0?w:Math.min(l.end,T);!g.extend&&w>O&&(s=O,O=w,w=s);var p=gg(o,w),y=gg(o,O);if(p&&y&&(g.rangeCount!==1||g.anchorNode!==p.node||g.anchorOffset!==p.offset||g.focusNode!==y.node||g.focusOffset!==y.offset)){var v=d.createRange();v.setStart(p.node,p.offset),g.removeAllRanges(),w>O?(g.addRange(v),g.extend(y.node,y.offset)):(v.setEnd(y.node,y.offset),g.addRange(v))}}}}for(d=[],g=o;g=g.parentNode;)g.nodeType===1&&d.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<d.length;o++){var A=d[o];A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}ou=!!Lf,qf=Lf=null}finally{it=r,W.p=i,q.T=n}}e.current=t,Vt=2}}function kv(){if(Vt===2){Vt=0;var e=pr,t=_a,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=q.T,q.T=null;var i=W.p;W.p=2;var r=it;it|=4;try{fv(e,t.alternate,t)}finally{it=r,W.p=i,q.T=n}}Vt=3}}function Bv(){if(Vt===4||Vt===3){Vt=0,jS();var e=pr,t=_a,n=Ja,i=Av;t.subtreeFlags&10256||t.flags&10256?Vt=5:(Vt=0,_a=pr=null,Iv(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(yr=null),Ch(n),t=t.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(Eo,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=q.T,r=W.p,W.p=2,q.T=null;try{for(var a=e.onRecoverableError,s=0;s<i.length;s++){var o=i[s];a(o.value,{componentStack:o.stack})}}finally{q.T=t,W.p=r}}Ja&3&&Zu(),wn(e),r=e.pendingLanes,n&4194090&&r&42?e===If?Ys++:(Ys=0,If=e):Ys=0,Uo(0)}}function Iv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ko(t)))}function Zu(e){return Rv(),kv(),Bv(),Mv()}function Mv(){if(Vt!==5)return!1;var e=pr,t=kf;kf=0;var n=Ch(Ja),i=q.T,r=W.p;try{W.p=32>n?32:n,q.T=null,n=Bf,Bf=null;var a=pr,s=Ja;if(Vt=0,_a=pr=null,Ja=0,it&6)throw Error(N(331));var o=it;if(it|=4,Tv(a.current),pv(a,a.current,s,n),it=o,Uo(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(Eo,a)}catch{}return!0}finally{W.p=r,q.T=i,Iv(e,t)}}function Xg(e,t,n){t=Ue(n,t),t=xf(e.stateNode,t,2),e=mr(e,t,2),e!==null&&(xo(e,2),wn(e))}function ot(e,t,n){if(e.tag===3)Xg(e,e,n);else for(;t!==null;){if(t.tag===3){Xg(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(yr===null||!yr.has(i))){e=Ue(n,e),n=_p(2),i=mr(t,n,2),i!==null&&(Fp(n,i,t,e),xo(i,2),wn(i));break}}t=t.return}}function Mc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new mb;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(od=!0,r.add(n),e=Tb.bind(null,e,t,n),t.then(e,e))}function Tb(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,lt===e&&(Q&n)===n&&(vt===4||vt===3&&(Q&62914560)===Q&&300>vn()-ud?!(it&2)&&Fa(e,0):ld|=n,Qa===Q&&(Qa=0)),wn(e)}function zv(e,t){t===0&&(t=Ry()),e=hs(e,t),e!==null&&(xo(e,t),wn(e))}function bb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zv(e,n)}function Ab(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(N(314))}i!==null&&i.delete(t),zv(e,n)}function wb(e,t){return Dh(e,t)}var tu=null,ya=null,zf=!1,eu=!1,zc=!1,Xr=0;function wn(e){e!==ya&&e.next===null&&(ya===null?tu=ya=e:ya=ya.next=e),eu=!0,zf||(zf=!0,Nb())}function Uo(e,t){if(!zc&&eu){zc=!0;do for(var n=!1,i=tu;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var a=0;else{var s=i.suspendedLanes,o=i.pingedLanes;a=(1<<31-me(42|e)+1)-1,a&=r&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Zg(i,a))}else a=Q,a=Lu(i,i===lt?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||No(i,a)||(n=!0,Zg(i,a));i=i.next}while(n);zc=!1}}function Eb(){Uv()}function Uv(){eu=zf=!1;var e=0;Xr!==0&&(Ib()&&(e=Xr),Xr=0);for(var t=vn(),n=null,i=tu;i!==null;){var r=i.next,a=Lv(i,t);a===0?(i.next=null,n===null?tu=r:n.next=r,r===null&&(ya=n)):(n=i,(e!==0||a&3)&&(eu=!0)),i=r}Uo(e)}function Lv(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var s=31-me(a),o=1<<s,l=r[s];l===-1?(!(o&n)||o&i)&&(r[s]=QS(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(t=lt,n=Q,n=Lu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(et===2||et===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&oc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||No(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&oc(i),Ch(n)){case 2:case 8:n=Dy;break;case 32:n=Ul;break;case 268435456:n=Oy;break;default:n=Ul}return i=qv.bind(null,e),n=Dh(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&oc(i),e.callbackPriority=2,e.callbackNode=null,2}function qv(e,t){if(Vt!==0&&Vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Zu()&&e.callbackNode!==n)return null;var i=Q;return i=Lu(e,e===lt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Ev(e,i,t),Lv(e,vn()),e.callbackNode!=null&&e.callbackNode===n?qv.bind(null,e):null)}function Zg(e,t){if(Zu())return null;Ev(e,t,!0)}function Nb(){zb(function(){it&6?Dh(xy,Eb):Uv()})}function fd(){return Xr===0&&(Xr=Cy()),Xr}function Qg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:gl(""+e)}function _g(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function xb(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var a=Qg((r[re]||null).action),s=i.submitter;s&&(t=(t=s[re]||null)?Qg(t.formAction):s.getAttribute("formAction"),t!==null&&(a=t,s=null));var o=new qu("action","action",null,i,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Xr!==0){var l=s?_g(r,s):new FormData(r);Ef(n,{pending:!0,data:l,method:r.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?_g(r,s):new FormData(r),Ef(n,{pending:!0,data:l,method:r.method,action:a},a,l))},currentTarget:r}]})}}for(var Uc=0;Uc<hf.length;Uc++){var Lc=hf[Uc],Db=Lc.toLowerCase(),Ob=Lc[0].toUpperCase()+Lc.slice(1);tn(Db,"on"+Ob)}tn(Wy,"onAnimationEnd");tn(tp,"onAnimationIteration");tn(ep,"onAnimationStart");tn("dblclick","onDoubleClick");tn("focusin","onFocus");tn("focusout","onBlur");tn(YT,"onTransitionRun");tn(KT,"onTransitionStart");tn($T,"onTransitionCancel");tn(np,"onTransitionEnd");Ga("onMouseEnter",["mouseout","mouseover"]);Ga("onMouseLeave",["mouseout","mouseover"]);Ga("onPointerEnter",["pointerout","pointerover"]);Ga("onPointerLeave",["pointerout","pointerover"]);ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ao));function Jv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var a=void 0;if(t)for(var s=i.length-1;0<=s;s--){var o=i[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=c;try{a(r)}catch(h){Xl(h)}r.currentTarget=null,a=l}else for(s=0;s<i.length;s++){if(o=i[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=c;try{a(r)}catch(h){Xl(h)}r.currentTarget=null,a=l}}}}function Y(e,t){var n=t[af];n===void 0&&(n=t[af]=new Set);var i=e+"__bubble";n.has(i)||(Hv(t,e,2,!1),n.add(i))}function qc(e,t,n){var i=0;t&&(i|=4),Hv(n,e,i,t)}var rl="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[rl]){e[rl]=!0,My.forEach(function(n){n!=="selectionchange"&&(Cb.has(n)||qc(n,!1,e),qc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rl]||(t[rl]=!0,qc("selectionchange",!1,t))}}function Hv(e,t,n,i){switch(Fv(t)){case 2:var r=nA;break;case 8:r=iA;break;default:r=yd}n=r.bind(null,t,n,e),r=void 0,!uf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Jc(e,t,n,i,r){var a=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===r)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===r)return;s=s.return}for(;o!==null;){if(s=Ta(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){i=a=s;continue t}o=o.parentNode}}i=i.return}jy(function(){var c=a,h=Bh(n),d=[];t:{var m=ip.get(e);if(m!==void 0){var g=qu,T=e;switch(e){case"keypress":if(yl(n)===0)break t;case"keydown":case"keyup":g=wT;break;case"focusin":T="focus",g=mc;break;case"focusout":T="blur",g=mc;break;case"beforeblur":case"afterblur":g=mc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=fT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=xT;break;case Wy:case tp:case ep:g=gT;break;case np:g=OT;break;case"scroll":case"scrollend":g=uT;break;case"wheel":g=RT;break;case"copy":case"cut":case"paste":g=yT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=sg;break;case"toggle":case"beforetoggle":g=BT}var w=(t&4)!==0,O=!w&&(e==="scroll"||e==="scrollend"),p=w?m!==null?m+"Capture":null:m;w=[];for(var y=c,v;y!==null;){var A=y;if(v=A.stateNode,A=A.tag,A!==5&&A!==26&&A!==27||v===null||p===null||(A=Ws(y,p),A!=null&&w.push(so(y,A,v))),O)break;y=y.return}0<w.length&&(m=new g(m,T,null,n,h),d.push({event:m,listeners:w}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==lf&&(T=n.relatedTarget||n.fromElement)&&(Ta(T)||T[cs]))break t;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(T=n.relatedTarget||n.toElement,g=c,T=T?Ta(T):null,T!==null&&(O=wo(T),w=T.tag,T!==O||w!==5&&w!==27&&w!==6)&&(T=null)):(g=null,T=c),g!==T)){if(w=rg,A="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(w=sg,A="onPointerLeave",p="onPointerEnter",y="pointer"),O=g==null?m:Cs(g),v=T==null?m:Cs(T),m=new w(A,y+"leave",g,n,h),m.target=O,m.relatedTarget=v,A=null,Ta(h)===c&&(w=new w(p,y+"enter",T,n,h),w.target=v,w.relatedTarget=O,A=w),O=A,g&&T)e:{for(w=g,p=T,y=0,v=w;v;v=ca(v))y++;for(v=0,A=p;A;A=ca(A))v++;for(;0<y-v;)w=ca(w),y--;for(;0<v-y;)p=ca(p),v--;for(;y--;){if(w===p||p!==null&&w===p.alternate)break e;w=ca(w),p=ca(p)}w=null}else w=null;g!==null&&Fg(d,m,g,w,!1),T!==null&&O!==null&&Fg(d,O,T,w,!0)}}t:{if(m=c?Cs(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var x=cg;else if(ug(m))if(Xy)x=jT;else{x=HT;var R=JT}else g=m.nodeName,!g||g.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?c&&kh(c.elementType)&&(x=cg):x=VT;if(x&&(x=x(e,c))){$y(d,x,n,h);break t}R&&R(e,m,c),e==="focusout"&&c&&m.type==="number"&&c.memoizedProps.value!=null&&of(m,"number",m.value)}switch(R=c?Cs(c):window,e){case"focusin":(ug(R)||R.contentEditable==="true")&&(wa=R,cf=c,zs=null);break;case"focusout":zs=cf=wa=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,mg(d,n,h);break;case"selectionchange":if(GT)break;case"keydown":case"keyup":mg(d,n,h)}var C;if(zh)t:{switch(e){case"compositionstart":var B="onCompositionStart";break t;case"compositionend":B="onCompositionEnd";break t;case"compositionupdate":B="onCompositionUpdate";break t}B=void 0}else Aa?Yy(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(Gy&&n.locale!=="ko"&&(Aa||B!=="onCompositionStart"?B==="onCompositionEnd"&&Aa&&(C=Py()):(ur=h,Ih="value"in ur?ur.value:ur.textContent,Aa=!0)),R=nu(c,B),0<R.length&&(B=new ag(B,e,null,n,h),d.push({event:B,listeners:R}),C?B.data=C:(C=Ky(n),C!==null&&(B.data=C)))),(C=MT?zT(e,n):UT(e,n))&&(B=nu(c,"onBeforeInput"),0<B.length&&(R=new ag("onBeforeInput","beforeinput",null,n,h),d.push({event:R,listeners:B}),R.data=C)),xb(d,e,c,n,h)}Jv(d,t)})}function so(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=Ws(e,n),r!=null&&i.unshift(so(e,r,a)),r=Ws(e,t),r!=null&&i.push(so(e,r,a))),e.tag===3)return i;e=e.return}return[]}function ca(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fg(e,t,n,i,r){for(var a=t._reactName,s=[];n!==null&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===i)break;o!==5&&o!==26&&o!==27||c===null||(l=c,r?(c=Ws(n,a),c!=null&&s.unshift(so(n,c,l))):r||(c=Ws(n,a),c!=null&&s.push(so(n,c,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Rb=/\r\n?/g,kb=/\u0000|\uFFFD/g;function Wg(e){return(typeof e=="string"?e:""+e).replace(Rb,`
`).replace(kb,"")}function Vv(e,t){return t=Wg(t),Wg(e)===t}function Qu(){}function rt(e,t,n,i,r,a){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ya(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ya(e,""+i);break;case"className":_o(e,"class",i);break;case"tabIndex":_o(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":_o(e,n,i);break;case"style":Vy(e,i,a);break;case"data":if(t!=="object"){_o(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=gl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&rt(e,t,"name",r.name,r,null),rt(e,t,"formEncType",r.formEncType,r,null),rt(e,t,"formMethod",r.formMethod,r,null),rt(e,t,"formTarget",r.formTarget,r,null)):(rt(e,t,"encType",r.encType,r,null),rt(e,t,"method",r.method,r,null),rt(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=gl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Qu);break;case"onScroll":i!=null&&Y("scroll",e);break;case"onScrollEnd":i!=null&&Y("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(N(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(N(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=gl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Y("beforetoggle",e),Y("toggle",e),dl(e,"popover",i);break;case"xlinkActuate":En(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":En(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":En(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":En(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":En(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":En(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":En(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":En(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":En(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":dl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=oT.get(n)||n,dl(e,n,i))}}function Uf(e,t,n,i,r,a){switch(n){case"style":Vy(e,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(N(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(N(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Ya(e,i):(typeof i=="number"||typeof i=="bigint")&&Ya(e,""+i);break;case"onScroll":i!=null&&Y("scroll",e);break;case"onScrollEnd":i!=null&&Y("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zy.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),a=e[re]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,r),typeof i=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):dl(e,n,i)}}}function jt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Y("error",e),Y("load",e);var i=!1,r=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(N(137,t));default:rt(e,t,a,s,n,null)}}r&&rt(e,t,"srcSet",n.srcSet,n,null),i&&rt(e,t,"src",n.src,n,null);return;case"input":Y("invalid",e);var o=a=s=r=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":r=h;break;case"type":s=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":a=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(N(137,t));break;default:rt(e,t,i,h,n,null)}}qy(e,a,o,l,c,s,r,!1),Ll(e);return;case"select":Y("invalid",e),i=s=a=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":i=o;default:rt(e,t,r,o,n,null)}t=a,n=s,e.multiple=!!i,t!=null?Ia(e,!!i,t,!1):n!=null&&Ia(e,!!i,n,!0);return;case"textarea":Y("invalid",e),a=r=i=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":i=o;break;case"defaultValue":r=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(N(91));break;default:rt(e,t,s,o,n,null)}Hy(e,i,r,a),Ll(e);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:rt(e,t,l,i,n,null)}return;case"dialog":Y("beforetoggle",e),Y("toggle",e),Y("cancel",e),Y("close",e);break;case"iframe":case"object":Y("load",e);break;case"video":case"audio":for(i=0;i<ao.length;i++)Y(ao[i],e);break;case"image":Y("error",e),Y("load",e);break;case"details":Y("toggle",e);break;case"embed":case"source":case"link":Y("error",e),Y("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(N(137,t));default:rt(e,t,c,i,n,null)}return;default:if(kh(t)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&Uf(e,t,h,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&rt(e,t,o,i,n,null))}function Bb(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,s=null,o=null,l=null,c=null,h=null;for(g in n){var d=n[g];if(n.hasOwnProperty(g)&&d!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":l=d;default:i.hasOwnProperty(g)||rt(e,t,g,null,i,d)}}for(var m in i){var g=i[m];if(d=n[m],i.hasOwnProperty(m)&&(g!=null||d!=null))switch(m){case"type":a=g;break;case"name":r=g;break;case"checked":c=g;break;case"defaultChecked":h=g;break;case"value":s=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(N(137,t));break;default:g!==d&&rt(e,t,m,g,i,d)}}sf(e,s,o,l,c,h,a,r);return;case"select":g=s=o=m=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":g=l;default:i.hasOwnProperty(a)||rt(e,t,a,null,i,l)}for(r in i)if(a=i[r],l=n[r],i.hasOwnProperty(r)&&(a!=null||l!=null))switch(r){case"value":m=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&rt(e,t,r,a,i,l)}t=o,n=s,i=g,m!=null?Ia(e,!!n,m,!1):!!i!=!!n&&(t!=null?Ia(e,!!n,t,!0):Ia(e,!!n,n?[]:"",!1));return;case"textarea":g=m=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:rt(e,t,o,null,i,r)}for(s in i)if(r=i[s],a=n[s],i.hasOwnProperty(s)&&(r!=null||a!=null))switch(s){case"value":m=r;break;case"defaultValue":g=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(N(91));break;default:r!==a&&rt(e,t,s,r,i,a)}Jy(e,m,g);return;case"option":for(var T in n)if(m=n[T],n.hasOwnProperty(T)&&m!=null&&!i.hasOwnProperty(T))switch(T){case"selected":e.selected=!1;break;default:rt(e,t,T,null,i,m)}for(l in i)if(m=i[l],g=n[l],i.hasOwnProperty(l)&&m!==g&&(m!=null||g!=null))switch(l){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:rt(e,t,l,m,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var w in n)m=n[w],n.hasOwnProperty(w)&&m!=null&&!i.hasOwnProperty(w)&&rt(e,t,w,null,i,m);for(c in i)if(m=i[c],g=n[c],i.hasOwnProperty(c)&&m!==g&&(m!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(N(137,t));break;default:rt(e,t,c,m,i,g)}return;default:if(kh(t)){for(var O in n)m=n[O],n.hasOwnProperty(O)&&m!==void 0&&!i.hasOwnProperty(O)&&Uf(e,t,O,void 0,i,m);for(h in i)m=i[h],g=n[h],!i.hasOwnProperty(h)||m===g||m===void 0&&g===void 0||Uf(e,t,h,m,i,g);return}}for(var p in n)m=n[p],n.hasOwnProperty(p)&&m!=null&&!i.hasOwnProperty(p)&&rt(e,t,p,null,i,m);for(d in i)m=i[d],g=n[d],!i.hasOwnProperty(d)||m===g||m==null&&g==null||rt(e,t,d,m,i,g)}var Lf=null,qf=null;function iu(e){return e.nodeType===9?e:e.ownerDocument}function tm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Jf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hc=null;function Ib(){var e=window.event;return e&&e.type==="popstate"?e===Hc?!1:(Hc=e,!0):(Hc=null,!1)}var Pv=typeof setTimeout=="function"?setTimeout:void 0,Mb=typeof clearTimeout=="function"?clearTimeout:void 0,em=typeof Promise=="function"?Promise:void 0,zb=typeof queueMicrotask=="function"?queueMicrotask:typeof em<"u"?function(e){return em.resolve(null).then(e).catch(Ub)}:Pv;function Ub(e){setTimeout(function(){throw e})}function Br(e){return e==="head"}function nm(e,t){var n=t,i=0,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<i&&8>i){n=i;var s=e.ownerDocument;if(n&1&&Ks(s.documentElement),n&2&&Ks(s.body),n&4)for(n=s.head,Ks(n),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[Do]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=o}}if(r===0){e.removeChild(a),fo(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=a}while(n);fo(t)}function Hf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Hf(n),Rh(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Lb(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Do])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=Qe(e.nextSibling),e===null)break}return null}function qb(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qe(e.nextSibling),e===null))return null;return e}function Vf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Jb(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Qe(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var jf=null;function im(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Gv(e,t,n){switch(t=iu(n),e){case"html":if(e=t.documentElement,!e)throw Error(N(452));return e;case"head":if(e=t.head,!e)throw Error(N(453));return e;case"body":if(e=t.body,!e)throw Error(N(454));return e;default:throw Error(N(451))}}function Ks(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Rh(e)}var je=new Map,rm=new Set;function ru(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=W.d;W.d={f:Hb,r:Vb,D:jb,C:Pb,L:Gb,m:Yb,X:$b,S:Kb,M:Xb};function Hb(){var e=$i.f(),t=$u();return e||t}function Vb(e){var t=fs(e);t!==null&&t.tag===5&&t.type==="form"?Lp(t):$i.r(e)}var gs=typeof document>"u"?null:document;function Yv(e,t,n){var i=gs;if(i&&typeof t=="string"&&t){var r=ze(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),rm.has(r)||(rm.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),jt(t,"link",e),Ut(t),i.head.appendChild(t)))}}function jb(e){$i.D(e),Yv("dns-prefetch",e,null)}function Pb(e,t){$i.C(e,t),Yv("preconnect",e,t)}function Gb(e,t,n){$i.L(e,t,n);var i=gs;if(i&&e&&t){var r='link[rel="preload"][as="'+ze(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ze(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+ze(n.imageSizes)+'"]')):r+='[href="'+ze(e)+'"]';var a=r;switch(t){case"style":a=Wa(e);break;case"script":a=ms(e)}je.has(a)||(e=ut({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),je.set(a,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(Lo(a))||t==="script"&&i.querySelector(qo(a))||(t=i.createElement("link"),jt(t,"link",e),Ut(t),i.head.appendChild(t)))}}function Yb(e,t){$i.m(e,t);var n=gs;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+ze(i)+'"][href="'+ze(e)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=ms(e)}if(!je.has(a)&&(e=ut({rel:"modulepreload",href:e},t),je.set(a,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(qo(a)))return}i=n.createElement("link"),jt(i,"link",e),Ut(i),n.head.appendChild(i)}}}function Kb(e,t,n){$i.S(e,t,n);var i=gs;if(i&&e){var r=Ba(i).hoistableStyles,a=Wa(e);t=t||"default";var s=r.get(a);if(!s){var o={loading:0,preload:null};if(s=i.querySelector(Lo(a)))o.loading=5;else{e=ut({rel:"stylesheet",href:e,"data-precedence":t},n),(n=je.get(a))&&dd(e,n);var l=s=i.createElement("link");Ut(l),jt(l,"link",e),l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,wl(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:o},r.set(a,s)}}}function $b(e,t){$i.X(e,t);var n=gs;if(n&&e){var i=Ba(n).hoistableScripts,r=ms(e),a=i.get(r);a||(a=n.querySelector(qo(r)),a||(e=ut({src:e,async:!0},t),(t=je.get(r))&&gd(e,t),a=n.createElement("script"),Ut(a),jt(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function Xb(e,t){$i.M(e,t);var n=gs;if(n&&e){var i=Ba(n).hoistableScripts,r=ms(e),a=i.get(r);a||(a=n.querySelector(qo(r)),a||(e=ut({src:e,async:!0,type:"module"},t),(t=je.get(r))&&gd(e,t),a=n.createElement("script"),Ut(a),jt(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function am(e,t,n,i){var r=(r=dr.current)?ru(r):null;if(!r)throw Error(N(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Wa(n.href),n=Ba(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Wa(n.href);var a=Ba(r).hoistableStyles,s=a.get(e);if(s||(r=r.ownerDocument||r,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=r.querySelector(Lo(e)))&&!a._p&&(s.instance=a,s.state.loading=5),je.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},je.set(e,n),a||Zb(r,e,n,s.state))),t&&i===null)throw Error(N(528,""));return s}if(t&&i!==null)throw Error(N(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ms(n),n=Ba(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(N(444,e))}}function Wa(e){return'href="'+ze(e)+'"'}function Lo(e){return'link[rel="stylesheet"]['+e+"]"}function Kv(e){return ut({},e,{"data-precedence":e.precedence,precedence:null})}function Zb(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),jt(t,"link",n),Ut(t),e.head.appendChild(t))}function ms(e){return'[src="'+ze(e)+'"]'}function qo(e){return"script[async]"+e}function sm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+ze(n.href)+'"]');if(i)return t.instance=i,Ut(i),i;var r=ut({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Ut(i),jt(i,"style",r),wl(i,n.precedence,e),t.instance=i;case"stylesheet":r=Wa(n.href);var a=e.querySelector(Lo(r));if(a)return t.state.loading|=4,t.instance=a,Ut(a),a;i=Kv(n),(r=je.get(r))&&dd(i,r),a=(e.ownerDocument||e).createElement("link"),Ut(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),jt(a,"link",i),t.state.loading|=4,wl(a,n.precedence,e),t.instance=a;case"script":return a=ms(n.src),(r=e.querySelector(qo(a)))?(t.instance=r,Ut(r),r):(i=n,(r=je.get(a))&&(i=ut({},n),gd(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Ut(r),jt(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(N(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,wl(i,n.precedence,e));return t.instance}function wl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,s=0;s<i.length;s++){var o=i[s];if(o.dataset.precedence===t)a=o;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function dd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function gd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var El=null;function om(e,t,n){if(El===null){var i=new Map,r=El=new Map;r.set(n,i)}else r=El,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[Do]||a[Yt]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(t)||"";s=e+s;var o=i.get(s);o?o.push(a):i.set(s,[a])}}return i}function lm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Qb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function $v(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var oo=null;function _b(){}function Fb(e,t,n){if(oo===null)throw Error(N(475));var i=oo;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=Wa(n.href),a=e.querySelector(Lo(r));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=au.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=a,Ut(a);return}a=e.ownerDocument||e,n=Kv(n),(r=je.get(r))&&dd(n,r),a=a.createElement("link"),Ut(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),jt(a,"link",n),t.instance=a}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=au.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function Wb(){if(oo===null)throw Error(N(475));var e=oo;return e.stylesheets&&e.count===0&&Pf(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Pf(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function au(){if(this.count--,this.count===0){if(this.stylesheets)Pf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var su=null;function Pf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,su=new Map,t.forEach(tA,e),su=null,au.call(e))}function tA(e,t){if(!(t.state.loading&4)){var n=su.get(e);if(n)var i=n.get(null);else{n=new Map,su.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var s=r[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}r=t.instance,s=r.getAttribute("data-precedence"),a=n.get(s)||i,a===i&&n.set(null,r),n.set(s,r),this.count++,i=au.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var lo={$$typeof:Ci,Provider:null,Consumer:null,_currentValue:jr,_currentValue2:jr,_threadCount:0};function eA(e,t,n,i,r,a,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lc(0),this.hiddenUpdates=lc(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Xv(e,t,n,i,r,a,s,o,l,c,h,d){return e=new eA(e,t,n,s,o,l,c,d),t=1,a===!0&&(t|=24),a=fe(3,null,null,t),e.current=a,a.stateNode=e,t=jh(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},Gh(a),e}function Zv(e){return e?(e=xa,e):xa}function Qv(e,t,n,i,r,a){r=Zv(r),i.context===null?i.context=r:i.pendingContext=r,i=gr(t),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=mr(e,i,t),n!==null&&(pe(n,e,t),qs(n,e,t))}function um(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function md(e,t){um(e,t),(e=e.alternate)&&um(e,t)}function _v(e){if(e.tag===13){var t=hs(e,67108864);t!==null&&pe(t,e,67108864),md(e,67108864)}}var ou=!0;function nA(e,t,n,i){var r=q.T;q.T=null;var a=W.p;try{W.p=2,yd(e,t,n,i)}finally{W.p=a,q.T=r}}function iA(e,t,n,i){var r=q.T;q.T=null;var a=W.p;try{W.p=8,yd(e,t,n,i)}finally{W.p=a,q.T=r}}function yd(e,t,n,i){if(ou){var r=Gf(i);if(r===null)Jc(e,t,i,lu,n),cm(e,i);else if(aA(r,e,t,n,i))i.stopPropagation();else if(cm(e,i),t&4&&-1<rA.indexOf(e)){for(;r!==null;){var a=fs(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=zr(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-me(s);o.entanglements[1]|=l,s&=~l}wn(a),!(it&6)&&(Fl=vn()+500,Uo(0))}}break;case 13:o=hs(a,2),o!==null&&pe(o,a,2),$u(),md(a,2)}if(a=Gf(i),a===null&&Jc(e,t,i,lu,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else Jc(e,t,i,null,n)}}function Gf(e){return e=Bh(e),pd(e)}var lu=null;function pd(e){if(lu=null,e=Ta(e),e!==null){var t=wo(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Ay(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lu=e,null}function Fv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(PS()){case xy:return 2;case Dy:return 8;case Ul:case GS:return 32;case Oy:return 268435456;default:return 32}default:return 32}}var Yf=!1,vr=null,Sr=null,Tr=null,uo=new Map,co=new Map,or=[],rA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cm(e,t){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":uo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(t.pointerId)}}function ws(e,t,n,i,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},t!==null&&(t=fs(t),t!==null&&_v(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function aA(e,t,n,i,r){switch(t){case"focusin":return vr=ws(vr,e,t,n,i,r),!0;case"dragenter":return Sr=ws(Sr,e,t,n,i,r),!0;case"mouseover":return Tr=ws(Tr,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return uo.set(a,ws(uo.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,co.set(a,ws(co.get(a)||null,e,t,n,i,r)),!0}return!1}function Wv(e){var t=Ta(e.target);if(t!==null){var n=wo(t);if(n!==null){if(t=n.tag,t===13){if(t=Ay(n),t!==null){e.blockedOn=t,FS(e.priority,function(){if(n.tag===13){var i=ye();i=Oh(i);var r=hs(n,i);r!==null&&pe(r,n,i),md(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);lf=i,n.target.dispatchEvent(i),lf=null}else return t=fs(n),t!==null&&_v(t),e.blockedOn=n,!1;t.shift()}return!0}function fm(e,t,n){Nl(e)&&n.delete(t)}function sA(){Yf=!1,vr!==null&&Nl(vr)&&(vr=null),Sr!==null&&Nl(Sr)&&(Sr=null),Tr!==null&&Nl(Tr)&&(Tr=null),uo.forEach(fm),co.forEach(fm)}function al(e,t){e.blockedOn===t&&(e.blockedOn=null,Yf||(Yf=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,sA)))}var sl=null;function hm(e){sl!==e&&(sl=e,It.unstable_scheduleCallback(It.unstable_NormalPriority,function(){sl===e&&(sl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(pd(i||n)===null)continue;break}var a=fs(n);a!==null&&(e.splice(t,3),t-=3,Ef(a,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function fo(e){function t(l){return al(l,e)}vr!==null&&al(vr,e),Sr!==null&&al(Sr,e),Tr!==null&&al(Tr,e),uo.forEach(t),co.forEach(t);for(var n=0;n<or.length;n++){var i=or[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<or.length&&(n=or[0],n.blockedOn===null);)Wv(n),n.blockedOn===null&&or.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],s=r[re]||null;if(typeof a=="function")s||hm(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(r=a,s=a[re]||null)o=s.formAction;else if(pd(r)!==null)continue}else o=s.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),hm(n)}}}function vd(e){this._internalRoot=e}_u.prototype.render=vd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));var n=t.current,i=ye();Qv(n,i,e,t,null,null)};_u.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qv(e.current,2,null,e,null,null),$u(),t[cs]=null}};function _u(e){this._internalRoot=e}_u.prototype.unstable_scheduleHydration=function(e){if(e){var t=Iy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<or.length&&t!==0&&t<or[n].priority;n++);or.splice(n,0,e),n===0&&Wv(e)}};var dm=Ty.version;if(dm!=="19.1.0")throw Error(N(527,dm,"19.1.0"));W.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=US(t),e=e!==null?wy(e):null,e=e===null?null:e.stateNode,e};var oA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{Eo=ol.inject(oA),ge=ol}catch{}}zu.createRoot=function(e,t){if(!by(e))throw Error(N(299));var n=!1,i="",r=Xp,a=Zp,s=Qp,o=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=Xv(e,1,!1,null,null,n,i,r,a,s,o,null),e[cs]=t.current,hd(e),new vd(t)};zu.hydrateRoot=function(e,t,n){if(!by(e))throw Error(N(299));var i=!1,r="",a=Xp,s=Zp,o=Qp,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=Xv(e,1,!0,t,n??null,i,r,a,s,o,l,c),t.context=Zv(null),n=t.current,i=ye(),i=Oh(i),r=gr(i),r.callback=null,mr(n,r,i),n=i,t.current.lanes=n,xo(t,n),wn(t),e[cs]=t.current,hd(e),new _u(t)};zu.version="19.1.0";function t0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t0)}catch(e){console.error(e)}}t0(),oy.exports=zu;var lA=oy.exports;const uA=ry(lA),cA="@yorkie-js/react",fA="0.6.8",gm={name:cA,version:fA};var $;(function(e){e[e.Canceled=1]="Canceled",e[e.Unknown=2]="Unknown",e[e.InvalidArgument=3]="InvalidArgument",e[e.DeadlineExceeded=4]="DeadlineExceeded",e[e.NotFound=5]="NotFound",e[e.AlreadyExists=6]="AlreadyExists",e[e.PermissionDenied=7]="PermissionDenied",e[e.ResourceExhausted=8]="ResourceExhausted",e[e.FailedPrecondition=9]="FailedPrecondition",e[e.Aborted=10]="Aborted",e[e.OutOfRange=11]="OutOfRange",e[e.Unimplemented=12]="Unimplemented",e[e.Internal=13]="Internal",e[e.Unavailable=14]="Unavailable",e[e.DataLoss=15]="DataLoss",e[e.Unauthenticated=16]="Unauthenticated"})($||($={}));function mm(e){const t=$[e];return typeof t!="string"?e.toString():t[0].toLowerCase()+t.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}class tt extends Error{constructor(t,n=$.Unknown,i,r,a){super(hA(t,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=t,this.code=n,this.metadata=new Headers(i??{}),this.details=r??[],this.cause=a}static from(t,n=$.Unknown){return t instanceof tt?t:t instanceof Error?t.name=="AbortError"?new tt(t.message,$.Canceled):new tt(t.message,n,void 0,void 0,t):new tt(String(t),n,void 0,void 0,t)}static[Symbol.hasInstance](t){return t instanceof Error?Object.getPrototypeOf(t)===tt.prototype?!0:t.name==="ConnectError"&&"code"in t&&typeof t.code=="number"&&"metadata"in t&&"details"in t&&Array.isArray(t.details)&&"rawMessage"in t&&typeof t.rawMessage=="string"&&"cause"in t:!1}findDetails(t){const n="typeName"in t?{findMessage:r=>r===t.typeName?t:void 0}:t,i=[];for(const r of this.details){if("getType"in r){n.findMessage(r.getType().typeName)&&i.push(r);continue}const a=n.findMessage(r.type);if(a)try{i.push(a.fromBinary(r.value))}catch{}}return i}}function hA(e,t){return e.length?`[${mm(t)}] ${e}`:`[${mm(t)}]`}function St(e,t){if(!e)throw new Error(t)}const dA=34028234663852886e22,gA=-34028234663852886e22,mA=4294967295,yA=2147483647,pA=-2147483648;function xl(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>yA||e<pA)throw new Error("invalid int 32: "+e)}function Kf(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>mA||e<0)throw new Error("invalid uint 32: "+e)}function e0(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>dA||e<gA))throw new Error("invalid float 32: "+e)}const n0=Symbol("@bufbuild/protobuf/enum-type");function vA(e){const t=e[n0];return St(t,"missing enum type on enum object"),t}function i0(e,t,n,i){e[n0]=r0(t,n.map(r=>({no:r.no,name:r.name,localName:e[r.no]})))}function r0(e,t,n){const i=Object.create(null),r=Object.create(null),a=[];for(const s of t){const o=a0(s);a.push(o),i[s.name]=o,r[s.no]=o}return{typeName:e,values:a,findName(s){return i[s]},findNumber(s){return r[s]}}}function SA(e,t,n){const i={};for(const r of t){const a=a0(r);i[a.localName]=a.no,i[a.no]=a.localName}return i0(i,e,t),i}function a0(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class k{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,n){const i=this.getType(),r=i.runtime.bin,a=r.makeReadOptions(n);return r.readMessage(this,a.readerFactory(t),t.byteLength,a),this}fromJson(t,n){const i=this.getType(),r=i.runtime.json,a=r.makeReadOptions(n);return r.readMessage(i,t,a,this),this}fromJsonString(t,n){let i;try{i=JSON.parse(t)}catch(r){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${r instanceof Error?r.message:String(r)}`)}return this.fromJson(i,n)}toBinary(t){const n=this.getType(),i=n.runtime.bin,r=i.makeWriteOptions(t),a=r.writerFactory();return i.writeMessage(this,a,r),a.finish()}toJson(t){const n=this.getType(),i=n.runtime.json,r=i.makeWriteOptions(t);return i.writeMessage(this,r)}toJsonString(t){var n;const i=this.toJson(t);return JSON.stringify(i,null,(n=t==null?void 0:t.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function TA(e,t,n,i){var r;const a=(r=i==null?void 0:i.localName)!==null&&r!==void 0?r:t.substring(t.lastIndexOf(".")+1),s={[a]:function(o){e.util.initFields(this),e.util.initPartial(o,this)}}[a];return Object.setPrototypeOf(s.prototype,new k),Object.assign(s,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary(o,l){return new s().fromBinary(o,l)},fromJson(o,l){return new s().fromJson(o,l)},fromJsonString(o,l){return new s().fromJsonString(o,l)},equals(o,l){return e.util.equals(s,o,l)}}),s}function bA(){let e=0,t=0;for(let i=0;i<28;i+=7){let r=this.buf[this.pos++];if(e|=(r&127)<<i,!(r&128))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(n&15)<<28,t=(n&112)>>4,!(n&128))return this.assertBounds(),[e,t];for(let i=3;i<=31;i+=7){let r=this.buf[this.pos++];if(t|=(r&127)<<i,!(r&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function Vc(e,t,n){for(let a=0;a<28;a=a+7){const s=e>>>a,o=!(!(s>>>7)&&t==0),l=(o?s|128:s)&255;if(n.push(l),!o)return}const i=e>>>28&15|(t&7)<<4,r=!!(t>>3);if(n.push((r?i|128:i)&255),!!r){for(let a=3;a<31;a=a+7){const s=t>>>a,o=!!(s>>>7),l=(o?s|128:s)&255;if(n.push(l),!o)return}n.push(t>>>31&1)}}const Dl=4294967296;function ym(e){const t=e[0]==="-";t&&(e=e.slice(1));const n=1e6;let i=0,r=0;function a(s,o){const l=Number(e.slice(s,o));r*=n,i=i*n+l,i>=Dl&&(r=r+(i/Dl|0),i=i%Dl)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),t?o0(i,r):Sd(i,r)}function AA(e,t){let n=Sd(e,t);const i=n.hi&2147483648;i&&(n=o0(n.lo,n.hi));const r=s0(n.lo,n.hi);return i?"-"+r:r}function s0(e,t){if({lo:e,hi:t}=wA(e,t),t<=2097151)return String(Dl*t+e);const n=e&16777215,i=(e>>>24|t<<8)&16777215,r=t>>16&65535;let a=n+i*6777216+r*6710656,s=i+r*8147497,o=r*2;const l=1e7;return a>=l&&(s+=Math.floor(a/l),a%=l),s>=l&&(o+=Math.floor(s/l),s%=l),o.toString()+pm(s)+pm(a)}function wA(e,t){return{lo:e>>>0,hi:t>>>0}}function Sd(e,t){return{lo:e|0,hi:t|0}}function o0(e,t){return t=~t,e?e=~e+1:t+=1,Sd(e,t)}const pm=e=>{const t=String(e);return"0000000".slice(t.length)+t};function vm(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let n=0;n<9;n++)t.push(e&127|128),e=e>>7;t.push(1)}}function EA(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let n=5;e&128&&n<10;n++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}var Sm={};function NA(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof process!="object"||typeof Sm!="object"||Sm.BUF_BIGINT_DISABLE!=="1")){const r=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),s=BigInt("0"),o=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>a||c<r)throw new Error(`int64 invalid: ${l}`);return c},uParse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>o||c<s)throw new Error(`uint64 invalid: ${l}`);return c},enc(l){return e.setBigInt64(0,this.parse(l),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(l){return e.setBigInt64(0,this.uParse(l),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(l,c){return e.setInt32(0,l,!0),e.setInt32(4,c,!0),e.getBigInt64(0,!0)},uDec(l,c){return e.setInt32(0,l,!0),e.setInt32(4,c,!0),e.getBigUint64(0,!0)}}}const n=r=>St(/^-?[0-9]+$/.test(r),`int64 invalid: ${r}`),i=r=>St(/^[0-9]+$/.test(r),`uint64 invalid: ${r}`);return{zero:"0",supported:!1,parse(r){return typeof r!="string"&&(r=r.toString()),n(r),r},uParse(r){return typeof r!="string"&&(r=r.toString()),i(r),r},enc(r){return typeof r!="string"&&(r=r.toString()),n(r),ym(r)},uEnc(r){return typeof r!="string"&&(r=r.toString()),i(r),ym(r)},dec(r,a){return AA(r,a)},uDec(r,a){return s0(r,a)}}}const ft=NA();var E;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(E||(E={}));var Or;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"})(Or||(Or={}));function _i(e,t,n){if(t===n)return!0;if(e==E.BYTES){if(!(t instanceof Uint8Array)||!(n instanceof Uint8Array)||t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==n[i])return!1;return!0}switch(e){case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return t==n}return!1}function ts(e,t){switch(e){case E.BOOL:return!1;case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return t==0?ft.zero:"0";case E.DOUBLE:case E.FLOAT:return 0;case E.BYTES:return new Uint8Array(0);case E.STRING:return"";default:return 0}}function l0(e,t){switch(e){case E.BOOL:return t===!1;case E.STRING:return t==="";case E.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}var Nt;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(Nt||(Nt={}));class xA{constructor(t){this.stack=[],this.textEncoder=t??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let r=0;r<this.chunks.length;r++)t+=this.chunks[r].length;let n=new Uint8Array(t),i=0;for(let r=0;r<this.chunks.length;r++)n.set(this.chunks[r],i),i+=this.chunks[r].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,n){return this.uint32((t<<3|n)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(Kf(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return xl(t),vm(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let n=this.textEncoder.encode(t);return this.uint32(n.byteLength),this.raw(n)}float(t){e0(t);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,t,!0),this.raw(n)}double(t){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),this.raw(n)}fixed32(t){Kf(t);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t,!0),this.raw(n)}sfixed32(t){xl(t);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),this.raw(n)}sint32(t){return xl(t),t=(t<<1^t>>31)>>>0,vm(t,this.buf),this}sfixed64(t){let n=new Uint8Array(8),i=new DataView(n.buffer),r=ft.enc(t);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}fixed64(t){let n=new Uint8Array(8),i=new DataView(n.buffer),r=ft.uEnc(t);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}int64(t){let n=ft.enc(t);return Vc(n.lo,n.hi,this.buf),this}sint64(t){let n=ft.enc(t),i=n.hi>>31,r=n.lo<<1^i,a=(n.hi<<1|n.lo>>>31)^i;return Vc(r,a,this.buf),this}uint64(t){let n=ft.uEnc(t);return Vc(n.lo,n.hi,this.buf),this}}class DA{constructor(t,n){this.varint64=bA,this.uint32=EA,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=n??new TextDecoder}tag(){let t=this.uint32(),n=t>>>3,i=t&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(t,n){let i=this.pos;switch(t){case Nt.Varint:for(;this.buf[this.pos++]&128;);break;case Nt.Bit64:this.pos+=4;case Nt.Bit32:this.pos+=4;break;case Nt.LengthDelimited:let r=this.uint32();this.pos+=r;break;case Nt.StartGroup:for(;;){const[a,s]=this.tag();if(s===Nt.EndGroup){if(n!==void 0&&a!==n)throw new Error("invalid end group tag");break}this.skip(s,a)}break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return ft.dec(...this.varint64())}uint64(){return ft.uDec(...this.varint64())}sint64(){let[t,n]=this.varint64(),i=-(t&1);return t=(t>>>1|(n&1)<<31)^i,n=n>>>1^i,ft.dec(t,n)}bool(){let[t,n]=this.varint64();return t!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return ft.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return ft.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),n=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(n,n+t)}string(){return this.textDecoder.decode(this.bytes())}}function OA(e,t,n,i){let r;return{typeName:t,extendee:n,get field(){if(!r){const a=typeof i=="function"?i():i;a.name=t.split(".").pop(),a.jsonName=`[${t}]`,r=e.util.newFieldList([a]).list()[0]}return r},runtime:e}}function u0(e){const t=e.field.localName,n=Object.create(null);return n[t]=CA(e),[n,()=>n[t]]}function CA(e){const t=e.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return ts(t.T,t.L);case"message":const n=t.T,i=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(i):i;case"map":throw"map fields are not allowed to be extensions"}}function RA(e,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.no)return[e[n]];return[]}return e.filter(n=>n.no===t.no)}let Oi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Fu=[];for(let e=0;e<Oi.length;e++)Fu[Oi[e].charCodeAt(0)]=e;Fu[45]=Oi.indexOf("+");Fu[95]=Oi.indexOf("/");const Td={dec(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let n=new Uint8Array(t),i=0,r=0,a,s=0;for(let o=0;o<e.length;o++){if(a=Fu[e.charCodeAt(o)],a===void 0)switch(e[o]){case"=":r=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(r){case 0:s=a,r=1;break;case 1:n[i++]=s<<2|(a&48)>>4,s=a,r=2;break;case 2:n[i++]=(s&15)<<4|(a&60)>>2,s=a,r=3;break;case 3:n[i++]=(s&3)<<6|a,r=0;break}}if(r==1)throw Error("invalid base64 string.");return n.subarray(0,i)},enc(e){let t="",n=0,i,r=0;for(let a=0;a<e.length;a++)switch(i=e[a],n){case 0:t+=Oi[i>>2],r=(i&3)<<4,n=1;break;case 1:t+=Oi[r|i>>4],r=(i&15)<<2,n=2;break;case 2:t+=Oi[r|i>>6],t+=Oi[i&63],n=0;break}return n&&(t+=Oi[r],t+="=",n==1&&(t+="=")),t}};function kA(e,t,n){f0(t,e);const i=t.runtime.bin.makeReadOptions(n),r=RA(e.getType().runtime.bin.listUnknownFields(e),t.field),[a,s]=u0(t);for(const o of r)t.runtime.bin.readField(a,i.readerFactory(o.data),t.field,o.wireType,i);return s()}function BA(e,t,n,i){f0(t,e);const r=t.runtime.bin.makeReadOptions(i),a=t.runtime.bin.makeWriteOptions(i);if(c0(e,t)){const c=e.getType().runtime.bin.listUnknownFields(e).filter(h=>h.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const h of c)e.getType().runtime.bin.onUnknownField(e,h.no,h.wireType,h.data)}const s=a.writerFactory();let o=t.field;!o.opt&&!o.repeated&&(o.kind=="enum"||o.kind=="scalar")&&(o=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(o,n,s,a);const l=r.readerFactory(s.finish());for(;l.pos<l.len;){const[c,h]=l.tag(),d=l.skip(h,c);e.getType().runtime.bin.onUnknownField(e,c,h,d)}}function c0(e,t){const n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find(i=>i.no==t.field.no)}function f0(e,t){St(e.extendee.typeName==t.getType().typeName,`extension ${e.typeName} can only be applied to message ${e.extendee.typeName}`)}function h0(e,t){const n=e.localName;if(e.repeated)return t[n].length>0;if(e.oneof)return t[e.oneof.localName].case===n;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?t[n]!==void 0:e.kind=="enum"?t[n]!==e.T.values[0].no:!l0(e.T,t[n]);case"message":return t[n]!==void 0;case"map":return Object.keys(t[n]).length>0}}function Tm(e,t){const n=e.localName,i=!e.opt&&!e.req;if(e.repeated)t[n]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[n]={};break;case"enum":t[n]=i?e.T.values[0].no:void 0;break;case"scalar":t[n]=i?ts(e.T,e.L):void 0;break;case"message":t[n]=void 0;break}}function Zr(e,t){if(e===null||typeof e!="object"||!Object.getOwnPropertyNames(k.prototype).every(i=>i in e&&typeof e[i]=="function"))return!1;const n=e.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:t===void 0?!0:n.typeName==t.typeName}function d0(e,t){return Zr(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}E.DOUBLE,E.FLOAT,E.INT64,E.UINT64,E.INT32,E.UINT32,E.BOOL,E.STRING,E.BYTES;const bm={ignoreUnknownFields:!1},Am={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function IA(e){return e?Object.assign(Object.assign({},bm),e):bm}function MA(e){return e?Object.assign(Object.assign({},Am),e):Am}const uu=Symbol(),Ol=Symbol();function zA(){return{makeReadOptions:IA,makeWriteOptions:MA,readMessage(e,t,n,i){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message ${e.typeName} from JSON: ${rn(t)}`);i=i??new e;const r=new Map,a=n.typeRegistry;for(const[s,o]of Object.entries(t)){const l=e.fields.findJsonName(s);if(l){if(l.oneof){if(o===null&&l.kind=="scalar")continue;const c=r.get(l.oneof);if(c!==void 0)throw new Error(`cannot decode message ${e.typeName} from JSON: multiple keys for oneof "${l.oneof.name}" present: "${c}", "${s}"`);r.set(l.oneof,s)}wm(i,o,l,n,e)}else{let c=!1;if(a!=null&&a.findExtension&&s.startsWith("[")&&s.endsWith("]")){const h=a.findExtension(s.substring(1,s.length-1));if(h&&h.extendee.typeName==e.typeName){c=!0;const[d,m]=u0(h);wm(d,o,h.field,n,h),BA(i,h,m(),n)}}if(!c&&!n.ignoreUnknownFields)throw new Error(`cannot decode message ${e.typeName} from JSON: key "${s}" is unknown`)}}return i},writeMessage(e,t){const n=e.getType(),i={};let r;try{for(r of n.fields.byNumber()){if(!h0(r,e)){if(r.req)throw"required field not set";if(!t.emitDefaultValues||!LA(r))continue}const s=r.oneof?e[r.oneof.localName].value:e[r.localName],o=Em(r,s,t);o!==void 0&&(i[t.useProtoFieldName?r.name:r.jsonName]=o)}const a=t.typeRegistry;if(a!=null&&a.findExtensionFor)for(const s of n.runtime.bin.listUnknownFields(e)){const o=a.findExtensionFor(n.typeName,s.no);if(o&&c0(e,o)){const l=kA(e,o,t),c=Em(o.field,l,t);c!==void 0&&(i[o.field.jsonName]=c)}}}catch(a){const s=r?`cannot encode field ${n.typeName}.${r.name} to JSON`:`cannot encode message ${n.typeName} to JSON`,o=a instanceof Error?a.message:String(a);throw new Error(s+(o.length>0?`: ${o}`:""))}return i},readScalar(e,t,n){return $s(e,t,n??Or.BIGINT,!0)},writeScalar(e,t,n){if(t!==void 0&&(n||l0(e,t)))return Cl(e,t)},debug:rn}}function rn(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":`"${e.split('"').join('\\"')}"`;default:return String(e)}}function wm(e,t,n,i,r){let a=n.localName;if(n.repeated){if(St(n.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${rn(t)}`);const s=e[a];for(const o of t){if(o===null)throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${rn(o)}`);switch(n.kind){case"message":s.push(n.T.fromJson(o,i));break;case"enum":const l=jc(n.T,o,i.ignoreUnknownFields,!0);l!==Ol&&s.push(l);break;case"scalar":try{s.push($s(n.T,o,n.L,!0))}catch(c){let h=`cannot decode field ${r.typeName}.${n.name} from JSON: ${rn(o)}`;throw c instanceof Error&&c.message.length>0&&(h+=`: ${c.message}`),new Error(h)}break}}}else if(n.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${rn(t)}`);const s=e[a];for(const[o,l]of Object.entries(t)){if(l===null)throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: map value null`);let c;try{c=UA(n.K,o)}catch(h){let d=`cannot decode map key for field ${r.typeName}.${n.name} from JSON: ${rn(t)}`;throw h instanceof Error&&h.message.length>0&&(d+=`: ${h.message}`),new Error(d)}switch(n.V.kind){case"message":s[c]=n.V.T.fromJson(l,i);break;case"enum":const h=jc(n.V.T,l,i.ignoreUnknownFields,!0);h!==Ol&&(s[c]=h);break;case"scalar":try{s[c]=$s(n.V.T,l,Or.BIGINT,!0)}catch(d){let m=`cannot decode map value for field ${r.typeName}.${n.name} from JSON: ${rn(t)}`;throw d instanceof Error&&d.message.length>0&&(m+=`: ${d.message}`),new Error(m)}break}}}else switch(n.oneof&&(e=e[n.oneof.localName]={case:a},a="value"),n.kind){case"message":const s=n.T;if(t===null&&s.typeName!="google.protobuf.Value")return;let o=e[a];Zr(o)?o.fromJson(t,i):(e[a]=o=s.fromJson(t,i),s.fieldWrapper&&!n.oneof&&(e[a]=s.fieldWrapper.unwrapField(o)));break;case"enum":const l=jc(n.T,t,i.ignoreUnknownFields,!1);switch(l){case uu:Tm(n,e);break;case Ol:break;default:e[a]=l;break}break;case"scalar":try{const c=$s(n.T,t,n.L,!1);switch(c){case uu:Tm(n,e);break;default:e[a]=c;break}}catch(c){let h=`cannot decode field ${r.typeName}.${n.name} from JSON: ${rn(t)}`;throw c instanceof Error&&c.message.length>0&&(h+=`: ${c.message}`),new Error(h)}break}}function UA(e,t){if(e===E.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1;break}return $s(e,t,Or.BIGINT,!0).toString()}function $s(e,t,n,i){if(t===null)return i?ts(e,n):uu;switch(e){case E.DOUBLE:case E.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const r=Number(t);if(Number.isNaN(r)||!Number.isFinite(r))break;return e==E.FLOAT&&e0(r),r;case E.INT32:case E.FIXED32:case E.SFIXED32:case E.SINT32:case E.UINT32:let a;if(typeof t=="number"?a=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(a=Number(t)),a===void 0)break;return e==E.UINT32||e==E.FIXED32?Kf(a):xl(a),a;case E.INT64:case E.SFIXED64:case E.SINT64:if(typeof t!="number"&&typeof t!="string")break;const s=ft.parse(t);return n?s.toString():s;case E.FIXED64:case E.UINT64:if(typeof t!="number"&&typeof t!="string")break;const o=ft.uParse(t);return n?o.toString():o;case E.BOOL:if(typeof t!="boolean")break;return t;case E.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch{throw new Error("invalid UTF8")}return t;case E.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return Td.dec(t)}throw new Error}function jc(e,t,n,i){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:i?e.values[0].no:uu;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const r=e.findName(t);if(r!==void 0)return r.no;if(n)return Ol;break}throw new Error(`cannot decode enum ${e.typeName} from JSON: ${rn(t)}`)}function LA(e){return e.repeated||e.kind=="map"?!0:!(e.oneof||e.kind=="message"||e.opt||e.req)}function Em(e,t,n){if(e.kind=="map"){St(typeof t=="object"&&t!=null);const i={},r=Object.entries(t);switch(e.V.kind){case"scalar":for(const[s,o]of r)i[s.toString()]=Cl(e.V.T,o);break;case"message":for(const[s,o]of r)i[s.toString()]=o.toJson(n);break;case"enum":const a=e.V.T;for(const[s,o]of r)i[s.toString()]=Pc(a,o,n.enumAsInteger);break}return n.emitDefaultValues||r.length>0?i:void 0}if(e.repeated){St(Array.isArray(t));const i=[];switch(e.kind){case"scalar":for(let r=0;r<t.length;r++)i.push(Cl(e.T,t[r]));break;case"enum":for(let r=0;r<t.length;r++)i.push(Pc(e.T,t[r],n.enumAsInteger));break;case"message":for(let r=0;r<t.length;r++)i.push(t[r].toJson(n));break}return n.emitDefaultValues||i.length>0?i:void 0}switch(e.kind){case"scalar":return Cl(e.T,t);case"enum":return Pc(e.T,t,n.enumAsInteger);case"message":return d0(e.T,t).toJson(n)}}function Pc(e,t,n){var i;if(St(typeof t=="number"),e.typeName=="google.protobuf.NullValue")return null;if(n)return t;const r=e.findNumber(t);return(i=r==null?void 0:r.name)!==null&&i!==void 0?i:t}function Cl(e,t){switch(e){case E.INT32:case E.SFIXED32:case E.SINT32:case E.FIXED32:case E.UINT32:return St(typeof t=="number"),t;case E.FLOAT:case E.DOUBLE:return St(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case E.STRING:return St(typeof t=="string"),t;case E.BOOL:return St(typeof t=="boolean"),t;case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return St(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case E.BYTES:return St(t instanceof Uint8Array),Td.enc(t)}}const fa=Symbol("@bufbuild/protobuf/unknown-fields"),Nm={readUnknownFields:!0,readerFactory:e=>new DA(e)},xm={writeUnknownFields:!0,writerFactory:()=>new xA};function qA(e){return e?Object.assign(Object.assign({},Nm),e):Nm}function JA(e){return e?Object.assign(Object.assign({},xm),e):xm}function HA(){return{makeReadOptions:qA,makeWriteOptions:JA,listUnknownFields(e){var t;return(t=e[fa])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[fa]},writeUnknownFields(e,t){const i=e[fa];if(i)for(const r of i)t.tag(r.no,r.wireType).raw(r.data)},onUnknownField(e,t,n,i){const r=e;Array.isArray(r[fa])||(r[fa]=[]),r[fa].push({no:t,wireType:n,data:i})},readMessage(e,t,n,i,r){const a=e.getType(),s=r?t.len:t.pos+n;let o,l;for(;t.pos<s&&([o,l]=t.tag(),!(r===!0&&l==Nt.EndGroup));){const c=a.fields.find(o);if(!c){const h=t.skip(l,o);i.readUnknownFields&&this.onUnknownField(e,o,l,h);continue}Dm(e,t,c,l,i)}if(r&&(l!=Nt.EndGroup||o!==n))throw new Error("invalid end group tag")},readField:Dm,writeMessage(e,t,n){const i=e.getType();for(const r of i.fields.byNumber()){if(!h0(r,e)){if(r.req)throw new Error(`cannot encode field ${i.typeName}.${r.name} to binary: required field not set`);continue}const a=r.oneof?e[r.oneof.localName].value:e[r.localName];Om(r,a,t,n)}return n.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,n,i){t!==void 0&&Om(e,t,n,i)}}}function Dm(e,t,n,i,r){let{repeated:a,localName:s}=n;switch(n.oneof&&(e=e[n.oneof.localName],e.case!=s&&delete e.value,e.case=s,s="value"),n.kind){case"scalar":case"enum":const o=n.kind=="enum"?E.INT32:n.T;let l=cu;if(n.kind=="scalar"&&n.L>0&&(l=jA),a){let m=e[s];if(i==Nt.LengthDelimited&&o!=E.STRING&&o!=E.BYTES){let T=t.uint32()+t.pos;for(;t.pos<T;)m.push(l(t,o))}else m.push(l(t,o))}else e[s]=l(t,o);break;case"message":const c=n.T;a?e[s].push(Rl(t,new c,r,n)):Zr(e[s])?Rl(t,e[s],r,n):(e[s]=Rl(t,new c,r,n),c.fieldWrapper&&!n.oneof&&!n.repeated&&(e[s]=c.fieldWrapper.unwrapField(e[s])));break;case"map":let[h,d]=VA(n,t,r);e[s][h]=d;break}}function Rl(e,t,n,i){const r=t.getType().runtime.bin,a=i==null?void 0:i.delimited;return r.readMessage(t,e,a?i.no:e.uint32(),n,a),t}function VA(e,t,n){const i=t.uint32(),r=t.pos+i;let a,s;for(;t.pos<r;){const[o]=t.tag();switch(o){case 1:a=cu(t,e.K);break;case 2:switch(e.V.kind){case"scalar":s=cu(t,e.V.T);break;case"enum":s=t.int32();break;case"message":s=Rl(t,new e.V.T,n,void 0);break}break}}if(a===void 0&&(a=ts(e.K,Or.BIGINT)),typeof a!="string"&&typeof a!="number"&&(a=a.toString()),s===void 0)switch(e.V.kind){case"scalar":s=ts(e.V.T,Or.BIGINT);break;case"enum":s=e.V.T.values[0].no;break;case"message":s=new e.V.T;break}return[a,s]}function jA(e,t){const n=cu(e,t);return typeof n=="bigint"?n.toString():n}function cu(e,t){switch(t){case E.STRING:return e.string();case E.BOOL:return e.bool();case E.DOUBLE:return e.double();case E.FLOAT:return e.float();case E.INT32:return e.int32();case E.INT64:return e.int64();case E.UINT64:return e.uint64();case E.FIXED64:return e.fixed64();case E.BYTES:return e.bytes();case E.FIXED32:return e.fixed32();case E.SFIXED32:return e.sfixed32();case E.SFIXED64:return e.sfixed64();case E.SINT64:return e.sint64();case E.UINT32:return e.uint32();case E.SINT32:return e.sint32()}}function Om(e,t,n,i){St(t!==void 0);const r=e.repeated;switch(e.kind){case"scalar":case"enum":let a=e.kind=="enum"?E.INT32:e.T;if(r)if(St(Array.isArray(t)),e.packed)GA(n,a,e.no,t);else for(const s of t)Xs(n,a,e.no,s);else Xs(n,a,e.no,t);break;case"message":if(r){St(Array.isArray(t));for(const s of t)Cm(n,i,e,s)}else Cm(n,i,e,t);break;case"map":St(typeof t=="object"&&t!=null);for(const[s,o]of Object.entries(t))PA(n,i,e,s,o);break}}function PA(e,t,n,i,r){e.tag(n.no,Nt.LengthDelimited),e.fork();let a=i;switch(n.K){case E.INT32:case E.FIXED32:case E.UINT32:case E.SFIXED32:case E.SINT32:a=Number.parseInt(i);break;case E.BOOL:St(i=="true"||i=="false"),a=i=="true";break}switch(Xs(e,n.K,1,a),n.V.kind){case"scalar":Xs(e,n.V.T,2,r);break;case"enum":Xs(e,E.INT32,2,r);break;case"message":St(r!==void 0),e.tag(2,Nt.LengthDelimited).bytes(r.toBinary(t));break}e.join()}function Cm(e,t,n,i){const r=d0(n.T,i);n.delimited?e.tag(n.no,Nt.StartGroup).raw(r.toBinary(t)).tag(n.no,Nt.EndGroup):e.tag(n.no,Nt.LengthDelimited).bytes(r.toBinary(t))}function Xs(e,t,n,i){St(i!==void 0);let[r,a]=g0(t);e.tag(n,r)[a](i)}function GA(e,t,n,i){if(!i.length)return;e.tag(n,Nt.LengthDelimited).fork();let[,r]=g0(t);for(let a=0;a<i.length;a++)e[r](i[a]);e.join()}function g0(e){let t=Nt.Varint;switch(e){case E.BYTES:case E.STRING:t=Nt.LengthDelimited;break;case E.DOUBLE:case E.FIXED64:case E.SFIXED64:t=Nt.Bit64;break;case E.FIXED32:case E.SFIXED32:case E.FLOAT:t=Nt.Bit32;break}const n=E[e].toLowerCase();return[t,n]}function YA(){return{setEnumType:i0,initPartial(e,t){if(e===void 0)return;const n=t.getType();for(const i of n.fields.byMember()){const r=i.localName,a=t,s=e;if(s[r]!=null)switch(i.kind){case"oneof":const o=s[r].case;if(o===void 0)continue;const l=i.findField(o);let c=s[r].value;l&&l.kind=="message"&&!Zr(c,l.T)?c=new l.T(c):l&&l.kind==="scalar"&&l.T===E.BYTES&&(c=Es(c)),a[r]={case:o,value:c};break;case"scalar":case"enum":let h=s[r];i.T===E.BYTES&&(h=i.repeated?h.map(Es):Es(h)),a[r]=h;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===E.BYTES)for(const[g,T]of Object.entries(s[r]))a[r][g]=Es(T);else Object.assign(a[r],s[r]);break;case"message":const m=i.V.T;for(const g of Object.keys(s[r])){let T=s[r][g];m.fieldWrapper||(T=new m(T)),a[r][g]=T}break}break;case"message":const d=i.T;if(i.repeated)a[r]=s[r].map(m=>Zr(m,d)?m:new d(m));else{const m=s[r];d.fieldWrapper?d.typeName==="google.protobuf.BytesValue"?a[r]=Es(m):a[r]=m:a[r]=Zr(m,d)?m:new d(m)}break}}},equals(e,t,n){return t===n?!0:!t||!n?!1:e.fields.byMember().every(i=>{const r=t[i.localName],a=n[i.localName];if(i.repeated){if(r.length!==a.length)return!1;switch(i.kind){case"message":return r.every((s,o)=>i.T.equals(s,a[o]));case"scalar":return r.every((s,o)=>_i(i.T,s,a[o]));case"enum":return r.every((s,o)=>_i(E.INT32,s,a[o]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":return i.T.equals(r,a);case"enum":return _i(E.INT32,r,a);case"scalar":return _i(i.T,r,a);case"oneof":if(r.case!==a.case)return!1;const s=i.findField(r.case);if(s===void 0)return!0;switch(s.kind){case"message":return s.T.equals(r.value,a.value);case"enum":return _i(E.INT32,r.value,a.value);case"scalar":return _i(s.T,r.value,a.value)}throw new Error(`oneof cannot contain ${s.kind}`);case"map":const o=Object.keys(r).concat(Object.keys(a));switch(i.V.kind){case"message":const l=i.V.T;return o.every(h=>l.equals(r[h],a[h]));case"enum":return o.every(h=>_i(E.INT32,r[h],a[h]));case"scalar":const c=i.V.T;return o.every(h=>_i(c,r[h],a[h]))}break}})},clone(e){const t=e.getType(),n=new t,i=n;for(const r of t.fields.byMember()){const a=e[r.localName];let s;if(r.repeated)s=a.map(ll);else if(r.kind=="map"){s=i[r.localName];for(const[o,l]of Object.entries(a))s[o]=ll(l)}else r.kind=="oneof"?s=r.findField(a.case)?{case:a.case,value:ll(a.value)}:{case:void 0}:s=ll(a);i[r.localName]=s}for(const r of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(i,r.no,r.wireType,r.data);return n}}}function ll(e){if(e===void 0)return e;if(Zr(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function Es(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function KA(e,t,n){return{syntax:e,json:zA(),bin:HA(),util:Object.assign(Object.assign({},YA()),{newFieldList:t,initFields:n}),makeMessageType(i,r,a){return TA(this,i,r,a)},makeEnum:SA,makeEnumType:r0,getEnumType:vA,makeExtension(i,r,a){return OA(this,i,r,a)}}}class $A{constructor(t,n){this._fields=t,this._normalizer=n}findJsonName(t){if(!this.jsonNames){const n={};for(const i of this.list())n[i.jsonName]=n[i.name]=i;this.jsonNames=n}return this.jsonNames[t]}find(t){if(!this.numbers){const n={};for(const i of this.list())n[i.no]=i;this.numbers=n}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,n)=>t.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const t=this.members;let n;for(const i of this.list())i.oneof?i.oneof!==n&&(n=i.oneof,t.push(n)):t.push(i)}return this.members}}function m0(e,t){const n=y0(e);return t?n:WA(FA(n))}function XA(e){return m0(e,!1)}const ZA=y0;function y0(e){let t=!1;const n=[];for(let i=0;i<e.length;i++){let r=e.charAt(i);switch(r){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(r),t=!1;break;default:t&&(t=!1,r=r.toUpperCase()),n.push(r);break}}return n.join("")}const QA=new Set(["constructor","toString","toJSON","valueOf"]),_A=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),p0=e=>`${e}$`,FA=e=>_A.has(e)?p0(e):e,WA=e=>QA.has(e)?p0(e):e;class t1{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=XA(t)}addField(t){St(t.oneof===this,`field ${t.name} not one of ${this.name}`),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[t]}}function e1(e,t){var n,i,r,a,s,o;const l=[];let c;for(const h of typeof e=="function"?e():e){const d=h;if(d.localName=m0(h.name,h.oneof!==void 0),d.jsonName=(n=h.jsonName)!==null&&n!==void 0?n:ZA(h.name),d.repeated=(i=h.repeated)!==null&&i!==void 0?i:!1,h.kind=="scalar"&&(d.L=(r=h.L)!==null&&r!==void 0?r:Or.BIGINT),d.delimited=(a=h.delimited)!==null&&a!==void 0?a:!1,d.req=(s=h.req)!==null&&s!==void 0?s:!1,d.opt=(o=h.opt)!==null&&o!==void 0?o:!1,h.packed===void 0&&(d.packed=h.kind=="enum"||h.kind=="scalar"&&h.T!=E.BYTES&&h.T!=E.STRING),h.oneof!==void 0){const m=typeof h.oneof=="string"?h.oneof:h.oneof.name;(!c||c.name!=m)&&(c=new t1(m)),d.oneof=c,c.addField(d)}l.push(d)}return l}const f=KA("proto3",e=>new $A(e,t=>e1(t)),e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,i=e;if(t.repeated){i[n]=[];continue}switch(t.kind){case"oneof":i[n]={case:void 0};break;case"enum":i[n]=0;break;case"map":i[n]={};break;case"scalar":i[n]=ts(t.T,t.L);break}}});var Xt;(function(e){e[e.Unary=0]="Unary",e[e.ServerStreaming=1]="ServerStreaming",e[e.ClientStreaming=2]="ClientStreaming",e[e.BiDiStreaming=3]="BiDiStreaming"})(Xt||(Xt={}));var Rm;(function(e){e[e.NoSideEffects=1]="NoSideEffects",e[e.Idempotent=2]="Idempotent"})(Rm||(Rm={}));class Gt extends k{constructor(t){super(),this.seconds=ft.zero,this.nanos=0,f.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${f.json.debug(t)}`);const i=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const r=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(r))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=ft.parse(r/1e3),this.nanos=0,i[7]&&(this.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),this}toJson(t){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let i="Z";if(this.nanos>0){const r=(this.nanos+1e9).toString().substring(1);r.substring(3)==="000000"?i="."+r.substring(0,3)+"Z":r.substring(6)==="000"?i="."+r.substring(0,6)+"Z":i="."+r+"Z"}return new Date(n).toISOString().replace(".000Z",i)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return Gt.fromDate(new Date)}static fromDate(t){const n=t.getTime();return new Gt({seconds:ft.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(t,n){return new Gt().fromBinary(t,n)}static fromJson(t,n){return new Gt().fromJson(t,n)}static fromJsonString(t,n){return new Gt().fromJsonString(t,n)}static equals(t,n){return f.util.equals(Gt,t,n)}}Gt.runtime=f;Gt.typeName="google.protobuf.Timestamp";Gt.fields=f.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Mi extends k{constructor(t){super(),this.seconds=ft.zero,this.nanos=0,f.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);const i=t.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(i===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);const r=Number(i[1]);if(r>315576e6||r<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);if(this.seconds=ft.parse(r),typeof i[2]=="string"){const a=i[2]+"0".repeat(9-i[2].length);this.nanos=parseInt(a),(r<0||Object.is(r,-0))&&(this.nanos=-this.nanos)}return this}toJson(t){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let n=this.seconds.toString();if(this.nanos!==0){let i=Math.abs(this.nanos).toString();i="0".repeat(9-i.length)+i,i.substring(3)==="000000"?i=i.substring(0,3):i.substring(6)==="000"&&(i=i.substring(0,6)),n+="."+i,this.nanos<0&&Number(this.seconds)==0&&(n="-"+n)}return n+"s"}static fromBinary(t,n){return new Mi().fromBinary(t,n)}static fromJson(t,n){return new Mi().fromJson(t,n)}static fromJsonString(t,n){return new Mi().fromJsonString(t,n)}static equals(t,n){return f.util.equals(Mi,t,n)}}Mi.runtime=f;Mi.typeName="google.protobuf.Duration";Mi.fields=f.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class sn extends k{constructor(t){super(),this.typeUrl="",this.value=new Uint8Array(0),f.util.initPartial(t,this)}toJson(t){var n;if(this.typeUrl==="")return{};const i=this.typeUrlToName(this.typeUrl),r=(n=t==null?void 0:t.typeRegistry)===null||n===void 0?void 0:n.findMessage(i);if(!r)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let s=r.fromBinary(this.value).toJson(t);return(i.startsWith("google.protobuf.")||s===null||Array.isArray(s)||typeof s!="object")&&(s={value:s}),s["@type"]=this.typeUrl,s}fromJson(t,n){var i;if(t===null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${t===null?"null":Array.isArray(t)?"array":typeof t}`);if(Object.keys(t).length==0)return this;const r=t["@type"];if(typeof r!="string"||r=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const a=this.typeUrlToName(r),s=(i=n==null?void 0:n.typeRegistry)===null||i===void 0?void 0:i.findMessage(a);if(!s)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${r} is not in the type registry`);let o;if(a.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(t,"value"))o=s.fromJson(t.value,n);else{const l=Object.assign({},t);delete l["@type"],o=s.fromJson(l,n)}return this.packFrom(o),this}packFrom(t){this.value=t.toBinary(),this.typeUrl=this.typeNameToUrl(t.getType().typeName)}unpackTo(t){return this.is(t.getType())?(t.fromBinary(this.value),!0):!1}unpack(t){if(this.typeUrl==="")return;const n=t.findMessage(this.typeUrlToName(this.typeUrl));if(n)return n.fromBinary(this.value)}is(t){if(this.typeUrl==="")return!1;const n=this.typeUrlToName(this.typeUrl);let i="";return typeof t=="string"?i=t:i=t.typeName,n===i}typeNameToUrl(t){return`type.googleapis.com/${t}`}typeUrlToName(t){if(!t.length)throw new Error(`invalid type url: ${t}`);const n=t.lastIndexOf("/"),i=n>=0?t.substring(n+1):t;if(!i.length)throw new Error(`invalid type url: ${t}`);return i}static pack(t){const n=new sn;return n.packFrom(t),n}static fromBinary(t,n){return new sn().fromBinary(t,n)}static fromJson(t,n){return new sn().fromJson(t,n)}static fromJsonString(t,n){return new sn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(sn,t,n)}}sn.runtime=f;sn.typeName="google.protobuf.Any";sn.fields=f.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class ln extends k{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.DOUBLE,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.DOUBLE,t)}catch(i){let r='cannot decode message google.protobuf.DoubleValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new ln().fromBinary(t,n)}static fromJson(t,n){return new ln().fromJson(t,n)}static fromJsonString(t,n){return new ln().fromJsonString(t,n)}static equals(t,n){return f.util.equals(ln,t,n)}}ln.runtime=f;ln.typeName="google.protobuf.DoubleValue";ln.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);ln.fieldWrapper={wrapField(e){return new ln({value:e})},unwrapField(e){return e.value}};class un extends k{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.FLOAT,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.FLOAT,t)}catch(i){let r='cannot decode message google.protobuf.FloatValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new un().fromBinary(t,n)}static fromJson(t,n){return new un().fromJson(t,n)}static fromJsonString(t,n){return new un().fromJsonString(t,n)}static equals(t,n){return f.util.equals(un,t,n)}}un.runtime=f;un.typeName="google.protobuf.FloatValue";un.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);un.fieldWrapper={wrapField(e){return new un({value:e})},unwrapField(e){return e.value}};class cn extends k{constructor(t){super(),this.value=ft.zero,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.INT64,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.INT64,t)}catch(i){let r='cannot decode message google.protobuf.Int64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new cn().fromBinary(t,n)}static fromJson(t,n){return new cn().fromJson(t,n)}static fromJsonString(t,n){return new cn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(cn,t,n)}}cn.runtime=f;cn.typeName="google.protobuf.Int64Value";cn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);cn.fieldWrapper={wrapField(e){return new cn({value:e})},unwrapField(e){return e.value}};class fn extends k{constructor(t){super(),this.value=ft.zero,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.UINT64,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.UINT64,t)}catch(i){let r='cannot decode message google.protobuf.UInt64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new fn().fromBinary(t,n)}static fromJson(t,n){return new fn().fromJson(t,n)}static fromJsonString(t,n){return new fn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(fn,t,n)}}fn.runtime=f;fn.typeName="google.protobuf.UInt64Value";fn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);fn.fieldWrapper={wrapField(e){return new fn({value:e})},unwrapField(e){return e.value}};class hn extends k{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.INT32,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.INT32,t)}catch(i){let r='cannot decode message google.protobuf.Int32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new hn().fromBinary(t,n)}static fromJson(t,n){return new hn().fromJson(t,n)}static fromJsonString(t,n){return new hn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(hn,t,n)}}hn.runtime=f;hn.typeName="google.protobuf.Int32Value";hn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);hn.fieldWrapper={wrapField(e){return new hn({value:e})},unwrapField(e){return e.value}};class dn extends k{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.UINT32,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.UINT32,t)}catch(i){let r='cannot decode message google.protobuf.UInt32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new dn().fromBinary(t,n)}static fromJson(t,n){return new dn().fromJson(t,n)}static fromJsonString(t,n){return new dn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(dn,t,n)}}dn.runtime=f;dn.typeName="google.protobuf.UInt32Value";dn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);dn.fieldWrapper={wrapField(e){return new dn({value:e})},unwrapField(e){return e.value}};class gn extends k{constructor(t){super(),this.value=!1,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.BOOL,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.BOOL,t)}catch(i){let r='cannot decode message google.protobuf.BoolValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new gn().fromBinary(t,n)}static fromJson(t,n){return new gn().fromJson(t,n)}static fromJsonString(t,n){return new gn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(gn,t,n)}}gn.runtime=f;gn.typeName="google.protobuf.BoolValue";gn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);gn.fieldWrapper={wrapField(e){return new gn({value:e})},unwrapField(e){return e.value}};class he extends k{constructor(t){super(),this.value="",f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.STRING,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.STRING,t)}catch(i){let r='cannot decode message google.protobuf.StringValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new he().fromBinary(t,n)}static fromJson(t,n){return new he().fromJson(t,n)}static fromJsonString(t,n){return new he().fromJsonString(t,n)}static equals(t,n){return f.util.equals(he,t,n)}}he.runtime=f;he.typeName="google.protobuf.StringValue";he.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);he.fieldWrapper={wrapField(e){return new he({value:e})},unwrapField(e){return e.value}};class mn extends k{constructor(t){super(),this.value=new Uint8Array(0),f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.BYTES,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.BYTES,t)}catch(i){let r='cannot decode message google.protobuf.BytesValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new mn().fromBinary(t,n)}static fromJson(t,n){return new mn().fromJson(t,n)}static fromJsonString(t,n){return new mn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(mn,t,n)}}mn.runtime=f;mn.typeName="google.protobuf.BytesValue";mn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);mn.fieldWrapper={wrapField(e){return new mn({value:e})},unwrapField(e){return e.value}};function n1(e,t,n){try{const i=Td.dec(e);return t?t.fromBinary(i,n):i}catch(i){throw tt.from(i,$.DataLoss)}}function i1(e,t){const n={};for(const[i,r]of Object.entries(e.methods)){const a=t(Object.assign(Object.assign({},r),{localName:i,service:e}));a!=null&&(n[i]=a)}return n}const km=1;function Bm(e){let t,n=new Uint8Array(0);function i(r){const a=new Uint8Array(n.length+r.length);a.set(n),a.set(r,n.length),n=a}return new ReadableStream({start(){t=e.getReader()},async pull(r){let a;for(;;){if(a===void 0&&n.byteLength>=5){let l=0;for(let c=1;c<5;c++)l=(l<<8)+n[c];a={flags:n[0],length:l}}if(a!==void 0&&n.byteLength>=a.length+5)break;const o=await t.read();if(o.done)break;i(o.value)}if(a===void 0){if(n.byteLength==0){r.close();return}r.error(new tt("premature end of stream",$.DataLoss));return}const s=n.subarray(5,5+a.length);n=n.subarray(5+a.length),r.enqueue({flags:a.flags,data:s})}})}function Im(e,t){const n=new Uint8Array(t.length+5);n.set(t,5);const i=new DataView(n.buffer,n.byteOffset,n.byteLength);return i.setUint8(0,e),i.setUint32(1,t.length),n}var r1=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(s){return new Promise(function(o,l){s=e[a](s),r(o,l,s.done,s.value)})}}function r(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}},ho=function(e){return this instanceof ho?(this.v=e,this):new ho(e)},a1=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r={},o("next"),o("throw"),o("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(T){return Promise.resolve(T).then(g,d)}}function o(g,T){i[g]&&(r[g]=function(w){return new Promise(function(O,p){a.push([g,w,O,p])>1||l(g,w)})},T&&(r[g]=T(r[g])))}function l(g,T){try{c(i[g](T))}catch(w){m(a[0][3],w)}}function c(g){g.value instanceof ho?Promise.resolve(g.value.v).then(h,d):m(a[0][2],g)}function h(g){l("next",g)}function d(g){l("throw",g)}function m(g,T){g(T),a.shift(),a.length&&l(a[0][0],a[0][1])}},s1=function(e){var t,n;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,a){t[r]=e[r]?function(s){return(n=!n)?{value:ho(e[r](s)),done:!1}:a?a(s):s}:a}};function o1(e){return a1(this,arguments,function*(){yield ho(yield*s1(r1(e)))})}var v0=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(s){return new Promise(function(o,l){s=e[a](s),r(o,l,s.done,s.value)})}}function r(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}},es=function(e){return this instanceof es?(this.v=e,this):new es(e)},l1=function(e){var t,n;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,a){t[r]=e[r]?function(s){return(n=!n)?{value:es(e[r](s)),done:!1}:a?a(s):s}:a}},u1=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r={},o("next"),o("throw"),o("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(T){return Promise.resolve(T).then(g,d)}}function o(g,T){i[g]&&(r[g]=function(w){return new Promise(function(O,p){a.push([g,w,O,p])>1||l(g,w)})},T&&(r[g]=T(r[g])))}function l(g,T){try{c(i[g](T))}catch(w){m(a[0][3],w)}}function c(g){g.value instanceof es?Promise.resolve(g.value.v).then(h,d):m(a[0][2],g)}function h(g){l("next",g)}function d(g){l("throw",g)}function m(g,T){g(T),a.shift(),a.length&&l(a[0][0],a[0][1])}};function c1(e,t){return i1(e,n=>{switch(n.kind){case Xt.Unary:return f1(t,e,n);case Xt.ServerStreaming:return h1(t,e,n);case Xt.ClientStreaming:return d1(t,e,n);case Xt.BiDiStreaming:return g1(t,e,n);default:return null}})}function f1(e,t,n){return async function(i,r){var a,s;const o=await e.unary(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,i,r==null?void 0:r.contextValues);return(a=r==null?void 0:r.onHeader)===null||a===void 0||a.call(r,o.header),(s=r==null?void 0:r.onTrailer)===null||s===void 0||s.call(r,o.trailer),o.message}}function h1(e,t,n){return function(i,r){return S0(e.stream(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,o1([i]),r==null?void 0:r.contextValues),r)}}function d1(e,t,n){return async function(i,r){var a,s,o,l,c,h;const d=await e.stream(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,i,r==null?void 0:r.contextValues);(c=r==null?void 0:r.onHeader)===null||c===void 0||c.call(r,d.header);let m,g=0;try{for(var T=!0,w=v0(d.message),O;O=await w.next(),a=O.done,!a;T=!0)l=O.value,T=!1,m=l,g++}catch(p){s={error:p}}finally{try{!T&&!a&&(o=w.return)&&await o.call(w)}finally{if(s)throw s.error}}if(!m)throw new tt("protocol error: missing response message",$.Unimplemented);if(g>1)throw new tt("protocol error: received extra messages for client streaming method",$.Unimplemented);return(h=r==null?void 0:r.onTrailer)===null||h===void 0||h.call(r,d.trailer),m}}function g1(e,t,n){return function(i,r){return S0(e.stream(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,i,r==null?void 0:r.contextValues),r)}}function S0(e,t){const n=function(){return u1(this,arguments,function*(){var i,r;const a=yield es(e);(i=t==null?void 0:t.onHeader)===null||i===void 0||i.call(t,a.header),yield es(yield*l1(v0(a.message))),(r=t==null?void 0:t.onTrailer)===null||r===void 0||r.call(t,a.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function m1(...e){const t=new AbortController,n=e.filter(r=>r!==void 0).concat(t.signal);for(const r of n){if(r.aborted){i.apply(r);break}r.addEventListener("abort",i)}function i(){t.signal.aborted||t.abort(T0(this));for(const r of n)r.removeEventListener("abort",i)}return t}function y1(e){const t=new AbortController,n=()=>{t.abort(new tt("the operation timed out",$.DeadlineExceeded))};let i;return e!==void 0&&(e<=0?n():i=setTimeout(n,e)),{signal:t.signal,cleanup:()=>clearTimeout(i)}}function T0(e){if(!e.aborted)return;if(e.reason!==void 0)return e.reason;const t=new Error("This operation was aborted");return t.name="AbortError",t}function Mm(){return{get(e){return e.id in this?this[e.id]:e.defaultValue},set(e,t){return this[e.id]=t,this},delete(e){return delete this[e.id],this}}}const Gc=128;function zm(e){const t=new Headers,n=new TextDecoder().decode(e).split(`\r
`);for(const i of n){if(i==="")continue;const r=i.indexOf(":");if(r>0){const a=i.substring(0,r).trim(),s=i.substring(r+1).trim();t.append(a,s)}}return t}const p1="Content-Type",v1="Grpc-Timeout",ns="Grpc-Status",b0="Grpc-Message",S1="Grpc-Status-Details-Bin",T1="X-User-Agent",b1="X-Grpc-Web",A1="application/grpc-web+proto",w1="application/grpc-web+json";class zi extends k{constructor(t){super(),this.code=0,this.message="",this.details=[],f.util.initPartial(t,this)}static fromBinary(t,n){return new zi().fromBinary(t,n)}static fromJson(t,n){return new zi().fromJson(t,n)}static fromJsonString(t,n){return new zi().fromJsonString(t,n)}static equals(t,n){return f.util.equals(zi,t,n)}}zi.runtime=f;zi.typeName="google.rpc.Status";zi.fields=f.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:sn,repeated:!0}]);const E1="0";function A0(e){var t;const n=e.get(S1);if(n!=null){const r=n1(n,zi);if(r.code==0)return;const a=new tt(r.message,r.code,e);return a.details=r.details.map(s=>({type:s.typeUrl.substring(s.typeUrl.lastIndexOf("/")+1),value:s.value})),a}const i=e.get(ns);if(i!=null){if(i===E1)return;const r=parseInt(i,10);return r in $?new tt(decodeURIComponent((t=e.get(b0))!==null&&t!==void 0?t:""),r,e):new tt(`invalid grpc-status: ${i}`,$.Internal,e)}}function Um(e,t,n){const i=typeof t=="string"?t:t.typeName,r=typeof n=="string"?n:n.name;return e.toString().replace(/\/?$/,`/${i}/${r}`)}function w0(e,t){return t instanceof e?t:new e(t)}function N1(e,t){function n(i){return i.done===!0?i:{done:i.done,value:w0(e,i.value)}}return{[Symbol.asyncIterator](){const i=t[Symbol.asyncIterator](),r={next:()=>i.next().then(n)};return i.throw!==void 0&&(r.throw=a=>i.throw(a).then(n)),i.return!==void 0&&(r.return=a=>i.return(a).then(n)),r}}}function E0(e,t){var n;return(n=t==null?void 0:t.concat().reverse().reduce((i,r)=>r(i),e))!==null&&n!==void 0?n:e}function x1(e){var t;const n=Object.assign({},e);return(t=n.ignoreUnknownFields)!==null&&t!==void 0||(n.ignoreUnknownFields=!0),n}function Lm(e,t,n,i){const r=t?qm(e.I,i):Jm(e.I,n);return{parse:(t?qm(e.O,i):Jm(e.O,n)).parse,serialize:r.serialize}}function qm(e,t){return{parse(n){try{return e.fromBinary(n,t)}catch(i){const r=i instanceof Error?i.message:String(i);throw new tt(`parse binary: ${r}`,$.Internal)}},serialize(n){try{return n.toBinary(t)}catch(i){const r=i instanceof Error?i.message:String(i);throw new tt(`serialize binary: ${r}`,$.Internal)}}}}function Jm(e,t){var n,i;const r=(n=t==null?void 0:t.textEncoder)!==null&&n!==void 0?n:new TextEncoder,a=(i=t==null?void 0:t.textDecoder)!==null&&i!==void 0?i:new TextDecoder,s=x1(t);return{parse(o){try{const l=a.decode(o);return e.fromJsonString(l,s)}catch(l){throw tt.from(l,$.InvalidArgument)}},serialize(o){try{const l=o.toJsonString(s);return r.encode(l)}catch(l){throw tt.from(l,$.Internal)}}}}function D1(e){const t=E0(e.next,e.interceptors),[n,i,r]=N0(e),a=Object.assign(Object.assign({},e.req),{message:w0(e.req.method.I,e.req.message),signal:n});return t(a).then(s=>(r(),s),i)}function O1(e){const t=E0(e.next,e.interceptors),[n,i,r]=N0(e),a=Object.assign(Object.assign({},e.req),{message:N1(e.req.method.I,e.req.message),signal:n});let s=!1;return n.addEventListener("abort",function(){var o,l;const c=e.req.message[Symbol.asyncIterator]();s||(o=c.throw)===null||o===void 0||o.call(c,this.reason).catch(()=>{}),(l=c.return)===null||l===void 0||l.call(c).catch(()=>{})}),t(a).then(o=>Object.assign(Object.assign({},o),{message:{[Symbol.asyncIterator](){const l=o.message[Symbol.asyncIterator]();return{next(){return l.next().then(c=>(c.done==!0&&(s=!0,r()),c),i)}}}}}),i)}function N0(e){const{signal:t,cleanup:n}=y1(e.timeoutMs),i=m1(e.signal,t);return[i.signal,function(a){const s=tt.from(t.aborted?T0(t):a);return i.abort(s),n(),Promise.reject(s)},function(){n(),i.abort()}]}function C1(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Hm(e,t){const n=A0(e);if(n)throw t.forEach((i,r)=>{n.metadata.append(r,i)}),n;if(!t.has(ns)&&!e.has(ns))throw new tt("protocol error: missing status",$.Internal)}function Vm(e,t,n,i){const r=new Headers(n??{});return r.set(p1,e?A1:w1),r.set(b1,"1"),r.set(T1,"connect-es/1.6.1"),t!==void 0&&r.set(v1,`${t}m`),r}function R1(e){switch(e){case 400:return $.Internal;case 401:return $.Unauthenticated;case 403:return $.PermissionDenied;case 404:return $.Unimplemented;case 429:return $.Unavailable;case 502:return $.Unavailable;case 503:return $.Unavailable;case 504:return $.Unavailable;default:return $.Unknown}}function jm(e,t){var n;if(e>=200&&e<300)return{foundStatus:t.has(ns),headerError:A0(t)};throw new tt(decodeURIComponent((n=t.get(b0))!==null&&n!==void 0?n:`HTTP ${e}`),R1(e),t)}var Hr=function(e){return this instanceof Hr?(this.v=e,this):new Hr(e)},k1=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r={},o("next"),o("throw"),o("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(T){return Promise.resolve(T).then(g,d)}}function o(g,T){i[g]&&(r[g]=function(w){return new Promise(function(O,p){a.push([g,w,O,p])>1||l(g,w)})},T&&(r[g]=T(r[g])))}function l(g,T){try{c(i[g](T))}catch(w){m(a[0][3],w)}}function c(g){g.value instanceof Hr?Promise.resolve(g.value.v).then(h,d):m(a[0][2],g)}function h(g){l("next",g)}function d(g){l("throw",g)}function m(g,T){g(T),a.shift(),a.length&&l(a[0][0],a[0][1])}};function B1(e){var t;C1();const n=(t=e.useBinaryFormat)!==null&&t!==void 0?t:!0;return{async unary(i,r,a,s,o,l,c){var h;const{serialize:d,parse:m}=Lm(r,n,e.jsonOptions,e.binaryOptions);return s=s===void 0?e.defaultTimeoutMs:s<=0?void 0:s,await D1({interceptors:e.interceptors,signal:a,timeoutMs:s,req:{stream:!1,service:i,method:r,url:Um(e.baseUrl,i,r),init:{method:"POST",credentials:(h=e.credentials)!==null&&h!==void 0?h:"same-origin",redirect:"error",mode:"cors"},header:Vm(n,s,o),contextValues:c??Mm(),message:l},next:async g=>{var T;const O=await((T=e.fetch)!==null&&T!==void 0?T:globalThis.fetch)(g.url,Object.assign(Object.assign({},g.init),{headers:g.header,signal:g.signal,body:Im(0,d(g.message))})),{headerError:p}=jm(O.status,O.headers);if(!O.body)throw p!==void 0?p:"missing response body";const y=Bm(O.body).getReader();let v,A;for(;;){const x=await y.read();if(x.done)break;const{flags:R,data:C}=x.value;if((R&km)===km)throw new tt("protocol error: received unsupported compressed output",$.Internal);if(R===Gc){if(v!==void 0)throw"extra trailer";v=zm(C);continue}if(A!==void 0)throw new tt("extra message",$.Unimplemented);A=m(C)}if(v===void 0)throw p!==void 0?p:new tt("missing trailer",O.headers.has(ns)?$.Unimplemented:$.Unknown);if(Hm(v,O.headers),A===void 0)throw new tt("missing message",v.has(ns)?$.Unimplemented:$.Unknown);return{stream:!1,service:i,method:r,header:O.headers,message:A,trailer:v}}})},async stream(i,r,a,s,o,l,c){var h;const{serialize:d,parse:m}=Lm(r,n,e.jsonOptions,e.binaryOptions);function g(w,O,p,y,v){return k1(this,arguments,function*(){const x=Bm(w).getReader();if(O){if(!(yield Hr(x.read())).done)throw"extra data for trailers-only";return yield Hr(void 0)}let R=!1;for(;;){const C=yield Hr(x.read());if(C.done)break;const{flags:B,data:Z}=C.value;if((B&Gc)===Gc){if(R)throw"extra trailer";R=!0;const J=zm(Z);Hm(J,y),J.forEach((Ct,oe)=>p.set(oe,Ct));continue}if(R)throw"extra message";yield yield Hr(m(Z))}if("throwIfAborted"in v&&v.throwIfAborted(),!R)throw"missing trailer"})}async function T(w){if(r.kind!=Xt.ServerStreaming)throw"The fetch API does not support streaming request bodies";const O=await w[Symbol.asyncIterator]().next();if(O.done==!0)throw"missing request message";return Im(0,d(O.value))}return s=s===void 0?e.defaultTimeoutMs:s<=0?void 0:s,O1({interceptors:e.interceptors,signal:a,timeoutMs:s,req:{stream:!0,service:i,method:r,url:Um(e.baseUrl,i,r),init:{method:"POST",credentials:(h=e.credentials)!==null&&h!==void 0?h:"same-origin",redirect:"error",mode:"cors"},header:Vm(n,s,o),contextValues:c??Mm(),message:l},next:async w=>{var O;const y=await((O=e.fetch)!==null&&O!==void 0?O:globalThis.fetch)(w.url,Object.assign(Object.assign({},w.init),{headers:w.header,signal:w.signal,body:await T(w.message)})),{foundStatus:v,headerError:A}=jm(y.status,y.headers);if(A!=null)throw A;if(!y.body)throw"missing response body";const x=new Headers;return Object.assign(Object.assign({},w),{header:y.headers,trailer:x,message:g(y.body,v,x,y.headers,w.signal)})}})}}}var H=(e=>(e[e.NULL=0]="NULL",e[e.BOOLEAN=1]="BOOLEAN",e[e.INTEGER=2]="INTEGER",e[e.LONG=3]="LONG",e[e.DOUBLE=4]="DOUBLE",e[e.STRING=5]="STRING",e[e.BYTES=6]="BYTES",e[e.DATE=7]="DATE",e[e.JSON_OBJECT=8]="JSON_OBJECT",e[e.JSON_ARRAY=9]="JSON_ARRAY",e[e.TEXT=10]="TEXT",e[e.INTEGER_CNT=11]="INTEGER_CNT",e[e.LONG_CNT=12]="LONG_CNT",e[e.TREE=13]="TREE",e))(H||{});f.util.setEnumType(H,"yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER"},{no:3,name:"VALUE_TYPE_LONG"},{no:4,name:"VALUE_TYPE_DOUBLE"},{no:5,name:"VALUE_TYPE_STRING"},{no:6,name:"VALUE_TYPE_BYTES"},{no:7,name:"VALUE_TYPE_DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE"}]);var Qr=(e=>(e[e.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",e[e.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",e[e.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",e[e.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",e))(Qr||{});f.util.setEnumType(Qr,"yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST"}]);const Dn=class Dn extends k{constructor(n){super();u(this,"root");u(this,"presences",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Dn().fromBinary(n,i)}static fromJson(n,i){return new Dn().fromJson(n,i)}static fromJsonString(n,i){return new Dn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Dn,n,i)}};u(Dn,"runtime",f),u(Dn,"typeName","yorkie.v1.Snapshot"),u(Dn,"fields",f.util.newFieldList(()=>[{no:1,name:"root",kind:"message",T:ae},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:Ad}}]));let $f=Dn;var xe;let Xi=(xe=class extends k{constructor(n){super();u(this,"documentKey","");u(this,"checkpoint");u(this,"snapshot",new Uint8Array(0));u(this,"changes",[]);u(this,"minSyncedTicket");u(this,"isRemoved",!1);u(this,"versionVector");f.util.initPartial(n,this)}static fromBinary(n,i){return new xe().fromBinary(n,i)}static fromJson(n,i){return new xe().fromJson(n,i)}static fromJsonString(n,i){return new xe().fromJsonString(n,i)}static equals(n,i){return f.util.equals(xe,n,i)}},u(xe,"runtime",f),u(xe,"typeName","yorkie.v1.ChangePack"),u(xe,"fields",f.util.newFieldList(()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:O0},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:x0,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:M},{no:6,name:"is_removed",kind:"scalar",T:8},{no:7,name:"version_vector",kind:"message",T:tc}])),xe);var De;let x0=(De=class extends k{constructor(n){super();u(this,"id");u(this,"message","");u(this,"operations",[]);u(this,"presenceChange");f.util.initPartial(n,this)}static fromBinary(n,i){return new De().fromBinary(n,i)}static fromJson(n,i){return new De().fromJson(n,i)}static fromJsonString(n,i){return new De().fromJsonString(n,i)}static equals(n,i){return f.util.equals(De,n,i)}},u(De,"runtime",f),u(De,"typeName","yorkie.v1.Change"),u(De,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Wu},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:bd,repeated:!0},{no:4,name:"presence_change",kind:"message",T:yo}])),De);var Oe;let Wu=(Oe=class extends k{constructor(n){super();u(this,"clientSeq",0);u(this,"serverSeq",ft.zero);u(this,"lamport",ft.zero);u(this,"actorId",new Uint8Array(0));u(this,"versionVector");f.util.initPartial(n,this)}static fromBinary(n,i){return new Oe().fromBinary(n,i)}static fromJson(n,i){return new Oe().fromJson(n,i)}static fromJsonString(n,i){return new Oe().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Oe,n,i)}},u(Oe,"runtime",f),u(Oe,"typeName","yorkie.v1.ChangeID"),u(Oe,"fields",f.util.newFieldList(()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3},{no:3,name:"lamport",kind:"scalar",T:3},{no:4,name:"actor_id",kind:"scalar",T:12},{no:5,name:"version_vector",kind:"message",T:tc}])),Oe);var Ce;let tc=(Ce=class extends k{constructor(n){super();u(this,"vector",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Ce().fromBinary(n,i)}static fromJson(n,i){return new Ce().fromJson(n,i)}static fromJsonString(n,i){return new Ce().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ce,n,i)}},u(Ce,"runtime",f),u(Ce,"typeName","yorkie.v1.VersionVector"),u(Ce,"fields",f.util.newFieldList(()=>[{no:1,name:"vector",kind:"map",K:9,V:{kind:"scalar",T:3}}])),Ce);var Re;let bd=(Re=class extends k{constructor(n){super();u(this,"body",{case:void 0});f.util.initPartial(n,this)}static fromBinary(n,i){return new Re().fromBinary(n,i)}static fromJson(n,i){return new Re().fromJson(n,i)}static fromJsonString(n,i){return new Re().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Re,n,i)}},u(Re,"runtime",f),u(Re,"typeName","yorkie.v1.Operation"),u(Re,"fields",f.util.newFieldList(()=>[{no:1,name:"set",kind:"message",T:fu,oneof:"body"},{no:2,name:"add",kind:"message",T:hu,oneof:"body"},{no:3,name:"move",kind:"message",T:du,oneof:"body"},{no:4,name:"remove",kind:"message",T:gu,oneof:"body"},{no:5,name:"edit",kind:"message",T:mu,oneof:"body"},{no:6,name:"select",kind:"message",T:Xf,oneof:"body"},{no:7,name:"style",kind:"message",T:yu,oneof:"body"},{no:8,name:"increase",kind:"message",T:pu,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:vu,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:Su,oneof:"body"},{no:11,name:"array_set",kind:"message",T:Zf,oneof:"body"}])),Re);const On=class On extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"key","");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new On().fromBinary(n,i)}static fromJson(n,i){return new On().fromJson(n,i)}static fromJsonString(n,i){return new On().fromJsonString(n,i)}static equals(n,i){return f.util.equals(On,n,i)}};u(On,"runtime",f),u(On,"typeName","yorkie.v1.Operation.Set"),u(On,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:Ne},{no:4,name:"executed_at",kind:"message",T:M}]));let fu=On;const Cn=class Cn extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"prevCreatedAt");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Cn().fromBinary(n,i)}static fromJson(n,i){return new Cn().fromJson(n,i)}static fromJsonString(n,i){return new Cn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Cn,n,i)}};u(Cn,"runtime",f),u(Cn,"typeName","yorkie.v1.Operation.Add"),u(Cn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"prev_created_at",kind:"message",T:M},{no:3,name:"value",kind:"message",T:Ne},{no:4,name:"executed_at",kind:"message",T:M}]));let hu=Cn;const Rn=class Rn extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"prevCreatedAt");u(this,"createdAt");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Rn().fromBinary(n,i)}static fromJson(n,i){return new Rn().fromJson(n,i)}static fromJsonString(n,i){return new Rn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Rn,n,i)}};u(Rn,"runtime",f),u(Rn,"typeName","yorkie.v1.Operation.Move"),u(Rn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"prev_created_at",kind:"message",T:M},{no:3,name:"created_at",kind:"message",T:M},{no:4,name:"executed_at",kind:"message",T:M}]));let du=Rn;const kn=class kn extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"createdAt");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new kn().fromBinary(n,i)}static fromJson(n,i){return new kn().fromJson(n,i)}static fromJsonString(n,i){return new kn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(kn,n,i)}};u(kn,"runtime",f),u(kn,"typeName","yorkie.v1.Operation.Remove"),u(kn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"created_at",kind:"message",T:M},{no:3,name:"executed_at",kind:"message",T:M}]));let gu=kn;const Bn=class Bn extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"createdAtMapByActor",{});u(this,"content","");u(this,"executedAt");u(this,"attributes",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Bn().fromBinary(n,i)}static fromJson(n,i){return new Bn().fromJson(n,i)}static fromJsonString(n,i){return new Bn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Bn,n,i)}};u(Bn,"runtime",f),u(Bn,"typeName","yorkie.v1.Operation.Edit"),u(Bn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"from",kind:"message",T:Yi},{no:3,name:"to",kind:"message",T:Yi},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:M}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:M},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let mu=Bn;const In=class In extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new In().fromBinary(n,i)}static fromJson(n,i){return new In().fromJson(n,i)}static fromJsonString(n,i){return new In().fromJsonString(n,i)}static equals(n,i){return f.util.equals(In,n,i)}};u(In,"runtime",f),u(In,"typeName","yorkie.v1.Operation.Select"),u(In,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"from",kind:"message",T:Yi},{no:3,name:"to",kind:"message",T:Yi},{no:4,name:"executed_at",kind:"message",T:M}]));let Xf=In;const Mn=class Mn extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"attributes",{});u(this,"executedAt");u(this,"createdAtMapByActor",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Mn().fromBinary(n,i)}static fromJson(n,i){return new Mn().fromJson(n,i)}static fromJsonString(n,i){return new Mn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Mn,n,i)}};u(Mn,"runtime",f),u(Mn,"typeName","yorkie.v1.Operation.Style"),u(Mn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"from",kind:"message",T:Yi},{no:3,name:"to",kind:"message",T:Yi},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:M},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:M}}]));let yu=Mn;const zn=class zn extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new zn().fromBinary(n,i)}static fromJson(n,i){return new zn().fromJson(n,i)}static fromJsonString(n,i){return new zn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(zn,n,i)}};u(zn,"runtime",f),u(zn,"typeName","yorkie.v1.Operation.Increase"),u(zn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"value",kind:"message",T:Ne},{no:3,name:"executed_at",kind:"message",T:M}]));let pu=zn;const Un=class Un extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"createdAtMapByActor",{});u(this,"contents",[]);u(this,"splitLevel",0);u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Un().fromBinary(n,i)}static fromJson(n,i){return new Un().fromJson(n,i)}static fromJsonString(n,i){return new Un().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Un,n,i)}};u(Un,"runtime",f),u(Un,"typeName","yorkie.v1.Operation.TreeEdit"),u(Un,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"from",kind:"message",T:ea},{no:3,name:"to",kind:"message",T:ea},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:M}},{no:5,name:"contents",kind:"message",T:Ou,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:M}]));let vu=Un;const Ln=class Ln extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"attributes",{});u(this,"executedAt");u(this,"attributesToRemove",[]);u(this,"createdAtMapByActor",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Ln().fromBinary(n,i)}static fromJson(n,i){return new Ln().fromJson(n,i)}static fromJsonString(n,i){return new Ln().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ln,n,i)}};u(Ln,"runtime",f),u(Ln,"typeName","yorkie.v1.Operation.TreeStyle"),u(Ln,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"from",kind:"message",T:ea},{no:3,name:"to",kind:"message",T:ea},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:M},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:M}}]));let Su=Ln;const qn=class qn extends k{constructor(n){super();u(this,"parentCreatedAt");u(this,"createdAt");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new qn().fromBinary(n,i)}static fromJson(n,i){return new qn().fromJson(n,i)}static fromJsonString(n,i){return new qn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(qn,n,i)}};u(qn,"runtime",f),u(qn,"typeName","yorkie.v1.Operation.ArraySet"),u(qn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"created_at",kind:"message",T:M},{no:3,name:"value",kind:"message",T:Ne},{no:4,name:"executed_at",kind:"message",T:M}]));let Zf=qn;const Jn=class Jn extends k{constructor(n){super();u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");u(this,"type",0);u(this,"value",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new Jn().fromBinary(n,i)}static fromJson(n,i){return new Jn().fromJson(n,i)}static fromJsonString(n,i){return new Jn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Jn,n,i)}};u(Jn,"runtime",f),u(Jn,"typeName","yorkie.v1.JSONElementSimple"),u(Jn,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:M},{no:2,name:"moved_at",kind:"message",T:M},{no:3,name:"removed_at",kind:"message",T:M},{no:4,name:"type",kind:"enum",T:f.getEnumType(H)},{no:5,name:"value",kind:"scalar",T:12}]));let Ne=Jn;const Hn=class Hn extends k{constructor(n){super();u(this,"body",{case:void 0});f.util.initPartial(n,this)}static fromBinary(n,i){return new Hn().fromBinary(n,i)}static fromJson(n,i){return new Hn().fromJson(n,i)}static fromJsonString(n,i){return new Hn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Hn,n,i)}};u(Hn,"runtime",f),u(Hn,"typeName","yorkie.v1.JSONElement"),u(Hn,"fields",f.util.newFieldList(()=>[{no:1,name:"json_object",kind:"message",T:Tu,oneof:"body"},{no:2,name:"json_array",kind:"message",T:bu,oneof:"body"},{no:3,name:"primitive",kind:"message",T:Au,oneof:"body"},{no:5,name:"text",kind:"message",T:wu,oneof:"body"},{no:6,name:"counter",kind:"message",T:Eu,oneof:"body"},{no:7,name:"tree",kind:"message",T:Nu,oneof:"body"}]));let ae=Hn;const Vn=class Vn extends k{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Vn().fromBinary(n,i)}static fromJson(n,i){return new Vn().fromJson(n,i)}static fromJsonString(n,i){return new Vn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Vn,n,i)}};u(Vn,"runtime",f),u(Vn,"typeName","yorkie.v1.JSONElement.JSONObject"),u(Vn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:D0,repeated:!0},{no:2,name:"created_at",kind:"message",T:M},{no:3,name:"moved_at",kind:"message",T:M},{no:4,name:"removed_at",kind:"message",T:M}]));let Tu=Vn;const jn=class jn extends k{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new jn().fromBinary(n,i)}static fromJson(n,i){return new jn().fromJson(n,i)}static fromJsonString(n,i){return new jn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(jn,n,i)}};u(jn,"runtime",f),u(jn,"typeName","yorkie.v1.JSONElement.JSONArray"),u(jn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:xu,repeated:!0},{no:2,name:"created_at",kind:"message",T:M},{no:3,name:"moved_at",kind:"message",T:M},{no:4,name:"removed_at",kind:"message",T:M}]));let bu=jn;const Pn=class Pn extends k{constructor(n){super();u(this,"type",0);u(this,"value",new Uint8Array(0));u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Pn().fromBinary(n,i)}static fromJson(n,i){return new Pn().fromJson(n,i)}static fromJsonString(n,i){return new Pn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Pn,n,i)}};u(Pn,"runtime",f),u(Pn,"typeName","yorkie.v1.JSONElement.Primitive"),u(Pn,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(H)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:M},{no:4,name:"moved_at",kind:"message",T:M},{no:5,name:"removed_at",kind:"message",T:M}]));let Au=Pn;const Gn=class Gn extends k{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Gn().fromBinary(n,i)}static fromJson(n,i){return new Gn().fromJson(n,i)}static fromJsonString(n,i){return new Gn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Gn,n,i)}};u(Gn,"runtime",f),u(Gn,"typeName","yorkie.v1.JSONElement.Text"),u(Gn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Du,repeated:!0},{no:2,name:"created_at",kind:"message",T:M},{no:3,name:"moved_at",kind:"message",T:M},{no:4,name:"removed_at",kind:"message",T:M}]));let wu=Gn;const Yn=class Yn extends k{constructor(n){super();u(this,"type",0);u(this,"value",new Uint8Array(0));u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Yn().fromBinary(n,i)}static fromJson(n,i){return new Yn().fromJson(n,i)}static fromJsonString(n,i){return new Yn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Yn,n,i)}};u(Yn,"runtime",f),u(Yn,"typeName","yorkie.v1.JSONElement.Counter"),u(Yn,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(H)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:M},{no:4,name:"moved_at",kind:"message",T:M},{no:5,name:"removed_at",kind:"message",T:M}]));let Eu=Yn;const Kn=class Kn extends k{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Kn().fromBinary(n,i)}static fromJson(n,i){return new Kn().fromJson(n,i)}static fromJsonString(n,i){return new Kn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Kn,n,i)}};u(Kn,"runtime",f),u(Kn,"typeName","yorkie.v1.JSONElement.Tree"),u(Kn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:mo,repeated:!0},{no:2,name:"created_at",kind:"message",T:M},{no:3,name:"moved_at",kind:"message",T:M},{no:4,name:"removed_at",kind:"message",T:M}]));let Nu=Kn;var ke;let D0=(ke=class extends k{constructor(n){super();u(this,"key","");u(this,"element");f.util.initPartial(n,this)}static fromBinary(n,i){return new ke().fromBinary(n,i)}static fromJson(n,i){return new ke().fromJson(n,i)}static fromJsonString(n,i){return new ke().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ke,n,i)}},u(ke,"runtime",f),u(ke,"typeName","yorkie.v1.RHTNode"),u(ke,"fields",f.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:ae}])),ke);const nn=class nn extends k{constructor(n){super();u(this,"next");u(this,"element");f.util.initPartial(n,this)}static fromBinary(n,i){return new nn().fromBinary(n,i)}static fromJson(n,i){return new nn().fromJson(n,i)}static fromJsonString(n,i){return new nn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(nn,n,i)}};u(nn,"runtime",f),u(nn,"typeName","yorkie.v1.RGANode"),u(nn,"fields",f.util.newFieldList(()=>[{no:1,name:"next",kind:"message",T:nn},{no:2,name:"element",kind:"message",T:ae}]));let xu=nn;const $n=class $n extends k{constructor(n){super();u(this,"value","");u(this,"updatedAt");u(this,"isRemoved",!1);f.util.initPartial(n,this)}static fromBinary(n,i){return new $n().fromBinary(n,i)}static fromJson(n,i){return new $n().fromJson(n,i)}static fromJsonString(n,i){return new $n().fromJsonString(n,i)}static equals(n,i){return f.util.equals($n,n,i)}};u($n,"runtime",f),u($n,"typeName","yorkie.v1.NodeAttr"),u($n,"fields",f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:M},{no:3,name:"is_removed",kind:"scalar",T:8}]));let is=$n;const Xn=class Xn extends k{constructor(n){super();u(this,"id");u(this,"value","");u(this,"removedAt");u(this,"insPrevId");u(this,"attributes",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Xn().fromBinary(n,i)}static fromJson(n,i){return new Xn().fromJson(n,i)}static fromJsonString(n,i){return new Xn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Xn,n,i)}};u(Xn,"runtime",f),u(Xn,"typeName","yorkie.v1.TextNode"),u(Xn,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:go},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:M},{no:4,name:"ins_prev_id",kind:"message",T:go},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:is}}]));let Du=Xn;const Zn=class Zn extends k{constructor(n){super();u(this,"createdAt");u(this,"offset",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new Zn().fromBinary(n,i)}static fromJson(n,i){return new Zn().fromJson(n,i)}static fromJsonString(n,i){return new Zn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Zn,n,i)}};u(Zn,"runtime",f),u(Zn,"typeName","yorkie.v1.TextNodeID"),u(Zn,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:M},{no:2,name:"offset",kind:"scalar",T:5}]));let go=Zn;const Qn=class Qn extends k{constructor(n){super();u(this,"id");u(this,"type","");u(this,"value","");u(this,"removedAt");u(this,"insPrevId");u(this,"insNextId");u(this,"depth",0);u(this,"attributes",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Qn().fromBinary(n,i)}static fromJson(n,i){return new Qn().fromJson(n,i)}static fromJsonString(n,i){return new Qn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Qn,n,i)}};u(Qn,"runtime",f),u(Qn,"typeName","yorkie.v1.TreeNode"),u(Qn,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:br},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:M},{no:5,name:"ins_prev_id",kind:"message",T:br},{no:6,name:"ins_next_id",kind:"message",T:br},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:is}}]));let mo=Qn;const _n=class _n extends k{constructor(n){super();u(this,"content",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new _n().fromBinary(n,i)}static fromJson(n,i){return new _n().fromJson(n,i)}static fromJsonString(n,i){return new _n().fromJsonString(n,i)}static equals(n,i){return f.util.equals(_n,n,i)}};u(_n,"runtime",f),u(_n,"typeName","yorkie.v1.TreeNodes"),u(_n,"fields",f.util.newFieldList(()=>[{no:1,name:"content",kind:"message",T:mo,repeated:!0}]));let Ou=_n;const Fn=class Fn extends k{constructor(n){super();u(this,"createdAt");u(this,"offset",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new Fn().fromBinary(n,i)}static fromJson(n,i){return new Fn().fromJson(n,i)}static fromJsonString(n,i){return new Fn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Fn,n,i)}};u(Fn,"runtime",f),u(Fn,"typeName","yorkie.v1.TreeNodeID"),u(Fn,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:M},{no:2,name:"offset",kind:"scalar",T:5}]));let br=Fn;const Wn=class Wn extends k{constructor(n){super();u(this,"parentId");u(this,"leftSiblingId");f.util.initPartial(n,this)}static fromBinary(n,i){return new Wn().fromBinary(n,i)}static fromJson(n,i){return new Wn().fromJson(n,i)}static fromJsonString(n,i){return new Wn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Wn,n,i)}};u(Wn,"runtime",f),u(Wn,"typeName","yorkie.v1.TreePos"),u(Wn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_id",kind:"message",T:br},{no:2,name:"left_sibling_id",kind:"message",T:br}]));let ea=Wn;const ti=class ti extends k{constructor(n){super();u(this,"id","");u(this,"username","");u(this,"createdAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new ti().fromBinary(n,i)}static fromJson(n,i){return new ti().fromJson(n,i)}static fromJsonString(n,i){return new ti().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ti,n,i)}};u(ti,"runtime",f),u(ti,"typeName","yorkie.v1.User"),u(ti,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"created_at",kind:"message",T:Gt}]));let Pm=ti;const ei=class ei extends k{constructor(n){super();u(this,"id","");u(this,"name","");u(this,"publicKey","");u(this,"secretKey","");u(this,"authWebhookUrl","");u(this,"authWebhookMethods",[]);u(this,"clientDeactivateThreshold","");u(this,"createdAt");u(this,"updatedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new ei().fromBinary(n,i)}static fromJson(n,i){return new ei().fromJson(n,i)}static fromJsonString(n,i){return new ei().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ei,n,i)}};u(ei,"runtime",f),u(ei,"typeName","yorkie.v1.Project"),u(ei,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:8,name:"created_at",kind:"message",T:Gt},{no:9,name:"updated_at",kind:"message",T:Gt}]));let Gm=ei;const ni=class ni extends k{constructor(n){super();u(this,"name");u(this,"authWebhookUrl");u(this,"authWebhookMethods");u(this,"clientDeactivateThreshold");f.util.initPartial(n,this)}static fromBinary(n,i){return new ni().fromBinary(n,i)}static fromJson(n,i){return new ni().fromJson(n,i)}static fromJsonString(n,i){return new ni().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ni,n,i)}};u(ni,"runtime",f),u(ni,"typeName","yorkie.v1.UpdatableProjectFields"),u(ni,"fields",f.util.newFieldList(()=>[{no:1,name:"name",kind:"message",T:he},{no:2,name:"auth_webhook_url",kind:"message",T:he},{no:3,name:"auth_webhook_methods",kind:"message",T:Qf},{no:4,name:"client_deactivate_threshold",kind:"message",T:he}]));let Ym=ni;const ii=class ii extends k{constructor(n){super();u(this,"methods",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new ii().fromBinary(n,i)}static fromJson(n,i){return new ii().fromJson(n,i)}static fromJsonString(n,i){return new ii().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ii,n,i)}};u(ii,"runtime",f),u(ii,"typeName","yorkie.v1.UpdatableProjectFields.AuthWebhookMethods"),u(ii,"fields",f.util.newFieldList(()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}]));let Qf=ii;const ri=class ri extends k{constructor(n){super();u(this,"id","");u(this,"key","");u(this,"snapshot","");u(this,"createdAt");u(this,"accessedAt");u(this,"updatedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new ri().fromBinary(n,i)}static fromJson(n,i){return new ri().fromJson(n,i)}static fromJsonString(n,i){return new ri().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ri,n,i)}};u(ri,"runtime",f),u(ri,"typeName","yorkie.v1.DocumentSummary"),u(ri,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"snapshot",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:Gt},{no:5,name:"accessed_at",kind:"message",T:Gt},{no:6,name:"updated_at",kind:"message",T:Gt}]));let Km=ri;const ai=class ai extends k{constructor(n){super();u(this,"type",0);u(this,"presence");f.util.initPartial(n,this)}static fromBinary(n,i){return new ai().fromBinary(n,i)}static fromJson(n,i){return new ai().fromJson(n,i)}static fromJsonString(n,i){return new ai().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ai,n,i)}};u(ai,"runtime",f),u(ai,"typeName","yorkie.v1.PresenceChange"),u(ai,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(na)},{no:2,name:"presence",kind:"message",T:Ad}]));let yo=ai;var na=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PUT=1]="PUT",e[e.DELETE=2]="DELETE",e[e.CLEAR=3]="CLEAR",e))(na||{});f.util.setEnumType(na,"yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT"},{no:2,name:"CHANGE_TYPE_DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR"}]);var Be;let Ad=(Be=class extends k{constructor(n){super();u(this,"data",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Be().fromBinary(n,i)}static fromJson(n,i){return new Be().fromJson(n,i)}static fromJsonString(n,i){return new Be().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Be,n,i)}},u(Be,"runtime",f),u(Be,"typeName","yorkie.v1.Presence"),u(Be,"fields",f.util.newFieldList(()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}])),Be);var Ie;let O0=(Ie=class extends k{constructor(n){super();u(this,"serverSeq",ft.zero);u(this,"clientSeq",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new Ie().fromBinary(n,i)}static fromJson(n,i){return new Ie().fromJson(n,i)}static fromJsonString(n,i){return new Ie().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ie,n,i)}},u(Ie,"runtime",f),u(Ie,"typeName","yorkie.v1.Checkpoint"),u(Ie,"fields",f.util.newFieldList(()=>[{no:1,name:"server_seq",kind:"scalar",T:3},{no:2,name:"client_seq",kind:"scalar",T:13}])),Ie);const si=class si extends k{constructor(n){super();u(this,"createdAt");u(this,"offset",0);u(this,"relativeOffset",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new si().fromBinary(n,i)}static fromJson(n,i){return new si().fromJson(n,i)}static fromJsonString(n,i){return new si().fromJsonString(n,i)}static equals(n,i){return f.util.equals(si,n,i)}};u(si,"runtime",f),u(si,"typeName","yorkie.v1.TextNodePos"),u(si,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:M},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]));let Yi=si;var Me;let M=(Me=class extends k{constructor(n){super();u(this,"lamport",ft.zero);u(this,"delimiter",0);u(this,"actorId",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new Me().fromBinary(n,i)}static fromJson(n,i){return new Me().fromJson(n,i)}static fromJsonString(n,i){return new Me().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Me,n,i)}},u(Me,"runtime",f),u(Me,"typeName","yorkie.v1.TimeTicket"),u(Me,"fields",f.util.newFieldList(()=>[{no:1,name:"lamport",kind:"scalar",T:3},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}])),Me);const oi=class oi extends k{constructor(n){super();u(this,"topic","");u(this,"payload",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new oi().fromBinary(n,i)}static fromJson(n,i){return new oi().fromJson(n,i)}static fromJsonString(n,i){return new oi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(oi,n,i)}};u(oi,"runtime",f),u(oi,"typeName","yorkie.v1.DocEventBody"),u(oi,"fields",f.util.newFieldList(()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]));let _f=oi;const li=class li extends k{constructor(n){super();u(this,"type",0);u(this,"publisher","");u(this,"body");f.util.initPartial(n,this)}static fromBinary(n,i){return new li().fromBinary(n,i)}static fromJson(n,i){return new li().fromJson(n,i)}static fromJsonString(n,i){return new li().fromJsonString(n,i)}static equals(n,i){return f.util.equals(li,n,i)}};u(li,"runtime",f),u(li,"typeName","yorkie.v1.DocEvent"),u(li,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(Qr)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:_f}]));let Ff=li;const ui=class ui extends k{constructor(n){super();u(this,"clientKey","");u(this,"metadata",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new ui().fromBinary(n,i)}static fromJson(n,i){return new ui().fromJson(n,i)}static fromJsonString(n,i){return new ui().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ui,n,i)}};u(ui,"runtime",f),u(ui,"typeName","yorkie.v1.ActivateClientRequest"),u(ui,"fields",f.util.newFieldList(()=>[{no:1,name:"client_key",kind:"scalar",T:9},{no:2,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let Wf=ui;const ci=class ci extends k{constructor(n){super();u(this,"clientId","");f.util.initPartial(n,this)}static fromBinary(n,i){return new ci().fromBinary(n,i)}static fromJson(n,i){return new ci().fromJson(n,i)}static fromJsonString(n,i){return new ci().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ci,n,i)}};u(ci,"runtime",f),u(ci,"typeName","yorkie.v1.ActivateClientResponse"),u(ci,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let th=ci;const fi=class fi extends k{constructor(n){super();u(this,"clientId","");f.util.initPartial(n,this)}static fromBinary(n,i){return new fi().fromBinary(n,i)}static fromJson(n,i){return new fi().fromJson(n,i)}static fromJsonString(n,i){return new fi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(fi,n,i)}};u(fi,"runtime",f),u(fi,"typeName","yorkie.v1.DeactivateClientRequest"),u(fi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let eh=fi;const hi=class hi extends k{constructor(t){super(),f.util.initPartial(t,this)}static fromBinary(t,n){return new hi().fromBinary(t,n)}static fromJson(t,n){return new hi().fromJson(t,n)}static fromJsonString(t,n){return new hi().fromJsonString(t,n)}static equals(t,n){return f.util.equals(hi,t,n)}};u(hi,"runtime",f),u(hi,"typeName","yorkie.v1.DeactivateClientResponse"),u(hi,"fields",f.util.newFieldList(()=>[]));let nh=hi;const di=class di extends k{constructor(n){super();u(this,"clientId","");u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new di().fromBinary(n,i)}static fromJson(n,i){return new di().fromJson(n,i)}static fromJsonString(n,i){return new di().fromJsonString(n,i)}static equals(n,i){return f.util.equals(di,n,i)}};u(di,"runtime",f),u(di,"typeName","yorkie.v1.AttachDocumentRequest"),u(di,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Xi}]));let ih=di;const gi=class gi extends k{constructor(n){super();u(this,"documentId","");u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new gi().fromBinary(n,i)}static fromJson(n,i){return new gi().fromJson(n,i)}static fromJsonString(n,i){return new gi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(gi,n,i)}};u(gi,"runtime",f),u(gi,"typeName","yorkie.v1.AttachDocumentResponse"),u(gi,"fields",f.util.newFieldList(()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Xi}]));let rh=gi;const mi=class mi extends k{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"changePack");u(this,"removeIfNotAttached",!1);f.util.initPartial(n,this)}static fromBinary(n,i){return new mi().fromBinary(n,i)}static fromJson(n,i){return new mi().fromJson(n,i)}static fromJsonString(n,i){return new mi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(mi,n,i)}};u(mi,"runtime",f),u(mi,"typeName","yorkie.v1.DetachDocumentRequest"),u(mi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Xi},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]));let ah=mi;const yi=class yi extends k{constructor(n){super();u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new yi().fromBinary(n,i)}static fromJson(n,i){return new yi().fromJson(n,i)}static fromJsonString(n,i){return new yi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(yi,n,i)}};u(yi,"runtime",f),u(yi,"typeName","yorkie.v1.DetachDocumentResponse"),u(yi,"fields",f.util.newFieldList(()=>[{no:2,name:"change_pack",kind:"message",T:Xi}]));let sh=yi;const pi=class pi extends k{constructor(n){super();u(this,"clientId","");u(this,"documentId","");f.util.initPartial(n,this)}static fromBinary(n,i){return new pi().fromBinary(n,i)}static fromJson(n,i){return new pi().fromJson(n,i)}static fromJsonString(n,i){return new pi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(pi,n,i)}};u(pi,"runtime",f),u(pi,"typeName","yorkie.v1.WatchDocumentRequest"),u(pi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]));let oh=pi;const vi=class vi extends k{constructor(n){super();u(this,"body",{case:void 0});f.util.initPartial(n,this)}static fromBinary(n,i){return new vi().fromBinary(n,i)}static fromJson(n,i){return new vi().fromJson(n,i)}static fromJsonString(n,i){return new vi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(vi,n,i)}};u(vi,"runtime",f),u(vi,"typeName","yorkie.v1.WatchDocumentResponse"),u(vi,"fields",f.util.newFieldList(()=>[{no:1,name:"initialization",kind:"message",T:uh,oneof:"body"},{no:2,name:"event",kind:"message",T:Ff,oneof:"body"}]));let lh=vi;const Si=class Si extends k{constructor(n){super();u(this,"clientIds",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new Si().fromBinary(n,i)}static fromJson(n,i){return new Si().fromJson(n,i)}static fromJsonString(n,i){return new Si().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Si,n,i)}};u(Si,"runtime",f),u(Si,"typeName","yorkie.v1.WatchDocumentResponse.Initialization"),u(Si,"fields",f.util.newFieldList(()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}]));let uh=Si;const Ti=class Ti extends k{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new Ti().fromBinary(n,i)}static fromJson(n,i){return new Ti().fromJson(n,i)}static fromJsonString(n,i){return new Ti().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ti,n,i)}};u(Ti,"runtime",f),u(Ti,"typeName","yorkie.v1.RemoveDocumentRequest"),u(Ti,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Xi}]));let ch=Ti;const bi=class bi extends k{constructor(n){super();u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new bi().fromBinary(n,i)}static fromJson(n,i){return new bi().fromJson(n,i)}static fromJsonString(n,i){return new bi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(bi,n,i)}};u(bi,"runtime",f),u(bi,"typeName","yorkie.v1.RemoveDocumentResponse"),u(bi,"fields",f.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Xi}]));let fh=bi;const Ai=class Ai extends k{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"changePack");u(this,"pushOnly",!1);f.util.initPartial(n,this)}static fromBinary(n,i){return new Ai().fromBinary(n,i)}static fromJson(n,i){return new Ai().fromJson(n,i)}static fromJsonString(n,i){return new Ai().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ai,n,i)}};u(Ai,"runtime",f),u(Ai,"typeName","yorkie.v1.PushPullChangesRequest"),u(Ai,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Xi},{no:4,name:"push_only",kind:"scalar",T:8}]));let hh=Ai;const wi=class wi extends k{constructor(n){super();u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new wi().fromBinary(n,i)}static fromJson(n,i){return new wi().fromJson(n,i)}static fromJsonString(n,i){return new wi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(wi,n,i)}};u(wi,"runtime",f),u(wi,"typeName","yorkie.v1.PushPullChangesResponse"),u(wi,"fields",f.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Xi}]));let dh=wi;const Ei=class Ei extends k{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"topic","");u(this,"payload",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new Ei().fromBinary(n,i)}static fromJson(n,i){return new Ei().fromJson(n,i)}static fromJsonString(n,i){return new Ei().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ei,n,i)}};u(Ei,"runtime",f),u(Ei,"typeName","yorkie.v1.BroadcastRequest"),u(Ei,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]));let gh=Ei;const Ni=class Ni extends k{constructor(t){super(),f.util.initPartial(t,this)}static fromBinary(t,n){return new Ni().fromBinary(t,n)}static fromJson(t,n){return new Ni().fromJson(t,n)}static fromJsonString(t,n){return new Ni().fromJsonString(t,n)}static equals(t,n){return f.util.equals(Ni,t,n)}};u(Ni,"runtime",f),u(Ni,"typeName","yorkie.v1.BroadcastResponse"),u(Ni,"fields",f.util.newFieldList(()=>[]));let mh=Ni;const I1={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:Wf,O:th,kind:Xt.Unary},deactivateClient:{name:"DeactivateClient",I:eh,O:nh,kind:Xt.Unary},attachDocument:{name:"AttachDocument",I:ih,O:rh,kind:Xt.Unary},detachDocument:{name:"DetachDocument",I:ah,O:sh,kind:Xt.Unary},removeDocument:{name:"RemoveDocument",I:ch,O:fh,kind:Xt.Unary},pushPullChanges:{name:"PushPullChanges",I:hh,O:dh,kind:Xt.Unary},watchDocument:{name:"WatchDocument",I:oh,O:lh,kind:Xt.ServerStreaming},broadcast:{name:"Broadcast",I:gh,O:mh,kind:Xt.Unary}}},M1=f.makeMessageType("google.rpc.ErrorInfo",()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]);f.makeMessageType("google.rpc.RetryInfo",()=>[{no:1,name:"retry_delay",kind:"message",T:Mi}]);f.makeMessageType("google.rpc.DebugInfo",()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.QuotaFailure",()=>[{no:1,name:"violations",kind:"message",T:z1,repeated:!0}]);const z1=f.makeMessageType("google.rpc.QuotaFailure.Violation",()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}],{localName:"QuotaFailure_Violation"});f.makeMessageType("google.rpc.PreconditionFailure",()=>[{no:1,name:"violations",kind:"message",T:U1,repeated:!0}]);const U1=f.makeMessageType("google.rpc.PreconditionFailure.Violation",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}],{localName:"PreconditionFailure_Violation"});f.makeMessageType("google.rpc.BadRequest",()=>[{no:1,name:"field_violations",kind:"message",T:L1,repeated:!0}]);const L1=f.makeMessageType("google.rpc.BadRequest.FieldViolation",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"reason",kind:"scalar",T:9},{no:4,name:"localized_message",kind:"message",T:J1}],{localName:"BadRequest_FieldViolation"});f.makeMessageType("google.rpc.RequestInfo",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.ResourceInfo",()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.Help",()=>[{no:1,name:"links",kind:"message",T:q1,repeated:!0}]);const q1=f.makeMessageType("google.rpc.Help.Link",()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}],{localName:"Help_Link"}),J1=f.makeMessageType("google.rpc.LocalizedMessage",()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]);var S=(e=>(e.Ok="ok",e.ErrClientNotActivated="ErrClientNotActivated",e.ErrClientNotFound="ErrClientNotFound",e.ErrUnimplemented="ErrUnimplemented",e.ErrInvalidType="ErrInvalidType",e.ErrDummy="ErrDummy",e.ErrDocumentNotAttached="ErrDocumentNotAttached",e.ErrDocumentNotDetached="ErrDocumentNotDetached",e.ErrDocumentRemoved="ErrDocumentRemoved",e.ErrInvalidObjectKey="ErrInvalidObjectKey",e.ErrInvalidArgument="ErrInvalidArgument",e.ErrNotInitialized="ErrNotInitialized",e.ErrNotReady="ErrNotReady",e.ErrRefused="ErrRefused",e.ErrContextNotProvided="ErrContextNotProvided",e.ErrPermissionDenied="ErrPermissionDenied",e.ErrUnauthenticated="ErrUnauthenticated",e.ErrTooManySubscribers="ErrTooManySubscribers",e.ErrTooManyAttachments="ErrTooManyAttachments",e))(S||{});class b extends Error{constructor(n,i){super(i);u(this,"name","YorkieError");u(this,"stack");this.code=n,this.message=i,this.toString=()=>`[code=${this.code}]: ${this.message}`}}function Ke(e){if(e instanceof Map){const t=Array.from(e);return new Map(JSON.parse(JSON.stringify(t)))}return JSON.parse(JSON.stringify(e))}const C0=e=>e?Object.entries(e).length===0:!0,rs=e=>{const t={};for(const[n,i]of Object.entries(e))t[n]=JSON.stringify(i);return t},Ha=e=>{const t={};for(const[n,i]of Object.entries(e))t[n]=JSON.parse(i);return t};var Cr=(e=>(e.Put="put",e.Clear="clear",e))(Cr||{});class Yc{constructor(t,n){u(this,"context");u(this,"presence");this.context=t,this.presence=n}set(t,n){for(const i of Object.keys(t))this.presence[i]=t[i];this.context.setPresenceChange({type:"put",presence:Ke(this.presence)}),this.context.setReversePresence(t,n)}get(t){return this.presence[t]}clear(){this.presence={},this.context.setPresenceChange({type:"clear"})}}const ec="000000000000000000000000",Ar=24;class He{constructor(t,n,i){u(this,"lamport");u(this,"delimiter");u(this,"actorID");this.lamport=t,this.delimiter=n,this.actorID=i}static of(t,n,i){return new He(t,n,i)}static fromStruct(t){return He.of(BigInt(t.lamport),t.delimiter,t.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(t){return new He(this.lamport,this.delimiter,t)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(t){return this.compare(t)>0}equals(t){return this.compare(t)===0}compare(t){if(this.lamport>t.lamport)return 1;if(t.lamport>this.lamport)return-1;const n=this.actorID.localeCompare(t.actorID);return n!==0?n:this.delimiter>t.delimiter?1:t.delimiter>this.delimiter?-1:0}}const R0=0,Zs=9223372036854775807n,_e=new He(0n,R0,ec);function yn(e){return e.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(t){switch(t){case'"':case"\\":return"\\"+t;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return t}})}class Jo{constructor(t){u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");this.createdAt=t}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(t){return!this.movedAt||t&&t.after(this.movedAt)?(this.movedAt=t,!0):!1}setRemovedAt(t){this.removedAt=t}remove(t){return t&&t.after(this.getPositionedAt())&&(!this.removedAt||t.after(this.removedAt))?(this.removedAt=t,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let t=0;return this.getCreatedAt()&&(t+=Ar),this.getMovedAt()&&(t+=Ar),this.getRemovedAt()&&(t+=Ar),t}}class wr extends Jo{constructor(t){super(t)}}class wd{constructor(t,n){u(this,"strKey");u(this,"value");this.strKey=t,this.value=n}static of(t,n){return new wd(t,n)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(t){return this.value.remove(t)}}class po{constructor(){u(this,"nodeMapByKey");u(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new po}set(t,n,i){let r;const a=this.nodeMapByKey.get(t);a!=null&&!a.isRemoved()&&a.remove(i)&&(r=a.getValue());const s=wd.of(t,n);return this.nodeMapByCreatedAt.set(n.getCreatedAt().toIDString(),s),(a==null||i.after(a.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(t,s),n.setMovedAt(i)),r}delete(t,n){if(!this.nodeMapByCreatedAt.has(t.toIDString()))throw new b(S.ErrInvalidArgument,`fail to find ${t.toIDString()}`);const i=this.nodeMapByCreatedAt.get(t.toIDString());return i.remove(n),i.getValue()}subPathOf(t){const n=this.nodeMapByCreatedAt.get(t.toIDString());if(n)return n.getStrKey()}purge(t){const n=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!n)throw new b(S.ErrInvalidArgument,`fail to find ${t.getCreatedAt().toIDString()}`);const i=this.nodeMapByKey.get(n.getStrKey());n===i&&this.nodeMapByKey.delete(i.getStrKey()),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}deleteByKey(t,n){const i=this.nodeMapByKey.get(t);if(i!=null&&i.remove(n))return i.getValue()}has(t){const n=this.nodeMapByKey.get(t);return n==null?!1:!n.isRemoved()}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}get(t){const n=this.nodeMapByKey.get(t);if(!(!n||n.isRemoved()))return n}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}}class ie extends wr{constructor(n,i){super(n);u(this,"memberNodes");this.memberNodes=i}static create(n,i){if(!i)return new ie(n,po.create());const r=po.create();for(const[a,s]of Object.entries(i))r.set(a,s.deepcopy(),s.getCreatedAt());return new ie(n,r)}subPathOf(n){return this.memberNodes.subPathOf(n)}purge(n){this.memberNodes.purge(n)}set(n,i,r){return this.memberNodes.set(n,i,r)}delete(n,i){return this.memberNodes.delete(n,i)}deleteByKey(n,i){return this.memberNodes.deleteByKey(n,i)}get(n){const i=this.memberNodes.get(n);return i==null?void 0:i.getValue()}getByID(n){const i=this.memberNodes.getByID(n);return i==null?void 0:i.getValue()}has(n){return this.memberNodes.has(n)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const n=[];for(const[i,r]of this)n.push(`"${yn(i)}":${r.toJSON()}`);return`{${n.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const n={};for(const[i,r]of this){const{createdAt:a,value:s,type:o}=r.toJSForTest();n[i]={key:i,createdAt:a,value:s,type:o}}return{createdAt:this.getCreatedAt().toTestString(),value:n,type:"YORKIE_OBJECT"}}getKeys(){const n=Array();for(const[i]of this)n.push(i);return n}toSortedJSON(){var r;const n=Array();for(const[a]of this)n.push(a);const i=[];for(const a of n.sort()){const s=(r=this.memberNodes.get(a))==null?void 0:r.getValue();i.push(`"${yn(a)}":${s.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const n=ie.create(this.getCreatedAt());for(const i of this.memberNodes)n.memberNodes.set(i.getStrKey(),i.getValue().deepcopy(),this.getPositionedAt());return n.remove(this.getRemovedAt()),n}getDescendants(n){for(const i of this.memberNodes){const r=i.getValue();if(n(r,this))return;r instanceof wr&&r.getDescendants(n)}}*[Symbol.iterator](){const n=new Set;for(const i of this.memberNodes)n.has(i.getStrKey())||(n.add(i.getStrKey()),i.isRemoved()||(yield[i.getStrKey(),i.getValue()]))}}var st=(e=>(e.Local="local",e.Remote="remote",e.UndoRedo="undoredo",e))(st||{});class We{constructor(t,n){u(this,"parentCreatedAt");u(this,"executedAt");this.parentCreatedAt=t,this.executedAt=n}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new b(S.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(t){this.executedAt&&(this.executedAt=this.executedAt.setActor(t))}setExecutedAt(t){this.executedAt=t}}class k0{constructor(t){u(this,"value");u(this,"left");u(this,"right");u(this,"parent");u(this,"weight");this.value=t,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(t){this.left=t}setRight(t){this.right=t}setParent(t){this.parent=t}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(t){this.weight+=t}initWeight(){this.weight=this.getLength()}}class vo{constructor(t){u(this,"root");this.root=t}get length(){return this.root?this.root.getWeight():0}find(t){if(!this.root||t<0)return[void 0,0];let n=this.root;for(;;)if(n.hasLeft()&&t<=n.getLeftWeight())n=n.getLeft();else if(n.hasRight()&&n.getLeftWeight()+n.getLength()<t)t-=n.getLeftWeight()+n.getLength(),n=n.getRight();else{t-=n.getLeftWeight();break}if(t>n.getLength())throw new b(S.ErrInvalidArgument,`out of index range: pos: ${t} > node.length: ${n.getLength()}`);return this.splayNode(n),[n,t]}indexOf(t){return!t||t!==this.root&&!t.hasLinks()?-1:(this.splayNode(t),this.root.getLeftWeight())}getRoot(){return this.root}insert(t){return this.insertAfter(this.root,t)}insertAfter(t,n){return t?(this.splayNode(t),this.root=n,n.setRight(t.getRight()),t.hasRight()&&t.getRight().setParent(n),n.setLeft(t),t.setParent(n),t.setRight(),this.updateWeight(t),this.updateWeight(n),n):(this.root=n,n)}updateWeight(t){t.initWeight(),t.hasLeft()&&t.increaseWeight(t.getLeftWeight()),t.hasRight()&&t.increaseWeight(t.getRightWeight())}updateTreeWeight(t){for(;t;)this.updateWeight(t),t=t.getParent()}splayNode(t){if(t)for(;;)if(this.isLeftChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t),this.rotateLeft(t);else if(this.isLeftChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t.getParent()),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t.getParent()),this.rotateLeft(t);else{this.isLeftChild(t)?this.rotateRight(t):this.isRightChild(t)&&this.rotateLeft(t),this.updateWeight(t);return}}delete(t){this.splayNode(t);const n=new vo(t.getLeft());n.root&&n.root.setParent();const i=new vo(t.getRight());if(i.root&&i.root.setParent(),n.root){const r=n.getRightmost();n.splayNode(r),n.root.setRight(i.root),i.root&&i.root.setParent(n.root),this.root=n.root}else this.root=i.root;t.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(t,n){if(!n){this.splayNode(t),this.cutOffRight(t);return}this.splayNode(t),this.splayNode(n),n.getLeft()!=t&&this.rotateRight(t),this.cutOffRight(t)}cutOffRight(t){const n=[];this.traversePostorder(t.getRight(),n);for(const i of n)i.initWeight();this.updateTreeWeight(t)}toTestString(){const t=[];return this.traverseInorder(this.root,t),t.map(n=>`[${n.getWeight()},${n.getLength()}]${n.getValue()||""}`).join("")}checkWeight(){const t=[];this.traverseInorder(this.root,t);for(const n of t)if(n.getWeight()!=n.getLength()+n.getLeftWeight()+n.getRightWeight())return!1;return!0}getRightmost(){let t=this.root;for(;t.hasRight();)t=t.getRight();return t}traverseInorder(t,n){t&&(this.traverseInorder(t.getLeft(),n),n.push(t),this.traverseInorder(t.getRight(),n))}traversePostorder(t,n){t&&(this.traversePostorder(t.getLeft(),n),this.traversePostorder(t.getRight(),n),n.push(t))}rotateLeft(t){const n=t.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(t):n.getParent().setRight(t):this.root=t,t.setParent(n.getParent()),n.setRight(t.getLeft()),n.hasRight()&&n.getRight().setParent(n),t.setLeft(n),t.getLeft().setParent(t),this.updateWeight(n),this.updateWeight(t)}rotateRight(t){const n=t.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(t):n.getParent().setRight(t):this.root=t,t.setParent(n.getParent()),n.setLeft(t.getRight()),n.hasLeft()&&n.getLeft().setParent(n),t.setRight(n),t.getRight().setParent(t),this.updateWeight(n),this.updateWeight(t)}isLeftChild(t){return t&&t.hasParent()?t.getParent().getLeft()===t:!1}isRightChild(t){return t&&t.hasParent()?t.getParent().getRight()===t:!1}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var qe=null;try{qe=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function X(e,t,n){this.low=e|0,this.high=t|0,this.unsigned=!!n}X.prototype.__isLong__;Object.defineProperty(X.prototype,"__isLong__",{value:!0});function $t(e){return(e&&e.__isLong__)===!0}function $m(e){var t=Math.clz32(e&-e);return e?31-t:t}X.isLong=$t;var Xm={},Zm={};function la(e,t){var n,i,r;return t?(e>>>=0,(r=0<=e&&e<256)&&(i=Zm[e],i)?i:(n=_(e,0,!0),r&&(Zm[e]=n),n)):(e|=0,(r=-128<=e&&e<128)&&(i=Xm[e],i)?i:(n=_(e,e<0?-1:0,!1),r&&(Xm[e]=n),n))}X.fromInt=la;function Je(e,t){if(isNaN(e))return t?Ui:Xe;if(t){if(e<0)return Ui;if(e>=B0)return z0}else{if(e<=-9223372036854776e3)return ne;if(e+1>=V1)return M0}return e<0?Je(-e,t).neg():_(e%as|0,e/as|0,t)}X.fromNumber=Je;function _(e,t,n){return new X(e,t,n)}X.fromBits=_;var Cu=Math.pow;function Ed(e,t,n){if(e.length===0)throw Error("empty string");if(typeof t=="number"?(n=t,t=!1):t=!!t,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t?Ui:Xe;if(n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return Ed(e.substring(1),t,n).neg();for(var r=Je(Cu(n,8)),a=Xe,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),l=parseInt(e.substring(s,s+o),n);if(o<8){var c=Je(Cu(n,o));a=a.mul(c).add(Je(l))}else a=a.mul(r),a=a.add(Je(l))}return a.unsigned=t,a}X.fromString=Ed;function Ye(e,t){return typeof e=="number"?Je(e,t):typeof e=="string"?Ed(e,t):_(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}X.fromValue=Ye;var Qm=65536,H1=1<<24,as=Qm*Qm,B0=as*as,V1=B0/2,_m=la(H1),Xe=la(0);X.ZERO=Xe;var Ui=la(0,!0);X.UZERO=Ui;var Ra=la(1);X.ONE=Ra;var I0=la(1,!0);X.UONE=I0;var yh=la(-1);X.NEG_ONE=yh;var M0=_(-1,2147483647,!1);X.MAX_VALUE=M0;var z0=_(-1,-1,!0);X.MAX_UNSIGNED_VALUE=z0;var ne=_(0,-2147483648,!1);X.MIN_VALUE=ne;var D=X.prototype;D.toInt=function(){return this.unsigned?this.low>>>0:this.low};D.toNumber=function(){return this.unsigned?(this.high>>>0)*as+(this.low>>>0):this.high*as+(this.low>>>0)};D.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(ne)){var n=Je(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var a=Je(Cu(t,6),this.unsigned),s=this,o="";;){var l=s.div(a),c=s.sub(l.mul(a)).toInt()>>>0,h=c.toString(t);if(s=l,s.isZero())return h+o;for(;h.length<6;)h="0"+h;o=""+h+o}};D.getHighBits=function(){return this.high};D.getHighBitsUnsigned=function(){return this.high>>>0};D.getLowBits=function(){return this.low};D.getLowBitsUnsigned=function(){return this.low>>>0};D.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ne)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,n=31;n>0&&!(t&1<<n);n--);return this.high!=0?n+33:n+1};D.isSafeInteger=function(){var t=this.high>>21;return t?this.unsigned?!1:t===-1&&!(this.low===0&&this.high===-2097152):!0};D.isZero=function(){return this.high===0&&this.low===0};D.eqz=D.isZero;D.isNegative=function(){return!this.unsigned&&this.high<0};D.isPositive=function(){return this.unsigned||this.high>=0};D.isOdd=function(){return(this.low&1)===1};D.isEven=function(){return(this.low&1)===0};D.equals=function(t){return $t(t)||(t=Ye(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low};D.eq=D.equals;D.notEquals=function(t){return!this.eq(t)};D.neq=D.notEquals;D.ne=D.notEquals;D.lessThan=function(t){return this.comp(t)<0};D.lt=D.lessThan;D.lessThanOrEqual=function(t){return this.comp(t)<=0};D.lte=D.lessThanOrEqual;D.le=D.lessThanOrEqual;D.greaterThan=function(t){return this.comp(t)>0};D.gt=D.greaterThan;D.greaterThanOrEqual=function(t){return this.comp(t)>=0};D.gte=D.greaterThanOrEqual;D.ge=D.greaterThanOrEqual;D.compare=function(t){if($t(t)||(t=Ye(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1};D.comp=D.compare;D.negate=function(){return!this.unsigned&&this.eq(ne)?ne:this.not().add(Ra)};D.neg=D.negate;D.add=function(t){$t(t)||(t=Ye(t));var n=this.high>>>16,i=this.high&65535,r=this.low>>>16,a=this.low&65535,s=t.high>>>16,o=t.high&65535,l=t.low>>>16,c=t.low&65535,h=0,d=0,m=0,g=0;return g+=a+c,m+=g>>>16,g&=65535,m+=r+l,d+=m>>>16,m&=65535,d+=i+o,h+=d>>>16,d&=65535,h+=n+s,h&=65535,_(m<<16|g,h<<16|d,this.unsigned)};D.subtract=function(t){return $t(t)||(t=Ye(t)),this.add(t.neg())};D.sub=D.subtract;D.multiply=function(t){if(this.isZero())return this;if($t(t)||(t=Ye(t)),qe){var n=qe.mul(this.low,this.high,t.low,t.high);return _(n,qe.get_high(),this.unsigned)}if(t.isZero())return this.unsigned?Ui:Xe;if(this.eq(ne))return t.isOdd()?ne:Xe;if(t.eq(ne))return this.isOdd()?ne:Xe;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(_m)&&t.lt(_m))return Je(this.toNumber()*t.toNumber(),this.unsigned);var i=this.high>>>16,r=this.high&65535,a=this.low>>>16,s=this.low&65535,o=t.high>>>16,l=t.high&65535,c=t.low>>>16,h=t.low&65535,d=0,m=0,g=0,T=0;return T+=s*h,g+=T>>>16,T&=65535,g+=a*h,m+=g>>>16,g&=65535,g+=s*c,m+=g>>>16,g&=65535,m+=r*h,d+=m>>>16,m&=65535,m+=a*c,d+=m>>>16,m&=65535,m+=s*l,d+=m>>>16,m&=65535,d+=i*h+r*c+a*l+s*o,d&=65535,_(g<<16|T,d<<16|m,this.unsigned)};D.mul=D.multiply;D.divide=function(t){if($t(t)||(t=Ye(t)),t.isZero())throw Error("division by zero");if(qe){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var n=(this.unsigned?qe.div_u:qe.div_s)(this.low,this.high,t.low,t.high);return _(n,qe.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Ui:Xe;var i,r,a;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Ui;if(t.gt(this.shru(1)))return I0;a=Ui}else{if(this.eq(ne)){if(t.eq(Ra)||t.eq(yh))return ne;if(t.eq(ne))return Ra;var s=this.shr(1);return i=s.div(t).shl(1),i.eq(Xe)?t.isNegative()?Ra:yh:(r=this.sub(t.mul(i)),a=i.add(r.div(t)),a)}else if(t.eq(ne))return this.unsigned?Ui:Xe;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();a=Xe}for(r=this;r.gte(t);){i=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(i)/Math.LN2),l=o<=48?1:Cu(2,o-48),c=Je(i),h=c.mul(t);h.isNegative()||h.gt(r);)i-=l,c=Je(i,this.unsigned),h=c.mul(t);c.isZero()&&(c=Ra),a=a.add(c),r=r.sub(h)}return a};D.div=D.divide;D.modulo=function(t){if($t(t)||(t=Ye(t)),qe){var n=(this.unsigned?qe.rem_u:qe.rem_s)(this.low,this.high,t.low,t.high);return _(n,qe.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))};D.mod=D.modulo;D.rem=D.modulo;D.not=function(){return _(~this.low,~this.high,this.unsigned)};D.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};D.clz=D.countLeadingZeros;D.countTrailingZeros=function(){return this.low?$m(this.low):$m(this.high)+32};D.ctz=D.countTrailingZeros;D.and=function(t){return $t(t)||(t=Ye(t)),_(this.low&t.low,this.high&t.high,this.unsigned)};D.or=function(t){return $t(t)||(t=Ye(t)),_(this.low|t.low,this.high|t.high,this.unsigned)};D.xor=function(t){return $t(t)||(t=Ye(t)),_(this.low^t.low,this.high^t.high,this.unsigned)};D.shiftLeft=function(t){return $t(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?_(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):_(0,this.low<<t-32,this.unsigned)};D.shl=D.shiftLeft;D.shiftRight=function(t){return $t(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?_(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):_(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};D.shr=D.shiftRight;D.shiftRightUnsigned=function(t){return $t(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?_(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):t===32?_(this.high,0,this.unsigned):_(this.high>>>t-32,0,this.unsigned)};D.shru=D.shiftRightUnsigned;D.shr_u=D.shiftRightUnsigned;D.rotateLeft=function(t){var n;return $t(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?_(this.high,this.low,this.unsigned):t<32?(n=32-t,_(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(t-=32,n=32-t,_(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))};D.rotl=D.rotateLeft;D.rotateRight=function(t){var n;return $t(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?_(this.high,this.low,this.unsigned):t<32?(n=32-t,_(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(t-=32,n=32-t,_(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))};D.rotr=D.rotateRight;D.toSigned=function(){return this.unsigned?_(this.low,this.high,!1):this};D.toUnsigned=function(){return this.unsigned?this:_(this.low,this.high,!0)};D.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()};D.toBytesLE=function(){var t=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};D.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};X.fromBytes=function(t,n,i){return i?X.fromBytesLE(t,n):X.fromBytesBE(t,n)};X.fromBytesLE=function(t,n){return new X(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)};X.fromBytesBE=function(t,n){return new X(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};typeof BigInt=="function"&&(X.fromBigInt=function(t,n){var i=Number(BigInt.asIntN(32,t)),r=Number(BigInt.asIntN(32,t>>BigInt(32)));return _(i,r,n)},X.fromValue=function(t,n){return typeof t=="bigint"?fromBigInt(t,n):Ye(t,n)},D.toBigInt=function(){var t=BigInt(this.low>>>0),n=BigInt(this.unsigned?this.high>>>0:this.high);return n<<BigInt(32)|t});var Rt=(e=>(e[e.Null=0]="Null",e[e.Boolean=1]="Boolean",e[e.Integer=2]="Integer",e[e.Long=3]="Long",e[e.Double=4]="Double",e[e.String=5]="String",e[e.Bytes=6]="Bytes",e[e.Date=7]="Date",e))(Rt||{});class Tt extends Jo{constructor(n,i){super(i);u(this,"valueType");u(this,"value");this.valueType=Tt.getPrimitiveType(n),this.value=n===void 0?null:n}static of(n,i){return new Tt(n,i)}static valueFromBytes(n,i){switch(n){case 0:return null;case 1:return!!i[0];case 2:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 4:{const r=new DataView(i.buffer);return i.forEach(function(a,s){r.setUint8(s,a)}),r.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(i);case 3:return X.fromBytesLE(Array.from(i));case 6:return i;case 7:return new Date(X.fromBytesLE(Array.from(i),!0).toNumber());default:throw new b(S.ErrUnimplemented,`unimplemented type: ${n}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new b(S.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${yn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const n=Tt.of(this.value,this.getCreatedAt());return n.setMovedAt(this.getMovedAt()),n.setRemovedAt(this.getRemovedAt()),n}getType(){return this.valueType}static getPrimitiveType(n){switch(typeof n){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(n)?2:4;case"string":return 5;case"object":if(n===null)return 0;if(n instanceof X)return 3;if(n instanceof Uint8Array)return 6;if(n instanceof Date)return 7}}static isSupport(n){return Tt.getPrimitiveType(n)!==void 0}static isInteger(n){return n%1===0}isNumericType(){const n=this.valueType;return n===2||n===3||n===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const n=this.value;return new Uint8Array([n&255,n>>8&255,n>>16&255,n>>24&255])}case 4:{const n=this.value,i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,n,!0),i}case 5:return new TextEncoder().encode(this.value);case 3:{const i=this.value.toBytesLE();return Uint8Array.from(i)}case 6:return this.value;case 7:{const n=this.value,i=X.fromNumber(n.getTime(),!0).toBytesLE();return Uint8Array.from(i)}default:throw new b(S.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Ru extends k0{constructor(n){super(n);u(this,"prev");u(this,"next");this.value=n}static createAfter(n,i){const r=new Ru(i),a=n.next;return n.next=r,r.prev=n,r.next=a,a&&(a.prev=r),r}remove(n){return this.value.remove(n)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class So{constructor(){u(this,"dummyHead");u(this,"last");u(this,"nodeMapByIndex");u(this,"nodeMapByCreatedAt");const t=Tt.of(0,_e);t.setRemovedAt(_e),this.dummyHead=new Ru(t),this.last=this.dummyHead,this.nodeMapByIndex=new vo,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new So}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(t,n){let i=this.nodeMapByCreatedAt.get(t.toIDString());if(!i)throw new b(S.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);for(;i.getNext()&&i.getNext().getPositionedAt().after(n);)i=i.getNext();return i}release(t){this.last===t&&(this.last=t.getPrev()),t.release(),this.nodeMapByIndex.delete(t),this.nodeMapByCreatedAt.delete(t.getValue().getCreatedAt().toIDString())}insertAfter(t,n,i=n.getCreatedAt()){const r=this.findNextBeforeExecutedAt(t,i),a=Ru.createAfter(r,n);r===this.last&&(this.last=a),this.nodeMapByIndex.insertAfter(r,a),this.nodeMapByCreatedAt.set(a.getCreatedAt().toIDString(),a)}moveAfter(t,n,i){const r=this.nodeMapByCreatedAt.get(t.toIDString());if(!r)throw new b(S.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);const a=this.nodeMapByCreatedAt.get(n.toIDString());if(!a)throw new b(S.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);r!==a&&(!a.getValue().getMovedAt()||i.after(a.getValue().getMovedAt()))&&(this.release(a),this.insertAfter(r.getCreatedAt(),a.getValue(),i),a.getValue().setMovedAt(i))}insert(t){this.insertAfter(this.last.getCreatedAt(),t)}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}subPathOf(t){const n=this.nodeMapByCreatedAt.get(t.toIDString());if(n)return String(this.nodeMapByIndex.indexOf(n))}purge(t){const n=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!n)throw new b(S.ErrInvalidArgument,`fail to find the given createdAt: ${t.getCreatedAt().toIDString()}`);this.release(n)}getByIndex(t){if(t>=this.length)return;const[n,i]=this.nodeMapByIndex.find(t);let r=n;if(t===0&&n===this.dummyHead||i>0)do r&&(r=r.getNext());while(r&&r.isRemoved());return r}getPrevCreatedAt(t){let n=this.nodeMapByCreatedAt.get(t.toIDString());do n=n.getPrev();while(this.dummyHead!==n&&n.isRemoved());return n.getValue().getCreatedAt()}delete(t,n){const i=this.nodeMapByCreatedAt.get(t.toIDString()),r=i.isRemoved();return i.remove(n)&&!r&&this.nodeMapByIndex.splayNode(i),i.getValue()}deleteByIndex(t,n){const i=this.getByIndex(t);if(i)return i.remove(n)&&this.nodeMapByIndex.splayNode(i),i.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const t=[];for(const n of this){const i=`${n.getCreatedAt().toIDString()}:${n.getValue().toJSON()}`;n.isRemoved()?t.push(`{${i}}`):t.push(`[${i}]`)}return t.join("")}*[Symbol.iterator](){let t=this.dummyHead.getNext();for(;t;)yield t,t=t.getNext()}}class ve extends wr{constructor(n,i){super(n);u(this,"elements");this.elements=i}static create(n,i){if(!i)return new ve(n,So.create());const r=So.create();for(const a of i)r.insertAfter(r.getLastCreatedAt(),a.deepcopy());return new ve(n,r)}subPathOf(n){return this.elements.subPathOf(n)}purge(n){this.elements.purge(n)}insertAfter(n,i){this.elements.insertAfter(n,i)}moveAfter(n,i,r){this.elements.moveAfter(n,i,r)}get(n){const i=this.elements.getByIndex(n);return i==null?void 0:i.getValue()}getByID(n){const i=this.elements.getByID(n);return i==null?void 0:i.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(n){return this.elements.getPrevCreatedAt(n)}delete(n,i){return this.elements.delete(n,i)}deleteByIndex(n,i){return this.elements.deleteByIndex(n,i)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const n of this.elements)n.isRemoved()||(yield n.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(n){for(const i of this.elements){const r=i.getValue();if(n(r,this))return;r instanceof wr&&r.getDescendants(n)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const n=[];for(const i of this)n.push(i.toJSON());return`[${n.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const n={};for(let i=0;i<this.length;i++){const{createdAt:r,value:a,type:s}=this.get(i).toJSForTest();n[i]={key:String(i),createdAt:r,value:a,type:s}}return{createdAt:this.getCreatedAt().toTestString(),value:n,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const n=ve.create(this.getCreatedAt());for(const i of this.elements)n.elements.insertAfter(n.getLastCreatedAt(),i.getValue().deepcopy());return n.remove(this.getRemovedAt()),n}}class Rr extends We{constructor(n,i,r){super(n,r);u(this,"createdAt");this.createdAt=i}static create(n,i,r){return new Rr(n,i,r)}execute(n,i){var c;const r=n.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new b(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof wr))throw new b(S.ErrInvalidArgument,`only object and array can execute remove: ${r}`);if(i===st.UndoRedo){let h=r.getByID(this.createdAt);for(;h;){if(h.getRemovedAt())return;h=(c=n.findElementPairByCreatedAt(h.getCreatedAt()))==null?void 0:c.parent}}const a=r.subPathOf(this.createdAt),s=this.toReverseOperation(r),o=r.delete(this.createdAt,this.getExecutedAt());return n.registerRemovedElement(o),{opInfos:r instanceof ve?[{type:"remove",path:n.createPath(this.getParentCreatedAt()),index:Number(a)}]:[{type:"remove",path:n.createPath(this.getParentCreatedAt()),key:a}],reverseOp:s}}toReverseOperation(n){if(n instanceof ie){const i=n.subPathOf(this.createdAt);if(i!==void 0){const r=n.get(i);if(r!==void 0)return ia.create(i,r.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class ia extends We{constructor(n,i,r,a){super(r,a);u(this,"key");u(this,"value");this.key=n,this.value=i}static create(n,i,r,a){return new ia(n,i,r,a)}execute(n,i){var c;const r=n.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new b(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof ie))throw new b(S.ErrInvalidArgument,"fail to execute, only object can execute set");if(i===st.UndoRedo){let h=r;for(;h;){if(h.getRemovedAt())return;h=(c=n.findElementPairByCreatedAt(h.getCreatedAt()))==null?void 0:c.parent}}const a=r.get(this.key),s=this.toReverseOperation(a),o=this.value.deepcopy(),l=r.set(this.key,o,this.getExecutedAt());return i===st.UndoRedo&&n.findByCreatedAt(o.getCreatedAt())&&n.deregisterElement(o),n.registerElement(o,r),l&&n.registerRemovedElement(l),{opInfos:[{type:"set",path:n.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:s}}toReverseOperation(n){let i=Rr.create(this.getParentCreatedAt(),this.value.getCreatedAt());return n!==void 0&&!n.isRemoved()&&(i=ia.create(this.key,n.deepcopy(),this.getParentCreatedAt())),i}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Ho extends We{constructor(n,i,r,a){super(n,a);u(this,"prevCreatedAt");u(this,"value");this.prevCreatedAt=i,this.value=r}static create(n,i,r,a){return new Ho(n,i,r,a)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new b(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof ve))throw new b(S.ErrInvalidArgument,"fail to execute, only array can execute add");const r=i,a=this.value.deepcopy();return r.insertAfter(this.prevCreatedAt,a),n.registerElement(a,r),{opInfos:[{type:"add",path:n.createPath(this.getParentCreatedAt()),index:Number(r.subPathOf(this.getEffectedCreatedAt()))}]}}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class hr extends We{constructor(n,i,r,a){super(n,a);u(this,"prevCreatedAt");u(this,"createdAt");this.prevCreatedAt=i,this.createdAt=r}static create(n,i,r,a){return new hr(n,i,r,a)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new b(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof ve))throw new b(S.ErrInvalidArgument,"fail to execute, only array can execute move");const r=i,a=Number(r.subPathOf(this.createdAt));r.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const s=Number(r.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:n.createPath(this.getParentCreatedAt()),index:s,previousIndex:a}]}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class Vr{constructor(t,n,i,r){u(this,"key");u(this,"value");u(this,"updatedAt");u(this,"_isRemoved");this.key=t,this.value=n,this.updatedAt=i,this._isRemoved=r}static of(t,n,i,r){return new Vr(t,n,i,r)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Ar}}}class Ki{constructor(){u(this,"nodeMapByKey");u(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Ki}getNodeMapByKey(){return this.nodeMapByKey}set(t,n,i){const r=this.nodeMapByKey.get(t);if(r&&r.isRemoved()&&i.after(r.getUpdatedAt())&&(this.numberOfRemovedElement-=1),r===void 0||i.after(r.getUpdatedAt())){const a=Vr.of(t,n,i,!1);return this.nodeMapByKey.set(t,a),r!==void 0&&r.isRemoved()?[r,a]:[void 0,a]}return r.isRemoved()?[r,void 0]:[void 0,void 0]}setInternal(t,n,i,r){const a=Vr.of(t,n,i,r);this.nodeMapByKey.set(t,a),r&&this.numberOfRemovedElement++}remove(t,n){const i=this.nodeMapByKey.get(t),r=[];if(i===void 0||n.after(i.getUpdatedAt())){if(i===void 0){this.numberOfRemovedElement+=1;const o=Vr.of(t,"",n,!0);return this.nodeMapByKey.set(t,o),r.push(o),r}const a=i.isRemoved();a||(this.numberOfRemovedElement+=1),a&&r.push(i);const s=Vr.of(t,i.getValue(),n,!0);return this.nodeMapByKey.set(t,s),r.push(s),r}return r}has(t){if(this.nodeMapByKey.has(t)){const n=this.nodeMapByKey.get(t);return n!==void 0&&!n.isRemoved()}return!1}get(t){if(this.nodeMapByKey.has(t))return this.nodeMapByKey.get(t).getValue()}deepcopy(){const t=new Ki;for(const[,n]of this.nodeMapByKey)t.setInternal(n.getKey(),n.getValue(),n.getUpdatedAt(),n.isRemoved());return t}toJSON(){if(!this.size())return"{}";const t=[];for(const[n,i]of this.nodeMapByKey)i.isRemoved()||t.push(`"${yn(n)}":"${yn(i.getValue())}"`);return`{${t.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const t={};for(const[n,i]of this.nodeMapByKey)i.isRemoved()||(t[n]=i.getValue());return t}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}purge(t){const n=this.nodeMapByKey.get(t.getKey());n==null||n.toIDString()!=t.toIDString()||(this.nodeMapByKey.delete(t.getKey()),this.numberOfRemovedElement--)}}class To{constructor(t){u(this,"attributes");u(this,"content");this.attributes=Ki.create(),this.content=t}static create(t){return new To(t)}get length(){return this.content.length}substring(t,n){const i=new To(this.content.substring(t,n));return i.attributes=this.attributes.deepcopy(),i}setAttr(t,n,i){return this.attributes.set(t,n,i)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const t={data:0,meta:0};t.data+=this.content.length*2;for(const n of this.attributes){const i=n.getDataSize();t.meta+=i.meta,t.data+=i.data}return t}toJSON(){const t=yn(this.content),n=this.attributes.toObject(),i=[];for(const[r,a]of Object.entries(n)){const s=JSON.parse(a),o=typeof s=="string"?`"${yn(r)}":"${yn(s)}"`:`"${yn(r)}":${String(s)}`;i.push(o)}return i.sort(),i.length===0?`{"val":"${t}"}`:`{"attrs":{${i.join(",")}},"val":"${t}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(t){this.attributes&&t instanceof Vr&&this.attributes.purge(t)}getGCPairs(){const t=[];for(const n of this.attributes)n.getRemovedAt()&&t.push({parent:this,child:n});return t}}class Pe extends Jo{constructor(n,i){super(i);u(this,"rgaTreeSplit");this.rgaTreeSplit=n}static create(n,i){return new Pe(n,i)}edit(n,i,r,a,s,o){const l=i?To.create(i):void 0;if(l&&a)for(const[T,w]of Object.entries(a))l.setAttr(T,w,r);const[c,h,d,m]=this.rgaTreeSplit.edit(n,r,l,s,o),g=m.map(T=>({...T,value:T.value?{attributes:Ha(T.value.getAttributes()),content:T.value.getContent()}:{attributes:void 0,content:""},type:"content"}));return[h,g,d,[c,c]]}setStyle(n,i,r,a,s){const[,o]=this.rgaTreeSplit.findNodeWithSplit(n[1],r),[,l]=this.rgaTreeSplit.findNodeWithSplit(n[0],r),c=[],h=this.rgaTreeSplit.findBetween(l,o),d=new Map,m=[];for(const T of h){const w=T.getCreatedAt().getActorID();let O,p=0n;if(s===void 0&&a===void 0?p=Zs:s.size()>0?p=s.get(w)?s.get(w):0n:O=a.has(w)?a.get(w):_e,T.canStyle(r,O,p)){const y=d.get(w),v=T.getCreatedAt();(!y||v.after(y))&&d.set(w,v),m.push(T)}}const g=[];for(const T of m){if(T.isRemoved())continue;const[w,O]=this.rgaTreeSplit.findIndexesFromRange(T.createPosRange());c.push({type:"style",actor:r.getActorID(),from:w,to:O,value:{attributes:Ha(i)}});for(const[p,y]of Object.entries(i)){const[v]=T.getValue().setAttr(p,y,r);v!==void 0&&g.push({parent:T.getValue(),child:v})}}return[d,g,c]}indexRangeToPosRange(n,i){const r=this.rgaTreeSplit.indexToPos(n);return n===i?[r,r]:[r,this.rgaTreeSplit.indexToPos(i)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const n={data:0,meta:0};for(const i of this.rgaTreeSplit){if(i.isRemoved())continue;const r=i.getDataSize();n.data+=r.data,n.meta+=r.meta}return{data:n.data,meta:n.meta+this.getMetaUsage()}}toJSON(){const n=[];for(const i of this.rgaTreeSplit)i.isRemoved()||n.push(i.getValue().toJSON());return`[${n.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const n=[];for(const i of this.rgaTreeSplit)if(!i.isRemoved()){const r=i.getValue();n.push({attributes:Ha(r.getAttributes()),content:r.getContent()})}return n}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const n=new Pe(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return n.remove(this.getRemovedAt()),n}findIndexesFromRange(n){return this.rgaTreeSplit.findIndexesFromRange(n)}getGCPairs(){const n=[];for(const i of this.rgaTreeSplit){i.getRemovedAt()&&n.push({parent:this.rgaTreeSplit,child:i});for(const r of i.getValue().getGCPairs())n.push(r)}return n}}class Vo extends We{constructor(n,i,r,a,s,o,l){super(n,l);u(this,"fromPos");u(this,"toPos");u(this,"maxCreatedAtMapByActor");u(this,"content");u(this,"attributes");this.fromPos=i,this.toPos=r,this.maxCreatedAtMapByActor=a,this.content=s,this.attributes=o}static create(n,i,r,a,s,o,l){return new Vo(n,i,r,a,s,o,l)}execute(n,i,r){const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new b(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Pe))throw new b(S.ErrInvalidArgument,"fail to execute, only Text can execute edit");const s=a,[,o,l]=s.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),this.maxCreatedAtMapByActor,r);for(const c of l)n.registerGCPair(c);return{opInfos:o.map(({from:c,to:h,value:d})=>({type:"edit",from:c,to:h,value:d,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),r=this.toPos.toTestString(),a=this.content;return`${n}.EDIT(${i},${r},${a})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class jo extends We{constructor(n,i,r,a,s,o){super(n,o);u(this,"fromPos");u(this,"toPos");u(this,"maxCreatedAtMapByActor");u(this,"attributes");this.fromPos=i,this.toPos=r,this.maxCreatedAtMapByActor=a,this.attributes=s}static create(n,i,r,a,s,o){return new jo(n,i,r,a,s,o)}execute(n,i,r){const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new b(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Pe))throw new b(S.ErrInvalidArgument,"fail to execute, only Text can execute edit");const s=a,[,o,l]=s.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),this.maxCreatedAtMapByActor,r);for(const c of o)n.registerGCPair(c);return{opInfos:l.map(({from:c,to:h,value:d})=>({type:"style",from:c,to:h,value:d,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),r=this.toPos.toTestString(),a=this.attributes;return`${n}.STYL(${i},${r},${JSON.stringify(a)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}const j1=2,P1="root",Ji="text";function Ns(e,t){let n=0;const i=e.children;for(let r=0;r<t;r++){const a=i[r];!a||a.isRemoved||(n+=a.paddedSize)}return n}class G1{constructor(t,n=[]){u(this,"type");u(this,"parent");u(this,"_children");u(this,"size");if(this.type=t,this.size=0,this._children=n,this.isText&&this._children.length>0)throw new b(S.ErrRefused,"Text node cannot have children")}updateAncestorsSize(){let t=this.parent;const n=this.isRemoved?-1:1;for(;t&&(t.size+=this.paddedSize*n,!t.isRemoved);)t=t.parent}updateDescendantsSize(){let t=0;for(const n of this._children){const i=n.updateDescendantsSize();n.isRemoved||(t+=i)}return this.size+=t,this.paddedSize}get isText(){return this.type===Ji}get paddedSize(){return this.size+(this.isText?0:j1)}isAncestorOf(t){return Y1(this,t)}get nextSibling(){const t=this.parent.findOffset(this),n=this.parent.children[t+1];if(n)return n}get prevSibling(){const t=this.parent.findOffset(this),n=this.parent.children[t-1];if(n)return n}splitText(t,n){if(t===0||t===this.size)return;const i=this.value.slice(0,t),r=this.value.slice(t);if(!r.length)return;this.value=i;const a=this.cloneText(t+n);return a.value=r,this.parent.insertAfterInternal(a,this),a}get children(){return this._children.filter(t=>!t.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(t=>t.isText)}append(...t){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");this._children.push(...t);for(const n of t)n.parent=this,n.updateAncestorsSize()}prepend(...t){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");this._children.unshift(...t);for(const n of t)n.parent=this}insertBefore(t,n){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new b(S.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i),t.updateAncestorsSize()}insertAfter(t,n){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new b(S.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i+1),t.updateAncestorsSize()}insertAt(t,n){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");this.insertAtInternal(t,n),t.updateAncestorsSize()}removeChild(t){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");const n=this._children.indexOf(t);if(n===-1)throw new b(S.ErrInvalidArgument,"child not found");this._children.splice(n,1),t.parent=void 0}splitElement(t,n){const i=this.cloneElement(n);this.parent.insertAfterInternal(i,this),i.updateAncestorsSize();const r=this.children.slice(0,t),a=this.children.slice(t);this._children=r,i._children=a,this.size=this._children.reduce((s,o)=>s+o.paddedSize,0),i.size=i._children.reduce((s,o)=>s+o.paddedSize,0);for(const s of i._children)s.parent=i;return i}insertAfterInternal(t,n){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new b(S.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i+1)}insertAtInternal(t,n){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");this._children.splice(n,0,t),t.parent=this}findOffset(t){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");if(t.isRemoved){const n=this._children.indexOf(t);return this.allChildren.splice(0,n).filter(r=>!r.isRemoved).length}return this.children.indexOf(t)}findBranchOffset(t){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");let n=t;for(;n;){const i=this._children.indexOf(n);if(i!==-1)return i;n=n.parent}return-1}}function Y1(e,t){if(e===t)return!1;for(;t.parent;){if(t.parent===e)return!0;t=t.parent}return!1}var xt=(e=>(e.Start="Start",e.End="End",e.Text="Text",e))(xt||{});function U0(e,t,n,i){if(t>n)throw new b(S.ErrInvalidArgument,`from is greater than to: ${t} > ${n}`);if(t>e.size)throw new b(S.ErrInvalidArgument,`from is out of range: ${t} > ${e.size}`);if(n>e.size)throw new b(S.ErrInvalidArgument,`to is out of range: ${n} > ${e.size}`);if(t===n)return;let r=0;for(const a of e.children){if(t-a.paddedSize<r&&r<n){const s=a.isText?t-r:t-r-1,o=a.isText?n-r:n-r-1,l=!a.isText&&s<0,c=!a.isText&&o>a.size;(a.isText||l)&&i([a,a.isText?"Text":"Start"],c),U0(a,Math.max(0,s),Math.min(o,a.size),i),c&&i([a,"End"],c)}r+=a.paddedSize}}function L0(e,t,n=0){for(const i of e.children)L0(i,t,n+1);t(e,n)}function nc(e,t,n=0){for(const i of e._children)nc(i,t,n+1);t(e,n)}function ph(e,t,n=!0){if(t>e.size)throw new b(S.ErrInvalidArgument,`index is out of range: ${t} > ${e.size}`);if(e.isText)return{node:e,offset:t};let i=0,r=0;for(const a of e.children){if(n&&a.isText&&a.size>=t-r)return ph(a,t-r,n);if(t===r)return{node:e,offset:i};if(!n&&a.paddedSize===t-r)return{node:e,offset:i+1};if(a.paddedSize>t-r)return ph(a,t-r-1,n);r+=a.paddedSize,i+=1}return{node:e,offset:i}}function q0(e){return e.isText||e.children.length===0?e:q0(e.children[0])}function K1(e,t){if(e.size<t)throw new b(S.ErrInvalidArgument,"unacceptable path");for(let n=0;n<e.children.length;n++){const i=e.children[n];if(i.size<t)t-=i.size;else{e=i;break}}return{node:e,offset:t}}class $1{constructor(t){u(this,"root");this.root=t}tokensBetween(t,n,i){U0(this.root,t,n,i)}traverse(t){L0(this.root,t,0)}traverseAll(t){nc(this.root,t,0)}findTreePos(t,n=!0){return ph(this.root,t,n)}treePosToPath(t){const n=[];let i=t.node;if(i.isText){const r=i.parent.findOffset(i);if(r===-1)throw new b(S.ErrInvalidArgument,"invalid treePos");const a=Ns(i.parent,r);n.push(a+t.offset),i=i.parent}else if(i.hasTextChild()){const r=Ns(i,t.offset);n.push(r)}else n.push(t.offset);for(;i.parent;){const r=i.parent.findOffset(i);if(r===-1)throw new b(S.ErrInvalidArgument,"invalid treePos");n.push(r),i=i.parent}return n.reverse()}pathToIndex(t){const n=this.pathToTreePos(t);return this.indexOf(n)}pathToTreePos(t){if(!t.length)throw new b(S.ErrInvalidArgument,"unacceptable path");let n=this.root;for(let i=0;i<t.length-1;i++){const r=t[i];if(n=n.children[r],!n)throw new b(S.ErrInvalidArgument,"unacceptable path")}if(n.hasTextChild())return K1(n,t[t.length-1]);if(n.children.length<t[t.length-1])throw new b(S.ErrInvalidArgument,"unacceptable path");return{node:n,offset:t[t.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(t){const{node:n,offset:i}=t;if(n.isText){if(n.size===i){const r=n.nextSibling;return r||n.parent}return n}return n.children.length===i?n:q0(n.children[i])}indexOf(t){let{node:n}=t;const{offset:i}=t;let r=0,a=1;if(n.isText){r+=i;const s=n.parent,o=s.findOffset(n);if(o===-1)throw new b(S.ErrInvalidArgument,"invalid pos");r+=Ns(s,o),n=n.parent}else r+=Ns(n,i);for(;n!=null&&n.parent;){const s=n.parent,o=s.findOffset(n);if(o===-1)throw new b(S.ErrInvalidArgument,"invalid pos");r+=Ns(s,o),a++,n=n.parent}return r+a-1}indexToPath(t){const n=this.findTreePos(t);return this.treePosToPath(n)}}const X1=(e,t)=>e===t?0:e<t?-1:1;class Z1{constructor(t,n,i){u(this,"key");u(this,"value");u(this,"parent");u(this,"left");u(this,"right");u(this,"isRed");this.key=t,this.value=n,this.isRed=i}}class Q1{constructor(t){u(this,"stack");this.stack=[],this.traverseInorder(t)}traverseInorder(t){t&&(this.traverseInorder(t.left),this.stack.push({key:t.key,value:t.value}),this.traverseInorder(t.right))}}class J0{constructor(t){u(this,"root");u(this,"comparator");u(this,"counter");this.comparator=typeof t<"u"?t:X1,this.counter=0}put(t,n){return this.root=this.putInternal(t,n,this.root),this.root.isRed=!1,n}get(t){const n=this.getInternal(t,this.root);return n?n.value:void 0}remove(t){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,t),this.root&&(this.root.isRed=!1)}getIterator(){return new Q1(this.root)}values(){const t=[];for(const n of this.getIterator().stack)t.push(n.value);return t}floorEntry(t){let n=this.root;for(;n;){const i=this.comparator(t,n.key);if(i>0)if(n.right)n.right.parent=n,n=n.right;else return n;else if(i<0)if(n.left)n.left.parent=n,n=n.left;else{let r=n.parent,a=n;for(;r&&a===r.left;)a=r,r=r.parent;return r}else return n}}lastEntry(){if(!this.root)return this.root;let t=this.root;for(;t.right;)t=t.right;return t}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(t,n){for(;n;){const i=this.comparator(t,n.key);if(i===0)return n;i<0?n=n.left:i>0&&(n=n.right)}}putInternal(t,n,i){if(!i)return this.counter+=1,new Z1(t,n,!0);const r=this.comparator(t,i.key);return r<0?i.left=this.putInternal(t,n,i.left):r>0?i.right=this.putInternal(t,n,i.right):i.value=n,this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}removeInternal(t,n){if(this.comparator(n,t.key)<0)!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeInternal(t.left,n);else{if(this.isRed(t.left)&&(t=this.rotateRight(t)),this.comparator(n,t.key)===0&&!t.right){this.counter-=1;return}if(!this.isRed(t.right)&&!this.isRed(t.right.left)&&(t=this.moveRedRight(t)),this.comparator(n,t.key)===0){this.counter-=1;const i=this.min(t.right);t.value=i.value,t.key=i.key,t.right=this.removeMin(t.right)}else t.right=this.removeInternal(t.right,n)}return this.fixUp(t)}min(t){return t.left?this.min(t.left):t}removeMin(t){if(t.left)return!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeMin(t.left),this.fixUp(t)}fixUp(t){return this.isRed(t.right)&&(t=this.rotateLeft(t)),this.isRed(t.left)&&this.isRed(t.left.left)&&(t=this.rotateRight(t)),this.isRed(t.left)&&this.isRed(t.right)&&this.flipColors(t),t}moveRedLeft(t){return this.flipColors(t),this.isRed(t.right.left)&&(t.right=this.rotateRight(t.right),t=this.rotateLeft(t),this.flipColors(t)),t}moveRedRight(t){return this.flipColors(t),this.isRed(t.left.left)&&(t=this.rotateRight(t),this.flipColors(t)),t}isRed(t){return t&&t.isRed}rotateLeft(t){const n=t.right;return t.right=n.left,n.left=t,n.isRed=n.left.isRed,n.left.isRed=!0,n}rotateRight(t){const n=t.left;return t.left=n.right,n.right=t,n.isRed=n.right.isRed,n.right.isRed=!0,n}flipColors(t){t.isRed=!t.isRed,t.left.isRed=!t.left.isRed,t.right.isRed=!t.right.isRed}}class Ze{constructor(t,n){u(this,"parentID");u(this,"leftSiblingID");this.parentID=t,this.leftSiblingID=n}static of(t,n){return new Ze(t,n)}static fromTreePos(t){const{offset:n}=t;let{node:i}=t,r;return i.isText?(i.parent.children[0]===i&&n===0?r=i.parent:r=i,i=i.parent):n===0?r=i:r=i.children[n-1],Ze.of(i.id,Pt.of(r.getCreatedAt(),r.getOffset()+n))}getParentID(){return this.parentID}static fromStruct(t){return Ze.of(Pt.of(He.fromStruct(t.parentID.createdAt),t.parentID.offset),Pt.of(He.fromStruct(t.leftSiblingID.createdAt),t.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(t){const n=this.getParentID(),i=this.getLeftSiblingID(),r=t.findFloorNode(n);let a=t.findFloorNode(i);if(!r||!a)throw new b(S.ErrRefused,`cannot find node of CRDTTreePos(${n.toTestString()}, ${i.toTestString()})`);return!i.equals(n)&&i.getOffset()>0&&i.getOffset()===a.id.getOffset()&&a.insPrevID&&(a=t.findFloorNode(a.insPrevID)),[r,a]}getLeftSiblingID(){return this.leftSiblingID}equals(t){return this.getParentID().getCreatedAt().equals(t.getParentID().getCreatedAt())&&this.getParentID().getOffset()===t.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(t.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===t.getLeftSiblingID().getOffset()}}class Pt{constructor(t,n){u(this,"createdAt");u(this,"offset");this.createdAt=t,this.offset=n}static of(t,n){return new Pt(t,n)}static fromStruct(t){return Pt.of(He.fromStruct(t.createdAt),t.offset)}static createComparator(){return(t,n)=>{const i=t.getCreatedAt().compare(n.getCreatedAt());return i!==0?i:t.getOffset()>n.getOffset()?1:t.getOffset()<n.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}getOffset(){return this.offset}setOffset(t){this.offset=t}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class de extends G1{constructor(n,i,r,a,s){super(i);u(this,"id");u(this,"removedAt");u(this,"attrs");u(this,"insPrevID");u(this,"insNextID");u(this,"_value","");this.id=n,this.removedAt=s,a&&(this.attrs=a),typeof r=="string"?this.value=r:Array.isArray(r)&&(this._children=r)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(n,i,r,a){return new de(n,i,r,a)}deepcopy(){var i;const n=new de(this.id,this.type);return n.removedAt=this.removedAt,n._value=this._value,n.size=this.size,n.attrs=(i=this.attrs)==null?void 0:i.deepcopy(),n._children=this._children.map(r=>{const a=r.deepcopy();return a.parent=n,a}),n.insPrevID=this.insPrevID,n.insNextID=this.insNextID,n}get value(){if(!this.isText)throw new b(S.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(n){if(!this.isText)throw new b(S.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=n,this.size=n.length}get isRemoved(){return!!this.removedAt}remove(n){const i=!this.removedAt;(!this.removedAt||this.removedAt.compare(n)>0)&&(this.removedAt=n),i&&this.updateAncestorsSize()}cloneText(n){return new de(Pt.of(this.id.getCreatedAt(),n),this.type,void 0,void 0,this.removedAt)}cloneElement(n){return new de(Pt.of(n(),0),this.type,void 0,void 0,this.removedAt)}split(n,i,r){const a=this.isText?this.splitText(i,this.id.getOffset()):this.splitElement(i,r);if(a){if(a.insPrevID=this.id,this.insNextID){const s=n.findFloorNode(this.insNextID);s.insPrevID=a.id,a.insNextID=this.insNextID}this.insNextID=a.id,n.registerNode(a)}return a}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(n,i,r){return(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=r)&&(!this.removedAt||n.after(this.removedAt))}canStyle(n,i,r){return this.isText?!1:(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=r)&&(!this.removedAt||n.after(this.removedAt))}setAttrs(n,i){this.attrs||(this.attrs=new Ki);const r=[];for(const[a,s]of Object.entries(n))r.push(this.attrs.set(a,s,i));return r}purge(n){this.attrs&&this.attrs.purge(n)}getDataSize(){const n={data:0,meta:0};if(this.isText&&(n.data+=this.size*2),this.id&&(n.meta+=Ar),this.removedAt&&(n.meta+=Ar),this.attrs)for(const i of this.attrs){if(i.getRemovedAt())continue;const r=i.getDataSize();n.meta+=r.meta,n.data+=r.data}return n}getGCPairs(){const n=[];if(!this.attrs)return n;for(const i of this.attrs)i.getRemovedAt()&&n.push({parent:this,child:i});return n}}function vh(e){var n;if(e.isText){const i=e;return{type:i.type,value:i.value}}const t={type:e.type,children:e.children.map(vh)};return e.attrs&&(t.attributes=Ha((n=e.attrs)==null?void 0:n.toObject())),t}function Nd(e){if(e.isText)return e.value;let t="";return e.attrs&&e.attrs.size()&&(t=" "+Array.from(e.attrs).filter(n=>!n.isRemoved()).sort((n,i)=>n.getKey().localeCompare(i.getKey())).map(n=>{const i=JSON.parse(n.getValue());return typeof i=="string"?`${n.getKey()}="${i}"`:`${n.getKey()}="${yn(n.getValue())}"`}).join(" ")),`<${e.type}${t}>${e.children.map(n=>Nd(n)).join("")}</${e.type}>`}function H0(e){if(e.isText){const t=e;return{type:t.type,value:t.value,size:t.size,isRemoved:t.isRemoved}}return{type:e.type,children:e.children.map(H0),size:e.size,isRemoved:e.isRemoved}}class Ge extends Jo{constructor(n,i){super(i);u(this,"indexTree");u(this,"nodeMapByID");this.indexTree=new $1(n),this.nodeMapByID=new J0(Pt.createComparator()),this.indexTree.traverseAll(r=>{this.nodeMapByID.put(r.id,r)})}static create(n,i){return new Ge(n,i)}findFloorNode(n){const i=this.nodeMapByID.floorEntry(n);if(!(!i||!i.key.getCreatedAt().equals(n.getCreatedAt())))return i.value}registerNode(n){this.nodeMapByID.put(n.id,n)}findNodesAndSplitText(n,i){const[r,a]=n.toTreeNodePair(this);let s=a;const o=r===s,l=s.parent&&!o?s.parent:r;if(s.isText&&s.split(this,n.getLeftSiblingID().getOffset()-s.id.getOffset()),i){const c=l.allChildren,h=o?0:c.indexOf(s)+1;for(let d=h;d<c.length;d++){const m=c[d];if(!m.id.getCreatedAt().after(i))break;s=m}}return[l,s]}style(n,i,r,a,s){const[o,l]=this.findNodesAndSplitText(n[0],r),[c,h]=this.findNodesAndSplitText(n[1],r),d=[],m=i?Ha(i):{},g=new Map,T=[];return this.traverseInPosRange(o,l,c,h,([w])=>{const O=w.getCreatedAt().getActorID();let p,y=0n;if(s===void 0&&a===void 0?y=Zs:s.size()>0?y=s.get(O)?s.get(O):0n:p=a.has(O)?a.get(O):_e,w.canStyle(r,p,y)&&i){const v=g.get(O),A=w.getCreatedAt();(!v||A.after(v))&&g.set(O,A);const x=w.setAttrs(i,r),R=x.reduce((Z,[,J])=>(J&&(Z[J.getKey()]=m[J.getKey()]),Z),{}),C=w.parent,B=w.prevSibling||w.parent;Object.keys(R).length>0&&d.push({type:"style",from:this.toIndex(C,B),to:this.toIndex(w,w),fromPath:this.toPath(C,B),toPath:this.toPath(w,w),actor:r.getActorID(),value:R});for(const[Z]of x)Z&&T.push({parent:w,child:Z})}}),[g,T,d]}removeStyle(n,i,r,a,s){const[o,l]=this.findNodesAndSplitText(n[0],r),[c,h]=this.findNodesAndSplitText(n[1],r),d=[],m=new Map,g=[];return this.traverseInPosRange(o,l,c,h,([T])=>{const w=T.getCreatedAt().getActorID();let O,p=0n;if(s===void 0&&a===void 0?p=Zs:s.size()>0?p=s.get(w)?s.get(w):0n:O=a.has(w)?a.get(w):_e,T.canStyle(r,O,p)&&i){const y=m.get(w),v=T.getCreatedAt();(!y||v.after(y))&&m.set(w,v),T.attrs||(T.attrs=new Ki);for(const R of i){const C=T.attrs.remove(R,r);for(const B of C)g.push({parent:T,child:B})}const A=T.parent,x=T.prevSibling||T.parent;d.push({actor:r.getActorID(),type:"removeStyle",from:this.toIndex(A,x),to:this.toIndex(T,T),fromPath:this.toPath(A,x),toPath:this.toPath(T,T),value:i})}}),[m,g,d]}edit(n,i,r,a,s,o,l){const[c,h]=this.findNodesAndSplitText(n[0],a),[d,m]=this.findNodesAndSplitText(n[1],a),g=this.toIndex(c,h),T=this.toPath(c,h),w=[],O=[],p=[],y=new Map;this.traverseInPosRange(c,h,d,m,([x,R],C)=>{if(R===xt.Start&&!C)for(const Ct of x.children)p.push(Ct);const B=x.getCreatedAt().getActorID();let Z,J=0n;if(l===void 0&&o===void 0?J=Zs:l.size()>0?J=l.get(B)?l.get(B):0n:Z=o.has(B)?o.get(B):_e,x.canDelete(a,Z,J)||w.includes(x.parent)){const Ct=y.get(B),oe=x.getCreatedAt();(!Ct||oe.after(Ct))&&y.set(B,oe),(R===xt.Text||R===xt.Start)&&w.push(x),O.push([x,R])}});const v=this.makeDeletionChanges(O,a),A=[];for(const x of w)x.remove(a),x.isRemoved&&A.push({parent:this,child:x});for(const x of p)x.removedAt||c.append(x);if(r>0){let x=0,R=c,C=h;for(;x<r;)R.split(this,R.findOffset(C)+1,s),C=R,R=R.parent,x++;v.push({type:"content",from:g,to:g,fromPath:T,toPath:T,actor:a.getActorID()})}if(i!=null&&i.length){const x=[];let R=h;for(const C of i)R===c?c.insertAt(C,0):c.insertAfter(C,R),R=C,nc(C,B=>{c.isRemoved&&(B.remove(a),A.push({parent:this,child:B})),this.nodeMapByID.put(B.id,B)}),C.isRemoved||x.push(C);if(x.length){const C=x.map(B=>vh(B));v.length&&v[v.length-1].from===g?v[v.length-1].value=C:v.push({type:"content",from:g,to:g,fromPath:T,toPath:T,actor:a.getActorID(),value:C})}}return[v,A,y]}editT(n,i,r,a,s){const o=this.findPos(n[0]),l=this.findPos(n[1]);this.edit([o,l],i,r,a,s)}move(n,i,r){throw new b(S.ErrUnimplemented,`not implemented: ${n}, ${i}, ${r}`)}purge(n){var a;(a=n.parent)==null||a.removeChild(n),this.nodeMapByID.remove(n.id);const i=n.insPrevID,r=n.insNextID;if(i){const s=this.findFloorNode(i);s.insNextID=r}if(r){const s=this.findFloorNode(r);s.insPrevID=i}n.insPrevID=void 0,n.insNextID=void 0}getGCPairs(){const n=[];return this.indexTree.traverse(i=>{i.getRemovedAt()&&n.push({parent:this,child:i});for(const r of i.getGCPairs())n.push(r)}),n}findPos(n,i=!0){const r=this.indexTree.findTreePos(n,i);return Ze.fromTreePos(r)}pathToPosRange(n){const i=this.pathToIndex(n);return[this.findPos(i),this.findPos(i+1)]}pathToPos(n){const i=this.indexTree.pathToIndex(n);return this.findPos(i)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Nd(this.indexTree.getRoot())}getDataSize(){const n={data:0,meta:0};return this.indexTree.traverse(i=>{if(i.getRemovedAt())return;const r=i.getDataSize();n.data+=r.data,n.meta+=r.meta}),{data:n.data,meta:n.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const n=this.indexTree.getRoot(),i=(r,a=void 0,s=void 0,o=0)=>{var g,T,w,O;let l,c,h;const d=r.isText?{node:r,offset:0}:a&&s?this.toTreePos(a,s):null;d&&(l=this.indexTree.indexOf(d),c=this.indexTree.treePosToPath(d),h=Ze.fromTreePos(d).toStruct());const m={type:r.type,parent:a==null?void 0:a.id.toTestString(),size:r.size,id:r.id.toTestString(),removedAt:(g=r.removedAt)==null?void 0:g.toTestString(),insPrev:(T=r.insPrevID)==null?void 0:T.toTestString(),insNext:(w=r.insNextID)==null?void 0:w.toTestString(),value:r.isText?r.value:void 0,isRemoved:r.isRemoved,children:[],depth:o,attributes:r.attrs?Ha((O=r.attrs)==null?void 0:O.toObject()):void 0,index:l,path:c,pos:h};for(let p=0;p<r.allChildren.length;p++){const y=p===0?r:r.allChildren[p-1];m.children.push(i(r.allChildren[p],r,y,o+1))}return m};return i(n)}getRootTreeNode(){return vh(this.indexTree.getRoot())}toTestTreeNode(){return H0(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const n=this.getRoot();return new Ge(n.deepcopy(),this.getCreatedAt())}toPath(n,i){const r=this.toTreePos(n,i);return r?this.indexTree.treePosToPath(r):[]}toIndex(n,i){const r=this.toTreePos(n,i);return r?this.indexTree.indexOf(r):-1}indexToPath(n){return this.indexTree.indexToPath(n)}pathToIndex(n){return this.indexTree.pathToIndex(n)}indexRangeToPosRange(n){const i=this.findPos(n[0]);return n[0]===n[1]?[i,i]:[i,this.findPos(n[1])]}indexRangeToPosStructRange(n){const[i,r]=n,a=this.findPos(i);return i===r?[a.toStruct(),a.toStruct()]:[a.toStruct(),this.findPos(r).toStruct()]}posRangeToPathRange(n){const[i,r]=this.findNodesAndSplitText(n[0]),[a,s]=this.findNodesAndSplitText(n[1]);return[this.toPath(i,r),this.toPath(a,s)]}posRangeToIndexRange(n){const[i,r]=this.findNodesAndSplitText(n[0]),[a,s]=this.findNodesAndSplitText(n[1]);return[this.toIndex(i,r),this.toIndex(a,s)]}traverseInPosRange(n,i,r,a,s){const o=this.toIndex(n,i),l=this.toIndex(r,a);return this.indexTree.tokensBetween(o,l,s)}toTreePos(n,i){if(!n||!i)return;if(n.isRemoved){let a;for(;n.isRemoved;)a=n,n=a.parent;const s=n.findOffset(a);return{node:n,offset:s}}if(n===i)return{node:n,offset:0};let r=n.findOffset(i);if(!i.isRemoved){if(i.isText)return{node:i,offset:i.paddedSize};r++}return{node:n,offset:r}}makeDeletionChanges(n,i){const r=[],a=[];let s=null,o=null;for(let l=0;l<n.length;l++){const c=n[l],h=n[l+1];s||(s=c),o=c;const d=this.findRightToken(c);(!d||!h||d[0]!==h[0]||d[1]!==h[1])&&(a.push([s,o]),s=null,o=null)}for(const l of a){const[c,h]=l,[d,m]=this.findLeftToken(c),[g,T]=h,w=m===xt.Start?d:d.parent,O=T===xt.Start?g:g.parent,p=this.toIndex(w,d),y=this.toIndex(O,g);p<y&&(r.length>0&&p===r[r.length-1].to?(r[r.length-1].to=y,r[r.length-1].toPath=this.toPath(O,g)):r.push({type:"content",from:p,to:y,fromPath:this.toPath(w,d),toPath:this.toPath(O,g),actor:i.getActorID()}))}return r.reverse()}findRightToken([n,i]){if(i===xt.Start){const l=n.allChildren;return l.length>0?[l[0],l[0].isText?xt.Text:xt.Start]:[n,xt.End]}const r=n.parent,a=r.allChildren,s=a.indexOf(n);if(r&&s===a.length-1)return[r,xt.End];const o=a[s+1];return[o,o.isText?xt.Text:xt.Start]}findLeftToken([n,i]){if(i===xt.End){const l=n.allChildren;if(l.length>0){const c=l[l.length-1];return[c,c.isText?xt.Text:xt.End]}return[n,xt.Start]}const r=n.parent,a=r.allChildren,s=a.indexOf(n);if(r&&s===0)return[r,xt.Start];const o=a[s-1];return[o,o.isText?xt.Text:xt.End]}}class Po extends We{constructor(n,i,r,a,s,o,l){super(n,l);u(this,"fromPos");u(this,"toPos");u(this,"contents");u(this,"splitLevel");u(this,"maxCreatedAtMapByActor");this.fromPos=i,this.toPos=r,this.contents=a,this.splitLevel=s,this.maxCreatedAtMapByActor=o}static create(n,i,r,a,s,o,l){return new Po(n,i,r,a,s,o,l)}execute(n,i,r){var h;const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new b(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Ge))throw new b(S.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const s=this.getExecutedAt(),o=a,[l,c]=o.edit([this.fromPos,this.toPos],(h=this.contents)==null?void 0:h.map(d=>d.deepcopy()),this.splitLevel,s,(()=>{let d=s.getDelimiter();return this.contents!==void 0&&(d+=this.contents.length),()=>He.of(s.getLamport(),++d,s.getActorID())})(),this.maxCreatedAtMapByActor,r);for(const d of c)n.registerGCPair(d);return{opInfos:l.map(({from:d,to:m,value:g,splitLevel:T,fromPath:w,toPath:O})=>({type:"tree-edit",path:n.createPath(this.getParentCreatedAt()),from:d,to:m,value:g,splitLevel:T,fromPath:w,toPath:O}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,r=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,a=this.contents||[];return`${n}.EDIT(${i},${r},${a.map(s=>Nd(s)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Va{constructor(t){u(this,"vector");this.vector=t||new Map}set(t,n){this.vector.set(t,n)}unset(t){this.vector.delete(t)}get(t){return this.vector.get(t)}maxLamport(){let t=BigInt(0);for(const[,n]of this)n>t&&(t=n);return t}max(t){const n=new Map;for(const[i,r]of t){const a=this.vector.get(i),s=a&&a>r?a:r;n.set(i,s)}for(const[i,r]of this){const a=t.get(i),s=a&&a>r?a:r;n.set(i,s)}return new Va(n)}afterOrEqual(t){const n=this.vector.get(t.getActorID());return n===void 0?!1:n>=t.getLamport()}deepcopy(){const t=new Map;for(const[n,i]of this.vector)t.set(n,i);return new Va(t)}filter(t){const n=new Map;for(const[i]of t){const r=this.vector.get(i);r!==void 0&&n.set(i,r)}return new Va(n)}size(){return this.vector.size}*[Symbol.iterator](){for(const[t,n]of this.vector)yield[t,n]}}const _1=new Va(new Map);class xi{constructor(t,n,i,r,a){u(this,"clientSeq");u(this,"serverSeq");u(this,"lamport");u(this,"actor");u(this,"versionVector");this.clientSeq=t,this.serverSeq=a,this.lamport=n,this.versionVector=r,this.actor=i}static of(t,n,i,r,a){return new xi(t,n,i,r,a)}next(){const t=this.versionVector.deepcopy();return t.set(this.actor,this.lamport+1n),new xi(this.clientSeq+1,this.lamport+1n,this.actor,t)}syncClocks(t){const n=t.lamport>this.lamport?t.lamport+1n:this.lamport+1n;let i=t.versionVector;i.size()===0&&(i=i.deepcopy(),i.set(t.actor,t.lamport));const r=this.versionVector.max(i),a=new xi(this.clientSeq,n,this.actor,r);return a.versionVector.set(this.actor,n),a}setClocks(t,n){const i=t>this.lamport?t+1n:this.lamport+1n;n.unset(ec);const r=this.versionVector.max(n);return r.set(this.actor,i),xi.of(this.clientSeq,i,this.actor,r)}createTimeTicket(t){return He.of(this.lamport,t,this.actor)}setActor(t){return new xi(this.clientSeq,this.lamport,t,this.versionVector,this.serverSeq)}setVersionVector(t){return new xi(this.clientSeq,this.lamport,this.actor,t,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const F1=new xi(0,0n,ec,_1);class ss{constructor({id:t,operations:n,presenceChange:i,message:r}){u(this,"id");u(this,"operations");u(this,"presenceChange");u(this,"message");this.id=t,this.operations=n||[],this.presenceChange=i,this.message=r}static create({id:t,operations:n,presenceChange:i,message:r}){return new ss({id:t,operations:n,presenceChange:i,message:r})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(t){for(const n of this.operations)n.setActor(t);this.id=this.id.setActor(t)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(t,n,i){const r=[],a=[];for(const s of this.operations){const o=s.execute(t,i,this.id.getVersionVector());if(!o)continue;const{opInfos:l,reverseOp:c}=o;r.push(...l),c&&a.unshift(c)}return this.presenceChange&&(this.presenceChange.type===Cr.Put?n.set(this.id.getActorID(),Ke(this.presenceChange.presence)):n.delete(this.id.getActorID())),{opInfos:r,reverseOps:a}}toTestString(){return`${this.operations.map(t=>t.toTestString()).join(",")}`}toStruct(){return{changeID:Et.bytesToHex(Et.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(t=>Et.bytesToHex(Et.toOperation(t).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(t){const{changeID:n,operations:i,presenceChange:r,message:a}=t;return ss.create({id:Et.bytesToChangeID(Et.hexToBytes(n)),operations:i==null?void 0:i.map(s=>Et.bytesToOperation(Et.hexToBytes(s))),presenceChange:r,message:a})}}class ic{constructor(t,n,i,r,a,s,o){u(this,"documentKey");u(this,"checkpoint");u(this,"isRemoved");u(this,"changes");u(this,"snapshot");u(this,"minSyncedTicket");u(this,"versionVector");this.documentKey=t,this.checkpoint=n,this.isRemoved=i,this.changes=r,this.snapshot=s,this.minSyncedTicket=o,this.versionVector=a}static create(t,n,i,r,a,s,o){return new ic(t,n,i,r,a,s,o)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getMinSyncedTicket(){return this.minSyncedTicket}getVersionVector(){return this.versionVector}}class ja{constructor(t,n){u(this,"serverSeq");u(this,"clientSeq");this.serverSeq=t,this.clientSeq=n}static of(t,n){return new ja(t,n)}increaseClientSeq(t){return t===0?this:new ja(this.serverSeq,this.clientSeq+t)}forward(t){if(this.equals(t))return this;const n=this.serverSeq>t.serverSeq?this.serverSeq:t.serverSeq,i=Math.max(this.clientSeq,t.clientSeq);return ja.of(n,i)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(t){return this.clientSeq===t.clientSeq&&this.serverSeq==t.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const W1=new ja(0n,0);class Tn{constructor(t,n){u(this,"createdAt");u(this,"offset");this.createdAt=t,this.offset=n}static of(t,n){return new Tn(t,n)}static fromStruct(t){return Tn.of(He.fromStruct(t.createdAt),t.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}hasSameCreatedAt(t){return this.createdAt.compare(t.createdAt)===0}split(t){return new Tn(this.createdAt,this.offset+t)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const tw=Tn.of(_e,0);class Fe{constructor(t,n){u(this,"id");u(this,"relativeOffset");this.id=t,this.relativeOffset=n}static of(t,n){return new Fe(t,n)}static fromStruct(t){const n=Tn.fromStruct(t.id);return Fe.of(n,t.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Tn.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(t){return this.id.equals(t.id)?this.relativeOffset===t.relativeOffset:!1}}class Er extends k0{constructor(n,i,r){super(i);u(this,"id");u(this,"removedAt");u(this,"prev");u(this,"next");u(this,"insPrev");u(this,"insNext");this.id=n,this.removedAt=r}static create(n,i){return new Er(n,i)}static createComparator(){return(n,i)=>{const r=n.getCreatedAt().compare(i.getCreatedAt());return r!==0?r:n.getOffset()>i.getOffset()?1:n.getOffset()<i.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(n){this.prev=n,n&&(n.next=this)}setNext(n){this.next=n,n&&(n.prev=this)}setInsPrev(n){this.insPrev=n,n&&(n.insNext=this)}setInsNext(n){this.insNext=n,n&&(n.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(n){return new Er(this.id.split(n),this.splitValue(n),this.removedAt)}canDelete(n,i,r){const a=!this.removedAt;return(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=r)&&(!this.removedAt||n.after(this.removedAt))?a:!1}canStyle(n,i,r){return(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=r)&&(!this.removedAt||n.after(this.removedAt))}remove(n){this.removedAt=n}createPosRange(){return[Fe.of(this.id,0),Fe.of(this.id,this.getLength())]}getDataSize(){const n=this.value.getDataSize();return this.id&&(n.meta+=Ar),this.removedAt&&(n.meta+=Ar),n}deepcopy(){return new Er(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(n){const i=this.value;return this.value=i.substring(0,n),i.substring(n,i.length)}toIDString(){return this.id.toIDString()}}class os{constructor(){u(this,"head");u(this,"treeByIndex");u(this,"treeByID");this.head=Er.create(tw),this.treeByIndex=new vo,this.treeByID=new J0(Er.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new os}edit(t,n,i,r,a){const[s,o]=this.findNodeWithSplit(t[1],n),[l,c]=this.findNodeWithSplit(t[0],n),h=this.findBetween(c,o),[d,m,g]=this.deleteNodes(h,n,r,a),T=o?o.getID():s.getID();let w=Fe.of(T,0);if(i){const p=this.posToIndex(l.createPosRange()[1],!0),y=this.insertAfter(l,Er.create(Tn.of(n,0),i));d.length&&d[d.length-1].from===p?d[d.length-1].value=i:d.push({actor:n.getActorID(),from:p,to:p,value:i}),w=Fe.of(y.getID(),y.getContentLength())}const O=[];for(const[,p]of g)O.push({parent:this,child:p});return[w,m,O,d]}indexToPos(t){const[n,i]=this.treeByIndex.find(t),r=n;return Fe.of(r.getID(),i)}findIndexesFromRange(t){const[n,i]=t;return[this.posToIndex(n,!1),this.posToIndex(i,!0)]}posToIndex(t,n){const i=t.getAbsoluteID(),r=n?this.findFloorNodePreferToLeft(i):this.findFloorNode(i);if(!r)throw new b(S.ErrInvalidArgument,`the node of the given id should be found: ${i.toTestString()}`);const a=this.treeByIndex.indexOf(r),s=r.isRemoved()?0:i.getOffset()-r.getID().getOffset();return a+s}findNode(t){return this.findFloorNode(t)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const t=[];for(const n of this)n.isRemoved()||t.push(n.getValue());return t.join("")}*[Symbol.iterator](){let t=this.head.getNext();for(;t;)yield t,t=t.getNext()}getHead(){return this.head}deepcopy(){const t=new os;let n=this.head.getNext(),i=t.head,r;for(;n;){if(r=t.insertAfter(i,n.deepcopy()),n.hasInsPrev()){const a=t.findNode(n.getInsPrevID());r.setInsPrev(a)}i=r,n=n.getNext()}return t}toTestString(){const t=[];let n=this.head;for(;n;)n.isRemoved()?t.push(`{${n.toTestString()}}`):t.push(`[${n.toTestString()}]`),n=n.getNext();return t.join("")}insertAfter(t,n){const i=t.getNext();return n.setPrev(t),i&&i.setPrev(n),this.treeByID.put(n.getID(),n),this.treeByIndex.insertAfter(t,n),n}findNodeWithSplit(t,n){const i=t.getAbsoluteID();let r=this.findFloorNodePreferToLeft(i);const a=i.getOffset()-r.getID().getOffset();for(this.splitNode(r,a);r.hasNext()&&r.getNext().getCreatedAt().after(n);)r=r.getNext();return[r,r.getNext()]}findFloorNodePreferToLeft(t){let n=this.findFloorNode(t);if(!n)throw new b(S.ErrInvalidArgument,`the node of the given id should be found: ${t.toTestString()}`);if(t.getOffset()>0&&n.getID().getOffset()==t.getOffset()){if(!n.hasInsPrev())return n;n=n.getInsPrev()}return n}findFloorNode(t){const n=this.treeByID.floorEntry(t);if(n&&!(!n.key.equals(t)&&!n.key.hasSameCreatedAt(t)))return n.value}findBetween(t,n){const i=[];let r=t;for(;r&&r!==n;)i.push(r),r=r.getNext();return i}splitNode(t,n){if(n>t.getContentLength())throw new b(S.ErrInvalidArgument,"offset should be less than or equal to length");if(n===0)return t;if(n===t.getContentLength())return t.getNext();const i=t.split(n);this.treeByIndex.updateWeight(i),this.insertAfter(t,i);const r=t.getInsNext();return r&&r.setInsPrev(i),i.setInsPrev(t),i}deleteNodes(t,n,i,r){if(!t.length)return[[],new Map,new Map];const[a,s]=this.filterNodes(t,n,i,r),o=new Map,l=new Map,c=this.makeChanges(s,n);for(const h of a){const d=h.getCreatedAt().getActorID();(!o.has(d)||h.getID().getCreatedAt().after(o.get(d)))&&o.set(d,h.getID().getCreatedAt()),l.set(h.getID().toIDString(),h),h.remove(n)}return this.deleteIndexNodes(s),[c,o,l]}filterNodes(t,n,i,r){const a=[],s=[],[o,l]=this.findEdgesOfCandidates(t);s.push(o);for(const c of t){const h=c.getCreatedAt().getActorID();let d,m=0n;r===void 0&&i===void 0?m=Zs:r.size()>0?m=r.get(h)?r.get(h):0n:d=i.has(h)?i.get(h):_e,c.canDelete(n,d,m)?a.push(c):s.push(c)}return s.push(l),[a,s]}findEdgesOfCandidates(t){return[t[0].getPrev(),t[t.length-1].getNext()]}makeChanges(t,n){const i=[];let r,a;for(let s=0;s<t.length-1;s++){const o=t[s],l=t[s+1];o.getNext()!=l&&([r]=this.findIndexesFromRange(o.getNext().createPosRange()),l?[,a]=this.findIndexesFromRange(l.getPrev().createPosRange()):a=this.treeByIndex.length,r<a&&i.push({actor:n.getActorID(),from:r,to:a}))}return i.reverse()}deleteIndexNodes(t){for(let n=0;n<t.length-1;n++){const i=t[n],r=t[n+1];i.getNext()!=r&&this.treeByIndex.deleteRange(i,r)}}purge(t){this.treeByIndex.delete(t),this.treeByID.remove(t.getID());const n=t.getPrev(),i=t.getNext(),r=t.getInsPrev(),a=t.getInsNext();n&&n.setNext(i),i&&i.setPrev(n),t.setPrev(void 0),t.setNext(void 0),r&&r.setInsNext(a),a&&a.setInsPrev(r),t.setInsPrev(void 0),t.setInsNext(void 0)}}const Fm=e=>e<0?Math.ceil(e):Math.floor(e);var bn=(e=>(e[e.Int=0]="Int",e[e.Long=1]="Long",e))(bn||{});class Se extends Jo{constructor(n,i,r){super(r);u(this,"valueType");u(this,"value");switch(this.valueType=n,n){case 0:typeof i=="number"?i>Math.pow(2,31)-1||i<-Math.pow(2,31)?this.value=X.fromNumber(i).toInt():this.value=Fm(i):this.value=i.toInt();break;case 1:typeof i=="number"?this.value=X.fromNumber(i):this.value=i;break;default:throw new b(S.ErrUnimplemented,`unimplemented type: ${n}`)}}static create(n,i,r){return new Se(n,i,r)}static valueFromBytes(n,i){switch(n){case 0:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 1:return X.fromBytesLE(Array.from(i));default:throw new b(S.ErrUnimplemented,`unimplemented type: ${n}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const n=Se.create(this.valueType,this.value,this.getCreatedAt());return n.setMovedAt(this.getMovedAt()),n}getType(){return this.valueType}static getCounterType(n){switch(typeof n){case"object":return n instanceof X?1:void 0;case"number":return n>Math.pow(2,31)-1||n<-Math.pow(2,31)?1:0;default:return}}static isSupport(n){return!!Se.getCounterType(n)}static isInteger(n){return n%1===0}isNumericType(){const n=this.valueType;return n===0||n===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const n=this.value;return new Uint8Array([n&255,n>>8&255,n>>16&255,n>>24&255])}case 1:{const i=this.value.toBytesLE();return Uint8Array.from(i)}default:throw new b(S.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(n){function i(r){if(!r.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof r.getValue()}`)}return i(this),i(n),this.valueType===1?this.value=this.value.add(n.getValue()):n.getType()===Rt.Long?this.value=this.value+n.getValue().toInt():this.value=X.fromNumber(this.value+Fm(n.getValue())).toInt(),this}}class ls extends We{constructor(n,i,r){super(n,r);u(this,"value");this.value=i}static create(n,i,r){return new ls(n,i,r)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new b(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Se))throw new b(S.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const r=i,a=this.value.deepcopy();return r.increase(a),{opInfos:[{type:"increase",path:n.createPath(this.getParentCreatedAt()),value:a.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const n=this.value.deepcopy(),r=n.getType()===Rt.Long?n.getValue().multiply(-1):n.getValue()*-1;return ls.create(this.getParentCreatedAt(),Tt.of(r,n.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Hi extends We{constructor(n,i,r,a,s,o,l){super(n,l);u(this,"fromPos");u(this,"toPos");u(this,"maxCreatedAtMapByActor");u(this,"attributes");u(this,"attributesToRemove");this.fromPos=i,this.toPos=r,this.maxCreatedAtMapByActor=a,this.attributes=s,this.attributesToRemove=o}static create(n,i,r,a,s,o){return new Hi(n,i,r,a,s,[],o)}static createTreeRemoveStyleOperation(n,i,r,a,s,o){return new Hi(n,i,r,a,new Map,s,o)}execute(n,i,r){const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new b(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Ge))throw new b(S.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const s=a;let o,l;if(this.attributes.size){const c={};[...this.attributes].forEach(([h,d])=>c[h]=d),[,l,o]=s.style([this.fromPos,this.toPos],c,this.getExecutedAt(),this.maxCreatedAtMapByActor,r)}else{const c=this.attributesToRemove;[,l,o]=s.removeStyle([this.fromPos,this.toPos],c,this.getExecutedAt(),this.maxCreatedAtMapByActor,r)}for(const c of l)n.registerGCPair(c);return{opInfos:o.map(({from:c,to:h,value:d,fromPath:m,toPath:g})=>({type:"tree-style",from:c,to:h,value:this.attributes.size?{attributes:d}:{attributesToRemove:d},fromPath:m,toPath:g,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,r=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${n}.STYLE(${i},${r},${Object.entries(this.attributes||{}).map(([a,s])=>`${a}:"${s}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}function ew(e){const t=new Ad,n=t.data;for(const[i,r]of Object.entries(e))n[i]=JSON.stringify(r);return t}function nw(e){if(e.type===Cr.Put)return new yo({type:na.PUT,presence:ew(e.presence)});if(e.type===Cr.Clear)return new yo({type:na.CLEAR});throw new b(S.ErrUnimplemented,"unimplemented type")}function iw(e){return new O0({serverSeq:e.getServerSeq(),clientSeq:e.getClientSeq()})}function V0(e){return new Wu({clientSeq:e.getClientSeq(),lamport:e.getLamport(),actorId:Ud(e.getActorID()),versionVector:xd(e.getVersionVector())})}function z(e){if(e)return new M({lamport:e.getLamport(),delimiter:e.getDelimiter(),actorId:Ud(e.getActorID())})}function xd(e){if(!e)return;const t=new tc;for(const[n,i]of e)t.vector[n]=BigInt(i.toString());return t}function j0(e){switch(e){case Rt.Null:return H.NULL;case Rt.Boolean:return H.BOOLEAN;case Rt.Integer:return H.INTEGER;case Rt.Long:return H.LONG;case Rt.Double:return H.DOUBLE;case Rt.String:return H.STRING;case Rt.Bytes:return H.BYTES;case Rt.Date:return H.DATE;default:throw new b(S.ErrInvalidType,`unsupported type: ${e}`)}}function P0(e){switch(e){case bn.Int:return H.INTEGER_CNT;case bn.Long:return H.LONG_CNT;default:throw new b(S.ErrInvalidType,`unsupported type: ${e}`)}}function Kc(e){if(e instanceof ie)return new Ne({type:H.JSON_OBJECT,createdAt:z(e.getCreatedAt()),value:nS(e)});if(e instanceof ve)return new Ne({type:H.JSON_ARRAY,createdAt:z(e.getCreatedAt()),value:Mw(e)});if(e instanceof Pe)return new Ne({type:H.TEXT,createdAt:z(e.getCreatedAt())});if(e instanceof Tt)return new Ne({type:j0(e.getType()),createdAt:z(e.getCreatedAt()),value:e.toBytes()});if(e instanceof Se)return new Ne({type:P0(e.getType()),createdAt:z(e.getCreatedAt()),value:e.toBytes()});if(e instanceof Ge)return new Ne({type:H.TREE,createdAt:z(e.getCreatedAt()),value:Uw(e)});throw new b(S.ErrUnimplemented,"unimplemented element")}function rw(e){return new go({createdAt:z(e.getCreatedAt()),offset:e.getOffset()})}function ul(e){return new Yi({createdAt:z(e.getID().getCreatedAt()),offset:e.getID().getOffset(),relativeOffset:e.getRelativeOffset()})}function cl(e){return new ea({parentId:Qs(e.getParentID()),leftSiblingId:Qs(e.getLeftSiblingID())})}function Qs(e){return new br({createdAt:z(e.getCreatedAt()),offset:e.getOffset()})}function G0(e){const t=new bd;if(e instanceof ia){const n=e,i=new fu;i.parentCreatedAt=z(n.getParentCreatedAt()),i.key=n.getKey(),i.value=Kc(n.getValue()),i.executedAt=z(n.getExecutedAt()),t.body.case="set",t.body.value=i}else if(e instanceof Ho){const n=e,i=new hu;i.parentCreatedAt=z(n.getParentCreatedAt()),i.prevCreatedAt=z(n.getPrevCreatedAt()),i.value=Kc(n.getValue()),i.executedAt=z(n.getExecutedAt()),t.body.case="add",t.body.value=i}else if(e instanceof hr){const n=e,i=new du;i.parentCreatedAt=z(n.getParentCreatedAt()),i.prevCreatedAt=z(n.getPrevCreatedAt()),i.createdAt=z(n.getCreatedAt()),i.executedAt=z(n.getExecutedAt()),t.body.case="move",t.body.value=i}else if(e instanceof Rr){const n=e,i=new gu;i.parentCreatedAt=z(n.getParentCreatedAt()),i.createdAt=z(n.getCreatedAt()),i.executedAt=z(n.getExecutedAt()),t.body.case="remove",t.body.value=i}else if(e instanceof Vo){const n=e,i=new mu;i.parentCreatedAt=z(n.getParentCreatedAt()),i.from=ul(n.getFromPos()),i.to=ul(n.getToPos());const r=i.createdAtMapByActor;for(const[s,o]of n.getMaxCreatedAtMapByActor())r[s]=z(o);i.content=n.getContent();const a=i.attributes;for(const[s,o]of n.getAttributes())a[s]=o;i.executedAt=z(n.getExecutedAt()),t.body.case="edit",t.body.value=i}else if(e instanceof jo){const n=e,i=new yu;i.parentCreatedAt=z(n.getParentCreatedAt()),i.from=ul(n.getFromPos()),i.to=ul(n.getToPos());const r=i.createdAtMapByActor;for(const[s,o]of n.getMaxCreatedAtMapByActor())r[s]=z(o);const a=i.attributes;for(const[s,o]of n.getAttributes())a[s]=o;i.executedAt=z(n.getExecutedAt()),t.body.case="style",t.body.value=i}else if(e instanceof ls){const n=e,i=new pu;i.parentCreatedAt=z(n.getParentCreatedAt()),i.value=Kc(n.getValue()),i.executedAt=z(n.getExecutedAt()),t.body.case="increase",t.body.value=i}else if(e instanceof Po){const n=e,i=new vu,r=i.createdAtMapByActor;for(const[a,s]of n.getMaxCreatedAtMapByActor())r[a]=z(s);i.parentCreatedAt=z(n.getParentCreatedAt()),i.from=cl(n.getFromPos()),i.to=cl(n.getToPos()),i.contents=fw(n.getContents()),i.splitLevel=n.getSplitLevel(),i.executedAt=z(n.getExecutedAt()),t.body.case="treeEdit",t.body.value=i}else if(e instanceof Hi){const n=e,i=new Su;i.parentCreatedAt=z(n.getParentCreatedAt()),i.from=cl(n.getFromPos()),i.to=cl(n.getToPos());const r=i.createdAtMapByActor;for(const[s,o]of n.getMaxCreatedAtMapByActor())r[s]=z(o);const a=n.getAttributesToRemove();if(a.length>0)i.attributesToRemove=a;else{const s=i.attributes;for(const[o,l]of n.getAttributes())s[o]=l}i.executedAt=z(n.getExecutedAt()),t.body.case="treeStyle",t.body.value=i}else throw new b(S.ErrUnimplemented,"unimplemented operation");return t}function aw(e){const t=[];for(const n of e)t.push(G0(n));return t}function sw(e){const t=new x0({id:V0(e.getID()),message:e.getMessage()});return e.hasOperations()&&(t.operations=aw(e.getOperations())),e.hasPresenceChange()&&(t.presenceChange=nw(e.getPresenceChange())),t}function ow(e){const t=[];for(const n of e)t.push(sw(n));return t}function lw(e){const t=[];for(const n of e)t.push(new D0({key:n.getStrKey(),element:Od(n.getValue())}));return t}function uw(e){const t=[];for(const n of e)t.push(new xu({element:Od(n.getValue())}));return t}function cw(e){const t=[];for(const n of e){const i=new Du;i.id=rw(n.getID()),i.value=n.getValue().getContent(),i.removedAt=z(n.getRemovedAt());const r=i.attributes,a=n.getValue().getAttrs();for(const s of a){const o=new is;o.value=s.getValue(),o.updatedAt=z(s.getUpdatedAt()),r[s.getKey()]=o}t.push(i)}return t}function fw(e){const t=[];if(!e||!e.length)return t;for(const n of e)t.push(new Ou({content:Dd(n)}));return t}function hw(e){const t={};for(const n of e)t[n.getKey()]=new is({value:n.getValue(),updatedAt:z(n.getUpdatedAt()),isRemoved:n.isRemoved()});return t}function Dd(e){if(!e)return[];const t=[];return nc(e,(n,i)=>{const r=new mo({id:Qs(n.id),type:n.type,removedAt:z(n.removedAt),depth:i});n.isText&&(r.value=n.value),n.insPrevID&&(r.insPrevId=Qs(n.insPrevID)),n.insNextID&&(r.insNextId=Qs(n.insNextID)),n.attrs&&(r.attributes=hw(n.attrs)),t.push(r)}),t}function dw(e){const t=new ae;return t.body.case="jsonObject",t.body.value=new Tu({nodes:lw(e.getRHT()),createdAt:z(e.getCreatedAt()),movedAt:z(e.getMovedAt()),removedAt:z(e.getRemovedAt())}),t}function Y0(e){const t=new ae;return t.body.case="jsonArray",t.body.value=new bu({nodes:uw(e.getElements()),createdAt:z(e.getCreatedAt()),movedAt:z(e.getMovedAt()),removedAt:z(e.getRemovedAt())}),t}function gw(e){const t=new ae;return t.body.case="primitive",t.body.value=new Au({type:j0(e.getType()),value:e.toBytes(),createdAt:z(e.getCreatedAt()),movedAt:z(e.getMovedAt()),removedAt:z(e.getRemovedAt())}),t}function mw(e){const t=new ae;return t.body.case="text",t.body.value=new wu({nodes:cw(e.getRGATreeSplit()),createdAt:z(e.getCreatedAt()),movedAt:z(e.getMovedAt()),removedAt:z(e.getRemovedAt())}),t}function yw(e){const t=new ae;return t.body.case="counter",t.body.value=new Eu({type:P0(e.getType()),value:e.toBytes(),createdAt:z(e.getCreatedAt()),movedAt:z(e.getMovedAt()),removedAt:z(e.getRemovedAt())}),t}function K0(e){const t=new ae;return t.body.case="tree",t.body.value=new Nu({nodes:Dd(e.getRoot()),createdAt:z(e.getCreatedAt()),movedAt:z(e.getMovedAt()),removedAt:z(e.getRemovedAt())}),t}function Od(e){if(e instanceof ie)return dw(e);if(e instanceof ve)return Y0(e);if(e instanceof Tt)return gw(e);if(e instanceof Pe)return mw(e);if(e instanceof Se)return yw(e);if(e instanceof Ge)return K0(e);throw new b(S.ErrUnimplemented,"unimplemented element")}function pw(e){return new Xi({documentKey:e.getDocumentKey(),checkpoint:iw(e.getCheckpoint()),isRemoved:e.getIsRemoved(),changes:ow(e.getChanges()),snapshot:e.getSnapshot(),versionVector:xd(e.getVersionVector()),minSyncedTicket:z(e.getMinSyncedTicket())})}function ks(e){if(!(e instanceof tt))return{};const t=e.findDetails(M1);for(const n of t)return n.metadata;return{}}function Fi(e){return ks(e).code??""}function $0(e){return xi.of(e.clientSeq,BigInt(e.lamport),Md(e.actorId),Cd(e.versionVector),BigInt(e.serverSeq))}function Cd(e){if(!e)return;const t=new Va;return Object.entries(e.vector).forEach(([n,i])=>{t.set(n,BigInt(i.toString()))}),t}function U(e){if(e)return He.of(BigInt(e.lamport),e.delimiter,Md(e.actorId))}function Rd(e){const t={};return Object.entries(e.data).forEach(([n,i])=>{t[n]=JSON.parse(i)}),t}function vw(e){const t=e.type;if(t===na.PUT){const n=Rd(e.presence);return{type:Cr.Put,presence:n}}if(t===na.CLEAR)return{type:Cr.Clear};throw new b(S.ErrInvalidType,`unsupported type: ${t}`)}function Sw(e){const t=new Map;return Object.entries(e).forEach(([n,i])=>{t.set(n,Rd(i))}),t}function X0(e){switch(e){case H.NULL:return Rt.Null;case H.BOOLEAN:return Rt.Boolean;case H.INTEGER:return Rt.Integer;case H.LONG:return Rt.Long;case H.DOUBLE:return Rt.Double;case H.STRING:return Rt.String;case H.BYTES:return Rt.Bytes;case H.DATE:return Rt.Date}throw new b(S.ErrUnimplemented,`unimplemented value type: ${e}`)}function ku(e){switch(e){case H.INTEGER_CNT:return bn.Int;case H.LONG_CNT:return bn.Long}throw new b(S.ErrUnimplemented,`unimplemented value type: ${e}`)}function $c(e){switch(e.type){case H.JSON_OBJECT:return e.value?eS(e.value):ie.create(U(e.createdAt));case H.JSON_ARRAY:return e.value?Iw(e.value):ve.create(U(e.createdAt));case H.TEXT:return Pe.create(os.create(),U(e.createdAt));case H.TREE:return zw(e.value);case H.NULL:case H.BOOLEAN:case H.INTEGER:case H.LONG:case H.DOUBLE:case H.STRING:case H.BYTES:case H.DATE:return Tt.of(Tt.valueFromBytes(X0(e.type),e.value),U(e.createdAt));case H.INTEGER_CNT:case H.LONG_CNT:return Se.create(ku(e.type),Se.valueFromBytes(ku(e.type),e.value),U(e.createdAt))}}function fl(e){return Fe.of(Tn.of(U(e.createdAt),e.offset),e.relativeOffset)}function Z0(e){return Tn.of(U(e.createdAt),e.offset)}function Tw(e){const t=To.create(e.value);Object.entries(e.attributes).forEach(([i,r])=>{t.setAttr(i,r.value,U(r.updatedAt))});const n=Er.create(Z0(e.id),t);return n.remove(U(e.removedAt)),n}function ha(e){return Ze.of(_s(e.parentId),_s(e.leftSiblingId))}function _s(e){return Pt.of(U(e.createdAt),e.offset)}function bw(e){if(!e.length)return;const t=[];return e.forEach(n=>{const i=kd(n.content);t.push(i)}),t}function kd(e){if(e.length===0)return;const t=[];for(const r of e)t.push(ww(r));const n=t[t.length-1],i=new Map;i.set(e[t.length-1].depth,t[t.length-1]);for(let r=t.length-2;r>=0;r--)i.get(e[r].depth-1).prepend(t[r]),i.set(e[r].depth,t[r]);return n.updateDescendantsSize(),Ge.create(n,_e).getRoot()}function Aw(e){const t=Ki.create();for(const[n,i]of Object.entries(e))t.setInternal(n,i.value,U(i.updatedAt),i.isRemoved);return t}function ww(e){const t=_s(e.id),n=de.create(t,e.type),i=Object.entries(e.attributes);return n.isText?n.value=e.value:i.length&&(n.attrs=Aw(e.attributes)),e.insPrevId&&(n.insPrevID=_s(e.insPrevId)),e.insNextId&&(n.insNextID=_s(e.insNextId)),n.removedAt=U(e.removedAt),n}function Q0(e){if(e.body.case==="set"){const t=e.body.value;return ia.create(t.key,$c(t.value),U(t.parentCreatedAt),U(t.executedAt))}else if(e.body.case==="add"){const t=e.body.value;return Ho.create(U(t.parentCreatedAt),U(t.prevCreatedAt),$c(t.value),U(t.executedAt))}else if(e.body.case==="move"){const t=e.body.value;return hr.create(U(t.parentCreatedAt),U(t.prevCreatedAt),U(t.createdAt),U(t.executedAt))}else if(e.body.case==="remove"){const t=e.body.value;return Rr.create(U(t.parentCreatedAt),U(t.createdAt),U(t.executedAt))}else if(e.body.case==="edit"){const t=e.body.value,n=new Map;Object.entries(t.createdAtMapByActor).forEach(([r,a])=>{n.set(r,U(a))});const i=new Map;return Object.entries(t.attributes).forEach(([r,a])=>{i.set(r,a)}),Vo.create(U(t.parentCreatedAt),fl(t.from),fl(t.to),n,t.content,i,U(t.executedAt))}else if(e.body.case==="style"){const t=e.body.value,n=new Map;Object.entries(t.createdAtMapByActor).forEach(([r,a])=>{n.set(r,U(a))});const i=new Map;return Object.entries(t.attributes).forEach(([r,a])=>{i.set(r,a)}),jo.create(U(t.parentCreatedAt),fl(t.from),fl(t.to),n,i,U(t.executedAt))}else{if(e.body.case==="select")return;if(e.body.case==="increase"){const t=e.body.value;return ls.create(U(t.parentCreatedAt),$c(t.value),U(t.executedAt))}else if(e.body.case==="treeEdit"){const t=e.body.value,n=new Map;return Object.entries(t.createdAtMapByActor).forEach(([i,r])=>{n.set(i,U(r))}),Po.create(U(t.parentCreatedAt),ha(t.from),ha(t.to),bw(t.contents),t.splitLevel,n,U(t.executedAt))}else if(e.body.case==="treeStyle"){const t=e.body.value,n=new Map,i=t.attributesToRemove,r=new Map;return t!=null&&t.createdAtMapByActor&&Object.entries(t.createdAtMapByActor).forEach(([a,s])=>{r.set(a,U(s))}),(i==null?void 0:i.length)>0?Hi.createTreeRemoveStyleOperation(U(t.parentCreatedAt),ha(t.from),ha(t.to),r,i,U(t.executedAt)):(Object.entries(t.attributes).forEach(([a,s])=>{n.set(a,s)}),Hi.create(U(t.parentCreatedAt),ha(t.from),ha(t.to),r,n,U(t.executedAt)))}else throw new b(S.ErrUnimplemented,"unimplemented operation")}}function Ew(e){const t=[];for(const n of e){const i=Q0(n);i&&t.push(i)}return t}function _0(e){const t=[];for(const n of e)t.push(ss.create({id:$0(n.id),operations:Ew(n.operations),presenceChange:n.presenceChange?vw(n.presenceChange):void 0,message:n.message}));return t}function Nw(e){return ja.of(BigInt(e.serverSeq),e.clientSeq)}function xw(e){return ic.create(e.documentKey,Nw(e.checkpoint),e.isRemoved,_0(e.changes),Cd(e.versionVector),e.snapshot,U(e.minSyncedTicket))}function F0(e){const t=new po;for(const i of e.nodes){const r=Bd(i.element);t.set(i.key,r,r.getPositionedAt())}const n=new ie(U(e.createdAt),t);return n.setMovedAt(U(e.movedAt)),n.setRemovedAt(U(e.removedAt)),n}function W0(e){const t=new So;for(const i of e.nodes)t.insert(Bd(i.element));const n=new ve(U(e.createdAt),t);return n.setMovedAt(U(e.movedAt)),n.setRemovedAt(U(e.removedAt)),n}function Dw(e){const t=Tt.of(Tt.valueFromBytes(X0(e.type),e.value),U(e.createdAt));return t.setMovedAt(U(e.movedAt)),t.setRemovedAt(U(e.removedAt)),t}function Ow(e){const t=new os;let n=t.getHead();for(const r of e.nodes){const a=t.insertAfter(n,Tw(r));r.insPrevId&&a.setInsPrev(t.findNode(Z0(r.insPrevId))),n=a}const i=new Pe(t,U(e.createdAt));return i.setMovedAt(U(e.movedAt)),i.setRemovedAt(U(e.removedAt)),i}function Cw(e){const t=Se.create(ku(e.type),Se.valueFromBytes(ku(e.type),e.value),U(e.createdAt));return t.setMovedAt(U(e.movedAt)),t.setRemovedAt(U(e.removedAt)),t}function tS(e){const t=kd(e.nodes);return Ge.create(t,U(e.createdAt))}function Bd(e){if(e.body.case==="jsonObject")return F0(e.body.value);if(e.body.case==="jsonArray")return W0(e.body.value);if(e.body.case==="primitive")return Dw(e.body.value);if(e.body.case==="text")return Ow(e.body.value);if(e.body.case==="counter")return Cw(e.body.value);if(e.body.case==="tree")return tS(e.body.value);throw new b(S.ErrUnimplemented,"unimplemented element")}function Rw(e){if(!e)return{root:ie.create(_e),presences:new Map};const t=$f.fromBinary(e);return{root:Bd(t.root),presences:Sw(t.presences)}}function kw(e){const t=xd(e);return Id(t.toBinary())}function Bw(e){const t=zd(e),n=tc.fromBinary(t);return Cd(n)}function eS(e){if(!e)throw new b(S.ErrInvalidArgument,"bytes is empty");const t=ae.fromBinary(e);return F0(t.body.value)}function nS(e){return Od(e).toBinary()}function Iw(e){if(!e)throw new b(S.ErrInvalidArgument,"bytes is empty");const t=ae.fromBinary(e);return W0(t.body.value)}function Mw(e){return Y0(e).toBinary()}function zw(e){if(!e)throw new b(S.ErrInvalidArgument,"bytes is empty");const t=ae.fromBinary(e);return tS(t.body.value)}function Uw(e){return K0(e).toBinary()}function Id(e){return e?Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join(""):""}function Md(e){return Id(e)}function zd(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>parseInt(t,16)))}function Ud(e){return zd(e)}function Lw(e){const t=Wu.fromBinary(e);return $0(t)}function qw(e){const t=bd.fromBinary(e);return Q0(t)}const Et={fromPresence:Rd,toChangePack:pw,fromChangePack:xw,fromChanges:_0,toTreeNodes:Dd,fromTreeNodes:kd,objectToBytes:nS,bytesToObject:eS,bytesToSnapshot:Rw,bytesToHex:Id,hexToBytes:zd,toHexString:Md,toUint8Array:Ud,toOperation:G0,toChangeID:V0,PbChangeID:Wu,bytesToChangeID:Lw,bytesToOperation:qw,versionVectorToHex:kw,hexToVersionVector:Bw};var ee=(e=>(e[e.Trivial=0]="Trivial",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warn=3]="Warn",e[e.Error=4]="Error",e[e.Fatal=5]="Fatal",e))(ee||{});let qr=3;function Jw(e){qr=e}const L={trivial:(...e)=>{qr>0||typeof console<"u"&&console.log("YORKIE T:",...e)},debug:(...e)=>{qr>1||typeof console<"u"&&console.log("YORKIE D:",...e)},info:(...e)=>{qr>2||typeof console<"u"&&console.log("YORKIE I:",...e)},warn:(...e)=>{qr>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...e):console.log("YORKIE W:",...e))},error:(...e)=>{qr>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...e):console.log("YORKIE E:",...e))},fatal:(...e)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...e):console.log("YORKIE F:",...e))},isEnabled:e=>qr<=e};function iS(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class Hw{constructor(t,n,i,r,a){u(this,"reconnectStreamDelay");u(this,"doc");u(this,"docID");u(this,"syncMode");u(this,"remoteChangeEventReceived");u(this,"watchStream");u(this,"watchLoopTimerID");u(this,"watchAbortController");u(this,"unsubscribeBroadcastEvent");this.reconnectStreamDelay=t,this.doc=n,this.docID=i,this.syncMode=r,this.remoteChangeEventReceived=!1,this.unsubscribeBroadcastEvent=a}changeSyncMode(t){this.syncMode=t}needRealtimeSync(){return this.syncMode===Bl.RealtimeSyncOff?!1:this.syncMode===Bl.RealtimePushOnly?this.doc.hasLocalChanges():this.syncMode!==Bl.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(t){const n=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await t(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(n,this.reconnectStreamDelay)})}catch{}};await n()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}const Xc=()=>{};class Vw{constructor(t){u(this,"finalized",!1);u(this,"observers",[]);u(this,"finalError");try{t(this)}catch(n){this.error(n)}}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(!t)throw new b(S.ErrInvalidArgument,"missing observer");if(this.finalized)throw new b(S.ErrRefused,"observable is finalized due to previous error");typeof t=="object"?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Xc),r.error===void 0&&(r.error=Xc),r.complete===void 0&&(r.complete=Xc);const a=iS(),s=this.unsubscribeOne.bind(this,a);if(this.observers.push({subscriptionID:a,observer:r}),this.finalized)try{this.finalError?r.error(this.finalError):r.complete()}catch(o){L.warn(o)}return s}unsubscribeOne(t){var n;this.observers=(n=this.observers)==null?void 0:n.filter(i=>i.subscriptionID!==t)}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t].observer)}catch(i){L.error(i)}}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.observers=void 0)}}function jw(e){const t=new Vw(e);return{subscribe:t.subscribe.bind(t),getProxy:()=>t}}class ka{constructor(t,n,i,r){u(this,"id");u(this,"delimiter");u(this,"message");u(this,"root");u(this,"operations");u(this,"presenceChange");u(this,"previousPresence");u(this,"reversePresenceKeys");this.id=t,this.delimiter=R0,this.root=n,this.operations=[],this.previousPresence=Ke(i),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=r}static create(t,n,i,r){return new ka(t,n,i,r)}push(t){this.operations.push(t)}registerElement(t,n){this.root.registerElement(t,n)}registerRemovedElement(t){this.root.registerRemovedElement(t)}registerGCPair(t){this.root.registerGCPair(t)}getChange(){return ss.create({id:this.id,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(t){this.presenceChange=t}setReversePresence(t,n){for(const i of Object.keys(t))n!=null&&n.addToHistory?this.reversePresenceKeys.add(i):this.reversePresenceKeys.delete(i)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const t={};for(const n of this.reversePresenceKeys)t[n]=this.previousPresence[n];return t}issueTimeTicket(){return this.delimiter+=1,this.id.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.id.createTimeTicket(this.delimiter)}}class bo{constructor(t){u(this,"rootObject");u(this,"elementPairMapByCreatedAt");u(this,"gcElementSetByCreatedAt");u(this,"gcPairMap");this.rootObject=t,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.registerElement(t,void 0),t.getDescendants(n=>{if(n.getRemovedAt()&&this.registerRemovedElement(n),n instanceof Pe||n instanceof Ge)for(const i of n.getGCPairs())this.registerGCPair(i);return!1})}static create(){return new bo(ie.create(_e))}findByCreatedAt(t){const n=this.elementPairMapByCreatedAt.get(t.toIDString());if(n)return n.element}findElementPairByCreatedAt(t){return this.elementPairMapByCreatedAt.get(t.toIDString())}createSubPaths(t){let n=this.elementPairMapByCreatedAt.get(t.toIDString());if(!n)return[];const i=[];for(;n.parent;){const r=n.element.getCreatedAt(),a=n.parent.subPathOf(r);if(a===void 0)throw new b(S.ErrInvalidArgument,`cant find the given element: ${r.toIDString()}`);i.unshift(a),n=this.elementPairMapByCreatedAt.get(n.parent.getCreatedAt().toIDString())}return i.unshift("$"),i}createPath(t){return this.createSubPaths(t).join(".")}registerElement(t,n){this.elementPairMapByCreatedAt.set(t.getCreatedAt().toIDString(),{parent:n,element:t}),t instanceof wr&&t.getDescendants((i,r)=>(this.registerElement(i,r),!1))}deregisterElement(t){let n=0;const i=r=>{const a=r.getCreatedAt().toIDString();this.elementPairMapByCreatedAt.delete(a),this.gcElementSetByCreatedAt.delete(a),n++};return i(t),t instanceof wr&&t.getDescendants(r=>(i(r),!1)),n}registerRemovedElement(t){this.gcElementSetByCreatedAt.add(t.getCreatedAt().toIDString())}registerGCPair(t){if(this.gcPairMap.get(t.child.toIDString())){this.gcPairMap.delete(t.child.toIDString());return}this.gcPairMap.set(t.child.toIDString(),t)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const t=new Set;for(const n of this.gcElementSetByCreatedAt){t.add(n);const i=this.elementPairMapByCreatedAt.get(n);i.element instanceof wr&&i.element.getDescendants(r=>(t.add(r.getCreatedAt().toIDString()),!1))}return t.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){const t={live:{data:0,meta:0},gc:{data:0,meta:0}};for(const[n,i]of this.elementPairMapByCreatedAt)this.gcElementSetByCreatedAt.has(n)?(t.gc.data+=i.element.getDataSize().data,t.gc.meta+=i.element.getDataSize().meta):(t.live.data+=i.element.getDataSize().data,t.live.meta+=i.element.getDataSize().meta);for(const n of this.gcPairMap.values()){const i=n.child.getDataSize();t.gc.data+=i.data,t.gc.meta+=i.meta}return t}deepcopy(){return new bo(this.rootObject.deepcopy())}garbageCollect(t){let n=0;for(const i of this.gcElementSetByCreatedAt){const r=this.elementPairMapByCreatedAt.get(i),a=r.element.getRemovedAt();a&&(t!=null&&t.afterOrEqual(a))&&(r.parent.purge(r.element),n+=this.deregisterElement(r.element))}for(const[,i]of this.gcPairMap){const r=i.child.getRemovedAt();r&&(t!=null&&t.afterOrEqual(r))&&(i.parent.purge(i.child),this.gcPairMap.delete(i.child.toIDString()),n+=1)}return n}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}}function rS(e,t){const n=new Ao(e);return new Proxy(t,n.getHandlers())}class Ao{constructor(t){u(this,"context");u(this,"handlers");this.context=t,this.handlers={set:(n,i,r)=>(L.isEnabled(ee.Trivial)&&L.trivial(`obj[${i}]=${JSON.stringify(r)}`),Ao.setInternal(t,n,i,r),!0),get:(n,i)=>(L.isEnabled(ee.Trivial)&&L.trivial(`obj[${i}]`),i==="getID"?()=>n.getCreatedAt():i==="toJSON"||i==="toString"?()=>n.toJSON():i==="toJS"?()=>n.toJS():i==="toJSForTest"?()=>n.toJSForTest():Jr(t,n.get(i))),ownKeys:n=>n.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(n,i)=>(L.isEnabled(ee.Trivial)&&L.trivial(`obj[${i}]`),Ao.deleteInternal(t,n,i),!0)}}static setInternal(t,n,i,r){if(i.includes("."))throw new b(S.ErrInvalidObjectKey,"key must not contain the '.'.");const a=t.issueTimeTicket(),s=Bu(t,r,a),o=n.set(i,s,a);t.registerElement(s,n),o&&t.registerRemovedElement(o),t.push(ia.create(i,s.deepcopy(),n.getCreatedAt(),a))}static buildObjectMembers(t,n){const i={};for(const[r,a]of Object.entries(n)){if(r.includes("."))throw new b(S.ErrInvalidObjectKey,"key must not contain the '.'.");const s=t.issueTimeTicket(),o=Bu(t,a,s);i[r]=o}return i}static deleteInternal(t,n,i){const r=t.issueTimeTicket(),a=n.deleteByKey(i,r);a&&(t.push(Rr.create(n.getCreatedAt(),a.getCreatedAt(),r)),t.registerRemovedElement(a))}getHandlers(){return this.handlers}}function Pw(e,t){const n=new yt(e,t);return new Proxy(t,n.getHandlers())}function Gw(e){return typeof e=="string"||e instanceof String?!isNaN(e):!1}function Yw(e){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(e)}class yt{constructor(t,n){u(this,"context");u(this,"handlers");u(this,"array");this.context=t,this.array=n,this.handlers={get:(i,r,a)=>r==="getID"?()=>i.getCreatedAt():r==="getElementByID"?s=>{const o=i.getByID(s);if(!(!o||o.isRemoved()))return tr(t,o)}:r==="getElementByIndex"?s=>{const o=i.get(s);return tr(t,o)}:r==="getLast"?()=>tr(t,i.getLast()):r==="deleteByID"?s=>{const o=yt.deleteInternalByID(t,i,s);return tr(t,o)}:r==="insertAfter"?(s,o)=>{const l=yt.insertAfterInternal(t,i,s,o);return tr(t,l)}:r==="insertBefore"?(s,o)=>{const l=yt.insertBeforeInternal(t,i,s,o);return tr(t,l)}:r==="moveBefore"?(s,o)=>{yt.moveBeforeInternal(t,i,s,o)}:r==="moveAfter"?(s,o)=>{yt.moveAfterInternal(t,i,s,o)}:r==="moveFront"?s=>{yt.moveFrontInternal(t,i,s)}:r==="moveLast"?s=>{yt.moveLastInternal(t,i,s)}:Gw(r)?Jr(t,i.get(Number(r))):r==="push"?s=>yt.pushInternal(t,i,s):r==="splice"?(s,o,...l)=>yt.splice(t,i,s,o,...l):r==="length"?i.length:typeof r=="symbol"&&r===Symbol.iterator?yt.iteratorInternal.bind(this,t,i):r==="includes"?(s,o)=>yt.includes(t,i,s,o):r==="indexOf"?(s,o)=>yt.indexOf(t,i,s,o):r==="lastIndexOf"?(s,o)=>yt.lastIndexOf(t,i,s,o):r==="toJSForTest"?()=>i.toJSForTest():r==="toTestString"?()=>yt.toTestString(i):typeof r=="string"&&Yw(r)?(...s)=>{const o=Array.from(i).map(l=>Jr(t,l));return Array.prototype[r].apply(o,s)}:Reflect.get(i,r,a),deleteProperty:(i,r)=>(L.isEnabled(ee.Trivial)&&L.trivial(`array[${r}]`),yt.deleteInternalByIndex(t,i,Number.parseInt(r)),!0)}}static*iteratorInternal(t,n){for(const i of n)yield tr(t,i)}static buildArrayElements(t,n){const i=[];for(const r of n){const a=t.issueTimeTicket(),s=Bu(t,r,a);i.push(s)}return i}static pushInternal(t,n,i){return yt.insertAfterInternal(t,n,n.getLastCreatedAt(),i),n.length}static moveBeforeInternal(t,n,i,r){const a=t.issueTimeTicket(),s=n.getPrevCreatedAt(i);n.moveAfter(s,r,a),t.push(hr.create(n.getCreatedAt(),s,r,a))}static moveAfterInternal(t,n,i,r){const a=t.issueTimeTicket();n.moveAfter(i,r,a),t.push(hr.create(n.getCreatedAt(),i,r,a))}static moveFrontInternal(t,n,i){const r=t.issueTimeTicket(),a=n.getHead();n.moveAfter(a.getCreatedAt(),i,r),t.push(hr.create(n.getCreatedAt(),a.getCreatedAt(),i,r))}static moveLastInternal(t,n,i){const r=t.issueTimeTicket(),a=n.getLastCreatedAt();n.moveAfter(a,i,r),t.push(hr.create(n.getCreatedAt(),a,i,r))}static insertAfterInternal(t,n,i,r){const a=t.issueTimeTicket(),s=Bu(t,r,a);return n.insertAfter(i,s),t.registerElement(s,n),t.push(Ho.create(n.getCreatedAt(),i,s.deepcopy(),a)),s}static insertBeforeInternal(t,n,i,r){return yt.insertAfterInternal(t,n,n.getPrevCreatedAt(i),r)}static deleteInternalByIndex(t,n,i){const r=t.issueTimeTicket(),a=n.deleteByIndex(i,r);if(a)return t.push(Rr.create(n.getCreatedAt(),a.getCreatedAt(),r)),t.registerRemovedElement(a),a}static deleteInternalByID(t,n,i){const r=t.issueTimeTicket(),a=n.delete(i,r);return t.push(Rr.create(n.getCreatedAt(),a.getCreatedAt(),r)),t.registerRemovedElement(a),a}static splice(t,n,i,r,...a){const s=n.length,o=i>=0?Math.min(i,s):Math.max(s+i,0),l=r===void 0?s:r<0?o:Math.min(o+r,s),c=[];for(let h=o;h<l;h++){const d=yt.deleteInternalByIndex(t,n,o);if(d){const m=d.deepcopy();m.setRemovedAt(),c.push(Jr(t,m))}}if(a){let h=o===0?n.getHead().getID():n.get(o-1).getID();for(const d of a)h=yt.insertAfterInternal(t,n,h,d).getID()}return c}static includes(t,n,i,r){var o;const a=n.length,s=r===void 0?0:r<0?Math.max(r+a,0):r;if(s>=a)return!1;if(Tt.isSupport(i))return Array.from(n).map(c=>Jr(t,c)).includes(i,s);for(let l=s;l<a;l++)if(((o=n.get(l))==null?void 0:o.getID())===i.getID())return!0;return!1}static indexOf(t,n,i,r){var o;const a=n.length,s=r===void 0?0:r<0?Math.max(r+a,0):r;if(s>=a)return-1;if(Tt.isSupport(i))return Array.from(n).map(c=>Jr(t,c)).indexOf(i,s);for(let l=s;l<a;l++)if(((o=n.get(l))==null?void 0:o.getID())===i.getID())return l;return-1}static lastIndexOf(t,n,i,r){var o;const a=n.length,s=r===void 0||r>=a?a-1:r<0?r+a:r;if(s<0)return-1;if(Tt.isSupport(i))return Array.from(n).map(c=>Jr(t,c)).lastIndexOf(i,s);for(let l=s;l>0;l--)if(((o=n.get(l))==null?void 0:o.getID())===i.getID())return l;return-1}static toTestString(t){return t.toTestString()}getHandlers(){return this.handlers}}class Ld{constructor(t,n){u(this,"context");u(this,"text");this.context=t,this.text=n}initialize(t,n){this.context=t,this.text=n}getID(){return this.text.getID()}edit(t,n,i,r){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");if(t>n)throw new b(S.ErrInvalidArgument,"from should be less than or equal to to");const a=this.text.indexRangeToPosRange(t,n);L.isEnabled(ee.Debug)&&L.debug(`EDIT: f:${t}->${a[0].toTestString()}, t:${n}->${a[1].toTestString()} c:${i}`);const s=r?rs(r):void 0,o=this.context.issueTimeTicket(),[l,,c,h]=this.text.edit(a,i,o,s);for(const d of c)this.context.registerGCPair(d);return this.context.push(new Vo(this.text.getCreatedAt(),a[0],a[1],l,i,s?new Map(Object.entries(s)):new Map,o)),this.text.findIndexesFromRange(h)}delete(t,n){return this.edit(t,n,"")}empty(){return this.edit(0,this.length,"")}setStyle(t,n,i){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");if(t>n)throw new b(S.ErrInvalidArgument,"from should be less than or equal to to");const r=this.text.indexRangeToPosRange(t,n);L.isEnabled(ee.Debug)&&L.debug(`STYL: f:${t}->${r[0].toTestString()}, t:${n}->${r[1].toTestString()} a:${JSON.stringify(i)}`);const a=rs(i),s=this.context.issueTimeTicket(),[o,l]=this.text.setStyle(r,a,s);for(const c of l)this.context.registerGCPair(c);return this.context.push(new jo(this.text.getCreatedAt(),r[0],r[1],o,new Map(Object.entries(a)),s)),!0}indexRangeToPosRange(t){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");const n=this.text.indexRangeToPosRange(t[0],t[1]);return[n[0].toStruct(),n[1].toStruct()]}posRangeToIndexRange(t){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");const n=this.text.findIndexesFromRange([Fe.fromStruct(t[0]),Fe.fromStruct(t[1])]);return[n[0],n[1]]}toTestString(){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(t,n){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(t,n)}}class qd{constructor(t,n){u(this,"valueType");u(this,"value");u(this,"context");u(this,"counter");this.valueType=t,this.value=n}initialize(t,n){this.valueType=n.getValueType(),this.context=t,this.counter=n,this.value=n.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(t){if(!this.context||!this.counter)throw new b(S.ErrNotInitialized,"Counter is not initialized yet");const n=this.context.issueTimeTicket(),i=Tt.of(t,n);if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`);return this.counter.increase(i),this.context.push(ls.create(this.counter.getCreatedAt(),i,n)),this}toJSForTest(){if(!this.context||!this.counter)throw new b(S.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function Jd(e,t,n){const{type:i}=e,r=n.issueTimeTicket();if(i===Ji){aS(e);const{value:a}=e,s=de.create(Pt.of(r,0),i,a);t.append(s)}else{const{children:a=[]}=e,{attributes:s}=e;let o;if(typeof s=="object"&&!C0(s)){const c=rs(s);o=new Ki;for(const[h,d]of Object.entries(c))o.set(h,d,r)}const l=de.create(Pt.of(r,0),i,void 0,o);t.append(l);for(const c of a)Jd(c,l,n)}}function Kw(e,t){const{type:n}=t,i=e.issueTimeTicket();let r;if(t.type===Ji){const{value:a}=t;r=de.create(Pt.of(i,0),n,a)}else if(t){const{children:a=[]}=t,{attributes:s}=t;let o;if(typeof s=="object"&&!C0(s)){const l=rs(s);o=new Ki;for(const[c,h]of Object.entries(l))o.set(c,h,i)}r=de.create(Pt.of(e.issueTimeTicket(),0),n,void 0,o);for(const l of a)Jd(l,r,e)}return r}function aS(e){if(!e.value.length)throw new b(S.ErrInvalidArgument,"text node cannot have empty value");return!0}function Wm(e){if(!e.length)return!0;if(e[0].type===Ji)for(const n of e){const{type:i}=n;if(i!==Ji)throw new b(S.ErrInvalidArgument,"element node and text node cannot be passed together");aS(n)}else for(const n of e){const{type:i}=n;if(i===Ji)throw new b(S.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Hd{constructor(t){u(this,"initialRoot");u(this,"context");u(this,"tree");this.initialRoot=t}initialize(t,n){this.context=t,this.tree=n}getID(){return this.tree.getID()}buildRoot(t){if(!this.initialRoot)return de.create(Pt.of(t.issueTimeTicket(),0),P1);const n=de.create(Pt.of(t.issueTimeTicket(),0),this.initialRoot.type);for(const i of this.initialRoot.children)Jd(i,n,t);return n}getSize(){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}styleByPath(t,n){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");if(!t.length)throw new b(S.ErrInvalidArgument,"path should not be empty");const[i,r]=this.tree.pathToPosRange(t),a=this.context.issueTimeTicket(),s=n?rs(n):void 0,[o]=this.tree.style([i,r],s,a);this.context.push(Hi.create(this.tree.getCreatedAt(),i,r,o,s?new Map(Object.entries(s)):new Map,a))}style(t,n,i){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new b(S.ErrInvalidArgument,"from should be less than or equal to to");const r=this.tree.findPos(t),a=this.tree.findPos(n),s=this.context.issueTimeTicket(),o=i?rs(i):void 0,[l,c]=this.tree.style([r,a],o,s);for(const h of c)this.context.registerGCPair(h);this.context.push(Hi.create(this.tree.getCreatedAt(),r,a,l,o?new Map(Object.entries(o)):new Map,s))}removeStyle(t,n,i){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new b(S.ErrInvalidArgument,"from should be less than or equal to to");const r=this.tree.findPos(t),a=this.tree.findPos(n),s=this.context.issueTimeTicket(),[o,l]=this.tree.removeStyle([r,a],i,s);for(const c of l)this.context.registerGCPair(c);this.context.push(Hi.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),r,a,o,i,s))}editInternal(t,n,i,r=0){var c;if(i.length!==0&&i[0]&&(Wm(i),i[0].type!==Ji))for(const h of i){const{children:d=[]}=h;Wm(d)}const a=this.context.getLastTimeTicket();let s=new Array;if(((c=i[0])==null?void 0:c.type)===Ji){let h="";for(const d of i){const{value:m}=d;h+=m}s.push(de.create(Pt.of(this.context.issueTimeTicket(),0),Ji,h))}else s=i.map(h=>h&&Kw(this.context,h)).filter(h=>h);const[,o,l]=this.tree.edit([t,n],s.length?s.map(h=>h==null?void 0:h.deepcopy()):void 0,r,a,()=>this.context.issueTimeTicket());for(const h of o)this.context.registerGCPair(h);return this.context.push(Po.create(this.tree.getCreatedAt(),t,n,s.length?s:void 0,r,l,a)),!0}editByPath(t,n,i,r=0){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");if(t.length!==n.length)throw new b(S.ErrInvalidArgument,"path length should be equal");if(!t.length||!n.length)throw new b(S.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToPos(t),s=this.tree.pathToPos(n);return this.editInternal(a,s,i?[i]:[],r)}editBulkByPath(t,n,i,r=0){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");if(t.length!==n.length)throw new b(S.ErrInvalidArgument,"path length should be equal");if(!t.length||!n.length)throw new b(S.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToPos(t),s=this.tree.pathToPos(n);return this.editInternal(a,s,i,r)}edit(t,n,i,r=0){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new b(S.ErrInvalidArgument,"from should be less than or equal to to");const a=this.tree.findPos(t),s=this.tree.findPos(n);return this.editInternal(a,s,i?[i]:[],r)}editBulk(t,n,i,r=0){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new b(S.ErrInvalidArgument,"from should be less than or equal to to");const a=this.tree.findPos(t),s=this.tree.findPos(n);return this.editInternal(a,s,i,r)}toXML(){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(t){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(t)}pathToIndex(t){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(t)}pathRangeToPosRange(t){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");const n=[this.tree.pathToIndex(t[0]),this.tree.pathToIndex(t[1])],i=this.tree.indexRangeToPosRange(n);return[i[0].toStruct(),i[1].toStruct()]}indexRangeToPosRange(t){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(t)}posRangeToIndexRange(t){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");const n=[Ze.fromStruct(t[0]),Ze.fromStruct(t[1])];return this.tree.posRangeToIndexRange(n)}posRangeToPathRange(t){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");const n=[Ze.fromStruct(t[0]),Ze.fromStruct(t[1])];return this.tree.posRangeToPathRange(n)}}function ty(e,t){return rS(e,t)}function tr(e,t){if(t){if(t instanceof Tt)return t;if(t instanceof ie)return rS(e,t);if(t instanceof ve)return Pw(e,t);if(t instanceof Pe)return new Ld(e,t);if(t instanceof Se){const n=new qd(bn.Int,0);return n.initialize(e,t),n}else if(t instanceof Ge){const n=new Hd;return n.initialize(e,t),n}}else return;throw new TypeError(`Unsupported type of element: ${typeof t}`)}function Jr(e,t){const n=tr(e,t);return n instanceof Tt?n.getValue():n}function Bu(e,t,n){let i;if(Tt.isSupport(t))i=Tt.of(t,n);else if(Array.isArray(t))i=ve.create(n,yt.buildArrayElements(e,t));else if(typeof t=="object")t instanceof Ld?(i=Pe.create(os.create(),n),t.initialize(e,i)):t instanceof qd?(i=Se.create(t.getValueType(),t.getValue(),n),t.initialize(e,i)):t instanceof Hd?(i=Ge.create(t.buildRoot(e),n),t.initialize(e,i)):i=ie.create(n,Ao.buildObjectMembers(e,t));else throw new TypeError(`Unsupported type of value: ${typeof t}`);return i}const ey=50;class $w{constructor(){u(this,"undoStack",[]);u(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(t){this.undoStack.length>=ey&&this.undoStack.shift(),this.undoStack.push(t)}popUndo(){return this.undoStack.pop()}pushRedo(t){this.redoStack.length>=ey&&this.redoStack.shift(),this.redoStack.push(t)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const Xw="yorkie-devtools-panel",Zw="yorkie-devtools-sdk";function Qw(e){return[Ht.StatusChanged,Ht.Snapshot,Ht.LocalChange,Ht.RemoteChange,Ht.Initialized,Ht.Watched,Ht.Unwatched,Ht.PresenceChanged].includes(e.type)}function _w(e){return e.every(Qw)}let pa="disconnected";const ny=new Map,kl=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=kl);function hl(e,t){(t!=null&&t.force||pa!=="disconnected")&&window.postMessage({source:Zw,...e},"*")}function Fw(e){if(!e.isEnableDevtools()||typeof window>"u"||ny.has(e.getKey()))return;kl.set(e.getKey(),[]);const t=e.subscribe("all",n=>{_w(n)&&(kl.get(e.getKey()).push(n),pa==="synced"&&hl({msg:"doc::sync::partial",docKey:e.getKey(),event:n}))});ny.set(e.getKey(),[t]),hl({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",n=>{var r;if(((r=n.data)==null?void 0:r.source)!==Xw)return;switch(n.data.msg){case"devtools::connect":if(pa!=="disconnected")break;pa="connected",hl({msg:"doc::available",docKey:e.getKey()}),L.info(`[YD] Devtools connected. Doc: ${e.getKey()}`);break;case"devtools::disconnect":pa="disconnected",L.info(`[YD] Devtools disconnected. Doc: ${e.getKey()}`);break;case"devtools::subscribe":pa="synced",hl({msg:"doc::sync::full",docKey:e.getKey(),events:kl.get(e.getKey())}),L.info(`[YD] Devtools subscribed. Doc: ${e.getKey()}`);break}})}var er=(e=>(e.Detached="detached",e.Attached="attached",e.Removed="removed",e))(er||{}),Ht=(e=>(e.StatusChanged="status-changed",e.ConnectionChanged="connection-changed",e.SyncStatusChanged="sync-status-changed",e.Snapshot="snapshot",e.LocalChange="local-change",e.RemoteChange="remote-change",e.Initialized="initialized",e.Watched="watched",e.Unwatched="unwatched",e.PresenceChanged="presence-changed",e.Broadcast="broadcast",e.LocalBroadcast="local-broadcast",e.AuthError="auth-error",e))(Ht||{}),Iu=(e=>(e.Connected="connected",e.Disconnected="disconnected",e))(Iu||{}),Sh=(e=>(e.Synced="synced",e.SyncFailed="sync-failed",e))(Sh||{});class sS{constructor(t,n){u(this,"key");u(this,"status");u(this,"opts");u(this,"changeID");u(this,"checkpoint");u(this,"localChanges");u(this,"root");u(this,"clone");u(this,"eventStream");u(this,"eventStreamObserver");u(this,"onlineClients");u(this,"presences");u(this,"history");u(this,"internalHistory");u(this,"isUpdating");this.opts=n||{},this.key=t,this.status="detached",this.root=bo.create(),this.changeID=F1,this.checkpoint=W1,this.localChanges=[],this.eventStream=jw(i=>{this.eventStreamObserver=i}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new $w,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},Fw(this)}update(t,n){if(this.getStatus()==="removed")throw new b(S.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const i=this.changeID.getActorID(),r=ka.create(this.changeID.next(),this.clone.root,this.clone.presences.get(i)||{},n);try{const a=ty(r,this.clone.root.getObject());this.presences.has(i)||this.clone.presences.set(i,{}),this.isUpdating=!0,t(a,new Yc(r,this.clone.presences.get(i)))}catch(a){throw this.clone=void 0,a}finally{this.isUpdating=!1}if(r.hasChange()){L.isEnabled(ee.Trivial)&&L.trivial(`trying to update a local change: ${this.toJSON()}`);const a=r.getChange(),{opInfos:s,reverseOps:o}=a.execute(this.root,this.presences,st.Local),l=r.getReversePresence();l&&o.push({type:"presence",value:l}),this.localChanges.push(a),o.length>0&&this.internalHistory.pushUndo(o),s.length>0&&this.internalHistory.clearRedo(),this.changeID=a.getID();const c=[];s.length>0&&c.push({type:"local-change",source:st.Local,value:{message:a.getMessage()||"",operations:s,actor:i,clientSeq:a.getID().getClientSeq(),serverSeq:a.getID().getServerSeq()},rawChange:this.isEnableDevtools()?a.toStruct():void 0}),a.hasPresenceChange()&&c.push({type:"presence-changed",source:st.Local,value:{clientID:i,presence:this.getPresence(i)}}),this.publish(c),L.isEnabled(ee.Trivial)&&L.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(t,n,i,r){if(typeof t=="string"){if(typeof n!="function")throw new b(S.ErrInvalidArgument,"Second argument must be a callback function");if(t==="presence"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="initialized"&&c.type!=="watched"&&c.type!=="unwatched"&&c.type!=="presence-changed"||o(c)},i,r)}if(t==="my-presence"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="initialized"&&c.type!=="presence-changed"||c.type==="presence-changed"&&c.value.clientID!==this.changeID.getActorID()||o(c)},i,r)}if(t==="others"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="watched"&&c.type!=="unwatched"&&c.type!=="presence-changed"||c.value.clientID!==this.changeID.getActorID()&&o(c)},i,r)}if(t==="connection"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="connection-changed"&&o(c)},i,r)}if(t==="status"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="status-changed"&&o(c)},i,r)}if(t==="sync"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="sync-status-changed"&&o(c)},i,r)}if(t==="local-broadcast"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="local-broadcast"&&o(c)},i)}if(t==="broadcast"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="broadcast"&&o(c)},i)}if(t==="auth-error"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="auth-error"&&o(c)},i)}if(t==="all"){const o=n;return this.eventStream.subscribe(o,i,r)}const a=t,s=n;return this.eventStream.subscribe(o=>{for(const l of o){if(l.type!=="local-change"&&l.type!=="remote-change")continue;const c=[];for(const h of l.value.operations)this.isSameElementOrChildOf(h.path,a)&&c.push(h);c.length&&s({...l,value:{...l.value,operations:c}})}},i,r)}if(typeof t=="function"){const a=t,s=n,o=i;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="snapshot"&&c.type!=="local-change"&&c.type!=="remote-change"||a(c)},s,o)}throw new b(S.ErrInvalidArgument,`"${t}" is not a valid`)}publish(t){this.eventStreamObserver&&this.eventStreamObserver.next(t)}isSameElementOrChildOf(t,n){if(n===t)return!0;const i=t.split(".");return n.split(".").every((a,s)=>a===i[s])}removePushedLocalChanges(t){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>t);)this.localChanges.shift()}applyChangePack(t){const n=t.hasSnapshot();n?this.applySnapshot(t.getCheckpoint().getServerSeq(),t.getVersionVector(),t.getSnapshot(),t.getCheckpoint().getClientSeq()):(this.applyChanges(t.getChanges(),st.Remote),this.removePushedLocalChanges(t.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(t.getCheckpoint()),n||this.garbageCollect(t.getVersionVector()),t.getIsRemoved()&&this.applyStatus("removed"),L.isEnabled(ee.Trivial)&&L.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Ke(this.presences)})}createChangePack(){const t=Array.from(this.localChanges),n=this.checkpoint.increaseClientSeq(t.length);return ic.create(this.key,n,!1,t,this.getVersionVector())}setActor(t){for(const n of this.localChanges)n.setActor(t);this.changeID=this.changeID.setActor(t)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const t=ka.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return ty(t,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}garbageCollect(t){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(t),this.root.garbageCollect(t))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(t,n,i,r=-1){const{root:a,presences:s}=Et.bytesToSnapshot(i);this.root=new bo(a),this.presences=s,this.changeID=this.changeID.setClocks(n.maxLamport(),n),this.clone=void 0,this.removePushedLocalChanges(r),this.applyChanges(this.localChanges,st.Local),this.publish([{type:"snapshot",source:st.Remote,value:{serverSeq:t.toString(),snapshot:this.isEnableDevtools()?Et.bytesToHex(i):void 0,snapshotVector:Et.versionVectorToHex(n)}}])}applyChanges(t,n){L.isEnabled(ee.Debug)&&L.debug(`trying to apply ${t.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),L.isEnabled(ee.Trivial)&&L.trivial(t.map(i=>`${i.getID().toTestString()}	${i.toTestString()}`).join(`
`));for(const i of t)this.applyChange(i,n);L.isEnabled(ee.Debug)&&L.debug(`after appling ${t.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(t,n){this.ensureClone(),t.execute(this.clone.root,this.clone.presences,n);const i=[],r=t.getID().getActorID();if(t.hasPresenceChange()&&this.onlineClients.has(r)){const s=t.getPresenceChange();switch(s.type){case Cr.Put:i.push(this.presences.has(r)?{type:"presence-changed",source:n,value:{clientID:r,presence:s.presence}}:{type:"watched",source:st.Remote,value:{clientID:r,presence:s.presence}});break;case Cr.Clear:i.push({type:"unwatched",source:st.Remote,value:{clientID:r,presence:this.getPresence(r)}}),this.removeOnlineClient(r);break}}const{opInfos:a}=t.execute(this.root,this.presences,n);if(this.changeID=this.changeID.syncClocks(t.getID()),a.length>0){const s=this.isEnableDevtools()?t.toStruct():void 0;i.push(n===st.Remote?{type:"remote-change",source:n,value:{actor:r,clientSeq:t.getID().getClientSeq(),serverSeq:t.getID().getServerSeq(),message:t.getMessage()||"",operations:a},rawChange:s}:{type:"local-change",source:n,value:{actor:r,clientSeq:t.getID().getClientSeq(),serverSeq:t.getID().getServerSeq(),message:t.getMessage()||"",operations:a},rawChange:s})}i.length>0&&this.publish(i)}applyWatchStream(t){if(t.body.case==="initialization"){const n=t.body.value.clientIds,i=new Set;for(const r of n)r!==this.changeID.getActorID()&&i.add(r);this.setOnlineClients(i),this.publish([{type:"initialized",source:st.Local,value:this.getPresences()}]);return}if(t.body.case==="event"){const{type:n,publisher:i}=t.body.value,r=[];if(n===Qr.DOCUMENT_WATCHED){if(this.onlineClients.has(i)&&this.hasPresence(i))return;this.addOnlineClient(i),this.hasPresence(i)&&r.push({type:"watched",source:st.Remote,value:{clientID:i,presence:this.getPresence(i)}})}else if(n===Qr.DOCUMENT_UNWATCHED){const a=this.getPresence(i);this.removeOnlineClient(i),a&&r.push({type:"unwatched",source:st.Remote,value:{clientID:i,presence:a}})}else if(n===Qr.DOCUMENT_BROADCAST&&t.body.value.body){const{topic:a,payload:s}=t.body.value.body,o=new TextDecoder;r.push({type:"broadcast",value:{clientID:i,topic:a,payload:JSON.parse(o.decode(s))}})}r.length>0&&this.publish(r)}}applyStatus(t){this.status=t,t==="detached"&&this.setActor(ec),this.publish([{source:t==="removed"?st.Remote:st.Local,type:"status-changed",value:t==="attached"?{status:t,actorID:this.changeID.getActorID()}:{status:t}}])}applyDocEventForReplay(t){if(t.type==="status-changed"){this.applyStatus(t.value.status),t.value.status==="attached"&&this.setActor(t.value.actorID);return}if(t.type==="snapshot"){const{snapshot:n,serverSeq:i,snapshotVector:r}=t.value;if(!n)return;this.applySnapshot(BigInt(i),Et.hexToVersionVector(r),Et.hexToBytes(n));return}if(t.type==="local-change"||t.type==="remote-change"){if(!t.rawChange)return;const n=ss.fromStruct(t.rawChange);this.applyChange(n,t.source)}if(t.type==="initialized"){const n=new Set;for(const{clientID:i,presence:r}of t.value)n.add(i),this.presences.set(i,r);this.setOnlineClients(n);return}if(t.type==="watched"){const{clientID:n,presence:i}=t.value;this.addOnlineClient(n),this.presences.set(n,i);return}if(t.type==="unwatched"){const{clientID:n}=t.value;this.removeOnlineClient(n),this.presences.delete(n)}if(t.type==="presence-changed"){const{clientID:n,presence:i}=t.value;this.presences.set(n,i)}}applyDocEventsForReplay(t){for(const n of t)this.applyDocEventForReplay(n)}getValueByPath(t){if(!t.startsWith("$"))throw new b(S.ErrInvalidArgument,'path must start with "$"');const n=t.split(".");n.shift();let i=this.getRoot();for(const r of n)if(i=i[r],i===void 0)return;return i}setOnlineClients(t){this.onlineClients=t}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(t){this.onlineClients.add(t)}removeOnlineClient(t){this.onlineClients.delete(t)}hasPresence(t){return this.presences.has(t)}getMyPresence(){if(this.status!=="attached")return{};const t=this.presences.get(this.changeID.getActorID());return t?Ke(t):{}}getPresence(t){if(t===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(t))return;const n=this.presences.get(t);return n?Ke(n):void 0}getPresenceForTest(t){const n=this.presences.get(t);return n?Ke(n):void 0}getPresences(){const t=[];t.push({clientID:this.changeID.getActorID(),presence:Ke(this.getMyPresence())});for(const n of this.onlineClients)this.presences.has(n)&&t.push({clientID:n,presence:Ke(this.presences.get(n))});return t}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const t=this.getChangeID().getActorID();return this.getPresences().filter(n=>n.clientID!==t).sort((n,i)=>n.clientID>i.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}filterVersionVector(t){const i=this.changeID.getVersionVector().filter(t);this.changeID=this.changeID.setVersionVector(i)}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new b(S.ErrRefused,"Undo is not allowed during an update");const t=this.internalHistory.popUndo();if(t===void 0)throw new b(S.ErrRefused,"There is no operation to be undone");this.ensureClone();const n=ka.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const c of t){if(!(c instanceof We)){new Yc(n,Ke(this.clone.presences.get(this.changeID.getActorID()))).set(c.value,{addToHistory:!0});continue}const h=n.issueTimeTicket();c.setExecutedAt(h),n.push(c)}const i=n.getChange();i.execute(this.clone.root,this.clone.presences,st.UndoRedo);const{opInfos:r,reverseOps:a}=i.execute(this.root,this.presences,st.UndoRedo),s=n.getReversePresence();if(s&&a.push({type:"presence",value:s}),a.length>0&&this.internalHistory.pushRedo(a),!i.hasPresenceChange()&&r.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const o=this.changeID.getActorID(),l=[];r.length>0&&l.push({type:"local-change",source:st.UndoRedo,value:{message:i.getMessage()||"",operations:r,actor:o,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&l.push({type:"presence-changed",source:st.UndoRedo,value:{clientID:o,presence:this.getPresence(o)}}),this.publish(l)}redo(){if(this.isUpdating)throw new b(S.ErrRefused,"Redo is not allowed during an update");const t=this.internalHistory.popRedo();if(t===void 0)throw new b(S.ErrRefused,"There is no operation to be redone");this.ensureClone();const n=ka.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const c of t){if(!(c instanceof We)){new Yc(n,Ke(this.clone.presences.get(this.changeID.getActorID()))).set(c.value,{addToHistory:!0});continue}const h=n.issueTimeTicket();c.setExecutedAt(h),n.push(c)}const i=n.getChange();i.execute(this.clone.root,this.clone.presences,st.UndoRedo);const{opInfos:r,reverseOps:a}=i.execute(this.root,this.presences,st.UndoRedo),s=n.getReversePresence();if(s&&a.push({type:"presence",value:s}),a.length>0&&this.internalHistory.pushUndo(a),!i.hasPresenceChange()&&r.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const o=this.changeID.getActorID(),l=[];r.length>0&&l.push({type:"local-change",source:st.UndoRedo,value:{message:i.getMessage()||"",operations:r,actor:o,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&l.push({type:"presence-changed",source:st.UndoRedo,value:{clientID:o,presence:this.getPresence(o)}}),this.publish(l)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}broadcast(t,n,i){const r={type:"local-broadcast",value:{topic:t,payload:n},options:i};this.publish([r])}getVersionVector(){return this.changeID.getVersionVector()}}function Ww(e,t){let n=t;return{authInterceptor:a=>async s=>(e&&s.header.set("x-api-key",e),n&&s.header.set("authorization",n),await a(s)),setToken:a=>{n=a}}}const tE="@yorkie-js/sdk",eE="0.6.8",iy={name:tE,version:eE};function nE(e){return t=>async n=>(e?n.header.set("x-yorkie-user-agent",e):n.header.set("x-yorkie-user-agent",iy.name+"/"+iy.version),await t(n))}const iE=e=>{try{if(JSON.stringify(e)===void 0)return!1}catch{return!1}return!0};var Bl=(e=>(e.Manual="manual",e.Realtime="realtime",e.RealtimePushOnly="realtime-pushonly",e.RealtimeSyncOff="realtime-syncoff",e))(Bl||{});const xs={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3},Zc={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class oS{constructor(t){u(this,"id");u(this,"key");u(this,"metadata");u(this,"status");u(this,"attachmentMap");u(this,"apiKey");u(this,"authTokenInjector");u(this,"conditions");u(this,"syncLoopDuration");u(this,"reconnectStreamDelay");u(this,"retrySyncLoopDelay");u(this,"rpcClient");u(this,"setAuthToken");u(this,"taskQueue");u(this,"processing",!1);u(this,"keepalive",!1);t=t||xs;const n=t.rpcAddr||xs.rpcAddr;this.key=t.key||iS(),this.metadata=t.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=t.apiKey||"",this.authTokenInjector=t.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=t.syncLoopDuration??xs.syncLoopDuration,this.reconnectStreamDelay=t.reconnectStreamDelay??xs.reconnectStreamDelay,this.retrySyncLoopDelay=t.retrySyncLoopDelay??xs.retrySyncLoopDelay;const{authInterceptor:i,setToken:r}=Ww(this.apiKey);this.setAuthToken=r,this.rpcClient=c1(I1,B1({baseUrl:n,interceptors:[i,nE(t==null?void 0:t.userAgent)],fetch:(a,s)=>{const o={...s,keepalive:this.keepalive};return fetch(a,o)}})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const t=await this.authTokenInjector();this.setAuthToken(t)}return this.enqueueTask(async()=>{try{const t=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":this.apiKey}});this.id=t.clientId,this.status="activated",this.runSyncLoop(),L.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(t){throw L.error(`[AC] c:"${this.getKey()}" err :`,t),await this.handleConnectError(t),t}})}deactivate(t={keepalive:!1}){if(this.status==="deactivated")return Promise.resolve();const n=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":this.apiKey}}),this.deactivateInternal(),L.info(`[DC] c"${this.getKey()}" deactivated`)}catch(i){throw L.error(`[DC] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};if(t.keepalive){this.keepalive=!0;const i=n();return this.keepalive=!1,i}return this.enqueueTask(n)}hasDocument(t){return this.attachmentMap.has(t)}attach(t,n={}){if(!this.isActive())throw new b(S.ErrClientNotActivated,`${this.key} is not active`);if(t.getStatus()!==er.Detached)throw new b(S.ErrDocumentNotDetached,`${t.getKey()} is not detached`);t.setActor(this.id),t.update((a,s)=>s.set(n.initialPresence||{}));const i=t.subscribe("local-broadcast",async a=>{var h;const{topic:s,payload:o}=a.value,l=(h=a.options)==null?void 0:h.error,c=a.options;try{await this.broadcast(t.getKey(),s,o,c)}catch(d){d instanceof Error&&(l==null||l(d))}}),r=n.syncMode??"realtime";return this.enqueueTask(async()=>{try{const a=await this.rpcClient.attachDocument({clientId:this.id,changePack:Et.toChangePack(t.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}),s=Et.fromChangePack(a.changePack);if(t.applyChangePack(s),t.getStatus()===er.Removed)return t;t.applyStatus(er.Attached),this.attachmentMap.set(t.getKey(),new Hw(this.reconnectStreamDelay,t,a.documentId,r,i)),r!=="manual"&&await this.runWatchLoop(t.getKey()),L.info(`[AD] c:"${this.getKey()}" attaches d:"${t.getKey()}"`);const o=t.getRootObject();if(n.initialRoot){const l=n.initialRoot;t.update(c=>{for(const[h,d]of Object.entries(l))if(!o.has(h)){const m=h;c[m]=d}})}return t}catch(a){throw L.error(`[AD] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}})}detach(t,n={keepalive:!1}){if(!this.isActive())throw new b(S.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(t.getKey());if(!i)throw new b(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);t.update((a,s)=>s.clear());const r=async()=>{try{const a=await this.rpcClient.detachDocument({clientId:this.id,documentId:i.docID,changePack:Et.toChangePack(t.createChangePack()),removeIfNotAttached:n.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}),s=Et.fromChangePack(a.changePack);return t.applyChangePack(s),t.getStatus()!==er.Removed&&t.applyStatus(er.Detached),this.detachInternal(t.getKey()),L.info(`[DD] c:"${this.getKey()}" detaches d:"${t.getKey()}"`),t}catch(a){throw L.error(`[DD] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}};if(n.keepalive){this.keepalive=!0;const a=r();return this.keepalive=!1,a}return this.enqueueTask(r)}async changeSyncMode(t,n){if(!this.isActive())throw new b(S.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(t.getKey());if(!i)throw new b(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);const r=i.syncMode;return r===n?t:(i.changeSyncMode(n),n==="manual"?(i.cancelWatchStream(),t):(n==="realtime"&&(i.remoteChangeEventReceived=!0),r==="manual"&&await this.runWatchLoop(t.getKey()),t))}sync(t){if(!this.isActive())throw new b(S.ErrClientNotActivated,`${this.key} is not active`);if(t){const n=this.attachmentMap.get(t.getKey());if(!n)throw new b(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(n,"realtime").catch(async i=>{throw L.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}return this.enqueueTask(async()=>{const n=[];for(const[,i]of this.attachmentMap)n.push(this.syncInternal(i,i.syncMode));return Promise.all(n).catch(async i=>{throw L.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i})})}remove(t){if(!this.isActive())throw new b(S.ErrClientNotActivated,`${this.key} is not active`);const n=this.attachmentMap.get(t.getKey());if(!n)throw new b(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);t.setActor(this.id);const i=Et.toChangePack(t.createChangePack());return i.isRemoved=!0,this.enqueueTask(async()=>{try{const r=await this.rpcClient.removeDocument({clientId:this.id,documentId:n.docID,changePack:i},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}),a=Et.fromChangePack(r.changePack);t.applyChangePack(a),this.detachInternal(t.getKey()),L.info(`[RD] c:"${this.getKey()}" removes d:"${t.getKey()}"`)}catch(r){throw L.error(`[RD] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(t){return this.conditions[t]}broadcast(t,n,i,r){if(!this.isActive())throw new b(S.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(t);if(!a)throw new b(S.ErrDocumentNotAttached,`${t} is not attached`);if(!iE(i))throw new b(S.ErrInvalidArgument,"payload is not serializable");const s=(r==null?void 0:r.maxRetries)??Zc.maxRetries,o=Zc.maxBackoff;let l=0;const c=d=>Math.min(Zc.initialRetryInterval*2**d,o),h=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,documentId:a.docID,topic:n,payload:new TextEncoder().encode(JSON.stringify(i))},{headers:{"x-shard-key":`${this.apiKey}/${t}`}}),L.info(`[BC] c:"${this.getKey()}" broadcasts d:"${t}" t:"${n}"`)}catch(d){if(L.error(`[BC] c:"${this.getKey()}" err:`,d),await this.handleConnectError(d))if(d instanceof tt&&Fi(d)===S.ErrUnauthenticated&&a.doc.publish([{type:Ht.AuthError,value:{reason:ks(d).reason,method:"Broadcast"}}]),l<s)l++,setTimeout(()=>h(),c(l-1)),L.info(`[BC] c:"${this.getKey()}" retry attempt ${l}/${s}`);else throw L.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),d;else throw d}});return h()}runSyncLoop(){const t=()=>{if(!this.isActive()){L.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}const n=[];for(const[,i]of this.attachmentMap)i.needRealtimeSync()&&(i.remoteChangeEventReceived=!1,n.push(this.syncInternal(i,i.syncMode).catch(async r=>{throw r instanceof tt&&Fi(r)===S.ErrUnauthenticated&&i.doc.publish([{type:Ht.AuthError,value:{reason:ks(r).reason,method:"PushPull"}}]),r})));Promise.all(n).then(()=>setTimeout(t,this.syncLoopDuration)).catch(async i=>{L.error(`[SL] c:"${this.getKey()}" sync failed:`,i),await this.handleConnectError(i)?setTimeout(t,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1})};L.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,t()}async runWatchLoop(t){const n=this.attachmentMap.get(t);if(!n)throw new b(S.ErrDocumentNotAttached,`${t} is not attached`);return this.conditions.WatchLoop=!0,n.runWatchLoop(i=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new b(S.ErrClientNotActivated,`${this.key} is not active`));const r=new AbortController,a=this.rpcClient.watchDocument({clientId:this.id,documentId:n.docID},{headers:{"x-shard-key":`${this.apiKey}/${t}`},signal:r.signal});return n.doc.publish([{type:Ht.ConnectionChanged,value:Iu.Connected}]),L.info(`[WD] c:"${this.getKey()}" watches d:"${t}"`),new Promise((s,o)=>{(async()=>{try{for await(const c of a)this.handleWatchDocumentsResponse(n,c),c.body.case==="initialization"&&s([a,r])}catch(c){n.doc.resetOnlineClients(),n.doc.publish([{type:Ht.Initialized,source:st.Local,value:n.doc.getPresences()}]),n.doc.publish([{type:Ht.ConnectionChanged,value:Iu.Disconnected}]),L.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(c)?(c instanceof tt&&Fi(c)===S.ErrUnauthenticated&&n.doc.publish([{type:Ht.AuthError,value:{reason:ks(c).reason,method:"WatchDocuments"}}]),i()):this.conditions.WatchLoop=!1,o(c)}})()})})}handleWatchDocumentsResponse(t,n){if(n.body.case==="event"&&n.body.value.type===Qr.DOCUMENT_CHANGED){t.remoteChangeEventReceived=!0;return}t.doc.applyWatchStream(n)}deactivateInternal(){this.status="deactivated";for(const[t,n]of this.attachmentMap)this.detachInternal(t),n.doc.applyStatus(er.Detached)}detachInternal(t){const n=this.attachmentMap.get(t);n&&(n.cancelWatchStream(),n.unsubscribeBroadcastEvent(),this.attachmentMap.delete(t))}async syncInternal(t,n){const{doc:i,docID:r}=t,a=i.createChangePack();try{const s=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:r,changePack:Et.toChangePack(a),pushOnly:n==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),o=Et.fromChangePack(s.changePack);if(o.hasChanges()&&(t.syncMode==="realtime-pushonly"||t.syncMode==="realtime-syncoff"))return i;i.applyChangePack(o),t.doc.publish([{type:Ht.SyncStatusChanged,value:Sh.Synced}]),i.getStatus()===er.Removed&&this.detachInternal(i.getKey());const l=i.getKey(),c=o.getChangeSize();return L.info(`[PP] c:"${this.getKey()}" sync d:"${l}", push:${a.getChangeSize()} pull:${c} cp:${o.getCheckpoint().toTestString()}`),i}catch(s){throw i.publish([{type:Ht.SyncStatusChanged,value:Sh.SyncFailed}]),L.error(`[PP] c:"${this.getKey()}" err :`,s),s}}async handleConnectError(t){if(!(t instanceof tt))return!1;if(t.code===$.Canceled||t.code===$.Unknown||t.code===$.ResourceExhausted||t.code===$.Unavailable)return!0;if(Fi(t)===S.ErrUnauthenticated){if(this.authTokenInjector){const n=await this.authTokenInjector(ks(t).reason);this.setAuthToken(n)}return!0}return Fi(t)===S.ErrTooManySubscribers?(L.error(`[WD] c:"${this.getKey()}" err :`,t.rawMessage),!0):(Fi(t)===S.ErrTooManyAttachments||(Fi(t)===S.ErrClientNotActivated||Fi(t)===S.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(t){return new Promise((n,i)=>{this.taskQueue.push(()=>t().then(n).catch(i)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{L.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}bn.Int,bn.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:oS,Document:sS,Primitive:Tt,Text:Ld,Counter:qd,Tree:Hd,LogLevel:ee,setLogLevel:Jw,IntType:bn.Int,LongType:bn.Long});mt.createContext({client:void 0,loading:!0,error:void 0});function rE(e){const[t,n]=mt.useState(void 0),[i,r]=mt.useState(!0),[a,s]=mt.useState(void 0),[o,l]=mt.useState(!1);return mt.useEffect(()=>{l(!0)},[]),mt.useEffect(()=>{r(!0),s(void 0);async function c(){if(o)try{const h=new oS(e);await h.activate(),n(h)}catch(h){s(h instanceof Error?h:new Error("Failed to activate client"))}finally{r(!1)}}return c(),()=>{t!=null&&t.isActive()&&t.deactivate({keepalive:!0})}},[e.apiKey,e.rpcAddr,o]),{client:t,loading:i,error:a}}function aE(e,t,n,i,r,a){const[s,o]=mt.useState(),[l,c]=mt.useState(!0),[h,d]=mt.useState(),[m,g]=mt.useState(r),[T,w]=mt.useState([]),[O,p]=mt.useState(Iu.Disconnected);mt.useEffect(()=>{if(n){c(!1),d(n);return}if(!e||t){c(!0);return}c(!0),d(void 0);const v=new sS(i),A=[];A.push(v.subscribe(()=>{g(v.getRoot())})),A.push(v.subscribe("presence",()=>{w(v.getPresences())})),A.push(v.subscribe("connection",R=>{p(R.value)}));async function x(){try{await(e==null?void 0:e.attach(v,{initialRoot:r,initialPresence:a})),o(v),g(v.getRoot()),w(v.getPresences())}catch(R){d(R instanceof Error?R:new Error("Failed to attach document"))}finally{c(!1)}}return x(),()=>{e&&e.hasDocument(i)&&e.detach(v);for(const R of A)R()}},[e,t,n,i]);const y=mt.useCallback(v=>{if(s)try{s.update(v)}catch(A){d(A instanceof Error?A:new Error("Failed to update document"))}},[s]);return{doc:s,root:m,presences:T,connection:O,update:y,loading:l,error:h}}mt.createContext(null);function sE(e,t,n){const i=mt.useMemo(()=>({apiKey:e,userAgent:gm.name+"/"+gm.version,...n}),[e]),{client:r,loading:a,error:s}=rE(i),{root:o,presences:l,connection:c,update:h,loading:d,error:m}=aE(r,a,s,t,n==null?void 0:n.initialRoot,n==null?void 0:n.initialPresence);return{root:o,presences:l,connection:c,update:h,loading:d,error:m}}var lS={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",s=0;s<arguments.length;s++){var o=arguments[s];o&&(a=r(a,i(o)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var s="";for(var o in a)t.call(a,o)&&a[o]&&(s=r(s,o));return s}function r(a,s){return s?a?a+" "+s:a+s:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(lS);var oE=lS.exports;const Vd=ry(oE);function uS(e){const[t,n]=mt.useState(e.text||"");return nt.jsx("input",{className:Vd({edit:e.editing,"new-todo":e.newTodo}),type:"text",placeholder:e.placeholder,value:t,onBlur:i=>{e.newTodo||e.onSave(i.target.value)},onChange:i=>{n(i.target.value)},onKeyDown:i=>{const r=i.target;i.which===13&&(e.onSave(r.value.trim()),e.newTodo&&n(""))}})}function lE(e){return nt.jsxs("header",{className:"header",children:[nt.jsx("h1",{children:"todos"}),nt.jsx(uS,{newTodo:!0,onSave:t=>{t.length!==0&&e.addTodo(t)},placeholder:"What needs to be done?"})]})}function uE(e){const[t,n]=mt.useState(!1),{todo:i,completeTodo:r,editTodo:a,deleteTodo:s}=e;return nt.jsx("li",{className:Vd({completed:i.completed,editing:t}),children:t?nt.jsx(uS,{text:i.text,editing:t,onSave:o=>{o.length===0?s(i.id):a(i.id,o),n(!1)}}):nt.jsxs("div",{className:"view",children:[nt.jsx("input",{id:`item-input-${i.id}`,className:"toggle",type:"checkbox",checked:i.completed,onChange:()=>r(i.id)}),nt.jsx("label",{htmlFor:`item-input-${i.id}`,onDoubleClick:()=>n(!0),children:i.text}),nt.jsx("button",{type:"button","aria-label":"Delete",className:"destroy",onClick:()=>s(i.id)})]})})}const cE={SHOW_ALL:"All",SHOW_ACTIVE:"Active",SHOW_COMPLETED:"Completed"};function fE(e){const{activeCount:t,completedCount:n,filter:i,onClearCompleted:r,onShow:a}=e;return nt.jsxs("footer",{className:"footer",children:[nt.jsxs("span",{className:"todo-count",children:[nt.jsx("strong",{children:t||"No"})," ",t===1?"item":"items"," left"]}),nt.jsx("ul",{className:"filters",children:["SHOW_ALL","SHOW_ACTIVE","SHOW_COMPLETED"].map(s=>nt.jsx("li",{children:nt.jsx("button",{type:"button",className:Vd({selected:s===i}),style:{cursor:"pointer"},onClick:()=>a(s),children:cE[s]})},s))}),!!n&&nt.jsx("button",{type:"button",className:"clear-completed",onClick:r,children:"Clear completed"})]})}const hE={SHOW_ALL:e=>!0,SHOW_ACTIVE:e=>!e.completed,SHOW_COMPLETED:e=>e.completed};function dE({todos:e,actions:t}){const[n,i]=mt.useState("SHOW_ALL"),r=e.filter(hE[n]),a=e.reduce((o,l)=>l.completed?o+1:o,0),s=e.length-a;return e.length===0?null:nt.jsxs("section",{className:"main",children:[nt.jsx("input",{className:"toggle-all",type:"checkbox",defaultChecked:a===e.length,onChange:t.completeAll}),nt.jsx("ul",{className:"todo-list",children:r.map(o=>nt.jsx(uE,{todo:o,editTodo:t.editTodo,deleteTodo:t.deleteTodo,completeTodo:t.completeTodo},o.id))}),nt.jsx(fE,{completedCount:a,activeCount:s,filter:n,onClearCompleted:()=>t.clearCompleted(),onShow:i})]})}function gE(){const{root:e,update:t,loading:n,error:i}=sE("cedaovjuioqlk4pjqn6g",`react-todomvc-${new Date().toISOString().substring(0,10).replace(/-/g,"")}`,{initialRoot:{todos:[]}});if(n)return nt.jsx("div",{children:"Loading..."});if(i)return nt.jsxs("div",{children:["Error: ",i.message]});const r={addTodo:a=>{t(s=>{s.todos.push({id:s.todos.reduce((o,l)=>Math.max(l.id,o),-1)+1,completed:!1,text:a})})},deleteTodo:a=>{t(s=>{let o;for(const l of s.todos)if(l.id===a){o=l;break}o&&s.todos.deleteByID(o.getID())})},editTodo:(a,s)=>{t(o=>{let l;for(const c of o.todos)if(c.id===a){l=c;break}l&&(l.text=s)})},completeTodo:a=>{t(s=>{let o;for(const l of s.todos)if(l.id===a){o=l;break}o&&(o.completed=!o.completed)})},clearCompleted:()=>{t(a=>{for(const s of a.todos)if(s.completed){const o=s;a.todos.deleteByID(o.getID())}})}};return nt.jsxs("div",{className:"App",children:[nt.jsx(lE,{addTodo:r.addTodo}),nt.jsx(dE,{todos:e.todos,actions:r})]})}uA.createRoot(document.getElementById("root")).render(nt.jsx(mt.StrictMode,{children:nt.jsx(gE,{})}));
