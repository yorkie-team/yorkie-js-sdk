(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();function mb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var cf={exports:{}},vs={};var By;function wA(){if(By)return vs;By=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(r,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:h,ref:o!==void 0?o:null,props:c}}return vs.Fragment=e,vs.jsx=a,vs.jsxs=a,vs}var Uy;function DA(){return Uy||(Uy=1,cf.exports=wA()),cf.exports}var Ce=DA(),ff={exports:{}},Ss={},hf={exports:{}},df={};var Ly;function OA(){return Ly||(Ly=1,(function(i){function e(U,W){var te=U.length;U.push(W);e:for(;0<te;){var Be=te-1>>>1,Ze=U[Be];if(0<o(Ze,W))U[Be]=W,U[te]=Ze,te=Be;else break e}}function a(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var W=U[0],te=U.pop();if(te!==W){U[0]=te;e:for(var Be=0,Ze=U.length,E=Ze>>>1;Be<E;){var z=2*(Be+1)-1,K=U[z],k=z+1,se=U[k];if(0>o(K,te))k<Ze&&0>o(se,K)?(U[Be]=se,U[k]=te,Be=k):(U[Be]=K,U[z]=te,Be=z);else if(k<Ze&&0>o(se,te))U[Be]=se,U[k]=te,Be=k;else break e}}return W}function o(U,W){var te=U.sortIndex-W.sortIndex;return te!==0?te:U.id-W.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var y=[],m=[],v=1,T=null,V=3,C=!1,L=!1,_=!1,j=!1,q=typeof setTimeout=="function"?setTimeout:null,ye=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function Ee(U){for(var W=a(m);W!==null;){if(W.callback===null)r(m);else if(W.startTime<=U)r(m),W.sortIndex=W.expirationTime,e(y,W);else break;W=a(m)}}function ie(U){if(_=!1,Ee(U),!L)if(a(y)!==null)L=!0,Ae||(Ae=!0,rt());else{var W=a(m);W!==null&&mn(ie,W.startTime-U)}}var Ae=!1,J=-1,ve=5,Et=-1;function gn(){return j?!0:!(i.unstable_now()-Et<ve)}function Mt(){if(j=!1,Ae){var U=i.unstable_now();Et=U;var W=!0;try{e:{L=!1,_&&(_=!1,ye(J),J=-1),C=!0;var te=V;try{t:{for(Ee(U),T=a(y);T!==null&&!(T.expirationTime>U&&gn());){var Be=T.callback;if(typeof Be=="function"){T.callback=null,V=T.priorityLevel;var Ze=Be(T.expirationTime<=U);if(U=i.unstable_now(),typeof Ze=="function"){T.callback=Ze,Ee(U),W=!0;break t}T===a(y)&&r(y),Ee(U)}else r(y);T=a(y)}if(T!==null)W=!0;else{var E=a(m);E!==null&&mn(ie,E.startTime-U),W=!1}}break e}finally{T=null,V=te,C=!1}W=void 0}}finally{W?rt():Ae=!1}}}var rt;if(typeof ne=="function")rt=function(){ne(Mt)};else if(typeof MessageChannel<"u"){var ki=new MessageChannel,_n=ki.port2;ki.port1.onmessage=Mt,rt=function(){_n.postMessage(null)}}else rt=function(){q(Mt,0)};function mn(U,W){J=q(function(){U(i.unstable_now())},W)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(U){U.callback=null},i.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<U?Math.floor(1e3/U):5},i.unstable_getCurrentPriorityLevel=function(){return V},i.unstable_next=function(U){switch(V){case 1:case 2:case 3:var W=3;break;default:W=V}var te=V;V=W;try{return U()}finally{V=te}},i.unstable_requestPaint=function(){j=!0},i.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var te=V;V=U;try{return W()}finally{V=te}},i.unstable_scheduleCallback=function(U,W,te){var Be=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Be+te:Be):te=Be,U){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=te+Ze,U={id:v++,callback:W,priorityLevel:U,startTime:te,expirationTime:Ze,sortIndex:-1},te>Be?(U.sortIndex=te,e(m,U),a(y)===null&&U===a(m)&&(_?(ye(J),J=-1):_=!0,mn(ie,te-Be))):(U.sortIndex=Ze,e(y,U),L||C||(L=!0,Ae||(Ae=!0,rt()))),U},i.unstable_shouldYield=gn,i.unstable_wrapCallback=function(U){var W=V;return function(){var te=V;V=W;try{return U.apply(this,arguments)}finally{V=te}}}})(df)),df}var My;function VA(){return My||(My=1,hf.exports=OA()),hf.exports}var gf={exports:{}},re={};var Zy;function xA(){if(Zy)return re;Zy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),V=Symbol.iterator;function C(E){return E===null||typeof E!="object"?null:(E=V&&E[V]||E["@@iterator"],typeof E=="function"?E:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,j={};function q(E,z,K){this.props=E,this.context=z,this.refs=j,this.updater=K||L}q.prototype.isReactComponent={},q.prototype.setState=function(E,z){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,z,"setState")},q.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function ye(){}ye.prototype=q.prototype;function ne(E,z,K){this.props=E,this.context=z,this.refs=j,this.updater=K||L}var Ee=ne.prototype=new ye;Ee.constructor=ne,_(Ee,q.prototype),Ee.isPureReactComponent=!0;var ie=Array.isArray;function Ae(){}var J={H:null,A:null,T:null,S:null},ve=Object.prototype.hasOwnProperty;function Et(E,z,K){var k=K.ref;return{$$typeof:i,type:E,key:z,ref:k!==void 0?k:null,props:K}}function gn(E,z){return Et(E.type,z,E.props)}function Mt(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function rt(E){var z={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(K){return z[K]})}var ki=/\/+/g;function _n(E,z){return typeof E=="object"&&E!==null&&E.key!=null?rt(""+E.key):z.toString(36)}function mn(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(Ae,Ae):(E.status="pending",E.then(function(z){E.status==="pending"&&(E.status="fulfilled",E.value=z)},function(z){E.status==="pending"&&(E.status="rejected",E.reason=z)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function U(E,z,K,k,se){var he=typeof E;(he==="undefined"||he==="boolean")&&(E=null);var we=!1;if(E===null)we=!0;else switch(he){case"bigint":case"string":case"number":we=!0;break;case"object":switch(E.$$typeof){case i:case e:we=!0;break;case v:return we=E._init,U(we(E._payload),z,K,k,se)}}if(we)return se=se(E),we=k===""?"."+_n(E,0):k,ie(se)?(K="",we!=null&&(K=we.replace(ki,"$&/")+"/"),U(se,z,K,"",function(Ir){return Ir})):se!=null&&(Mt(se)&&(se=gn(se,K+(se.key==null||E&&E.key===se.key?"":(""+se.key).replace(ki,"$&/")+"/")+we)),z.push(se)),1;we=0;var Nt=k===""?".":k+":";if(ie(E))for(var Qe=0;Qe<E.length;Qe++)k=E[Qe],he=Nt+_n(k,Qe),we+=U(k,z,K,he,se);else if(Qe=C(E),typeof Qe=="function")for(E=Qe.call(E),Qe=0;!(k=E.next()).done;)k=k.value,he=Nt+_n(k,Qe++),we+=U(k,z,K,he,se);else if(he==="object"){if(typeof E.then=="function")return U(mn(E),z,K,k,se);throw z=String(E),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return we}function W(E,z,K){if(E==null)return E;var k=[],se=0;return U(E,k,"","",function(he){return z.call(K,he,se++)}),k}function te(E){if(E._status===-1){var z=E._result;z=z(),z.then(function(K){(E._status===0||E._status===-1)&&(E._status=1,E._result=K)},function(K){(E._status===0||E._status===-1)&&(E._status=2,E._result=K)}),E._status===-1&&(E._status=0,E._result=z)}if(E._status===1)return E._result.default;throw E._result}var Be=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},Ze={map:W,forEach:function(E,z,K){W(E,function(){z.apply(this,arguments)},K)},count:function(E){var z=0;return W(E,function(){z++}),z},toArray:function(E){return W(E,function(z){return z})||[]},only:function(E){if(!Mt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return re.Activity=T,re.Children=Ze,re.Component=q,re.Fragment=a,re.Profiler=o,re.PureComponent=ne,re.StrictMode=r,re.Suspense=y,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,re.__COMPILER_RUNTIME={__proto__:null,c:function(E){return J.H.useMemoCache(E)}},re.cache=function(E){return function(){return E.apply(null,arguments)}},re.cacheSignal=function(){return null},re.cloneElement=function(E,z,K){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var k=_({},E.props),se=E.key;if(z!=null)for(he in z.key!==void 0&&(se=""+z.key),z)!ve.call(z,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&z.ref===void 0||(k[he]=z[he]);var he=arguments.length-2;if(he===1)k.children=K;else if(1<he){for(var we=Array(he),Nt=0;Nt<he;Nt++)we[Nt]=arguments[Nt+2];k.children=we}return Et(E.type,se,k)},re.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},re.createElement=function(E,z,K){var k,se={},he=null;if(z!=null)for(k in z.key!==void 0&&(he=""+z.key),z)ve.call(z,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(se[k]=z[k]);var we=arguments.length-2;if(we===1)se.children=K;else if(1<we){for(var Nt=Array(we),Qe=0;Qe<we;Qe++)Nt[Qe]=arguments[Qe+2];se.children=Nt}if(E&&E.defaultProps)for(k in we=E.defaultProps,we)se[k]===void 0&&(se[k]=we[k]);return Et(E,he,se)},re.createRef=function(){return{current:null}},re.forwardRef=function(E){return{$$typeof:d,render:E}},re.isValidElement=Mt,re.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:te}},re.memo=function(E,z){return{$$typeof:m,type:E,compare:z===void 0?null:z}},re.startTransition=function(E){var z=J.T,K={};J.T=K;try{var k=E(),se=J.S;se!==null&&se(K,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(Ae,Be)}catch(he){Be(he)}finally{z!==null&&K.types!==null&&(z.types=K.types),J.T=z}},re.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},re.use=function(E){return J.H.use(E)},re.useActionState=function(E,z,K){return J.H.useActionState(E,z,K)},re.useCallback=function(E,z){return J.H.useCallback(E,z)},re.useContext=function(E){return J.H.useContext(E)},re.useDebugValue=function(){},re.useDeferredValue=function(E,z){return J.H.useDeferredValue(E,z)},re.useEffect=function(E,z){return J.H.useEffect(E,z)},re.useEffectEvent=function(E){return J.H.useEffectEvent(E)},re.useId=function(){return J.H.useId()},re.useImperativeHandle=function(E,z,K){return J.H.useImperativeHandle(E,z,K)},re.useInsertionEffect=function(E,z){return J.H.useInsertionEffect(E,z)},re.useLayoutEffect=function(E,z){return J.H.useLayoutEffect(E,z)},re.useMemo=function(E,z){return J.H.useMemo(E,z)},re.useOptimistic=function(E,z){return J.H.useOptimistic(E,z)},re.useReducer=function(E,z,K){return J.H.useReducer(E,z,K)},re.useRef=function(E){return J.H.useRef(E)},re.useState=function(E){return J.H.useState(E)},re.useSyncExternalStore=function(E,z,K){return J.H.useSyncExternalStore(E,z,K)},re.useTransition=function(){return J.H.useTransition()},re.version="19.2.1",re}var zy;function Wf(){return zy||(zy=1,gf.exports=xA()),gf.exports}var mf={exports:{}},bt={};var _y;function BA(){if(_y)return bt;_y=1;var i=Wf();function e(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,m,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:y,containerInfo:m,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,bt.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(y,m,null,v)},bt.flushSync=function(y){var m=h.T,v=r.p;try{if(h.T=null,r.p=2,y)return y()}finally{h.T=m,r.p=v,r.d.f()}},bt.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(y,m))},bt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},bt.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,T=d(v,m.crossOrigin),V=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?r.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:V,fetchPriority:C}):v==="script"&&r.d.X(y,{crossOrigin:T,integrity:V,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},bt.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);r.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(y)},bt.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,T=d(v,m.crossOrigin);r.d.L(y,v,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},bt.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=d(m.as,m.crossOrigin);r.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(y)},bt.requestFormReset=function(y){r.d.r(y)},bt.unstable_batchedUpdates=function(y,m){return y(m)},bt.useFormState=function(y,m,v){return h.H.useFormState(y,m,v)},bt.useFormStatus=function(){return h.H.useHostTransitionStatus()},bt.version="19.2.1",bt}var Yy;function UA(){if(Yy)return mf.exports;Yy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mf.exports=BA(),mf.exports}var Gy;function LA(){if(Gy)return Ss;Gy=1;var i=VA(),e=Wf(),a=UA();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(r(188))}function m(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var u=s.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){s=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===s)return y(u),t;if(f===l)return y(u),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=u,l=f;else{for(var g=!1,p=u.child;p;){if(p===s){g=!0,s=u,l=f;break}if(p===l){g=!0,l=u,s=f;break}p=p.sibling}if(!g){for(p=f.child;p;){if(p===s){g=!0,s=f,l=u;break}if(p===l){g=!0,l=f,s=u;break}p=p.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,V=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),ye=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),Et=Symbol.for("react.activity"),gn=Symbol.for("react.memo_cache_sentinel"),Mt=Symbol.iterator;function rt(t){return t===null||typeof t!="object"?null:(t=Mt&&t[Mt]||t["@@iterator"],typeof t=="function"?t:null)}var ki=Symbol.for("react.client.reference");function _n(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ki?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case q:return"Profiler";case j:return"StrictMode";case ie:return"Suspense";case Ae:return"SuspenseList";case Et:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case ne:return t.displayName||"Context";case ye:return(t._context.displayName||"Context")+".Consumer";case Ee:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return n=t.displayName||null,n!==null?n:_n(t.type)||"Memo";case ve:n=t._payload,t=t._init;try{return _n(t(n))}catch{}}return null}var mn=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Be=[],Ze=-1;function E(t){return{current:t}}function z(t){0>Ze||(t.current=Be[Ze],Be[Ze]=null,Ze--)}function K(t,n){Ze++,Be[Ze]=t.current,t.current=n}var k=E(null),se=E(null),he=E(null),we=E(null);function Nt(t,n){switch(K(he,n),K(se,t),K(k,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ny(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ny(n),t=iy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}z(k),K(k,t)}function Qe(){z(k),z(se),z(he)}function Ir(t){t.memoizedState!==null&&K(we,t);var n=k.current,s=iy(n,t.type);n!==s&&(K(se,t),K(k,s))}function Qs(t){se.current===t&&(z(k),z(se)),we.current===t&&(z(we),ms._currentValue=te)}var Jo,xh;function ji(t){if(Jo===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Jo=n&&n[1]||"",xh=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jo+t+xh}var ko=!1;function jo(t,n){if(!t||ko)return"";ko=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(x){var O=x}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(x){O=x}t.call(Z.prototype)}}else{try{throw Error()}catch(x){O=x}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(x){if(x&&O&&typeof x.stack=="string")return[x.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],p=f[1];if(g&&p){var b=g.split(`
`),D=p.split(`
`);for(u=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;if(l===b.length||u===D.length)for(l=b.length-1,u=D.length-1;1<=l&&0<=u&&b[l]!==D[u];)u--;for(;1<=l&&0<=u;l--,u--)if(b[l]!==D[u]){if(l!==1||u!==1)do if(l--,u--,0>u||b[l]!==D[u]){var B=`
`+b[l].replace(" at new "," at ");return t.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",t.displayName)),B}while(1<=l&&0<=u);break}}}finally{ko=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ji(s):""}function r0(t,n){switch(t.tag){case 26:case 27:case 5:return ji(t.type);case 16:return ji("Lazy");case 13:return t.child!==n&&n!==null?ji("Suspense Fallback"):ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return jo(t.type,!1);case 11:return jo(t.type.render,!1);case 1:return jo(t.type,!0);case 31:return ji("Activity");default:return""}}function Bh(t){try{var n="",s=null;do n+=r0(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Fo=Object.prototype.hasOwnProperty,Ho=i.unstable_scheduleCallback,Qo=i.unstable_cancelCallback,s0=i.unstable_shouldYield,l0=i.unstable_requestPaint,Zt=i.unstable_now,o0=i.unstable_getCurrentPriorityLevel,Uh=i.unstable_ImmediatePriority,Lh=i.unstable_UserBlockingPriority,$s=i.unstable_NormalPriority,u0=i.unstable_LowPriority,Mh=i.unstable_IdlePriority,c0=i.log,f0=i.unstable_setDisableYieldValue,Cr=null,zt=null;function hi(t){if(typeof c0=="function"&&f0(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Cr,t)}catch{}}var _t=Math.clz32?Math.clz32:g0,h0=Math.log,d0=Math.LN2;function g0(t){return t>>>=0,t===0?32:31-(h0(t)/d0|0)|0}var Ps=256,qs=262144,el=4194304;function Fi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function tl(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var u=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var p=l&134217727;return p!==0?(l=p&~f,l!==0?u=Fi(l):(g&=p,g!==0?u=Fi(g):s||(s=p&~t,s!==0&&(u=Fi(s))))):(p=l&~f,p!==0?u=Fi(p):g!==0?u=Fi(g):s||(s=l&~t,s!==0&&(u=Fi(s)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:u}function wr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function m0(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zh(){var t=el;return el<<=1,(el&62914560)===0&&(el=4194304),t}function $o(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Dr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function y0(t,n,s,l,u,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var p=t.entanglements,b=t.expirationTimes,D=t.hiddenUpdates;for(s=g&~s;0<s;){var B=31-_t(s),Z=1<<B;p[B]=0,b[B]=-1;var O=D[B];if(O!==null)for(D[B]=null,B=0;B<O.length;B++){var x=O[B];x!==null&&(x.lane&=-536870913)}s&=~Z}l!==0&&zh(t,l,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function zh(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-_t(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function _h(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-_t(s),u=1<<l;u&n|t[l]&n&&(t[l]|=n),s&=~u}}function Yh(t,n){var s=n&-n;return s=(s&42)!==0?1:Po(s),(s&(t.suspendedLanes|n))!==0?0:s}function Po(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gh(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:Iy(t.type))}function Wh(t,n){var s=W.p;try{return W.p=t,n()}finally{W.p=s}}var di=Math.random().toString(36).slice(2),ft="__reactFiber$"+di,Rt="__reactProps$"+di,Sa="__reactContainer$"+di,eu="__reactEvents$"+di,p0="__reactListeners$"+di,b0="__reactHandles$"+di,Kh="__reactResources$"+di,Or="__reactMarker$"+di;function tu(t){delete t[ft],delete t[Rt],delete t[eu],delete t[p0],delete t[b0]}function Aa(t){var n=t[ft];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Sa]||s[ft]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=cy(t);t!==null;){if(s=t[ft])return s;t=cy(t)}return n}t=s,s=t.parentNode}return null}function Ea(t){if(t=t[ft]||t[Sa]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Vr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Na(t){var n=t[Kh];return n||(n=t[Kh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function lt(t){t[Or]=!0}var Xh=new Set,Jh={};function Hi(t,n){Ta(t,n),Ta(t+"Capture",n)}function Ta(t,n){for(Jh[t]=n,t=0;t<n.length;t++)Xh.add(n[t])}var v0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kh={},jh={};function S0(t){return Fo.call(jh,t)?!0:Fo.call(kh,t)?!1:v0.test(t)?jh[t]=!0:(kh[t]=!0,!1)}function nl(t,n,s){if(S0(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function il(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Yn(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fh(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function A0(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function nu(t){if(!t._valueTracker){var n=Fh(t)?"checked":"value";t._valueTracker=A0(t,n,""+t[n])}}function Hh(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Fh(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function al(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var E0=/[\n"\\]/g;function $t(t){return t.replace(E0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function iu(t,n,s,l,u,f,g,p){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Qt(n)):t.value!==""+Qt(n)&&(t.value=""+Qt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?au(t,g,Qt(n)):s!=null?au(t,g,Qt(s)):l!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.name=""+Qt(p):t.removeAttribute("name")}function Qh(t,n,s,l,u,f,g,p){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){nu(t);return}s=s!=null?""+Qt(s):"",n=n!=null?""+Qt(n):s,p||n===t.value||(t.value=n),t.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=p?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),nu(t)}function au(t,n,s){n==="number"&&al(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ra(t,n,s,l){if(t=t.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<t.length;s++)u=n.hasOwnProperty("$"+t[s].value),t[s].selected!==u&&(t[s].selected=u),u&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Qt(s),n=null,u=0;u<t.length;u++){if(t[u].value===s){t[u].selected=!0,l&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function $h(t,n,s){if(n!=null&&(n=""+Qt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Qt(s):""}function Ph(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(mn(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Qt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),nu(t)}function Ia(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var N0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qh(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||N0.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function ed(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&s[u]!==l&&qh(t,u,l)}else for(var f in n)n.hasOwnProperty(f)&&qh(t,f,n[f])}function ru(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var T0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),R0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rl(t){return R0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var su=null;function lu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ca=null,wa=null;function td(t){var n=Ea(t);if(n&&(t=n.stateNode)){var s=t[Rt]||null;e:switch(t=n.stateNode,n.type){case"input":if(iu(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+$t(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var u=l[Rt]||null;if(!u)throw Error(r(90));iu(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Hh(l)}break e;case"textarea":$h(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Ra(t,!!s.multiple,n,!1)}}}var ou=!1;function nd(t,n,s){if(ou)return t(n,s);ou=!0;try{var l=t(n);return l}finally{if(ou=!1,(Ca!==null||wa!==null)&&(kl(),Ca&&(n=Ca,t=wa,wa=Ca=null,td(n),t)))for(n=0;n<t.length;n++)td(t[n])}}function xr(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Rt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uu=!1;if(Wn)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){uu=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{uu=!1}var gi=null,cu=null,sl=null;function id(){if(sl)return sl;var t,n=cu,s=n.length,l,u="value"in gi?gi.value:gi.textContent,f=u.length;for(t=0;t<s&&n[t]===u[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===u[f-l];l++);return sl=u.slice(t,1<l?1-l:void 0)}function ll(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ol(){return!0}function ad(){return!1}function It(t){function n(s,l,u,f,g){this._reactName=s,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var p in t)t.hasOwnProperty(p)&&(s=t[p],this[p]=s?s(f):f[p]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ol:ad,this.isPropagationStopped=ad,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ol)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ol)},persist:function(){},isPersistent:ol}),n}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=It(Qi),Ur=T({},Qi,{view:0,detail:0}),I0=It(Ur),fu,hu,Lr,cl=T({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lr&&(Lr&&t.type==="mousemove"?(fu=t.screenX-Lr.screenX,hu=t.screenY-Lr.screenY):hu=fu=0,Lr=t),fu)},movementY:function(t){return"movementY"in t?t.movementY:hu}}),rd=It(cl),C0=T({},cl,{dataTransfer:0}),w0=It(C0),D0=T({},Ur,{relatedTarget:0}),du=It(D0),O0=T({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),V0=It(O0),x0=T({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),B0=It(x0),U0=T({},Qi,{data:0}),sd=It(U0),L0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z0(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Z0[t])?!!n[t]:!1}function gu(){return z0}var _0=T({},Ur,{key:function(t){if(t.key){var n=L0[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?M0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(t){return t.type==="keypress"?ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y0=It(_0),G0=T({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ld=It(G0),W0=T({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),K0=It(W0),X0=T({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),J0=It(X0),k0=T({},cl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),j0=It(k0),F0=T({},Qi,{newState:0,oldState:0}),H0=It(F0),Q0=[9,13,27,32],mu=Wn&&"CompositionEvent"in window,Mr=null;Wn&&"documentMode"in document&&(Mr=document.documentMode);var $0=Wn&&"TextEvent"in window&&!Mr,od=Wn&&(!mu||Mr&&8<Mr&&11>=Mr),ud=" ",cd=!1;function fd(t,n){switch(t){case"keyup":return Q0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function P0(t,n){switch(t){case"compositionend":return hd(n);case"keypress":return n.which!==32?null:(cd=!0,ud);case"textInput":return t=n.data,t===ud&&cd?null:t;default:return null}}function q0(t,n){if(Da)return t==="compositionend"||!mu&&fd(t,n)?(t=id(),sl=cu=gi=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return od&&n.locale!=="ko"?null:n.data;default:return null}}var eS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!eS[t.type]:n==="textarea"}function gd(t,n,s,l){Ca?wa?wa.push(l):wa=[l]:Ca=l,n=ql(n,"onChange"),0<n.length&&(s=new ul("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Zr=null,zr=null;function tS(t){Qm(t,0)}function fl(t){var n=Vr(t);if(Hh(n))return t}function md(t,n){if(t==="change")return n}var yd=!1;if(Wn){var yu;if(Wn){var pu="oninput"in document;if(!pu){var pd=document.createElement("div");pd.setAttribute("oninput","return;"),pu=typeof pd.oninput=="function"}yu=pu}else yu=!1;yd=yu&&(!document.documentMode||9<document.documentMode)}function bd(){Zr&&(Zr.detachEvent("onpropertychange",vd),zr=Zr=null)}function vd(t){if(t.propertyName==="value"&&fl(zr)){var n=[];gd(n,zr,t,lu(t)),nd(tS,n)}}function nS(t,n,s){t==="focusin"?(bd(),Zr=n,zr=s,Zr.attachEvent("onpropertychange",vd)):t==="focusout"&&bd()}function iS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fl(zr)}function aS(t,n){if(t==="click")return fl(n)}function rS(t,n){if(t==="input"||t==="change")return fl(n)}function sS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Yt=typeof Object.is=="function"?Object.is:sS;function _r(t,n){if(Yt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var u=s[l];if(!Fo.call(n,u)||!Yt(t[u],n[u]))return!1}return!0}function Sd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ad(t,n){var s=Sd(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Sd(s)}}function Ed(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ed(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Nd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=al(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=al(t.document)}return n}function bu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var lS=Wn&&"documentMode"in document&&11>=document.documentMode,Oa=null,vu=null,Yr=null,Su=!1;function Td(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Su||Oa==null||Oa!==al(l)||(l=Oa,"selectionStart"in l&&bu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yr&&_r(Yr,l)||(Yr=l,l=ql(vu,"onSelect"),0<l.length&&(n=new ul("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Oa)))}function $i(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Va={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},Au={},Rd={};Wn&&(Rd=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Pi(t){if(Au[t])return Au[t];if(!Va[t])return t;var n=Va[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Rd)return Au[t]=n[s];return t}var Id=Pi("animationend"),Cd=Pi("animationiteration"),wd=Pi("animationstart"),oS=Pi("transitionrun"),uS=Pi("transitionstart"),cS=Pi("transitioncancel"),Dd=Pi("transitionend"),Od=new Map,Eu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eu.push("scrollEnd");function yn(t,n){Od.set(t,n),Hi(n,[t])}var hl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pt=[],xa=0,Nu=0;function dl(){for(var t=xa,n=Nu=xa=0;n<t;){var s=Pt[n];Pt[n++]=null;var l=Pt[n];Pt[n++]=null;var u=Pt[n];Pt[n++]=null;var f=Pt[n];if(Pt[n++]=null,l!==null&&u!==null){var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}f!==0&&Vd(s,u,f)}}function gl(t,n,s,l){Pt[xa++]=t,Pt[xa++]=n,Pt[xa++]=s,Pt[xa++]=l,Nu|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Tu(t,n,s,l){return gl(t,n,s,l),ml(t)}function qi(t,n){return gl(t,null,null,n),ml(t)}function Vd(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var u=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&n!==null&&(u=31-_t(s),t=f.hiddenUpdates,l=t[u],l===null?t[u]=[n]:l.push(n),n.lane=s|536870912),f):null}function ml(t){if(50<os)throw os=0,Bc=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ba={};function fS(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(t,n,s,l){return new fS(t,n,s,l)}function Ru(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kn(t,n){var s=t.alternate;return s===null?(s=Gt(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function xd(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function yl(t,n,s,l,u,f){var g=0;if(l=t,typeof t=="function")Ru(t)&&(g=1);else if(typeof t=="string")g=yA(t,s,k.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Et:return t=Gt(31,s,n,u),t.elementType=Et,t.lanes=f,t;case _:return ea(s.children,u,f,n);case j:g=8,u|=24;break;case q:return t=Gt(12,s,n,u|2),t.elementType=q,t.lanes=f,t;case ie:return t=Gt(13,s,n,u),t.elementType=ie,t.lanes=f,t;case Ae:return t=Gt(19,s,n,u),t.elementType=Ae,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:g=10;break e;case ye:g=9;break e;case Ee:g=11;break e;case J:g=14;break e;case ve:g=16,l=null;break e}g=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Gt(g,s,n,u),n.elementType=t,n.type=l,n.lanes=f,n}function ea(t,n,s,l){return t=Gt(7,t,l,n),t.lanes=s,t}function Iu(t,n,s){return t=Gt(6,t,null,n),t.lanes=s,t}function Bd(t){var n=Gt(18,null,null,0);return n.stateNode=t,n}function Cu(t,n,s){return n=Gt(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ud=new WeakMap;function qt(t,n){if(typeof t=="object"&&t!==null){var s=Ud.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Bh(n)},Ud.set(t,n),n)}return{value:t,source:n,stack:Bh(n)}}var Ua=[],La=0,pl=null,Gr=0,en=[],tn=0,mi=null,wn=1,Dn="";function Xn(t,n){Ua[La++]=Gr,Ua[La++]=pl,pl=t,Gr=n}function Ld(t,n,s){en[tn++]=wn,en[tn++]=Dn,en[tn++]=mi,mi=t;var l=wn;t=Dn;var u=32-_t(l)-1;l&=~(1<<u),s+=1;var f=32-_t(n)+u;if(30<f){var g=u-u%5;f=(l&(1<<g)-1).toString(32),l>>=g,u-=g,wn=1<<32-_t(n)+u|s<<u|l,Dn=f+t}else wn=1<<f|s<<u|l,Dn=t}function wu(t){t.return!==null&&(Xn(t,1),Ld(t,1,0))}function Du(t){for(;t===pl;)pl=Ua[--La],Ua[La]=null,Gr=Ua[--La],Ua[La]=null;for(;t===mi;)mi=en[--tn],en[tn]=null,Dn=en[--tn],en[tn]=null,wn=en[--tn],en[tn]=null}function Md(t,n){en[tn++]=wn,en[tn++]=Dn,en[tn++]=mi,wn=n.id,Dn=n.overflow,mi=t}var ht=null,Ye=null,Se=!1,yi=null,nn=!1,Ou=Error(r(519));function pi(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wr(qt(n,t)),Ou}function Zd(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[ft]=t,n[Rt]=l,s){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(s=0;s<cs.length;s++)ge(cs[s],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":ge("invalid",n),Qh(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ge("invalid",n);break;case"textarea":ge("invalid",n),Ph(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||ey(n.textContent,s)?(l.popover!=null&&(ge("beforetoggle",n),ge("toggle",n)),l.onScroll!=null&&ge("scroll",n),l.onScrollEnd!=null&&ge("scrollend",n),l.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||pi(t,!0)}function zd(t){for(ht=t.return;ht;)switch(ht.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:ht=ht.return}}function Ma(t){if(t!==ht)return!1;if(!Se)return zd(t),Se=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Fc(t.type,t.memoizedProps)),s=!s),s&&Ye&&pi(t),zd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Ye=uy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Ye=uy(t)}else n===27?(n=Ye,Vi(t.type)?(t=qc,qc=null,Ye=t):Ye=n):Ye=ht?rn(t.stateNode.nextSibling):null;return!0}function ta(){Ye=ht=null,Se=!1}function Vu(){var t=yi;return t!==null&&(Ot===null?Ot=t:Ot.push.apply(Ot,t),yi=null),t}function Wr(t){yi===null?yi=[t]:yi.push(t)}var xu=E(null),na=null,Jn=null;function bi(t,n,s){K(xu,n._currentValue),n._currentValue=s}function kn(t){t._currentValue=xu.current,z(xu)}function Bu(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Uu(t,n,s,l){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var p=f;f=u;for(var b=0;b<n.length;b++)if(p.context===n[b]){f.lanes|=s,p=f.alternate,p!==null&&(p.lanes|=s),Bu(f.return,s,t),l||(g=null);break e}f=p.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Bu(g,s,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Za(t,n,s,l){t=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var p=u.type;Yt(u.pendingProps.value,g.value)||(t!==null?t.push(p):t=[p])}}else if(u===we.current){if(g=u.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(ms):t=[ms])}u=u.return}t!==null&&Uu(n,t,s,l),n.flags|=262144}function bl(t){for(t=t.firstContext;t!==null;){if(!Yt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ia(t){na=t,Jn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function dt(t){return _d(na,t)}function vl(t,n){return na===null&&ia(t),_d(t,n)}function _d(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Jn===null){if(t===null)throw Error(r(308));Jn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Jn=Jn.next=n;return s}var hS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},dS=i.unstable_scheduleCallback,gS=i.unstable_NormalPriority,tt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lu(){return{controller:new hS,data:new Map,refCount:0}}function Kr(t){t.refCount--,t.refCount===0&&dS(gS,function(){t.controller.abort()})}var Xr=null,Mu=0,za=0,_a=null;function mS(t,n){if(Xr===null){var s=Xr=[];Mu=0,za=_c(),_a={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Mu++,n.then(Yd,Yd),n}function Yd(){if(--Mu===0&&Xr!==null){_a!==null&&(_a.status="fulfilled");var t=Xr;Xr=null,za=0,_a=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function yS(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<s.length;u++)(0,s[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),l}var Gd=U.S;U.S=function(t,n){Tm=Zt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&mS(t,n),Gd!==null&&Gd(t,n)};var aa=E(null);function Zu(){var t=aa.current;return t!==null?t:ze.pooledCache}function Sl(t,n){n===null?K(aa,aa.current):K(aa,n.pool)}function Wd(){var t=Zu();return t===null?null:{parent:tt._currentValue,pool:t}}var Ya=Error(r(460)),zu=Error(r(474)),Al=Error(r(542)),El={then:function(){}};function Kd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xd(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Gn,Gn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,kd(t),t;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(t=ze,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,kd(t),t}throw sa=n,Ya}}function ra(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(sa=s,Ya):s}}var sa=null;function Jd(){if(sa===null)throw Error(r(459));var t=sa;return sa=null,t}function kd(t){if(t===Ya||t===Al)throw Error(r(483))}var Ga=null,Jr=0;function Nl(t){var n=Jr;return Jr+=1,Ga===null&&(Ga=[]),Xd(Ga,t,n)}function kr(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Tl(t,n){throw n.$$typeof===V?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function jd(t){function n(R,S){if(t){var w=R.deletions;w===null?(R.deletions=[S],R.flags|=16):w.push(S)}}function s(R,S){if(!t)return null;for(;S!==null;)n(R,S),S=S.sibling;return null}function l(R){for(var S=new Map;R!==null;)R.key!==null?S.set(R.key,R):S.set(R.index,R),R=R.sibling;return S}function u(R,S){return R=Kn(R,S),R.index=0,R.sibling=null,R}function f(R,S,w){return R.index=w,t?(w=R.alternate,w!==null?(w=w.index,w<S?(R.flags|=67108866,S):w):(R.flags|=67108866,S)):(R.flags|=1048576,S)}function g(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function p(R,S,w,M){return S===null||S.tag!==6?(S=Iu(w,R.mode,M),S.return=R,S):(S=u(S,w),S.return=R,S)}function b(R,S,w,M){var $=w.type;return $===_?B(R,S,w.props.children,M,w.key):S!==null&&(S.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===ve&&ra($)===S.type)?(S=u(S,w.props),kr(S,w),S.return=R,S):(S=yl(w.type,w.key,w.props,null,R.mode,M),kr(S,w),S.return=R,S)}function D(R,S,w,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=Cu(w,R.mode,M),S.return=R,S):(S=u(S,w.children||[]),S.return=R,S)}function B(R,S,w,M,$){return S===null||S.tag!==7?(S=ea(w,R.mode,M,$),S.return=R,S):(S=u(S,w),S.return=R,S)}function Z(R,S,w){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Iu(""+S,R.mode,w),S.return=R,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case C:return w=yl(S.type,S.key,S.props,null,R.mode,w),kr(w,S),w.return=R,w;case L:return S=Cu(S,R.mode,w),S.return=R,S;case ve:return S=ra(S),Z(R,S,w)}if(mn(S)||rt(S))return S=ea(S,R.mode,w,null),S.return=R,S;if(typeof S.then=="function")return Z(R,Nl(S),w);if(S.$$typeof===ne)return Z(R,vl(R,S),w);Tl(R,S)}return null}function O(R,S,w,M){var $=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return $!==null?null:p(R,S,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case C:return w.key===$?b(R,S,w,M):null;case L:return w.key===$?D(R,S,w,M):null;case ve:return w=ra(w),O(R,S,w,M)}if(mn(w)||rt(w))return $!==null?null:B(R,S,w,M,null);if(typeof w.then=="function")return O(R,S,Nl(w),M);if(w.$$typeof===ne)return O(R,S,vl(R,w),M);Tl(R,w)}return null}function x(R,S,w,M,$){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return R=R.get(w)||null,p(S,R,""+M,$);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case C:return R=R.get(M.key===null?w:M.key)||null,b(S,R,M,$);case L:return R=R.get(M.key===null?w:M.key)||null,D(S,R,M,$);case ve:return M=ra(M),x(R,S,w,M,$)}if(mn(M)||rt(M))return R=R.get(w)||null,B(S,R,M,$,null);if(typeof M.then=="function")return x(R,S,w,Nl(M),$);if(M.$$typeof===ne)return x(R,S,w,vl(S,M),$);Tl(S,M)}return null}function X(R,S,w,M){for(var $=null,Te=null,F=S,oe=S=0,be=null;F!==null&&oe<w.length;oe++){F.index>oe?(be=F,F=null):be=F.sibling;var Re=O(R,F,w[oe],M);if(Re===null){F===null&&(F=be);break}t&&F&&Re.alternate===null&&n(R,F),S=f(Re,S,oe),Te===null?$=Re:Te.sibling=Re,Te=Re,F=be}if(oe===w.length)return s(R,F),Se&&Xn(R,oe),$;if(F===null){for(;oe<w.length;oe++)F=Z(R,w[oe],M),F!==null&&(S=f(F,S,oe),Te===null?$=F:Te.sibling=F,Te=F);return Se&&Xn(R,oe),$}for(F=l(F);oe<w.length;oe++)be=x(F,R,oe,w[oe],M),be!==null&&(t&&be.alternate!==null&&F.delete(be.key===null?oe:be.key),S=f(be,S,oe),Te===null?$=be:Te.sibling=be,Te=be);return t&&F.forEach(function(Mi){return n(R,Mi)}),Se&&Xn(R,oe),$}function ee(R,S,w,M){if(w==null)throw Error(r(151));for(var $=null,Te=null,F=S,oe=S=0,be=null,Re=w.next();F!==null&&!Re.done;oe++,Re=w.next()){F.index>oe?(be=F,F=null):be=F.sibling;var Mi=O(R,F,Re.value,M);if(Mi===null){F===null&&(F=be);break}t&&F&&Mi.alternate===null&&n(R,F),S=f(Mi,S,oe),Te===null?$=Mi:Te.sibling=Mi,Te=Mi,F=be}if(Re.done)return s(R,F),Se&&Xn(R,oe),$;if(F===null){for(;!Re.done;oe++,Re=w.next())Re=Z(R,Re.value,M),Re!==null&&(S=f(Re,S,oe),Te===null?$=Re:Te.sibling=Re,Te=Re);return Se&&Xn(R,oe),$}for(F=l(F);!Re.done;oe++,Re=w.next())Re=x(F,R,oe,Re.value,M),Re!==null&&(t&&Re.alternate!==null&&F.delete(Re.key===null?oe:Re.key),S=f(Re,S,oe),Te===null?$=Re:Te.sibling=Re,Te=Re);return t&&F.forEach(function(CA){return n(R,CA)}),Se&&Xn(R,oe),$}function Me(R,S,w,M){if(typeof w=="object"&&w!==null&&w.type===_&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case C:e:{for(var $=w.key;S!==null;){if(S.key===$){if($=w.type,$===_){if(S.tag===7){s(R,S.sibling),M=u(S,w.props.children),M.return=R,R=M;break e}}else if(S.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===ve&&ra($)===S.type){s(R,S.sibling),M=u(S,w.props),kr(M,w),M.return=R,R=M;break e}s(R,S);break}else n(R,S);S=S.sibling}w.type===_?(M=ea(w.props.children,R.mode,M,w.key),M.return=R,R=M):(M=yl(w.type,w.key,w.props,null,R.mode,M),kr(M,w),M.return=R,R=M)}return g(R);case L:e:{for($=w.key;S!==null;){if(S.key===$)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){s(R,S.sibling),M=u(S,w.children||[]),M.return=R,R=M;break e}else{s(R,S);break}else n(R,S);S=S.sibling}M=Cu(w,R.mode,M),M.return=R,R=M}return g(R);case ve:return w=ra(w),Me(R,S,w,M)}if(mn(w))return X(R,S,w,M);if(rt(w)){if($=rt(w),typeof $!="function")throw Error(r(150));return w=$.call(w),ee(R,S,w,M)}if(typeof w.then=="function")return Me(R,S,Nl(w),M);if(w.$$typeof===ne)return Me(R,S,vl(R,w),M);Tl(R,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,S!==null&&S.tag===6?(s(R,S.sibling),M=u(S,w),M.return=R,R=M):(s(R,S),M=Iu(w,R.mode,M),M.return=R,R=M),g(R)):s(R,S)}return function(R,S,w,M){try{Jr=0;var $=Me(R,S,w,M);return Ga=null,$}catch(F){if(F===Ya||F===Al)throw F;var Te=Gt(29,F,null,R.mode);return Te.lanes=M,Te.return=R,Te}finally{}}}var la=jd(!0),Fd=jd(!1),vi=!1;function _u(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Si(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ai(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ie&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=ml(t),Vd(t,null,s),n}return gl(t,l,n,s),ml(t)}function jr(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,_h(t,s)}}function Gu(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var u=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?u=f=n:f=f.next=n}else u=f=n;s={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Wu=!1;function Fr(){if(Wu){var t=_a;if(t!==null)throw t}}function Hr(t,n,s,l){Wu=!1;var u=t.updateQueue;vi=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,p=u.shared.pending;if(p!==null){u.shared.pending=null;var b=p,D=b.next;b.next=null,g===null?f=D:g.next=D,g=b;var B=t.alternate;B!==null&&(B=B.updateQueue,p=B.lastBaseUpdate,p!==g&&(p===null?B.firstBaseUpdate=D:p.next=D,B.lastBaseUpdate=b))}if(f!==null){var Z=u.baseState;g=0,B=D=b=null,p=f;do{var O=p.lane&-536870913,x=O!==p.lane;if(x?(pe&O)===O:(l&O)===O){O!==0&&O===za&&(Wu=!0),B!==null&&(B=B.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var X=t,ee=p;O=n;var Me=s;switch(ee.tag){case 1:if(X=ee.payload,typeof X=="function"){Z=X.call(Me,Z,O);break e}Z=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=ee.payload,O=typeof X=="function"?X.call(Me,Z,O):X,O==null)break e;Z=T({},Z,O);break e;case 2:vi=!0}}O=p.callback,O!==null&&(t.flags|=64,x&&(t.flags|=8192),x=u.callbacks,x===null?u.callbacks=[O]:x.push(O))}else x={lane:O,tag:p.tag,payload:p.payload,callback:p.callback,next:null},B===null?(D=B=x,b=Z):B=B.next=x,g|=O;if(p=p.next,p===null){if(p=u.shared.pending,p===null)break;x=p,p=x.next,x.next=null,u.lastBaseUpdate=x,u.shared.pending=null}}while(!0);B===null&&(b=Z),u.baseState=b,u.firstBaseUpdate=D,u.lastBaseUpdate=B,f===null&&(u.shared.lanes=0),Ii|=g,t.lanes=g,t.memoizedState=Z}}function Hd(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Qd(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Hd(s[t],n)}var Wa=E(null),Rl=E(0);function $d(t,n){t=ti,K(Rl,t),K(Wa,n),ti=t|n.baseLanes}function Ku(){K(Rl,ti),K(Wa,Wa.current)}function Xu(){ti=Rl.current,z(Wa),z(Rl)}var Wt=E(null),an=null;function Ei(t){var n=t.alternate;K($e,$e.current&1),K(Wt,t),an===null&&(n===null||Wa.current!==null||n.memoizedState!==null)&&(an=t)}function Ju(t){K($e,$e.current),K(Wt,t),an===null&&(an=t)}function Pd(t){t.tag===22?(K($e,$e.current),K(Wt,t),an===null&&(an=t)):Ni()}function Ni(){K($e,$e.current),K(Wt,Wt.current)}function Kt(t){z(Wt),an===t&&(an=null),z($e)}var $e=E(0);function Il(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||$c(s)||Pc(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var jn=0,le=null,Ue=null,nt=null,Cl=!1,Ka=!1,oa=!1,wl=0,Qr=0,Xa=null,pS=0;function Fe(){throw Error(r(321))}function ku(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Yt(t[s],n[s]))return!1;return!0}function ju(t,n,s,l,u,f){return jn=f,le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=t===null||t.memoizedState===null?Lg:oc,oa=!1,f=s(l,u),oa=!1,Ka&&(f=eg(n,s,l,u)),qd(t),f}function qd(t){U.H=qr;var n=Ue!==null&&Ue.next!==null;if(jn=0,nt=Ue=le=null,Cl=!1,Qr=0,Xa=null,n)throw Error(r(300));t===null||it||(t=t.dependencies,t!==null&&bl(t)&&(it=!0))}function eg(t,n,s,l){le=t;var u=0;do{if(Ka&&(Xa=null),Qr=0,Ka=!1,25<=u)throw Error(r(301));if(u+=1,nt=Ue=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=Mg,f=n(s,l)}while(Ka);return f}function bS(){var t=U.H,n=t.useState()[0];return n=typeof n.then=="function"?$r(n):n,t=t.useState()[0],(Ue!==null?Ue.memoizedState:null)!==t&&(le.flags|=1024),n}function Fu(){var t=wl!==0;return wl=0,t}function Hu(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Qu(t){if(Cl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Cl=!1}jn=0,nt=Ue=le=null,Ka=!1,Qr=wl=0,Xa=null}function Tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?le.memoizedState=nt=t:nt=nt.next=t,nt}function Pe(){if(Ue===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var n=nt===null?le.memoizedState:nt.next;if(n!==null)nt=n,Ue=t;else{if(t===null)throw le.alternate===null?Error(r(467)):Error(r(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},nt===null?le.memoizedState=nt=t:nt=nt.next=t}return nt}function Dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $r(t){var n=Qr;return Qr+=1,Xa===null&&(Xa=[]),t=Xd(Xa,t,n),n=le,(nt===null?n.memoizedState:nt.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?Lg:oc),t}function Ol(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $r(t);if(t.$$typeof===ne)return dt(t)}throw Error(r(438,String(t)))}function $u(t){var n=null,s=le.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Dl(),le.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=gn;return n.index++,s}function Fn(t,n){return typeof n=="function"?n(t):n}function Vl(t){var n=Pe();return Pu(n,Ue,t)}function Pu(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var u=t.baseQueue,f=l.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}n.baseQueue=u=f,l.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var p=g=null,b=null,D=n,B=!1;do{var Z=D.lane&-536870913;if(Z!==D.lane?(pe&Z)===Z:(jn&Z)===Z){var O=D.revertLane;if(O===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),Z===za&&(B=!0);else if((jn&O)===O){D=D.next,O===za&&(B=!0);continue}else Z={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},b===null?(p=b=Z,g=f):b=b.next=Z,le.lanes|=O,Ii|=O;Z=D.action,oa&&s(f,Z),f=D.hasEagerState?D.eagerState:s(f,Z)}else O={lane:Z,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},b===null?(p=b=O,g=f):b=b.next=O,le.lanes|=Z,Ii|=Z;D=D.next}while(D!==null&&D!==n);if(b===null?g=f:b.next=p,!Yt(f,t.memoizedState)&&(it=!0,B&&(s=_a,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=b,l.lastRenderedState=f}return u===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function qu(t){var n=Pe(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,u=s.pending,f=n.memoizedState;if(u!==null){s.pending=null;var g=u=u.next;do f=t(f,g.action),g=g.next;while(g!==u);Yt(f,n.memoizedState)||(it=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function tg(t,n,s){var l=le,u=Pe(),f=Se;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!Yt((Ue||u).memoizedState,s);if(g&&(u.memoizedState=s,it=!0),u=u.queue,nc(ag.bind(null,l,u,t),[t]),u.getSnapshot!==n||g||nt!==null&&nt.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},ig.bind(null,l,u,s,n),null),ze===null)throw Error(r(349));f||(jn&127)!==0||ng(l,n,s)}return s}function ng(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=le.updateQueue,n===null?(n=Dl(),le.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function ig(t,n,s,l){n.value=s,n.getSnapshot=l,rg(n)&&sg(t)}function ag(t,n,s){return s(function(){rg(n)&&sg(t)})}function rg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Yt(t,s)}catch{return!0}}function sg(t){var n=qi(t,2);n!==null&&Vt(n,t,2)}function ec(t){var n=Tt();if(typeof t=="function"){var s=t;if(t=s(),oa){hi(!0);try{s()}finally{hi(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:t},n}function lg(t,n,s,l){return t.baseState=s,Pu(t,Ue,typeof l=="function"?l:Fn)}function vS(t,n,s,l,u){if(Ul(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};U.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,og(n,f)):(f.next=s.next,n.pending=s.next=f)}}function og(t,n){var s=n.action,l=n.payload,u=t.state;if(n.isTransition){var f=U.T,g={};U.T=g;try{var p=s(u,l),b=U.S;b!==null&&b(g,p),ug(t,n,p)}catch(D){tc(t,n,D)}finally{f!==null&&g.types!==null&&(f.types=g.types),U.T=f}}else try{f=s(u,l),ug(t,n,f)}catch(D){tc(t,n,D)}}function ug(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){cg(t,n,l)},function(l){return tc(t,n,l)}):cg(t,n,s)}function cg(t,n,s){n.status="fulfilled",n.value=s,fg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,og(t,s)))}function tc(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,fg(n),n=n.next;while(n!==l)}t.action=null}function fg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function hg(t,n){return n}function dg(t,n){if(Se){var s=ze.formState;if(s!==null){e:{var l=le;if(Se){if(Ye){t:{for(var u=Ye,f=nn;u.nodeType!==8;){if(!f){u=null;break t}if(u=rn(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Ye=rn(u.nextSibling),l=u.data==="F!";break e}}pi(l)}l=!1}l&&(n=s[0])}}return s=Tt(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hg,lastRenderedState:n},s.queue=l,s=xg.bind(null,le,l),l.dispatch=s,l=ec(!1),f=lc.bind(null,le,!1,l.queue),l=Tt(),u={state:n,dispatch:null,action:t,pending:null},l.queue=u,s=vS.bind(null,le,u,f,s),u.dispatch=s,l.memoizedState=t,[n,s,!1]}function gg(t){var n=Pe();return mg(n,Ue,t)}function mg(t,n,s){if(n=Pu(t,n,hg)[0],t=Vl(Fn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=$r(n)}catch(g){throw g===Ya?Al:g}else l=n;n=Pe();var u=n.queue,f=u.dispatch;return s!==n.memoizedState&&(le.flags|=2048,Ja(9,{destroy:void 0},SS.bind(null,u,s),null)),[l,f,t]}function SS(t,n){t.action=n}function yg(t){var n=Pe(),s=Ue;if(s!==null)return mg(n,s,t);Pe(),n=n.memoizedState,s=Pe();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Ja(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=le.updateQueue,n===null&&(n=Dl(),le.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function pg(){return Pe().memoizedState}function xl(t,n,s,l){var u=Tt();le.flags|=t,u.memoizedState=Ja(1|n,{destroy:void 0},s,l===void 0?null:l)}function Bl(t,n,s,l){var u=Pe();l=l===void 0?null:l;var f=u.memoizedState.inst;Ue!==null&&l!==null&&ku(l,Ue.memoizedState.deps)?u.memoizedState=Ja(n,f,s,l):(le.flags|=t,u.memoizedState=Ja(1|n,f,s,l))}function bg(t,n){xl(8390656,8,t,n)}function nc(t,n){Bl(2048,8,t,n)}function AS(t){le.flags|=4;var n=le.updateQueue;if(n===null)n=Dl(),le.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function vg(t){var n=Pe().memoizedState;return AS({ref:n,nextImpl:t}),function(){if((Ie&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Sg(t,n){return Bl(4,2,t,n)}function Ag(t,n){return Bl(4,4,t,n)}function Eg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ng(t,n,s){s=s!=null?s.concat([t]):null,Bl(4,4,Eg.bind(null,n,t),s)}function ic(){}function Tg(t,n){var s=Pe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&ku(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Rg(t,n){var s=Pe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&ku(n,l[1]))return l[0];if(l=t(),oa){hi(!0);try{t()}finally{hi(!1)}}return s.memoizedState=[l,n],l}function ac(t,n,s){return s===void 0||(jn&1073741824)!==0&&(pe&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Im(),le.lanes|=t,Ii|=t,s)}function Ig(t,n,s,l){return Yt(s,n)?s:Wa.current!==null?(t=ac(t,s,l),Yt(t,n)||(it=!0),t):(jn&42)===0||(jn&1073741824)!==0&&(pe&261930)===0?(it=!0,t.memoizedState=s):(t=Im(),le.lanes|=t,Ii|=t,n)}function Cg(t,n,s,l,u){var f=W.p;W.p=f!==0&&8>f?f:8;var g=U.T,p={};U.T=p,lc(t,!1,n,s);try{var b=u(),D=U.S;if(D!==null&&D(p,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var B=yS(b,l);Pr(t,n,B,kt(t))}else Pr(t,n,l,kt(t))}catch(Z){Pr(t,n,{then:function(){},status:"rejected",reason:Z},kt())}finally{W.p=f,g!==null&&p.types!==null&&(g.types=p.types),U.T=g}}function ES(){}function rc(t,n,s,l){if(t.tag!==5)throw Error(r(476));var u=wg(t).queue;Cg(t,u,n,te,s===null?ES:function(){return Dg(t),s(l)})}function wg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:te},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Dg(t){var n=wg(t);n.next===null&&(n=t.alternate.memoizedState),Pr(t,n.next.queue,{},kt())}function sc(){return dt(ms)}function Og(){return Pe().memoizedState}function Vg(){return Pe().memoizedState}function NS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=kt();t=Si(s);var l=Ai(n,t,s);l!==null&&(Vt(l,n,s),jr(l,n,s)),n={cache:Lu()},t.payload=n;return}n=n.return}}function TS(t,n,s){var l=kt();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ul(t)?Bg(n,s):(s=Tu(t,n,s,l),s!==null&&(Vt(s,t,l),Ug(s,n,l)))}function xg(t,n,s){var l=kt();Pr(t,n,s,l)}function Pr(t,n,s,l){var u={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ul(t))Bg(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,p=f(g,s);if(u.hasEagerState=!0,u.eagerState=p,Yt(p,g))return gl(t,n,u,0),ze===null&&dl(),!1}catch{}finally{}if(s=Tu(t,n,u,l),s!==null)return Vt(s,t,l),Ug(s,n,l),!0}return!1}function lc(t,n,s,l){if(l={lane:2,revertLane:_c(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ul(t)){if(n)throw Error(r(479))}else n=Tu(t,s,l,2),n!==null&&Vt(n,t,2)}function Ul(t){var n=t.alternate;return t===le||n!==null&&n===le}function Bg(t,n){Ka=Cl=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Ug(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,_h(t,s)}}var qr={readContext:dt,use:Ol,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};qr.useEffectEvent=Fe;var Lg={readContext:dt,use:Ol,useCallback:function(t,n){return Tt().memoizedState=[t,n===void 0?null:n],t},useContext:dt,useEffect:bg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,xl(4194308,4,Eg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return xl(4194308,4,t,n)},useInsertionEffect:function(t,n){xl(4,2,t,n)},useMemo:function(t,n){var s=Tt();n=n===void 0?null:n;var l=t();if(oa){hi(!0);try{t()}finally{hi(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=Tt();if(s!==void 0){var u=s(n);if(oa){hi(!0);try{s(n)}finally{hi(!1)}}}else u=n;return l.memoizedState=l.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},l.queue=t,t=t.dispatch=TS.bind(null,le,t),[l.memoizedState,t]},useRef:function(t){var n=Tt();return t={current:t},n.memoizedState=t},useState:function(t){t=ec(t);var n=t.queue,s=xg.bind(null,le,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:ic,useDeferredValue:function(t,n){var s=Tt();return ac(s,t,n)},useTransition:function(){var t=ec(!1);return t=Cg.bind(null,le,t.queue,!0,!1),Tt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=le,u=Tt();if(Se){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),ze===null)throw Error(r(349));(pe&127)!==0||ng(l,n,s)}u.memoizedState=s;var f={value:s,getSnapshot:n};return u.queue=f,bg(ag.bind(null,l,f,t),[t]),l.flags|=2048,Ja(9,{destroy:void 0},ig.bind(null,l,f,s,n),null),s},useId:function(){var t=Tt(),n=ze.identifierPrefix;if(Se){var s=Dn,l=wn;s=(l&~(1<<32-_t(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=wl++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=pS++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:sc,useFormState:dg,useActionState:dg,useOptimistic:function(t){var n=Tt();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=lc.bind(null,le,!0,s),s.dispatch=n,[t,n]},useMemoCache:$u,useCacheRefresh:function(){return Tt().memoizedState=NS.bind(null,le)},useEffectEvent:function(t){var n=Tt(),s={impl:t};return n.memoizedState=s,function(){if((Ie&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},oc={readContext:dt,use:Ol,useCallback:Tg,useContext:dt,useEffect:nc,useImperativeHandle:Ng,useInsertionEffect:Sg,useLayoutEffect:Ag,useMemo:Rg,useReducer:Vl,useRef:pg,useState:function(){return Vl(Fn)},useDebugValue:ic,useDeferredValue:function(t,n){var s=Pe();return Ig(s,Ue.memoizedState,t,n)},useTransition:function(){var t=Vl(Fn)[0],n=Pe().memoizedState;return[typeof t=="boolean"?t:$r(t),n]},useSyncExternalStore:tg,useId:Og,useHostTransitionStatus:sc,useFormState:gg,useActionState:gg,useOptimistic:function(t,n){var s=Pe();return lg(s,Ue,t,n)},useMemoCache:$u,useCacheRefresh:Vg};oc.useEffectEvent=vg;var Mg={readContext:dt,use:Ol,useCallback:Tg,useContext:dt,useEffect:nc,useImperativeHandle:Ng,useInsertionEffect:Sg,useLayoutEffect:Ag,useMemo:Rg,useReducer:qu,useRef:pg,useState:function(){return qu(Fn)},useDebugValue:ic,useDeferredValue:function(t,n){var s=Pe();return Ue===null?ac(s,t,n):Ig(s,Ue.memoizedState,t,n)},useTransition:function(){var t=qu(Fn)[0],n=Pe().memoizedState;return[typeof t=="boolean"?t:$r(t),n]},useSyncExternalStore:tg,useId:Og,useHostTransitionStatus:sc,useFormState:yg,useActionState:yg,useOptimistic:function(t,n){var s=Pe();return Ue!==null?lg(s,Ue,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:$u,useCacheRefresh:Vg};Mg.useEffectEvent=vg;function uc(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:T({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var cc={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=kt(),u=Si(l);u.payload=n,s!=null&&(u.callback=s),n=Ai(t,u,l),n!==null&&(Vt(n,t,l),jr(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=kt(),u=Si(l);u.tag=1,u.payload=n,s!=null&&(u.callback=s),n=Ai(t,u,l),n!==null&&(Vt(n,t,l),jr(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=kt(),l=Si(s);l.tag=2,n!=null&&(l.callback=n),n=Ai(t,l,s),n!==null&&(Vt(n,t,s),jr(n,t,s))}};function Zg(t,n,s,l,u,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!_r(s,l)||!_r(u,f):!0}function zg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&cc.enqueueReplaceState(n,n.state,null)}function ua(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=T({},s));for(var u in t)s[u]===void 0&&(s[u]=t[u])}return s}function _g(t){hl(t)}function Yg(t){console.error(t)}function Gg(t){hl(t)}function Ll(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Wg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function fc(t,n,s){return s=Si(s),s.tag=3,s.payload={element:null},s.callback=function(){Ll(t,n)},s}function Kg(t){return t=Si(t),t.tag=3,t}function Xg(t,n,s,l){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;t.payload=function(){return u(f)},t.callback=function(){Wg(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Wg(n,s,l),typeof u!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var p=l.stack;this.componentDidCatch(l.value,{componentStack:p!==null?p:""})})}function RS(t,n,s,l,u){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Za(n,s,u,!0),s=Wt.current,s!==null){switch(s.tag){case 31:case 13:return an===null?jl():s.alternate===null&&He===0&&(He=3),s.flags&=-257,s.flags|=65536,s.lanes=u,l===El?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Mc(t,l,u)),!1;case 22:return s.flags|=65536,l===El?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Mc(t,l,u)),!1}throw Error(r(435,s.tag))}return Mc(t,l,u),jl(),!1}if(Se)return n=Wt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==Ou&&(t=Error(r(422),{cause:l}),Wr(qt(t,s)))):(l!==Ou&&(n=Error(r(423),{cause:l}),Wr(qt(n,s))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,l=qt(l,s),u=fc(t.stateNode,l,u),Gu(t,u),He!==4&&(He=2)),!1;var f=Error(r(520),{cause:l});if(f=qt(f,s),ls===null?ls=[f]:ls.push(f),He!==4&&(He=2),n===null)return!0;l=qt(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=u&-u,s.lanes|=t,t=fc(s.stateNode,l,t),Gu(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ci===null||!Ci.has(f))))return s.flags|=65536,u&=-u,s.lanes|=u,u=Kg(u),Xg(u,t,s,l),Gu(s,u),!1}s=s.return}while(s!==null);return!1}var hc=Error(r(461)),it=!1;function gt(t,n,s,l){n.child=t===null?Fd(n,null,s,l):la(n,t.child,s,l)}function Jg(t,n,s,l,u){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var p in l)p!=="ref"&&(g[p]=l[p])}else g=l;return ia(n),l=ju(t,n,s,g,f,u),p=Fu(),t!==null&&!it?(Hu(t,n,u),Hn(t,n,u)):(Se&&p&&wu(n),n.flags|=1,gt(t,n,l,u),n.child)}function kg(t,n,s,l,u){if(t===null){var f=s.type;return typeof f=="function"&&!Ru(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,jg(t,n,f,l,u)):(t=yl(s.type,null,l,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Sc(t,u)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:_r,s(g,l)&&t.ref===n.ref)return Hn(t,n,u)}return n.flags|=1,t=Kn(f,l),t.ref=n.ref,t.return=n,n.child=t}function jg(t,n,s,l,u){if(t!==null){var f=t.memoizedProps;if(_r(f,l)&&t.ref===n.ref)if(it=!1,n.pendingProps=l=f,Sc(t,u))(t.flags&131072)!==0&&(it=!0);else return n.lanes=t.lanes,Hn(t,n,u)}return dc(t,n,s,l,u)}function Fg(t,n,s,l){var u=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~f}else l=0,n.child=null;return Hg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Sl(n,f!==null?f.cachePool:null),f!==null?$d(n,f):Ku(),Pd(n);else return l=n.lanes=536870912,Hg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Sl(n,f.cachePool),$d(n,f),Ni(),n.memoizedState=null):(t!==null&&Sl(n,null),Ku(),Ni());return gt(t,n,u,s),n.child}function es(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Hg(t,n,s,l,u){var f=Zu();return f=f===null?null:{parent:tt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Sl(n,null),Ku(),Pd(n),t!==null&&Za(t,n,l,!0),n.childLanes=u,null}function Ml(t,n){return n=zl({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Qg(t,n,s){return la(n,t.child,null,s),t=Ml(n,n.pendingProps),t.flags|=2,Kt(n),n.memoizedState=null,t}function IS(t,n,s){var l=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Se){if(l.mode==="hidden")return t=Ml(n,l),n.lanes=536870912,es(null,t);if(Ju(n),(t=Ye)?(t=oy(t,nn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:mi!==null?{id:wn,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},s=Bd(t),s.return=n,n.child=s,ht=n,Ye=null)):t=null,t===null)throw pi(n);return n.lanes=536870912,null}return Ml(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Ju(n),u)if(n.flags&256)n.flags&=-257,n=Qg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(it||Za(t,n,s,!1),u=(s&t.childLanes)!==0,it||u){if(l=ze,l!==null&&(g=Yh(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,qi(t,g),Vt(l,t,g),hc;jl(),n=Qg(t,n,s)}else t=f.treeContext,Ye=rn(g.nextSibling),ht=n,Se=!0,yi=null,nn=!1,t!==null&&Md(n,t),n=Ml(n,l),n.flags|=4096;return n}return t=Kn(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Zl(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function dc(t,n,s,l,u){return ia(n),s=ju(t,n,s,l,void 0,u),l=Fu(),t!==null&&!it?(Hu(t,n,u),Hn(t,n,u)):(Se&&l&&wu(n),n.flags|=1,gt(t,n,s,u),n.child)}function $g(t,n,s,l,u,f){return ia(n),n.updateQueue=null,s=eg(n,l,s,u),qd(t),l=Fu(),t!==null&&!it?(Hu(t,n,f),Hn(t,n,f)):(Se&&l&&wu(n),n.flags|=1,gt(t,n,s,f),n.child)}function Pg(t,n,s,l,u){if(ia(n),n.stateNode===null){var f=Ba,g=s.contextType;typeof g=="object"&&g!==null&&(f=dt(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=cc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},_u(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?dt(g):Ba,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(uc(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&cc.enqueueReplaceState(f,f.state,null),Hr(n,l,f,u),Fr(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var p=n.memoizedProps,b=ua(s,p);f.props=b;var D=f.context,B=s.contextType;g=Ba,typeof B=="object"&&B!==null&&(g=dt(B));var Z=s.getDerivedStateFromProps;B=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",p=n.pendingProps!==p,B||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p||D!==g)&&zg(n,f,l,g),vi=!1;var O=n.memoizedState;f.state=O,Hr(n,l,f,u),Fr(),D=n.memoizedState,p||O!==D||vi?(typeof Z=="function"&&(uc(n,s,Z,l),D=n.memoizedState),(b=vi||Zg(n,s,b,l,O,D,g))?(B||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=D),f.props=l,f.state=D,f.context=g,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Yu(t,n),g=n.memoizedProps,B=ua(s,g),f.props=B,Z=n.pendingProps,O=f.context,D=s.contextType,b=Ba,typeof D=="object"&&D!==null&&(b=dt(D)),p=s.getDerivedStateFromProps,(D=typeof p=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Z||O!==b)&&zg(n,f,l,b),vi=!1,O=n.memoizedState,f.state=O,Hr(n,l,f,u),Fr();var x=n.memoizedState;g!==Z||O!==x||vi||t!==null&&t.dependencies!==null&&bl(t.dependencies)?(typeof p=="function"&&(uc(n,s,p,l),x=n.memoizedState),(B=vi||Zg(n,s,B,l,O,x,b)||t!==null&&t.dependencies!==null&&bl(t.dependencies))?(D||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,x,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,x,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=x),f.props=l,f.state=x,f.context=b,l=B):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=la(n,t.child,null,u),n.child=la(n,null,s,u)):gt(t,n,s,u),n.memoizedState=f.state,t=n.child):t=Hn(t,n,u),t}function qg(t,n,s,l){return ta(),n.flags|=256,gt(t,n,s,l),n.child}var gc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mc(t){return{baseLanes:t,cachePool:Wd()}}function yc(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Jt),t}function em(t,n,s){var l=n.pendingProps,u=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:($e.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Se){if(u?Ei(n):Ni(),(t=Ye)?(t=oy(t,nn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:mi!==null?{id:wn,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},s=Bd(t),s.return=n,n.child=s,ht=n,Ye=null)):t=null,t===null)throw pi(n);return Pc(t)?n.lanes=32:n.lanes=536870912,null}var p=l.children;return l=l.fallback,u?(Ni(),u=n.mode,p=zl({mode:"hidden",children:p},u),l=ea(l,u,s,null),p.return=n,l.return=n,p.sibling=l,n.child=p,l=n.child,l.memoizedState=mc(s),l.childLanes=yc(t,g,s),n.memoizedState=gc,es(null,l)):(Ei(n),pc(n,p))}var b=t.memoizedState;if(b!==null&&(p=b.dehydrated,p!==null)){if(f)n.flags&256?(Ei(n),n.flags&=-257,n=bc(t,n,s)):n.memoizedState!==null?(Ni(),n.child=t.child,n.flags|=128,n=null):(Ni(),p=l.fallback,u=n.mode,l=zl({mode:"visible",children:l.children},u),p=ea(p,u,s,null),p.flags|=2,l.return=n,p.return=n,l.sibling=p,n.child=l,la(n,t.child,null,s),l=n.child,l.memoizedState=mc(s),l.childLanes=yc(t,g,s),n.memoizedState=gc,n=es(null,l));else if(Ei(n),Pc(p)){if(g=p.nextSibling&&p.nextSibling.dataset,g)var D=g.dgst;g=D,l=Error(r(419)),l.stack="",l.digest=g,Wr({value:l,source:null,stack:null}),n=bc(t,n,s)}else if(it||Za(t,n,s,!1),g=(s&t.childLanes)!==0,it||g){if(g=ze,g!==null&&(l=Yh(g,s),l!==0&&l!==b.retryLane))throw b.retryLane=l,qi(t,l),Vt(g,t,l),hc;$c(p)||jl(),n=bc(t,n,s)}else $c(p)?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,Ye=rn(p.nextSibling),ht=n,Se=!0,yi=null,nn=!1,t!==null&&Md(n,t),n=pc(n,l.children),n.flags|=4096);return n}return u?(Ni(),p=l.fallback,u=n.mode,b=t.child,D=b.sibling,l=Kn(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,D!==null?p=Kn(D,p):(p=ea(p,u,s,null),p.flags|=2),p.return=n,l.return=n,l.sibling=p,n.child=l,es(null,l),l=n.child,p=t.child.memoizedState,p===null?p=mc(s):(u=p.cachePool,u!==null?(b=tt._currentValue,u=u.parent!==b?{parent:b,pool:b}:u):u=Wd(),p={baseLanes:p.baseLanes|s,cachePool:u}),l.memoizedState=p,l.childLanes=yc(t,g,s),n.memoizedState=gc,es(t.child,l)):(Ei(n),s=t.child,t=s.sibling,s=Kn(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function pc(t,n){return n=zl({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function zl(t,n){return t=Gt(22,t,null,n),t.lanes=0,t}function bc(t,n,s){return la(n,t.child,null,s),t=pc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function tm(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Bu(t.return,n,s)}function vc(t,n,s,l,u,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:u,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=u,g.treeForkCount=f)}function nm(t,n,s){var l=n.pendingProps,u=l.revealOrder,f=l.tail;l=l.children;var g=$e.current,p=(g&2)!==0;if(p?(g=g&1|2,n.flags|=128):g&=1,K($e,g),gt(t,n,l,s),l=Se?Gr:0,!p&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tm(t,s,n);else if(t.tag===19)tm(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(s=n.child,u=null;s!==null;)t=s.alternate,t!==null&&Il(t)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),vc(n,!1,u,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&Il(t)===null){n.child=u;break}t=u.sibling,u.sibling=s,s=u,u=t}vc(n,!0,s,null,f,l);break;case"together":vc(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Hn(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ii|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Za(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Kn(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Kn(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Sc(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&bl(t)))}function CS(t,n,s){switch(n.tag){case 3:Nt(n,n.stateNode.containerInfo),bi(n,tt,t.memoizedState.cache),ta();break;case 27:case 5:Ir(n);break;case 4:Nt(n,n.stateNode.containerInfo);break;case 10:bi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ju(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ei(n),n.flags|=128,null):(s&n.child.childLanes)!==0?em(t,n,s):(Ei(n),t=Hn(t,n,s),t!==null?t.sibling:null);Ei(n);break;case 19:var u=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Za(t,n,s,!1),l=(s&n.childLanes)!==0),u){if(l)return nm(t,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),K($e,$e.current),l)break;return null;case 22:return n.lanes=0,Fg(t,n,s,n.pendingProps);case 24:bi(n,tt,t.memoizedState.cache)}return Hn(t,n,s)}function im(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)it=!0;else{if(!Sc(t,s)&&(n.flags&128)===0)return it=!1,CS(t,n,s);it=(t.flags&131072)!==0}else it=!1,Se&&(n.flags&1048576)!==0&&Ld(n,Gr,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ra(n.elementType),n.type=t,typeof t=="function")Ru(t)?(l=ua(t,l),n.tag=1,n=Pg(null,n,t,l,s)):(n.tag=0,n=dc(null,n,t,l,s));else{if(t!=null){var u=t.$$typeof;if(u===Ee){n.tag=11,n=Jg(null,n,t,l,s);break e}else if(u===J){n.tag=14,n=kg(null,n,t,l,s);break e}}throw n=_n(t)||t,Error(r(306,n,""))}}return n;case 0:return dc(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,u=ua(l,n.pendingProps),Pg(t,n,l,u,s);case 3:e:{if(Nt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;u=f.element,Yu(t,n),Hr(n,l,null,s);var g=n.memoizedState;if(l=g.cache,bi(n,tt,l),l!==f.cache&&Uu(n,[tt],s,!0),Fr(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=qg(t,n,l,s);break e}else if(l!==u){u=qt(Error(r(424)),n),Wr(u),n=qg(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ye=rn(t.firstChild),ht=n,Se=!0,yi=null,nn=!0,s=Fd(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ta(),l===u){n=Hn(t,n,s);break e}gt(t,n,l,s)}n=n.child}return n;case 26:return Zl(t,n),t===null?(s=gy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Se||(s=n.type,t=n.pendingProps,l=eo(he.current).createElement(s),l[ft]=n,l[Rt]=t,mt(l,s,t),lt(l),n.stateNode=l):n.memoizedState=gy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ir(n),t===null&&Se&&(l=n.stateNode=fy(n.type,n.pendingProps,he.current),ht=n,nn=!0,u=Ye,Vi(n.type)?(qc=u,Ye=rn(l.firstChild)):Ye=u),gt(t,n,n.pendingProps.children,s),Zl(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Se&&((u=l=Ye)&&(l=iA(l,n.type,n.pendingProps,nn),l!==null?(n.stateNode=l,ht=n,Ye=rn(l.firstChild),nn=!1,u=!0):u=!1),u||pi(n)),Ir(n),u=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Fc(u,f)?l=null:g!==null&&Fc(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=ju(t,n,bS,null,null,s),ms._currentValue=u),Zl(t,n),gt(t,n,l,s),n.child;case 6:return t===null&&Se&&((t=s=Ye)&&(s=aA(s,n.pendingProps,nn),s!==null?(n.stateNode=s,ht=n,Ye=null,t=!0):t=!1),t||pi(n)),null;case 13:return em(t,n,s);case 4:return Nt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=la(n,null,l,s):gt(t,n,l,s),n.child;case 11:return Jg(t,n,n.type,n.pendingProps,s);case 7:return gt(t,n,n.pendingProps,s),n.child;case 8:return gt(t,n,n.pendingProps.children,s),n.child;case 12:return gt(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,bi(n,n.type,l.value),gt(t,n,l.children,s),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,ia(n),u=dt(u),l=l(u),n.flags|=1,gt(t,n,l,s),n.child;case 14:return kg(t,n,n.type,n.pendingProps,s);case 15:return jg(t,n,n.type,n.pendingProps,s);case 19:return nm(t,n,s);case 31:return IS(t,n,s);case 22:return Fg(t,n,s,n.pendingProps);case 24:return ia(n),l=dt(tt),t===null?(u=Zu(),u===null&&(u=ze,f=Lu(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=s),u=f),n.memoizedState={parent:l,cache:u},_u(n),bi(n,tt,u)):((t.lanes&s)!==0&&(Yu(t,n),Hr(n,null,null,s),Fr()),u=t.memoizedState,f=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),bi(n,tt,l)):(l=f.cache,bi(n,tt,l),l!==u.cache&&Uu(n,[tt],s,!0))),gt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Qn(t){t.flags|=4}function Ac(t,n,s,l,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(Om())t.flags|=8192;else throw sa=El,zu}else t.flags&=-16777217}function am(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vy(n))if(Om())t.flags|=8192;else throw sa=El,zu}function _l(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Zh():536870912,t.lanes|=n,Ha|=n)}function ts(t,n){if(!Se)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ge(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var u=t.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function wS(t,n,s){var l=n.pendingProps;switch(Du(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return Ge(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),kn(tt),Qe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ma(n)?Qn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Vu())),Ge(n),null;case 26:var u=n.type,f=n.memoizedState;return t===null?(Qn(n),f!==null?(Ge(n),am(n,f)):(Ge(n),Ac(n,u,null,l,s))):f?f!==t.memoizedState?(Qn(n),Ge(n),am(n,f)):(Ge(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qn(n),Ge(n),Ac(n,u,t,l,s)),null;case 27:if(Qs(n),s=he.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Qn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ge(n),null}t=k.current,Ma(n)?Zd(n):(t=fy(u,l,s),n.stateNode=t,Qn(n))}return Ge(n),null;case 5:if(Qs(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Qn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ge(n),null}if(f=k.current,Ma(n))Zd(n);else{var g=eo(he.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(u,{is:l.is}):g.createElement(u)}}f[ft]=n,f[Rt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(mt(f,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qn(n)}}return Ge(n),Ac(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Qn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=he.current,Ma(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,u=ht,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}t[ft]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||ey(t.nodeValue,s)),t||pi(n,!0)}else t=eo(t).createTextNode(l),t[ft]=n,n.stateNode=t}return Ge(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ma(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ft]=n}else ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),t=!1}else s=Vu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Kt(n),n):(Kt(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Ge(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Ma(n),l!==null&&l.dehydrated!==null){if(t===null){if(!u)throw Error(r(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[ft]=n}else ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),u=!1}else u=Vu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(Kt(n),n):(Kt(n),null)}return Kt(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),_l(n,n.updateQueue),Ge(n),null);case 4:return Qe(),t===null&&Kc(n.stateNode.containerInfo),Ge(n),null;case 10:return kn(n.type),Ge(n),null;case 19:if(z($e),l=n.memoizedState,l===null)return Ge(n),null;if(u=(n.flags&128)!==0,f=l.rendering,f===null)if(u)ts(l,!1);else{if(He!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Il(t),f!==null){for(n.flags|=128,ts(l,!1),t=f.updateQueue,n.updateQueue=t,_l(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)xd(s,t),s=s.sibling;return K($e,$e.current&1|2),Se&&Xn(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Zt()>Xl&&(n.flags|=128,u=!0,ts(l,!1),n.lanes=4194304)}else{if(!u)if(t=Il(f),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,_l(n,t),ts(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Se)return Ge(n),null}else 2*Zt()-l.renderingStartTime>Xl&&s!==536870912&&(n.flags|=128,u=!0,ts(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Zt(),t.sibling=null,s=$e.current,K($e,u?s&1|2:s&1),Se&&Xn(n,l.treeForkCount),t):(Ge(n),null);case 22:case 23:return Kt(n),Xu(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),s=n.updateQueue,s!==null&&_l(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&z(aa),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),kn(tt),Ge(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function DS(t,n){switch(Du(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return kn(tt),Qe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Qs(n),null;case 31:if(n.memoizedState!==null){if(Kt(n),n.alternate===null)throw Error(r(340));ta()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Kt(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ta()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return z($e),null;case 4:return Qe(),null;case 10:return kn(n.type),null;case 22:case 23:return Kt(n),Xu(),t!==null&&z(aa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return kn(tt),null;case 25:return null;default:return null}}function rm(t,n){switch(Du(n),n.tag){case 3:kn(tt),Qe();break;case 26:case 27:case 5:Qs(n);break;case 4:Qe();break;case 31:n.memoizedState!==null&&Kt(n);break;case 13:Kt(n);break;case 19:z($e);break;case 10:kn(n.type);break;case 22:case 23:Kt(n),Xu(),t!==null&&z(aa);break;case 24:kn(tt)}}function ns(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var u=l.next;s=u;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==u)}}catch(p){Ve(n,n.return,p)}}function Ti(t,n,s){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&t)===t){var g=l.inst,p=g.destroy;if(p!==void 0){g.destroy=void 0,u=n;var b=s,D=p;try{D()}catch(B){Ve(u,b,B)}}}l=l.next}while(l!==f)}}catch(B){Ve(n,n.return,B)}}function sm(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Qd(n,s)}catch(l){Ve(t,t.return,l)}}}function lm(t,n,s){s.props=ua(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ve(t,n,l)}}function is(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(u){Ve(t,n,u)}}function On(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(u){Ve(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){Ve(t,n,u)}else s.current=null}function om(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(u){Ve(t,t.return,u)}}function Ec(t,n,s){try{var l=t.stateNode;$S(l,t.type,s,n),l[Rt]=n}catch(u){Ve(t,t.return,u)}}function um(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vi(t.type)||t.tag===4}function Nc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||um(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tc(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Gn));else if(l!==4&&(l===27&&Vi(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Tc(t,n,s),t=t.sibling;t!==null;)Tc(t,n,s),t=t.sibling}function Yl(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Vi(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Yl(t,n,s),t=t.sibling;t!==null;)Yl(t,n,s),t=t.sibling}function cm(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);mt(n,l,s),n[ft]=t,n[Rt]=s}catch(f){Ve(t,t.return,f)}}var $n=!1,at=!1,Rc=!1,fm=typeof WeakSet=="function"?WeakSet:Set,ot=null;function OS(t,n){if(t=t.containerInfo,kc=lo,t=Nd(t),bu(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,p=-1,b=-1,D=0,B=0,Z=t,O=null;t:for(;;){for(var x;Z!==s||u!==0&&Z.nodeType!==3||(p=g+u),Z!==f||l!==0&&Z.nodeType!==3||(b=g+l),Z.nodeType===3&&(g+=Z.nodeValue.length),(x=Z.firstChild)!==null;)O=Z,Z=x;for(;;){if(Z===t)break t;if(O===s&&++D===u&&(p=g),O===f&&++B===l&&(b=g),(x=Z.nextSibling)!==null)break;Z=O,O=Z.parentNode}Z=x}s=p===-1||b===-1?null:{start:p,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(jc={focusedElem:t,selectionRange:s},lo=!1,ot=n;ot!==null;)if(n=ot,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ot=t;else for(;ot!==null;){switch(n=ot,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)u=t[s],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,u=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var X=ua(s.type,u);t=l.getSnapshotBeforeUpdate(X,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ee){Ve(s,s.return,ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Qc(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,ot=t;break}ot=n.return}}function hm(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:qn(t,s),l&4&&ns(5,s);break;case 1:if(qn(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Ve(s,s.return,g)}else{var u=ua(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ve(s,s.return,g)}}l&64&&sm(s),l&512&&is(s,s.return);break;case 3:if(qn(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Qd(t,n)}catch(g){Ve(s,s.return,g)}}break;case 27:n===null&&l&4&&cm(s);case 26:case 5:qn(t,s),n===null&&l&4&&om(s),l&512&&is(s,s.return);break;case 12:qn(t,s);break;case 31:qn(t,s),l&4&&mm(t,s);break;case 13:qn(t,s),l&4&&ym(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=_S.bind(null,s),rA(t,s))));break;case 22:if(l=s.memoizedState!==null||$n,!l){n=n!==null&&n.memoizedState!==null||at,u=$n;var f=at;$n=l,(at=n)&&!f?ei(t,s,(s.subtreeFlags&8772)!==0):qn(t,s),$n=u,at=f}break;case 30:break;default:qn(t,s)}}function dm(t){var n=t.alternate;n!==null&&(t.alternate=null,dm(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&tu(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Xe=null,Ct=!1;function Pn(t,n,s){for(s=s.child;s!==null;)gm(t,n,s),s=s.sibling}function gm(t,n,s){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Cr,s)}catch{}switch(s.tag){case 26:at||On(s,n),Pn(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:at||On(s,n);var l=Xe,u=Ct;Vi(s.type)&&(Xe=s.stateNode,Ct=!1),Pn(t,n,s),hs(s.stateNode),Xe=l,Ct=u;break;case 5:at||On(s,n);case 6:if(l=Xe,u=Ct,Xe=null,Pn(t,n,s),Xe=l,Ct=u,Xe!==null)if(Ct)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(s.stateNode)}catch(f){Ve(s,n,f)}else try{Xe.removeChild(s.stateNode)}catch(f){Ve(s,n,f)}break;case 18:Xe!==null&&(Ct?(t=Xe,sy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),ir(t)):sy(Xe,s.stateNode));break;case 4:l=Xe,u=Ct,Xe=s.stateNode.containerInfo,Ct=!0,Pn(t,n,s),Xe=l,Ct=u;break;case 0:case 11:case 14:case 15:Ti(2,s,n),at||Ti(4,s,n),Pn(t,n,s);break;case 1:at||(On(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&lm(s,n,l)),Pn(t,n,s);break;case 21:Pn(t,n,s);break;case 22:at=(l=at)||s.memoizedState!==null,Pn(t,n,s),at=l;break;default:Pn(t,n,s)}}function mm(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ir(t)}catch(s){Ve(n,n.return,s)}}}function ym(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ir(t)}catch(s){Ve(n,n.return,s)}}function VS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new fm),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new fm),n;default:throw Error(r(435,t.tag))}}function Gl(t,n){var s=VS(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var u=YS.bind(null,t,l);l.then(u,u)}})}function wt(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var u=s[l],f=t,g=n,p=g;e:for(;p!==null;){switch(p.tag){case 27:if(Vi(p.type)){Xe=p.stateNode,Ct=!1;break e}break;case 5:Xe=p.stateNode,Ct=!1;break e;case 3:case 4:Xe=p.stateNode.containerInfo,Ct=!0;break e}p=p.return}if(Xe===null)throw Error(r(160));gm(f,g,u),Xe=null,Ct=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)pm(n,t),n=n.sibling}var pn=null;function pm(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wt(n,t),Dt(t),l&4&&(Ti(3,t,t.return),ns(3,t),Ti(5,t,t.return));break;case 1:wt(n,t),Dt(t),l&512&&(at||s===null||On(s,s.return)),l&64&&$n&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var u=pn;if(wt(n,t),Dt(t),l&512&&(at||s===null||On(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Or]||f[ft]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),mt(f,l,s),f[ft]=t,lt(f),l=f;break e;case"link":var g=py("link","href",u).get(l+(s.href||""));if(g){for(var p=0;p<g.length;p++)if(f=g[p],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(p,1);break t}}f=u.createElement(l),mt(f,l,s),u.head.appendChild(f);break;case"meta":if(g=py("meta","content",u).get(l+(s.content||""))){for(p=0;p<g.length;p++)if(f=g[p],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(p,1);break t}}f=u.createElement(l),mt(f,l,s),u.head.appendChild(f);break;default:throw Error(r(468,l))}f[ft]=t,lt(f),l=f}t.stateNode=l}else by(u,t.type,t.stateNode);else t.stateNode=yy(u,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?by(u,t.type,t.stateNode):yy(u,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ec(t,t.memoizedProps,s.memoizedProps)}break;case 27:wt(n,t),Dt(t),l&512&&(at||s===null||On(s,s.return)),s!==null&&l&4&&Ec(t,t.memoizedProps,s.memoizedProps);break;case 5:if(wt(n,t),Dt(t),l&512&&(at||s===null||On(s,s.return)),t.flags&32){u=t.stateNode;try{Ia(u,"")}catch(X){Ve(t,t.return,X)}}l&4&&t.stateNode!=null&&(u=t.memoizedProps,Ec(t,u,s!==null?s.memoizedProps:u)),l&1024&&(Rc=!0);break;case 6:if(wt(n,t),Dt(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(X){Ve(t,t.return,X)}}break;case 3:if(io=null,u=pn,pn=to(n.containerInfo),wt(n,t),pn=u,Dt(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ir(n.containerInfo)}catch(X){Ve(t,t.return,X)}Rc&&(Rc=!1,bm(t));break;case 4:l=pn,pn=to(t.stateNode.containerInfo),wt(n,t),Dt(t),pn=l;break;case 12:wt(n,t),Dt(t);break;case 31:wt(n,t),Dt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gl(t,l)));break;case 13:wt(n,t),Dt(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Kl=Zt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gl(t,l)));break;case 22:u=t.memoizedState!==null;var b=s!==null&&s.memoizedState!==null,D=$n,B=at;if($n=D||u,at=B||b,wt(n,t),at=B,$n=D,Dt(t),l&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(s===null||b||$n||at||ca(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){b=s=n;try{if(f=b.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{p=b.stateNode;var Z=b.memoizedProps.style,O=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;p.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(X){Ve(b,b.return,X)}}}else if(n.tag===6){if(s===null){b=n;try{b.stateNode.nodeValue=u?"":b.memoizedProps}catch(X){Ve(b,b.return,X)}}}else if(n.tag===18){if(s===null){b=n;try{var x=b.stateNode;u?ly(x,!0):ly(b.stateNode,!1)}catch(X){Ve(b,b.return,X)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Gl(t,s))));break;case 19:wt(n,t),Dt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gl(t,l)));break;case 30:break;case 21:break;default:wt(n,t),Dt(t)}}function Dt(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(um(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var u=s.stateNode,f=Nc(t);Yl(t,f,u);break;case 5:var g=s.stateNode;s.flags&32&&(Ia(g,""),s.flags&=-33);var p=Nc(t);Yl(t,p,g);break;case 3:case 4:var b=s.stateNode.containerInfo,D=Nc(t);Tc(t,D,b);break;default:throw Error(r(161))}}catch(B){Ve(t,t.return,B)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function bm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;bm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function qn(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hm(t,n.alternate,n),n=n.sibling}function ca(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ti(4,n,n.return),ca(n);break;case 1:On(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&lm(n,n.return,s),ca(n);break;case 27:hs(n.stateNode);case 26:case 5:On(n,n.return),ca(n);break;case 22:n.memoizedState===null&&ca(n);break;case 30:ca(n);break;default:ca(n)}t=t.sibling}}function ei(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ei(u,f,s),ns(4,f);break;case 1:if(ei(u,f,s),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(D){Ve(l,l.return,D)}if(l=f,u=l.updateQueue,u!==null){var p=l.stateNode;try{var b=u.shared.hiddenCallbacks;if(b!==null)for(u.shared.hiddenCallbacks=null,u=0;u<b.length;u++)Hd(b[u],p)}catch(D){Ve(l,l.return,D)}}s&&g&64&&sm(f),is(f,f.return);break;case 27:cm(f);case 26:case 5:ei(u,f,s),s&&l===null&&g&4&&om(f),is(f,f.return);break;case 12:ei(u,f,s);break;case 31:ei(u,f,s),s&&g&4&&mm(u,f);break;case 13:ei(u,f,s),s&&g&4&&ym(u,f);break;case 22:f.memoizedState===null&&ei(u,f,s),is(f,f.return);break;case 30:break;default:ei(u,f,s)}n=n.sibling}}function Ic(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Kr(s))}function Cc(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Kr(t))}function bn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vm(t,n,s,l),n=n.sibling}function vm(t,n,s,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:bn(t,n,s,l),u&2048&&ns(9,n);break;case 1:bn(t,n,s,l);break;case 3:bn(t,n,s,l),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Kr(t)));break;case 12:if(u&2048){bn(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,p=f.onPostCommit;typeof p=="function"&&p(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ve(n,n.return,b)}}else bn(t,n,s,l);break;case 31:bn(t,n,s,l);break;case 13:bn(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?bn(t,n,s,l):as(t,n):f._visibility&2?bn(t,n,s,l):(f._visibility|=2,ka(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Ic(g,n);break;case 24:bn(t,n,s,l),u&2048&&Cc(n.alternate,n);break;default:bn(t,n,s,l)}}function ka(t,n,s,l,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,p=s,b=l,D=g.flags;switch(g.tag){case 0:case 11:case 15:ka(f,g,p,b,u),ns(8,g);break;case 23:break;case 22:var B=g.stateNode;g.memoizedState!==null?B._visibility&2?ka(f,g,p,b,u):as(f,g):(B._visibility|=2,ka(f,g,p,b,u)),u&&D&2048&&Ic(g.alternate,g);break;case 24:ka(f,g,p,b,u),u&&D&2048&&Cc(g.alternate,g);break;default:ka(f,g,p,b,u)}n=n.sibling}}function as(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,u=l.flags;switch(l.tag){case 22:as(s,l),u&2048&&Ic(l.alternate,l);break;case 24:as(s,l),u&2048&&Cc(l.alternate,l);break;default:as(s,l)}n=n.sibling}}var rs=8192;function ja(t,n,s){if(t.subtreeFlags&rs)for(t=t.child;t!==null;)Sm(t,n,s),t=t.sibling}function Sm(t,n,s){switch(t.tag){case 26:ja(t,n,s),t.flags&rs&&t.memoizedState!==null&&pA(s,pn,t.memoizedState,t.memoizedProps);break;case 5:ja(t,n,s);break;case 3:case 4:var l=pn;pn=to(t.stateNode.containerInfo),ja(t,n,s),pn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=rs,rs=16777216,ja(t,n,s),rs=l):ja(t,n,s));break;default:ja(t,n,s)}}function Am(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ss(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ot=l,Nm(l,t)}Am(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Em(t),t=t.sibling}function Em(t){switch(t.tag){case 0:case 11:case 15:ss(t),t.flags&2048&&Ti(9,t,t.return);break;case 3:ss(t);break;case 12:ss(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Wl(t)):ss(t);break;default:ss(t)}}function Wl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ot=l,Nm(l,t)}Am(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ti(8,n,n.return),Wl(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Wl(n));break;default:Wl(n)}t=t.sibling}}function Nm(t,n){for(;ot!==null;){var s=ot;switch(s.tag){case 0:case 11:case 15:Ti(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Kr(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ot=l;else e:for(s=t;ot!==null;){l=ot;var u=l.sibling,f=l.return;if(dm(l),l===s){ot=null;break e}if(u!==null){u.return=f,ot=u;break e}ot=f}}}var xS={getCacheForType:function(t){var n=dt(tt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return dt(tt).controller.signal}},BS=typeof WeakMap=="function"?WeakMap:Map,Ie=0,ze=null,de=null,pe=0,Oe=0,Xt=null,Ri=!1,Fa=!1,wc=!1,ti=0,He=0,Ii=0,fa=0,Dc=0,Jt=0,Ha=0,ls=null,Ot=null,Oc=!1,Kl=0,Tm=0,Xl=1/0,Jl=null,Ci=null,st=0,wi=null,Qa=null,ni=0,Vc=0,xc=null,Rm=null,os=0,Bc=null;function kt(){return(Ie&2)!==0&&pe!==0?pe&-pe:U.T!==null?_c():Gh()}function Im(){if(Jt===0)if((pe&536870912)===0||Se){var t=qs;qs<<=1,(qs&3932160)===0&&(qs=262144),Jt=t}else Jt=536870912;return t=Wt.current,t!==null&&(t.flags|=32),Jt}function Vt(t,n,s){(t===ze&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)&&($a(t,0),Di(t,pe,Jt,!1)),Dr(t,s),((Ie&2)===0||t!==ze)&&(t===ze&&((Ie&2)===0&&(fa|=s),He===4&&Di(t,pe,Jt,!1)),Vn(t))}function Cm(t,n,s){if((Ie&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||wr(t,n),u=l?MS(t,n):Lc(t,n,!0),f=l;do{if(u===0){Fa&&!l&&Di(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!US(s)){u=Lc(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var p=t;u=ls;var b=p.current.memoizedState.isDehydrated;if(b&&($a(p,g).flags|=256),g=Lc(p,g,!1),g!==2){if(wc&&!b){p.errorRecoveryDisabledLanes|=f,fa|=f,u=4;break e}f=Ot,Ot=u,f!==null&&(Ot===null?Ot=f:Ot.push.apply(Ot,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){$a(t,0),Di(t,n,0,!0);break}e:{switch(l=t,f=u,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Di(l,n,Jt,!Ri);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(u=Kl+300-Zt(),10<u)){if(Di(l,n,Jt,!Ri),tl(l,0,!0)!==0)break e;ni=n,l.timeoutHandle=ay(wm.bind(null,l,s,Ot,Jl,Oc,n,Jt,fa,Ha,Ri,f,"Throttled",-0,0),u);break e}wm(l,s,Ot,Jl,Oc,n,Jt,fa,Ha,Ri,f,null,-0,0)}}break}while(!0);Vn(t)}function wm(t,n,s,l,u,f,g,p,b,D,B,Z,O,x){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Sm(n,f,Z);var X=(f&62914560)===f?Kl-Zt():(f&4194048)===f?Tm-Zt():0;if(X=bA(Z,X),X!==null){ni=f,t.cancelPendingCommit=X(Mm.bind(null,t,n,f,s,l,u,g,p,b,B,Z,null,O,x)),Di(t,f,g,!D);return}}Mm(t,n,f,s,l,u,g,p,b)}function US(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var u=s[l],f=u.getSnapshot;u=u.value;try{if(!Yt(f(),u))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Di(t,n,s,l){n&=~Dc,n&=~fa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var u=n;0<u;){var f=31-_t(u),g=1<<f;l[f]=-1,u&=~g}s!==0&&zh(t,s,n)}function kl(){return(Ie&6)===0?(us(0),!1):!0}function Uc(){if(de!==null){if(Oe===0)var t=de.return;else t=de,Jn=na=null,Qu(t),Ga=null,Jr=0,t=de;for(;t!==null;)rm(t.alternate,t),t=t.return;de=null}}function $a(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,eA(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ni=0,Uc(),ze=t,de=s=Kn(t.current,null),pe=n,Oe=0,Xt=null,Ri=!1,Fa=wr(t,n),wc=!1,Ha=Jt=Dc=fa=Ii=He=0,Ot=ls=null,Oc=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var u=31-_t(l),f=1<<u;n|=t[u],l&=~f}return ti=n,dl(),s}function Dm(t,n){le=null,U.H=qr,n===Ya||n===Al?(n=Jd(),Oe=3):n===zu?(n=Jd(),Oe=4):Oe=n===hc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Xt=n,de===null&&(He=1,Ll(t,qt(n,t.current)))}function Om(){var t=Wt.current;return t===null?!0:(pe&4194048)===pe?an===null:(pe&62914560)===pe||(pe&536870912)!==0?t===an:!1}function Vm(){var t=U.H;return U.H=qr,t===null?qr:t}function xm(){var t=U.A;return U.A=xS,t}function jl(){He=4,Ri||(pe&4194048)!==pe&&Wt.current!==null||(Fa=!0),(Ii&134217727)===0&&(fa&134217727)===0||ze===null||Di(ze,pe,Jt,!1)}function Lc(t,n,s){var l=Ie;Ie|=2;var u=Vm(),f=xm();(ze!==t||pe!==n)&&(Jl=null,$a(t,n)),n=!1;var g=He;e:do try{if(Oe!==0&&de!==null){var p=de,b=Xt;switch(Oe){case 8:Uc(),g=6;break e;case 3:case 2:case 9:case 6:Wt.current===null&&(n=!0);var D=Oe;if(Oe=0,Xt=null,Pa(t,p,b,D),s&&Fa){g=0;break e}break;default:D=Oe,Oe=0,Xt=null,Pa(t,p,b,D)}}LS(),g=He;break}catch(B){Dm(t,B)}while(!0);return n&&t.shellSuspendCounter++,Jn=na=null,Ie=l,U.H=u,U.A=f,de===null&&(ze=null,pe=0,dl()),g}function LS(){for(;de!==null;)Bm(de)}function MS(t,n){var s=Ie;Ie|=2;var l=Vm(),u=xm();ze!==t||pe!==n?(Jl=null,Xl=Zt()+500,$a(t,n)):Fa=wr(t,n);e:do try{if(Oe!==0&&de!==null){n=de;var f=Xt;t:switch(Oe){case 1:Oe=0,Xt=null,Pa(t,n,f,1);break;case 2:case 9:if(Kd(f)){Oe=0,Xt=null,Um(n);break}n=function(){Oe!==2&&Oe!==9||ze!==t||(Oe=7),Vn(t)},f.then(n,n);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Kd(f)?(Oe=0,Xt=null,Um(n)):(Oe=0,Xt=null,Pa(t,n,f,7));break;case 5:var g=null;switch(de.tag){case 26:g=de.memoizedState;case 5:case 27:var p=de;if(g?vy(g):p.stateNode.complete){Oe=0,Xt=null;var b=p.sibling;if(b!==null)de=b;else{var D=p.return;D!==null?(de=D,Fl(D)):de=null}break t}}Oe=0,Xt=null,Pa(t,n,f,5);break;case 6:Oe=0,Xt=null,Pa(t,n,f,6);break;case 8:Uc(),He=6;break e;default:throw Error(r(462))}}ZS();break}catch(B){Dm(t,B)}while(!0);return Jn=na=null,U.H=l,U.A=u,Ie=s,de!==null?0:(ze=null,pe=0,dl(),He)}function ZS(){for(;de!==null&&!s0();)Bm(de)}function Bm(t){var n=im(t.alternate,t,ti);t.memoizedProps=t.pendingProps,n===null?Fl(t):de=n}function Um(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=$g(s,n,n.pendingProps,n.type,void 0,pe);break;case 11:n=$g(s,n,n.pendingProps,n.type.render,n.ref,pe);break;case 5:Qu(n);default:rm(s,n),n=de=xd(n,ti),n=im(s,n,ti)}t.memoizedProps=t.pendingProps,n===null?Fl(t):de=n}function Pa(t,n,s,l){Jn=na=null,Qu(n),Ga=null,Jr=0;var u=n.return;try{if(RS(t,u,n,s,pe)){He=1,Ll(t,qt(s,t.current)),de=null;return}}catch(f){if(u!==null)throw de=u,f;He=1,Ll(t,qt(s,t.current)),de=null;return}n.flags&32768?(Se||l===1?t=!0:Fa||(pe&536870912)!==0?t=!1:(Ri=t=!0,(l===2||l===9||l===3||l===6)&&(l=Wt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lm(n,t)):Fl(n)}function Fl(t){var n=t;do{if((n.flags&32768)!==0){Lm(n,Ri);return}t=n.return;var s=wS(n.alternate,n,ti);if(s!==null){de=s;return}if(n=n.sibling,n!==null){de=n;return}de=n=t}while(n!==null);He===0&&(He=5)}function Lm(t,n){do{var s=DS(t.alternate,t);if(s!==null){s.flags&=32767,de=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){de=t;return}de=t=s}while(t!==null);He=6,de=null}function Mm(t,n,s,l,u,f,g,p,b){t.cancelPendingCommit=null;do Hl();while(st!==0);if((Ie&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Nu,y0(t,s,f,g,p,b),t===ze&&(de=ze=null,pe=0),Qa=n,wi=t,ni=s,Vc=f,xc=u,Rm=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,GS($s,function(){return Gm(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,u=W.p,W.p=2,g=Ie,Ie|=4;try{OS(t,n,s)}finally{Ie=g,W.p=u,U.T=l}}st=1,Zm(),zm(),_m()}}function Zm(){if(st===1){st=0;var t=wi,n=Qa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=U.T,U.T=null;var l=W.p;W.p=2;var u=Ie;Ie|=4;try{pm(n,t);var f=jc,g=Nd(t.containerInfo),p=f.focusedElem,b=f.selectionRange;if(g!==p&&p&&p.ownerDocument&&Ed(p.ownerDocument.documentElement,p)){if(b!==null&&bu(p)){var D=b.start,B=b.end;if(B===void 0&&(B=D),"selectionStart"in p)p.selectionStart=D,p.selectionEnd=Math.min(B,p.value.length);else{var Z=p.ownerDocument||document,O=Z&&Z.defaultView||window;if(O.getSelection){var x=O.getSelection(),X=p.textContent.length,ee=Math.min(b.start,X),Me=b.end===void 0?ee:Math.min(b.end,X);!x.extend&&ee>Me&&(g=Me,Me=ee,ee=g);var R=Ad(p,ee),S=Ad(p,Me);if(R&&S&&(x.rangeCount!==1||x.anchorNode!==R.node||x.anchorOffset!==R.offset||x.focusNode!==S.node||x.focusOffset!==S.offset)){var w=Z.createRange();w.setStart(R.node,R.offset),x.removeAllRanges(),ee>Me?(x.addRange(w),x.extend(S.node,S.offset)):(w.setEnd(S.node,S.offset),x.addRange(w))}}}}for(Z=[],x=p;x=x.parentNode;)x.nodeType===1&&Z.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<Z.length;p++){var M=Z[p];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}lo=!!kc,jc=kc=null}finally{Ie=u,W.p=l,U.T=s}}t.current=n,st=2}}function zm(){if(st===2){st=0;var t=wi,n=Qa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=U.T,U.T=null;var l=W.p;W.p=2;var u=Ie;Ie|=4;try{hm(t,n.alternate,n)}finally{Ie=u,W.p=l,U.T=s}}st=3}}function _m(){if(st===4||st===3){st=0,l0();var t=wi,n=Qa,s=ni,l=Rm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?st=5:(st=0,Qa=wi=null,Ym(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Ci=null),qo(s),n=n.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Cr,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=U.T,u=W.p,W.p=2,U.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var p=l[g];f(p.value,{componentStack:p.stack})}}finally{U.T=n,W.p=u}}(ni&3)!==0&&Hl(),Vn(t),u=t.pendingLanes,(s&261930)!==0&&(u&42)!==0?t===Bc?os++:(os=0,Bc=t):os=0,us(0)}}function Ym(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Kr(n)))}function Hl(){return Zm(),zm(),_m(),Gm()}function Gm(){if(st!==5)return!1;var t=wi,n=Vc;Vc=0;var s=qo(ni),l=U.T,u=W.p;try{W.p=32>s?32:s,U.T=null,s=xc,xc=null;var f=wi,g=ni;if(st=0,Qa=wi=null,ni=0,(Ie&6)!==0)throw Error(r(331));var p=Ie;if(Ie|=4,Em(f.current),vm(f,f.current,g,s),Ie=p,us(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Cr,f)}catch{}return!0}finally{W.p=u,U.T=l,Ym(t,n)}}function Wm(t,n,s){n=qt(s,n),n=fc(t.stateNode,n,2),t=Ai(t,n,2),t!==null&&(Dr(t,2),Vn(t))}function Ve(t,n,s){if(t.tag===3)Wm(t,t,s);else for(;n!==null;){if(n.tag===3){Wm(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ci===null||!Ci.has(l))){t=qt(s,t),s=Kg(2),l=Ai(n,s,2),l!==null&&(Xg(s,l,n,t),Dr(l,2),Vn(l));break}}n=n.return}}function Mc(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new BS;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(s)||(wc=!0,u.add(s),t=zS.bind(null,t,n,s),n.then(t,t))}function zS(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ze===t&&(pe&s)===s&&(He===4||He===3&&(pe&62914560)===pe&&300>Zt()-Kl?(Ie&2)===0&&$a(t,0):Dc|=s,Ha===pe&&(Ha=0)),Vn(t)}function Km(t,n){n===0&&(n=Zh()),t=qi(t,n),t!==null&&(Dr(t,n),Vn(t))}function _S(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Km(t,s)}function YS(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,u=t.memoizedState;u!==null&&(s=u.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Km(t,s)}function GS(t,n){return Ho(t,n)}var Ql=null,qa=null,Zc=!1,$l=!1,zc=!1,Oi=0;function Vn(t){t!==qa&&t.next===null&&(qa===null?Ql=qa=t:qa=qa.next=t),$l=!0,Zc||(Zc=!0,KS())}function us(t,n){if(!zc&&$l){zc=!0;do for(var s=!1,l=Ql;l!==null;){if(t!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var g=l.suspendedLanes,p=l.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=u&~(g&~p),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,jm(l,f))}else f=pe,f=tl(l,l===ze?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||wr(l,f)||(s=!0,jm(l,f));l=l.next}while(s);zc=!1}}function WS(){Xm()}function Xm(){$l=Zc=!1;var t=0;Oi!==0&&qS()&&(t=Oi);for(var n=Zt(),s=null,l=Ql;l!==null;){var u=l.next,f=Jm(l,n);f===0?(l.next=null,s===null?Ql=u:s.next=u,u===null&&(qa=s)):(s=l,(t!==0||(f&3)!==0)&&($l=!0)),l=u}st!==0&&st!==5||us(t),Oi!==0&&(Oi=0)}function Jm(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-_t(f),p=1<<g,b=u[g];b===-1?((p&s)===0||(p&l)!==0)&&(u[g]=m0(p,n)):b<=n&&(t.expiredLanes|=p),f&=~p}if(n=ze,s=pe,s=tl(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qo(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||wr(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Qo(l),qo(s)){case 2:case 8:s=Lh;break;case 32:s=$s;break;case 268435456:s=Mh;break;default:s=$s}return l=km.bind(null,t),s=Ho(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Qo(l),t.callbackPriority=2,t.callbackNode=null,2}function km(t,n){if(st!==0&&st!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Hl()&&t.callbackNode!==s)return null;var l=pe;return l=tl(t,t===ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Cm(t,l,n),Jm(t,Zt()),t.callbackNode!=null&&t.callbackNode===s?km.bind(null,t):null)}function jm(t,n){if(Hl())return null;Cm(t,n,!0)}function KS(){tA(function(){(Ie&6)!==0?Ho(Uh,WS):Xm()})}function _c(){if(Oi===0){var t=za;t===0&&(t=Ps,Ps<<=1,(Ps&261888)===0&&(Ps=256)),Oi=t}return Oi}function Fm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:rl(""+t)}function Hm(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function XS(t,n,s,l,u){if(n==="submit"&&s&&s.stateNode===u){var f=Fm((u[Rt]||null).action),g=l.submitter;g&&(n=(n=g[Rt]||null)?Fm(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var p=new ul("action","action",null,l,u);t.push({event:p,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Oi!==0){var b=g?Hm(u,g):new FormData(u);rc(s,{pending:!0,data:b,method:u.method,action:f},null,b)}}else typeof f=="function"&&(p.preventDefault(),b=g?Hm(u,g):new FormData(u),rc(s,{pending:!0,data:b,method:u.method,action:f},f,b))},currentTarget:u}]})}}for(var Yc=0;Yc<Eu.length;Yc++){var Gc=Eu[Yc],JS=Gc.toLowerCase(),kS=Gc[0].toUpperCase()+Gc.slice(1);yn(JS,"on"+kS)}yn(Id,"onAnimationEnd"),yn(Cd,"onAnimationIteration"),yn(wd,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(oS,"onTransitionRun"),yn(uS,"onTransitionStart"),yn(cS,"onTransitionCancel"),yn(Dd,"onTransitionEnd"),Ta("onMouseEnter",["mouseout","mouseover"]),Ta("onMouseLeave",["mouseout","mouseover"]),Ta("onPointerEnter",["pointerout","pointerover"]),Ta("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cs));function Qm(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],u=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var p=l[g],b=p.instance,D=p.currentTarget;if(p=p.listener,b!==f&&u.isPropagationStopped())break e;f=p,u.currentTarget=D;try{f(u)}catch(B){hl(B)}u.currentTarget=null,f=b}else for(g=0;g<l.length;g++){if(p=l[g],b=p.instance,D=p.currentTarget,p=p.listener,b!==f&&u.isPropagationStopped())break e;f=p,u.currentTarget=D;try{f(u)}catch(B){hl(B)}u.currentTarget=null,f=b}}}}function ge(t,n){var s=n[eu];s===void 0&&(s=n[eu]=new Set);var l=t+"__bubble";s.has(l)||($m(n,t,2,!1),s.add(l))}function Wc(t,n,s){var l=0;n&&(l|=4),$m(s,t,l,n)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function Kc(t){if(!t[Pl]){t[Pl]=!0,Xh.forEach(function(s){s!=="selectionchange"&&(jS.has(s)||Wc(s,!1,t),Wc(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Pl]||(n[Pl]=!0,Wc("selectionchange",!1,n))}}function $m(t,n,s,l){switch(Iy(n)){case 2:var u=AA;break;case 8:u=EA;break;default:u=rf}s=u.bind(null,n,s,t),u=void 0,!uu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?t.addEventListener(n,s,{capture:!0,passive:u}):t.addEventListener(n,s,!0):u!==void 0?t.addEventListener(n,s,{passive:u}):t.addEventListener(n,s,!1)}function Xc(t,n,s,l,u){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var p=l.stateNode.containerInfo;if(p===u)break;if(g===4)for(g=l.return;g!==null;){var b=g.tag;if((b===3||b===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;p!==null;){if(g=Aa(p),g===null)return;if(b=g.tag,b===5||b===6||b===26||b===27){l=f=g;continue e}p=p.parentNode}}l=l.return}nd(function(){var D=f,B=lu(s),Z=[];e:{var O=Od.get(t);if(O!==void 0){var x=ul,X=t;switch(t){case"keypress":if(ll(s)===0)break e;case"keydown":case"keyup":x=Y0;break;case"focusin":X="focus",x=du;break;case"focusout":X="blur",x=du;break;case"beforeblur":case"afterblur":x=du;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=w0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=K0;break;case Id:case Cd:case wd:x=V0;break;case Dd:x=J0;break;case"scroll":case"scrollend":x=I0;break;case"wheel":x=j0;break;case"copy":case"cut":case"paste":x=B0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ld;break;case"toggle":case"beforetoggle":x=H0}var ee=(n&4)!==0,Me=!ee&&(t==="scroll"||t==="scrollend"),R=ee?O!==null?O+"Capture":null:O;ee=[];for(var S=D,w;S!==null;){var M=S;if(w=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||w===null||R===null||(M=xr(S,R),M!=null&&ee.push(fs(S,M,w))),Me)break;S=S.return}0<ee.length&&(O=new x(O,X,null,s,B),Z.push({event:O,listeners:ee}))}}if((n&7)===0){e:{if(O=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",O&&s!==su&&(X=s.relatedTarget||s.fromElement)&&(Aa(X)||X[Sa]))break e;if((x||O)&&(O=B.window===B?B:(O=B.ownerDocument)?O.defaultView||O.parentWindow:window,x?(X=s.relatedTarget||s.toElement,x=D,X=X?Aa(X):null,X!==null&&(Me=c(X),ee=X.tag,X!==Me||ee!==5&&ee!==27&&ee!==6)&&(X=null)):(x=null,X=D),x!==X)){if(ee=rd,M="onMouseLeave",R="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(ee=ld,M="onPointerLeave",R="onPointerEnter",S="pointer"),Me=x==null?O:Vr(x),w=X==null?O:Vr(X),O=new ee(M,S+"leave",x,s,B),O.target=Me,O.relatedTarget=w,M=null,Aa(B)===D&&(ee=new ee(R,S+"enter",X,s,B),ee.target=w,ee.relatedTarget=Me,M=ee),Me=M,x&&X)t:{for(ee=FS,R=x,S=X,w=0,M=R;M;M=ee(M))w++;M=0;for(var $=S;$;$=ee($))M++;for(;0<w-M;)R=ee(R),w--;for(;0<M-w;)S=ee(S),M--;for(;w--;){if(R===S||S!==null&&R===S.alternate){ee=R;break t}R=ee(R),S=ee(S)}ee=null}else ee=null;x!==null&&Pm(Z,O,x,ee,!1),X!==null&&Me!==null&&Pm(Z,Me,X,ee,!0)}}e:{if(O=D?Vr(D):window,x=O.nodeName&&O.nodeName.toLowerCase(),x==="select"||x==="input"&&O.type==="file")var Te=md;else if(dd(O))if(yd)Te=rS;else{Te=iS;var F=nS}else x=O.nodeName,!x||x.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?D&&ru(D.elementType)&&(Te=md):Te=aS;if(Te&&(Te=Te(t,D))){gd(Z,Te,s,B);break e}F&&F(t,O,D),t==="focusout"&&D&&O.type==="number"&&D.memoizedProps.value!=null&&au(O,"number",O.value)}switch(F=D?Vr(D):window,t){case"focusin":(dd(F)||F.contentEditable==="true")&&(Oa=F,vu=D,Yr=null);break;case"focusout":Yr=vu=Oa=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,Td(Z,s,B);break;case"selectionchange":if(lS)break;case"keydown":case"keyup":Td(Z,s,B)}var oe;if(mu)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Da?fd(t,s)&&(be="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(be="onCompositionStart");be&&(od&&s.locale!=="ko"&&(Da||be!=="onCompositionStart"?be==="onCompositionEnd"&&Da&&(oe=id()):(gi=B,cu="value"in gi?gi.value:gi.textContent,Da=!0)),F=ql(D,be),0<F.length&&(be=new sd(be,t,null,s,B),Z.push({event:be,listeners:F}),oe?be.data=oe:(oe=hd(s),oe!==null&&(be.data=oe)))),(oe=$0?P0(t,s):q0(t,s))&&(be=ql(D,"onBeforeInput"),0<be.length&&(F=new sd("onBeforeInput","beforeinput",null,s,B),Z.push({event:F,listeners:be}),F.data=oe)),XS(Z,t,D,s,B)}Qm(Z,n)})}function fs(t,n,s){return{instance:t,listener:n,currentTarget:s}}function ql(t,n){for(var s=n+"Capture",l=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=xr(t,s),u!=null&&l.unshift(fs(t,u,f)),u=xr(t,n),u!=null&&l.push(fs(t,u,f))),t.tag===3)return l;t=t.return}return[]}function FS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pm(t,n,s,l,u){for(var f=n._reactName,g=[];s!==null&&s!==l;){var p=s,b=p.alternate,D=p.stateNode;if(p=p.tag,b!==null&&b===l)break;p!==5&&p!==26&&p!==27||D===null||(b=D,u?(D=xr(s,f),D!=null&&g.unshift(fs(s,D,b))):u||(D=xr(s,f),D!=null&&g.push(fs(s,D,b)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var HS=/\r\n?/g,QS=/\u0000|\uFFFD/g;function qm(t){return(typeof t=="string"?t:""+t).replace(HS,`
`).replace(QS,"")}function ey(t,n){return n=qm(n),qm(t)===n}function Le(t,n,s,l,u,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Ia(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Ia(t,""+l);break;case"className":il(t,"class",l);break;case"tabIndex":il(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":il(t,s,l);break;case"style":ed(t,l,f);break;case"data":if(n!=="object"){il(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=rl(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Le(t,n,"name",u.name,u,null),Le(t,n,"formEncType",u.formEncType,u,null),Le(t,n,"formMethod",u.formMethod,u,null),Le(t,n,"formTarget",u.formTarget,u,null)):(Le(t,n,"encType",u.encType,u,null),Le(t,n,"method",u.method,u,null),Le(t,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=rl(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"onScroll":l!=null&&ge("scroll",t);break;case"onScrollEnd":l!=null&&ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=rl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":ge("beforetoggle",t),ge("toggle",t),nl(t,"popover",l);break;case"xlinkActuate":Yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Yn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Yn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Yn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Yn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":nl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=T0.get(s)||s,nl(t,s,l))}}function Jc(t,n,s,l,u,f){switch(s){case"style":ed(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Ia(t,l):(typeof l=="number"||typeof l=="bigint")&&Ia(t,""+l);break;case"onScroll":l!=null&&ge("scroll",t);break;case"onScrollEnd":l!=null&&ge("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jh.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),n=s.slice(2,u?s.length-7:void 0),f=t[Rt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,u);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):nl(t,s,l)}}}function mt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",t),ge("load",t);var l=!1,u=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Le(t,n,f,g,s,null)}}u&&Le(t,n,"srcSet",s.srcSet,s,null),l&&Le(t,n,"src",s.src,s,null);return;case"input":ge("invalid",t);var p=f=g=u=null,b=null,D=null;for(l in s)if(s.hasOwnProperty(l)){var B=s[l];if(B!=null)switch(l){case"name":u=B;break;case"type":g=B;break;case"checked":b=B;break;case"defaultChecked":D=B;break;case"value":f=B;break;case"defaultValue":p=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Le(t,n,l,B,s,null)}}Qh(t,f,p,b,D,g,u,!1);return;case"select":ge("invalid",t),l=g=f=null;for(u in s)if(s.hasOwnProperty(u)&&(p=s[u],p!=null))switch(u){case"value":f=p;break;case"defaultValue":g=p;break;case"multiple":l=p;default:Le(t,n,u,p,s,null)}n=f,s=g,t.multiple=!!l,n!=null?Ra(t,!!l,n,!1):s!=null&&Ra(t,!!l,s,!0);return;case"textarea":ge("invalid",t),f=u=l=null;for(g in s)if(s.hasOwnProperty(g)&&(p=s[g],p!=null))switch(g){case"value":l=p;break;case"defaultValue":u=p;break;case"children":f=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:Le(t,n,g,p,s,null)}Ph(t,l,u,f);return;case"option":for(b in s)if(s.hasOwnProperty(b)&&(l=s[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Le(t,n,b,l,s,null)}return;case"dialog":ge("beforetoggle",t),ge("toggle",t),ge("cancel",t),ge("close",t);break;case"iframe":case"object":ge("load",t);break;case"video":case"audio":for(l=0;l<cs.length;l++)ge(cs[l],t);break;case"image":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"embed":case"source":case"link":ge("error",t),ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Le(t,n,D,l,s,null)}return;default:if(ru(n)){for(B in s)s.hasOwnProperty(B)&&(l=s[B],l!==void 0&&Jc(t,n,B,l,s,void 0));return}}for(p in s)s.hasOwnProperty(p)&&(l=s[p],l!=null&&Le(t,n,p,l,s,null))}function $S(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,p=null,b=null,D=null,B=null;for(x in s){var Z=s[x];if(s.hasOwnProperty(x)&&Z!=null)switch(x){case"checked":break;case"value":break;case"defaultValue":b=Z;default:l.hasOwnProperty(x)||Le(t,n,x,null,l,Z)}}for(var O in l){var x=l[O];if(Z=s[O],l.hasOwnProperty(O)&&(x!=null||Z!=null))switch(O){case"type":f=x;break;case"name":u=x;break;case"checked":D=x;break;case"defaultChecked":B=x;break;case"value":g=x;break;case"defaultValue":p=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(137,n));break;default:x!==Z&&Le(t,n,O,x,l,Z)}}iu(t,g,p,b,D,B,f,u);return;case"select":x=g=p=O=null;for(f in s)if(b=s[f],s.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":x=b;default:l.hasOwnProperty(f)||Le(t,n,f,null,l,b)}for(u in l)if(f=l[u],b=s[u],l.hasOwnProperty(u)&&(f!=null||b!=null))switch(u){case"value":O=f;break;case"defaultValue":p=f;break;case"multiple":g=f;default:f!==b&&Le(t,n,u,f,l,b)}n=p,s=g,l=x,O!=null?Ra(t,!!s,O,!1):!!l!=!!s&&(n!=null?Ra(t,!!s,n,!0):Ra(t,!!s,s?[]:"",!1));return;case"textarea":x=O=null;for(p in s)if(u=s[p],s.hasOwnProperty(p)&&u!=null&&!l.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Le(t,n,p,null,l,u)}for(g in l)if(u=l[g],f=s[g],l.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":O=u;break;case"defaultValue":x=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==f&&Le(t,n,g,u,l,f)}$h(t,O,x);return;case"option":for(var X in s)if(O=s[X],s.hasOwnProperty(X)&&O!=null&&!l.hasOwnProperty(X))switch(X){case"selected":t.selected=!1;break;default:Le(t,n,X,null,l,O)}for(b in l)if(O=l[b],x=s[b],l.hasOwnProperty(b)&&O!==x&&(O!=null||x!=null))switch(b){case"selected":t.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Le(t,n,b,O,l,x)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ee in s)O=s[ee],s.hasOwnProperty(ee)&&O!=null&&!l.hasOwnProperty(ee)&&Le(t,n,ee,null,l,O);for(D in l)if(O=l[D],x=s[D],l.hasOwnProperty(D)&&O!==x&&(O!=null||x!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,n));break;default:Le(t,n,D,O,l,x)}return;default:if(ru(n)){for(var Me in s)O=s[Me],s.hasOwnProperty(Me)&&O!==void 0&&!l.hasOwnProperty(Me)&&Jc(t,n,Me,void 0,l,O);for(B in l)O=l[B],x=s[B],!l.hasOwnProperty(B)||O===x||O===void 0&&x===void 0||Jc(t,n,B,O,l,x);return}}for(var R in s)O=s[R],s.hasOwnProperty(R)&&O!=null&&!l.hasOwnProperty(R)&&Le(t,n,R,null,l,O);for(Z in l)O=l[Z],x=s[Z],!l.hasOwnProperty(Z)||O===x||O==null&&x==null||Le(t,n,Z,O,l,x)}function ty(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function PS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var u=s[l],f=u.transferSize,g=u.initiatorType,p=u.duration;if(f&&p&&ty(g)){for(g=0,p=u.responseEnd,l+=1;l<s.length;l++){var b=s[l],D=b.startTime;if(D>p)break;var B=b.transferSize,Z=b.initiatorType;B&&ty(Z)&&(b=b.responseEnd,g+=B*(b<p?1:(p-D)/(b-D)))}if(--l,n+=8*(f+g)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var kc=null,jc=null;function eo(t){return t.nodeType===9?t:t.ownerDocument}function ny(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Fc(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hc=null;function qS(){var t=window.event;return t&&t.type==="popstate"?t===Hc?!1:(Hc=t,!0):(Hc=null,!1)}var ay=typeof setTimeout=="function"?setTimeout:void 0,eA=typeof clearTimeout=="function"?clearTimeout:void 0,ry=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof ry<"u"?function(t){return ry.resolve(null).then(t).catch(nA)}:ay;function nA(t){setTimeout(function(){throw t})}function Vi(t){return t==="head"}function sy(t,n){var s=n,l=0;do{var u=s.nextSibling;if(t.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(u),ir(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")hs(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,hs(s);for(var f=s.firstChild;f;){var g=f.nextSibling,p=f.nodeName;f[Or]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&hs(t.ownerDocument.body);s=u}while(s);ir(n)}function ly(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Qc(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Qc(s),tu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function iA(t,n,s,l){for(;t.nodeType===1;){var u=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Or])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=rn(t.nextSibling),t===null)break}return null}function aA(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=rn(t.nextSibling),t===null))return null;return t}function oy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=rn(t.nextSibling),t===null))return null;return t}function $c(t){return t.data==="$?"||t.data==="$~"}function Pc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function rA(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function rn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var qc=null;function uy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return rn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function cy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function fy(t,n,s){switch(n=eo(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function hs(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);tu(t)}var sn=new Map,hy=new Set;function to(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ii=W.d;W.d={f:sA,r:lA,D:oA,C:uA,L:cA,m:fA,X:dA,S:hA,M:gA};function sA(){var t=ii.f(),n=kl();return t||n}function lA(t){var n=Ea(t);n!==null&&n.tag===5&&n.type==="form"?Dg(n):ii.r(t)}var er=typeof document>"u"?null:document;function dy(t,n,s){var l=er;if(l&&typeof n=="string"&&n){var u=$t(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),hy.has(u)||(hy.add(u),t={rel:t,crossOrigin:s,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),mt(n,"link",t),lt(n),l.head.appendChild(n)))}}function oA(t){ii.D(t),dy("dns-prefetch",t,null)}function uA(t,n){ii.C(t,n),dy("preconnect",t,n)}function cA(t,n,s){ii.L(t,n,s);var l=er;if(l&&t&&n){var u='link[rel="preload"][as="'+$t(n)+'"]';n==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+$t(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+$t(s.imageSizes)+'"]')):u+='[href="'+$t(t)+'"]';var f=u;switch(n){case"style":f=tr(t);break;case"script":f=nr(t)}sn.has(f)||(t=T({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),sn.set(f,t),l.querySelector(u)!==null||n==="style"&&l.querySelector(ds(f))||n==="script"&&l.querySelector(gs(f))||(n=l.createElement("link"),mt(n,"link",t),lt(n),l.head.appendChild(n)))}}function fA(t,n){ii.m(t,n);var s=er;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+$t(l)+'"][href="'+$t(t)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=nr(t)}if(!sn.has(f)&&(t=T({rel:"modulepreload",href:t},n),sn.set(f,t),s.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(gs(f)))return}l=s.createElement("link"),mt(l,"link",t),lt(l),s.head.appendChild(l)}}}function hA(t,n,s){ii.S(t,n,s);var l=er;if(l&&t){var u=Na(l).hoistableStyles,f=tr(t);n=n||"default";var g=u.get(f);if(!g){var p={loading:0,preload:null};if(g=l.querySelector(ds(f)))p.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},s),(s=sn.get(f))&&ef(t,s);var b=g=l.createElement("link");lt(b),mt(b,"link",t),b._p=new Promise(function(D,B){b.onload=D,b.onerror=B}),b.addEventListener("load",function(){p.loading|=1}),b.addEventListener("error",function(){p.loading|=2}),p.loading|=4,no(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:p},u.set(f,g)}}}function dA(t,n){ii.X(t,n);var s=er;if(s&&t){var l=Na(s).hoistableScripts,u=nr(t),f=l.get(u);f||(f=s.querySelector(gs(u)),f||(t=T({src:t,async:!0},n),(n=sn.get(u))&&tf(t,n),f=s.createElement("script"),lt(f),mt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function gA(t,n){ii.M(t,n);var s=er;if(s&&t){var l=Na(s).hoistableScripts,u=nr(t),f=l.get(u);f||(f=s.querySelector(gs(u)),f||(t=T({src:t,async:!0,type:"module"},n),(n=sn.get(u))&&tf(t,n),f=s.createElement("script"),lt(f),mt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function gy(t,n,s,l){var u=(u=he.current)?to(u):null;if(!u)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=tr(s.href),s=Na(u).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=tr(s.href);var f=Na(u).hoistableStyles,g=f.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=u.querySelector(ds(t)))&&!f._p&&(g.instance=f,g.state.loading=5),sn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},sn.set(t,s),f||mA(u,t,s,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=nr(s),s=Na(u).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function tr(t){return'href="'+$t(t)+'"'}function ds(t){return'link[rel="stylesheet"]['+t+"]"}function my(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function mA(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),mt(n,"link",s),lt(n),t.head.appendChild(n))}function nr(t){return'[src="'+$t(t)+'"]'}function gs(t){return"script[async]"+t}function yy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+$t(s.href)+'"]');if(l)return n.instance=l,lt(l),l;var u=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),lt(l),mt(l,"style",u),no(l,s.precedence,t),n.instance=l;case"stylesheet":u=tr(s.href);var f=t.querySelector(ds(u));if(f)return n.state.loading|=4,n.instance=f,lt(f),f;l=my(s),(u=sn.get(u))&&ef(l,u),f=(t.ownerDocument||t).createElement("link"),lt(f);var g=f;return g._p=new Promise(function(p,b){g.onload=p,g.onerror=b}),mt(f,"link",l),n.state.loading|=4,no(f,s.precedence,t),n.instance=f;case"script":return f=nr(s.src),(u=t.querySelector(gs(f)))?(n.instance=u,lt(u),u):(l=s,(u=sn.get(f))&&(l=T({},s),tf(l,u)),t=t.ownerDocument||t,u=t.createElement("script"),lt(u),mt(u,"link",l),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,no(l,s.precedence,t));return n.instance}function no(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,g=0;g<l.length;g++){var p=l[g];if(p.dataset.precedence===n)f=p;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var io=null;function py(t,n,s){if(io===null){var l=new Map,u=io=new Map;u.set(s,l)}else u=io,l=u.get(s),l||(l=new Map,u.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),u=0;u<s.length;u++){var f=s[u];if(!(f[Or]||f[ft]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var p=l.get(g);p?p.push(f):l.set(g,[f])}}return l}function by(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function yA(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function vy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function pA(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=tr(l.href),f=n.querySelector(ds(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ao.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,lt(f);return}f=n.ownerDocument||n,l=my(l),(u=sn.get(u))&&ef(l,u),f=f.createElement("link"),lt(f);var g=f;g._p=new Promise(function(p,b){g.onload=p,g.onerror=b}),mt(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=ao.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var nf=0;function bA(t,n){return t.stylesheets&&t.count===0&&so(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&so(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&nf===0&&(nf=62500*PS());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&so(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>nf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function ao(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)so(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ro=null;function so(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ro=new Map,n.forEach(vA,t),ro=null,ao.call(t))}function vA(t,n){if(!(n.state.loading&4)){var s=ro.get(t);if(s)var l=s.get(null);else{s=new Map,ro.set(t,s);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}u=n.instance,g=u.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,u),s.set(g,u),this.count++,l=ao.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var ms={$$typeof:ne,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function SA(t,n,s,l,u,f,g,p,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$o(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.hiddenUpdates=$o(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Sy(t,n,s,l,u,f,g,p,b,D,B,Z){return t=new SA(t,n,s,g,b,D,B,Z,p),n=1,f===!0&&(n|=24),f=Gt(3,null,null,n),t.current=f,f.stateNode=t,n=Lu(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},_u(f),t}function Ay(t){return t?(t=Ba,t):Ba}function Ey(t,n,s,l,u,f){u=Ay(u),l.context===null?l.context=u:l.pendingContext=u,l=Si(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ai(t,l,n),s!==null&&(Vt(s,t,n),jr(s,t,n))}function Ny(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function af(t,n){Ny(t,n),(t=t.alternate)&&Ny(t,n)}function Ty(t){if(t.tag===13||t.tag===31){var n=qi(t,67108864);n!==null&&Vt(n,t,67108864),af(t,67108864)}}function Ry(t){if(t.tag===13||t.tag===31){var n=kt();n=Po(n);var s=qi(t,n);s!==null&&Vt(s,t,n),af(t,n)}}var lo=!0;function AA(t,n,s,l){var u=U.T;U.T=null;var f=W.p;try{W.p=2,rf(t,n,s,l)}finally{W.p=f,U.T=u}}function EA(t,n,s,l){var u=U.T;U.T=null;var f=W.p;try{W.p=8,rf(t,n,s,l)}finally{W.p=f,U.T=u}}function rf(t,n,s,l){if(lo){var u=sf(l);if(u===null)Xc(t,n,l,oo,s),Cy(t,l);else if(TA(u,t,n,s,l))l.stopPropagation();else if(Cy(t,l),n&4&&-1<NA.indexOf(t)){for(;u!==null;){var f=Ea(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Fi(f.pendingLanes);if(g!==0){var p=f;for(p.pendingLanes|=2,p.entangledLanes|=2;g;){var b=1<<31-_t(g);p.entanglements[1]|=b,g&=~b}Vn(f),(Ie&6)===0&&(Xl=Zt()+500,us(0))}}break;case 31:case 13:p=qi(f,2),p!==null&&Vt(p,f,2),kl(),af(f,2)}if(f=sf(l),f===null&&Xc(t,n,l,oo,s),f===u)break;u=f}u!==null&&l.stopPropagation()}else Xc(t,n,l,null,s)}}function sf(t){return t=lu(t),lf(t)}var oo=null;function lf(t){if(oo=null,t=Aa(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=h(n),t!==null)return t;t=null}else if(s===31){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return oo=t,null}function Iy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(o0()){case Uh:return 2;case Lh:return 8;case $s:case u0:return 32;case Mh:return 268435456;default:return 32}default:return 32}}var of=!1,xi=null,Bi=null,Ui=null,ys=new Map,ps=new Map,Li=[],NA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cy(t,n){switch(t){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":ys.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(n.pointerId)}}function bs(t,n,s,l,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},n!==null&&(n=Ea(n),n!==null&&Ty(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function TA(t,n,s,l,u){switch(n){case"focusin":return xi=bs(xi,t,n,s,l,u),!0;case"dragenter":return Bi=bs(Bi,t,n,s,l,u),!0;case"mouseover":return Ui=bs(Ui,t,n,s,l,u),!0;case"pointerover":var f=u.pointerId;return ys.set(f,bs(ys.get(f)||null,t,n,s,l,u)),!0;case"gotpointercapture":return f=u.pointerId,ps.set(f,bs(ps.get(f)||null,t,n,s,l,u)),!0}return!1}function wy(t){var n=Aa(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){t.blockedOn=n,Wh(t.priority,function(){Ry(s)});return}}else if(n===31){if(n=d(s),n!==null){t.blockedOn=n,Wh(t.priority,function(){Ry(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=sf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);su=l,s.target.dispatchEvent(l),su=null}else return n=Ea(s),n!==null&&Ty(n),t.blockedOn=s,!1;n.shift()}return!0}function Dy(t,n,s){uo(t)&&s.delete(n)}function RA(){of=!1,xi!==null&&uo(xi)&&(xi=null),Bi!==null&&uo(Bi)&&(Bi=null),Ui!==null&&uo(Ui)&&(Ui=null),ys.forEach(Dy),ps.forEach(Dy)}function co(t,n){t.blockedOn===n&&(t.blockedOn=null,of||(of=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,RA)))}var fo=null;function Oy(t){fo!==t&&(fo=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){fo===t&&(fo=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],u=t[n+2];if(typeof l!="function"){if(lf(l||s)===null)continue;break}var f=Ea(s);f!==null&&(t.splice(n,3),n-=3,rc(f,{pending:!0,data:u,method:s.method,action:l},l,u))}}))}function ir(t){function n(b){return co(b,t)}xi!==null&&co(xi,t),Bi!==null&&co(Bi,t),Ui!==null&&co(Ui,t),ys.forEach(n),ps.forEach(n);for(var s=0;s<Li.length;s++){var l=Li[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Li.length&&(s=Li[0],s.blockedOn===null);)wy(s),s.blockedOn===null&&Li.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var u=s[l],f=s[l+1],g=u[Rt]||null;if(typeof f=="function")g||Oy(s);else if(g){var p=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[Rt]||null)p=g.formAction;else if(lf(u)!==null)continue}else p=g.action;typeof p=="function"?s[l+1]=p:(s.splice(l,3),l-=3),Oy(s)}}}function Vy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function uf(t){this._internalRoot=t}ho.prototype.render=uf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=kt();Ey(s,l,t,n,null,null)},ho.prototype.unmount=uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ey(t.current,2,null,t,null,null),kl(),n[Sa]=null}};function ho(t){this._internalRoot=t}ho.prototype.unstable_scheduleHydration=function(t){if(t){var n=Gh();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Li.length&&n!==0&&n<Li[s].priority;s++);Li.splice(s,0,t),s===0&&wy(t)}};var xy=e.version;if(xy!=="19.2.1")throw Error(r(527,xy,"19.2.1"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=m(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var IA={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!go.isDisabled&&go.supportsFiber)try{Cr=go.inject(IA),zt=go}catch{}}return Ss.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",u=_g,f=Yg,g=Gg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Sy(t,1,!1,null,null,s,l,null,u,f,g,Vy),t[Sa]=n.current,Kc(t),new uf(n)},Ss.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,u="",f=_g,g=Yg,p=Gg,b=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(p=s.onRecoverableError),s.formState!==void 0&&(b=s.formState)),n=Sy(t,1,!0,n,s??null,l,u,b,f,g,p,Vy),n.context=Ay(null),s=n.current,l=kt(),l=Po(l),u=Si(l),u.callback=null,Ai(s,u,l),s=l,n.current.lanes=s,Dr(n,s),Vn(n),t[Sa]=n.current,Kc(t),new ho(n)},Ss.version="19.2.1",Ss}var Wy;function MA(){if(Wy)return ff.exports;Wy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ff.exports=LA(),ff.exports}var ZA=MA();const zA=mb(ZA);var Ke=Wf();function yb({onSave:i,placeholder:e}){const[a,r]=Ke.useState("");return Ce.jsx("input",{className:"new-todo",type:"text",placeholder:e,value:a,onChange:o=>{r(o.target.value)},onKeyDown:o=>{o.key==="Enter"&&!o.nativeEvent.isComposing&&(i(a.trim()),r(""))}})}function _A({dispatch:i}){const e=a=>{i({type:"ADDED_TODO",payload:{text:a}})};return Ce.jsxs("header",{className:"header",children:[Ce.jsx("h1",{children:"todos"}),Ce.jsx(yb,{onSave:a=>{a.length!==0&&e(a)},placeholder:"What needs to be done?"})]})}var yf={exports:{}};var Ky;function YA(){return Ky||(Ky=1,(function(i){(function(){var e={}.hasOwnProperty;function a(){for(var c="",h=0;h<arguments.length;h++){var d=arguments[h];d&&(c=o(c,r(d)))}return c}function r(c){if(typeof c=="string"||typeof c=="number")return c;if(typeof c!="object")return"";if(Array.isArray(c))return a.apply(null,c);if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]"))return c.toString();var h="";for(var d in c)e.call(c,d)&&c[d]&&(h=o(h,d));return h}function o(c,h){return h?c?c+" "+h:c+h:c}i.exports?(a.default=a,i.exports=a):window.classNames=a})()})(yf)),yf.exports}var GA=YA();const pb=mb(GA),Xy={SHOW_ALL:"All",SHOW_ACTIVE:"Active",SHOW_COMPLETED:"Completed"};function WA({completedCount:i,activeCount:e,filter:a,onClearCompleted:r,onShow:o}){return Ce.jsxs("footer",{className:"footer",children:[Ce.jsxs("span",{className:"todo-count",children:[Ce.jsx("strong",{children:e||"No"}),"",e===1?"item":"items"," left"]}),Ce.jsx("ul",{className:"filters",children:Object.keys(Xy).map(c=>Ce.jsx("li",{children:Ce.jsx("button",{type:"button",className:pb({selected:c===a}),style:{cursor:"pointer"},onClick:()=>o(c),children:Xy[c]})},c))}),!!i&&Ce.jsx("button",{type:"button",className:"clear-completed",onClick:r,children:"Clear completed"})]})}function KA({todo:i,dispatch:e}){const[a,r]=Ke.useState(!1),o=d=>{e({type:"DELETED_TODO",payload:{id:d}})},c=(d,y)=>{e({type:"EDITED_TODO",payload:{id:d,text:y}})},h=d=>{e({type:"COMPLETED_TODO",payload:{id:d}})};return Ce.jsx("li",{className:pb({completed:i.completed,editing:a}),children:a?Ce.jsx(yb,{editing:a,onSave:d=>{d.length===0?o(i.id):c(i.id,d),r(!1)}}):Ce.jsxs("div",{className:"view",children:[Ce.jsx("input",{id:`item-input-${i.id}`,className:"toggle",type:"checkbox",checked:i.completed,onChange:()=>h(i.id)}),Ce.jsx("label",{htmlFor:`item-input-${i.id}`,onDoubleClick:()=>r(!0),children:i.text}),Ce.jsx("button",{type:"button","aria-label":"Delete",className:"destroy",onClick:()=>o(i.id)})]})})}const XA={SHOW_ALL:()=>!0,SHOW_ACTIVE:i=>!i.completed,SHOW_COMPLETED:i=>i.completed};function JA({todos:i,dispatch:e}){const[a,r]=Ke.useState("SHOW_ALL"),o=i.filter(XA[a]),c=i.filter(m=>m.completed).length,h=i.length-c,d=()=>e({type:"CLEARED_COMPLETED"}),y=()=>e({type:"TOGGLED_ALL"});return i.length===0?null:Ce.jsxs("section",{className:"main",children:[o.length>0?Ce.jsxs("div",{className:"toggle-all-container",children:[Ce.jsx("input",{className:"toggle-all",type:"checkbox",id:"toggle-all",checked:c===i.length,onChange:y}),Ce.jsx("label",{className:"toggle-all-label",htmlFor:"toggle-all",children:"Mark all as complete"})]}):null,Ce.jsx("ul",{className:"todo-list",children:o.map(m=>Ce.jsx(KA,{todo:m,dispatch:e},m.id))}),Ce.jsx(WA,{completedCount:c,activeCount:h,filter:a,onClearCompleted:d,onShow:r})]})}function kA(i,e){switch(e.type){case"ADDED_TODO":{const{text:a}=e.payload;i.todos.push({id:crypto.randomUUID(),completed:!1,text:a});break}case"DELETED_TODO":{const{id:a}=e.payload,r=i.todos.findIndex(o=>o.id===a);if(r!==-1){const o=i.todos.getElementByIndex(r);i.todos.deleteByID(o.getID())}break}case"EDITED_TODO":{const{id:a,text:r}=e.payload;i.todos.forEach(o=>{o.id===a&&(o.text=r)});break}case"COMPLETED_TODO":{const{id:a}=e.payload;i.todos.forEach(r=>{r.id===a&&(r.completed=!r.completed)});break}case"CLEARED_COMPLETED":{const a=[];i.todos.forEach((r,o)=>{r.completed&&a.push(o)});for(let r=a.length-1;r>=0;r--){const o=i.todos.getElementByIndex(a[r]);i.todos.deleteByID(o.getID())}break}case"TOGGLED_ALL":{const a=i.todos.every(r=>r.completed);i.todos.forEach(r=>{r.completed=!a});break}}}var fe;(function(i){i[i.Canceled=1]="Canceled",i[i.Unknown=2]="Unknown",i[i.InvalidArgument=3]="InvalidArgument",i[i.DeadlineExceeded=4]="DeadlineExceeded",i[i.NotFound=5]="NotFound",i[i.AlreadyExists=6]="AlreadyExists",i[i.PermissionDenied=7]="PermissionDenied",i[i.ResourceExhausted=8]="ResourceExhausted",i[i.FailedPrecondition=9]="FailedPrecondition",i[i.Aborted=10]="Aborted",i[i.OutOfRange=11]="OutOfRange",i[i.Unimplemented=12]="Unimplemented",i[i.Internal=13]="Internal",i[i.Unavailable=14]="Unavailable",i[i.DataLoss=15]="DataLoss",i[i.Unauthenticated=16]="Unauthenticated"})(fe||(fe={}));function Kf(i,e){return i!==null&&typeof i=="object"&&"$typeName"in i&&typeof i.$typeName=="string"?e===void 0?!0:e.typeName===i.$typeName:!1}var I;(function(i){i[i.DOUBLE=1]="DOUBLE",i[i.FLOAT=2]="FLOAT",i[i.INT64=3]="INT64",i[i.UINT64=4]="UINT64",i[i.INT32=5]="INT32",i[i.FIXED64=6]="FIXED64",i[i.FIXED32=7]="FIXED32",i[i.BOOL=8]="BOOL",i[i.STRING=9]="STRING",i[i.BYTES=12]="BYTES",i[i.UINT32=13]="UINT32",i[i.SFIXED32=15]="SFIXED32",i[i.SFIXED64=16]="SFIXED64",i[i.SINT32=17]="SINT32",i[i.SINT64=18]="SINT64"})(I||(I={}));function jA(){let i=0,e=0;for(let r=0;r<28;r+=7){let o=this.buf[this.pos++];if(i|=(o&127)<<r,(o&128)==0)return this.assertBounds(),[i,e]}let a=this.buf[this.pos++];if(i|=(a&15)<<28,e=(a&112)>>4,(a&128)==0)return this.assertBounds(),[i,e];for(let r=3;r<=31;r+=7){let o=this.buf[this.pos++];if(e|=(o&127)<<r,(o&128)==0)return this.assertBounds(),[i,e]}throw new Error("invalid varint")}function pf(i,e,a){for(let c=0;c<28;c=c+7){const h=i>>>c,d=!(!(h>>>7)&&e==0),y=(d?h|128:h)&255;if(a.push(y),!d)return}const r=i>>>28&15|(e&7)<<4,o=e>>3!=0;if(a.push((o?r|128:r)&255),!!o){for(let c=3;c<31;c=c+7){const h=e>>>c,d=!!(h>>>7),y=(d?h|128:h)&255;if(a.push(y),!d)return}a.push(e>>>31&1)}}const No=4294967296;function Jy(i){const e=i[0]==="-";e&&(i=i.slice(1));const a=1e6;let r=0,o=0;function c(h,d){const y=Number(i.slice(h,d));o*=a,r=r*a+y,r>=No&&(o=o+(r/No|0),r=r%No)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),e?vb(r,o):Xf(r,o)}function FA(i,e){let a=Xf(i,e);const r=a.hi&2147483648;r&&(a=vb(a.lo,a.hi));const o=bb(a.lo,a.hi);return r?"-"+o:o}function bb(i,e){if({lo:i,hi:e}=HA(i,e),e<=2097151)return String(No*e+i);const a=i&16777215,r=(i>>>24|e<<8)&16777215,o=e>>16&65535;let c=a+r*6777216+o*6710656,h=r+o*8147497,d=o*2;const y=1e7;return c>=y&&(h+=Math.floor(c/y),c%=y),h>=y&&(d+=Math.floor(h/y),h%=y),d.toString()+ky(h)+ky(c)}function HA(i,e){return{lo:i>>>0,hi:e>>>0}}function Xf(i,e){return{lo:i|0,hi:e|0}}function vb(i,e){return e=~e,i?i=~i+1:e+=1,Xf(i,e)}const ky=i=>{const e=String(i);return"0000000".slice(e.length)+e};function wf(i,e){if(i>=0){for(;i>127;)e.push(i&127|128),i=i>>>7;e.push(i)}else{for(let a=0;a<9;a++)e.push(i&127|128),i=i>>7;e.push(1)}}function QA(){let i=this.buf[this.pos++],e=i&127;if((i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<7,(i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<14,(i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<21,(i&128)==0)return this.assertBounds(),e;i=this.buf[this.pos++],e|=(i&15)<<28;for(let a=5;(i&128)!==0&&a<10;a++)i=this.buf[this.pos++];if((i&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var jy={};const ke=$A();function $A(){const i=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof i.getBigInt64=="function"&&typeof i.getBigUint64=="function"&&typeof i.setBigInt64=="function"&&typeof i.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof jy!="object"||jy.BUF_BIGINT_DISABLE!=="1")){const a=BigInt("-9223372036854775808"),r=BigInt("9223372036854775807"),o=BigInt("0"),c=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(h){const d=typeof h=="bigint"?h:BigInt(h);if(d>r||d<a)throw new Error(`invalid int64: ${h}`);return d},uParse(h){const d=typeof h=="bigint"?h:BigInt(h);if(d>c||d<o)throw new Error(`invalid uint64: ${h}`);return d},enc(h){return i.setBigInt64(0,this.parse(h),!0),{lo:i.getInt32(0,!0),hi:i.getInt32(4,!0)}},uEnc(h){return i.setBigInt64(0,this.uParse(h),!0),{lo:i.getInt32(0,!0),hi:i.getInt32(4,!0)}},dec(h,d){return i.setInt32(0,h,!0),i.setInt32(4,d,!0),i.getBigInt64(0,!0)},uDec(h,d){return i.setInt32(0,h,!0),i.setInt32(4,d,!0),i.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(a){return typeof a!="string"&&(a=a.toString()),Fy(a),a},uParse(a){return typeof a!="string"&&(a=a.toString()),Hy(a),a},enc(a){return typeof a!="string"&&(a=a.toString()),Fy(a),Jy(a)},uEnc(a){return typeof a!="string"&&(a=a.toString()),Hy(a),Jy(a)},dec(a,r){return FA(a,r)},uDec(a,r){return bb(a,r)}}}function Fy(i){if(!/^-?[0-9]+$/.test(i))throw new Error("invalid int64: "+i)}function Hy(i){if(!/^[0-9]+$/.test(i))throw new Error("invalid uint64: "+i)}function pa(i,e){switch(i){case I.STRING:return"";case I.BOOL:return!1;case I.DOUBLE:case I.FLOAT:return 0;case I.INT64:case I.UINT64:case I.SFIXED64:case I.FIXED64:case I.SINT64:return e?"0":ke.zero;case I.BYTES:return new Uint8Array(0);default:return 0}}function PA(i,e){switch(i){case I.BOOL:return e===!1;case I.STRING:return e==="";case I.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}const Sb=2,ri=Symbol.for("reflect unsafe local");function Ab(i,e){const a=i[e.localName].case;return a===void 0?a:e.fields.find(r=>r.localName===a)}function qA(i,e){const a=e.localName;if(e.oneof)return i[e.oneof.localName].case===a;if(e.presence!=Sb)return i[a]!==void 0&&Object.prototype.hasOwnProperty.call(i,a);switch(e.fieldKind){case"list":return i[a].length>0;case"map":return Object.keys(i[a]).length>0;case"scalar":return!PA(e.scalar,i[a]);case"enum":return i[a]!==e.enum.values[0].number}throw new Error("message field with implicit presence")}function Bs(i,e){return Object.prototype.hasOwnProperty.call(i,e)&&i[e]!==void 0}function Eb(i,e){if(e.oneof){const a=i[e.oneof.localName];return a.case===e.localName?a.value:void 0}return i[e.localName]}function Nb(i,e,a){e.oneof?i[e.oneof.localName]={case:e.localName,value:a}:i[e.localName]=a}function eE(i,e){const a=e.localName;if(e.oneof){const r=e.oneof.localName;i[r].case===a&&(i[r]={case:void 0})}else if(e.presence!=Sb)delete i[a];else switch(e.fieldKind){case"map":i[a]={};break;case"list":i[a]=[];break;case"enum":i[a]=e.enum.values[0].number;break;case"scalar":i[a]=pa(e.scalar,e.longAsString);break}}function Ki(i){return i!==null&&typeof i=="object"&&!Array.isArray(i)}function Jf(i,e){var a,r,o,c;if(Ki(i)&&ri in i&&"add"in i&&"field"in i&&typeof i.field=="function"){if(e!==void 0){const h=e,d=i.field();return h.listKind==d.listKind&&h.scalar===d.scalar&&((a=h.message)===null||a===void 0?void 0:a.typeName)===((r=d.message)===null||r===void 0?void 0:r.typeName)&&((o=h.enum)===null||o===void 0?void 0:o.typeName)===((c=d.enum)===null||c===void 0?void 0:c.typeName)}return!0}return!1}function kf(i,e){var a,r,o,c;if(Ki(i)&&ri in i&&"has"in i&&"field"in i&&typeof i.field=="function"){if(e!==void 0){const h=e,d=i.field();return h.mapKey===d.mapKey&&h.mapKind==d.mapKind&&h.scalar===d.scalar&&((a=h.message)===null||a===void 0?void 0:a.typeName)===((r=d.message)===null||r===void 0?void 0:r.typeName)&&((o=h.enum)===null||o===void 0?void 0:o.typeName)===((c=d.enum)===null||c===void 0?void 0:c.typeName)}return!0}return!1}function jf(i,e){return Ki(i)&&ri in i&&"desc"in i&&Ki(i.desc)&&i.desc.kind==="message"&&(e===void 0||i.desc.typeName==e.typeName)}function tE(i){return Tb(i.$typeName)}function Xs(i){const e=i.fields[0];return Tb(i.typeName)&&e!==void 0&&e.fieldKind=="scalar"&&e.name=="value"&&e.number==1}function Tb(i){return i.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(i.substring(16))}const nE=999,iE=998,To=2;function H(i,e){if(Kf(e,i))return e;const a=oE(i);return e!==void 0&&aE(i,a,e),a}function aE(i,e,a){for(const r of i.members){let o=a[r.localName];if(o==null)continue;let c;if(r.kind=="oneof"){const h=Ab(a,r);if(!h)continue;c=h,o=Eb(a,h)}else c=r;switch(c.fieldKind){case"message":o=Ff(c,o);break;case"scalar":o=Rb(c,o);break;case"list":o=sE(c,o);break;case"map":o=rE(c,o);break}Nb(e,c,o)}return e}function Rb(i,e){return i.scalar==I.BYTES?Hf(e):e}function rE(i,e){if(Ki(e)){if(i.scalar==I.BYTES)return Qy(e,Hf);if(i.mapKind=="message")return Qy(e,a=>Ff(i,a))}return e}function sE(i,e){if(Array.isArray(e)){if(i.scalar==I.BYTES)return e.map(Hf);if(i.listKind=="message")return e.map(a=>Ff(i,a))}return e}function Ff(i,e){if(i.fieldKind=="message"&&!i.oneof&&Xs(i.message))return Rb(i.message.fields[0],e);if(Ki(e)){if(i.message.typeName=="google.protobuf.Struct"&&i.parent.typeName!=="google.protobuf.Value")return e;if(!Kf(e,i.message))return H(i.message,e)}return e}function Hf(i){return Array.isArray(i)?new Uint8Array(i):i}function Qy(i,e){const a={};for(const r of Object.entries(i))a[r[0]]=e(r[1]);return a}const lE=Symbol(),$y=new WeakMap;function oE(i){let e;if(uE(i)){const a=$y.get(i);let r,o;if(a)({prototype:r,members:o}=a);else{r={},o=new Set;for(const c of i.members)c.kind!="oneof"&&(c.fieldKind!="scalar"&&c.fieldKind!="enum"||c.presence!=To&&(o.add(c),r[c.localName]=bf(c)));$y.set(i,{prototype:r,members:o})}e=Object.create(r),e.$typeName=i.typeName;for(const c of i.members)o.has(c)||c.kind=="field"&&(c.fieldKind=="message"||(c.fieldKind=="scalar"||c.fieldKind=="enum")&&c.presence!=To)||(e[c.localName]=bf(c))}else{e={$typeName:i.typeName};for(const a of i.members)(a.kind=="oneof"||a.presence==To)&&(e[a.localName]=bf(a))}return e}function uE(i){switch(i.file.edition){case nE:return!1;case iE:return!0;default:return i.fields.some(e=>e.presence!=To&&e.fieldKind!="message"&&!e.oneof)}}function bf(i){if(i.kind=="oneof")return{case:void 0};if(i.fieldKind=="list")return[];if(i.fieldKind=="map")return{};if(i.fieldKind=="message")return lE;const e=i.getDefaultValue();return e!==void 0?i.fieldKind=="scalar"&&i.longAsString?e.toString():e:i.fieldKind=="scalar"?pa(i.scalar,i.longAsString):i.enum.values[0].number}const cE=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class Ut extends Error{constructor(e,a,r="FieldValueInvalidError"){super(a),this.name=r,this.field=()=>e}}function fE(i){return i instanceof Error&&cE.includes(i.name)&&"field"in i&&typeof i.field=="function"}const vf=Symbol.for("@bufbuild/protobuf/text-encoding");function Qf(){if(globalThis[vf]==null){const i=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[vf]={encodeUtf8(a){return i.encode(a)},decodeUtf8(a){return e.decode(a)},checkUtf8(a){try{return encodeURIComponent(a),!0}catch{return!1}}}}return globalThis[vf]}var et;(function(i){i[i.Varint=0]="Varint",i[i.Bit64=1]="Bit64",i[i.LengthDelimited=2]="LengthDelimited",i[i.StartGroup=3]="StartGroup",i[i.EndGroup=4]="EndGroup",i[i.Bit32=5]="Bit32"})(et||(et={}));const Ib=34028234663852886e22,Cb=-34028234663852886e22,wb=4294967295,Db=2147483647,Ob=-2147483648;class Vb{constructor(e=Qf().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let o=0;o<this.chunks.length;o++)e+=this.chunks[o].length;let a=new Uint8Array(e),r=0;for(let o=0;o<this.chunks.length;o++)a.set(this.chunks[o],r),r+=this.chunks[o].length;return this.chunks=[],a}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),a=this.stack.pop();if(!a)throw new Error("invalid state, fork stack empty");return this.chunks=a.chunks,this.buf=a.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,a){return this.uint32((e<<3|a)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(Py(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return Sf(e),wf(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let a=this.encodeUtf8(e);return this.uint32(a.byteLength),this.raw(a)}float(e){hE(e);let a=new Uint8Array(4);return new DataView(a.buffer).setFloat32(0,e,!0),this.raw(a)}double(e){let a=new Uint8Array(8);return new DataView(a.buffer).setFloat64(0,e,!0),this.raw(a)}fixed32(e){Py(e);let a=new Uint8Array(4);return new DataView(a.buffer).setUint32(0,e,!0),this.raw(a)}sfixed32(e){Sf(e);let a=new Uint8Array(4);return new DataView(a.buffer).setInt32(0,e,!0),this.raw(a)}sint32(e){return Sf(e),e=(e<<1^e>>31)>>>0,wf(e,this.buf),this}sfixed64(e){let a=new Uint8Array(8),r=new DataView(a.buffer),o=ke.enc(e);return r.setInt32(0,o.lo,!0),r.setInt32(4,o.hi,!0),this.raw(a)}fixed64(e){let a=new Uint8Array(8),r=new DataView(a.buffer),o=ke.uEnc(e);return r.setInt32(0,o.lo,!0),r.setInt32(4,o.hi,!0),this.raw(a)}int64(e){let a=ke.enc(e);return pf(a.lo,a.hi,this.buf),this}sint64(e){const a=ke.enc(e),r=a.hi>>31,o=a.lo<<1^r,c=(a.hi<<1|a.lo>>>31)^r;return pf(o,c,this.buf),this}uint64(e){const a=ke.uEnc(e);return pf(a.lo,a.hi,this.buf),this}}class $f{constructor(e,a=Qf().decodeUtf8){this.decodeUtf8=a,this.varint64=jA,this.uint32=QA,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),a=e>>>3,r=e&7;if(a<=0||r<0||r>5)throw new Error("illegal tag: field no "+a+" wire type "+r);return[a,r]}skip(e,a){let r=this.pos;switch(e){case et.Varint:for(;this.buf[this.pos++]&128;);break;case et.Bit64:this.pos+=4;case et.Bit32:this.pos+=4;break;case et.LengthDelimited:let o=this.uint32();this.pos+=o;break;case et.StartGroup:for(;;){const[c,h]=this.tag();if(h===et.EndGroup){if(a!==void 0&&c!==a)throw new Error("invalid end group tag");break}this.skip(h,c)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return ke.dec(...this.varint64())}uint64(){return ke.uDec(...this.varint64())}sint64(){let[e,a]=this.varint64(),r=-(e&1);return e=(e>>>1|(a&1)<<31)^r,a=a>>>1^r,ke.dec(e,a)}bool(){let[e,a]=this.varint64();return e!==0||a!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return ke.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return ke.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),a=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(a,a+e)}string(){return this.decodeUtf8(this.bytes())}}function Sf(i){if(typeof i=="string")i=Number(i);else if(typeof i!="number")throw new Error("invalid int32: "+typeof i);if(!Number.isInteger(i)||i>Db||i<Ob)throw new Error("invalid int32: "+i)}function Py(i){if(typeof i=="string")i=Number(i);else if(typeof i!="number")throw new Error("invalid uint32: "+typeof i);if(!Number.isInteger(i)||i>wb||i<0)throw new Error("invalid uint32: "+i)}function hE(i){if(typeof i=="string"){const e=i;if(i=Number(i),Number.isNaN(i)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof i!="number")throw new Error("invalid float32: "+typeof i);if(Number.isFinite(i)&&(i>Ib||i<Cb))throw new Error("invalid float32: "+i)}function ha(i,e){const a=i.fieldKind=="list"?Jf(e,i):i.fieldKind=="map"?kf(e,i):Pf(i,e);if(a===!0)return;let r;switch(i.fieldKind){case"list":r=`expected ${Ub(i)}, got ${ct(e)}`;break;case"map":r=`expected ${Lb(i)}, got ${ct(e)}`;break;default:r=Co(i,e,a)}return new Ut(i,r)}function qy(i,e,a){const r=Pf(i,a);if(r!==!0)return new Ut(i,`list item #${e+1}: ${Co(i,a,r)}`)}function dE(i,e,a){const r=xb(e,i.mapKey);if(r!==!0)return new Ut(i,`invalid map key: ${Co({scalar:i.mapKey},e,r)}`);const o=Pf(i,a);if(o!==!0)return new Ut(i,`map entry ${ct(e)}: ${Co(i,a,o)}`)}function Pf(i,e){return i.scalar!==void 0?xb(e,i.scalar):i.enum!==void 0?i.enum.open?Number.isInteger(e):i.enum.values.some(a=>a.number===e):jf(e,i.message)}function xb(i,e){switch(e){case I.DOUBLE:return typeof i=="number";case I.FLOAT:return typeof i!="number"?!1:Number.isNaN(i)||!Number.isFinite(i)?!0:i>Ib||i<Cb?`${i.toFixed()} out of range`:!0;case I.INT32:case I.SFIXED32:case I.SINT32:return typeof i!="number"||!Number.isInteger(i)?!1:i>Db||i<Ob?`${i.toFixed()} out of range`:!0;case I.FIXED32:case I.UINT32:return typeof i!="number"||!Number.isInteger(i)?!1:i>wb||i<0?`${i.toFixed()} out of range`:!0;case I.BOOL:return typeof i=="boolean";case I.STRING:return typeof i!="string"?!1:Qf().checkUtf8(i)||"invalid UTF8";case I.BYTES:return i instanceof Uint8Array;case I.INT64:case I.SFIXED64:case I.SINT64:if(typeof i=="bigint"||typeof i=="number"||typeof i=="string"&&i.length>0)try{return ke.parse(i),!0}catch{return`${i} out of range`}return!1;case I.FIXED64:case I.UINT64:if(typeof i=="bigint"||typeof i=="number"||typeof i=="string"&&i.length>0)try{return ke.uParse(i),!0}catch{return`${i} out of range`}return!1}}function Co(i,e,a){return a=typeof a=="string"?`: ${a}`:`, got ${ct(e)}`,i.scalar!==void 0?`expected ${gE(i.scalar)}`+a:i.enum!==void 0?`expected ${i.enum.toString()}`+a:`expected ${Bb(i.message)}`+a}function ct(i){switch(typeof i){case"object":return i===null?"null":i instanceof Uint8Array?`Uint8Array(${i.length})`:Array.isArray(i)?`Array(${i.length})`:Jf(i)?Ub(i.field()):kf(i)?Lb(i.field()):jf(i)?Bb(i.desc):Kf(i)?`message ${i.$typeName}`:"object";case"string":return i.length>30?"string":`"${i.split('"').join('\\"')}"`;case"boolean":return String(i);case"number":return String(i);case"bigint":return String(i)+"n";default:return typeof i}}function Bb(i){return`ReflectMessage (${i.typeName})`}function Ub(i){switch(i.listKind){case"message":return`ReflectList (${i.message.toString()})`;case"enum":return`ReflectList (${i.enum.toString()})`;case"scalar":return`ReflectList (${I[i.scalar]})`}}function Lb(i){switch(i.mapKind){case"message":return`ReflectMap (${I[i.mapKey]}, ${i.message.toString()})`;case"enum":return`ReflectMap (${I[i.mapKey]}, ${i.enum.toString()})`;case"scalar":return`ReflectMap (${I[i.mapKey]}, ${I[i.scalar]})`}}function gE(i){switch(i){case I.STRING:return"string";case I.BOOL:return"boolean";case I.INT64:case I.SINT64:case I.SFIXED64:return"bigint (int64)";case I.UINT64:case I.FIXED64:return"bigint (uint64)";case I.BYTES:return"Uint8Array";case I.DOUBLE:return"number (float64)";case I.FLOAT:return"number (float32)";case I.FIXED32:case I.UINT32:return"number (uint32)";case I.INT32:case I.SFIXED32:case I.SINT32:return"number (int32)"}}function cn(i,e,a=!0){return new Mb(i,e,a)}const ep=new WeakMap;class Mb{get sortedFields(){const e=ep.get(this.desc);if(e)return e;const a=this.desc.fields.concat().sort((r,o)=>r.number-o.number);return ep.set(this.desc,a),a}constructor(e,a,r=!0){this.lists=new Map,this.maps=new Map,this.check=r,this.desc=e,this.message=this[ri]=a??H(e),this.fields=e.fields,this.oneofs=e.oneofs,this.members=e.members}findNumber(e){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(a=>[a.number,a]))),this._fieldsByNumber.get(e)}oneofCase(e){return As(this.message,e),Ab(this.message,e)}isSet(e){return As(this.message,e),qA(this.message,e)}clear(e){As(this.message,e),eE(this.message,e)}get(e){As(this.message,e);const a=Eb(this.message,e);switch(e.fieldKind){case"list":let r=this.lists.get(e);return(!r||r[ri]!==a)&&this.lists.set(e,r=new mE(e,a,this.check)),r;case"map":let o=this.maps.get(e);return(!o||o[ri]!==a)&&this.maps.set(e,o=new yE(e,a,this.check)),o;case"message":return eh(e,a,this.check);case"scalar":return a===void 0?pa(e.scalar,!1):th(e,a);case"enum":return a??e.enum.values[0].number}}set(e,a){if(As(this.message,e),this.check){const o=ha(e,a);if(o)throw o}let r;e.fieldKind=="message"?r=qf(e,a):kf(a)||Jf(a)?r=a[ri]:r=nh(e,a),Nb(this.message,e,r)}getUnknown(){return this.message.$unknown}setUnknown(e){this.message.$unknown=e}}function As(i,e){if(e.parent.typeName!==i.$typeName)throw new Ut(e,`cannot use ${e.toString()} with message ${i.$typeName}`,"ForeignFieldError")}class mE{field(){return this._field}get size(){return this._arr.length}constructor(e,a,r){this._field=e,this._arr=this[ri]=a,this.check=r}get(e){const a=this._arr[e];return a===void 0?void 0:Af(this._field,a,this.check)}set(e,a){if(e<0||e>=this._arr.length)throw new Ut(this._field,`list item #${e+1}: out of range`);if(this.check){const r=qy(this._field,e,a);if(r)throw r}this._arr[e]=tp(this._field,a)}add(e){if(this.check){const a=qy(this._field,this._arr.length,e);if(a)throw a}this._arr.push(tp(this._field,e))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const e of this._arr)yield Af(this._field,e,this.check)}*entries(){for(let e=0;e<this._arr.length;e++)yield[e,Af(this._field,this._arr[e],this.check)]}}class yE{constructor(e,a,r=!0){this.obj=this[ri]=a??{},this.check=r,this._field=e}field(){return this._field}set(e,a){if(this.check){const r=dE(this._field,e,a);if(r)throw r}return this.obj[mo(e)]=pE(this._field,a),this}delete(e){const a=mo(e),r=Object.prototype.hasOwnProperty.call(this.obj,a);return r&&delete this.obj[a],r}clear(){for(const e of Object.keys(this.obj))delete this.obj[e]}get(e){let a=this.obj[mo(e)];return a!==void 0&&(a=Ef(this._field,a,this.check)),a}has(e){return Object.prototype.hasOwnProperty.call(this.obj,mo(e))}*keys(){for(const e of Object.keys(this.obj))yield np(e,this._field.mapKey)}*entries(){for(const e of Object.entries(this.obj))yield[np(e[0],this._field.mapKey),Ef(this._field,e[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const e of Object.values(this.obj))yield Ef(this._field,e,this.check)}forEach(e,a){for(const r of this.entries())e.call(a,r[1],r[0],this)}}function qf(i,e){return jf(e)?tE(e.message)&&!i.oneof&&i.fieldKind=="message"?e.message.value:e.desc.typeName=="google.protobuf.Struct"&&i.parent.typeName!="google.protobuf.Value"?zb(e.message):e.message:e}function eh(i,e,a){return e!==void 0&&(Xs(i.message)&&!i.oneof&&i.fieldKind=="message"?e={$typeName:i.message.typeName,value:th(i.message.fields[0],e)}:i.message.typeName=="google.protobuf.Struct"&&i.parent.typeName!="google.protobuf.Value"&&Ki(e)&&(e=Zb(e))),new Mb(i.message,e,a)}function tp(i,e){return i.listKind=="message"?qf(i,e):nh(i,e)}function Af(i,e,a){return i.listKind=="message"?eh(i,e,a):th(i,e)}function pE(i,e){return i.mapKind=="message"?qf(i,e):nh(i,e)}function Ef(i,e,a){return i.mapKind=="message"?eh(i,e,a):e}function mo(i){return typeof i=="string"||typeof i=="number"?i:String(i)}function np(i,e){switch(e){case I.STRING:return i;case I.INT32:case I.FIXED32:case I.UINT32:case I.SFIXED32:case I.SINT32:{const a=Number.parseInt(i);if(Number.isFinite(a))return a;break}case I.BOOL:switch(i){case"true":return!0;case"false":return!1}break;case I.UINT64:case I.FIXED64:try{return ke.uParse(i)}catch{}break;default:try{return ke.parse(i)}catch{}break}return i}function th(i,e){switch(i.scalar){case I.INT64:case I.SFIXED64:case I.SINT64:"longAsString"in i&&i.longAsString&&typeof e=="string"&&(e=ke.parse(e));break;case I.FIXED64:case I.UINT64:"longAsString"in i&&i.longAsString&&typeof e=="string"&&(e=ke.uParse(e));break}return e}function nh(i,e){switch(i.scalar){case I.INT64:case I.SFIXED64:case I.SINT64:"longAsString"in i&&i.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=ke.parse(e));break;case I.FIXED64:case I.UINT64:"longAsString"in i&&i.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=ke.uParse(e));break}return e}function Zb(i){const e={$typeName:"google.protobuf.Struct",fields:{}};if(Ki(i))for(const[a,r]of Object.entries(i))e.fields[a]=Yb(r);return e}function zb(i){const e={};for(const[a,r]of Object.entries(i.fields))e[a]=_b(r);return e}function _b(i){switch(i.kind.case){case"structValue":return zb(i.kind.value);case"listValue":return i.kind.value.values.map(_b);case"nullValue":case void 0:return null;default:return i.kind.value}}function Yb(i){const e={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof i){case"number":e.kind={case:"numberValue",value:i};break;case"string":e.kind={case:"stringValue",value:i};break;case"boolean":e.kind={case:"boolValue",value:i};break;case"object":if(i===null)e.kind={case:"nullValue",value:0};else if(Array.isArray(i)){const a={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(i))for(const r of i)a.values.push(Yb(r));e.kind={case:"listValue",value:a}}else e.kind={case:"structValue",value:Zb(i)};break}return e}function ih(i){const e=vE();let a=i.length*3/4;i[i.length-2]=="="?a-=2:i[i.length-1]=="="&&(a-=1);let r=new Uint8Array(a),o=0,c=0,h,d=0;for(let y=0;y<i.length;y++){if(h=e[i.charCodeAt(y)],h===void 0)switch(i[y]){case"=":c=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(c){case 0:d=h,c=1;break;case 1:r[o++]=d<<2|(h&48)>>4,d=h,c=2;break;case 2:r[o++]=(d&15)<<4|(h&60)>>2,d=h,c=3;break;case 3:r[o++]=(d&3)<<6|h,c=0;break}}if(c==1)throw Error("invalid base64 string");return r.subarray(0,o)}function bE(i,e="std"){const a=Gb(e),r=e=="std";let o="",c=0,h,d=0;for(let y=0;y<i.length;y++)switch(h=i[y],c){case 0:o+=a[h>>2],d=(h&3)<<4,c=1;break;case 1:o+=a[d|h>>4],d=(h&15)<<2,c=2;break;case 2:o+=a[d|h>>6],o+=a[h&63],c=0;break}return c&&(o+=a[d],r&&(o+="=",c==1&&(o+="="))),o}let yo,ip,ar;function Gb(i){return yo||(yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ip=yo.slice(0,-2).concat("-","_")),i=="url"?ip:yo}function vE(){if(!ar){ar=[];const i=Gb("std");for(let e=0;e<i.length;e++)ar[i[e].charCodeAt(0)]=e;ar[45]=i.indexOf("+"),ar[95]=i.indexOf("/")}return ar}function Us(i){let e=!1;const a=[];for(let r=0;r<i.length;r++){let o=i.charAt(r);switch(o){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":a.push(o),e=!1;break;default:e&&(e=!1,o=o.toUpperCase()),a.push(o);break}}return a.join("")}const SE=new Set(["constructor","toString","toJSON","valueOf"]);function Ls(i){return SE.has(i)?i+"$":i}function ah(i){for(const e of i.field)Bs(e,"jsonName")||(e.jsonName=Us(e.name));i.nestedType.forEach(ah)}function AE(i,e){const a=i.values.find(r=>r.name===e);if(!a)throw new Error(`cannot parse ${i} default value: ${e}`);return a.number}function EE(i,e){switch(i){case I.STRING:return e;case I.BYTES:{const a=NE(e);if(a===!1)throw new Error(`cannot parse ${I[i]} default value: ${e}`);return a}case I.INT64:case I.SFIXED64:case I.SINT64:return ke.parse(e);case I.UINT64:case I.FIXED64:return ke.uParse(e);case I.DOUBLE:case I.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case I.BOOL:return e==="true";case I.INT32:case I.UINT32:case I.SINT32:case I.FIXED32:case I.SFIXED32:return parseInt(e,10)}}function NE(i){const e=[],a={tail:i,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(r){if(this.tail.length>=r){const o=this.tail.substring(0,r);return this.tail=this.tail.substring(r),o}return!1}};for(;a.next();)switch(a.c){case"\\":if(a.next())switch(a.c){case"\\":e.push(a.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const r=a.c,o=a.take(2);if(o===!1)return!1;const c=parseInt(r+o,8);if(Number.isNaN(c))return!1;e.push(c);break}case"x":{const r=a.c,o=a.take(2);if(o===!1)return!1;const c=parseInt(r+o,16);if(Number.isNaN(c))return!1;e.push(c);break}case"u":{const r=a.c,o=a.take(4);if(o===!1)return!1;const c=parseInt(r+o,16);if(Number.isNaN(c))return!1;const h=new Uint8Array(4);new DataView(h.buffer).setInt32(0,c,!0),e.push(h[0],h[1],h[2],h[3]);break}case"U":{const r=a.c,o=a.take(8);if(o===!1)return!1;const c=ke.uEnc(r+o),h=new Uint8Array(8),d=new DataView(h.buffer);d.setInt32(0,c.lo,!0),d.setInt32(4,c.hi,!0),e.push(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7]);break}}break;default:e.push(a.c.charCodeAt(0))}return new Uint8Array(e)}function*Df(i){switch(i.kind){case"file":for(const e of i.messages)yield e,yield*Df(e);yield*i.enums,yield*i.services,yield*i.extensions;break;case"message":for(const e of i.nestedMessages)yield e,yield*Df(e);yield*i.nestedEnums,yield*i.nestedExtensions;break}}function Wb(...i){const e=TE();if(!i.length)return e;if("$typeName"in i[0]&&i[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const r of i[0].file)lp(r,e);return e}if("$typeName"in i[0]){let h=function(d){const y=[];for(const m of d.dependency){if(e.getFile(m)!=null||c.has(m))continue;const v=o(m);if(!v)throw new Error(`Unable to resolve ${m}, imported by ${d.name}`);"kind"in v?e.addFile(v,!1,!0):(c.add(v.name),y.push(v))}return y.concat(...y.map(h))};var a=h;const r=i[0],o=i[1],c=new Set;for(const d of[r,...h(r)].reverse())lp(d,e)}else for(const r of i)for(const o of r.files)e.addFile(o);return e}function TE(){const i=new Map,e=new Map,a=new Map;return{kind:"registry",types:i,extendees:e,[Symbol.iterator](){return i.values()},get files(){return a.values()},addFile(r,o,c){if(a.set(r.proto.name,r),!o)for(const h of Df(r))this.add(h);if(c)for(const h of r.dependencies)this.addFile(h,o,c)},add(r){if(r.kind=="extension"){let o=e.get(r.extendee.typeName);o||e.set(r.extendee.typeName,o=new Map),o.set(r.number,r)}i.set(r.typeName,r)},get(r){return i.get(r)},getFile(r){return a.get(r)},getMessage(r){const o=i.get(r);return o?.kind=="message"?o:void 0},getEnum(r){const o=i.get(r);return o?.kind=="enum"?o:void 0},getExtension(r){const o=i.get(r);return o?.kind=="extension"?o:void 0},getExtensionFor(r,o){var c;return(c=e.get(r.typeName))===null||c===void 0?void 0:c.get(o)},getService(r){const o=i.get(r);return o?.kind=="service"?o:void 0}}}const RE=998,IE=999,CE=9,Ms=10,Cs=11,wE=12,ap=14,rh=3,DE=2,rp=1,OE=0,Nf=1,sp=2,VE=3,xE=1,BE=2,UE=1,Kb={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function lp(i,e){var a,r;const o={kind:"file",proto:i,deprecated:(r=(a=i.options)===null||a===void 0?void 0:a.deprecated)!==null&&r!==void 0?r:!1,edition:zE(i),name:i.name.replace(/\.proto$/,""),dependencies:_E(i,e),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${i.name}`}},c=new Map,h={get(d){return c.get(d)},add(d){var y;En(((y=d.proto.options)===null||y===void 0?void 0:y.mapEntry)===!0),c.set(d.typeName,d)}};for(const d of i.enumType)Xb(d,o,void 0,e);for(const d of i.messageType)Jb(d,o,void 0,e,h);for(const d of i.service)LE(d,o,e);Of(o,e);for(const d of c.values())Vf(d,e,h);for(const d of o.messages)Vf(d,e,h),Of(d,e);e.addFile(o,!0)}function Of(i,e){switch(i.kind){case"file":for(const a of i.proto.extension){const r=xf(a,i,e);i.extensions.push(r),e.add(r)}break;case"message":for(const a of i.proto.extension){const r=xf(a,i,e);i.nestedExtensions.push(r),e.add(r)}for(const a of i.nestedMessages)Of(a,e);break}}function Vf(i,e,a){const r=i.proto.oneofDecl.map(c=>ZE(c,i)),o=new Set;for(const c of i.proto.field){const h=WE(c,r),d=xf(c,i,e,h,a);i.fields.push(d),i.field[d.localName]=d,h===void 0?i.members.push(d):(h.fields.push(d),o.has(h)||(o.add(h),i.members.push(h)))}for(const c of r.filter(h=>o.has(h)))i.oneofs.push(c);for(const c of i.nestedMessages)Vf(c,e,a)}function Xb(i,e,a,r){var o,c,h,d,y;const m=YE(i.name,i.value),v={kind:"enum",proto:i,deprecated:(c=(o=i.options)===null||o===void 0?void 0:o.deprecated)!==null&&c!==void 0?c:!1,file:e,parent:a,open:!0,name:i.name,typeName:Lo(i,a,e),value:{},values:[],sharedPrefix:m,toString(){return`enum ${this.typeName}`}};v.open=kE(v),r.add(v);for(const T of i.value){const V=T.name;v.values.push(v.value[T.number]={kind:"enum_value",proto:T,deprecated:(d=(h=T.options)===null||h===void 0?void 0:h.deprecated)!==null&&d!==void 0?d:!1,parent:v,name:V,localName:Ls(m==null?V:V.substring(m.length)),number:T.number,toString(){return`enum value ${v.typeName}.${V}`}})}((y=a?.nestedEnums)!==null&&y!==void 0?y:e.enums).push(v)}function Jb(i,e,a,r,o){var c,h,d,y;const m={kind:"message",proto:i,deprecated:(h=(c=i.options)===null||c===void 0?void 0:c.deprecated)!==null&&h!==void 0?h:!1,file:e,parent:a,name:i.name,typeName:Lo(i,a,e),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((d=i.options)===null||d===void 0?void 0:d.mapEntry)===!0?o.add(m):(((y=a?.nestedMessages)!==null&&y!==void 0?y:e.messages).push(m),r.add(m));for(const v of i.enumType)Xb(v,e,m,r);for(const v of i.nestedType)Jb(v,e,m,r,o)}function LE(i,e,a){var r,o;const c={kind:"service",proto:i,deprecated:(o=(r=i.options)===null||r===void 0?void 0:r.deprecated)!==null&&o!==void 0?o:!1,file:e,name:i.name,typeName:Lo(i,void 0,e),methods:[],method:{},toString(){return`service ${this.typeName}`}};e.services.push(c),a.add(c);for(const h of i.method){const d=ME(h,c,a);c.methods.push(d),c.method[d.localName]=d}}function ME(i,e,a){var r,o,c,h;let d;i.clientStreaming&&i.serverStreaming?d="bidi_streaming":i.clientStreaming?d="client_streaming":i.serverStreaming?d="server_streaming":d="unary";const y=a.getMessage(ai(i.inputType)),m=a.getMessage(ai(i.outputType));En(y,`invalid MethodDescriptorProto: input_type ${i.inputType} not found`),En(m,`invalid MethodDescriptorProto: output_type ${i.inputType} not found`);const v=i.name;return{kind:"rpc",proto:i,deprecated:(o=(r=i.options)===null||r===void 0?void 0:r.deprecated)!==null&&o!==void 0?o:!1,parent:e,name:v,localName:Ls(v.length?Ls(v[0].toLowerCase()+v.substring(1)):v),methodKind:d,input:y,output:m,idempotency:(h=(c=i.options)===null||c===void 0?void 0:c.idempotencyLevel)!==null&&h!==void 0?h:OE,toString(){return`rpc ${e.typeName}.${v}`}}}function ZE(i,e){return{kind:"oneof",proto:i,deprecated:!1,parent:e,fields:[],name:i.name,localName:Ls(Us(i.name)),toString(){return`oneof ${e.typeName}.${this.name}`}}}function xf(i,e,a,r,o){var c,h,d;const y=o===void 0,m={kind:"field",proto:i,deprecated:(h=(c=i.options)===null||c===void 0?void 0:c.deprecated)!==null&&h!==void 0?h:!1,name:i.name,number:i.number,scalar:void 0,message:void 0,enum:void 0,presence:KE(i,r,y,e),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(y){const C=e.kind=="file"?e:e.file,L=e.kind=="file"?void 0:e,_=Lo(i,L,C);m.kind="extension",m.file=C,m.parent=L,m.oneof=void 0,m.typeName=_,m.jsonName=`[${_}]`,m.toString=()=>`extension ${_}`;const j=a.getMessage(ai(i.extendee));En(j,`invalid FieldDescriptorProto: extendee ${i.extendee} not found`),m.extendee=j}else{const C=e;En(C.kind=="message"),m.parent=C,m.oneof=r,m.localName=r?Us(i.name):Ls(Us(i.name)),m.jsonName=i.jsonName,m.toString=()=>`field ${C.typeName}.${i.name}`}const v=i.label,T=i.type,V=(d=i.options)===null||d===void 0?void 0:d.jstype;if(v===rh){const C=T==Cs?o?.get(ai(i.typeName)):void 0;if(C){m.fieldKind="map";const{key:L,value:_}=JE(C);return m.mapKey=L.scalar,m.mapKind=_.fieldKind,m.message=_.message,m.delimitedEncoding=!1,m.enum=_.enum,m.scalar=_.scalar,m}switch(m.fieldKind="list",T){case Cs:case Ms:m.listKind="message",m.message=a.getMessage(ai(i.typeName)),En(m.message),m.delimitedEncoding=op(i,e);break;case ap:m.listKind="enum",m.enum=a.getEnum(ai(i.typeName)),En(m.enum);break;default:m.listKind="scalar",m.scalar=T,m.longAsString=V==rp;break}return m.packed=XE(i,e),m}switch(T){case Cs:case Ms:m.fieldKind="message",m.message=a.getMessage(ai(i.typeName)),En(m.message,`invalid FieldDescriptorProto: type_name ${i.typeName} not found`),m.delimitedEncoding=op(i,e),m.getDefaultValue=()=>{};break;case ap:{const C=a.getEnum(ai(i.typeName));En(C!==void 0,`invalid FieldDescriptorProto: type_name ${i.typeName} not found`),m.fieldKind="enum",m.enum=a.getEnum(ai(i.typeName)),m.getDefaultValue=()=>Bs(i,"defaultValue")?AE(C,i.defaultValue):void 0;break}default:{m.fieldKind="scalar",m.scalar=T,m.longAsString=V==rp,m.getDefaultValue=()=>Bs(i,"defaultValue")?EE(T,i.defaultValue):void 0;break}}return m}function zE(i){switch(i.syntax){case"":case"proto2":return RE;case"proto3":return IE;case"editions":if(i.edition in Kb)return i.edition;throw new Error(`${i.name}: unsupported edition`);default:throw new Error(`${i.name}: unsupported syntax "${i.syntax}"`)}}function _E(i,e){return i.dependency.map(a=>{const r=e.getFile(a);if(!r)throw new Error(`Cannot find ${a}, imported by ${i.name}`);return r})}function YE(i,e){const a=GE(i)+"_";for(const r of e){if(!r.name.toLowerCase().startsWith(a))return;const o=r.name.substring(a.length);if(o.length==0||/^\d/.test(o))return}return a}function GE(i){return(i.substring(0,1)+i.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function Lo(i,e,a){let r;return e?r=`${e.typeName}.${i.name}`:a.proto.package.length>0?r=`${a.proto.package}.${i.name}`:r=`${i.name}`,r}function ai(i){return i.startsWith(".")?i.substring(1):i}function WE(i,e){if(!Bs(i,"oneofIndex")||i.proto3Optional)return;const a=e[i.oneofIndex];return En(a,`invalid FieldDescriptorProto: oneof #${i.oneofIndex} for field #${i.number} not found`),a}function KE(i,e,a,r){if(i.label==DE)return VE;if(i.label==rh)return sp;if(e||i.proto3Optional||a)return Nf;const o=gr("fieldPresence",{proto:i,parent:r});return o==sp&&(i.type==Cs||i.type==Ms)?Nf:o}function XE(i,e){if(i.label!=rh)return!1;switch(i.type){case CE:case wE:case Ms:case Cs:return!1}const a=i.options;return a&&Bs(a,"packed")?a.packed:xE==gr("repeatedFieldEncoding",{proto:i,parent:e})}function JE(i){const e=i.fields.find(r=>r.number===1),a=i.fields.find(r=>r.number===2);return En(e&&e.fieldKind=="scalar"&&e.scalar!=I.BYTES&&e.scalar!=I.FLOAT&&e.scalar!=I.DOUBLE&&a&&a.fieldKind!="list"&&a.fieldKind!="map"),{key:e,value:a}}function kE(i){var e;return UE==gr("enumType",{proto:i.proto,parent:(e=i.parent)!==null&&e!==void 0?e:i.file})}function op(i,e){return i.type==Ms?!0:BE==gr("messageEncoding",{proto:i,parent:e})}function gr(i,e){var a,r;const o=(a=e.proto.options)===null||a===void 0?void 0:a.features;if(o){const c=o[i];if(c!=0)return c}if("kind"in e){if(e.kind=="message")return gr(i,(r=e.parent)!==null&&r!==void 0?r:e.file);const c=Kb[e.edition];if(!c)throw new Error(`feature default for edition ${e.edition} not found`);return c[i]}return gr(i,e.parent)}function En(i,e){if(!i)throw new Error(e)}function jE(i){const e=FE(i);return e.messageType.forEach(ah),Wb(e,()=>{}).getFile(e.name)}function FE(i){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},i),{messageType:i.messageType.map(kb),enumType:i.enumType.map(jb)}))}function kb(i){var e,a,r,o,c,h,d,y;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:i.name,field:(a=(e=i.field)===null||e===void 0?void 0:e.map(HE))!==null&&a!==void 0?a:[],extension:[],nestedType:(o=(r=i.nestedType)===null||r===void 0?void 0:r.map(kb))!==null&&o!==void 0?o:[],enumType:(h=(c=i.enumType)===null||c===void 0?void 0:c.map(jb))!==null&&h!==void 0?h:[],extensionRange:(y=(d=i.extensionRange)===null||d===void 0?void 0:d.map(v=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},v)))!==null&&y!==void 0?y:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function HE(i){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},i),{options:i.options?QE(i.options):void 0}))}function QE(i){var e,a,r;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},i),{targets:(e=i.targets)!==null&&e!==void 0?e:[],editionDefaults:(r=(a=i.editionDefaults)===null||a===void 0?void 0:a.map(c=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},c)))!==null&&r!==void 0?r:[],uninterpretedOption:[]}))}function jb(i){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:i.name,reservedName:[],reservedRange:[],value:i.value.map(a=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},a))})}function ae(i,e,...a){return a.reduce((r,o)=>r.nestedMessages[o],i.messages[e])}const $E=jE({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),PE=ae($E,1);var up;(function(i){i[i.DECLARATION=0]="DECLARATION",i[i.UNVERIFIED=1]="UNVERIFIED"})(up||(up={}));var cp;(function(i){i[i.DOUBLE=1]="DOUBLE",i[i.FLOAT=2]="FLOAT",i[i.INT64=3]="INT64",i[i.UINT64=4]="UINT64",i[i.INT32=5]="INT32",i[i.FIXED64=6]="FIXED64",i[i.FIXED32=7]="FIXED32",i[i.BOOL=8]="BOOL",i[i.STRING=9]="STRING",i[i.GROUP=10]="GROUP",i[i.MESSAGE=11]="MESSAGE",i[i.BYTES=12]="BYTES",i[i.UINT32=13]="UINT32",i[i.ENUM=14]="ENUM",i[i.SFIXED32=15]="SFIXED32",i[i.SFIXED64=16]="SFIXED64",i[i.SINT32=17]="SINT32",i[i.SINT64=18]="SINT64"})(cp||(cp={}));var fp;(function(i){i[i.OPTIONAL=1]="OPTIONAL",i[i.REPEATED=3]="REPEATED",i[i.REQUIRED=2]="REQUIRED"})(fp||(fp={}));var hp;(function(i){i[i.SPEED=1]="SPEED",i[i.CODE_SIZE=2]="CODE_SIZE",i[i.LITE_RUNTIME=3]="LITE_RUNTIME"})(hp||(hp={}));var dp;(function(i){i[i.STRING=0]="STRING",i[i.CORD=1]="CORD",i[i.STRING_PIECE=2]="STRING_PIECE"})(dp||(dp={}));var gp;(function(i){i[i.JS_NORMAL=0]="JS_NORMAL",i[i.JS_STRING=1]="JS_STRING",i[i.JS_NUMBER=2]="JS_NUMBER"})(gp||(gp={}));var mp;(function(i){i[i.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",i[i.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",i[i.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(mp||(mp={}));var yp;(function(i){i[i.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",i[i.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",i[i.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",i[i.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",i[i.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",i[i.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",i[i.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",i[i.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",i[i.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",i[i.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(yp||(yp={}));var pp;(function(i){i[i.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",i[i.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",i[i.IDEMPOTENT=2]="IDEMPOTENT"})(pp||(pp={}));var bp;(function(i){i[i.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",i[i.EXPORT_ALL=1]="EXPORT_ALL",i[i.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",i[i.LOCAL_ALL=3]="LOCAL_ALL",i[i.STRICT=4]="STRICT"})(bp||(bp={}));var vp;(function(i){i[i.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",i[i.EXPLICIT=1]="EXPLICIT",i[i.IMPLICIT=2]="IMPLICIT",i[i.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(vp||(vp={}));var Sp;(function(i){i[i.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",i[i.OPEN=1]="OPEN",i[i.CLOSED=2]="CLOSED"})(Sp||(Sp={}));var Ap;(function(i){i[i.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",i[i.PACKED=1]="PACKED",i[i.EXPANDED=2]="EXPANDED"})(Ap||(Ap={}));var Ep;(function(i){i[i.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",i[i.VERIFY=2]="VERIFY",i[i.NONE=3]="NONE"})(Ep||(Ep={}));var Np;(function(i){i[i.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",i[i.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",i[i.DELIMITED=2]="DELIMITED"})(Np||(Np={}));var Tp;(function(i){i[i.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",i[i.ALLOW=1]="ALLOW",i[i.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(Tp||(Tp={}));var Rp;(function(i){i[i.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",i[i.STYLE2024=1]="STYLE2024",i[i.STYLE_LEGACY=2]="STYLE_LEGACY"})(Rp||(Rp={}));var Ip;(function(i){i[i.NONE=0]="NONE",i[i.SET=1]="SET",i[i.ALIAS=2]="ALIAS"})(Ip||(Ip={}));var Cp;(function(i){i[i.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",i[i.EDITION_LEGACY=900]="EDITION_LEGACY",i[i.EDITION_PROTO2=998]="EDITION_PROTO2",i[i.EDITION_PROTO3=999]="EDITION_PROTO3",i[i.EDITION_2023=1e3]="EDITION_2023",i[i.EDITION_2024=1001]="EDITION_2024",i[i.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",i[i.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",i[i.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",i[i.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",i[i.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",i[i.EDITION_MAX=2147483647]="EDITION_MAX"})(Cp||(Cp={}));var wp;(function(i){i[i.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",i[i.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",i[i.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})(wp||(wp={}));const Dp={readUnknownFields:!0};function qE(i){return i?Object.assign(Object.assign({},Dp),i):Dp}function fn(i,e,a){const r=cn(i,void 0,!1);return Fb(r,new $f(e),qE(a),!1,e.byteLength),r.message}function Fb(i,e,a,r,o){var c;const h=r?e.len:e.pos+o;let d,y;const m=(c=i.getUnknown())!==null&&c!==void 0?c:[];for(;e.pos<h&&([d,y]=e.tag(),!(r&&y==et.EndGroup));){const v=i.findNumber(d);if(!v){const T=e.skip(y,d);a.readUnknownFields&&m.push({no:d,wireType:y,data:T});continue}Hb(i,e,v,y,a)}if(r&&(y!=et.EndGroup||d!==o))throw new Error("invalid end group tag");m.length>0&&i.setUnknown(m)}function Hb(i,e,a,r,o){var c;switch(a.fieldKind){case"scalar":i.set(a,mr(e,a.scalar));break;case"enum":const h=mr(e,I.INT32);if(a.enum.open)i.set(a,h);else if(a.enum.values.some(y=>y.number===h))i.set(a,h);else if(o.readUnknownFields){const y=[];wf(h,y);const m=(c=i.getUnknown())!==null&&c!==void 0?c:[];m.push({no:a.number,wireType:r,data:new Uint8Array(y)}),i.setUnknown(m)}break;case"message":i.set(a,sh(e,o,a,i.get(a)));break;case"list":t1(e,r,i.get(a),o);break;case"map":e1(e,i.get(a),o);break}}function e1(i,e,a){const r=e.field();let o,c;const h=i.uint32(),d=i.pos+h;for(;i.pos<d;){const[y]=i.tag();switch(y){case 1:o=mr(i,r.mapKey);break;case 2:switch(r.mapKind){case"scalar":c=mr(i,r.scalar);break;case"enum":c=i.int32();break;case"message":c=sh(i,a,r);break}break}}if(o===void 0&&(o=pa(r.mapKey,!1)),c===void 0)switch(r.mapKind){case"scalar":c=pa(r.scalar,!1);break;case"enum":c=r.enum.values[0].number;break;case"message":c=cn(r.message,void 0,!1);break}e.set(o,c)}function t1(i,e,a,r){var o;const c=a.field();if(c.listKind==="message"){a.add(sh(i,r,c));return}const h=(o=c.scalar)!==null&&o!==void 0?o:I.INT32;if(!(e==et.LengthDelimited&&h!=I.STRING&&h!=I.BYTES)){a.add(mr(i,h));return}const y=i.uint32()+i.pos;for(;i.pos<y;)a.add(mr(i,h))}function sh(i,e,a,r){const o=a.delimitedEncoding,c=r??cn(a.message,void 0,!1);return Fb(c,i,e,o,o?a.number:i.uint32()),c}function mr(i,e){switch(e){case I.STRING:return i.string();case I.BOOL:return i.bool();case I.DOUBLE:return i.double();case I.FLOAT:return i.float();case I.INT32:return i.int32();case I.INT64:return i.int64();case I.UINT64:return i.uint64();case I.FIXED64:return i.fixed64();case I.BYTES:return i.bytes();case I.FIXED32:return i.fixed32();case I.SFIXED32:return i.sfixed32();case I.SFIXED64:return i.sfixed64();case I.SINT64:return i.sint64();case I.UINT32:return i.uint32();case I.SINT32:return i.sint32()}}function fi(i,e){var a;const r=fn(PE,ih(i));return r.messageType.forEach(ah),r.dependency=(a=e?.map(c=>c.proto.name))!==null&&a!==void 0?a:[],Wb(r,c=>e?.find(h=>h.proto.name===c)).getFile(r.name)}const n1=fi("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function i1(i){return new Date(a1(i))}function a1(i){return Number(i.seconds)*1e3+Math.round(i.nanos/1e6)}const r1=fi("Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),Qb=fi("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),s1=ae(Qb,0),l1=3,Op={writeUnknownFields:!0};function o1(i){return i?Object.assign(Object.assign({},Op),i):Op}function Xi(i,e,a){return wo(new Vb,o1(a),cn(i,e)).finish()}function wo(i,e,a){var r;for(const o of a.sortedFields){if(!a.isSet(o)){if(o.presence==l1)throw new Error(`cannot encode ${o} to binary: required field not set`);continue}$b(i,e,a,o)}if(e.writeUnknownFields)for(const{no:o,wireType:c,data:h}of(r=a.getUnknown())!==null&&r!==void 0?r:[])i.tag(o,c).raw(h);return i}function $b(i,e,a,r){var o;switch(r.fieldKind){case"scalar":case"enum":Do(i,a.desc.typeName,r.name,(o=r.scalar)!==null&&o!==void 0?o:I.INT32,r.number,a.get(r));break;case"list":u1(i,e,r,a.get(r));break;case"message":Pb(i,e,r,a.get(r));break;case"map":for(const[c,h]of a.get(r))c1(i,e,r,c,h);break}}function Do(i,e,a,r,o,c){qb(i.tag(o,f1(r)),e,a,r,c)}function Pb(i,e,a,r){a.delimitedEncoding?wo(i.tag(a.number,et.StartGroup),e,r).tag(a.number,et.EndGroup):wo(i.tag(a.number,et.LengthDelimited).fork(),e,r).join()}function u1(i,e,a,r){var o;if(a.listKind=="message"){for(const h of r)Pb(i,e,a,h);return}const c=(o=a.scalar)!==null&&o!==void 0?o:I.INT32;if(a.packed){if(!r.size)return;i.tag(a.number,et.LengthDelimited).fork();for(const h of r)qb(i,a.parent.typeName,a.name,c,h);i.join();return}for(const h of r)Do(i,a.parent.typeName,a.name,c,a.number,h)}function c1(i,e,a,r,o){var c;switch(i.tag(a.number,et.LengthDelimited).fork(),Do(i,a.parent.typeName,a.name,a.mapKey,1,r),a.mapKind){case"scalar":case"enum":Do(i,a.parent.typeName,a.name,(c=a.scalar)!==null&&c!==void 0?c:I.INT32,2,o);break;case"message":wo(i.tag(2,et.LengthDelimited).fork(),e,o).join();break}i.join()}function qb(i,e,a,r,o){try{switch(r){case I.STRING:i.string(o);break;case I.BOOL:i.bool(o);break;case I.DOUBLE:i.double(o);break;case I.FLOAT:i.float(o);break;case I.INT32:i.int32(o);break;case I.INT64:i.int64(o);break;case I.UINT64:i.uint64(o);break;case I.FIXED64:i.fixed64(o);break;case I.BYTES:i.bytes(o);break;case I.FIXED32:i.fixed32(o);break;case I.SFIXED32:i.sfixed32(o);break;case I.SFIXED64:i.sfixed64(o);break;case I.SINT64:i.sint64(o);break;case I.UINT32:i.uint32(o);break;case I.SINT32:i.sint32(o);break}}catch(c){throw c instanceof Error?new Error(`cannot encode field ${e}.${a} to binary: ${c.message}`):c}}function f1(i){switch(i){case I.BYTES:case I.STRING:return et.LengthDelimited;case I.DOUBLE:case I.FIXED64:case I.SFIXED64:return et.Bit64;case I.FIXED32:case I.SFIXED32:case I.FLOAT:return et.Bit32;default:return et.Varint}}function h1(i,e,a){let r=!1;return a||(a=H(s1),r=!0),a.value=Xi(i,e),a.typeUrl=m1(e.$typeName),r?a:void 0}function d1(i,e){if(i.typeUrl==="")return!1;const a=typeof e=="string"?e:e.typeName,r=ev(i.typeUrl);return a===r}function g1(i,e){if(i.typeUrl==="")return;const a=e.kind=="message"?e:e.getMessage(ev(i.typeUrl));if(!(!a||!d1(i,a)))return fn(a,i.value)}function m1(i){return`type.googleapis.com/${i}`}function ev(i){const e=i.lastIndexOf("/"),a=e>=0?i.substring(e+1):i;if(!a.length)throw new Error(`invalid type url: ${i}`);return a}const lh=fi("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),y1=ae(lh,0),tv=ae(lh,1),p1=ae(lh,2);var Bf;(function(i){i[i.NULL_VALUE=0]="NULL_VALUE"})(Bf||(Bf={}));const b1=fi("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function v1(i,e){nv(e,i);const a=A1(i.$unknown,e),[r,o,c]=Mo(e);for(const h of a)Hb(r,new $f(h.data),o,h.wireType,{readUnknownFields:!0});return c()}function S1(i,e,a){var r;nv(e,i);const o=((r=i.$unknown)!==null&&r!==void 0?r:[]).filter(m=>m.no!==e.number),[c,h]=Mo(e,a),d=new Vb;$b(d,{writeUnknownFields:!0},c,h);const y=new $f(d.finish());for(;y.pos<y.len;){const[m,v]=y.tag(),T=y.skip(v,m);o.push({no:m,wireType:v,data:T})}i.$unknown=o}function A1(i,e){if(i===void 0)return[];if(e.fieldKind==="enum"||e.fieldKind==="scalar"){for(let a=i.length-1;a>=0;--a)if(i[a].no==e.number)return[i[a]];return[]}return i.filter(a=>a.no===e.number)}function Mo(i,e){const a=i.typeName,r=Object.assign(Object.assign({},i),{kind:"field",parent:i.extendee,localName:a}),o=Object.assign(Object.assign({},i.extendee),{fields:[r],members:[r],oneofs:[]}),c=H(o,e!==void 0?{[a]:e}:void 0);return[cn(o,c),r,()=>{const h=c[a];if(h===void 0){const d=i.message;return Xs(d)?pa(d.fields[0].scalar,d.fields[0].longAsString):H(d)}return h}]}function nv(i,e){if(i.extendee.typeName!=e.$typeName)throw new Error(`extension ${i.typeName} can only be applied to message ${i.extendee.typeName}`)}const E1=3,N1=2,Vp={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function T1(i){return i?Object.assign(Object.assign({},Vp),i):Vp}function R1(i,e,a){return Js(cn(i,e),T1(a))}function I1(i,e,a){var r;const o=R1(i,e,a);return JSON.stringify(o,null,(r=a?.prettySpaces)!==null&&r!==void 0?r:0)}function Js(i,e){var a;const r=O1(i,e);if(r!==void 0)return r;const o={};for(const c of i.sortedFields){if(!i.isSet(c)){if(c.presence==E1)throw new Error(`cannot encode ${c} to JSON: required field not set`);if(!e.alwaysEmitImplicit||c.presence!==N1)continue}const h=xp(c,i.get(c),e);h!==void 0&&(o[D1(c,e)]=h)}if(e.registry){const c=new Set;for(const{no:h}of(a=i.getUnknown())!==null&&a!==void 0?a:[])if(!c.has(h)){c.add(h);const d=e.registry.getExtensionFor(i.desc,h);if(!d)continue;const y=v1(i.message,d),[m,v]=Mo(d,y),T=xp(v,m.get(v),e);T!==void 0&&(o[d.jsonName]=T)}}return o}function xp(i,e,a){switch(i.fieldKind){case"scalar":return Zo(i,e);case"message":return Js(e,a);case"enum":return oh(i.enum,e,a.enumAsInteger);case"list":return w1(e,a);case"map":return C1(e,a)}}function C1(i,e){const a=i.field(),r={};switch(a.mapKind){case"scalar":for(const[o,c]of i)r[o]=Zo(a,c);break;case"message":for(const[o,c]of i)r[o]=Js(c,e);break;case"enum":for(const[o,c]of i)r[o]=oh(a.enum,c,e.enumAsInteger);break}return e.alwaysEmitImplicit||i.size>0?r:void 0}function w1(i,e){const a=i.field(),r=[];switch(a.listKind){case"scalar":for(const o of i)r.push(Zo(a,o));break;case"enum":for(const o of i)r.push(oh(a.enum,o,e.enumAsInteger));break;case"message":for(const o of i)r.push(Js(o,e));break}return e.alwaysEmitImplicit||r.length>0?r:void 0}function oh(i,e,a){var r;if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: expected number, got ${ct(e)}`);if(i.typeName=="google.protobuf.NullValue")return null;if(a)return e;const o=i.value[e];return(r=o?.name)!==null&&r!==void 0?r:e}function Zo(i,e){var a,r,o,c,h,d;switch(i.scalar){case I.INT32:case I.SFIXED32:case I.SINT32:case I.FIXED32:case I.UINT32:if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: ${(a=ha(i,e))===null||a===void 0?void 0:a.message}`);return e;case I.FLOAT:case I.DOUBLE:if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: ${(r=ha(i,e))===null||r===void 0?void 0:r.message}`);return Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case I.STRING:if(typeof e!="string")throw new Error(`cannot encode ${i} to JSON: ${(o=ha(i,e))===null||o===void 0?void 0:o.message}`);return e;case I.BOOL:if(typeof e!="boolean")throw new Error(`cannot encode ${i} to JSON: ${(c=ha(i,e))===null||c===void 0?void 0:c.message}`);return e;case I.UINT64:case I.FIXED64:case I.INT64:case I.SFIXED64:case I.SINT64:if(typeof e!="bigint"&&typeof e!="string")throw new Error(`cannot encode ${i} to JSON: ${(h=ha(i,e))===null||h===void 0?void 0:h.message}`);return e.toString();case I.BYTES:if(e instanceof Uint8Array)return bE(e);throw new Error(`cannot encode ${i} to JSON: ${(d=ha(i,e))===null||d===void 0?void 0:d.message}`)}}function D1(i,e){return e.useProtoFieldName?i.name:i.jsonName}function O1(i,e){if(i.desc.typeName.startsWith("google.protobuf."))switch(i.desc.typeName){case"google.protobuf.Any":return V1(i.message,e);case"google.protobuf.Timestamp":return U1(i.message);case"google.protobuf.Duration":return x1(i.message);case"google.protobuf.FieldMask":return B1(i.message);case"google.protobuf.Struct":return iv(i.message);case"google.protobuf.Value":return uh(i.message);case"google.protobuf.ListValue":return av(i.message);default:if(Xs(i.desc)){const a=i.desc.fields[0];return Zo(a,i.get(a))}return}}function V1(i,e){if(i.typeUrl==="")return{};const{registry:a}=e;let r,o;if(a&&(r=g1(i,a),r&&(o=a.getMessage(r.$typeName))),!o||!r)throw new Error(`cannot encode message ${i.$typeName} to JSON: "${i.typeUrl}" is not in the type registry`);let c=Js(cn(o,r),e);return(o.typeName.startsWith("google.protobuf.")||c===null||Array.isArray(c)||typeof c!="object")&&(c={value:c}),c["@type"]=i.typeUrl,c}function x1(i){const e=Number(i.seconds),a=i.nanos;if(e>315576e6||e<-315576e6)throw new Error(`cannot encode message ${i.$typeName} to JSON: value out of range`);if(e>0&&a<0||e<0&&a>0)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos sign must match seconds sign`);let r=i.seconds.toString();if(a!==0){let o=Math.abs(a).toString();o="0".repeat(9-o.length)+o,o.substring(3)==="000000"?o=o.substring(0,3):o.substring(6)==="000"&&(o=o.substring(0,6)),r+="."+o,a<0&&e==0&&(r="-"+r)}return r+"s"}function B1(i){return i.paths.map(e=>{if(e.match(/_[0-9]?_/g)||e.match(/[A-Z]/g))throw new Error(`cannot encode message ${i.$typeName} to JSON: lowerCamelCase of path name "`+e+'" is irreversible');return Us(e)}).join(",")}function iv(i){const e={};for(const[a,r]of Object.entries(i.fields))e[a]=uh(r);return e}function uh(i){switch(i.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(i.kind.value))throw new Error(`${i.$typeName} cannot be NaN or Infinity`);return i.kind.value;case"boolValue":return i.kind.value;case"stringValue":return i.kind.value;case"structValue":return iv(i.kind.value);case"listValue":return av(i.kind.value);default:throw new Error(`${i.$typeName} must have a value`)}}function av(i){return i.values.map(uh)}function U1(i){const e=Number(i.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${i.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(i.nanos<0)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos must not be negative`);if(i.nanos>999999999)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos must not be greater than 99999999`);let a="Z";if(i.nanos>0){const r=(i.nanos+1e9).toString().substring(1);r.substring(3)==="000000"?a="."+r.substring(0,3)+"Z":r.substring(6)==="000"?a="."+r.substring(0,6)+"Z":a="."+r+"Z"}return new Date(e).toISOString().replace(".000Z",a)}const Bp={ignoreUnknownFields:!1};function L1(i){return i?Object.assign(Object.assign({},Bp),i):Bp}function M1(i,e,a){return Z1(i,X1(e,i.typeName),a)}function Z1(i,e,a){const r=cn(i);try{yr(r,e,L1(a))}catch(o){throw fE(o)?new Error(`cannot decode ${o.field()} from JSON: ${o.message}`,{cause:o}):o}return r.message}function yr(i,e,a){var r;if(J1(i,e,a))return;if(e==null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode ${i.desc} from JSON: ${ct(e)}`);const o=new Map,c=new Map;for(const h of i.desc.fields)c.set(h.name,h).set(h.jsonName,h);for(const[h,d]of Object.entries(e)){const y=c.get(h);if(y){if(y.oneof){if(d===null&&y.fieldKind=="scalar")continue;const m=o.get(y.oneof);if(m!==void 0)throw new Ut(y.oneof,`oneof set multiple times by ${m.name} and ${y.name}`);o.set(y.oneof,y)}Up(i,y,d,a)}else{let m;if(h.startsWith("[")&&h.endsWith("]")&&(m=(r=a.registry)===null||r===void 0?void 0:r.getExtension(h.substring(1,h.length-1)))&&m.extendee.typeName===i.desc.typeName){const[v,T,V]=Mo(m);Up(v,T,d,a),S1(i.message,m,V())}if(!m&&!a.ignoreUnknownFields)throw new Error(`cannot decode ${i.desc} from JSON: key "${h}" is unknown`)}}}function Up(i,e,a,r){switch(e.fieldKind){case"scalar":W1(i,e,a);break;case"enum":G1(i,e,a,r);break;case"message":Y1(i,e,a,r);break;case"list":_1(i.get(e),a,r);break;case"map":z1(i.get(e),a,r);break}}function z1(i,e,a){if(e===null)return;const r=i.field();if(typeof e!="object"||Array.isArray(e))throw new Ut(r,"expected object, got "+ct(e));for(const[o,c]of Object.entries(e)){if(c===null)throw new Ut(r,"map value must not be null");let h;switch(r.mapKind){case"message":const y=cn(r.message);yr(y,c,a),h=y;break;case"enum":if(h=ch(r.enum,c,a.ignoreUnknownFields,!0),h===zo)return;break;case"scalar":h=Yo(r,c,!0);break}const d=K1(r.mapKey,o);i.set(d,h)}}function _1(i,e,a){if(e===null)return;const r=i.field();if(!Array.isArray(e))throw new Ut(r,"expected Array, got "+ct(e));for(const o of e){if(o===null)throw new Ut(r,"list item must not be null");switch(r.listKind){case"message":const c=cn(r.message);yr(c,o,a),i.add(c);break;case"enum":const h=ch(r.enum,o,a.ignoreUnknownFields,!0);h!==zo&&i.add(h);break;case"scalar":i.add(Yo(r,o,!0));break}}}function Y1(i,e,a,r){if(a===null&&e.message.typeName!="google.protobuf.Value"){i.clear(e);return}const o=i.isSet(e)?i.get(e):cn(e.message);yr(o,a,r),i.set(e,o)}function G1(i,e,a,r){const o=ch(e.enum,a,r.ignoreUnknownFields,!1);o===_o?i.clear(e):o!==zo&&i.set(e,o)}function W1(i,e,a){const r=Yo(e,a,!1);r===_o?i.clear(e):i.set(e,r)}const zo=Symbol();function ch(i,e,a,r){if(e===null)return i.typeName=="google.protobuf.NullValue"?0:r?i.values[0].number:_o;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const o=i.values.find(c=>c.name===e);if(o!==void 0)return o.number;if(a)return zo;break}throw new Error(`cannot decode ${i} from JSON: ${ct(e)}`)}const _o=Symbol();function Yo(i,e,a){if(e===null)return a?pa(i.scalar,!1):_o;switch(i.scalar){case I.DOUBLE:case I.FLOAT:if(e==="NaN")return NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof e=="number"){if(Number.isNaN(e))throw new Ut(i,"unexpected NaN number");if(!Number.isFinite(e))throw new Ut(i,"unexpected infinite number");break}if(typeof e=="string"){if(e===""||e.trim().length!==e.length)break;const r=Number(e);if(!Number.isFinite(r))break;return r}break;case I.INT32:case I.FIXED32:case I.SFIXED32:case I.SINT32:case I.UINT32:return rv(e);case I.BYTES:if(typeof e=="string"){if(e==="")return new Uint8Array(0);try{return ih(e)}catch(r){const o=r instanceof Error?r.message:String(r);throw new Ut(i,o)}}break}return e}function K1(i,e){switch(i){case I.BOOL:switch(e){case"true":return!0;case"false":return!1}return e;case I.INT32:case I.FIXED32:case I.UINT32:case I.SFIXED32:case I.SINT32:return rv(e);default:return e}}function rv(i){if(typeof i=="string"){if(i===""||i.trim().length!==i.length)return i;const e=Number(i);return Number.isNaN(e)?i:e}return i}function X1(i,e){try{return JSON.parse(i)}catch(a){const r=a instanceof Error?a.message:String(a);throw new Error(`cannot decode message ${e} from JSON: ${r}`,{cause:a})}}function J1(i,e,a){if(!i.desc.typeName.startsWith("google.protobuf."))return!1;switch(i.desc.typeName){case"google.protobuf.Any":return k1(i.message,e,a),!0;case"google.protobuf.Timestamp":return j1(i.message,e),!0;case"google.protobuf.Duration":return F1(i.message,e),!0;case"google.protobuf.FieldMask":return H1(i.message,e),!0;case"google.protobuf.Struct":return sv(i.message,e),!0;case"google.protobuf.Value":return fh(i.message,e),!0;case"google.protobuf.ListValue":return lv(i.message,e),!0;default:if(Xs(i.desc)){const r=i.desc.fields[0];return e===null?i.clear(r):i.set(r,Yo(r,e,!0)),!0}return!1}}function k1(i,e,a){var r;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message ${i.$typeName} from JSON: expected object but got ${ct(e)}`);if(Object.keys(e).length==0)return;const o=e["@type"];if(typeof o!="string"||o=="")throw new Error(`cannot decode message ${i.$typeName} from JSON: "@type" is empty`);const c=o.includes("/")?o.substring(o.lastIndexOf("/")+1):o;if(!c.length)throw new Error(`cannot decode message ${i.$typeName} from JSON: "@type" is invalid`);const h=(r=a.registry)===null||r===void 0?void 0:r.getMessage(c);if(!h)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${o} is not in the type registry`);const d=cn(h);if(c.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value")){const y=e.value;yr(d,y,a)}else{const y=Object.assign({},e);delete y["@type"],yr(d,y,a)}h1(d.desc,d.message,i)}function j1(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ct(e)}`);const a=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!a)throw new Error(`cannot decode message ${i.$typeName} from JSON: invalid RFC 3339 string`);const r=Date.parse(a[1]+"-"+a[2]+"-"+a[3]+"T"+a[4]+":"+a[5]+":"+a[6]+(a[8]?a[8]:"Z"));if(Number.isNaN(r))throw new Error(`cannot decode message ${i.$typeName} from JSON: invalid RFC 3339 string`);if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${i.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);i.seconds=ke.parse(r/1e3),i.nanos=0,a[7]&&(i.nanos=parseInt("1"+a[7]+"0".repeat(9-a[7].length))-1e9)}function F1(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ct(e)}`);const a=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(a===null)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ct(e)}`);const r=Number(a[1]);if(r>315576e6||r<-315576e6)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ct(e)}`);if(i.seconds=ke.parse(r),typeof a[2]!="string")return;const o=a[2]+"0".repeat(9-a[2].length);i.nanos=parseInt(o),(r<0||Object.is(r,-0))&&(i.nanos=-i.nanos)}function H1(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ct(e)}`);if(e==="")return;function a(r){if(r.includes("_"))throw new Error(`cannot decode message ${i.$typeName} from JSON: path names must be lowerCamelCase`);const o=r.replace(/[A-Z]/g,c=>"_"+c.toLowerCase());return o[0]==="_"?o.substring(1):o}i.paths=e.split(",").map(a)}function sv(i,e){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error(`cannot decode message ${i.$typeName} from JSON ${ct(e)}`);for(const[a,r]of Object.entries(e)){const o=H(tv);fh(o,r),i.fields[a]=o}}function fh(i,e){switch(typeof e){case"number":i.kind={case:"numberValue",value:e};break;case"string":i.kind={case:"stringValue",value:e};break;case"boolean":i.kind={case:"boolValue",value:e};break;case"object":if(e===null)i.kind={case:"nullValue",value:Bf.NULL_VALUE};else if(Array.isArray(e)){const a=H(p1);lv(a,e),i.kind={case:"listValue",value:a}}else{const a=H(y1);sv(a,e),i.kind={case:"structValue",value:a}}break;default:throw new Error(`cannot decode message ${i.$typeName} from JSON ${ct(e)}`)}return i}function lv(i,e){if(!Array.isArray(e))throw new Error(`cannot decode message ${i.$typeName} from JSON ${ct(e)}`);for(const a of e){const r=H(tv);fh(r,a),i.values.push(r)}}function Lp(i){const e=fe[i];return typeof e!="string"?i.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,a=>"_"+a.toLowerCase())}class xe extends Error{constructor(e,a=fe.Unknown,r,o,c){super(Q1(e,a)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=a,this.metadata=new Headers(r??{}),this.details=o??[],this.cause=c}static from(e,a=fe.Unknown){return e instanceof xe?e:e instanceof Error?e.name=="AbortError"||e.name=="TimeoutError"?new xe(e.message,fe.Canceled):new xe(e.message,a,void 0,void 0,e):new xe(String(e),a,void 0,void 0,e)}static[Symbol.hasInstance](e){return e instanceof Error?Object.getPrototypeOf(e)===xe.prototype?!0:e.name==="ConnectError"&&"code"in e&&typeof e.code=="number"&&"metadata"in e&&"details"in e&&Array.isArray(e.details)&&"rawMessage"in e&&typeof e.rawMessage=="string"&&"cause"in e:!1}findDetails(e){const a=e.kind==="message"?{getMessage:o=>o===e.typeName?e:void 0}:e,r=[];for(const o of this.details){if("desc"in o){a.getMessage(o.desc.typeName)&&r.push(H(o.desc,o.value));continue}const c=a.getMessage(o.type);if(c)try{r.push(fn(c,o.value))}catch{}}return r}}function Q1(i,e){return i.length?`[${Lp(e)}] ${i}`:`[${Lp(e)}]`}function $1(i,e,a){try{const r=ih(i);return e?fn(e,r,a):r}catch(r){throw xe.from(r,fe.DataLoss)}}function P1(i,e){const a={};for(const r of i.methods){const o=e(r);o!=null&&(a[r.localName]=o)}return a}const Mp=1;function q1(i,e,a=!1){if(e>i){let r=`message size is larger than configured readMaxBytes ${i}`;throw a&&(r=`message size ${e} is larger than configured readMaxBytes ${i}`),new xe(r,fe.ResourceExhausted)}}function eN(i){return new tN(i)}class tN{constructor(e){this.readMaxBytes=e,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((e,a)=>e+a.byteLength,0)}decode(e){this.buf.push(e);const a=[];for(;;){let r=this.pop();if(!r)break;a.push(r)}return a}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){const e=this.env;return this.env=void 0,e}}head(){if(!this.cons(this.header))return;const e=this.headerView.getUint8(0),a=this.headerView.getUint32(1);return q1(this.readMaxBytes,a,!0),{flags:e,data:new Uint8Array(a)}}cons(e){const a=e.byteLength;if(this.byteLength<a)return!1;let r=0;for(;r<a;){const o=this.buf.shift();o.byteLength>a-r?(e.set(o.subarray(0,a-r),r),this.buf.unshift(o.subarray(a-r)),r+=a-r):(e.set(o,r),r+=o.byteLength)}return!0}}function Zp(i){let e;const a=eN(4294967295);return new ReadableStream({start(){e=i.getReader()},async pull(r){let o=!1;for(;!o;){const c=await e.read();if(c.done)a.byteLength>0&&r.error(new xe("protocol error: incomplete envelope",fe.InvalidArgument)),r.close();else for(const h of a.decode(c.value))r.enqueue(h),o=!0}}})}function zp(i,e){const a=new Uint8Array(e.length+5);a.set(e,5);const r=new DataView(a.buffer,a.byteOffset,a.byteLength);return r.setUint8(0,i),r.setUint32(1,e.length),a}var nN=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],a;return e?e.call(i):(i=typeof __values=="function"?__values(i):i[Symbol.iterator](),a={},r("next"),r("throw"),r("return"),a[Symbol.asyncIterator]=function(){return this},a);function r(c){a[c]=i[c]&&function(h){return new Promise(function(d,y){h=i[c](h),o(d,y,h.done,h.value)})}}function o(c,h,d,y){Promise.resolve(y).then(function(m){c({value:m,done:d})},h)}},Zs=function(i){return this instanceof Zs?(this.v=i,this):new Zs(i)},iN=function(i,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=a.apply(i,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(C){return function(L){return Promise.resolve(L).then(C,T)}}function d(C,L){r[C]&&(o[C]=function(_){return new Promise(function(j,q){c.push([C,_,j,q])>1||y(C,_)})},L&&(o[C]=L(o[C])))}function y(C,L){try{m(r[C](L))}catch(_){V(c[0][3],_)}}function m(C){C.value instanceof Zs?Promise.resolve(C.value.v).then(v,T):V(c[0][2],C)}function v(C){y("next",C)}function T(C){y("throw",C)}function V(C,L){C(L),c.shift(),c.length&&y(c[0][0],c[0][1])}},aN=function(i){var e,a;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,c){e[o]=i[o]?function(h){return(a=!a)?{value:Zs(i[o](h)),done:!1}:c?c(h):h}:c}};function rN(i){return iN(this,arguments,function*(){yield Zs(yield*aN(nN(i)))})}var ov=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],a;return e?e.call(i):(i=typeof __values=="function"?__values(i):i[Symbol.iterator](),a={},r("next"),r("throw"),r("return"),a[Symbol.asyncIterator]=function(){return this},a);function r(c){a[c]=i[c]&&function(h){return new Promise(function(d,y){h=i[c](h),o(d,y,h.done,h.value)})}}function o(c,h,d,y){Promise.resolve(y).then(function(m){c({value:m,done:d})},h)}},pr=function(i){return this instanceof pr?(this.v=i,this):new pr(i)},sN=function(i){var e,a;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,c){e[o]=i[o]?function(h){return(a=!a)?{value:pr(i[o](h)),done:!1}:c?c(h):h}:c}},lN=function(i,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=a.apply(i,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(C){return function(L){return Promise.resolve(L).then(C,T)}}function d(C,L){r[C]&&(o[C]=function(_){return new Promise(function(j,q){c.push([C,_,j,q])>1||y(C,_)})},L&&(o[C]=L(o[C])))}function y(C,L){try{m(r[C](L))}catch(_){V(c[0][3],_)}}function m(C){C.value instanceof pr?Promise.resolve(C.value.v).then(v,T):V(c[0][2],C)}function v(C){y("next",C)}function T(C){y("throw",C)}function V(C,L){C(L),c.shift(),c.length&&y(c[0][0],c[0][1])}};function oN(i,e){return P1(i,a=>{switch(a.methodKind){case"unary":return uN(e,a);case"server_streaming":return cN(e,a);case"client_streaming":return fN(e,a);case"bidi_streaming":return hN(e,a);default:return null}})}function uN(i,e){return async(a,r)=>{var o,c;const h=await i.unary(e,r?.signal,r?.timeoutMs,r?.headers,a,r?.contextValues);return(o=r?.onHeader)===null||o===void 0||o.call(r,h.header),(c=r?.onTrailer)===null||c===void 0||c.call(r,h.trailer),h.message}}function cN(i,e){return(a,r)=>uv(i.stream(e,r?.signal,r?.timeoutMs,r?.headers,rN([a]),r?.contextValues),r)}function fN(i,e){return async(a,r)=>{var o,c,h,d,y,m;const v=await i.stream(e,r?.signal,r?.timeoutMs,r?.headers,a,r?.contextValues);(y=r?.onHeader)===null||y===void 0||y.call(r,v.header);let T,V=0;try{for(var C=!0,L=ov(v.message),_;_=await L.next(),o=_.done,!o;C=!0)d=_.value,C=!1,T=d,V++}catch(j){c={error:j}}finally{try{!C&&!o&&(h=L.return)&&await h.call(L)}finally{if(c)throw c.error}}if(!T)throw new xe("protocol error: missing response message",fe.Unimplemented);if(V>1)throw new xe("protocol error: received extra messages for client streaming method",fe.Unimplemented);return(m=r?.onTrailer)===null||m===void 0||m.call(r,v.trailer),T}}function hN(i,e){return(a,r)=>uv(i.stream(e,r?.signal,r?.timeoutMs,r?.headers,a,r?.contextValues),r)}function uv(i,e){const a=(function(){return lN(this,arguments,function*(){var r,o;const c=yield pr(i);(r=e?.onHeader)===null||r===void 0||r.call(e,c.header),yield pr(yield*sN(ov(c.message))),(o=e?.onTrailer)===null||o===void 0||o.call(e,c.trailer)})})()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>a.next()})}}function dN(...i){const e=new AbortController,a=i.filter(o=>o!==void 0).concat(e.signal);for(const o of a){if(o.aborted){r.apply(o);break}o.addEventListener("abort",r)}function r(){e.signal.aborted||e.abort(cv(this));for(const o of a)o.removeEventListener("abort",r)}return e}function gN(i){const e=new AbortController,a=()=>{e.abort(new xe("the operation timed out",fe.DeadlineExceeded))};let r;return i!==void 0&&(i<=0?a():r=setTimeout(a,i)),{signal:e.signal,cleanup:()=>clearTimeout(r)}}function cv(i){if(!i.aborted)return;if(i.reason!==void 0)return i.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function _p(){return{get(i){return i.id in this?this[i.id]:i.defaultValue},set(i,e){return this[i.id]=e,this},delete(i){return delete this[i.id],this}}}const Tf=128;function Yp(i){const e=new Headers,a=new TextDecoder().decode(i).split(`\r
`);for(const r of a){if(r==="")continue;const o=r.indexOf(":");if(o>0){const c=r.substring(0,o).trim(),h=r.substring(o+1).trim();e.append(c,h)}}return e}const mN="Content-Type",yN="Grpc-Timeout",br="Grpc-Status",fv="Grpc-Message",pN="Grpc-Status-Details-Bin",bN="User-Agent",Gp="X-User-Agent",vN="X-Grpc-Web",SN="application/grpc-web+proto",AN="application/grpc-web+json";function EN(i,e,...a){if(a.length>0)throw new Error;return i.services[e]}const NN=fi("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[Qb]),TN=ae(NN,0),RN="0";function hv(i){var e;const a=i.get(pN);if(a!=null){const o=$1(a,TN);if(o.code==0)return;const c=new xe(o.message,o.code,i);return c.details=o.details.map(h=>({type:h.typeUrl.substring(h.typeUrl.lastIndexOf("/")+1),value:h.value})),c}const r=i.get(br);if(r!=null){if(r===RN)return;const o=parseInt(r,10);return o in fe?new xe(decodeURIComponent((e=i.get(fv))!==null&&e!==void 0?e:""),o,i):new xe(`invalid grpc-status: ${r}`,fe.Internal,i)}}function Wp(i,e){return i.toString().replace(/\/?$/,`/${e.parent.typeName}/${e.name}`)}function dv(i,e){return H(i,e)}function IN(i,e){function a(r){return r.done===!0?r:{done:r.done,value:dv(i,r.value)}}return{[Symbol.asyncIterator](){const r=e[Symbol.asyncIterator](),o={next:()=>r.next().then(a)};return r.throw!==void 0&&(o.throw=c=>r.throw(c).then(a)),r.return!==void 0&&(o.return=c=>r.return(c).then(a)),o}}}function gv(i,e){if(!e)return i;for(const a of e.concat().reverse())i=a(i);return i}function CN(i){var e;const a=Object.assign({},i);return(e=a.ignoreUnknownFields)!==null&&e!==void 0||(a.ignoreUnknownFields=!0),a}function Kp(i,e,a,r){const o=e?Xp(i.input,r):Jp(i.input,a);return{parse:(e?Xp(i.output,r):Jp(i.output,a)).parse,serialize:o.serialize}}function Xp(i,e){return{parse(a){try{return fn(i,a,e)}catch(r){const o=r instanceof Error?r.message:String(r);throw new xe(`parse binary: ${o}`,fe.Internal)}},serialize(a){try{return Xi(i,a,e)}catch(r){const o=r instanceof Error?r.message:String(r);throw new xe(`serialize binary: ${o}`,fe.Internal)}}}}function Jp(i,e){var a,r;const o=(a=e?.textEncoder)!==null&&a!==void 0?a:new TextEncoder,c=(r=e?.textDecoder)!==null&&r!==void 0?r:new TextDecoder,h=CN(e);return{parse(d){try{const y=c.decode(d);return M1(i,y,h)}catch(y){throw xe.from(y,fe.InvalidArgument)}},serialize(d){try{const y=I1(i,d,h);return o.encode(y)}catch(y){throw xe.from(y,fe.Internal)}}}}function wN(i){const e=gv(i.next,i.interceptors),[a,r,o]=mv(i),c=Object.assign(Object.assign({},i.req),{message:dv(i.req.method.input,i.req.message),signal:a});return e(c).then(h=>(o(),h),r)}function DN(i){const e=gv(i.next,i.interceptors),[a,r,o]=mv(i),c=Object.assign(Object.assign({},i.req),{message:IN(i.req.method.input,i.req.message),signal:a});let h=!1;return a.addEventListener("abort",function(){var d,y;const m=i.req.message[Symbol.asyncIterator]();h||(d=m.throw)===null||d===void 0||d.call(m,this.reason).catch(()=>{}),(y=m.return)===null||y===void 0||y.call(m).catch(()=>{})}),e(c).then(d=>Object.assign(Object.assign({},d),{message:{[Symbol.asyncIterator](){const y=d.message[Symbol.asyncIterator]();return{next(){return y.next().then(m=>(m.done==!0&&(h=!0,o()),m),r)}}}}}),r)}function mv(i){const{signal:e,cleanup:a}=gN(i.timeoutMs),r=dN(i.signal,e);return[r.signal,function(c){const h=xe.from(e.aborted?cv(e):c);return r.abort(h),a(),Promise.reject(h)},function(){a(),r.abort()}]}function ON(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function kp(i,e){const a=hv(i);if(a)throw e.forEach((r,o)=>{a.metadata.append(o,r)}),a;if(!e.has(br)&&!i.has(br))throw new xe("protocol error: missing status",fe.Internal)}function jp(i,e,a,r){var o,c;const h=new Headers(a??{});h.set(mN,i?SN:AN),h.set(vN,"1");const d=(c=(o=h.get(bN))!==null&&o!==void 0?o:h.get(Gp))!==null&&c!==void 0?c:"connect-es/2.1.1";return h.set(Gp,d),e!==void 0&&h.set(yN,`${e}m`),h}function VN(i){switch(i){case 400:return fe.Internal;case 401:return fe.Unauthenticated;case 403:return fe.PermissionDenied;case 404:return fe.Unimplemented;case 429:return fe.Unavailable;case 502:return fe.Unavailable;case 503:return fe.Unavailable;case 504:return fe.Unavailable;default:return fe.Unknown}}function Fp(i,e){var a;if(i>=200&&i<300)return{foundStatus:e.has(br),headerError:hv(e)};throw new xe(decodeURIComponent((a=e.get(fv))!==null&&a!==void 0?a:`HTTP ${i}`),VN(i),e)}var ma=function(i){return this instanceof ma?(this.v=i,this):new ma(i)},xN=function(i,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=a.apply(i,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(C){return function(L){return Promise.resolve(L).then(C,T)}}function d(C,L){r[C]&&(o[C]=function(_){return new Promise(function(j,q){c.push([C,_,j,q])>1||y(C,_)})},L&&(o[C]=L(o[C])))}function y(C,L){try{m(r[C](L))}catch(_){V(c[0][3],_)}}function m(C){C.value instanceof ma?Promise.resolve(C.value.v).then(v,T):V(c[0][2],C)}function v(C){y("next",C)}function T(C){y("throw",C)}function V(C,L){C(L),c.shift(),c.length&&y(c[0][0],c[0][1])}};const Hp={redirect:"error"};function BN(i){var e;ON();const a=(e=i.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(r,o,c,h,d,y){const{serialize:m,parse:v}=Kp(r,a,i.jsonOptions,i.binaryOptions);return c=c===void 0?i.defaultTimeoutMs:c<=0?void 0:c,await wN({interceptors:i.interceptors,signal:o,timeoutMs:c,req:{stream:!1,service:r.parent,method:r,requestMethod:"POST",url:Wp(i.baseUrl,r),header:jp(a,c,h),contextValues:y??_p(),message:d},next:async T=>{var V;const L=await((V=i.fetch)!==null&&V!==void 0?V:globalThis.fetch)(T.url,Object.assign(Object.assign({},Hp),{method:T.requestMethod,headers:T.header,signal:T.signal,body:zp(0,m(T.message))})),{headerError:_}=Fp(L.status,L.headers);if(!L.body)throw _!==void 0?_:"missing response body";const j=Zp(L.body).getReader();let q,ye;for(;;){const ne=await j.read();if(ne.done)break;const{flags:Ee,data:ie}=ne.value;if((Ee&Mp)===Mp)throw new xe("protocol error: received unsupported compressed output",fe.Internal);if(Ee===Tf){if(q!==void 0)throw"extra trailer";q=Yp(ie);continue}if(ye!==void 0)throw new xe("extra message",fe.Unimplemented);ye=v(ie)}if(q===void 0)throw _!==void 0?_:new xe("missing trailer",L.headers.has(br)?fe.Unimplemented:fe.Unknown);if(kp(q,L.headers),ye===void 0)throw new xe("missing message",q.has(br)?fe.Unimplemented:fe.Unknown);return{stream:!1,service:r.parent,method:r,header:L.headers,message:ye,trailer:q}}})},async stream(r,o,c,h,d,y){const{serialize:m,parse:v}=Kp(r,a,i.jsonOptions,i.binaryOptions);function T(C,L,_,j,q){return xN(this,arguments,function*(){const ne=Zp(C).getReader();if(L){if(!(yield ma(ne.read())).done)throw"extra data for trailers-only";return yield ma(void 0)}let Ee=!1;for(;;){const ie=yield ma(ne.read());if(ie.done)break;const{flags:Ae,data:J}=ie.value;if((Ae&Tf)===Tf){if(Ee)throw"extra trailer";Ee=!0;const ve=Yp(J);kp(ve,j),ve.forEach((Et,gn)=>_.set(gn,Et));continue}if(Ee)throw"extra message";yield yield ma(v(J))}if("throwIfAborted"in q&&q.throwIfAborted(),!Ee)throw"missing trailer"})}async function V(C){if(r.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const L=await C[Symbol.asyncIterator]().next();if(L.done==!0)throw"missing request message";return zp(0,m(L.value))}return c=c===void 0?i.defaultTimeoutMs:c<=0?void 0:c,DN({interceptors:i.interceptors,signal:o,timeoutMs:c,req:{stream:!0,service:r.parent,method:r,requestMethod:"POST",url:Wp(i.baseUrl,r),header:jp(a,c,h),contextValues:y??_p(),message:d},next:async C=>{var L;const j=await((L=i.fetch)!==null&&L!==void 0?L:globalThis.fetch)(C.url,Object.assign(Object.assign({},Hp),{method:C.requestMethod,headers:C.header,signal:C.signal,body:await V(C.message)})),{foundStatus:q,headerError:ye}=Fp(j.status,j.headers);if(ye!=null)throw ye;if(!j.body)throw"missing response body";const ne=new Headers;return Object.assign(Object.assign({},C),{header:j.headers,trailer:ne,message:T(j.body,q,ne,j.headers,C.signal)})}})}}}const ce=fi("CiFzcmMvYXBpL3lvcmtpZS92MS9yZXNvdXJjZXMucHJvdG8SCXlvcmtpZS52MSKuAQoIU25hcHNob3QSJAoEcm9vdBgBIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudBI1CglwcmVzZW5jZXMYAiADKAsyIi55b3JraWUudjEuU25hcHNob3QuUHJlc2VuY2VzRW50cnkaRQoOUHJlc2VuY2VzRW50cnkSCwoDa2V5GAEgASgJEiIKBXZhbHVlGAIgASgLMhMueW9ya2llLnYxLlByZXNlbmNlOgI4ASL7AQoKQ2hhbmdlUGFjaxIUCgxkb2N1bWVudF9rZXkYASABKAkSKQoKY2hlY2twb2ludBgCIAEoCzIVLnlvcmtpZS52MS5DaGVja3BvaW50EhAKCHNuYXBzaG90GAMgASgMEiIKB2NoYW5nZXMYBCADKAsyES55b3JraWUudjEuQ2hhbmdlEjAKEW1pbl9zeW5jZWRfdGlja2V0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSEgoKaXNfcmVtb3ZlZBgGIAEoCBIwCg52ZXJzaW9uX3ZlY3RvchgHIAEoCzIYLnlvcmtpZS52MS5WZXJzaW9uVmVjdG9yIpgBCgZDaGFuZ2USHwoCaWQYASABKAsyEy55b3JraWUudjEuQ2hhbmdlSUQSDwoHbWVzc2FnZRgCIAEoCRIoCgpvcGVyYXRpb25zGAMgAygLMhQueW9ya2llLnYxLk9wZXJhdGlvbhIyCg9wcmVzZW5jZV9jaGFuZ2UYBCABKAsyGS55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UihwEKCENoYW5nZUlEEhIKCmNsaWVudF9zZXEYASABKA0SEgoKc2VydmVyX3NlcRgCIAEoAxIPCgdsYW1wb3J0GAMgASgDEhAKCGFjdG9yX2lkGAQgASgMEjAKDnZlcnNpb25fdmVjdG9yGAUgASgLMhgueW9ya2llLnYxLlZlcnNpb25WZWN0b3IidAoNVmVyc2lvblZlY3RvchI0CgZ2ZWN0b3IYASADKAsyJC55b3JraWUudjEuVmVyc2lvblZlY3Rvci5WZWN0b3JFbnRyeRotCgtWZWN0b3JFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAM6AjgBIqwaCglPcGVyYXRpb24SJwoDc2V0GAEgASgLMhgueW9ya2llLnYxLk9wZXJhdGlvbi5TZXRIABInCgNhZGQYAiABKAsyGC55b3JraWUudjEuT3BlcmF0aW9uLkFkZEgAEikKBG1vdmUYAyABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLk1vdmVIABItCgZyZW1vdmUYBCABKAsyGy55b3JraWUudjEuT3BlcmF0aW9uLlJlbW92ZUgAEikKBGVkaXQYBSABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLkVkaXRIABIrCgVzdHlsZRgHIAEoCzIaLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGVIABIxCghpbmNyZWFzZRgIIAEoCzIdLnlvcmtpZS52MS5PcGVyYXRpb24uSW5jcmVhc2VIABIyCgl0cmVlX2VkaXQYCSABKAsyHS55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0SAASNAoKdHJlZV9zdHlsZRgKIAEoCzIeLnlvcmtpZS52MS5PcGVyYXRpb24uVHJlZVN0eWxlSAASMgoJYXJyYXlfc2V0GAsgASgLMh0ueW9ya2llLnYxLk9wZXJhdGlvbi5BcnJheVNldEgAGp0BCgNTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBILCgNrZXkYAiABKAkSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrAAQoDQWRkEjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSLgoPcHJldl9jcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq/AQoETW92ZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Ei4KD3ByZXZfY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCmNyZWF0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtleGVjdXRlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GpEBCgZSZW1vdmUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKgoLZXhlY3V0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrZAwoERWRpdBIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSUwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyMi55b3JraWUudjEuT3BlcmF0aW9uLkVkaXQuQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5Eg8KB2NvbnRlbnQYBSABKAkSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBI9CgphdHRyaWJ1dGVzGAcgAygLMikueW9ya2llLnYxLk9wZXJhdGlvbi5FZGl0LkF0dHJpYnV0ZXNFbnRyeRpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGjEKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBGssDCgVTdHlsZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSPgoKYXR0cmlidXRlcxgEIAMoCzIqLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSVAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBiADKAsyMy55b3JraWUudjEuT3BlcmF0aW9uLlN0eWxlLkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRoxCg9BdHRyaWJ1dGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGpUBCghJbmNyZWFzZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EisKBXZhbHVlGAIgASgLMhwueW9ya2llLnYxLkpTT05FbGVtZW50U2ltcGxlEioKC2V4ZWN1dGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQakwMKCFRyZWVFZGl0EjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIAoEZnJvbRgCIAEoCzISLnlvcmtpZS52MS5UcmVlUG9zEh4KAnRvGAMgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSVwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyNi55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0LkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRImCghjb250ZW50cxgFIAMoCzIULnlvcmtpZS52MS5UcmVlTm9kZXMSEwoLc3BsaXRfbGV2ZWwYByABKAUSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGu0DCglUcmVlU3R5bGUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIgCgRmcm9tGAIgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSHgoCdG8YAyABKAsyEi55b3JraWUudjEuVHJlZVBvcxJCCgphdHRyaWJ1dGVzGAQgAygLMi4ueW9ya2llLnYxLk9wZXJhdGlvbi5UcmVlU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSHAoUYXR0cmlidXRlc190b19yZW1vdmUYBiADKAkSWAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYByADKAsyNy55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVTdHlsZS5DcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkaMQoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaUQoYQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5EgsKA2tleRgBIAEoCRIkCgV2YWx1ZRgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0OgI4ARrAAQoIQXJyYXlTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldEIGCgRib2R5IsUBChFKU09ORWxlbWVudFNpbXBsZRIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIgoEdHlwZRgEIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYBSABKAwiggsKC0pTT05FbGVtZW50EjgKC2pzb25fb2JqZWN0GAEgASgLMiEueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05PYmplY3RIABI2Cgpqc29uX2FycmF5GAIgASgLMiAueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05BcnJheUgAEjUKCXByaW1pdGl2ZRgDIAEoCzIgLnlvcmtpZS52MS5KU09ORWxlbWVudC5QcmltaXRpdmVIABIrCgR0ZXh0GAUgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRleHRIABIxCgdjb3VudGVyGAYgASgLMh4ueW9ya2llLnYxLkpTT05FbGVtZW50LkNvdW50ZXJIABIrCgR0cmVlGAcgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRyZWVIABquAQoKSlNPTk9iamVjdBIhCgVub2RlcxgBIAMoCzISLnlvcmtpZS52MS5SSFROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBqtAQoJSlNPTkFycmF5EiEKBW5vZGVzGAEgAygLMhIueW9ya2llLnYxLlJHQU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Gr0BCglQcmltaXRpdmUSIgoEdHlwZRgBIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYAiABKAwSKQoKY3JlYXRlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAQgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgFIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GqkBCgRUZXh0EiIKBW5vZGVzGAEgAygLMhMueW9ya2llLnYxLlRleHROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq7AQoHQ291bnRlchIiCgR0eXBlGAEgASgOMhQueW9ya2llLnYxLlZhbHVlVHlwZRINCgV2YWx1ZRgCIAEoDBIpCgpjcmVhdGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQaqQEKBFRyZWUSIgoFbm9kZXMYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0QgYKBGJvZHkiPwoHUkhUTm9kZRILCgNrZXkYASABKAkSJwoHZWxlbWVudBgCIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudCJUCgdSR0FOb2RlEiAKBG5leHQYASABKAsyEi55b3JraWUudjEuUkdBTm9kZRInCgdlbGVtZW50GAIgASgLMhYueW9ya2llLnYxLkpTT05FbGVtZW50IlgKCE5vZGVBdHRyEg0KBXZhbHVlGAEgASgJEikKCnVwZGF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBISCgppc19yZW1vdmVkGAMgASgIIpQCCghUZXh0Tm9kZRIhCgJpZBgBIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEg0KBXZhbHVlGAIgASgJEikKCnJlbW92ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgEIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEjcKCmF0dHJpYnV0ZXMYBSADKAsyIy55b3JraWUudjEuVGV4dE5vZGUuQXR0cmlidXRlc0VudHJ5GkYKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuTm9kZUF0dHI6AjgBIkcKClRleHROb2RlSUQSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBSLdAgoIVHJlZU5vZGUSIQoCaWQYASABKAsyFS55b3JraWUudjEuVHJlZU5vZGVJRBIMCgR0eXBlGAIgASgJEg0KBXZhbHVlGAMgASgJEikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgFIAEoCzIVLnlvcmtpZS52MS5UcmVlTm9kZUlEEioKC2luc19uZXh0X2lkGAYgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSDQoFZGVwdGgYByABKAUSNwoKYXR0cmlidXRlcxgIIAMoCzIjLnlvcmtpZS52MS5UcmVlTm9kZS5BdHRyaWJ1dGVzRW50cnkaRgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5Ob2RlQXR0cjoCOAEiMQoJVHJlZU5vZGVzEiQKB2NvbnRlbnQYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUiRwoKVHJlZU5vZGVJRBIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFImMKB1RyZWVQb3MSKAoJcGFyZW50X2lkGAEgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSLgoPbGVmdF9zaWJsaW5nX2lkGAIgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQiawoEVXNlchIKCgJpZBgBIAEoCRIVCg1hdXRoX3Byb3ZpZGVyGAIgASgJEhAKCHVzZXJuYW1lGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIukGCgdQcm9qZWN0EgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSEgoKcHVibGljX2tleRgDIAEoCRISCgpzZWNyZXRfa2V5GAQgASgJEhgKEGF1dGhfd2ViaG9va191cmwYBSABKAkSHAoUYXV0aF93ZWJob29rX21ldGhvZHMYBiADKAkSIAoYYXV0aF93ZWJob29rX21heF9yZXRyaWVzGBEgASgEEiYKHmF1dGhfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgSIAEoCRImCh5hdXRoX3dlYmhvb2tfbWF4X3dhaXRfaW50ZXJ2YWwYEyABKAkSJAocYXV0aF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgUIAEoCRIZChFldmVudF93ZWJob29rX3VybBgHIAEoCRIcChRldmVudF93ZWJob29rX2V2ZW50cxgIIAMoCRIhChlldmVudF93ZWJob29rX21heF9yZXRyaWVzGBUgASgEEicKH2V2ZW50X3dlYmhvb2tfbWluX3dhaXRfaW50ZXJ2YWwYFiABKAkSJwofZXZlbnRfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgXIAEoCRIlCh1ldmVudF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgYIAEoCRIjChtjbGllbnRfZGVhY3RpdmF0ZV90aHJlc2hvbGQYCSABKAkSGgoSc25hcHNob3RfdGhyZXNob2xkGBkgASgDEhkKEXNuYXBzaG90X2ludGVydmFsGBogASgDEiQKHG1heF9zdWJzY3JpYmVyc19wZXJfZG9jdW1lbnQYCiABKAUSJAocbWF4X2F0dGFjaG1lbnRzX3Blcl9kb2N1bWVudBgLIAEoBRIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYDyABKAUSGAoQcmVtb3ZlX29uX2RldGFjaBgQIAEoCBIdChVhdXRvX3JldmlzaW9uX2VuYWJsZWQYGyABKAgSFwoPYWxsb3dlZF9vcmlnaW5zGA4gAygJEi4KCmNyZWF0ZWRfYXQYDCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYDSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIi8KC01ldHJpY1BvaW50EhEKCXRpbWVzdGFtcBgBIAEoAxINCgV2YWx1ZRgCIAEoBSKjDAoWVXBkYXRhYmxlUHJvamVjdEZpZWxkcxIqCgRuYW1lGAEgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjYKEGF1dGhfd2ViaG9va191cmwYAiABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSUgoUYXV0aF93ZWJob29rX21ldGhvZHMYAyABKAsyNC55b3JraWUudjEuVXBkYXRhYmxlUHJvamVjdEZpZWxkcy5BdXRoV2ViaG9va01ldGhvZHMSPgoYYXV0aF93ZWJob29rX21heF9yZXRyaWVzGAwgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlVJbnQ2NFZhbHVlEkQKHmF1dGhfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgNIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJECh5hdXRoX3dlYmhvb2tfbWF4X3dhaXRfaW50ZXJ2YWwYDiABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSQgocYXV0aF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgPIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRI3ChFldmVudF93ZWJob29rX3VybBgEIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJSChRldmVudF93ZWJob29rX2V2ZW50cxgFIAEoCzI0LnlvcmtpZS52MS5VcGRhdGFibGVQcm9qZWN0RmllbGRzLkV2ZW50V2ViaG9va0V2ZW50cxI/ChlldmVudF93ZWJob29rX21heF9yZXRyaWVzGBAgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlVJbnQ2NFZhbHVlEkUKH2V2ZW50X3dlYmhvb2tfbWluX3dhaXRfaW50ZXJ2YWwYESABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSRQofZXZlbnRfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgSIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJDCh1ldmVudF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgTIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRI3ChJzbmFwc2hvdF90aHJlc2hvbGQYFCABKAsyGy5nb29nbGUucHJvdG9idWYuSW50NjRWYWx1ZRI2ChFzbmFwc2hvdF9pbnRlcnZhbBgVIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlEkEKG2NsaWVudF9kZWFjdGl2YXRlX3RocmVzaG9sZBgGIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJBChxtYXhfc3Vic2NyaWJlcnNfcGVyX2RvY3VtZW50GAcgASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSQQocbWF4X2F0dGFjaG1lbnRzX3Blcl9kb2N1bWVudBgIIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQzMlZhbHVlEjoKFW1heF9zaXplX3Blcl9kb2N1bWVudBgKIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQzMlZhbHVlEjQKEHJlbW92ZV9vbl9kZXRhY2gYCyABKAsyGi5nb29nbGUucHJvdG9idWYuQm9vbFZhbHVlEjkKFWF1dG9fcmV2aXNpb25fZW5hYmxlZBgWIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUSSQoPYWxsb3dlZF9vcmlnaW5zGAkgASgLMjAueW9ya2llLnYxLlVwZGF0YWJsZVByb2plY3RGaWVsZHMuQWxsb3dlZE9yaWdpbnMaJQoSQXV0aFdlYmhvb2tNZXRob2RzEg8KB21ldGhvZHMYASADKAkaJAoSRXZlbnRXZWJob29rRXZlbnRzEg4KBmV2ZW50cxgBIAMoCRohCg5BbGxvd2VkT3JpZ2lucxIPCgdvcmlnaW5zGAEgAygJIqcDCg9Eb2N1bWVudFN1bW1hcnkSCgoCaWQYASABKAkSCwoDa2V5GAIgASgJEgwKBHJvb3QYAyABKAkSGAoQYXR0YWNoZWRfY2xpZW50cxgHIAEoBRIpCg1kb2N1bWVudF9zaXplGAggASgLMhIueW9ya2llLnYxLkRvY1NpemUSEgoKc2NoZW1hX2tleRgJIAEoCRI8CglwcmVzZW5jZXMYCiADKAsyKS55b3JraWUudjEuRG9jdW1lbnRTdW1tYXJ5LlByZXNlbmNlc0VudHJ5Ei4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi8KC2FjY2Vzc2VkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBIuCgp1cGRhdGVkX2F0GAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBpFCg5QcmVzZW5jZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuUHJlc2VuY2U6AjgBItoBCg5QcmVzZW5jZUNoYW5nZRIyCgR0eXBlGAEgASgOMiQueW9ya2llLnYxLlByZXNlbmNlQ2hhbmdlLkNoYW5nZVR5cGUSJQoIcHJlc2VuY2UYAiABKAsyEy55b3JraWUudjEuUHJlc2VuY2UibQoKQ2hhbmdlVHlwZRIbChdDSEFOR0VfVFlQRV9VTlNQRUNJRklFRBAAEhMKD0NIQU5HRV9UWVBFX1BVVBABEhYKEkNIQU5HRV9UWVBFX0RFTEVURRACEhUKEUNIQU5HRV9UWVBFX0NMRUFSEAMiZAoIUHJlc2VuY2USKwoEZGF0YRgBIAMoCzIdLnlvcmtpZS52MS5QcmVzZW5jZS5EYXRhRW50cnkaKwoJRGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiNQoOQ2hhbm5lbFN1bW1hcnkSCwoDa2V5GAEgASgJEhYKDnByZXNlbmNlX2NvdW50GAIgASgFIjQKCkNoZWNrcG9pbnQSEgoKc2VydmVyX3NlcRgBIAEoAxISCgpjbGllbnRfc2VxGAIgASgNImEKC1RleHROb2RlUG9zEikKCmNyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIOCgZvZmZzZXQYAiABKAUSFwoPcmVsYXRpdmVfb2Zmc2V0GAMgASgFIkIKClRpbWVUaWNrZXQSDwoHbGFtcG9ydBgBIAEoAxIRCglkZWxpbWl0ZXIYAiABKA0SEAoIYWN0b3JfaWQYAyABKAwiLgoMRG9jRXZlbnRCb2R5Eg0KBXRvcGljGAEgASgJEg8KB3BheWxvYWQYAiABKAwiawoIRG9jRXZlbnQSJQoEdHlwZRgBIAEoDjIXLnlvcmtpZS52MS5Eb2NFdmVudFR5cGUSEQoJcHVibGlzaGVyGAIgASgJEiUKBGJvZHkYAyABKAsyFy55b3JraWUudjEuRG9jRXZlbnRCb2R5Is4BCgxDaGFubmVsRXZlbnQSKgoEdHlwZRgBIAEoDjIcLnlvcmtpZS52MS5DaGFubmVsRXZlbnQuVHlwZRIRCglwdWJsaXNoZXIYAiABKAkSDQoFY291bnQYAyABKAMSCwoDc2VxGAQgASgDEg0KBXRvcGljGAUgASgJEg8KB3BheWxvYWQYBiABKAwiQwoEVHlwZRIUChBUWVBFX1VOU1BFQ0lGSUVEEAASEQoNVFlQRV9QUkVTRU5DRRABEhIKDlRZUEVfQlJPQURDQVNUEAIiJgoIRGF0YVNpemUSDAoEZGF0YRgBIAEoBRIMCgRtZXRhGAIgASgFIk0KB0RvY1NpemUSIQoEbGl2ZRgBIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZRIfCgJnYxgCIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZSKRAQoGU2NoZW1hEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSDwoHdmVyc2lvbhgDIAEoBRIMCgRib2R5GAQgASgJEh4KBXJ1bGVzGAUgAygLMg8ueW9ya2llLnYxLlJ1bGUSLgoKY3JlYXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiIgoEUnVsZRIMCgRwYXRoGAEgASgJEgwKBHR5cGUYAiABKAkigwEKD1JldmlzaW9uU3VtbWFyeRIKCgJpZBgBIAEoCRINCgVsYWJlbBgCIAEoCRITCgtkZXNjcmlwdGlvbhgDIAEoCRIQCghzbmFwc2hvdBgEIAEoCRIuCgpjcmVhdGVkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCrUAgoJVmFsdWVUeXBlEhMKD1ZBTFVFX1RZUEVfTlVMTBAAEhYKElZBTFVFX1RZUEVfQk9PTEVBThABEhYKElZBTFVFX1RZUEVfSU5URUdFUhACEhMKD1ZBTFVFX1RZUEVfTE9ORxADEhUKEVZBTFVFX1RZUEVfRE9VQkxFEAQSFQoRVkFMVUVfVFlQRV9TVFJJTkcQBRIUChBWQUxVRV9UWVBFX0JZVEVTEAYSEwoPVkFMVUVfVFlQRV9EQVRFEAcSGgoWVkFMVUVfVFlQRV9KU09OX09CSkVDVBAIEhkKFVZBTFVFX1RZUEVfSlNPTl9BUlJBWRAJEhMKD1ZBTFVFX1RZUEVfVEVYVBAKEhoKFlZBTFVFX1RZUEVfSU5URUdFUl9DTlQQCxIXChNWQUxVRV9UWVBFX0xPTkdfQ05UEAwSEwoPVkFMVUVfVFlQRV9UUkVFEA0qpgEKDERvY0V2ZW50VHlwZRIjCh9ET0NfRVZFTlRfVFlQRV9ET0NVTUVOVF9DSEFOR0VEEAASIwofRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfV0FUQ0hFRBABEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX1VOV0FUQ0hFRBACEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX0JST0FEQ0FTVBADQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[n1,b1]),UN=ae(ce,0),LN=ae(ce,1),MN=ae(ce,2),hh=ae(ce,3),dh=ae(ce,4),gh=ae(ce,5),ZN=ae(ce,5,0),zN=ae(ce,5,1),_N=ae(ce,5,2),YN=ae(ce,5,3),GN=ae(ce,5,4),WN=ae(ce,5,5),KN=ae(ce,5,6),XN=ae(ce,5,7),JN=ae(ce,5,8),kN=ae(ce,5,9),rr=ae(ce,6),hn=ae(ce,7),jN=ae(ce,7,0),FN=ae(ce,7,1),HN=ae(ce,7,2),QN=ae(ce,7,3),$N=ae(ce,7,4),PN=ae(ce,7,5),qN=ae(ce,8),eT=ae(ce,9),yv=ae(ce,10),tT=ae(ce,11),nT=ae(ce,12),iT=ae(ce,13),aT=ae(ce,14),rT=ae(ce,15),sT=ae(ce,16),Qp=ae(ce,22);var zs=(i=>(i[i.UNSPECIFIED=0]="UNSPECIFIED",i[i.PUT=1]="PUT",i[i.DELETE=2]="DELETE",i[i.CLEAR=3]="CLEAR",i))(zs||{});const lT=ae(ce,23),oT=ae(ce,25),uT=ae(ce,26),cT=ae(ce,27);var pv=(i=>(i[i.UNSPECIFIED=0]="UNSPECIFIED",i[i.PRESENCE=1]="PRESENCE",i[i.BROADCAST=2]="BROADCAST",i))(pv||{}),ue=(i=>(i[i.NULL=0]="NULL",i[i.BOOLEAN=1]="BOOLEAN",i[i.INTEGER=2]="INTEGER",i[i.LONG=3]="LONG",i[i.DOUBLE=4]="DOUBLE",i[i.STRING=5]="STRING",i[i.BYTES=6]="BYTES",i[i.DATE=7]="DATE",i[i.JSON_OBJECT=8]="JSON_OBJECT",i[i.JSON_ARRAY=9]="JSON_ARRAY",i[i.TEXT=10]="TEXT",i[i.INTEGER_CNT=11]="INTEGER_CNT",i[i.LONG_CNT=12]="LONG_CNT",i[i.TREE=13]="TREE",i))(ue||{}),Oo=(i=>(i[i.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",i[i.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",i[i.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",i[i.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",i))(Oo||{});const fT=fi("Ch5zcmMvYXBpL3lvcmtpZS92MS95b3JraWUucHJvdG8SCXlvcmtpZS52MSKeAQoVQWN0aXZhdGVDbGllbnRSZXF1ZXN0EhIKCmNsaWVudF9rZXkYASABKAkSQAoIbWV0YWRhdGEYAiADKAsyLi55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIisKFkFjdGl2YXRlQ2xpZW50UmVzcG9uc2USEQoJY2xpZW50X2lkGAEgASgJIkEKF0RlYWN0aXZhdGVDbGllbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtzeW5jaHJvbm91cxgCIAEoCCIaChhEZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiagoVQXR0YWNoRG9jdW1lbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRIqCgtjaGFuZ2VfcGFjaxgCIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrEhIKCnNjaGVtYV9rZXkYAyABKAkinwEKFkF0dGFjaERvY3VtZW50UmVzcG9uc2USEwoLZG9jdW1lbnRfaWQYASABKAkSKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYAyABKAUSJQoMc2NoZW1hX3J1bGVzGAQgAygLMg8ueW9ya2llLnYxLlJ1bGUiiwEKFURldGFjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSKgoLY2hhbmdlX3BhY2sYAyABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIeChZyZW1vdmVfaWZfbm90X2F0dGFjaGVkGAQgASgIIkQKFkRldGFjaERvY3VtZW50UmVzcG9uc2USKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjayI+ChRXYXRjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkitgEKFVdhdGNoRG9jdW1lbnRSZXNwb25zZRJJCg5pbml0aWFsaXphdGlvbhgBIAEoCzIvLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UuSW5pdGlhbGl6YXRpb25IABIkCgVldmVudBgCIAEoCzITLnlvcmtpZS52MS5Eb2NFdmVudEgAGiQKDkluaXRpYWxpemF0aW9uEhIKCmNsaWVudF9pZHMYASADKAlCBgoEYm9keSJrChVSZW1vdmVEb2N1bWVudFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siRAoWUmVtb3ZlRG9jdW1lbnRSZXNwb25zZRIqCgtjaGFuZ2VfcGFjaxgBIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrIn8KFlB1c2hQdWxsQ2hhbmdlc1JlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2sSEQoJcHVzaF9vbmx5GAQgASgIIkUKF1B1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlEioKC2NoYW5nZV9wYWNrGAEgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siYwoVQ3JlYXRlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRINCgVsYWJlbBgDIAEoCRITCgtkZXNjcmlwdGlvbhgEIAEoCSJGChZDcmVhdGVSZXZpc2lvblJlc3BvbnNlEiwKCHJldmlzaW9uGAEgASgLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJRChJHZXRSZXZpc2lvblJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEhMKC3JldmlzaW9uX2lkGAMgASgJIkMKE0dldFJldmlzaW9uUmVzcG9uc2USLAoIcmV2aXNpb24YASABKAsyGi55b3JraWUudjEuUmV2aXNpb25TdW1tYXJ5InUKFExpc3RSZXZpc2lvbnNSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRIRCglwYWdlX3NpemUYAyABKAUSDgoGb2Zmc2V0GAQgASgFEhIKCmlzX2ZvcndhcmQYBSABKAgiRgoVTGlzdFJldmlzaW9uc1Jlc3BvbnNlEi0KCXJldmlzaW9ucxgBIAMoCzIaLnlvcmtpZS52MS5SZXZpc2lvblN1bW1hcnkiVQoWUmVzdG9yZVJldmlzaW9uUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSEwoLcmV2aXNpb25faWQYBCABKAkiGQoXUmVzdG9yZVJldmlzaW9uUmVzcG9uc2UiPgoUQXR0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJIjoKFUF0dGFjaENoYW5uZWxSZXNwb25zZRISCgpzZXNzaW9uX2lkGAEgASgJEg0KBWNvdW50GAIgASgDIlIKFERldGFjaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRISCgpzZXNzaW9uX2lkGAMgASgJIiYKFURldGFjaENoYW5uZWxSZXNwb25zZRINCgVjb3VudBgBIAEoAyJTChVSZWZyZXNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEhIKCnNlc3Npb25faWQYAyABKAkiJwoWUmVmcmVzaENoYW5uZWxSZXNwb25zZRINCgVjb3VudBgBIAEoAyI9ChNXYXRjaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCSKDAQoUV2F0Y2hDaGFubmVsUmVzcG9uc2USOQoLaW5pdGlhbGl6ZWQYASABKAsyIi55b3JraWUudjEuV2F0Y2hDaGFubmVsSW5pdGlhbGl6ZWRIABIoCgVldmVudBgCIAEoCzIXLnlvcmtpZS52MS5DaGFubmVsRXZlbnRIAEIGCgRib2R5IjUKF1dhdGNoQ2hhbm5lbEluaXRpYWxpemVkEg0KBWNvdW50GAEgASgDEgsKA3NlcRgCIAEoAyJaChBCcm9hZGNhc3RSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRINCgV0b3BpYxgDIAEoCRIPCgdwYXlsb2FkGAQgASgMIhMKEUJyb2FkY2FzdFJlc3BvbnNlMoULCg1Zb3JraWVTZXJ2aWNlElcKDkFjdGl2YXRlQ2xpZW50EiAueW9ya2llLnYxLkFjdGl2YXRlQ2xpZW50UmVxdWVzdBohLnlvcmtpZS52MS5BY3RpdmF0ZUNsaWVudFJlc3BvbnNlIgASXQoQRGVhY3RpdmF0ZUNsaWVudBIiLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVxdWVzdBojLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiABJXCg5BdHRhY2hEb2N1bWVudBIgLnlvcmtpZS52MS5BdHRhY2hEb2N1bWVudFJlcXVlc3QaIS55b3JraWUudjEuQXR0YWNoRG9jdW1lbnRSZXNwb25zZSIAElcKDkRldGFjaERvY3VtZW50EiAueW9ya2llLnYxLkRldGFjaERvY3VtZW50UmVxdWVzdBohLnlvcmtpZS52MS5EZXRhY2hEb2N1bWVudFJlc3BvbnNlIgASVwoOUmVtb3ZlRG9jdW1lbnQSIC55b3JraWUudjEuUmVtb3ZlRG9jdW1lbnRSZXF1ZXN0GiEueW9ya2llLnYxLlJlbW92ZURvY3VtZW50UmVzcG9uc2UiABJaCg9QdXNoUHVsbENoYW5nZXMSIS55b3JraWUudjEuUHVzaFB1bGxDaGFuZ2VzUmVxdWVzdBoiLnlvcmtpZS52MS5QdXNoUHVsbENoYW5nZXNSZXNwb25zZSIAElYKDVdhdGNoRG9jdW1lbnQSHy55b3JraWUudjEuV2F0Y2hEb2N1bWVudFJlcXVlc3QaIC55b3JraWUudjEuV2F0Y2hEb2N1bWVudFJlc3BvbnNlIgAwARJXCg5DcmVhdGVSZXZpc2lvbhIgLnlvcmtpZS52MS5DcmVhdGVSZXZpc2lvblJlcXVlc3QaIS55b3JraWUudjEuQ3JlYXRlUmV2aXNpb25SZXNwb25zZSIAEk4KC0dldFJldmlzaW9uEh0ueW9ya2llLnYxLkdldFJldmlzaW9uUmVxdWVzdBoeLnlvcmtpZS52MS5HZXRSZXZpc2lvblJlc3BvbnNlIgASVAoNTGlzdFJldmlzaW9ucxIfLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVxdWVzdBogLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVzcG9uc2UiABJaCg9SZXN0b3JlUmV2aXNpb24SIS55b3JraWUudjEuUmVzdG9yZVJldmlzaW9uUmVxdWVzdBoiLnlvcmtpZS52MS5SZXN0b3JlUmV2aXNpb25SZXNwb25zZSIAElQKDUF0dGFjaENoYW5uZWwSHy55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlcXVlc3QaIC55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlc3BvbnNlIgASVAoNRGV0YWNoQ2hhbm5lbBIfLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVxdWVzdBogLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVzcG9uc2UiABJXCg5SZWZyZXNoQ2hhbm5lbBIgLnlvcmtpZS52MS5SZWZyZXNoQ2hhbm5lbFJlcXVlc3QaIS55b3JraWUudjEuUmVmcmVzaENoYW5uZWxSZXNwb25zZSIAElMKDFdhdGNoQ2hhbm5lbBIeLnlvcmtpZS52MS5XYXRjaENoYW5uZWxSZXF1ZXN0Gh8ueW9ya2llLnYxLldhdGNoQ2hhbm5lbFJlc3BvbnNlIgAwARJICglCcm9hZGNhc3QSGy55b3JraWUudjEuQnJvYWRjYXN0UmVxdWVzdBocLnlvcmtpZS52MS5Ccm9hZGNhc3RSZXNwb25zZSIAQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[ce]),hT=EN(fT,0),dT=fi("Ch5nb29nbGUvcnBjL2Vycm9yX2RldGFpbHMucHJvdG8SCmdvb2dsZS5ycGMikwEKCUVycm9ySW5mbxIOCgZyZWFzb24YASABKAkSDgoGZG9tYWluGAIgASgJEjUKCG1ldGFkYXRhGAMgAygLMiMuZ29vZ2xlLnJwYy5FcnJvckluZm8uTWV0YWRhdGFFbnRyeRovCg1NZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiOwoJUmV0cnlJbmZvEi4KC3JldHJ5X2RlbGF5GAEgASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIjIKCURlYnVnSW5mbxIVCg1zdGFja19lbnRyaWVzGAEgAygJEg4KBmRldGFpbBgCIAEoCSKPAwoMUXVvdGFGYWlsdXJlEjYKCnZpb2xhdGlvbnMYASADKAsyIi5nb29nbGUucnBjLlF1b3RhRmFpbHVyZS5WaW9sYXRpb24axgIKCVZpb2xhdGlvbhIPCgdzdWJqZWN0GAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhMKC2FwaV9zZXJ2aWNlGAMgASgJEhQKDHF1b3RhX21ldHJpYxgEIAEoCRIQCghxdW90YV9pZBgFIAEoCRJRChBxdW90YV9kaW1lbnNpb25zGAYgAygLMjcuZ29vZ2xlLnJwYy5RdW90YUZhaWx1cmUuVmlvbGF0aW9uLlF1b3RhRGltZW5zaW9uc0VudHJ5EhMKC3F1b3RhX3ZhbHVlGAcgASgDEh8KEmZ1dHVyZV9xdW90YV92YWx1ZRgIIAEoA0gAiAEBGjYKFFF1b3RhRGltZW5zaW9uc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCFQoTX2Z1dHVyZV9xdW90YV92YWx1ZSKVAQoTUHJlY29uZGl0aW9uRmFpbHVyZRI9Cgp2aW9sYXRpb25zGAEgAygLMikuZ29vZ2xlLnJwYy5QcmVjb25kaXRpb25GYWlsdXJlLlZpb2xhdGlvbho/CglWaW9sYXRpb24SDAoEdHlwZRgBIAEoCRIPCgdzdWJqZWN0GAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJIswBCgpCYWRSZXF1ZXN0Ej8KEGZpZWxkX3Zpb2xhdGlvbnMYASADKAsyJS5nb29nbGUucnBjLkJhZFJlcXVlc3QuRmllbGRWaW9sYXRpb24afQoORmllbGRWaW9sYXRpb24SDQoFZmllbGQYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDgoGcmVhc29uGAMgASgJEjcKEWxvY2FsaXplZF9tZXNzYWdlGAQgASgLMhwuZ29vZ2xlLnJwYy5Mb2NhbGl6ZWRNZXNzYWdlIjcKC1JlcXVlc3RJbmZvEhIKCnJlcXVlc3RfaWQYASABKAkSFAoMc2VydmluZ19kYXRhGAIgASgJImAKDFJlc291cmNlSW5mbxIVCg1yZXNvdXJjZV90eXBlGAEgASgJEhUKDXJlc291cmNlX25hbWUYAiABKAkSDQoFb3duZXIYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkiVgoESGVscBIkCgVsaW5rcxgBIAMoCzIVLmdvb2dsZS5ycGMuSGVscC5MaW5rGigKBExpbmsSEwoLZGVzY3JpcHRpb24YASABKAkSCwoDdXJsGAIgASgJIjMKEExvY2FsaXplZE1lc3NhZ2USDgoGbG9jYWxlGAEgASgJEg8KB21lc3NhZ2UYAiABKAlCbAoOY29tLmdvb2dsZS5ycGNCEUVycm9yRGV0YWlsc1Byb3RvUAFaP2dvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvcnBjL2VycmRldGFpbHM7ZXJyZGV0YWlsc6ICA1JQQ2IGcHJvdG8z",[r1]),gT=ae(dT,0);var A=(i=>(i.Ok="ok",i.ErrClientNotActivated="ErrClientNotActivated",i.ErrClientNotFound="ErrClientNotFound",i.ErrUnimplemented="ErrUnimplemented",i.ErrInvalidType="ErrInvalidType",i.ErrDummy="ErrDummy",i.ErrNotAttached="ErrNotAttached",i.ErrNotDetached="ErrNotDetached",i.ErrDocumentRemoved="ErrDocumentRemoved",i.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",i.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",i.ErrInvalidObjectKey="ErrInvalidObjectKey",i.ErrInvalidArgument="ErrInvalidArgument",i.ErrNotInitialized="ErrNotInitialized",i.ErrNotReady="ErrNotReady",i.ErrRefused="ErrRefused",i.ErrContextNotProvided="ErrContextNotProvided",i.ErrPermissionDenied="ErrPermissionDenied",i.ErrUnauthenticated="ErrUnauthenticated",i.ErrTooManySubscribers="ErrTooManySubscribers",i.ErrTooManyAttachments="ErrTooManyAttachments",i))(A||{});class N extends Error{constructor(e,a){super(a),this.code=e,this.message=a,this.toString=()=>`[code=${this.code}]: ${this.message}`}name="YorkieError";stack}var Mn=(i=>(i.Put="put",i.Clear="clear",i))(Mn||{});const mh="000000000000000000000000",Bn=24;class un{lamport;delimiter;actorID;constructor(e,a,r){this.lamport=e,this.delimiter=a,this.actorID=r}static of(e,a,r){return new un(e,a,r)}static fromStruct(e){return un.of(BigInt(e.lamport),e.delimiter,e.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(e){return new un(this.lamport,this.delimiter,e)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(e){return this.compare(e)>0}equals(e){return this.compare(e)===0}compare(e){if(this.lamport>e.lamport)return 1;if(e.lamport>this.lamport)return-1;const a=this.actorID.localeCompare(e.actorID);return a!==0?a:this.delimiter>e.delimiter?1:e.delimiter>this.delimiter?-1:0}}const Uf=0n,bv=0,Lf=9223372036854775807n,vr=new un(Uf,bv,mh);function xn(i){return i.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(e){switch(e){case'"':case"\\":return"\\"+e;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}})}class ks{createdAt;movedAt;removedAt;constructor(e){this.createdAt=e}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(e){this.createdAt=e}setMovedAt(e){return!this.movedAt||e&&e.after(this.movedAt)?(this.movedAt=e,!0):!1}setRemovedAt(e){this.removedAt=e}remove(e){return e&&e.after(this.createdAt)&&(!this.removedAt||e.after(this.removedAt))?(this.removedAt=e,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let e=0;return this.getCreatedAt()&&(e+=Bn),this.getMovedAt()&&(e+=Bn),this.getRemovedAt()&&(e+=Bn),e}}class Gi extends ks{constructor(e){super(e)}}class Vo{strKey;value;constructor(e,a){this.strKey=e,this.value=a}static of(e,a){return new Vo(e,a)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(e){return this.value.remove(e)}}class Sr{nodeMapByKey;nodeMapByCreatedAt;constructor(){this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Sr}set(e,a,r){let o;const c=this.nodeMapByKey.get(e);c&&!c.isRemoved()&&c.remove(r)&&(o=c.getValue());const h=Vo.of(e,a);return this.nodeMapByCreatedAt.set(a.getCreatedAt().toIDString(),h),(!c||r.after(c.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(e,h),a.setMovedAt(r)),o}delete(e,a){if(!this.nodeMapByCreatedAt.has(e.toIDString()))throw new N(A.ErrInvalidArgument,`fail to find ${e.toIDString()}`);const r=this.nodeMapByCreatedAt.get(e.toIDString());return r.remove(a),r.getValue()}subPathOf(e){const a=this.nodeMapByCreatedAt.get(e.toIDString());if(a)return a.getStrKey()}purge(e){const a=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!a)throw new N(A.ErrInvalidArgument,`fail to find ${e.getCreatedAt().toIDString()}`);const r=this.nodeMapByKey.get(a.getStrKey());a===r&&this.nodeMapByKey.delete(r.getStrKey()),this.nodeMapByCreatedAt.delete(a.getValue().getCreatedAt().toIDString())}deleteByKey(e,a){const r=this.nodeMapByKey.get(e);if(r&&r.remove(a))return r.getValue()}has(e){const a=this.nodeMapByKey.get(e);return a?!a.isRemoved():!1}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}get(e){const a=this.nodeMapByKey.get(e);if(!(!a||a.isRemoved()))return a}deepcopy(){const e=Sr.create();for(const[,a]of this.nodeMapByCreatedAt)e.nodeMapByCreatedAt.set(a.getValue().getCreatedAt().toIDString(),Vo.of(a.getStrKey(),a.getValue().deepcopy()));for(const[a,r]of this.nodeMapByKey)e.nodeMapByKey.set(a,e.nodeMapByCreatedAt.get(r.getValue().getCreatedAt().toIDString()));return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByCreatedAt)yield e}}class vt extends Gi{memberNodes;constructor(e,a){super(e),this.memberNodes=a}static create(e,a){if(!a)return new vt(e,Sr.create());const r=Sr.create();for(const[o,c]of Object.entries(a))r.set(o,c.deepcopy(),c.getCreatedAt());return new vt(e,r)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,a,r){return this.memberNodes.set(e,a,r)}delete(e,a){return this.memberNodes.delete(e,a)}deleteByKey(e,a){return this.memberNodes.deleteByKey(e,a)}get(e){return this.memberNodes.get(e)?.getValue()}getByID(e){return this.memberNodes.getByID(e)?.getValue()}has(e){return this.memberNodes.has(e)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const[a,r]of this)e.push(`"${xn(a)}":${r.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[a,r]of this){const{createdAt:o,value:c,type:h}=r.toJSForTest();e[a]={key:a,createdAt:o,value:c,type:h}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[a]of this)e.push(a);return e}toSortedJSON(){const e=new Set;for(const[r]of this)e.add(r);const a=[];for(const r of Array.from(e).sort()){const o=this.memberNodes.get(r)?.getValue();a.push(`"${xn(r)}":${o.toSortedJSON()}`)}return`{${a.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=vt.create(this.getCreatedAt());return e.memberNodes=this.memberNodes.deepcopy(),e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}getDescendants(e){for(const a of this.memberNodes){const r=a.getValue();if(e(r,this))return;r instanceof Gi&&r.getDescendants(e)}}*[Symbol.iterator](){for(const e of this.memberNodes)e.isRemoved()||(yield[e.getStrKey(),e.getValue()])}}var Je=(i=>(i.Local="local",i.Remote="remote",i.UndoRedo="undoredo",i))(Je||{});class Cn{parentCreatedAt;executedAt;constructor(e,a){this.parentCreatedAt=e,this.executedAt=a}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new N(A.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(e){this.executedAt&&(this.executedAt=this.executedAt.setActor(e))}setExecutedAt(e){this.executedAt=e}}class vv{value;left;right;parent;weight;constructor(e){this.value=e,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(e){this.left=e}setRight(e){this.right=e}setParent(e){this.parent=e}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(e){this.weight+=e}initWeight(){this.weight=this.getLength()}}class _s{root;constructor(e){this.root=e}get length(){return this.root?this.root.getWeight():0}find(e){if(!this.root||e<0)return[void 0,0];let a=this.root;for(;;)if(a.hasLeft()&&e<=a.getLeftWeight())a=a.getLeft();else if(a.hasRight()&&a.getLeftWeight()+a.getLength()<e)e-=a.getLeftWeight()+a.getLength(),a=a.getRight();else{e-=a.getLeftWeight();break}if(e>a.getLength())throw new N(A.ErrInvalidArgument,`out of index range: pos: ${e} > node.length: ${a.getLength()}`);return this.splayNode(a),[a,e]}indexOf(e){return!e||e!==this.root&&!e.hasLinks()?-1:(this.splayNode(e),this.root.getLeftWeight())}getRoot(){return this.root}insert(e){return this.insertAfter(this.root,e)}insertAfter(e,a){return e?(this.splayNode(e),this.root=a,a.setRight(e.getRight()),e.hasRight()&&e.getRight().setParent(a),a.setLeft(e),e.setParent(a),e.setRight(),this.updateWeight(e),this.updateWeight(a),a):(this.root=a,a)}updateWeight(e){e.initWeight(),e.hasLeft()&&e.increaseWeight(e.getLeftWeight()),e.hasRight()&&e.increaseWeight(e.getRightWeight())}updateTreeWeight(e){for(;e;)this.updateWeight(e),e=e.getParent()}splayNode(e){if(e)for(;;)if(this.isLeftChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e),this.rotateLeft(e);else if(this.isLeftChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e.getParent()),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e.getParent()),this.rotateLeft(e);else{this.isLeftChild(e)?this.rotateRight(e):this.isRightChild(e)&&this.rotateLeft(e),this.updateWeight(e);return}}delete(e){this.splayNode(e);const a=new _s(e.getLeft());a.root&&a.root.setParent();const r=new _s(e.getRight());if(r.root&&r.root.setParent(),a.root){const o=a.getRightmost();a.splayNode(o),a.root.setRight(r.root),r.root&&r.root.setParent(a.root),this.root=a.root}else this.root=r.root;e.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(e,a){if(!a){this.splayNode(e),this.cutOffRight(e);return}this.splayNode(e),this.splayNode(a),a.getLeft()!=e&&this.rotateRight(e),this.cutOffRight(e)}cutOffRight(e){const a=[];this.traversePostorder(e.getRight(),a);for(const r of a)r.initWeight();this.updateTreeWeight(e)}toTestString(){const e=[];return this.traverseInorder(this.root,e),e.map(a=>`[${a.getWeight()},${a.getLength()}]${a.getValue()||""}`).join("")}checkWeight(){const e=[];this.traverseInorder(this.root,e);for(const a of e)if(a.getWeight()!=a.getLength()+a.getLeftWeight()+a.getRightWeight())return!1;return!0}getRightmost(){let e=this.root;for(;e.hasRight();)e=e.getRight();return e}traverseInorder(e,a){e&&(this.traverseInorder(e.getLeft(),a),a.push(e),this.traverseInorder(e.getRight(),a))}traversePostorder(e,a){e&&(this.traversePostorder(e.getLeft(),a),this.traversePostorder(e.getRight(),a),a.push(e))}rotateLeft(e){const a=e.getParent();a.hasParent()?a===a.getParent().getLeft()?a.getParent().setLeft(e):a.getParent().setRight(e):this.root=e,e.setParent(a.getParent()),a.setRight(e.getLeft()),a.hasRight()&&a.getRight().setParent(a),e.setLeft(a),e.getLeft().setParent(e),this.updateWeight(a),this.updateWeight(e)}rotateRight(e){const a=e.getParent();a.hasParent()?a===a.getParent().getLeft()?a.getParent().setLeft(e):a.getParent().setRight(e):this.root=e,e.setParent(a.getParent()),a.setLeft(e.getRight()),a.hasLeft()&&a.getLeft().setParent(a),e.setRight(a),e.getRight().setParent(e),this.updateWeight(a),this.updateWeight(e)}isLeftChild(e){return e&&e.hasParent()?e.getParent().getLeft()===e:!1}isRightChild(e){return e&&e.hasParent()?e.getParent().getRight()===e:!1}}var ln=null;try{ln=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function me(i,e,a){this.low=i|0,this.high=e|0,this.unsigned=!!a}me.prototype.__isLong__;Object.defineProperty(me.prototype,"__isLong__",{value:!0});function At(i){return(i&&i.__isLong__)===!0}function $p(i){var e=Math.clz32(i&-i);return i?31-e:e}me.isLong=At;var Pp={},qp={};function va(i,e){var a,r,o;return e?(i>>>=0,(o=0<=i&&i<256)&&(r=qp[i],r)?r:(a=Ne(i,0,!0),o&&(qp[i]=a),a)):(i|=0,(o=-128<=i&&i<128)&&(r=Pp[i],r)?r:(a=Ne(i,i<0?-1:0,!1),o&&(Pp[i]=a),a))}me.fromInt=va;function on(i,e){if(isNaN(i))return e?si:Nn;if(e){if(i<0)return si;if(i>=Sv)return Nv}else{if(i<=-tb)return Bt;if(i+1>=tb)return Ev}return i<0?on(-i,e).neg():Ne(i%Ar|0,i/Ar|0,e)}me.fromNumber=on;function Ne(i,e,a){return new me(i,e,a)}me.fromBits=Ne;var xo=Math.pow;function yh(i,e,a){if(i.length===0)throw Error("empty string");if(typeof e=="number"?(a=e,e=!1):e=!!e,i==="NaN"||i==="Infinity"||i==="+Infinity"||i==="-Infinity")return e?si:Nn;if(a=a||10,a<2||36<a)throw RangeError("radix");var r;if((r=i.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return yh(i.substring(1),e,a).neg();for(var o=on(xo(a,8)),c=Nn,h=0;h<i.length;h+=8){var d=Math.min(8,i.length-h),y=parseInt(i.substring(h,h+d),a);if(d<8){var m=on(xo(a,d));c=c.mul(m).add(on(y))}else c=c.mul(o),c=c.add(on(y))}return c.unsigned=e,c}me.fromString=yh;function dn(i,e){return typeof i=="number"?on(i,e):typeof i=="string"?yh(i,e):Ne(i.low,i.high,typeof e=="boolean"?e:i.unsigned)}me.fromValue=dn;var eb=65536,mT=1<<24,Ar=eb*eb,Sv=Ar*Ar,tb=Sv/2,nb=va(mT),Nn=va(0);me.ZERO=Nn;var si=va(0,!0);me.UZERO=si;var cr=va(1);me.ONE=cr;var Av=va(1,!0);me.UONE=Av;var Mf=va(-1);me.NEG_ONE=Mf;var Ev=Ne(-1,2147483647,!1);me.MAX_VALUE=Ev;var Nv=Ne(-1,-1,!0);me.MAX_UNSIGNED_VALUE=Nv;var Bt=Ne(0,-2147483648,!1);me.MIN_VALUE=Bt;var Y=me.prototype;Y.toInt=function(){return this.unsigned?this.low>>>0:this.low};Y.toNumber=function(){return this.unsigned?(this.high>>>0)*Ar+(this.low>>>0):this.high*Ar+(this.low>>>0)};Y.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Bt)){var a=on(e),r=this.div(a),o=r.mul(a).sub(this);return r.toString(e)+o.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var c=on(xo(e,6),this.unsigned),h=this,d="";;){var y=h.div(c),m=h.sub(y.mul(c)).toInt()>>>0,v=m.toString(e);if(h=y,h.isZero())return v+d;for(;v.length<6;)v="0"+v;d=""+v+d}};Y.getHighBits=function(){return this.high};Y.getHighBitsUnsigned=function(){return this.high>>>0};Y.getLowBits=function(){return this.low};Y.getLowBitsUnsigned=function(){return this.low>>>0};Y.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Bt)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,a=31;a>0&&(e&1<<a)==0;a--);return this.high!=0?a+33:a+1};Y.isSafeInteger=function(){var e=this.high>>21;return e?this.unsigned?!1:e===-1&&!(this.low===0&&this.high===-2097152):!0};Y.isZero=function(){return this.high===0&&this.low===0};Y.eqz=Y.isZero;Y.isNegative=function(){return!this.unsigned&&this.high<0};Y.isPositive=function(){return this.unsigned||this.high>=0};Y.isOdd=function(){return(this.low&1)===1};Y.isEven=function(){return(this.low&1)===0};Y.equals=function(e){return At(e)||(e=dn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};Y.eq=Y.equals;Y.notEquals=function(e){return!this.eq(e)};Y.neq=Y.notEquals;Y.ne=Y.notEquals;Y.lessThan=function(e){return this.comp(e)<0};Y.lt=Y.lessThan;Y.lessThanOrEqual=function(e){return this.comp(e)<=0};Y.lte=Y.lessThanOrEqual;Y.le=Y.lessThanOrEqual;Y.greaterThan=function(e){return this.comp(e)>0};Y.gt=Y.greaterThan;Y.greaterThanOrEqual=function(e){return this.comp(e)>=0};Y.gte=Y.greaterThanOrEqual;Y.ge=Y.greaterThanOrEqual;Y.compare=function(e){if(At(e)||(e=dn(e)),this.eq(e))return 0;var a=this.isNegative(),r=e.isNegative();return a&&!r?-1:!a&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};Y.comp=Y.compare;Y.negate=function(){return!this.unsigned&&this.eq(Bt)?Bt:this.not().add(cr)};Y.neg=Y.negate;Y.add=function(e){At(e)||(e=dn(e));var a=this.high>>>16,r=this.high&65535,o=this.low>>>16,c=this.low&65535,h=e.high>>>16,d=e.high&65535,y=e.low>>>16,m=e.low&65535,v=0,T=0,V=0,C=0;return C+=c+m,V+=C>>>16,C&=65535,V+=o+y,T+=V>>>16,V&=65535,T+=r+d,v+=T>>>16,T&=65535,v+=a+h,v&=65535,Ne(V<<16|C,v<<16|T,this.unsigned)};Y.subtract=function(e){return At(e)||(e=dn(e)),this.add(e.neg())};Y.sub=Y.subtract;Y.multiply=function(e){if(this.isZero())return this;if(At(e)||(e=dn(e)),ln){var a=ln.mul(this.low,this.high,e.low,e.high);return Ne(a,ln.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?si:Nn;if(this.eq(Bt))return e.isOdd()?Bt:Nn;if(e.eq(Bt))return this.isOdd()?Bt:Nn;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(nb)&&e.lt(nb))return on(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,o=this.high&65535,c=this.low>>>16,h=this.low&65535,d=e.high>>>16,y=e.high&65535,m=e.low>>>16,v=e.low&65535,T=0,V=0,C=0,L=0;return L+=h*v,C+=L>>>16,L&=65535,C+=c*v,V+=C>>>16,C&=65535,C+=h*m,V+=C>>>16,C&=65535,V+=o*v,T+=V>>>16,V&=65535,V+=c*m,T+=V>>>16,V&=65535,V+=h*y,T+=V>>>16,V&=65535,T+=r*v+o*m+c*y+h*d,T&=65535,Ne(C<<16|L,T<<16|V,this.unsigned)};Y.mul=Y.multiply;Y.divide=function(e){if(At(e)||(e=dn(e)),e.isZero())throw Error("division by zero");if(ln){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var a=(this.unsigned?ln.div_u:ln.div_s)(this.low,this.high,e.low,e.high);return Ne(a,ln.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?si:Nn;var r,o,c;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return si;if(e.gt(this.shru(1)))return Av;c=si}else{if(this.eq(Bt)){if(e.eq(cr)||e.eq(Mf))return Bt;if(e.eq(Bt))return cr;var h=this.shr(1);return r=h.div(e).shl(1),r.eq(Nn)?e.isNegative()?cr:Mf:(o=this.sub(e.mul(r)),c=r.add(o.div(e)),c)}else if(e.eq(Bt))return this.unsigned?si:Nn;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();c=Nn}for(o=this;o.gte(e);){r=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var d=Math.ceil(Math.log(r)/Math.LN2),y=d<=48?1:xo(2,d-48),m=on(r),v=m.mul(e);v.isNegative()||v.gt(o);)r-=y,m=on(r,this.unsigned),v=m.mul(e);m.isZero()&&(m=cr),c=c.add(m),o=o.sub(v)}return c};Y.div=Y.divide;Y.modulo=function(e){if(At(e)||(e=dn(e)),ln){var a=(this.unsigned?ln.rem_u:ln.rem_s)(this.low,this.high,e.low,e.high);return Ne(a,ln.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};Y.mod=Y.modulo;Y.rem=Y.modulo;Y.not=function(){return Ne(~this.low,~this.high,this.unsigned)};Y.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};Y.clz=Y.countLeadingZeros;Y.countTrailingZeros=function(){return this.low?$p(this.low):$p(this.high)+32};Y.ctz=Y.countTrailingZeros;Y.and=function(e){return At(e)||(e=dn(e)),Ne(this.low&e.low,this.high&e.high,this.unsigned)};Y.or=function(e){return At(e)||(e=dn(e)),Ne(this.low|e.low,this.high|e.high,this.unsigned)};Y.xor=function(e){return At(e)||(e=dn(e)),Ne(this.low^e.low,this.high^e.high,this.unsigned)};Y.shiftLeft=function(e){return At(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ne(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Ne(0,this.low<<e-32,this.unsigned)};Y.shl=Y.shiftLeft;Y.shiftRight=function(e){return At(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ne(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Ne(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};Y.shr=Y.shiftRight;Y.shiftRightUnsigned=function(e){return At(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ne(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?Ne(this.high,0,this.unsigned):Ne(this.high>>>e-32,0,this.unsigned)};Y.shru=Y.shiftRightUnsigned;Y.shr_u=Y.shiftRightUnsigned;Y.rotateLeft=function(e){var a;return At(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Ne(this.high,this.low,this.unsigned):e<32?(a=32-e,Ne(this.low<<e|this.high>>>a,this.high<<e|this.low>>>a,this.unsigned)):(e-=32,a=32-e,Ne(this.high<<e|this.low>>>a,this.low<<e|this.high>>>a,this.unsigned))};Y.rotl=Y.rotateLeft;Y.rotateRight=function(e){var a;return At(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Ne(this.high,this.low,this.unsigned):e<32?(a=32-e,Ne(this.high<<a|this.low>>>e,this.low<<a|this.high>>>e,this.unsigned)):(e-=32,a=32-e,Ne(this.low<<a|this.high>>>e,this.high<<a|this.low>>>e,this.unsigned))};Y.rotr=Y.rotateRight;Y.toSigned=function(){return this.unsigned?Ne(this.low,this.high,!1):this};Y.toUnsigned=function(){return this.unsigned?this:Ne(this.low,this.high,!0)};Y.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};Y.toBytesLE=function(){var e=this.high,a=this.low;return[a&255,a>>>8&255,a>>>16&255,a>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};Y.toBytesBE=function(){var e=this.high,a=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,a>>>24,a>>>16&255,a>>>8&255,a&255]};me.fromBytes=function(e,a,r){return r?me.fromBytesLE(e,a):me.fromBytesBE(e,a)};me.fromBytesLE=function(e,a){return new me(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,a)};me.fromBytesBE=function(e,a){return new me(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],a)};typeof BigInt=="function"&&(me.fromBigInt=function(e,a){var r=Number(BigInt.asIntN(32,e)),o=Number(BigInt.asIntN(32,e>>BigInt(32)));return Ne(r,o,a)},me.fromValue=function(e,a){return typeof e=="bigint"?me.fromBigInt(e,a):dn(e,a)},Y.toBigInt=function(){var e=BigInt(this.low>>>0),a=BigInt(this.unsigned?this.high>>>0:this.high);return a<<BigInt(32)|e});var _e=(i=>(i[i.Null=0]="Null",i[i.Boolean=1]="Boolean",i[i.Integer=2]="Integer",i[i.Long=3]="Long",i[i.Double=4]="Double",i[i.String=5]="String",i[i.Bytes=6]="Bytes",i[i.Date=7]="Date",i))(_e||{});class je extends ks{valueType;value;constructor(e,a){super(a),this.valueType=je.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,a){return new je(e,a)}static valueFromBytes(e,a){switch(e){case 0:return null;case 1:return!!a[0];case 2:return a[0]|a[1]<<8|a[2]<<16|a[3]<<24;case 4:{const r=new DataView(a.buffer);return a.forEach(function(o,c){r.setUint8(c,o)}),r.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(a);case 3:return me.fromBytesLE(Array.from(a));case 6:return a;case 7:return new Date(me.fromBytesLE(Array.from(a),!0).toNumber());default:throw new N(A.ErrUnimplemented,`unimplemented type: ${e}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new N(A.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${xn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=je.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof me)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return je.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,a=new Uint8Array(8);return new DataView(a.buffer).setFloat64(0,e,!0),a}case 5:return new TextEncoder().encode(this.value);case 3:{const a=this.value.toBytesLE();return Uint8Array.from(a)}case 6:return this.value;case 7:{const e=this.value,a=me.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(a)}default:throw new N(A.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Bo extends vv{prev;next;movedFrom;constructor(e){super(e),this.value=e}static createAfter(e,a){const r=new Bo(a),o=e.next;return e.next=r,r.prev=e,r.next=o,o&&(o.prev=r),r}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(e){this.movedFrom=e}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class Ys{dummyHead;last;nodeMapByIndex;nodeMapByCreatedAt;constructor(){const e=je.of(0,vr);e.setRemovedAt(vr),this.dummyHead=new Bo(e),this.last=this.dummyHead,this.nodeMapByIndex=new _s,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new Ys}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(e,a){let r=this.nodeMapByCreatedAt.get(e.toIDString());if(!r)throw new N(A.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);for(;r.getValue().getMovedAt()&&r.getValue().getMovedAt().after(a)&&r.getMovedFrom();)r=r.getMovedFrom();for(;r.getNext()&&r.getNext().getPositionedAt().after(a);)r=r.getNext();return r}release(e){this.last===e&&(this.last=e.getPrev()),e.release(),this.nodeMapByIndex.delete(e),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}insertAfter(e,a,r=a.getCreatedAt()){const o=this.findNextBeforeExecutedAt(e,r),c=Bo.createAfter(o,a);return o===this.last&&(this.last=c),this.nodeMapByIndex.insertAfter(o,c),this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),c),c}moveAfter(e,a,r){let o=this.nodeMapByCreatedAt.get(e.toIDString());if(!o)throw new N(A.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);let c=this.nodeMapByCreatedAt.get(a.toIDString());if(!c)throw new N(A.ErrInvalidArgument,`cant find the given node: ${a.toIDString()}`);if(o!==c&&r.after(c.getPositionedAt())){const h=c.getPrev();let d=c.getNext();for(this.release(c),c=this.insertAfter(o.getCreatedAt(),c.getValue(),r),c.getValue().setMovedAt(r),c.setMovedFrom(h);d&&d.getPositionedAt().after(r);)o=c,c=d,d=c.getNext(),this.release(c),c=this.insertAfter(o.getCreatedAt(),c.getValue(),r),c.getValue().setMovedAt(r),c.setMovedFrom(h)}}insert(e){this.insertAfter(this.last.getCreatedAt(),e)}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}subPathOf(e){const a=this.nodeMapByCreatedAt.get(e.toIDString());if(a)return String(this.nodeMapByIndex.indexOf(a))}purge(e){const a=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!a)throw new N(A.ErrInvalidArgument,`fail to find the given createdAt: ${e.getCreatedAt().toIDString()}`);this.release(a)}getByIndex(e){if(e>=this.length)return;const[a,r]=this.nodeMapByIndex.find(e);let o=a;if(e===0&&a===this.dummyHead||r>0)do o&&(o=o.getNext());while(o&&o.isRemoved());return o}getPrevCreatedAt(e){let a=this.nodeMapByCreatedAt.get(e.toIDString());do a=a.getPrev();while(this.dummyHead!==a&&a.isRemoved());return a.getValue().getCreatedAt()}delete(e,a){const r=this.nodeMapByCreatedAt.get(e.toIDString()),o=r.isRemoved();return r.remove(a)&&!o&&this.nodeMapByIndex.splayNode(r),r.getValue()}set(e,a,r){const o=this.nodeMapByCreatedAt.get(e.toIDString());if(!o)throw new N(A.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);return this.insertAfter(o.getCreatedAt(),a,r),this.delete(e,r)}deleteByIndex(e,a){const r=this.getByIndex(e);if(r)return r.remove(a)&&this.nodeMapByIndex.splayNode(r),r.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const e=[];for(const a of this){const r=`${a.getCreatedAt().toIDString()}:${a.getValue().toJSON()}`;a.isRemoved()?e.push(`{${r}}`):e.push(`[${r}]`)}return e.join("")}*[Symbol.iterator](){let e=this.dummyHead.getNext();for(;e;)yield e,e=e.getNext()}}class St extends Gi{elements;constructor(e,a){super(e),this.elements=a}static create(e,a){if(!a)return new St(e,Ys.create());const r=Ys.create();for(const o of a)r.insertAfter(r.getLastCreatedAt(),o.deepcopy());return new St(e,r)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,a,r){this.elements.insertAfter(e,a,r)}moveAfter(e,a,r){this.elements.moveAfter(e,a,r)}get(e){return this.elements.getByIndex(e)?.getValue()}getByID(e){return this.elements.getByID(e)?.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,a){return this.elements.delete(e,a)}deleteByIndex(e,a){return this.elements.deleteByIndex(e,a)}set(e,a,r){return this.elements.set(e,a,r)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const a of this.elements){const r=a.getValue();if(e(r,this))return;r instanceof Gi&&r.getDescendants(e)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const a of this)e.push(a.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let a=0;a<this.length;a++){const{createdAt:r,value:o,type:c}=this.get(a).toJSForTest();e[a]={key:String(a),createdAt:r,value:o,type:c}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=St.create(this.getCreatedAt());for(const a of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),a.getValue().deepcopy());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}}class Ji extends Cn{prevCreatedAt;value;constructor(e,a,r,o){super(e,o),this.prevCreatedAt=a,this.value=r}static create(e,a,r,o){return new Ji(e,a,r,o)}execute(e){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof St))throw new N(A.ErrInvalidArgument,"fail to execute, only array can execute add");const r=a,o=this.value.deepcopy();return r.insertAfter(this.prevCreatedAt,o,this.getExecutedAt()),e.registerElement(o,r),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(r.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return Zn.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(e){this.prevCreatedAt=e}}class Zn extends Cn{createdAt;constructor(e,a,r){super(e,r),this.createdAt=a}static create(e,a,r){return new Zn(e,a,r)}execute(e,a){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Gi))throw new N(A.ErrInvalidArgument,`only object and array can execute remove: ${r}`);if(a===Je.UndoRedo){let y=r.getByID(this.createdAt);for(;y;){if(y.getRemovedAt())return;y=e.findElementPairByCreatedAt(y.getCreatedAt())?.parent}}const o=r.subPathOf(this.createdAt),c=this.toReverseOperation(r),h=r.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(h),{opInfos:r instanceof St?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(o)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:o}],reverseOp:c}}toReverseOperation(e){if(e instanceof St){const a=e.getByID(this.createdAt);if(a!==void 0){const r=e.getPrevCreatedAt(this.createdAt);return Ji.create(this.getParentCreatedAt(),r,a.deepcopy())}}if(e instanceof vt){const a=e.subPathOf(this.createdAt);if(a!==void 0){const r=e.get(a);if(r!==void 0)return ba.create(a,r.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(e){this.createdAt=e}}class ba extends Cn{key;value;constructor(e,a,r,o){super(r,o),this.key=e,this.value=a}static create(e,a,r,o){return new ba(e,a,r,o)}execute(e,a){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof vt))throw new N(A.ErrInvalidArgument,"fail to execute, only object can execute set");if(a===Je.UndoRedo){let y=r;for(;y;){if(y.getRemovedAt())return;y=e.findElementPairByCreatedAt(y.getCreatedAt())?.parent}}const o=r.get(this.key),c=this.toReverseOperation(o),h=this.value.deepcopy(),d=r.set(this.key,h,this.getExecutedAt());return a===Je.UndoRedo&&e.findByCreatedAt(h.getCreatedAt())&&e.deregisterElement(h),e.registerElement(h,r),d&&e.registerRemovedElement(d),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:c}}toReverseOperation(e){let a=Zn.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(a=ba.create(this.key,e.deepcopy(),this.getParentCreatedAt())),a}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Tn extends Cn{prevCreatedAt;createdAt;constructor(e,a,r,o){super(e,o),this.prevCreatedAt=a,this.createdAt=r}static create(e,a,r,o){return new Tn(e,a,r,o)}execute(e){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof St))throw new N(A.ErrInvalidArgument,"fail to execute, only array can execute move");const r=a,o=this.toReverseOperation(r),c=Number(r.subPathOf(this.createdAt));r.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const h=Number(r.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:h,previousIndex:c}],reverseOp:o}}toReverseOperation(e){const a=e.getPrevCreatedAt(this.createdAt);return Tn.create(this.getParentCreatedAt(),a,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(e){this.prevCreatedAt=e}setCreatedAt(e){this.createdAt=e}}class Yi{key;value;updatedAt;_isRemoved;constructor(e,a,r,o){this.key=e,this.value=a,this.updatedAt=r,this._isRemoved=o}static of(e,a,r,o){return new Yi(e,a,r,o)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Bn}}}class ui{nodeMapByKey;numberOfRemovedElement;constructor(){this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new ui}getNodeMapByKey(){return this.nodeMapByKey}set(e,a,r){const o=this.nodeMapByKey.get(e);if(o&&o.isRemoved()&&r.after(o.getUpdatedAt())&&(this.numberOfRemovedElement-=1),o===void 0||r.after(o.getUpdatedAt())){const c=Yi.of(e,a,r,!1);return this.nodeMapByKey.set(e,c),o!==void 0&&o.isRemoved()?[o,c]:[void 0,c]}return o.isRemoved()?[o,void 0]:[void 0,void 0]}setInternal(e,a,r,o){const c=Yi.of(e,a,r,o);this.nodeMapByKey.set(e,c),o&&this.numberOfRemovedElement++}remove(e,a){const r=this.nodeMapByKey.get(e),o=[];if(r===void 0||a.after(r.getUpdatedAt())){if(r===void 0){this.numberOfRemovedElement+=1;const d=Yi.of(e,"",a,!0);return this.nodeMapByKey.set(e,d),o.push(d),o}const c=r.isRemoved();c||(this.numberOfRemovedElement+=1),c&&o.push(r);const h=Yi.of(e,r.getValue(),a,!0);return this.nodeMapByKey.set(e,h),o.push(h),o}return o}has(e){if(this.nodeMapByKey.has(e)){const a=this.nodeMapByKey.get(e);return a!==void 0&&!a.isRemoved()}return!1}get(e){if(this.nodeMapByKey.has(e))return this.nodeMapByKey.get(e).getValue()}deepcopy(){const e=new ui;for(const[,a]of this.nodeMapByKey)e.setInternal(a.getKey(),a.getValue(),a.getUpdatedAt(),a.isRemoved());return e}toJSON(){if(!this.size())return"{}";const e=[];for(const[a,r]of this.nodeMapByKey)r.isRemoved()||e.push(`"${xn(a)}":"${xn(r.getValue())}"`);return`{${e.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const e={};for(const[a,r]of this.nodeMapByKey)r.isRemoved()||(e[a]=r.getValue());return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}purge(e){const a=this.nodeMapByKey.get(e.getKey());a==null||a.toIDString()!=e.toIDString()||(this.nodeMapByKey.delete(e.getKey()),this.numberOfRemovedElement--)}}function Sn(i){if(i instanceof Map){const e=Array.from(i);return new Map(JSON.parse(JSON.stringify(e)))}return JSON.parse(JSON.stringify(i))}const Tv=i=>i?Object.entries(i).length===0:!0,Er=i=>{const e={};for(const[a,r]of Object.entries(i))e[a]=JSON.stringify(r);return e},li=i=>{const e={};for(const[a,r]of Object.entries(i))e[a]=JSON.parse(r);return e};function yT(i){return i?ib(i.live)+ib(i.gc):0}function ib(i){return i.data+i.meta}function yt(i,...e){for(const a of e)i.data+=a.data,i.meta+=a.meta}function ya(i,e){i.data-=e.data,i.meta-=e.meta}class Gs{attributes;content;constructor(e){this.attributes=ui.create(),this.content=e}static create(e){return new Gs(e)}get length(){return this.content.length}substring(e,a){const r=new Gs(this.content.substring(e,a));return r.attributes=this.attributes.deepcopy(),r}setAttr(e,a,r){return this.attributes.set(e,a,r)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const e={data:0,meta:0};e.data+=this.content.length*2;for(const a of this.attributes){const r=a.getDataSize();e.meta+=r.meta,e.data+=r.data}return e}toJSON(){const e=xn(this.content),a=this.attributes.toObject(),r=[];for(const[o,c]of Object.entries(a)){const h=JSON.parse(c),d=typeof h=="string"?`"${xn(o)}":"${xn(h)}"`:`"${xn(o)}":${String(h)}`;r.push(d)}return r.sort(),r.length===0?`{"val":"${e}"}`:`{"attrs":{${r.join(",")}},"val":"${e}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(e){this.attributes&&e instanceof Yi&&this.attributes.purge(e)}getGCPairs(){const e=[];for(const a of this.attributes)a.getRemovedAt()&&e.push({parent:this,child:a});return e}}class Ft extends ks{rgaTreeSplit;constructor(e,a){super(a),this.rgaTreeSplit=e}static create(e,a){return new Ft(e,a)}edit(e,a,r,o,c){const h=a?Gs.create(a):void 0;if(h&&o)for(const[V,C]of Object.entries(o))h.setAttr(V,C,r);const[d,y,m,v]=this.rgaTreeSplit.edit(e,r,h,c);return[v.map(V=>({...V,value:V.value?{attributes:li(V.value.getAttributes()),content:V.value.getContent()}:{attributes:void 0,content:""},type:"content"})),y,m,[d,d]]}setStyle(e,a,r,o){const c={data:0,meta:0},[,h,d]=this.rgaTreeSplit.findNodeWithSplit(e[1],r),[,y,m]=this.rgaTreeSplit.findNodeWithSplit(e[0],r);yt(c,h,y);const v=[],T=this.rgaTreeSplit.findBetween(m,d),V=[];for(const L of T){const _=L.getCreatedAt().getActorID();let j=Lf;o!=null&&(j=o.get(_)?o.get(_):0n),L.canStyle(r,j)&&V.push(L)}const C=[];for(const L of V){if(L.isRemoved())continue;const[_,j]=this.rgaTreeSplit.findIndexesFromRange(L.createPosRange());v.push({type:"style",actor:r.getActorID(),from:_,to:j,value:{attributes:li(a)}});for(const[q,ye]of Object.entries(a)){const[ne]=L.getValue().setAttr(q,ye,r);ne!==void 0&&C.push({parent:L.getValue(),child:ne});const Ee=L.getValue().getAttrs().getNodeMapByKey().get(q);Ee!==void 0&&yt(c,Ee.getDataSize())}}return[C,c,v]}indexRangeToPosRange(e,a){const r=this.rgaTreeSplit.indexToPos(e);return e===a?[r,r]:[r,this.rgaTreeSplit.indexToPos(a)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const e={data:0,meta:0};for(const a of this.rgaTreeSplit){if(a.isRemoved())continue;const r=a.getDataSize();e.data+=r.data,e.meta+=r.meta}return{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){const e=[];for(const a of this.rgaTreeSplit)a.isRemoved()||e.push(a.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const a of this.rgaTreeSplit)if(!a.isRemoved()){const r=a.getValue();e.push({attributes:li(r.getAttributes()),content:r.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new Ft(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}getGCPairs(){const e=[];for(const a of this.rgaTreeSplit){a.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:a});for(const r of a.getValue().getGCPairs())e.push(r)}return e}}class js extends Cn{fromPos;toPos;content;attributes;constructor(e,a,r,o,c,h){super(e,h),this.fromPos=a,this.toPos=r,this.content=o,this.attributes=c}static create(e,a,r,o,c,h){return new js(e,a,r,o,c,h)}execute(e,a,r){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Ft))throw new N(A.ErrInvalidArgument,"fail to execute, only Text can execute edit");const c=o,[h,d,y]=c.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),r);e.acc(y);for(const m of d)e.registerGCPair(m);return{opInfos:h.map(({from:m,to:v,value:T})=>({type:"edit",from:m,to:v,value:T,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),a=this.fromPos.toTestString(),r=this.toPos.toTestString(),o=this.content;return`${e}.EDIT(${a},${r},${o})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class Fs extends Cn{fromPos;toPos;attributes;constructor(e,a,r,o,c){super(e,c),this.fromPos=a,this.toPos=r,this.attributes=o}static create(e,a,r,o,c){return new Fs(e,a,r,o,c)}execute(e,a,r){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Ft))throw new N(A.ErrInvalidArgument,"fail to execute, only Text can execute edit");const c=o,[h,d,y]=c.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),r);e.acc(d);for(const m of h)e.registerGCPair(m);return{opInfos:y.map(({from:m,to:v,value:T})=>({type:"style",from:m,to:v,value:T,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),a=this.fromPos.toTestString(),r=this.toPos.toTestString(),o=this.attributes;return`${e}.STYL(${a},${r},${JSON.stringify(o)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const pT=2,bT="root",Un="text";function Es(i,e,a=!1){let r=0;const o=a?i.allChildren:i.children;for(let c=0;c<e;c++){const h=o[c];!h||!a&&h.isRemoved||(r+=h.paddedSize(a))}return r}class vT{type;parent;_children;visibleSize;totalSize;constructor(e,a=[]){if(this.type=e,this.visibleSize=0,this.totalSize=0,this._children=a,this.isText&&this._children.length>0)throw new N(A.ErrRefused,"Text node cannot have children")}updateAncestorsSize(e,a=!1){let r=this.parent;for(;r;){if(a)r.totalSize+=e;else if(r.visibleSize+=e,r.isRemoved)break;r=r.parent}}updateDescendantsSize(e=!1){let a=0;for(const r of this._children){const o=r.updateDescendantsSize(e);!e&&r.isRemoved||(a+=o)}return e?this.totalSize+=a:this.visibleSize+=a,this.paddedSize(e)}get isText(){return this.type===Un}paddedSize(e=!1){let a=this.visibleSize;return e&&(a=this.totalSize),this.isText||(a+=pT),a}isAncestorOf(e){return ST(this,e)}get nextSibling(){const e=this.parent.findOffset(this),a=this.parent.children[e+1];if(a)return a}get prevSibling(){const e=this.parent.findOffset(this),a=this.parent.children[e-1];if(a)return a}splitText(e,a){const r={data:0,meta:0};if(e===0||e===this.visibleSize)return[void 0,r];const o=this.value.slice(0,e),c=this.value.slice(e);if(!c.length)return[void 0,r];const h=this.getDataSize();this.value=o;const d=this.cloneText(e+a);return d.value=c,this.parent.insertAfterInternal(d,this),yt(r,this.getDataSize(),d.getDataSize()),ya(r,h),[d,r]}get children(){return this._children.filter(e=>!e.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(e=>e.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(e=>e.value).join(""):""}append(...e){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");this._children.push(...e);for(const a of e)a.parent=this,a.updateAncestorsSize(a.paddedSize()),a.updateAncestorsSize(a.paddedSize(!0),!0)}prepend(...e){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");this._children.unshift(...e);for(const a of e)a.parent=this}insertBefore(e,a){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(a);if(r===-1)throw new N(A.ErrInvalidArgument,"child not found");this.insertAtInternal(e,r),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAfter(e,a){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(a);if(r===-1)throw new N(A.ErrInvalidArgument,"child not found");this.insertAtInternal(e,r+1),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAt(e,a){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");this.insertAtInternal(e,a),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}removeChild(e){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");const a=this._children.indexOf(e);if(a===-1)throw new N(A.ErrInvalidArgument,"child not found");this._children.splice(a,1),e.updateAncestorsSize(-e.paddedSize(!0),!0),e.parent=void 0}splitElement(e,a){const r={data:0,meta:0},o=this.getDataSize(),c=this.cloneElement(a);this.parent.insertAfterInternal(c,this),c.updateAncestorsSize(c.paddedSize()),c.updateAncestorsSize(c.paddedSize(!0),!0);const h=this.children.slice(0,e),d=this.children.slice(e);this._children=h,c._children=d,this.visibleSize=this._children.reduce((y,m)=>y+m.paddedSize(),0),this.totalSize=this._children.reduce((y,m)=>y+m.paddedSize(!0),0),c.visibleSize=c._children.reduce((y,m)=>y+m.paddedSize(!0),0),c.totalSize=c._children.reduce((y,m)=>y+m.paddedSize(!0),0);for(const y of c._children)y.parent=c;return yt(r,this.getDataSize(),c.getDataSize()),ya(r,o),[c,r]}insertAfterInternal(e,a){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(a);if(r===-1)throw new N(A.ErrInvalidArgument,"child not found");this.insertAtInternal(e,r+1)}insertAtInternal(e,a){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");this._children.splice(a,0,e),e.parent=this}findOffset(e,a=!1){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");if(a)return this._children.indexOf(e);if(e.isRemoved){const r=this._children.indexOf(e);return this.allChildren.splice(0,r).filter(c=>!c.isRemoved).length}return this.children.indexOf(e)}findBranchOffset(e){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");let a=e;for(;a;){const r=this._children.indexOf(a);if(r!==-1)return r;a=a.parent}return-1}}function ST(i,e){if(i===e)return!1;for(;e.parent;){if(e.parent===i)return!0;e=e.parent}return!1}var qe=(i=>(i.Start="Start",i.End="End",i.Text="Text",i))(qe||{});function Rv(i,e,a,r,o=!1){if(e>a)throw new N(A.ErrInvalidArgument,`from is greater than to: ${e} > ${a}`);const c=o?i.totalSize:i.visibleSize;if(e>c)throw new N(A.ErrInvalidArgument,`from is out of range: ${e} > ${c}`);if(a>c)throw new N(A.ErrInvalidArgument,`to is out of range: ${a} > ${c}`);if(e===a)return;let h=0;const d=o?i._children:i.children;for(const y of d){if(e-y.paddedSize(o)<h&&h<a){const m=y.isText?e-h:e-h-1,v=y.isText?a-h:a-h-1,T=o?y.totalSize:y.visibleSize,V=!y.isText&&m<0,C=!y.isText&&v>T;(y.isText||V)&&r([y,y.isText?"Text":"Start"],C),Rv(y,Math.max(0,m),Math.min(v,T),r,o),C&&r([y,"End"],C)}h+=y.paddedSize(o)}}function Iv(i,e,a=0){for(const r of i.children)Iv(r,e,a+1);e(i,a)}function Go(i,e,a=0){for(const r of i._children)Go(r,e,a+1);e(i,a)}function Zf(i,e,a=!0){if(e>i.visibleSize)throw new N(A.ErrInvalidArgument,`index is out of range: ${e} > ${i.visibleSize}`);if(i.isText)return{node:i,offset:e};let r=0,o=0;for(const c of i.children){if(a&&c.isText&&c.visibleSize>=e-o)return Zf(c,e-o,a);if(e===o)return{node:i,offset:r};if(!a&&c.paddedSize()===e-o)return{node:i,offset:r+1};if(c.paddedSize()>e-o)return Zf(c,e-o-1,a);o+=c.paddedSize(),r+=1}return{node:i,offset:r}}function Cv(i){return i.isText||i.children.length===0?i:Cv(i.children[0])}function AT(i,e){if(i.visibleSize<e)throw new N(A.ErrInvalidArgument,"unacceptable path");for(let a=0;a<i.children.length;a++){const r=i.children[a];if(r.visibleSize<e)e-=r.visibleSize;else{i=r;break}}return{node:i,offset:e}}class ET{root;constructor(e){this.root=e}tokensBetween(e,a,r,o=!1){Rv(this.root,e,a,r,o)}traverse(e){Iv(this.root,e,0)}traverseAll(e){Go(this.root,e,0)}findTreePos(e,a=!0){return Zf(this.root,e,a)}treePosToPath(e){const a=[];let r=e.node;if(r.isText){const o=r.parent.findOffset(r);if(o===-1)throw new N(A.ErrInvalidArgument,"invalid treePos");const c=Es(r.parent,o);a.push(c+e.offset),r=r.parent}else if(r.hasTextChild()){const o=Es(r,e.offset);a.push(o)}else a.push(e.offset);for(;r.parent;){const o=r.parent.findOffset(r);if(o===-1)throw new N(A.ErrInvalidArgument,"invalid treePos");a.push(o),r=r.parent}return a.reverse()}pathToIndex(e){const a=this.pathToTreePos(e);return this.indexOf(a)}pathToTreePos(e){if(!e.length)throw new N(A.ErrInvalidArgument,"unacceptable path");let a=this.root;for(let r=0;r<e.length-1;r++){const o=e[r];if(a=a.children[o],!a)throw new N(A.ErrInvalidArgument,"unacceptable path")}if(a.hasTextChild())return AT(a,e[e.length-1]);if(a.children.length<e[e.length-1])throw new N(A.ErrInvalidArgument,"unacceptable path");return{node:a,offset:e[e.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(e){const{node:a,offset:r}=e;if(a.isText){if(a.visibleSize===r){const o=a.nextSibling;return o||a.parent}return a}return a.children.length===r?a:Cv(a.children[r])}indexOf(e,a=!1){let{node:r}=e;const{offset:o}=e;let c=0,h=1;if(r.isText){c+=o;const d=r.parent,y=d.findOffset(r,a);if(y===-1)throw new N(A.ErrInvalidArgument,"invalid pos");c+=Es(d,y,a),r=r.parent}else c+=Es(r,o,a);for(;r?.parent;){const d=r.parent,y=d.findOffset(r,a);if(y===-1)throw new N(A.ErrInvalidArgument,"invalid pos");c+=Es(d,y,a),h++,r=r.parent}return c+h-1}indexToPath(e){const a=this.findTreePos(e);return this.treePosToPath(a)}}const NT=(i,e)=>i===e?0:i<e?-1:1;class TT{key;value;left;right;isRed;constructor(e,a,r){this.key=e,this.value=a,this.isRed=r}}class RT{stack;constructor(e){this.stack=[],this.traverseInorder(e)}traverseInorder(e){e&&(this.traverseInorder(e.left),this.stack.push({key:e.key,value:e.value}),this.traverseInorder(e.right))}}class wv{root;comparator;counter;constructor(e){this.comparator=typeof e<"u"?e:NT,this.counter=0}put(e,a){return this.root=this.putInternal(e,a,this.root),this.root.isRed=!1,a}get(e){const a=this.getInternal(e,this.root);return a?a.value:void 0}remove(e){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,e),this.root&&(this.root.isRed=!1)}getIterator(){return new RT(this.root)}values(){const e=[];for(const a of this.getIterator().stack)e.push(a.value);return e}floorEntry(e){let a=this.root,r;for(;a;){const o=this.comparator(e,a.key);if(o===0)return a;o<0?a=a.left:(r=a,a=a.right)}return r}lastEntry(){if(!this.root)return this.root;let e=this.root;for(;e.right;)e=e.right;return e}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(e,a){for(;a;){const r=this.comparator(e,a.key);if(r===0)return a;r<0?a=a.left:r>0&&(a=a.right)}}putInternal(e,a,r){if(!r)return this.counter+=1,new TT(e,a,!0);const o=this.comparator(e,r.key);return o<0?r.left=this.putInternal(e,a,r.left):o>0?r.right=this.putInternal(e,a,r.right):r.value=a,this.isRed(r.right)&&!this.isRed(r.left)&&(r=this.rotateLeft(r)),this.isRed(r.left)&&this.isRed(r.left.left)&&(r=this.rotateRight(r)),this.isRed(r.left)&&this.isRed(r.right)&&this.flipColors(r),r}removeInternal(e,a){if(this.comparator(a,e.key)<0)!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeInternal(e.left,a);else{if(this.isRed(e.left)&&(e=this.rotateRight(e)),this.comparator(a,e.key)===0&&!e.right){this.counter-=1;return}if(!this.isRed(e.right)&&!this.isRed(e.right.left)&&(e=this.moveRedRight(e)),this.comparator(a,e.key)===0){this.counter-=1;const r=this.min(e.right);e.value=r.value,e.key=r.key,e.right=this.removeMin(e.right)}else e.right=this.removeInternal(e.right,a)}return this.fixUp(e)}min(e){return e.left?this.min(e.left):e}removeMin(e){if(e.left)return!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeMin(e.left),this.fixUp(e)}fixUp(e){return this.isRed(e.right)&&(e=this.rotateLeft(e)),this.isRed(e.left)&&this.isRed(e.left.left)&&(e=this.rotateRight(e)),this.isRed(e.left)&&this.isRed(e.right)&&this.flipColors(e),e}moveRedLeft(e){return this.flipColors(e),this.isRed(e.right.left)&&(e.right=this.rotateRight(e.right),e=this.rotateLeft(e),this.flipColors(e)),e}moveRedRight(e){return this.flipColors(e),this.isRed(e.left.left)&&(e=this.rotateRight(e),this.flipColors(e)),e}isRed(e){return e&&e.isRed}rotateLeft(e){const a=e.right;return e.right=a.left,a.left=e,a.isRed=a.left.isRed,a.left.isRed=!0,a}rotateRight(e){const a=e.left;return e.left=a.right,a.right=e,a.isRed=a.right.isRed,a.right.isRed=!0,a}flipColors(e){e.isRed=!e.isRed,e.left.isRed=!e.left.isRed,e.right.isRed=!e.right.isRed}}class Rn{parentID;leftSiblingID;constructor(e,a){this.parentID=e,this.leftSiblingID=a}static of(e,a){return new Rn(e,a)}static fromTreePos(e){const{offset:a}=e;let{node:r}=e,o;return r.isText?(r.parent.children[0]===r&&a===0?o=r.parent:o=r,r=r.parent):a===0?o=r:o=r.children[a-1],Rn.of(r.id,pt.of(o.getCreatedAt(),o.getOffset()+a))}getParentID(){return this.parentID}static fromStruct(e){return Rn.of(pt.of(un.fromStruct(e.parentID.createdAt),e.parentID.offset),pt.of(un.fromStruct(e.leftSiblingID.createdAt),e.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(e){const a=this.getParentID(),r=this.getLeftSiblingID(),o=e.findFloorNode(a);let c=e.findFloorNode(r);if(!o||!c)throw new N(A.ErrRefused,`cannot find node of CRDTTreePos(${a.toTestString()}, ${r.toTestString()})`);return!r.equals(a)&&r.getOffset()>0&&r.getOffset()===c.id.getOffset()&&c.insPrevID&&(c=e.findFloorNode(c.insPrevID)),[o,c]}getLeftSiblingID(){return this.leftSiblingID}equals(e){return this.getParentID().getCreatedAt().equals(e.getParentID().getCreatedAt())&&this.getParentID().getOffset()===e.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(e.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===e.getLeftSiblingID().getOffset()}}class pt{createdAt;offset;constructor(e,a){this.createdAt=e,this.offset=a}static of(e,a){return new pt(e,a)}static fromStruct(e){return pt.of(un.fromStruct(e.createdAt),e.offset)}static createComparator(){return(e,a)=>{const r=e.getCreatedAt().compare(a.getCreatedAt());return r!==0?r:e.getOffset()>a.getOffset()?1:e.getOffset()<a.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}getOffset(){return this.offset}setOffset(e){this.offset=e}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class jt extends vT{id;removedAt;attrs;insPrevID;insNextID;_value="";constructor(e,a,r,o,c){super(a),this.id=e,this.removedAt=c,o&&(this.attrs=o),typeof r=="string"?this.value=r:Array.isArray(r)&&(this._children=r)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,a,r,o){return new jt(e,a,r,o)}deepcopy(){const e=new jt(this.id,this.type);return e.removedAt=this.removedAt,e._value=this._value,e.visibleSize=this.visibleSize,e.totalSize=this.totalSize,e.attrs=this.attrs?.deepcopy(),e._children=this._children.map(a=>{const r=a.deepcopy();return r.parent=e,r}),e.insPrevID=this.insPrevID,e.insNextID=this.insNextID,e}get value(){if(!this.isText)throw new N(A.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new N(A.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=e,this.visibleSize=e.length,this.totalSize=e.length}get isRemoved(){return!!this.removedAt}remove(e){return this.removedAt?(e.after(this.removedAt)&&(this.removedAt=e),!1):(this.removedAt=e,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(e){return new jt(pt.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new jt(pt.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,a,r){const[o,c]=this.isText?this.splitText(a,this.id.getOffset()):this.splitElement(a,r);if(o){if(o.insPrevID=this.id,this.insNextID){const h=e.findFloorNode(this.insNextID);h.insPrevID=o.id,o.insNextID=this.insNextID}this.insNextID=o.id,e.registerNode(o)}return[o,c]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,a,r){return a?!!(!this.removedAt||!r&&e?.after(this.removedAt)):!1}canStyle(e,a){return this.isText?!1:this.getCreatedAt().getLamport()<=a&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,a){this.attrs||(this.attrs=new ui);const r=[];for(const[o,c]of Object.entries(e))r.push(this.attrs.set(o,c,a));return r}purge(e){this.attrs&&this.attrs.purge(e)}getDataSize(){const e={data:0,meta:0};if(this.isText&&(e.data+=this.visibleSize*2),this.id&&(e.meta+=Bn),this.removedAt&&(e.meta+=Bn),this.attrs)for(const a of this.attrs){if(a.getRemovedAt())continue;const r=a.getDataSize();e.meta+=r.meta,e.data+=r.data}return e}getGCPairs(){const e=[];if(!this.attrs)return e;for(const a of this.attrs)a.getRemovedAt()&&e.push({parent:this,child:a});return e}}function zf(i){if(i.isText){const a=i;return{type:a.type,value:a.value}}const e={type:i.type,children:i.children.map(zf)};return i.attrs&&(e.attributes=li(i.attrs?.toObject())),e}function ph(i){if(i.isText)return i.value;let e="";return i.attrs&&i.attrs.size()&&(e=" "+Array.from(i.attrs).filter(a=>!a.isRemoved()).sort((a,r)=>a.getKey().localeCompare(r.getKey())).map(a=>{const r=JSON.parse(a.getValue());return typeof r=="string"?`${a.getKey()}="${r}"`:`${a.getKey()}="${xn(a.getValue())}"`}).join(" ")),`<${i.type}${e}>${i.children.map(a=>ph(a)).join("")}</${i.type}>`}function Dv(i){if(i.isText){const e=i;return{type:e.type,value:e.value,visibleSize:e.visibleSize,isRemoved:e.isRemoved}}return{type:i.type,children:i.children.map(Dv),visibleSize:i.visibleSize,isRemoved:i.isRemoved}}class Ht extends ks{indexTree;nodeMapByID;constructor(e,a){super(a),this.indexTree=new ET(e),this.nodeMapByID=new wv(pt.createComparator()),this.indexTree.traverseAll(r=>{this.nodeMapByID.put(r.id,r)})}static create(e,a){return new Ht(e,a)}findFloorNode(e){const a=this.nodeMapByID.floorEntry(e);if(!(!a||!a.key.getCreatedAt().equals(e.getCreatedAt())))return a.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,a){let r={data:0,meta:0};const[o,c]=e.toTreeNodePair(this);let h=c;const d=o===h,y=h.parent&&!d?h.parent:o;if(h.isText){const[,m]=h.split(this,e.getLeftSiblingID().getOffset()-h.id.getOffset());r=m}if(a){const m=y.allChildren,v=d?0:m.indexOf(h)+1;for(let T=v;T<m.length;T++){const V=m[T];if(!V.id.getCreatedAt().after(a))break;h=V}}return[[y,h],r]}style(e,a,r,o){const c={data:0,meta:0},[[h,d],y]=this.findNodesAndSplitText(e[0],r),[[m,v],T]=this.findNodesAndSplitText(e[1],r);yt(c,T,y);const V=[],C=a?li(a):{},L=[];return this.traverseInPosRange(h,d,m,v,([_,j])=>{const q=_.getCreatedAt().getActorID();let ye=Lf;if(o!=null&&(ye=o.get(q)?o.get(q):0n),_.canStyle(r,ye)&&a){const ne=_.setAttrs(a,r),Ee=ne.reduce((J,[,ve])=>(ve&&(J[ve.getKey()]=C[ve.getKey()]),J),{}),ie=_.parent,Ae=_.prevSibling||_.parent;Object.keys(Ee).length>0&&V.push({type:"style",from:this.toIndex(ie,Ae),to:this.toIndex(_,_),fromPath:this.toPath(ie,Ae),toPath:this.toPath(_,_),actor:r.getActorID(),value:Ee});for(const[J]of ne)J&&L.push({parent:_,child:J});for(const[J]of Object.entries(C)){const ve=_.attrs?.getNodeMapByKey().get(J);ve!==void 0&&j!==qe.End&&yt(c,ve.getDataSize())}}}),[L,V,c]}removeStyle(e,a,r,o){const c={data:0,meta:0},[[h,d],y]=this.findNodesAndSplitText(e[0],r),[[m,v],T]=this.findNodesAndSplitText(e[1],r);yt(c,T,y);const V=[],C=[];return this.traverseInPosRange(h,d,m,v,([L])=>{const _=L.getCreatedAt().getActorID();let j=Lf;if(o!=null&&(j=o.get(_)?o.get(_):0n),L.canStyle(r,j)&&a){L.attrs||(L.attrs=new ui);for(const ne of a){const Ee=L.attrs.remove(ne,r);for(const ie of Ee)C.push({parent:L,child:ie})}const q=L.parent,ye=L.prevSibling||L.parent;V.push({actor:r.getActorID(),type:"removeStyle",from:this.toIndex(q,ye),to:this.toIndex(L,L),fromPath:this.toPath(q,ye),toPath:this.toPath(L,L),value:a})}}),[C,V,c]}edit(e,a,r,o,c,h){const d={data:0,meta:0},[[y,m],v]=this.findNodesAndSplitText(e[0],o),[[T,V],C]=this.findNodesAndSplitText(e[1],o);yt(d,C,v);const L=this.toIndex(y,m),_=this.toPath(y,m),j=[],q=[],ye=[];this.traverseInPosRange(y,m,T,V,([ie,Ae],J)=>{if(Ae===qe.Start&&!J)for(const rt of ie.children)ye.push(rt);const ve=h===void 0;let Et=!1;const gn=h?.get(ie.id.getCreatedAt().getActorID());Et=ve||gn!==void 0&&gn>=ie.id.getCreatedAt().getLamport();let Mt=!1;if(ie.removedAt){const rt=h?.get(ie.removedAt.getActorID());Mt=ve||rt!==void 0&&rt>=ie.removedAt.getLamport()}(ie.canDelete(o,Et,Mt)||j.includes(ie.parent))&&((Ae===qe.Text||Ae===qe.Start)&&j.push(ie),q.push([ie,Ae]))},!0);const ne=this.makeDeletionChanges(q,o),Ee=[];for(const ie of j)ie.remove(o),ie.isRemoved&&Ee.push({parent:this,child:ie});for(const ie of ye)ie.removedAt||y.append(ie);if(r>0){let ie=0,Ae=y,J=m;for(;ie<r;)Ae.split(this,Ae.findOffset(J)+1,c),J=Ae,Ae=Ae.parent,ie++;ne.push({type:"content",from:L,to:L,fromPath:_,toPath:_,actor:o.getActorID()})}if(a?.length){const ie=[];let Ae=m;for(const J of a)Ae===y?y.insertAt(J,0):y.insertAfter(J,Ae),Ae=J,Go(J,ve=>{y.isRemoved?(ve.remove(o),Ee.push({parent:this,child:ve})):yt(d,ve.getDataSize()),this.nodeMapByID.put(ve.id,ve)}),J.isRemoved||ie.push(J);if(ie.length){const J=ie.map(ve=>zf(ve));ne.length&&ne[ne.length-1].from===L?ne[ne.length-1].value=J:ne.push({type:"content",from:L,to:L,fromPath:_,toPath:_,actor:o.getActorID(),value:J})}}return[ne,Ee,d]}editT(e,a,r,o,c){const h=this.findPos(e[0]),d=this.findPos(e[1]);return this.edit([h,d],a,r,o,c)}move(e,a,r){throw new N(A.ErrUnimplemented,`not implemented: ${e}, ${a}, ${r}`)}pathToTreePos(e){return this.indexTree.pathToTreePos(e)}purge(e){e.parent?.removeChild(e),this.nodeMapByID.remove(e.id);const a=e.insPrevID,r=e.insNextID;if(a){const o=this.findFloorNode(a);o.insNextID=r}if(r){const o=this.findFloorNode(r);o.insPrevID=a}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(a=>{a.getRemovedAt()&&e.push({parent:this,child:a});for(const r of a.getGCPairs())e.push(r)}),e}findPos(e,a=!0){const r=this.indexTree.findTreePos(e,a);return Rn.fromTreePos(r)}pathToPosRange(e){const a=this.pathToIndex(e);return[this.findPos(a),this.findPos(a+1)]}pathToPos(e){const a=this.indexTree.pathToIndex(e);return this.findPos(a)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return ph(this.indexTree.getRoot())}getDataSize(){const e={data:0,meta:0};return this.indexTree.traverse(a=>{if(a.getRemovedAt())return;const r=a.getDataSize();e.data+=r.data,e.meta+=r.meta}),{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),a=(r,o=void 0,c=void 0,h=0)=>{let d,y,m;const v=r.isText?{node:r,offset:0}:o&&c?this.toTreePos(o,c):null;v&&(d=this.indexTree.indexOf(v),y=this.indexTree.treePosToPath(v),m=Rn.fromTreePos(v).toStruct());const T={type:r.type,parent:o?.id.toTestString(),size:r.visibleSize,id:r.id.toTestString(),removedAt:r.removedAt?.toTestString(),insPrev:r.insPrevID?.toTestString(),insNext:r.insNextID?.toTestString(),value:r.isText?r.value:void 0,isRemoved:r.isRemoved,children:[],depth:h,attributes:r.attrs?li(r.attrs?.toObject()):void 0,index:d,path:y,pos:m};for(let V=0;V<r.allChildren.length;V++){const C=V===0?r:r.allChildren[V-1];T.children.push(a(r.allChildren[V],r,C,h+1))}return T};return a(e)}getRootTreeNode(){return zf(this.indexTree.getRoot())}toTestTreeNode(){return Dv(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot(),a=new Ht(e.deepcopy(),this.getCreatedAt());return a.setRemovedAt(this.getRemovedAt()),a.setMovedAt(this.getMovedAt()),a}toPath(e,a){const r=this.toTreePos(e,a);return r?this.indexTree.treePosToPath(r):[]}toIndex(e,a,r=!1){const o=this.toTreePos(e,a,r);return o?this.indexTree.indexOf(o,r):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const a=this.findPos(e[0]);return e[0]===e[1]?[a,a]:[a,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[a,r]=e,o=this.findPos(a);return a===r?[o.toStruct(),o.toStruct()]:[o.toStruct(),this.findPos(r).toStruct()]}posRangeToPathRange(e){const[[a,r]]=this.findNodesAndSplitText(e[0]),[[o,c]]=this.findNodesAndSplitText(e[1]);return[this.toPath(a,r),this.toPath(o,c)]}posRangeToIndexRange(e){const[[a,r]]=this.findNodesAndSplitText(e[0]),[[o,c]]=this.findNodesAndSplitText(e[1]);return[this.toIndex(a,r),this.toIndex(o,c)]}traverseInPosRange(e,a,r,o,c,h=!1){const d=this.toIndex(e,a,h),y=this.toIndex(r,o,h);this.indexTree.tokensBetween(d,y,c,h)}toTreePos(e,a,r=!1){if(!e||!a)return;if(!r&&e.isRemoved){let c;for(;e.isRemoved;)c=e,e=c.parent;const h=e.findOffset(c,r);return{node:e,offset:h}}if(e===a)return{node:e,offset:0};let o=e.findOffset(a,r);if(r||!a.isRemoved){if(a.isText)return{node:a,offset:a.paddedSize(r)};o++}return{node:e,offset:o}}makeDeletionChanges(e,a){const r=[],o=[];let c=null,h=null;for(let d=0;d<e.length;d++){const y=e[d],m=e[d+1];c||(c=y),h=y;const v=this.findRightToken(y);(!v||!m||v[0]!==m[0]||v[1]!==m[1])&&(o.push([c,h]),c=null,h=null)}for(const d of o){const[y,m]=d,[v,T]=this.findLeftToken(y),[V,C]=m,L=T===qe.Start?v:v.parent,_=C===qe.Start?V:V.parent,j=this.toIndex(L,v),q=this.toIndex(_,V);j<q&&(r.length>0&&j===r[r.length-1].to?(r[r.length-1].to=q,r[r.length-1].toPath=this.toPath(_,V)):r.push({type:"content",from:j,to:q,fromPath:this.toPath(L,v),toPath:this.toPath(_,V),actor:a.getActorID()}))}return r.reverse()}findRightToken([e,a]){if(a===qe.Start){const d=e.allChildren;return d.length>0?[d[0],d[0].isText?qe.Text:qe.Start]:[e,qe.End]}const r=e.parent,o=r.allChildren,c=o.indexOf(e);if(r&&c===o.length-1)return[r,qe.End];const h=o[c+1];return[h,h.isText?qe.Text:qe.Start]}findLeftToken([e,a]){if(a===qe.End){const d=e.allChildren;if(d.length>0){const y=d[d.length-1];return[y,y.isText?qe.Text:qe.End]}return[e,qe.Start]}const r=e.parent,o=r.allChildren,c=o.indexOf(e);if(r&&c===0)return[r,qe.Start];const h=o[c-1];return[h,h.isText?qe.Text:qe.End]}}class Hs extends Cn{fromPos;toPos;contents;splitLevel;constructor(e,a,r,o,c,h){super(e,h),this.fromPos=a,this.toPos=r,this.contents=o,this.splitLevel=c}static create(e,a,r,o,c,h){return new Hs(e,a,r,o,c,h)}execute(e,a,r){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Ht))throw new N(A.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const c=this.getExecutedAt(),h=o,[d,y,m]=h.edit([this.fromPos,this.toPos],this.contents?.map(v=>v.deepcopy()),this.splitLevel,c,(()=>{let v=c.getDelimiter();return this.contents!==void 0&&(v+=this.contents.length),()=>un.of(c.getLamport(),++v,c.getActorID())})(),r);e.acc(m);for(const v of y)e.registerGCPair(v);return{opInfos:d.map(({from:v,to:T,value:V,splitLevel:C,fromPath:L,toPath:_})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:v,to:T,value:V,splitLevel:C,fromPath:L,toPath:_}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),a=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,r=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,o=this.contents||[];return`${e}.EDIT(${a},${r},${o.map(c=>ph(c)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class hr{vector;constructor(e){this.vector=e||new Map}set(e,a){this.vector.set(e,a)}unset(e){this.vector.delete(e)}get(e){return this.vector.get(e)}has(e){return this.vector.has(e)}maxLamport(){let e=BigInt(0);for(const[,a]of this)a>e&&(e=a);return e}max(e){const a=new Map;for(const[r,o]of e){const c=this.vector.get(r),h=c&&c>o?c:o;a.set(r,h)}for(const[r,o]of this){const c=e.get(r),h=c&&c>o?c:o;a.set(r,h)}return new hr(a)}afterOrEqual(e){const a=this.vector.get(e.getActorID());return a===void 0?!1:a>=e.getLamport()}deepcopy(){const e=new Map;for(const[a,r]of this.vector)e.set(a,r);return new hr(e)}filter(e){const a=new Map;for(const[r]of e){const o=this.vector.get(r);o!==void 0&&a.set(r,o)}return new hr(a)}size(){return this.vector.size}*[Symbol.iterator](){for(const[e,a]of this.vector)yield[e,a]}}const Ov=new hr(new Map);class An{clientSeq;serverSeq;actor;lamport;versionVector;constructor(e,a,r,o,c){this.clientSeq=e,this.serverSeq=c,this.lamport=a,this.versionVector=o,this.actor=r}hasClocks(){return this.versionVector.size()>0&&this.lamport!=Uf}static of(e,a,r,o,c){return new An(e,a,r,o,c)}next(e=!1){if(e)return new An(this.clientSeq+1,this.lamport,this.actor,Ov,Uf);const a=this.versionVector.deepcopy();return a.set(this.actor,this.lamport+1n),new An(this.clientSeq+1,this.lamport+1n,this.actor,a)}syncClocks(e){if(!e.hasClocks())return this;const a=e.lamport>this.lamport?e.lamport+1n:this.lamport+1n,r=this.versionVector.max(e.versionVector),o=new An(this.clientSeq,a,this.actor,r);return o.versionVector.set(this.actor,a),o}setClocks(e,a){const r=e>this.lamport?e+1n:this.lamport+1n,o=this.versionVector.max(a);return o.set(this.actor,r),An.of(this.clientSeq,r,this.actor,o)}createTimeTicket(e){return un.of(this.lamport,e,this.actor)}setActor(e){return new An(this.clientSeq,this.lamport,e,this.versionVector,this.serverSeq)}setLamport(e){return new An(this.clientSeq,e,this.actor,this.versionVector,this.serverSeq)}setVersionVector(e){return new An(this.clientSeq,this.lamport,this.actor,e,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const IT=new An(0,0n,mh,Ov);class Nr{id;operations;presenceChange;message;constructor({id:e,operations:a,presenceChange:r,message:o}){this.id=e,this.operations=a||[],this.presenceChange=r,this.message=o}static create({id:e,operations:a,presenceChange:r,message:o}){return new Nr({id:e,operations:a,presenceChange:r,message:o})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(e){for(const a of this.operations)a.setActor(e);this.id=this.id.setActor(e)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(e,a,r){const o=[],c=[];for(const h of this.operations){const d=h.execute(e,r,this.id.getVersionVector());if(!d)continue;const{opInfos:y,reverseOp:m}=d;o.push(...y),m&&c.unshift(m)}return this.presenceChange&&(this.presenceChange.type===Mn.Put?a.set(this.id.getActorID(),Sn(this.presenceChange.presence)):a.delete(this.id.getActorID())),{opInfos:o,reverseOps:c}}toTestString(){return`${this.operations.map(e=>e.toTestString()).join(",")}`}toStruct(){return{changeID:We.bytesToHex(We.changeIDToBinary(this.getID())),message:this.getMessage(),operations:this.getOperations().map(e=>We.bytesToHex(We.operationToBinary(e))),presenceChange:this.getPresenceChange()}}static fromStruct(e){const{changeID:a,operations:r,presenceChange:o,message:c}=e;return Nr.create({id:We.bytesToChangeID(We.hexToBytes(a)),operations:r?.map(h=>We.bytesToOperation(We.hexToBytes(h))),presenceChange:o,message:c})}}class Wo{documentKey;checkpoint;isRemoved;changes;snapshot;versionVector;constructor(e,a,r,o,c,h){this.documentKey=e,this.checkpoint=a,this.isRemoved=r,this.changes=o,this.snapshot=h,this.versionVector=c}static create(e,a,r,o,c,h){return new Wo(e,a,r,o,c,h)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class dr{serverSeq;clientSeq;constructor(e,a){this.serverSeq=e,this.clientSeq=a}static of(e,a){return new dr(e,a)}increaseClientSeq(e){return e===0?this:new dr(this.serverSeq,this.clientSeq+e)}forward(e){if(this.equals(e))return this;const a=this.serverSeq>e.serverSeq?this.serverSeq:e.serverSeq,r=Math.max(this.clientSeq,e.clientSeq);return dr.of(a,r)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(e){return this.clientSeq===e.clientSeq&&this.serverSeq==e.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const CT=new dr(0n,0);class Ln{createdAt;offset;constructor(e,a){this.createdAt=e,this.offset=a}static of(e,a){return new Ln(e,a)}static fromStruct(e){return Ln.of(un.fromStruct(e.createdAt),e.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}hasSameCreatedAt(e){return this.createdAt.compare(e.createdAt)===0}split(e){return new Ln(this.createdAt,this.offset+e)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const wT=Ln.of(vr,0);class In{id;relativeOffset;constructor(e,a){this.id=e,this.relativeOffset=a}static of(e,a){return new In(e,a)}static fromStruct(e){const a=Ln.fromStruct(e.id);return In.of(a,e.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Ln.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(e){return this.id.equals(e.id)?this.relativeOffset===e.relativeOffset:!1}}class Wi extends vv{id;removedAt;prev;next;insPrev;insNext;constructor(e,a,r){super(a),this.id=e,this.removedAt=r}static create(e,a){return new Wi(e,a)}static createComparator(){return(e,a)=>{const r=e.getCreatedAt().compare(a.getCreatedAt());return r!==0?r:e.getOffset()>a.getOffset()?1:e.getOffset()<a.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new Wi(this.id.split(e),this.splitValue(e),this.removedAt)}canRemove(e,a,r){return a?!!(!this.removedAt||!r&&e?.after(this.removedAt)):!1}canStyle(e,a){return this.getCreatedAt().getLamport()<=a&&(!this.removedAt||e.after(this.removedAt))}setRemovedAt(e){this.removedAt=e}remove(e){if(!this.removedAt){this.removedAt=e;return}e.after(this.removedAt)&&(this.removedAt=e)}createPosRange(){return[In.of(this.id,0),In.of(this.id,this.getLength())]}getDataSize(){const e=this.value.getDataSize();return this.id&&(e.meta+=Bn),this.removedAt&&(e.meta+=Bn),e}deepcopy(){return new Wi(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const a=this.value;return this.value=a.substring(0,e),a.substring(e,a.length)}toIDString(){return this.id.toIDString()}}class Tr{head;treeByIndex;treeByID;constructor(){this.head=Wi.create(wT),this.treeByIndex=new _s,this.treeByID=new wv(Wi.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Tr}edit(e,a,r,o){const c={data:0,meta:0},[h,d,y]=this.findNodeWithSplit(e[1],a),[m,v,T]=this.findNodeWithSplit(e[0],a);yt(c,d,v);const V=this.findBetween(T,y),[C,L]=this.deleteNodes(V,a,o),_=y?y.getID():h.getID();let j=In.of(_,0);if(r){const ye=this.posToIndex(m.createPosRange()[1],!0),ne=this.insertAfter(m,Wi.create(Ln.of(a,0),r));yt(c,ne.getDataSize()),C.length&&C[C.length-1].from===ye?C[C.length-1].value=r:C.push({actor:a.getActorID(),from:ye,to:ye,value:r}),j=In.of(ne.getID(),ne.getContentLength())}const q=[];for(const[,ye]of L)q.push({parent:this,child:ye});return[j,q,c,C]}indexToPos(e){const[a,r]=this.treeByIndex.find(e),o=a;return In.of(o.getID(),r)}findIndexesFromRange(e){const[a,r]=e;return[this.posToIndex(a,!1),this.posToIndex(r,!0)]}posToIndex(e,a){const r=e.getAbsoluteID(),o=a?this.findFloorNodePreferToLeft(r):this.findFloorNode(r);if(!o)throw new N(A.ErrInvalidArgument,`the node of the given id should be found: ${r.toTestString()}`);const c=this.treeByIndex.indexOf(o),h=o.isRemoved()?0:r.getOffset()-o.getID().getOffset();return c+h}findNode(e){return this.findFloorNode(e)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const e=[];for(const a of this)a.isRemoved()||e.push(a.getValue());return e.join("")}*[Symbol.iterator](){let e=this.head.getNext();for(;e;)yield e,e=e.getNext()}getHead(){return this.head}deepcopy(){const e=new Tr;let a=this.head.getNext(),r=e.head,o;for(;a;){if(o=e.insertAfter(r,a.deepcopy()),a.hasInsPrev()){const c=e.findNode(a.getInsPrevID());o.setInsPrev(c)}r=o,a=a.getNext()}return e}toTestString(){const e=[];let a=this.head;for(;a;)a.isRemoved()?e.push(`{${a.toTestString()}}`):e.push(`[${a.toTestString()}]`),a=a.getNext();return e.join("")}insertAfter(e,a){const r=e.getNext();return a.setPrev(e),r&&r.setPrev(a),this.treeByID.put(a.getID(),a),this.treeByIndex.insertAfter(e,a),a}findNodeWithSplit(e,a){const r=e.getAbsoluteID();let o=this.findFloorNodePreferToLeft(r);const c=r.getOffset()-o.getID().getOffset(),[,h]=this.splitNode(o,c);for(;o.hasNext()&&o.getNext().getCreatedAt().after(a);)o=o.getNext();return[o,h,o.getNext()]}findFloorNodePreferToLeft(e){let a=this.findFloorNode(e);if(!a)throw new N(A.ErrInvalidArgument,`the node of the given id should be found: ${e.toTestString()}`);if(e.getOffset()>0&&a.getID().getOffset()==e.getOffset()){if(!a.hasInsPrev())return a;a=a.getInsPrev()}return a}findFloorNode(e){const a=this.treeByID.floorEntry(e);if(a&&!(!a.key.equals(e)&&!a.key.hasSameCreatedAt(e)))return a.value}findBetween(e,a){const r=[];let o=e;for(;o&&o!==a;)r.push(o),o=o.getNext();return r}splitNode(e,a){const r={data:0,meta:0};if(a>e.getContentLength())throw new N(A.ErrInvalidArgument,"offset should be less than or equal to length");if(a===0)return[e,r];if(a===e.getContentLength())return[e.getNext(),r];const o=e.getDataSize(),c=e.split(a);this.treeByIndex.updateWeight(c),this.insertAfter(e,c);const h=e.getInsNext();return h&&h.setInsPrev(c),c.setInsPrev(e),yt(r,e.getDataSize(),c.getDataSize()),ya(r,o),[c,r]}deleteNodes(e,a,r){if(!e.length)return[[],new Map];const o=r===void 0||r.size()===0,c=[],h=[],[d,y]=this.findEdgesOfCandidates(e);h.push(d);for(const T of e){let V=!1;if(o)V=!0;else{const L=r?.get(T.getCreatedAt().getActorID());L&&L>=T.getCreatedAt().getLamport()&&(V=!0)}let C=!1;if(T.getRemovedAt()){const L=r?.get(T.getRemovedAt().getActorID());(o||L&&L>=T.getRemovedAt().getLamport())&&(C=!0)}T.canRemove(a,V,C)?c.push(T):h.push(T)}h.push(y);const m=this.makeChanges(h,a),v=new Map;for(const T of c)v.set(T.getID().toIDString(),T),T.remove(a);return this.deleteIndexNodes(h),[m,v]}findEdgesOfCandidates(e){return[e[0].getPrev(),e[e.length-1].getNext()]}makeChanges(e,a){const r=[];let o,c;for(let h=0;h<e.length-1;h++){const d=e[h],y=e[h+1];d.getNext()!=y&&([o]=this.findIndexesFromRange(d.getNext().createPosRange()),y?[,c]=this.findIndexesFromRange(y.getPrev().createPosRange()):c=this.treeByIndex.length,o<c&&r.push({actor:a.getActorID(),from:o,to:c}))}return r.reverse()}deleteIndexNodes(e){for(let a=0;a<e.length-1;a++){const r=e[a],o=e[a+1];r.getNext()!=o&&this.treeByIndex.deleteRange(r,o)}}purge(e){this.treeByIndex.delete(e),this.treeByID.remove(e.getID());const a=e.getPrev(),r=e.getNext(),o=e.getInsPrev(),c=e.getInsNext();a&&a.setNext(r),r&&r.setPrev(a),e.setPrev(void 0),e.setNext(void 0),o&&o.setInsNext(c),c&&c.setInsPrev(o),e.setInsPrev(void 0),e.setInsNext(void 0)}}const ab=i=>i<0?Math.ceil(i):Math.floor(i);var zn=(i=>(i[i.Int=0]="Int",i[i.Long=1]="Long",i))(zn||{});class Lt extends ks{valueType;value;constructor(e,a,r){switch(super(r),this.valueType=e,e){case 0:typeof a=="number"?a>Math.pow(2,31)-1||a<-Math.pow(2,31)?this.value=me.fromNumber(a).toInt():this.value=ab(a):this.value=a.toInt();break;case 1:typeof a=="number"?this.value=me.fromNumber(a):this.value=a;break;default:throw new N(A.ErrUnimplemented,`unimplemented type: ${e}`)}}static create(e,a,r){return new Lt(e,a,r)}static valueFromBytes(e,a){switch(e){case 0:return a[0]|a[1]<<8|a[2]<<16|a[3]<<24;case 1:return me.fromBytesLE(Array.from(a));default:throw new N(A.ErrUnimplemented,`unimplemented type: ${e}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=Lt.create(this.valueType,this.value,this.getCreatedAt());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof me?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!Lt.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const a=this.value.toBytesLE();return Uint8Array.from(a)}default:throw new N(A.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function a(r){if(!r.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof r.getValue()}`)}return a(this),a(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===_e.Long?this.value=this.value+e.getValue().toInt():this.value=me.fromNumber(this.value+ab(e.getValue())).toInt(),this}}class Rr extends Cn{value;constructor(e,a,r){super(e,r),this.value=a}static create(e,a,r){return new Rr(e,a,r)}execute(e){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Lt))throw new N(A.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const r=a,o=this.value.deepcopy();return r.increase(o),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:o.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),r=e.getType()===_e.Long?e.getValue().multiply(-1):e.getValue()*-1;return Rr.create(this.getParentCreatedAt(),je.of(r,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class oi extends Cn{fromPos;toPos;attributes;attributesToRemove;constructor(e,a,r,o,c,h){super(e,h),this.fromPos=a,this.toPos=r,this.attributes=o,this.attributesToRemove=c}static create(e,a,r,o,c){return new oi(e,a,r,o,[],c)}static createTreeRemoveStyleOperation(e,a,r,o,c){return new oi(e,a,r,new Map,o,c)}execute(e,a,r){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Ht))throw new N(A.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const c=o;let h,d,y={data:0,meta:0};if(this.attributes.size){const m={};[...this.attributes].forEach(([v,T])=>m[v]=T),[d,h,y]=c.style([this.fromPos,this.toPos],m,this.getExecutedAt(),r)}else{const m=this.attributesToRemove;[d,h,y]=c.removeStyle([this.fromPos,this.toPos],m,this.getExecutedAt(),r)}e.acc(y);for(const m of d)e.registerGCPair(m);return{opInfos:h.map(({from:m,to:v,value:T,fromPath:V,toPath:C})=>({type:"tree-style",from:m,to:v,value:this.attributes.size?{attributes:T}:{attributesToRemove:T},fromPath:V,toPath:C,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),a=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,r=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${a},${r},${Object.entries(this.attributes||{}).map(([o,c])=>`${o}:"${c}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class ci extends Cn{createdAt;value;constructor(e,a,r,o){super(e,o),this.createdAt=a,this.value=r}static create(e,a,r,o){return new ci(e,a,r,o)}execute(e){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof St))throw new N(A.ErrInvalidArgument,"fail to execute, only array can execute set");const r=a.getByID(this.createdAt).deepcopy(),o=this.toReverseOperation(this.value,r),c=this.value.deepcopy();return a.insertAfter(this.createdAt,c,this.getExecutedAt()),a.delete(this.createdAt,this.getExecutedAt()),e.registerElement(c),{opInfos:[{type:"array-set",path:e.createPath(this.getParentCreatedAt())}],reverseOp:o}}toReverseOperation(e,a){return ci.create(this.getParentCreatedAt(),e.getCreatedAt(),a)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(e){this.createdAt=e}}function DT(i){const e={};for(const[a,r]of Object.entries(i))e[a]=JSON.stringify(r);return H(lT,{data:e})}function OT(i){if(i.type===Mn.Put)return H(Qp,{type:zs.PUT,presence:DT(i.presence)});if(i.type===Mn.Clear)return H(Qp,{type:zs.CLEAR});throw new N(A.ErrUnimplemented,"unimplemented type")}function VT(i){return H(oT,{serverSeq:i.getServerSeq(),clientSeq:i.getClientSeq()})}function _f(i){return H(hh,{clientSeq:i.getClientSeq(),lamport:i.getLamport(),actorId:Xo(i.getActorID()),versionVector:bh(i.getVersionVector())})}function Q(i){if(i)return H(cT,{lamport:i.getLamport(),delimiter:i.getDelimiter(),actorId:Xo(i.getActorID())})}function bh(i){if(!i)return;const e=H(dh);for(const[a,r]of i){const o=g2(Xo(a));e.vector[o]=BigInt(r.toString())}return e}function Vv(i){switch(i){case _e.Null:return ue.NULL;case _e.Boolean:return ue.BOOLEAN;case _e.Integer:return ue.INTEGER;case _e.Long:return ue.LONG;case _e.Double:return ue.DOUBLE;case _e.String:return ue.STRING;case _e.Bytes:return ue.BYTES;case _e.Date:return ue.DATE;default:throw new N(A.ErrInvalidType,`unsupported type: ${i}`)}}function xv(i){switch(i){case zn.Int:return ue.INTEGER_CNT;case zn.Long:return ue.LONG_CNT;default:throw new N(A.ErrInvalidType,`unsupported type: ${i}`)}}function po(i){if(i instanceof vt)return H(rr,{type:ue.JSON_OBJECT,createdAt:Q(i.getCreatedAt()),value:Xv(i)});if(i instanceof St)return H(rr,{type:ue.JSON_ARRAY,createdAt:Q(i.getCreatedAt()),value:c2(i)});if(i instanceof Ft)return H(rr,{type:ue.TEXT,createdAt:Q(i.getCreatedAt())});if(i instanceof je)return H(rr,{type:Vv(i.getType()),createdAt:Q(i.getCreatedAt()),value:i.toBytes()});if(i instanceof Lt)return H(rr,{type:xv(i.getType()),createdAt:Q(i.getCreatedAt()),value:i.toBytes()});if(i instanceof Ht)return H(rr,{type:ue.TREE,createdAt:Q(i.getCreatedAt()),value:h2(i)});throw new N(A.ErrUnimplemented,"unimplemented element")}function xT(i){return H(nT,{createdAt:Q(i.getCreatedAt()),offset:i.getOffset()})}function bo(i){return H(uT,{createdAt:Q(i.getID().getCreatedAt()),offset:i.getID().getOffset(),relativeOffset:i.getRelativeOffset()})}function vo(i){return H(sT,{parentId:ws(i.getParentID()),leftSiblingId:ws(i.getLeftSiblingID())})}function ws(i){return H(rT,{createdAt:Q(i.getCreatedAt()),offset:i.getOffset()})}function Yf(i){const e=H(gh);if(i instanceof ba){const a=i,r=H(ZN);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.key=a.getKey(),r.value=po(a.getValue()),r.executedAt=Q(a.getExecutedAt()),e.body.case="set",e.body.value=r}else if(i instanceof Ji){const a=i,r=H(zN);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.prevCreatedAt=Q(a.getPrevCreatedAt()),r.value=po(a.getValue()),r.executedAt=Q(a.getExecutedAt()),e.body.case="add",e.body.value=r}else if(i instanceof Tn){const a=i,r=H(_N);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.prevCreatedAt=Q(a.getPrevCreatedAt()),r.createdAt=Q(a.getCreatedAt()),r.executedAt=Q(a.getExecutedAt()),e.body.case="move",e.body.value=r}else if(i instanceof Zn){const a=i,r=H(YN);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.createdAt=Q(a.getCreatedAt()),r.executedAt=Q(a.getExecutedAt()),e.body.case="remove",e.body.value=r}else if(i instanceof js){const a=i,r=H(GN);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.from=bo(a.getFromPos()),r.to=bo(a.getToPos()),r.content=a.getContent();const o=r.attributes;for(const[c,h]of a.getAttributes())o[c]=h;r.executedAt=Q(a.getExecutedAt()),e.body.case="edit",e.body.value=r}else if(i instanceof Fs){const a=i,r=H(WN);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.from=bo(a.getFromPos()),r.to=bo(a.getToPos());const o=r.attributes;for(const[c,h]of a.getAttributes())o[c]=h;r.executedAt=Q(a.getExecutedAt()),e.body.case="style",e.body.value=r}else if(i instanceof Rr){const a=i,r=H(KN);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.value=po(a.getValue()),r.executedAt=Q(a.getExecutedAt()),e.body.case="increase",e.body.value=r}else if(i instanceof Hs){const a=i,r=H(XN);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.from=vo(a.getFromPos()),r.to=vo(a.getToPos()),r.contents=_T(a.getContents()),r.splitLevel=a.getSplitLevel(),r.executedAt=Q(a.getExecutedAt()),e.body.case="treeEdit",e.body.value=r}else if(i instanceof oi){const a=i,r=H(JN);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.from=vo(a.getFromPos()),r.to=vo(a.getToPos());const o=a.getAttributesToRemove();if(o.length>0)r.attributesToRemove=o;else{const c=r.attributes;for(const[h,d]of a.getAttributes())c[h]=d}r.executedAt=Q(a.getExecutedAt()),e.body.case="treeStyle",e.body.value=r}else if(i instanceof ci){const a=i,r=H(kN);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.createdAt=Q(a.getCreatedAt()),r.value=po(a.getValue()),r.executedAt=Q(a.getExecutedAt()),e.body.case="arraySet",e.body.value=r}else throw new N(A.ErrUnimplemented,"unimplemented operation");return e}function BT(i){const e=[];for(const a of i)e.push(Yf(a));return e}function UT(i){const e=H(MN,{id:_f(i.getID()),message:i.getMessage()});return i.hasOperations()&&(e.operations=BT(i.getOperations())),i.hasPresenceChange()&&(e.presenceChange=OT(i.getPresenceChange())),e}function LT(i){const e=[];for(const a of i)e.push(UT(a));return e}function MT(i){const e=[];for(const a of i)e.push(H(qN,{key:a.getStrKey(),element:Sh(a.getValue())}));return e}function ZT(i){const e=[];for(const a of i)e.push(H(eT,{element:Sh(a.getValue())}));return e}function zT(i){const e=[];for(const a of i){const r=H(tT);r.id=xT(a.getID()),r.value=a.getValue().getContent(),r.removedAt=Q(a.getRemovedAt());const o=r.attributes,c=a.getValue().getAttrs();for(const h of c){const d=H(yv);d.value=h.getValue(),d.updatedAt=Q(h.getUpdatedAt()),o[h.getKey()]=d}e.push(r)}return e}function _T(i){const e=[];if(!i||!i.length)return e;for(const a of i)e.push(H(aT,{content:vh(a)}));return e}function YT(i){const e={};for(const a of i)e[a.getKey()]=H(yv,{value:a.getValue(),updatedAt:Q(a.getUpdatedAt()),isRemoved:a.isRemoved()});return e}function vh(i){if(!i)return[];const e=[];return Go(i,(a,r)=>{const o=H(iT,{id:ws(a.id),type:a.type,removedAt:Q(a.removedAt),depth:r});a.isText&&(o.value=a.value),a.insPrevID&&(o.insPrevId=ws(a.insPrevID)),a.insNextID&&(o.insNextId=ws(a.insNextID)),a.attrs&&(o.attributes=YT(a.attrs)),e.push(o)}),e}function GT(i){return H(hn,{body:{case:"jsonObject",value:H(jN,{nodes:MT(i.getRHT()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function Bv(i){return H(hn,{body:{case:"jsonArray",value:H(FN,{nodes:ZT(i.getElements()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function WT(i){return H(hn,{body:{case:"primitive",value:H(HN,{type:Vv(i.getType()),value:i.toBytes(),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function KT(i){return H(hn,{body:{case:"text",value:H(QN,{nodes:zT(i.getRGATreeSplit()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function XT(i){return H(hn,{body:{case:"counter",value:H($N,{type:xv(i.getType()),value:i.toBytes(),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function Uv(i){return H(hn,{body:{case:"tree",value:H(PN,{nodes:vh(i.getRoot()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function Sh(i){if(i instanceof vt)return GT(i);if(i instanceof St)return Bv(i);if(i instanceof je)return WT(i);if(i instanceof Ft)return KT(i);if(i instanceof Lt)return XT(i);if(i instanceof Ht)return Uv(i);throw new N(A.ErrUnimplemented,"unimplemented element")}function JT(i){return H(LN,{documentKey:i.getDocumentKey(),checkpoint:VT(i.getCheckpoint()),isRemoved:i.getIsRemoved(),changes:LT(i.getChanges()),snapshot:i.getSnapshot(),versionVector:bh(i.getVersionVector())})}function kT(i){return{id:i.id,label:i.label,description:i.description,snapshot:i.snapshot,createdAt:i.createdAt?i1(i.createdAt):new Date}}function Ts(i){if(!(i instanceof xe))return{};const e=i.findDetails(gT);for(const a of e)return a.metadata;return{}}function or(i){return Ts(i).code??""}function Rf(i,e){return i instanceof xe&&or(i)===e}function Lv(i){return An.of(i.clientSeq,BigInt(i.lamport),Rh(i.actorId),Ah(i.versionVector),BigInt(i.serverSeq))}function Ah(i){if(!i)return;const e=new hr;return Object.entries(i.vector).forEach(([a,r])=>{const o=Ko(d2(a));e.set(o,BigInt(r.toString()))}),e}function P(i){if(i)return un.of(BigInt(i.lamport),i.delimiter,Rh(i.actorId))}function Eh(i){const e={};return Object.entries(i.data).forEach(([a,r])=>{e[a]=JSON.parse(r)}),e}function jT(i){const e=i.type;if(e===zs.PUT){const a=Eh(i.presence);return{type:Mn.Put,presence:a}}if(e===zs.CLEAR)return{type:Mn.Clear};throw new N(A.ErrInvalidType,`unsupported type: ${e}`)}function FT(i){const e=new Map;return Object.entries(i).forEach(([a,r])=>{e.set(a,Eh(r))}),e}function Mv(i){switch(i){case ue.NULL:return _e.Null;case ue.BOOLEAN:return _e.Boolean;case ue.INTEGER:return _e.Integer;case ue.LONG:return _e.Long;case ue.DOUBLE:return _e.Double;case ue.STRING:return _e.String;case ue.BYTES:return _e.Bytes;case ue.DATE:return _e.Date}throw new N(A.ErrUnimplemented,`unimplemented value type: ${i}`)}function Uo(i){switch(i){case ue.INTEGER_CNT:return zn.Int;case ue.LONG_CNT:return zn.Long}throw new N(A.ErrUnimplemented,`unimplemented value type: ${i}`)}function So(i){switch(i.type){case ue.JSON_OBJECT:return i.value?Kv(i.value):vt.create(P(i.createdAt));case ue.JSON_ARRAY:return i.value?u2(i.value):St.create(P(i.createdAt));case ue.TEXT:return Ft.create(Tr.create(),P(i.createdAt));case ue.TREE:return f2(i.value);case ue.NULL:case ue.BOOLEAN:case ue.INTEGER:case ue.LONG:case ue.DOUBLE:case ue.STRING:case ue.BYTES:case ue.DATE:return je.of(je.valueFromBytes(Mv(i.type),i.value),P(i.createdAt));case ue.INTEGER_CNT:case ue.LONG_CNT:return Lt.create(Uo(i.type),Lt.valueFromBytes(Uo(i.type),i.value),P(i.createdAt))}}function Ao(i){return In.of(Ln.of(P(i.createdAt),i.offset),i.relativeOffset)}function Zv(i){return Ln.of(P(i.createdAt),i.offset)}function HT(i){const e=Gs.create(i.value);Object.entries(i.attributes).forEach(([r,o])=>{e.setAttr(r,o.value,P(o.updatedAt))});const a=Wi.create(Zv(i.id),e);return a.setRemovedAt(P(i.removedAt)),a}function sr(i){return Rn.of(Ds(i.parentId),Ds(i.leftSiblingId))}function Ds(i){return pt.of(P(i.createdAt),i.offset)}function QT(i){if(!i.length)return;const e=[];return i.forEach(a=>{const r=Nh(a.content);e.push(r)}),e}function Nh(i){if(i.length===0)return;const e=[];for(const o of i)e.push(PT(o));const a=e[e.length-1],r=new Map;r.set(i[e.length-1].depth,e[e.length-1]);for(let o=e.length-2;o>=0;o--)r.get(i[o].depth-1).prepend(e[o]),r.set(i[o].depth,e[o]);return a.updateDescendantsSize(),a.updateDescendantsSize(!0),Ht.create(a,vr).getRoot()}function $T(i){const e=ui.create();for(const[a,r]of Object.entries(i))e.setInternal(a,r.value,P(r.updatedAt),r.isRemoved);return e}function PT(i){const e=Ds(i.id),a=jt.create(e,i.type),r=Object.entries(i.attributes);return a.isText?a.value=i.value:r.length&&(a.attrs=$T(i.attributes)),i.insPrevId&&(a.insPrevID=Ds(i.insPrevId)),i.insNextId&&(a.insNextID=Ds(i.insNextId)),a.removedAt=P(i.removedAt),a}function zv(i){if(i.body.case==="set"){const e=i.body.value;return ba.create(e.key,So(e.value),P(e.parentCreatedAt),P(e.executedAt))}else if(i.body.case==="add"){const e=i.body.value;return Ji.create(P(e.parentCreatedAt),P(e.prevCreatedAt),So(e.value),P(e.executedAt))}else if(i.body.case==="move"){const e=i.body.value;return Tn.create(P(e.parentCreatedAt),P(e.prevCreatedAt),P(e.createdAt),P(e.executedAt))}else if(i.body.case==="remove"){const e=i.body.value;return Zn.create(P(e.parentCreatedAt),P(e.createdAt),P(e.executedAt))}else if(i.body.case==="edit"){const e=i.body.value,a=new Map;return Object.entries(e.attributes).forEach(([r,o])=>{a.set(r,o)}),js.create(P(e.parentCreatedAt),Ao(e.from),Ao(e.to),e.content,a,P(e.executedAt))}else if(i.body.case==="style"){const e=i.body.value,a=new Map;return Object.entries(e.attributes).forEach(([r,o])=>{a.set(r,o)}),Fs.create(P(e.parentCreatedAt),Ao(e.from),Ao(e.to),a,P(e.executedAt))}else if(i.body.case==="increase"){const e=i.body.value;return Rr.create(P(e.parentCreatedAt),So(e.value),P(e.executedAt))}else if(i.body.case==="treeEdit"){const e=i.body.value;return Hs.create(P(e.parentCreatedAt),sr(e.from),sr(e.to),QT(e.contents),e.splitLevel,P(e.executedAt))}else if(i.body.case==="treeStyle"){const e=i.body.value,a=new Map,r=e.attributesToRemove;return r?.length>0?oi.createTreeRemoveStyleOperation(P(e.parentCreatedAt),sr(e.from),sr(e.to),r,P(e.executedAt)):(Object.entries(e.attributes).forEach(([o,c])=>{a.set(o,c)}),oi.create(P(e.parentCreatedAt),sr(e.from),sr(e.to),a,P(e.executedAt)))}else if(i.body.case==="arraySet"){const e=i.body.value;return ci.create(P(e.parentCreatedAt),P(e.createdAt),So(e.value),P(e.executedAt))}else throw new N(A.ErrUnimplemented,"unimplemented operation")}function qT(i){const e=[];for(const a of i){const r=zv(a);r&&e.push(r)}return e}function _v(i){const e=[];for(const a of i)e.push(Nr.create({id:Lv(a.id),operations:qT(a.operations),presenceChange:a.presenceChange?jT(a.presenceChange):void 0,message:a.message}));return e}function e2(i){return dr.of(BigInt(i.serverSeq),i.clientSeq)}function t2(i){return Wo.create(i.documentKey,e2(i.checkpoint),i.isRemoved,_v(i.changes),Ah(i.versionVector),i.snapshot)}function Yv(i){const e=new Sr;for(const r of i.nodes){const o=Th(r.element);e.set(r.key,o,o.getPositionedAt())}const a=new vt(P(i.createdAt),e);return a.setMovedAt(P(i.movedAt)),a.setRemovedAt(P(i.removedAt)),a}function Gv(i){const e=new Ys;for(const r of i.nodes)e.insert(Th(r.element));const a=new St(P(i.createdAt),e);return a.setMovedAt(P(i.movedAt)),a.setRemovedAt(P(i.removedAt)),a}function n2(i){const e=je.of(je.valueFromBytes(Mv(i.type),i.value),P(i.createdAt));return e.setMovedAt(P(i.movedAt)),e.setRemovedAt(P(i.removedAt)),e}function i2(i){const e=new Tr;let a=e.getHead();for(const o of i.nodes){const c=e.insertAfter(a,HT(o));o.insPrevId&&c.setInsPrev(e.findNode(Zv(o.insPrevId))),a=c}const r=new Ft(e,P(i.createdAt));return r.setMovedAt(P(i.movedAt)),r.setRemovedAt(P(i.removedAt)),r}function a2(i){const e=Lt.create(Uo(i.type),Lt.valueFromBytes(Uo(i.type),i.value),P(i.createdAt));return e.setMovedAt(P(i.movedAt)),e.setRemovedAt(P(i.removedAt)),e}function Wv(i){const e=Nh(i.nodes);return Ht.create(e,P(i.createdAt))}function Th(i){if(i.body.case==="jsonObject")return Yv(i.body.value);if(i.body.case==="jsonArray")return Gv(i.body.value);if(i.body.case==="primitive")return n2(i.body.value);if(i.body.case==="text")return i2(i.body.value);if(i.body.case==="counter")return a2(i.body.value);if(i.body.case==="tree")return Wv(i.body.value);throw new N(A.ErrUnimplemented,"unimplemented element")}function r2(i){return i.map(e=>({path:e.path,type:e.type}))}function s2(i){if(!i)return{root:vt.create(vr),presences:new Map};const e=fn(UN,i);return{root:Th(e.root),presences:FT(e.presences)}}function l2(i){const e=bh(i);return Ko(Xi(dh,e))}function o2(i){const e=Ih(i),a=fn(dh,e);return Ah(a)}function Kv(i){if(!i)throw new N(A.ErrInvalidArgument,"bytes is empty");const e=fn(hn,i);return Yv(e.body.value)}function Xv(i){return Xi(hn,Sh(i))}function u2(i){if(!i)throw new N(A.ErrInvalidArgument,"bytes is empty");const e=fn(hn,i);return Gv(e.body.value)}function c2(i){return Xi(hn,Bv(i))}function f2(i){if(!i)throw new N(A.ErrInvalidArgument,"bytes is empty");const e=fn(hn,i);return Wv(e.body.value)}function h2(i){return Xi(hn,Uv(i))}function Ko(i){return i?Array.from(i).map(e=>e.toString(16).padStart(2,"0")).join(""):""}function Rh(i){return Ko(i)}function Ih(i){return new Uint8Array(i.match(/.{1,2}/g).map(e=>parseInt(e,16)))}function d2(i){if(typeof window<"u"&&typeof window.atob=="function"){const e=window.atob(i),a=e.length,r=new Uint8Array(a);for(let o=0;o<a;o++)r[o]=e.charCodeAt(o);return r}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const e=globalThis.Buffer;return new Uint8Array(e.from(i,"base64"))}else throw new Error("No base64 decoder available")}function Xo(i){return Ih(i)}function g2(i){if(typeof window<"u"&&typeof window.btoa=="function"){let e="";for(let a=0;a<i.byteLength;a++)e+=String.fromCharCode(i[a]);return window.btoa(e)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(i).toString("base64");throw new Error("No base64 encoder available")}}function m2(i){const e=fn(hh,i);return Lv(e)}function y2(i){const e=fn(gh,i);return zv(e)}const We={fromPresence:Eh,toChangePack:JT,fromChangePack:t2,fromChanges:_v,toTreeNodes:vh,fromTreeNodes:Nh,objectToBytes:Xv,bytesToObject:Kv,bytesToSnapshot:s2,bytesToHex:Ko,hexToBytes:Ih,toHexString:Rh,toUint8Array:Xo,toOperation:Yf,toChangeID:_f,bytesToChangeID:m2,bytesToOperation:y2,versionVectorToHex:l2,hexToVersionVector:o2,fromSchemaRules:r2,toRevisionSummary:kT,changeIDToBinary:i=>Xi(hh,_f(i)),operationToBinary:i=>Xi(gh,Yf(i))};var xt=(i=>(i[i.Trivial=0]="Trivial",i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warn=3]="Warn",i[i.Error=4]="Error",i[i.Fatal=5]="Fatal",i))(xt||{});let da=3;function p2(i){da=i}const G={trivial:(...i)=>{da>0||typeof console<"u"&&console.log("YORKIE T:",...i)},debug:(...i)=>{da>1||typeof console<"u"&&console.log("YORKIE D:",...i)},info:(...i)=>{da>2||typeof console<"u"&&console.log("YORKIE I:",...i)},warn:(...i)=>{da>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...i):console.log("YORKIE W:",...i))},error:(...i)=>{da>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...i):console.log("YORKIE E:",...i))},fatal:(...i)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...i):console.log("YORKIE F:",...i))},isEnabled:i=>da<=i};function Jv(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,i=>{const e=Math.random()*16|0;return(i==="x"?e:e&3|8).toString(16)})}const If=()=>{};class b2{finalized=!1;observers=[];finalError;constructor(e){try{e(this)}catch(a){this.error(a)}}next(e){this.forEachObserver(a=>{a.next(e)})}error(e){this.forEachObserver(a=>{a.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,a,r){let o;if(!e)throw new N(A.ErrInvalidArgument,"missing observer");if(this.finalized)throw new N(A.ErrRefused,"observable is finalized due to previous error");typeof e=="object"?o=e:o={next:e,error:a,complete:r},o.next===void 0&&(o.next=If),o.error===void 0&&(o.error=If),o.complete===void 0&&(o.complete=If);const c=Jv(),h=this.unsubscribeOne.bind(this,c);if(this.observers.push({subscriptionID:c,observer:o}),this.finalized)try{this.finalError?o.error(this.finalError):o.complete()}catch(d){G.warn(d)}return h}unsubscribeOne(e){this.observers=this.observers?.filter(a=>a.subscriptionID!==e)}forEachObserver(e){if(!this.finalized)for(let a=0;a<this.observers.length;a++)this.sendOne(a,e)}sendOne(e,a){if(this.observers!==void 0&&this.observers[e]!==void 0)try{a(this.observers[e].observer)}catch(r){G.error(r)}}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.observers=void 0)}}function kv(i){const e=new b2(i);return{subscribe:e.subscribe.bind(e),getProxy:()=>e}}class Os{prevID;nextID;delimiter;message;root;operations;presenceChange;previousPresence;reversePresenceKeys;constructor(e,a,r,o){this.prevID=e,this.nextID=e.next(),this.delimiter=bv,this.root=a,this.operations=[],this.previousPresence=Sn(r),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=o}static create(e,a,r,o){return new Os(e,a,r,o)}push(e){this.operations.push(e)}registerElement(e,a){this.root.registerElement(e,a)}registerRemovedElement(e){this.root.registerRemovedElement(e)}registerGCPair(e){this.root.registerGCPair(e)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const e=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return Nr.create({id:e,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(e){this.presenceChange=e}setReversePresence(e,a){for(const r of Object.keys(e))a?.addToHistory?this.reversePresenceKeys.add(r):this.reversePresenceKeys.delete(r)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const e={};for(const a of this.reversePresenceKeys)e[a]=this.previousPresence[a];return e}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(e){this.root.acc(e)}}function jv(i,e){const a=new Ws(i);return new Proxy(e,a.getHandlers())}class Ws{context;handlers;constructor(e){this.context=e,this.handlers={set:(a,r,o)=>(G.isEnabled(xt.Trivial)&&G.trivial(`obj[${r}]=${JSON.stringify(o)}`),Ws.setInternal(e,a,r,o),!0),get:(a,r)=>(G.isEnabled(xt.Trivial)&&G.trivial(`obj[${r}]`),r==="getID"?()=>a.getCreatedAt():r==="toJSON"||r==="toString"?()=>a.toJSON():r==="toJS"?()=>a.toJS():r==="toJSForTest"?()=>a.toJSForTest():ga(e,a.get(r))),ownKeys:a=>a.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(a,r)=>(G.isEnabled(xt.Trivial)&&G.trivial(`obj[${r}]`),Ws.deleteInternal(e,a,r),!0)}}static setInternal(e,a,r,o){if(r.includes("."))throw new N(A.ErrInvalidObjectKey,"key must not contain the '.'.");const c=e.issueTimeTicket(),h=Vs(e,o,c),d=a.set(r,h,c);e.registerElement(h,a),d&&e.registerRemovedElement(d),e.push(ba.create(r,h.deepcopy(),a.getCreatedAt(),c))}static buildObjectMembers(e,a){const r={};for(const[o,c]of Object.entries(a)){if(o.includes("."))throw new N(A.ErrInvalidObjectKey,"key must not contain the '.'.");const h=e.issueTimeTicket(),d=Vs(e,c,h);r[o]=d}return r}static deleteInternal(e,a,r){const o=e.issueTimeTicket(),c=a.deleteByKey(r,o);c&&(e.push(Zn.create(a.getCreatedAt(),c.getCreatedAt(),o)),e.registerRemovedElement(c))}getHandlers(){return this.handlers}}function v2(i,e){const a=new De(i,e);return new Proxy(e,a.getHandlers())}function rb(i){return typeof i=="string"||i instanceof String?!isNaN(i):!1}function S2(i){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(i)}class De{context;handlers;array;constructor(e,a){this.context=e,this.array=a,this.handlers={get:(r,o,c)=>o==="getID"?()=>r.getCreatedAt():o==="getElementByID"?h=>{const d=r.getByID(h);if(!(!d||d.isRemoved()))return vn(e,d)}:o==="getElementByIndex"?h=>{const d=r.get(h);return vn(e,d)}:o==="getLast"?()=>vn(e,r.getLast()):o==="delete"?h=>{const d=De.deleteInternalByIndex(e,r,h);return vn(e,d)}:o==="deleteByID"?h=>{const d=De.deleteInternalByID(e,r,h);return vn(e,d)}:o==="insertAfter"?(h,d)=>{const y=De.insertAfterInternal(e,r,h,d);return vn(e,y)}:o==="insertIntegerAfter"?(h,d)=>{const y=De.insertIntegerAfterInternal(e,r,h,d);return vn(e,y)}:o==="insertBefore"?(h,d)=>{const y=De.insertBeforeInternal(e,r,h,d);return vn(e,y)}:o==="setValue"?(h,d)=>{const y=De.setValueInternal(e,r,h,d);return vn(e,y)}:o==="moveBefore"?(h,d)=>{De.moveBeforeInternal(e,r,h,d)}:o==="moveAfter"?(h,d)=>{De.moveAfterInternal(e,r,h,d)}:o==="moveAfterByIndex"?(h,d)=>{De.moveAfterByIndexInternal(e,r,h,d)}:o==="moveFront"?h=>{De.moveFrontInternal(e,r,h)}:o==="moveLast"?h=>{De.moveLastInternal(e,r,h)}:rb(o)?ga(e,r.get(Number(o))):o==="push"?h=>De.pushInternal(e,r,h):o==="splice"?(h,d,...y)=>De.splice(e,r,h,d,...y):o==="length"?r.length:typeof o=="symbol"&&o===Symbol.iterator?De.iteratorInternal.bind(this,e,r):o==="includes"?(h,d)=>De.includes(e,r,h,d):o==="indexOf"?(h,d)=>De.indexOf(e,r,h,d):o==="lastIndexOf"?(h,d)=>De.lastIndexOf(e,r,h,d):o==="toJSForTest"?()=>r.toJSForTest():o==="toTestString"?()=>De.toTestString(r):typeof o=="string"&&S2(o)?(...h)=>{const d=Array.from(r).map(y=>ga(e,y));return Array.prototype[o].apply(d,h)}:Reflect.get(r,o,c),set:(r,o,c)=>{if(rb(o)){const h=Number(o);return De.setValueInternal(e,r,h,c),!0}return Reflect.set(r,o,c)},deleteProperty:(r,o)=>(G.isEnabled(xt.Trivial)&&G.trivial(`array[${o}]`),De.deleteInternalByIndex(e,r,Number.parseInt(o)),!0)}}static*iteratorInternal(e,a){for(const r of a)yield vn(e,r)}static buildArrayElements(e,a){const r=[];for(const o of a){const c=e.issueTimeTicket(),h=Vs(e,o,c);r.push(h)}return r}static pushInternal(e,a,r){return De.insertAfterInternal(e,a,a.getLastCreatedAt(),r),a.length}static moveBeforeInternal(e,a,r,o){const c=e.issueTimeTicket(),h=a.getPrevCreatedAt(r);a.moveAfter(h,o,c),e.push(Tn.create(a.getCreatedAt(),h,o,c))}static moveAfterInternal(e,a,r,o){const c=e.issueTimeTicket();e.push(Tn.create(a.getCreatedAt(),r,o,c)),a.moveAfter(r,o,c)}static moveAfterByIndexInternal(e,a,r,o){const c=a.get(r);if(!c)throw new N(A.ErrInvalidArgument,`index out of bounds: ${r}`);const h=a.get(o);if(!h)throw new N(A.ErrInvalidArgument,`index out of bounds: ${o}`);De.moveAfterInternal(e,a,c.getCreatedAt(),h.getCreatedAt())}static moveFrontInternal(e,a,r){const o=e.issueTimeTicket(),c=a.getHead();a.moveAfter(c.getCreatedAt(),r,o),e.push(Tn.create(a.getCreatedAt(),c.getCreatedAt(),r,o))}static moveLastInternal(e,a,r){const o=e.issueTimeTicket(),c=a.getLastCreatedAt();a.moveAfter(c,r,o),e.push(Tn.create(a.getCreatedAt(),c,r,o))}static insertAfterInternal(e,a,r,o){const c=e.issueTimeTicket(),h=Vs(e,o,c);return a.insertAfter(r,h),e.registerElement(h,a),e.push(Ji.create(a.getCreatedAt(),r,h.deepcopy(),c)),h}static insertIntegerAfterInternal(e,a,r,o){const c=a.get(r);if(!c)throw new N(A.ErrInvalidArgument,`index out of bounds: ${r}`);return De.insertAfterInternal(e,a,c.getCreatedAt(),o),a}static insertBeforeInternal(e,a,r,o){return De.insertAfterInternal(e,a,a.getPrevCreatedAt(r),o)}static setValueInternal(e,a,r,o){const c=a.get(r);if(!c)throw new N(A.ErrInvalidArgument,`index out of bounds: ${r}`);return De.setByIndexInternal(e,a,c.getCreatedAt(),o),a}static setByIndexInternal(e,a,r,o){const c=e.issueTimeTicket(),h=Vs(e,o,c),d=h.deepcopy();return e.push(ci.create(a.getCreatedAt(),r,d,c)),a.set(r,h,c),e.registerElement(h,a),h}static deleteInternalByIndex(e,a,r){const o=e.issueTimeTicket(),c=a.deleteByIndex(r,o);if(c)return e.push(Zn.create(a.getCreatedAt(),c.getCreatedAt(),o)),e.registerRemovedElement(c),c}static deleteInternalByID(e,a,r){const o=e.issueTimeTicket(),c=a.delete(r,o);return e.push(Zn.create(a.getCreatedAt(),c.getCreatedAt(),o)),e.registerRemovedElement(c),c}static splice(e,a,r,o,...c){const h=a.length,d=r>=0?Math.min(r,h):Math.max(h+r,0),y=o===void 0?h:o<0?d:Math.min(d+o,h),m=[];for(let v=d;v<y;v++){const T=De.deleteInternalByIndex(e,a,d);if(T){const V=T.deepcopy();V.setRemovedAt(),m.push(ga(e,V))}}if(c){let v=d===0?a.getHead().getID():a.get(d-1).getID();for(const T of c)v=De.insertAfterInternal(e,a,v,T).getID()}return m}static includes(e,a,r,o){const c=a.length,h=o===void 0?0:o<0?Math.max(o+c,0):o;if(h>=c)return!1;if(je.isSupport(r))return Array.from(a).map(y=>ga(e,y)).includes(r,h);for(let d=h;d<c;d++)if(a.get(d)?.getID()===r.getID())return!0;return!1}static indexOf(e,a,r,o){const c=a.length,h=o===void 0?0:o<0?Math.max(o+c,0):o;if(h>=c)return-1;if(je.isSupport(r))return Array.from(a).map(y=>ga(e,y)).indexOf(r,h);for(let d=h;d<c;d++)if(a.get(d)?.getID()===r.getID())return d;return-1}static lastIndexOf(e,a,r,o){const c=a.length,h=o===void 0||o>=c?c-1:o<0?o+c:o;if(h<0)return-1;if(je.isSupport(r))return Array.from(a).map(y=>ga(e,y)).lastIndexOf(r,h);for(let d=h;d>0;d--)if(a.get(d)?.getID()===r.getID())return d;return-1}static toTestString(e){return e.toTestString()}getHandlers(){return this.handlers}}class Ch{context;text;constructor(e,a){this.context=e,this.text=a}initialize(e,a){this.context=e,this.text=a}getID(){return this.text.getID()}edit(e,a,r,o){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");if(e>a)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const c=this.text.indexRangeToPosRange(e,a);G.isEnabled(xt.Debug)&&G.debug(`EDIT: f:${e}->${c[0].toTestString()}, t:${a}->${c[1].toTestString()} c:${r}`);const h=o?Er(o):void 0,d=this.context.issueTimeTicket(),[,y,m,v]=this.text.edit(c,r,d,h);this.context.acc(m);for(const T of y)this.context.registerGCPair(T);return this.context.push(new js(this.text.getCreatedAt(),c[0],c[1],r,h?new Map(Object.entries(h)):new Map,d)),this.text.findIndexesFromRange(v)}delete(e,a){return this.edit(e,a,"")}empty(){return this.edit(0,this.length,"")}setStyle(e,a,r){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");if(e>a)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const o=this.text.indexRangeToPosRange(e,a);G.isEnabled(xt.Debug)&&G.debug(`STYL: f:${e}->${o[0].toTestString()}, t:${a}->${o[1].toTestString()} a:${JSON.stringify(r)}`);const c=Er(r),h=this.context.issueTimeTicket(),[d,y]=this.text.setStyle(o,c,h);this.context.acc(y);for(const m of d)this.context.registerGCPair(m);return this.context.push(new Fs(this.text.getCreatedAt(),o[0],o[1],new Map(Object.entries(c)),h)),!0}indexRangeToPosRange(e){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");const a=this.text.indexRangeToPosRange(e[0],e[1]);return[a[0].toStruct(),a[1].toStruct()]}posRangeToIndexRange(e){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");const a=this.text.findIndexesFromRange([In.fromStruct(e[0]),In.fromStruct(e[1])]);return[a[0],a[1]]}toTestString(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(e,a){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(e,a)}}class wh{valueType;value;context;counter;constructor(e,a){this.valueType=e,this.value=a}initialize(e,a){this.valueType=a.getValueType(),this.context=e,this.counter=a,this.value=a.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(e){if(!this.context||!this.counter)throw new N(A.ErrNotInitialized,"Counter is not initialized yet");const a=this.context.issueTimeTicket(),r=je.of(e,a);if(!r.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof r.getValue()}`);return this.counter.increase(r),this.context.push(Rr.create(this.counter.getCreatedAt(),r,a)),this}toJSForTest(){if(!this.context||!this.counter)throw new N(A.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function Dh(i){if(i.isText)return{type:i.type,value:i.value};const e={type:i.type,children:i.children.map(a=>Dh(a))};return i.attrs&&(e.attributes=li(i.attrs.toObject())),e}function A2(i,e){const a={type:i.isText?i.parent.type:i.type,children:i.isText?i.parent.getChildrenText().length===e?[]:[{type:Un,value:i.parent.getChildrenText().slice(e)}]:i.children.slice(e).map(r=>Dh(r))};return i.attrs?a.attributes=li(i.attrs.toObject()):i.isText&&i.parent.attrs&&(a.attributes=li(i.parent.attrs.toObject())),a}function E2(i,e){const{node:a}=i,r=[...e].slice(0,-1),o=a.isText?a.parent.getChildrenText().length:a.children.length,c=[...r,o],h=[...r],d=[];h[h.length-1]+=1,e.every((m,v)=>m===c[v])||d.push({fromPath:[...e],toPath:c});const y=A2(a,e[e.length-1]);return y&&d.push({fromPath:h,toPath:h,content:y}),d}function N2(i,e){const{node:a,offset:r}=i,o=a.children[r],c=a.children[r-1],{children:h}=o,d=[...e].slice(0,-1),y=[{fromPath:[...e],toPath:[...d,r+1]}];if(!o.children.length)return y;const m=[...d,r-1,c.hasTextChild()?c.getChildrenText().length:c.children.length],v=h.map(T=>Dh(T));return y.push({fromPath:m,toPath:m,content:v}),y}function Oh(i,e,a){const{type:r}=i,o=a.issueTimeTicket();if(r===Un){Fv(i);const{value:c}=i,h=jt.create(pt.of(o,0),r,c);e.append(h)}else{const{children:c=[]}=i,{attributes:h}=i;let d;if(typeof h=="object"&&!Tv(h)){const m=Er(h);d=new ui;for(const[v,T]of Object.entries(m))d.set(v,T,o)}const y=jt.create(pt.of(o,0),r,void 0,d);e.append(y);for(const m of c)Oh(m,y,a)}}function T2(i,e){const{type:a}=e,r=i.issueTimeTicket();let o;if(e.type===Un){const{value:c}=e;o=jt.create(pt.of(r,0),a,c)}else if(e){const{children:c=[]}=e,{attributes:h}=e;let d;if(typeof h=="object"&&!Tv(h)){const y=Er(h);d=new ui;for(const[m,v]of Object.entries(y))d.set(m,v,r)}o=jt.create(pt.of(i.issueTimeTicket(),0),a,void 0,d);for(const y of c)Oh(y,o,i)}return o}function Fv(i){if(!i.value.length)throw new N(A.ErrInvalidArgument,"text node cannot have empty value");return!0}function sb(i){if(!i.length)return!0;if(i[0].type===Un)for(const a of i){const{type:r}=a;if(r!==Un)throw new N(A.ErrInvalidArgument,"element node and text node cannot be passed together");Fv(a)}else for(const a of i){const{type:r}=a;if(r===Un)throw new N(A.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Vh{initialRoot;context;tree;constructor(e){this.initialRoot=e}initialize(e,a){this.context=e,this.tree=a}getID(){return this.tree.getID()}buildRoot(e){if(!this.initialRoot)return jt.create(pt.of(e.issueTimeTicket(),0),bT);const a=jt.create(pt.of(e.issueTimeTicket(),0),this.initialRoot.type);for(const r of this.initialRoot.children)Oh(r,a,e);return a}getSize(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToTreePos(e),r=E2(a,e);for(const o of r){const{fromPath:c,toPath:h,content:d}=o,y=this.tree.pathToPos(c),m=this.tree.pathToPos(h);this.editInternal(y,m,d?[d]:[],0)}}mergeByPath(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToTreePos(e);if(a.node.isText)throw new N(A.ErrInvalidArgument,"text node cannot be merged");const r=N2(a,e);for(const o of r){const{fromPath:c,toPath:h,content:d}=o,y=this.tree.pathToPos(c),m=this.tree.pathToPos(h);this.editInternal(y,m,d??[],0)}}styleByPath(e,a){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const[r,o]=this.tree.pathToPosRange(e),c=this.context.issueTimeTicket(),h=a?Er(a):void 0,[d,,y]=this.tree.style([r,o],h,c);this.context.acc(y);for(const m of d)this.context.registerGCPair(m);this.context.push(oi.create(this.tree.getCreatedAt(),r,o,h?new Map(Object.entries(h)):new Map,c))}style(e,a,r){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e>a)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(e),c=this.tree.findPos(a),h=this.context.issueTimeTicket(),d=r?Er(r):void 0,[y,,m]=this.tree.style([o,c],d,h);this.context.acc(m);for(const v of y)this.context.registerGCPair(v);this.context.push(oi.create(this.tree.getCreatedAt(),o,c,d?new Map(Object.entries(d)):new Map,h))}removeStyle(e,a,r){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e>a)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(e),c=this.tree.findPos(a),h=this.context.issueTimeTicket(),[d,,y]=this.tree.removeStyle([o,c],r,h);this.context.acc(y);for(const m of d)this.context.registerGCPair(m);this.context.push(oi.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),o,c,r,h))}editInternal(e,a,r,o=0){if(r.length!==0&&r[0]&&(sb(r),r[0].type!==Un))for(const m of r){const{children:v=[]}=m;sb(v)}const c=this.context.getLastTimeTicket();let h=new Array;if(r[0]?.type===Un){let m="";for(const v of r){const{value:T}=v;m+=T}h.push(jt.create(pt.of(this.context.issueTimeTicket(),0),Un,m))}else h=r.map(m=>m&&T2(this.context,m)).filter(m=>m);const[,d,y]=this.tree.edit([e,a],h.length?h.map(m=>m?.deepcopy()):void 0,o,c,()=>this.context.issueTimeTicket());this.context.acc(y);for(const m of d)this.context.registerGCPair(m);return this.context.push(Hs.create(this.tree.getCreatedAt(),e,a,h.length?h:void 0,o,c)),!0}editByPath(e,a,r,o=0){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==a.length)throw new N(A.ErrInvalidArgument,"path length should be equal");if(!e.length||!a.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(e),h=this.tree.pathToPos(a);return this.editInternal(c,h,r?[r]:[],o)}editBulkByPath(e,a,r,o=0){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==a.length)throw new N(A.ErrInvalidArgument,"path length should be equal");if(!e.length||!a.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(e),h=this.tree.pathToPos(a);return this.editInternal(c,h,r,o)}edit(e,a,r,o=0){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e>a)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(e),h=this.tree.findPos(a);return this.editInternal(c,h,r?[r]:[],o)}editBulk(e,a,r,o=0){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e>a)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(e),h=this.tree.findPos(a);return this.editInternal(c,h,r,o)}toXML(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(e)}pathToIndex(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(e)}pathRangeToPosRange(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");const a=[this.tree.pathToIndex(e[0]),this.tree.pathToIndex(e[1])],r=this.tree.indexRangeToPosRange(a);return[r[0].toStruct(),r[1].toStruct()]}indexRangeToPosRange(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(e)}posRangeToIndexRange(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");const a=[Rn.fromStruct(e[0]),Rn.fromStruct(e[1])];return this.tree.posRangeToIndexRange(a)}posRangeToPathRange(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");const a=[Rn.fromStruct(e[0]),Rn.fromStruct(e[1])];return this.tree.posRangeToPathRange(a)}}function lb(i,e){return jv(i,e)}function vn(i,e){if(e){if(e instanceof je)return e;if(e instanceof vt)return jv(i,e);if(e instanceof St)return v2(i,e);if(e instanceof Ft)return new Ch(i,e);if(e instanceof Lt){const a=new wh(zn.Int,0);return a.initialize(i,e),a}else if(e instanceof Ht){const a=new Vh;return a.initialize(i,e),a}}else return;throw new TypeError(`Unsupported type of element: ${typeof e}`)}function ga(i,e){const a=vn(i,e);return a instanceof je?a.getValue():a}function Vs(i,e,a){let r;if(je.isSupport(e))r=je.of(e,a);else if(Array.isArray(e))r=St.create(a,De.buildArrayElements(i,e));else if(typeof e=="object")e instanceof Ch?(r=Ft.create(Tr.create(),a),e.initialize(i,r)):e instanceof wh?(r=Lt.create(e.getValueType(),e.getValue(),a),e.initialize(i,r)):e instanceof Vh?(r=Ht.create(e.buildRoot(i),a),e.initialize(i,r)):r=vt.create(a,Ws.buildObjectMembers(i,e));else throw new TypeError(`Unsupported type of value: ${typeof e}`);return r}class Ks{rootObject;elementPairMapByCreatedAt;gcElementSetByCreatedAt;gcPairMap;docSize;constructor(e){this.rootObject=e,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(e,void 0),e.getDescendants(a=>{if(a.getRemovedAt()&&this.registerRemovedElement(a),a instanceof Ft||a instanceof Ht)for(const r of a.getGCPairs())this.registerGCPair(r);return!1})}static create(){return new Ks(vt.create(vr))}findByCreatedAt(e){const a=this.elementPairMapByCreatedAt.get(e.toIDString());if(a)return a.element}findElementPairByCreatedAt(e){return this.elementPairMapByCreatedAt.get(e.toIDString())}createSubPaths(e){let a=this.elementPairMapByCreatedAt.get(e.toIDString());if(!a)return[];const r=[];for(;a.parent;){const o=a.element.getCreatedAt(),c=a.parent.subPathOf(o);if(c===void 0)throw new N(A.ErrInvalidArgument,`cant find the given element: ${o.toIDString()}`);r.unshift(c),a=this.elementPairMapByCreatedAt.get(a.parent.getCreatedAt().toIDString())}return r.unshift("$"),r}createPath(e){return this.createSubPaths(e).join(".")}registerElement(e,a){this.elementPairMapByCreatedAt.set(e.getCreatedAt().toIDString(),{parent:a,element:e}),yt(this.docSize.live,e.getDataSize()),e instanceof Gi&&e.getDescendants((r,o)=>(this.elementPairMapByCreatedAt.set(r.getCreatedAt().toIDString(),{parent:o,element:r}),yt(this.docSize.live,r.getDataSize()),!1))}deregisterElement(e){let a=0;const r=o=>{const c=o.getCreatedAt().toIDString();ya(this.docSize.gc,o.getDataSize()),this.elementPairMapByCreatedAt.delete(c),this.gcElementSetByCreatedAt.delete(c),a++};return r(e),e instanceof Gi&&e.getDescendants(o=>(r(o),!1)),a}registerRemovedElement(e){yt(this.docSize.gc,e.getDataSize()),ya(this.docSize.live,e.getDataSize()),this.docSize.live.meta+=Bn,this.gcElementSetByCreatedAt.add(e.getCreatedAt().toIDString())}registerGCPair(e){if(this.gcPairMap.get(e.child.toIDString())){this.gcPairMap.delete(e.child.toIDString());return}this.gcPairMap.set(e.child.toIDString(),e);const r=this.gcPairMap.get(e.child.toIDString()).child.getDataSize();yt(this.docSize.gc,r),ya(this.docSize.live,r),e.child instanceof Yi||(this.docSize.live.meta+=Bn)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const e=new Set;for(const a of this.gcElementSetByCreatedAt){e.add(a);const r=this.elementPairMapByCreatedAt.get(a);r.element instanceof Gi&&r.element.getDescendants(o=>(e.add(o.getCreatedAt().toIDString()),!1))}return e.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new Ks(this.rootObject.deepcopy())}garbageCollect(e){let a=0;for(const r of this.gcElementSetByCreatedAt){const o=this.elementPairMapByCreatedAt.get(r),c=o.element.getRemovedAt();c&&e?.afterOrEqual(c)&&(o.parent.purge(o.element),a+=this.deregisterElement(o.element))}for(const[,r]of this.gcPairMap){const o=r.child.getRemovedAt();o&&e?.afterOrEqual(o)&&(r.parent.purge(r.child),ya(this.docSize.gc,r.child.getDataSize()),this.gcPairMap.delete(r.child.toIDString()),a+=1)}return a}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(e){yt(this.docSize.live,e)}*getGCElementPairs(){for(const e of this.gcElementSetByCreatedAt){const a=this.elementPairMapByCreatedAt.get(e);a&&(yield a)}}}let ob=class{context;presence;constructor(e,a){this.context=e,this.presence=a}set(e,a){for(const r of Object.keys(e))this.presence[r]=e[r];this.context.setPresenceChange({type:Mn.Put,presence:Sn(this.presence)}),this.context.setReversePresence(e,a)}get(e){return this.presence[e]}clear(){this.presence={},this.context.setPresenceChange({type:Mn.Clear})}};const ub=50;class R2{undoStack=[];redoStack=[];hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(e){this.undoStack.length>=ub&&this.undoStack.shift(),this.undoStack.push(e)}popUndo(){return this.undoStack.pop()}pushRedo(e){this.redoStack.length>=ub&&this.redoStack.shift(),this.redoStack.push(e)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(e,a){const r=o=>{for(const c of o)for(const h of c)(h instanceof ci||h instanceof Zn||h instanceof Tn)&&h.getCreatedAt()===e&&h.setCreatedAt(a),(h instanceof Ji||h instanceof Tn)&&h.getPrevCreatedAt()===e&&h.setPrevCreatedAt(a)};r(this.undoStack),r(this.redoStack)}}function I2(i,e){const a=[];for(const r of e){const o=C2(i,r.path),c=w2(o,r);if(!c.valid)for(const h of c.errors||[])a.push(h)}return{valid:a.length===0,errors:a}}function C2(i,e){if(!e.startsWith("$"))throw new Error(`Path must start with $, got ${e}`);const a=e.split(".");let r=i;for(let o=1;o<a.length;o++){const c=a[o];if(!(r instanceof vt))return;r=r.get(c)}return r}function w2(i,e){switch(e.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return O2(i,e);case"object":if(!(i instanceof vt))return{valid:!1,errors:[{path:e.path,message:`expected object at path ${e.path}`}]};break;case"array":if(!(i instanceof St))return{valid:!1,errors:[{path:e.path,message:`expected array at path ${e.path}`}]};break;case"yorkie.Text":if(!(i instanceof Ft))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Text at path ${e.path}`}]};break;case"yorkie.Tree":if(!(i instanceof Ht))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Tree at path ${e.path}`}]};break;case"yorkie.Counter":if(!(i instanceof Lt))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Counter at path ${e.path}`}]};break;default:throw new Error(`Unknown rule type: ${e.type}`)}return{valid:!0}}function D2(i){switch(i){case"null":return _e.Null;case"boolean":return _e.Boolean;case"integer":return _e.Integer;case"long":return _e.Long;case"double":return _e.Double;case"string":return _e.String;case"bytes":return _e.Bytes;case"date":return _e.Date;default:throw new Error(`Unknown primitive type: ${i}`)}}function O2(i,e){return i instanceof je&&i.getType()===D2(e.type)?{valid:!0}:{valid:!1,errors:[{path:e.path,message:`expected ${e.type} at path ${e.path}`}]}}const V2="yorkie-devtools-panel",x2="yorkie-devtools-sdk";function B2(i){return[ut.StatusChanged,ut.Snapshot,ut.LocalChange,ut.RemoteChange,ut.Initialized,ut.Watched,ut.Unwatched,ut.PresenceChanged].includes(i.type)}function U2(i){return i.every(B2)}let ur="disconnected";const cb=new Map,Ro=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=Ro);function Eo(i,e){(e?.force||ur!=="disconnected")&&window.postMessage({source:x2,...i},"*")}function L2(i){if(!i.isEnableDevtools()||typeof window>"u"||cb.has(i.getKey()))return;Ro.set(i.getKey(),[]);const e=i.subscribe("all",a=>{U2(a)&&(Ro.get(i.getKey()).push(a),ur==="synced"&&Eo({msg:"doc::sync::partial",docKey:i.getKey(),event:a}))});cb.set(i.getKey(),[e]),Eo({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",a=>{if(a.data?.source!==V2)return;switch(a.data.msg){case"devtools::connect":if(ur!=="disconnected")break;ur="connected",Eo({msg:"doc::available",docKey:i.getKey()}),G.info(`[YD] Devtools connected. Doc: ${i.getKey()}`);break;case"devtools::disconnect":ur="disconnected",G.info(`[YD] Devtools disconnected. Doc: ${i.getKey()}`);break;case"devtools::subscribe":ur="synced",Eo({msg:"doc::sync::full",docKey:i.getKey(),events:Ro.get(i.getKey())}),G.info(`[YD] Devtools subscribed. Doc: ${i.getKey()}`);break}})}var Zi=(i=>(i.Detached="detached",i.Attached="attached",i.Removed="removed",i))(Zi||{}),ut=(i=>(i.StatusChanged="status-changed",i.ConnectionChanged="connection-changed",i.SyncStatusChanged="sync-status-changed",i.Snapshot="snapshot",i.LocalChange="local-change",i.RemoteChange="remote-change",i.Initialized="initialized",i.Watched="watched",i.Unwatched="unwatched",i.PresenceChanged="presence-changed",i.AuthError="auth-error",i))(ut||{}),xs=(i=>(i.Connected="connected",i.Disconnected="disconnected",i))(xs||{}),Gf=(i=>(i.Synced="synced",i.SyncFailed="sync-failed",i))(Gf||{});class _i{key;status;opts;maxSizeLimit;schemaRules;changeID;checkpoint;localChanges;root;presences;clone;internalHistory;isUpdating;onlineClients;eventStream;eventStreamObserver;history;constructor(e,a){this.key=e,this.status="detached",this.opts=a||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=IT,this.checkpoint=CT,this.localChanges=[],this.root=Ks.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new R2,this.isUpdating=!1,this.eventStream=kv(r=>this.eventStreamObserver=r),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},L2(this)}update(e,a){if(this.getStatus()==="removed")throw new N(A.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const r=this.changeID.getActorID(),o=Os.create(this.changeID,this.clone.root,this.clone.presences.get(r)||{},a);try{const d=lb(o,this.clone.root.getObject());this.presences.has(r)||this.clone.presences.set(r,{}),this.isUpdating=!0,e(d,new ob(o,this.clone.presences.get(r)))}catch(d){throw this.clone=void 0,d}finally{this.isUpdating=!1}const c=this.getSchemaRules();if(!o.isPresenceOnlyChange()&&c.length){const d=I2(this.clone?.root.getObject(),c);if(!d.valid)throw this.clone=void 0,new N(A.ErrDocumentSchemaValidationFailed,`schema validation failed: ${d.errors?.map(y=>y.message).join(", ")}`)}const h=yT(this.clone?.root.getDocSize());if(!o.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<h)throw this.clone=void 0,new N(A.ErrDocumentSizeExceedsLimit,`document size exceeded: ${h} > ${this.maxSizeLimit}`);if(o.hasChange()){G.isEnabled(xt.Trivial)&&G.trivial(`trying to update a local change: ${this.toJSON()}`);const d=o.toChange(),{opInfos:y,reverseOps:m}=d.execute(this.root,this.presences,Je.Local);for(const V of d.getOperations())V instanceof ci&&this.internalHistory.reconcileCreatedAt(V.getCreatedAt(),V.getValue().getCreatedAt());const v=o.getReversePresence();v&&m.push({type:"presence",value:v}),this.localChanges.push(d),m.length&&this.internalHistory.pushUndo(m),y.length&&this.internalHistory.clearRedo(),this.changeID=o.getNextID();const T=[];y.length&&T.push({type:"local-change",source:Je.Local,value:{message:d.getMessage()||"",operations:y,actor:r,clientSeq:d.getID().getClientSeq(),serverSeq:d.getID().getServerSeq()},rawChange:this.isEnableDevtools()?d.toStruct():void 0}),d.hasPresenceChange()&&T.push({type:"presence-changed",source:Je.Local,value:{clientID:r,presence:this.getPresence(r)}}),this.publish(T),G.isEnabled(xt.Trivial)&&G.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(e,a,r,o){if(typeof e=="string"){if(typeof a!="function")throw new N(A.ErrInvalidArgument,"Second argument must be a callback function");if(e==="presence"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="initialized"&&m.type!=="watched"&&m.type!=="unwatched"&&m.type!=="presence-changed"||d(m)},r,o)}if(e==="my-presence"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="initialized"&&m.type!=="presence-changed"||m.type==="presence-changed"&&m.value.clientID!==this.changeID.getActorID()||d(m)},r,o)}if(e==="others"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="watched"&&m.type!=="unwatched"&&m.type!=="presence-changed"||m.value.clientID!==this.changeID.getActorID()&&d(m)},r,o)}if(e==="connection"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="connection-changed"&&d(m)},r,o)}if(e==="status"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="status-changed"&&d(m)},r,o)}if(e==="sync"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="sync-status-changed"&&d(m)},r,o)}if(e==="auth-error"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="auth-error"&&d(m)},r)}if(e==="all"){const d=a;return this.eventStream.subscribe(d,r,o)}const c=e,h=a;return this.eventStream.subscribe(d=>{for(const y of d){if(y.type!=="local-change"&&y.type!=="remote-change")continue;const m=[];for(const v of y.value.operations)this.isSameElementOrChildOf(v.path,c)&&m.push(v);m.length&&h({...y,value:{...y.value,operations:m}})}},r,o)}if(typeof e=="function"){const c=e,h=a,d=r;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="snapshot"&&m.type!=="local-change"&&m.type!=="remote-change"||c(m)},h,d)}throw new N(A.ErrInvalidArgument,`"${e}" is not a valid`)}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}applyChangePack(e){e.hasSnapshot()?this.applySnapshot(e.getCheckpoint().getServerSeq(),e.getVersionVector(),e.getSnapshot(),e.getCheckpoint().getClientSeq()):(this.applyChanges(e.getChanges(),Je.Remote),this.removePushedLocalChanges(e.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(e.getCheckpoint()),e.hasSnapshot()||this.garbageCollect(e.getVersionVector()),e.getIsRemoved()&&this.applyStatus("removed"),G.isEnabled(xt.Trivial)&&G.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Sn(this.presences)})}createChangePack(){const e=Array.from(this.localChanges),a=this.checkpoint.increaseClientSeq(e.length);return Wo.create(this.key,a,!1,e,this.getVersionVector())}setActor(e){for(const a of this.localChanges)a.setActor(e);this.changeID=this.changeID.setActor(e)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const e=Os.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return lb(e,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(e){this.maxSizeLimit=e}getSchemaRules(){return this.schemaRules}setSchemaRules(e){this.schemaRules=e}garbageCollect(e){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(e),this.root.garbageCollect(e))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(e,a,r,o=-1){const{root:c,presences:h}=We.bytesToSnapshot(r);this.root=new Ks(c),this.presences=h,this.changeID=this.changeID.setClocks(a.maxLamport(),a),this.clone=void 0,this.removePushedLocalChanges(o),this.applyChanges(this.localChanges,Je.Local),this.publish([{type:"snapshot",source:Je.Remote,value:{serverSeq:e.toString(),snapshot:this.isEnableDevtools()?We.bytesToHex(r):void 0,snapshotVector:We.versionVectorToHex(a)}}])}applyChanges(e,a){G.isEnabled(xt.Debug)&&G.debug(`trying to apply ${e.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),G.isEnabled(xt.Trivial)&&G.trivial(e.map(r=>`${r.getID().toTestString()}	${r.toTestString()}`).join(`
`));for(const r of e)this.applyChange(r,a);G.isEnabled(xt.Debug)&&G.debug(`after appling ${e.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(e,a){this.ensureClone(),e.execute(this.clone.root,this.clone.presences,a);const r=[],o=e.getID().getActorID();if(e.hasPresenceChange()&&this.onlineClients.has(o)){const h=e.getPresenceChange();switch(h.type){case Mn.Put:r.push(this.presences.has(o)?{type:"presence-changed",source:a,value:{clientID:o,presence:h.presence}}:{type:"watched",source:Je.Remote,value:{clientID:o,presence:h.presence}});break;case Mn.Clear:r.push({type:"unwatched",source:Je.Remote,value:{clientID:o,presence:this.getPresence(o)}}),this.removeOnlineClient(o);break}}const{opInfos:c}=e.execute(this.root,this.presences,a);if(this.changeID=this.changeID.syncClocks(e.getID()),c.length){const h=this.isEnableDevtools()?e.toStruct():void 0;r.push(a===Je.Remote?{type:"remote-change",source:a,value:{actor:o,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:c},rawChange:h}:{type:"local-change",source:a,value:{actor:o,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:c},rawChange:h})}r.length&&this.publish(r)}applyWatchStream(e){if(e.body.case==="initialization"){const a=e.body.value.clientIds,r=new Set;for(const o of a)o!==this.changeID.getActorID()&&r.add(o);this.setOnlineClients(r),this.publish([{type:"initialized",source:Je.Local,value:this.getPresences()}]);return}if(e.body.case==="event"){const{type:a,publisher:r}=e.body.value,o=[];if(a===Oo.DOCUMENT_WATCHED){if(this.onlineClients.has(r)&&this.hasPresence(r))return;this.addOnlineClient(r),this.hasPresence(r)&&o.push({type:"watched",source:Je.Remote,value:{clientID:r,presence:this.getPresence(r)}})}else if(a===Oo.DOCUMENT_UNWATCHED){const c=this.getPresence(r);this.removeOnlineClient(r),c&&o.push({type:"unwatched",source:Je.Remote,value:{clientID:r,presence:c}})}o.length&&this.publish(o)}}applyStatus(e){this.status=e,e==="detached"&&this.setActor(mh),this.publish([{source:e==="removed"?Je.Remote:Je.Local,type:"status-changed",value:e==="attached"?{status:e,actorID:this.changeID.getActorID()}:{status:e}}])}applyDocEventsForReplay(e){for(const a of e){if(a.type==="status-changed"){this.applyStatus(a.value.status),a.value.status==="attached"&&this.setActor(a.value.actorID);continue}if(a.type==="snapshot"){const{snapshot:r,serverSeq:o,snapshotVector:c}=a.value;if(!r)continue;this.applySnapshot(BigInt(o),We.hexToVersionVector(c),We.hexToBytes(r));continue}if(a.type==="local-change"||a.type==="remote-change"){if(!a.rawChange)continue;const r=Nr.fromStruct(a.rawChange);this.applyChange(r,a.source)}if(a.type==="initialized"){const r=new Set;for(const{clientID:o,presence:c}of a.value)r.add(o),this.presences.set(o,c);this.setOnlineClients(r)}else if(a.type==="watched"){const{clientID:r,presence:o}=a.value;this.addOnlineClient(r),this.presences.set(r,o)}else if(a.type==="unwatched"){const{clientID:r}=a.value;this.removeOnlineClient(r),this.presences.delete(r)}else if(a.type==="presence-changed"){const{clientID:r,presence:o}=a.value;this.presences.set(r,o)}}}getValueByPath(e){if(!e.startsWith("$"))throw new N(A.ErrInvalidArgument,'path must start with "$"');const a=e.split(".");a.shift();let r=this.getRoot();for(const o of a)if(r=r[o],!r)return;return r}setOnlineClients(e){this.onlineClients=e}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(e){this.onlineClients.add(e)}removeOnlineClient(e){this.onlineClients.delete(e)}hasPresence(e){return this.presences.has(e)}getMyPresence(){if(this.status!=="attached")return{};const e=this.presences.get(this.changeID.getActorID());return e?Sn(e):{}}getOthersPresences(){const e=[],a=this.changeID.getActorID();for(const r of this.onlineClients)r!==a&&this.presences.has(r)&&e.push({clientID:r,presence:Sn(this.presences.get(r))});return e}getPresence(e){if(e===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(e))return;const a=this.presences.get(e);return a?Sn(a):void 0}getPresences(){const e=[];e.push({clientID:this.changeID.getActorID(),presence:Sn(this.getMyPresence())});for(const a of this.onlineClients)this.presences.has(a)&&e.push({clientID:a,presence:Sn(this.presences.get(a))});return e}getPresenceForTest(e){const a=this.presences.get(e);return a?Sn(a):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const e=this.getChangeID().getActorID();return this.getPresences().filter(a=>a.clientID!==e).sort((a,r)=>a.clientID>r.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(e,a){if(a===e)return!0;const r=e.split(".");return a.split(".").every((o,c)=>o===r[c])}removePushedLocalChanges(e){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>e);)this.localChanges.shift()}executeUndoRedo(e){if(this.isUpdating)throw new N(A.ErrRefused,`${e?"Undo":"Redo"} is not allowed during an update`);const a=e?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!a)throw new N(A.ErrRefused,`There is no operation to be ${e?"undone":"redone"}`);this.ensureClone();const r=Os.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const v of a){if(!(v instanceof Cn)){new ob(r,Sn(this.clone.presences.get(this.changeID.getActorID()))).set(v.value,{addToHistory:!0});continue}const T=r.issueTimeTicket();if(v.setExecutedAt(T),v instanceof ci){const V=v.getCreatedAt();v.getValue().setCreatedAt(T),this.internalHistory.reconcileCreatedAt(V,T)}else if(v instanceof Ji){const V=v.getValue().getCreatedAt();v.getValue().setCreatedAt(T),this.internalHistory.reconcileCreatedAt(V,T)}r.push(v)}const o=r.toChange();o.execute(this.clone.root,this.clone.presences,Je.UndoRedo);const{opInfos:c,reverseOps:h}=o.execute(this.root,this.presences,Je.UndoRedo),d=r.getReversePresence();if(d&&h.push({type:"presence",value:d}),h.length&&(e?this.internalHistory.pushRedo(h):this.internalHistory.pushUndo(h)),!o.hasPresenceChange()&&!c.length)return;this.localChanges.push(o),this.changeID=r.getNextID();const y=this.changeID.getActorID(),m=[];c.length&&m.push({type:"local-change",source:Je.UndoRedo,value:{message:o.getMessage()||"",operations:c,actor:y,clientSeq:o.getID().getClientSeq(),serverSeq:o.getID().getServerSeq()},rawChange:this.isEnableDevtools()?o.toStruct():void 0}),o.hasPresenceChange()&&m.push({type:"presence-changed",source:Je.UndoRedo,value:{clientID:y,presence:this.getPresence(y)}}),this.publish(m)}}class fb{resource;resourceID;syncMode;changeEventReceived;lastHeartbeatTime;reconnectStreamDelay;cancelled;watchStream;watchLoopTimerID;watchAbortController;constructor(e,a,r,o){this.reconnectStreamDelay=e,this.resource=a,this.resourceID=r,this.syncMode=o,this.changeEventReceived=o!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(e){this.syncMode=e}needRealtimeSync(){return this.syncMode===Is.RealtimeSyncOff?!1:this.syncMode===Is.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==Is.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(e){return this.resource instanceof _i?this.needRealtimeSync():this.syncMode===Is.Manual?!1:Date.now()-this.lastHeartbeatTime>=e}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(e){const a=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await e(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(a,this.reconnectStreamDelay))})}catch{}};await a()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function M2(i,e){let a=e;return{authInterceptor:c=>async h=>(i&&h.header.set("x-api-key",i),a&&h.header.set("authorization",a),await c(h)),setToken:c=>{a=c}}}const Z2="@yorkie-js/sdk",z2="0.6.41-rc3",hb={name:Z2,version:z2};function _2(i){return e=>async a=>(i?a.header.set("x-yorkie-user-agent",i):a.header.set("x-yorkie-user-agent",hb.name+"/"+hb.version),await e(a))}const Y2=i=>{try{if(JSON.stringify(i)===void 0)return!1}catch{return!1}return!0};var Rs=(i=>(i.Detached="detached",i.Attached="attached",i.Removed="removed",i))(Rs||{}),fr=(i=>(i.PresenceChanged="presence-changed",i.Initialized="initialized",i.Broadcast="broadcast",i.LocalBroadcast="local-broadcast",i.AuthError="auth-error",i))(fr||{});const Ns=".";class zi{key;status;actorID;sessionID;count;seq;eventStream;eventStreamObserver;constructor(e){this.validateChannelKey(e),this.key=e,this.status="detached",this.count=0,this.seq=0,this.eventStream=kv(a=>this.eventStreamObserver=a)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(Ns)[0]}getStatus(){return this.status}applyStatus(e){this.status=e}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(e){this.actorID=e}getSessionID(){return this.sessionID}setSessionID(e){this.sessionID=e}getPresenceCount(){return this.count}updateCount(e,a){return a===0||a>this.seq?(this.count=e,this.seq=a,!0):!1}hasLocalChanges(){return!1}subscribe(e,a){if(typeof e=="function")return this.eventStream.subscribe(e);const r=e,o=a;if(!o)throw new Error("callback is required when subscribing to specific event type or topic");if(r==="broadcast")return this.eventStream.subscribe(h=>{h.type==="broadcast"&&o(h)});if(r==="local-broadcast")return this.eventStream.subscribe(h=>{h.type==="local-broadcast"&&o(h)});if(r==="auth-error")return this.eventStream.subscribe(h=>{h.type==="auth-error"&&o(h)});if(r==="presence")return this.eventStream.subscribe(h=>{(h.type==="presence-changed"||h.type==="initialized")&&o(h)});if(r==="all")return this.eventStream.subscribe(o);const c=r;return this.eventStream.subscribe(h=>{h.type==="broadcast"&&h.topic===c&&o(h)})}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}broadcast(e,a,r){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:e,payload:a,options:r})}validateChannelKey(e){if(e==="")throw new Error("channel key must not be empty");if(e.includes(" "))throw new Error("channel key must not contain a whitespace");if(e.startsWith(Ns))throw new Error("channel key must not start with a period");if(e.endsWith(Ns))throw new Error("channel key must not end with a period");if(e.includes(`${Ns}${Ns}`))throw new Error("channel key path must not empty")}}var Is=(i=>(i.Manual="manual",i.Realtime="realtime",i.RealtimePushOnly="realtime-pushonly",i.RealtimeSyncOff="realtime-syncoff",i))(Is||{});const lr={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},Cf={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class Hv{id;key;metadata;status;attachmentMap;apiKey;authTokenInjector;conditions;syncLoopDuration;reconnectStreamDelay;retrySyncLoopDelay;channelHeartbeatInterval;rpcClient;setAuthToken;taskQueue;processing=!1;keepalive=!1;constructor(e){e=e||lr;const a=e.rpcAddr||lr.rpcAddr;this.key=e.key||Jv(),this.metadata=e.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=e.apiKey||"",this.authTokenInjector=e.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=e.syncLoopDuration??lr.syncLoopDuration,this.reconnectStreamDelay=e.reconnectStreamDelay??lr.reconnectStreamDelay,this.retrySyncLoopDelay=e.retrySyncLoopDelay??lr.retrySyncLoopDelay,this.channelHeartbeatInterval=e.channelHeartbeatInterval??lr.channelHeartbeatInterval;const{authInterceptor:r,setToken:o}=M2(this.apiKey);this.setAuthToken=o,this.rpcClient=oN(hT,BN({baseUrl:a,interceptors:[r,_2(e?.userAgent)],fetch:(c,h)=>fetch(c,{...h,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const e=await this.authTokenInjector();this.setAuthToken(e)}return this.enqueueTask(async()=>{try{const e=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=e.clientId,this.status="activated",this.runSyncLoop(),G.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(e){throw G.error(`[AC] c:"${this.getKey()}" err :`,e),await this.handleConnectError(e),e}})}deactivate(e={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const a=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:e.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),G.info(`[DC] c"${this.getKey()}" deactivated`)}catch(r){throw G.error(`[DC] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}};if(e.keepalive){this.keepalive=!0;const r=a();return this.keepalive=!1,r}return this.enqueueTask(a)}has(e){return this.attachmentMap.has(e)}attach(e,a){return e instanceof zi?this.attachChannel(e,a):this.attachDocument(e,a)}attachDocument(e,a={}){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==Zi.Detached)throw new N(A.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id),e.update((o,c)=>c.set(a.initialPresence||{}));const r=a.syncMode??"realtime";return this.enqueueTask(async()=>{try{const o=await this.rpcClient.attachDocument({clientId:this.id,changePack:We.toChangePack(e.createChangePack()),schemaKey:a.schema},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});(o.maxSizePerDocument??0)>0&&e.setMaxSizePerDocument(o.maxSizePerDocument),o.schemaRules.length>0&&e.setSchemaRules(We.fromSchemaRules(o.schemaRules));const h=We.fromChangePack(o.changePack);if(e.applyChangePack(h),e.getStatus()===Zi.Removed)return e;e.applyStatus(Zi.Attached),this.attachmentMap.set(e.getKey(),new fb(this.reconnectStreamDelay,e,o.documentId,r)),r!=="manual"&&await this.runWatchLoop(e.getKey()),G.info(`[AD] c:"${this.getKey()}" attaches d:"${e.getKey()}"`);const d=e.getRootObject();if(a.initialRoot){const y=a.initialRoot;e.update(m=>{for(const[v,T]of Object.entries(y))if(!d.has(v)){const V=v;m[V]=T}})}return e}catch(o){throw G.error(`[AD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}detach(e,a){return e instanceof zi?this.detachChannel(e):this.detachDocument(e,a)}detachDocument(e,a={keepalive:!1}){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(e.getKey());if(!r)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);e.update((c,h)=>h.clear());const o=async()=>{try{const c=await this.rpcClient.detachDocument({clientId:this.id,documentId:r.resourceID,changePack:We.toChangePack(e.createChangePack()),removeIfNotAttached:a.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),h=We.fromChangePack(c.changePack);return e.applyChangePack(h),e.getStatus()!==Zi.Removed&&e.applyStatus(Zi.Detached),this.detachInternal(e.getKey()),G.info(`[DD] c:"${this.getKey()}" detaches d:"${e.getKey()}"`),e}catch(c){throw G.error(`[DD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};if(a.keepalive){this.keepalive=!0;const c=o();return this.keepalive=!1,c}return this.enqueueTask(o)}async attachChannel(e,a={}){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==Rs.Detached)throw new N(A.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id);const r=async()=>{try{const o=await this.rpcClient.attachChannel({clientId:this.id,channelKey:e.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});e.setSessionID(o.sessionId),e.updateCount(Number(o.count),0),e.applyStatus(Rs.Attached);const c=a.isRealtime!==!1?"realtime":"manual",h=new fb(this.reconnectStreamDelay,e,o.sessionId,c);return e.subscribe("local-broadcast",d=>{const{topic:y,payload:m,options:v}=d;this.broadcast(e.getKey(),y,m,v).catch(T=>{v?.error&&v.error(T),G.error(`[BC] c:"${this.getKey()}" failed: ${T}`)})}),this.attachmentMap.set(e.getKey(),h),c==="realtime"&&await this.runWatchLoop(e.getKey()),G.info(`[AP] c:"${this.getKey()}" attaches p:"${e.getKey()}" mode:${c} count:${e.getPresenceCount()}`),e}catch(o){throw G.error(`[AP] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}};return this.enqueueTask(r)}async detachChannel(e){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(e.getKey()))throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const a=async()=>{try{const r=await this.rpcClient.detachChannel({clientId:this.id,channelKey:e.getKey(),sessionId:e.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});return e.updateCount(Number(r.count),0),e.applyStatus(Rs.Detached),this.detachInternal(e.getKey()),G.info(`[DP] c:"${this.getKey()}" detaches p:"${e.getKey()}" count:${e.getPresenceCount()}`),e}catch(r){throw G.error(`[DP] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}};return this.enqueueTask(a)}async changeSyncMode(e,a){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(e.getKey());if(!r)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const o=r.syncMode;return o===a?e:(r.changeSyncMode(a),a==="manual"?(r.cancelWatchStream(),e):(a==="realtime"&&(r.changeEventReceived=!0),o==="manual"&&await this.runWatchLoop(e.getKey()),e))}sync(e){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);if(e instanceof zi){const a=this.attachmentMap.get(e.getKey());if(!a)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(a).catch(async r=>{throw G.error(`[SY] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}))}if(e instanceof _i){const a=this.attachmentMap.get(e.getKey());if(!a)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(a,"realtime").catch(async r=>{throw G.error(`[SY] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}))}return this.enqueueTask(async()=>{const a=[];for(const[,r]of this.attachmentMap)r.syncMode!==void 0&&r.resource instanceof _i&&a.push(this.syncInternal(r,r.syncMode));return Promise.all(a).catch(async r=>{throw G.error(`[SY] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r})})}remove(e){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);e.setActor(this.id);const r=We.toChangePack(e.createChangePack());return r.isRemoved=!0,this.enqueueTask(async()=>{try{const o=await this.rpcClient.removeDocument({clientId:this.id,documentId:a.resourceID,changePack:r},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),c=We.fromChangePack(o.changePack);e.applyChangePack(c),this.detachInternal(e.getKey()),G.info(`[RD] c:"${this.getKey()}" removes d:"${e.getKey()}"`)}catch(o){throw G.error(`[RD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(e){return this.conditions[e]}async createRevision(e,a,r){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const o=this.attachmentMap.get(e.getKey());if(!o)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const c=async()=>{try{const h=await this.rpcClient.createRevision({clientId:this.id,documentId:o.resourceID,label:a,description:r||""},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!h.revision)throw new N(A.ErrInvalidArgument,"revision is not returned");return G.info(`[CR] c:"${this.getKey()}" creates revision d:"${e.getKey()}" l:"${a}"`),We.toRevisionSummary(h.revision)}catch(h){throw G.error(`[CR] c:"${this.getKey()}" err :`,h),await this.handleConnectError(h),h}};return this.enqueueTask(c)}async listRevisions(e,a){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(e.getKey());if(!r)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{const c=await this.rpcClient.listRevisions({clientId:this.id,documentId:r.resourceID,pageSize:a?.pageSize||10,offset:a?.offset||0,isForward:a?.isForward??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});return G.info(`[LR] c:"${this.getKey()}" lists revisions d:"${e.getKey()}" count:${c.revisions.length}`),c.revisions.map(We.toRevisionSummary)}catch(c){throw G.error(`[LR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async getRevision(e,a){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(e.getKey());if(!r)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{const c=await this.rpcClient.getRevision({clientId:this.id,documentId:r.resourceID,revisionId:a},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!c.revision)throw new N(A.ErrInvalidArgument,"revision is not returned");return G.info(`[GR] c:"${this.getKey()}" gets revision d:"${e.getKey()}" r:"${a}"`),We.toRevisionSummary(c.revision)}catch(c){throw G.error(`[GR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async restoreRevision(e,a){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(e.getKey());if(!r)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,documentId:r.resourceID,revisionId:a},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),G.info(`[RR] c:"${this.getKey()}" restores revision d:"${e.getKey()}" r:"${a}"`)}catch(c){throw G.error(`[RR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async broadcast(e,a,r,o){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(e);if(!c)throw new N(A.ErrNotAttached,`${e} is not attached`);if(!Y2(r))throw new N(A.ErrInvalidArgument,"payload is not serializable");const h=c.resource,d=o?.maxRetries??Cf.maxRetries,y=Cf.maxBackoff;let m=0;const v=V=>Math.min(Cf.initialRetryInterval*2**V,y),T=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:e,topic:a,payload:new TextEncoder().encode(JSON.stringify(r))},{headers:{"x-shard-key":`${this.apiKey}/${h.getFirstKeyPath()}`}}),G.info(`[BC] c:"${this.getKey()}" broadcasts p:"${e}" t:"${a}"`)}catch(V){if(G.error(`[BC] c:"${this.getKey()}" err:`,V),await this.handleConnectError(V))if(Rf(V,A.ErrUnauthenticated)&&c.resource instanceof zi&&c.resource.publish({type:fr.AuthError,reason:Ts(V).reason||"unauthenticated",method:"Broadcast"}),m<d)m++,setTimeout(()=>T(),v(m-1)),G.info(`[BC] c:"${this.getKey()}" retry attempt ${m}/${d}`);else throw G.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),V}});return T()}runSyncLoop(){const e=async()=>{if(!this.isActive()){G.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const a=[];for(const[,r]of this.attachmentMap)r.needSync(this.channelHeartbeatInterval)&&(r.changeEventReceived!==void 0&&(r.changeEventReceived=!1),a.push(this.syncInternal(r,r.syncMode).catch(o=>{throw Rf(o,A.ErrUnauthenticated)&&r.resource.publish([{type:ut.AuthError,value:{reason:Ts(o).reason,method:"PushPull"}}]),o})));await Promise.all(a),setTimeout(e,this.syncLoopDuration)})}catch(a){G.error(`[SL] c:"${this.getKey()}" sync failed:`,a),await this.handleConnectError(a)?setTimeout(e,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};G.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,e()}async runWatchLoop(e){const a=this.attachmentMap.get(e);if(!a)throw new N(A.ErrNotAttached,`${e} is not attached`);return this.conditions.WatchLoop=!0,a.runWatchLoop(r=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new N(A.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(e))return this.conditions.WatchLoop=!1,Promise.reject(new N(A.ErrNotAttached,`${e} is not attached`));const o=new AbortController;return a.resource instanceof _i?this.createDocumentWatchStream(a,e,o,r):a.resource instanceof zi?this.createChannelWatchStream(a,e,o,r):Promise.reject(new N(A.ErrClientNotActivated,`Unknown resource type for ${e}`))})}createDocumentWatchStream(e,a,r,o){const c=this.rpcClient.watchDocument({clientId:this.id,documentId:e.resourceID},{headers:{"x-shard-key":`${this.apiKey}/${a}`},signal:r.signal});return e.resource.publish([{type:ut.ConnectionChanged,value:xs.Connected}]),G.info(`[WD] c:"${this.getKey()}" watches d:"${a}"`),e.changeEventReceived!==void 0&&(e.changeEventReceived=!0),new Promise((h,d)=>{(async()=>{try{for await(const m of c)this.handleWatchDocumentResponse(e,m),m.body.case==="initialization"&&h([c,r]);e.resource.resetOnlineClients(),e.resource.publish([{type:ut.Initialized,source:Je.Local,value:e.resource.getPresences()}]),e.resource.publish([{type:ut.ConnectionChanged,value:xs.Disconnected}]),G.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`),o()}catch(m){e.resource.resetOnlineClients(),e.resource.publish([{type:ut.Initialized,source:Je.Local,value:e.resource.getPresences()}]),e.resource.publish([{type:ut.ConnectionChanged,value:xs.Disconnected}]),G.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(m)?(Rf(m,A.ErrUnauthenticated)&&e.resource.publish([{type:ut.AuthError,value:{reason:Ts(m).reason,method:"WatchDocument"}}]),o()):this.conditions.WatchLoop=!1,d(m)}})()})}createChannelWatchStream(e,a,r,o){const c=this.rpcClient.watchChannel({clientId:this.id,channelKey:a},{headers:{"x-shard-key":`${this.apiKey}/${e.resource.getFirstKeyPath()}`},signal:r.signal});return G.info(`[WP] c:"${this.getKey()}" watches p:"${a}"`),new Promise((h,d)=>{(async()=>{try{let m=!0;for await(const v of c)this.handleWatchChannelResponse(e,v),m&&(m=!1,h([c,r]));G.debug(`[WP] c:"${this.getKey()}" p:"${a}" stream ended`),o()}catch(m){if(m instanceof Error&&m.name==="AbortError"){G.debug(`[WP] c:"${this.getKey()}" p:"${a}" stream aborted`);return}G.debug(`[WP] c:"${this.getKey()}" p:"${a}" err:`,m),await this.handleConnectError(m)?o():this.conditions.WatchLoop=!1,d(m)}})()})}handleWatchChannelResponse(e,a){const r=e.resource;if(a.body.case==="initialized"){const{count:o,seq:c}=a.body.value;r.updateCount(Number(o),Number(c))&&r.publish({type:fr.Initialized,count:Number(o)})}else if(a.body.case==="event"){const o=a.body.value;if(o.type===pv.BROADCAST){const c=new TextDecoder;try{const h=JSON.parse(c.decode(o.payload));r.publish({type:fr.Broadcast,clientID:o.publisher,topic:o.topic,payload:h})}catch(h){G.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,h)}return}r.updateCount(Number(o.count),Number(o.seq))&&r.publish({type:fr.PresenceChanged,count:Number(o.count)})}}handleWatchDocumentResponse(e,a){if(a.body.case==="event"&&a.body.value.type===Oo.DOCUMENT_CHANGED){e.changeEventReceived!==void 0&&(e.changeEventReceived=!0);return}e.resource.applyWatchStream(a)}deactivateInternal(){this.status="deactivated";for(const[e,a]of this.attachmentMap)this.detachInternal(e),a.resource instanceof _i?a.resource.applyStatus(Zi.Detached):a.resource instanceof zi&&a.resource.applyStatus(Rs.Detached)}detachInternal(e){const a=this.attachmentMap.get(e);a&&(a.cancelWatchStream(),a.resource instanceof _i&&a.resource.resetOnlineClients(),this.attachmentMap.delete(e))}async syncInternal(e,a){const{resource:r}=e;if(r instanceof zi){try{const d=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:r.getKey(),sessionId:r.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${r.getFirstKeyPath()}`}});r.updateCount(Number(d.count),0),e.updateHeartbeatTime(),G.debug(`[RP] c:"${this.getKey()}" refreshes p:"${r.getKey()}" mode:${e.syncMode}`)}catch(d){throw G.error(`[RP] c:"${this.getKey()}" err :`,d),d}return r}const o=r,{resourceID:c}=e,h=o.createChangePack();try{const d=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:c,changePack:We.toChangePack(h),pushOnly:a==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}}),y=We.fromChangePack(d.changePack);if(y.hasChanges()&&(e.syncMode==="realtime-pushonly"||e.syncMode==="realtime-syncoff"))return o;o.applyChangePack(y),e.resource.publish([{type:ut.SyncStatusChanged,value:Gf.Synced}]),o.getStatus()===Zi.Removed&&this.detachInternal(o.getKey());const m=o.getKey(),v=y.getChangeSize();return G.info(`[PP] c:"${this.getKey()}" sync d:"${m}", push:${h.getChangeSize()} pull:${v} cp:${y.getCheckpoint().toTestString()}`),o}catch(d){throw o.publish([{type:ut.SyncStatusChanged,value:Gf.SyncFailed}]),G.error(`[PP] c:"${this.getKey()}" err :`,d),d}}async handleConnectError(e){if(!(e instanceof xe))return!1;if(e.code===fe.Canceled||e.code===fe.Unknown||e.code===fe.ResourceExhausted||e.code===fe.Unavailable)return!0;if(or(e)===A.ErrUnauthenticated){if(this.authTokenInjector){const a=await this.authTokenInjector(Ts(e).reason);this.setAuthToken(a)}return!0}return or(e)===A.ErrTooManySubscribers?(G.error(`[WD] c:"${this.getKey()}" err :`,e.rawMessage),!0):(or(e)===A.ErrTooManyAttachments||(or(e)===A.ErrClientNotActivated||or(e)===A.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(e){return new Promise((a,r)=>{this.taskQueue.push(()=>e().then(a).catch(r)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{G.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}function Qv(i){return typeof i=="object"&&i!==null&&i.type==="Text"&&Array.isArray(i.nodes)}function $v(i){return typeof i=="object"&&i!==null&&i.type==="Tree"&&typeof i.root=="object"}function Pv(i){return typeof i=="object"&&i!==null&&i.type==="Int"&&typeof i.value=="number"}function qv(i){return typeof i=="object"&&i!==null&&i.type==="Long"&&typeof i.value=="number"}function e0(i){return typeof i=="object"&&i!==null&&i.type==="Date"&&typeof i.value=="string"}function t0(i){return typeof i=="object"&&i!==null&&i.type==="BinData"&&typeof i.value=="string"}function n0(i){return typeof i=="object"&&i!==null&&i.type==="Counter"&&typeof i.value=="object"}function G2(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)&&!Qv(i)&&!$v(i)&&!Pv(i)&&!qv(i)&&!e0(i)&&!t0(i)&&!n0(i)}function W2(i){try{const e=K2(i),a=JSON.parse(e);return Io(a)}catch(e){throw new N(A.ErrInvalidArgument,`Failed to parse YSON: ${e instanceof Error?e.message:String(e)}`)}}function K2(i){let e=i;return e=e.replace(/Counter\((Int|Long)\((-?\d+)\)\)/g,(a,r,o)=>`{"__yson_type":"Counter","__yson_data":{"__yson_type":"${r}","__yson_data":${o}}}`),e=e.replace(/Int\((-?\d+)\)/g,(a,r)=>`{"__yson_type":"Int","__yson_data":${r}}`),e=e.replace(/Long\((-?\d+)\)/g,(a,r)=>`{"__yson_type":"Long","__yson_data":${r}}`),e=e.replace(/Date\("([^"]*)"\)/g,(a,r)=>`{"__yson_type":"Date","__yson_data":"${r}"}`),e=e.replace(/BinData\("([^"]*)"\)/g,(a,r)=>`{"__yson_type":"BinData","__yson_data":"${r}"}`),e=e.replace(/Text\((\[(?:[^[\]]|\[(?:[^[\]]|\[[^[\]]*\])*\])*\])\)/g,(a,r)=>`{"__yson_type":"Text","__yson_data":${r}}`),e=e.replace(/Tree\((\{[^{}]*(?:\{[^{}]*(?:\{[^{}]*\})*[^{}]*\})*[^{}]*\})\)/g,(a,r)=>`{"__yson_type":"Tree","__yson_data":${r}}`),e}function Io(i){if(i===null||typeof i!="object")return i;if(i.__yson_type==="Int"&&typeof i.__yson_data=="number")return{type:"Int",value:i.__yson_data};if(i.__yson_type==="Long"&&typeof i.__yson_data=="number")return{type:"Long",value:i.__yson_data};if(i.__yson_type==="Date"&&typeof i.__yson_data=="string")return{type:"Date",value:i.__yson_data};if(i.__yson_type==="BinData"&&typeof i.__yson_data=="string")return{type:"BinData",value:i.__yson_data};if(i.__yson_type==="Counter"&&typeof i.__yson_data=="object"){const a=Io(i.__yson_data);if(typeof a=="object"&&a!==null&&"type"in a&&(a.type==="Int"||a.type==="Long"))return{type:"Counter",value:a};throw new N(A.ErrInvalidArgument,"Counter must contain Int or Long")}if(i.__yson_type==="Text"&&Array.isArray(i.__yson_data))return{type:"Text",nodes:i.__yson_data.map(a=>X2(a))};if(i.__yson_type==="Tree"&&typeof i.__yson_data=="object")return{type:"Tree",root:i0(i.__yson_data)};if(Array.isArray(i))return i.map(a=>Io(a));const e={};for(const[a,r]of Object.entries(i))e[a]=Io(r);return e}function X2(i){if(typeof i!="object"||i===null||typeof i.val!="string")throw new N(A.ErrInvalidArgument,"invalid text node format");const e={val:i.val};return i.attrs&&typeof i.attrs=="object"&&(e.attrs=i.attrs),e}function i0(i){if(typeof i!="object"||i===null||typeof i.type!="string")throw new N(A.ErrInvalidArgument,"invalid tree node format");const e={type:i.type};return i.type==="text"&&typeof i.value=="string"?(e.value=i.value,e):(i.attrs&&typeof i.attrs=="object"&&(e.attrs=i.attrs),Array.isArray(i.children)&&(e.children=i.children.map(a=>i0(a))),e)}function J2(i){return i.nodes.map(e=>e.val).join("")}function k2(i){return a0(i.root)}function a0(i){const e=i.attrs?Object.entries(i.attrs).map(([r,o])=>` ${r}="${db(o)}"`).join(""):"";if(i.type==="text"&&i.value!==void 0)return`<${i.type}${e}>${db(i.value)}</${i.type}>`;if(!i.children||i.children.length===0)return`<${i.type}${e} />`;const a=i.children.map(r=>a0(r)).join("");return`<${i.type}${e}>${a}</${i.type}>`}function db(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const j2=Object.freeze(Object.defineProperty({__proto__:null,isBinData:t0,isCounter:n0,isDate:e0,isInt:Pv,isLong:qv,isObject:G2,isText:Qv,isTree:$v,parse:W2,textToString:J2,treeToXML:k2},Symbol.toStringTag,{value:"Module"}));zn.Int,zn.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:Hv,Document:_i,Primitive:je,Text:Ch,Counter:wh,Tree:Vh,Channel:zi,ChannelEventType:fr,YSON:j2,LogLevel:xt,setLogLevel:p2,IntType:zn.Int,LongType:zn.Long});const F2="@yorkie-js/react",H2="0.6.41-rc3",gb={name:F2,version:H2};Ke.createContext({client:void 0,loading:!0,error:void 0});function Q2(i){const[e,a]=Ke.useState(void 0),[r,o]=Ke.useState(!0),[c,h]=Ke.useState(void 0),[d,y]=Ke.useState(!1);return Ke.useEffect(()=>{y(!0)},[]),Ke.useEffect(()=>{o(!0),h(void 0);async function m(){if(d)try{const v=new Hv(i);await v.activate(),a(v)}catch(v){h(v instanceof Error?v:new Error("Failed to activate client"))}finally{o(!1)}}return m(),()=>{e?.isActive()&&e.deactivate({keepalive:!0})}},[i.apiKey,i.rpcAddr,d]),{client:e,loading:r,error:c}}function $2(i){const e=new Set;let a=i;const r=()=>{e.forEach(y=>y(a))};return{subscribe:y=>(e.add(y),()=>e.delete(y)),getSnapshot:()=>a,setState:y=>{const m=a;a=typeof y=="function"?y(m):y,m!==a&&r()},destroy:()=>{e.clear()}}}const P2=i=>$2(i);function q2(i,e,a=Object.is){const r=Ke.useRef(e),o=Ke.useRef(a),c=Ke.useRef(void 0);r.current=e,o.current=a;const h=()=>{const d=i.getSnapshot(),y=r.current?r.current(d):d;return c.current!==void 0&&o.current(c.current,y)?c.current:(c.current=y,y)};return Ke.useSyncExternalStore(i.subscribe,h,h)}function eR(i,e,a,r,o,c,h,d){const y=Ke.useRef(o),m=Ke.useRef(c),[v,T]=Ke.useState(!1);Ke.useEffect(()=>{T(!0)},[]),Ke.useEffect(()=>{if(a){d.setState(_=>({..._,loading:!1,error:a}));return}if(!i||e||!v){d.setState(_=>({..._,loading:!0}));return}d.setState(_=>({..._,loading:!0,error:void 0}));const V=new _i(r,{enableDevtools:h}),C=[];C.push(V.subscribe(()=>{d.setState(_=>({..._,root:V.getRoot()}))})),C.push(V.subscribe("presence",()=>{d.setState(_=>({..._,presences:V.getPresences()}))})),C.push(V.subscribe("connection",_=>{d.setState(j=>({...j,connection:_.value}))}));async function L(){try{await i?.attach(V,{initialRoot:y.current,initialPresence:m.current});const _=j=>{try{V.update(j)}catch(q){d.setState(ye=>({...ye,error:q instanceof Error?q:new Error("Failed to update document")}))}};d.setState(j=>({...j,doc:V,root:V.getRoot(),presences:V.getPresences(),update:_}))}catch(_){d.setState(j=>({...j,error:_ instanceof Error?_:new Error("Failed to attach document")}))}finally{d.setState(_=>({..._,loading:!1}))}}return L(),()=>{i&&i.has(r)&&i.detach(V);for(const _ of C)_()}},[i,e,a,r,d,v])}Ke.createContext(void 0);function tR(i,e,a){const r=Ke.useRef(void 0);r.current||(r.current=P2({doc:void 0,root:a?.initialRoot??{},presences:[],connection:xs.Disconnected,update:()=>{},loading:!0,error:void 0}));const o=r.current,c=Ke.useMemo(()=>({apiKey:i,userAgent:gb.name+"/"+gb.version,...a}),[i,a]),{client:h,loading:d,error:y}=Q2(c);eR(h,d,y,e,a?.initialRoot??{},a?.initialPresence??{},a?.enableDevtools??!1,o);const m=q2(o);return{root:m.root,presences:m.presences,connection:m.connection,update:m.update,loading:m.loading,error:m.error}}Ke.createContext(void 0);function nR(i){const a=new URLSearchParams(window.location.search).get("key")||`react-todomvc-${new Date().toISOString().substring(0,10).replace(/-/g,"")}`,{root:r,update:o,loading:c,error:h}=tR("D6sd9E5ehtXBssmeRZ4QQP",a,{initialRoot:i,rpcAddr:"https://api.yorkie.dev",enableDevtools:!0}),d=Ke.useCallback(y=>{o(m=>{kA(m,y)})},[o]);return{root:r,dispatch:d,loading:c,error:h}}const iR={todos:[{id:crypto.randomUUID(),text:"Yorkie JS SDK",completed:!1},{id:crypto.randomUUID(),text:"Garbage collection",completed:!1},{id:crypto.randomUUID(),text:"RichText datatype",completed:!1}]};function aR(){const{root:i,dispatch:e,loading:a,error:r}=nR(iR);return a?Ce.jsx("div",{children:"Loading..."}):r?Ce.jsxs("div",{children:["Error: ",r.message]}):Ce.jsxs("div",{className:"App",children:[Ce.jsx(_A,{dispatch:e}),Ce.jsx(JA,{todos:i.todos,dispatch:e})]})}zA.createRoot(document.getElementById("root")).render(Ce.jsx(Ke.StrictMode,{children:Ce.jsx(aR,{})}));
