var fS=Object.defineProperty;var hS=(e,t,n)=>t in e?fS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var u=(e,t,n)=>hS(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function ny(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var iy={exports:{}},Iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dS=Symbol.for("react.transitional.element"),gS=Symbol.for("react.fragment");function ry(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:dS,type:e,key:i,ref:t!==void 0?t:null,props:n}}Iu.Fragment=gS;Iu.jsx=ry;Iu.jsxs=ry;iy.exports=Iu;var F=iy.exports,ay={exports:{}},Mu={},sy={exports:{}},oy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,G){var P=I.length;I.push(G);t:for(;0<P;){var bt=P-1>>>1,Mt=I[bt];if(0<r(Mt,G))I[bt]=G,I[P]=Mt,P=bt;else break t}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var G=I[0],P=I.pop();if(P!==G){I[0]=P;t:for(var bt=0,Mt=I.length,jo=Mt>>>1;bt<jo;){var Po=2*(bt+1)-1,rc=I[Po],Br=Po+1,Go=I[Br];if(0>r(rc,P))Br<Mt&&0>r(Go,rc)?(I[bt]=Go,I[Br]=P,bt=Br):(I[bt]=rc,I[Po]=P,bt=Po);else if(Br<Mt&&0>r(Go,P))I[bt]=Go,I[Br]=P,bt=Br;else break t}}return G}function r(I,G){var P=I.sortIndex-G.sortIndex;return P!==0?P:I.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],h=1,d=null,g=3,m=!1,T=!1,w=!1,C=!1,p=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function b(I){for(var G=n(c);G!==null;){if(G.callback===null)i(c);else if(G.startTime<=I)i(c),G.sortIndex=G.expirationTime,t(l,G);else break;G=n(c)}}function N(I){if(w=!1,b(I),!T)if(n(l)!==null)T=!0,k||(k=!0,oe());else{var G=n(c);G!==null&&ic(N,G.startTime-I)}}var k=!1,O=-1,B=5,Z=-1;function J(){return C?!0:!(e.unstable_now()-Z<B)}function Ct(){if(C=!1,k){var I=e.unstable_now();Z=I;var G=!0;try{t:{T=!1,w&&(w=!1,y(O),O=-1),m=!0;var P=g;try{e:{for(b(I),d=n(l);d!==null&&!(d.expirationTime>I&&J());){var bt=d.callback;if(typeof bt=="function"){d.callback=null,g=d.priorityLevel;var Mt=bt(d.expirationTime<=I);if(I=e.unstable_now(),typeof Mt=="function"){d.callback=Mt,b(I),G=!0;break e}d===n(l)&&i(l),b(I)}else i(l);d=n(l)}if(d!==null)G=!0;else{var jo=n(c);jo!==null&&ic(N,jo.startTime-I),G=!1}}break t}finally{d=null,g=P,m=!1}G=void 0}}finally{G?oe():k=!1}}}var oe;if(typeof v=="function")oe=function(){v(Ct)};else if(typeof MessageChannel<"u"){var Vd=new MessageChannel,cS=Vd.port2;Vd.port1.onmessage=Ct,oe=function(){cS.postMessage(null)}}else oe=function(){p(Ct,0)};function ic(I,G){O=p(function(){I(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(I){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var P=g;g=G;try{return I()}finally{g=P}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(I,G){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var P=g;g=I;try{return G()}finally{g=P}},e.unstable_scheduleCallback=function(I,G,P){var bt=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?bt+P:bt):P=bt,I){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=P+Mt,I={id:h++,callback:G,priorityLevel:I,startTime:P,expirationTime:Mt,sortIndex:-1},P>bt?(I.sortIndex=P,t(c,I),n(l)===null&&I===n(c)&&(w?(y(O),O=-1):w=!0,ic(N,P-bt))):(I.sortIndex=Mt,t(l,I),T||m||(T=!0,k||(k=!0,oe()))),I},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(I){var G=g;return function(){var P=g;g=G;try{return I.apply(this,arguments)}finally{g=P}}}})(oy);sy.exports=oy;var mS=sy.exports,ly={exports:{}},V={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh=Symbol.for("react.transitional.element"),yS=Symbol.for("react.portal"),pS=Symbol.for("react.fragment"),vS=Symbol.for("react.strict_mode"),SS=Symbol.for("react.profiler"),TS=Symbol.for("react.consumer"),bS=Symbol.for("react.context"),AS=Symbol.for("react.forward_ref"),wS=Symbol.for("react.suspense"),ES=Symbol.for("react.memo"),uy=Symbol.for("react.lazy"),jd=Symbol.iterator;function NS(e){return e===null||typeof e!="object"?null:(e=jd&&e[jd]||e["@@iterator"],typeof e=="function"?e:null)}var cy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fy=Object.assign,hy={};function ls(e,t,n){this.props=e,this.context=t,this.refs=hy,this.updater=n||cy}ls.prototype.isReactComponent={};ls.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ls.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dy(){}dy.prototype=ls.prototype;function Th(e,t,n){this.props=e,this.context=t,this.refs=hy,this.updater=n||cy}var bh=Th.prototype=new dy;bh.constructor=Th;fy(bh,ls.prototype);bh.isPureReactComponent=!0;var Pd=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},gy=Object.prototype.hasOwnProperty;function Ah(e,t,n,i,r,a){return n=a.ref,{$$typeof:Sh,type:e,key:t,ref:n!==void 0?n:null,props:a}}function xS(e,t){return Ah(e.type,t,void 0,void 0,void 0,e.props)}function wh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sh}function OS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Gd=/\/+/g;function ac(e,t){return typeof e=="object"&&e!==null&&e.key!=null?OS(""+e.key):t.toString(36)}function Yd(){}function DS(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Yd,Yd):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ha(e,t,n,i,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Sh:case yS:s=!0;break;case uy:return s=e._init,ha(s(e._payload),t,n,i,r)}}if(s)return r=r(e),s=i===""?"."+ac(e,0):i,Pd(r)?(n="",s!=null&&(n=s.replace(Gd,"$&/")+"/"),ha(r,t,n,"",function(c){return c})):r!=null&&(wh(r)&&(r=xS(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(Gd,"$&/")+"/")+s)),t.push(r)),1;s=0;var o=i===""?".":i+":";if(Pd(e))for(var l=0;l<e.length;l++)i=e[l],a=o+ac(i,l),s+=ha(i,t,n,a,r);else if(l=NS(e),typeof l=="function")for(e=l.call(e),l=0;!(i=e.next()).done;)i=i.value,a=o+ac(i,l++),s+=ha(i,t,n,a,r);else if(a==="object"){if(typeof e.then=="function")return ha(DS(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Yo(e,t,n){if(e==null)return e;var i=[],r=0;return ha(e,i,"","",function(a){return t.call(n,a,r++)}),i}function CS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Kd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function RS(){}V.Children={map:Yo,forEach:function(e,t,n){Yo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yo(e,function(){t++}),t},toArray:function(e){return Yo(e,function(t){return t})||[]},only:function(e){if(!wh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=ls;V.Fragment=pS;V.Profiler=SS;V.PureComponent=Th;V.StrictMode=vS;V.Suspense=wS;V.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht;V.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ht.H.useMemoCache(e)}};V.cache=function(e){return function(){return e.apply(null,arguments)}};V.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=fy({},e.props),r=e.key,a=void 0;if(t!=null)for(s in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(r=""+t.key),t)!gy.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(i[s]=t[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}return Ah(e.type,r,void 0,void 0,a,i)};V.createContext=function(e){return e={$$typeof:bS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:TS,_context:e},e};V.createElement=function(e,t,n){var i,r={},a=null;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)gy.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];r.children=o}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)r[i]===void 0&&(r[i]=s[i]);return Ah(e,a,void 0,void 0,null,r)};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:AS,render:e}};V.isValidElement=wh;V.lazy=function(e){return{$$typeof:uy,_payload:{_status:-1,_result:e},_init:CS}};V.memo=function(e,t){return{$$typeof:ES,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=ht.T,n={};ht.T=n;try{var i=e(),r=ht.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(RS,Kd)}catch(a){Kd(a)}finally{ht.T=t}};V.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()};V.use=function(e){return ht.H.use(e)};V.useActionState=function(e,t,n){return ht.H.useActionState(e,t,n)};V.useCallback=function(e,t){return ht.H.useCallback(e,t)};V.useContext=function(e){return ht.H.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e,t){return ht.H.useDeferredValue(e,t)};V.useEffect=function(e,t,n){var i=ht.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};V.useId=function(){return ht.H.useId()};V.useImperativeHandle=function(e,t,n){return ht.H.useImperativeHandle(e,t,n)};V.useInsertionEffect=function(e,t){return ht.H.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return ht.H.useLayoutEffect(e,t)};V.useMemo=function(e,t){return ht.H.useMemo(e,t)};V.useOptimistic=function(e,t){return ht.H.useOptimistic(e,t)};V.useReducer=function(e,t,n){return ht.H.useReducer(e,t,n)};V.useRef=function(e){return ht.H.useRef(e)};V.useState=function(e){return ht.H.useState(e)};V.useSyncExternalStore=function(e,t,n){return ht.H.useSyncExternalStore(e,t,n)};V.useTransition=function(){return ht.H.useTransition()};V.version="19.1.0";ly.exports=V;var yt=ly.exports,my={exports:{}},_t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kS=yt;function yy(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zi(){}var Qt={d:{f:Zi,r:function(){throw Error(yy(522))},D:Zi,C:Zi,L:Zi,m:Zi,X:Zi,S:Zi,M:Zi},p:0,findDOMNode:null},BS=Symbol.for("react.portal");function IS(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:BS,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Rs=kS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Uu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}_t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Qt;_t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(yy(299));return IS(e,t,null,n)};_t.flushSync=function(e){var t=Rs.T,n=Qt.p;try{if(Rs.T=null,Qt.p=2,e)return e()}finally{Rs.T=t,Qt.p=n,Qt.d.f()}};_t.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Qt.d.C(e,t))};_t.prefetchDNS=function(e){typeof e=="string"&&Qt.d.D(e)};_t.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Uu(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Qt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):n==="script"&&Qt.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};_t.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Uu(t.as,t.crossOrigin);Qt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Qt.d.M(e)};_t.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Uu(n,t.crossOrigin);Qt.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};_t.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Uu(t.as,t.crossOrigin);Qt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Qt.d.m(e)};_t.requestFormReset=function(e){Qt.d.r(e)};_t.unstable_batchedUpdates=function(e,t){return e(t)};_t.useFormState=function(e,t,n){return Rs.H.useFormState(e,t,n)};_t.useFormStatus=function(){return Rs.H.useHostTransitionStatus()};_t.version="19.1.0";function py(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(py)}catch(e){console.error(e)}}py(),my.exports=_t;var MS=my.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var It=mS,vy=yt,US=MS;function x(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Sy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ty(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $d(e){if(bo(e)!==e)throw Error(x(188))}function zS(e){var t=e.alternate;if(!t){if(t=bo(e),t===null)throw Error(x(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return $d(r),e;if(a===i)return $d(r),t;a=a.sibling}throw Error(x(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,o=r.child;o;){if(o===n){s=!0,n=r,i=a;break}if(o===i){s=!0,i=r,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,i=r;break}if(o===i){s=!0,i=a,n=r;break}o=o.sibling}if(!s)throw Error(x(189))}}if(n.alternate!==i)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?e:t}function by(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=by(e),t!==null)return t;e=e.sibling}return null}var ut=Object.assign,LS=Symbol.for("react.element"),Ko=Symbol.for("react.transitional.element"),Ns=Symbol.for("react.portal"),pa=Symbol.for("react.fragment"),Ay=Symbol.for("react.strict_mode"),Zc=Symbol.for("react.profiler"),qS=Symbol.for("react.provider"),wy=Symbol.for("react.consumer"),Ci=Symbol.for("react.context"),Eh=Symbol.for("react.forward_ref"),Qc=Symbol.for("react.suspense"),_c=Symbol.for("react.suspense_list"),Nh=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),Fc=Symbol.for("react.activity"),JS=Symbol.for("react.memo_cache_sentinel"),Xd=Symbol.iterator;function ms(e){return e===null||typeof e!="object"?null:(e=Xd&&e[Xd]||e["@@iterator"],typeof e=="function"?e:null)}var HS=Symbol.for("react.client.reference");function Wc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===HS?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pa:return"Fragment";case Zc:return"Profiler";case Ay:return"StrictMode";case Qc:return"Suspense";case _c:return"SuspenseList";case Fc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ns:return"Portal";case Ci:return(e.displayName||"Context")+".Provider";case wy:return(e._context.displayName||"Context")+".Consumer";case Eh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nh:return t=e.displayName||null,t!==null?t:Wc(e.type)||"Memo";case nr:t=e._payload,e=e._init;try{return Wc(e(t))}catch{}}return null}var xs=Array.isArray,q=vy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=US.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Vr={pending:!1,data:null,method:null,action:null},tf=[],va=-1;function An(e){return{current:e}}function qt(e){0>va||(e.current=tf[va],tf[va]=null,va--)}function dt(e,t){va++,tf[va]=e.current,e.current=t}var pn=An(null),Qs=An(null),dr=An(null),Bl=An(null);function Il(e,t){switch(dt(dr,t),dt(Qs,e),dt(pn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wg(t),e=Hv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}qt(pn),dt(pn,e)}function ja(){qt(pn),qt(Qs),qt(dr)}function ef(e){e.memoizedState!==null&&dt(Bl,e);var t=pn.current,n=Hv(t,e.type);t!==n&&(dt(Qs,e),dt(pn,n))}function Ml(e){Qs.current===e&&(qt(pn),qt(Qs)),Bl.current===e&&(qt(Bl),so._currentValue=Vr)}var nf=Object.prototype.hasOwnProperty,xh=It.unstable_scheduleCallback,sc=It.unstable_cancelCallback,VS=It.unstable_shouldYield,jS=It.unstable_requestPaint,vn=It.unstable_now,PS=It.unstable_getCurrentPriorityLevel,Ey=It.unstable_ImmediatePriority,Ny=It.unstable_UserBlockingPriority,Ul=It.unstable_NormalPriority,GS=It.unstable_LowPriority,xy=It.unstable_IdlePriority,YS=It.log,KS=It.unstable_setDisableYieldValue,Ao=null,ge=null;function lr(e){if(typeof YS=="function"&&KS(e),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(Ao,e)}catch{}}var me=Math.clz32?Math.clz32:ZS,$S=Math.log,XS=Math.LN2;function ZS(e){return e>>>=0,e===0?32:31-($S(e)/XS|0)|0}var $o=256,Xo=4194304;function Mr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function zu(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~a,i!==0?r=Mr(i):(s&=o,s!==0?r=Mr(s):n||(n=o&~e,n!==0&&(r=Mr(n))))):(o=i&~a,o!==0?r=Mr(o):s!==0?r=Mr(s):n||(n=i&~e,n!==0&&(r=Mr(n)))),r===0?0:t!==0&&t!==r&&!(t&a)&&(a=r&-r,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:r}function wo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function QS(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oy(){var e=$o;return $o<<=1,!($o&4194048)&&($o=256),e}function Dy(){var e=Xo;return Xo<<=1,!(Xo&62914560)&&(Xo=4194304),e}function oc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Eo(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _S(e,t,n,i,r,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var h=31-me(n),d=1<<h;o[h]=0,l[h]=-1;var g=c[h];if(g!==null)for(c[h]=null,h=0;h<g.length;h++){var m=g[h];m!==null&&(m.lane&=-536870913)}n&=~d}i!==0&&Cy(e,i,0),a!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=a&~(s&~t))}function Cy(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-me(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function Ry(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-me(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Oh(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Dh(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function ky(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:Qv(e.type))}function FS(e,t){var n=tt.p;try{return tt.p=e,t()}finally{tt.p=n}}var Rr=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Rr,re="__reactProps$"+Rr,us="__reactContainer$"+Rr,rf="__reactEvents$"+Rr,WS="__reactListeners$"+Rr,tT="__reactHandles$"+Rr,Zd="__reactResources$"+Rr,No="__reactMarker$"+Rr;function Ch(e){delete e[Yt],delete e[re],delete e[rf],delete e[WS],delete e[tT]}function Sa(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[us]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nm(e);e!==null;){if(n=e[Yt])return n;e=nm(e)}return t}e=n,n=e.parentNode}return null}function cs(e){if(e=e[Yt]||e[us]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Os(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(x(33))}function ka(e){var t=e[Zd];return t||(t=e[Zd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function zt(e){e[No]=!0}var By=new Set,Iy={};function ia(e,t){Pa(e,t),Pa(e+"Capture",t)}function Pa(e,t){for(Iy[e]=t,e=0;e<t.length;e++)By.add(t[e])}var eT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qd={},_d={};function nT(e){return nf.call(_d,e)?!0:nf.call(Qd,e)?!1:eT.test(e)?_d[e]=!0:(Qd[e]=!0,!1)}function hl(e,t,n){if(nT(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Zo(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function En(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var lc,Fd;function da(e){if(lc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);lc=t&&t[1]||"",Fd=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lc+e+Fd}var uc=!1;function cc(e,t){if(!e||uc)return"";uc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(m){var g=m}Reflect.construct(e,[],d)}else{try{d.call()}catch(m){g=m}e.call(d.prototype)}}else{try{throw Error()}catch(m){g=m}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(m){if(m&&g&&typeof m.stack=="string")return[m.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),c=o.split(`
`);for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||l[i]!==c[r]){var h=`
`+l[i].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=i&&0<=r);break}}}finally{uc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?da(n):""}function iT(e){switch(e.tag){case 26:case 27:case 5:return da(e.type);case 16:return da("Lazy");case 13:return da("Suspense");case 19:return da("SuspenseList");case 0:case 15:return cc(e.type,!1);case 11:return cc(e.type.render,!1);case 1:return cc(e.type,!0);case 31:return da("Activity");default:return""}}function Wd(e){try{var t="";do t+=iT(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ae(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function My(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rT(e){var t=My(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zl(e){e._valueTracker||(e._valueTracker=rT(e))}function Uy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=My(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Ll(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var aT=/[\n"\\]/g;function Ue(e){return e.replace(aT,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function af(e,t,n,i,r,a,s,o){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ae(t)):e.value!==""+Ae(t)&&(e.value=""+Ae(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?sf(e,s,Ae(t)):n!=null?sf(e,s,Ae(n)):i!=null&&e.removeAttribute("value"),r==null&&a!=null&&(e.defaultChecked=!!a),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Ae(o):e.removeAttribute("name")}function zy(e,t,n,i,r,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;n=n!=null?""+Ae(n):"",t=t!=null?""+Ae(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s)}function sf(e,t,n){t==="number"&&Ll(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ba(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ae(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Ly(e,t,n){if(t!=null&&(t=""+Ae(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ae(n):""}function qy(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(x(92));if(xs(i)){if(1<i.length)throw Error(x(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Ae(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function Ga(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tg(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||sT.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Jy(e,t,n){if(t!=null&&typeof t!="object")throw Error(x(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&tg(e,r,i)}else for(var a in t)t.hasOwnProperty(a)&&tg(e,a,t[a])}function Rh(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dl(e){return lT.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var of=null;function kh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ta=null,Ia=null;function eg(e){var t=cs(e);if(t&&(e=t.stateNode)){var n=e[re]||null;t:switch(e=t.stateNode,t.type){case"input":if(af(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ue(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[re]||null;if(!r)throw Error(x(90));af(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Uy(i)}break t;case"textarea":Ly(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Ba(e,!!n.multiple,t,!1)}}}var fc=!1;function Hy(e,t,n){if(fc)return e(t,n);fc=!0;try{var i=e(t);return i}finally{if(fc=!1,(Ta!==null||Ia!==null)&&(Ku(),Ta&&(t=Ta,e=Ia,Ia=Ta=null,eg(t),e)))for(t=0;t<e.length;t++)eg(e[t])}}function _s(e,t){var n=e.stateNode;if(n===null)return null;var i=n[re]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(x(231,t,typeof n));return n}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lf=!1;if(Vi)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){lf=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{lf=!1}var ur=null,Bh=null,gl=null;function Vy(){if(gl)return gl;var e,t=Bh,n=t.length,i,r="value"in ur?ur.value:ur.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===r[a-i];i++);return gl=r.slice(e,1<i?1-i:void 0)}function ml(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qo(){return!0}function ng(){return!1}function se(e){function t(n,i,r,a,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Qo:ng,this.isPropagationStopped=ng,this}return ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),t}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lu=se(ra),xo=ut({},ra,{view:0,detail:0}),uT=se(xo),hc,dc,ps,qu=ut({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ih,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ps&&(ps&&e.type==="mousemove"?(hc=e.screenX-ps.screenX,dc=e.screenY-ps.screenY):dc=hc=0,ps=e),hc)},movementY:function(e){return"movementY"in e?e.movementY:dc}}),ig=se(qu),cT=ut({},qu,{dataTransfer:0}),fT=se(cT),hT=ut({},xo,{relatedTarget:0}),gc=se(hT),dT=ut({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),gT=se(dT),mT=ut({},ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yT=se(mT),pT=ut({},ra,{data:0}),rg=se(pT),vT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ST={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TT[e])?!!t[e]:!1}function Ih(){return bT}var AT=ut({},xo,{key:function(e){if(e.key){var t=vT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ST[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ih,charCode:function(e){return e.type==="keypress"?ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wT=se(AT),ET=ut({},qu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ag=se(ET),NT=ut({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ih}),xT=se(NT),OT=ut({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),DT=se(OT),CT=ut({},qu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RT=se(CT),kT=ut({},ra,{newState:0,oldState:0}),BT=se(kT),IT=[9,13,27,32],Mh=Vi&&"CompositionEvent"in window,ks=null;Vi&&"documentMode"in document&&(ks=document.documentMode);var MT=Vi&&"TextEvent"in window&&!ks,jy=Vi&&(!Mh||ks&&8<ks&&11>=ks),sg=" ",og=!1;function Py(e,t){switch(e){case"keyup":return IT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ba=!1;function UT(e,t){switch(e){case"compositionend":return Gy(t);case"keypress":return t.which!==32?null:(og=!0,sg);case"textInput":return e=t.data,e===sg&&og?null:e;default:return null}}function zT(e,t){if(ba)return e==="compositionend"||!Mh&&Py(e,t)?(e=Vy(),gl=Bh=ur=null,ba=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jy&&t.locale!=="ko"?null:t.data;default:return null}}var LT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LT[e.type]:t==="textarea"}function Yy(e,t,n,i){Ta?Ia?Ia.push(i):Ia=[i]:Ta=i,t=eu(t,"onChange"),0<t.length&&(n=new Lu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Bs=null,Fs=null;function qT(e){Lv(e,0)}function Ju(e){var t=Os(e);if(Uy(t))return e}function ug(e,t){if(e==="change")return t}var Ky=!1;if(Vi){var mc;if(Vi){var yc="oninput"in document;if(!yc){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),yc=typeof cg.oninput=="function"}mc=yc}else mc=!1;Ky=mc&&(!document.documentMode||9<document.documentMode)}function fg(){Bs&&(Bs.detachEvent("onpropertychange",$y),Fs=Bs=null)}function $y(e){if(e.propertyName==="value"&&Ju(Fs)){var t=[];Yy(t,Fs,e,kh(e)),Hy(qT,t)}}function JT(e,t,n){e==="focusin"?(fg(),Bs=t,Fs=n,Bs.attachEvent("onpropertychange",$y)):e==="focusout"&&fg()}function HT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ju(Fs)}function VT(e,t){if(e==="click")return Ju(t)}function jT(e,t){if(e==="input"||e==="change")return Ju(t)}function PT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Te=typeof Object.is=="function"?Object.is:PT;function Ws(e,t){if(Te(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!nf.call(t,r)||!Te(e[r],t[r]))return!1}return!0}function hg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dg(e,t){var n=hg(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=hg(n)}}function Xy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ll(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ll(e.document)}return t}function Uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var GT=Vi&&"documentMode"in document&&11>=document.documentMode,Aa=null,uf=null,Is=null,cf=!1;function gg(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cf||Aa==null||Aa!==Ll(i)||(i=Aa,"selectionStart"in i&&Uh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Is&&Ws(Is,i)||(Is=i,i=eu(uf,"onSelect"),0<i.length&&(t=new Lu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Aa)))}function Ir(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wa={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},pc={},Qy={};Vi&&(Qy=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function aa(e){if(pc[e])return pc[e];if(!wa[e])return e;var t=wa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qy)return pc[e]=t[n];return e}var _y=aa("animationend"),Fy=aa("animationiteration"),Wy=aa("animationstart"),YT=aa("transitionrun"),KT=aa("transitionstart"),$T=aa("transitioncancel"),tp=aa("transitionend"),ep=new Map,ff="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ff.push("scrollEnd");function tn(e,t){ep.set(e,t),ia(t,[e])}var mg=new WeakMap;function ze(e,t){if(typeof e=="object"&&e!==null){var n=mg.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Wd(t)},mg.set(e,t),t)}return{value:e,source:t,stack:Wd(t)}}var be=[],Ea=0,zh=0;function Hu(){for(var e=Ea,t=zh=Ea=0;t<e;){var n=be[t];be[t++]=null;var i=be[t];be[t++]=null;var r=be[t];be[t++]=null;var a=be[t];if(be[t++]=null,i!==null&&r!==null){var s=i.pending;s===null?r.next=r:(r.next=s.next,s.next=r),i.pending=r}a!==0&&np(n,r,a)}}function Vu(e,t,n,i){be[Ea++]=e,be[Ea++]=t,be[Ea++]=n,be[Ea++]=i,zh|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Lh(e,t,n,i){return Vu(e,t,n,i),ql(e)}function fs(e,t){return Vu(e,null,null,t),ql(e)}function np(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,a=e.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(r=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,r&&t!==null&&(r=31-me(n),e=a.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),a):null}function ql(e){if(50<Ps)throw Ps=0,Bf=null,Error(x(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Na={};function XT(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fe(e,t,n,i){return new XT(e,t,n,i)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,t){var n=e.alternate;return n===null?(n=fe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ip(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function yl(e,t,n,i,r,a){var s=0;if(i=e,typeof e=="function")qh(e)&&(s=1);else if(typeof e=="string")s=Qb(e,n,pn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Fc:return e=fe(31,n,t,r),e.elementType=Fc,e.lanes=a,e;case pa:return jr(n.children,r,a,t);case Ay:s=8,r|=24;break;case Zc:return e=fe(12,n,t,r|2),e.elementType=Zc,e.lanes=a,e;case Qc:return e=fe(13,n,t,r),e.elementType=Qc,e.lanes=a,e;case _c:return e=fe(19,n,t,r),e.elementType=_c,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qS:case Ci:s=10;break t;case wy:s=9;break t;case Eh:s=11;break t;case Nh:s=14;break t;case nr:s=16,i=null;break t}s=29,n=Error(x(130,e===null?"null":typeof e,"")),i=null}return t=fe(s,n,t,r),t.elementType=e,t.type=i,t.lanes=a,t}function jr(e,t,n,i){return e=fe(7,e,i,t),e.lanes=n,e}function vc(e,t,n){return e=fe(6,e,null,t),e.lanes=n,e}function Sc(e,t,n){return t=fe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xa=[],Oa=0,Jl=null,Hl=0,we=[],Ee=0,Pr=null,Ri=1,ki="";function Ur(e,t){xa[Oa++]=Hl,xa[Oa++]=Jl,Jl=e,Hl=t}function rp(e,t,n){we[Ee++]=Ri,we[Ee++]=ki,we[Ee++]=Pr,Pr=e;var i=Ri;e=ki;var r=32-me(i)-1;i&=~(1<<r),n+=1;var a=32-me(t)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Ri=1<<32-me(t)+r|n<<r|i,ki=a+e}else Ri=1<<a|n<<r|i,ki=e}function Jh(e){e.return!==null&&(Ur(e,1),rp(e,1,0))}function Hh(e){for(;e===Jl;)Jl=xa[--Oa],xa[Oa]=null,Hl=xa[--Oa],xa[Oa]=null;for(;e===Pr;)Pr=we[--Ee],we[Ee]=null,ki=we[--Ee],we[Ee]=null,Ri=we[--Ee],we[Ee]=null}var Zt=null,pt=null,W=!1,Gr=null,an=!1,hf=Error(x(519));function Qr(e){var t=Error(x(418,""));throw to(ze(t,e)),hf}function yg(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Yt]=e,t[re]=i,n){case"dialog":Y("cancel",t),Y("close",t);break;case"iframe":case"object":case"embed":Y("load",t);break;case"video":case"audio":for(n=0;n<io.length;n++)Y(io[n],t);break;case"source":Y("error",t);break;case"img":case"image":case"link":Y("error",t),Y("load",t);break;case"details":Y("toggle",t);break;case"input":Y("invalid",t),zy(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),zl(t);break;case"select":Y("invalid",t);break;case"textarea":Y("invalid",t),qy(t,i.value,i.defaultValue,i.children),zl(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Jv(t.textContent,n)?(i.popover!=null&&(Y("beforetoggle",t),Y("toggle",t)),i.onScroll!=null&&Y("scroll",t),i.onScrollEnd!=null&&Y("scrollend",t),i.onClick!=null&&(t.onclick=Zu),t=!0):t=!1,t||Qr(e)}function pg(e){for(Zt=e.return;Zt;)switch(Zt.tag){case 5:case 13:an=!1;return;case 27:case 3:an=!0;return;default:Zt=Zt.return}}function vs(e){if(e!==Zt)return!1;if(!W)return pg(e),W=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||qf(e.type,e.memoizedProps)),n=!n),n&&pt&&Qr(e),pg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(x(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){pt=Qe(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}pt=null}}else t===27?(t=pt,kr(e.type)?(e=Vf,Vf=null,pt=e):pt=t):pt=Zt?Qe(e.stateNode.nextSibling):null;return!0}function Oo(){pt=Zt=null,W=!1}function vg(){var e=Gr;return e!==null&&(te===null?te=e:te.push.apply(te,e),Gr=null),e}function to(e){Gr===null?Gr=[e]:Gr.push(e)}var df=An(null),sa=null,Bi=null;function rr(e,t,n){dt(df,t._currentValue),t._currentValue=n}function qi(e){e._currentValue=df.current,qt(df)}function gf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function mf(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){var s=r.child;a=a.firstContext;t:for(;a!==null;){var o=a;a=r;for(var l=0;l<t.length;l++)if(o.context===t[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),gf(a.return,n,e),i||(s=null);break t}a=o.next}}else if(r.tag===18){if(s=r.return,s===null)throw Error(x(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),gf(s,n,e),s=null}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===e){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}}function Do(e,t,n,i){e=null;for(var r=t,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var s=r.alternate;if(s===null)throw Error(x(387));if(s=s.memoizedProps,s!==null){var o=r.type;Te(r.pendingProps.value,s.value)||(e!==null?e.push(o):e=[o])}}else if(r===Bl.current){if(s=r.alternate,s===null)throw Error(x(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(so):e=[so])}r=r.return}e!==null&&mf(t,e,n,i),t.flags|=262144}function Vl(e){for(e=e.firstContext;e!==null;){if(!Te(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _r(e){sa=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Kt(e){return ap(sa,e)}function _o(e,t){return sa===null&&_r(e),ap(e,t)}function ap(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Bi===null){if(e===null)throw Error(x(308));Bi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Bi=Bi.next=t;return n}var ZT=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},QT=It.unstable_scheduleCallback,_T=It.unstable_NormalPriority,kt={$$typeof:Ci,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vh(){return{controller:new ZT,data:new Map,refCount:0}}function Co(e){e.refCount--,e.refCount===0&&QT(_T,function(){e.controller.abort()})}var Ms=null,yf=0,Ya=0,Ma=null;function FT(e,t){if(Ms===null){var n=Ms=[];yf=0,Ya=cd(),Ma={status:"pending",value:void 0,then:function(i){n.push(i)}}}return yf++,t.then(Sg,Sg),t}function Sg(){if(--yf===0&&Ms!==null){Ma!==null&&(Ma.status="fulfilled");var e=Ms;Ms=null,Ya=0,Ma=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function WT(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Tg=q.S;q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&FT(e,t),Tg!==null&&Tg(e,t)};var Yr=An(null);function jh(){var e=Yr.current;return e!==null?e:lt.pooledCache}function pl(e,t){t===null?dt(Yr,Yr.current):dt(Yr,t.pool)}function sp(){var e=jh();return e===null?null:{parent:kt._currentValue,pool:e}}var Ro=Error(x(460)),op=Error(x(474)),ju=Error(x(542)),pf={then:function(){}};function bg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fo(){}function lp(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Fo,Fo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wg(e),e;default:if(typeof t.status=="string")t.then(Fo,Fo);else{if(e=lt,e!==null&&100<e.shellSuspendCounter)throw Error(x(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wg(e),e}throw Us=t,Ro}}var Us=null;function Ag(){if(Us===null)throw Error(x(459));var e=Us;return Us=null,e}function wg(e){if(e===Ro||e===ju)throw Error(x(483))}var ir=!1;function Ph(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function gr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function mr(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,it&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=ql(e),np(e,null,n),t}return Vu(e,i,t,n),ql(e)}function zs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Ry(e,n)}}function Tc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?r=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Sf=!1;function Ls(){if(Sf){var e=Ma;if(e!==null)throw e}}function qs(e,t,n,i){Sf=!1;var r=e.updateQueue;ir=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==s&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(a!==null){var d=r.baseState;s=0,h=c=l=null,o=a;do{var g=o.lane&-536870913,m=g!==o.lane;if(m?(Q&g)===g:(i&g)===g){g!==0&&g===Ya&&(Sf=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var T=e,w=o;g=t;var C=n;switch(w.tag){case 1:if(T=w.payload,typeof T=="function"){d=T.call(C,d,g);break t}d=T;break t;case 3:T.flags=T.flags&-65537|128;case 0:if(T=w.payload,g=typeof T=="function"?T.call(C,d,g):T,g==null)break t;d=ut({},d,g);break t;case 2:ir=!0}}g=o.callback,g!==null&&(e.flags|=64,m&&(e.flags|=8192),m=r.callbacks,m===null?r.callbacks=[g]:m.push(g))}else m={lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=m,l=d):h=h.next=m,s|=g;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;m=o,o=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,a===null&&(r.shared.lanes=0),xr|=s,e.lanes=s,e.memoizedState=d}}function up(e,t){if(typeof e!="function")throw Error(x(191,e));e.call(t)}function cp(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)up(n[e],t)}var Ka=An(null),jl=An(0);function Eg(e,t){e=Gi,dt(jl,e),dt(Ka,t),Gi=e|t.baseLanes}function Tf(){dt(jl,Gi),dt(Ka,Ka.current)}function Gh(){Gi=jl.current,qt(Ka),qt(jl)}var Er=0,j=null,at=null,Ot=null,Pl=!1,Ua=!1,Fr=!1,Gl=0,eo=0,za=null,tb=0;function At(){throw Error(x(321))}function Yh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Te(e[n],t[n]))return!1;return!0}function Kh(e,t,n,i,r,a){return Er=a,j=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?Vp:jp,Fr=!1,a=n(i,r),Fr=!1,Ua&&(a=hp(t,n,i,r)),fp(e),a}function fp(e){q.H=Yl;var t=at!==null&&at.next!==null;if(Er=0,Ot=at=j=null,Pl=!1,eo=0,za=null,t)throw Error(x(300));e===null||Lt||(e=e.dependencies,e!==null&&Vl(e)&&(Lt=!0))}function hp(e,t,n,i){j=e;var r=0;do{if(Ua&&(za=null),eo=0,Ua=!1,25<=r)throw Error(x(301));if(r+=1,Ot=at=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}q.H=ob,a=t(n,i)}while(Ua);return a}function eb(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?ko(t):t,e=e.useState()[0],(at!==null?at.memoizedState:null)!==e&&(j.flags|=1024),t}function $h(){var e=Gl!==0;return Gl=0,e}function Xh(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Zh(e){if(Pl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Pl=!1}Er=0,Ot=at=j=null,Ua=!1,eo=Gl=0,za=null}function Ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?j.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function Dt(){if(at===null){var e=j.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=Ot===null?j.memoizedState:Ot.next;if(t!==null)Ot=t,at=e;else{if(e===null)throw j.alternate===null?Error(x(467)):Error(x(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Ot===null?j.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function Qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(e){var t=eo;return eo+=1,za===null&&(za=[]),e=lp(za,e,t),t=j,(Ot===null?t.memoizedState:Ot.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?Vp:jp),e}function Pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ko(e);if(e.$$typeof===Ci)return Kt(e)}throw Error(x(438,String(e)))}function _h(e){var t=null,n=j.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=j.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Qh(),j.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=JS;return t.index++,n}function ji(e,t){return typeof t=="function"?t(e):t}function vl(e){var t=Dt();return Fh(t,at,e)}function Fh(e,t,n){var i=e.queue;if(i===null)throw Error(x(311));i.lastRenderedReducer=n;var r=e.baseQueue,a=i.pending;if(a!==null){if(r!==null){var s=r.next;r.next=a.next,a.next=s}t.baseQueue=r=a,i.pending=null}if(a=e.baseState,r===null)e.memoizedState=a;else{t=r.next;var o=s=null,l=null,c=t,h=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(Q&d)===d:(Er&d)===d){var g=c.revertLane;if(g===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Ya&&(h=!0);else if((Er&g)===g){c=c.next,g===Ya&&(h=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,s=a):l=l.next=d,j.lanes|=g,xr|=g;d=c.action,Fr&&n(a,d),a=c.hasEagerState?c.eagerState:n(a,d)}else g={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=g,s=a):l=l.next=g,j.lanes|=d,xr|=d;c=c.next}while(c!==null&&c!==t);if(l===null?s=a:l.next=o,!Te(a,e.memoizedState)&&(Lt=!0,h&&(n=Ma,n!==null)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=l,i.lastRenderedState=a}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function bc(e){var t=Dt(),n=t.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do a=e(a,s.action),s=s.next;while(s!==r);Te(a,t.memoizedState)||(Lt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function dp(e,t,n){var i=j,r=Dt(),a=W;if(a){if(n===void 0)throw Error(x(407));n=n()}else n=t();var s=!Te((at||r).memoizedState,n);s&&(r.memoizedState=n,Lt=!0),r=r.queue;var o=yp.bind(null,i,r,e);if(Bo(2048,8,o,[e]),r.getSnapshot!==t||s||Ot!==null&&Ot.memoizedState.tag&1){if(i.flags|=2048,$a(9,Gu(),mp.bind(null,i,r,n,t),null),lt===null)throw Error(x(349));a||Er&124||gp(i,t,n)}return n}function gp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=j.updateQueue,t===null?(t=Qh(),j.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mp(e,t,n,i){t.value=n,t.getSnapshot=i,pp(t)&&vp(e)}function yp(e,t,n){return n(function(){pp(t)&&vp(e)})}function pp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Te(e,n)}catch{return!0}}function vp(e){var t=fs(e,2);t!==null&&pe(t,e,2)}function bf(e){var t=Ft();if(typeof e=="function"){var n=e;if(e=n(),Fr){lr(!0);try{n()}finally{lr(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},t}function Sp(e,t,n,i){return e.baseState=n,Fh(e,at,typeof i=="function"?i:ji)}function nb(e,t,n,i,r){if(Yu(e))throw Error(x(485));if(e=t.action,e!==null){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};q.T!==null?n(!0):a.isTransition=!1,i(a),n=t.pending,n===null?(a.next=t.pending=a,Tp(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Tp(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=q.T,s={};q.T=s;try{var o=n(r,i),l=q.S;l!==null&&l(s,o),Ng(e,t,o)}catch(c){Af(e,t,c)}finally{q.T=a}}else try{a=n(r,i),Ng(e,t,a)}catch(c){Af(e,t,c)}}function Ng(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){xg(e,t,i)},function(i){return Af(e,t,i)}):xg(e,t,n)}function xg(e,t,n){t.status="fulfilled",t.value=n,bp(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Tp(e,n)))}function Af(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,bp(t),t=t.next;while(t!==i)}e.action=null}function bp(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ap(e,t){return t}function Og(e,t){if(W){var n=lt.formState;if(n!==null){t:{var i=j;if(W){if(pt){e:{for(var r=pt,a=an;r.nodeType!==8;){if(!a){r=null;break e}if(r=Qe(r.nextSibling),r===null){r=null;break e}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){pt=Qe(r.nextSibling),i=r.data==="F!";break t}}Qr(i)}i=!1}i&&(t=n[0])}}return n=Ft(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ap,lastRenderedState:t},n.queue=i,n=qp.bind(null,j,i),i.dispatch=n,i=bf(!1),a=nd.bind(null,j,!1,i.queue),i=Ft(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=nb.bind(null,j,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Dg(e){var t=Dt();return wp(t,at,e)}function wp(e,t,n){if(t=Fh(e,t,Ap)[0],e=vl(ji)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=ko(t)}catch(s){throw s===Ro?ju:s}else i=t;t=Dt();var r=t.queue,a=r.dispatch;return n!==t.memoizedState&&(j.flags|=2048,$a(9,Gu(),ib.bind(null,r,n),null)),[i,a,e]}function ib(e,t){e.action=t}function Cg(e){var t=Dt(),n=at;if(n!==null)return wp(t,n,e);Dt(),t=t.memoizedState,n=Dt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function $a(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=j.updateQueue,t===null&&(t=Qh(),j.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Gu(){return{destroy:void 0,resource:void 0}}function Ep(){return Dt().memoizedState}function Sl(e,t,n,i){var r=Ft();i=i===void 0?null:i,j.flags|=e,r.memoizedState=$a(1|t,Gu(),n,i)}function Bo(e,t,n,i){var r=Dt();i=i===void 0?null:i;var a=r.memoizedState.inst;at!==null&&i!==null&&Yh(i,at.memoizedState.deps)?r.memoizedState=$a(t,a,n,i):(j.flags|=e,r.memoizedState=$a(1|t,a,n,i))}function Rg(e,t){Sl(8390656,8,e,t)}function Np(e,t){Bo(2048,8,e,t)}function xp(e,t){return Bo(4,2,e,t)}function Op(e,t){return Bo(4,4,e,t)}function Dp(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cp(e,t,n){n=n!=null?n.concat([e]):null,Bo(4,4,Dp.bind(null,t,e),n)}function Wh(){}function Rp(e,t){var n=Dt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Yh(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function kp(e,t){var n=Dt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Yh(t,i[1]))return i[0];if(i=e(),Fr){lr(!0);try{e()}finally{lr(!1)}}return n.memoizedState=[i,t],i}function td(e,t,n){return n===void 0||Er&1073741824?e.memoizedState=t:(e.memoizedState=n,e=bv(),j.lanes|=e,xr|=e,n)}function Bp(e,t,n,i){return Te(n,t)?n:Ka.current!==null?(e=td(e,n,i),Te(e,t)||(Lt=!0),e):Er&42?(e=bv(),j.lanes|=e,xr|=e,t):(Lt=!0,e.memoizedState=n)}function Ip(e,t,n,i,r){var a=tt.p;tt.p=a!==0&&8>a?a:8;var s=q.T,o={};q.T=o,nd(e,!1,t,n);try{var l=r(),c=q.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=WT(l,i);Js(e,t,h,ye(e))}else Js(e,t,i,ye(e))}catch(d){Js(e,t,{then:function(){},status:"rejected",reason:d},ye())}finally{tt.p=a,q.T=s}}function rb(){}function wf(e,t,n,i){if(e.tag!==5)throw Error(x(476));var r=Mp(e).queue;Ip(e,r,t,Vr,n===null?rb:function(){return Up(e),n(i)})}function Mp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Vr,baseState:Vr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:Vr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Up(e){var t=Mp(e).next.queue;Js(e,t,{},ye())}function ed(){return Kt(so)}function zp(){return Dt().memoizedState}function Lp(){return Dt().memoizedState}function ab(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ye();e=gr(n);var i=mr(t,e,n);i!==null&&(pe(i,t,n),zs(i,t,n)),t={cache:Vh()},e.payload=t;return}t=t.return}}function sb(e,t,n){var i=ye();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Yu(e)?Jp(t,n):(n=Lh(e,t,n,i),n!==null&&(pe(n,e,i),Hp(n,t,i)))}function qp(e,t,n){var i=ye();Js(e,t,n,i)}function Js(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Jp(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(r.hasEagerState=!0,r.eagerState=o,Te(o,s))return Vu(e,t,r,0),lt===null&&Hu(),!1}catch{}finally{}if(n=Lh(e,t,r,i),n!==null)return pe(n,e,i),Hp(n,t,i),!0}return!1}function nd(e,t,n,i){if(i={lane:2,revertLane:cd(),action:i,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(t)throw Error(x(479))}else t=Lh(e,n,i,2),t!==null&&pe(t,e,2)}function Yu(e){var t=e.alternate;return e===j||t!==null&&t===j}function Jp(e,t){Ua=Pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hp(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Ry(e,n)}}var Yl={readContext:Kt,use:Pu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},Vp={readContext:Kt,use:Pu,useCallback:function(e,t){return Ft().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:Rg,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Sl(4194308,4,Dp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sl(4194308,4,e,t)},useInsertionEffect:function(e,t){Sl(4,2,e,t)},useMemo:function(e,t){var n=Ft();t=t===void 0?null:t;var i=e();if(Fr){lr(!0);try{e()}finally{lr(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Ft();if(n!==void 0){var r=n(t);if(Fr){lr(!0);try{n(t)}finally{lr(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=sb.bind(null,j,e),[i.memoizedState,e]},useRef:function(e){var t=Ft();return e={current:e},t.memoizedState=e},useState:function(e){e=bf(e);var t=e.queue,n=qp.bind(null,j,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Wh,useDeferredValue:function(e,t){var n=Ft();return td(n,e,t)},useTransition:function(){var e=bf(!1);return e=Ip.bind(null,j,e.queue,!0,!1),Ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=j,r=Ft();if(W){if(n===void 0)throw Error(x(407));n=n()}else{if(n=t(),lt===null)throw Error(x(349));Q&124||gp(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Rg(yp.bind(null,i,a,e),[e]),i.flags|=2048,$a(9,Gu(),mp.bind(null,i,a,n,t),null),n},useId:function(){var e=Ft(),t=lt.identifierPrefix;if(W){var n=ki,i=Ri;n=(i&~(1<<32-me(i)-1)).toString(32)+n,t="«"+t+"R"+n,n=Gl++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=tb++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:ed,useFormState:Og,useActionState:Og,useOptimistic:function(e){var t=Ft();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=nd.bind(null,j,!0,n),n.dispatch=t,[e,t]},useMemoCache:_h,useCacheRefresh:function(){return Ft().memoizedState=ab.bind(null,j)}},jp={readContext:Kt,use:Pu,useCallback:Rp,useContext:Kt,useEffect:Np,useImperativeHandle:Cp,useInsertionEffect:xp,useLayoutEffect:Op,useMemo:kp,useReducer:vl,useRef:Ep,useState:function(){return vl(ji)},useDebugValue:Wh,useDeferredValue:function(e,t){var n=Dt();return Bp(n,at.memoizedState,e,t)},useTransition:function(){var e=vl(ji)[0],t=Dt().memoizedState;return[typeof e=="boolean"?e:ko(e),t]},useSyncExternalStore:dp,useId:zp,useHostTransitionStatus:ed,useFormState:Dg,useActionState:Dg,useOptimistic:function(e,t){var n=Dt();return Sp(n,at,e,t)},useMemoCache:_h,useCacheRefresh:Lp},ob={readContext:Kt,use:Pu,useCallback:Rp,useContext:Kt,useEffect:Np,useImperativeHandle:Cp,useInsertionEffect:xp,useLayoutEffect:Op,useMemo:kp,useReducer:bc,useRef:Ep,useState:function(){return bc(ji)},useDebugValue:Wh,useDeferredValue:function(e,t){var n=Dt();return at===null?td(n,e,t):Bp(n,at.memoizedState,e,t)},useTransition:function(){var e=bc(ji)[0],t=Dt().memoizedState;return[typeof e=="boolean"?e:ko(e),t]},useSyncExternalStore:dp,useId:zp,useHostTransitionStatus:ed,useFormState:Cg,useActionState:Cg,useOptimistic:function(e,t){var n=Dt();return at!==null?Sp(n,at,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:_h,useCacheRefresh:Lp},La=null,no=0;function Wo(e){var t=no;return no+=1,La===null&&(La=[]),lp(La,e,t)}function Ss(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function tl(e,t){throw t.$$typeof===LS?Error(x(525)):(e=Object.prototype.toString.call(t),Error(x(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function kg(e){var t=e._init;return t(e._payload)}function Pp(e){function t(p,y){if(e){var v=p.deletions;v===null?(p.deletions=[y],p.flags|=16):v.push(y)}}function n(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function i(p){for(var y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function r(p,y){return p=Li(p,y),p.index=0,p.sibling=null,p}function a(p,y,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<y?(p.flags|=67108866,y):v):(p.flags|=67108866,y)):(p.flags|=1048576,y)}function s(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function o(p,y,v,b){return y===null||y.tag!==6?(y=vc(v,p.mode,b),y.return=p,y):(y=r(y,v),y.return=p,y)}function l(p,y,v,b){var N=v.type;return N===pa?h(p,y,v.props.children,b,v.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===nr&&kg(N)===y.type)?(y=r(y,v.props),Ss(y,v),y.return=p,y):(y=yl(v.type,v.key,v.props,null,p.mode,b),Ss(y,v),y.return=p,y)}function c(p,y,v,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Sc(v,p.mode,b),y.return=p,y):(y=r(y,v.children||[]),y.return=p,y)}function h(p,y,v,b,N){return y===null||y.tag!==7?(y=jr(v,p.mode,b,N),y.return=p,y):(y=r(y,v),y.return=p,y)}function d(p,y,v){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=vc(""+y,p.mode,v),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ko:return v=yl(y.type,y.key,y.props,null,p.mode,v),Ss(v,y),v.return=p,v;case Ns:return y=Sc(y,p.mode,v),y.return=p,y;case nr:var b=y._init;return y=b(y._payload),d(p,y,v)}if(xs(y)||ms(y))return y=jr(y,p.mode,v,null),y.return=p,y;if(typeof y.then=="function")return d(p,Wo(y),v);if(y.$$typeof===Ci)return d(p,_o(p,y),v);tl(p,y)}return null}function g(p,y,v,b){var N=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return N!==null?null:o(p,y,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ko:return v.key===N?l(p,y,v,b):null;case Ns:return v.key===N?c(p,y,v,b):null;case nr:return N=v._init,v=N(v._payload),g(p,y,v,b)}if(xs(v)||ms(v))return N!==null?null:h(p,y,v,b,null);if(typeof v.then=="function")return g(p,y,Wo(v),b);if(v.$$typeof===Ci)return g(p,y,_o(p,v),b);tl(p,v)}return null}function m(p,y,v,b,N){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return p=p.get(v)||null,o(y,p,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ko:return p=p.get(b.key===null?v:b.key)||null,l(y,p,b,N);case Ns:return p=p.get(b.key===null?v:b.key)||null,c(y,p,b,N);case nr:var k=b._init;return b=k(b._payload),m(p,y,v,b,N)}if(xs(b)||ms(b))return p=p.get(v)||null,h(y,p,b,N,null);if(typeof b.then=="function")return m(p,y,v,Wo(b),N);if(b.$$typeof===Ci)return m(p,y,v,_o(y,b),N);tl(y,b)}return null}function T(p,y,v,b){for(var N=null,k=null,O=y,B=y=0,Z=null;O!==null&&B<v.length;B++){O.index>B?(Z=O,O=null):Z=O.sibling;var J=g(p,O,v[B],b);if(J===null){O===null&&(O=Z);break}e&&O&&J.alternate===null&&t(p,O),y=a(J,y,B),k===null?N=J:k.sibling=J,k=J,O=Z}if(B===v.length)return n(p,O),W&&Ur(p,B),N;if(O===null){for(;B<v.length;B++)O=d(p,v[B],b),O!==null&&(y=a(O,y,B),k===null?N=O:k.sibling=O,k=O);return W&&Ur(p,B),N}for(O=i(O);B<v.length;B++)Z=m(O,p,B,v[B],b),Z!==null&&(e&&Z.alternate!==null&&O.delete(Z.key===null?B:Z.key),y=a(Z,y,B),k===null?N=Z:k.sibling=Z,k=Z);return e&&O.forEach(function(Ct){return t(p,Ct)}),W&&Ur(p,B),N}function w(p,y,v,b){if(v==null)throw Error(x(151));for(var N=null,k=null,O=y,B=y=0,Z=null,J=v.next();O!==null&&!J.done;B++,J=v.next()){O.index>B?(Z=O,O=null):Z=O.sibling;var Ct=g(p,O,J.value,b);if(Ct===null){O===null&&(O=Z);break}e&&O&&Ct.alternate===null&&t(p,O),y=a(Ct,y,B),k===null?N=Ct:k.sibling=Ct,k=Ct,O=Z}if(J.done)return n(p,O),W&&Ur(p,B),N;if(O===null){for(;!J.done;B++,J=v.next())J=d(p,J.value,b),J!==null&&(y=a(J,y,B),k===null?N=J:k.sibling=J,k=J);return W&&Ur(p,B),N}for(O=i(O);!J.done;B++,J=v.next())J=m(O,p,B,J.value,b),J!==null&&(e&&J.alternate!==null&&O.delete(J.key===null?B:J.key),y=a(J,y,B),k===null?N=J:k.sibling=J,k=J);return e&&O.forEach(function(oe){return t(p,oe)}),W&&Ur(p,B),N}function C(p,y,v,b){if(typeof v=="object"&&v!==null&&v.type===pa&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ko:t:{for(var N=v.key;y!==null;){if(y.key===N){if(N=v.type,N===pa){if(y.tag===7){n(p,y.sibling),b=r(y,v.props.children),b.return=p,p=b;break t}}else if(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===nr&&kg(N)===y.type){n(p,y.sibling),b=r(y,v.props),Ss(b,v),b.return=p,p=b;break t}n(p,y);break}else t(p,y);y=y.sibling}v.type===pa?(b=jr(v.props.children,p.mode,b,v.key),b.return=p,p=b):(b=yl(v.type,v.key,v.props,null,p.mode,b),Ss(b,v),b.return=p,p=b)}return s(p);case Ns:t:{for(N=v.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(p,y.sibling),b=r(y,v.children||[]),b.return=p,p=b;break t}else{n(p,y);break}else t(p,y);y=y.sibling}b=Sc(v,p.mode,b),b.return=p,p=b}return s(p);case nr:return N=v._init,v=N(v._payload),C(p,y,v,b)}if(xs(v))return T(p,y,v,b);if(ms(v)){if(N=ms(v),typeof N!="function")throw Error(x(150));return v=N.call(v),w(p,y,v,b)}if(typeof v.then=="function")return C(p,y,Wo(v),b);if(v.$$typeof===Ci)return C(p,y,_o(p,v),b);tl(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,y!==null&&y.tag===6?(n(p,y.sibling),b=r(y,v),b.return=p,p=b):(n(p,y),b=vc(v,p.mode,b),b.return=p,p=b),s(p)):n(p,y)}return function(p,y,v,b){try{no=0;var N=C(p,y,v,b);return La=null,N}catch(O){if(O===Ro||O===ju)throw O;var k=fe(29,O,null,p.mode);return k.lanes=b,k.return=p,k}finally{}}}var Xa=Pp(!0),Gp=Pp(!1),Ve=An(null),Sn=null;function ar(e){var t=e.alternate;dt(Bt,Bt.current&1),dt(Ve,e),Sn===null&&(t===null||Ka.current!==null||t.memoizedState!==null)&&(Sn=e)}function Yp(e){if(e.tag===22){if(dt(Bt,Bt.current),dt(Ve,e),Sn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Sn=e)}}else sr()}function sr(){dt(Bt,Bt.current),dt(Ve,Ve.current)}function Ii(e){qt(Ve),Sn===e&&(Sn=null),qt(Bt)}var Bt=An(0);function Kl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Hf(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ac(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ut({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ef={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ye(),r=gr(i);r.payload=t,n!=null&&(r.callback=n),t=mr(e,r,i),t!==null&&(pe(t,e,i),zs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ye(),r=gr(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=mr(e,r,i),t!==null&&(pe(t,e,i),zs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ye(),i=gr(n);i.tag=2,t!=null&&(i.callback=t),t=mr(e,i,n),t!==null&&(pe(t,e,n),zs(t,e,n))}};function Bg(e,t,n,i,r,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,s):t.prototype&&t.prototype.isPureReactComponent?!Ws(n,i)||!Ws(r,a):!0}function Ig(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Ef.enqueueReplaceState(t,t.state,null)}function Wr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=ut({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var $l=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Kp(e){$l(e)}function $p(e){console.error(e)}function Xp(e){$l(e)}function Xl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Mg(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Nf(e,t,n){return n=gr(n),n.tag=3,n.payload={element:null},n.callback=function(){Xl(e,t)},n}function Zp(e){return e=gr(e),e.tag=3,e}function Qp(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){Mg(t,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Mg(t,n,i),typeof r!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function lb(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Do(t,n,r,!0),n=Ve.current,n!==null){switch(n.tag){case 13:return Sn===null?If():n.alternate===null&&vt===0&&(vt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===pf?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Ic(e,i,r)),!1;case 22:return n.flags|=65536,i===pf?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Ic(e,i,r)),!1}throw Error(x(435,n.tag))}return Ic(e,i,r),If(),!1}if(W)return t=Ve.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==hf&&(e=Error(x(422),{cause:i}),to(ze(e,n)))):(i!==hf&&(t=Error(x(423),{cause:i}),to(ze(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=ze(i,n),r=Nf(e.stateNode,i,r),Tc(e,r),vt!==4&&(vt=2)),!1;var a=Error(x(520),{cause:i});if(a=ze(a,n),js===null?js=[a]:js.push(a),vt!==4&&(vt=2),t===null)return!0;i=ze(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Nf(n.stateNode,i,e),Tc(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(yr===null||!yr.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Zp(r),Qp(r,e,n,i),Tc(n,r),!1}n=n.return}while(n!==null);return!1}var _p=Error(x(461)),Lt=!1;function Jt(e,t,n,i){t.child=e===null?Gp(t,null,n,i):Xa(t,e.child,n,i)}function Ug(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}else s=i;return _r(t),i=Kh(e,t,n,s,a,r),o=$h(),e!==null&&!Lt?(Xh(e,t,r),Pi(e,t,r)):(W&&o&&Jh(t),t.flags|=1,Jt(e,t,i,r),t.child)}function zg(e,t,n,i,r){if(e===null){var a=n.type;return typeof a=="function"&&!qh(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,Fp(e,t,a,i,r)):(e=yl(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!id(e,r)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ws,n(s,i)&&e.ref===t.ref)return Pi(e,t,r)}return t.flags|=1,e=Li(a,i),e.ref=t.ref,e.return=t,t.child=e}function Fp(e,t,n,i,r){if(e!==null){var a=e.memoizedProps;if(Ws(a,i)&&e.ref===t.ref)if(Lt=!1,t.pendingProps=i=a,id(e,r))e.flags&131072&&(Lt=!0);else return t.lanes=e.lanes,Pi(e,t,r)}return xf(e,t,n,i,r)}function Wp(e,t,n){var i=t.pendingProps,r=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=a!==null?a.baseLanes|n:n,e!==null){for(r=t.child=e.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~i}else t.childLanes=0,t.child=null;return Lg(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&pl(t,a!==null?a.cachePool:null),a!==null?Eg(t,a):Tf(),Yp(t);else return t.lanes=t.childLanes=536870912,Lg(e,t,a!==null?a.baseLanes|n:n,n)}else a!==null?(pl(t,a.cachePool),Eg(t,a),sr(),t.memoizedState=null):(e!==null&&pl(t,null),Tf(),sr());return Jt(e,t,r,n),t.child}function Lg(e,t,n,i){var r=jh();return r=r===null?null:{parent:kt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&pl(t,null),Tf(),Yp(t),e!==null&&Do(e,t,i,!0),null}function Tl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(x(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function xf(e,t,n,i,r){return _r(t),n=Kh(e,t,n,i,void 0,r),i=$h(),e!==null&&!Lt?(Xh(e,t,r),Pi(e,t,r)):(W&&i&&Jh(t),t.flags|=1,Jt(e,t,n,r),t.child)}function qg(e,t,n,i,r,a){return _r(t),t.updateQueue=null,n=hp(t,i,n,r),fp(e),i=$h(),e!==null&&!Lt?(Xh(e,t,a),Pi(e,t,a)):(W&&i&&Jh(t),t.flags|=1,Jt(e,t,n,a),t.child)}function Jg(e,t,n,i,r){if(_r(t),t.stateNode===null){var a=Na,s=n.contextType;typeof s=="object"&&s!==null&&(a=Kt(s)),a=new n(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ef,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},Ph(t),s=n.contextType,a.context=typeof s=="object"&&s!==null?Kt(s):Na,a.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Ac(t,n,s,i),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Ef.enqueueReplaceState(a,a.state,null),qs(t,i,a,r),Ls(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){a=t.stateNode;var o=t.memoizedProps,l=Wr(n,o);a.props=l;var c=a.context,h=n.contextType;s=Na,typeof h=="object"&&h!==null&&(s=Kt(h));var d=n.getDerivedStateFromProps;h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==s)&&Ig(t,a,i,s),ir=!1;var g=t.memoizedState;a.state=g,qs(t,i,a,r),Ls(),c=t.memoizedState,o||g!==c||ir?(typeof d=="function"&&(Ac(t,n,d,i),c=t.memoizedState),(l=ir||Bg(t,n,l,i,g,c,s))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=s,i=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,vf(e,t),s=t.memoizedProps,h=Wr(n,s),a.props=h,d=t.pendingProps,g=a.context,c=n.contextType,l=Na,typeof c=="object"&&c!==null&&(l=Kt(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||g!==l)&&Ig(t,a,i,l),ir=!1,g=t.memoizedState,a.state=g,qs(t,i,a,r),Ls();var m=t.memoizedState;s!==d||g!==m||ir||e!==null&&e.dependencies!==null&&Vl(e.dependencies)?(typeof o=="function"&&(Ac(t,n,o,i),m=t.memoizedState),(h=ir||Bg(t,n,h,i,g,m,l)||e!==null&&e.dependencies!==null&&Vl(e.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,m,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),a.props=i,a.state=m,a.context=l,i=h):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,Tl(e,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&i?(t.child=Xa(t,e.child,null,r),t.child=Xa(t,null,n,r)):Jt(e,t,n,r),t.memoizedState=a.state,e=t.child):e=Pi(e,t,r),e}function Hg(e,t,n,i){return Oo(),t.flags|=256,Jt(e,t,n,i),t.child}var wc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ec(e){return{baseLanes:e,cachePool:sp()}}function Nc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Le),e}function tv(e,t,n){var i=t.pendingProps,r=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(Bt.current&2)!==0),s&&(r=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(W){if(r?ar(t):sr(),W){var o=pt,l;if(l=o){t:{for(l=o,o=an;l.nodeType!==8;){if(!o){o=null;break t}if(l=Qe(l.nextSibling),l===null){o=null;break t}}o=l}o!==null?(t.memoizedState={dehydrated:o,treeContext:Pr!==null?{id:Ri,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},l=fe(18,null,null,0),l.stateNode=o,l.return=t,t.child=l,Zt=t,pt=null,l=!0):l=!1}l||Qr(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Hf(o)?t.lanes=32:t.lanes=536870912,null;Ii(t)}return o=i.children,i=i.fallback,r?(sr(),r=t.mode,o=Zl({mode:"hidden",children:o},r),i=jr(i,r,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,r=t.child,r.memoizedState=Ec(n),r.childLanes=Nc(e,s,n),t.memoizedState=wc,i):(ar(t),Of(t,o))}if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(a)t.flags&256?(ar(t),t.flags&=-257,t=xc(e,t,n)):t.memoizedState!==null?(sr(),t.child=e.child,t.flags|=128,t=null):(sr(),r=i.fallback,o=t.mode,i=Zl({mode:"visible",children:i.children},o),r=jr(r,o,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,Xa(t,e.child,null,n),i=t.child,i.memoizedState=Ec(n),i.childLanes=Nc(e,s,n),t.memoizedState=wc,t=r);else if(ar(t),Hf(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,i=Error(x(419)),i.stack="",i.digest=s,to({value:i,source:null,stack:null}),t=xc(e,t,n)}else if(Lt||Do(e,t,n,!1),s=(n&e.childLanes)!==0,Lt||s){if(s=lt,s!==null&&(i=n&-n,i=i&42?1:Oh(i),i=i&(s.suspendedLanes|n)?0:i,i!==0&&i!==l.retryLane))throw l.retryLane=i,fs(e,i),pe(s,e,i),_p;o.data==="$?"||If(),t=xc(e,t,n)}else o.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,pt=Qe(o.nextSibling),Zt=t,W=!0,Gr=null,an=!1,e!==null&&(we[Ee++]=Ri,we[Ee++]=ki,we[Ee++]=Pr,Ri=e.id,ki=e.overflow,Pr=t),t=Of(t,i.children),t.flags|=4096);return t}return r?(sr(),r=i.fallback,o=t.mode,l=e.child,c=l.sibling,i=Li(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&65011712,c!==null?r=Li(c,r):(r=jr(r,o,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,o=e.child.memoizedState,o===null?o=Ec(n):(l=o.cachePool,l!==null?(c=kt._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=sp(),o={baseLanes:o.baseLanes|n,cachePool:l}),r.memoizedState=o,r.childLanes=Nc(e,s,n),t.memoizedState=wc,i):(ar(t),n=e.child,e=n.sibling,n=Li(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Of(e,t){return t=Zl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zl(e,t){return e=fe(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function xc(e,t,n){return Xa(t,e.child,null,n),e=Of(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vg(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),gf(e.return,t,n)}function Oc(e,t,n,i,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function ev(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(Jt(e,t,i.children,n),i=Bt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vg(e,n,t);else if(e.tag===19)Vg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(dt(Bt,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Kl(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Oc(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Kl(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Oc(t,!0,n,null,a);break;case"together":Oc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xr|=t.lanes,!(n&t.childLanes))if(e!==null){if(Do(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(x(153));if(t.child!==null){for(e=t.child,n=Li(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Li(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function id(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Vl(e)))}function ub(e,t,n){switch(t.tag){case 3:Il(t,t.stateNode.containerInfo),rr(t,kt,e.memoizedState.cache),Oo();break;case 27:case 5:ef(t);break;case 4:Il(t,t.stateNode.containerInfo);break;case 10:rr(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ar(t),t.flags|=128,null):n&t.child.childLanes?tv(e,t,n):(ar(t),e=Pi(e,t,n),e!==null?e.sibling:null);ar(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Do(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return ev(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),dt(Bt,Bt.current),i)break;return null;case 22:case 23:return t.lanes=0,Wp(e,t,n);case 24:rr(t,kt,e.memoizedState.cache)}return Pi(e,t,n)}function nv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Lt=!0;else{if(!id(e,n)&&!(t.flags&128))return Lt=!1,ub(e,t,n);Lt=!!(e.flags&131072)}else Lt=!1,W&&t.flags&1048576&&rp(t,Hl,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")qh(i)?(e=Wr(i,e),t.tag=1,t=Jg(null,t,i,e,n)):(t.tag=0,t=xf(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===Eh){t.tag=11,t=Ug(null,t,i,e,n);break t}else if(r===Nh){t.tag=14,t=zg(null,t,i,e,n);break t}}throw t=Wc(i)||i,Error(x(306,t,""))}}return t;case 0:return xf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=Wr(i,t.pendingProps),Jg(e,t,i,r,n);case 3:t:{if(Il(t,t.stateNode.containerInfo),e===null)throw Error(x(387));i=t.pendingProps;var a=t.memoizedState;r=a.element,vf(e,t),qs(t,i,null,n);var s=t.memoizedState;if(i=s.cache,rr(t,kt,i),i!==a.cache&&mf(t,[kt],n,!0),Ls(),i=s.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=Hg(e,t,i,n);break t}else if(i!==r){r=ze(Error(x(424)),t),to(r),t=Hg(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(pt=Qe(e.firstChild),Zt=t,W=!0,Gr=null,an=!0,n=Gp(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Oo(),i===r){t=Pi(e,t,n);break t}Jt(e,t,i,n)}t=t.child}return t;case 26:return Tl(e,t),e===null?(n=rm(t.type,null,t.pendingProps,null))?t.memoizedState=n:W||(n=t.type,e=t.pendingProps,i=nu(dr.current).createElement(n),i[Yt]=t,i[re]=e,jt(i,n,e),zt(i),t.stateNode=i):t.memoizedState=rm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ef(t),e===null&&W&&(i=t.stateNode=jv(t.type,t.pendingProps,dr.current),Zt=t,an=!0,r=pt,kr(t.type)?(Vf=r,pt=Qe(i.firstChild)):pt=r),Jt(e,t,t.pendingProps.children,n),Tl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&W&&((r=i=pt)&&(i=Lb(i,t.type,t.pendingProps,an),i!==null?(t.stateNode=i,Zt=t,pt=Qe(i.firstChild),an=!1,r=!0):r=!1),r||Qr(t)),ef(t),r=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,qf(r,a)?i=null:s!==null&&qf(r,s)&&(t.flags|=32),t.memoizedState!==null&&(r=Kh(e,t,eb,null,null,n),so._currentValue=r),Tl(e,t),Jt(e,t,i,n),t.child;case 6:return e===null&&W&&((e=n=pt)&&(n=qb(n,t.pendingProps,an),n!==null?(t.stateNode=n,Zt=t,pt=null,e=!0):e=!1),e||Qr(t)),null;case 13:return tv(e,t,n);case 4:return Il(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Xa(t,null,i,n):Jt(e,t,i,n),t.child;case 11:return Ug(e,t,t.type,t.pendingProps,n);case 7:return Jt(e,t,t.pendingProps,n),t.child;case 8:return Jt(e,t,t.pendingProps.children,n),t.child;case 12:return Jt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,rr(t,t.type,i.value),Jt(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,_r(t),r=Kt(r),i=i(r),t.flags|=1,Jt(e,t,i,n),t.child;case 14:return zg(e,t,t.type,t.pendingProps,n);case 15:return Fp(e,t,t.type,t.pendingProps,n);case 19:return ev(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=Zl(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Li(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Wp(e,t,n);case 24:return _r(t),i=Kt(kt),e===null?(r=jh(),r===null&&(r=lt,a=Vh(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:i,cache:r},Ph(t),rr(t,kt,r)):(e.lanes&n&&(vf(e,t),qs(t,null,null,n),Ls()),r=e.memoizedState,a=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),rr(t,kt,i)):(i=a.cache,rr(t,kt,i),i!==r.cache&&mf(t,[kt],n,!0))),Jt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(x(156,t.tag))}function Nn(e){e.flags|=4}function jg(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Yv(t)){if(t=Ve.current,t!==null&&((Q&4194048)===Q?Sn!==null:(Q&62914560)!==Q&&!(Q&536870912)||t!==Sn))throw Us=pf,op;e.flags|=8192}}function el(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Dy():536870912,e.lanes|=t,Za|=t)}function Ts(e,t){if(!W)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function cb(e,t,n){var i=t.pendingProps;switch(Hh(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return gt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),qi(kt),ja(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(vs(t)?Nn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vg())),gt(t),null;case 26:return n=t.memoizedState,e===null?(Nn(t),n!==null?(gt(t),jg(t,n)):(gt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Nn(t),gt(t),jg(t,n)):(gt(t),t.flags&=-16777217):(e.memoizedProps!==i&&Nn(t),gt(t),t.flags&=-16777217),null;case 27:Ml(t),n=dr.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Nn(t);else{if(!i){if(t.stateNode===null)throw Error(x(166));return gt(t),null}e=pn.current,vs(t)?yg(t):(e=jv(r,i,n),t.stateNode=e,Nn(t))}return gt(t),null;case 5:if(Ml(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Nn(t);else{if(!i){if(t.stateNode===null)throw Error(x(166));return gt(t),null}if(e=pn.current,vs(t))yg(t);else{switch(r=nu(dr.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[Yt]=t,e[re]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(jt(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Nn(t)}}return gt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Nn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(x(166));if(e=dr.current,vs(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=Zt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Yt]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Jv(e.nodeValue,n)),e||Qr(t)}else e=nu(e).createTextNode(i),e[Yt]=t,t.stateNode=e}return gt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=vs(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(x(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(x(317));r[Yt]=t}else Oo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),r=!1}else r=vg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Ii(t),t):(Ii(t),null)}if(Ii(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var a=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),gt(t),null;case 4:return ja(),e===null&&fd(t.stateNode.containerInfo),gt(t),null;case 10:return qi(t.type),gt(t),null;case 19:if(qt(Bt),r=t.memoizedState,r===null)return gt(t),null;if(i=(t.flags&128)!==0,a=r.rendering,a===null)if(i)Ts(r,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Kl(e),a!==null){for(t.flags|=128,Ts(r,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ip(n,e),n=n.sibling;return dt(Bt,Bt.current&1|2),t.child}e=e.sibling}r.tail!==null&&vn()>_l&&(t.flags|=128,i=!0,Ts(r,!1),t.lanes=4194304)}else{if(!i)if(e=Kl(a),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),Ts(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!W)return gt(t),null}else 2*vn()-r.renderingStartTime>_l&&n!==536870912&&(t.flags|=128,i=!0,Ts(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=vn(),t.sibling=null,e=Bt.current,dt(Bt,i?e&1|2:e&1),t):(gt(t),null);case 22:case 23:return Ii(t),Gh(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),n=t.updateQueue,n!==null&&el(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&qt(Yr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),qi(kt),gt(t),null;case 25:return null;case 30:return null}throw Error(x(156,t.tag))}function fb(e,t){switch(Hh(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qi(kt),ja(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ml(t),null;case 13:if(Ii(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(x(340));Oo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qt(Bt),null;case 4:return ja(),null;case 10:return qi(t.type),null;case 22:case 23:return Ii(t),Gh(),e!==null&&qt(Yr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return qi(kt),null;case 25:return null;default:return null}}function iv(e,t){switch(Hh(t),t.tag){case 3:qi(kt),ja();break;case 26:case 27:case 5:Ml(t);break;case 4:ja();break;case 13:Ii(t);break;case 19:qt(Bt);break;case 10:qi(t.type);break;case 22:case 23:Ii(t),Gh(),e!==null&&qt(Yr);break;case 24:qi(kt)}}function Io(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create,s=n.inst;i=a(),s.destroy=i}n=n.next}while(n!==r)}}catch(o){ot(t,t.return,o)}}function Nr(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var a=r.next;i=a;do{if((i.tag&e)===e){var s=i.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,r=t;var l=n,c=o;try{c()}catch(h){ot(r,l,h)}}}i=i.next}while(i!==a)}}catch(h){ot(t,t.return,h)}}function rv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{cp(t,n)}catch(i){ot(e,e.return,i)}}}function av(e,t,n){n.props=Wr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){ot(e,t,i)}}function Hs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){ot(e,t,r)}}function on(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){ot(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){ot(e,t,r)}else n.current=null}function sv(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){ot(e,e.return,r)}}function Dc(e,t,n){try{var i=e.stateNode;Bb(i,e.type,n,t),i[re]=t}catch(r){ot(e,e.return,r)}}function ov(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&kr(e.type)||e.tag===4}function Cc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ov(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Df(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zu));else if(i!==4&&(i===27&&kr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Df(e,t,n),e=e.sibling;e!==null;)Df(e,t,n),e=e.sibling}function Ql(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&kr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ql(e,t,n),e=e.sibling;e!==null;)Ql(e,t,n),e=e.sibling}function lv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);jt(t,i,n),t[Yt]=e,t[re]=n}catch(a){ot(e,e.return,a)}}var Oi=!1,wt=!1,Rc=!1,Pg=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function hb(e,t){if(e=e.containerInfo,zf=su,e=Zy(e),Uh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break t}var s=0,o=-1,l=-1,c=0,h=0,d=e,g=null;e:for(;;){for(var m;d!==n||r!==0&&d.nodeType!==3||(o=s+r),d!==a||i!==0&&d.nodeType!==3||(l=s+i),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)g=d,d=m;for(;;){if(d===e)break e;if(g===n&&++c===r&&(o=s),g===a&&++h===i&&(l=s),(m=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lf={focusedElem:e,selectionRange:n},su=!1,Ut=t;Ut!==null;)if(t=Ut,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ut=e;else for(;Ut!==null;){switch(t=Ut,a=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var T=Wr(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(T,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(w){ot(n,n.return,w)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Jf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Jf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(x(163))}if(e=t.sibling,e!==null){e.return=t.return,Ut=e;break}Ut=t.return}}function uv(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Qi(e,n),i&4&&Io(5,n);break;case 1:if(Qi(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){ot(n,n.return,s)}else{var r=Wr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){ot(n,n.return,s)}}i&64&&rv(n),i&512&&Hs(n,n.return);break;case 3:if(Qi(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{cp(e,t)}catch(s){ot(n,n.return,s)}}break;case 27:t===null&&i&4&&lv(n);case 26:case 5:Qi(e,n),t===null&&i&4&&sv(n),i&512&&Hs(n,n.return);break;case 12:Qi(e,n);break;case 13:Qi(e,n),i&4&&hv(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=bb.bind(null,n),Jb(e,n))));break;case 22:if(i=n.memoizedState!==null||Oi,!i){t=t!==null&&t.memoizedState!==null||wt,r=Oi;var a=wt;Oi=i,(wt=t)&&!a?Wi(e,n,(n.subtreeFlags&8772)!==0):Qi(e,n),Oi=r,wt=a}break;case 30:break;default:Qi(e,n)}}function cv(e){var t=e.alternate;t!==null&&(e.alternate=null,cv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ch(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ct=null,Wt=!1;function xn(e,t,n){for(n=n.child;n!==null;)fv(e,t,n),n=n.sibling}function fv(e,t,n){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(Ao,n)}catch{}switch(n.tag){case 26:wt||on(n,t),xn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:wt||on(n,t);var i=ct,r=Wt;kr(n.type)&&(ct=n.stateNode,Wt=!1),xn(e,t,n),Gs(n.stateNode),ct=i,Wt=r;break;case 5:wt||on(n,t);case 6:if(i=ct,r=Wt,ct=null,xn(e,t,n),ct=i,Wt=r,ct!==null)if(Wt)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(n.stateNode)}catch(a){ot(n,t,a)}else try{ct.removeChild(n.stateNode)}catch(a){ot(n,t,a)}break;case 18:ct!==null&&(Wt?(e=ct,em(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),uo(e)):em(ct,n.stateNode));break;case 4:i=ct,r=Wt,ct=n.stateNode.containerInfo,Wt=!0,xn(e,t,n),ct=i,Wt=r;break;case 0:case 11:case 14:case 15:wt||Nr(2,n,t),wt||Nr(4,n,t),xn(e,t,n);break;case 1:wt||(on(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&av(n,t,i)),xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:wt=(i=wt)||n.memoizedState!==null,xn(e,t,n),wt=i;break;default:xn(e,t,n)}}function hv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{uo(e)}catch(n){ot(t,t.return,n)}}function db(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Pg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Pg),t;default:throw Error(x(435,e.tag))}}function kc(e,t){var n=db(e);t.forEach(function(i){var r=Ab.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function le(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],a=e,s=t,o=s;t:for(;o!==null;){switch(o.tag){case 27:if(kr(o.type)){ct=o.stateNode,Wt=!1;break t}break;case 5:ct=o.stateNode,Wt=!1;break t;case 3:case 4:ct=o.stateNode.containerInfo,Wt=!0;break t}o=o.return}if(ct===null)throw Error(x(160));fv(a,s,r),ct=null,Wt=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)dv(t,e),t=t.sibling}var $e=null;function dv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:le(t,e),ue(e),i&4&&(Nr(3,e,e.return),Io(3,e),Nr(5,e,e.return));break;case 1:le(t,e),ue(e),i&512&&(wt||n===null||on(n,n.return)),i&64&&Oi&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=$e;if(le(t,e),ue(e),i&512&&(wt||n===null||on(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":a=r.getElementsByTagName("title")[0],(!a||a[No]||a[Yt]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),jt(a,i,n),a[Yt]=e,zt(a),i=a;break t;case"link":var s=sm("link","href",r).get(i+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break e}}a=r.createElement(i),jt(a,i,n),r.head.appendChild(a);break;case"meta":if(s=sm("meta","content",r).get(i+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break e}}a=r.createElement(i),jt(a,i,n),r.head.appendChild(a);break;default:throw Error(x(468,i))}a[Yt]=e,zt(a),i=a}e.stateNode=i}else om(r,e.type,e.stateNode);else e.stateNode=am(r,i,e.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?om(r,e.type,e.stateNode):am(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Dc(e,e.memoizedProps,n.memoizedProps)}break;case 27:le(t,e),ue(e),i&512&&(wt||n===null||on(n,n.return)),n!==null&&i&4&&Dc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(le(t,e),ue(e),i&512&&(wt||n===null||on(n,n.return)),e.flags&32){r=e.stateNode;try{Ga(r,"")}catch(m){ot(e,e.return,m)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Dc(e,r,n!==null?n.memoizedProps:r)),i&1024&&(Rc=!0);break;case 6:if(le(t,e),ue(e),i&4){if(e.stateNode===null)throw Error(x(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(m){ot(e,e.return,m)}}break;case 3:if(wl=null,r=$e,$e=iu(t.containerInfo),le(t,e),$e=r,ue(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{uo(t.containerInfo)}catch(m){ot(e,e.return,m)}Rc&&(Rc=!1,gv(e));break;case 4:i=$e,$e=iu(e.stateNode.containerInfo),le(t,e),ue(e),$e=i;break;case 12:le(t,e),ue(e);break;case 13:le(t,e),ue(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ld=vn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,kc(e,i)));break;case 22:r=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=Oi,h=wt;if(Oi=c||r,wt=h||l,le(t,e),wt=h,Oi=c,ue(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||l||Oi||wt||zr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(a=l.stateNode,r)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var d=l.memoizedProps.style,g=d!=null&&d.hasOwnProperty("display")?d.display:null;o.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(m){ot(l,l.return,m)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=r?"":l.memoizedProps}catch(m){ot(l,l.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,kc(e,n))));break;case 19:le(t,e),ue(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,kc(e,i)));break;case 30:break;case 21:break;default:le(t,e),ue(e)}}function ue(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(ov(i)){n=i;break}i=i.return}if(n==null)throw Error(x(160));switch(n.tag){case 27:var r=n.stateNode,a=Cc(e);Ql(e,a,r);break;case 5:var s=n.stateNode;n.flags&32&&(Ga(s,""),n.flags&=-33);var o=Cc(e);Ql(e,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,c=Cc(e);Df(e,c,l);break;default:throw Error(x(161))}}catch(h){ot(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;gv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Qi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)uv(e,t.alternate,t),t=t.sibling}function zr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Nr(4,t,t.return),zr(t);break;case 1:on(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&av(t,t.return,n),zr(t);break;case 27:Gs(t.stateNode);case 26:case 5:on(t,t.return),zr(t);break;case 22:t.memoizedState===null&&zr(t);break;case 30:zr(t);break;default:zr(t)}e=e.sibling}}function Wi(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(r,a,n),Io(4,a);break;case 1:if(Wi(r,a,n),i=a,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){ot(i,i.return,c)}if(i=a,r=i.updateQueue,r!==null){var o=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(l!==null)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)up(l[r],o)}catch(c){ot(i,i.return,c)}}n&&s&64&&rv(a),Hs(a,a.return);break;case 27:lv(a);case 26:case 5:Wi(r,a,n),n&&i===null&&s&4&&sv(a),Hs(a,a.return);break;case 12:Wi(r,a,n);break;case 13:Wi(r,a,n),n&&s&4&&hv(r,a);break;case 22:a.memoizedState===null&&Wi(r,a,n),Hs(a,a.return);break;case 30:break;default:Wi(r,a,n)}t=t.sibling}}function rd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Co(n))}function ad(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Co(e))}function en(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)mv(e,t,n,i),t=t.sibling}function mv(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:en(e,t,n,i),r&2048&&Io(9,t);break;case 1:en(e,t,n,i);break;case 3:en(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Co(e)));break;case 12:if(r&2048){en(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ot(t,t.return,l)}}else en(e,t,n,i);break;case 13:en(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,t.memoizedState!==null?a._visibility&2?en(e,t,n,i):Vs(e,t):a._visibility&2?en(e,t,n,i):(a._visibility|=2,ga(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&rd(s,t);break;case 24:en(e,t,n,i),r&2048&&ad(t.alternate,t);break;default:en(e,t,n,i)}}function ga(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=e,s=t,o=n,l=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:ga(a,s,o,l,r),Io(8,s);break;case 23:break;case 22:var h=s.stateNode;s.memoizedState!==null?h._visibility&2?ga(a,s,o,l,r):Vs(a,s):(h._visibility|=2,ga(a,s,o,l,r)),r&&c&2048&&rd(s.alternate,s);break;case 24:ga(a,s,o,l,r),r&&c&2048&&ad(s.alternate,s);break;default:ga(a,s,o,l,r)}t=t.sibling}}function Vs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Vs(n,i),r&2048&&rd(i.alternate,i);break;case 24:Vs(n,i),r&2048&&ad(i.alternate,i);break;default:Vs(n,i)}t=t.sibling}}var Ds=8192;function la(e){if(e.subtreeFlags&Ds)for(e=e.child;e!==null;)yv(e),e=e.sibling}function yv(e){switch(e.tag){case 26:la(e),e.flags&Ds&&e.memoizedState!==null&&Fb($e,e.memoizedState,e.memoizedProps);break;case 5:la(e);break;case 3:case 4:var t=$e;$e=iu(e.stateNode.containerInfo),la(e),$e=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ds,Ds=16777216,la(e),Ds=t):la(e));break;default:la(e)}}function pv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function bs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ut=i,Sv(i,e)}pv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vv(e),e=e.sibling}function vv(e){switch(e.tag){case 0:case 11:case 15:bs(e),e.flags&2048&&Nr(9,e,e.return);break;case 3:bs(e);break;case 12:bs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,bl(e)):bs(e);break;default:bs(e)}}function bl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ut=i,Sv(i,e)}pv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Nr(8,t,t.return),bl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,bl(t));break;default:bl(t)}e=e.sibling}}function Sv(e,t){for(;Ut!==null;){var n=Ut;switch(n.tag){case 0:case 11:case 15:Nr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Co(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ut=i;else t:for(n=e;Ut!==null;){i=Ut;var r=i.sibling,a=i.return;if(cv(i),i===n){Ut=null;break t}if(r!==null){r.return=a,Ut=r;break t}Ut=a}}}var gb={getCacheForType:function(e){var t=Kt(kt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},mb=typeof WeakMap=="function"?WeakMap:Map,it=0,lt=null,K=null,Q=0,nt=0,ce=null,cr=!1,hs=!1,sd=!1,Gi=0,vt=0,xr=0,Kr=0,od=0,Le=0,Za=0,js=null,te=null,Cf=!1,ld=0,_l=1/0,Fl=null,yr=null,Vt=0,pr=null,Qa=null,qa=0,Rf=0,kf=null,Tv=null,Ps=0,Bf=null;function ye(){if(it&2&&Q!==0)return Q&-Q;if(q.T!==null){var e=Ya;return e!==0?e:cd()}return ky()}function bv(){Le===0&&(Le=!(Q&536870912)||W?Oy():536870912);var e=Ve.current;return e!==null&&(e.flags|=32),Le}function pe(e,t,n){(e===lt&&(nt===2||nt===9)||e.cancelPendingCommit!==null)&&(_a(e,0),fr(e,Q,Le,!1)),Eo(e,n),(!(it&2)||e!==lt)&&(e===lt&&(!(it&2)&&(Kr|=n),vt===4&&fr(e,Q,Le,!1)),wn(e))}function Av(e,t,n){if(it&6)throw Error(x(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||wo(e,t),r=i?vb(e,t):Bc(e,t,!0),a=i;do{if(r===0){hs&&!i&&fr(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!yb(n)){r=Bc(e,t,!1),a=!1;continue}if(r===2){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;t:{var o=e;r=js;var l=o.current.memoizedState.isDehydrated;if(l&&(_a(o,s).flags|=256),s=Bc(o,s,!1),s!==2){if(sd&&!l){o.errorRecoveryDisabledLanes|=a,Kr|=a,r=4;break t}a=te,te=r,a!==null&&(te===null?te=a:te.push.apply(te,a))}r=s}if(a=!1,r!==2)continue}}if(r===1){_a(e,0),fr(e,t,0,!0);break}t:{switch(i=e,a=r,a){case 0:case 1:throw Error(x(345));case 4:if((t&4194048)!==t)break;case 6:fr(i,t,Le,!cr);break t;case 2:te=null;break;case 3:case 5:break;default:throw Error(x(329))}if((t&62914560)===t&&(r=ld+300-vn(),10<r)){if(fr(i,t,Le,!cr),zu(i,0,!0)!==0)break t;i.timeoutHandle=Vv(Gg.bind(null,i,n,te,Fl,Cf,t,Le,Kr,Za,cr,a,2,-0,0),r);break t}Gg(i,n,te,Fl,Cf,t,Le,Kr,Za,cr,a,0,-0,0)}}break}while(!0);wn(e)}function Gg(e,t,n,i,r,a,s,o,l,c,h,d,g,m){if(e.timeoutHandle=-1,d=t.subtreeFlags,(d&8192||(d&16785408)===16785408)&&(ao={stylesheets:null,count:0,unsuspend:_b},yv(t),d=Wb(),d!==null)){e.cancelPendingCommit=d(Kg.bind(null,e,t,a,n,i,r,s,o,l,h,1,g,m)),fr(e,a,s,!c);return}Kg(e,t,a,n,i,r,s,o,l)}function yb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!Te(a(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fr(e,t,n,i){t&=~od,t&=~Kr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-me(r),s=1<<a;i[a]=-1,r&=~s}n!==0&&Cy(e,n,t)}function Ku(){return it&6?!0:(Mo(0),!1)}function ud(){if(K!==null){if(nt===0)var e=K.return;else e=K,Bi=sa=null,Zh(e),La=null,no=0,e=K;for(;e!==null;)iv(e.alternate,e),e=e.return;K=null}}function _a(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Mb(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ud(),lt=e,K=n=Li(e.current,null),Q=t,nt=0,ce=null,cr=!1,hs=wo(e,t),sd=!1,Za=Le=od=Kr=xr=vt=0,te=js=null,Cf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-me(i),a=1<<r;t|=e[r],i&=~a}return Gi=t,Hu(),n}function wv(e,t){j=null,q.H=Yl,t===Ro||t===ju?(t=Ag(),nt=3):t===op?(t=Ag(),nt=4):nt=t===_p?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ce=t,K===null&&(vt=1,Xl(e,ze(t,e.current)))}function Ev(){var e=q.H;return q.H=Yl,e===null?Yl:e}function Nv(){var e=q.A;return q.A=gb,e}function If(){vt=4,cr||(Q&4194048)!==Q&&Ve.current!==null||(hs=!0),!(xr&134217727)&&!(Kr&134217727)||lt===null||fr(lt,Q,Le,!1)}function Bc(e,t,n){var i=it;it|=2;var r=Ev(),a=Nv();(lt!==e||Q!==t)&&(Fl=null,_a(e,t)),t=!1;var s=vt;t:do try{if(nt!==0&&K!==null){var o=K,l=ce;switch(nt){case 8:ud(),s=6;break t;case 3:case 2:case 9:case 6:Ve.current===null&&(t=!0);var c=nt;if(nt=0,ce=null,Da(e,o,l,c),n&&hs){s=0;break t}break;default:c=nt,nt=0,ce=null,Da(e,o,l,c)}}pb(),s=vt;break}catch(h){wv(e,h)}while(!0);return t&&e.shellSuspendCounter++,Bi=sa=null,it=i,q.H=r,q.A=a,K===null&&(lt=null,Q=0,Hu()),s}function pb(){for(;K!==null;)xv(K)}function vb(e,t){var n=it;it|=2;var i=Ev(),r=Nv();lt!==e||Q!==t?(Fl=null,_l=vn()+500,_a(e,t)):hs=wo(e,t);t:do try{if(nt!==0&&K!==null){t=K;var a=ce;e:switch(nt){case 1:nt=0,ce=null,Da(e,t,a,1);break;case 2:case 9:if(bg(a)){nt=0,ce=null,Yg(t);break}t=function(){nt!==2&&nt!==9||lt!==e||(nt=7),wn(e)},a.then(t,t);break t;case 3:nt=7;break t;case 4:nt=5;break t;case 7:bg(a)?(nt=0,ce=null,Yg(t)):(nt=0,ce=null,Da(e,t,a,7));break;case 5:var s=null;switch(K.tag){case 26:s=K.memoizedState;case 5:case 27:var o=K;if(!s||Yv(s)){nt=0,ce=null;var l=o.sibling;if(l!==null)K=l;else{var c=o.return;c!==null?(K=c,$u(c)):K=null}break e}}nt=0,ce=null,Da(e,t,a,5);break;case 6:nt=0,ce=null,Da(e,t,a,6);break;case 8:ud(),vt=6;break t;default:throw Error(x(462))}}Sb();break}catch(h){wv(e,h)}while(!0);return Bi=sa=null,q.H=i,q.A=r,it=n,K!==null?0:(lt=null,Q=0,Hu(),vt)}function Sb(){for(;K!==null&&!VS();)xv(K)}function xv(e){var t=nv(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,t===null?$u(e):K=t}function Yg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=qg(n,t,t.pendingProps,t.type,void 0,Q);break;case 11:t=qg(n,t,t.pendingProps,t.type.render,t.ref,Q);break;case 5:Zh(t);default:iv(n,t),t=K=ip(t,Gi),t=nv(n,t,Gi)}e.memoizedProps=e.pendingProps,t===null?$u(e):K=t}function Da(e,t,n,i){Bi=sa=null,Zh(t),La=null,no=0;var r=t.return;try{if(lb(e,r,t,n,Q)){vt=1,Xl(e,ze(n,e.current)),K=null;return}}catch(a){if(r!==null)throw K=r,a;vt=1,Xl(e,ze(n,e.current)),K=null;return}t.flags&32768?(W||i===1?e=!0:hs||Q&536870912?e=!1:(cr=e=!0,(i===2||i===9||i===3||i===6)&&(i=Ve.current,i!==null&&i.tag===13&&(i.flags|=16384))),Ov(t,e)):$u(t)}function $u(e){var t=e;do{if(t.flags&32768){Ov(t,cr);return}e=t.return;var n=cb(t.alternate,t,Gi);if(n!==null){K=n;return}if(t=t.sibling,t!==null){K=t;return}K=t=e}while(t!==null);vt===0&&(vt=5)}function Ov(e,t){do{var n=fb(e.alternate,e);if(n!==null){n.flags&=32767,K=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){K=e;return}K=e=n}while(e!==null);vt=6,K=null}function Kg(e,t,n,i,r,a,s,o,l){e.cancelPendingCommit=null;do Xu();while(Vt!==0);if(it&6)throw Error(x(327));if(t!==null){if(t===e.current)throw Error(x(177));if(a=t.lanes|t.childLanes,a|=zh,_S(e,n,a,s,o,l),e===lt&&(K=lt=null,Q=0),Qa=t,pr=e,qa=n,Rf=a,kf=r,Tv=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,wb(Ul,function(){return Bv(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=q.T,q.T=null,r=tt.p,tt.p=2,s=it,it|=4;try{hb(e,t,n)}finally{it=s,tt.p=r,q.T=i}}Vt=1,Dv(),Cv(),Rv()}}function Dv(){if(Vt===1){Vt=0;var e=pr,t=Qa,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=q.T,q.T=null;var i=tt.p;tt.p=2;var r=it;it|=4;try{dv(t,e);var a=Lf,s=Zy(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&Xy(o.ownerDocument.documentElement,o)){if(l!==null&&Uh(o)){var c=l.start,h=l.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var d=o.ownerDocument||document,g=d&&d.defaultView||window;if(g.getSelection){var m=g.getSelection(),T=o.textContent.length,w=Math.min(l.start,T),C=l.end===void 0?w:Math.min(l.end,T);!m.extend&&w>C&&(s=C,C=w,w=s);var p=dg(o,w),y=dg(o,C);if(p&&y&&(m.rangeCount!==1||m.anchorNode!==p.node||m.anchorOffset!==p.offset||m.focusNode!==y.node||m.focusOffset!==y.offset)){var v=d.createRange();v.setStart(p.node,p.offset),m.removeAllRanges(),w>C?(m.addRange(v),m.extend(y.node,y.offset)):(v.setEnd(y.node,y.offset),m.addRange(v))}}}}for(d=[],m=o;m=m.parentNode;)m.nodeType===1&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<d.length;o++){var b=d[o];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}su=!!zf,Lf=zf=null}finally{it=r,tt.p=i,q.T=n}}e.current=t,Vt=2}}function Cv(){if(Vt===2){Vt=0;var e=pr,t=Qa,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=q.T,q.T=null;var i=tt.p;tt.p=2;var r=it;it|=4;try{uv(e,t.alternate,t)}finally{it=r,tt.p=i,q.T=n}}Vt=3}}function Rv(){if(Vt===4||Vt===3){Vt=0,jS();var e=pr,t=Qa,n=qa,i=Tv;t.subtreeFlags&10256||t.flags&10256?Vt=5:(Vt=0,Qa=pr=null,kv(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(yr=null),Dh(n),t=t.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(Ao,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=q.T,r=tt.p,tt.p=2,q.T=null;try{for(var a=e.onRecoverableError,s=0;s<i.length;s++){var o=i[s];a(o.value,{componentStack:o.stack})}}finally{q.T=t,tt.p=r}}qa&3&&Xu(),wn(e),r=e.pendingLanes,n&4194090&&r&42?e===Bf?Ps++:(Ps=0,Bf=e):Ps=0,Mo(0)}}function kv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Co(t)))}function Xu(e){return Dv(),Cv(),Rv(),Bv()}function Bv(){if(Vt!==5)return!1;var e=pr,t=Rf;Rf=0;var n=Dh(qa),i=q.T,r=tt.p;try{tt.p=32>n?32:n,q.T=null,n=kf,kf=null;var a=pr,s=qa;if(Vt=0,Qa=pr=null,qa=0,it&6)throw Error(x(331));var o=it;if(it|=4,vv(a.current),mv(a,a.current,s,n),it=o,Mo(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(Ao,a)}catch{}return!0}finally{tt.p=r,q.T=i,kv(e,t)}}function $g(e,t,n){t=ze(n,t),t=Nf(e.stateNode,t,2),e=mr(e,t,2),e!==null&&(Eo(e,2),wn(e))}function ot(e,t,n){if(e.tag===3)$g(e,e,n);else for(;t!==null;){if(t.tag===3){$g(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(yr===null||!yr.has(i))){e=ze(n,e),n=Zp(2),i=mr(t,n,2),i!==null&&(Qp(n,i,t,e),Eo(i,2),wn(i));break}}t=t.return}}function Ic(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new mb;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(sd=!0,r.add(n),e=Tb.bind(null,e,t,n),t.then(e,e))}function Tb(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,lt===e&&(Q&n)===n&&(vt===4||vt===3&&(Q&62914560)===Q&&300>vn()-ld?!(it&2)&&_a(e,0):od|=n,Za===Q&&(Za=0)),wn(e)}function Iv(e,t){t===0&&(t=Dy()),e=fs(e,t),e!==null&&(Eo(e,t),wn(e))}function bb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Iv(e,n)}function Ab(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(x(314))}i!==null&&i.delete(t),Iv(e,n)}function wb(e,t){return xh(e,t)}var Wl=null,ma=null,Mf=!1,tu=!1,Mc=!1,$r=0;function wn(e){e!==ma&&e.next===null&&(ma===null?Wl=ma=e:ma=ma.next=e),tu=!0,Mf||(Mf=!0,Nb())}function Mo(e,t){if(!Mc&&tu){Mc=!0;do for(var n=!1,i=Wl;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var a=0;else{var s=i.suspendedLanes,o=i.pingedLanes;a=(1<<31-me(42|e)+1)-1,a&=r&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Xg(i,a))}else a=Q,a=zu(i,i===lt?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||wo(i,a)||(n=!0,Xg(i,a));i=i.next}while(n);Mc=!1}}function Eb(){Mv()}function Mv(){tu=Mf=!1;var e=0;$r!==0&&(Ib()&&(e=$r),$r=0);for(var t=vn(),n=null,i=Wl;i!==null;){var r=i.next,a=Uv(i,t);a===0?(i.next=null,n===null?Wl=r:n.next=r,r===null&&(ma=n)):(n=i,(e!==0||a&3)&&(tu=!0)),i=r}Mo(e)}function Uv(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var s=31-me(a),o=1<<s,l=r[s];l===-1?(!(o&n)||o&i)&&(r[s]=QS(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(t=lt,n=Q,n=zu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(nt===2||nt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&sc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||wo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&sc(i),Dh(n)){case 2:case 8:n=Ny;break;case 32:n=Ul;break;case 268435456:n=xy;break;default:n=Ul}return i=zv.bind(null,e),n=xh(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&sc(i),e.callbackPriority=2,e.callbackNode=null,2}function zv(e,t){if(Vt!==0&&Vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Xu()&&e.callbackNode!==n)return null;var i=Q;return i=zu(e,e===lt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Av(e,i,t),Uv(e,vn()),e.callbackNode!=null&&e.callbackNode===n?zv.bind(null,e):null)}function Xg(e,t){if(Xu())return null;Av(e,t,!0)}function Nb(){Ub(function(){it&6?xh(Ey,Eb):Mv()})}function cd(){return $r===0&&($r=Oy()),$r}function Zg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:dl(""+e)}function Qg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function xb(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var a=Zg((r[re]||null).action),s=i.submitter;s&&(t=(t=s[re]||null)?Zg(t.formAction):s.getAttribute("formAction"),t!==null&&(a=t,s=null));var o=new Lu("action","action",null,i,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if($r!==0){var l=s?Qg(r,s):new FormData(r);wf(n,{pending:!0,data:l,method:r.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?Qg(r,s):new FormData(r),wf(n,{pending:!0,data:l,method:r.method,action:a},a,l))},currentTarget:r}]})}}for(var Uc=0;Uc<ff.length;Uc++){var zc=ff[Uc],Ob=zc.toLowerCase(),Db=zc[0].toUpperCase()+zc.slice(1);tn(Ob,"on"+Db)}tn(_y,"onAnimationEnd");tn(Fy,"onAnimationIteration");tn(Wy,"onAnimationStart");tn("dblclick","onDoubleClick");tn("focusin","onFocus");tn("focusout","onBlur");tn(YT,"onTransitionRun");tn(KT,"onTransitionStart");tn($T,"onTransitionCancel");tn(tp,"onTransitionEnd");Pa("onMouseEnter",["mouseout","mouseover"]);Pa("onMouseLeave",["mouseout","mouseover"]);Pa("onPointerEnter",["pointerout","pointerover"]);Pa("onPointerLeave",["pointerout","pointerover"]);ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(io));function Lv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var a=void 0;if(t)for(var s=i.length-1;0<=s;s--){var o=i[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=c;try{a(r)}catch(h){$l(h)}r.currentTarget=null,a=l}else for(s=0;s<i.length;s++){if(o=i[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=c;try{a(r)}catch(h){$l(h)}r.currentTarget=null,a=l}}}}function Y(e,t){var n=t[rf];n===void 0&&(n=t[rf]=new Set);var i=e+"__bubble";n.has(i)||(qv(t,e,2,!1),n.add(i))}function Lc(e,t,n){var i=0;t&&(i|=4),qv(n,e,i,t)}var nl="_reactListening"+Math.random().toString(36).slice(2);function fd(e){if(!e[nl]){e[nl]=!0,By.forEach(function(n){n!=="selectionchange"&&(Cb.has(n)||Lc(n,!1,e),Lc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nl]||(t[nl]=!0,Lc("selectionchange",!1,t))}}function qv(e,t,n,i){switch(Qv(t)){case 2:var r=nA;break;case 8:r=iA;break;default:r=md}n=r.bind(null,t,n,e),r=void 0,!lf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function qc(e,t,n,i,r){var a=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===r)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===r)return;s=s.return}for(;o!==null;){if(s=Sa(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){i=a=s;continue t}o=o.parentNode}}i=i.return}Hy(function(){var c=a,h=kh(n),d=[];t:{var g=ep.get(e);if(g!==void 0){var m=Lu,T=e;switch(e){case"keypress":if(ml(n)===0)break t;case"keydown":case"keyup":m=wT;break;case"focusin":T="focus",m=gc;break;case"focusout":T="blur",m=gc;break;case"beforeblur":case"afterblur":m=gc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ig;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=fT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=xT;break;case _y:case Fy:case Wy:m=gT;break;case tp:m=DT;break;case"scroll":case"scrollend":m=uT;break;case"wheel":m=RT;break;case"copy":case"cut":case"paste":m=yT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ag;break;case"toggle":case"beforetoggle":m=BT}var w=(t&4)!==0,C=!w&&(e==="scroll"||e==="scrollend"),p=w?g!==null?g+"Capture":null:g;w=[];for(var y=c,v;y!==null;){var b=y;if(v=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||v===null||p===null||(b=_s(y,p),b!=null&&w.push(ro(y,b,v))),C)break;y=y.return}0<w.length&&(g=new m(g,T,null,n,h),d.push({event:g,listeners:w}))}}if(!(t&7)){t:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&n!==of&&(T=n.relatedTarget||n.fromElement)&&(Sa(T)||T[us]))break t;if((m||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,m?(T=n.relatedTarget||n.toElement,m=c,T=T?Sa(T):null,T!==null&&(C=bo(T),w=T.tag,T!==C||w!==5&&w!==27&&w!==6)&&(T=null)):(m=null,T=c),m!==T)){if(w=ig,b="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(w=ag,b="onPointerLeave",p="onPointerEnter",y="pointer"),C=m==null?g:Os(m),v=T==null?g:Os(T),g=new w(b,y+"leave",m,n,h),g.target=C,g.relatedTarget=v,b=null,Sa(h)===c&&(w=new w(p,y+"enter",T,n,h),w.target=v,w.relatedTarget=C,b=w),C=b,m&&T)e:{for(w=m,p=T,y=0,v=w;v;v=ua(v))y++;for(v=0,b=p;b;b=ua(b))v++;for(;0<y-v;)w=ua(w),y--;for(;0<v-y;)p=ua(p),v--;for(;y--;){if(w===p||p!==null&&w===p.alternate)break e;w=ua(w),p=ua(p)}w=null}else w=null;m!==null&&_g(d,g,m,w,!1),T!==null&&C!==null&&_g(d,C,T,w,!0)}}t:{if(g=c?Os(c):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var N=ug;else if(lg(g))if(Ky)N=jT;else{N=HT;var k=JT}else m=g.nodeName,!m||m.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?c&&Rh(c.elementType)&&(N=ug):N=VT;if(N&&(N=N(e,c))){Yy(d,N,n,h);break t}k&&k(e,g,c),e==="focusout"&&c&&g.type==="number"&&c.memoizedProps.value!=null&&sf(g,"number",g.value)}switch(k=c?Os(c):window,e){case"focusin":(lg(k)||k.contentEditable==="true")&&(Aa=k,uf=c,Is=null);break;case"focusout":Is=uf=Aa=null;break;case"mousedown":cf=!0;break;case"contextmenu":case"mouseup":case"dragend":cf=!1,gg(d,n,h);break;case"selectionchange":if(GT)break;case"keydown":case"keyup":gg(d,n,h)}var O;if(Mh)t:{switch(e){case"compositionstart":var B="onCompositionStart";break t;case"compositionend":B="onCompositionEnd";break t;case"compositionupdate":B="onCompositionUpdate";break t}B=void 0}else ba?Py(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(jy&&n.locale!=="ko"&&(ba||B!=="onCompositionStart"?B==="onCompositionEnd"&&ba&&(O=Vy()):(ur=h,Bh="value"in ur?ur.value:ur.textContent,ba=!0)),k=eu(c,B),0<k.length&&(B=new rg(B,e,null,n,h),d.push({event:B,listeners:k}),O?B.data=O:(O=Gy(n),O!==null&&(B.data=O)))),(O=MT?UT(e,n):zT(e,n))&&(B=eu(c,"onBeforeInput"),0<B.length&&(k=new rg("onBeforeInput","beforeinput",null,n,h),d.push({event:k,listeners:B}),k.data=O)),xb(d,e,c,n,h)}Lv(d,t)})}function ro(e,t,n){return{instance:e,listener:t,currentTarget:n}}function eu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=_s(e,n),r!=null&&i.unshift(ro(e,r,a)),r=_s(e,t),r!=null&&i.push(ro(e,r,a))),e.tag===3)return i;e=e.return}return[]}function ua(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _g(e,t,n,i,r){for(var a=t._reactName,s=[];n!==null&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===i)break;o!==5&&o!==26&&o!==27||c===null||(l=c,r?(c=_s(n,a),c!=null&&s.unshift(ro(n,c,l))):r||(c=_s(n,a),c!=null&&s.push(ro(n,c,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Rb=/\r\n?/g,kb=/\u0000|\uFFFD/g;function Fg(e){return(typeof e=="string"?e:""+e).replace(Rb,`
`).replace(kb,"")}function Jv(e,t){return t=Fg(t),Fg(e)===t}function Zu(){}function rt(e,t,n,i,r,a){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ga(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ga(e,""+i);break;case"className":Zo(e,"class",i);break;case"tabIndex":Zo(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Zo(e,n,i);break;case"style":Jy(e,i,a);break;case"data":if(t!=="object"){Zo(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=dl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&rt(e,t,"name",r.name,r,null),rt(e,t,"formEncType",r.formEncType,r,null),rt(e,t,"formMethod",r.formMethod,r,null),rt(e,t,"formTarget",r.formTarget,r,null)):(rt(e,t,"encType",r.encType,r,null),rt(e,t,"method",r.method,r,null),rt(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=dl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Zu);break;case"onScroll":i!=null&&Y("scroll",e);break;case"onScrollEnd":i!=null&&Y("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(x(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(x(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=dl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Y("beforetoggle",e),Y("toggle",e),hl(e,"popover",i);break;case"xlinkActuate":En(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":En(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":En(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":En(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":En(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":En(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":En(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":En(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":En(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":hl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=oT.get(n)||n,hl(e,n,i))}}function Uf(e,t,n,i,r,a){switch(n){case"style":Jy(e,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(x(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(x(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Ga(e,i):(typeof i=="number"||typeof i=="bigint")&&Ga(e,""+i);break;case"onScroll":i!=null&&Y("scroll",e);break;case"onScrollEnd":i!=null&&Y("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Iy.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),a=e[re]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,r),typeof i=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):hl(e,n,i)}}}function jt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Y("error",e),Y("load",e);var i=!1,r=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(x(137,t));default:rt(e,t,a,s,n,null)}}r&&rt(e,t,"srcSet",n.srcSet,n,null),i&&rt(e,t,"src",n.src,n,null);return;case"input":Y("invalid",e);var o=a=s=r=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":r=h;break;case"type":s=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":a=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(x(137,t));break;default:rt(e,t,i,h,n,null)}}zy(e,a,o,l,c,s,r,!1),zl(e);return;case"select":Y("invalid",e),i=s=a=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":i=o;default:rt(e,t,r,o,n,null)}t=a,n=s,e.multiple=!!i,t!=null?Ba(e,!!i,t,!1):n!=null&&Ba(e,!!i,n,!0);return;case"textarea":Y("invalid",e),a=r=i=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":i=o;break;case"defaultValue":r=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(x(91));break;default:rt(e,t,s,o,n,null)}qy(e,i,r,a),zl(e);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:rt(e,t,l,i,n,null)}return;case"dialog":Y("beforetoggle",e),Y("toggle",e),Y("cancel",e),Y("close",e);break;case"iframe":case"object":Y("load",e);break;case"video":case"audio":for(i=0;i<io.length;i++)Y(io[i],e);break;case"image":Y("error",e),Y("load",e);break;case"details":Y("toggle",e);break;case"embed":case"source":case"link":Y("error",e),Y("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(x(137,t));default:rt(e,t,c,i,n,null)}return;default:if(Rh(t)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&Uf(e,t,h,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&rt(e,t,o,i,n,null))}function Bb(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,s=null,o=null,l=null,c=null,h=null;for(m in n){var d=n[m];if(n.hasOwnProperty(m)&&d!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=d;default:i.hasOwnProperty(m)||rt(e,t,m,null,i,d)}}for(var g in i){var m=i[g];if(d=n[g],i.hasOwnProperty(g)&&(m!=null||d!=null))switch(g){case"type":a=m;break;case"name":r=m;break;case"checked":c=m;break;case"defaultChecked":h=m;break;case"value":s=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(x(137,t));break;default:m!==d&&rt(e,t,g,m,i,d)}}af(e,s,o,l,c,h,a,r);return;case"select":m=s=o=g=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":m=l;default:i.hasOwnProperty(a)||rt(e,t,a,null,i,l)}for(r in i)if(a=i[r],l=n[r],i.hasOwnProperty(r)&&(a!=null||l!=null))switch(r){case"value":g=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&rt(e,t,r,a,i,l)}t=o,n=s,i=m,g!=null?Ba(e,!!n,g,!1):!!i!=!!n&&(t!=null?Ba(e,!!n,t,!0):Ba(e,!!n,n?[]:"",!1));return;case"textarea":m=g=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:rt(e,t,o,null,i,r)}for(s in i)if(r=i[s],a=n[s],i.hasOwnProperty(s)&&(r!=null||a!=null))switch(s){case"value":g=r;break;case"defaultValue":m=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(x(91));break;default:r!==a&&rt(e,t,s,r,i,a)}Ly(e,g,m);return;case"option":for(var T in n)if(g=n[T],n.hasOwnProperty(T)&&g!=null&&!i.hasOwnProperty(T))switch(T){case"selected":e.selected=!1;break;default:rt(e,t,T,null,i,g)}for(l in i)if(g=i[l],m=n[l],i.hasOwnProperty(l)&&g!==m&&(g!=null||m!=null))switch(l){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:rt(e,t,l,g,i,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var w in n)g=n[w],n.hasOwnProperty(w)&&g!=null&&!i.hasOwnProperty(w)&&rt(e,t,w,null,i,g);for(c in i)if(g=i[c],m=n[c],i.hasOwnProperty(c)&&g!==m&&(g!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(x(137,t));break;default:rt(e,t,c,g,i,m)}return;default:if(Rh(t)){for(var C in n)g=n[C],n.hasOwnProperty(C)&&g!==void 0&&!i.hasOwnProperty(C)&&Uf(e,t,C,void 0,i,g);for(h in i)g=i[h],m=n[h],!i.hasOwnProperty(h)||g===m||g===void 0&&m===void 0||Uf(e,t,h,g,i,m);return}}for(var p in n)g=n[p],n.hasOwnProperty(p)&&g!=null&&!i.hasOwnProperty(p)&&rt(e,t,p,null,i,g);for(d in i)g=i[d],m=n[d],!i.hasOwnProperty(d)||g===m||g==null&&m==null||rt(e,t,d,g,i,m)}var zf=null,Lf=null;function nu(e){return e.nodeType===9?e:e.ownerDocument}function Wg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function qf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jc=null;function Ib(){var e=window.event;return e&&e.type==="popstate"?e===Jc?!1:(Jc=e,!0):(Jc=null,!1)}var Vv=typeof setTimeout=="function"?setTimeout:void 0,Mb=typeof clearTimeout=="function"?clearTimeout:void 0,tm=typeof Promise=="function"?Promise:void 0,Ub=typeof queueMicrotask=="function"?queueMicrotask:typeof tm<"u"?function(e){return tm.resolve(null).then(e).catch(zb)}:Vv;function zb(e){setTimeout(function(){throw e})}function kr(e){return e==="head"}function em(e,t){var n=t,i=0,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<i&&8>i){n=i;var s=e.ownerDocument;if(n&1&&Gs(s.documentElement),n&2&&Gs(s.body),n&4)for(n=s.head,Gs(n),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[No]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=o}}if(r===0){e.removeChild(a),uo(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=a}while(n);uo(t)}function Jf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Jf(n),Ch(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Lb(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[No])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=Qe(e.nextSibling),e===null)break}return null}function qb(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qe(e.nextSibling),e===null))return null;return e}function Hf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Jb(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Qe(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Vf=null;function nm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function jv(e,t,n){switch(t=nu(n),e){case"html":if(e=t.documentElement,!e)throw Error(x(452));return e;case"head":if(e=t.head,!e)throw Error(x(453));return e;case"body":if(e=t.body,!e)throw Error(x(454));return e;default:throw Error(x(451))}}function Gs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ch(e)}var je=new Map,im=new Set;function iu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=tt.d;tt.d={f:Hb,r:Vb,D:jb,C:Pb,L:Gb,m:Yb,X:$b,S:Kb,M:Xb};function Hb(){var e=$i.f(),t=Ku();return e||t}function Vb(e){var t=cs(e);t!==null&&t.tag===5&&t.type==="form"?Up(t):$i.r(e)}var ds=typeof document>"u"?null:document;function Pv(e,t,n){var i=ds;if(i&&typeof t=="string"&&t){var r=Ue(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),im.has(r)||(im.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),jt(t,"link",e),zt(t),i.head.appendChild(t)))}}function jb(e){$i.D(e),Pv("dns-prefetch",e,null)}function Pb(e,t){$i.C(e,t),Pv("preconnect",e,t)}function Gb(e,t,n){$i.L(e,t,n);var i=ds;if(i&&e&&t){var r='link[rel="preload"][as="'+Ue(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Ue(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Ue(n.imageSizes)+'"]')):r+='[href="'+Ue(e)+'"]';var a=r;switch(t){case"style":a=Fa(e);break;case"script":a=gs(e)}je.has(a)||(e=ut({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),je.set(a,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(Uo(a))||t==="script"&&i.querySelector(zo(a))||(t=i.createElement("link"),jt(t,"link",e),zt(t),i.head.appendChild(t)))}}function Yb(e,t){$i.m(e,t);var n=ds;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Ue(i)+'"][href="'+Ue(e)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=gs(e)}if(!je.has(a)&&(e=ut({rel:"modulepreload",href:e},t),je.set(a,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(zo(a)))return}i=n.createElement("link"),jt(i,"link",e),zt(i),n.head.appendChild(i)}}}function Kb(e,t,n){$i.S(e,t,n);var i=ds;if(i&&e){var r=ka(i).hoistableStyles,a=Fa(e);t=t||"default";var s=r.get(a);if(!s){var o={loading:0,preload:null};if(s=i.querySelector(Uo(a)))o.loading=5;else{e=ut({rel:"stylesheet",href:e,"data-precedence":t},n),(n=je.get(a))&&hd(e,n);var l=s=i.createElement("link");zt(l),jt(l,"link",e),l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Al(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:o},r.set(a,s)}}}function $b(e,t){$i.X(e,t);var n=ds;if(n&&e){var i=ka(n).hoistableScripts,r=gs(e),a=i.get(r);a||(a=n.querySelector(zo(r)),a||(e=ut({src:e,async:!0},t),(t=je.get(r))&&dd(e,t),a=n.createElement("script"),zt(a),jt(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function Xb(e,t){$i.M(e,t);var n=ds;if(n&&e){var i=ka(n).hoistableScripts,r=gs(e),a=i.get(r);a||(a=n.querySelector(zo(r)),a||(e=ut({src:e,async:!0,type:"module"},t),(t=je.get(r))&&dd(e,t),a=n.createElement("script"),zt(a),jt(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function rm(e,t,n,i){var r=(r=dr.current)?iu(r):null;if(!r)throw Error(x(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Fa(n.href),n=ka(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Fa(n.href);var a=ka(r).hoistableStyles,s=a.get(e);if(s||(r=r.ownerDocument||r,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=r.querySelector(Uo(e)))&&!a._p&&(s.instance=a,s.state.loading=5),je.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},je.set(e,n),a||Zb(r,e,n,s.state))),t&&i===null)throw Error(x(528,""));return s}if(t&&i!==null)throw Error(x(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=gs(n),n=ka(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(x(444,e))}}function Fa(e){return'href="'+Ue(e)+'"'}function Uo(e){return'link[rel="stylesheet"]['+e+"]"}function Gv(e){return ut({},e,{"data-precedence":e.precedence,precedence:null})}function Zb(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),jt(t,"link",n),zt(t),e.head.appendChild(t))}function gs(e){return'[src="'+Ue(e)+'"]'}function zo(e){return"script[async]"+e}function am(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Ue(n.href)+'"]');if(i)return t.instance=i,zt(i),i;var r=ut({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),zt(i),jt(i,"style",r),Al(i,n.precedence,e),t.instance=i;case"stylesheet":r=Fa(n.href);var a=e.querySelector(Uo(r));if(a)return t.state.loading|=4,t.instance=a,zt(a),a;i=Gv(n),(r=je.get(r))&&hd(i,r),a=(e.ownerDocument||e).createElement("link"),zt(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),jt(a,"link",i),t.state.loading|=4,Al(a,n.precedence,e),t.instance=a;case"script":return a=gs(n.src),(r=e.querySelector(zo(a)))?(t.instance=r,zt(r),r):(i=n,(r=je.get(a))&&(i=ut({},n),dd(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),zt(r),jt(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(x(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Al(i,n.precedence,e));return t.instance}function Al(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,s=0;s<i.length;s++){var o=i[s];if(o.dataset.precedence===t)a=o;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function hd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function dd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var wl=null;function sm(e,t,n){if(wl===null){var i=new Map,r=wl=new Map;r.set(n,i)}else r=wl,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[No]||a[Yt]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(t)||"";s=e+s;var o=i.get(s);o?o.push(a):i.set(s,[a])}}return i}function om(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Qb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Yv(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var ao=null;function _b(){}function Fb(e,t,n){if(ao===null)throw Error(x(475));var i=ao;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=Fa(n.href),a=e.querySelector(Uo(r));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=ru.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=a,zt(a);return}a=e.ownerDocument||e,n=Gv(n),(r=je.get(r))&&hd(n,r),a=a.createElement("link"),zt(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),jt(a,"link",n),t.instance=a}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=ru.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function Wb(){if(ao===null)throw Error(x(475));var e=ao;return e.stylesheets&&e.count===0&&jf(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&jf(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function ru(){if(this.count--,this.count===0){if(this.stylesheets)jf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var au=null;function jf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,au=new Map,t.forEach(tA,e),au=null,ru.call(e))}function tA(e,t){if(!(t.state.loading&4)){var n=au.get(e);if(n)var i=n.get(null);else{n=new Map,au.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var s=r[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}r=t.instance,s=r.getAttribute("data-precedence"),a=n.get(s)||i,a===i&&n.set(null,r),n.set(s,r),this.count++,i=ru.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var so={$$typeof:Ci,Provider:null,Consumer:null,_currentValue:Vr,_currentValue2:Vr,_threadCount:0};function eA(e,t,n,i,r,a,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oc(0),this.hiddenUpdates=oc(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Kv(e,t,n,i,r,a,s,o,l,c,h,d){return e=new eA(e,t,n,s,o,l,c,d),t=1,a===!0&&(t|=24),a=fe(3,null,null,t),e.current=a,a.stateNode=e,t=Vh(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},Ph(a),e}function $v(e){return e?(e=Na,e):Na}function Xv(e,t,n,i,r,a){r=$v(r),i.context===null?i.context=r:i.pendingContext=r,i=gr(t),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=mr(e,i,t),n!==null&&(pe(n,e,t),zs(n,e,t))}function lm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gd(e,t){lm(e,t),(e=e.alternate)&&lm(e,t)}function Zv(e){if(e.tag===13){var t=fs(e,67108864);t!==null&&pe(t,e,67108864),gd(e,67108864)}}var su=!0;function nA(e,t,n,i){var r=q.T;q.T=null;var a=tt.p;try{tt.p=2,md(e,t,n,i)}finally{tt.p=a,q.T=r}}function iA(e,t,n,i){var r=q.T;q.T=null;var a=tt.p;try{tt.p=8,md(e,t,n,i)}finally{tt.p=a,q.T=r}}function md(e,t,n,i){if(su){var r=Pf(i);if(r===null)qc(e,t,i,ou,n),um(e,i);else if(aA(r,e,t,n,i))i.stopPropagation();else if(um(e,i),t&4&&-1<rA.indexOf(e)){for(;r!==null;){var a=cs(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Mr(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-me(s);o.entanglements[1]|=l,s&=~l}wn(a),!(it&6)&&(_l=vn()+500,Mo(0))}}break;case 13:o=fs(a,2),o!==null&&pe(o,a,2),Ku(),gd(a,2)}if(a=Pf(i),a===null&&qc(e,t,i,ou,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else qc(e,t,i,null,n)}}function Pf(e){return e=kh(e),yd(e)}var ou=null;function yd(e){if(ou=null,e=Sa(e),e!==null){var t=bo(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Ty(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ou=e,null}function Qv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(PS()){case Ey:return 2;case Ny:return 8;case Ul:case GS:return 32;case xy:return 268435456;default:return 32}default:return 32}}var Gf=!1,vr=null,Sr=null,Tr=null,oo=new Map,lo=new Map,or=[],rA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function um(e,t){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":oo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(t.pointerId)}}function As(e,t,n,i,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},t!==null&&(t=cs(t),t!==null&&Zv(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function aA(e,t,n,i,r){switch(t){case"focusin":return vr=As(vr,e,t,n,i,r),!0;case"dragenter":return Sr=As(Sr,e,t,n,i,r),!0;case"mouseover":return Tr=As(Tr,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return oo.set(a,As(oo.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,lo.set(a,As(lo.get(a)||null,e,t,n,i,r)),!0}return!1}function _v(e){var t=Sa(e.target);if(t!==null){var n=bo(t);if(n!==null){if(t=n.tag,t===13){if(t=Ty(n),t!==null){e.blockedOn=t,FS(e.priority,function(){if(n.tag===13){var i=ye();i=Oh(i);var r=fs(n,i);r!==null&&pe(r,n,i),gd(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function El(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);of=i,n.target.dispatchEvent(i),of=null}else return t=cs(n),t!==null&&Zv(t),e.blockedOn=n,!1;t.shift()}return!0}function cm(e,t,n){El(e)&&n.delete(t)}function sA(){Gf=!1,vr!==null&&El(vr)&&(vr=null),Sr!==null&&El(Sr)&&(Sr=null),Tr!==null&&El(Tr)&&(Tr=null),oo.forEach(cm),lo.forEach(cm)}function il(e,t){e.blockedOn===t&&(e.blockedOn=null,Gf||(Gf=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,sA)))}var rl=null;function fm(e){rl!==e&&(rl=e,It.unstable_scheduleCallback(It.unstable_NormalPriority,function(){rl===e&&(rl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(yd(i||n)===null)continue;break}var a=cs(n);a!==null&&(e.splice(t,3),t-=3,wf(a,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function uo(e){function t(l){return il(l,e)}vr!==null&&il(vr,e),Sr!==null&&il(Sr,e),Tr!==null&&il(Tr,e),oo.forEach(t),lo.forEach(t);for(var n=0;n<or.length;n++){var i=or[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<or.length&&(n=or[0],n.blockedOn===null);)_v(n),n.blockedOn===null&&or.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],s=r[re]||null;if(typeof a=="function")s||fm(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(r=a,s=a[re]||null)o=s.formAction;else if(yd(r)!==null)continue}else o=s.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),fm(n)}}}function pd(e){this._internalRoot=e}Qu.prototype.render=pd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(x(409));var n=t.current,i=ye();Xv(n,i,e,t,null,null)};Qu.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xv(e.current,2,null,e,null,null),Ku(),t[us]=null}};function Qu(e){this._internalRoot=e}Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=ky();e={blockedOn:null,target:e,priority:t};for(var n=0;n<or.length&&t!==0&&t<or[n].priority;n++);or.splice(n,0,e),n===0&&_v(e)}};var hm=vy.version;if(hm!=="19.1.0")throw Error(x(527,hm,"19.1.0"));tt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(x(188)):(e=Object.keys(e).join(","),Error(x(268,e)));return e=zS(t),e=e!==null?by(e):null,e=e===null?null:e.stateNode,e};var oA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{Ao=al.inject(oA),ge=al}catch{}}Mu.createRoot=function(e,t){if(!Sy(e))throw Error(x(299));var n=!1,i="",r=Kp,a=$p,s=Xp,o=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=Kv(e,1,!1,null,null,n,i,r,a,s,o,null),e[us]=t.current,fd(e),new pd(t)};Mu.hydrateRoot=function(e,t,n){if(!Sy(e))throw Error(x(299));var i=!1,r="",a=Kp,s=$p,o=Xp,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=Kv(e,1,!0,t,n??null,i,r,a,s,o,l,c),t.context=$v(null),n=t.current,i=ye(),i=Oh(i),r=gr(i),r.callback=null,mr(n,r,i),n=i,t.current.lanes=n,Eo(t,n),wn(t),e[us]=t.current,fd(e),new Qu(t)};Mu.version="19.1.0";function Fv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fv)}catch(e){console.error(e)}}Fv(),ay.exports=Mu;var lA=ay.exports;const uA=ny(lA);var $;(function(e){e[e.Canceled=1]="Canceled",e[e.Unknown=2]="Unknown",e[e.InvalidArgument=3]="InvalidArgument",e[e.DeadlineExceeded=4]="DeadlineExceeded",e[e.NotFound=5]="NotFound",e[e.AlreadyExists=6]="AlreadyExists",e[e.PermissionDenied=7]="PermissionDenied",e[e.ResourceExhausted=8]="ResourceExhausted",e[e.FailedPrecondition=9]="FailedPrecondition",e[e.Aborted=10]="Aborted",e[e.OutOfRange=11]="OutOfRange",e[e.Unimplemented=12]="Unimplemented",e[e.Internal=13]="Internal",e[e.Unavailable=14]="Unavailable",e[e.DataLoss=15]="DataLoss",e[e.Unauthenticated=16]="Unauthenticated"})($||($={}));function dm(e){const t=$[e];return typeof t!="string"?e.toString():t[0].toLowerCase()+t.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}class et extends Error{constructor(t,n=$.Unknown,i,r,a){super(cA(t,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=t,this.code=n,this.metadata=new Headers(i??{}),this.details=r??[],this.cause=a}static from(t,n=$.Unknown){return t instanceof et?t:t instanceof Error?t.name=="AbortError"?new et(t.message,$.Canceled):new et(t.message,n,void 0,void 0,t):new et(String(t),n,void 0,void 0,t)}static[Symbol.hasInstance](t){return t instanceof Error?Object.getPrototypeOf(t)===et.prototype?!0:t.name==="ConnectError"&&"code"in t&&typeof t.code=="number"&&"metadata"in t&&"details"in t&&Array.isArray(t.details)&&"rawMessage"in t&&typeof t.rawMessage=="string"&&"cause"in t:!1}findDetails(t){const n="typeName"in t?{findMessage:r=>r===t.typeName?t:void 0}:t,i=[];for(const r of this.details){if("getType"in r){n.findMessage(r.getType().typeName)&&i.push(r);continue}const a=n.findMessage(r.type);if(a)try{i.push(a.fromBinary(r.value))}catch{}}return i}}function cA(e,t){return e.length?`[${dm(t)}] ${e}`:`[${dm(t)}]`}function St(e,t){if(!e)throw new Error(t)}const fA=34028234663852886e22,hA=-34028234663852886e22,dA=4294967295,gA=2147483647,mA=-2147483648;function Nl(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>gA||e<mA)throw new Error("invalid int 32: "+e)}function Yf(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>dA||e<0)throw new Error("invalid uint 32: "+e)}function Wv(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>fA||e<hA))throw new Error("invalid float 32: "+e)}const t0=Symbol("@bufbuild/protobuf/enum-type");function yA(e){const t=e[t0];return St(t,"missing enum type on enum object"),t}function e0(e,t,n,i){e[t0]=n0(t,n.map(r=>({no:r.no,name:r.name,localName:e[r.no]})))}function n0(e,t,n){const i=Object.create(null),r=Object.create(null),a=[];for(const s of t){const o=i0(s);a.push(o),i[s.name]=o,r[s.no]=o}return{typeName:e,values:a,findName(s){return i[s]},findNumber(s){return r[s]}}}function pA(e,t,n){const i={};for(const r of t){const a=i0(r);i[a.localName]=a.no,i[a.no]=a.localName}return e0(i,e,t),i}function i0(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class R{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,n){const i=this.getType(),r=i.runtime.bin,a=r.makeReadOptions(n);return r.readMessage(this,a.readerFactory(t),t.byteLength,a),this}fromJson(t,n){const i=this.getType(),r=i.runtime.json,a=r.makeReadOptions(n);return r.readMessage(i,t,a,this),this}fromJsonString(t,n){let i;try{i=JSON.parse(t)}catch(r){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${r instanceof Error?r.message:String(r)}`)}return this.fromJson(i,n)}toBinary(t){const n=this.getType(),i=n.runtime.bin,r=i.makeWriteOptions(t),a=r.writerFactory();return i.writeMessage(this,a,r),a.finish()}toJson(t){const n=this.getType(),i=n.runtime.json,r=i.makeWriteOptions(t);return i.writeMessage(this,r)}toJsonString(t){var n;const i=this.toJson(t);return JSON.stringify(i,null,(n=t==null?void 0:t.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function vA(e,t,n,i){var r;const a=(r=i==null?void 0:i.localName)!==null&&r!==void 0?r:t.substring(t.lastIndexOf(".")+1),s={[a]:function(o){e.util.initFields(this),e.util.initPartial(o,this)}}[a];return Object.setPrototypeOf(s.prototype,new R),Object.assign(s,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary(o,l){return new s().fromBinary(o,l)},fromJson(o,l){return new s().fromJson(o,l)},fromJsonString(o,l){return new s().fromJsonString(o,l)},equals(o,l){return e.util.equals(s,o,l)}}),s}function SA(){let e=0,t=0;for(let i=0;i<28;i+=7){let r=this.buf[this.pos++];if(e|=(r&127)<<i,!(r&128))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(n&15)<<28,t=(n&112)>>4,!(n&128))return this.assertBounds(),[e,t];for(let i=3;i<=31;i+=7){let r=this.buf[this.pos++];if(t|=(r&127)<<i,!(r&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function Hc(e,t,n){for(let a=0;a<28;a=a+7){const s=e>>>a,o=!(!(s>>>7)&&t==0),l=(o?s|128:s)&255;if(n.push(l),!o)return}const i=e>>>28&15|(t&7)<<4,r=!!(t>>3);if(n.push((r?i|128:i)&255),!!r){for(let a=3;a<31;a=a+7){const s=t>>>a,o=!!(s>>>7),l=(o?s|128:s)&255;if(n.push(l),!o)return}n.push(t>>>31&1)}}const xl=4294967296;function gm(e){const t=e[0]==="-";t&&(e=e.slice(1));const n=1e6;let i=0,r=0;function a(s,o){const l=Number(e.slice(s,o));r*=n,i=i*n+l,i>=xl&&(r=r+(i/xl|0),i=i%xl)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),t?a0(i,r):vd(i,r)}function TA(e,t){let n=vd(e,t);const i=n.hi&2147483648;i&&(n=a0(n.lo,n.hi));const r=r0(n.lo,n.hi);return i?"-"+r:r}function r0(e,t){if({lo:e,hi:t}=bA(e,t),t<=2097151)return String(xl*t+e);const n=e&16777215,i=(e>>>24|t<<8)&16777215,r=t>>16&65535;let a=n+i*6777216+r*6710656,s=i+r*8147497,o=r*2;const l=1e7;return a>=l&&(s+=Math.floor(a/l),a%=l),s>=l&&(o+=Math.floor(s/l),s%=l),o.toString()+mm(s)+mm(a)}function bA(e,t){return{lo:e>>>0,hi:t>>>0}}function vd(e,t){return{lo:e|0,hi:t|0}}function a0(e,t){return t=~t,e?e=~e+1:t+=1,vd(e,t)}const mm=e=>{const t=String(e);return"0000000".slice(t.length)+t};function ym(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let n=0;n<9;n++)t.push(e&127|128),e=e>>7;t.push(1)}}function AA(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let n=5;e&128&&n<10;n++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}var pm={};function wA(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof process!="object"||typeof pm!="object"||pm.BUF_BIGINT_DISABLE!=="1")){const r=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),s=BigInt("0"),o=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>a||c<r)throw new Error(`int64 invalid: ${l}`);return c},uParse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>o||c<s)throw new Error(`uint64 invalid: ${l}`);return c},enc(l){return e.setBigInt64(0,this.parse(l),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(l){return e.setBigInt64(0,this.uParse(l),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(l,c){return e.setInt32(0,l,!0),e.setInt32(4,c,!0),e.getBigInt64(0,!0)},uDec(l,c){return e.setInt32(0,l,!0),e.setInt32(4,c,!0),e.getBigUint64(0,!0)}}}const n=r=>St(/^-?[0-9]+$/.test(r),`int64 invalid: ${r}`),i=r=>St(/^[0-9]+$/.test(r),`uint64 invalid: ${r}`);return{zero:"0",supported:!1,parse(r){return typeof r!="string"&&(r=r.toString()),n(r),r},uParse(r){return typeof r!="string"&&(r=r.toString()),i(r),r},enc(r){return typeof r!="string"&&(r=r.toString()),n(r),gm(r)},uEnc(r){return typeof r!="string"&&(r=r.toString()),i(r),gm(r)},dec(r,a){return TA(r,a)},uDec(r,a){return r0(r,a)}}}const ft=wA();var E;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(E||(E={}));var Or;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"})(Or||(Or={}));function _i(e,t,n){if(t===n)return!0;if(e==E.BYTES){if(!(t instanceof Uint8Array)||!(n instanceof Uint8Array)||t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==n[i])return!1;return!0}switch(e){case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return t==n}return!1}function Wa(e,t){switch(e){case E.BOOL:return!1;case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return t==0?ft.zero:"0";case E.DOUBLE:case E.FLOAT:return 0;case E.BYTES:return new Uint8Array(0);case E.STRING:return"";default:return 0}}function s0(e,t){switch(e){case E.BOOL:return t===!1;case E.STRING:return t==="";case E.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}var Nt;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(Nt||(Nt={}));class EA{constructor(t){this.stack=[],this.textEncoder=t??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let r=0;r<this.chunks.length;r++)t+=this.chunks[r].length;let n=new Uint8Array(t),i=0;for(let r=0;r<this.chunks.length;r++)n.set(this.chunks[r],i),i+=this.chunks[r].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,n){return this.uint32((t<<3|n)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(Yf(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return Nl(t),ym(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let n=this.textEncoder.encode(t);return this.uint32(n.byteLength),this.raw(n)}float(t){Wv(t);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,t,!0),this.raw(n)}double(t){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),this.raw(n)}fixed32(t){Yf(t);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t,!0),this.raw(n)}sfixed32(t){Nl(t);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),this.raw(n)}sint32(t){return Nl(t),t=(t<<1^t>>31)>>>0,ym(t,this.buf),this}sfixed64(t){let n=new Uint8Array(8),i=new DataView(n.buffer),r=ft.enc(t);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}fixed64(t){let n=new Uint8Array(8),i=new DataView(n.buffer),r=ft.uEnc(t);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}int64(t){let n=ft.enc(t);return Hc(n.lo,n.hi,this.buf),this}sint64(t){let n=ft.enc(t),i=n.hi>>31,r=n.lo<<1^i,a=(n.hi<<1|n.lo>>>31)^i;return Hc(r,a,this.buf),this}uint64(t){let n=ft.uEnc(t);return Hc(n.lo,n.hi,this.buf),this}}class NA{constructor(t,n){this.varint64=SA,this.uint32=AA,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=n??new TextDecoder}tag(){let t=this.uint32(),n=t>>>3,i=t&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(t,n){let i=this.pos;switch(t){case Nt.Varint:for(;this.buf[this.pos++]&128;);break;case Nt.Bit64:this.pos+=4;case Nt.Bit32:this.pos+=4;break;case Nt.LengthDelimited:let r=this.uint32();this.pos+=r;break;case Nt.StartGroup:for(;;){const[a,s]=this.tag();if(s===Nt.EndGroup){if(n!==void 0&&a!==n)throw new Error("invalid end group tag");break}this.skip(s,a)}break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return ft.dec(...this.varint64())}uint64(){return ft.uDec(...this.varint64())}sint64(){let[t,n]=this.varint64(),i=-(t&1);return t=(t>>>1|(n&1)<<31)^i,n=n>>>1^i,ft.dec(t,n)}bool(){let[t,n]=this.varint64();return t!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return ft.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return ft.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),n=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(n,n+t)}string(){return this.textDecoder.decode(this.bytes())}}function xA(e,t,n,i){let r;return{typeName:t,extendee:n,get field(){if(!r){const a=typeof i=="function"?i():i;a.name=t.split(".").pop(),a.jsonName=`[${t}]`,r=e.util.newFieldList([a]).list()[0]}return r},runtime:e}}function o0(e){const t=e.field.localName,n=Object.create(null);return n[t]=OA(e),[n,()=>n[t]]}function OA(e){const t=e.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return Wa(t.T,t.L);case"message":const n=t.T,i=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(i):i;case"map":throw"map fields are not allowed to be extensions"}}function DA(e,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.no)return[e[n]];return[]}return e.filter(n=>n.no===t.no)}let Di="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),_u=[];for(let e=0;e<Di.length;e++)_u[Di[e].charCodeAt(0)]=e;_u[45]=Di.indexOf("+");_u[95]=Di.indexOf("/");const Sd={dec(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let n=new Uint8Array(t),i=0,r=0,a,s=0;for(let o=0;o<e.length;o++){if(a=_u[e.charCodeAt(o)],a===void 0)switch(e[o]){case"=":r=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(r){case 0:s=a,r=1;break;case 1:n[i++]=s<<2|(a&48)>>4,s=a,r=2;break;case 2:n[i++]=(s&15)<<4|(a&60)>>2,s=a,r=3;break;case 3:n[i++]=(s&3)<<6|a,r=0;break}}if(r==1)throw Error("invalid base64 string.");return n.subarray(0,i)},enc(e){let t="",n=0,i,r=0;for(let a=0;a<e.length;a++)switch(i=e[a],n){case 0:t+=Di[i>>2],r=(i&3)<<4,n=1;break;case 1:t+=Di[r|i>>4],r=(i&15)<<2,n=2;break;case 2:t+=Di[r|i>>6],t+=Di[i&63],n=0;break}return n&&(t+=Di[r],t+="=",n==1&&(t+="=")),t}};function CA(e,t,n){u0(t,e);const i=t.runtime.bin.makeReadOptions(n),r=DA(e.getType().runtime.bin.listUnknownFields(e),t.field),[a,s]=o0(t);for(const o of r)t.runtime.bin.readField(a,i.readerFactory(o.data),t.field,o.wireType,i);return s()}function RA(e,t,n,i){u0(t,e);const r=t.runtime.bin.makeReadOptions(i),a=t.runtime.bin.makeWriteOptions(i);if(l0(e,t)){const c=e.getType().runtime.bin.listUnknownFields(e).filter(h=>h.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const h of c)e.getType().runtime.bin.onUnknownField(e,h.no,h.wireType,h.data)}const s=a.writerFactory();let o=t.field;!o.opt&&!o.repeated&&(o.kind=="enum"||o.kind=="scalar")&&(o=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(o,n,s,a);const l=r.readerFactory(s.finish());for(;l.pos<l.len;){const[c,h]=l.tag(),d=l.skip(h,c);e.getType().runtime.bin.onUnknownField(e,c,h,d)}}function l0(e,t){const n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find(i=>i.no==t.field.no)}function u0(e,t){St(e.extendee.typeName==t.getType().typeName,`extension ${e.typeName} can only be applied to message ${e.extendee.typeName}`)}function c0(e,t){const n=e.localName;if(e.repeated)return t[n].length>0;if(e.oneof)return t[e.oneof.localName].case===n;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?t[n]!==void 0:e.kind=="enum"?t[n]!==e.T.values[0].no:!s0(e.T,t[n]);case"message":return t[n]!==void 0;case"map":return Object.keys(t[n]).length>0}}function vm(e,t){const n=e.localName,i=!e.opt&&!e.req;if(e.repeated)t[n]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[n]={};break;case"enum":t[n]=i?e.T.values[0].no:void 0;break;case"scalar":t[n]=i?Wa(e.T,e.L):void 0;break;case"message":t[n]=void 0;break}}function Xr(e,t){if(e===null||typeof e!="object"||!Object.getOwnPropertyNames(R.prototype).every(i=>i in e&&typeof e[i]=="function"))return!1;const n=e.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:t===void 0?!0:n.typeName==t.typeName}function f0(e,t){return Xr(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}E.DOUBLE,E.FLOAT,E.INT64,E.UINT64,E.INT32,E.UINT32,E.BOOL,E.STRING,E.BYTES;const Sm={ignoreUnknownFields:!1},Tm={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function kA(e){return e?Object.assign(Object.assign({},Sm),e):Sm}function BA(e){return e?Object.assign(Object.assign({},Tm),e):Tm}const lu=Symbol(),Ol=Symbol();function IA(){return{makeReadOptions:kA,makeWriteOptions:BA,readMessage(e,t,n,i){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message ${e.typeName} from JSON: ${rn(t)}`);i=i??new e;const r=new Map,a=n.typeRegistry;for(const[s,o]of Object.entries(t)){const l=e.fields.findJsonName(s);if(l){if(l.oneof){if(o===null&&l.kind=="scalar")continue;const c=r.get(l.oneof);if(c!==void 0)throw new Error(`cannot decode message ${e.typeName} from JSON: multiple keys for oneof "${l.oneof.name}" present: "${c}", "${s}"`);r.set(l.oneof,s)}bm(i,o,l,n,e)}else{let c=!1;if(a!=null&&a.findExtension&&s.startsWith("[")&&s.endsWith("]")){const h=a.findExtension(s.substring(1,s.length-1));if(h&&h.extendee.typeName==e.typeName){c=!0;const[d,g]=o0(h);bm(d,o,h.field,n,h),RA(i,h,g(),n)}}if(!c&&!n.ignoreUnknownFields)throw new Error(`cannot decode message ${e.typeName} from JSON: key "${s}" is unknown`)}}return i},writeMessage(e,t){const n=e.getType(),i={};let r;try{for(r of n.fields.byNumber()){if(!c0(r,e)){if(r.req)throw"required field not set";if(!t.emitDefaultValues||!UA(r))continue}const s=r.oneof?e[r.oneof.localName].value:e[r.localName],o=Am(r,s,t);o!==void 0&&(i[t.useProtoFieldName?r.name:r.jsonName]=o)}const a=t.typeRegistry;if(a!=null&&a.findExtensionFor)for(const s of n.runtime.bin.listUnknownFields(e)){const o=a.findExtensionFor(n.typeName,s.no);if(o&&l0(e,o)){const l=CA(e,o,t),c=Am(o.field,l,t);c!==void 0&&(i[o.field.jsonName]=c)}}}catch(a){const s=r?`cannot encode field ${n.typeName}.${r.name} to JSON`:`cannot encode message ${n.typeName} to JSON`,o=a instanceof Error?a.message:String(a);throw new Error(s+(o.length>0?`: ${o}`:""))}return i},readScalar(e,t,n){return Ys(e,t,n??Or.BIGINT,!0)},writeScalar(e,t,n){if(t!==void 0&&(n||s0(e,t)))return Dl(e,t)},debug:rn}}function rn(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":`"${e.split('"').join('\\"')}"`;default:return String(e)}}function bm(e,t,n,i,r){let a=n.localName;if(n.repeated){if(St(n.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${rn(t)}`);const s=e[a];for(const o of t){if(o===null)throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${rn(o)}`);switch(n.kind){case"message":s.push(n.T.fromJson(o,i));break;case"enum":const l=Vc(n.T,o,i.ignoreUnknownFields,!0);l!==Ol&&s.push(l);break;case"scalar":try{s.push(Ys(n.T,o,n.L,!0))}catch(c){let h=`cannot decode field ${r.typeName}.${n.name} from JSON: ${rn(o)}`;throw c instanceof Error&&c.message.length>0&&(h+=`: ${c.message}`),new Error(h)}break}}}else if(n.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${rn(t)}`);const s=e[a];for(const[o,l]of Object.entries(t)){if(l===null)throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: map value null`);let c;try{c=MA(n.K,o)}catch(h){let d=`cannot decode map key for field ${r.typeName}.${n.name} from JSON: ${rn(t)}`;throw h instanceof Error&&h.message.length>0&&(d+=`: ${h.message}`),new Error(d)}switch(n.V.kind){case"message":s[c]=n.V.T.fromJson(l,i);break;case"enum":const h=Vc(n.V.T,l,i.ignoreUnknownFields,!0);h!==Ol&&(s[c]=h);break;case"scalar":try{s[c]=Ys(n.V.T,l,Or.BIGINT,!0)}catch(d){let g=`cannot decode map value for field ${r.typeName}.${n.name} from JSON: ${rn(t)}`;throw d instanceof Error&&d.message.length>0&&(g+=`: ${d.message}`),new Error(g)}break}}}else switch(n.oneof&&(e=e[n.oneof.localName]={case:a},a="value"),n.kind){case"message":const s=n.T;if(t===null&&s.typeName!="google.protobuf.Value")return;let o=e[a];Xr(o)?o.fromJson(t,i):(e[a]=o=s.fromJson(t,i),s.fieldWrapper&&!n.oneof&&(e[a]=s.fieldWrapper.unwrapField(o)));break;case"enum":const l=Vc(n.T,t,i.ignoreUnknownFields,!1);switch(l){case lu:vm(n,e);break;case Ol:break;default:e[a]=l;break}break;case"scalar":try{const c=Ys(n.T,t,n.L,!1);switch(c){case lu:vm(n,e);break;default:e[a]=c;break}}catch(c){let h=`cannot decode field ${r.typeName}.${n.name} from JSON: ${rn(t)}`;throw c instanceof Error&&c.message.length>0&&(h+=`: ${c.message}`),new Error(h)}break}}function MA(e,t){if(e===E.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1;break}return Ys(e,t,Or.BIGINT,!0).toString()}function Ys(e,t,n,i){if(t===null)return i?Wa(e,n):lu;switch(e){case E.DOUBLE:case E.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const r=Number(t);if(Number.isNaN(r)||!Number.isFinite(r))break;return e==E.FLOAT&&Wv(r),r;case E.INT32:case E.FIXED32:case E.SFIXED32:case E.SINT32:case E.UINT32:let a;if(typeof t=="number"?a=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(a=Number(t)),a===void 0)break;return e==E.UINT32||e==E.FIXED32?Yf(a):Nl(a),a;case E.INT64:case E.SFIXED64:case E.SINT64:if(typeof t!="number"&&typeof t!="string")break;const s=ft.parse(t);return n?s.toString():s;case E.FIXED64:case E.UINT64:if(typeof t!="number"&&typeof t!="string")break;const o=ft.uParse(t);return n?o.toString():o;case E.BOOL:if(typeof t!="boolean")break;return t;case E.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch{throw new Error("invalid UTF8")}return t;case E.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return Sd.dec(t)}throw new Error}function Vc(e,t,n,i){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:i?e.values[0].no:lu;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const r=e.findName(t);if(r!==void 0)return r.no;if(n)return Ol;break}throw new Error(`cannot decode enum ${e.typeName} from JSON: ${rn(t)}`)}function UA(e){return e.repeated||e.kind=="map"?!0:!(e.oneof||e.kind=="message"||e.opt||e.req)}function Am(e,t,n){if(e.kind=="map"){St(typeof t=="object"&&t!=null);const i={},r=Object.entries(t);switch(e.V.kind){case"scalar":for(const[s,o]of r)i[s.toString()]=Dl(e.V.T,o);break;case"message":for(const[s,o]of r)i[s.toString()]=o.toJson(n);break;case"enum":const a=e.V.T;for(const[s,o]of r)i[s.toString()]=jc(a,o,n.enumAsInteger);break}return n.emitDefaultValues||r.length>0?i:void 0}if(e.repeated){St(Array.isArray(t));const i=[];switch(e.kind){case"scalar":for(let r=0;r<t.length;r++)i.push(Dl(e.T,t[r]));break;case"enum":for(let r=0;r<t.length;r++)i.push(jc(e.T,t[r],n.enumAsInteger));break;case"message":for(let r=0;r<t.length;r++)i.push(t[r].toJson(n));break}return n.emitDefaultValues||i.length>0?i:void 0}switch(e.kind){case"scalar":return Dl(e.T,t);case"enum":return jc(e.T,t,n.enumAsInteger);case"message":return f0(e.T,t).toJson(n)}}function jc(e,t,n){var i;if(St(typeof t=="number"),e.typeName=="google.protobuf.NullValue")return null;if(n)return t;const r=e.findNumber(t);return(i=r==null?void 0:r.name)!==null&&i!==void 0?i:t}function Dl(e,t){switch(e){case E.INT32:case E.SFIXED32:case E.SINT32:case E.FIXED32:case E.UINT32:return St(typeof t=="number"),t;case E.FLOAT:case E.DOUBLE:return St(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case E.STRING:return St(typeof t=="string"),t;case E.BOOL:return St(typeof t=="boolean"),t;case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return St(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case E.BYTES:return St(t instanceof Uint8Array),Sd.enc(t)}}const ca=Symbol("@bufbuild/protobuf/unknown-fields"),wm={readUnknownFields:!0,readerFactory:e=>new NA(e)},Em={writeUnknownFields:!0,writerFactory:()=>new EA};function zA(e){return e?Object.assign(Object.assign({},wm),e):wm}function LA(e){return e?Object.assign(Object.assign({},Em),e):Em}function qA(){return{makeReadOptions:zA,makeWriteOptions:LA,listUnknownFields(e){var t;return(t=e[ca])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[ca]},writeUnknownFields(e,t){const i=e[ca];if(i)for(const r of i)t.tag(r.no,r.wireType).raw(r.data)},onUnknownField(e,t,n,i){const r=e;Array.isArray(r[ca])||(r[ca]=[]),r[ca].push({no:t,wireType:n,data:i})},readMessage(e,t,n,i,r){const a=e.getType(),s=r?t.len:t.pos+n;let o,l;for(;t.pos<s&&([o,l]=t.tag(),!(r===!0&&l==Nt.EndGroup));){const c=a.fields.find(o);if(!c){const h=t.skip(l,o);i.readUnknownFields&&this.onUnknownField(e,o,l,h);continue}Nm(e,t,c,l,i)}if(r&&(l!=Nt.EndGroup||o!==n))throw new Error("invalid end group tag")},readField:Nm,writeMessage(e,t,n){const i=e.getType();for(const r of i.fields.byNumber()){if(!c0(r,e)){if(r.req)throw new Error(`cannot encode field ${i.typeName}.${r.name} to binary: required field not set`);continue}const a=r.oneof?e[r.oneof.localName].value:e[r.localName];xm(r,a,t,n)}return n.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,n,i){t!==void 0&&xm(e,t,n,i)}}}function Nm(e,t,n,i,r){let{repeated:a,localName:s}=n;switch(n.oneof&&(e=e[n.oneof.localName],e.case!=s&&delete e.value,e.case=s,s="value"),n.kind){case"scalar":case"enum":const o=n.kind=="enum"?E.INT32:n.T;let l=uu;if(n.kind=="scalar"&&n.L>0&&(l=HA),a){let g=e[s];if(i==Nt.LengthDelimited&&o!=E.STRING&&o!=E.BYTES){let T=t.uint32()+t.pos;for(;t.pos<T;)g.push(l(t,o))}else g.push(l(t,o))}else e[s]=l(t,o);break;case"message":const c=n.T;a?e[s].push(Cl(t,new c,r,n)):Xr(e[s])?Cl(t,e[s],r,n):(e[s]=Cl(t,new c,r,n),c.fieldWrapper&&!n.oneof&&!n.repeated&&(e[s]=c.fieldWrapper.unwrapField(e[s])));break;case"map":let[h,d]=JA(n,t,r);e[s][h]=d;break}}function Cl(e,t,n,i){const r=t.getType().runtime.bin,a=i==null?void 0:i.delimited;return r.readMessage(t,e,a?i.no:e.uint32(),n,a),t}function JA(e,t,n){const i=t.uint32(),r=t.pos+i;let a,s;for(;t.pos<r;){const[o]=t.tag();switch(o){case 1:a=uu(t,e.K);break;case 2:switch(e.V.kind){case"scalar":s=uu(t,e.V.T);break;case"enum":s=t.int32();break;case"message":s=Cl(t,new e.V.T,n,void 0);break}break}}if(a===void 0&&(a=Wa(e.K,Or.BIGINT)),typeof a!="string"&&typeof a!="number"&&(a=a.toString()),s===void 0)switch(e.V.kind){case"scalar":s=Wa(e.V.T,Or.BIGINT);break;case"enum":s=e.V.T.values[0].no;break;case"message":s=new e.V.T;break}return[a,s]}function HA(e,t){const n=uu(e,t);return typeof n=="bigint"?n.toString():n}function uu(e,t){switch(t){case E.STRING:return e.string();case E.BOOL:return e.bool();case E.DOUBLE:return e.double();case E.FLOAT:return e.float();case E.INT32:return e.int32();case E.INT64:return e.int64();case E.UINT64:return e.uint64();case E.FIXED64:return e.fixed64();case E.BYTES:return e.bytes();case E.FIXED32:return e.fixed32();case E.SFIXED32:return e.sfixed32();case E.SFIXED64:return e.sfixed64();case E.SINT64:return e.sint64();case E.UINT32:return e.uint32();case E.SINT32:return e.sint32()}}function xm(e,t,n,i){St(t!==void 0);const r=e.repeated;switch(e.kind){case"scalar":case"enum":let a=e.kind=="enum"?E.INT32:e.T;if(r)if(St(Array.isArray(t)),e.packed)jA(n,a,e.no,t);else for(const s of t)Ks(n,a,e.no,s);else Ks(n,a,e.no,t);break;case"message":if(r){St(Array.isArray(t));for(const s of t)Om(n,i,e,s)}else Om(n,i,e,t);break;case"map":St(typeof t=="object"&&t!=null);for(const[s,o]of Object.entries(t))VA(n,i,e,s,o);break}}function VA(e,t,n,i,r){e.tag(n.no,Nt.LengthDelimited),e.fork();let a=i;switch(n.K){case E.INT32:case E.FIXED32:case E.UINT32:case E.SFIXED32:case E.SINT32:a=Number.parseInt(i);break;case E.BOOL:St(i=="true"||i=="false"),a=i=="true";break}switch(Ks(e,n.K,1,a),n.V.kind){case"scalar":Ks(e,n.V.T,2,r);break;case"enum":Ks(e,E.INT32,2,r);break;case"message":St(r!==void 0),e.tag(2,Nt.LengthDelimited).bytes(r.toBinary(t));break}e.join()}function Om(e,t,n,i){const r=f0(n.T,i);n.delimited?e.tag(n.no,Nt.StartGroup).raw(r.toBinary(t)).tag(n.no,Nt.EndGroup):e.tag(n.no,Nt.LengthDelimited).bytes(r.toBinary(t))}function Ks(e,t,n,i){St(i!==void 0);let[r,a]=h0(t);e.tag(n,r)[a](i)}function jA(e,t,n,i){if(!i.length)return;e.tag(n,Nt.LengthDelimited).fork();let[,r]=h0(t);for(let a=0;a<i.length;a++)e[r](i[a]);e.join()}function h0(e){let t=Nt.Varint;switch(e){case E.BYTES:case E.STRING:t=Nt.LengthDelimited;break;case E.DOUBLE:case E.FIXED64:case E.SFIXED64:t=Nt.Bit64;break;case E.FIXED32:case E.SFIXED32:case E.FLOAT:t=Nt.Bit32;break}const n=E[e].toLowerCase();return[t,n]}function PA(){return{setEnumType:e0,initPartial(e,t){if(e===void 0)return;const n=t.getType();for(const i of n.fields.byMember()){const r=i.localName,a=t,s=e;if(s[r]!=null)switch(i.kind){case"oneof":const o=s[r].case;if(o===void 0)continue;const l=i.findField(o);let c=s[r].value;l&&l.kind=="message"&&!Xr(c,l.T)?c=new l.T(c):l&&l.kind==="scalar"&&l.T===E.BYTES&&(c=ws(c)),a[r]={case:o,value:c};break;case"scalar":case"enum":let h=s[r];i.T===E.BYTES&&(h=i.repeated?h.map(ws):ws(h)),a[r]=h;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===E.BYTES)for(const[m,T]of Object.entries(s[r]))a[r][m]=ws(T);else Object.assign(a[r],s[r]);break;case"message":const g=i.V.T;for(const m of Object.keys(s[r])){let T=s[r][m];g.fieldWrapper||(T=new g(T)),a[r][m]=T}break}break;case"message":const d=i.T;if(i.repeated)a[r]=s[r].map(g=>Xr(g,d)?g:new d(g));else{const g=s[r];d.fieldWrapper?d.typeName==="google.protobuf.BytesValue"?a[r]=ws(g):a[r]=g:a[r]=Xr(g,d)?g:new d(g)}break}}},equals(e,t,n){return t===n?!0:!t||!n?!1:e.fields.byMember().every(i=>{const r=t[i.localName],a=n[i.localName];if(i.repeated){if(r.length!==a.length)return!1;switch(i.kind){case"message":return r.every((s,o)=>i.T.equals(s,a[o]));case"scalar":return r.every((s,o)=>_i(i.T,s,a[o]));case"enum":return r.every((s,o)=>_i(E.INT32,s,a[o]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":return i.T.equals(r,a);case"enum":return _i(E.INT32,r,a);case"scalar":return _i(i.T,r,a);case"oneof":if(r.case!==a.case)return!1;const s=i.findField(r.case);if(s===void 0)return!0;switch(s.kind){case"message":return s.T.equals(r.value,a.value);case"enum":return _i(E.INT32,r.value,a.value);case"scalar":return _i(s.T,r.value,a.value)}throw new Error(`oneof cannot contain ${s.kind}`);case"map":const o=Object.keys(r).concat(Object.keys(a));switch(i.V.kind){case"message":const l=i.V.T;return o.every(h=>l.equals(r[h],a[h]));case"enum":return o.every(h=>_i(E.INT32,r[h],a[h]));case"scalar":const c=i.V.T;return o.every(h=>_i(c,r[h],a[h]))}break}})},clone(e){const t=e.getType(),n=new t,i=n;for(const r of t.fields.byMember()){const a=e[r.localName];let s;if(r.repeated)s=a.map(sl);else if(r.kind=="map"){s=i[r.localName];for(const[o,l]of Object.entries(a))s[o]=sl(l)}else r.kind=="oneof"?s=r.findField(a.case)?{case:a.case,value:sl(a.value)}:{case:void 0}:s=sl(a);i[r.localName]=s}for(const r of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(i,r.no,r.wireType,r.data);return n}}}function sl(e){if(e===void 0)return e;if(Xr(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function ws(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function GA(e,t,n){return{syntax:e,json:IA(),bin:qA(),util:Object.assign(Object.assign({},PA()),{newFieldList:t,initFields:n}),makeMessageType(i,r,a){return vA(this,i,r,a)},makeEnum:pA,makeEnumType:n0,getEnumType:yA,makeExtension(i,r,a){return xA(this,i,r,a)}}}class YA{constructor(t,n){this._fields=t,this._normalizer=n}findJsonName(t){if(!this.jsonNames){const n={};for(const i of this.list())n[i.jsonName]=n[i.name]=i;this.jsonNames=n}return this.jsonNames[t]}find(t){if(!this.numbers){const n={};for(const i of this.list())n[i.no]=i;this.numbers=n}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,n)=>t.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const t=this.members;let n;for(const i of this.list())i.oneof?i.oneof!==n&&(n=i.oneof,t.push(n)):t.push(i)}return this.members}}function d0(e,t){const n=g0(e);return t?n:_A(QA(n))}function KA(e){return d0(e,!1)}const $A=g0;function g0(e){let t=!1;const n=[];for(let i=0;i<e.length;i++){let r=e.charAt(i);switch(r){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(r),t=!1;break;default:t&&(t=!1,r=r.toUpperCase()),n.push(r);break}}return n.join("")}const XA=new Set(["constructor","toString","toJSON","valueOf"]),ZA=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),m0=e=>`${e}$`,QA=e=>ZA.has(e)?m0(e):e,_A=e=>XA.has(e)?m0(e):e;class FA{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=KA(t)}addField(t){St(t.oneof===this,`field ${t.name} not one of ${this.name}`),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[t]}}function WA(e,t){var n,i,r,a,s,o;const l=[];let c;for(const h of typeof e=="function"?e():e){const d=h;if(d.localName=d0(h.name,h.oneof!==void 0),d.jsonName=(n=h.jsonName)!==null&&n!==void 0?n:$A(h.name),d.repeated=(i=h.repeated)!==null&&i!==void 0?i:!1,h.kind=="scalar"&&(d.L=(r=h.L)!==null&&r!==void 0?r:Or.BIGINT),d.delimited=(a=h.delimited)!==null&&a!==void 0?a:!1,d.req=(s=h.req)!==null&&s!==void 0?s:!1,d.opt=(o=h.opt)!==null&&o!==void 0?o:!1,h.packed===void 0&&(d.packed=h.kind=="enum"||h.kind=="scalar"&&h.T!=E.BYTES&&h.T!=E.STRING),h.oneof!==void 0){const g=typeof h.oneof=="string"?h.oneof:h.oneof.name;(!c||c.name!=g)&&(c=new FA(g)),d.oneof=c,c.addField(d)}l.push(d)}return l}const f=GA("proto3",e=>new YA(e,t=>WA(t)),e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,i=e;if(t.repeated){i[n]=[];continue}switch(t.kind){case"oneof":i[n]={case:void 0};break;case"enum":i[n]=0;break;case"map":i[n]={};break;case"scalar":i[n]=Wa(t.T,t.L);break}}});var Xt;(function(e){e[e.Unary=0]="Unary",e[e.ServerStreaming=1]="ServerStreaming",e[e.ClientStreaming=2]="ClientStreaming",e[e.BiDiStreaming=3]="BiDiStreaming"})(Xt||(Xt={}));var Dm;(function(e){e[e.NoSideEffects=1]="NoSideEffects",e[e.Idempotent=2]="Idempotent"})(Dm||(Dm={}));class Gt extends R{constructor(t){super(),this.seconds=ft.zero,this.nanos=0,f.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${f.json.debug(t)}`);const i=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const r=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(r))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=ft.parse(r/1e3),this.nanos=0,i[7]&&(this.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),this}toJson(t){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let i="Z";if(this.nanos>0){const r=(this.nanos+1e9).toString().substring(1);r.substring(3)==="000000"?i="."+r.substring(0,3)+"Z":r.substring(6)==="000"?i="."+r.substring(0,6)+"Z":i="."+r+"Z"}return new Date(n).toISOString().replace(".000Z",i)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return Gt.fromDate(new Date)}static fromDate(t){const n=t.getTime();return new Gt({seconds:ft.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(t,n){return new Gt().fromBinary(t,n)}static fromJson(t,n){return new Gt().fromJson(t,n)}static fromJsonString(t,n){return new Gt().fromJsonString(t,n)}static equals(t,n){return f.util.equals(Gt,t,n)}}Gt.runtime=f;Gt.typeName="google.protobuf.Timestamp";Gt.fields=f.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Mi extends R{constructor(t){super(),this.seconds=ft.zero,this.nanos=0,f.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);const i=t.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(i===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);const r=Number(i[1]);if(r>315576e6||r<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);if(this.seconds=ft.parse(r),typeof i[2]=="string"){const a=i[2]+"0".repeat(9-i[2].length);this.nanos=parseInt(a),(r<0||Object.is(r,-0))&&(this.nanos=-this.nanos)}return this}toJson(t){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let n=this.seconds.toString();if(this.nanos!==0){let i=Math.abs(this.nanos).toString();i="0".repeat(9-i.length)+i,i.substring(3)==="000000"?i=i.substring(0,3):i.substring(6)==="000"&&(i=i.substring(0,6)),n+="."+i,this.nanos<0&&Number(this.seconds)==0&&(n="-"+n)}return n+"s"}static fromBinary(t,n){return new Mi().fromBinary(t,n)}static fromJson(t,n){return new Mi().fromJson(t,n)}static fromJsonString(t,n){return new Mi().fromJsonString(t,n)}static equals(t,n){return f.util.equals(Mi,t,n)}}Mi.runtime=f;Mi.typeName="google.protobuf.Duration";Mi.fields=f.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class sn extends R{constructor(t){super(),this.typeUrl="",this.value=new Uint8Array(0),f.util.initPartial(t,this)}toJson(t){var n;if(this.typeUrl==="")return{};const i=this.typeUrlToName(this.typeUrl),r=(n=t==null?void 0:t.typeRegistry)===null||n===void 0?void 0:n.findMessage(i);if(!r)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let s=r.fromBinary(this.value).toJson(t);return(i.startsWith("google.protobuf.")||s===null||Array.isArray(s)||typeof s!="object")&&(s={value:s}),s["@type"]=this.typeUrl,s}fromJson(t,n){var i;if(t===null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${t===null?"null":Array.isArray(t)?"array":typeof t}`);if(Object.keys(t).length==0)return this;const r=t["@type"];if(typeof r!="string"||r=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const a=this.typeUrlToName(r),s=(i=n==null?void 0:n.typeRegistry)===null||i===void 0?void 0:i.findMessage(a);if(!s)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${r} is not in the type registry`);let o;if(a.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(t,"value"))o=s.fromJson(t.value,n);else{const l=Object.assign({},t);delete l["@type"],o=s.fromJson(l,n)}return this.packFrom(o),this}packFrom(t){this.value=t.toBinary(),this.typeUrl=this.typeNameToUrl(t.getType().typeName)}unpackTo(t){return this.is(t.getType())?(t.fromBinary(this.value),!0):!1}unpack(t){if(this.typeUrl==="")return;const n=t.findMessage(this.typeUrlToName(this.typeUrl));if(n)return n.fromBinary(this.value)}is(t){if(this.typeUrl==="")return!1;const n=this.typeUrlToName(this.typeUrl);let i="";return typeof t=="string"?i=t:i=t.typeName,n===i}typeNameToUrl(t){return`type.googleapis.com/${t}`}typeUrlToName(t){if(!t.length)throw new Error(`invalid type url: ${t}`);const n=t.lastIndexOf("/"),i=n>=0?t.substring(n+1):t;if(!i.length)throw new Error(`invalid type url: ${t}`);return i}static pack(t){const n=new sn;return n.packFrom(t),n}static fromBinary(t,n){return new sn().fromBinary(t,n)}static fromJson(t,n){return new sn().fromJson(t,n)}static fromJsonString(t,n){return new sn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(sn,t,n)}}sn.runtime=f;sn.typeName="google.protobuf.Any";sn.fields=f.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class ln extends R{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.DOUBLE,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.DOUBLE,t)}catch(i){let r='cannot decode message google.protobuf.DoubleValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new ln().fromBinary(t,n)}static fromJson(t,n){return new ln().fromJson(t,n)}static fromJsonString(t,n){return new ln().fromJsonString(t,n)}static equals(t,n){return f.util.equals(ln,t,n)}}ln.runtime=f;ln.typeName="google.protobuf.DoubleValue";ln.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);ln.fieldWrapper={wrapField(e){return new ln({value:e})},unwrapField(e){return e.value}};class un extends R{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.FLOAT,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.FLOAT,t)}catch(i){let r='cannot decode message google.protobuf.FloatValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new un().fromBinary(t,n)}static fromJson(t,n){return new un().fromJson(t,n)}static fromJsonString(t,n){return new un().fromJsonString(t,n)}static equals(t,n){return f.util.equals(un,t,n)}}un.runtime=f;un.typeName="google.protobuf.FloatValue";un.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);un.fieldWrapper={wrapField(e){return new un({value:e})},unwrapField(e){return e.value}};class cn extends R{constructor(t){super(),this.value=ft.zero,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.INT64,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.INT64,t)}catch(i){let r='cannot decode message google.protobuf.Int64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new cn().fromBinary(t,n)}static fromJson(t,n){return new cn().fromJson(t,n)}static fromJsonString(t,n){return new cn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(cn,t,n)}}cn.runtime=f;cn.typeName="google.protobuf.Int64Value";cn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);cn.fieldWrapper={wrapField(e){return new cn({value:e})},unwrapField(e){return e.value}};class fn extends R{constructor(t){super(),this.value=ft.zero,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.UINT64,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.UINT64,t)}catch(i){let r='cannot decode message google.protobuf.UInt64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new fn().fromBinary(t,n)}static fromJson(t,n){return new fn().fromJson(t,n)}static fromJsonString(t,n){return new fn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(fn,t,n)}}fn.runtime=f;fn.typeName="google.protobuf.UInt64Value";fn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);fn.fieldWrapper={wrapField(e){return new fn({value:e})},unwrapField(e){return e.value}};class hn extends R{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.INT32,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.INT32,t)}catch(i){let r='cannot decode message google.protobuf.Int32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new hn().fromBinary(t,n)}static fromJson(t,n){return new hn().fromJson(t,n)}static fromJsonString(t,n){return new hn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(hn,t,n)}}hn.runtime=f;hn.typeName="google.protobuf.Int32Value";hn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);hn.fieldWrapper={wrapField(e){return new hn({value:e})},unwrapField(e){return e.value}};class dn extends R{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.UINT32,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.UINT32,t)}catch(i){let r='cannot decode message google.protobuf.UInt32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new dn().fromBinary(t,n)}static fromJson(t,n){return new dn().fromJson(t,n)}static fromJsonString(t,n){return new dn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(dn,t,n)}}dn.runtime=f;dn.typeName="google.protobuf.UInt32Value";dn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);dn.fieldWrapper={wrapField(e){return new dn({value:e})},unwrapField(e){return e.value}};class gn extends R{constructor(t){super(),this.value=!1,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.BOOL,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.BOOL,t)}catch(i){let r='cannot decode message google.protobuf.BoolValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new gn().fromBinary(t,n)}static fromJson(t,n){return new gn().fromJson(t,n)}static fromJsonString(t,n){return new gn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(gn,t,n)}}gn.runtime=f;gn.typeName="google.protobuf.BoolValue";gn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);gn.fieldWrapper={wrapField(e){return new gn({value:e})},unwrapField(e){return e.value}};class he extends R{constructor(t){super(),this.value="",f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.STRING,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.STRING,t)}catch(i){let r='cannot decode message google.protobuf.StringValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new he().fromBinary(t,n)}static fromJson(t,n){return new he().fromJson(t,n)}static fromJsonString(t,n){return new he().fromJsonString(t,n)}static equals(t,n){return f.util.equals(he,t,n)}}he.runtime=f;he.typeName="google.protobuf.StringValue";he.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);he.fieldWrapper={wrapField(e){return new he({value:e})},unwrapField(e){return e.value}};class mn extends R{constructor(t){super(),this.value=new Uint8Array(0),f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.BYTES,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.BYTES,t)}catch(i){let r='cannot decode message google.protobuf.BytesValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new mn().fromBinary(t,n)}static fromJson(t,n){return new mn().fromJson(t,n)}static fromJsonString(t,n){return new mn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(mn,t,n)}}mn.runtime=f;mn.typeName="google.protobuf.BytesValue";mn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);mn.fieldWrapper={wrapField(e){return new mn({value:e})},unwrapField(e){return e.value}};function t1(e,t,n){try{const i=Sd.dec(e);return t?t.fromBinary(i,n):i}catch(i){throw et.from(i,$.DataLoss)}}function e1(e,t){const n={};for(const[i,r]of Object.entries(e.methods)){const a=t(Object.assign(Object.assign({},r),{localName:i,service:e}));a!=null&&(n[i]=a)}return n}const Cm=1;function Rm(e){let t,n=new Uint8Array(0);function i(r){const a=new Uint8Array(n.length+r.length);a.set(n),a.set(r,n.length),n=a}return new ReadableStream({start(){t=e.getReader()},async pull(r){let a;for(;;){if(a===void 0&&n.byteLength>=5){let l=0;for(let c=1;c<5;c++)l=(l<<8)+n[c];a={flags:n[0],length:l}}if(a!==void 0&&n.byteLength>=a.length+5)break;const o=await t.read();if(o.done)break;i(o.value)}if(a===void 0){if(n.byteLength==0){r.close();return}r.error(new et("premature end of stream",$.DataLoss));return}const s=n.subarray(5,5+a.length);n=n.subarray(5+a.length),r.enqueue({flags:a.flags,data:s})}})}function km(e,t){const n=new Uint8Array(t.length+5);n.set(t,5);const i=new DataView(n.buffer,n.byteOffset,n.byteLength);return i.setUint8(0,e),i.setUint32(1,t.length),n}var n1=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(s){return new Promise(function(o,l){s=e[a](s),r(o,l,s.done,s.value)})}}function r(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}},co=function(e){return this instanceof co?(this.v=e,this):new co(e)},i1=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r={},o("next"),o("throw"),o("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(m){return function(T){return Promise.resolve(T).then(m,d)}}function o(m,T){i[m]&&(r[m]=function(w){return new Promise(function(C,p){a.push([m,w,C,p])>1||l(m,w)})},T&&(r[m]=T(r[m])))}function l(m,T){try{c(i[m](T))}catch(w){g(a[0][3],w)}}function c(m){m.value instanceof co?Promise.resolve(m.value.v).then(h,d):g(a[0][2],m)}function h(m){l("next",m)}function d(m){l("throw",m)}function g(m,T){m(T),a.shift(),a.length&&l(a[0][0],a[0][1])}},r1=function(e){var t,n;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,a){t[r]=e[r]?function(s){return(n=!n)?{value:co(e[r](s)),done:!1}:a?a(s):s}:a}};function a1(e){return i1(this,arguments,function*(){yield co(yield*r1(n1(e)))})}var y0=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(s){return new Promise(function(o,l){s=e[a](s),r(o,l,s.done,s.value)})}}function r(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}},ts=function(e){return this instanceof ts?(this.v=e,this):new ts(e)},s1=function(e){var t,n;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,a){t[r]=e[r]?function(s){return(n=!n)?{value:ts(e[r](s)),done:!1}:a?a(s):s}:a}},o1=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r={},o("next"),o("throw"),o("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(m){return function(T){return Promise.resolve(T).then(m,d)}}function o(m,T){i[m]&&(r[m]=function(w){return new Promise(function(C,p){a.push([m,w,C,p])>1||l(m,w)})},T&&(r[m]=T(r[m])))}function l(m,T){try{c(i[m](T))}catch(w){g(a[0][3],w)}}function c(m){m.value instanceof ts?Promise.resolve(m.value.v).then(h,d):g(a[0][2],m)}function h(m){l("next",m)}function d(m){l("throw",m)}function g(m,T){m(T),a.shift(),a.length&&l(a[0][0],a[0][1])}};function l1(e,t){return e1(e,n=>{switch(n.kind){case Xt.Unary:return c1(t,e,n);case Xt.ServerStreaming:return f1(t,e,n);case Xt.ClientStreaming:return h1(t,e,n);case Xt.BiDiStreaming:return d1(t,e,n);default:return null}})}function u1(e,t){return l1(e,t)}function c1(e,t,n){return async function(i,r){var a,s;const o=await e.unary(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,i,r==null?void 0:r.contextValues);return(a=r==null?void 0:r.onHeader)===null||a===void 0||a.call(r,o.header),(s=r==null?void 0:r.onTrailer)===null||s===void 0||s.call(r,o.trailer),o.message}}function f1(e,t,n){return function(i,r){return p0(e.stream(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,a1([i]),r==null?void 0:r.contextValues),r)}}function h1(e,t,n){return async function(i,r){var a,s,o,l,c,h;const d=await e.stream(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,i,r==null?void 0:r.contextValues);(c=r==null?void 0:r.onHeader)===null||c===void 0||c.call(r,d.header);let g,m=0;try{for(var T=!0,w=y0(d.message),C;C=await w.next(),a=C.done,!a;T=!0)l=C.value,T=!1,g=l,m++}catch(p){s={error:p}}finally{try{!T&&!a&&(o=w.return)&&await o.call(w)}finally{if(s)throw s.error}}if(!g)throw new et("protocol error: missing response message",$.Unimplemented);if(m>1)throw new et("protocol error: received extra messages for client streaming method",$.Unimplemented);return(h=r==null?void 0:r.onTrailer)===null||h===void 0||h.call(r,d.trailer),g}}function d1(e,t,n){return function(i,r){return p0(e.stream(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,i,r==null?void 0:r.contextValues),r)}}function p0(e,t){const n=function(){return o1(this,arguments,function*(){var i,r;const a=yield ts(e);(i=t==null?void 0:t.onHeader)===null||i===void 0||i.call(t,a.header),yield ts(yield*s1(y0(a.message))),(r=t==null?void 0:t.onTrailer)===null||r===void 0||r.call(t,a.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function g1(...e){const t=new AbortController,n=e.filter(r=>r!==void 0).concat(t.signal);for(const r of n){if(r.aborted){i.apply(r);break}r.addEventListener("abort",i)}function i(){t.signal.aborted||t.abort(v0(this));for(const r of n)r.removeEventListener("abort",i)}return t}function m1(e){const t=new AbortController,n=()=>{t.abort(new et("the operation timed out",$.DeadlineExceeded))};let i;return e!==void 0&&(e<=0?n():i=setTimeout(n,e)),{signal:t.signal,cleanup:()=>clearTimeout(i)}}function v0(e){if(!e.aborted)return;if(e.reason!==void 0)return e.reason;const t=new Error("This operation was aborted");return t.name="AbortError",t}function Bm(){return{get(e){return e.id in this?this[e.id]:e.defaultValue},set(e,t){return this[e.id]=t,this},delete(e){return delete this[e.id],this}}}const Pc=128;function Im(e){const t=new Headers,n=new TextDecoder().decode(e).split(`\r
`);for(const i of n){if(i==="")continue;const r=i.indexOf(":");if(r>0){const a=i.substring(0,r).trim(),s=i.substring(r+1).trim();t.append(a,s)}}return t}const y1="Content-Type",p1="Grpc-Timeout",es="Grpc-Status",S0="Grpc-Message",v1="Grpc-Status-Details-Bin",S1="X-User-Agent",T1="X-Grpc-Web",b1="application/grpc-web+proto",A1="application/grpc-web+json";class Ui extends R{constructor(t){super(),this.code=0,this.message="",this.details=[],f.util.initPartial(t,this)}static fromBinary(t,n){return new Ui().fromBinary(t,n)}static fromJson(t,n){return new Ui().fromJson(t,n)}static fromJsonString(t,n){return new Ui().fromJsonString(t,n)}static equals(t,n){return f.util.equals(Ui,t,n)}}Ui.runtime=f;Ui.typeName="google.rpc.Status";Ui.fields=f.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:sn,repeated:!0}]);const w1="0";function T0(e){var t;const n=e.get(v1);if(n!=null){const r=t1(n,Ui);if(r.code==0)return;const a=new et(r.message,r.code,e);return a.details=r.details.map(s=>({type:s.typeUrl.substring(s.typeUrl.lastIndexOf("/")+1),value:s.value})),a}const i=e.get(es);if(i!=null){if(i===w1)return;const r=parseInt(i,10);return r in $?new et(decodeURIComponent((t=e.get(S0))!==null&&t!==void 0?t:""),r,e):new et(`invalid grpc-status: ${i}`,$.Internal,e)}}function Mm(e,t,n){const i=typeof t=="string"?t:t.typeName,r=typeof n=="string"?n:n.name;return e.toString().replace(/\/?$/,`/${i}/${r}`)}function b0(e,t){return t instanceof e?t:new e(t)}function E1(e,t){function n(i){return i.done===!0?i:{done:i.done,value:b0(e,i.value)}}return{[Symbol.asyncIterator](){const i=t[Symbol.asyncIterator](),r={next:()=>i.next().then(n)};return i.throw!==void 0&&(r.throw=a=>i.throw(a).then(n)),i.return!==void 0&&(r.return=a=>i.return(a).then(n)),r}}}function A0(e,t){var n;return(n=t==null?void 0:t.concat().reverse().reduce((i,r)=>r(i),e))!==null&&n!==void 0?n:e}function N1(e){var t;const n=Object.assign({},e);return(t=n.ignoreUnknownFields)!==null&&t!==void 0||(n.ignoreUnknownFields=!0),n}function Um(e,t,n,i){const r=t?zm(e.I,i):Lm(e.I,n);return{parse:(t?zm(e.O,i):Lm(e.O,n)).parse,serialize:r.serialize}}function zm(e,t){return{parse(n){try{return e.fromBinary(n,t)}catch(i){const r=i instanceof Error?i.message:String(i);throw new et(`parse binary: ${r}`,$.Internal)}},serialize(n){try{return n.toBinary(t)}catch(i){const r=i instanceof Error?i.message:String(i);throw new et(`serialize binary: ${r}`,$.Internal)}}}}function Lm(e,t){var n,i;const r=(n=t==null?void 0:t.textEncoder)!==null&&n!==void 0?n:new TextEncoder,a=(i=t==null?void 0:t.textDecoder)!==null&&i!==void 0?i:new TextDecoder,s=N1(t);return{parse(o){try{const l=a.decode(o);return e.fromJsonString(l,s)}catch(l){throw et.from(l,$.InvalidArgument)}},serialize(o){try{const l=o.toJsonString(s);return r.encode(l)}catch(l){throw et.from(l,$.Internal)}}}}function x1(e){const t=A0(e.next,e.interceptors),[n,i,r]=w0(e),a=Object.assign(Object.assign({},e.req),{message:b0(e.req.method.I,e.req.message),signal:n});return t(a).then(s=>(r(),s),i)}function O1(e){const t=A0(e.next,e.interceptors),[n,i,r]=w0(e),a=Object.assign(Object.assign({},e.req),{message:E1(e.req.method.I,e.req.message),signal:n});let s=!1;return n.addEventListener("abort",function(){var o,l;const c=e.req.message[Symbol.asyncIterator]();s||(o=c.throw)===null||o===void 0||o.call(c,this.reason).catch(()=>{}),(l=c.return)===null||l===void 0||l.call(c).catch(()=>{})}),t(a).then(o=>Object.assign(Object.assign({},o),{message:{[Symbol.asyncIterator](){const l=o.message[Symbol.asyncIterator]();return{next(){return l.next().then(c=>(c.done==!0&&(s=!0,r()),c),i)}}}}}),i)}function w0(e){const{signal:t,cleanup:n}=m1(e.timeoutMs),i=g1(e.signal,t);return[i.signal,function(a){const s=et.from(t.aborted?v0(t):a);return i.abort(s),n(),Promise.reject(s)},function(){n(),i.abort()}]}function D1(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function qm(e,t){const n=T0(e);if(n)throw t.forEach((i,r)=>{n.metadata.append(r,i)}),n;if(!t.has(es)&&!e.has(es))throw new et("protocol error: missing status",$.Internal)}function Jm(e,t,n,i){const r=new Headers(n??{});return r.set(y1,e?b1:A1),r.set(T1,"1"),r.set(S1,"connect-es/1.6.1"),t!==void 0&&r.set(p1,`${t}m`),r}function C1(e){switch(e){case 400:return $.Internal;case 401:return $.Unauthenticated;case 403:return $.PermissionDenied;case 404:return $.Unimplemented;case 429:return $.Unavailable;case 502:return $.Unavailable;case 503:return $.Unavailable;case 504:return $.Unavailable;default:return $.Unknown}}function Hm(e,t){var n;if(e>=200&&e<300)return{foundStatus:t.has(es),headerError:T0(t)};throw new et(decodeURIComponent((n=t.get(S0))!==null&&n!==void 0?n:`HTTP ${e}`),C1(e),t)}var Jr=function(e){return this instanceof Jr?(this.v=e,this):new Jr(e)},R1=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r={},o("next"),o("throw"),o("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(m){return function(T){return Promise.resolve(T).then(m,d)}}function o(m,T){i[m]&&(r[m]=function(w){return new Promise(function(C,p){a.push([m,w,C,p])>1||l(m,w)})},T&&(r[m]=T(r[m])))}function l(m,T){try{c(i[m](T))}catch(w){g(a[0][3],w)}}function c(m){m.value instanceof Jr?Promise.resolve(m.value.v).then(h,d):g(a[0][2],m)}function h(m){l("next",m)}function d(m){l("throw",m)}function g(m,T){m(T),a.shift(),a.length&&l(a[0][0],a[0][1])}};function k1(e){var t;D1();const n=(t=e.useBinaryFormat)!==null&&t!==void 0?t:!0;return{async unary(i,r,a,s,o,l,c){var h;const{serialize:d,parse:g}=Um(r,n,e.jsonOptions,e.binaryOptions);return s=s===void 0?e.defaultTimeoutMs:s<=0?void 0:s,await x1({interceptors:e.interceptors,signal:a,timeoutMs:s,req:{stream:!1,service:i,method:r,url:Mm(e.baseUrl,i,r),init:{method:"POST",credentials:(h=e.credentials)!==null&&h!==void 0?h:"same-origin",redirect:"error",mode:"cors"},header:Jm(n,s,o),contextValues:c??Bm(),message:l},next:async m=>{var T;const C=await((T=e.fetch)!==null&&T!==void 0?T:globalThis.fetch)(m.url,Object.assign(Object.assign({},m.init),{headers:m.header,signal:m.signal,body:km(0,d(m.message))})),{headerError:p}=Hm(C.status,C.headers);if(!C.body)throw p!==void 0?p:"missing response body";const y=Rm(C.body).getReader();let v,b;for(;;){const N=await y.read();if(N.done)break;const{flags:k,data:O}=N.value;if((k&Cm)===Cm)throw new et("protocol error: received unsupported compressed output",$.Internal);if(k===Pc){if(v!==void 0)throw"extra trailer";v=Im(O);continue}if(b!==void 0)throw new et("extra message",$.Unimplemented);b=g(O)}if(v===void 0)throw p!==void 0?p:new et("missing trailer",C.headers.has(es)?$.Unimplemented:$.Unknown);if(qm(v,C.headers),b===void 0)throw new et("missing message",v.has(es)?$.Unimplemented:$.Unknown);return{stream:!1,service:i,method:r,header:C.headers,message:b,trailer:v}}})},async stream(i,r,a,s,o,l,c){var h;const{serialize:d,parse:g}=Um(r,n,e.jsonOptions,e.binaryOptions);function m(w,C,p,y,v){return R1(this,arguments,function*(){const N=Rm(w).getReader();if(C){if(!(yield Jr(N.read())).done)throw"extra data for trailers-only";return yield Jr(void 0)}let k=!1;for(;;){const O=yield Jr(N.read());if(O.done)break;const{flags:B,data:Z}=O.value;if((B&Pc)===Pc){if(k)throw"extra trailer";k=!0;const J=Im(Z);qm(J,y),J.forEach((Ct,oe)=>p.set(oe,Ct));continue}if(k)throw"extra message";yield yield Jr(g(Z))}if("throwIfAborted"in v&&v.throwIfAborted(),!k)throw"missing trailer"})}async function T(w){if(r.kind!=Xt.ServerStreaming)throw"The fetch API does not support streaming request bodies";const C=await w[Symbol.asyncIterator]().next();if(C.done==!0)throw"missing request message";return km(0,d(C.value))}return s=s===void 0?e.defaultTimeoutMs:s<=0?void 0:s,O1({interceptors:e.interceptors,signal:a,timeoutMs:s,req:{stream:!0,service:i,method:r,url:Mm(e.baseUrl,i,r),init:{method:"POST",credentials:(h=e.credentials)!==null&&h!==void 0?h:"same-origin",redirect:"error",mode:"cors"},header:Jm(n,s,o),contextValues:c??Bm(),message:l},next:async w=>{var C;const y=await((C=e.fetch)!==null&&C!==void 0?C:globalThis.fetch)(w.url,Object.assign(Object.assign({},w.init),{headers:w.header,signal:w.signal,body:await T(w.message)})),{foundStatus:v,headerError:b}=Hm(y.status,y.headers);if(b!=null)throw b;if(!y.body)throw"missing response body";const N=new Headers;return Object.assign(Object.assign({},w),{header:y.headers,trailer:N,message:m(y.body,v,N,y.headers,w.signal)})}})}}}var H=(e=>(e[e.NULL=0]="NULL",e[e.BOOLEAN=1]="BOOLEAN",e[e.INTEGER=2]="INTEGER",e[e.LONG=3]="LONG",e[e.DOUBLE=4]="DOUBLE",e[e.STRING=5]="STRING",e[e.BYTES=6]="BYTES",e[e.DATE=7]="DATE",e[e.JSON_OBJECT=8]="JSON_OBJECT",e[e.JSON_ARRAY=9]="JSON_ARRAY",e[e.TEXT=10]="TEXT",e[e.INTEGER_CNT=11]="INTEGER_CNT",e[e.LONG_CNT=12]="LONG_CNT",e[e.TREE=13]="TREE",e))(H||{});f.util.setEnumType(H,"yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER"},{no:3,name:"VALUE_TYPE_LONG"},{no:4,name:"VALUE_TYPE_DOUBLE"},{no:5,name:"VALUE_TYPE_STRING"},{no:6,name:"VALUE_TYPE_BYTES"},{no:7,name:"VALUE_TYPE_DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE"}]);var Zr=(e=>(e[e.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",e[e.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",e[e.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",e[e.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",e))(Zr||{});f.util.setEnumType(Zr,"yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST"}]);const On=class On extends R{constructor(n){super();u(this,"root");u(this,"presences",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new On().fromBinary(n,i)}static fromJson(n,i){return new On().fromJson(n,i)}static fromJsonString(n,i){return new On().fromJsonString(n,i)}static equals(n,i){return f.util.equals(On,n,i)}};u(On,"runtime",f),u(On,"typeName","yorkie.v1.Snapshot"),u(On,"fields",f.util.newFieldList(()=>[{no:1,name:"root",kind:"message",T:ae},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:bd}}]));let Kf=On;var xe;let Xi=(xe=class extends R{constructor(n){super();u(this,"documentKey","");u(this,"checkpoint");u(this,"snapshot",new Uint8Array(0));u(this,"changes",[]);u(this,"minSyncedTicket");u(this,"isRemoved",!1);u(this,"versionVector");f.util.initPartial(n,this)}static fromBinary(n,i){return new xe().fromBinary(n,i)}static fromJson(n,i){return new xe().fromJson(n,i)}static fromJsonString(n,i){return new xe().fromJsonString(n,i)}static equals(n,i){return f.util.equals(xe,n,i)}},u(xe,"runtime",f),u(xe,"typeName","yorkie.v1.ChangePack"),u(xe,"fields",f.util.newFieldList(()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:x0},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:E0,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:M},{no:6,name:"is_removed",kind:"scalar",T:8},{no:7,name:"version_vector",kind:"message",T:Wu}])),xe);var Oe;let E0=(Oe=class extends R{constructor(n){super();u(this,"id");u(this,"message","");u(this,"operations",[]);u(this,"presenceChange");f.util.initPartial(n,this)}static fromBinary(n,i){return new Oe().fromBinary(n,i)}static fromJson(n,i){return new Oe().fromJson(n,i)}static fromJsonString(n,i){return new Oe().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Oe,n,i)}},u(Oe,"runtime",f),u(Oe,"typeName","yorkie.v1.Change"),u(Oe,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Fu},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:Td,repeated:!0},{no:4,name:"presence_change",kind:"message",T:go}])),Oe);var De;let Fu=(De=class extends R{constructor(n){super();u(this,"clientSeq",0);u(this,"serverSeq",ft.zero);u(this,"lamport",ft.zero);u(this,"actorId",new Uint8Array(0));u(this,"versionVector");f.util.initPartial(n,this)}static fromBinary(n,i){return new De().fromBinary(n,i)}static fromJson(n,i){return new De().fromJson(n,i)}static fromJsonString(n,i){return new De().fromJsonString(n,i)}static equals(n,i){return f.util.equals(De,n,i)}},u(De,"runtime",f),u(De,"typeName","yorkie.v1.ChangeID"),u(De,"fields",f.util.newFieldList(()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3},{no:3,name:"lamport",kind:"scalar",T:3},{no:4,name:"actor_id",kind:"scalar",T:12},{no:5,name:"version_vector",kind:"message",T:Wu}])),De);var Ce;let Wu=(Ce=class extends R{constructor(n){super();u(this,"vector",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Ce().fromBinary(n,i)}static fromJson(n,i){return new Ce().fromJson(n,i)}static fromJsonString(n,i){return new Ce().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ce,n,i)}},u(Ce,"runtime",f),u(Ce,"typeName","yorkie.v1.VersionVector"),u(Ce,"fields",f.util.newFieldList(()=>[{no:1,name:"vector",kind:"map",K:9,V:{kind:"scalar",T:3}}])),Ce);var Re;let Td=(Re=class extends R{constructor(n){super();u(this,"body",{case:void 0});f.util.initPartial(n,this)}static fromBinary(n,i){return new Re().fromBinary(n,i)}static fromJson(n,i){return new Re().fromJson(n,i)}static fromJsonString(n,i){return new Re().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Re,n,i)}},u(Re,"runtime",f),u(Re,"typeName","yorkie.v1.Operation"),u(Re,"fields",f.util.newFieldList(()=>[{no:1,name:"set",kind:"message",T:cu,oneof:"body"},{no:2,name:"add",kind:"message",T:fu,oneof:"body"},{no:3,name:"move",kind:"message",T:hu,oneof:"body"},{no:4,name:"remove",kind:"message",T:du,oneof:"body"},{no:5,name:"edit",kind:"message",T:gu,oneof:"body"},{no:6,name:"select",kind:"message",T:$f,oneof:"body"},{no:7,name:"style",kind:"message",T:mu,oneof:"body"},{no:8,name:"increase",kind:"message",T:yu,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:pu,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:vu,oneof:"body"},{no:11,name:"array_set",kind:"message",T:Xf,oneof:"body"}])),Re);const Dn=class Dn extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"key","");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Dn().fromBinary(n,i)}static fromJson(n,i){return new Dn().fromJson(n,i)}static fromJsonString(n,i){return new Dn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Dn,n,i)}};u(Dn,"runtime",f),u(Dn,"typeName","yorkie.v1.Operation.Set"),u(Dn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:Ne},{no:4,name:"executed_at",kind:"message",T:M}]));let cu=Dn;const Cn=class Cn extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"prevCreatedAt");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Cn().fromBinary(n,i)}static fromJson(n,i){return new Cn().fromJson(n,i)}static fromJsonString(n,i){return new Cn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Cn,n,i)}};u(Cn,"runtime",f),u(Cn,"typeName","yorkie.v1.Operation.Add"),u(Cn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"prev_created_at",kind:"message",T:M},{no:3,name:"value",kind:"message",T:Ne},{no:4,name:"executed_at",kind:"message",T:M}]));let fu=Cn;const Rn=class Rn extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"prevCreatedAt");u(this,"createdAt");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Rn().fromBinary(n,i)}static fromJson(n,i){return new Rn().fromJson(n,i)}static fromJsonString(n,i){return new Rn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Rn,n,i)}};u(Rn,"runtime",f),u(Rn,"typeName","yorkie.v1.Operation.Move"),u(Rn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"prev_created_at",kind:"message",T:M},{no:3,name:"created_at",kind:"message",T:M},{no:4,name:"executed_at",kind:"message",T:M}]));let hu=Rn;const kn=class kn extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"createdAt");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new kn().fromBinary(n,i)}static fromJson(n,i){return new kn().fromJson(n,i)}static fromJsonString(n,i){return new kn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(kn,n,i)}};u(kn,"runtime",f),u(kn,"typeName","yorkie.v1.Operation.Remove"),u(kn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"created_at",kind:"message",T:M},{no:3,name:"executed_at",kind:"message",T:M}]));let du=kn;const Bn=class Bn extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"createdAtMapByActor",{});u(this,"content","");u(this,"executedAt");u(this,"attributes",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Bn().fromBinary(n,i)}static fromJson(n,i){return new Bn().fromJson(n,i)}static fromJsonString(n,i){return new Bn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Bn,n,i)}};u(Bn,"runtime",f),u(Bn,"typeName","yorkie.v1.Operation.Edit"),u(Bn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"from",kind:"message",T:Yi},{no:3,name:"to",kind:"message",T:Yi},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:M}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:M},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let gu=Bn;const In=class In extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new In().fromBinary(n,i)}static fromJson(n,i){return new In().fromJson(n,i)}static fromJsonString(n,i){return new In().fromJsonString(n,i)}static equals(n,i){return f.util.equals(In,n,i)}};u(In,"runtime",f),u(In,"typeName","yorkie.v1.Operation.Select"),u(In,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"from",kind:"message",T:Yi},{no:3,name:"to",kind:"message",T:Yi},{no:4,name:"executed_at",kind:"message",T:M}]));let $f=In;const Mn=class Mn extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"attributes",{});u(this,"executedAt");u(this,"createdAtMapByActor",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Mn().fromBinary(n,i)}static fromJson(n,i){return new Mn().fromJson(n,i)}static fromJsonString(n,i){return new Mn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Mn,n,i)}};u(Mn,"runtime",f),u(Mn,"typeName","yorkie.v1.Operation.Style"),u(Mn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"from",kind:"message",T:Yi},{no:3,name:"to",kind:"message",T:Yi},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:M},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:M}}]));let mu=Mn;const Un=class Un extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Un().fromBinary(n,i)}static fromJson(n,i){return new Un().fromJson(n,i)}static fromJsonString(n,i){return new Un().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Un,n,i)}};u(Un,"runtime",f),u(Un,"typeName","yorkie.v1.Operation.Increase"),u(Un,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"value",kind:"message",T:Ne},{no:3,name:"executed_at",kind:"message",T:M}]));let yu=Un;const zn=class zn extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"createdAtMapByActor",{});u(this,"contents",[]);u(this,"splitLevel",0);u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new zn().fromBinary(n,i)}static fromJson(n,i){return new zn().fromJson(n,i)}static fromJsonString(n,i){return new zn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(zn,n,i)}};u(zn,"runtime",f),u(zn,"typeName","yorkie.v1.Operation.TreeEdit"),u(zn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"from",kind:"message",T:ta},{no:3,name:"to",kind:"message",T:ta},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:M}},{no:5,name:"contents",kind:"message",T:Ou,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:M}]));let pu=zn;const Ln=class Ln extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"attributes",{});u(this,"executedAt");u(this,"attributesToRemove",[]);u(this,"createdAtMapByActor",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Ln().fromBinary(n,i)}static fromJson(n,i){return new Ln().fromJson(n,i)}static fromJsonString(n,i){return new Ln().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ln,n,i)}};u(Ln,"runtime",f),u(Ln,"typeName","yorkie.v1.Operation.TreeStyle"),u(Ln,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"from",kind:"message",T:ta},{no:3,name:"to",kind:"message",T:ta},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:M},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:M}}]));let vu=Ln;const qn=class qn extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"createdAt");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new qn().fromBinary(n,i)}static fromJson(n,i){return new qn().fromJson(n,i)}static fromJsonString(n,i){return new qn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(qn,n,i)}};u(qn,"runtime",f),u(qn,"typeName","yorkie.v1.Operation.ArraySet"),u(qn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"created_at",kind:"message",T:M},{no:3,name:"value",kind:"message",T:Ne},{no:4,name:"executed_at",kind:"message",T:M}]));let Xf=qn;const Jn=class Jn extends R{constructor(n){super();u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");u(this,"type",0);u(this,"value",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new Jn().fromBinary(n,i)}static fromJson(n,i){return new Jn().fromJson(n,i)}static fromJsonString(n,i){return new Jn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Jn,n,i)}};u(Jn,"runtime",f),u(Jn,"typeName","yorkie.v1.JSONElementSimple"),u(Jn,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:M},{no:2,name:"moved_at",kind:"message",T:M},{no:3,name:"removed_at",kind:"message",T:M},{no:4,name:"type",kind:"enum",T:f.getEnumType(H)},{no:5,name:"value",kind:"scalar",T:12}]));let Ne=Jn;const Hn=class Hn extends R{constructor(n){super();u(this,"body",{case:void 0});f.util.initPartial(n,this)}static fromBinary(n,i){return new Hn().fromBinary(n,i)}static fromJson(n,i){return new Hn().fromJson(n,i)}static fromJsonString(n,i){return new Hn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Hn,n,i)}};u(Hn,"runtime",f),u(Hn,"typeName","yorkie.v1.JSONElement"),u(Hn,"fields",f.util.newFieldList(()=>[{no:1,name:"json_object",kind:"message",T:Su,oneof:"body"},{no:2,name:"json_array",kind:"message",T:Tu,oneof:"body"},{no:3,name:"primitive",kind:"message",T:bu,oneof:"body"},{no:5,name:"text",kind:"message",T:Au,oneof:"body"},{no:6,name:"counter",kind:"message",T:wu,oneof:"body"},{no:7,name:"tree",kind:"message",T:Eu,oneof:"body"}]));let ae=Hn;const Vn=class Vn extends R{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Vn().fromBinary(n,i)}static fromJson(n,i){return new Vn().fromJson(n,i)}static fromJsonString(n,i){return new Vn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Vn,n,i)}};u(Vn,"runtime",f),u(Vn,"typeName","yorkie.v1.JSONElement.JSONObject"),u(Vn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:N0,repeated:!0},{no:2,name:"created_at",kind:"message",T:M},{no:3,name:"moved_at",kind:"message",T:M},{no:4,name:"removed_at",kind:"message",T:M}]));let Su=Vn;const jn=class jn extends R{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new jn().fromBinary(n,i)}static fromJson(n,i){return new jn().fromJson(n,i)}static fromJsonString(n,i){return new jn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(jn,n,i)}};u(jn,"runtime",f),u(jn,"typeName","yorkie.v1.JSONElement.JSONArray"),u(jn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Nu,repeated:!0},{no:2,name:"created_at",kind:"message",T:M},{no:3,name:"moved_at",kind:"message",T:M},{no:4,name:"removed_at",kind:"message",T:M}]));let Tu=jn;const Pn=class Pn extends R{constructor(n){super();u(this,"type",0);u(this,"value",new Uint8Array(0));u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Pn().fromBinary(n,i)}static fromJson(n,i){return new Pn().fromJson(n,i)}static fromJsonString(n,i){return new Pn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Pn,n,i)}};u(Pn,"runtime",f),u(Pn,"typeName","yorkie.v1.JSONElement.Primitive"),u(Pn,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(H)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:M},{no:4,name:"moved_at",kind:"message",T:M},{no:5,name:"removed_at",kind:"message",T:M}]));let bu=Pn;const Gn=class Gn extends R{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Gn().fromBinary(n,i)}static fromJson(n,i){return new Gn().fromJson(n,i)}static fromJsonString(n,i){return new Gn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Gn,n,i)}};u(Gn,"runtime",f),u(Gn,"typeName","yorkie.v1.JSONElement.Text"),u(Gn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:xu,repeated:!0},{no:2,name:"created_at",kind:"message",T:M},{no:3,name:"moved_at",kind:"message",T:M},{no:4,name:"removed_at",kind:"message",T:M}]));let Au=Gn;const Yn=class Yn extends R{constructor(n){super();u(this,"type",0);u(this,"value",new Uint8Array(0));u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Yn().fromBinary(n,i)}static fromJson(n,i){return new Yn().fromJson(n,i)}static fromJsonString(n,i){return new Yn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Yn,n,i)}};u(Yn,"runtime",f),u(Yn,"typeName","yorkie.v1.JSONElement.Counter"),u(Yn,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(H)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:M},{no:4,name:"moved_at",kind:"message",T:M},{no:5,name:"removed_at",kind:"message",T:M}]));let wu=Yn;const Kn=class Kn extends R{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Kn().fromBinary(n,i)}static fromJson(n,i){return new Kn().fromJson(n,i)}static fromJsonString(n,i){return new Kn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Kn,n,i)}};u(Kn,"runtime",f),u(Kn,"typeName","yorkie.v1.JSONElement.Tree"),u(Kn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:ho,repeated:!0},{no:2,name:"created_at",kind:"message",T:M},{no:3,name:"moved_at",kind:"message",T:M},{no:4,name:"removed_at",kind:"message",T:M}]));let Eu=Kn;var ke;let N0=(ke=class extends R{constructor(n){super();u(this,"key","");u(this,"element");f.util.initPartial(n,this)}static fromBinary(n,i){return new ke().fromBinary(n,i)}static fromJson(n,i){return new ke().fromJson(n,i)}static fromJsonString(n,i){return new ke().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ke,n,i)}},u(ke,"runtime",f),u(ke,"typeName","yorkie.v1.RHTNode"),u(ke,"fields",f.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:ae}])),ke);const nn=class nn extends R{constructor(n){super();u(this,"next");u(this,"element");f.util.initPartial(n,this)}static fromBinary(n,i){return new nn().fromBinary(n,i)}static fromJson(n,i){return new nn().fromJson(n,i)}static fromJsonString(n,i){return new nn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(nn,n,i)}};u(nn,"runtime",f),u(nn,"typeName","yorkie.v1.RGANode"),u(nn,"fields",f.util.newFieldList(()=>[{no:1,name:"next",kind:"message",T:nn},{no:2,name:"element",kind:"message",T:ae}]));let Nu=nn;const $n=class $n extends R{constructor(n){super();u(this,"value","");u(this,"updatedAt");u(this,"isRemoved",!1);f.util.initPartial(n,this)}static fromBinary(n,i){return new $n().fromBinary(n,i)}static fromJson(n,i){return new $n().fromJson(n,i)}static fromJsonString(n,i){return new $n().fromJsonString(n,i)}static equals(n,i){return f.util.equals($n,n,i)}};u($n,"runtime",f),u($n,"typeName","yorkie.v1.NodeAttr"),u($n,"fields",f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:M},{no:3,name:"is_removed",kind:"scalar",T:8}]));let ns=$n;const Xn=class Xn extends R{constructor(n){super();u(this,"id");u(this,"value","");u(this,"removedAt");u(this,"insPrevId");u(this,"attributes",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Xn().fromBinary(n,i)}static fromJson(n,i){return new Xn().fromJson(n,i)}static fromJsonString(n,i){return new Xn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Xn,n,i)}};u(Xn,"runtime",f),u(Xn,"typeName","yorkie.v1.TextNode"),u(Xn,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:fo},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:M},{no:4,name:"ins_prev_id",kind:"message",T:fo},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:ns}}]));let xu=Xn;const Zn=class Zn extends R{constructor(n){super();u(this,"createdAt");u(this,"offset",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new Zn().fromBinary(n,i)}static fromJson(n,i){return new Zn().fromJson(n,i)}static fromJsonString(n,i){return new Zn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Zn,n,i)}};u(Zn,"runtime",f),u(Zn,"typeName","yorkie.v1.TextNodeID"),u(Zn,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:M},{no:2,name:"offset",kind:"scalar",T:5}]));let fo=Zn;const Qn=class Qn extends R{constructor(n){super();u(this,"id");u(this,"type","");u(this,"value","");u(this,"removedAt");u(this,"insPrevId");u(this,"insNextId");u(this,"depth",0);u(this,"attributes",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Qn().fromBinary(n,i)}static fromJson(n,i){return new Qn().fromJson(n,i)}static fromJsonString(n,i){return new Qn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Qn,n,i)}};u(Qn,"runtime",f),u(Qn,"typeName","yorkie.v1.TreeNode"),u(Qn,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:br},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:M},{no:5,name:"ins_prev_id",kind:"message",T:br},{no:6,name:"ins_next_id",kind:"message",T:br},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:ns}}]));let ho=Qn;const _n=class _n extends R{constructor(n){super();u(this,"content",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new _n().fromBinary(n,i)}static fromJson(n,i){return new _n().fromJson(n,i)}static fromJsonString(n,i){return new _n().fromJsonString(n,i)}static equals(n,i){return f.util.equals(_n,n,i)}};u(_n,"runtime",f),u(_n,"typeName","yorkie.v1.TreeNodes"),u(_n,"fields",f.util.newFieldList(()=>[{no:1,name:"content",kind:"message",T:ho,repeated:!0}]));let Ou=_n;const Fn=class Fn extends R{constructor(n){super();u(this,"createdAt");u(this,"offset",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new Fn().fromBinary(n,i)}static fromJson(n,i){return new Fn().fromJson(n,i)}static fromJsonString(n,i){return new Fn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Fn,n,i)}};u(Fn,"runtime",f),u(Fn,"typeName","yorkie.v1.TreeNodeID"),u(Fn,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:M},{no:2,name:"offset",kind:"scalar",T:5}]));let br=Fn;const Wn=class Wn extends R{constructor(n){super();u(this,"parentId");u(this,"leftSiblingId");f.util.initPartial(n,this)}static fromBinary(n,i){return new Wn().fromBinary(n,i)}static fromJson(n,i){return new Wn().fromJson(n,i)}static fromJsonString(n,i){return new Wn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Wn,n,i)}};u(Wn,"runtime",f),u(Wn,"typeName","yorkie.v1.TreePos"),u(Wn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_id",kind:"message",T:br},{no:2,name:"left_sibling_id",kind:"message",T:br}]));let ta=Wn;const ti=class ti extends R{constructor(n){super();u(this,"id","");u(this,"username","");u(this,"createdAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new ti().fromBinary(n,i)}static fromJson(n,i){return new ti().fromJson(n,i)}static fromJsonString(n,i){return new ti().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ti,n,i)}};u(ti,"runtime",f),u(ti,"typeName","yorkie.v1.User"),u(ti,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"created_at",kind:"message",T:Gt}]));let Vm=ti;const ei=class ei extends R{constructor(n){super();u(this,"id","");u(this,"name","");u(this,"publicKey","");u(this,"secretKey","");u(this,"authWebhookUrl","");u(this,"authWebhookMethods",[]);u(this,"clientDeactivateThreshold","");u(this,"createdAt");u(this,"updatedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new ei().fromBinary(n,i)}static fromJson(n,i){return new ei().fromJson(n,i)}static fromJsonString(n,i){return new ei().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ei,n,i)}};u(ei,"runtime",f),u(ei,"typeName","yorkie.v1.Project"),u(ei,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:8,name:"created_at",kind:"message",T:Gt},{no:9,name:"updated_at",kind:"message",T:Gt}]));let jm=ei;const ni=class ni extends R{constructor(n){super();u(this,"name");u(this,"authWebhookUrl");u(this,"authWebhookMethods");u(this,"clientDeactivateThreshold");f.util.initPartial(n,this)}static fromBinary(n,i){return new ni().fromBinary(n,i)}static fromJson(n,i){return new ni().fromJson(n,i)}static fromJsonString(n,i){return new ni().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ni,n,i)}};u(ni,"runtime",f),u(ni,"typeName","yorkie.v1.UpdatableProjectFields"),u(ni,"fields",f.util.newFieldList(()=>[{no:1,name:"name",kind:"message",T:he},{no:2,name:"auth_webhook_url",kind:"message",T:he},{no:3,name:"auth_webhook_methods",kind:"message",T:Zf},{no:4,name:"client_deactivate_threshold",kind:"message",T:he}]));let Pm=ni;const ii=class ii extends R{constructor(n){super();u(this,"methods",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new ii().fromBinary(n,i)}static fromJson(n,i){return new ii().fromJson(n,i)}static fromJsonString(n,i){return new ii().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ii,n,i)}};u(ii,"runtime",f),u(ii,"typeName","yorkie.v1.UpdatableProjectFields.AuthWebhookMethods"),u(ii,"fields",f.util.newFieldList(()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}]));let Zf=ii;const ri=class ri extends R{constructor(n){super();u(this,"id","");u(this,"key","");u(this,"snapshot","");u(this,"createdAt");u(this,"accessedAt");u(this,"updatedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new ri().fromBinary(n,i)}static fromJson(n,i){return new ri().fromJson(n,i)}static fromJsonString(n,i){return new ri().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ri,n,i)}};u(ri,"runtime",f),u(ri,"typeName","yorkie.v1.DocumentSummary"),u(ri,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"snapshot",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:Gt},{no:5,name:"accessed_at",kind:"message",T:Gt},{no:6,name:"updated_at",kind:"message",T:Gt}]));let Gm=ri;const ai=class ai extends R{constructor(n){super();u(this,"type",0);u(this,"presence");f.util.initPartial(n,this)}static fromBinary(n,i){return new ai().fromBinary(n,i)}static fromJson(n,i){return new ai().fromJson(n,i)}static fromJsonString(n,i){return new ai().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ai,n,i)}};u(ai,"runtime",f),u(ai,"typeName","yorkie.v1.PresenceChange"),u(ai,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(ea)},{no:2,name:"presence",kind:"message",T:bd}]));let go=ai;var ea=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PUT=1]="PUT",e[e.DELETE=2]="DELETE",e[e.CLEAR=3]="CLEAR",e))(ea||{});f.util.setEnumType(ea,"yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT"},{no:2,name:"CHANGE_TYPE_DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR"}]);var Be;let bd=(Be=class extends R{constructor(n){super();u(this,"data",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Be().fromBinary(n,i)}static fromJson(n,i){return new Be().fromJson(n,i)}static fromJsonString(n,i){return new Be().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Be,n,i)}},u(Be,"runtime",f),u(Be,"typeName","yorkie.v1.Presence"),u(Be,"fields",f.util.newFieldList(()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}])),Be);var Ie;let x0=(Ie=class extends R{constructor(n){super();u(this,"serverSeq",ft.zero);u(this,"clientSeq",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new Ie().fromBinary(n,i)}static fromJson(n,i){return new Ie().fromJson(n,i)}static fromJsonString(n,i){return new Ie().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ie,n,i)}},u(Ie,"runtime",f),u(Ie,"typeName","yorkie.v1.Checkpoint"),u(Ie,"fields",f.util.newFieldList(()=>[{no:1,name:"server_seq",kind:"scalar",T:3},{no:2,name:"client_seq",kind:"scalar",T:13}])),Ie);const si=class si extends R{constructor(n){super();u(this,"createdAt");u(this,"offset",0);u(this,"relativeOffset",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new si().fromBinary(n,i)}static fromJson(n,i){return new si().fromJson(n,i)}static fromJsonString(n,i){return new si().fromJsonString(n,i)}static equals(n,i){return f.util.equals(si,n,i)}};u(si,"runtime",f),u(si,"typeName","yorkie.v1.TextNodePos"),u(si,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:M},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]));let Yi=si;var Me;let M=(Me=class extends R{constructor(n){super();u(this,"lamport",ft.zero);u(this,"delimiter",0);u(this,"actorId",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new Me().fromBinary(n,i)}static fromJson(n,i){return new Me().fromJson(n,i)}static fromJsonString(n,i){return new Me().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Me,n,i)}},u(Me,"runtime",f),u(Me,"typeName","yorkie.v1.TimeTicket"),u(Me,"fields",f.util.newFieldList(()=>[{no:1,name:"lamport",kind:"scalar",T:3},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}])),Me);const oi=class oi extends R{constructor(n){super();u(this,"topic","");u(this,"payload",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new oi().fromBinary(n,i)}static fromJson(n,i){return new oi().fromJson(n,i)}static fromJsonString(n,i){return new oi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(oi,n,i)}};u(oi,"runtime",f),u(oi,"typeName","yorkie.v1.DocEventBody"),u(oi,"fields",f.util.newFieldList(()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]));let Qf=oi;const li=class li extends R{constructor(n){super();u(this,"type",0);u(this,"publisher","");u(this,"body");f.util.initPartial(n,this)}static fromBinary(n,i){return new li().fromBinary(n,i)}static fromJson(n,i){return new li().fromJson(n,i)}static fromJsonString(n,i){return new li().fromJsonString(n,i)}static equals(n,i){return f.util.equals(li,n,i)}};u(li,"runtime",f),u(li,"typeName","yorkie.v1.DocEvent"),u(li,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(Zr)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:Qf}]));let _f=li;const ui=class ui extends R{constructor(n){super();u(this,"clientKey","");u(this,"metadata",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new ui().fromBinary(n,i)}static fromJson(n,i){return new ui().fromJson(n,i)}static fromJsonString(n,i){return new ui().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ui,n,i)}};u(ui,"runtime",f),u(ui,"typeName","yorkie.v1.ActivateClientRequest"),u(ui,"fields",f.util.newFieldList(()=>[{no:1,name:"client_key",kind:"scalar",T:9},{no:2,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let Ff=ui;const ci=class ci extends R{constructor(n){super();u(this,"clientId","");f.util.initPartial(n,this)}static fromBinary(n,i){return new ci().fromBinary(n,i)}static fromJson(n,i){return new ci().fromJson(n,i)}static fromJsonString(n,i){return new ci().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ci,n,i)}};u(ci,"runtime",f),u(ci,"typeName","yorkie.v1.ActivateClientResponse"),u(ci,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let Wf=ci;const fi=class fi extends R{constructor(n){super();u(this,"clientId","");f.util.initPartial(n,this)}static fromBinary(n,i){return new fi().fromBinary(n,i)}static fromJson(n,i){return new fi().fromJson(n,i)}static fromJsonString(n,i){return new fi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(fi,n,i)}};u(fi,"runtime",f),u(fi,"typeName","yorkie.v1.DeactivateClientRequest"),u(fi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let th=fi;const hi=class hi extends R{constructor(t){super(),f.util.initPartial(t,this)}static fromBinary(t,n){return new hi().fromBinary(t,n)}static fromJson(t,n){return new hi().fromJson(t,n)}static fromJsonString(t,n){return new hi().fromJsonString(t,n)}static equals(t,n){return f.util.equals(hi,t,n)}};u(hi,"runtime",f),u(hi,"typeName","yorkie.v1.DeactivateClientResponse"),u(hi,"fields",f.util.newFieldList(()=>[]));let eh=hi;const di=class di extends R{constructor(n){super();u(this,"clientId","");u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new di().fromBinary(n,i)}static fromJson(n,i){return new di().fromJson(n,i)}static fromJsonString(n,i){return new di().fromJsonString(n,i)}static equals(n,i){return f.util.equals(di,n,i)}};u(di,"runtime",f),u(di,"typeName","yorkie.v1.AttachDocumentRequest"),u(di,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Xi}]));let nh=di;const gi=class gi extends R{constructor(n){super();u(this,"documentId","");u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new gi().fromBinary(n,i)}static fromJson(n,i){return new gi().fromJson(n,i)}static fromJsonString(n,i){return new gi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(gi,n,i)}};u(gi,"runtime",f),u(gi,"typeName","yorkie.v1.AttachDocumentResponse"),u(gi,"fields",f.util.newFieldList(()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Xi}]));let ih=gi;const mi=class mi extends R{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"changePack");u(this,"removeIfNotAttached",!1);f.util.initPartial(n,this)}static fromBinary(n,i){return new mi().fromBinary(n,i)}static fromJson(n,i){return new mi().fromJson(n,i)}static fromJsonString(n,i){return new mi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(mi,n,i)}};u(mi,"runtime",f),u(mi,"typeName","yorkie.v1.DetachDocumentRequest"),u(mi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Xi},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]));let rh=mi;const yi=class yi extends R{constructor(n){super();u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new yi().fromBinary(n,i)}static fromJson(n,i){return new yi().fromJson(n,i)}static fromJsonString(n,i){return new yi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(yi,n,i)}};u(yi,"runtime",f),u(yi,"typeName","yorkie.v1.DetachDocumentResponse"),u(yi,"fields",f.util.newFieldList(()=>[{no:2,name:"change_pack",kind:"message",T:Xi}]));let ah=yi;const pi=class pi extends R{constructor(n){super();u(this,"clientId","");u(this,"documentId","");f.util.initPartial(n,this)}static fromBinary(n,i){return new pi().fromBinary(n,i)}static fromJson(n,i){return new pi().fromJson(n,i)}static fromJsonString(n,i){return new pi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(pi,n,i)}};u(pi,"runtime",f),u(pi,"typeName","yorkie.v1.WatchDocumentRequest"),u(pi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]));let sh=pi;const vi=class vi extends R{constructor(n){super();u(this,"body",{case:void 0});f.util.initPartial(n,this)}static fromBinary(n,i){return new vi().fromBinary(n,i)}static fromJson(n,i){return new vi().fromJson(n,i)}static fromJsonString(n,i){return new vi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(vi,n,i)}};u(vi,"runtime",f),u(vi,"typeName","yorkie.v1.WatchDocumentResponse"),u(vi,"fields",f.util.newFieldList(()=>[{no:1,name:"initialization",kind:"message",T:lh,oneof:"body"},{no:2,name:"event",kind:"message",T:_f,oneof:"body"}]));let oh=vi;const Si=class Si extends R{constructor(n){super();u(this,"clientIds",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new Si().fromBinary(n,i)}static fromJson(n,i){return new Si().fromJson(n,i)}static fromJsonString(n,i){return new Si().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Si,n,i)}};u(Si,"runtime",f),u(Si,"typeName","yorkie.v1.WatchDocumentResponse.Initialization"),u(Si,"fields",f.util.newFieldList(()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}]));let lh=Si;const Ti=class Ti extends R{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new Ti().fromBinary(n,i)}static fromJson(n,i){return new Ti().fromJson(n,i)}static fromJsonString(n,i){return new Ti().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ti,n,i)}};u(Ti,"runtime",f),u(Ti,"typeName","yorkie.v1.RemoveDocumentRequest"),u(Ti,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Xi}]));let uh=Ti;const bi=class bi extends R{constructor(n){super();u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new bi().fromBinary(n,i)}static fromJson(n,i){return new bi().fromJson(n,i)}static fromJsonString(n,i){return new bi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(bi,n,i)}};u(bi,"runtime",f),u(bi,"typeName","yorkie.v1.RemoveDocumentResponse"),u(bi,"fields",f.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Xi}]));let ch=bi;const Ai=class Ai extends R{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"changePack");u(this,"pushOnly",!1);f.util.initPartial(n,this)}static fromBinary(n,i){return new Ai().fromBinary(n,i)}static fromJson(n,i){return new Ai().fromJson(n,i)}static fromJsonString(n,i){return new Ai().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ai,n,i)}};u(Ai,"runtime",f),u(Ai,"typeName","yorkie.v1.PushPullChangesRequest"),u(Ai,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Xi},{no:4,name:"push_only",kind:"scalar",T:8}]));let fh=Ai;const wi=class wi extends R{constructor(n){super();u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new wi().fromBinary(n,i)}static fromJson(n,i){return new wi().fromJson(n,i)}static fromJsonString(n,i){return new wi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(wi,n,i)}};u(wi,"runtime",f),u(wi,"typeName","yorkie.v1.PushPullChangesResponse"),u(wi,"fields",f.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Xi}]));let hh=wi;const Ei=class Ei extends R{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"topic","");u(this,"payload",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new Ei().fromBinary(n,i)}static fromJson(n,i){return new Ei().fromJson(n,i)}static fromJsonString(n,i){return new Ei().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ei,n,i)}};u(Ei,"runtime",f),u(Ei,"typeName","yorkie.v1.BroadcastRequest"),u(Ei,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]));let dh=Ei;const Ni=class Ni extends R{constructor(t){super(),f.util.initPartial(t,this)}static fromBinary(t,n){return new Ni().fromBinary(t,n)}static fromJson(t,n){return new Ni().fromJson(t,n)}static fromJsonString(t,n){return new Ni().fromJsonString(t,n)}static equals(t,n){return f.util.equals(Ni,t,n)}};u(Ni,"runtime",f),u(Ni,"typeName","yorkie.v1.BroadcastResponse"),u(Ni,"fields",f.util.newFieldList(()=>[]));let gh=Ni;const B1={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:Ff,O:Wf,kind:Xt.Unary},deactivateClient:{name:"DeactivateClient",I:th,O:eh,kind:Xt.Unary},attachDocument:{name:"AttachDocument",I:nh,O:ih,kind:Xt.Unary},detachDocument:{name:"DetachDocument",I:rh,O:ah,kind:Xt.Unary},removeDocument:{name:"RemoveDocument",I:uh,O:ch,kind:Xt.Unary},pushPullChanges:{name:"PushPullChanges",I:fh,O:hh,kind:Xt.Unary},watchDocument:{name:"WatchDocument",I:sh,O:oh,kind:Xt.ServerStreaming},broadcast:{name:"Broadcast",I:dh,O:gh,kind:Xt.Unary}}},I1=f.makeMessageType("google.rpc.ErrorInfo",()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]);f.makeMessageType("google.rpc.RetryInfo",()=>[{no:1,name:"retry_delay",kind:"message",T:Mi}]);f.makeMessageType("google.rpc.DebugInfo",()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.QuotaFailure",()=>[{no:1,name:"violations",kind:"message",T:M1,repeated:!0}]);const M1=f.makeMessageType("google.rpc.QuotaFailure.Violation",()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}],{localName:"QuotaFailure_Violation"});f.makeMessageType("google.rpc.PreconditionFailure",()=>[{no:1,name:"violations",kind:"message",T:U1,repeated:!0}]);const U1=f.makeMessageType("google.rpc.PreconditionFailure.Violation",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}],{localName:"PreconditionFailure_Violation"});f.makeMessageType("google.rpc.BadRequest",()=>[{no:1,name:"field_violations",kind:"message",T:z1,repeated:!0}]);const z1=f.makeMessageType("google.rpc.BadRequest.FieldViolation",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"reason",kind:"scalar",T:9},{no:4,name:"localized_message",kind:"message",T:q1}],{localName:"BadRequest_FieldViolation"});f.makeMessageType("google.rpc.RequestInfo",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.ResourceInfo",()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.Help",()=>[{no:1,name:"links",kind:"message",T:L1,repeated:!0}]);const L1=f.makeMessageType("google.rpc.Help.Link",()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}],{localName:"Help_Link"}),q1=f.makeMessageType("google.rpc.LocalizedMessage",()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]);var S=(e=>(e.Ok="ok",e.ErrClientNotActivated="ErrClientNotActivated",e.ErrClientNotFound="ErrClientNotFound",e.ErrUnimplemented="ErrUnimplemented",e.ErrInvalidType="ErrInvalidType",e.ErrDummy="ErrDummy",e.ErrDocumentNotAttached="ErrDocumentNotAttached",e.ErrDocumentNotDetached="ErrDocumentNotDetached",e.ErrDocumentRemoved="ErrDocumentRemoved",e.ErrInvalidObjectKey="ErrInvalidObjectKey",e.ErrInvalidArgument="ErrInvalidArgument",e.ErrNotInitialized="ErrNotInitialized",e.ErrNotReady="ErrNotReady",e.ErrRefused="ErrRefused",e.ErrContextNotProvided="ErrContextNotProvided",e.ErrPermissionDenied="ErrPermissionDenied",e.ErrUnauthenticated="ErrUnauthenticated",e.ErrTooManySubscribers="ErrTooManySubscribers",e.ErrTooManyAttachments="ErrTooManyAttachments",e))(S||{});class A extends Error{constructor(n,i){super(i);u(this,"name","YorkieError");u(this,"stack");this.code=n,this.message=i,this.toString=()=>`[code=${this.code}]: ${this.message}`}}function Ke(e){if(e instanceof Map){const t=Array.from(e);return new Map(JSON.parse(JSON.stringify(t)))}return JSON.parse(JSON.stringify(e))}const O0=e=>e?Object.entries(e).length===0:!0,is=e=>{const t={};for(const[n,i]of Object.entries(e))t[n]=JSON.stringify(i);return t},Ja=e=>{const t={};for(const[n,i]of Object.entries(e))t[n]=JSON.parse(i);return t};var Dr=(e=>(e.Put="put",e.Clear="clear",e))(Dr||{});class Gc{constructor(t,n){u(this,"context");u(this,"presence");this.context=t,this.presence=n}set(t,n){for(const i of Object.keys(t))this.presence[i]=t[i];this.context.setPresenceChange({type:"put",presence:Ke(this.presence)}),this.context.setReversePresence(t,n)}get(t){return this.presence[t]}clear(){this.presence={},this.context.setPresenceChange({type:"clear"})}}const tc="000000000000000000000000";class He{constructor(t,n,i){u(this,"lamport");u(this,"delimiter");u(this,"actorID");this.lamport=t,this.delimiter=n,this.actorID=i}static of(t,n,i){return new He(t,n,i)}static fromStruct(t){return He.of(BigInt(t.lamport),t.delimiter,t.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(t){return new He(this.lamport,this.delimiter,t)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(t){return this.compare(t)>0}equals(t){return this.compare(t)===0}compare(t){if(this.lamport>t.lamport)return 1;if(t.lamport>this.lamport)return-1;const n=this.actorID.localeCompare(t.actorID);return n!==0?n:this.delimiter>t.delimiter?1:t.delimiter>this.delimiter?-1:0}}const D0=0,$s=9223372036854775807n,_e=new He(0n,D0,tc);function yn(e){return e.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(t){switch(t){case'"':case"\\":return"\\"+t;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return t}})}class Lo{constructor(t){u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");this.createdAt=t}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(t){return!this.movedAt||t&&t.after(this.movedAt)?(this.movedAt=t,!0):!1}setRemovedAt(t){this.removedAt=t}remove(t){return t&&t.after(this.getPositionedAt())&&(!this.removedAt||t.after(this.removedAt))?(this.removedAt=t,!0):!1}isRemoved(){return!!this.removedAt}}class Ar extends Lo{constructor(t){super(t)}}class Ad{constructor(t,n){u(this,"strKey");u(this,"value");this.strKey=t,this.value=n}static of(t,n){return new Ad(t,n)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(t){return this.value.remove(t)}}class mo{constructor(){u(this,"nodeMapByKey");u(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new mo}set(t,n,i){let r;const a=this.nodeMapByKey.get(t);a!=null&&!a.isRemoved()&&a.remove(i)&&(r=a.getValue());const s=Ad.of(t,n);return this.nodeMapByCreatedAt.set(n.getCreatedAt().toIDString(),s),(a==null||i.after(a.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(t,s),n.setMovedAt(i)),r}delete(t,n){if(!this.nodeMapByCreatedAt.has(t.toIDString()))throw new A(S.ErrInvalidArgument,`fail to find ${t.toIDString()}`);const i=this.nodeMapByCreatedAt.get(t.toIDString());return i.remove(n),i.getValue()}subPathOf(t){const n=this.nodeMapByCreatedAt.get(t.toIDString());if(n)return n.getStrKey()}purge(t){const n=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!n)throw new A(S.ErrInvalidArgument,`fail to find ${t.getCreatedAt().toIDString()}`);const i=this.nodeMapByKey.get(n.getStrKey());n===i&&this.nodeMapByKey.delete(i.getStrKey()),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}deleteByKey(t,n){const i=this.nodeMapByKey.get(t);if(i!=null&&i.remove(n))return i.getValue()}has(t){const n=this.nodeMapByKey.get(t);return n==null?!1:!n.isRemoved()}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}get(t){const n=this.nodeMapByKey.get(t);if(!(!n||n.isRemoved()))return n}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}}class ie extends Ar{constructor(n,i){super(n);u(this,"memberNodes");this.memberNodes=i}static create(n,i){if(!i)return new ie(n,mo.create());const r=mo.create();for(const[a,s]of Object.entries(i))r.set(a,s.deepcopy(),s.getCreatedAt());return new ie(n,r)}subPathOf(n){return this.memberNodes.subPathOf(n)}purge(n){this.memberNodes.purge(n)}set(n,i,r){return this.memberNodes.set(n,i,r)}delete(n,i){return this.memberNodes.delete(n,i)}deleteByKey(n,i){return this.memberNodes.deleteByKey(n,i)}get(n){const i=this.memberNodes.get(n);return i==null?void 0:i.getValue()}getByID(n){const i=this.memberNodes.getByID(n);return i==null?void 0:i.getValue()}has(n){return this.memberNodes.has(n)}toJSON(){const n=[];for(const[i,r]of this)n.push(`"${yn(i)}":${r.toJSON()}`);return`{${n.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const n={};for(const[i,r]of this){const{createdAt:a,value:s,type:o}=r.toJSForTest();n[i]={key:i,createdAt:a,value:s,type:o}}return{createdAt:this.getCreatedAt().toTestString(),value:n,type:"YORKIE_OBJECT"}}getKeys(){const n=Array();for(const[i]of this)n.push(i);return n}toSortedJSON(){var r;const n=Array();for(const[a]of this)n.push(a);const i=[];for(const a of n.sort()){const s=(r=this.memberNodes.get(a))==null?void 0:r.getValue();i.push(`"${yn(a)}":${s.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const n=ie.create(this.getCreatedAt());for(const i of this.memberNodes)n.memberNodes.set(i.getStrKey(),i.getValue().deepcopy(),this.getPositionedAt());return n.remove(this.getRemovedAt()),n}getDescendants(n){for(const i of this.memberNodes){const r=i.getValue();if(n(r,this))return;r instanceof Ar&&r.getDescendants(n)}}*[Symbol.iterator](){const n=new Set;for(const i of this.memberNodes)n.has(i.getStrKey())||(n.add(i.getStrKey()),i.isRemoved()||(yield[i.getStrKey(),i.getValue()]))}}var st=(e=>(e.Local="local",e.Remote="remote",e.UndoRedo="undoredo",e))(st||{});class We{constructor(t,n){u(this,"parentCreatedAt");u(this,"executedAt");this.parentCreatedAt=t,this.executedAt=n}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new A(S.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(t){this.executedAt&&(this.executedAt=this.executedAt.setActor(t))}setExecutedAt(t){this.executedAt=t}}class C0{constructor(t){u(this,"value");u(this,"left");u(this,"right");u(this,"parent");u(this,"weight");this.value=t,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(t){this.left=t}setRight(t){this.right=t}setParent(t){this.parent=t}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(t){this.weight+=t}initWeight(){this.weight=this.getLength()}}class yo{constructor(t){u(this,"root");this.root=t}get length(){return this.root?this.root.getWeight():0}find(t){if(!this.root||t<0)return[void 0,0];let n=this.root;for(;;)if(n.hasLeft()&&t<=n.getLeftWeight())n=n.getLeft();else if(n.hasRight()&&n.getLeftWeight()+n.getLength()<t)t-=n.getLeftWeight()+n.getLength(),n=n.getRight();else{t-=n.getLeftWeight();break}if(t>n.getLength())throw new A(S.ErrInvalidArgument,`out of index range: pos: ${t} > node.length: ${n.getLength()}`);return this.splayNode(n),[n,t]}indexOf(t){return!t||t!==this.root&&!t.hasLinks()?-1:(this.splayNode(t),this.root.getLeftWeight())}getRoot(){return this.root}insert(t){return this.insertAfter(this.root,t)}insertAfter(t,n){return t?(this.splayNode(t),this.root=n,n.setRight(t.getRight()),t.hasRight()&&t.getRight().setParent(n),n.setLeft(t),t.setParent(n),t.setRight(),this.updateWeight(t),this.updateWeight(n),n):(this.root=n,n)}updateWeight(t){t.initWeight(),t.hasLeft()&&t.increaseWeight(t.getLeftWeight()),t.hasRight()&&t.increaseWeight(t.getRightWeight())}updateTreeWeight(t){for(;t;)this.updateWeight(t),t=t.getParent()}splayNode(t){if(t)for(;;)if(this.isLeftChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t),this.rotateLeft(t);else if(this.isLeftChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t.getParent()),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t.getParent()),this.rotateLeft(t);else{this.isLeftChild(t)?this.rotateRight(t):this.isRightChild(t)&&this.rotateLeft(t),this.updateWeight(t);return}}delete(t){this.splayNode(t);const n=new yo(t.getLeft());n.root&&n.root.setParent();const i=new yo(t.getRight());if(i.root&&i.root.setParent(),n.root){const r=n.getRightmost();n.splayNode(r),n.root.setRight(i.root),i.root&&i.root.setParent(n.root),this.root=n.root}else this.root=i.root;t.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(t,n){if(!n){this.splayNode(t),this.cutOffRight(t);return}this.splayNode(t),this.splayNode(n),n.getLeft()!=t&&this.rotateRight(t),this.cutOffRight(t)}cutOffRight(t){const n=[];this.traversePostorder(t.getRight(),n);for(const i of n)i.initWeight();this.updateTreeWeight(t)}toTestString(){const t=[];return this.traverseInorder(this.root,t),t.map(n=>`[${n.getWeight()},${n.getLength()}]${n.getValue()||""}`).join("")}checkWeight(){const t=[];this.traverseInorder(this.root,t);for(const n of t)if(n.getWeight()!=n.getLength()+n.getLeftWeight()+n.getRightWeight())return!1;return!0}getRightmost(){let t=this.root;for(;t.hasRight();)t=t.getRight();return t}traverseInorder(t,n){t&&(this.traverseInorder(t.getLeft(),n),n.push(t),this.traverseInorder(t.getRight(),n))}traversePostorder(t,n){t&&(this.traversePostorder(t.getLeft(),n),this.traversePostorder(t.getRight(),n),n.push(t))}rotateLeft(t){const n=t.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(t):n.getParent().setRight(t):this.root=t,t.setParent(n.getParent()),n.setRight(t.getLeft()),n.hasRight()&&n.getRight().setParent(n),t.setLeft(n),t.getLeft().setParent(t),this.updateWeight(n),this.updateWeight(t)}rotateRight(t){const n=t.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(t):n.getParent().setRight(t):this.root=t,t.setParent(n.getParent()),n.setLeft(t.getRight()),n.hasLeft()&&n.getLeft().setParent(n),t.setRight(n),t.getRight().setParent(t),this.updateWeight(n),this.updateWeight(t)}isLeftChild(t){return t&&t.hasParent()?t.getParent().getLeft()===t:!1}isRightChild(t){return t&&t.hasParent()?t.getParent().getRight()===t:!1}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var qe=null;try{qe=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function X(e,t,n){this.low=e|0,this.high=t|0,this.unsigned=!!n}X.prototype.__isLong__;Object.defineProperty(X.prototype,"__isLong__",{value:!0});function $t(e){return(e&&e.__isLong__)===!0}function Ym(e){var t=Math.clz32(e&-e);return e?31-t:t}X.isLong=$t;var Km={},$m={};function oa(e,t){var n,i,r;return t?(e>>>=0,(r=0<=e&&e<256)&&(i=$m[e],i)?i:(n=_(e,0,!0),r&&($m[e]=n),n)):(e|=0,(r=-128<=e&&e<128)&&(i=Km[e],i)?i:(n=_(e,e<0?-1:0,!1),r&&(Km[e]=n),n))}X.fromInt=oa;function Je(e,t){if(isNaN(e))return t?zi:Xe;if(t){if(e<0)return zi;if(e>=R0)return I0}else{if(e<=-9223372036854776e3)return ne;if(e+1>=H1)return B0}return e<0?Je(-e,t).neg():_(e%rs|0,e/rs|0,t)}X.fromNumber=Je;function _(e,t,n){return new X(e,t,n)}X.fromBits=_;var Du=Math.pow;function wd(e,t,n){if(e.length===0)throw Error("empty string");if(typeof t=="number"?(n=t,t=!1):t=!!t,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t?zi:Xe;if(n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return wd(e.substring(1),t,n).neg();for(var r=Je(Du(n,8)),a=Xe,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),l=parseInt(e.substring(s,s+o),n);if(o<8){var c=Je(Du(n,o));a=a.mul(c).add(Je(l))}else a=a.mul(r),a=a.add(Je(l))}return a.unsigned=t,a}X.fromString=wd;function Ye(e,t){return typeof e=="number"?Je(e,t):typeof e=="string"?wd(e,t):_(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}X.fromValue=Ye;var Xm=65536,J1=1<<24,rs=Xm*Xm,R0=rs*rs,H1=R0/2,Zm=oa(J1),Xe=oa(0);X.ZERO=Xe;var zi=oa(0,!0);X.UZERO=zi;var Ca=oa(1);X.ONE=Ca;var k0=oa(1,!0);X.UONE=k0;var mh=oa(-1);X.NEG_ONE=mh;var B0=_(-1,2147483647,!1);X.MAX_VALUE=B0;var I0=_(-1,-1,!0);X.MAX_UNSIGNED_VALUE=I0;var ne=_(0,-2147483648,!1);X.MIN_VALUE=ne;var D=X.prototype;D.toInt=function(){return this.unsigned?this.low>>>0:this.low};D.toNumber=function(){return this.unsigned?(this.high>>>0)*rs+(this.low>>>0):this.high*rs+(this.low>>>0)};D.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(ne)){var n=Je(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var a=Je(Du(t,6),this.unsigned),s=this,o="";;){var l=s.div(a),c=s.sub(l.mul(a)).toInt()>>>0,h=c.toString(t);if(s=l,s.isZero())return h+o;for(;h.length<6;)h="0"+h;o=""+h+o}};D.getHighBits=function(){return this.high};D.getHighBitsUnsigned=function(){return this.high>>>0};D.getLowBits=function(){return this.low};D.getLowBitsUnsigned=function(){return this.low>>>0};D.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ne)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,n=31;n>0&&!(t&1<<n);n--);return this.high!=0?n+33:n+1};D.isSafeInteger=function(){var t=this.high>>21;return t?this.unsigned?!1:t===-1&&!(this.low===0&&this.high===-2097152):!0};D.isZero=function(){return this.high===0&&this.low===0};D.eqz=D.isZero;D.isNegative=function(){return!this.unsigned&&this.high<0};D.isPositive=function(){return this.unsigned||this.high>=0};D.isOdd=function(){return(this.low&1)===1};D.isEven=function(){return(this.low&1)===0};D.equals=function(t){return $t(t)||(t=Ye(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low};D.eq=D.equals;D.notEquals=function(t){return!this.eq(t)};D.neq=D.notEquals;D.ne=D.notEquals;D.lessThan=function(t){return this.comp(t)<0};D.lt=D.lessThan;D.lessThanOrEqual=function(t){return this.comp(t)<=0};D.lte=D.lessThanOrEqual;D.le=D.lessThanOrEqual;D.greaterThan=function(t){return this.comp(t)>0};D.gt=D.greaterThan;D.greaterThanOrEqual=function(t){return this.comp(t)>=0};D.gte=D.greaterThanOrEqual;D.ge=D.greaterThanOrEqual;D.compare=function(t){if($t(t)||(t=Ye(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1};D.comp=D.compare;D.negate=function(){return!this.unsigned&&this.eq(ne)?ne:this.not().add(Ca)};D.neg=D.negate;D.add=function(t){$t(t)||(t=Ye(t));var n=this.high>>>16,i=this.high&65535,r=this.low>>>16,a=this.low&65535,s=t.high>>>16,o=t.high&65535,l=t.low>>>16,c=t.low&65535,h=0,d=0,g=0,m=0;return m+=a+c,g+=m>>>16,m&=65535,g+=r+l,d+=g>>>16,g&=65535,d+=i+o,h+=d>>>16,d&=65535,h+=n+s,h&=65535,_(g<<16|m,h<<16|d,this.unsigned)};D.subtract=function(t){return $t(t)||(t=Ye(t)),this.add(t.neg())};D.sub=D.subtract;D.multiply=function(t){if(this.isZero())return this;if($t(t)||(t=Ye(t)),qe){var n=qe.mul(this.low,this.high,t.low,t.high);return _(n,qe.get_high(),this.unsigned)}if(t.isZero())return this.unsigned?zi:Xe;if(this.eq(ne))return t.isOdd()?ne:Xe;if(t.eq(ne))return this.isOdd()?ne:Xe;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Zm)&&t.lt(Zm))return Je(this.toNumber()*t.toNumber(),this.unsigned);var i=this.high>>>16,r=this.high&65535,a=this.low>>>16,s=this.low&65535,o=t.high>>>16,l=t.high&65535,c=t.low>>>16,h=t.low&65535,d=0,g=0,m=0,T=0;return T+=s*h,m+=T>>>16,T&=65535,m+=a*h,g+=m>>>16,m&=65535,m+=s*c,g+=m>>>16,m&=65535,g+=r*h,d+=g>>>16,g&=65535,g+=a*c,d+=g>>>16,g&=65535,g+=s*l,d+=g>>>16,g&=65535,d+=i*h+r*c+a*l+s*o,d&=65535,_(m<<16|T,d<<16|g,this.unsigned)};D.mul=D.multiply;D.divide=function(t){if($t(t)||(t=Ye(t)),t.isZero())throw Error("division by zero");if(qe){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var n=(this.unsigned?qe.div_u:qe.div_s)(this.low,this.high,t.low,t.high);return _(n,qe.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?zi:Xe;var i,r,a;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return zi;if(t.gt(this.shru(1)))return k0;a=zi}else{if(this.eq(ne)){if(t.eq(Ca)||t.eq(mh))return ne;if(t.eq(ne))return Ca;var s=this.shr(1);return i=s.div(t).shl(1),i.eq(Xe)?t.isNegative()?Ca:mh:(r=this.sub(t.mul(i)),a=i.add(r.div(t)),a)}else if(t.eq(ne))return this.unsigned?zi:Xe;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();a=Xe}for(r=this;r.gte(t);){i=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(i)/Math.LN2),l=o<=48?1:Du(2,o-48),c=Je(i),h=c.mul(t);h.isNegative()||h.gt(r);)i-=l,c=Je(i,this.unsigned),h=c.mul(t);c.isZero()&&(c=Ca),a=a.add(c),r=r.sub(h)}return a};D.div=D.divide;D.modulo=function(t){if($t(t)||(t=Ye(t)),qe){var n=(this.unsigned?qe.rem_u:qe.rem_s)(this.low,this.high,t.low,t.high);return _(n,qe.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))};D.mod=D.modulo;D.rem=D.modulo;D.not=function(){return _(~this.low,~this.high,this.unsigned)};D.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};D.clz=D.countLeadingZeros;D.countTrailingZeros=function(){return this.low?Ym(this.low):Ym(this.high)+32};D.ctz=D.countTrailingZeros;D.and=function(t){return $t(t)||(t=Ye(t)),_(this.low&t.low,this.high&t.high,this.unsigned)};D.or=function(t){return $t(t)||(t=Ye(t)),_(this.low|t.low,this.high|t.high,this.unsigned)};D.xor=function(t){return $t(t)||(t=Ye(t)),_(this.low^t.low,this.high^t.high,this.unsigned)};D.shiftLeft=function(t){return $t(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?_(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):_(0,this.low<<t-32,this.unsigned)};D.shl=D.shiftLeft;D.shiftRight=function(t){return $t(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?_(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):_(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};D.shr=D.shiftRight;D.shiftRightUnsigned=function(t){return $t(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?_(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):t===32?_(this.high,0,this.unsigned):_(this.high>>>t-32,0,this.unsigned)};D.shru=D.shiftRightUnsigned;D.shr_u=D.shiftRightUnsigned;D.rotateLeft=function(t){var n;return $t(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?_(this.high,this.low,this.unsigned):t<32?(n=32-t,_(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(t-=32,n=32-t,_(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))};D.rotl=D.rotateLeft;D.rotateRight=function(t){var n;return $t(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?_(this.high,this.low,this.unsigned):t<32?(n=32-t,_(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(t-=32,n=32-t,_(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))};D.rotr=D.rotateRight;D.toSigned=function(){return this.unsigned?_(this.low,this.high,!1):this};D.toUnsigned=function(){return this.unsigned?this:_(this.low,this.high,!0)};D.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()};D.toBytesLE=function(){var t=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};D.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};X.fromBytes=function(t,n,i){return i?X.fromBytesLE(t,n):X.fromBytesBE(t,n)};X.fromBytesLE=function(t,n){return new X(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)};X.fromBytesBE=function(t,n){return new X(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};typeof BigInt=="function"&&(X.fromBigInt=function(t,n){var i=Number(BigInt.asIntN(32,t)),r=Number(BigInt.asIntN(32,t>>BigInt(32)));return _(i,r,n)},X.fromValue=function(t,n){return typeof t=="bigint"?fromBigInt(t,n):Ye(t,n)},D.toBigInt=function(){var t=BigInt(this.low>>>0),n=BigInt(this.unsigned?this.high>>>0:this.high);return n<<BigInt(32)|t});var Rt=(e=>(e[e.Null=0]="Null",e[e.Boolean=1]="Boolean",e[e.Integer=2]="Integer",e[e.Long=3]="Long",e[e.Double=4]="Double",e[e.String=5]="String",e[e.Bytes=6]="Bytes",e[e.Date=7]="Date",e))(Rt||{});class Tt extends Lo{constructor(n,i){super(i);u(this,"valueType");u(this,"value");this.valueType=Tt.getPrimitiveType(n),this.value=n===void 0?null:n}static of(n,i){return new Tt(n,i)}static valueFromBytes(n,i){switch(n){case 0:return null;case 1:return!!i[0];case 2:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 4:{const r=new DataView(i.buffer);return i.forEach(function(a,s){r.setUint8(s,a)}),r.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(i);case 3:return X.fromBytesLE(Array.from(i));case 6:return i;case 7:return new Date(X.fromBytesLE(Array.from(i),!0).toNumber());default:throw new A(S.ErrUnimplemented,`unimplemented type: ${n}`)}}toJSON(){return this.valueType===5?`"${yn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const n=Tt.of(this.value,this.getCreatedAt());return n.setMovedAt(this.getMovedAt()),n.setRemovedAt(this.getRemovedAt()),n}getType(){return this.valueType}static getPrimitiveType(n){switch(typeof n){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(n)?2:4;case"string":return 5;case"object":if(n===null)return 0;if(n instanceof X)return 3;if(n instanceof Uint8Array)return 6;if(n instanceof Date)return 7}}static isSupport(n){return Tt.getPrimitiveType(n)!==void 0}static isInteger(n){return n%1===0}isNumericType(){const n=this.valueType;return n===2||n===3||n===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const n=this.value;return new Uint8Array([n&255,n>>8&255,n>>16&255,n>>24&255])}case 4:{const n=this.value,i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,n,!0),i}case 5:return new TextEncoder().encode(this.value);case 3:{const i=this.value.toBytesLE();return Uint8Array.from(i)}case 6:return this.value;case 7:{const n=this.value,i=X.fromNumber(n.getTime(),!0).toBytesLE();return Uint8Array.from(i)}default:throw new A(S.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Cu extends C0{constructor(n){super(n);u(this,"prev");u(this,"next");this.value=n}static createAfter(n,i){const r=new Cu(i),a=n.next;return n.next=r,r.prev=n,r.next=a,a&&(a.prev=r),r}remove(n){return this.value.remove(n)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class po{constructor(){u(this,"dummyHead");u(this,"last");u(this,"nodeMapByIndex");u(this,"nodeMapByCreatedAt");const t=Tt.of(0,_e);t.setRemovedAt(_e),this.dummyHead=new Cu(t),this.last=this.dummyHead,this.nodeMapByIndex=new yo,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new po}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(t,n){let i=this.nodeMapByCreatedAt.get(t.toIDString());if(!i)throw new A(S.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);for(;i.getNext()&&i.getNext().getPositionedAt().after(n);)i=i.getNext();return i}release(t){this.last===t&&(this.last=t.getPrev()),t.release(),this.nodeMapByIndex.delete(t),this.nodeMapByCreatedAt.delete(t.getValue().getCreatedAt().toIDString())}insertAfter(t,n,i=n.getCreatedAt()){const r=this.findNextBeforeExecutedAt(t,i),a=Cu.createAfter(r,n);r===this.last&&(this.last=a),this.nodeMapByIndex.insertAfter(r,a),this.nodeMapByCreatedAt.set(a.getCreatedAt().toIDString(),a)}moveAfter(t,n,i){const r=this.nodeMapByCreatedAt.get(t.toIDString());if(!r)throw new A(S.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);const a=this.nodeMapByCreatedAt.get(n.toIDString());if(!a)throw new A(S.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);r!==a&&(!a.getValue().getMovedAt()||i.after(a.getValue().getMovedAt()))&&(this.release(a),this.insertAfter(r.getCreatedAt(),a.getValue(),i),a.getValue().setMovedAt(i))}insert(t){this.insertAfter(this.last.getCreatedAt(),t)}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}subPathOf(t){const n=this.nodeMapByCreatedAt.get(t.toIDString());if(n)return String(this.nodeMapByIndex.indexOf(n))}purge(t){const n=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!n)throw new A(S.ErrInvalidArgument,`fail to find the given createdAt: ${t.getCreatedAt().toIDString()}`);this.release(n)}getByIndex(t){if(t>=this.length)return;const[n,i]=this.nodeMapByIndex.find(t);let r=n;if(t===0&&n===this.dummyHead||i>0)do r&&(r=r.getNext());while(r&&r.isRemoved());return r}getPrevCreatedAt(t){let n=this.nodeMapByCreatedAt.get(t.toIDString());do n=n.getPrev();while(this.dummyHead!==n&&n.isRemoved());return n.getValue().getCreatedAt()}delete(t,n){const i=this.nodeMapByCreatedAt.get(t.toIDString()),r=i.isRemoved();return i.remove(n)&&!r&&this.nodeMapByIndex.splayNode(i),i.getValue()}deleteByIndex(t,n){const i=this.getByIndex(t);if(i)return i.remove(n)&&this.nodeMapByIndex.splayNode(i),i.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const t=[];for(const n of this){const i=`${n.getCreatedAt().toIDString()}:${n.getValue().toJSON()}`;n.isRemoved()?t.push(`{${i}}`):t.push(`[${i}]`)}return t.join("")}*[Symbol.iterator](){let t=this.dummyHead.getNext();for(;t;)yield t,t=t.getNext()}}class ve extends Ar{constructor(n,i){super(n);u(this,"elements");this.elements=i}static create(n,i){if(!i)return new ve(n,po.create());const r=po.create();for(const a of i)r.insertAfter(r.getLastCreatedAt(),a.deepcopy());return new ve(n,r)}subPathOf(n){return this.elements.subPathOf(n)}purge(n){this.elements.purge(n)}insertAfter(n,i){this.elements.insertAfter(n,i)}moveAfter(n,i,r){this.elements.moveAfter(n,i,r)}get(n){const i=this.elements.getByIndex(n);return i==null?void 0:i.getValue()}getByID(n){const i=this.elements.getByID(n);return i==null?void 0:i.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(n){return this.elements.getPrevCreatedAt(n)}delete(n,i){return this.elements.delete(n,i)}deleteByIndex(n,i){return this.elements.deleteByIndex(n,i)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const n of this.elements)n.isRemoved()||(yield n.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(n){for(const i of this.elements){const r=i.getValue();if(n(r,this))return;r instanceof Ar&&r.getDescendants(n)}}toJSON(){const n=[];for(const i of this)n.push(i.toJSON());return`[${n.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const n={};for(let i=0;i<this.length;i++){const{createdAt:r,value:a,type:s}=this.get(i).toJSForTest();n[i]={key:String(i),createdAt:r,value:a,type:s}}return{createdAt:this.getCreatedAt().toTestString(),value:n,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const n=ve.create(this.getCreatedAt());for(const i of this.elements)n.elements.insertAfter(n.getLastCreatedAt(),i.getValue().deepcopy());return n.remove(this.getRemovedAt()),n}}class Cr extends We{constructor(n,i,r){super(n,r);u(this,"createdAt");this.createdAt=i}static create(n,i,r){return new Cr(n,i,r)}execute(n,i){var c;const r=n.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new A(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Ar))throw new A(S.ErrInvalidArgument,`only object and array can execute remove: ${r}`);if(i===st.UndoRedo){let h=r.getByID(this.createdAt);for(;h;){if(h.getRemovedAt())return;h=(c=n.findElementPairByCreatedAt(h.getCreatedAt()))==null?void 0:c.parent}}const a=r.subPathOf(this.createdAt),s=this.toReverseOperation(r),o=r.delete(this.createdAt,this.getExecutedAt());return n.registerRemovedElement(o),{opInfos:r instanceof ve?[{type:"remove",path:n.createPath(this.getParentCreatedAt()),index:Number(a)}]:[{type:"remove",path:n.createPath(this.getParentCreatedAt()),key:a}],reverseOp:s}}toReverseOperation(n){if(n instanceof ie){const i=n.subPathOf(this.createdAt);if(i!==void 0){const r=n.get(i);if(r!==void 0)return na.create(i,r.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class na extends We{constructor(n,i,r,a){super(r,a);u(this,"key");u(this,"value");this.key=n,this.value=i}static create(n,i,r,a){return new na(n,i,r,a)}execute(n,i){var c;const r=n.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new A(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof ie))throw new A(S.ErrInvalidArgument,"fail to execute, only object can execute set");if(i===st.UndoRedo){let h=r;for(;h;){if(h.getRemovedAt())return;h=(c=n.findElementPairByCreatedAt(h.getCreatedAt()))==null?void 0:c.parent}}const a=r.get(this.key),s=this.toReverseOperation(a),o=this.value.deepcopy(),l=r.set(this.key,o,this.getExecutedAt());return i===st.UndoRedo&&n.findByCreatedAt(o.getCreatedAt())&&n.deregisterElement(o),n.registerElement(o,r),l&&n.registerRemovedElement(l),{opInfos:[{type:"set",path:n.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:s}}toReverseOperation(n){let i=Cr.create(this.getParentCreatedAt(),this.value.getCreatedAt());return n!==void 0&&!n.isRemoved()&&(i=na.create(this.key,n.deepcopy(),this.getParentCreatedAt())),i}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class qo extends We{constructor(n,i,r,a){super(n,a);u(this,"prevCreatedAt");u(this,"value");this.prevCreatedAt=i,this.value=r}static create(n,i,r,a){return new qo(n,i,r,a)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new A(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof ve))throw new A(S.ErrInvalidArgument,"fail to execute, only array can execute add");const r=i,a=this.value.deepcopy();return r.insertAfter(this.prevCreatedAt,a),n.registerElement(a,r),{opInfos:[{type:"add",path:n.createPath(this.getParentCreatedAt()),index:Number(r.subPathOf(this.getEffectedCreatedAt()))}]}}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class hr extends We{constructor(n,i,r,a){super(n,a);u(this,"prevCreatedAt");u(this,"createdAt");this.prevCreatedAt=i,this.createdAt=r}static create(n,i,r,a){return new hr(n,i,r,a)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new A(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof ve))throw new A(S.ErrInvalidArgument,"fail to execute, only array can execute move");const r=i,a=Number(r.subPathOf(this.createdAt));r.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const s=Number(r.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:n.createPath(this.getParentCreatedAt()),index:s,previousIndex:a}]}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class Hr{constructor(t,n,i,r){u(this,"key");u(this,"value");u(this,"updatedAt");u(this,"_isRemoved");this.key=t,this.value=n,this.updatedAt=i,this._isRemoved=r}static of(t,n,i,r){return new Hr(t,n,i,r)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}}class Ki{constructor(){u(this,"nodeMapByKey");u(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Ki}getNodeMapByKey(){return this.nodeMapByKey}set(t,n,i){const r=this.nodeMapByKey.get(t);if(r&&r.isRemoved()&&i.after(r.getUpdatedAt())&&(this.numberOfRemovedElement-=1),r===void 0||i.after(r.getUpdatedAt())){const a=Hr.of(t,n,i,!1);return this.nodeMapByKey.set(t,a),r!==void 0&&r.isRemoved()?[r,a]:[void 0,a]}return r.isRemoved()?[r,void 0]:[void 0,void 0]}setInternal(t,n,i,r){const a=Hr.of(t,n,i,r);this.nodeMapByKey.set(t,a),r&&this.numberOfRemovedElement++}remove(t,n){const i=this.nodeMapByKey.get(t),r=[];if(i===void 0||n.after(i.getUpdatedAt())){if(i===void 0){this.numberOfRemovedElement+=1;const o=Hr.of(t,"",n,!0);return this.nodeMapByKey.set(t,o),r.push(o),r}const a=i.isRemoved();a||(this.numberOfRemovedElement+=1),a&&r.push(i);const s=Hr.of(t,i.getValue(),n,!0);return this.nodeMapByKey.set(t,s),r.push(s),r}return r}has(t){if(this.nodeMapByKey.has(t)){const n=this.nodeMapByKey.get(t);return n!==void 0&&!n.isRemoved()}return!1}get(t){if(this.nodeMapByKey.has(t))return this.nodeMapByKey.get(t).getValue()}deepcopy(){const t=new Ki;for(const[,n]of this.nodeMapByKey)t.setInternal(n.getKey(),n.getValue(),n.getUpdatedAt(),n.isRemoved());return t}toJSON(){if(!this.size())return"{}";const t=[];for(const[n,i]of this.nodeMapByKey)i.isRemoved()||t.push(`"${yn(n)}":"${yn(i.getValue())}"`);return`{${t.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const t={};for(const[n,i]of this.nodeMapByKey)i.isRemoved()||(t[n]=i.getValue());return t}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}purge(t){const n=this.nodeMapByKey.get(t.getKey());n==null||n.toIDString()!=t.toIDString()||(this.nodeMapByKey.delete(t.getKey()),this.numberOfRemovedElement--)}}class vo{constructor(t){u(this,"attributes");u(this,"content");this.attributes=Ki.create(),this.content=t}static create(t){return new vo(t)}get length(){return this.content.length}substring(t,n){const i=new vo(this.content.substring(t,n));return i.attributes=this.attributes.deepcopy(),i}setAttr(t,n,i){return this.attributes.set(t,n,i)}getAttrs(){return this.attributes}toString(){return this.content}toJSON(){const t=yn(this.content),n=this.attributes.toObject(),i=[];for(const[r,a]of Object.entries(n)){const s=JSON.parse(a),o=typeof s=="string"?`"${yn(r)}":"${yn(s)}"`:`"${yn(r)}":${String(s)}`;i.push(o)}return i.sort(),i.length===0?`{"val":"${t}"}`:`{"attrs":{${i.join(",")}},"val":"${t}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(t){this.attributes&&t instanceof Hr&&this.attributes.purge(t)}getGCPairs(){const t=[];for(const n of this.attributes)n.getRemovedAt()&&t.push({parent:this,child:n});return t}}class Pe extends Lo{constructor(n,i){super(i);u(this,"rgaTreeSplit");this.rgaTreeSplit=n}static create(n,i){return new Pe(n,i)}edit(n,i,r,a,s,o){const l=i?vo.create(i):void 0;if(l&&a)for(const[T,w]of Object.entries(a))l.setAttr(T,w,r);const[c,h,d,g]=this.rgaTreeSplit.edit(n,r,l,s,o),m=g.map(T=>({...T,value:T.value?{attributes:Ja(T.value.getAttributes()),content:T.value.getContent()}:{attributes:void 0,content:""},type:"content"}));return[h,m,d,[c,c]]}setStyle(n,i,r,a,s){const[,o]=this.rgaTreeSplit.findNodeWithSplit(n[1],r),[,l]=this.rgaTreeSplit.findNodeWithSplit(n[0],r),c=[],h=this.rgaTreeSplit.findBetween(l,o),d=new Map,g=[];for(const T of h){const w=T.getCreatedAt().getActorID();let C,p=0n;if(s===void 0&&a===void 0?p=$s:s.size()>0?p=s.get(w)?s.get(w):0n:C=a.has(w)?a.get(w):_e,T.canStyle(r,C,p)){const y=d.get(w),v=T.getCreatedAt();(!y||v.after(y))&&d.set(w,v),g.push(T)}}const m=[];for(const T of g){if(T.isRemoved())continue;const[w,C]=this.rgaTreeSplit.findIndexesFromRange(T.createPosRange());c.push({type:"style",actor:r.getActorID(),from:w,to:C,value:{attributes:Ja(i)}});for(const[p,y]of Object.entries(i)){const[v]=T.getValue().setAttr(p,y,r);v!==void 0&&m.push({parent:T.getValue(),child:v})}}return[d,m,c]}indexRangeToPosRange(n,i){const r=this.rgaTreeSplit.indexToPos(n);return n===i?[r,r]:[r,this.rgaTreeSplit.indexToPos(i)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}toJSON(){const n=[];for(const i of this.rgaTreeSplit)i.isRemoved()||n.push(i.getValue().toJSON());return`[${n.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const n=[];for(const i of this.rgaTreeSplit)if(!i.isRemoved()){const r=i.getValue();n.push({attributes:Ja(r.getAttributes()),content:r.getContent()})}return n}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const n=new Pe(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return n.remove(this.getRemovedAt()),n}findIndexesFromRange(n){return this.rgaTreeSplit.findIndexesFromRange(n)}getGCPairs(){const n=[];for(const i of this.rgaTreeSplit){i.getRemovedAt()&&n.push({parent:this.rgaTreeSplit,child:i});for(const r of i.getValue().getGCPairs())n.push(r)}return n}}class Jo extends We{constructor(n,i,r,a,s,o,l){super(n,l);u(this,"fromPos");u(this,"toPos");u(this,"maxCreatedAtMapByActor");u(this,"content");u(this,"attributes");this.fromPos=i,this.toPos=r,this.maxCreatedAtMapByActor=a,this.content=s,this.attributes=o}static create(n,i,r,a,s,o,l){return new Jo(n,i,r,a,s,o,l)}execute(n,i,r){const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new A(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Pe))throw new A(S.ErrInvalidArgument,"fail to execute, only Text can execute edit");const s=a,[,o,l]=s.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),this.maxCreatedAtMapByActor,r);for(const c of l)n.registerGCPair(c);return{opInfos:o.map(({from:c,to:h,value:d})=>({type:"edit",from:c,to:h,value:d,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),r=this.toPos.toTestString(),a=this.content;return`${n}.EDIT(${i},${r},${a})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Ho extends We{constructor(n,i,r,a,s,o){super(n,o);u(this,"fromPos");u(this,"toPos");u(this,"maxCreatedAtMapByActor");u(this,"attributes");this.fromPos=i,this.toPos=r,this.maxCreatedAtMapByActor=a,this.attributes=s}static create(n,i,r,a,s,o){return new Ho(n,i,r,a,s,o)}execute(n,i,r){const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new A(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Pe))throw new A(S.ErrInvalidArgument,"fail to execute, only Text can execute edit");const s=a,[,o,l]=s.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),this.maxCreatedAtMapByActor,r);for(const c of o)n.registerGCPair(c);return{opInfos:l.map(({from:c,to:h,value:d})=>({type:"style",from:c,to:h,value:d,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),r=this.toPos.toTestString(),a=this.attributes;return`${n}.STYL(${i},${r},${JSON.stringify(a)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}const V1=2,j1="root",Ji="text";function Es(e,t){let n=0;const i=e.children;for(let r=0;r<t;r++){const a=i[r];!a||a.isRemoved||(n+=a.paddedSize)}return n}class P1{constructor(t,n=[]){u(this,"type");u(this,"parent");u(this,"_children");u(this,"size");if(this.type=t,this.size=0,this._children=n,this.isText&&this._children.length>0)throw new A(S.ErrRefused,"Text node cannot have children")}updateAncestorsSize(){let t=this.parent;const n=this.isRemoved?-1:1;for(;t&&(t.size+=this.paddedSize*n,!t.isRemoved);)t=t.parent}updateDescendantsSize(){let t=0;for(const n of this._children){const i=n.updateDescendantsSize();n.isRemoved||(t+=i)}return this.size+=t,this.paddedSize}get isText(){return this.type===Ji}get paddedSize(){return this.size+(this.isText?0:V1)}isAncestorOf(t){return G1(this,t)}get nextSibling(){const t=this.parent.findOffset(this),n=this.parent.children[t+1];if(n)return n}get prevSibling(){const t=this.parent.findOffset(this),n=this.parent.children[t-1];if(n)return n}splitText(t,n){if(t===0||t===this.size)return;const i=this.value.slice(0,t),r=this.value.slice(t);if(!r.length)return;this.value=i;const a=this.cloneText(t+n);return a.value=r,this.parent.insertAfterInternal(a,this),a}get children(){return this._children.filter(t=>!t.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(t=>t.isText)}append(...t){if(this.isText)throw new A(S.ErrRefused,"Text node cannot have children");this._children.push(...t);for(const n of t)n.parent=this,n.updateAncestorsSize()}prepend(...t){if(this.isText)throw new A(S.ErrRefused,"Text node cannot have children");this._children.unshift(...t);for(const n of t)n.parent=this}insertBefore(t,n){if(this.isText)throw new A(S.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new A(S.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i),t.updateAncestorsSize()}insertAfter(t,n){if(this.isText)throw new A(S.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new A(S.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i+1),t.updateAncestorsSize()}insertAt(t,n){if(this.isText)throw new A(S.ErrRefused,"Text node cannot have children");this.insertAtInternal(t,n),t.updateAncestorsSize()}removeChild(t){if(this.isText)throw new A(S.ErrRefused,"Text node cannot have children");const n=this._children.indexOf(t);if(n===-1)throw new A(S.ErrInvalidArgument,"child not found");this._children.splice(n,1),t.parent=void 0}splitElement(t,n){const i=this.cloneElement(n);this.parent.insertAfterInternal(i,this),i.updateAncestorsSize();const r=this.children.slice(0,t),a=this.children.slice(t);this._children=r,i._children=a,this.size=this._children.reduce((s,o)=>s+o.paddedSize,0),i.size=i._children.reduce((s,o)=>s+o.paddedSize,0);for(const s of i._children)s.parent=i;return i}insertAfterInternal(t,n){if(this.isText)throw new A(S.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new A(S.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i+1)}insertAtInternal(t,n){if(this.isText)throw new A(S.ErrRefused,"Text node cannot have children");this._children.splice(n,0,t),t.parent=this}findOffset(t){if(this.isText)throw new A(S.ErrRefused,"Text node cannot have children");if(t.isRemoved){const n=this._children.indexOf(t);return this.allChildren.splice(0,n).filter(r=>!r.isRemoved).length}return this.children.indexOf(t)}findBranchOffset(t){if(this.isText)throw new A(S.ErrRefused,"Text node cannot have children");let n=t;for(;n;){const i=this._children.indexOf(n);if(i!==-1)return i;n=n.parent}return-1}}function G1(e,t){if(e===t)return!1;for(;t.parent;){if(t.parent===e)return!0;t=t.parent}return!1}var xt=(e=>(e.Start="Start",e.End="End",e.Text="Text",e))(xt||{});function M0(e,t,n,i){if(t>n)throw new A(S.ErrInvalidArgument,`from is greater than to: ${t} > ${n}`);if(t>e.size)throw new A(S.ErrInvalidArgument,`from is out of range: ${t} > ${e.size}`);if(n>e.size)throw new A(S.ErrInvalidArgument,`to is out of range: ${n} > ${e.size}`);if(t===n)return;let r=0;for(const a of e.children){if(t-a.paddedSize<r&&r<n){const s=a.isText?t-r:t-r-1,o=a.isText?n-r:n-r-1,l=!a.isText&&s<0,c=!a.isText&&o>a.size;(a.isText||l)&&i([a,a.isText?"Text":"Start"],c),M0(a,Math.max(0,s),Math.min(o,a.size),i),c&&i([a,"End"],c)}r+=a.paddedSize}}function U0(e,t,n=0){for(const i of e.children)U0(i,t,n+1);t(e,n)}function ec(e,t,n=0){for(const i of e._children)ec(i,t,n+1);t(e,n)}function yh(e,t,n=!0){if(t>e.size)throw new A(S.ErrInvalidArgument,`index is out of range: ${t} > ${e.size}`);if(e.isText)return{node:e,offset:t};let i=0,r=0;for(const a of e.children){if(n&&a.isText&&a.size>=t-r)return yh(a,t-r,n);if(t===r)return{node:e,offset:i};if(!n&&a.paddedSize===t-r)return{node:e,offset:i+1};if(a.paddedSize>t-r)return yh(a,t-r-1,n);r+=a.paddedSize,i+=1}return{node:e,offset:i}}function z0(e){return e.isText||e.children.length===0?e:z0(e.children[0])}function Y1(e,t){if(e.size<t)throw new A(S.ErrInvalidArgument,"unacceptable path");for(let n=0;n<e.children.length;n++){const i=e.children[n];if(i.size<t)t-=i.size;else{e=i;break}}return{node:e,offset:t}}class K1{constructor(t){u(this,"root");this.root=t}tokensBetween(t,n,i){M0(this.root,t,n,i)}traverse(t){U0(this.root,t,0)}traverseAll(t){ec(this.root,t,0)}findTreePos(t,n=!0){return yh(this.root,t,n)}treePosToPath(t){const n=[];let i=t.node;if(i.isText){const r=i.parent.findOffset(i);if(r===-1)throw new A(S.ErrInvalidArgument,"invalid treePos");const a=Es(i.parent,r);n.push(a+t.offset),i=i.parent}else if(i.hasTextChild()){const r=Es(i,t.offset);n.push(r)}else n.push(t.offset);for(;i.parent;){const r=i.parent.findOffset(i);if(r===-1)throw new A(S.ErrInvalidArgument,"invalid treePos");n.push(r),i=i.parent}return n.reverse()}pathToIndex(t){const n=this.pathToTreePos(t);return this.indexOf(n)}pathToTreePos(t){if(!t.length)throw new A(S.ErrInvalidArgument,"unacceptable path");let n=this.root;for(let i=0;i<t.length-1;i++){const r=t[i];if(n=n.children[r],!n)throw new A(S.ErrInvalidArgument,"unacceptable path")}if(n.hasTextChild())return Y1(n,t[t.length-1]);if(n.children.length<t[t.length-1])throw new A(S.ErrInvalidArgument,"unacceptable path");return{node:n,offset:t[t.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(t){const{node:n,offset:i}=t;if(n.isText){if(n.size===i){const r=n.nextSibling;return r||n.parent}return n}return n.children.length===i?n:z0(n.children[i])}indexOf(t){let{node:n}=t;const{offset:i}=t;let r=0,a=1;if(n.isText){r+=i;const s=n.parent,o=s.findOffset(n);if(o===-1)throw new A(S.ErrInvalidArgument,"invalid pos");r+=Es(s,o),n=n.parent}else r+=Es(n,i);for(;n!=null&&n.parent;){const s=n.parent,o=s.findOffset(n);if(o===-1)throw new A(S.ErrInvalidArgument,"invalid pos");r+=Es(s,o),a++,n=n.parent}return r+a-1}indexToPath(t){const n=this.findTreePos(t);return this.treePosToPath(n)}}const $1=(e,t)=>e===t?0:e<t?-1:1;class X1{constructor(t,n,i){u(this,"key");u(this,"value");u(this,"parent");u(this,"left");u(this,"right");u(this,"isRed");this.key=t,this.value=n,this.isRed=i}}class Z1{constructor(t){u(this,"stack");this.stack=[],this.traverseInorder(t)}traverseInorder(t){t&&(this.traverseInorder(t.left),this.stack.push({key:t.key,value:t.value}),this.traverseInorder(t.right))}}class L0{constructor(t){u(this,"root");u(this,"comparator");u(this,"counter");this.comparator=typeof t<"u"?t:$1,this.counter=0}put(t,n){return this.root=this.putInternal(t,n,this.root),this.root.isRed=!1,n}get(t){const n=this.getInternal(t,this.root);return n?n.value:void 0}remove(t){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,t),this.root&&(this.root.isRed=!1)}getIterator(){return new Z1(this.root)}values(){const t=[];for(const n of this.getIterator().stack)t.push(n.value);return t}floorEntry(t){let n=this.root;for(;n;){const i=this.comparator(t,n.key);if(i>0)if(n.right)n.right.parent=n,n=n.right;else return n;else if(i<0)if(n.left)n.left.parent=n,n=n.left;else{let r=n.parent,a=n;for(;r&&a===r.left;)a=r,r=r.parent;return r}else return n}}lastEntry(){if(!this.root)return this.root;let t=this.root;for(;t.right;)t=t.right;return t}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(t,n){for(;n;){const i=this.comparator(t,n.key);if(i===0)return n;i<0?n=n.left:i>0&&(n=n.right)}}putInternal(t,n,i){if(!i)return this.counter+=1,new X1(t,n,!0);const r=this.comparator(t,i.key);return r<0?i.left=this.putInternal(t,n,i.left):r>0?i.right=this.putInternal(t,n,i.right):i.value=n,this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}removeInternal(t,n){if(this.comparator(n,t.key)<0)!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeInternal(t.left,n);else{if(this.isRed(t.left)&&(t=this.rotateRight(t)),this.comparator(n,t.key)===0&&!t.right){this.counter-=1;return}if(!this.isRed(t.right)&&!this.isRed(t.right.left)&&(t=this.moveRedRight(t)),this.comparator(n,t.key)===0){this.counter-=1;const i=this.min(t.right);t.value=i.value,t.key=i.key,t.right=this.removeMin(t.right)}else t.right=this.removeInternal(t.right,n)}return this.fixUp(t)}min(t){return t.left?this.min(t.left):t}removeMin(t){if(t.left)return!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeMin(t.left),this.fixUp(t)}fixUp(t){return this.isRed(t.right)&&(t=this.rotateLeft(t)),this.isRed(t.left)&&this.isRed(t.left.left)&&(t=this.rotateRight(t)),this.isRed(t.left)&&this.isRed(t.right)&&this.flipColors(t),t}moveRedLeft(t){return this.flipColors(t),this.isRed(t.right.left)&&(t.right=this.rotateRight(t.right),t=this.rotateLeft(t),this.flipColors(t)),t}moveRedRight(t){return this.flipColors(t),this.isRed(t.left.left)&&(t=this.rotateRight(t),this.flipColors(t)),t}isRed(t){return t&&t.isRed}rotateLeft(t){const n=t.right;return t.right=n.left,n.left=t,n.isRed=n.left.isRed,n.left.isRed=!0,n}rotateRight(t){const n=t.left;return t.left=n.right,n.right=t,n.isRed=n.right.isRed,n.right.isRed=!0,n}flipColors(t){t.isRed=!t.isRed,t.left.isRed=!t.left.isRed,t.right.isRed=!t.right.isRed}}class Ze{constructor(t,n){u(this,"parentID");u(this,"leftSiblingID");this.parentID=t,this.leftSiblingID=n}static of(t,n){return new Ze(t,n)}static fromTreePos(t){const{offset:n}=t;let{node:i}=t,r;return i.isText?(i.parent.children[0]===i&&n===0?r=i.parent:r=i,i=i.parent):n===0?r=i:r=i.children[n-1],Ze.of(i.id,Pt.of(r.getCreatedAt(),r.getOffset()+n))}getParentID(){return this.parentID}static fromStruct(t){return Ze.of(Pt.of(He.fromStruct(t.parentID.createdAt),t.parentID.offset),Pt.of(He.fromStruct(t.leftSiblingID.createdAt),t.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(t){const n=this.getParentID(),i=this.getLeftSiblingID(),r=t.findFloorNode(n);let a=t.findFloorNode(i);if(!r||!a)throw new A(S.ErrRefused,`cannot find node of CRDTTreePos(${n.toTestString()}, ${i.toTestString()})`);return!i.equals(n)&&i.getOffset()>0&&i.getOffset()===a.id.getOffset()&&a.insPrevID&&(a=t.findFloorNode(a.insPrevID)),[r,a]}getLeftSiblingID(){return this.leftSiblingID}equals(t){return this.getParentID().getCreatedAt().equals(t.getParentID().getCreatedAt())&&this.getParentID().getOffset()===t.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(t.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===t.getLeftSiblingID().getOffset()}}class Pt{constructor(t,n){u(this,"createdAt");u(this,"offset");this.createdAt=t,this.offset=n}static of(t,n){return new Pt(t,n)}static fromStruct(t){return Pt.of(He.fromStruct(t.createdAt),t.offset)}static createComparator(){return(t,n)=>{const i=t.getCreatedAt().compare(n.getCreatedAt());return i!==0?i:t.getOffset()>n.getOffset()?1:t.getOffset()<n.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}getOffset(){return this.offset}setOffset(t){this.offset=t}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class de extends P1{constructor(n,i,r,a,s){super(i);u(this,"id");u(this,"removedAt");u(this,"attrs");u(this,"insPrevID");u(this,"insNextID");u(this,"_value","");this.id=n,this.removedAt=s,a&&(this.attrs=a),typeof r=="string"?this.value=r:Array.isArray(r)&&(this._children=r)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(n,i,r,a){return new de(n,i,r,a)}deepcopy(){var i;const n=new de(this.id,this.type);return n.removedAt=this.removedAt,n._value=this._value,n.size=this.size,n.attrs=(i=this.attrs)==null?void 0:i.deepcopy(),n._children=this._children.map(r=>{const a=r.deepcopy();return a.parent=n,a}),n.insPrevID=this.insPrevID,n.insNextID=this.insNextID,n}get value(){if(!this.isText)throw new A(S.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(n){if(!this.isText)throw new A(S.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=n,this.size=n.length}get isRemoved(){return!!this.removedAt}remove(n){const i=!this.removedAt;(!this.removedAt||this.removedAt.compare(n)>0)&&(this.removedAt=n),i&&this.updateAncestorsSize()}cloneText(n){return new de(Pt.of(this.id.getCreatedAt(),n),this.type,void 0,void 0,this.removedAt)}cloneElement(n){return new de(Pt.of(n(),0),this.type,void 0,void 0,this.removedAt)}split(n,i,r){const a=this.isText?this.splitText(i,this.id.getOffset()):this.splitElement(i,r);if(a){if(a.insPrevID=this.id,this.insNextID){const s=n.findFloorNode(this.insNextID);s.insPrevID=a.id,a.insNextID=this.insNextID}this.insNextID=a.id,n.registerNode(a)}return a}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(n,i,r){return(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=r)&&(!this.removedAt||n.after(this.removedAt))}canStyle(n,i,r){return this.isText?!1:(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=r)&&(!this.removedAt||n.after(this.removedAt))}setAttrs(n,i){this.attrs||(this.attrs=new Ki);const r=[];for(const[a,s]of Object.entries(n))r.push(this.attrs.set(a,s,i));return r}purge(n){this.attrs&&this.attrs.purge(n)}getGCPairs(){const n=[];if(!this.attrs)return n;for(const i of this.attrs)i.getRemovedAt()&&n.push({parent:this,child:i});return n}}function ph(e){var n;if(e.isText){const i=e;return{type:i.type,value:i.value}}const t={type:e.type,children:e.children.map(ph)};return e.attrs&&(t.attributes=Ja((n=e.attrs)==null?void 0:n.toObject())),t}function Ed(e){if(e.isText)return e.value;let t="";return e.attrs&&e.attrs.size()&&(t=" "+Array.from(e.attrs).filter(n=>!n.isRemoved()).sort((n,i)=>n.getKey().localeCompare(i.getKey())).map(n=>{const i=JSON.parse(n.getValue());return typeof i=="string"?`${n.getKey()}="${i}"`:`${n.getKey()}="${yn(n.getValue())}"`}).join(" ")),`<${e.type}${t}>${e.children.map(n=>Ed(n)).join("")}</${e.type}>`}function q0(e){if(e.isText){const t=e;return{type:t.type,value:t.value,size:t.size,isRemoved:t.isRemoved}}return{type:e.type,children:e.children.map(q0),size:e.size,isRemoved:e.isRemoved}}class Ge extends Lo{constructor(n,i){super(i);u(this,"indexTree");u(this,"nodeMapByID");this.indexTree=new K1(n),this.nodeMapByID=new L0(Pt.createComparator()),this.indexTree.traverseAll(r=>{this.nodeMapByID.put(r.id,r)})}static create(n,i){return new Ge(n,i)}findFloorNode(n){const i=this.nodeMapByID.floorEntry(n);if(!(!i||!i.key.getCreatedAt().equals(n.getCreatedAt())))return i.value}registerNode(n){this.nodeMapByID.put(n.id,n)}findNodesAndSplitText(n,i){const[r,a]=n.toTreeNodePair(this);let s=a;const o=r===s,l=s.parent&&!o?s.parent:r;if(s.isText&&s.split(this,n.getLeftSiblingID().getOffset()-s.id.getOffset()),i){const c=l.allChildren,h=o?0:c.indexOf(s)+1;for(let d=h;d<c.length;d++){const g=c[d];if(!g.id.getCreatedAt().after(i))break;s=g}}return[l,s]}style(n,i,r,a,s){const[o,l]=this.findNodesAndSplitText(n[0],r),[c,h]=this.findNodesAndSplitText(n[1],r),d=[],g=i?Ja(i):{},m=new Map,T=[];return this.traverseInPosRange(o,l,c,h,([w])=>{const C=w.getCreatedAt().getActorID();let p,y=0n;if(s===void 0&&a===void 0?y=$s:s.size()>0?y=s.get(C)?s.get(C):0n:p=a.has(C)?a.get(C):_e,w.canStyle(r,p,y)&&i){const v=m.get(C),b=w.getCreatedAt();(!v||b.after(v))&&m.set(C,b);const N=w.setAttrs(i,r),k=N.reduce((Z,[,J])=>(J&&(Z[J.getKey()]=g[J.getKey()]),Z),{}),O=w.parent,B=w.prevSibling||w.parent;Object.keys(k).length>0&&d.push({type:"style",from:this.toIndex(O,B),to:this.toIndex(w,w),fromPath:this.toPath(O,B),toPath:this.toPath(w,w),actor:r.getActorID(),value:k});for(const[Z]of N)Z&&T.push({parent:w,child:Z})}}),[m,T,d]}removeStyle(n,i,r,a,s){const[o,l]=this.findNodesAndSplitText(n[0],r),[c,h]=this.findNodesAndSplitText(n[1],r),d=[],g=new Map,m=[];return this.traverseInPosRange(o,l,c,h,([T])=>{const w=T.getCreatedAt().getActorID();let C,p=0n;if(s===void 0&&a===void 0?p=$s:s.size()>0?p=s.get(w)?s.get(w):0n:C=a.has(w)?a.get(w):_e,T.canStyle(r,C,p)&&i){const y=g.get(w),v=T.getCreatedAt();(!y||v.after(y))&&g.set(w,v),T.attrs||(T.attrs=new Ki);for(const k of i){const O=T.attrs.remove(k,r);for(const B of O)m.push({parent:T,child:B})}const b=T.parent,N=T.prevSibling||T.parent;d.push({actor:r.getActorID(),type:"removeStyle",from:this.toIndex(b,N),to:this.toIndex(T,T),fromPath:this.toPath(b,N),toPath:this.toPath(T,T),value:i})}}),[g,m,d]}edit(n,i,r,a,s,o,l){const[c,h]=this.findNodesAndSplitText(n[0],a),[d,g]=this.findNodesAndSplitText(n[1],a),m=this.toIndex(c,h),T=this.toPath(c,h),w=[],C=[],p=[],y=new Map;this.traverseInPosRange(c,h,d,g,([N,k],O)=>{if(k===xt.Start&&!O)for(const Ct of N.children)p.push(Ct);const B=N.getCreatedAt().getActorID();let Z,J=0n;if(l===void 0&&o===void 0?J=$s:l.size()>0?J=l.get(B)?l.get(B):0n:Z=o.has(B)?o.get(B):_e,N.canDelete(a,Z,J)||w.includes(N.parent)){const Ct=y.get(B),oe=N.getCreatedAt();(!Ct||oe.after(Ct))&&y.set(B,oe),(k===xt.Text||k===xt.Start)&&w.push(N),C.push([N,k])}});const v=this.makeDeletionChanges(C,a),b=[];for(const N of w)N.remove(a),N.isRemoved&&b.push({parent:this,child:N});for(const N of p)N.removedAt||c.append(N);if(r>0){let N=0,k=c,O=h;for(;N<r;)k.split(this,k.findOffset(O)+1,s),O=k,k=k.parent,N++;v.push({type:"content",from:m,to:m,fromPath:T,toPath:T,actor:a.getActorID()})}if(i!=null&&i.length){const N=[];let k=h;for(const O of i)k===c?c.insertAt(O,0):c.insertAfter(O,k),k=O,ec(O,B=>{c.isRemoved&&(B.remove(a),b.push({parent:this,child:B})),this.nodeMapByID.put(B.id,B)}),O.isRemoved||N.push(O);if(N.length){const O=N.map(B=>ph(B));v.length&&v[v.length-1].from===m?v[v.length-1].value=O:v.push({type:"content",from:m,to:m,fromPath:T,toPath:T,actor:a.getActorID(),value:O})}}return[v,b,y]}editT(n,i,r,a,s){const o=this.findPos(n[0]),l=this.findPos(n[1]);this.edit([o,l],i,r,a,s)}move(n,i,r){throw new A(S.ErrUnimplemented,`not implemented: ${n}, ${i}, ${r}`)}purge(n){var a;(a=n.parent)==null||a.removeChild(n),this.nodeMapByID.remove(n.id);const i=n.insPrevID,r=n.insNextID;if(i){const s=this.findFloorNode(i);s.insNextID=r}if(r){const s=this.findFloorNode(r);s.insPrevID=i}n.insPrevID=void 0,n.insNextID=void 0}getGCPairs(){const n=[];return this.indexTree.traverse(i=>{i.getRemovedAt()&&n.push({parent:this,child:i});for(const r of i.getGCPairs())n.push(r)}),n}findPos(n,i=!0){const r=this.indexTree.findTreePos(n,i);return Ze.fromTreePos(r)}pathToPosRange(n){const i=this.pathToIndex(n);return[this.findPos(i),this.findPos(i+1)]}pathToPos(n){const i=this.indexTree.pathToIndex(n);return this.findPos(i)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Ed(this.indexTree.getRoot())}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const n=this.indexTree.getRoot(),i=(r,a=void 0,s=void 0,o=0)=>{var m,T,w,C;let l,c,h;const d=r.isText?{node:r,offset:0}:a&&s?this.toTreePos(a,s):null;d&&(l=this.indexTree.indexOf(d),c=this.indexTree.treePosToPath(d),h=Ze.fromTreePos(d).toStruct());const g={type:r.type,parent:a==null?void 0:a.id.toTestString(),size:r.size,id:r.id.toTestString(),removedAt:(m=r.removedAt)==null?void 0:m.toTestString(),insPrev:(T=r.insPrevID)==null?void 0:T.toTestString(),insNext:(w=r.insNextID)==null?void 0:w.toTestString(),value:r.isText?r.value:void 0,isRemoved:r.isRemoved,children:[],depth:o,attributes:r.attrs?Ja((C=r.attrs)==null?void 0:C.toObject()):void 0,index:l,path:c,pos:h};for(let p=0;p<r.allChildren.length;p++){const y=p===0?r:r.allChildren[p-1];g.children.push(i(r.allChildren[p],r,y,o+1))}return g};return i(n)}getRootTreeNode(){return ph(this.indexTree.getRoot())}toTestTreeNode(){return q0(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const n=this.getRoot();return new Ge(n.deepcopy(),this.getCreatedAt())}toPath(n,i){const r=this.toTreePos(n,i);return r?this.indexTree.treePosToPath(r):[]}toIndex(n,i){const r=this.toTreePos(n,i);return r?this.indexTree.indexOf(r):-1}indexToPath(n){return this.indexTree.indexToPath(n)}pathToIndex(n){return this.indexTree.pathToIndex(n)}indexRangeToPosRange(n){const i=this.findPos(n[0]);return n[0]===n[1]?[i,i]:[i,this.findPos(n[1])]}indexRangeToPosStructRange(n){const[i,r]=n,a=this.findPos(i);return i===r?[a.toStruct(),a.toStruct()]:[a.toStruct(),this.findPos(r).toStruct()]}posRangeToPathRange(n){const[i,r]=this.findNodesAndSplitText(n[0]),[a,s]=this.findNodesAndSplitText(n[1]);return[this.toPath(i,r),this.toPath(a,s)]}posRangeToIndexRange(n){const[i,r]=this.findNodesAndSplitText(n[0]),[a,s]=this.findNodesAndSplitText(n[1]);return[this.toIndex(i,r),this.toIndex(a,s)]}traverseInPosRange(n,i,r,a,s){const o=this.toIndex(n,i),l=this.toIndex(r,a);return this.indexTree.tokensBetween(o,l,s)}toTreePos(n,i){if(!n||!i)return;if(n.isRemoved){let a;for(;n.isRemoved;)a=n,n=a.parent;const s=n.findOffset(a);return{node:n,offset:s}}if(n===i)return{node:n,offset:0};let r=n.findOffset(i);if(!i.isRemoved){if(i.isText)return{node:i,offset:i.paddedSize};r++}return{node:n,offset:r}}makeDeletionChanges(n,i){const r=[],a=[];let s=null,o=null;for(let l=0;l<n.length;l++){const c=n[l],h=n[l+1];s||(s=c),o=c;const d=this.findRightToken(c);(!d||!h||d[0]!==h[0]||d[1]!==h[1])&&(a.push([s,o]),s=null,o=null)}for(const l of a){const[c,h]=l,[d,g]=this.findLeftToken(c),[m,T]=h,w=g===xt.Start?d:d.parent,C=T===xt.Start?m:m.parent,p=this.toIndex(w,d),y=this.toIndex(C,m);p<y&&(r.length>0&&p===r[r.length-1].to?(r[r.length-1].to=y,r[r.length-1].toPath=this.toPath(C,m)):r.push({type:"content",from:p,to:y,fromPath:this.toPath(w,d),toPath:this.toPath(C,m),actor:i.getActorID()}))}return r.reverse()}findRightToken([n,i]){if(i===xt.Start){const l=n.allChildren;return l.length>0?[l[0],l[0].isText?xt.Text:xt.Start]:[n,xt.End]}const r=n.parent,a=r.allChildren,s=a.indexOf(n);if(r&&s===a.length-1)return[r,xt.End];const o=a[s+1];return[o,o.isText?xt.Text:xt.Start]}findLeftToken([n,i]){if(i===xt.End){const l=n.allChildren;if(l.length>0){const c=l[l.length-1];return[c,c.isText?xt.Text:xt.End]}return[n,xt.Start]}const r=n.parent,a=r.allChildren,s=a.indexOf(n);if(r&&s===0)return[r,xt.Start];const o=a[s-1];return[o,o.isText?xt.Text:xt.End]}}class Vo extends We{constructor(n,i,r,a,s,o,l){super(n,l);u(this,"fromPos");u(this,"toPos");u(this,"contents");u(this,"splitLevel");u(this,"maxCreatedAtMapByActor");this.fromPos=i,this.toPos=r,this.contents=a,this.splitLevel=s,this.maxCreatedAtMapByActor=o}static create(n,i,r,a,s,o,l){return new Vo(n,i,r,a,s,o,l)}execute(n,i,r){var h;const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new A(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Ge))throw new A(S.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const s=this.getExecutedAt(),o=a,[l,c]=o.edit([this.fromPos,this.toPos],(h=this.contents)==null?void 0:h.map(d=>d.deepcopy()),this.splitLevel,s,(()=>{let d=s.getDelimiter();return this.contents!==void 0&&(d+=this.contents.length),()=>He.of(s.getLamport(),++d,s.getActorID())})(),this.maxCreatedAtMapByActor,r);for(const d of c)n.registerGCPair(d);return{opInfos:l.map(({from:d,to:g,value:m,splitLevel:T,fromPath:w,toPath:C})=>({type:"tree-edit",path:n.createPath(this.getParentCreatedAt()),from:d,to:g,value:m,splitLevel:T,fromPath:w,toPath:C}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,r=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,a=this.contents||[];return`${n}.EDIT(${i},${r},${a.map(s=>Ed(s)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Ha{constructor(t){u(this,"vector");this.vector=t||new Map}set(t,n){this.vector.set(t,n)}unset(t){this.vector.delete(t)}get(t){return this.vector.get(t)}maxLamport(){let t=BigInt(0);for(const[,n]of this)n>t&&(t=n);return t}max(t){const n=new Map;for(const[i,r]of t){const a=this.vector.get(i),s=a&&a>r?a:r;n.set(i,s)}for(const[i,r]of this){const a=t.get(i),s=a&&a>r?a:r;n.set(i,s)}return new Ha(n)}afterOrEqual(t){const n=this.vector.get(t.getActorID());return n===void 0?!1:n>=t.getLamport()}deepcopy(){const t=new Map;for(const[n,i]of this.vector)t.set(n,i);return new Ha(t)}filter(t){const n=new Map;for(const[i]of t){const r=this.vector.get(i);r!==void 0&&n.set(i,r)}return new Ha(n)}size(){return this.vector.size}*[Symbol.iterator](){for(const[t,n]of this.vector)yield[t,n]}}const Q1=new Ha(new Map);class xi{constructor(t,n,i,r,a){u(this,"clientSeq");u(this,"serverSeq");u(this,"lamport");u(this,"actor");u(this,"versionVector");this.clientSeq=t,this.serverSeq=a,this.lamport=n,this.versionVector=r,this.actor=i}static of(t,n,i,r,a){return new xi(t,n,i,r,a)}next(){const t=this.versionVector.deepcopy();return t.set(this.actor,this.lamport+1n),new xi(this.clientSeq+1,this.lamport+1n,this.actor,t)}syncClocks(t){const n=t.lamport>this.lamport?t.lamport+1n:this.lamport+1n;let i=t.versionVector;i.size()===0&&(i=i.deepcopy(),i.set(t.actor,t.lamport));const r=this.versionVector.max(i),a=new xi(this.clientSeq,n,this.actor,r);return a.versionVector.set(this.actor,n),a}setClocks(t,n){const i=t>this.lamport?t+1n:this.lamport+1n;n.unset(tc);const r=this.versionVector.max(n);return r.set(this.actor,i),xi.of(this.clientSeq,i,this.actor,r)}createTimeTicket(t){return He.of(this.lamport,t,this.actor)}setActor(t){return new xi(this.clientSeq,this.lamport,t,this.versionVector,this.serverSeq)}setVersionVector(t){return new xi(this.clientSeq,this.lamport,this.actor,t,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const _1=new xi(0,0n,tc,Q1);class as{constructor({id:t,operations:n,presenceChange:i,message:r}){u(this,"id");u(this,"operations");u(this,"presenceChange");u(this,"message");this.id=t,this.operations=n||[],this.presenceChange=i,this.message=r}static create({id:t,operations:n,presenceChange:i,message:r}){return new as({id:t,operations:n,presenceChange:i,message:r})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(t){for(const n of this.operations)n.setActor(t);this.id=this.id.setActor(t)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(t,n,i){const r=[],a=[];for(const s of this.operations){const o=s.execute(t,i,this.id.getVersionVector());if(!o)continue;const{opInfos:l,reverseOp:c}=o;r.push(...l),c&&a.unshift(c)}return this.presenceChange&&(this.presenceChange.type===Dr.Put?n.set(this.id.getActorID(),Ke(this.presenceChange.presence)):n.delete(this.id.getActorID())),{opInfos:r,reverseOps:a}}toTestString(){return`${this.operations.map(t=>t.toTestString()).join(",")}`}toStruct(){return{changeID:Et.bytesToHex(Et.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(t=>Et.bytesToHex(Et.toOperation(t).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(t){const{changeID:n,operations:i,presenceChange:r,message:a}=t;return as.create({id:Et.bytesToChangeID(Et.hexToBytes(n)),operations:i==null?void 0:i.map(s=>Et.bytesToOperation(Et.hexToBytes(s))),presenceChange:r,message:a})}}class nc{constructor(t,n,i,r,a,s,o){u(this,"documentKey");u(this,"checkpoint");u(this,"isRemoved");u(this,"changes");u(this,"snapshot");u(this,"minSyncedTicket");u(this,"versionVector");this.documentKey=t,this.checkpoint=n,this.isRemoved=i,this.changes=r,this.snapshot=s,this.minSyncedTicket=o,this.versionVector=a}static create(t,n,i,r,a,s,o){return new nc(t,n,i,r,a,s,o)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getMinSyncedTicket(){return this.minSyncedTicket}getVersionVector(){return this.versionVector}}class Va{constructor(t,n){u(this,"serverSeq");u(this,"clientSeq");this.serverSeq=t,this.clientSeq=n}static of(t,n){return new Va(t,n)}increaseClientSeq(t){return t===0?this:new Va(this.serverSeq,this.clientSeq+t)}forward(t){if(this.equals(t))return this;const n=this.serverSeq>t.serverSeq?this.serverSeq:t.serverSeq,i=Math.max(this.clientSeq,t.clientSeq);return Va.of(n,i)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(t){return this.clientSeq===t.clientSeq&&this.serverSeq==t.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const F1=new Va(0n,0);class Tn{constructor(t,n){u(this,"createdAt");u(this,"offset");this.createdAt=t,this.offset=n}static of(t,n){return new Tn(t,n)}static fromStruct(t){return Tn.of(He.fromStruct(t.createdAt),t.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}hasSameCreatedAt(t){return this.createdAt.compare(t.createdAt)===0}split(t){return new Tn(this.createdAt,this.offset+t)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const W1=Tn.of(_e,0);class Fe{constructor(t,n){u(this,"id");u(this,"relativeOffset");this.id=t,this.relativeOffset=n}static of(t,n){return new Fe(t,n)}static fromStruct(t){const n=Tn.fromStruct(t.id);return Fe.of(n,t.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Tn.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(t){return this.id.equals(t.id)?this.relativeOffset===t.relativeOffset:!1}}class wr extends C0{constructor(n,i,r){super(i);u(this,"id");u(this,"removedAt");u(this,"prev");u(this,"next");u(this,"insPrev");u(this,"insNext");this.id=n,this.removedAt=r}static create(n,i){return new wr(n,i)}static createComparator(){return(n,i)=>{const r=n.getCreatedAt().compare(i.getCreatedAt());return r!==0?r:n.getOffset()>i.getOffset()?1:n.getOffset()<i.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(n){this.prev=n,n&&(n.next=this)}setNext(n){this.next=n,n&&(n.prev=this)}setInsPrev(n){this.insPrev=n,n&&(n.insNext=this)}setInsNext(n){this.insNext=n,n&&(n.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(n){return new wr(this.id.split(n),this.splitValue(n),this.removedAt)}canDelete(n,i,r){const a=!this.removedAt;return(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=r)&&(!this.removedAt||n.after(this.removedAt))?a:!1}canStyle(n,i,r){return(i?!this.getCreatedAt().after(i):this.getCreatedAt().getLamport()<=r)&&(!this.removedAt||n.after(this.removedAt))}remove(n){this.removedAt=n}createPosRange(){return[Fe.of(this.id,0),Fe.of(this.id,this.getLength())]}deepcopy(){return new wr(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(n){const i=this.value;return this.value=i.substring(0,n),i.substring(n,i.length)}toIDString(){return this.id.toIDString()}}class ss{constructor(){u(this,"head");u(this,"treeByIndex");u(this,"treeByID");this.head=wr.create(W1),this.treeByIndex=new yo,this.treeByID=new L0(wr.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new ss}edit(t,n,i,r,a){const[s,o]=this.findNodeWithSplit(t[1],n),[l,c]=this.findNodeWithSplit(t[0],n),h=this.findBetween(c,o),[d,g,m]=this.deleteNodes(h,n,r,a),T=o?o.getID():s.getID();let w=Fe.of(T,0);if(i){const p=this.posToIndex(l.createPosRange()[1],!0),y=this.insertAfter(l,wr.create(Tn.of(n,0),i));d.length&&d[d.length-1].from===p?d[d.length-1].value=i:d.push({actor:n.getActorID(),from:p,to:p,value:i}),w=Fe.of(y.getID(),y.getContentLength())}const C=[];for(const[,p]of m)C.push({parent:this,child:p});return[w,g,C,d]}indexToPos(t){const[n,i]=this.treeByIndex.find(t),r=n;return Fe.of(r.getID(),i)}findIndexesFromRange(t){const[n,i]=t;return[this.posToIndex(n,!1),this.posToIndex(i,!0)]}posToIndex(t,n){const i=t.getAbsoluteID(),r=n?this.findFloorNodePreferToLeft(i):this.findFloorNode(i);if(!r)throw new A(S.ErrInvalidArgument,`the node of the given id should be found: ${i.toTestString()}`);const a=this.treeByIndex.indexOf(r),s=r.isRemoved()?0:i.getOffset()-r.getID().getOffset();return a+s}findNode(t){return this.findFloorNode(t)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const t=[];for(const n of this)n.isRemoved()||t.push(n.getValue());return t.join("")}*[Symbol.iterator](){let t=this.head.getNext();for(;t;)yield t,t=t.getNext()}getHead(){return this.head}deepcopy(){const t=new ss;let n=this.head.getNext(),i=t.head,r;for(;n;){if(r=t.insertAfter(i,n.deepcopy()),n.hasInsPrev()){const a=t.findNode(n.getInsPrevID());r.setInsPrev(a)}i=r,n=n.getNext()}return t}toTestString(){const t=[];let n=this.head;for(;n;)n.isRemoved()?t.push(`{${n.toTestString()}}`):t.push(`[${n.toTestString()}]`),n=n.getNext();return t.join("")}insertAfter(t,n){const i=t.getNext();return n.setPrev(t),i&&i.setPrev(n),this.treeByID.put(n.getID(),n),this.treeByIndex.insertAfter(t,n),n}findNodeWithSplit(t,n){const i=t.getAbsoluteID();let r=this.findFloorNodePreferToLeft(i);const a=i.getOffset()-r.getID().getOffset();for(this.splitNode(r,a);r.hasNext()&&r.getNext().getCreatedAt().after(n);)r=r.getNext();return[r,r.getNext()]}findFloorNodePreferToLeft(t){let n=this.findFloorNode(t);if(!n)throw new A(S.ErrInvalidArgument,`the node of the given id should be found: ${t.toTestString()}`);if(t.getOffset()>0&&n.getID().getOffset()==t.getOffset()){if(!n.hasInsPrev())return n;n=n.getInsPrev()}return n}findFloorNode(t){const n=this.treeByID.floorEntry(t);if(n&&!(!n.key.equals(t)&&!n.key.hasSameCreatedAt(t)))return n.value}findBetween(t,n){const i=[];let r=t;for(;r&&r!==n;)i.push(r),r=r.getNext();return i}splitNode(t,n){if(n>t.getContentLength())throw new A(S.ErrInvalidArgument,"offset should be less than or equal to length");if(n===0)return t;if(n===t.getContentLength())return t.getNext();const i=t.split(n);this.treeByIndex.updateWeight(i),this.insertAfter(t,i);const r=t.getInsNext();return r&&r.setInsPrev(i),i.setInsPrev(t),i}deleteNodes(t,n,i,r){if(!t.length)return[[],new Map,new Map];const[a,s]=this.filterNodes(t,n,i,r),o=new Map,l=new Map,c=this.makeChanges(s,n);for(const h of a){const d=h.getCreatedAt().getActorID();(!o.has(d)||h.getID().getCreatedAt().after(o.get(d)))&&o.set(d,h.getID().getCreatedAt()),l.set(h.getID().toIDString(),h),h.remove(n)}return this.deleteIndexNodes(s),[c,o,l]}filterNodes(t,n,i,r){const a=[],s=[],[o,l]=this.findEdgesOfCandidates(t);s.push(o);for(const c of t){const h=c.getCreatedAt().getActorID();let d,g=0n;r===void 0&&i===void 0?g=$s:r.size()>0?g=r.get(h)?r.get(h):0n:d=i.has(h)?i.get(h):_e,c.canDelete(n,d,g)?a.push(c):s.push(c)}return s.push(l),[a,s]}findEdgesOfCandidates(t){return[t[0].getPrev(),t[t.length-1].getNext()]}makeChanges(t,n){const i=[];let r,a;for(let s=0;s<t.length-1;s++){const o=t[s],l=t[s+1];o.getNext()!=l&&([r]=this.findIndexesFromRange(o.getNext().createPosRange()),l?[,a]=this.findIndexesFromRange(l.getPrev().createPosRange()):a=this.treeByIndex.length,r<a&&i.push({actor:n.getActorID(),from:r,to:a}))}return i.reverse()}deleteIndexNodes(t){for(let n=0;n<t.length-1;n++){const i=t[n],r=t[n+1];i.getNext()!=r&&this.treeByIndex.deleteRange(i,r)}}purge(t){this.treeByIndex.delete(t),this.treeByID.remove(t.getID());const n=t.getPrev(),i=t.getNext(),r=t.getInsPrev(),a=t.getInsNext();n&&n.setNext(i),i&&i.setPrev(n),t.setPrev(void 0),t.setNext(void 0),r&&r.setInsNext(a),a&&a.setInsPrev(r),t.setInsPrev(void 0),t.setInsNext(void 0)}}const Qm=e=>e<0?Math.ceil(e):Math.floor(e);var bn=(e=>(e[e.IntegerCnt=0]="IntegerCnt",e[e.LongCnt=1]="LongCnt",e))(bn||{});class Se extends Lo{constructor(n,i,r){super(r);u(this,"valueType");u(this,"value");switch(this.valueType=n,n){case 0:typeof i=="number"?i>Math.pow(2,31)-1||i<-Math.pow(2,31)?this.value=X.fromNumber(i).toInt():this.value=Qm(i):this.value=i.toInt();break;case 1:typeof i=="number"?this.value=X.fromNumber(i):this.value=i;break;default:throw new A(S.ErrUnimplemented,`unimplemented type: ${n}`)}}static create(n,i,r){return new Se(n,i,r)}static valueFromBytes(n,i){switch(n){case 0:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 1:return X.fromBytesLE(Array.from(i));default:throw new A(S.ErrUnimplemented,`unimplemented type: ${n}`)}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const n=Se.create(this.valueType,this.value,this.getCreatedAt());return n.setMovedAt(this.getMovedAt()),n}getType(){return this.valueType}static getCounterType(n){switch(typeof n){case"object":return n instanceof X?1:void 0;case"number":return n>Math.pow(2,31)-1||n<-Math.pow(2,31)?1:0;default:return}}static isSupport(n){return!!Se.getCounterType(n)}static isInteger(n){return n%1===0}isNumericType(){const n=this.valueType;return n===0||n===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const n=this.value;return new Uint8Array([n&255,n>>8&255,n>>16&255,n>>24&255])}case 1:{const i=this.value.toBytesLE();return Uint8Array.from(i)}default:throw new A(S.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(n){function i(r){if(!r.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof r.getValue()}`)}return i(this),i(n),this.valueType===1?this.value=this.value.add(n.getValue()):n.getType()===Rt.Long?this.value=this.value+n.getValue().toInt():this.value=X.fromNumber(this.value+Qm(n.getValue())).toInt(),this}}class os extends We{constructor(n,i,r){super(n,r);u(this,"value");this.value=i}static create(n,i,r){return new os(n,i,r)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new A(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Se))throw new A(S.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const r=i,a=this.value.deepcopy();return r.increase(a),{opInfos:[{type:"increase",path:n.createPath(this.getParentCreatedAt()),value:a.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const n=this.value.deepcopy(),r=n.getType()===Rt.Long?n.getValue().multiply(-1):n.getValue()*-1;return os.create(this.getParentCreatedAt(),Tt.of(r,n.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Hi extends We{constructor(n,i,r,a,s,o,l){super(n,l);u(this,"fromPos");u(this,"toPos");u(this,"maxCreatedAtMapByActor");u(this,"attributes");u(this,"attributesToRemove");this.fromPos=i,this.toPos=r,this.maxCreatedAtMapByActor=a,this.attributes=s,this.attributesToRemove=o}static create(n,i,r,a,s,o){return new Hi(n,i,r,a,s,[],o)}static createTreeRemoveStyleOperation(n,i,r,a,s,o){return new Hi(n,i,r,a,new Map,s,o)}execute(n,i,r){const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new A(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Ge))throw new A(S.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const s=a;let o,l;if(this.attributes.size){const c={};[...this.attributes].forEach(([h,d])=>c[h]=d),[,l,o]=s.style([this.fromPos,this.toPos],c,this.getExecutedAt(),this.maxCreatedAtMapByActor,r)}else{const c=this.attributesToRemove;[,l,o]=s.removeStyle([this.fromPos,this.toPos],c,this.getExecutedAt(),this.maxCreatedAtMapByActor,r)}for(const c of l)n.registerGCPair(c);return{opInfos:o.map(({from:c,to:h,value:d,fromPath:g,toPath:m})=>({type:"tree-style",from:c,to:h,value:this.attributes.size?{attributes:d}:{attributesToRemove:d},fromPath:g,toPath:m,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,r=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${n}.STYLE(${i},${r},${Object.entries(this.attributes||{}).map(([a,s])=>`${a}:"${s}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}function tw(e){const t=new bd,n=t.data;for(const[i,r]of Object.entries(e))n[i]=JSON.stringify(r);return t}function ew(e){if(e.type===Dr.Put)return new go({type:ea.PUT,presence:tw(e.presence)});if(e.type===Dr.Clear)return new go({type:ea.CLEAR});throw new A(S.ErrUnimplemented,"unimplemented type")}function nw(e){return new x0({serverSeq:e.getServerSeq(),clientSeq:e.getClientSeq()})}function J0(e){return new Fu({clientSeq:e.getClientSeq(),lamport:e.getLamport(),actorId:Ud(e.getActorID()),versionVector:Nd(e.getVersionVector())})}function U(e){if(e)return new M({lamport:e.getLamport(),delimiter:e.getDelimiter(),actorId:Ud(e.getActorID())})}function Nd(e){if(!e)return;const t=new Wu;for(const[n,i]of e)t.vector[n]=BigInt(i.toString());return t}function H0(e){switch(e){case Rt.Null:return H.NULL;case Rt.Boolean:return H.BOOLEAN;case Rt.Integer:return H.INTEGER;case Rt.Long:return H.LONG;case Rt.Double:return H.DOUBLE;case Rt.String:return H.STRING;case Rt.Bytes:return H.BYTES;case Rt.Date:return H.DATE;default:throw new A(S.ErrInvalidType,`unsupported type: ${e}`)}}function V0(e){switch(e){case bn.IntegerCnt:return H.INTEGER_CNT;case bn.LongCnt:return H.LONG_CNT;default:throw new A(S.ErrInvalidType,`unsupported type: ${e}`)}}function Yc(e){if(e instanceof ie)return new Ne({type:H.JSON_OBJECT,createdAt:U(e.getCreatedAt()),value:tS(e)});if(e instanceof ve)return new Ne({type:H.JSON_ARRAY,createdAt:U(e.getCreatedAt()),value:Iw(e)});if(e instanceof Pe)return new Ne({type:H.TEXT,createdAt:U(e.getCreatedAt())});if(e instanceof Tt)return new Ne({type:H0(e.getType()),createdAt:U(e.getCreatedAt()),value:e.toBytes()});if(e instanceof Se)return new Ne({type:V0(e.getType()),createdAt:U(e.getCreatedAt()),value:e.toBytes()});if(e instanceof Ge)return new Ne({type:H.TREE,createdAt:U(e.getCreatedAt()),value:Uw(e)});throw new A(S.ErrUnimplemented,"unimplemented element")}function iw(e){return new fo({createdAt:U(e.getCreatedAt()),offset:e.getOffset()})}function ol(e){return new Yi({createdAt:U(e.getID().getCreatedAt()),offset:e.getID().getOffset(),relativeOffset:e.getRelativeOffset()})}function ll(e){return new ta({parentId:Xs(e.getParentID()),leftSiblingId:Xs(e.getLeftSiblingID())})}function Xs(e){return new br({createdAt:U(e.getCreatedAt()),offset:e.getOffset()})}function j0(e){const t=new Td;if(e instanceof na){const n=e,i=new cu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.key=n.getKey(),i.value=Yc(n.getValue()),i.executedAt=U(n.getExecutedAt()),t.body.case="set",t.body.value=i}else if(e instanceof qo){const n=e,i=new fu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.prevCreatedAt=U(n.getPrevCreatedAt()),i.value=Yc(n.getValue()),i.executedAt=U(n.getExecutedAt()),t.body.case="add",t.body.value=i}else if(e instanceof hr){const n=e,i=new hu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.prevCreatedAt=U(n.getPrevCreatedAt()),i.createdAt=U(n.getCreatedAt()),i.executedAt=U(n.getExecutedAt()),t.body.case="move",t.body.value=i}else if(e instanceof Cr){const n=e,i=new du;i.parentCreatedAt=U(n.getParentCreatedAt()),i.createdAt=U(n.getCreatedAt()),i.executedAt=U(n.getExecutedAt()),t.body.case="remove",t.body.value=i}else if(e instanceof Jo){const n=e,i=new gu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.from=ol(n.getFromPos()),i.to=ol(n.getToPos());const r=i.createdAtMapByActor;for(const[s,o]of n.getMaxCreatedAtMapByActor())r[s]=U(o);i.content=n.getContent();const a=i.attributes;for(const[s,o]of n.getAttributes())a[s]=o;i.executedAt=U(n.getExecutedAt()),t.body.case="edit",t.body.value=i}else if(e instanceof Ho){const n=e,i=new mu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.from=ol(n.getFromPos()),i.to=ol(n.getToPos());const r=i.createdAtMapByActor;for(const[s,o]of n.getMaxCreatedAtMapByActor())r[s]=U(o);const a=i.attributes;for(const[s,o]of n.getAttributes())a[s]=o;i.executedAt=U(n.getExecutedAt()),t.body.case="style",t.body.value=i}else if(e instanceof os){const n=e,i=new yu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.value=Yc(n.getValue()),i.executedAt=U(n.getExecutedAt()),t.body.case="increase",t.body.value=i}else if(e instanceof Vo){const n=e,i=new pu,r=i.createdAtMapByActor;for(const[a,s]of n.getMaxCreatedAtMapByActor())r[a]=U(s);i.parentCreatedAt=U(n.getParentCreatedAt()),i.from=ll(n.getFromPos()),i.to=ll(n.getToPos()),i.contents=cw(n.getContents()),i.splitLevel=n.getSplitLevel(),i.executedAt=U(n.getExecutedAt()),t.body.case="treeEdit",t.body.value=i}else if(e instanceof Hi){const n=e,i=new vu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.from=ll(n.getFromPos()),i.to=ll(n.getToPos());const r=i.createdAtMapByActor;for(const[s,o]of n.getMaxCreatedAtMapByActor())r[s]=U(o);const a=n.getAttributesToRemove();if(a.length>0)i.attributesToRemove=a;else{const s=i.attributes;for(const[o,l]of n.getAttributes())s[o]=l}i.executedAt=U(n.getExecutedAt()),t.body.case="treeStyle",t.body.value=i}else throw new A(S.ErrUnimplemented,"unimplemented operation");return t}function rw(e){const t=[];for(const n of e)t.push(j0(n));return t}function aw(e){const t=new E0({id:J0(e.getID()),message:e.getMessage()});return e.hasOperations()&&(t.operations=rw(e.getOperations())),e.hasPresenceChange()&&(t.presenceChange=ew(e.getPresenceChange())),t}function sw(e){const t=[];for(const n of e)t.push(aw(n));return t}function ow(e){const t=[];for(const n of e)t.push(new N0({key:n.getStrKey(),element:Od(n.getValue())}));return t}function lw(e){const t=[];for(const n of e)t.push(new Nu({element:Od(n.getValue())}));return t}function uw(e){const t=[];for(const n of e){const i=new xu;i.id=iw(n.getID()),i.value=n.getValue().getContent(),i.removedAt=U(n.getRemovedAt());const r=i.attributes,a=n.getValue().getAttrs();for(const s of a){const o=new ns;o.value=s.getValue(),o.updatedAt=U(s.getUpdatedAt()),r[s.getKey()]=o}t.push(i)}return t}function cw(e){const t=[];if(!e||!e.length)return t;for(const n of e)t.push(new Ou({content:xd(n)}));return t}function fw(e){const t={};for(const n of e)t[n.getKey()]=new ns({value:n.getValue(),updatedAt:U(n.getUpdatedAt()),isRemoved:n.isRemoved()});return t}function xd(e){if(!e)return[];const t=[];return ec(e,(n,i)=>{const r=new ho({id:Xs(n.id),type:n.type,removedAt:U(n.removedAt),depth:i});n.isText&&(r.value=n.value),n.insPrevID&&(r.insPrevId=Xs(n.insPrevID)),n.insNextID&&(r.insNextId=Xs(n.insNextID)),n.attrs&&(r.attributes=fw(n.attrs)),t.push(r)}),t}function hw(e){const t=new ae;return t.body.case="jsonObject",t.body.value=new Su({nodes:ow(e.getRHT()),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function P0(e){const t=new ae;return t.body.case="jsonArray",t.body.value=new Tu({nodes:lw(e.getElements()),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function dw(e){const t=new ae;return t.body.case="primitive",t.body.value=new bu({type:H0(e.getType()),value:e.toBytes(),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function gw(e){const t=new ae;return t.body.case="text",t.body.value=new Au({nodes:uw(e.getRGATreeSplit()),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function mw(e){const t=new ae;return t.body.case="counter",t.body.value=new wu({type:V0(e.getType()),value:e.toBytes(),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function G0(e){const t=new ae;return t.body.case="tree",t.body.value=new Eu({nodes:xd(e.getRoot()),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function Od(e){if(e instanceof ie)return hw(e);if(e instanceof ve)return P0(e);if(e instanceof Tt)return dw(e);if(e instanceof Pe)return gw(e);if(e instanceof Se)return mw(e);if(e instanceof Ge)return G0(e);throw new A(S.ErrUnimplemented,"unimplemented element")}function yw(e){return new Xi({documentKey:e.getDocumentKey(),checkpoint:nw(e.getCheckpoint()),isRemoved:e.getIsRemoved(),changes:sw(e.getChanges()),snapshot:e.getSnapshot(),versionVector:Nd(e.getVersionVector()),minSyncedTicket:U(e.getMinSyncedTicket())})}function Cs(e){if(!(e instanceof et))return{};const t=e.findDetails(I1);for(const n of t)return n.metadata;return{}}function Fi(e){return Cs(e).code??""}function Y0(e){return xi.of(e.clientSeq,BigInt(e.lamport),Id(e.actorId),Dd(e.versionVector),BigInt(e.serverSeq))}function Dd(e){if(!e)return;const t=new Ha;return Object.entries(e.vector).forEach(([n,i])=>{t.set(n,BigInt(i.toString()))}),t}function z(e){if(e)return He.of(BigInt(e.lamport),e.delimiter,Id(e.actorId))}function Cd(e){const t={};return Object.entries(e.data).forEach(([n,i])=>{t[n]=JSON.parse(i)}),t}function pw(e){const t=e.type;if(t===ea.PUT){const n=Cd(e.presence);return{type:Dr.Put,presence:n}}if(t===ea.CLEAR)return{type:Dr.Clear};throw new A(S.ErrInvalidType,`unsupported type: ${t}`)}function vw(e){const t=new Map;return Object.entries(e).forEach(([n,i])=>{t.set(n,Cd(i))}),t}function K0(e){switch(e){case H.NULL:return Rt.Null;case H.BOOLEAN:return Rt.Boolean;case H.INTEGER:return Rt.Integer;case H.LONG:return Rt.Long;case H.DOUBLE:return Rt.Double;case H.STRING:return Rt.String;case H.BYTES:return Rt.Bytes;case H.DATE:return Rt.Date}throw new A(S.ErrUnimplemented,`unimplemented value type: ${e}`)}function Ru(e){switch(e){case H.INTEGER_CNT:return bn.IntegerCnt;case H.LONG_CNT:return bn.LongCnt}throw new A(S.ErrUnimplemented,`unimplemented value type: ${e}`)}function Kc(e){switch(e.type){case H.JSON_OBJECT:return e.value?W0(e.value):ie.create(z(e.createdAt));case H.JSON_ARRAY:return e.value?Bw(e.value):ve.create(z(e.createdAt));case H.TEXT:return Pe.create(ss.create(),z(e.createdAt));case H.TREE:return Mw(e.value);case H.NULL:case H.BOOLEAN:case H.INTEGER:case H.LONG:case H.DOUBLE:case H.STRING:case H.BYTES:case H.DATE:return Tt.of(Tt.valueFromBytes(K0(e.type),e.value),z(e.createdAt));case H.INTEGER_CNT:case H.LONG_CNT:return Se.create(Ru(e.type),Se.valueFromBytes(Ru(e.type),e.value),z(e.createdAt))}}function ul(e){return Fe.of(Tn.of(z(e.createdAt),e.offset),e.relativeOffset)}function $0(e){return Tn.of(z(e.createdAt),e.offset)}function Sw(e){const t=vo.create(e.value);Object.entries(e.attributes).forEach(([i,r])=>{t.setAttr(i,r.value,z(r.updatedAt))});const n=wr.create($0(e.id),t);return n.remove(z(e.removedAt)),n}function fa(e){return Ze.of(Zs(e.parentId),Zs(e.leftSiblingId))}function Zs(e){return Pt.of(z(e.createdAt),e.offset)}function Tw(e){if(!e.length)return;const t=[];return e.forEach(n=>{const i=Rd(n.content);t.push(i)}),t}function Rd(e){if(e.length===0)return;const t=[];for(const r of e)t.push(Aw(r));const n=t[t.length-1],i=new Map;i.set(e[t.length-1].depth,t[t.length-1]);for(let r=t.length-2;r>=0;r--)i.get(e[r].depth-1).prepend(t[r]),i.set(e[r].depth,t[r]);return n.updateDescendantsSize(),Ge.create(n,_e).getRoot()}function bw(e){const t=Ki.create();for(const[n,i]of Object.entries(e))t.setInternal(n,i.value,z(i.updatedAt),i.isRemoved);return t}function Aw(e){const t=Zs(e.id),n=de.create(t,e.type),i=Object.entries(e.attributes);return n.isText?n.value=e.value:i.length&&(n.attrs=bw(e.attributes)),e.insPrevId&&(n.insPrevID=Zs(e.insPrevId)),e.insNextId&&(n.insNextID=Zs(e.insNextId)),n.removedAt=z(e.removedAt),n}function X0(e){if(e.body.case==="set"){const t=e.body.value;return na.create(t.key,Kc(t.value),z(t.parentCreatedAt),z(t.executedAt))}else if(e.body.case==="add"){const t=e.body.value;return qo.create(z(t.parentCreatedAt),z(t.prevCreatedAt),Kc(t.value),z(t.executedAt))}else if(e.body.case==="move"){const t=e.body.value;return hr.create(z(t.parentCreatedAt),z(t.prevCreatedAt),z(t.createdAt),z(t.executedAt))}else if(e.body.case==="remove"){const t=e.body.value;return Cr.create(z(t.parentCreatedAt),z(t.createdAt),z(t.executedAt))}else if(e.body.case==="edit"){const t=e.body.value,n=new Map;Object.entries(t.createdAtMapByActor).forEach(([r,a])=>{n.set(r,z(a))});const i=new Map;return Object.entries(t.attributes).forEach(([r,a])=>{i.set(r,a)}),Jo.create(z(t.parentCreatedAt),ul(t.from),ul(t.to),n,t.content,i,z(t.executedAt))}else if(e.body.case==="style"){const t=e.body.value,n=new Map;Object.entries(t.createdAtMapByActor).forEach(([r,a])=>{n.set(r,z(a))});const i=new Map;return Object.entries(t.attributes).forEach(([r,a])=>{i.set(r,a)}),Ho.create(z(t.parentCreatedAt),ul(t.from),ul(t.to),n,i,z(t.executedAt))}else{if(e.body.case==="select")return;if(e.body.case==="increase"){const t=e.body.value;return os.create(z(t.parentCreatedAt),Kc(t.value),z(t.executedAt))}else if(e.body.case==="treeEdit"){const t=e.body.value,n=new Map;return Object.entries(t.createdAtMapByActor).forEach(([i,r])=>{n.set(i,z(r))}),Vo.create(z(t.parentCreatedAt),fa(t.from),fa(t.to),Tw(t.contents),t.splitLevel,n,z(t.executedAt))}else if(e.body.case==="treeStyle"){const t=e.body.value,n=new Map,i=t.attributesToRemove,r=new Map;return t!=null&&t.createdAtMapByActor&&Object.entries(t.createdAtMapByActor).forEach(([a,s])=>{r.set(a,z(s))}),(i==null?void 0:i.length)>0?Hi.createTreeRemoveStyleOperation(z(t.parentCreatedAt),fa(t.from),fa(t.to),r,i,z(t.executedAt)):(Object.entries(t.attributes).forEach(([a,s])=>{n.set(a,s)}),Hi.create(z(t.parentCreatedAt),fa(t.from),fa(t.to),r,n,z(t.executedAt)))}else throw new A(S.ErrUnimplemented,"unimplemented operation")}}function ww(e){const t=[];for(const n of e){const i=X0(n);i&&t.push(i)}return t}function Z0(e){const t=[];for(const n of e)t.push(as.create({id:Y0(n.id),operations:ww(n.operations),presenceChange:n.presenceChange?pw(n.presenceChange):void 0,message:n.message}));return t}function Ew(e){return Va.of(BigInt(e.serverSeq),e.clientSeq)}function Nw(e){return nc.create(e.documentKey,Ew(e.checkpoint),e.isRemoved,Z0(e.changes),Dd(e.versionVector),e.snapshot,z(e.minSyncedTicket))}function Q0(e){const t=new mo;for(const i of e.nodes){const r=kd(i.element);t.set(i.key,r,r.getPositionedAt())}const n=new ie(z(e.createdAt),t);return n.setMovedAt(z(e.movedAt)),n.setRemovedAt(z(e.removedAt)),n}function _0(e){const t=new po;for(const i of e.nodes)t.insert(kd(i.element));const n=new ve(z(e.createdAt),t);return n.setMovedAt(z(e.movedAt)),n.setRemovedAt(z(e.removedAt)),n}function xw(e){const t=Tt.of(Tt.valueFromBytes(K0(e.type),e.value),z(e.createdAt));return t.setMovedAt(z(e.movedAt)),t.setRemovedAt(z(e.removedAt)),t}function Ow(e){const t=new ss;let n=t.getHead();for(const r of e.nodes){const a=t.insertAfter(n,Sw(r));r.insPrevId&&a.setInsPrev(t.findNode($0(r.insPrevId))),n=a}const i=new Pe(t,z(e.createdAt));return i.setMovedAt(z(e.movedAt)),i.setRemovedAt(z(e.removedAt)),i}function Dw(e){const t=Se.create(Ru(e.type),Se.valueFromBytes(Ru(e.type),e.value),z(e.createdAt));return t.setMovedAt(z(e.movedAt)),t.setRemovedAt(z(e.removedAt)),t}function F0(e){const t=Rd(e.nodes);return Ge.create(t,z(e.createdAt))}function kd(e){if(e.body.case==="jsonObject")return Q0(e.body.value);if(e.body.case==="jsonArray")return _0(e.body.value);if(e.body.case==="primitive")return xw(e.body.value);if(e.body.case==="text")return Ow(e.body.value);if(e.body.case==="counter")return Dw(e.body.value);if(e.body.case==="tree")return F0(e.body.value);throw new A(S.ErrUnimplemented,"unimplemented element")}function Cw(e){if(!e)return{root:ie.create(_e),presences:new Map};const t=Kf.fromBinary(e);return{root:kd(t.root),presences:vw(t.presences)}}function Rw(e){const t=Nd(e);return Bd(t.toBinary())}function kw(e){const t=Md(e),n=Wu.fromBinary(t);return Dd(n)}function W0(e){if(!e)throw new A(S.ErrInvalidArgument,"bytes is empty");const t=ae.fromBinary(e);return Q0(t.body.value)}function tS(e){return Od(e).toBinary()}function Bw(e){if(!e)throw new A(S.ErrInvalidArgument,"bytes is empty");const t=ae.fromBinary(e);return _0(t.body.value)}function Iw(e){return P0(e).toBinary()}function Mw(e){if(!e)throw new A(S.ErrInvalidArgument,"bytes is empty");const t=ae.fromBinary(e);return F0(t.body.value)}function Uw(e){return G0(e).toBinary()}function Bd(e){return e?Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join(""):""}function Id(e){return Bd(e)}function Md(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>parseInt(t,16)))}function Ud(e){return Md(e)}function zw(e){const t=Fu.fromBinary(e);return Y0(t)}function Lw(e){const t=Td.fromBinary(e);return X0(t)}const Et={fromPresence:Cd,toChangePack:yw,fromChangePack:Nw,fromChanges:Z0,toTreeNodes:xd,fromTreeNodes:Rd,objectToBytes:tS,bytesToObject:W0,bytesToSnapshot:Cw,bytesToHex:Bd,hexToBytes:Md,toHexString:Id,toUint8Array:Ud,toOperation:j0,toChangeID:J0,PbChangeID:Fu,bytesToChangeID:zw,bytesToOperation:Lw,versionVectorToHex:Rw,hexToVersionVector:kw};var ee=(e=>(e[e.Trivial=0]="Trivial",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warn=3]="Warn",e[e.Error=4]="Error",e[e.Fatal=5]="Fatal",e))(ee||{});let Lr=3;function qw(e){Lr=e}const L={trivial:(...e)=>{Lr>0||typeof console<"u"&&console.log("YORKIE T:",...e)},debug:(...e)=>{Lr>1||typeof console<"u"&&console.log("YORKIE D:",...e)},info:(...e)=>{Lr>2||typeof console<"u"&&console.log("YORKIE I:",...e)},warn:(...e)=>{Lr>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...e):console.log("YORKIE W:",...e))},error:(...e)=>{Lr>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...e):console.log("YORKIE E:",...e))},fatal:(...e)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...e):console.log("YORKIE F:",...e))},isEnabled:e=>Lr<=e};function eS(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class Jw{constructor(t,n,i,r,a){u(this,"reconnectStreamDelay");u(this,"doc");u(this,"docID");u(this,"syncMode");u(this,"remoteChangeEventReceived");u(this,"watchStream");u(this,"watchLoopTimerID");u(this,"watchAbortController");u(this,"unsubscribeBroadcastEvent");this.reconnectStreamDelay=t,this.doc=n,this.docID=i,this.syncMode=r,this.remoteChangeEventReceived=!1,this.unsubscribeBroadcastEvent=a}changeSyncMode(t){this.syncMode=t}needRealtimeSync(){return this.syncMode===kl.RealtimeSyncOff?!1:this.syncMode===kl.RealtimePushOnly?this.doc.hasLocalChanges():this.syncMode!==kl.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(t){const n=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await t(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(n,this.reconnectStreamDelay)})}catch{}};await n()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}const $c=()=>{};class Hw{constructor(t){u(this,"finalized",!1);u(this,"observers",[]);u(this,"finalError");try{t(this)}catch(n){this.error(n)}}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(!t)throw new A(S.ErrInvalidArgument,"missing observer");if(this.finalized)throw new A(S.ErrRefused,"observable is finalized due to previous error");typeof t=="object"?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=$c),r.error===void 0&&(r.error=$c),r.complete===void 0&&(r.complete=$c);const a=eS(),s=this.unsubscribeOne.bind(this,a);if(this.observers.push({subscriptionID:a,observer:r}),this.finalized)try{this.finalError?r.error(this.finalError):r.complete()}catch(o){L.warn(o)}return s}unsubscribeOne(t){var n;this.observers=(n=this.observers)==null?void 0:n.filter(i=>i.subscriptionID!==t)}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t].observer)}catch(i){L.error(i)}}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.observers=void 0)}}function Vw(e){const t=new Hw(e);return{subscribe:t.subscribe.bind(t),getProxy:()=>t}}class Ra{constructor(t,n,i,r){u(this,"id");u(this,"delimiter");u(this,"message");u(this,"root");u(this,"operations");u(this,"presenceChange");u(this,"previousPresence");u(this,"reversePresenceKeys");this.id=t,this.delimiter=D0,this.root=n,this.operations=[],this.previousPresence=Ke(i),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=r}static create(t,n,i,r){return new Ra(t,n,i,r)}push(t){this.operations.push(t)}registerElement(t,n){this.root.registerElement(t,n)}registerRemovedElement(t){this.root.registerRemovedElement(t)}registerGCPair(t){this.root.registerGCPair(t)}getChange(){return as.create({id:this.id,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(t){this.presenceChange=t}setReversePresence(t,n){for(const i of Object.keys(t))n!=null&&n.addToHistory?this.reversePresenceKeys.add(i):this.reversePresenceKeys.delete(i)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const t={};for(const n of this.reversePresenceKeys)t[n]=this.previousPresence[n];return t}issueTimeTicket(){return this.delimiter+=1,this.id.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.id.createTimeTicket(this.delimiter)}}class So{constructor(t){u(this,"rootObject");u(this,"elementPairMapByCreatedAt");u(this,"gcElementSetByCreatedAt");u(this,"gcPairMap");this.rootObject=t,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.registerElement(t,void 0),t.getDescendants(n=>{if(n.getRemovedAt()&&this.registerRemovedElement(n),n instanceof Pe||n instanceof Ge)for(const i of n.getGCPairs())this.registerGCPair(i);return!1})}static create(){return new So(ie.create(_e))}findByCreatedAt(t){const n=this.elementPairMapByCreatedAt.get(t.toIDString());if(n)return n.element}findElementPairByCreatedAt(t){return this.elementPairMapByCreatedAt.get(t.toIDString())}createSubPaths(t){let n=this.elementPairMapByCreatedAt.get(t.toIDString());if(!n)return[];const i=[];for(;n.parent;){const r=n.element.getCreatedAt(),a=n.parent.subPathOf(r);if(a===void 0)throw new A(S.ErrInvalidArgument,`cant find the given element: ${r.toIDString()}`);i.unshift(a),n=this.elementPairMapByCreatedAt.get(n.parent.getCreatedAt().toIDString())}return i.unshift("$"),i}createPath(t){return this.createSubPaths(t).join(".")}registerElement(t,n){this.elementPairMapByCreatedAt.set(t.getCreatedAt().toIDString(),{parent:n,element:t}),t instanceof Ar&&t.getDescendants((i,r)=>(this.registerElement(i,r),!1))}deregisterElement(t){let n=0;const i=r=>{const a=r.getCreatedAt().toIDString();this.elementPairMapByCreatedAt.delete(a),this.gcElementSetByCreatedAt.delete(a),n++};return i(t),t instanceof Ar&&t.getDescendants(r=>(i(r),!1)),n}registerRemovedElement(t){this.gcElementSetByCreatedAt.add(t.getCreatedAt().toIDString())}registerGCPair(t){if(this.gcPairMap.get(t.child.toIDString())){this.gcPairMap.delete(t.child.toIDString());return}this.gcPairMap.set(t.child.toIDString(),t)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const t=new Set;for(const n of this.gcElementSetByCreatedAt){t.add(n);const i=this.elementPairMapByCreatedAt.get(n);i.element instanceof Ar&&i.element.getDescendants(r=>(t.add(r.getCreatedAt().toIDString()),!1))}return t.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}deepcopy(){return new So(this.rootObject.deepcopy())}garbageCollect(t){let n=0;for(const i of this.gcElementSetByCreatedAt){const r=this.elementPairMapByCreatedAt.get(i),a=r.element.getRemovedAt();a&&(t!=null&&t.afterOrEqual(a))&&(r.parent.purge(r.element),n+=this.deregisterElement(r.element))}for(const[,i]of this.gcPairMap){const r=i.child.getRemovedAt();r&&(t!=null&&t.afterOrEqual(r))&&(i.parent.purge(i.child),this.gcPairMap.delete(i.child.toIDString()),n+=1)}return n}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}}function nS(e,t){const n=new To(e);return new Proxy(t,n.getHandlers())}class To{constructor(t){u(this,"context");u(this,"handlers");this.context=t,this.handlers={set:(n,i,r)=>(L.isEnabled(ee.Trivial)&&L.trivial(`obj[${i}]=${JSON.stringify(r)}`),To.setInternal(t,n,i,r),!0),get:(n,i)=>(L.isEnabled(ee.Trivial)&&L.trivial(`obj[${i}]`),i==="getID"?()=>n.getCreatedAt():i==="toJSON"||i==="toString"?()=>n.toJSON():i==="toJS"?()=>n.toJS():i==="toJSForTest"?()=>n.toJSForTest():qr(t,n.get(i))),ownKeys:n=>n.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(n,i)=>(L.isEnabled(ee.Trivial)&&L.trivial(`obj[${i}]`),To.deleteInternal(t,n,i),!0)}}static setInternal(t,n,i,r){if(i.includes("."))throw new A(S.ErrInvalidObjectKey,"key must not contain the '.'.");const a=t.issueTimeTicket(),s=ku(t,r,a),o=n.set(i,s,a);t.registerElement(s,n),o&&t.registerRemovedElement(o),t.push(na.create(i,s.deepcopy(),n.getCreatedAt(),a))}static buildObjectMembers(t,n){const i={};for(const[r,a]of Object.entries(n)){if(r.includes("."))throw new A(S.ErrInvalidObjectKey,"key must not contain the '.'.");const s=t.issueTimeTicket(),o=ku(t,a,s);i[r]=o}return i}static deleteInternal(t,n,i){const r=t.issueTimeTicket(),a=n.deleteByKey(i,r);a&&(t.push(Cr.create(n.getCreatedAt(),a.getCreatedAt(),r)),t.registerRemovedElement(a))}getHandlers(){return this.handlers}}function jw(e,t){const n=new mt(e,t);return new Proxy(t,n.getHandlers())}function Pw(e){return typeof e=="string"||e instanceof String?!isNaN(e):!1}function Gw(e){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(e)}class mt{constructor(t,n){u(this,"context");u(this,"handlers");u(this,"array");this.context=t,this.array=n,this.handlers={get:(i,r,a)=>r==="getID"?()=>i.getCreatedAt():r==="getElementByID"?s=>{const o=i.getByID(s);if(!(!o||o.isRemoved()))return tr(t,o)}:r==="getElementByIndex"?s=>{const o=i.get(s);return tr(t,o)}:r==="getLast"?()=>tr(t,i.getLast()):r==="deleteByID"?s=>{const o=mt.deleteInternalByID(t,i,s);return tr(t,o)}:r==="insertAfter"?(s,o)=>{const l=mt.insertAfterInternal(t,i,s,o);return tr(t,l)}:r==="insertBefore"?(s,o)=>{const l=mt.insertBeforeInternal(t,i,s,o);return tr(t,l)}:r==="moveBefore"?(s,o)=>{mt.moveBeforeInternal(t,i,s,o)}:r==="moveAfter"?(s,o)=>{mt.moveAfterInternal(t,i,s,o)}:r==="moveFront"?s=>{mt.moveFrontInternal(t,i,s)}:r==="moveLast"?s=>{mt.moveLastInternal(t,i,s)}:Pw(r)?qr(t,i.get(Number(r))):r==="push"?s=>mt.pushInternal(t,i,s):r==="splice"?(s,o,...l)=>mt.splice(t,i,s,o,...l):r==="length"?i.length:typeof r=="symbol"&&r===Symbol.iterator?mt.iteratorInternal.bind(this,t,i):r==="includes"?(s,o)=>mt.includes(t,i,s,o):r==="indexOf"?(s,o)=>mt.indexOf(t,i,s,o):r==="lastIndexOf"?(s,o)=>mt.lastIndexOf(t,i,s,o):r==="toJSForTest"?()=>i.toJSForTest():r==="toTestString"?()=>mt.toTestString(i):typeof r=="string"&&Gw(r)?(...s)=>{const o=Array.from(i).map(l=>qr(t,l));return Array.prototype[r].apply(o,s)}:Reflect.get(i,r,a),deleteProperty:(i,r)=>(L.isEnabled(ee.Trivial)&&L.trivial(`array[${r}]`),mt.deleteInternalByIndex(t,i,Number.parseInt(r)),!0)}}static*iteratorInternal(t,n){for(const i of n)yield tr(t,i)}static buildArrayElements(t,n){const i=[];for(const r of n){const a=t.issueTimeTicket(),s=ku(t,r,a);i.push(s)}return i}static pushInternal(t,n,i){return mt.insertAfterInternal(t,n,n.getLastCreatedAt(),i),n.length}static moveBeforeInternal(t,n,i,r){const a=t.issueTimeTicket(),s=n.getPrevCreatedAt(i);n.moveAfter(s,r,a),t.push(hr.create(n.getCreatedAt(),s,r,a))}static moveAfterInternal(t,n,i,r){const a=t.issueTimeTicket();n.moveAfter(i,r,a),t.push(hr.create(n.getCreatedAt(),i,r,a))}static moveFrontInternal(t,n,i){const r=t.issueTimeTicket(),a=n.getHead();n.moveAfter(a.getCreatedAt(),i,r),t.push(hr.create(n.getCreatedAt(),a.getCreatedAt(),i,r))}static moveLastInternal(t,n,i){const r=t.issueTimeTicket(),a=n.getLastCreatedAt();n.moveAfter(a,i,r),t.push(hr.create(n.getCreatedAt(),a,i,r))}static insertAfterInternal(t,n,i,r){const a=t.issueTimeTicket(),s=ku(t,r,a);return n.insertAfter(i,s),t.registerElement(s,n),t.push(qo.create(n.getCreatedAt(),i,s.deepcopy(),a)),s}static insertBeforeInternal(t,n,i,r){return mt.insertAfterInternal(t,n,n.getPrevCreatedAt(i),r)}static deleteInternalByIndex(t,n,i){const r=t.issueTimeTicket(),a=n.deleteByIndex(i,r);if(a)return t.push(Cr.create(n.getCreatedAt(),a.getCreatedAt(),r)),t.registerRemovedElement(a),a}static deleteInternalByID(t,n,i){const r=t.issueTimeTicket(),a=n.delete(i,r);return t.push(Cr.create(n.getCreatedAt(),a.getCreatedAt(),r)),t.registerRemovedElement(a),a}static splice(t,n,i,r,...a){const s=n.length,o=i>=0?Math.min(i,s):Math.max(s+i,0),l=r===void 0?s:r<0?o:Math.min(o+r,s),c=[];for(let h=o;h<l;h++){const d=mt.deleteInternalByIndex(t,n,o);if(d){const g=d.deepcopy();g.setRemovedAt(),c.push(qr(t,g))}}if(a){let h=o===0?n.getHead().getID():n.get(o-1).getID();for(const d of a)h=mt.insertAfterInternal(t,n,h,d).getID()}return c}static includes(t,n,i,r){var o;const a=n.length,s=r===void 0?0:r<0?Math.max(r+a,0):r;if(s>=a)return!1;if(Tt.isSupport(i))return Array.from(n).map(c=>qr(t,c)).includes(i,s);for(let l=s;l<a;l++)if(((o=n.get(l))==null?void 0:o.getID())===i.getID())return!0;return!1}static indexOf(t,n,i,r){var o;const a=n.length,s=r===void 0?0:r<0?Math.max(r+a,0):r;if(s>=a)return-1;if(Tt.isSupport(i))return Array.from(n).map(c=>qr(t,c)).indexOf(i,s);for(let l=s;l<a;l++)if(((o=n.get(l))==null?void 0:o.getID())===i.getID())return l;return-1}static lastIndexOf(t,n,i,r){var o;const a=n.length,s=r===void 0||r>=a?a-1:r<0?r+a:r;if(s<0)return-1;if(Tt.isSupport(i))return Array.from(n).map(c=>qr(t,c)).lastIndexOf(i,s);for(let l=s;l>0;l--)if(((o=n.get(l))==null?void 0:o.getID())===i.getID())return l;return-1}static toTestString(t){return t.toTestString()}getHandlers(){return this.handlers}}class zd{constructor(t,n){u(this,"context");u(this,"text");this.context=t,this.text=n}initialize(t,n){this.context=t,this.text=n}getID(){return this.text.getID()}edit(t,n,i,r){if(!this.context||!this.text)throw new A(S.ErrNotInitialized,"Text is not initialized yet");if(t>n)throw new A(S.ErrInvalidArgument,"from should be less than or equal to to");const a=this.text.indexRangeToPosRange(t,n);L.isEnabled(ee.Debug)&&L.debug(`EDIT: f:${t}->${a[0].toTestString()}, t:${n}->${a[1].toTestString()} c:${i}`);const s=r?is(r):void 0,o=this.context.issueTimeTicket(),[l,,c,h]=this.text.edit(a,i,o,s);for(const d of c)this.context.registerGCPair(d);return this.context.push(new Jo(this.text.getCreatedAt(),a[0],a[1],l,i,s?new Map(Object.entries(s)):new Map,o)),this.text.findIndexesFromRange(h)}delete(t,n){return this.edit(t,n,"")}empty(){return this.edit(0,this.length,"")}setStyle(t,n,i){if(!this.context||!this.text)throw new A(S.ErrNotInitialized,"Text is not initialized yet");if(t>n)throw new A(S.ErrInvalidArgument,"from should be less than or equal to to");const r=this.text.indexRangeToPosRange(t,n);L.isEnabled(ee.Debug)&&L.debug(`STYL: f:${t}->${r[0].toTestString()}, t:${n}->${r[1].toTestString()} a:${JSON.stringify(i)}`);const a=is(i),s=this.context.issueTimeTicket(),[o,l]=this.text.setStyle(r,a,s);for(const c of l)this.context.registerGCPair(c);return this.context.push(new Ho(this.text.getCreatedAt(),r[0],r[1],o,new Map(Object.entries(a)),s)),!0}indexRangeToPosRange(t){if(!this.context||!this.text)throw new A(S.ErrNotInitialized,"Text is not initialized yet");const n=this.text.indexRangeToPosRange(t[0],t[1]);return[n[0].toStruct(),n[1].toStruct()]}posRangeToIndexRange(t){if(!this.context||!this.text)throw new A(S.ErrNotInitialized,"Text is not initialized yet");const n=this.text.findIndexesFromRange([Fe.fromStruct(t[0]),Fe.fromStruct(t[1])]);return[n[0],n[1]]}toTestString(){if(!this.context||!this.text)throw new A(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new A(S.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new A(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new A(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new A(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(t,n){if(!this.context||!this.text)throw new A(S.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(t,n)}}class Ld{constructor(t,n){u(this,"valueType");u(this,"value");u(this,"context");u(this,"counter");this.valueType=t,this.value=n}initialize(t,n){this.valueType=n.getValueType(),this.context=t,this.counter=n,this.value=n.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(t){if(!this.context||!this.counter)throw new A(S.ErrNotInitialized,"Counter is not initialized yet");const n=this.context.issueTimeTicket(),i=Tt.of(t,n);if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`);return this.counter.increase(i),this.context.push(os.create(this.counter.getCreatedAt(),i,n)),this}toJSForTest(){if(!this.context||!this.counter)throw new A(S.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function qd(e,t,n){const{type:i}=e,r=n.issueTimeTicket();if(i===Ji){iS(e);const{value:a}=e,s=de.create(Pt.of(r,0),i,a);t.append(s)}else{const{children:a=[]}=e,{attributes:s}=e;let o;if(typeof s=="object"&&!O0(s)){const c=is(s);o=new Ki;for(const[h,d]of Object.entries(c))o.set(h,d,r)}const l=de.create(Pt.of(r,0),i,void 0,o);t.append(l);for(const c of a)qd(c,l,n)}}function Yw(e,t){const{type:n}=t,i=e.issueTimeTicket();let r;if(t.type===Ji){const{value:a}=t;r=de.create(Pt.of(i,0),n,a)}else if(t){const{children:a=[]}=t,{attributes:s}=t;let o;if(typeof s=="object"&&!O0(s)){const l=is(s);o=new Ki;for(const[c,h]of Object.entries(l))o.set(c,h,i)}r=de.create(Pt.of(e.issueTimeTicket(),0),n,void 0,o);for(const l of a)qd(l,r,e)}return r}function iS(e){if(!e.value.length)throw new A(S.ErrInvalidArgument,"text node cannot have empty value");return!0}function _m(e){if(!e.length)return!0;if(e[0].type===Ji)for(const n of e){const{type:i}=n;if(i!==Ji)throw new A(S.ErrInvalidArgument,"element node and text node cannot be passed together");iS(n)}else for(const n of e){const{type:i}=n;if(i===Ji)throw new A(S.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Jd{constructor(t){u(this,"initialRoot");u(this,"context");u(this,"tree");this.initialRoot=t}initialize(t,n){this.context=t,this.tree=n}getID(){return this.tree.getID()}buildRoot(t){if(!this.initialRoot)return de.create(Pt.of(t.issueTimeTicket(),0),j1);const n=de.create(Pt.of(t.issueTimeTicket(),0),this.initialRoot.type);for(const i of this.initialRoot.children)qd(i,n,t);return n}getSize(){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}styleByPath(t,n){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");if(!t.length)throw new A(S.ErrInvalidArgument,"path should not be empty");const[i,r]=this.tree.pathToPosRange(t),a=this.context.issueTimeTicket(),s=n?is(n):void 0,[o]=this.tree.style([i,r],s,a);this.context.push(Hi.create(this.tree.getCreatedAt(),i,r,o,s?new Map(Object.entries(s)):new Map,a))}style(t,n,i){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new A(S.ErrInvalidArgument,"from should be less than or equal to to");const r=this.tree.findPos(t),a=this.tree.findPos(n),s=this.context.issueTimeTicket(),o=i?is(i):void 0,[l,c]=this.tree.style([r,a],o,s);for(const h of c)this.context.registerGCPair(h);this.context.push(Hi.create(this.tree.getCreatedAt(),r,a,l,o?new Map(Object.entries(o)):new Map,s))}removeStyle(t,n,i){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new A(S.ErrInvalidArgument,"from should be less than or equal to to");const r=this.tree.findPos(t),a=this.tree.findPos(n),s=this.context.issueTimeTicket(),[o,l]=this.tree.removeStyle([r,a],i,s);for(const c of l)this.context.registerGCPair(c);this.context.push(Hi.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),r,a,o,i,s))}editInternal(t,n,i,r=0){var c;if(i.length!==0&&i[0]&&(_m(i),i[0].type!==Ji))for(const h of i){const{children:d=[]}=h;_m(d)}const a=this.context.getLastTimeTicket();let s=new Array;if(((c=i[0])==null?void 0:c.type)===Ji){let h="";for(const d of i){const{value:g}=d;h+=g}s.push(de.create(Pt.of(this.context.issueTimeTicket(),0),Ji,h))}else s=i.map(h=>h&&Yw(this.context,h)).filter(h=>h);const[,o,l]=this.tree.edit([t,n],s.length?s.map(h=>h==null?void 0:h.deepcopy()):void 0,r,a,()=>this.context.issueTimeTicket());for(const h of o)this.context.registerGCPair(h);return this.context.push(Vo.create(this.tree.getCreatedAt(),t,n,s.length?s:void 0,r,l,a)),!0}editByPath(t,n,i,r=0){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");if(t.length!==n.length)throw new A(S.ErrInvalidArgument,"path length should be equal");if(!t.length||!n.length)throw new A(S.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToPos(t),s=this.tree.pathToPos(n);return this.editInternal(a,s,i?[i]:[],r)}editBulkByPath(t,n,i,r=0){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");if(t.length!==n.length)throw new A(S.ErrInvalidArgument,"path length should be equal");if(!t.length||!n.length)throw new A(S.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToPos(t),s=this.tree.pathToPos(n);return this.editInternal(a,s,i,r)}edit(t,n,i,r=0){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new A(S.ErrInvalidArgument,"from should be less than or equal to to");const a=this.tree.findPos(t),s=this.tree.findPos(n);return this.editInternal(a,s,i?[i]:[],r)}editBulk(t,n,i,r=0){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new A(S.ErrInvalidArgument,"from should be less than or equal to to");const a=this.tree.findPos(t),s=this.tree.findPos(n);return this.editInternal(a,s,i,r)}toXML(){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(t){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(t)}pathToIndex(t){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(t)}pathRangeToPosRange(t){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");const n=[this.tree.pathToIndex(t[0]),this.tree.pathToIndex(t[1])],i=this.tree.indexRangeToPosRange(n);return[i[0].toStruct(),i[1].toStruct()]}indexRangeToPosRange(t){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(t)}posRangeToIndexRange(t){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");const n=[Ze.fromStruct(t[0]),Ze.fromStruct(t[1])];return this.tree.posRangeToIndexRange(n)}posRangeToPathRange(t){if(!this.context||!this.tree)throw new A(S.ErrNotInitialized,"Tree is not initialized yet");const n=[Ze.fromStruct(t[0]),Ze.fromStruct(t[1])];return this.tree.posRangeToPathRange(n)}}function Fm(e,t){return nS(e,t)}function tr(e,t){if(t){if(t instanceof Tt)return t;if(t instanceof ie)return nS(e,t);if(t instanceof ve)return jw(e,t);if(t instanceof Pe)return new zd(e,t);if(t instanceof Se){const n=new Ld(bn.IntegerCnt,0);return n.initialize(e,t),n}else if(t instanceof Ge){const n=new Jd;return n.initialize(e,t),n}}else return;throw new TypeError(`Unsupported type of element: ${typeof t}`)}function qr(e,t){const n=tr(e,t);return n instanceof Tt?n.getValue():n}function ku(e,t,n){let i;if(Tt.isSupport(t))i=Tt.of(t,n);else if(Array.isArray(t))i=ve.create(n,mt.buildArrayElements(e,t));else if(typeof t=="object")t instanceof zd?(i=Pe.create(ss.create(),n),t.initialize(e,i)):t instanceof Ld?(i=Se.create(t.getValueType(),t.getValue(),n),t.initialize(e,i)):t instanceof Jd?(i=Ge.create(t.buildRoot(e),n),t.initialize(e,i)):i=ie.create(n,To.buildObjectMembers(e,t));else throw new TypeError(`Unsupported type of value: ${typeof t}`);return i}const Wm=50;class Kw{constructor(){u(this,"undoStack",[]);u(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(t){this.undoStack.length>=Wm&&this.undoStack.shift(),this.undoStack.push(t)}popUndo(){return this.undoStack.pop()}pushRedo(t){this.redoStack.length>=Wm&&this.redoStack.shift(),this.redoStack.push(t)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const $w="yorkie-devtools-panel",Xw="yorkie-devtools-sdk";function Zw(e){return[Ht.StatusChanged,Ht.Snapshot,Ht.LocalChange,Ht.RemoteChange,Ht.Initialized,Ht.Watched,Ht.Unwatched,Ht.PresenceChanged].includes(e.type)}function Qw(e){return e.every(Zw)}let ya="disconnected";const ty=new Map,Rl=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=Rl);function cl(e,t){(t!=null&&t.force||ya!=="disconnected")&&window.postMessage({source:Xw,...e},"*")}function _w(e){if(!e.isEnableDevtools()||typeof window>"u"||ty.has(e.getKey()))return;Rl.set(e.getKey(),[]);const t=e.subscribe("all",n=>{Qw(n)&&(Rl.get(e.getKey()).push(n),ya==="synced"&&cl({msg:"doc::sync::partial",docKey:e.getKey(),event:n}))});ty.set(e.getKey(),[t]),cl({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",n=>{var r;if(((r=n.data)==null?void 0:r.source)!==$w)return;switch(n.data.msg){case"devtools::connect":if(ya!=="disconnected")break;ya="connected",cl({msg:"doc::available",docKey:e.getKey()}),L.info(`[YD] Devtools connected. Doc: ${e.getKey()}`);break;case"devtools::disconnect":ya="disconnected",L.info(`[YD] Devtools disconnected. Doc: ${e.getKey()}`);break;case"devtools::subscribe":ya="synced",cl({msg:"doc::sync::full",docKey:e.getKey(),events:Rl.get(e.getKey())}),L.info(`[YD] Devtools subscribed. Doc: ${e.getKey()}`);break}})}var er=(e=>(e.Detached="detached",e.Attached="attached",e.Removed="removed",e))(er||{}),Ht=(e=>(e.StatusChanged="status-changed",e.ConnectionChanged="connection-changed",e.SyncStatusChanged="sync-status-changed",e.Snapshot="snapshot",e.LocalChange="local-change",e.RemoteChange="remote-change",e.Initialized="initialized",e.Watched="watched",e.Unwatched="unwatched",e.PresenceChanged="presence-changed",e.Broadcast="broadcast",e.LocalBroadcast="local-broadcast",e.AuthError="auth-error",e))(Ht||{}),Bu=(e=>(e.Connected="connected",e.Disconnected="disconnected",e))(Bu||{}),vh=(e=>(e.Synced="synced",e.SyncFailed="sync-failed",e))(vh||{});class rS{constructor(t,n){u(this,"key");u(this,"status");u(this,"opts");u(this,"changeID");u(this,"checkpoint");u(this,"localChanges");u(this,"root");u(this,"clone");u(this,"eventStream");u(this,"eventStreamObserver");u(this,"onlineClients");u(this,"presences");u(this,"history");u(this,"internalHistory");u(this,"isUpdating");this.opts=n||{},this.key=t,this.status="detached",this.root=So.create(),this.changeID=_1,this.checkpoint=F1,this.localChanges=[],this.eventStream=Vw(i=>{this.eventStreamObserver=i}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new Kw,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},_w(this)}update(t,n){if(this.getStatus()==="removed")throw new A(S.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const i=this.changeID.getActorID(),r=Ra.create(this.changeID.next(),this.clone.root,this.clone.presences.get(i)||{},n);try{const a=Fm(r,this.clone.root.getObject());this.presences.has(i)||this.clone.presences.set(i,{}),this.isUpdating=!0,t(a,new Gc(r,this.clone.presences.get(i)))}catch(a){throw this.clone=void 0,a}finally{this.isUpdating=!1}if(r.hasChange()){L.isEnabled(ee.Trivial)&&L.trivial(`trying to update a local change: ${this.toJSON()}`);const a=r.getChange(),{opInfos:s,reverseOps:o}=a.execute(this.root,this.presences,st.Local),l=r.getReversePresence();l&&o.push({type:"presence",value:l}),this.localChanges.push(a),o.length>0&&this.internalHistory.pushUndo(o),s.length>0&&this.internalHistory.clearRedo(),this.changeID=a.getID();const c=[];s.length>0&&c.push({type:"local-change",source:st.Local,value:{message:a.getMessage()||"",operations:s,actor:i,clientSeq:a.getID().getClientSeq(),serverSeq:a.getID().getServerSeq()},rawChange:this.isEnableDevtools()?a.toStruct():void 0}),a.hasPresenceChange()&&c.push({type:"presence-changed",source:st.Local,value:{clientID:i,presence:this.getPresence(i)}}),this.publish(c),L.isEnabled(ee.Trivial)&&L.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(t,n,i,r){if(typeof t=="string"){if(typeof n!="function")throw new A(S.ErrInvalidArgument,"Second argument must be a callback function");if(t==="presence"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="initialized"&&c.type!=="watched"&&c.type!=="unwatched"&&c.type!=="presence-changed"||o(c)},i,r)}if(t==="my-presence"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="initialized"&&c.type!=="presence-changed"||c.type==="presence-changed"&&c.value.clientID!==this.changeID.getActorID()||o(c)},i,r)}if(t==="others"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="watched"&&c.type!=="unwatched"&&c.type!=="presence-changed"||c.value.clientID!==this.changeID.getActorID()&&o(c)},i,r)}if(t==="connection"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="connection-changed"&&o(c)},i,r)}if(t==="status"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="status-changed"&&o(c)},i,r)}if(t==="sync"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="sync-status-changed"&&o(c)},i,r)}if(t==="local-broadcast"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="local-broadcast"&&o(c)},i)}if(t==="broadcast"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="broadcast"&&o(c)},i)}if(t==="auth-error"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="auth-error"&&o(c)},i)}if(t==="all"){const o=n;return this.eventStream.subscribe(o,i,r)}const a=t,s=n;return this.eventStream.subscribe(o=>{for(const l of o){if(l.type!=="local-change"&&l.type!=="remote-change")continue;const c=[];for(const h of l.value.operations)this.isSameElementOrChildOf(h.path,a)&&c.push(h);c.length&&s({...l,value:{...l.value,operations:c}})}},i,r)}if(typeof t=="function"){const a=t,s=n,o=i;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="snapshot"&&c.type!=="local-change"&&c.type!=="remote-change"||a(c)},s,o)}throw new A(S.ErrInvalidArgument,`"${t}" is not a valid`)}publish(t){this.eventStreamObserver&&this.eventStreamObserver.next(t)}isSameElementOrChildOf(t,n){if(n===t)return!0;const i=t.split(".");return n.split(".").every((a,s)=>a===i[s])}removePushedLocalChanges(t){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>t);)this.localChanges.shift()}applyChangePack(t){const n=t.hasSnapshot();n?this.applySnapshot(t.getCheckpoint().getServerSeq(),t.getVersionVector(),t.getSnapshot(),t.getCheckpoint().getClientSeq()):(this.applyChanges(t.getChanges(),st.Remote),this.removePushedLocalChanges(t.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(t.getCheckpoint()),n||this.garbageCollect(t.getVersionVector()),t.getIsRemoved()&&this.applyStatus("removed"),L.isEnabled(ee.Trivial)&&L.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Ke(this.presences)})}createChangePack(){const t=Array.from(this.localChanges),n=this.checkpoint.increaseClientSeq(t.length);return nc.create(this.key,n,!1,t,this.getVersionVector())}setActor(t){for(const n of this.localChanges)n.setActor(t);this.changeID=this.changeID.setActor(t)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const t=Ra.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return Fm(t,this.clone.root.getObject())}garbageCollect(t){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(t),this.root.garbageCollect(t))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(t,n,i,r=-1){const{root:a,presences:s}=Et.bytesToSnapshot(i);this.root=new So(a),this.presences=s,this.changeID=this.changeID.setClocks(n.maxLamport(),n),this.clone=void 0,this.removePushedLocalChanges(r),this.applyChanges(this.localChanges,st.Local),this.publish([{type:"snapshot",source:st.Remote,value:{serverSeq:t.toString(),snapshot:this.isEnableDevtools()?Et.bytesToHex(i):void 0,snapshotVector:Et.versionVectorToHex(n)}}])}applyChanges(t,n){L.isEnabled(ee.Debug)&&L.debug(`trying to apply ${t.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),L.isEnabled(ee.Trivial)&&L.trivial(t.map(i=>`${i.getID().toTestString()}	${i.toTestString()}`).join(`
`));for(const i of t)this.applyChange(i,n);L.isEnabled(ee.Debug)&&L.debug(`after appling ${t.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(t,n){this.ensureClone(),t.execute(this.clone.root,this.clone.presences,n);const i=[],r=t.getID().getActorID();if(t.hasPresenceChange()&&this.onlineClients.has(r)){const s=t.getPresenceChange();switch(s.type){case Dr.Put:i.push(this.presences.has(r)?{type:"presence-changed",source:n,value:{clientID:r,presence:s.presence}}:{type:"watched",source:st.Remote,value:{clientID:r,presence:s.presence}});break;case Dr.Clear:i.push({type:"unwatched",source:st.Remote,value:{clientID:r,presence:this.getPresence(r)}}),this.removeOnlineClient(r);break}}const{opInfos:a}=t.execute(this.root,this.presences,n);if(this.changeID=this.changeID.syncClocks(t.getID()),a.length>0){const s=this.isEnableDevtools()?t.toStruct():void 0;i.push(n===st.Remote?{type:"remote-change",source:n,value:{actor:r,clientSeq:t.getID().getClientSeq(),serverSeq:t.getID().getServerSeq(),message:t.getMessage()||"",operations:a},rawChange:s}:{type:"local-change",source:n,value:{actor:r,clientSeq:t.getID().getClientSeq(),serverSeq:t.getID().getServerSeq(),message:t.getMessage()||"",operations:a},rawChange:s})}i.length>0&&this.publish(i)}applyWatchStream(t){if(t.body.case==="initialization"){const n=t.body.value.clientIds,i=new Set;for(const r of n)r!==this.changeID.getActorID()&&i.add(r);this.setOnlineClients(i),this.publish([{type:"initialized",source:st.Local,value:this.getPresences()}]);return}if(t.body.case==="event"){const{type:n,publisher:i}=t.body.value,r=[];if(n===Zr.DOCUMENT_WATCHED){if(this.onlineClients.has(i)&&this.hasPresence(i))return;this.addOnlineClient(i),this.hasPresence(i)&&r.push({type:"watched",source:st.Remote,value:{clientID:i,presence:this.getPresence(i)}})}else if(n===Zr.DOCUMENT_UNWATCHED){const a=this.getPresence(i);this.removeOnlineClient(i),a&&r.push({type:"unwatched",source:st.Remote,value:{clientID:i,presence:a}})}else if(n===Zr.DOCUMENT_BROADCAST&&t.body.value.body){const{topic:a,payload:s}=t.body.value.body,o=new TextDecoder;r.push({type:"broadcast",value:{clientID:i,topic:a,payload:JSON.parse(o.decode(s))}})}r.length>0&&this.publish(r)}}applyStatus(t){this.status=t,t==="detached"&&this.setActor(tc),this.publish([{source:t==="removed"?st.Remote:st.Local,type:"status-changed",value:t==="attached"?{status:t,actorID:this.changeID.getActorID()}:{status:t}}])}applyDocEventForReplay(t){if(t.type==="status-changed"){this.applyStatus(t.value.status),t.value.status==="attached"&&this.setActor(t.value.actorID);return}if(t.type==="snapshot"){const{snapshot:n,serverSeq:i,snapshotVector:r}=t.value;if(!n)return;this.applySnapshot(BigInt(i),Et.hexToVersionVector(r),Et.hexToBytes(n));return}if(t.type==="local-change"||t.type==="remote-change"){if(!t.rawChange)return;const n=as.fromStruct(t.rawChange);this.applyChange(n,t.source)}if(t.type==="initialized"){const n=new Set;for(const{clientID:i,presence:r}of t.value)n.add(i),this.presences.set(i,r);this.setOnlineClients(n);return}if(t.type==="watched"){const{clientID:n,presence:i}=t.value;this.addOnlineClient(n),this.presences.set(n,i);return}if(t.type==="unwatched"){const{clientID:n}=t.value;this.removeOnlineClient(n),this.presences.delete(n)}if(t.type==="presence-changed"){const{clientID:n,presence:i}=t.value;this.presences.set(n,i)}}applyDocEventsForReplay(t){for(const n of t)this.applyDocEventForReplay(n)}getValueByPath(t){if(!t.startsWith("$"))throw new A(S.ErrInvalidArgument,'path must start with "$"');const n=t.split(".");n.shift();let i=this.getRoot();for(const r of n)if(i=i[r],i===void 0)return;return i}setOnlineClients(t){this.onlineClients=t}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(t){this.onlineClients.add(t)}removeOnlineClient(t){this.onlineClients.delete(t)}hasPresence(t){return this.presences.has(t)}getMyPresence(){if(this.status!=="attached")return{};const t=this.presences.get(this.changeID.getActorID());return t?Ke(t):{}}getPresence(t){if(t===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(t))return;const n=this.presences.get(t);return n?Ke(n):void 0}getPresenceForTest(t){const n=this.presences.get(t);return n?Ke(n):void 0}getPresences(){const t=[];t.push({clientID:this.changeID.getActorID(),presence:Ke(this.getMyPresence())});for(const n of this.onlineClients)this.presences.has(n)&&t.push({clientID:n,presence:Ke(this.presences.get(n))});return t}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const t=this.getChangeID().getActorID();return this.getPresences().filter(n=>n.clientID!==t).sort((n,i)=>n.clientID>i.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}filterVersionVector(t){const i=this.changeID.getVersionVector().filter(t);this.changeID=this.changeID.setVersionVector(i)}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new A(S.ErrRefused,"Undo is not allowed during an update");const t=this.internalHistory.popUndo();if(t===void 0)throw new A(S.ErrRefused,"There is no operation to be undone");this.ensureClone();const n=Ra.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const c of t){if(!(c instanceof We)){new Gc(n,Ke(this.clone.presences.get(this.changeID.getActorID()))).set(c.value,{addToHistory:!0});continue}const h=n.issueTimeTicket();c.setExecutedAt(h),n.push(c)}const i=n.getChange();i.execute(this.clone.root,this.clone.presences,st.UndoRedo);const{opInfos:r,reverseOps:a}=i.execute(this.root,this.presences,st.UndoRedo),s=n.getReversePresence();if(s&&a.push({type:"presence",value:s}),a.length>0&&this.internalHistory.pushRedo(a),!i.hasPresenceChange()&&r.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const o=this.changeID.getActorID(),l=[];r.length>0&&l.push({type:"local-change",source:st.UndoRedo,value:{message:i.getMessage()||"",operations:r,actor:o,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&l.push({type:"presence-changed",source:st.UndoRedo,value:{clientID:o,presence:this.getPresence(o)}}),this.publish(l)}redo(){if(this.isUpdating)throw new A(S.ErrRefused,"Redo is not allowed during an update");const t=this.internalHistory.popRedo();if(t===void 0)throw new A(S.ErrRefused,"There is no operation to be redone");this.ensureClone();const n=Ra.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const c of t){if(!(c instanceof We)){new Gc(n,Ke(this.clone.presences.get(this.changeID.getActorID()))).set(c.value,{addToHistory:!0});continue}const h=n.issueTimeTicket();c.setExecutedAt(h),n.push(c)}const i=n.getChange();i.execute(this.clone.root,this.clone.presences,st.UndoRedo);const{opInfos:r,reverseOps:a}=i.execute(this.root,this.presences,st.UndoRedo),s=n.getReversePresence();if(s&&a.push({type:"presence",value:s}),a.length>0&&this.internalHistory.pushUndo(a),!i.hasPresenceChange()&&r.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const o=this.changeID.getActorID(),l=[];r.length>0&&l.push({type:"local-change",source:st.UndoRedo,value:{message:i.getMessage()||"",operations:r,actor:o,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&l.push({type:"presence-changed",source:st.UndoRedo,value:{clientID:o,presence:this.getPresence(o)}}),this.publish(l)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}broadcast(t,n,i){const r={type:"local-broadcast",value:{topic:t,payload:n},options:i};this.publish([r])}getVersionVector(){return this.changeID.getVersionVector()}}function Fw(e,t){let n=t;return{authInterceptor:a=>async s=>(e&&s.header.set("x-api-key",e),n&&s.header.set("authorization",n),await a(s)),setToken:a=>{n=a}}}const Ww="@yorkie-js/sdk",tE="0.6.5",ey={name:Ww,version:tE};function eE(){return e=>async t=>(t.header.set("x-yorkie-user-agent",ey.name+"/"+ey.version),await e(t))}const nE=e=>{try{if(JSON.stringify(e)===void 0)return!1}catch{return!1}return!0};var kl=(e=>(e.Manual="manual",e.Realtime="realtime",e.RealtimePushOnly="realtime-pushonly",e.RealtimeSyncOff="realtime-syncoff",e))(kl||{});const fl={syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3},Xc={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class aS{constructor(t,n){u(this,"id");u(this,"key");u(this,"metadata");u(this,"status");u(this,"attachmentMap");u(this,"apiKey");u(this,"authTokenInjector");u(this,"conditions");u(this,"syncLoopDuration");u(this,"reconnectStreamDelay");u(this,"retrySyncLoopDelay");u(this,"rpcClient");u(this,"setAuthToken");u(this,"taskQueue");u(this,"processing",!1);u(this,"keepalive",!1);n=n||fl,this.key=n.key?n.key:eS(),this.metadata=n.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=n.apiKey||"",this.authTokenInjector=n.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=n.syncLoopDuration??fl.syncLoopDuration,this.reconnectStreamDelay=n.reconnectStreamDelay??fl.reconnectStreamDelay,this.retrySyncLoopDelay=n.retrySyncLoopDelay??fl.retrySyncLoopDelay;const{authInterceptor:i,setToken:r}=Fw(this.apiKey);this.setAuthToken=r,this.rpcClient=u1(B1,k1({baseUrl:t,interceptors:[i,eE()],fetch:(a,s)=>{const o={...s,keepalive:this.keepalive};return fetch(a,o)}})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const t=await this.authTokenInjector();this.setAuthToken(t)}return this.enqueueTask(async()=>this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":this.apiKey}}).then(t=>{this.id=t.clientId,this.status="activated",this.runSyncLoop(),L.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`)}).catch(async t=>{throw L.error(`[AC] c:"${this.getKey()}" err :`,t),await this.handleConnectError(t),t}))}deactivate(t={keepalive:!1}){if(this.status==="deactivated")return Promise.resolve();const n=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":this.apiKey}}),this.deactivateInternal(),L.info(`[DC] c"${this.getKey()}" deactivated`)}catch(i){throw L.error(`[DC] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};if(t.keepalive){this.keepalive=!0;const i=n();return this.keepalive=!1,i}return this.enqueueTask(n)}hasDocument(t){return this.attachmentMap.has(t)}attach(t,n={}){if(!this.isActive())throw new A(S.ErrClientNotActivated,`${this.key} is not active`);if(t.getStatus()!==er.Detached)throw new A(S.ErrDocumentNotDetached,`${t.getKey()} is not detached`);t.setActor(this.id),t.update((a,s)=>s.set(n.initialPresence||{}));const i=t.subscribe("local-broadcast",async a=>{var h;const{topic:s,payload:o}=a.value,l=(h=a.options)==null?void 0:h.error,c=a.options;try{await this.broadcast(t.getKey(),s,o,c)}catch(d){d instanceof Error&&(l==null||l(d))}}),r=n.syncMode??"realtime";return this.enqueueTask(async()=>this.rpcClient.attachDocument({clientId:this.id,changePack:Et.toChangePack(t.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}).then(async a=>{const s=Et.fromChangePack(a.changePack);if(t.applyChangePack(s),t.getStatus()===er.Removed)return t;t.applyStatus(er.Attached),this.attachmentMap.set(t.getKey(),new Jw(this.reconnectStreamDelay,t,a.documentId,r,i)),r!=="manual"&&await this.runWatchLoop(t.getKey()),L.info(`[AD] c:"${this.getKey()}" attaches d:"${t.getKey()}"`);const o=t.getRootObject();if(n.initialRoot){const l=n.initialRoot;t.update(c=>{for(const[h,d]of Object.entries(l))if(!o.has(h)){const g=h;c[g]=d}})}return t}).catch(async a=>{throw L.error(`[AD] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}))}detach(t,n={keepalive:!1}){if(!this.isActive())throw new A(S.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(t.getKey());if(!i)throw new A(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);t.update((a,s)=>s.clear());const r=async()=>await this.rpcClient.detachDocument({clientId:this.id,documentId:i.docID,changePack:Et.toChangePack(t.createChangePack()),removeIfNotAttached:n.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}).then(a=>{const s=Et.fromChangePack(a.changePack);return t.applyChangePack(s),t.getStatus()!==er.Removed&&t.applyStatus(er.Detached),this.detachInternal(t.getKey()),L.info(`[DD] c:"${this.getKey()}" detaches d:"${t.getKey()}"`),t}).catch(async a=>{throw L.error(`[DD] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a});if(n.keepalive){this.keepalive=!0;const a=r();return this.keepalive=!1,a}return this.enqueueTask(r)}async changeSyncMode(t,n){if(!this.isActive())throw new A(S.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(t.getKey());if(!i)throw new A(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);const r=i.syncMode;return r===n?t:(i.changeSyncMode(n),n==="manual"?(i.cancelWatchStream(),t):(n==="realtime"&&(i.remoteChangeEventReceived=!0),r==="manual"&&await this.runWatchLoop(t.getKey()),t))}sync(t){if(!this.isActive())throw new A(S.ErrClientNotActivated,`${this.key} is not active`);if(t){const n=this.attachmentMap.get(t.getKey());if(!n)throw new A(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(n,"realtime").catch(async i=>{throw L.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}return this.enqueueTask(async()=>{const n=[];for(const[,i]of this.attachmentMap)n.push(this.syncInternal(i,i.syncMode));return Promise.all(n).catch(async i=>{throw L.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i})})}remove(t){if(!this.isActive())throw new A(S.ErrClientNotActivated,`${this.key} is not active`);const n=this.attachmentMap.get(t.getKey());if(!n)throw new A(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);t.setActor(this.id);const i=Et.toChangePack(t.createChangePack());return i.isRemoved=!0,this.enqueueTask(async()=>this.rpcClient.removeDocument({clientId:this.id,documentId:n.docID,changePack:i},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}).then(r=>{const a=Et.fromChangePack(r.changePack);t.applyChangePack(a),this.detachInternal(t.getKey()),L.info(`[RD] c:"${this.getKey()}" removes d:"${t.getKey()}"`)}).catch(async r=>{throw L.error(`[RD] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}))}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(t){return this.conditions[t]}broadcast(t,n,i,r){if(!this.isActive())throw new A(S.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(t);if(!a)throw new A(S.ErrDocumentNotAttached,`${t} is not attached`);if(!nE(i))throw new A(S.ErrInvalidArgument,"payload is not serializable");const s=(r==null?void 0:r.maxRetries)??Xc.maxRetries,o=Xc.maxBackoff;let l=0;const c=d=>Math.min(Xc.initialRetryInterval*2**d,o),h=async()=>this.enqueueTask(async()=>this.rpcClient.broadcast({clientId:this.id,documentId:a.docID,topic:n,payload:new TextEncoder().encode(JSON.stringify(i))},{headers:{"x-shard-key":`${this.apiKey}/${t}`}}).then(()=>{L.info(`[BC] c:"${this.getKey()}" broadcasts d:"${t}" t:"${n}"`)}).catch(async d=>{if(L.error(`[BC] c:"${this.getKey()}" err:`,d),await this.handleConnectError(d))if(d instanceof et&&Fi(d)===S.ErrUnauthenticated&&a.doc.publish([{type:Ht.AuthError,value:{reason:Cs(d).reason,method:"Broadcast"}}]),l<s)l++,setTimeout(()=>h(),c(l-1)),L.info(`[BC] c:"${this.getKey()}" retry attempt ${l}/${s}`);else throw L.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),d;else throw d}));return h()}runSyncLoop(){const t=()=>{if(!this.isActive()){L.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}const n=[];for(const[,i]of this.attachmentMap)i.needRealtimeSync()&&(i.remoteChangeEventReceived=!1,n.push(this.syncInternal(i,i.syncMode).catch(async r=>{throw r instanceof et&&Fi(r)===S.ErrUnauthenticated&&i.doc.publish([{type:Ht.AuthError,value:{reason:Cs(r).reason,method:"PushPull"}}]),r})));Promise.all(n).then(()=>setTimeout(t,this.syncLoopDuration)).catch(async i=>{L.error(`[SL] c:"${this.getKey()}" sync failed:`,i),await this.handleConnectError(i)?setTimeout(t,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1})};L.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,t()}async runWatchLoop(t){const n=this.attachmentMap.get(t);if(!n)throw new A(S.ErrDocumentNotAttached,`${t} is not attached`);return this.conditions.WatchLoop=!0,n.runWatchLoop(i=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new A(S.ErrClientNotActivated,`${this.key} is not active`));const r=new AbortController,a=this.rpcClient.watchDocument({clientId:this.id,documentId:n.docID},{headers:{"x-shard-key":`${this.apiKey}/${t}`},signal:r.signal});return n.doc.publish([{type:Ht.ConnectionChanged,value:Bu.Connected}]),L.info(`[WD] c:"${this.getKey()}" watches d:"${t}"`),new Promise((s,o)=>{(async()=>{try{for await(const c of a)this.handleWatchDocumentsResponse(n,c),c.body.case==="initialization"&&s([a,r])}catch(c){n.doc.resetOnlineClients(),n.doc.publish([{type:Ht.Initialized,source:st.Local,value:n.doc.getPresences()}]),n.doc.publish([{type:Ht.ConnectionChanged,value:Bu.Disconnected}]),L.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(c)?(c instanceof et&&Fi(c)===S.ErrUnauthenticated&&n.doc.publish([{type:Ht.AuthError,value:{reason:Cs(c).reason,method:"WatchDocuments"}}]),i()):this.conditions.WatchLoop=!1,o(c)}})()})})}handleWatchDocumentsResponse(t,n){if(n.body.case==="event"&&n.body.value.type===Zr.DOCUMENT_CHANGED){t.remoteChangeEventReceived=!0;return}t.doc.applyWatchStream(n)}deactivateInternal(){this.status="deactivated";for(const[t,n]of this.attachmentMap)this.detachInternal(t),n.doc.applyStatus(er.Detached)}detachInternal(t){const n=this.attachmentMap.get(t);n&&(n.cancelWatchStream(),n.unsubscribeBroadcastEvent(),this.attachmentMap.delete(t))}syncInternal(t,n){const{doc:i,docID:r}=t,a=i.createChangePack();return this.rpcClient.pushPullChanges({clientId:this.id,documentId:r,changePack:Et.toChangePack(a),pushOnly:n==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}).then(s=>{const o=Et.fromChangePack(s.changePack);if(o.hasChanges()&&(t.syncMode==="realtime-pushonly"||t.syncMode==="realtime-syncoff"))return i;i.applyChangePack(o),t.doc.publish([{type:Ht.SyncStatusChanged,value:vh.Synced}]),i.getStatus()===er.Removed&&this.detachInternal(i.getKey());const l=i.getKey(),c=o.getChangeSize();return L.info(`[PP] c:"${this.getKey()}" sync d:"${l}", push:${a.getChangeSize()} pull:${c} cp:${o.getCheckpoint().toTestString()}`),i}).catch(async s=>{throw i.publish([{type:Ht.SyncStatusChanged,value:vh.SyncFailed}]),L.error(`[PP] c:"${this.getKey()}" err :`,s),s})}async handleConnectError(t){if(!(t instanceof et))return!1;if(t.code===$.Canceled||t.code===$.Unknown||t.code===$.ResourceExhausted||t.code===$.Unavailable)return!0;if(Fi(t)===S.ErrUnauthenticated){if(this.authTokenInjector){const n=await this.authTokenInjector(Cs(t).reason);this.setAuthToken(n)}return!0}return Fi(t)===S.ErrTooManySubscribers?(L.error(`[WD] c:"${this.getKey()}" err :`,t.rawMessage),!0):(Fi(t)===S.ErrTooManyAttachments||(Fi(t)===S.ErrClientNotActivated||Fi(t)===S.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(t){return new Promise((n,i)=>{this.taskQueue.push(()=>t().then(n).catch(i)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{L.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}bn.IntegerCnt,bn.LongCnt;typeof globalThis<"u"&&(globalThis.yorkie={Client:aS,Document:rS,Primitive:Tt,Text:zd,Counter:Ld,Tree:Jd,LogLevel:ee,setLogLevel:qw,IntType:bn.IntegerCnt,LongType:bn.LongCnt});const sS=yt.createContext({client:void 0,loading:!0,error:void 0}),iE=({apiKey:e,rpcAddr:t="https://api.yorkie.dev",children:n})=>{const[i,r]=yt.useState(void 0),[a,s]=yt.useState(!0),[o,l]=yt.useState(void 0),c=yt.useRef(void 0);return yt.useEffect(()=>{s(!0),l(void 0);async function h(){var d;try{if((d=c.current)!=null&&d.isActive()){r(c.current),s(!1);return}const g=new aS(t,{apiKey:e});await g.activate(),c.current=g,r(g)}catch(g){l(g instanceof Error?g:new Error("Failed to activate client"))}finally{s(!1)}}return h(),()=>{var d;(d=c.current)!=null&&d.isActive()&&(c.current.deactivate({keepalive:!0}),c.current=void 0)}},[e,t]),F.jsx(sS.Provider,{value:{client:i,loading:a,error:o},children:n})},rE=()=>{const e=yt.useContext(sS);if(!e)throw new Error("useYorkie must be used under YorkieProvider");return{client:e.client,loading:e.loading,error:e.error}},oS=yt.createContext(null),aE=({docKey:e,initialRoot:t={},initialPresence:n={},children:i})=>{const{client:r,loading:a,error:s}=rE(),[o,l]=yt.useState(void 0),[c,h]=yt.useState(!0),[d,g]=yt.useState(void 0),[m,T]=yt.useState(t),[w,C]=yt.useState([]),[p,y]=yt.useState(Bu.Disconnected);yt.useEffect(()=>{if(s){h(!1),g(s);return}if(!r||a){h(!0);return}h(!0),g(void 0);const b=new rS(e),N=[];N.push(b.subscribe(()=>{T(b.getRoot())})),N.push(b.subscribe("presence",()=>{C(b.getPresences())})),N.push(b.subscribe("connection",O=>{y(O.value)}));async function k(){try{await(r==null?void 0:r.attach(b,{initialRoot:t,initialPresence:n})),l(b),T(b.getRoot()),C(b.getPresences())}catch(O){g(O instanceof Error?O:new Error("Failed to attach document"))}finally{h(!1)}}return k(),()=>{r&&r.hasDocument(e)&&r.detach(b);for(const O of N)O()}},[r,a,s,e]);const v=yt.useCallback(b=>{if(o)try{o.update(b)}catch(N){g(N instanceof Error?N:new Error("Failed to update document"))}},[o]);return F.jsx(oS.Provider,{value:{root:m,presences:w,connection:p,update:v,loading:c,error:d},children:i})},sE=()=>{const e=yt.useContext(oS);if(!e)throw new Error("useDocument must be used within a DocumentProvider");return{root:e.root,presences:e.presences,connection:e.connection,update:e.update,loading:e.loading,error:e.error}};var lS={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",s=0;s<arguments.length;s++){var o=arguments[s];o&&(a=r(a,i(o)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var s="";for(var o in a)t.call(a,o)&&a[o]&&(s=r(s,o));return s}function r(a,s){return s?a?a+" "+s:a+s:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(lS);var oE=lS.exports;const Hd=ny(oE);function uS(e){const[t,n]=yt.useState(e.text||"");return F.jsx("input",{className:Hd({edit:e.editing,"new-todo":e.newTodo}),type:"text",placeholder:e.placeholder,value:t,onBlur:i=>{e.newTodo||e.onSave(i.target.value)},onChange:i=>{n(i.target.value)},onKeyDown:i=>{const r=i.target;i.which===13&&(e.onSave(r.value.trim()),e.newTodo&&n(""))}})}function lE(e){return F.jsxs("header",{className:"header",children:[F.jsx("h1",{children:"todos"}),F.jsx(uS,{newTodo:!0,onSave:t=>{t.length!==0&&e.addTodo(t)},placeholder:"What needs to be done?"})]})}function uE(e){const[t,n]=yt.useState(!1),{todo:i,completeTodo:r,editTodo:a,deleteTodo:s}=e;return F.jsx("li",{className:Hd({completed:i.completed,editing:t}),children:t?F.jsx(uS,{text:i.text,editing:t,onSave:o=>{o.length===0?s(i.id):a(i.id,o),n(!1)}}):F.jsxs("div",{className:"view",children:[F.jsx("input",{id:`item-input-${i.id}`,className:"toggle",type:"checkbox",checked:i.completed,onChange:()=>r(i.id)}),F.jsx("label",{htmlFor:`item-input-${i.id}`,onDoubleClick:()=>n(!0),children:i.text}),F.jsx("button",{type:"button","aria-label":"Delete",className:"destroy",onClick:()=>s(i.id)})]})})}const cE={SHOW_ALL:"All",SHOW_ACTIVE:"Active",SHOW_COMPLETED:"Completed"};function fE(e){const{activeCount:t,completedCount:n,filter:i,onClearCompleted:r,onShow:a}=e;return F.jsxs("footer",{className:"footer",children:[F.jsxs("span",{className:"todo-count",children:[F.jsx("strong",{children:t||"No"})," ",t===1?"item":"items"," left"]}),F.jsx("ul",{className:"filters",children:["SHOW_ALL","SHOW_ACTIVE","SHOW_COMPLETED"].map(s=>F.jsx("li",{children:F.jsx("button",{type:"button",className:Hd({selected:s===i}),style:{cursor:"pointer"},onClick:()=>a(s),children:cE[s]})},s))}),!!n&&F.jsx("button",{type:"button",className:"clear-completed",onClick:r,children:"Clear completed"})]})}const hE={SHOW_ALL:e=>!0,SHOW_ACTIVE:e=>!e.completed,SHOW_COMPLETED:e=>e.completed};function dE({todos:e,actions:t}){const[n,i]=yt.useState("SHOW_ALL"),r=e.filter(hE[n]),a=e.reduce((o,l)=>l.completed?o+1:o,0),s=e.length-a;return e.length===0?null:F.jsxs("section",{className:"main",children:[F.jsx("input",{className:"toggle-all",type:"checkbox",defaultChecked:a===e.length,onChange:t.completeAll}),F.jsx("ul",{className:"todo-list",children:r.map(o=>F.jsx(uE,{todo:o,editTodo:t.editTodo,deleteTodo:t.deleteTodo,completeTodo:t.completeTodo},o.id))}),F.jsx(fE,{completedCount:a,activeCount:s,filter:n,onClearCompleted:()=>t.clearCompleted(),onShow:i})]})}function gE(){const{root:e,update:t,loading:n,error:i}=sE();if(n)return F.jsx("div",{children:"Loading..."});if(i)return F.jsxs("div",{children:["Error: ",i.message]});const r={addTodo:a=>{t(s=>{s.todos.push({id:s.todos.reduce((o,l)=>Math.max(l.id,o),-1)+1,completed:!1,text:a})})},deleteTodo:a=>{t(s=>{let o;for(const l of s.todos)if(l.id===a){o=l;break}o&&s.todos.deleteByID(o.getID())})},editTodo:(a,s)=>{t(o=>{let l;for(const c of o.todos)if(c.id===a){l=c;break}l&&(l.text=s)})},completeTodo:a=>{t(s=>{let o;for(const l of s.todos)if(l.id===a){o=l;break}o&&(o.completed=!o.completed)})},clearCompleted:()=>{t(a=>{for(const s of a.todos)if(s.completed){const o=s;a.todos.deleteByID(o.getID())}})}};return F.jsxs("div",{className:"App",children:[F.jsx(lE,{addTodo:r.addTodo}),F.jsx(dE,{todos:e.todos,actions:r})]})}const mE={todos:[{id:0,text:"Yorkie JS SDK",completed:!1},{id:1,text:"Garbage collection",completed:!1},{id:2,text:"RichText datatype",completed:!1}]};uA.createRoot(document.getElementById("root")).render(F.jsx(iE,{apiKey:"cedaovjuioqlk4pjqn6g",rpcAddr:"https://api.yorkie.dev",children:F.jsx(aE,{docKey:`react-todomvc-${new Date().toISOString().substring(0,10).replace(/-/g,"")}`,initialRoot:mE,children:F.jsx(gE,{})})}));
