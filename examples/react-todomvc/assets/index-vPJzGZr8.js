var DS=Object.defineProperty;var OS=(e,t,n)=>t in e?DS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var u=(e,t,n)=>OS(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function Sy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ty={exports:{}},Vu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CS=Symbol.for("react.transitional.element"),kS=Symbol.for("react.fragment");function by(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:CS,type:e,key:i,ref:t!==void 0?t:null,props:n}}Vu.Fragment=kS;Vu.jsx=by;Vu.jsxs=by;Ty.exports=Vu;var nt=Ty.exports,wy={exports:{}},ju={},Ay={exports:{}},Ey={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,Y){var G=I.length;I.push(Y);t:for(;0<G;){var bt=G-1>>>1,It=I[bt];if(0<r(It,Y))I[bt]=Y,I[G]=It,G=bt;else break t}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var Y=I[0],G=I.pop();if(G!==Y){I[0]=G;t:for(var bt=0,It=I.length,_o=It>>>1;bt<_o;){var Fo=2*(bt+1)-1,dc=I[Fo],Pr=Fo+1,Wo=I[Pr];if(0>r(dc,G))Pr<It&&0>r(Wo,dc)?(I[bt]=Wo,I[Pr]=G,bt=Pr):(I[bt]=dc,I[Fo]=G,bt=Fo);else if(Pr<It&&0>r(Wo,G))I[bt]=Wo,I[Pr]=G,bt=Pr;else break t}}return Y}function r(I,Y){var G=I.sortIndex-Y.sortIndex;return G!==0?G:I.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],h=1,m=null,g=3,d=!1,A=!1,w=!1,x=!1,p=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function b(I){for(var Y=n(c);Y!==null;){if(Y.callback===null)i(c);else if(Y.startTime<=I)i(c),Y.sortIndex=Y.expirationTime,t(l,Y);else break;Y=n(c)}}function O(I){if(w=!1,b(I),!A)if(n(l)!==null)A=!0,C||(C=!0,nn());else{var Y=n(c);Y!==null&&hc(O,Y.startTime-I)}}var C=!1,k=-1,B=5,P=-1;function J(){return x?!0:!(e.unstable_now()-P<B)}function Gt(){if(x=!1,C){var I=e.unstable_now();P=I;var Y=!0;try{t:{A=!1,w&&(w=!1,y(k),k=-1),d=!0;var G=g;try{e:{for(b(I),m=n(l);m!==null&&!(m.expirationTime>I&&J());){var bt=m.callback;if(typeof bt=="function"){m.callback=null,g=m.priorityLevel;var It=bt(m.expirationTime<=I);if(I=e.unstable_now(),typeof It=="function"){m.callback=It,b(I),Y=!0;break e}m===n(l)&&i(l),b(I)}else i(l);m=n(l)}if(m!==null)Y=!0;else{var _o=n(c);_o!==null&&hc(O,_o.startTime-I),Y=!1}}break t}finally{m=null,g=G,d=!1}Y=void 0}}finally{Y?nn():C=!1}}}var nn;if(typeof v=="function")nn=function(){v(Gt)};else if(typeof MessageChannel<"u"){var eg=new MessageChannel,xS=eg.port2;eg.port1.onmessage=Gt,nn=function(){xS.postMessage(null)}}else nn=function(){p(Gt,0)};function hc(I,Y){k=p(function(){I(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(I){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var G=g;g=Y;try{return I()}finally{g=G}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(I,Y){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var G=g;g=I;try{return Y()}finally{g=G}},e.unstable_scheduleCallback=function(I,Y,G){var bt=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?bt+G:bt):G=bt,I){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=G+It,I={id:h++,callback:Y,priorityLevel:I,startTime:G,expirationTime:It,sortIndex:-1},G>bt?(I.sortIndex=G,t(c,I),n(l)===null&&I===n(c)&&(w?(y(k),k=-1):w=!0,hc(O,G-bt))):(I.sortIndex=It,t(l,I),A||d||(A=!0,C||(C=!0,nn()))),I},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(I){var Y=g;return function(){var G=g;g=Y;try{return I.apply(this,arguments)}finally{g=G}}}})(Ey);Ay.exports=Ey;var RS=Ay.exports,Ny={exports:{}},V={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh=Symbol.for("react.transitional.element"),BS=Symbol.for("react.portal"),IS=Symbol.for("react.fragment"),zS=Symbol.for("react.strict_mode"),MS=Symbol.for("react.profiler"),US=Symbol.for("react.consumer"),LS=Symbol.for("react.context"),JS=Symbol.for("react.forward_ref"),qS=Symbol.for("react.suspense"),PS=Symbol.for("react.memo"),xy=Symbol.for("react.lazy"),ng=Symbol.iterator;function HS(e){return e===null||typeof e!="object"?null:(e=ng&&e[ng]||e["@@iterator"],typeof e=="function"?e:null)}var Dy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oy=Object.assign,Cy={};function ys(e,t,n){this.props=e,this.context=t,this.refs=Cy,this.updater=n||Dy}ys.prototype.isReactComponent={};ys.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ys.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ky(){}ky.prototype=ys.prototype;function Ih(e,t,n){this.props=e,this.context=t,this.refs=Cy,this.updater=n||Dy}var zh=Ih.prototype=new ky;zh.constructor=Ih;Oy(zh,ys.prototype);zh.isPureReactComponent=!0;var ig=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},Ry=Object.prototype.hasOwnProperty;function Mh(e,t,n,i,r,a){return n=a.ref,{$$typeof:Bh,type:e,key:t,ref:n!==void 0?n:null,props:a}}function VS(e,t){return Mh(e.type,t,void 0,void 0,void 0,e.props)}function Uh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bh}function jS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rg=/\/+/g;function gc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jS(""+e.key):t.toString(36)}function ag(){}function GS(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(ag,ag):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Sa(e,t,n,i,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Bh:case BS:s=!0;break;case xy:return s=e._init,Sa(s(e._payload),t,n,i,r)}}if(s)return r=r(e),s=i===""?"."+gc(e,0):i,ig(r)?(n="",s!=null&&(n=s.replace(rg,"$&/")+"/"),Sa(r,t,n,"",function(c){return c})):r!=null&&(Uh(r)&&(r=VS(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(rg,"$&/")+"/")+s)),t.push(r)),1;s=0;var o=i===""?".":i+":";if(ig(e))for(var l=0;l<e.length;l++)i=e[l],a=o+gc(i,l),s+=Sa(i,t,n,a,r);else if(l=HS(e),typeof l=="function")for(e=l.call(e),l=0;!(i=e.next()).done;)i=i.value,a=o+gc(i,l++),s+=Sa(i,t,n,a,r);else if(a==="object"){if(typeof e.then=="function")return Sa(GS(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function tl(e,t,n){if(e==null)return e;var i=[],r=0;return Sa(e,i,"","",function(a){return t.call(n,a,r++)}),i}function YS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function KS(){}V.Children={map:tl,forEach:function(e,t,n){tl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return tl(e,function(){t++}),t},toArray:function(e){return tl(e,function(t){return t})||[]},only:function(e){if(!Uh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=ys;V.Fragment=IS;V.Profiler=MS;V.PureComponent=Ih;V.StrictMode=zS;V.Suspense=qS;V.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht;V.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ht.H.useMemoCache(e)}};V.cache=function(e){return function(){return e.apply(null,arguments)}};V.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Oy({},e.props),r=e.key,a=void 0;if(t!=null)for(s in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(r=""+t.key),t)!Ry.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(i[s]=t[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}return Mh(e.type,r,void 0,void 0,a,i)};V.createContext=function(e){return e={$$typeof:LS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:US,_context:e},e};V.createElement=function(e,t,n){var i,r={},a=null;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)Ry.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];r.children=o}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)r[i]===void 0&&(r[i]=s[i]);return Mh(e,a,void 0,void 0,null,r)};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:JS,render:e}};V.isValidElement=Uh;V.lazy=function(e){return{$$typeof:xy,_payload:{_status:-1,_result:e},_init:YS}};V.memo=function(e,t){return{$$typeof:PS,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=ht.T,n={};ht.T=n;try{var i=e(),r=ht.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(KS,sg)}catch(a){sg(a)}finally{ht.T=t}};V.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()};V.use=function(e){return ht.H.use(e)};V.useActionState=function(e,t,n){return ht.H.useActionState(e,t,n)};V.useCallback=function(e,t){return ht.H.useCallback(e,t)};V.useContext=function(e){return ht.H.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e,t){return ht.H.useDeferredValue(e,t)};V.useEffect=function(e,t,n){var i=ht.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};V.useId=function(){return ht.H.useId()};V.useImperativeHandle=function(e,t,n){return ht.H.useImperativeHandle(e,t,n)};V.useInsertionEffect=function(e,t){return ht.H.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return ht.H.useLayoutEffect(e,t)};V.useMemo=function(e,t){return ht.H.useMemo(e,t)};V.useOptimistic=function(e,t){return ht.H.useOptimistic(e,t)};V.useReducer=function(e,t,n){return ht.H.useReducer(e,t,n)};V.useRef=function(e){return ht.H.useRef(e)};V.useState=function(e){return ht.H.useState(e)};V.useSyncExternalStore=function(e,t,n){return ht.H.useSyncExternalStore(e,t,n)};V.useTransition=function(){return ht.H.useTransition()};V.version="19.1.0";Ny.exports=V;var mt=Ny.exports,By={exports:{}},Ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $S=mt;function Iy(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ir(){}var _t={d:{f:ir,r:function(){throw Error(Iy(522))},D:ir,C:ir,L:ir,m:ir,X:ir,S:ir,M:ir},p:0,findDOMNode:null},XS=Symbol.for("react.portal");function ZS(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:XS,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var qs=$S.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Gu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t;Ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Iy(299));return ZS(e,t,null,n)};Ft.flushSync=function(e){var t=qs.T,n=_t.p;try{if(qs.T=null,_t.p=2,e)return e()}finally{qs.T=t,_t.p=n,_t.d.f()}};Ft.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,_t.d.C(e,t))};Ft.prefetchDNS=function(e){typeof e=="string"&&_t.d.D(e)};Ft.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Gu(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?_t.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):n==="script"&&_t.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ft.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Gu(t.as,t.crossOrigin);_t.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&_t.d.M(e)};Ft.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Gu(n,t.crossOrigin);_t.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ft.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Gu(t.as,t.crossOrigin);_t.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else _t.d.m(e)};Ft.requestFormReset=function(e){_t.d.r(e)};Ft.unstable_batchedUpdates=function(e,t){return e(t)};Ft.useFormState=function(e,t,n){return qs.H.useFormState(e,t,n)};Ft.useFormStatus=function(){return qs.H.useHostTransitionStatus()};Ft.version="19.1.0";function zy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zy)}catch(e){console.error(e)}}zy(),By.exports=Ft;var QS=By.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bt=RS,My=mt,_S=QS;function N(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Uy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ko(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ly(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function og(e){if(ko(e)!==e)throw Error(N(188))}function FS(e){var t=e.alternate;if(!t){if(t=ko(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return og(r),e;if(a===i)return og(r),t;a=a.sibling}throw Error(N(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,o=r.child;o;){if(o===n){s=!0,n=r,i=a;break}if(o===i){s=!0,i=r,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,i=r;break}if(o===i){s=!0,i=a,n=r;break}o=o.sibling}if(!s)throw Error(N(189))}}if(n.alternate!==i)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function Jy(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Jy(e),t!==null)return t;e=e.sibling}return null}var ct=Object.assign,WS=Symbol.for("react.element"),el=Symbol.for("react.transitional.element"),zs=Symbol.for("react.portal"),Ea=Symbol.for("react.fragment"),qy=Symbol.for("react.strict_mode"),af=Symbol.for("react.profiler"),tT=Symbol.for("react.provider"),Py=Symbol.for("react.consumer"),Li=Symbol.for("react.context"),Lh=Symbol.for("react.forward_ref"),sf=Symbol.for("react.suspense"),of=Symbol.for("react.suspense_list"),Jh=Symbol.for("react.memo"),cr=Symbol.for("react.lazy"),lf=Symbol.for("react.activity"),eT=Symbol.for("react.memo_cache_sentinel"),lg=Symbol.iterator;function As(e){return e===null||typeof e!="object"?null:(e=lg&&e[lg]||e["@@iterator"],typeof e=="function"?e:null)}var nT=Symbol.for("react.client.reference");function uf(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===nT?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ea:return"Fragment";case af:return"Profiler";case qy:return"StrictMode";case sf:return"Suspense";case of:return"SuspenseList";case lf:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case zs:return"Portal";case Li:return(e.displayName||"Context")+".Provider";case Py:return(e._context.displayName||"Context")+".Consumer";case Lh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jh:return t=e.displayName||null,t!==null?t:uf(e.type)||"Memo";case cr:t=e._payload,e=e._init;try{return uf(e(t))}catch{}}return null}var Ms=Array.isArray,q=My.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=_S.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xr={pending:!1,data:null,method:null,action:null},cf=[],Na=-1;function xn(e){return{current:e}}function Lt(e){0>Na||(e.current=cf[Na],cf[Na]=null,Na--)}function dt(e,t){Na++,cf[Na]=e.current,e.current=t}var vn=xn(null),ao=xn(null),wr=xn(null),Pl=xn(null);function Hl(e,t){switch(dt(wr,t),dt(ao,e),dt(vn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?dm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=dm(t),e=i0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Lt(vn),dt(vn,e)}function Za(){Lt(vn),Lt(ao),Lt(wr)}function ff(e){e.memoizedState!==null&&dt(Pl,e);var t=vn.current,n=i0(t,e.type);t!==n&&(dt(ao,e),dt(vn,n))}function Vl(e){ao.current===e&&(Lt(vn),Lt(ao)),Pl.current===e&&(Lt(Pl),yo._currentValue=Xr)}var hf=Object.prototype.hasOwnProperty,qh=Bt.unstable_scheduleCallback,mc=Bt.unstable_cancelCallback,iT=Bt.unstable_shouldYield,rT=Bt.unstable_requestPaint,Sn=Bt.unstable_now,aT=Bt.unstable_getCurrentPriorityLevel,Hy=Bt.unstable_ImmediatePriority,Vy=Bt.unstable_UserBlockingPriority,jl=Bt.unstable_NormalPriority,sT=Bt.unstable_LowPriority,jy=Bt.unstable_IdlePriority,oT=Bt.log,lT=Bt.unstable_setDisableYieldValue,Ro=null,me=null;function yr(e){if(typeof oT=="function"&&lT(e),me&&typeof me.setStrictMode=="function")try{me.setStrictMode(Ro,e)}catch{}}var ye=Math.clz32?Math.clz32:fT,uT=Math.log,cT=Math.LN2;function fT(e){return e>>>=0,e===0?32:31-(uT(e)/cT|0)|0}var nl=256,il=4194304;function Vr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Yu(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~a,i!==0?r=Vr(i):(s&=o,s!==0?r=Vr(s):n||(n=o&~e,n!==0&&(r=Vr(n))))):(o=i&~a,o!==0?r=Vr(o):s!==0?r=Vr(s):n||(n=i&~e,n!==0&&(r=Vr(n)))),r===0?0:t!==0&&t!==r&&!(t&a)&&(a=r&-r,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:r}function Bo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function hT(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gy(){var e=nl;return nl<<=1,!(nl&4194048)&&(nl=256),e}function Yy(){var e=il;return il<<=1,!(il&62914560)&&(il=4194304),e}function yc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Io(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function dT(e,t,n,i,r,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var h=31-ye(n),m=1<<h;o[h]=0,l[h]=-1;var g=c[h];if(g!==null)for(c[h]=null,h=0;h<g.length;h++){var d=g[h];d!==null&&(d.lane&=-536870913)}n&=~m}i!==0&&Ky(e,i,0),a!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=a&~(s&~t))}function Ky(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-ye(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function $y(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ye(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Ph(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hh(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Xy(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:d0(e.type))}function gT(e,t){var n=W.p;try{return W.p=e,t()}finally{W.p=n}}var Jr=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Jr,se="__reactProps$"+Jr,ps="__reactContainer$"+Jr,df="__reactEvents$"+Jr,mT="__reactListeners$"+Jr,yT="__reactHandles$"+Jr,ug="__reactResources$"+Jr,zo="__reactMarker$"+Jr;function Vh(e){delete e[Kt],delete e[se],delete e[df],delete e[mT],delete e[yT]}function xa(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ym(e);e!==null;){if(n=e[Kt])return n;e=ym(e)}return t}e=n,n=e.parentNode}return null}function vs(e){if(e=e[Kt]||e[ps]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Us(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(N(33))}function Ja(e){var t=e[ug];return t||(t=e[ug]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Mt(e){e[zo]=!0}var Zy=new Set,Qy={};function ca(e,t){Qa(e,t),Qa(e+"Capture",t)}function Qa(e,t){for(Qy[e]=t,e=0;e<t.length;e++)Zy.add(t[e])}var pT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cg={},fg={};function vT(e){return hf.call(fg,e)?!0:hf.call(cg,e)?!1:pT.test(e)?fg[e]=!0:(cg[e]=!0,!1)}function Tl(e,t,n){if(vT(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function rl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function On(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var pc,hg;function Ta(e){if(pc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pc=t&&t[1]||"",hg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pc+e+hg}var vc=!1;function Sc(e,t){if(!e||vc)return"";vc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(d){var g=d}Reflect.construct(e,[],m)}else{try{m.call()}catch(d){g=d}e.call(m.prototype)}}else{try{throw Error()}catch(d){g=d}(m=e())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(d){if(d&&g&&typeof d.stack=="string")return[d.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),c=o.split(`
`);for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||l[i]!==c[r]){var h=`
`+l[i].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=i&&0<=r);break}}}finally{vc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ta(n):""}function ST(e){switch(e.tag){case 26:case 27:case 5:return Ta(e.type);case 16:return Ta("Lazy");case 13:return Ta("Suspense");case 19:return Ta("SuspenseList");case 0:case 15:return Sc(e.type,!1);case 11:return Sc(e.type.render,!1);case 1:return Sc(e.type,!0);case 31:return Ta("Activity");default:return""}}function dg(e){try{var t="";do t+=ST(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ae(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _y(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function TT(e){var t=_y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gl(e){e._valueTracker||(e._valueTracker=TT(e))}function Fy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=_y(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Yl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bT=/[\n"\\]/g;function Ue(e){return e.replace(bT,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function gf(e,t,n,i,r,a,s,o){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ae(t)):e.value!==""+Ae(t)&&(e.value=""+Ae(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?mf(e,s,Ae(t)):n!=null?mf(e,s,Ae(n)):i!=null&&e.removeAttribute("value"),r==null&&a!=null&&(e.defaultChecked=!!a),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Ae(o):e.removeAttribute("name")}function Wy(e,t,n,i,r,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;n=n!=null?""+Ae(n):"",t=t!=null?""+Ae(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s)}function mf(e,t,n){t==="number"&&Yl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function qa(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ae(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function tp(e,t,n){if(t!=null&&(t=""+Ae(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ae(n):""}function ep(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(N(92));if(Ms(i)){if(1<i.length)throw Error(N(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Ae(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function _a(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gg(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||wT.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function np(e,t,n){if(t!=null&&typeof t!="object")throw Error(N(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&gg(e,r,i)}else for(var a in t)t.hasOwnProperty(a)&&gg(e,a,t[a])}function jh(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ET=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bl(e){return ET.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var yf=null;function Gh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Da=null,Pa=null;function mg(e){var t=vs(e);if(t&&(e=t.stateNode)){var n=e[se]||null;t:switch(e=t.stateNode,t.type){case"input":if(gf(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ue(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[se]||null;if(!r)throw Error(N(90));gf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Fy(i)}break t;case"textarea":tp(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&qa(e,!!n.multiple,t,!1)}}}var Tc=!1;function ip(e,t,n){if(Tc)return e(t,n);Tc=!0;try{var i=e(t);return i}finally{if(Tc=!1,(Da!==null||Pa!==null)&&(ec(),Da&&(t=Da,e=Pa,Pa=Da=null,mg(t),e)))for(t=0;t<e.length;t++)mg(e[t])}}function so(e,t){var n=e.stateNode;if(n===null)return null;var i=n[se]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var Zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pf=!1;if(Zi)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){pf=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{pf=!1}var pr=null,Yh=null,wl=null;function rp(){if(wl)return wl;var e,t=Yh,n=t.length,i,r="value"in pr?pr.value:pr.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===r[a-i];i++);return wl=r.slice(e,1<i?1-i:void 0)}function Al(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function al(){return!0}function yg(){return!1}function le(e){function t(n,i,r,a,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?al:yg,this.isPropagationStopped=yg,this}return ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),t}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ku=le(fa),Mo=ct({},fa,{view:0,detail:0}),NT=le(Mo),bc,wc,Ns,$u=ct({},Mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ns&&(Ns&&e.type==="mousemove"?(bc=e.screenX-Ns.screenX,wc=e.screenY-Ns.screenY):wc=bc=0,Ns=e),bc)},movementY:function(e){return"movementY"in e?e.movementY:wc}}),pg=le($u),xT=ct({},$u,{dataTransfer:0}),DT=le(xT),OT=ct({},Mo,{relatedTarget:0}),Ac=le(OT),CT=ct({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),kT=le(CT),RT=ct({},fa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),BT=le(RT),IT=ct({},fa,{data:0}),vg=le(IT),zT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UT[e])?!!t[e]:!1}function Kh(){return LT}var JT=ct({},Mo,{key:function(e){if(e.key){var t=zT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?MT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kh,charCode:function(e){return e.type==="keypress"?Al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qT=le(JT),PT=ct({},$u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sg=le(PT),HT=ct({},Mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kh}),VT=le(HT),jT=ct({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),GT=le(jT),YT=ct({},$u,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),KT=le(YT),$T=ct({},fa,{newState:0,oldState:0}),XT=le($T),ZT=[9,13,27,32],$h=Zi&&"CompositionEvent"in window,Ps=null;Zi&&"documentMode"in document&&(Ps=document.documentMode);var QT=Zi&&"TextEvent"in window&&!Ps,ap=Zi&&(!$h||Ps&&8<Ps&&11>=Ps),Tg=" ",bg=!1;function sp(e,t){switch(e){case"keyup":return ZT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function op(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oa=!1;function _T(e,t){switch(e){case"compositionend":return op(t);case"keypress":return t.which!==32?null:(bg=!0,Tg);case"textInput":return e=t.data,e===Tg&&bg?null:e;default:return null}}function FT(e,t){if(Oa)return e==="compositionend"||!$h&&sp(e,t)?(e=rp(),wl=Yh=pr=null,Oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ap&&t.locale!=="ko"?null:t.data;default:return null}}var WT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WT[e.type]:t==="textarea"}function lp(e,t,n,i){Da?Pa?Pa.push(i):Pa=[i]:Da=i,t=uu(t,"onChange"),0<t.length&&(n=new Ku("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Hs=null,oo=null;function tb(e){t0(e,0)}function Xu(e){var t=Us(e);if(Fy(t))return e}function Ag(e,t){if(e==="change")return t}var up=!1;if(Zi){var Ec;if(Zi){var Nc="oninput"in document;if(!Nc){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),Nc=typeof Eg.oninput=="function"}Ec=Nc}else Ec=!1;up=Ec&&(!document.documentMode||9<document.documentMode)}function Ng(){Hs&&(Hs.detachEvent("onpropertychange",cp),oo=Hs=null)}function cp(e){if(e.propertyName==="value"&&Xu(oo)){var t=[];lp(t,oo,e,Gh(e)),ip(tb,t)}}function eb(e,t,n){e==="focusin"?(Ng(),Hs=t,oo=n,Hs.attachEvent("onpropertychange",cp)):e==="focusout"&&Ng()}function nb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xu(oo)}function ib(e,t){if(e==="click")return Xu(t)}function rb(e,t){if(e==="input"||e==="change")return Xu(t)}function ab(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var be=typeof Object.is=="function"?Object.is:ab;function lo(e,t){if(be(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!hf.call(t,r)||!be(e[r],t[r]))return!1}return!0}function xg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dg(e,t){var n=xg(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=xg(n)}}function fp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Yl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yl(e.document)}return t}function Xh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var sb=Zi&&"documentMode"in document&&11>=document.documentMode,Ca=null,vf=null,Vs=null,Sf=!1;function Og(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sf||Ca==null||Ca!==Yl(i)||(i=Ca,"selectionStart"in i&&Xh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Vs&&lo(Vs,i)||(Vs=i,i=uu(vf,"onSelect"),0<i.length&&(t=new Ku("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ca)))}function Hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ka={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},xc={},dp={};Zi&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function ha(e){if(xc[e])return xc[e];if(!ka[e])return e;var t=ka[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dp)return xc[e]=t[n];return e}var gp=ha("animationend"),mp=ha("animationiteration"),yp=ha("animationstart"),ob=ha("transitionrun"),lb=ha("transitionstart"),ub=ha("transitioncancel"),pp=ha("transitionend"),vp=new Map,Tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tf.push("scrollEnd");function en(e,t){vp.set(e,t),ca(t,[e])}var Cg=new WeakMap;function Le(e,t){if(typeof e=="object"&&e!==null){var n=Cg.get(e);return n!==void 0?n:(t={value:e,source:t,stack:dg(t)},Cg.set(e,t),t)}return{value:e,source:t,stack:dg(t)}}var we=[],Ra=0,Zh=0;function Zu(){for(var e=Ra,t=Zh=Ra=0;t<e;){var n=we[t];we[t++]=null;var i=we[t];we[t++]=null;var r=we[t];we[t++]=null;var a=we[t];if(we[t++]=null,i!==null&&r!==null){var s=i.pending;s===null?r.next=r:(r.next=s.next,s.next=r),i.pending=r}a!==0&&Sp(n,r,a)}}function Qu(e,t,n,i){we[Ra++]=e,we[Ra++]=t,we[Ra++]=n,we[Ra++]=i,Zh|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Qh(e,t,n,i){return Qu(e,t,n,i),Kl(e)}function Ss(e,t){return Qu(e,null,null,t),Kl(e)}function Sp(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,a=e.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(r=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,r&&t!==null&&(r=31-ye(n),e=a.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),a):null}function Kl(e){if(50<Fs)throw Fs=0,Hf=null,Error(N(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ba={};function cb(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function he(e,t,n,i){return new cb(e,t,n,i)}function _h(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yi(e,t){var n=e.alternate;return n===null?(n=he(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Tp(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function El(e,t,n,i,r,a){var s=0;if(i=e,typeof e=="function")_h(e)&&(s=1);else if(typeof e=="string")s=h1(e,n,vn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case lf:return e=he(31,n,t,r),e.elementType=lf,e.lanes=a,e;case Ea:return Zr(n.children,r,a,t);case qy:s=8,r|=24;break;case af:return e=he(12,n,t,r|2),e.elementType=af,e.lanes=a,e;case sf:return e=he(13,n,t,r),e.elementType=sf,e.lanes=a,e;case of:return e=he(19,n,t,r),e.elementType=of,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tT:case Li:s=10;break t;case Py:s=9;break t;case Lh:s=11;break t;case Jh:s=14;break t;case cr:s=16,i=null;break t}s=29,n=Error(N(130,e===null?"null":typeof e,"")),i=null}return t=he(s,n,t,r),t.elementType=e,t.type=i,t.lanes=a,t}function Zr(e,t,n,i){return e=he(7,e,i,t),e.lanes=n,e}function Dc(e,t,n){return e=he(6,e,null,t),e.lanes=n,e}function Oc(e,t,n){return t=he(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ia=[],za=0,$l=null,Xl=0,Ee=[],Ne=0,Qr=null,Ji=1,qi="";function jr(e,t){Ia[za++]=Xl,Ia[za++]=$l,$l=e,Xl=t}function bp(e,t,n){Ee[Ne++]=Ji,Ee[Ne++]=qi,Ee[Ne++]=Qr,Qr=e;var i=Ji;e=qi;var r=32-ye(i)-1;i&=~(1<<r),n+=1;var a=32-ye(t)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Ji=1<<32-ye(t)+r|n<<r|i,qi=a+e}else Ji=1<<a|n<<r|i,qi=e}function Fh(e){e.return!==null&&(jr(e,1),bp(e,1,0))}function Wh(e){for(;e===$l;)$l=Ia[--za],Ia[za]=null,Xl=Ia[--za],Ia[za]=null;for(;e===Qr;)Qr=Ee[--Ne],Ee[Ne]=null,qi=Ee[--Ne],Ee[Ne]=null,Ji=Ee[--Ne],Ee[Ne]=null}var Qt=null,pt=null,F=!1,_r=null,on=!1,bf=Error(N(519));function ia(e){var t=Error(N(418,""));throw uo(Le(t,e)),bf}function kg(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Kt]=e,t[se]=i,n){case"dialog":K("cancel",t),K("close",t);break;case"iframe":case"object":case"embed":K("load",t);break;case"video":case"audio":for(n=0;n<ho.length;n++)K(ho[n],t);break;case"source":K("error",t);break;case"img":case"image":case"link":K("error",t),K("load",t);break;case"details":K("toggle",t);break;case"input":K("invalid",t),Wy(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Gl(t);break;case"select":K("invalid",t);break;case"textarea":K("invalid",t),ep(t,i.value,i.defaultValue,i.children),Gl(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||n0(t.textContent,n)?(i.popover!=null&&(K("beforetoggle",t),K("toggle",t)),i.onScroll!=null&&K("scroll",t),i.onScrollEnd!=null&&K("scrollend",t),i.onClick!=null&&(t.onclick=rc),t=!0):t=!1,t||ia(e)}function Rg(e){for(Qt=e.return;Qt;)switch(Qt.tag){case 5:case 13:on=!1;return;case 27:case 3:on=!0;return;default:Qt=Qt.return}}function xs(e){if(e!==Qt)return!1;if(!F)return Rg(e),F=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||$f(e.type,e.memoizedProps)),n=!n),n&&pt&&ia(e),Rg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){pt=Fe(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}pt=null}}else t===27?(t=pt,qr(e.type)?(e=Qf,Qf=null,pt=e):pt=t):pt=Qt?Fe(e.stateNode.nextSibling):null;return!0}function Uo(){pt=Qt=null,F=!1}function Bg(){var e=_r;return e!==null&&(ee===null?ee=e:ee.push.apply(ee,e),_r=null),e}function uo(e){_r===null?_r=[e]:_r.push(e)}var wf=xn(null),da=null,Pi=null;function hr(e,t,n){dt(wf,t._currentValue),t._currentValue=n}function Ki(e){e._currentValue=wf.current,Lt(wf)}function Af(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ef(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){var s=r.child;a=a.firstContext;t:for(;a!==null;){var o=a;a=r;for(var l=0;l<t.length;l++)if(o.context===t[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Af(a.return,n,e),i||(s=null);break t}a=o.next}}else if(r.tag===18){if(s=r.return,s===null)throw Error(N(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Af(s,n,e),s=null}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===e){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}}function Lo(e,t,n,i){e=null;for(var r=t,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var s=r.alternate;if(s===null)throw Error(N(387));if(s=s.memoizedProps,s!==null){var o=r.type;be(r.pendingProps.value,s.value)||(e!==null?e.push(o):e=[o])}}else if(r===Pl.current){if(s=r.alternate,s===null)throw Error(N(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(yo):e=[yo])}r=r.return}e!==null&&Ef(t,e,n,i),t.flags|=262144}function Zl(e){for(e=e.firstContext;e!==null;){if(!be(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ra(e){da=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $t(e){return wp(da,e)}function sl(e,t){return da===null&&ra(e),wp(e,t)}function wp(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Pi===null){if(e===null)throw Error(N(308));Pi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Pi=Pi.next=t;return n}var fb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},hb=Bt.unstable_scheduleCallback,db=Bt.unstable_NormalPriority,kt={$$typeof:Li,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function td(){return{controller:new fb,data:new Map,refCount:0}}function Jo(e){e.refCount--,e.refCount===0&&hb(db,function(){e.controller.abort()})}var js=null,Nf=0,Fa=0,Ha=null;function gb(e,t){if(js===null){var n=js=[];Nf=0,Fa=Ad(),Ha={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Nf++,t.then(Ig,Ig),t}function Ig(){if(--Nf===0&&js!==null){Ha!==null&&(Ha.status="fulfilled");var e=js;js=null,Fa=0,Ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function mb(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var zg=q.S;q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&gb(e,t),zg!==null&&zg(e,t)};var Fr=xn(null);function ed(){var e=Fr.current;return e!==null?e:lt.pooledCache}function Nl(e,t){t===null?dt(Fr,Fr.current):dt(Fr,t.pool)}function Ap(){var e=ed();return e===null?null:{parent:kt._currentValue,pool:e}}var qo=Error(N(460)),Ep=Error(N(474)),_u=Error(N(542)),xf={then:function(){}};function Mg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ol(){}function Np(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ol,ol),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lg(e),e;default:if(typeof t.status=="string")t.then(ol,ol);else{if(e=lt,e!==null&&100<e.shellSuspendCounter)throw Error(N(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lg(e),e}throw Gs=t,qo}}var Gs=null;function Ug(){if(Gs===null)throw Error(N(459));var e=Gs;return Gs=null,e}function Lg(e){if(e===qo||e===_u)throw Error(N(483))}var fr=!1;function nd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Df(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ar(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,it&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Kl(e),Sp(e,null,n),t}return Qu(e,i,t,n),Kl(e)}function Ys(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,$y(e,n)}}function Cc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?r=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Of=!1;function Ks(){if(Of){var e=Ha;if(e!==null)throw e}}function $s(e,t,n,i){Of=!1;var r=e.updateQueue;fr=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==s&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(a!==null){var m=r.baseState;s=0,h=c=l=null,o=a;do{var g=o.lane&-536870913,d=g!==o.lane;if(d?(Q&g)===g:(i&g)===g){g!==0&&g===Fa&&(Of=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var A=e,w=o;g=t;var x=n;switch(w.tag){case 1:if(A=w.payload,typeof A=="function"){m=A.call(x,m,g);break t}m=A;break t;case 3:A.flags=A.flags&-65537|128;case 0:if(A=w.payload,g=typeof A=="function"?A.call(x,m,g):A,g==null)break t;m=ct({},m,g);break t;case 2:fr=!0}}g=o.callback,g!==null&&(e.flags|=64,d&&(e.flags|=8192),d=r.callbacks,d===null?r.callbacks=[g]:d.push(g))}else d={lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=d,l=m):h=h.next=d,s|=g;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;d=o,o=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);h===null&&(l=m),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,a===null&&(r.shared.lanes=0),Mr|=s,e.lanes=s,e.memoizedState=m}}function xp(e,t){if(typeof e!="function")throw Error(N(191,e));e.call(t)}function Dp(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)xp(n[e],t)}var Wa=xn(null),Ql=xn(0);function Jg(e,t){e=Fi,dt(Ql,e),dt(Wa,t),Fi=e|t.baseLanes}function Cf(){dt(Ql,Fi),dt(Wa,Wa.current)}function id(){Fi=Ql.current,Lt(Wa),Lt(Ql)}var Ir=0,j=null,at=null,Dt=null,_l=!1,Va=!1,aa=!1,Fl=0,co=0,ja=null,yb=0;function wt(){throw Error(N(321))}function rd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!be(e[n],t[n]))return!1;return!0}function ad(e,t,n,i,r,a){return Ir=a,j=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?rv:av,aa=!1,a=n(i,r),aa=!1,Va&&(a=Cp(t,n,i,r)),Op(e),a}function Op(e){q.H=Wl;var t=at!==null&&at.next!==null;if(Ir=0,Dt=at=j=null,_l=!1,co=0,ja=null,t)throw Error(N(300));e===null||Ut||(e=e.dependencies,e!==null&&Zl(e)&&(Ut=!0))}function Cp(e,t,n,i){j=e;var r=0;do{if(Va&&(ja=null),co=0,Va=!1,25<=r)throw Error(N(301));if(r+=1,Dt=at=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}q.H=Ab,a=t(n,i)}while(Va);return a}function pb(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?Po(t):t,e=e.useState()[0],(at!==null?at.memoizedState:null)!==e&&(j.flags|=1024),t}function sd(){var e=Fl!==0;return Fl=0,e}function od(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ld(e){if(_l){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}_l=!1}Ir=0,Dt=at=j=null,Va=!1,co=Fl=0,ja=null}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?j.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function Ot(){if(at===null){var e=j.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=Dt===null?j.memoizedState:Dt.next;if(t!==null)Dt=t,at=e;else{if(e===null)throw j.alternate===null?Error(N(467)):Error(N(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Dt===null?j.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Po(e){var t=co;return co+=1,ja===null&&(ja=[]),e=Np(ja,e,t),t=j,(Dt===null?t.memoizedState:Dt.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?rv:av),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Po(e);if(e.$$typeof===Li)return $t(e)}throw Error(N(438,String(e)))}function cd(e){var t=null,n=j.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=j.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=ud(),j.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=eT;return t.index++,n}function Qi(e,t){return typeof t=="function"?t(e):t}function xl(e){var t=Ot();return fd(t,at,e)}function fd(e,t,n){var i=e.queue;if(i===null)throw Error(N(311));i.lastRenderedReducer=n;var r=e.baseQueue,a=i.pending;if(a!==null){if(r!==null){var s=r.next;r.next=a.next,a.next=s}t.baseQueue=r=a,i.pending=null}if(a=e.baseState,r===null)e.memoizedState=a;else{t=r.next;var o=s=null,l=null,c=t,h=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(Q&m)===m:(Ir&m)===m){var g=c.revertLane;if(g===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===Fa&&(h=!0);else if((Ir&g)===g){c=c.next,g===Fa&&(h=!0);continue}else m={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=m,s=a):l=l.next=m,j.lanes|=g,Mr|=g;m=c.action,aa&&n(a,m),a=c.hasEagerState?c.eagerState:n(a,m)}else g={lane:m,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=g,s=a):l=l.next=g,j.lanes|=m,Mr|=m;c=c.next}while(c!==null&&c!==t);if(l===null?s=a:l.next=o,!be(a,e.memoizedState)&&(Ut=!0,h&&(n=Ha,n!==null)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=l,i.lastRenderedState=a}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function kc(e){var t=Ot(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do a=e(a,s.action),s=s.next;while(s!==r);be(a,t.memoizedState)||(Ut=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function kp(e,t,n){var i=j,r=Ot(),a=F;if(a){if(n===void 0)throw Error(N(407));n=n()}else n=t();var s=!be((at||r).memoizedState,n);s&&(r.memoizedState=n,Ut=!0),r=r.queue;var o=Ip.bind(null,i,r,e);if(Ho(2048,8,o,[e]),r.getSnapshot!==t||s||Dt!==null&&Dt.memoizedState.tag&1){if(i.flags|=2048,ts(9,Wu(),Bp.bind(null,i,r,n,t),null),lt===null)throw Error(N(349));a||Ir&124||Rp(i,t,n)}return n}function Rp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=j.updateQueue,t===null?(t=ud(),j.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bp(e,t,n,i){t.value=n,t.getSnapshot=i,zp(t)&&Mp(e)}function Ip(e,t,n){return n(function(){zp(t)&&Mp(e)})}function zp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!be(e,n)}catch{return!0}}function Mp(e){var t=Ss(e,2);t!==null&&ve(t,e,2)}function kf(e){var t=Wt();if(typeof e=="function"){var n=e;if(e=n(),aa){yr(!0);try{n()}finally{yr(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},t}function Up(e,t,n,i){return e.baseState=n,fd(e,at,typeof i=="function"?i:Qi)}function vb(e,t,n,i,r){if(tc(e))throw Error(N(485));if(e=t.action,e!==null){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};q.T!==null?n(!0):a.isTransition=!1,i(a),n=t.pending,n===null?(a.next=t.pending=a,Lp(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Lp(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=q.T,s={};q.T=s;try{var o=n(r,i),l=q.S;l!==null&&l(s,o),qg(e,t,o)}catch(c){Rf(e,t,c)}finally{q.T=a}}else try{a=n(r,i),qg(e,t,a)}catch(c){Rf(e,t,c)}}function qg(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Pg(e,t,i)},function(i){return Rf(e,t,i)}):Pg(e,t,n)}function Pg(e,t,n){t.status="fulfilled",t.value=n,Jp(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Lp(e,n)))}function Rf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Jp(t),t=t.next;while(t!==i)}e.action=null}function Jp(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function qp(e,t){return t}function Hg(e,t){if(F){var n=lt.formState;if(n!==null){t:{var i=j;if(F){if(pt){e:{for(var r=pt,a=on;r.nodeType!==8;){if(!a){r=null;break e}if(r=Fe(r.nextSibling),r===null){r=null;break e}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){pt=Fe(r.nextSibling),i=r.data==="F!";break t}}ia(i)}i=!1}i&&(t=n[0])}}return n=Wt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qp,lastRenderedState:t},n.queue=i,n=ev.bind(null,j,i),i.dispatch=n,i=kf(!1),a=md.bind(null,j,!1,i.queue),i=Wt(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=vb.bind(null,j,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Vg(e){var t=Ot();return Pp(t,at,e)}function Pp(e,t,n){if(t=fd(e,t,qp)[0],e=xl(Qi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Po(t)}catch(s){throw s===qo?_u:s}else i=t;t=Ot();var r=t.queue,a=r.dispatch;return n!==t.memoizedState&&(j.flags|=2048,ts(9,Wu(),Sb.bind(null,r,n),null)),[i,a,e]}function Sb(e,t){e.action=t}function jg(e){var t=Ot(),n=at;if(n!==null)return Pp(t,n,e);Ot(),t=t.memoizedState,n=Ot();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function ts(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=j.updateQueue,t===null&&(t=ud(),j.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Wu(){return{destroy:void 0,resource:void 0}}function Hp(){return Ot().memoizedState}function Dl(e,t,n,i){var r=Wt();i=i===void 0?null:i,j.flags|=e,r.memoizedState=ts(1|t,Wu(),n,i)}function Ho(e,t,n,i){var r=Ot();i=i===void 0?null:i;var a=r.memoizedState.inst;at!==null&&i!==null&&rd(i,at.memoizedState.deps)?r.memoizedState=ts(t,a,n,i):(j.flags|=e,r.memoizedState=ts(1|t,a,n,i))}function Gg(e,t){Dl(8390656,8,e,t)}function Vp(e,t){Ho(2048,8,e,t)}function jp(e,t){return Ho(4,2,e,t)}function Gp(e,t){return Ho(4,4,e,t)}function Yp(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kp(e,t,n){n=n!=null?n.concat([e]):null,Ho(4,4,Yp.bind(null,t,e),n)}function hd(){}function $p(e,t){var n=Ot();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&rd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Xp(e,t){var n=Ot();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&rd(t,i[1]))return i[0];if(i=e(),aa){yr(!0);try{e()}finally{yr(!1)}}return n.memoizedState=[i,t],i}function dd(e,t,n){return n===void 0||Ir&1073741824?e.memoizedState=t:(e.memoizedState=n,e=Jv(),j.lanes|=e,Mr|=e,n)}function Zp(e,t,n,i){return be(n,t)?n:Wa.current!==null?(e=dd(e,n,i),be(e,t)||(Ut=!0),e):Ir&42?(e=Jv(),j.lanes|=e,Mr|=e,t):(Ut=!0,e.memoizedState=n)}function Qp(e,t,n,i,r){var a=W.p;W.p=a!==0&&8>a?a:8;var s=q.T,o={};q.T=o,md(e,!1,t,n);try{var l=r(),c=q.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=mb(l,i);Xs(e,t,h,pe(e))}else Xs(e,t,i,pe(e))}catch(m){Xs(e,t,{then:function(){},status:"rejected",reason:m},pe())}finally{W.p=a,q.T=s}}function Tb(){}function Bf(e,t,n,i){if(e.tag!==5)throw Error(N(476));var r=_p(e).queue;Qp(e,r,t,Xr,n===null?Tb:function(){return Fp(e),n(i)})}function _p(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Xr,baseState:Xr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:Xr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Fp(e){var t=_p(e).next.queue;Xs(e,t,{},pe())}function gd(){return $t(yo)}function Wp(){return Ot().memoizedState}function tv(){return Ot().memoizedState}function bb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=pe();e=Ar(n);var i=Er(t,e,n);i!==null&&(ve(i,t,n),Ys(i,t,n)),t={cache:td()},e.payload=t;return}t=t.return}}function wb(e,t,n){var i=pe();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},tc(e)?nv(t,n):(n=Qh(e,t,n,i),n!==null&&(ve(n,e,i),iv(n,t,i)))}function ev(e,t,n){var i=pe();Xs(e,t,n,i)}function Xs(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(tc(e))nv(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(r.hasEagerState=!0,r.eagerState=o,be(o,s))return Qu(e,t,r,0),lt===null&&Zu(),!1}catch{}finally{}if(n=Qh(e,t,r,i),n!==null)return ve(n,e,i),iv(n,t,i),!0}return!1}function md(e,t,n,i){if(i={lane:2,revertLane:Ad(),action:i,hasEagerState:!1,eagerState:null,next:null},tc(e)){if(t)throw Error(N(479))}else t=Qh(e,n,i,2),t!==null&&ve(t,e,2)}function tc(e){var t=e.alternate;return e===j||t!==null&&t===j}function nv(e,t){Va=_l=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function iv(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,$y(e,n)}}var Wl={readContext:$t,use:Fu,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},rv={readContext:$t,use:Fu,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:Gg,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Dl(4194308,4,Yp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dl(4194308,4,e,t)},useInsertionEffect:function(e,t){Dl(4,2,e,t)},useMemo:function(e,t){var n=Wt();t=t===void 0?null:t;var i=e();if(aa){yr(!0);try{e()}finally{yr(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Wt();if(n!==void 0){var r=n(t);if(aa){yr(!0);try{n(t)}finally{yr(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=wb.bind(null,j,e),[i.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:function(e){e=kf(e);var t=e.queue,n=ev.bind(null,j,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:hd,useDeferredValue:function(e,t){var n=Wt();return dd(n,e,t)},useTransition:function(){var e=kf(!1);return e=Qp.bind(null,j,e.queue,!0,!1),Wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=j,r=Wt();if(F){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),lt===null)throw Error(N(349));Q&124||Rp(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Gg(Ip.bind(null,i,a,e),[e]),i.flags|=2048,ts(9,Wu(),Bp.bind(null,i,a,n,t),null),n},useId:function(){var e=Wt(),t=lt.identifierPrefix;if(F){var n=qi,i=Ji;n=(i&~(1<<32-ye(i)-1)).toString(32)+n,t=""+t+"R"+n,n=Fl++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=yb++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:gd,useFormState:Hg,useActionState:Hg,useOptimistic:function(e){var t=Wt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=md.bind(null,j,!0,n),n.dispatch=t,[e,t]},useMemoCache:cd,useCacheRefresh:function(){return Wt().memoizedState=bb.bind(null,j)}},av={readContext:$t,use:Fu,useCallback:$p,useContext:$t,useEffect:Vp,useImperativeHandle:Kp,useInsertionEffect:jp,useLayoutEffect:Gp,useMemo:Xp,useReducer:xl,useRef:Hp,useState:function(){return xl(Qi)},useDebugValue:hd,useDeferredValue:function(e,t){var n=Ot();return Zp(n,at.memoizedState,e,t)},useTransition:function(){var e=xl(Qi)[0],t=Ot().memoizedState;return[typeof e=="boolean"?e:Po(e),t]},useSyncExternalStore:kp,useId:Wp,useHostTransitionStatus:gd,useFormState:Vg,useActionState:Vg,useOptimistic:function(e,t){var n=Ot();return Up(n,at,e,t)},useMemoCache:cd,useCacheRefresh:tv},Ab={readContext:$t,use:Fu,useCallback:$p,useContext:$t,useEffect:Vp,useImperativeHandle:Kp,useInsertionEffect:jp,useLayoutEffect:Gp,useMemo:Xp,useReducer:kc,useRef:Hp,useState:function(){return kc(Qi)},useDebugValue:hd,useDeferredValue:function(e,t){var n=Ot();return at===null?dd(n,e,t):Zp(n,at.memoizedState,e,t)},useTransition:function(){var e=kc(Qi)[0],t=Ot().memoizedState;return[typeof e=="boolean"?e:Po(e),t]},useSyncExternalStore:kp,useId:Wp,useHostTransitionStatus:gd,useFormState:jg,useActionState:jg,useOptimistic:function(e,t){var n=Ot();return at!==null?Up(n,at,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:cd,useCacheRefresh:tv},Ga=null,fo=0;function ll(e){var t=fo;return fo+=1,Ga===null&&(Ga=[]),Np(Ga,e,t)}function Ds(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ul(e,t){throw t.$$typeof===WS?Error(N(525)):(e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Yg(e){var t=e._init;return t(e._payload)}function sv(e){function t(p,y){if(e){var v=p.deletions;v===null?(p.deletions=[y],p.flags|=16):v.push(y)}}function n(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function i(p){for(var y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function r(p,y){return p=Yi(p,y),p.index=0,p.sibling=null,p}function a(p,y,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<y?(p.flags|=67108866,y):v):(p.flags|=67108866,y)):(p.flags|=1048576,y)}function s(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function o(p,y,v,b){return y===null||y.tag!==6?(y=Dc(v,p.mode,b),y.return=p,y):(y=r(y,v),y.return=p,y)}function l(p,y,v,b){var O=v.type;return O===Ea?h(p,y,v.props.children,b,v.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===cr&&Yg(O)===y.type)?(y=r(y,v.props),Ds(y,v),y.return=p,y):(y=El(v.type,v.key,v.props,null,p.mode,b),Ds(y,v),y.return=p,y)}function c(p,y,v,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Oc(v,p.mode,b),y.return=p,y):(y=r(y,v.children||[]),y.return=p,y)}function h(p,y,v,b,O){return y===null||y.tag!==7?(y=Zr(v,p.mode,b,O),y.return=p,y):(y=r(y,v),y.return=p,y)}function m(p,y,v){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Dc(""+y,p.mode,v),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case el:return v=El(y.type,y.key,y.props,null,p.mode,v),Ds(v,y),v.return=p,v;case zs:return y=Oc(y,p.mode,v),y.return=p,y;case cr:var b=y._init;return y=b(y._payload),m(p,y,v)}if(Ms(y)||As(y))return y=Zr(y,p.mode,v,null),y.return=p,y;if(typeof y.then=="function")return m(p,ll(y),v);if(y.$$typeof===Li)return m(p,sl(p,y),v);ul(p,y)}return null}function g(p,y,v,b){var O=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return O!==null?null:o(p,y,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case el:return v.key===O?l(p,y,v,b):null;case zs:return v.key===O?c(p,y,v,b):null;case cr:return O=v._init,v=O(v._payload),g(p,y,v,b)}if(Ms(v)||As(v))return O!==null?null:h(p,y,v,b,null);if(typeof v.then=="function")return g(p,y,ll(v),b);if(v.$$typeof===Li)return g(p,y,sl(p,v),b);ul(p,v)}return null}function d(p,y,v,b,O){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return p=p.get(v)||null,o(y,p,""+b,O);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case el:return p=p.get(b.key===null?v:b.key)||null,l(y,p,b,O);case zs:return p=p.get(b.key===null?v:b.key)||null,c(y,p,b,O);case cr:var C=b._init;return b=C(b._payload),d(p,y,v,b,O)}if(Ms(b)||As(b))return p=p.get(v)||null,h(y,p,b,O,null);if(typeof b.then=="function")return d(p,y,v,ll(b),O);if(b.$$typeof===Li)return d(p,y,v,sl(y,b),O);ul(y,b)}return null}function A(p,y,v,b){for(var O=null,C=null,k=y,B=y=0,P=null;k!==null&&B<v.length;B++){k.index>B?(P=k,k=null):P=k.sibling;var J=g(p,k,v[B],b);if(J===null){k===null&&(k=P);break}e&&k&&J.alternate===null&&t(p,k),y=a(J,y,B),C===null?O=J:C.sibling=J,C=J,k=P}if(B===v.length)return n(p,k),F&&jr(p,B),O;if(k===null){for(;B<v.length;B++)k=m(p,v[B],b),k!==null&&(y=a(k,y,B),C===null?O=k:C.sibling=k,C=k);return F&&jr(p,B),O}for(k=i(k);B<v.length;B++)P=d(k,p,B,v[B],b),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?B:P.key),y=a(P,y,B),C===null?O=P:C.sibling=P,C=P);return e&&k.forEach(function(Gt){return t(p,Gt)}),F&&jr(p,B),O}function w(p,y,v,b){if(v==null)throw Error(N(151));for(var O=null,C=null,k=y,B=y=0,P=null,J=v.next();k!==null&&!J.done;B++,J=v.next()){k.index>B?(P=k,k=null):P=k.sibling;var Gt=g(p,k,J.value,b);if(Gt===null){k===null&&(k=P);break}e&&k&&Gt.alternate===null&&t(p,k),y=a(Gt,y,B),C===null?O=Gt:C.sibling=Gt,C=Gt,k=P}if(J.done)return n(p,k),F&&jr(p,B),O;if(k===null){for(;!J.done;B++,J=v.next())J=m(p,J.value,b),J!==null&&(y=a(J,y,B),C===null?O=J:C.sibling=J,C=J);return F&&jr(p,B),O}for(k=i(k);!J.done;B++,J=v.next())J=d(k,p,B,J.value,b),J!==null&&(e&&J.alternate!==null&&k.delete(J.key===null?B:J.key),y=a(J,y,B),C===null?O=J:C.sibling=J,C=J);return e&&k.forEach(function(nn){return t(p,nn)}),F&&jr(p,B),O}function x(p,y,v,b){if(typeof v=="object"&&v!==null&&v.type===Ea&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case el:t:{for(var O=v.key;y!==null;){if(y.key===O){if(O=v.type,O===Ea){if(y.tag===7){n(p,y.sibling),b=r(y,v.props.children),b.return=p,p=b;break t}}else if(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===cr&&Yg(O)===y.type){n(p,y.sibling),b=r(y,v.props),Ds(b,v),b.return=p,p=b;break t}n(p,y);break}else t(p,y);y=y.sibling}v.type===Ea?(b=Zr(v.props.children,p.mode,b,v.key),b.return=p,p=b):(b=El(v.type,v.key,v.props,null,p.mode,b),Ds(b,v),b.return=p,p=b)}return s(p);case zs:t:{for(O=v.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(p,y.sibling),b=r(y,v.children||[]),b.return=p,p=b;break t}else{n(p,y);break}else t(p,y);y=y.sibling}b=Oc(v,p.mode,b),b.return=p,p=b}return s(p);case cr:return O=v._init,v=O(v._payload),x(p,y,v,b)}if(Ms(v))return A(p,y,v,b);if(As(v)){if(O=As(v),typeof O!="function")throw Error(N(150));return v=O.call(v),w(p,y,v,b)}if(typeof v.then=="function")return x(p,y,ll(v),b);if(v.$$typeof===Li)return x(p,y,sl(p,v),b);ul(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,y!==null&&y.tag===6?(n(p,y.sibling),b=r(y,v),b.return=p,p=b):(n(p,y),b=Dc(v,p.mode,b),b.return=p,p=b),s(p)):n(p,y)}return function(p,y,v,b){try{fo=0;var O=x(p,y,v,b);return Ga=null,O}catch(k){if(k===qo||k===_u)throw k;var C=he(29,k,null,p.mode);return C.lanes=b,C.return=p,C}finally{}}}var es=sv(!0),ov=sv(!1),Ve=xn(null),Tn=null;function dr(e){var t=e.alternate;dt(Rt,Rt.current&1),dt(Ve,e),Tn===null&&(t===null||Wa.current!==null||t.memoizedState!==null)&&(Tn=e)}function lv(e){if(e.tag===22){if(dt(Rt,Rt.current),dt(Ve,e),Tn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Tn=e)}}else gr()}function gr(){dt(Rt,Rt.current),dt(Ve,Ve.current)}function Hi(e){Lt(Ve),Tn===e&&(Tn=null),Lt(Rt)}var Rt=xn(0);function tu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Zf(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Rc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var If={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=pe(),r=Ar(i);r.payload=t,n!=null&&(r.callback=n),t=Er(e,r,i),t!==null&&(ve(t,e,i),Ys(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=pe(),r=Ar(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Er(e,r,i),t!==null&&(ve(t,e,i),Ys(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pe(),i=Ar(n);i.tag=2,t!=null&&(i.callback=t),t=Er(e,i,n),t!==null&&(ve(t,e,n),Ys(t,e,n))}};function Kg(e,t,n,i,r,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,s):t.prototype&&t.prototype.isPureReactComponent?!lo(n,i)||!lo(r,a):!0}function $g(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&If.enqueueReplaceState(t,t.state,null)}function sa(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=ct({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var eu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function uv(e){eu(e)}function cv(e){console.error(e)}function fv(e){eu(e)}function nu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Xg(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function zf(e,t,n){return n=Ar(n),n.tag=3,n.payload={element:null},n.callback=function(){nu(e,t)},n}function hv(e){return e=Ar(e),e.tag=3,e}function dv(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){Xg(t,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Xg(t,n,i),typeof r!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function Eb(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Lo(t,n,r,!0),n=Ve.current,n!==null){switch(n.tag){case 13:return Tn===null?Vf():n.alternate===null&&vt===0&&(vt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===xf?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Vc(e,i,r)),!1;case 22:return n.flags|=65536,i===xf?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Vc(e,i,r)),!1}throw Error(N(435,n.tag))}return Vc(e,i,r),Vf(),!1}if(F)return t=Ve.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==bf&&(e=Error(N(422),{cause:i}),uo(Le(e,n)))):(i!==bf&&(t=Error(N(423),{cause:i}),uo(Le(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=Le(i,n),r=zf(e.stateNode,i,r),Cc(e,r),vt!==4&&(vt=2)),!1;var a=Error(N(520),{cause:i});if(a=Le(a,n),_s===null?_s=[a]:_s.push(a),vt!==4&&(vt=2),t===null)return!0;i=Le(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=zf(n.stateNode,i,e),Cc(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Nr===null||!Nr.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,r=hv(r),dv(r,e,n,i),Cc(n,r),!1}n=n.return}while(n!==null);return!1}var gv=Error(N(461)),Ut=!1;function Jt(e,t,n,i){t.child=e===null?ov(t,null,n,i):es(t,e.child,n,i)}function Zg(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}else s=i;return ra(t),i=ad(e,t,n,s,a,r),o=sd(),e!==null&&!Ut?(od(e,t,r),_i(e,t,r)):(F&&o&&Fh(t),t.flags|=1,Jt(e,t,i,r),t.child)}function Qg(e,t,n,i,r){if(e===null){var a=n.type;return typeof a=="function"&&!_h(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,mv(e,t,a,i,r)):(e=El(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!yd(e,r)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:lo,n(s,i)&&e.ref===t.ref)return _i(e,t,r)}return t.flags|=1,e=Yi(a,i),e.ref=t.ref,e.return=t,t.child=e}function mv(e,t,n,i,r){if(e!==null){var a=e.memoizedProps;if(lo(a,i)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=i=a,yd(e,r))e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,_i(e,t,r)}return Mf(e,t,n,i,r)}function yv(e,t,n){var i=t.pendingProps,r=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=a!==null?a.baseLanes|n:n,e!==null){for(r=t.child=e.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~i}else t.childLanes=0,t.child=null;return _g(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nl(t,a!==null?a.cachePool:null),a!==null?Jg(t,a):Cf(),lv(t);else return t.lanes=t.childLanes=536870912,_g(e,t,a!==null?a.baseLanes|n:n,n)}else a!==null?(Nl(t,a.cachePool),Jg(t,a),gr(),t.memoizedState=null):(e!==null&&Nl(t,null),Cf(),gr());return Jt(e,t,r,n),t.child}function _g(e,t,n,i){var r=ed();return r=r===null?null:{parent:kt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Nl(t,null),Cf(),lv(t),e!==null&&Lo(e,t,i,!0),null}function Ol(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(N(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Mf(e,t,n,i,r){return ra(t),n=ad(e,t,n,i,void 0,r),i=sd(),e!==null&&!Ut?(od(e,t,r),_i(e,t,r)):(F&&i&&Fh(t),t.flags|=1,Jt(e,t,n,r),t.child)}function Fg(e,t,n,i,r,a){return ra(t),t.updateQueue=null,n=Cp(t,i,n,r),Op(e),i=sd(),e!==null&&!Ut?(od(e,t,a),_i(e,t,a)):(F&&i&&Fh(t),t.flags|=1,Jt(e,t,n,a),t.child)}function Wg(e,t,n,i,r){if(ra(t),t.stateNode===null){var a=Ba,s=n.contextType;typeof s=="object"&&s!==null&&(a=$t(s)),a=new n(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=If,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},nd(t),s=n.contextType,a.context=typeof s=="object"&&s!==null?$t(s):Ba,a.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Rc(t,n,s,i),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&If.enqueueReplaceState(a,a.state,null),$s(t,i,a,r),Ks(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){a=t.stateNode;var o=t.memoizedProps,l=sa(n,o);a.props=l;var c=a.context,h=n.contextType;s=Ba,typeof h=="object"&&h!==null&&(s=$t(h));var m=n.getDerivedStateFromProps;h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==s)&&$g(t,a,i,s),fr=!1;var g=t.memoizedState;a.state=g,$s(t,i,a,r),Ks(),c=t.memoizedState,o||g!==c||fr?(typeof m=="function"&&(Rc(t,n,m,i),c=t.memoizedState),(l=fr||Kg(t,n,l,i,g,c,s))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=s,i=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Df(e,t),s=t.memoizedProps,h=sa(n,s),a.props=h,m=t.pendingProps,g=a.context,c=n.contextType,l=Ba,typeof c=="object"&&c!==null&&(l=$t(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==m||g!==l)&&$g(t,a,i,l),fr=!1,g=t.memoizedState,a.state=g,$s(t,i,a,r),Ks();var d=t.memoizedState;s!==m||g!==d||fr||e!==null&&e.dependencies!==null&&Zl(e.dependencies)?(typeof o=="function"&&(Rc(t,n,o,i),d=t.memoizedState),(h=fr||Kg(t,n,h,i,g,d,l)||e!==null&&e.dependencies!==null&&Zl(e.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,d,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,d,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=d),a.props=i,a.state=d,a.context=l,i=h):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,Ol(e,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&i?(t.child=es(t,e.child,null,r),t.child=es(t,null,n,r)):Jt(e,t,n,r),t.memoizedState=a.state,e=t.child):e=_i(e,t,r),e}function tm(e,t,n,i){return Uo(),t.flags|=256,Jt(e,t,n,i),t.child}var Bc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ic(e){return{baseLanes:e,cachePool:Ap()}}function zc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Je),e}function pv(e,t,n){var i=t.pendingProps,r=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(Rt.current&2)!==0),s&&(r=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(F){if(r?dr(t):gr(),F){var o=pt,l;if(l=o){t:{for(l=o,o=on;l.nodeType!==8;){if(!o){o=null;break t}if(l=Fe(l.nextSibling),l===null){o=null;break t}}o=l}o!==null?(t.memoizedState={dehydrated:o,treeContext:Qr!==null?{id:Ji,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},l=he(18,null,null,0),l.stateNode=o,l.return=t,t.child=l,Qt=t,pt=null,l=!0):l=!1}l||ia(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Zf(o)?t.lanes=32:t.lanes=536870912,null;Hi(t)}return o=i.children,i=i.fallback,r?(gr(),r=t.mode,o=iu({mode:"hidden",children:o},r),i=Zr(i,r,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,r=t.child,r.memoizedState=Ic(n),r.childLanes=zc(e,s,n),t.memoizedState=Bc,i):(dr(t),Uf(t,o))}if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(a)t.flags&256?(dr(t),t.flags&=-257,t=Mc(e,t,n)):t.memoizedState!==null?(gr(),t.child=e.child,t.flags|=128,t=null):(gr(),r=i.fallback,o=t.mode,i=iu({mode:"visible",children:i.children},o),r=Zr(r,o,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,es(t,e.child,null,n),i=t.child,i.memoizedState=Ic(n),i.childLanes=zc(e,s,n),t.memoizedState=Bc,t=r);else if(dr(t),Zf(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,i=Error(N(419)),i.stack="",i.digest=s,uo({value:i,source:null,stack:null}),t=Mc(e,t,n)}else if(Ut||Lo(e,t,n,!1),s=(n&e.childLanes)!==0,Ut||s){if(s=lt,s!==null&&(i=n&-n,i=i&42?1:Ph(i),i=i&(s.suspendedLanes|n)?0:i,i!==0&&i!==l.retryLane))throw l.retryLane=i,Ss(e,i),ve(s,e,i),gv;o.data==="$?"||Vf(),t=Mc(e,t,n)}else o.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,pt=Fe(o.nextSibling),Qt=t,F=!0,_r=null,on=!1,e!==null&&(Ee[Ne++]=Ji,Ee[Ne++]=qi,Ee[Ne++]=Qr,Ji=e.id,qi=e.overflow,Qr=t),t=Uf(t,i.children),t.flags|=4096);return t}return r?(gr(),r=i.fallback,o=t.mode,l=e.child,c=l.sibling,i=Yi(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&65011712,c!==null?r=Yi(c,r):(r=Zr(r,o,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,o=e.child.memoizedState,o===null?o=Ic(n):(l=o.cachePool,l!==null?(c=kt._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Ap(),o={baseLanes:o.baseLanes|n,cachePool:l}),r.memoizedState=o,r.childLanes=zc(e,s,n),t.memoizedState=Bc,i):(dr(t),n=e.child,e=n.sibling,n=Yi(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Uf(e,t){return t=iu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function iu(e,t){return e=he(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Mc(e,t,n){return es(t,e.child,null,n),e=Uf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function em(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Af(e.return,t,n)}function Uc(e,t,n,i,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function vv(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(Jt(e,t,i.children,n),i=Rt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&em(e,n,t);else if(e.tag===19)em(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(dt(Rt,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&tu(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Uc(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&tu(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Uc(t,!0,n,null,a);break;case"together":Uc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _i(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mr|=t.lanes,!(n&t.childLanes))if(e!==null){if(Lo(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=Yi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function yd(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Zl(e)))}function Nb(e,t,n){switch(t.tag){case 3:Hl(t,t.stateNode.containerInfo),hr(t,kt,e.memoizedState.cache),Uo();break;case 27:case 5:ff(t);break;case 4:Hl(t,t.stateNode.containerInfo);break;case 10:hr(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(dr(t),t.flags|=128,null):n&t.child.childLanes?pv(e,t,n):(dr(t),e=_i(e,t,n),e!==null?e.sibling:null);dr(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Lo(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return vv(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),dt(Rt,Rt.current),i)break;return null;case 22:case 23:return t.lanes=0,yv(e,t,n);case 24:hr(t,kt,e.memoizedState.cache)}return _i(e,t,n)}function Sv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ut=!0;else{if(!yd(e,n)&&!(t.flags&128))return Ut=!1,Nb(e,t,n);Ut=!!(e.flags&131072)}else Ut=!1,F&&t.flags&1048576&&bp(t,Xl,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")_h(i)?(e=sa(i,e),t.tag=1,t=Wg(null,t,i,e,n)):(t.tag=0,t=Mf(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===Lh){t.tag=11,t=Zg(null,t,i,e,n);break t}else if(r===Jh){t.tag=14,t=Qg(null,t,i,e,n);break t}}throw t=uf(i)||i,Error(N(306,t,""))}}return t;case 0:return Mf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=sa(i,t.pendingProps),Wg(e,t,i,r,n);case 3:t:{if(Hl(t,t.stateNode.containerInfo),e===null)throw Error(N(387));i=t.pendingProps;var a=t.memoizedState;r=a.element,Df(e,t),$s(t,i,null,n);var s=t.memoizedState;if(i=s.cache,hr(t,kt,i),i!==a.cache&&Ef(t,[kt],n,!0),Ks(),i=s.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=tm(e,t,i,n);break t}else if(i!==r){r=Le(Error(N(424)),t),uo(r),t=tm(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(pt=Fe(e.firstChild),Qt=t,F=!0,_r=null,on=!0,n=ov(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Uo(),i===r){t=_i(e,t,n);break t}Jt(e,t,i,n)}t=t.child}return t;case 26:return Ol(e,t),e===null?(n=vm(t.type,null,t.pendingProps,null))?t.memoizedState=n:F||(n=t.type,e=t.pendingProps,i=cu(wr.current).createElement(n),i[Kt]=t,i[se]=e,Vt(i,n,e),Mt(i),t.stateNode=i):t.memoizedState=vm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ff(t),e===null&&F&&(i=t.stateNode=a0(t.type,t.pendingProps,wr.current),Qt=t,on=!0,r=pt,qr(t.type)?(Qf=r,pt=Fe(i.firstChild)):pt=r),Jt(e,t,t.pendingProps.children,n),Ol(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&F&&((r=i=pt)&&(i=Wb(i,t.type,t.pendingProps,on),i!==null?(t.stateNode=i,Qt=t,pt=Fe(i.firstChild),on=!1,r=!0):r=!1),r||ia(t)),ff(t),r=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,$f(r,a)?i=null:s!==null&&$f(r,s)&&(t.flags|=32),t.memoizedState!==null&&(r=ad(e,t,pb,null,null,n),yo._currentValue=r),Ol(e,t),Jt(e,t,i,n),t.child;case 6:return e===null&&F&&((e=n=pt)&&(n=t1(n,t.pendingProps,on),n!==null?(t.stateNode=n,Qt=t,pt=null,e=!0):e=!1),e||ia(t)),null;case 13:return pv(e,t,n);case 4:return Hl(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=es(t,null,i,n):Jt(e,t,i,n),t.child;case 11:return Zg(e,t,t.type,t.pendingProps,n);case 7:return Jt(e,t,t.pendingProps,n),t.child;case 8:return Jt(e,t,t.pendingProps.children,n),t.child;case 12:return Jt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,hr(t,t.type,i.value),Jt(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,ra(t),r=$t(r),i=i(r),t.flags|=1,Jt(e,t,i,n),t.child;case 14:return Qg(e,t,t.type,t.pendingProps,n);case 15:return mv(e,t,t.type,t.pendingProps,n);case 19:return vv(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=iu(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Yi(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return yv(e,t,n);case 24:return ra(t),i=$t(kt),e===null?(r=ed(),r===null&&(r=lt,a=td(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:i,cache:r},nd(t),hr(t,kt,r)):(e.lanes&n&&(Df(e,t),$s(t,null,null,n),Ks()),r=e.memoizedState,a=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),hr(t,kt,i)):(i=a.cache,hr(t,kt,i),i!==r.cache&&Ef(t,[kt],n,!0))),Jt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(N(156,t.tag))}function Cn(e){e.flags|=4}function nm(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!l0(t)){if(t=Ve.current,t!==null&&((Q&4194048)===Q?Tn!==null:(Q&62914560)!==Q&&!(Q&536870912)||t!==Tn))throw Gs=xf,Ep;e.flags|=8192}}function cl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Yy():536870912,e.lanes|=t,ns|=t)}function Os(e,t){if(!F)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function xb(e,t,n){var i=t.pendingProps;switch(Wh(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return gt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ki(kt),Za(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xs(t)?Cn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bg())),gt(t),null;case 26:return n=t.memoizedState,e===null?(Cn(t),n!==null?(gt(t),nm(t,n)):(gt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Cn(t),gt(t),nm(t,n)):(gt(t),t.flags&=-16777217):(e.memoizedProps!==i&&Cn(t),gt(t),t.flags&=-16777217),null;case 27:Vl(t),n=wr.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Cn(t);else{if(!i){if(t.stateNode===null)throw Error(N(166));return gt(t),null}e=vn.current,xs(t)?kg(t):(e=a0(r,i,n),t.stateNode=e,Cn(t))}return gt(t),null;case 5:if(Vl(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Cn(t);else{if(!i){if(t.stateNode===null)throw Error(N(166));return gt(t),null}if(e=vn.current,xs(t))kg(t);else{switch(r=cu(wr.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[Kt]=t,e[se]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(Vt(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Cn(t)}}return gt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Cn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(N(166));if(e=wr.current,xs(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=Qt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Kt]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||n0(e.nodeValue,n)),e||ia(t)}else e=cu(e).createTextNode(i),e[Kt]=t,t.stateNode=e}return gt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=xs(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(N(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(N(317));r[Kt]=t}else Uo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),r=!1}else r=Bg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Hi(t),t):(Hi(t),null)}if(Hi(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var a=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),cl(t,t.updateQueue),gt(t),null;case 4:return Za(),e===null&&Ed(t.stateNode.containerInfo),gt(t),null;case 10:return Ki(t.type),gt(t),null;case 19:if(Lt(Rt),r=t.memoizedState,r===null)return gt(t),null;if(i=(t.flags&128)!==0,a=r.rendering,a===null)if(i)Os(r,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=tu(e),a!==null){for(t.flags|=128,Os(r,!1),e=a.updateQueue,t.updateQueue=e,cl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Tp(n,e),n=n.sibling;return dt(Rt,Rt.current&1|2),t.child}e=e.sibling}r.tail!==null&&Sn()>au&&(t.flags|=128,i=!0,Os(r,!1),t.lanes=4194304)}else{if(!i)if(e=tu(a),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,cl(t,e),Os(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!F)return gt(t),null}else 2*Sn()-r.renderingStartTime>au&&n!==536870912&&(t.flags|=128,i=!0,Os(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Sn(),t.sibling=null,e=Rt.current,dt(Rt,i?e&1|2:e&1),t):(gt(t),null);case 22:case 23:return Hi(t),id(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),n=t.updateQueue,n!==null&&cl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Lt(Fr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ki(kt),gt(t),null;case 25:return null;case 30:return null}throw Error(N(156,t.tag))}function Db(e,t){switch(Wh(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ki(kt),Za(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Vl(t),null;case 13:if(Hi(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Uo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Lt(Rt),null;case 4:return Za(),null;case 10:return Ki(t.type),null;case 22:case 23:return Hi(t),id(),e!==null&&Lt(Fr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ki(kt),null;case 25:return null;default:return null}}function Tv(e,t){switch(Wh(t),t.tag){case 3:Ki(kt),Za();break;case 26:case 27:case 5:Vl(t);break;case 4:Za();break;case 13:Hi(t);break;case 19:Lt(Rt);break;case 10:Ki(t.type);break;case 22:case 23:Hi(t),id(),e!==null&&Lt(Fr);break;case 24:Ki(kt)}}function Vo(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create,s=n.inst;i=a(),s.destroy=i}n=n.next}while(n!==r)}}catch(o){ot(t,t.return,o)}}function zr(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var a=r.next;i=a;do{if((i.tag&e)===e){var s=i.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,r=t;var l=n,c=o;try{c()}catch(h){ot(r,l,h)}}}i=i.next}while(i!==a)}}catch(h){ot(t,t.return,h)}}function bv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Dp(t,n)}catch(i){ot(e,e.return,i)}}}function wv(e,t,n){n.props=sa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){ot(e,t,i)}}function Zs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){ot(e,t,r)}}function un(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){ot(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){ot(e,t,r)}else n.current=null}function Av(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){ot(e,e.return,r)}}function Lc(e,t,n){try{var i=e.stateNode;Xb(i,e.type,n,t),i[se]=t}catch(r){ot(e,e.return,r)}}function Ev(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qr(e.type)||e.tag===4}function Jc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ev(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=rc));else if(i!==4&&(i===27&&qr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Lf(e,t,n),e=e.sibling;e!==null;)Lf(e,t,n),e=e.sibling}function ru(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&qr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ru(e,t,n),e=e.sibling;e!==null;)ru(e,t,n),e=e.sibling}function Nv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Vt(t,i,n),t[Kt]=e,t[se]=n}catch(a){ot(e,e.return,a)}}var Mi=!1,Et=!1,qc=!1,im=typeof WeakSet=="function"?WeakSet:Set,zt=null;function Ob(e,t){if(e=e.containerInfo,Yf=gu,e=hp(e),Xh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break t}var s=0,o=-1,l=-1,c=0,h=0,m=e,g=null;e:for(;;){for(var d;m!==n||r!==0&&m.nodeType!==3||(o=s+r),m!==a||i!==0&&m.nodeType!==3||(l=s+i),m.nodeType===3&&(s+=m.nodeValue.length),(d=m.firstChild)!==null;)g=m,m=d;for(;;){if(m===e)break e;if(g===n&&++c===r&&(o=s),g===a&&++h===i&&(l=s),(d=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=d}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kf={focusedElem:e,selectionRange:n},gu=!1,zt=t;zt!==null;)if(t=zt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,zt=e;else for(;zt!==null;){switch(t=zt,a=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var A=sa(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(A,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(w){ot(n,n.return,w)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Xf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(N(163))}if(e=t.sibling,e!==null){e.return=t.return,zt=e;break}zt=t.return}}function xv(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:rr(e,n),i&4&&Vo(5,n);break;case 1:if(rr(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){ot(n,n.return,s)}else{var r=sa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){ot(n,n.return,s)}}i&64&&bv(n),i&512&&Zs(n,n.return);break;case 3:if(rr(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Dp(e,t)}catch(s){ot(n,n.return,s)}}break;case 27:t===null&&i&4&&Nv(n);case 26:case 5:rr(e,n),t===null&&i&4&&Av(n),i&512&&Zs(n,n.return);break;case 12:rr(e,n);break;case 13:rr(e,n),i&4&&Cv(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Lb.bind(null,n),e1(e,n))));break;case 22:if(i=n.memoizedState!==null||Mi,!i){t=t!==null&&t.memoizedState!==null||Et,r=Mi;var a=Et;Mi=i,(Et=t)&&!a?or(e,n,(n.subtreeFlags&8772)!==0):rr(e,n),Mi=r,Et=a}break;case 30:break;default:rr(e,n)}}function Dv(e){var t=e.alternate;t!==null&&(e.alternate=null,Dv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Vh(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ft=null,te=!1;function kn(e,t,n){for(n=n.child;n!==null;)Ov(e,t,n),n=n.sibling}function Ov(e,t,n){if(me&&typeof me.onCommitFiberUnmount=="function")try{me.onCommitFiberUnmount(Ro,n)}catch{}switch(n.tag){case 26:Et||un(n,t),kn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Et||un(n,t);var i=ft,r=te;qr(n.type)&&(ft=n.stateNode,te=!1),kn(e,t,n),Ws(n.stateNode),ft=i,te=r;break;case 5:Et||un(n,t);case 6:if(i=ft,r=te,ft=null,kn(e,t,n),ft=i,te=r,ft!==null)if(te)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(n.stateNode)}catch(a){ot(n,t,a)}else try{ft.removeChild(n.stateNode)}catch(a){ot(n,t,a)}break;case 18:ft!==null&&(te?(e=ft,mm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),So(e)):mm(ft,n.stateNode));break;case 4:i=ft,r=te,ft=n.stateNode.containerInfo,te=!0,kn(e,t,n),ft=i,te=r;break;case 0:case 11:case 14:case 15:Et||zr(2,n,t),Et||zr(4,n,t),kn(e,t,n);break;case 1:Et||(un(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&wv(n,t,i)),kn(e,t,n);break;case 21:kn(e,t,n);break;case 22:Et=(i=Et)||n.memoizedState!==null,kn(e,t,n),Et=i;break;default:kn(e,t,n)}}function Cv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{So(e)}catch(n){ot(t,t.return,n)}}function Cb(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new im),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new im),t;default:throw Error(N(435,e.tag))}}function Pc(e,t){var n=Cb(e);t.forEach(function(i){var r=Jb.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function ue(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],a=e,s=t,o=s;t:for(;o!==null;){switch(o.tag){case 27:if(qr(o.type)){ft=o.stateNode,te=!1;break t}break;case 5:ft=o.stateNode,te=!1;break t;case 3:case 4:ft=o.stateNode.containerInfo,te=!0;break t}o=o.return}if(ft===null)throw Error(N(160));Ov(a,s,r),ft=null,te=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)kv(t,e),t=t.sibling}var Ze=null;function kv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ue(t,e),ce(e),i&4&&(zr(3,e,e.return),Vo(3,e),zr(5,e,e.return));break;case 1:ue(t,e),ce(e),i&512&&(Et||n===null||un(n,n.return)),i&64&&Mi&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=Ze;if(ue(t,e),ce(e),i&512&&(Et||n===null||un(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":a=r.getElementsByTagName("title")[0],(!a||a[zo]||a[Kt]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),Vt(a,i,n),a[Kt]=e,Mt(a),i=a;break t;case"link":var s=Tm("link","href",r).get(i+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break e}}a=r.createElement(i),Vt(a,i,n),r.head.appendChild(a);break;case"meta":if(s=Tm("meta","content",r).get(i+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break e}}a=r.createElement(i),Vt(a,i,n),r.head.appendChild(a);break;default:throw Error(N(468,i))}a[Kt]=e,Mt(a),i=a}e.stateNode=i}else bm(r,e.type,e.stateNode);else e.stateNode=Sm(r,i,e.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?bm(r,e.type,e.stateNode):Sm(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Lc(e,e.memoizedProps,n.memoizedProps)}break;case 27:ue(t,e),ce(e),i&512&&(Et||n===null||un(n,n.return)),n!==null&&i&4&&Lc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ue(t,e),ce(e),i&512&&(Et||n===null||un(n,n.return)),e.flags&32){r=e.stateNode;try{_a(r,"")}catch(d){ot(e,e.return,d)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Lc(e,r,n!==null?n.memoizedProps:r)),i&1024&&(qc=!0);break;case 6:if(ue(t,e),ce(e),i&4){if(e.stateNode===null)throw Error(N(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(d){ot(e,e.return,d)}}break;case 3:if(Rl=null,r=Ze,Ze=fu(t.containerInfo),ue(t,e),Ze=r,ce(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{So(t.containerInfo)}catch(d){ot(e,e.return,d)}qc&&(qc=!1,Rv(e));break;case 4:i=Ze,Ze=fu(e.stateNode.containerInfo),ue(t,e),ce(e),Ze=i;break;case 12:ue(t,e),ce(e);break;case 13:ue(t,e),ce(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(bd=Sn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Pc(e,i)));break;case 22:r=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=Mi,h=Et;if(Mi=c||r,Et=h||l,ue(t,e),Et=h,Mi=c,ce(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||l||Mi||Et||Gr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(a=l.stateNode,r)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var m=l.memoizedProps.style,g=m!=null&&m.hasOwnProperty("display")?m.display:null;o.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(d){ot(l,l.return,d)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=r?"":l.memoizedProps}catch(d){ot(l,l.return,d)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Pc(e,n))));break;case 19:ue(t,e),ce(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Pc(e,i)));break;case 30:break;case 21:break;default:ue(t,e),ce(e)}}function ce(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Ev(i)){n=i;break}i=i.return}if(n==null)throw Error(N(160));switch(n.tag){case 27:var r=n.stateNode,a=Jc(e);ru(e,a,r);break;case 5:var s=n.stateNode;n.flags&32&&(_a(s,""),n.flags&=-33);var o=Jc(e);ru(e,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,c=Jc(e);Lf(e,c,l);break;default:throw Error(N(161))}}catch(h){ot(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Rv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function rr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)xv(e,t.alternate,t),t=t.sibling}function Gr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zr(4,t,t.return),Gr(t);break;case 1:un(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&wv(t,t.return,n),Gr(t);break;case 27:Ws(t.stateNode);case 26:case 5:un(t,t.return),Gr(t);break;case 22:t.memoizedState===null&&Gr(t);break;case 30:Gr(t);break;default:Gr(t)}e=e.sibling}}function or(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:or(r,a,n),Vo(4,a);break;case 1:if(or(r,a,n),i=a,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){ot(i,i.return,c)}if(i=a,r=i.updateQueue,r!==null){var o=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(l!==null)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)xp(l[r],o)}catch(c){ot(i,i.return,c)}}n&&s&64&&bv(a),Zs(a,a.return);break;case 27:Nv(a);case 26:case 5:or(r,a,n),n&&i===null&&s&4&&Av(a),Zs(a,a.return);break;case 12:or(r,a,n);break;case 13:or(r,a,n),n&&s&4&&Cv(r,a);break;case 22:a.memoizedState===null&&or(r,a,n),Zs(a,a.return);break;case 30:break;default:or(r,a,n)}t=t.sibling}}function pd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Jo(n))}function vd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Jo(e))}function rn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bv(e,t,n,i),t=t.sibling}function Bv(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:rn(e,t,n,i),r&2048&&Vo(9,t);break;case 1:rn(e,t,n,i);break;case 3:rn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Jo(e)));break;case 12:if(r&2048){rn(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ot(t,t.return,l)}}else rn(e,t,n,i);break;case 13:rn(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,t.memoizedState!==null?a._visibility&2?rn(e,t,n,i):Qs(e,t):a._visibility&2?rn(e,t,n,i):(a._visibility|=2,ba(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&pd(s,t);break;case 24:rn(e,t,n,i),r&2048&&vd(t.alternate,t);break;default:rn(e,t,n,i)}}function ba(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=e,s=t,o=n,l=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:ba(a,s,o,l,r),Vo(8,s);break;case 23:break;case 22:var h=s.stateNode;s.memoizedState!==null?h._visibility&2?ba(a,s,o,l,r):Qs(a,s):(h._visibility|=2,ba(a,s,o,l,r)),r&&c&2048&&pd(s.alternate,s);break;case 24:ba(a,s,o,l,r),r&&c&2048&&vd(s.alternate,s);break;default:ba(a,s,o,l,r)}t=t.sibling}}function Qs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Qs(n,i),r&2048&&pd(i.alternate,i);break;case 24:Qs(n,i),r&2048&&vd(i.alternate,i);break;default:Qs(n,i)}t=t.sibling}}var Ls=8192;function ma(e){if(e.subtreeFlags&Ls)for(e=e.child;e!==null;)Iv(e),e=e.sibling}function Iv(e){switch(e.tag){case 26:ma(e),e.flags&Ls&&e.memoizedState!==null&&g1(Ze,e.memoizedState,e.memoizedProps);break;case 5:ma(e);break;case 3:case 4:var t=Ze;Ze=fu(e.stateNode.containerInfo),ma(e),Ze=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ls,Ls=16777216,ma(e),Ls=t):ma(e));break;default:ma(e)}}function zv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Cs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];zt=i,Uv(i,e)}zv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Mv(e),e=e.sibling}function Mv(e){switch(e.tag){case 0:case 11:case 15:Cs(e),e.flags&2048&&zr(9,e,e.return);break;case 3:Cs(e);break;case 12:Cs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Cl(e)):Cs(e);break;default:Cs(e)}}function Cl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];zt=i,Uv(i,e)}zv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:zr(8,t,t.return),Cl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Cl(t));break;default:Cl(t)}e=e.sibling}}function Uv(e,t){for(;zt!==null;){var n=zt;switch(n.tag){case 0:case 11:case 15:zr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Jo(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,zt=i;else t:for(n=e;zt!==null;){i=zt;var r=i.sibling,a=i.return;if(Dv(i),i===n){zt=null;break t}if(r!==null){r.return=a,zt=r;break t}zt=a}}}var kb={getCacheForType:function(e){var t=$t(kt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Rb=typeof WeakMap=="function"?WeakMap:Map,it=0,lt=null,$=null,Q=0,et=0,fe=null,vr=!1,Ts=!1,Sd=!1,Fi=0,vt=0,Mr=0,Wr=0,Td=0,Je=0,ns=0,_s=null,ee=null,Jf=!1,bd=0,au=1/0,su=null,Nr=null,Pt=0,xr=null,is=null,Ya=0,qf=0,Pf=null,Lv=null,Fs=0,Hf=null;function pe(){if(it&2&&Q!==0)return Q&-Q;if(q.T!==null){var e=Fa;return e!==0?e:Ad()}return Xy()}function Jv(){Je===0&&(Je=!(Q&536870912)||F?Gy():536870912);var e=Ve.current;return e!==null&&(e.flags|=32),Je}function ve(e,t,n){(e===lt&&(et===2||et===9)||e.cancelPendingCommit!==null)&&(rs(e,0),Sr(e,Q,Je,!1)),Io(e,n),(!(it&2)||e!==lt)&&(e===lt&&(!(it&2)&&(Wr|=n),vt===4&&Sr(e,Q,Je,!1)),Dn(e))}function qv(e,t,n){if(it&6)throw Error(N(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Bo(e,t),r=i?zb(e,t):Hc(e,t,!0),a=i;do{if(r===0){Ts&&!i&&Sr(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!Bb(n)){r=Hc(e,t,!1),a=!1;continue}if(r===2){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;t:{var o=e;r=_s;var l=o.current.memoizedState.isDehydrated;if(l&&(rs(o,s).flags|=256),s=Hc(o,s,!1),s!==2){if(Sd&&!l){o.errorRecoveryDisabledLanes|=a,Wr|=a,r=4;break t}a=ee,ee=r,a!==null&&(ee===null?ee=a:ee.push.apply(ee,a))}r=s}if(a=!1,r!==2)continue}}if(r===1){rs(e,0),Sr(e,t,0,!0);break}t:{switch(i=e,a=r,a){case 0:case 1:throw Error(N(345));case 4:if((t&4194048)!==t)break;case 6:Sr(i,t,Je,!vr);break t;case 2:ee=null;break;case 3:case 5:break;default:throw Error(N(329))}if((t&62914560)===t&&(r=bd+300-Sn(),10<r)){if(Sr(i,t,Je,!vr),Yu(i,0,!0)!==0)break t;i.timeoutHandle=r0(rm.bind(null,i,n,ee,su,Jf,t,Je,Wr,ns,vr,a,2,-0,0),r);break t}rm(i,n,ee,su,Jf,t,Je,Wr,ns,vr,a,0,-0,0)}}break}while(!0);Dn(e)}function rm(e,t,n,i,r,a,s,o,l,c,h,m,g,d){if(e.timeoutHandle=-1,m=t.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(mo={stylesheets:null,count:0,unsuspend:d1},Iv(t),m=m1(),m!==null)){e.cancelPendingCommit=m(sm.bind(null,e,t,a,n,i,r,s,o,l,h,1,g,d)),Sr(e,a,s,!c);return}sm(e,t,a,n,i,r,s,o,l)}function Bb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!be(a(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sr(e,t,n,i){t&=~Td,t&=~Wr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-ye(r),s=1<<a;i[a]=-1,r&=~s}n!==0&&Ky(e,n,t)}function ec(){return it&6?!0:(jo(0),!1)}function wd(){if($!==null){if(et===0)var e=$.return;else e=$,Pi=da=null,ld(e),Ga=null,fo=0,e=$;for(;e!==null;)Tv(e.alternate,e),e=e.return;$=null}}function rs(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Qb(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),wd(),lt=e,$=n=Yi(e.current,null),Q=t,et=0,fe=null,vr=!1,Ts=Bo(e,t),Sd=!1,ns=Je=Td=Wr=Mr=vt=0,ee=_s=null,Jf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-ye(i),a=1<<r;t|=e[r],i&=~a}return Fi=t,Zu(),n}function Pv(e,t){j=null,q.H=Wl,t===qo||t===_u?(t=Ug(),et=3):t===Ep?(t=Ug(),et=4):et=t===gv?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,fe=t,$===null&&(vt=1,nu(e,Le(t,e.current)))}function Hv(){var e=q.H;return q.H=Wl,e===null?Wl:e}function Vv(){var e=q.A;return q.A=kb,e}function Vf(){vt=4,vr||(Q&4194048)!==Q&&Ve.current!==null||(Ts=!0),!(Mr&134217727)&&!(Wr&134217727)||lt===null||Sr(lt,Q,Je,!1)}function Hc(e,t,n){var i=it;it|=2;var r=Hv(),a=Vv();(lt!==e||Q!==t)&&(su=null,rs(e,t)),t=!1;var s=vt;t:do try{if(et!==0&&$!==null){var o=$,l=fe;switch(et){case 8:wd(),s=6;break t;case 3:case 2:case 9:case 6:Ve.current===null&&(t=!0);var c=et;if(et=0,fe=null,Ma(e,o,l,c),n&&Ts){s=0;break t}break;default:c=et,et=0,fe=null,Ma(e,o,l,c)}}Ib(),s=vt;break}catch(h){Pv(e,h)}while(!0);return t&&e.shellSuspendCounter++,Pi=da=null,it=i,q.H=r,q.A=a,$===null&&(lt=null,Q=0,Zu()),s}function Ib(){for(;$!==null;)jv($)}function zb(e,t){var n=it;it|=2;var i=Hv(),r=Vv();lt!==e||Q!==t?(su=null,au=Sn()+500,rs(e,t)):Ts=Bo(e,t);t:do try{if(et!==0&&$!==null){t=$;var a=fe;e:switch(et){case 1:et=0,fe=null,Ma(e,t,a,1);break;case 2:case 9:if(Mg(a)){et=0,fe=null,am(t);break}t=function(){et!==2&&et!==9||lt!==e||(et=7),Dn(e)},a.then(t,t);break t;case 3:et=7;break t;case 4:et=5;break t;case 7:Mg(a)?(et=0,fe=null,am(t)):(et=0,fe=null,Ma(e,t,a,7));break;case 5:var s=null;switch($.tag){case 26:s=$.memoizedState;case 5:case 27:var o=$;if(!s||l0(s)){et=0,fe=null;var l=o.sibling;if(l!==null)$=l;else{var c=o.return;c!==null?($=c,nc(c)):$=null}break e}}et=0,fe=null,Ma(e,t,a,5);break;case 6:et=0,fe=null,Ma(e,t,a,6);break;case 8:wd(),vt=6;break t;default:throw Error(N(462))}}Mb();break}catch(h){Pv(e,h)}while(!0);return Pi=da=null,q.H=i,q.A=r,it=n,$!==null?0:(lt=null,Q=0,Zu(),vt)}function Mb(){for(;$!==null&&!iT();)jv($)}function jv(e){var t=Sv(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,t===null?nc(e):$=t}function am(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Fg(n,t,t.pendingProps,t.type,void 0,Q);break;case 11:t=Fg(n,t,t.pendingProps,t.type.render,t.ref,Q);break;case 5:ld(t);default:Tv(n,t),t=$=Tp(t,Fi),t=Sv(n,t,Fi)}e.memoizedProps=e.pendingProps,t===null?nc(e):$=t}function Ma(e,t,n,i){Pi=da=null,ld(t),Ga=null,fo=0;var r=t.return;try{if(Eb(e,r,t,n,Q)){vt=1,nu(e,Le(n,e.current)),$=null;return}}catch(a){if(r!==null)throw $=r,a;vt=1,nu(e,Le(n,e.current)),$=null;return}t.flags&32768?(F||i===1?e=!0:Ts||Q&536870912?e=!1:(vr=e=!0,(i===2||i===9||i===3||i===6)&&(i=Ve.current,i!==null&&i.tag===13&&(i.flags|=16384))),Gv(t,e)):nc(t)}function nc(e){var t=e;do{if(t.flags&32768){Gv(t,vr);return}e=t.return;var n=xb(t.alternate,t,Fi);if(n!==null){$=n;return}if(t=t.sibling,t!==null){$=t;return}$=t=e}while(t!==null);vt===0&&(vt=5)}function Gv(e,t){do{var n=Db(e.alternate,e);if(n!==null){n.flags&=32767,$=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){$=e;return}$=e=n}while(e!==null);vt=6,$=null}function sm(e,t,n,i,r,a,s,o,l){e.cancelPendingCommit=null;do ic();while(Pt!==0);if(it&6)throw Error(N(327));if(t!==null){if(t===e.current)throw Error(N(177));if(a=t.lanes|t.childLanes,a|=Zh,dT(e,n,a,s,o,l),e===lt&&($=lt=null,Q=0),is=t,xr=e,Ya=n,qf=a,Pf=r,Lv=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,qb(jl,function(){return Zv(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=q.T,q.T=null,r=W.p,W.p=2,s=it,it|=4;try{Ob(e,t,n)}finally{it=s,W.p=r,q.T=i}}Pt=1,Yv(),Kv(),$v()}}function Yv(){if(Pt===1){Pt=0;var e=xr,t=is,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=q.T,q.T=null;var i=W.p;W.p=2;var r=it;it|=4;try{kv(t,e);var a=Kf,s=hp(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&fp(o.ownerDocument.documentElement,o)){if(l!==null&&Xh(o)){var c=l.start,h=l.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var m=o.ownerDocument||document,g=m&&m.defaultView||window;if(g.getSelection){var d=g.getSelection(),A=o.textContent.length,w=Math.min(l.start,A),x=l.end===void 0?w:Math.min(l.end,A);!d.extend&&w>x&&(s=x,x=w,w=s);var p=Dg(o,w),y=Dg(o,x);if(p&&y&&(d.rangeCount!==1||d.anchorNode!==p.node||d.anchorOffset!==p.offset||d.focusNode!==y.node||d.focusOffset!==y.offset)){var v=m.createRange();v.setStart(p.node,p.offset),d.removeAllRanges(),w>x?(d.addRange(v),d.extend(y.node,y.offset)):(v.setEnd(y.node,y.offset),d.addRange(v))}}}}for(m=[],d=o;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<m.length;o++){var b=m[o];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}gu=!!Yf,Kf=Yf=null}finally{it=r,W.p=i,q.T=n}}e.current=t,Pt=2}}function Kv(){if(Pt===2){Pt=0;var e=xr,t=is,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=q.T,q.T=null;var i=W.p;W.p=2;var r=it;it|=4;try{xv(e,t.alternate,t)}finally{it=r,W.p=i,q.T=n}}Pt=3}}function $v(){if(Pt===4||Pt===3){Pt=0,rT();var e=xr,t=is,n=Ya,i=Lv;t.subtreeFlags&10256||t.flags&10256?Pt=5:(Pt=0,is=xr=null,Xv(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Nr=null),Hh(n),t=t.stateNode,me&&typeof me.onCommitFiberRoot=="function")try{me.onCommitFiberRoot(Ro,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=q.T,r=W.p,W.p=2,q.T=null;try{for(var a=e.onRecoverableError,s=0;s<i.length;s++){var o=i[s];a(o.value,{componentStack:o.stack})}}finally{q.T=t,W.p=r}}Ya&3&&ic(),Dn(e),r=e.pendingLanes,n&4194090&&r&42?e===Hf?Fs++:(Fs=0,Hf=e):Fs=0,jo(0)}}function Xv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Jo(t)))}function ic(e){return Yv(),Kv(),$v(),Zv()}function Zv(){if(Pt!==5)return!1;var e=xr,t=qf;qf=0;var n=Hh(Ya),i=q.T,r=W.p;try{W.p=32>n?32:n,q.T=null,n=Pf,Pf=null;var a=xr,s=Ya;if(Pt=0,is=xr=null,Ya=0,it&6)throw Error(N(331));var o=it;if(it|=4,Mv(a.current),Bv(a,a.current,s,n),it=o,jo(0,!1),me&&typeof me.onPostCommitFiberRoot=="function")try{me.onPostCommitFiberRoot(Ro,a)}catch{}return!0}finally{W.p=r,q.T=i,Xv(e,t)}}function om(e,t,n){t=Le(n,t),t=zf(e.stateNode,t,2),e=Er(e,t,2),e!==null&&(Io(e,2),Dn(e))}function ot(e,t,n){if(e.tag===3)om(e,e,n);else for(;t!==null;){if(t.tag===3){om(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Nr===null||!Nr.has(i))){e=Le(n,e),n=hv(2),i=Er(t,n,2),i!==null&&(dv(n,i,t,e),Io(i,2),Dn(i));break}}t=t.return}}function Vc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Rb;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(Sd=!0,r.add(n),e=Ub.bind(null,e,t,n),t.then(e,e))}function Ub(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,lt===e&&(Q&n)===n&&(vt===4||vt===3&&(Q&62914560)===Q&&300>Sn()-bd?!(it&2)&&rs(e,0):Td|=n,ns===Q&&(ns=0)),Dn(e)}function Qv(e,t){t===0&&(t=Yy()),e=Ss(e,t),e!==null&&(Io(e,t),Dn(e))}function Lb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Qv(e,n)}function Jb(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(N(314))}i!==null&&i.delete(t),Qv(e,n)}function qb(e,t){return qh(e,t)}var ou=null,wa=null,jf=!1,lu=!1,jc=!1,ta=0;function Dn(e){e!==wa&&e.next===null&&(wa===null?ou=wa=e:wa=wa.next=e),lu=!0,jf||(jf=!0,Hb())}function jo(e,t){if(!jc&&lu){jc=!0;do for(var n=!1,i=ou;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var a=0;else{var s=i.suspendedLanes,o=i.pingedLanes;a=(1<<31-ye(42|e)+1)-1,a&=r&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,lm(i,a))}else a=Q,a=Yu(i,i===lt?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||Bo(i,a)||(n=!0,lm(i,a));i=i.next}while(n);jc=!1}}function Pb(){_v()}function _v(){lu=jf=!1;var e=0;ta!==0&&(Zb()&&(e=ta),ta=0);for(var t=Sn(),n=null,i=ou;i!==null;){var r=i.next,a=Fv(i,t);a===0?(i.next=null,n===null?ou=r:n.next=r,r===null&&(wa=n)):(n=i,(e!==0||a&3)&&(lu=!0)),i=r}jo(e)}function Fv(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var s=31-ye(a),o=1<<s,l=r[s];l===-1?(!(o&n)||o&i)&&(r[s]=hT(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(t=lt,n=Q,n=Yu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(et===2||et===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&mc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Bo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&mc(i),Hh(n)){case 2:case 8:n=Vy;break;case 32:n=jl;break;case 268435456:n=jy;break;default:n=jl}return i=Wv.bind(null,e),n=qh(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&mc(i),e.callbackPriority=2,e.callbackNode=null,2}function Wv(e,t){if(Pt!==0&&Pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ic()&&e.callbackNode!==n)return null;var i=Q;return i=Yu(e,e===lt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(qv(e,i,t),Fv(e,Sn()),e.callbackNode!=null&&e.callbackNode===n?Wv.bind(null,e):null)}function lm(e,t){if(ic())return null;qv(e,t,!0)}function Hb(){_b(function(){it&6?qh(Hy,Pb):_v()})}function Ad(){return ta===0&&(ta=Gy()),ta}function um(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:bl(""+e)}function cm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Vb(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var a=um((r[se]||null).action),s=i.submitter;s&&(t=(t=s[se]||null)?um(t.formAction):s.getAttribute("formAction"),t!==null&&(a=t,s=null));var o=new Ku("action","action",null,i,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ta!==0){var l=s?cm(r,s):new FormData(r);Bf(n,{pending:!0,data:l,method:r.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?cm(r,s):new FormData(r),Bf(n,{pending:!0,data:l,method:r.method,action:a},a,l))},currentTarget:r}]})}}for(var Gc=0;Gc<Tf.length;Gc++){var Yc=Tf[Gc],jb=Yc.toLowerCase(),Gb=Yc[0].toUpperCase()+Yc.slice(1);en(jb,"on"+Gb)}en(gp,"onAnimationEnd");en(mp,"onAnimationIteration");en(yp,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(ob,"onTransitionRun");en(lb,"onTransitionStart");en(ub,"onTransitionCancel");en(pp,"onTransitionEnd");Qa("onMouseEnter",["mouseout","mouseover"]);Qa("onMouseLeave",["mouseout","mouseover"]);Qa("onPointerEnter",["pointerout","pointerover"]);Qa("onPointerLeave",["pointerout","pointerover"]);ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ca("onBeforeInput",["compositionend","keypress","textInput","paste"]);ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ho));function t0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var a=void 0;if(t)for(var s=i.length-1;0<=s;s--){var o=i[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=c;try{a(r)}catch(h){eu(h)}r.currentTarget=null,a=l}else for(s=0;s<i.length;s++){if(o=i[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=c;try{a(r)}catch(h){eu(h)}r.currentTarget=null,a=l}}}}function K(e,t){var n=t[df];n===void 0&&(n=t[df]=new Set);var i=e+"__bubble";n.has(i)||(e0(t,e,2,!1),n.add(i))}function Kc(e,t,n){var i=0;t&&(i|=4),e0(n,e,i,t)}var fl="_reactListening"+Math.random().toString(36).slice(2);function Ed(e){if(!e[fl]){e[fl]=!0,Zy.forEach(function(n){n!=="selectionchange"&&(Yb.has(n)||Kc(n,!1,e),Kc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fl]||(t[fl]=!0,Kc("selectionchange",!1,t))}}function e0(e,t,n,i){switch(d0(t)){case 2:var r=v1;break;case 8:r=S1;break;default:r=Od}n=r.bind(null,t,n,e),r=void 0,!pf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function $c(e,t,n,i,r){var a=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===r)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===r)return;s=s.return}for(;o!==null;){if(s=xa(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){i=a=s;continue t}o=o.parentNode}}i=i.return}ip(function(){var c=a,h=Gh(n),m=[];t:{var g=vp.get(e);if(g!==void 0){var d=Ku,A=e;switch(e){case"keypress":if(Al(n)===0)break t;case"keydown":case"keyup":d=qT;break;case"focusin":A="focus",d=Ac;break;case"focusout":A="blur",d=Ac;break;case"beforeblur":case"afterblur":d=Ac;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=pg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=DT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=VT;break;case gp:case mp:case yp:d=kT;break;case pp:d=GT;break;case"scroll":case"scrollend":d=NT;break;case"wheel":d=KT;break;case"copy":case"cut":case"paste":d=BT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Sg;break;case"toggle":case"beforetoggle":d=XT}var w=(t&4)!==0,x=!w&&(e==="scroll"||e==="scrollend"),p=w?g!==null?g+"Capture":null:g;w=[];for(var y=c,v;y!==null;){var b=y;if(v=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||v===null||p===null||(b=so(y,p),b!=null&&w.push(go(y,b,v))),x)break;y=y.return}0<w.length&&(g=new d(g,A,null,n,h),m.push({event:g,listeners:w}))}}if(!(t&7)){t:{if(g=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",g&&n!==yf&&(A=n.relatedTarget||n.fromElement)&&(xa(A)||A[ps]))break t;if((d||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,d?(A=n.relatedTarget||n.toElement,d=c,A=A?xa(A):null,A!==null&&(x=ko(A),w=A.tag,A!==x||w!==5&&w!==27&&w!==6)&&(A=null)):(d=null,A=c),d!==A)){if(w=pg,b="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(w=Sg,b="onPointerLeave",p="onPointerEnter",y="pointer"),x=d==null?g:Us(d),v=A==null?g:Us(A),g=new w(b,y+"leave",d,n,h),g.target=x,g.relatedTarget=v,b=null,xa(h)===c&&(w=new w(p,y+"enter",A,n,h),w.target=v,w.relatedTarget=x,b=w),x=b,d&&A)e:{for(w=d,p=A,y=0,v=w;v;v=ya(v))y++;for(v=0,b=p;b;b=ya(b))v++;for(;0<y-v;)w=ya(w),y--;for(;0<v-y;)p=ya(p),v--;for(;y--;){if(w===p||p!==null&&w===p.alternate)break e;w=ya(w),p=ya(p)}w=null}else w=null;d!==null&&fm(m,g,d,w,!1),A!==null&&x!==null&&fm(m,x,A,w,!0)}}t:{if(g=c?Us(c):window,d=g.nodeName&&g.nodeName.toLowerCase(),d==="select"||d==="input"&&g.type==="file")var O=Ag;else if(wg(g))if(up)O=rb;else{O=nb;var C=eb}else d=g.nodeName,!d||d.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?c&&jh(c.elementType)&&(O=Ag):O=ib;if(O&&(O=O(e,c))){lp(m,O,n,h);break t}C&&C(e,g,c),e==="focusout"&&c&&g.type==="number"&&c.memoizedProps.value!=null&&mf(g,"number",g.value)}switch(C=c?Us(c):window,e){case"focusin":(wg(C)||C.contentEditable==="true")&&(Ca=C,vf=c,Vs=null);break;case"focusout":Vs=vf=Ca=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,Og(m,n,h);break;case"selectionchange":if(sb)break;case"keydown":case"keyup":Og(m,n,h)}var k;if($h)t:{switch(e){case"compositionstart":var B="onCompositionStart";break t;case"compositionend":B="onCompositionEnd";break t;case"compositionupdate":B="onCompositionUpdate";break t}B=void 0}else Oa?sp(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(ap&&n.locale!=="ko"&&(Oa||B!=="onCompositionStart"?B==="onCompositionEnd"&&Oa&&(k=rp()):(pr=h,Yh="value"in pr?pr.value:pr.textContent,Oa=!0)),C=uu(c,B),0<C.length&&(B=new vg(B,e,null,n,h),m.push({event:B,listeners:C}),k?B.data=k:(k=op(n),k!==null&&(B.data=k)))),(k=QT?_T(e,n):FT(e,n))&&(B=uu(c,"onBeforeInput"),0<B.length&&(C=new vg("onBeforeInput","beforeinput",null,n,h),m.push({event:C,listeners:B}),C.data=k)),Vb(m,e,c,n,h)}t0(m,t)})}function go(e,t,n){return{instance:e,listener:t,currentTarget:n}}function uu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=so(e,n),r!=null&&i.unshift(go(e,r,a)),r=so(e,t),r!=null&&i.push(go(e,r,a))),e.tag===3)return i;e=e.return}return[]}function ya(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fm(e,t,n,i,r){for(var a=t._reactName,s=[];n!==null&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===i)break;o!==5&&o!==26&&o!==27||c===null||(l=c,r?(c=so(n,a),c!=null&&s.unshift(go(n,c,l))):r||(c=so(n,a),c!=null&&s.push(go(n,c,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Kb=/\r\n?/g,$b=/\u0000|\uFFFD/g;function hm(e){return(typeof e=="string"?e:""+e).replace(Kb,`
`).replace($b,"")}function n0(e,t){return t=hm(t),hm(e)===t}function rc(){}function rt(e,t,n,i,r,a){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||_a(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&_a(e,""+i);break;case"className":rl(e,"class",i);break;case"tabIndex":rl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":rl(e,n,i);break;case"style":np(e,i,a);break;case"data":if(t!=="object"){rl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=bl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&rt(e,t,"name",r.name,r,null),rt(e,t,"formEncType",r.formEncType,r,null),rt(e,t,"formMethod",r.formMethod,r,null),rt(e,t,"formTarget",r.formTarget,r,null)):(rt(e,t,"encType",r.encType,r,null),rt(e,t,"method",r.method,r,null),rt(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=bl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=rc);break;case"onScroll":i!=null&&K("scroll",e);break;case"onScrollEnd":i!=null&&K("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(N(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(N(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=bl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":K("beforetoggle",e),K("toggle",e),Tl(e,"popover",i);break;case"xlinkActuate":On(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":On(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":On(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":On(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":On(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":On(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":On(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":On(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":On(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Tl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=AT.get(n)||n,Tl(e,n,i))}}function Gf(e,t,n,i,r,a){switch(n){case"style":np(e,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(N(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(N(60));e.innerHTML=n}}break;case"children":typeof i=="string"?_a(e,i):(typeof i=="number"||typeof i=="bigint")&&_a(e,""+i);break;case"onScroll":i!=null&&K("scroll",e);break;case"onScrollEnd":i!=null&&K("scrollend",e);break;case"onClick":i!=null&&(e.onclick=rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qy.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),a=e[se]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,r),typeof i=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Tl(e,n,i)}}}function Vt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":K("error",e),K("load",e);var i=!1,r=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(N(137,t));default:rt(e,t,a,s,n,null)}}r&&rt(e,t,"srcSet",n.srcSet,n,null),i&&rt(e,t,"src",n.src,n,null);return;case"input":K("invalid",e);var o=a=s=r=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":r=h;break;case"type":s=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":a=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(N(137,t));break;default:rt(e,t,i,h,n,null)}}Wy(e,a,o,l,c,s,r,!1),Gl(e);return;case"select":K("invalid",e),i=s=a=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":i=o;default:rt(e,t,r,o,n,null)}t=a,n=s,e.multiple=!!i,t!=null?qa(e,!!i,t,!1):n!=null&&qa(e,!!i,n,!0);return;case"textarea":K("invalid",e),a=r=i=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":i=o;break;case"defaultValue":r=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(N(91));break;default:rt(e,t,s,o,n,null)}ep(e,i,r,a),Gl(e);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:rt(e,t,l,i,n,null)}return;case"dialog":K("beforetoggle",e),K("toggle",e),K("cancel",e),K("close",e);break;case"iframe":case"object":K("load",e);break;case"video":case"audio":for(i=0;i<ho.length;i++)K(ho[i],e);break;case"image":K("error",e),K("load",e);break;case"details":K("toggle",e);break;case"embed":case"source":case"link":K("error",e),K("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(N(137,t));default:rt(e,t,c,i,n,null)}return;default:if(jh(t)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&Gf(e,t,h,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&rt(e,t,o,i,n,null))}function Xb(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,s=null,o=null,l=null,c=null,h=null;for(d in n){var m=n[d];if(n.hasOwnProperty(d)&&m!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":l=m;default:i.hasOwnProperty(d)||rt(e,t,d,null,i,m)}}for(var g in i){var d=i[g];if(m=n[g],i.hasOwnProperty(g)&&(d!=null||m!=null))switch(g){case"type":a=d;break;case"name":r=d;break;case"checked":c=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(N(137,t));break;default:d!==m&&rt(e,t,g,d,i,m)}}gf(e,s,o,l,c,h,a,r);return;case"select":d=s=o=g=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":d=l;default:i.hasOwnProperty(a)||rt(e,t,a,null,i,l)}for(r in i)if(a=i[r],l=n[r],i.hasOwnProperty(r)&&(a!=null||l!=null))switch(r){case"value":g=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&rt(e,t,r,a,i,l)}t=o,n=s,i=d,g!=null?qa(e,!!n,g,!1):!!i!=!!n&&(t!=null?qa(e,!!n,t,!0):qa(e,!!n,n?[]:"",!1));return;case"textarea":d=g=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:rt(e,t,o,null,i,r)}for(s in i)if(r=i[s],a=n[s],i.hasOwnProperty(s)&&(r!=null||a!=null))switch(s){case"value":g=r;break;case"defaultValue":d=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(N(91));break;default:r!==a&&rt(e,t,s,r,i,a)}tp(e,g,d);return;case"option":for(var A in n)if(g=n[A],n.hasOwnProperty(A)&&g!=null&&!i.hasOwnProperty(A))switch(A){case"selected":e.selected=!1;break;default:rt(e,t,A,null,i,g)}for(l in i)if(g=i[l],d=n[l],i.hasOwnProperty(l)&&g!==d&&(g!=null||d!=null))switch(l){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:rt(e,t,l,g,i,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var w in n)g=n[w],n.hasOwnProperty(w)&&g!=null&&!i.hasOwnProperty(w)&&rt(e,t,w,null,i,g);for(c in i)if(g=i[c],d=n[c],i.hasOwnProperty(c)&&g!==d&&(g!=null||d!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(N(137,t));break;default:rt(e,t,c,g,i,d)}return;default:if(jh(t)){for(var x in n)g=n[x],n.hasOwnProperty(x)&&g!==void 0&&!i.hasOwnProperty(x)&&Gf(e,t,x,void 0,i,g);for(h in i)g=i[h],d=n[h],!i.hasOwnProperty(h)||g===d||g===void 0&&d===void 0||Gf(e,t,h,g,i,d);return}}for(var p in n)g=n[p],n.hasOwnProperty(p)&&g!=null&&!i.hasOwnProperty(p)&&rt(e,t,p,null,i,g);for(m in i)g=i[m],d=n[m],!i.hasOwnProperty(m)||g===d||g==null&&d==null||rt(e,t,m,g,i,d)}var Yf=null,Kf=null;function cu(e){return e.nodeType===9?e:e.ownerDocument}function dm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function $f(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xc=null;function Zb(){var e=window.event;return e&&e.type==="popstate"?e===Xc?!1:(Xc=e,!0):(Xc=null,!1)}var r0=typeof setTimeout=="function"?setTimeout:void 0,Qb=typeof clearTimeout=="function"?clearTimeout:void 0,gm=typeof Promise=="function"?Promise:void 0,_b=typeof queueMicrotask=="function"?queueMicrotask:typeof gm<"u"?function(e){return gm.resolve(null).then(e).catch(Fb)}:r0;function Fb(e){setTimeout(function(){throw e})}function qr(e){return e==="head"}function mm(e,t){var n=t,i=0,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<i&&8>i){n=i;var s=e.ownerDocument;if(n&1&&Ws(s.documentElement),n&2&&Ws(s.body),n&4)for(n=s.head,Ws(n),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[zo]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=o}}if(r===0){e.removeChild(a),So(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=a}while(n);So(t)}function Xf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Xf(n),Vh(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Wb(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[zo])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=Fe(e.nextSibling),e===null)break}return null}function t1(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Fe(e.nextSibling),e===null))return null;return e}function Zf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function e1(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Fe(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Qf=null;function ym(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function a0(e,t,n){switch(t=cu(n),e){case"html":if(e=t.documentElement,!e)throw Error(N(452));return e;case"head":if(e=t.head,!e)throw Error(N(453));return e;case"body":if(e=t.body,!e)throw Error(N(454));return e;default:throw Error(N(451))}}function Ws(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Vh(e)}var je=new Map,pm=new Set;function fu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var er=W.d;W.d={f:n1,r:i1,D:r1,C:a1,L:s1,m:o1,X:u1,S:l1,M:c1};function n1(){var e=er.f(),t=ec();return e||t}function i1(e){var t=vs(e);t!==null&&t.tag===5&&t.type==="form"?Fp(t):er.r(e)}var bs=typeof document>"u"?null:document;function s0(e,t,n){var i=bs;if(i&&typeof t=="string"&&t){var r=Ue(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),pm.has(r)||(pm.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),Vt(t,"link",e),Mt(t),i.head.appendChild(t)))}}function r1(e){er.D(e),s0("dns-prefetch",e,null)}function a1(e,t){er.C(e,t),s0("preconnect",e,t)}function s1(e,t,n){er.L(e,t,n);var i=bs;if(i&&e&&t){var r='link[rel="preload"][as="'+Ue(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Ue(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Ue(n.imageSizes)+'"]')):r+='[href="'+Ue(e)+'"]';var a=r;switch(t){case"style":a=as(e);break;case"script":a=ws(e)}je.has(a)||(e=ct({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),je.set(a,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(Go(a))||t==="script"&&i.querySelector(Yo(a))||(t=i.createElement("link"),Vt(t,"link",e),Mt(t),i.head.appendChild(t)))}}function o1(e,t){er.m(e,t);var n=bs;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Ue(i)+'"][href="'+Ue(e)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=ws(e)}if(!je.has(a)&&(e=ct({rel:"modulepreload",href:e},t),je.set(a,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yo(a)))return}i=n.createElement("link"),Vt(i,"link",e),Mt(i),n.head.appendChild(i)}}}function l1(e,t,n){er.S(e,t,n);var i=bs;if(i&&e){var r=Ja(i).hoistableStyles,a=as(e);t=t||"default";var s=r.get(a);if(!s){var o={loading:0,preload:null};if(s=i.querySelector(Go(a)))o.loading=5;else{e=ct({rel:"stylesheet",href:e,"data-precedence":t},n),(n=je.get(a))&&Nd(e,n);var l=s=i.createElement("link");Mt(l),Vt(l,"link",e),l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,kl(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:o},r.set(a,s)}}}function u1(e,t){er.X(e,t);var n=bs;if(n&&e){var i=Ja(n).hoistableScripts,r=ws(e),a=i.get(r);a||(a=n.querySelector(Yo(r)),a||(e=ct({src:e,async:!0},t),(t=je.get(r))&&xd(e,t),a=n.createElement("script"),Mt(a),Vt(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function c1(e,t){er.M(e,t);var n=bs;if(n&&e){var i=Ja(n).hoistableScripts,r=ws(e),a=i.get(r);a||(a=n.querySelector(Yo(r)),a||(e=ct({src:e,async:!0,type:"module"},t),(t=je.get(r))&&xd(e,t),a=n.createElement("script"),Mt(a),Vt(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function vm(e,t,n,i){var r=(r=wr.current)?fu(r):null;if(!r)throw Error(N(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=as(n.href),n=Ja(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=as(n.href);var a=Ja(r).hoistableStyles,s=a.get(e);if(s||(r=r.ownerDocument||r,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=r.querySelector(Go(e)))&&!a._p&&(s.instance=a,s.state.loading=5),je.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},je.set(e,n),a||f1(r,e,n,s.state))),t&&i===null)throw Error(N(528,""));return s}if(t&&i!==null)throw Error(N(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ws(n),n=Ja(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(N(444,e))}}function as(e){return'href="'+Ue(e)+'"'}function Go(e){return'link[rel="stylesheet"]['+e+"]"}function o0(e){return ct({},e,{"data-precedence":e.precedence,precedence:null})}function f1(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Vt(t,"link",n),Mt(t),e.head.appendChild(t))}function ws(e){return'[src="'+Ue(e)+'"]'}function Yo(e){return"script[async]"+e}function Sm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Ue(n.href)+'"]');if(i)return t.instance=i,Mt(i),i;var r=ct({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Mt(i),Vt(i,"style",r),kl(i,n.precedence,e),t.instance=i;case"stylesheet":r=as(n.href);var a=e.querySelector(Go(r));if(a)return t.state.loading|=4,t.instance=a,Mt(a),a;i=o0(n),(r=je.get(r))&&Nd(i,r),a=(e.ownerDocument||e).createElement("link"),Mt(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Vt(a,"link",i),t.state.loading|=4,kl(a,n.precedence,e),t.instance=a;case"script":return a=ws(n.src),(r=e.querySelector(Yo(a)))?(t.instance=r,Mt(r),r):(i=n,(r=je.get(a))&&(i=ct({},n),xd(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Mt(r),Vt(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(N(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,kl(i,n.precedence,e));return t.instance}function kl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,s=0;s<i.length;s++){var o=i[s];if(o.dataset.precedence===t)a=o;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Nd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function xd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Rl=null;function Tm(e,t,n){if(Rl===null){var i=new Map,r=Rl=new Map;r.set(n,i)}else r=Rl,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[zo]||a[Kt]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(t)||"";s=e+s;var o=i.get(s);o?o.push(a):i.set(s,[a])}}return i}function bm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function h1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function l0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var mo=null;function d1(){}function g1(e,t,n){if(mo===null)throw Error(N(475));var i=mo;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=as(n.href),a=e.querySelector(Go(r));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=hu.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=a,Mt(a);return}a=e.ownerDocument||e,n=o0(n),(r=je.get(r))&&Nd(n,r),a=a.createElement("link"),Mt(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Vt(a,"link",n),t.instance=a}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=hu.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function m1(){if(mo===null)throw Error(N(475));var e=mo;return e.stylesheets&&e.count===0&&_f(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&_f(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function hu(){if(this.count--,this.count===0){if(this.stylesheets)_f(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var du=null;function _f(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,du=new Map,t.forEach(y1,e),du=null,hu.call(e))}function y1(e,t){if(!(t.state.loading&4)){var n=du.get(e);if(n)var i=n.get(null);else{n=new Map,du.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var s=r[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}r=t.instance,s=r.getAttribute("data-precedence"),a=n.get(s)||i,a===i&&n.set(null,r),n.set(s,r),this.count++,i=hu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var yo={$$typeof:Li,Provider:null,Consumer:null,_currentValue:Xr,_currentValue2:Xr,_threadCount:0};function p1(e,t,n,i,r,a,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yc(0),this.hiddenUpdates=yc(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function u0(e,t,n,i,r,a,s,o,l,c,h,m){return e=new p1(e,t,n,s,o,l,c,m),t=1,a===!0&&(t|=24),a=he(3,null,null,t),e.current=a,a.stateNode=e,t=td(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},nd(a),e}function c0(e){return e?(e=Ba,e):Ba}function f0(e,t,n,i,r,a){r=c0(r),i.context===null?i.context=r:i.pendingContext=r,i=Ar(t),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=Er(e,i,t),n!==null&&(ve(n,e,t),Ys(n,e,t))}function wm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Dd(e,t){wm(e,t),(e=e.alternate)&&wm(e,t)}function h0(e){if(e.tag===13){var t=Ss(e,67108864);t!==null&&ve(t,e,67108864),Dd(e,67108864)}}var gu=!0;function v1(e,t,n,i){var r=q.T;q.T=null;var a=W.p;try{W.p=2,Od(e,t,n,i)}finally{W.p=a,q.T=r}}function S1(e,t,n,i){var r=q.T;q.T=null;var a=W.p;try{W.p=8,Od(e,t,n,i)}finally{W.p=a,q.T=r}}function Od(e,t,n,i){if(gu){var r=Ff(i);if(r===null)$c(e,t,i,mu,n),Am(e,i);else if(b1(r,e,t,n,i))i.stopPropagation();else if(Am(e,i),t&4&&-1<T1.indexOf(e)){for(;r!==null;){var a=vs(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Vr(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-ye(s);o.entanglements[1]|=l,s&=~l}Dn(a),!(it&6)&&(au=Sn()+500,jo(0))}}break;case 13:o=Ss(a,2),o!==null&&ve(o,a,2),ec(),Dd(a,2)}if(a=Ff(i),a===null&&$c(e,t,i,mu,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else $c(e,t,i,null,n)}}function Ff(e){return e=Gh(e),Cd(e)}var mu=null;function Cd(e){if(mu=null,e=xa(e),e!==null){var t=ko(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Ly(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return mu=e,null}function d0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aT()){case Hy:return 2;case Vy:return 8;case jl:case sT:return 32;case jy:return 268435456;default:return 32}default:return 32}}var Wf=!1,Dr=null,Or=null,Cr=null,po=new Map,vo=new Map,mr=[],T1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Am(e,t){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":po.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(t.pointerId)}}function ks(e,t,n,i,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},t!==null&&(t=vs(t),t!==null&&h0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function b1(e,t,n,i,r){switch(t){case"focusin":return Dr=ks(Dr,e,t,n,i,r),!0;case"dragenter":return Or=ks(Or,e,t,n,i,r),!0;case"mouseover":return Cr=ks(Cr,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return po.set(a,ks(po.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,vo.set(a,ks(vo.get(a)||null,e,t,n,i,r)),!0}return!1}function g0(e){var t=xa(e.target);if(t!==null){var n=ko(t);if(n!==null){if(t=n.tag,t===13){if(t=Ly(n),t!==null){e.blockedOn=t,gT(e.priority,function(){if(n.tag===13){var i=pe();i=Ph(i);var r=Ss(n,i);r!==null&&ve(r,n,i),Dd(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ff(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);yf=i,n.target.dispatchEvent(i),yf=null}else return t=vs(n),t!==null&&h0(t),e.blockedOn=n,!1;t.shift()}return!0}function Em(e,t,n){Bl(e)&&n.delete(t)}function w1(){Wf=!1,Dr!==null&&Bl(Dr)&&(Dr=null),Or!==null&&Bl(Or)&&(Or=null),Cr!==null&&Bl(Cr)&&(Cr=null),po.forEach(Em),vo.forEach(Em)}function hl(e,t){e.blockedOn===t&&(e.blockedOn=null,Wf||(Wf=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,w1)))}var dl=null;function Nm(e){dl!==e&&(dl=e,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,function(){dl===e&&(dl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(Cd(i||n)===null)continue;break}var a=vs(n);a!==null&&(e.splice(t,3),t-=3,Bf(a,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function So(e){function t(l){return hl(l,e)}Dr!==null&&hl(Dr,e),Or!==null&&hl(Or,e),Cr!==null&&hl(Cr,e),po.forEach(t),vo.forEach(t);for(var n=0;n<mr.length;n++){var i=mr[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<mr.length&&(n=mr[0],n.blockedOn===null);)g0(n),n.blockedOn===null&&mr.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],s=r[se]||null;if(typeof a=="function")s||Nm(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(r=a,s=a[se]||null)o=s.formAction;else if(Cd(r)!==null)continue}else o=s.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),Nm(n)}}}function kd(e){this._internalRoot=e}ac.prototype.render=kd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));var n=t.current,i=pe();f0(n,i,e,t,null,null)};ac.prototype.unmount=kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;f0(e.current,2,null,e,null,null),ec(),t[ps]=null}};function ac(e){this._internalRoot=e}ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mr.length&&t!==0&&t<mr[n].priority;n++);mr.splice(n,0,e),n===0&&g0(e)}};var xm=My.version;if(xm!=="19.1.0")throw Error(N(527,xm,"19.1.0"));W.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=FS(t),e=e!==null?Jy(e):null,e=e===null?null:e.stateNode,e};var A1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{Ro=gl.inject(A1),me=gl}catch{}}ju.createRoot=function(e,t){if(!Uy(e))throw Error(N(299));var n=!1,i="",r=uv,a=cv,s=fv,o=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=u0(e,1,!1,null,null,n,i,r,a,s,o,null),e[ps]=t.current,Ed(e),new kd(t)};ju.hydrateRoot=function(e,t,n){if(!Uy(e))throw Error(N(299));var i=!1,r="",a=uv,s=cv,o=fv,l=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=u0(e,1,!0,t,n??null,i,r,a,s,o,l,c),t.context=c0(null),n=t.current,i=pe(),i=Ph(i),r=Ar(i),r.callback=null,Er(n,r,i),n=i,t.current.lanes=n,Io(t,n),Dn(t),e[ps]=t.current,Ed(e),new ac(t)};ju.version="19.1.0";function m0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m0)}catch(e){console.error(e)}}m0(),wy.exports=ju;var E1=wy.exports;const N1=Sy(E1),x1="@yorkie-js/react",D1="0.6.15",Dm={name:x1,version:D1};var X;(function(e){e[e.Canceled=1]="Canceled",e[e.Unknown=2]="Unknown",e[e.InvalidArgument=3]="InvalidArgument",e[e.DeadlineExceeded=4]="DeadlineExceeded",e[e.NotFound=5]="NotFound",e[e.AlreadyExists=6]="AlreadyExists",e[e.PermissionDenied=7]="PermissionDenied",e[e.ResourceExhausted=8]="ResourceExhausted",e[e.FailedPrecondition=9]="FailedPrecondition",e[e.Aborted=10]="Aborted",e[e.OutOfRange=11]="OutOfRange",e[e.Unimplemented=12]="Unimplemented",e[e.Internal=13]="Internal",e[e.Unavailable=14]="Unavailable",e[e.DataLoss=15]="DataLoss",e[e.Unauthenticated=16]="Unauthenticated"})(X||(X={}));function Om(e){const t=X[e];return typeof t!="string"?e.toString():t[0].toLowerCase()+t.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}class tt extends Error{constructor(t,n=X.Unknown,i,r,a){super(O1(t,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=t,this.code=n,this.metadata=new Headers(i??{}),this.details=r??[],this.cause=a}static from(t,n=X.Unknown){return t instanceof tt?t:t instanceof Error?t.name=="AbortError"?new tt(t.message,X.Canceled):new tt(t.message,n,void 0,void 0,t):new tt(String(t),n,void 0,void 0,t)}static[Symbol.hasInstance](t){return t instanceof Error?Object.getPrototypeOf(t)===tt.prototype?!0:t.name==="ConnectError"&&"code"in t&&typeof t.code=="number"&&"metadata"in t&&"details"in t&&Array.isArray(t.details)&&"rawMessage"in t&&typeof t.rawMessage=="string"&&"cause"in t:!1}findDetails(t){const n="typeName"in t?{findMessage:r=>r===t.typeName?t:void 0}:t,i=[];for(const r of this.details){if("getType"in r){n.findMessage(r.getType().typeName)&&i.push(r);continue}const a=n.findMessage(r.type);if(a)try{i.push(a.fromBinary(r.value))}catch{}}return i}}function O1(e,t){return e.length?`[${Om(t)}] ${e}`:`[${Om(t)}]`}function St(e,t){if(!e)throw new Error(t)}const C1=34028234663852886e22,k1=-34028234663852886e22,R1=4294967295,B1=2147483647,I1=-2147483648;function Il(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>B1||e<I1)throw new Error("invalid int 32: "+e)}function th(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>R1||e<0)throw new Error("invalid uint 32: "+e)}function y0(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>C1||e<k1))throw new Error("invalid float 32: "+e)}const p0=Symbol("@bufbuild/protobuf/enum-type");function z1(e){const t=e[p0];return St(t,"missing enum type on enum object"),t}function v0(e,t,n,i){e[p0]=S0(t,n.map(r=>({no:r.no,name:r.name,localName:e[r.no]})))}function S0(e,t,n){const i=Object.create(null),r=Object.create(null),a=[];for(const s of t){const o=T0(s);a.push(o),i[s.name]=o,r[s.no]=o}return{typeName:e,values:a,findName(s){return i[s]},findNumber(s){return r[s]}}}function M1(e,t,n){const i={};for(const r of t){const a=T0(r);i[a.localName]=a.no,i[a.no]=a.localName}return v0(i,e,t),i}function T0(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class R{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,n){const i=this.getType(),r=i.runtime.bin,a=r.makeReadOptions(n);return r.readMessage(this,a.readerFactory(t),t.byteLength,a),this}fromJson(t,n){const i=this.getType(),r=i.runtime.json,a=r.makeReadOptions(n);return r.readMessage(i,t,a,this),this}fromJsonString(t,n){let i;try{i=JSON.parse(t)}catch(r){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${r instanceof Error?r.message:String(r)}`)}return this.fromJson(i,n)}toBinary(t){const n=this.getType(),i=n.runtime.bin,r=i.makeWriteOptions(t),a=r.writerFactory();return i.writeMessage(this,a,r),a.finish()}toJson(t){const n=this.getType(),i=n.runtime.json,r=i.makeWriteOptions(t);return i.writeMessage(this,r)}toJsonString(t){var n;const i=this.toJson(t);return JSON.stringify(i,null,(n=t==null?void 0:t.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function U1(e,t,n,i){var r;const a=(r=i==null?void 0:i.localName)!==null&&r!==void 0?r:t.substring(t.lastIndexOf(".")+1),s={[a]:function(o){e.util.initFields(this),e.util.initPartial(o,this)}}[a];return Object.setPrototypeOf(s.prototype,new R),Object.assign(s,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary(o,l){return new s().fromBinary(o,l)},fromJson(o,l){return new s().fromJson(o,l)},fromJsonString(o,l){return new s().fromJsonString(o,l)},equals(o,l){return e.util.equals(s,o,l)}}),s}function L1(){let e=0,t=0;for(let i=0;i<28;i+=7){let r=this.buf[this.pos++];if(e|=(r&127)<<i,!(r&128))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(n&15)<<28,t=(n&112)>>4,!(n&128))return this.assertBounds(),[e,t];for(let i=3;i<=31;i+=7){let r=this.buf[this.pos++];if(t|=(r&127)<<i,!(r&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function Zc(e,t,n){for(let a=0;a<28;a=a+7){const s=e>>>a,o=!(!(s>>>7)&&t==0),l=(o?s|128:s)&255;if(n.push(l),!o)return}const i=e>>>28&15|(t&7)<<4,r=!!(t>>3);if(n.push((r?i|128:i)&255),!!r){for(let a=3;a<31;a=a+7){const s=t>>>a,o=!!(s>>>7),l=(o?s|128:s)&255;if(n.push(l),!o)return}n.push(t>>>31&1)}}const zl=4294967296;function Cm(e){const t=e[0]==="-";t&&(e=e.slice(1));const n=1e6;let i=0,r=0;function a(s,o){const l=Number(e.slice(s,o));r*=n,i=i*n+l,i>=zl&&(r=r+(i/zl|0),i=i%zl)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),t?w0(i,r):Rd(i,r)}function J1(e,t){let n=Rd(e,t);const i=n.hi&2147483648;i&&(n=w0(n.lo,n.hi));const r=b0(n.lo,n.hi);return i?"-"+r:r}function b0(e,t){if({lo:e,hi:t}=q1(e,t),t<=2097151)return String(zl*t+e);const n=e&16777215,i=(e>>>24|t<<8)&16777215,r=t>>16&65535;let a=n+i*6777216+r*6710656,s=i+r*8147497,o=r*2;const l=1e7;return a>=l&&(s+=Math.floor(a/l),a%=l),s>=l&&(o+=Math.floor(s/l),s%=l),o.toString()+km(s)+km(a)}function q1(e,t){return{lo:e>>>0,hi:t>>>0}}function Rd(e,t){return{lo:e|0,hi:t|0}}function w0(e,t){return t=~t,e?e=~e+1:t+=1,Rd(e,t)}const km=e=>{const t=String(e);return"0000000".slice(t.length)+t};function Rm(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let n=0;n<9;n++)t.push(e&127|128),e=e>>7;t.push(1)}}function P1(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let n=5;e&128&&n<10;n++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}var Bm={};function H1(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof process!="object"||typeof Bm!="object"||Bm.BUF_BIGINT_DISABLE!=="1")){const r=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),s=BigInt("0"),o=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>a||c<r)throw new Error(`int64 invalid: ${l}`);return c},uParse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>o||c<s)throw new Error(`uint64 invalid: ${l}`);return c},enc(l){return e.setBigInt64(0,this.parse(l),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(l){return e.setBigInt64(0,this.uParse(l),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(l,c){return e.setInt32(0,l,!0),e.setInt32(4,c,!0),e.getBigInt64(0,!0)},uDec(l,c){return e.setInt32(0,l,!0),e.setInt32(4,c,!0),e.getBigUint64(0,!0)}}}const n=r=>St(/^-?[0-9]+$/.test(r),`int64 invalid: ${r}`),i=r=>St(/^[0-9]+$/.test(r),`uint64 invalid: ${r}`);return{zero:"0",supported:!1,parse(r){return typeof r!="string"&&(r=r.toString()),n(r),r},uParse(r){return typeof r!="string"&&(r=r.toString()),i(r),r},enc(r){return typeof r!="string"&&(r=r.toString()),n(r),Cm(r)},uEnc(r){return typeof r!="string"&&(r=r.toString()),i(r),Cm(r)},dec(r,a){return J1(r,a)},uDec(r,a){return b0(r,a)}}}const ut=H1();var E;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(E||(E={}));var Ur;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"})(Ur||(Ur={}));function ar(e,t,n){if(t===n)return!0;if(e==E.BYTES){if(!(t instanceof Uint8Array)||!(n instanceof Uint8Array)||t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==n[i])return!1;return!0}switch(e){case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return t==n}return!1}function ss(e,t){switch(e){case E.BOOL:return!1;case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return t==0?ut.zero:"0";case E.DOUBLE:case E.FLOAT:return 0;case E.BYTES:return new Uint8Array(0);case E.STRING:return"";default:return 0}}function A0(e,t){switch(e){case E.BOOL:return t===!1;case E.STRING:return t==="";case E.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}var xt;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(xt||(xt={}));class V1{constructor(t){this.stack=[],this.textEncoder=t??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let r=0;r<this.chunks.length;r++)t+=this.chunks[r].length;let n=new Uint8Array(t),i=0;for(let r=0;r<this.chunks.length;r++)n.set(this.chunks[r],i),i+=this.chunks[r].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,n){return this.uint32((t<<3|n)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(th(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return Il(t),Rm(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let n=this.textEncoder.encode(t);return this.uint32(n.byteLength),this.raw(n)}float(t){y0(t);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,t,!0),this.raw(n)}double(t){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),this.raw(n)}fixed32(t){th(t);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t,!0),this.raw(n)}sfixed32(t){Il(t);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),this.raw(n)}sint32(t){return Il(t),t=(t<<1^t>>31)>>>0,Rm(t,this.buf),this}sfixed64(t){let n=new Uint8Array(8),i=new DataView(n.buffer),r=ut.enc(t);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}fixed64(t){let n=new Uint8Array(8),i=new DataView(n.buffer),r=ut.uEnc(t);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}int64(t){let n=ut.enc(t);return Zc(n.lo,n.hi,this.buf),this}sint64(t){let n=ut.enc(t),i=n.hi>>31,r=n.lo<<1^i,a=(n.hi<<1|n.lo>>>31)^i;return Zc(r,a,this.buf),this}uint64(t){let n=ut.uEnc(t);return Zc(n.lo,n.hi,this.buf),this}}class j1{constructor(t,n){this.varint64=L1,this.uint32=P1,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=n??new TextDecoder}tag(){let t=this.uint32(),n=t>>>3,i=t&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(t,n){let i=this.pos;switch(t){case xt.Varint:for(;this.buf[this.pos++]&128;);break;case xt.Bit64:this.pos+=4;case xt.Bit32:this.pos+=4;break;case xt.LengthDelimited:let r=this.uint32();this.pos+=r;break;case xt.StartGroup:for(;;){const[a,s]=this.tag();if(s===xt.EndGroup){if(n!==void 0&&a!==n)throw new Error("invalid end group tag");break}this.skip(s,a)}break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return ut.dec(...this.varint64())}uint64(){return ut.uDec(...this.varint64())}sint64(){let[t,n]=this.varint64(),i=-(t&1);return t=(t>>>1|(n&1)<<31)^i,n=n>>>1^i,ut.dec(t,n)}bool(){let[t,n]=this.varint64();return t!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return ut.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return ut.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),n=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(n,n+t)}string(){return this.textDecoder.decode(this.bytes())}}function G1(e,t,n,i){let r;return{typeName:t,extendee:n,get field(){if(!r){const a=typeof i=="function"?i():i;a.name=t.split(".").pop(),a.jsonName=`[${t}]`,r=e.util.newFieldList([a]).list()[0]}return r},runtime:e}}function E0(e){const t=e.field.localName,n=Object.create(null);return n[t]=Y1(e),[n,()=>n[t]]}function Y1(e){const t=e.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return ss(t.T,t.L);case"message":const n=t.T,i=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(i):i;case"map":throw"map fields are not allowed to be extensions"}}function K1(e,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.no)return[e[n]];return[]}return e.filter(n=>n.no===t.no)}let Ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),sc=[];for(let e=0;e<Ui.length;e++)sc[Ui[e].charCodeAt(0)]=e;sc[45]=Ui.indexOf("+");sc[95]=Ui.indexOf("/");const Bd={dec(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let n=new Uint8Array(t),i=0,r=0,a,s=0;for(let o=0;o<e.length;o++){if(a=sc[e.charCodeAt(o)],a===void 0)switch(e[o]){case"=":r=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(r){case 0:s=a,r=1;break;case 1:n[i++]=s<<2|(a&48)>>4,s=a,r=2;break;case 2:n[i++]=(s&15)<<4|(a&60)>>2,s=a,r=3;break;case 3:n[i++]=(s&3)<<6|a,r=0;break}}if(r==1)throw Error("invalid base64 string.");return n.subarray(0,i)},enc(e){let t="",n=0,i,r=0;for(let a=0;a<e.length;a++)switch(i=e[a],n){case 0:t+=Ui[i>>2],r=(i&3)<<4,n=1;break;case 1:t+=Ui[r|i>>4],r=(i&15)<<2,n=2;break;case 2:t+=Ui[r|i>>6],t+=Ui[i&63],n=0;break}return n&&(t+=Ui[r],t+="=",n==1&&(t+="=")),t}};function $1(e,t,n){x0(t,e);const i=t.runtime.bin.makeReadOptions(n),r=K1(e.getType().runtime.bin.listUnknownFields(e),t.field),[a,s]=E0(t);for(const o of r)t.runtime.bin.readField(a,i.readerFactory(o.data),t.field,o.wireType,i);return s()}function X1(e,t,n,i){x0(t,e);const r=t.runtime.bin.makeReadOptions(i),a=t.runtime.bin.makeWriteOptions(i);if(N0(e,t)){const c=e.getType().runtime.bin.listUnknownFields(e).filter(h=>h.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const h of c)e.getType().runtime.bin.onUnknownField(e,h.no,h.wireType,h.data)}const s=a.writerFactory();let o=t.field;!o.opt&&!o.repeated&&(o.kind=="enum"||o.kind=="scalar")&&(o=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(o,n,s,a);const l=r.readerFactory(s.finish());for(;l.pos<l.len;){const[c,h]=l.tag(),m=l.skip(h,c);e.getType().runtime.bin.onUnknownField(e,c,h,m)}}function N0(e,t){const n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find(i=>i.no==t.field.no)}function x0(e,t){St(e.extendee.typeName==t.getType().typeName,`extension ${e.typeName} can only be applied to message ${e.extendee.typeName}`)}function D0(e,t){const n=e.localName;if(e.repeated)return t[n].length>0;if(e.oneof)return t[e.oneof.localName].case===n;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?t[n]!==void 0:e.kind=="enum"?t[n]!==e.T.values[0].no:!A0(e.T,t[n]);case"message":return t[n]!==void 0;case"map":return Object.keys(t[n]).length>0}}function Im(e,t){const n=e.localName,i=!e.opt&&!e.req;if(e.repeated)t[n]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[n]={};break;case"enum":t[n]=i?e.T.values[0].no:void 0;break;case"scalar":t[n]=i?ss(e.T,e.L):void 0;break;case"message":t[n]=void 0;break}}function ea(e,t){if(e===null||typeof e!="object"||!Object.getOwnPropertyNames(R.prototype).every(i=>i in e&&typeof e[i]=="function"))return!1;const n=e.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:t===void 0?!0:n.typeName==t.typeName}function O0(e,t){return ea(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}E.DOUBLE,E.FLOAT,E.INT64,E.UINT64,E.INT32,E.UINT32,E.BOOL,E.STRING,E.BYTES;const zm={ignoreUnknownFields:!1},Mm={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function Z1(e){return e?Object.assign(Object.assign({},zm),e):zm}function Q1(e){return e?Object.assign(Object.assign({},Mm),e):Mm}const yu=Symbol(),Ml=Symbol();function _1(){return{makeReadOptions:Z1,makeWriteOptions:Q1,readMessage(e,t,n,i){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message ${e.typeName} from JSON: ${sn(t)}`);i=i??new e;const r=new Map,a=n.typeRegistry;for(const[s,o]of Object.entries(t)){const l=e.fields.findJsonName(s);if(l){if(l.oneof){if(o===null&&l.kind=="scalar")continue;const c=r.get(l.oneof);if(c!==void 0)throw new Error(`cannot decode message ${e.typeName} from JSON: multiple keys for oneof "${l.oneof.name}" present: "${c}", "${s}"`);r.set(l.oneof,s)}Um(i,o,l,n,e)}else{let c=!1;if(a!=null&&a.findExtension&&s.startsWith("[")&&s.endsWith("]")){const h=a.findExtension(s.substring(1,s.length-1));if(h&&h.extendee.typeName==e.typeName){c=!0;const[m,g]=E0(h);Um(m,o,h.field,n,h),X1(i,h,g(),n)}}if(!c&&!n.ignoreUnknownFields)throw new Error(`cannot decode message ${e.typeName} from JSON: key "${s}" is unknown`)}}return i},writeMessage(e,t){const n=e.getType(),i={};let r;try{for(r of n.fields.byNumber()){if(!D0(r,e)){if(r.req)throw"required field not set";if(!t.emitDefaultValues||!W1(r))continue}const s=r.oneof?e[r.oneof.localName].value:e[r.localName],o=Lm(r,s,t);o!==void 0&&(i[t.useProtoFieldName?r.name:r.jsonName]=o)}const a=t.typeRegistry;if(a!=null&&a.findExtensionFor)for(const s of n.runtime.bin.listUnknownFields(e)){const o=a.findExtensionFor(n.typeName,s.no);if(o&&N0(e,o)){const l=$1(e,o,t),c=Lm(o.field,l,t);c!==void 0&&(i[o.field.jsonName]=c)}}}catch(a){const s=r?`cannot encode field ${n.typeName}.${r.name} to JSON`:`cannot encode message ${n.typeName} to JSON`,o=a instanceof Error?a.message:String(a);throw new Error(s+(o.length>0?`: ${o}`:""))}return i},readScalar(e,t,n){return to(e,t,n??Ur.BIGINT,!0)},writeScalar(e,t,n){if(t!==void 0&&(n||A0(e,t)))return Ul(e,t)},debug:sn}}function sn(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":`"${e.split('"').join('\\"')}"`;default:return String(e)}}function Um(e,t,n,i,r){let a=n.localName;if(n.repeated){if(St(n.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${sn(t)}`);const s=e[a];for(const o of t){if(o===null)throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${sn(o)}`);switch(n.kind){case"message":s.push(n.T.fromJson(o,i));break;case"enum":const l=Qc(n.T,o,i.ignoreUnknownFields,!0);l!==Ml&&s.push(l);break;case"scalar":try{s.push(to(n.T,o,n.L,!0))}catch(c){let h=`cannot decode field ${r.typeName}.${n.name} from JSON: ${sn(o)}`;throw c instanceof Error&&c.message.length>0&&(h+=`: ${c.message}`),new Error(h)}break}}}else if(n.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${sn(t)}`);const s=e[a];for(const[o,l]of Object.entries(t)){if(l===null)throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: map value null`);let c;try{c=F1(n.K,o)}catch(h){let m=`cannot decode map key for field ${r.typeName}.${n.name} from JSON: ${sn(t)}`;throw h instanceof Error&&h.message.length>0&&(m+=`: ${h.message}`),new Error(m)}switch(n.V.kind){case"message":s[c]=n.V.T.fromJson(l,i);break;case"enum":const h=Qc(n.V.T,l,i.ignoreUnknownFields,!0);h!==Ml&&(s[c]=h);break;case"scalar":try{s[c]=to(n.V.T,l,Ur.BIGINT,!0)}catch(m){let g=`cannot decode map value for field ${r.typeName}.${n.name} from JSON: ${sn(t)}`;throw m instanceof Error&&m.message.length>0&&(g+=`: ${m.message}`),new Error(g)}break}}}else switch(n.oneof&&(e=e[n.oneof.localName]={case:a},a="value"),n.kind){case"message":const s=n.T;if(t===null&&s.typeName!="google.protobuf.Value")return;let o=e[a];ea(o)?o.fromJson(t,i):(e[a]=o=s.fromJson(t,i),s.fieldWrapper&&!n.oneof&&(e[a]=s.fieldWrapper.unwrapField(o)));break;case"enum":const l=Qc(n.T,t,i.ignoreUnknownFields,!1);switch(l){case yu:Im(n,e);break;case Ml:break;default:e[a]=l;break}break;case"scalar":try{const c=to(n.T,t,n.L,!1);switch(c){case yu:Im(n,e);break;default:e[a]=c;break}}catch(c){let h=`cannot decode field ${r.typeName}.${n.name} from JSON: ${sn(t)}`;throw c instanceof Error&&c.message.length>0&&(h+=`: ${c.message}`),new Error(h)}break}}function F1(e,t){if(e===E.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1;break}return to(e,t,Ur.BIGINT,!0).toString()}function to(e,t,n,i){if(t===null)return i?ss(e,n):yu;switch(e){case E.DOUBLE:case E.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const r=Number(t);if(Number.isNaN(r)||!Number.isFinite(r))break;return e==E.FLOAT&&y0(r),r;case E.INT32:case E.FIXED32:case E.SFIXED32:case E.SINT32:case E.UINT32:let a;if(typeof t=="number"?a=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(a=Number(t)),a===void 0)break;return e==E.UINT32||e==E.FIXED32?th(a):Il(a),a;case E.INT64:case E.SFIXED64:case E.SINT64:if(typeof t!="number"&&typeof t!="string")break;const s=ut.parse(t);return n?s.toString():s;case E.FIXED64:case E.UINT64:if(typeof t!="number"&&typeof t!="string")break;const o=ut.uParse(t);return n?o.toString():o;case E.BOOL:if(typeof t!="boolean")break;return t;case E.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch{throw new Error("invalid UTF8")}return t;case E.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return Bd.dec(t)}throw new Error}function Qc(e,t,n,i){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:i?e.values[0].no:yu;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const r=e.findName(t);if(r!==void 0)return r.no;if(n)return Ml;break}throw new Error(`cannot decode enum ${e.typeName} from JSON: ${sn(t)}`)}function W1(e){return e.repeated||e.kind=="map"?!0:!(e.oneof||e.kind=="message"||e.opt||e.req)}function Lm(e,t,n){if(e.kind=="map"){St(typeof t=="object"&&t!=null);const i={},r=Object.entries(t);switch(e.V.kind){case"scalar":for(const[s,o]of r)i[s.toString()]=Ul(e.V.T,o);break;case"message":for(const[s,o]of r)i[s.toString()]=o.toJson(n);break;case"enum":const a=e.V.T;for(const[s,o]of r)i[s.toString()]=_c(a,o,n.enumAsInteger);break}return n.emitDefaultValues||r.length>0?i:void 0}if(e.repeated){St(Array.isArray(t));const i=[];switch(e.kind){case"scalar":for(let r=0;r<t.length;r++)i.push(Ul(e.T,t[r]));break;case"enum":for(let r=0;r<t.length;r++)i.push(_c(e.T,t[r],n.enumAsInteger));break;case"message":for(let r=0;r<t.length;r++)i.push(t[r].toJson(n));break}return n.emitDefaultValues||i.length>0?i:void 0}switch(e.kind){case"scalar":return Ul(e.T,t);case"enum":return _c(e.T,t,n.enumAsInteger);case"message":return O0(e.T,t).toJson(n)}}function _c(e,t,n){var i;if(St(typeof t=="number"),e.typeName=="google.protobuf.NullValue")return null;if(n)return t;const r=e.findNumber(t);return(i=r==null?void 0:r.name)!==null&&i!==void 0?i:t}function Ul(e,t){switch(e){case E.INT32:case E.SFIXED32:case E.SINT32:case E.FIXED32:case E.UINT32:return St(typeof t=="number"),t;case E.FLOAT:case E.DOUBLE:return St(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case E.STRING:return St(typeof t=="string"),t;case E.BOOL:return St(typeof t=="boolean"),t;case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return St(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case E.BYTES:return St(t instanceof Uint8Array),Bd.enc(t)}}const pa=Symbol("@bufbuild/protobuf/unknown-fields"),Jm={readUnknownFields:!0,readerFactory:e=>new j1(e)},qm={writeUnknownFields:!0,writerFactory:()=>new V1};function tw(e){return e?Object.assign(Object.assign({},Jm),e):Jm}function ew(e){return e?Object.assign(Object.assign({},qm),e):qm}function nw(){return{makeReadOptions:tw,makeWriteOptions:ew,listUnknownFields(e){var t;return(t=e[pa])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[pa]},writeUnknownFields(e,t){const i=e[pa];if(i)for(const r of i)t.tag(r.no,r.wireType).raw(r.data)},onUnknownField(e,t,n,i){const r=e;Array.isArray(r[pa])||(r[pa]=[]),r[pa].push({no:t,wireType:n,data:i})},readMessage(e,t,n,i,r){const a=e.getType(),s=r?t.len:t.pos+n;let o,l;for(;t.pos<s&&([o,l]=t.tag(),!(r===!0&&l==xt.EndGroup));){const c=a.fields.find(o);if(!c){const h=t.skip(l,o);i.readUnknownFields&&this.onUnknownField(e,o,l,h);continue}Pm(e,t,c,l,i)}if(r&&(l!=xt.EndGroup||o!==n))throw new Error("invalid end group tag")},readField:Pm,writeMessage(e,t,n){const i=e.getType();for(const r of i.fields.byNumber()){if(!D0(r,e)){if(r.req)throw new Error(`cannot encode field ${i.typeName}.${r.name} to binary: required field not set`);continue}const a=r.oneof?e[r.oneof.localName].value:e[r.localName];Hm(r,a,t,n)}return n.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,n,i){t!==void 0&&Hm(e,t,n,i)}}}function Pm(e,t,n,i,r){let{repeated:a,localName:s}=n;switch(n.oneof&&(e=e[n.oneof.localName],e.case!=s&&delete e.value,e.case=s,s="value"),n.kind){case"scalar":case"enum":const o=n.kind=="enum"?E.INT32:n.T;let l=pu;if(n.kind=="scalar"&&n.L>0&&(l=rw),a){let g=e[s];if(i==xt.LengthDelimited&&o!=E.STRING&&o!=E.BYTES){let A=t.uint32()+t.pos;for(;t.pos<A;)g.push(l(t,o))}else g.push(l(t,o))}else e[s]=l(t,o);break;case"message":const c=n.T;a?e[s].push(Ll(t,new c,r,n)):ea(e[s])?Ll(t,e[s],r,n):(e[s]=Ll(t,new c,r,n),c.fieldWrapper&&!n.oneof&&!n.repeated&&(e[s]=c.fieldWrapper.unwrapField(e[s])));break;case"map":let[h,m]=iw(n,t,r);e[s][h]=m;break}}function Ll(e,t,n,i){const r=t.getType().runtime.bin,a=i==null?void 0:i.delimited;return r.readMessage(t,e,a?i.no:e.uint32(),n,a),t}function iw(e,t,n){const i=t.uint32(),r=t.pos+i;let a,s;for(;t.pos<r;){const[o]=t.tag();switch(o){case 1:a=pu(t,e.K);break;case 2:switch(e.V.kind){case"scalar":s=pu(t,e.V.T);break;case"enum":s=t.int32();break;case"message":s=Ll(t,new e.V.T,n,void 0);break}break}}if(a===void 0&&(a=ss(e.K,Ur.BIGINT)),typeof a!="string"&&typeof a!="number"&&(a=a.toString()),s===void 0)switch(e.V.kind){case"scalar":s=ss(e.V.T,Ur.BIGINT);break;case"enum":s=e.V.T.values[0].no;break;case"message":s=new e.V.T;break}return[a,s]}function rw(e,t){const n=pu(e,t);return typeof n=="bigint"?n.toString():n}function pu(e,t){switch(t){case E.STRING:return e.string();case E.BOOL:return e.bool();case E.DOUBLE:return e.double();case E.FLOAT:return e.float();case E.INT32:return e.int32();case E.INT64:return e.int64();case E.UINT64:return e.uint64();case E.FIXED64:return e.fixed64();case E.BYTES:return e.bytes();case E.FIXED32:return e.fixed32();case E.SFIXED32:return e.sfixed32();case E.SFIXED64:return e.sfixed64();case E.SINT64:return e.sint64();case E.UINT32:return e.uint32();case E.SINT32:return e.sint32()}}function Hm(e,t,n,i){St(t!==void 0);const r=e.repeated;switch(e.kind){case"scalar":case"enum":let a=e.kind=="enum"?E.INT32:e.T;if(r)if(St(Array.isArray(t)),e.packed)sw(n,a,e.no,t);else for(const s of t)eo(n,a,e.no,s);else eo(n,a,e.no,t);break;case"message":if(r){St(Array.isArray(t));for(const s of t)Vm(n,i,e,s)}else Vm(n,i,e,t);break;case"map":St(typeof t=="object"&&t!=null);for(const[s,o]of Object.entries(t))aw(n,i,e,s,o);break}}function aw(e,t,n,i,r){e.tag(n.no,xt.LengthDelimited),e.fork();let a=i;switch(n.K){case E.INT32:case E.FIXED32:case E.UINT32:case E.SFIXED32:case E.SINT32:a=Number.parseInt(i);break;case E.BOOL:St(i=="true"||i=="false"),a=i=="true";break}switch(eo(e,n.K,1,a),n.V.kind){case"scalar":eo(e,n.V.T,2,r);break;case"enum":eo(e,E.INT32,2,r);break;case"message":St(r!==void 0),e.tag(2,xt.LengthDelimited).bytes(r.toBinary(t));break}e.join()}function Vm(e,t,n,i){const r=O0(n.T,i);n.delimited?e.tag(n.no,xt.StartGroup).raw(r.toBinary(t)).tag(n.no,xt.EndGroup):e.tag(n.no,xt.LengthDelimited).bytes(r.toBinary(t))}function eo(e,t,n,i){St(i!==void 0);let[r,a]=C0(t);e.tag(n,r)[a](i)}function sw(e,t,n,i){if(!i.length)return;e.tag(n,xt.LengthDelimited).fork();let[,r]=C0(t);for(let a=0;a<i.length;a++)e[r](i[a]);e.join()}function C0(e){let t=xt.Varint;switch(e){case E.BYTES:case E.STRING:t=xt.LengthDelimited;break;case E.DOUBLE:case E.FIXED64:case E.SFIXED64:t=xt.Bit64;break;case E.FIXED32:case E.SFIXED32:case E.FLOAT:t=xt.Bit32;break}const n=E[e].toLowerCase();return[t,n]}function ow(){return{setEnumType:v0,initPartial(e,t){if(e===void 0)return;const n=t.getType();for(const i of n.fields.byMember()){const r=i.localName,a=t,s=e;if(s[r]!=null)switch(i.kind){case"oneof":const o=s[r].case;if(o===void 0)continue;const l=i.findField(o);let c=s[r].value;l&&l.kind=="message"&&!ea(c,l.T)?c=new l.T(c):l&&l.kind==="scalar"&&l.T===E.BYTES&&(c=Rs(c)),a[r]={case:o,value:c};break;case"scalar":case"enum":let h=s[r];i.T===E.BYTES&&(h=i.repeated?h.map(Rs):Rs(h)),a[r]=h;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===E.BYTES)for(const[d,A]of Object.entries(s[r]))a[r][d]=Rs(A);else Object.assign(a[r],s[r]);break;case"message":const g=i.V.T;for(const d of Object.keys(s[r])){let A=s[r][d];g.fieldWrapper||(A=new g(A)),a[r][d]=A}break}break;case"message":const m=i.T;if(i.repeated)a[r]=s[r].map(g=>ea(g,m)?g:new m(g));else{const g=s[r];m.fieldWrapper?m.typeName==="google.protobuf.BytesValue"?a[r]=Rs(g):a[r]=g:a[r]=ea(g,m)?g:new m(g)}break}}},equals(e,t,n){return t===n?!0:!t||!n?!1:e.fields.byMember().every(i=>{const r=t[i.localName],a=n[i.localName];if(i.repeated){if(r.length!==a.length)return!1;switch(i.kind){case"message":return r.every((s,o)=>i.T.equals(s,a[o]));case"scalar":return r.every((s,o)=>ar(i.T,s,a[o]));case"enum":return r.every((s,o)=>ar(E.INT32,s,a[o]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":return i.T.equals(r,a);case"enum":return ar(E.INT32,r,a);case"scalar":return ar(i.T,r,a);case"oneof":if(r.case!==a.case)return!1;const s=i.findField(r.case);if(s===void 0)return!0;switch(s.kind){case"message":return s.T.equals(r.value,a.value);case"enum":return ar(E.INT32,r.value,a.value);case"scalar":return ar(s.T,r.value,a.value)}throw new Error(`oneof cannot contain ${s.kind}`);case"map":const o=Object.keys(r).concat(Object.keys(a));switch(i.V.kind){case"message":const l=i.V.T;return o.every(h=>l.equals(r[h],a[h]));case"enum":return o.every(h=>ar(E.INT32,r[h],a[h]));case"scalar":const c=i.V.T;return o.every(h=>ar(c,r[h],a[h]))}break}})},clone(e){const t=e.getType(),n=new t,i=n;for(const r of t.fields.byMember()){const a=e[r.localName];let s;if(r.repeated)s=a.map(ml);else if(r.kind=="map"){s=i[r.localName];for(const[o,l]of Object.entries(a))s[o]=ml(l)}else r.kind=="oneof"?s=r.findField(a.case)?{case:a.case,value:ml(a.value)}:{case:void 0}:s=ml(a);i[r.localName]=s}for(const r of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(i,r.no,r.wireType,r.data);return n}}}function ml(e){if(e===void 0)return e;if(ea(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function Rs(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function lw(e,t,n){return{syntax:e,json:_1(),bin:nw(),util:Object.assign(Object.assign({},ow()),{newFieldList:t,initFields:n}),makeMessageType(i,r,a){return U1(this,i,r,a)},makeEnum:M1,makeEnumType:S0,getEnumType:z1,makeExtension(i,r,a){return G1(this,i,r,a)}}}class uw{constructor(t,n){this._fields=t,this._normalizer=n}findJsonName(t){if(!this.jsonNames){const n={};for(const i of this.list())n[i.jsonName]=n[i.name]=i;this.jsonNames=n}return this.jsonNames[t]}find(t){if(!this.numbers){const n={};for(const i of this.list())n[i.no]=i;this.numbers=n}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,n)=>t.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const t=this.members;let n;for(const i of this.list())i.oneof?i.oneof!==n&&(n=i.oneof,t.push(n)):t.push(i)}return this.members}}function k0(e,t){const n=R0(e);return t?n:mw(gw(n))}function cw(e){return k0(e,!1)}const fw=R0;function R0(e){let t=!1;const n=[];for(let i=0;i<e.length;i++){let r=e.charAt(i);switch(r){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(r),t=!1;break;default:t&&(t=!1,r=r.toUpperCase()),n.push(r);break}}return n.join("")}const hw=new Set(["constructor","toString","toJSON","valueOf"]),dw=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),B0=e=>`${e}$`,gw=e=>dw.has(e)?B0(e):e,mw=e=>hw.has(e)?B0(e):e;class yw{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=cw(t)}addField(t){St(t.oneof===this,`field ${t.name} not one of ${this.name}`),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[t]}}function pw(e,t){var n,i,r,a,s,o;const l=[];let c;for(const h of typeof e=="function"?e():e){const m=h;if(m.localName=k0(h.name,h.oneof!==void 0),m.jsonName=(n=h.jsonName)!==null&&n!==void 0?n:fw(h.name),m.repeated=(i=h.repeated)!==null&&i!==void 0?i:!1,h.kind=="scalar"&&(m.L=(r=h.L)!==null&&r!==void 0?r:Ur.BIGINT),m.delimited=(a=h.delimited)!==null&&a!==void 0?a:!1,m.req=(s=h.req)!==null&&s!==void 0?s:!1,m.opt=(o=h.opt)!==null&&o!==void 0?o:!1,h.packed===void 0&&(m.packed=h.kind=="enum"||h.kind=="scalar"&&h.T!=E.BYTES&&h.T!=E.STRING),h.oneof!==void 0){const g=typeof h.oneof=="string"?h.oneof:h.oneof.name;(!c||c.name!=g)&&(c=new yw(g)),m.oneof=c,c.addField(m)}l.push(m)}return l}const f=lw("proto3",e=>new uw(e,t=>pw(t)),e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,i=e;if(t.repeated){i[n]=[];continue}switch(t.kind){case"oneof":i[n]={case:void 0};break;case"enum":i[n]=0;break;case"map":i[n]={};break;case"scalar":i[n]=ss(t.T,t.L);break}}});var Zt;(function(e){e[e.Unary=0]="Unary",e[e.ServerStreaming=1]="ServerStreaming",e[e.ClientStreaming=2]="ClientStreaming",e[e.BiDiStreaming=3]="BiDiStreaming"})(Zt||(Zt={}));var jm;(function(e){e[e.NoSideEffects=1]="NoSideEffects",e[e.Idempotent=2]="Idempotent"})(jm||(jm={}));class Yt extends R{constructor(t){super(),this.seconds=ut.zero,this.nanos=0,f.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${f.json.debug(t)}`);const i=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const r=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(r))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=ut.parse(r/1e3),this.nanos=0,i[7]&&(this.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),this}toJson(t){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let i="Z";if(this.nanos>0){const r=(this.nanos+1e9).toString().substring(1);r.substring(3)==="000000"?i="."+r.substring(0,3)+"Z":r.substring(6)==="000"?i="."+r.substring(0,6)+"Z":i="."+r+"Z"}return new Date(n).toISOString().replace(".000Z",i)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return Yt.fromDate(new Date)}static fromDate(t){const n=t.getTime();return new Yt({seconds:ut.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(t,n){return new Yt().fromBinary(t,n)}static fromJson(t,n){return new Yt().fromJson(t,n)}static fromJsonString(t,n){return new Yt().fromJsonString(t,n)}static equals(t,n){return f.util.equals(Yt,t,n)}}Yt.runtime=f;Yt.typeName="google.protobuf.Timestamp";Yt.fields=f.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Vi extends R{constructor(t){super(),this.seconds=ut.zero,this.nanos=0,f.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);const i=t.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(i===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);const r=Number(i[1]);if(r>315576e6||r<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);if(this.seconds=ut.parse(r),typeof i[2]=="string"){const a=i[2]+"0".repeat(9-i[2].length);this.nanos=parseInt(a),(r<0||Object.is(r,-0))&&(this.nanos=-this.nanos)}return this}toJson(t){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let n=this.seconds.toString();if(this.nanos!==0){let i=Math.abs(this.nanos).toString();i="0".repeat(9-i.length)+i,i.substring(3)==="000000"?i=i.substring(0,3):i.substring(6)==="000"&&(i=i.substring(0,6)),n+="."+i,this.nanos<0&&Number(this.seconds)==0&&(n="-"+n)}return n+"s"}static fromBinary(t,n){return new Vi().fromBinary(t,n)}static fromJson(t,n){return new Vi().fromJson(t,n)}static fromJsonString(t,n){return new Vi().fromJsonString(t,n)}static equals(t,n){return f.util.equals(Vi,t,n)}}Vi.runtime=f;Vi.typeName="google.protobuf.Duration";Vi.fields=f.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class ln extends R{constructor(t){super(),this.typeUrl="",this.value=new Uint8Array(0),f.util.initPartial(t,this)}toJson(t){var n;if(this.typeUrl==="")return{};const i=this.typeUrlToName(this.typeUrl),r=(n=t==null?void 0:t.typeRegistry)===null||n===void 0?void 0:n.findMessage(i);if(!r)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let s=r.fromBinary(this.value).toJson(t);return(i.startsWith("google.protobuf.")||s===null||Array.isArray(s)||typeof s!="object")&&(s={value:s}),s["@type"]=this.typeUrl,s}fromJson(t,n){var i;if(t===null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${t===null?"null":Array.isArray(t)?"array":typeof t}`);if(Object.keys(t).length==0)return this;const r=t["@type"];if(typeof r!="string"||r=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const a=this.typeUrlToName(r),s=(i=n==null?void 0:n.typeRegistry)===null||i===void 0?void 0:i.findMessage(a);if(!s)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${r} is not in the type registry`);let o;if(a.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(t,"value"))o=s.fromJson(t.value,n);else{const l=Object.assign({},t);delete l["@type"],o=s.fromJson(l,n)}return this.packFrom(o),this}packFrom(t){this.value=t.toBinary(),this.typeUrl=this.typeNameToUrl(t.getType().typeName)}unpackTo(t){return this.is(t.getType())?(t.fromBinary(this.value),!0):!1}unpack(t){if(this.typeUrl==="")return;const n=t.findMessage(this.typeUrlToName(this.typeUrl));if(n)return n.fromBinary(this.value)}is(t){if(this.typeUrl==="")return!1;const n=this.typeUrlToName(this.typeUrl);let i="";return typeof t=="string"?i=t:i=t.typeName,n===i}typeNameToUrl(t){return`type.googleapis.com/${t}`}typeUrlToName(t){if(!t.length)throw new Error(`invalid type url: ${t}`);const n=t.lastIndexOf("/"),i=n>=0?t.substring(n+1):t;if(!i.length)throw new Error(`invalid type url: ${t}`);return i}static pack(t){const n=new ln;return n.packFrom(t),n}static fromBinary(t,n){return new ln().fromBinary(t,n)}static fromJson(t,n){return new ln().fromJson(t,n)}static fromJsonString(t,n){return new ln().fromJsonString(t,n)}static equals(t,n){return f.util.equals(ln,t,n)}}ln.runtime=f;ln.typeName="google.protobuf.Any";ln.fields=f.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class cn extends R{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.DOUBLE,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.DOUBLE,t)}catch(i){let r='cannot decode message google.protobuf.DoubleValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new cn().fromBinary(t,n)}static fromJson(t,n){return new cn().fromJson(t,n)}static fromJsonString(t,n){return new cn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(cn,t,n)}}cn.runtime=f;cn.typeName="google.protobuf.DoubleValue";cn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);cn.fieldWrapper={wrapField(e){return new cn({value:e})},unwrapField(e){return e.value}};class fn extends R{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.FLOAT,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.FLOAT,t)}catch(i){let r='cannot decode message google.protobuf.FloatValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new fn().fromBinary(t,n)}static fromJson(t,n){return new fn().fromJson(t,n)}static fromJsonString(t,n){return new fn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(fn,t,n)}}fn.runtime=f;fn.typeName="google.protobuf.FloatValue";fn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);fn.fieldWrapper={wrapField(e){return new fn({value:e})},unwrapField(e){return e.value}};class hn extends R{constructor(t){super(),this.value=ut.zero,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.INT64,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.INT64,t)}catch(i){let r='cannot decode message google.protobuf.Int64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new hn().fromBinary(t,n)}static fromJson(t,n){return new hn().fromJson(t,n)}static fromJsonString(t,n){return new hn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(hn,t,n)}}hn.runtime=f;hn.typeName="google.protobuf.Int64Value";hn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);hn.fieldWrapper={wrapField(e){return new hn({value:e})},unwrapField(e){return e.value}};class dn extends R{constructor(t){super(),this.value=ut.zero,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.UINT64,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.UINT64,t)}catch(i){let r='cannot decode message google.protobuf.UInt64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new dn().fromBinary(t,n)}static fromJson(t,n){return new dn().fromJson(t,n)}static fromJsonString(t,n){return new dn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(dn,t,n)}}dn.runtime=f;dn.typeName="google.protobuf.UInt64Value";dn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);dn.fieldWrapper={wrapField(e){return new dn({value:e})},unwrapField(e){return e.value}};class de extends R{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.INT32,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.INT32,t)}catch(i){let r='cannot decode message google.protobuf.Int32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new de().fromBinary(t,n)}static fromJson(t,n){return new de().fromJson(t,n)}static fromJsonString(t,n){return new de().fromJsonString(t,n)}static equals(t,n){return f.util.equals(de,t,n)}}de.runtime=f;de.typeName="google.protobuf.Int32Value";de.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);de.fieldWrapper={wrapField(e){return new de({value:e})},unwrapField(e){return e.value}};class gn extends R{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.UINT32,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.UINT32,t)}catch(i){let r='cannot decode message google.protobuf.UInt32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new gn().fromBinary(t,n)}static fromJson(t,n){return new gn().fromJson(t,n)}static fromJsonString(t,n){return new gn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(gn,t,n)}}gn.runtime=f;gn.typeName="google.protobuf.UInt32Value";gn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);gn.fieldWrapper={wrapField(e){return new gn({value:e})},unwrapField(e){return e.value}};class mn extends R{constructor(t){super(),this.value=!1,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.BOOL,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.BOOL,t)}catch(i){let r='cannot decode message google.protobuf.BoolValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new mn().fromBinary(t,n)}static fromJson(t,n){return new mn().fromJson(t,n)}static fromJsonString(t,n){return new mn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(mn,t,n)}}mn.runtime=f;mn.typeName="google.protobuf.BoolValue";mn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);mn.fieldWrapper={wrapField(e){return new mn({value:e})},unwrapField(e){return e.value}};class ie extends R{constructor(t){super(),this.value="",f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.STRING,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.STRING,t)}catch(i){let r='cannot decode message google.protobuf.StringValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new ie().fromBinary(t,n)}static fromJson(t,n){return new ie().fromJson(t,n)}static fromJsonString(t,n){return new ie().fromJsonString(t,n)}static equals(t,n){return f.util.equals(ie,t,n)}}ie.runtime=f;ie.typeName="google.protobuf.StringValue";ie.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);ie.fieldWrapper={wrapField(e){return new ie({value:e})},unwrapField(e){return e.value}};class yn extends R{constructor(t){super(),this.value=new Uint8Array(0),f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.BYTES,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.BYTES,t)}catch(i){let r='cannot decode message google.protobuf.BytesValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new yn().fromBinary(t,n)}static fromJson(t,n){return new yn().fromJson(t,n)}static fromJsonString(t,n){return new yn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(yn,t,n)}}yn.runtime=f;yn.typeName="google.protobuf.BytesValue";yn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);yn.fieldWrapper={wrapField(e){return new yn({value:e})},unwrapField(e){return e.value}};function vw(e,t,n){try{const i=Bd.dec(e);return t?t.fromBinary(i,n):i}catch(i){throw tt.from(i,X.DataLoss)}}function Sw(e,t){const n={};for(const[i,r]of Object.entries(e.methods)){const a=t(Object.assign(Object.assign({},r),{localName:i,service:e}));a!=null&&(n[i]=a)}return n}const Gm=1;function Ym(e){let t,n=new Uint8Array(0);function i(r){const a=new Uint8Array(n.length+r.length);a.set(n),a.set(r,n.length),n=a}return new ReadableStream({start(){t=e.getReader()},async pull(r){let a;for(;;){if(a===void 0&&n.byteLength>=5){let l=0;for(let c=1;c<5;c++)l=(l<<8)+n[c];a={flags:n[0],length:l}}if(a!==void 0&&n.byteLength>=a.length+5)break;const o=await t.read();if(o.done)break;i(o.value)}if(a===void 0){if(n.byteLength==0){r.close();return}r.error(new tt("premature end of stream",X.DataLoss));return}const s=n.subarray(5,5+a.length);n=n.subarray(5+a.length),r.enqueue({flags:a.flags,data:s})}})}function Km(e,t){const n=new Uint8Array(t.length+5);n.set(t,5);const i=new DataView(n.buffer,n.byteOffset,n.byteLength);return i.setUint8(0,e),i.setUint32(1,t.length),n}var Tw=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(s){return new Promise(function(o,l){s=e[a](s),r(o,l,s.done,s.value)})}}function r(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}},To=function(e){return this instanceof To?(this.v=e,this):new To(e)},bw=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r={},o("next"),o("throw"),o("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(d){return function(A){return Promise.resolve(A).then(d,m)}}function o(d,A){i[d]&&(r[d]=function(w){return new Promise(function(x,p){a.push([d,w,x,p])>1||l(d,w)})},A&&(r[d]=A(r[d])))}function l(d,A){try{c(i[d](A))}catch(w){g(a[0][3],w)}}function c(d){d.value instanceof To?Promise.resolve(d.value.v).then(h,m):g(a[0][2],d)}function h(d){l("next",d)}function m(d){l("throw",d)}function g(d,A){d(A),a.shift(),a.length&&l(a[0][0],a[0][1])}},ww=function(e){var t,n;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,a){t[r]=e[r]?function(s){return(n=!n)?{value:To(e[r](s)),done:!1}:a?a(s):s}:a}};function Aw(e){return bw(this,arguments,function*(){yield To(yield*ww(Tw(e)))})}var I0=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(s){return new Promise(function(o,l){s=e[a](s),r(o,l,s.done,s.value)})}}function r(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}},os=function(e){return this instanceof os?(this.v=e,this):new os(e)},Ew=function(e){var t,n;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,a){t[r]=e[r]?function(s){return(n=!n)?{value:os(e[r](s)),done:!1}:a?a(s):s}:a}},Nw=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r={},o("next"),o("throw"),o("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(d){return function(A){return Promise.resolve(A).then(d,m)}}function o(d,A){i[d]&&(r[d]=function(w){return new Promise(function(x,p){a.push([d,w,x,p])>1||l(d,w)})},A&&(r[d]=A(r[d])))}function l(d,A){try{c(i[d](A))}catch(w){g(a[0][3],w)}}function c(d){d.value instanceof os?Promise.resolve(d.value.v).then(h,m):g(a[0][2],d)}function h(d){l("next",d)}function m(d){l("throw",d)}function g(d,A){d(A),a.shift(),a.length&&l(a[0][0],a[0][1])}};function xw(e,t){return Sw(e,n=>{switch(n.kind){case Zt.Unary:return Dw(t,e,n);case Zt.ServerStreaming:return Ow(t,e,n);case Zt.ClientStreaming:return Cw(t,e,n);case Zt.BiDiStreaming:return kw(t,e,n);default:return null}})}function Dw(e,t,n){return async function(i,r){var a,s;const o=await e.unary(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,i,r==null?void 0:r.contextValues);return(a=r==null?void 0:r.onHeader)===null||a===void 0||a.call(r,o.header),(s=r==null?void 0:r.onTrailer)===null||s===void 0||s.call(r,o.trailer),o.message}}function Ow(e,t,n){return function(i,r){return z0(e.stream(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,Aw([i]),r==null?void 0:r.contextValues),r)}}function Cw(e,t,n){return async function(i,r){var a,s,o,l,c,h;const m=await e.stream(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,i,r==null?void 0:r.contextValues);(c=r==null?void 0:r.onHeader)===null||c===void 0||c.call(r,m.header);let g,d=0;try{for(var A=!0,w=I0(m.message),x;x=await w.next(),a=x.done,!a;A=!0)l=x.value,A=!1,g=l,d++}catch(p){s={error:p}}finally{try{!A&&!a&&(o=w.return)&&await o.call(w)}finally{if(s)throw s.error}}if(!g)throw new tt("protocol error: missing response message",X.Unimplemented);if(d>1)throw new tt("protocol error: received extra messages for client streaming method",X.Unimplemented);return(h=r==null?void 0:r.onTrailer)===null||h===void 0||h.call(r,m.trailer),g}}function kw(e,t,n){return function(i,r){return z0(e.stream(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,i,r==null?void 0:r.contextValues),r)}}function z0(e,t){const n=function(){return Nw(this,arguments,function*(){var i,r;const a=yield os(e);(i=t==null?void 0:t.onHeader)===null||i===void 0||i.call(t,a.header),yield os(yield*Ew(I0(a.message))),(r=t==null?void 0:t.onTrailer)===null||r===void 0||r.call(t,a.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function Rw(...e){const t=new AbortController,n=e.filter(r=>r!==void 0).concat(t.signal);for(const r of n){if(r.aborted){i.apply(r);break}r.addEventListener("abort",i)}function i(){t.signal.aborted||t.abort(M0(this));for(const r of n)r.removeEventListener("abort",i)}return t}function Bw(e){const t=new AbortController,n=()=>{t.abort(new tt("the operation timed out",X.DeadlineExceeded))};let i;return e!==void 0&&(e<=0?n():i=setTimeout(n,e)),{signal:t.signal,cleanup:()=>clearTimeout(i)}}function M0(e){if(!e.aborted)return;if(e.reason!==void 0)return e.reason;const t=new Error("This operation was aborted");return t.name="AbortError",t}function $m(){return{get(e){return e.id in this?this[e.id]:e.defaultValue},set(e,t){return this[e.id]=t,this},delete(e){return delete this[e.id],this}}}const Fc=128;function Xm(e){const t=new Headers,n=new TextDecoder().decode(e).split(`\r
`);for(const i of n){if(i==="")continue;const r=i.indexOf(":");if(r>0){const a=i.substring(0,r).trim(),s=i.substring(r+1).trim();t.append(a,s)}}return t}const Iw="Content-Type",zw="Grpc-Timeout",ls="Grpc-Status",U0="Grpc-Message",Mw="Grpc-Status-Details-Bin",Uw="X-User-Agent",Lw="X-Grpc-Web",Jw="application/grpc-web+proto",qw="application/grpc-web+json";class ji extends R{constructor(t){super(),this.code=0,this.message="",this.details=[],f.util.initPartial(t,this)}static fromBinary(t,n){return new ji().fromBinary(t,n)}static fromJson(t,n){return new ji().fromJson(t,n)}static fromJsonString(t,n){return new ji().fromJsonString(t,n)}static equals(t,n){return f.util.equals(ji,t,n)}}ji.runtime=f;ji.typeName="google.rpc.Status";ji.fields=f.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:ln,repeated:!0}]);const Pw="0";function L0(e){var t;const n=e.get(Mw);if(n!=null){const r=vw(n,ji);if(r.code==0)return;const a=new tt(r.message,r.code,e);return a.details=r.details.map(s=>({type:s.typeUrl.substring(s.typeUrl.lastIndexOf("/")+1),value:s.value})),a}const i=e.get(ls);if(i!=null){if(i===Pw)return;const r=parseInt(i,10);return r in X?new tt(decodeURIComponent((t=e.get(U0))!==null&&t!==void 0?t:""),r,e):new tt(`invalid grpc-status: ${i}`,X.Internal,e)}}function Zm(e,t,n){const i=typeof t=="string"?t:t.typeName,r=typeof n=="string"?n:n.name;return e.toString().replace(/\/?$/,`/${i}/${r}`)}function J0(e,t){return t instanceof e?t:new e(t)}function Hw(e,t){function n(i){return i.done===!0?i:{done:i.done,value:J0(e,i.value)}}return{[Symbol.asyncIterator](){const i=t[Symbol.asyncIterator](),r={next:()=>i.next().then(n)};return i.throw!==void 0&&(r.throw=a=>i.throw(a).then(n)),i.return!==void 0&&(r.return=a=>i.return(a).then(n)),r}}}function q0(e,t){var n;return(n=t==null?void 0:t.concat().reverse().reduce((i,r)=>r(i),e))!==null&&n!==void 0?n:e}function Vw(e){var t;const n=Object.assign({},e);return(t=n.ignoreUnknownFields)!==null&&t!==void 0||(n.ignoreUnknownFields=!0),n}function Qm(e,t,n,i){const r=t?_m(e.I,i):Fm(e.I,n);return{parse:(t?_m(e.O,i):Fm(e.O,n)).parse,serialize:r.serialize}}function _m(e,t){return{parse(n){try{return e.fromBinary(n,t)}catch(i){const r=i instanceof Error?i.message:String(i);throw new tt(`parse binary: ${r}`,X.Internal)}},serialize(n){try{return n.toBinary(t)}catch(i){const r=i instanceof Error?i.message:String(i);throw new tt(`serialize binary: ${r}`,X.Internal)}}}}function Fm(e,t){var n,i;const r=(n=t==null?void 0:t.textEncoder)!==null&&n!==void 0?n:new TextEncoder,a=(i=t==null?void 0:t.textDecoder)!==null&&i!==void 0?i:new TextDecoder,s=Vw(t);return{parse(o){try{const l=a.decode(o);return e.fromJsonString(l,s)}catch(l){throw tt.from(l,X.InvalidArgument)}},serialize(o){try{const l=o.toJsonString(s);return r.encode(l)}catch(l){throw tt.from(l,X.Internal)}}}}function jw(e){const t=q0(e.next,e.interceptors),[n,i,r]=P0(e),a=Object.assign(Object.assign({},e.req),{message:J0(e.req.method.I,e.req.message),signal:n});return t(a).then(s=>(r(),s),i)}function Gw(e){const t=q0(e.next,e.interceptors),[n,i,r]=P0(e),a=Object.assign(Object.assign({},e.req),{message:Hw(e.req.method.I,e.req.message),signal:n});let s=!1;return n.addEventListener("abort",function(){var o,l;const c=e.req.message[Symbol.asyncIterator]();s||(o=c.throw)===null||o===void 0||o.call(c,this.reason).catch(()=>{}),(l=c.return)===null||l===void 0||l.call(c).catch(()=>{})}),t(a).then(o=>Object.assign(Object.assign({},o),{message:{[Symbol.asyncIterator](){const l=o.message[Symbol.asyncIterator]();return{next(){return l.next().then(c=>(c.done==!0&&(s=!0,r()),c),i)}}}}}),i)}function P0(e){const{signal:t,cleanup:n}=Bw(e.timeoutMs),i=Rw(e.signal,t);return[i.signal,function(a){const s=tt.from(t.aborted?M0(t):a);return i.abort(s),n(),Promise.reject(s)},function(){n(),i.abort()}]}function Yw(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Wm(e,t){const n=L0(e);if(n)throw t.forEach((i,r)=>{n.metadata.append(r,i)}),n;if(!t.has(ls)&&!e.has(ls))throw new tt("protocol error: missing status",X.Internal)}function ty(e,t,n,i){const r=new Headers(n??{});return r.set(Iw,e?Jw:qw),r.set(Lw,"1"),r.set(Uw,"connect-es/1.6.1"),t!==void 0&&r.set(zw,`${t}m`),r}function Kw(e){switch(e){case 400:return X.Internal;case 401:return X.Unauthenticated;case 403:return X.PermissionDenied;case 404:return X.Unimplemented;case 429:return X.Unavailable;case 502:return X.Unavailable;case 503:return X.Unavailable;case 504:return X.Unavailable;default:return X.Unknown}}function ey(e,t){var n;if(e>=200&&e<300)return{foundStatus:t.has(ls),headerError:L0(t)};throw new tt(decodeURIComponent((n=t.get(U0))!==null&&n!==void 0?n:`HTTP ${e}`),Kw(e),t)}var $r=function(e){return this instanceof $r?(this.v=e,this):new $r(e)},$w=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r={},o("next"),o("throw"),o("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(d){return function(A){return Promise.resolve(A).then(d,m)}}function o(d,A){i[d]&&(r[d]=function(w){return new Promise(function(x,p){a.push([d,w,x,p])>1||l(d,w)})},A&&(r[d]=A(r[d])))}function l(d,A){try{c(i[d](A))}catch(w){g(a[0][3],w)}}function c(d){d.value instanceof $r?Promise.resolve(d.value.v).then(h,m):g(a[0][2],d)}function h(d){l("next",d)}function m(d){l("throw",d)}function g(d,A){d(A),a.shift(),a.length&&l(a[0][0],a[0][1])}};function Xw(e){var t;Yw();const n=(t=e.useBinaryFormat)!==null&&t!==void 0?t:!0;return{async unary(i,r,a,s,o,l,c){var h;const{serialize:m,parse:g}=Qm(r,n,e.jsonOptions,e.binaryOptions);return s=s===void 0?e.defaultTimeoutMs:s<=0?void 0:s,await jw({interceptors:e.interceptors,signal:a,timeoutMs:s,req:{stream:!1,service:i,method:r,url:Zm(e.baseUrl,i,r),init:{method:"POST",credentials:(h=e.credentials)!==null&&h!==void 0?h:"same-origin",redirect:"error",mode:"cors"},header:ty(n,s,o),contextValues:c??$m(),message:l},next:async d=>{var A;const x=await((A=e.fetch)!==null&&A!==void 0?A:globalThis.fetch)(d.url,Object.assign(Object.assign({},d.init),{headers:d.header,signal:d.signal,body:Km(0,m(d.message))})),{headerError:p}=ey(x.status,x.headers);if(!x.body)throw p!==void 0?p:"missing response body";const y=Ym(x.body).getReader();let v,b;for(;;){const O=await y.read();if(O.done)break;const{flags:C,data:k}=O.value;if((C&Gm)===Gm)throw new tt("protocol error: received unsupported compressed output",X.Internal);if(C===Fc){if(v!==void 0)throw"extra trailer";v=Xm(k);continue}if(b!==void 0)throw new tt("extra message",X.Unimplemented);b=g(k)}if(v===void 0)throw p!==void 0?p:new tt("missing trailer",x.headers.has(ls)?X.Unimplemented:X.Unknown);if(Wm(v,x.headers),b===void 0)throw new tt("missing message",v.has(ls)?X.Unimplemented:X.Unknown);return{stream:!1,service:i,method:r,header:x.headers,message:b,trailer:v}}})},async stream(i,r,a,s,o,l,c){var h;const{serialize:m,parse:g}=Qm(r,n,e.jsonOptions,e.binaryOptions);function d(w,x,p,y,v){return $w(this,arguments,function*(){const O=Ym(w).getReader();if(x){if(!(yield $r(O.read())).done)throw"extra data for trailers-only";return yield $r(void 0)}let C=!1;for(;;){const k=yield $r(O.read());if(k.done)break;const{flags:B,data:P}=k.value;if((B&Fc)===Fc){if(C)throw"extra trailer";C=!0;const J=Xm(P);Wm(J,y),J.forEach((Gt,nn)=>p.set(nn,Gt));continue}if(C)throw"extra message";yield yield $r(g(P))}if("throwIfAborted"in v&&v.throwIfAborted(),!C)throw"missing trailer"})}async function A(w){if(r.kind!=Zt.ServerStreaming)throw"The fetch API does not support streaming request bodies";const x=await w[Symbol.asyncIterator]().next();if(x.done==!0)throw"missing request message";return Km(0,m(x.value))}return s=s===void 0?e.defaultTimeoutMs:s<=0?void 0:s,Gw({interceptors:e.interceptors,signal:a,timeoutMs:s,req:{stream:!0,service:i,method:r,url:Zm(e.baseUrl,i,r),init:{method:"POST",credentials:(h=e.credentials)!==null&&h!==void 0?h:"same-origin",redirect:"error",mode:"cors"},header:ty(n,s,o),contextValues:c??$m(),message:l},next:async w=>{var x;const y=await((x=e.fetch)!==null&&x!==void 0?x:globalThis.fetch)(w.url,Object.assign(Object.assign({},w.init),{headers:w.header,signal:w.signal,body:await A(w.message)})),{foundStatus:v,headerError:b}=ey(y.status,y.headers);if(b!=null)throw b;if(!y.body)throw"missing response body";const O=new Headers;return Object.assign(Object.assign({},w),{header:y.headers,trailer:O,message:d(y.body,v,O,y.headers,w.signal)})}})}}}var H=(e=>(e[e.NULL=0]="NULL",e[e.BOOLEAN=1]="BOOLEAN",e[e.INTEGER=2]="INTEGER",e[e.LONG=3]="LONG",e[e.DOUBLE=4]="DOUBLE",e[e.STRING=5]="STRING",e[e.BYTES=6]="BYTES",e[e.DATE=7]="DATE",e[e.JSON_OBJECT=8]="JSON_OBJECT",e[e.JSON_ARRAY=9]="JSON_ARRAY",e[e.TEXT=10]="TEXT",e[e.INTEGER_CNT=11]="INTEGER_CNT",e[e.LONG_CNT=12]="LONG_CNT",e[e.TREE=13]="TREE",e))(H||{});f.util.setEnumType(H,"yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER"},{no:3,name:"VALUE_TYPE_LONG"},{no:4,name:"VALUE_TYPE_DOUBLE"},{no:5,name:"VALUE_TYPE_STRING"},{no:6,name:"VALUE_TYPE_BYTES"},{no:7,name:"VALUE_TYPE_DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE"}]);var na=(e=>(e[e.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",e[e.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",e[e.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",e[e.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",e))(na||{});f.util.setEnumType(na,"yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST"}]);const Rn=class Rn extends R{constructor(n){super();u(this,"root");u(this,"presences",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Rn().fromBinary(n,i)}static fromJson(n,i){return new Rn().fromJson(n,i)}static fromJsonString(n,i){return new Rn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Rn,n,i)}};u(Rn,"runtime",f),u(Rn,"typeName","yorkie.v1.Snapshot"),u(Rn,"fields",f.util.newFieldList(()=>[{no:1,name:"root",kind:"message",T:oe},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:zd}}]));let eh=Rn;var De;let nr=(De=class extends R{constructor(n){super();u(this,"documentKey","");u(this,"checkpoint");u(this,"snapshot",new Uint8Array(0));u(this,"changes",[]);u(this,"minSyncedTicket");u(this,"isRemoved",!1);u(this,"versionVector");f.util.initPartial(n,this)}static fromBinary(n,i){return new De().fromBinary(n,i)}static fromJson(n,i){return new De().fromJson(n,i)}static fromJsonString(n,i){return new De().fromJsonString(n,i)}static equals(n,i){return f.util.equals(De,n,i)}},u(De,"runtime",f),u(De,"typeName","yorkie.v1.ChangePack"),u(De,"fields",f.util.newFieldList(()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:j0},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:H0,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:z},{no:6,name:"is_removed",kind:"scalar",T:8},{no:7,name:"version_vector",kind:"message",T:lc}])),De);var Oe;let H0=(Oe=class extends R{constructor(n){super();u(this,"id");u(this,"message","");u(this,"operations",[]);u(this,"presenceChange");f.util.initPartial(n,this)}static fromBinary(n,i){return new Oe().fromBinary(n,i)}static fromJson(n,i){return new Oe().fromJson(n,i)}static fromJsonString(n,i){return new Oe().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Oe,n,i)}},u(Oe,"runtime",f),u(Oe,"typeName","yorkie.v1.Change"),u(Oe,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:oc},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:Id,repeated:!0},{no:4,name:"presence_change",kind:"message",T:Ao}])),Oe);var Ce;let oc=(Ce=class extends R{constructor(n){super();u(this,"clientSeq",0);u(this,"serverSeq",ut.zero);u(this,"lamport",ut.zero);u(this,"actorId",new Uint8Array(0));u(this,"versionVector");f.util.initPartial(n,this)}static fromBinary(n,i){return new Ce().fromBinary(n,i)}static fromJson(n,i){return new Ce().fromJson(n,i)}static fromJsonString(n,i){return new Ce().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ce,n,i)}},u(Ce,"runtime",f),u(Ce,"typeName","yorkie.v1.ChangeID"),u(Ce,"fields",f.util.newFieldList(()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3},{no:3,name:"lamport",kind:"scalar",T:3},{no:4,name:"actor_id",kind:"scalar",T:12},{no:5,name:"version_vector",kind:"message",T:lc}])),Ce);var ke;let lc=(ke=class extends R{constructor(n){super();u(this,"vector",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new ke().fromBinary(n,i)}static fromJson(n,i){return new ke().fromJson(n,i)}static fromJsonString(n,i){return new ke().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ke,n,i)}},u(ke,"runtime",f),u(ke,"typeName","yorkie.v1.VersionVector"),u(ke,"fields",f.util.newFieldList(()=>[{no:1,name:"vector",kind:"map",K:9,V:{kind:"scalar",T:3}}])),ke);var Re;let Id=(Re=class extends R{constructor(n){super();u(this,"body",{case:void 0});f.util.initPartial(n,this)}static fromBinary(n,i){return new Re().fromBinary(n,i)}static fromJson(n,i){return new Re().fromJson(n,i)}static fromJsonString(n,i){return new Re().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Re,n,i)}},u(Re,"runtime",f),u(Re,"typeName","yorkie.v1.Operation"),u(Re,"fields",f.util.newFieldList(()=>[{no:1,name:"set",kind:"message",T:vu,oneof:"body"},{no:2,name:"add",kind:"message",T:Su,oneof:"body"},{no:3,name:"move",kind:"message",T:Tu,oneof:"body"},{no:4,name:"remove",kind:"message",T:bu,oneof:"body"},{no:5,name:"edit",kind:"message",T:wu,oneof:"body"},{no:6,name:"select",kind:"message",T:nh,oneof:"body"},{no:7,name:"style",kind:"message",T:Au,oneof:"body"},{no:8,name:"increase",kind:"message",T:Eu,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:Nu,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:xu,oneof:"body"},{no:11,name:"array_set",kind:"message",T:ih,oneof:"body"}])),Re);const Bn=class Bn extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"key","");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Bn().fromBinary(n,i)}static fromJson(n,i){return new Bn().fromJson(n,i)}static fromJsonString(n,i){return new Bn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Bn,n,i)}};u(Bn,"runtime",f),u(Bn,"typeName","yorkie.v1.Operation.Set"),u(Bn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:xe},{no:4,name:"executed_at",kind:"message",T:z}]));let vu=Bn;const In=class In extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"prevCreatedAt");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new In().fromBinary(n,i)}static fromJson(n,i){return new In().fromJson(n,i)}static fromJsonString(n,i){return new In().fromJsonString(n,i)}static equals(n,i){return f.util.equals(In,n,i)}};u(In,"runtime",f),u(In,"typeName","yorkie.v1.Operation.Add"),u(In,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"prev_created_at",kind:"message",T:z},{no:3,name:"value",kind:"message",T:xe},{no:4,name:"executed_at",kind:"message",T:z}]));let Su=In;const zn=class zn extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"prevCreatedAt");u(this,"createdAt");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new zn().fromBinary(n,i)}static fromJson(n,i){return new zn().fromJson(n,i)}static fromJsonString(n,i){return new zn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(zn,n,i)}};u(zn,"runtime",f),u(zn,"typeName","yorkie.v1.Operation.Move"),u(zn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"prev_created_at",kind:"message",T:z},{no:3,name:"created_at",kind:"message",T:z},{no:4,name:"executed_at",kind:"message",T:z}]));let Tu=zn;const Mn=class Mn extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"createdAt");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Mn().fromBinary(n,i)}static fromJson(n,i){return new Mn().fromJson(n,i)}static fromJsonString(n,i){return new Mn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Mn,n,i)}};u(Mn,"runtime",f),u(Mn,"typeName","yorkie.v1.Operation.Remove"),u(Mn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"created_at",kind:"message",T:z},{no:3,name:"executed_at",kind:"message",T:z}]));let bu=Mn;const Un=class Un extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"createdAtMapByActor",{});u(this,"content","");u(this,"executedAt");u(this,"attributes",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Un().fromBinary(n,i)}static fromJson(n,i){return new Un().fromJson(n,i)}static fromJsonString(n,i){return new Un().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Un,n,i)}};u(Un,"runtime",f),u(Un,"typeName","yorkie.v1.Operation.Edit"),u(Un,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"from",kind:"message",T:Wi},{no:3,name:"to",kind:"message",T:Wi},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:z}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:z},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let wu=Un;const Ln=class Ln extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Ln().fromBinary(n,i)}static fromJson(n,i){return new Ln().fromJson(n,i)}static fromJsonString(n,i){return new Ln().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ln,n,i)}};u(Ln,"runtime",f),u(Ln,"typeName","yorkie.v1.Operation.Select"),u(Ln,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"from",kind:"message",T:Wi},{no:3,name:"to",kind:"message",T:Wi},{no:4,name:"executed_at",kind:"message",T:z}]));let nh=Ln;const Jn=class Jn extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"attributes",{});u(this,"executedAt");u(this,"createdAtMapByActor",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Jn().fromBinary(n,i)}static fromJson(n,i){return new Jn().fromJson(n,i)}static fromJsonString(n,i){return new Jn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Jn,n,i)}};u(Jn,"runtime",f),u(Jn,"typeName","yorkie.v1.Operation.Style"),u(Jn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"from",kind:"message",T:Wi},{no:3,name:"to",kind:"message",T:Wi},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:z},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:z}}]));let Au=Jn;const qn=class qn extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new qn().fromBinary(n,i)}static fromJson(n,i){return new qn().fromJson(n,i)}static fromJsonString(n,i){return new qn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(qn,n,i)}};u(qn,"runtime",f),u(qn,"typeName","yorkie.v1.Operation.Increase"),u(qn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"value",kind:"message",T:xe},{no:3,name:"executed_at",kind:"message",T:z}]));let Eu=qn;const Pn=class Pn extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"createdAtMapByActor",{});u(this,"contents",[]);u(this,"splitLevel",0);u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Pn().fromBinary(n,i)}static fromJson(n,i){return new Pn().fromJson(n,i)}static fromJsonString(n,i){return new Pn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Pn,n,i)}};u(Pn,"runtime",f),u(Pn,"typeName","yorkie.v1.Operation.TreeEdit"),u(Pn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"from",kind:"message",T:oa},{no:3,name:"to",kind:"message",T:oa},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:z}},{no:5,name:"contents",kind:"message",T:Mu,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:z}]));let Nu=Pn;const Hn=class Hn extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"attributes",{});u(this,"executedAt");u(this,"attributesToRemove",[]);u(this,"createdAtMapByActor",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Hn().fromBinary(n,i)}static fromJson(n,i){return new Hn().fromJson(n,i)}static fromJsonString(n,i){return new Hn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Hn,n,i)}};u(Hn,"runtime",f),u(Hn,"typeName","yorkie.v1.Operation.TreeStyle"),u(Hn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"from",kind:"message",T:oa},{no:3,name:"to",kind:"message",T:oa},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:z},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:z}}]));let xu=Hn;const Vn=class Vn extends R{constructor(n){super();u(this,"parentCreatedAt");u(this,"createdAt");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Vn().fromBinary(n,i)}static fromJson(n,i){return new Vn().fromJson(n,i)}static fromJsonString(n,i){return new Vn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Vn,n,i)}};u(Vn,"runtime",f),u(Vn,"typeName","yorkie.v1.Operation.ArraySet"),u(Vn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"created_at",kind:"message",T:z},{no:3,name:"value",kind:"message",T:xe},{no:4,name:"executed_at",kind:"message",T:z}]));let ih=Vn;const jn=class jn extends R{constructor(n){super();u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");u(this,"type",0);u(this,"value",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new jn().fromBinary(n,i)}static fromJson(n,i){return new jn().fromJson(n,i)}static fromJsonString(n,i){return new jn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(jn,n,i)}};u(jn,"runtime",f),u(jn,"typeName","yorkie.v1.JSONElementSimple"),u(jn,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:z},{no:2,name:"moved_at",kind:"message",T:z},{no:3,name:"removed_at",kind:"message",T:z},{no:4,name:"type",kind:"enum",T:f.getEnumType(H)},{no:5,name:"value",kind:"scalar",T:12}]));let xe=jn;const Gn=class Gn extends R{constructor(n){super();u(this,"body",{case:void 0});f.util.initPartial(n,this)}static fromBinary(n,i){return new Gn().fromBinary(n,i)}static fromJson(n,i){return new Gn().fromJson(n,i)}static fromJsonString(n,i){return new Gn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Gn,n,i)}};u(Gn,"runtime",f),u(Gn,"typeName","yorkie.v1.JSONElement"),u(Gn,"fields",f.util.newFieldList(()=>[{no:1,name:"json_object",kind:"message",T:Du,oneof:"body"},{no:2,name:"json_array",kind:"message",T:Ou,oneof:"body"},{no:3,name:"primitive",kind:"message",T:Cu,oneof:"body"},{no:5,name:"text",kind:"message",T:ku,oneof:"body"},{no:6,name:"counter",kind:"message",T:Ru,oneof:"body"},{no:7,name:"tree",kind:"message",T:Bu,oneof:"body"}]));let oe=Gn;const Yn=class Yn extends R{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Yn().fromBinary(n,i)}static fromJson(n,i){return new Yn().fromJson(n,i)}static fromJsonString(n,i){return new Yn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Yn,n,i)}};u(Yn,"runtime",f),u(Yn,"typeName","yorkie.v1.JSONElement.JSONObject"),u(Yn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:V0,repeated:!0},{no:2,name:"created_at",kind:"message",T:z},{no:3,name:"moved_at",kind:"message",T:z},{no:4,name:"removed_at",kind:"message",T:z}]));let Du=Yn;const Kn=class Kn extends R{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Kn().fromBinary(n,i)}static fromJson(n,i){return new Kn().fromJson(n,i)}static fromJsonString(n,i){return new Kn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Kn,n,i)}};u(Kn,"runtime",f),u(Kn,"typeName","yorkie.v1.JSONElement.JSONArray"),u(Kn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Iu,repeated:!0},{no:2,name:"created_at",kind:"message",T:z},{no:3,name:"moved_at",kind:"message",T:z},{no:4,name:"removed_at",kind:"message",T:z}]));let Ou=Kn;const $n=class $n extends R{constructor(n){super();u(this,"type",0);u(this,"value",new Uint8Array(0));u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new $n().fromBinary(n,i)}static fromJson(n,i){return new $n().fromJson(n,i)}static fromJsonString(n,i){return new $n().fromJsonString(n,i)}static equals(n,i){return f.util.equals($n,n,i)}};u($n,"runtime",f),u($n,"typeName","yorkie.v1.JSONElement.Primitive"),u($n,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(H)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:z},{no:4,name:"moved_at",kind:"message",T:z},{no:5,name:"removed_at",kind:"message",T:z}]));let Cu=$n;const Xn=class Xn extends R{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Xn().fromBinary(n,i)}static fromJson(n,i){return new Xn().fromJson(n,i)}static fromJsonString(n,i){return new Xn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Xn,n,i)}};u(Xn,"runtime",f),u(Xn,"typeName","yorkie.v1.JSONElement.Text"),u(Xn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:zu,repeated:!0},{no:2,name:"created_at",kind:"message",T:z},{no:3,name:"moved_at",kind:"message",T:z},{no:4,name:"removed_at",kind:"message",T:z}]));let ku=Xn;const Zn=class Zn extends R{constructor(n){super();u(this,"type",0);u(this,"value",new Uint8Array(0));u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Zn().fromBinary(n,i)}static fromJson(n,i){return new Zn().fromJson(n,i)}static fromJsonString(n,i){return new Zn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Zn,n,i)}};u(Zn,"runtime",f),u(Zn,"typeName","yorkie.v1.JSONElement.Counter"),u(Zn,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(H)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:z},{no:4,name:"moved_at",kind:"message",T:z},{no:5,name:"removed_at",kind:"message",T:z}]));let Ru=Zn;const Qn=class Qn extends R{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Qn().fromBinary(n,i)}static fromJson(n,i){return new Qn().fromJson(n,i)}static fromJsonString(n,i){return new Qn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Qn,n,i)}};u(Qn,"runtime",f),u(Qn,"typeName","yorkie.v1.JSONElement.Tree"),u(Qn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:wo,repeated:!0},{no:2,name:"created_at",kind:"message",T:z},{no:3,name:"moved_at",kind:"message",T:z},{no:4,name:"removed_at",kind:"message",T:z}]));let Bu=Qn;var Be;let V0=(Be=class extends R{constructor(n){super();u(this,"key","");u(this,"element");f.util.initPartial(n,this)}static fromBinary(n,i){return new Be().fromBinary(n,i)}static fromJson(n,i){return new Be().fromJson(n,i)}static fromJsonString(n,i){return new Be().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Be,n,i)}},u(Be,"runtime",f),u(Be,"typeName","yorkie.v1.RHTNode"),u(Be,"fields",f.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:oe}])),Be);const an=class an extends R{constructor(n){super();u(this,"next");u(this,"element");f.util.initPartial(n,this)}static fromBinary(n,i){return new an().fromBinary(n,i)}static fromJson(n,i){return new an().fromJson(n,i)}static fromJsonString(n,i){return new an().fromJsonString(n,i)}static equals(n,i){return f.util.equals(an,n,i)}};u(an,"runtime",f),u(an,"typeName","yorkie.v1.RGANode"),u(an,"fields",f.util.newFieldList(()=>[{no:1,name:"next",kind:"message",T:an},{no:2,name:"element",kind:"message",T:oe}]));let Iu=an;const _n=class _n extends R{constructor(n){super();u(this,"value","");u(this,"updatedAt");u(this,"isRemoved",!1);f.util.initPartial(n,this)}static fromBinary(n,i){return new _n().fromBinary(n,i)}static fromJson(n,i){return new _n().fromJson(n,i)}static fromJsonString(n,i){return new _n().fromJsonString(n,i)}static equals(n,i){return f.util.equals(_n,n,i)}};u(_n,"runtime",f),u(_n,"typeName","yorkie.v1.NodeAttr"),u(_n,"fields",f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:z},{no:3,name:"is_removed",kind:"scalar",T:8}]));let us=_n;const Fn=class Fn extends R{constructor(n){super();u(this,"id");u(this,"value","");u(this,"removedAt");u(this,"insPrevId");u(this,"attributes",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Fn().fromBinary(n,i)}static fromJson(n,i){return new Fn().fromJson(n,i)}static fromJsonString(n,i){return new Fn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Fn,n,i)}};u(Fn,"runtime",f),u(Fn,"typeName","yorkie.v1.TextNode"),u(Fn,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:bo},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:z},{no:4,name:"ins_prev_id",kind:"message",T:bo},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:us}}]));let zu=Fn;const Wn=class Wn extends R{constructor(n){super();u(this,"createdAt");u(this,"offset",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new Wn().fromBinary(n,i)}static fromJson(n,i){return new Wn().fromJson(n,i)}static fromJsonString(n,i){return new Wn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Wn,n,i)}};u(Wn,"runtime",f),u(Wn,"typeName","yorkie.v1.TextNodeID"),u(Wn,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:z},{no:2,name:"offset",kind:"scalar",T:5}]));let bo=Wn;const ti=class ti extends R{constructor(n){super();u(this,"id");u(this,"type","");u(this,"value","");u(this,"removedAt");u(this,"insPrevId");u(this,"insNextId");u(this,"depth",0);u(this,"attributes",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new ti().fromBinary(n,i)}static fromJson(n,i){return new ti().fromJson(n,i)}static fromJsonString(n,i){return new ti().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ti,n,i)}};u(ti,"runtime",f),u(ti,"typeName","yorkie.v1.TreeNode"),u(ti,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:kr},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:z},{no:5,name:"ins_prev_id",kind:"message",T:kr},{no:6,name:"ins_next_id",kind:"message",T:kr},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:us}}]));let wo=ti;const ei=class ei extends R{constructor(n){super();u(this,"content",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new ei().fromBinary(n,i)}static fromJson(n,i){return new ei().fromJson(n,i)}static fromJsonString(n,i){return new ei().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ei,n,i)}};u(ei,"runtime",f),u(ei,"typeName","yorkie.v1.TreeNodes"),u(ei,"fields",f.util.newFieldList(()=>[{no:1,name:"content",kind:"message",T:wo,repeated:!0}]));let Mu=ei;const ni=class ni extends R{constructor(n){super();u(this,"createdAt");u(this,"offset",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new ni().fromBinary(n,i)}static fromJson(n,i){return new ni().fromJson(n,i)}static fromJsonString(n,i){return new ni().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ni,n,i)}};u(ni,"runtime",f),u(ni,"typeName","yorkie.v1.TreeNodeID"),u(ni,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:z},{no:2,name:"offset",kind:"scalar",T:5}]));let kr=ni;const ii=class ii extends R{constructor(n){super();u(this,"parentId");u(this,"leftSiblingId");f.util.initPartial(n,this)}static fromBinary(n,i){return new ii().fromBinary(n,i)}static fromJson(n,i){return new ii().fromJson(n,i)}static fromJsonString(n,i){return new ii().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ii,n,i)}};u(ii,"runtime",f),u(ii,"typeName","yorkie.v1.TreePos"),u(ii,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_id",kind:"message",T:kr},{no:2,name:"left_sibling_id",kind:"message",T:kr}]));let oa=ii;const ri=class ri extends R{constructor(n){super();u(this,"id","");u(this,"authProvider","");u(this,"username","");u(this,"createdAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new ri().fromBinary(n,i)}static fromJson(n,i){return new ri().fromJson(n,i)}static fromJsonString(n,i){return new ri().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ri,n,i)}};u(ri,"runtime",f),u(ri,"typeName","yorkie.v1.User"),u(ri,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"auth_provider",kind:"scalar",T:9},{no:3,name:"username",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:Yt}]));let ny=ri;const ai=class ai extends R{constructor(n){super();u(this,"id","");u(this,"name","");u(this,"publicKey","");u(this,"secretKey","");u(this,"authWebhookUrl","");u(this,"authWebhookMethods",[]);u(this,"eventWebhookUrl","");u(this,"eventWebhookEvents",[]);u(this,"clientDeactivateThreshold","");u(this,"maxSubscribersPerDocument",0);u(this,"maxAttachmentsPerDocument",0);u(this,"maxSizePerDocument",0);u(this,"allowedOrigins",[]);u(this,"createdAt");u(this,"updatedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new ai().fromBinary(n,i)}static fromJson(n,i){return new ai().fromJson(n,i)}static fromJsonString(n,i){return new ai().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ai,n,i)}};u(ai,"runtime",f),u(ai,"typeName","yorkie.v1.Project"),u(ai,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"event_webhook_url",kind:"scalar",T:9},{no:8,name:"event_webhook_events",kind:"scalar",T:9,repeated:!0},{no:9,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:10,name:"max_subscribers_per_document",kind:"scalar",T:5},{no:11,name:"max_attachments_per_document",kind:"scalar",T:5},{no:15,name:"max_size_per_document",kind:"scalar",T:5},{no:14,name:"allowed_origins",kind:"scalar",T:9,repeated:!0},{no:12,name:"created_at",kind:"message",T:Yt},{no:13,name:"updated_at",kind:"message",T:Yt}]));let iy=ai;const si=class si extends R{constructor(n){super();u(this,"timestamp",ut.zero);u(this,"value",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new si().fromBinary(n,i)}static fromJson(n,i){return new si().fromJson(n,i)}static fromJsonString(n,i){return new si().fromJsonString(n,i)}static equals(n,i){return f.util.equals(si,n,i)}};u(si,"runtime",f),u(si,"typeName","yorkie.v1.MetricPoint"),u(si,"fields",f.util.newFieldList(()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"value",kind:"scalar",T:5}]));let ry=si;const oi=class oi extends R{constructor(n){super();u(this,"name");u(this,"authWebhookUrl");u(this,"authWebhookMethods");u(this,"eventWebhookUrl");u(this,"eventWebhookEvents");u(this,"clientDeactivateThreshold");u(this,"maxSubscribersPerDocument");u(this,"maxAttachmentsPerDocument");u(this,"maxSizePerDocument");u(this,"allowedOrigins");f.util.initPartial(n,this)}static fromBinary(n,i){return new oi().fromBinary(n,i)}static fromJson(n,i){return new oi().fromJson(n,i)}static fromJsonString(n,i){return new oi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(oi,n,i)}};u(oi,"runtime",f),u(oi,"typeName","yorkie.v1.UpdatableProjectFields"),u(oi,"fields",f.util.newFieldList(()=>[{no:1,name:"name",kind:"message",T:ie},{no:2,name:"auth_webhook_url",kind:"message",T:ie},{no:3,name:"auth_webhook_methods",kind:"message",T:rh},{no:4,name:"event_webhook_url",kind:"message",T:ie},{no:5,name:"event_webhook_events",kind:"message",T:ah},{no:6,name:"client_deactivate_threshold",kind:"message",T:ie},{no:7,name:"max_subscribers_per_document",kind:"message",T:de},{no:8,name:"max_attachments_per_document",kind:"message",T:de},{no:10,name:"max_size_per_document",kind:"message",T:de},{no:9,name:"allowed_origins",kind:"message",T:sh}]));let ay=oi;const li=class li extends R{constructor(n){super();u(this,"methods",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new li().fromBinary(n,i)}static fromJson(n,i){return new li().fromJson(n,i)}static fromJsonString(n,i){return new li().fromJsonString(n,i)}static equals(n,i){return f.util.equals(li,n,i)}};u(li,"runtime",f),u(li,"typeName","yorkie.v1.UpdatableProjectFields.AuthWebhookMethods"),u(li,"fields",f.util.newFieldList(()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}]));let rh=li;const ui=class ui extends R{constructor(n){super();u(this,"events",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new ui().fromBinary(n,i)}static fromJson(n,i){return new ui().fromJson(n,i)}static fromJsonString(n,i){return new ui().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ui,n,i)}};u(ui,"runtime",f),u(ui,"typeName","yorkie.v1.UpdatableProjectFields.EventWebhookEvents"),u(ui,"fields",f.util.newFieldList(()=>[{no:1,name:"events",kind:"scalar",T:9,repeated:!0}]));let ah=ui;const ci=class ci extends R{constructor(n){super();u(this,"origins",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new ci().fromBinary(n,i)}static fromJson(n,i){return new ci().fromJson(n,i)}static fromJsonString(n,i){return new ci().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ci,n,i)}};u(ci,"runtime",f),u(ci,"typeName","yorkie.v1.UpdatableProjectFields.AllowedOrigins"),u(ci,"fields",f.util.newFieldList(()=>[{no:1,name:"origins",kind:"scalar",T:9,repeated:!0}]));let sh=ci;const fi=class fi extends R{constructor(n){super();u(this,"id","");u(this,"key","");u(this,"snapshot","");u(this,"attachedClients",0);u(this,"documentSize");u(this,"createdAt");u(this,"accessedAt");u(this,"updatedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new fi().fromBinary(n,i)}static fromJson(n,i){return new fi().fromJson(n,i)}static fromJsonString(n,i){return new fi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(fi,n,i)}};u(fi,"runtime",f),u(fi,"typeName","yorkie.v1.DocumentSummary"),u(fi,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"snapshot",kind:"scalar",T:9},{no:7,name:"attached_clients",kind:"scalar",T:5},{no:8,name:"document_size",kind:"message",T:uh},{no:4,name:"created_at",kind:"message",T:Yt},{no:5,name:"accessed_at",kind:"message",T:Yt},{no:6,name:"updated_at",kind:"message",T:Yt}]));let sy=fi;const hi=class hi extends R{constructor(n){super();u(this,"type",0);u(this,"presence");f.util.initPartial(n,this)}static fromBinary(n,i){return new hi().fromBinary(n,i)}static fromJson(n,i){return new hi().fromJson(n,i)}static fromJsonString(n,i){return new hi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(hi,n,i)}};u(hi,"runtime",f),u(hi,"typeName","yorkie.v1.PresenceChange"),u(hi,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(la)},{no:2,name:"presence",kind:"message",T:zd}]));let Ao=hi;var la=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PUT=1]="PUT",e[e.DELETE=2]="DELETE",e[e.CLEAR=3]="CLEAR",e))(la||{});f.util.setEnumType(la,"yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT"},{no:2,name:"CHANGE_TYPE_DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR"}]);var Ie;let zd=(Ie=class extends R{constructor(n){super();u(this,"data",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new Ie().fromBinary(n,i)}static fromJson(n,i){return new Ie().fromJson(n,i)}static fromJsonString(n,i){return new Ie().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ie,n,i)}},u(Ie,"runtime",f),u(Ie,"typeName","yorkie.v1.Presence"),u(Ie,"fields",f.util.newFieldList(()=>[{no:1,name:"data",kind:"scalar",T:9,repeated:!0}])),Ie);var ze;let j0=(ze=class extends R{constructor(n){super();u(this,"serverSeq",ut.zero);u(this,"clientSeq",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new ze().fromBinary(n,i)}static fromJson(n,i){return new ze().fromJson(n,i)}static fromJsonString(n,i){return new ze().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ze,n,i)}},u(ze,"runtime",f),u(ze,"typeName","yorkie.v1.Checkpoint"),u(ze,"fields",f.util.newFieldList(()=>[{no:1,name:"server_seq",kind:"scalar",T:3},{no:2,name:"client_seq",kind:"scalar",T:13}])),ze);const di=class di extends R{constructor(n){super();u(this,"createdAt");u(this,"offset",0);u(this,"relativeOffset",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new di().fromBinary(n,i)}static fromJson(n,i){return new di().fromJson(n,i)}static fromJsonString(n,i){return new di().fromJsonString(n,i)}static equals(n,i){return f.util.equals(di,n,i)}};u(di,"runtime",f),u(di,"typeName","yorkie.v1.TextNodePos"),u(di,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:z},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]));let Wi=di;var Me;let z=(Me=class extends R{constructor(n){super();u(this,"lamport",ut.zero);u(this,"delimiter",0);u(this,"actorId",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new Me().fromBinary(n,i)}static fromJson(n,i){return new Me().fromJson(n,i)}static fromJsonString(n,i){return new Me().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Me,n,i)}},u(Me,"runtime",f),u(Me,"typeName","yorkie.v1.TimeTicket"),u(Me,"fields",f.util.newFieldList(()=>[{no:1,name:"lamport",kind:"scalar",T:3},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}])),Me);const gi=class gi extends R{constructor(n){super();u(this,"topic","");u(this,"payload",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new gi().fromBinary(n,i)}static fromJson(n,i){return new gi().fromJson(n,i)}static fromJsonString(n,i){return new gi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(gi,n,i)}};u(gi,"runtime",f),u(gi,"typeName","yorkie.v1.DocEventBody"),u(gi,"fields",f.util.newFieldList(()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]));let oh=gi;const mi=class mi extends R{constructor(n){super();u(this,"type",0);u(this,"publisher","");u(this,"body");f.util.initPartial(n,this)}static fromBinary(n,i){return new mi().fromBinary(n,i)}static fromJson(n,i){return new mi().fromJson(n,i)}static fromJsonString(n,i){return new mi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(mi,n,i)}};u(mi,"runtime",f),u(mi,"typeName","yorkie.v1.DocEvent"),u(mi,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(na)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:oh}]));let lh=mi;const yi=class yi extends R{constructor(n){super();u(this,"data",0);u(this,"meta",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new yi().fromBinary(n,i)}static fromJson(n,i){return new yi().fromJson(n,i)}static fromJsonString(n,i){return new yi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(yi,n,i)}};u(yi,"runtime",f),u(yi,"typeName","yorkie.v1.DataSize"),u(yi,"fields",f.util.newFieldList(()=>[{no:1,name:"data",kind:"scalar",T:5},{no:2,name:"meta",kind:"scalar",T:5}]));let Uu=yi;const pi=class pi extends R{constructor(n){super();u(this,"live");u(this,"gc");f.util.initPartial(n,this)}static fromBinary(n,i){return new pi().fromBinary(n,i)}static fromJson(n,i){return new pi().fromJson(n,i)}static fromJsonString(n,i){return new pi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(pi,n,i)}};u(pi,"runtime",f),u(pi,"typeName","yorkie.v1.DocSize"),u(pi,"fields",f.util.newFieldList(()=>[{no:1,name:"live",kind:"message",T:Uu},{no:2,name:"gc",kind:"message",T:Uu}]));let uh=pi;const vi=class vi extends R{constructor(n){super();u(this,"clientKey","");u(this,"metadata",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new vi().fromBinary(n,i)}static fromJson(n,i){return new vi().fromJson(n,i)}static fromJsonString(n,i){return new vi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(vi,n,i)}};u(vi,"runtime",f),u(vi,"typeName","yorkie.v1.ActivateClientRequest"),u(vi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_key",kind:"scalar",T:9},{no:2,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let ch=vi;const Si=class Si extends R{constructor(n){super();u(this,"clientId","");f.util.initPartial(n,this)}static fromBinary(n,i){return new Si().fromBinary(n,i)}static fromJson(n,i){return new Si().fromJson(n,i)}static fromJsonString(n,i){return new Si().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Si,n,i)}};u(Si,"runtime",f),u(Si,"typeName","yorkie.v1.ActivateClientResponse"),u(Si,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let fh=Si;const Ti=class Ti extends R{constructor(n){super();u(this,"clientId","");f.util.initPartial(n,this)}static fromBinary(n,i){return new Ti().fromBinary(n,i)}static fromJson(n,i){return new Ti().fromJson(n,i)}static fromJsonString(n,i){return new Ti().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ti,n,i)}};u(Ti,"runtime",f),u(Ti,"typeName","yorkie.v1.DeactivateClientRequest"),u(Ti,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let hh=Ti;const bi=class bi extends R{constructor(t){super(),f.util.initPartial(t,this)}static fromBinary(t,n){return new bi().fromBinary(t,n)}static fromJson(t,n){return new bi().fromJson(t,n)}static fromJsonString(t,n){return new bi().fromJsonString(t,n)}static equals(t,n){return f.util.equals(bi,t,n)}};u(bi,"runtime",f),u(bi,"typeName","yorkie.v1.DeactivateClientResponse"),u(bi,"fields",f.util.newFieldList(()=>[]));let dh=bi;const wi=class wi extends R{constructor(n){super();u(this,"clientId","");u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new wi().fromBinary(n,i)}static fromJson(n,i){return new wi().fromJson(n,i)}static fromJsonString(n,i){return new wi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(wi,n,i)}};u(wi,"runtime",f),u(wi,"typeName","yorkie.v1.AttachDocumentRequest"),u(wi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:nr}]));let gh=wi;const Ai=class Ai extends R{constructor(n){super();u(this,"documentId","");u(this,"maxSizePerDocument",0);u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new Ai().fromBinary(n,i)}static fromJson(n,i){return new Ai().fromJson(n,i)}static fromJsonString(n,i){return new Ai().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ai,n,i)}};u(Ai,"runtime",f),u(Ai,"typeName","yorkie.v1.AttachDocumentResponse"),u(Ai,"fields",f.util.newFieldList(()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:3,name:"max_size_per_document",kind:"scalar",T:5},{no:2,name:"change_pack",kind:"message",T:nr}]));let mh=Ai;const Ei=class Ei extends R{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"changePack");u(this,"removeIfNotAttached",!1);f.util.initPartial(n,this)}static fromBinary(n,i){return new Ei().fromBinary(n,i)}static fromJson(n,i){return new Ei().fromJson(n,i)}static fromJsonString(n,i){return new Ei().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ei,n,i)}};u(Ei,"runtime",f),u(Ei,"typeName","yorkie.v1.DetachDocumentRequest"),u(Ei,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:nr},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]));let yh=Ei;const Ni=class Ni extends R{constructor(n){super();u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new Ni().fromBinary(n,i)}static fromJson(n,i){return new Ni().fromJson(n,i)}static fromJsonString(n,i){return new Ni().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ni,n,i)}};u(Ni,"runtime",f),u(Ni,"typeName","yorkie.v1.DetachDocumentResponse"),u(Ni,"fields",f.util.newFieldList(()=>[{no:2,name:"change_pack",kind:"message",T:nr}]));let ph=Ni;const xi=class xi extends R{constructor(n){super();u(this,"clientId","");u(this,"documentId","");f.util.initPartial(n,this)}static fromBinary(n,i){return new xi().fromBinary(n,i)}static fromJson(n,i){return new xi().fromJson(n,i)}static fromJsonString(n,i){return new xi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(xi,n,i)}};u(xi,"runtime",f),u(xi,"typeName","yorkie.v1.WatchDocumentRequest"),u(xi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]));let vh=xi;const Di=class Di extends R{constructor(n){super();u(this,"body",{case:void 0});f.util.initPartial(n,this)}static fromBinary(n,i){return new Di().fromBinary(n,i)}static fromJson(n,i){return new Di().fromJson(n,i)}static fromJsonString(n,i){return new Di().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Di,n,i)}};u(Di,"runtime",f),u(Di,"typeName","yorkie.v1.WatchDocumentResponse"),u(Di,"fields",f.util.newFieldList(()=>[{no:1,name:"initialization",kind:"message",T:Th,oneof:"body"},{no:2,name:"event",kind:"message",T:lh,oneof:"body"}]));let Sh=Di;const Oi=class Oi extends R{constructor(n){super();u(this,"clientIds",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new Oi().fromBinary(n,i)}static fromJson(n,i){return new Oi().fromJson(n,i)}static fromJsonString(n,i){return new Oi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Oi,n,i)}};u(Oi,"runtime",f),u(Oi,"typeName","yorkie.v1.WatchDocumentResponse.Initialization"),u(Oi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}]));let Th=Oi;const Ci=class Ci extends R{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new Ci().fromBinary(n,i)}static fromJson(n,i){return new Ci().fromJson(n,i)}static fromJsonString(n,i){return new Ci().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ci,n,i)}};u(Ci,"runtime",f),u(Ci,"typeName","yorkie.v1.RemoveDocumentRequest"),u(Ci,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:nr}]));let bh=Ci;const ki=class ki extends R{constructor(n){super();u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new ki().fromBinary(n,i)}static fromJson(n,i){return new ki().fromJson(n,i)}static fromJsonString(n,i){return new ki().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ki,n,i)}};u(ki,"runtime",f),u(ki,"typeName","yorkie.v1.RemoveDocumentResponse"),u(ki,"fields",f.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:nr}]));let wh=ki;const Ri=class Ri extends R{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"changePack");u(this,"pushOnly",!1);f.util.initPartial(n,this)}static fromBinary(n,i){return new Ri().fromBinary(n,i)}static fromJson(n,i){return new Ri().fromJson(n,i)}static fromJsonString(n,i){return new Ri().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ri,n,i)}};u(Ri,"runtime",f),u(Ri,"typeName","yorkie.v1.PushPullChangesRequest"),u(Ri,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:nr},{no:4,name:"push_only",kind:"scalar",T:8}]));let Ah=Ri;const Bi=class Bi extends R{constructor(n){super();u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new Bi().fromBinary(n,i)}static fromJson(n,i){return new Bi().fromJson(n,i)}static fromJsonString(n,i){return new Bi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Bi,n,i)}};u(Bi,"runtime",f),u(Bi,"typeName","yorkie.v1.PushPullChangesResponse"),u(Bi,"fields",f.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:nr}]));let Eh=Bi;const Ii=class Ii extends R{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"topic","");u(this,"payload",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new Ii().fromBinary(n,i)}static fromJson(n,i){return new Ii().fromJson(n,i)}static fromJsonString(n,i){return new Ii().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ii,n,i)}};u(Ii,"runtime",f),u(Ii,"typeName","yorkie.v1.BroadcastRequest"),u(Ii,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]));let Nh=Ii;const zi=class zi extends R{constructor(t){super(),f.util.initPartial(t,this)}static fromBinary(t,n){return new zi().fromBinary(t,n)}static fromJson(t,n){return new zi().fromJson(t,n)}static fromJsonString(t,n){return new zi().fromJsonString(t,n)}static equals(t,n){return f.util.equals(zi,t,n)}};u(zi,"runtime",f),u(zi,"typeName","yorkie.v1.BroadcastResponse"),u(zi,"fields",f.util.newFieldList(()=>[]));let xh=zi;const Zw={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:ch,O:fh,kind:Zt.Unary},deactivateClient:{name:"DeactivateClient",I:hh,O:dh,kind:Zt.Unary},attachDocument:{name:"AttachDocument",I:gh,O:mh,kind:Zt.Unary},detachDocument:{name:"DetachDocument",I:yh,O:ph,kind:Zt.Unary},removeDocument:{name:"RemoveDocument",I:bh,O:wh,kind:Zt.Unary},pushPullChanges:{name:"PushPullChanges",I:Ah,O:Eh,kind:Zt.Unary},watchDocument:{name:"WatchDocument",I:vh,O:Sh,kind:Zt.ServerStreaming},broadcast:{name:"Broadcast",I:Nh,O:xh,kind:Zt.Unary}}},Qw=f.makeMessageType("google.rpc.ErrorInfo",()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]);f.makeMessageType("google.rpc.RetryInfo",()=>[{no:1,name:"retry_delay",kind:"message",T:Vi}]);f.makeMessageType("google.rpc.DebugInfo",()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.QuotaFailure",()=>[{no:1,name:"violations",kind:"message",T:_w,repeated:!0}]);const _w=f.makeMessageType("google.rpc.QuotaFailure.Violation",()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}],{localName:"QuotaFailure_Violation"});f.makeMessageType("google.rpc.PreconditionFailure",()=>[{no:1,name:"violations",kind:"message",T:Fw,repeated:!0}]);const Fw=f.makeMessageType("google.rpc.PreconditionFailure.Violation",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}],{localName:"PreconditionFailure_Violation"});f.makeMessageType("google.rpc.BadRequest",()=>[{no:1,name:"field_violations",kind:"message",T:Ww,repeated:!0}]);const Ww=f.makeMessageType("google.rpc.BadRequest.FieldViolation",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"reason",kind:"scalar",T:9},{no:4,name:"localized_message",kind:"message",T:eA}],{localName:"BadRequest_FieldViolation"});f.makeMessageType("google.rpc.RequestInfo",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.ResourceInfo",()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.Help",()=>[{no:1,name:"links",kind:"message",T:tA,repeated:!0}]);const tA=f.makeMessageType("google.rpc.Help.Link",()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}],{localName:"Help_Link"}),eA=f.makeMessageType("google.rpc.LocalizedMessage",()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]);var S=(e=>(e.Ok="ok",e.ErrClientNotActivated="ErrClientNotActivated",e.ErrClientNotFound="ErrClientNotFound",e.ErrUnimplemented="ErrUnimplemented",e.ErrInvalidType="ErrInvalidType",e.ErrDummy="ErrDummy",e.ErrDocumentNotAttached="ErrDocumentNotAttached",e.ErrDocumentNotDetached="ErrDocumentNotDetached",e.ErrDocumentRemoved="ErrDocumentRemoved",e.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",e.ErrInvalidObjectKey="ErrInvalidObjectKey",e.ErrInvalidArgument="ErrInvalidArgument",e.ErrNotInitialized="ErrNotInitialized",e.ErrNotReady="ErrNotReady",e.ErrRefused="ErrRefused",e.ErrContextNotProvided="ErrContextNotProvided",e.ErrPermissionDenied="ErrPermissionDenied",e.ErrUnauthenticated="ErrUnauthenticated",e.ErrTooManySubscribers="ErrTooManySubscribers",e.ErrTooManyAttachments="ErrTooManyAttachments",e))(S||{});class T extends Error{constructor(n,i){super(i);u(this,"name","YorkieError");u(this,"stack");this.code=n,this.message=i,this.toString=()=>`[code=${this.code}]: ${this.message}`}}var En=(e=>(e.Put="put",e.Clear="clear",e))(En||{});const uc="000000000000000000000000",bn=24;class He{constructor(t,n,i){u(this,"lamport");u(this,"delimiter");u(this,"actorID");this.lamport=t,this.delimiter=n,this.actorID=i}static of(t,n,i){return new He(t,n,i)}static fromStruct(t){return He.of(BigInt(t.lamport),t.delimiter,t.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(t){return new He(this.lamport,this.delimiter,t)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(t){return this.compare(t)>0}equals(t){return this.compare(t)===0}compare(t){if(this.lamport>t.lamport)return 1;if(t.lamport>this.lamport)return-1;const n=this.actorID.localeCompare(t.actorID);return n!==0?n:this.delimiter>t.delimiter?1:t.delimiter>this.delimiter?-1:0}}const Dh=0n,G0=0,no=9223372036854775807n,cs=new He(Dh,G0,uc);function pn(e){return e.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(t){switch(t){case'"':case"\\":return"\\"+t;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return t}})}class Ko{constructor(t){u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");this.createdAt=t}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(t){return!this.movedAt||t&&t.after(this.movedAt)?(this.movedAt=t,!0):!1}setRemovedAt(t){this.removedAt=t}remove(t){return t&&t.after(this.getPositionedAt())&&(!this.removedAt||t.after(this.removedAt))?(this.removedAt=t,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let t=0;return this.getCreatedAt()&&(t+=bn),this.getMovedAt()&&(t+=bn),this.getRemovedAt()&&(t+=bn),t}}class Rr extends Ko{constructor(t){super(t)}}class Md{constructor(t,n){u(this,"strKey");u(this,"value");this.strKey=t,this.value=n}static of(t,n){return new Md(t,n)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(t){return this.value.remove(t)}}class Eo{constructor(){u(this,"nodeMapByKey");u(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Eo}set(t,n,i){let r;const a=this.nodeMapByKey.get(t);a!=null&&!a.isRemoved()&&a.remove(i)&&(r=a.getValue());const s=Md.of(t,n);return this.nodeMapByCreatedAt.set(n.getCreatedAt().toIDString(),s),(a==null||i.after(a.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(t,s),n.setMovedAt(i)),r}delete(t,n){if(!this.nodeMapByCreatedAt.has(t.toIDString()))throw new T(S.ErrInvalidArgument,`fail to find ${t.toIDString()}`);const i=this.nodeMapByCreatedAt.get(t.toIDString());return i.remove(n),i.getValue()}subPathOf(t){const n=this.nodeMapByCreatedAt.get(t.toIDString());if(n)return n.getStrKey()}purge(t){const n=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!n)throw new T(S.ErrInvalidArgument,`fail to find ${t.getCreatedAt().toIDString()}`);const i=this.nodeMapByKey.get(n.getStrKey());n===i&&this.nodeMapByKey.delete(i.getStrKey()),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}deleteByKey(t,n){const i=this.nodeMapByKey.get(t);if(i!=null&&i.remove(n))return i.getValue()}has(t){const n=this.nodeMapByKey.get(t);return n==null?!1:!n.isRemoved()}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}get(t){const n=this.nodeMapByKey.get(t);if(!(!n||n.isRemoved()))return n}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}}class ae extends Rr{constructor(n,i){super(n);u(this,"memberNodes");this.memberNodes=i}static create(n,i){if(!i)return new ae(n,Eo.create());const r=Eo.create();for(const[a,s]of Object.entries(i))r.set(a,s.deepcopy(),s.getCreatedAt());return new ae(n,r)}subPathOf(n){return this.memberNodes.subPathOf(n)}purge(n){this.memberNodes.purge(n)}set(n,i,r){return this.memberNodes.set(n,i,r)}delete(n,i){return this.memberNodes.delete(n,i)}deleteByKey(n,i){return this.memberNodes.deleteByKey(n,i)}get(n){const i=this.memberNodes.get(n);return i==null?void 0:i.getValue()}getByID(n){const i=this.memberNodes.getByID(n);return i==null?void 0:i.getValue()}has(n){return this.memberNodes.has(n)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const n=[];for(const[i,r]of this)n.push(`"${pn(i)}":${r.toJSON()}`);return`{${n.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const n={};for(const[i,r]of this){const{createdAt:a,value:s,type:o}=r.toJSForTest();n[i]={key:i,createdAt:a,value:s,type:o}}return{createdAt:this.getCreatedAt().toTestString(),value:n,type:"YORKIE_OBJECT"}}getKeys(){const n=Array();for(const[i]of this)n.push(i);return n}toSortedJSON(){var r;const n=Array();for(const[a]of this)n.push(a);const i=[];for(const a of n.sort()){const s=(r=this.memberNodes.get(a))==null?void 0:r.getValue();i.push(`"${pn(a)}":${s.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const n=ae.create(this.getCreatedAt());for(const i of this.memberNodes)n.memberNodes.set(i.getStrKey(),i.getValue().deepcopy(),this.getPositionedAt());return n.remove(this.getRemovedAt()),n}getDescendants(n){for(const i of this.memberNodes){const r=i.getValue();if(n(r,this))return;r instanceof Rr&&r.getDescendants(n)}}*[Symbol.iterator](){const n=new Set;for(const i of this.memberNodes)n.has(i.getStrKey())||(n.add(i.getStrKey()),i.isRemoved()||(yield[i.getStrKey(),i.getValue()]))}}var st=(e=>(e.Local="local",e.Remote="remote",e.UndoRedo="undoredo",e))(st||{});class tn{constructor(t,n){u(this,"parentCreatedAt");u(this,"executedAt");this.parentCreatedAt=t,this.executedAt=n}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new T(S.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(t){this.executedAt&&(this.executedAt=this.executedAt.setActor(t))}setExecutedAt(t){this.executedAt=t}}class Y0{constructor(t){u(this,"value");u(this,"left");u(this,"right");u(this,"parent");u(this,"weight");this.value=t,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(t){this.left=t}setRight(t){this.right=t}setParent(t){this.parent=t}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(t){this.weight+=t}initWeight(){this.weight=this.getLength()}}class No{constructor(t){u(this,"root");this.root=t}get length(){return this.root?this.root.getWeight():0}find(t){if(!this.root||t<0)return[void 0,0];let n=this.root;for(;;)if(n.hasLeft()&&t<=n.getLeftWeight())n=n.getLeft();else if(n.hasRight()&&n.getLeftWeight()+n.getLength()<t)t-=n.getLeftWeight()+n.getLength(),n=n.getRight();else{t-=n.getLeftWeight();break}if(t>n.getLength())throw new T(S.ErrInvalidArgument,`out of index range: pos: ${t} > node.length: ${n.getLength()}`);return this.splayNode(n),[n,t]}indexOf(t){return!t||t!==this.root&&!t.hasLinks()?-1:(this.splayNode(t),this.root.getLeftWeight())}getRoot(){return this.root}insert(t){return this.insertAfter(this.root,t)}insertAfter(t,n){return t?(this.splayNode(t),this.root=n,n.setRight(t.getRight()),t.hasRight()&&t.getRight().setParent(n),n.setLeft(t),t.setParent(n),t.setRight(),this.updateWeight(t),this.updateWeight(n),n):(this.root=n,n)}updateWeight(t){t.initWeight(),t.hasLeft()&&t.increaseWeight(t.getLeftWeight()),t.hasRight()&&t.increaseWeight(t.getRightWeight())}updateTreeWeight(t){for(;t;)this.updateWeight(t),t=t.getParent()}splayNode(t){if(t)for(;;)if(this.isLeftChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t),this.rotateLeft(t);else if(this.isLeftChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t.getParent()),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t.getParent()),this.rotateLeft(t);else{this.isLeftChild(t)?this.rotateRight(t):this.isRightChild(t)&&this.rotateLeft(t),this.updateWeight(t);return}}delete(t){this.splayNode(t);const n=new No(t.getLeft());n.root&&n.root.setParent();const i=new No(t.getRight());if(i.root&&i.root.setParent(),n.root){const r=n.getRightmost();n.splayNode(r),n.root.setRight(i.root),i.root&&i.root.setParent(n.root),this.root=n.root}else this.root=i.root;t.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(t,n){if(!n){this.splayNode(t),this.cutOffRight(t);return}this.splayNode(t),this.splayNode(n),n.getLeft()!=t&&this.rotateRight(t),this.cutOffRight(t)}cutOffRight(t){const n=[];this.traversePostorder(t.getRight(),n);for(const i of n)i.initWeight();this.updateTreeWeight(t)}toTestString(){const t=[];return this.traverseInorder(this.root,t),t.map(n=>`[${n.getWeight()},${n.getLength()}]${n.getValue()||""}`).join("")}checkWeight(){const t=[];this.traverseInorder(this.root,t);for(const n of t)if(n.getWeight()!=n.getLength()+n.getLeftWeight()+n.getRightWeight())return!1;return!0}getRightmost(){let t=this.root;for(;t.hasRight();)t=t.getRight();return t}traverseInorder(t,n){t&&(this.traverseInorder(t.getLeft(),n),n.push(t),this.traverseInorder(t.getRight(),n))}traversePostorder(t,n){t&&(this.traversePostorder(t.getLeft(),n),this.traversePostorder(t.getRight(),n),n.push(t))}rotateLeft(t){const n=t.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(t):n.getParent().setRight(t):this.root=t,t.setParent(n.getParent()),n.setRight(t.getLeft()),n.hasRight()&&n.getRight().setParent(n),t.setLeft(n),t.getLeft().setParent(t),this.updateWeight(n),this.updateWeight(t)}rotateRight(t){const n=t.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(t):n.getParent().setRight(t):this.root=t,t.setParent(n.getParent()),n.setLeft(t.getRight()),n.hasLeft()&&n.getLeft().setParent(n),t.setRight(n),t.getRight().setParent(t),this.updateWeight(n),this.updateWeight(t)}isLeftChild(t){return t&&t.hasParent()?t.getParent().getLeft()===t:!1}isRightChild(t){return t&&t.hasParent()?t.getParent().getRight()===t:!1}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var qe=null;try{qe=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Z(e,t,n){this.low=e|0,this.high=t|0,this.unsigned=!!n}Z.prototype.__isLong__;Object.defineProperty(Z.prototype,"__isLong__",{value:!0});function Xt(e){return(e&&e.__isLong__)===!0}function oy(e){var t=Math.clz32(e&-e);return e?31-t:t}Z.isLong=Xt;var ly={},uy={};function ga(e,t){var n,i,r;return t?(e>>>=0,(r=0<=e&&e<256)&&(i=uy[e],i)?i:(n=_(e,0,!0),r&&(uy[e]=n),n)):(e|=0,(r=-128<=e&&e<128)&&(i=ly[e],i)?i:(n=_(e,e<0?-1:0,!1),r&&(ly[e]=n),n))}Z.fromInt=ga;function Pe(e,t){if(isNaN(e))return t?Gi:Qe;if(t){if(e<0)return Gi;if(e>=K0)return Z0}else{if(e<=-9223372036854776e3)return re;if(e+1>=iA)return X0}return e<0?Pe(-e,t).neg():_(e%fs|0,e/fs|0,t)}Z.fromNumber=Pe;function _(e,t,n){return new Z(e,t,n)}Z.fromBits=_;var Lu=Math.pow;function Ud(e,t,n){if(e.length===0)throw Error("empty string");if(typeof t=="number"?(n=t,t=!1):t=!!t,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t?Gi:Qe;if(n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return Ud(e.substring(1),t,n).neg();for(var r=Pe(Lu(n,8)),a=Qe,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),l=parseInt(e.substring(s,s+o),n);if(o<8){var c=Pe(Lu(n,o));a=a.mul(c).add(Pe(l))}else a=a.mul(r),a=a.add(Pe(l))}return a.unsigned=t,a}Z.fromString=Ud;function Ke(e,t){return typeof e=="number"?Pe(e,t):typeof e=="string"?Ud(e,t):_(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}Z.fromValue=Ke;var cy=65536,nA=1<<24,fs=cy*cy,K0=fs*fs,iA=K0/2,fy=ga(nA),Qe=ga(0);Z.ZERO=Qe;var Gi=ga(0,!0);Z.UZERO=Gi;var Ua=ga(1);Z.ONE=Ua;var $0=ga(1,!0);Z.UONE=$0;var Oh=ga(-1);Z.NEG_ONE=Oh;var X0=_(-1,2147483647,!1);Z.MAX_VALUE=X0;var Z0=_(-1,-1,!0);Z.MAX_UNSIGNED_VALUE=Z0;var re=_(0,-2147483648,!1);Z.MIN_VALUE=re;var D=Z.prototype;D.toInt=function(){return this.unsigned?this.low>>>0:this.low};D.toNumber=function(){return this.unsigned?(this.high>>>0)*fs+(this.low>>>0):this.high*fs+(this.low>>>0)};D.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(re)){var n=Pe(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var a=Pe(Lu(t,6),this.unsigned),s=this,o="";;){var l=s.div(a),c=s.sub(l.mul(a)).toInt()>>>0,h=c.toString(t);if(s=l,s.isZero())return h+o;for(;h.length<6;)h="0"+h;o=""+h+o}};D.getHighBits=function(){return this.high};D.getHighBitsUnsigned=function(){return this.high>>>0};D.getLowBits=function(){return this.low};D.getLowBitsUnsigned=function(){return this.low>>>0};D.getNumBitsAbs=function(){if(this.isNegative())return this.eq(re)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,n=31;n>0&&!(t&1<<n);n--);return this.high!=0?n+33:n+1};D.isSafeInteger=function(){var t=this.high>>21;return t?this.unsigned?!1:t===-1&&!(this.low===0&&this.high===-2097152):!0};D.isZero=function(){return this.high===0&&this.low===0};D.eqz=D.isZero;D.isNegative=function(){return!this.unsigned&&this.high<0};D.isPositive=function(){return this.unsigned||this.high>=0};D.isOdd=function(){return(this.low&1)===1};D.isEven=function(){return(this.low&1)===0};D.equals=function(t){return Xt(t)||(t=Ke(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low};D.eq=D.equals;D.notEquals=function(t){return!this.eq(t)};D.neq=D.notEquals;D.ne=D.notEquals;D.lessThan=function(t){return this.comp(t)<0};D.lt=D.lessThan;D.lessThanOrEqual=function(t){return this.comp(t)<=0};D.lte=D.lessThanOrEqual;D.le=D.lessThanOrEqual;D.greaterThan=function(t){return this.comp(t)>0};D.gt=D.greaterThan;D.greaterThanOrEqual=function(t){return this.comp(t)>=0};D.gte=D.greaterThanOrEqual;D.ge=D.greaterThanOrEqual;D.compare=function(t){if(Xt(t)||(t=Ke(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1};D.comp=D.compare;D.negate=function(){return!this.unsigned&&this.eq(re)?re:this.not().add(Ua)};D.neg=D.negate;D.add=function(t){Xt(t)||(t=Ke(t));var n=this.high>>>16,i=this.high&65535,r=this.low>>>16,a=this.low&65535,s=t.high>>>16,o=t.high&65535,l=t.low>>>16,c=t.low&65535,h=0,m=0,g=0,d=0;return d+=a+c,g+=d>>>16,d&=65535,g+=r+l,m+=g>>>16,g&=65535,m+=i+o,h+=m>>>16,m&=65535,h+=n+s,h&=65535,_(g<<16|d,h<<16|m,this.unsigned)};D.subtract=function(t){return Xt(t)||(t=Ke(t)),this.add(t.neg())};D.sub=D.subtract;D.multiply=function(t){if(this.isZero())return this;if(Xt(t)||(t=Ke(t)),qe){var n=qe.mul(this.low,this.high,t.low,t.high);return _(n,qe.get_high(),this.unsigned)}if(t.isZero())return this.unsigned?Gi:Qe;if(this.eq(re))return t.isOdd()?re:Qe;if(t.eq(re))return this.isOdd()?re:Qe;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(fy)&&t.lt(fy))return Pe(this.toNumber()*t.toNumber(),this.unsigned);var i=this.high>>>16,r=this.high&65535,a=this.low>>>16,s=this.low&65535,o=t.high>>>16,l=t.high&65535,c=t.low>>>16,h=t.low&65535,m=0,g=0,d=0,A=0;return A+=s*h,d+=A>>>16,A&=65535,d+=a*h,g+=d>>>16,d&=65535,d+=s*c,g+=d>>>16,d&=65535,g+=r*h,m+=g>>>16,g&=65535,g+=a*c,m+=g>>>16,g&=65535,g+=s*l,m+=g>>>16,g&=65535,m+=i*h+r*c+a*l+s*o,m&=65535,_(d<<16|A,m<<16|g,this.unsigned)};D.mul=D.multiply;D.divide=function(t){if(Xt(t)||(t=Ke(t)),t.isZero())throw Error("division by zero");if(qe){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var n=(this.unsigned?qe.div_u:qe.div_s)(this.low,this.high,t.low,t.high);return _(n,qe.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Gi:Qe;var i,r,a;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Gi;if(t.gt(this.shru(1)))return $0;a=Gi}else{if(this.eq(re)){if(t.eq(Ua)||t.eq(Oh))return re;if(t.eq(re))return Ua;var s=this.shr(1);return i=s.div(t).shl(1),i.eq(Qe)?t.isNegative()?Ua:Oh:(r=this.sub(t.mul(i)),a=i.add(r.div(t)),a)}else if(t.eq(re))return this.unsigned?Gi:Qe;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();a=Qe}for(r=this;r.gte(t);){i=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(i)/Math.LN2),l=o<=48?1:Lu(2,o-48),c=Pe(i),h=c.mul(t);h.isNegative()||h.gt(r);)i-=l,c=Pe(i,this.unsigned),h=c.mul(t);c.isZero()&&(c=Ua),a=a.add(c),r=r.sub(h)}return a};D.div=D.divide;D.modulo=function(t){if(Xt(t)||(t=Ke(t)),qe){var n=(this.unsigned?qe.rem_u:qe.rem_s)(this.low,this.high,t.low,t.high);return _(n,qe.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))};D.mod=D.modulo;D.rem=D.modulo;D.not=function(){return _(~this.low,~this.high,this.unsigned)};D.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};D.clz=D.countLeadingZeros;D.countTrailingZeros=function(){return this.low?oy(this.low):oy(this.high)+32};D.ctz=D.countTrailingZeros;D.and=function(t){return Xt(t)||(t=Ke(t)),_(this.low&t.low,this.high&t.high,this.unsigned)};D.or=function(t){return Xt(t)||(t=Ke(t)),_(this.low|t.low,this.high|t.high,this.unsigned)};D.xor=function(t){return Xt(t)||(t=Ke(t)),_(this.low^t.low,this.high^t.high,this.unsigned)};D.shiftLeft=function(t){return Xt(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?_(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):_(0,this.low<<t-32,this.unsigned)};D.shl=D.shiftLeft;D.shiftRight=function(t){return Xt(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?_(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):_(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};D.shr=D.shiftRight;D.shiftRightUnsigned=function(t){return Xt(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?_(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):t===32?_(this.high,0,this.unsigned):_(this.high>>>t-32,0,this.unsigned)};D.shru=D.shiftRightUnsigned;D.shr_u=D.shiftRightUnsigned;D.rotateLeft=function(t){var n;return Xt(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?_(this.high,this.low,this.unsigned):t<32?(n=32-t,_(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(t-=32,n=32-t,_(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))};D.rotl=D.rotateLeft;D.rotateRight=function(t){var n;return Xt(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?_(this.high,this.low,this.unsigned):t<32?(n=32-t,_(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(t-=32,n=32-t,_(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))};D.rotr=D.rotateRight;D.toSigned=function(){return this.unsigned?_(this.low,this.high,!1):this};D.toUnsigned=function(){return this.unsigned?this:_(this.low,this.high,!0)};D.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()};D.toBytesLE=function(){var t=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};D.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};Z.fromBytes=function(t,n,i){return i?Z.fromBytesLE(t,n):Z.fromBytesBE(t,n)};Z.fromBytesLE=function(t,n){return new Z(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)};Z.fromBytesBE=function(t,n){return new Z(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};typeof BigInt=="function"&&(Z.fromBigInt=function(t,n){var i=Number(BigInt.asIntN(32,t)),r=Number(BigInt.asIntN(32,t>>BigInt(32)));return _(i,r,n)},Z.fromValue=function(t,n){return typeof t=="bigint"?fromBigInt(t,n):Ke(t,n)},D.toBigInt=function(){var t=BigInt(this.low>>>0),n=BigInt(this.unsigned?this.high>>>0:this.high);return n<<BigInt(32)|t});var Ct=(e=>(e[e.Null=0]="Null",e[e.Boolean=1]="Boolean",e[e.Integer=2]="Integer",e[e.Long=3]="Long",e[e.Double=4]="Double",e[e.String=5]="String",e[e.Bytes=6]="Bytes",e[e.Date=7]="Date",e))(Ct||{});class Tt extends Ko{constructor(n,i){super(i);u(this,"valueType");u(this,"value");this.valueType=Tt.getPrimitiveType(n),this.value=n===void 0?null:n}static of(n,i){return new Tt(n,i)}static valueFromBytes(n,i){switch(n){case 0:return null;case 1:return!!i[0];case 2:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 4:{const r=new DataView(i.buffer);return i.forEach(function(a,s){r.setUint8(s,a)}),r.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(i);case 3:return Z.fromBytesLE(Array.from(i));case 6:return i;case 7:return new Date(Z.fromBytesLE(Array.from(i),!0).toNumber());default:throw new T(S.ErrUnimplemented,`unimplemented type: ${n}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new T(S.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${pn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const n=Tt.of(this.value,this.getCreatedAt());return n.setMovedAt(this.getMovedAt()),n.setRemovedAt(this.getRemovedAt()),n}getType(){return this.valueType}static getPrimitiveType(n){switch(typeof n){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(n)?2:4;case"string":return 5;case"object":if(n===null)return 0;if(n instanceof Z)return 3;if(n instanceof Uint8Array)return 6;if(n instanceof Date)return 7}}static isSupport(n){return Tt.getPrimitiveType(n)!==void 0}static isInteger(n){return n%1===0}isNumericType(){const n=this.valueType;return n===2||n===3||n===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const n=this.value;return new Uint8Array([n&255,n>>8&255,n>>16&255,n>>24&255])}case 4:{const n=this.value,i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,n,!0),i}case 5:return new TextEncoder().encode(this.value);case 3:{const i=this.value.toBytesLE();return Uint8Array.from(i)}case 6:return this.value;case 7:{const n=this.value,i=Z.fromNumber(n.getTime(),!0).toBytesLE();return Uint8Array.from(i)}default:throw new T(S.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Ju extends Y0{constructor(n){super(n);u(this,"prev");u(this,"next");this.value=n}static createAfter(n,i){const r=new Ju(i),a=n.next;return n.next=r,r.prev=n,r.next=a,a&&(a.prev=r),r}remove(n){return this.value.remove(n)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class xo{constructor(){u(this,"dummyHead");u(this,"last");u(this,"nodeMapByIndex");u(this,"nodeMapByCreatedAt");const t=Tt.of(0,cs);t.setRemovedAt(cs),this.dummyHead=new Ju(t),this.last=this.dummyHead,this.nodeMapByIndex=new No,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new xo}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(t,n){let i=this.nodeMapByCreatedAt.get(t.toIDString());if(!i)throw new T(S.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);for(;i.getNext()&&i.getNext().getPositionedAt().after(n);)i=i.getNext();return i}release(t){this.last===t&&(this.last=t.getPrev()),t.release(),this.nodeMapByIndex.delete(t),this.nodeMapByCreatedAt.delete(t.getValue().getCreatedAt().toIDString())}insertAfter(t,n,i=n.getCreatedAt()){const r=this.findNextBeforeExecutedAt(t,i),a=Ju.createAfter(r,n);r===this.last&&(this.last=a),this.nodeMapByIndex.insertAfter(r,a),this.nodeMapByCreatedAt.set(a.getCreatedAt().toIDString(),a)}moveAfter(t,n,i){const r=this.nodeMapByCreatedAt.get(t.toIDString());if(!r)throw new T(S.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);const a=this.nodeMapByCreatedAt.get(n.toIDString());if(!a)throw new T(S.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);r!==a&&(!a.getValue().getMovedAt()||i.after(a.getValue().getMovedAt()))&&(this.release(a),this.insertAfter(r.getCreatedAt(),a.getValue(),i),a.getValue().setMovedAt(i))}insert(t){this.insertAfter(this.last.getCreatedAt(),t)}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}subPathOf(t){const n=this.nodeMapByCreatedAt.get(t.toIDString());if(n)return String(this.nodeMapByIndex.indexOf(n))}purge(t){const n=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!n)throw new T(S.ErrInvalidArgument,`fail to find the given createdAt: ${t.getCreatedAt().toIDString()}`);this.release(n)}getByIndex(t){if(t>=this.length)return;const[n,i]=this.nodeMapByIndex.find(t);let r=n;if(t===0&&n===this.dummyHead||i>0)do r&&(r=r.getNext());while(r&&r.isRemoved());return r}getPrevCreatedAt(t){let n=this.nodeMapByCreatedAt.get(t.toIDString());do n=n.getPrev();while(this.dummyHead!==n&&n.isRemoved());return n.getValue().getCreatedAt()}delete(t,n){const i=this.nodeMapByCreatedAt.get(t.toIDString()),r=i.isRemoved();return i.remove(n)&&!r&&this.nodeMapByIndex.splayNode(i),i.getValue()}deleteByIndex(t,n){const i=this.getByIndex(t);if(i)return i.remove(n)&&this.nodeMapByIndex.splayNode(i),i.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const t=[];for(const n of this){const i=`${n.getCreatedAt().toIDString()}:${n.getValue().toJSON()}`;n.isRemoved()?t.push(`{${i}}`):t.push(`[${i}]`)}return t.join("")}*[Symbol.iterator](){let t=this.dummyHead.getNext();for(;t;)yield t,t=t.getNext()}}class Se extends Rr{constructor(n,i){super(n);u(this,"elements");this.elements=i}static create(n,i){if(!i)return new Se(n,xo.create());const r=xo.create();for(const a of i)r.insertAfter(r.getLastCreatedAt(),a.deepcopy());return new Se(n,r)}subPathOf(n){return this.elements.subPathOf(n)}purge(n){this.elements.purge(n)}insertAfter(n,i){this.elements.insertAfter(n,i)}moveAfter(n,i,r){this.elements.moveAfter(n,i,r)}get(n){const i=this.elements.getByIndex(n);return i==null?void 0:i.getValue()}getByID(n){const i=this.elements.getByID(n);return i==null?void 0:i.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(n){return this.elements.getPrevCreatedAt(n)}delete(n,i){return this.elements.delete(n,i)}deleteByIndex(n,i){return this.elements.deleteByIndex(n,i)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const n of this.elements)n.isRemoved()||(yield n.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(n){for(const i of this.elements){const r=i.getValue();if(n(r,this))return;r instanceof Rr&&r.getDescendants(n)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const n=[];for(const i of this)n.push(i.toJSON());return`[${n.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const n={};for(let i=0;i<this.length;i++){const{createdAt:r,value:a,type:s}=this.get(i).toJSForTest();n[i]={key:String(i),createdAt:r,value:a,type:s}}return{createdAt:this.getCreatedAt().toTestString(),value:n,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const n=Se.create(this.getCreatedAt());for(const i of this.elements)n.elements.insertAfter(n.getLastCreatedAt(),i.getValue().deepcopy());return n.remove(this.getRemovedAt()),n}}class Lr extends tn{constructor(n,i,r){super(n,r);u(this,"createdAt");this.createdAt=i}static create(n,i,r){return new Lr(n,i,r)}execute(n,i){var c;const r=n.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Rr))throw new T(S.ErrInvalidArgument,`only object and array can execute remove: ${r}`);if(i===st.UndoRedo){let h=r.getByID(this.createdAt);for(;h;){if(h.getRemovedAt())return;h=(c=n.findElementPairByCreatedAt(h.getCreatedAt()))==null?void 0:c.parent}}const a=r.subPathOf(this.createdAt),s=this.toReverseOperation(r),o=r.delete(this.createdAt,this.getExecutedAt());return n.registerRemovedElement(o),{opInfos:r instanceof Se?[{type:"remove",path:n.createPath(this.getParentCreatedAt()),index:Number(a)}]:[{type:"remove",path:n.createPath(this.getParentCreatedAt()),key:a}],reverseOp:s}}toReverseOperation(n){if(n instanceof ae){const i=n.subPathOf(this.createdAt);if(i!==void 0){const r=n.get(i);if(r!==void 0)return ua.create(i,r.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class ua extends tn{constructor(n,i,r,a){super(r,a);u(this,"key");u(this,"value");this.key=n,this.value=i}static create(n,i,r,a){return new ua(n,i,r,a)}execute(n,i){var c;const r=n.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof ae))throw new T(S.ErrInvalidArgument,"fail to execute, only object can execute set");if(i===st.UndoRedo){let h=r;for(;h;){if(h.getRemovedAt())return;h=(c=n.findElementPairByCreatedAt(h.getCreatedAt()))==null?void 0:c.parent}}const a=r.get(this.key),s=this.toReverseOperation(a),o=this.value.deepcopy(),l=r.set(this.key,o,this.getExecutedAt());return i===st.UndoRedo&&n.findByCreatedAt(o.getCreatedAt())&&n.deregisterElement(o),n.registerElement(o,r),l&&n.registerRemovedElement(l),{opInfos:[{type:"set",path:n.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:s}}toReverseOperation(n){let i=Lr.create(this.getParentCreatedAt(),this.value.getCreatedAt());return n!==void 0&&!n.isRemoved()&&(i=ua.create(this.key,n.deepcopy(),this.getParentCreatedAt())),i}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class $o extends tn{constructor(n,i,r,a){super(n,a);u(this,"prevCreatedAt");u(this,"value");this.prevCreatedAt=i,this.value=r}static create(n,i,r,a){return new $o(n,i,r,a)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Se))throw new T(S.ErrInvalidArgument,"fail to execute, only array can execute add");const r=i,a=this.value.deepcopy();return r.insertAfter(this.prevCreatedAt,a),n.registerElement(a,r),{opInfos:[{type:"add",path:n.createPath(this.getParentCreatedAt()),index:Number(r.subPathOf(this.getEffectedCreatedAt()))}]}}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class Tr extends tn{constructor(n,i,r,a){super(n,a);u(this,"prevCreatedAt");u(this,"createdAt");this.prevCreatedAt=i,this.createdAt=r}static create(n,i,r,a){return new Tr(n,i,r,a)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Se))throw new T(S.ErrInvalidArgument,"fail to execute, only array can execute move");const r=i,a=Number(r.subPathOf(this.createdAt));r.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const s=Number(r.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:n.createPath(this.getParentCreatedAt()),index:s,previousIndex:a}]}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class br{constructor(t,n,i,r){u(this,"key");u(this,"value");u(this,"updatedAt");u(this,"_isRemoved");this.key=t,this.value=n,this.updatedAt=i,this._isRemoved=r}static of(t,n,i,r){return new br(t,n,i,r)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:bn}}}class tr{constructor(){u(this,"nodeMapByKey");u(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new tr}getNodeMapByKey(){return this.nodeMapByKey}set(t,n,i){const r=this.nodeMapByKey.get(t);if(r&&r.isRemoved()&&i.after(r.getUpdatedAt())&&(this.numberOfRemovedElement-=1),r===void 0||i.after(r.getUpdatedAt())){const a=br.of(t,n,i,!1);return this.nodeMapByKey.set(t,a),r!==void 0&&r.isRemoved()?[r,a]:[void 0,a]}return r.isRemoved()?[r,void 0]:[void 0,void 0]}setInternal(t,n,i,r){const a=br.of(t,n,i,r);this.nodeMapByKey.set(t,a),r&&this.numberOfRemovedElement++}remove(t,n){const i=this.nodeMapByKey.get(t),r=[];if(i===void 0||n.after(i.getUpdatedAt())){if(i===void 0){this.numberOfRemovedElement+=1;const o=br.of(t,"",n,!0);return this.nodeMapByKey.set(t,o),r.push(o),r}const a=i.isRemoved();a||(this.numberOfRemovedElement+=1),a&&r.push(i);const s=br.of(t,i.getValue(),n,!0);return this.nodeMapByKey.set(t,s),r.push(s),r}return r}has(t){if(this.nodeMapByKey.has(t)){const n=this.nodeMapByKey.get(t);return n!==void 0&&!n.isRemoved()}return!1}get(t){if(this.nodeMapByKey.has(t))return this.nodeMapByKey.get(t).getValue()}deepcopy(){const t=new tr;for(const[,n]of this.nodeMapByKey)t.setInternal(n.getKey(),n.getValue(),n.getUpdatedAt(),n.isRemoved());return t}toJSON(){if(!this.size())return"{}";const t=[];for(const[n,i]of this.nodeMapByKey)i.isRemoved()||t.push(`"${pn(n)}":"${pn(i.getValue())}"`);return`{${t.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const t={};for(const[n,i]of this.nodeMapByKey)i.isRemoved()||(t[n]=i.getValue());return t}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}purge(t){const n=this.nodeMapByKey.get(t.getKey());n==null||n.toIDString()!=t.toIDString()||(this.nodeMapByKey.delete(t.getKey()),this.numberOfRemovedElement--)}}function $e(e){if(e instanceof Map){const t=Array.from(e);return new Map(JSON.parse(JSON.stringify(t)))}return JSON.parse(JSON.stringify(e))}const Q0=e=>e?Object.entries(e).length===0:!0,hs=e=>{const t={};for(const[n,i]of Object.entries(e))t[n]=JSON.stringify(i);return t},$i=e=>{const t={};for(const[n,i]of Object.entries(e))t[n]=JSON.parse(i);return t};function rA(e){return e?hy(e.live)+hy(e.gc):0}function hy(e){return e.data+e.meta}function Ht(e,...t){for(const n of t)e.data+=n.data,e.meta+=n.meta}function Ka(e,t){e.data-=t.data,e.meta-=t.meta}class Do{constructor(t){u(this,"attributes");u(this,"content");this.attributes=tr.create(),this.content=t}static create(t){return new Do(t)}get length(){return this.content.length}substring(t,n){const i=new Do(this.content.substring(t,n));return i.attributes=this.attributes.deepcopy(),i}setAttr(t,n,i){return this.attributes.set(t,n,i)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const t={data:0,meta:0};t.data+=this.content.length*2;for(const n of this.attributes){const i=n.getDataSize();t.meta+=i.meta,t.data+=i.data}return t}toJSON(){const t=pn(this.content),n=this.attributes.toObject(),i=[];for(const[r,a]of Object.entries(n)){const s=JSON.parse(a),o=typeof s=="string"?`"${pn(r)}":"${pn(s)}"`:`"${pn(r)}":${String(s)}`;i.push(o)}return i.sort(),i.length===0?`{"val":"${t}"}`:`{"attrs":{${i.join(",")}},"val":"${t}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(t){this.attributes&&t instanceof br&&this.attributes.purge(t)}getGCPairs(){const t=[];for(const n of this.attributes)n.getRemovedAt()&&t.push({parent:this,child:n});return t}}class Ge extends Ko{constructor(n,i){super(i);u(this,"rgaTreeSplit");this.rgaTreeSplit=n}static create(n,i){return new Ge(n,i)}edit(n,i,r,a,s){const o=i?Do.create(i):void 0;if(o&&a)for(const[d,A]of Object.entries(a))o.setAttr(d,A,r);const[l,c,h,m]=this.rgaTreeSplit.edit(n,r,o,s);return[m.map(d=>({...d,value:d.value?{attributes:$i(d.value.getAttributes()),content:d.value.getContent()}:{attributes:void 0,content:""},type:"content"})),c,h,[l,l]]}setStyle(n,i,r,a){const s={data:0,meta:0},[,o,l]=this.rgaTreeSplit.findNodeWithSplit(n[1],r),[,c,h]=this.rgaTreeSplit.findNodeWithSplit(n[0],r);Ht(s,o,c);const m=[],g=this.rgaTreeSplit.findBetween(h,l),d=[];for(const w of g){const x=w.getCreatedAt().getActorID();let p=no;a!=null&&(p=a.get(x)?a.get(x):0n),w.canStyle(r,p)&&d.push(w)}const A=[];for(const w of d){if(w.isRemoved())continue;const[x,p]=this.rgaTreeSplit.findIndexesFromRange(w.createPosRange());m.push({type:"style",actor:r.getActorID(),from:x,to:p,value:{attributes:$i(i)}});for(const[y,v]of Object.entries(i)){const[b]=w.getValue().setAttr(y,v,r);b!==void 0&&A.push({parent:w.getValue(),child:b});const O=w.getValue().getAttrs().getNodeMapByKey().get(y);O!==void 0&&Ht(s,O.getDataSize())}}return[A,s,m]}indexRangeToPosRange(n,i){const r=this.rgaTreeSplit.indexToPos(n);return n===i?[r,r]:[r,this.rgaTreeSplit.indexToPos(i)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const n={data:0,meta:0};for(const i of this.rgaTreeSplit){if(i.isRemoved())continue;const r=i.getDataSize();n.data+=r.data,n.meta+=r.meta}return{data:n.data,meta:n.meta+this.getMetaUsage()}}toJSON(){const n=[];for(const i of this.rgaTreeSplit)i.isRemoved()||n.push(i.getValue().toJSON());return`[${n.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const n=[];for(const i of this.rgaTreeSplit)if(!i.isRemoved()){const r=i.getValue();n.push({attributes:$i(r.getAttributes()),content:r.getContent()})}return n}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const n=new Ge(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return n.remove(this.getRemovedAt()),n}findIndexesFromRange(n){return this.rgaTreeSplit.findIndexesFromRange(n)}getGCPairs(){const n=[];for(const i of this.rgaTreeSplit){i.getRemovedAt()&&n.push({parent:this.rgaTreeSplit,child:i});for(const r of i.getValue().getGCPairs())n.push(r)}return n}}class Xo extends tn{constructor(n,i,r,a,s,o){super(n,o);u(this,"fromPos");u(this,"toPos");u(this,"content");u(this,"attributes");this.fromPos=i,this.toPos=r,this.content=a,this.attributes=s}static create(n,i,r,a,s,o){return new Xo(n,i,r,a,s,o)}execute(n,i,r){const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Ge))throw new T(S.ErrInvalidArgument,"fail to execute, only Text can execute edit");const s=a,[o,l,c]=s.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),r);n.acc(c);for(const h of l)n.registerGCPair(h);return{opInfos:o.map(({from:h,to:m,value:g})=>({type:"edit",from:h,to:m,value:g,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),r=this.toPos.toTestString(),a=this.content;return`${n}.EDIT(${i},${r},${a})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class Zo extends tn{constructor(n,i,r,a,s){super(n,s);u(this,"fromPos");u(this,"toPos");u(this,"attributes");this.fromPos=i,this.toPos=r,this.attributes=a}static create(n,i,r,a,s){return new Zo(n,i,r,a,s)}execute(n,i,r){const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Ge))throw new T(S.ErrInvalidArgument,"fail to execute, only Text can execute edit");const s=a,[o,l,c]=s.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),r);n.acc(l);for(const h of o)n.registerGCPair(h);return{opInfos:c.map(({from:h,to:m,value:g})=>({type:"style",from:h,to:m,value:g,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),r=this.toPos.toTestString(),a=this.attributes;return`${n}.STYL(${i},${r},${JSON.stringify(a)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const aA=2,sA="root",wn="text";function Bs(e,t){let n=0;const i=e.children;for(let r=0;r<t;r++){const a=i[r];!a||a.isRemoved||(n+=a.paddedSize)}return n}class oA{constructor(t,n=[]){u(this,"type");u(this,"parent");u(this,"_children");u(this,"size");if(this.type=t,this.size=0,this._children=n,this.isText&&this._children.length>0)throw new T(S.ErrRefused,"Text node cannot have children")}updateAncestorsSize(){let t=this.parent;const n=this.isRemoved?-1:1;for(;t&&(t.size+=this.paddedSize*n,!t.isRemoved);)t=t.parent}updateDescendantsSize(){let t=0;for(const n of this._children){const i=n.updateDescendantsSize();n.isRemoved||(t+=i)}return this.size+=t,this.paddedSize}get isText(){return this.type===wn}get paddedSize(){return this.size+(this.isText?0:aA)}isAncestorOf(t){return lA(this,t)}get nextSibling(){const t=this.parent.findOffset(this),n=this.parent.children[t+1];if(n)return n}get prevSibling(){const t=this.parent.findOffset(this),n=this.parent.children[t-1];if(n)return n}splitText(t,n){const i={data:0,meta:0};if(t===0||t===this.size)return[void 0,i];const r=this.value.slice(0,t),a=this.value.slice(t);if(!a.length)return[void 0,i];const s=this.getDataSize();this.value=r;const o=this.cloneText(t+n);return o.value=a,this.parent.insertAfterInternal(o,this),Ht(i,this.getDataSize(),o.getDataSize()),Ka(i,s),[o,i]}get children(){return this._children.filter(t=>!t.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(t=>t.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(t=>t.value).join(""):""}append(...t){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");this._children.push(...t);for(const n of t)n.parent=this,n.updateAncestorsSize()}prepend(...t){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");this._children.unshift(...t);for(const n of t)n.parent=this}insertBefore(t,n){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new T(S.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i),t.updateAncestorsSize()}insertAfter(t,n){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new T(S.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i+1),t.updateAncestorsSize()}insertAt(t,n){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");this.insertAtInternal(t,n),t.updateAncestorsSize()}removeChild(t){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");const n=this._children.indexOf(t);if(n===-1)throw new T(S.ErrInvalidArgument,"child not found");this._children.splice(n,1),t.parent=void 0}splitElement(t,n){const i={data:0,meta:0},r=this.getDataSize(),a=this.cloneElement(n);this.parent.insertAfterInternal(a,this),a.updateAncestorsSize();const s=this.children.slice(0,t),o=this.children.slice(t);this._children=s,a._children=o,this.size=this._children.reduce((l,c)=>l+c.paddedSize,0),a.size=a._children.reduce((l,c)=>l+c.paddedSize,0);for(const l of a._children)l.parent=a;return Ht(i,this.getDataSize(),a.getDataSize()),Ka(i,r),[a,i]}insertAfterInternal(t,n){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new T(S.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i+1)}insertAtInternal(t,n){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");this._children.splice(n,0,t),t.parent=this}findOffset(t){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");if(t.isRemoved){const n=this._children.indexOf(t);return this.allChildren.splice(0,n).filter(r=>!r.isRemoved).length}return this.children.indexOf(t)}findBranchOffset(t){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");let n=t;for(;n;){const i=this._children.indexOf(n);if(i!==-1)return i;n=n.parent}return-1}}function lA(e,t){if(e===t)return!1;for(;t.parent;){if(t.parent===e)return!0;t=t.parent}return!1}var At=(e=>(e.Start="Start",e.End="End",e.Text="Text",e))(At||{});function _0(e,t,n,i){if(t>n)throw new T(S.ErrInvalidArgument,`from is greater than to: ${t} > ${n}`);if(t>e.size)throw new T(S.ErrInvalidArgument,`from is out of range: ${t} > ${e.size}`);if(n>e.size)throw new T(S.ErrInvalidArgument,`to is out of range: ${n} > ${e.size}`);if(t===n)return;let r=0;for(const a of e.children){if(t-a.paddedSize<r&&r<n){const s=a.isText?t-r:t-r-1,o=a.isText?n-r:n-r-1,l=!a.isText&&s<0,c=!a.isText&&o>a.size;(a.isText||l)&&i([a,a.isText?"Text":"Start"],c),_0(a,Math.max(0,s),Math.min(o,a.size),i),c&&i([a,"End"],c)}r+=a.paddedSize}}function F0(e,t,n=0){for(const i of e.children)F0(i,t,n+1);t(e,n)}function cc(e,t,n=0){for(const i of e._children)cc(i,t,n+1);t(e,n)}function Ch(e,t,n=!0){if(t>e.size)throw new T(S.ErrInvalidArgument,`index is out of range: ${t} > ${e.size}`);if(e.isText)return{node:e,offset:t};let i=0,r=0;for(const a of e.children){if(n&&a.isText&&a.size>=t-r)return Ch(a,t-r,n);if(t===r)return{node:e,offset:i};if(!n&&a.paddedSize===t-r)return{node:e,offset:i+1};if(a.paddedSize>t-r)return Ch(a,t-r-1,n);r+=a.paddedSize,i+=1}return{node:e,offset:i}}function W0(e){return e.isText||e.children.length===0?e:W0(e.children[0])}function uA(e,t){if(e.size<t)throw new T(S.ErrInvalidArgument,"unacceptable path");for(let n=0;n<e.children.length;n++){const i=e.children[n];if(i.size<t)t-=i.size;else{e=i;break}}return{node:e,offset:t}}class cA{constructor(t){u(this,"root");this.root=t}tokensBetween(t,n,i){_0(this.root,t,n,i)}traverse(t){F0(this.root,t,0)}traverseAll(t){cc(this.root,t,0)}findTreePos(t,n=!0){return Ch(this.root,t,n)}treePosToPath(t){const n=[];let i=t.node;if(i.isText){const r=i.parent.findOffset(i);if(r===-1)throw new T(S.ErrInvalidArgument,"invalid treePos");const a=Bs(i.parent,r);n.push(a+t.offset),i=i.parent}else if(i.hasTextChild()){const r=Bs(i,t.offset);n.push(r)}else n.push(t.offset);for(;i.parent;){const r=i.parent.findOffset(i);if(r===-1)throw new T(S.ErrInvalidArgument,"invalid treePos");n.push(r),i=i.parent}return n.reverse()}pathToIndex(t){const n=this.pathToTreePos(t);return this.indexOf(n)}pathToTreePos(t){if(!t.length)throw new T(S.ErrInvalidArgument,"unacceptable path");let n=this.root;for(let i=0;i<t.length-1;i++){const r=t[i];if(n=n.children[r],!n)throw new T(S.ErrInvalidArgument,"unacceptable path")}if(n.hasTextChild())return uA(n,t[t.length-1]);if(n.children.length<t[t.length-1])throw new T(S.ErrInvalidArgument,"unacceptable path");return{node:n,offset:t[t.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(t){const{node:n,offset:i}=t;if(n.isText){if(n.size===i){const r=n.nextSibling;return r||n.parent}return n}return n.children.length===i?n:W0(n.children[i])}indexOf(t){let{node:n}=t;const{offset:i}=t;let r=0,a=1;if(n.isText){r+=i;const s=n.parent,o=s.findOffset(n);if(o===-1)throw new T(S.ErrInvalidArgument,"invalid pos");r+=Bs(s,o),n=n.parent}else r+=Bs(n,i);for(;n!=null&&n.parent;){const s=n.parent,o=s.findOffset(n);if(o===-1)throw new T(S.ErrInvalidArgument,"invalid pos");r+=Bs(s,o),a++,n=n.parent}return r+a-1}indexToPath(t){const n=this.findTreePos(t);return this.treePosToPath(n)}}const fA=(e,t)=>e===t?0:e<t?-1:1;class hA{constructor(t,n,i){u(this,"key");u(this,"value");u(this,"parent");u(this,"left");u(this,"right");u(this,"isRed");this.key=t,this.value=n,this.isRed=i}}class dA{constructor(t){u(this,"stack");this.stack=[],this.traverseInorder(t)}traverseInorder(t){t&&(this.traverseInorder(t.left),this.stack.push({key:t.key,value:t.value}),this.traverseInorder(t.right))}}class tS{constructor(t){u(this,"root");u(this,"comparator");u(this,"counter");this.comparator=typeof t<"u"?t:fA,this.counter=0}put(t,n){return this.root=this.putInternal(t,n,this.root),this.root.isRed=!1,n}get(t){const n=this.getInternal(t,this.root);return n?n.value:void 0}remove(t){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,t),this.root&&(this.root.isRed=!1)}getIterator(){return new dA(this.root)}values(){const t=[];for(const n of this.getIterator().stack)t.push(n.value);return t}floorEntry(t){let n=this.root;for(;n;){const i=this.comparator(t,n.key);if(i>0)if(n.right)n.right.parent=n,n=n.right;else return n;else if(i<0)if(n.left)n.left.parent=n,n=n.left;else{let r=n.parent,a=n;for(;r&&a===r.left;)a=r,r=r.parent;return r}else return n}}lastEntry(){if(!this.root)return this.root;let t=this.root;for(;t.right;)t=t.right;return t}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(t,n){for(;n;){const i=this.comparator(t,n.key);if(i===0)return n;i<0?n=n.left:i>0&&(n=n.right)}}putInternal(t,n,i){if(!i)return this.counter+=1,new hA(t,n,!0);const r=this.comparator(t,i.key);return r<0?i.left=this.putInternal(t,n,i.left):r>0?i.right=this.putInternal(t,n,i.right):i.value=n,this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}removeInternal(t,n){if(this.comparator(n,t.key)<0)!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeInternal(t.left,n);else{if(this.isRed(t.left)&&(t=this.rotateRight(t)),this.comparator(n,t.key)===0&&!t.right){this.counter-=1;return}if(!this.isRed(t.right)&&!this.isRed(t.right.left)&&(t=this.moveRedRight(t)),this.comparator(n,t.key)===0){this.counter-=1;const i=this.min(t.right);t.value=i.value,t.key=i.key,t.right=this.removeMin(t.right)}else t.right=this.removeInternal(t.right,n)}return this.fixUp(t)}min(t){return t.left?this.min(t.left):t}removeMin(t){if(t.left)return!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeMin(t.left),this.fixUp(t)}fixUp(t){return this.isRed(t.right)&&(t=this.rotateLeft(t)),this.isRed(t.left)&&this.isRed(t.left.left)&&(t=this.rotateRight(t)),this.isRed(t.left)&&this.isRed(t.right)&&this.flipColors(t),t}moveRedLeft(t){return this.flipColors(t),this.isRed(t.right.left)&&(t.right=this.rotateRight(t.right),t=this.rotateLeft(t),this.flipColors(t)),t}moveRedRight(t){return this.flipColors(t),this.isRed(t.left.left)&&(t=this.rotateRight(t),this.flipColors(t)),t}isRed(t){return t&&t.isRed}rotateLeft(t){const n=t.right;return t.right=n.left,n.left=t,n.isRed=n.left.isRed,n.left.isRed=!0,n}rotateRight(t){const n=t.left;return t.left=n.right,n.right=t,n.isRed=n.right.isRed,n.right.isRed=!0,n}flipColors(t){t.isRed=!t.isRed,t.left.isRed=!t.left.isRed,t.right.isRed=!t.right.isRed}}class _e{constructor(t,n){u(this,"parentID");u(this,"leftSiblingID");this.parentID=t,this.leftSiblingID=n}static of(t,n){return new _e(t,n)}static fromTreePos(t){const{offset:n}=t;let{node:i}=t,r;return i.isText?(i.parent.children[0]===i&&n===0?r=i.parent:r=i,i=i.parent):n===0?r=i:r=i.children[n-1],_e.of(i.id,jt.of(r.getCreatedAt(),r.getOffset()+n))}getParentID(){return this.parentID}static fromStruct(t){return _e.of(jt.of(He.fromStruct(t.parentID.createdAt),t.parentID.offset),jt.of(He.fromStruct(t.leftSiblingID.createdAt),t.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(t){const n=this.getParentID(),i=this.getLeftSiblingID(),r=t.findFloorNode(n);let a=t.findFloorNode(i);if(!r||!a)throw new T(S.ErrRefused,`cannot find node of CRDTTreePos(${n.toTestString()}, ${i.toTestString()})`);return!i.equals(n)&&i.getOffset()>0&&i.getOffset()===a.id.getOffset()&&a.insPrevID&&(a=t.findFloorNode(a.insPrevID)),[r,a]}getLeftSiblingID(){return this.leftSiblingID}equals(t){return this.getParentID().getCreatedAt().equals(t.getParentID().getCreatedAt())&&this.getParentID().getOffset()===t.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(t.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===t.getLeftSiblingID().getOffset()}}class jt{constructor(t,n){u(this,"createdAt");u(this,"offset");this.createdAt=t,this.offset=n}static of(t,n){return new jt(t,n)}static fromStruct(t){return jt.of(He.fromStruct(t.createdAt),t.offset)}static createComparator(){return(t,n)=>{const i=t.getCreatedAt().compare(n.getCreatedAt());return i!==0?i:t.getOffset()>n.getOffset()?1:t.getOffset()<n.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}getOffset(){return this.offset}setOffset(t){this.offset=t}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class ge extends oA{constructor(n,i,r,a,s){super(i);u(this,"id");u(this,"removedAt");u(this,"attrs");u(this,"insPrevID");u(this,"insNextID");u(this,"_value","");this.id=n,this.removedAt=s,a&&(this.attrs=a),typeof r=="string"?this.value=r:Array.isArray(r)&&(this._children=r)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(n,i,r,a){return new ge(n,i,r,a)}deepcopy(){var i;const n=new ge(this.id,this.type);return n.removedAt=this.removedAt,n._value=this._value,n.size=this.size,n.attrs=(i=this.attrs)==null?void 0:i.deepcopy(),n._children=this._children.map(r=>{const a=r.deepcopy();return a.parent=n,a}),n.insPrevID=this.insPrevID,n.insNextID=this.insNextID,n}get value(){if(!this.isText)throw new T(S.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(n){if(!this.isText)throw new T(S.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=n,this.size=n.length}get isRemoved(){return!!this.removedAt}remove(n){const i=!this.removedAt;(!this.removedAt||this.removedAt.compare(n)>0)&&(this.removedAt=n),i&&this.updateAncestorsSize()}cloneText(n){return new ge(jt.of(this.id.getCreatedAt(),n),this.type,void 0,void 0,this.removedAt)}cloneElement(n){return new ge(jt.of(n(),0),this.type,void 0,void 0,this.removedAt)}split(n,i,r){const[a,s]=this.isText?this.splitText(i,this.id.getOffset()):this.splitElement(i,r);if(a){if(a.insPrevID=this.id,this.insNextID){const o=n.findFloorNode(this.insNextID);o.insPrevID=a.id,a.insNextID=this.insNextID}this.insNextID=a.id,n.registerNode(a)}return[a,s]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(n,i){return this.getCreatedAt().getLamport()<=i&&(!this.removedAt||n.after(this.removedAt))}canStyle(n,i){return this.isText?!1:this.getCreatedAt().getLamport()<=i&&(!this.removedAt||n.after(this.removedAt))}setAttrs(n,i){this.attrs||(this.attrs=new tr);const r=[];for(const[a,s]of Object.entries(n))r.push(this.attrs.set(a,s,i));return r}purge(n){this.attrs&&this.attrs.purge(n)}getDataSize(){const n={data:0,meta:0};if(this.isText&&(n.data+=this.size*2),this.id&&(n.meta+=bn),this.removedAt&&(n.meta+=bn),this.attrs)for(const i of this.attrs){if(i.getRemovedAt())continue;const r=i.getDataSize();n.meta+=r.meta,n.data+=r.data}return n}getGCPairs(){const n=[];if(!this.attrs)return n;for(const i of this.attrs)i.getRemovedAt()&&n.push({parent:this,child:i});return n}}function kh(e){var n;if(e.isText){const i=e;return{type:i.type,value:i.value}}const t={type:e.type,children:e.children.map(kh)};return e.attrs&&(t.attributes=$i((n=e.attrs)==null?void 0:n.toObject())),t}function Ld(e){if(e.isText)return e.value;let t="";return e.attrs&&e.attrs.size()&&(t=" "+Array.from(e.attrs).filter(n=>!n.isRemoved()).sort((n,i)=>n.getKey().localeCompare(i.getKey())).map(n=>{const i=JSON.parse(n.getValue());return typeof i=="string"?`${n.getKey()}="${i}"`:`${n.getKey()}="${pn(n.getValue())}"`}).join(" ")),`<${e.type}${t}>${e.children.map(n=>Ld(n)).join("")}</${e.type}>`}function eS(e){if(e.isText){const t=e;return{type:t.type,value:t.value,size:t.size,isRemoved:t.isRemoved}}return{type:e.type,children:e.children.map(eS),size:e.size,isRemoved:e.isRemoved}}class Ye extends Ko{constructor(n,i){super(i);u(this,"indexTree");u(this,"nodeMapByID");this.indexTree=new cA(n),this.nodeMapByID=new tS(jt.createComparator()),this.indexTree.traverseAll(r=>{this.nodeMapByID.put(r.id,r)})}static create(n,i){return new Ye(n,i)}findFloorNode(n){const i=this.nodeMapByID.floorEntry(n);if(!(!i||!i.key.getCreatedAt().equals(n.getCreatedAt())))return i.value}registerNode(n){this.nodeMapByID.put(n.id,n)}findNodesAndSplitText(n,i){let r={data:0,meta:0};const[a,s]=n.toTreeNodePair(this);let o=s;const l=a===o,c=o.parent&&!l?o.parent:a;if(o.isText){const[,h]=o.split(this,n.getLeftSiblingID().getOffset()-o.id.getOffset());r=h}if(i){const h=c.allChildren,m=l?0:h.indexOf(o)+1;for(let g=m;g<h.length;g++){const d=h[g];if(!d.id.getCreatedAt().after(i))break;o=d}}return[[c,o],r]}style(n,i,r,a){const s={data:0,meta:0},[[o,l],c]=this.findNodesAndSplitText(n[0],r),[[h,m],g]=this.findNodesAndSplitText(n[1],r);Ht(s,g,c);const d=[],A=i?$i(i):{},w=[];return this.traverseInPosRange(o,l,h,m,([x,p])=>{var b;const y=x.getCreatedAt().getActorID();let v=no;if(a!=null&&(v=a.get(y)?a.get(y):0n),x.canStyle(r,v)&&i){const O=x.setAttrs(i,r),C=O.reduce((P,[,J])=>(J&&(P[J.getKey()]=A[J.getKey()]),P),{}),k=x.parent,B=x.prevSibling||x.parent;Object.keys(C).length>0&&d.push({type:"style",from:this.toIndex(k,B),to:this.toIndex(x,x),fromPath:this.toPath(k,B),toPath:this.toPath(x,x),actor:r.getActorID(),value:C});for(const[P]of O)P&&w.push({parent:x,child:P});for(const[P]of Object.entries(A)){const J=(b=x.attrs)==null?void 0:b.getNodeMapByKey().get(P);J!==void 0&&p!==At.End&&Ht(s,J.getDataSize())}}}),[w,d,s]}removeStyle(n,i,r,a){const s={data:0,meta:0},[[o,l],c]=this.findNodesAndSplitText(n[0],r),[[h,m],g]=this.findNodesAndSplitText(n[1],r);Ht(s,g,c);const d=[],A=[];return this.traverseInPosRange(o,l,h,m,([w])=>{const x=w.getCreatedAt().getActorID();let p=no;if(a!=null&&(p=a.get(x)?a.get(x):0n),w.canStyle(r,p)&&i){w.attrs||(w.attrs=new tr);for(const b of i){const O=w.attrs.remove(b,r);for(const C of O)A.push({parent:w,child:C})}const y=w.parent,v=w.prevSibling||w.parent;d.push({actor:r.getActorID(),type:"removeStyle",from:this.toIndex(y,v),to:this.toIndex(w,w),fromPath:this.toPath(y,v),toPath:this.toPath(w,w),value:i})}}),[A,d,s]}edit(n,i,r,a,s,o){const l={data:0,meta:0},[[c,h],m]=this.findNodesAndSplitText(n[0],a),[[g,d],A]=this.findNodesAndSplitText(n[1],a);Ht(l,A,m);const w=this.toIndex(c,h),x=this.toPath(c,h),p=[],y=[],v=[];this.traverseInPosRange(c,h,g,d,([C,k],B)=>{if(k===At.Start&&!B)for(const Gt of C.children)v.push(Gt);const P=C.getCreatedAt().getActorID();let J=no;o!=null&&(J=o.get(P)?o.get(P):0n),(C.canDelete(a,J)||p.includes(C.parent))&&((k===At.Text||k===At.Start)&&p.push(C),y.push([C,k]))});const b=this.makeDeletionChanges(y,a),O=[];for(const C of p)C.remove(a),C.isRemoved&&O.push({parent:this,child:C});for(const C of v)C.removedAt||c.append(C);if(r>0){let C=0,k=c,B=h;for(;C<r;)k.split(this,k.findOffset(B)+1,s),B=k,k=k.parent,C++;b.push({type:"content",from:w,to:w,fromPath:x,toPath:x,actor:a.getActorID()})}if(i!=null&&i.length){const C=[];let k=h;for(const B of i)k===c?c.insertAt(B,0):c.insertAfter(B,k),k=B,cc(B,P=>{c.isRemoved?(P.remove(a),O.push({parent:this,child:P})):Ht(l,P.getDataSize()),this.nodeMapByID.put(P.id,P)}),B.isRemoved||C.push(B);if(C.length){const B=C.map(P=>kh(P));b.length&&b[b.length-1].from===w?b[b.length-1].value=B:b.push({type:"content",from:w,to:w,fromPath:x,toPath:x,actor:a.getActorID(),value:B})}}return[b,O,l]}editT(n,i,r,a,s){const o=this.findPos(n[0]),l=this.findPos(n[1]);this.edit([o,l],i,r,a,s)}move(n,i,r){throw new T(S.ErrUnimplemented,`not implemented: ${n}, ${i}, ${r}`)}pathToTreePos(n){return this.indexTree.pathToTreePos(n)}purge(n){var a;(a=n.parent)==null||a.removeChild(n),this.nodeMapByID.remove(n.id);const i=n.insPrevID,r=n.insNextID;if(i){const s=this.findFloorNode(i);s.insNextID=r}if(r){const s=this.findFloorNode(r);s.insPrevID=i}n.insPrevID=void 0,n.insNextID=void 0}getGCPairs(){const n=[];return this.indexTree.traverse(i=>{i.getRemovedAt()&&n.push({parent:this,child:i});for(const r of i.getGCPairs())n.push(r)}),n}findPos(n,i=!0){const r=this.indexTree.findTreePos(n,i);return _e.fromTreePos(r)}pathToPosRange(n){const i=this.pathToIndex(n);return[this.findPos(i),this.findPos(i+1)]}pathToPos(n){const i=this.indexTree.pathToIndex(n);return this.findPos(i)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Ld(this.indexTree.getRoot())}getDataSize(){const n={data:0,meta:0};return this.indexTree.traverse(i=>{if(i.getRemovedAt())return;const r=i.getDataSize();n.data+=r.data,n.meta+=r.meta}),{data:n.data,meta:n.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const n=this.indexTree.getRoot(),i=(r,a=void 0,s=void 0,o=0)=>{var d,A,w,x;let l,c,h;const m=r.isText?{node:r,offset:0}:a&&s?this.toTreePos(a,s):null;m&&(l=this.indexTree.indexOf(m),c=this.indexTree.treePosToPath(m),h=_e.fromTreePos(m).toStruct());const g={type:r.type,parent:a==null?void 0:a.id.toTestString(),size:r.size,id:r.id.toTestString(),removedAt:(d=r.removedAt)==null?void 0:d.toTestString(),insPrev:(A=r.insPrevID)==null?void 0:A.toTestString(),insNext:(w=r.insNextID)==null?void 0:w.toTestString(),value:r.isText?r.value:void 0,isRemoved:r.isRemoved,children:[],depth:o,attributes:r.attrs?$i((x=r.attrs)==null?void 0:x.toObject()):void 0,index:l,path:c,pos:h};for(let p=0;p<r.allChildren.length;p++){const y=p===0?r:r.allChildren[p-1];g.children.push(i(r.allChildren[p],r,y,o+1))}return g};return i(n)}getRootTreeNode(){return kh(this.indexTree.getRoot())}toTestTreeNode(){return eS(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const n=this.getRoot();return new Ye(n.deepcopy(),this.getCreatedAt())}toPath(n,i){const r=this.toTreePos(n,i);return r?this.indexTree.treePosToPath(r):[]}toIndex(n,i){const r=this.toTreePos(n,i);return r?this.indexTree.indexOf(r):-1}indexToPath(n){return this.indexTree.indexToPath(n)}pathToIndex(n){return this.indexTree.pathToIndex(n)}indexRangeToPosRange(n){const i=this.findPos(n[0]);return n[0]===n[1]?[i,i]:[i,this.findPos(n[1])]}indexRangeToPosStructRange(n){const[i,r]=n,a=this.findPos(i);return i===r?[a.toStruct(),a.toStruct()]:[a.toStruct(),this.findPos(r).toStruct()]}posRangeToPathRange(n){const[[i,r]]=this.findNodesAndSplitText(n[0]),[[a,s]]=this.findNodesAndSplitText(n[1]);return[this.toPath(i,r),this.toPath(a,s)]}posRangeToIndexRange(n){const[[i,r]]=this.findNodesAndSplitText(n[0]),[[a,s]]=this.findNodesAndSplitText(n[1]);return[this.toIndex(i,r),this.toIndex(a,s)]}traverseInPosRange(n,i,r,a,s){const o=this.toIndex(n,i),l=this.toIndex(r,a);return this.indexTree.tokensBetween(o,l,s)}toTreePos(n,i){if(!n||!i)return;if(n.isRemoved){let a;for(;n.isRemoved;)a=n,n=a.parent;const s=n.findOffset(a);return{node:n,offset:s}}if(n===i)return{node:n,offset:0};let r=n.findOffset(i);if(!i.isRemoved){if(i.isText)return{node:i,offset:i.paddedSize};r++}return{node:n,offset:r}}makeDeletionChanges(n,i){const r=[],a=[];let s=null,o=null;for(let l=0;l<n.length;l++){const c=n[l],h=n[l+1];s||(s=c),o=c;const m=this.findRightToken(c);(!m||!h||m[0]!==h[0]||m[1]!==h[1])&&(a.push([s,o]),s=null,o=null)}for(const l of a){const[c,h]=l,[m,g]=this.findLeftToken(c),[d,A]=h,w=g===At.Start?m:m.parent,x=A===At.Start?d:d.parent,p=this.toIndex(w,m),y=this.toIndex(x,d);p<y&&(r.length>0&&p===r[r.length-1].to?(r[r.length-1].to=y,r[r.length-1].toPath=this.toPath(x,d)):r.push({type:"content",from:p,to:y,fromPath:this.toPath(w,m),toPath:this.toPath(x,d),actor:i.getActorID()}))}return r.reverse()}findRightToken([n,i]){if(i===At.Start){const l=n.allChildren;return l.length>0?[l[0],l[0].isText?At.Text:At.Start]:[n,At.End]}const r=n.parent,a=r.allChildren,s=a.indexOf(n);if(r&&s===a.length-1)return[r,At.End];const o=a[s+1];return[o,o.isText?At.Text:At.Start]}findLeftToken([n,i]){if(i===At.End){const l=n.allChildren;if(l.length>0){const c=l[l.length-1];return[c,c.isText?At.Text:At.End]}return[n,At.Start]}const r=n.parent,a=r.allChildren,s=a.indexOf(n);if(r&&s===0)return[r,At.Start];const o=a[s-1];return[o,o.isText?At.Text:At.End]}}class Qo extends tn{constructor(n,i,r,a,s,o){super(n,o);u(this,"fromPos");u(this,"toPos");u(this,"contents");u(this,"splitLevel");this.fromPos=i,this.toPos=r,this.contents=a,this.splitLevel=s}static create(n,i,r,a,s,o){return new Qo(n,i,r,a,s,o)}execute(n,i,r){var m;const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Ye))throw new T(S.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const s=this.getExecutedAt(),o=a,[l,c,h]=o.edit([this.fromPos,this.toPos],(m=this.contents)==null?void 0:m.map(g=>g.deepcopy()),this.splitLevel,s,(()=>{let g=s.getDelimiter();return this.contents!==void 0&&(g+=this.contents.length),()=>He.of(s.getLamport(),++g,s.getActorID())})(),r);n.acc(h);for(const g of c)n.registerGCPair(g);return{opInfos:l.map(({from:g,to:d,value:A,splitLevel:w,fromPath:x,toPath:p})=>({type:"tree-edit",path:n.createPath(this.getParentCreatedAt()),from:g,to:d,value:A,splitLevel:w,fromPath:x,toPath:p}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,r=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,a=this.contents||[];return`${n}.EDIT(${i},${r},${a.map(s=>Ld(s)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class $a{constructor(t){u(this,"vector");this.vector=t||new Map}set(t,n){this.vector.set(t,n)}unset(t){this.vector.delete(t)}get(t){return this.vector.get(t)}maxLamport(){let t=BigInt(0);for(const[,n]of this)n>t&&(t=n);return t}max(t){const n=new Map;for(const[i,r]of t){const a=this.vector.get(i),s=a&&a>r?a:r;n.set(i,s)}for(const[i,r]of this){const a=t.get(i),s=a&&a>r?a:r;n.set(i,s)}return new $a(n)}afterOrEqual(t){const n=this.vector.get(t.getActorID());return n===void 0?!1:n>=t.getLamport()}deepcopy(){const t=new Map;for(const[n,i]of this.vector)t.set(n,i);return new $a(t)}filter(t){const n=new Map;for(const[i]of t){const r=this.vector.get(i);r!==void 0&&n.set(i,r)}return new $a(n)}size(){return this.vector.size}*[Symbol.iterator](){for(const[t,n]of this.vector)yield[t,n]}}const nS=new $a(new Map);class Xe{constructor(t,n,i,r,a){u(this,"clientSeq");u(this,"serverSeq");u(this,"actor");u(this,"lamport");u(this,"versionVector");this.clientSeq=t,this.serverSeq=a,this.lamport=n,this.versionVector=r,this.actor=i}hasClocks(){return this.versionVector.size()>0&&this.lamport!=Dh}static of(t,n,i,r,a){return new Xe(t,n,i,r,a)}next(t=!1){if(t)return new Xe(this.clientSeq+1,this.lamport,this.actor,nS,Dh);const n=this.versionVector.deepcopy();return n.set(this.actor,this.lamport+1n),new Xe(this.clientSeq+1,this.lamport+1n,this.actor,n)}syncClocks(t){if(!t.hasClocks())return this;const n=t.lamport>this.lamport?t.lamport+1n:this.lamport+1n,i=this.versionVector.max(t.versionVector),r=new Xe(this.clientSeq,n,this.actor,i);return r.versionVector.set(this.actor,n),r}setClocks(t,n){const i=t>this.lamport?t+1n:this.lamport+1n;n.unset(uc);const r=this.versionVector.max(n);return r.set(this.actor,i),Xe.of(this.clientSeq,i,this.actor,r)}createTimeTicket(t){return He.of(this.lamport,t,this.actor)}setActor(t){return new Xe(this.clientSeq,this.lamport,t,this.versionVector,this.serverSeq)}setLamport(t){return new Xe(this.clientSeq,t,this.actor,this.versionVector,this.serverSeq)}setVersionVector(t){return new Xe(this.clientSeq,this.lamport,this.actor,t,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const gA=new Xe(0,0n,uc,nS);class ds{constructor({id:t,operations:n,presenceChange:i,message:r}){u(this,"id");u(this,"operations");u(this,"presenceChange");u(this,"message");this.id=t,this.operations=n||[],this.presenceChange=i,this.message=r}static create({id:t,operations:n,presenceChange:i,message:r}){return new ds({id:t,operations:n,presenceChange:i,message:r})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(t){for(const n of this.operations)n.setActor(t);this.id=this.id.setActor(t)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(t,n,i){const r=[],a=[];for(const s of this.operations){const o=s.execute(t,i,this.id.getVersionVector());if(!o)continue;const{opInfos:l,reverseOp:c}=o;r.push(...l),c&&a.unshift(c)}return this.presenceChange&&(this.presenceChange.type===En.Put?n.set(this.id.getActorID(),$e(this.presenceChange.presence)):n.delete(this.id.getActorID())),{opInfos:r,reverseOps:a}}toTestString(){return`${this.operations.map(t=>t.toTestString()).join(",")}`}toStruct(){return{changeID:Nt.bytesToHex(Nt.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(t=>Nt.bytesToHex(Nt.toOperation(t).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(t){const{changeID:n,operations:i,presenceChange:r,message:a}=t;return ds.create({id:Nt.bytesToChangeID(Nt.hexToBytes(n)),operations:i==null?void 0:i.map(s=>Nt.bytesToOperation(Nt.hexToBytes(s))),presenceChange:r,message:a})}}class fc{constructor(t,n,i,r,a,s){u(this,"documentKey");u(this,"checkpoint");u(this,"isRemoved");u(this,"changes");u(this,"snapshot");u(this,"versionVector");this.documentKey=t,this.checkpoint=n,this.isRemoved=i,this.changes=r,this.snapshot=s,this.versionVector=a}static create(t,n,i,r,a,s){return new fc(t,n,i,r,a,s)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class Xa{constructor(t,n){u(this,"serverSeq");u(this,"clientSeq");this.serverSeq=t,this.clientSeq=n}static of(t,n){return new Xa(t,n)}increaseClientSeq(t){return t===0?this:new Xa(this.serverSeq,this.clientSeq+t)}forward(t){if(this.equals(t))return this;const n=this.serverSeq>t.serverSeq?this.serverSeq:t.serverSeq,i=Math.max(this.clientSeq,t.clientSeq);return Xa.of(n,i)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(t){return this.clientSeq===t.clientSeq&&this.serverSeq==t.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const mA=new Xa(0n,0);class An{constructor(t,n){u(this,"createdAt");u(this,"offset");this.createdAt=t,this.offset=n}static of(t,n){return new An(t,n)}static fromStruct(t){return An.of(He.fromStruct(t.createdAt),t.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}hasSameCreatedAt(t){return this.createdAt.compare(t.createdAt)===0}split(t){return new An(this.createdAt,this.offset+t)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const yA=An.of(cs,0);class We{constructor(t,n){u(this,"id");u(this,"relativeOffset");this.id=t,this.relativeOffset=n}static of(t,n){return new We(t,n)}static fromStruct(t){const n=An.fromStruct(t.id);return We.of(n,t.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return An.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(t){return this.id.equals(t.id)?this.relativeOffset===t.relativeOffset:!1}}class Br extends Y0{constructor(n,i,r){super(i);u(this,"id");u(this,"removedAt");u(this,"prev");u(this,"next");u(this,"insPrev");u(this,"insNext");this.id=n,this.removedAt=r}static create(n,i){return new Br(n,i)}static createComparator(){return(n,i)=>{const r=n.getCreatedAt().compare(i.getCreatedAt());return r!==0?r:n.getOffset()>i.getOffset()?1:n.getOffset()<i.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(n){this.prev=n,n&&(n.next=this)}setNext(n){this.next=n,n&&(n.prev=this)}setInsPrev(n){this.insPrev=n,n&&(n.insNext=this)}setInsNext(n){this.insNext=n,n&&(n.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(n){return new Br(this.id.split(n),this.splitValue(n),this.removedAt)}canDelete(n,i){const r=!this.removedAt;return this.getCreatedAt().getLamport()<=i&&(!this.removedAt||n.after(this.removedAt))?r:!1}canStyle(n,i){return this.getCreatedAt().getLamport()<=i&&(!this.removedAt||n.after(this.removedAt))}remove(n){this.removedAt=n}createPosRange(){return[We.of(this.id,0),We.of(this.id,this.getLength())]}getDataSize(){const n=this.value.getDataSize();return this.id&&(n.meta+=bn),this.removedAt&&(n.meta+=bn),n}deepcopy(){return new Br(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(n){const i=this.value;return this.value=i.substring(0,n),i.substring(n,i.length)}toIDString(){return this.id.toIDString()}}class gs{constructor(){u(this,"head");u(this,"treeByIndex");u(this,"treeByID");this.head=Br.create(yA),this.treeByIndex=new No,this.treeByID=new tS(Br.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new gs}edit(t,n,i,r){const a={data:0,meta:0},[s,o,l]=this.findNodeWithSplit(t[1],n),[c,h,m]=this.findNodeWithSplit(t[0],n);Ht(a,o,h);const g=this.findBetween(m,l),[d,A]=this.deleteNodes(g,n,r),w=l?l.getID():s.getID();let x=We.of(w,0);if(i){const y=this.posToIndex(c.createPosRange()[1],!0),v=this.insertAfter(c,Br.create(An.of(n,0),i));Ht(a,v.getDataSize()),d.length&&d[d.length-1].from===y?d[d.length-1].value=i:d.push({actor:n.getActorID(),from:y,to:y,value:i}),x=We.of(v.getID(),v.getContentLength())}const p=[];for(const[,y]of A)p.push({parent:this,child:y});return[x,p,a,d]}indexToPos(t){const[n,i]=this.treeByIndex.find(t),r=n;return We.of(r.getID(),i)}findIndexesFromRange(t){const[n,i]=t;return[this.posToIndex(n,!1),this.posToIndex(i,!0)]}posToIndex(t,n){const i=t.getAbsoluteID(),r=n?this.findFloorNodePreferToLeft(i):this.findFloorNode(i);if(!r)throw new T(S.ErrInvalidArgument,`the node of the given id should be found: ${i.toTestString()}`);const a=this.treeByIndex.indexOf(r),s=r.isRemoved()?0:i.getOffset()-r.getID().getOffset();return a+s}findNode(t){return this.findFloorNode(t)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const t=[];for(const n of this)n.isRemoved()||t.push(n.getValue());return t.join("")}*[Symbol.iterator](){let t=this.head.getNext();for(;t;)yield t,t=t.getNext()}getHead(){return this.head}deepcopy(){const t=new gs;let n=this.head.getNext(),i=t.head,r;for(;n;){if(r=t.insertAfter(i,n.deepcopy()),n.hasInsPrev()){const a=t.findNode(n.getInsPrevID());r.setInsPrev(a)}i=r,n=n.getNext()}return t}toTestString(){const t=[];let n=this.head;for(;n;)n.isRemoved()?t.push(`{${n.toTestString()}}`):t.push(`[${n.toTestString()}]`),n=n.getNext();return t.join("")}insertAfter(t,n){const i=t.getNext();return n.setPrev(t),i&&i.setPrev(n),this.treeByID.put(n.getID(),n),this.treeByIndex.insertAfter(t,n),n}findNodeWithSplit(t,n){const i=t.getAbsoluteID();let r=this.findFloorNodePreferToLeft(i);const a=i.getOffset()-r.getID().getOffset(),[,s]=this.splitNode(r,a);for(;r.hasNext()&&r.getNext().getCreatedAt().after(n);)r=r.getNext();return[r,s,r.getNext()]}findFloorNodePreferToLeft(t){let n=this.findFloorNode(t);if(!n)throw new T(S.ErrInvalidArgument,`the node of the given id should be found: ${t.toTestString()}`);if(t.getOffset()>0&&n.getID().getOffset()==t.getOffset()){if(!n.hasInsPrev())return n;n=n.getInsPrev()}return n}findFloorNode(t){const n=this.treeByID.floorEntry(t);if(n&&!(!n.key.equals(t)&&!n.key.hasSameCreatedAt(t)))return n.value}findBetween(t,n){const i=[];let r=t;for(;r&&r!==n;)i.push(r),r=r.getNext();return i}splitNode(t,n){const i={data:0,meta:0};if(n>t.getContentLength())throw new T(S.ErrInvalidArgument,"offset should be less than or equal to length");if(n===0)return[t,i];if(n===t.getContentLength())return[t.getNext(),i];const r=t.getDataSize(),a=t.split(n);this.treeByIndex.updateWeight(a),this.insertAfter(t,a);const s=t.getInsNext();return s&&s.setInsPrev(a),a.setInsPrev(t),Ht(i,t.getDataSize(),a.getDataSize()),Ka(i,r),[a,i]}deleteNodes(t,n,i){if(!t.length)return[[],new Map];const[r,a]=this.filterNodes(t,n,i),s=new Map,o=this.makeChanges(a,n);for(const l of r)s.set(l.getID().toIDString(),l),l.remove(n);return this.deleteIndexNodes(a),[o,s]}filterNodes(t,n,i){const r=[],a=[],[s,o]=this.findEdgesOfCandidates(t);a.push(s);for(const l of t){const c=l.getCreatedAt().getActorID();let h=no;i!=null&&(h=i.get(c)?i.get(c):0n),l.canDelete(n,h)?r.push(l):a.push(l)}return a.push(o),[r,a]}findEdgesOfCandidates(t){return[t[0].getPrev(),t[t.length-1].getNext()]}makeChanges(t,n){const i=[];let r,a;for(let s=0;s<t.length-1;s++){const o=t[s],l=t[s+1];o.getNext()!=l&&([r]=this.findIndexesFromRange(o.getNext().createPosRange()),l?[,a]=this.findIndexesFromRange(l.getPrev().createPosRange()):a=this.treeByIndex.length,r<a&&i.push({actor:n.getActorID(),from:r,to:a}))}return i.reverse()}deleteIndexNodes(t){for(let n=0;n<t.length-1;n++){const i=t[n],r=t[n+1];i.getNext()!=r&&this.treeByIndex.deleteRange(i,r)}}purge(t){this.treeByIndex.delete(t),this.treeByID.remove(t.getID());const n=t.getPrev(),i=t.getNext(),r=t.getInsPrev(),a=t.getInsNext();n&&n.setNext(i),i&&i.setPrev(n),t.setPrev(void 0),t.setNext(void 0),r&&r.setInsNext(a),a&&a.setInsPrev(r),t.setInsPrev(void 0),t.setInsNext(void 0)}}const dy=e=>e<0?Math.ceil(e):Math.floor(e);var Nn=(e=>(e[e.Int=0]="Int",e[e.Long=1]="Long",e))(Nn||{});class Te extends Ko{constructor(n,i,r){super(r);u(this,"valueType");u(this,"value");switch(this.valueType=n,n){case 0:typeof i=="number"?i>Math.pow(2,31)-1||i<-Math.pow(2,31)?this.value=Z.fromNumber(i).toInt():this.value=dy(i):this.value=i.toInt();break;case 1:typeof i=="number"?this.value=Z.fromNumber(i):this.value=i;break;default:throw new T(S.ErrUnimplemented,`unimplemented type: ${n}`)}}static create(n,i,r){return new Te(n,i,r)}static valueFromBytes(n,i){switch(n){case 0:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 1:return Z.fromBytesLE(Array.from(i));default:throw new T(S.ErrUnimplemented,`unimplemented type: ${n}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const n=Te.create(this.valueType,this.value,this.getCreatedAt());return n.setMovedAt(this.getMovedAt()),n}getType(){return this.valueType}static getCounterType(n){switch(typeof n){case"object":return n instanceof Z?1:void 0;case"number":return n>Math.pow(2,31)-1||n<-Math.pow(2,31)?1:0;default:return}}static isSupport(n){return!!Te.getCounterType(n)}static isInteger(n){return n%1===0}isNumericType(){const n=this.valueType;return n===0||n===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const n=this.value;return new Uint8Array([n&255,n>>8&255,n>>16&255,n>>24&255])}case 1:{const i=this.value.toBytesLE();return Uint8Array.from(i)}default:throw new T(S.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(n){function i(r){if(!r.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof r.getValue()}`)}return i(this),i(n),this.valueType===1?this.value=this.value.add(n.getValue()):n.getType()===Ct.Long?this.value=this.value+n.getValue().toInt():this.value=Z.fromNumber(this.value+dy(n.getValue())).toInt(),this}}class ms extends tn{constructor(n,i,r){super(n,r);u(this,"value");this.value=i}static create(n,i,r){return new ms(n,i,r)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Te))throw new T(S.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const r=i,a=this.value.deepcopy();return r.increase(a),{opInfos:[{type:"increase",path:n.createPath(this.getParentCreatedAt()),value:a.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const n=this.value.deepcopy(),r=n.getType()===Ct.Long?n.getValue().multiply(-1):n.getValue()*-1;return ms.create(this.getParentCreatedAt(),Tt.of(r,n.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Xi extends tn{constructor(n,i,r,a,s,o){super(n,o);u(this,"fromPos");u(this,"toPos");u(this,"attributes");u(this,"attributesToRemove");this.fromPos=i,this.toPos=r,this.attributes=a,this.attributesToRemove=s}static create(n,i,r,a,s){return new Xi(n,i,r,a,[],s)}static createTreeRemoveStyleOperation(n,i,r,a,s){return new Xi(n,i,r,new Map,a,s)}execute(n,i,r){const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Ye))throw new T(S.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const s=a;let o,l,c={data:0,meta:0};if(this.attributes.size){const h={};[...this.attributes].forEach(([m,g])=>h[m]=g),[l,o,c]=s.style([this.fromPos,this.toPos],h,this.getExecutedAt(),r)}else{const h=this.attributesToRemove;[l,o,c]=s.removeStyle([this.fromPos,this.toPos],h,this.getExecutedAt(),r)}n.acc(c);for(const h of l)n.registerGCPair(h);return{opInfos:o.map(({from:h,to:m,value:g,fromPath:d,toPath:A})=>({type:"tree-style",from:h,to:m,value:this.attributes.size?{attributes:g}:{attributesToRemove:g},fromPath:d,toPath:A,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,r=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${n}.STYLE(${i},${r},${Object.entries(this.attributes||{}).map(([a,s])=>`${a}:"${s}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}function pA(e){const t=new zd,n=t.data;for(const[i,r]of Object.entries(e))n.push(i),n.push(JSON.stringify(r));return t}function vA(e){if(e.type===En.Put)return new Ao({type:la.PUT,presence:pA(e.presence)});if(e.type===En.Clear)return new Ao({type:la.CLEAR});throw new T(S.ErrUnimplemented,"unimplemented type")}function SA(e){return new j0({serverSeq:e.getServerSeq(),clientSeq:e.getClientSeq()})}function iS(e){return new oc({clientSeq:e.getClientSeq(),lamport:e.getLamport(),actorId:Xd(e.getActorID()),versionVector:Jd(e.getVersionVector())})}function U(e){if(e)return new z({lamport:e.getLamport(),delimiter:e.getDelimiter(),actorId:Xd(e.getActorID())})}function Jd(e){if(!e)return;const t=new lc;for(const[n,i]of e)t.vector[n]=BigInt(i.toString());return t}function rS(e){switch(e){case Ct.Null:return H.NULL;case Ct.Boolean:return H.BOOLEAN;case Ct.Integer:return H.INTEGER;case Ct.Long:return H.LONG;case Ct.Double:return H.DOUBLE;case Ct.String:return H.STRING;case Ct.Bytes:return H.BYTES;case Ct.Date:return H.DATE;default:throw new T(S.ErrInvalidType,`unsupported type: ${e}`)}}function aS(e){switch(e){case Nn.Int:return H.INTEGER_CNT;case Nn.Long:return H.LONG_CNT;default:throw new T(S.ErrInvalidType,`unsupported type: ${e}`)}}function Wc(e){if(e instanceof ae)return new xe({type:H.JSON_OBJECT,createdAt:U(e.getCreatedAt()),value:vS(e)});if(e instanceof Se)return new xe({type:H.JSON_ARRAY,createdAt:U(e.getCreatedAt()),value:QA(e)});if(e instanceof Ge)return new xe({type:H.TEXT,createdAt:U(e.getCreatedAt())});if(e instanceof Tt)return new xe({type:rS(e.getType()),createdAt:U(e.getCreatedAt()),value:e.toBytes()});if(e instanceof Te)return new xe({type:aS(e.getType()),createdAt:U(e.getCreatedAt()),value:e.toBytes()});if(e instanceof Ye)return new xe({type:H.TREE,createdAt:U(e.getCreatedAt()),value:FA(e)});throw new T(S.ErrUnimplemented,"unimplemented element")}function TA(e){return new bo({createdAt:U(e.getCreatedAt()),offset:e.getOffset()})}function yl(e){return new Wi({createdAt:U(e.getID().getCreatedAt()),offset:e.getID().getOffset(),relativeOffset:e.getRelativeOffset()})}function pl(e){return new oa({parentId:io(e.getParentID()),leftSiblingId:io(e.getLeftSiblingID())})}function io(e){return new kr({createdAt:U(e.getCreatedAt()),offset:e.getOffset()})}function sS(e){const t=new Id;if(e instanceof ua){const n=e,i=new vu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.key=n.getKey(),i.value=Wc(n.getValue()),i.executedAt=U(n.getExecutedAt()),t.body.case="set",t.body.value=i}else if(e instanceof $o){const n=e,i=new Su;i.parentCreatedAt=U(n.getParentCreatedAt()),i.prevCreatedAt=U(n.getPrevCreatedAt()),i.value=Wc(n.getValue()),i.executedAt=U(n.getExecutedAt()),t.body.case="add",t.body.value=i}else if(e instanceof Tr){const n=e,i=new Tu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.prevCreatedAt=U(n.getPrevCreatedAt()),i.createdAt=U(n.getCreatedAt()),i.executedAt=U(n.getExecutedAt()),t.body.case="move",t.body.value=i}else if(e instanceof Lr){const n=e,i=new bu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.createdAt=U(n.getCreatedAt()),i.executedAt=U(n.getExecutedAt()),t.body.case="remove",t.body.value=i}else if(e instanceof Xo){const n=e,i=new wu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.from=yl(n.getFromPos()),i.to=yl(n.getToPos()),i.content=n.getContent();const r=i.attributes;for(const[a,s]of n.getAttributes())r[a]=s;i.executedAt=U(n.getExecutedAt()),t.body.case="edit",t.body.value=i}else if(e instanceof Zo){const n=e,i=new Au;i.parentCreatedAt=U(n.getParentCreatedAt()),i.from=yl(n.getFromPos()),i.to=yl(n.getToPos());const r=i.attributes;for(const[a,s]of n.getAttributes())r[a]=s;i.executedAt=U(n.getExecutedAt()),t.body.case="style",t.body.value=i}else if(e instanceof ms){const n=e,i=new Eu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.value=Wc(n.getValue()),i.executedAt=U(n.getExecutedAt()),t.body.case="increase",t.body.value=i}else if(e instanceof Qo){const n=e,i=new Nu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.from=pl(n.getFromPos()),i.to=pl(n.getToPos()),i.contents=DA(n.getContents()),i.splitLevel=n.getSplitLevel(),i.executedAt=U(n.getExecutedAt()),t.body.case="treeEdit",t.body.value=i}else if(e instanceof Xi){const n=e,i=new xu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.from=pl(n.getFromPos()),i.to=pl(n.getToPos());const r=n.getAttributesToRemove();if(r.length>0)i.attributesToRemove=r;else{const a=i.attributes;for(const[s,o]of n.getAttributes())a[s]=o}i.executedAt=U(n.getExecutedAt()),t.body.case="treeStyle",t.body.value=i}else throw new T(S.ErrUnimplemented,"unimplemented operation");return t}function bA(e){const t=[];for(const n of e)t.push(sS(n));return t}function wA(e){const t=new H0({id:iS(e.getID()),message:e.getMessage()});return e.hasOperations()&&(t.operations=bA(e.getOperations())),e.hasPresenceChange()&&(t.presenceChange=vA(e.getPresenceChange())),t}function AA(e){const t=[];for(const n of e)t.push(wA(n));return t}function EA(e){const t=[];for(const n of e)t.push(new V0({key:n.getStrKey(),element:Pd(n.getValue())}));return t}function NA(e){const t=[];for(const n of e)t.push(new Iu({element:Pd(n.getValue())}));return t}function xA(e){const t=[];for(const n of e){const i=new zu;i.id=TA(n.getID()),i.value=n.getValue().getContent(),i.removedAt=U(n.getRemovedAt());const r=i.attributes,a=n.getValue().getAttrs();for(const s of a){const o=new us;o.value=s.getValue(),o.updatedAt=U(s.getUpdatedAt()),r[s.getKey()]=o}t.push(i)}return t}function DA(e){const t=[];if(!e||!e.length)return t;for(const n of e)t.push(new Mu({content:qd(n)}));return t}function OA(e){const t={};for(const n of e)t[n.getKey()]=new us({value:n.getValue(),updatedAt:U(n.getUpdatedAt()),isRemoved:n.isRemoved()});return t}function qd(e){if(!e)return[];const t=[];return cc(e,(n,i)=>{const r=new wo({id:io(n.id),type:n.type,removedAt:U(n.removedAt),depth:i});n.isText&&(r.value=n.value),n.insPrevID&&(r.insPrevId=io(n.insPrevID)),n.insNextID&&(r.insNextId=io(n.insNextID)),n.attrs&&(r.attributes=OA(n.attrs)),t.push(r)}),t}function CA(e){const t=new oe;return t.body.case="jsonObject",t.body.value=new Du({nodes:EA(e.getRHT()),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function oS(e){const t=new oe;return t.body.case="jsonArray",t.body.value=new Ou({nodes:NA(e.getElements()),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function kA(e){const t=new oe;return t.body.case="primitive",t.body.value=new Cu({type:rS(e.getType()),value:e.toBytes(),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function RA(e){const t=new oe;return t.body.case="text",t.body.value=new ku({nodes:xA(e.getRGATreeSplit()),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function BA(e){const t=new oe;return t.body.case="counter",t.body.value=new Ru({type:aS(e.getType()),value:e.toBytes(),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function lS(e){const t=new oe;return t.body.case="tree",t.body.value=new Bu({nodes:qd(e.getRoot()),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function Pd(e){if(e instanceof ae)return CA(e);if(e instanceof Se)return oS(e);if(e instanceof Tt)return kA(e);if(e instanceof Ge)return RA(e);if(e instanceof Te)return BA(e);if(e instanceof Ye)return lS(e);throw new T(S.ErrUnimplemented,"unimplemented element")}function IA(e){return new nr({documentKey:e.getDocumentKey(),checkpoint:SA(e.getCheckpoint()),isRemoved:e.getIsRemoved(),changes:AA(e.getChanges()),snapshot:e.getSnapshot(),versionVector:Jd(e.getVersionVector())})}function Js(e){if(!(e instanceof tt))return{};const t=e.findDetails(Qw);for(const n of t)return n.metadata;return{}}function sr(e){return Js(e).code??""}function uS(e){return Xe.of(e.clientSeq,BigInt(e.lamport),Kd(e.actorId),Hd(e.versionVector),BigInt(e.serverSeq))}function Hd(e){if(!e)return;const t=new $a;return Object.entries(e.vector).forEach(([n,i])=>{t.set(n,BigInt(i.toString()))}),t}function L(e){if(e)return He.of(BigInt(e.lamport),e.delimiter,Kd(e.actorId))}function Vd(e){const t={};for(let n=0;n<e.data.length;n+=2){const i=e.data[n],r=e.data[n+1];t[i]=JSON.parse(r)}return t}function zA(e){const t=e.type;if(t===la.PUT){const n=Vd(e.presence);return{type:En.Put,presence:n}}if(t===la.CLEAR)return{type:En.Clear};throw new T(S.ErrInvalidType,`unsupported type: ${t}`)}function MA(e){const t=new Map;return Object.entries(e).forEach(([n,i])=>{t.set(n,Vd(i))}),t}function cS(e){switch(e){case H.NULL:return Ct.Null;case H.BOOLEAN:return Ct.Boolean;case H.INTEGER:return Ct.Integer;case H.LONG:return Ct.Long;case H.DOUBLE:return Ct.Double;case H.STRING:return Ct.String;case H.BYTES:return Ct.Bytes;case H.DATE:return Ct.Date}throw new T(S.ErrUnimplemented,`unimplemented value type: ${e}`)}function qu(e){switch(e){case H.INTEGER_CNT:return Nn.Int;case H.LONG_CNT:return Nn.Long}throw new T(S.ErrUnimplemented,`unimplemented value type: ${e}`)}function tf(e){switch(e.type){case H.JSON_OBJECT:return e.value?pS(e.value):ae.create(L(e.createdAt));case H.JSON_ARRAY:return e.value?ZA(e.value):Se.create(L(e.createdAt));case H.TEXT:return Ge.create(gs.create(),L(e.createdAt));case H.TREE:return _A(e.value);case H.NULL:case H.BOOLEAN:case H.INTEGER:case H.LONG:case H.DOUBLE:case H.STRING:case H.BYTES:case H.DATE:return Tt.of(Tt.valueFromBytes(cS(e.type),e.value),L(e.createdAt));case H.INTEGER_CNT:case H.LONG_CNT:return Te.create(qu(e.type),Te.valueFromBytes(qu(e.type),e.value),L(e.createdAt))}}function vl(e){return We.of(An.of(L(e.createdAt),e.offset),e.relativeOffset)}function fS(e){return An.of(L(e.createdAt),e.offset)}function UA(e){const t=Do.create(e.value);Object.entries(e.attributes).forEach(([i,r])=>{t.setAttr(i,r.value,L(r.updatedAt))});const n=Br.create(fS(e.id),t);return n.remove(L(e.removedAt)),n}function va(e){return _e.of(ro(e.parentId),ro(e.leftSiblingId))}function ro(e){return jt.of(L(e.createdAt),e.offset)}function LA(e){if(!e.length)return;const t=[];return e.forEach(n=>{const i=jd(n.content);t.push(i)}),t}function jd(e){if(e.length===0)return;const t=[];for(const r of e)t.push(qA(r));const n=t[t.length-1],i=new Map;i.set(e[t.length-1].depth,t[t.length-1]);for(let r=t.length-2;r>=0;r--)i.get(e[r].depth-1).prepend(t[r]),i.set(e[r].depth,t[r]);return n.updateDescendantsSize(),Ye.create(n,cs).getRoot()}function JA(e){const t=tr.create();for(const[n,i]of Object.entries(e))t.setInternal(n,i.value,L(i.updatedAt),i.isRemoved);return t}function qA(e){const t=ro(e.id),n=ge.create(t,e.type),i=Object.entries(e.attributes);return n.isText?n.value=e.value:i.length&&(n.attrs=JA(e.attributes)),e.insPrevId&&(n.insPrevID=ro(e.insPrevId)),e.insNextId&&(n.insNextID=ro(e.insNextId)),n.removedAt=L(e.removedAt),n}function hS(e){if(e.body.case==="set"){const t=e.body.value;return ua.create(t.key,tf(t.value),L(t.parentCreatedAt),L(t.executedAt))}else if(e.body.case==="add"){const t=e.body.value;return $o.create(L(t.parentCreatedAt),L(t.prevCreatedAt),tf(t.value),L(t.executedAt))}else if(e.body.case==="move"){const t=e.body.value;return Tr.create(L(t.parentCreatedAt),L(t.prevCreatedAt),L(t.createdAt),L(t.executedAt))}else if(e.body.case==="remove"){const t=e.body.value;return Lr.create(L(t.parentCreatedAt),L(t.createdAt),L(t.executedAt))}else if(e.body.case==="edit"){const t=e.body.value,n=new Map;return Object.entries(t.attributes).forEach(([i,r])=>{n.set(i,r)}),Xo.create(L(t.parentCreatedAt),vl(t.from),vl(t.to),t.content,n,L(t.executedAt))}else if(e.body.case==="style"){const t=e.body.value,n=new Map;return Object.entries(t.attributes).forEach(([i,r])=>{n.set(i,r)}),Zo.create(L(t.parentCreatedAt),vl(t.from),vl(t.to),n,L(t.executedAt))}else{if(e.body.case==="select")return;if(e.body.case==="increase"){const t=e.body.value;return ms.create(L(t.parentCreatedAt),tf(t.value),L(t.executedAt))}else if(e.body.case==="treeEdit"){const t=e.body.value;return Qo.create(L(t.parentCreatedAt),va(t.from),va(t.to),LA(t.contents),t.splitLevel,L(t.executedAt))}else if(e.body.case==="treeStyle"){const t=e.body.value,n=new Map,i=t.attributesToRemove;return(i==null?void 0:i.length)>0?Xi.createTreeRemoveStyleOperation(L(t.parentCreatedAt),va(t.from),va(t.to),i,L(t.executedAt)):(Object.entries(t.attributes).forEach(([r,a])=>{n.set(r,a)}),Xi.create(L(t.parentCreatedAt),va(t.from),va(t.to),n,L(t.executedAt)))}else throw new T(S.ErrUnimplemented,"unimplemented operation")}}function PA(e){const t=[];for(const n of e){const i=hS(n);i&&t.push(i)}return t}function dS(e){const t=[];for(const n of e)t.push(ds.create({id:uS(n.id),operations:PA(n.operations),presenceChange:n.presenceChange?zA(n.presenceChange):void 0,message:n.message}));return t}function HA(e){return Xa.of(BigInt(e.serverSeq),e.clientSeq)}function VA(e){return fc.create(e.documentKey,HA(e.checkpoint),e.isRemoved,dS(e.changes),Hd(e.versionVector),e.snapshot)}function gS(e){const t=new Eo;for(const i of e.nodes){const r=Gd(i.element);t.set(i.key,r,r.getPositionedAt())}const n=new ae(L(e.createdAt),t);return n.setMovedAt(L(e.movedAt)),n.setRemovedAt(L(e.removedAt)),n}function mS(e){const t=new xo;for(const i of e.nodes)t.insert(Gd(i.element));const n=new Se(L(e.createdAt),t);return n.setMovedAt(L(e.movedAt)),n.setRemovedAt(L(e.removedAt)),n}function jA(e){const t=Tt.of(Tt.valueFromBytes(cS(e.type),e.value),L(e.createdAt));return t.setMovedAt(L(e.movedAt)),t.setRemovedAt(L(e.removedAt)),t}function GA(e){const t=new gs;let n=t.getHead();for(const r of e.nodes){const a=t.insertAfter(n,UA(r));r.insPrevId&&a.setInsPrev(t.findNode(fS(r.insPrevId))),n=a}const i=new Ge(t,L(e.createdAt));return i.setMovedAt(L(e.movedAt)),i.setRemovedAt(L(e.removedAt)),i}function YA(e){const t=Te.create(qu(e.type),Te.valueFromBytes(qu(e.type),e.value),L(e.createdAt));return t.setMovedAt(L(e.movedAt)),t.setRemovedAt(L(e.removedAt)),t}function yS(e){const t=jd(e.nodes);return Ye.create(t,L(e.createdAt))}function Gd(e){if(e.body.case==="jsonObject")return gS(e.body.value);if(e.body.case==="jsonArray")return mS(e.body.value);if(e.body.case==="primitive")return jA(e.body.value);if(e.body.case==="text")return GA(e.body.value);if(e.body.case==="counter")return YA(e.body.value);if(e.body.case==="tree")return yS(e.body.value);throw new T(S.ErrUnimplemented,"unimplemented element")}function KA(e){if(!e)return{root:ae.create(cs),presences:new Map};const t=eh.fromBinary(e);return{root:Gd(t.root),presences:MA(t.presences)}}function $A(e){const t=Jd(e);return Yd(t.toBinary())}function XA(e){const t=$d(e),n=lc.fromBinary(t);return Hd(n)}function pS(e){if(!e)throw new T(S.ErrInvalidArgument,"bytes is empty");const t=oe.fromBinary(e);return gS(t.body.value)}function vS(e){return Pd(e).toBinary()}function ZA(e){if(!e)throw new T(S.ErrInvalidArgument,"bytes is empty");const t=oe.fromBinary(e);return mS(t.body.value)}function QA(e){return oS(e).toBinary()}function _A(e){if(!e)throw new T(S.ErrInvalidArgument,"bytes is empty");const t=oe.fromBinary(e);return yS(t.body.value)}function FA(e){return lS(e).toBinary()}function Yd(e){return e?Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join(""):""}function Kd(e){return Yd(e)}function $d(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>parseInt(t,16)))}function Xd(e){return $d(e)}function WA(e){const t=oc.fromBinary(e);return uS(t)}function tE(e){const t=Id.fromBinary(e);return hS(t)}const Nt={fromPresence:Vd,toChangePack:IA,fromChangePack:VA,fromChanges:dS,toTreeNodes:qd,fromTreeNodes:jd,objectToBytes:vS,bytesToObject:pS,bytesToSnapshot:KA,bytesToHex:Yd,hexToBytes:$d,toHexString:Kd,toUint8Array:Xd,toOperation:sS,toChangeID:iS,PbChangeID:oc,bytesToChangeID:WA,bytesToOperation:tE,versionVectorToHex:$A,hexToVersionVector:XA};var ne=(e=>(e[e.Trivial=0]="Trivial",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warn=3]="Warn",e[e.Error=4]="Error",e[e.Fatal=5]="Fatal",e))(ne||{});let Yr=3;function eE(e){Yr=e}const M={trivial:(...e)=>{Yr>0||typeof console<"u"&&console.log("YORKIE T:",...e)},debug:(...e)=>{Yr>1||typeof console<"u"&&console.log("YORKIE D:",...e)},info:(...e)=>{Yr>2||typeof console<"u"&&console.log("YORKIE I:",...e)},warn:(...e)=>{Yr>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...e):console.log("YORKIE W:",...e))},error:(...e)=>{Yr>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...e):console.log("YORKIE E:",...e))},fatal:(...e)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...e):console.log("YORKIE F:",...e))},isEnabled:e=>Yr<=e};function SS(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class nE{constructor(t,n,i,r,a){u(this,"reconnectStreamDelay");u(this,"doc");u(this,"docID");u(this,"syncMode");u(this,"remoteChangeEventReceived");u(this,"watchStream");u(this,"watchLoopTimerID");u(this,"watchAbortController");u(this,"unsubscribeBroadcastEvent");this.reconnectStreamDelay=t,this.doc=n,this.docID=i,this.syncMode=r,this.remoteChangeEventReceived=!1,this.unsubscribeBroadcastEvent=a}changeSyncMode(t){this.syncMode=t}needRealtimeSync(){return this.syncMode===ql.RealtimeSyncOff?!1:this.syncMode===ql.RealtimePushOnly?this.doc.hasLocalChanges():this.syncMode!==ql.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(t){const n=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await t(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(n,this.reconnectStreamDelay)})}catch{}};await n()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}const ef=()=>{};class iE{constructor(t){u(this,"finalized",!1);u(this,"observers",[]);u(this,"finalError");try{t(this)}catch(n){this.error(n)}}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(!t)throw new T(S.ErrInvalidArgument,"missing observer");if(this.finalized)throw new T(S.ErrRefused,"observable is finalized due to previous error");typeof t=="object"?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=ef),r.error===void 0&&(r.error=ef),r.complete===void 0&&(r.complete=ef);const a=SS(),s=this.unsubscribeOne.bind(this,a);if(this.observers.push({subscriptionID:a,observer:r}),this.finalized)try{this.finalError?r.error(this.finalError):r.complete()}catch(o){M.warn(o)}return s}unsubscribeOne(t){var n;this.observers=(n=this.observers)==null?void 0:n.filter(i=>i.subscriptionID!==t)}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t].observer)}catch(i){M.error(i)}}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.observers=void 0)}}function rE(e){const t=new iE(e);return{subscribe:t.subscribe.bind(t),getProxy:()=>t}}class La{constructor(t,n,i,r){u(this,"prevID");u(this,"nextID");u(this,"delimiter");u(this,"message");u(this,"root");u(this,"operations");u(this,"presenceChange");u(this,"previousPresence");u(this,"reversePresenceKeys");this.prevID=t,this.nextID=t.next(),this.delimiter=G0,this.root=n,this.operations=[],this.previousPresence=$e(i),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=r}static create(t,n,i,r){return new La(t,n,i,r)}push(t){this.operations.push(t)}registerElement(t,n){this.root.registerElement(t,n)}registerRemovedElement(t){this.root.registerRemovedElement(t)}registerGCPair(t){this.root.registerGCPair(t)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const t=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return ds.create({id:t,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(t){this.presenceChange=t}setReversePresence(t,n){for(const i of Object.keys(t))n!=null&&n.addToHistory?this.reversePresenceKeys.add(i):this.reversePresenceKeys.delete(i)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const t={};for(const n of this.reversePresenceKeys)t[n]=this.previousPresence[n];return t}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(t){this.root.acc(t)}}class Oo{constructor(t){u(this,"rootObject");u(this,"elementPairMapByCreatedAt");u(this,"gcElementSetByCreatedAt");u(this,"gcPairMap");u(this,"docSize");this.rootObject=t,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(t,void 0),t.getDescendants(n=>{if(n.getRemovedAt()&&this.registerRemovedElement(n),n instanceof Ge||n instanceof Ye)for(const i of n.getGCPairs())this.registerGCPair(i);return!1})}static create(){return new Oo(ae.create(cs))}findByCreatedAt(t){const n=this.elementPairMapByCreatedAt.get(t.toIDString());if(n)return n.element}findElementPairByCreatedAt(t){return this.elementPairMapByCreatedAt.get(t.toIDString())}createSubPaths(t){let n=this.elementPairMapByCreatedAt.get(t.toIDString());if(!n)return[];const i=[];for(;n.parent;){const r=n.element.getCreatedAt(),a=n.parent.subPathOf(r);if(a===void 0)throw new T(S.ErrInvalidArgument,`cant find the given element: ${r.toIDString()}`);i.unshift(a),n=this.elementPairMapByCreatedAt.get(n.parent.getCreatedAt().toIDString())}return i.unshift("$"),i}createPath(t){return this.createSubPaths(t).join(".")}registerElement(t,n){this.elementPairMapByCreatedAt.set(t.getCreatedAt().toIDString(),{parent:n,element:t}),Ht(this.docSize.live,t.getDataSize()),t instanceof Rr&&t.getDescendants((i,r)=>(this.elementPairMapByCreatedAt.set(i.getCreatedAt().toIDString(),{parent:r,element:i}),Ht(this.docSize.live,i.getDataSize()),!1))}deregisterElement(t){let n=0;const i=r=>{const a=r.getCreatedAt().toIDString();Ka(this.docSize.gc,r.getDataSize()),this.elementPairMapByCreatedAt.delete(a),this.gcElementSetByCreatedAt.delete(a),n++};return i(t),t instanceof Rr&&t.getDescendants(r=>(i(r),!1)),n}registerRemovedElement(t){Ht(this.docSize.gc,t.getDataSize()),Ka(this.docSize.live,t.getDataSize()),this.docSize.live.meta+=bn,this.gcElementSetByCreatedAt.add(t.getCreatedAt().toIDString())}registerGCPair(t){if(this.gcPairMap.get(t.child.toIDString())){this.gcPairMap.delete(t.child.toIDString());return}this.gcPairMap.set(t.child.toIDString(),t);const i=this.gcPairMap.get(t.child.toIDString()).child.getDataSize();Ht(this.docSize.gc,i),Ka(this.docSize.live,i),t.child instanceof br||(this.docSize.live.meta+=bn)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const t=new Set;for(const n of this.gcElementSetByCreatedAt){t.add(n);const i=this.elementPairMapByCreatedAt.get(n);i.element instanceof Rr&&i.element.getDescendants(r=>(t.add(r.getCreatedAt().toIDString()),!1))}return t.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new Oo(this.rootObject.deepcopy())}garbageCollect(t){let n=0;for(const i of this.gcElementSetByCreatedAt){const r=this.elementPairMapByCreatedAt.get(i),a=r.element.getRemovedAt();a&&(t!=null&&t.afterOrEqual(a))&&(r.parent.purge(r.element),n+=this.deregisterElement(r.element))}for(const[,i]of this.gcPairMap){const r=i.child.getRemovedAt();r&&(t!=null&&t.afterOrEqual(r))&&(i.parent.purge(i.child),this.gcPairMap.delete(i.child.toIDString()),n+=1)}return n}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(t){Ht(this.docSize.live,t)}}function TS(e,t){const n=new Co(e);return new Proxy(t,n.getHandlers())}class Co{constructor(t){u(this,"context");u(this,"handlers");this.context=t,this.handlers={set:(n,i,r)=>(M.isEnabled(ne.Trivial)&&M.trivial(`obj[${i}]=${JSON.stringify(r)}`),Co.setInternal(t,n,i,r),!0),get:(n,i)=>(M.isEnabled(ne.Trivial)&&M.trivial(`obj[${i}]`),i==="getID"?()=>n.getCreatedAt():i==="toJSON"||i==="toString"?()=>n.toJSON():i==="toJS"?()=>n.toJS():i==="toJSForTest"?()=>n.toJSForTest():Kr(t,n.get(i))),ownKeys:n=>n.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(n,i)=>(M.isEnabled(ne.Trivial)&&M.trivial(`obj[${i}]`),Co.deleteInternal(t,n,i),!0)}}static setInternal(t,n,i,r){if(i.includes("."))throw new T(S.ErrInvalidObjectKey,"key must not contain the '.'.");const a=t.issueTimeTicket(),s=Pu(t,r,a),o=n.set(i,s,a);t.registerElement(s,n),o&&t.registerRemovedElement(o),t.push(ua.create(i,s.deepcopy(),n.getCreatedAt(),a))}static buildObjectMembers(t,n){const i={};for(const[r,a]of Object.entries(n)){if(r.includes("."))throw new T(S.ErrInvalidObjectKey,"key must not contain the '.'.");const s=t.issueTimeTicket(),o=Pu(t,a,s);i[r]=o}return i}static deleteInternal(t,n,i){const r=t.issueTimeTicket(),a=n.deleteByKey(i,r);a&&(t.push(Lr.create(n.getCreatedAt(),a.getCreatedAt(),r)),t.registerRemovedElement(a))}getHandlers(){return this.handlers}}function aE(e,t){const n=new yt(e,t);return new Proxy(t,n.getHandlers())}function sE(e){return typeof e=="string"||e instanceof String?!isNaN(e):!1}function oE(e){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(e)}class yt{constructor(t,n){u(this,"context");u(this,"handlers");u(this,"array");this.context=t,this.array=n,this.handlers={get:(i,r,a)=>r==="getID"?()=>i.getCreatedAt():r==="getElementByID"?s=>{const o=i.getByID(s);if(!(!o||o.isRemoved()))return lr(t,o)}:r==="getElementByIndex"?s=>{const o=i.get(s);return lr(t,o)}:r==="getLast"?()=>lr(t,i.getLast()):r==="deleteByID"?s=>{const o=yt.deleteInternalByID(t,i,s);return lr(t,o)}:r==="insertAfter"?(s,o)=>{const l=yt.insertAfterInternal(t,i,s,o);return lr(t,l)}:r==="insertBefore"?(s,o)=>{const l=yt.insertBeforeInternal(t,i,s,o);return lr(t,l)}:r==="moveBefore"?(s,o)=>{yt.moveBeforeInternal(t,i,s,o)}:r==="moveAfter"?(s,o)=>{yt.moveAfterInternal(t,i,s,o)}:r==="moveFront"?s=>{yt.moveFrontInternal(t,i,s)}:r==="moveLast"?s=>{yt.moveLastInternal(t,i,s)}:sE(r)?Kr(t,i.get(Number(r))):r==="push"?s=>yt.pushInternal(t,i,s):r==="splice"?(s,o,...l)=>yt.splice(t,i,s,o,...l):r==="length"?i.length:typeof r=="symbol"&&r===Symbol.iterator?yt.iteratorInternal.bind(this,t,i):r==="includes"?(s,o)=>yt.includes(t,i,s,o):r==="indexOf"?(s,o)=>yt.indexOf(t,i,s,o):r==="lastIndexOf"?(s,o)=>yt.lastIndexOf(t,i,s,o):r==="toJSForTest"?()=>i.toJSForTest():r==="toTestString"?()=>yt.toTestString(i):typeof r=="string"&&oE(r)?(...s)=>{const o=Array.from(i).map(l=>Kr(t,l));return Array.prototype[r].apply(o,s)}:Reflect.get(i,r,a),deleteProperty:(i,r)=>(M.isEnabled(ne.Trivial)&&M.trivial(`array[${r}]`),yt.deleteInternalByIndex(t,i,Number.parseInt(r)),!0)}}static*iteratorInternal(t,n){for(const i of n)yield lr(t,i)}static buildArrayElements(t,n){const i=[];for(const r of n){const a=t.issueTimeTicket(),s=Pu(t,r,a);i.push(s)}return i}static pushInternal(t,n,i){return yt.insertAfterInternal(t,n,n.getLastCreatedAt(),i),n.length}static moveBeforeInternal(t,n,i,r){const a=t.issueTimeTicket(),s=n.getPrevCreatedAt(i);n.moveAfter(s,r,a),t.push(Tr.create(n.getCreatedAt(),s,r,a))}static moveAfterInternal(t,n,i,r){const a=t.issueTimeTicket();n.moveAfter(i,r,a),t.push(Tr.create(n.getCreatedAt(),i,r,a))}static moveFrontInternal(t,n,i){const r=t.issueTimeTicket(),a=n.getHead();n.moveAfter(a.getCreatedAt(),i,r),t.push(Tr.create(n.getCreatedAt(),a.getCreatedAt(),i,r))}static moveLastInternal(t,n,i){const r=t.issueTimeTicket(),a=n.getLastCreatedAt();n.moveAfter(a,i,r),t.push(Tr.create(n.getCreatedAt(),a,i,r))}static insertAfterInternal(t,n,i,r){const a=t.issueTimeTicket(),s=Pu(t,r,a);return n.insertAfter(i,s),t.registerElement(s,n),t.push($o.create(n.getCreatedAt(),i,s.deepcopy(),a)),s}static insertBeforeInternal(t,n,i,r){return yt.insertAfterInternal(t,n,n.getPrevCreatedAt(i),r)}static deleteInternalByIndex(t,n,i){const r=t.issueTimeTicket(),a=n.deleteByIndex(i,r);if(a)return t.push(Lr.create(n.getCreatedAt(),a.getCreatedAt(),r)),t.registerRemovedElement(a),a}static deleteInternalByID(t,n,i){const r=t.issueTimeTicket(),a=n.delete(i,r);return t.push(Lr.create(n.getCreatedAt(),a.getCreatedAt(),r)),t.registerRemovedElement(a),a}static splice(t,n,i,r,...a){const s=n.length,o=i>=0?Math.min(i,s):Math.max(s+i,0),l=r===void 0?s:r<0?o:Math.min(o+r,s),c=[];for(let h=o;h<l;h++){const m=yt.deleteInternalByIndex(t,n,o);if(m){const g=m.deepcopy();g.setRemovedAt(),c.push(Kr(t,g))}}if(a){let h=o===0?n.getHead().getID():n.get(o-1).getID();for(const m of a)h=yt.insertAfterInternal(t,n,h,m).getID()}return c}static includes(t,n,i,r){var o;const a=n.length,s=r===void 0?0:r<0?Math.max(r+a,0):r;if(s>=a)return!1;if(Tt.isSupport(i))return Array.from(n).map(c=>Kr(t,c)).includes(i,s);for(let l=s;l<a;l++)if(((o=n.get(l))==null?void 0:o.getID())===i.getID())return!0;return!1}static indexOf(t,n,i,r){var o;const a=n.length,s=r===void 0?0:r<0?Math.max(r+a,0):r;if(s>=a)return-1;if(Tt.isSupport(i))return Array.from(n).map(c=>Kr(t,c)).indexOf(i,s);for(let l=s;l<a;l++)if(((o=n.get(l))==null?void 0:o.getID())===i.getID())return l;return-1}static lastIndexOf(t,n,i,r){var o;const a=n.length,s=r===void 0||r>=a?a-1:r<0?r+a:r;if(s<0)return-1;if(Tt.isSupport(i))return Array.from(n).map(c=>Kr(t,c)).lastIndexOf(i,s);for(let l=s;l>0;l--)if(((o=n.get(l))==null?void 0:o.getID())===i.getID())return l;return-1}static toTestString(t){return t.toTestString()}getHandlers(){return this.handlers}}class Zd{constructor(t,n){u(this,"context");u(this,"text");this.context=t,this.text=n}initialize(t,n){this.context=t,this.text=n}getID(){return this.text.getID()}edit(t,n,i,r){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");if(t>n)throw new T(S.ErrInvalidArgument,"from should be less than or equal to to");const a=this.text.indexRangeToPosRange(t,n);M.isEnabled(ne.Debug)&&M.debug(`EDIT: f:${t}->${a[0].toTestString()}, t:${n}->${a[1].toTestString()} c:${i}`);const s=r?hs(r):void 0,o=this.context.issueTimeTicket(),[,l,c,h]=this.text.edit(a,i,o,s);this.context.acc(c);for(const m of l)this.context.registerGCPair(m);return this.context.push(new Xo(this.text.getCreatedAt(),a[0],a[1],i,s?new Map(Object.entries(s)):new Map,o)),this.text.findIndexesFromRange(h)}delete(t,n){return this.edit(t,n,"")}empty(){return this.edit(0,this.length,"")}setStyle(t,n,i){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");if(t>n)throw new T(S.ErrInvalidArgument,"from should be less than or equal to to");const r=this.text.indexRangeToPosRange(t,n);M.isEnabled(ne.Debug)&&M.debug(`STYL: f:${t}->${r[0].toTestString()}, t:${n}->${r[1].toTestString()} a:${JSON.stringify(i)}`);const a=hs(i),s=this.context.issueTimeTicket(),[o,l]=this.text.setStyle(r,a,s);this.context.acc(l);for(const c of o)this.context.registerGCPair(c);return this.context.push(new Zo(this.text.getCreatedAt(),r[0],r[1],new Map(Object.entries(a)),s)),!0}indexRangeToPosRange(t){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");const n=this.text.indexRangeToPosRange(t[0],t[1]);return[n[0].toStruct(),n[1].toStruct()]}posRangeToIndexRange(t){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");const n=this.text.findIndexesFromRange([We.fromStruct(t[0]),We.fromStruct(t[1])]);return[n[0],n[1]]}toTestString(){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(t,n){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(t,n)}}class Qd{constructor(t,n){u(this,"valueType");u(this,"value");u(this,"context");u(this,"counter");this.valueType=t,this.value=n}initialize(t,n){this.valueType=n.getValueType(),this.context=t,this.counter=n,this.value=n.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(t){if(!this.context||!this.counter)throw new T(S.ErrNotInitialized,"Counter is not initialized yet");const n=this.context.issueTimeTicket(),i=Tt.of(t,n);if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`);return this.counter.increase(i),this.context.push(ms.create(this.counter.getCreatedAt(),i,n)),this}toJSForTest(){if(!this.context||!this.counter)throw new T(S.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function _d(e){if(e.isText)return{type:e.type,value:e.value};const t={type:e.type,children:e.children.map(n=>_d(n))};return e.attrs&&(t.attributes=$i(e.attrs.toObject())),t}function lE(e,t){const n={type:e.isText?e.parent.type:e.type,children:e.isText?e.parent.getChildrenText().length===t?[]:[{type:wn,value:e.parent.getChildrenText().slice(t)}]:e.children.slice(t).map(i=>_d(i))};return e.attrs?n.attributes=$i(e.attrs.toObject()):e.isText&&e.parent.attrs&&(n.attributes=$i(e.parent.attrs.toObject())),n}function uE(e,t){const{node:n}=e,i=[...t].slice(0,-1),r=n.isText?n.parent.getChildrenText().length:n.children.length,a=[...i,r],s=[...i],o=[];s[s.length-1]+=1,t.every((c,h)=>c===a[h])||o.push({fromPath:[...t],toPath:a});const l=lE(n,t[t.length-1]);return l&&o.push({fromPath:s,toPath:s,content:l}),o}function cE(e,t){const{node:n,offset:i}=e,r=n.children[i],a=n.children[i-1],{children:s}=r,o=[...t].slice(0,-1),l=[{fromPath:[...t],toPath:[...o,i+1]}];if(!r.children.length)return l;const c=[...o,i-1,a.hasTextChild()?a.getChildrenText().length:a.children.length],h=s.map(m=>_d(m));return l.push({fromPath:c,toPath:c,content:h}),l}function Fd(e,t,n){const{type:i}=e,r=n.issueTimeTicket();if(i===wn){bS(e);const{value:a}=e,s=ge.create(jt.of(r,0),i,a);t.append(s)}else{const{children:a=[]}=e,{attributes:s}=e;let o;if(typeof s=="object"&&!Q0(s)){const c=hs(s);o=new tr;for(const[h,m]of Object.entries(c))o.set(h,m,r)}const l=ge.create(jt.of(r,0),i,void 0,o);t.append(l);for(const c of a)Fd(c,l,n)}}function fE(e,t){const{type:n}=t,i=e.issueTimeTicket();let r;if(t.type===wn){const{value:a}=t;r=ge.create(jt.of(i,0),n,a)}else if(t){const{children:a=[]}=t,{attributes:s}=t;let o;if(typeof s=="object"&&!Q0(s)){const l=hs(s);o=new tr;for(const[c,h]of Object.entries(l))o.set(c,h,i)}r=ge.create(jt.of(e.issueTimeTicket(),0),n,void 0,o);for(const l of a)Fd(l,r,e)}return r}function bS(e){if(!e.value.length)throw new T(S.ErrInvalidArgument,"text node cannot have empty value");return!0}function gy(e){if(!e.length)return!0;if(e[0].type===wn)for(const n of e){const{type:i}=n;if(i!==wn)throw new T(S.ErrInvalidArgument,"element node and text node cannot be passed together");bS(n)}else for(const n of e){const{type:i}=n;if(i===wn)throw new T(S.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Wd{constructor(t){u(this,"initialRoot");u(this,"context");u(this,"tree");this.initialRoot=t}initialize(t,n){this.context=t,this.tree=n}getID(){return this.tree.getID()}buildRoot(t){if(!this.initialRoot)return ge.create(jt.of(t.issueTimeTicket(),0),sA);const n=ge.create(jt.of(t.issueTimeTicket(),0),this.initialRoot.type);for(const i of this.initialRoot.children)Fd(i,n,t);return n}getSize(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(!t.length)throw new T(S.ErrInvalidArgument,"path should not be empty");const n=this.tree.pathToTreePos(t),i=uE(n,t);for(const r of i){const{fromPath:a,toPath:s,content:o}=r,l=this.tree.pathToPos(a),c=this.tree.pathToPos(s);this.editInternal(l,c,o?[o]:[],0)}}mergeByPath(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(!t.length)throw new T(S.ErrInvalidArgument,"path should not be empty");const n=this.tree.pathToTreePos(t);if(n.node.isText)throw new T(S.ErrInvalidArgument,"text node cannot be merged");const i=cE(n,t);for(const r of i){const{fromPath:a,toPath:s,content:o}=r,l=this.tree.pathToPos(a),c=this.tree.pathToPos(s);this.editInternal(l,c,o??[],0)}}styleByPath(t,n){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(!t.length)throw new T(S.ErrInvalidArgument,"path should not be empty");const[i,r]=this.tree.pathToPosRange(t),a=this.context.issueTimeTicket(),s=n?hs(n):void 0,[o,,l]=this.tree.style([i,r],s,a);this.context.acc(l);for(const c of o)this.context.registerGCPair(c);this.context.push(Xi.create(this.tree.getCreatedAt(),i,r,s?new Map(Object.entries(s)):new Map,a))}style(t,n,i){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new T(S.ErrInvalidArgument,"from should be less than or equal to to");const r=this.tree.findPos(t),a=this.tree.findPos(n),s=this.context.issueTimeTicket(),o=i?hs(i):void 0,[l,,c]=this.tree.style([r,a],o,s);this.context.acc(c);for(const h of l)this.context.registerGCPair(h);this.context.push(Xi.create(this.tree.getCreatedAt(),r,a,o?new Map(Object.entries(o)):new Map,s))}removeStyle(t,n,i){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new T(S.ErrInvalidArgument,"from should be less than or equal to to");const r=this.tree.findPos(t),a=this.tree.findPos(n),s=this.context.issueTimeTicket(),[o,,l]=this.tree.removeStyle([r,a],i,s);this.context.acc(l);for(const c of o)this.context.registerGCPair(c);this.context.push(Xi.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),r,a,i,s))}editInternal(t,n,i,r=0){var c;if(i.length!==0&&i[0]&&(gy(i),i[0].type!==wn))for(const h of i){const{children:m=[]}=h;gy(m)}const a=this.context.getLastTimeTicket();let s=new Array;if(((c=i[0])==null?void 0:c.type)===wn){let h="";for(const m of i){const{value:g}=m;h+=g}s.push(ge.create(jt.of(this.context.issueTimeTicket(),0),wn,h))}else s=i.map(h=>h&&fE(this.context,h)).filter(h=>h);const[,o,l]=this.tree.edit([t,n],s.length?s.map(h=>h==null?void 0:h.deepcopy()):void 0,r,a,()=>this.context.issueTimeTicket());this.context.acc(l);for(const h of o)this.context.registerGCPair(h);return this.context.push(Qo.create(this.tree.getCreatedAt(),t,n,s.length?s:void 0,r,a)),!0}editByPath(t,n,i,r=0){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(t.length!==n.length)throw new T(S.ErrInvalidArgument,"path length should be equal");if(!t.length||!n.length)throw new T(S.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToPos(t),s=this.tree.pathToPos(n);return this.editInternal(a,s,i?[i]:[],r)}editBulkByPath(t,n,i,r=0){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(t.length!==n.length)throw new T(S.ErrInvalidArgument,"path length should be equal");if(!t.length||!n.length)throw new T(S.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToPos(t),s=this.tree.pathToPos(n);return this.editInternal(a,s,i,r)}edit(t,n,i,r=0){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new T(S.ErrInvalidArgument,"from should be less than or equal to to");const a=this.tree.findPos(t),s=this.tree.findPos(n);return this.editInternal(a,s,i?[i]:[],r)}editBulk(t,n,i,r=0){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new T(S.ErrInvalidArgument,"from should be less than or equal to to");const a=this.tree.findPos(t),s=this.tree.findPos(n);return this.editInternal(a,s,i,r)}toXML(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(t)}pathToIndex(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(t)}pathRangeToPosRange(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");const n=[this.tree.pathToIndex(t[0]),this.tree.pathToIndex(t[1])],i=this.tree.indexRangeToPosRange(n);return[i[0].toStruct(),i[1].toStruct()]}indexRangeToPosRange(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(t)}posRangeToIndexRange(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");const n=[_e.fromStruct(t[0]),_e.fromStruct(t[1])];return this.tree.posRangeToIndexRange(n)}posRangeToPathRange(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");const n=[_e.fromStruct(t[0]),_e.fromStruct(t[1])];return this.tree.posRangeToPathRange(n)}}function my(e,t){return TS(e,t)}function lr(e,t){if(t){if(t instanceof Tt)return t;if(t instanceof ae)return TS(e,t);if(t instanceof Se)return aE(e,t);if(t instanceof Ge)return new Zd(e,t);if(t instanceof Te){const n=new Qd(Nn.Int,0);return n.initialize(e,t),n}else if(t instanceof Ye){const n=new Wd;return n.initialize(e,t),n}}else return;throw new TypeError(`Unsupported type of element: ${typeof t}`)}function Kr(e,t){const n=lr(e,t);return n instanceof Tt?n.getValue():n}function Pu(e,t,n){let i;if(Tt.isSupport(t))i=Tt.of(t,n);else if(Array.isArray(t))i=Se.create(n,yt.buildArrayElements(e,t));else if(typeof t=="object")t instanceof Zd?(i=Ge.create(gs.create(),n),t.initialize(e,i)):t instanceof Qd?(i=Te.create(t.getValueType(),t.getValue(),n),t.initialize(e,i)):t instanceof Wd?(i=Ye.create(t.buildRoot(e),n),t.initialize(e,i)):i=ae.create(n,Co.buildObjectMembers(e,t));else throw new TypeError(`Unsupported type of value: ${typeof t}`);return i}class nf{constructor(t,n){u(this,"context");u(this,"presence");this.context=t,this.presence=n}set(t,n){for(const i of Object.keys(t))this.presence[i]=t[i];this.context.setPresenceChange({type:En.Put,presence:$e(this.presence)}),this.context.setReversePresence(t,n)}get(t){return this.presence[t]}clear(){this.presence={},this.context.setPresenceChange({type:En.Clear})}}const yy=50;class hE{constructor(){u(this,"undoStack",[]);u(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(t){this.undoStack.length>=yy&&this.undoStack.shift(),this.undoStack.push(t)}popUndo(){return this.undoStack.pop()}pushRedo(t){this.redoStack.length>=yy&&this.redoStack.shift(),this.redoStack.push(t)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const dE="yorkie-devtools-panel",gE="yorkie-devtools-sdk";function mE(e){return[qt.StatusChanged,qt.Snapshot,qt.LocalChange,qt.RemoteChange,qt.Initialized,qt.Watched,qt.Unwatched,qt.PresenceChanged].includes(e.type)}function yE(e){return e.every(mE)}let Aa="disconnected";const py=new Map,Jl=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=Jl);function Sl(e,t){(t!=null&&t.force||Aa!=="disconnected")&&window.postMessage({source:gE,...e},"*")}function pE(e){if(!e.isEnableDevtools()||typeof window>"u"||py.has(e.getKey()))return;Jl.set(e.getKey(),[]);const t=e.subscribe("all",n=>{yE(n)&&(Jl.get(e.getKey()).push(n),Aa==="synced"&&Sl({msg:"doc::sync::partial",docKey:e.getKey(),event:n}))});py.set(e.getKey(),[t]),Sl({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",n=>{var r;if(((r=n.data)==null?void 0:r.source)!==dE)return;switch(n.data.msg){case"devtools::connect":if(Aa!=="disconnected")break;Aa="connected",Sl({msg:"doc::available",docKey:e.getKey()}),M.info(`[YD] Devtools connected. Doc: ${e.getKey()}`);break;case"devtools::disconnect":Aa="disconnected",M.info(`[YD] Devtools disconnected. Doc: ${e.getKey()}`);break;case"devtools::subscribe":Aa="synced",Sl({msg:"doc::sync::full",docKey:e.getKey(),events:Jl.get(e.getKey())}),M.info(`[YD] Devtools subscribed. Doc: ${e.getKey()}`);break}})}var ur=(e=>(e.Detached="detached",e.Attached="attached",e.Removed="removed",e))(ur||{}),qt=(e=>(e.StatusChanged="status-changed",e.ConnectionChanged="connection-changed",e.SyncStatusChanged="sync-status-changed",e.Snapshot="snapshot",e.LocalChange="local-change",e.RemoteChange="remote-change",e.Initialized="initialized",e.Watched="watched",e.Unwatched="unwatched",e.PresenceChanged="presence-changed",e.Broadcast="broadcast",e.LocalBroadcast="local-broadcast",e.AuthError="auth-error",e))(qt||{}),Hu=(e=>(e.Connected="connected",e.Disconnected="disconnected",e))(Hu||{}),Rh=(e=>(e.Synced="synced",e.SyncFailed="sync-failed",e))(Rh||{});class wS{constructor(t,n){u(this,"key");u(this,"status");u(this,"opts");u(this,"changeID");u(this,"checkpoint");u(this,"localChanges");u(this,"maxSizeLimit");u(this,"root");u(this,"clone");u(this,"eventStream");u(this,"eventStreamObserver");u(this,"onlineClients");u(this,"presences");u(this,"history");u(this,"internalHistory");u(this,"isUpdating");this.opts=n||{},this.key=t,this.status="detached",this.root=Oo.create(),this.changeID=gA,this.checkpoint=mA,this.localChanges=[],this.maxSizeLimit=0,this.eventStream=rE(i=>{this.eventStreamObserver=i}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new hE,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},pE(this)}update(t,n){var s;if(this.getStatus()==="removed")throw new T(S.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const i=this.changeID.getActorID(),r=La.create(this.changeID,this.clone.root,this.clone.presences.get(i)||{},n);try{const o=my(r,this.clone.root.getObject());this.presences.has(i)||this.clone.presences.set(i,{}),this.isUpdating=!0,t(o,new nf(r,this.clone.presences.get(i)))}catch(o){throw this.clone=void 0,o}finally{this.isUpdating=!1}const a=rA((s=this.clone)==null?void 0:s.root.getDocSize());if(!r.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<a)throw this.clone=void 0,new T(S.ErrDocumentSizeExceedsLimit,`document size exceeded: ${a} > ${this.maxSizeLimit}`);if(r.hasChange()){M.isEnabled(ne.Trivial)&&M.trivial(`trying to update a local change: ${this.toJSON()}`);const o=r.toChange(),{opInfos:l,reverseOps:c}=o.execute(this.root,this.presences,st.Local),h=r.getReversePresence();h&&c.push({type:"presence",value:h}),this.localChanges.push(o),c.length>0&&this.internalHistory.pushUndo(c),l.length>0&&this.internalHistory.clearRedo(),this.changeID=r.getNextID();const m=[];l.length>0&&m.push({type:"local-change",source:st.Local,value:{message:o.getMessage()||"",operations:l,actor:i,clientSeq:o.getID().getClientSeq(),serverSeq:o.getID().getServerSeq()},rawChange:this.isEnableDevtools()?o.toStruct():void 0}),o.hasPresenceChange()&&m.push({type:"presence-changed",source:st.Local,value:{clientID:i,presence:this.getPresence(i)}}),this.publish(m),M.isEnabled(ne.Trivial)&&M.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(t,n,i,r){if(typeof t=="string"){if(typeof n!="function")throw new T(S.ErrInvalidArgument,"Second argument must be a callback function");if(t==="presence"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="initialized"&&c.type!=="watched"&&c.type!=="unwatched"&&c.type!=="presence-changed"||o(c)},i,r)}if(t==="my-presence"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="initialized"&&c.type!=="presence-changed"||c.type==="presence-changed"&&c.value.clientID!==this.changeID.getActorID()||o(c)},i,r)}if(t==="others"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="watched"&&c.type!=="unwatched"&&c.type!=="presence-changed"||c.value.clientID!==this.changeID.getActorID()&&o(c)},i,r)}if(t==="connection"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="connection-changed"&&o(c)},i,r)}if(t==="status"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="status-changed"&&o(c)},i,r)}if(t==="sync"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="sync-status-changed"&&o(c)},i,r)}if(t==="local-broadcast"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="local-broadcast"&&o(c)},i)}if(t==="broadcast"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="broadcast"&&o(c)},i)}if(t==="auth-error"){const o=n;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="auth-error"&&o(c)},i)}if(t==="all"){const o=n;return this.eventStream.subscribe(o,i,r)}const a=t,s=n;return this.eventStream.subscribe(o=>{for(const l of o){if(l.type!=="local-change"&&l.type!=="remote-change")continue;const c=[];for(const h of l.value.operations)this.isSameElementOrChildOf(h.path,a)&&c.push(h);c.length&&s({...l,value:{...l.value,operations:c}})}},i,r)}if(typeof t=="function"){const a=t,s=n,o=i;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="snapshot"&&c.type!=="local-change"&&c.type!=="remote-change"||a(c)},s,o)}throw new T(S.ErrInvalidArgument,`"${t}" is not a valid`)}publish(t){this.eventStreamObserver&&this.eventStreamObserver.next(t)}isSameElementOrChildOf(t,n){if(n===t)return!0;const i=t.split(".");return n.split(".").every((a,s)=>a===i[s])}removePushedLocalChanges(t){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>t);)this.localChanges.shift()}applyChangePack(t){const n=t.hasSnapshot();n?this.applySnapshot(t.getCheckpoint().getServerSeq(),t.getVersionVector(),t.getSnapshot(),t.getCheckpoint().getClientSeq()):(this.applyChanges(t.getChanges(),st.Remote),this.removePushedLocalChanges(t.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(t.getCheckpoint()),n||this.garbageCollect(t.getVersionVector()),t.getIsRemoved()&&this.applyStatus("removed"),M.isEnabled(ne.Trivial)&&M.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:$e(this.presences)})}createChangePack(){const t=Array.from(this.localChanges),n=this.checkpoint.increaseClientSeq(t.length);return fc.create(this.key,n,!1,t,this.getVersionVector())}setActor(t){for(const n of this.localChanges)n.setActor(t);this.changeID=this.changeID.setActor(t)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const t=La.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return my(t,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(t){this.maxSizeLimit=t}garbageCollect(t){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(t),this.root.garbageCollect(t))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(t,n,i,r=-1){const{root:a,presences:s}=Nt.bytesToSnapshot(i);this.root=new Oo(a),this.presences=s,this.changeID=this.changeID.setClocks(n.maxLamport(),n),this.clone=void 0,this.removePushedLocalChanges(r),this.applyChanges(this.localChanges,st.Local),this.publish([{type:"snapshot",source:st.Remote,value:{serverSeq:t.toString(),snapshot:this.isEnableDevtools()?Nt.bytesToHex(i):void 0,snapshotVector:Nt.versionVectorToHex(n)}}])}applyChanges(t,n){M.isEnabled(ne.Debug)&&M.debug(`trying to apply ${t.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),M.isEnabled(ne.Trivial)&&M.trivial(t.map(i=>`${i.getID().toTestString()}	${i.toTestString()}`).join(`
`));for(const i of t)this.applyChange(i,n);M.isEnabled(ne.Debug)&&M.debug(`after appling ${t.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(t,n){this.ensureClone(),t.execute(this.clone.root,this.clone.presences,n);const i=[],r=t.getID().getActorID();if(t.hasPresenceChange()&&this.onlineClients.has(r)){const s=t.getPresenceChange();switch(s.type){case En.Put:i.push(this.presences.has(r)?{type:"presence-changed",source:n,value:{clientID:r,presence:s.presence}}:{type:"watched",source:st.Remote,value:{clientID:r,presence:s.presence}});break;case En.Clear:i.push({type:"unwatched",source:st.Remote,value:{clientID:r,presence:this.getPresence(r)}}),this.removeOnlineClient(r);break}}const{opInfos:a}=t.execute(this.root,this.presences,n);if(this.changeID=this.changeID.syncClocks(t.getID()),a.length>0){const s=this.isEnableDevtools()?t.toStruct():void 0;i.push(n===st.Remote?{type:"remote-change",source:n,value:{actor:r,clientSeq:t.getID().getClientSeq(),serverSeq:t.getID().getServerSeq(),message:t.getMessage()||"",operations:a},rawChange:s}:{type:"local-change",source:n,value:{actor:r,clientSeq:t.getID().getClientSeq(),serverSeq:t.getID().getServerSeq(),message:t.getMessage()||"",operations:a},rawChange:s})}i.length>0&&this.publish(i)}applyWatchStream(t){if(t.body.case==="initialization"){const n=t.body.value.clientIds,i=new Set;for(const r of n)r!==this.changeID.getActorID()&&i.add(r);this.setOnlineClients(i),this.publish([{type:"initialized",source:st.Local,value:this.getPresences()}]);return}if(t.body.case==="event"){const{type:n,publisher:i}=t.body.value,r=[];if(n===na.DOCUMENT_WATCHED){if(this.onlineClients.has(i)&&this.hasPresence(i))return;this.addOnlineClient(i),this.hasPresence(i)&&r.push({type:"watched",source:st.Remote,value:{clientID:i,presence:this.getPresence(i)}})}else if(n===na.DOCUMENT_UNWATCHED){const a=this.getPresence(i);this.removeOnlineClient(i),a&&r.push({type:"unwatched",source:st.Remote,value:{clientID:i,presence:a}})}else if(n===na.DOCUMENT_BROADCAST&&t.body.value.body){const{topic:a,payload:s}=t.body.value.body,o=new TextDecoder;r.push({type:"broadcast",value:{clientID:i,topic:a,payload:JSON.parse(o.decode(s))}})}r.length>0&&this.publish(r)}}applyStatus(t){this.status=t,t==="detached"&&this.setActor(uc),this.publish([{source:t==="removed"?st.Remote:st.Local,type:"status-changed",value:t==="attached"?{status:t,actorID:this.changeID.getActorID()}:{status:t}}])}applyDocEventForReplay(t){if(t.type==="status-changed"){this.applyStatus(t.value.status),t.value.status==="attached"&&this.setActor(t.value.actorID);return}if(t.type==="snapshot"){const{snapshot:n,serverSeq:i,snapshotVector:r}=t.value;if(!n)return;this.applySnapshot(BigInt(i),Nt.hexToVersionVector(r),Nt.hexToBytes(n));return}if(t.type==="local-change"||t.type==="remote-change"){if(!t.rawChange)return;const n=ds.fromStruct(t.rawChange);this.applyChange(n,t.source)}if(t.type==="initialized"){const n=new Set;for(const{clientID:i,presence:r}of t.value)n.add(i),this.presences.set(i,r);this.setOnlineClients(n);return}if(t.type==="watched"){const{clientID:n,presence:i}=t.value;this.addOnlineClient(n),this.presences.set(n,i);return}if(t.type==="unwatched"){const{clientID:n}=t.value;this.removeOnlineClient(n),this.presences.delete(n)}if(t.type==="presence-changed"){const{clientID:n,presence:i}=t.value;this.presences.set(n,i)}}applyDocEventsForReplay(t){for(const n of t)this.applyDocEventForReplay(n)}getValueByPath(t){if(!t.startsWith("$"))throw new T(S.ErrInvalidArgument,'path must start with "$"');const n=t.split(".");n.shift();let i=this.getRoot();for(const r of n)if(i=i[r],i===void 0)return;return i}setOnlineClients(t){this.onlineClients=t}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(t){this.onlineClients.add(t)}removeOnlineClient(t){this.onlineClients.delete(t)}hasPresence(t){return this.presences.has(t)}getMyPresence(){if(this.status!=="attached")return{};const t=this.presences.get(this.changeID.getActorID());return t?$e(t):{}}getPresence(t){if(t===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(t))return;const n=this.presences.get(t);return n?$e(n):void 0}getPresenceForTest(t){const n=this.presences.get(t);return n?$e(n):void 0}getPresences(){const t=[];t.push({clientID:this.changeID.getActorID(),presence:$e(this.getMyPresence())});for(const n of this.onlineClients)this.presences.has(n)&&t.push({clientID:n,presence:$e(this.presences.get(n))});return t}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const t=this.getChangeID().getActorID();return this.getPresences().filter(n=>n.clientID!==t).sort((n,i)=>n.clientID>i.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new T(S.ErrRefused,"Undo is not allowed during an update");const t=this.internalHistory.popUndo();if(t===void 0)throw new T(S.ErrRefused,"There is no operation to be undone");this.ensureClone();const n=La.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const c of t){if(!(c instanceof tn)){new nf(n,$e(this.clone.presences.get(this.changeID.getActorID()))).set(c.value,{addToHistory:!0});continue}const h=n.issueTimeTicket();c.setExecutedAt(h),n.push(c)}const i=n.toChange();i.execute(this.clone.root,this.clone.presences,st.UndoRedo);const{opInfos:r,reverseOps:a}=i.execute(this.root,this.presences,st.UndoRedo),s=n.getReversePresence();if(s&&a.push({type:"presence",value:s}),a.length>0&&this.internalHistory.pushRedo(a),!i.hasPresenceChange()&&r.length===0)return;this.localChanges.push(i),this.changeID=n.getNextID();const o=this.changeID.getActorID(),l=[];r.length>0&&l.push({type:"local-change",source:st.UndoRedo,value:{message:i.getMessage()||"",operations:r,actor:o,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&l.push({type:"presence-changed",source:st.UndoRedo,value:{clientID:o,presence:this.getPresence(o)}}),this.publish(l)}redo(){if(this.isUpdating)throw new T(S.ErrRefused,"Redo is not allowed during an update");const t=this.internalHistory.popRedo();if(t===void 0)throw new T(S.ErrRefused,"There is no operation to be redone");this.ensureClone();const n=La.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const c of t){if(!(c instanceof tn)){new nf(n,$e(this.clone.presences.get(this.changeID.getActorID()))).set(c.value,{addToHistory:!0});continue}const h=n.issueTimeTicket();c.setExecutedAt(h),n.push(c)}const i=n.toChange();i.execute(this.clone.root,this.clone.presences,st.UndoRedo);const{opInfos:r,reverseOps:a}=i.execute(this.root,this.presences,st.UndoRedo),s=n.getReversePresence();if(s&&a.push({type:"presence",value:s}),a.length>0&&this.internalHistory.pushUndo(a),!i.hasPresenceChange()&&r.length===0)return;this.localChanges.push(i),this.changeID=n.getNextID();const o=this.changeID.getActorID(),l=[];r.length>0&&l.push({type:"local-change",source:st.UndoRedo,value:{message:i.getMessage()||"",operations:r,actor:o,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&l.push({type:"presence-changed",source:st.UndoRedo,value:{clientID:o,presence:this.getPresence(o)}}),this.publish(l)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}broadcast(t,n,i){const r={type:"local-broadcast",value:{topic:t,payload:n},options:i};this.publish([r])}getVersionVector(){return this.changeID.getVersionVector()}}function vE(e,t){let n=t;return{authInterceptor:a=>async s=>(e&&s.header.set("x-api-key",e),n&&s.header.set("authorization",n),await a(s)),setToken:a=>{n=a}}}const SE="@yorkie-js/sdk",TE="0.6.15",vy={name:SE,version:TE};function bE(e){return t=>async n=>(e?n.header.set("x-yorkie-user-agent",e):n.header.set("x-yorkie-user-agent",vy.name+"/"+vy.version),await t(n))}const wE=e=>{try{if(JSON.stringify(e)===void 0)return!1}catch{return!1}return!0};var ql=(e=>(e.Manual="manual",e.Realtime="realtime",e.RealtimePushOnly="realtime-pushonly",e.RealtimeSyncOff="realtime-syncoff",e))(ql||{});const Is={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3},rf={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class AS{constructor(t){u(this,"id");u(this,"key");u(this,"metadata");u(this,"status");u(this,"attachmentMap");u(this,"apiKey");u(this,"authTokenInjector");u(this,"conditions");u(this,"syncLoopDuration");u(this,"reconnectStreamDelay");u(this,"retrySyncLoopDelay");u(this,"rpcClient");u(this,"setAuthToken");u(this,"taskQueue");u(this,"processing",!1);u(this,"keepalive",!1);t=t||Is;const n=t.rpcAddr||Is.rpcAddr;this.key=t.key||SS(),this.metadata=t.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=t.apiKey||"",this.authTokenInjector=t.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=t.syncLoopDuration??Is.syncLoopDuration,this.reconnectStreamDelay=t.reconnectStreamDelay??Is.reconnectStreamDelay,this.retrySyncLoopDelay=t.retrySyncLoopDelay??Is.retrySyncLoopDelay;const{authInterceptor:i,setToken:r}=vE(this.apiKey);this.setAuthToken=r,this.rpcClient=xw(Zw,Xw({baseUrl:n,interceptors:[i,bE(t==null?void 0:t.userAgent)],fetch:(a,s)=>{const o={...s,keepalive:this.keepalive};return fetch(a,o)}})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const t=await this.authTokenInjector();this.setAuthToken(t)}return this.enqueueTask(async()=>{try{const t=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=t.clientId,this.status="activated",this.runSyncLoop(),M.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(t){throw M.error(`[AC] c:"${this.getKey()}" err :`,t),await this.handleConnectError(t),t}})}deactivate(t={keepalive:!1}){if(this.status==="deactivated")return Promise.resolve();const n=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),M.info(`[DC] c"${this.getKey()}" deactivated`)}catch(i){throw M.error(`[DC] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};if(t.keepalive){this.keepalive=!0;const i=n();return this.keepalive=!1,i}return this.enqueueTask(n)}hasDocument(t){return this.attachmentMap.has(t)}attach(t,n={}){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);if(t.getStatus()!==ur.Detached)throw new T(S.ErrDocumentNotDetached,`${t.getKey()} is not detached`);t.setActor(this.id),t.update((a,s)=>s.set(n.initialPresence||{}));const i=t.subscribe("local-broadcast",async a=>{var h;const{topic:s,payload:o}=a.value,l=(h=a.options)==null?void 0:h.error,c=a.options;try{await this.broadcast(t.getKey(),s,o,c)}catch(m){m instanceof Error&&(l==null||l(m))}}),r=n.syncMode??"realtime";return this.enqueueTask(async()=>{try{const a=await this.rpcClient.attachDocument({clientId:this.id,changePack:Nt.toChangePack(t.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}});(a.maxSizePerDocument??0)>0&&t.setMaxSizePerDocument(a.maxSizePerDocument);const o=Nt.fromChangePack(a.changePack);if(t.applyChangePack(o),t.getStatus()===ur.Removed)return t;t.applyStatus(ur.Attached),this.attachmentMap.set(t.getKey(),new nE(this.reconnectStreamDelay,t,a.documentId,r,i)),r!=="manual"&&await this.runWatchLoop(t.getKey()),M.info(`[AD] c:"${this.getKey()}" attaches d:"${t.getKey()}"`);const l=t.getRootObject();if(n.initialRoot){const c=n.initialRoot;t.update(h=>{for(const[m,g]of Object.entries(c))if(!l.has(m)){const d=m;h[d]=g}})}return t}catch(a){throw M.error(`[AD] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}})}detach(t,n={keepalive:!1}){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(t.getKey());if(!i)throw new T(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);t.update((a,s)=>s.clear());const r=async()=>{try{const a=await this.rpcClient.detachDocument({clientId:this.id,documentId:i.docID,changePack:Nt.toChangePack(t.createChangePack()),removeIfNotAttached:n.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}),s=Nt.fromChangePack(a.changePack);return t.applyChangePack(s),t.getStatus()!==ur.Removed&&t.applyStatus(ur.Detached),this.detachInternal(t.getKey()),M.info(`[DD] c:"${this.getKey()}" detaches d:"${t.getKey()}"`),t}catch(a){throw M.error(`[DD] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}};if(n.keepalive){this.keepalive=!0;const a=r();return this.keepalive=!1,a}return this.enqueueTask(r)}async changeSyncMode(t,n){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(t.getKey());if(!i)throw new T(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);const r=i.syncMode;return r===n?t:(i.changeSyncMode(n),n==="manual"?(i.cancelWatchStream(),t):(n==="realtime"&&(i.remoteChangeEventReceived=!0),r==="manual"&&await this.runWatchLoop(t.getKey()),t))}sync(t){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);if(t){const n=this.attachmentMap.get(t.getKey());if(!n)throw new T(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(n,"realtime").catch(async i=>{throw M.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}return this.enqueueTask(async()=>{const n=[];for(const[,i]of this.attachmentMap)n.push(this.syncInternal(i,i.syncMode));return Promise.all(n).catch(async i=>{throw M.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i})})}remove(t){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);const n=this.attachmentMap.get(t.getKey());if(!n)throw new T(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);t.setActor(this.id);const i=Nt.toChangePack(t.createChangePack());return i.isRemoved=!0,this.enqueueTask(async()=>{try{const r=await this.rpcClient.removeDocument({clientId:this.id,documentId:n.docID,changePack:i},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}),a=Nt.fromChangePack(r.changePack);t.applyChangePack(a),this.detachInternal(t.getKey()),M.info(`[RD] c:"${this.getKey()}" removes d:"${t.getKey()}"`)}catch(r){throw M.error(`[RD] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(t){return this.conditions[t]}broadcast(t,n,i,r){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(t);if(!a)throw new T(S.ErrDocumentNotAttached,`${t} is not attached`);if(!wE(i))throw new T(S.ErrInvalidArgument,"payload is not serializable");const s=(r==null?void 0:r.maxRetries)??rf.maxRetries,o=rf.maxBackoff;let l=0;const c=m=>Math.min(rf.initialRetryInterval*2**m,o),h=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,documentId:a.docID,topic:n,payload:new TextEncoder().encode(JSON.stringify(i))},{headers:{"x-shard-key":`${this.apiKey}/${t}`}}),M.info(`[BC] c:"${this.getKey()}" broadcasts d:"${t}" t:"${n}"`)}catch(m){if(M.error(`[BC] c:"${this.getKey()}" err:`,m),await this.handleConnectError(m))if(m instanceof tt&&sr(m)===S.ErrUnauthenticated&&a.doc.publish([{type:qt.AuthError,value:{reason:Js(m).reason,method:"Broadcast"}}]),l<s)l++,setTimeout(()=>h(),c(l-1)),M.info(`[BC] c:"${this.getKey()}" retry attempt ${l}/${s}`);else throw M.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),m;else throw m}});return h()}runSyncLoop(){const t=()=>{if(!this.isActive()){M.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}const n=[];for(const[,i]of this.attachmentMap)i.needRealtimeSync()&&(i.remoteChangeEventReceived=!1,n.push(this.syncInternal(i,i.syncMode).catch(async r=>{throw r instanceof tt&&sr(r)===S.ErrUnauthenticated&&i.doc.publish([{type:qt.AuthError,value:{reason:Js(r).reason,method:"PushPull"}}]),r})));Promise.all(n).then(()=>setTimeout(t,this.syncLoopDuration)).catch(async i=>{M.error(`[SL] c:"${this.getKey()}" sync failed:`,i),await this.handleConnectError(i)?setTimeout(t,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1})};M.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,t()}async runWatchLoop(t){const n=this.attachmentMap.get(t);if(!n)throw new T(S.ErrDocumentNotAttached,`${t} is not attached`);return this.conditions.WatchLoop=!0,n.runWatchLoop(i=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new T(S.ErrClientNotActivated,`${this.key} is not active`));const r=new AbortController,a=this.rpcClient.watchDocument({clientId:this.id,documentId:n.docID},{headers:{"x-shard-key":`${this.apiKey}/${t}`},signal:r.signal});return n.doc.publish([{type:qt.ConnectionChanged,value:Hu.Connected}]),M.info(`[WD] c:"${this.getKey()}" watches d:"${t}"`),new Promise((s,o)=>{(async()=>{try{for await(const c of a)this.handleWatchDocumentsResponse(n,c),c.body.case==="initialization"&&s([a,r])}catch(c){n.doc.resetOnlineClients(),n.doc.publish([{type:qt.Initialized,source:st.Local,value:n.doc.getPresences()}]),n.doc.publish([{type:qt.ConnectionChanged,value:Hu.Disconnected}]),M.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(c)?(c instanceof tt&&sr(c)===S.ErrUnauthenticated&&n.doc.publish([{type:qt.AuthError,value:{reason:Js(c).reason,method:"WatchDocuments"}}]),i()):this.conditions.WatchLoop=!1,o(c)}})()})})}handleWatchDocumentsResponse(t,n){if(n.body.case==="event"&&n.body.value.type===na.DOCUMENT_CHANGED){t.remoteChangeEventReceived=!0;return}t.doc.applyWatchStream(n)}deactivateInternal(){this.status="deactivated";for(const[t,n]of this.attachmentMap)this.detachInternal(t),n.doc.applyStatus(ur.Detached)}detachInternal(t){const n=this.attachmentMap.get(t);n&&(n.cancelWatchStream(),n.unsubscribeBroadcastEvent(),this.attachmentMap.delete(t))}async syncInternal(t,n){const{doc:i,docID:r}=t,a=i.createChangePack();try{const s=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:r,changePack:Nt.toChangePack(a),pushOnly:n==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),o=Nt.fromChangePack(s.changePack);if(o.hasChanges()&&(t.syncMode==="realtime-pushonly"||t.syncMode==="realtime-syncoff"))return i;i.applyChangePack(o),t.doc.publish([{type:qt.SyncStatusChanged,value:Rh.Synced}]),i.getStatus()===ur.Removed&&this.detachInternal(i.getKey());const l=i.getKey(),c=o.getChangeSize();return M.info(`[PP] c:"${this.getKey()}" sync d:"${l}", push:${a.getChangeSize()} pull:${c} cp:${o.getCheckpoint().toTestString()}`),i}catch(s){throw i.publish([{type:qt.SyncStatusChanged,value:Rh.SyncFailed}]),M.error(`[PP] c:"${this.getKey()}" err :`,s),s}}async handleConnectError(t){if(!(t instanceof tt))return!1;if(t.code===X.Canceled||t.code===X.Unknown||t.code===X.ResourceExhausted||t.code===X.Unavailable)return!0;if(sr(t)===S.ErrUnauthenticated){if(this.authTokenInjector){const n=await this.authTokenInjector(Js(t).reason);this.setAuthToken(n)}return!0}return sr(t)===S.ErrTooManySubscribers?(M.error(`[WD] c:"${this.getKey()}" err :`,t.rawMessage),!0):(sr(t)===S.ErrTooManyAttachments||(sr(t)===S.ErrClientNotActivated||sr(t)===S.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(t){return new Promise((n,i)=>{this.taskQueue.push(()=>t().then(n).catch(i)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{M.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}Nn.Int,Nn.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:AS,Document:wS,Primitive:Tt,Text:Zd,Counter:Qd,Tree:Wd,LogLevel:ne,setLogLevel:eE,IntType:Nn.Int,LongType:Nn.Long});mt.createContext({client:void 0,loading:!0,error:void 0});function AE(e){const[t,n]=mt.useState(void 0),[i,r]=mt.useState(!0),[a,s]=mt.useState(void 0),[o,l]=mt.useState(!1);return mt.useEffect(()=>{l(!0)},[]),mt.useEffect(()=>{r(!0),s(void 0);async function c(){if(o)try{const h=new AS(e);await h.activate(),n(h)}catch(h){s(h instanceof Error?h:new Error("Failed to activate client"))}finally{r(!1)}}return c(),()=>{t!=null&&t.isActive()&&t.deactivate({keepalive:!0})}},[e.apiKey,e.rpcAddr,o]),{client:t,loading:i,error:a}}function EE(e,t,n,i,r,a){const[s,o]=mt.useState(),[l,c]=mt.useState(!0),[h,m]=mt.useState(),[g,d]=mt.useState(r),[A,w]=mt.useState([]),[x,p]=mt.useState(Hu.Disconnected);mt.useEffect(()=>{if(n){c(!1),m(n);return}if(!e||t){c(!0);return}c(!0),m(void 0);const v=new wS(i),b=[];b.push(v.subscribe(()=>{d(v.getRoot())})),b.push(v.subscribe("presence",()=>{w(v.getPresences())})),b.push(v.subscribe("connection",C=>{p(C.value)}));async function O(){try{await(e==null?void 0:e.attach(v,{initialRoot:r,initialPresence:a})),o(v),d(v.getRoot()),w(v.getPresences())}catch(C){m(C instanceof Error?C:new Error("Failed to attach document"))}finally{c(!1)}}return O(),()=>{e&&e.hasDocument(i)&&e.detach(v);for(const C of b)C()}},[e,t,n,i]);const y=mt.useCallback(v=>{if(s)try{s.update(v)}catch(b){m(b instanceof Error?b:new Error("Failed to update document"))}},[s]);return{doc:s,root:g,presences:A,connection:x,update:y,loading:l,error:h}}mt.createContext(null);function NE(e,t,n){const i=mt.useMemo(()=>({apiKey:e,userAgent:Dm.name+"/"+Dm.version,...n}),[e]),{client:r,loading:a,error:s}=AE(i),{root:o,presences:l,connection:c,update:h,loading:m,error:g}=EE(r,a,s,t,n==null?void 0:n.initialRoot,n==null?void 0:n.initialPresence);return{root:o,presences:l,connection:c,update:h,loading:m,error:g}}var ES={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",s=0;s<arguments.length;s++){var o=arguments[s];o&&(a=r(a,i(o)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var s="";for(var o in a)t.call(a,o)&&a[o]&&(s=r(s,o));return s}function r(a,s){return s?a?a+" "+s:a+s:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(ES);var xE=ES.exports;const tg=Sy(xE);function NS(e){const[t,n]=mt.useState(e.text||"");return nt.jsx("input",{className:tg({edit:e.editing,"new-todo":e.newTodo}),type:"text",placeholder:e.placeholder,value:t,onBlur:i=>{e.newTodo||e.onSave(i.target.value)},onChange:i=>{n(i.target.value)},onKeyDown:i=>{const r=i.target;i.which===13&&(e.onSave(r.value.trim()),e.newTodo&&n(""))}})}function DE(e){return nt.jsxs("header",{className:"header",children:[nt.jsx("h1",{children:"todos"}),nt.jsx(NS,{newTodo:!0,onSave:t=>{t.length!==0&&e.addTodo(t)},placeholder:"What needs to be done?"})]})}function OE(e){const[t,n]=mt.useState(!1),{todo:i,completeTodo:r,editTodo:a,deleteTodo:s}=e;return nt.jsx("li",{className:tg({completed:i.completed,editing:t}),children:t?nt.jsx(NS,{text:i.text,editing:t,onSave:o=>{o.length===0?s(i.id):a(i.id,o),n(!1)}}):nt.jsxs("div",{className:"view",children:[nt.jsx("input",{id:`item-input-${i.id}`,className:"toggle",type:"checkbox",checked:i.completed,onChange:()=>r(i.id)}),nt.jsx("label",{htmlFor:`item-input-${i.id}`,onDoubleClick:()=>n(!0),children:i.text}),nt.jsx("button",{type:"button","aria-label":"Delete",className:"destroy",onClick:()=>s(i.id)})]})})}const CE={SHOW_ALL:"All",SHOW_ACTIVE:"Active",SHOW_COMPLETED:"Completed"};function kE(e){const{activeCount:t,completedCount:n,filter:i,onClearCompleted:r,onShow:a}=e;return nt.jsxs("footer",{className:"footer",children:[nt.jsxs("span",{className:"todo-count",children:[nt.jsx("strong",{children:t||"No"}),"",t===1?"item":"items"," left"]}),nt.jsx("ul",{className:"filters",children:["SHOW_ALL","SHOW_ACTIVE","SHOW_COMPLETED"].map(s=>nt.jsx("li",{children:nt.jsx("button",{type:"button",className:tg({selected:s===i}),style:{cursor:"pointer"},onClick:()=>a(s),children:CE[s]})},s))}),!!n&&nt.jsx("button",{type:"button",className:"clear-completed",onClick:r,children:"Clear completed"})]})}const RE={SHOW_ALL:e=>!0,SHOW_ACTIVE:e=>!e.completed,SHOW_COMPLETED:e=>e.completed};function BE({todos:e,actions:t}){const[n,i]=mt.useState("SHOW_ALL"),r=e.filter(RE[n]),a=e.reduce((o,l)=>l.completed?o+1:o,0),s=e.length-a;return e.length===0?null:nt.jsxs("section",{className:"main",children:[nt.jsx("input",{className:"toggle-all",type:"checkbox",defaultChecked:a===e.length,onChange:t.completeAll}),nt.jsx("ul",{className:"todo-list",children:r.map(o=>nt.jsx(OE,{todo:o,editTodo:t.editTodo,deleteTodo:t.deleteTodo,completeTodo:t.completeTodo},o.id))}),nt.jsx(kE,{completedCount:a,activeCount:s,filter:n,onClearCompleted:()=>t.clearCompleted(),onShow:i})]})}function IE(){const{root:e,update:t,loading:n,error:i}=NE("cedaovjuioqlk4pjqn6g",`react-todomvc-${new Date().toISOString().substring(0,10).replace(/-/g,"")}`,{initialRoot:{todos:[]}});if(n)return nt.jsx("div",{children:"Loading..."});if(i)return nt.jsxs("div",{children:["Error: ",i.message]});const r={addTodo:a=>{t(s=>{s.todos.push({id:s.todos.reduce((o,l)=>Math.max(l.id,o),-1)+1,completed:!1,text:a})})},deleteTodo:a=>{t(s=>{let o;for(const l of s.todos)if(l.id===a){o=l;break}o&&s.todos.deleteByID(o.getID())})},editTodo:(a,s)=>{t(o=>{let l;for(const c of o.todos)if(c.id===a){l=c;break}l&&(l.text=s)})},completeTodo:a=>{t(s=>{let o;for(const l of s.todos)if(l.id===a){o=l;break}o&&(o.completed=!o.completed)})},clearCompleted:()=>{t(a=>{for(const s of a.todos)if(s.completed){const o=s;a.todos.deleteByID(o.getID())}})}};return nt.jsxs("div",{className:"App",children:[nt.jsx(DE,{addTodo:r.addTodo}),nt.jsx(BE,{todos:e.todos,actions:r})]})}N1.createRoot(document.getElementById("root")).render(nt.jsx(mt.StrictMode,{children:nt.jsx(IE,{})}));
