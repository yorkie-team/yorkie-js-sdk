var sT=Object.defineProperty;var oT=(n,t,e)=>t in n?sT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var l=(n,t,e)=>oT(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();function Qy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _y={exports:{}},lc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT=Symbol.for("react.transitional.element"),uT=Symbol.for("react.fragment");function Wy(n,t,e){var r=null;if(e!==void 0&&(r=""+e),t.key!==void 0&&(r=""+t.key),"key"in t){e={};for(var i in t)i!=="key"&&(e[i]=t[i])}else e=t;return t=e.ref,{$$typeof:lT,type:n,key:r,ref:t!==void 0?t:null,props:e}}lc.Fragment=uT;lc.jsx=Wy;lc.jsxs=Wy;_y.exports=lc;var W=_y.exports,tp={exports:{}},uc={},ep={exports:{}},np={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(B,$){var K=B.length;B.push($);t:for(;0<K;){var At=K-1>>>1,Ut=B[At];if(0<i(Ut,$))B[At]=$,B[K]=Ut,K=At;else break t}}function e(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var $=B[0],K=B.pop();if(K!==$){B[0]=K;t:for(var At=0,Ut=B.length,dl=Ut>>>1;At<dl;){var gl=2*(At+1)-1,Mc=B[gl],_i=gl+1,ml=B[_i];if(0>i(Mc,K))_i<Ut&&0>i(ml,Mc)?(B[At]=ml,B[_i]=K,At=_i):(B[At]=Mc,B[gl]=K,At=gl);else if(_i<Ut&&0>i(ml,K))B[At]=ml,B[_i]=K,At=_i;else break t}}return $}function i(B,$){var K=B.sortIndex-$.sortIndex;return K!==0?K:B.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();n.unstable_now=function(){return s.now()-o}}var u=[],c=[],h=1,m=null,d=3,g=!1,b=!1,A=!1,x=!1,p=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function w(B){for(var $=e(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=B)r(c),$.sortIndex=$.expirationTime,t(u,$);else break;$=e(c)}}function k(B){if(A=!1,w(B),!b)if(e(u)!==null)b=!0,I||(I=!0,ln());else{var $=e(c);$!==null&&zc(k,$.startTime-B)}}var I=!1,C=-1,R=5,P=-1;function J(){return x?!0:!(n.unstable_now()-P<R)}function Yt(){if(x=!1,I){var B=n.unstable_now();P=B;var $=!0;try{t:{b=!1,A&&(A=!1,y(C),C=-1),g=!0;var K=d;try{e:{for(w(B),m=e(u);m!==null&&!(m.expirationTime>B&&J());){var At=m.callback;if(typeof At=="function"){m.callback=null,d=m.priorityLevel;var Ut=At(m.expirationTime<=B);if(B=n.unstable_now(),typeof Ut=="function"){m.callback=Ut,w(B),$=!0;break e}m===e(u)&&r(u),w(B)}else r(u);m=e(u)}if(m!==null)$=!0;else{var dl=e(c);dl!==null&&zc(k,dl.startTime-B),$=!1}}break t}finally{m=null,d=K,g=!1}$=void 0}}finally{$?ln():I=!1}}}var ln;if(typeof v=="function")ln=function(){v(Yt)};else if(typeof MessageChannel<"u"){var Dg=new MessageChannel,aT=Dg.port2;Dg.port1.onmessage=Yt,ln=function(){aT.postMessage(null)}}else ln=function(){p(Yt,0)};function zc(B,$){C=p(function(){B(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_next=function(B){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var K=d;d=$;try{return B()}finally{d=K}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(B,$){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=d;d=B;try{return $()}finally{d=K}},n.unstable_scheduleCallback=function(B,$,K){var At=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?At+K:At):K=At,B){case 1:var Ut=-1;break;case 2:Ut=250;break;case 5:Ut=1073741823;break;case 4:Ut=1e4;break;default:Ut=5e3}return Ut=K+Ut,B={id:h++,callback:$,priorityLevel:B,startTime:K,expirationTime:Ut,sortIndex:-1},K>At?(B.sortIndex=K,t(c,B),e(u)===null&&B===e(c)&&(A?(y(C),C=-1):A=!0,zc(k,K-At))):(B.sortIndex=Ut,t(u,B),b||g||(b=!0,I||(I=!0,ln()))),B},n.unstable_shouldYield=J,n.unstable_wrapCallback=function(B){var $=d;return function(){var K=d;d=$;try{return B.apply(this,arguments)}finally{d=K}}}})(np);ep.exports=np;var cT=ep.exports,rp={exports:{}},V={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd=Symbol.for("react.transitional.element"),fT=Symbol.for("react.portal"),hT=Symbol.for("react.fragment"),dT=Symbol.for("react.strict_mode"),gT=Symbol.for("react.profiler"),mT=Symbol.for("react.consumer"),yT=Symbol.for("react.context"),pT=Symbol.for("react.forward_ref"),vT=Symbol.for("react.suspense"),ST=Symbol.for("react.memo"),ip=Symbol.for("react.lazy"),Og=Symbol.iterator;function TT(n){return n===null||typeof n!="object"?null:(n=Og&&n[Og]||n["@@iterator"],typeof n=="function"?n:null)}var ap={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sp=Object.assign,op={};function Is(n,t,e){this.props=n,this.context=t,this.refs=op,this.updater=e||ap}Is.prototype.isReactComponent={};Is.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};Is.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function lp(){}lp.prototype=Is.prototype;function od(n,t,e){this.props=n,this.context=t,this.refs=op,this.updater=e||ap}var ld=od.prototype=new lp;ld.constructor=od;sp(ld,Is.prototype);ld.isPureReactComponent=!0;var kg=Array.isArray,mt={H:null,A:null,T:null,S:null,V:null},up=Object.prototype.hasOwnProperty;function ud(n,t,e,r,i,a){return e=a.ref,{$$typeof:sd,type:n,key:t,ref:e!==void 0?e:null,props:a}}function bT(n,t){return ud(n.type,t,void 0,void 0,void 0,n.props)}function cd(n){return typeof n=="object"&&n!==null&&n.$$typeof===sd}function wT(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var Cg=/\/+/g;function Uc(n,t){return typeof n=="object"&&n!==null&&n.key!=null?wT(""+n.key):t.toString(36)}function Ig(){}function AT(n){switch(n.status){case"fulfilled":return n.value;case"rejected":throw n.reason;default:switch(typeof n.status=="string"?n.then(Ig,Ig):(n.status="pending",n.then(function(t){n.status==="pending"&&(n.status="fulfilled",n.value=t)},function(t){n.status==="pending"&&(n.status="rejected",n.reason=t)})),n.status){case"fulfilled":return n.value;case"rejected":throw n.reason}}throw n}function za(n,t,e,r,i){var a=typeof n;(a==="undefined"||a==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case sd:case fT:s=!0;break;case ip:return s=n._init,za(s(n._payload),t,e,r,i)}}if(s)return i=i(n),s=r===""?"."+Uc(n,0):r,kg(i)?(e="",s!=null&&(e=s.replace(Cg,"$&/")+"/"),za(i,t,e,"",function(c){return c})):i!=null&&(cd(i)&&(i=bT(i,e+(i.key==null||n&&n.key===i.key?"":(""+i.key).replace(Cg,"$&/")+"/")+s)),t.push(i)),1;s=0;var o=r===""?".":r+":";if(kg(n))for(var u=0;u<n.length;u++)r=n[u],a=o+Uc(r,u),s+=za(r,t,e,a,i);else if(u=TT(n),typeof u=="function")for(n=u.call(n),u=0;!(r=n.next()).done;)r=r.value,a=o+Uc(r,u++),s+=za(r,t,e,a,i);else if(a==="object"){if(typeof n.then=="function")return za(AT(n),t,e,r,i);throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function yl(n,t,e){if(n==null)return n;var r=[],i=0;return za(n,r,"","",function(a){return t.call(e,a,i++)}),r}function ET(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var Rg=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function NT(){}V.Children={map:yl,forEach:function(n,t,e){yl(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return yl(n,function(){t++}),t},toArray:function(n){return yl(n,function(t){return t})||[]},only:function(n){if(!cd(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};V.Component=Is;V.Fragment=hT;V.Profiler=gT;V.PureComponent=od;V.StrictMode=dT;V.Suspense=vT;V.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mt;V.__COMPILER_RUNTIME={__proto__:null,c:function(n){return mt.H.useMemoCache(n)}};V.cache=function(n){return function(){return n.apply(null,arguments)}};V.cloneElement=function(n,t,e){if(n==null)throw Error("The argument must be a React element, but you passed "+n+".");var r=sp({},n.props),i=n.key,a=void 0;if(t!=null)for(s in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(i=""+t.key),t)!up.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(r[s]=t[s]);var s=arguments.length-2;if(s===1)r.children=e;else if(1<s){for(var o=Array(s),u=0;u<s;u++)o[u]=arguments[u+2];r.children=o}return ud(n.type,i,void 0,void 0,a,r)};V.createContext=function(n){return n={$$typeof:yT,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider=n,n.Consumer={$$typeof:mT,_context:n},n};V.createElement=function(n,t,e){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=""+t.key),t)up.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=e;else if(1<s){for(var o=Array(s),u=0;u<s;u++)o[u]=arguments[u+2];i.children=o}if(n&&n.defaultProps)for(r in s=n.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return ud(n,a,void 0,void 0,null,i)};V.createRef=function(){return{current:null}};V.forwardRef=function(n){return{$$typeof:pT,render:n}};V.isValidElement=cd;V.lazy=function(n){return{$$typeof:ip,_payload:{_status:-1,_result:n},_init:ET}};V.memo=function(n,t){return{$$typeof:ST,type:n,compare:t===void 0?null:t}};V.startTransition=function(n){var t=mt.T,e={};mt.T=e;try{var r=n(),i=mt.S;i!==null&&i(e,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(NT,Rg)}catch(a){Rg(a)}finally{mt.T=t}};V.unstable_useCacheRefresh=function(){return mt.H.useCacheRefresh()};V.use=function(n){return mt.H.use(n)};V.useActionState=function(n,t,e){return mt.H.useActionState(n,t,e)};V.useCallback=function(n,t){return mt.H.useCallback(n,t)};V.useContext=function(n){return mt.H.useContext(n)};V.useDebugValue=function(){};V.useDeferredValue=function(n,t){return mt.H.useDeferredValue(n,t)};V.useEffect=function(n,t,e){var r=mt.H;if(typeof e=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(n,t)};V.useId=function(){return mt.H.useId()};V.useImperativeHandle=function(n,t,e){return mt.H.useImperativeHandle(n,t,e)};V.useInsertionEffect=function(n,t){return mt.H.useInsertionEffect(n,t)};V.useLayoutEffect=function(n,t){return mt.H.useLayoutEffect(n,t)};V.useMemo=function(n,t){return mt.H.useMemo(n,t)};V.useOptimistic=function(n,t){return mt.H.useOptimistic(n,t)};V.useReducer=function(n,t,e){return mt.H.useReducer(n,t,e)};V.useRef=function(n){return mt.H.useRef(n)};V.useState=function(n){return mt.H.useState(n)};V.useSyncExternalStore=function(n,t,e){return mt.H.useSyncExternalStore(n,t,e)};V.useTransition=function(){return mt.H.useTransition()};V.version="19.1.0";rp.exports=V;var ct=rp.exports,cp={exports:{}},ee={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xT=ct;function fp(n){var t="https://react.dev/errors/"+n;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var e=2;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e])}return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function vi(){}var te={d:{f:vi,r:function(){throw Error(fp(522))},D:vi,C:vi,L:vi,m:vi,X:vi,S:vi,M:vi},p:0,findDOMNode:null},DT=Symbol.for("react.portal");function OT(n,t,e){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:DT,key:r==null?null:""+r,children:n,containerInfo:t,implementation:e}}var to=xT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function cc(n,t){if(n==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}ee.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te;ee.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(fp(299));return OT(n,t,null,e)};ee.flushSync=function(n){var t=to.T,e=te.p;try{if(to.T=null,te.p=2,n)return n()}finally{to.T=t,te.p=e,te.d.f()}};ee.preconnect=function(n,t){typeof n=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,te.d.C(n,t))};ee.prefetchDNS=function(n){typeof n=="string"&&te.d.D(n)};ee.preinit=function(n,t){if(typeof n=="string"&&t&&typeof t.as=="string"){var e=t.as,r=cc(e,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;e==="style"?te.d.S(n,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):e==="script"&&te.d.X(n,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};ee.preinitModule=function(n,t){if(typeof n=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var e=cc(t.as,t.crossOrigin);te.d.M(n,{crossOrigin:e,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&te.d.M(n)};ee.preload=function(n,t){if(typeof n=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var e=t.as,r=cc(e,t.crossOrigin);te.d.L(n,e,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};ee.preloadModule=function(n,t){if(typeof n=="string")if(t){var e=cc(t.as,t.crossOrigin);te.d.m(n,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:e,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else te.d.m(n)};ee.requestFormReset=function(n){te.d.r(n)};ee.unstable_batchedUpdates=function(n,t){return n(t)};ee.useFormState=function(n,t,e){return to.H.useFormState(n,t,e)};ee.useFormStatus=function(){return to.H.useHostTransitionStatus()};ee.version="19.1.0";function hp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hp)}catch(n){console.error(n)}}hp(),cp.exports=ee;var kT=cp.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mt=cT,dp=ct,CT=kT;function N(n){var t="https://react.dev/errors/"+n;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var e=2;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e])}return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function gp(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Yo(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function mp(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function Bg(n){if(Yo(n)!==n)throw Error(N(188))}function IT(n){var t=n.alternate;if(!t){if(t=Yo(n),t===null)throw Error(N(188));return t!==n?null:n}for(var e=n,r=t;;){var i=e.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){e=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===e)return Bg(i),n;if(a===r)return Bg(i),t;a=a.sibling}throw Error(N(188))}if(e.return!==r.return)e=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===e){s=!0,e=i,r=a;break}if(o===r){s=!0,r=i,e=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===e){s=!0,e=a,r=i;break}if(o===r){s=!0,r=a,e=i;break}o=o.sibling}if(!s)throw Error(N(189))}}if(e.alternate!==r)throw Error(N(190))}if(e.tag!==3)throw Error(N(188));return e.stateNode.current===e?n:t}function yp(n){var t=n.tag;if(t===5||t===26||t===27||t===6)return n;for(n=n.child;n!==null;){if(t=yp(n),t!==null)return t;n=n.sibling}return null}var ht=Object.assign,RT=Symbol.for("react.element"),pl=Symbol.for("react.transitional.element"),Xs=Symbol.for("react.portal"),Ha=Symbol.for("react.fragment"),pp=Symbol.for("react.strict_mode"),Nf=Symbol.for("react.profiler"),BT=Symbol.for("react.provider"),vp=Symbol.for("react.consumer"),_r=Symbol.for("react.context"),fd=Symbol.for("react.forward_ref"),xf=Symbol.for("react.suspense"),Df=Symbol.for("react.suspense_list"),hd=Symbol.for("react.memo"),Ai=Symbol.for("react.lazy"),Of=Symbol.for("react.activity"),zT=Symbol.for("react.memo_cache_sentinel"),zg=Symbol.iterator;function Js(n){return n===null||typeof n!="object"?null:(n=zg&&n[zg]||n["@@iterator"],typeof n=="function"?n:null)}var MT=Symbol.for("react.client.reference");function kf(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===MT?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ha:return"Fragment";case Nf:return"Profiler";case pp:return"StrictMode";case xf:return"Suspense";case Df:return"SuspenseList";case Of:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case Xs:return"Portal";case _r:return(n.displayName||"Context")+".Provider";case vp:return(n._context.displayName||"Context")+".Consumer";case fd:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case hd:return t=n.displayName||null,t!==null?t:kf(n.type)||"Memo";case Ai:t=n._payload,n=n._init;try{return kf(n(t))}catch{}}return null}var Fs=Array.isArray,q=dp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=CT.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,la={pending:!1,data:null,method:null,action:null},Cf=[],Va=-1;function kn(n){return{current:n}}function Pt(n){0>Va||(n.current=Cf[Va],Cf[Va]=null,Va--)}function yt(n,t){Va++,Cf[Va]=n.current,n.current=t}var Tn=kn(null),Ao=kn(null),zi=kn(null),au=kn(null);function su(n,t){switch(yt(zi,t),yt(Ao,n),yt(Tn,null),t.nodeType){case 9:case 11:n=(n=t.documentElement)&&(n=n.namespaceURI)?qm(n):0;break;default:if(n=t.tagName,t=t.namespaceURI)t=qm(t),n=M0(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Pt(Tn),yt(Tn,n)}function cs(){Pt(Tn),Pt(Ao),Pt(zi)}function If(n){n.memoizedState!==null&&yt(au,n);var t=Tn.current,e=M0(t,n.type);t!==e&&(yt(Ao,n),yt(Tn,e))}function ou(n){Ao.current===n&&(Pt(Tn),Pt(Ao)),au.current===n&&(Pt(au),Bo._currentValue=la)}var Rf=Object.prototype.hasOwnProperty,dd=Mt.unstable_scheduleCallback,Lc=Mt.unstable_cancelCallback,UT=Mt.unstable_shouldYield,LT=Mt.unstable_requestPaint,bn=Mt.unstable_now,JT=Mt.unstable_getCurrentPriorityLevel,Sp=Mt.unstable_ImmediatePriority,Tp=Mt.unstable_UserBlockingPriority,lu=Mt.unstable_NormalPriority,qT=Mt.unstable_LowPriority,bp=Mt.unstable_IdlePriority,PT=Mt.log,HT=Mt.unstable_setDisableYieldValue,Xo=null,pe=null;function ki(n){if(typeof PT=="function"&&HT(n),pe&&typeof pe.setStrictMode=="function")try{pe.setStrictMode(Xo,n)}catch{}}var ve=Math.clz32?Math.clz32:KT,VT=Math.log,jT=Math.LN2;function KT(n){return n>>>=0,n===0?32:31-(VT(n)/jT|0)|0}var vl=256,Sl=4194304;function ta(n){var t=n&42;if(t!==0)return t;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function fc(n,t,e){var r=n.pendingLanes;if(r===0)return 0;var i=0,a=n.suspendedLanes,s=n.pingedLanes;n=n.warmLanes;var o=r&134217727;return o!==0?(r=o&~a,r!==0?i=ta(r):(s&=o,s!==0?i=ta(s):e||(e=o&~n,e!==0&&(i=ta(e))))):(o=r&~a,o!==0?i=ta(o):s!==0?i=ta(s):e||(e=r&~n,e!==0&&(i=ta(e)))),i===0?0:t!==0&&t!==i&&!(t&a)&&(a=i&-i,e=t&-t,a>=e||a===32&&(e&4194048)!==0)?t:i}function Fo(n,t){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&t)===0}function $T(n,t){switch(n){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wp(){var n=vl;return vl<<=1,!(vl&4194048)&&(vl=256),n}function Ap(){var n=Sl;return Sl<<=1,!(Sl&62914560)&&(Sl=4194304),n}function Jc(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function Zo(n,t){n.pendingLanes|=t,t!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function GT(n,t,e,r,i,a){var s=n.pendingLanes;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=e,n.entangledLanes&=e,n.errorRecoveryDisabledLanes&=e,n.shellSuspendCounter=0;var o=n.entanglements,u=n.expirationTimes,c=n.hiddenUpdates;for(e=s&~e;0<e;){var h=31-ve(e),m=1<<h;o[h]=0,u[h]=-1;var d=c[h];if(d!==null)for(c[h]=null,h=0;h<d.length;h++){var g=d[h];g!==null&&(g.lane&=-536870913)}e&=~m}r!==0&&Ep(n,r,0),a!==0&&i===0&&n.tag!==0&&(n.suspendedLanes|=a&~(s&~t))}function Ep(n,t,e){n.pendingLanes|=t,n.suspendedLanes&=~t;var r=31-ve(t);n.entangledLanes|=t,n.entanglements[r]=n.entanglements[r]|1073741824|e&4194090}function Np(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var r=31-ve(e),i=1<<r;i&t|n[r]&t&&(n[r]|=t),e&=~i}}function gd(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function md(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function xp(){var n=et.p;return n!==0?n:(n=window.event,n===void 0?32:$0(n.type))}function YT(n,t){var e=et.p;try{return et.p=n,t()}finally{et.p=e}}var Fi=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Fi,le="__reactProps$"+Fi,Rs="__reactContainer$"+Fi,Bf="__reactEvents$"+Fi,XT="__reactListeners$"+Fi,FT="__reactHandles$"+Fi,Mg="__reactResources$"+Fi,Qo="__reactMarker$"+Fi;function yd(n){delete n[Xt],delete n[le],delete n[Bf],delete n[XT],delete n[FT]}function ja(n){var t=n[Xt];if(t)return t;for(var e=n.parentNode;e;){if(t=e[Rs]||e[Xt]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=Vm(n);n!==null;){if(e=n[Xt])return e;n=Vm(n)}return t}n=e,e=n.parentNode}return null}function Bs(n){if(n=n[Xt]||n[Rs]){var t=n.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return n}return null}function Zs(n){var t=n.tag;if(t===5||t===26||t===27||t===6)return n.stateNode;throw Error(N(33))}function ts(n){var t=n[Mg];return t||(t=n[Mg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Jt(n){n[Qo]=!0}var Dp=new Set,Op={};function Ea(n,t){fs(n,t),fs(n+"Capture",t)}function fs(n,t){for(Op[n]=t,n=0;n<t.length;n++)Dp.add(t[n])}var ZT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ug={},Lg={};function QT(n){return Rf.call(Lg,n)?!0:Rf.call(Ug,n)?!1:ZT.test(n)?Lg[n]=!0:(Ug[n]=!0,!1)}function Jl(n,t,e){if(QT(t))if(e===null)n.removeAttribute(t);else{switch(typeof e){case"undefined":case"function":case"symbol":n.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){n.removeAttribute(t);return}}n.setAttribute(t,""+e)}}function Tl(n,t,e){if(e===null)n.removeAttribute(t);else{switch(typeof e){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(t);return}n.setAttribute(t,""+e)}}function In(n,t,e,r){if(r===null)n.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(e);return}n.setAttributeNS(t,e,""+r)}}var qc,Jg;function Ma(n){if(qc===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);qc=t&&t[1]||"",Jg=-1<e.stack.indexOf(`
    at`)?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qc+n+Jg}var Pc=!1;function Hc(n,t){if(!n||Pc)return"";Pc=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(g){var d=g}Reflect.construct(n,[],m)}else{try{m.call()}catch(g){d=g}n.call(m.prototype)}}else{try{throw Error()}catch(g){d=g}(m=n())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(g){if(g&&d&&typeof g.stack=="string")return[g.stack,d.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var u=s.split(`
`),c=o.split(`
`);for(i=r=0;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===u.length||i===c.length)for(r=u.length-1,i=c.length-1;1<=r&&0<=i&&u[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(u[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||u[r]!==c[i]){var h=`
`+u[r].replace(" at new "," at ");return n.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",n.displayName)),h}while(1<=r&&0<=i);break}}}finally{Pc=!1,Error.prepareStackTrace=e}return(e=n?n.displayName||n.name:"")?Ma(e):""}function _T(n){switch(n.tag){case 26:case 27:case 5:return Ma(n.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 15:return Hc(n.type,!1);case 11:return Hc(n.type.render,!1);case 1:return Hc(n.type,!0);case 31:return Ma("Activity");default:return""}}function qg(n){try{var t="";do t+=_T(n),n=n.return;while(n);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}function Ne(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function kp(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function WT(n){var t=kp(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),r=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var i=e.get,a=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function uu(n){n._valueTracker||(n._valueTracker=WT(n))}function Cp(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),r="";return n&&(r=kp(n)?n.checked?"true":"false":n.value),n=r,n!==e?(t.setValue(n),!0):!1}function cu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var tb=/[\n"\\]/g;function Je(n){return n.replace(tb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function zf(n,t,e,r,i,a,s,o){n.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?n.type=s:n.removeAttribute("type"),t!=null?s==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+Ne(t)):n.value!==""+Ne(t)&&(n.value=""+Ne(t)):s!=="submit"&&s!=="reset"||n.removeAttribute("value"),t!=null?Mf(n,s,Ne(t)):e!=null?Mf(n,s,Ne(e)):r!=null&&n.removeAttribute("value"),i==null&&a!=null&&(n.defaultChecked=!!a),i!=null&&(n.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?n.name=""+Ne(o):n.removeAttribute("name")}function Ip(n,t,e,r,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(n.type=a),t!=null||e!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;e=e!=null?""+Ne(e):"",t=t!=null?""+Ne(t):e,o||t===n.value||(n.value=t),n.defaultValue=t}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,n.checked=o?n.checked:!!r,n.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(n.name=s)}function Mf(n,t,e){t==="number"&&cu(n.ownerDocument)===n||n.defaultValue===""+e||(n.defaultValue=""+e)}function es(n,t,e,r){if(n=n.options,t){t={};for(var i=0;i<e.length;i++)t["$"+e[i]]=!0;for(e=0;e<n.length;e++)i=t.hasOwnProperty("$"+n[e].value),n[e].selected!==i&&(n[e].selected=i),i&&r&&(n[e].defaultSelected=!0)}else{for(e=""+Ne(e),t=null,i=0;i<n.length;i++){if(n[i].value===e){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}t!==null||n[i].disabled||(t=n[i])}t!==null&&(t.selected=!0)}}function Rp(n,t,e){if(t!=null&&(t=""+Ne(t),t!==n.value&&(n.value=t),e==null)){n.defaultValue!==t&&(n.defaultValue=t);return}n.defaultValue=e!=null?""+Ne(e):""}function Bp(n,t,e,r){if(t==null){if(r!=null){if(e!=null)throw Error(N(92));if(Fs(r)){if(1<r.length)throw Error(N(93));r=r[0]}e=r}e==null&&(e=""),t=e}e=Ne(t),n.defaultValue=e,r=n.textContent,r===e&&r!==""&&r!==null&&(n.value=r)}function hs(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var eb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pg(n,t,e){var r=t.indexOf("--")===0;e==null||typeof e=="boolean"||e===""?r?n.setProperty(t,""):t==="float"?n.cssFloat="":n[t]="":r?n.setProperty(t,e):typeof e!="number"||e===0||eb.has(t)?t==="float"?n.cssFloat=e:n[t]=(""+e).trim():n[t]=e+"px"}function zp(n,t,e){if(t!=null&&typeof t!="object")throw Error(N(62));if(n=n.style,e!=null){for(var r in e)!e.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&e[i]!==r&&Pg(n,i,r)}else for(var a in t)t.hasOwnProperty(a)&&Pg(n,a,t[a])}function pd(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ql(n){return rb.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Uf=null;function vd(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ka=null,ns=null;function Hg(n){var t=Bs(n);if(t&&(n=t.stateNode)){var e=n[le]||null;t:switch(n=t.stateNode,t.type){case"input":if(zf(n,e.value,e.defaultValue,e.defaultValue,e.checked,e.defaultChecked,e.type,e.name),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll('input[name="'+Je(""+t)+'"][type="radio"]'),t=0;t<e.length;t++){var r=e[t];if(r!==n&&r.form===n.form){var i=r[le]||null;if(!i)throw Error(N(90));zf(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<e.length;t++)r=e[t],r.form===n.form&&Cp(r)}break t;case"textarea":Rp(n,e.value,e.defaultValue);break t;case"select":t=e.value,t!=null&&es(n,!!e.multiple,t,!1)}}}var Vc=!1;function Mp(n,t,e){if(Vc)return n(t,e);Vc=!0;try{var r=n(t);return r}finally{if(Vc=!1,(Ka!==null||ns!==null)&&(bc(),Ka&&(t=Ka,n=ns,ns=Ka=null,Hg(t),n)))for(t=0;t<n.length;t++)Hg(n[t])}}function Eo(n,t){var e=n.stateNode;if(e===null)return null;var r=e[le]||null;if(r===null)return null;e=r[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break t;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(N(231,t,typeof e));return e}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lf=!1;if(ci)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){Lf=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{Lf=!1}var Ci=null,Sd=null,Pl=null;function Up(){if(Pl)return Pl;var n,t=Sd,e=t.length,r,i="value"in Ci?Ci.value:Ci.textContent,a=i.length;for(n=0;n<e&&t[n]===i[n];n++);var s=e-n;for(r=1;r<=s&&t[e-r]===i[a-r];r++);return Pl=i.slice(n,1<r?1-r:void 0)}function Hl(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function bl(){return!0}function Vg(){return!1}function ce(n){function t(e,r,i,a,s){this._reactName=e,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(e=n[o],this[o]=e?e(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?bl:Vg,this.isPropagationStopped=Vg,this}return ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),t}var Na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hc=ce(Na),_o=ht({},Na,{view:0,detail:0}),ib=ce(_o),jc,Kc,Ps,dc=ht({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Td,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ps&&(Ps&&n.type==="mousemove"?(jc=n.screenX-Ps.screenX,Kc=n.screenY-Ps.screenY):Kc=jc=0,Ps=n),jc)},movementY:function(n){return"movementY"in n?n.movementY:Kc}}),jg=ce(dc),ab=ht({},dc,{dataTransfer:0}),sb=ce(ab),ob=ht({},_o,{relatedTarget:0}),$c=ce(ob),lb=ht({},Na,{animationName:0,elapsedTime:0,pseudoElement:0}),ub=ce(lb),cb=ht({},Na,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),fb=ce(cb),hb=ht({},Na,{data:0}),Kg=ce(hb),db={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yb(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=mb[n])?!!t[n]:!1}function Td(){return yb}var pb=ht({},_o,{key:function(n){if(n.key){var t=db[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=Hl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?gb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Td,charCode:function(n){return n.type==="keypress"?Hl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Hl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),vb=ce(pb),Sb=ht({},dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$g=ce(Sb),Tb=ht({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Td}),bb=ce(Tb),wb=ht({},Na,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ab=ce(wb),Eb=ht({},dc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Nb=ce(Eb),xb=ht({},Na,{newState:0,oldState:0}),Db=ce(xb),Ob=[9,13,27,32],bd=ci&&"CompositionEvent"in window,eo=null;ci&&"documentMode"in document&&(eo=document.documentMode);var kb=ci&&"TextEvent"in window&&!eo,Lp=ci&&(!bd||eo&&8<eo&&11>=eo),Gg=" ",Yg=!1;function Jp(n,t){switch(n){case"keyup":return Ob.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var $a=!1;function Cb(n,t){switch(n){case"compositionend":return qp(t);case"keypress":return t.which!==32?null:(Yg=!0,Gg);case"textInput":return n=t.data,n===Gg&&Yg?null:n;default:return null}}function Ib(n,t){if($a)return n==="compositionend"||!bd&&Jp(n,t)?(n=Up(),Pl=Sd=Ci=null,$a=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lp&&t.locale!=="ko"?null:t.data;default:return null}}var Rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xg(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!Rb[n.type]:t==="textarea"}function Pp(n,t,e,r){Ka?ns?ns.push(r):ns=[r]:Ka=r,t=Ou(t,"onChange"),0<t.length&&(e=new hc("onChange","change",null,e,r),n.push({event:e,listeners:t}))}var no=null,No=null;function Bb(n){R0(n,0)}function gc(n){var t=Zs(n);if(Cp(t))return n}function Fg(n,t){if(n==="change")return t}var Hp=!1;if(ci){var Gc;if(ci){var Yc="oninput"in document;if(!Yc){var Zg=document.createElement("div");Zg.setAttribute("oninput","return;"),Yc=typeof Zg.oninput=="function"}Gc=Yc}else Gc=!1;Hp=Gc&&(!document.documentMode||9<document.documentMode)}function Qg(){no&&(no.detachEvent("onpropertychange",Vp),No=no=null)}function Vp(n){if(n.propertyName==="value"&&gc(No)){var t=[];Pp(t,No,n,vd(n)),Mp(Bb,t)}}function zb(n,t,e){n==="focusin"?(Qg(),no=t,No=e,no.attachEvent("onpropertychange",Vp)):n==="focusout"&&Qg()}function Mb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gc(No)}function Ub(n,t){if(n==="click")return gc(t)}function Lb(n,t){if(n==="input"||n==="change")return gc(t)}function Jb(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var be=typeof Object.is=="function"?Object.is:Jb;function xo(n,t){if(be(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return!1;for(r=0;r<e.length;r++){var i=e[r];if(!Rf.call(t,i)||!be(n[i],t[i]))return!1}return!0}function _g(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Wg(n,t){var e=_g(n);n=0;for(var r;e;){if(e.nodeType===3){if(r=n+e.textContent.length,n<=t&&r>=t)return{node:e,offset:t-n};n=r}t:{for(;e;){if(e.nextSibling){e=e.nextSibling;break t}e=e.parentNode}e=void 0}e=_g(e)}}function jp(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?jp(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function Kp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var t=cu(n.document);t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=cu(n.document)}return t}function wd(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}var qb=ci&&"documentMode"in document&&11>=document.documentMode,Ga=null,Jf=null,ro=null,qf=!1;function tm(n,t,e){var r=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;qf||Ga==null||Ga!==cu(r)||(r=Ga,"selectionStart"in r&&wd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ro&&xo(ro,r)||(ro=r,r=Ou(Jf,"onSelect"),0<r.length&&(t=new hc("onSelect","select",null,t,e),n.push({event:t,listeners:r}),t.target=Ga)))}function Wi(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var Ya={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionrun:Wi("Transition","TransitionRun"),transitionstart:Wi("Transition","TransitionStart"),transitioncancel:Wi("Transition","TransitionCancel"),transitionend:Wi("Transition","TransitionEnd")},Xc={},$p={};ci&&($p=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function xa(n){if(Xc[n])return Xc[n];if(!Ya[n])return n;var t=Ya[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in $p)return Xc[n]=t[e];return n}var Gp=xa("animationend"),Yp=xa("animationiteration"),Xp=xa("animationstart"),Pb=xa("transitionrun"),Hb=xa("transitionstart"),Vb=xa("transitioncancel"),Fp=xa("transitionend"),Zp=new Map,Pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pf.push("scrollEnd");function sn(n,t){Zp.set(n,t),Ea(t,[n])}var em=new WeakMap;function qe(n,t){if(typeof n=="object"&&n!==null){var e=em.get(n);return e!==void 0?e:(t={value:n,source:t,stack:qg(t)},em.set(n,t),t)}return{value:n,source:t,stack:qg(t)}}var Ee=[],Xa=0,Ad=0;function mc(){for(var n=Xa,t=Ad=Xa=0;t<n;){var e=Ee[t];Ee[t++]=null;var r=Ee[t];Ee[t++]=null;var i=Ee[t];Ee[t++]=null;var a=Ee[t];if(Ee[t++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&Qp(e,i,a)}}function yc(n,t,e,r){Ee[Xa++]=n,Ee[Xa++]=t,Ee[Xa++]=e,Ee[Xa++]=r,Ad|=r,n.lanes|=r,n=n.alternate,n!==null&&(n.lanes|=r)}function Ed(n,t,e,r){return yc(n,t,e,r),fu(n)}function zs(n,t){return yc(n,null,null,t),fu(n)}function Qp(n,t,e){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e);for(var i=!1,a=n.return;a!==null;)a.childLanes|=e,r=a.alternate,r!==null&&(r.childLanes|=e),a.tag===22&&(n=a.stateNode,n===null||n._visibility&1||(i=!0)),n=a,a=a.return;return n.tag===3?(a=n.stateNode,i&&t!==null&&(i=31-ve(e),n=a.hiddenUpdates,r=n[i],r===null?n[i]=[t]:r.push(t),t.lane=e|536870912),a):null}function fu(n){if(50<go)throw go=0,oh=null,Error(N(185));for(var t=n.return;t!==null;)n=t,t=n.return;return n.tag===3?n.stateNode:null}var Fa={};function jb(n,t,e,r){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ge(n,t,e,r){return new jb(n,t,e,r)}function Nd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function si(n,t){var e=n.alternate;return e===null?(e=ge(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&65011712,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e.refCleanup=n.refCleanup,e}function _p(n,t){n.flags&=65011714;var e=n.alternate;return e===null?(n.childLanes=0,n.lanes=t,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.type=e.type,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n}function Vl(n,t,e,r,i,a){var s=0;if(r=n,typeof n=="function")Nd(n)&&(s=1);else if(typeof n=="string")s=$w(n,e,Tn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case Of:return n=ge(31,e,t,i),n.elementType=Of,n.lanes=a,n;case Ha:return ua(e.children,i,a,t);case pp:s=8,i|=24;break;case Nf:return n=ge(12,e,t,i|2),n.elementType=Nf,n.lanes=a,n;case xf:return n=ge(13,e,t,i),n.elementType=xf,n.lanes=a,n;case Df:return n=ge(19,e,t,i),n.elementType=Df,n.lanes=a,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case BT:case _r:s=10;break t;case vp:s=9;break t;case fd:s=11;break t;case hd:s=14;break t;case Ai:s=16,r=null;break t}s=29,e=Error(N(130,n===null?"null":typeof n,"")),r=null}return t=ge(s,e,t,i),t.elementType=n,t.type=r,t.lanes=a,t}function ua(n,t,e,r){return n=ge(7,n,r,t),n.lanes=e,n}function Fc(n,t,e){return n=ge(6,n,null,t),n.lanes=e,n}function Zc(n,t,e){return t=ge(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}var Za=[],Qa=0,hu=null,du=0,xe=[],De=0,ca=null,Wr=1,ti="";function ea(n,t){Za[Qa++]=du,Za[Qa++]=hu,hu=n,du=t}function Wp(n,t,e){xe[De++]=Wr,xe[De++]=ti,xe[De++]=ca,ca=n;var r=Wr;n=ti;var i=32-ve(r)-1;r&=~(1<<i),e+=1;var a=32-ve(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Wr=1<<32-ve(t)+i|e<<i|r,ti=a+n}else Wr=1<<a|e<<i|r,ti=n}function xd(n){n.return!==null&&(ea(n,1),Wp(n,1,0))}function Dd(n){for(;n===hu;)hu=Za[--Qa],Za[Qa]=null,du=Za[--Qa],Za[Qa]=null;for(;n===ca;)ca=xe[--De],xe[De]=null,ti=xe[--De],xe[De]=null,Wr=xe[--De],xe[De]=null}var Wt=null,Tt=null,tt=!1,fa=null,hn=!1,Hf=Error(N(519));function ya(n){var t=Error(N(418,""));throw Do(qe(t,n)),Hf}function nm(n){var t=n.stateNode,e=n.type,r=n.memoizedProps;switch(t[Xt]=n,t[le]=r,e){case"dialog":G("cancel",t),G("close",t);break;case"iframe":case"object":case"embed":G("load",t);break;case"video":case"audio":for(e=0;e<Co.length;e++)G(Co[e],t);break;case"source":G("error",t);break;case"img":case"image":case"link":G("error",t),G("load",t);break;case"details":G("toggle",t);break;case"input":G("invalid",t),Ip(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),uu(t);break;case"select":G("invalid",t);break;case"textarea":G("invalid",t),Bp(t,r.value,r.defaultValue,r.children),uu(t)}e=r.children,typeof e!="string"&&typeof e!="number"&&typeof e!="bigint"||t.textContent===""+e||r.suppressHydrationWarning===!0||z0(t.textContent,e)?(r.popover!=null&&(G("beforetoggle",t),G("toggle",t)),r.onScroll!=null&&G("scroll",t),r.onScrollEnd!=null&&G("scrollend",t),r.onClick!=null&&(t.onclick=Ec),t=!0):t=!1,t||ya(n)}function rm(n){for(Wt=n.return;Wt;)switch(Wt.tag){case 5:case 13:hn=!1;return;case 27:case 3:hn=!0;return;default:Wt=Wt.return}}function Hs(n){if(n!==Wt)return!1;if(!tt)return rm(n),tt=!0,!1;var t=n.tag,e;if((e=t!==3&&t!==27)&&((e=t===5)&&(e=n.type,e=!(e!=="form"&&e!=="button")||dh(n.type,n.memoizedProps)),e=!e),e&&Tt&&ya(n),rm(n),t===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(N(317));t:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8)if(e=n.data,e==="/$"){if(t===0){Tt=rn(n.nextSibling);break t}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++;n=n.nextSibling}Tt=null}}else t===27?(t=Tt,Zi(n.type)?(n=yh,yh=null,Tt=n):Tt=t):Tt=Wt?rn(n.stateNode.nextSibling):null;return!0}function Wo(){Tt=Wt=null,tt=!1}function im(){var n=fa;return n!==null&&(ie===null?ie=n:ie.push.apply(ie,n),fa=null),n}function Do(n){fa===null?fa=[n]:fa.push(n)}var Vf=kn(null),Da=null,ei=null;function Ni(n,t,e){yt(Vf,t._currentValue),t._currentValue=e}function oi(n){n._currentValue=Vf.current,Pt(Vf)}function jf(n,t,e){for(;n!==null;){var r=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),n===e)break;n=n.return}}function Kf(n,t,e,r){var i=n.child;for(i!==null&&(i.return=n);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;t:for(;a!==null;){var o=a;a=i;for(var u=0;u<t.length;u++)if(o.context===t[u]){a.lanes|=e,o=a.alternate,o!==null&&(o.lanes|=e),jf(a.return,e,n),r||(s=null);break t}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(N(341));s.lanes|=e,a=s.alternate,a!==null&&(a.lanes|=e),jf(s,e,n),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===n){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function tl(n,t,e,r){n=null;for(var i=t,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(N(387));if(s=s.memoizedProps,s!==null){var o=i.type;be(i.pendingProps.value,s.value)||(n!==null?n.push(o):n=[o])}}else if(i===au.current){if(s=i.alternate,s===null)throw Error(N(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(n!==null?n.push(Bo):n=[Bo])}i=i.return}n!==null&&Kf(t,n,e,r),t.flags|=262144}function gu(n){for(n=n.firstContext;n!==null;){if(!be(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function pa(n){Da=n,ei=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ft(n){return tv(Da,n)}function wl(n,t){return Da===null&&pa(n),tv(n,t)}function tv(n,t){var e=t._currentValue;if(t={context:t,memoizedValue:e,next:null},ei===null){if(n===null)throw Error(N(308));ei=t,n.dependencies={lanes:0,firstContext:t},n.flags|=524288}else ei=ei.next=t;return e}var Kb=typeof AbortController<"u"?AbortController:function(){var n=[],t=this.signal={aborted:!1,addEventListener:function(e,r){n.push(r)}};this.abort=function(){t.aborted=!0,n.forEach(function(e){return e()})}},$b=Mt.unstable_scheduleCallback,Gb=Mt.unstable_NormalPriority,Bt={$$typeof:_r,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Od(){return{controller:new Kb,data:new Map,refCount:0}}function el(n){n.refCount--,n.refCount===0&&$b(Gb,function(){n.controller.abort()})}var io=null,$f=0,ds=0,rs=null;function Yb(n,t){if(io===null){var e=io=[];$f=0,ds=Qd(),rs={status:"pending",value:void 0,then:function(r){e.push(r)}}}return $f++,t.then(am,am),t}function am(){if(--$f===0&&io!==null){rs!==null&&(rs.status="fulfilled");var n=io;io=null,ds=0,rs=null;for(var t=0;t<n.length;t++)(0,n[t])()}}function Xb(n,t){var e=[],r={status:"pending",value:null,reason:null,then:function(i){e.push(i)}};return n.then(function(){r.status="fulfilled",r.value=t;for(var i=0;i<e.length;i++)(0,e[i])(t)},function(i){for(r.status="rejected",r.reason=i,i=0;i<e.length;i++)(0,e[i])(void 0)}),r}var sm=q.S;q.S=function(n,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Yb(n,t),sm!==null&&sm(n,t)};var ha=kn(null);function kd(){var n=ha.current;return n!==null?n:ft.pooledCache}function jl(n,t){t===null?yt(ha,ha.current):yt(ha,t.pool)}function ev(){var n=kd();return n===null?null:{parent:Bt._currentValue,pool:n}}var nl=Error(N(460)),nv=Error(N(474)),pc=Error(N(542)),Gf={then:function(){}};function om(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Al(){}function rv(n,t,e){switch(e=n[e],e===void 0?n.push(t):e!==t&&(t.then(Al,Al),t=e),t.status){case"fulfilled":return t.value;case"rejected":throw n=t.reason,um(n),n;default:if(typeof t.status=="string")t.then(Al,Al);else{if(n=ft,n!==null&&100<n.shellSuspendCounter)throw Error(N(482));n=t,n.status="pending",n.then(function(r){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=r}},function(r){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw n=t.reason,um(n),n}throw ao=t,nl}}var ao=null;function lm(){if(ao===null)throw Error(N(459));var n=ao;return ao=null,n}function um(n){if(n===nl||n===pc)throw Error(N(483))}var Ei=!1;function Cd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Mi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ui(n,t,e){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,it&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=fu(n),Qp(n,null,e),t}return yc(n,r,t,e),fu(n)}function so(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194048)!==0)){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,Np(n,e)}}function Qc(n,t){var e=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,e===r)){var i=null,a=null;if(e=e.firstBaseUpdate,e!==null){do{var s={lane:e.lane,tag:e.tag,payload:e.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,e=e.next}while(e!==null);a===null?i=a=t:a=a.next=t}else i=a=t;e={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}var Xf=!1;function oo(){if(Xf){var n=rs;if(n!==null)throw n}}function lo(n,t,e,r){Xf=!1;var i=n.updateQueue;Ei=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,c=u.next;u.next=null,s===null?a=c:s.next=c,s=u;var h=n.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==s&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=u))}if(a!==null){var m=i.baseState;s=0,h=c=u=null,o=a;do{var d=o.lane&-536870913,g=d!==o.lane;if(g?(Q&d)===d:(r&d)===d){d!==0&&d===ds&&(Xf=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var b=n,A=o;d=t;var x=e;switch(A.tag){case 1:if(b=A.payload,typeof b=="function"){m=b.call(x,m,d);break t}m=b;break t;case 3:b.flags=b.flags&-65537|128;case 0:if(b=A.payload,d=typeof b=="function"?b.call(x,m,d):b,d==null)break t;m=ht({},m,d);break t;case 2:Ei=!0}}d=o.callback,d!==null&&(n.flags|=64,g&&(n.flags|=8192),g=i.callbacks,g===null?i.callbacks=[d]:g.push(d))}else g={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=g,u=m):h=h.next=g,s|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);h===null&&(u=m),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,a===null&&(i.shared.lanes=0),Yi|=s,n.lanes=s,n.memoizedState=m}}function iv(n,t){if(typeof n!="function")throw Error(N(191,n));n.call(t)}function av(n,t){var e=n.callbacks;if(e!==null)for(n.callbacks=null,n=0;n<e.length;n++)iv(e[n],t)}var gs=kn(null),mu=kn(0);function cm(n,t){n=di,yt(mu,n),yt(gs,t),di=n|t.baseLanes}function Ff(){yt(mu,di),yt(gs,gs.current)}function Id(){di=mu.current,Pt(gs),Pt(mu)}var $i=0,j=null,st=null,kt=null,yu=!1,is=!1,va=!1,pu=0,Oo=0,as=null,Fb=0;function Et(){throw Error(N(321))}function Rd(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!be(n[e],t[e]))return!1;return!0}function Bd(n,t,e,r,i,a){return $i=a,j=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=n===null||n.memoizedState===null?Uv:Lv,va=!1,a=e(r,i),va=!1,is&&(a=ov(t,e,r,i)),sv(n),a}function sv(n){q.H=vu;var t=st!==null&&st.next!==null;if($i=0,kt=st=j=null,yu=!1,Oo=0,as=null,t)throw Error(N(300));n===null||qt||(n=n.dependencies,n!==null&&gu(n)&&(qt=!0))}function ov(n,t,e,r){j=n;var i=0;do{if(is&&(as=null),Oo=0,is=!1,25<=i)throw Error(N(301));if(i+=1,kt=st=null,n.updateQueue!=null){var a=n.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}q.H=nw,a=t(e,r)}while(is);return a}function Zb(){var n=q.H,t=n.useState()[0];return t=typeof t.then=="function"?rl(t):t,n=n.useState()[0],(st!==null?st.memoizedState:null)!==n&&(j.flags|=1024),t}function zd(){var n=pu!==0;return pu=0,n}function Md(n,t,e){t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~e}function Ud(n){if(yu){for(n=n.memoizedState;n!==null;){var t=n.queue;t!==null&&(t.pending=null),n=n.next}yu=!1}$i=0,kt=st=j=null,is=!1,Oo=pu=0,as=null}function ne(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?j.memoizedState=kt=n:kt=kt.next=n,kt}function Ct(){if(st===null){var n=j.alternate;n=n!==null?n.memoizedState:null}else n=st.next;var t=kt===null?j.memoizedState:kt.next;if(t!==null)kt=t,st=n;else{if(n===null)throw j.alternate===null?Error(N(467)):Error(N(310));st=n,n={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},kt===null?j.memoizedState=kt=n:kt=kt.next=n}return kt}function Ld(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(n){var t=Oo;return Oo+=1,as===null&&(as=[]),n=rv(as,n,t),t=j,(kt===null?t.memoizedState:kt.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?Uv:Lv),n}function vc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return rl(n);if(n.$$typeof===_r)return Ft(n)}throw Error(N(438,String(n)))}function Jd(n){var t=null,e=j.updateQueue;if(e!==null&&(t=e.memoCache),t==null){var r=j.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),e===null&&(e=Ld(),j.updateQueue=e),e.memoCache=t,e=t.data[t.index],e===void 0)for(e=t.data[t.index]=Array(n),r=0;r<n;r++)e[r]=zT;return t.index++,e}function fi(n,t){return typeof t=="function"?t(n):t}function Kl(n){var t=Ct();return qd(t,st,n)}function qd(n,t,e){var r=n.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=n.baseState,i===null)n.memoizedState=a;else{t=i.next;var o=s=null,u=null,c=t,h=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(Q&m)===m:($i&m)===m){var d=c.revertLane;if(d===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===ds&&(h=!0);else if(($i&d)===d){c=c.next,d===ds&&(h=!0);continue}else m={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=m,s=a):u=u.next=m,j.lanes|=d,Yi|=d;m=c.action,va&&e(a,m),a=c.hasEagerState?c.eagerState:e(a,m)}else d={lane:m,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=d,s=a):u=u.next=d,j.lanes|=m,Yi|=m;c=c.next}while(c!==null&&c!==t);if(u===null?s=a:u.next=o,!be(a,n.memoizedState)&&(qt=!0,h&&(e=rs,e!==null)))throw e;n.memoizedState=a,n.baseState=s,n.baseQueue=u,r.lastRenderedState=a}return i===null&&(r.lanes=0),[n.memoizedState,r.dispatch]}function _c(n){var t=Ct(),e=t.queue;if(e===null)throw Error(N(311));e.lastRenderedReducer=n;var r=e.dispatch,i=e.pending,a=t.memoizedState;if(i!==null){e.pending=null;var s=i=i.next;do a=n(a,s.action),s=s.next;while(s!==i);be(a,t.memoizedState)||(qt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),e.lastRenderedState=a}return[a,r]}function lv(n,t,e){var r=j,i=Ct(),a=tt;if(a){if(e===void 0)throw Error(N(407));e=e()}else e=t();var s=!be((st||i).memoizedState,e);s&&(i.memoizedState=e,qt=!0),i=i.queue;var o=fv.bind(null,r,i,n);if(il(2048,8,o,[n]),i.getSnapshot!==t||s||kt!==null&&kt.memoizedState.tag&1){if(r.flags|=2048,ms(9,Sc(),cv.bind(null,r,i,e,t),null),ft===null)throw Error(N(349));a||$i&124||uv(r,t,e)}return e}function uv(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=j.updateQueue,t===null?(t=Ld(),j.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function cv(n,t,e,r){t.value=e,t.getSnapshot=r,hv(t)&&dv(n)}function fv(n,t,e){return e(function(){hv(t)&&dv(n)})}function hv(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!be(n,e)}catch{return!0}}function dv(n){var t=zs(n,2);t!==null&&Te(t,n,2)}function Zf(n){var t=ne();if(typeof n=="function"){var e=n;if(n=e(),va){ki(!0);try{e()}finally{ki(!1)}}}return t.memoizedState=t.baseState=n,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:n},t}function gv(n,t,e,r){return n.baseState=e,qd(n,st,typeof r=="function"?r:fi)}function Qb(n,t,e,r,i){if(Tc(n))throw Error(N(485));if(n=t.action,n!==null){var a={payload:i,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};q.T!==null?e(!0):a.isTransition=!1,r(a),e=t.pending,e===null?(a.next=t.pending=a,mv(t,a)):(a.next=e.next,t.pending=e.next=a)}}function mv(n,t){var e=t.action,r=t.payload,i=n.state;if(t.isTransition){var a=q.T,s={};q.T=s;try{var o=e(i,r),u=q.S;u!==null&&u(s,o),fm(n,t,o)}catch(c){Qf(n,t,c)}finally{q.T=a}}else try{a=e(i,r),fm(n,t,a)}catch(c){Qf(n,t,c)}}function fm(n,t,e){e!==null&&typeof e=="object"&&typeof e.then=="function"?e.then(function(r){hm(n,t,r)},function(r){return Qf(n,t,r)}):hm(n,t,e)}function hm(n,t,e){t.status="fulfilled",t.value=e,yv(t),n.state=e,t=n.pending,t!==null&&(e=t.next,e===t?n.pending=null:(e=e.next,t.next=e,mv(n,e)))}function Qf(n,t,e){var r=n.pending;if(n.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=e,yv(t),t=t.next;while(t!==r)}n.action=null}function yv(n){n=n.listeners;for(var t=0;t<n.length;t++)(0,n[t])()}function pv(n,t){return t}function dm(n,t){if(tt){var e=ft.formState;if(e!==null){t:{var r=j;if(tt){if(Tt){e:{for(var i=Tt,a=hn;i.nodeType!==8;){if(!a){i=null;break e}if(i=rn(i.nextSibling),i===null){i=null;break e}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Tt=rn(i.nextSibling),r=i.data==="F!";break t}}ya(r)}r=!1}r&&(t=e[0])}}return e=ne(),e.memoizedState=e.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pv,lastRenderedState:t},e.queue=r,e=Bv.bind(null,j,r),r.dispatch=e,r=Zf(!1),a=jd.bind(null,j,!1,r.queue),r=ne(),i={state:t,dispatch:null,action:n,pending:null},r.queue=i,e=Qb.bind(null,j,i,a,e),i.dispatch=e,r.memoizedState=n,[t,e,!1]}function gm(n){var t=Ct();return vv(t,st,n)}function vv(n,t,e){if(t=qd(n,t,pv)[0],n=Kl(fi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=rl(t)}catch(s){throw s===nl?pc:s}else r=t;t=Ct();var i=t.queue,a=i.dispatch;return e!==t.memoizedState&&(j.flags|=2048,ms(9,Sc(),_b.bind(null,i,e),null)),[r,a,n]}function _b(n,t){n.action=t}function mm(n){var t=Ct(),e=st;if(e!==null)return vv(t,e,n);Ct(),t=t.memoizedState,e=Ct();var r=e.queue.dispatch;return e.memoizedState=n,[t,r,!1]}function ms(n,t,e,r){return n={tag:n,create:e,deps:r,inst:t,next:null},t=j.updateQueue,t===null&&(t=Ld(),j.updateQueue=t),e=t.lastEffect,e===null?t.lastEffect=n.next=n:(r=e.next,e.next=n,n.next=r,t.lastEffect=n),n}function Sc(){return{destroy:void 0,resource:void 0}}function Sv(){return Ct().memoizedState}function $l(n,t,e,r){var i=ne();r=r===void 0?null:r,j.flags|=n,i.memoizedState=ms(1|t,Sc(),e,r)}function il(n,t,e,r){var i=Ct();r=r===void 0?null:r;var a=i.memoizedState.inst;st!==null&&r!==null&&Rd(r,st.memoizedState.deps)?i.memoizedState=ms(t,a,e,r):(j.flags|=n,i.memoizedState=ms(1|t,a,e,r))}function ym(n,t){$l(8390656,8,n,t)}function Tv(n,t){il(2048,8,n,t)}function bv(n,t){return il(4,2,n,t)}function wv(n,t){return il(4,4,n,t)}function Av(n,t){if(typeof t=="function"){n=n();var e=t(n);return function(){typeof e=="function"?e():t(null)}}if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function Ev(n,t,e){e=e!=null?e.concat([n]):null,il(4,4,Av.bind(null,t,n),e)}function Pd(){}function Nv(n,t){var e=Ct();t=t===void 0?null:t;var r=e.memoizedState;return t!==null&&Rd(t,r[1])?r[0]:(e.memoizedState=[n,t],n)}function xv(n,t){var e=Ct();t=t===void 0?null:t;var r=e.memoizedState;if(t!==null&&Rd(t,r[1]))return r[0];if(r=n(),va){ki(!0);try{n()}finally{ki(!1)}}return e.memoizedState=[r,t],r}function Hd(n,t,e){return e===void 0||$i&1073741824?n.memoizedState=t:(n.memoizedState=e,n=y0(),j.lanes|=n,Yi|=n,e)}function Dv(n,t,e,r){return be(e,t)?e:gs.current!==null?(n=Hd(n,e,r),be(n,t)||(qt=!0),n):$i&42?(n=y0(),j.lanes|=n,Yi|=n,t):(qt=!0,n.memoizedState=e)}function Ov(n,t,e,r,i){var a=et.p;et.p=a!==0&&8>a?a:8;var s=q.T,o={};q.T=o,jd(n,!1,t,e);try{var u=i(),c=q.S;if(c!==null&&c(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=Xb(u,r);uo(n,t,h,Se(n))}else uo(n,t,r,Se(n))}catch(m){uo(n,t,{then:function(){},status:"rejected",reason:m},Se())}finally{et.p=a,q.T=s}}function Wb(){}function _f(n,t,e,r){if(n.tag!==5)throw Error(N(476));var i=kv(n).queue;Ov(n,i,t,la,e===null?Wb:function(){return Cv(n),e(r)})}function kv(n){var t=n.memoizedState;if(t!==null)return t;t={memoizedState:la,baseState:la,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:la},next:null};var e={};return t.next={memoizedState:e,baseState:e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e},next:null},n.memoizedState=t,n=n.alternate,n!==null&&(n.memoizedState=t),t}function Cv(n){var t=kv(n).next.queue;uo(n,t,{},Se())}function Vd(){return Ft(Bo)}function Iv(){return Ct().memoizedState}function Rv(){return Ct().memoizedState}function tw(n){for(var t=n.return;t!==null;){switch(t.tag){case 24:case 3:var e=Se();n=Mi(e);var r=Ui(t,n,e);r!==null&&(Te(r,t,e),so(r,t,e)),t={cache:Od()},n.payload=t;return}t=t.return}}function ew(n,t,e){var r=Se();e={lane:r,revertLane:0,action:e,hasEagerState:!1,eagerState:null,next:null},Tc(n)?zv(t,e):(e=Ed(n,t,e,r),e!==null&&(Te(e,n,r),Mv(e,t,r)))}function Bv(n,t,e){var r=Se();uo(n,t,e,r)}function uo(n,t,e,r){var i={lane:r,revertLane:0,action:e,hasEagerState:!1,eagerState:null,next:null};if(Tc(n))zv(t,i);else{var a=n.alternate;if(n.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,e);if(i.hasEagerState=!0,i.eagerState=o,be(o,s))return yc(n,t,i,0),ft===null&&mc(),!1}catch{}finally{}if(e=Ed(n,t,i,r),e!==null)return Te(e,n,r),Mv(e,t,r),!0}return!1}function jd(n,t,e,r){if(r={lane:2,revertLane:Qd(),action:r,hasEagerState:!1,eagerState:null,next:null},Tc(n)){if(t)throw Error(N(479))}else t=Ed(n,e,r,2),t!==null&&Te(t,n,2)}function Tc(n){var t=n.alternate;return n===j||t!==null&&t===j}function zv(n,t){is=yu=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function Mv(n,t,e){if(e&4194048){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,Np(n,e)}}var vu={readContext:Ft,use:vc,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},Uv={readContext:Ft,use:vc,useCallback:function(n,t){return ne().memoizedState=[n,t===void 0?null:t],n},useContext:Ft,useEffect:ym,useImperativeHandle:function(n,t,e){e=e!=null?e.concat([n]):null,$l(4194308,4,Av.bind(null,t,n),e)},useLayoutEffect:function(n,t){return $l(4194308,4,n,t)},useInsertionEffect:function(n,t){$l(4,2,n,t)},useMemo:function(n,t){var e=ne();t=t===void 0?null:t;var r=n();if(va){ki(!0);try{n()}finally{ki(!1)}}return e.memoizedState=[r,t],r},useReducer:function(n,t,e){var r=ne();if(e!==void 0){var i=e(t);if(va){ki(!0);try{e(t)}finally{ki(!1)}}}else i=t;return r.memoizedState=r.baseState=i,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},r.queue=n,n=n.dispatch=ew.bind(null,j,n),[r.memoizedState,n]},useRef:function(n){var t=ne();return n={current:n},t.memoizedState=n},useState:function(n){n=Zf(n);var t=n.queue,e=Bv.bind(null,j,t);return t.dispatch=e,[n.memoizedState,e]},useDebugValue:Pd,useDeferredValue:function(n,t){var e=ne();return Hd(e,n,t)},useTransition:function(){var n=Zf(!1);return n=Ov.bind(null,j,n.queue,!0,!1),ne().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,t,e){var r=j,i=ne();if(tt){if(e===void 0)throw Error(N(407));e=e()}else{if(e=t(),ft===null)throw Error(N(349));Q&124||uv(r,t,e)}i.memoizedState=e;var a={value:e,getSnapshot:t};return i.queue=a,ym(fv.bind(null,r,a,n),[n]),r.flags|=2048,ms(9,Sc(),cv.bind(null,r,a,e,t),null),e},useId:function(){var n=ne(),t=ft.identifierPrefix;if(tt){var e=ti,r=Wr;e=(r&~(1<<32-ve(r)-1)).toString(32)+e,t="«"+t+"R"+e,e=pu++,0<e&&(t+="H"+e.toString(32)),t+="»"}else e=Fb++,t="«"+t+"r"+e.toString(32)+"»";return n.memoizedState=t},useHostTransitionStatus:Vd,useFormState:dm,useActionState:dm,useOptimistic:function(n){var t=ne();t.memoizedState=t.baseState=n;var e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=e,t=jd.bind(null,j,!0,e),e.dispatch=t,[n,t]},useMemoCache:Jd,useCacheRefresh:function(){return ne().memoizedState=tw.bind(null,j)}},Lv={readContext:Ft,use:vc,useCallback:Nv,useContext:Ft,useEffect:Tv,useImperativeHandle:Ev,useInsertionEffect:bv,useLayoutEffect:wv,useMemo:xv,useReducer:Kl,useRef:Sv,useState:function(){return Kl(fi)},useDebugValue:Pd,useDeferredValue:function(n,t){var e=Ct();return Dv(e,st.memoizedState,n,t)},useTransition:function(){var n=Kl(fi)[0],t=Ct().memoizedState;return[typeof n=="boolean"?n:rl(n),t]},useSyncExternalStore:lv,useId:Iv,useHostTransitionStatus:Vd,useFormState:gm,useActionState:gm,useOptimistic:function(n,t){var e=Ct();return gv(e,st,n,t)},useMemoCache:Jd,useCacheRefresh:Rv},nw={readContext:Ft,use:vc,useCallback:Nv,useContext:Ft,useEffect:Tv,useImperativeHandle:Ev,useInsertionEffect:bv,useLayoutEffect:wv,useMemo:xv,useReducer:_c,useRef:Sv,useState:function(){return _c(fi)},useDebugValue:Pd,useDeferredValue:function(n,t){var e=Ct();return st===null?Hd(e,n,t):Dv(e,st.memoizedState,n,t)},useTransition:function(){var n=_c(fi)[0],t=Ct().memoizedState;return[typeof n=="boolean"?n:rl(n),t]},useSyncExternalStore:lv,useId:Iv,useHostTransitionStatus:Vd,useFormState:mm,useActionState:mm,useOptimistic:function(n,t){var e=Ct();return st!==null?gv(e,st,n,t):(e.baseState=n,[n,e.queue.dispatch])},useMemoCache:Jd,useCacheRefresh:Rv},ss=null,ko=0;function El(n){var t=ko;return ko+=1,ss===null&&(ss=[]),rv(ss,n,t)}function Vs(n,t){t=t.props.ref,n.ref=t!==void 0?t:null}function Nl(n,t){throw t.$$typeof===RT?Error(N(525)):(n=Object.prototype.toString.call(t),Error(N(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n)))}function pm(n){var t=n._init;return t(n._payload)}function Jv(n){function t(p,y){if(n){var v=p.deletions;v===null?(p.deletions=[y],p.flags|=16):v.push(y)}}function e(p,y){if(!n)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function r(p){for(var y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function i(p,y){return p=si(p,y),p.index=0,p.sibling=null,p}function a(p,y,v){return p.index=v,n?(v=p.alternate,v!==null?(v=v.index,v<y?(p.flags|=67108866,y):v):(p.flags|=67108866,y)):(p.flags|=1048576,y)}function s(p){return n&&p.alternate===null&&(p.flags|=67108866),p}function o(p,y,v,w){return y===null||y.tag!==6?(y=Fc(v,p.mode,w),y.return=p,y):(y=i(y,v),y.return=p,y)}function u(p,y,v,w){var k=v.type;return k===Ha?h(p,y,v.props.children,w,v.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ai&&pm(k)===y.type)?(y=i(y,v.props),Vs(y,v),y.return=p,y):(y=Vl(v.type,v.key,v.props,null,p.mode,w),Vs(y,v),y.return=p,y)}function c(p,y,v,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Zc(v,p.mode,w),y.return=p,y):(y=i(y,v.children||[]),y.return=p,y)}function h(p,y,v,w,k){return y===null||y.tag!==7?(y=ua(v,p.mode,w,k),y.return=p,y):(y=i(y,v),y.return=p,y)}function m(p,y,v){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Fc(""+y,p.mode,v),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case pl:return v=Vl(y.type,y.key,y.props,null,p.mode,v),Vs(v,y),v.return=p,v;case Xs:return y=Zc(y,p.mode,v),y.return=p,y;case Ai:var w=y._init;return y=w(y._payload),m(p,y,v)}if(Fs(y)||Js(y))return y=ua(y,p.mode,v,null),y.return=p,y;if(typeof y.then=="function")return m(p,El(y),v);if(y.$$typeof===_r)return m(p,wl(p,y),v);Nl(p,y)}return null}function d(p,y,v,w){var k=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return k!==null?null:o(p,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case pl:return v.key===k?u(p,y,v,w):null;case Xs:return v.key===k?c(p,y,v,w):null;case Ai:return k=v._init,v=k(v._payload),d(p,y,v,w)}if(Fs(v)||Js(v))return k!==null?null:h(p,y,v,w,null);if(typeof v.then=="function")return d(p,y,El(v),w);if(v.$$typeof===_r)return d(p,y,wl(p,v),w);Nl(p,v)}return null}function g(p,y,v,w,k){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return p=p.get(v)||null,o(y,p,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case pl:return p=p.get(w.key===null?v:w.key)||null,u(y,p,w,k);case Xs:return p=p.get(w.key===null?v:w.key)||null,c(y,p,w,k);case Ai:var I=w._init;return w=I(w._payload),g(p,y,v,w,k)}if(Fs(w)||Js(w))return p=p.get(v)||null,h(y,p,w,k,null);if(typeof w.then=="function")return g(p,y,v,El(w),k);if(w.$$typeof===_r)return g(p,y,v,wl(y,w),k);Nl(y,w)}return null}function b(p,y,v,w){for(var k=null,I=null,C=y,R=y=0,P=null;C!==null&&R<v.length;R++){C.index>R?(P=C,C=null):P=C.sibling;var J=d(p,C,v[R],w);if(J===null){C===null&&(C=P);break}n&&C&&J.alternate===null&&t(p,C),y=a(J,y,R),I===null?k=J:I.sibling=J,I=J,C=P}if(R===v.length)return e(p,C),tt&&ea(p,R),k;if(C===null){for(;R<v.length;R++)C=m(p,v[R],w),C!==null&&(y=a(C,y,R),I===null?k=C:I.sibling=C,I=C);return tt&&ea(p,R),k}for(C=r(C);R<v.length;R++)P=g(C,p,R,v[R],w),P!==null&&(n&&P.alternate!==null&&C.delete(P.key===null?R:P.key),y=a(P,y,R),I===null?k=P:I.sibling=P,I=P);return n&&C.forEach(function(Yt){return t(p,Yt)}),tt&&ea(p,R),k}function A(p,y,v,w){if(v==null)throw Error(N(151));for(var k=null,I=null,C=y,R=y=0,P=null,J=v.next();C!==null&&!J.done;R++,J=v.next()){C.index>R?(P=C,C=null):P=C.sibling;var Yt=d(p,C,J.value,w);if(Yt===null){C===null&&(C=P);break}n&&C&&Yt.alternate===null&&t(p,C),y=a(Yt,y,R),I===null?k=Yt:I.sibling=Yt,I=Yt,C=P}if(J.done)return e(p,C),tt&&ea(p,R),k;if(C===null){for(;!J.done;R++,J=v.next())J=m(p,J.value,w),J!==null&&(y=a(J,y,R),I===null?k=J:I.sibling=J,I=J);return tt&&ea(p,R),k}for(C=r(C);!J.done;R++,J=v.next())J=g(C,p,R,J.value,w),J!==null&&(n&&J.alternate!==null&&C.delete(J.key===null?R:J.key),y=a(J,y,R),I===null?k=J:I.sibling=J,I=J);return n&&C.forEach(function(ln){return t(p,ln)}),tt&&ea(p,R),k}function x(p,y,v,w){if(typeof v=="object"&&v!==null&&v.type===Ha&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case pl:t:{for(var k=v.key;y!==null;){if(y.key===k){if(k=v.type,k===Ha){if(y.tag===7){e(p,y.sibling),w=i(y,v.props.children),w.return=p,p=w;break t}}else if(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ai&&pm(k)===y.type){e(p,y.sibling),w=i(y,v.props),Vs(w,v),w.return=p,p=w;break t}e(p,y);break}else t(p,y);y=y.sibling}v.type===Ha?(w=ua(v.props.children,p.mode,w,v.key),w.return=p,p=w):(w=Vl(v.type,v.key,v.props,null,p.mode,w),Vs(w,v),w.return=p,p=w)}return s(p);case Xs:t:{for(k=v.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){e(p,y.sibling),w=i(y,v.children||[]),w.return=p,p=w;break t}else{e(p,y);break}else t(p,y);y=y.sibling}w=Zc(v,p.mode,w),w.return=p,p=w}return s(p);case Ai:return k=v._init,v=k(v._payload),x(p,y,v,w)}if(Fs(v))return b(p,y,v,w);if(Js(v)){if(k=Js(v),typeof k!="function")throw Error(N(150));return v=k.call(v),A(p,y,v,w)}if(typeof v.then=="function")return x(p,y,El(v),w);if(v.$$typeof===_r)return x(p,y,wl(p,v),w);Nl(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,y!==null&&y.tag===6?(e(p,y.sibling),w=i(y,v),w.return=p,p=w):(e(p,y),w=Fc(v,p.mode,w),w.return=p,p=w),s(p)):e(p,y)}return function(p,y,v,w){try{ko=0;var k=x(p,y,v,w);return ss=null,k}catch(C){if(C===nl||C===pc)throw C;var I=ge(29,C,null,p.mode);return I.lanes=w,I.return=p,I}finally{}}}var ys=Jv(!0),qv=Jv(!1),Ge=kn(null),wn=null;function xi(n){var t=n.alternate;yt(zt,zt.current&1),yt(Ge,n),wn===null&&(t===null||gs.current!==null||t.memoizedState!==null)&&(wn=n)}function Pv(n){if(n.tag===22){if(yt(zt,zt.current),yt(Ge,n),wn===null){var t=n.alternate;t!==null&&t.memoizedState!==null&&(wn=n)}}else Di()}function Di(){yt(zt,zt.current),yt(Ge,Ge.current)}function ni(n){Pt(Ge),wn===n&&(wn=null),Pt(zt)}var zt=kn(0);function Su(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||mh(e)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Wc(n,t,e,r){t=n.memoizedState,e=e(r,t),e=e==null?t:ht({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var Wf={enqueueSetState:function(n,t,e){n=n._reactInternals;var r=Se(),i=Mi(r);i.payload=t,e!=null&&(i.callback=e),t=Ui(n,i,r),t!==null&&(Te(t,n,r),so(t,n,r))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var r=Se(),i=Mi(r);i.tag=1,i.payload=t,e!=null&&(i.callback=e),t=Ui(n,i,r),t!==null&&(Te(t,n,r),so(t,n,r))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=Se(),r=Mi(e);r.tag=2,t!=null&&(r.callback=t),t=Ui(n,r,e),t!==null&&(Te(t,n,e),so(t,n,e))}};function vm(n,t,e,r,i,a,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!xo(e,r)||!xo(i,a):!0}function Sm(n,t,e,r){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,r),t.state!==n&&Wf.enqueueReplaceState(t,t.state,null)}function Sa(n,t){var e=t;if("ref"in t){e={};for(var r in t)r!=="ref"&&(e[r]=t[r])}if(n=n.defaultProps){e===t&&(e=ht({},e));for(var i in n)e[i]===void 0&&(e[i]=n[i])}return e}var Tu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Hv(n){Tu(n)}function Vv(n){console.error(n)}function jv(n){Tu(n)}function bu(n,t){try{var e=n.onUncaughtError;e(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Tm(n,t,e){try{var r=n.onCaughtError;r(e.value,{componentStack:e.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function th(n,t,e){return e=Mi(e),e.tag=3,e.payload={element:null},e.callback=function(){bu(n,t)},e}function Kv(n){return n=Mi(n),n.tag=3,n}function $v(n,t,e,r){var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;n.payload=function(){return i(a)},n.callback=function(){Tm(t,e,r)}}var s=e.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Tm(t,e,r),typeof i!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function rw(n,t,e,r,i){if(e.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=e.alternate,t!==null&&tl(t,e,i,!0),e=Ge.current,e!==null){switch(e.tag){case 13:return wn===null?lh():e.alternate===null&&bt===0&&(bt=3),e.flags&=-257,e.flags|=65536,e.lanes=i,r===Gf?e.flags|=16384:(t=e.updateQueue,t===null?e.updateQueue=new Set([r]):t.add(r),ff(n,r,i)),!1;case 22:return e.flags|=65536,r===Gf?e.flags|=16384:(t=e.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},e.updateQueue=t):(e=t.retryQueue,e===null?t.retryQueue=new Set([r]):e.add(r)),ff(n,r,i)),!1}throw Error(N(435,e.tag))}return ff(n,r,i),lh(),!1}if(tt)return t=Ge.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Hf&&(n=Error(N(422),{cause:r}),Do(qe(n,e)))):(r!==Hf&&(t=Error(N(423),{cause:r}),Do(qe(t,e))),n=n.current.alternate,n.flags|=65536,i&=-i,n.lanes|=i,r=qe(r,e),i=th(n.stateNode,r,i),Qc(n,i),bt!==4&&(bt=2)),!1;var a=Error(N(520),{cause:r});if(a=qe(a,e),ho===null?ho=[a]:ho.push(a),bt!==4&&(bt=2),t===null)return!0;r=qe(r,e),e=t;do{switch(e.tag){case 3:return e.flags|=65536,n=i&-i,e.lanes|=n,n=th(e.stateNode,r,n),Qc(e,n),!1;case 1:if(t=e.type,a=e.stateNode,(e.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Li===null||!Li.has(a))))return e.flags|=65536,i&=-i,e.lanes|=i,i=Kv(i),$v(i,n,e,r),Qc(e,i),!1}e=e.return}while(e!==null);return!1}var Gv=Error(N(461)),qt=!1;function Ht(n,t,e,r){t.child=n===null?qv(t,null,e,r):ys(t,n.child,e,r)}function bm(n,t,e,r,i){e=e.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return pa(t),r=Bd(n,t,e,s,a,i),o=zd(),n!==null&&!qt?(Md(n,t,i),hi(n,t,i)):(tt&&o&&xd(t),t.flags|=1,Ht(n,t,r,i),t.child)}function wm(n,t,e,r,i){if(n===null){var a=e.type;return typeof a=="function"&&!Nd(a)&&a.defaultProps===void 0&&e.compare===null?(t.tag=15,t.type=a,Yv(n,t,a,r,i)):(n=Vl(e.type,null,r,t,t.mode,i),n.ref=t.ref,n.return=t,t.child=n)}if(a=n.child,!Kd(n,i)){var s=a.memoizedProps;if(e=e.compare,e=e!==null?e:xo,e(s,r)&&n.ref===t.ref)return hi(n,t,i)}return t.flags|=1,n=si(a,r),n.ref=t.ref,n.return=t,t.child=n}function Yv(n,t,e,r,i){if(n!==null){var a=n.memoizedProps;if(xo(a,r)&&n.ref===t.ref)if(qt=!1,t.pendingProps=r=a,Kd(n,i))n.flags&131072&&(qt=!0);else return t.lanes=n.lanes,hi(n,t,i)}return eh(n,t,e,r,i)}function Xv(n,t,e){var r=t.pendingProps,i=r.children,a=n!==null?n.memoizedState:null;if(r.mode==="hidden"){if(t.flags&128){if(r=a!==null?a.baseLanes|e:e,n!==null){for(i=t.child=n.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Am(n,t,r,e)}if(e&536870912)t.memoizedState={baseLanes:0,cachePool:null},n!==null&&jl(t,a!==null?a.cachePool:null),a!==null?cm(t,a):Ff(),Pv(t);else return t.lanes=t.childLanes=536870912,Am(n,t,a!==null?a.baseLanes|e:e,e)}else a!==null?(jl(t,a.cachePool),cm(t,a),Di(),t.memoizedState=null):(n!==null&&jl(t,null),Ff(),Di());return Ht(n,t,i,e),t.child}function Am(n,t,e,r){var i=kd();return i=i===null?null:{parent:Bt._currentValue,pool:i},t.memoizedState={baseLanes:e,cachePool:i},n!==null&&jl(t,null),Ff(),Pv(t),n!==null&&tl(n,t,r,!0),null}function Gl(n,t){var e=t.ref;if(e===null)n!==null&&n.ref!==null&&(t.flags|=4194816);else{if(typeof e!="function"&&typeof e!="object")throw Error(N(284));(n===null||n.ref!==e)&&(t.flags|=4194816)}}function eh(n,t,e,r,i){return pa(t),e=Bd(n,t,e,r,void 0,i),r=zd(),n!==null&&!qt?(Md(n,t,i),hi(n,t,i)):(tt&&r&&xd(t),t.flags|=1,Ht(n,t,e,i),t.child)}function Em(n,t,e,r,i,a){return pa(t),t.updateQueue=null,e=ov(t,r,e,i),sv(n),r=zd(),n!==null&&!qt?(Md(n,t,a),hi(n,t,a)):(tt&&r&&xd(t),t.flags|=1,Ht(n,t,e,a),t.child)}function Nm(n,t,e,r,i){if(pa(t),t.stateNode===null){var a=Fa,s=e.contextType;typeof s=="object"&&s!==null&&(a=Ft(s)),a=new e(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Wf,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Cd(t),s=e.contextType,a.context=typeof s=="object"&&s!==null?Ft(s):Fa,a.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wc(t,e,s,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Wf.enqueueReplaceState(a,a.state,null),lo(t,r,a,i),oo(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(n===null){a=t.stateNode;var o=t.memoizedProps,u=Sa(e,o);a.props=u;var c=a.context,h=e.contextType;s=Fa,typeof h=="object"&&h!==null&&(s=Ft(h));var m=e.getDerivedStateFromProps;h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==s)&&Sm(t,a,r,s),Ei=!1;var d=t.memoizedState;a.state=d,lo(t,r,a,i),oo(),c=t.memoizedState,o||d!==c||Ei?(typeof m=="function"&&(Wc(t,e,m,r),c=t.memoizedState),(u=Ei||vm(t,e,u,r,d,c,s))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=s,r=u):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Yf(n,t),s=t.memoizedProps,h=Sa(e,s),a.props=h,m=t.pendingProps,d=a.context,c=e.contextType,u=Fa,typeof c=="object"&&c!==null&&(u=Ft(c)),o=e.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==m||d!==u)&&Sm(t,a,r,u),Ei=!1,d=t.memoizedState,a.state=d,lo(t,r,a,i),oo();var g=t.memoizedState;s!==m||d!==g||Ei||n!==null&&n.dependencies!==null&&gu(n.dependencies)?(typeof o=="function"&&(Wc(t,e,o,r),g=t.memoizedState),(h=Ei||vm(t,e,h,r,d,g,u)||n!==null&&n.dependencies!==null&&gu(n.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===n.memoizedProps&&d===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&d===n.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=u,r=h):(typeof a.componentDidUpdate!="function"||s===n.memoizedProps&&d===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&d===n.memoizedState||(t.flags|=1024),r=!1)}return a=r,Gl(n,t),r=(t.flags&128)!==0,a||r?(a=t.stateNode,e=r&&typeof e.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,n!==null&&r?(t.child=ys(t,n.child,null,i),t.child=ys(t,null,e,i)):Ht(n,t,e,i),t.memoizedState=a.state,n=t.child):n=hi(n,t,i),n}function xm(n,t,e,r){return Wo(),t.flags|=256,Ht(n,t,e,r),t.child}var tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ef(n){return{baseLanes:n,cachePool:ev()}}function nf(n,t,e){return n=n!==null?n.childLanes&~e:0,t&&(n|=Pe),n}function Fv(n,t,e){var r=t.pendingProps,i=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=n!==null&&n.memoizedState===null?!1:(zt.current&2)!==0),s&&(i=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,n===null){if(tt){if(i?xi(t):Di(),tt){var o=Tt,u;if(u=o){t:{for(u=o,o=hn;u.nodeType!==8;){if(!o){o=null;break t}if(u=rn(u.nextSibling),u===null){o=null;break t}}o=u}o!==null?(t.memoizedState={dehydrated:o,treeContext:ca!==null?{id:Wr,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},u=ge(18,null,null,0),u.stateNode=o,u.return=t,t.child=u,Wt=t,Tt=null,u=!0):u=!1}u||ya(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return mh(o)?t.lanes=32:t.lanes=536870912,null;ni(t)}return o=r.children,r=r.fallback,i?(Di(),i=t.mode,o=wu({mode:"hidden",children:o},i),r=ua(r,i,e,null),o.return=t,r.return=t,o.sibling=r,t.child=o,i=t.child,i.memoizedState=ef(e),i.childLanes=nf(n,s,e),t.memoizedState=tf,r):(xi(t),nh(t,o))}if(u=n.memoizedState,u!==null&&(o=u.dehydrated,o!==null)){if(a)t.flags&256?(xi(t),t.flags&=-257,t=rf(n,t,e)):t.memoizedState!==null?(Di(),t.child=n.child,t.flags|=128,t=null):(Di(),i=r.fallback,o=t.mode,r=wu({mode:"visible",children:r.children},o),i=ua(i,o,e,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,ys(t,n.child,null,e),r=t.child,r.memoizedState=ef(e),r.childLanes=nf(n,s,e),t.memoizedState=tf,t=i);else if(xi(t),mh(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,r=Error(N(419)),r.stack="",r.digest=s,Do({value:r,source:null,stack:null}),t=rf(n,t,e)}else if(qt||tl(n,t,e,!1),s=(e&n.childLanes)!==0,qt||s){if(s=ft,s!==null&&(r=e&-e,r=r&42?1:gd(r),r=r&(s.suspendedLanes|e)?0:r,r!==0&&r!==u.retryLane))throw u.retryLane=r,zs(n,r),Te(s,n,r),Gv;o.data==="$?"||lh(),t=rf(n,t,e)}else o.data==="$?"?(t.flags|=192,t.child=n.child,t=null):(n=u.treeContext,Tt=rn(o.nextSibling),Wt=t,tt=!0,fa=null,hn=!1,n!==null&&(xe[De++]=Wr,xe[De++]=ti,xe[De++]=ca,Wr=n.id,ti=n.overflow,ca=t),t=nh(t,r.children),t.flags|=4096);return t}return i?(Di(),i=r.fallback,o=t.mode,u=n.child,c=u.sibling,r=si(u,{mode:"hidden",children:r.children}),r.subtreeFlags=u.subtreeFlags&65011712,c!==null?i=si(c,i):(i=ua(i,o,e,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=n.child.memoizedState,o===null?o=ef(e):(u=o.cachePool,u!==null?(c=Bt._currentValue,u=u.parent!==c?{parent:c,pool:c}:u):u=ev(),o={baseLanes:o.baseLanes|e,cachePool:u}),i.memoizedState=o,i.childLanes=nf(n,s,e),t.memoizedState=tf,r):(xi(t),e=n.child,n=e.sibling,e=si(e,{mode:"visible",children:r.children}),e.return=t,e.sibling=null,n!==null&&(s=t.deletions,s===null?(t.deletions=[n],t.flags|=16):s.push(n)),t.child=e,t.memoizedState=null,e)}function nh(n,t){return t=wu({mode:"visible",children:t},n.mode),t.return=n,n.child=t}function wu(n,t){return n=ge(22,n,null,t),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function rf(n,t,e){return ys(t,n.child,null,e),n=nh(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function Dm(n,t,e){n.lanes|=t;var r=n.alternate;r!==null&&(r.lanes|=t),jf(n.return,t,e)}function af(n,t,e,r,i){var a=n.memoizedState;a===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:e,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=e,a.tailMode=i)}function Zv(n,t,e){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ht(n,t,r.children,e),r=zt.current,r&2)r=r&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Dm(n,e,t);else if(n.tag===19)Dm(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}switch(yt(zt,r),i){case"forwards":for(e=t.child,i=null;e!==null;)n=e.alternate,n!==null&&Su(n)===null&&(i=e),e=e.sibling;e=i,e===null?(i=t.child,t.child=null):(i=e.sibling,e.sibling=null),af(t,!1,i,e,a);break;case"backwards":for(e=null,i=t.child,t.child=null;i!==null;){if(n=i.alternate,n!==null&&Su(n)===null){t.child=i;break}n=i.sibling,i.sibling=e,e=i,i=n}af(t,!0,e,null,a);break;case"together":af(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hi(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),Yi|=t.lanes,!(e&t.childLanes))if(n!==null){if(tl(n,t,e,!1),(e&t.childLanes)===0)return null}else return null;if(n!==null&&t.child!==n.child)throw Error(N(153));if(t.child!==null){for(n=t.child,e=si(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=si(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function Kd(n,t){return n.lanes&t?!0:(n=n.dependencies,!!(n!==null&&gu(n)))}function iw(n,t,e){switch(t.tag){case 3:su(t,t.stateNode.containerInfo),Ni(t,Bt,n.memoizedState.cache),Wo();break;case 27:case 5:If(t);break;case 4:su(t,t.stateNode.containerInfo);break;case 10:Ni(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(xi(t),t.flags|=128,null):e&t.child.childLanes?Fv(n,t,e):(xi(t),n=hi(n,t,e),n!==null?n.sibling:null);xi(t);break;case 19:var i=(n.flags&128)!==0;if(r=(e&t.childLanes)!==0,r||(tl(n,t,e,!1),r=(e&t.childLanes)!==0),i){if(r)return Zv(n,t,e);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yt(zt,zt.current),r)break;return null;case 22:case 23:return t.lanes=0,Xv(n,t,e);case 24:Ni(t,Bt,n.memoizedState.cache)}return hi(n,t,e)}function Qv(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps)qt=!0;else{if(!Kd(n,e)&&!(t.flags&128))return qt=!1,iw(n,t,e);qt=!!(n.flags&131072)}else qt=!1,tt&&t.flags&1048576&&Wp(t,du,t.index);switch(t.lanes=0,t.tag){case 16:t:{n=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,typeof r=="function")Nd(r)?(n=Sa(r,n),t.tag=1,t=Nm(null,t,r,n,e)):(t.tag=0,t=eh(null,t,r,n,e));else{if(r!=null){if(i=r.$$typeof,i===fd){t.tag=11,t=bm(null,t,r,n,e);break t}else if(i===hd){t.tag=14,t=wm(null,t,r,n,e);break t}}throw t=kf(r)||r,Error(N(306,t,""))}}return t;case 0:return eh(n,t,t.type,t.pendingProps,e);case 1:return r=t.type,i=Sa(r,t.pendingProps),Nm(n,t,r,i,e);case 3:t:{if(su(t,t.stateNode.containerInfo),n===null)throw Error(N(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,Yf(n,t),lo(t,r,null,e);var s=t.memoizedState;if(r=s.cache,Ni(t,Bt,r),r!==a.cache&&Kf(t,[Bt],e,!0),oo(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=xm(n,t,r,e);break t}else if(r!==i){i=qe(Error(N(424)),t),Do(i),t=xm(n,t,r,e);break t}else{switch(n=t.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Tt=rn(n.firstChild),Wt=t,tt=!0,fa=null,hn=!0,e=qv(t,null,r,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling}else{if(Wo(),r===i){t=hi(n,t,e);break t}Ht(n,t,r,e)}t=t.child}return t;case 26:return Gl(n,t),n===null?(e=Km(t.type,null,t.pendingProps,null))?t.memoizedState=e:tt||(e=t.type,n=t.pendingProps,r=ku(zi.current).createElement(e),r[Xt]=t,r[le]=n,$t(r,e,n),Jt(r),t.stateNode=r):t.memoizedState=Km(t.type,n.memoizedProps,t.pendingProps,n.memoizedState),null;case 27:return If(t),n===null&&tt&&(r=t.stateNode=L0(t.type,t.pendingProps,zi.current),Wt=t,hn=!0,i=Tt,Zi(t.type)?(yh=i,Tt=rn(r.firstChild)):Tt=i),Ht(n,t,t.pendingProps.children,e),Gl(n,t),n===null&&(t.flags|=4194304),t.child;case 5:return n===null&&tt&&((i=r=Tt)&&(r=Rw(r,t.type,t.pendingProps,hn),r!==null?(t.stateNode=r,Wt=t,Tt=rn(r.firstChild),hn=!1,i=!0):i=!1),i||ya(t)),If(t),i=t.type,a=t.pendingProps,s=n!==null?n.memoizedProps:null,r=a.children,dh(i,a)?r=null:s!==null&&dh(i,s)&&(t.flags|=32),t.memoizedState!==null&&(i=Bd(n,t,Zb,null,null,e),Bo._currentValue=i),Gl(n,t),Ht(n,t,r,e),t.child;case 6:return n===null&&tt&&((n=e=Tt)&&(e=Bw(e,t.pendingProps,hn),e!==null?(t.stateNode=e,Wt=t,Tt=null,n=!0):n=!1),n||ya(t)),null;case 13:return Fv(n,t,e);case 4:return su(t,t.stateNode.containerInfo),r=t.pendingProps,n===null?t.child=ys(t,null,r,e):Ht(n,t,r,e),t.child;case 11:return bm(n,t,t.type,t.pendingProps,e);case 7:return Ht(n,t,t.pendingProps,e),t.child;case 8:return Ht(n,t,t.pendingProps.children,e),t.child;case 12:return Ht(n,t,t.pendingProps.children,e),t.child;case 10:return r=t.pendingProps,Ni(t,t.type,r.value),Ht(n,t,r.children,e),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,pa(t),i=Ft(i),r=r(i),t.flags|=1,Ht(n,t,r,e),t.child;case 14:return wm(n,t,t.type,t.pendingProps,e);case 15:return Yv(n,t,t.type,t.pendingProps,e);case 19:return Zv(n,t,e);case 31:return r=t.pendingProps,e=t.mode,r={mode:r.mode,children:r.children},n===null?(e=wu(r,e),e.ref=t.ref,t.child=e,e.return=t,t=e):(e=si(n.child,r),e.ref=t.ref,t.child=e,e.return=t,t=e),t;case 22:return Xv(n,t,e);case 24:return pa(t),r=Ft(Bt),n===null?(i=kd(),i===null&&(i=ft,a=Od(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=e),i=a),t.memoizedState={parent:r,cache:i},Cd(t),Ni(t,Bt,i)):(n.lanes&e&&(Yf(n,t),lo(t,null,null,e),oo()),i=n.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Ni(t,Bt,r)):(r=a.cache,Ni(t,Bt,r),r!==i.cache&&Kf(t,[Bt],e,!0))),Ht(n,t,t.pendingProps.children,e),t.child;case 29:throw t.pendingProps}throw Error(N(156,t.tag))}function Rn(n){n.flags|=4}function Om(n,t){if(t.type!=="stylesheet"||t.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!P0(t)){if(t=Ge.current,t!==null&&((Q&4194048)===Q?wn!==null:(Q&62914560)!==Q&&!(Q&536870912)||t!==wn))throw ao=Gf,nv;n.flags|=8192}}function xl(n,t){t!==null&&(n.flags|=4),n.flags&16384&&(t=n.tag!==22?Ap():536870912,n.lanes|=t,ps|=t)}function js(n,t){if(!tt)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function pt(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,r=0;if(t)for(var i=n.child;i!==null;)e|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)e|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=e,t}function aw(n,t,e){var r=t.pendingProps;switch(Dd(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return pt(t),null;case 3:return e=t.stateNode,r=null,n!==null&&(r=n.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),oi(Bt),cs(),e.pendingContext&&(e.context=e.pendingContext,e.pendingContext=null),(n===null||n.child===null)&&(Hs(t)?Rn(t):n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,im())),pt(t),null;case 26:return e=t.memoizedState,n===null?(Rn(t),e!==null?(pt(t),Om(t,e)):(pt(t),t.flags&=-16777217)):e?e!==n.memoizedState?(Rn(t),pt(t),Om(t,e)):(pt(t),t.flags&=-16777217):(n.memoizedProps!==r&&Rn(t),pt(t),t.flags&=-16777217),null;case 27:ou(t),e=zi.current;var i=t.type;if(n!==null&&t.stateNode!=null)n.memoizedProps!==r&&Rn(t);else{if(!r){if(t.stateNode===null)throw Error(N(166));return pt(t),null}n=Tn.current,Hs(t)?nm(t):(n=L0(i,r,e),t.stateNode=n,Rn(t))}return pt(t),null;case 5:if(ou(t),e=t.type,n!==null&&t.stateNode!=null)n.memoizedProps!==r&&Rn(t);else{if(!r){if(t.stateNode===null)throw Error(N(166));return pt(t),null}if(n=Tn.current,Hs(t))nm(t);else{switch(i=ku(zi.current),n){case 1:n=i.createElementNS("http://www.w3.org/2000/svg",e);break;case 2:n=i.createElementNS("http://www.w3.org/1998/Math/MathML",e);break;default:switch(e){case"svg":n=i.createElementNS("http://www.w3.org/2000/svg",e);break;case"math":n=i.createElementNS("http://www.w3.org/1998/Math/MathML",e);break;case"script":n=i.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?n.multiple=!0:r.size&&(n.size=r.size);break;default:n=typeof r.is=="string"?i.createElement(e,{is:r.is}):i.createElement(e)}}n[Xt]=t,n[le]=r;t:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)n.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=n;t:switch($t(n,e,r),e){case"button":case"input":case"select":case"textarea":n=!!r.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Rn(t)}}return pt(t),t.flags&=-16777217,null;case 6:if(n&&t.stateNode!=null)n.memoizedProps!==r&&Rn(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=zi.current,Hs(t)){if(n=t.stateNode,e=t.memoizedProps,r=null,i=Wt,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}n[Xt]=t,n=!!(n.nodeValue===e||r!==null&&r.suppressHydrationWarning===!0||z0(n.nodeValue,e)),n||ya(t)}else n=ku(n).createTextNode(r),n[Xt]=t,t.stateNode=n}return pt(t),null;case 13:if(r=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(i=Hs(t),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[Xt]=t}else Wo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pt(t),i=!1}else i=im(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(ni(t),t):(ni(t),null)}if(ni(t),t.flags&128)return t.lanes=e,t;if(e=r!==null,n=n!==null&&n.memoizedState!==null,e){r=t.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return e!==n&&e&&(t.child.flags|=8192),xl(t,t.updateQueue),pt(t),null;case 4:return cs(),n===null&&_d(t.stateNode.containerInfo),pt(t),null;case 10:return oi(t.type),pt(t),null;case 19:if(Pt(zt),i=t.memoizedState,i===null)return pt(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)js(i,!1);else{if(bt!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(a=Su(n),a!==null){for(t.flags|=128,js(i,!1),n=a.updateQueue,t.updateQueue=n,xl(t,n),t.subtreeFlags=0,n=e,e=t.child;e!==null;)_p(e,n),e=e.sibling;return yt(zt,zt.current&1|2),t.child}n=n.sibling}i.tail!==null&&bn()>Eu&&(t.flags|=128,r=!0,js(i,!1),t.lanes=4194304)}else{if(!r)if(n=Su(a),n!==null){if(t.flags|=128,r=!0,n=n.updateQueue,t.updateQueue=n,xl(t,n),js(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!tt)return pt(t),null}else 2*bn()-i.renderingStartTime>Eu&&e!==536870912&&(t.flags|=128,r=!0,js(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=bn(),t.sibling=null,n=zt.current,yt(zt,r?n&1|2:n&1),t):(pt(t),null);case 22:case 23:return ni(t),Id(),r=t.memoizedState!==null,n!==null?n.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?e&536870912&&!(t.flags&128)&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),e=t.updateQueue,e!==null&&xl(t,e.retryQueue),e=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==e&&(t.flags|=2048),n!==null&&Pt(ha),null;case 24:return e=null,n!==null&&(e=n.memoizedState.cache),t.memoizedState.cache!==e&&(t.flags|=2048),oi(Bt),pt(t),null;case 25:return null;case 30:return null}throw Error(N(156,t.tag))}function sw(n,t){switch(Dd(t),t.tag){case 1:return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return oi(Bt),cs(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 26:case 27:case 5:return ou(t),null;case 13:if(ni(t),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Wo()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return Pt(zt),null;case 4:return cs(),null;case 10:return oi(t.type),null;case 22:case 23:return ni(t),Id(),n!==null&&Pt(ha),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 24:return oi(Bt),null;case 25:return null;default:return null}}function _v(n,t){switch(Dd(t),t.tag){case 3:oi(Bt),cs();break;case 26:case 27:case 5:ou(t);break;case 4:cs();break;case 13:ni(t);break;case 19:Pt(zt);break;case 10:oi(t.type);break;case 22:case 23:ni(t),Id(),n!==null&&Pt(ha);break;case 24:oi(Bt)}}function al(n,t){try{var e=t.updateQueue,r=e!==null?e.lastEffect:null;if(r!==null){var i=r.next;e=i;do{if((e.tag&n)===n){r=void 0;var a=e.create,s=e.inst;r=a(),s.destroy=r}e=e.next}while(e!==i)}}catch(o){ut(t,t.return,o)}}function Gi(n,t,e){try{var r=t.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&n)===n){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=t;var u=e,c=o;try{c()}catch(h){ut(i,u,h)}}}r=r.next}while(r!==a)}}catch(h){ut(t,t.return,h)}}function Wv(n){var t=n.updateQueue;if(t!==null){var e=n.stateNode;try{av(t,e)}catch(r){ut(n,n.return,r)}}}function t0(n,t,e){e.props=Sa(n.type,n.memoizedProps),e.state=n.memoizedState;try{e.componentWillUnmount()}catch(r){ut(n,t,r)}}function co(n,t){try{var e=n.ref;if(e!==null){switch(n.tag){case 26:case 27:case 5:var r=n.stateNode;break;case 30:r=n.stateNode;break;default:r=n.stateNode}typeof e=="function"?n.refCleanup=e(r):e.current=r}}catch(i){ut(n,t,i)}}function gn(n,t){var e=n.ref,r=n.refCleanup;if(e!==null)if(typeof r=="function")try{r()}catch(i){ut(n,t,i)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof e=="function")try{e(null)}catch(i){ut(n,t,i)}else e.current=null}function e0(n){var t=n.type,e=n.memoizedProps,r=n.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":e.autoFocus&&r.focus();break t;case"img":e.src?r.src=e.src:e.srcSet&&(r.srcset=e.srcSet)}}catch(i){ut(n,n.return,i)}}function sf(n,t,e){try{var r=n.stateNode;Dw(r,n.type,e,t),r[le]=t}catch(i){ut(n,n.return,i)}}function n0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Zi(n.type)||n.tag===4}function of(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||n0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Zi(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function rh(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e).insertBefore(n,t):(t=e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,t.appendChild(n),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=Ec));else if(r!==4&&(r===27&&Zi(n.type)&&(e=n.stateNode,t=null),n=n.child,n!==null))for(rh(n,t,e),n=n.sibling;n!==null;)rh(n,t,e),n=n.sibling}function Au(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(r!==4&&(r===27&&Zi(n.type)&&(e=n.stateNode),n=n.child,n!==null))for(Au(n,t,e),n=n.sibling;n!==null;)Au(n,t,e),n=n.sibling}function r0(n){var t=n.stateNode,e=n.memoizedProps;try{for(var r=n.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);$t(t,r,e),t[Xt]=n,t[le]=e}catch(a){ut(n,n.return,a)}}var Fr=!1,xt=!1,lf=!1,km=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function ow(n,t){if(n=n.containerInfo,fh=Bu,n=Kp(n),wd(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else t:{e=(e=n.ownerDocument)&&e.defaultView||window;var r=e.getSelection&&e.getSelection();if(r&&r.rangeCount!==0){e=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{e.nodeType,a.nodeType}catch{e=null;break t}var s=0,o=-1,u=-1,c=0,h=0,m=n,d=null;e:for(;;){for(var g;m!==e||i!==0&&m.nodeType!==3||(o=s+i),m!==a||r!==0&&m.nodeType!==3||(u=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(g=m.firstChild)!==null;)d=m,m=g;for(;;){if(m===n)break e;if(d===e&&++c===i&&(o=s),d===a&&++h===r&&(u=s),(g=m.nextSibling)!==null)break;m=d,d=m.parentNode}m=g}e=o===-1||u===-1?null:{start:o,end:u}}else e=null}e=e||{start:0,end:0}}else e=null;for(hh={focusedElem:n,selectionRange:e},Bu=!1,Lt=t;Lt!==null;)if(t=Lt,n=t.child,(t.subtreeFlags&1024)!==0&&n!==null)n.return=t,Lt=n;else for(;Lt!==null;){switch(t=Lt,a=t.alternate,n=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&a!==null){n=void 0,e=t,i=a.memoizedProps,a=a.memoizedState,r=e.stateNode;try{var b=Sa(e.type,i,e.elementType===e.type);n=r.getSnapshotBeforeUpdate(b,a),r.__reactInternalSnapshotBeforeUpdate=n}catch(A){ut(e,e.return,A)}}break;case 3:if(n&1024){if(n=t.stateNode.containerInfo,e=n.nodeType,e===9)gh(n);else if(e===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":gh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(N(163))}if(n=t.sibling,n!==null){n.return=t.return,Lt=n;break}Lt=t.return}}function i0(n,t,e){var r=e.flags;switch(e.tag){case 0:case 11:case 15:Si(n,e),r&4&&al(5,e);break;case 1:if(Si(n,e),r&4)if(n=e.stateNode,t===null)try{n.componentDidMount()}catch(s){ut(e,e.return,s)}else{var i=Sa(e.type,t.memoizedProps);t=t.memoizedState;try{n.componentDidUpdate(i,t,n.__reactInternalSnapshotBeforeUpdate)}catch(s){ut(e,e.return,s)}}r&64&&Wv(e),r&512&&co(e,e.return);break;case 3:if(Si(n,e),r&64&&(n=e.updateQueue,n!==null)){if(t=null,e.child!==null)switch(e.child.tag){case 27:case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}try{av(n,t)}catch(s){ut(e,e.return,s)}}break;case 27:t===null&&r&4&&r0(e);case 26:case 5:Si(n,e),t===null&&r&4&&e0(e),r&512&&co(e,e.return);break;case 12:Si(n,e);break;case 13:Si(n,e),r&4&&o0(n,e),r&64&&(n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(e=yw.bind(null,e),zw(n,e))));break;case 22:if(r=e.memoizedState!==null||Fr,!r){t=t!==null&&t.memoizedState!==null||xt,i=Fr;var a=xt;Fr=r,(xt=t)&&!a?bi(n,e,(e.subtreeFlags&8772)!==0):Si(n,e),Fr=i,xt=a}break;case 30:break;default:Si(n,e)}}function a0(n){var t=n.alternate;t!==null&&(n.alternate=null,a0(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&yd(t)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var dt=null,re=!1;function Bn(n,t,e){for(e=e.child;e!==null;)s0(n,t,e),e=e.sibling}function s0(n,t,e){if(pe&&typeof pe.onCommitFiberUnmount=="function")try{pe.onCommitFiberUnmount(Xo,e)}catch{}switch(e.tag){case 26:xt||gn(e,t),Bn(n,t,e),e.memoizedState?e.memoizedState.count--:e.stateNode&&(e=e.stateNode,e.parentNode.removeChild(e));break;case 27:xt||gn(e,t);var r=dt,i=re;Zi(e.type)&&(dt=e.stateNode,re=!1),Bn(n,t,e),mo(e.stateNode),dt=r,re=i;break;case 5:xt||gn(e,t);case 6:if(r=dt,i=re,dt=null,Bn(n,t,e),dt=r,re=i,dt!==null)if(re)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(e.stateNode)}catch(a){ut(e,t,a)}else try{dt.removeChild(e.stateNode)}catch(a){ut(e,t,a)}break;case 18:dt!==null&&(re?(n=dt,Hm(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.stateNode),Uo(n)):Hm(dt,e.stateNode));break;case 4:r=dt,i=re,dt=e.stateNode.containerInfo,re=!0,Bn(n,t,e),dt=r,re=i;break;case 0:case 11:case 14:case 15:xt||Gi(2,e,t),xt||Gi(4,e,t),Bn(n,t,e);break;case 1:xt||(gn(e,t),r=e.stateNode,typeof r.componentWillUnmount=="function"&&t0(e,t,r)),Bn(n,t,e);break;case 21:Bn(n,t,e);break;case 22:xt=(r=xt)||e.memoizedState!==null,Bn(n,t,e),xt=r;break;default:Bn(n,t,e)}}function o0(n,t){if(t.memoizedState===null&&(n=t.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Uo(n)}catch(e){ut(t,t.return,e)}}function lw(n){switch(n.tag){case 13:case 19:var t=n.stateNode;return t===null&&(t=n.stateNode=new km),t;case 22:return n=n.stateNode,t=n._retryCache,t===null&&(t=n._retryCache=new km),t;default:throw Error(N(435,n.tag))}}function uf(n,t){var e=lw(n);t.forEach(function(r){var i=pw.bind(null,n,r);e.has(r)||(e.add(r),r.then(i,i))})}function fe(n,t){var e=t.deletions;if(e!==null)for(var r=0;r<e.length;r++){var i=e[r],a=n,s=t,o=s;t:for(;o!==null;){switch(o.tag){case 27:if(Zi(o.type)){dt=o.stateNode,re=!1;break t}break;case 5:dt=o.stateNode,re=!1;break t;case 3:case 4:dt=o.stateNode.containerInfo,re=!0;break t}o=o.return}if(dt===null)throw Error(N(160));s0(a,s,i),dt=null,re=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)l0(t,n),t=t.sibling}var _e=null;function l0(n,t){var e=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:fe(t,n),he(n),r&4&&(Gi(3,n,n.return),al(3,n),Gi(5,n,n.return));break;case 1:fe(t,n),he(n),r&512&&(xt||e===null||gn(e,e.return)),r&64&&Fr&&(n=n.updateQueue,n!==null&&(r=n.callbacks,r!==null&&(e=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=e===null?r:e.concat(r))));break;case 26:var i=_e;if(fe(t,n),he(n),r&512&&(xt||e===null||gn(e,e.return)),r&4){var a=e!==null?e.memoizedState:null;if(r=n.memoizedState,e===null)if(r===null)if(n.stateNode===null){t:{r=n.type,e=n.memoizedProps,i=i.ownerDocument||i;e:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Qo]||a[Xt]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),$t(a,r,e),a[Xt]=n,Jt(a),r=a;break t;case"link":var s=Gm("link","href",i).get(r+(e.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(e.href==null||e.href===""?null:e.href)&&a.getAttribute("rel")===(e.rel==null?null:e.rel)&&a.getAttribute("title")===(e.title==null?null:e.title)&&a.getAttribute("crossorigin")===(e.crossOrigin==null?null:e.crossOrigin)){s.splice(o,1);break e}}a=i.createElement(r),$t(a,r,e),i.head.appendChild(a);break;case"meta":if(s=Gm("meta","content",i).get(r+(e.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(e.content==null?null:""+e.content)&&a.getAttribute("name")===(e.name==null?null:e.name)&&a.getAttribute("property")===(e.property==null?null:e.property)&&a.getAttribute("http-equiv")===(e.httpEquiv==null?null:e.httpEquiv)&&a.getAttribute("charset")===(e.charSet==null?null:e.charSet)){s.splice(o,1);break e}}a=i.createElement(r),$t(a,r,e),i.head.appendChild(a);break;default:throw Error(N(468,r))}a[Xt]=n,Jt(a),r=a}n.stateNode=r}else Ym(i,n.type,n.stateNode);else n.stateNode=$m(i,r,n.memoizedProps);else a!==r?(a===null?e.stateNode!==null&&(e=e.stateNode,e.parentNode.removeChild(e)):a.count--,r===null?Ym(i,n.type,n.stateNode):$m(i,r,n.memoizedProps)):r===null&&n.stateNode!==null&&sf(n,n.memoizedProps,e.memoizedProps)}break;case 27:fe(t,n),he(n),r&512&&(xt||e===null||gn(e,e.return)),e!==null&&r&4&&sf(n,n.memoizedProps,e.memoizedProps);break;case 5:if(fe(t,n),he(n),r&512&&(xt||e===null||gn(e,e.return)),n.flags&32){i=n.stateNode;try{hs(i,"")}catch(g){ut(n,n.return,g)}}r&4&&n.stateNode!=null&&(i=n.memoizedProps,sf(n,i,e!==null?e.memoizedProps:i)),r&1024&&(lf=!0);break;case 6:if(fe(t,n),he(n),r&4){if(n.stateNode===null)throw Error(N(162));r=n.memoizedProps,e=n.stateNode;try{e.nodeValue=r}catch(g){ut(n,n.return,g)}}break;case 3:if(Fl=null,i=_e,_e=Cu(t.containerInfo),fe(t,n),_e=i,he(n),r&4&&e!==null&&e.memoizedState.isDehydrated)try{Uo(t.containerInfo)}catch(g){ut(n,n.return,g)}lf&&(lf=!1,u0(n));break;case 4:r=_e,_e=Cu(n.stateNode.containerInfo),fe(t,n),he(n),_e=r;break;case 12:fe(t,n),he(n);break;case 13:fe(t,n),he(n),n.child.flags&8192&&n.memoizedState!==null!=(e!==null&&e.memoizedState!==null)&&(Fd=bn()),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,uf(n,r)));break;case 22:i=n.memoizedState!==null;var u=e!==null&&e.memoizedState!==null,c=Fr,h=xt;if(Fr=c||i,xt=h||u,fe(t,n),xt=h,Fr=c,he(n),r&8192)t:for(t=n.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(e===null||u||Fr||xt||na(n)),e=null,t=n;;){if(t.tag===5||t.tag===26){if(e===null){u=e=t;try{if(a=u.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var m=u.memoizedProps.style,d=m!=null&&m.hasOwnProperty("display")?m.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(g){ut(u,u.return,g)}}}else if(t.tag===6){if(e===null){u=t;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(g){ut(u,u.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===n)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;e===t&&(e=null),t=t.return}e===t&&(e=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=n.updateQueue,r!==null&&(e=r.retryQueue,e!==null&&(r.retryQueue=null,uf(n,e))));break;case 19:fe(t,n),he(n),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,uf(n,r)));break;case 30:break;case 21:break;default:fe(t,n),he(n)}}function he(n){var t=n.flags;if(t&2){try{for(var e,r=n.return;r!==null;){if(n0(r)){e=r;break}r=r.return}if(e==null)throw Error(N(160));switch(e.tag){case 27:var i=e.stateNode,a=of(n);Au(n,a,i);break;case 5:var s=e.stateNode;e.flags&32&&(hs(s,""),e.flags&=-33);var o=of(n);Au(n,o,s);break;case 3:case 4:var u=e.stateNode.containerInfo,c=of(n);rh(n,c,u);break;default:throw Error(N(161))}}catch(h){ut(n,n.return,h)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function u0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var t=n;u0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),n=n.sibling}}function Si(n,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)i0(n,t.alternate,t),t=t.sibling}function na(n){for(n=n.child;n!==null;){var t=n;switch(t.tag){case 0:case 11:case 14:case 15:Gi(4,t,t.return),na(t);break;case 1:gn(t,t.return);var e=t.stateNode;typeof e.componentWillUnmount=="function"&&t0(t,t.return,e),na(t);break;case 27:mo(t.stateNode);case 26:case 5:gn(t,t.return),na(t);break;case 22:t.memoizedState===null&&na(t);break;case 30:na(t);break;default:na(t)}n=n.sibling}}function bi(n,t,e){for(e=e&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,i=n,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:bi(i,a,e),al(4,a);break;case 1:if(bi(i,a,e),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){ut(r,r.return,c)}if(r=a,i=r.updateQueue,i!==null){var o=r.stateNode;try{var u=i.shared.hiddenCallbacks;if(u!==null)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)iv(u[i],o)}catch(c){ut(r,r.return,c)}}e&&s&64&&Wv(a),co(a,a.return);break;case 27:r0(a);case 26:case 5:bi(i,a,e),e&&r===null&&s&4&&e0(a),co(a,a.return);break;case 12:bi(i,a,e);break;case 13:bi(i,a,e),e&&s&4&&o0(i,a);break;case 22:a.memoizedState===null&&bi(i,a,e),co(a,a.return);break;case 30:break;default:bi(i,a,e)}t=t.sibling}}function $d(n,t){var e=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==e&&(n!=null&&n.refCount++,e!=null&&el(e))}function Gd(n,t){n=null,t.alternate!==null&&(n=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==n&&(t.refCount++,n!=null&&el(n))}function un(n,t,e,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)c0(n,t,e,r),t=t.sibling}function c0(n,t,e,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:un(n,t,e,r),i&2048&&al(9,t);break;case 1:un(n,t,e,r);break;case 3:un(n,t,e,r),i&2048&&(n=null,t.alternate!==null&&(n=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==n&&(t.refCount++,n!=null&&el(n)));break;case 12:if(i&2048){un(n,t,e,r),n=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(u){ut(t,t.return,u)}}else un(n,t,e,r);break;case 13:un(n,t,e,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,t.memoizedState!==null?a._visibility&2?un(n,t,e,r):fo(n,t):a._visibility&2?un(n,t,e,r):(a._visibility|=2,Ua(n,t,e,r,(t.subtreeFlags&10256)!==0)),i&2048&&$d(s,t);break;case 24:un(n,t,e,r),i&2048&&Gd(t.alternate,t);break;default:un(n,t,e,r)}}function Ua(n,t,e,r,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=n,s=t,o=e,u=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Ua(a,s,o,u,i),al(8,s);break;case 23:break;case 22:var h=s.stateNode;s.memoizedState!==null?h._visibility&2?Ua(a,s,o,u,i):fo(a,s):(h._visibility|=2,Ua(a,s,o,u,i)),i&&c&2048&&$d(s.alternate,s);break;case 24:Ua(a,s,o,u,i),i&&c&2048&&Gd(s.alternate,s);break;default:Ua(a,s,o,u,i)}t=t.sibling}}function fo(n,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var e=n,r=t,i=r.flags;switch(r.tag){case 22:fo(e,r),i&2048&&$d(r.alternate,r);break;case 24:fo(e,r),i&2048&&Gd(r.alternate,r);break;default:fo(e,r)}t=t.sibling}}var Qs=8192;function ka(n){if(n.subtreeFlags&Qs)for(n=n.child;n!==null;)f0(n),n=n.sibling}function f0(n){switch(n.tag){case 26:ka(n),n.flags&Qs&&n.memoizedState!==null&&Yw(_e,n.memoizedState,n.memoizedProps);break;case 5:ka(n);break;case 3:case 4:var t=_e;_e=Cu(n.stateNode.containerInfo),ka(n),_e=t;break;case 22:n.memoizedState===null&&(t=n.alternate,t!==null&&t.memoizedState!==null?(t=Qs,Qs=16777216,ka(n),Qs=t):ka(n));break;default:ka(n)}}function h0(n){var t=n.alternate;if(t!==null&&(n=t.child,n!==null)){t.child=null;do t=n.sibling,n.sibling=null,n=t;while(n!==null)}}function Ks(n){var t=n.deletions;if(n.flags&16){if(t!==null)for(var e=0;e<t.length;e++){var r=t[e];Lt=r,g0(r,n)}h0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)d0(n),n=n.sibling}function d0(n){switch(n.tag){case 0:case 11:case 15:Ks(n),n.flags&2048&&Gi(9,n,n.return);break;case 3:Ks(n);break;case 12:Ks(n);break;case 22:var t=n.stateNode;n.memoizedState!==null&&t._visibility&2&&(n.return===null||n.return.tag!==13)?(t._visibility&=-3,Yl(n)):Ks(n);break;default:Ks(n)}}function Yl(n){var t=n.deletions;if(n.flags&16){if(t!==null)for(var e=0;e<t.length;e++){var r=t[e];Lt=r,g0(r,n)}h0(n)}for(n=n.child;n!==null;){switch(t=n,t.tag){case 0:case 11:case 15:Gi(8,t,t.return),Yl(t);break;case 22:e=t.stateNode,e._visibility&2&&(e._visibility&=-3,Yl(t));break;default:Yl(t)}n=n.sibling}}function g0(n,t){for(;Lt!==null;){var e=Lt;switch(e.tag){case 0:case 11:case 15:Gi(8,e,t);break;case 23:case 22:if(e.memoizedState!==null&&e.memoizedState.cachePool!==null){var r=e.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:el(e.memoizedState.cache)}if(r=e.child,r!==null)r.return=e,Lt=r;else t:for(e=n;Lt!==null;){r=Lt;var i=r.sibling,a=r.return;if(a0(r),r===e){Lt=null;break t}if(i!==null){i.return=a,Lt=i;break t}Lt=a}}}var uw={getCacheForType:function(n){var t=Ft(Bt),e=t.data.get(n);return e===void 0&&(e=n(),t.data.set(n,e)),e}},cw=typeof WeakMap=="function"?WeakMap:Map,it=0,ft=null,Y=null,Q=0,rt=0,de=null,Ii=!1,Ms=!1,Yd=!1,di=0,bt=0,Yi=0,da=0,Xd=0,Pe=0,ps=0,ho=null,ie=null,ih=!1,Fd=0,Eu=1/0,Nu=null,Li=null,jt=0,Ji=null,vs=null,os=0,ah=0,sh=null,m0=null,go=0,oh=null;function Se(){if(it&2&&Q!==0)return Q&-Q;if(q.T!==null){var n=ds;return n!==0?n:Qd()}return xp()}function y0(){Pe===0&&(Pe=!(Q&536870912)||tt?wp():536870912);var n=Ge.current;return n!==null&&(n.flags|=32),Pe}function Te(n,t,e){(n===ft&&(rt===2||rt===9)||n.cancelPendingCommit!==null)&&(Ss(n,0),Ri(n,Q,Pe,!1)),Zo(n,e),(!(it&2)||n!==ft)&&(n===ft&&(!(it&2)&&(da|=e),bt===4&&Ri(n,Q,Pe,!1)),Cn(n))}function p0(n,t,e){if(it&6)throw Error(N(327));var r=!e&&(t&124)===0&&(t&n.expiredLanes)===0||Fo(n,t),i=r?dw(n,t):cf(n,t,!0),a=r;do{if(i===0){Ms&&!r&&Ri(n,t,0,!1);break}else{if(e=n.current.alternate,a&&!fw(e)){i=cf(n,t,!1),a=!1;continue}if(i===2){if(a=t,n.errorRecoveryDisabledLanes&a)var s=0;else s=n.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;t:{var o=n;i=ho;var u=o.current.memoizedState.isDehydrated;if(u&&(Ss(o,s).flags|=256),s=cf(o,s,!1),s!==2){if(Yd&&!u){o.errorRecoveryDisabledLanes|=a,da|=a,i=4;break t}a=ie,ie=i,a!==null&&(ie===null?ie=a:ie.push.apply(ie,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){Ss(n,0),Ri(n,t,0,!0);break}t:{switch(r=n,a=i,a){case 0:case 1:throw Error(N(345));case 4:if((t&4194048)!==t)break;case 6:Ri(r,t,Pe,!Ii);break t;case 2:ie=null;break;case 3:case 5:break;default:throw Error(N(329))}if((t&62914560)===t&&(i=Fd+300-bn(),10<i)){if(Ri(r,t,Pe,!Ii),fc(r,0,!0)!==0)break t;r.timeoutHandle=U0(Cm.bind(null,r,e,ie,Nu,ih,t,Pe,da,ps,Ii,a,2,-0,0),i);break t}Cm(r,e,ie,Nu,ih,t,Pe,da,ps,Ii,a,0,-0,0)}}break}while(!0);Cn(n)}function Cm(n,t,e,r,i,a,s,o,u,c,h,m,d,g){if(n.timeoutHandle=-1,m=t.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(Ro={stylesheets:null,count:0,unsuspend:Gw},f0(t),m=Xw(),m!==null)){n.cancelPendingCommit=m(Rm.bind(null,n,t,a,e,r,i,s,o,u,h,1,d,g)),Ri(n,a,s,!c);return}Rm(n,t,a,e,r,i,s,o,u)}function fw(n){for(var t=n;;){var e=t.tag;if((e===0||e===11||e===15)&&t.flags&16384&&(e=t.updateQueue,e!==null&&(e=e.stores,e!==null)))for(var r=0;r<e.length;r++){var i=e[r],a=i.getSnapshot;i=i.value;try{if(!be(a(),i))return!1}catch{return!1}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ri(n,t,e,r){t&=~Xd,t&=~da,n.suspendedLanes|=t,n.pingedLanes&=~t,r&&(n.warmLanes|=t),r=n.expirationTimes;for(var i=t;0<i;){var a=31-ve(i),s=1<<a;r[a]=-1,i&=~s}e!==0&&Ep(n,e,t)}function bc(){return it&6?!0:(sl(0),!1)}function Zd(){if(Y!==null){if(rt===0)var n=Y.return;else n=Y,ei=Da=null,Ud(n),ss=null,ko=0,n=Y;for(;n!==null;)_v(n.alternate,n),n=n.return;Y=null}}function Ss(n,t){var e=n.timeoutHandle;e!==-1&&(n.timeoutHandle=-1,kw(e)),e=n.cancelPendingCommit,e!==null&&(n.cancelPendingCommit=null,e()),Zd(),ft=n,Y=e=si(n.current,null),Q=t,rt=0,de=null,Ii=!1,Ms=Fo(n,t),Yd=!1,ps=Pe=Xd=da=Yi=bt=0,ie=ho=null,ih=!1,t&8&&(t|=t&32);var r=n.entangledLanes;if(r!==0)for(n=n.entanglements,r&=t;0<r;){var i=31-ve(r),a=1<<i;t|=n[i],r&=~a}return di=t,mc(),e}function v0(n,t){j=null,q.H=vu,t===nl||t===pc?(t=lm(),rt=3):t===nv?(t=lm(),rt=4):rt=t===Gv?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,de=t,Y===null&&(bt=1,bu(n,qe(t,n.current)))}function S0(){var n=q.H;return q.H=vu,n===null?vu:n}function T0(){var n=q.A;return q.A=uw,n}function lh(){bt=4,Ii||(Q&4194048)!==Q&&Ge.current!==null||(Ms=!0),!(Yi&134217727)&&!(da&134217727)||ft===null||Ri(ft,Q,Pe,!1)}function cf(n,t,e){var r=it;it|=2;var i=S0(),a=T0();(ft!==n||Q!==t)&&(Nu=null,Ss(n,t)),t=!1;var s=bt;t:do try{if(rt!==0&&Y!==null){var o=Y,u=de;switch(rt){case 8:Zd(),s=6;break t;case 3:case 2:case 9:case 6:Ge.current===null&&(t=!0);var c=rt;if(rt=0,de=null,_a(n,o,u,c),e&&Ms){s=0;break t}break;default:c=rt,rt=0,de=null,_a(n,o,u,c)}}hw(),s=bt;break}catch(h){v0(n,h)}while(!0);return t&&n.shellSuspendCounter++,ei=Da=null,it=r,q.H=i,q.A=a,Y===null&&(ft=null,Q=0,mc()),s}function hw(){for(;Y!==null;)b0(Y)}function dw(n,t){var e=it;it|=2;var r=S0(),i=T0();ft!==n||Q!==t?(Nu=null,Eu=bn()+500,Ss(n,t)):Ms=Fo(n,t);t:do try{if(rt!==0&&Y!==null){t=Y;var a=de;e:switch(rt){case 1:rt=0,de=null,_a(n,t,a,1);break;case 2:case 9:if(om(a)){rt=0,de=null,Im(t);break}t=function(){rt!==2&&rt!==9||ft!==n||(rt=7),Cn(n)},a.then(t,t);break t;case 3:rt=7;break t;case 4:rt=5;break t;case 7:om(a)?(rt=0,de=null,Im(t)):(rt=0,de=null,_a(n,t,a,7));break;case 5:var s=null;switch(Y.tag){case 26:s=Y.memoizedState;case 5:case 27:var o=Y;if(!s||P0(s)){rt=0,de=null;var u=o.sibling;if(u!==null)Y=u;else{var c=o.return;c!==null?(Y=c,wc(c)):Y=null}break e}}rt=0,de=null,_a(n,t,a,5);break;case 6:rt=0,de=null,_a(n,t,a,6);break;case 8:Zd(),bt=6;break t;default:throw Error(N(462))}}gw();break}catch(h){v0(n,h)}while(!0);return ei=Da=null,q.H=r,q.A=i,it=e,Y!==null?0:(ft=null,Q=0,mc(),bt)}function gw(){for(;Y!==null&&!UT();)b0(Y)}function b0(n){var t=Qv(n.alternate,n,di);n.memoizedProps=n.pendingProps,t===null?wc(n):Y=t}function Im(n){var t=n,e=t.alternate;switch(t.tag){case 15:case 0:t=Em(e,t,t.pendingProps,t.type,void 0,Q);break;case 11:t=Em(e,t,t.pendingProps,t.type.render,t.ref,Q);break;case 5:Ud(t);default:_v(e,t),t=Y=_p(t,di),t=Qv(e,t,di)}n.memoizedProps=n.pendingProps,t===null?wc(n):Y=t}function _a(n,t,e,r){ei=Da=null,Ud(t),ss=null,ko=0;var i=t.return;try{if(rw(n,i,t,e,Q)){bt=1,bu(n,qe(e,n.current)),Y=null;return}}catch(a){if(i!==null)throw Y=i,a;bt=1,bu(n,qe(e,n.current)),Y=null;return}t.flags&32768?(tt||r===1?n=!0:Ms||Q&536870912?n=!1:(Ii=n=!0,(r===2||r===9||r===3||r===6)&&(r=Ge.current,r!==null&&r.tag===13&&(r.flags|=16384))),w0(t,n)):wc(t)}function wc(n){var t=n;do{if(t.flags&32768){w0(t,Ii);return}n=t.return;var e=aw(t.alternate,t,di);if(e!==null){Y=e;return}if(t=t.sibling,t!==null){Y=t;return}Y=t=n}while(t!==null);bt===0&&(bt=5)}function w0(n,t){do{var e=sw(n.alternate,n);if(e!==null){e.flags&=32767,Y=e;return}if(e=n.return,e!==null&&(e.flags|=32768,e.subtreeFlags=0,e.deletions=null),!t&&(n=n.sibling,n!==null)){Y=n;return}Y=n=e}while(n!==null);bt=6,Y=null}function Rm(n,t,e,r,i,a,s,o,u){n.cancelPendingCommit=null;do Ac();while(jt!==0);if(it&6)throw Error(N(327));if(t!==null){if(t===n.current)throw Error(N(177));if(a=t.lanes|t.childLanes,a|=Ad,GT(n,e,a,s,o,u),n===ft&&(Y=ft=null,Q=0),vs=t,Ji=n,os=e,ah=a,sh=i,m0=r,t.subtreeFlags&10256||t.flags&10256?(n.callbackNode=null,n.callbackPriority=0,vw(lu,function(){return D0(),null})):(n.callbackNode=null,n.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=q.T,q.T=null,i=et.p,et.p=2,s=it,it|=4;try{ow(n,t,e)}finally{it=s,et.p=i,q.T=r}}jt=1,A0(),E0(),N0()}}function A0(){if(jt===1){jt=0;var n=Ji,t=vs,e=(t.flags&13878)!==0;if(t.subtreeFlags&13878||e){e=q.T,q.T=null;var r=et.p;et.p=2;var i=it;it|=4;try{l0(t,n);var a=hh,s=Kp(n.containerInfo),o=a.focusedElem,u=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&jp(o.ownerDocument.documentElement,o)){if(u!==null&&wd(o)){var c=u.start,h=u.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var m=o.ownerDocument||document,d=m&&m.defaultView||window;if(d.getSelection){var g=d.getSelection(),b=o.textContent.length,A=Math.min(u.start,b),x=u.end===void 0?A:Math.min(u.end,b);!g.extend&&A>x&&(s=x,x=A,A=s);var p=Wg(o,A),y=Wg(o,x);if(p&&y&&(g.rangeCount!==1||g.anchorNode!==p.node||g.anchorOffset!==p.offset||g.focusNode!==y.node||g.focusOffset!==y.offset)){var v=m.createRange();v.setStart(p.node,p.offset),g.removeAllRanges(),A>x?(g.addRange(v),g.extend(y.node,y.offset)):(v.setEnd(y.node,y.offset),g.addRange(v))}}}}for(m=[],g=o;g=g.parentNode;)g.nodeType===1&&m.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<m.length;o++){var w=m[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Bu=!!fh,hh=fh=null}finally{it=i,et.p=r,q.T=e}}n.current=t,jt=2}}function E0(){if(jt===2){jt=0;var n=Ji,t=vs,e=(t.flags&8772)!==0;if(t.subtreeFlags&8772||e){e=q.T,q.T=null;var r=et.p;et.p=2;var i=it;it|=4;try{i0(n,t.alternate,t)}finally{it=i,et.p=r,q.T=e}}jt=3}}function N0(){if(jt===4||jt===3){jt=0,LT();var n=Ji,t=vs,e=os,r=m0;t.subtreeFlags&10256||t.flags&10256?jt=5:(jt=0,vs=Ji=null,x0(n,n.pendingLanes));var i=n.pendingLanes;if(i===0&&(Li=null),md(e),t=t.stateNode,pe&&typeof pe.onCommitFiberRoot=="function")try{pe.onCommitFiberRoot(Xo,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=q.T,i=et.p,et.p=2,q.T=null;try{for(var a=n.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{q.T=t,et.p=i}}os&3&&Ac(),Cn(n),i=n.pendingLanes,e&4194090&&i&42?n===oh?go++:(go=0,oh=n):go=0,sl(0)}}function x0(n,t){(n.pooledCacheLanes&=t)===0&&(t=n.pooledCache,t!=null&&(n.pooledCache=null,el(t)))}function Ac(n){return A0(),E0(),N0(),D0()}function D0(){if(jt!==5)return!1;var n=Ji,t=ah;ah=0;var e=md(os),r=q.T,i=et.p;try{et.p=32>e?32:e,q.T=null,e=sh,sh=null;var a=Ji,s=os;if(jt=0,vs=Ji=null,os=0,it&6)throw Error(N(331));var o=it;if(it|=4,d0(a.current),c0(a,a.current,s,e),it=o,sl(0,!1),pe&&typeof pe.onPostCommitFiberRoot=="function")try{pe.onPostCommitFiberRoot(Xo,a)}catch{}return!0}finally{et.p=i,q.T=r,x0(n,t)}}function Bm(n,t,e){t=qe(e,t),t=th(n.stateNode,t,2),n=Ui(n,t,2),n!==null&&(Zo(n,2),Cn(n))}function ut(n,t,e){if(n.tag===3)Bm(n,n,e);else for(;t!==null;){if(t.tag===3){Bm(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Li===null||!Li.has(r))){n=qe(e,n),e=Kv(2),r=Ui(t,e,2),r!==null&&($v(e,r,t,n),Zo(r,2),Cn(r));break}}t=t.return}}function ff(n,t,e){var r=n.pingCache;if(r===null){r=n.pingCache=new cw;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(e)||(Yd=!0,i.add(e),n=mw.bind(null,n,t,e),t.then(n,n))}function mw(n,t,e){var r=n.pingCache;r!==null&&r.delete(t),n.pingedLanes|=n.suspendedLanes&e,n.warmLanes&=~e,ft===n&&(Q&e)===e&&(bt===4||bt===3&&(Q&62914560)===Q&&300>bn()-Fd?!(it&2)&&Ss(n,0):Xd|=e,ps===Q&&(ps=0)),Cn(n)}function O0(n,t){t===0&&(t=Ap()),n=zs(n,t),n!==null&&(Zo(n,t),Cn(n))}function yw(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),O0(n,e)}function pw(n,t){var e=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(e=i.retryLane);break;case 19:r=n.stateNode;break;case 22:r=n.stateNode._retryCache;break;default:throw Error(N(314))}r!==null&&r.delete(t),O0(n,e)}function vw(n,t){return dd(n,t)}var xu=null,La=null,uh=!1,Du=!1,hf=!1,ga=0;function Cn(n){n!==La&&n.next===null&&(La===null?xu=La=n:La=La.next=n),Du=!0,uh||(uh=!0,Tw())}function sl(n,t){if(!hf&&Du){hf=!0;do for(var e=!1,r=xu;r!==null;){if(n!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-ve(42|n)+1)-1,a&=i&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(e=!0,zm(r,a))}else a=Q,a=fc(r,r===ft?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Fo(r,a)||(e=!0,zm(r,a));r=r.next}while(e);hf=!1}}function Sw(){k0()}function k0(){Du=uh=!1;var n=0;ga!==0&&(Ow()&&(n=ga),ga=0);for(var t=bn(),e=null,r=xu;r!==null;){var i=r.next,a=C0(r,t);a===0?(r.next=null,e===null?xu=i:e.next=i,i===null&&(La=e)):(e=r,(n!==0||a&3)&&(Du=!0)),r=i}sl(n)}function C0(n,t){for(var e=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,a=n.pendingLanes&-62914561;0<a;){var s=31-ve(a),o=1<<s,u=i[s];u===-1?(!(o&e)||o&r)&&(i[s]=$T(o,t)):u<=t&&(n.expiredLanes|=o),a&=~o}if(t=ft,e=Q,e=fc(n,n===t?e:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r=n.callbackNode,e===0||n===t&&(rt===2||rt===9)||n.cancelPendingCommit!==null)return r!==null&&r!==null&&Lc(r),n.callbackNode=null,n.callbackPriority=0;if(!(e&3)||Fo(n,e)){if(t=e&-e,t===n.callbackPriority)return t;switch(r!==null&&Lc(r),md(e)){case 2:case 8:e=Tp;break;case 32:e=lu;break;case 268435456:e=bp;break;default:e=lu}return r=I0.bind(null,n),e=dd(e,r),n.callbackPriority=t,n.callbackNode=e,t}return r!==null&&r!==null&&Lc(r),n.callbackPriority=2,n.callbackNode=null,2}function I0(n,t){if(jt!==0&&jt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var e=n.callbackNode;if(Ac()&&n.callbackNode!==e)return null;var r=Q;return r=fc(n,n===ft?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r===0?null:(p0(n,r,t),C0(n,bn()),n.callbackNode!=null&&n.callbackNode===e?I0.bind(null,n):null)}function zm(n,t){if(Ac())return null;p0(n,t,!0)}function Tw(){Cw(function(){it&6?dd(Sp,Sw):k0()})}function Qd(){return ga===0&&(ga=wp()),ga}function Mm(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ql(""+n)}function Um(n,t){var e=t.ownerDocument.createElement("input");return e.name=t.name,e.value=t.value,n.id&&e.setAttribute("form",n.id),t.parentNode.insertBefore(e,t),n=new FormData(n),e.parentNode.removeChild(e),n}function bw(n,t,e,r,i){if(t==="submit"&&e&&e.stateNode===i){var a=Mm((i[le]||null).action),s=r.submitter;s&&(t=(t=s[le]||null)?Mm(t.formAction):s.getAttribute("formAction"),t!==null&&(a=t,s=null));var o=new hc("action","action",null,r,i);n.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ga!==0){var u=s?Um(i,s):new FormData(i);_f(e,{pending:!0,data:u,method:i.method,action:a},null,u)}}else typeof a=="function"&&(o.preventDefault(),u=s?Um(i,s):new FormData(i),_f(e,{pending:!0,data:u,method:i.method,action:a},a,u))},currentTarget:i}]})}}for(var df=0;df<Pf.length;df++){var gf=Pf[df],ww=gf.toLowerCase(),Aw=gf[0].toUpperCase()+gf.slice(1);sn(ww,"on"+Aw)}sn(Gp,"onAnimationEnd");sn(Yp,"onAnimationIteration");sn(Xp,"onAnimationStart");sn("dblclick","onDoubleClick");sn("focusin","onFocus");sn("focusout","onBlur");sn(Pb,"onTransitionRun");sn(Hb,"onTransitionStart");sn(Vb,"onTransitionCancel");sn(Fp,"onTransitionEnd");fs("onMouseEnter",["mouseout","mouseover"]);fs("onMouseLeave",["mouseout","mouseover"]);fs("onPointerEnter",["pointerout","pointerover"]);fs("onPointerLeave",["pointerout","pointerover"]);Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ew=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Co));function R0(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var r=n[e],i=r.event;r=r.listeners;t:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==a&&i.isPropagationStopped())break t;a=o,i.currentTarget=c;try{a(i)}catch(h){Tu(h)}i.currentTarget=null,a=u}else for(s=0;s<r.length;s++){if(o=r[s],u=o.instance,c=o.currentTarget,o=o.listener,u!==a&&i.isPropagationStopped())break t;a=o,i.currentTarget=c;try{a(i)}catch(h){Tu(h)}i.currentTarget=null,a=u}}}}function G(n,t){var e=t[Bf];e===void 0&&(e=t[Bf]=new Set);var r=n+"__bubble";e.has(r)||(B0(t,n,2,!1),e.add(r))}function mf(n,t,e){var r=0;t&&(r|=4),B0(e,n,r,t)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function _d(n){if(!n[Dl]){n[Dl]=!0,Dp.forEach(function(e){e!=="selectionchange"&&(Ew.has(e)||mf(e,!1,n),mf(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[Dl]||(t[Dl]=!0,mf("selectionchange",!1,t))}}function B0(n,t,e,r){switch($0(t)){case 2:var i=Qw;break;case 8:i=_w;break;default:i=ng}e=i.bind(null,t,e,n),i=void 0,!Lf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(t,e,{capture:!0,passive:i}):n.addEventListener(t,e,!0):i!==void 0?n.addEventListener(t,e,{passive:i}):n.addEventListener(t,e,!1)}function yf(n,t,e,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)t:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;o!==null;){if(s=ja(o),s===null)return;if(u=s.tag,u===5||u===6||u===26||u===27){r=a=s;continue t}o=o.parentNode}}r=r.return}Mp(function(){var c=a,h=vd(e),m=[];t:{var d=Zp.get(n);if(d!==void 0){var g=hc,b=n;switch(n){case"keypress":if(Hl(e)===0)break t;case"keydown":case"keyup":g=vb;break;case"focusin":b="focus",g=$c;break;case"focusout":b="blur",g=$c;break;case"beforeblur":case"afterblur":g=$c;break;case"click":if(e.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=sb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=bb;break;case Gp:case Yp:case Xp:g=ub;break;case Fp:g=Ab;break;case"scroll":case"scrollend":g=ib;break;case"wheel":g=Nb;break;case"copy":case"cut":case"paste":g=fb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=$g;break;case"toggle":case"beforetoggle":g=Db}var A=(t&4)!==0,x=!A&&(n==="scroll"||n==="scrollend"),p=A?d!==null?d+"Capture":null:d;A=[];for(var y=c,v;y!==null;){var w=y;if(v=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||v===null||p===null||(w=Eo(y,p),w!=null&&A.push(Io(y,w,v))),x)break;y=y.return}0<A.length&&(d=new g(d,b,null,e,h),m.push({event:d,listeners:A}))}}if(!(t&7)){t:{if(d=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",d&&e!==Uf&&(b=e.relatedTarget||e.fromElement)&&(ja(b)||b[Rs]))break t;if((g||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,g?(b=e.relatedTarget||e.toElement,g=c,b=b?ja(b):null,b!==null&&(x=Yo(b),A=b.tag,b!==x||A!==5&&A!==27&&A!==6)&&(b=null)):(g=null,b=c),g!==b)){if(A=jg,w="onMouseLeave",p="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(A=$g,w="onPointerLeave",p="onPointerEnter",y="pointer"),x=g==null?d:Zs(g),v=b==null?d:Zs(b),d=new A(w,y+"leave",g,e,h),d.target=x,d.relatedTarget=v,w=null,ja(h)===c&&(A=new A(p,y+"enter",b,e,h),A.target=v,A.relatedTarget=x,w=A),x=w,g&&b)e:{for(A=g,p=b,y=0,v=A;v;v=Ca(v))y++;for(v=0,w=p;w;w=Ca(w))v++;for(;0<y-v;)A=Ca(A),y--;for(;0<v-y;)p=Ca(p),v--;for(;y--;){if(A===p||p!==null&&A===p.alternate)break e;A=Ca(A),p=Ca(p)}A=null}else A=null;g!==null&&Lm(m,d,g,A,!1),b!==null&&x!==null&&Lm(m,x,b,A,!0)}}t:{if(d=c?Zs(c):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var k=Fg;else if(Xg(d))if(Hp)k=Lb;else{k=Mb;var I=zb}else g=d.nodeName,!g||g.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&pd(c.elementType)&&(k=Fg):k=Ub;if(k&&(k=k(n,c))){Pp(m,k,e,h);break t}I&&I(n,d,c),n==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&Mf(d,"number",d.value)}switch(I=c?Zs(c):window,n){case"focusin":(Xg(I)||I.contentEditable==="true")&&(Ga=I,Jf=c,ro=null);break;case"focusout":ro=Jf=Ga=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,tm(m,e,h);break;case"selectionchange":if(qb)break;case"keydown":case"keyup":tm(m,e,h)}var C;if(bd)t:{switch(n){case"compositionstart":var R="onCompositionStart";break t;case"compositionend":R="onCompositionEnd";break t;case"compositionupdate":R="onCompositionUpdate";break t}R=void 0}else $a?Jp(n,e)&&(R="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(R="onCompositionStart");R&&(Lp&&e.locale!=="ko"&&($a||R!=="onCompositionStart"?R==="onCompositionEnd"&&$a&&(C=Up()):(Ci=h,Sd="value"in Ci?Ci.value:Ci.textContent,$a=!0)),I=Ou(c,R),0<I.length&&(R=new Kg(R,n,null,e,h),m.push({event:R,listeners:I}),C?R.data=C:(C=qp(e),C!==null&&(R.data=C)))),(C=kb?Cb(n,e):Ib(n,e))&&(R=Ou(c,"onBeforeInput"),0<R.length&&(I=new Kg("onBeforeInput","beforeinput",null,e,h),m.push({event:I,listeners:R}),I.data=C)),bw(m,n,c,e,h)}R0(m,t)})}function Io(n,t,e){return{instance:n,listener:t,currentTarget:e}}function Ou(n,t){for(var e=t+"Capture",r=[];n!==null;){var i=n,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Eo(n,e),i!=null&&r.unshift(Io(n,i,a)),i=Eo(n,t),i!=null&&r.push(Io(n,i,a))),n.tag===3)return r;n=n.return}return[]}function Ca(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Lm(n,t,e,r,i){for(var a=t._reactName,s=[];e!==null&&e!==r;){var o=e,u=o.alternate,c=o.stateNode;if(o=o.tag,u!==null&&u===r)break;o!==5&&o!==26&&o!==27||c===null||(u=c,i?(c=Eo(e,a),c!=null&&s.unshift(Io(e,c,u))):i||(c=Eo(e,a),c!=null&&s.push(Io(e,c,u)))),e=e.return}s.length!==0&&n.push({event:t,listeners:s})}var Nw=/\r\n?/g,xw=/\u0000|\uFFFD/g;function Jm(n){return(typeof n=="string"?n:""+n).replace(Nw,`
`).replace(xw,"")}function z0(n,t){return t=Jm(t),Jm(n)===t}function Ec(){}function at(n,t,e,r,i,a){switch(e){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||hs(n,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&hs(n,""+r);break;case"className":Tl(n,"class",r);break;case"tabIndex":Tl(n,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Tl(n,e,r);break;case"style":zp(n,r,a);break;case"data":if(t!=="object"){Tl(n,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||e!=="href")){n.removeAttribute(e);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(e);break}r=ql(""+r),n.setAttribute(e,r);break;case"action":case"formAction":if(typeof r=="function"){n.setAttribute(e,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(e==="formAction"?(t!=="input"&&at(n,t,"name",i.name,i,null),at(n,t,"formEncType",i.formEncType,i,null),at(n,t,"formMethod",i.formMethod,i,null),at(n,t,"formTarget",i.formTarget,i,null)):(at(n,t,"encType",i.encType,i,null),at(n,t,"method",i.method,i,null),at(n,t,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(e);break}r=ql(""+r),n.setAttribute(e,r);break;case"onClick":r!=null&&(n.onclick=Ec);break;case"onScroll":r!=null&&G("scroll",n);break;case"onScrollEnd":r!=null&&G("scrollend",n);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(N(61));if(e=r.__html,e!=null){if(i.children!=null)throw Error(N(60));n.innerHTML=e}}break;case"multiple":n.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":n.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){n.removeAttribute("xlink:href");break}e=ql(""+r),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(e,""+r):n.removeAttribute(e);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(e,""):n.removeAttribute(e);break;case"capture":case"download":r===!0?n.setAttribute(e,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(e,r):n.removeAttribute(e);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?n.setAttribute(e,r):n.removeAttribute(e);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?n.removeAttribute(e):n.setAttribute(e,r);break;case"popover":G("beforetoggle",n),G("toggle",n),Jl(n,"popover",r);break;case"xlinkActuate":In(n,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":In(n,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":In(n,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":In(n,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":In(n,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":In(n,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":In(n,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":In(n,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":In(n,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Jl(n,"is",r);break;case"innerText":case"textContent":break;default:(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(e=nb.get(e)||e,Jl(n,e,r))}}function ch(n,t,e,r,i,a){switch(e){case"style":zp(n,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(N(61));if(e=r.__html,e!=null){if(i.children!=null)throw Error(N(60));n.innerHTML=e}}break;case"children":typeof r=="string"?hs(n,r):(typeof r=="number"||typeof r=="bigint")&&hs(n,""+r);break;case"onScroll":r!=null&&G("scroll",n);break;case"onScrollEnd":r!=null&&G("scrollend",n);break;case"onClick":r!=null&&(n.onclick=Ec);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Op.hasOwnProperty(e))t:{if(e[0]==="o"&&e[1]==="n"&&(i=e.endsWith("Capture"),t=e.slice(2,i?e.length-7:void 0),a=n[le]||null,a=a!=null?a[e]:null,typeof a=="function"&&n.removeEventListener(t,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(e in n?n[e]=null:n.hasAttribute(e)&&n.removeAttribute(e)),n.addEventListener(t,r,i);break t}e in n?n[e]=r:r===!0?n.setAttribute(e,""):Jl(n,e,r)}}}function $t(n,t,e){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":G("error",n),G("load",n);var r=!1,i=!1,a;for(a in e)if(e.hasOwnProperty(a)){var s=e[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(N(137,t));default:at(n,t,a,s,e,null)}}i&&at(n,t,"srcSet",e.srcSet,e,null),r&&at(n,t,"src",e.src,e,null);return;case"input":G("invalid",n);var o=a=s=i=null,u=null,c=null;for(r in e)if(e.hasOwnProperty(r)){var h=e[r];if(h!=null)switch(r){case"name":i=h;break;case"type":s=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":a=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(N(137,t));break;default:at(n,t,r,h,e,null)}}Ip(n,a,o,u,c,s,i,!1),uu(n);return;case"select":G("invalid",n),r=s=a=null;for(i in e)if(e.hasOwnProperty(i)&&(o=e[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:at(n,t,i,o,e,null)}t=a,e=s,n.multiple=!!r,t!=null?es(n,!!r,t,!1):e!=null&&es(n,!!r,e,!0);return;case"textarea":G("invalid",n),a=i=r=null;for(s in e)if(e.hasOwnProperty(s)&&(o=e[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(N(91));break;default:at(n,t,s,o,e,null)}Bp(n,r,i,a),uu(n);return;case"option":for(u in e)if(e.hasOwnProperty(u)&&(r=e[u],r!=null))switch(u){case"selected":n.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:at(n,t,u,r,e,null)}return;case"dialog":G("beforetoggle",n),G("toggle",n),G("cancel",n),G("close",n);break;case"iframe":case"object":G("load",n);break;case"video":case"audio":for(r=0;r<Co.length;r++)G(Co[r],n);break;case"image":G("error",n),G("load",n);break;case"details":G("toggle",n);break;case"embed":case"source":case"link":G("error",n),G("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in e)if(e.hasOwnProperty(c)&&(r=e[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(N(137,t));default:at(n,t,c,r,e,null)}return;default:if(pd(t)){for(h in e)e.hasOwnProperty(h)&&(r=e[h],r!==void 0&&ch(n,t,h,r,e,void 0));return}}for(o in e)e.hasOwnProperty(o)&&(r=e[o],r!=null&&at(n,t,o,r,e,null))}function Dw(n,t,e,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,u=null,c=null,h=null;for(g in e){var m=e[g];if(e.hasOwnProperty(g)&&m!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":u=m;default:r.hasOwnProperty(g)||at(n,t,g,null,r,m)}}for(var d in r){var g=r[d];if(m=e[d],r.hasOwnProperty(d)&&(g!=null||m!=null))switch(d){case"type":a=g;break;case"name":i=g;break;case"checked":c=g;break;case"defaultChecked":h=g;break;case"value":s=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(N(137,t));break;default:g!==m&&at(n,t,d,g,r,m)}}zf(n,s,o,u,c,h,a,i);return;case"select":g=s=o=d=null;for(a in e)if(u=e[a],e.hasOwnProperty(a)&&u!=null)switch(a){case"value":break;case"multiple":g=u;default:r.hasOwnProperty(a)||at(n,t,a,null,r,u)}for(i in r)if(a=r[i],u=e[i],r.hasOwnProperty(i)&&(a!=null||u!=null))switch(i){case"value":d=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==u&&at(n,t,i,a,r,u)}t=o,e=s,r=g,d!=null?es(n,!!e,d,!1):!!r!=!!e&&(t!=null?es(n,!!e,t,!0):es(n,!!e,e?[]:"",!1));return;case"textarea":g=d=null;for(o in e)if(i=e[o],e.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:at(n,t,o,null,r,i)}for(s in r)if(i=r[s],a=e[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":d=i;break;case"defaultValue":g=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(N(91));break;default:i!==a&&at(n,t,s,i,r,a)}Rp(n,d,g);return;case"option":for(var b in e)if(d=e[b],e.hasOwnProperty(b)&&d!=null&&!r.hasOwnProperty(b))switch(b){case"selected":n.selected=!1;break;default:at(n,t,b,null,r,d)}for(u in r)if(d=r[u],g=e[u],r.hasOwnProperty(u)&&d!==g&&(d!=null||g!=null))switch(u){case"selected":n.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:at(n,t,u,d,r,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in e)d=e[A],e.hasOwnProperty(A)&&d!=null&&!r.hasOwnProperty(A)&&at(n,t,A,null,r,d);for(c in r)if(d=r[c],g=e[c],r.hasOwnProperty(c)&&d!==g&&(d!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(N(137,t));break;default:at(n,t,c,d,r,g)}return;default:if(pd(t)){for(var x in e)d=e[x],e.hasOwnProperty(x)&&d!==void 0&&!r.hasOwnProperty(x)&&ch(n,t,x,void 0,r,d);for(h in r)d=r[h],g=e[h],!r.hasOwnProperty(h)||d===g||d===void 0&&g===void 0||ch(n,t,h,d,r,g);return}}for(var p in e)d=e[p],e.hasOwnProperty(p)&&d!=null&&!r.hasOwnProperty(p)&&at(n,t,p,null,r,d);for(m in r)d=r[m],g=e[m],!r.hasOwnProperty(m)||d===g||d==null&&g==null||at(n,t,m,d,r,g)}var fh=null,hh=null;function ku(n){return n.nodeType===9?n:n.ownerDocument}function qm(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M0(n,t){if(n===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&t==="foreignObject"?0:n}function dh(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pf=null;function Ow(){var n=window.event;return n&&n.type==="popstate"?n===pf?!1:(pf=n,!0):(pf=null,!1)}var U0=typeof setTimeout=="function"?setTimeout:void 0,kw=typeof clearTimeout=="function"?clearTimeout:void 0,Pm=typeof Promise=="function"?Promise:void 0,Cw=typeof queueMicrotask=="function"?queueMicrotask:typeof Pm<"u"?function(n){return Pm.resolve(null).then(n).catch(Iw)}:U0;function Iw(n){setTimeout(function(){throw n})}function Zi(n){return n==="head"}function Hm(n,t){var e=t,r=0,i=0;do{var a=e.nextSibling;if(n.removeChild(e),a&&a.nodeType===8)if(e=a.data,e==="/$"){if(0<r&&8>r){e=r;var s=n.ownerDocument;if(e&1&&mo(s.documentElement),e&2&&mo(s.body),e&4)for(e=s.head,mo(e),s=e.firstChild;s;){var o=s.nextSibling,u=s.nodeName;s[Qo]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&s.rel.toLowerCase()==="stylesheet"||e.removeChild(s),s=o}}if(i===0){n.removeChild(a),Uo(t);return}i--}else e==="$"||e==="$?"||e==="$!"?i++:r=e.charCodeAt(0)-48;else r=0;e=a}while(e);Uo(t)}function gh(n){var t=n.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var e=t;switch(t=t.nextSibling,e.nodeName){case"HTML":case"HEAD":case"BODY":gh(e),yd(e);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(e.rel.toLowerCase()==="stylesheet")continue}n.removeChild(e)}}function Rw(n,t,e,r){for(;n.nodeType===1;){var i=e;if(n.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(r){if(!n[Qo])switch(t){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(a=n.getAttribute("rel"),a==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(a!==i.rel||n.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||n.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||n.getAttribute("title")!==(i.title==null?null:i.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(a=n.getAttribute("src"),(a!==(i.src==null?null:i.src)||n.getAttribute("type")!==(i.type==null?null:i.type)||n.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(t==="input"&&n.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&n.getAttribute("name")===a)return n}else return n;if(n=rn(n.nextSibling),n===null)break}return null}function Bw(n,t,e){if(t==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!e||(n=rn(n.nextSibling),n===null))return null;return n}function mh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function zw(n,t){var e=n.ownerDocument;if(n.data!=="$?"||e.readyState==="complete")t();else{var r=function(){t(),e.removeEventListener("DOMContentLoaded",r)};e.addEventListener("DOMContentLoaded",r),n._reactRetry=r}}function rn(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return n}var yh=null;function Vm(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}function L0(n,t,e){switch(t=ku(e),n){case"html":if(n=t.documentElement,!n)throw Error(N(452));return n;case"head":if(n=t.head,!n)throw Error(N(453));return n;case"body":if(n=t.body,!n)throw Error(N(454));return n;default:throw Error(N(451))}}function mo(n){for(var t=n.attributes;t.length;)n.removeAttributeNode(t[0]);yd(n)}var Ye=new Map,jm=new Set;function Cu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var yi=et.d;et.d={f:Mw,r:Uw,D:Lw,C:Jw,L:qw,m:Pw,X:Vw,S:Hw,M:jw};function Mw(){var n=yi.f(),t=bc();return n||t}function Uw(n){var t=Bs(n);t!==null&&t.tag===5&&t.type==="form"?Cv(t):yi.r(n)}var Us=typeof document>"u"?null:document;function J0(n,t,e){var r=Us;if(r&&typeof t=="string"&&t){var i=Je(t);i='link[rel="'+n+'"][href="'+i+'"]',typeof e=="string"&&(i+='[crossorigin="'+e+'"]'),jm.has(i)||(jm.add(i),n={rel:n,crossOrigin:e,href:t},r.querySelector(i)===null&&(t=r.createElement("link"),$t(t,"link",n),Jt(t),r.head.appendChild(t)))}}function Lw(n){yi.D(n),J0("dns-prefetch",n,null)}function Jw(n,t){yi.C(n,t),J0("preconnect",n,t)}function qw(n,t,e){yi.L(n,t,e);var r=Us;if(r&&n&&t){var i='link[rel="preload"][as="'+Je(t)+'"]';t==="image"&&e&&e.imageSrcSet?(i+='[imagesrcset="'+Je(e.imageSrcSet)+'"]',typeof e.imageSizes=="string"&&(i+='[imagesizes="'+Je(e.imageSizes)+'"]')):i+='[href="'+Je(n)+'"]';var a=i;switch(t){case"style":a=Ts(n);break;case"script":a=Ls(n)}Ye.has(a)||(n=ht({rel:"preload",href:t==="image"&&e&&e.imageSrcSet?void 0:n,as:t},e),Ye.set(a,n),r.querySelector(i)!==null||t==="style"&&r.querySelector(ol(a))||t==="script"&&r.querySelector(ll(a))||(t=r.createElement("link"),$t(t,"link",n),Jt(t),r.head.appendChild(t)))}}function Pw(n,t){yi.m(n,t);var e=Us;if(e&&n){var r=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Je(r)+'"][href="'+Je(n)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Ls(n)}if(!Ye.has(a)&&(n=ht({rel:"modulepreload",href:n},t),Ye.set(a,n),e.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(e.querySelector(ll(a)))return}r=e.createElement("link"),$t(r,"link",n),Jt(r),e.head.appendChild(r)}}}function Hw(n,t,e){yi.S(n,t,e);var r=Us;if(r&&n){var i=ts(r).hoistableStyles,a=Ts(n);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(ol(a)))o.loading=5;else{n=ht({rel:"stylesheet",href:n,"data-precedence":t},e),(e=Ye.get(a))&&Wd(n,e);var u=s=r.createElement("link");Jt(u),$t(u,"link",n),u._p=new Promise(function(c,h){u.onload=c,u.onerror=h}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Xl(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function Vw(n,t){yi.X(n,t);var e=Us;if(e&&n){var r=ts(e).hoistableScripts,i=Ls(n),a=r.get(i);a||(a=e.querySelector(ll(i)),a||(n=ht({src:n,async:!0},t),(t=Ye.get(i))&&tg(n,t),a=e.createElement("script"),Jt(a),$t(a,"link",n),e.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function jw(n,t){yi.M(n,t);var e=Us;if(e&&n){var r=ts(e).hoistableScripts,i=Ls(n),a=r.get(i);a||(a=e.querySelector(ll(i)),a||(n=ht({src:n,async:!0,type:"module"},t),(t=Ye.get(i))&&tg(n,t),a=e.createElement("script"),Jt(a),$t(a,"link",n),e.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function Km(n,t,e,r){var i=(i=zi.current)?Cu(i):null;if(!i)throw Error(N(446));switch(n){case"meta":case"title":return null;case"style":return typeof e.precedence=="string"&&typeof e.href=="string"?(t=Ts(e.href),e=ts(i).hoistableStyles,r=e.get(t),r||(r={type:"style",instance:null,count:0,state:null},e.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(e.rel==="stylesheet"&&typeof e.href=="string"&&typeof e.precedence=="string"){n=Ts(e.href);var a=ts(i).hoistableStyles,s=a.get(n);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(n,s),(a=i.querySelector(ol(n)))&&!a._p&&(s.instance=a,s.state.loading=5),Ye.has(n)||(e={rel:"preload",as:"style",href:e.href,crossOrigin:e.crossOrigin,integrity:e.integrity,media:e.media,hrefLang:e.hrefLang,referrerPolicy:e.referrerPolicy},Ye.set(n,e),a||Kw(i,n,e,s.state))),t&&r===null)throw Error(N(528,""));return s}if(t&&r!==null)throw Error(N(529,""));return null;case"script":return t=e.async,e=e.src,typeof e=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ls(e),e=ts(i).hoistableScripts,r=e.get(t),r||(r={type:"script",instance:null,count:0,state:null},e.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(N(444,n))}}function Ts(n){return'href="'+Je(n)+'"'}function ol(n){return'link[rel="stylesheet"]['+n+"]"}function q0(n){return ht({},n,{"data-precedence":n.precedence,precedence:null})}function Kw(n,t,e,r){n.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=n.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),$t(t,"link",e),Jt(t),n.head.appendChild(t))}function Ls(n){return'[src="'+Je(n)+'"]'}function ll(n){return"script[async]"+n}function $m(n,t,e){if(t.count++,t.instance===null)switch(t.type){case"style":var r=n.querySelector('style[data-href~="'+Je(e.href)+'"]');if(r)return t.instance=r,Jt(r),r;var i=ht({},e,{"data-href":e.href,"data-precedence":e.precedence,href:null,precedence:null});return r=(n.ownerDocument||n).createElement("style"),Jt(r),$t(r,"style",i),Xl(r,e.precedence,n),t.instance=r;case"stylesheet":i=Ts(e.href);var a=n.querySelector(ol(i));if(a)return t.state.loading|=4,t.instance=a,Jt(a),a;r=q0(e),(i=Ye.get(i))&&Wd(r,i),a=(n.ownerDocument||n).createElement("link"),Jt(a);var s=a;return s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),$t(a,"link",r),t.state.loading|=4,Xl(a,e.precedence,n),t.instance=a;case"script":return a=Ls(e.src),(i=n.querySelector(ll(a)))?(t.instance=i,Jt(i),i):(r=e,(i=Ye.get(a))&&(r=ht({},e),tg(r,i)),n=n.ownerDocument||n,i=n.createElement("script"),Jt(i),$t(i,"link",r),n.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(N(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Xl(r,e.precedence,n));return t.instance}function Xl(n,t,e){for(var r=e.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(n,a.nextSibling):(t=e.nodeType===9?e.head:e,t.insertBefore(n,t.firstChild))}function Wd(n,t){n.crossOrigin==null&&(n.crossOrigin=t.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=t.referrerPolicy),n.title==null&&(n.title=t.title)}function tg(n,t){n.crossOrigin==null&&(n.crossOrigin=t.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=t.referrerPolicy),n.integrity==null&&(n.integrity=t.integrity)}var Fl=null;function Gm(n,t,e){if(Fl===null){var r=new Map,i=Fl=new Map;i.set(e,r)}else i=Fl,r=i.get(e),r||(r=new Map,i.set(e,r));if(r.has(n))return r;for(r.set(n,null),e=e.getElementsByTagName(n),i=0;i<e.length;i++){var a=e[i];if(!(a[Qo]||a[Xt]||n==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(t)||"";s=n+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function Ym(n,t,e){n=n.ownerDocument||n,n.head.insertBefore(e,t==="title"?n.querySelector("head > title"):null)}function $w(n,t,e){if(e===1||t.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return n=t.disabled,typeof t.precedence=="string"&&n==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function P0(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var Ro=null;function Gw(){}function Yw(n,t,e){if(Ro===null)throw Error(N(475));var r=Ro;if(t.type==="stylesheet"&&(typeof e.media!="string"||matchMedia(e.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var i=Ts(e.href),a=n.querySelector(ol(i));if(a){n=a._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(r.count++,r=Iu.bind(r),n.then(r,r)),t.state.loading|=4,t.instance=a,Jt(a);return}a=n.ownerDocument||n,e=q0(e),(i=Ye.get(i))&&Wd(e,i),a=a.createElement("link"),Jt(a);var s=a;s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),$t(a,"link",e),t.instance=a}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,n),(n=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=Iu.bind(r),n.addEventListener("load",t),n.addEventListener("error",t))}}function Xw(){if(Ro===null)throw Error(N(475));var n=Ro;return n.stylesheets&&n.count===0&&ph(n,n.stylesheets),0<n.count?function(t){var e=setTimeout(function(){if(n.stylesheets&&ph(n,n.stylesheets),n.unsuspend){var r=n.unsuspend;n.unsuspend=null,r()}},6e4);return n.unsuspend=t,function(){n.unsuspend=null,clearTimeout(e)}}:null}function Iu(){if(this.count--,this.count===0){if(this.stylesheets)ph(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ru=null;function ph(n,t){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ru=new Map,t.forEach(Fw,n),Ru=null,Iu.call(n))}function Fw(n,t){if(!(t.state.loading&4)){var e=Ru.get(n);if(e)var r=e.get(null);else{e=new Map,Ru.set(n,e);for(var i=n.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(e.set(s.dataset.precedence,s),r=s)}r&&e.set(null,r)}i=t.instance,s=i.getAttribute("data-precedence"),a=e.get(s)||r,a===r&&e.set(null,i),e.set(s,i),this.count++,r=Iu.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(i,n.firstChild)),t.state.loading|=4}}var Bo={$$typeof:_r,Provider:null,Consumer:null,_currentValue:la,_currentValue2:la,_threadCount:0};function Zw(n,t,e,r,i,a,s,o){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jc(0),this.hiddenUpdates=Jc(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function H0(n,t,e,r,i,a,s,o,u,c,h,m){return n=new Zw(n,t,e,s,o,u,c,m),t=1,a===!0&&(t|=24),a=ge(3,null,null,t),n.current=a,a.stateNode=n,t=Od(),t.refCount++,n.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:e,cache:t},Cd(a),n}function V0(n){return n?(n=Fa,n):Fa}function j0(n,t,e,r,i,a){i=V0(i),r.context===null?r.context=i:r.pendingContext=i,r=Mi(t),r.payload={element:e},a=a===void 0?null:a,a!==null&&(r.callback=a),e=Ui(n,r,t),e!==null&&(Te(e,n,t),so(e,n,t))}function Xm(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function eg(n,t){Xm(n,t),(n=n.alternate)&&Xm(n,t)}function K0(n){if(n.tag===13){var t=zs(n,67108864);t!==null&&Te(t,n,67108864),eg(n,67108864)}}var Bu=!0;function Qw(n,t,e,r){var i=q.T;q.T=null;var a=et.p;try{et.p=2,ng(n,t,e,r)}finally{et.p=a,q.T=i}}function _w(n,t,e,r){var i=q.T;q.T=null;var a=et.p;try{et.p=8,ng(n,t,e,r)}finally{et.p=a,q.T=i}}function ng(n,t,e,r){if(Bu){var i=vh(r);if(i===null)yf(n,t,r,zu,e),Fm(n,r);else if(t1(i,n,t,e,r))r.stopPropagation();else if(Fm(n,r),t&4&&-1<Ww.indexOf(n)){for(;i!==null;){var a=Bs(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=ta(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var u=1<<31-ve(s);o.entanglements[1]|=u,s&=~u}Cn(a),!(it&6)&&(Eu=bn()+500,sl(0))}}break;case 13:o=zs(a,2),o!==null&&Te(o,a,2),bc(),eg(a,2)}if(a=vh(r),a===null&&yf(n,t,r,zu,e),a===i)break;i=a}i!==null&&r.stopPropagation()}else yf(n,t,r,null,e)}}function vh(n){return n=vd(n),rg(n)}var zu=null;function rg(n){if(zu=null,n=ja(n),n!==null){var t=Yo(n);if(t===null)n=null;else{var e=t.tag;if(e===13){if(n=mp(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null)}}return zu=n,null}function $0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(JT()){case Sp:return 2;case Tp:return 8;case lu:case qT:return 32;case bp:return 268435456;default:return 32}default:return 32}}var Sh=!1,qi=null,Pi=null,Hi=null,zo=new Map,Mo=new Map,Oi=[],Ww="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fm(n,t){switch(n){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":zo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(t.pointerId)}}function $s(n,t,e,r,i,a){return n===null||n.nativeEvent!==a?(n={blockedOn:t,domEventName:e,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Bs(t),t!==null&&K0(t)),n):(n.eventSystemFlags|=r,t=n.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),n)}function t1(n,t,e,r,i){switch(t){case"focusin":return qi=$s(qi,n,t,e,r,i),!0;case"dragenter":return Pi=$s(Pi,n,t,e,r,i),!0;case"mouseover":return Hi=$s(Hi,n,t,e,r,i),!0;case"pointerover":var a=i.pointerId;return zo.set(a,$s(zo.get(a)||null,n,t,e,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Mo.set(a,$s(Mo.get(a)||null,n,t,e,r,i)),!0}return!1}function G0(n){var t=ja(n.target);if(t!==null){var e=Yo(t);if(e!==null){if(t=e.tag,t===13){if(t=mp(e),t!==null){n.blockedOn=t,YT(n.priority,function(){if(e.tag===13){var r=Se();r=gd(r);var i=zs(e,r);i!==null&&Te(i,e,r),eg(e,r)}});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Zl(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=vh(n.nativeEvent);if(e===null){e=n.nativeEvent;var r=new e.constructor(e.type,e);Uf=r,e.target.dispatchEvent(r),Uf=null}else return t=Bs(e),t!==null&&K0(t),n.blockedOn=e,!1;t.shift()}return!0}function Zm(n,t,e){Zl(n)&&e.delete(t)}function e1(){Sh=!1,qi!==null&&Zl(qi)&&(qi=null),Pi!==null&&Zl(Pi)&&(Pi=null),Hi!==null&&Zl(Hi)&&(Hi=null),zo.forEach(Zm),Mo.forEach(Zm)}function Ol(n,t){n.blockedOn===t&&(n.blockedOn=null,Sh||(Sh=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,e1)))}var kl=null;function Qm(n){kl!==n&&(kl=n,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,function(){kl===n&&(kl=null);for(var t=0;t<n.length;t+=3){var e=n[t],r=n[t+1],i=n[t+2];if(typeof r!="function"){if(rg(r||e)===null)continue;break}var a=Bs(e);a!==null&&(n.splice(t,3),t-=3,_f(a,{pending:!0,data:i,method:e.method,action:r},r,i))}}))}function Uo(n){function t(u){return Ol(u,n)}qi!==null&&Ol(qi,n),Pi!==null&&Ol(Pi,n),Hi!==null&&Ol(Hi,n),zo.forEach(t),Mo.forEach(t);for(var e=0;e<Oi.length;e++){var r=Oi[e];r.blockedOn===n&&(r.blockedOn=null)}for(;0<Oi.length&&(e=Oi[0],e.blockedOn===null);)G0(e),e.blockedOn===null&&Oi.shift();if(e=(n.ownerDocument||n).$$reactFormReplay,e!=null)for(r=0;r<e.length;r+=3){var i=e[r],a=e[r+1],s=i[le]||null;if(typeof a=="function")s||Qm(e);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[le]||null)o=s.formAction;else if(rg(i)!==null)continue}else o=s.action;typeof o=="function"?e[r+1]=o:(e.splice(r,3),r-=3),Qm(e)}}}function ig(n){this._internalRoot=n}Nc.prototype.render=ig.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(N(409));var e=t.current,r=Se();j0(e,r,n,t,null,null)};Nc.prototype.unmount=ig.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;j0(n.current,2,null,n,null,null),bc(),t[Rs]=null}};function Nc(n){this._internalRoot=n}Nc.prototype.unstable_scheduleHydration=function(n){if(n){var t=xp();n={blockedOn:null,target:n,priority:t};for(var e=0;e<Oi.length&&t!==0&&t<Oi[e].priority;e++);Oi.splice(e,0,n),e===0&&G0(n)}};var _m=dp.version;if(_m!=="19.1.0")throw Error(N(527,_m,"19.1.0"));et.findDOMNode=function(n){var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(N(188)):(n=Object.keys(n).join(","),Error(N(268,n)));return n=IT(t),n=n!==null?yp(n):null,n=n===null?null:n.stateNode,n};var n1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cl.isDisabled&&Cl.supportsFiber)try{Xo=Cl.inject(n1),pe=Cl}catch{}}uc.createRoot=function(n,t){if(!gp(n))throw Error(N(299));var e=!1,r="",i=Hv,a=Vv,s=jv,o=null;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=H0(n,1,!1,null,null,e,r,i,a,s,o,null),n[Rs]=t.current,_d(n),new ig(t)};uc.hydrateRoot=function(n,t,e){if(!gp(n))throw Error(N(299));var r=!1,i="",a=Hv,s=Vv,o=jv,u=null,c=null;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(a=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(u=e.unstable_transitionCallbacks),e.formState!==void 0&&(c=e.formState)),t=H0(n,1,!0,t,e??null,r,i,a,s,o,u,c),t.context=V0(null),e=t.current,r=Se(),r=gd(r),i=Mi(r),i.callback=null,Ui(e,i,r),e=r,t.current.lanes=e,Zo(t,e),Cn(t),n[Rs]=t.current,_d(n),new Nc(t)};uc.version="19.1.0";function Y0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y0)}catch(n){console.error(n)}}Y0(),tp.exports=uc;var r1=tp.exports;const i1=Qy(r1),a1=n=>{const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},e=/[&<>"'/]/gi;return n.replace(e,r=>t[r])};function X0({onSave:n,placeholder:t}){const[e,r]=ct.useState("");return W.jsx("input",{className:"new-todo",type:"text",placeholder:t,value:e,onChange:i=>{r(i.target.value)},onKeyDown:i=>{i.key==="Enter"&&(n(a1(e.trim())),r(""))}})}function s1({dispatch:n}){const t=e=>{n({type:"ADDED_TODO",payload:{text:e}})};return W.jsxs("header",{className:"header",children:[W.jsx("h1",{children:"todos"}),W.jsx(X0,{onSave:e=>{e.length!==0&&t(e)},placeholder:"What needs to be done?"})]})}var F0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var t={}.hasOwnProperty;function e(){for(var a="",s=0;s<arguments.length;s++){var o=arguments[s];o&&(a=i(a,r(o)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return e.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var s="";for(var o in a)t.call(a,o)&&a[o]&&(s=i(s,o));return s}function i(a,s){return s?a?a+" "+s:a+s:a}n.exports?(e.default=e,n.exports=e):window.classNames=e})()})(F0);var o1=F0.exports;const Z0=Qy(o1),Wm={SHOW_ALL:"All",SHOW_ACTIVE:"Active",SHOW_COMPLETED:"Completed"};function l1({completedCount:n,activeCount:t,filter:e,onClearCompleted:r,onShow:i}){return W.jsxs("footer",{className:"footer",children:[W.jsxs("span",{className:"todo-count",children:[W.jsx("strong",{children:t||"No"})," ",t===1?"item":"items"," left"]}),W.jsx("ul",{className:"filters",children:Object.keys(Wm).map(a=>W.jsx("li",{children:W.jsx("button",{type:"button",className:Z0({selected:a===e}),style:{cursor:"pointer"},onClick:()=>i(a),children:Wm[a]})},a))}),!!n&&W.jsx("button",{type:"button",className:"clear-completed",onClick:r,children:"Clear completed"})]})}function u1({todo:n,dispatch:t}){const[e,r]=ct.useState(!1),i=o=>{t({type:"DELETED_TODO",payload:{id:o}})},a=(o,u)=>{t({type:"EDITED_TODO",payload:{id:o,text:u}})},s=o=>{t({type:"COMPLETED_TODO",payload:{id:o}})};return W.jsx("li",{className:Z0({completed:n.completed,editing:e}),children:e?W.jsx(X0,{editing:e,onSave:o=>{o.length===0?i(n.id):a(n.id,o),r(!1)}}):W.jsxs("div",{className:"view",children:[W.jsx("input",{id:`item-input-${n.id}`,className:"toggle",type:"checkbox",checked:n.completed,onChange:()=>s(n.id)}),W.jsx("label",{htmlFor:`item-input-${n.id}`,onDoubleClick:()=>r(!0),children:n.text}),W.jsx("button",{type:"button","aria-label":"Delete",className:"destroy",onClick:()=>i(n.id)})]})})}const c1={SHOW_ALL:()=>!0,SHOW_ACTIVE:n=>!n.completed,SHOW_COMPLETED:n=>n.completed};function f1({todos:n,dispatch:t}){const[e,r]=ct.useState("SHOW_ALL"),i=n.filter(c1[e]),a=n.filter(c=>c.completed).length,s=n.length-a,o=()=>t({type:"CLEARED_COMPLETED"}),u=()=>t({type:"TOGGLED_ALL"});return n.length===0?null:W.jsxs("section",{className:"main",children:[i.length>0?W.jsxs("div",{className:"toggle-all-container",children:[W.jsx("input",{className:"toggle-all",type:"checkbox",id:"toggle-all",checked:a===n.length,onChange:u}),W.jsx("label",{className:"toggle-all-label",htmlFor:"toggle-all",children:"Mark all as complete"})]}):null,W.jsx("ul",{className:"todo-list",children:i.map(c=>W.jsx(u1,{todo:c,dispatch:t},c.id))}),W.jsx(l1,{completedCount:a,activeCount:s,filter:e,onClearCompleted:o,onShow:r})]})}function h1(n,t){switch(t.type){case"ADDED_TODO":{const{text:e}=t.payload;n.todos.push({id:crypto.randomUUID(),completed:!1,text:e});break}case"DELETED_TODO":{const{id:e}=t.payload;n.todos=n.todos.filter(r=>r.id!==e);break}case"EDITED_TODO":{const{id:e,text:r}=t.payload;n.todos.forEach(i=>{i.id===e&&(i.text=r)});break}case"COMPLETED_TODO":{const{id:e}=t.payload;n.todos.forEach(r=>{r.id===e&&(r.completed=!r.completed)});break}case"CLEARED_COMPLETED":{n.todos=n.todos.filter(e=>!e.completed);break}case"TOGGLED_ALL":{const e=n.todos.every(r=>r.completed);n.todos.forEach(r=>{r.completed=!e});break}}}var X;(function(n){n[n.Canceled=1]="Canceled",n[n.Unknown=2]="Unknown",n[n.InvalidArgument=3]="InvalidArgument",n[n.DeadlineExceeded=4]="DeadlineExceeded",n[n.NotFound=5]="NotFound",n[n.AlreadyExists=6]="AlreadyExists",n[n.PermissionDenied=7]="PermissionDenied",n[n.ResourceExhausted=8]="ResourceExhausted",n[n.FailedPrecondition=9]="FailedPrecondition",n[n.Aborted=10]="Aborted",n[n.OutOfRange=11]="OutOfRange",n[n.Unimplemented=12]="Unimplemented",n[n.Internal=13]="Internal",n[n.Unavailable=14]="Unavailable",n[n.DataLoss=15]="DataLoss",n[n.Unauthenticated=16]="Unauthenticated"})(X||(X={}));function ty(n){const t=X[n];return typeof t!="string"?n.toString():t[0].toLowerCase()+t.substring(1).replace(/[A-Z]/g,e=>"_"+e.toLowerCase())}class ot extends Error{constructor(t,e=X.Unknown,r,i,a){super(d1(t,e)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=t,this.code=e,this.metadata=new Headers(r??{}),this.details=i??[],this.cause=a}static from(t,e=X.Unknown){return t instanceof ot?t:t instanceof Error?t.name=="AbortError"?new ot(t.message,X.Canceled):new ot(t.message,e,void 0,void 0,t):new ot(String(t),e,void 0,void 0,t)}static[Symbol.hasInstance](t){return t instanceof Error?Object.getPrototypeOf(t)===ot.prototype?!0:t.name==="ConnectError"&&"code"in t&&typeof t.code=="number"&&"metadata"in t&&"details"in t&&Array.isArray(t.details)&&"rawMessage"in t&&typeof t.rawMessage=="string"&&"cause"in t:!1}findDetails(t){const e="typeName"in t?{findMessage:i=>i===t.typeName?t:void 0}:t,r=[];for(const i of this.details){if("getType"in i){e.findMessage(i.getType().typeName)&&r.push(i);continue}const a=e.findMessage(i.type);if(a)try{r.push(a.fromBinary(i.value))}catch{}}return r}}function d1(n,t){return n.length?`[${ty(t)}] ${n}`:`[${ty(t)}]`}function wt(n,t){if(!n)throw new Error(t)}const g1=34028234663852886e22,m1=-34028234663852886e22,y1=4294967295,p1=2147483647,v1=-2147483648;function Ql(n){if(typeof n!="number")throw new Error("invalid int 32: "+typeof n);if(!Number.isInteger(n)||n>p1||n<v1)throw new Error("invalid int 32: "+n)}function Th(n){if(typeof n!="number")throw new Error("invalid uint 32: "+typeof n);if(!Number.isInteger(n)||n>y1||n<0)throw new Error("invalid uint 32: "+n)}function Q0(n){if(typeof n!="number")throw new Error("invalid float 32: "+typeof n);if(Number.isFinite(n)&&(n>g1||n<m1))throw new Error("invalid float 32: "+n)}const _0=Symbol("@bufbuild/protobuf/enum-type");function S1(n){const t=n[_0];return wt(t,"missing enum type on enum object"),t}function W0(n,t,e,r){n[_0]=tS(t,e.map(i=>({no:i.no,name:i.name,localName:n[i.no]})))}function tS(n,t,e){const r=Object.create(null),i=Object.create(null),a=[];for(const s of t){const o=eS(s);a.push(o),r[s.name]=o,i[s.no]=o}return{typeName:n,values:a,findName(s){return r[s]},findNumber(s){return i[s]}}}function T1(n,t,e){const r={};for(const i of t){const a=eS(i);r[a.localName]=a.no,r[a.no]=a.localName}return W0(r,n,t),r}function eS(n){return"localName"in n?n:Object.assign(Object.assign({},n),{localName:n.name})}class O{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,e){const r=this.getType(),i=r.runtime.bin,a=i.makeReadOptions(e);return i.readMessage(this,a.readerFactory(t),t.byteLength,a),this}fromJson(t,e){const r=this.getType(),i=r.runtime.json,a=i.makeReadOptions(e);return i.readMessage(r,t,a,this),this}fromJsonString(t,e){let r;try{r=JSON.parse(t)}catch(i){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${i instanceof Error?i.message:String(i)}`)}return this.fromJson(r,e)}toBinary(t){const e=this.getType(),r=e.runtime.bin,i=r.makeWriteOptions(t),a=i.writerFactory();return r.writeMessage(this,a,i),a.finish()}toJson(t){const e=this.getType(),r=e.runtime.json,i=r.makeWriteOptions(t);return r.writeMessage(this,i)}toJsonString(t){var e;const r=this.toJson(t);return JSON.stringify(r,null,(e=t==null?void 0:t.prettySpaces)!==null&&e!==void 0?e:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function b1(n,t,e,r){var i;const a=(i=r==null?void 0:r.localName)!==null&&i!==void 0?i:t.substring(t.lastIndexOf(".")+1),s={[a]:function(o){n.util.initFields(this),n.util.initPartial(o,this)}}[a];return Object.setPrototypeOf(s.prototype,new O),Object.assign(s,{runtime:n,typeName:t,fields:n.util.newFieldList(e),fromBinary(o,u){return new s().fromBinary(o,u)},fromJson(o,u){return new s().fromJson(o,u)},fromJsonString(o,u){return new s().fromJsonString(o,u)},equals(o,u){return n.util.equals(s,o,u)}}),s}function w1(){let n=0,t=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(n|=(i&127)<<r,!(i&128))return this.assertBounds(),[n,t]}let e=this.buf[this.pos++];if(n|=(e&15)<<28,t=(e&112)>>4,!(e&128))return this.assertBounds(),[n,t];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<r,!(i&128))return this.assertBounds(),[n,t]}throw new Error("invalid varint")}function vf(n,t,e){for(let a=0;a<28;a=a+7){const s=n>>>a,o=!(!(s>>>7)&&t==0),u=(o?s|128:s)&255;if(e.push(u),!o)return}const r=n>>>28&15|(t&7)<<4,i=!!(t>>3);if(e.push((i?r|128:r)&255),!!i){for(let a=3;a<31;a=a+7){const s=t>>>a,o=!!(s>>>7),u=(o?s|128:s)&255;if(e.push(u),!o)return}e.push(t>>>31&1)}}const _l=4294967296;function ey(n){const t=n[0]==="-";t&&(n=n.slice(1));const e=1e6;let r=0,i=0;function a(s,o){const u=Number(n.slice(s,o));i*=e,r=r*e+u,r>=_l&&(i=i+(r/_l|0),r=r%_l)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),t?rS(r,i):ag(r,i)}function A1(n,t){let e=ag(n,t);const r=e.hi&2147483648;r&&(e=rS(e.lo,e.hi));const i=nS(e.lo,e.hi);return r?"-"+i:i}function nS(n,t){if({lo:n,hi:t}=E1(n,t),t<=2097151)return String(_l*t+n);const e=n&16777215,r=(n>>>24|t<<8)&16777215,i=t>>16&65535;let a=e+r*6777216+i*6710656,s=r+i*8147497,o=i*2;const u=1e7;return a>=u&&(s+=Math.floor(a/u),a%=u),s>=u&&(o+=Math.floor(s/u),s%=u),o.toString()+ny(s)+ny(a)}function E1(n,t){return{lo:n>>>0,hi:t>>>0}}function ag(n,t){return{lo:n|0,hi:t|0}}function rS(n,t){return t=~t,n?n=~n+1:t+=1,ag(n,t)}const ny=n=>{const t=String(n);return"0000000".slice(t.length)+t};function ry(n,t){if(n>=0){for(;n>127;)t.push(n&127|128),n=n>>>7;t.push(n)}else{for(let e=0;e<9;e++)t.push(n&127|128),n=n>>7;t.push(1)}}function N1(){let n=this.buf[this.pos++],t=n&127;if(!(n&128))return this.assertBounds(),t;if(n=this.buf[this.pos++],t|=(n&127)<<7,!(n&128))return this.assertBounds(),t;if(n=this.buf[this.pos++],t|=(n&127)<<14,!(n&128))return this.assertBounds(),t;if(n=this.buf[this.pos++],t|=(n&127)<<21,!(n&128))return this.assertBounds(),t;n=this.buf[this.pos++],t|=(n&15)<<28;for(let e=5;n&128&&e<10;e++)n=this.buf[this.pos++];if(n&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}var iy={};function x1(){const n=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof n.getBigInt64=="function"&&typeof n.getBigUint64=="function"&&typeof n.setBigInt64=="function"&&typeof n.setBigUint64=="function"&&(typeof process!="object"||typeof iy!="object"||iy.BUF_BIGINT_DISABLE!=="1")){const i=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),s=BigInt("0"),o=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(u){const c=typeof u=="bigint"?u:BigInt(u);if(c>a||c<i)throw new Error(`int64 invalid: ${u}`);return c},uParse(u){const c=typeof u=="bigint"?u:BigInt(u);if(c>o||c<s)throw new Error(`uint64 invalid: ${u}`);return c},enc(u){return n.setBigInt64(0,this.parse(u),!0),{lo:n.getInt32(0,!0),hi:n.getInt32(4,!0)}},uEnc(u){return n.setBigInt64(0,this.uParse(u),!0),{lo:n.getInt32(0,!0),hi:n.getInt32(4,!0)}},dec(u,c){return n.setInt32(0,u,!0),n.setInt32(4,c,!0),n.getBigInt64(0,!0)},uDec(u,c){return n.setInt32(0,u,!0),n.setInt32(4,c,!0),n.getBigUint64(0,!0)}}}const e=i=>wt(/^-?[0-9]+$/.test(i),`int64 invalid: ${i}`),r=i=>wt(/^[0-9]+$/.test(i),`uint64 invalid: ${i}`);return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),e(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),r(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),e(i),ey(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),r(i),ey(i)},dec(i,a){return A1(i,a)},uDec(i,a){return nS(i,a)}}}const Z=x1();var E;(function(n){n[n.DOUBLE=1]="DOUBLE",n[n.FLOAT=2]="FLOAT",n[n.INT64=3]="INT64",n[n.UINT64=4]="UINT64",n[n.INT32=5]="INT32",n[n.FIXED64=6]="FIXED64",n[n.FIXED32=7]="FIXED32",n[n.BOOL=8]="BOOL",n[n.STRING=9]="STRING",n[n.BYTES=12]="BYTES",n[n.UINT32=13]="UINT32",n[n.SFIXED32=15]="SFIXED32",n[n.SFIXED64=16]="SFIXED64",n[n.SINT32=17]="SINT32",n[n.SINT64=18]="SINT64"})(E||(E={}));var Xi;(function(n){n[n.BIGINT=0]="BIGINT",n[n.STRING=1]="STRING"})(Xi||(Xi={}));function Ti(n,t,e){if(t===e)return!0;if(n==E.BYTES){if(!(t instanceof Uint8Array)||!(e instanceof Uint8Array)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}switch(n){case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return t==e}return!1}function bs(n,t){switch(n){case E.BOOL:return!1;case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return t==0?Z.zero:"0";case E.DOUBLE:case E.FLOAT:return 0;case E.BYTES:return new Uint8Array(0);case E.STRING:return"";default:return 0}}function iS(n,t){switch(n){case E.BOOL:return t===!1;case E.STRING:return t==="";case E.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}var Dt;(function(n){n[n.Varint=0]="Varint",n[n.Bit64=1]="Bit64",n[n.LengthDelimited=2]="LengthDelimited",n[n.StartGroup=3]="StartGroup",n[n.EndGroup=4]="EndGroup",n[n.Bit32=5]="Bit32"})(Dt||(Dt={}));class D1{constructor(t){this.stack=[],this.textEncoder=t??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let i=0;i<this.chunks.length;i++)t+=this.chunks[i].length;let e=new Uint8Array(t),r=0;for(let i=0;i<this.chunks.length;i++)e.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],e}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),e=this.stack.pop();if(!e)throw new Error("invalid state, fork stack empty");return this.chunks=e.chunks,this.buf=e.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,e){return this.uint32((t<<3|e)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(Th(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return Ql(t),ry(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let e=this.textEncoder.encode(t);return this.uint32(e.byteLength),this.raw(e)}float(t){Q0(t);let e=new Uint8Array(4);return new DataView(e.buffer).setFloat32(0,t,!0),this.raw(e)}double(t){let e=new Uint8Array(8);return new DataView(e.buffer).setFloat64(0,t,!0),this.raw(e)}fixed32(t){Th(t);let e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,t,!0),this.raw(e)}sfixed32(t){Ql(t);let e=new Uint8Array(4);return new DataView(e.buffer).setInt32(0,t,!0),this.raw(e)}sint32(t){return Ql(t),t=(t<<1^t>>31)>>>0,ry(t,this.buf),this}sfixed64(t){let e=new Uint8Array(8),r=new DataView(e.buffer),i=Z.enc(t);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(e)}fixed64(t){let e=new Uint8Array(8),r=new DataView(e.buffer),i=Z.uEnc(t);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(e)}int64(t){let e=Z.enc(t);return vf(e.lo,e.hi,this.buf),this}sint64(t){let e=Z.enc(t),r=e.hi>>31,i=e.lo<<1^r,a=(e.hi<<1|e.lo>>>31)^r;return vf(i,a,this.buf),this}uint64(t){let e=Z.uEnc(t);return vf(e.lo,e.hi,this.buf),this}}class O1{constructor(t,e){this.varint64=w1,this.uint32=N1,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=e??new TextDecoder}tag(){let t=this.uint32(),e=t>>>3,r=t&7;if(e<=0||r<0||r>5)throw new Error("illegal tag: field no "+e+" wire type "+r);return[e,r]}skip(t,e){let r=this.pos;switch(t){case Dt.Varint:for(;this.buf[this.pos++]&128;);break;case Dt.Bit64:this.pos+=4;case Dt.Bit32:this.pos+=4;break;case Dt.LengthDelimited:let i=this.uint32();this.pos+=i;break;case Dt.StartGroup:for(;;){const[a,s]=this.tag();if(s===Dt.EndGroup){if(e!==void 0&&a!==e)throw new Error("invalid end group tag");break}this.skip(s,a)}break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return Z.dec(...this.varint64())}uint64(){return Z.uDec(...this.varint64())}sint64(){let[t,e]=this.varint64(),r=-(t&1);return t=(t>>>1|(e&1)<<31)^r,e=e>>>1^r,Z.dec(t,e)}bool(){let[t,e]=this.varint64();return t!==0||e!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Z.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Z.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),e=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(e,e+t)}string(){return this.textDecoder.decode(this.bytes())}}function k1(n,t,e,r){let i;return{typeName:t,extendee:e,get field(){if(!i){const a=typeof r=="function"?r():r;a.name=t.split(".").pop(),a.jsonName=`[${t}]`,i=n.util.newFieldList([a]).list()[0]}return i},runtime:n}}function aS(n){const t=n.field.localName,e=Object.create(null);return e[t]=C1(n),[e,()=>e[t]]}function C1(n){const t=n.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return bs(t.T,t.L);case"message":const e=t.T,r=new e;return e.fieldWrapper?e.fieldWrapper.unwrapField(r):r;case"map":throw"map fields are not allowed to be extensions"}}function I1(n,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let e=n.length-1;e>=0;--e)if(n[e].no==t.no)return[n[e]];return[]}return n.filter(e=>e.no===t.no)}let Zr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),xc=[];for(let n=0;n<Zr.length;n++)xc[Zr[n].charCodeAt(0)]=n;xc[45]=Zr.indexOf("+");xc[95]=Zr.indexOf("/");const sg={dec(n){let t=n.length*3/4;n[n.length-2]=="="?t-=2:n[n.length-1]=="="&&(t-=1);let e=new Uint8Array(t),r=0,i=0,a,s=0;for(let o=0;o<n.length;o++){if(a=xc[n.charCodeAt(o)],a===void 0)switch(n[o]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:s=a,i=1;break;case 1:e[r++]=s<<2|(a&48)>>4,s=a,i=2;break;case 2:e[r++]=(s&15)<<4|(a&60)>>2,s=a,i=3;break;case 3:e[r++]=(s&3)<<6|a,i=0;break}}if(i==1)throw Error("invalid base64 string.");return e.subarray(0,r)},enc(n){let t="",e=0,r,i=0;for(let a=0;a<n.length;a++)switch(r=n[a],e){case 0:t+=Zr[r>>2],i=(r&3)<<4,e=1;break;case 1:t+=Zr[i|r>>4],i=(r&15)<<2,e=2;break;case 2:t+=Zr[i|r>>6],t+=Zr[r&63],e=0;break}return e&&(t+=Zr[i],t+="=",e==1&&(t+="=")),t}};function R1(n,t,e){oS(t,n);const r=t.runtime.bin.makeReadOptions(e),i=I1(n.getType().runtime.bin.listUnknownFields(n),t.field),[a,s]=aS(t);for(const o of i)t.runtime.bin.readField(a,r.readerFactory(o.data),t.field,o.wireType,r);return s()}function B1(n,t,e,r){oS(t,n);const i=t.runtime.bin.makeReadOptions(r),a=t.runtime.bin.makeWriteOptions(r);if(sS(n,t)){const c=n.getType().runtime.bin.listUnknownFields(n).filter(h=>h.no!=t.field.no);n.getType().runtime.bin.discardUnknownFields(n);for(const h of c)n.getType().runtime.bin.onUnknownField(n,h.no,h.wireType,h.data)}const s=a.writerFactory();let o=t.field;!o.opt&&!o.repeated&&(o.kind=="enum"||o.kind=="scalar")&&(o=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(o,e,s,a);const u=i.readerFactory(s.finish());for(;u.pos<u.len;){const[c,h]=u.tag(),m=u.skip(h,c);n.getType().runtime.bin.onUnknownField(n,c,h,m)}}function sS(n,t){const e=n.getType();return t.extendee.typeName===e.typeName&&!!e.runtime.bin.listUnknownFields(n).find(r=>r.no==t.field.no)}function oS(n,t){wt(n.extendee.typeName==t.getType().typeName,`extension ${n.typeName} can only be applied to message ${n.extendee.typeName}`)}function lS(n,t){const e=n.localName;if(n.repeated)return t[e].length>0;if(n.oneof)return t[n.oneof.localName].case===e;switch(n.kind){case"enum":case"scalar":return n.opt||n.req?t[e]!==void 0:n.kind=="enum"?t[e]!==n.T.values[0].no:!iS(n.T,t[e]);case"message":return t[e]!==void 0;case"map":return Object.keys(t[e]).length>0}}function ay(n,t){const e=n.localName,r=!n.opt&&!n.req;if(n.repeated)t[e]=[];else if(n.oneof)t[n.oneof.localName]={case:void 0};else switch(n.kind){case"map":t[e]={};break;case"enum":t[e]=r?n.T.values[0].no:void 0;break;case"scalar":t[e]=r?bs(n.T,n.L):void 0;break;case"message":t[e]=void 0;break}}function Qr(n,t){if(n===null||typeof n!="object"||!Object.getOwnPropertyNames(O.prototype).every(r=>r in n&&typeof n[r]=="function"))return!1;const e=n.getType();return e===null||typeof e!="function"||!("typeName"in e)||typeof e.typeName!="string"?!1:t===void 0?!0:e.typeName==t.typeName}function uS(n,t){return Qr(t)||!n.fieldWrapper?t:n.fieldWrapper.wrapField(t)}E.DOUBLE,E.FLOAT,E.INT64,E.UINT64,E.INT32,E.UINT32,E.BOOL,E.STRING,E.BYTES;const sy={ignoreUnknownFields:!1},oy={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function z1(n){return n?Object.assign(Object.assign({},sy),n):sy}function M1(n){return n?Object.assign(Object.assign({},oy),n):oy}const Mu=Symbol(),Wl=Symbol();function U1(){return{makeReadOptions:z1,makeWriteOptions:M1,readMessage(n,t,e,r){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message ${n.typeName} from JSON: ${fn(t)}`);r=r??new n;const i=new Map,a=e.typeRegistry;for(const[s,o]of Object.entries(t)){const u=n.fields.findJsonName(s);if(u){if(u.oneof){if(o===null&&u.kind=="scalar")continue;const c=i.get(u.oneof);if(c!==void 0)throw new Error(`cannot decode message ${n.typeName} from JSON: multiple keys for oneof "${u.oneof.name}" present: "${c}", "${s}"`);i.set(u.oneof,s)}ly(r,o,u,e,n)}else{let c=!1;if(a!=null&&a.findExtension&&s.startsWith("[")&&s.endsWith("]")){const h=a.findExtension(s.substring(1,s.length-1));if(h&&h.extendee.typeName==n.typeName){c=!0;const[m,d]=aS(h);ly(m,o,h.field,e,h),B1(r,h,d(),e)}}if(!c&&!e.ignoreUnknownFields)throw new Error(`cannot decode message ${n.typeName} from JSON: key "${s}" is unknown`)}}return r},writeMessage(n,t){const e=n.getType(),r={};let i;try{for(i of e.fields.byNumber()){if(!lS(i,n)){if(i.req)throw"required field not set";if(!t.emitDefaultValues||!J1(i))continue}const s=i.oneof?n[i.oneof.localName].value:n[i.localName],o=uy(i,s,t);o!==void 0&&(r[t.useProtoFieldName?i.name:i.jsonName]=o)}const a=t.typeRegistry;if(a!=null&&a.findExtensionFor)for(const s of e.runtime.bin.listUnknownFields(n)){const o=a.findExtensionFor(e.typeName,s.no);if(o&&sS(n,o)){const u=R1(n,o,t),c=uy(o.field,u,t);c!==void 0&&(r[o.field.jsonName]=c)}}}catch(a){const s=i?`cannot encode field ${e.typeName}.${i.name} to JSON`:`cannot encode message ${e.typeName} to JSON`,o=a instanceof Error?a.message:String(a);throw new Error(s+(o.length>0?`: ${o}`:""))}return r},readScalar(n,t,e){return yo(n,t,e??Xi.BIGINT,!0)},writeScalar(n,t,e){if(t!==void 0&&(e||iS(n,t)))return tu(n,t)},debug:fn}}function fn(n){if(n===null)return"null";switch(typeof n){case"object":return Array.isArray(n)?"array":"object";case"string":return n.length>100?"string":`"${n.split('"').join('\\"')}"`;default:return String(n)}}function ly(n,t,e,r,i){let a=e.localName;if(e.repeated){if(wt(e.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error(`cannot decode field ${i.typeName}.${e.name} from JSON: ${fn(t)}`);const s=n[a];for(const o of t){if(o===null)throw new Error(`cannot decode field ${i.typeName}.${e.name} from JSON: ${fn(o)}`);switch(e.kind){case"message":s.push(e.T.fromJson(o,r));break;case"enum":const u=Sf(e.T,o,r.ignoreUnknownFields,!0);u!==Wl&&s.push(u);break;case"scalar":try{s.push(yo(e.T,o,e.L,!0))}catch(c){let h=`cannot decode field ${i.typeName}.${e.name} from JSON: ${fn(o)}`;throw c instanceof Error&&c.message.length>0&&(h+=`: ${c.message}`),new Error(h)}break}}}else if(e.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error(`cannot decode field ${i.typeName}.${e.name} from JSON: ${fn(t)}`);const s=n[a];for(const[o,u]of Object.entries(t)){if(u===null)throw new Error(`cannot decode field ${i.typeName}.${e.name} from JSON: map value null`);let c;try{c=L1(e.K,o)}catch(h){let m=`cannot decode map key for field ${i.typeName}.${e.name} from JSON: ${fn(t)}`;throw h instanceof Error&&h.message.length>0&&(m+=`: ${h.message}`),new Error(m)}switch(e.V.kind){case"message":s[c]=e.V.T.fromJson(u,r);break;case"enum":const h=Sf(e.V.T,u,r.ignoreUnknownFields,!0);h!==Wl&&(s[c]=h);break;case"scalar":try{s[c]=yo(e.V.T,u,Xi.BIGINT,!0)}catch(m){let d=`cannot decode map value for field ${i.typeName}.${e.name} from JSON: ${fn(t)}`;throw m instanceof Error&&m.message.length>0&&(d+=`: ${m.message}`),new Error(d)}break}}}else switch(e.oneof&&(n=n[e.oneof.localName]={case:a},a="value"),e.kind){case"message":const s=e.T;if(t===null&&s.typeName!="google.protobuf.Value")return;let o=n[a];Qr(o)?o.fromJson(t,r):(n[a]=o=s.fromJson(t,r),s.fieldWrapper&&!e.oneof&&(n[a]=s.fieldWrapper.unwrapField(o)));break;case"enum":const u=Sf(e.T,t,r.ignoreUnknownFields,!1);switch(u){case Mu:ay(e,n);break;case Wl:break;default:n[a]=u;break}break;case"scalar":try{const c=yo(e.T,t,e.L,!1);switch(c){case Mu:ay(e,n);break;default:n[a]=c;break}}catch(c){let h=`cannot decode field ${i.typeName}.${e.name} from JSON: ${fn(t)}`;throw c instanceof Error&&c.message.length>0&&(h+=`: ${c.message}`),new Error(h)}break}}function L1(n,t){if(n===E.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1;break}return yo(n,t,Xi.BIGINT,!0).toString()}function yo(n,t,e,r){if(t===null)return r?bs(n,e):Mu;switch(n){case E.DOUBLE:case E.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const i=Number(t);if(Number.isNaN(i)||!Number.isFinite(i))break;return n==E.FLOAT&&Q0(i),i;case E.INT32:case E.FIXED32:case E.SFIXED32:case E.SINT32:case E.UINT32:let a;if(typeof t=="number"?a=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(a=Number(t)),a===void 0)break;return n==E.UINT32||n==E.FIXED32?Th(a):Ql(a),a;case E.INT64:case E.SFIXED64:case E.SINT64:if(typeof t!="number"&&typeof t!="string")break;const s=Z.parse(t);return e?s.toString():s;case E.FIXED64:case E.UINT64:if(typeof t!="number"&&typeof t!="string")break;const o=Z.uParse(t);return e?o.toString():o;case E.BOOL:if(typeof t!="boolean")break;return t;case E.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch{throw new Error("invalid UTF8")}return t;case E.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return sg.dec(t)}throw new Error}function Sf(n,t,e,r){if(t===null)return n.typeName=="google.protobuf.NullValue"?0:r?n.values[0].no:Mu;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const i=n.findName(t);if(i!==void 0)return i.no;if(e)return Wl;break}throw new Error(`cannot decode enum ${n.typeName} from JSON: ${fn(t)}`)}function J1(n){return n.repeated||n.kind=="map"?!0:!(n.oneof||n.kind=="message"||n.opt||n.req)}function uy(n,t,e){if(n.kind=="map"){wt(typeof t=="object"&&t!=null);const r={},i=Object.entries(t);switch(n.V.kind){case"scalar":for(const[s,o]of i)r[s.toString()]=tu(n.V.T,o);break;case"message":for(const[s,o]of i)r[s.toString()]=o.toJson(e);break;case"enum":const a=n.V.T;for(const[s,o]of i)r[s.toString()]=Tf(a,o,e.enumAsInteger);break}return e.emitDefaultValues||i.length>0?r:void 0}if(n.repeated){wt(Array.isArray(t));const r=[];switch(n.kind){case"scalar":for(let i=0;i<t.length;i++)r.push(tu(n.T,t[i]));break;case"enum":for(let i=0;i<t.length;i++)r.push(Tf(n.T,t[i],e.enumAsInteger));break;case"message":for(let i=0;i<t.length;i++)r.push(t[i].toJson(e));break}return e.emitDefaultValues||r.length>0?r:void 0}switch(n.kind){case"scalar":return tu(n.T,t);case"enum":return Tf(n.T,t,e.enumAsInteger);case"message":return uS(n.T,t).toJson(e)}}function Tf(n,t,e){var r;if(wt(typeof t=="number"),n.typeName=="google.protobuf.NullValue")return null;if(e)return t;const i=n.findNumber(t);return(r=i==null?void 0:i.name)!==null&&r!==void 0?r:t}function tu(n,t){switch(n){case E.INT32:case E.SFIXED32:case E.SINT32:case E.FIXED32:case E.UINT32:return wt(typeof t=="number"),t;case E.FLOAT:case E.DOUBLE:return wt(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case E.STRING:return wt(typeof t=="string"),t;case E.BOOL:return wt(typeof t=="boolean"),t;case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return wt(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case E.BYTES:return wt(t instanceof Uint8Array),sg.enc(t)}}const Ia=Symbol("@bufbuild/protobuf/unknown-fields"),cy={readUnknownFields:!0,readerFactory:n=>new O1(n)},fy={writeUnknownFields:!0,writerFactory:()=>new D1};function q1(n){return n?Object.assign(Object.assign({},cy),n):cy}function P1(n){return n?Object.assign(Object.assign({},fy),n):fy}function H1(){return{makeReadOptions:q1,makeWriteOptions:P1,listUnknownFields(n){var t;return(t=n[Ia])!==null&&t!==void 0?t:[]},discardUnknownFields(n){delete n[Ia]},writeUnknownFields(n,t){const r=n[Ia];if(r)for(const i of r)t.tag(i.no,i.wireType).raw(i.data)},onUnknownField(n,t,e,r){const i=n;Array.isArray(i[Ia])||(i[Ia]=[]),i[Ia].push({no:t,wireType:e,data:r})},readMessage(n,t,e,r,i){const a=n.getType(),s=i?t.len:t.pos+e;let o,u;for(;t.pos<s&&([o,u]=t.tag(),!(i===!0&&u==Dt.EndGroup));){const c=a.fields.find(o);if(!c){const h=t.skip(u,o);r.readUnknownFields&&this.onUnknownField(n,o,u,h);continue}hy(n,t,c,u,r)}if(i&&(u!=Dt.EndGroup||o!==e))throw new Error("invalid end group tag")},readField:hy,writeMessage(n,t,e){const r=n.getType();for(const i of r.fields.byNumber()){if(!lS(i,n)){if(i.req)throw new Error(`cannot encode field ${r.typeName}.${i.name} to binary: required field not set`);continue}const a=i.oneof?n[i.oneof.localName].value:n[i.localName];dy(i,a,t,e)}return e.writeUnknownFields&&this.writeUnknownFields(n,t),t},writeField(n,t,e,r){t!==void 0&&dy(n,t,e,r)}}}function hy(n,t,e,r,i){let{repeated:a,localName:s}=e;switch(e.oneof&&(n=n[e.oneof.localName],n.case!=s&&delete n.value,n.case=s,s="value"),e.kind){case"scalar":case"enum":const o=e.kind=="enum"?E.INT32:e.T;let u=Uu;if(e.kind=="scalar"&&e.L>0&&(u=j1),a){let d=n[s];if(r==Dt.LengthDelimited&&o!=E.STRING&&o!=E.BYTES){let b=t.uint32()+t.pos;for(;t.pos<b;)d.push(u(t,o))}else d.push(u(t,o))}else n[s]=u(t,o);break;case"message":const c=e.T;a?n[s].push(eu(t,new c,i,e)):Qr(n[s])?eu(t,n[s],i,e):(n[s]=eu(t,new c,i,e),c.fieldWrapper&&!e.oneof&&!e.repeated&&(n[s]=c.fieldWrapper.unwrapField(n[s])));break;case"map":let[h,m]=V1(e,t,i);n[s][h]=m;break}}function eu(n,t,e,r){const i=t.getType().runtime.bin,a=r==null?void 0:r.delimited;return i.readMessage(t,n,a?r.no:n.uint32(),e,a),t}function V1(n,t,e){const r=t.uint32(),i=t.pos+r;let a,s;for(;t.pos<i;){const[o]=t.tag();switch(o){case 1:a=Uu(t,n.K);break;case 2:switch(n.V.kind){case"scalar":s=Uu(t,n.V.T);break;case"enum":s=t.int32();break;case"message":s=eu(t,new n.V.T,e,void 0);break}break}}if(a===void 0&&(a=bs(n.K,Xi.BIGINT)),typeof a!="string"&&typeof a!="number"&&(a=a.toString()),s===void 0)switch(n.V.kind){case"scalar":s=bs(n.V.T,Xi.BIGINT);break;case"enum":s=n.V.T.values[0].no;break;case"message":s=new n.V.T;break}return[a,s]}function j1(n,t){const e=Uu(n,t);return typeof e=="bigint"?e.toString():e}function Uu(n,t){switch(t){case E.STRING:return n.string();case E.BOOL:return n.bool();case E.DOUBLE:return n.double();case E.FLOAT:return n.float();case E.INT32:return n.int32();case E.INT64:return n.int64();case E.UINT64:return n.uint64();case E.FIXED64:return n.fixed64();case E.BYTES:return n.bytes();case E.FIXED32:return n.fixed32();case E.SFIXED32:return n.sfixed32();case E.SFIXED64:return n.sfixed64();case E.SINT64:return n.sint64();case E.UINT32:return n.uint32();case E.SINT32:return n.sint32()}}function dy(n,t,e,r){wt(t!==void 0);const i=n.repeated;switch(n.kind){case"scalar":case"enum":let a=n.kind=="enum"?E.INT32:n.T;if(i)if(wt(Array.isArray(t)),n.packed)$1(e,a,n.no,t);else for(const s of t)po(e,a,n.no,s);else po(e,a,n.no,t);break;case"message":if(i){wt(Array.isArray(t));for(const s of t)gy(e,r,n,s)}else gy(e,r,n,t);break;case"map":wt(typeof t=="object"&&t!=null);for(const[s,o]of Object.entries(t))K1(e,r,n,s,o);break}}function K1(n,t,e,r,i){n.tag(e.no,Dt.LengthDelimited),n.fork();let a=r;switch(e.K){case E.INT32:case E.FIXED32:case E.UINT32:case E.SFIXED32:case E.SINT32:a=Number.parseInt(r);break;case E.BOOL:wt(r=="true"||r=="false"),a=r=="true";break}switch(po(n,e.K,1,a),e.V.kind){case"scalar":po(n,e.V.T,2,i);break;case"enum":po(n,E.INT32,2,i);break;case"message":wt(i!==void 0),n.tag(2,Dt.LengthDelimited).bytes(i.toBinary(t));break}n.join()}function gy(n,t,e,r){const i=uS(e.T,r);e.delimited?n.tag(e.no,Dt.StartGroup).raw(i.toBinary(t)).tag(e.no,Dt.EndGroup):n.tag(e.no,Dt.LengthDelimited).bytes(i.toBinary(t))}function po(n,t,e,r){wt(r!==void 0);let[i,a]=cS(t);n.tag(e,i)[a](r)}function $1(n,t,e,r){if(!r.length)return;n.tag(e,Dt.LengthDelimited).fork();let[,i]=cS(t);for(let a=0;a<r.length;a++)n[i](r[a]);n.join()}function cS(n){let t=Dt.Varint;switch(n){case E.BYTES:case E.STRING:t=Dt.LengthDelimited;break;case E.DOUBLE:case E.FIXED64:case E.SFIXED64:t=Dt.Bit64;break;case E.FIXED32:case E.SFIXED32:case E.FLOAT:t=Dt.Bit32;break}const e=E[n].toLowerCase();return[t,e]}function G1(){return{setEnumType:W0,initPartial(n,t){if(n===void 0)return;const e=t.getType();for(const r of e.fields.byMember()){const i=r.localName,a=t,s=n;if(s[i]!=null)switch(r.kind){case"oneof":const o=s[i].case;if(o===void 0)continue;const u=r.findField(o);let c=s[i].value;u&&u.kind=="message"&&!Qr(c,u.T)?c=new u.T(c):u&&u.kind==="scalar"&&u.T===E.BYTES&&(c=Gs(c)),a[i]={case:o,value:c};break;case"scalar":case"enum":let h=s[i];r.T===E.BYTES&&(h=r.repeated?h.map(Gs):Gs(h)),a[i]=h;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===E.BYTES)for(const[g,b]of Object.entries(s[i]))a[i][g]=Gs(b);else Object.assign(a[i],s[i]);break;case"message":const d=r.V.T;for(const g of Object.keys(s[i])){let b=s[i][g];d.fieldWrapper||(b=new d(b)),a[i][g]=b}break}break;case"message":const m=r.T;if(r.repeated)a[i]=s[i].map(d=>Qr(d,m)?d:new m(d));else{const d=s[i];m.fieldWrapper?m.typeName==="google.protobuf.BytesValue"?a[i]=Gs(d):a[i]=d:a[i]=Qr(d,m)?d:new m(d)}break}}},equals(n,t,e){return t===e?!0:!t||!e?!1:n.fields.byMember().every(r=>{const i=t[r.localName],a=e[r.localName];if(r.repeated){if(i.length!==a.length)return!1;switch(r.kind){case"message":return i.every((s,o)=>r.T.equals(s,a[o]));case"scalar":return i.every((s,o)=>Ti(r.T,s,a[o]));case"enum":return i.every((s,o)=>Ti(E.INT32,s,a[o]))}throw new Error(`repeated cannot contain ${r.kind}`)}switch(r.kind){case"message":let s=i,o=a;return r.T.fieldWrapper&&(s!==void 0&&!Qr(s)&&(s=r.T.fieldWrapper.wrapField(s)),o!==void 0&&!Qr(o)&&(o=r.T.fieldWrapper.wrapField(o))),r.T.equals(s,o);case"enum":return Ti(E.INT32,i,a);case"scalar":return Ti(r.T,i,a);case"oneof":if(i.case!==a.case)return!1;const u=r.findField(i.case);if(u===void 0)return!0;switch(u.kind){case"message":return u.T.equals(i.value,a.value);case"enum":return Ti(E.INT32,i.value,a.value);case"scalar":return Ti(u.T,i.value,a.value)}throw new Error(`oneof cannot contain ${u.kind}`);case"map":const c=Object.keys(i).concat(Object.keys(a));switch(r.V.kind){case"message":const h=r.V.T;return c.every(d=>h.equals(i[d],a[d]));case"enum":return c.every(d=>Ti(E.INT32,i[d],a[d]));case"scalar":const m=r.V.T;return c.every(d=>Ti(m,i[d],a[d]))}break}})},clone(n){const t=n.getType(),e=new t,r=e;for(const i of t.fields.byMember()){const a=n[i.localName];let s;if(i.repeated)s=a.map(Il);else if(i.kind=="map"){s=r[i.localName];for(const[o,u]of Object.entries(a))s[o]=Il(u)}else i.kind=="oneof"?s=i.findField(a.case)?{case:a.case,value:Il(a.value)}:{case:void 0}:s=Il(a);r[i.localName]=s}for(const i of t.runtime.bin.listUnknownFields(n))t.runtime.bin.onUnknownField(r,i.no,i.wireType,i.data);return e}}}function Il(n){if(n===void 0)return n;if(Qr(n))return n.clone();if(n instanceof Uint8Array){const t=new Uint8Array(n.byteLength);return t.set(n),t}return n}function Gs(n){return n instanceof Uint8Array?n:new Uint8Array(n)}function Y1(n,t,e){return{syntax:n,json:U1(),bin:H1(),util:Object.assign(Object.assign({},G1()),{newFieldList:t,initFields:e}),makeMessageType(r,i,a){return b1(this,r,i,a)},makeEnum:T1,makeEnumType:tS,getEnumType:S1,makeExtension(r,i,a){return k1(this,r,i,a)}}}class X1{constructor(t,e){this._fields=t,this._normalizer=e}findJsonName(t){if(!this.jsonNames){const e={};for(const r of this.list())e[r.jsonName]=e[r.name]=r;this.jsonNames=e}return this.jsonNames[t]}find(t){if(!this.numbers){const e={};for(const r of this.list())e[r.no]=r;this.numbers=e}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,e)=>t.no-e.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const t=this.members;let e;for(const r of this.list())r.oneof?r.oneof!==e&&(e=r.oneof,t.push(e)):t.push(r)}return this.members}}function fS(n,t){const e=hS(n);return t?e:tA(W1(e))}function F1(n){return fS(n,!1)}const Z1=hS;function hS(n){let t=!1;const e=[];for(let r=0;r<n.length;r++){let i=n.charAt(r);switch(i){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e.push(i),t=!1;break;default:t&&(t=!1,i=i.toUpperCase()),e.push(i);break}}return e.join("")}const Q1=new Set(["constructor","toString","toJSON","valueOf"]),_1=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),dS=n=>`${n}$`,W1=n=>_1.has(n)?dS(n):n,tA=n=>Q1.has(n)?dS(n):n;class eA{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=F1(t)}addField(t){wt(t.oneof===this,`field ${t.name} not one of ${this.name}`),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let e=0;e<this.fields.length;e++)this._lookup[this.fields[e].localName]=this.fields[e]}return this._lookup[t]}}function nA(n,t){var e,r,i,a,s,o;const u=[];let c;for(const h of typeof n=="function"?n():n){const m=h;if(m.localName=fS(h.name,h.oneof!==void 0),m.jsonName=(e=h.jsonName)!==null&&e!==void 0?e:Z1(h.name),m.repeated=(r=h.repeated)!==null&&r!==void 0?r:!1,h.kind=="scalar"&&(m.L=(i=h.L)!==null&&i!==void 0?i:Xi.BIGINT),m.delimited=(a=h.delimited)!==null&&a!==void 0?a:!1,m.req=(s=h.req)!==null&&s!==void 0?s:!1,m.opt=(o=h.opt)!==null&&o!==void 0?o:!1,h.packed===void 0&&(m.packed=h.kind=="enum"||h.kind=="scalar"&&h.T!=E.BYTES&&h.T!=E.STRING),h.oneof!==void 0){const d=typeof h.oneof=="string"?h.oneof:h.oneof.name;(!c||c.name!=d)&&(c=new eA(d)),m.oneof=c,c.addField(m)}u.push(m)}return u}const f=Y1("proto3",n=>new X1(n,t=>nA(t)),n=>{for(const t of n.getType().fields.byMember()){if(t.opt)continue;const e=t.localName,r=n;if(t.repeated){r[e]=[];continue}switch(t.kind){case"oneof":r[e]={case:void 0};break;case"enum":r[e]=0;break;case"map":r[e]={};break;case"scalar":r[e]=bs(t.T,t.L);break}}});var It;(function(n){n[n.Unary=0]="Unary",n[n.ServerStreaming=1]="ServerStreaming",n[n.ClientStreaming=2]="ClientStreaming",n[n.BiDiStreaming=3]="BiDiStreaming"})(It||(It={}));var my;(function(n){n[n.NoSideEffects=1]="NoSideEffects",n[n.Idempotent=2]="Idempotent"})(my||(my={}));class Vt extends O{constructor(t){super(),this.seconds=Z.zero,this.nanos=0,f.util.initPartial(t,this)}fromJson(t,e){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${f.json.debug(t)}`);const r=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const i=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Z.parse(i/1e3),this.nanos=0,r[7]&&(this.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),this}toJson(t){const e=Number(this.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let r="Z";if(this.nanos>0){const i=(this.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?r="."+i.substring(0,3)+"Z":i.substring(6)==="000"?r="."+i.substring(0,6)+"Z":r="."+i+"Z"}return new Date(e).toISOString().replace(".000Z",r)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return Vt.fromDate(new Date)}static fromDate(t){const e=t.getTime();return new Vt({seconds:Z.parse(Math.floor(e/1e3)),nanos:e%1e3*1e6})}static fromBinary(t,e){return new Vt().fromBinary(t,e)}static fromJson(t,e){return new Vt().fromJson(t,e)}static fromJsonString(t,e){return new Vt().fromJsonString(t,e)}static equals(t,e){return f.util.equals(Vt,t,e)}}Vt.runtime=f;Vt.typeName="google.protobuf.Timestamp";Vt.fields=f.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class ri extends O{constructor(t){super(),this.seconds=Z.zero,this.nanos=0,f.util.initPartial(t,this)}fromJson(t,e){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);const r=t.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(r===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);const i=Number(r[1]);if(i>315576e6||i<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);if(this.seconds=Z.parse(i),typeof r[2]=="string"){const a=r[2]+"0".repeat(9-r[2].length);this.nanos=parseInt(a),(i<0||Object.is(i,-0))&&(this.nanos=-this.nanos)}return this}toJson(t){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let e=this.seconds.toString();if(this.nanos!==0){let r=Math.abs(this.nanos).toString();r="0".repeat(9-r.length)+r,r.substring(3)==="000000"?r=r.substring(0,3):r.substring(6)==="000"&&(r=r.substring(0,6)),e+="."+r,this.nanos<0&&Number(this.seconds)==0&&(e="-"+e)}return e+"s"}static fromBinary(t,e){return new ri().fromBinary(t,e)}static fromJson(t,e){return new ri().fromJson(t,e)}static fromJsonString(t,e){return new ri().fromJsonString(t,e)}static equals(t,e){return f.util.equals(ri,t,e)}}ri.runtime=f;ri.typeName="google.protobuf.Duration";ri.fields=f.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class dn extends O{constructor(t){super(),this.typeUrl="",this.value=new Uint8Array(0),f.util.initPartial(t,this)}toJson(t){var e;if(this.typeUrl==="")return{};const r=this.typeUrlToName(this.typeUrl),i=(e=t==null?void 0:t.typeRegistry)===null||e===void 0?void 0:e.findMessage(r);if(!i)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let s=i.fromBinary(this.value).toJson(t);return(r.startsWith("google.protobuf.")||s===null||Array.isArray(s)||typeof s!="object")&&(s={value:s}),s["@type"]=this.typeUrl,s}fromJson(t,e){var r;if(t===null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${t===null?"null":Array.isArray(t)?"array":typeof t}`);if(Object.keys(t).length==0)return this;const i=t["@type"];if(typeof i!="string"||i=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const a=this.typeUrlToName(i),s=(r=e==null?void 0:e.typeRegistry)===null||r===void 0?void 0:r.findMessage(a);if(!s)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${i} is not in the type registry`);let o;if(a.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(t,"value"))o=s.fromJson(t.value,e);else{const u=Object.assign({},t);delete u["@type"],o=s.fromJson(u,e)}return this.packFrom(o),this}packFrom(t){this.value=t.toBinary(),this.typeUrl=this.typeNameToUrl(t.getType().typeName)}unpackTo(t){return this.is(t.getType())?(t.fromBinary(this.value),!0):!1}unpack(t){if(this.typeUrl==="")return;const e=t.findMessage(this.typeUrlToName(this.typeUrl));if(e)return e.fromBinary(this.value)}is(t){if(this.typeUrl==="")return!1;const e=this.typeUrlToName(this.typeUrl);let r="";return typeof t=="string"?r=t:r=t.typeName,e===r}typeNameToUrl(t){return`type.googleapis.com/${t}`}typeUrlToName(t){if(!t.length)throw new Error(`invalid type url: ${t}`);const e=t.lastIndexOf("/"),r=e>=0?t.substring(e+1):t;if(!r.length)throw new Error(`invalid type url: ${t}`);return r}static pack(t){const e=new dn;return e.packFrom(t),e}static fromBinary(t,e){return new dn().fromBinary(t,e)}static fromJson(t,e){return new dn().fromJson(t,e)}static fromJsonString(t,e){return new dn().fromJsonString(t,e)}static equals(t,e){return f.util.equals(dn,t,e)}}dn.runtime=f;dn.typeName="google.protobuf.Any";dn.fields=f.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class mn extends O{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.DOUBLE,this.value,!0)}fromJson(t,e){try{this.value=f.json.readScalar(E.DOUBLE,t)}catch(r){let i='cannot decode message google.protobuf.DoubleValue from JSON"';throw r instanceof Error&&r.message.length>0&&(i+=`: ${r.message}`),new Error(i)}return this}static fromBinary(t,e){return new mn().fromBinary(t,e)}static fromJson(t,e){return new mn().fromJson(t,e)}static fromJsonString(t,e){return new mn().fromJsonString(t,e)}static equals(t,e){return f.util.equals(mn,t,e)}}mn.runtime=f;mn.typeName="google.protobuf.DoubleValue";mn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);mn.fieldWrapper={wrapField(n){return new mn({value:n})},unwrapField(n){return n.value}};class yn extends O{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.FLOAT,this.value,!0)}fromJson(t,e){try{this.value=f.json.readScalar(E.FLOAT,t)}catch(r){let i='cannot decode message google.protobuf.FloatValue from JSON"';throw r instanceof Error&&r.message.length>0&&(i+=`: ${r.message}`),new Error(i)}return this}static fromBinary(t,e){return new yn().fromBinary(t,e)}static fromJson(t,e){return new yn().fromJson(t,e)}static fromJsonString(t,e){return new yn().fromJsonString(t,e)}static equals(t,e){return f.util.equals(yn,t,e)}}yn.runtime=f;yn.typeName="google.protobuf.FloatValue";yn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);yn.fieldWrapper={wrapField(n){return new yn({value:n})},unwrapField(n){return n.value}};class He extends O{constructor(t){super(),this.value=Z.zero,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.INT64,this.value,!0)}fromJson(t,e){try{this.value=f.json.readScalar(E.INT64,t)}catch(r){let i='cannot decode message google.protobuf.Int64Value from JSON"';throw r instanceof Error&&r.message.length>0&&(i+=`: ${r.message}`),new Error(i)}return this}static fromBinary(t,e){return new He().fromBinary(t,e)}static fromJson(t,e){return new He().fromJson(t,e)}static fromJsonString(t,e){return new He().fromJsonString(t,e)}static equals(t,e){return f.util.equals(He,t,e)}}He.runtime=f;He.typeName="google.protobuf.Int64Value";He.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);He.fieldWrapper={wrapField(n){return new He({value:n})},unwrapField(n){return n.value}};class Ve extends O{constructor(t){super(),this.value=Z.zero,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.UINT64,this.value,!0)}fromJson(t,e){try{this.value=f.json.readScalar(E.UINT64,t)}catch(r){let i='cannot decode message google.protobuf.UInt64Value from JSON"';throw r instanceof Error&&r.message.length>0&&(i+=`: ${r.message}`),new Error(i)}return this}static fromBinary(t,e){return new Ve().fromBinary(t,e)}static fromJson(t,e){return new Ve().fromJson(t,e)}static fromJsonString(t,e){return new Ve().fromJsonString(t,e)}static equals(t,e){return f.util.equals(Ve,t,e)}}Ve.runtime=f;Ve.typeName="google.protobuf.UInt64Value";Ve.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);Ve.fieldWrapper={wrapField(n){return new Ve({value:n})},unwrapField(n){return n.value}};class me extends O{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.INT32,this.value,!0)}fromJson(t,e){try{this.value=f.json.readScalar(E.INT32,t)}catch(r){let i='cannot decode message google.protobuf.Int32Value from JSON"';throw r instanceof Error&&r.message.length>0&&(i+=`: ${r.message}`),new Error(i)}return this}static fromBinary(t,e){return new me().fromBinary(t,e)}static fromJson(t,e){return new me().fromJson(t,e)}static fromJsonString(t,e){return new me().fromJsonString(t,e)}static equals(t,e){return f.util.equals(me,t,e)}}me.runtime=f;me.typeName="google.protobuf.Int32Value";me.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);me.fieldWrapper={wrapField(n){return new me({value:n})},unwrapField(n){return n.value}};class pn extends O{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.UINT32,this.value,!0)}fromJson(t,e){try{this.value=f.json.readScalar(E.UINT32,t)}catch(r){let i='cannot decode message google.protobuf.UInt32Value from JSON"';throw r instanceof Error&&r.message.length>0&&(i+=`: ${r.message}`),new Error(i)}return this}static fromBinary(t,e){return new pn().fromBinary(t,e)}static fromJson(t,e){return new pn().fromJson(t,e)}static fromJsonString(t,e){return new pn().fromJsonString(t,e)}static equals(t,e){return f.util.equals(pn,t,e)}}pn.runtime=f;pn.typeName="google.protobuf.UInt32Value";pn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);pn.fieldWrapper={wrapField(n){return new pn({value:n})},unwrapField(n){return n.value}};class We extends O{constructor(t){super(),this.value=!1,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.BOOL,this.value,!0)}fromJson(t,e){try{this.value=f.json.readScalar(E.BOOL,t)}catch(r){let i='cannot decode message google.protobuf.BoolValue from JSON"';throw r instanceof Error&&r.message.length>0&&(i+=`: ${r.message}`),new Error(i)}return this}static fromBinary(t,e){return new We().fromBinary(t,e)}static fromJson(t,e){return new We().fromJson(t,e)}static fromJsonString(t,e){return new We().fromJsonString(t,e)}static equals(t,e){return f.util.equals(We,t,e)}}We.runtime=f;We.typeName="google.protobuf.BoolValue";We.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);We.fieldWrapper={wrapField(n){return new We({value:n})},unwrapField(n){return n.value}};class Ot extends O{constructor(t){super(),this.value="",f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.STRING,this.value,!0)}fromJson(t,e){try{this.value=f.json.readScalar(E.STRING,t)}catch(r){let i='cannot decode message google.protobuf.StringValue from JSON"';throw r instanceof Error&&r.message.length>0&&(i+=`: ${r.message}`),new Error(i)}return this}static fromBinary(t,e){return new Ot().fromBinary(t,e)}static fromJson(t,e){return new Ot().fromJson(t,e)}static fromJsonString(t,e){return new Ot().fromJsonString(t,e)}static equals(t,e){return f.util.equals(Ot,t,e)}}Ot.runtime=f;Ot.typeName="google.protobuf.StringValue";Ot.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);Ot.fieldWrapper={wrapField(n){return new Ot({value:n})},unwrapField(n){return n.value}};class vn extends O{constructor(t){super(),this.value=new Uint8Array(0),f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.BYTES,this.value,!0)}fromJson(t,e){try{this.value=f.json.readScalar(E.BYTES,t)}catch(r){let i='cannot decode message google.protobuf.BytesValue from JSON"';throw r instanceof Error&&r.message.length>0&&(i+=`: ${r.message}`),new Error(i)}return this}static fromBinary(t,e){return new vn().fromBinary(t,e)}static fromJson(t,e){return new vn().fromJson(t,e)}static fromJsonString(t,e){return new vn().fromJsonString(t,e)}static equals(t,e){return f.util.equals(vn,t,e)}}vn.runtime=f;vn.typeName="google.protobuf.BytesValue";vn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);vn.fieldWrapper={wrapField(n){return new vn({value:n})},unwrapField(n){return n.value}};function rA(n,t,e){try{const r=sg.dec(n);return t?t.fromBinary(r,e):r}catch(r){throw ot.from(r,X.DataLoss)}}function iA(n,t){const e={};for(const[r,i]of Object.entries(n.methods)){const a=t(Object.assign(Object.assign({},i),{localName:r,service:n}));a!=null&&(e[r]=a)}return e}const yy=1;function py(n){let t,e=new Uint8Array(0);function r(i){const a=new Uint8Array(e.length+i.length);a.set(e),a.set(i,e.length),e=a}return new ReadableStream({start(){t=n.getReader()},async pull(i){let a;for(;;){if(a===void 0&&e.byteLength>=5){let u=0;for(let c=1;c<5;c++)u=(u<<8)+e[c];a={flags:e[0],length:u}}if(a!==void 0&&e.byteLength>=a.length+5)break;const o=await t.read();if(o.done)break;r(o.value)}if(a===void 0){if(e.byteLength==0){i.close();return}i.error(new ot("premature end of stream",X.DataLoss));return}const s=e.subarray(5,5+a.length);e=e.subarray(5+a.length),i.enqueue({flags:a.flags,data:s})}})}function vy(n,t){const e=new Uint8Array(t.length+5);e.set(t,5);const r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setUint8(0,n),r.setUint32(1,t.length),e}var aA=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(a){e[a]=n[a]&&function(s){return new Promise(function(o,u){s=n[a](s),i(o,u,s.done,s.value)})}}function i(a,s,o,u){Promise.resolve(u).then(function(c){a({value:c,done:o})},s)}},Lo=function(n){return this instanceof Lo?(this.v=n,this):new Lo(n)},sA=function(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),i,a=[];return i={},o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(b){return Promise.resolve(b).then(g,m)}}function o(g,b){r[g]&&(i[g]=function(A){return new Promise(function(x,p){a.push([g,A,x,p])>1||u(g,A)})},b&&(i[g]=b(i[g])))}function u(g,b){try{c(r[g](b))}catch(A){d(a[0][3],A)}}function c(g){g.value instanceof Lo?Promise.resolve(g.value.v).then(h,m):d(a[0][2],g)}function h(g){u("next",g)}function m(g){u("throw",g)}function d(g,b){g(b),a.shift(),a.length&&u(a[0][0],a[0][1])}},oA=function(n){var t,e;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=n[i]?function(s){return(e=!e)?{value:Lo(n[i](s)),done:!1}:a?a(s):s}:a}};function lA(n){return sA(this,arguments,function*(){yield Lo(yield*oA(aA(n)))})}var gS=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(a){e[a]=n[a]&&function(s){return new Promise(function(o,u){s=n[a](s),i(o,u,s.done,s.value)})}}function i(a,s,o,u){Promise.resolve(u).then(function(c){a({value:c,done:o})},s)}},ws=function(n){return this instanceof ws?(this.v=n,this):new ws(n)},uA=function(n){var t,e;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=n[i]?function(s){return(e=!e)?{value:ws(n[i](s)),done:!1}:a?a(s):s}:a}},cA=function(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),i,a=[];return i={},o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(b){return Promise.resolve(b).then(g,m)}}function o(g,b){r[g]&&(i[g]=function(A){return new Promise(function(x,p){a.push([g,A,x,p])>1||u(g,A)})},b&&(i[g]=b(i[g])))}function u(g,b){try{c(r[g](b))}catch(A){d(a[0][3],A)}}function c(g){g.value instanceof ws?Promise.resolve(g.value.v).then(h,m):d(a[0][2],g)}function h(g){u("next",g)}function m(g){u("throw",g)}function d(g,b){g(b),a.shift(),a.length&&u(a[0][0],a[0][1])}};function fA(n,t){return iA(n,e=>{switch(e.kind){case It.Unary:return hA(t,n,e);case It.ServerStreaming:return dA(t,n,e);case It.ClientStreaming:return gA(t,n,e);case It.BiDiStreaming:return mA(t,n,e);default:return null}})}function hA(n,t,e){return async function(r,i){var a,s;const o=await n.unary(t,e,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,r,i==null?void 0:i.contextValues);return(a=i==null?void 0:i.onHeader)===null||a===void 0||a.call(i,o.header),(s=i==null?void 0:i.onTrailer)===null||s===void 0||s.call(i,o.trailer),o.message}}function dA(n,t,e){return function(r,i){return mS(n.stream(t,e,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,lA([r]),i==null?void 0:i.contextValues),i)}}function gA(n,t,e){return async function(r,i){var a,s,o,u,c,h;const m=await n.stream(t,e,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,r,i==null?void 0:i.contextValues);(c=i==null?void 0:i.onHeader)===null||c===void 0||c.call(i,m.header);let d,g=0;try{for(var b=!0,A=gS(m.message),x;x=await A.next(),a=x.done,!a;b=!0)u=x.value,b=!1,d=u,g++}catch(p){s={error:p}}finally{try{!b&&!a&&(o=A.return)&&await o.call(A)}finally{if(s)throw s.error}}if(!d)throw new ot("protocol error: missing response message",X.Unimplemented);if(g>1)throw new ot("protocol error: received extra messages for client streaming method",X.Unimplemented);return(h=i==null?void 0:i.onTrailer)===null||h===void 0||h.call(i,m.trailer),d}}function mA(n,t,e){return function(r,i){return mS(n.stream(t,e,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,r,i==null?void 0:i.contextValues),i)}}function mS(n,t){const e=function(){return cA(this,arguments,function*(){var r,i;const a=yield ws(n);(r=t==null?void 0:t.onHeader)===null||r===void 0||r.call(t,a.header),yield ws(yield*uA(gS(a.message))),(i=t==null?void 0:t.onTrailer)===null||i===void 0||i.call(t,a.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>e.next()})}}function yA(...n){const t=new AbortController,e=n.filter(i=>i!==void 0).concat(t.signal);for(const i of e){if(i.aborted){r.apply(i);break}i.addEventListener("abort",r)}function r(){t.signal.aborted||t.abort(yS(this));for(const i of e)i.removeEventListener("abort",r)}return t}function pA(n){const t=new AbortController,e=()=>{t.abort(new ot("the operation timed out",X.DeadlineExceeded))};let r;return n!==void 0&&(n<=0?e():r=setTimeout(e,n)),{signal:t.signal,cleanup:()=>clearTimeout(r)}}function yS(n){if(!n.aborted)return;if(n.reason!==void 0)return n.reason;const t=new Error("This operation was aborted");return t.name="AbortError",t}function Sy(){return{get(n){return n.id in this?this[n.id]:n.defaultValue},set(n,t){return this[n.id]=t,this},delete(n){return delete this[n.id],this}}}const bf=128;function Ty(n){const t=new Headers,e=new TextDecoder().decode(n).split(`\r
`);for(const r of e){if(r==="")continue;const i=r.indexOf(":");if(i>0){const a=r.substring(0,i).trim(),s=r.substring(i+1).trim();t.append(a,s)}}return t}const vA="Content-Type",SA="Grpc-Timeout",As="Grpc-Status",pS="Grpc-Message",TA="Grpc-Status-Details-Bin",bA="X-User-Agent",wA="X-Grpc-Web",AA="application/grpc-web+proto",EA="application/grpc-web+json";class ii extends O{constructor(t){super(),this.code=0,this.message="",this.details=[],f.util.initPartial(t,this)}static fromBinary(t,e){return new ii().fromBinary(t,e)}static fromJson(t,e){return new ii().fromJson(t,e)}static fromJsonString(t,e){return new ii().fromJsonString(t,e)}static equals(t,e){return f.util.equals(ii,t,e)}}ii.runtime=f;ii.typeName="google.rpc.Status";ii.fields=f.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:dn,repeated:!0}]);const NA="0";function vS(n){var t;const e=n.get(TA);if(e!=null){const i=rA(e,ii);if(i.code==0)return;const a=new ot(i.message,i.code,n);return a.details=i.details.map(s=>({type:s.typeUrl.substring(s.typeUrl.lastIndexOf("/")+1),value:s.value})),a}const r=n.get(As);if(r!=null){if(r===NA)return;const i=parseInt(r,10);return i in X?new ot(decodeURIComponent((t=n.get(pS))!==null&&t!==void 0?t:""),i,n):new ot(`invalid grpc-status: ${r}`,X.Internal,n)}}function by(n,t,e){const r=typeof t=="string"?t:t.typeName,i=typeof e=="string"?e:e.name;return n.toString().replace(/\/?$/,`/${r}/${i}`)}function SS(n,t){return t instanceof n?t:new n(t)}function xA(n,t){function e(r){return r.done===!0?r:{done:r.done,value:SS(n,r.value)}}return{[Symbol.asyncIterator](){const r=t[Symbol.asyncIterator](),i={next:()=>r.next().then(e)};return r.throw!==void 0&&(i.throw=a=>r.throw(a).then(e)),r.return!==void 0&&(i.return=a=>r.return(a).then(e)),i}}}function TS(n,t){var e;return(e=t==null?void 0:t.concat().reverse().reduce((r,i)=>i(r),n))!==null&&e!==void 0?e:n}function DA(n){var t;const e=Object.assign({},n);return(t=e.ignoreUnknownFields)!==null&&t!==void 0||(e.ignoreUnknownFields=!0),e}function wy(n,t,e,r){const i=t?Ay(n.I,r):Ey(n.I,e);return{parse:(t?Ay(n.O,r):Ey(n.O,e)).parse,serialize:i.serialize}}function Ay(n,t){return{parse(e){try{return n.fromBinary(e,t)}catch(r){const i=r instanceof Error?r.message:String(r);throw new ot(`parse binary: ${i}`,X.Internal)}},serialize(e){try{return e.toBinary(t)}catch(r){const i=r instanceof Error?r.message:String(r);throw new ot(`serialize binary: ${i}`,X.Internal)}}}}function Ey(n,t){var e,r;const i=(e=t==null?void 0:t.textEncoder)!==null&&e!==void 0?e:new TextEncoder,a=(r=t==null?void 0:t.textDecoder)!==null&&r!==void 0?r:new TextDecoder,s=DA(t);return{parse(o){try{const u=a.decode(o);return n.fromJsonString(u,s)}catch(u){throw ot.from(u,X.InvalidArgument)}},serialize(o){try{const u=o.toJsonString(s);return i.encode(u)}catch(u){throw ot.from(u,X.Internal)}}}}function OA(n){const t=TS(n.next,n.interceptors),[e,r,i]=bS(n),a=Object.assign(Object.assign({},n.req),{message:SS(n.req.method.I,n.req.message),signal:e});return t(a).then(s=>(i(),s),r)}function kA(n){const t=TS(n.next,n.interceptors),[e,r,i]=bS(n),a=Object.assign(Object.assign({},n.req),{message:xA(n.req.method.I,n.req.message),signal:e});let s=!1;return e.addEventListener("abort",function(){var o,u;const c=n.req.message[Symbol.asyncIterator]();s||(o=c.throw)===null||o===void 0||o.call(c,this.reason).catch(()=>{}),(u=c.return)===null||u===void 0||u.call(c).catch(()=>{})}),t(a).then(o=>Object.assign(Object.assign({},o),{message:{[Symbol.asyncIterator](){const u=o.message[Symbol.asyncIterator]();return{next(){return u.next().then(c=>(c.done==!0&&(s=!0,i()),c),r)}}}}}),r)}function bS(n){const{signal:t,cleanup:e}=pA(n.timeoutMs),r=yA(n.signal,t);return[r.signal,function(a){const s=ot.from(t.aborted?yS(t):a);return r.abort(s),e(),Promise.reject(s)},function(){e(),r.abort()}]}function CA(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Ny(n,t){const e=vS(n);if(e)throw t.forEach((r,i)=>{e.metadata.append(i,r)}),e;if(!t.has(As)&&!n.has(As))throw new ot("protocol error: missing status",X.Internal)}function xy(n,t,e,r){const i=new Headers(e??{});return i.set(vA,n?AA:EA),i.set(wA,"1"),i.set(bA,"connect-es/1.6.1"),t!==void 0&&i.set(SA,`${t}m`),i}function IA(n){switch(n){case 400:return X.Internal;case 401:return X.Unauthenticated;case 403:return X.PermissionDenied;case 404:return X.Unimplemented;case 429:return X.Unavailable;case 502:return X.Unavailable;case 503:return X.Unavailable;case 504:return X.Unavailable;default:return X.Unknown}}function Dy(n,t){var e;if(n>=200&&n<300)return{foundStatus:t.has(As),headerError:vS(t)};throw new ot(decodeURIComponent((e=t.get(pS))!==null&&e!==void 0?e:`HTTP ${n}`),IA(n),t)}var sa=function(n){return this instanceof sa?(this.v=n,this):new sa(n)},RA=function(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(n,t||[]),i,a=[];return i={},o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(b){return Promise.resolve(b).then(g,m)}}function o(g,b){r[g]&&(i[g]=function(A){return new Promise(function(x,p){a.push([g,A,x,p])>1||u(g,A)})},b&&(i[g]=b(i[g])))}function u(g,b){try{c(r[g](b))}catch(A){d(a[0][3],A)}}function c(g){g.value instanceof sa?Promise.resolve(g.value.v).then(h,m):d(a[0][2],g)}function h(g){u("next",g)}function m(g){u("throw",g)}function d(g,b){g(b),a.shift(),a.length&&u(a[0][0],a[0][1])}};function BA(n){var t;CA();const e=(t=n.useBinaryFormat)!==null&&t!==void 0?t:!0;return{async unary(r,i,a,s,o,u,c){var h;const{serialize:m,parse:d}=wy(i,e,n.jsonOptions,n.binaryOptions);return s=s===void 0?n.defaultTimeoutMs:s<=0?void 0:s,await OA({interceptors:n.interceptors,signal:a,timeoutMs:s,req:{stream:!1,service:r,method:i,url:by(n.baseUrl,r,i),init:{method:"POST",credentials:(h=n.credentials)!==null&&h!==void 0?h:"same-origin",redirect:"error",mode:"cors"},header:xy(e,s,o),contextValues:c??Sy(),message:u},next:async g=>{var b;const x=await((b=n.fetch)!==null&&b!==void 0?b:globalThis.fetch)(g.url,Object.assign(Object.assign({},g.init),{headers:g.header,signal:g.signal,body:vy(0,m(g.message))})),{headerError:p}=Dy(x.status,x.headers);if(!x.body)throw p!==void 0?p:"missing response body";const y=py(x.body).getReader();let v,w;for(;;){const k=await y.read();if(k.done)break;const{flags:I,data:C}=k.value;if((I&yy)===yy)throw new ot("protocol error: received unsupported compressed output",X.Internal);if(I===bf){if(v!==void 0)throw"extra trailer";v=Ty(C);continue}if(w!==void 0)throw new ot("extra message",X.Unimplemented);w=d(C)}if(v===void 0)throw p!==void 0?p:new ot("missing trailer",x.headers.has(As)?X.Unimplemented:X.Unknown);if(Ny(v,x.headers),w===void 0)throw new ot("missing message",v.has(As)?X.Unimplemented:X.Unknown);return{stream:!1,service:r,method:i,header:x.headers,message:w,trailer:v}}})},async stream(r,i,a,s,o,u,c){var h;const{serialize:m,parse:d}=wy(i,e,n.jsonOptions,n.binaryOptions);function g(A,x,p,y,v){return RA(this,arguments,function*(){const k=py(A).getReader();if(x){if(!(yield sa(k.read())).done)throw"extra data for trailers-only";return yield sa(void 0)}let I=!1;for(;;){const C=yield sa(k.read());if(C.done)break;const{flags:R,data:P}=C.value;if((R&bf)===bf){if(I)throw"extra trailer";I=!0;const J=Ty(P);Ny(J,y),J.forEach((Yt,ln)=>p.set(ln,Yt));continue}if(I)throw"extra message";yield yield sa(d(P))}if("throwIfAborted"in v&&v.throwIfAborted(),!I)throw"missing trailer"})}async function b(A){if(i.kind!=It.ServerStreaming)throw"The fetch API does not support streaming request bodies";const x=await A[Symbol.asyncIterator]().next();if(x.done==!0)throw"missing request message";return vy(0,m(x.value))}return s=s===void 0?n.defaultTimeoutMs:s<=0?void 0:s,kA({interceptors:n.interceptors,signal:a,timeoutMs:s,req:{stream:!0,service:r,method:i,url:by(n.baseUrl,r,i),init:{method:"POST",credentials:(h=n.credentials)!==null&&h!==void 0?h:"same-origin",redirect:"error",mode:"cors"},header:xy(e,s,o),contextValues:c??Sy(),message:u},next:async A=>{var x;const y=await((x=n.fetch)!==null&&x!==void 0?x:globalThis.fetch)(A.url,Object.assign(Object.assign({},A.init),{headers:A.header,signal:A.signal,body:await b(A.message)})),{foundStatus:v,headerError:w}=Dy(y.status,y.headers);if(w!=null)throw w;if(!y.body)throw"missing response body";const k=new Headers;return Object.assign(Object.assign({},A),{header:y.headers,trailer:k,message:g(y.body,v,k,y.headers,A.signal)})}})}}}var H=(n=>(n[n.NULL=0]="NULL",n[n.BOOLEAN=1]="BOOLEAN",n[n.INTEGER=2]="INTEGER",n[n.LONG=3]="LONG",n[n.DOUBLE=4]="DOUBLE",n[n.STRING=5]="STRING",n[n.BYTES=6]="BYTES",n[n.DATE=7]="DATE",n[n.JSON_OBJECT=8]="JSON_OBJECT",n[n.JSON_ARRAY=9]="JSON_ARRAY",n[n.TEXT=10]="TEXT",n[n.INTEGER_CNT=11]="INTEGER_CNT",n[n.LONG_CNT=12]="LONG_CNT",n[n.TREE=13]="TREE",n))(H||{});f.util.setEnumType(H,"yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER"},{no:3,name:"VALUE_TYPE_LONG"},{no:4,name:"VALUE_TYPE_DOUBLE"},{no:5,name:"VALUE_TYPE_STRING"},{no:6,name:"VALUE_TYPE_BYTES"},{no:7,name:"VALUE_TYPE_DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE"}]);var ma=(n=>(n[n.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",n[n.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",n[n.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",n[n.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",n))(ma||{});f.util.setEnumType(ma,"yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST"}]);const zn=class zn extends O{constructor(e){super();l(this,"root");l(this,"presences",{});f.util.initPartial(e,this)}static fromBinary(e,r){return new zn().fromBinary(e,r)}static fromJson(e,r){return new zn().fromJson(e,r)}static fromJsonString(e,r){return new zn().fromJsonString(e,r)}static equals(e,r){return f.util.equals(zn,e,r)}};l(zn,"runtime",f),l(zn,"typeName","yorkie.v1.Snapshot"),l(zn,"fields",f.util.newFieldList(()=>[{no:1,name:"root",kind:"message",T:ue},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:kc}}]));let bh=zn;var ke;let pi=(ke=class extends O{constructor(e){super();l(this,"documentKey","");l(this,"checkpoint");l(this,"snapshot",new Uint8Array(0));l(this,"changes",[]);l(this,"minSyncedTicket");l(this,"isRemoved",!1);l(this,"versionVector");f.util.initPartial(e,this)}static fromBinary(e,r){return new ke().fromBinary(e,r)}static fromJson(e,r){return new ke().fromJson(e,r)}static fromJsonString(e,r){return new ke().fromJsonString(e,r)}static equals(e,r){return f.util.equals(ke,e,r)}},l(ke,"runtime",f),l(ke,"typeName","yorkie.v1.ChangePack"),l(ke,"fields",f.util.newFieldList(()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:ES},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:wS,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:M},{no:6,name:"is_removed",kind:"scalar",T:8},{no:7,name:"version_vector",kind:"message",T:Oc}])),ke);var Ce;let wS=(Ce=class extends O{constructor(e){super();l(this,"id");l(this,"message","");l(this,"operations",[]);l(this,"presenceChange");f.util.initPartial(e,this)}static fromBinary(e,r){return new Ce().fromBinary(e,r)}static fromJson(e,r){return new Ce().fromJson(e,r)}static fromJsonString(e,r){return new Ce().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Ce,e,r)}},l(Ce,"runtime",f),l(Ce,"typeName","yorkie.v1.Change"),l(Ce,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Dc},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:og,repeated:!0},{no:4,name:"presence_change",kind:"message",T:Po}])),Ce);var Ie;let Dc=(Ie=class extends O{constructor(e){super();l(this,"clientSeq",0);l(this,"serverSeq",Z.zero);l(this,"lamport",Z.zero);l(this,"actorId",new Uint8Array(0));l(this,"versionVector");f.util.initPartial(e,this)}static fromBinary(e,r){return new Ie().fromBinary(e,r)}static fromJson(e,r){return new Ie().fromJson(e,r)}static fromJsonString(e,r){return new Ie().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Ie,e,r)}},l(Ie,"runtime",f),l(Ie,"typeName","yorkie.v1.ChangeID"),l(Ie,"fields",f.util.newFieldList(()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3},{no:3,name:"lamport",kind:"scalar",T:3},{no:4,name:"actor_id",kind:"scalar",T:12},{no:5,name:"version_vector",kind:"message",T:Oc}])),Ie);var Re;let Oc=(Re=class extends O{constructor(e){super();l(this,"vector",{});f.util.initPartial(e,this)}static fromBinary(e,r){return new Re().fromBinary(e,r)}static fromJson(e,r){return new Re().fromJson(e,r)}static fromJsonString(e,r){return new Re().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Re,e,r)}},l(Re,"runtime",f),l(Re,"typeName","yorkie.v1.VersionVector"),l(Re,"fields",f.util.newFieldList(()=>[{no:1,name:"vector",kind:"map",K:9,V:{kind:"scalar",T:3}}])),Re);var Be;let og=(Be=class extends O{constructor(e){super();l(this,"body",{case:void 0});f.util.initPartial(e,this)}static fromBinary(e,r){return new Be().fromBinary(e,r)}static fromJson(e,r){return new Be().fromJson(e,r)}static fromJsonString(e,r){return new Be().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Be,e,r)}},l(Be,"runtime",f),l(Be,"typeName","yorkie.v1.Operation"),l(Be,"fields",f.util.newFieldList(()=>[{no:1,name:"set",kind:"message",T:Lu,oneof:"body"},{no:2,name:"add",kind:"message",T:Ju,oneof:"body"},{no:3,name:"move",kind:"message",T:qu,oneof:"body"},{no:4,name:"remove",kind:"message",T:Pu,oneof:"body"},{no:5,name:"edit",kind:"message",T:Hu,oneof:"body"},{no:7,name:"style",kind:"message",T:Vu,oneof:"body"},{no:8,name:"increase",kind:"message",T:ju,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:Ku,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:$u,oneof:"body"},{no:11,name:"array_set",kind:"message",T:Gu,oneof:"body"}])),Be);const Mn=class Mn extends O{constructor(e){super();l(this,"parentCreatedAt");l(this,"key","");l(this,"value");l(this,"executedAt");f.util.initPartial(e,this)}static fromBinary(e,r){return new Mn().fromBinary(e,r)}static fromJson(e,r){return new Mn().fromJson(e,r)}static fromJsonString(e,r){return new Mn().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Mn,e,r)}};l(Mn,"runtime",f),l(Mn,"typeName","yorkie.v1.Operation.Set"),l(Mn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:Oe},{no:4,name:"executed_at",kind:"message",T:M}]));let Lu=Mn;const Un=class Un extends O{constructor(e){super();l(this,"parentCreatedAt");l(this,"prevCreatedAt");l(this,"value");l(this,"executedAt");f.util.initPartial(e,this)}static fromBinary(e,r){return new Un().fromBinary(e,r)}static fromJson(e,r){return new Un().fromJson(e,r)}static fromJsonString(e,r){return new Un().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Un,e,r)}};l(Un,"runtime",f),l(Un,"typeName","yorkie.v1.Operation.Add"),l(Un,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"prev_created_at",kind:"message",T:M},{no:3,name:"value",kind:"message",T:Oe},{no:4,name:"executed_at",kind:"message",T:M}]));let Ju=Un;const Ln=class Ln extends O{constructor(e){super();l(this,"parentCreatedAt");l(this,"prevCreatedAt");l(this,"createdAt");l(this,"executedAt");f.util.initPartial(e,this)}static fromBinary(e,r){return new Ln().fromBinary(e,r)}static fromJson(e,r){return new Ln().fromJson(e,r)}static fromJsonString(e,r){return new Ln().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Ln,e,r)}};l(Ln,"runtime",f),l(Ln,"typeName","yorkie.v1.Operation.Move"),l(Ln,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"prev_created_at",kind:"message",T:M},{no:3,name:"created_at",kind:"message",T:M},{no:4,name:"executed_at",kind:"message",T:M}]));let qu=Ln;const Jn=class Jn extends O{constructor(e){super();l(this,"parentCreatedAt");l(this,"createdAt");l(this,"executedAt");f.util.initPartial(e,this)}static fromBinary(e,r){return new Jn().fromBinary(e,r)}static fromJson(e,r){return new Jn().fromJson(e,r)}static fromJsonString(e,r){return new Jn().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Jn,e,r)}};l(Jn,"runtime",f),l(Jn,"typeName","yorkie.v1.Operation.Remove"),l(Jn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"created_at",kind:"message",T:M},{no:3,name:"executed_at",kind:"message",T:M}]));let Pu=Jn;const qn=class qn extends O{constructor(e){super();l(this,"parentCreatedAt");l(this,"from");l(this,"to");l(this,"createdAtMapByActor",{});l(this,"content","");l(this,"executedAt");l(this,"attributes",{});f.util.initPartial(e,this)}static fromBinary(e,r){return new qn().fromBinary(e,r)}static fromJson(e,r){return new qn().fromJson(e,r)}static fromJsonString(e,r){return new qn().fromJsonString(e,r)}static equals(e,r){return f.util.equals(qn,e,r)}};l(qn,"runtime",f),l(qn,"typeName","yorkie.v1.Operation.Edit"),l(qn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"from",kind:"message",T:wa},{no:3,name:"to",kind:"message",T:wa},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:M}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:M},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let Hu=qn;const Pn=class Pn extends O{constructor(e){super();l(this,"parentCreatedAt");l(this,"from");l(this,"to");l(this,"attributes",{});l(this,"executedAt");l(this,"createdAtMapByActor",{});f.util.initPartial(e,this)}static fromBinary(e,r){return new Pn().fromBinary(e,r)}static fromJson(e,r){return new Pn().fromJson(e,r)}static fromJsonString(e,r){return new Pn().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Pn,e,r)}};l(Pn,"runtime",f),l(Pn,"typeName","yorkie.v1.Operation.Style"),l(Pn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"from",kind:"message",T:wa},{no:3,name:"to",kind:"message",T:wa},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:M},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:M}}]));let Vu=Pn;const Hn=class Hn extends O{constructor(e){super();l(this,"parentCreatedAt");l(this,"value");l(this,"executedAt");f.util.initPartial(e,this)}static fromBinary(e,r){return new Hn().fromBinary(e,r)}static fromJson(e,r){return new Hn().fromJson(e,r)}static fromJsonString(e,r){return new Hn().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Hn,e,r)}};l(Hn,"runtime",f),l(Hn,"typeName","yorkie.v1.Operation.Increase"),l(Hn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"value",kind:"message",T:Oe},{no:3,name:"executed_at",kind:"message",T:M}]));let ju=Hn;const Vn=class Vn extends O{constructor(e){super();l(this,"parentCreatedAt");l(this,"from");l(this,"to");l(this,"createdAtMapByActor",{});l(this,"contents",[]);l(this,"splitLevel",0);l(this,"executedAt");f.util.initPartial(e,this)}static fromBinary(e,r){return new Vn().fromBinary(e,r)}static fromJson(e,r){return new Vn().fromJson(e,r)}static fromJsonString(e,r){return new Vn().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Vn,e,r)}};l(Vn,"runtime",f),l(Vn,"typeName","yorkie.v1.Operation.TreeEdit"),l(Vn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"from",kind:"message",T:Ta},{no:3,name:"to",kind:"message",T:Ta},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:M}},{no:5,name:"contents",kind:"message",T:ec,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:M}]));let Ku=Vn;const jn=class jn extends O{constructor(e){super();l(this,"parentCreatedAt");l(this,"from");l(this,"to");l(this,"attributes",{});l(this,"executedAt");l(this,"attributesToRemove",[]);l(this,"createdAtMapByActor",{});f.util.initPartial(e,this)}static fromBinary(e,r){return new jn().fromBinary(e,r)}static fromJson(e,r){return new jn().fromJson(e,r)}static fromJsonString(e,r){return new jn().fromJsonString(e,r)}static equals(e,r){return f.util.equals(jn,e,r)}};l(jn,"runtime",f),l(jn,"typeName","yorkie.v1.Operation.TreeStyle"),l(jn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"from",kind:"message",T:Ta},{no:3,name:"to",kind:"message",T:Ta},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:M},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:M}}]));let $u=jn;const Kn=class Kn extends O{constructor(e){super();l(this,"parentCreatedAt");l(this,"createdAt");l(this,"value");l(this,"executedAt");f.util.initPartial(e,this)}static fromBinary(e,r){return new Kn().fromBinary(e,r)}static fromJson(e,r){return new Kn().fromJson(e,r)}static fromJsonString(e,r){return new Kn().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Kn,e,r)}};l(Kn,"runtime",f),l(Kn,"typeName","yorkie.v1.Operation.ArraySet"),l(Kn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:M},{no:2,name:"created_at",kind:"message",T:M},{no:3,name:"value",kind:"message",T:Oe},{no:4,name:"executed_at",kind:"message",T:M}]));let Gu=Kn;const $n=class $n extends O{constructor(e){super();l(this,"createdAt");l(this,"movedAt");l(this,"removedAt");l(this,"type",0);l(this,"value",new Uint8Array(0));f.util.initPartial(e,this)}static fromBinary(e,r){return new $n().fromBinary(e,r)}static fromJson(e,r){return new $n().fromJson(e,r)}static fromJsonString(e,r){return new $n().fromJsonString(e,r)}static equals(e,r){return f.util.equals($n,e,r)}};l($n,"runtime",f),l($n,"typeName","yorkie.v1.JSONElementSimple"),l($n,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:M},{no:2,name:"moved_at",kind:"message",T:M},{no:3,name:"removed_at",kind:"message",T:M},{no:4,name:"type",kind:"enum",T:f.getEnumType(H)},{no:5,name:"value",kind:"scalar",T:12}]));let Oe=$n;const Gn=class Gn extends O{constructor(e){super();l(this,"body",{case:void 0});f.util.initPartial(e,this)}static fromBinary(e,r){return new Gn().fromBinary(e,r)}static fromJson(e,r){return new Gn().fromJson(e,r)}static fromJsonString(e,r){return new Gn().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Gn,e,r)}};l(Gn,"runtime",f),l(Gn,"typeName","yorkie.v1.JSONElement"),l(Gn,"fields",f.util.newFieldList(()=>[{no:1,name:"json_object",kind:"message",T:Yu,oneof:"body"},{no:2,name:"json_array",kind:"message",T:Xu,oneof:"body"},{no:3,name:"primitive",kind:"message",T:Fu,oneof:"body"},{no:5,name:"text",kind:"message",T:Zu,oneof:"body"},{no:6,name:"counter",kind:"message",T:Qu,oneof:"body"},{no:7,name:"tree",kind:"message",T:_u,oneof:"body"}]));let ue=Gn;const Yn=class Yn extends O{constructor(e){super();l(this,"nodes",[]);l(this,"createdAt");l(this,"movedAt");l(this,"removedAt");f.util.initPartial(e,this)}static fromBinary(e,r){return new Yn().fromBinary(e,r)}static fromJson(e,r){return new Yn().fromJson(e,r)}static fromJsonString(e,r){return new Yn().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Yn,e,r)}};l(Yn,"runtime",f),l(Yn,"typeName","yorkie.v1.JSONElement.JSONObject"),l(Yn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:AS,repeated:!0},{no:2,name:"created_at",kind:"message",T:M},{no:3,name:"moved_at",kind:"message",T:M},{no:4,name:"removed_at",kind:"message",T:M}]));let Yu=Yn;const Xn=class Xn extends O{constructor(e){super();l(this,"nodes",[]);l(this,"createdAt");l(this,"movedAt");l(this,"removedAt");f.util.initPartial(e,this)}static fromBinary(e,r){return new Xn().fromBinary(e,r)}static fromJson(e,r){return new Xn().fromJson(e,r)}static fromJsonString(e,r){return new Xn().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Xn,e,r)}};l(Xn,"runtime",f),l(Xn,"typeName","yorkie.v1.JSONElement.JSONArray"),l(Xn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Wu,repeated:!0},{no:2,name:"created_at",kind:"message",T:M},{no:3,name:"moved_at",kind:"message",T:M},{no:4,name:"removed_at",kind:"message",T:M}]));let Xu=Xn;const Fn=class Fn extends O{constructor(e){super();l(this,"type",0);l(this,"value",new Uint8Array(0));l(this,"createdAt");l(this,"movedAt");l(this,"removedAt");f.util.initPartial(e,this)}static fromBinary(e,r){return new Fn().fromBinary(e,r)}static fromJson(e,r){return new Fn().fromJson(e,r)}static fromJsonString(e,r){return new Fn().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Fn,e,r)}};l(Fn,"runtime",f),l(Fn,"typeName","yorkie.v1.JSONElement.Primitive"),l(Fn,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(H)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:M},{no:4,name:"moved_at",kind:"message",T:M},{no:5,name:"removed_at",kind:"message",T:M}]));let Fu=Fn;const Zn=class Zn extends O{constructor(e){super();l(this,"nodes",[]);l(this,"createdAt");l(this,"movedAt");l(this,"removedAt");f.util.initPartial(e,this)}static fromBinary(e,r){return new Zn().fromBinary(e,r)}static fromJson(e,r){return new Zn().fromJson(e,r)}static fromJsonString(e,r){return new Zn().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Zn,e,r)}};l(Zn,"runtime",f),l(Zn,"typeName","yorkie.v1.JSONElement.Text"),l(Zn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:tc,repeated:!0},{no:2,name:"created_at",kind:"message",T:M},{no:3,name:"moved_at",kind:"message",T:M},{no:4,name:"removed_at",kind:"message",T:M}]));let Zu=Zn;const Qn=class Qn extends O{constructor(e){super();l(this,"type",0);l(this,"value",new Uint8Array(0));l(this,"createdAt");l(this,"movedAt");l(this,"removedAt");f.util.initPartial(e,this)}static fromBinary(e,r){return new Qn().fromBinary(e,r)}static fromJson(e,r){return new Qn().fromJson(e,r)}static fromJsonString(e,r){return new Qn().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Qn,e,r)}};l(Qn,"runtime",f),l(Qn,"typeName","yorkie.v1.JSONElement.Counter"),l(Qn,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(H)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:M},{no:4,name:"moved_at",kind:"message",T:M},{no:5,name:"removed_at",kind:"message",T:M}]));let Qu=Qn;const _n=class _n extends O{constructor(e){super();l(this,"nodes",[]);l(this,"createdAt");l(this,"movedAt");l(this,"removedAt");f.util.initPartial(e,this)}static fromBinary(e,r){return new _n().fromBinary(e,r)}static fromJson(e,r){return new _n().fromJson(e,r)}static fromJsonString(e,r){return new _n().fromJsonString(e,r)}static equals(e,r){return f.util.equals(_n,e,r)}};l(_n,"runtime",f),l(_n,"typeName","yorkie.v1.JSONElement.Tree"),l(_n,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:qo,repeated:!0},{no:2,name:"created_at",kind:"message",T:M},{no:3,name:"moved_at",kind:"message",T:M},{no:4,name:"removed_at",kind:"message",T:M}]));let _u=_n;var ze;let AS=(ze=class extends O{constructor(e){super();l(this,"key","");l(this,"element");f.util.initPartial(e,this)}static fromBinary(e,r){return new ze().fromBinary(e,r)}static fromJson(e,r){return new ze().fromJson(e,r)}static fromJsonString(e,r){return new ze().fromJsonString(e,r)}static equals(e,r){return f.util.equals(ze,e,r)}},l(ze,"runtime",f),l(ze,"typeName","yorkie.v1.RHTNode"),l(ze,"fields",f.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:ue}])),ze);const cn=class cn extends O{constructor(e){super();l(this,"next");l(this,"element");f.util.initPartial(e,this)}static fromBinary(e,r){return new cn().fromBinary(e,r)}static fromJson(e,r){return new cn().fromJson(e,r)}static fromJsonString(e,r){return new cn().fromJsonString(e,r)}static equals(e,r){return f.util.equals(cn,e,r)}};l(cn,"runtime",f),l(cn,"typeName","yorkie.v1.RGANode"),l(cn,"fields",f.util.newFieldList(()=>[{no:1,name:"next",kind:"message",T:cn},{no:2,name:"element",kind:"message",T:ue}]));let Wu=cn;const Wn=class Wn extends O{constructor(e){super();l(this,"value","");l(this,"updatedAt");l(this,"isRemoved",!1);f.util.initPartial(e,this)}static fromBinary(e,r){return new Wn().fromBinary(e,r)}static fromJson(e,r){return new Wn().fromJson(e,r)}static fromJsonString(e,r){return new Wn().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Wn,e,r)}};l(Wn,"runtime",f),l(Wn,"typeName","yorkie.v1.NodeAttr"),l(Wn,"fields",f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:M},{no:3,name:"is_removed",kind:"scalar",T:8}]));let Es=Wn;const tr=class tr extends O{constructor(e){super();l(this,"id");l(this,"value","");l(this,"removedAt");l(this,"insPrevId");l(this,"attributes",{});f.util.initPartial(e,this)}static fromBinary(e,r){return new tr().fromBinary(e,r)}static fromJson(e,r){return new tr().fromJson(e,r)}static fromJsonString(e,r){return new tr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(tr,e,r)}};l(tr,"runtime",f),l(tr,"typeName","yorkie.v1.TextNode"),l(tr,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Jo},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:M},{no:4,name:"ins_prev_id",kind:"message",T:Jo},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Es}}]));let tc=tr;const er=class er extends O{constructor(e){super();l(this,"createdAt");l(this,"offset",0);f.util.initPartial(e,this)}static fromBinary(e,r){return new er().fromBinary(e,r)}static fromJson(e,r){return new er().fromJson(e,r)}static fromJsonString(e,r){return new er().fromJsonString(e,r)}static equals(e,r){return f.util.equals(er,e,r)}};l(er,"runtime",f),l(er,"typeName","yorkie.v1.TextNodeID"),l(er,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:M},{no:2,name:"offset",kind:"scalar",T:5}]));let Jo=er;const nr=class nr extends O{constructor(e){super();l(this,"id");l(this,"type","");l(this,"value","");l(this,"removedAt");l(this,"insPrevId");l(this,"insNextId");l(this,"depth",0);l(this,"attributes",{});f.util.initPartial(e,this)}static fromBinary(e,r){return new nr().fromBinary(e,r)}static fromJson(e,r){return new nr().fromJson(e,r)}static fromJsonString(e,r){return new nr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(nr,e,r)}};l(nr,"runtime",f),l(nr,"typeName","yorkie.v1.TreeNode"),l(nr,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Vi},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:M},{no:5,name:"ins_prev_id",kind:"message",T:Vi},{no:6,name:"ins_next_id",kind:"message",T:Vi},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Es}}]));let qo=nr;const rr=class rr extends O{constructor(e){super();l(this,"content",[]);f.util.initPartial(e,this)}static fromBinary(e,r){return new rr().fromBinary(e,r)}static fromJson(e,r){return new rr().fromJson(e,r)}static fromJsonString(e,r){return new rr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(rr,e,r)}};l(rr,"runtime",f),l(rr,"typeName","yorkie.v1.TreeNodes"),l(rr,"fields",f.util.newFieldList(()=>[{no:1,name:"content",kind:"message",T:qo,repeated:!0}]));let ec=rr;const ir=class ir extends O{constructor(e){super();l(this,"createdAt");l(this,"offset",0);f.util.initPartial(e,this)}static fromBinary(e,r){return new ir().fromBinary(e,r)}static fromJson(e,r){return new ir().fromJson(e,r)}static fromJsonString(e,r){return new ir().fromJsonString(e,r)}static equals(e,r){return f.util.equals(ir,e,r)}};l(ir,"runtime",f),l(ir,"typeName","yorkie.v1.TreeNodeID"),l(ir,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:M},{no:2,name:"offset",kind:"scalar",T:5}]));let Vi=ir;const ar=class ar extends O{constructor(e){super();l(this,"parentId");l(this,"leftSiblingId");f.util.initPartial(e,this)}static fromBinary(e,r){return new ar().fromBinary(e,r)}static fromJson(e,r){return new ar().fromJson(e,r)}static fromJsonString(e,r){return new ar().fromJsonString(e,r)}static equals(e,r){return f.util.equals(ar,e,r)}};l(ar,"runtime",f),l(ar,"typeName","yorkie.v1.TreePos"),l(ar,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_id",kind:"message",T:Vi},{no:2,name:"left_sibling_id",kind:"message",T:Vi}]));let Ta=ar;const sr=class sr extends O{constructor(e){super();l(this,"id","");l(this,"authProvider","");l(this,"username","");l(this,"createdAt");f.util.initPartial(e,this)}static fromBinary(e,r){return new sr().fromBinary(e,r)}static fromJson(e,r){return new sr().fromJson(e,r)}static fromJsonString(e,r){return new sr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(sr,e,r)}};l(sr,"runtime",f),l(sr,"typeName","yorkie.v1.User"),l(sr,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"auth_provider",kind:"scalar",T:9},{no:3,name:"username",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:Vt}]));let Oy=sr;const or=class or extends O{constructor(e){super();l(this,"id","");l(this,"name","");l(this,"publicKey","");l(this,"secretKey","");l(this,"authWebhookUrl","");l(this,"authWebhookMethods",[]);l(this,"authWebhookMaxRetries",Z.zero);l(this,"authWebhookMinWaitInterval","");l(this,"authWebhookMaxWaitInterval","");l(this,"authWebhookRequestTimeout","");l(this,"eventWebhookUrl","");l(this,"eventWebhookEvents",[]);l(this,"eventWebhookMaxRetries",Z.zero);l(this,"eventWebhookMinWaitInterval","");l(this,"eventWebhookMaxWaitInterval","");l(this,"eventWebhookRequestTimeout","");l(this,"clientDeactivateThreshold","");l(this,"snapshotThreshold",Z.zero);l(this,"snapshotInterval",Z.zero);l(this,"maxSubscribersPerDocument",0);l(this,"maxAttachmentsPerDocument",0);l(this,"maxSizePerDocument",0);l(this,"removeOnDetach",!1);l(this,"allowedOrigins",[]);l(this,"createdAt");l(this,"updatedAt");f.util.initPartial(e,this)}static fromBinary(e,r){return new or().fromBinary(e,r)}static fromJson(e,r){return new or().fromJson(e,r)}static fromJsonString(e,r){return new or().fromJsonString(e,r)}static equals(e,r){return f.util.equals(or,e,r)}};l(or,"runtime",f),l(or,"typeName","yorkie.v1.Project"),l(or,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:17,name:"auth_webhook_max_retries",kind:"scalar",T:4},{no:18,name:"auth_webhook_min_wait_interval",kind:"scalar",T:9},{no:19,name:"auth_webhook_max_wait_interval",kind:"scalar",T:9},{no:20,name:"auth_webhook_request_timeout",kind:"scalar",T:9},{no:7,name:"event_webhook_url",kind:"scalar",T:9},{no:8,name:"event_webhook_events",kind:"scalar",T:9,repeated:!0},{no:21,name:"event_webhook_max_retries",kind:"scalar",T:4},{no:22,name:"event_webhook_min_wait_interval",kind:"scalar",T:9},{no:23,name:"event_webhook_max_wait_interval",kind:"scalar",T:9},{no:24,name:"event_webhook_request_timeout",kind:"scalar",T:9},{no:9,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:25,name:"snapshot_threshold",kind:"scalar",T:3},{no:26,name:"snapshot_interval",kind:"scalar",T:3},{no:10,name:"max_subscribers_per_document",kind:"scalar",T:5},{no:11,name:"max_attachments_per_document",kind:"scalar",T:5},{no:15,name:"max_size_per_document",kind:"scalar",T:5},{no:16,name:"remove_on_detach",kind:"scalar",T:8},{no:14,name:"allowed_origins",kind:"scalar",T:9,repeated:!0},{no:12,name:"created_at",kind:"message",T:Vt},{no:13,name:"updated_at",kind:"message",T:Vt}]));let ky=or;const lr=class lr extends O{constructor(e){super();l(this,"timestamp",Z.zero);l(this,"value",0);f.util.initPartial(e,this)}static fromBinary(e,r){return new lr().fromBinary(e,r)}static fromJson(e,r){return new lr().fromJson(e,r)}static fromJsonString(e,r){return new lr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(lr,e,r)}};l(lr,"runtime",f),l(lr,"typeName","yorkie.v1.MetricPoint"),l(lr,"fields",f.util.newFieldList(()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"value",kind:"scalar",T:5}]));let Cy=lr;const ur=class ur extends O{constructor(e){super();l(this,"name");l(this,"authWebhookUrl");l(this,"authWebhookMethods");l(this,"authWebhookMaxRetries");l(this,"authWebhookMinWaitInterval");l(this,"authWebhookMaxWaitInterval");l(this,"authWebhookRequestTimeout");l(this,"eventWebhookUrl");l(this,"eventWebhookEvents");l(this,"eventWebhookMaxRetries");l(this,"eventWebhookMinWaitInterval");l(this,"eventWebhookMaxWaitInterval");l(this,"eventWebhookRequestTimeout");l(this,"snapshotThreshold");l(this,"snapshotInterval");l(this,"clientDeactivateThreshold");l(this,"maxSubscribersPerDocument");l(this,"maxAttachmentsPerDocument");l(this,"maxSizePerDocument");l(this,"removeOnDetach");l(this,"allowedOrigins");f.util.initPartial(e,this)}static fromBinary(e,r){return new ur().fromBinary(e,r)}static fromJson(e,r){return new ur().fromJson(e,r)}static fromJsonString(e,r){return new ur().fromJsonString(e,r)}static equals(e,r){return f.util.equals(ur,e,r)}};l(ur,"runtime",f),l(ur,"typeName","yorkie.v1.UpdatableProjectFields"),l(ur,"fields",f.util.newFieldList(()=>[{no:1,name:"name",kind:"message",T:Ot},{no:2,name:"auth_webhook_url",kind:"message",T:Ot},{no:3,name:"auth_webhook_methods",kind:"message",T:wh},{no:12,name:"auth_webhook_max_retries",kind:"message",T:Ve},{no:13,name:"auth_webhook_min_wait_interval",kind:"message",T:Ot},{no:14,name:"auth_webhook_max_wait_interval",kind:"message",T:Ot},{no:15,name:"auth_webhook_request_timeout",kind:"message",T:Ot},{no:4,name:"event_webhook_url",kind:"message",T:Ot},{no:5,name:"event_webhook_events",kind:"message",T:Ah},{no:16,name:"event_webhook_max_retries",kind:"message",T:Ve},{no:17,name:"event_webhook_min_wait_interval",kind:"message",T:Ot},{no:18,name:"event_webhook_max_wait_interval",kind:"message",T:Ot},{no:19,name:"event_webhook_request_timeout",kind:"message",T:Ot},{no:20,name:"snapshot_threshold",kind:"message",T:He},{no:21,name:"snapshot_interval",kind:"message",T:He},{no:6,name:"client_deactivate_threshold",kind:"message",T:Ot},{no:7,name:"max_subscribers_per_document",kind:"message",T:me},{no:8,name:"max_attachments_per_document",kind:"message",T:me},{no:10,name:"max_size_per_document",kind:"message",T:me},{no:11,name:"remove_on_detach",kind:"message",T:We},{no:9,name:"allowed_origins",kind:"message",T:Eh}]));let Iy=ur;const cr=class cr extends O{constructor(e){super();l(this,"methods",[]);f.util.initPartial(e,this)}static fromBinary(e,r){return new cr().fromBinary(e,r)}static fromJson(e,r){return new cr().fromJson(e,r)}static fromJsonString(e,r){return new cr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(cr,e,r)}};l(cr,"runtime",f),l(cr,"typeName","yorkie.v1.UpdatableProjectFields.AuthWebhookMethods"),l(cr,"fields",f.util.newFieldList(()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}]));let wh=cr;const fr=class fr extends O{constructor(e){super();l(this,"events",[]);f.util.initPartial(e,this)}static fromBinary(e,r){return new fr().fromBinary(e,r)}static fromJson(e,r){return new fr().fromJson(e,r)}static fromJsonString(e,r){return new fr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(fr,e,r)}};l(fr,"runtime",f),l(fr,"typeName","yorkie.v1.UpdatableProjectFields.EventWebhookEvents"),l(fr,"fields",f.util.newFieldList(()=>[{no:1,name:"events",kind:"scalar",T:9,repeated:!0}]));let Ah=fr;const hr=class hr extends O{constructor(e){super();l(this,"origins",[]);f.util.initPartial(e,this)}static fromBinary(e,r){return new hr().fromBinary(e,r)}static fromJson(e,r){return new hr().fromJson(e,r)}static fromJsonString(e,r){return new hr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(hr,e,r)}};l(hr,"runtime",f),l(hr,"typeName","yorkie.v1.UpdatableProjectFields.AllowedOrigins"),l(hr,"fields",f.util.newFieldList(()=>[{no:1,name:"origins",kind:"scalar",T:9,repeated:!0}]));let Eh=hr;const dr=class dr extends O{constructor(e){super();l(this,"id","");l(this,"key","");l(this,"root","");l(this,"attachedClients",0);l(this,"documentSize");l(this,"schemaKey","");l(this,"presences",{});l(this,"createdAt");l(this,"accessedAt");l(this,"updatedAt");f.util.initPartial(e,this)}static fromBinary(e,r){return new dr().fromBinary(e,r)}static fromJson(e,r){return new dr().fromJson(e,r)}static fromJsonString(e,r){return new dr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(dr,e,r)}};l(dr,"runtime",f),l(dr,"typeName","yorkie.v1.DocumentSummary"),l(dr,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"root",kind:"scalar",T:9},{no:7,name:"attached_clients",kind:"scalar",T:5},{no:8,name:"document_size",kind:"message",T:Oh},{no:9,name:"schema_key",kind:"scalar",T:9},{no:10,name:"presences",kind:"map",K:9,V:{kind:"message",T:kc}},{no:4,name:"created_at",kind:"message",T:Vt},{no:5,name:"accessed_at",kind:"message",T:Vt},{no:6,name:"updated_at",kind:"message",T:Vt}]));let Ry=dr;const gr=class gr extends O{constructor(e){super();l(this,"type",0);l(this,"presence");f.util.initPartial(e,this)}static fromBinary(e,r){return new gr().fromBinary(e,r)}static fromJson(e,r){return new gr().fromJson(e,r)}static fromJsonString(e,r){return new gr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(gr,e,r)}};l(gr,"runtime",f),l(gr,"typeName","yorkie.v1.PresenceChange"),l(gr,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(ba)},{no:2,name:"presence",kind:"message",T:kc}]));let Po=gr;var ba=(n=>(n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.PUT=1]="PUT",n[n.DELETE=2]="DELETE",n[n.CLEAR=3]="CLEAR",n))(ba||{});f.util.setEnumType(ba,"yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT"},{no:2,name:"CHANGE_TYPE_DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR"}]);var Me;let kc=(Me=class extends O{constructor(e){super();l(this,"data",{});f.util.initPartial(e,this)}static fromBinary(e,r){return new Me().fromBinary(e,r)}static fromJson(e,r){return new Me().fromJson(e,r)}static fromJsonString(e,r){return new Me().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Me,e,r)}},l(Me,"runtime",f),l(Me,"typeName","yorkie.v1.Presence"),l(Me,"fields",f.util.newFieldList(()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}])),Me);var Ue;let ES=(Ue=class extends O{constructor(e){super();l(this,"serverSeq",Z.zero);l(this,"clientSeq",0);f.util.initPartial(e,this)}static fromBinary(e,r){return new Ue().fromBinary(e,r)}static fromJson(e,r){return new Ue().fromJson(e,r)}static fromJsonString(e,r){return new Ue().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Ue,e,r)}},l(Ue,"runtime",f),l(Ue,"typeName","yorkie.v1.Checkpoint"),l(Ue,"fields",f.util.newFieldList(()=>[{no:1,name:"server_seq",kind:"scalar",T:3},{no:2,name:"client_seq",kind:"scalar",T:13}])),Ue);const mr=class mr extends O{constructor(e){super();l(this,"createdAt");l(this,"offset",0);l(this,"relativeOffset",0);f.util.initPartial(e,this)}static fromBinary(e,r){return new mr().fromBinary(e,r)}static fromJson(e,r){return new mr().fromJson(e,r)}static fromJsonString(e,r){return new mr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(mr,e,r)}};l(mr,"runtime",f),l(mr,"typeName","yorkie.v1.TextNodePos"),l(mr,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:M},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]));let wa=mr;var Le;let M=(Le=class extends O{constructor(e){super();l(this,"lamport",Z.zero);l(this,"delimiter",0);l(this,"actorId",new Uint8Array(0));f.util.initPartial(e,this)}static fromBinary(e,r){return new Le().fromBinary(e,r)}static fromJson(e,r){return new Le().fromJson(e,r)}static fromJsonString(e,r){return new Le().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Le,e,r)}},l(Le,"runtime",f),l(Le,"typeName","yorkie.v1.TimeTicket"),l(Le,"fields",f.util.newFieldList(()=>[{no:1,name:"lamport",kind:"scalar",T:3},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}])),Le);const yr=class yr extends O{constructor(e){super();l(this,"topic","");l(this,"payload",new Uint8Array(0));f.util.initPartial(e,this)}static fromBinary(e,r){return new yr().fromBinary(e,r)}static fromJson(e,r){return new yr().fromJson(e,r)}static fromJsonString(e,r){return new yr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(yr,e,r)}};l(yr,"runtime",f),l(yr,"typeName","yorkie.v1.DocEventBody"),l(yr,"fields",f.util.newFieldList(()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]));let Nh=yr;const pr=class pr extends O{constructor(e){super();l(this,"type",0);l(this,"publisher","");l(this,"body");f.util.initPartial(e,this)}static fromBinary(e,r){return new pr().fromBinary(e,r)}static fromJson(e,r){return new pr().fromJson(e,r)}static fromJsonString(e,r){return new pr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(pr,e,r)}};l(pr,"runtime",f),l(pr,"typeName","yorkie.v1.DocEvent"),l(pr,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(ma)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:Nh}]));let xh=pr;const vr=class vr extends O{constructor(e){super();l(this,"type",0);l(this,"count",Z.zero);l(this,"seq",Z.zero);f.util.initPartial(e,this)}static fromBinary(e,r){return new vr().fromBinary(e,r)}static fromJson(e,r){return new vr().fromJson(e,r)}static fromJsonString(e,r){return new vr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(vr,e,r)}};l(vr,"runtime",f),l(vr,"typeName","yorkie.v1.PresenceEvent"),l(vr,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(lg)},{no:2,name:"count",kind:"scalar",T:3},{no:3,name:"seq",kind:"scalar",T:3}]));let Dh=vr;var lg=(n=>(n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.COUNT_CHANGED=1]="COUNT_CHANGED",n))(lg||{});f.util.setEnumType(lg,"yorkie.v1.PresenceEvent.Type",[{no:0,name:"TYPE_UNSPECIFIED"},{no:1,name:"TYPE_COUNT_CHANGED"}]);const Sr=class Sr extends O{constructor(e){super();l(this,"data",0);l(this,"meta",0);f.util.initPartial(e,this)}static fromBinary(e,r){return new Sr().fromBinary(e,r)}static fromJson(e,r){return new Sr().fromJson(e,r)}static fromJsonString(e,r){return new Sr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Sr,e,r)}};l(Sr,"runtime",f),l(Sr,"typeName","yorkie.v1.DataSize"),l(Sr,"fields",f.util.newFieldList(()=>[{no:1,name:"data",kind:"scalar",T:5},{no:2,name:"meta",kind:"scalar",T:5}]));let nc=Sr;const Tr=class Tr extends O{constructor(e){super();l(this,"live");l(this,"gc");f.util.initPartial(e,this)}static fromBinary(e,r){return new Tr().fromBinary(e,r)}static fromJson(e,r){return new Tr().fromJson(e,r)}static fromJsonString(e,r){return new Tr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Tr,e,r)}};l(Tr,"runtime",f),l(Tr,"typeName","yorkie.v1.DocSize"),l(Tr,"fields",f.util.newFieldList(()=>[{no:1,name:"live",kind:"message",T:nc},{no:2,name:"gc",kind:"message",T:nc}]));let Oh=Tr;const br=class br extends O{constructor(e){super();l(this,"id","");l(this,"name","");l(this,"version",0);l(this,"body","");l(this,"rules",[]);l(this,"createdAt");f.util.initPartial(e,this)}static fromBinary(e,r){return new br().fromBinary(e,r)}static fromJson(e,r){return new br().fromJson(e,r)}static fromJsonString(e,r){return new br().fromJsonString(e,r)}static equals(e,r){return f.util.equals(br,e,r)}};l(br,"runtime",f),l(br,"typeName","yorkie.v1.Schema"),l(br,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"version",kind:"scalar",T:5},{no:4,name:"body",kind:"scalar",T:9},{no:5,name:"rules",kind:"message",T:rc,repeated:!0},{no:6,name:"created_at",kind:"message",T:Vt}]));let By=br;const wr=class wr extends O{constructor(e){super();l(this,"path","");l(this,"type","");f.util.initPartial(e,this)}static fromBinary(e,r){return new wr().fromBinary(e,r)}static fromJson(e,r){return new wr().fromJson(e,r)}static fromJsonString(e,r){return new wr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(wr,e,r)}};l(wr,"runtime",f),l(wr,"typeName","yorkie.v1.Rule"),l(wr,"fields",f.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9}]));let rc=wr;const Ar=class Ar extends O{constructor(e){super();l(this,"clientKey","");l(this,"metadata",{});f.util.initPartial(e,this)}static fromBinary(e,r){return new Ar().fromBinary(e,r)}static fromJson(e,r){return new Ar().fromJson(e,r)}static fromJsonString(e,r){return new Ar().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Ar,e,r)}};l(Ar,"runtime",f),l(Ar,"typeName","yorkie.v1.ActivateClientRequest"),l(Ar,"fields",f.util.newFieldList(()=>[{no:1,name:"client_key",kind:"scalar",T:9},{no:2,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let kh=Ar;const Er=class Er extends O{constructor(e){super();l(this,"clientId","");f.util.initPartial(e,this)}static fromBinary(e,r){return new Er().fromBinary(e,r)}static fromJson(e,r){return new Er().fromJson(e,r)}static fromJsonString(e,r){return new Er().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Er,e,r)}};l(Er,"runtime",f),l(Er,"typeName","yorkie.v1.ActivateClientResponse"),l(Er,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let Ch=Er;const Nr=class Nr extends O{constructor(e){super();l(this,"clientId","");l(this,"synchronous",!1);f.util.initPartial(e,this)}static fromBinary(e,r){return new Nr().fromBinary(e,r)}static fromJson(e,r){return new Nr().fromJson(e,r)}static fromJsonString(e,r){return new Nr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Nr,e,r)}};l(Nr,"runtime",f),l(Nr,"typeName","yorkie.v1.DeactivateClientRequest"),l(Nr,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"synchronous",kind:"scalar",T:8}]));let Ih=Nr;const xr=class xr extends O{constructor(t){super(),f.util.initPartial(t,this)}static fromBinary(t,e){return new xr().fromBinary(t,e)}static fromJson(t,e){return new xr().fromJson(t,e)}static fromJsonString(t,e){return new xr().fromJsonString(t,e)}static equals(t,e){return f.util.equals(xr,t,e)}};l(xr,"runtime",f),l(xr,"typeName","yorkie.v1.DeactivateClientResponse"),l(xr,"fields",f.util.newFieldList(()=>[]));let Rh=xr;const Dr=class Dr extends O{constructor(e){super();l(this,"clientId","");l(this,"changePack");l(this,"schemaKey","");f.util.initPartial(e,this)}static fromBinary(e,r){return new Dr().fromBinary(e,r)}static fromJson(e,r){return new Dr().fromJson(e,r)}static fromJsonString(e,r){return new Dr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Dr,e,r)}};l(Dr,"runtime",f),l(Dr,"typeName","yorkie.v1.AttachDocumentRequest"),l(Dr,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:pi},{no:3,name:"schema_key",kind:"scalar",T:9}]));let Bh=Dr;const Or=class Or extends O{constructor(e){super();l(this,"documentId","");l(this,"changePack");l(this,"maxSizePerDocument",0);l(this,"schemaRules",[]);f.util.initPartial(e,this)}static fromBinary(e,r){return new Or().fromBinary(e,r)}static fromJson(e,r){return new Or().fromJson(e,r)}static fromJsonString(e,r){return new Or().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Or,e,r)}};l(Or,"runtime",f),l(Or,"typeName","yorkie.v1.AttachDocumentResponse"),l(Or,"fields",f.util.newFieldList(()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:pi},{no:3,name:"max_size_per_document",kind:"scalar",T:5},{no:4,name:"schema_rules",kind:"message",T:rc,repeated:!0}]));let zh=Or;const kr=class kr extends O{constructor(e){super();l(this,"clientId","");l(this,"documentId","");l(this,"changePack");l(this,"removeIfNotAttached",!1);f.util.initPartial(e,this)}static fromBinary(e,r){return new kr().fromBinary(e,r)}static fromJson(e,r){return new kr().fromJson(e,r)}static fromJsonString(e,r){return new kr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(kr,e,r)}};l(kr,"runtime",f),l(kr,"typeName","yorkie.v1.DetachDocumentRequest"),l(kr,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:pi},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]));let Mh=kr;const Cr=class Cr extends O{constructor(e){super();l(this,"changePack");f.util.initPartial(e,this)}static fromBinary(e,r){return new Cr().fromBinary(e,r)}static fromJson(e,r){return new Cr().fromJson(e,r)}static fromJsonString(e,r){return new Cr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Cr,e,r)}};l(Cr,"runtime",f),l(Cr,"typeName","yorkie.v1.DetachDocumentResponse"),l(Cr,"fields",f.util.newFieldList(()=>[{no:2,name:"change_pack",kind:"message",T:pi}]));let Uh=Cr;const Ir=class Ir extends O{constructor(e){super();l(this,"clientId","");l(this,"documentId","");f.util.initPartial(e,this)}static fromBinary(e,r){return new Ir().fromBinary(e,r)}static fromJson(e,r){return new Ir().fromJson(e,r)}static fromJsonString(e,r){return new Ir().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Ir,e,r)}};l(Ir,"runtime",f),l(Ir,"typeName","yorkie.v1.WatchDocumentRequest"),l(Ir,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]));let Lh=Ir;const Rr=class Rr extends O{constructor(e){super();l(this,"body",{case:void 0});f.util.initPartial(e,this)}static fromBinary(e,r){return new Rr().fromBinary(e,r)}static fromJson(e,r){return new Rr().fromJson(e,r)}static fromJsonString(e,r){return new Rr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Rr,e,r)}};l(Rr,"runtime",f),l(Rr,"typeName","yorkie.v1.WatchDocumentResponse"),l(Rr,"fields",f.util.newFieldList(()=>[{no:1,name:"initialization",kind:"message",T:qh,oneof:"body"},{no:2,name:"event",kind:"message",T:xh,oneof:"body"}]));let Jh=Rr;const Br=class Br extends O{constructor(e){super();l(this,"clientIds",[]);f.util.initPartial(e,this)}static fromBinary(e,r){return new Br().fromBinary(e,r)}static fromJson(e,r){return new Br().fromJson(e,r)}static fromJsonString(e,r){return new Br().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Br,e,r)}};l(Br,"runtime",f),l(Br,"typeName","yorkie.v1.WatchDocumentResponse.Initialization"),l(Br,"fields",f.util.newFieldList(()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}]));let qh=Br;const zr=class zr extends O{constructor(e){super();l(this,"clientId","");l(this,"documentId","");l(this,"changePack");f.util.initPartial(e,this)}static fromBinary(e,r){return new zr().fromBinary(e,r)}static fromJson(e,r){return new zr().fromJson(e,r)}static fromJsonString(e,r){return new zr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(zr,e,r)}};l(zr,"runtime",f),l(zr,"typeName","yorkie.v1.RemoveDocumentRequest"),l(zr,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:pi}]));let Ph=zr;const Mr=class Mr extends O{constructor(e){super();l(this,"changePack");f.util.initPartial(e,this)}static fromBinary(e,r){return new Mr().fromBinary(e,r)}static fromJson(e,r){return new Mr().fromJson(e,r)}static fromJsonString(e,r){return new Mr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Mr,e,r)}};l(Mr,"runtime",f),l(Mr,"typeName","yorkie.v1.RemoveDocumentResponse"),l(Mr,"fields",f.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:pi}]));let Hh=Mr;const Ur=class Ur extends O{constructor(e){super();l(this,"clientId","");l(this,"documentId","");l(this,"changePack");l(this,"pushOnly",!1);f.util.initPartial(e,this)}static fromBinary(e,r){return new Ur().fromBinary(e,r)}static fromJson(e,r){return new Ur().fromJson(e,r)}static fromJsonString(e,r){return new Ur().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Ur,e,r)}};l(Ur,"runtime",f),l(Ur,"typeName","yorkie.v1.PushPullChangesRequest"),l(Ur,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:pi},{no:4,name:"push_only",kind:"scalar",T:8}]));let Vh=Ur;const Lr=class Lr extends O{constructor(e){super();l(this,"changePack");f.util.initPartial(e,this)}static fromBinary(e,r){return new Lr().fromBinary(e,r)}static fromJson(e,r){return new Lr().fromJson(e,r)}static fromJsonString(e,r){return new Lr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Lr,e,r)}};l(Lr,"runtime",f),l(Lr,"typeName","yorkie.v1.PushPullChangesResponse"),l(Lr,"fields",f.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:pi}]));let jh=Lr;const Jr=class Jr extends O{constructor(e){super();l(this,"clientId","");l(this,"presenceKey","");f.util.initPartial(e,this)}static fromBinary(e,r){return new Jr().fromBinary(e,r)}static fromJson(e,r){return new Jr().fromJson(e,r)}static fromJsonString(e,r){return new Jr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Jr,e,r)}};l(Jr,"runtime",f),l(Jr,"typeName","yorkie.v1.AttachPresenceRequest"),l(Jr,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"presence_key",kind:"scalar",T:9}]));let Kh=Jr;const qr=class qr extends O{constructor(e){super();l(this,"presenceId","");l(this,"count",Z.zero);f.util.initPartial(e,this)}static fromBinary(e,r){return new qr().fromBinary(e,r)}static fromJson(e,r){return new qr().fromJson(e,r)}static fromJsonString(e,r){return new qr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(qr,e,r)}};l(qr,"runtime",f),l(qr,"typeName","yorkie.v1.AttachPresenceResponse"),l(qr,"fields",f.util.newFieldList(()=>[{no:1,name:"presence_id",kind:"scalar",T:9},{no:2,name:"count",kind:"scalar",T:3}]));let $h=qr;const Pr=class Pr extends O{constructor(e){super();l(this,"clientId","");l(this,"presenceId","");l(this,"presenceKey","");f.util.initPartial(e,this)}static fromBinary(e,r){return new Pr().fromBinary(e,r)}static fromJson(e,r){return new Pr().fromJson(e,r)}static fromJsonString(e,r){return new Pr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Pr,e,r)}};l(Pr,"runtime",f),l(Pr,"typeName","yorkie.v1.DetachPresenceRequest"),l(Pr,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"presence_id",kind:"scalar",T:9},{no:3,name:"presence_key",kind:"scalar",T:9}]));let Gh=Pr;const Hr=class Hr extends O{constructor(e){super();l(this,"count",Z.zero);f.util.initPartial(e,this)}static fromBinary(e,r){return new Hr().fromBinary(e,r)}static fromJson(e,r){return new Hr().fromJson(e,r)}static fromJsonString(e,r){return new Hr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Hr,e,r)}};l(Hr,"runtime",f),l(Hr,"typeName","yorkie.v1.DetachPresenceResponse"),l(Hr,"fields",f.util.newFieldList(()=>[{no:1,name:"count",kind:"scalar",T:3}]));let Yh=Hr;const Vr=class Vr extends O{constructor(e){super();l(this,"clientId","");l(this,"presenceId","");l(this,"presenceKey","");f.util.initPartial(e,this)}static fromBinary(e,r){return new Vr().fromBinary(e,r)}static fromJson(e,r){return new Vr().fromJson(e,r)}static fromJsonString(e,r){return new Vr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Vr,e,r)}};l(Vr,"runtime",f),l(Vr,"typeName","yorkie.v1.RefreshPresenceRequest"),l(Vr,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"presence_id",kind:"scalar",T:9},{no:3,name:"presence_key",kind:"scalar",T:9}]));let Xh=Vr;const jr=class jr extends O{constructor(t){super(),f.util.initPartial(t,this)}static fromBinary(t,e){return new jr().fromBinary(t,e)}static fromJson(t,e){return new jr().fromJson(t,e)}static fromJsonString(t,e){return new jr().fromJsonString(t,e)}static equals(t,e){return f.util.equals(jr,t,e)}};l(jr,"runtime",f),l(jr,"typeName","yorkie.v1.RefreshPresenceResponse"),l(jr,"fields",f.util.newFieldList(()=>[]));let Fh=jr;const Kr=class Kr extends O{constructor(e){super();l(this,"clientId","");l(this,"presenceKey","");f.util.initPartial(e,this)}static fromBinary(e,r){return new Kr().fromBinary(e,r)}static fromJson(e,r){return new Kr().fromJson(e,r)}static fromJsonString(e,r){return new Kr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Kr,e,r)}};l(Kr,"runtime",f),l(Kr,"typeName","yorkie.v1.WatchPresenceRequest"),l(Kr,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"presence_key",kind:"scalar",T:9}]));let Zh=Kr;const $r=class $r extends O{constructor(e){super();l(this,"body",{case:void 0});f.util.initPartial(e,this)}static fromBinary(e,r){return new $r().fromBinary(e,r)}static fromJson(e,r){return new $r().fromJson(e,r)}static fromJsonString(e,r){return new $r().fromJsonString(e,r)}static equals(e,r){return f.util.equals($r,e,r)}};l($r,"runtime",f),l($r,"typeName","yorkie.v1.WatchPresenceResponse"),l($r,"fields",f.util.newFieldList(()=>[{no:1,name:"initialized",kind:"message",T:_h,oneof:"body"},{no:2,name:"event",kind:"message",T:Dh,oneof:"body"}]));let Qh=$r;const Gr=class Gr extends O{constructor(e){super();l(this,"count",Z.zero);l(this,"seq",Z.zero);f.util.initPartial(e,this)}static fromBinary(e,r){return new Gr().fromBinary(e,r)}static fromJson(e,r){return new Gr().fromJson(e,r)}static fromJsonString(e,r){return new Gr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Gr,e,r)}};l(Gr,"runtime",f),l(Gr,"typeName","yorkie.v1.WatchPresenceInitialized"),l(Gr,"fields",f.util.newFieldList(()=>[{no:1,name:"count",kind:"scalar",T:3},{no:2,name:"seq",kind:"scalar",T:3}]));let _h=Gr;const Yr=class Yr extends O{constructor(e){super();l(this,"clientId","");l(this,"documentId","");l(this,"topic","");l(this,"payload",new Uint8Array(0));f.util.initPartial(e,this)}static fromBinary(e,r){return new Yr().fromBinary(e,r)}static fromJson(e,r){return new Yr().fromJson(e,r)}static fromJsonString(e,r){return new Yr().fromJsonString(e,r)}static equals(e,r){return f.util.equals(Yr,e,r)}};l(Yr,"runtime",f),l(Yr,"typeName","yorkie.v1.BroadcastRequest"),l(Yr,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]));let Wh=Yr;const Xr=class Xr extends O{constructor(t){super(),f.util.initPartial(t,this)}static fromBinary(t,e){return new Xr().fromBinary(t,e)}static fromJson(t,e){return new Xr().fromJson(t,e)}static fromJsonString(t,e){return new Xr().fromJsonString(t,e)}static equals(t,e){return f.util.equals(Xr,t,e)}};l(Xr,"runtime",f),l(Xr,"typeName","yorkie.v1.BroadcastResponse"),l(Xr,"fields",f.util.newFieldList(()=>[]));let td=Xr;const zA={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:kh,O:Ch,kind:It.Unary},deactivateClient:{name:"DeactivateClient",I:Ih,O:Rh,kind:It.Unary},attachDocument:{name:"AttachDocument",I:Bh,O:zh,kind:It.Unary},detachDocument:{name:"DetachDocument",I:Mh,O:Uh,kind:It.Unary},removeDocument:{name:"RemoveDocument",I:Ph,O:Hh,kind:It.Unary},pushPullChanges:{name:"PushPullChanges",I:Vh,O:jh,kind:It.Unary},watchDocument:{name:"WatchDocument",I:Lh,O:Jh,kind:It.ServerStreaming},attachPresence:{name:"AttachPresence",I:Kh,O:$h,kind:It.Unary},detachPresence:{name:"DetachPresence",I:Gh,O:Yh,kind:It.Unary},refreshPresence:{name:"RefreshPresence",I:Xh,O:Fh,kind:It.Unary},watchPresence:{name:"WatchPresence",I:Zh,O:Qh,kind:It.ServerStreaming},broadcast:{name:"Broadcast",I:Wh,O:td,kind:It.Unary}}},MA=f.makeMessageType("google.rpc.ErrorInfo",()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]);f.makeMessageType("google.rpc.RetryInfo",()=>[{no:1,name:"retry_delay",kind:"message",T:ri}]);f.makeMessageType("google.rpc.DebugInfo",()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.QuotaFailure",()=>[{no:1,name:"violations",kind:"message",T:UA,repeated:!0}]);const UA=f.makeMessageType("google.rpc.QuotaFailure.Violation",()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"api_service",kind:"scalar",T:9},{no:4,name:"quota_metric",kind:"scalar",T:9},{no:5,name:"quota_id",kind:"scalar",T:9},{no:6,name:"quota_dimensions",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:7,name:"quota_value",kind:"scalar",T:3},{no:8,name:"future_quota_value",kind:"scalar",T:3,opt:!0}],{localName:"QuotaFailure_Violation"});f.makeMessageType("google.rpc.PreconditionFailure",()=>[{no:1,name:"violations",kind:"message",T:LA,repeated:!0}]);const LA=f.makeMessageType("google.rpc.PreconditionFailure.Violation",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}],{localName:"PreconditionFailure_Violation"});f.makeMessageType("google.rpc.BadRequest",()=>[{no:1,name:"field_violations",kind:"message",T:JA,repeated:!0}]);const JA=f.makeMessageType("google.rpc.BadRequest.FieldViolation",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"reason",kind:"scalar",T:9},{no:4,name:"localized_message",kind:"message",T:PA}],{localName:"BadRequest_FieldViolation"});f.makeMessageType("google.rpc.RequestInfo",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.ResourceInfo",()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.Help",()=>[{no:1,name:"links",kind:"message",T:qA,repeated:!0}]);const qA=f.makeMessageType("google.rpc.Help.Link",()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}],{localName:"Help_Link"}),PA=f.makeMessageType("google.rpc.LocalizedMessage",()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]);var S=(n=>(n.Ok="ok",n.ErrClientNotActivated="ErrClientNotActivated",n.ErrClientNotFound="ErrClientNotFound",n.ErrUnimplemented="ErrUnimplemented",n.ErrInvalidType="ErrInvalidType",n.ErrDummy="ErrDummy",n.ErrDocumentNotAttached="ErrDocumentNotAttached",n.ErrDocumentNotDetached="ErrDocumentNotDetached",n.ErrDocumentRemoved="ErrDocumentRemoved",n.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",n.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",n.ErrInvalidObjectKey="ErrInvalidObjectKey",n.ErrInvalidArgument="ErrInvalidArgument",n.ErrNotInitialized="ErrNotInitialized",n.ErrNotReady="ErrNotReady",n.ErrRefused="ErrRefused",n.ErrContextNotProvided="ErrContextNotProvided",n.ErrPermissionDenied="ErrPermissionDenied",n.ErrUnauthenticated="ErrUnauthenticated",n.ErrTooManySubscribers="ErrTooManySubscribers",n.ErrTooManyAttachments="ErrTooManyAttachments",n))(S||{});class T extends Error{constructor(e,r){super(r);l(this,"name","YorkieError");l(this,"stack");this.code=e,this.message=r,this.toString=()=>`[code=${this.code}]: ${this.message}`}}var xn=(n=>(n.Put="put",n.Clear="clear",n))(xn||{});const ug="000000000000000000000000",An=24;class $e{constructor(t,e,r){l(this,"lamport");l(this,"delimiter");l(this,"actorID");this.lamport=t,this.delimiter=e,this.actorID=r}static of(t,e,r){return new $e(t,e,r)}static fromStruct(t){return $e.of(BigInt(t.lamport),t.delimiter,t.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(t){return new $e(this.lamport,this.delimiter,t)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(t){return this.compare(t)>0}equals(t){return this.compare(t)===0}compare(t){if(this.lamport>t.lamport)return 1;if(t.lamport>this.lamport)return-1;const e=this.actorID.localeCompare(t.actorID);return e!==0?e:this.delimiter>t.delimiter?1:t.delimiter>this.delimiter?-1:0}}const ed=0n,NS=0,nu=9223372036854775807n,Ns=new $e(ed,NS,ug);function Sn(n){return n.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(t){switch(t){case'"':case"\\":return"\\"+t;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return t}})}class ul{constructor(t){l(this,"createdAt");l(this,"movedAt");l(this,"removedAt");this.createdAt=t}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(t){this.createdAt=t}setMovedAt(t){return!this.movedAt||t&&t.after(this.movedAt)?(this.movedAt=t,!0):!1}setRemovedAt(t){this.removedAt=t}remove(t){return t&&t.after(this.createdAt)&&(!this.removedAt||t.after(this.removedAt))?(this.removedAt=t,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let t=0;return this.getCreatedAt()&&(t+=An),this.getMovedAt()&&(t+=An),this.getRemovedAt()&&(t+=An),t}}class ji extends ul{constructor(t){super(t)}}class cg{constructor(t,e){l(this,"strKey");l(this,"value");this.strKey=t,this.value=e}static of(t,e){return new cg(t,e)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(t){return this.value.remove(t)}}class Ho{constructor(){l(this,"nodeMapByKey");l(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Ho}set(t,e,r){let i;const a=this.nodeMapByKey.get(t);a&&!a.isRemoved()&&a.remove(r)&&(i=a.getValue());const s=cg.of(t,e);return this.nodeMapByCreatedAt.set(e.getCreatedAt().toIDString(),s),(!a||r.after(a.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(t,s),e.setMovedAt(r)),i}delete(t,e){if(!this.nodeMapByCreatedAt.has(t.toIDString()))throw new T(S.ErrInvalidArgument,`fail to find ${t.toIDString()}`);const r=this.nodeMapByCreatedAt.get(t.toIDString());return r.remove(e),r.getValue()}subPathOf(t){const e=this.nodeMapByCreatedAt.get(t.toIDString());if(e)return e.getStrKey()}purge(t){const e=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!e)throw new T(S.ErrInvalidArgument,`fail to find ${t.getCreatedAt().toIDString()}`);const r=this.nodeMapByKey.get(e.getStrKey());e===r&&this.nodeMapByKey.delete(r.getStrKey()),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}deleteByKey(t,e){const r=this.nodeMapByKey.get(t);if(r&&r.remove(e))return r.getValue()}has(t){const e=this.nodeMapByKey.get(t);return e?!e.isRemoved():!1}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}get(t){const e=this.nodeMapByKey.get(t);if(!(!e||e.isRemoved()))return e}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}}class Zt extends ji{constructor(e,r){super(e);l(this,"memberNodes");this.memberNodes=r}static create(e,r){if(!r)return new Zt(e,Ho.create());const i=Ho.create();for(const[a,s]of Object.entries(r))i.set(a,s.deepcopy(),s.getCreatedAt());return new Zt(e,i)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,r,i){return this.memberNodes.set(e,r,i)}delete(e,r){return this.memberNodes.delete(e,r)}deleteByKey(e,r){return this.memberNodes.deleteByKey(e,r)}get(e){const r=this.memberNodes.get(e);return r==null?void 0:r.getValue()}getByID(e){const r=this.memberNodes.getByID(e);return r==null?void 0:r.getValue()}has(e){return this.memberNodes.has(e)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const[r,i]of this)e.push(`"${Sn(r)}":${i.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[r,i]of this){const{createdAt:a,value:s,type:o}=i.toJSForTest();e[r]={key:r,createdAt:a,value:s,type:o}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[r]of this)e.push(r);return e}toSortedJSON(){var i;const e=Array();for(const[a]of this)e.push(a);const r=[];for(const a of e.sort()){const s=(i=this.memberNodes.get(a))==null?void 0:i.getValue();r.push(`"${Sn(a)}":${s.toSortedJSON()}`)}return`{${r.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=Zt.create(this.getCreatedAt());for(const r of this.memberNodes)e.memberNodes.set(r.getStrKey(),r.getValue().deepcopy(),this.getPositionedAt());return e.remove(this.getRemovedAt()),e}getDescendants(e){for(const r of this.memberNodes){const i=r.getValue();if(e(i,this))return;i instanceof ji&&i.getDescendants(e)}}*[Symbol.iterator](){const e=new Set;for(const r of this.memberNodes)e.has(r.getStrKey())||(e.add(r.getStrKey()),r.isRemoved()||(yield[r.getStrKey(),r.getValue()]))}}var gt=(n=>(n.Local="local",n.Remote="remote",n.UndoRedo="undoredo",n))(gt||{});class on{constructor(t,e){l(this,"parentCreatedAt");l(this,"executedAt");this.parentCreatedAt=t,this.executedAt=e}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new T(S.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(t){this.executedAt&&(this.executedAt=this.executedAt.setActor(t))}setExecutedAt(t){this.executedAt=t}}class xS{constructor(t){l(this,"value");l(this,"left");l(this,"right");l(this,"parent");l(this,"weight");this.value=t,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(t){this.left=t}setRight(t){this.right=t}setParent(t){this.parent=t}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(t){this.weight+=t}initWeight(){this.weight=this.getLength()}}class Vo{constructor(t){l(this,"root");this.root=t}get length(){return this.root?this.root.getWeight():0}find(t){if(!this.root||t<0)return[void 0,0];let e=this.root;for(;;)if(e.hasLeft()&&t<=e.getLeftWeight())e=e.getLeft();else if(e.hasRight()&&e.getLeftWeight()+e.getLength()<t)t-=e.getLeftWeight()+e.getLength(),e=e.getRight();else{t-=e.getLeftWeight();break}if(t>e.getLength())throw new T(S.ErrInvalidArgument,`out of index range: pos: ${t} > node.length: ${e.getLength()}`);return this.splayNode(e),[e,t]}indexOf(t){return!t||t!==this.root&&!t.hasLinks()?-1:(this.splayNode(t),this.root.getLeftWeight())}getRoot(){return this.root}insert(t){return this.insertAfter(this.root,t)}insertAfter(t,e){return t?(this.splayNode(t),this.root=e,e.setRight(t.getRight()),t.hasRight()&&t.getRight().setParent(e),e.setLeft(t),t.setParent(e),t.setRight(),this.updateWeight(t),this.updateWeight(e),e):(this.root=e,e)}updateWeight(t){t.initWeight(),t.hasLeft()&&t.increaseWeight(t.getLeftWeight()),t.hasRight()&&t.increaseWeight(t.getRightWeight())}updateTreeWeight(t){for(;t;)this.updateWeight(t),t=t.getParent()}splayNode(t){if(t)for(;;)if(this.isLeftChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t),this.rotateLeft(t);else if(this.isLeftChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t.getParent()),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t.getParent()),this.rotateLeft(t);else{this.isLeftChild(t)?this.rotateRight(t):this.isRightChild(t)&&this.rotateLeft(t),this.updateWeight(t);return}}delete(t){this.splayNode(t);const e=new Vo(t.getLeft());e.root&&e.root.setParent();const r=new Vo(t.getRight());if(r.root&&r.root.setParent(),e.root){const i=e.getRightmost();e.splayNode(i),e.root.setRight(r.root),r.root&&r.root.setParent(e.root),this.root=e.root}else this.root=r.root;t.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(t,e){if(!e){this.splayNode(t),this.cutOffRight(t);return}this.splayNode(t),this.splayNode(e),e.getLeft()!=t&&this.rotateRight(t),this.cutOffRight(t)}cutOffRight(t){const e=[];this.traversePostorder(t.getRight(),e);for(const r of e)r.initWeight();this.updateTreeWeight(t)}toTestString(){const t=[];return this.traverseInorder(this.root,t),t.map(e=>`[${e.getWeight()},${e.getLength()}]${e.getValue()||""}`).join("")}checkWeight(){const t=[];this.traverseInorder(this.root,t);for(const e of t)if(e.getWeight()!=e.getLength()+e.getLeftWeight()+e.getRightWeight())return!1;return!0}getRightmost(){let t=this.root;for(;t.hasRight();)t=t.getRight();return t}traverseInorder(t,e){t&&(this.traverseInorder(t.getLeft(),e),e.push(t),this.traverseInorder(t.getRight(),e))}traversePostorder(t,e){t&&(this.traversePostorder(t.getLeft(),e),this.traversePostorder(t.getRight(),e),e.push(t))}rotateLeft(t){const e=t.getParent();e.hasParent()?e===e.getParent().getLeft()?e.getParent().setLeft(t):e.getParent().setRight(t):this.root=t,t.setParent(e.getParent()),e.setRight(t.getLeft()),e.hasRight()&&e.getRight().setParent(e),t.setLeft(e),t.getLeft().setParent(t),this.updateWeight(e),this.updateWeight(t)}rotateRight(t){const e=t.getParent();e.hasParent()?e===e.getParent().getLeft()?e.getParent().setLeft(t):e.getParent().setRight(t):this.root=t,t.setParent(e.getParent()),e.setLeft(t.getRight()),e.hasLeft()&&e.getLeft().setParent(e),t.setRight(e),t.getRight().setParent(t),this.updateWeight(e),this.updateWeight(t)}isLeftChild(t){return t&&t.hasParent()?t.getParent().getLeft()===t:!1}isRightChild(t){return t&&t.hasParent()?t.getParent().getRight()===t:!1}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var je=null;try{je=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function F(n,t,e){this.low=n|0,this.high=t|0,this.unsigned=!!e}F.prototype.__isLong__;Object.defineProperty(F.prototype,"__isLong__",{value:!0});function _t(n){return(n&&n.__isLong__)===!0}function zy(n){var t=Math.clz32(n&-n);return n?31-t:t}F.isLong=_t;var My={},Uy={};function Oa(n,t){var e,r,i;return t?(n>>>=0,(i=0<=n&&n<256)&&(r=Uy[n],r)?r:(e=_(n,0,!0),i&&(Uy[n]=e),e)):(n|=0,(i=-128<=n&&n<128)&&(r=My[n],r)?r:(e=_(n,n<0?-1:0,!1),i&&(My[n]=e),e))}F.fromInt=Oa;function Ke(n,t){if(isNaN(n))return t?ai:tn;if(t){if(n<0)return ai;if(n>=DS)return CS}else{if(n<=-Jy)return se;if(n+1>=Jy)return kS}return n<0?Ke(-n,t).neg():_(n%xs|0,n/xs|0,t)}F.fromNumber=Ke;function _(n,t,e){return new F(n,t,e)}F.fromBits=_;var ic=Math.pow;function fg(n,t,e){if(n.length===0)throw Error("empty string");if(typeof t=="number"?(e=t,t=!1):t=!!t,n==="NaN"||n==="Infinity"||n==="+Infinity"||n==="-Infinity")return t?ai:tn;if(e=e||10,e<2||36<e)throw RangeError("radix");var r;if((r=n.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return fg(n.substring(1),t,e).neg();for(var i=Ke(ic(e,8)),a=tn,s=0;s<n.length;s+=8){var o=Math.min(8,n.length-s),u=parseInt(n.substring(s,s+o),e);if(o<8){var c=Ke(ic(e,o));a=a.mul(c).add(Ke(u))}else a=a.mul(i),a=a.add(Ke(u))}return a.unsigned=t,a}F.fromString=fg;function Xe(n,t){return typeof n=="number"?Ke(n,t):typeof n=="string"?fg(n,t):_(n.low,n.high,typeof t=="boolean"?t:n.unsigned)}F.fromValue=Xe;var Ly=65536,HA=1<<24,xs=Ly*Ly,DS=xs*xs,Jy=DS/2,qy=Oa(HA),tn=Oa(0);F.ZERO=tn;var ai=Oa(0,!0);F.UZERO=ai;var Wa=Oa(1);F.ONE=Wa;var OS=Oa(1,!0);F.UONE=OS;var nd=Oa(-1);F.NEG_ONE=nd;var kS=_(-1,2147483647,!1);F.MAX_VALUE=kS;var CS=_(-1,-1,!0);F.MAX_UNSIGNED_VALUE=CS;var se=_(0,-2147483648,!1);F.MIN_VALUE=se;var D=F.prototype;D.toInt=function(){return this.unsigned?this.low>>>0:this.low};D.toNumber=function(){return this.unsigned?(this.high>>>0)*xs+(this.low>>>0):this.high*xs+(this.low>>>0)};D.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(se)){var e=Ke(t),r=this.div(e),i=r.mul(e).sub(this);return r.toString(t)+i.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var a=Ke(ic(t,6),this.unsigned),s=this,o="";;){var u=s.div(a),c=s.sub(u.mul(a)).toInt()>>>0,h=c.toString(t);if(s=u,s.isZero())return h+o;for(;h.length<6;)h="0"+h;o=""+h+o}};D.getHighBits=function(){return this.high};D.getHighBitsUnsigned=function(){return this.high>>>0};D.getLowBits=function(){return this.low};D.getLowBitsUnsigned=function(){return this.low>>>0};D.getNumBitsAbs=function(){if(this.isNegative())return this.eq(se)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,e=31;e>0&&!(t&1<<e);e--);return this.high!=0?e+33:e+1};D.isSafeInteger=function(){var t=this.high>>21;return t?this.unsigned?!1:t===-1&&!(this.low===0&&this.high===-2097152):!0};D.isZero=function(){return this.high===0&&this.low===0};D.eqz=D.isZero;D.isNegative=function(){return!this.unsigned&&this.high<0};D.isPositive=function(){return this.unsigned||this.high>=0};D.isOdd=function(){return(this.low&1)===1};D.isEven=function(){return(this.low&1)===0};D.equals=function(t){return _t(t)||(t=Xe(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low};D.eq=D.equals;D.notEquals=function(t){return!this.eq(t)};D.neq=D.notEquals;D.ne=D.notEquals;D.lessThan=function(t){return this.comp(t)<0};D.lt=D.lessThan;D.lessThanOrEqual=function(t){return this.comp(t)<=0};D.lte=D.lessThanOrEqual;D.le=D.lessThanOrEqual;D.greaterThan=function(t){return this.comp(t)>0};D.gt=D.greaterThan;D.greaterThanOrEqual=function(t){return this.comp(t)>=0};D.gte=D.greaterThanOrEqual;D.ge=D.greaterThanOrEqual;D.compare=function(t){if(_t(t)||(t=Xe(t)),this.eq(t))return 0;var e=this.isNegative(),r=t.isNegative();return e&&!r?-1:!e&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1};D.comp=D.compare;D.negate=function(){return!this.unsigned&&this.eq(se)?se:this.not().add(Wa)};D.neg=D.negate;D.add=function(t){_t(t)||(t=Xe(t));var e=this.high>>>16,r=this.high&65535,i=this.low>>>16,a=this.low&65535,s=t.high>>>16,o=t.high&65535,u=t.low>>>16,c=t.low&65535,h=0,m=0,d=0,g=0;return g+=a+c,d+=g>>>16,g&=65535,d+=i+u,m+=d>>>16,d&=65535,m+=r+o,h+=m>>>16,m&=65535,h+=e+s,h&=65535,_(d<<16|g,h<<16|m,this.unsigned)};D.subtract=function(t){return _t(t)||(t=Xe(t)),this.add(t.neg())};D.sub=D.subtract;D.multiply=function(t){if(this.isZero())return this;if(_t(t)||(t=Xe(t)),je){var e=je.mul(this.low,this.high,t.low,t.high);return _(e,je.get_high(),this.unsigned)}if(t.isZero())return this.unsigned?ai:tn;if(this.eq(se))return t.isOdd()?se:tn;if(t.eq(se))return this.isOdd()?se:tn;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(qy)&&t.lt(qy))return Ke(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,i=this.high&65535,a=this.low>>>16,s=this.low&65535,o=t.high>>>16,u=t.high&65535,c=t.low>>>16,h=t.low&65535,m=0,d=0,g=0,b=0;return b+=s*h,g+=b>>>16,b&=65535,g+=a*h,d+=g>>>16,g&=65535,g+=s*c,d+=g>>>16,g&=65535,d+=i*h,m+=d>>>16,d&=65535,d+=a*c,m+=d>>>16,d&=65535,d+=s*u,m+=d>>>16,d&=65535,m+=r*h+i*c+a*u+s*o,m&=65535,_(g<<16|b,m<<16|d,this.unsigned)};D.mul=D.multiply;D.divide=function(t){if(_t(t)||(t=Xe(t)),t.isZero())throw Error("division by zero");if(je){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var e=(this.unsigned?je.div_u:je.div_s)(this.low,this.high,t.low,t.high);return _(e,je.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ai:tn;var r,i,a;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return ai;if(t.gt(this.shru(1)))return OS;a=ai}else{if(this.eq(se)){if(t.eq(Wa)||t.eq(nd))return se;if(t.eq(se))return Wa;var s=this.shr(1);return r=s.div(t).shl(1),r.eq(tn)?t.isNegative()?Wa:nd:(i=this.sub(t.mul(r)),a=r.add(i.div(t)),a)}else if(t.eq(se))return this.unsigned?ai:tn;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();a=tn}for(i=this;i.gte(t);){r=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(r)/Math.LN2),u=o<=48?1:ic(2,o-48),c=Ke(r),h=c.mul(t);h.isNegative()||h.gt(i);)r-=u,c=Ke(r,this.unsigned),h=c.mul(t);c.isZero()&&(c=Wa),a=a.add(c),i=i.sub(h)}return a};D.div=D.divide;D.modulo=function(t){if(_t(t)||(t=Xe(t)),je){var e=(this.unsigned?je.rem_u:je.rem_s)(this.low,this.high,t.low,t.high);return _(e,je.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))};D.mod=D.modulo;D.rem=D.modulo;D.not=function(){return _(~this.low,~this.high,this.unsigned)};D.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};D.clz=D.countLeadingZeros;D.countTrailingZeros=function(){return this.low?zy(this.low):zy(this.high)+32};D.ctz=D.countTrailingZeros;D.and=function(t){return _t(t)||(t=Xe(t)),_(this.low&t.low,this.high&t.high,this.unsigned)};D.or=function(t){return _t(t)||(t=Xe(t)),_(this.low|t.low,this.high|t.high,this.unsigned)};D.xor=function(t){return _t(t)||(t=Xe(t)),_(this.low^t.low,this.high^t.high,this.unsigned)};D.shiftLeft=function(t){return _t(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?_(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):_(0,this.low<<t-32,this.unsigned)};D.shl=D.shiftLeft;D.shiftRight=function(t){return _t(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?_(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):_(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};D.shr=D.shiftRight;D.shiftRightUnsigned=function(t){return _t(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?_(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):t===32?_(this.high,0,this.unsigned):_(this.high>>>t-32,0,this.unsigned)};D.shru=D.shiftRightUnsigned;D.shr_u=D.shiftRightUnsigned;D.rotateLeft=function(t){var e;return _t(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?_(this.high,this.low,this.unsigned):t<32?(e=32-t,_(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned)):(t-=32,e=32-t,_(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned))};D.rotl=D.rotateLeft;D.rotateRight=function(t){var e;return _t(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?_(this.high,this.low,this.unsigned):t<32?(e=32-t,_(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned)):(t-=32,e=32-t,_(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned))};D.rotr=D.rotateRight;D.toSigned=function(){return this.unsigned?_(this.low,this.high,!1):this};D.toUnsigned=function(){return this.unsigned?this:_(this.low,this.high,!0)};D.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()};D.toBytesLE=function(){var t=this.high,e=this.low;return[e&255,e>>>8&255,e>>>16&255,e>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};D.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,e>>>24,e>>>16&255,e>>>8&255,e&255]};F.fromBytes=function(t,e,r){return r?F.fromBytesLE(t,e):F.fromBytesBE(t,e)};F.fromBytesLE=function(t,e){return new F(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)};F.fromBytesBE=function(t,e){return new F(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)};typeof BigInt=="function"&&(F.fromBigInt=function(t,e){var r=Number(BigInt.asIntN(32,t)),i=Number(BigInt.asIntN(32,t>>BigInt(32)));return _(r,i,e)},F.fromValue=function(t,e){return typeof t=="bigint"?F.fromBigInt(t,e):Xe(t,e)},D.toBigInt=function(){var t=BigInt(this.low>>>0),e=BigInt(this.unsigned?this.high>>>0:this.high);return e<<BigInt(32)|t});var lt=(n=>(n[n.Null=0]="Null",n[n.Boolean=1]="Boolean",n[n.Integer=2]="Integer",n[n.Long=3]="Long",n[n.Double=4]="Double",n[n.String=5]="String",n[n.Bytes=6]="Bytes",n[n.Date=7]="Date",n))(lt||{});class vt extends ul{constructor(e,r){super(r);l(this,"valueType");l(this,"value");this.valueType=vt.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,r){return new vt(e,r)}static valueFromBytes(e,r){switch(e){case 0:return null;case 1:return!!r[0];case 2:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 4:{const i=new DataView(r.buffer);return r.forEach(function(a,s){i.setUint8(s,a)}),i.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(r);case 3:return F.fromBytesLE(Array.from(r));case 6:return r;case 7:return new Date(F.fromBytesLE(Array.from(r),!0).toNumber());default:throw new T(S.ErrUnimplemented,`unimplemented type: ${e}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new T(S.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${Sn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=vt.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof F)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return vt.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,e,!0),r}case 5:return new TextEncoder().encode(this.value);case 3:{const r=this.value.toBytesLE();return Uint8Array.from(r)}case 6:return this.value;case 7:{const e=this.value,r=F.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(r)}default:throw new T(S.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class ac extends xS{constructor(e){super(e);l(this,"prev");l(this,"next");l(this,"movedFrom");this.value=e}static createAfter(e,r){const i=new ac(r),a=e.next;return e.next=i,i.prev=e,i.next=a,a&&(a.prev=i),i}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(e){this.movedFrom=e}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class jo{constructor(){l(this,"dummyHead");l(this,"last");l(this,"nodeMapByIndex");l(this,"nodeMapByCreatedAt");const t=vt.of(0,Ns);t.setRemovedAt(Ns),this.dummyHead=new ac(t),this.last=this.dummyHead,this.nodeMapByIndex=new Vo,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new jo}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(t,e){let r=this.nodeMapByCreatedAt.get(t.toIDString());if(!r)throw new T(S.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);for(;r.getValue().getMovedAt()&&r.getValue().getMovedAt().after(e)&&r.getMovedFrom();)r=r.getMovedFrom();for(;r.getNext()&&r.getNext().getPositionedAt().after(e);)r=r.getNext();return r}release(t){this.last===t&&(this.last=t.getPrev()),t.release(),this.nodeMapByIndex.delete(t),this.nodeMapByCreatedAt.delete(t.getValue().getCreatedAt().toIDString())}insertAfter(t,e,r=e.getCreatedAt()){const i=this.findNextBeforeExecutedAt(t,r),a=ac.createAfter(i,e);return i===this.last&&(this.last=a),this.nodeMapByIndex.insertAfter(i,a),this.nodeMapByCreatedAt.set(a.getCreatedAt().toIDString(),a),a}moveAfter(t,e,r){let i=this.nodeMapByCreatedAt.get(t.toIDString());if(!i)throw new T(S.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);let a=this.nodeMapByCreatedAt.get(e.toIDString());if(!a)throw new T(S.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);if(i!==a&&r.after(a.getPositionedAt())){const s=a.getPrev();let o=a.getNext();for(this.release(a),a=this.insertAfter(i.getCreatedAt(),a.getValue(),r),a.getValue().setMovedAt(r),a.setMovedFrom(s);o&&o.getPositionedAt().after(r);)i=a,a=o,o=a.getNext(),this.release(a),a=this.insertAfter(i.getCreatedAt(),a.getValue(),r),a.getValue().setMovedAt(r),a.setMovedFrom(s)}}insert(t){this.insertAfter(this.last.getCreatedAt(),t)}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}subPathOf(t){const e=this.nodeMapByCreatedAt.get(t.toIDString());if(e)return String(this.nodeMapByIndex.indexOf(e))}purge(t){const e=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!e)throw new T(S.ErrInvalidArgument,`fail to find the given createdAt: ${t.getCreatedAt().toIDString()}`);this.release(e)}getByIndex(t){if(t>=this.length)return;const[e,r]=this.nodeMapByIndex.find(t);let i=e;if(t===0&&e===this.dummyHead||r>0)do i&&(i=i.getNext());while(i&&i.isRemoved());return i}getPrevCreatedAt(t){let e=this.nodeMapByCreatedAt.get(t.toIDString());do e=e.getPrev();while(this.dummyHead!==e&&e.isRemoved());return e.getValue().getCreatedAt()}delete(t,e){const r=this.nodeMapByCreatedAt.get(t.toIDString()),i=r.isRemoved();return r.remove(e)&&!i&&this.nodeMapByIndex.splayNode(r),r.getValue()}set(t,e,r){const i=this.nodeMapByCreatedAt.get(t.toIDString());if(!i)throw new T(S.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);return this.insertAfter(i.getCreatedAt(),e,r),this.delete(t,r)}deleteByIndex(t,e){const r=this.getByIndex(t);if(r)return r.remove(e)&&this.nodeMapByIndex.splayNode(r),r.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const t=[];for(const e of this){const r=`${e.getCreatedAt().toIDString()}:${e.getValue().toJSON()}`;e.isRemoved()?t.push(`{${r}}`):t.push(`[${r}]`)}return t.join("")}*[Symbol.iterator](){let t=this.dummyHead.getNext();for(;t;)yield t,t=t.getNext()}}class Qt extends ji{constructor(e,r){super(e);l(this,"elements");this.elements=r}static create(e,r){if(!r)return new Qt(e,jo.create());const i=jo.create();for(const a of r)i.insertAfter(i.getLastCreatedAt(),a.deepcopy());return new Qt(e,i)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,r,i){this.elements.insertAfter(e,r,i)}moveAfter(e,r,i){this.elements.moveAfter(e,r,i)}get(e){const r=this.elements.getByIndex(e);return r==null?void 0:r.getValue()}getByID(e){const r=this.elements.getByID(e);return r==null?void 0:r.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,r){return this.elements.delete(e,r)}deleteByIndex(e,r){return this.elements.deleteByIndex(e,r)}set(e,r,i){return this.elements.set(e,r,i)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const r of this.elements){const i=r.getValue();if(e(i,this))return;i instanceof ji&&i.getDescendants(e)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const r of this)e.push(r.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let r=0;r<this.length;r++){const{createdAt:i,value:a,type:s}=this.get(r).toJSForTest();e[r]={key:String(r),createdAt:i,value:a,type:s}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=Qt.create(this.getCreatedAt());for(const r of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),r.getValue().deepcopy());return e.remove(this.getRemovedAt()),e}}class Qi extends on{constructor(e,r,i,a){super(e,a);l(this,"prevCreatedAt");l(this,"value");this.prevCreatedAt=r,this.value=i}static create(e,r,i,a){return new Qi(e,r,i,a)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Qt))throw new T(S.ErrInvalidArgument,"fail to execute, only array can execute add");const i=r,a=this.value.deepcopy();return i.insertAfter(this.prevCreatedAt,a,this.getExecutedAt()),e.registerElement(a,i),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(i.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return Dn.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(e){this.prevCreatedAt=e}}class Dn extends on{constructor(e,r,i){super(e,i);l(this,"createdAt");this.createdAt=r}static create(e,r,i){return new Dn(e,r,i)}execute(e,r){var c;const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof ji))throw new T(S.ErrInvalidArgument,`only object and array can execute remove: ${i}`);if(r===gt.UndoRedo){let h=i.getByID(this.createdAt);for(;h;){if(h.getRemovedAt())return;h=(c=e.findElementPairByCreatedAt(h.getCreatedAt()))==null?void 0:c.parent}}const a=i.subPathOf(this.createdAt),s=this.toReverseOperation(i),o=i.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(o),{opInfos:i instanceof Qt?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(a)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:a}],reverseOp:s}}toReverseOperation(e){if(e instanceof Qt){const r=e.getByID(this.createdAt);if(r!==void 0){const i=e.getPrevCreatedAt(this.createdAt);return Qi.create(this.getParentCreatedAt(),i,r.deepcopy())}}if(e instanceof Zt){const r=e.subPathOf(this.createdAt);if(r!==void 0){const i=e.get(r);if(i!==void 0)return Aa.create(r,i.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(e){this.createdAt=e}}class Aa extends on{constructor(e,r,i,a){super(i,a);l(this,"key");l(this,"value");this.key=e,this.value=r}static create(e,r,i,a){return new Aa(e,r,i,a)}execute(e,r){var c;const i=e.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Zt))throw new T(S.ErrInvalidArgument,"fail to execute, only object can execute set");if(r===gt.UndoRedo){let h=i;for(;h;){if(h.getRemovedAt())return;h=(c=e.findElementPairByCreatedAt(h.getCreatedAt()))==null?void 0:c.parent}}const a=i.get(this.key),s=this.toReverseOperation(a),o=this.value.deepcopy(),u=i.set(this.key,o,this.getExecutedAt());return r===gt.UndoRedo&&e.findByCreatedAt(o.getCreatedAt())&&e.deregisterElement(o),e.registerElement(o,i),u&&e.registerRemovedElement(u),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:s}}toReverseOperation(e){let r=Dn.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(r=Aa.create(this.key,e.deepcopy(),this.getParentCreatedAt())),r}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class en extends on{constructor(e,r,i,a){super(e,a);l(this,"prevCreatedAt");l(this,"createdAt");this.prevCreatedAt=r,this.createdAt=i}static create(e,r,i,a){return new en(e,r,i,a)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Qt))throw new T(S.ErrInvalidArgument,"fail to execute, only array can execute move");const i=r,a=this.toReverseOperation(i),s=Number(i.subPathOf(this.createdAt));i.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const o=Number(i.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:o,previousIndex:s}],reverseOp:a}}toReverseOperation(e){const r=e.getPrevCreatedAt(this.createdAt);return en.create(this.getParentCreatedAt(),r,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(e){this.prevCreatedAt=e}setCreatedAt(e){this.createdAt=e}}class Bi{constructor(t,e,r,i){l(this,"key");l(this,"value");l(this,"updatedAt");l(this,"_isRemoved");this.key=t,this.value=e,this.updatedAt=r,this._isRemoved=i}static of(t,e,r,i){return new Bi(t,e,r,i)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:An}}}class gi{constructor(){l(this,"nodeMapByKey");l(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new gi}getNodeMapByKey(){return this.nodeMapByKey}set(t,e,r){const i=this.nodeMapByKey.get(t);if(i&&i.isRemoved()&&r.after(i.getUpdatedAt())&&(this.numberOfRemovedElement-=1),i===void 0||r.after(i.getUpdatedAt())){const a=Bi.of(t,e,r,!1);return this.nodeMapByKey.set(t,a),i!==void 0&&i.isRemoved()?[i,a]:[void 0,a]}return i.isRemoved()?[i,void 0]:[void 0,void 0]}setInternal(t,e,r,i){const a=Bi.of(t,e,r,i);this.nodeMapByKey.set(t,a),i&&this.numberOfRemovedElement++}remove(t,e){const r=this.nodeMapByKey.get(t),i=[];if(r===void 0||e.after(r.getUpdatedAt())){if(r===void 0){this.numberOfRemovedElement+=1;const o=Bi.of(t,"",e,!0);return this.nodeMapByKey.set(t,o),i.push(o),i}const a=r.isRemoved();a||(this.numberOfRemovedElement+=1),a&&i.push(r);const s=Bi.of(t,r.getValue(),e,!0);return this.nodeMapByKey.set(t,s),i.push(s),i}return i}has(t){if(this.nodeMapByKey.has(t)){const e=this.nodeMapByKey.get(t);return e!==void 0&&!e.isRemoved()}return!1}get(t){if(this.nodeMapByKey.has(t))return this.nodeMapByKey.get(t).getValue()}deepcopy(){const t=new gi;for(const[,e]of this.nodeMapByKey)t.setInternal(e.getKey(),e.getValue(),e.getUpdatedAt(),e.isRemoved());return t}toJSON(){if(!this.size())return"{}";const t=[];for(const[e,r]of this.nodeMapByKey)r.isRemoved()||t.push(`"${Sn(e)}":"${Sn(r.getValue())}"`);return`{${t.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const t={};for(const[e,r]of this.nodeMapByKey)r.isRemoved()||(t[e]=r.getValue());return t}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}purge(t){const e=this.nodeMapByKey.get(t.getKey());e==null||e.toIDString()!=t.toIDString()||(this.nodeMapByKey.delete(t.getKey()),this.numberOfRemovedElement--)}}function Ze(n){if(n instanceof Map){const t=Array.from(n);return new Map(JSON.parse(JSON.stringify(t)))}return JSON.parse(JSON.stringify(n))}const IS=n=>n?Object.entries(n).length===0:!0,Ds=n=>{const t={};for(const[e,r]of Object.entries(n))t[e]=JSON.stringify(r);return t},li=n=>{const t={};for(const[e,r]of Object.entries(n))t[e]=JSON.parse(r);return t};function VA(n){return n?Py(n.live)+Py(n.gc):0}function Py(n){return n.data+n.meta}function Kt(n,...t){for(const e of t)n.data+=e.data,n.meta+=e.meta}function oa(n,t){n.data-=t.data,n.meta-=t.meta}class Ko{constructor(t){l(this,"attributes");l(this,"content");this.attributes=gi.create(),this.content=t}static create(t){return new Ko(t)}get length(){return this.content.length}substring(t,e){const r=new Ko(this.content.substring(t,e));return r.attributes=this.attributes.deepcopy(),r}setAttr(t,e,r){return this.attributes.set(t,e,r)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const t={data:0,meta:0};t.data+=this.content.length*2;for(const e of this.attributes){const r=e.getDataSize();t.meta+=r.meta,t.data+=r.data}return t}toJSON(){const t=Sn(this.content),e=this.attributes.toObject(),r=[];for(const[i,a]of Object.entries(e)){const s=JSON.parse(a),o=typeof s=="string"?`"${Sn(i)}":"${Sn(s)}"`:`"${Sn(i)}":${String(s)}`;r.push(o)}return r.sort(),r.length===0?`{"val":"${t}"}`:`{"attrs":{${r.join(",")}},"val":"${t}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(t){this.attributes&&t instanceof Bi&&this.attributes.purge(t)}getGCPairs(){const t=[];for(const e of this.attributes)e.getRemovedAt()&&t.push({parent:this,child:e});return t}}class we extends ul{constructor(e,r){super(r);l(this,"rgaTreeSplit");this.rgaTreeSplit=e}static create(e,r){return new we(e,r)}edit(e,r,i,a,s){const o=r?Ko.create(r):void 0;if(o&&a)for(const[g,b]of Object.entries(a))o.setAttr(g,b,i);const[u,c,h,m]=this.rgaTreeSplit.edit(e,i,o,s);return[m.map(g=>({...g,value:g.value?{attributes:li(g.value.getAttributes()),content:g.value.getContent()}:{attributes:void 0,content:""},type:"content"})),c,h,[u,u]]}setStyle(e,r,i,a){const s={data:0,meta:0},[,o,u]=this.rgaTreeSplit.findNodeWithSplit(e[1],i),[,c,h]=this.rgaTreeSplit.findNodeWithSplit(e[0],i);Kt(s,o,c);const m=[],d=this.rgaTreeSplit.findBetween(h,u),g=[];for(const A of d){const x=A.getCreatedAt().getActorID();let p=nu;a!=null&&(p=a.get(x)?a.get(x):0n),A.canStyle(i,p)&&g.push(A)}const b=[];for(const A of g){if(A.isRemoved())continue;const[x,p]=this.rgaTreeSplit.findIndexesFromRange(A.createPosRange());m.push({type:"style",actor:i.getActorID(),from:x,to:p,value:{attributes:li(r)}});for(const[y,v]of Object.entries(r)){const[w]=A.getValue().setAttr(y,v,i);w!==void 0&&b.push({parent:A.getValue(),child:w});const k=A.getValue().getAttrs().getNodeMapByKey().get(y);k!==void 0&&Kt(s,k.getDataSize())}}return[b,s,m]}indexRangeToPosRange(e,r){const i=this.rgaTreeSplit.indexToPos(e);return e===r?[i,i]:[i,this.rgaTreeSplit.indexToPos(r)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const e={data:0,meta:0};for(const r of this.rgaTreeSplit){if(r.isRemoved())continue;const i=r.getDataSize();e.data+=i.data,e.meta+=i.meta}return{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){const e=[];for(const r of this.rgaTreeSplit)r.isRemoved()||e.push(r.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const r of this.rgaTreeSplit)if(!r.isRemoved()){const i=r.getValue();e.push({attributes:li(i.getAttributes()),content:i.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new we(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.remove(this.getRemovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}getGCPairs(){const e=[];for(const r of this.rgaTreeSplit){r.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:r});for(const i of r.getValue().getGCPairs())e.push(i)}return e}}class cl extends on{constructor(e,r,i,a,s,o){super(e,o);l(this,"fromPos");l(this,"toPos");l(this,"content");l(this,"attributes");this.fromPos=r,this.toPos=i,this.content=a,this.attributes=s}static create(e,r,i,a,s,o){return new cl(e,r,i,a,s,o)}execute(e,r,i){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof we))throw new T(S.ErrInvalidArgument,"fail to execute, only Text can execute edit");const s=a,[o,u,c]=s.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),i);e.acc(c);for(const h of u)e.registerGCPair(h);return{opInfos:o.map(({from:h,to:m,value:d})=>({type:"edit",from:h,to:m,value:d,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),i=this.toPos.toTestString(),a=this.content;return`${e}.EDIT(${r},${i},${a})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class fl extends on{constructor(e,r,i,a,s){super(e,s);l(this,"fromPos");l(this,"toPos");l(this,"attributes");this.fromPos=r,this.toPos=i,this.attributes=a}static create(e,r,i,a,s){return new fl(e,r,i,a,s)}execute(e,r,i){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof we))throw new T(S.ErrInvalidArgument,"fail to execute, only Text can execute edit");const s=a,[o,u,c]=s.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),i);e.acc(u);for(const h of o)e.registerGCPair(h);return{opInfos:c.map(({from:h,to:m,value:d})=>({type:"style",from:h,to:m,value:d,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),i=this.toPos.toTestString(),a=this.attributes;return`${e}.STYL(${r},${i},${JSON.stringify(a)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const jA=2,KA="root",En="text";function Ys(n,t){let e=0;const r=n.children;for(let i=0;i<t;i++){const a=r[i];!a||a.isRemoved||(e+=a.paddedSize)}return e}class $A{constructor(t,e=[]){l(this,"type");l(this,"parent");l(this,"_children");l(this,"size");if(this.type=t,this.size=0,this._children=e,this.isText&&this._children.length>0)throw new T(S.ErrRefused,"Text node cannot have children")}updateAncestorsSize(){let t=this.parent;const e=this.isRemoved?-1:1;for(;t&&(t.size+=this.paddedSize*e,!t.isRemoved);)t=t.parent}updateDescendantsSize(){let t=0;for(const e of this._children){const r=e.updateDescendantsSize();e.isRemoved||(t+=r)}return this.size+=t,this.paddedSize}get isText(){return this.type===En}get paddedSize(){return this.size+(this.isText?0:jA)}isAncestorOf(t){return GA(this,t)}get nextSibling(){const t=this.parent.findOffset(this),e=this.parent.children[t+1];if(e)return e}get prevSibling(){const t=this.parent.findOffset(this),e=this.parent.children[t-1];if(e)return e}splitText(t,e){const r={data:0,meta:0};if(t===0||t===this.size)return[void 0,r];const i=this.value.slice(0,t),a=this.value.slice(t);if(!a.length)return[void 0,r];const s=this.getDataSize();this.value=i;const o=this.cloneText(t+e);return o.value=a,this.parent.insertAfterInternal(o,this),Kt(r,this.getDataSize(),o.getDataSize()),oa(r,s),[o,r]}get children(){return this._children.filter(t=>!t.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(t=>t.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(t=>t.value).join(""):""}append(...t){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");this._children.push(...t);for(const e of t)e.parent=this,e.updateAncestorsSize()}prepend(...t){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");this._children.unshift(...t);for(const e of t)e.parent=this}insertBefore(t,e){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(e);if(r===-1)throw new T(S.ErrInvalidArgument,"child not found");this.insertAtInternal(t,r),t.updateAncestorsSize()}insertAfter(t,e){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(e);if(r===-1)throw new T(S.ErrInvalidArgument,"child not found");this.insertAtInternal(t,r+1),t.updateAncestorsSize()}insertAt(t,e){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");this.insertAtInternal(t,e),t.updateAncestorsSize()}removeChild(t){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");const e=this._children.indexOf(t);if(e===-1)throw new T(S.ErrInvalidArgument,"child not found");this._children.splice(e,1),t.parent=void 0}splitElement(t,e){const r={data:0,meta:0},i=this.getDataSize(),a=this.cloneElement(e);this.parent.insertAfterInternal(a,this),a.updateAncestorsSize();const s=this.children.slice(0,t),o=this.children.slice(t);this._children=s,a._children=o,this.size=this._children.reduce((u,c)=>u+c.paddedSize,0),a.size=a._children.reduce((u,c)=>u+c.paddedSize,0);for(const u of a._children)u.parent=a;return Kt(r,this.getDataSize(),a.getDataSize()),oa(r,i),[a,r]}insertAfterInternal(t,e){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(e);if(r===-1)throw new T(S.ErrInvalidArgument,"child not found");this.insertAtInternal(t,r+1)}insertAtInternal(t,e){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");this._children.splice(e,0,t),t.parent=this}findOffset(t){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");if(t.isRemoved){const e=this._children.indexOf(t);return this.allChildren.splice(0,e).filter(i=>!i.isRemoved).length}return this.children.indexOf(t)}findBranchOffset(t){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");let e=t;for(;e;){const r=this._children.indexOf(e);if(r!==-1)return r;e=e.parent}return-1}}function GA(n,t){if(n===t)return!1;for(;t.parent;){if(t.parent===n)return!0;t=t.parent}return!1}var Nt=(n=>(n.Start="Start",n.End="End",n.Text="Text",n))(Nt||{});function RS(n,t,e,r){if(t>e)throw new T(S.ErrInvalidArgument,`from is greater than to: ${t} > ${e}`);if(t>n.size)throw new T(S.ErrInvalidArgument,`from is out of range: ${t} > ${n.size}`);if(e>n.size)throw new T(S.ErrInvalidArgument,`to is out of range: ${e} > ${n.size}`);if(t===e)return;let i=0;for(const a of n.children){if(t-a.paddedSize<i&&i<e){const s=a.isText?t-i:t-i-1,o=a.isText?e-i:e-i-1,u=!a.isText&&s<0,c=!a.isText&&o>a.size;(a.isText||u)&&r([a,a.isText?"Text":"Start"],c),RS(a,Math.max(0,s),Math.min(o,a.size),r),c&&r([a,"End"],c)}i+=a.paddedSize}}function BS(n,t,e=0){for(const r of n.children)BS(r,t,e+1);t(n,e)}function Cc(n,t,e=0){for(const r of n._children)Cc(r,t,e+1);t(n,e)}function rd(n,t,e=!0){if(t>n.size)throw new T(S.ErrInvalidArgument,`index is out of range: ${t} > ${n.size}`);if(n.isText)return{node:n,offset:t};let r=0,i=0;for(const a of n.children){if(e&&a.isText&&a.size>=t-i)return rd(a,t-i,e);if(t===i)return{node:n,offset:r};if(!e&&a.paddedSize===t-i)return{node:n,offset:r+1};if(a.paddedSize>t-i)return rd(a,t-i-1,e);i+=a.paddedSize,r+=1}return{node:n,offset:r}}function zS(n){return n.isText||n.children.length===0?n:zS(n.children[0])}function YA(n,t){if(n.size<t)throw new T(S.ErrInvalidArgument,"unacceptable path");for(let e=0;e<n.children.length;e++){const r=n.children[e];if(r.size<t)t-=r.size;else{n=r;break}}return{node:n,offset:t}}class XA{constructor(t){l(this,"root");this.root=t}tokensBetween(t,e,r){RS(this.root,t,e,r)}traverse(t){BS(this.root,t,0)}traverseAll(t){Cc(this.root,t,0)}findTreePos(t,e=!0){return rd(this.root,t,e)}treePosToPath(t){const e=[];let r=t.node;if(r.isText){const i=r.parent.findOffset(r);if(i===-1)throw new T(S.ErrInvalidArgument,"invalid treePos");const a=Ys(r.parent,i);e.push(a+t.offset),r=r.parent}else if(r.hasTextChild()){const i=Ys(r,t.offset);e.push(i)}else e.push(t.offset);for(;r.parent;){const i=r.parent.findOffset(r);if(i===-1)throw new T(S.ErrInvalidArgument,"invalid treePos");e.push(i),r=r.parent}return e.reverse()}pathToIndex(t){const e=this.pathToTreePos(t);return this.indexOf(e)}pathToTreePos(t){if(!t.length)throw new T(S.ErrInvalidArgument,"unacceptable path");let e=this.root;for(let r=0;r<t.length-1;r++){const i=t[r];if(e=e.children[i],!e)throw new T(S.ErrInvalidArgument,"unacceptable path")}if(e.hasTextChild())return YA(e,t[t.length-1]);if(e.children.length<t[t.length-1])throw new T(S.ErrInvalidArgument,"unacceptable path");return{node:e,offset:t[t.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(t){const{node:e,offset:r}=t;if(e.isText){if(e.size===r){const i=e.nextSibling;return i||e.parent}return e}return e.children.length===r?e:zS(e.children[r])}indexOf(t){let{node:e}=t;const{offset:r}=t;let i=0,a=1;if(e.isText){i+=r;const s=e.parent,o=s.findOffset(e);if(o===-1)throw new T(S.ErrInvalidArgument,"invalid pos");i+=Ys(s,o),e=e.parent}else i+=Ys(e,r);for(;e!=null&&e.parent;){const s=e.parent,o=s.findOffset(e);if(o===-1)throw new T(S.ErrInvalidArgument,"invalid pos");i+=Ys(s,o),a++,e=e.parent}return i+a-1}indexToPath(t){const e=this.findTreePos(t);return this.treePosToPath(e)}}const FA=(n,t)=>n===t?0:n<t?-1:1;class ZA{constructor(t,e,r){l(this,"key");l(this,"value");l(this,"parent");l(this,"left");l(this,"right");l(this,"isRed");this.key=t,this.value=e,this.isRed=r}}class QA{constructor(t){l(this,"stack");this.stack=[],this.traverseInorder(t)}traverseInorder(t){t&&(this.traverseInorder(t.left),this.stack.push({key:t.key,value:t.value}),this.traverseInorder(t.right))}}class MS{constructor(t){l(this,"root");l(this,"comparator");l(this,"counter");this.comparator=typeof t<"u"?t:FA,this.counter=0}put(t,e){return this.root=this.putInternal(t,e,this.root),this.root.isRed=!1,e}get(t){const e=this.getInternal(t,this.root);return e?e.value:void 0}remove(t){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,t),this.root&&(this.root.isRed=!1)}getIterator(){return new QA(this.root)}values(){const t=[];for(const e of this.getIterator().stack)t.push(e.value);return t}floorEntry(t){let e=this.root;for(;e;){const r=this.comparator(t,e.key);if(r>0)if(e.right)e.right.parent=e,e=e.right;else return e;else if(r<0)if(e.left)e.left.parent=e,e=e.left;else{let i=e.parent,a=e;for(;i&&a===i.left;)a=i,i=i.parent;return i}else return e}}lastEntry(){if(!this.root)return this.root;let t=this.root;for(;t.right;)t=t.right;return t}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(t,e){for(;e;){const r=this.comparator(t,e.key);if(r===0)return e;r<0?e=e.left:r>0&&(e=e.right)}}putInternal(t,e,r){if(!r)return this.counter+=1,new ZA(t,e,!0);const i=this.comparator(t,r.key);return i<0?r.left=this.putInternal(t,e,r.left):i>0?r.right=this.putInternal(t,e,r.right):r.value=e,this.isRed(r.right)&&!this.isRed(r.left)&&(r=this.rotateLeft(r)),this.isRed(r.left)&&this.isRed(r.left.left)&&(r=this.rotateRight(r)),this.isRed(r.left)&&this.isRed(r.right)&&this.flipColors(r),r}removeInternal(t,e){if(this.comparator(e,t.key)<0)!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeInternal(t.left,e);else{if(this.isRed(t.left)&&(t=this.rotateRight(t)),this.comparator(e,t.key)===0&&!t.right){this.counter-=1;return}if(!this.isRed(t.right)&&!this.isRed(t.right.left)&&(t=this.moveRedRight(t)),this.comparator(e,t.key)===0){this.counter-=1;const r=this.min(t.right);t.value=r.value,t.key=r.key,t.right=this.removeMin(t.right)}else t.right=this.removeInternal(t.right,e)}return this.fixUp(t)}min(t){return t.left?this.min(t.left):t}removeMin(t){if(t.left)return!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeMin(t.left),this.fixUp(t)}fixUp(t){return this.isRed(t.right)&&(t=this.rotateLeft(t)),this.isRed(t.left)&&this.isRed(t.left.left)&&(t=this.rotateRight(t)),this.isRed(t.left)&&this.isRed(t.right)&&this.flipColors(t),t}moveRedLeft(t){return this.flipColors(t),this.isRed(t.right.left)&&(t.right=this.rotateRight(t.right),t=this.rotateLeft(t),this.flipColors(t)),t}moveRedRight(t){return this.flipColors(t),this.isRed(t.left.left)&&(t=this.rotateRight(t),this.flipColors(t)),t}isRed(t){return t&&t.isRed}rotateLeft(t){const e=t.right;return t.right=e.left,e.left=t,e.isRed=e.left.isRed,e.left.isRed=!0,e}rotateRight(t){const e=t.left;return t.left=e.right,e.right=t,e.isRed=e.right.isRed,e.right.isRed=!0,e}flipColors(t){t.isRed=!t.isRed,t.left.isRed=!t.left.isRed,t.right.isRed=!t.right.isRed}}class nn{constructor(t,e){l(this,"parentID");l(this,"leftSiblingID");this.parentID=t,this.leftSiblingID=e}static of(t,e){return new nn(t,e)}static fromTreePos(t){const{offset:e}=t;let{node:r}=t,i;return r.isText?(r.parent.children[0]===r&&e===0?i=r.parent:i=r,r=r.parent):e===0?i=r:i=r.children[e-1],nn.of(r.id,Gt.of(i.getCreatedAt(),i.getOffset()+e))}getParentID(){return this.parentID}static fromStruct(t){return nn.of(Gt.of($e.fromStruct(t.parentID.createdAt),t.parentID.offset),Gt.of($e.fromStruct(t.leftSiblingID.createdAt),t.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(t){const e=this.getParentID(),r=this.getLeftSiblingID(),i=t.findFloorNode(e);let a=t.findFloorNode(r);if(!i||!a)throw new T(S.ErrRefused,`cannot find node of CRDTTreePos(${e.toTestString()}, ${r.toTestString()})`);return!r.equals(e)&&r.getOffset()>0&&r.getOffset()===a.id.getOffset()&&a.insPrevID&&(a=t.findFloorNode(a.insPrevID)),[i,a]}getLeftSiblingID(){return this.leftSiblingID}equals(t){return this.getParentID().getCreatedAt().equals(t.getParentID().getCreatedAt())&&this.getParentID().getOffset()===t.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(t.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===t.getLeftSiblingID().getOffset()}}class Gt{constructor(t,e){l(this,"createdAt");l(this,"offset");this.createdAt=t,this.offset=e}static of(t,e){return new Gt(t,e)}static fromStruct(t){return Gt.of($e.fromStruct(t.createdAt),t.offset)}static createComparator(){return(t,e)=>{const r=t.getCreatedAt().compare(e.getCreatedAt());return r!==0?r:t.getOffset()>e.getOffset()?1:t.getOffset()<e.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}getOffset(){return this.offset}setOffset(t){this.offset=t}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class ye extends $A{constructor(e,r,i,a,s){super(r);l(this,"id");l(this,"removedAt");l(this,"attrs");l(this,"insPrevID");l(this,"insNextID");l(this,"_value","");this.id=e,this.removedAt=s,a&&(this.attrs=a),typeof i=="string"?this.value=i:Array.isArray(i)&&(this._children=i)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,r,i,a){return new ye(e,r,i,a)}deepcopy(){var r;const e=new ye(this.id,this.type);return e.removedAt=this.removedAt,e._value=this._value,e.size=this.size,e.attrs=(r=this.attrs)==null?void 0:r.deepcopy(),e._children=this._children.map(i=>{const a=i.deepcopy();return a.parent=e,a}),e.insPrevID=this.insPrevID,e.insNextID=this.insNextID,e}get value(){if(!this.isText)throw new T(S.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new T(S.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=e,this.size=e.length}get isRemoved(){return!!this.removedAt}remove(e){const r=!this.removedAt;(!this.removedAt||this.removedAt.compare(e)>0)&&(this.removedAt=e),r&&this.updateAncestorsSize()}cloneText(e){return new ye(Gt.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new ye(Gt.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,r,i){const[a,s]=this.isText?this.splitText(r,this.id.getOffset()):this.splitElement(r,i);if(a){if(a.insPrevID=this.id,this.insNextID){const o=e.findFloorNode(this.insNextID);o.insPrevID=a.id,a.insNextID=this.insNextID}this.insNextID=a.id,e.registerNode(a)}return[a,s]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,r){return this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}canStyle(e,r){return this.isText?!1:this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,r){this.attrs||(this.attrs=new gi);const i=[];for(const[a,s]of Object.entries(e))i.push(this.attrs.set(a,s,r));return i}purge(e){this.attrs&&this.attrs.purge(e)}getDataSize(){const e={data:0,meta:0};if(this.isText&&(e.data+=this.size*2),this.id&&(e.meta+=An),this.removedAt&&(e.meta+=An),this.attrs)for(const r of this.attrs){if(r.getRemovedAt())continue;const i=r.getDataSize();e.meta+=i.meta,e.data+=i.data}return e}getGCPairs(){const e=[];if(!this.attrs)return e;for(const r of this.attrs)r.getRemovedAt()&&e.push({parent:this,child:r});return e}}function id(n){var e;if(n.isText){const r=n;return{type:r.type,value:r.value}}const t={type:n.type,children:n.children.map(id)};return n.attrs&&(t.attributes=li((e=n.attrs)==null?void 0:e.toObject())),t}function hg(n){if(n.isText)return n.value;let t="";return n.attrs&&n.attrs.size()&&(t=" "+Array.from(n.attrs).filter(e=>!e.isRemoved()).sort((e,r)=>e.getKey().localeCompare(r.getKey())).map(e=>{const r=JSON.parse(e.getValue());return typeof r=="string"?`${e.getKey()}="${r}"`:`${e.getKey()}="${Sn(e.getValue())}"`}).join(" ")),`<${n.type}${t}>${n.children.map(e=>hg(e)).join("")}</${n.type}>`}function US(n){if(n.isText){const t=n;return{type:t.type,value:t.value,size:t.size,isRemoved:t.isRemoved}}return{type:n.type,children:n.children.map(US),size:n.size,isRemoved:n.isRemoved}}class Ae extends ul{constructor(e,r){super(r);l(this,"indexTree");l(this,"nodeMapByID");this.indexTree=new XA(e),this.nodeMapByID=new MS(Gt.createComparator()),this.indexTree.traverseAll(i=>{this.nodeMapByID.put(i.id,i)})}static create(e,r){return new Ae(e,r)}findFloorNode(e){const r=this.nodeMapByID.floorEntry(e);if(!(!r||!r.key.getCreatedAt().equals(e.getCreatedAt())))return r.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,r){let i={data:0,meta:0};const[a,s]=e.toTreeNodePair(this);let o=s;const u=a===o,c=o.parent&&!u?o.parent:a;if(o.isText){const[,h]=o.split(this,e.getLeftSiblingID().getOffset()-o.id.getOffset());i=h}if(r){const h=c.allChildren,m=u?0:h.indexOf(o)+1;for(let d=m;d<h.length;d++){const g=h[d];if(!g.id.getCreatedAt().after(r))break;o=g}}return[[c,o],i]}style(e,r,i,a){const s={data:0,meta:0},[[o,u],c]=this.findNodesAndSplitText(e[0],i),[[h,m],d]=this.findNodesAndSplitText(e[1],i);Kt(s,d,c);const g=[],b=r?li(r):{},A=[];return this.traverseInPosRange(o,u,h,m,([x,p])=>{var w;const y=x.getCreatedAt().getActorID();let v=nu;if(a!=null&&(v=a.get(y)?a.get(y):0n),x.canStyle(i,v)&&r){const k=x.setAttrs(r,i),I=k.reduce((P,[,J])=>(J&&(P[J.getKey()]=b[J.getKey()]),P),{}),C=x.parent,R=x.prevSibling||x.parent;Object.keys(I).length>0&&g.push({type:"style",from:this.toIndex(C,R),to:this.toIndex(x,x),fromPath:this.toPath(C,R),toPath:this.toPath(x,x),actor:i.getActorID(),value:I});for(const[P]of k)P&&A.push({parent:x,child:P});for(const[P]of Object.entries(b)){const J=(w=x.attrs)==null?void 0:w.getNodeMapByKey().get(P);J!==void 0&&p!==Nt.End&&Kt(s,J.getDataSize())}}}),[A,g,s]}removeStyle(e,r,i,a){const s={data:0,meta:0},[[o,u],c]=this.findNodesAndSplitText(e[0],i),[[h,m],d]=this.findNodesAndSplitText(e[1],i);Kt(s,d,c);const g=[],b=[];return this.traverseInPosRange(o,u,h,m,([A])=>{const x=A.getCreatedAt().getActorID();let p=nu;if(a!=null&&(p=a.get(x)?a.get(x):0n),A.canStyle(i,p)&&r){A.attrs||(A.attrs=new gi);for(const w of r){const k=A.attrs.remove(w,i);for(const I of k)b.push({parent:A,child:I})}const y=A.parent,v=A.prevSibling||A.parent;g.push({actor:i.getActorID(),type:"removeStyle",from:this.toIndex(y,v),to:this.toIndex(A,A),fromPath:this.toPath(y,v),toPath:this.toPath(A,A),value:r})}}),[b,g,s]}edit(e,r,i,a,s,o){const u={data:0,meta:0},[[c,h],m]=this.findNodesAndSplitText(e[0],a),[[d,g],b]=this.findNodesAndSplitText(e[1],a);Kt(u,b,m);const A=this.toIndex(c,h),x=this.toPath(c,h),p=[],y=[],v=[];this.traverseInPosRange(c,h,d,g,([I,C],R)=>{if(C===Nt.Start&&!R)for(const Yt of I.children)v.push(Yt);const P=I.getCreatedAt().getActorID();let J=nu;o!=null&&(J=o.get(P)?o.get(P):0n),(I.canDelete(a,J)||p.includes(I.parent))&&((C===Nt.Text||C===Nt.Start)&&p.push(I),y.push([I,C]))});const w=this.makeDeletionChanges(y,a),k=[];for(const I of p)I.remove(a),I.isRemoved&&k.push({parent:this,child:I});for(const I of v)I.removedAt||c.append(I);if(i>0){let I=0,C=c,R=h;for(;I<i;)C.split(this,C.findOffset(R)+1,s),R=C,C=C.parent,I++;w.push({type:"content",from:A,to:A,fromPath:x,toPath:x,actor:a.getActorID()})}if(r!=null&&r.length){const I=[];let C=h;for(const R of r)C===c?c.insertAt(R,0):c.insertAfter(R,C),C=R,Cc(R,P=>{c.isRemoved?(P.remove(a),k.push({parent:this,child:P})):Kt(u,P.getDataSize()),this.nodeMapByID.put(P.id,P)}),R.isRemoved||I.push(R);if(I.length){const R=I.map(P=>id(P));w.length&&w[w.length-1].from===A?w[w.length-1].value=R:w.push({type:"content",from:A,to:A,fromPath:x,toPath:x,actor:a.getActorID(),value:R})}}return[w,k,u]}editT(e,r,i,a,s){const o=this.findPos(e[0]),u=this.findPos(e[1]);this.edit([o,u],r,i,a,s)}move(e,r,i){throw new T(S.ErrUnimplemented,`not implemented: ${e}, ${r}, ${i}`)}pathToTreePos(e){return this.indexTree.pathToTreePos(e)}purge(e){var a;(a=e.parent)==null||a.removeChild(e),this.nodeMapByID.remove(e.id);const r=e.insPrevID,i=e.insNextID;if(r){const s=this.findFloorNode(r);s.insNextID=i}if(i){const s=this.findFloorNode(i);s.insPrevID=r}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(r=>{r.getRemovedAt()&&e.push({parent:this,child:r});for(const i of r.getGCPairs())e.push(i)}),e}findPos(e,r=!0){const i=this.indexTree.findTreePos(e,r);return nn.fromTreePos(i)}pathToPosRange(e){const r=this.pathToIndex(e);return[this.findPos(r),this.findPos(r+1)]}pathToPos(e){const r=this.indexTree.pathToIndex(e);return this.findPos(r)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return hg(this.indexTree.getRoot())}getDataSize(){const e={data:0,meta:0};return this.indexTree.traverse(r=>{if(r.getRemovedAt())return;const i=r.getDataSize();e.data+=i.data,e.meta+=i.meta}),{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),r=(i,a=void 0,s=void 0,o=0)=>{var g,b,A,x;let u,c,h;const m=i.isText?{node:i,offset:0}:a&&s?this.toTreePos(a,s):null;m&&(u=this.indexTree.indexOf(m),c=this.indexTree.treePosToPath(m),h=nn.fromTreePos(m).toStruct());const d={type:i.type,parent:a==null?void 0:a.id.toTestString(),size:i.size,id:i.id.toTestString(),removedAt:(g=i.removedAt)==null?void 0:g.toTestString(),insPrev:(b=i.insPrevID)==null?void 0:b.toTestString(),insNext:(A=i.insNextID)==null?void 0:A.toTestString(),value:i.isText?i.value:void 0,isRemoved:i.isRemoved,children:[],depth:o,attributes:i.attrs?li((x=i.attrs)==null?void 0:x.toObject()):void 0,index:u,path:c,pos:h};for(let p=0;p<i.allChildren.length;p++){const y=p===0?i:i.allChildren[p-1];d.children.push(r(i.allChildren[p],i,y,o+1))}return d};return r(e)}getRootTreeNode(){return id(this.indexTree.getRoot())}toTestTreeNode(){return US(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot();return new Ae(e.deepcopy(),this.getCreatedAt())}toPath(e,r){const i=this.toTreePos(e,r);return i?this.indexTree.treePosToPath(i):[]}toIndex(e,r){const i=this.toTreePos(e,r);return i?this.indexTree.indexOf(i):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const r=this.findPos(e[0]);return e[0]===e[1]?[r,r]:[r,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[r,i]=e,a=this.findPos(r);return r===i?[a.toStruct(),a.toStruct()]:[a.toStruct(),this.findPos(i).toStruct()]}posRangeToPathRange(e){const[[r,i]]=this.findNodesAndSplitText(e[0]),[[a,s]]=this.findNodesAndSplitText(e[1]);return[this.toPath(r,i),this.toPath(a,s)]}posRangeToIndexRange(e){const[[r,i]]=this.findNodesAndSplitText(e[0]),[[a,s]]=this.findNodesAndSplitText(e[1]);return[this.toIndex(r,i),this.toIndex(a,s)]}traverseInPosRange(e,r,i,a,s){const o=this.toIndex(e,r),u=this.toIndex(i,a);return this.indexTree.tokensBetween(o,u,s)}toTreePos(e,r){if(!e||!r)return;if(e.isRemoved){let a;for(;e.isRemoved;)a=e,e=a.parent;const s=e.findOffset(a);return{node:e,offset:s}}if(e===r)return{node:e,offset:0};let i=e.findOffset(r);if(!r.isRemoved){if(r.isText)return{node:r,offset:r.paddedSize};i++}return{node:e,offset:i}}makeDeletionChanges(e,r){const i=[],a=[];let s=null,o=null;for(let u=0;u<e.length;u++){const c=e[u],h=e[u+1];s||(s=c),o=c;const m=this.findRightToken(c);(!m||!h||m[0]!==h[0]||m[1]!==h[1])&&(a.push([s,o]),s=null,o=null)}for(const u of a){const[c,h]=u,[m,d]=this.findLeftToken(c),[g,b]=h,A=d===Nt.Start?m:m.parent,x=b===Nt.Start?g:g.parent,p=this.toIndex(A,m),y=this.toIndex(x,g);p<y&&(i.length>0&&p===i[i.length-1].to?(i[i.length-1].to=y,i[i.length-1].toPath=this.toPath(x,g)):i.push({type:"content",from:p,to:y,fromPath:this.toPath(A,m),toPath:this.toPath(x,g),actor:r.getActorID()}))}return i.reverse()}findRightToken([e,r]){if(r===Nt.Start){const u=e.allChildren;return u.length>0?[u[0],u[0].isText?Nt.Text:Nt.Start]:[e,Nt.End]}const i=e.parent,a=i.allChildren,s=a.indexOf(e);if(i&&s===a.length-1)return[i,Nt.End];const o=a[s+1];return[o,o.isText?Nt.Text:Nt.Start]}findLeftToken([e,r]){if(r===Nt.End){const u=e.allChildren;if(u.length>0){const c=u[u.length-1];return[c,c.isText?Nt.Text:Nt.End]}return[e,Nt.Start]}const i=e.parent,a=i.allChildren,s=a.indexOf(e);if(i&&s===0)return[i,Nt.Start];const o=a[s-1];return[o,o.isText?Nt.Text:Nt.End]}}class hl extends on{constructor(e,r,i,a,s,o){super(e,o);l(this,"fromPos");l(this,"toPos");l(this,"contents");l(this,"splitLevel");this.fromPos=r,this.toPos=i,this.contents=a,this.splitLevel=s}static create(e,r,i,a,s,o){return new hl(e,r,i,a,s,o)}execute(e,r,i){var m;const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Ae))throw new T(S.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const s=this.getExecutedAt(),o=a,[u,c,h]=o.edit([this.fromPos,this.toPos],(m=this.contents)==null?void 0:m.map(d=>d.deepcopy()),this.splitLevel,s,(()=>{let d=s.getDelimiter();return this.contents!==void 0&&(d+=this.contents.length),()=>$e.of(s.getLamport(),++d,s.getActorID())})(),i);e.acc(h);for(const d of c)e.registerGCPair(d);return{opInfos:u.map(({from:d,to:g,value:b,splitLevel:A,fromPath:x,toPath:p})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:d,to:g,value:b,splitLevel:A,fromPath:x,toPath:p}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,i=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,a=this.contents||[];return`${e}.EDIT(${r},${i},${a.map(s=>hg(s)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class ls{constructor(t){l(this,"vector");this.vector=t||new Map}set(t,e){this.vector.set(t,e)}unset(t){this.vector.delete(t)}get(t){return this.vector.get(t)}has(t){return this.vector.has(t)}maxLamport(){let t=BigInt(0);for(const[,e]of this)e>t&&(t=e);return t}max(t){const e=new Map;for(const[r,i]of t){const a=this.vector.get(r),s=a&&a>i?a:i;e.set(r,s)}for(const[r,i]of this){const a=t.get(r),s=a&&a>i?a:i;e.set(r,s)}return new ls(e)}afterOrEqual(t){const e=this.vector.get(t.getActorID());return e===void 0?!1:e>=t.getLamport()}deepcopy(){const t=new Map;for(const[e,r]of this.vector)t.set(e,r);return new ls(t)}filter(t){const e=new Map;for(const[r]of t){const i=this.vector.get(r);i!==void 0&&e.set(r,i)}return new ls(e)}size(){return this.vector.size}*[Symbol.iterator](){for(const[t,e]of this.vector)yield[t,e]}}const LS=new ls(new Map);class Qe{constructor(t,e,r,i,a){l(this,"clientSeq");l(this,"serverSeq");l(this,"actor");l(this,"lamport");l(this,"versionVector");this.clientSeq=t,this.serverSeq=a,this.lamport=e,this.versionVector=i,this.actor=r}hasClocks(){return this.versionVector.size()>0&&this.lamport!=ed}static of(t,e,r,i,a){return new Qe(t,e,r,i,a)}next(t=!1){if(t)return new Qe(this.clientSeq+1,this.lamport,this.actor,LS,ed);const e=this.versionVector.deepcopy();return e.set(this.actor,this.lamport+1n),new Qe(this.clientSeq+1,this.lamport+1n,this.actor,e)}syncClocks(t){if(!t.hasClocks())return this;const e=t.lamport>this.lamport?t.lamport+1n:this.lamport+1n,r=this.versionVector.max(t.versionVector),i=new Qe(this.clientSeq,e,this.actor,r);return i.versionVector.set(this.actor,e),i}setClocks(t,e){const r=t>this.lamport?t+1n:this.lamport+1n,i=this.versionVector.max(e);return i.set(this.actor,r),Qe.of(this.clientSeq,r,this.actor,i)}createTimeTicket(t){return $e.of(this.lamport,t,this.actor)}setActor(t){return new Qe(this.clientSeq,this.lamport,t,this.versionVector,this.serverSeq)}setLamport(t){return new Qe(this.clientSeq,t,this.actor,this.versionVector,this.serverSeq)}setVersionVector(t){return new Qe(this.clientSeq,this.lamport,this.actor,t,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const _A=new Qe(0,0n,ug,LS);class Os{constructor({id:t,operations:e,presenceChange:r,message:i}){l(this,"id");l(this,"operations");l(this,"presenceChange");l(this,"message");this.id=t,this.operations=e||[],this.presenceChange=r,this.message=i}static create({id:t,operations:e,presenceChange:r,message:i}){return new Os({id:t,operations:e,presenceChange:r,message:i})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(t){for(const e of this.operations)e.setActor(t);this.id=this.id.setActor(t)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(t,e,r){const i=[],a=[];for(const s of this.operations){const o=s.execute(t,r,this.id.getVersionVector());if(!o)continue;const{opInfos:u,reverseOp:c}=o;i.push(...u),c&&a.unshift(c)}return this.presenceChange&&(this.presenceChange.type===xn.Put?e.set(this.id.getActorID(),Ze(this.presenceChange.presence)):e.delete(this.id.getActorID())),{opInfos:i,reverseOps:a}}toTestString(){return`${this.operations.map(t=>t.toTestString()).join(",")}`}toStruct(){return{changeID:St.bytesToHex(St.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(t=>St.bytesToHex(St.toOperation(t).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(t){const{changeID:e,operations:r,presenceChange:i,message:a}=t;return Os.create({id:St.bytesToChangeID(St.hexToBytes(e)),operations:r==null?void 0:r.map(s=>St.bytesToOperation(St.hexToBytes(s))),presenceChange:i,message:a})}}class Ic{constructor(t,e,r,i,a,s){l(this,"documentKey");l(this,"checkpoint");l(this,"isRemoved");l(this,"changes");l(this,"snapshot");l(this,"versionVector");this.documentKey=t,this.checkpoint=e,this.isRemoved=r,this.changes=i,this.snapshot=s,this.versionVector=a}static create(t,e,r,i,a,s){return new Ic(t,e,r,i,a,s)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class us{constructor(t,e){l(this,"serverSeq");l(this,"clientSeq");this.serverSeq=t,this.clientSeq=e}static of(t,e){return new us(t,e)}increaseClientSeq(t){return t===0?this:new us(this.serverSeq,this.clientSeq+t)}forward(t){if(this.equals(t))return this;const e=this.serverSeq>t.serverSeq?this.serverSeq:t.serverSeq,r=Math.max(this.clientSeq,t.clientSeq);return us.of(e,r)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(t){return this.clientSeq===t.clientSeq&&this.serverSeq==t.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const WA=new us(0n,0);class Nn{constructor(t,e){l(this,"createdAt");l(this,"offset");this.createdAt=t,this.offset=e}static of(t,e){return new Nn(t,e)}static fromStruct(t){return Nn.of($e.fromStruct(t.createdAt),t.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}hasSameCreatedAt(t){return this.createdAt.compare(t.createdAt)===0}split(t){return new Nn(this.createdAt,this.offset+t)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const tE=Nn.of(Ns,0);class an{constructor(t,e){l(this,"id");l(this,"relativeOffset");this.id=t,this.relativeOffset=e}static of(t,e){return new an(t,e)}static fromStruct(t){const e=Nn.fromStruct(t.id);return an.of(e,t.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Nn.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(t){return this.id.equals(t.id)?this.relativeOffset===t.relativeOffset:!1}}class Ki extends xS{constructor(e,r,i){super(r);l(this,"id");l(this,"removedAt");l(this,"prev");l(this,"next");l(this,"insPrev");l(this,"insNext");this.id=e,this.removedAt=i}static create(e,r){return new Ki(e,r)}static createComparator(){return(e,r)=>{const i=e.getCreatedAt().compare(r.getCreatedAt());return i!==0?i:e.getOffset()>r.getOffset()?1:e.getOffset()<r.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new Ki(this.id.split(e),this.splitValue(e),this.removedAt)}canRemove(e){return e?!this.removedAt:!1}canStyle(e,r){return this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}setRemovedAt(e){this.removedAt=e}remove(e,r){if(!this.removedAt){this.removedAt=e;return}!r&&e.after(this.removedAt)&&(this.removedAt=e)}createPosRange(){return[an.of(this.id,0),an.of(this.id,this.getLength())]}getDataSize(){const e=this.value.getDataSize();return this.id&&(e.meta+=An),this.removedAt&&(e.meta+=An),e}deepcopy(){return new Ki(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const r=this.value;return this.value=r.substring(0,e),r.substring(e,r.length)}toIDString(){return this.id.toIDString()}}class ks{constructor(){l(this,"head");l(this,"treeByIndex");l(this,"treeByID");this.head=Ki.create(tE),this.treeByIndex=new Vo,this.treeByID=new MS(Ki.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new ks}edit(t,e,r,i){const a={data:0,meta:0},[s,o,u]=this.findNodeWithSplit(t[1],e),[c,h,m]=this.findNodeWithSplit(t[0],e);Kt(a,o,h);const d=this.findBetween(m,u),[g,b]=this.deleteNodes(d,e,i),A=u?u.getID():s.getID();let x=an.of(A,0);if(r){const y=this.posToIndex(c.createPosRange()[1],!0),v=this.insertAfter(c,Ki.create(Nn.of(e,0),r));Kt(a,v.getDataSize()),g.length&&g[g.length-1].from===y?g[g.length-1].value=r:g.push({actor:e.getActorID(),from:y,to:y,value:r}),x=an.of(v.getID(),v.getContentLength())}const p=[];for(const[,y]of b)p.push({parent:this,child:y});return[x,p,a,g]}indexToPos(t){const[e,r]=this.treeByIndex.find(t),i=e;return an.of(i.getID(),r)}findIndexesFromRange(t){const[e,r]=t;return[this.posToIndex(e,!1),this.posToIndex(r,!0)]}posToIndex(t,e){const r=t.getAbsoluteID(),i=e?this.findFloorNodePreferToLeft(r):this.findFloorNode(r);if(!i)throw new T(S.ErrInvalidArgument,`the node of the given id should be found: ${r.toTestString()}`);const a=this.treeByIndex.indexOf(i),s=i.isRemoved()?0:r.getOffset()-i.getID().getOffset();return a+s}findNode(t){return this.findFloorNode(t)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const t=[];for(const e of this)e.isRemoved()||t.push(e.getValue());return t.join("")}*[Symbol.iterator](){let t=this.head.getNext();for(;t;)yield t,t=t.getNext()}getHead(){return this.head}deepcopy(){const t=new ks;let e=this.head.getNext(),r=t.head,i;for(;e;){if(i=t.insertAfter(r,e.deepcopy()),e.hasInsPrev()){const a=t.findNode(e.getInsPrevID());i.setInsPrev(a)}r=i,e=e.getNext()}return t}toTestString(){const t=[];let e=this.head;for(;e;)e.isRemoved()?t.push(`{${e.toTestString()}}`):t.push(`[${e.toTestString()}]`),e=e.getNext();return t.join("")}insertAfter(t,e){const r=t.getNext();return e.setPrev(t),r&&r.setPrev(e),this.treeByID.put(e.getID(),e),this.treeByIndex.insertAfter(t,e),e}findNodeWithSplit(t,e){const r=t.getAbsoluteID();let i=this.findFloorNodePreferToLeft(r);const a=r.getOffset()-i.getID().getOffset(),[,s]=this.splitNode(i,a);for(;i.hasNext()&&i.getNext().getCreatedAt().after(e);)i=i.getNext();return[i,s,i.getNext()]}findFloorNodePreferToLeft(t){let e=this.findFloorNode(t);if(!e)throw new T(S.ErrInvalidArgument,`the node of the given id should be found: ${t.toTestString()}`);if(t.getOffset()>0&&e.getID().getOffset()==t.getOffset()){if(!e.hasInsPrev())return e;e=e.getInsPrev()}return e}findFloorNode(t){const e=this.treeByID.floorEntry(t);if(e&&!(!e.key.equals(t)&&!e.key.hasSameCreatedAt(t)))return e.value}findBetween(t,e){const r=[];let i=t;for(;i&&i!==e;)r.push(i),i=i.getNext();return r}splitNode(t,e){const r={data:0,meta:0};if(e>t.getContentLength())throw new T(S.ErrInvalidArgument,"offset should be less than or equal to length");if(e===0)return[t,r];if(e===t.getContentLength())return[t.getNext(),r];const i=t.getDataSize(),a=t.split(e);this.treeByIndex.updateWeight(a),this.insertAfter(t,a);const s=t.getInsNext();return s&&s.setInsPrev(a),a.setInsPrev(t),Kt(r,t.getDataSize(),a.getDataSize()),oa(r,i),[a,r]}deleteNodes(t,e,r){if(!t.length)return[[],new Map];const i=r===void 0,a=[],s=[],[o,u]=this.findEdgesOfCandidates(t);s.push(o);for(const m of t)m.canRemove(i||r.afterOrEqual(m.getCreatedAt()))?a.push(m):s.push(m);s.push(u);const c=this.makeChanges(s,e),h=new Map;for(const m of a)h.set(m.getID().toIDString(),m),m.remove(e,m.isRemoved()&&(i||r.afterOrEqual(m.getRemovedAt())));return this.deleteIndexNodes(s),[c,h]}findEdgesOfCandidates(t){return[t[0].getPrev(),t[t.length-1].getNext()]}makeChanges(t,e){const r=[];let i,a;for(let s=0;s<t.length-1;s++){const o=t[s],u=t[s+1];o.getNext()!=u&&([i]=this.findIndexesFromRange(o.getNext().createPosRange()),u?[,a]=this.findIndexesFromRange(u.getPrev().createPosRange()):a=this.treeByIndex.length,i<a&&r.push({actor:e.getActorID(),from:i,to:a}))}return r.reverse()}deleteIndexNodes(t){for(let e=0;e<t.length-1;e++){const r=t[e],i=t[e+1];r.getNext()!=i&&this.treeByIndex.deleteRange(r,i)}}purge(t){this.treeByIndex.delete(t),this.treeByID.remove(t.getID());const e=t.getPrev(),r=t.getNext(),i=t.getInsPrev(),a=t.getInsNext();e&&e.setNext(r),r&&r.setPrev(e),t.setPrev(void 0),t.setNext(void 0),i&&i.setInsNext(a),a&&a.setInsPrev(i),t.setInsPrev(void 0),t.setInsNext(void 0)}}const Hy=n=>n<0?Math.ceil(n):Math.floor(n);var On=(n=>(n[n.Int=0]="Int",n[n.Long=1]="Long",n))(On||{});class oe extends ul{constructor(e,r,i){super(i);l(this,"valueType");l(this,"value");switch(this.valueType=e,e){case 0:typeof r=="number"?r>Math.pow(2,31)-1||r<-Math.pow(2,31)?this.value=F.fromNumber(r).toInt():this.value=Hy(r):this.value=r.toInt();break;case 1:typeof r=="number"?this.value=F.fromNumber(r):this.value=r;break;default:throw new T(S.ErrUnimplemented,`unimplemented type: ${e}`)}}static create(e,r,i){return new oe(e,r,i)}static valueFromBytes(e,r){switch(e){case 0:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 1:return F.fromBytesLE(Array.from(r));default:throw new T(S.ErrUnimplemented,`unimplemented type: ${e}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=oe.create(this.valueType,this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof F?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!oe.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const r=this.value.toBytesLE();return Uint8Array.from(r)}default:throw new T(S.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function r(i){if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`)}return r(this),r(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===lt.Long?this.value=this.value+e.getValue().toInt():this.value=F.fromNumber(this.value+Hy(e.getValue())).toInt(),this}}class Cs extends on{constructor(e,r,i){super(e,i);l(this,"value");this.value=r}static create(e,r,i){return new Cs(e,r,i)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof oe))throw new T(S.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const i=r,a=this.value.deepcopy();return i.increase(a),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:a.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),i=e.getType()===lt.Long?e.getValue().multiply(-1):e.getValue()*-1;return Cs.create(this.getParentCreatedAt(),vt.of(i,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class ui extends on{constructor(e,r,i,a,s,o){super(e,o);l(this,"fromPos");l(this,"toPos");l(this,"attributes");l(this,"attributesToRemove");this.fromPos=r,this.toPos=i,this.attributes=a,this.attributesToRemove=s}static create(e,r,i,a,s){return new ui(e,r,i,a,[],s)}static createTreeRemoveStyleOperation(e,r,i,a,s){return new ui(e,r,i,new Map,a,s)}execute(e,r,i){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Ae))throw new T(S.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const s=a;let o,u,c={data:0,meta:0};if(this.attributes.size){const h={};[...this.attributes].forEach(([m,d])=>h[m]=d),[u,o,c]=s.style([this.fromPos,this.toPos],h,this.getExecutedAt(),i)}else{const h=this.attributesToRemove;[u,o,c]=s.removeStyle([this.fromPos,this.toPos],h,this.getExecutedAt(),i)}e.acc(c);for(const h of u)e.registerGCPair(h);return{opInfos:o.map(({from:h,to:m,value:d,fromPath:g,toPath:b})=>({type:"tree-style",from:h,to:m,value:this.attributes.size?{attributes:d}:{attributesToRemove:d},fromPath:g,toPath:b,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,i=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${r},${i},${Object.entries(this.attributes||{}).map(([a,s])=>`${a}:"${s}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class mi extends on{constructor(e,r,i,a){super(e,a);l(this,"createdAt");l(this,"value");this.createdAt=r,this.value=i}static create(e,r,i,a){return new mi(e,r,i,a)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Qt))throw new T(S.ErrInvalidArgument,"fail to execute, only array can execute set");const i=r.getByID(this.createdAt).deepcopy(),a=this.toReverseOperation(this.value,i),s=this.value.deepcopy();return r.insertAfter(this.createdAt,s,this.getExecutedAt()),r.delete(this.createdAt,this.getExecutedAt()),e.registerElement(s),{opInfos:[{type:"array-set",path:e.createPath(this.getParentCreatedAt())}],reverseOp:a}}toReverseOperation(e,r){return mi.create(this.getParentCreatedAt(),e.getCreatedAt(),r)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(e){this.createdAt=e}}function eE(n){const t=new kc,e=t.data;for(const[r,i]of Object.entries(n))e[r]=JSON.stringify(i);return t}function nE(n){if(n.type===xn.Put)return new Po({type:ba.PUT,presence:eE(n.presence)});if(n.type===xn.Clear)return new Po({type:ba.CLEAR});throw new T(S.ErrUnimplemented,"unimplemented type")}function rE(n){return new ES({serverSeq:n.getServerSeq(),clientSeq:n.getClientSeq()})}function JS(n){return new Dc({clientSeq:n.getClientSeq(),lamport:n.getLamport(),actorId:Bc(n.getActorID()),versionVector:dg(n.getVersionVector())})}function U(n){if(n)return new M({lamport:n.getLamport(),delimiter:n.getDelimiter(),actorId:Bc(n.getActorID())})}function dg(n){if(!n)return;const t=new Oc;for(const[e,r]of n){const i=qE(Bc(e));t.vector[i]=BigInt(r.toString())}return t}function qS(n){switch(n){case lt.Null:return H.NULL;case lt.Boolean:return H.BOOLEAN;case lt.Integer:return H.INTEGER;case lt.Long:return H.LONG;case lt.Double:return H.DOUBLE;case lt.String:return H.STRING;case lt.Bytes:return H.BYTES;case lt.Date:return H.DATE;default:throw new T(S.ErrInvalidType,`unsupported type: ${n}`)}}function PS(n){switch(n){case On.Int:return H.INTEGER_CNT;case On.Long:return H.LONG_CNT;default:throw new T(S.ErrInvalidType,`unsupported type: ${n}`)}}function Rl(n){if(n instanceof Zt)return new Oe({type:H.JSON_OBJECT,createdAt:U(n.getCreatedAt()),value:WS(n)});if(n instanceof Qt)return new Oe({type:H.JSON_ARRAY,createdAt:U(n.getCreatedAt()),value:ME(n)});if(n instanceof we)return new Oe({type:H.TEXT,createdAt:U(n.getCreatedAt())});if(n instanceof vt)return new Oe({type:qS(n.getType()),createdAt:U(n.getCreatedAt()),value:n.toBytes()});if(n instanceof oe)return new Oe({type:PS(n.getType()),createdAt:U(n.getCreatedAt()),value:n.toBytes()});if(n instanceof Ae)return new Oe({type:H.TREE,createdAt:U(n.getCreatedAt()),value:LE(n)});throw new T(S.ErrUnimplemented,"unimplemented element")}function iE(n){return new Jo({createdAt:U(n.getCreatedAt()),offset:n.getOffset()})}function Bl(n){return new wa({createdAt:U(n.getID().getCreatedAt()),offset:n.getID().getOffset(),relativeOffset:n.getRelativeOffset()})}function zl(n){return new Ta({parentId:vo(n.getParentID()),leftSiblingId:vo(n.getLeftSiblingID())})}function vo(n){return new Vi({createdAt:U(n.getCreatedAt()),offset:n.getOffset()})}function HS(n){const t=new og;if(n instanceof Aa){const e=n,r=new Lu;r.parentCreatedAt=U(e.getParentCreatedAt()),r.key=e.getKey(),r.value=Rl(e.getValue()),r.executedAt=U(e.getExecutedAt()),t.body.case="set",t.body.value=r}else if(n instanceof Qi){const e=n,r=new Ju;r.parentCreatedAt=U(e.getParentCreatedAt()),r.prevCreatedAt=U(e.getPrevCreatedAt()),r.value=Rl(e.getValue()),r.executedAt=U(e.getExecutedAt()),t.body.case="add",t.body.value=r}else if(n instanceof en){const e=n,r=new qu;r.parentCreatedAt=U(e.getParentCreatedAt()),r.prevCreatedAt=U(e.getPrevCreatedAt()),r.createdAt=U(e.getCreatedAt()),r.executedAt=U(e.getExecutedAt()),t.body.case="move",t.body.value=r}else if(n instanceof Dn){const e=n,r=new Pu;r.parentCreatedAt=U(e.getParentCreatedAt()),r.createdAt=U(e.getCreatedAt()),r.executedAt=U(e.getExecutedAt()),t.body.case="remove",t.body.value=r}else if(n instanceof cl){const e=n,r=new Hu;r.parentCreatedAt=U(e.getParentCreatedAt()),r.from=Bl(e.getFromPos()),r.to=Bl(e.getToPos()),r.content=e.getContent();const i=r.attributes;for(const[a,s]of e.getAttributes())i[a]=s;r.executedAt=U(e.getExecutedAt()),t.body.case="edit",t.body.value=r}else if(n instanceof fl){const e=n,r=new Vu;r.parentCreatedAt=U(e.getParentCreatedAt()),r.from=Bl(e.getFromPos()),r.to=Bl(e.getToPos());const i=r.attributes;for(const[a,s]of e.getAttributes())i[a]=s;r.executedAt=U(e.getExecutedAt()),t.body.case="style",t.body.value=r}else if(n instanceof Cs){const e=n,r=new ju;r.parentCreatedAt=U(e.getParentCreatedAt()),r.value=Rl(e.getValue()),r.executedAt=U(e.getExecutedAt()),t.body.case="increase",t.body.value=r}else if(n instanceof hl){const e=n,r=new Ku;r.parentCreatedAt=U(e.getParentCreatedAt()),r.from=zl(e.getFromPos()),r.to=zl(e.getToPos()),r.contents=fE(e.getContents()),r.splitLevel=e.getSplitLevel(),r.executedAt=U(e.getExecutedAt()),t.body.case="treeEdit",t.body.value=r}else if(n instanceof ui){const e=n,r=new $u;r.parentCreatedAt=U(e.getParentCreatedAt()),r.from=zl(e.getFromPos()),r.to=zl(e.getToPos());const i=e.getAttributesToRemove();if(i.length>0)r.attributesToRemove=i;else{const a=r.attributes;for(const[s,o]of e.getAttributes())a[s]=o}r.executedAt=U(e.getExecutedAt()),t.body.case="treeStyle",t.body.value=r}else if(n instanceof mi){const e=n,r=new Gu;r.parentCreatedAt=U(e.getParentCreatedAt()),r.createdAt=U(e.getCreatedAt()),r.value=Rl(e.getValue()),r.executedAt=U(e.getExecutedAt()),t.body.case="arraySet",t.body.value=r}else throw new T(S.ErrUnimplemented,"unimplemented operation");return t}function aE(n){const t=[];for(const e of n)t.push(HS(e));return t}function sE(n){const t=new wS({id:JS(n.getID()),message:n.getMessage()});return n.hasOperations()&&(t.operations=aE(n.getOperations())),n.hasPresenceChange()&&(t.presenceChange=nE(n.getPresenceChange())),t}function oE(n){const t=[];for(const e of n)t.push(sE(e));return t}function lE(n){const t=[];for(const e of n)t.push(new AS({key:e.getStrKey(),element:mg(e.getValue())}));return t}function uE(n){const t=[];for(const e of n)t.push(new Wu({element:mg(e.getValue())}));return t}function cE(n){const t=[];for(const e of n){const r=new tc;r.id=iE(e.getID()),r.value=e.getValue().getContent(),r.removedAt=U(e.getRemovedAt());const i=r.attributes,a=e.getValue().getAttrs();for(const s of a){const o=new Es;o.value=s.getValue(),o.updatedAt=U(s.getUpdatedAt()),i[s.getKey()]=o}t.push(r)}return t}function fE(n){const t=[];if(!n||!n.length)return t;for(const e of n)t.push(new ec({content:gg(e)}));return t}function hE(n){const t={};for(const e of n)t[e.getKey()]=new Es({value:e.getValue(),updatedAt:U(e.getUpdatedAt()),isRemoved:e.isRemoved()});return t}function gg(n){if(!n)return[];const t=[];return Cc(n,(e,r)=>{const i=new qo({id:vo(e.id),type:e.type,removedAt:U(e.removedAt),depth:r});e.isText&&(i.value=e.value),e.insPrevID&&(i.insPrevId=vo(e.insPrevID)),e.insNextID&&(i.insNextId=vo(e.insNextID)),e.attrs&&(i.attributes=hE(e.attrs)),t.push(i)}),t}function dE(n){const t=new ue;return t.body.case="jsonObject",t.body.value=new Yu({nodes:lE(n.getRHT()),createdAt:U(n.getCreatedAt()),movedAt:U(n.getMovedAt()),removedAt:U(n.getRemovedAt())}),t}function VS(n){const t=new ue;return t.body.case="jsonArray",t.body.value=new Xu({nodes:uE(n.getElements()),createdAt:U(n.getCreatedAt()),movedAt:U(n.getMovedAt()),removedAt:U(n.getRemovedAt())}),t}function gE(n){const t=new ue;return t.body.case="primitive",t.body.value=new Fu({type:qS(n.getType()),value:n.toBytes(),createdAt:U(n.getCreatedAt()),movedAt:U(n.getMovedAt()),removedAt:U(n.getRemovedAt())}),t}function mE(n){const t=new ue;return t.body.case="text",t.body.value=new Zu({nodes:cE(n.getRGATreeSplit()),createdAt:U(n.getCreatedAt()),movedAt:U(n.getMovedAt()),removedAt:U(n.getRemovedAt())}),t}function yE(n){const t=new ue;return t.body.case="counter",t.body.value=new Qu({type:PS(n.getType()),value:n.toBytes(),createdAt:U(n.getCreatedAt()),movedAt:U(n.getMovedAt()),removedAt:U(n.getRemovedAt())}),t}function jS(n){const t=new ue;return t.body.case="tree",t.body.value=new _u({nodes:gg(n.getRoot()),createdAt:U(n.getCreatedAt()),movedAt:U(n.getMovedAt()),removedAt:U(n.getRemovedAt())}),t}function mg(n){if(n instanceof Zt)return dE(n);if(n instanceof Qt)return VS(n);if(n instanceof vt)return gE(n);if(n instanceof we)return mE(n);if(n instanceof oe)return yE(n);if(n instanceof Ae)return jS(n);throw new T(S.ErrUnimplemented,"unimplemented element")}function pE(n){return new pi({documentKey:n.getDocumentKey(),checkpoint:rE(n.getCheckpoint()),isRemoved:n.getIsRemoved(),changes:oE(n.getChanges()),snapshot:n.getSnapshot(),versionVector:dg(n.getVersionVector())})}function _s(n){if(!(n instanceof ot))return{};const t=n.findDetails(MA);for(const e of t)return e.metadata;return{}}function Ja(n){return _s(n).code??""}function wf(n,t){return n instanceof ot&&Ja(n)===t}function KS(n){return Qe.of(n.clientSeq,BigInt(n.lamport),Tg(n.actorId),yg(n.versionVector),BigInt(n.serverSeq))}function yg(n){if(!n)return;const t=new ls;return Object.entries(n.vector).forEach(([e,r])=>{const i=Rc(JE(e));t.set(i,BigInt(r.toString()))}),t}function L(n){if(n)return $e.of(BigInt(n.lamport),n.delimiter,Tg(n.actorId))}function pg(n){const t={};return Object.entries(n.data).forEach(([e,r])=>{t[e]=JSON.parse(r)}),t}function vE(n){const t=n.type;if(t===ba.PUT){const e=pg(n.presence);return{type:xn.Put,presence:e}}if(t===ba.CLEAR)return{type:xn.Clear};throw new T(S.ErrInvalidType,`unsupported type: ${t}`)}function SE(n){const t=new Map;return Object.entries(n).forEach(([e,r])=>{t.set(e,pg(r))}),t}function $S(n){switch(n){case H.NULL:return lt.Null;case H.BOOLEAN:return lt.Boolean;case H.INTEGER:return lt.Integer;case H.LONG:return lt.Long;case H.DOUBLE:return lt.Double;case H.STRING:return lt.String;case H.BYTES:return lt.Bytes;case H.DATE:return lt.Date}throw new T(S.ErrUnimplemented,`unimplemented value type: ${n}`)}function sc(n){switch(n){case H.INTEGER_CNT:return On.Int;case H.LONG_CNT:return On.Long}throw new T(S.ErrUnimplemented,`unimplemented value type: ${n}`)}function Ml(n){switch(n.type){case H.JSON_OBJECT:return n.value?_S(n.value):Zt.create(L(n.createdAt));case H.JSON_ARRAY:return n.value?zE(n.value):Qt.create(L(n.createdAt));case H.TEXT:return we.create(ks.create(),L(n.createdAt));case H.TREE:return UE(n.value);case H.NULL:case H.BOOLEAN:case H.INTEGER:case H.LONG:case H.DOUBLE:case H.STRING:case H.BYTES:case H.DATE:return vt.of(vt.valueFromBytes($S(n.type),n.value),L(n.createdAt));case H.INTEGER_CNT:case H.LONG_CNT:return oe.create(sc(n.type),oe.valueFromBytes(sc(n.type),n.value),L(n.createdAt))}}function Ul(n){return an.of(Nn.of(L(n.createdAt),n.offset),n.relativeOffset)}function GS(n){return Nn.of(L(n.createdAt),n.offset)}function TE(n){const t=Ko.create(n.value);Object.entries(n.attributes).forEach(([r,i])=>{t.setAttr(r,i.value,L(i.updatedAt))});const e=Ki.create(GS(n.id),t);return e.setRemovedAt(L(n.removedAt)),e}function Ra(n){return nn.of(So(n.parentId),So(n.leftSiblingId))}function So(n){return Gt.of(L(n.createdAt),n.offset)}function bE(n){if(!n.length)return;const t=[];return n.forEach(e=>{const r=vg(e.content);t.push(r)}),t}function vg(n){if(n.length===0)return;const t=[];for(const i of n)t.push(AE(i));const e=t[t.length-1],r=new Map;r.set(n[t.length-1].depth,t[t.length-1]);for(let i=t.length-2;i>=0;i--)r.get(n[i].depth-1).prepend(t[i]),r.set(n[i].depth,t[i]);return e.updateDescendantsSize(),Ae.create(e,Ns).getRoot()}function wE(n){const t=gi.create();for(const[e,r]of Object.entries(n))t.setInternal(e,r.value,L(r.updatedAt),r.isRemoved);return t}function AE(n){const t=So(n.id),e=ye.create(t,n.type),r=Object.entries(n.attributes);return e.isText?e.value=n.value:r.length&&(e.attrs=wE(n.attributes)),n.insPrevId&&(e.insPrevID=So(n.insPrevId)),n.insNextId&&(e.insNextID=So(n.insNextId)),e.removedAt=L(n.removedAt),e}function YS(n){if(n.body.case==="set"){const t=n.body.value;return Aa.create(t.key,Ml(t.value),L(t.parentCreatedAt),L(t.executedAt))}else if(n.body.case==="add"){const t=n.body.value;return Qi.create(L(t.parentCreatedAt),L(t.prevCreatedAt),Ml(t.value),L(t.executedAt))}else if(n.body.case==="move"){const t=n.body.value;return en.create(L(t.parentCreatedAt),L(t.prevCreatedAt),L(t.createdAt),L(t.executedAt))}else if(n.body.case==="remove"){const t=n.body.value;return Dn.create(L(t.parentCreatedAt),L(t.createdAt),L(t.executedAt))}else if(n.body.case==="edit"){const t=n.body.value,e=new Map;return Object.entries(t.attributes).forEach(([r,i])=>{e.set(r,i)}),cl.create(L(t.parentCreatedAt),Ul(t.from),Ul(t.to),t.content,e,L(t.executedAt))}else if(n.body.case==="style"){const t=n.body.value,e=new Map;return Object.entries(t.attributes).forEach(([r,i])=>{e.set(r,i)}),fl.create(L(t.parentCreatedAt),Ul(t.from),Ul(t.to),e,L(t.executedAt))}else if(n.body.case==="increase"){const t=n.body.value;return Cs.create(L(t.parentCreatedAt),Ml(t.value),L(t.executedAt))}else if(n.body.case==="treeEdit"){const t=n.body.value;return hl.create(L(t.parentCreatedAt),Ra(t.from),Ra(t.to),bE(t.contents),t.splitLevel,L(t.executedAt))}else if(n.body.case==="treeStyle"){const t=n.body.value,e=new Map,r=t.attributesToRemove;return(r==null?void 0:r.length)>0?ui.createTreeRemoveStyleOperation(L(t.parentCreatedAt),Ra(t.from),Ra(t.to),r,L(t.executedAt)):(Object.entries(t.attributes).forEach(([i,a])=>{e.set(i,a)}),ui.create(L(t.parentCreatedAt),Ra(t.from),Ra(t.to),e,L(t.executedAt)))}else if(n.body.case==="arraySet"){const t=n.body.value;return mi.create(L(t.parentCreatedAt),L(t.createdAt),Ml(t.value),L(t.executedAt))}else throw new T(S.ErrUnimplemented,"unimplemented operation")}function EE(n){const t=[];for(const e of n){const r=YS(e);r&&t.push(r)}return t}function XS(n){const t=[];for(const e of n)t.push(Os.create({id:KS(e.id),operations:EE(e.operations),presenceChange:e.presenceChange?vE(e.presenceChange):void 0,message:e.message}));return t}function NE(n){return us.of(BigInt(n.serverSeq),n.clientSeq)}function xE(n){return Ic.create(n.documentKey,NE(n.checkpoint),n.isRemoved,XS(n.changes),yg(n.versionVector),n.snapshot)}function FS(n){const t=new Ho;for(const r of n.nodes){const i=Sg(r.element);t.set(r.key,i,i.getPositionedAt())}const e=new Zt(L(n.createdAt),t);return e.setMovedAt(L(n.movedAt)),e.setRemovedAt(L(n.removedAt)),e}function ZS(n){const t=new jo;for(const r of n.nodes)t.insert(Sg(r.element));const e=new Qt(L(n.createdAt),t);return e.setMovedAt(L(n.movedAt)),e.setRemovedAt(L(n.removedAt)),e}function DE(n){const t=vt.of(vt.valueFromBytes($S(n.type),n.value),L(n.createdAt));return t.setMovedAt(L(n.movedAt)),t.setRemovedAt(L(n.removedAt)),t}function OE(n){const t=new ks;let e=t.getHead();for(const i of n.nodes){const a=t.insertAfter(e,TE(i));i.insPrevId&&a.setInsPrev(t.findNode(GS(i.insPrevId))),e=a}const r=new we(t,L(n.createdAt));return r.setMovedAt(L(n.movedAt)),r.setRemovedAt(L(n.removedAt)),r}function kE(n){const t=oe.create(sc(n.type),oe.valueFromBytes(sc(n.type),n.value),L(n.createdAt));return t.setMovedAt(L(n.movedAt)),t.setRemovedAt(L(n.removedAt)),t}function QS(n){const t=vg(n.nodes);return Ae.create(t,L(n.createdAt))}function Sg(n){if(n.body.case==="jsonObject")return FS(n.body.value);if(n.body.case==="jsonArray")return ZS(n.body.value);if(n.body.case==="primitive")return DE(n.body.value);if(n.body.case==="text")return OE(n.body.value);if(n.body.case==="counter")return kE(n.body.value);if(n.body.case==="tree")return QS(n.body.value);throw new T(S.ErrUnimplemented,"unimplemented element")}function CE(n){return n.map(t=>({path:t.path,type:t.type}))}function IE(n){if(!n)return{root:Zt.create(Ns),presences:new Map};const t=bh.fromBinary(n);return{root:Sg(t.root),presences:SE(t.presences)}}function RE(n){const t=dg(n);return Rc(t.toBinary())}function BE(n){const t=bg(n),e=Oc.fromBinary(t);return yg(e)}function _S(n){if(!n)throw new T(S.ErrInvalidArgument,"bytes is empty");const t=ue.fromBinary(n);return FS(t.body.value)}function WS(n){return mg(n).toBinary()}function zE(n){if(!n)throw new T(S.ErrInvalidArgument,"bytes is empty");const t=ue.fromBinary(n);return ZS(t.body.value)}function ME(n){return VS(n).toBinary()}function UE(n){if(!n)throw new T(S.ErrInvalidArgument,"bytes is empty");const t=ue.fromBinary(n);return QS(t.body.value)}function LE(n){return jS(n).toBinary()}function Rc(n){return n?Array.from(n).map(t=>t.toString(16).padStart(2,"0")).join(""):""}function Tg(n){return Rc(n)}function bg(n){return new Uint8Array(n.match(/.{1,2}/g).map(t=>parseInt(t,16)))}function JE(n){if(typeof window<"u"&&typeof window.atob=="function"){const t=window.atob(n),e=t.length,r=new Uint8Array(e);for(let i=0;i<e;i++)r[i]=t.charCodeAt(i);return r}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const t=globalThis.Buffer;return new Uint8Array(t.from(n,"base64"))}else throw new Error("No base64 decoder available")}function Bc(n){return bg(n)}function qE(n){if(typeof window<"u"&&typeof window.btoa=="function"){let t="";for(let e=0;e<n.byteLength;e++)t+=String.fromCharCode(n[e]);return window.btoa(t)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(n).toString("base64");throw new Error("No base64 encoder available")}}function PE(n){const t=Dc.fromBinary(n);return KS(t)}function HE(n){const t=og.fromBinary(n);return YS(t)}const St={fromPresence:pg,toChangePack:pE,fromChangePack:xE,fromChanges:XS,toTreeNodes:gg,fromTreeNodes:vg,objectToBytes:WS,bytesToObject:_S,bytesToSnapshot:IE,bytesToHex:Rc,hexToBytes:bg,toHexString:Tg,toUint8Array:Bc,toOperation:HS,toChangeID:JS,PbChangeID:Dc,bytesToChangeID:PE,bytesToOperation:HE,versionVectorToHex:RE,hexToVersionVector:BE,fromSchemaRules:CE};var ae=(n=>(n[n.Trivial=0]="Trivial",n[n.Debug=1]="Debug",n[n.Info=2]="Info",n[n.Warn=3]="Warn",n[n.Error=4]="Error",n[n.Fatal=5]="Fatal",n))(ae||{});let ra=3;function VE(n){ra=n}const z={trivial:(...n)=>{ra>0||typeof console<"u"&&console.log("YORKIE T:",...n)},debug:(...n)=>{ra>1||typeof console<"u"&&console.log("YORKIE D:",...n)},info:(...n)=>{ra>2||typeof console<"u"&&console.log("YORKIE I:",...n)},warn:(...n)=>{ra>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...n):console.log("YORKIE W:",...n))},error:(...n)=>{ra>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...n):console.log("YORKIE E:",...n))},fatal:(...n)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...n):console.log("YORKIE F:",...n))},isEnabled:n=>ra<=n};function tT(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,n=>{const t=Math.random()*16|0;return(n==="x"?t:t&3|8).toString(16)})}class Vy{constructor(t,e,r,i,a){l(this,"resource");l(this,"resourceID");l(this,"syncMode");l(this,"changeEventReceived");l(this,"lastHeartbeatTime");l(this,"reconnectStreamDelay");l(this,"cancelled");l(this,"watchStream");l(this,"watchLoopTimerID");l(this,"watchAbortController");l(this,"unsubscribeBroadcastEvent");this.reconnectStreamDelay=t,this.resource=e,this.resourceID=r,this.syncMode=i,this.changeEventReceived=i!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1,this.unsubscribeBroadcastEvent=a}changeSyncMode(t){this.syncMode=t}needRealtimeSync(){return this.syncMode===void 0||this.syncMode===iu.RealtimeSyncOff?!1:this.syncMode===iu.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==iu.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(t){return this.syncMode!==void 0?this.needRealtimeSync():Date.now()-this.lastHeartbeatTime>=t}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(t){const e=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await t(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(e,this.reconnectStreamDelay))})}catch{}};await e()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}const Af=()=>{};class jE{constructor(t){l(this,"finalized",!1);l(this,"observers",[]);l(this,"finalError");try{t(this)}catch(e){this.error(e)}}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let i;if(!t)throw new T(S.ErrInvalidArgument,"missing observer");if(this.finalized)throw new T(S.ErrRefused,"observable is finalized due to previous error");typeof t=="object"?i=t:i={next:t,error:e,complete:r},i.next===void 0&&(i.next=Af),i.error===void 0&&(i.error=Af),i.complete===void 0&&(i.complete=Af);const a=tT(),s=this.unsubscribeOne.bind(this,a);if(this.observers.push({subscriptionID:a,observer:i}),this.finalized)try{this.finalError?i.error(this.finalError):i.complete()}catch(o){z.warn(o)}return s}unsubscribeOne(t){var e;this.observers=(e=this.observers)==null?void 0:e.filter(r=>r.subscriptionID!==t)}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t].observer)}catch(r){z.error(r)}}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.observers=void 0)}}function eT(n){const t=new jE(n);return{subscribe:t.subscribe.bind(t),getProxy:()=>t}}class To{constructor(t,e,r,i){l(this,"prevID");l(this,"nextID");l(this,"delimiter");l(this,"message");l(this,"root");l(this,"operations");l(this,"presenceChange");l(this,"previousPresence");l(this,"reversePresenceKeys");this.prevID=t,this.nextID=t.next(),this.delimiter=NS,this.root=e,this.operations=[],this.previousPresence=Ze(r),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=i}static create(t,e,r,i){return new To(t,e,r,i)}push(t){this.operations.push(t)}registerElement(t,e){this.root.registerElement(t,e)}registerRemovedElement(t){this.root.registerRemovedElement(t)}registerGCPair(t){this.root.registerGCPair(t)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const t=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return Os.create({id:t,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(t){this.presenceChange=t}setReversePresence(t,e){for(const r of Object.keys(t))e!=null&&e.addToHistory?this.reversePresenceKeys.add(r):this.reversePresenceKeys.delete(r)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const t={};for(const e of this.reversePresenceKeys)t[e]=this.previousPresence[e];return t}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(t){this.root.acc(t)}}function nT(n,t){const e=new $o(n);return new Proxy(t,e.getHandlers())}class $o{constructor(t){l(this,"context");l(this,"handlers");this.context=t,this.handlers={set:(e,r,i)=>(z.isEnabled(ae.Trivial)&&z.trivial(`obj[${r}]=${JSON.stringify(i)}`),$o.setInternal(t,e,r,i),!0),get:(e,r)=>(z.isEnabled(ae.Trivial)&&z.trivial(`obj[${r}]`),r==="getID"?()=>e.getCreatedAt():r==="toJSON"||r==="toString"?()=>e.toJSON():r==="toJS"?()=>e.toJS():r==="toJSForTest"?()=>e.toJSForTest():ia(t,e.get(r))),ownKeys:e=>e.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(e,r)=>(z.isEnabled(ae.Trivial)&&z.trivial(`obj[${r}]`),$o.deleteInternal(t,e,r),!0)}}static setInternal(t,e,r,i){if(r.includes("."))throw new T(S.ErrInvalidObjectKey,"key must not contain the '.'.");const a=t.issueTimeTicket(),s=bo(t,i,a),o=e.set(r,s,a);t.registerElement(s,e),o&&t.registerRemovedElement(o),t.push(Aa.create(r,s.deepcopy(),e.getCreatedAt(),a))}static buildObjectMembers(t,e){const r={};for(const[i,a]of Object.entries(e)){if(i.includes("."))throw new T(S.ErrInvalidObjectKey,"key must not contain the '.'.");const s=t.issueTimeTicket(),o=bo(t,a,s);r[i]=o}return r}static deleteInternal(t,e,r){const i=t.issueTimeTicket(),a=e.deleteByKey(r,i);a&&(t.push(Dn.create(e.getCreatedAt(),a.getCreatedAt(),i)),t.registerRemovedElement(a))}getHandlers(){return this.handlers}}function KE(n,t){const e=new nt(n,t);return new Proxy(t,e.getHandlers())}function jy(n){return typeof n=="string"||n instanceof String?!isNaN(n):!1}function $E(n){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(n)}class nt{constructor(t,e){l(this,"context");l(this,"handlers");l(this,"array");this.context=t,this.array=e,this.handlers={get:(r,i,a)=>i==="getID"?()=>r.getCreatedAt():i==="getElementByID"?s=>{const o=r.getByID(s);if(!(!o||o.isRemoved()))return Fe(t,o)}:i==="getElementByIndex"?s=>{const o=r.get(s);return Fe(t,o)}:i==="getLast"?()=>Fe(t,r.getLast()):i==="delete"?s=>{const o=nt.deleteInternalByIndex(t,r,s);return Fe(t,o)}:i==="deleteByID"?s=>{const o=nt.deleteInternalByID(t,r,s);return Fe(t,o)}:i==="insertAfter"?(s,o)=>{const u=nt.insertAfterInternal(t,r,s,o);return Fe(t,u)}:i==="insertIntegerAfter"?(s,o)=>{const u=nt.insertIntegerAfterInternal(t,r,s,o);return Fe(t,u)}:i==="insertBefore"?(s,o)=>{const u=nt.insertBeforeInternal(t,r,s,o);return Fe(t,u)}:i==="setValue"?(s,o)=>{const u=nt.setValueInternal(t,r,s,o);return Fe(t,u)}:i==="moveBefore"?(s,o)=>{nt.moveBeforeInternal(t,r,s,o)}:i==="moveAfter"?(s,o)=>{nt.moveAfterInternal(t,r,s,o)}:i==="moveAfterByIndex"?(s,o)=>{nt.moveAfterByIndexInternal(t,r,s,o)}:i==="moveFront"?s=>{nt.moveFrontInternal(t,r,s)}:i==="moveLast"?s=>{nt.moveLastInternal(t,r,s)}:jy(i)?ia(t,r.get(Number(i))):i==="push"?s=>nt.pushInternal(t,r,s):i==="splice"?(s,o,...u)=>nt.splice(t,r,s,o,...u):i==="length"?r.length:typeof i=="symbol"&&i===Symbol.iterator?nt.iteratorInternal.bind(this,t,r):i==="includes"?(s,o)=>nt.includes(t,r,s,o):i==="indexOf"?(s,o)=>nt.indexOf(t,r,s,o):i==="lastIndexOf"?(s,o)=>nt.lastIndexOf(t,r,s,o):i==="toJSForTest"?()=>r.toJSForTest():i==="toTestString"?()=>nt.toTestString(r):typeof i=="string"&&$E(i)?(...s)=>{const o=Array.from(r).map(u=>ia(t,u));return Array.prototype[i].apply(o,s)}:Reflect.get(r,i,a),set:(r,i,a)=>{if(jy(i)){const s=Number(i);return nt.setValueInternal(t,r,s,a),!0}return Reflect.set(r,i,a)},deleteProperty:(r,i)=>(z.isEnabled(ae.Trivial)&&z.trivial(`array[${i}]`),nt.deleteInternalByIndex(t,r,Number.parseInt(i)),!0)}}static*iteratorInternal(t,e){for(const r of e)yield Fe(t,r)}static buildArrayElements(t,e){const r=[];for(const i of e){const a=t.issueTimeTicket(),s=bo(t,i,a);r.push(s)}return r}static pushInternal(t,e,r){return nt.insertAfterInternal(t,e,e.getLastCreatedAt(),r),e.length}static moveBeforeInternal(t,e,r,i){const a=t.issueTimeTicket(),s=e.getPrevCreatedAt(r);e.moveAfter(s,i,a),t.push(en.create(e.getCreatedAt(),s,i,a))}static moveAfterInternal(t,e,r,i){const a=t.issueTimeTicket();t.push(en.create(e.getCreatedAt(),r,i,a)),e.moveAfter(r,i,a)}static moveAfterByIndexInternal(t,e,r,i){const a=e.get(r);if(!a)throw new T(S.ErrInvalidArgument,`index out of bounds: ${r}`);const s=e.get(i);if(!s)throw new T(S.ErrInvalidArgument,`index out of bounds: ${i}`);nt.moveAfterInternal(t,e,a.getCreatedAt(),s.getCreatedAt())}static moveFrontInternal(t,e,r){const i=t.issueTimeTicket(),a=e.getHead();e.moveAfter(a.getCreatedAt(),r,i),t.push(en.create(e.getCreatedAt(),a.getCreatedAt(),r,i))}static moveLastInternal(t,e,r){const i=t.issueTimeTicket(),a=e.getLastCreatedAt();e.moveAfter(a,r,i),t.push(en.create(e.getCreatedAt(),a,r,i))}static insertAfterInternal(t,e,r,i){const a=t.issueTimeTicket(),s=bo(t,i,a);return e.insertAfter(r,s),t.registerElement(s,e),t.push(Qi.create(e.getCreatedAt(),r,s.deepcopy(),a)),s}static insertIntegerAfterInternal(t,e,r,i){const a=e.get(r);if(!a)throw new T(S.ErrInvalidArgument,`index out of bounds: ${r}`);return nt.insertAfterInternal(t,e,a.getCreatedAt(),i),e}static insertBeforeInternal(t,e,r,i){return nt.insertAfterInternal(t,e,e.getPrevCreatedAt(r),i)}static setValueInternal(t,e,r,i){const a=e.get(r);if(!a)throw new T(S.ErrInvalidArgument,`index out of bounds: ${r}`);return nt.setByIndexInternal(t,e,a.getCreatedAt(),i),e}static setByIndexInternal(t,e,r,i){const a=t.issueTimeTicket(),s=bo(t,i,a),o=s.deepcopy();return t.push(mi.create(e.getCreatedAt(),r,o,a)),e.set(r,s,a),t.registerElement(s,e),s}static deleteInternalByIndex(t,e,r){const i=t.issueTimeTicket(),a=e.deleteByIndex(r,i);if(a)return t.push(Dn.create(e.getCreatedAt(),a.getCreatedAt(),i)),t.registerRemovedElement(a),a}static deleteInternalByID(t,e,r){const i=t.issueTimeTicket(),a=e.delete(r,i);return t.push(Dn.create(e.getCreatedAt(),a.getCreatedAt(),i)),t.registerRemovedElement(a),a}static splice(t,e,r,i,...a){const s=e.length,o=r>=0?Math.min(r,s):Math.max(s+r,0),u=i===void 0?s:i<0?o:Math.min(o+i,s),c=[];for(let h=o;h<u;h++){const m=nt.deleteInternalByIndex(t,e,o);if(m){const d=m.deepcopy();d.setRemovedAt(),c.push(ia(t,d))}}if(a){let h=o===0?e.getHead().getID():e.get(o-1).getID();for(const m of a)h=nt.insertAfterInternal(t,e,h,m).getID()}return c}static includes(t,e,r,i){var o;const a=e.length,s=i===void 0?0:i<0?Math.max(i+a,0):i;if(s>=a)return!1;if(vt.isSupport(r))return Array.from(e).map(c=>ia(t,c)).includes(r,s);for(let u=s;u<a;u++)if(((o=e.get(u))==null?void 0:o.getID())===r.getID())return!0;return!1}static indexOf(t,e,r,i){var o;const a=e.length,s=i===void 0?0:i<0?Math.max(i+a,0):i;if(s>=a)return-1;if(vt.isSupport(r))return Array.from(e).map(c=>ia(t,c)).indexOf(r,s);for(let u=s;u<a;u++)if(((o=e.get(u))==null?void 0:o.getID())===r.getID())return u;return-1}static lastIndexOf(t,e,r,i){var o;const a=e.length,s=i===void 0||i>=a?a-1:i<0?i+a:i;if(s<0)return-1;if(vt.isSupport(r))return Array.from(e).map(c=>ia(t,c)).lastIndexOf(r,s);for(let u=s;u>0;u--)if(((o=e.get(u))==null?void 0:o.getID())===r.getID())return u;return-1}static toTestString(t){return t.toTestString()}getHandlers(){return this.handlers}}class wg{constructor(t,e){l(this,"context");l(this,"text");this.context=t,this.text=e}initialize(t,e){this.context=t,this.text=e}getID(){return this.text.getID()}edit(t,e,r,i){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");if(t>e)throw new T(S.ErrInvalidArgument,"from should be less than or equal to to");const a=this.text.indexRangeToPosRange(t,e);z.isEnabled(ae.Debug)&&z.debug(`EDIT: f:${t}->${a[0].toTestString()}, t:${e}->${a[1].toTestString()} c:${r}`);const s=i?Ds(i):void 0,o=this.context.issueTimeTicket(),[,u,c,h]=this.text.edit(a,r,o,s);this.context.acc(c);for(const m of u)this.context.registerGCPair(m);return this.context.push(new cl(this.text.getCreatedAt(),a[0],a[1],r,s?new Map(Object.entries(s)):new Map,o)),this.text.findIndexesFromRange(h)}delete(t,e){return this.edit(t,e,"")}empty(){return this.edit(0,this.length,"")}setStyle(t,e,r){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");if(t>e)throw new T(S.ErrInvalidArgument,"from should be less than or equal to to");const i=this.text.indexRangeToPosRange(t,e);z.isEnabled(ae.Debug)&&z.debug(`STYL: f:${t}->${i[0].toTestString()}, t:${e}->${i[1].toTestString()} a:${JSON.stringify(r)}`);const a=Ds(r),s=this.context.issueTimeTicket(),[o,u]=this.text.setStyle(i,a,s);this.context.acc(u);for(const c of o)this.context.registerGCPair(c);return this.context.push(new fl(this.text.getCreatedAt(),i[0],i[1],new Map(Object.entries(a)),s)),!0}indexRangeToPosRange(t){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");const e=this.text.indexRangeToPosRange(t[0],t[1]);return[e[0].toStruct(),e[1].toStruct()]}posRangeToIndexRange(t){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");const e=this.text.findIndexesFromRange([an.fromStruct(t[0]),an.fromStruct(t[1])]);return[e[0],e[1]]}toTestString(){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(t,e){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(t,e)}}class Ag{constructor(t,e){l(this,"valueType");l(this,"value");l(this,"context");l(this,"counter");this.valueType=t,this.value=e}initialize(t,e){this.valueType=e.getValueType(),this.context=t,this.counter=e,this.value=e.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(t){if(!this.context||!this.counter)throw new T(S.ErrNotInitialized,"Counter is not initialized yet");const e=this.context.issueTimeTicket(),r=vt.of(t,e);if(!r.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof r.getValue()}`);return this.counter.increase(r),this.context.push(Cs.create(this.counter.getCreatedAt(),r,e)),this}toJSForTest(){if(!this.context||!this.counter)throw new T(S.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function Eg(n){if(n.isText)return{type:n.type,value:n.value};const t={type:n.type,children:n.children.map(e=>Eg(e))};return n.attrs&&(t.attributes=li(n.attrs.toObject())),t}function GE(n,t){const e={type:n.isText?n.parent.type:n.type,children:n.isText?n.parent.getChildrenText().length===t?[]:[{type:En,value:n.parent.getChildrenText().slice(t)}]:n.children.slice(t).map(r=>Eg(r))};return n.attrs?e.attributes=li(n.attrs.toObject()):n.isText&&n.parent.attrs&&(e.attributes=li(n.parent.attrs.toObject())),e}function YE(n,t){const{node:e}=n,r=[...t].slice(0,-1),i=e.isText?e.parent.getChildrenText().length:e.children.length,a=[...r,i],s=[...r],o=[];s[s.length-1]+=1,t.every((c,h)=>c===a[h])||o.push({fromPath:[...t],toPath:a});const u=GE(e,t[t.length-1]);return u&&o.push({fromPath:s,toPath:s,content:u}),o}function XE(n,t){const{node:e,offset:r}=n,i=e.children[r],a=e.children[r-1],{children:s}=i,o=[...t].slice(0,-1),u=[{fromPath:[...t],toPath:[...o,r+1]}];if(!i.children.length)return u;const c=[...o,r-1,a.hasTextChild()?a.getChildrenText().length:a.children.length],h=s.map(m=>Eg(m));return u.push({fromPath:c,toPath:c,content:h}),u}function Ng(n,t,e){const{type:r}=n,i=e.issueTimeTicket();if(r===En){rT(n);const{value:a}=n,s=ye.create(Gt.of(i,0),r,a);t.append(s)}else{const{children:a=[]}=n,{attributes:s}=n;let o;if(typeof s=="object"&&!IS(s)){const c=Ds(s);o=new gi;for(const[h,m]of Object.entries(c))o.set(h,m,i)}const u=ye.create(Gt.of(i,0),r,void 0,o);t.append(u);for(const c of a)Ng(c,u,e)}}function FE(n,t){const{type:e}=t,r=n.issueTimeTicket();let i;if(t.type===En){const{value:a}=t;i=ye.create(Gt.of(r,0),e,a)}else if(t){const{children:a=[]}=t,{attributes:s}=t;let o;if(typeof s=="object"&&!IS(s)){const u=Ds(s);o=new gi;for(const[c,h]of Object.entries(u))o.set(c,h,r)}i=ye.create(Gt.of(n.issueTimeTicket(),0),e,void 0,o);for(const u of a)Ng(u,i,n)}return i}function rT(n){if(!n.value.length)throw new T(S.ErrInvalidArgument,"text node cannot have empty value");return!0}function Ky(n){if(!n.length)return!0;if(n[0].type===En)for(const e of n){const{type:r}=e;if(r!==En)throw new T(S.ErrInvalidArgument,"element node and text node cannot be passed together");rT(e)}else for(const e of n){const{type:r}=e;if(r===En)throw new T(S.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class xg{constructor(t){l(this,"initialRoot");l(this,"context");l(this,"tree");this.initialRoot=t}initialize(t,e){this.context=t,this.tree=e}getID(){return this.tree.getID()}buildRoot(t){if(!this.initialRoot)return ye.create(Gt.of(t.issueTimeTicket(),0),KA);const e=ye.create(Gt.of(t.issueTimeTicket(),0),this.initialRoot.type);for(const r of this.initialRoot.children)Ng(r,e,t);return e}getSize(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(!t.length)throw new T(S.ErrInvalidArgument,"path should not be empty");const e=this.tree.pathToTreePos(t),r=YE(e,t);for(const i of r){const{fromPath:a,toPath:s,content:o}=i,u=this.tree.pathToPos(a),c=this.tree.pathToPos(s);this.editInternal(u,c,o?[o]:[],0)}}mergeByPath(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(!t.length)throw new T(S.ErrInvalidArgument,"path should not be empty");const e=this.tree.pathToTreePos(t);if(e.node.isText)throw new T(S.ErrInvalidArgument,"text node cannot be merged");const r=XE(e,t);for(const i of r){const{fromPath:a,toPath:s,content:o}=i,u=this.tree.pathToPos(a),c=this.tree.pathToPos(s);this.editInternal(u,c,o??[],0)}}styleByPath(t,e){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(!t.length)throw new T(S.ErrInvalidArgument,"path should not be empty");const[r,i]=this.tree.pathToPosRange(t),a=this.context.issueTimeTicket(),s=e?Ds(e):void 0,[o,,u]=this.tree.style([r,i],s,a);this.context.acc(u);for(const c of o)this.context.registerGCPair(c);this.context.push(ui.create(this.tree.getCreatedAt(),r,i,s?new Map(Object.entries(s)):new Map,a))}style(t,e,r){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(t>e)throw new T(S.ErrInvalidArgument,"from should be less than or equal to to");const i=this.tree.findPos(t),a=this.tree.findPos(e),s=this.context.issueTimeTicket(),o=r?Ds(r):void 0,[u,,c]=this.tree.style([i,a],o,s);this.context.acc(c);for(const h of u)this.context.registerGCPair(h);this.context.push(ui.create(this.tree.getCreatedAt(),i,a,o?new Map(Object.entries(o)):new Map,s))}removeStyle(t,e,r){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(t>e)throw new T(S.ErrInvalidArgument,"from should be less than or equal to to");const i=this.tree.findPos(t),a=this.tree.findPos(e),s=this.context.issueTimeTicket(),[o,,u]=this.tree.removeStyle([i,a],r,s);this.context.acc(u);for(const c of o)this.context.registerGCPair(c);this.context.push(ui.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),i,a,r,s))}editInternal(t,e,r,i=0){var c;if(r.length!==0&&r[0]&&(Ky(r),r[0].type!==En))for(const h of r){const{children:m=[]}=h;Ky(m)}const a=this.context.getLastTimeTicket();let s=new Array;if(((c=r[0])==null?void 0:c.type)===En){let h="";for(const m of r){const{value:d}=m;h+=d}s.push(ye.create(Gt.of(this.context.issueTimeTicket(),0),En,h))}else s=r.map(h=>h&&FE(this.context,h)).filter(h=>h);const[,o,u]=this.tree.edit([t,e],s.length?s.map(h=>h==null?void 0:h.deepcopy()):void 0,i,a,()=>this.context.issueTimeTicket());this.context.acc(u);for(const h of o)this.context.registerGCPair(h);return this.context.push(hl.create(this.tree.getCreatedAt(),t,e,s.length?s:void 0,i,a)),!0}editByPath(t,e,r,i=0){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(t.length!==e.length)throw new T(S.ErrInvalidArgument,"path length should be equal");if(!t.length||!e.length)throw new T(S.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToPos(t),s=this.tree.pathToPos(e);return this.editInternal(a,s,r?[r]:[],i)}editBulkByPath(t,e,r,i=0){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(t.length!==e.length)throw new T(S.ErrInvalidArgument,"path length should be equal");if(!t.length||!e.length)throw new T(S.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToPos(t),s=this.tree.pathToPos(e);return this.editInternal(a,s,r,i)}edit(t,e,r,i=0){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(t>e)throw new T(S.ErrInvalidArgument,"from should be less than or equal to to");const a=this.tree.findPos(t),s=this.tree.findPos(e);return this.editInternal(a,s,r?[r]:[],i)}editBulk(t,e,r,i=0){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(t>e)throw new T(S.ErrInvalidArgument,"from should be less than or equal to to");const a=this.tree.findPos(t),s=this.tree.findPos(e);return this.editInternal(a,s,r,i)}toXML(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(t)}pathToIndex(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(t)}pathRangeToPosRange(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");const e=[this.tree.pathToIndex(t[0]),this.tree.pathToIndex(t[1])],r=this.tree.indexRangeToPosRange(e);return[r[0].toStruct(),r[1].toStruct()]}indexRangeToPosRange(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(t)}posRangeToIndexRange(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");const e=[nn.fromStruct(t[0]),nn.fromStruct(t[1])];return this.tree.posRangeToIndexRange(e)}posRangeToPathRange(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");const e=[nn.fromStruct(t[0]),nn.fromStruct(t[1])];return this.tree.posRangeToPathRange(e)}}function $y(n,t){return nT(n,t)}function Fe(n,t){if(t){if(t instanceof vt)return t;if(t instanceof Zt)return nT(n,t);if(t instanceof Qt)return KE(n,t);if(t instanceof we)return new wg(n,t);if(t instanceof oe){const e=new Ag(On.Int,0);return e.initialize(n,t),e}else if(t instanceof Ae){const e=new xg;return e.initialize(n,t),e}}else return;throw new TypeError(`Unsupported type of element: ${typeof t}`)}function ia(n,t){const e=Fe(n,t);return e instanceof vt?e.getValue():e}function bo(n,t,e){let r;if(vt.isSupport(t))r=vt.of(t,e);else if(Array.isArray(t))r=Qt.create(e,nt.buildArrayElements(n,t));else if(typeof t=="object")t instanceof wg?(r=we.create(ks.create(),e),t.initialize(n,r)):t instanceof Ag?(r=oe.create(t.getValueType(),t.getValue(),e),t.initialize(n,r)):t instanceof xg?(r=Ae.create(t.buildRoot(n),e),t.initialize(n,r)):r=Zt.create(e,$o.buildObjectMembers(n,t));else throw new TypeError(`Unsupported type of value: ${typeof t}`);return r}class Go{constructor(t){l(this,"rootObject");l(this,"elementPairMapByCreatedAt");l(this,"gcElementSetByCreatedAt");l(this,"gcPairMap");l(this,"docSize");this.rootObject=t,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(t,void 0),t.getDescendants(e=>{if(e.getRemovedAt()&&this.registerRemovedElement(e),e instanceof we||e instanceof Ae)for(const r of e.getGCPairs())this.registerGCPair(r);return!1})}static create(){return new Go(Zt.create(Ns))}findByCreatedAt(t){const e=this.elementPairMapByCreatedAt.get(t.toIDString());if(e)return e.element}findElementPairByCreatedAt(t){return this.elementPairMapByCreatedAt.get(t.toIDString())}createSubPaths(t){let e=this.elementPairMapByCreatedAt.get(t.toIDString());if(!e)return[];const r=[];for(;e.parent;){const i=e.element.getCreatedAt(),a=e.parent.subPathOf(i);if(a===void 0)throw new T(S.ErrInvalidArgument,`cant find the given element: ${i.toIDString()}`);r.unshift(a),e=this.elementPairMapByCreatedAt.get(e.parent.getCreatedAt().toIDString())}return r.unshift("$"),r}createPath(t){return this.createSubPaths(t).join(".")}registerElement(t,e){this.elementPairMapByCreatedAt.set(t.getCreatedAt().toIDString(),{parent:e,element:t}),Kt(this.docSize.live,t.getDataSize()),t instanceof ji&&t.getDescendants((r,i)=>(this.elementPairMapByCreatedAt.set(r.getCreatedAt().toIDString(),{parent:i,element:r}),Kt(this.docSize.live,r.getDataSize()),!1))}deregisterElement(t){let e=0;const r=i=>{const a=i.getCreatedAt().toIDString();oa(this.docSize.gc,i.getDataSize()),this.elementPairMapByCreatedAt.delete(a),this.gcElementSetByCreatedAt.delete(a),e++};return r(t),t instanceof ji&&t.getDescendants(i=>(r(i),!1)),e}registerRemovedElement(t){Kt(this.docSize.gc,t.getDataSize()),oa(this.docSize.live,t.getDataSize()),this.docSize.live.meta+=An,this.gcElementSetByCreatedAt.add(t.getCreatedAt().toIDString())}registerGCPair(t){if(this.gcPairMap.get(t.child.toIDString())){this.gcPairMap.delete(t.child.toIDString());return}this.gcPairMap.set(t.child.toIDString(),t);const r=this.gcPairMap.get(t.child.toIDString()).child.getDataSize();Kt(this.docSize.gc,r),oa(this.docSize.live,r),t.child instanceof Bi||(this.docSize.live.meta+=An)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const t=new Set;for(const e of this.gcElementSetByCreatedAt){t.add(e);const r=this.elementPairMapByCreatedAt.get(e);r.element instanceof ji&&r.element.getDescendants(i=>(t.add(i.getCreatedAt().toIDString()),!1))}return t.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new Go(this.rootObject.deepcopy())}garbageCollect(t){let e=0;for(const r of this.gcElementSetByCreatedAt){const i=this.elementPairMapByCreatedAt.get(r),a=i.element.getRemovedAt();a&&(t!=null&&t.afterOrEqual(a))&&(i.parent.purge(i.element),e+=this.deregisterElement(i.element))}for(const[,r]of this.gcPairMap){const i=r.child.getRemovedAt();i&&(t!=null&&t.afterOrEqual(i))&&(r.parent.purge(r.child),oa(this.docSize.gc,r.child.getDataSize()),this.gcPairMap.delete(r.child.toIDString()),e+=1)}return e}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(t){Kt(this.docSize.live,t)}}class Gy{constructor(t,e){l(this,"context");l(this,"presence");this.context=t,this.presence=e}set(t,e){for(const r of Object.keys(t))this.presence[r]=t[r];this.context.setPresenceChange({type:xn.Put,presence:Ze(this.presence)}),this.context.setReversePresence(t,e)}get(t){return this.presence[t]}clear(){this.presence={},this.context.setPresenceChange({type:xn.Clear})}}const Yy=50;class ZE{constructor(){l(this,"undoStack",[]);l(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(t){this.undoStack.length>=Yy&&this.undoStack.shift(),this.undoStack.push(t)}popUndo(){return this.undoStack.pop()}pushRedo(t){this.redoStack.length>=Yy&&this.redoStack.shift(),this.redoStack.push(t)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(t,e){const r=i=>{for(const a of i)for(const s of a)(s instanceof mi||s instanceof Dn||s instanceof en)&&s.getCreatedAt()===t&&s.setCreatedAt(e),(s instanceof Qi||s instanceof en)&&s.getPrevCreatedAt()===t&&s.setPrevCreatedAt(e)};r(this.undoStack),r(this.redoStack)}}function QE(n,t){const e=[];for(const r of t){const i=_E(n,r.path),a=WE(i,r);if(!a.valid)for(const s of a.errors||[])e.push(s)}return{valid:e.length===0,errors:e}}function _E(n,t){if(!t.startsWith("$"))throw new Error(`Path must start with $, got ${t}`);const e=t.split(".");let r=n;for(let i=1;i<e.length;i++){const a=e[i];if(!(r instanceof Zt))return;r=r.get(a)}return r}function WE(n,t){switch(t.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return eN(n,t);case"object":if(!(n instanceof Zt))return{valid:!1,errors:[{path:t.path,message:`expected object at path ${t.path}`}]};break;case"array":if(!(n instanceof Qt))return{valid:!1,errors:[{path:t.path,message:`expected array at path ${t.path}`}]};break;case"yorkie.Text":if(!(n instanceof we))return{valid:!1,errors:[{path:t.path,message:`expected yorkie.Text at path ${t.path}`}]};break;case"yorkie.Tree":if(!(n instanceof Ae))return{valid:!1,errors:[{path:t.path,message:`expected yorkie.Tree at path ${t.path}`}]};break;case"yorkie.Counter":if(!(n instanceof oe))return{valid:!1,errors:[{path:t.path,message:`expected yorkie.Counter at path ${t.path}`}]};break;default:throw new Error(`Unknown rule type: ${t.type}`)}return{valid:!0}}function tN(n){switch(n){case"null":return lt.Null;case"boolean":return lt.Boolean;case"integer":return lt.Integer;case"long":return lt.Long;case"double":return lt.Double;case"string":return lt.String;case"bytes":return lt.Bytes;case"date":return lt.Date;default:throw new Error(`Unknown primitive type: ${n}`)}}function eN(n,t){return n instanceof vt&&n.getType()===tN(t.type)?{valid:!0}:{valid:!1,errors:[{path:t.path,message:`expected ${t.type} at path ${t.path}`}]}}const nN="yorkie-devtools-panel",rN="yorkie-devtools-sdk";function iN(n){return[Rt.StatusChanged,Rt.Snapshot,Rt.LocalChange,Rt.RemoteChange,Rt.Initialized,Rt.Watched,Rt.Unwatched,Rt.PresenceChanged].includes(n.type)}function aN(n){return n.every(iN)}let qa="disconnected";const Xy=new Map,ru=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=ru);function Ll(n,t){(t!=null&&t.force||qa!=="disconnected")&&window.postMessage({source:rN,...n},"*")}function sN(n){if(!n.isEnableDevtools()||typeof window>"u"||Xy.has(n.getKey()))return;ru.set(n.getKey(),[]);const t=n.subscribe("all",e=>{aN(e)&&(ru.get(n.getKey()).push(e),qa==="synced"&&Ll({msg:"doc::sync::partial",docKey:n.getKey(),event:e}))});Xy.set(n.getKey(),[t]),Ll({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",e=>{var i;if(((i=e.data)==null?void 0:i.source)!==nN)return;switch(e.data.msg){case"devtools::connect":if(qa!=="disconnected")break;qa="connected",Ll({msg:"doc::available",docKey:n.getKey()}),z.info(`[YD] Devtools connected. Doc: ${n.getKey()}`);break;case"devtools::disconnect":qa="disconnected",z.info(`[YD] Devtools disconnected. Doc: ${n.getKey()}`);break;case"devtools::subscribe":qa="synced",Ll({msg:"doc::sync::full",docKey:n.getKey(),events:ru.get(n.getKey())}),z.info(`[YD] Devtools subscribed. Doc: ${n.getKey()}`);break}})}var wi=(n=>(n.Detached="detached",n.Attached="attached",n.Removed="removed",n))(wi||{}),Rt=(n=>(n.StatusChanged="status-changed",n.ConnectionChanged="connection-changed",n.SyncStatusChanged="sync-status-changed",n.Snapshot="snapshot",n.LocalChange="local-change",n.RemoteChange="remote-change",n.Initialized="initialized",n.Watched="watched",n.Unwatched="unwatched",n.PresenceChanged="presence-changed",n.Broadcast="broadcast",n.LocalBroadcast="local-broadcast",n.AuthError="auth-error",n))(Rt||{}),wo=(n=>(n.Connected="connected",n.Disconnected="disconnected",n))(wo||{}),ad=(n=>(n.Synced="synced",n.SyncFailed="sync-failed",n))(ad||{});class aa{constructor(t,e){l(this,"key");l(this,"status");l(this,"opts");l(this,"maxSizeLimit");l(this,"schemaRules");l(this,"changeID");l(this,"checkpoint");l(this,"localChanges");l(this,"root");l(this,"presences");l(this,"clone");l(this,"internalHistory");l(this,"isUpdating");l(this,"onlineClients");l(this,"eventStream");l(this,"eventStreamObserver");l(this,"history");this.key=t,this.status="detached",this.opts=e||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=_A,this.checkpoint=WA,this.localChanges=[],this.root=Go.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new ZE,this.isUpdating=!1,this.eventStream=eT(r=>this.eventStreamObserver=r),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},sN(this)}update(t,e){var o,u,c;if(this.getStatus()==="removed")throw new T(S.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const r=this.changeID.getActorID(),i=To.create(this.changeID,this.clone.root,this.clone.presences.get(r)||{},e);try{const h=$y(i,this.clone.root.getObject());this.presences.has(r)||this.clone.presences.set(r,{}),this.isUpdating=!0,t(h,new Gy(i,this.clone.presences.get(r)))}catch(h){throw this.clone=void 0,h}finally{this.isUpdating=!1}const a=this.getSchemaRules();if(!i.isPresenceOnlyChange()&&a.length){const h=QE((o=this.clone)==null?void 0:o.root.getObject(),a);if(!h.valid)throw this.clone=void 0,new T(S.ErrDocumentSchemaValidationFailed,`schema validation failed: ${(u=h.errors)==null?void 0:u.map(m=>m.message).join(", ")}`)}const s=VA((c=this.clone)==null?void 0:c.root.getDocSize());if(!i.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<s)throw this.clone=void 0,new T(S.ErrDocumentSizeExceedsLimit,`document size exceeded: ${s} > ${this.maxSizeLimit}`);if(i.hasChange()){z.isEnabled(ae.Trivial)&&z.trivial(`trying to update a local change: ${this.toJSON()}`);const h=i.toChange(),{opInfos:m,reverseOps:d}=h.execute(this.root,this.presences,gt.Local);for(const A of h.getOperations())A instanceof mi&&this.internalHistory.reconcileCreatedAt(A.getCreatedAt(),A.getValue().getCreatedAt());const g=i.getReversePresence();g&&d.push({type:"presence",value:g}),this.localChanges.push(h),d.length&&this.internalHistory.pushUndo(d),m.length&&this.internalHistory.clearRedo(),this.changeID=i.getNextID();const b=[];m.length&&b.push({type:"local-change",source:gt.Local,value:{message:h.getMessage()||"",operations:m,actor:r,clientSeq:h.getID().getClientSeq(),serverSeq:h.getID().getServerSeq()},rawChange:this.isEnableDevtools()?h.toStruct():void 0}),h.hasPresenceChange()&&b.push({type:"presence-changed",source:gt.Local,value:{clientID:r,presence:this.getPresence(r)}}),this.publish(b),z.isEnabled(ae.Trivial)&&z.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(t,e,r,i){if(typeof t=="string"){if(typeof e!="function")throw new T(S.ErrInvalidArgument,"Second argument must be a callback function");if(t==="presence"){const o=e;return this.eventStream.subscribe(u=>{for(const c of u)c.type!=="initialized"&&c.type!=="watched"&&c.type!=="unwatched"&&c.type!=="presence-changed"||o(c)},r,i)}if(t==="my-presence"){const o=e;return this.eventStream.subscribe(u=>{for(const c of u)c.type!=="initialized"&&c.type!=="presence-changed"||c.type==="presence-changed"&&c.value.clientID!==this.changeID.getActorID()||o(c)},r,i)}if(t==="others"){const o=e;return this.eventStream.subscribe(u=>{for(const c of u)c.type!=="watched"&&c.type!=="unwatched"&&c.type!=="presence-changed"||c.value.clientID!==this.changeID.getActorID()&&o(c)},r,i)}if(t==="connection"){const o=e;return this.eventStream.subscribe(u=>{for(const c of u)c.type==="connection-changed"&&o(c)},r,i)}if(t==="status"){const o=e;return this.eventStream.subscribe(u=>{for(const c of u)c.type==="status-changed"&&o(c)},r,i)}if(t==="sync"){const o=e;return this.eventStream.subscribe(u=>{for(const c of u)c.type==="sync-status-changed"&&o(c)},r,i)}if(t==="local-broadcast"){const o=e;return this.eventStream.subscribe(u=>{for(const c of u)c.type==="local-broadcast"&&o(c)},r)}if(t==="broadcast"){const o=e;return this.eventStream.subscribe(u=>{for(const c of u)c.type==="broadcast"&&o(c)},r)}if(t==="auth-error"){const o=e;return this.eventStream.subscribe(u=>{for(const c of u)c.type==="auth-error"&&o(c)},r)}if(t==="all"){const o=e;return this.eventStream.subscribe(o,r,i)}const a=t,s=e;return this.eventStream.subscribe(o=>{for(const u of o){if(u.type!=="local-change"&&u.type!=="remote-change")continue;const c=[];for(const h of u.value.operations)this.isSameElementOrChildOf(h.path,a)&&c.push(h);c.length&&s({...u,value:{...u.value,operations:c}})}},r,i)}if(typeof t=="function"){const a=t,s=e,o=r;return this.eventStream.subscribe(u=>{for(const c of u)c.type!=="snapshot"&&c.type!=="local-change"&&c.type!=="remote-change"||a(c)},s,o)}throw new T(S.ErrInvalidArgument,`"${t}" is not a valid`)}publish(t){this.eventStreamObserver&&this.eventStreamObserver.next(t)}applyChangePack(t){t.hasSnapshot()?this.applySnapshot(t.getCheckpoint().getServerSeq(),t.getVersionVector(),t.getSnapshot(),t.getCheckpoint().getClientSeq()):(this.applyChanges(t.getChanges(),gt.Remote),this.removePushedLocalChanges(t.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(t.getCheckpoint()),t.hasSnapshot()||this.garbageCollect(t.getVersionVector()),t.getIsRemoved()&&this.applyStatus("removed"),z.isEnabled(ae.Trivial)&&z.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Ze(this.presences)})}createChangePack(){const t=Array.from(this.localChanges),e=this.checkpoint.increaseClientSeq(t.length);return Ic.create(this.key,e,!1,t,this.getVersionVector())}setActor(t){for(const e of this.localChanges)e.setActor(t);this.changeID=this.changeID.setActor(t)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const t=To.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return $y(t,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(t){this.maxSizeLimit=t}getSchemaRules(){return this.schemaRules}setSchemaRules(t){this.schemaRules=t}garbageCollect(t){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(t),this.root.garbageCollect(t))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(t,e,r,i=-1){const{root:a,presences:s}=St.bytesToSnapshot(r);this.root=new Go(a),this.presences=s,this.changeID=this.changeID.setClocks(e.maxLamport(),e),this.clone=void 0,this.removePushedLocalChanges(i),this.applyChanges(this.localChanges,gt.Local),this.publish([{type:"snapshot",source:gt.Remote,value:{serverSeq:t.toString(),snapshot:this.isEnableDevtools()?St.bytesToHex(r):void 0,snapshotVector:St.versionVectorToHex(e)}}])}applyChanges(t,e){z.isEnabled(ae.Debug)&&z.debug(`trying to apply ${t.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),z.isEnabled(ae.Trivial)&&z.trivial(t.map(r=>`${r.getID().toTestString()}	${r.toTestString()}`).join(`
`));for(const r of t)this.applyChange(r,e);z.isEnabled(ae.Debug)&&z.debug(`after appling ${t.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(t,e){this.ensureClone(),t.execute(this.clone.root,this.clone.presences,e);const r=[],i=t.getID().getActorID();if(t.hasPresenceChange()&&this.onlineClients.has(i)){const s=t.getPresenceChange();switch(s.type){case xn.Put:r.push(this.presences.has(i)?{type:"presence-changed",source:e,value:{clientID:i,presence:s.presence}}:{type:"watched",source:gt.Remote,value:{clientID:i,presence:s.presence}});break;case xn.Clear:r.push({type:"unwatched",source:gt.Remote,value:{clientID:i,presence:this.getPresence(i)}}),this.removeOnlineClient(i);break}}const{opInfos:a}=t.execute(this.root,this.presences,e);if(this.changeID=this.changeID.syncClocks(t.getID()),a.length){const s=this.isEnableDevtools()?t.toStruct():void 0;r.push(e===gt.Remote?{type:"remote-change",source:e,value:{actor:i,clientSeq:t.getID().getClientSeq(),serverSeq:t.getID().getServerSeq(),message:t.getMessage()||"",operations:a},rawChange:s}:{type:"local-change",source:e,value:{actor:i,clientSeq:t.getID().getClientSeq(),serverSeq:t.getID().getServerSeq(),message:t.getMessage()||"",operations:a},rawChange:s})}r.length&&this.publish(r)}applyWatchStream(t){if(t.body.case==="initialization"){const e=t.body.value.clientIds,r=new Set;for(const i of e)i!==this.changeID.getActorID()&&r.add(i);this.setOnlineClients(r),this.publish([{type:"initialized",source:gt.Local,value:this.getPresences()}]);return}if(t.body.case==="event"){const{type:e,publisher:r}=t.body.value,i=[];if(e===ma.DOCUMENT_WATCHED){if(this.onlineClients.has(r)&&this.hasPresence(r))return;this.addOnlineClient(r),this.hasPresence(r)&&i.push({type:"watched",source:gt.Remote,value:{clientID:r,presence:this.getPresence(r)}})}else if(e===ma.DOCUMENT_UNWATCHED){const a=this.getPresence(r);this.removeOnlineClient(r),a&&i.push({type:"unwatched",source:gt.Remote,value:{clientID:r,presence:a}})}else if(e===ma.DOCUMENT_BROADCAST&&t.body.value.body){const{topic:a,payload:s}=t.body.value.body,o=new TextDecoder;i.push({type:"broadcast",value:{clientID:r,topic:a,payload:JSON.parse(o.decode(s))}})}i.length&&this.publish(i)}}applyStatus(t){this.status=t,t==="detached"&&this.setActor(ug),this.publish([{source:t==="removed"?gt.Remote:gt.Local,type:"status-changed",value:t==="attached"?{status:t,actorID:this.changeID.getActorID()}:{status:t}}])}applyDocEventsForReplay(t){for(const e of t){if(e.type==="status-changed"){this.applyStatus(e.value.status),e.value.status==="attached"&&this.setActor(e.value.actorID);continue}if(e.type==="snapshot"){const{snapshot:r,serverSeq:i,snapshotVector:a}=e.value;if(!r)continue;this.applySnapshot(BigInt(i),St.hexToVersionVector(a),St.hexToBytes(r));continue}if(e.type==="local-change"||e.type==="remote-change"){if(!e.rawChange)continue;const r=Os.fromStruct(e.rawChange);this.applyChange(r,e.source)}if(e.type==="initialized"){const r=new Set;for(const{clientID:i,presence:a}of e.value)r.add(i),this.presences.set(i,a);this.setOnlineClients(r)}else if(e.type==="watched"){const{clientID:r,presence:i}=e.value;this.addOnlineClient(r),this.presences.set(r,i)}else if(e.type==="unwatched"){const{clientID:r}=e.value;this.removeOnlineClient(r),this.presences.delete(r)}else if(e.type==="presence-changed"){const{clientID:r,presence:i}=e.value;this.presences.set(r,i)}}}getValueByPath(t){if(!t.startsWith("$"))throw new T(S.ErrInvalidArgument,'path must start with "$"');const e=t.split(".");e.shift();let r=this.getRoot();for(const i of e)if(r=r[i],!r)return;return r}setOnlineClients(t){this.onlineClients=t}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(t){this.onlineClients.add(t)}removeOnlineClient(t){this.onlineClients.delete(t)}hasPresence(t){return this.presences.has(t)}getMyPresence(){if(this.status!=="attached")return{};const t=this.presences.get(this.changeID.getActorID());return t?Ze(t):{}}getOthersPresences(){const t=[],e=this.changeID.getActorID();for(const r of this.onlineClients)r!==e&&this.presences.has(r)&&t.push({clientID:r,presence:Ze(this.presences.get(r))});return t}getPresence(t){if(t===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(t))return;const e=this.presences.get(t);return e?Ze(e):void 0}getPresences(){const t=[];t.push({clientID:this.changeID.getActorID(),presence:Ze(this.getMyPresence())});for(const e of this.onlineClients)this.presences.has(e)&&t.push({clientID:e,presence:Ze(this.presences.get(e))});return t}getPresenceForTest(t){const e=this.presences.get(t);return e?Ze(e):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const t=this.getChangeID().getActorID();return this.getPresences().filter(e=>e.clientID!==t).sort((e,r)=>e.clientID>r.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}broadcast(t,e,r){this.publish([{type:"local-broadcast",value:{topic:t,payload:e},options:r}])}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(t,e){if(e===t)return!0;const r=t.split(".");return e.split(".").every((i,a)=>i===r[a])}removePushedLocalChanges(t){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>t);)this.localChanges.shift()}executeUndoRedo(t){if(this.isUpdating)throw new T(S.ErrRefused,`${t?"Undo":"Redo"} is not allowed during an update`);const e=t?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!e)throw new T(S.ErrRefused,`There is no operation to be ${t?"undone":"redone"}`);this.ensureClone();const r=To.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const h of e){if(!(h instanceof on)){new Gy(r,Ze(this.clone.presences.get(this.changeID.getActorID()))).set(h.value,{addToHistory:!0});continue}const m=r.issueTimeTicket();if(h.setExecutedAt(m),h instanceof mi){const d=h.getCreatedAt();h.getValue().setCreatedAt(m),this.internalHistory.reconcileCreatedAt(d,m)}else if(h instanceof Qi){const d=h.getValue().getCreatedAt();h.getValue().setCreatedAt(m),this.internalHistory.reconcileCreatedAt(d,m)}r.push(h)}const i=r.toChange();i.execute(this.clone.root,this.clone.presences,gt.UndoRedo);const{opInfos:a,reverseOps:s}=i.execute(this.root,this.presences,gt.UndoRedo),o=r.getReversePresence();if(o&&s.push({type:"presence",value:o}),s.length&&(t?this.internalHistory.pushRedo(s):this.internalHistory.pushUndo(s)),!i.hasPresenceChange()&&!a.length)return;this.localChanges.push(i),this.changeID=r.getNextID();const u=this.changeID.getActorID(),c=[];a.length&&c.push({type:"local-change",source:gt.UndoRedo,value:{message:i.getMessage()||"",operations:a,actor:u,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&c.push({type:"presence-changed",source:gt.UndoRedo,value:{clientID:u,presence:this.getPresence(u)}}),this.publish(c)}}function oN(n,t){let e=t;return{authInterceptor:a=>async s=>(n&&s.header.set("x-api-key",n),e&&s.header.set("authorization",e),await a(s)),setToken:a=>{e=a}}}const lN="@yorkie-js/sdk",uN="0.6.29",Fy={name:lN,version:uN};function cN(n){return t=>async e=>(n?e.header.set("x-yorkie-user-agent",n):e.header.set("x-yorkie-user-agent",Fy.name+"/"+Fy.version),await t(e))}const fN=n=>{try{if(JSON.stringify(n)===void 0)return!1}catch{return!1}return!0};var Ws=(n=>(n.Detached="detached",n.Attached="attached",n.Removed="removed",n))(Ws||{}),oc=(n=>(n.Changed="changed",n.Initialized="initialized",n))(oc||{});class Pa{constructor(t){l(this,"key");l(this,"status");l(this,"actorID");l(this,"presenceID");l(this,"count");l(this,"seq");l(this,"eventStream");l(this,"eventStreamObserver");this.key=t,this.status="detached",this.count=0,this.seq=0,this.eventStream=eT(e=>this.eventStreamObserver=e)}getKey(){return this.key}getStatus(){return this.status}applyStatus(t){this.status=t}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(t){this.actorID=t}getPresenceID(){return this.presenceID}setPresenceID(t){this.presenceID=t}getCount(){return this.count}updateCount(t,e){return e===0||e>this.seq?(this.count=t,this.seq=e,!0):!1}hasLocalChanges(){return!1}subscribe(t){return this.eventStream.subscribe(t)}publish(t){this.eventStreamObserver&&this.eventStreamObserver.next(t)}}var iu=(n=>(n.Manual="manual",n.Realtime="realtime",n.RealtimePushOnly="realtime-pushonly",n.RealtimeSyncOff="realtime-syncoff",n))(iu||{});const Ba={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,presenceHeartbeatInterval:3e4},Ef={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class iT{constructor(t){l(this,"id");l(this,"key");l(this,"metadata");l(this,"status");l(this,"attachmentMap");l(this,"apiKey");l(this,"authTokenInjector");l(this,"conditions");l(this,"syncLoopDuration");l(this,"reconnectStreamDelay");l(this,"retrySyncLoopDelay");l(this,"presenceHeartbeatInterval");l(this,"rpcClient");l(this,"setAuthToken");l(this,"taskQueue");l(this,"processing",!1);l(this,"keepalive",!1);t=t||Ba;const e=t.rpcAddr||Ba.rpcAddr;this.key=t.key||tT(),this.metadata=t.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=t.apiKey||"",this.authTokenInjector=t.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=t.syncLoopDuration??Ba.syncLoopDuration,this.reconnectStreamDelay=t.reconnectStreamDelay??Ba.reconnectStreamDelay,this.retrySyncLoopDelay=t.retrySyncLoopDelay??Ba.retrySyncLoopDelay,this.presenceHeartbeatInterval=t.presenceHeartbeatInterval??Ba.presenceHeartbeatInterval;const{authInterceptor:r,setToken:i}=oN(this.apiKey);this.setAuthToken=i,this.rpcClient=fA(zA,BA({baseUrl:e,interceptors:[r,cN(t==null?void 0:t.userAgent)],fetch:(a,s)=>fetch(a,{...s,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const t=await this.authTokenInjector();this.setAuthToken(t)}return this.enqueueTask(async()=>{try{const t=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=t.clientId,this.status="activated",this.runSyncLoop(),z.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(t){throw z.error(`[AC] c:"${this.getKey()}" err :`,t),await this.handleConnectError(t),t}})}deactivate(t={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const e=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:t.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),z.info(`[DC] c"${this.getKey()}" deactivated`)}catch(r){throw z.error(`[DC] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}};if(t.keepalive){this.keepalive=!0;const r=e();return this.keepalive=!1,r}return this.enqueueTask(e)}has(t){return this.attachmentMap.has(t)}attach(t,e){return t instanceof Pa?this.attachPresence(t):this.attachDocument(t,e)}attachDocument(t,e={}){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);if(t.getStatus()!==wi.Detached)throw new T(S.ErrDocumentNotDetached,`${t.getKey()} is not detached`);t.setActor(this.id),t.update((a,s)=>s.set(e.initialPresence||{}));const r=t.subscribe("local-broadcast",async a=>{var h;const{topic:s,payload:o}=a.value,u=(h=a.options)==null?void 0:h.error,c=a.options;try{await this.broadcast(t.getKey(),s,o,c)}catch(m){m instanceof Error&&(u==null||u(m))}}),i=e.syncMode??"realtime";return this.enqueueTask(async()=>{try{const a=await this.rpcClient.attachDocument({clientId:this.id,changePack:St.toChangePack(t.createChangePack()),schemaKey:e.schema},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}});(a.maxSizePerDocument??0)>0&&t.setMaxSizePerDocument(a.maxSizePerDocument),a.schemaRules.length>0&&t.setSchemaRules(St.fromSchemaRules(a.schemaRules));const o=St.fromChangePack(a.changePack);if(t.applyChangePack(o),t.getStatus()===wi.Removed)return t;t.applyStatus(wi.Attached),this.attachmentMap.set(t.getKey(),new Vy(this.reconnectStreamDelay,t,a.documentId,i,r)),i!=="manual"&&await this.runWatchLoop(t.getKey()),z.info(`[AD] c:"${this.getKey()}" attaches d:"${t.getKey()}"`);const u=t.getRootObject();if(e.initialRoot){const c=e.initialRoot;t.update(h=>{for(const[m,d]of Object.entries(c))if(!u.has(m)){const g=m;h[g]=d}})}return t}catch(a){throw z.error(`[AD] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}})}detach(t,e){return t instanceof Pa?this.detachPresence(t):this.detachDocument(t,e)}detachDocument(t,e={keepalive:!1}){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(t.getKey());if(!r)throw new T(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);t.update((a,s)=>s.clear());const i=async()=>{try{const a=await this.rpcClient.detachDocument({clientId:this.id,documentId:r.resourceID,changePack:St.toChangePack(t.createChangePack()),removeIfNotAttached:e.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}),s=St.fromChangePack(a.changePack);return t.applyChangePack(s),t.getStatus()!==wi.Removed&&t.applyStatus(wi.Detached),this.detachInternal(t.getKey()),z.info(`[DD] c:"${this.getKey()}" detaches d:"${t.getKey()}"`),t}catch(a){throw z.error(`[DD] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}};if(e.keepalive){this.keepalive=!0;const a=i();return this.keepalive=!1,a}return this.enqueueTask(i)}async attachPresence(t){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);if(t.getStatus()!==Ws.Detached)throw new T(S.ErrDocumentNotDetached,`${t.getKey()} is not detached`);t.setActor(this.id);const e=async()=>{try{const r=await this.rpcClient.attachPresence({clientId:this.id,presenceKey:t.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}});t.setPresenceID(r.presenceId),t.updateCount(Number(r.count),0),t.applyStatus(Ws.Attached);const i=new Vy(this.reconnectStreamDelay,t,r.presenceId);return this.attachmentMap.set(t.getKey(),i),await this.runWatchLoop(t.getKey()),z.info(`[AP] c:"${this.getKey()}" attaches p:"${t.getKey()}" count:${t.getCount()}`),t}catch(r){throw z.error(`[AP] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}};return this.enqueueTask(e)}async detachPresence(t){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(t.getKey()))throw new T(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);const e=async()=>{try{const r=await this.rpcClient.detachPresence({clientId:this.id,presenceId:t.getPresenceID(),presenceKey:t.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}});return t.updateCount(Number(r.count),0),t.applyStatus(Ws.Detached),this.detachInternal(t.getKey()),z.info(`[DP] c:"${this.getKey()}" detaches p:"${t.getKey()}" count:${t.getCount()}`),t}catch(r){throw z.error(`[DP] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}};return this.enqueueTask(e)}async changeSyncMode(t,e){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(t.getKey());if(!r)throw new T(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);const i=r.syncMode;return i===e?t:(r.changeSyncMode(e),e==="manual"?(r.cancelWatchStream(),t):(e==="realtime"&&(r.changeEventReceived=!0),i==="manual"&&await this.runWatchLoop(t.getKey()),t))}sync(t){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);if(t){const e=this.attachmentMap.get(t.getKey());if(!e)throw new T(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(e,"realtime").catch(async r=>{throw z.error(`[SY] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}))}return this.enqueueTask(async()=>{const e=[];for(const[,r]of this.attachmentMap)r.syncMode!==void 0&&r.resource instanceof aa&&e.push(this.syncInternal(r,r.syncMode));return Promise.all(e).catch(async r=>{throw z.error(`[SY] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r})})}remove(t){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);const e=this.attachmentMap.get(t.getKey());if(!e)throw new T(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);t.setActor(this.id);const r=St.toChangePack(t.createChangePack());return r.isRemoved=!0,this.enqueueTask(async()=>{try{const i=await this.rpcClient.removeDocument({clientId:this.id,documentId:e.resourceID,changePack:r},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}),a=St.fromChangePack(i.changePack);t.applyChangePack(a),this.detachInternal(t.getKey()),z.info(`[RD] c:"${this.getKey()}" removes d:"${t.getKey()}"`)}catch(i){throw z.error(`[RD] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(t){return this.conditions[t]}broadcast(t,e,r,i){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(t);if(!a)throw new T(S.ErrDocumentNotAttached,`${t} is not attached`);if(!fN(r))throw new T(S.ErrInvalidArgument,"payload is not serializable");const s=(i==null?void 0:i.maxRetries)??Ef.maxRetries,o=Ef.maxBackoff;let u=0;const c=m=>Math.min(Ef.initialRetryInterval*2**m,o),h=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,documentId:a.resourceID,topic:e,payload:new TextEncoder().encode(JSON.stringify(r))},{headers:{"x-shard-key":`${this.apiKey}/${t}`}}),z.info(`[BC] c:"${this.getKey()}" broadcasts d:"${t}" t:"${e}"`)}catch(m){if(z.error(`[BC] c:"${this.getKey()}" err:`,m),await this.handleConnectError(m))if(wf(m,S.ErrUnauthenticated)&&a.resource instanceof aa&&a.resource.publish([{type:Rt.AuthError,value:{reason:_s(m).reason,method:"Broadcast"}}]),u<s)u++,setTimeout(()=>h(),c(u-1)),z.info(`[BC] c:"${this.getKey()}" retry attempt ${u}/${s}`);else throw z.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),m;else throw m}});return h()}runSyncLoop(){const t=async()=>{if(!this.isActive()){z.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const e=[];for(const[,r]of this.attachmentMap)r.needSync(this.presenceHeartbeatInterval)&&(r.changeEventReceived!==void 0&&(r.changeEventReceived=!1),e.push(this.syncInternal(r,r.syncMode).catch(i=>{throw wf(i,S.ErrUnauthenticated)&&r.resource.publish([{type:Rt.AuthError,value:{reason:_s(i).reason,method:"PushPull"}}]),i})));await Promise.all(e),setTimeout(t,this.syncLoopDuration)})}catch(e){z.error(`[SL] c:"${this.getKey()}" sync failed:`,e),await this.handleConnectError(e)?setTimeout(t,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};z.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,t()}async runWatchLoop(t){const e=this.attachmentMap.get(t);if(!e)throw new T(S.ErrDocumentNotAttached,`${t} is not attached`);return this.conditions.WatchLoop=!0,e.runWatchLoop(r=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new T(S.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(t))return this.conditions.WatchLoop=!1,Promise.reject(new T(S.ErrDocumentNotAttached,`${t} is not attached`));const i=new AbortController;return e.resource instanceof aa?this.createDocumentWatchStream(e,t,i,r):e.resource instanceof Pa?this.createPresenceWatchStream(e,t,i,r):Promise.reject(new T(S.ErrClientNotActivated,`Unknown resource type for ${t}`))})}createDocumentWatchStream(t,e,r,i){const a=this.rpcClient.watchDocument({clientId:this.id,documentId:t.resourceID},{headers:{"x-shard-key":`${this.apiKey}/${e}`},signal:r.signal});return t.resource.publish([{type:Rt.ConnectionChanged,value:wo.Connected}]),z.info(`[WD] c:"${this.getKey()}" watches d:"${e}"`),t.changeEventReceived!==void 0&&(t.changeEventReceived=!0),new Promise((s,o)=>{(async()=>{try{for await(const c of a)this.handleWatchDocumentResponse(t,c),c.body.case==="initialization"&&s([a,r]);t.resource.resetOnlineClients(),t.resource.publish([{type:Rt.Initialized,source:gt.Local,value:t.resource.getPresences()}]),t.resource.publish([{type:Rt.ConnectionChanged,value:wo.Disconnected}]),z.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`),i()}catch(c){t.resource.resetOnlineClients(),t.resource.publish([{type:Rt.Initialized,source:gt.Local,value:t.resource.getPresences()}]),t.resource.publish([{type:Rt.ConnectionChanged,value:wo.Disconnected}]),z.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(c)?(wf(c,S.ErrUnauthenticated)&&t.resource.publish([{type:Rt.AuthError,value:{reason:_s(c).reason,method:"WatchDocument"}}]),i()):this.conditions.WatchLoop=!1,o(c)}})()})}createPresenceWatchStream(t,e,r,i){const a=this.rpcClient.watchPresence({clientId:this.id,presenceKey:e},{headers:{"x-shard-key":`${this.apiKey}/${e}`},signal:r.signal});return z.info(`[WP] c:"${this.getKey()}" watches p:"${e}"`),new Promise((s,o)=>{(async()=>{try{let c=!0;for await(const h of a)this.handleWatchPresenceResponse(t,h),c&&(c=!1,s([a,r]));z.debug(`[WP] c:"${this.getKey()}" p:"${e}" stream ended`),i()}catch(c){if(c instanceof Error&&c.name==="AbortError"){z.debug(`[WP] c:"${this.getKey()}" p:"${e}" stream aborted`);return}z.debug(`[WP] c:"${this.getKey()}" p:"${e}" err:`,c),await this.handleConnectError(c)?i():this.conditions.WatchLoop=!1,o(c)}})()})}handleWatchPresenceResponse(t,e){if(e.body.case==="initialized"){const{count:r,seq:i}=e.body.value;t.resource.updateCount(Number(r),Number(i))&&t.resource.publish({type:oc.Initialized,count:Number(r)})}else if(e.body.case==="event"){const{count:r,seq:i}=e.body.value;t.resource.updateCount(Number(r),Number(i))&&t.resource.publish({type:oc.Changed,count:Number(r)})}}handleWatchDocumentResponse(t,e){if(e.body.case==="event"&&e.body.value.type===ma.DOCUMENT_CHANGED){t.changeEventReceived!==void 0&&(t.changeEventReceived=!0);return}t.resource.applyWatchStream(e)}deactivateInternal(){this.status="deactivated";for(const[t,e]of this.attachmentMap)this.detachInternal(t),e.resource instanceof aa?e.resource.applyStatus(wi.Detached):e.resource instanceof Pa&&e.resource.applyStatus(Ws.Detached)}detachInternal(t){var r;const e=this.attachmentMap.get(t);e&&(e.cancelWatchStream(),e.resource instanceof aa&&e.resource.resetOnlineClients(),(r=e.unsubscribeBroadcastEvent)==null||r.call(e),this.attachmentMap.delete(t))}async syncInternal(t,e){const{resource:r}=t;if(r instanceof Pa){try{await this.rpcClient.refreshPresence({clientId:this.id,presenceId:r.getPresenceID(),presenceKey:r.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${r.getKey()}`}}),t.updateHeartbeatTime(),z.debug(`[RP] c:"${this.getKey()}" refreshes p:"${r.getKey()}"`)}catch(o){throw z.error(`[RP] c:"${this.getKey()}" err :`,o),o}return r}const i=r,{resourceID:a}=t,s=i.createChangePack();try{const o=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:a,changePack:St.toChangePack(s),pushOnly:e==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),u=St.fromChangePack(o.changePack);if(u.hasChanges()&&(t.syncMode==="realtime-pushonly"||t.syncMode==="realtime-syncoff"))return i;i.applyChangePack(u),t.resource.publish([{type:Rt.SyncStatusChanged,value:ad.Synced}]),i.getStatus()===wi.Removed&&this.detachInternal(i.getKey());const c=i.getKey(),h=u.getChangeSize();return z.info(`[PP] c:"${this.getKey()}" sync d:"${c}", push:${s.getChangeSize()} pull:${h} cp:${u.getCheckpoint().toTestString()}`),i}catch(o){throw i.publish([{type:Rt.SyncStatusChanged,value:ad.SyncFailed}]),z.error(`[PP] c:"${this.getKey()}" err :`,o),o}}async handleConnectError(t){if(!(t instanceof ot))return!1;if(t.code===X.Canceled||t.code===X.Unknown||t.code===X.ResourceExhausted||t.code===X.Unavailable)return!0;if(Ja(t)===S.ErrUnauthenticated){if(this.authTokenInjector){const e=await this.authTokenInjector(_s(t).reason);this.setAuthToken(e)}return!0}return Ja(t)===S.ErrTooManySubscribers?(z.error(`[WD] c:"${this.getKey()}" err :`,t.rawMessage),!0):(Ja(t)===S.ErrTooManyAttachments||(Ja(t)===S.ErrClientNotActivated||Ja(t)===S.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(t){return new Promise((e,r)=>{this.taskQueue.push(()=>t().then(e).catch(r)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{z.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}On.Int,On.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:iT,Document:aa,Primitive:vt,Text:wg,Counter:Ag,Tree:xg,Presence:Pa,PresenceEventType:oc,LogLevel:ae,setLogLevel:VE,IntType:On.Int,LongType:On.Long});const hN="@yorkie-js/react",dN="0.6.29",Zy={name:hN,version:dN};ct.createContext({client:void 0,loading:!0,error:void 0});function gN(n){const[t,e]=ct.useState(void 0),[r,i]=ct.useState(!0),[a,s]=ct.useState(void 0),[o,u]=ct.useState(!1);return ct.useEffect(()=>{u(!0)},[]),ct.useEffect(()=>{i(!0),s(void 0);async function c(){if(o)try{const h=new iT(n);await h.activate(),e(h)}catch(h){s(h instanceof Error?h:new Error("Failed to activate client"))}finally{i(!1)}}return c(),()=>{t!=null&&t.isActive()&&t.deactivate({keepalive:!0})}},[n.apiKey,n.rpcAddr,o]),{client:t,loading:r,error:a}}function mN(n){const t=new Set;let e=n;const r=()=>{t.forEach(u=>u(e))};return{subscribe:u=>(t.add(u),()=>t.delete(u)),getSnapshot:()=>e,setState:u=>{const c=e;e=typeof u=="function"?u(c):u,c!==e&&r()},destroy:()=>{t.clear()}}}const yN=n=>mN(n);function pN(n,t,e=Object.is){const r=ct.useRef(t),i=ct.useRef(e),a=ct.useRef(void 0);r.current=t,i.current=e;const s=()=>{const o=n.getSnapshot(),u=r.current?r.current(o):o;return a.current!==void 0&&i.current(a.current,u)?a.current:(a.current=u,u)};return ct.useSyncExternalStore(n.subscribe,s,s)}function vN(n,t,e,r,i,a,s){const o=ct.useRef(i),u=ct.useRef(a),[c,h]=ct.useState(!1);ct.useEffect(()=>{h(!0)},[]),ct.useEffect(()=>{if(e){s.setState(b=>({...b,loading:!1,error:e}));return}if(!n||t||!c){s.setState(b=>({...b,loading:!0}));return}s.setState(b=>({...b,loading:!0,error:void 0}));const m=new aa(r),d=[];d.push(m.subscribe(()=>{s.setState(b=>({...b,root:m.getRoot()}))})),d.push(m.subscribe("presence",()=>{s.setState(b=>({...b,presences:m.getPresences()}))})),d.push(m.subscribe("connection",b=>{s.setState(A=>({...A,connection:b.value}))}));async function g(){try{await(n==null?void 0:n.attach(m,{initialRoot:o.current,initialPresence:u.current}));const b=A=>{try{m.update(A)}catch(x){s.setState(p=>({...p,error:x instanceof Error?x:new Error("Failed to update document")}))}};s.setState(A=>({...A,doc:m,root:m.getRoot(),presences:m.getPresences(),update:b}))}catch(b){s.setState(A=>({...A,error:b instanceof Error?b:new Error("Failed to attach document")}))}finally{s.setState(b=>({...b,loading:!1}))}}return g(),()=>{n&&n.has(r)&&n.detach(m);for(const b of d)b()}},[n,t,e,r,s,c])}ct.createContext(void 0);function SN(n,t,e){const r=ct.useRef(void 0);r.current||(r.current=yN({doc:void 0,root:(e==null?void 0:e.initialRoot)??{},presences:[],connection:wo.Disconnected,update:()=>{},loading:!0,error:void 0}));const i=r.current,a=ct.useMemo(()=>({apiKey:n,userAgent:Zy.name+"/"+Zy.version,...e}),[n,e]),{client:s,loading:o,error:u}=gN(a);vN(s,o,u,t,(e==null?void 0:e.initialRoot)??{},(e==null?void 0:e.initialPresence)??{},i);const c=pN(i);return{root:c.root,presences:c.presences,connection:c.connection,update:c.update,loading:c.loading,error:c.error}}function TN(n){const{root:t,update:e,loading:r,error:i}=SN("D6sd9E5ehtXBssmeRZ4QQP",`react-todomvc-${new Date().toISOString().substring(0,10).replace(/-/g,"")}`,{initialRoot:n}),a=ct.useCallback(s=>{e(o=>{h1(o,s)})},[e]);return{root:t,dispatch:a,loading:r,error:i}}const bN={todos:[{id:crypto.randomUUID(),text:"Yorkie JS SDK",completed:!1},{id:crypto.randomUUID(),text:"Garbage collection",completed:!1},{id:crypto.randomUUID(),text:"RichText datatype",completed:!1}]};function wN(){const{root:n,dispatch:t,loading:e,error:r}=TN(bN);return e?W.jsx("div",{children:"Loading..."}):r?W.jsxs("div",{children:["Error: ",r.message]}):W.jsxs("div",{className:"App",children:[W.jsx(s1,{dispatch:t}),W.jsx(f1,{todos:n.todos,dispatch:t})]})}i1.createRoot(document.getElementById("root")).render(W.jsx(ct.StrictMode,{children:W.jsx(wN,{})}));
