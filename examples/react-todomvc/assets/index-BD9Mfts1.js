(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();function yb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var cf={exports:{}},Ss={};var By;function wA(){if(By)return Ss;By=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(r,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:h,ref:o!==void 0?o:null,props:c}}return Ss.Fragment=e,Ss.jsx=a,Ss.jsxs=a,Ss}var Uy;function OA(){return Uy||(Uy=1,cf.exports=wA()),cf.exports}var Ce=OA(),ff={exports:{}},As={},hf={exports:{}},df={};var Ly;function VA(){return Ly||(Ly=1,(function(i){function e(L,K){var ne=L.length;L.push(K);e:for(;0<ne;){var Be=ne-1>>>1,Ze=L[Be];if(0<o(Ze,K))L[Be]=K,L[ne]=Ze,ne=Be;else break e}}function a(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var K=L[0],ne=L.pop();if(ne!==K){L[0]=ne;e:for(var Be=0,Ze=L.length,E=Ze>>>1;Be<E;){var Y=2*(Be+1)-1,W=L[Y],J=Y+1,se=L[J];if(0>o(W,ne))J<Ze&&0>o(se,W)?(L[Be]=se,L[J]=ne,Be=J):(L[Be]=W,L[Y]=ne,Be=Y);else if(J<Ze&&0>o(se,ne))L[Be]=se,L[J]=ne,Be=J;else break e}}return K}function o(L,K){var ne=L.sortIndex-K.sortIndex;return ne!==0?ne:L.id-K.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var m=[],y=[],v=1,T=null,V=3,I=!1,B=!1,G=!1,j=!1,q=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function he(L){for(var K=a(y);K!==null;){if(K.callback===null)r(y);else if(K.startTime<=L)r(y),K.sortIndex=K.expirationTime,e(m,K);else break;K=a(y)}}function ie(L){if(G=!1,he(L),!B)if(a(m)!==null)B=!0,Ae||(Ae=!0,rt());else{var K=a(y);K!==null&&yn(ie,K.startTime-L)}}var Ae=!1,k=-1,ve=5,Nt=-1;function mn(){return j?!0:!(i.unstable_now()-Nt<ve)}function Yt(){if(j=!1,Ae){var L=i.unstable_now();Nt=L;var K=!0;try{e:{B=!1,G&&(G=!1,Ee(k),k=-1),I=!0;var ne=V;try{t:{for(he(L),T=a(m);T!==null&&!(T.expirationTime>L&&mn());){var Be=T.callback;if(typeof Be=="function"){T.callback=null,V=T.priorityLevel;var Ze=Be(T.expirationTime<=L);if(L=i.unstable_now(),typeof Ze=="function"){T.callback=Ze,he(L),K=!0;break t}T===a(m)&&r(m),he(L)}else r(m);T=a(m)}if(T!==null)K=!0;else{var E=a(y);E!==null&&yn(ie,E.startTime-L),K=!1}}break e}finally{T=null,V=ne,I=!1}K=void 0}}finally{K?rt():Ae=!1}}}var rt;if(typeof te=="function")rt=function(){te(Yt)};else if(typeof MessageChannel<"u"){var ji=new MessageChannel,Gn=ji.port2;ji.port1.onmessage=Yt,rt=function(){Gn.postMessage(null)}}else rt=function(){q(Yt,0)};function yn(L,K){k=q(function(){L(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return V},i.unstable_next=function(L){switch(V){case 1:case 2:case 3:var K=3;break;default:K=V}var ne=V;V=K;try{return L()}finally{V=ne}},i.unstable_requestPaint=function(){j=!0},i.unstable_runWithPriority=function(L,K){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ne=V;V=L;try{return K()}finally{V=ne}},i.unstable_scheduleCallback=function(L,K,ne){var Be=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Be+ne:Be):ne=Be,L){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=ne+Ze,L={id:v++,callback:K,priorityLevel:L,startTime:ne,expirationTime:Ze,sortIndex:-1},ne>Be?(L.sortIndex=ne,e(y,L),a(m)===null&&L===a(y)&&(G?(Ee(k),k=-1):G=!0,yn(ie,ne-Be))):(L.sortIndex=Ze,e(m,L),B||I||(B=!0,Ae||(Ae=!0,rt()))),L},i.unstable_shouldYield=mn,i.unstable_wrapCallback=function(L){var K=V;return function(){var ne=V;V=K;try{return L.apply(this,arguments)}finally{V=ne}}}})(df)),df}var My;function xA(){return My||(My=1,hf.exports=VA()),hf.exports}var gf={exports:{}},re={};var Zy;function BA(){if(Zy)return re;Zy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),V=Symbol.iterator;function I(E){return E===null||typeof E!="object"?null:(E=V&&E[V]||E["@@iterator"],typeof E=="function"?E:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,j={};function q(E,Y,W){this.props=E,this.context=Y,this.refs=j,this.updater=W||B}q.prototype.isReactComponent={},q.prototype.setState=function(E,Y){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,Y,"setState")},q.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function Ee(){}Ee.prototype=q.prototype;function te(E,Y,W){this.props=E,this.context=Y,this.refs=j,this.updater=W||B}var he=te.prototype=new Ee;he.constructor=te,G(he,q.prototype),he.isPureReactComponent=!0;var ie=Array.isArray;function Ae(){}var k={H:null,A:null,T:null,S:null},ve=Object.prototype.hasOwnProperty;function Nt(E,Y,W){var J=W.ref;return{$$typeof:i,type:E,key:Y,ref:J!==void 0?J:null,props:W}}function mn(E,Y){return Nt(E.type,Y,E.props)}function Yt(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function rt(E){var Y={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(W){return Y[W]})}var ji=/\/+/g;function Gn(E,Y){return typeof E=="object"&&E!==null&&E.key!=null?rt(""+E.key):Y.toString(36)}function yn(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(Ae,Ae):(E.status="pending",E.then(function(Y){E.status==="pending"&&(E.status="fulfilled",E.value=Y)},function(Y){E.status==="pending"&&(E.status="rejected",E.reason=Y)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function L(E,Y,W,J,se){var de=typeof E;(de==="undefined"||de==="boolean")&&(E=null);var De=!1;if(E===null)De=!0;else switch(de){case"bigint":case"string":case"number":De=!0;break;case"object":switch(E.$$typeof){case i:case e:De=!0;break;case v:return De=E._init,L(De(E._payload),Y,W,J,se)}}if(De)return se=se(E),De=J===""?"."+Gn(E,0):J,ie(se)?(W="",De!=null&&(W=De.replace(ji,"$&/")+"/"),L(se,Y,W,"",function(Cr){return Cr})):se!=null&&(Yt(se)&&(se=mn(se,W+(se.key==null||E&&E.key===se.key?"":(""+se.key).replace(ji,"$&/")+"/")+De)),Y.push(se)),1;De=0;var Tt=J===""?".":J+":";if(ie(E))for(var Qe=0;Qe<E.length;Qe++)J=E[Qe],de=Tt+Gn(J,Qe),De+=L(J,Y,W,de,se);else if(Qe=I(E),typeof Qe=="function")for(E=Qe.call(E),Qe=0;!(J=E.next()).done;)J=J.value,de=Tt+Gn(J,Qe++),De+=L(J,Y,W,de,se);else if(de==="object"){if(typeof E.then=="function")return L(yn(E),Y,W,J,se);throw Y=String(E),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return De}function K(E,Y,W){if(E==null)return E;var J=[],se=0;return L(E,J,"","",function(de){return Y.call(W,de,se++)}),J}function ne(E){if(E._status===-1){var Y=E._result;Y=Y(),Y.then(function(W){(E._status===0||E._status===-1)&&(E._status=1,E._result=W)},function(W){(E._status===0||E._status===-1)&&(E._status=2,E._result=W)}),E._status===-1&&(E._status=0,E._result=Y)}if(E._status===1)return E._result.default;throw E._result}var Be=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},Ze={map:K,forEach:function(E,Y,W){K(E,function(){Y.apply(this,arguments)},W)},count:function(E){var Y=0;return K(E,function(){Y++}),Y},toArray:function(E){return K(E,function(Y){return Y})||[]},only:function(E){if(!Yt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return re.Activity=T,re.Children=Ze,re.Component=q,re.Fragment=a,re.Profiler=o,re.PureComponent=te,re.StrictMode=r,re.Suspense=m,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,re.__COMPILER_RUNTIME={__proto__:null,c:function(E){return k.H.useMemoCache(E)}},re.cache=function(E){return function(){return E.apply(null,arguments)}},re.cacheSignal=function(){return null},re.cloneElement=function(E,Y,W){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var J=G({},E.props),se=E.key;if(Y!=null)for(de in Y.key!==void 0&&(se=""+Y.key),Y)!ve.call(Y,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&Y.ref===void 0||(J[de]=Y[de]);var de=arguments.length-2;if(de===1)J.children=W;else if(1<de){for(var De=Array(de),Tt=0;Tt<de;Tt++)De[Tt]=arguments[Tt+2];J.children=De}return Nt(E.type,se,J)},re.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},re.createElement=function(E,Y,W){var J,se={},de=null;if(Y!=null)for(J in Y.key!==void 0&&(de=""+Y.key),Y)ve.call(Y,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(se[J]=Y[J]);var De=arguments.length-2;if(De===1)se.children=W;else if(1<De){for(var Tt=Array(De),Qe=0;Qe<De;Qe++)Tt[Qe]=arguments[Qe+2];se.children=Tt}if(E&&E.defaultProps)for(J in De=E.defaultProps,De)se[J]===void 0&&(se[J]=De[J]);return Nt(E,de,se)},re.createRef=function(){return{current:null}},re.forwardRef=function(E){return{$$typeof:d,render:E}},re.isValidElement=Yt,re.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:ne}},re.memo=function(E,Y){return{$$typeof:y,type:E,compare:Y===void 0?null:Y}},re.startTransition=function(E){var Y=k.T,W={};k.T=W;try{var J=E(),se=k.S;se!==null&&se(W,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Ae,Be)}catch(de){Be(de)}finally{Y!==null&&W.types!==null&&(Y.types=W.types),k.T=Y}},re.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},re.use=function(E){return k.H.use(E)},re.useActionState=function(E,Y,W){return k.H.useActionState(E,Y,W)},re.useCallback=function(E,Y){return k.H.useCallback(E,Y)},re.useContext=function(E){return k.H.useContext(E)},re.useDebugValue=function(){},re.useDeferredValue=function(E,Y){return k.H.useDeferredValue(E,Y)},re.useEffect=function(E,Y){return k.H.useEffect(E,Y)},re.useEffectEvent=function(E){return k.H.useEffectEvent(E)},re.useId=function(){return k.H.useId()},re.useImperativeHandle=function(E,Y,W){return k.H.useImperativeHandle(E,Y,W)},re.useInsertionEffect=function(E,Y){return k.H.useInsertionEffect(E,Y)},re.useLayoutEffect=function(E,Y){return k.H.useLayoutEffect(E,Y)},re.useMemo=function(E,Y){return k.H.useMemo(E,Y)},re.useOptimistic=function(E,Y){return k.H.useOptimistic(E,Y)},re.useReducer=function(E,Y,W){return k.H.useReducer(E,Y,W)},re.useRef=function(E){return k.H.useRef(E)},re.useState=function(E){return k.H.useState(E)},re.useSyncExternalStore=function(E,Y,W){return k.H.useSyncExternalStore(E,Y,W)},re.useTransition=function(){return k.H.useTransition()},re.version="19.2.1",re}var Yy;function Kf(){return Yy||(Yy=1,gf.exports=BA()),gf.exports}var mf={exports:{}},bt={};var Gy;function UA(){if(Gy)return bt;Gy=1;var i=Kf();function e(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,y,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:y,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,bt.createPortal=function(m,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(m,y,null,v)},bt.flushSync=function(m){var y=h.T,v=r.p;try{if(h.T=null,r.p=2,m)return m()}finally{h.T=y,r.p=v,r.d.f()}},bt.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(m,y))},bt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},bt.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var v=y.as,T=d(v,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,I=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?r.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:V,fetchPriority:I}):v==="script"&&r.d.X(m,{crossOrigin:T,integrity:V,fetchPriority:I,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},bt.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=d(y.as,y.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(m)},bt.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,T=d(v,y.crossOrigin);r.d.L(m,v,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},bt.preloadModule=function(m,y){if(typeof m=="string")if(y){var v=d(y.as,y.crossOrigin);r.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(m)},bt.requestFormReset=function(m){r.d.r(m)},bt.unstable_batchedUpdates=function(m,y){return m(y)},bt.useFormState=function(m,y,v){return h.H.useFormState(m,y,v)},bt.useFormStatus=function(){return h.H.useHostTransitionStatus()},bt.version="19.2.1",bt}var zy;function LA(){if(zy)return mf.exports;zy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mf.exports=UA(),mf.exports}var _y;function MA(){if(_y)return As;_y=1;var i=xA(),e=Kf(),a=LA();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var u=s.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){s=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===s)return m(u),t;if(f===l)return m(u),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=u,l=f;else{for(var g=!1,p=u.child;p;){if(p===s){g=!0,s=u,l=f;break}if(p===l){g=!0,l=u,s=f;break}p=p.sibling}if(!g){for(p=f.child;p;){if(p===s){g=!0,s=f,l=u;break}if(p===l){g=!0,l=f,s=u;break}p=p.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,V=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),te=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),Nt=Symbol.for("react.activity"),mn=Symbol.for("react.memo_cache_sentinel"),Yt=Symbol.iterator;function rt(t){return t===null||typeof t!="object"?null:(t=Yt&&t[Yt]||t["@@iterator"],typeof t=="function"?t:null)}var ji=Symbol.for("react.client.reference");function Gn(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ji?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case q:return"Profiler";case j:return"StrictMode";case ie:return"Suspense";case Ae:return"SuspenseList";case Nt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case te:return t.displayName||"Context";case Ee:return(t._context.displayName||"Context")+".Consumer";case he:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return n=t.displayName||null,n!==null?n:Gn(t.type)||"Memo";case ve:n=t._payload,t=t._init;try{return Gn(t(n))}catch{}}return null}var yn=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Be=[],Ze=-1;function E(t){return{current:t}}function Y(t){0>Ze||(t.current=Be[Ze],Be[Ze]=null,Ze--)}function W(t,n){Ze++,Be[Ze]=t.current,t.current=n}var J=E(null),se=E(null),de=E(null),De=E(null);function Tt(t,n){switch(W(de,n),W(se,t),W(J,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ny(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ny(n),t=iy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(J),W(J,t)}function Qe(){Y(J),Y(se),Y(de)}function Cr(t){t.memoizedState!==null&&W(De,t);var n=J.current,s=iy(n,t.type);n!==s&&(W(se,t),W(J,s))}function Hs(t){se.current===t&&(Y(J),Y(se)),De.current===t&&(Y(De),ys._currentValue=ne)}var ko,xh;function Fi(t){if(ko===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ko=n&&n[1]||"",xh=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ko+t+xh}var Jo=!1;function jo(t,n){if(!t||Jo)return"";Jo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(x){var O=x}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(x){O=x}t.call(Z.prototype)}}else{try{throw Error()}catch(x){O=x}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(x){if(x&&O&&typeof x.stack=="string")return[x.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],p=f[1];if(g&&p){var b=g.split(`
`),w=p.split(`
`);for(u=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;u<w.length&&!w[u].includes("DetermineComponentFrameRoot");)u++;if(l===b.length||u===w.length)for(l=b.length-1,u=w.length-1;1<=l&&0<=u&&b[l]!==w[u];)u--;for(;1<=l&&0<=u;l--,u--)if(b[l]!==w[u]){if(l!==1||u!==1)do if(l--,u--,0>u||b[l]!==w[u]){var U=`
`+b[l].replace(" at new "," at ");return t.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",t.displayName)),U}while(1<=l&&0<=u);break}}}finally{Jo=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Fi(s):""}function s0(t,n){switch(t.tag){case 26:case 27:case 5:return Fi(t.type);case 16:return Fi("Lazy");case 13:return t.child!==n&&n!==null?Fi("Suspense Fallback"):Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return jo(t.type,!1);case 11:return jo(t.type.render,!1);case 1:return jo(t.type,!0);case 31:return Fi("Activity");default:return""}}function Bh(t){try{var n="",s=null;do n+=s0(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Fo=Object.prototype.hasOwnProperty,Ho=i.unstable_scheduleCallback,Qo=i.unstable_cancelCallback,l0=i.unstable_shouldYield,o0=i.unstable_requestPaint,Gt=i.unstable_now,u0=i.unstable_getCurrentPriorityLevel,Uh=i.unstable_ImmediatePriority,Lh=i.unstable_UserBlockingPriority,Qs=i.unstable_NormalPriority,c0=i.unstable_LowPriority,Mh=i.unstable_IdlePriority,f0=i.log,h0=i.unstable_setDisableYieldValue,Dr=null,zt=null;function hi(t){if(typeof f0=="function"&&h0(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Dr,t)}catch{}}var _t=Math.clz32?Math.clz32:m0,d0=Math.log,g0=Math.LN2;function m0(t){return t>>>=0,t===0?32:31-(d0(t)/g0|0)|0}var $s=256,Ps=262144,qs=4194304;function Hi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function el(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var u=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var p=l&134217727;return p!==0?(l=p&~f,l!==0?u=Hi(l):(g&=p,g!==0?u=Hi(g):s||(s=p&~t,s!==0&&(u=Hi(s))))):(p=l&~f,p!==0?u=Hi(p):g!==0?u=Hi(g):s||(s=l&~t,s!==0&&(u=Hi(s)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:u}function wr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function y0(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zh(){var t=qs;return qs<<=1,(qs&62914560)===0&&(qs=4194304),t}function $o(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Or(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function p0(t,n,s,l,u,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var p=t.entanglements,b=t.expirationTimes,w=t.hiddenUpdates;for(s=g&~s;0<s;){var U=31-_t(s),Z=1<<U;p[U]=0,b[U]=-1;var O=w[U];if(O!==null)for(w[U]=null,U=0;U<O.length;U++){var x=O[U];x!==null&&(x.lane&=-536870913)}s&=~Z}l!==0&&Yh(t,l,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Yh(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-_t(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Gh(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-_t(s),u=1<<l;u&n|t[l]&n&&(t[l]|=n),s&=~u}}function zh(t,n){var s=n&-n;return s=(s&42)!==0?1:Po(s),(s&(t.suspendedLanes|n))!==0?0:s}function Po(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _h(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Iy(t.type))}function Kh(t,n){var s=K.p;try{return K.p=t,n()}finally{K.p=s}}var di=Math.random().toString(36).slice(2),ct="__reactFiber$"+di,It="__reactProps$"+di,Aa="__reactContainer$"+di,eu="__reactEvents$"+di,b0="__reactListeners$"+di,v0="__reactHandles$"+di,Wh="__reactResources$"+di,Vr="__reactMarker$"+di;function tu(t){delete t[ct],delete t[It],delete t[eu],delete t[b0],delete t[v0]}function Ea(t){var n=t[ct];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Aa]||s[ct]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=cy(t);t!==null;){if(s=t[ct])return s;t=cy(t)}return n}t=s,s=t.parentNode}return null}function Na(t){if(t=t[ct]||t[Aa]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function xr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ta(t){var n=t[Wh];return n||(n=t[Wh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function lt(t){t[Vr]=!0}var Xh=new Set,kh={};function Qi(t,n){Ra(t,n),Ra(t+"Capture",n)}function Ra(t,n){for(kh[t]=n,t=0;t<n.length;t++)Xh.add(n[t])}var S0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jh={},jh={};function A0(t){return Fo.call(jh,t)?!0:Fo.call(Jh,t)?!1:S0.test(t)?jh[t]=!0:(Jh[t]=!0,!1)}function tl(t,n,s){if(A0(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function nl(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function zn(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fh(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function E0(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function nu(t){if(!t._valueTracker){var n=Fh(t)?"checked":"value";t._valueTracker=E0(t,n,""+t[n])}}function Hh(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Fh(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function il(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var N0=/[\n"\\]/g;function Pt(t){return t.replace(N0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function iu(t,n,s,l,u,f,g,p){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$t(n)):t.value!==""+$t(n)&&(t.value=""+$t(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?au(t,g,$t(n)):s!=null?au(t,g,$t(s)):l!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.name=""+$t(p):t.removeAttribute("name")}function Qh(t,n,s,l,u,f,g,p){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){nu(t);return}s=s!=null?""+$t(s):"",n=n!=null?""+$t(n):s,p||n===t.value||(t.value=n),t.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=p?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),nu(t)}function au(t,n,s){n==="number"&&il(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ia(t,n,s,l){if(t=t.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<t.length;s++)u=n.hasOwnProperty("$"+t[s].value),t[s].selected!==u&&(t[s].selected=u),u&&l&&(t[s].defaultSelected=!0)}else{for(s=""+$t(s),n=null,u=0;u<t.length;u++){if(t[u].value===s){t[u].selected=!0,l&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function $h(t,n,s){if(n!=null&&(n=""+$t(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+$t(s):""}function Ph(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(yn(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=$t(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),nu(t)}function Ca(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var T0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qh(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||T0.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function ed(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&s[u]!==l&&qh(t,u,l)}else for(var f in n)n.hasOwnProperty(f)&&qh(t,f,n[f])}function ru(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),I0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(t){return I0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function _n(){}var su=null;function lu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Da=null,wa=null;function td(t){var n=Na(t);if(n&&(t=n.stateNode)){var s=t[It]||null;e:switch(t=n.stateNode,n.type){case"input":if(iu(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Pt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var u=l[It]||null;if(!u)throw Error(r(90));iu(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Hh(l)}break e;case"textarea":$h(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Ia(t,!!s.multiple,n,!1)}}}var ou=!1;function nd(t,n,s){if(ou)return t(n,s);ou=!0;try{var l=t(n);return l}finally{if(ou=!1,(Da!==null||wa!==null)&&(kl(),Da&&(n=Da,t=wa,wa=Da=null,td(n),t)))for(n=0;n<t.length;n++)td(t[n])}}function Br(t,n){var s=t.stateNode;if(s===null)return null;var l=s[It]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uu=!1;if(Kn)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){uu=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{uu=!1}var gi=null,cu=null,rl=null;function id(){if(rl)return rl;var t,n=cu,s=n.length,l,u="value"in gi?gi.value:gi.textContent,f=u.length;for(t=0;t<s&&n[t]===u[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===u[f-l];l++);return rl=u.slice(t,1<l?1-l:void 0)}function sl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ll(){return!0}function ad(){return!1}function Ct(t){function n(s,l,u,f,g){this._reactName=s,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var p in t)t.hasOwnProperty(p)&&(s=t[p],this[p]=s?s(f):f[p]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ll:ad,this.isPropagationStopped=ad,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=Ct($i),Lr=T({},$i,{view:0,detail:0}),C0=Ct(Lr),fu,hu,Mr,ul=T({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mr&&(Mr&&t.type==="mousemove"?(fu=t.screenX-Mr.screenX,hu=t.screenY-Mr.screenY):hu=fu=0,Mr=t),fu)},movementY:function(t){return"movementY"in t?t.movementY:hu}}),rd=Ct(ul),D0=T({},ul,{dataTransfer:0}),w0=Ct(D0),O0=T({},Lr,{relatedTarget:0}),du=Ct(O0),V0=T({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),x0=Ct(V0),B0=T({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),U0=Ct(B0),L0=T({},$i,{data:0}),sd=Ct(L0),M0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G0(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Y0[t])?!!n[t]:!1}function gu(){return G0}var z0=T({},Lr,{key:function(t){if(t.key){var n=M0[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=sl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Z0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(t){return t.type==="keypress"?sl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_0=Ct(z0),K0=T({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ld=Ct(K0),W0=T({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),X0=Ct(W0),k0=T({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),J0=Ct(k0),j0=T({},ul,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F0=Ct(j0),H0=T({},$i,{newState:0,oldState:0}),Q0=Ct(H0),$0=[9,13,27,32],mu=Kn&&"CompositionEvent"in window,Zr=null;Kn&&"documentMode"in document&&(Zr=document.documentMode);var P0=Kn&&"TextEvent"in window&&!Zr,od=Kn&&(!mu||Zr&&8<Zr&&11>=Zr),ud=" ",cd=!1;function fd(t,n){switch(t){case"keyup":return $0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function q0(t,n){switch(t){case"compositionend":return hd(n);case"keypress":return n.which!==32?null:(cd=!0,ud);case"textInput":return t=n.data,t===ud&&cd?null:t;default:return null}}function eS(t,n){if(Oa)return t==="compositionend"||!mu&&fd(t,n)?(t=id(),rl=cu=gi=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return od&&n.locale!=="ko"?null:n.data;default:return null}}var tS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!tS[t.type]:n==="textarea"}function gd(t,n,s,l){Da?wa?wa.push(l):wa=[l]:Da=l,n=Pl(n,"onChange"),0<n.length&&(s=new ol("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Yr=null,Gr=null;function nS(t){Qm(t,0)}function cl(t){var n=xr(t);if(Hh(n))return t}function md(t,n){if(t==="change")return n}var yd=!1;if(Kn){var yu;if(Kn){var pu="oninput"in document;if(!pu){var pd=document.createElement("div");pd.setAttribute("oninput","return;"),pu=typeof pd.oninput=="function"}yu=pu}else yu=!1;yd=yu&&(!document.documentMode||9<document.documentMode)}function bd(){Yr&&(Yr.detachEvent("onpropertychange",vd),Gr=Yr=null)}function vd(t){if(t.propertyName==="value"&&cl(Gr)){var n=[];gd(n,Gr,t,lu(t)),nd(nS,n)}}function iS(t,n,s){t==="focusin"?(bd(),Yr=n,Gr=s,Yr.attachEvent("onpropertychange",vd)):t==="focusout"&&bd()}function aS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cl(Gr)}function rS(t,n){if(t==="click")return cl(n)}function sS(t,n){if(t==="input"||t==="change")return cl(n)}function lS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Kt=typeof Object.is=="function"?Object.is:lS;function zr(t,n){if(Kt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var u=s[l];if(!Fo.call(n,u)||!Kt(t[u],n[u]))return!1}return!0}function Sd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ad(t,n){var s=Sd(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Sd(s)}}function Ed(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ed(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Nd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=il(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=il(t.document)}return n}function bu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var oS=Kn&&"documentMode"in document&&11>=document.documentMode,Va=null,vu=null,_r=null,Su=!1;function Td(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Su||Va==null||Va!==il(l)||(l=Va,"selectionStart"in l&&bu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_r&&zr(_r,l)||(_r=l,l=Pl(vu,"onSelect"),0<l.length&&(n=new ol("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Va)))}function Pi(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var xa={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionrun:Pi("Transition","TransitionRun"),transitionstart:Pi("Transition","TransitionStart"),transitioncancel:Pi("Transition","TransitionCancel"),transitionend:Pi("Transition","TransitionEnd")},Au={},Rd={};Kn&&(Rd=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function qi(t){if(Au[t])return Au[t];if(!xa[t])return t;var n=xa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Rd)return Au[t]=n[s];return t}var Id=qi("animationend"),Cd=qi("animationiteration"),Dd=qi("animationstart"),uS=qi("transitionrun"),cS=qi("transitionstart"),fS=qi("transitioncancel"),wd=qi("transitionend"),Od=new Map,Eu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eu.push("scrollEnd");function pn(t,n){Od.set(t,n),Qi(n,[t])}var fl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qt=[],Ba=0,Nu=0;function hl(){for(var t=Ba,n=Nu=Ba=0;n<t;){var s=qt[n];qt[n++]=null;var l=qt[n];qt[n++]=null;var u=qt[n];qt[n++]=null;var f=qt[n];if(qt[n++]=null,l!==null&&u!==null){var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}f!==0&&Vd(s,u,f)}}function dl(t,n,s,l){qt[Ba++]=t,qt[Ba++]=n,qt[Ba++]=s,qt[Ba++]=l,Nu|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Tu(t,n,s,l){return dl(t,n,s,l),gl(t)}function ea(t,n){return dl(t,null,null,n),gl(t)}function Vd(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var u=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&n!==null&&(u=31-_t(s),t=f.hiddenUpdates,l=t[u],l===null?t[u]=[n]:l.push(n),n.lane=s|536870912),f):null}function gl(t){if(50<us)throw us=0,Bc=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ua={};function hS(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,n,s,l){return new hS(t,n,s,l)}function Ru(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wn(t,n){var s=t.alternate;return s===null?(s=Wt(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function xd(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ml(t,n,s,l,u,f){var g=0;if(l=t,typeof t=="function")Ru(t)&&(g=1);else if(typeof t=="string")g=pA(t,s,J.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Nt:return t=Wt(31,s,n,u),t.elementType=Nt,t.lanes=f,t;case G:return ta(s.children,u,f,n);case j:g=8,u|=24;break;case q:return t=Wt(12,s,n,u|2),t.elementType=q,t.lanes=f,t;case ie:return t=Wt(13,s,n,u),t.elementType=ie,t.lanes=f,t;case Ae:return t=Wt(19,s,n,u),t.elementType=Ae,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:g=10;break e;case Ee:g=9;break e;case he:g=11;break e;case k:g=14;break e;case ve:g=16,l=null;break e}g=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Wt(g,s,n,u),n.elementType=t,n.type=l,n.lanes=f,n}function ta(t,n,s,l){return t=Wt(7,t,l,n),t.lanes=s,t}function Iu(t,n,s){return t=Wt(6,t,null,n),t.lanes=s,t}function Bd(t){var n=Wt(18,null,null,0);return n.stateNode=t,n}function Cu(t,n,s){return n=Wt(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ud=new WeakMap;function en(t,n){if(typeof t=="object"&&t!==null){var s=Ud.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Bh(n)},Ud.set(t,n),n)}return{value:t,source:n,stack:Bh(n)}}var La=[],Ma=0,yl=null,Kr=0,tn=[],nn=0,mi=null,Dn=1,wn="";function Xn(t,n){La[Ma++]=Kr,La[Ma++]=yl,yl=t,Kr=n}function Ld(t,n,s){tn[nn++]=Dn,tn[nn++]=wn,tn[nn++]=mi,mi=t;var l=Dn;t=wn;var u=32-_t(l)-1;l&=~(1<<u),s+=1;var f=32-_t(n)+u;if(30<f){var g=u-u%5;f=(l&(1<<g)-1).toString(32),l>>=g,u-=g,Dn=1<<32-_t(n)+u|s<<u|l,wn=f+t}else Dn=1<<f|s<<u|l,wn=t}function Du(t){t.return!==null&&(Xn(t,1),Ld(t,1,0))}function wu(t){for(;t===yl;)yl=La[--Ma],La[Ma]=null,Kr=La[--Ma],La[Ma]=null;for(;t===mi;)mi=tn[--nn],tn[nn]=null,wn=tn[--nn],tn[nn]=null,Dn=tn[--nn],tn[nn]=null}function Md(t,n){tn[nn++]=Dn,tn[nn++]=wn,tn[nn++]=mi,Dn=n.id,wn=n.overflow,mi=t}var ft=null,ze=null,Se=!1,yi=null,an=!1,Ou=Error(r(519));function pi(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wr(en(n,t)),Ou}function Zd(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[ct]=t,n[It]=l,s){case"dialog":me("cancel",n),me("close",n);break;case"iframe":case"object":case"embed":me("load",n);break;case"video":case"audio":for(s=0;s<fs.length;s++)me(fs[s],n);break;case"source":me("error",n);break;case"img":case"image":case"link":me("error",n),me("load",n);break;case"details":me("toggle",n);break;case"input":me("invalid",n),Qh(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":me("invalid",n);break;case"textarea":me("invalid",n),Ph(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||ey(n.textContent,s)?(l.popover!=null&&(me("beforetoggle",n),me("toggle",n)),l.onScroll!=null&&me("scroll",n),l.onScrollEnd!=null&&me("scrollend",n),l.onClick!=null&&(n.onclick=_n),n=!0):n=!1,n||pi(t,!0)}function Yd(t){for(ft=t.return;ft;)switch(ft.tag){case 5:case 31:case 13:an=!1;return;case 27:case 3:an=!0;return;default:ft=ft.return}}function Za(t){if(t!==ft)return!1;if(!Se)return Yd(t),Se=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Fc(t.type,t.memoizedProps)),s=!s),s&&ze&&pi(t),Yd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ze=uy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ze=uy(t)}else n===27?(n=ze,Vi(t.type)?(t=qc,qc=null,ze=t):ze=n):ze=ft?sn(t.stateNode.nextSibling):null;return!0}function na(){ze=ft=null,Se=!1}function Vu(){var t=yi;return t!==null&&(Vt===null?Vt=t:Vt.push.apply(Vt,t),yi=null),t}function Wr(t){yi===null?yi=[t]:yi.push(t)}var xu=E(null),ia=null,kn=null;function bi(t,n,s){W(xu,n._currentValue),n._currentValue=s}function Jn(t){t._currentValue=xu.current,Y(xu)}function Bu(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Uu(t,n,s,l){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var p=f;f=u;for(var b=0;b<n.length;b++)if(p.context===n[b]){f.lanes|=s,p=f.alternate,p!==null&&(p.lanes|=s),Bu(f.return,s,t),l||(g=null);break e}f=p.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Bu(g,s,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Ya(t,n,s,l){t=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var p=u.type;Kt(u.pendingProps.value,g.value)||(t!==null?t.push(p):t=[p])}}else if(u===De.current){if(g=u.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(ys):t=[ys])}u=u.return}t!==null&&Uu(n,t,s,l),n.flags|=262144}function pl(t){for(t=t.firstContext;t!==null;){if(!Kt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function aa(t){ia=t,kn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ht(t){return Gd(ia,t)}function bl(t,n){return ia===null&&aa(t),Gd(t,n)}function Gd(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},kn===null){if(t===null)throw Error(r(308));kn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else kn=kn.next=n;return s}var dS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},gS=i.unstable_scheduleCallback,mS=i.unstable_NormalPriority,tt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lu(){return{controller:new dS,data:new Map,refCount:0}}function Xr(t){t.refCount--,t.refCount===0&&gS(mS,function(){t.controller.abort()})}var kr=null,Mu=0,Ga=0,za=null;function yS(t,n){if(kr===null){var s=kr=[];Mu=0,Ga=Gc(),za={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Mu++,n.then(zd,zd),n}function zd(){if(--Mu===0&&kr!==null){za!==null&&(za.status="fulfilled");var t=kr;kr=null,Ga=0,za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function pS(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<s.length;u++)(0,s[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),l}var _d=L.S;L.S=function(t,n){Tm=Gt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&yS(t,n),_d!==null&&_d(t,n)};var ra=E(null);function Zu(){var t=ra.current;return t!==null?t:Ye.pooledCache}function vl(t,n){n===null?W(ra,ra.current):W(ra,n.pool)}function Kd(){var t=Zu();return t===null?null:{parent:tt._currentValue,pool:t}}var _a=Error(r(460)),Yu=Error(r(474)),Sl=Error(r(542)),Al={then:function(){}};function Wd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xd(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(_n,_n),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jd(t),t;default:if(typeof n.status=="string")n.then(_n,_n);else{if(t=Ye,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jd(t),t}throw la=n,_a}}function sa(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(la=s,_a):s}}var la=null;function kd(){if(la===null)throw Error(r(459));var t=la;return la=null,t}function Jd(t){if(t===_a||t===Sl)throw Error(r(483))}var Ka=null,Jr=0;function El(t){var n=Jr;return Jr+=1,Ka===null&&(Ka=[]),Xd(Ka,t,n)}function jr(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Nl(t,n){throw n.$$typeof===V?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function jd(t){function n(R,S){if(t){var D=R.deletions;D===null?(R.deletions=[S],R.flags|=16):D.push(S)}}function s(R,S){if(!t)return null;for(;S!==null;)n(R,S),S=S.sibling;return null}function l(R){for(var S=new Map;R!==null;)R.key!==null?S.set(R.key,R):S.set(R.index,R),R=R.sibling;return S}function u(R,S){return R=Wn(R,S),R.index=0,R.sibling=null,R}function f(R,S,D){return R.index=D,t?(D=R.alternate,D!==null?(D=D.index,D<S?(R.flags|=67108866,S):D):(R.flags|=67108866,S)):(R.flags|=1048576,S)}function g(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function p(R,S,D,M){return S===null||S.tag!==6?(S=Iu(D,R.mode,M),S.return=R,S):(S=u(S,D),S.return=R,S)}function b(R,S,D,M){var $=D.type;return $===G?U(R,S,D.props.children,M,D.key):S!==null&&(S.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===ve&&sa($)===S.type)?(S=u(S,D.props),jr(S,D),S.return=R,S):(S=ml(D.type,D.key,D.props,null,R.mode,M),jr(S,D),S.return=R,S)}function w(R,S,D,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==D.containerInfo||S.stateNode.implementation!==D.implementation?(S=Cu(D,R.mode,M),S.return=R,S):(S=u(S,D.children||[]),S.return=R,S)}function U(R,S,D,M,$){return S===null||S.tag!==7?(S=ta(D,R.mode,M,$),S.return=R,S):(S=u(S,D),S.return=R,S)}function Z(R,S,D){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Iu(""+S,R.mode,D),S.return=R,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case I:return D=ml(S.type,S.key,S.props,null,R.mode,D),jr(D,S),D.return=R,D;case B:return S=Cu(S,R.mode,D),S.return=R,S;case ve:return S=sa(S),Z(R,S,D)}if(yn(S)||rt(S))return S=ta(S,R.mode,D,null),S.return=R,S;if(typeof S.then=="function")return Z(R,El(S),D);if(S.$$typeof===te)return Z(R,bl(R,S),D);Nl(R,S)}return null}function O(R,S,D,M){var $=S!==null?S.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return $!==null?null:p(R,S,""+D,M);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case I:return D.key===$?b(R,S,D,M):null;case B:return D.key===$?w(R,S,D,M):null;case ve:return D=sa(D),O(R,S,D,M)}if(yn(D)||rt(D))return $!==null?null:U(R,S,D,M,null);if(typeof D.then=="function")return O(R,S,El(D),M);if(D.$$typeof===te)return O(R,S,bl(R,D),M);Nl(R,D)}return null}function x(R,S,D,M,$){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return R=R.get(D)||null,p(S,R,""+M,$);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case I:return R=R.get(M.key===null?D:M.key)||null,b(S,R,M,$);case B:return R=R.get(M.key===null?D:M.key)||null,w(S,R,M,$);case ve:return M=sa(M),x(R,S,D,M,$)}if(yn(M)||rt(M))return R=R.get(D)||null,U(S,R,M,$,null);if(typeof M.then=="function")return x(R,S,D,El(M),$);if(M.$$typeof===te)return x(R,S,D,bl(S,M),$);Nl(S,M)}return null}function X(R,S,D,M){for(var $=null,Te=null,F=S,oe=S=0,be=null;F!==null&&oe<D.length;oe++){F.index>oe?(be=F,F=null):be=F.sibling;var Re=O(R,F,D[oe],M);if(Re===null){F===null&&(F=be);break}t&&F&&Re.alternate===null&&n(R,F),S=f(Re,S,oe),Te===null?$=Re:Te.sibling=Re,Te=Re,F=be}if(oe===D.length)return s(R,F),Se&&Xn(R,oe),$;if(F===null){for(;oe<D.length;oe++)F=Z(R,D[oe],M),F!==null&&(S=f(F,S,oe),Te===null?$=F:Te.sibling=F,Te=F);return Se&&Xn(R,oe),$}for(F=l(F);oe<D.length;oe++)be=x(F,R,oe,D[oe],M),be!==null&&(t&&be.alternate!==null&&F.delete(be.key===null?oe:be.key),S=f(be,S,oe),Te===null?$=be:Te.sibling=be,Te=be);return t&&F.forEach(function(Mi){return n(R,Mi)}),Se&&Xn(R,oe),$}function ee(R,S,D,M){if(D==null)throw Error(r(151));for(var $=null,Te=null,F=S,oe=S=0,be=null,Re=D.next();F!==null&&!Re.done;oe++,Re=D.next()){F.index>oe?(be=F,F=null):be=F.sibling;var Mi=O(R,F,Re.value,M);if(Mi===null){F===null&&(F=be);break}t&&F&&Mi.alternate===null&&n(R,F),S=f(Mi,S,oe),Te===null?$=Mi:Te.sibling=Mi,Te=Mi,F=be}if(Re.done)return s(R,F),Se&&Xn(R,oe),$;if(F===null){for(;!Re.done;oe++,Re=D.next())Re=Z(R,Re.value,M),Re!==null&&(S=f(Re,S,oe),Te===null?$=Re:Te.sibling=Re,Te=Re);return Se&&Xn(R,oe),$}for(F=l(F);!Re.done;oe++,Re=D.next())Re=x(F,R,oe,Re.value,M),Re!==null&&(t&&Re.alternate!==null&&F.delete(Re.key===null?oe:Re.key),S=f(Re,S,oe),Te===null?$=Re:Te.sibling=Re,Te=Re);return t&&F.forEach(function(DA){return n(R,DA)}),Se&&Xn(R,oe),$}function Me(R,S,D,M){if(typeof D=="object"&&D!==null&&D.type===G&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case I:e:{for(var $=D.key;S!==null;){if(S.key===$){if($=D.type,$===G){if(S.tag===7){s(R,S.sibling),M=u(S,D.props.children),M.return=R,R=M;break e}}else if(S.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===ve&&sa($)===S.type){s(R,S.sibling),M=u(S,D.props),jr(M,D),M.return=R,R=M;break e}s(R,S);break}else n(R,S);S=S.sibling}D.type===G?(M=ta(D.props.children,R.mode,M,D.key),M.return=R,R=M):(M=ml(D.type,D.key,D.props,null,R.mode,M),jr(M,D),M.return=R,R=M)}return g(R);case B:e:{for($=D.key;S!==null;){if(S.key===$)if(S.tag===4&&S.stateNode.containerInfo===D.containerInfo&&S.stateNode.implementation===D.implementation){s(R,S.sibling),M=u(S,D.children||[]),M.return=R,R=M;break e}else{s(R,S);break}else n(R,S);S=S.sibling}M=Cu(D,R.mode,M),M.return=R,R=M}return g(R);case ve:return D=sa(D),Me(R,S,D,M)}if(yn(D))return X(R,S,D,M);if(rt(D)){if($=rt(D),typeof $!="function")throw Error(r(150));return D=$.call(D),ee(R,S,D,M)}if(typeof D.then=="function")return Me(R,S,El(D),M);if(D.$$typeof===te)return Me(R,S,bl(R,D),M);Nl(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,S!==null&&S.tag===6?(s(R,S.sibling),M=u(S,D),M.return=R,R=M):(s(R,S),M=Iu(D,R.mode,M),M.return=R,R=M),g(R)):s(R,S)}return function(R,S,D,M){try{Jr=0;var $=Me(R,S,D,M);return Ka=null,$}catch(F){if(F===_a||F===Sl)throw F;var Te=Wt(29,F,null,R.mode);return Te.lanes=M,Te.return=R,Te}finally{}}}var oa=jd(!0),Fd=jd(!1),vi=!1;function Gu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Si(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ai(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ie&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=gl(t),Vd(t,null,s),n}return dl(t,l,n,s),gl(t)}function Fr(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Gh(t,s)}}function _u(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var u=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?u=f=n:f=f.next=n}else u=f=n;s={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Ku=!1;function Hr(){if(Ku){var t=za;if(t!==null)throw t}}function Qr(t,n,s,l){Ku=!1;var u=t.updateQueue;vi=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,p=u.shared.pending;if(p!==null){u.shared.pending=null;var b=p,w=b.next;b.next=null,g===null?f=w:g.next=w,g=b;var U=t.alternate;U!==null&&(U=U.updateQueue,p=U.lastBaseUpdate,p!==g&&(p===null?U.firstBaseUpdate=w:p.next=w,U.lastBaseUpdate=b))}if(f!==null){var Z=u.baseState;g=0,U=w=b=null,p=f;do{var O=p.lane&-536870913,x=O!==p.lane;if(x?(pe&O)===O:(l&O)===O){O!==0&&O===Ga&&(Ku=!0),U!==null&&(U=U.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var X=t,ee=p;O=n;var Me=s;switch(ee.tag){case 1:if(X=ee.payload,typeof X=="function"){Z=X.call(Me,Z,O);break e}Z=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=ee.payload,O=typeof X=="function"?X.call(Me,Z,O):X,O==null)break e;Z=T({},Z,O);break e;case 2:vi=!0}}O=p.callback,O!==null&&(t.flags|=64,x&&(t.flags|=8192),x=u.callbacks,x===null?u.callbacks=[O]:x.push(O))}else x={lane:O,tag:p.tag,payload:p.payload,callback:p.callback,next:null},U===null?(w=U=x,b=Z):U=U.next=x,g|=O;if(p=p.next,p===null){if(p=u.shared.pending,p===null)break;x=p,p=x.next,x.next=null,u.lastBaseUpdate=x,u.shared.pending=null}}while(!0);U===null&&(b=Z),u.baseState=b,u.firstBaseUpdate=w,u.lastBaseUpdate=U,f===null&&(u.shared.lanes=0),Ii|=g,t.lanes=g,t.memoizedState=Z}}function Hd(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Qd(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Hd(s[t],n)}var Wa=E(null),Tl=E(0);function $d(t,n){t=ti,W(Tl,t),W(Wa,n),ti=t|n.baseLanes}function Wu(){W(Tl,ti),W(Wa,Wa.current)}function Xu(){ti=Tl.current,Y(Wa),Y(Tl)}var Xt=E(null),rn=null;function Ei(t){var n=t.alternate;W($e,$e.current&1),W(Xt,t),rn===null&&(n===null||Wa.current!==null||n.memoizedState!==null)&&(rn=t)}function ku(t){W($e,$e.current),W(Xt,t),rn===null&&(rn=t)}function Pd(t){t.tag===22?(W($e,$e.current),W(Xt,t),rn===null&&(rn=t)):Ni()}function Ni(){W($e,$e.current),W(Xt,Xt.current)}function kt(t){Y(Xt),rn===t&&(rn=null),Y($e)}var $e=E(0);function Rl(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||$c(s)||Pc(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var jn=0,le=null,Ue=null,nt=null,Il=!1,Xa=!1,ua=!1,Cl=0,$r=0,ka=null,bS=0;function Fe(){throw Error(r(321))}function Ju(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Kt(t[s],n[s]))return!1;return!0}function ju(t,n,s,l,u,f){return jn=f,le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=t===null||t.memoizedState===null?Lg:oc,ua=!1,f=s(l,u),ua=!1,Xa&&(f=eg(n,s,l,u)),qd(t),f}function qd(t){L.H=es;var n=Ue!==null&&Ue.next!==null;if(jn=0,nt=Ue=le=null,Il=!1,$r=0,ka=null,n)throw Error(r(300));t===null||it||(t=t.dependencies,t!==null&&pl(t)&&(it=!0))}function eg(t,n,s,l){le=t;var u=0;do{if(Xa&&(ka=null),$r=0,Xa=!1,25<=u)throw Error(r(301));if(u+=1,nt=Ue=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=Mg,f=n(s,l)}while(Xa);return f}function vS(){var t=L.H,n=t.useState()[0];return n=typeof n.then=="function"?Pr(n):n,t=t.useState()[0],(Ue!==null?Ue.memoizedState:null)!==t&&(le.flags|=1024),n}function Fu(){var t=Cl!==0;return Cl=0,t}function Hu(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Qu(t){if(Il){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Il=!1}jn=0,nt=Ue=le=null,Xa=!1,$r=Cl=0,ka=null}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?le.memoizedState=nt=t:nt=nt.next=t,nt}function Pe(){if(Ue===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var n=nt===null?le.memoizedState:nt.next;if(n!==null)nt=n,Ue=t;else{if(t===null)throw le.alternate===null?Error(r(467)):Error(r(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},nt===null?le.memoizedState=nt=t:nt=nt.next=t}return nt}function Dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pr(t){var n=$r;return $r+=1,ka===null&&(ka=[]),t=Xd(ka,t,n),n=le,(nt===null?n.memoizedState:nt.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?Lg:oc),t}function wl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Pr(t);if(t.$$typeof===te)return ht(t)}throw Error(r(438,String(t)))}function $u(t){var n=null,s=le.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Dl(),le.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=mn;return n.index++,s}function Fn(t,n){return typeof n=="function"?n(t):n}function Ol(t){var n=Pe();return Pu(n,Ue,t)}function Pu(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var u=t.baseQueue,f=l.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}n.baseQueue=u=f,l.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var p=g=null,b=null,w=n,U=!1;do{var Z=w.lane&-536870913;if(Z!==w.lane?(pe&Z)===Z:(jn&Z)===Z){var O=w.revertLane;if(O===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),Z===Ga&&(U=!0);else if((jn&O)===O){w=w.next,O===Ga&&(U=!0);continue}else Z={lane:0,revertLane:w.revertLane,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},b===null?(p=b=Z,g=f):b=b.next=Z,le.lanes|=O,Ii|=O;Z=w.action,ua&&s(f,Z),f=w.hasEagerState?w.eagerState:s(f,Z)}else O={lane:Z,revertLane:w.revertLane,gesture:w.gesture,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},b===null?(p=b=O,g=f):b=b.next=O,le.lanes|=Z,Ii|=Z;w=w.next}while(w!==null&&w!==n);if(b===null?g=f:b.next=p,!Kt(f,t.memoizedState)&&(it=!0,U&&(s=za,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=b,l.lastRenderedState=f}return u===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function qu(t){var n=Pe(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,u=s.pending,f=n.memoizedState;if(u!==null){s.pending=null;var g=u=u.next;do f=t(f,g.action),g=g.next;while(g!==u);Kt(f,n.memoizedState)||(it=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function tg(t,n,s){var l=le,u=Pe(),f=Se;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!Kt((Ue||u).memoizedState,s);if(g&&(u.memoizedState=s,it=!0),u=u.queue,nc(ag.bind(null,l,u,t),[t]),u.getSnapshot!==n||g||nt!==null&&nt.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},ig.bind(null,l,u,s,n),null),Ye===null)throw Error(r(349));f||(jn&127)!==0||ng(l,n,s)}return s}function ng(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=le.updateQueue,n===null?(n=Dl(),le.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function ig(t,n,s,l){n.value=s,n.getSnapshot=l,rg(n)&&sg(t)}function ag(t,n,s){return s(function(){rg(n)&&sg(t)})}function rg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Kt(t,s)}catch{return!0}}function sg(t){var n=ea(t,2);n!==null&&xt(n,t,2)}function ec(t){var n=Rt();if(typeof t=="function"){var s=t;if(t=s(),ua){hi(!0);try{s()}finally{hi(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:t},n}function lg(t,n,s,l){return t.baseState=s,Pu(t,Ue,typeof l=="function"?l:Fn)}function SS(t,n,s,l,u){if(Bl(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};L.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,og(n,f)):(f.next=s.next,n.pending=s.next=f)}}function og(t,n){var s=n.action,l=n.payload,u=t.state;if(n.isTransition){var f=L.T,g={};L.T=g;try{var p=s(u,l),b=L.S;b!==null&&b(g,p),ug(t,n,p)}catch(w){tc(t,n,w)}finally{f!==null&&g.types!==null&&(f.types=g.types),L.T=f}}else try{f=s(u,l),ug(t,n,f)}catch(w){tc(t,n,w)}}function ug(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){cg(t,n,l)},function(l){return tc(t,n,l)}):cg(t,n,s)}function cg(t,n,s){n.status="fulfilled",n.value=s,fg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,og(t,s)))}function tc(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,fg(n),n=n.next;while(n!==l)}t.action=null}function fg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function hg(t,n){return n}function dg(t,n){if(Se){var s=Ye.formState;if(s!==null){e:{var l=le;if(Se){if(ze){t:{for(var u=ze,f=an;u.nodeType!==8;){if(!f){u=null;break t}if(u=sn(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){ze=sn(u.nextSibling),l=u.data==="F!";break e}}pi(l)}l=!1}l&&(n=s[0])}}return s=Rt(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hg,lastRenderedState:n},s.queue=l,s=xg.bind(null,le,l),l.dispatch=s,l=ec(!1),f=lc.bind(null,le,!1,l.queue),l=Rt(),u={state:n,dispatch:null,action:t,pending:null},l.queue=u,s=SS.bind(null,le,u,f,s),u.dispatch=s,l.memoizedState=t,[n,s,!1]}function gg(t){var n=Pe();return mg(n,Ue,t)}function mg(t,n,s){if(n=Pu(t,n,hg)[0],t=Ol(Fn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Pr(n)}catch(g){throw g===_a?Sl:g}else l=n;n=Pe();var u=n.queue,f=u.dispatch;return s!==n.memoizedState&&(le.flags|=2048,Ja(9,{destroy:void 0},AS.bind(null,u,s),null)),[l,f,t]}function AS(t,n){t.action=n}function yg(t){var n=Pe(),s=Ue;if(s!==null)return mg(n,s,t);Pe(),n=n.memoizedState,s=Pe();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Ja(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=le.updateQueue,n===null&&(n=Dl(),le.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function pg(){return Pe().memoizedState}function Vl(t,n,s,l){var u=Rt();le.flags|=t,u.memoizedState=Ja(1|n,{destroy:void 0},s,l===void 0?null:l)}function xl(t,n,s,l){var u=Pe();l=l===void 0?null:l;var f=u.memoizedState.inst;Ue!==null&&l!==null&&Ju(l,Ue.memoizedState.deps)?u.memoizedState=Ja(n,f,s,l):(le.flags|=t,u.memoizedState=Ja(1|n,f,s,l))}function bg(t,n){Vl(8390656,8,t,n)}function nc(t,n){xl(2048,8,t,n)}function ES(t){le.flags|=4;var n=le.updateQueue;if(n===null)n=Dl(),le.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function vg(t){var n=Pe().memoizedState;return ES({ref:n,nextImpl:t}),function(){if((Ie&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Sg(t,n){return xl(4,2,t,n)}function Ag(t,n){return xl(4,4,t,n)}function Eg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ng(t,n,s){s=s!=null?s.concat([t]):null,xl(4,4,Eg.bind(null,n,t),s)}function ic(){}function Tg(t,n){var s=Pe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Ju(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Rg(t,n){var s=Pe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Ju(n,l[1]))return l[0];if(l=t(),ua){hi(!0);try{t()}finally{hi(!1)}}return s.memoizedState=[l,n],l}function ac(t,n,s){return s===void 0||(jn&1073741824)!==0&&(pe&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Im(),le.lanes|=t,Ii|=t,s)}function Ig(t,n,s,l){return Kt(s,n)?s:Wa.current!==null?(t=ac(t,s,l),Kt(t,n)||(it=!0),t):(jn&42)===0||(jn&1073741824)!==0&&(pe&261930)===0?(it=!0,t.memoizedState=s):(t=Im(),le.lanes|=t,Ii|=t,n)}function Cg(t,n,s,l,u){var f=K.p;K.p=f!==0&&8>f?f:8;var g=L.T,p={};L.T=p,lc(t,!1,n,s);try{var b=u(),w=L.S;if(w!==null&&w(p,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var U=pS(b,l);qr(t,n,U,Ft(t))}else qr(t,n,l,Ft(t))}catch(Z){qr(t,n,{then:function(){},status:"rejected",reason:Z},Ft())}finally{K.p=f,g!==null&&p.types!==null&&(g.types=p.types),L.T=g}}function NS(){}function rc(t,n,s,l){if(t.tag!==5)throw Error(r(476));var u=Dg(t).queue;Cg(t,u,n,ne,s===null?NS:function(){return wg(t),s(l)})}function Dg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:ne},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function wg(t){var n=Dg(t);n.next===null&&(n=t.alternate.memoizedState),qr(t,n.next.queue,{},Ft())}function sc(){return ht(ys)}function Og(){return Pe().memoizedState}function Vg(){return Pe().memoizedState}function TS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Ft();t=Si(s);var l=Ai(n,t,s);l!==null&&(xt(l,n,s),Fr(l,n,s)),n={cache:Lu()},t.payload=n;return}n=n.return}}function RS(t,n,s){var l=Ft();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Bl(t)?Bg(n,s):(s=Tu(t,n,s,l),s!==null&&(xt(s,t,l),Ug(s,n,l)))}function xg(t,n,s){var l=Ft();qr(t,n,s,l)}function qr(t,n,s,l){var u={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Bl(t))Bg(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,p=f(g,s);if(u.hasEagerState=!0,u.eagerState=p,Kt(p,g))return dl(t,n,u,0),Ye===null&&hl(),!1}catch{}finally{}if(s=Tu(t,n,u,l),s!==null)return xt(s,t,l),Ug(s,n,l),!0}return!1}function lc(t,n,s,l){if(l={lane:2,revertLane:Gc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Bl(t)){if(n)throw Error(r(479))}else n=Tu(t,s,l,2),n!==null&&xt(n,t,2)}function Bl(t){var n=t.alternate;return t===le||n!==null&&n===le}function Bg(t,n){Xa=Il=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Ug(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Gh(t,s)}}var es={readContext:ht,use:wl,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};es.useEffectEvent=Fe;var Lg={readContext:ht,use:wl,useCallback:function(t,n){return Rt().memoizedState=[t,n===void 0?null:n],t},useContext:ht,useEffect:bg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Vl(4194308,4,Eg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Vl(4194308,4,t,n)},useInsertionEffect:function(t,n){Vl(4,2,t,n)},useMemo:function(t,n){var s=Rt();n=n===void 0?null:n;var l=t();if(ua){hi(!0);try{t()}finally{hi(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=Rt();if(s!==void 0){var u=s(n);if(ua){hi(!0);try{s(n)}finally{hi(!1)}}}else u=n;return l.memoizedState=l.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},l.queue=t,t=t.dispatch=RS.bind(null,le,t),[l.memoizedState,t]},useRef:function(t){var n=Rt();return t={current:t},n.memoizedState=t},useState:function(t){t=ec(t);var n=t.queue,s=xg.bind(null,le,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:ic,useDeferredValue:function(t,n){var s=Rt();return ac(s,t,n)},useTransition:function(){var t=ec(!1);return t=Cg.bind(null,le,t.queue,!0,!1),Rt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=le,u=Rt();if(Se){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Ye===null)throw Error(r(349));(pe&127)!==0||ng(l,n,s)}u.memoizedState=s;var f={value:s,getSnapshot:n};return u.queue=f,bg(ag.bind(null,l,f,t),[t]),l.flags|=2048,Ja(9,{destroy:void 0},ig.bind(null,l,f,s,n),null),s},useId:function(){var t=Rt(),n=Ye.identifierPrefix;if(Se){var s=wn,l=Dn;s=(l&~(1<<32-_t(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Cl++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=bS++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:sc,useFormState:dg,useActionState:dg,useOptimistic:function(t){var n=Rt();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=lc.bind(null,le,!0,s),s.dispatch=n,[t,n]},useMemoCache:$u,useCacheRefresh:function(){return Rt().memoizedState=TS.bind(null,le)},useEffectEvent:function(t){var n=Rt(),s={impl:t};return n.memoizedState=s,function(){if((Ie&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},oc={readContext:ht,use:wl,useCallback:Tg,useContext:ht,useEffect:nc,useImperativeHandle:Ng,useInsertionEffect:Sg,useLayoutEffect:Ag,useMemo:Rg,useReducer:Ol,useRef:pg,useState:function(){return Ol(Fn)},useDebugValue:ic,useDeferredValue:function(t,n){var s=Pe();return Ig(s,Ue.memoizedState,t,n)},useTransition:function(){var t=Ol(Fn)[0],n=Pe().memoizedState;return[typeof t=="boolean"?t:Pr(t),n]},useSyncExternalStore:tg,useId:Og,useHostTransitionStatus:sc,useFormState:gg,useActionState:gg,useOptimistic:function(t,n){var s=Pe();return lg(s,Ue,t,n)},useMemoCache:$u,useCacheRefresh:Vg};oc.useEffectEvent=vg;var Mg={readContext:ht,use:wl,useCallback:Tg,useContext:ht,useEffect:nc,useImperativeHandle:Ng,useInsertionEffect:Sg,useLayoutEffect:Ag,useMemo:Rg,useReducer:qu,useRef:pg,useState:function(){return qu(Fn)},useDebugValue:ic,useDeferredValue:function(t,n){var s=Pe();return Ue===null?ac(s,t,n):Ig(s,Ue.memoizedState,t,n)},useTransition:function(){var t=qu(Fn)[0],n=Pe().memoizedState;return[typeof t=="boolean"?t:Pr(t),n]},useSyncExternalStore:tg,useId:Og,useHostTransitionStatus:sc,useFormState:yg,useActionState:yg,useOptimistic:function(t,n){var s=Pe();return Ue!==null?lg(s,Ue,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:$u,useCacheRefresh:Vg};Mg.useEffectEvent=vg;function uc(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:T({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var cc={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Ft(),u=Si(l);u.payload=n,s!=null&&(u.callback=s),n=Ai(t,u,l),n!==null&&(xt(n,t,l),Fr(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Ft(),u=Si(l);u.tag=1,u.payload=n,s!=null&&(u.callback=s),n=Ai(t,u,l),n!==null&&(xt(n,t,l),Fr(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Ft(),l=Si(s);l.tag=2,n!=null&&(l.callback=n),n=Ai(t,l,s),n!==null&&(xt(n,t,s),Fr(n,t,s))}};function Zg(t,n,s,l,u,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!zr(s,l)||!zr(u,f):!0}function Yg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&cc.enqueueReplaceState(n,n.state,null)}function ca(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=T({},s));for(var u in t)s[u]===void 0&&(s[u]=t[u])}return s}function Gg(t){fl(t)}function zg(t){console.error(t)}function _g(t){fl(t)}function Ul(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Kg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function fc(t,n,s){return s=Si(s),s.tag=3,s.payload={element:null},s.callback=function(){Ul(t,n)},s}function Wg(t){return t=Si(t),t.tag=3,t}function Xg(t,n,s,l){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;t.payload=function(){return u(f)},t.callback=function(){Kg(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Kg(n,s,l),typeof u!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var p=l.stack;this.componentDidCatch(l.value,{componentStack:p!==null?p:""})})}function IS(t,n,s,l,u){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Ya(n,s,u,!0),s=Xt.current,s!==null){switch(s.tag){case 31:case 13:return rn===null?Jl():s.alternate===null&&He===0&&(He=3),s.flags&=-257,s.flags|=65536,s.lanes=u,l===Al?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Mc(t,l,u)),!1;case 22:return s.flags|=65536,l===Al?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Mc(t,l,u)),!1}throw Error(r(435,s.tag))}return Mc(t,l,u),Jl(),!1}if(Se)return n=Xt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==Ou&&(t=Error(r(422),{cause:l}),Wr(en(t,s)))):(l!==Ou&&(n=Error(r(423),{cause:l}),Wr(en(n,s))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,l=en(l,s),u=fc(t.stateNode,l,u),_u(t,u),He!==4&&(He=2)),!1;var f=Error(r(520),{cause:l});if(f=en(f,s),os===null?os=[f]:os.push(f),He!==4&&(He=2),n===null)return!0;l=en(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=u&-u,s.lanes|=t,t=fc(s.stateNode,l,t),_u(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ci===null||!Ci.has(f))))return s.flags|=65536,u&=-u,s.lanes|=u,u=Wg(u),Xg(u,t,s,l),_u(s,u),!1}s=s.return}while(s!==null);return!1}var hc=Error(r(461)),it=!1;function dt(t,n,s,l){n.child=t===null?Fd(n,null,s,l):oa(n,t.child,s,l)}function kg(t,n,s,l,u){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var p in l)p!=="ref"&&(g[p]=l[p])}else g=l;return aa(n),l=ju(t,n,s,g,f,u),p=Fu(),t!==null&&!it?(Hu(t,n,u),Hn(t,n,u)):(Se&&p&&Du(n),n.flags|=1,dt(t,n,l,u),n.child)}function Jg(t,n,s,l,u){if(t===null){var f=s.type;return typeof f=="function"&&!Ru(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,jg(t,n,f,l,u)):(t=ml(s.type,null,l,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Sc(t,u)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:zr,s(g,l)&&t.ref===n.ref)return Hn(t,n,u)}return n.flags|=1,t=Wn(f,l),t.ref=n.ref,t.return=n,n.child=t}function jg(t,n,s,l,u){if(t!==null){var f=t.memoizedProps;if(zr(f,l)&&t.ref===n.ref)if(it=!1,n.pendingProps=l=f,Sc(t,u))(t.flags&131072)!==0&&(it=!0);else return n.lanes=t.lanes,Hn(t,n,u)}return dc(t,n,s,l,u)}function Fg(t,n,s,l){var u=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~f}else l=0,n.child=null;return Hg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&vl(n,f!==null?f.cachePool:null),f!==null?$d(n,f):Wu(),Pd(n);else return l=n.lanes=536870912,Hg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(vl(n,f.cachePool),$d(n,f),Ni(),n.memoizedState=null):(t!==null&&vl(n,null),Wu(),Ni());return dt(t,n,u,s),n.child}function ts(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Hg(t,n,s,l,u){var f=Zu();return f=f===null?null:{parent:tt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&vl(n,null),Wu(),Pd(n),t!==null&&Ya(t,n,l,!0),n.childLanes=u,null}function Ll(t,n){return n=Zl({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Qg(t,n,s){return oa(n,t.child,null,s),t=Ll(n,n.pendingProps),t.flags|=2,kt(n),n.memoizedState=null,t}function CS(t,n,s){var l=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Se){if(l.mode==="hidden")return t=Ll(n,l),n.lanes=536870912,ts(null,t);if(ku(n),(t=ze)?(t=oy(t,an),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:mi!==null?{id:Dn,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},s=Bd(t),s.return=n,n.child=s,ft=n,ze=null)):t=null,t===null)throw pi(n);return n.lanes=536870912,null}return Ll(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(ku(n),u)if(n.flags&256)n.flags&=-257,n=Qg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(it||Ya(t,n,s,!1),u=(s&t.childLanes)!==0,it||u){if(l=Ye,l!==null&&(g=zh(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,ea(t,g),xt(l,t,g),hc;Jl(),n=Qg(t,n,s)}else t=f.treeContext,ze=sn(g.nextSibling),ft=n,Se=!0,yi=null,an=!1,t!==null&&Md(n,t),n=Ll(n,l),n.flags|=4096;return n}return t=Wn(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ml(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function dc(t,n,s,l,u){return aa(n),s=ju(t,n,s,l,void 0,u),l=Fu(),t!==null&&!it?(Hu(t,n,u),Hn(t,n,u)):(Se&&l&&Du(n),n.flags|=1,dt(t,n,s,u),n.child)}function $g(t,n,s,l,u,f){return aa(n),n.updateQueue=null,s=eg(n,l,s,u),qd(t),l=Fu(),t!==null&&!it?(Hu(t,n,f),Hn(t,n,f)):(Se&&l&&Du(n),n.flags|=1,dt(t,n,s,f),n.child)}function Pg(t,n,s,l,u){if(aa(n),n.stateNode===null){var f=Ua,g=s.contextType;typeof g=="object"&&g!==null&&(f=ht(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=cc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Gu(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?ht(g):Ua,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(uc(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&cc.enqueueReplaceState(f,f.state,null),Qr(n,l,f,u),Hr(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var p=n.memoizedProps,b=ca(s,p);f.props=b;var w=f.context,U=s.contextType;g=Ua,typeof U=="object"&&U!==null&&(g=ht(U));var Z=s.getDerivedStateFromProps;U=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",p=n.pendingProps!==p,U||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p||w!==g)&&Yg(n,f,l,g),vi=!1;var O=n.memoizedState;f.state=O,Qr(n,l,f,u),Hr(),w=n.memoizedState,p||O!==w||vi?(typeof Z=="function"&&(uc(n,s,Z,l),w=n.memoizedState),(b=vi||Zg(n,s,b,l,O,w,g))?(U||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=w),f.props=l,f.state=w,f.context=g,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,zu(t,n),g=n.memoizedProps,U=ca(s,g),f.props=U,Z=n.pendingProps,O=f.context,w=s.contextType,b=Ua,typeof w=="object"&&w!==null&&(b=ht(w)),p=s.getDerivedStateFromProps,(w=typeof p=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Z||O!==b)&&Yg(n,f,l,b),vi=!1,O=n.memoizedState,f.state=O,Qr(n,l,f,u),Hr();var x=n.memoizedState;g!==Z||O!==x||vi||t!==null&&t.dependencies!==null&&pl(t.dependencies)?(typeof p=="function"&&(uc(n,s,p,l),x=n.memoizedState),(U=vi||Zg(n,s,U,l,O,x,b)||t!==null&&t.dependencies!==null&&pl(t.dependencies))?(w||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,x,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,x,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=x),f.props=l,f.state=x,f.context=b,l=U):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ml(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=oa(n,t.child,null,u),n.child=oa(n,null,s,u)):dt(t,n,s,u),n.memoizedState=f.state,t=n.child):t=Hn(t,n,u),t}function qg(t,n,s,l){return na(),n.flags|=256,dt(t,n,s,l),n.child}var gc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mc(t){return{baseLanes:t,cachePool:Kd()}}function yc(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=jt),t}function em(t,n,s){var l=n.pendingProps,u=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:($e.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Se){if(u?Ei(n):Ni(),(t=ze)?(t=oy(t,an),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:mi!==null?{id:Dn,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},s=Bd(t),s.return=n,n.child=s,ft=n,ze=null)):t=null,t===null)throw pi(n);return Pc(t)?n.lanes=32:n.lanes=536870912,null}var p=l.children;return l=l.fallback,u?(Ni(),u=n.mode,p=Zl({mode:"hidden",children:p},u),l=ta(l,u,s,null),p.return=n,l.return=n,p.sibling=l,n.child=p,l=n.child,l.memoizedState=mc(s),l.childLanes=yc(t,g,s),n.memoizedState=gc,ts(null,l)):(Ei(n),pc(n,p))}var b=t.memoizedState;if(b!==null&&(p=b.dehydrated,p!==null)){if(f)n.flags&256?(Ei(n),n.flags&=-257,n=bc(t,n,s)):n.memoizedState!==null?(Ni(),n.child=t.child,n.flags|=128,n=null):(Ni(),p=l.fallback,u=n.mode,l=Zl({mode:"visible",children:l.children},u),p=ta(p,u,s,null),p.flags|=2,l.return=n,p.return=n,l.sibling=p,n.child=l,oa(n,t.child,null,s),l=n.child,l.memoizedState=mc(s),l.childLanes=yc(t,g,s),n.memoizedState=gc,n=ts(null,l));else if(Ei(n),Pc(p)){if(g=p.nextSibling&&p.nextSibling.dataset,g)var w=g.dgst;g=w,l=Error(r(419)),l.stack="",l.digest=g,Wr({value:l,source:null,stack:null}),n=bc(t,n,s)}else if(it||Ya(t,n,s,!1),g=(s&t.childLanes)!==0,it||g){if(g=Ye,g!==null&&(l=zh(g,s),l!==0&&l!==b.retryLane))throw b.retryLane=l,ea(t,l),xt(g,t,l),hc;$c(p)||Jl(),n=bc(t,n,s)}else $c(p)?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ze=sn(p.nextSibling),ft=n,Se=!0,yi=null,an=!1,t!==null&&Md(n,t),n=pc(n,l.children),n.flags|=4096);return n}return u?(Ni(),p=l.fallback,u=n.mode,b=t.child,w=b.sibling,l=Wn(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,w!==null?p=Wn(w,p):(p=ta(p,u,s,null),p.flags|=2),p.return=n,l.return=n,l.sibling=p,n.child=l,ts(null,l),l=n.child,p=t.child.memoizedState,p===null?p=mc(s):(u=p.cachePool,u!==null?(b=tt._currentValue,u=u.parent!==b?{parent:b,pool:b}:u):u=Kd(),p={baseLanes:p.baseLanes|s,cachePool:u}),l.memoizedState=p,l.childLanes=yc(t,g,s),n.memoizedState=gc,ts(t.child,l)):(Ei(n),s=t.child,t=s.sibling,s=Wn(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function pc(t,n){return n=Zl({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zl(t,n){return t=Wt(22,t,null,n),t.lanes=0,t}function bc(t,n,s){return oa(n,t.child,null,s),t=pc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function tm(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Bu(t.return,n,s)}function vc(t,n,s,l,u,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:u,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=u,g.treeForkCount=f)}function nm(t,n,s){var l=n.pendingProps,u=l.revealOrder,f=l.tail;l=l.children;var g=$e.current,p=(g&2)!==0;if(p?(g=g&1|2,n.flags|=128):g&=1,W($e,g),dt(t,n,l,s),l=Se?Kr:0,!p&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tm(t,s,n);else if(t.tag===19)tm(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(s=n.child,u=null;s!==null;)t=s.alternate,t!==null&&Rl(t)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),vc(n,!1,u,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&Rl(t)===null){n.child=u;break}t=u.sibling,u.sibling=s,s=u,u=t}vc(n,!0,s,null,f,l);break;case"together":vc(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Hn(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ii|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Ya(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Wn(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Wn(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Sc(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&pl(t)))}function DS(t,n,s){switch(n.tag){case 3:Tt(n,n.stateNode.containerInfo),bi(n,tt,t.memoizedState.cache),na();break;case 27:case 5:Cr(n);break;case 4:Tt(n,n.stateNode.containerInfo);break;case 10:bi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ku(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ei(n),n.flags|=128,null):(s&n.child.childLanes)!==0?em(t,n,s):(Ei(n),t=Hn(t,n,s),t!==null?t.sibling:null);Ei(n);break;case 19:var u=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Ya(t,n,s,!1),l=(s&n.childLanes)!==0),u){if(l)return nm(t,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),W($e,$e.current),l)break;return null;case 22:return n.lanes=0,Fg(t,n,s,n.pendingProps);case 24:bi(n,tt,t.memoizedState.cache)}return Hn(t,n,s)}function im(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)it=!0;else{if(!Sc(t,s)&&(n.flags&128)===0)return it=!1,DS(t,n,s);it=(t.flags&131072)!==0}else it=!1,Se&&(n.flags&1048576)!==0&&Ld(n,Kr,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=sa(n.elementType),n.type=t,typeof t=="function")Ru(t)?(l=ca(t,l),n.tag=1,n=Pg(null,n,t,l,s)):(n.tag=0,n=dc(null,n,t,l,s));else{if(t!=null){var u=t.$$typeof;if(u===he){n.tag=11,n=kg(null,n,t,l,s);break e}else if(u===k){n.tag=14,n=Jg(null,n,t,l,s);break e}}throw n=Gn(t)||t,Error(r(306,n,""))}}return n;case 0:return dc(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,u=ca(l,n.pendingProps),Pg(t,n,l,u,s);case 3:e:{if(Tt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;u=f.element,zu(t,n),Qr(n,l,null,s);var g=n.memoizedState;if(l=g.cache,bi(n,tt,l),l!==f.cache&&Uu(n,[tt],s,!0),Hr(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=qg(t,n,l,s);break e}else if(l!==u){u=en(Error(r(424)),n),Wr(u),n=qg(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ze=sn(t.firstChild),ft=n,Se=!0,yi=null,an=!0,s=Fd(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(na(),l===u){n=Hn(t,n,s);break e}dt(t,n,l,s)}n=n.child}return n;case 26:return Ml(t,n),t===null?(s=gy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Se||(s=n.type,t=n.pendingProps,l=ql(de.current).createElement(s),l[ct]=n,l[It]=t,gt(l,s,t),lt(l),n.stateNode=l):n.memoizedState=gy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Cr(n),t===null&&Se&&(l=n.stateNode=fy(n.type,n.pendingProps,de.current),ft=n,an=!0,u=ze,Vi(n.type)?(qc=u,ze=sn(l.firstChild)):ze=u),dt(t,n,n.pendingProps.children,s),Ml(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Se&&((u=l=ze)&&(l=aA(l,n.type,n.pendingProps,an),l!==null?(n.stateNode=l,ft=n,ze=sn(l.firstChild),an=!1,u=!0):u=!1),u||pi(n)),Cr(n),u=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Fc(u,f)?l=null:g!==null&&Fc(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=ju(t,n,vS,null,null,s),ys._currentValue=u),Ml(t,n),dt(t,n,l,s),n.child;case 6:return t===null&&Se&&((t=s=ze)&&(s=rA(s,n.pendingProps,an),s!==null?(n.stateNode=s,ft=n,ze=null,t=!0):t=!1),t||pi(n)),null;case 13:return em(t,n,s);case 4:return Tt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=oa(n,null,l,s):dt(t,n,l,s),n.child;case 11:return kg(t,n,n.type,n.pendingProps,s);case 7:return dt(t,n,n.pendingProps,s),n.child;case 8:return dt(t,n,n.pendingProps.children,s),n.child;case 12:return dt(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,bi(n,n.type,l.value),dt(t,n,l.children,s),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,aa(n),u=ht(u),l=l(u),n.flags|=1,dt(t,n,l,s),n.child;case 14:return Jg(t,n,n.type,n.pendingProps,s);case 15:return jg(t,n,n.type,n.pendingProps,s);case 19:return nm(t,n,s);case 31:return CS(t,n,s);case 22:return Fg(t,n,s,n.pendingProps);case 24:return aa(n),l=ht(tt),t===null?(u=Zu(),u===null&&(u=Ye,f=Lu(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=s),u=f),n.memoizedState={parent:l,cache:u},Gu(n),bi(n,tt,u)):((t.lanes&s)!==0&&(zu(t,n),Qr(n,null,null,s),Hr()),u=t.memoizedState,f=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),bi(n,tt,l)):(l=f.cache,bi(n,tt,l),l!==u.cache&&Uu(n,[tt],s,!0))),dt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Qn(t){t.flags|=4}function Ac(t,n,s,l,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(Om())t.flags|=8192;else throw la=Al,Yu}else t.flags&=-16777217}function am(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vy(n))if(Om())t.flags|=8192;else throw la=Al,Yu}function Yl(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Zh():536870912,t.lanes|=n,Qa|=n)}function ns(t,n){if(!Se)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function _e(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var u=t.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function wS(t,n,s){var l=n.pendingProps;switch(wu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(n),null;case 1:return _e(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Jn(tt),Qe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Za(n)?Qn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Vu())),_e(n),null;case 26:var u=n.type,f=n.memoizedState;return t===null?(Qn(n),f!==null?(_e(n),am(n,f)):(_e(n),Ac(n,u,null,l,s))):f?f!==t.memoizedState?(Qn(n),_e(n),am(n,f)):(_e(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qn(n),_e(n),Ac(n,u,t,l,s)),null;case 27:if(Hs(n),s=de.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Qn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return _e(n),null}t=J.current,Za(n)?Zd(n):(t=fy(u,l,s),n.stateNode=t,Qn(n))}return _e(n),null;case 5:if(Hs(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Qn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return _e(n),null}if(f=J.current,Za(n))Zd(n);else{var g=ql(de.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(u,{is:l.is}):g.createElement(u)}}f[ct]=n,f[It]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(gt(f,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qn(n)}}return _e(n),Ac(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Qn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=de.current,Za(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,u=ft,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}t[ct]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||ey(t.nodeValue,s)),t||pi(n,!0)}else t=ql(t).createTextNode(l),t[ct]=n,n.stateNode=t}return _e(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=Za(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ct]=n}else na(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_e(n),t=!1}else s=Vu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(kt(n),n):(kt(n),null);if((n.flags&128)!==0)throw Error(r(558))}return _e(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Za(n),l!==null&&l.dehydrated!==null){if(t===null){if(!u)throw Error(r(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[ct]=n}else na(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_e(n),u=!1}else u=Vu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(kt(n),n):(kt(n),null)}return kt(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Yl(n,n.updateQueue),_e(n),null);case 4:return Qe(),t===null&&Wc(n.stateNode.containerInfo),_e(n),null;case 10:return Jn(n.type),_e(n),null;case 19:if(Y($e),l=n.memoizedState,l===null)return _e(n),null;if(u=(n.flags&128)!==0,f=l.rendering,f===null)if(u)ns(l,!1);else{if(He!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Rl(t),f!==null){for(n.flags|=128,ns(l,!1),t=f.updateQueue,n.updateQueue=t,Yl(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)xd(s,t),s=s.sibling;return W($e,$e.current&1|2),Se&&Xn(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Gt()>Wl&&(n.flags|=128,u=!0,ns(l,!1),n.lanes=4194304)}else{if(!u)if(t=Rl(f),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,Yl(n,t),ns(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Se)return _e(n),null}else 2*Gt()-l.renderingStartTime>Wl&&s!==536870912&&(n.flags|=128,u=!0,ns(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Gt(),t.sibling=null,s=$e.current,W($e,u?s&1|2:s&1),Se&&Xn(n,l.treeForkCount),t):(_e(n),null);case 22:case 23:return kt(n),Xu(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(_e(n),n.subtreeFlags&6&&(n.flags|=8192)):_e(n),s=n.updateQueue,s!==null&&Yl(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Y(ra),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Jn(tt),_e(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function OS(t,n){switch(wu(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Jn(tt),Qe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Hs(n),null;case 31:if(n.memoizedState!==null){if(kt(n),n.alternate===null)throw Error(r(340));na()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(kt(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));na()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y($e),null;case 4:return Qe(),null;case 10:return Jn(n.type),null;case 22:case 23:return kt(n),Xu(),t!==null&&Y(ra),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Jn(tt),null;case 25:return null;default:return null}}function rm(t,n){switch(wu(n),n.tag){case 3:Jn(tt),Qe();break;case 26:case 27:case 5:Hs(n);break;case 4:Qe();break;case 31:n.memoizedState!==null&&kt(n);break;case 13:kt(n);break;case 19:Y($e);break;case 10:Jn(n.type);break;case 22:case 23:kt(n),Xu(),t!==null&&Y(ra);break;case 24:Jn(tt)}}function is(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var u=l.next;s=u;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==u)}}catch(p){Ve(n,n.return,p)}}function Ti(t,n,s){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&t)===t){var g=l.inst,p=g.destroy;if(p!==void 0){g.destroy=void 0,u=n;var b=s,w=p;try{w()}catch(U){Ve(u,b,U)}}}l=l.next}while(l!==f)}}catch(U){Ve(n,n.return,U)}}function sm(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Qd(n,s)}catch(l){Ve(t,t.return,l)}}}function lm(t,n,s){s.props=ca(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ve(t,n,l)}}function as(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(u){Ve(t,n,u)}}function On(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(u){Ve(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){Ve(t,n,u)}else s.current=null}function om(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(u){Ve(t,t.return,u)}}function Ec(t,n,s){try{var l=t.stateNode;PS(l,t.type,s,n),l[It]=n}catch(u){Ve(t,t.return,u)}}function um(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vi(t.type)||t.tag===4}function Nc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||um(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tc(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=_n));else if(l!==4&&(l===27&&Vi(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Tc(t,n,s),t=t.sibling;t!==null;)Tc(t,n,s),t=t.sibling}function Gl(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Vi(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Gl(t,n,s),t=t.sibling;t!==null;)Gl(t,n,s),t=t.sibling}function cm(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);gt(n,l,s),n[ct]=t,n[It]=s}catch(f){Ve(t,t.return,f)}}var $n=!1,at=!1,Rc=!1,fm=typeof WeakSet=="function"?WeakSet:Set,ot=null;function VS(t,n){if(t=t.containerInfo,Jc=so,t=Nd(t),bu(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,p=-1,b=-1,w=0,U=0,Z=t,O=null;t:for(;;){for(var x;Z!==s||u!==0&&Z.nodeType!==3||(p=g+u),Z!==f||l!==0&&Z.nodeType!==3||(b=g+l),Z.nodeType===3&&(g+=Z.nodeValue.length),(x=Z.firstChild)!==null;)O=Z,Z=x;for(;;){if(Z===t)break t;if(O===s&&++w===u&&(p=g),O===f&&++U===l&&(b=g),(x=Z.nextSibling)!==null)break;Z=O,O=Z.parentNode}Z=x}s=p===-1||b===-1?null:{start:p,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(jc={focusedElem:t,selectionRange:s},so=!1,ot=n;ot!==null;)if(n=ot,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ot=t;else for(;ot!==null;){switch(n=ot,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)u=t[s],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,u=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var X=ca(s.type,u);t=l.getSnapshotBeforeUpdate(X,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ee){Ve(s,s.return,ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Qc(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,ot=t;break}ot=n.return}}function hm(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:qn(t,s),l&4&&is(5,s);break;case 1:if(qn(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Ve(s,s.return,g)}else{var u=ca(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ve(s,s.return,g)}}l&64&&sm(s),l&512&&as(s,s.return);break;case 3:if(qn(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Qd(t,n)}catch(g){Ve(s,s.return,g)}}break;case 27:n===null&&l&4&&cm(s);case 26:case 5:qn(t,s),n===null&&l&4&&om(s),l&512&&as(s,s.return);break;case 12:qn(t,s);break;case 31:qn(t,s),l&4&&mm(t,s);break;case 13:qn(t,s),l&4&&ym(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=zS.bind(null,s),sA(t,s))));break;case 22:if(l=s.memoizedState!==null||$n,!l){n=n!==null&&n.memoizedState!==null||at,u=$n;var f=at;$n=l,(at=n)&&!f?ei(t,s,(s.subtreeFlags&8772)!==0):qn(t,s),$n=u,at=f}break;case 30:break;default:qn(t,s)}}function dm(t){var n=t.alternate;n!==null&&(t.alternate=null,dm(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&tu(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Xe=null,Dt=!1;function Pn(t,n,s){for(s=s.child;s!==null;)gm(t,n,s),s=s.sibling}function gm(t,n,s){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Dr,s)}catch{}switch(s.tag){case 26:at||On(s,n),Pn(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:at||On(s,n);var l=Xe,u=Dt;Vi(s.type)&&(Xe=s.stateNode,Dt=!1),Pn(t,n,s),ds(s.stateNode),Xe=l,Dt=u;break;case 5:at||On(s,n);case 6:if(l=Xe,u=Dt,Xe=null,Pn(t,n,s),Xe=l,Dt=u,Xe!==null)if(Dt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(s.stateNode)}catch(f){Ve(s,n,f)}else try{Xe.removeChild(s.stateNode)}catch(f){Ve(s,n,f)}break;case 18:Xe!==null&&(Dt?(t=Xe,sy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),ar(t)):sy(Xe,s.stateNode));break;case 4:l=Xe,u=Dt,Xe=s.stateNode.containerInfo,Dt=!0,Pn(t,n,s),Xe=l,Dt=u;break;case 0:case 11:case 14:case 15:Ti(2,s,n),at||Ti(4,s,n),Pn(t,n,s);break;case 1:at||(On(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&lm(s,n,l)),Pn(t,n,s);break;case 21:Pn(t,n,s);break;case 22:at=(l=at)||s.memoizedState!==null,Pn(t,n,s),at=l;break;default:Pn(t,n,s)}}function mm(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ar(t)}catch(s){Ve(n,n.return,s)}}}function ym(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ar(t)}catch(s){Ve(n,n.return,s)}}function xS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new fm),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new fm),n;default:throw Error(r(435,t.tag))}}function zl(t,n){var s=xS(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var u=_S.bind(null,t,l);l.then(u,u)}})}function wt(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var u=s[l],f=t,g=n,p=g;e:for(;p!==null;){switch(p.tag){case 27:if(Vi(p.type)){Xe=p.stateNode,Dt=!1;break e}break;case 5:Xe=p.stateNode,Dt=!1;break e;case 3:case 4:Xe=p.stateNode.containerInfo,Dt=!0;break e}p=p.return}if(Xe===null)throw Error(r(160));gm(f,g,u),Xe=null,Dt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)pm(n,t),n=n.sibling}var bn=null;function pm(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wt(n,t),Ot(t),l&4&&(Ti(3,t,t.return),is(3,t),Ti(5,t,t.return));break;case 1:wt(n,t),Ot(t),l&512&&(at||s===null||On(s,s.return)),l&64&&$n&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var u=bn;if(wt(n,t),Ot(t),l&512&&(at||s===null||On(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Vr]||f[ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),gt(f,l,s),f[ct]=t,lt(f),l=f;break e;case"link":var g=py("link","href",u).get(l+(s.href||""));if(g){for(var p=0;p<g.length;p++)if(f=g[p],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(p,1);break t}}f=u.createElement(l),gt(f,l,s),u.head.appendChild(f);break;case"meta":if(g=py("meta","content",u).get(l+(s.content||""))){for(p=0;p<g.length;p++)if(f=g[p],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(p,1);break t}}f=u.createElement(l),gt(f,l,s),u.head.appendChild(f);break;default:throw Error(r(468,l))}f[ct]=t,lt(f),l=f}t.stateNode=l}else by(u,t.type,t.stateNode);else t.stateNode=yy(u,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?by(u,t.type,t.stateNode):yy(u,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ec(t,t.memoizedProps,s.memoizedProps)}break;case 27:wt(n,t),Ot(t),l&512&&(at||s===null||On(s,s.return)),s!==null&&l&4&&Ec(t,t.memoizedProps,s.memoizedProps);break;case 5:if(wt(n,t),Ot(t),l&512&&(at||s===null||On(s,s.return)),t.flags&32){u=t.stateNode;try{Ca(u,"")}catch(X){Ve(t,t.return,X)}}l&4&&t.stateNode!=null&&(u=t.memoizedProps,Ec(t,u,s!==null?s.memoizedProps:u)),l&1024&&(Rc=!0);break;case 6:if(wt(n,t),Ot(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(X){Ve(t,t.return,X)}}break;case 3:if(no=null,u=bn,bn=eo(n.containerInfo),wt(n,t),bn=u,Ot(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ar(n.containerInfo)}catch(X){Ve(t,t.return,X)}Rc&&(Rc=!1,bm(t));break;case 4:l=bn,bn=eo(t.stateNode.containerInfo),wt(n,t),Ot(t),bn=l;break;case 12:wt(n,t),Ot(t);break;case 31:wt(n,t),Ot(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zl(t,l)));break;case 13:wt(n,t),Ot(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Kl=Gt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zl(t,l)));break;case 22:u=t.memoizedState!==null;var b=s!==null&&s.memoizedState!==null,w=$n,U=at;if($n=w||u,at=U||b,wt(n,t),at=U,$n=w,Ot(t),l&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(s===null||b||$n||at||fa(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){b=s=n;try{if(f=b.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{p=b.stateNode;var Z=b.memoizedProps.style,O=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;p.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(X){Ve(b,b.return,X)}}}else if(n.tag===6){if(s===null){b=n;try{b.stateNode.nodeValue=u?"":b.memoizedProps}catch(X){Ve(b,b.return,X)}}}else if(n.tag===18){if(s===null){b=n;try{var x=b.stateNode;u?ly(x,!0):ly(b.stateNode,!1)}catch(X){Ve(b,b.return,X)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,zl(t,s))));break;case 19:wt(n,t),Ot(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zl(t,l)));break;case 30:break;case 21:break;default:wt(n,t),Ot(t)}}function Ot(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(um(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var u=s.stateNode,f=Nc(t);Gl(t,f,u);break;case 5:var g=s.stateNode;s.flags&32&&(Ca(g,""),s.flags&=-33);var p=Nc(t);Gl(t,p,g);break;case 3:case 4:var b=s.stateNode.containerInfo,w=Nc(t);Tc(t,w,b);break;default:throw Error(r(161))}}catch(U){Ve(t,t.return,U)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function bm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;bm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function qn(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hm(t,n.alternate,n),n=n.sibling}function fa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ti(4,n,n.return),fa(n);break;case 1:On(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&lm(n,n.return,s),fa(n);break;case 27:ds(n.stateNode);case 26:case 5:On(n,n.return),fa(n);break;case 22:n.memoizedState===null&&fa(n);break;case 30:fa(n);break;default:fa(n)}t=t.sibling}}function ei(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ei(u,f,s),is(4,f);break;case 1:if(ei(u,f,s),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(w){Ve(l,l.return,w)}if(l=f,u=l.updateQueue,u!==null){var p=l.stateNode;try{var b=u.shared.hiddenCallbacks;if(b!==null)for(u.shared.hiddenCallbacks=null,u=0;u<b.length;u++)Hd(b[u],p)}catch(w){Ve(l,l.return,w)}}s&&g&64&&sm(f),as(f,f.return);break;case 27:cm(f);case 26:case 5:ei(u,f,s),s&&l===null&&g&4&&om(f),as(f,f.return);break;case 12:ei(u,f,s);break;case 31:ei(u,f,s),s&&g&4&&mm(u,f);break;case 13:ei(u,f,s),s&&g&4&&ym(u,f);break;case 22:f.memoizedState===null&&ei(u,f,s),as(f,f.return);break;case 30:break;default:ei(u,f,s)}n=n.sibling}}function Ic(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Xr(s))}function Cc(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xr(t))}function vn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vm(t,n,s,l),n=n.sibling}function vm(t,n,s,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:vn(t,n,s,l),u&2048&&is(9,n);break;case 1:vn(t,n,s,l);break;case 3:vn(t,n,s,l),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xr(t)));break;case 12:if(u&2048){vn(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,p=f.onPostCommit;typeof p=="function"&&p(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ve(n,n.return,b)}}else vn(t,n,s,l);break;case 31:vn(t,n,s,l);break;case 13:vn(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?vn(t,n,s,l):rs(t,n):f._visibility&2?vn(t,n,s,l):(f._visibility|=2,ja(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Ic(g,n);break;case 24:vn(t,n,s,l),u&2048&&Cc(n.alternate,n);break;default:vn(t,n,s,l)}}function ja(t,n,s,l,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,p=s,b=l,w=g.flags;switch(g.tag){case 0:case 11:case 15:ja(f,g,p,b,u),is(8,g);break;case 23:break;case 22:var U=g.stateNode;g.memoizedState!==null?U._visibility&2?ja(f,g,p,b,u):rs(f,g):(U._visibility|=2,ja(f,g,p,b,u)),u&&w&2048&&Ic(g.alternate,g);break;case 24:ja(f,g,p,b,u),u&&w&2048&&Cc(g.alternate,g);break;default:ja(f,g,p,b,u)}n=n.sibling}}function rs(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,u=l.flags;switch(l.tag){case 22:rs(s,l),u&2048&&Ic(l.alternate,l);break;case 24:rs(s,l),u&2048&&Cc(l.alternate,l);break;default:rs(s,l)}n=n.sibling}}var ss=8192;function Fa(t,n,s){if(t.subtreeFlags&ss)for(t=t.child;t!==null;)Sm(t,n,s),t=t.sibling}function Sm(t,n,s){switch(t.tag){case 26:Fa(t,n,s),t.flags&ss&&t.memoizedState!==null&&bA(s,bn,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,n,s);break;case 3:case 4:var l=bn;bn=eo(t.stateNode.containerInfo),Fa(t,n,s),bn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ss,ss=16777216,Fa(t,n,s),ss=l):Fa(t,n,s));break;default:Fa(t,n,s)}}function Am(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ls(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ot=l,Nm(l,t)}Am(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Em(t),t=t.sibling}function Em(t){switch(t.tag){case 0:case 11:case 15:ls(t),t.flags&2048&&Ti(9,t,t.return);break;case 3:ls(t);break;case 12:ls(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,_l(t)):ls(t);break;default:ls(t)}}function _l(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ot=l,Nm(l,t)}Am(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ti(8,n,n.return),_l(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,_l(n));break;default:_l(n)}t=t.sibling}}function Nm(t,n){for(;ot!==null;){var s=ot;switch(s.tag){case 0:case 11:case 15:Ti(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xr(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ot=l;else e:for(s=t;ot!==null;){l=ot;var u=l.sibling,f=l.return;if(dm(l),l===s){ot=null;break e}if(u!==null){u.return=f,ot=u;break e}ot=f}}}var BS={getCacheForType:function(t){var n=ht(tt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return ht(tt).controller.signal}},US=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Ye=null,ge=null,pe=0,Oe=0,Jt=null,Ri=!1,Ha=!1,Dc=!1,ti=0,He=0,Ii=0,ha=0,wc=0,jt=0,Qa=0,os=null,Vt=null,Oc=!1,Kl=0,Tm=0,Wl=1/0,Xl=null,Ci=null,st=0,Di=null,$a=null,ni=0,Vc=0,xc=null,Rm=null,us=0,Bc=null;function Ft(){return(Ie&2)!==0&&pe!==0?pe&-pe:L.T!==null?Gc():_h()}function Im(){if(jt===0)if((pe&536870912)===0||Se){var t=Ps;Ps<<=1,(Ps&3932160)===0&&(Ps=262144),jt=t}else jt=536870912;return t=Xt.current,t!==null&&(t.flags|=32),jt}function xt(t,n,s){(t===Ye&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)&&(Pa(t,0),wi(t,pe,jt,!1)),Or(t,s),((Ie&2)===0||t!==Ye)&&(t===Ye&&((Ie&2)===0&&(ha|=s),He===4&&wi(t,pe,jt,!1)),Vn(t))}function Cm(t,n,s){if((Ie&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||wr(t,n),u=l?ZS(t,n):Lc(t,n,!0),f=l;do{if(u===0){Ha&&!l&&wi(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!LS(s)){u=Lc(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var p=t;u=os;var b=p.current.memoizedState.isDehydrated;if(b&&(Pa(p,g).flags|=256),g=Lc(p,g,!1),g!==2){if(Dc&&!b){p.errorRecoveryDisabledLanes|=f,ha|=f,u=4;break e}f=Vt,Vt=u,f!==null&&(Vt===null?Vt=f:Vt.push.apply(Vt,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){Pa(t,0),wi(t,n,0,!0);break}e:{switch(l=t,f=u,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:wi(l,n,jt,!Ri);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(u=Kl+300-Gt(),10<u)){if(wi(l,n,jt,!Ri),el(l,0,!0)!==0)break e;ni=n,l.timeoutHandle=ay(Dm.bind(null,l,s,Vt,Xl,Oc,n,jt,ha,Qa,Ri,f,"Throttled",-0,0),u);break e}Dm(l,s,Vt,Xl,Oc,n,jt,ha,Qa,Ri,f,null,-0,0)}}break}while(!0);Vn(t)}function Dm(t,n,s,l,u,f,g,p,b,w,U,Z,O,x){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_n},Sm(n,f,Z);var X=(f&62914560)===f?Kl-Gt():(f&4194048)===f?Tm-Gt():0;if(X=vA(Z,X),X!==null){ni=f,t.cancelPendingCommit=X(Mm.bind(null,t,n,f,s,l,u,g,p,b,U,Z,null,O,x)),wi(t,f,g,!w);return}}Mm(t,n,f,s,l,u,g,p,b)}function LS(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var u=s[l],f=u.getSnapshot;u=u.value;try{if(!Kt(f(),u))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function wi(t,n,s,l){n&=~wc,n&=~ha,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var u=n;0<u;){var f=31-_t(u),g=1<<f;l[f]=-1,u&=~g}s!==0&&Yh(t,s,n)}function kl(){return(Ie&6)===0?(cs(0),!1):!0}function Uc(){if(ge!==null){if(Oe===0)var t=ge.return;else t=ge,kn=ia=null,Qu(t),Ka=null,Jr=0,t=ge;for(;t!==null;)rm(t.alternate,t),t=t.return;ge=null}}function Pa(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,tA(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ni=0,Uc(),Ye=t,ge=s=Wn(t.current,null),pe=n,Oe=0,Jt=null,Ri=!1,Ha=wr(t,n),Dc=!1,Qa=jt=wc=ha=Ii=He=0,Vt=os=null,Oc=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var u=31-_t(l),f=1<<u;n|=t[u],l&=~f}return ti=n,hl(),s}function wm(t,n){le=null,L.H=es,n===_a||n===Sl?(n=kd(),Oe=3):n===Yu?(n=kd(),Oe=4):Oe=n===hc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Jt=n,ge===null&&(He=1,Ul(t,en(n,t.current)))}function Om(){var t=Xt.current;return t===null?!0:(pe&4194048)===pe?rn===null:(pe&62914560)===pe||(pe&536870912)!==0?t===rn:!1}function Vm(){var t=L.H;return L.H=es,t===null?es:t}function xm(){var t=L.A;return L.A=BS,t}function Jl(){He=4,Ri||(pe&4194048)!==pe&&Xt.current!==null||(Ha=!0),(Ii&134217727)===0&&(ha&134217727)===0||Ye===null||wi(Ye,pe,jt,!1)}function Lc(t,n,s){var l=Ie;Ie|=2;var u=Vm(),f=xm();(Ye!==t||pe!==n)&&(Xl=null,Pa(t,n)),n=!1;var g=He;e:do try{if(Oe!==0&&ge!==null){var p=ge,b=Jt;switch(Oe){case 8:Uc(),g=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(n=!0);var w=Oe;if(Oe=0,Jt=null,qa(t,p,b,w),s&&Ha){g=0;break e}break;default:w=Oe,Oe=0,Jt=null,qa(t,p,b,w)}}MS(),g=He;break}catch(U){wm(t,U)}while(!0);return n&&t.shellSuspendCounter++,kn=ia=null,Ie=l,L.H=u,L.A=f,ge===null&&(Ye=null,pe=0,hl()),g}function MS(){for(;ge!==null;)Bm(ge)}function ZS(t,n){var s=Ie;Ie|=2;var l=Vm(),u=xm();Ye!==t||pe!==n?(Xl=null,Wl=Gt()+500,Pa(t,n)):Ha=wr(t,n);e:do try{if(Oe!==0&&ge!==null){n=ge;var f=Jt;t:switch(Oe){case 1:Oe=0,Jt=null,qa(t,n,f,1);break;case 2:case 9:if(Wd(f)){Oe=0,Jt=null,Um(n);break}n=function(){Oe!==2&&Oe!==9||Ye!==t||(Oe=7),Vn(t)},f.then(n,n);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Wd(f)?(Oe=0,Jt=null,Um(n)):(Oe=0,Jt=null,qa(t,n,f,7));break;case 5:var g=null;switch(ge.tag){case 26:g=ge.memoizedState;case 5:case 27:var p=ge;if(g?vy(g):p.stateNode.complete){Oe=0,Jt=null;var b=p.sibling;if(b!==null)ge=b;else{var w=p.return;w!==null?(ge=w,jl(w)):ge=null}break t}}Oe=0,Jt=null,qa(t,n,f,5);break;case 6:Oe=0,Jt=null,qa(t,n,f,6);break;case 8:Uc(),He=6;break e;default:throw Error(r(462))}}YS();break}catch(U){wm(t,U)}while(!0);return kn=ia=null,L.H=l,L.A=u,Ie=s,ge!==null?0:(Ye=null,pe=0,hl(),He)}function YS(){for(;ge!==null&&!l0();)Bm(ge)}function Bm(t){var n=im(t.alternate,t,ti);t.memoizedProps=t.pendingProps,n===null?jl(t):ge=n}function Um(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=$g(s,n,n.pendingProps,n.type,void 0,pe);break;case 11:n=$g(s,n,n.pendingProps,n.type.render,n.ref,pe);break;case 5:Qu(n);default:rm(s,n),n=ge=xd(n,ti),n=im(s,n,ti)}t.memoizedProps=t.pendingProps,n===null?jl(t):ge=n}function qa(t,n,s,l){kn=ia=null,Qu(n),Ka=null,Jr=0;var u=n.return;try{if(IS(t,u,n,s,pe)){He=1,Ul(t,en(s,t.current)),ge=null;return}}catch(f){if(u!==null)throw ge=u,f;He=1,Ul(t,en(s,t.current)),ge=null;return}n.flags&32768?(Se||l===1?t=!0:Ha||(pe&536870912)!==0?t=!1:(Ri=t=!0,(l===2||l===9||l===3||l===6)&&(l=Xt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lm(n,t)):jl(n)}function jl(t){var n=t;do{if((n.flags&32768)!==0){Lm(n,Ri);return}t=n.return;var s=wS(n.alternate,n,ti);if(s!==null){ge=s;return}if(n=n.sibling,n!==null){ge=n;return}ge=n=t}while(n!==null);He===0&&(He=5)}function Lm(t,n){do{var s=OS(t.alternate,t);if(s!==null){s.flags&=32767,ge=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){ge=t;return}ge=t=s}while(t!==null);He=6,ge=null}function Mm(t,n,s,l,u,f,g,p,b){t.cancelPendingCommit=null;do Fl();while(st!==0);if((Ie&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Nu,p0(t,s,f,g,p,b),t===Ye&&(ge=Ye=null,pe=0),$a=n,Di=t,ni=s,Vc=f,xc=u,Rm=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,KS(Qs,function(){return _m(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,u=K.p,K.p=2,g=Ie,Ie|=4;try{VS(t,n,s)}finally{Ie=g,K.p=u,L.T=l}}st=1,Zm(),Ym(),Gm()}}function Zm(){if(st===1){st=0;var t=Di,n=$a,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=L.T,L.T=null;var l=K.p;K.p=2;var u=Ie;Ie|=4;try{pm(n,t);var f=jc,g=Nd(t.containerInfo),p=f.focusedElem,b=f.selectionRange;if(g!==p&&p&&p.ownerDocument&&Ed(p.ownerDocument.documentElement,p)){if(b!==null&&bu(p)){var w=b.start,U=b.end;if(U===void 0&&(U=w),"selectionStart"in p)p.selectionStart=w,p.selectionEnd=Math.min(U,p.value.length);else{var Z=p.ownerDocument||document,O=Z&&Z.defaultView||window;if(O.getSelection){var x=O.getSelection(),X=p.textContent.length,ee=Math.min(b.start,X),Me=b.end===void 0?ee:Math.min(b.end,X);!x.extend&&ee>Me&&(g=Me,Me=ee,ee=g);var R=Ad(p,ee),S=Ad(p,Me);if(R&&S&&(x.rangeCount!==1||x.anchorNode!==R.node||x.anchorOffset!==R.offset||x.focusNode!==S.node||x.focusOffset!==S.offset)){var D=Z.createRange();D.setStart(R.node,R.offset),x.removeAllRanges(),ee>Me?(x.addRange(D),x.extend(S.node,S.offset)):(D.setEnd(S.node,S.offset),x.addRange(D))}}}}for(Z=[],x=p;x=x.parentNode;)x.nodeType===1&&Z.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<Z.length;p++){var M=Z[p];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}so=!!Jc,jc=Jc=null}finally{Ie=u,K.p=l,L.T=s}}t.current=n,st=2}}function Ym(){if(st===2){st=0;var t=Di,n=$a,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=L.T,L.T=null;var l=K.p;K.p=2;var u=Ie;Ie|=4;try{hm(t,n.alternate,n)}finally{Ie=u,K.p=l,L.T=s}}st=3}}function Gm(){if(st===4||st===3){st=0,o0();var t=Di,n=$a,s=ni,l=Rm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?st=5:(st=0,$a=Di=null,zm(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Ci=null),qo(s),n=n.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Dr,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=L.T,u=K.p,K.p=2,L.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var p=l[g];f(p.value,{componentStack:p.stack})}}finally{L.T=n,K.p=u}}(ni&3)!==0&&Fl(),Vn(t),u=t.pendingLanes,(s&261930)!==0&&(u&42)!==0?t===Bc?us++:(us=0,Bc=t):us=0,cs(0)}}function zm(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xr(n)))}function Fl(){return Zm(),Ym(),Gm(),_m()}function _m(){if(st!==5)return!1;var t=Di,n=Vc;Vc=0;var s=qo(ni),l=L.T,u=K.p;try{K.p=32>s?32:s,L.T=null,s=xc,xc=null;var f=Di,g=ni;if(st=0,$a=Di=null,ni=0,(Ie&6)!==0)throw Error(r(331));var p=Ie;if(Ie|=4,Em(f.current),vm(f,f.current,g,s),Ie=p,cs(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Dr,f)}catch{}return!0}finally{K.p=u,L.T=l,zm(t,n)}}function Km(t,n,s){n=en(s,n),n=fc(t.stateNode,n,2),t=Ai(t,n,2),t!==null&&(Or(t,2),Vn(t))}function Ve(t,n,s){if(t.tag===3)Km(t,t,s);else for(;n!==null;){if(n.tag===3){Km(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ci===null||!Ci.has(l))){t=en(s,t),s=Wg(2),l=Ai(n,s,2),l!==null&&(Xg(s,l,n,t),Or(l,2),Vn(l));break}}n=n.return}}function Mc(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new US;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(s)||(Dc=!0,u.add(s),t=GS.bind(null,t,n,s),n.then(t,t))}function GS(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ye===t&&(pe&s)===s&&(He===4||He===3&&(pe&62914560)===pe&&300>Gt()-Kl?(Ie&2)===0&&Pa(t,0):wc|=s,Qa===pe&&(Qa=0)),Vn(t)}function Wm(t,n){n===0&&(n=Zh()),t=ea(t,n),t!==null&&(Or(t,n),Vn(t))}function zS(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Wm(t,s)}function _S(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,u=t.memoizedState;u!==null&&(s=u.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Wm(t,s)}function KS(t,n){return Ho(t,n)}var Hl=null,er=null,Zc=!1,Ql=!1,Yc=!1,Oi=0;function Vn(t){t!==er&&t.next===null&&(er===null?Hl=er=t:er=er.next=t),Ql=!0,Zc||(Zc=!0,XS())}function cs(t,n){if(!Yc&&Ql){Yc=!0;do for(var s=!1,l=Hl;l!==null;){if(t!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var g=l.suspendedLanes,p=l.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=u&~(g&~p),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,jm(l,f))}else f=pe,f=el(l,l===Ye?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||wr(l,f)||(s=!0,jm(l,f));l=l.next}while(s);Yc=!1}}function WS(){Xm()}function Xm(){Ql=Zc=!1;var t=0;Oi!==0&&eA()&&(t=Oi);for(var n=Gt(),s=null,l=Hl;l!==null;){var u=l.next,f=km(l,n);f===0?(l.next=null,s===null?Hl=u:s.next=u,u===null&&(er=s)):(s=l,(t!==0||(f&3)!==0)&&(Ql=!0)),l=u}st!==0&&st!==5||cs(t),Oi!==0&&(Oi=0)}function km(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-_t(f),p=1<<g,b=u[g];b===-1?((p&s)===0||(p&l)!==0)&&(u[g]=y0(p,n)):b<=n&&(t.expiredLanes|=p),f&=~p}if(n=Ye,s=pe,s=el(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qo(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||wr(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Qo(l),qo(s)){case 2:case 8:s=Lh;break;case 32:s=Qs;break;case 268435456:s=Mh;break;default:s=Qs}return l=Jm.bind(null,t),s=Ho(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Qo(l),t.callbackPriority=2,t.callbackNode=null,2}function Jm(t,n){if(st!==0&&st!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Fl()&&t.callbackNode!==s)return null;var l=pe;return l=el(t,t===Ye?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Cm(t,l,n),km(t,Gt()),t.callbackNode!=null&&t.callbackNode===s?Jm.bind(null,t):null)}function jm(t,n){if(Fl())return null;Cm(t,n,!0)}function XS(){nA(function(){(Ie&6)!==0?Ho(Uh,WS):Xm()})}function Gc(){if(Oi===0){var t=Ga;t===0&&(t=$s,$s<<=1,($s&261888)===0&&($s=256)),Oi=t}return Oi}function Fm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:al(""+t)}function Hm(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function kS(t,n,s,l,u){if(n==="submit"&&s&&s.stateNode===u){var f=Fm((u[It]||null).action),g=l.submitter;g&&(n=(n=g[It]||null)?Fm(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var p=new ol("action","action",null,l,u);t.push({event:p,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Oi!==0){var b=g?Hm(u,g):new FormData(u);rc(s,{pending:!0,data:b,method:u.method,action:f},null,b)}}else typeof f=="function"&&(p.preventDefault(),b=g?Hm(u,g):new FormData(u),rc(s,{pending:!0,data:b,method:u.method,action:f},f,b))},currentTarget:u}]})}}for(var zc=0;zc<Eu.length;zc++){var _c=Eu[zc],JS=_c.toLowerCase(),jS=_c[0].toUpperCase()+_c.slice(1);pn(JS,"on"+jS)}pn(Id,"onAnimationEnd"),pn(Cd,"onAnimationIteration"),pn(Dd,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(uS,"onTransitionRun"),pn(cS,"onTransitionStart"),pn(fS,"onTransitionCancel"),pn(wd,"onTransitionEnd"),Ra("onMouseEnter",["mouseout","mouseover"]),Ra("onMouseLeave",["mouseout","mouseover"]),Ra("onPointerEnter",["pointerout","pointerover"]),Ra("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fs));function Qm(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],u=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var p=l[g],b=p.instance,w=p.currentTarget;if(p=p.listener,b!==f&&u.isPropagationStopped())break e;f=p,u.currentTarget=w;try{f(u)}catch(U){fl(U)}u.currentTarget=null,f=b}else for(g=0;g<l.length;g++){if(p=l[g],b=p.instance,w=p.currentTarget,p=p.listener,b!==f&&u.isPropagationStopped())break e;f=p,u.currentTarget=w;try{f(u)}catch(U){fl(U)}u.currentTarget=null,f=b}}}}function me(t,n){var s=n[eu];s===void 0&&(s=n[eu]=new Set);var l=t+"__bubble";s.has(l)||($m(n,t,2,!1),s.add(l))}function Kc(t,n,s){var l=0;n&&(l|=4),$m(s,t,l,n)}var $l="_reactListening"+Math.random().toString(36).slice(2);function Wc(t){if(!t[$l]){t[$l]=!0,Xh.forEach(function(s){s!=="selectionchange"&&(FS.has(s)||Kc(s,!1,t),Kc(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[$l]||(n[$l]=!0,Kc("selectionchange",!1,n))}}function $m(t,n,s,l){switch(Iy(n)){case 2:var u=EA;break;case 8:u=NA;break;default:u=rf}s=u.bind(null,n,s,t),u=void 0,!uu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?t.addEventListener(n,s,{capture:!0,passive:u}):t.addEventListener(n,s,!0):u!==void 0?t.addEventListener(n,s,{passive:u}):t.addEventListener(n,s,!1)}function Xc(t,n,s,l,u){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var p=l.stateNode.containerInfo;if(p===u)break;if(g===4)for(g=l.return;g!==null;){var b=g.tag;if((b===3||b===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;p!==null;){if(g=Ea(p),g===null)return;if(b=g.tag,b===5||b===6||b===26||b===27){l=f=g;continue e}p=p.parentNode}}l=l.return}nd(function(){var w=f,U=lu(s),Z=[];e:{var O=Od.get(t);if(O!==void 0){var x=ol,X=t;switch(t){case"keypress":if(sl(s)===0)break e;case"keydown":case"keyup":x=_0;break;case"focusin":X="focus",x=du;break;case"focusout":X="blur",x=du;break;case"beforeblur":case"afterblur":x=du;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=w0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=X0;break;case Id:case Cd:case Dd:x=x0;break;case wd:x=J0;break;case"scroll":case"scrollend":x=C0;break;case"wheel":x=F0;break;case"copy":case"cut":case"paste":x=U0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ld;break;case"toggle":case"beforetoggle":x=Q0}var ee=(n&4)!==0,Me=!ee&&(t==="scroll"||t==="scrollend"),R=ee?O!==null?O+"Capture":null:O;ee=[];for(var S=w,D;S!==null;){var M=S;if(D=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||D===null||R===null||(M=Br(S,R),M!=null&&ee.push(hs(S,M,D))),Me)break;S=S.return}0<ee.length&&(O=new x(O,X,null,s,U),Z.push({event:O,listeners:ee}))}}if((n&7)===0){e:{if(O=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",O&&s!==su&&(X=s.relatedTarget||s.fromElement)&&(Ea(X)||X[Aa]))break e;if((x||O)&&(O=U.window===U?U:(O=U.ownerDocument)?O.defaultView||O.parentWindow:window,x?(X=s.relatedTarget||s.toElement,x=w,X=X?Ea(X):null,X!==null&&(Me=c(X),ee=X.tag,X!==Me||ee!==5&&ee!==27&&ee!==6)&&(X=null)):(x=null,X=w),x!==X)){if(ee=rd,M="onMouseLeave",R="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(ee=ld,M="onPointerLeave",R="onPointerEnter",S="pointer"),Me=x==null?O:xr(x),D=X==null?O:xr(X),O=new ee(M,S+"leave",x,s,U),O.target=Me,O.relatedTarget=D,M=null,Ea(U)===w&&(ee=new ee(R,S+"enter",X,s,U),ee.target=D,ee.relatedTarget=Me,M=ee),Me=M,x&&X)t:{for(ee=HS,R=x,S=X,D=0,M=R;M;M=ee(M))D++;M=0;for(var $=S;$;$=ee($))M++;for(;0<D-M;)R=ee(R),D--;for(;0<M-D;)S=ee(S),M--;for(;D--;){if(R===S||S!==null&&R===S.alternate){ee=R;break t}R=ee(R),S=ee(S)}ee=null}else ee=null;x!==null&&Pm(Z,O,x,ee,!1),X!==null&&Me!==null&&Pm(Z,Me,X,ee,!0)}}e:{if(O=w?xr(w):window,x=O.nodeName&&O.nodeName.toLowerCase(),x==="select"||x==="input"&&O.type==="file")var Te=md;else if(dd(O))if(yd)Te=sS;else{Te=aS;var F=iS}else x=O.nodeName,!x||x.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?w&&ru(w.elementType)&&(Te=md):Te=rS;if(Te&&(Te=Te(t,w))){gd(Z,Te,s,U);break e}F&&F(t,O,w),t==="focusout"&&w&&O.type==="number"&&w.memoizedProps.value!=null&&au(O,"number",O.value)}switch(F=w?xr(w):window,t){case"focusin":(dd(F)||F.contentEditable==="true")&&(Va=F,vu=w,_r=null);break;case"focusout":_r=vu=Va=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,Td(Z,s,U);break;case"selectionchange":if(oS)break;case"keydown":case"keyup":Td(Z,s,U)}var oe;if(mu)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Oa?fd(t,s)&&(be="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(be="onCompositionStart");be&&(od&&s.locale!=="ko"&&(Oa||be!=="onCompositionStart"?be==="onCompositionEnd"&&Oa&&(oe=id()):(gi=U,cu="value"in gi?gi.value:gi.textContent,Oa=!0)),F=Pl(w,be),0<F.length&&(be=new sd(be,t,null,s,U),Z.push({event:be,listeners:F}),oe?be.data=oe:(oe=hd(s),oe!==null&&(be.data=oe)))),(oe=P0?q0(t,s):eS(t,s))&&(be=Pl(w,"onBeforeInput"),0<be.length&&(F=new sd("onBeforeInput","beforeinput",null,s,U),Z.push({event:F,listeners:be}),F.data=oe)),kS(Z,t,w,s,U)}Qm(Z,n)})}function hs(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Pl(t,n){for(var s=n+"Capture",l=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Br(t,s),u!=null&&l.unshift(hs(t,u,f)),u=Br(t,n),u!=null&&l.push(hs(t,u,f))),t.tag===3)return l;t=t.return}return[]}function HS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pm(t,n,s,l,u){for(var f=n._reactName,g=[];s!==null&&s!==l;){var p=s,b=p.alternate,w=p.stateNode;if(p=p.tag,b!==null&&b===l)break;p!==5&&p!==26&&p!==27||w===null||(b=w,u?(w=Br(s,f),w!=null&&g.unshift(hs(s,w,b))):u||(w=Br(s,f),w!=null&&g.push(hs(s,w,b)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var QS=/\r\n?/g,$S=/\u0000|\uFFFD/g;function qm(t){return(typeof t=="string"?t:""+t).replace(QS,`
`).replace($S,"")}function ey(t,n){return n=qm(n),qm(t)===n}function Le(t,n,s,l,u,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Ca(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Ca(t,""+l);break;case"className":nl(t,"class",l);break;case"tabIndex":nl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":nl(t,s,l);break;case"style":ed(t,l,f);break;case"data":if(n!=="object"){nl(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=al(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Le(t,n,"name",u.name,u,null),Le(t,n,"formEncType",u.formEncType,u,null),Le(t,n,"formMethod",u.formMethod,u,null),Le(t,n,"formTarget",u.formTarget,u,null)):(Le(t,n,"encType",u.encType,u,null),Le(t,n,"method",u.method,u,null),Le(t,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=al(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=_n);break;case"onScroll":l!=null&&me("scroll",t);break;case"onScrollEnd":l!=null&&me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=al(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":me("beforetoggle",t),me("toggle",t),tl(t,"popover",l);break;case"xlinkActuate":zn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":tl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=R0.get(s)||s,tl(t,s,l))}}function kc(t,n,s,l,u,f){switch(s){case"style":ed(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Ca(t,l):(typeof l=="number"||typeof l=="bigint")&&Ca(t,""+l);break;case"onScroll":l!=null&&me("scroll",t);break;case"onScrollEnd":l!=null&&me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kh.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),n=s.slice(2,u?s.length-7:void 0),f=t[It]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,u);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):tl(t,s,l)}}}function gt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",t),me("load",t);var l=!1,u=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Le(t,n,f,g,s,null)}}u&&Le(t,n,"srcSet",s.srcSet,s,null),l&&Le(t,n,"src",s.src,s,null);return;case"input":me("invalid",t);var p=f=g=u=null,b=null,w=null;for(l in s)if(s.hasOwnProperty(l)){var U=s[l];if(U!=null)switch(l){case"name":u=U;break;case"type":g=U;break;case"checked":b=U;break;case"defaultChecked":w=U;break;case"value":f=U;break;case"defaultValue":p=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,n));break;default:Le(t,n,l,U,s,null)}}Qh(t,f,p,b,w,g,u,!1);return;case"select":me("invalid",t),l=g=f=null;for(u in s)if(s.hasOwnProperty(u)&&(p=s[u],p!=null))switch(u){case"value":f=p;break;case"defaultValue":g=p;break;case"multiple":l=p;default:Le(t,n,u,p,s,null)}n=f,s=g,t.multiple=!!l,n!=null?Ia(t,!!l,n,!1):s!=null&&Ia(t,!!l,s,!0);return;case"textarea":me("invalid",t),f=u=l=null;for(g in s)if(s.hasOwnProperty(g)&&(p=s[g],p!=null))switch(g){case"value":l=p;break;case"defaultValue":u=p;break;case"children":f=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:Le(t,n,g,p,s,null)}Ph(t,l,u,f);return;case"option":for(b in s)if(s.hasOwnProperty(b)&&(l=s[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Le(t,n,b,l,s,null)}return;case"dialog":me("beforetoggle",t),me("toggle",t),me("cancel",t),me("close",t);break;case"iframe":case"object":me("load",t);break;case"video":case"audio":for(l=0;l<fs.length;l++)me(fs[l],t);break;case"image":me("error",t),me("load",t);break;case"details":me("toggle",t);break;case"embed":case"source":case"link":me("error",t),me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in s)if(s.hasOwnProperty(w)&&(l=s[w],l!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Le(t,n,w,l,s,null)}return;default:if(ru(n)){for(U in s)s.hasOwnProperty(U)&&(l=s[U],l!==void 0&&kc(t,n,U,l,s,void 0));return}}for(p in s)s.hasOwnProperty(p)&&(l=s[p],l!=null&&Le(t,n,p,l,s,null))}function PS(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,p=null,b=null,w=null,U=null;for(x in s){var Z=s[x];if(s.hasOwnProperty(x)&&Z!=null)switch(x){case"checked":break;case"value":break;case"defaultValue":b=Z;default:l.hasOwnProperty(x)||Le(t,n,x,null,l,Z)}}for(var O in l){var x=l[O];if(Z=s[O],l.hasOwnProperty(O)&&(x!=null||Z!=null))switch(O){case"type":f=x;break;case"name":u=x;break;case"checked":w=x;break;case"defaultChecked":U=x;break;case"value":g=x;break;case"defaultValue":p=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(137,n));break;default:x!==Z&&Le(t,n,O,x,l,Z)}}iu(t,g,p,b,w,U,f,u);return;case"select":x=g=p=O=null;for(f in s)if(b=s[f],s.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":x=b;default:l.hasOwnProperty(f)||Le(t,n,f,null,l,b)}for(u in l)if(f=l[u],b=s[u],l.hasOwnProperty(u)&&(f!=null||b!=null))switch(u){case"value":O=f;break;case"defaultValue":p=f;break;case"multiple":g=f;default:f!==b&&Le(t,n,u,f,l,b)}n=p,s=g,l=x,O!=null?Ia(t,!!s,O,!1):!!l!=!!s&&(n!=null?Ia(t,!!s,n,!0):Ia(t,!!s,s?[]:"",!1));return;case"textarea":x=O=null;for(p in s)if(u=s[p],s.hasOwnProperty(p)&&u!=null&&!l.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Le(t,n,p,null,l,u)}for(g in l)if(u=l[g],f=s[g],l.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":O=u;break;case"defaultValue":x=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==f&&Le(t,n,g,u,l,f)}$h(t,O,x);return;case"option":for(var X in s)if(O=s[X],s.hasOwnProperty(X)&&O!=null&&!l.hasOwnProperty(X))switch(X){case"selected":t.selected=!1;break;default:Le(t,n,X,null,l,O)}for(b in l)if(O=l[b],x=s[b],l.hasOwnProperty(b)&&O!==x&&(O!=null||x!=null))switch(b){case"selected":t.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Le(t,n,b,O,l,x)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ee in s)O=s[ee],s.hasOwnProperty(ee)&&O!=null&&!l.hasOwnProperty(ee)&&Le(t,n,ee,null,l,O);for(w in l)if(O=l[w],x=s[w],l.hasOwnProperty(w)&&O!==x&&(O!=null||x!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,n));break;default:Le(t,n,w,O,l,x)}return;default:if(ru(n)){for(var Me in s)O=s[Me],s.hasOwnProperty(Me)&&O!==void 0&&!l.hasOwnProperty(Me)&&kc(t,n,Me,void 0,l,O);for(U in l)O=l[U],x=s[U],!l.hasOwnProperty(U)||O===x||O===void 0&&x===void 0||kc(t,n,U,O,l,x);return}}for(var R in s)O=s[R],s.hasOwnProperty(R)&&O!=null&&!l.hasOwnProperty(R)&&Le(t,n,R,null,l,O);for(Z in l)O=l[Z],x=s[Z],!l.hasOwnProperty(Z)||O===x||O==null&&x==null||Le(t,n,Z,O,l,x)}function ty(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var u=s[l],f=u.transferSize,g=u.initiatorType,p=u.duration;if(f&&p&&ty(g)){for(g=0,p=u.responseEnd,l+=1;l<s.length;l++){var b=s[l],w=b.startTime;if(w>p)break;var U=b.transferSize,Z=b.initiatorType;U&&ty(Z)&&(b=b.responseEnd,g+=U*(b<p?1:(p-w)/(b-w)))}if(--l,n+=8*(f+g)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Jc=null,jc=null;function ql(t){return t.nodeType===9?t:t.ownerDocument}function ny(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Fc(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hc=null;function eA(){var t=window.event;return t&&t.type==="popstate"?t===Hc?!1:(Hc=t,!0):(Hc=null,!1)}var ay=typeof setTimeout=="function"?setTimeout:void 0,tA=typeof clearTimeout=="function"?clearTimeout:void 0,ry=typeof Promise=="function"?Promise:void 0,nA=typeof queueMicrotask=="function"?queueMicrotask:typeof ry<"u"?function(t){return ry.resolve(null).then(t).catch(iA)}:ay;function iA(t){setTimeout(function(){throw t})}function Vi(t){return t==="head"}function sy(t,n){var s=n,l=0;do{var u=s.nextSibling;if(t.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(u),ar(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ds(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,ds(s);for(var f=s.firstChild;f;){var g=f.nextSibling,p=f.nodeName;f[Vr]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ds(t.ownerDocument.body);s=u}while(s);ar(n)}function ly(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Qc(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Qc(s),tu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function aA(t,n,s,l){for(;t.nodeType===1;){var u=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Vr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=sn(t.nextSibling),t===null)break}return null}function rA(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=sn(t.nextSibling),t===null))return null;return t}function oy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=sn(t.nextSibling),t===null))return null;return t}function $c(t){return t.data==="$?"||t.data==="$~"}function Pc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function sA(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function sn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var qc=null;function uy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return sn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function cy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function fy(t,n,s){switch(n=ql(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function ds(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);tu(t)}var ln=new Map,hy=new Set;function eo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ii=K.d;K.d={f:lA,r:oA,D:uA,C:cA,L:fA,m:hA,X:gA,S:dA,M:mA};function lA(){var t=ii.f(),n=kl();return t||n}function oA(t){var n=Na(t);n!==null&&n.tag===5&&n.type==="form"?wg(n):ii.r(t)}var tr=typeof document>"u"?null:document;function dy(t,n,s){var l=tr;if(l&&typeof n=="string"&&n){var u=Pt(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),hy.has(u)||(hy.add(u),t={rel:t,crossOrigin:s,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),gt(n,"link",t),lt(n),l.head.appendChild(n)))}}function uA(t){ii.D(t),dy("dns-prefetch",t,null)}function cA(t,n){ii.C(t,n),dy("preconnect",t,n)}function fA(t,n,s){ii.L(t,n,s);var l=tr;if(l&&t&&n){var u='link[rel="preload"][as="'+Pt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+Pt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+Pt(s.imageSizes)+'"]')):u+='[href="'+Pt(t)+'"]';var f=u;switch(n){case"style":f=nr(t);break;case"script":f=ir(t)}ln.has(f)||(t=T({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ln.set(f,t),l.querySelector(u)!==null||n==="style"&&l.querySelector(gs(f))||n==="script"&&l.querySelector(ms(f))||(n=l.createElement("link"),gt(n,"link",t),lt(n),l.head.appendChild(n)))}}function hA(t,n){ii.m(t,n);var s=tr;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Pt(l)+'"][href="'+Pt(t)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ir(t)}if(!ln.has(f)&&(t=T({rel:"modulepreload",href:t},n),ln.set(f,t),s.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ms(f)))return}l=s.createElement("link"),gt(l,"link",t),lt(l),s.head.appendChild(l)}}}function dA(t,n,s){ii.S(t,n,s);var l=tr;if(l&&t){var u=Ta(l).hoistableStyles,f=nr(t);n=n||"default";var g=u.get(f);if(!g){var p={loading:0,preload:null};if(g=l.querySelector(gs(f)))p.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ln.get(f))&&ef(t,s);var b=g=l.createElement("link");lt(b),gt(b,"link",t),b._p=new Promise(function(w,U){b.onload=w,b.onerror=U}),b.addEventListener("load",function(){p.loading|=1}),b.addEventListener("error",function(){p.loading|=2}),p.loading|=4,to(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:p},u.set(f,g)}}}function gA(t,n){ii.X(t,n);var s=tr;if(s&&t){var l=Ta(s).hoistableScripts,u=ir(t),f=l.get(u);f||(f=s.querySelector(ms(u)),f||(t=T({src:t,async:!0},n),(n=ln.get(u))&&tf(t,n),f=s.createElement("script"),lt(f),gt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function mA(t,n){ii.M(t,n);var s=tr;if(s&&t){var l=Ta(s).hoistableScripts,u=ir(t),f=l.get(u);f||(f=s.querySelector(ms(u)),f||(t=T({src:t,async:!0,type:"module"},n),(n=ln.get(u))&&tf(t,n),f=s.createElement("script"),lt(f),gt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function gy(t,n,s,l){var u=(u=de.current)?eo(u):null;if(!u)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=nr(s.href),s=Ta(u).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=nr(s.href);var f=Ta(u).hoistableStyles,g=f.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=u.querySelector(gs(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ln.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ln.set(t,s),f||yA(u,t,s,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ir(s),s=Ta(u).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function nr(t){return'href="'+Pt(t)+'"'}function gs(t){return'link[rel="stylesheet"]['+t+"]"}function my(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function yA(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),gt(n,"link",s),lt(n),t.head.appendChild(n))}function ir(t){return'[src="'+Pt(t)+'"]'}function ms(t){return"script[async]"+t}function yy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Pt(s.href)+'"]');if(l)return n.instance=l,lt(l),l;var u=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),lt(l),gt(l,"style",u),to(l,s.precedence,t),n.instance=l;case"stylesheet":u=nr(s.href);var f=t.querySelector(gs(u));if(f)return n.state.loading|=4,n.instance=f,lt(f),f;l=my(s),(u=ln.get(u))&&ef(l,u),f=(t.ownerDocument||t).createElement("link"),lt(f);var g=f;return g._p=new Promise(function(p,b){g.onload=p,g.onerror=b}),gt(f,"link",l),n.state.loading|=4,to(f,s.precedence,t),n.instance=f;case"script":return f=ir(s.src),(u=t.querySelector(ms(f)))?(n.instance=u,lt(u),u):(l=s,(u=ln.get(f))&&(l=T({},s),tf(l,u)),t=t.ownerDocument||t,u=t.createElement("script"),lt(u),gt(u,"link",l),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,to(l,s.precedence,t));return n.instance}function to(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,g=0;g<l.length;g++){var p=l[g];if(p.dataset.precedence===n)f=p;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var no=null;function py(t,n,s){if(no===null){var l=new Map,u=no=new Map;u.set(s,l)}else u=no,l=u.get(s),l||(l=new Map,u.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),u=0;u<s.length;u++){var f=s[u];if(!(f[Vr]||f[ct]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var p=l.get(g);p?p.push(f):l.set(g,[f])}}return l}function by(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function pA(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function vy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function bA(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=nr(l.href),f=n.querySelector(gs(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=io.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,lt(f);return}f=n.ownerDocument||n,l=my(l),(u=ln.get(u))&&ef(l,u),f=f.createElement("link"),lt(f);var g=f;g._p=new Promise(function(p,b){g.onload=p,g.onerror=b}),gt(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=io.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var nf=0;function vA(t,n){return t.stylesheets&&t.count===0&&ro(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&ro(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&nf===0&&(nf=62500*qS());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ro(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>nf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function io(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ro(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ao=null;function ro(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ao=new Map,n.forEach(SA,t),ao=null,io.call(t))}function SA(t,n){if(!(n.state.loading&4)){var s=ao.get(t);if(s)var l=s.get(null);else{s=new Map,ao.set(t,s);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}u=n.instance,g=u.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,u),s.set(g,u),this.count++,l=io.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var ys={$$typeof:te,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function AA(t,n,s,l,u,f,g,p,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$o(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.hiddenUpdates=$o(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Sy(t,n,s,l,u,f,g,p,b,w,U,Z){return t=new AA(t,n,s,g,b,w,U,Z,p),n=1,f===!0&&(n|=24),f=Wt(3,null,null,n),t.current=f,f.stateNode=t,n=Lu(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Gu(f),t}function Ay(t){return t?(t=Ua,t):Ua}function Ey(t,n,s,l,u,f){u=Ay(u),l.context===null?l.context=u:l.pendingContext=u,l=Si(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ai(t,l,n),s!==null&&(xt(s,t,n),Fr(s,t,n))}function Ny(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function af(t,n){Ny(t,n),(t=t.alternate)&&Ny(t,n)}function Ty(t){if(t.tag===13||t.tag===31){var n=ea(t,67108864);n!==null&&xt(n,t,67108864),af(t,67108864)}}function Ry(t){if(t.tag===13||t.tag===31){var n=Ft();n=Po(n);var s=ea(t,n);s!==null&&xt(s,t,n),af(t,n)}}var so=!0;function EA(t,n,s,l){var u=L.T;L.T=null;var f=K.p;try{K.p=2,rf(t,n,s,l)}finally{K.p=f,L.T=u}}function NA(t,n,s,l){var u=L.T;L.T=null;var f=K.p;try{K.p=8,rf(t,n,s,l)}finally{K.p=f,L.T=u}}function rf(t,n,s,l){if(so){var u=sf(l);if(u===null)Xc(t,n,l,lo,s),Cy(t,l);else if(RA(u,t,n,s,l))l.stopPropagation();else if(Cy(t,l),n&4&&-1<TA.indexOf(t)){for(;u!==null;){var f=Na(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Hi(f.pendingLanes);if(g!==0){var p=f;for(p.pendingLanes|=2,p.entangledLanes|=2;g;){var b=1<<31-_t(g);p.entanglements[1]|=b,g&=~b}Vn(f),(Ie&6)===0&&(Wl=Gt()+500,cs(0))}}break;case 31:case 13:p=ea(f,2),p!==null&&xt(p,f,2),kl(),af(f,2)}if(f=sf(l),f===null&&Xc(t,n,l,lo,s),f===u)break;u=f}u!==null&&l.stopPropagation()}else Xc(t,n,l,null,s)}}function sf(t){return t=lu(t),lf(t)}var lo=null;function lf(t){if(lo=null,t=Ea(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=h(n),t!==null)return t;t=null}else if(s===31){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return lo=t,null}function Iy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(u0()){case Uh:return 2;case Lh:return 8;case Qs:case c0:return 32;case Mh:return 268435456;default:return 32}default:return 32}}var of=!1,xi=null,Bi=null,Ui=null,ps=new Map,bs=new Map,Li=[],TA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cy(t,n){switch(t){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":ps.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(n.pointerId)}}function vs(t,n,s,l,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},n!==null&&(n=Na(n),n!==null&&Ty(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function RA(t,n,s,l,u){switch(n){case"focusin":return xi=vs(xi,t,n,s,l,u),!0;case"dragenter":return Bi=vs(Bi,t,n,s,l,u),!0;case"mouseover":return Ui=vs(Ui,t,n,s,l,u),!0;case"pointerover":var f=u.pointerId;return ps.set(f,vs(ps.get(f)||null,t,n,s,l,u)),!0;case"gotpointercapture":return f=u.pointerId,bs.set(f,vs(bs.get(f)||null,t,n,s,l,u)),!0}return!1}function Dy(t){var n=Ea(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){t.blockedOn=n,Kh(t.priority,function(){Ry(s)});return}}else if(n===31){if(n=d(s),n!==null){t.blockedOn=n,Kh(t.priority,function(){Ry(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=sf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);su=l,s.target.dispatchEvent(l),su=null}else return n=Na(s),n!==null&&Ty(n),t.blockedOn=s,!1;n.shift()}return!0}function wy(t,n,s){oo(t)&&s.delete(n)}function IA(){of=!1,xi!==null&&oo(xi)&&(xi=null),Bi!==null&&oo(Bi)&&(Bi=null),Ui!==null&&oo(Ui)&&(Ui=null),ps.forEach(wy),bs.forEach(wy)}function uo(t,n){t.blockedOn===n&&(t.blockedOn=null,of||(of=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,IA)))}var co=null;function Oy(t){co!==t&&(co=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){co===t&&(co=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],u=t[n+2];if(typeof l!="function"){if(lf(l||s)===null)continue;break}var f=Na(s);f!==null&&(t.splice(n,3),n-=3,rc(f,{pending:!0,data:u,method:s.method,action:l},l,u))}}))}function ar(t){function n(b){return uo(b,t)}xi!==null&&uo(xi,t),Bi!==null&&uo(Bi,t),Ui!==null&&uo(Ui,t),ps.forEach(n),bs.forEach(n);for(var s=0;s<Li.length;s++){var l=Li[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Li.length&&(s=Li[0],s.blockedOn===null);)Dy(s),s.blockedOn===null&&Li.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var u=s[l],f=s[l+1],g=u[It]||null;if(typeof f=="function")g||Oy(s);else if(g){var p=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[It]||null)p=g.formAction;else if(lf(u)!==null)continue}else p=g.action;typeof p=="function"?s[l+1]=p:(s.splice(l,3),l-=3),Oy(s)}}}function Vy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function uf(t){this._internalRoot=t}fo.prototype.render=uf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=Ft();Ey(s,l,t,n,null,null)},fo.prototype.unmount=uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ey(t.current,2,null,t,null,null),kl(),n[Aa]=null}};function fo(t){this._internalRoot=t}fo.prototype.unstable_scheduleHydration=function(t){if(t){var n=_h();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Li.length&&n!==0&&n<Li[s].priority;s++);Li.splice(s,0,t),s===0&&Dy(t)}};var xy=e.version;if(xy!=="19.2.1")throw Error(r(527,xy,"19.2.1"));K.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var CA={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ho.isDisabled&&ho.supportsFiber)try{Dr=ho.inject(CA),zt=ho}catch{}}return As.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",u=Gg,f=zg,g=_g;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Sy(t,1,!1,null,null,s,l,null,u,f,g,Vy),t[Aa]=n.current,Wc(t),new uf(n)},As.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,u="",f=Gg,g=zg,p=_g,b=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(p=s.onRecoverableError),s.formState!==void 0&&(b=s.formState)),n=Sy(t,1,!0,n,s??null,l,u,b,f,g,p,Vy),n.context=Ay(null),s=n.current,l=Ft(),l=Po(l),u=Si(l),u.callback=null,Ai(s,u,l),s=l,n.current.lanes=s,Or(n,s),Vn(n),t[Aa]=n.current,Wc(t),new fo(n)},As.version="19.2.1",As}var Ky;function ZA(){if(Ky)return ff.exports;Ky=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ff.exports=MA(),ff.exports}var YA=ZA();const GA=yb(YA);var We=Kf();function pb({onSave:i,placeholder:e}){const[a,r]=We.useState("");return Ce.jsx("input",{className:"new-todo",type:"text",placeholder:e,value:a,onChange:o=>{r(o.target.value)},onKeyDown:o=>{o.key==="Enter"&&!o.nativeEvent.isComposing&&(i(a.trim()),r(""))}})}function zA({dispatch:i}){const e=a=>{i({type:"ADDED_TODO",payload:{text:a}})};return Ce.jsxs("header",{className:"header",children:[Ce.jsx("h1",{children:"todos"}),Ce.jsx(pb,{onSave:a=>{a.length!==0&&e(a)},placeholder:"What needs to be done?"})]})}var yf={exports:{}};var Wy;function _A(){return Wy||(Wy=1,(function(i){(function(){var e={}.hasOwnProperty;function a(){for(var c="",h=0;h<arguments.length;h++){var d=arguments[h];d&&(c=o(c,r(d)))}return c}function r(c){if(typeof c=="string"||typeof c=="number")return c;if(typeof c!="object")return"";if(Array.isArray(c))return a.apply(null,c);if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]"))return c.toString();var h="";for(var d in c)e.call(c,d)&&c[d]&&(h=o(h,d));return h}function o(c,h){return h?c?c+" "+h:c+h:c}i.exports?(a.default=a,i.exports=a):window.classNames=a})()})(yf)),yf.exports}var KA=_A();const bb=yb(KA),Xy={SHOW_ALL:"All",SHOW_ACTIVE:"Active",SHOW_COMPLETED:"Completed"};function WA({completedCount:i,activeCount:e,filter:a,onClearCompleted:r,onShow:o}){return Ce.jsxs("footer",{className:"footer",children:[Ce.jsxs("span",{className:"todo-count",children:[Ce.jsx("strong",{children:e||"No"}),"",e===1?"item":"items"," left"]}),Ce.jsx("ul",{className:"filters",children:Object.keys(Xy).map(c=>Ce.jsx("li",{children:Ce.jsx("button",{type:"button",className:bb({selected:c===a}),style:{cursor:"pointer"},onClick:()=>o(c),children:Xy[c]})},c))}),!!i&&Ce.jsx("button",{type:"button",className:"clear-completed",onClick:r,children:"Clear completed"})]})}function XA({todo:i,dispatch:e}){const[a,r]=We.useState(!1),o=d=>{e({type:"DELETED_TODO",payload:{id:d}})},c=(d,m)=>{e({type:"EDITED_TODO",payload:{id:d,text:m}})},h=d=>{e({type:"COMPLETED_TODO",payload:{id:d}})};return Ce.jsx("li",{className:bb({completed:i.completed,editing:a}),children:a?Ce.jsx(pb,{editing:a,onSave:d=>{d.length===0?o(i.id):c(i.id,d),r(!1)}}):Ce.jsxs("div",{className:"view",children:[Ce.jsx("input",{id:`item-input-${i.id}`,className:"toggle",type:"checkbox",checked:i.completed,onChange:()=>h(i.id)}),Ce.jsx("label",{htmlFor:`item-input-${i.id}`,onDoubleClick:()=>r(!0),children:i.text}),Ce.jsx("button",{type:"button","aria-label":"Delete",className:"destroy",onClick:()=>o(i.id)})]})})}const kA={SHOW_ALL:()=>!0,SHOW_ACTIVE:i=>!i.completed,SHOW_COMPLETED:i=>i.completed};function JA({todos:i,dispatch:e}){const[a,r]=We.useState("SHOW_ALL"),o=i.filter(kA[a]),c=i.filter(y=>y.completed).length,h=i.length-c,d=()=>e({type:"CLEARED_COMPLETED"}),m=()=>e({type:"TOGGLED_ALL"});return i.length===0?null:Ce.jsxs("section",{className:"main",children:[o.length>0?Ce.jsxs("div",{className:"toggle-all-container",children:[Ce.jsx("input",{className:"toggle-all",type:"checkbox",id:"toggle-all",checked:c===i.length,onChange:m}),Ce.jsx("label",{className:"toggle-all-label",htmlFor:"toggle-all",children:"Mark all as complete"})]}):null,Ce.jsx("ul",{className:"todo-list",children:o.map(y=>Ce.jsx(XA,{todo:y,dispatch:e},y.id))}),Ce.jsx(WA,{completedCount:c,activeCount:h,filter:a,onClearCompleted:d,onShow:r})]})}function jA(i,e){switch(e.type){case"ADDED_TODO":{const{text:a}=e.payload;i.todos.push({id:crypto.randomUUID(),completed:!1,text:a});break}case"DELETED_TODO":{const{id:a}=e.payload,r=i.todos.findIndex(o=>o.id===a);if(r!==-1){const o=i.todos.getElementByIndex(r);i.todos.deleteByID(o.getID())}break}case"EDITED_TODO":{const{id:a,text:r}=e.payload;i.todos.forEach(o=>{o.id===a&&(o.text=r)});break}case"COMPLETED_TODO":{const{id:a}=e.payload;i.todos.forEach(r=>{r.id===a&&(r.completed=!r.completed)});break}case"CLEARED_COMPLETED":{const a=[];i.todos.forEach((r,o)=>{r.completed&&a.push(o)});for(let r=a.length-1;r>=0;r--){const o=i.todos.getElementByIndex(a[r]);i.todos.deleteByID(o.getID())}break}case"TOGGLED_ALL":{const a=i.todos.every(r=>r.completed);i.todos.forEach(r=>{r.completed=!a});break}}}var fe;(function(i){i[i.Canceled=1]="Canceled",i[i.Unknown=2]="Unknown",i[i.InvalidArgument=3]="InvalidArgument",i[i.DeadlineExceeded=4]="DeadlineExceeded",i[i.NotFound=5]="NotFound",i[i.AlreadyExists=6]="AlreadyExists",i[i.PermissionDenied=7]="PermissionDenied",i[i.ResourceExhausted=8]="ResourceExhausted",i[i.FailedPrecondition=9]="FailedPrecondition",i[i.Aborted=10]="Aborted",i[i.OutOfRange=11]="OutOfRange",i[i.Unimplemented=12]="Unimplemented",i[i.Internal=13]="Internal",i[i.Unavailable=14]="Unavailable",i[i.DataLoss=15]="DataLoss",i[i.Unauthenticated=16]="Unauthenticated"})(fe||(fe={}));function Wf(i,e){return i!==null&&typeof i=="object"&&"$typeName"in i&&typeof i.$typeName=="string"?e===void 0?!0:e.typeName===i.$typeName:!1}var C;(function(i){i[i.DOUBLE=1]="DOUBLE",i[i.FLOAT=2]="FLOAT",i[i.INT64=3]="INT64",i[i.UINT64=4]="UINT64",i[i.INT32=5]="INT32",i[i.FIXED64=6]="FIXED64",i[i.FIXED32=7]="FIXED32",i[i.BOOL=8]="BOOL",i[i.STRING=9]="STRING",i[i.BYTES=12]="BYTES",i[i.UINT32=13]="UINT32",i[i.SFIXED32=15]="SFIXED32",i[i.SFIXED64=16]="SFIXED64",i[i.SINT32=17]="SINT32",i[i.SINT64=18]="SINT64"})(C||(C={}));function FA(){let i=0,e=0;for(let r=0;r<28;r+=7){let o=this.buf[this.pos++];if(i|=(o&127)<<r,(o&128)==0)return this.assertBounds(),[i,e]}let a=this.buf[this.pos++];if(i|=(a&15)<<28,e=(a&112)>>4,(a&128)==0)return this.assertBounds(),[i,e];for(let r=3;r<=31;r+=7){let o=this.buf[this.pos++];if(e|=(o&127)<<r,(o&128)==0)return this.assertBounds(),[i,e]}throw new Error("invalid varint")}function pf(i,e,a){for(let c=0;c<28;c=c+7){const h=i>>>c,d=!(!(h>>>7)&&e==0),m=(d?h|128:h)&255;if(a.push(m),!d)return}const r=i>>>28&15|(e&7)<<4,o=e>>3!=0;if(a.push((o?r|128:r)&255),!!o){for(let c=3;c<31;c=c+7){const h=e>>>c,d=!!(h>>>7),m=(d?h|128:h)&255;if(a.push(m),!d)return}a.push(e>>>31&1)}}const Eo=4294967296;function ky(i){const e=i[0]==="-";e&&(i=i.slice(1));const a=1e6;let r=0,o=0;function c(h,d){const m=Number(i.slice(h,d));o*=a,r=r*a+m,r>=Eo&&(o=o+(r/Eo|0),r=r%Eo)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),e?Sb(r,o):Xf(r,o)}function HA(i,e){let a=Xf(i,e);const r=a.hi&2147483648;r&&(a=Sb(a.lo,a.hi));const o=vb(a.lo,a.hi);return r?"-"+o:o}function vb(i,e){if({lo:i,hi:e}=QA(i,e),e<=2097151)return String(Eo*e+i);const a=i&16777215,r=(i>>>24|e<<8)&16777215,o=e>>16&65535;let c=a+r*6777216+o*6710656,h=r+o*8147497,d=o*2;const m=1e7;return c>=m&&(h+=Math.floor(c/m),c%=m),h>=m&&(d+=Math.floor(h/m),h%=m),d.toString()+Jy(h)+Jy(c)}function QA(i,e){return{lo:i>>>0,hi:e>>>0}}function Xf(i,e){return{lo:i|0,hi:e|0}}function Sb(i,e){return e=~e,i?i=~i+1:e+=1,Xf(i,e)}const Jy=i=>{const e=String(i);return"0000000".slice(e.length)+e};function Df(i,e){if(i>=0){for(;i>127;)e.push(i&127|128),i=i>>>7;e.push(i)}else{for(let a=0;a<9;a++)e.push(i&127|128),i=i>>7;e.push(1)}}function $A(){let i=this.buf[this.pos++],e=i&127;if((i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<7,(i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<14,(i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<21,(i&128)==0)return this.assertBounds(),e;i=this.buf[this.pos++],e|=(i&15)<<28;for(let a=5;(i&128)!==0&&a<10;a++)i=this.buf[this.pos++];if((i&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var jy={};const ke=PA();function PA(){const i=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof i.getBigInt64=="function"&&typeof i.getBigUint64=="function"&&typeof i.setBigInt64=="function"&&typeof i.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof jy!="object"||jy.BUF_BIGINT_DISABLE!=="1")){const a=BigInt("-9223372036854775808"),r=BigInt("9223372036854775807"),o=BigInt("0"),c=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(h){const d=typeof h=="bigint"?h:BigInt(h);if(d>r||d<a)throw new Error(`invalid int64: ${h}`);return d},uParse(h){const d=typeof h=="bigint"?h:BigInt(h);if(d>c||d<o)throw new Error(`invalid uint64: ${h}`);return d},enc(h){return i.setBigInt64(0,this.parse(h),!0),{lo:i.getInt32(0,!0),hi:i.getInt32(4,!0)}},uEnc(h){return i.setBigInt64(0,this.uParse(h),!0),{lo:i.getInt32(0,!0),hi:i.getInt32(4,!0)}},dec(h,d){return i.setInt32(0,h,!0),i.setInt32(4,d,!0),i.getBigInt64(0,!0)},uDec(h,d){return i.setInt32(0,h,!0),i.setInt32(4,d,!0),i.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(a){return typeof a!="string"&&(a=a.toString()),Fy(a),a},uParse(a){return typeof a!="string"&&(a=a.toString()),Hy(a),a},enc(a){return typeof a!="string"&&(a=a.toString()),Fy(a),ky(a)},uEnc(a){return typeof a!="string"&&(a=a.toString()),Hy(a),ky(a)},dec(a,r){return HA(a,r)},uDec(a,r){return vb(a,r)}}}function Fy(i){if(!/^-?[0-9]+$/.test(i))throw new Error("invalid int64: "+i)}function Hy(i){if(!/^[0-9]+$/.test(i))throw new Error("invalid uint64: "+i)}function ba(i,e){switch(i){case C.STRING:return"";case C.BOOL:return!1;case C.DOUBLE:case C.FLOAT:return 0;case C.INT64:case C.UINT64:case C.SFIXED64:case C.FIXED64:case C.SINT64:return e?"0":ke.zero;case C.BYTES:return new Uint8Array(0);default:return 0}}function qA(i,e){switch(i){case C.BOOL:return e===!1;case C.STRING:return e==="";case C.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}const Ab=2,ri=Symbol.for("reflect unsafe local");function Eb(i,e){const a=i[e.localName].case;return a===void 0?a:e.fields.find(r=>r.localName===a)}function eE(i,e){const a=e.localName;if(e.oneof)return i[e.oneof.localName].case===a;if(e.presence!=Ab)return i[a]!==void 0&&Object.prototype.hasOwnProperty.call(i,a);switch(e.fieldKind){case"list":return i[a].length>0;case"map":return Object.keys(i[a]).length>0;case"scalar":return!qA(e.scalar,i[a]);case"enum":return i[a]!==e.enum.values[0].number}throw new Error("message field with implicit presence")}function Bs(i,e){return Object.prototype.hasOwnProperty.call(i,e)&&i[e]!==void 0}function Nb(i,e){if(e.oneof){const a=i[e.oneof.localName];return a.case===e.localName?a.value:void 0}return i[e.localName]}function Tb(i,e,a){e.oneof?i[e.oneof.localName]={case:e.localName,value:a}:i[e.localName]=a}function tE(i,e){const a=e.localName;if(e.oneof){const r=e.oneof.localName;i[r].case===a&&(i[r]={case:void 0})}else if(e.presence!=Ab)delete i[a];else switch(e.fieldKind){case"map":i[a]={};break;case"list":i[a]=[];break;case"enum":i[a]=e.enum.values[0].number;break;case"scalar":i[a]=ba(e.scalar,e.longAsString);break}}function Wi(i){return i!==null&&typeof i=="object"&&!Array.isArray(i)}function kf(i,e){var a,r,o,c;if(Wi(i)&&ri in i&&"add"in i&&"field"in i&&typeof i.field=="function"){if(e!==void 0){const h=e,d=i.field();return h.listKind==d.listKind&&h.scalar===d.scalar&&((a=h.message)===null||a===void 0?void 0:a.typeName)===((r=d.message)===null||r===void 0?void 0:r.typeName)&&((o=h.enum)===null||o===void 0?void 0:o.typeName)===((c=d.enum)===null||c===void 0?void 0:c.typeName)}return!0}return!1}function Jf(i,e){var a,r,o,c;if(Wi(i)&&ri in i&&"has"in i&&"field"in i&&typeof i.field=="function"){if(e!==void 0){const h=e,d=i.field();return h.mapKey===d.mapKey&&h.mapKind==d.mapKind&&h.scalar===d.scalar&&((a=h.message)===null||a===void 0?void 0:a.typeName)===((r=d.message)===null||r===void 0?void 0:r.typeName)&&((o=h.enum)===null||o===void 0?void 0:o.typeName)===((c=d.enum)===null||c===void 0?void 0:c.typeName)}return!0}return!1}function jf(i,e){return Wi(i)&&ri in i&&"desc"in i&&Wi(i.desc)&&i.desc.kind==="message"&&(e===void 0||i.desc.typeName==e.typeName)}function nE(i){return Rb(i.$typeName)}function Xs(i){const e=i.fields[0];return Rb(i.typeName)&&e!==void 0&&e.fieldKind=="scalar"&&e.name=="value"&&e.number==1}function Rb(i){return i.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(i.substring(16))}const iE=999,aE=998,No=2;function H(i,e){if(Wf(e,i))return e;const a=uE(i);return e!==void 0&&rE(i,a,e),a}function rE(i,e,a){for(const r of i.members){let o=a[r.localName];if(o==null)continue;let c;if(r.kind=="oneof"){const h=Eb(a,r);if(!h)continue;c=h,o=Nb(a,h)}else c=r;switch(c.fieldKind){case"message":o=Ff(c,o);break;case"scalar":o=Ib(c,o);break;case"list":o=lE(c,o);break;case"map":o=sE(c,o);break}Tb(e,c,o)}return e}function Ib(i,e){return i.scalar==C.BYTES?Hf(e):e}function sE(i,e){if(Wi(e)){if(i.scalar==C.BYTES)return Qy(e,Hf);if(i.mapKind=="message")return Qy(e,a=>Ff(i,a))}return e}function lE(i,e){if(Array.isArray(e)){if(i.scalar==C.BYTES)return e.map(Hf);if(i.listKind=="message")return e.map(a=>Ff(i,a))}return e}function Ff(i,e){if(i.fieldKind=="message"&&!i.oneof&&Xs(i.message))return Ib(i.message.fields[0],e);if(Wi(e)){if(i.message.typeName=="google.protobuf.Struct"&&i.parent.typeName!=="google.protobuf.Value")return e;if(!Wf(e,i.message))return H(i.message,e)}return e}function Hf(i){return Array.isArray(i)?new Uint8Array(i):i}function Qy(i,e){const a={};for(const r of Object.entries(i))a[r[0]]=e(r[1]);return a}const oE=Symbol(),$y=new WeakMap;function uE(i){let e;if(cE(i)){const a=$y.get(i);let r,o;if(a)({prototype:r,members:o}=a);else{r={},o=new Set;for(const c of i.members)c.kind!="oneof"&&(c.fieldKind!="scalar"&&c.fieldKind!="enum"||c.presence!=No&&(o.add(c),r[c.localName]=bf(c)));$y.set(i,{prototype:r,members:o})}e=Object.create(r),e.$typeName=i.typeName;for(const c of i.members)o.has(c)||c.kind=="field"&&(c.fieldKind=="message"||(c.fieldKind=="scalar"||c.fieldKind=="enum")&&c.presence!=No)||(e[c.localName]=bf(c))}else{e={$typeName:i.typeName};for(const a of i.members)(a.kind=="oneof"||a.presence==No)&&(e[a.localName]=bf(a))}return e}function cE(i){switch(i.file.edition){case iE:return!1;case aE:return!0;default:return i.fields.some(e=>e.presence!=No&&e.fieldKind!="message"&&!e.oneof)}}function bf(i){if(i.kind=="oneof")return{case:void 0};if(i.fieldKind=="list")return[];if(i.fieldKind=="map")return{};if(i.fieldKind=="message")return oE;const e=i.getDefaultValue();return e!==void 0?i.fieldKind=="scalar"&&i.longAsString?e.toString():e:i.fieldKind=="scalar"?ba(i.scalar,i.longAsString):i.enum.values[0].number}const fE=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class Lt extends Error{constructor(e,a,r="FieldValueInvalidError"){super(a),this.name=r,this.field=()=>e}}function hE(i){return i instanceof Error&&fE.includes(i.name)&&"field"in i&&typeof i.field=="function"}const vf=Symbol.for("@bufbuild/protobuf/text-encoding");function Qf(){if(globalThis[vf]==null){const i=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[vf]={encodeUtf8(a){return i.encode(a)},decodeUtf8(a){return e.decode(a)},checkUtf8(a){try{return encodeURIComponent(a),!0}catch{return!1}}}}return globalThis[vf]}var et;(function(i){i[i.Varint=0]="Varint",i[i.Bit64=1]="Bit64",i[i.LengthDelimited=2]="LengthDelimited",i[i.StartGroup=3]="StartGroup",i[i.EndGroup=4]="EndGroup",i[i.Bit32=5]="Bit32"})(et||(et={}));const Cb=34028234663852886e22,Db=-34028234663852886e22,wb=4294967295,Ob=2147483647,Vb=-2147483648;class xb{constructor(e=Qf().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let o=0;o<this.chunks.length;o++)e+=this.chunks[o].length;let a=new Uint8Array(e),r=0;for(let o=0;o<this.chunks.length;o++)a.set(this.chunks[o],r),r+=this.chunks[o].length;return this.chunks=[],a}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),a=this.stack.pop();if(!a)throw new Error("invalid state, fork stack empty");return this.chunks=a.chunks,this.buf=a.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,a){return this.uint32((e<<3|a)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(Py(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return Sf(e),Df(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let a=this.encodeUtf8(e);return this.uint32(a.byteLength),this.raw(a)}float(e){dE(e);let a=new Uint8Array(4);return new DataView(a.buffer).setFloat32(0,e,!0),this.raw(a)}double(e){let a=new Uint8Array(8);return new DataView(a.buffer).setFloat64(0,e,!0),this.raw(a)}fixed32(e){Py(e);let a=new Uint8Array(4);return new DataView(a.buffer).setUint32(0,e,!0),this.raw(a)}sfixed32(e){Sf(e);let a=new Uint8Array(4);return new DataView(a.buffer).setInt32(0,e,!0),this.raw(a)}sint32(e){return Sf(e),e=(e<<1^e>>31)>>>0,Df(e,this.buf),this}sfixed64(e){let a=new Uint8Array(8),r=new DataView(a.buffer),o=ke.enc(e);return r.setInt32(0,o.lo,!0),r.setInt32(4,o.hi,!0),this.raw(a)}fixed64(e){let a=new Uint8Array(8),r=new DataView(a.buffer),o=ke.uEnc(e);return r.setInt32(0,o.lo,!0),r.setInt32(4,o.hi,!0),this.raw(a)}int64(e){let a=ke.enc(e);return pf(a.lo,a.hi,this.buf),this}sint64(e){const a=ke.enc(e),r=a.hi>>31,o=a.lo<<1^r,c=(a.hi<<1|a.lo>>>31)^r;return pf(o,c,this.buf),this}uint64(e){const a=ke.uEnc(e);return pf(a.lo,a.hi,this.buf),this}}class $f{constructor(e,a=Qf().decodeUtf8){this.decodeUtf8=a,this.varint64=FA,this.uint32=$A,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),a=e>>>3,r=e&7;if(a<=0||r<0||r>5)throw new Error("illegal tag: field no "+a+" wire type "+r);return[a,r]}skip(e,a){let r=this.pos;switch(e){case et.Varint:for(;this.buf[this.pos++]&128;);break;case et.Bit64:this.pos+=4;case et.Bit32:this.pos+=4;break;case et.LengthDelimited:let o=this.uint32();this.pos+=o;break;case et.StartGroup:for(;;){const[c,h]=this.tag();if(h===et.EndGroup){if(a!==void 0&&c!==a)throw new Error("invalid end group tag");break}this.skip(h,c)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return ke.dec(...this.varint64())}uint64(){return ke.uDec(...this.varint64())}sint64(){let[e,a]=this.varint64(),r=-(e&1);return e=(e>>>1|(a&1)<<31)^r,a=a>>>1^r,ke.dec(e,a)}bool(){let[e,a]=this.varint64();return e!==0||a!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return ke.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return ke.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),a=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(a,a+e)}string(){return this.decodeUtf8(this.bytes())}}function Sf(i){if(typeof i=="string")i=Number(i);else if(typeof i!="number")throw new Error("invalid int32: "+typeof i);if(!Number.isInteger(i)||i>Ob||i<Vb)throw new Error("invalid int32: "+i)}function Py(i){if(typeof i=="string")i=Number(i);else if(typeof i!="number")throw new Error("invalid uint32: "+typeof i);if(!Number.isInteger(i)||i>wb||i<0)throw new Error("invalid uint32: "+i)}function dE(i){if(typeof i=="string"){const e=i;if(i=Number(i),Number.isNaN(i)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof i!="number")throw new Error("invalid float32: "+typeof i);if(Number.isFinite(i)&&(i>Cb||i<Db))throw new Error("invalid float32: "+i)}function da(i,e){const a=i.fieldKind=="list"?kf(e,i):i.fieldKind=="map"?Jf(e,i):Pf(i,e);if(a===!0)return;let r;switch(i.fieldKind){case"list":r=`expected ${Lb(i)}, got ${ut(e)}`;break;case"map":r=`expected ${Mb(i)}, got ${ut(e)}`;break;default:r=Io(i,e,a)}return new Lt(i,r)}function qy(i,e,a){const r=Pf(i,a);if(r!==!0)return new Lt(i,`list item #${e+1}: ${Io(i,a,r)}`)}function gE(i,e,a){const r=Bb(e,i.mapKey);if(r!==!0)return new Lt(i,`invalid map key: ${Io({scalar:i.mapKey},e,r)}`);const o=Pf(i,a);if(o!==!0)return new Lt(i,`map entry ${ut(e)}: ${Io(i,a,o)}`)}function Pf(i,e){return i.scalar!==void 0?Bb(e,i.scalar):i.enum!==void 0?i.enum.open?Number.isInteger(e):i.enum.values.some(a=>a.number===e):jf(e,i.message)}function Bb(i,e){switch(e){case C.DOUBLE:return typeof i=="number";case C.FLOAT:return typeof i!="number"?!1:Number.isNaN(i)||!Number.isFinite(i)?!0:i>Cb||i<Db?`${i.toFixed()} out of range`:!0;case C.INT32:case C.SFIXED32:case C.SINT32:return typeof i!="number"||!Number.isInteger(i)?!1:i>Ob||i<Vb?`${i.toFixed()} out of range`:!0;case C.FIXED32:case C.UINT32:return typeof i!="number"||!Number.isInteger(i)?!1:i>wb||i<0?`${i.toFixed()} out of range`:!0;case C.BOOL:return typeof i=="boolean";case C.STRING:return typeof i!="string"?!1:Qf().checkUtf8(i)||"invalid UTF8";case C.BYTES:return i instanceof Uint8Array;case C.INT64:case C.SFIXED64:case C.SINT64:if(typeof i=="bigint"||typeof i=="number"||typeof i=="string"&&i.length>0)try{return ke.parse(i),!0}catch{return`${i} out of range`}return!1;case C.FIXED64:case C.UINT64:if(typeof i=="bigint"||typeof i=="number"||typeof i=="string"&&i.length>0)try{return ke.uParse(i),!0}catch{return`${i} out of range`}return!1}}function Io(i,e,a){return a=typeof a=="string"?`: ${a}`:`, got ${ut(e)}`,i.scalar!==void 0?`expected ${mE(i.scalar)}`+a:i.enum!==void 0?`expected ${i.enum.toString()}`+a:`expected ${Ub(i.message)}`+a}function ut(i){switch(typeof i){case"object":return i===null?"null":i instanceof Uint8Array?`Uint8Array(${i.length})`:Array.isArray(i)?`Array(${i.length})`:kf(i)?Lb(i.field()):Jf(i)?Mb(i.field()):jf(i)?Ub(i.desc):Wf(i)?`message ${i.$typeName}`:"object";case"string":return i.length>30?"string":`"${i.split('"').join('\\"')}"`;case"boolean":return String(i);case"number":return String(i);case"bigint":return String(i)+"n";default:return typeof i}}function Ub(i){return`ReflectMessage (${i.typeName})`}function Lb(i){switch(i.listKind){case"message":return`ReflectList (${i.message.toString()})`;case"enum":return`ReflectList (${i.enum.toString()})`;case"scalar":return`ReflectList (${C[i.scalar]})`}}function Mb(i){switch(i.mapKind){case"message":return`ReflectMap (${C[i.mapKey]}, ${i.message.toString()})`;case"enum":return`ReflectMap (${C[i.mapKey]}, ${i.enum.toString()})`;case"scalar":return`ReflectMap (${C[i.mapKey]}, ${C[i.scalar]})`}}function mE(i){switch(i){case C.STRING:return"string";case C.BOOL:return"boolean";case C.INT64:case C.SINT64:case C.SFIXED64:return"bigint (int64)";case C.UINT64:case C.FIXED64:return"bigint (uint64)";case C.BYTES:return"Uint8Array";case C.DOUBLE:return"number (float64)";case C.FLOAT:return"number (float32)";case C.FIXED32:case C.UINT32:return"number (uint32)";case C.INT32:case C.SFIXED32:case C.SINT32:return"number (int32)"}}function fn(i,e,a=!0){return new Zb(i,e,a)}const ep=new WeakMap;class Zb{get sortedFields(){const e=ep.get(this.desc);if(e)return e;const a=this.desc.fields.concat().sort((r,o)=>r.number-o.number);return ep.set(this.desc,a),a}constructor(e,a,r=!0){this.lists=new Map,this.maps=new Map,this.check=r,this.desc=e,this.message=this[ri]=a??H(e),this.fields=e.fields,this.oneofs=e.oneofs,this.members=e.members}findNumber(e){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(a=>[a.number,a]))),this._fieldsByNumber.get(e)}oneofCase(e){return Es(this.message,e),Eb(this.message,e)}isSet(e){return Es(this.message,e),eE(this.message,e)}clear(e){Es(this.message,e),tE(this.message,e)}get(e){Es(this.message,e);const a=Nb(this.message,e);switch(e.fieldKind){case"list":let r=this.lists.get(e);return(!r||r[ri]!==a)&&this.lists.set(e,r=new yE(e,a,this.check)),r;case"map":let o=this.maps.get(e);return(!o||o[ri]!==a)&&this.maps.set(e,o=new pE(e,a,this.check)),o;case"message":return eh(e,a,this.check);case"scalar":return a===void 0?ba(e.scalar,!1):th(e,a);case"enum":return a??e.enum.values[0].number}}set(e,a){if(Es(this.message,e),this.check){const o=da(e,a);if(o)throw o}let r;e.fieldKind=="message"?r=qf(e,a):Jf(a)||kf(a)?r=a[ri]:r=nh(e,a),Tb(this.message,e,r)}getUnknown(){return this.message.$unknown}setUnknown(e){this.message.$unknown=e}}function Es(i,e){if(e.parent.typeName!==i.$typeName)throw new Lt(e,`cannot use ${e.toString()} with message ${i.$typeName}`,"ForeignFieldError")}class yE{field(){return this._field}get size(){return this._arr.length}constructor(e,a,r){this._field=e,this._arr=this[ri]=a,this.check=r}get(e){const a=this._arr[e];return a===void 0?void 0:Af(this._field,a,this.check)}set(e,a){if(e<0||e>=this._arr.length)throw new Lt(this._field,`list item #${e+1}: out of range`);if(this.check){const r=qy(this._field,e,a);if(r)throw r}this._arr[e]=tp(this._field,a)}add(e){if(this.check){const a=qy(this._field,this._arr.length,e);if(a)throw a}this._arr.push(tp(this._field,e))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const e of this._arr)yield Af(this._field,e,this.check)}*entries(){for(let e=0;e<this._arr.length;e++)yield[e,Af(this._field,this._arr[e],this.check)]}}class pE{constructor(e,a,r=!0){this.obj=this[ri]=a??{},this.check=r,this._field=e}field(){return this._field}set(e,a){if(this.check){const r=gE(this._field,e,a);if(r)throw r}return this.obj[go(e)]=bE(this._field,a),this}delete(e){const a=go(e),r=Object.prototype.hasOwnProperty.call(this.obj,a);return r&&delete this.obj[a],r}clear(){for(const e of Object.keys(this.obj))delete this.obj[e]}get(e){let a=this.obj[go(e)];return a!==void 0&&(a=Ef(this._field,a,this.check)),a}has(e){return Object.prototype.hasOwnProperty.call(this.obj,go(e))}*keys(){for(const e of Object.keys(this.obj))yield np(e,this._field.mapKey)}*entries(){for(const e of Object.entries(this.obj))yield[np(e[0],this._field.mapKey),Ef(this._field,e[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const e of Object.values(this.obj))yield Ef(this._field,e,this.check)}forEach(e,a){for(const r of this.entries())e.call(a,r[1],r[0],this)}}function qf(i,e){return jf(e)?nE(e.message)&&!i.oneof&&i.fieldKind=="message"?e.message.value:e.desc.typeName=="google.protobuf.Struct"&&i.parent.typeName!="google.protobuf.Value"?Gb(e.message):e.message:e}function eh(i,e,a){return e!==void 0&&(Xs(i.message)&&!i.oneof&&i.fieldKind=="message"?e={$typeName:i.message.typeName,value:th(i.message.fields[0],e)}:i.message.typeName=="google.protobuf.Struct"&&i.parent.typeName!="google.protobuf.Value"&&Wi(e)&&(e=Yb(e))),new Zb(i.message,e,a)}function tp(i,e){return i.listKind=="message"?qf(i,e):nh(i,e)}function Af(i,e,a){return i.listKind=="message"?eh(i,e,a):th(i,e)}function bE(i,e){return i.mapKind=="message"?qf(i,e):nh(i,e)}function Ef(i,e,a){return i.mapKind=="message"?eh(i,e,a):e}function go(i){return typeof i=="string"||typeof i=="number"?i:String(i)}function np(i,e){switch(e){case C.STRING:return i;case C.INT32:case C.FIXED32:case C.UINT32:case C.SFIXED32:case C.SINT32:{const a=Number.parseInt(i);if(Number.isFinite(a))return a;break}case C.BOOL:switch(i){case"true":return!0;case"false":return!1}break;case C.UINT64:case C.FIXED64:try{return ke.uParse(i)}catch{}break;default:try{return ke.parse(i)}catch{}break}return i}function th(i,e){switch(i.scalar){case C.INT64:case C.SFIXED64:case C.SINT64:"longAsString"in i&&i.longAsString&&typeof e=="string"&&(e=ke.parse(e));break;case C.FIXED64:case C.UINT64:"longAsString"in i&&i.longAsString&&typeof e=="string"&&(e=ke.uParse(e));break}return e}function nh(i,e){switch(i.scalar){case C.INT64:case C.SFIXED64:case C.SINT64:"longAsString"in i&&i.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=ke.parse(e));break;case C.FIXED64:case C.UINT64:"longAsString"in i&&i.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=ke.uParse(e));break}return e}function Yb(i){const e={$typeName:"google.protobuf.Struct",fields:{}};if(Wi(i))for(const[a,r]of Object.entries(i))e.fields[a]=_b(r);return e}function Gb(i){const e={};for(const[a,r]of Object.entries(i.fields))e[a]=zb(r);return e}function zb(i){switch(i.kind.case){case"structValue":return Gb(i.kind.value);case"listValue":return i.kind.value.values.map(zb);case"nullValue":case void 0:return null;default:return i.kind.value}}function _b(i){const e={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof i){case"number":e.kind={case:"numberValue",value:i};break;case"string":e.kind={case:"stringValue",value:i};break;case"boolean":e.kind={case:"boolValue",value:i};break;case"object":if(i===null)e.kind={case:"nullValue",value:0};else if(Array.isArray(i)){const a={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(i))for(const r of i)a.values.push(_b(r));e.kind={case:"listValue",value:a}}else e.kind={case:"structValue",value:Yb(i)};break}return e}function ih(i){const e=SE();let a=i.length*3/4;i[i.length-2]=="="?a-=2:i[i.length-1]=="="&&(a-=1);let r=new Uint8Array(a),o=0,c=0,h,d=0;for(let m=0;m<i.length;m++){if(h=e[i.charCodeAt(m)],h===void 0)switch(i[m]){case"=":c=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(c){case 0:d=h,c=1;break;case 1:r[o++]=d<<2|(h&48)>>4,d=h,c=2;break;case 2:r[o++]=(d&15)<<4|(h&60)>>2,d=h,c=3;break;case 3:r[o++]=(d&3)<<6|h,c=0;break}}if(c==1)throw Error("invalid base64 string");return r.subarray(0,o)}function vE(i,e="std"){const a=Kb(e),r=e=="std";let o="",c=0,h,d=0;for(let m=0;m<i.length;m++)switch(h=i[m],c){case 0:o+=a[h>>2],d=(h&3)<<4,c=1;break;case 1:o+=a[d|h>>4],d=(h&15)<<2,c=2;break;case 2:o+=a[d|h>>6],o+=a[h&63],c=0;break}return c&&(o+=a[d],r&&(o+="=",c==1&&(o+="="))),o}let mo,ip,rr;function Kb(i){return mo||(mo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ip=mo.slice(0,-2).concat("-","_")),i=="url"?ip:mo}function SE(){if(!rr){rr=[];const i=Kb("std");for(let e=0;e<i.length;e++)rr[i[e].charCodeAt(0)]=e;rr[45]=i.indexOf("+"),rr[95]=i.indexOf("/")}return rr}function Us(i){let e=!1;const a=[];for(let r=0;r<i.length;r++){let o=i.charAt(r);switch(o){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":a.push(o),e=!1;break;default:e&&(e=!1,o=o.toUpperCase()),a.push(o);break}}return a.join("")}const AE=new Set(["constructor","toString","toJSON","valueOf"]);function Ls(i){return AE.has(i)?i+"$":i}function ah(i){for(const e of i.field)Bs(e,"jsonName")||(e.jsonName=Us(e.name));i.nestedType.forEach(ah)}function EE(i,e){const a=i.values.find(r=>r.name===e);if(!a)throw new Error(`cannot parse ${i} default value: ${e}`);return a.number}function NE(i,e){switch(i){case C.STRING:return e;case C.BYTES:{const a=TE(e);if(a===!1)throw new Error(`cannot parse ${C[i]} default value: ${e}`);return a}case C.INT64:case C.SFIXED64:case C.SINT64:return ke.parse(e);case C.UINT64:case C.FIXED64:return ke.uParse(e);case C.DOUBLE:case C.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case C.BOOL:return e==="true";case C.INT32:case C.UINT32:case C.SINT32:case C.FIXED32:case C.SFIXED32:return parseInt(e,10)}}function TE(i){const e=[],a={tail:i,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(r){if(this.tail.length>=r){const o=this.tail.substring(0,r);return this.tail=this.tail.substring(r),o}return!1}};for(;a.next();)switch(a.c){case"\\":if(a.next())switch(a.c){case"\\":e.push(a.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const r=a.c,o=a.take(2);if(o===!1)return!1;const c=parseInt(r+o,8);if(Number.isNaN(c))return!1;e.push(c);break}case"x":{const r=a.c,o=a.take(2);if(o===!1)return!1;const c=parseInt(r+o,16);if(Number.isNaN(c))return!1;e.push(c);break}case"u":{const r=a.c,o=a.take(4);if(o===!1)return!1;const c=parseInt(r+o,16);if(Number.isNaN(c))return!1;const h=new Uint8Array(4);new DataView(h.buffer).setInt32(0,c,!0),e.push(h[0],h[1],h[2],h[3]);break}case"U":{const r=a.c,o=a.take(8);if(o===!1)return!1;const c=ke.uEnc(r+o),h=new Uint8Array(8),d=new DataView(h.buffer);d.setInt32(0,c.lo,!0),d.setInt32(4,c.hi,!0),e.push(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7]);break}}break;default:e.push(a.c.charCodeAt(0))}return new Uint8Array(e)}function*wf(i){switch(i.kind){case"file":for(const e of i.messages)yield e,yield*wf(e);yield*i.enums,yield*i.services,yield*i.extensions;break;case"message":for(const e of i.nestedMessages)yield e,yield*wf(e);yield*i.nestedEnums,yield*i.nestedExtensions;break}}function Wb(...i){const e=RE();if(!i.length)return e;if("$typeName"in i[0]&&i[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const r of i[0].file)lp(r,e);return e}if("$typeName"in i[0]){let h=function(d){const m=[];for(const y of d.dependency){if(e.getFile(y)!=null||c.has(y))continue;const v=o(y);if(!v)throw new Error(`Unable to resolve ${y}, imported by ${d.name}`);"kind"in v?e.addFile(v,!1,!0):(c.add(v.name),m.push(v))}return m.concat(...m.map(h))};var a=h;const r=i[0],o=i[1],c=new Set;for(const d of[r,...h(r)].reverse())lp(d,e)}else for(const r of i)for(const o of r.files)e.addFile(o);return e}function RE(){const i=new Map,e=new Map,a=new Map;return{kind:"registry",types:i,extendees:e,[Symbol.iterator](){return i.values()},get files(){return a.values()},addFile(r,o,c){if(a.set(r.proto.name,r),!o)for(const h of wf(r))this.add(h);if(c)for(const h of r.dependencies)this.addFile(h,o,c)},add(r){if(r.kind=="extension"){let o=e.get(r.extendee.typeName);o||e.set(r.extendee.typeName,o=new Map),o.set(r.number,r)}i.set(r.typeName,r)},get(r){return i.get(r)},getFile(r){return a.get(r)},getMessage(r){const o=i.get(r);return o?.kind=="message"?o:void 0},getEnum(r){const o=i.get(r);return o?.kind=="enum"?o:void 0},getExtension(r){const o=i.get(r);return o?.kind=="extension"?o:void 0},getExtensionFor(r,o){var c;return(c=e.get(r.typeName))===null||c===void 0?void 0:c.get(o)},getService(r){const o=i.get(r);return o?.kind=="service"?o:void 0}}}const IE=998,CE=999,DE=9,Ms=10,Ds=11,wE=12,ap=14,rh=3,OE=2,rp=1,VE=0,Nf=1,sp=2,xE=3,BE=1,UE=2,LE=1,Xb={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function lp(i,e){var a,r;const o={kind:"file",proto:i,deprecated:(r=(a=i.options)===null||a===void 0?void 0:a.deprecated)!==null&&r!==void 0?r:!1,edition:GE(i),name:i.name.replace(/\.proto$/,""),dependencies:zE(i,e),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${i.name}`}},c=new Map,h={get(d){return c.get(d)},add(d){var m;Nn(((m=d.proto.options)===null||m===void 0?void 0:m.mapEntry)===!0),c.set(d.typeName,d)}};for(const d of i.enumType)kb(d,o,void 0,e);for(const d of i.messageType)Jb(d,o,void 0,e,h);for(const d of i.service)ME(d,o,e);Of(o,e);for(const d of c.values())Vf(d,e,h);for(const d of o.messages)Vf(d,e,h),Of(d,e);e.addFile(o,!0)}function Of(i,e){switch(i.kind){case"file":for(const a of i.proto.extension){const r=xf(a,i,e);i.extensions.push(r),e.add(r)}break;case"message":for(const a of i.proto.extension){const r=xf(a,i,e);i.nestedExtensions.push(r),e.add(r)}for(const a of i.nestedMessages)Of(a,e);break}}function Vf(i,e,a){const r=i.proto.oneofDecl.map(c=>YE(c,i)),o=new Set;for(const c of i.proto.field){const h=WE(c,r),d=xf(c,i,e,h,a);i.fields.push(d),i.field[d.localName]=d,h===void 0?i.members.push(d):(h.fields.push(d),o.has(h)||(o.add(h),i.members.push(h)))}for(const c of r.filter(h=>o.has(h)))i.oneofs.push(c);for(const c of i.nestedMessages)Vf(c,e,a)}function kb(i,e,a,r){var o,c,h,d,m;const y=_E(i.name,i.value),v={kind:"enum",proto:i,deprecated:(c=(o=i.options)===null||o===void 0?void 0:o.deprecated)!==null&&c!==void 0?c:!1,file:e,parent:a,open:!0,name:i.name,typeName:Lo(i,a,e),value:{},values:[],sharedPrefix:y,toString(){return`enum ${this.typeName}`}};v.open=jE(v),r.add(v);for(const T of i.value){const V=T.name;v.values.push(v.value[T.number]={kind:"enum_value",proto:T,deprecated:(d=(h=T.options)===null||h===void 0?void 0:h.deprecated)!==null&&d!==void 0?d:!1,parent:v,name:V,localName:Ls(y==null?V:V.substring(y.length)),number:T.number,toString(){return`enum value ${v.typeName}.${V}`}})}((m=a?.nestedEnums)!==null&&m!==void 0?m:e.enums).push(v)}function Jb(i,e,a,r,o){var c,h,d,m;const y={kind:"message",proto:i,deprecated:(h=(c=i.options)===null||c===void 0?void 0:c.deprecated)!==null&&h!==void 0?h:!1,file:e,parent:a,name:i.name,typeName:Lo(i,a,e),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((d=i.options)===null||d===void 0?void 0:d.mapEntry)===!0?o.add(y):(((m=a?.nestedMessages)!==null&&m!==void 0?m:e.messages).push(y),r.add(y));for(const v of i.enumType)kb(v,e,y,r);for(const v of i.nestedType)Jb(v,e,y,r,o)}function ME(i,e,a){var r,o;const c={kind:"service",proto:i,deprecated:(o=(r=i.options)===null||r===void 0?void 0:r.deprecated)!==null&&o!==void 0?o:!1,file:e,name:i.name,typeName:Lo(i,void 0,e),methods:[],method:{},toString(){return`service ${this.typeName}`}};e.services.push(c),a.add(c);for(const h of i.method){const d=ZE(h,c,a);c.methods.push(d),c.method[d.localName]=d}}function ZE(i,e,a){var r,o,c,h;let d;i.clientStreaming&&i.serverStreaming?d="bidi_streaming":i.clientStreaming?d="client_streaming":i.serverStreaming?d="server_streaming":d="unary";const m=a.getMessage(ai(i.inputType)),y=a.getMessage(ai(i.outputType));Nn(m,`invalid MethodDescriptorProto: input_type ${i.inputType} not found`),Nn(y,`invalid MethodDescriptorProto: output_type ${i.inputType} not found`);const v=i.name;return{kind:"rpc",proto:i,deprecated:(o=(r=i.options)===null||r===void 0?void 0:r.deprecated)!==null&&o!==void 0?o:!1,parent:e,name:v,localName:Ls(v.length?Ls(v[0].toLowerCase()+v.substring(1)):v),methodKind:d,input:m,output:y,idempotency:(h=(c=i.options)===null||c===void 0?void 0:c.idempotencyLevel)!==null&&h!==void 0?h:VE,toString(){return`rpc ${e.typeName}.${v}`}}}function YE(i,e){return{kind:"oneof",proto:i,deprecated:!1,parent:e,fields:[],name:i.name,localName:Ls(Us(i.name)),toString(){return`oneof ${e.typeName}.${this.name}`}}}function xf(i,e,a,r,o){var c,h,d;const m=o===void 0,y={kind:"field",proto:i,deprecated:(h=(c=i.options)===null||c===void 0?void 0:c.deprecated)!==null&&h!==void 0?h:!1,name:i.name,number:i.number,scalar:void 0,message:void 0,enum:void 0,presence:XE(i,r,m,e),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(m){const I=e.kind=="file"?e:e.file,B=e.kind=="file"?void 0:e,G=Lo(i,B,I);y.kind="extension",y.file=I,y.parent=B,y.oneof=void 0,y.typeName=G,y.jsonName=`[${G}]`,y.toString=()=>`extension ${G}`;const j=a.getMessage(ai(i.extendee));Nn(j,`invalid FieldDescriptorProto: extendee ${i.extendee} not found`),y.extendee=j}else{const I=e;Nn(I.kind=="message"),y.parent=I,y.oneof=r,y.localName=r?Us(i.name):Ls(Us(i.name)),y.jsonName=i.jsonName,y.toString=()=>`field ${I.typeName}.${i.name}`}const v=i.label,T=i.type,V=(d=i.options)===null||d===void 0?void 0:d.jstype;if(v===rh){const I=T==Ds?o?.get(ai(i.typeName)):void 0;if(I){y.fieldKind="map";const{key:B,value:G}=JE(I);return y.mapKey=B.scalar,y.mapKind=G.fieldKind,y.message=G.message,y.delimitedEncoding=!1,y.enum=G.enum,y.scalar=G.scalar,y}switch(y.fieldKind="list",T){case Ds:case Ms:y.listKind="message",y.message=a.getMessage(ai(i.typeName)),Nn(y.message),y.delimitedEncoding=op(i,e);break;case ap:y.listKind="enum",y.enum=a.getEnum(ai(i.typeName)),Nn(y.enum);break;default:y.listKind="scalar",y.scalar=T,y.longAsString=V==rp;break}return y.packed=kE(i,e),y}switch(T){case Ds:case Ms:y.fieldKind="message",y.message=a.getMessage(ai(i.typeName)),Nn(y.message,`invalid FieldDescriptorProto: type_name ${i.typeName} not found`),y.delimitedEncoding=op(i,e),y.getDefaultValue=()=>{};break;case ap:{const I=a.getEnum(ai(i.typeName));Nn(I!==void 0,`invalid FieldDescriptorProto: type_name ${i.typeName} not found`),y.fieldKind="enum",y.enum=a.getEnum(ai(i.typeName)),y.getDefaultValue=()=>Bs(i,"defaultValue")?EE(I,i.defaultValue):void 0;break}default:{y.fieldKind="scalar",y.scalar=T,y.longAsString=V==rp,y.getDefaultValue=()=>Bs(i,"defaultValue")?NE(T,i.defaultValue):void 0;break}}return y}function GE(i){switch(i.syntax){case"":case"proto2":return IE;case"proto3":return CE;case"editions":if(i.edition in Xb)return i.edition;throw new Error(`${i.name}: unsupported edition`);default:throw new Error(`${i.name}: unsupported syntax "${i.syntax}"`)}}function zE(i,e){return i.dependency.map(a=>{const r=e.getFile(a);if(!r)throw new Error(`Cannot find ${a}, imported by ${i.name}`);return r})}function _E(i,e){const a=KE(i)+"_";for(const r of e){if(!r.name.toLowerCase().startsWith(a))return;const o=r.name.substring(a.length);if(o.length==0||/^\d/.test(o))return}return a}function KE(i){return(i.substring(0,1)+i.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function Lo(i,e,a){let r;return e?r=`${e.typeName}.${i.name}`:a.proto.package.length>0?r=`${a.proto.package}.${i.name}`:r=`${i.name}`,r}function ai(i){return i.startsWith(".")?i.substring(1):i}function WE(i,e){if(!Bs(i,"oneofIndex")||i.proto3Optional)return;const a=e[i.oneofIndex];return Nn(a,`invalid FieldDescriptorProto: oneof #${i.oneofIndex} for field #${i.number} not found`),a}function XE(i,e,a,r){if(i.label==OE)return xE;if(i.label==rh)return sp;if(e||i.proto3Optional||a)return Nf;const o=mr("fieldPresence",{proto:i,parent:r});return o==sp&&(i.type==Ds||i.type==Ms)?Nf:o}function kE(i,e){if(i.label!=rh)return!1;switch(i.type){case DE:case wE:case Ms:case Ds:return!1}const a=i.options;return a&&Bs(a,"packed")?a.packed:BE==mr("repeatedFieldEncoding",{proto:i,parent:e})}function JE(i){const e=i.fields.find(r=>r.number===1),a=i.fields.find(r=>r.number===2);return Nn(e&&e.fieldKind=="scalar"&&e.scalar!=C.BYTES&&e.scalar!=C.FLOAT&&e.scalar!=C.DOUBLE&&a&&a.fieldKind!="list"&&a.fieldKind!="map"),{key:e,value:a}}function jE(i){var e;return LE==mr("enumType",{proto:i.proto,parent:(e=i.parent)!==null&&e!==void 0?e:i.file})}function op(i,e){return i.type==Ms?!0:UE==mr("messageEncoding",{proto:i,parent:e})}function mr(i,e){var a,r;const o=(a=e.proto.options)===null||a===void 0?void 0:a.features;if(o){const c=o[i];if(c!=0)return c}if("kind"in e){if(e.kind=="message")return mr(i,(r=e.parent)!==null&&r!==void 0?r:e.file);const c=Xb[e.edition];if(!c)throw new Error(`feature default for edition ${e.edition} not found`);return c[i]}return mr(i,e.parent)}function Nn(i,e){if(!i)throw new Error(e)}function FE(i){const e=HE(i);return e.messageType.forEach(ah),Wb(e,()=>{}).getFile(e.name)}function HE(i){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},i),{messageType:i.messageType.map(jb),enumType:i.enumType.map(Fb)}))}function jb(i){var e,a,r,o,c,h,d,m;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:i.name,field:(a=(e=i.field)===null||e===void 0?void 0:e.map(QE))!==null&&a!==void 0?a:[],extension:[],nestedType:(o=(r=i.nestedType)===null||r===void 0?void 0:r.map(jb))!==null&&o!==void 0?o:[],enumType:(h=(c=i.enumType)===null||c===void 0?void 0:c.map(Fb))!==null&&h!==void 0?h:[],extensionRange:(m=(d=i.extensionRange)===null||d===void 0?void 0:d.map(v=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},v)))!==null&&m!==void 0?m:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function QE(i){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},i),{options:i.options?$E(i.options):void 0}))}function $E(i){var e,a,r;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},i),{targets:(e=i.targets)!==null&&e!==void 0?e:[],editionDefaults:(r=(a=i.editionDefaults)===null||a===void 0?void 0:a.map(c=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},c)))!==null&&r!==void 0?r:[],uninterpretedOption:[]}))}function Fb(i){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:i.name,reservedName:[],reservedRange:[],value:i.value.map(a=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},a))})}function ae(i,e,...a){return a.reduce((r,o)=>r.nestedMessages[o],i.messages[e])}const PE=FE({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),qE=ae(PE,1);var up;(function(i){i[i.DECLARATION=0]="DECLARATION",i[i.UNVERIFIED=1]="UNVERIFIED"})(up||(up={}));var cp;(function(i){i[i.DOUBLE=1]="DOUBLE",i[i.FLOAT=2]="FLOAT",i[i.INT64=3]="INT64",i[i.UINT64=4]="UINT64",i[i.INT32=5]="INT32",i[i.FIXED64=6]="FIXED64",i[i.FIXED32=7]="FIXED32",i[i.BOOL=8]="BOOL",i[i.STRING=9]="STRING",i[i.GROUP=10]="GROUP",i[i.MESSAGE=11]="MESSAGE",i[i.BYTES=12]="BYTES",i[i.UINT32=13]="UINT32",i[i.ENUM=14]="ENUM",i[i.SFIXED32=15]="SFIXED32",i[i.SFIXED64=16]="SFIXED64",i[i.SINT32=17]="SINT32",i[i.SINT64=18]="SINT64"})(cp||(cp={}));var fp;(function(i){i[i.OPTIONAL=1]="OPTIONAL",i[i.REPEATED=3]="REPEATED",i[i.REQUIRED=2]="REQUIRED"})(fp||(fp={}));var hp;(function(i){i[i.SPEED=1]="SPEED",i[i.CODE_SIZE=2]="CODE_SIZE",i[i.LITE_RUNTIME=3]="LITE_RUNTIME"})(hp||(hp={}));var dp;(function(i){i[i.STRING=0]="STRING",i[i.CORD=1]="CORD",i[i.STRING_PIECE=2]="STRING_PIECE"})(dp||(dp={}));var gp;(function(i){i[i.JS_NORMAL=0]="JS_NORMAL",i[i.JS_STRING=1]="JS_STRING",i[i.JS_NUMBER=2]="JS_NUMBER"})(gp||(gp={}));var mp;(function(i){i[i.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",i[i.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",i[i.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(mp||(mp={}));var yp;(function(i){i[i.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",i[i.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",i[i.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",i[i.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",i[i.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",i[i.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",i[i.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",i[i.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",i[i.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",i[i.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(yp||(yp={}));var pp;(function(i){i[i.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",i[i.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",i[i.IDEMPOTENT=2]="IDEMPOTENT"})(pp||(pp={}));var bp;(function(i){i[i.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",i[i.EXPORT_ALL=1]="EXPORT_ALL",i[i.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",i[i.LOCAL_ALL=3]="LOCAL_ALL",i[i.STRICT=4]="STRICT"})(bp||(bp={}));var vp;(function(i){i[i.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",i[i.EXPLICIT=1]="EXPLICIT",i[i.IMPLICIT=2]="IMPLICIT",i[i.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(vp||(vp={}));var Sp;(function(i){i[i.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",i[i.OPEN=1]="OPEN",i[i.CLOSED=2]="CLOSED"})(Sp||(Sp={}));var Ap;(function(i){i[i.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",i[i.PACKED=1]="PACKED",i[i.EXPANDED=2]="EXPANDED"})(Ap||(Ap={}));var Ep;(function(i){i[i.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",i[i.VERIFY=2]="VERIFY",i[i.NONE=3]="NONE"})(Ep||(Ep={}));var Np;(function(i){i[i.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",i[i.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",i[i.DELIMITED=2]="DELIMITED"})(Np||(Np={}));var Tp;(function(i){i[i.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",i[i.ALLOW=1]="ALLOW",i[i.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(Tp||(Tp={}));var Rp;(function(i){i[i.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",i[i.STYLE2024=1]="STYLE2024",i[i.STYLE_LEGACY=2]="STYLE_LEGACY"})(Rp||(Rp={}));var Ip;(function(i){i[i.NONE=0]="NONE",i[i.SET=1]="SET",i[i.ALIAS=2]="ALIAS"})(Ip||(Ip={}));var Cp;(function(i){i[i.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",i[i.EDITION_LEGACY=900]="EDITION_LEGACY",i[i.EDITION_PROTO2=998]="EDITION_PROTO2",i[i.EDITION_PROTO3=999]="EDITION_PROTO3",i[i.EDITION_2023=1e3]="EDITION_2023",i[i.EDITION_2024=1001]="EDITION_2024",i[i.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",i[i.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",i[i.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",i[i.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",i[i.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",i[i.EDITION_MAX=2147483647]="EDITION_MAX"})(Cp||(Cp={}));var Dp;(function(i){i[i.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",i[i.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",i[i.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})(Dp||(Dp={}));const wp={readUnknownFields:!0};function e1(i){return i?Object.assign(Object.assign({},wp),i):wp}function hn(i,e,a){const r=fn(i,void 0,!1);return Hb(r,new $f(e),e1(a),!1,e.byteLength),r.message}function Hb(i,e,a,r,o){var c;const h=r?e.len:e.pos+o;let d,m;const y=(c=i.getUnknown())!==null&&c!==void 0?c:[];for(;e.pos<h&&([d,m]=e.tag(),!(r&&m==et.EndGroup));){const v=i.findNumber(d);if(!v){const T=e.skip(m,d);a.readUnknownFields&&y.push({no:d,wireType:m,data:T});continue}Qb(i,e,v,m,a)}if(r&&(m!=et.EndGroup||d!==o))throw new Error("invalid end group tag");y.length>0&&i.setUnknown(y)}function Qb(i,e,a,r,o){var c;switch(a.fieldKind){case"scalar":i.set(a,yr(e,a.scalar));break;case"enum":const h=yr(e,C.INT32);if(a.enum.open)i.set(a,h);else if(a.enum.values.some(m=>m.number===h))i.set(a,h);else if(o.readUnknownFields){const m=[];Df(h,m);const y=(c=i.getUnknown())!==null&&c!==void 0?c:[];y.push({no:a.number,wireType:r,data:new Uint8Array(m)}),i.setUnknown(y)}break;case"message":i.set(a,sh(e,o,a,i.get(a)));break;case"list":n1(e,r,i.get(a),o);break;case"map":t1(e,i.get(a),o);break}}function t1(i,e,a){const r=e.field();let o,c;const h=i.uint32(),d=i.pos+h;for(;i.pos<d;){const[m]=i.tag();switch(m){case 1:o=yr(i,r.mapKey);break;case 2:switch(r.mapKind){case"scalar":c=yr(i,r.scalar);break;case"enum":c=i.int32();break;case"message":c=sh(i,a,r);break}break}}if(o===void 0&&(o=ba(r.mapKey,!1)),c===void 0)switch(r.mapKind){case"scalar":c=ba(r.scalar,!1);break;case"enum":c=r.enum.values[0].number;break;case"message":c=fn(r.message,void 0,!1);break}e.set(o,c)}function n1(i,e,a,r){var o;const c=a.field();if(c.listKind==="message"){a.add(sh(i,r,c));return}const h=(o=c.scalar)!==null&&o!==void 0?o:C.INT32;if(!(e==et.LengthDelimited&&h!=C.STRING&&h!=C.BYTES)){a.add(yr(i,h));return}const m=i.uint32()+i.pos;for(;i.pos<m;)a.add(yr(i,h))}function sh(i,e,a,r){const o=a.delimitedEncoding,c=r??fn(a.message,void 0,!1);return Hb(c,i,e,o,o?a.number:i.uint32()),c}function yr(i,e){switch(e){case C.STRING:return i.string();case C.BOOL:return i.bool();case C.DOUBLE:return i.double();case C.FLOAT:return i.float();case C.INT32:return i.int32();case C.INT64:return i.int64();case C.UINT64:return i.uint64();case C.FIXED64:return i.fixed64();case C.BYTES:return i.bytes();case C.FIXED32:return i.fixed32();case C.SFIXED32:return i.sfixed32();case C.SFIXED64:return i.sfixed64();case C.SINT64:return i.sint64();case C.UINT32:return i.uint32();case C.SINT32:return i.sint32()}}function fi(i,e){var a;const r=hn(qE,ih(i));return r.messageType.forEach(ah),r.dependency=(a=e?.map(c=>c.proto.name))!==null&&a!==void 0?a:[],Wb(r,c=>e?.find(h=>h.proto.name===c)).getFile(r.name)}const i1=fi("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function a1(i){return new Date(r1(i))}function r1(i){return Number(i.seconds)*1e3+Math.round(i.nanos/1e6)}const s1=fi("Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),$b=fi("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),l1=ae($b,0),o1=3,Op={writeUnknownFields:!0};function u1(i){return i?Object.assign(Object.assign({},Op),i):Op}function Xi(i,e,a){return Co(new xb,u1(a),fn(i,e)).finish()}function Co(i,e,a){var r;for(const o of a.sortedFields){if(!a.isSet(o)){if(o.presence==o1)throw new Error(`cannot encode ${o} to binary: required field not set`);continue}Pb(i,e,a,o)}if(e.writeUnknownFields)for(const{no:o,wireType:c,data:h}of(r=a.getUnknown())!==null&&r!==void 0?r:[])i.tag(o,c).raw(h);return i}function Pb(i,e,a,r){var o;switch(r.fieldKind){case"scalar":case"enum":Do(i,a.desc.typeName,r.name,(o=r.scalar)!==null&&o!==void 0?o:C.INT32,r.number,a.get(r));break;case"list":c1(i,e,r,a.get(r));break;case"message":qb(i,e,r,a.get(r));break;case"map":for(const[c,h]of a.get(r))f1(i,e,r,c,h);break}}function Do(i,e,a,r,o,c){ev(i.tag(o,h1(r)),e,a,r,c)}function qb(i,e,a,r){a.delimitedEncoding?Co(i.tag(a.number,et.StartGroup),e,r).tag(a.number,et.EndGroup):Co(i.tag(a.number,et.LengthDelimited).fork(),e,r).join()}function c1(i,e,a,r){var o;if(a.listKind=="message"){for(const h of r)qb(i,e,a,h);return}const c=(o=a.scalar)!==null&&o!==void 0?o:C.INT32;if(a.packed){if(!r.size)return;i.tag(a.number,et.LengthDelimited).fork();for(const h of r)ev(i,a.parent.typeName,a.name,c,h);i.join();return}for(const h of r)Do(i,a.parent.typeName,a.name,c,a.number,h)}function f1(i,e,a,r,o){var c;switch(i.tag(a.number,et.LengthDelimited).fork(),Do(i,a.parent.typeName,a.name,a.mapKey,1,r),a.mapKind){case"scalar":case"enum":Do(i,a.parent.typeName,a.name,(c=a.scalar)!==null&&c!==void 0?c:C.INT32,2,o);break;case"message":Co(i.tag(2,et.LengthDelimited).fork(),e,o).join();break}i.join()}function ev(i,e,a,r,o){try{switch(r){case C.STRING:i.string(o);break;case C.BOOL:i.bool(o);break;case C.DOUBLE:i.double(o);break;case C.FLOAT:i.float(o);break;case C.INT32:i.int32(o);break;case C.INT64:i.int64(o);break;case C.UINT64:i.uint64(o);break;case C.FIXED64:i.fixed64(o);break;case C.BYTES:i.bytes(o);break;case C.FIXED32:i.fixed32(o);break;case C.SFIXED32:i.sfixed32(o);break;case C.SFIXED64:i.sfixed64(o);break;case C.SINT64:i.sint64(o);break;case C.UINT32:i.uint32(o);break;case C.SINT32:i.sint32(o);break}}catch(c){throw c instanceof Error?new Error(`cannot encode field ${e}.${a} to binary: ${c.message}`):c}}function h1(i){switch(i){case C.BYTES:case C.STRING:return et.LengthDelimited;case C.DOUBLE:case C.FIXED64:case C.SFIXED64:return et.Bit64;case C.FIXED32:case C.SFIXED32:case C.FLOAT:return et.Bit32;default:return et.Varint}}function d1(i,e,a){let r=!1;return a||(a=H(l1),r=!0),a.value=Xi(i,e),a.typeUrl=y1(e.$typeName),r?a:void 0}function g1(i,e){if(i.typeUrl==="")return!1;const a=typeof e=="string"?e:e.typeName,r=tv(i.typeUrl);return a===r}function m1(i,e){if(i.typeUrl==="")return;const a=e.kind=="message"?e:e.getMessage(tv(i.typeUrl));if(!(!a||!g1(i,a)))return hn(a,i.value)}function y1(i){return`type.googleapis.com/${i}`}function tv(i){const e=i.lastIndexOf("/"),a=e>=0?i.substring(e+1):i;if(!a.length)throw new Error(`invalid type url: ${i}`);return a}const lh=fi("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),p1=ae(lh,0),nv=ae(lh,1),b1=ae(lh,2);var Bf;(function(i){i[i.NULL_VALUE=0]="NULL_VALUE"})(Bf||(Bf={}));const v1=fi("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function S1(i,e){iv(e,i);const a=E1(i.$unknown,e),[r,o,c]=Mo(e);for(const h of a)Qb(r,new $f(h.data),o,h.wireType,{readUnknownFields:!0});return c()}function A1(i,e,a){var r;iv(e,i);const o=((r=i.$unknown)!==null&&r!==void 0?r:[]).filter(y=>y.no!==e.number),[c,h]=Mo(e,a),d=new xb;Pb(d,{writeUnknownFields:!0},c,h);const m=new $f(d.finish());for(;m.pos<m.len;){const[y,v]=m.tag(),T=m.skip(v,y);o.push({no:y,wireType:v,data:T})}i.$unknown=o}function E1(i,e){if(i===void 0)return[];if(e.fieldKind==="enum"||e.fieldKind==="scalar"){for(let a=i.length-1;a>=0;--a)if(i[a].no==e.number)return[i[a]];return[]}return i.filter(a=>a.no===e.number)}function Mo(i,e){const a=i.typeName,r=Object.assign(Object.assign({},i),{kind:"field",parent:i.extendee,localName:a}),o=Object.assign(Object.assign({},i.extendee),{fields:[r],members:[r],oneofs:[]}),c=H(o,e!==void 0?{[a]:e}:void 0);return[fn(o,c),r,()=>{const h=c[a];if(h===void 0){const d=i.message;return Xs(d)?ba(d.fields[0].scalar,d.fields[0].longAsString):H(d)}return h}]}function iv(i,e){if(i.extendee.typeName!=e.$typeName)throw new Error(`extension ${i.typeName} can only be applied to message ${i.extendee.typeName}`)}const N1=3,T1=2,Vp={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function R1(i){return i?Object.assign(Object.assign({},Vp),i):Vp}function I1(i,e,a){return ks(fn(i,e),R1(a))}function C1(i,e,a){var r;const o=I1(i,e,a);return JSON.stringify(o,null,(r=a?.prettySpaces)!==null&&r!==void 0?r:0)}function ks(i,e){var a;const r=V1(i,e);if(r!==void 0)return r;const o={};for(const c of i.sortedFields){if(!i.isSet(c)){if(c.presence==N1)throw new Error(`cannot encode ${c} to JSON: required field not set`);if(!e.alwaysEmitImplicit||c.presence!==T1)continue}const h=xp(c,i.get(c),e);h!==void 0&&(o[O1(c,e)]=h)}if(e.registry){const c=new Set;for(const{no:h}of(a=i.getUnknown())!==null&&a!==void 0?a:[])if(!c.has(h)){c.add(h);const d=e.registry.getExtensionFor(i.desc,h);if(!d)continue;const m=S1(i.message,d),[y,v]=Mo(d,m),T=xp(v,y.get(v),e);T!==void 0&&(o[d.jsonName]=T)}}return o}function xp(i,e,a){switch(i.fieldKind){case"scalar":return Zo(i,e);case"message":return ks(e,a);case"enum":return oh(i.enum,e,a.enumAsInteger);case"list":return w1(e,a);case"map":return D1(e,a)}}function D1(i,e){const a=i.field(),r={};switch(a.mapKind){case"scalar":for(const[o,c]of i)r[o]=Zo(a,c);break;case"message":for(const[o,c]of i)r[o]=ks(c,e);break;case"enum":for(const[o,c]of i)r[o]=oh(a.enum,c,e.enumAsInteger);break}return e.alwaysEmitImplicit||i.size>0?r:void 0}function w1(i,e){const a=i.field(),r=[];switch(a.listKind){case"scalar":for(const o of i)r.push(Zo(a,o));break;case"enum":for(const o of i)r.push(oh(a.enum,o,e.enumAsInteger));break;case"message":for(const o of i)r.push(ks(o,e));break}return e.alwaysEmitImplicit||r.length>0?r:void 0}function oh(i,e,a){var r;if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: expected number, got ${ut(e)}`);if(i.typeName=="google.protobuf.NullValue")return null;if(a)return e;const o=i.value[e];return(r=o?.name)!==null&&r!==void 0?r:e}function Zo(i,e){var a,r,o,c,h,d;switch(i.scalar){case C.INT32:case C.SFIXED32:case C.SINT32:case C.FIXED32:case C.UINT32:if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: ${(a=da(i,e))===null||a===void 0?void 0:a.message}`);return e;case C.FLOAT:case C.DOUBLE:if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: ${(r=da(i,e))===null||r===void 0?void 0:r.message}`);return Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case C.STRING:if(typeof e!="string")throw new Error(`cannot encode ${i} to JSON: ${(o=da(i,e))===null||o===void 0?void 0:o.message}`);return e;case C.BOOL:if(typeof e!="boolean")throw new Error(`cannot encode ${i} to JSON: ${(c=da(i,e))===null||c===void 0?void 0:c.message}`);return e;case C.UINT64:case C.FIXED64:case C.INT64:case C.SFIXED64:case C.SINT64:if(typeof e!="bigint"&&typeof e!="string")throw new Error(`cannot encode ${i} to JSON: ${(h=da(i,e))===null||h===void 0?void 0:h.message}`);return e.toString();case C.BYTES:if(e instanceof Uint8Array)return vE(e);throw new Error(`cannot encode ${i} to JSON: ${(d=da(i,e))===null||d===void 0?void 0:d.message}`)}}function O1(i,e){return e.useProtoFieldName?i.name:i.jsonName}function V1(i,e){if(i.desc.typeName.startsWith("google.protobuf."))switch(i.desc.typeName){case"google.protobuf.Any":return x1(i.message,e);case"google.protobuf.Timestamp":return L1(i.message);case"google.protobuf.Duration":return B1(i.message);case"google.protobuf.FieldMask":return U1(i.message);case"google.protobuf.Struct":return av(i.message);case"google.protobuf.Value":return uh(i.message);case"google.protobuf.ListValue":return rv(i.message);default:if(Xs(i.desc)){const a=i.desc.fields[0];return Zo(a,i.get(a))}return}}function x1(i,e){if(i.typeUrl==="")return{};const{registry:a}=e;let r,o;if(a&&(r=m1(i,a),r&&(o=a.getMessage(r.$typeName))),!o||!r)throw new Error(`cannot encode message ${i.$typeName} to JSON: "${i.typeUrl}" is not in the type registry`);let c=ks(fn(o,r),e);return(o.typeName.startsWith("google.protobuf.")||c===null||Array.isArray(c)||typeof c!="object")&&(c={value:c}),c["@type"]=i.typeUrl,c}function B1(i){const e=Number(i.seconds),a=i.nanos;if(e>315576e6||e<-315576e6)throw new Error(`cannot encode message ${i.$typeName} to JSON: value out of range`);if(e>0&&a<0||e<0&&a>0)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos sign must match seconds sign`);let r=i.seconds.toString();if(a!==0){let o=Math.abs(a).toString();o="0".repeat(9-o.length)+o,o.substring(3)==="000000"?o=o.substring(0,3):o.substring(6)==="000"&&(o=o.substring(0,6)),r+="."+o,a<0&&e==0&&(r="-"+r)}return r+"s"}function U1(i){return i.paths.map(e=>{if(e.match(/_[0-9]?_/g)||e.match(/[A-Z]/g))throw new Error(`cannot encode message ${i.$typeName} to JSON: lowerCamelCase of path name "`+e+'" is irreversible');return Us(e)}).join(",")}function av(i){const e={};for(const[a,r]of Object.entries(i.fields))e[a]=uh(r);return e}function uh(i){switch(i.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(i.kind.value))throw new Error(`${i.$typeName} cannot be NaN or Infinity`);return i.kind.value;case"boolValue":return i.kind.value;case"stringValue":return i.kind.value;case"structValue":return av(i.kind.value);case"listValue":return rv(i.kind.value);default:throw new Error(`${i.$typeName} must have a value`)}}function rv(i){return i.values.map(uh)}function L1(i){const e=Number(i.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${i.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(i.nanos<0)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos must not be negative`);if(i.nanos>999999999)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos must not be greater than 99999999`);let a="Z";if(i.nanos>0){const r=(i.nanos+1e9).toString().substring(1);r.substring(3)==="000000"?a="."+r.substring(0,3)+"Z":r.substring(6)==="000"?a="."+r.substring(0,6)+"Z":a="."+r+"Z"}return new Date(e).toISOString().replace(".000Z",a)}const Bp={ignoreUnknownFields:!1};function M1(i){return i?Object.assign(Object.assign({},Bp),i):Bp}function Z1(i,e,a){return Y1(i,k1(e,i.typeName),a)}function Y1(i,e,a){const r=fn(i);try{pr(r,e,M1(a))}catch(o){throw hE(o)?new Error(`cannot decode ${o.field()} from JSON: ${o.message}`,{cause:o}):o}return r.message}function pr(i,e,a){var r;if(J1(i,e,a))return;if(e==null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode ${i.desc} from JSON: ${ut(e)}`);const o=new Map,c=new Map;for(const h of i.desc.fields)c.set(h.name,h).set(h.jsonName,h);for(const[h,d]of Object.entries(e)){const m=c.get(h);if(m){if(m.oneof){if(d===null&&m.fieldKind=="scalar")continue;const y=o.get(m.oneof);if(y!==void 0)throw new Lt(m.oneof,`oneof set multiple times by ${y.name} and ${m.name}`);o.set(m.oneof,m)}Up(i,m,d,a)}else{let y;if(h.startsWith("[")&&h.endsWith("]")&&(y=(r=a.registry)===null||r===void 0?void 0:r.getExtension(h.substring(1,h.length-1)))&&y.extendee.typeName===i.desc.typeName){const[v,T,V]=Mo(y);Up(v,T,d,a),A1(i.message,y,V())}if(!y&&!a.ignoreUnknownFields)throw new Error(`cannot decode ${i.desc} from JSON: key "${h}" is unknown`)}}}function Up(i,e,a,r){switch(e.fieldKind){case"scalar":W1(i,e,a);break;case"enum":K1(i,e,a,r);break;case"message":_1(i,e,a,r);break;case"list":z1(i.get(e),a,r);break;case"map":G1(i.get(e),a,r);break}}function G1(i,e,a){if(e===null)return;const r=i.field();if(typeof e!="object"||Array.isArray(e))throw new Lt(r,"expected object, got "+ut(e));for(const[o,c]of Object.entries(e)){if(c===null)throw new Lt(r,"map value must not be null");let h;switch(r.mapKind){case"message":const m=fn(r.message);pr(m,c,a),h=m;break;case"enum":if(h=ch(r.enum,c,a.ignoreUnknownFields,!0),h===Yo)return;break;case"scalar":h=zo(r,c,!0);break}const d=X1(r.mapKey,o);i.set(d,h)}}function z1(i,e,a){if(e===null)return;const r=i.field();if(!Array.isArray(e))throw new Lt(r,"expected Array, got "+ut(e));for(const o of e){if(o===null)throw new Lt(r,"list item must not be null");switch(r.listKind){case"message":const c=fn(r.message);pr(c,o,a),i.add(c);break;case"enum":const h=ch(r.enum,o,a.ignoreUnknownFields,!0);h!==Yo&&i.add(h);break;case"scalar":i.add(zo(r,o,!0));break}}}function _1(i,e,a,r){if(a===null&&e.message.typeName!="google.protobuf.Value"){i.clear(e);return}const o=i.isSet(e)?i.get(e):fn(e.message);pr(o,a,r),i.set(e,o)}function K1(i,e,a,r){const o=ch(e.enum,a,r.ignoreUnknownFields,!1);o===Go?i.clear(e):o!==Yo&&i.set(e,o)}function W1(i,e,a){const r=zo(e,a,!1);r===Go?i.clear(e):i.set(e,r)}const Yo=Symbol();function ch(i,e,a,r){if(e===null)return i.typeName=="google.protobuf.NullValue"?0:r?i.values[0].number:Go;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const o=i.values.find(c=>c.name===e);if(o!==void 0)return o.number;if(a)return Yo;break}throw new Error(`cannot decode ${i} from JSON: ${ut(e)}`)}const Go=Symbol();function zo(i,e,a){if(e===null)return a?ba(i.scalar,!1):Go;switch(i.scalar){case C.DOUBLE:case C.FLOAT:if(e==="NaN")return NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof e=="number"){if(Number.isNaN(e))throw new Lt(i,"unexpected NaN number");if(!Number.isFinite(e))throw new Lt(i,"unexpected infinite number");break}if(typeof e=="string"){if(e===""||e.trim().length!==e.length)break;const r=Number(e);if(!Number.isFinite(r))break;return r}break;case C.INT32:case C.FIXED32:case C.SFIXED32:case C.SINT32:case C.UINT32:return sv(e);case C.BYTES:if(typeof e=="string"){if(e==="")return new Uint8Array(0);try{return ih(e)}catch(r){const o=r instanceof Error?r.message:String(r);throw new Lt(i,o)}}break}return e}function X1(i,e){switch(i){case C.BOOL:switch(e){case"true":return!0;case"false":return!1}return e;case C.INT32:case C.FIXED32:case C.UINT32:case C.SFIXED32:case C.SINT32:return sv(e);default:return e}}function sv(i){if(typeof i=="string"){if(i===""||i.trim().length!==i.length)return i;const e=Number(i);return Number.isNaN(e)?i:e}return i}function k1(i,e){try{return JSON.parse(i)}catch(a){const r=a instanceof Error?a.message:String(a);throw new Error(`cannot decode message ${e} from JSON: ${r}`,{cause:a})}}function J1(i,e,a){if(!i.desc.typeName.startsWith("google.protobuf."))return!1;switch(i.desc.typeName){case"google.protobuf.Any":return j1(i.message,e,a),!0;case"google.protobuf.Timestamp":return F1(i.message,e),!0;case"google.protobuf.Duration":return H1(i.message,e),!0;case"google.protobuf.FieldMask":return Q1(i.message,e),!0;case"google.protobuf.Struct":return lv(i.message,e),!0;case"google.protobuf.Value":return fh(i.message,e),!0;case"google.protobuf.ListValue":return ov(i.message,e),!0;default:if(Xs(i.desc)){const r=i.desc.fields[0];return e===null?i.clear(r):i.set(r,zo(r,e,!0)),!0}return!1}}function j1(i,e,a){var r;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message ${i.$typeName} from JSON: expected object but got ${ut(e)}`);if(Object.keys(e).length==0)return;const o=e["@type"];if(typeof o!="string"||o=="")throw new Error(`cannot decode message ${i.$typeName} from JSON: "@type" is empty`);const c=o.includes("/")?o.substring(o.lastIndexOf("/")+1):o;if(!c.length)throw new Error(`cannot decode message ${i.$typeName} from JSON: "@type" is invalid`);const h=(r=a.registry)===null||r===void 0?void 0:r.getMessage(c);if(!h)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${o} is not in the type registry`);const d=fn(h);if(c.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value")){const m=e.value;pr(d,m,a)}else{const m=Object.assign({},e);delete m["@type"],pr(d,m,a)}d1(d.desc,d.message,i)}function F1(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ut(e)}`);const a=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!a)throw new Error(`cannot decode message ${i.$typeName} from JSON: invalid RFC 3339 string`);const r=Date.parse(a[1]+"-"+a[2]+"-"+a[3]+"T"+a[4]+":"+a[5]+":"+a[6]+(a[8]?a[8]:"Z"));if(Number.isNaN(r))throw new Error(`cannot decode message ${i.$typeName} from JSON: invalid RFC 3339 string`);if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${i.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);i.seconds=ke.parse(r/1e3),i.nanos=0,a[7]&&(i.nanos=parseInt("1"+a[7]+"0".repeat(9-a[7].length))-1e9)}function H1(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ut(e)}`);const a=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(a===null)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ut(e)}`);const r=Number(a[1]);if(r>315576e6||r<-315576e6)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ut(e)}`);if(i.seconds=ke.parse(r),typeof a[2]!="string")return;const o=a[2]+"0".repeat(9-a[2].length);i.nanos=parseInt(o),(r<0||Object.is(r,-0))&&(i.nanos=-i.nanos)}function Q1(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ut(e)}`);if(e==="")return;function a(r){if(r.includes("_"))throw new Error(`cannot decode message ${i.$typeName} from JSON: path names must be lowerCamelCase`);const o=r.replace(/[A-Z]/g,c=>"_"+c.toLowerCase());return o[0]==="_"?o.substring(1):o}i.paths=e.split(",").map(a)}function lv(i,e){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error(`cannot decode message ${i.$typeName} from JSON ${ut(e)}`);for(const[a,r]of Object.entries(e)){const o=H(nv);fh(o,r),i.fields[a]=o}}function fh(i,e){switch(typeof e){case"number":i.kind={case:"numberValue",value:e};break;case"string":i.kind={case:"stringValue",value:e};break;case"boolean":i.kind={case:"boolValue",value:e};break;case"object":if(e===null)i.kind={case:"nullValue",value:Bf.NULL_VALUE};else if(Array.isArray(e)){const a=H(b1);ov(a,e),i.kind={case:"listValue",value:a}}else{const a=H(p1);lv(a,e),i.kind={case:"structValue",value:a}}break;default:throw new Error(`cannot decode message ${i.$typeName} from JSON ${ut(e)}`)}return i}function ov(i,e){if(!Array.isArray(e))throw new Error(`cannot decode message ${i.$typeName} from JSON ${ut(e)}`);for(const a of e){const r=H(nv);fh(r,a),i.values.push(r)}}function Lp(i){const e=fe[i];return typeof e!="string"?i.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,a=>"_"+a.toLowerCase())}class xe extends Error{constructor(e,a=fe.Unknown,r,o,c){super($1(e,a)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=a,this.metadata=new Headers(r??{}),this.details=o??[],this.cause=c}static from(e,a=fe.Unknown){return e instanceof xe?e:e instanceof Error?e.name=="AbortError"||e.name=="TimeoutError"?new xe(e.message,fe.Canceled):new xe(e.message,a,void 0,void 0,e):new xe(String(e),a,void 0,void 0,e)}static[Symbol.hasInstance](e){return e instanceof Error?Object.getPrototypeOf(e)===xe.prototype?!0:e.name==="ConnectError"&&"code"in e&&typeof e.code=="number"&&"metadata"in e&&"details"in e&&Array.isArray(e.details)&&"rawMessage"in e&&typeof e.rawMessage=="string"&&"cause"in e:!1}findDetails(e){const a=e.kind==="message"?{getMessage:o=>o===e.typeName?e:void 0}:e,r=[];for(const o of this.details){if("desc"in o){a.getMessage(o.desc.typeName)&&r.push(H(o.desc,o.value));continue}const c=a.getMessage(o.type);if(c)try{r.push(hn(c,o.value))}catch{}}return r}}function $1(i,e){return i.length?`[${Lp(e)}] ${i}`:`[${Lp(e)}]`}function P1(i,e,a){try{const r=ih(i);return e?hn(e,r,a):r}catch(r){throw xe.from(r,fe.DataLoss)}}function q1(i,e){const a={};for(const r of i.methods){const o=e(r);o!=null&&(a[r.localName]=o)}return a}const Mp=1;function eN(i,e,a=!1){if(e>i){let r=`message size is larger than configured readMaxBytes ${i}`;throw a&&(r=`message size ${e} is larger than configured readMaxBytes ${i}`),new xe(r,fe.ResourceExhausted)}}function tN(i){return new nN(i)}class nN{constructor(e){this.readMaxBytes=e,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((e,a)=>e+a.byteLength,0)}decode(e){this.buf.push(e);const a=[];for(;;){let r=this.pop();if(!r)break;a.push(r)}return a}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){const e=this.env;return this.env=void 0,e}}head(){if(!this.cons(this.header))return;const e=this.headerView.getUint8(0),a=this.headerView.getUint32(1);return eN(this.readMaxBytes,a,!0),{flags:e,data:new Uint8Array(a)}}cons(e){const a=e.byteLength;if(this.byteLength<a)return!1;let r=0;for(;r<a;){const o=this.buf.shift();o.byteLength>a-r?(e.set(o.subarray(0,a-r),r),this.buf.unshift(o.subarray(a-r)),r+=a-r):(e.set(o,r),r+=o.byteLength)}return!0}}function Zp(i){let e;const a=tN(4294967295);return new ReadableStream({start(){e=i.getReader()},async pull(r){let o=!1;for(;!o;){const c=await e.read();if(c.done)a.byteLength>0&&r.error(new xe("protocol error: incomplete envelope",fe.InvalidArgument)),r.close();else for(const h of a.decode(c.value))r.enqueue(h),o=!0}}})}function Yp(i,e){const a=new Uint8Array(e.length+5);a.set(e,5);const r=new DataView(a.buffer,a.byteOffset,a.byteLength);return r.setUint8(0,i),r.setUint32(1,e.length),a}var iN=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],a;return e?e.call(i):(i=typeof __values=="function"?__values(i):i[Symbol.iterator](),a={},r("next"),r("throw"),r("return"),a[Symbol.asyncIterator]=function(){return this},a);function r(c){a[c]=i[c]&&function(h){return new Promise(function(d,m){h=i[c](h),o(d,m,h.done,h.value)})}}function o(c,h,d,m){Promise.resolve(m).then(function(y){c({value:y,done:d})},h)}},Zs=function(i){return this instanceof Zs?(this.v=i,this):new Zs(i)},aN=function(i,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=a.apply(i,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(I){return function(B){return Promise.resolve(B).then(I,T)}}function d(I,B){r[I]&&(o[I]=function(G){return new Promise(function(j,q){c.push([I,G,j,q])>1||m(I,G)})},B&&(o[I]=B(o[I])))}function m(I,B){try{y(r[I](B))}catch(G){V(c[0][3],G)}}function y(I){I.value instanceof Zs?Promise.resolve(I.value.v).then(v,T):V(c[0][2],I)}function v(I){m("next",I)}function T(I){m("throw",I)}function V(I,B){I(B),c.shift(),c.length&&m(c[0][0],c[0][1])}},rN=function(i){var e,a;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,c){e[o]=i[o]?function(h){return(a=!a)?{value:Zs(i[o](h)),done:!1}:c?c(h):h}:c}};function sN(i){return aN(this,arguments,function*(){yield Zs(yield*rN(iN(i)))})}var uv=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],a;return e?e.call(i):(i=typeof __values=="function"?__values(i):i[Symbol.iterator](),a={},r("next"),r("throw"),r("return"),a[Symbol.asyncIterator]=function(){return this},a);function r(c){a[c]=i[c]&&function(h){return new Promise(function(d,m){h=i[c](h),o(d,m,h.done,h.value)})}}function o(c,h,d,m){Promise.resolve(m).then(function(y){c({value:y,done:d})},h)}},br=function(i){return this instanceof br?(this.v=i,this):new br(i)},lN=function(i){var e,a;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,c){e[o]=i[o]?function(h){return(a=!a)?{value:br(i[o](h)),done:!1}:c?c(h):h}:c}},oN=function(i,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=a.apply(i,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(I){return function(B){return Promise.resolve(B).then(I,T)}}function d(I,B){r[I]&&(o[I]=function(G){return new Promise(function(j,q){c.push([I,G,j,q])>1||m(I,G)})},B&&(o[I]=B(o[I])))}function m(I,B){try{y(r[I](B))}catch(G){V(c[0][3],G)}}function y(I){I.value instanceof br?Promise.resolve(I.value.v).then(v,T):V(c[0][2],I)}function v(I){m("next",I)}function T(I){m("throw",I)}function V(I,B){I(B),c.shift(),c.length&&m(c[0][0],c[0][1])}};function uN(i,e){return q1(i,a=>{switch(a.methodKind){case"unary":return cN(e,a);case"server_streaming":return fN(e,a);case"client_streaming":return hN(e,a);case"bidi_streaming":return dN(e,a);default:return null}})}function cN(i,e){return async(a,r)=>{var o,c;const h=await i.unary(e,r?.signal,r?.timeoutMs,r?.headers,a,r?.contextValues);return(o=r?.onHeader)===null||o===void 0||o.call(r,h.header),(c=r?.onTrailer)===null||c===void 0||c.call(r,h.trailer),h.message}}function fN(i,e){return(a,r)=>cv(i.stream(e,r?.signal,r?.timeoutMs,r?.headers,sN([a]),r?.contextValues),r)}function hN(i,e){return async(a,r)=>{var o,c,h,d,m,y;const v=await i.stream(e,r?.signal,r?.timeoutMs,r?.headers,a,r?.contextValues);(m=r?.onHeader)===null||m===void 0||m.call(r,v.header);let T,V=0;try{for(var I=!0,B=uv(v.message),G;G=await B.next(),o=G.done,!o;I=!0)d=G.value,I=!1,T=d,V++}catch(j){c={error:j}}finally{try{!I&&!o&&(h=B.return)&&await h.call(B)}finally{if(c)throw c.error}}if(!T)throw new xe("protocol error: missing response message",fe.Unimplemented);if(V>1)throw new xe("protocol error: received extra messages for client streaming method",fe.Unimplemented);return(y=r?.onTrailer)===null||y===void 0||y.call(r,v.trailer),T}}function dN(i,e){return(a,r)=>cv(i.stream(e,r?.signal,r?.timeoutMs,r?.headers,a,r?.contextValues),r)}function cv(i,e){const a=(function(){return oN(this,arguments,function*(){var r,o;const c=yield br(i);(r=e?.onHeader)===null||r===void 0||r.call(e,c.header),yield br(yield*lN(uv(c.message))),(o=e?.onTrailer)===null||o===void 0||o.call(e,c.trailer)})})()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>a.next()})}}function gN(...i){const e=new AbortController,a=i.filter(o=>o!==void 0).concat(e.signal);for(const o of a){if(o.aborted){r.apply(o);break}o.addEventListener("abort",r)}function r(){e.signal.aborted||e.abort(fv(this));for(const o of a)o.removeEventListener("abort",r)}return e}function mN(i){const e=new AbortController,a=()=>{e.abort(new xe("the operation timed out",fe.DeadlineExceeded))};let r;return i!==void 0&&(i<=0?a():r=setTimeout(a,i)),{signal:e.signal,cleanup:()=>clearTimeout(r)}}function fv(i){if(!i.aborted)return;if(i.reason!==void 0)return i.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function Gp(){return{get(i){return i.id in this?this[i.id]:i.defaultValue},set(i,e){return this[i.id]=e,this},delete(i){return delete this[i.id],this}}}const Tf=128;function zp(i){const e=new Headers,a=new TextDecoder().decode(i).split(`\r
`);for(const r of a){if(r==="")continue;const o=r.indexOf(":");if(o>0){const c=r.substring(0,o).trim(),h=r.substring(o+1).trim();e.append(c,h)}}return e}const yN="Content-Type",pN="Grpc-Timeout",vr="Grpc-Status",hv="Grpc-Message",bN="Grpc-Status-Details-Bin",vN="User-Agent",_p="X-User-Agent",SN="X-Grpc-Web",AN="application/grpc-web+proto",EN="application/grpc-web+json";function NN(i,e,...a){if(a.length>0)throw new Error;return i.services[e]}const TN=fi("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[$b]),RN=ae(TN,0),IN="0";function dv(i){var e;const a=i.get(bN);if(a!=null){const o=P1(a,RN);if(o.code==0)return;const c=new xe(o.message,o.code,i);return c.details=o.details.map(h=>({type:h.typeUrl.substring(h.typeUrl.lastIndexOf("/")+1),value:h.value})),c}const r=i.get(vr);if(r!=null){if(r===IN)return;const o=parseInt(r,10);return o in fe?new xe(decodeURIComponent((e=i.get(hv))!==null&&e!==void 0?e:""),o,i):new xe(`invalid grpc-status: ${r}`,fe.Internal,i)}}function Kp(i,e){return i.toString().replace(/\/?$/,`/${e.parent.typeName}/${e.name}`)}function gv(i,e){return H(i,e)}function CN(i,e){function a(r){return r.done===!0?r:{done:r.done,value:gv(i,r.value)}}return{[Symbol.asyncIterator](){const r=e[Symbol.asyncIterator](),o={next:()=>r.next().then(a)};return r.throw!==void 0&&(o.throw=c=>r.throw(c).then(a)),r.return!==void 0&&(o.return=c=>r.return(c).then(a)),o}}}function mv(i,e){if(!e)return i;for(const a of e.concat().reverse())i=a(i);return i}function DN(i){var e;const a=Object.assign({},i);return(e=a.ignoreUnknownFields)!==null&&e!==void 0||(a.ignoreUnknownFields=!0),a}function Wp(i,e,a,r){const o=e?Xp(i.input,r):kp(i.input,a);return{parse:(e?Xp(i.output,r):kp(i.output,a)).parse,serialize:o.serialize}}function Xp(i,e){return{parse(a){try{return hn(i,a,e)}catch(r){const o=r instanceof Error?r.message:String(r);throw new xe(`parse binary: ${o}`,fe.Internal)}},serialize(a){try{return Xi(i,a,e)}catch(r){const o=r instanceof Error?r.message:String(r);throw new xe(`serialize binary: ${o}`,fe.Internal)}}}}function kp(i,e){var a,r;const o=(a=e?.textEncoder)!==null&&a!==void 0?a:new TextEncoder,c=(r=e?.textDecoder)!==null&&r!==void 0?r:new TextDecoder,h=DN(e);return{parse(d){try{const m=c.decode(d);return Z1(i,m,h)}catch(m){throw xe.from(m,fe.InvalidArgument)}},serialize(d){try{const m=C1(i,d,h);return o.encode(m)}catch(m){throw xe.from(m,fe.Internal)}}}}function wN(i){const e=mv(i.next,i.interceptors),[a,r,o]=yv(i),c=Object.assign(Object.assign({},i.req),{message:gv(i.req.method.input,i.req.message),signal:a});return e(c).then(h=>(o(),h),r)}function ON(i){const e=mv(i.next,i.interceptors),[a,r,o]=yv(i),c=Object.assign(Object.assign({},i.req),{message:CN(i.req.method.input,i.req.message),signal:a});let h=!1;return a.addEventListener("abort",function(){var d,m;const y=i.req.message[Symbol.asyncIterator]();h||(d=y.throw)===null||d===void 0||d.call(y,this.reason).catch(()=>{}),(m=y.return)===null||m===void 0||m.call(y).catch(()=>{})}),e(c).then(d=>Object.assign(Object.assign({},d),{message:{[Symbol.asyncIterator](){const m=d.message[Symbol.asyncIterator]();return{next(){return m.next().then(y=>(y.done==!0&&(h=!0,o()),y),r)}}}}}),r)}function yv(i){const{signal:e,cleanup:a}=mN(i.timeoutMs),r=gN(i.signal,e);return[r.signal,function(c){const h=xe.from(e.aborted?fv(e):c);return r.abort(h),a(),Promise.reject(h)},function(){a(),r.abort()}]}function VN(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Jp(i,e){const a=dv(i);if(a)throw e.forEach((r,o)=>{a.metadata.append(o,r)}),a;if(!e.has(vr)&&!i.has(vr))throw new xe("protocol error: missing status",fe.Internal)}function jp(i,e,a,r){var o,c;const h=new Headers(a??{});h.set(yN,i?AN:EN),h.set(SN,"1");const d=(c=(o=h.get(vN))!==null&&o!==void 0?o:h.get(_p))!==null&&c!==void 0?c:"connect-es/2.1.1";return h.set(_p,d),e!==void 0&&h.set(pN,`${e}m`),h}function xN(i){switch(i){case 400:return fe.Internal;case 401:return fe.Unauthenticated;case 403:return fe.PermissionDenied;case 404:return fe.Unimplemented;case 429:return fe.Unavailable;case 502:return fe.Unavailable;case 503:return fe.Unavailable;case 504:return fe.Unavailable;default:return fe.Unknown}}function Fp(i,e){var a;if(i>=200&&i<300)return{foundStatus:e.has(vr),headerError:dv(e)};throw new xe(decodeURIComponent((a=e.get(hv))!==null&&a!==void 0?a:`HTTP ${i}`),xN(i),e)}var ya=function(i){return this instanceof ya?(this.v=i,this):new ya(i)},BN=function(i,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=a.apply(i,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(I){return function(B){return Promise.resolve(B).then(I,T)}}function d(I,B){r[I]&&(o[I]=function(G){return new Promise(function(j,q){c.push([I,G,j,q])>1||m(I,G)})},B&&(o[I]=B(o[I])))}function m(I,B){try{y(r[I](B))}catch(G){V(c[0][3],G)}}function y(I){I.value instanceof ya?Promise.resolve(I.value.v).then(v,T):V(c[0][2],I)}function v(I){m("next",I)}function T(I){m("throw",I)}function V(I,B){I(B),c.shift(),c.length&&m(c[0][0],c[0][1])}};const Hp={redirect:"error"};function UN(i){var e;VN();const a=(e=i.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(r,o,c,h,d,m){const{serialize:y,parse:v}=Wp(r,a,i.jsonOptions,i.binaryOptions);return c=c===void 0?i.defaultTimeoutMs:c<=0?void 0:c,await wN({interceptors:i.interceptors,signal:o,timeoutMs:c,req:{stream:!1,service:r.parent,method:r,requestMethod:"POST",url:Kp(i.baseUrl,r),header:jp(a,c,h),contextValues:m??Gp(),message:d},next:async T=>{var V;const B=await((V=i.fetch)!==null&&V!==void 0?V:globalThis.fetch)(T.url,Object.assign(Object.assign({},Hp),{method:T.requestMethod,headers:T.header,signal:T.signal,body:Yp(0,y(T.message))})),{headerError:G}=Fp(B.status,B.headers);if(!B.body)throw G!==void 0?G:"missing response body";const j=Zp(B.body).getReader();let q,Ee;for(;;){const te=await j.read();if(te.done)break;const{flags:he,data:ie}=te.value;if((he&Mp)===Mp)throw new xe("protocol error: received unsupported compressed output",fe.Internal);if(he===Tf){if(q!==void 0)throw"extra trailer";q=zp(ie);continue}if(Ee!==void 0)throw new xe("extra message",fe.Unimplemented);Ee=v(ie)}if(q===void 0)throw G!==void 0?G:new xe("missing trailer",B.headers.has(vr)?fe.Unimplemented:fe.Unknown);if(Jp(q,B.headers),Ee===void 0)throw new xe("missing message",q.has(vr)?fe.Unimplemented:fe.Unknown);return{stream:!1,service:r.parent,method:r,header:B.headers,message:Ee,trailer:q}}})},async stream(r,o,c,h,d,m){const{serialize:y,parse:v}=Wp(r,a,i.jsonOptions,i.binaryOptions);function T(I,B,G,j,q){return BN(this,arguments,function*(){const te=Zp(I).getReader();if(B){if(!(yield ya(te.read())).done)throw"extra data for trailers-only";return yield ya(void 0)}let he=!1;for(;;){const ie=yield ya(te.read());if(ie.done)break;const{flags:Ae,data:k}=ie.value;if((Ae&Tf)===Tf){if(he)throw"extra trailer";he=!0;const ve=zp(k);Jp(ve,j),ve.forEach((Nt,mn)=>G.set(mn,Nt));continue}if(he)throw"extra message";yield yield ya(v(k))}if("throwIfAborted"in q&&q.throwIfAborted(),!he)throw"missing trailer"})}async function V(I){if(r.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const B=await I[Symbol.asyncIterator]().next();if(B.done==!0)throw"missing request message";return Yp(0,y(B.value))}return c=c===void 0?i.defaultTimeoutMs:c<=0?void 0:c,ON({interceptors:i.interceptors,signal:o,timeoutMs:c,req:{stream:!0,service:r.parent,method:r,requestMethod:"POST",url:Kp(i.baseUrl,r),header:jp(a,c,h),contextValues:m??Gp(),message:d},next:async I=>{var B;const j=await((B=i.fetch)!==null&&B!==void 0?B:globalThis.fetch)(I.url,Object.assign(Object.assign({},Hp),{method:I.requestMethod,headers:I.header,signal:I.signal,body:await V(I.message)})),{foundStatus:q,headerError:Ee}=Fp(j.status,j.headers);if(Ee!=null)throw Ee;if(!j.body)throw"missing response body";const te=new Headers;return Object.assign(Object.assign({},I),{header:j.headers,trailer:te,message:T(j.body,q,te,j.headers,I.signal)})}})}}}const ce=fi("CiFzcmMvYXBpL3lvcmtpZS92MS9yZXNvdXJjZXMucHJvdG8SCXlvcmtpZS52MSKuAQoIU25hcHNob3QSJAoEcm9vdBgBIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudBI1CglwcmVzZW5jZXMYAiADKAsyIi55b3JraWUudjEuU25hcHNob3QuUHJlc2VuY2VzRW50cnkaRQoOUHJlc2VuY2VzRW50cnkSCwoDa2V5GAEgASgJEiIKBXZhbHVlGAIgASgLMhMueW9ya2llLnYxLlByZXNlbmNlOgI4ASL7AQoKQ2hhbmdlUGFjaxIUCgxkb2N1bWVudF9rZXkYASABKAkSKQoKY2hlY2twb2ludBgCIAEoCzIVLnlvcmtpZS52MS5DaGVja3BvaW50EhAKCHNuYXBzaG90GAMgASgMEiIKB2NoYW5nZXMYBCADKAsyES55b3JraWUudjEuQ2hhbmdlEjAKEW1pbl9zeW5jZWRfdGlja2V0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSEgoKaXNfcmVtb3ZlZBgGIAEoCBIwCg52ZXJzaW9uX3ZlY3RvchgHIAEoCzIYLnlvcmtpZS52MS5WZXJzaW9uVmVjdG9yIpgBCgZDaGFuZ2USHwoCaWQYASABKAsyEy55b3JraWUudjEuQ2hhbmdlSUQSDwoHbWVzc2FnZRgCIAEoCRIoCgpvcGVyYXRpb25zGAMgAygLMhQueW9ya2llLnYxLk9wZXJhdGlvbhIyCg9wcmVzZW5jZV9jaGFuZ2UYBCABKAsyGS55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UihwEKCENoYW5nZUlEEhIKCmNsaWVudF9zZXEYASABKA0SEgoKc2VydmVyX3NlcRgCIAEoAxIPCgdsYW1wb3J0GAMgASgDEhAKCGFjdG9yX2lkGAQgASgMEjAKDnZlcnNpb25fdmVjdG9yGAUgASgLMhgueW9ya2llLnYxLlZlcnNpb25WZWN0b3IidAoNVmVyc2lvblZlY3RvchI0CgZ2ZWN0b3IYASADKAsyJC55b3JraWUudjEuVmVyc2lvblZlY3Rvci5WZWN0b3JFbnRyeRotCgtWZWN0b3JFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAM6AjgBIqwaCglPcGVyYXRpb24SJwoDc2V0GAEgASgLMhgueW9ya2llLnYxLk9wZXJhdGlvbi5TZXRIABInCgNhZGQYAiABKAsyGC55b3JraWUudjEuT3BlcmF0aW9uLkFkZEgAEikKBG1vdmUYAyABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLk1vdmVIABItCgZyZW1vdmUYBCABKAsyGy55b3JraWUudjEuT3BlcmF0aW9uLlJlbW92ZUgAEikKBGVkaXQYBSABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLkVkaXRIABIrCgVzdHlsZRgHIAEoCzIaLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGVIABIxCghpbmNyZWFzZRgIIAEoCzIdLnlvcmtpZS52MS5PcGVyYXRpb24uSW5jcmVhc2VIABIyCgl0cmVlX2VkaXQYCSABKAsyHS55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0SAASNAoKdHJlZV9zdHlsZRgKIAEoCzIeLnlvcmtpZS52MS5PcGVyYXRpb24uVHJlZVN0eWxlSAASMgoJYXJyYXlfc2V0GAsgASgLMh0ueW9ya2llLnYxLk9wZXJhdGlvbi5BcnJheVNldEgAGp0BCgNTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBILCgNrZXkYAiABKAkSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrAAQoDQWRkEjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSLgoPcHJldl9jcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq/AQoETW92ZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Ei4KD3ByZXZfY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCmNyZWF0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtleGVjdXRlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GpEBCgZSZW1vdmUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKgoLZXhlY3V0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrZAwoERWRpdBIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSUwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyMi55b3JraWUudjEuT3BlcmF0aW9uLkVkaXQuQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5Eg8KB2NvbnRlbnQYBSABKAkSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBI9CgphdHRyaWJ1dGVzGAcgAygLMikueW9ya2llLnYxLk9wZXJhdGlvbi5FZGl0LkF0dHJpYnV0ZXNFbnRyeRpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGjEKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBGssDCgVTdHlsZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSPgoKYXR0cmlidXRlcxgEIAMoCzIqLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSVAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBiADKAsyMy55b3JraWUudjEuT3BlcmF0aW9uLlN0eWxlLkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRoxCg9BdHRyaWJ1dGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGpUBCghJbmNyZWFzZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EisKBXZhbHVlGAIgASgLMhwueW9ya2llLnYxLkpTT05FbGVtZW50U2ltcGxlEioKC2V4ZWN1dGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQakwMKCFRyZWVFZGl0EjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIAoEZnJvbRgCIAEoCzISLnlvcmtpZS52MS5UcmVlUG9zEh4KAnRvGAMgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSVwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyNi55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0LkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRImCghjb250ZW50cxgFIAMoCzIULnlvcmtpZS52MS5UcmVlTm9kZXMSEwoLc3BsaXRfbGV2ZWwYByABKAUSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGu0DCglUcmVlU3R5bGUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIgCgRmcm9tGAIgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSHgoCdG8YAyABKAsyEi55b3JraWUudjEuVHJlZVBvcxJCCgphdHRyaWJ1dGVzGAQgAygLMi4ueW9ya2llLnYxLk9wZXJhdGlvbi5UcmVlU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSHAoUYXR0cmlidXRlc190b19yZW1vdmUYBiADKAkSWAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYByADKAsyNy55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVTdHlsZS5DcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkaMQoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaUQoYQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5EgsKA2tleRgBIAEoCRIkCgV2YWx1ZRgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0OgI4ARrAAQoIQXJyYXlTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldEIGCgRib2R5IsUBChFKU09ORWxlbWVudFNpbXBsZRIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIgoEdHlwZRgEIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYBSABKAwiggsKC0pTT05FbGVtZW50EjgKC2pzb25fb2JqZWN0GAEgASgLMiEueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05PYmplY3RIABI2Cgpqc29uX2FycmF5GAIgASgLMiAueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05BcnJheUgAEjUKCXByaW1pdGl2ZRgDIAEoCzIgLnlvcmtpZS52MS5KU09ORWxlbWVudC5QcmltaXRpdmVIABIrCgR0ZXh0GAUgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRleHRIABIxCgdjb3VudGVyGAYgASgLMh4ueW9ya2llLnYxLkpTT05FbGVtZW50LkNvdW50ZXJIABIrCgR0cmVlGAcgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRyZWVIABquAQoKSlNPTk9iamVjdBIhCgVub2RlcxgBIAMoCzISLnlvcmtpZS52MS5SSFROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBqtAQoJSlNPTkFycmF5EiEKBW5vZGVzGAEgAygLMhIueW9ya2llLnYxLlJHQU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Gr0BCglQcmltaXRpdmUSIgoEdHlwZRgBIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYAiABKAwSKQoKY3JlYXRlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAQgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgFIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GqkBCgRUZXh0EiIKBW5vZGVzGAEgAygLMhMueW9ya2llLnYxLlRleHROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq7AQoHQ291bnRlchIiCgR0eXBlGAEgASgOMhQueW9ya2llLnYxLlZhbHVlVHlwZRINCgV2YWx1ZRgCIAEoDBIpCgpjcmVhdGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQaqQEKBFRyZWUSIgoFbm9kZXMYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0QgYKBGJvZHkiPwoHUkhUTm9kZRILCgNrZXkYASABKAkSJwoHZWxlbWVudBgCIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudCJUCgdSR0FOb2RlEiAKBG5leHQYASABKAsyEi55b3JraWUudjEuUkdBTm9kZRInCgdlbGVtZW50GAIgASgLMhYueW9ya2llLnYxLkpTT05FbGVtZW50IlgKCE5vZGVBdHRyEg0KBXZhbHVlGAEgASgJEikKCnVwZGF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBISCgppc19yZW1vdmVkGAMgASgIIpQCCghUZXh0Tm9kZRIhCgJpZBgBIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEg0KBXZhbHVlGAIgASgJEikKCnJlbW92ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgEIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEjcKCmF0dHJpYnV0ZXMYBSADKAsyIy55b3JraWUudjEuVGV4dE5vZGUuQXR0cmlidXRlc0VudHJ5GkYKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuTm9kZUF0dHI6AjgBIkcKClRleHROb2RlSUQSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBSLdAgoIVHJlZU5vZGUSIQoCaWQYASABKAsyFS55b3JraWUudjEuVHJlZU5vZGVJRBIMCgR0eXBlGAIgASgJEg0KBXZhbHVlGAMgASgJEikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgFIAEoCzIVLnlvcmtpZS52MS5UcmVlTm9kZUlEEioKC2luc19uZXh0X2lkGAYgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSDQoFZGVwdGgYByABKAUSNwoKYXR0cmlidXRlcxgIIAMoCzIjLnlvcmtpZS52MS5UcmVlTm9kZS5BdHRyaWJ1dGVzRW50cnkaRgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5Ob2RlQXR0cjoCOAEiMQoJVHJlZU5vZGVzEiQKB2NvbnRlbnQYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUiRwoKVHJlZU5vZGVJRBIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFImMKB1RyZWVQb3MSKAoJcGFyZW50X2lkGAEgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSLgoPbGVmdF9zaWJsaW5nX2lkGAIgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQiawoEVXNlchIKCgJpZBgBIAEoCRIVCg1hdXRoX3Byb3ZpZGVyGAIgASgJEhAKCHVzZXJuYW1lGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIokBCgZNZW1iZXISCgoCaWQYASABKAkSEgoKcHJvamVjdF9pZBgCIAEoCRIPCgd1c2VyX2lkGAMgASgJEhAKCHVzZXJuYW1lGAQgASgJEgwKBHJvbGUYBSABKAkSLgoKaW52aXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAi6QYKB1Byb2plY3QSCgoCaWQYASABKAkSDAoEbmFtZRgCIAEoCRISCgpwdWJsaWNfa2V5GAMgASgJEhIKCnNlY3JldF9rZXkYBCABKAkSGAoQYXV0aF93ZWJob29rX3VybBgFIAEoCRIcChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgGIAMoCRIgChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYESABKAQSJgoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGBIgASgJEiYKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgTIAEoCRIkChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBQgASgJEhkKEWV2ZW50X3dlYmhvb2tfdXJsGAcgASgJEhwKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAggAygJEiEKGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYFSABKAQSJwofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgWIAEoCRInCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBcgASgJEiUKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBggASgJEiMKG2NsaWVudF9kZWFjdGl2YXRlX3RocmVzaG9sZBgJIAEoCRIaChJzbmFwc2hvdF90aHJlc2hvbGQYGSABKAMSGQoRc25hcHNob3RfaW50ZXJ2YWwYGiABKAMSJAocbWF4X3N1YnNjcmliZXJzX3Blcl9kb2N1bWVudBgKIAEoBRIkChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAsgASgFEh0KFW1heF9zaXplX3Blcl9kb2N1bWVudBgPIAEoBRIYChByZW1vdmVfb25fZGV0YWNoGBAgASgIEh0KFWF1dG9fcmV2aXNpb25fZW5hYmxlZBgbIAEoCBIXCg9hbGxvd2VkX29yaWdpbnMYDiADKAkSLgoKY3JlYXRlZF9hdBgMIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLgoKdXBkYXRlZF9hdBgNIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiLwoLTWV0cmljUG9pbnQSEQoJdGltZXN0YW1wGAEgASgDEg0KBXZhbHVlGAIgASgFIqMMChZVcGRhdGFibGVQcm9qZWN0RmllbGRzEioKBG5hbWUYASABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSNgoQYXV0aF93ZWJob29rX3VybBgCIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJSChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgDIAEoCzI0LnlvcmtpZS52MS5VcGRhdGFibGVQcm9qZWN0RmllbGRzLkF1dGhXZWJob29rTWV0aG9kcxI+ChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYDCABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRAoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGA0gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkQKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgOIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJCChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GA8gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEWV2ZW50X3dlYmhvb2tfdXJsGAQgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlElIKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAUgASgLMjQueW9ya2llLnYxLlVwZGF0YWJsZVByb2plY3RGaWVsZHMuRXZlbnRXZWJob29rRXZlbnRzEj8KGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYECABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRQofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgRIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJFCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBIgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkMKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBMgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEnNuYXBzaG90X3RocmVzaG9sZBgUIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlEjYKEXNuYXBzaG90X2ludGVydmFsGBUgASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDY0VmFsdWUSQQobY2xpZW50X2RlYWN0aXZhdGVfdGhyZXNob2xkGAYgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkEKHG1heF9zdWJzY3JpYmVyc19wZXJfZG9jdW1lbnQYByABKAsyGy5nb29nbGUucHJvdG9idWYuSW50MzJWYWx1ZRJBChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAggASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSOgoVbWF4X3NpemVfcGVyX2RvY3VtZW50GAogASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSNAoQcmVtb3ZlX29uX2RldGFjaBgLIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUSOQoVYXV0b19yZXZpc2lvbl9lbmFibGVkGBYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkJvb2xWYWx1ZRJJCg9hbGxvd2VkX29yaWdpbnMYCSABKAsyMC55b3JraWUudjEuVXBkYXRhYmxlUHJvamVjdEZpZWxkcy5BbGxvd2VkT3JpZ2lucxolChJBdXRoV2ViaG9va01ldGhvZHMSDwoHbWV0aG9kcxgBIAMoCRokChJFdmVudFdlYmhvb2tFdmVudHMSDgoGZXZlbnRzGAEgAygJGiEKDkFsbG93ZWRPcmlnaW5zEg8KB29yaWdpbnMYASADKAkipwMKD0RvY3VtZW50U3VtbWFyeRIKCgJpZBgBIAEoCRILCgNrZXkYAiABKAkSDAoEcm9vdBgDIAEoCRIYChBhdHRhY2hlZF9jbGllbnRzGAcgASgFEikKDWRvY3VtZW50X3NpemUYCCABKAsyEi55b3JraWUudjEuRG9jU2l6ZRISCgpzY2hlbWFfa2V5GAkgASgJEjwKCXByZXNlbmNlcxgKIAMoCzIpLnlvcmtpZS52MS5Eb2N1bWVudFN1bW1hcnkuUHJlc2VuY2VzRW50cnkSLgoKY3JlYXRlZF9hdBgEIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLwoLYWNjZXNzZWRfYXQYBSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYBiABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wGkUKDlByZXNlbmNlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZToCOAEi2gEKDlByZXNlbmNlQ2hhbmdlEjIKBHR5cGUYASABKA4yJC55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UuQ2hhbmdlVHlwZRIlCghwcmVzZW5jZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZSJtCgpDaGFuZ2VUeXBlEhsKF0NIQU5HRV9UWVBFX1VOU1BFQ0lGSUVEEAASEwoPQ0hBTkdFX1RZUEVfUFVUEAESFgoSQ0hBTkdFX1RZUEVfREVMRVRFEAISFQoRQ0hBTkdFX1RZUEVfQ0xFQVIQAyJkCghQcmVzZW5jZRIrCgRkYXRhGAEgAygLMh0ueW9ya2llLnYxLlByZXNlbmNlLkRhdGFFbnRyeRorCglEYXRhRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ASI0Cg5DaGFubmVsU3VtbWFyeRILCgNrZXkYASABKAkSFQoNc2Vzc2lvbl9jb3VudBgCIAEoBSI0CgpDaGVja3BvaW50EhIKCnNlcnZlcl9zZXEYASABKAMSEgoKY2xpZW50X3NlcRgCIAEoDSJhCgtUZXh0Tm9kZVBvcxIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFEhcKD3JlbGF0aXZlX29mZnNldBgDIAEoBSJCCgpUaW1lVGlja2V0Eg8KB2xhbXBvcnQYASABKAMSEQoJZGVsaW1pdGVyGAIgASgNEhAKCGFjdG9yX2lkGAMgASgMIi4KDERvY0V2ZW50Qm9keRINCgV0b3BpYxgBIAEoCRIPCgdwYXlsb2FkGAIgASgMImsKCERvY0V2ZW50EiUKBHR5cGUYASABKA4yFy55b3JraWUudjEuRG9jRXZlbnRUeXBlEhEKCXB1Ymxpc2hlchgCIAEoCRIlCgRib2R5GAMgASgLMhcueW9ya2llLnYxLkRvY0V2ZW50Qm9keSLWAQoMQ2hhbm5lbEV2ZW50EioKBHR5cGUYASABKA4yHC55b3JraWUudjEuQ2hhbm5lbEV2ZW50LlR5cGUSEQoJcHVibGlzaGVyGAIgASgJEhUKDXNlc3Npb25fY291bnQYAyABKAMSCwoDc2VxGAQgASgDEg0KBXRvcGljGAUgASgJEg8KB3BheWxvYWQYBiABKAwiQwoEVHlwZRIUChBUWVBFX1VOU1BFQ0lGSUVEEAASEQoNVFlQRV9QUkVTRU5DRRABEhIKDlRZUEVfQlJPQURDQVNUEAIiJgoIRGF0YVNpemUSDAoEZGF0YRgBIAEoBRIMCgRtZXRhGAIgASgFIk0KB0RvY1NpemUSIQoEbGl2ZRgBIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZRIfCgJnYxgCIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZSKRAQoGU2NoZW1hEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSDwoHdmVyc2lvbhgDIAEoBRIMCgRib2R5GAQgASgJEh4KBXJ1bGVzGAUgAygLMg8ueW9ya2llLnYxLlJ1bGUSLgoKY3JlYXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiIgoEUnVsZRIMCgRwYXRoGAEgASgJEgwKBHR5cGUYAiABKAkigwEKD1JldmlzaW9uU3VtbWFyeRIKCgJpZBgBIAEoCRINCgVsYWJlbBgCIAEoCRITCgtkZXNjcmlwdGlvbhgDIAEoCRIQCghzbmFwc2hvdBgEIAEoCRIuCgpjcmVhdGVkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCrUAgoJVmFsdWVUeXBlEhMKD1ZBTFVFX1RZUEVfTlVMTBAAEhYKElZBTFVFX1RZUEVfQk9PTEVBThABEhYKElZBTFVFX1RZUEVfSU5URUdFUhACEhMKD1ZBTFVFX1RZUEVfTE9ORxADEhUKEVZBTFVFX1RZUEVfRE9VQkxFEAQSFQoRVkFMVUVfVFlQRV9TVFJJTkcQBRIUChBWQUxVRV9UWVBFX0JZVEVTEAYSEwoPVkFMVUVfVFlQRV9EQVRFEAcSGgoWVkFMVUVfVFlQRV9KU09OX09CSkVDVBAIEhkKFVZBTFVFX1RZUEVfSlNPTl9BUlJBWRAJEhMKD1ZBTFVFX1RZUEVfVEVYVBAKEhoKFlZBTFVFX1RZUEVfSU5URUdFUl9DTlQQCxIXChNWQUxVRV9UWVBFX0xPTkdfQ05UEAwSEwoPVkFMVUVfVFlQRV9UUkVFEA0qpgEKDERvY0V2ZW50VHlwZRIjCh9ET0NfRVZFTlRfVFlQRV9ET0NVTUVOVF9DSEFOR0VEEAASIwofRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfV0FUQ0hFRBABEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX1VOV0FUQ0hFRBACEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX0JST0FEQ0FTVBADQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[i1,v1]),LN=ae(ce,0),MN=ae(ce,1),ZN=ae(ce,2),hh=ae(ce,3),dh=ae(ce,4),gh=ae(ce,5),YN=ae(ce,5,0),GN=ae(ce,5,1),zN=ae(ce,5,2),_N=ae(ce,5,3),KN=ae(ce,5,4),WN=ae(ce,5,5),XN=ae(ce,5,6),kN=ae(ce,5,7),JN=ae(ce,5,8),jN=ae(ce,5,9),sr=ae(ce,6),dn=ae(ce,7),FN=ae(ce,7,0),HN=ae(ce,7,1),QN=ae(ce,7,2),$N=ae(ce,7,3),PN=ae(ce,7,4),qN=ae(ce,7,5),eT=ae(ce,8),tT=ae(ce,9),pv=ae(ce,10),nT=ae(ce,11),iT=ae(ce,12),aT=ae(ce,13),rT=ae(ce,14),sT=ae(ce,15),lT=ae(ce,16),Qp=ae(ce,23);var Ys=(i=>(i[i.UNSPECIFIED=0]="UNSPECIFIED",i[i.PUT=1]="PUT",i[i.DELETE=2]="DELETE",i[i.CLEAR=3]="CLEAR",i))(Ys||{});const oT=ae(ce,24),uT=ae(ce,26),cT=ae(ce,27),fT=ae(ce,28);var bv=(i=>(i[i.UNSPECIFIED=0]="UNSPECIFIED",i[i.PRESENCE=1]="PRESENCE",i[i.BROADCAST=2]="BROADCAST",i))(bv||{}),ue=(i=>(i[i.NULL=0]="NULL",i[i.BOOLEAN=1]="BOOLEAN",i[i.INTEGER=2]="INTEGER",i[i.LONG=3]="LONG",i[i.DOUBLE=4]="DOUBLE",i[i.STRING=5]="STRING",i[i.BYTES=6]="BYTES",i[i.DATE=7]="DATE",i[i.JSON_OBJECT=8]="JSON_OBJECT",i[i.JSON_ARRAY=9]="JSON_ARRAY",i[i.TEXT=10]="TEXT",i[i.INTEGER_CNT=11]="INTEGER_CNT",i[i.LONG_CNT=12]="LONG_CNT",i[i.TREE=13]="TREE",i))(ue||{}),wo=(i=>(i[i.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",i[i.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",i[i.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",i[i.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",i))(wo||{});const hT=fi("Ch5zcmMvYXBpL3lvcmtpZS92MS95b3JraWUucHJvdG8SCXlvcmtpZS52MSKeAQoVQWN0aXZhdGVDbGllbnRSZXF1ZXN0EhIKCmNsaWVudF9rZXkYASABKAkSQAoIbWV0YWRhdGEYAiADKAsyLi55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIisKFkFjdGl2YXRlQ2xpZW50UmVzcG9uc2USEQoJY2xpZW50X2lkGAEgASgJIkEKF0RlYWN0aXZhdGVDbGllbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtzeW5jaHJvbm91cxgCIAEoCCIaChhEZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiagoVQXR0YWNoRG9jdW1lbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRIqCgtjaGFuZ2VfcGFjaxgCIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrEhIKCnNjaGVtYV9rZXkYAyABKAkinwEKFkF0dGFjaERvY3VtZW50UmVzcG9uc2USEwoLZG9jdW1lbnRfaWQYASABKAkSKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYAyABKAUSJQoMc2NoZW1hX3J1bGVzGAQgAygLMg8ueW9ya2llLnYxLlJ1bGUiiwEKFURldGFjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSKgoLY2hhbmdlX3BhY2sYAyABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIeChZyZW1vdmVfaWZfbm90X2F0dGFjaGVkGAQgASgIIkQKFkRldGFjaERvY3VtZW50UmVzcG9uc2USKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjayI+ChRXYXRjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkitgEKFVdhdGNoRG9jdW1lbnRSZXNwb25zZRJJCg5pbml0aWFsaXphdGlvbhgBIAEoCzIvLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UuSW5pdGlhbGl6YXRpb25IABIkCgVldmVudBgCIAEoCzITLnlvcmtpZS52MS5Eb2NFdmVudEgAGiQKDkluaXRpYWxpemF0aW9uEhIKCmNsaWVudF9pZHMYASADKAlCBgoEYm9keSJrChVSZW1vdmVEb2N1bWVudFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siRAoWUmVtb3ZlRG9jdW1lbnRSZXNwb25zZRIqCgtjaGFuZ2VfcGFjaxgBIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrIn8KFlB1c2hQdWxsQ2hhbmdlc1JlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2sSEQoJcHVzaF9vbmx5GAQgASgIIkUKF1B1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlEioKC2NoYW5nZV9wYWNrGAEgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siYwoVQ3JlYXRlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRINCgVsYWJlbBgDIAEoCRITCgtkZXNjcmlwdGlvbhgEIAEoCSJGChZDcmVhdGVSZXZpc2lvblJlc3BvbnNlEiwKCHJldmlzaW9uGAEgASgLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJRChJHZXRSZXZpc2lvblJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEhMKC3JldmlzaW9uX2lkGAMgASgJIkMKE0dldFJldmlzaW9uUmVzcG9uc2USLAoIcmV2aXNpb24YASABKAsyGi55b3JraWUudjEuUmV2aXNpb25TdW1tYXJ5InUKFExpc3RSZXZpc2lvbnNSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRIRCglwYWdlX3NpemUYAyABKAUSDgoGb2Zmc2V0GAQgASgFEhIKCmlzX2ZvcndhcmQYBSABKAgiRgoVTGlzdFJldmlzaW9uc1Jlc3BvbnNlEi0KCXJldmlzaW9ucxgBIAMoCzIaLnlvcmtpZS52MS5SZXZpc2lvblN1bW1hcnkiVQoWUmVzdG9yZVJldmlzaW9uUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSEwoLcmV2aXNpb25faWQYBCABKAkiGQoXUmVzdG9yZVJldmlzaW9uUmVzcG9uc2UiPgoUQXR0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJIkIKFUF0dGFjaENoYW5uZWxSZXNwb25zZRISCgpzZXNzaW9uX2lkGAEgASgJEhUKDXNlc3Npb25fY291bnQYAiABKAMiUgoURGV0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEhIKCnNlc3Npb25faWQYAyABKAkiLgoVRGV0YWNoQ2hhbm5lbFJlc3BvbnNlEhUKDXNlc3Npb25fY291bnQYASABKAMiUwoVUmVmcmVzaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRISCgpzZXNzaW9uX2lkGAMgASgJIi8KFlJlZnJlc2hDaGFubmVsUmVzcG9uc2USFQoNc2Vzc2lvbl9jb3VudBgBIAEoAyI9ChNXYXRjaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCSKDAQoUV2F0Y2hDaGFubmVsUmVzcG9uc2USOQoLaW5pdGlhbGl6ZWQYASABKAsyIi55b3JraWUudjEuV2F0Y2hDaGFubmVsSW5pdGlhbGl6ZWRIABIoCgVldmVudBgCIAEoCzIXLnlvcmtpZS52MS5DaGFubmVsRXZlbnRIAEIGCgRib2R5Ij0KF1dhdGNoQ2hhbm5lbEluaXRpYWxpemVkEhUKDXNlc3Npb25fY291bnQYASABKAMSCwoDc2VxGAIgASgDIloKEEJyb2FkY2FzdFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEg0KBXRvcGljGAMgASgJEg8KB3BheWxvYWQYBCABKAwiEwoRQnJvYWRjYXN0UmVzcG9uc2UyhQsKDVlvcmtpZVNlcnZpY2USVwoOQWN0aXZhdGVDbGllbnQSIC55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0GiEueW9ya2llLnYxLkFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiABJdChBEZWFjdGl2YXRlQ2xpZW50EiIueW9ya2llLnYxLkRlYWN0aXZhdGVDbGllbnRSZXF1ZXN0GiMueW9ya2llLnYxLkRlYWN0aXZhdGVDbGllbnRSZXNwb25zZSIAElcKDkF0dGFjaERvY3VtZW50EiAueW9ya2llLnYxLkF0dGFjaERvY3VtZW50UmVxdWVzdBohLnlvcmtpZS52MS5BdHRhY2hEb2N1bWVudFJlc3BvbnNlIgASVwoORGV0YWNoRG9jdW1lbnQSIC55b3JraWUudjEuRGV0YWNoRG9jdW1lbnRSZXF1ZXN0GiEueW9ya2llLnYxLkRldGFjaERvY3VtZW50UmVzcG9uc2UiABJXCg5SZW1vdmVEb2N1bWVudBIgLnlvcmtpZS52MS5SZW1vdmVEb2N1bWVudFJlcXVlc3QaIS55b3JraWUudjEuUmVtb3ZlRG9jdW1lbnRSZXNwb25zZSIAEloKD1B1c2hQdWxsQ2hhbmdlcxIhLnlvcmtpZS52MS5QdXNoUHVsbENoYW5nZXNSZXF1ZXN0GiIueW9ya2llLnYxLlB1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlIgASVgoNV2F0Y2hEb2N1bWVudBIfLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVxdWVzdBogLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UiADABElcKDkNyZWF0ZVJldmlzaW9uEiAueW9ya2llLnYxLkNyZWF0ZVJldmlzaW9uUmVxdWVzdBohLnlvcmtpZS52MS5DcmVhdGVSZXZpc2lvblJlc3BvbnNlIgASTgoLR2V0UmV2aXNpb24SHS55b3JraWUudjEuR2V0UmV2aXNpb25SZXF1ZXN0Gh4ueW9ya2llLnYxLkdldFJldmlzaW9uUmVzcG9uc2UiABJUCg1MaXN0UmV2aXNpb25zEh8ueW9ya2llLnYxLkxpc3RSZXZpc2lvbnNSZXF1ZXN0GiAueW9ya2llLnYxLkxpc3RSZXZpc2lvbnNSZXNwb25zZSIAEloKD1Jlc3RvcmVSZXZpc2lvbhIhLnlvcmtpZS52MS5SZXN0b3JlUmV2aXNpb25SZXF1ZXN0GiIueW9ya2llLnYxLlJlc3RvcmVSZXZpc2lvblJlc3BvbnNlIgASVAoNQXR0YWNoQ2hhbm5lbBIfLnlvcmtpZS52MS5BdHRhY2hDaGFubmVsUmVxdWVzdBogLnlvcmtpZS52MS5BdHRhY2hDaGFubmVsUmVzcG9uc2UiABJUCg1EZXRhY2hDaGFubmVsEh8ueW9ya2llLnYxLkRldGFjaENoYW5uZWxSZXF1ZXN0GiAueW9ya2llLnYxLkRldGFjaENoYW5uZWxSZXNwb25zZSIAElcKDlJlZnJlc2hDaGFubmVsEiAueW9ya2llLnYxLlJlZnJlc2hDaGFubmVsUmVxdWVzdBohLnlvcmtpZS52MS5SZWZyZXNoQ2hhbm5lbFJlc3BvbnNlIgASUwoMV2F0Y2hDaGFubmVsEh4ueW9ya2llLnYxLldhdGNoQ2hhbm5lbFJlcXVlc3QaHy55b3JraWUudjEuV2F0Y2hDaGFubmVsUmVzcG9uc2UiADABEkgKCUJyb2FkY2FzdBIbLnlvcmtpZS52MS5Ccm9hZGNhc3RSZXF1ZXN0GhwueW9ya2llLnYxLkJyb2FkY2FzdFJlc3BvbnNlIgBCRQoRZGV2LnlvcmtpZS5hcGkudjFQAVouZ2l0aHViLmNvbS95b3JraWUtdGVhbS95b3JraWUvYXBpL3lvcmtpZS92MTt2MWIGcHJvdG8z",[ce]),dT=NN(hT,0),gT=fi("Ch5nb29nbGUvcnBjL2Vycm9yX2RldGFpbHMucHJvdG8SCmdvb2dsZS5ycGMikwEKCUVycm9ySW5mbxIOCgZyZWFzb24YASABKAkSDgoGZG9tYWluGAIgASgJEjUKCG1ldGFkYXRhGAMgAygLMiMuZ29vZ2xlLnJwYy5FcnJvckluZm8uTWV0YWRhdGFFbnRyeRovCg1NZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiOwoJUmV0cnlJbmZvEi4KC3JldHJ5X2RlbGF5GAEgASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIjIKCURlYnVnSW5mbxIVCg1zdGFja19lbnRyaWVzGAEgAygJEg4KBmRldGFpbBgCIAEoCSKPAwoMUXVvdGFGYWlsdXJlEjYKCnZpb2xhdGlvbnMYASADKAsyIi5nb29nbGUucnBjLlF1b3RhRmFpbHVyZS5WaW9sYXRpb24axgIKCVZpb2xhdGlvbhIPCgdzdWJqZWN0GAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhMKC2FwaV9zZXJ2aWNlGAMgASgJEhQKDHF1b3RhX21ldHJpYxgEIAEoCRIQCghxdW90YV9pZBgFIAEoCRJRChBxdW90YV9kaW1lbnNpb25zGAYgAygLMjcuZ29vZ2xlLnJwYy5RdW90YUZhaWx1cmUuVmlvbGF0aW9uLlF1b3RhRGltZW5zaW9uc0VudHJ5EhMKC3F1b3RhX3ZhbHVlGAcgASgDEh8KEmZ1dHVyZV9xdW90YV92YWx1ZRgIIAEoA0gAiAEBGjYKFFF1b3RhRGltZW5zaW9uc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCFQoTX2Z1dHVyZV9xdW90YV92YWx1ZSKVAQoTUHJlY29uZGl0aW9uRmFpbHVyZRI9Cgp2aW9sYXRpb25zGAEgAygLMikuZ29vZ2xlLnJwYy5QcmVjb25kaXRpb25GYWlsdXJlLlZpb2xhdGlvbho/CglWaW9sYXRpb24SDAoEdHlwZRgBIAEoCRIPCgdzdWJqZWN0GAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJIswBCgpCYWRSZXF1ZXN0Ej8KEGZpZWxkX3Zpb2xhdGlvbnMYASADKAsyJS5nb29nbGUucnBjLkJhZFJlcXVlc3QuRmllbGRWaW9sYXRpb24afQoORmllbGRWaW9sYXRpb24SDQoFZmllbGQYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDgoGcmVhc29uGAMgASgJEjcKEWxvY2FsaXplZF9tZXNzYWdlGAQgASgLMhwuZ29vZ2xlLnJwYy5Mb2NhbGl6ZWRNZXNzYWdlIjcKC1JlcXVlc3RJbmZvEhIKCnJlcXVlc3RfaWQYASABKAkSFAoMc2VydmluZ19kYXRhGAIgASgJImAKDFJlc291cmNlSW5mbxIVCg1yZXNvdXJjZV90eXBlGAEgASgJEhUKDXJlc291cmNlX25hbWUYAiABKAkSDQoFb3duZXIYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkiVgoESGVscBIkCgVsaW5rcxgBIAMoCzIVLmdvb2dsZS5ycGMuSGVscC5MaW5rGigKBExpbmsSEwoLZGVzY3JpcHRpb24YASABKAkSCwoDdXJsGAIgASgJIjMKEExvY2FsaXplZE1lc3NhZ2USDgoGbG9jYWxlGAEgASgJEg8KB21lc3NhZ2UYAiABKAlCbAoOY29tLmdvb2dsZS5ycGNCEUVycm9yRGV0YWlsc1Byb3RvUAFaP2dvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvcnBjL2VycmRldGFpbHM7ZXJyZGV0YWlsc6ICA1JQQ2IGcHJvdG8z",[s1]),mT=ae(gT,0);var A=(i=>(i.Ok="ok",i.ErrClientNotActivated="ErrClientNotActivated",i.ErrClientNotFound="ErrClientNotFound",i.ErrUnimplemented="ErrUnimplemented",i.ErrInvalidType="ErrInvalidType",i.ErrDummy="ErrDummy",i.ErrNotAttached="ErrNotAttached",i.ErrNotDetached="ErrNotDetached",i.ErrDocumentRemoved="ErrDocumentRemoved",i.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",i.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",i.ErrInvalidObjectKey="ErrInvalidObjectKey",i.ErrInvalidArgument="ErrInvalidArgument",i.ErrNotInitialized="ErrNotInitialized",i.ErrNotReady="ErrNotReady",i.ErrRefused="ErrRefused",i.ErrContextNotProvided="ErrContextNotProvided",i.ErrPermissionDenied="ErrPermissionDenied",i.ErrUnauthenticated="ErrUnauthenticated",i.ErrTooManySubscribers="ErrTooManySubscribers",i.ErrTooManyAttachments="ErrTooManyAttachments",i))(A||{});class N extends Error{constructor(e,a){super(a),this.code=e,this.message=a,this.toString=()=>`[code=${this.code}]: ${this.message}`}name="YorkieError";stack}var Mn=(i=>(i.Put="put",i.Clear="clear",i))(Mn||{});const mh="000000000000000000000000",Bn=24;class cn{lamport;delimiter;actorID;constructor(e,a,r){this.lamport=e,this.delimiter=a,this.actorID=r}static of(e,a,r){return new cn(e,a,r)}static fromStruct(e){return cn.of(BigInt(e.lamport),e.delimiter,e.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(e){return new cn(this.lamport,this.delimiter,e)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(e){return this.compare(e)>0}equals(e){return this.compare(e)===0}compare(e){if(this.lamport>e.lamport)return 1;if(e.lamport>this.lamport)return-1;const a=this.actorID.localeCompare(e.actorID);return a!==0?a:this.delimiter>e.delimiter?1:e.delimiter>this.delimiter?-1:0}}const Uf=0n,vv=0,Lf=9223372036854775807n,Sr=new cn(Uf,vv,mh);function xn(i){return i.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(e){switch(e){case'"':case"\\":return"\\"+e;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}})}class Js{createdAt;movedAt;removedAt;constructor(e){this.createdAt=e}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(e){this.createdAt=e}setMovedAt(e){return!this.movedAt||e&&e.after(this.movedAt)?(this.movedAt=e,!0):!1}setRemovedAt(e){this.removedAt=e}remove(e){return e&&e.after(this.createdAt)&&(!this.removedAt||e.after(this.removedAt))?(this.removedAt=e,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let e=0;return this.getCreatedAt()&&(e+=Bn),this.getMovedAt()&&(e+=Bn),this.getRemovedAt()&&(e+=Bn),e}}class _i extends Js{constructor(e){super(e)}}class Oo{strKey;value;constructor(e,a){this.strKey=e,this.value=a}static of(e,a){return new Oo(e,a)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(e){return this.value.remove(e)}}class Ar{nodeMapByKey;nodeMapByCreatedAt;constructor(){this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Ar}set(e,a,r){let o;const c=this.nodeMapByKey.get(e);c&&!c.isRemoved()&&c.remove(r)&&(o=c.getValue());const h=Oo.of(e,a);return this.nodeMapByCreatedAt.set(a.getCreatedAt().toIDString(),h),(!c||r.after(c.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(e,h),a.setMovedAt(r)),o}delete(e,a){if(!this.nodeMapByCreatedAt.has(e.toIDString()))throw new N(A.ErrInvalidArgument,`fail to find ${e.toIDString()}`);const r=this.nodeMapByCreatedAt.get(e.toIDString());return r.remove(a),r.getValue()}subPathOf(e){const a=this.nodeMapByCreatedAt.get(e.toIDString());if(a)return a.getStrKey()}purge(e){const a=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!a)throw new N(A.ErrInvalidArgument,`fail to find ${e.getCreatedAt().toIDString()}`);const r=this.nodeMapByKey.get(a.getStrKey());a===r&&this.nodeMapByKey.delete(r.getStrKey()),this.nodeMapByCreatedAt.delete(a.getValue().getCreatedAt().toIDString())}deleteByKey(e,a){const r=this.nodeMapByKey.get(e);if(r&&r.remove(a))return r.getValue()}has(e){const a=this.nodeMapByKey.get(e);return a?!a.isRemoved():!1}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}get(e){const a=this.nodeMapByKey.get(e);if(!(!a||a.isRemoved()))return a}deepcopy(){const e=Ar.create();for(const[,a]of this.nodeMapByCreatedAt)e.nodeMapByCreatedAt.set(a.getValue().getCreatedAt().toIDString(),Oo.of(a.getStrKey(),a.getValue().deepcopy()));for(const[a,r]of this.nodeMapByKey)e.nodeMapByKey.set(a,e.nodeMapByCreatedAt.get(r.getValue().getCreatedAt().toIDString()));return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByCreatedAt)yield e}}class St extends _i{memberNodes;constructor(e,a){super(e),this.memberNodes=a}static create(e,a){if(!a)return new St(e,Ar.create());const r=Ar.create();for(const[o,c]of Object.entries(a))r.set(o,c.deepcopy(),c.getCreatedAt());return new St(e,r)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,a,r){return this.memberNodes.set(e,a,r)}delete(e,a){return this.memberNodes.delete(e,a)}deleteByKey(e,a){return this.memberNodes.deleteByKey(e,a)}get(e){return this.memberNodes.get(e)?.getValue()}getByID(e){return this.memberNodes.getByID(e)?.getValue()}has(e){return this.memberNodes.has(e)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const[a,r]of this)e.push(`"${xn(a)}":${r.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[a,r]of this){const{createdAt:o,value:c,type:h}=r.toJSForTest();e[a]={key:a,createdAt:o,value:c,type:h}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[a]of this)e.push(a);return e}toSortedJSON(){const e=new Set;for(const[r]of this)e.add(r);const a=[];for(const r of Array.from(e).sort()){const o=this.memberNodes.get(r)?.getValue();a.push(`"${xn(r)}":${o.toSortedJSON()}`)}return`{${a.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=St.create(this.getCreatedAt());return e.memberNodes=this.memberNodes.deepcopy(),e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}getDescendants(e){for(const a of this.memberNodes){const r=a.getValue();if(e(r,this))return;r instanceof _i&&r.getDescendants(e)}}*[Symbol.iterator](){for(const e of this.memberNodes)e.isRemoved()||(yield[e.getStrKey(),e.getValue()])}}var Je=(i=>(i.Local="local",i.Remote="remote",i.UndoRedo="undoredo",i))(Je||{});class Cn{parentCreatedAt;executedAt;constructor(e,a){this.parentCreatedAt=e,this.executedAt=a}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new N(A.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(e){this.executedAt&&(this.executedAt=this.executedAt.setActor(e))}setExecutedAt(e){this.executedAt=e}}class Sv{value;left;right;parent;weight;constructor(e){this.value=e,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(e){this.left=e}setRight(e){this.right=e}setParent(e){this.parent=e}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(e){this.weight+=e}initWeight(){this.weight=this.getLength()}}class Gs{root;constructor(e){this.root=e}get length(){return this.root?this.root.getWeight():0}findForText(e){if(!this.root||e<0)return[void 0,0];let a=this.root;for(;;)if(a.hasLeft()&&e<=a.getLeftWeight())a=a.getLeft();else if(a.hasRight()&&a.getLeftWeight()+a.getLength()<e)e-=a.getLeftWeight()+a.getLength(),a=a.getRight();else{e-=a.getLeftWeight();break}if(e>a.getLength())throw new N(A.ErrInvalidArgument,`out of index range: pos: ${e} > node.length: ${a.getLength()}`);return this.splayNode(a),[a,e]}findForArray(e){if(!this.root)return;if(e<0||e>=this.length)throw new N(A.ErrInvalidArgument,`out of index range: idx: ${e}, length: ${this.length}`);let a=this.root;for(;;)if(a.hasLeft()&&e<a.getLeftWeight())a=a.getLeft();else if(a.hasRight()&&a.getLeftWeight()+a.getLength()<=e)e-=a.getLeftWeight()+a.getLength(),a=a.getRight();else break;return this.splayNode(a),a}indexOf(e){return!e||e!==this.root&&!e.hasLinks()?-1:(this.splayNode(e),this.root.getLeftWeight())}getRoot(){return this.root}insert(e){return this.insertAfter(this.root,e)}insertAfter(e,a){return e?(this.splayNode(e),this.root=a,a.setRight(e.getRight()),e.hasRight()&&e.getRight().setParent(a),a.setLeft(e),e.setParent(a),e.setRight(),this.updateWeight(e),this.updateWeight(a),a):(this.root=a,a)}updateWeight(e){e.initWeight(),e.hasLeft()&&e.increaseWeight(e.getLeftWeight()),e.hasRight()&&e.increaseWeight(e.getRightWeight())}updateTreeWeight(e){for(;e;)this.updateWeight(e),e=e.getParent()}splayNode(e){if(e)for(;;)if(this.isLeftChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e),this.rotateLeft(e);else if(this.isLeftChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e.getParent()),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e.getParent()),this.rotateLeft(e);else{this.isLeftChild(e)?this.rotateRight(e):this.isRightChild(e)&&this.rotateLeft(e),this.updateWeight(e);return}}delete(e){this.splayNode(e);const a=new Gs(e.getLeft());a.root&&a.root.setParent();const r=new Gs(e.getRight());if(r.root&&r.root.setParent(),a.root){const o=a.getRightmost();a.splayNode(o),a.root.setRight(r.root),r.root&&r.root.setParent(a.root),this.root=a.root}else this.root=r.root;e.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(e,a){if(!a){this.splayNode(e),this.cutOffRight(e);return}this.splayNode(e),this.splayNode(a),a.getLeft()!=e&&this.rotateRight(e),this.cutOffRight(e)}cutOffRight(e){const a=[];this.traversePostorder(e.getRight(),a);for(const r of a)r.initWeight();this.updateTreeWeight(e)}toTestString(){const e=[];return this.traverseInorder(this.root,e),e.map(a=>`[${a.getWeight()},${a.getLength()}]${a.getValue()||""}`).join("")}checkWeight(){const e=[];this.traverseInorder(this.root,e);for(const a of e)if(a.getWeight()!=a.getLength()+a.getLeftWeight()+a.getRightWeight())return!1;return!0}getRightmost(){let e=this.root;for(;e.hasRight();)e=e.getRight();return e}traverseInorder(e,a){e&&(this.traverseInorder(e.getLeft(),a),a.push(e),this.traverseInorder(e.getRight(),a))}traversePostorder(e,a){e&&(this.traversePostorder(e.getLeft(),a),this.traversePostorder(e.getRight(),a),a.push(e))}rotateLeft(e){const a=e.getParent();a.hasParent()?a===a.getParent().getLeft()?a.getParent().setLeft(e):a.getParent().setRight(e):this.root=e,e.setParent(a.getParent()),a.setRight(e.getLeft()),a.hasRight()&&a.getRight().setParent(a),e.setLeft(a),e.getLeft().setParent(e),this.updateWeight(a),this.updateWeight(e)}rotateRight(e){const a=e.getParent();a.hasParent()?a===a.getParent().getLeft()?a.getParent().setLeft(e):a.getParent().setRight(e):this.root=e,e.setParent(a.getParent()),a.setLeft(e.getRight()),a.hasLeft()&&a.getLeft().setParent(a),e.setRight(a),e.getRight().setParent(e),this.updateWeight(a),this.updateWeight(e)}isLeftChild(e){return e&&e.hasParent()?e.getParent().getLeft()===e:!1}isRightChild(e){return e&&e.hasParent()?e.getParent().getRight()===e:!1}}var on=null;try{on=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function ye(i,e,a){this.low=i|0,this.high=e|0,this.unsigned=!!a}ye.prototype.__isLong__;Object.defineProperty(ye.prototype,"__isLong__",{value:!0});function Et(i){return(i&&i.__isLong__)===!0}function $p(i){var e=Math.clz32(i&-i);return i?31-e:e}ye.isLong=Et;var Pp={},qp={};function Sa(i,e){var a,r,o;return e?(i>>>=0,(o=0<=i&&i<256)&&(r=qp[i],r)?r:(a=Ne(i,0,!0),o&&(qp[i]=a),a)):(i|=0,(o=-128<=i&&i<128)&&(r=Pp[i],r)?r:(a=Ne(i,i<0?-1:0,!1),o&&(Pp[i]=a),a))}ye.fromInt=Sa;function un(i,e){if(isNaN(i))return e?si:Tn;if(e){if(i<0)return si;if(i>=Av)return Tv}else{if(i<=-tb)return Ut;if(i+1>=tb)return Nv}return i<0?un(-i,e).neg():Ne(i%Er|0,i/Er|0,e)}ye.fromNumber=un;function Ne(i,e,a){return new ye(i,e,a)}ye.fromBits=Ne;var Vo=Math.pow;function yh(i,e,a){if(i.length===0)throw Error("empty string");if(typeof e=="number"?(a=e,e=!1):e=!!e,i==="NaN"||i==="Infinity"||i==="+Infinity"||i==="-Infinity")return e?si:Tn;if(a=a||10,a<2||36<a)throw RangeError("radix");var r;if((r=i.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return yh(i.substring(1),e,a).neg();for(var o=un(Vo(a,8)),c=Tn,h=0;h<i.length;h+=8){var d=Math.min(8,i.length-h),m=parseInt(i.substring(h,h+d),a);if(d<8){var y=un(Vo(a,d));c=c.mul(y).add(un(m))}else c=c.mul(o),c=c.add(un(m))}return c.unsigned=e,c}ye.fromString=yh;function gn(i,e){return typeof i=="number"?un(i,e):typeof i=="string"?yh(i,e):Ne(i.low,i.high,typeof e=="boolean"?e:i.unsigned)}ye.fromValue=gn;var eb=65536,yT=1<<24,Er=eb*eb,Av=Er*Er,tb=Av/2,nb=Sa(yT),Tn=Sa(0);ye.ZERO=Tn;var si=Sa(0,!0);ye.UZERO=si;var fr=Sa(1);ye.ONE=fr;var Ev=Sa(1,!0);ye.UONE=Ev;var Mf=Sa(-1);ye.NEG_ONE=Mf;var Nv=Ne(-1,2147483647,!1);ye.MAX_VALUE=Nv;var Tv=Ne(-1,-1,!0);ye.MAX_UNSIGNED_VALUE=Tv;var Ut=Ne(0,-2147483648,!1);ye.MIN_VALUE=Ut;var z=ye.prototype;z.toInt=function(){return this.unsigned?this.low>>>0:this.low};z.toNumber=function(){return this.unsigned?(this.high>>>0)*Er+(this.low>>>0):this.high*Er+(this.low>>>0)};z.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Ut)){var a=un(e),r=this.div(a),o=r.mul(a).sub(this);return r.toString(e)+o.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var c=un(Vo(e,6),this.unsigned),h=this,d="";;){var m=h.div(c),y=h.sub(m.mul(c)).toInt()>>>0,v=y.toString(e);if(h=m,h.isZero())return v+d;for(;v.length<6;)v="0"+v;d=""+v+d}};z.getHighBits=function(){return this.high};z.getHighBitsUnsigned=function(){return this.high>>>0};z.getLowBits=function(){return this.low};z.getLowBitsUnsigned=function(){return this.low>>>0};z.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ut)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,a=31;a>0&&(e&1<<a)==0;a--);return this.high!=0?a+33:a+1};z.isSafeInteger=function(){var e=this.high>>21;return e?this.unsigned?!1:e===-1&&!(this.low===0&&this.high===-2097152):!0};z.isZero=function(){return this.high===0&&this.low===0};z.eqz=z.isZero;z.isNegative=function(){return!this.unsigned&&this.high<0};z.isPositive=function(){return this.unsigned||this.high>=0};z.isOdd=function(){return(this.low&1)===1};z.isEven=function(){return(this.low&1)===0};z.equals=function(e){return Et(e)||(e=gn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};z.eq=z.equals;z.notEquals=function(e){return!this.eq(e)};z.neq=z.notEquals;z.ne=z.notEquals;z.lessThan=function(e){return this.comp(e)<0};z.lt=z.lessThan;z.lessThanOrEqual=function(e){return this.comp(e)<=0};z.lte=z.lessThanOrEqual;z.le=z.lessThanOrEqual;z.greaterThan=function(e){return this.comp(e)>0};z.gt=z.greaterThan;z.greaterThanOrEqual=function(e){return this.comp(e)>=0};z.gte=z.greaterThanOrEqual;z.ge=z.greaterThanOrEqual;z.compare=function(e){if(Et(e)||(e=gn(e)),this.eq(e))return 0;var a=this.isNegative(),r=e.isNegative();return a&&!r?-1:!a&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};z.comp=z.compare;z.negate=function(){return!this.unsigned&&this.eq(Ut)?Ut:this.not().add(fr)};z.neg=z.negate;z.add=function(e){Et(e)||(e=gn(e));var a=this.high>>>16,r=this.high&65535,o=this.low>>>16,c=this.low&65535,h=e.high>>>16,d=e.high&65535,m=e.low>>>16,y=e.low&65535,v=0,T=0,V=0,I=0;return I+=c+y,V+=I>>>16,I&=65535,V+=o+m,T+=V>>>16,V&=65535,T+=r+d,v+=T>>>16,T&=65535,v+=a+h,v&=65535,Ne(V<<16|I,v<<16|T,this.unsigned)};z.subtract=function(e){return Et(e)||(e=gn(e)),this.add(e.neg())};z.sub=z.subtract;z.multiply=function(e){if(this.isZero())return this;if(Et(e)||(e=gn(e)),on){var a=on.mul(this.low,this.high,e.low,e.high);return Ne(a,on.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?si:Tn;if(this.eq(Ut))return e.isOdd()?Ut:Tn;if(e.eq(Ut))return this.isOdd()?Ut:Tn;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(nb)&&e.lt(nb))return un(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,o=this.high&65535,c=this.low>>>16,h=this.low&65535,d=e.high>>>16,m=e.high&65535,y=e.low>>>16,v=e.low&65535,T=0,V=0,I=0,B=0;return B+=h*v,I+=B>>>16,B&=65535,I+=c*v,V+=I>>>16,I&=65535,I+=h*y,V+=I>>>16,I&=65535,V+=o*v,T+=V>>>16,V&=65535,V+=c*y,T+=V>>>16,V&=65535,V+=h*m,T+=V>>>16,V&=65535,T+=r*v+o*y+c*m+h*d,T&=65535,Ne(I<<16|B,T<<16|V,this.unsigned)};z.mul=z.multiply;z.divide=function(e){if(Et(e)||(e=gn(e)),e.isZero())throw Error("division by zero");if(on){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var a=(this.unsigned?on.div_u:on.div_s)(this.low,this.high,e.low,e.high);return Ne(a,on.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?si:Tn;var r,o,c;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return si;if(e.gt(this.shru(1)))return Ev;c=si}else{if(this.eq(Ut)){if(e.eq(fr)||e.eq(Mf))return Ut;if(e.eq(Ut))return fr;var h=this.shr(1);return r=h.div(e).shl(1),r.eq(Tn)?e.isNegative()?fr:Mf:(o=this.sub(e.mul(r)),c=r.add(o.div(e)),c)}else if(e.eq(Ut))return this.unsigned?si:Tn;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();c=Tn}for(o=this;o.gte(e);){r=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var d=Math.ceil(Math.log(r)/Math.LN2),m=d<=48?1:Vo(2,d-48),y=un(r),v=y.mul(e);v.isNegative()||v.gt(o);)r-=m,y=un(r,this.unsigned),v=y.mul(e);y.isZero()&&(y=fr),c=c.add(y),o=o.sub(v)}return c};z.div=z.divide;z.modulo=function(e){if(Et(e)||(e=gn(e)),on){var a=(this.unsigned?on.rem_u:on.rem_s)(this.low,this.high,e.low,e.high);return Ne(a,on.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};z.mod=z.modulo;z.rem=z.modulo;z.not=function(){return Ne(~this.low,~this.high,this.unsigned)};z.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};z.clz=z.countLeadingZeros;z.countTrailingZeros=function(){return this.low?$p(this.low):$p(this.high)+32};z.ctz=z.countTrailingZeros;z.and=function(e){return Et(e)||(e=gn(e)),Ne(this.low&e.low,this.high&e.high,this.unsigned)};z.or=function(e){return Et(e)||(e=gn(e)),Ne(this.low|e.low,this.high|e.high,this.unsigned)};z.xor=function(e){return Et(e)||(e=gn(e)),Ne(this.low^e.low,this.high^e.high,this.unsigned)};z.shiftLeft=function(e){return Et(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ne(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Ne(0,this.low<<e-32,this.unsigned)};z.shl=z.shiftLeft;z.shiftRight=function(e){return Et(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ne(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Ne(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};z.shr=z.shiftRight;z.shiftRightUnsigned=function(e){return Et(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ne(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?Ne(this.high,0,this.unsigned):Ne(this.high>>>e-32,0,this.unsigned)};z.shru=z.shiftRightUnsigned;z.shr_u=z.shiftRightUnsigned;z.rotateLeft=function(e){var a;return Et(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Ne(this.high,this.low,this.unsigned):e<32?(a=32-e,Ne(this.low<<e|this.high>>>a,this.high<<e|this.low>>>a,this.unsigned)):(e-=32,a=32-e,Ne(this.high<<e|this.low>>>a,this.low<<e|this.high>>>a,this.unsigned))};z.rotl=z.rotateLeft;z.rotateRight=function(e){var a;return Et(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Ne(this.high,this.low,this.unsigned):e<32?(a=32-e,Ne(this.high<<a|this.low>>>e,this.low<<a|this.high>>>e,this.unsigned)):(e-=32,a=32-e,Ne(this.low<<a|this.high>>>e,this.high<<a|this.low>>>e,this.unsigned))};z.rotr=z.rotateRight;z.toSigned=function(){return this.unsigned?Ne(this.low,this.high,!1):this};z.toUnsigned=function(){return this.unsigned?this:Ne(this.low,this.high,!0)};z.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};z.toBytesLE=function(){var e=this.high,a=this.low;return[a&255,a>>>8&255,a>>>16&255,a>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};z.toBytesBE=function(){var e=this.high,a=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,a>>>24,a>>>16&255,a>>>8&255,a&255]};ye.fromBytes=function(e,a,r){return r?ye.fromBytesLE(e,a):ye.fromBytesBE(e,a)};ye.fromBytesLE=function(e,a){return new ye(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,a)};ye.fromBytesBE=function(e,a){return new ye(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],a)};typeof BigInt=="function"&&(ye.fromBigInt=function(e,a){var r=Number(BigInt.asIntN(32,e)),o=Number(BigInt.asIntN(32,e>>BigInt(32)));return Ne(r,o,a)},ye.fromValue=function(e,a){return typeof e=="bigint"?ye.fromBigInt(e,a):gn(e,a)},z.toBigInt=function(){var e=BigInt(this.low>>>0),a=BigInt(this.unsigned?this.high>>>0:this.high);return a<<BigInt(32)|e});var Ge=(i=>(i[i.Null=0]="Null",i[i.Boolean=1]="Boolean",i[i.Integer=2]="Integer",i[i.Long=3]="Long",i[i.Double=4]="Double",i[i.String=5]="String",i[i.Bytes=6]="Bytes",i[i.Date=7]="Date",i))(Ge||{});class je extends Js{valueType;value;constructor(e,a){super(a),this.valueType=je.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,a){return new je(e,a)}static valueFromBytes(e,a){switch(e){case 0:return null;case 1:return!!a[0];case 2:return a[0]|a[1]<<8|a[2]<<16|a[3]<<24;case 4:{const r=new DataView(a.buffer);return a.forEach(function(o,c){r.setUint8(c,o)}),r.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(a);case 3:return ye.fromBytesLE(Array.from(a));case 6:return a;case 7:return new Date(ye.fromBytesLE(Array.from(a),!0).toNumber());default:throw new N(A.ErrUnimplemented,`unimplemented type: ${e}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new N(A.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${xn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=je.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof ye)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return je.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,a=new Uint8Array(8);return new DataView(a.buffer).setFloat64(0,e,!0),a}case 5:return new TextEncoder().encode(this.value);case 3:{const a=this.value.toBytesLE();return Uint8Array.from(a)}case 6:return this.value;case 7:{const e=this.value,a=ye.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(a)}default:throw new N(A.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class xo extends Sv{prev;next;movedFrom;constructor(e){super(e),this.value=e}static createAfter(e,a){const r=new xo(a),o=e.next;return e.next=r,r.prev=e,r.next=o,o&&(o.prev=r),r}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(e){this.movedFrom=e}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class zs{dummyHead;last;nodeMapByIndex;nodeMapByCreatedAt;constructor(){const e=je.of(0,Sr);e.setRemovedAt(Sr),this.dummyHead=new xo(e),this.last=this.dummyHead,this.nodeMapByIndex=new Gs,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new zs}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(e,a){let r=this.nodeMapByCreatedAt.get(e.toIDString());if(!r)throw new N(A.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);for(;r.getValue().getMovedAt()&&r.getValue().getMovedAt().after(a)&&r.getMovedFrom();)r=r.getMovedFrom();for(;r.getNext()&&r.getNext().getPositionedAt().after(a);)r=r.getNext();return r}release(e){this.last===e&&(this.last=e.getPrev()),e.release(),this.nodeMapByIndex.delete(e),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}insertAfter(e,a,r=a.getCreatedAt()){const o=this.findNextBeforeExecutedAt(e,r),c=xo.createAfter(o,a);return o===this.last&&(this.last=c),this.nodeMapByIndex.insertAfter(o,c),this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),c),c}moveAfter(e,a,r){let o=this.nodeMapByCreatedAt.get(e.toIDString());if(!o)throw new N(A.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);let c=this.nodeMapByCreatedAt.get(a.toIDString());if(!c)throw new N(A.ErrInvalidArgument,`cant find the given node: ${a.toIDString()}`);if(o!==c&&r.after(c.getPositionedAt())){const h=c.getPrev();let d=c.getNext();for(this.release(c),c=this.insertAfter(o.getCreatedAt(),c.getValue(),r),c.getValue().setMovedAt(r),c.setMovedFrom(h);d&&d.getPositionedAt().after(r);)o=c,c=d,d=c.getNext(),this.release(c),c=this.insertAfter(o.getCreatedAt(),c.getValue(),r),c.getValue().setMovedAt(r),c.setMovedFrom(h)}}insert(e){this.insertAfter(this.last.getCreatedAt(),e)}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}subPathOf(e){const a=this.nodeMapByCreatedAt.get(e.toIDString());if(a)return String(this.nodeMapByIndex.indexOf(a))}purge(e){const a=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!a)throw new N(A.ErrInvalidArgument,`fail to find the given createdAt: ${e.getCreatedAt().toIDString()}`);this.release(a)}getByIndex(e){return e>=this.length?void 0:this.nodeMapByIndex.findForArray(e)}getPrevCreatedAt(e){let a=this.nodeMapByCreatedAt.get(e.toIDString());do a=a.getPrev();while(this.dummyHead!==a&&a.isRemoved());return a.getValue().getCreatedAt()}delete(e,a){const r=this.nodeMapByCreatedAt.get(e.toIDString()),o=r.isRemoved();return r.remove(a)&&!o&&this.nodeMapByIndex.splayNode(r),r.getValue()}set(e,a,r){const o=this.nodeMapByCreatedAt.get(e.toIDString());if(!o)throw new N(A.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);return this.insertAfter(o.getCreatedAt(),a,r),this.delete(e,r)}deleteByIndex(e,a){const r=this.getByIndex(e);if(r)return r.remove(a)&&this.nodeMapByIndex.splayNode(r),r.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const e=[];for(const a of this){const r=`${a.getCreatedAt().toIDString()}:${a.getValue().toJSON()}`;a.isRemoved()?e.push(`{${r}}`):e.push(`[${r}]`)}return e.join("")}*[Symbol.iterator](){let e=this.dummyHead.getNext();for(;e;)yield e,e=e.getNext()}}class At extends _i{elements;constructor(e,a){super(e),this.elements=a}static create(e,a){if(!a)return new At(e,zs.create());const r=zs.create();for(const o of a)r.insertAfter(r.getLastCreatedAt(),o.deepcopy());return new At(e,r)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,a,r){this.elements.insertAfter(e,a,r)}moveAfter(e,a,r){this.elements.moveAfter(e,a,r)}get(e){return this.elements.getByIndex(e)?.getValue()}getByID(e){return this.elements.getByID(e)?.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,a){return this.elements.delete(e,a)}deleteByIndex(e,a){return this.elements.deleteByIndex(e,a)}set(e,a,r){return this.elements.set(e,a,r)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const a of this.elements){const r=a.getValue();if(e(r,this))return;r instanceof _i&&r.getDescendants(e)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const a of this)e.push(a.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let a=0;a<this.length;a++){const{createdAt:r,value:o,type:c}=this.get(a).toJSForTest();e[a]={key:String(a),createdAt:r,value:o,type:c}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=At.create(this.getCreatedAt());for(const a of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),a.getValue().deepcopy());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}}class Ji extends Cn{prevCreatedAt;value;constructor(e,a,r,o){super(e,o),this.prevCreatedAt=a,this.value=r}static create(e,a,r,o){return new Ji(e,a,r,o)}execute(e){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof At))throw new N(A.ErrInvalidArgument,"fail to execute, only array can execute add");const r=a,o=this.value.deepcopy();return r.insertAfter(this.prevCreatedAt,o,this.getExecutedAt()),e.registerElement(o,r),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(r.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return Zn.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(e){this.prevCreatedAt=e}}class Zn extends Cn{createdAt;constructor(e,a,r){super(e,r),this.createdAt=a}static create(e,a,r){return new Zn(e,a,r)}execute(e,a){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof _i))throw new N(A.ErrInvalidArgument,`only object and array can execute remove: ${r}`);if(a===Je.UndoRedo){let m=r.getByID(this.createdAt);for(;m;){if(m.getRemovedAt())return;m=e.findElementPairByCreatedAt(m.getCreatedAt())?.parent}}const o=r.subPathOf(this.createdAt),c=this.toReverseOperation(r),h=r.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(h),{opInfos:r instanceof At?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(o)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:o}],reverseOp:c}}toReverseOperation(e){if(e instanceof At){const a=e.getByID(this.createdAt);if(a!==void 0){const r=e.getPrevCreatedAt(this.createdAt);return Ji.create(this.getParentCreatedAt(),r,a.deepcopy())}}if(e instanceof St){const a=e.subPathOf(this.createdAt);if(a!==void 0){const r=e.get(a);if(r!==void 0)return va.create(a,r.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(e){this.createdAt=e}}class va extends Cn{key;value;constructor(e,a,r,o){super(r,o),this.key=e,this.value=a}static create(e,a,r,o){return new va(e,a,r,o)}execute(e,a){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof St))throw new N(A.ErrInvalidArgument,"fail to execute, only object can execute set");if(a===Je.UndoRedo){let m=r;for(;m;){if(m.getRemovedAt())return;m=e.findElementPairByCreatedAt(m.getCreatedAt())?.parent}}const o=r.get(this.key),c=this.toReverseOperation(o),h=this.value.deepcopy(),d=r.set(this.key,h,this.getExecutedAt());return a===Je.UndoRedo&&e.findByCreatedAt(h.getCreatedAt())&&e.deregisterElement(h),e.registerElement(h,r),d&&e.registerRemovedElement(d),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:c}}toReverseOperation(e){let a=Zn.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(a=va.create(this.key,e.deepcopy(),this.getParentCreatedAt())),a}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Rn extends Cn{prevCreatedAt;createdAt;constructor(e,a,r,o){super(e,o),this.prevCreatedAt=a,this.createdAt=r}static create(e,a,r,o){return new Rn(e,a,r,o)}execute(e){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof At))throw new N(A.ErrInvalidArgument,"fail to execute, only array can execute move");const r=a,o=this.toReverseOperation(r),c=Number(r.subPathOf(this.createdAt));r.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const h=Number(r.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:h,previousIndex:c}],reverseOp:o}}toReverseOperation(e){const a=e.getPrevCreatedAt(this.createdAt);return Rn.create(this.getParentCreatedAt(),a,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(e){this.prevCreatedAt=e}setCreatedAt(e){this.createdAt=e}}const pT=(i,e)=>i===e?0:i<e?-1:1;class bT{key;value;left;right;isRed;constructor(e,a,r){this.key=e,this.value=a,this.isRed=r}}class vT{stack;constructor(e){this.stack=[],this.traverseInorder(e)}traverseInorder(e){e&&(this.traverseInorder(e.left),this.stack.push({key:e.key,value:e.value}),this.traverseInorder(e.right))}}class Rv{root;comparator;counter;constructor(e){this.comparator=typeof e<"u"?e:pT,this.counter=0}put(e,a){return this.root=this.putInternal(e,a,this.root),this.root.isRed=!1,a}get(e){const a=this.getInternal(e,this.root);return a?a.value:void 0}remove(e){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,e),this.root&&(this.root.isRed=!1)}getIterator(){return new vT(this.root)}values(){const e=[];for(const a of this.getIterator().stack)e.push(a.value);return e}floorEntry(e){let a=this.root,r;for(;a;){const o=this.comparator(e,a.key);if(o===0)return a;o<0?a=a.left:(r=a,a=a.right)}return r}lastEntry(){if(!this.root)return this.root;let e=this.root;for(;e.right;)e=e.right;return e}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(e,a){for(;a;){const r=this.comparator(e,a.key);if(r===0)return a;r<0?a=a.left:r>0&&(a=a.right)}}putInternal(e,a,r){if(!r)return this.counter+=1,new bT(e,a,!0);const o=this.comparator(e,r.key);return o<0?r.left=this.putInternal(e,a,r.left):o>0?r.right=this.putInternal(e,a,r.right):r.value=a,this.isRed(r.right)&&!this.isRed(r.left)&&(r=this.rotateLeft(r)),this.isRed(r.left)&&this.isRed(r.left.left)&&(r=this.rotateRight(r)),this.isRed(r.left)&&this.isRed(r.right)&&this.flipColors(r),r}removeInternal(e,a){if(this.comparator(a,e.key)<0)!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeInternal(e.left,a);else{if(this.isRed(e.left)&&(e=this.rotateRight(e)),this.comparator(a,e.key)===0&&!e.right){this.counter-=1;return}if(!this.isRed(e.right)&&!this.isRed(e.right.left)&&(e=this.moveRedRight(e)),this.comparator(a,e.key)===0){this.counter-=1;const r=this.min(e.right);e.value=r.value,e.key=r.key,e.right=this.removeMin(e.right)}else e.right=this.removeInternal(e.right,a)}return this.fixUp(e)}min(e){return e.left?this.min(e.left):e}removeMin(e){if(e.left)return!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeMin(e.left),this.fixUp(e)}fixUp(e){return this.isRed(e.right)&&(e=this.rotateLeft(e)),this.isRed(e.left)&&this.isRed(e.left.left)&&(e=this.rotateRight(e)),this.isRed(e.left)&&this.isRed(e.right)&&this.flipColors(e),e}moveRedLeft(e){return this.flipColors(e),this.isRed(e.right.left)&&(e.right=this.rotateRight(e.right),e=this.rotateLeft(e),this.flipColors(e)),e}moveRedRight(e){return this.flipColors(e),this.isRed(e.left.left)&&(e=this.rotateRight(e),this.flipColors(e)),e}isRed(e){return e&&e.isRed}rotateLeft(e){const a=e.right;return e.right=a.left,a.left=e,a.isRed=a.left.isRed,a.left.isRed=!0,a}rotateRight(e){const a=e.left;return e.left=a.right,a.right=e,a.isRed=a.right.isRed,a.right.isRed=!0,a}flipColors(e){e.isRed=!e.isRed,e.left.isRed=!e.left.isRed,e.right.isRed=!e.right.isRed}}function ST(i){return i?ib(i.live)+ib(i.gc):0}function ib(i){return i.data+i.meta}function yt(i,...e){for(const a of e)i.data+=a.data,i.meta+=a.meta}function pa(i,e){i.data-=e.data,i.meta-=e.meta}class Un{createdAt;offset;constructor(e,a){this.createdAt=e,this.offset=a}static of(e,a){return new Un(e,a)}static fromStruct(e){return Un.of(cn.fromStruct(e.createdAt),e.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}hasSameCreatedAt(e){return this.createdAt.compare(e.createdAt)===0}split(e){return new Un(this.createdAt,this.offset+e)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const AT=Un.of(Sr,0);class mt{id;relativeOffset;constructor(e,a){this.id=e,this.relativeOffset=a}static of(e,a){return new mt(e,a)}static fromStruct(e){const a=Un.fromStruct(e.id);return mt.of(a,e.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Un.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(e){return this.id.equals(e.id)?this.relativeOffset===e.relativeOffset:!1}}class Ki extends Sv{id;removedAt;prev;next;insPrev;insNext;constructor(e,a,r){super(a),this.id=e,this.removedAt=r}static create(e,a){return new Ki(e,a)}static createComparator(){return(e,a)=>{const r=e.getCreatedAt().compare(a.getCreatedAt());return r!==0?r:e.getOffset()>a.getOffset()?1:e.getOffset()<a.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new Ki(this.id.split(e),this.splitValue(e),this.removedAt)}canRemove(e,a,r){return a?!!(!this.removedAt||!r&&e?.after(this.removedAt)):!1}canStyle(e,a){return this.getCreatedAt().getLamport()<=a&&(!this.removedAt||e.after(this.removedAt))}setRemovedAt(e){this.removedAt=e}remove(e){if(!this.removedAt){this.removedAt=e;return}e.after(this.removedAt)&&(this.removedAt=e)}createPosRange(){return[mt.of(this.id,0),mt.of(this.id,this.getLength())]}getDataSize(){const e=this.value.getDataSize();return this.id&&(e.meta+=Bn),this.removedAt&&(e.meta+=Bn),e}deepcopy(){return new Ki(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const a=this.value;return this.value=a.substring(0,e),a.substring(e,a.length)}toIDString(){return this.id.toIDString()}}class Nr{head;treeByIndex;treeByID;constructor(){this.head=Ki.create(AT),this.treeByIndex=new Gs,this.treeByID=new Rv(Ki.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Nr}edit(e,a,r,o){const c={data:0,meta:0},[h,d,m]=this.findNodeWithSplit(e[1],a),[y,v,T]=this.findNodeWithSplit(e[0],a);yt(c,d,v);const V=this.findBetween(T,m),[I,B]=this.deleteNodes(V,a,o),G=m?m.getID():h.getID();let j=mt.of(G,0);if(r){const te=this.posToIndex(y.createPosRange()[1],!0),he=this.insertAfter(y,Ki.create(Un.of(a,0),r));yt(c,he.getDataSize()),I.length&&I[I.length-1].from===te?I[I.length-1].value=r:I.push({actor:a.getActorID(),from:te,to:te,value:r}),j=mt.of(he.getID(),he.getContentLength())}const q=[],Ee=[];for(const[,te]of B)q.push({parent:this,child:te}),Ee.push(te.getValue());return[j,q,c,I,Ee]}indexToPos(e){const[a,r]=this.treeByIndex.findForText(e),o=a;return mt.of(o.getID(),r)}findIndexesFromRange(e){const[a,r]=e;return[this.posToIndex(a,!1),this.posToIndex(r,!0)]}posToIndex(e,a){const r=e.getAbsoluteID(),o=a?this.findFloorNodePreferToLeft(r):this.findFloorNode(r);if(!o)throw new N(A.ErrInvalidArgument,`the node of the given id should be found: ${r.toTestString()}`);const c=this.treeByIndex.indexOf(o),h=o.isRemoved()?0:r.getOffset()-o.getID().getOffset();return c+h}findNode(e){return this.findFloorNode(e)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const e=[];for(const a of this)a.isRemoved()||e.push(a.getValue());return e.join("")}*[Symbol.iterator](){let e=this.head.getNext();for(;e;)yield e,e=e.getNext()}getHead(){return this.head}deepcopy(){const e=new Nr;let a=this.head.getNext(),r=e.head,o;for(;a;){if(o=e.insertAfter(r,a.deepcopy()),a.hasInsPrev()){const c=e.findNode(a.getInsPrevID());o.setInsPrev(c)}r=o,a=a.getNext()}return e}normalizePos(e){const a=this.findFloorNode(e.getID());if(!a)throw new N(A.ErrInvalidArgument,`the node of the given id should be found: ${e.getID().toTestString()}`);let r=e.getRelativeOffset(),o=a,c=a.getPrev();for(;c;)r+=c.getLength(),o=c,c=c.getPrev();return mt.of(o.getID(),r)}refinePos(e){let a=this.findFloorNode(e.getID());if(!a)throw new N(A.ErrInvalidArgument,`the node of the given id should be found: ${e.getID().toTestString()}`);let r=e.getRelativeOffset(),o=a.getContentLength();for(;r>o;){r-=o;const c=a.getNext();if(!c)return mt.of(a.getID(),o);a=c,o=a.getLength()}return mt.of(a.getID(),r)}toTestString(){const e=[];let a=this.head;for(;a;)a.isRemoved()?e.push(`{${a.toTestString()}}`):e.push(`[${a.toTestString()}]`),a=a.getNext();return e.join("")}insertAfter(e,a){const r=e.getNext();return a.setPrev(e),r&&r.setPrev(a),this.treeByID.put(a.getID(),a),this.treeByIndex.insertAfter(e,a),a}findNodeWithSplit(e,a){const r=e.getAbsoluteID();let o=this.findFloorNodePreferToLeft(r);const c=r.getOffset()-o.getID().getOffset(),[,h]=this.splitNode(o,c);for(;o.hasNext()&&o.getNext().getCreatedAt().after(a);)o=o.getNext();return[o,h,o.getNext()]}findFloorNodePreferToLeft(e){let a=this.findFloorNode(e);if(!a)throw new N(A.ErrInvalidArgument,`the node of the given id should be found: ${e.toTestString()}`);if(e.getOffset()>0&&a.getID().getOffset()==e.getOffset()){if(!a.hasInsPrev())return a;a=a.getInsPrev()}return a}findFloorNode(e){const a=this.treeByID.floorEntry(e);if(a&&!(!a.key.equals(e)&&!a.key.hasSameCreatedAt(e)))return a.value}findBetween(e,a){const r=[];let o=e;for(;o&&o!==a;)r.push(o),o=o.getNext();return r}splitNode(e,a){const r={data:0,meta:0};if(a>e.getContentLength())throw new N(A.ErrInvalidArgument,"offset should be less than or equal to length");if(a===0)return[e,r];if(a===e.getContentLength())return[e.getNext(),r];const o=e.getDataSize(),c=e.split(a);this.treeByIndex.updateWeight(c),this.insertAfter(e,c);const h=e.getInsNext();return h&&h.setInsPrev(c),c.setInsPrev(e),yt(r,e.getDataSize(),c.getDataSize()),pa(r,o),[c,r]}deleteNodes(e,a,r){if(!e.length)return[[],new Map];const o=r===void 0||r.size()===0,c=[],h=[],[d,m]=this.findEdgesOfCandidates(e);h.push(d);for(const T of e){let V=!1;if(o)V=!0;else{const B=r?.get(T.getCreatedAt().getActorID());B&&B>=T.getCreatedAt().getLamport()&&(V=!0)}let I=!1;if(T.getRemovedAt()){const B=r?.get(T.getRemovedAt().getActorID());(o||B&&B>=T.getRemovedAt().getLamport())&&(I=!0)}T.canRemove(a,V,I)?c.push(T):h.push(T)}h.push(m);const y=this.makeChanges(h,a),v=new Map;for(const T of c)v.set(T.getID().toIDString(),T),T.remove(a);return this.deleteIndexNodes(h),[y,v]}findEdgesOfCandidates(e){return[e[0].getPrev(),e[e.length-1].getNext()]}makeChanges(e,a){const r=[];let o,c;for(let h=0;h<e.length-1;h++){const d=e[h],m=e[h+1];d.getNext()!=m&&([o]=this.findIndexesFromRange(d.getNext().createPosRange()),m?[,c]=this.findIndexesFromRange(m.getPrev().createPosRange()):c=this.treeByIndex.length,o<c&&r.push({actor:a.getActorID(),from:o,to:c}))}return r.reverse()}deleteIndexNodes(e){for(let a=0;a<e.length-1;a++){const r=e[a],o=e[a+1];r.getNext()!=o&&this.treeByIndex.deleteRange(r,o)}}purge(e){this.treeByIndex.delete(e),this.treeByID.remove(e.getID());const a=e.getPrev(),r=e.getNext(),o=e.getInsPrev(),c=e.getInsNext();a&&a.setNext(r),r&&r.setPrev(a),e.setPrev(void 0),e.setNext(void 0),o&&o.setInsNext(c),c&&c.setInsPrev(o),e.setInsPrev(void 0),e.setInsNext(void 0)}}class zi{key;value;updatedAt;_isRemoved;constructor(e,a,r,o){this.key=e,this.value=a,this.updatedAt=r,this._isRemoved=o}static of(e,a,r,o){return new zi(e,a,r,o)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Bn}}}class ui{nodeMapByKey;numberOfRemovedElement;constructor(){this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new ui}getNodeMapByKey(){return this.nodeMapByKey}set(e,a,r){const o=this.nodeMapByKey.get(e);if(o&&o.isRemoved()&&r.after(o.getUpdatedAt())&&(this.numberOfRemovedElement-=1),o===void 0||r.after(o.getUpdatedAt())){const c=zi.of(e,a,r,!1);return this.nodeMapByKey.set(e,c),o!==void 0&&o.isRemoved()?[o,c]:[void 0,c]}return o.isRemoved()?[o,void 0]:[void 0,void 0]}setInternal(e,a,r,o){const c=zi.of(e,a,r,o);this.nodeMapByKey.set(e,c),o&&this.numberOfRemovedElement++}remove(e,a){const r=this.nodeMapByKey.get(e),o=[];if(r===void 0||a.after(r.getUpdatedAt())){if(r===void 0){this.numberOfRemovedElement+=1;const d=zi.of(e,"",a,!0);return this.nodeMapByKey.set(e,d),o.push(d),o}const c=r.isRemoved();c||(this.numberOfRemovedElement+=1),c&&o.push(r);const h=zi.of(e,r.getValue(),a,!0);return this.nodeMapByKey.set(e,h),o.push(h),o}return o}has(e){if(this.nodeMapByKey.has(e)){const a=this.nodeMapByKey.get(e);return a!==void 0&&!a.isRemoved()}return!1}get(e){if(this.nodeMapByKey.has(e))return this.nodeMapByKey.get(e).getValue()}deepcopy(){const e=new ui;for(const[,a]of this.nodeMapByKey)e.setInternal(a.getKey(),a.getValue(),a.getUpdatedAt(),a.isRemoved());return e}toJSON(){if(!this.size())return"{}";const e=[];for(const[a,r]of this.nodeMapByKey)r.isRemoved()||e.push(`"${xn(a)}":"${xn(r.getValue())}"`);return`{${e.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const e={};for(const[a,r]of this.nodeMapByKey)r.isRemoved()||(e[a]=r.getValue());return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}purge(e){const a=this.nodeMapByKey.get(e.getKey());a==null||a.toIDString()!=e.toIDString()||(this.nodeMapByKey.delete(e.getKey()),this.numberOfRemovedElement--)}}function An(i){if(i instanceof Map){const e=Array.from(i);return new Map(JSON.parse(JSON.stringify(e)))}return JSON.parse(JSON.stringify(i))}const Iv=i=>i?Object.entries(i).length===0:!0,Tr=i=>{const e={};for(const[a,r]of Object.entries(i))e[a]=JSON.stringify(r);return e},li=i=>{const e={};for(const[a,r]of Object.entries(i))e[a]=JSON.parse(r);return e};class _s{attributes;content;constructor(e){this.attributes=ui.create(),this.content=e}static create(e){return new _s(e)}get length(){return this.content.length}substring(e,a){const r=new _s(this.content.substring(e,a));return r.attributes=this.attributes.deepcopy(),r}setAttr(e,a,r){return this.attributes.set(e,a,r)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const e={data:0,meta:0};e.data+=this.content.length*2;for(const a of this.attributes){const r=a.getDataSize();e.meta+=r.meta,e.data+=r.data}return e}toJSON(){const e=xn(this.content),a=this.attributes.toObject(),r=[];for(const[o,c]of Object.entries(a)){const h=JSON.parse(c),d=typeof h=="string"?`"${xn(o)}":"${xn(h)}"`:`"${xn(o)}":${String(h)}`;r.push(d)}return r.sort(),r.length===0?`{"val":"${e}"}`:`{"attrs":{${r.join(",")}},"val":"${e}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(e){this.attributes&&e instanceof zi&&this.attributes.purge(e)}getGCPairs(){const e=[];for(const a of this.attributes)a.getRemovedAt()&&e.push({parent:this,child:a});return e}}class Zt extends Js{rgaTreeSplit;constructor(e,a){super(a),this.rgaTreeSplit=e}static create(e,a){return new Zt(e,a)}edit(e,a,r,o,c){const h=a?_s.create(a):void 0;if(h&&o)for(const[I,B]of Object.entries(o))h.setAttr(I,B,r);const[d,m,y,v,T]=this.rgaTreeSplit.edit(e,r,h,c);return[v.map(I=>({...I,value:I.value?{attributes:li(I.value.getAttributes()),content:I.value.getContent()}:{attributes:void 0,content:""},type:"content"})),m,y,[d,d],T]}setStyle(e,a,r,o){const c={data:0,meta:0},[,h,d]=this.rgaTreeSplit.findNodeWithSplit(e[1],r),[,m,y]=this.rgaTreeSplit.findNodeWithSplit(e[0],r);yt(c,h,m);const v=[],T=this.rgaTreeSplit.findBetween(y,d),V=[];for(const B of T){const G=B.getCreatedAt().getActorID();let j=Lf;o!=null&&(j=o.get(G)?o.get(G):0n),B.canStyle(r,j)&&V.push(B)}const I=[];for(const B of V){if(B.isRemoved())continue;const[G,j]=this.rgaTreeSplit.findIndexesFromRange(B.createPosRange());v.push({type:"style",actor:r.getActorID(),from:G,to:j,value:{attributes:li(a)}});for(const[q,Ee]of Object.entries(a)){const[te]=B.getValue().setAttr(q,Ee,r);te!==void 0&&I.push({parent:B.getValue(),child:te});const he=B.getValue().getAttrs().getNodeMapByKey().get(q);he!==void 0&&yt(c,he.getDataSize())}}return[I,c,v]}indexRangeToPosRange(e,a){const r=this.rgaTreeSplit.indexToPos(e);return e===a?[r,r]:[r,this.rgaTreeSplit.indexToPos(a)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}refinePos(e){return this.rgaTreeSplit.refinePos(e)}normalizePos(e){return this.rgaTreeSplit.normalizePos(e)}getDataSize(){const e={data:0,meta:0};for(const a of this.rgaTreeSplit){if(a.isRemoved())continue;const r=a.getDataSize();e.data+=r.data,e.meta+=r.meta}return{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){const e=[];for(const a of this.rgaTreeSplit)a.isRemoved()||e.push(a.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const a of this.rgaTreeSplit)if(!a.isRemoved()){const r=a.getValue();e.push({attributes:li(r.getAttributes()),content:r.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new Zt(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}posToIndex(e,a=!1){return this.rgaTreeSplit.posToIndex(e,a)}getGCPairs(){const e=[];for(const a of this.rgaTreeSplit){a.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:a});for(const r of a.getValue().getGCPairs())e.push(r)}return e}}class ki extends Cn{fromPos;toPos;content;attributes;isUndoOp;constructor(e,a,r,o,c,h,d){super(e,h),this.fromPos=a,this.toPos=r,this.content=o,this.attributes=c,this.isUndoOp=d}static create(e,a,r,o,c,h,d){return new ki(e,a,r,o,c,h,d)}execute(e,a,r){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Zt))throw new N(A.ErrInvalidArgument,"fail to execute, only Text can execute edit");const c=o;this.isUndoOp&&(this.fromPos=c.refinePos(this.fromPos),this.toPos=c.refinePos(this.toPos));const[h,d,m,,y]=c.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),r),v=this.toReverseOperation(y,c.normalizePos(this.fromPos));e.acc(m);for(const T of d)e.registerGCPair(T);return{opInfos:h.map(({from:T,to:V,value:I})=>({type:"edit",from:T,to:V,value:I,path:e.createPath(this.getParentCreatedAt())})),reverseOp:v}}toReverseOperation(e,a){const r=e?.length?e.map(c=>c.getContent()).join(""):"";let o;if(e.length===1){const c=e[0].getAttributes();c&&(o=Array.from(Object.entries(c)))}return ki.create(this.getParentCreatedAt(),a,mt.of(a.getID(),a.getRelativeOffset()+(this.content?.length??0)),r,o?new Map(o):new Map,void 0,!0)}normalizePos(e){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Zt))throw new N(A.ErrInvalidArgument,"only Text can normalize edit");const r=a,o=r.normalizePos(this.fromPos).getRelativeOffset(),c=r.normalizePos(this.toPos).getRelativeOffset();return[o,c]}reconcileOperation(e,a,r){if(!this.isUndoOp||e>a)return;const o=a-e,c=this.fromPos.getRelativeOffset(),h=this.toPos.getRelativeOffset(),d=(m,y)=>{this.fromPos=mt.of(this.fromPos.getID(),Math.max(0,m)),this.toPos=mt.of(this.toPos.getID(),Math.max(0,y))};if(a<=c){d(c-o+r,h-o+r);return}if(!(h<=e)){if(e<=c&&h<=a&&e!==a){d(e,e);return}if(c<=e&&a<=h&&c!==h){d(c,h-o+r);return}if(e<c&&c<a&&a<h){d(e,e+(h-a));return}if(c<e&&e<h&&h<a){d(c,e);return}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),a=this.fromPos.toTestString(),r=this.toPos.toTestString(),o=this.content;return`${e}.EDIT(${a},${r},${o})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class js extends Cn{fromPos;toPos;attributes;constructor(e,a,r,o,c){super(e,c),this.fromPos=a,this.toPos=r,this.attributes=o}static create(e,a,r,o,c){return new js(e,a,r,o,c)}execute(e,a,r){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Zt))throw new N(A.ErrInvalidArgument,"fail to execute, only Text can execute edit");const c=o,[h,d,m]=c.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),r);e.acc(d);for(const y of h)e.registerGCPair(y);return{opInfos:m.map(({from:y,to:v,value:T})=>({type:"style",from:y,to:v,value:T,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),a=this.fromPos.toTestString(),r=this.toPos.toTestString(),o=this.attributes;return`${e}.STYL(${a},${r},${JSON.stringify(o)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const ET=2,NT="root",Ln="text";function Ns(i,e,a=!1){let r=0;const o=a?i.allChildren:i.children;for(let c=0;c<e;c++){const h=o[c];!h||!a&&h.isRemoved||(r+=h.paddedSize(a))}return r}class TT{type;parent;_children;visibleSize;totalSize;constructor(e,a=[]){if(this.type=e,this.visibleSize=0,this.totalSize=0,this._children=a,this.isText&&this._children.length>0)throw new N(A.ErrRefused,"Text node cannot have children")}updateAncestorsSize(e,a=!1){let r=this.parent;for(;r;){if(a)r.totalSize+=e;else if(r.visibleSize+=e,r.isRemoved)break;r=r.parent}}updateDescendantsSize(e=!1){let a=0;for(const r of this._children){const o=r.updateDescendantsSize(e);!e&&r.isRemoved||(a+=o)}return e?this.totalSize+=a:this.visibleSize+=a,this.paddedSize(e)}get isText(){return this.type===Ln}paddedSize(e=!1){let a=this.visibleSize;return e&&(a=this.totalSize),this.isText||(a+=ET),a}isAncestorOf(e){return RT(this,e)}get nextSibling(){const e=this.parent.findOffset(this),a=this.parent.children[e+1];if(a)return a}get prevSibling(){const e=this.parent.findOffset(this),a=this.parent.children[e-1];if(a)return a}splitText(e,a){const r={data:0,meta:0};if(e===0||e===this.visibleSize)return[void 0,r];const o=this.value.slice(0,e),c=this.value.slice(e);if(!c.length)return[void 0,r];const h=this.getDataSize();this.value=o;const d=this.cloneText(e+a);return d.value=c,this.parent.insertAfterInternal(d,this),yt(r,this.getDataSize(),d.getDataSize()),pa(r,h),[d,r]}get children(){return this._children.filter(e=>!e.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(e=>e.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(e=>e.value).join(""):""}append(...e){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");this._children.push(...e);for(const a of e)a.parent=this,a.updateAncestorsSize(a.paddedSize()),a.updateAncestorsSize(a.paddedSize(!0),!0)}prepend(...e){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");this._children.unshift(...e);for(const a of e)a.parent=this}insertBefore(e,a){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(a);if(r===-1)throw new N(A.ErrInvalidArgument,"child not found");this.insertAtInternal(e,r),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAfter(e,a){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(a);if(r===-1)throw new N(A.ErrInvalidArgument,"child not found");this.insertAtInternal(e,r+1),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAt(e,a){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");this.insertAtInternal(e,a),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}removeChild(e){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");const a=this._children.indexOf(e);if(a===-1)throw new N(A.ErrInvalidArgument,"child not found");this._children.splice(a,1),e.updateAncestorsSize(-e.paddedSize(!0),!0),e.parent=void 0}splitElement(e,a){const r={data:0,meta:0},o=this.getDataSize(),c=this.cloneElement(a);this.parent.insertAfterInternal(c,this),c.updateAncestorsSize(c.paddedSize()),c.updateAncestorsSize(c.paddedSize(!0),!0);const h=this.children.slice(0,e),d=this.children.slice(e);this._children=h,c._children=d,this.visibleSize=this._children.reduce((m,y)=>m+y.paddedSize(),0),this.totalSize=this._children.reduce((m,y)=>m+y.paddedSize(!0),0),c.visibleSize=c._children.reduce((m,y)=>m+y.paddedSize(!0),0),c.totalSize=c._children.reduce((m,y)=>m+y.paddedSize(!0),0);for(const m of c._children)m.parent=c;return yt(r,this.getDataSize(),c.getDataSize()),pa(r,o),[c,r]}insertAfterInternal(e,a){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(a);if(r===-1)throw new N(A.ErrInvalidArgument,"child not found");this.insertAtInternal(e,r+1)}insertAtInternal(e,a){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");this._children.splice(a,0,e),e.parent=this}findOffset(e,a=!1){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");if(a)return this._children.indexOf(e);if(e.isRemoved){const r=this._children.indexOf(e);return this.allChildren.splice(0,r).filter(c=>!c.isRemoved).length}return this.children.indexOf(e)}findBranchOffset(e){if(this.isText)throw new N(A.ErrRefused,"Text node cannot have children");let a=e;for(;a;){const r=this._children.indexOf(a);if(r!==-1)return r;a=a.parent}return-1}}function RT(i,e){if(i===e)return!1;for(;e.parent;){if(e.parent===i)return!0;e=e.parent}return!1}var qe=(i=>(i.Start="Start",i.End="End",i.Text="Text",i))(qe||{});function Cv(i,e,a,r,o=!1){if(e>a)throw new N(A.ErrInvalidArgument,`from is greater than to: ${e} > ${a}`);const c=o?i.totalSize:i.visibleSize;if(e>c)throw new N(A.ErrInvalidArgument,`from is out of range: ${e} > ${c}`);if(a>c)throw new N(A.ErrInvalidArgument,`to is out of range: ${a} > ${c}`);if(e===a)return;let h=0;const d=o?i._children:i.children;for(const m of d){if(e-m.paddedSize(o)<h&&h<a){const y=m.isText?e-h:e-h-1,v=m.isText?a-h:a-h-1,T=o?m.totalSize:m.visibleSize,V=!m.isText&&y<0,I=!m.isText&&v>T;(m.isText||V)&&r([m,m.isText?"Text":"Start"],I),Cv(m,Math.max(0,y),Math.min(v,T),r,o),I&&r([m,"End"],I)}h+=m.paddedSize(o)}}function Dv(i,e,a=0){for(const r of i.children)Dv(r,e,a+1);e(i,a)}function _o(i,e,a=0){for(const r of i._children)_o(r,e,a+1);e(i,a)}function Zf(i,e,a=!0){if(e>i.visibleSize)throw new N(A.ErrInvalidArgument,`index is out of range: ${e} > ${i.visibleSize}`);if(i.isText)return{node:i,offset:e};let r=0,o=0;for(const c of i.children){if(a&&c.isText&&c.visibleSize>=e-o)return Zf(c,e-o,a);if(e===o)return{node:i,offset:r};if(!a&&c.paddedSize()===e-o)return{node:i,offset:r+1};if(c.paddedSize()>e-o)return Zf(c,e-o-1,a);o+=c.paddedSize(),r+=1}return{node:i,offset:r}}function wv(i){return i.isText||i.children.length===0?i:wv(i.children[0])}function IT(i,e){if(i.visibleSize<e)throw new N(A.ErrInvalidArgument,"unacceptable path");for(let a=0;a<i.children.length;a++){const r=i.children[a];if(r.visibleSize<e)e-=r.visibleSize;else{i=r;break}}return{node:i,offset:e}}class CT{root;constructor(e){this.root=e}tokensBetween(e,a,r,o=!1){Cv(this.root,e,a,r,o)}traverse(e){Dv(this.root,e,0)}traverseAll(e){_o(this.root,e,0)}findTreePos(e,a=!0){return Zf(this.root,e,a)}treePosToPath(e){const a=[];let r=e.node;if(r.isText){const o=r.parent.findOffset(r);if(o===-1)throw new N(A.ErrInvalidArgument,"invalid treePos");const c=Ns(r.parent,o);a.push(c+e.offset),r=r.parent}else if(r.hasTextChild()){const o=Ns(r,e.offset);a.push(o)}else a.push(e.offset);for(;r.parent;){const o=r.parent.findOffset(r);if(o===-1)throw new N(A.ErrInvalidArgument,"invalid treePos");a.push(o),r=r.parent}return a.reverse()}pathToIndex(e){const a=this.pathToTreePos(e);return this.indexOf(a)}pathToTreePos(e){if(!e.length)throw new N(A.ErrInvalidArgument,"unacceptable path");let a=this.root;for(let r=0;r<e.length-1;r++){const o=e[r];if(a=a.children[o],!a)throw new N(A.ErrInvalidArgument,"unacceptable path")}if(a.hasTextChild())return IT(a,e[e.length-1]);if(a.children.length<e[e.length-1])throw new N(A.ErrInvalidArgument,"unacceptable path");return{node:a,offset:e[e.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(e){const{node:a,offset:r}=e;if(a.isText){if(a.visibleSize===r){const o=a.nextSibling;return o||a.parent}return a}return a.children.length===r?a:wv(a.children[r])}indexOf(e,a=!1){let{node:r}=e;const{offset:o}=e;let c=0,h=1;if(r.isText){c+=o;const d=r.parent,m=d.findOffset(r,a);if(m===-1)throw new N(A.ErrInvalidArgument,"invalid pos");c+=Ns(d,m,a),r=r.parent}else c+=Ns(r,o,a);for(;r?.parent;){const d=r.parent,m=d.findOffset(r,a);if(m===-1)throw new N(A.ErrInvalidArgument,"invalid pos");c+=Ns(d,m,a),h++,r=r.parent}return c+h-1}indexToPath(e){const a=this.findTreePos(e);return this.treePosToPath(a)}}class In{parentID;leftSiblingID;constructor(e,a){this.parentID=e,this.leftSiblingID=a}static of(e,a){return new In(e,a)}static fromTreePos(e){const{offset:a}=e;let{node:r}=e,o;return r.isText?(r.parent.children[0]===r&&a===0?o=r.parent:o=r,r=r.parent):a===0?o=r:o=r.children[a-1],In.of(r.id,pt.of(o.getCreatedAt(),o.getOffset()+a))}getParentID(){return this.parentID}static fromStruct(e){return In.of(pt.of(cn.fromStruct(e.parentID.createdAt),e.parentID.offset),pt.of(cn.fromStruct(e.leftSiblingID.createdAt),e.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(e){const a=this.getParentID(),r=this.getLeftSiblingID(),o=e.findFloorNode(a);let c=e.findFloorNode(r);if(!o||!c)throw new N(A.ErrRefused,`cannot find node of CRDTTreePos(${a.toTestString()}, ${r.toTestString()})`);return!r.equals(a)&&r.getOffset()>0&&r.getOffset()===c.id.getOffset()&&c.insPrevID&&(c=e.findFloorNode(c.insPrevID)),[o,c]}getLeftSiblingID(){return this.leftSiblingID}equals(e){return this.getParentID().getCreatedAt().equals(e.getParentID().getCreatedAt())&&this.getParentID().getOffset()===e.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(e.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===e.getLeftSiblingID().getOffset()}}class pt{createdAt;offset;constructor(e,a){this.createdAt=e,this.offset=a}static of(e,a){return new pt(e,a)}static fromStruct(e){return pt.of(cn.fromStruct(e.createdAt),e.offset)}static createComparator(){return(e,a)=>{const r=e.getCreatedAt().compare(a.getCreatedAt());return r!==0?r:e.getOffset()>a.getOffset()?1:e.getOffset()<a.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}getOffset(){return this.offset}setOffset(e){this.offset=e}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Ht extends TT{id;removedAt;attrs;insPrevID;insNextID;_value="";constructor(e,a,r,o,c){super(a),this.id=e,this.removedAt=c,o&&(this.attrs=o),typeof r=="string"?this.value=r:Array.isArray(r)&&(this._children=r)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,a,r,o){return new Ht(e,a,r,o)}deepcopy(){const e=new Ht(this.id,this.type);return e.removedAt=this.removedAt,e._value=this._value,e.visibleSize=this.visibleSize,e.totalSize=this.totalSize,e.attrs=this.attrs?.deepcopy(),e._children=this._children.map(a=>{const r=a.deepcopy();return r.parent=e,r}),e.insPrevID=this.insPrevID,e.insNextID=this.insNextID,e}get value(){if(!this.isText)throw new N(A.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new N(A.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=e,this.visibleSize=e.length,this.totalSize=e.length}get isRemoved(){return!!this.removedAt}remove(e){return this.removedAt?(e.after(this.removedAt)&&(this.removedAt=e),!1):(this.removedAt=e,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(e){return new Ht(pt.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new Ht(pt.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,a,r){const[o,c]=this.isText?this.splitText(a,this.id.getOffset()):this.splitElement(a,r);if(o){if(o.insPrevID=this.id,this.insNextID){const h=e.findFloorNode(this.insNextID);h.insPrevID=o.id,o.insNextID=this.insNextID}this.insNextID=o.id,e.registerNode(o)}return[o,c]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,a,r){return a?!!(!this.removedAt||!r&&e?.after(this.removedAt)):!1}canStyle(e,a){return this.isText?!1:this.getCreatedAt().getLamport()<=a&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,a){this.attrs||(this.attrs=new ui);const r=[];for(const[o,c]of Object.entries(e))r.push(this.attrs.set(o,c,a));return r}purge(e){this.attrs&&this.attrs.purge(e)}getDataSize(){const e={data:0,meta:0};if(this.isText&&(e.data+=this.visibleSize*2),this.id&&(e.meta+=Bn),this.removedAt&&(e.meta+=Bn),this.attrs)for(const a of this.attrs){if(a.getRemovedAt())continue;const r=a.getDataSize();e.meta+=r.meta,e.data+=r.data}return e}getGCPairs(){const e=[];if(!this.attrs)return e;for(const a of this.attrs)a.getRemovedAt()&&e.push({parent:this,child:a});return e}}function Yf(i){if(i.isText){const a=i;return{type:a.type,value:a.value}}const e={type:i.type,children:i.children.map(Yf)};return i.attrs&&(e.attributes=li(i.attrs?.toObject())),e}function ph(i){if(i.isText)return i.value;let e="";return i.attrs&&i.attrs.size()&&(e=" "+Array.from(i.attrs).filter(a=>!a.isRemoved()).sort((a,r)=>a.getKey().localeCompare(r.getKey())).map(a=>{const r=JSON.parse(a.getValue());return typeof r=="string"?`${a.getKey()}="${r}"`:`${a.getKey()}="${xn(a.getValue())}"`}).join(" ")),`<${i.type}${e}>${i.children.map(a=>ph(a)).join("")}</${i.type}>`}function Ov(i){if(i.isText){const e=i;return{type:e.type,value:e.value,visibleSize:e.visibleSize,isRemoved:e.isRemoved}}return{type:i.type,children:i.children.map(Ov),visibleSize:i.visibleSize,isRemoved:i.isRemoved}}class Qt extends Js{indexTree;nodeMapByID;constructor(e,a){super(a),this.indexTree=new CT(e),this.nodeMapByID=new Rv(pt.createComparator()),this.indexTree.traverseAll(r=>{this.nodeMapByID.put(r.id,r)})}static create(e,a){return new Qt(e,a)}findFloorNode(e){const a=this.nodeMapByID.floorEntry(e);if(!(!a||!a.key.getCreatedAt().equals(e.getCreatedAt())))return a.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,a){let r={data:0,meta:0};const[o,c]=e.toTreeNodePair(this);let h=c;const d=o===h,m=h.parent&&!d?h.parent:o;if(h.isText){const[,y]=h.split(this,e.getLeftSiblingID().getOffset()-h.id.getOffset());r=y}if(a){const y=m.allChildren,v=d?0:y.indexOf(h)+1;for(let T=v;T<y.length;T++){const V=y[T];if(!V.id.getCreatedAt().after(a))break;h=V}}return[[m,h],r]}style(e,a,r,o){const c={data:0,meta:0},[[h,d],m]=this.findNodesAndSplitText(e[0],r),[[y,v],T]=this.findNodesAndSplitText(e[1],r);yt(c,T,m);const V=[],I=a?li(a):{},B=[];return this.traverseInPosRange(h,d,y,v,([G,j])=>{const q=G.getCreatedAt().getActorID();let Ee=Lf;if(o!=null&&(Ee=o.get(q)?o.get(q):0n),G.canStyle(r,Ee)&&a){const te=G.setAttrs(a,r),he=te.reduce((k,[,ve])=>(ve&&(k[ve.getKey()]=I[ve.getKey()]),k),{}),ie=G.parent,Ae=G.prevSibling||G.parent;Object.keys(he).length>0&&V.push({type:"style",from:this.toIndex(ie,Ae),to:this.toIndex(G,G),fromPath:this.toPath(ie,Ae),toPath:this.toPath(G,G),actor:r.getActorID(),value:he});for(const[k]of te)k&&B.push({parent:G,child:k});for(const[k]of Object.entries(I)){const ve=G.attrs?.getNodeMapByKey().get(k);ve!==void 0&&j!==qe.End&&yt(c,ve.getDataSize())}}}),[B,V,c]}removeStyle(e,a,r,o){const c={data:0,meta:0},[[h,d],m]=this.findNodesAndSplitText(e[0],r),[[y,v],T]=this.findNodesAndSplitText(e[1],r);yt(c,T,m);const V=[],I=[];return this.traverseInPosRange(h,d,y,v,([B])=>{const G=B.getCreatedAt().getActorID();let j=Lf;if(o!=null&&(j=o.get(G)?o.get(G):0n),B.canStyle(r,j)&&a){B.attrs||(B.attrs=new ui);for(const te of a){const he=B.attrs.remove(te,r);for(const ie of he)I.push({parent:B,child:ie})}const q=B.parent,Ee=B.prevSibling||B.parent;V.push({actor:r.getActorID(),type:"removeStyle",from:this.toIndex(q,Ee),to:this.toIndex(B,B),fromPath:this.toPath(q,Ee),toPath:this.toPath(B,B),value:a})}}),[I,V,c]}edit(e,a,r,o,c,h){const d={data:0,meta:0},[[m,y],v]=this.findNodesAndSplitText(e[0],o),[[T,V],I]=this.findNodesAndSplitText(e[1],o);yt(d,I,v);const B=this.toIndex(m,y),G=this.toPath(m,y),j=[],q=[],Ee=[];this.traverseInPosRange(m,y,T,V,([ie,Ae],k)=>{if(Ae===qe.Start&&!k)for(const rt of ie.children)Ee.push(rt);const ve=h===void 0;let Nt=!1;const mn=h?.get(ie.id.getCreatedAt().getActorID());Nt=ve||mn!==void 0&&mn>=ie.id.getCreatedAt().getLamport();let Yt=!1;if(ie.removedAt){const rt=h?.get(ie.removedAt.getActorID());Yt=ve||rt!==void 0&&rt>=ie.removedAt.getLamport()}(ie.canDelete(o,Nt,Yt)||j.includes(ie.parent))&&((Ae===qe.Text||Ae===qe.Start)&&j.push(ie),q.push([ie,Ae]))},!0);const te=this.makeDeletionChanges(q,o),he=[];for(const ie of j)ie.remove(o),ie.isRemoved&&he.push({parent:this,child:ie});for(const ie of Ee)ie.removedAt||m.append(ie);if(r>0){let ie=0,Ae=m,k=y;for(;ie<r;)Ae.split(this,Ae.findOffset(k)+1,c),k=Ae,Ae=Ae.parent,ie++;te.push({type:"content",from:B,to:B,fromPath:G,toPath:G,actor:o.getActorID()})}if(a?.length){const ie=[];let Ae=y;for(const k of a)Ae===m?m.insertAt(k,0):m.insertAfter(k,Ae),Ae=k,_o(k,ve=>{m.isRemoved?(ve.remove(o),he.push({parent:this,child:ve})):yt(d,ve.getDataSize()),this.nodeMapByID.put(ve.id,ve)}),k.isRemoved||ie.push(k);if(ie.length){const k=ie.map(ve=>Yf(ve));te.length&&te[te.length-1].from===B?te[te.length-1].value=k:te.push({type:"content",from:B,to:B,fromPath:G,toPath:G,actor:o.getActorID(),value:k})}}return[te,he,d]}editT(e,a,r,o,c){const h=this.findPos(e[0]),d=this.findPos(e[1]);return this.edit([h,d],a,r,o,c)}move(e,a,r){throw new N(A.ErrUnimplemented,`not implemented: ${e}, ${a}, ${r}`)}pathToTreePos(e){return this.indexTree.pathToTreePos(e)}purge(e){e.parent?.removeChild(e),this.nodeMapByID.remove(e.id);const a=e.insPrevID,r=e.insNextID;if(a){const o=this.findFloorNode(a);o.insNextID=r}if(r){const o=this.findFloorNode(r);o.insPrevID=a}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(a=>{a.getRemovedAt()&&e.push({parent:this,child:a});for(const r of a.getGCPairs())e.push(r)}),e}findPos(e,a=!0){const r=this.indexTree.findTreePos(e,a);return In.fromTreePos(r)}pathToPosRange(e){const a=this.pathToIndex(e);return[this.findPos(a),this.findPos(a+1)]}pathToPos(e){const a=this.indexTree.pathToIndex(e);return this.findPos(a)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return ph(this.indexTree.getRoot())}getDataSize(){const e={data:0,meta:0};return this.indexTree.traverse(a=>{if(a.getRemovedAt())return;const r=a.getDataSize();e.data+=r.data,e.meta+=r.meta}),{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),a=(r,o=void 0,c=void 0,h=0)=>{let d,m,y;const v=r.isText?{node:r,offset:0}:o&&c?this.toTreePos(o,c):null;v&&(d=this.indexTree.indexOf(v),m=this.indexTree.treePosToPath(v),y=In.fromTreePos(v).toStruct());const T={type:r.type,parent:o?.id.toTestString(),size:r.visibleSize,id:r.id.toTestString(),removedAt:r.removedAt?.toTestString(),insPrev:r.insPrevID?.toTestString(),insNext:r.insNextID?.toTestString(),value:r.isText?r.value:void 0,isRemoved:r.isRemoved,children:[],depth:h,attributes:r.attrs?li(r.attrs?.toObject()):void 0,index:d,path:m,pos:y};for(let V=0;V<r.allChildren.length;V++){const I=V===0?r:r.allChildren[V-1];T.children.push(a(r.allChildren[V],r,I,h+1))}return T};return a(e)}getRootTreeNode(){return Yf(this.indexTree.getRoot())}toTestTreeNode(){return Ov(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot(),a=new Qt(e.deepcopy(),this.getCreatedAt());return a.setRemovedAt(this.getRemovedAt()),a.setMovedAt(this.getMovedAt()),a}toPath(e,a){const r=this.toTreePos(e,a);return r?this.indexTree.treePosToPath(r):[]}toIndex(e,a,r=!1){const o=this.toTreePos(e,a,r);return o?this.indexTree.indexOf(o,r):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const a=this.findPos(e[0]);return e[0]===e[1]?[a,a]:[a,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[a,r]=e,o=this.findPos(a);return a===r?[o.toStruct(),o.toStruct()]:[o.toStruct(),this.findPos(r).toStruct()]}posRangeToPathRange(e){const[[a,r]]=this.findNodesAndSplitText(e[0]),[[o,c]]=this.findNodesAndSplitText(e[1]);return[this.toPath(a,r),this.toPath(o,c)]}posRangeToIndexRange(e){const[[a,r]]=this.findNodesAndSplitText(e[0]),[[o,c]]=this.findNodesAndSplitText(e[1]);return[this.toIndex(a,r),this.toIndex(o,c)]}traverseInPosRange(e,a,r,o,c,h=!1){const d=this.toIndex(e,a,h),m=this.toIndex(r,o,h);this.indexTree.tokensBetween(d,m,c,h)}toTreePos(e,a,r=!1){if(!e||!a)return;if(!r&&e.isRemoved){let c;for(;e.isRemoved;)c=e,e=c.parent;const h=e.findOffset(c,r);return{node:e,offset:h}}if(e===a)return{node:e,offset:0};let o=e.findOffset(a,r);if(r||!a.isRemoved){if(a.isText)return{node:a,offset:a.paddedSize(r)};o++}return{node:e,offset:o}}makeDeletionChanges(e,a){const r=[],o=[];let c=null,h=null;for(let d=0;d<e.length;d++){const m=e[d],y=e[d+1];c||(c=m),h=m;const v=this.findRightToken(m);(!v||!y||v[0]!==y[0]||v[1]!==y[1])&&(o.push([c,h]),c=null,h=null)}for(const d of o){const[m,y]=d,[v,T]=this.findLeftToken(m),[V,I]=y,B=T===qe.Start?v:v.parent,G=I===qe.Start?V:V.parent,j=this.toIndex(B,v),q=this.toIndex(G,V);j<q&&(r.length>0&&j===r[r.length-1].to?(r[r.length-1].to=q,r[r.length-1].toPath=this.toPath(G,V)):r.push({type:"content",from:j,to:q,fromPath:this.toPath(B,v),toPath:this.toPath(G,V),actor:a.getActorID()}))}return r.reverse()}findRightToken([e,a]){if(a===qe.Start){const d=e.allChildren;return d.length>0?[d[0],d[0].isText?qe.Text:qe.Start]:[e,qe.End]}const r=e.parent,o=r.allChildren,c=o.indexOf(e);if(r&&c===o.length-1)return[r,qe.End];const h=o[c+1];return[h,h.isText?qe.Text:qe.Start]}findLeftToken([e,a]){if(a===qe.End){const d=e.allChildren;if(d.length>0){const m=d[d.length-1];return[m,m.isText?qe.Text:qe.End]}return[e,qe.Start]}const r=e.parent,o=r.allChildren,c=o.indexOf(e);if(r&&c===0)return[r,qe.Start];const h=o[c-1];return[h,h.isText?qe.Text:qe.End]}}class Fs extends Cn{fromPos;toPos;contents;splitLevel;constructor(e,a,r,o,c,h){super(e,h),this.fromPos=a,this.toPos=r,this.contents=o,this.splitLevel=c}static create(e,a,r,o,c,h){return new Fs(e,a,r,o,c,h)}execute(e,a,r){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Qt))throw new N(A.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const c=this.getExecutedAt(),h=o,[d,m,y]=h.edit([this.fromPos,this.toPos],this.contents?.map(v=>v.deepcopy()),this.splitLevel,c,(()=>{let v=c.getDelimiter();return this.contents!==void 0&&(v+=this.contents.length),()=>cn.of(c.getLamport(),++v,c.getActorID())})(),r);e.acc(y);for(const v of m)e.registerGCPair(v);return{opInfos:d.map(({from:v,to:T,value:V,splitLevel:I,fromPath:B,toPath:G})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:v,to:T,value:V,splitLevel:I,fromPath:B,toPath:G}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),a=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,r=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,o=this.contents||[];return`${e}.EDIT(${a},${r},${o.map(c=>ph(c)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class dr{vector;constructor(e){this.vector=e||new Map}set(e,a){this.vector.set(e,a)}unset(e){this.vector.delete(e)}get(e){return this.vector.get(e)}has(e){return this.vector.has(e)}maxLamport(){let e=BigInt(0);for(const[,a]of this)a>e&&(e=a);return e}max(e){const a=new Map;for(const[r,o]of e){const c=this.vector.get(r),h=c&&c>o?c:o;a.set(r,h)}for(const[r,o]of this){const c=e.get(r),h=c&&c>o?c:o;a.set(r,h)}return new dr(a)}afterOrEqual(e){const a=this.vector.get(e.getActorID());return a===void 0?!1:a>=e.getLamport()}deepcopy(){const e=new Map;for(const[a,r]of this.vector)e.set(a,r);return new dr(e)}filter(e){const a=new Map;for(const[r]of e){const o=this.vector.get(r);o!==void 0&&a.set(r,o)}return new dr(a)}size(){return this.vector.size}*[Symbol.iterator](){for(const[e,a]of this.vector)yield[e,a]}}const Vv=new dr(new Map);class En{clientSeq;serverSeq;actor;lamport;versionVector;constructor(e,a,r,o,c){this.clientSeq=e,this.serverSeq=c,this.lamport=a,this.versionVector=o,this.actor=r}hasClocks(){return this.versionVector.size()>0&&this.lamport!=Uf}static of(e,a,r,o,c){return new En(e,a,r,o,c)}next(e=!1){if(e)return new En(this.clientSeq+1,this.lamport,this.actor,Vv,Uf);const a=this.versionVector.deepcopy();return a.set(this.actor,this.lamport+1n),new En(this.clientSeq+1,this.lamport+1n,this.actor,a)}syncClocks(e){if(!e.hasClocks())return this;const a=e.lamport>this.lamport?e.lamport+1n:this.lamport+1n,r=this.versionVector.max(e.versionVector),o=new En(this.clientSeq,a,this.actor,r);return o.versionVector.set(this.actor,a),o}setClocks(e,a){const r=e>this.lamport?e+1n:this.lamport+1n,o=this.versionVector.max(a);return o.set(this.actor,r),En.of(this.clientSeq,r,this.actor,o)}createTimeTicket(e){return cn.of(this.lamport,e,this.actor)}setActor(e){return new En(this.clientSeq,this.lamport,e,this.versionVector,this.serverSeq)}setLamport(e){return new En(this.clientSeq,e,this.actor,this.versionVector,this.serverSeq)}setVersionVector(e){return new En(this.clientSeq,this.lamport,this.actor,e,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const DT=new En(0,0n,mh,Vv);class Rr{id;operations;presenceChange;message;constructor({id:e,operations:a,presenceChange:r,message:o}){this.id=e,this.operations=a||[],this.presenceChange=r,this.message=o}static create({id:e,operations:a,presenceChange:r,message:o}){return new Rr({id:e,operations:a,presenceChange:r,message:o})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(e){for(const a of this.operations)a.setActor(e);this.id=this.id.setActor(e)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(e,a,r){const o=[],c=[],h=[];for(const d of this.operations){const m=d.execute(e,r,this.id.getVersionVector());if(!m)continue;const{opInfos:y,reverseOp:v}=m;o.push(...y),c.push(d),v&&h.unshift(v)}return this.presenceChange&&(this.presenceChange.type===Mn.Put?a.set(this.id.getActorID(),An(this.presenceChange.presence)):a.delete(this.id.getActorID())),{operations:c,opInfos:o,reverseOps:h}}toTestString(){return`${this.operations.map(e=>e.toTestString()).join(",")}`}toStruct(){return{changeID:Ke.bytesToHex(Ke.changeIDToBinary(this.getID())),message:this.getMessage(),operations:this.getOperations().map(e=>Ke.bytesToHex(Ke.operationToBinary(e))),presenceChange:this.getPresenceChange()}}static fromStruct(e){const{changeID:a,operations:r,presenceChange:o,message:c}=e;return Rr.create({id:Ke.bytesToChangeID(Ke.hexToBytes(a)),operations:r?.map(h=>Ke.bytesToOperation(Ke.hexToBytes(h))),presenceChange:o,message:c})}}class Ko{documentKey;checkpoint;isRemoved;changes;snapshot;versionVector;constructor(e,a,r,o,c,h){this.documentKey=e,this.checkpoint=a,this.isRemoved=r,this.changes=o,this.snapshot=h,this.versionVector=c}static create(e,a,r,o,c,h){return new Ko(e,a,r,o,c,h)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class gr{serverSeq;clientSeq;constructor(e,a){this.serverSeq=e,this.clientSeq=a}static of(e,a){return new gr(e,a)}increaseClientSeq(e){return e===0?this:new gr(this.serverSeq,this.clientSeq+e)}forward(e){if(this.equals(e))return this;const a=this.serverSeq>e.serverSeq?this.serverSeq:e.serverSeq,r=Math.max(this.clientSeq,e.clientSeq);return gr.of(a,r)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(e){return this.clientSeq===e.clientSeq&&this.serverSeq==e.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const wT=new gr(0n,0),ab=i=>i<0?Math.ceil(i):Math.floor(i);var Yn=(i=>(i[i.Int=0]="Int",i[i.Long=1]="Long",i))(Yn||{});class Mt extends Js{valueType;value;constructor(e,a,r){switch(super(r),this.valueType=e,e){case 0:typeof a=="number"?a>Math.pow(2,31)-1||a<-Math.pow(2,31)?this.value=ye.fromNumber(a).toInt():this.value=ab(a):this.value=a.toInt();break;case 1:typeof a=="number"?this.value=ye.fromNumber(a):this.value=a;break;default:throw new N(A.ErrUnimplemented,`unimplemented type: ${e}`)}}static create(e,a,r){return new Mt(e,a,r)}static valueFromBytes(e,a){switch(e){case 0:return a[0]|a[1]<<8|a[2]<<16|a[3]<<24;case 1:return ye.fromBytesLE(Array.from(a));default:throw new N(A.ErrUnimplemented,`unimplemented type: ${e}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=Mt.create(this.valueType,this.value,this.getCreatedAt());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof ye?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!Mt.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const a=this.value.toBytesLE();return Uint8Array.from(a)}default:throw new N(A.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function a(r){if(!r.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof r.getValue()}`)}return a(this),a(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===Ge.Long?this.value=this.value+e.getValue().toInt():this.value=ye.fromNumber(this.value+ab(e.getValue())).toInt(),this}}class Ir extends Cn{value;constructor(e,a,r){super(e,r),this.value=a}static create(e,a,r){return new Ir(e,a,r)}execute(e){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Mt))throw new N(A.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const r=a,o=this.value.deepcopy();return r.increase(o),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:o.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),r=e.getType()===Ge.Long?e.getValue().multiply(-1):e.getValue()*-1;return Ir.create(this.getParentCreatedAt(),je.of(r,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class oi extends Cn{fromPos;toPos;attributes;attributesToRemove;constructor(e,a,r,o,c,h){super(e,h),this.fromPos=a,this.toPos=r,this.attributes=o,this.attributesToRemove=c}static create(e,a,r,o,c){return new oi(e,a,r,o,[],c)}static createTreeRemoveStyleOperation(e,a,r,o,c){return new oi(e,a,r,new Map,o,c)}execute(e,a,r){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Qt))throw new N(A.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const c=o;let h,d,m={data:0,meta:0};if(this.attributes.size){const y={};[...this.attributes].forEach(([v,T])=>y[v]=T),[d,h,m]=c.style([this.fromPos,this.toPos],y,this.getExecutedAt(),r)}else{const y=this.attributesToRemove;[d,h,m]=c.removeStyle([this.fromPos,this.toPos],y,this.getExecutedAt(),r)}e.acc(m);for(const y of d)e.registerGCPair(y);return{opInfos:h.map(({from:y,to:v,value:T,fromPath:V,toPath:I})=>({type:"tree-style",from:y,to:v,value:this.attributes.size?{attributes:T}:{attributesToRemove:T},fromPath:V,toPath:I,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),a=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,r=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${a},${r},${Object.entries(this.attributes||{}).map(([o,c])=>`${o}:"${c}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class ci extends Cn{createdAt;value;constructor(e,a,r,o){super(e,o),this.createdAt=a,this.value=r}static create(e,a,r,o){return new ci(e,a,r,o)}execute(e){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new N(A.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof At))throw new N(A.ErrInvalidArgument,"fail to execute, only array can execute set");const r=a.getByID(this.createdAt).deepcopy(),o=this.toReverseOperation(this.value,r),c=this.value.deepcopy();return a.insertAfter(this.createdAt,c,this.getExecutedAt()),a.delete(this.createdAt,this.getExecutedAt()),e.registerElement(c),{opInfos:[{type:"array-set",path:e.createPath(this.getParentCreatedAt())}],reverseOp:o}}toReverseOperation(e,a){return ci.create(this.getParentCreatedAt(),e.getCreatedAt(),a)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(e){this.createdAt=e}}function OT(i){const e={};for(const[a,r]of Object.entries(i))e[a]=JSON.stringify(r);return H(oT,{data:e})}function VT(i){if(i.type===Mn.Put)return H(Qp,{type:Ys.PUT,presence:OT(i.presence)});if(i.type===Mn.Clear)return H(Qp,{type:Ys.CLEAR});throw new N(A.ErrUnimplemented,"unimplemented type")}function xT(i){return H(uT,{serverSeq:i.getServerSeq(),clientSeq:i.getClientSeq()})}function Gf(i){return H(hh,{clientSeq:i.getClientSeq(),lamport:i.getLamport(),actorId:Xo(i.getActorID()),versionVector:bh(i.getVersionVector())})}function Q(i){if(i)return H(fT,{lamport:i.getLamport(),delimiter:i.getDelimiter(),actorId:Xo(i.getActorID())})}function bh(i){if(!i)return;const e=H(dh);for(const[a,r]of i){const o=m2(Xo(a));e.vector[o]=BigInt(r.toString())}return e}function xv(i){switch(i){case Ge.Null:return ue.NULL;case Ge.Boolean:return ue.BOOLEAN;case Ge.Integer:return ue.INTEGER;case Ge.Long:return ue.LONG;case Ge.Double:return ue.DOUBLE;case Ge.String:return ue.STRING;case Ge.Bytes:return ue.BYTES;case Ge.Date:return ue.DATE;default:throw new N(A.ErrInvalidType,`unsupported type: ${i}`)}}function Bv(i){switch(i){case Yn.Int:return ue.INTEGER_CNT;case Yn.Long:return ue.LONG_CNT;default:throw new N(A.ErrInvalidType,`unsupported type: ${i}`)}}function yo(i){if(i instanceof St)return H(sr,{type:ue.JSON_OBJECT,createdAt:Q(i.getCreatedAt()),value:kv(i)});if(i instanceof At)return H(sr,{type:ue.JSON_ARRAY,createdAt:Q(i.getCreatedAt()),value:f2(i)});if(i instanceof Zt)return H(sr,{type:ue.TEXT,createdAt:Q(i.getCreatedAt())});if(i instanceof je)return H(sr,{type:xv(i.getType()),createdAt:Q(i.getCreatedAt()),value:i.toBytes()});if(i instanceof Mt)return H(sr,{type:Bv(i.getType()),createdAt:Q(i.getCreatedAt()),value:i.toBytes()});if(i instanceof Qt)return H(sr,{type:ue.TREE,createdAt:Q(i.getCreatedAt()),value:d2(i)});throw new N(A.ErrUnimplemented,"unimplemented element")}function BT(i){return H(iT,{createdAt:Q(i.getCreatedAt()),offset:i.getOffset()})}function po(i){return H(cT,{createdAt:Q(i.getID().getCreatedAt()),offset:i.getID().getOffset(),relativeOffset:i.getRelativeOffset()})}function bo(i){return H(lT,{parentId:ws(i.getParentID()),leftSiblingId:ws(i.getLeftSiblingID())})}function ws(i){return H(sT,{createdAt:Q(i.getCreatedAt()),offset:i.getOffset()})}function zf(i){const e=H(gh);if(i instanceof va){const a=i,r=H(YN);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.key=a.getKey(),r.value=yo(a.getValue()),r.executedAt=Q(a.getExecutedAt()),e.body.case="set",e.body.value=r}else if(i instanceof Ji){const a=i,r=H(GN);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.prevCreatedAt=Q(a.getPrevCreatedAt()),r.value=yo(a.getValue()),r.executedAt=Q(a.getExecutedAt()),e.body.case="add",e.body.value=r}else if(i instanceof Rn){const a=i,r=H(zN);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.prevCreatedAt=Q(a.getPrevCreatedAt()),r.createdAt=Q(a.getCreatedAt()),r.executedAt=Q(a.getExecutedAt()),e.body.case="move",e.body.value=r}else if(i instanceof Zn){const a=i,r=H(_N);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.createdAt=Q(a.getCreatedAt()),r.executedAt=Q(a.getExecutedAt()),e.body.case="remove",e.body.value=r}else if(i instanceof ki){const a=i,r=H(KN);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.from=po(a.getFromPos()),r.to=po(a.getToPos()),r.content=a.getContent();const o=r.attributes;for(const[c,h]of a.getAttributes())o[c]=h;r.executedAt=Q(a.getExecutedAt()),e.body.case="edit",e.body.value=r}else if(i instanceof js){const a=i,r=H(WN);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.from=po(a.getFromPos()),r.to=po(a.getToPos());const o=r.attributes;for(const[c,h]of a.getAttributes())o[c]=h;r.executedAt=Q(a.getExecutedAt()),e.body.case="style",e.body.value=r}else if(i instanceof Ir){const a=i,r=H(XN);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.value=yo(a.getValue()),r.executedAt=Q(a.getExecutedAt()),e.body.case="increase",e.body.value=r}else if(i instanceof Fs){const a=i,r=H(kN);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.from=bo(a.getFromPos()),r.to=bo(a.getToPos()),r.contents=zT(a.getContents()),r.splitLevel=a.getSplitLevel(),r.executedAt=Q(a.getExecutedAt()),e.body.case="treeEdit",e.body.value=r}else if(i instanceof oi){const a=i,r=H(JN);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.from=bo(a.getFromPos()),r.to=bo(a.getToPos());const o=a.getAttributesToRemove();if(o.length>0)r.attributesToRemove=o;else{const c=r.attributes;for(const[h,d]of a.getAttributes())c[h]=d}r.executedAt=Q(a.getExecutedAt()),e.body.case="treeStyle",e.body.value=r}else if(i instanceof ci){const a=i,r=H(jN);r.parentCreatedAt=Q(a.getParentCreatedAt()),r.createdAt=Q(a.getCreatedAt()),r.value=yo(a.getValue()),r.executedAt=Q(a.getExecutedAt()),e.body.case="arraySet",e.body.value=r}else throw new N(A.ErrUnimplemented,"unimplemented operation");return e}function UT(i){const e=[];for(const a of i)e.push(zf(a));return e}function LT(i){const e=H(ZN,{id:Gf(i.getID()),message:i.getMessage()});return i.hasOperations()&&(e.operations=UT(i.getOperations())),i.hasPresenceChange()&&(e.presenceChange=VT(i.getPresenceChange())),e}function MT(i){const e=[];for(const a of i)e.push(LT(a));return e}function ZT(i){const e=[];for(const a of i)e.push(H(eT,{key:a.getStrKey(),element:Sh(a.getValue())}));return e}function YT(i){const e=[];for(const a of i)e.push(H(tT,{element:Sh(a.getValue())}));return e}function GT(i){const e=[];for(const a of i){const r=H(nT);r.id=BT(a.getID()),r.value=a.getValue().getContent(),r.removedAt=Q(a.getRemovedAt());const o=r.attributes,c=a.getValue().getAttrs();for(const h of c){const d=H(pv);d.value=h.getValue(),d.updatedAt=Q(h.getUpdatedAt()),o[h.getKey()]=d}e.push(r)}return e}function zT(i){const e=[];if(!i||!i.length)return e;for(const a of i)e.push(H(rT,{content:vh(a)}));return e}function _T(i){const e={};for(const a of i)e[a.getKey()]=H(pv,{value:a.getValue(),updatedAt:Q(a.getUpdatedAt()),isRemoved:a.isRemoved()});return e}function vh(i){if(!i)return[];const e=[];return _o(i,(a,r)=>{const o=H(aT,{id:ws(a.id),type:a.type,removedAt:Q(a.removedAt),depth:r});a.isText&&(o.value=a.value),a.insPrevID&&(o.insPrevId=ws(a.insPrevID)),a.insNextID&&(o.insNextId=ws(a.insNextID)),a.attrs&&(o.attributes=_T(a.attrs)),e.push(o)}),e}function KT(i){return H(dn,{body:{case:"jsonObject",value:H(FN,{nodes:ZT(i.getRHT()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function Uv(i){return H(dn,{body:{case:"jsonArray",value:H(HN,{nodes:YT(i.getElements()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function WT(i){return H(dn,{body:{case:"primitive",value:H(QN,{type:xv(i.getType()),value:i.toBytes(),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function XT(i){return H(dn,{body:{case:"text",value:H($N,{nodes:GT(i.getRGATreeSplit()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function kT(i){return H(dn,{body:{case:"counter",value:H(PN,{type:Bv(i.getType()),value:i.toBytes(),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function Lv(i){return H(dn,{body:{case:"tree",value:H(qN,{nodes:vh(i.getRoot()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function Sh(i){if(i instanceof St)return KT(i);if(i instanceof At)return Uv(i);if(i instanceof je)return WT(i);if(i instanceof Zt)return XT(i);if(i instanceof Mt)return kT(i);if(i instanceof Qt)return Lv(i);throw new N(A.ErrUnimplemented,"unimplemented element")}function JT(i){return H(MN,{documentKey:i.getDocumentKey(),checkpoint:xT(i.getCheckpoint()),isRemoved:i.getIsRemoved(),changes:MT(i.getChanges()),snapshot:i.getSnapshot(),versionVector:bh(i.getVersionVector())})}function jT(i){return{id:i.id,label:i.label,description:i.description,snapshot:i.snapshot,createdAt:i.createdAt?a1(i.createdAt):new Date}}function Rs(i){if(!(i instanceof xe))return{};const e=i.findDetails(mT);for(const a of e)return a.metadata;return{}}function ur(i){return Rs(i).code??""}function Rf(i,e){return i instanceof xe&&ur(i)===e}function Mv(i){return En.of(i.clientSeq,BigInt(i.lamport),Rh(i.actorId),Ah(i.versionVector),BigInt(i.serverSeq))}function Ah(i){if(!i)return;const e=new dr;return Object.entries(i.vector).forEach(([a,r])=>{const o=Wo(g2(a));e.set(o,BigInt(r.toString()))}),e}function P(i){if(i)return cn.of(BigInt(i.lamport),i.delimiter,Rh(i.actorId))}function Eh(i){const e={};return Object.entries(i.data).forEach(([a,r])=>{e[a]=JSON.parse(r)}),e}function FT(i){const e=i.type;if(e===Ys.PUT){const a=Eh(i.presence);return{type:Mn.Put,presence:a}}if(e===Ys.CLEAR)return{type:Mn.Clear};throw new N(A.ErrInvalidType,`unsupported type: ${e}`)}function HT(i){const e=new Map;return Object.entries(i).forEach(([a,r])=>{e.set(a,Eh(r))}),e}function Zv(i){switch(i){case ue.NULL:return Ge.Null;case ue.BOOLEAN:return Ge.Boolean;case ue.INTEGER:return Ge.Integer;case ue.LONG:return Ge.Long;case ue.DOUBLE:return Ge.Double;case ue.STRING:return Ge.String;case ue.BYTES:return Ge.Bytes;case ue.DATE:return Ge.Date}throw new N(A.ErrUnimplemented,`unimplemented value type: ${i}`)}function Bo(i){switch(i){case ue.INTEGER_CNT:return Yn.Int;case ue.LONG_CNT:return Yn.Long}throw new N(A.ErrUnimplemented,`unimplemented value type: ${i}`)}function vo(i){switch(i.type){case ue.JSON_OBJECT:return i.value?Xv(i.value):St.create(P(i.createdAt));case ue.JSON_ARRAY:return i.value?c2(i.value):At.create(P(i.createdAt));case ue.TEXT:return Zt.create(Nr.create(),P(i.createdAt));case ue.TREE:return h2(i.value);case ue.NULL:case ue.BOOLEAN:case ue.INTEGER:case ue.LONG:case ue.DOUBLE:case ue.STRING:case ue.BYTES:case ue.DATE:return je.of(je.valueFromBytes(Zv(i.type),i.value),P(i.createdAt));case ue.INTEGER_CNT:case ue.LONG_CNT:return Mt.create(Bo(i.type),Mt.valueFromBytes(Bo(i.type),i.value),P(i.createdAt))}}function So(i){return mt.of(Un.of(P(i.createdAt),i.offset),i.relativeOffset)}function Yv(i){return Un.of(P(i.createdAt),i.offset)}function QT(i){const e=_s.create(i.value);Object.entries(i.attributes).forEach(([r,o])=>{e.setAttr(r,o.value,P(o.updatedAt))});const a=Ki.create(Yv(i.id),e);return a.setRemovedAt(P(i.removedAt)),a}function lr(i){return In.of(Os(i.parentId),Os(i.leftSiblingId))}function Os(i){return pt.of(P(i.createdAt),i.offset)}function $T(i){if(!i.length)return;const e=[];return i.forEach(a=>{const r=Nh(a.content);e.push(r)}),e}function Nh(i){if(i.length===0)return;const e=[];for(const o of i)e.push(qT(o));const a=e[e.length-1],r=new Map;r.set(i[e.length-1].depth,e[e.length-1]);for(let o=e.length-2;o>=0;o--)r.get(i[o].depth-1).prepend(e[o]),r.set(i[o].depth,e[o]);return a.updateDescendantsSize(),a.updateDescendantsSize(!0),Qt.create(a,Sr).getRoot()}function PT(i){const e=ui.create();for(const[a,r]of Object.entries(i))e.setInternal(a,r.value,P(r.updatedAt),r.isRemoved);return e}function qT(i){const e=Os(i.id),a=Ht.create(e,i.type),r=Object.entries(i.attributes);return a.isText?a.value=i.value:r.length&&(a.attrs=PT(i.attributes)),i.insPrevId&&(a.insPrevID=Os(i.insPrevId)),i.insNextId&&(a.insNextID=Os(i.insNextId)),a.removedAt=P(i.removedAt),a}function Gv(i){if(i.body.case==="set"){const e=i.body.value;return va.create(e.key,vo(e.value),P(e.parentCreatedAt),P(e.executedAt))}else if(i.body.case==="add"){const e=i.body.value;return Ji.create(P(e.parentCreatedAt),P(e.prevCreatedAt),vo(e.value),P(e.executedAt))}else if(i.body.case==="move"){const e=i.body.value;return Rn.create(P(e.parentCreatedAt),P(e.prevCreatedAt),P(e.createdAt),P(e.executedAt))}else if(i.body.case==="remove"){const e=i.body.value;return Zn.create(P(e.parentCreatedAt),P(e.createdAt),P(e.executedAt))}else if(i.body.case==="edit"){const e=i.body.value,a=new Map;return Object.entries(e.attributes).forEach(([r,o])=>{a.set(r,o)}),ki.create(P(e.parentCreatedAt),So(e.from),So(e.to),e.content,a,P(e.executedAt))}else if(i.body.case==="style"){const e=i.body.value,a=new Map;return Object.entries(e.attributes).forEach(([r,o])=>{a.set(r,o)}),js.create(P(e.parentCreatedAt),So(e.from),So(e.to),a,P(e.executedAt))}else if(i.body.case==="increase"){const e=i.body.value;return Ir.create(P(e.parentCreatedAt),vo(e.value),P(e.executedAt))}else if(i.body.case==="treeEdit"){const e=i.body.value;return Fs.create(P(e.parentCreatedAt),lr(e.from),lr(e.to),$T(e.contents),e.splitLevel,P(e.executedAt))}else if(i.body.case==="treeStyle"){const e=i.body.value,a=new Map,r=e.attributesToRemove;return r?.length>0?oi.createTreeRemoveStyleOperation(P(e.parentCreatedAt),lr(e.from),lr(e.to),r,P(e.executedAt)):(Object.entries(e.attributes).forEach(([o,c])=>{a.set(o,c)}),oi.create(P(e.parentCreatedAt),lr(e.from),lr(e.to),a,P(e.executedAt)))}else if(i.body.case==="arraySet"){const e=i.body.value;return ci.create(P(e.parentCreatedAt),P(e.createdAt),vo(e.value),P(e.executedAt))}else throw new N(A.ErrUnimplemented,"unimplemented operation")}function e2(i){const e=[];for(const a of i){const r=Gv(a);r&&e.push(r)}return e}function zv(i){const e=[];for(const a of i)e.push(Rr.create({id:Mv(a.id),operations:e2(a.operations),presenceChange:a.presenceChange?FT(a.presenceChange):void 0,message:a.message}));return e}function t2(i){return gr.of(BigInt(i.serverSeq),i.clientSeq)}function n2(i){return Ko.create(i.documentKey,t2(i.checkpoint),i.isRemoved,zv(i.changes),Ah(i.versionVector),i.snapshot)}function _v(i){const e=new Ar;for(const r of i.nodes){const o=Th(r.element);e.set(r.key,o,o.getPositionedAt())}const a=new St(P(i.createdAt),e);return a.setMovedAt(P(i.movedAt)),a.setRemovedAt(P(i.removedAt)),a}function Kv(i){const e=new zs;for(const r of i.nodes)e.insert(Th(r.element));const a=new At(P(i.createdAt),e);return a.setMovedAt(P(i.movedAt)),a.setRemovedAt(P(i.removedAt)),a}function i2(i){const e=je.of(je.valueFromBytes(Zv(i.type),i.value),P(i.createdAt));return e.setMovedAt(P(i.movedAt)),e.setRemovedAt(P(i.removedAt)),e}function a2(i){const e=new Nr;let a=e.getHead();for(const o of i.nodes){const c=e.insertAfter(a,QT(o));o.insPrevId&&c.setInsPrev(e.findNode(Yv(o.insPrevId))),a=c}const r=new Zt(e,P(i.createdAt));return r.setMovedAt(P(i.movedAt)),r.setRemovedAt(P(i.removedAt)),r}function r2(i){const e=Mt.create(Bo(i.type),Mt.valueFromBytes(Bo(i.type),i.value),P(i.createdAt));return e.setMovedAt(P(i.movedAt)),e.setRemovedAt(P(i.removedAt)),e}function Wv(i){const e=Nh(i.nodes);return Qt.create(e,P(i.createdAt))}function Th(i){if(i.body.case==="jsonObject")return _v(i.body.value);if(i.body.case==="jsonArray")return Kv(i.body.value);if(i.body.case==="primitive")return i2(i.body.value);if(i.body.case==="text")return a2(i.body.value);if(i.body.case==="counter")return r2(i.body.value);if(i.body.case==="tree")return Wv(i.body.value);throw new N(A.ErrUnimplemented,"unimplemented element")}function s2(i){return i.map(e=>({path:e.path,type:e.type}))}function l2(i){if(!i)return{root:St.create(Sr),presences:new Map};const e=hn(LN,i);return{root:Th(e.root),presences:HT(e.presences)}}function o2(i){const e=bh(i);return Wo(Xi(dh,e))}function u2(i){const e=Ih(i),a=hn(dh,e);return Ah(a)}function Xv(i){if(!i)throw new N(A.ErrInvalidArgument,"bytes is empty");const e=hn(dn,i);return _v(e.body.value)}function kv(i){return Xi(dn,Sh(i))}function c2(i){if(!i)throw new N(A.ErrInvalidArgument,"bytes is empty");const e=hn(dn,i);return Kv(e.body.value)}function f2(i){return Xi(dn,Uv(i))}function h2(i){if(!i)throw new N(A.ErrInvalidArgument,"bytes is empty");const e=hn(dn,i);return Wv(e.body.value)}function d2(i){return Xi(dn,Lv(i))}function Wo(i){return i?Array.from(i).map(e=>e.toString(16).padStart(2,"0")).join(""):""}function Rh(i){return Wo(i)}function Ih(i){return new Uint8Array(i.match(/.{1,2}/g).map(e=>parseInt(e,16)))}function g2(i){if(typeof window<"u"&&typeof window.atob=="function"){const e=window.atob(i),a=e.length,r=new Uint8Array(a);for(let o=0;o<a;o++)r[o]=e.charCodeAt(o);return r}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const e=globalThis.Buffer;return new Uint8Array(e.from(i,"base64"))}else throw new Error("No base64 decoder available")}function Xo(i){return Ih(i)}function m2(i){if(typeof window<"u"&&typeof window.btoa=="function"){let e="";for(let a=0;a<i.byteLength;a++)e+=String.fromCharCode(i[a]);return window.btoa(e)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(i).toString("base64");throw new Error("No base64 encoder available")}}function y2(i){const e=hn(hh,i);return Mv(e)}function p2(i){const e=hn(gh,i);return Gv(e)}const Ke={fromPresence:Eh,toChangePack:JT,fromChangePack:n2,fromChanges:zv,toTreeNodes:vh,fromTreeNodes:Nh,objectToBytes:kv,bytesToObject:Xv,bytesToSnapshot:l2,bytesToHex:Wo,hexToBytes:Ih,toHexString:Rh,toUint8Array:Xo,toOperation:zf,toChangeID:Gf,bytesToChangeID:y2,bytesToOperation:p2,versionVectorToHex:o2,hexToVersionVector:u2,fromSchemaRules:s2,toRevisionSummary:jT,changeIDToBinary:i=>Xi(hh,Gf(i)),operationToBinary:i=>Xi(gh,zf(i))};var Bt=(i=>(i[i.Trivial=0]="Trivial",i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warn=3]="Warn",i[i.Error=4]="Error",i[i.Fatal=5]="Fatal",i))(Bt||{});let ga=3;function b2(i){ga=i}const _={trivial:(...i)=>{ga>0||typeof console<"u"&&console.log("YORKIE T:",...i)},debug:(...i)=>{ga>1||typeof console<"u"&&console.log("YORKIE D:",...i)},info:(...i)=>{ga>2||typeof console<"u"&&console.log("YORKIE I:",...i)},warn:(...i)=>{ga>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...i):console.log("YORKIE W:",...i))},error:(...i)=>{ga>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...i):console.log("YORKIE E:",...i))},fatal:(...i)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...i):console.log("YORKIE F:",...i))},isEnabled:i=>ga<=i};function Jv(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,i=>{const e=Math.random()*16|0;return(i==="x"?e:e&3|8).toString(16)})}const If=()=>{};class v2{finalized=!1;observers=[];finalError;constructor(e){try{e(this)}catch(a){this.error(a)}}next(e){this.forEachObserver(a=>{a.next(e)})}error(e){this.forEachObserver(a=>{a.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,a,r){let o;if(!e)throw new N(A.ErrInvalidArgument,"missing observer");if(this.finalized)throw new N(A.ErrRefused,"observable is finalized due to previous error");typeof e=="object"?o=e:o={next:e,error:a,complete:r},o.next===void 0&&(o.next=If),o.error===void 0&&(o.error=If),o.complete===void 0&&(o.complete=If);const c=Jv(),h=this.unsubscribeOne.bind(this,c);if(this.observers.push({subscriptionID:c,observer:o}),this.finalized)try{this.finalError?o.error(this.finalError):o.complete()}catch(d){_.warn(d)}return h}unsubscribeOne(e){this.observers=this.observers?.filter(a=>a.subscriptionID!==e)}forEachObserver(e){if(!this.finalized)for(let a=0;a<this.observers.length;a++)this.sendOne(a,e)}sendOne(e,a){if(this.observers!==void 0&&this.observers[e]!==void 0)try{a(this.observers[e].observer)}catch(r){_.error(r)}}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.observers=void 0)}}function jv(i){const e=new v2(i);return{subscribe:e.subscribe.bind(e),getProxy:()=>e}}class Vs{prevID;nextID;delimiter;message;root;operations;presenceChange;previousPresence;reversePresenceKeys;constructor(e,a,r,o){this.prevID=e,this.nextID=e.next(),this.delimiter=vv,this.root=a,this.operations=[],this.previousPresence=An(r),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=o}static create(e,a,r,o){return new Vs(e,a,r,o)}push(e){this.operations.push(e)}registerElement(e,a){this.root.registerElement(e,a)}registerRemovedElement(e){this.root.registerRemovedElement(e)}registerGCPair(e){this.root.registerGCPair(e)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const e=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return Rr.create({id:e,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(e){this.presenceChange=e}setReversePresence(e,a){for(const r of Object.keys(e))a?.addToHistory?this.reversePresenceKeys.add(r):this.reversePresenceKeys.delete(r)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const e={};for(const a of this.reversePresenceKeys)e[a]=this.previousPresence[a];return e}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(e){this.root.acc(e)}}function Fv(i,e){const a=new Ks(i);return new Proxy(e,a.getHandlers())}class Ks{context;handlers;constructor(e){this.context=e,this.handlers={set:(a,r,o)=>(_.isEnabled(Bt.Trivial)&&_.trivial(`obj[${r}]=${JSON.stringify(o)}`),Ks.setInternal(e,a,r,o),!0),get:(a,r)=>(_.isEnabled(Bt.Trivial)&&_.trivial(`obj[${r}]`),r==="getID"?()=>a.getCreatedAt():r==="toJSON"||r==="toString"?()=>a.toJSON():r==="toJS"?()=>a.toJS():r==="toJSForTest"?()=>a.toJSForTest():ma(e,a.get(r))),ownKeys:a=>a.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(a,r)=>(_.isEnabled(Bt.Trivial)&&_.trivial(`obj[${r}]`),Ks.deleteInternal(e,a,r),!0)}}static setInternal(e,a,r,o){if(r.includes("."))throw new N(A.ErrInvalidObjectKey,"key must not contain the '.'.");const c=e.issueTimeTicket(),h=xs(e,o,c),d=a.set(r,h,c);e.registerElement(h,a),d&&e.registerRemovedElement(d),e.push(va.create(r,h.deepcopy(),a.getCreatedAt(),c))}static buildObjectMembers(e,a){const r={};for(const[o,c]of Object.entries(a)){if(o.includes("."))throw new N(A.ErrInvalidObjectKey,"key must not contain the '.'.");const h=e.issueTimeTicket(),d=xs(e,c,h);r[o]=d}return r}static deleteInternal(e,a,r){const o=e.issueTimeTicket(),c=a.deleteByKey(r,o);c&&(e.push(Zn.create(a.getCreatedAt(),c.getCreatedAt(),o)),e.registerRemovedElement(c))}getHandlers(){return this.handlers}}function S2(i,e){const a=new we(i,e);return new Proxy(e,a.getHandlers())}function rb(i){return typeof i=="string"||i instanceof String?!isNaN(i):!1}function A2(i){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(i)}class we{context;handlers;array;constructor(e,a){this.context=e,this.array=a,this.handlers={get:(r,o,c)=>o==="getID"?()=>r.getCreatedAt():o==="getElementByID"?h=>{const d=r.getByID(h);if(!(!d||d.isRemoved()))return Sn(e,d)}:o==="getElementByIndex"?h=>{const d=r.get(h);return Sn(e,d)}:o==="getLast"?()=>Sn(e,r.getLast()):o==="delete"?h=>{const d=we.deleteInternalByIndex(e,r,h);return Sn(e,d)}:o==="deleteByID"?h=>{const d=we.deleteInternalByID(e,r,h);return Sn(e,d)}:o==="insertAfter"?(h,d)=>{const m=we.insertAfterInternal(e,r,h,d);return Sn(e,m)}:o==="insertIntegerAfter"?(h,d)=>{const m=we.insertIntegerAfterInternal(e,r,h,d);return Sn(e,m)}:o==="insertBefore"?(h,d)=>{const m=we.insertBeforeInternal(e,r,h,d);return Sn(e,m)}:o==="setValue"?(h,d)=>{const m=we.setValueInternal(e,r,h,d);return Sn(e,m)}:o==="moveBefore"?(h,d)=>{we.moveBeforeInternal(e,r,h,d)}:o==="moveAfter"?(h,d)=>{we.moveAfterInternal(e,r,h,d)}:o==="moveAfterByIndex"?(h,d)=>{we.moveAfterByIndexInternal(e,r,h,d)}:o==="moveFront"?h=>{we.moveFrontInternal(e,r,h)}:o==="moveLast"?h=>{we.moveLastInternal(e,r,h)}:rb(o)?ma(e,r.get(Number(o))):o==="push"?h=>we.pushInternal(e,r,h):o==="splice"?(h,d,...m)=>we.splice(e,r,h,d,...m):o==="length"?r.length:typeof o=="symbol"&&o===Symbol.iterator?we.iteratorInternal.bind(this,e,r):o==="includes"?(h,d)=>we.includes(e,r,h,d):o==="indexOf"?(h,d)=>we.indexOf(e,r,h,d):o==="lastIndexOf"?(h,d)=>we.lastIndexOf(e,r,h,d):o==="toJSForTest"?()=>r.toJSForTest():o==="toTestString"?()=>we.toTestString(r):typeof o=="string"&&A2(o)?(...h)=>{const d=Array.from(r).map(m=>ma(e,m));return Array.prototype[o].apply(d,h)}:Reflect.get(r,o,c),set:(r,o,c)=>{if(rb(o)){const h=Number(o);return we.setValueInternal(e,r,h,c),!0}return Reflect.set(r,o,c)},deleteProperty:(r,o)=>(_.isEnabled(Bt.Trivial)&&_.trivial(`array[${o}]`),we.deleteInternalByIndex(e,r,Number.parseInt(o)),!0)}}static*iteratorInternal(e,a){for(const r of a)yield Sn(e,r)}static buildArrayElements(e,a){const r=[];for(const o of a){const c=e.issueTimeTicket(),h=xs(e,o,c);r.push(h)}return r}static pushInternal(e,a,r){return we.insertAfterInternal(e,a,a.getLastCreatedAt(),r),a.length}static moveBeforeInternal(e,a,r,o){const c=e.issueTimeTicket(),h=a.getPrevCreatedAt(r);a.moveAfter(h,o,c),e.push(Rn.create(a.getCreatedAt(),h,o,c))}static moveAfterInternal(e,a,r,o){const c=e.issueTimeTicket();e.push(Rn.create(a.getCreatedAt(),r,o,c)),a.moveAfter(r,o,c)}static moveAfterByIndexInternal(e,a,r,o){const c=a.get(r);if(!c)throw new N(A.ErrInvalidArgument,`index out of bounds: ${r}`);const h=a.get(o);if(!h)throw new N(A.ErrInvalidArgument,`index out of bounds: ${o}`);we.moveAfterInternal(e,a,c.getCreatedAt(),h.getCreatedAt())}static moveFrontInternal(e,a,r){const o=e.issueTimeTicket(),c=a.getHead();a.moveAfter(c.getCreatedAt(),r,o),e.push(Rn.create(a.getCreatedAt(),c.getCreatedAt(),r,o))}static moveLastInternal(e,a,r){const o=e.issueTimeTicket(),c=a.getLastCreatedAt();a.moveAfter(c,r,o),e.push(Rn.create(a.getCreatedAt(),c,r,o))}static insertAfterInternal(e,a,r,o){const c=e.issueTimeTicket(),h=xs(e,o,c);return a.insertAfter(r,h),e.registerElement(h,a),e.push(Ji.create(a.getCreatedAt(),r,h.deepcopy(),c)),h}static insertIntegerAfterInternal(e,a,r,o){const c=a.get(r);if(!c)throw new N(A.ErrInvalidArgument,`index out of bounds: ${r}`);return we.insertAfterInternal(e,a,c.getCreatedAt(),o),a}static insertBeforeInternal(e,a,r,o){return we.insertAfterInternal(e,a,a.getPrevCreatedAt(r),o)}static setValueInternal(e,a,r,o){const c=a.get(r);if(!c)throw new N(A.ErrInvalidArgument,`index out of bounds: ${r}`);return we.setByIndexInternal(e,a,c.getCreatedAt(),o),a}static setByIndexInternal(e,a,r,o){const c=e.issueTimeTicket(),h=xs(e,o,c),d=h.deepcopy();return e.push(ci.create(a.getCreatedAt(),r,d,c)),a.set(r,h,c),e.registerElement(h,a),h}static deleteInternalByIndex(e,a,r){const o=e.issueTimeTicket(),c=a.deleteByIndex(r,o);if(c)return e.push(Zn.create(a.getCreatedAt(),c.getCreatedAt(),o)),e.registerRemovedElement(c),c}static deleteInternalByID(e,a,r){const o=e.issueTimeTicket(),c=a.delete(r,o);return e.push(Zn.create(a.getCreatedAt(),c.getCreatedAt(),o)),e.registerRemovedElement(c),c}static splice(e,a,r,o,...c){const h=a.length,d=r>=0?Math.min(r,h):Math.max(h+r,0),m=o===void 0?h:o<0?d:Math.min(d+o,h),y=[];for(let v=d;v<m;v++){const T=we.deleteInternalByIndex(e,a,d);if(T){const V=T.deepcopy();V.setRemovedAt(),y.push(ma(e,V))}}if(c){let v=d===0?a.getHead().getID():a.get(d-1).getID();for(const T of c)v=we.insertAfterInternal(e,a,v,T).getID()}return y}static includes(e,a,r,o){const c=a.length,h=o===void 0?0:o<0?Math.max(o+c,0):o;if(h>=c)return!1;if(je.isSupport(r))return Array.from(a).map(m=>ma(e,m)).includes(r,h);for(let d=h;d<c;d++)if(a.get(d)?.getID()===r.getID())return!0;return!1}static indexOf(e,a,r,o){const c=a.length,h=o===void 0?0:o<0?Math.max(o+c,0):o;if(h>=c)return-1;if(je.isSupport(r))return Array.from(a).map(m=>ma(e,m)).indexOf(r,h);for(let d=h;d<c;d++)if(a.get(d)?.getID()===r.getID())return d;return-1}static lastIndexOf(e,a,r,o){const c=a.length,h=o===void 0||o>=c?c-1:o<0?o+c:o;if(h<0)return-1;if(je.isSupport(r))return Array.from(a).map(m=>ma(e,m)).lastIndexOf(r,h);for(let d=h;d>0;d--)if(a.get(d)?.getID()===r.getID())return d;return-1}static toTestString(e){return e.toTestString()}getHandlers(){return this.handlers}}class Ch{context;text;constructor(e,a){this.context=e,this.text=a}initialize(e,a){this.context=e,this.text=a}getID(){return this.text.getID()}edit(e,a,r,o){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");if(e>a)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const c=this.text.indexRangeToPosRange(e,a);_.isEnabled(Bt.Debug)&&_.debug(`EDIT: f:${e}->${c[0].toTestString()}, t:${a}->${c[1].toTestString()} c:${r}`);const h=o?Tr(o):void 0,d=this.context.issueTimeTicket(),[,m,y,v]=this.text.edit(c,r,d,h);this.context.acc(y);for(const T of m)this.context.registerGCPair(T);return this.context.push(new ki(this.text.getCreatedAt(),c[0],c[1],r,h?new Map(Object.entries(h)):new Map,d)),this.text.findIndexesFromRange(v)}delete(e,a){return this.edit(e,a,"")}empty(){return this.edit(0,this.length,"")}setStyle(e,a,r){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");if(e>a)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const o=this.text.indexRangeToPosRange(e,a);_.isEnabled(Bt.Debug)&&_.debug(`STYL: f:${e}->${o[0].toTestString()}, t:${a}->${o[1].toTestString()} a:${JSON.stringify(r)}`);const c=Tr(r),h=this.context.issueTimeTicket(),[d,m]=this.text.setStyle(o,c,h);this.context.acc(m);for(const y of d)this.context.registerGCPair(y);return this.context.push(new js(this.text.getCreatedAt(),o[0],o[1],new Map(Object.entries(c)),h)),!0}indexRangeToPosRange(e){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");const a=this.text.indexRangeToPosRange(e[0],e[1]);return[a[0].toStruct(),a[1].toStruct()]}posRangeToIndexRange(e){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");const a=this.text.findIndexesFromRange([mt.fromStruct(e[0]),mt.fromStruct(e[1])]);return[a[0],a[1]]}toTestString(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(e,a){if(!this.context||!this.text)throw new N(A.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(e,a)}}class Dh{valueType;value;context;counter;constructor(e,a){this.valueType=e,this.value=a}initialize(e,a){this.valueType=a.getValueType(),this.context=e,this.counter=a,this.value=a.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(e){if(!this.context||!this.counter)throw new N(A.ErrNotInitialized,"Counter is not initialized yet");const a=this.context.issueTimeTicket(),r=je.of(e,a);if(!r.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof r.getValue()}`);return this.counter.increase(r),this.context.push(Ir.create(this.counter.getCreatedAt(),r,a)),this}toJSForTest(){if(!this.context||!this.counter)throw new N(A.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function wh(i){if(i.isText)return{type:i.type,value:i.value};const e={type:i.type,children:i.children.map(a=>wh(a))};return i.attrs&&(e.attributes=li(i.attrs.toObject())),e}function E2(i,e){const a={type:i.isText?i.parent.type:i.type,children:i.isText?i.parent.getChildrenText().length===e?[]:[{type:Ln,value:i.parent.getChildrenText().slice(e)}]:i.children.slice(e).map(r=>wh(r))};return i.attrs?a.attributes=li(i.attrs.toObject()):i.isText&&i.parent.attrs&&(a.attributes=li(i.parent.attrs.toObject())),a}function N2(i,e){const{node:a}=i,r=[...e].slice(0,-1),o=a.isText?a.parent.getChildrenText().length:a.children.length,c=[...r,o],h=[...r],d=[];h[h.length-1]+=1,e.every((y,v)=>y===c[v])||d.push({fromPath:[...e],toPath:c});const m=E2(a,e[e.length-1]);return m&&d.push({fromPath:h,toPath:h,content:m}),d}function T2(i,e){const{node:a,offset:r}=i,o=a.children[r],c=a.children[r-1],{children:h}=o,d=[...e].slice(0,-1),m=[{fromPath:[...e],toPath:[...d,r+1]}];if(!o.children.length)return m;const y=[...d,r-1,c.hasTextChild()?c.getChildrenText().length:c.children.length],v=h.map(T=>wh(T));return m.push({fromPath:y,toPath:y,content:v}),m}function Oh(i,e,a){const{type:r}=i,o=a.issueTimeTicket();if(r===Ln){Hv(i);const{value:c}=i,h=Ht.create(pt.of(o,0),r,c);e.append(h)}else{const{children:c=[]}=i,{attributes:h}=i;let d;if(typeof h=="object"&&!Iv(h)){const y=Tr(h);d=new ui;for(const[v,T]of Object.entries(y))d.set(v,T,o)}const m=Ht.create(pt.of(o,0),r,void 0,d);e.append(m);for(const y of c)Oh(y,m,a)}}function R2(i,e){const{type:a}=e,r=i.issueTimeTicket();let o;if(e.type===Ln){const{value:c}=e;o=Ht.create(pt.of(r,0),a,c)}else if(e){const{children:c=[]}=e,{attributes:h}=e;let d;if(typeof h=="object"&&!Iv(h)){const m=Tr(h);d=new ui;for(const[y,v]of Object.entries(m))d.set(y,v,r)}o=Ht.create(pt.of(i.issueTimeTicket(),0),a,void 0,d);for(const m of c)Oh(m,o,i)}return o}function Hv(i){if(!i.value.length)throw new N(A.ErrInvalidArgument,"text node cannot have empty value");return!0}function sb(i){if(!i.length)return!0;if(i[0].type===Ln)for(const a of i){const{type:r}=a;if(r!==Ln)throw new N(A.ErrInvalidArgument,"element node and text node cannot be passed together");Hv(a)}else for(const a of i){const{type:r}=a;if(r===Ln)throw new N(A.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Vh{initialRoot;context;tree;constructor(e){this.initialRoot=e}initialize(e,a){this.context=e,this.tree=a}getID(){return this.tree.getID()}buildRoot(e){if(!this.initialRoot)return Ht.create(pt.of(e.issueTimeTicket(),0),NT);const a=Ht.create(pt.of(e.issueTimeTicket(),0),this.initialRoot.type);for(const r of this.initialRoot.children)Oh(r,a,e);return a}getSize(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToTreePos(e),r=N2(a,e);for(const o of r){const{fromPath:c,toPath:h,content:d}=o,m=this.tree.pathToPos(c),y=this.tree.pathToPos(h);this.editInternal(m,y,d?[d]:[],0)}}mergeByPath(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToTreePos(e);if(a.node.isText)throw new N(A.ErrInvalidArgument,"text node cannot be merged");const r=T2(a,e);for(const o of r){const{fromPath:c,toPath:h,content:d}=o,m=this.tree.pathToPos(c),y=this.tree.pathToPos(h);this.editInternal(m,y,d??[],0)}}styleByPath(e,a){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const[r,o]=this.tree.pathToPosRange(e),c=this.context.issueTimeTicket(),h=a?Tr(a):void 0,[d,,m]=this.tree.style([r,o],h,c);this.context.acc(m);for(const y of d)this.context.registerGCPair(y);this.context.push(oi.create(this.tree.getCreatedAt(),r,o,h?new Map(Object.entries(h)):new Map,c))}style(e,a,r){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e>a)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(e),c=this.tree.findPos(a),h=this.context.issueTimeTicket(),d=r?Tr(r):void 0,[m,,y]=this.tree.style([o,c],d,h);this.context.acc(y);for(const v of m)this.context.registerGCPair(v);this.context.push(oi.create(this.tree.getCreatedAt(),o,c,d?new Map(Object.entries(d)):new Map,h))}removeStyle(e,a,r){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e>a)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(e),c=this.tree.findPos(a),h=this.context.issueTimeTicket(),[d,,m]=this.tree.removeStyle([o,c],r,h);this.context.acc(m);for(const y of d)this.context.registerGCPair(y);this.context.push(oi.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),o,c,r,h))}editInternal(e,a,r,o=0){if(r.length!==0&&r[0]&&(sb(r),r[0].type!==Ln))for(const y of r){const{children:v=[]}=y;sb(v)}const c=this.context.getLastTimeTicket();let h=new Array;if(r[0]?.type===Ln){let y="";for(const v of r){const{value:T}=v;y+=T}h.push(Ht.create(pt.of(this.context.issueTimeTicket(),0),Ln,y))}else h=r.map(y=>y&&R2(this.context,y)).filter(y=>y);const[,d,m]=this.tree.edit([e,a],h.length?h.map(y=>y?.deepcopy()):void 0,o,c,()=>this.context.issueTimeTicket());this.context.acc(m);for(const y of d)this.context.registerGCPair(y);return this.context.push(Fs.create(this.tree.getCreatedAt(),e,a,h.length?h:void 0,o,c)),!0}editByPath(e,a,r,o=0){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==a.length)throw new N(A.ErrInvalidArgument,"path length should be equal");if(!e.length||!a.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(e),h=this.tree.pathToPos(a);return this.editInternal(c,h,r?[r]:[],o)}editBulkByPath(e,a,r,o=0){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==a.length)throw new N(A.ErrInvalidArgument,"path length should be equal");if(!e.length||!a.length)throw new N(A.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(e),h=this.tree.pathToPos(a);return this.editInternal(c,h,r,o)}edit(e,a,r,o=0){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e>a)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(e),h=this.tree.findPos(a);return this.editInternal(c,h,r?[r]:[],o)}editBulk(e,a,r,o=0){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");if(e>a)throw new N(A.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(e),h=this.tree.findPos(a);return this.editInternal(c,h,r,o)}toXML(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(e)}pathToIndex(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(e)}pathRangeToPosRange(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");const a=[this.tree.pathToIndex(e[0]),this.tree.pathToIndex(e[1])],r=this.tree.indexRangeToPosRange(a);return[r[0].toStruct(),r[1].toStruct()]}indexRangeToPosRange(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(e)}posRangeToIndexRange(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");const a=[In.fromStruct(e[0]),In.fromStruct(e[1])];return this.tree.posRangeToIndexRange(a)}posRangeToPathRange(e){if(!this.context||!this.tree)throw new N(A.ErrNotInitialized,"Tree is not initialized yet");const a=[In.fromStruct(e[0]),In.fromStruct(e[1])];return this.tree.posRangeToPathRange(a)}}function lb(i,e){return Fv(i,e)}function Sn(i,e){if(e){if(e instanceof je)return e;if(e instanceof St)return Fv(i,e);if(e instanceof At)return S2(i,e);if(e instanceof Zt)return new Ch(i,e);if(e instanceof Mt){const a=new Dh(Yn.Int,0);return a.initialize(i,e),a}else if(e instanceof Qt){const a=new Vh;return a.initialize(i,e),a}}else return;throw new TypeError(`Unsupported type of element: ${typeof e}`)}function ma(i,e){const a=Sn(i,e);return a instanceof je?a.getValue():a}function xs(i,e,a){let r;if(je.isSupport(e))r=je.of(e,a);else if(Array.isArray(e))r=At.create(a,we.buildArrayElements(i,e));else if(typeof e=="object")e instanceof Ch?(r=Zt.create(Nr.create(),a),e.initialize(i,r)):e instanceof Dh?(r=Mt.create(e.getValueType(),e.getValue(),a),e.initialize(i,r)):e instanceof Vh?(r=Qt.create(e.buildRoot(i),a),e.initialize(i,r)):r=St.create(a,Ks.buildObjectMembers(i,e));else throw new TypeError(`Unsupported type of value: ${typeof e}`);return r}class Ws{rootObject;elementPairMapByCreatedAt;gcElementSetByCreatedAt;gcPairMap;docSize;constructor(e){this.rootObject=e,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(e,void 0),e.getDescendants(a=>{if(a.getRemovedAt()&&this.registerRemovedElement(a),a instanceof Zt||a instanceof Qt)for(const r of a.getGCPairs())this.registerGCPair(r);return!1})}static create(){return new Ws(St.create(Sr))}findByCreatedAt(e){const a=this.elementPairMapByCreatedAt.get(e.toIDString());if(a)return a.element}findElementPairByCreatedAt(e){return this.elementPairMapByCreatedAt.get(e.toIDString())}createSubPaths(e){let a=this.elementPairMapByCreatedAt.get(e.toIDString());if(!a)return[];const r=[];for(;a.parent;){const o=a.element.getCreatedAt(),c=a.parent.subPathOf(o);if(c===void 0)throw new N(A.ErrInvalidArgument,`cant find the given element: ${o.toIDString()}`);r.unshift(c),a=this.elementPairMapByCreatedAt.get(a.parent.getCreatedAt().toIDString())}return r.unshift("$"),r}createPath(e){return this.createSubPaths(e).join(".")}registerElement(e,a){this.elementPairMapByCreatedAt.set(e.getCreatedAt().toIDString(),{parent:a,element:e}),yt(this.docSize.live,e.getDataSize()),e instanceof _i&&e.getDescendants((r,o)=>(this.elementPairMapByCreatedAt.set(r.getCreatedAt().toIDString(),{parent:o,element:r}),yt(this.docSize.live,r.getDataSize()),!1))}deregisterElement(e){let a=0;const r=o=>{const c=o.getCreatedAt().toIDString();pa(this.docSize.gc,o.getDataSize()),this.elementPairMapByCreatedAt.delete(c),this.gcElementSetByCreatedAt.delete(c),a++};return r(e),e instanceof _i&&e.getDescendants(o=>(r(o),!1)),a}registerRemovedElement(e){yt(this.docSize.gc,e.getDataSize()),pa(this.docSize.live,e.getDataSize()),this.docSize.live.meta+=Bn,this.gcElementSetByCreatedAt.add(e.getCreatedAt().toIDString())}registerGCPair(e){if(this.gcPairMap.get(e.child.toIDString())){this.gcPairMap.delete(e.child.toIDString());return}this.gcPairMap.set(e.child.toIDString(),e);const r=this.gcPairMap.get(e.child.toIDString()).child.getDataSize();yt(this.docSize.gc,r),pa(this.docSize.live,r),e.child instanceof zi||(this.docSize.live.meta+=Bn)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const e=new Set;for(const a of this.gcElementSetByCreatedAt){e.add(a);const r=this.elementPairMapByCreatedAt.get(a);r.element instanceof _i&&r.element.getDescendants(o=>(e.add(o.getCreatedAt().toIDString()),!1))}return e.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new Ws(this.rootObject.deepcopy())}garbageCollect(e){let a=0;for(const r of this.gcElementSetByCreatedAt){const o=this.elementPairMapByCreatedAt.get(r),c=o.element.getRemovedAt();c&&e?.afterOrEqual(c)&&(o.parent.purge(o.element),a+=this.deregisterElement(o.element))}for(const[,r]of this.gcPairMap){const o=r.child.getRemovedAt();o&&e?.afterOrEqual(o)&&(r.parent.purge(r.child),pa(this.docSize.gc,r.child.getDataSize()),this.gcPairMap.delete(r.child.toIDString()),a+=1)}return a}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(e){yt(this.docSize.live,e)}*getGCElementPairs(){for(const e of this.gcElementSetByCreatedAt){const a=this.elementPairMapByCreatedAt.get(e);a&&(yield a)}}}let ob=class{context;presence;constructor(e,a){this.context=e,this.presence=a}set(e,a){for(const r of Object.keys(e))this.presence[r]=e[r];this.context.setPresenceChange({type:Mn.Put,presence:An(this.presence)}),this.context.setReversePresence(e,a)}get(e){return this.presence[e]}clear(){this.presence={},this.context.setPresenceChange({type:Mn.Clear})}};const ub=50;class I2{undoStack=[];redoStack=[];hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(e){this.undoStack.length>=ub&&this.undoStack.shift(),this.undoStack.push(e)}popUndo(){return this.undoStack.pop()}pushRedo(e){this.redoStack.length>=ub&&this.redoStack.shift(),this.redoStack.push(e)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}clearUndo(){this.undoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(e,a){const r=o=>{for(const c of o)for(const h of c)(h instanceof ci||h instanceof Zn||h instanceof Rn)&&h.getCreatedAt()===e&&h.setCreatedAt(a),(h instanceof Ji||h instanceof Rn)&&h.getPrevCreatedAt()===e&&h.setPrevCreatedAt(a)};r(this.undoStack),r(this.redoStack)}reconcileTextEdit(e,a,r,o){const c=h=>{for(const d of h)for(const m of d)m instanceof ki&&m.getParentCreatedAt().compare(e)===0&&m.reconcileOperation(a,r,o)};c(this.undoStack),c(this.redoStack)}}function C2(i,e){const a=[];for(const r of e){const o=D2(i,r.path),c=w2(o,r);if(!c.valid)for(const h of c.errors||[])a.push(h)}return{valid:a.length===0,errors:a}}function D2(i,e){if(!e.startsWith("$"))throw new Error(`Path must start with $, got ${e}`);const a=e.split(".");let r=i;for(let o=1;o<a.length;o++){const c=a[o];if(!(r instanceof St))return;r=r.get(c)}return r}function w2(i,e){switch(e.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return V2(i,e);case"object":if(!(i instanceof St))return{valid:!1,errors:[{path:e.path,message:`expected object at path ${e.path}`}]};break;case"array":if(!(i instanceof At))return{valid:!1,errors:[{path:e.path,message:`expected array at path ${e.path}`}]};break;case"yorkie.Text":if(!(i instanceof Zt))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Text at path ${e.path}`}]};break;case"yorkie.Tree":if(!(i instanceof Qt))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Tree at path ${e.path}`}]};break;case"yorkie.Counter":if(!(i instanceof Mt))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Counter at path ${e.path}`}]};break;default:throw new Error(`Unknown rule type: ${e.type}`)}return{valid:!0}}function O2(i){switch(i){case"null":return Ge.Null;case"boolean":return Ge.Boolean;case"integer":return Ge.Integer;case"long":return Ge.Long;case"double":return Ge.Double;case"string":return Ge.String;case"bytes":return Ge.Bytes;case"date":return Ge.Date;default:throw new Error(`Unknown primitive type: ${i}`)}}function V2(i,e){return i instanceof je&&i.getType()===O2(e.type)?{valid:!0}:{valid:!1,errors:[{path:e.path,message:`expected ${e.type} at path ${e.path}`}]}}const x2="yorkie-devtools-panel",B2="yorkie-devtools-sdk";function U2(i){return[vt.StatusChanged,vt.Snapshot,vt.LocalChange,vt.RemoteChange,vt.Initialized,vt.Watched,vt.Unwatched,vt.PresenceChanged].includes(i.type)}function L2(i){return i.every(U2)}let cr="disconnected";const cb=new Map,To=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=To);function Ao(i,e){(e?.force||cr!=="disconnected")&&window.postMessage({source:B2,...i},"*")}function M2(i){if(!i.isEnableDevtools()||typeof window>"u"||cb.has(i.getKey()))return;To.set(i.getKey(),[]);const e=i.subscribe("all",a=>{L2(a)&&(To.get(i.getKey()).push(a),cr==="synced"&&Ao({msg:"doc::sync::partial",docKey:i.getKey(),event:a}))});cb.set(i.getKey(),[e]),Ao({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",a=>{if(a.data?.source!==x2)return;switch(a.data.msg){case"devtools::connect":if(cr!=="disconnected")break;cr="connected",Ao({msg:"doc::available",docKey:i.getKey()}),_.info(`[YD] Devtools connected. Doc: ${i.getKey()}`);break;case"devtools::disconnect":cr="disconnected",_.info(`[YD] Devtools disconnected. Doc: ${i.getKey()}`);break;case"devtools::subscribe":cr="synced",Ao({msg:"doc::sync::full",docKey:i.getKey(),events:To.get(i.getKey())}),_.info(`[YD] Devtools subscribed. Doc: ${i.getKey()}`);break}})}var Zi=(i=>(i.Detached="detached",i.Attached="attached",i.Removed="removed",i))(Zi||{}),vt=(i=>(i.StatusChanged="status-changed",i.ConnectionChanged="connection-changed",i.SyncStatusChanged="sync-status-changed",i.Snapshot="snapshot",i.LocalChange="local-change",i.RemoteChange="remote-change",i.Initialized="initialized",i.Watched="watched",i.Unwatched="unwatched",i.PresenceChanged="presence-changed",i.AuthError="auth-error",i))(vt||{}),Uo=(i=>(i.Connected="connected",i.Disconnected="disconnected",i))(Uo||{}),_f=(i=>(i.Synced="synced",i.SyncFailed="sync-failed",i))(_f||{});class Gi{key;status;opts;maxSizeLimit;schemaRules;changeID;checkpoint;localChanges;root;presences;clone;internalHistory;isUpdating;onlineClients;eventStream;eventStreamObserver;history;constructor(e,a){this.key=e,this.status="detached",this.opts=a||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=DT,this.checkpoint=wT,this.localChanges=[],this.root=Ws.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new I2,this.isUpdating=!1,this.eventStream=jv(r=>this.eventStreamObserver=r),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},M2(this)}update(e,a){if(this.getStatus()==="removed")throw new N(A.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const r=this.changeID.getActorID(),o=Vs.create(this.changeID,this.clone.root,this.clone.presences.get(r)||{},a);try{const d=lb(o,this.clone.root.getObject());this.presences.has(r)||this.clone.presences.set(r,{}),this.isUpdating=!0,e(d,new ob(o,this.clone.presences.get(r)))}catch(d){throw this.clone=void 0,d}finally{this.isUpdating=!1}const c=this.getSchemaRules();if(!o.isPresenceOnlyChange()&&c.length){const d=C2(this.clone?.root.getObject(),c);if(!d.valid)throw this.clone=void 0,new N(A.ErrDocumentSchemaValidationFailed,`schema validation failed: ${d.errors?.map(m=>m.message).join(", ")}`)}const h=ST(this.clone?.root.getDocSize());if(!o.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<h)throw this.clone=void 0,new N(A.ErrDocumentSizeExceedsLimit,`document size exceeded: ${h} > ${this.maxSizeLimit}`);if(o.hasChange()){_.isEnabled(Bt.Trivial)&&_.trivial(`trying to update a local change: ${this.toJSON()}`);const d=o.toChange(),{opInfos:m,reverseOps:y}=d.execute(this.root,this.presences,Je.Local);for(const V of d.getOperations())V instanceof ci&&this.internalHistory.reconcileCreatedAt(V.getCreatedAt(),V.getValue().getCreatedAt());const v=o.getReversePresence();v&&y.push({type:"presence",value:v}),this.localChanges.push(d),y.length&&this.internalHistory.pushUndo(y),m.length&&this.internalHistory.clearRedo(),this.changeID=o.getNextID();const T=[];m.length&&T.push({type:"local-change",source:Je.Local,value:{message:d.getMessage()||"",operations:m,actor:r,clientSeq:d.getID().getClientSeq(),serverSeq:d.getID().getServerSeq()},rawChange:this.isEnableDevtools()?d.toStruct():void 0}),d.hasPresenceChange()&&T.push({type:"presence-changed",source:Je.Local,value:{clientID:r,presence:this.getPresence(r)}}),this.publish(T),_.isEnabled(Bt.Trivial)&&_.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(e,a,r,o){if(typeof e=="string"){if(typeof a!="function")throw new N(A.ErrInvalidArgument,"Second argument must be a callback function");if(e==="presence"){const d=a;return this.eventStream.subscribe(m=>{for(const y of m)y.type!=="initialized"&&y.type!=="watched"&&y.type!=="unwatched"&&y.type!=="presence-changed"||d(y)},r,o)}if(e==="my-presence"){const d=a;return this.eventStream.subscribe(m=>{for(const y of m)y.type!=="initialized"&&y.type!=="presence-changed"||y.type==="presence-changed"&&y.value.clientID!==this.changeID.getActorID()||d(y)},r,o)}if(e==="others"){const d=a;return this.eventStream.subscribe(m=>{for(const y of m)y.type!=="watched"&&y.type!=="unwatched"&&y.type!=="presence-changed"||y.value.clientID!==this.changeID.getActorID()&&d(y)},r,o)}if(e==="connection"){const d=a;return this.eventStream.subscribe(m=>{for(const y of m)y.type==="connection-changed"&&d(y)},r,o)}if(e==="status"){const d=a;return this.eventStream.subscribe(m=>{for(const y of m)y.type==="status-changed"&&d(y)},r,o)}if(e==="sync"){const d=a;return this.eventStream.subscribe(m=>{for(const y of m)y.type==="sync-status-changed"&&d(y)},r,o)}if(e==="auth-error"){const d=a;return this.eventStream.subscribe(m=>{for(const y of m)y.type==="auth-error"&&d(y)},r)}if(e==="all"){const d=a;return this.eventStream.subscribe(d,r,o)}const c=e,h=a;return this.eventStream.subscribe(d=>{for(const m of d){if(m.type!=="local-change"&&m.type!=="remote-change")continue;const y=[];for(const v of m.value.operations)this.isSameElementOrChildOf(v.path,c)&&y.push(v);y.length&&h({...m,value:{...m.value,operations:y}})}},r,o)}if(typeof e=="function"){const c=e,h=a,d=r;return this.eventStream.subscribe(m=>{for(const y of m)y.type!=="snapshot"&&y.type!=="local-change"&&y.type!=="remote-change"||c(y)},h,d)}throw new N(A.ErrInvalidArgument,`"${e}" is not a valid`)}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}applyChangePack(e){e.hasSnapshot()?this.applySnapshot(e.getCheckpoint().getServerSeq(),e.getVersionVector(),e.getSnapshot(),e.getCheckpoint().getClientSeq()):(this.applyChanges(e.getChanges(),Je.Remote),this.removePushedLocalChanges(e.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(e.getCheckpoint()),e.hasSnapshot()||this.garbageCollect(e.getVersionVector()),e.getIsRemoved()&&this.applyStatus("removed"),_.isEnabled(Bt.Trivial)&&_.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:An(this.presences)})}createChangePack(){const e=Array.from(this.localChanges),a=this.checkpoint.increaseClientSeq(e.length);return Ko.create(this.key,a,!1,e,this.getVersionVector())}setActor(e){for(const a of this.localChanges)a.setActor(e);this.changeID=this.changeID.setActor(e)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const e=Vs.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return lb(e,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(e){this.maxSizeLimit=e}getSchemaRules(){return this.schemaRules}setSchemaRules(e){this.schemaRules=e}garbageCollect(e){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(e),this.root.garbageCollect(e))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(e,a,r,o=-1){const{root:c,presences:h}=Ke.bytesToSnapshot(r);this.root=new Ws(c),this.presences=h,this.changeID=this.changeID.setClocks(a.maxLamport(),a),this.clone=void 0,this.removePushedLocalChanges(o),this.applyChanges(this.localChanges,Je.Local),this.clearHistory(),this.publish([{type:"snapshot",source:Je.Remote,value:{serverSeq:e.toString(),snapshot:this.isEnableDevtools()?Ke.bytesToHex(r):void 0,snapshotVector:Ke.versionVectorToHex(a)}}])}clearHistory(){this.internalHistory.clearRedo(),this.internalHistory.clearUndo()}applyChanges(e,a){_.isEnabled(Bt.Debug)&&_.debug(`trying to apply ${e.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),_.isEnabled(Bt.Trivial)&&_.trivial(e.map(r=>`${r.getID().toTestString()}	${r.toTestString()}`).join(`
`));for(const r of e)this.applyChange(r,a);_.isEnabled(Bt.Debug)&&_.debug(`after appling ${e.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(e,a){this.ensureClone(),e.execute(this.clone.root,this.clone.presences,a);const r=[],o=e.getID().getActorID();if(e.hasPresenceChange()&&this.onlineClients.has(o)){const d=e.getPresenceChange();switch(d.type){case Mn.Put:r.push(this.presences.has(o)?{type:"presence-changed",source:a,value:{clientID:o,presence:d.presence}}:{type:"watched",source:Je.Remote,value:{clientID:o,presence:d.presence}});break;case Mn.Clear:r.push({type:"unwatched",source:Je.Remote,value:{clientID:o,presence:this.getPresence(o)}}),this.removeOnlineClient(o);break}}const{opInfos:c,operations:h}=e.execute(this.root,this.presences,a);for(const d of h)if(d instanceof ki){const[m,y]=d.normalizePos(this.root);this.internalHistory.reconcileTextEdit(d.getParentCreatedAt(),m,y,d.getContent()?.length??0)}if(this.changeID=this.changeID.syncClocks(e.getID()),c.length){const d=this.isEnableDevtools()?e.toStruct():void 0;r.push(a===Je.Remote?{type:"remote-change",source:a,value:{actor:o,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:c},rawChange:d}:{type:"local-change",source:a,value:{actor:o,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:c},rawChange:d})}r.length&&this.publish(r)}applyWatchStream(e){if(e.body.case==="initialization"){const a=e.body.value.clientIds,r=new Set;for(const o of a)o!==this.changeID.getActorID()&&r.add(o);this.setOnlineClients(r),this.publish([{type:"initialized",source:Je.Local,value:this.getPresences()}]);return}if(e.body.case==="event"){const{type:a,publisher:r}=e.body.value,o=[];if(a===wo.DOCUMENT_WATCHED){if(this.onlineClients.has(r)&&this.hasPresence(r))return;this.addOnlineClient(r),this.hasPresence(r)&&o.push({type:"watched",source:Je.Remote,value:{clientID:r,presence:this.getPresence(r)}})}else if(a===wo.DOCUMENT_UNWATCHED){const c=this.getPresence(r);this.removeOnlineClient(r),c&&o.push({type:"unwatched",source:Je.Remote,value:{clientID:r,presence:c}})}o.length&&this.publish(o)}}applyStatus(e){this.status=e,e==="detached"&&this.setActor(mh),this.publish([{source:e==="removed"?Je.Remote:Je.Local,type:"status-changed",value:e==="attached"?{status:e,actorID:this.changeID.getActorID()}:{status:e}}])}applyDocEventsForReplay(e){for(const a of e){if(a.type==="status-changed"){this.applyStatus(a.value.status),a.value.status==="attached"&&this.setActor(a.value.actorID);continue}if(a.type==="snapshot"){const{snapshot:r,serverSeq:o,snapshotVector:c}=a.value;if(!r)continue;this.applySnapshot(BigInt(o),Ke.hexToVersionVector(c),Ke.hexToBytes(r));continue}if(a.type==="local-change"||a.type==="remote-change"){if(!a.rawChange)continue;const r=Rr.fromStruct(a.rawChange);this.applyChange(r,a.source)}if(a.type==="initialized"){const r=new Set;for(const{clientID:o,presence:c}of a.value)r.add(o),this.presences.set(o,c);this.setOnlineClients(r)}else if(a.type==="watched"){const{clientID:r,presence:o}=a.value;this.addOnlineClient(r),this.presences.set(r,o)}else if(a.type==="unwatched"){const{clientID:r}=a.value;this.removeOnlineClient(r),this.presences.delete(r)}else if(a.type==="presence-changed"){const{clientID:r,presence:o}=a.value;this.presences.set(r,o)}}}getValueByPath(e){if(!e.startsWith("$"))throw new N(A.ErrInvalidArgument,'path must start with "$"');const a=e.split(".");a.shift();let r=this.getRoot();for(const o of a)if(r=r[o],!r)return;return r}setOnlineClients(e){this.onlineClients=e}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(e){this.onlineClients.add(e)}removeOnlineClient(e){this.onlineClients.delete(e)}hasPresence(e){return this.presences.has(e)}getMyPresence(){if(this.status!=="attached")return{};const e=this.presences.get(this.changeID.getActorID());return e?An(e):{}}getOthersPresences(){const e=[],a=this.changeID.getActorID();for(const r of this.onlineClients)r!==a&&this.presences.has(r)&&e.push({clientID:r,presence:An(this.presences.get(r))});return e}getPresence(e){if(e===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(e))return;const a=this.presences.get(e);return a?An(a):void 0}getPresences(){const e=[];e.push({clientID:this.changeID.getActorID(),presence:An(this.getMyPresence())});for(const a of this.onlineClients)this.presences.has(a)&&e.push({clientID:a,presence:An(this.presences.get(a))});return e}getPresenceForTest(e){const a=this.presences.get(e);return a?An(a):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const e=this.getChangeID().getActorID();return this.getPresences().filter(a=>a.clientID!==e).sort((a,r)=>a.clientID>r.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(e,a){if(a===e)return!0;const r=e.split(".");return a.split(".").every((o,c)=>o===r[c])}removePushedLocalChanges(e){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>e);)this.localChanges.shift()}executeUndoRedo(e){if(this.isUpdating)throw new N(A.ErrRefused,`${e?"Undo":"Redo"} is not allowed during an update`);const a=e?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!a)throw new N(A.ErrRefused,`There is no operation to be ${e?"undone":"redone"}`);this.ensureClone();const r=Vs.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const v of a){if(!(v instanceof Cn)){new ob(r,An(this.clone.presences.get(this.changeID.getActorID()))).set(v.value,{addToHistory:!0});continue}const T=r.issueTimeTicket();if(v.setExecutedAt(T),v instanceof ci){const V=v.getCreatedAt();v.getValue().setCreatedAt(T),this.internalHistory.reconcileCreatedAt(V,T)}else if(v instanceof Ji){const V=v.getValue().getCreatedAt();v.getValue().setCreatedAt(T),this.internalHistory.reconcileCreatedAt(V,T)}r.push(v)}const o=r.toChange();o.execute(this.clone.root,this.clone.presences,Je.UndoRedo);const{opInfos:c,reverseOps:h}=o.execute(this.root,this.presences,Je.UndoRedo),d=r.getReversePresence();if(d&&h.push({type:"presence",value:d}),h.length&&(e?this.internalHistory.pushRedo(h):this.internalHistory.pushUndo(h)),!o.hasPresenceChange()&&!c.length)return;this.localChanges.push(o),this.changeID=r.getNextID();const m=this.changeID.getActorID(),y=[];c.length&&y.push({type:"local-change",source:Je.UndoRedo,value:{message:o.getMessage()||"",operations:c,actor:m,clientSeq:o.getID().getClientSeq(),serverSeq:o.getID().getServerSeq()},rawChange:this.isEnableDevtools()?o.toStruct():void 0}),o.hasPresenceChange()&&y.push({type:"presence-changed",source:Je.UndoRedo,value:{clientID:m,presence:this.getPresence(m)}}),this.publish(y)}}class fb{resource;resourceID;syncMode;changeEventReceived;lastHeartbeatTime;reconnectStreamDelay;cancelled;watchStream;watchLoopTimerID;watchAbortController;constructor(e,a,r,o){this.reconnectStreamDelay=e,this.resource=a,this.resourceID=r,this.syncMode=o,this.changeEventReceived=o!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(e){this.syncMode=e}needRealtimeSync(){return this.syncMode===Cs.RealtimeSyncOff?!1:this.syncMode===Cs.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==Cs.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(e){return this.resource instanceof Gi?this.needRealtimeSync():this.syncMode===Cs.Manual?!1:Date.now()-this.lastHeartbeatTime>=e}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(e){const a=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await e(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(a,this.reconnectStreamDelay))})}catch{}};await a()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function Z2(i,e){let a=e;return{authInterceptor:c=>async h=>(i&&h.header.set("x-api-key",i),a&&h.header.set("authorization",a),await c(h)),setToken:c=>{a=c}}}const Y2="@yorkie-js/sdk",G2="0.6.47",hb={name:Y2,version:G2};function z2(i){return e=>async a=>(i?a.header.set("x-yorkie-user-agent",i):a.header.set("x-yorkie-user-agent",hb.name+"/"+hb.version),await e(a))}const _2=i=>{try{if(JSON.stringify(i)===void 0)return!1}catch{return!1}return!0};var Is=(i=>(i.Detached="detached",i.Attached="attached",i.Removed="removed",i))(Is||{}),hr=(i=>(i.PresenceChanged="presence-changed",i.Initialized="initialized",i.Broadcast="broadcast",i.LocalBroadcast="local-broadcast",i.AuthError="auth-error",i))(hr||{});const Ts=".";class Yi{key;status;actorID;sessionID;sessionCount;seq;eventStream;eventStreamObserver;constructor(e){this.validateChannelKey(e),this.key=e,this.status="detached",this.sessionCount=0,this.seq=0,this.eventStream=jv(a=>this.eventStreamObserver=a)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(Ts)[0]}getStatus(){return this.status}applyStatus(e){this.status=e}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(e){this.actorID=e}getSessionID(){return this.sessionID}setSessionID(e){this.sessionID=e}getSessionCount(){return this.sessionCount}updateSessionCount(e,a){return a===0||a>this.seq?(this.sessionCount=e,this.seq=a,!0):!1}hasLocalChanges(){return!1}subscribe(e,a){if(typeof e=="function")return this.eventStream.subscribe(e);const r=e,o=a;if(!o)throw new Error("callback is required when subscribing to specific event type or topic");if(r==="broadcast")return this.eventStream.subscribe(h=>{h.type==="broadcast"&&o(h)});if(r==="local-broadcast")return this.eventStream.subscribe(h=>{h.type==="local-broadcast"&&o(h)});if(r==="auth-error")return this.eventStream.subscribe(h=>{h.type==="auth-error"&&o(h)});if(r==="presence")return this.eventStream.subscribe(h=>{(h.type==="presence-changed"||h.type==="initialized")&&o(h)});if(r==="all")return this.eventStream.subscribe(o);const c=r;return this.eventStream.subscribe(h=>{h.type==="broadcast"&&h.topic===c&&o(h)})}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}broadcast(e,a,r){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:e,payload:a,options:r})}validateChannelKey(e){if(e==="")throw new Error("channel key must not be empty");if(e.includes(" "))throw new Error("channel key must not contain a whitespace");if(e.startsWith(Ts))throw new Error("channel key must not start with a period");if(e.endsWith(Ts))throw new Error("channel key must not end with a period");if(e.includes(`${Ts}${Ts}`))throw new Error("channel key path must not empty")}}function db(i,e,a){const{stream:r,ac:o,isInit:c,onResponse:h,onStreamEnd:d,onError:m,onDisconnect:y,shouldIgnoreError:v}=i;return new Promise((T,V)=>{(async()=>{try{let B=!1;for await(const G of r)h(G),!B&&c(G)&&(B=!0,T([r,o]));d(),y()}catch(B){if(v&&v(B))return;m(B),await e(B)?y():a(),V(B)}})()})}var Cs=(i=>(i.Manual="manual",i.Realtime="realtime",i.RealtimePushOnly="realtime-pushonly",i.RealtimeSyncOff="realtime-syncoff",i))(Cs||{});const or={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},Cf={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class Qv{id;key;metadata;status;attachmentMap;apiKey;authTokenInjector;conditions;syncLoopDuration;reconnectStreamDelay;retrySyncLoopDelay;channelHeartbeatInterval;rpcClient;setAuthToken;taskQueue;processing=!1;keepalive=!1;constructor(e){e=e||or;const a=e.rpcAddr||or.rpcAddr;this.key=e.key||Jv(),this.metadata=e.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=e.apiKey||"",this.authTokenInjector=e.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=e.syncLoopDuration??or.syncLoopDuration,this.reconnectStreamDelay=e.reconnectStreamDelay??or.reconnectStreamDelay,this.retrySyncLoopDelay=e.retrySyncLoopDelay??or.retrySyncLoopDelay,this.channelHeartbeatInterval=e.channelHeartbeatInterval??or.channelHeartbeatInterval;const{authInterceptor:r,setToken:o}=Z2(this.apiKey);this.setAuthToken=o,this.rpcClient=uN(dT,UN({baseUrl:a,interceptors:[r,z2(e?.userAgent)],fetch:(c,h)=>fetch(c,{...h,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const e=await this.authTokenInjector();this.setAuthToken(e)}return this.enqueueTask(async()=>{try{const e=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=e.clientId,this.status="activated",this.runSyncLoop(),_.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(e){throw _.error(`[AC] c:"${this.getKey()}" err :`,e),await this.handleConnectError(e),e}})}deactivate(e={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const a=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:e.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),_.info(`[DC] c"${this.getKey()}" deactivated`)}catch(r){throw _.error(`[DC] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}};if(e.keepalive){this.keepalive=!0;const r=a();return this.keepalive=!1,r}return this.enqueueTask(a)}has(e){return this.attachmentMap.has(e)}attach(e,a){return e instanceof Yi?this.attachChannel(e,a):this.attachDocument(e,a)}attachDocument(e,a={}){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==Zi.Detached)throw new N(A.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id),e.update((o,c)=>c.set(a.initialPresence||{}));const r=a.syncMode??"realtime";return this.enqueueTask(async()=>{try{const o=await this.rpcClient.attachDocument({clientId:this.id,changePack:Ke.toChangePack(e.createChangePack()),schemaKey:a.schema},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});(o.maxSizePerDocument??0)>0&&e.setMaxSizePerDocument(o.maxSizePerDocument),o.schemaRules.length>0&&e.setSchemaRules(Ke.fromSchemaRules(o.schemaRules));const h=Ke.fromChangePack(o.changePack);if(e.applyChangePack(h),e.getStatus()===Zi.Removed)return e;e.applyStatus(Zi.Attached),this.attachmentMap.set(e.getKey(),new fb(this.reconnectStreamDelay,e,o.documentId,r)),r!=="manual"&&await this.runWatchLoop(e.getKey()),_.info(`[AD] c:"${this.getKey()}" attaches d:"${e.getKey()}"`);const d=e.getRootObject();if(a.initialRoot){const m=a.initialRoot;e.update(y=>{for(const[v,T]of Object.entries(m))if(!d.has(v)){const V=v;y[V]=T}})}return e}catch(o){throw _.error(`[AD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}detach(e,a){return e instanceof Yi?this.detachChannel(e):this.detachDocument(e,a)}detachDocument(e,a={keepalive:!1}){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(e.getKey());if(!r)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);e.update((c,h)=>h.clear());const o=async()=>{try{const c=await this.rpcClient.detachDocument({clientId:this.id,documentId:r.resourceID,changePack:Ke.toChangePack(e.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),h=Ke.fromChangePack(c.changePack);return e.applyChangePack(h),e.getStatus()!==Zi.Removed&&e.applyStatus(Zi.Detached),this.detachInternal(e.getKey()),_.info(`[DD] c:"${this.getKey()}" detaches d:"${e.getKey()}"`),e}catch(c){throw _.error(`[DD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};if(a.keepalive){this.keepalive=!0;const c=o();return this.keepalive=!1,c}return this.enqueueTask(o)}async attachChannel(e,a={}){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==Is.Detached)throw new N(A.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id);const r=async()=>{try{const o=await this.rpcClient.attachChannel({clientId:this.id,channelKey:e.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});e.setSessionID(o.sessionId),e.updateSessionCount(Number(o.sessionCount),0),e.applyStatus(Is.Attached);const c=a.isRealtime!==!1?"realtime":"manual",h=new fb(this.reconnectStreamDelay,e,o.sessionId,c);return e.subscribe("local-broadcast",d=>{const{topic:m,payload:y,options:v}=d;this.broadcast(e.getKey(),m,y,v).catch(T=>{v?.error&&v.error(T),_.error(`[BC] c:"${this.getKey()}" failed: ${T}`)})}),this.attachmentMap.set(e.getKey(),h),c==="realtime"&&await this.runWatchLoop(e.getKey()),_.info(`[AP] c:"${this.getKey()}" attaches p:"${e.getKey()}" mode:${c} count:${e.getSessionCount()}`),e}catch(o){throw _.error(`[AP] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}};return this.enqueueTask(r)}async detachChannel(e){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(e.getKey()))throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const a=async()=>{try{const r=await this.rpcClient.detachChannel({clientId:this.id,channelKey:e.getKey(),sessionId:e.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});return e.updateSessionCount(Number(r.sessionCount),0),e.applyStatus(Is.Detached),this.detachInternal(e.getKey()),_.info(`[DP] c:"${this.getKey()}" detaches p:"${e.getKey()}" count:${e.getSessionCount()}`),e}catch(r){throw _.error(`[DP] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}};return this.enqueueTask(a)}async changeSyncMode(e,a){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(e.getKey());if(!r)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const o=r.syncMode;return o===a?e:(r.changeSyncMode(a),a==="manual"?(r.cancelWatchStream(),e):(a==="realtime"&&(r.changeEventReceived=!0),o==="manual"&&await this.runWatchLoop(e.getKey()),e))}sync(e){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);if(e instanceof Yi){const a=this.attachmentMap.get(e.getKey());if(!a)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(a).catch(async r=>{throw _.error(`[SY] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}))}if(e instanceof Gi){const a=this.attachmentMap.get(e.getKey());if(!a)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(a,"realtime").catch(async r=>{throw _.error(`[SY] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}))}return this.enqueueTask(async()=>{const a=[];for(const[,r]of this.attachmentMap)r.syncMode!==void 0&&r.resource instanceof Gi&&a.push(this.syncInternal(r,r.syncMode));return Promise.all(a).catch(async r=>{throw _.error(`[SY] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r})})}remove(e){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);e.setActor(this.id);const r=Ke.toChangePack(e.createChangePack());return r.isRemoved=!0,this.enqueueTask(async()=>{try{const o=await this.rpcClient.removeDocument({clientId:this.id,documentId:a.resourceID,changePack:r},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),c=Ke.fromChangePack(o.changePack);e.applyChangePack(c),this.detachInternal(e.getKey()),_.info(`[RD] c:"${this.getKey()}" removes d:"${e.getKey()}"`)}catch(o){throw _.error(`[RD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(e){return this.conditions[e]}async createRevision(e,a,r){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const o=this.attachmentMap.get(e.getKey());if(!o)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const c=async()=>{try{const h=await this.rpcClient.createRevision({clientId:this.id,documentId:o.resourceID,label:a,description:r||""},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!h.revision)throw new N(A.ErrInvalidArgument,"revision is not returned");return _.info(`[CR] c:"${this.getKey()}" creates revision d:"${e.getKey()}" l:"${a}"`),Ke.toRevisionSummary(h.revision)}catch(h){throw _.error(`[CR] c:"${this.getKey()}" err :`,h),await this.handleConnectError(h),h}};return this.enqueueTask(c)}async listRevisions(e,a){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(e.getKey());if(!r)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{const c=await this.rpcClient.listRevisions({clientId:this.id,documentId:r.resourceID,pageSize:a?.pageSize||10,offset:a?.offset||0,isForward:a?.isForward??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});return _.info(`[LR] c:"${this.getKey()}" lists revisions d:"${e.getKey()}" count:${c.revisions.length}`),c.revisions.map(Ke.toRevisionSummary)}catch(c){throw _.error(`[LR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async getRevision(e,a){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(e.getKey());if(!r)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{const c=await this.rpcClient.getRevision({clientId:this.id,documentId:r.resourceID,revisionId:a},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!c.revision)throw new N(A.ErrInvalidArgument,"revision is not returned");return _.info(`[GR] c:"${this.getKey()}" gets revision d:"${e.getKey()}" r:"${a}"`),Ke.toRevisionSummary(c.revision)}catch(c){throw _.error(`[GR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async restoreRevision(e,a){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(e.getKey());if(!r)throw new N(A.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,documentId:r.resourceID,revisionId:a},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),_.info(`[RR] c:"${this.getKey()}" restores revision d:"${e.getKey()}" r:"${a}"`)}catch(c){throw _.error(`[RR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async broadcast(e,a,r,o){if(!this.isActive())throw new N(A.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(e);if(!c)throw new N(A.ErrNotAttached,`${e} is not attached`);if(!_2(r))throw new N(A.ErrInvalidArgument,"payload is not serializable");const h=c.resource,d=o?.maxRetries??Cf.maxRetries,m=Cf.maxBackoff;let y=0;const v=V=>Math.min(Cf.initialRetryInterval*2**V,m),T=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:e,topic:a,payload:new TextEncoder().encode(JSON.stringify(r))},{headers:{"x-shard-key":`${this.apiKey}/${h.getFirstKeyPath()}`}}),_.info(`[BC] c:"${this.getKey()}" broadcasts p:"${e}" t:"${a}"`)}catch(V){if(_.error(`[BC] c:"${this.getKey()}" err:`,V),await this.handleConnectError(V))if(Rf(V,A.ErrUnauthenticated)&&c.resource instanceof Yi&&c.resource.publish({type:hr.AuthError,reason:Rs(V).reason||"unauthenticated",method:"Broadcast"}),y<d)y++,setTimeout(()=>T(),v(y-1)),_.info(`[BC] c:"${this.getKey()}" retry attempt ${y}/${d}`);else throw _.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),V}});return T()}runSyncLoop(){const e=async()=>{if(!this.isActive()){_.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const a=[];for(const[,r]of this.attachmentMap)r.needSync(this.channelHeartbeatInterval)&&(r.changeEventReceived!==void 0&&(r.changeEventReceived=!1),a.push(this.syncInternal(r,r.syncMode).catch(o=>{throw Rf(o,A.ErrUnauthenticated)&&r.resource.publish([{type:vt.AuthError,value:{reason:Rs(o).reason,method:"PushPull"}}]),o})));await Promise.all(a),setTimeout(e,this.syncLoopDuration)})}catch(a){_.error(`[SL] c:"${this.getKey()}" sync failed:`,a),await this.handleConnectError(a)?setTimeout(e,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};_.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,e()}async runWatchLoop(e){const a=this.attachmentMap.get(e);if(!a)throw new N(A.ErrNotAttached,`${e} is not attached`);return this.conditions.WatchLoop=!0,a.runWatchLoop(r=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new N(A.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(e))return this.conditions.WatchLoop=!1,Promise.reject(new N(A.ErrNotAttached,`${e} is not attached`));const o=new AbortController;return a.resource instanceof Gi?this.createDocumentWatchStream(a,e,o,r):a.resource instanceof Yi?this.createChannelWatchStream(a,e,o,r):Promise.reject(new N(A.ErrClientNotActivated,`Unknown resource type for ${e}`))})}createDocumentWatchStream(e,a,r,o){const c=this.rpcClient.watchDocument({clientId:this.id,documentId:e.resourceID},{headers:{"x-shard-key":`${this.apiKey}/${a}`},signal:r.signal});e.resource.publish([{type:vt.ConnectionChanged,value:Uo.Connected}]),_.info(`[WD] c:"${this.getKey()}" watches d:"${a}"`),e.changeEventReceived!==void 0&&(e.changeEventReceived=!0);const h=()=>{e.resource.resetOnlineClients(),e.resource.publish([{type:vt.Initialized,source:Je.Local,value:e.resource.getPresences()}]),e.resource.publish([{type:vt.ConnectionChanged,value:Uo.Disconnected}])};return db({stream:c,ac:r,isInit:d=>d.body.case==="initialization",onResponse:d=>this.handleWatchDocumentResponse(e,d),onStreamEnd:()=>{h(),_.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`)},onError:d=>{h(),_.debug(`[WD] c:"${this.getKey()}" unwatches`),Rf(d,A.ErrUnauthenticated)&&e.resource.publish([{type:vt.AuthError,value:{reason:Rs(d).reason,method:"WatchDocument"}}])},onDisconnect:o},d=>this.handleConnectError(d),()=>{this.conditions.WatchLoop=!1})}createChannelWatchStream(e,a,r,o){const c=this.rpcClient.watchChannel({clientId:this.id,channelKey:a},{headers:{"x-shard-key":`${this.apiKey}/${e.resource.getFirstKeyPath()}`},signal:r.signal});return _.info(`[WP] c:"${this.getKey()}" watches p:"${a}"`),db({stream:c,ac:r,isInit:()=>!0,onResponse:h=>this.handleWatchChannelResponse(e,h),onStreamEnd:()=>{_.debug(`[WP] c:"${this.getKey()}" p:"${a}" stream ended`)},onError:h=>{_.debug(`[WP] c:"${this.getKey()}" p:"${a}" err:`,h)},onDisconnect:o,shouldIgnoreError:h=>h instanceof Error&&h.name==="AbortError"?(_.debug(`[WP] c:"${this.getKey()}" p:"${a}" stream aborted`),!0):!1},h=>this.handleConnectError(h),()=>{this.conditions.WatchLoop=!1})}handleWatchChannelResponse(e,a){const r=e.resource;if(a.body.case==="initialized"){const{sessionCount:o,seq:c}=a.body.value;r.updateSessionCount(Number(o),Number(c))&&r.publish({type:hr.Initialized,count:Number(o)})}else if(a.body.case==="event"){const o=a.body.value;if(o.type===bv.BROADCAST){const c=new TextDecoder;try{const h=JSON.parse(c.decode(o.payload));r.publish({type:hr.Broadcast,clientID:o.publisher,topic:o.topic,payload:h})}catch(h){_.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,h)}return}r.updateSessionCount(Number(o.sessionCount),Number(o.seq))&&r.publish({type:hr.PresenceChanged,count:Number(o.sessionCount)})}}handleWatchDocumentResponse(e,a){if(a.body.case==="event"&&a.body.value.type===wo.DOCUMENT_CHANGED){e.changeEventReceived!==void 0&&(e.changeEventReceived=!0);return}e.resource.applyWatchStream(a)}deactivateInternal(){this.status="deactivated";for(const[e,a]of this.attachmentMap)this.detachInternal(e),a.resource instanceof Gi?a.resource.applyStatus(Zi.Detached):a.resource instanceof Yi&&a.resource.applyStatus(Is.Detached)}detachInternal(e){const a=this.attachmentMap.get(e);a&&(a.cancelWatchStream(),a.resource instanceof Gi&&a.resource.resetOnlineClients(),this.attachmentMap.delete(e))}async syncInternal(e,a){const{resource:r}=e;if(r instanceof Yi){try{const d=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:r.getKey(),sessionId:r.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${r.getFirstKeyPath()}`}});r.updateSessionCount(Number(d.sessionCount),0),e.updateHeartbeatTime(),_.debug(`[RP] c:"${this.getKey()}" refreshes p:"${r.getKey()}" mode:${e.syncMode}`)}catch(d){throw _.error(`[RP] c:"${this.getKey()}" err :`,d),d}return r}const o=r,{resourceID:c}=e,h=o.createChangePack();try{const d=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:c,changePack:Ke.toChangePack(h),pushOnly:a==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}}),m=Ke.fromChangePack(d.changePack);if(m.hasChanges()&&(e.syncMode==="realtime-pushonly"||e.syncMode==="realtime-syncoff"))return o;o.applyChangePack(m),e.resource.publish([{type:vt.SyncStatusChanged,value:_f.Synced}]),o.getStatus()===Zi.Removed&&this.detachInternal(o.getKey());const y=o.getKey(),v=m.getChangeSize();return _.info(`[PP] c:"${this.getKey()}" sync d:"${y}", push:${h.getChangeSize()} pull:${v} cp:${m.getCheckpoint().toTestString()}`),o}catch(d){throw o.publish([{type:vt.SyncStatusChanged,value:_f.SyncFailed}]),_.error(`[PP] c:"${this.getKey()}" err :`,d),d}}async handleConnectError(e){if(!(e instanceof xe))return!1;if(e.code===fe.Canceled||e.code===fe.Unknown||e.code===fe.ResourceExhausted||e.code===fe.Unavailable)return!0;if(ur(e)===A.ErrUnauthenticated){if(this.authTokenInjector){const a=await this.authTokenInjector(Rs(e).reason);this.setAuthToken(a)}return!0}return ur(e)===A.ErrTooManySubscribers?(_.error(`[WD] c:"${this.getKey()}" err :`,e.rawMessage),!0):(ur(e)===A.ErrTooManyAttachments||(ur(e)===A.ErrClientNotActivated||ur(e)===A.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(e){return new Promise((a,r)=>{this.taskQueue.push(()=>e().then(a).catch(r)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{_.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}function $v(i){return typeof i=="object"&&i!==null&&i.type==="Text"&&Array.isArray(i.nodes)}function Pv(i){return typeof i=="object"&&i!==null&&i.type==="Tree"&&typeof i.root=="object"}function qv(i){return typeof i=="object"&&i!==null&&i.type==="Int"&&typeof i.value=="number"}function e0(i){return typeof i=="object"&&i!==null&&i.type==="Long"&&typeof i.value=="number"}function t0(i){return typeof i=="object"&&i!==null&&i.type==="Date"&&typeof i.value=="string"}function n0(i){return typeof i=="object"&&i!==null&&i.type==="BinData"&&typeof i.value=="string"}function i0(i){return typeof i=="object"&&i!==null&&i.type==="Counter"&&typeof i.value=="object"}function K2(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)&&!$v(i)&&!Pv(i)&&!qv(i)&&!e0(i)&&!t0(i)&&!n0(i)&&!i0(i)}function W2(i){try{const e=X2(i),a=JSON.parse(e);return Ro(a)}catch(e){throw new N(A.ErrInvalidArgument,`Failed to parse YSON: ${e instanceof Error?e.message:String(e)}`)}}function X2(i){let e=i;return e=e.replace(/Counter\((Int|Long)\((-?\d+)\)\)/g,(a,r,o)=>`{"__yson_type":"Counter","__yson_data":{"__yson_type":"${r}","__yson_data":${o}}}`),e=e.replace(/Int\((-?\d+)\)/g,(a,r)=>`{"__yson_type":"Int","__yson_data":${r}}`),e=e.replace(/Long\((-?\d+)\)/g,(a,r)=>`{"__yson_type":"Long","__yson_data":${r}}`),e=e.replace(/Date\("([^"]*)"\)/g,(a,r)=>`{"__yson_type":"Date","__yson_data":"${r}"}`),e=e.replace(/BinData\("([^"]*)"\)/g,(a,r)=>`{"__yson_type":"BinData","__yson_data":"${r}"}`),e=e.replace(/Text\((\[(?:[^[\]]|\[(?:[^[\]]|\[[^[\]]*\])*\])*\])\)/g,(a,r)=>`{"__yson_type":"Text","__yson_data":${r}}`),e=e.replace(/Tree\((\{[^{}]*(?:\{[^{}]*(?:\{[^{}]*\})*[^{}]*\})*[^{}]*\})\)/g,(a,r)=>`{"__yson_type":"Tree","__yson_data":${r}}`),e}function Ro(i){if(i===null||typeof i!="object")return i;if(i.__yson_type==="Int"&&typeof i.__yson_data=="number")return{type:"Int",value:i.__yson_data};if(i.__yson_type==="Long"&&typeof i.__yson_data=="number")return{type:"Long",value:i.__yson_data};if(i.__yson_type==="Date"&&typeof i.__yson_data=="string")return{type:"Date",value:i.__yson_data};if(i.__yson_type==="BinData"&&typeof i.__yson_data=="string")return{type:"BinData",value:i.__yson_data};if(i.__yson_type==="Counter"&&typeof i.__yson_data=="object"){const a=Ro(i.__yson_data);if(typeof a=="object"&&a!==null&&"type"in a&&(a.type==="Int"||a.type==="Long"))return{type:"Counter",value:a};throw new N(A.ErrInvalidArgument,"Counter must contain Int or Long")}if(i.__yson_type==="Text"&&Array.isArray(i.__yson_data))return{type:"Text",nodes:i.__yson_data.map(a=>k2(a))};if(i.__yson_type==="Tree"&&typeof i.__yson_data=="object")return{type:"Tree",root:a0(i.__yson_data)};if(Array.isArray(i))return i.map(a=>Ro(a));const e={};for(const[a,r]of Object.entries(i))e[a]=Ro(r);return e}function k2(i){if(typeof i!="object"||i===null||typeof i.val!="string")throw new N(A.ErrInvalidArgument,"invalid text node format");const e={val:i.val};return i.attrs&&typeof i.attrs=="object"&&(e.attrs=i.attrs),e}function a0(i){if(typeof i!="object"||i===null||typeof i.type!="string")throw new N(A.ErrInvalidArgument,"invalid tree node format");const e={type:i.type};return i.type==="text"&&typeof i.value=="string"?(e.value=i.value,e):(i.attrs&&typeof i.attrs=="object"&&(e.attrs=i.attrs),Array.isArray(i.children)&&(e.children=i.children.map(a=>a0(a))),e)}function J2(i){return i.nodes.map(e=>e.val).join("")}function j2(i){return r0(i.root)}function r0(i){const e=i.attrs?Object.entries(i.attrs).map(([r,o])=>` ${r}="${gb(o)}"`).join(""):"";if(i.type==="text"&&i.value!==void 0)return`<${i.type}${e}>${gb(i.value)}</${i.type}>`;if(!i.children||i.children.length===0)return`<${i.type}${e} />`;const a=i.children.map(r=>r0(r)).join("");return`<${i.type}${e}>${a}</${i.type}>`}function gb(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const F2=Object.freeze(Object.defineProperty({__proto__:null,isBinData:n0,isCounter:i0,isDate:t0,isInt:qv,isLong:e0,isObject:K2,isText:$v,isTree:Pv,parse:W2,textToString:J2,treeToXML:j2},Symbol.toStringTag,{value:"Module"}));Yn.Int,Yn.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:Qv,Document:Gi,Primitive:je,Text:Ch,Counter:Dh,Tree:Vh,Channel:Yi,ChannelEventType:hr,YSON:F2,LogLevel:Bt,setLogLevel:b2,IntType:Yn.Int,LongType:Yn.Long});const H2="@yorkie-js/react",Q2="0.6.47",mb={name:H2,version:Q2};We.createContext({client:void 0,loading:!0,error:void 0});function $2(i){const[e,a]=We.useState(void 0),[r,o]=We.useState(!0),[c,h]=We.useState(void 0),[d,m]=We.useState(!1);return We.useEffect(()=>{m(!0)},[]),We.useEffect(()=>{o(!0),h(void 0);async function y(){if(d)try{const v=new Qv(i);await v.activate(),a(v)}catch(v){h(v instanceof Error?v:new Error("Failed to activate client"))}finally{o(!1)}}return y(),()=>{e?.isActive()&&e.deactivate({keepalive:!0})}},[i.apiKey,i.rpcAddr,d]),{client:e,loading:r,error:c}}function P2(i){const e=new Set;let a=i;const r=()=>{e.forEach(m=>m(a))};return{subscribe:m=>(e.add(m),()=>e.delete(m)),getSnapshot:()=>a,setState:m=>{const y=a;a=typeof m=="function"?m(y):m,y!==a&&r()},destroy:()=>{e.clear()}}}const q2=i=>P2(i);function eR(i,e,a=Object.is){const r=We.useRef(e),o=We.useRef(a),c=We.useRef(void 0);r.current=e,o.current=a;const h=()=>{const d=i.getSnapshot(),m=r.current?r.current(d):d;return c.current!==void 0&&o.current(c.current,m)?c.current:(c.current=m,m)};return We.useSyncExternalStore(i.subscribe,h,h)}function tR(i,e,a,r,o,c,h,d){const m=We.useRef(o),y=We.useRef(c),[v,T]=We.useState(!1);We.useEffect(()=>{T(!0)},[]),We.useEffect(()=>{if(a){d.setState(G=>({...G,loading:!1,error:a}));return}if(!i||e||!v){d.setState(G=>({...G,loading:!0}));return}d.setState(G=>({...G,loading:!0,error:void 0}));const V=new Gi(r,{enableDevtools:h}),I=[];I.push(V.subscribe(()=>{d.setState(G=>({...G,root:V.getRoot()}))})),I.push(V.subscribe("presence",()=>{d.setState(G=>({...G,presences:V.getPresences()}))})),I.push(V.subscribe("connection",G=>{d.setState(j=>({...j,connection:G.value}))}));async function B(){try{await i?.attach(V,{initialRoot:m.current,initialPresence:y.current});const G=j=>{try{V.update(j)}catch(q){d.setState(Ee=>({...Ee,error:q instanceof Error?q:new Error("Failed to update document")}))}};d.setState(j=>({...j,doc:V,root:V.getRoot(),presences:V.getPresences(),update:G}))}catch(G){d.setState(j=>({...j,error:G instanceof Error?G:new Error("Failed to attach document")}))}finally{d.setState(G=>({...G,loading:!1}))}}return B(),()=>{i&&i.has(r)&&i.detach(V);for(const G of I)G()}},[i,e,a,r,d,v])}We.createContext(void 0);function nR(i,e,a){const r=We.useRef(void 0);r.current||(r.current=q2({doc:void 0,root:a?.initialRoot??{},presences:[],connection:Uo.Disconnected,update:()=>{},loading:!0,error:void 0}));const o=r.current,c=We.useMemo(()=>({apiKey:i,userAgent:mb.name+"/"+mb.version,...a}),[i,a]),{client:h,loading:d,error:m}=$2(c);tR(h,d,m,e,a?.initialRoot??{},a?.initialPresence??{},a?.enableDevtools??!1,o);const y=eR(o);return{root:y.root,presences:y.presences,connection:y.connection,update:y.update,loading:y.loading,error:y.error}}We.createContext(void 0);function iR(i){const a=new URLSearchParams(window.location.search).get("key")||`react-todomvc-${new Date().toISOString().substring(0,10).replace(/-/g,"")}`,{root:r,update:o,loading:c,error:h}=nR("D6sd9E5ehtXBssmeRZ4QQP",a,{initialRoot:i,rpcAddr:"https://api.yorkie.dev",enableDevtools:!0}),d=We.useCallback(m=>{o(y=>{jA(y,m)})},[o]);return{root:r,dispatch:d,loading:c,error:h}}const aR={todos:[{id:crypto.randomUUID(),text:"Yorkie JS SDK",completed:!1},{id:crypto.randomUUID(),text:"Garbage collection",completed:!1},{id:crypto.randomUUID(),text:"RichText datatype",completed:!1}]};function rR(){const{root:i,dispatch:e,loading:a,error:r}=iR(aR);return a?Ce.jsx("div",{children:"Loading..."}):r?Ce.jsxs("div",{children:["Error: ",r.message]}):Ce.jsxs("div",{className:"App",children:[Ce.jsx(zA,{dispatch:e}),Ce.jsx(JA,{todos:i.todos,dispatch:e})]})}GA.createRoot(document.getElementById("root")).render(Ce.jsx(We.StrictMode,{children:Ce.jsx(rR,{})}));
