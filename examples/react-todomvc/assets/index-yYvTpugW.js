var IS=Object.defineProperty;var zS=(e,t,n)=>t in e?IS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var l=(e,t,n)=>zS(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function Ey(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ny={exports:{}},Xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MS=Symbol.for("react.transitional.element"),US=Symbol.for("react.fragment");function xy(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:MS,type:e,key:i,ref:t!==void 0?t:null,props:n}}Xu.Fragment=US;Xu.jsx=xy;Xu.jsxs=xy;Ny.exports=Xu;var _=Ny.exports,Dy={exports:{}},Zu={},Oy={exports:{}},Cy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,Y){var G=I.length;I.push(Y);t:for(;0<G;){var At=G-1>>>1,It=I[At];if(0<r(It,Y))I[At]=Y,I[G]=It,G=At;else break t}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var Y=I[0],G=I.pop();if(G!==Y){I[0]=G;t:for(var At=0,It=I.length,Wo=It>>>1;At<Wo;){var tl=2*(At+1)-1,bc=I[tl],Vr=tl+1,el=I[Vr];if(0>r(bc,G))Vr<It&&0>r(el,bc)?(I[At]=el,I[Vr]=G,At=Vr):(I[At]=bc,I[tl]=G,At=tl);else if(Vr<It&&0>r(el,G))I[At]=el,I[Vr]=G,At=Vr;else break t}}return Y}function r(I,Y){var G=I.sortIndex-Y.sortIndex;return G!==0?G:I.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var u=[],c=[],h=1,m=null,g=3,d=!1,b=!1,A=!1,x=!1,p=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function w(I){for(var Y=n(c);Y!==null;){if(Y.callback===null)i(c);else if(Y.startTime<=I)i(c),Y.sortIndex=Y.expirationTime,t(u,Y);else break;Y=n(c)}}function O(I){if(A=!1,w(I),!b)if(n(u)!==null)b=!0,R||(R=!0,rn());else{var Y=n(c);Y!==null&&Tc(O,Y.startTime-I)}}var R=!1,C=-1,B=5,P=-1;function J(){return x?!0:!(e.unstable_now()-P<B)}function Yt(){if(x=!1,R){var I=e.unstable_now();P=I;var Y=!0;try{t:{b=!1,A&&(A=!1,y(C),C=-1),d=!0;var G=g;try{e:{for(w(I),m=n(u);m!==null&&!(m.expirationTime>I&&J());){var At=m.callback;if(typeof At=="function"){m.callback=null,g=m.priorityLevel;var It=At(m.expirationTime<=I);if(I=e.unstable_now(),typeof It=="function"){m.callback=It,w(I),Y=!0;break e}m===n(u)&&i(u),w(I)}else i(u);m=n(u)}if(m!==null)Y=!0;else{var Wo=n(c);Wo!==null&&Tc(O,Wo.startTime-I),Y=!1}}break t}finally{m=null,g=G,d=!1}Y=void 0}}finally{Y?rn():R=!1}}}var rn;if(typeof v=="function")rn=function(){v(Yt)};else if(typeof MessageChannel<"u"){var ng=new MessageChannel,BS=ng.port2;ng.port1.onmessage=Yt,rn=function(){BS.postMessage(null)}}else rn=function(){p(Yt,0)};function Tc(I,Y){C=p(function(){I(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(I){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var G=g;g=Y;try{return I()}finally{g=G}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(I,Y){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var G=g;g=I;try{return Y()}finally{g=G}},e.unstable_scheduleCallback=function(I,Y,G){var At=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?At+G:At):G=At,I){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=G+It,I={id:h++,callback:Y,priorityLevel:I,startTime:G,expirationTime:It,sortIndex:-1},G>At?(I.sortIndex=G,t(c,I),n(u)===null&&I===n(c)&&(A?(y(C),C=-1):A=!0,Tc(O,G-At))):(I.sortIndex=It,t(u,I),b||d||(b=!0,R||(R=!0,rn()))),I},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(I){var Y=g;return function(){var G=g;g=Y;try{return I.apply(this,arguments)}finally{g=G}}}})(Cy);Oy.exports=Cy;var LS=Oy.exports,ky={exports:{}},H={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh=Symbol.for("react.transitional.element"),JS=Symbol.for("react.portal"),qS=Symbol.for("react.fragment"),PS=Symbol.for("react.strict_mode"),VS=Symbol.for("react.profiler"),HS=Symbol.for("react.consumer"),jS=Symbol.for("react.context"),GS=Symbol.for("react.forward_ref"),YS=Symbol.for("react.suspense"),$S=Symbol.for("react.memo"),Ry=Symbol.for("react.lazy"),ig=Symbol.iterator;function KS(e){return e===null||typeof e!="object"?null:(e=ig&&e[ig]||e["@@iterator"],typeof e=="function"?e:null)}var By={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Iy=Object.assign,zy={};function ps(e,t,n){this.props=e,this.context=t,this.refs=zy,this.updater=n||By}ps.prototype.isReactComponent={};ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function My(){}My.prototype=ps.prototype;function Lh(e,t,n){this.props=e,this.context=t,this.refs=zy,this.updater=n||By}var Jh=Lh.prototype=new My;Jh.constructor=Lh;Iy(Jh,ps.prototype);Jh.isPureReactComponent=!0;var rg=Array.isArray,mt={H:null,A:null,T:null,S:null,V:null},Uy=Object.prototype.hasOwnProperty;function qh(e,t,n,i,r,a){return n=a.ref,{$$typeof:Uh,type:e,key:t,ref:n!==void 0?n:null,props:a}}function XS(e,t){return qh(e.type,t,void 0,void 0,void 0,e.props)}function Ph(e){return typeof e=="object"&&e!==null&&e.$$typeof===Uh}function ZS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ag=/\/+/g;function wc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ZS(""+e.key):t.toString(36)}function sg(){}function FS(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(sg,sg):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Ta(e,t,n,i,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Uh:case JS:s=!0;break;case Ry:return s=e._init,Ta(s(e._payload),t,n,i,r)}}if(s)return r=r(e),s=i===""?"."+wc(e,0):i,rg(r)?(n="",s!=null&&(n=s.replace(ag,"$&/")+"/"),Ta(r,t,n,"",function(c){return c})):r!=null&&(Ph(r)&&(r=XS(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(ag,"$&/")+"/")+s)),t.push(r)),1;s=0;var o=i===""?".":i+":";if(rg(e))for(var u=0;u<e.length;u++)i=e[u],a=o+wc(i,u),s+=Ta(i,t,n,a,r);else if(u=KS(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,a=o+wc(i,u++),s+=Ta(i,t,n,a,r);else if(a==="object"){if(typeof e.then=="function")return Ta(FS(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function nl(e,t,n){if(e==null)return e;var i=[],r=0;return Ta(e,i,"","",function(a){return t.call(n,a,r++)}),i}function QS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var og=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function _S(){}H.Children={map:nl,forEach:function(e,t,n){nl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return nl(e,function(){t++}),t},toArray:function(e){return nl(e,function(t){return t})||[]},only:function(e){if(!Ph(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=ps;H.Fragment=qS;H.Profiler=VS;H.PureComponent=Lh;H.StrictMode=PS;H.Suspense=YS;H.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mt;H.__COMPILER_RUNTIME={__proto__:null,c:function(e){return mt.H.useMemoCache(e)}};H.cache=function(e){return function(){return e.apply(null,arguments)}};H.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Iy({},e.props),r=e.key,a=void 0;if(t!=null)for(s in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(r=""+t.key),t)!Uy.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(i[s]=t[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),u=0;u<s;u++)o[u]=arguments[u+2];i.children=o}return qh(e.type,r,void 0,void 0,a,i)};H.createContext=function(e){return e={$$typeof:jS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:HS,_context:e},e};H.createElement=function(e,t,n){var i,r={},a=null;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)Uy.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var o=Array(s),u=0;u<s;u++)o[u]=arguments[u+2];r.children=o}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)r[i]===void 0&&(r[i]=s[i]);return qh(e,a,void 0,void 0,null,r)};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:GS,render:e}};H.isValidElement=Ph;H.lazy=function(e){return{$$typeof:Ry,_payload:{_status:-1,_result:e},_init:QS}};H.memo=function(e,t){return{$$typeof:$S,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=mt.T,n={};mt.T=n;try{var i=e(),r=mt.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(_S,og)}catch(a){og(a)}finally{mt.T=t}};H.unstable_useCacheRefresh=function(){return mt.H.useCacheRefresh()};H.use=function(e){return mt.H.use(e)};H.useActionState=function(e,t,n){return mt.H.useActionState(e,t,n)};H.useCallback=function(e,t){return mt.H.useCallback(e,t)};H.useContext=function(e){return mt.H.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e,t){return mt.H.useDeferredValue(e,t)};H.useEffect=function(e,t,n){var i=mt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};H.useId=function(){return mt.H.useId()};H.useImperativeHandle=function(e,t,n){return mt.H.useImperativeHandle(e,t,n)};H.useInsertionEffect=function(e,t){return mt.H.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return mt.H.useLayoutEffect(e,t)};H.useMemo=function(e,t){return mt.H.useMemo(e,t)};H.useOptimistic=function(e,t){return mt.H.useOptimistic(e,t)};H.useReducer=function(e,t,n){return mt.H.useReducer(e,t,n)};H.useRef=function(e){return mt.H.useRef(e)};H.useState=function(e){return mt.H.useState(e)};H.useSyncExternalStore=function(e,t,n){return mt.H.useSyncExternalStore(e,t,n)};H.useTransition=function(){return mt.H.useTransition()};H.version="19.1.0";ky.exports=H;var ct=ky.exports,Ly={exports:{}},te={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS=ct;function Jy(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function or(){}var Wt={d:{f:or,r:function(){throw Error(Jy(522))},D:or,C:or,L:or,m:or,X:or,S:or,M:or},p:0,findDOMNode:null},tT=Symbol.for("react.portal");function eT(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tT,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Vs=WS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Fu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}te.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Wt;te.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Jy(299));return eT(e,t,null,n)};te.flushSync=function(e){var t=Vs.T,n=Wt.p;try{if(Vs.T=null,Wt.p=2,e)return e()}finally{Vs.T=t,Wt.p=n,Wt.d.f()}};te.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Wt.d.C(e,t))};te.prefetchDNS=function(e){typeof e=="string"&&Wt.d.D(e)};te.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Fu(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Wt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):n==="script"&&Wt.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};te.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Fu(t.as,t.crossOrigin);Wt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Wt.d.M(e)};te.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Fu(n,t.crossOrigin);Wt.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};te.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Fu(t.as,t.crossOrigin);Wt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Wt.d.m(e)};te.requestFormReset=function(e){Wt.d.r(e)};te.unstable_batchedUpdates=function(e,t){return e(t)};te.useFormState=function(e,t,n){return Vs.H.useFormState(e,t,n)};te.useFormStatus=function(){return Vs.H.useHostTransitionStatus()};te.version="19.1.0";function qy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qy)}catch(e){console.error(e)}}qy(),Ly.exports=te;var nT=Ly.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bt=LS,Py=ct,iT=nT;function N(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Vy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lg(e){if(Bo(e)!==e)throw Error(N(188))}function rT(e){var t=e.alternate;if(!t){if(t=Bo(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return lg(r),e;if(a===i)return lg(r),t;a=a.sibling}throw Error(N(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,o=r.child;o;){if(o===n){s=!0,n=r,i=a;break}if(o===i){s=!0,i=r,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,i=r;break}if(o===i){s=!0,i=a,n=r;break}o=o.sibling}if(!s)throw Error(N(189))}}if(n.alternate!==i)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function jy(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=jy(e),t!==null)return t;e=e.sibling}return null}var dt=Object.assign,aT=Symbol.for("react.element"),il=Symbol.for("react.transitional.element"),Us=Symbol.for("react.portal"),Na=Symbol.for("react.fragment"),Gy=Symbol.for("react.strict_mode"),ff=Symbol.for("react.profiler"),sT=Symbol.for("react.provider"),Yy=Symbol.for("react.consumer"),Pi=Symbol.for("react.context"),Vh=Symbol.for("react.forward_ref"),hf=Symbol.for("react.suspense"),df=Symbol.for("react.suspense_list"),Hh=Symbol.for("react.memo"),dr=Symbol.for("react.lazy"),gf=Symbol.for("react.activity"),oT=Symbol.for("react.memo_cache_sentinel"),ug=Symbol.iterator;function Ns(e){return e===null||typeof e!="object"?null:(e=ug&&e[ug]||e["@@iterator"],typeof e=="function"?e:null)}var lT=Symbol.for("react.client.reference");function mf(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===lT?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Na:return"Fragment";case ff:return"Profiler";case Gy:return"StrictMode";case hf:return"Suspense";case df:return"SuspenseList";case gf:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Us:return"Portal";case Pi:return(e.displayName||"Context")+".Provider";case Yy:return(e._context.displayName||"Context")+".Consumer";case Vh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hh:return t=e.displayName||null,t!==null?t:mf(e.type)||"Memo";case dr:t=e._payload,e=e._init;try{return mf(e(t))}catch{}}return null}var Ls=Array.isArray,q=Py.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=iT.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Zr={pending:!1,data:null,method:null,action:null},yf=[],xa=-1;function Dn(e){return{current:e}}function Lt(e){0>xa||(e.current=yf[xa],yf[xa]=null,xa--)}function yt(e,t){xa++,yf[xa]=e.current,e.current=t}var Sn=Dn(null),oo=Dn(null),Er=Dn(null),Yl=Dn(null);function $l(e,t){switch(yt(Er,t),yt(oo,e),yt(Sn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=gm(t),e=l0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Lt(Sn),yt(Sn,e)}function Fa(){Lt(Sn),Lt(oo),Lt(Er)}function pf(e){e.memoizedState!==null&&yt(Yl,e);var t=Sn.current,n=l0(t,e.type);t!==n&&(yt(oo,e),yt(Sn,n))}function Kl(e){oo.current===e&&(Lt(Sn),Lt(oo)),Yl.current===e&&(Lt(Yl),vo._currentValue=Zr)}var vf=Object.prototype.hasOwnProperty,jh=Bt.unstable_scheduleCallback,Ac=Bt.unstable_cancelCallback,uT=Bt.unstable_shouldYield,cT=Bt.unstable_requestPaint,Tn=Bt.unstable_now,fT=Bt.unstable_getCurrentPriorityLevel,$y=Bt.unstable_ImmediatePriority,Ky=Bt.unstable_UserBlockingPriority,Xl=Bt.unstable_NormalPriority,hT=Bt.unstable_LowPriority,Xy=Bt.unstable_IdlePriority,dT=Bt.log,gT=Bt.unstable_setDisableYieldValue,Io=null,pe=null;function Sr(e){if(typeof dT=="function"&&gT(e),pe&&typeof pe.setStrictMode=="function")try{pe.setStrictMode(Io,e)}catch{}}var ve=Math.clz32?Math.clz32:pT,mT=Math.log,yT=Math.LN2;function pT(e){return e>>>=0,e===0?32:31-(mT(e)/yT|0)|0}var rl=256,al=4194304;function jr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qu(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~a,i!==0?r=jr(i):(s&=o,s!==0?r=jr(s):n||(n=o&~e,n!==0&&(r=jr(n))))):(o=i&~a,o!==0?r=jr(o):s!==0?r=jr(s):n||(n=i&~e,n!==0&&(r=jr(n)))),r===0?0:t!==0&&t!==r&&!(t&a)&&(a=r&-r,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:r}function zo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function vT(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zy(){var e=rl;return rl<<=1,!(rl&4194048)&&(rl=256),e}function Fy(){var e=al;return al<<=1,!(al&62914560)&&(al=4194304),e}function Ec(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Mo(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ST(e,t,n,i,r,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var h=31-ve(n),m=1<<h;o[h]=0,u[h]=-1;var g=c[h];if(g!==null)for(c[h]=null,h=0;h<g.length;h++){var d=g[h];d!==null&&(d.lane&=-536870913)}n&=~m}i!==0&&Qy(e,i,0),a!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=a&~(s&~t))}function Qy(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-ve(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function _y(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ve(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Gh(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Yh(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Wy(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:v0(e.type))}function TT(e,t){var n=tt.p;try{return tt.p=e,t()}finally{tt.p=n}}var qr=Math.random().toString(36).slice(2),$t="__reactFiber$"+qr,le="__reactProps$"+qr,vs="__reactContainer$"+qr,Sf="__reactEvents$"+qr,bT="__reactListeners$"+qr,wT="__reactHandles$"+qr,cg="__reactResources$"+qr,Uo="__reactMarker$"+qr;function $h(e){delete e[$t],delete e[le],delete e[Sf],delete e[bT],delete e[wT]}function Da(e){var t=e[$t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vs]||n[$t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pm(e);e!==null;){if(n=e[$t])return n;e=pm(e)}return t}e=n,n=e.parentNode}return null}function Ss(e){if(e=e[$t]||e[vs]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Js(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(N(33))}function qa(e){var t=e[cg];return t||(t=e[cg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Mt(e){e[Uo]=!0}var tp=new Set,ep={};function fa(e,t){Qa(e,t),Qa(e+"Capture",t)}function Qa(e,t){for(ep[e]=t,e=0;e<t.length;e++)tp.add(t[e])}var AT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fg={},hg={};function ET(e){return vf.call(hg,e)?!0:vf.call(fg,e)?!1:AT.test(e)?hg[e]=!0:(fg[e]=!0,!1)}function El(e,t,n){if(ET(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function sl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Cn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var Nc,dg;function ba(e){if(Nc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nc=t&&t[1]||"",dg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nc+e+dg}var xc=!1;function Dc(e,t){if(!e||xc)return"";xc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(d){var g=d}Reflect.construct(e,[],m)}else{try{m.call()}catch(d){g=d}e.call(m.prototype)}}else{try{throw Error()}catch(d){g=d}(m=e())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(d){if(d&&g&&typeof d.stack=="string")return[d.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var u=s.split(`
`),c=o.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===c.length)for(i=u.length-1,r=c.length-1;1<=i&&0<=r&&u[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==c[r]){var h=`
`+u[i].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=i&&0<=r);break}}}finally{xc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ba(n):""}function NT(e){switch(e.tag){case 26:case 27:case 5:return ba(e.type);case 16:return ba("Lazy");case 13:return ba("Suspense");case 19:return ba("SuspenseList");case 0:case 15:return Dc(e.type,!1);case 11:return Dc(e.type.render,!1);case 1:return Dc(e.type,!0);case 31:return ba("Activity");default:return""}}function gg(e){try{var t="";do t+=NT(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ne(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function np(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xT(e){var t=np(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zl(e){e._valueTracker||(e._valueTracker=xT(e))}function ip(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=np(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var DT=/[\n"\\]/g;function Je(e){return e.replace(DT,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Tf(e,t,n,i,r,a,s,o){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ne(t)):e.value!==""+Ne(t)&&(e.value=""+Ne(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?bf(e,s,Ne(t)):n!=null?bf(e,s,Ne(n)):i!=null&&e.removeAttribute("value"),r==null&&a!=null&&(e.defaultChecked=!!a),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Ne(o):e.removeAttribute("name")}function rp(e,t,n,i,r,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;n=n!=null?""+Ne(n):"",t=t!=null?""+Ne(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s)}function bf(e,t,n){t==="number"&&Fl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Pa(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ne(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function ap(e,t,n){if(t!=null&&(t=""+Ne(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ne(n):""}function sp(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(N(92));if(Ls(i)){if(1<i.length)throw Error(N(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Ne(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function _a(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var OT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mg(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||OT.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function op(e,t,n){if(t!=null&&typeof t!="object")throw Error(N(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&mg(e,r,i)}else for(var a in t)t.hasOwnProperty(a)&&mg(e,a,t[a])}function Kh(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var CT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nl(e){return kT.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var wf=null;function Xh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oa=null,Va=null;function yg(e){var t=Ss(e);if(t&&(e=t.stateNode)){var n=e[le]||null;t:switch(e=t.stateNode,t.type){case"input":if(Tf(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Je(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[le]||null;if(!r)throw Error(N(90));Tf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&ip(i)}break t;case"textarea":ap(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Pa(e,!!n.multiple,t,!1)}}}var Oc=!1;function lp(e,t,n){if(Oc)return e(t,n);Oc=!0;try{var i=e(t);return i}finally{if(Oc=!1,(Oa!==null||Va!==null)&&(oc(),Oa&&(t=Oa,e=Va,Va=Oa=null,yg(t),e)))for(t=0;t<e.length;t++)yg(e[t])}}function lo(e,t){var n=e.stateNode;if(n===null)return null;var i=n[le]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var Wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Af=!1;if(Wi)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Af=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Af=!1}var Tr=null,Zh=null,xl=null;function up(){if(xl)return xl;var e,t=Zh,n=t.length,i,r="value"in Tr?Tr.value:Tr.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===r[a-i];i++);return xl=r.slice(e,1<i?1-i:void 0)}function Dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ol(){return!0}function pg(){return!1}function ce(e){function t(n,i,r,a,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ol:pg,this.isPropagationStopped=pg,this}return dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ol)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ol)},persist:function(){},isPersistent:ol}),t}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_u=ce(ha),Lo=dt({},ha,{view:0,detail:0}),RT=ce(Lo),Cc,kc,Ds,Wu=dt({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ds&&(Ds&&e.type==="mousemove"?(Cc=e.screenX-Ds.screenX,kc=e.screenY-Ds.screenY):kc=Cc=0,Ds=e),Cc)},movementY:function(e){return"movementY"in e?e.movementY:kc}}),vg=ce(Wu),BT=dt({},Wu,{dataTransfer:0}),IT=ce(BT),zT=dt({},Lo,{relatedTarget:0}),Rc=ce(zT),MT=dt({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),UT=ce(MT),LT=dt({},ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),JT=ce(LT),qT=dt({},ha,{data:0}),Sg=ce(qT),PT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=HT[e])?!!t[e]:!1}function Fh(){return jT}var GT=dt({},Lo,{key:function(e){if(e.key){var t=PT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?VT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fh,charCode:function(e){return e.type==="keypress"?Dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),YT=ce(GT),$T=dt({},Wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tg=ce($T),KT=dt({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fh}),XT=ce(KT),ZT=dt({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),FT=ce(ZT),QT=dt({},Wu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_T=ce(QT),WT=dt({},ha,{newState:0,oldState:0}),tb=ce(WT),eb=[9,13,27,32],Qh=Wi&&"CompositionEvent"in window,Hs=null;Wi&&"documentMode"in document&&(Hs=document.documentMode);var nb=Wi&&"TextEvent"in window&&!Hs,cp=Wi&&(!Qh||Hs&&8<Hs&&11>=Hs),bg=" ",wg=!1;function fp(e,t){switch(e){case"keyup":return eb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ca=!1;function ib(e,t){switch(e){case"compositionend":return hp(t);case"keypress":return t.which!==32?null:(wg=!0,bg);case"textInput":return e=t.data,e===bg&&wg?null:e;default:return null}}function rb(e,t){if(Ca)return e==="compositionend"||!Qh&&fp(e,t)?(e=up(),xl=Zh=Tr=null,Ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cp&&t.locale!=="ko"?null:t.data;default:return null}}var ab={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ab[e.type]:t==="textarea"}function dp(e,t,n,i){Oa?Va?Va.push(i):Va=[i]:Oa=i,t=gu(t,"onChange"),0<t.length&&(n=new _u("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var js=null,uo=null;function sb(e){a0(e,0)}function tc(e){var t=Js(e);if(ip(t))return e}function Eg(e,t){if(e==="change")return t}var gp=!1;if(Wi){var Bc;if(Wi){var Ic="oninput"in document;if(!Ic){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),Ic=typeof Ng.oninput=="function"}Bc=Ic}else Bc=!1;gp=Bc&&(!document.documentMode||9<document.documentMode)}function xg(){js&&(js.detachEvent("onpropertychange",mp),uo=js=null)}function mp(e){if(e.propertyName==="value"&&tc(uo)){var t=[];dp(t,uo,e,Xh(e)),lp(sb,t)}}function ob(e,t,n){e==="focusin"?(xg(),js=t,uo=n,js.attachEvent("onpropertychange",mp)):e==="focusout"&&xg()}function lb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tc(uo)}function ub(e,t){if(e==="click")return tc(t)}function cb(e,t){if(e==="input"||e==="change")return tc(t)}function fb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var be=typeof Object.is=="function"?Object.is:fb;function co(e,t){if(be(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!vf.call(t,r)||!be(e[r],t[r]))return!1}return!0}function Dg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Og(e,t){var n=Dg(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Dg(n)}}function yp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Fl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fl(e.document)}return t}function _h(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var hb=Wi&&"documentMode"in document&&11>=document.documentMode,ka=null,Ef=null,Gs=null,Nf=!1;function Cg(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nf||ka==null||ka!==Fl(i)||(i=ka,"selectionStart"in i&&_h(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Gs&&co(Gs,i)||(Gs=i,i=gu(Ef,"onSelect"),0<i.length&&(t=new _u("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ka)))}function Hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ra={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},zc={},vp={};Wi&&(vp=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function da(e){if(zc[e])return zc[e];if(!Ra[e])return e;var t=Ra[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vp)return zc[e]=t[n];return e}var Sp=da("animationend"),Tp=da("animationiteration"),bp=da("animationstart"),db=da("transitionrun"),gb=da("transitionstart"),mb=da("transitioncancel"),wp=da("transitionend"),Ap=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function nn(e,t){Ap.set(e,t),fa(t,[e])}var kg=new WeakMap;function qe(e,t){if(typeof e=="object"&&e!==null){var n=kg.get(e);return n!==void 0?n:(t={value:e,source:t,stack:gg(t)},kg.set(e,t),t)}return{value:e,source:t,stack:gg(t)}}var Ee=[],Ba=0,Wh=0;function ec(){for(var e=Ba,t=Wh=Ba=0;t<e;){var n=Ee[t];Ee[t++]=null;var i=Ee[t];Ee[t++]=null;var r=Ee[t];Ee[t++]=null;var a=Ee[t];if(Ee[t++]=null,i!==null&&r!==null){var s=i.pending;s===null?r.next=r:(r.next=s.next,s.next=r),i.pending=r}a!==0&&Ep(n,r,a)}}function nc(e,t,n,i){Ee[Ba++]=e,Ee[Ba++]=t,Ee[Ba++]=n,Ee[Ba++]=i,Wh|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function td(e,t,n,i){return nc(e,t,n,i),Ql(e)}function Ts(e,t){return nc(e,null,null,t),Ql(e)}function Ep(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,a=e.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(r=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,r&&t!==null&&(r=31-ve(n),e=a.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),a):null}function Ql(e){if(50<to)throw to=0,Kf=null,Error(N(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ia={};function yb(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ge(e,t,n,i){return new yb(e,t,n,i)}function ed(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zi(e,t){var n=e.alternate;return n===null?(n=ge(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Np(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ol(e,t,n,i,r,a){var s=0;if(i=e,typeof e=="function")ed(e)&&(s=1);else if(typeof e=="string")s=v1(e,n,Sn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case gf:return e=ge(31,n,t,r),e.elementType=gf,e.lanes=a,e;case Na:return Fr(n.children,r,a,t);case Gy:s=8,r|=24;break;case ff:return e=ge(12,n,t,r|2),e.elementType=ff,e.lanes=a,e;case hf:return e=ge(13,n,t,r),e.elementType=hf,e.lanes=a,e;case df:return e=ge(19,n,t,r),e.elementType=df,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sT:case Pi:s=10;break t;case Yy:s=9;break t;case Vh:s=11;break t;case Hh:s=14;break t;case dr:s=16,i=null;break t}s=29,n=Error(N(130,e===null?"null":typeof e,"")),i=null}return t=ge(s,n,t,r),t.elementType=e,t.type=i,t.lanes=a,t}function Fr(e,t,n,i){return e=ge(7,e,i,t),e.lanes=n,e}function Mc(e,t,n){return e=ge(6,e,null,t),e.lanes=n,e}function Uc(e,t,n){return t=ge(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var za=[],Ma=0,_l=null,Wl=0,xe=[],De=0,Qr=null,Vi=1,Hi="";function Gr(e,t){za[Ma++]=Wl,za[Ma++]=_l,_l=e,Wl=t}function xp(e,t,n){xe[De++]=Vi,xe[De++]=Hi,xe[De++]=Qr,Qr=e;var i=Vi;e=Hi;var r=32-ve(i)-1;i&=~(1<<r),n+=1;var a=32-ve(t)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Vi=1<<32-ve(t)+r|n<<r|i,Hi=a+e}else Vi=1<<a|n<<r|i,Hi=e}function nd(e){e.return!==null&&(Gr(e,1),xp(e,1,0))}function id(e){for(;e===_l;)_l=za[--Ma],za[Ma]=null,Wl=za[--Ma],za[Ma]=null;for(;e===Qr;)Qr=xe[--De],xe[De]=null,Hi=xe[--De],xe[De]=null,Vi=xe[--De],xe[De]=null}var _t=null,Tt=null,W=!1,_r=null,ln=!1,Df=Error(N(519));function ia(e){var t=Error(N(418,""));throw fo(qe(t,e)),Df}function Rg(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[$t]=e,t[le]=i,n){case"dialog":$("cancel",t),$("close",t);break;case"iframe":case"object":case"embed":$("load",t);break;case"video":case"audio":for(n=0;n<mo.length;n++)$(mo[n],t);break;case"source":$("error",t);break;case"img":case"image":case"link":$("error",t),$("load",t);break;case"details":$("toggle",t);break;case"input":$("invalid",t),rp(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Zl(t);break;case"select":$("invalid",t);break;case"textarea":$("invalid",t),sp(t,i.value,i.defaultValue,i.children),Zl(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||o0(t.textContent,n)?(i.popover!=null&&($("beforetoggle",t),$("toggle",t)),i.onScroll!=null&&$("scroll",t),i.onScrollEnd!=null&&$("scrollend",t),i.onClick!=null&&(t.onclick=cc),t=!0):t=!1,t||ia(e)}function Bg(e){for(_t=e.return;_t;)switch(_t.tag){case 5:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:_t=_t.return}}function Os(e){if(e!==_t)return!1;if(!W)return Bg(e),W=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Wf(e.type,e.memoizedProps)),n=!n),n&&Tt&&ia(e),Bg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Tt=tn(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Tt=null}}else t===27?(t=Tt,Pr(e.type)?(e=nh,nh=null,Tt=e):Tt=t):Tt=_t?tn(e.stateNode.nextSibling):null;return!0}function Jo(){Tt=_t=null,W=!1}function Ig(){var e=_r;return e!==null&&(ie===null?ie=e:ie.push.apply(ie,e),_r=null),e}function fo(e){_r===null?_r=[e]:_r.push(e)}var Of=Dn(null),ga=null,ji=null;function mr(e,t,n){yt(Of,t._currentValue),t._currentValue=n}function Fi(e){e._currentValue=Of.current,Lt(Of)}function Cf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function kf(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){var s=r.child;a=a.firstContext;t:for(;a!==null;){var o=a;a=r;for(var u=0;u<t.length;u++)if(o.context===t[u]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Cf(a.return,n,e),i||(s=null);break t}a=o.next}}else if(r.tag===18){if(s=r.return,s===null)throw Error(N(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Cf(s,n,e),s=null}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===e){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}}function qo(e,t,n,i){e=null;for(var r=t,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var s=r.alternate;if(s===null)throw Error(N(387));if(s=s.memoizedProps,s!==null){var o=r.type;be(r.pendingProps.value,s.value)||(e!==null?e.push(o):e=[o])}}else if(r===Yl.current){if(s=r.alternate,s===null)throw Error(N(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(vo):e=[vo])}r=r.return}e!==null&&kf(t,e,n,i),t.flags|=262144}function tu(e){for(e=e.firstContext;e!==null;){if(!be(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ra(e){ga=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Kt(e){return Dp(ga,e)}function ll(e,t){return ga===null&&ra(e),Dp(e,t)}function Dp(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ji===null){if(e===null)throw Error(N(308));ji=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ji=ji.next=t;return n}var pb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},vb=Bt.unstable_scheduleCallback,Sb=Bt.unstable_NormalPriority,kt={$$typeof:Pi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rd(){return{controller:new pb,data:new Map,refCount:0}}function Po(e){e.refCount--,e.refCount===0&&vb(Sb,function(){e.controller.abort()})}var Ys=null,Rf=0,Wa=0,Ha=null;function Tb(e,t){if(Ys===null){var n=Ys=[];Rf=0,Wa=Dd(),Ha={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Rf++,t.then(zg,zg),t}function zg(){if(--Rf===0&&Ys!==null){Ha!==null&&(Ha.status="fulfilled");var e=Ys;Ys=null,Wa=0,Ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function bb(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Mg=q.S;q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Tb(e,t),Mg!==null&&Mg(e,t)};var Wr=Dn(null);function ad(){var e=Wr.current;return e!==null?e:ft.pooledCache}function Cl(e,t){t===null?yt(Wr,Wr.current):yt(Wr,t.pool)}function Op(){var e=ad();return e===null?null:{parent:kt._currentValue,pool:e}}var Vo=Error(N(460)),Cp=Error(N(474)),ic=Error(N(542)),Bf={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ul(){}function kp(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ul,ul),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Jg(e),e;default:if(typeof t.status=="string")t.then(ul,ul);else{if(e=ft,e!==null&&100<e.shellSuspendCounter)throw Error(N(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Jg(e),e}throw $s=t,Vo}}var $s=null;function Lg(){if($s===null)throw Error(N(459));var e=$s;return $s=null,e}function Jg(e){if(e===Vo||e===ic)throw Error(N(483))}var gr=!1;function sd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Nr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xr(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,rt&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Ql(e),Ep(e,null,n),t}return nc(e,i,t,n),Ql(e)}function Ks(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,_y(e,n)}}function Lc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?r=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var zf=!1;function Xs(){if(zf){var e=Ha;if(e!==null)throw e}}function Zs(e,t,n,i){zf=!1;var r=e.updateQueue;gr=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var u=o,c=u.next;u.next=null,s===null?a=c:s.next=c,s=u;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==s&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=u))}if(a!==null){var m=r.baseState;s=0,h=c=u=null,o=a;do{var g=o.lane&-536870913,d=g!==o.lane;if(d?(F&g)===g:(i&g)===g){g!==0&&g===Wa&&(zf=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var b=e,A=o;g=t;var x=n;switch(A.tag){case 1:if(b=A.payload,typeof b=="function"){m=b.call(x,m,g);break t}m=b;break t;case 3:b.flags=b.flags&-65537|128;case 0:if(b=A.payload,g=typeof b=="function"?b.call(x,m,g):b,g==null)break t;m=dt({},m,g);break t;case 2:gr=!0}}g=o.callback,g!==null&&(e.flags|=64,d&&(e.flags|=8192),d=r.callbacks,d===null?r.callbacks=[g]:d.push(g))}else d={lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=d,u=m):h=h.next=d,s|=g;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;d=o,o=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);h===null&&(u=m),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=h,a===null&&(r.shared.lanes=0),Lr|=s,e.lanes=s,e.memoizedState=m}}function Rp(e,t){if(typeof e!="function")throw Error(N(191,e));e.call(t)}function Bp(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Rp(n[e],t)}var ts=Dn(null),eu=Dn(0);function qg(e,t){e=nr,yt(eu,e),yt(ts,t),nr=e|t.baseLanes}function Mf(){yt(eu,nr),yt(ts,ts.current)}function od(){nr=eu.current,Lt(ts),Lt(eu)}var Mr=0,j=null,st=null,Ot=null,nu=!1,ja=!1,aa=!1,iu=0,ho=0,Ga=null,wb=0;function Et(){throw Error(N(321))}function ld(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!be(e[n],t[n]))return!1;return!0}function ud(e,t,n,i,r,a){return Mr=a,j=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?uv:cv,aa=!1,a=n(i,r),aa=!1,ja&&(a=zp(t,n,i,r)),Ip(e),a}function Ip(e){q.H=ru;var t=st!==null&&st.next!==null;if(Mr=0,Ot=st=j=null,nu=!1,ho=0,Ga=null,t)throw Error(N(300));e===null||Ut||(e=e.dependencies,e!==null&&tu(e)&&(Ut=!0))}function zp(e,t,n,i){j=e;var r=0;do{if(ja&&(Ga=null),ho=0,ja=!1,25<=r)throw Error(N(301));if(r+=1,Ot=st=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}q.H=Cb,a=t(n,i)}while(ja);return a}function Ab(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?Ho(t):t,e=e.useState()[0],(st!==null?st.memoizedState:null)!==e&&(j.flags|=1024),t}function cd(){var e=iu!==0;return iu=0,e}function fd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function hd(e){if(nu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}nu=!1}Mr=0,Ot=st=j=null,ja=!1,ho=iu=0,Ga=null}function ee(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?j.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function Ct(){if(st===null){var e=j.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=Ot===null?j.memoizedState:Ot.next;if(t!==null)Ot=t,st=e;else{if(e===null)throw j.alternate===null?Error(N(467)):Error(N(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Ot===null?j.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var t=ho;return ho+=1,Ga===null&&(Ga=[]),e=kp(Ga,e,t),t=j,(Ot===null?t.memoizedState:Ot.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?uv:cv),e}function rc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===Pi)return Kt(e)}throw Error(N(438,String(e)))}function gd(e){var t=null,n=j.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=j.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=dd(),j.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=oT;return t.index++,n}function tr(e,t){return typeof t=="function"?t(e):t}function kl(e){var t=Ct();return md(t,st,e)}function md(e,t,n){var i=e.queue;if(i===null)throw Error(N(311));i.lastRenderedReducer=n;var r=e.baseQueue,a=i.pending;if(a!==null){if(r!==null){var s=r.next;r.next=a.next,a.next=s}t.baseQueue=r=a,i.pending=null}if(a=e.baseState,r===null)e.memoizedState=a;else{t=r.next;var o=s=null,u=null,c=t,h=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(F&m)===m:(Mr&m)===m){var g=c.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===Wa&&(h=!0);else if((Mr&g)===g){c=c.next,g===Wa&&(h=!0);continue}else m={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=m,s=a):u=u.next=m,j.lanes|=g,Lr|=g;m=c.action,aa&&n(a,m),a=c.hasEagerState?c.eagerState:n(a,m)}else g={lane:m,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=g,s=a):u=u.next=g,j.lanes|=m,Lr|=m;c=c.next}while(c!==null&&c!==t);if(u===null?s=a:u.next=o,!be(a,e.memoizedState)&&(Ut=!0,h&&(n=Ha,n!==null)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=u,i.lastRenderedState=a}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Jc(e){var t=Ct(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do a=e(a,s.action),s=s.next;while(s!==r);be(a,t.memoizedState)||(Ut=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Mp(e,t,n){var i=j,r=Ct(),a=W;if(a){if(n===void 0)throw Error(N(407));n=n()}else n=t();var s=!be((st||r).memoizedState,n);s&&(r.memoizedState=n,Ut=!0),r=r.queue;var o=Jp.bind(null,i,r,e);if(jo(2048,8,o,[e]),r.getSnapshot!==t||s||Ot!==null&&Ot.memoizedState.tag&1){if(i.flags|=2048,es(9,ac(),Lp.bind(null,i,r,n,t),null),ft===null)throw Error(N(349));a||Mr&124||Up(i,t,n)}return n}function Up(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=j.updateQueue,t===null?(t=dd(),j.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lp(e,t,n,i){t.value=n,t.getSnapshot=i,qp(t)&&Pp(e)}function Jp(e,t,n){return n(function(){qp(t)&&Pp(e)})}function qp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!be(e,n)}catch{return!0}}function Pp(e){var t=Ts(e,2);t!==null&&Te(t,e,2)}function Uf(e){var t=ee();if(typeof e=="function"){var n=e;if(e=n(),aa){Sr(!0);try{n()}finally{Sr(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:e},t}function Vp(e,t,n,i){return e.baseState=n,md(e,st,typeof i=="function"?i:tr)}function Eb(e,t,n,i,r){if(sc(e))throw Error(N(485));if(e=t.action,e!==null){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};q.T!==null?n(!0):a.isTransition=!1,i(a),n=t.pending,n===null?(a.next=t.pending=a,Hp(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Hp(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=q.T,s={};q.T=s;try{var o=n(r,i),u=q.S;u!==null&&u(s,o),Pg(e,t,o)}catch(c){Lf(e,t,c)}finally{q.T=a}}else try{a=n(r,i),Pg(e,t,a)}catch(c){Lf(e,t,c)}}function Pg(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Vg(e,t,i)},function(i){return Lf(e,t,i)}):Vg(e,t,n)}function Vg(e,t,n){t.status="fulfilled",t.value=n,jp(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Hp(e,n)))}function Lf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,jp(t),t=t.next;while(t!==i)}e.action=null}function jp(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Gp(e,t){return t}function Hg(e,t){if(W){var n=ft.formState;if(n!==null){t:{var i=j;if(W){if(Tt){e:{for(var r=Tt,a=ln;r.nodeType!==8;){if(!a){r=null;break e}if(r=tn(r.nextSibling),r===null){r=null;break e}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){Tt=tn(r.nextSibling),i=r.data==="F!";break t}}ia(i)}i=!1}i&&(t=n[0])}}return n=ee(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gp,lastRenderedState:t},n.queue=i,n=sv.bind(null,j,i),i.dispatch=n,i=Uf(!1),a=Sd.bind(null,j,!1,i.queue),i=ee(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=Eb.bind(null,j,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function jg(e){var t=Ct();return Yp(t,st,e)}function Yp(e,t,n){if(t=md(e,t,Gp)[0],e=kl(tr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Ho(t)}catch(s){throw s===Vo?ic:s}else i=t;t=Ct();var r=t.queue,a=r.dispatch;return n!==t.memoizedState&&(j.flags|=2048,es(9,ac(),Nb.bind(null,r,n),null)),[i,a,e]}function Nb(e,t){e.action=t}function Gg(e){var t=Ct(),n=st;if(n!==null)return Yp(t,n,e);Ct(),t=t.memoizedState,n=Ct();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function es(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=j.updateQueue,t===null&&(t=dd(),j.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function ac(){return{destroy:void 0,resource:void 0}}function $p(){return Ct().memoizedState}function Rl(e,t,n,i){var r=ee();i=i===void 0?null:i,j.flags|=e,r.memoizedState=es(1|t,ac(),n,i)}function jo(e,t,n,i){var r=Ct();i=i===void 0?null:i;var a=r.memoizedState.inst;st!==null&&i!==null&&ld(i,st.memoizedState.deps)?r.memoizedState=es(t,a,n,i):(j.flags|=e,r.memoizedState=es(1|t,a,n,i))}function Yg(e,t){Rl(8390656,8,e,t)}function Kp(e,t){jo(2048,8,e,t)}function Xp(e,t){return jo(4,2,e,t)}function Zp(e,t){return jo(4,4,e,t)}function Fp(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qp(e,t,n){n=n!=null?n.concat([e]):null,jo(4,4,Fp.bind(null,t,e),n)}function yd(){}function _p(e,t){var n=Ct();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&ld(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Wp(e,t){var n=Ct();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&ld(t,i[1]))return i[0];if(i=e(),aa){Sr(!0);try{e()}finally{Sr(!1)}}return n.memoizedState=[i,t],i}function pd(e,t,n){return n===void 0||Mr&1073741824?e.memoizedState=t:(e.memoizedState=n,e=jv(),j.lanes|=e,Lr|=e,n)}function tv(e,t,n,i){return be(n,t)?n:ts.current!==null?(e=pd(e,n,i),be(e,t)||(Ut=!0),e):Mr&42?(e=jv(),j.lanes|=e,Lr|=e,t):(Ut=!0,e.memoizedState=n)}function ev(e,t,n,i,r){var a=tt.p;tt.p=a!==0&&8>a?a:8;var s=q.T,o={};q.T=o,Sd(e,!1,t,n);try{var u=r(),c=q.S;if(c!==null&&c(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=bb(u,i);Fs(e,t,h,Se(e))}else Fs(e,t,i,Se(e))}catch(m){Fs(e,t,{then:function(){},status:"rejected",reason:m},Se())}finally{tt.p=a,q.T=s}}function xb(){}function Jf(e,t,n,i){if(e.tag!==5)throw Error(N(476));var r=nv(e).queue;ev(e,r,t,Zr,n===null?xb:function(){return iv(e),n(i)})}function nv(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Zr,baseState:Zr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:Zr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function iv(e){var t=nv(e).next.queue;Fs(e,t,{},Se())}function vd(){return Kt(vo)}function rv(){return Ct().memoizedState}function av(){return Ct().memoizedState}function Db(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Se();e=Nr(n);var i=xr(t,e,n);i!==null&&(Te(i,t,n),Ks(i,t,n)),t={cache:rd()},e.payload=t;return}t=t.return}}function Ob(e,t,n){var i=Se();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},sc(e)?ov(t,n):(n=td(e,t,n,i),n!==null&&(Te(n,e,i),lv(n,t,i)))}function sv(e,t,n){var i=Se();Fs(e,t,n,i)}function Fs(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(sc(e))ov(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(r.hasEagerState=!0,r.eagerState=o,be(o,s))return nc(e,t,r,0),ft===null&&ec(),!1}catch{}finally{}if(n=td(e,t,r,i),n!==null)return Te(n,e,i),lv(n,t,i),!0}return!1}function Sd(e,t,n,i){if(i={lane:2,revertLane:Dd(),action:i,hasEagerState:!1,eagerState:null,next:null},sc(e)){if(t)throw Error(N(479))}else t=td(e,n,i,2),t!==null&&Te(t,e,2)}function sc(e){var t=e.alternate;return e===j||t!==null&&t===j}function ov(e,t){ja=nu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lv(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,_y(e,n)}}var ru={readContext:Kt,use:rc,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},uv={readContext:Kt,use:rc,useCallback:function(e,t){return ee().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:Yg,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Rl(4194308,4,Fp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rl(4194308,4,e,t)},useInsertionEffect:function(e,t){Rl(4,2,e,t)},useMemo:function(e,t){var n=ee();t=t===void 0?null:t;var i=e();if(aa){Sr(!0);try{e()}finally{Sr(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ee();if(n!==void 0){var r=n(t);if(aa){Sr(!0);try{n(t)}finally{Sr(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=Ob.bind(null,j,e),[i.memoizedState,e]},useRef:function(e){var t=ee();return e={current:e},t.memoizedState=e},useState:function(e){e=Uf(e);var t=e.queue,n=sv.bind(null,j,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:yd,useDeferredValue:function(e,t){var n=ee();return pd(n,e,t)},useTransition:function(){var e=Uf(!1);return e=ev.bind(null,j,e.queue,!0,!1),ee().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=j,r=ee();if(W){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),ft===null)throw Error(N(349));F&124||Up(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Yg(Jp.bind(null,i,a,e),[e]),i.flags|=2048,es(9,ac(),Lp.bind(null,i,a,n,t),null),n},useId:function(){var e=ee(),t=ft.identifierPrefix;if(W){var n=Hi,i=Vi;n=(i&~(1<<32-ve(i)-1)).toString(32)+n,t=""+t+"R"+n,n=iu++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=wb++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:vd,useFormState:Hg,useActionState:Hg,useOptimistic:function(e){var t=ee();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Sd.bind(null,j,!0,n),n.dispatch=t,[e,t]},useMemoCache:gd,useCacheRefresh:function(){return ee().memoizedState=Db.bind(null,j)}},cv={readContext:Kt,use:rc,useCallback:_p,useContext:Kt,useEffect:Kp,useImperativeHandle:Qp,useInsertionEffect:Xp,useLayoutEffect:Zp,useMemo:Wp,useReducer:kl,useRef:$p,useState:function(){return kl(tr)},useDebugValue:yd,useDeferredValue:function(e,t){var n=Ct();return tv(n,st.memoizedState,e,t)},useTransition:function(){var e=kl(tr)[0],t=Ct().memoizedState;return[typeof e=="boolean"?e:Ho(e),t]},useSyncExternalStore:Mp,useId:rv,useHostTransitionStatus:vd,useFormState:jg,useActionState:jg,useOptimistic:function(e,t){var n=Ct();return Vp(n,st,e,t)},useMemoCache:gd,useCacheRefresh:av},Cb={readContext:Kt,use:rc,useCallback:_p,useContext:Kt,useEffect:Kp,useImperativeHandle:Qp,useInsertionEffect:Xp,useLayoutEffect:Zp,useMemo:Wp,useReducer:Jc,useRef:$p,useState:function(){return Jc(tr)},useDebugValue:yd,useDeferredValue:function(e,t){var n=Ct();return st===null?pd(n,e,t):tv(n,st.memoizedState,e,t)},useTransition:function(){var e=Jc(tr)[0],t=Ct().memoizedState;return[typeof e=="boolean"?e:Ho(e),t]},useSyncExternalStore:Mp,useId:rv,useHostTransitionStatus:vd,useFormState:Gg,useActionState:Gg,useOptimistic:function(e,t){var n=Ct();return st!==null?Vp(n,st,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:gd,useCacheRefresh:av},Ya=null,go=0;function cl(e){var t=go;return go+=1,Ya===null&&(Ya=[]),kp(Ya,e,t)}function Cs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function fl(e,t){throw t.$$typeof===aT?Error(N(525)):(e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $g(e){var t=e._init;return t(e._payload)}function fv(e){function t(p,y){if(e){var v=p.deletions;v===null?(p.deletions=[y],p.flags|=16):v.push(y)}}function n(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function i(p){for(var y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function r(p,y){return p=Zi(p,y),p.index=0,p.sibling=null,p}function a(p,y,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<y?(p.flags|=67108866,y):v):(p.flags|=67108866,y)):(p.flags|=1048576,y)}function s(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function o(p,y,v,w){return y===null||y.tag!==6?(y=Mc(v,p.mode,w),y.return=p,y):(y=r(y,v),y.return=p,y)}function u(p,y,v,w){var O=v.type;return O===Na?h(p,y,v.props.children,w,v.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===dr&&$g(O)===y.type)?(y=r(y,v.props),Cs(y,v),y.return=p,y):(y=Ol(v.type,v.key,v.props,null,p.mode,w),Cs(y,v),y.return=p,y)}function c(p,y,v,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Uc(v,p.mode,w),y.return=p,y):(y=r(y,v.children||[]),y.return=p,y)}function h(p,y,v,w,O){return y===null||y.tag!==7?(y=Fr(v,p.mode,w,O),y.return=p,y):(y=r(y,v),y.return=p,y)}function m(p,y,v){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Mc(""+y,p.mode,v),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case il:return v=Ol(y.type,y.key,y.props,null,p.mode,v),Cs(v,y),v.return=p,v;case Us:return y=Uc(y,p.mode,v),y.return=p,y;case dr:var w=y._init;return y=w(y._payload),m(p,y,v)}if(Ls(y)||Ns(y))return y=Fr(y,p.mode,v,null),y.return=p,y;if(typeof y.then=="function")return m(p,cl(y),v);if(y.$$typeof===Pi)return m(p,ll(p,y),v);fl(p,y)}return null}function g(p,y,v,w){var O=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return O!==null?null:o(p,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case il:return v.key===O?u(p,y,v,w):null;case Us:return v.key===O?c(p,y,v,w):null;case dr:return O=v._init,v=O(v._payload),g(p,y,v,w)}if(Ls(v)||Ns(v))return O!==null?null:h(p,y,v,w,null);if(typeof v.then=="function")return g(p,y,cl(v),w);if(v.$$typeof===Pi)return g(p,y,ll(p,v),w);fl(p,v)}return null}function d(p,y,v,w,O){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return p=p.get(v)||null,o(y,p,""+w,O);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case il:return p=p.get(w.key===null?v:w.key)||null,u(y,p,w,O);case Us:return p=p.get(w.key===null?v:w.key)||null,c(y,p,w,O);case dr:var R=w._init;return w=R(w._payload),d(p,y,v,w,O)}if(Ls(w)||Ns(w))return p=p.get(v)||null,h(y,p,w,O,null);if(typeof w.then=="function")return d(p,y,v,cl(w),O);if(w.$$typeof===Pi)return d(p,y,v,ll(y,w),O);fl(y,w)}return null}function b(p,y,v,w){for(var O=null,R=null,C=y,B=y=0,P=null;C!==null&&B<v.length;B++){C.index>B?(P=C,C=null):P=C.sibling;var J=g(p,C,v[B],w);if(J===null){C===null&&(C=P);break}e&&C&&J.alternate===null&&t(p,C),y=a(J,y,B),R===null?O=J:R.sibling=J,R=J,C=P}if(B===v.length)return n(p,C),W&&Gr(p,B),O;if(C===null){for(;B<v.length;B++)C=m(p,v[B],w),C!==null&&(y=a(C,y,B),R===null?O=C:R.sibling=C,R=C);return W&&Gr(p,B),O}for(C=i(C);B<v.length;B++)P=d(C,p,B,v[B],w),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?B:P.key),y=a(P,y,B),R===null?O=P:R.sibling=P,R=P);return e&&C.forEach(function(Yt){return t(p,Yt)}),W&&Gr(p,B),O}function A(p,y,v,w){if(v==null)throw Error(N(151));for(var O=null,R=null,C=y,B=y=0,P=null,J=v.next();C!==null&&!J.done;B++,J=v.next()){C.index>B?(P=C,C=null):P=C.sibling;var Yt=g(p,C,J.value,w);if(Yt===null){C===null&&(C=P);break}e&&C&&Yt.alternate===null&&t(p,C),y=a(Yt,y,B),R===null?O=Yt:R.sibling=Yt,R=Yt,C=P}if(J.done)return n(p,C),W&&Gr(p,B),O;if(C===null){for(;!J.done;B++,J=v.next())J=m(p,J.value,w),J!==null&&(y=a(J,y,B),R===null?O=J:R.sibling=J,R=J);return W&&Gr(p,B),O}for(C=i(C);!J.done;B++,J=v.next())J=d(C,p,B,J.value,w),J!==null&&(e&&J.alternate!==null&&C.delete(J.key===null?B:J.key),y=a(J,y,B),R===null?O=J:R.sibling=J,R=J);return e&&C.forEach(function(rn){return t(p,rn)}),W&&Gr(p,B),O}function x(p,y,v,w){if(typeof v=="object"&&v!==null&&v.type===Na&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case il:t:{for(var O=v.key;y!==null;){if(y.key===O){if(O=v.type,O===Na){if(y.tag===7){n(p,y.sibling),w=r(y,v.props.children),w.return=p,p=w;break t}}else if(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===dr&&$g(O)===y.type){n(p,y.sibling),w=r(y,v.props),Cs(w,v),w.return=p,p=w;break t}n(p,y);break}else t(p,y);y=y.sibling}v.type===Na?(w=Fr(v.props.children,p.mode,w,v.key),w.return=p,p=w):(w=Ol(v.type,v.key,v.props,null,p.mode,w),Cs(w,v),w.return=p,p=w)}return s(p);case Us:t:{for(O=v.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(p,y.sibling),w=r(y,v.children||[]),w.return=p,p=w;break t}else{n(p,y);break}else t(p,y);y=y.sibling}w=Uc(v,p.mode,w),w.return=p,p=w}return s(p);case dr:return O=v._init,v=O(v._payload),x(p,y,v,w)}if(Ls(v))return b(p,y,v,w);if(Ns(v)){if(O=Ns(v),typeof O!="function")throw Error(N(150));return v=O.call(v),A(p,y,v,w)}if(typeof v.then=="function")return x(p,y,cl(v),w);if(v.$$typeof===Pi)return x(p,y,ll(p,v),w);fl(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,y!==null&&y.tag===6?(n(p,y.sibling),w=r(y,v),w.return=p,p=w):(n(p,y),w=Mc(v,p.mode,w),w.return=p,p=w),s(p)):n(p,y)}return function(p,y,v,w){try{go=0;var O=x(p,y,v,w);return Ya=null,O}catch(C){if(C===Vo||C===ic)throw C;var R=ge(29,C,null,p.mode);return R.lanes=w,R.return=p,R}finally{}}}var ns=fv(!0),hv=fv(!1),Ge=Dn(null),bn=null;function yr(e){var t=e.alternate;yt(Rt,Rt.current&1),yt(Ge,e),bn===null&&(t===null||ts.current!==null||t.memoizedState!==null)&&(bn=e)}function dv(e){if(e.tag===22){if(yt(Rt,Rt.current),yt(Ge,e),bn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(bn=e)}}else pr()}function pr(){yt(Rt,Rt.current),yt(Ge,Ge.current)}function Gi(e){Lt(Ge),bn===e&&(bn=null),Lt(Rt)}var Rt=Dn(0);function au(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||eh(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function qc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:dt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Se(),r=Nr(i);r.payload=t,n!=null&&(r.callback=n),t=xr(e,r,i),t!==null&&(Te(t,e,i),Ks(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Se(),r=Nr(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=xr(e,r,i),t!==null&&(Te(t,e,i),Ks(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Se(),i=Nr(n);i.tag=2,t!=null&&(i.callback=t),t=xr(e,i,n),t!==null&&(Te(t,e,n),Ks(t,e,n))}};function Kg(e,t,n,i,r,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,s):t.prototype&&t.prototype.isPureReactComponent?!co(n,i)||!co(r,a):!0}function Xg(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&qf.enqueueReplaceState(t,t.state,null)}function sa(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=dt({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function gv(e){su(e)}function mv(e){console.error(e)}function yv(e){su(e)}function ou(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Zg(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Pf(e,t,n){return n=Nr(n),n.tag=3,n.payload={element:null},n.callback=function(){ou(e,t)},n}function pv(e){return e=Nr(e),e.tag=3,e}function vv(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){Zg(t,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Zg(t,n,i),typeof r!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function kb(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&qo(t,n,r,!0),n=Ge.current,n!==null){switch(n.tag){case 13:return bn===null?Xf():n.alternate===null&&bt===0&&(bt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Bf?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Fc(e,i,r)),!1;case 22:return n.flags|=65536,i===Bf?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Fc(e,i,r)),!1}throw Error(N(435,n.tag))}return Fc(e,i,r),Xf(),!1}if(W)return t=Ge.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==Df&&(e=Error(N(422),{cause:i}),fo(qe(e,n)))):(i!==Df&&(t=Error(N(423),{cause:i}),fo(qe(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=qe(i,n),r=Pf(e.stateNode,i,r),Lc(e,r),bt!==4&&(bt=2)),!1;var a=Error(N(520),{cause:i});if(a=qe(a,n),Ws===null?Ws=[a]:Ws.push(a),bt!==4&&(bt=2),t===null)return!0;i=qe(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Pf(n.stateNode,i,e),Lc(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Dr===null||!Dr.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,r=pv(r),vv(r,e,n,i),Lc(n,r),!1}n=n.return}while(n!==null);return!1}var Sv=Error(N(461)),Ut=!1;function Jt(e,t,n,i){t.child=e===null?hv(t,null,n,i):ns(t,e.child,n,i)}function Fg(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}else s=i;return ra(t),i=ud(e,t,n,s,a,r),o=cd(),e!==null&&!Ut?(fd(e,t,r),er(e,t,r)):(W&&o&&nd(t),t.flags|=1,Jt(e,t,i,r),t.child)}function Qg(e,t,n,i,r){if(e===null){var a=n.type;return typeof a=="function"&&!ed(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,Tv(e,t,a,i,r)):(e=Ol(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Td(e,r)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:co,n(s,i)&&e.ref===t.ref)return er(e,t,r)}return t.flags|=1,e=Zi(a,i),e.ref=t.ref,e.return=t,t.child=e}function Tv(e,t,n,i,r){if(e!==null){var a=e.memoizedProps;if(co(a,i)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=i=a,Td(e,r))e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,er(e,t,r)}return Vf(e,t,n,i,r)}function bv(e,t,n){var i=t.pendingProps,r=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=a!==null?a.baseLanes|n:n,e!==null){for(r=t.child=e.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~i}else t.childLanes=0,t.child=null;return _g(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cl(t,a!==null?a.cachePool:null),a!==null?qg(t,a):Mf(),dv(t);else return t.lanes=t.childLanes=536870912,_g(e,t,a!==null?a.baseLanes|n:n,n)}else a!==null?(Cl(t,a.cachePool),qg(t,a),pr(),t.memoizedState=null):(e!==null&&Cl(t,null),Mf(),pr());return Jt(e,t,r,n),t.child}function _g(e,t,n,i){var r=ad();return r=r===null?null:{parent:kt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Cl(t,null),Mf(),dv(t),e!==null&&qo(e,t,i,!0),null}function Bl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(N(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Vf(e,t,n,i,r){return ra(t),n=ud(e,t,n,i,void 0,r),i=cd(),e!==null&&!Ut?(fd(e,t,r),er(e,t,r)):(W&&i&&nd(t),t.flags|=1,Jt(e,t,n,r),t.child)}function Wg(e,t,n,i,r,a){return ra(t),t.updateQueue=null,n=zp(t,i,n,r),Ip(e),i=cd(),e!==null&&!Ut?(fd(e,t,a),er(e,t,a)):(W&&i&&nd(t),t.flags|=1,Jt(e,t,n,a),t.child)}function tm(e,t,n,i,r){if(ra(t),t.stateNode===null){var a=Ia,s=n.contextType;typeof s=="object"&&s!==null&&(a=Kt(s)),a=new n(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=qf,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},sd(t),s=n.contextType,a.context=typeof s=="object"&&s!==null?Kt(s):Ia,a.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(qc(t,n,s,i),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&qf.enqueueReplaceState(a,a.state,null),Zs(t,i,a,r),Xs(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){a=t.stateNode;var o=t.memoizedProps,u=sa(n,o);a.props=u;var c=a.context,h=n.contextType;s=Ia,typeof h=="object"&&h!==null&&(s=Kt(h));var m=n.getDerivedStateFromProps;h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==s)&&Xg(t,a,i,s),gr=!1;var g=t.memoizedState;a.state=g,Zs(t,i,a,r),Xs(),c=t.memoizedState,o||g!==c||gr?(typeof m=="function"&&(qc(t,n,m,i),c=t.memoizedState),(u=gr||Kg(t,n,u,i,g,c,s))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=s,i=u):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,If(e,t),s=t.memoizedProps,h=sa(n,s),a.props=h,m=t.pendingProps,g=a.context,c=n.contextType,u=Ia,typeof c=="object"&&c!==null&&(u=Kt(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==m||g!==u)&&Xg(t,a,i,u),gr=!1,g=t.memoizedState,a.state=g,Zs(t,i,a,r),Xs();var d=t.memoizedState;s!==m||g!==d||gr||e!==null&&e.dependencies!==null&&tu(e.dependencies)?(typeof o=="function"&&(qc(t,n,o,i),d=t.memoizedState),(h=gr||Kg(t,n,h,i,g,d,u)||e!==null&&e.dependencies!==null&&tu(e.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,d,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,d,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=d),a.props=i,a.state=d,a.context=u,i=h):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,Bl(e,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&i?(t.child=ns(t,e.child,null,r),t.child=ns(t,null,n,r)):Jt(e,t,n,r),t.memoizedState=a.state,e=t.child):e=er(e,t,r),e}function em(e,t,n,i){return Jo(),t.flags|=256,Jt(e,t,n,i),t.child}var Pc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vc(e){return{baseLanes:e,cachePool:Op()}}function Hc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Pe),e}function wv(e,t,n){var i=t.pendingProps,r=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(Rt.current&2)!==0),s&&(r=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(W){if(r?yr(t):pr(),W){var o=Tt,u;if(u=o){t:{for(u=o,o=ln;u.nodeType!==8;){if(!o){o=null;break t}if(u=tn(u.nextSibling),u===null){o=null;break t}}o=u}o!==null?(t.memoizedState={dehydrated:o,treeContext:Qr!==null?{id:Vi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},u=ge(18,null,null,0),u.stateNode=o,u.return=t,t.child=u,_t=t,Tt=null,u=!0):u=!1}u||ia(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return eh(o)?t.lanes=32:t.lanes=536870912,null;Gi(t)}return o=i.children,i=i.fallback,r?(pr(),r=t.mode,o=lu({mode:"hidden",children:o},r),i=Fr(i,r,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,r=t.child,r.memoizedState=Vc(n),r.childLanes=Hc(e,s,n),t.memoizedState=Pc,i):(yr(t),Hf(t,o))}if(u=e.memoizedState,u!==null&&(o=u.dehydrated,o!==null)){if(a)t.flags&256?(yr(t),t.flags&=-257,t=jc(e,t,n)):t.memoizedState!==null?(pr(),t.child=e.child,t.flags|=128,t=null):(pr(),r=i.fallback,o=t.mode,i=lu({mode:"visible",children:i.children},o),r=Fr(r,o,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,ns(t,e.child,null,n),i=t.child,i.memoizedState=Vc(n),i.childLanes=Hc(e,s,n),t.memoizedState=Pc,t=r);else if(yr(t),eh(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,i=Error(N(419)),i.stack="",i.digest=s,fo({value:i,source:null,stack:null}),t=jc(e,t,n)}else if(Ut||qo(e,t,n,!1),s=(n&e.childLanes)!==0,Ut||s){if(s=ft,s!==null&&(i=n&-n,i=i&42?1:Gh(i),i=i&(s.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,Ts(e,i),Te(s,e,i),Sv;o.data==="$?"||Xf(),t=jc(e,t,n)}else o.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Tt=tn(o.nextSibling),_t=t,W=!0,_r=null,ln=!1,e!==null&&(xe[De++]=Vi,xe[De++]=Hi,xe[De++]=Qr,Vi=e.id,Hi=e.overflow,Qr=t),t=Hf(t,i.children),t.flags|=4096);return t}return r?(pr(),r=i.fallback,o=t.mode,u=e.child,c=u.sibling,i=Zi(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?r=Zi(c,r):(r=Fr(r,o,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,o=e.child.memoizedState,o===null?o=Vc(n):(u=o.cachePool,u!==null?(c=kt._currentValue,u=u.parent!==c?{parent:c,pool:c}:u):u=Op(),o={baseLanes:o.baseLanes|n,cachePool:u}),r.memoizedState=o,r.childLanes=Hc(e,s,n),t.memoizedState=Pc,i):(yr(t),n=e.child,e=n.sibling,n=Zi(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Hf(e,t){return t=lu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function lu(e,t){return e=ge(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function jc(e,t,n){return ns(t,e.child,null,n),e=Hf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nm(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Cf(e.return,t,n)}function Gc(e,t,n,i,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function Av(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(Jt(e,t,i.children,n),i=Rt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nm(e,n,t);else if(e.tag===19)nm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(yt(Rt,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&au(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Gc(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&au(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Gc(t,!0,n,null,a);break;case"together":Gc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function er(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Lr|=t.lanes,!(n&t.childLanes))if(e!==null){if(qo(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=Zi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Td(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&tu(e)))}function Rb(e,t,n){switch(t.tag){case 3:$l(t,t.stateNode.containerInfo),mr(t,kt,e.memoizedState.cache),Jo();break;case 27:case 5:pf(t);break;case 4:$l(t,t.stateNode.containerInfo);break;case 10:mr(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(yr(t),t.flags|=128,null):n&t.child.childLanes?wv(e,t,n):(yr(t),e=er(e,t,n),e!==null?e.sibling:null);yr(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(qo(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return Av(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),yt(Rt,Rt.current),i)break;return null;case 22:case 23:return t.lanes=0,bv(e,t,n);case 24:mr(t,kt,e.memoizedState.cache)}return er(e,t,n)}function Ev(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ut=!0;else{if(!Td(e,n)&&!(t.flags&128))return Ut=!1,Rb(e,t,n);Ut=!!(e.flags&131072)}else Ut=!1,W&&t.flags&1048576&&xp(t,Wl,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")ed(i)?(e=sa(i,e),t.tag=1,t=tm(null,t,i,e,n)):(t.tag=0,t=Vf(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===Vh){t.tag=11,t=Fg(null,t,i,e,n);break t}else if(r===Hh){t.tag=14,t=Qg(null,t,i,e,n);break t}}throw t=mf(i)||i,Error(N(306,t,""))}}return t;case 0:return Vf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=sa(i,t.pendingProps),tm(e,t,i,r,n);case 3:t:{if($l(t,t.stateNode.containerInfo),e===null)throw Error(N(387));i=t.pendingProps;var a=t.memoizedState;r=a.element,If(e,t),Zs(t,i,null,n);var s=t.memoizedState;if(i=s.cache,mr(t,kt,i),i!==a.cache&&kf(t,[kt],n,!0),Xs(),i=s.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=em(e,t,i,n);break t}else if(i!==r){r=qe(Error(N(424)),t),fo(r),t=em(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Tt=tn(e.firstChild),_t=t,W=!0,_r=null,ln=!0,n=hv(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Jo(),i===r){t=er(e,t,n);break t}Jt(e,t,i,n)}t=t.child}return t;case 26:return Bl(e,t),e===null?(n=Sm(t.type,null,t.pendingProps,null))?t.memoizedState=n:W||(n=t.type,e=t.pendingProps,i=mu(Er.current).createElement(n),i[$t]=t,i[le]=e,jt(i,n,e),Mt(i),t.stateNode=i):t.memoizedState=Sm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return pf(t),e===null&&W&&(i=t.stateNode=c0(t.type,t.pendingProps,Er.current),_t=t,ln=!0,r=Tt,Pr(t.type)?(nh=r,Tt=tn(i.firstChild)):Tt=r),Jt(e,t,t.pendingProps.children,n),Bl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&W&&((r=i=Tt)&&(i=a1(i,t.type,t.pendingProps,ln),i!==null?(t.stateNode=i,_t=t,Tt=tn(i.firstChild),ln=!1,r=!0):r=!1),r||ia(t)),pf(t),r=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,Wf(r,a)?i=null:s!==null&&Wf(r,s)&&(t.flags|=32),t.memoizedState!==null&&(r=ud(e,t,Ab,null,null,n),vo._currentValue=r),Bl(e,t),Jt(e,t,i,n),t.child;case 6:return e===null&&W&&((e=n=Tt)&&(n=s1(n,t.pendingProps,ln),n!==null?(t.stateNode=n,_t=t,Tt=null,e=!0):e=!1),e||ia(t)),null;case 13:return wv(e,t,n);case 4:return $l(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ns(t,null,i,n):Jt(e,t,i,n),t.child;case 11:return Fg(e,t,t.type,t.pendingProps,n);case 7:return Jt(e,t,t.pendingProps,n),t.child;case 8:return Jt(e,t,t.pendingProps.children,n),t.child;case 12:return Jt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,mr(t,t.type,i.value),Jt(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,ra(t),r=Kt(r),i=i(r),t.flags|=1,Jt(e,t,i,n),t.child;case 14:return Qg(e,t,t.type,t.pendingProps,n);case 15:return Tv(e,t,t.type,t.pendingProps,n);case 19:return Av(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=lu(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Zi(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return bv(e,t,n);case 24:return ra(t),i=Kt(kt),e===null?(r=ad(),r===null&&(r=ft,a=rd(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:i,cache:r},sd(t),mr(t,kt,r)):(e.lanes&n&&(If(e,t),Zs(t,null,null,n),Xs()),r=e.memoizedState,a=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),mr(t,kt,i)):(i=a.cache,mr(t,kt,i),i!==r.cache&&kf(t,[kt],n,!0))),Jt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(N(156,t.tag))}function kn(e){e.flags|=4}function im(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!d0(t)){if(t=Ge.current,t!==null&&((F&4194048)===F?bn!==null:(F&62914560)!==F&&!(F&536870912)||t!==bn))throw $s=Bf,Cp;e.flags|=8192}}function hl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Fy():536870912,e.lanes|=t,is|=t)}function ks(e,t){if(!W)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Bb(e,t,n){var i=t.pendingProps;switch(id(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return pt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Fi(kt),Fa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Os(t)?kn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ig())),pt(t),null;case 26:return n=t.memoizedState,e===null?(kn(t),n!==null?(pt(t),im(t,n)):(pt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(kn(t),pt(t),im(t,n)):(pt(t),t.flags&=-16777217):(e.memoizedProps!==i&&kn(t),pt(t),t.flags&=-16777217),null;case 27:Kl(t),n=Er.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&kn(t);else{if(!i){if(t.stateNode===null)throw Error(N(166));return pt(t),null}e=Sn.current,Os(t)?Rg(t):(e=c0(r,i,n),t.stateNode=e,kn(t))}return pt(t),null;case 5:if(Kl(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&kn(t);else{if(!i){if(t.stateNode===null)throw Error(N(166));return pt(t),null}if(e=Sn.current,Os(t))Rg(t);else{switch(r=mu(Er.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[$t]=t,e[le]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(jt(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&kn(t)}}return pt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&kn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(N(166));if(e=Er.current,Os(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=_t,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[$t]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||o0(e.nodeValue,n)),e||ia(t)}else e=mu(e).createTextNode(i),e[$t]=t,t.stateNode=e}return pt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Os(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(N(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(N(317));r[$t]=t}else Jo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pt(t),r=!1}else r=Ig(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Gi(t),t):(Gi(t),null)}if(Gi(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var a=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),hl(t,t.updateQueue),pt(t),null;case 4:return Fa(),e===null&&Od(t.stateNode.containerInfo),pt(t),null;case 10:return Fi(t.type),pt(t),null;case 19:if(Lt(Rt),r=t.memoizedState,r===null)return pt(t),null;if(i=(t.flags&128)!==0,a=r.rendering,a===null)if(i)ks(r,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=au(e),a!==null){for(t.flags|=128,ks(r,!1),e=a.updateQueue,t.updateQueue=e,hl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Np(n,e),n=n.sibling;return yt(Rt,Rt.current&1|2),t.child}e=e.sibling}r.tail!==null&&Tn()>cu&&(t.flags|=128,i=!0,ks(r,!1),t.lanes=4194304)}else{if(!i)if(e=au(a),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,hl(t,e),ks(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!W)return pt(t),null}else 2*Tn()-r.renderingStartTime>cu&&n!==536870912&&(t.flags|=128,i=!0,ks(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Tn(),t.sibling=null,e=Rt.current,yt(Rt,i?e&1|2:e&1),t):(pt(t),null);case 22:case 23:return Gi(t),od(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),n=t.updateQueue,n!==null&&hl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Lt(Wr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Fi(kt),pt(t),null;case 25:return null;case 30:return null}throw Error(N(156,t.tag))}function Ib(e,t){switch(id(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fi(kt),Fa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Kl(t),null;case 13:if(Gi(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Jo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Lt(Rt),null;case 4:return Fa(),null;case 10:return Fi(t.type),null;case 22:case 23:return Gi(t),od(),e!==null&&Lt(Wr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Fi(kt),null;case 25:return null;default:return null}}function Nv(e,t){switch(id(t),t.tag){case 3:Fi(kt),Fa();break;case 26:case 27:case 5:Kl(t);break;case 4:Fa();break;case 13:Gi(t);break;case 19:Lt(Rt);break;case 10:Fi(t.type);break;case 22:case 23:Gi(t),od(),e!==null&&Lt(Wr);break;case 24:Fi(kt)}}function Go(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create,s=n.inst;i=a(),s.destroy=i}n=n.next}while(n!==r)}}catch(o){ut(t,t.return,o)}}function Ur(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var a=r.next;i=a;do{if((i.tag&e)===e){var s=i.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,r=t;var u=n,c=o;try{c()}catch(h){ut(r,u,h)}}}i=i.next}while(i!==a)}}catch(h){ut(t,t.return,h)}}function xv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Bp(t,n)}catch(i){ut(e,e.return,i)}}}function Dv(e,t,n){n.props=sa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){ut(e,t,i)}}function Qs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){ut(e,t,r)}}function cn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){ut(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){ut(e,t,r)}else n.current=null}function Ov(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){ut(e,e.return,r)}}function Yc(e,t,n){try{var i=e.stateNode;t1(i,e.type,n,t),i[le]=t}catch(r){ut(e,e.return,r)}}function Cv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pr(e.type)||e.tag===4}function $c(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Cv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=cc));else if(i!==4&&(i===27&&Pr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(jf(e,t,n),e=e.sibling;e!==null;)jf(e,t,n),e=e.sibling}function uu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Pr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(uu(e,t,n),e=e.sibling;e!==null;)uu(e,t,n),e=e.sibling}function kv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);jt(t,i,n),t[$t]=e,t[le]=n}catch(a){ut(e,e.return,a)}}var Li=!1,xt=!1,Kc=!1,rm=typeof WeakSet=="function"?WeakSet:Set,zt=null;function zb(e,t){if(e=e.containerInfo,Qf=Su,e=pp(e),_h(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break t}var s=0,o=-1,u=-1,c=0,h=0,m=e,g=null;e:for(;;){for(var d;m!==n||r!==0&&m.nodeType!==3||(o=s+r),m!==a||i!==0&&m.nodeType!==3||(u=s+i),m.nodeType===3&&(s+=m.nodeValue.length),(d=m.firstChild)!==null;)g=m,m=d;for(;;){if(m===e)break e;if(g===n&&++c===r&&(o=s),g===a&&++h===i&&(u=s),(d=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=d}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(_f={focusedElem:e,selectionRange:n},Su=!1,zt=t;zt!==null;)if(t=zt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,zt=e;else for(;zt!==null;){switch(t=zt,a=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var b=sa(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(b,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(A){ut(n,n.return,A)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)th(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":th(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(N(163))}if(e=t.sibling,e!==null){e.return=t.return,zt=e;break}zt=t.return}}function Rv(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:lr(e,n),i&4&&Go(5,n);break;case 1:if(lr(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){ut(n,n.return,s)}else{var r=sa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){ut(n,n.return,s)}}i&64&&xv(n),i&512&&Qs(n,n.return);break;case 3:if(lr(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Bp(e,t)}catch(s){ut(n,n.return,s)}}break;case 27:t===null&&i&4&&kv(n);case 26:case 5:lr(e,n),t===null&&i&4&&Ov(n),i&512&&Qs(n,n.return);break;case 12:lr(e,n);break;case 13:lr(e,n),i&4&&zv(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=jb.bind(null,n),o1(e,n))));break;case 22:if(i=n.memoizedState!==null||Li,!i){t=t!==null&&t.memoizedState!==null||xt,r=Li;var a=xt;Li=i,(xt=t)&&!a?fr(e,n,(n.subtreeFlags&8772)!==0):lr(e,n),Li=r,xt=a}break;case 30:break;default:lr(e,n)}}function Bv(e){var t=e.alternate;t!==null&&(e.alternate=null,Bv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&$h(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var gt=null,ne=!1;function Rn(e,t,n){for(n=n.child;n!==null;)Iv(e,t,n),n=n.sibling}function Iv(e,t,n){if(pe&&typeof pe.onCommitFiberUnmount=="function")try{pe.onCommitFiberUnmount(Io,n)}catch{}switch(n.tag){case 26:xt||cn(n,t),Rn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:xt||cn(n,t);var i=gt,r=ne;Pr(n.type)&&(gt=n.stateNode,ne=!1),Rn(e,t,n),eo(n.stateNode),gt=i,ne=r;break;case 5:xt||cn(n,t);case 6:if(i=gt,r=ne,gt=null,Rn(e,t,n),gt=i,ne=r,gt!==null)if(ne)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(n.stateNode)}catch(a){ut(n,t,a)}else try{gt.removeChild(n.stateNode)}catch(a){ut(n,t,a)}break;case 18:gt!==null&&(ne?(e=gt,ym(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),bo(e)):ym(gt,n.stateNode));break;case 4:i=gt,r=ne,gt=n.stateNode.containerInfo,ne=!0,Rn(e,t,n),gt=i,ne=r;break;case 0:case 11:case 14:case 15:xt||Ur(2,n,t),xt||Ur(4,n,t),Rn(e,t,n);break;case 1:xt||(cn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Dv(n,t,i)),Rn(e,t,n);break;case 21:Rn(e,t,n);break;case 22:xt=(i=xt)||n.memoizedState!==null,Rn(e,t,n),xt=i;break;default:Rn(e,t,n)}}function zv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{bo(e)}catch(n){ut(t,t.return,n)}}function Mb(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new rm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new rm),t;default:throw Error(N(435,e.tag))}}function Xc(e,t){var n=Mb(e);t.forEach(function(i){var r=Gb.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function fe(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],a=e,s=t,o=s;t:for(;o!==null;){switch(o.tag){case 27:if(Pr(o.type)){gt=o.stateNode,ne=!1;break t}break;case 5:gt=o.stateNode,ne=!1;break t;case 3:case 4:gt=o.stateNode.containerInfo,ne=!0;break t}o=o.return}if(gt===null)throw Error(N(160));Iv(a,s,r),gt=null,ne=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Mv(t,e),t=t.sibling}var Qe=null;function Mv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fe(t,e),he(e),i&4&&(Ur(3,e,e.return),Go(3,e),Ur(5,e,e.return));break;case 1:fe(t,e),he(e),i&512&&(xt||n===null||cn(n,n.return)),i&64&&Li&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=Qe;if(fe(t,e),he(e),i&512&&(xt||n===null||cn(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":a=r.getElementsByTagName("title")[0],(!a||a[Uo]||a[$t]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),jt(a,i,n),a[$t]=e,Mt(a),i=a;break t;case"link":var s=bm("link","href",r).get(i+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break e}}a=r.createElement(i),jt(a,i,n),r.head.appendChild(a);break;case"meta":if(s=bm("meta","content",r).get(i+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break e}}a=r.createElement(i),jt(a,i,n),r.head.appendChild(a);break;default:throw Error(N(468,i))}a[$t]=e,Mt(a),i=a}e.stateNode=i}else wm(r,e.type,e.stateNode);else e.stateNode=Tm(r,i,e.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?wm(r,e.type,e.stateNode):Tm(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Yc(e,e.memoizedProps,n.memoizedProps)}break;case 27:fe(t,e),he(e),i&512&&(xt||n===null||cn(n,n.return)),n!==null&&i&4&&Yc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(fe(t,e),he(e),i&512&&(xt||n===null||cn(n,n.return)),e.flags&32){r=e.stateNode;try{_a(r,"")}catch(d){ut(e,e.return,d)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Yc(e,r,n!==null?n.memoizedProps:r)),i&1024&&(Kc=!0);break;case 6:if(fe(t,e),he(e),i&4){if(e.stateNode===null)throw Error(N(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(d){ut(e,e.return,d)}}break;case 3:if(Ml=null,r=Qe,Qe=yu(t.containerInfo),fe(t,e),Qe=r,he(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{bo(t.containerInfo)}catch(d){ut(e,e.return,d)}Kc&&(Kc=!1,Uv(e));break;case 4:i=Qe,Qe=yu(e.stateNode.containerInfo),fe(t,e),he(e),Qe=i;break;case 12:fe(t,e),he(e);break;case 13:fe(t,e),he(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Nd=Tn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Xc(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=Li,h=xt;if(Li=c||r,xt=h||u,fe(t,e),xt=h,Li=c,he(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||Li||xt||Yr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(a=u.stateNode,r)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var m=u.memoizedProps.style,g=m!=null&&m.hasOwnProperty("display")?m.display:null;o.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(d){ut(u,u.return,d)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(d){ut(u,u.return,d)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Xc(e,n))));break;case 19:fe(t,e),he(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Xc(e,i)));break;case 30:break;case 21:break;default:fe(t,e),he(e)}}function he(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Cv(i)){n=i;break}i=i.return}if(n==null)throw Error(N(160));switch(n.tag){case 27:var r=n.stateNode,a=$c(e);uu(e,a,r);break;case 5:var s=n.stateNode;n.flags&32&&(_a(s,""),n.flags&=-33);var o=$c(e);uu(e,o,s);break;case 3:case 4:var u=n.stateNode.containerInfo,c=$c(e);jf(e,c,u);break;default:throw Error(N(161))}}catch(h){ut(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Uv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Uv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function lr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Rv(e,t.alternate,t),t=t.sibling}function Yr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ur(4,t,t.return),Yr(t);break;case 1:cn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Dv(t,t.return,n),Yr(t);break;case 27:eo(t.stateNode);case 26:case 5:cn(t,t.return),Yr(t);break;case 22:t.memoizedState===null&&Yr(t);break;case 30:Yr(t);break;default:Yr(t)}e=e.sibling}}function fr(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:fr(r,a,n),Go(4,a);break;case 1:if(fr(r,a,n),i=a,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){ut(i,i.return,c)}if(i=a,r=i.updateQueue,r!==null){var o=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)Rp(u[r],o)}catch(c){ut(i,i.return,c)}}n&&s&64&&xv(a),Qs(a,a.return);break;case 27:kv(a);case 26:case 5:fr(r,a,n),n&&i===null&&s&4&&Ov(a),Qs(a,a.return);break;case 12:fr(r,a,n);break;case 13:fr(r,a,n),n&&s&4&&zv(r,a);break;case 22:a.memoizedState===null&&fr(r,a,n),Qs(a,a.return);break;case 30:break;default:fr(r,a,n)}t=t.sibling}}function bd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Po(n))}function wd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Po(e))}function an(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lv(e,t,n,i),t=t.sibling}function Lv(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:an(e,t,n,i),r&2048&&Go(9,t);break;case 1:an(e,t,n,i);break;case 3:an(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Po(e)));break;case 12:if(r&2048){an(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){ut(t,t.return,u)}}else an(e,t,n,i);break;case 13:an(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,t.memoizedState!==null?a._visibility&2?an(e,t,n,i):_s(e,t):a._visibility&2?an(e,t,n,i):(a._visibility|=2,wa(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&bd(s,t);break;case 24:an(e,t,n,i),r&2048&&wd(t.alternate,t);break;default:an(e,t,n,i)}}function wa(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=e,s=t,o=n,u=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:wa(a,s,o,u,r),Go(8,s);break;case 23:break;case 22:var h=s.stateNode;s.memoizedState!==null?h._visibility&2?wa(a,s,o,u,r):_s(a,s):(h._visibility|=2,wa(a,s,o,u,r)),r&&c&2048&&bd(s.alternate,s);break;case 24:wa(a,s,o,u,r),r&&c&2048&&wd(s.alternate,s);break;default:wa(a,s,o,u,r)}t=t.sibling}}function _s(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:_s(n,i),r&2048&&bd(i.alternate,i);break;case 24:_s(n,i),r&2048&&wd(i.alternate,i);break;default:_s(n,i)}t=t.sibling}}var qs=8192;function ya(e){if(e.subtreeFlags&qs)for(e=e.child;e!==null;)Jv(e),e=e.sibling}function Jv(e){switch(e.tag){case 26:ya(e),e.flags&qs&&e.memoizedState!==null&&T1(Qe,e.memoizedState,e.memoizedProps);break;case 5:ya(e);break;case 3:case 4:var t=Qe;Qe=yu(e.stateNode.containerInfo),ya(e),Qe=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=qs,qs=16777216,ya(e),qs=t):ya(e));break;default:ya(e)}}function qv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Rs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];zt=i,Vv(i,e)}qv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pv(e),e=e.sibling}function Pv(e){switch(e.tag){case 0:case 11:case 15:Rs(e),e.flags&2048&&Ur(9,e,e.return);break;case 3:Rs(e);break;case 12:Rs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Il(e)):Rs(e);break;default:Rs(e)}}function Il(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];zt=i,Vv(i,e)}qv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ur(8,t,t.return),Il(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Il(t));break;default:Il(t)}e=e.sibling}}function Vv(e,t){for(;zt!==null;){var n=zt;switch(n.tag){case 0:case 11:case 15:Ur(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Po(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,zt=i;else t:for(n=e;zt!==null;){i=zt;var r=i.sibling,a=i.return;if(Bv(i),i===n){zt=null;break t}if(r!==null){r.return=a,zt=r;break t}zt=a}}}var Ub={getCacheForType:function(e){var t=Kt(kt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Lb=typeof WeakMap=="function"?WeakMap:Map,rt=0,ft=null,K=null,F=0,it=0,de=null,br=!1,bs=!1,Ad=!1,nr=0,bt=0,Lr=0,ta=0,Ed=0,Pe=0,is=0,Ws=null,ie=null,Gf=!1,Nd=0,cu=1/0,fu=null,Dr=null,Vt=0,Or=null,rs=null,$a=0,Yf=0,$f=null,Hv=null,to=0,Kf=null;function Se(){if(rt&2&&F!==0)return F&-F;if(q.T!==null){var e=Wa;return e!==0?e:Dd()}return Wy()}function jv(){Pe===0&&(Pe=!(F&536870912)||W?Zy():536870912);var e=Ge.current;return e!==null&&(e.flags|=32),Pe}function Te(e,t,n){(e===ft&&(it===2||it===9)||e.cancelPendingCommit!==null)&&(as(e,0),wr(e,F,Pe,!1)),Mo(e,n),(!(rt&2)||e!==ft)&&(e===ft&&(!(rt&2)&&(ta|=n),bt===4&&wr(e,F,Pe,!1)),On(e))}function Gv(e,t,n){if(rt&6)throw Error(N(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||zo(e,t),r=i?Pb(e,t):Zc(e,t,!0),a=i;do{if(r===0){bs&&!i&&wr(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!Jb(n)){r=Zc(e,t,!1),a=!1;continue}if(r===2){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;t:{var o=e;r=Ws;var u=o.current.memoizedState.isDehydrated;if(u&&(as(o,s).flags|=256),s=Zc(o,s,!1),s!==2){if(Ad&&!u){o.errorRecoveryDisabledLanes|=a,ta|=a,r=4;break t}a=ie,ie=r,a!==null&&(ie===null?ie=a:ie.push.apply(ie,a))}r=s}if(a=!1,r!==2)continue}}if(r===1){as(e,0),wr(e,t,0,!0);break}t:{switch(i=e,a=r,a){case 0:case 1:throw Error(N(345));case 4:if((t&4194048)!==t)break;case 6:wr(i,t,Pe,!br);break t;case 2:ie=null;break;case 3:case 5:break;default:throw Error(N(329))}if((t&62914560)===t&&(r=Nd+300-Tn(),10<r)){if(wr(i,t,Pe,!br),Qu(i,0,!0)!==0)break t;i.timeoutHandle=u0(am.bind(null,i,n,ie,fu,Gf,t,Pe,ta,is,br,a,2,-0,0),r);break t}am(i,n,ie,fu,Gf,t,Pe,ta,is,br,a,0,-0,0)}}break}while(!0);On(e)}function am(e,t,n,i,r,a,s,o,u,c,h,m,g,d){if(e.timeoutHandle=-1,m=t.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(po={stylesheets:null,count:0,unsuspend:S1},Jv(t),m=b1(),m!==null)){e.cancelPendingCommit=m(om.bind(null,e,t,a,n,i,r,s,o,u,h,1,g,d)),wr(e,a,s,!c);return}om(e,t,a,n,i,r,s,o,u)}function Jb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!be(a(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wr(e,t,n,i){t&=~Ed,t&=~ta,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-ve(r),s=1<<a;i[a]=-1,r&=~s}n!==0&&Qy(e,n,t)}function oc(){return rt&6?!0:(Yo(0),!1)}function xd(){if(K!==null){if(it===0)var e=K.return;else e=K,ji=ga=null,hd(e),Ya=null,go=0,e=K;for(;e!==null;)Nv(e.alternate,e),e=e.return;K=null}}function as(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,n1(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),xd(),ft=e,K=n=Zi(e.current,null),F=t,it=0,de=null,br=!1,bs=zo(e,t),Ad=!1,is=Pe=Ed=ta=Lr=bt=0,ie=Ws=null,Gf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-ve(i),a=1<<r;t|=e[r],i&=~a}return nr=t,ec(),n}function Yv(e,t){j=null,q.H=ru,t===Vo||t===ic?(t=Lg(),it=3):t===Cp?(t=Lg(),it=4):it=t===Sv?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,de=t,K===null&&(bt=1,ou(e,qe(t,e.current)))}function $v(){var e=q.H;return q.H=ru,e===null?ru:e}function Kv(){var e=q.A;return q.A=Ub,e}function Xf(){bt=4,br||(F&4194048)!==F&&Ge.current!==null||(bs=!0),!(Lr&134217727)&&!(ta&134217727)||ft===null||wr(ft,F,Pe,!1)}function Zc(e,t,n){var i=rt;rt|=2;var r=$v(),a=Kv();(ft!==e||F!==t)&&(fu=null,as(e,t)),t=!1;var s=bt;t:do try{if(it!==0&&K!==null){var o=K,u=de;switch(it){case 8:xd(),s=6;break t;case 3:case 2:case 9:case 6:Ge.current===null&&(t=!0);var c=it;if(it=0,de=null,Ua(e,o,u,c),n&&bs){s=0;break t}break;default:c=it,it=0,de=null,Ua(e,o,u,c)}}qb(),s=bt;break}catch(h){Yv(e,h)}while(!0);return t&&e.shellSuspendCounter++,ji=ga=null,rt=i,q.H=r,q.A=a,K===null&&(ft=null,F=0,ec()),s}function qb(){for(;K!==null;)Xv(K)}function Pb(e,t){var n=rt;rt|=2;var i=$v(),r=Kv();ft!==e||F!==t?(fu=null,cu=Tn()+500,as(e,t)):bs=zo(e,t);t:do try{if(it!==0&&K!==null){t=K;var a=de;e:switch(it){case 1:it=0,de=null,Ua(e,t,a,1);break;case 2:case 9:if(Ug(a)){it=0,de=null,sm(t);break}t=function(){it!==2&&it!==9||ft!==e||(it=7),On(e)},a.then(t,t);break t;case 3:it=7;break t;case 4:it=5;break t;case 7:Ug(a)?(it=0,de=null,sm(t)):(it=0,de=null,Ua(e,t,a,7));break;case 5:var s=null;switch(K.tag){case 26:s=K.memoizedState;case 5:case 27:var o=K;if(!s||d0(s)){it=0,de=null;var u=o.sibling;if(u!==null)K=u;else{var c=o.return;c!==null?(K=c,lc(c)):K=null}break e}}it=0,de=null,Ua(e,t,a,5);break;case 6:it=0,de=null,Ua(e,t,a,6);break;case 8:xd(),bt=6;break t;default:throw Error(N(462))}}Vb();break}catch(h){Yv(e,h)}while(!0);return ji=ga=null,q.H=i,q.A=r,rt=n,K!==null?0:(ft=null,F=0,ec(),bt)}function Vb(){for(;K!==null&&!uT();)Xv(K)}function Xv(e){var t=Ev(e.alternate,e,nr);e.memoizedProps=e.pendingProps,t===null?lc(e):K=t}function sm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Wg(n,t,t.pendingProps,t.type,void 0,F);break;case 11:t=Wg(n,t,t.pendingProps,t.type.render,t.ref,F);break;case 5:hd(t);default:Nv(n,t),t=K=Np(t,nr),t=Ev(n,t,nr)}e.memoizedProps=e.pendingProps,t===null?lc(e):K=t}function Ua(e,t,n,i){ji=ga=null,hd(t),Ya=null,go=0;var r=t.return;try{if(kb(e,r,t,n,F)){bt=1,ou(e,qe(n,e.current)),K=null;return}}catch(a){if(r!==null)throw K=r,a;bt=1,ou(e,qe(n,e.current)),K=null;return}t.flags&32768?(W||i===1?e=!0:bs||F&536870912?e=!1:(br=e=!0,(i===2||i===9||i===3||i===6)&&(i=Ge.current,i!==null&&i.tag===13&&(i.flags|=16384))),Zv(t,e)):lc(t)}function lc(e){var t=e;do{if(t.flags&32768){Zv(t,br);return}e=t.return;var n=Bb(t.alternate,t,nr);if(n!==null){K=n;return}if(t=t.sibling,t!==null){K=t;return}K=t=e}while(t!==null);bt===0&&(bt=5)}function Zv(e,t){do{var n=Ib(e.alternate,e);if(n!==null){n.flags&=32767,K=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){K=e;return}K=e=n}while(e!==null);bt=6,K=null}function om(e,t,n,i,r,a,s,o,u){e.cancelPendingCommit=null;do uc();while(Vt!==0);if(rt&6)throw Error(N(327));if(t!==null){if(t===e.current)throw Error(N(177));if(a=t.lanes|t.childLanes,a|=Wh,ST(e,n,a,s,o,u),e===ft&&(K=ft=null,F=0),rs=t,Or=e,$a=n,Yf=a,$f=r,Hv=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Yb(Xl,function(){return t0(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=q.T,q.T=null,r=tt.p,tt.p=2,s=rt,rt|=4;try{zb(e,t,n)}finally{rt=s,tt.p=r,q.T=i}}Vt=1,Fv(),Qv(),_v()}}function Fv(){if(Vt===1){Vt=0;var e=Or,t=rs,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=q.T,q.T=null;var i=tt.p;tt.p=2;var r=rt;rt|=4;try{Mv(t,e);var a=_f,s=pp(e.containerInfo),o=a.focusedElem,u=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&yp(o.ownerDocument.documentElement,o)){if(u!==null&&_h(o)){var c=u.start,h=u.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var m=o.ownerDocument||document,g=m&&m.defaultView||window;if(g.getSelection){var d=g.getSelection(),b=o.textContent.length,A=Math.min(u.start,b),x=u.end===void 0?A:Math.min(u.end,b);!d.extend&&A>x&&(s=x,x=A,A=s);var p=Og(o,A),y=Og(o,x);if(p&&y&&(d.rangeCount!==1||d.anchorNode!==p.node||d.anchorOffset!==p.offset||d.focusNode!==y.node||d.focusOffset!==y.offset)){var v=m.createRange();v.setStart(p.node,p.offset),d.removeAllRanges(),A>x?(d.addRange(v),d.extend(y.node,y.offset)):(v.setEnd(y.node,y.offset),d.addRange(v))}}}}for(m=[],d=o;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<m.length;o++){var w=m[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Su=!!Qf,_f=Qf=null}finally{rt=r,tt.p=i,q.T=n}}e.current=t,Vt=2}}function Qv(){if(Vt===2){Vt=0;var e=Or,t=rs,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=q.T,q.T=null;var i=tt.p;tt.p=2;var r=rt;rt|=4;try{Rv(e,t.alternate,t)}finally{rt=r,tt.p=i,q.T=n}}Vt=3}}function _v(){if(Vt===4||Vt===3){Vt=0,cT();var e=Or,t=rs,n=$a,i=Hv;t.subtreeFlags&10256||t.flags&10256?Vt=5:(Vt=0,rs=Or=null,Wv(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Dr=null),Yh(n),t=t.stateNode,pe&&typeof pe.onCommitFiberRoot=="function")try{pe.onCommitFiberRoot(Io,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=q.T,r=tt.p,tt.p=2,q.T=null;try{for(var a=e.onRecoverableError,s=0;s<i.length;s++){var o=i[s];a(o.value,{componentStack:o.stack})}}finally{q.T=t,tt.p=r}}$a&3&&uc(),On(e),r=e.pendingLanes,n&4194090&&r&42?e===Kf?to++:(to=0,Kf=e):to=0,Yo(0)}}function Wv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Po(t)))}function uc(e){return Fv(),Qv(),_v(),t0()}function t0(){if(Vt!==5)return!1;var e=Or,t=Yf;Yf=0;var n=Yh($a),i=q.T,r=tt.p;try{tt.p=32>n?32:n,q.T=null,n=$f,$f=null;var a=Or,s=$a;if(Vt=0,rs=Or=null,$a=0,rt&6)throw Error(N(331));var o=rt;if(rt|=4,Pv(a.current),Lv(a,a.current,s,n),rt=o,Yo(0,!1),pe&&typeof pe.onPostCommitFiberRoot=="function")try{pe.onPostCommitFiberRoot(Io,a)}catch{}return!0}finally{tt.p=r,q.T=i,Wv(e,t)}}function lm(e,t,n){t=qe(n,t),t=Pf(e.stateNode,t,2),e=xr(e,t,2),e!==null&&(Mo(e,2),On(e))}function ut(e,t,n){if(e.tag===3)lm(e,e,n);else for(;t!==null;){if(t.tag===3){lm(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Dr===null||!Dr.has(i))){e=qe(n,e),n=pv(2),i=xr(t,n,2),i!==null&&(vv(n,i,t,e),Mo(i,2),On(i));break}}t=t.return}}function Fc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Lb;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(Ad=!0,r.add(n),e=Hb.bind(null,e,t,n),t.then(e,e))}function Hb(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ft===e&&(F&n)===n&&(bt===4||bt===3&&(F&62914560)===F&&300>Tn()-Nd?!(rt&2)&&as(e,0):Ed|=n,is===F&&(is=0)),On(e)}function e0(e,t){t===0&&(t=Fy()),e=Ts(e,t),e!==null&&(Mo(e,t),On(e))}function jb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),e0(e,n)}function Gb(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(N(314))}i!==null&&i.delete(t),e0(e,n)}function Yb(e,t){return jh(e,t)}var hu=null,Aa=null,Zf=!1,du=!1,Qc=!1,ea=0;function On(e){e!==Aa&&e.next===null&&(Aa===null?hu=Aa=e:Aa=Aa.next=e),du=!0,Zf||(Zf=!0,Kb())}function Yo(e,t){if(!Qc&&du){Qc=!0;do for(var n=!1,i=hu;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var a=0;else{var s=i.suspendedLanes,o=i.pingedLanes;a=(1<<31-ve(42|e)+1)-1,a&=r&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,um(i,a))}else a=F,a=Qu(i,i===ft?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||zo(i,a)||(n=!0,um(i,a));i=i.next}while(n);Qc=!1}}function $b(){n0()}function n0(){du=Zf=!1;var e=0;ea!==0&&(e1()&&(e=ea),ea=0);for(var t=Tn(),n=null,i=hu;i!==null;){var r=i.next,a=i0(i,t);a===0?(i.next=null,n===null?hu=r:n.next=r,r===null&&(Aa=n)):(n=i,(e!==0||a&3)&&(du=!0)),i=r}Yo(e)}function i0(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var s=31-ve(a),o=1<<s,u=r[s];u===-1?(!(o&n)||o&i)&&(r[s]=vT(o,t)):u<=t&&(e.expiredLanes|=o),a&=~o}if(t=ft,n=F,n=Qu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(it===2||it===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Ac(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||zo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Ac(i),Yh(n)){case 2:case 8:n=Ky;break;case 32:n=Xl;break;case 268435456:n=Xy;break;default:n=Xl}return i=r0.bind(null,e),n=jh(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Ac(i),e.callbackPriority=2,e.callbackNode=null,2}function r0(e,t){if(Vt!==0&&Vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(uc()&&e.callbackNode!==n)return null;var i=F;return i=Qu(e,e===ft?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Gv(e,i,t),i0(e,Tn()),e.callbackNode!=null&&e.callbackNode===n?r0.bind(null,e):null)}function um(e,t){if(uc())return null;Gv(e,t,!0)}function Kb(){i1(function(){rt&6?jh($y,$b):n0()})}function Dd(){return ea===0&&(ea=Zy()),ea}function cm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Nl(""+e)}function fm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Xb(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var a=cm((r[le]||null).action),s=i.submitter;s&&(t=(t=s[le]||null)?cm(t.formAction):s.getAttribute("formAction"),t!==null&&(a=t,s=null));var o=new _u("action","action",null,i,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ea!==0){var u=s?fm(r,s):new FormData(r);Jf(n,{pending:!0,data:u,method:r.method,action:a},null,u)}}else typeof a=="function"&&(o.preventDefault(),u=s?fm(r,s):new FormData(r),Jf(n,{pending:!0,data:u,method:r.method,action:a},a,u))},currentTarget:r}]})}}for(var _c=0;_c<xf.length;_c++){var Wc=xf[_c],Zb=Wc.toLowerCase(),Fb=Wc[0].toUpperCase()+Wc.slice(1);nn(Zb,"on"+Fb)}nn(Sp,"onAnimationEnd");nn(Tp,"onAnimationIteration");nn(bp,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(db,"onTransitionRun");nn(gb,"onTransitionStart");nn(mb,"onTransitionCancel");nn(wp,"onTransitionEnd");Qa("onMouseEnter",["mouseout","mouseover"]);Qa("onMouseLeave",["mouseout","mouseover"]);Qa("onPointerEnter",["pointerout","pointerover"]);Qa("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mo));function a0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var a=void 0;if(t)for(var s=i.length-1;0<=s;s--){var o=i[s],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=c;try{a(r)}catch(h){su(h)}r.currentTarget=null,a=u}else for(s=0;s<i.length;s++){if(o=i[s],u=o.instance,c=o.currentTarget,o=o.listener,u!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=c;try{a(r)}catch(h){su(h)}r.currentTarget=null,a=u}}}}function $(e,t){var n=t[Sf];n===void 0&&(n=t[Sf]=new Set);var i=e+"__bubble";n.has(i)||(s0(t,e,2,!1),n.add(i))}function tf(e,t,n){var i=0;t&&(i|=4),s0(n,e,i,t)}var dl="_reactListening"+Math.random().toString(36).slice(2);function Od(e){if(!e[dl]){e[dl]=!0,tp.forEach(function(n){n!=="selectionchange"&&(Qb.has(n)||tf(n,!1,e),tf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dl]||(t[dl]=!0,tf("selectionchange",!1,t))}}function s0(e,t,n,i){switch(v0(t)){case 2:var r=E1;break;case 8:r=N1;break;default:r=Bd}n=r.bind(null,t,n,e),r=void 0,!Af||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function ef(e,t,n,i,r){var a=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===r)break;if(s===4)for(s=i.return;s!==null;){var u=s.tag;if((u===3||u===4)&&s.stateNode.containerInfo===r)return;s=s.return}for(;o!==null;){if(s=Da(o),s===null)return;if(u=s.tag,u===5||u===6||u===26||u===27){i=a=s;continue t}o=o.parentNode}}i=i.return}lp(function(){var c=a,h=Xh(n),m=[];t:{var g=Ap.get(e);if(g!==void 0){var d=_u,b=e;switch(e){case"keypress":if(Dl(n)===0)break t;case"keydown":case"keyup":d=YT;break;case"focusin":b="focus",d=Rc;break;case"focusout":b="blur",d=Rc;break;case"beforeblur":case"afterblur":d=Rc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=vg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=IT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=XT;break;case Sp:case Tp:case bp:d=UT;break;case wp:d=FT;break;case"scroll":case"scrollend":d=RT;break;case"wheel":d=_T;break;case"copy":case"cut":case"paste":d=JT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Tg;break;case"toggle":case"beforetoggle":d=tb}var A=(t&4)!==0,x=!A&&(e==="scroll"||e==="scrollend"),p=A?g!==null?g+"Capture":null:g;A=[];for(var y=c,v;y!==null;){var w=y;if(v=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||v===null||p===null||(w=lo(y,p),w!=null&&A.push(yo(y,w,v))),x)break;y=y.return}0<A.length&&(g=new d(g,b,null,n,h),m.push({event:g,listeners:A}))}}if(!(t&7)){t:{if(g=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",g&&n!==wf&&(b=n.relatedTarget||n.fromElement)&&(Da(b)||b[vs]))break t;if((d||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,d?(b=n.relatedTarget||n.toElement,d=c,b=b?Da(b):null,b!==null&&(x=Bo(b),A=b.tag,b!==x||A!==5&&A!==27&&A!==6)&&(b=null)):(d=null,b=c),d!==b)){if(A=vg,w="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(A=Tg,w="onPointerLeave",p="onPointerEnter",y="pointer"),x=d==null?g:Js(d),v=b==null?g:Js(b),g=new A(w,y+"leave",d,n,h),g.target=x,g.relatedTarget=v,w=null,Da(h)===c&&(A=new A(p,y+"enter",b,n,h),A.target=v,A.relatedTarget=x,w=A),x=w,d&&b)e:{for(A=d,p=b,y=0,v=A;v;v=pa(v))y++;for(v=0,w=p;w;w=pa(w))v++;for(;0<y-v;)A=pa(A),y--;for(;0<v-y;)p=pa(p),v--;for(;y--;){if(A===p||p!==null&&A===p.alternate)break e;A=pa(A),p=pa(p)}A=null}else A=null;d!==null&&hm(m,g,d,A,!1),b!==null&&x!==null&&hm(m,x,b,A,!0)}}t:{if(g=c?Js(c):window,d=g.nodeName&&g.nodeName.toLowerCase(),d==="select"||d==="input"&&g.type==="file")var O=Eg;else if(Ag(g))if(gp)O=cb;else{O=lb;var R=ob}else d=g.nodeName,!d||d.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?c&&Kh(c.elementType)&&(O=Eg):O=ub;if(O&&(O=O(e,c))){dp(m,O,n,h);break t}R&&R(e,g,c),e==="focusout"&&c&&g.type==="number"&&c.memoizedProps.value!=null&&bf(g,"number",g.value)}switch(R=c?Js(c):window,e){case"focusin":(Ag(R)||R.contentEditable==="true")&&(ka=R,Ef=c,Gs=null);break;case"focusout":Gs=Ef=ka=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,Cg(m,n,h);break;case"selectionchange":if(hb)break;case"keydown":case"keyup":Cg(m,n,h)}var C;if(Qh)t:{switch(e){case"compositionstart":var B="onCompositionStart";break t;case"compositionend":B="onCompositionEnd";break t;case"compositionupdate":B="onCompositionUpdate";break t}B=void 0}else Ca?fp(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(cp&&n.locale!=="ko"&&(Ca||B!=="onCompositionStart"?B==="onCompositionEnd"&&Ca&&(C=up()):(Tr=h,Zh="value"in Tr?Tr.value:Tr.textContent,Ca=!0)),R=gu(c,B),0<R.length&&(B=new Sg(B,e,null,n,h),m.push({event:B,listeners:R}),C?B.data=C:(C=hp(n),C!==null&&(B.data=C)))),(C=nb?ib(e,n):rb(e,n))&&(B=gu(c,"onBeforeInput"),0<B.length&&(R=new Sg("onBeforeInput","beforeinput",null,n,h),m.push({event:R,listeners:B}),R.data=C)),Xb(m,e,c,n,h)}a0(m,t)})}function yo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=lo(e,n),r!=null&&i.unshift(yo(e,r,a)),r=lo(e,t),r!=null&&i.push(yo(e,r,a))),e.tag===3)return i;e=e.return}return[]}function pa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hm(e,t,n,i,r){for(var a=t._reactName,s=[];n!==null&&n!==i;){var o=n,u=o.alternate,c=o.stateNode;if(o=o.tag,u!==null&&u===i)break;o!==5&&o!==26&&o!==27||c===null||(u=c,r?(c=lo(n,a),c!=null&&s.unshift(yo(n,c,u))):r||(c=lo(n,a),c!=null&&s.push(yo(n,c,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var _b=/\r\n?/g,Wb=/\u0000|\uFFFD/g;function dm(e){return(typeof e=="string"?e:""+e).replace(_b,`
`).replace(Wb,"")}function o0(e,t){return t=dm(t),dm(e)===t}function cc(){}function at(e,t,n,i,r,a){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||_a(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&_a(e,""+i);break;case"className":sl(e,"class",i);break;case"tabIndex":sl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":sl(e,n,i);break;case"style":op(e,i,a);break;case"data":if(t!=="object"){sl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Nl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&at(e,t,"name",r.name,r,null),at(e,t,"formEncType",r.formEncType,r,null),at(e,t,"formMethod",r.formMethod,r,null),at(e,t,"formTarget",r.formTarget,r,null)):(at(e,t,"encType",r.encType,r,null),at(e,t,"method",r.method,r,null),at(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Nl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=cc);break;case"onScroll":i!=null&&$("scroll",e);break;case"onScrollEnd":i!=null&&$("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(N(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(N(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Nl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":$("beforetoggle",e),$("toggle",e),El(e,"popover",i);break;case"xlinkActuate":Cn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Cn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Cn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Cn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Cn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Cn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":El(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=CT.get(n)||n,El(e,n,i))}}function Ff(e,t,n,i,r,a){switch(n){case"style":op(e,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(N(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(N(60));e.innerHTML=n}}break;case"children":typeof i=="string"?_a(e,i):(typeof i=="number"||typeof i=="bigint")&&_a(e,""+i);break;case"onScroll":i!=null&&$("scroll",e);break;case"onScrollEnd":i!=null&&$("scrollend",e);break;case"onClick":i!=null&&(e.onclick=cc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ep.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),a=e[le]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,r),typeof i=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):El(e,n,i)}}}function jt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$("error",e),$("load",e);var i=!1,r=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(N(137,t));default:at(e,t,a,s,n,null)}}r&&at(e,t,"srcSet",n.srcSet,n,null),i&&at(e,t,"src",n.src,n,null);return;case"input":$("invalid",e);var o=a=s=r=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":r=h;break;case"type":s=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":a=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(N(137,t));break;default:at(e,t,i,h,n,null)}}rp(e,a,o,u,c,s,r,!1),Zl(e);return;case"select":$("invalid",e),i=s=a=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":i=o;default:at(e,t,r,o,n,null)}t=a,n=s,e.multiple=!!i,t!=null?Pa(e,!!i,t,!1):n!=null&&Pa(e,!!i,n,!0);return;case"textarea":$("invalid",e),a=r=i=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":i=o;break;case"defaultValue":r=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(N(91));break;default:at(e,t,s,o,n,null)}sp(e,i,r,a),Zl(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:at(e,t,u,i,n,null)}return;case"dialog":$("beforetoggle",e),$("toggle",e),$("cancel",e),$("close",e);break;case"iframe":case"object":$("load",e);break;case"video":case"audio":for(i=0;i<mo.length;i++)$(mo[i],e);break;case"image":$("error",e),$("load",e);break;case"details":$("toggle",e);break;case"embed":case"source":case"link":$("error",e),$("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(N(137,t));default:at(e,t,c,i,n,null)}return;default:if(Kh(t)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&Ff(e,t,h,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&at(e,t,o,i,n,null))}function t1(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,s=null,o=null,u=null,c=null,h=null;for(d in n){var m=n[d];if(n.hasOwnProperty(d)&&m!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":u=m;default:i.hasOwnProperty(d)||at(e,t,d,null,i,m)}}for(var g in i){var d=i[g];if(m=n[g],i.hasOwnProperty(g)&&(d!=null||m!=null))switch(g){case"type":a=d;break;case"name":r=d;break;case"checked":c=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(N(137,t));break;default:d!==m&&at(e,t,g,d,i,m)}}Tf(e,s,o,u,c,h,a,r);return;case"select":d=s=o=g=null;for(a in n)if(u=n[a],n.hasOwnProperty(a)&&u!=null)switch(a){case"value":break;case"multiple":d=u;default:i.hasOwnProperty(a)||at(e,t,a,null,i,u)}for(r in i)if(a=i[r],u=n[r],i.hasOwnProperty(r)&&(a!=null||u!=null))switch(r){case"value":g=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==u&&at(e,t,r,a,i,u)}t=o,n=s,i=d,g!=null?Pa(e,!!n,g,!1):!!i!=!!n&&(t!=null?Pa(e,!!n,t,!0):Pa(e,!!n,n?[]:"",!1));return;case"textarea":d=g=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:at(e,t,o,null,i,r)}for(s in i)if(r=i[s],a=n[s],i.hasOwnProperty(s)&&(r!=null||a!=null))switch(s){case"value":g=r;break;case"defaultValue":d=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(N(91));break;default:r!==a&&at(e,t,s,r,i,a)}ap(e,g,d);return;case"option":for(var b in n)if(g=n[b],n.hasOwnProperty(b)&&g!=null&&!i.hasOwnProperty(b))switch(b){case"selected":e.selected=!1;break;default:at(e,t,b,null,i,g)}for(u in i)if(g=i[u],d=n[u],i.hasOwnProperty(u)&&g!==d&&(g!=null||d!=null))switch(u){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:at(e,t,u,g,i,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in n)g=n[A],n.hasOwnProperty(A)&&g!=null&&!i.hasOwnProperty(A)&&at(e,t,A,null,i,g);for(c in i)if(g=i[c],d=n[c],i.hasOwnProperty(c)&&g!==d&&(g!=null||d!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(N(137,t));break;default:at(e,t,c,g,i,d)}return;default:if(Kh(t)){for(var x in n)g=n[x],n.hasOwnProperty(x)&&g!==void 0&&!i.hasOwnProperty(x)&&Ff(e,t,x,void 0,i,g);for(h in i)g=i[h],d=n[h],!i.hasOwnProperty(h)||g===d||g===void 0&&d===void 0||Ff(e,t,h,g,i,d);return}}for(var p in n)g=n[p],n.hasOwnProperty(p)&&g!=null&&!i.hasOwnProperty(p)&&at(e,t,p,null,i,g);for(m in i)g=i[m],d=n[m],!i.hasOwnProperty(m)||g===d||g==null&&d==null||at(e,t,m,g,i,d)}var Qf=null,_f=null;function mu(e){return e.nodeType===9?e:e.ownerDocument}function gm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Wf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nf=null;function e1(){var e=window.event;return e&&e.type==="popstate"?e===nf?!1:(nf=e,!0):(nf=null,!1)}var u0=typeof setTimeout=="function"?setTimeout:void 0,n1=typeof clearTimeout=="function"?clearTimeout:void 0,mm=typeof Promise=="function"?Promise:void 0,i1=typeof queueMicrotask=="function"?queueMicrotask:typeof mm<"u"?function(e){return mm.resolve(null).then(e).catch(r1)}:u0;function r1(e){setTimeout(function(){throw e})}function Pr(e){return e==="head"}function ym(e,t){var n=t,i=0,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<i&&8>i){n=i;var s=e.ownerDocument;if(n&1&&eo(s.documentElement),n&2&&eo(s.body),n&4)for(n=s.head,eo(n),s=n.firstChild;s;){var o=s.nextSibling,u=s.nodeName;s[Uo]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=o}}if(r===0){e.removeChild(a),bo(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=a}while(n);bo(t)}function th(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":th(n),$h(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function a1(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Uo])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=tn(e.nextSibling),e===null)break}return null}function s1(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=tn(e.nextSibling),e===null))return null;return e}function eh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function o1(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var nh=null;function pm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function c0(e,t,n){switch(t=mu(n),e){case"html":if(e=t.documentElement,!e)throw Error(N(452));return e;case"head":if(e=t.head,!e)throw Error(N(453));return e;case"body":if(e=t.body,!e)throw Error(N(454));return e;default:throw Error(N(451))}}function eo(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$h(e)}var Ye=new Map,vm=new Set;function yu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ar=tt.d;tt.d={f:l1,r:u1,D:c1,C:f1,L:h1,m:d1,X:m1,S:g1,M:y1};function l1(){var e=ar.f(),t=oc();return e||t}function u1(e){var t=Ss(e);t!==null&&t.tag===5&&t.type==="form"?iv(t):ar.r(e)}var ws=typeof document>"u"?null:document;function f0(e,t,n){var i=ws;if(i&&typeof t=="string"&&t){var r=Je(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),vm.has(r)||(vm.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),jt(t,"link",e),Mt(t),i.head.appendChild(t)))}}function c1(e){ar.D(e),f0("dns-prefetch",e,null)}function f1(e,t){ar.C(e,t),f0("preconnect",e,t)}function h1(e,t,n){ar.L(e,t,n);var i=ws;if(i&&e&&t){var r='link[rel="preload"][as="'+Je(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Je(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Je(n.imageSizes)+'"]')):r+='[href="'+Je(e)+'"]';var a=r;switch(t){case"style":a=ss(e);break;case"script":a=As(e)}Ye.has(a)||(e=dt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ye.set(a,e),i.querySelector(r)!==null||t==="style"&&i.querySelector($o(a))||t==="script"&&i.querySelector(Ko(a))||(t=i.createElement("link"),jt(t,"link",e),Mt(t),i.head.appendChild(t)))}}function d1(e,t){ar.m(e,t);var n=ws;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Je(i)+'"][href="'+Je(e)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=As(e)}if(!Ye.has(a)&&(e=dt({rel:"modulepreload",href:e},t),Ye.set(a,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ko(a)))return}i=n.createElement("link"),jt(i,"link",e),Mt(i),n.head.appendChild(i)}}}function g1(e,t,n){ar.S(e,t,n);var i=ws;if(i&&e){var r=qa(i).hoistableStyles,a=ss(e);t=t||"default";var s=r.get(a);if(!s){var o={loading:0,preload:null};if(s=i.querySelector($o(a)))o.loading=5;else{e=dt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ye.get(a))&&Cd(e,n);var u=s=i.createElement("link");Mt(u),jt(u,"link",e),u._p=new Promise(function(c,h){u.onload=c,u.onerror=h}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,zl(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:o},r.set(a,s)}}}function m1(e,t){ar.X(e,t);var n=ws;if(n&&e){var i=qa(n).hoistableScripts,r=As(e),a=i.get(r);a||(a=n.querySelector(Ko(r)),a||(e=dt({src:e,async:!0},t),(t=Ye.get(r))&&kd(e,t),a=n.createElement("script"),Mt(a),jt(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function y1(e,t){ar.M(e,t);var n=ws;if(n&&e){var i=qa(n).hoistableScripts,r=As(e),a=i.get(r);a||(a=n.querySelector(Ko(r)),a||(e=dt({src:e,async:!0,type:"module"},t),(t=Ye.get(r))&&kd(e,t),a=n.createElement("script"),Mt(a),jt(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function Sm(e,t,n,i){var r=(r=Er.current)?yu(r):null;if(!r)throw Error(N(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ss(n.href),n=qa(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ss(n.href);var a=qa(r).hoistableStyles,s=a.get(e);if(s||(r=r.ownerDocument||r,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=r.querySelector($o(e)))&&!a._p&&(s.instance=a,s.state.loading=5),Ye.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ye.set(e,n),a||p1(r,e,n,s.state))),t&&i===null)throw Error(N(528,""));return s}if(t&&i!==null)throw Error(N(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=As(n),n=qa(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(N(444,e))}}function ss(e){return'href="'+Je(e)+'"'}function $o(e){return'link[rel="stylesheet"]['+e+"]"}function h0(e){return dt({},e,{"data-precedence":e.precedence,precedence:null})}function p1(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),jt(t,"link",n),Mt(t),e.head.appendChild(t))}function As(e){return'[src="'+Je(e)+'"]'}function Ko(e){return"script[async]"+e}function Tm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Je(n.href)+'"]');if(i)return t.instance=i,Mt(i),i;var r=dt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Mt(i),jt(i,"style",r),zl(i,n.precedence,e),t.instance=i;case"stylesheet":r=ss(n.href);var a=e.querySelector($o(r));if(a)return t.state.loading|=4,t.instance=a,Mt(a),a;i=h0(n),(r=Ye.get(r))&&Cd(i,r),a=(e.ownerDocument||e).createElement("link"),Mt(a);var s=a;return s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),jt(a,"link",i),t.state.loading|=4,zl(a,n.precedence,e),t.instance=a;case"script":return a=As(n.src),(r=e.querySelector(Ko(a)))?(t.instance=r,Mt(r),r):(i=n,(r=Ye.get(a))&&(i=dt({},n),kd(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Mt(r),jt(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(N(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,zl(i,n.precedence,e));return t.instance}function zl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,s=0;s<i.length;s++){var o=i[s];if(o.dataset.precedence===t)a=o;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Cd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function kd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ml=null;function bm(e,t,n){if(Ml===null){var i=new Map,r=Ml=new Map;r.set(n,i)}else r=Ml,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[Uo]||a[$t]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(t)||"";s=e+s;var o=i.get(s);o?o.push(a):i.set(s,[a])}}return i}function wm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function v1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function d0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var po=null;function S1(){}function T1(e,t,n){if(po===null)throw Error(N(475));var i=po;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=ss(n.href),a=e.querySelector($o(r));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=pu.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=a,Mt(a);return}a=e.ownerDocument||e,n=h0(n),(r=Ye.get(r))&&Cd(n,r),a=a.createElement("link"),Mt(a);var s=a;s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),jt(a,"link",n),t.instance=a}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=pu.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function b1(){if(po===null)throw Error(N(475));var e=po;return e.stylesheets&&e.count===0&&ih(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&ih(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function pu(){if(this.count--,this.count===0){if(this.stylesheets)ih(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vu=null;function ih(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vu=new Map,t.forEach(w1,e),vu=null,pu.call(e))}function w1(e,t){if(!(t.state.loading&4)){var n=vu.get(e);if(n)var i=n.get(null);else{n=new Map,vu.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var s=r[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}r=t.instance,s=r.getAttribute("data-precedence"),a=n.get(s)||i,a===i&&n.set(null,r),n.set(s,r),this.count++,i=pu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var vo={$$typeof:Pi,Provider:null,Consumer:null,_currentValue:Zr,_currentValue2:Zr,_threadCount:0};function A1(e,t,n,i,r,a,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ec(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ec(0),this.hiddenUpdates=Ec(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function g0(e,t,n,i,r,a,s,o,u,c,h,m){return e=new A1(e,t,n,s,o,u,c,m),t=1,a===!0&&(t|=24),a=ge(3,null,null,t),e.current=a,a.stateNode=e,t=rd(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},sd(a),e}function m0(e){return e?(e=Ia,e):Ia}function y0(e,t,n,i,r,a){r=m0(r),i.context===null?i.context=r:i.pendingContext=r,i=Nr(t),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=xr(e,i,t),n!==null&&(Te(n,e,t),Ks(n,e,t))}function Am(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Rd(e,t){Am(e,t),(e=e.alternate)&&Am(e,t)}function p0(e){if(e.tag===13){var t=Ts(e,67108864);t!==null&&Te(t,e,67108864),Rd(e,67108864)}}var Su=!0;function E1(e,t,n,i){var r=q.T;q.T=null;var a=tt.p;try{tt.p=2,Bd(e,t,n,i)}finally{tt.p=a,q.T=r}}function N1(e,t,n,i){var r=q.T;q.T=null;var a=tt.p;try{tt.p=8,Bd(e,t,n,i)}finally{tt.p=a,q.T=r}}function Bd(e,t,n,i){if(Su){var r=rh(i);if(r===null)ef(e,t,i,Tu,n),Em(e,i);else if(D1(r,e,t,n,i))i.stopPropagation();else if(Em(e,i),t&4&&-1<x1.indexOf(e)){for(;r!==null;){var a=Ss(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=jr(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var u=1<<31-ve(s);o.entanglements[1]|=u,s&=~u}On(a),!(rt&6)&&(cu=Tn()+500,Yo(0))}}break;case 13:o=Ts(a,2),o!==null&&Te(o,a,2),oc(),Rd(a,2)}if(a=rh(i),a===null&&ef(e,t,i,Tu,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else ef(e,t,i,null,n)}}function rh(e){return e=Xh(e),Id(e)}var Tu=null;function Id(e){if(Tu=null,e=Da(e),e!==null){var t=Bo(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Hy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Tu=e,null}function v0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fT()){case $y:return 2;case Ky:return 8;case Xl:case hT:return 32;case Xy:return 268435456;default:return 32}default:return 32}}var ah=!1,Cr=null,kr=null,Rr=null,So=new Map,To=new Map,vr=[],x1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Em(e,t){switch(e){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":So.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(t.pointerId)}}function Bs(e,t,n,i,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},t!==null&&(t=Ss(t),t!==null&&p0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function D1(e,t,n,i,r){switch(t){case"focusin":return Cr=Bs(Cr,e,t,n,i,r),!0;case"dragenter":return kr=Bs(kr,e,t,n,i,r),!0;case"mouseover":return Rr=Bs(Rr,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return So.set(a,Bs(So.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,To.set(a,Bs(To.get(a)||null,e,t,n,i,r)),!0}return!1}function S0(e){var t=Da(e.target);if(t!==null){var n=Bo(t);if(n!==null){if(t=n.tag,t===13){if(t=Hy(n),t!==null){e.blockedOn=t,TT(e.priority,function(){if(n.tag===13){var i=Se();i=Gh(i);var r=Ts(n,i);r!==null&&Te(r,n,i),Rd(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ul(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rh(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);wf=i,n.target.dispatchEvent(i),wf=null}else return t=Ss(n),t!==null&&p0(t),e.blockedOn=n,!1;t.shift()}return!0}function Nm(e,t,n){Ul(e)&&n.delete(t)}function O1(){ah=!1,Cr!==null&&Ul(Cr)&&(Cr=null),kr!==null&&Ul(kr)&&(kr=null),Rr!==null&&Ul(Rr)&&(Rr=null),So.forEach(Nm),To.forEach(Nm)}function gl(e,t){e.blockedOn===t&&(e.blockedOn=null,ah||(ah=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,O1)))}var ml=null;function xm(e){ml!==e&&(ml=e,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,function(){ml===e&&(ml=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(Id(i||n)===null)continue;break}var a=Ss(n);a!==null&&(e.splice(t,3),t-=3,Jf(a,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function bo(e){function t(u){return gl(u,e)}Cr!==null&&gl(Cr,e),kr!==null&&gl(kr,e),Rr!==null&&gl(Rr,e),So.forEach(t),To.forEach(t);for(var n=0;n<vr.length;n++){var i=vr[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<vr.length&&(n=vr[0],n.blockedOn===null);)S0(n),n.blockedOn===null&&vr.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],s=r[le]||null;if(typeof a=="function")s||xm(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(r=a,s=a[le]||null)o=s.formAction;else if(Id(r)!==null)continue}else o=s.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),xm(n)}}}function zd(e){this._internalRoot=e}fc.prototype.render=zd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));var n=t.current,i=Se();y0(n,i,e,t,null,null)};fc.prototype.unmount=zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;y0(e.current,2,null,e,null,null),oc(),t[vs]=null}};function fc(e){this._internalRoot=e}fc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vr.length&&t!==0&&t<vr[n].priority;n++);vr.splice(n,0,e),n===0&&S0(e)}};var Dm=Py.version;if(Dm!=="19.1.0")throw Error(N(527,Dm,"19.1.0"));tt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=rT(t),e=e!==null?jy(e):null,e=e===null?null:e.stateNode,e};var C1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{Io=yl.inject(C1),pe=yl}catch{}}Zu.createRoot=function(e,t){if(!Vy(e))throw Error(N(299));var n=!1,i="",r=gv,a=mv,s=yv,o=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=g0(e,1,!1,null,null,n,i,r,a,s,o,null),e[vs]=t.current,Od(e),new zd(t)};Zu.hydrateRoot=function(e,t,n){if(!Vy(e))throw Error(N(299));var i=!1,r="",a=gv,s=mv,o=yv,u=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=g0(e,1,!0,t,n??null,i,r,a,s,o,u,c),t.context=m0(null),n=t.current,i=Se(),i=Gh(i),r=Nr(i),r.callback=null,xr(n,r,i),n=i,t.current.lanes=n,Mo(t,n),On(t),e[vs]=t.current,Od(e),new fc(t)};Zu.version="19.1.0";function T0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T0)}catch(e){console.error(e)}}T0(),Dy.exports=Zu;var k1=Dy.exports;const R1=Ey(k1),B1=e=>{const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},n=/[&<>"'/]/gi;return e.replace(n,i=>t[i])};function b0({onSave:e,placeholder:t}){const[n,i]=ct.useState("");return _.jsx("input",{className:"new-todo",type:"text",placeholder:t,value:n,onChange:r=>{i(r.target.value)},onKeyDown:r=>{r.key==="Enter"&&(e(B1(n.trim())),i(""))}})}function I1({dispatch:e}){const t=n=>{e({type:"ADDED_TODO",payload:{text:n}})};return _.jsxs("header",{className:"header",children:[_.jsx("h1",{children:"todos"}),_.jsx(b0,{onSave:n=>{n.length!==0&&t(n)},placeholder:"What needs to be done?"})]})}var w0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",s=0;s<arguments.length;s++){var o=arguments[s];o&&(a=r(a,i(o)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var s="";for(var o in a)t.call(a,o)&&a[o]&&(s=r(s,o));return s}function r(a,s){return s?a?a+" "+s:a+s:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(w0);var z1=w0.exports;const A0=Ey(z1),Om={SHOW_ALL:"All",SHOW_ACTIVE:"Active",SHOW_COMPLETED:"Completed"};function M1({completedCount:e,activeCount:t,filter:n,onClearCompleted:i,onShow:r}){return _.jsxs("footer",{className:"footer",children:[_.jsxs("span",{className:"todo-count",children:[_.jsx("strong",{children:t||"No"}),"",t===1?"item":"items"," left"]}),_.jsx("ul",{className:"filters",children:Object.keys(Om).map(a=>_.jsx("li",{children:_.jsx("button",{type:"button",className:A0({selected:a===n}),style:{cursor:"pointer"},onClick:()=>r(a),children:Om[a]})},a))}),!!e&&_.jsx("button",{type:"button",className:"clear-completed",onClick:i,children:"Clear completed"})]})}function U1({todo:e,dispatch:t}){const[n,i]=ct.useState(!1),r=o=>{t({type:"DELETED_TODO",payload:{id:o}})},a=(o,u)=>{t({type:"EDITED_TODO",payload:{id:o,text:u}})},s=o=>{t({type:"COMPLETED_TODO",payload:{id:o}})};return _.jsx("li",{className:A0({completed:e.completed,editing:n}),children:n?_.jsx(b0,{editing:n,onSave:o=>{o.length===0?r(e.id):a(e.id,o),i(!1)}}):_.jsxs("div",{className:"view",children:[_.jsx("input",{id:`item-input-${e.id}`,className:"toggle",type:"checkbox",checked:e.completed,onChange:()=>s(e.id)}),_.jsx("label",{htmlFor:`item-input-${e.id}`,onDoubleClick:()=>i(!0),children:e.text}),_.jsx("button",{type:"button","aria-label":"Delete",className:"destroy",onClick:()=>r(e.id)})]})})}const L1={SHOW_ALL:()=>!0,SHOW_ACTIVE:e=>!e.completed,SHOW_COMPLETED:e=>e.completed};function J1({todos:e,dispatch:t}){const[n,i]=ct.useState("SHOW_ALL"),r=e.filter(L1[n]),a=e.filter(c=>c.completed).length,s=e.length-a,o=()=>t({type:"CLEARED_COMPLETED"}),u=()=>t({type:"TOGGLED_ALL"});return e.length===0?null:_.jsxs("section",{className:"main",children:[r.length>0?_.jsxs("div",{className:"toggle-all-container",children:[_.jsx("input",{className:"toggle-all",type:"checkbox",id:"toggle-all",checked:a===e.length,onChange:u}),_.jsx("label",{className:"toggle-all-label",htmlFor:"toggle-all",children:"Mark all as complete"})]}):null,_.jsx("ul",{className:"todo-list",children:r.map(c=>_.jsx(U1,{todo:c,dispatch:t},c.id))}),_.jsx(M1,{completedCount:a,activeCount:s,filter:n,onClearCompleted:o,onShow:i})]})}function q1(e,t){switch(t.type){case"ADDED_TODO":{const{text:n}=t.payload;e.todos.push({id:crypto.randomUUID(),completed:!1,text:n});break}case"DELETED_TODO":{const{id:n}=t.payload;e.todos=e.todos.filter(i=>i.id!==n);break}case"EDITED_TODO":{const{id:n,text:i}=t.payload;e.todos.forEach(r=>{r.id===n&&(r.text=i)});break}case"COMPLETED_TODO":{const{id:n}=t.payload;e.todos.forEach(i=>{i.id===n&&(i.completed=!i.completed)});break}case"CLEARED_COMPLETED":{e.todos=e.todos.filter(n=>!n.completed);break}case"TOGGLED_ALL":{const n=e.todos.every(i=>i.completed);e.todos.forEach(i=>{i.completed=!n});break}}}var X;(function(e){e[e.Canceled=1]="Canceled",e[e.Unknown=2]="Unknown",e[e.InvalidArgument=3]="InvalidArgument",e[e.DeadlineExceeded=4]="DeadlineExceeded",e[e.NotFound=5]="NotFound",e[e.AlreadyExists=6]="AlreadyExists",e[e.PermissionDenied=7]="PermissionDenied",e[e.ResourceExhausted=8]="ResourceExhausted",e[e.FailedPrecondition=9]="FailedPrecondition",e[e.Aborted=10]="Aborted",e[e.OutOfRange=11]="OutOfRange",e[e.Unimplemented=12]="Unimplemented",e[e.Internal=13]="Internal",e[e.Unavailable=14]="Unavailable",e[e.DataLoss=15]="DataLoss",e[e.Unauthenticated=16]="Unauthenticated"})(X||(X={}));function Cm(e){const t=X[e];return typeof t!="string"?e.toString():t[0].toLowerCase()+t.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}class nt extends Error{constructor(t,n=X.Unknown,i,r,a){super(P1(t,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=t,this.code=n,this.metadata=new Headers(i??{}),this.details=r??[],this.cause=a}static from(t,n=X.Unknown){return t instanceof nt?t:t instanceof Error?t.name=="AbortError"?new nt(t.message,X.Canceled):new nt(t.message,n,void 0,void 0,t):new nt(String(t),n,void 0,void 0,t)}static[Symbol.hasInstance](t){return t instanceof Error?Object.getPrototypeOf(t)===nt.prototype?!0:t.name==="ConnectError"&&"code"in t&&typeof t.code=="number"&&"metadata"in t&&"details"in t&&Array.isArray(t.details)&&"rawMessage"in t&&typeof t.rawMessage=="string"&&"cause"in t:!1}findDetails(t){const n="typeName"in t?{findMessage:r=>r===t.typeName?t:void 0}:t,i=[];for(const r of this.details){if("getType"in r){n.findMessage(r.getType().typeName)&&i.push(r);continue}const a=n.findMessage(r.type);if(a)try{i.push(a.fromBinary(r.value))}catch{}}return i}}function P1(e,t){return e.length?`[${Cm(t)}] ${e}`:`[${Cm(t)}]`}function wt(e,t){if(!e)throw new Error(t)}const V1=34028234663852886e22,H1=-34028234663852886e22,j1=4294967295,G1=2147483647,Y1=-2147483648;function Ll(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>G1||e<Y1)throw new Error("invalid int 32: "+e)}function sh(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>j1||e<0)throw new Error("invalid uint 32: "+e)}function E0(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>V1||e<H1))throw new Error("invalid float 32: "+e)}const N0=Symbol("@bufbuild/protobuf/enum-type");function $1(e){const t=e[N0];return wt(t,"missing enum type on enum object"),t}function x0(e,t,n,i){e[N0]=D0(t,n.map(r=>({no:r.no,name:r.name,localName:e[r.no]})))}function D0(e,t,n){const i=Object.create(null),r=Object.create(null),a=[];for(const s of t){const o=O0(s);a.push(o),i[s.name]=o,r[s.no]=o}return{typeName:e,values:a,findName(s){return i[s]},findNumber(s){return r[s]}}}function K1(e,t,n){const i={};for(const r of t){const a=O0(r);i[a.localName]=a.no,i[a.no]=a.localName}return x0(i,e,t),i}function O0(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class k{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,n){const i=this.getType(),r=i.runtime.bin,a=r.makeReadOptions(n);return r.readMessage(this,a.readerFactory(t),t.byteLength,a),this}fromJson(t,n){const i=this.getType(),r=i.runtime.json,a=r.makeReadOptions(n);return r.readMessage(i,t,a,this),this}fromJsonString(t,n){let i;try{i=JSON.parse(t)}catch(r){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${r instanceof Error?r.message:String(r)}`)}return this.fromJson(i,n)}toBinary(t){const n=this.getType(),i=n.runtime.bin,r=i.makeWriteOptions(t),a=r.writerFactory();return i.writeMessage(this,a,r),a.finish()}toJson(t){const n=this.getType(),i=n.runtime.json,r=i.makeWriteOptions(t);return i.writeMessage(this,r)}toJsonString(t){var n;const i=this.toJson(t);return JSON.stringify(i,null,(n=t==null?void 0:t.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function X1(e,t,n,i){var r;const a=(r=i==null?void 0:i.localName)!==null&&r!==void 0?r:t.substring(t.lastIndexOf(".")+1),s={[a]:function(o){e.util.initFields(this),e.util.initPartial(o,this)}}[a];return Object.setPrototypeOf(s.prototype,new k),Object.assign(s,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary(o,u){return new s().fromBinary(o,u)},fromJson(o,u){return new s().fromJson(o,u)},fromJsonString(o,u){return new s().fromJsonString(o,u)},equals(o,u){return e.util.equals(s,o,u)}}),s}function Z1(){let e=0,t=0;for(let i=0;i<28;i+=7){let r=this.buf[this.pos++];if(e|=(r&127)<<i,!(r&128))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(n&15)<<28,t=(n&112)>>4,!(n&128))return this.assertBounds(),[e,t];for(let i=3;i<=31;i+=7){let r=this.buf[this.pos++];if(t|=(r&127)<<i,!(r&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function rf(e,t,n){for(let a=0;a<28;a=a+7){const s=e>>>a,o=!(!(s>>>7)&&t==0),u=(o?s|128:s)&255;if(n.push(u),!o)return}const i=e>>>28&15|(t&7)<<4,r=!!(t>>3);if(n.push((r?i|128:i)&255),!!r){for(let a=3;a<31;a=a+7){const s=t>>>a,o=!!(s>>>7),u=(o?s|128:s)&255;if(n.push(u),!o)return}n.push(t>>>31&1)}}const Jl=4294967296;function km(e){const t=e[0]==="-";t&&(e=e.slice(1));const n=1e6;let i=0,r=0;function a(s,o){const u=Number(e.slice(s,o));r*=n,i=i*n+u,i>=Jl&&(r=r+(i/Jl|0),i=i%Jl)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),t?k0(i,r):Md(i,r)}function F1(e,t){let n=Md(e,t);const i=n.hi&2147483648;i&&(n=k0(n.lo,n.hi));const r=C0(n.lo,n.hi);return i?"-"+r:r}function C0(e,t){if({lo:e,hi:t}=Q1(e,t),t<=2097151)return String(Jl*t+e);const n=e&16777215,i=(e>>>24|t<<8)&16777215,r=t>>16&65535;let a=n+i*6777216+r*6710656,s=i+r*8147497,o=r*2;const u=1e7;return a>=u&&(s+=Math.floor(a/u),a%=u),s>=u&&(o+=Math.floor(s/u),s%=u),o.toString()+Rm(s)+Rm(a)}function Q1(e,t){return{lo:e>>>0,hi:t>>>0}}function Md(e,t){return{lo:e|0,hi:t|0}}function k0(e,t){return t=~t,e?e=~e+1:t+=1,Md(e,t)}const Rm=e=>{const t=String(e);return"0000000".slice(t.length)+t};function Bm(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let n=0;n<9;n++)t.push(e&127|128),e=e>>7;t.push(1)}}function _1(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let n=5;e&128&&n<10;n++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}var Im={};function W1(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof process!="object"||typeof Im!="object"||Im.BUF_BIGINT_DISABLE!=="1")){const r=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),s=BigInt("0"),o=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(u){const c=typeof u=="bigint"?u:BigInt(u);if(c>a||c<r)throw new Error(`int64 invalid: ${u}`);return c},uParse(u){const c=typeof u=="bigint"?u:BigInt(u);if(c>o||c<s)throw new Error(`uint64 invalid: ${u}`);return c},enc(u){return e.setBigInt64(0,this.parse(u),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(u){return e.setBigInt64(0,this.uParse(u),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(u,c){return e.setInt32(0,u,!0),e.setInt32(4,c,!0),e.getBigInt64(0,!0)},uDec(u,c){return e.setInt32(0,u,!0),e.setInt32(4,c,!0),e.getBigUint64(0,!0)}}}const n=r=>wt(/^-?[0-9]+$/.test(r),`int64 invalid: ${r}`),i=r=>wt(/^[0-9]+$/.test(r),`uint64 invalid: ${r}`);return{zero:"0",supported:!1,parse(r){return typeof r!="string"&&(r=r.toString()),n(r),r},uParse(r){return typeof r!="string"&&(r=r.toString()),i(r),r},enc(r){return typeof r!="string"&&(r=r.toString()),n(r),km(r)},uEnc(r){return typeof r!="string"&&(r=r.toString()),i(r),km(r)},dec(r,a){return F1(r,a)},uDec(r,a){return C0(r,a)}}}const ht=W1();var E;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(E||(E={}));var Jr;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"})(Jr||(Jr={}));function ur(e,t,n){if(t===n)return!0;if(e==E.BYTES){if(!(t instanceof Uint8Array)||!(n instanceof Uint8Array)||t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==n[i])return!1;return!0}switch(e){case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return t==n}return!1}function os(e,t){switch(e){case E.BOOL:return!1;case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return t==0?ht.zero:"0";case E.DOUBLE:case E.FLOAT:return 0;case E.BYTES:return new Uint8Array(0);case E.STRING:return"";default:return 0}}function R0(e,t){switch(e){case E.BOOL:return t===!1;case E.STRING:return t==="";case E.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}var Dt;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(Dt||(Dt={}));class tw{constructor(t){this.stack=[],this.textEncoder=t??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let r=0;r<this.chunks.length;r++)t+=this.chunks[r].length;let n=new Uint8Array(t),i=0;for(let r=0;r<this.chunks.length;r++)n.set(this.chunks[r],i),i+=this.chunks[r].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,n){return this.uint32((t<<3|n)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(sh(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return Ll(t),Bm(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let n=this.textEncoder.encode(t);return this.uint32(n.byteLength),this.raw(n)}float(t){E0(t);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,t,!0),this.raw(n)}double(t){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),this.raw(n)}fixed32(t){sh(t);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t,!0),this.raw(n)}sfixed32(t){Ll(t);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),this.raw(n)}sint32(t){return Ll(t),t=(t<<1^t>>31)>>>0,Bm(t,this.buf),this}sfixed64(t){let n=new Uint8Array(8),i=new DataView(n.buffer),r=ht.enc(t);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}fixed64(t){let n=new Uint8Array(8),i=new DataView(n.buffer),r=ht.uEnc(t);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}int64(t){let n=ht.enc(t);return rf(n.lo,n.hi,this.buf),this}sint64(t){let n=ht.enc(t),i=n.hi>>31,r=n.lo<<1^i,a=(n.hi<<1|n.lo>>>31)^i;return rf(r,a,this.buf),this}uint64(t){let n=ht.uEnc(t);return rf(n.lo,n.hi,this.buf),this}}class ew{constructor(t,n){this.varint64=Z1,this.uint32=_1,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=n??new TextDecoder}tag(){let t=this.uint32(),n=t>>>3,i=t&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(t,n){let i=this.pos;switch(t){case Dt.Varint:for(;this.buf[this.pos++]&128;);break;case Dt.Bit64:this.pos+=4;case Dt.Bit32:this.pos+=4;break;case Dt.LengthDelimited:let r=this.uint32();this.pos+=r;break;case Dt.StartGroup:for(;;){const[a,s]=this.tag();if(s===Dt.EndGroup){if(n!==void 0&&a!==n)throw new Error("invalid end group tag");break}this.skip(s,a)}break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return ht.dec(...this.varint64())}uint64(){return ht.uDec(...this.varint64())}sint64(){let[t,n]=this.varint64(),i=-(t&1);return t=(t>>>1|(n&1)<<31)^i,n=n>>>1^i,ht.dec(t,n)}bool(){let[t,n]=this.varint64();return t!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return ht.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return ht.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),n=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(n,n+t)}string(){return this.textDecoder.decode(this.bytes())}}function nw(e,t,n,i){let r;return{typeName:t,extendee:n,get field(){if(!r){const a=typeof i=="function"?i():i;a.name=t.split(".").pop(),a.jsonName=`[${t}]`,r=e.util.newFieldList([a]).list()[0]}return r},runtime:e}}function B0(e){const t=e.field.localName,n=Object.create(null);return n[t]=iw(e),[n,()=>n[t]]}function iw(e){const t=e.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return os(t.T,t.L);case"message":const n=t.T,i=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(i):i;case"map":throw"map fields are not allowed to be extensions"}}function rw(e,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.no)return[e[n]];return[]}return e.filter(n=>n.no===t.no)}let Ji="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),hc=[];for(let e=0;e<Ji.length;e++)hc[Ji[e].charCodeAt(0)]=e;hc[45]=Ji.indexOf("+");hc[95]=Ji.indexOf("/");const Ud={dec(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let n=new Uint8Array(t),i=0,r=0,a,s=0;for(let o=0;o<e.length;o++){if(a=hc[e.charCodeAt(o)],a===void 0)switch(e[o]){case"=":r=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(r){case 0:s=a,r=1;break;case 1:n[i++]=s<<2|(a&48)>>4,s=a,r=2;break;case 2:n[i++]=(s&15)<<4|(a&60)>>2,s=a,r=3;break;case 3:n[i++]=(s&3)<<6|a,r=0;break}}if(r==1)throw Error("invalid base64 string.");return n.subarray(0,i)},enc(e){let t="",n=0,i,r=0;for(let a=0;a<e.length;a++)switch(i=e[a],n){case 0:t+=Ji[i>>2],r=(i&3)<<4,n=1;break;case 1:t+=Ji[r|i>>4],r=(i&15)<<2,n=2;break;case 2:t+=Ji[r|i>>6],t+=Ji[i&63],n=0;break}return n&&(t+=Ji[r],t+="=",n==1&&(t+="=")),t}};function aw(e,t,n){z0(t,e);const i=t.runtime.bin.makeReadOptions(n),r=rw(e.getType().runtime.bin.listUnknownFields(e),t.field),[a,s]=B0(t);for(const o of r)t.runtime.bin.readField(a,i.readerFactory(o.data),t.field,o.wireType,i);return s()}function sw(e,t,n,i){z0(t,e);const r=t.runtime.bin.makeReadOptions(i),a=t.runtime.bin.makeWriteOptions(i);if(I0(e,t)){const c=e.getType().runtime.bin.listUnknownFields(e).filter(h=>h.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const h of c)e.getType().runtime.bin.onUnknownField(e,h.no,h.wireType,h.data)}const s=a.writerFactory();let o=t.field;!o.opt&&!o.repeated&&(o.kind=="enum"||o.kind=="scalar")&&(o=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(o,n,s,a);const u=r.readerFactory(s.finish());for(;u.pos<u.len;){const[c,h]=u.tag(),m=u.skip(h,c);e.getType().runtime.bin.onUnknownField(e,c,h,m)}}function I0(e,t){const n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find(i=>i.no==t.field.no)}function z0(e,t){wt(e.extendee.typeName==t.getType().typeName,`extension ${e.typeName} can only be applied to message ${e.extendee.typeName}`)}function M0(e,t){const n=e.localName;if(e.repeated)return t[n].length>0;if(e.oneof)return t[e.oneof.localName].case===n;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?t[n]!==void 0:e.kind=="enum"?t[n]!==e.T.values[0].no:!R0(e.T,t[n]);case"message":return t[n]!==void 0;case"map":return Object.keys(t[n]).length>0}}function zm(e,t){const n=e.localName,i=!e.opt&&!e.req;if(e.repeated)t[n]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[n]={};break;case"enum":t[n]=i?e.T.values[0].no:void 0;break;case"scalar":t[n]=i?os(e.T,e.L):void 0;break;case"message":t[n]=void 0;break}}function qi(e,t){if(e===null||typeof e!="object"||!Object.getOwnPropertyNames(k.prototype).every(i=>i in e&&typeof e[i]=="function"))return!1;const n=e.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:t===void 0?!0:n.typeName==t.typeName}function U0(e,t){return qi(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}E.DOUBLE,E.FLOAT,E.INT64,E.UINT64,E.INT32,E.UINT32,E.BOOL,E.STRING,E.BYTES;const Mm={ignoreUnknownFields:!1},Um={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function ow(e){return e?Object.assign(Object.assign({},Mm),e):Mm}function lw(e){return e?Object.assign(Object.assign({},Um),e):Um}const bu=Symbol(),ql=Symbol();function uw(){return{makeReadOptions:ow,makeWriteOptions:lw,readMessage(e,t,n,i){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message ${e.typeName} from JSON: ${on(t)}`);i=i??new e;const r=new Map,a=n.typeRegistry;for(const[s,o]of Object.entries(t)){const u=e.fields.findJsonName(s);if(u){if(u.oneof){if(o===null&&u.kind=="scalar")continue;const c=r.get(u.oneof);if(c!==void 0)throw new Error(`cannot decode message ${e.typeName} from JSON: multiple keys for oneof "${u.oneof.name}" present: "${c}", "${s}"`);r.set(u.oneof,s)}Lm(i,o,u,n,e)}else{let c=!1;if(a!=null&&a.findExtension&&s.startsWith("[")&&s.endsWith("]")){const h=a.findExtension(s.substring(1,s.length-1));if(h&&h.extendee.typeName==e.typeName){c=!0;const[m,g]=B0(h);Lm(m,o,h.field,n,h),sw(i,h,g(),n)}}if(!c&&!n.ignoreUnknownFields)throw new Error(`cannot decode message ${e.typeName} from JSON: key "${s}" is unknown`)}}return i},writeMessage(e,t){const n=e.getType(),i={};let r;try{for(r of n.fields.byNumber()){if(!M0(r,e)){if(r.req)throw"required field not set";if(!t.emitDefaultValues||!fw(r))continue}const s=r.oneof?e[r.oneof.localName].value:e[r.localName],o=Jm(r,s,t);o!==void 0&&(i[t.useProtoFieldName?r.name:r.jsonName]=o)}const a=t.typeRegistry;if(a!=null&&a.findExtensionFor)for(const s of n.runtime.bin.listUnknownFields(e)){const o=a.findExtensionFor(n.typeName,s.no);if(o&&I0(e,o)){const u=aw(e,o,t),c=Jm(o.field,u,t);c!==void 0&&(i[o.field.jsonName]=c)}}}catch(a){const s=r?`cannot encode field ${n.typeName}.${r.name} to JSON`:`cannot encode message ${n.typeName} to JSON`,o=a instanceof Error?a.message:String(a);throw new Error(s+(o.length>0?`: ${o}`:""))}return i},readScalar(e,t,n){return no(e,t,n??Jr.BIGINT,!0)},writeScalar(e,t,n){if(t!==void 0&&(n||R0(e,t)))return Pl(e,t)},debug:on}}function on(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":`"${e.split('"').join('\\"')}"`;default:return String(e)}}function Lm(e,t,n,i,r){let a=n.localName;if(n.repeated){if(wt(n.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${on(t)}`);const s=e[a];for(const o of t){if(o===null)throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${on(o)}`);switch(n.kind){case"message":s.push(n.T.fromJson(o,i));break;case"enum":const u=af(n.T,o,i.ignoreUnknownFields,!0);u!==ql&&s.push(u);break;case"scalar":try{s.push(no(n.T,o,n.L,!0))}catch(c){let h=`cannot decode field ${r.typeName}.${n.name} from JSON: ${on(o)}`;throw c instanceof Error&&c.message.length>0&&(h+=`: ${c.message}`),new Error(h)}break}}}else if(n.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${on(t)}`);const s=e[a];for(const[o,u]of Object.entries(t)){if(u===null)throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: map value null`);let c;try{c=cw(n.K,o)}catch(h){let m=`cannot decode map key for field ${r.typeName}.${n.name} from JSON: ${on(t)}`;throw h instanceof Error&&h.message.length>0&&(m+=`: ${h.message}`),new Error(m)}switch(n.V.kind){case"message":s[c]=n.V.T.fromJson(u,i);break;case"enum":const h=af(n.V.T,u,i.ignoreUnknownFields,!0);h!==ql&&(s[c]=h);break;case"scalar":try{s[c]=no(n.V.T,u,Jr.BIGINT,!0)}catch(m){let g=`cannot decode map value for field ${r.typeName}.${n.name} from JSON: ${on(t)}`;throw m instanceof Error&&m.message.length>0&&(g+=`: ${m.message}`),new Error(g)}break}}}else switch(n.oneof&&(e=e[n.oneof.localName]={case:a},a="value"),n.kind){case"message":const s=n.T;if(t===null&&s.typeName!="google.protobuf.Value")return;let o=e[a];qi(o)?o.fromJson(t,i):(e[a]=o=s.fromJson(t,i),s.fieldWrapper&&!n.oneof&&(e[a]=s.fieldWrapper.unwrapField(o)));break;case"enum":const u=af(n.T,t,i.ignoreUnknownFields,!1);switch(u){case bu:zm(n,e);break;case ql:break;default:e[a]=u;break}break;case"scalar":try{const c=no(n.T,t,n.L,!1);switch(c){case bu:zm(n,e);break;default:e[a]=c;break}}catch(c){let h=`cannot decode field ${r.typeName}.${n.name} from JSON: ${on(t)}`;throw c instanceof Error&&c.message.length>0&&(h+=`: ${c.message}`),new Error(h)}break}}function cw(e,t){if(e===E.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1;break}return no(e,t,Jr.BIGINT,!0).toString()}function no(e,t,n,i){if(t===null)return i?os(e,n):bu;switch(e){case E.DOUBLE:case E.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const r=Number(t);if(Number.isNaN(r)||!Number.isFinite(r))break;return e==E.FLOAT&&E0(r),r;case E.INT32:case E.FIXED32:case E.SFIXED32:case E.SINT32:case E.UINT32:let a;if(typeof t=="number"?a=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(a=Number(t)),a===void 0)break;return e==E.UINT32||e==E.FIXED32?sh(a):Ll(a),a;case E.INT64:case E.SFIXED64:case E.SINT64:if(typeof t!="number"&&typeof t!="string")break;const s=ht.parse(t);return n?s.toString():s;case E.FIXED64:case E.UINT64:if(typeof t!="number"&&typeof t!="string")break;const o=ht.uParse(t);return n?o.toString():o;case E.BOOL:if(typeof t!="boolean")break;return t;case E.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch{throw new Error("invalid UTF8")}return t;case E.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return Ud.dec(t)}throw new Error}function af(e,t,n,i){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:i?e.values[0].no:bu;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const r=e.findName(t);if(r!==void 0)return r.no;if(n)return ql;break}throw new Error(`cannot decode enum ${e.typeName} from JSON: ${on(t)}`)}function fw(e){return e.repeated||e.kind=="map"?!0:!(e.oneof||e.kind=="message"||e.opt||e.req)}function Jm(e,t,n){if(e.kind=="map"){wt(typeof t=="object"&&t!=null);const i={},r=Object.entries(t);switch(e.V.kind){case"scalar":for(const[s,o]of r)i[s.toString()]=Pl(e.V.T,o);break;case"message":for(const[s,o]of r)i[s.toString()]=o.toJson(n);break;case"enum":const a=e.V.T;for(const[s,o]of r)i[s.toString()]=sf(a,o,n.enumAsInteger);break}return n.emitDefaultValues||r.length>0?i:void 0}if(e.repeated){wt(Array.isArray(t));const i=[];switch(e.kind){case"scalar":for(let r=0;r<t.length;r++)i.push(Pl(e.T,t[r]));break;case"enum":for(let r=0;r<t.length;r++)i.push(sf(e.T,t[r],n.enumAsInteger));break;case"message":for(let r=0;r<t.length;r++)i.push(t[r].toJson(n));break}return n.emitDefaultValues||i.length>0?i:void 0}switch(e.kind){case"scalar":return Pl(e.T,t);case"enum":return sf(e.T,t,n.enumAsInteger);case"message":return U0(e.T,t).toJson(n)}}function sf(e,t,n){var i;if(wt(typeof t=="number"),e.typeName=="google.protobuf.NullValue")return null;if(n)return t;const r=e.findNumber(t);return(i=r==null?void 0:r.name)!==null&&i!==void 0?i:t}function Pl(e,t){switch(e){case E.INT32:case E.SFIXED32:case E.SINT32:case E.FIXED32:case E.UINT32:return wt(typeof t=="number"),t;case E.FLOAT:case E.DOUBLE:return wt(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case E.STRING:return wt(typeof t=="string"),t;case E.BOOL:return wt(typeof t=="boolean"),t;case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return wt(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case E.BYTES:return wt(t instanceof Uint8Array),Ud.enc(t)}}const va=Symbol("@bufbuild/protobuf/unknown-fields"),qm={readUnknownFields:!0,readerFactory:e=>new ew(e)},Pm={writeUnknownFields:!0,writerFactory:()=>new tw};function hw(e){return e?Object.assign(Object.assign({},qm),e):qm}function dw(e){return e?Object.assign(Object.assign({},Pm),e):Pm}function gw(){return{makeReadOptions:hw,makeWriteOptions:dw,listUnknownFields(e){var t;return(t=e[va])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[va]},writeUnknownFields(e,t){const i=e[va];if(i)for(const r of i)t.tag(r.no,r.wireType).raw(r.data)},onUnknownField(e,t,n,i){const r=e;Array.isArray(r[va])||(r[va]=[]),r[va].push({no:t,wireType:n,data:i})},readMessage(e,t,n,i,r){const a=e.getType(),s=r?t.len:t.pos+n;let o,u;for(;t.pos<s&&([o,u]=t.tag(),!(r===!0&&u==Dt.EndGroup));){const c=a.fields.find(o);if(!c){const h=t.skip(u,o);i.readUnknownFields&&this.onUnknownField(e,o,u,h);continue}Vm(e,t,c,u,i)}if(r&&(u!=Dt.EndGroup||o!==n))throw new Error("invalid end group tag")},readField:Vm,writeMessage(e,t,n){const i=e.getType();for(const r of i.fields.byNumber()){if(!M0(r,e)){if(r.req)throw new Error(`cannot encode field ${i.typeName}.${r.name} to binary: required field not set`);continue}const a=r.oneof?e[r.oneof.localName].value:e[r.localName];Hm(r,a,t,n)}return n.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,n,i){t!==void 0&&Hm(e,t,n,i)}}}function Vm(e,t,n,i,r){let{repeated:a,localName:s}=n;switch(n.oneof&&(e=e[n.oneof.localName],e.case!=s&&delete e.value,e.case=s,s="value"),n.kind){case"scalar":case"enum":const o=n.kind=="enum"?E.INT32:n.T;let u=wu;if(n.kind=="scalar"&&n.L>0&&(u=yw),a){let g=e[s];if(i==Dt.LengthDelimited&&o!=E.STRING&&o!=E.BYTES){let b=t.uint32()+t.pos;for(;t.pos<b;)g.push(u(t,o))}else g.push(u(t,o))}else e[s]=u(t,o);break;case"message":const c=n.T;a?e[s].push(Vl(t,new c,r,n)):qi(e[s])?Vl(t,e[s],r,n):(e[s]=Vl(t,new c,r,n),c.fieldWrapper&&!n.oneof&&!n.repeated&&(e[s]=c.fieldWrapper.unwrapField(e[s])));break;case"map":let[h,m]=mw(n,t,r);e[s][h]=m;break}}function Vl(e,t,n,i){const r=t.getType().runtime.bin,a=i==null?void 0:i.delimited;return r.readMessage(t,e,a?i.no:e.uint32(),n,a),t}function mw(e,t,n){const i=t.uint32(),r=t.pos+i;let a,s;for(;t.pos<r;){const[o]=t.tag();switch(o){case 1:a=wu(t,e.K);break;case 2:switch(e.V.kind){case"scalar":s=wu(t,e.V.T);break;case"enum":s=t.int32();break;case"message":s=Vl(t,new e.V.T,n,void 0);break}break}}if(a===void 0&&(a=os(e.K,Jr.BIGINT)),typeof a!="string"&&typeof a!="number"&&(a=a.toString()),s===void 0)switch(e.V.kind){case"scalar":s=os(e.V.T,Jr.BIGINT);break;case"enum":s=e.V.T.values[0].no;break;case"message":s=new e.V.T;break}return[a,s]}function yw(e,t){const n=wu(e,t);return typeof n=="bigint"?n.toString():n}function wu(e,t){switch(t){case E.STRING:return e.string();case E.BOOL:return e.bool();case E.DOUBLE:return e.double();case E.FLOAT:return e.float();case E.INT32:return e.int32();case E.INT64:return e.int64();case E.UINT64:return e.uint64();case E.FIXED64:return e.fixed64();case E.BYTES:return e.bytes();case E.FIXED32:return e.fixed32();case E.SFIXED32:return e.sfixed32();case E.SFIXED64:return e.sfixed64();case E.SINT64:return e.sint64();case E.UINT32:return e.uint32();case E.SINT32:return e.sint32()}}function Hm(e,t,n,i){wt(t!==void 0);const r=e.repeated;switch(e.kind){case"scalar":case"enum":let a=e.kind=="enum"?E.INT32:e.T;if(r)if(wt(Array.isArray(t)),e.packed)vw(n,a,e.no,t);else for(const s of t)io(n,a,e.no,s);else io(n,a,e.no,t);break;case"message":if(r){wt(Array.isArray(t));for(const s of t)jm(n,i,e,s)}else jm(n,i,e,t);break;case"map":wt(typeof t=="object"&&t!=null);for(const[s,o]of Object.entries(t))pw(n,i,e,s,o);break}}function pw(e,t,n,i,r){e.tag(n.no,Dt.LengthDelimited),e.fork();let a=i;switch(n.K){case E.INT32:case E.FIXED32:case E.UINT32:case E.SFIXED32:case E.SINT32:a=Number.parseInt(i);break;case E.BOOL:wt(i=="true"||i=="false"),a=i=="true";break}switch(io(e,n.K,1,a),n.V.kind){case"scalar":io(e,n.V.T,2,r);break;case"enum":io(e,E.INT32,2,r);break;case"message":wt(r!==void 0),e.tag(2,Dt.LengthDelimited).bytes(r.toBinary(t));break}e.join()}function jm(e,t,n,i){const r=U0(n.T,i);n.delimited?e.tag(n.no,Dt.StartGroup).raw(r.toBinary(t)).tag(n.no,Dt.EndGroup):e.tag(n.no,Dt.LengthDelimited).bytes(r.toBinary(t))}function io(e,t,n,i){wt(i!==void 0);let[r,a]=L0(t);e.tag(n,r)[a](i)}function vw(e,t,n,i){if(!i.length)return;e.tag(n,Dt.LengthDelimited).fork();let[,r]=L0(t);for(let a=0;a<i.length;a++)e[r](i[a]);e.join()}function L0(e){let t=Dt.Varint;switch(e){case E.BYTES:case E.STRING:t=Dt.LengthDelimited;break;case E.DOUBLE:case E.FIXED64:case E.SFIXED64:t=Dt.Bit64;break;case E.FIXED32:case E.SFIXED32:case E.FLOAT:t=Dt.Bit32;break}const n=E[e].toLowerCase();return[t,n]}function Sw(){return{setEnumType:x0,initPartial(e,t){if(e===void 0)return;const n=t.getType();for(const i of n.fields.byMember()){const r=i.localName,a=t,s=e;if(s[r]!=null)switch(i.kind){case"oneof":const o=s[r].case;if(o===void 0)continue;const u=i.findField(o);let c=s[r].value;u&&u.kind=="message"&&!qi(c,u.T)?c=new u.T(c):u&&u.kind==="scalar"&&u.T===E.BYTES&&(c=Is(c)),a[r]={case:o,value:c};break;case"scalar":case"enum":let h=s[r];i.T===E.BYTES&&(h=i.repeated?h.map(Is):Is(h)),a[r]=h;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===E.BYTES)for(const[d,b]of Object.entries(s[r]))a[r][d]=Is(b);else Object.assign(a[r],s[r]);break;case"message":const g=i.V.T;for(const d of Object.keys(s[r])){let b=s[r][d];g.fieldWrapper||(b=new g(b)),a[r][d]=b}break}break;case"message":const m=i.T;if(i.repeated)a[r]=s[r].map(g=>qi(g,m)?g:new m(g));else{const g=s[r];m.fieldWrapper?m.typeName==="google.protobuf.BytesValue"?a[r]=Is(g):a[r]=g:a[r]=qi(g,m)?g:new m(g)}break}}},equals(e,t,n){return t===n?!0:!t||!n?!1:e.fields.byMember().every(i=>{const r=t[i.localName],a=n[i.localName];if(i.repeated){if(r.length!==a.length)return!1;switch(i.kind){case"message":return r.every((s,o)=>i.T.equals(s,a[o]));case"scalar":return r.every((s,o)=>ur(i.T,s,a[o]));case"enum":return r.every((s,o)=>ur(E.INT32,s,a[o]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":let s=r,o=a;return i.T.fieldWrapper&&(s!==void 0&&!qi(s)&&(s=i.T.fieldWrapper.wrapField(s)),o!==void 0&&!qi(o)&&(o=i.T.fieldWrapper.wrapField(o))),i.T.equals(s,o);case"enum":return ur(E.INT32,r,a);case"scalar":return ur(i.T,r,a);case"oneof":if(r.case!==a.case)return!1;const u=i.findField(r.case);if(u===void 0)return!0;switch(u.kind){case"message":return u.T.equals(r.value,a.value);case"enum":return ur(E.INT32,r.value,a.value);case"scalar":return ur(u.T,r.value,a.value)}throw new Error(`oneof cannot contain ${u.kind}`);case"map":const c=Object.keys(r).concat(Object.keys(a));switch(i.V.kind){case"message":const h=i.V.T;return c.every(g=>h.equals(r[g],a[g]));case"enum":return c.every(g=>ur(E.INT32,r[g],a[g]));case"scalar":const m=i.V.T;return c.every(g=>ur(m,r[g],a[g]))}break}})},clone(e){const t=e.getType(),n=new t,i=n;for(const r of t.fields.byMember()){const a=e[r.localName];let s;if(r.repeated)s=a.map(pl);else if(r.kind=="map"){s=i[r.localName];for(const[o,u]of Object.entries(a))s[o]=pl(u)}else r.kind=="oneof"?s=r.findField(a.case)?{case:a.case,value:pl(a.value)}:{case:void 0}:s=pl(a);i[r.localName]=s}for(const r of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(i,r.no,r.wireType,r.data);return n}}}function pl(e){if(e===void 0)return e;if(qi(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function Is(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Tw(e,t,n){return{syntax:e,json:uw(),bin:gw(),util:Object.assign(Object.assign({},Sw()),{newFieldList:t,initFields:n}),makeMessageType(i,r,a){return X1(this,i,r,a)},makeEnum:K1,makeEnumType:D0,getEnumType:$1,makeExtension(i,r,a){return nw(this,i,r,a)}}}class bw{constructor(t,n){this._fields=t,this._normalizer=n}findJsonName(t){if(!this.jsonNames){const n={};for(const i of this.list())n[i.jsonName]=n[i.name]=i;this.jsonNames=n}return this.jsonNames[t]}find(t){if(!this.numbers){const n={};for(const i of this.list())n[i.no]=i;this.numbers=n}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,n)=>t.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const t=this.members;let n;for(const i of this.list())i.oneof?i.oneof!==n&&(n=i.oneof,t.push(n)):t.push(i)}return this.members}}function J0(e,t){const n=q0(e);return t?n:Dw(xw(n))}function ww(e){return J0(e,!1)}const Aw=q0;function q0(e){let t=!1;const n=[];for(let i=0;i<e.length;i++){let r=e.charAt(i);switch(r){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(r),t=!1;break;default:t&&(t=!1,r=r.toUpperCase()),n.push(r);break}}return n.join("")}const Ew=new Set(["constructor","toString","toJSON","valueOf"]),Nw=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),P0=e=>`${e}$`,xw=e=>Nw.has(e)?P0(e):e,Dw=e=>Ew.has(e)?P0(e):e;class Ow{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=ww(t)}addField(t){wt(t.oneof===this,`field ${t.name} not one of ${this.name}`),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[t]}}function Cw(e,t){var n,i,r,a,s,o;const u=[];let c;for(const h of typeof e=="function"?e():e){const m=h;if(m.localName=J0(h.name,h.oneof!==void 0),m.jsonName=(n=h.jsonName)!==null&&n!==void 0?n:Aw(h.name),m.repeated=(i=h.repeated)!==null&&i!==void 0?i:!1,h.kind=="scalar"&&(m.L=(r=h.L)!==null&&r!==void 0?r:Jr.BIGINT),m.delimited=(a=h.delimited)!==null&&a!==void 0?a:!1,m.req=(s=h.req)!==null&&s!==void 0?s:!1,m.opt=(o=h.opt)!==null&&o!==void 0?o:!1,h.packed===void 0&&(m.packed=h.kind=="enum"||h.kind=="scalar"&&h.T!=E.BYTES&&h.T!=E.STRING),h.oneof!==void 0){const g=typeof h.oneof=="string"?h.oneof:h.oneof.name;(!c||c.name!=g)&&(c=new Ow(g)),m.oneof=c,c.addField(m)}u.push(m)}return u}const f=Tw("proto3",e=>new bw(e,t=>Cw(t)),e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,i=e;if(t.repeated){i[n]=[];continue}switch(t.kind){case"oneof":i[n]={case:void 0};break;case"enum":i[n]=0;break;case"map":i[n]={};break;case"scalar":i[n]=os(t.T,t.L);break}}});var Qt;(function(e){e[e.Unary=0]="Unary",e[e.ServerStreaming=1]="ServerStreaming",e[e.ClientStreaming=2]="ClientStreaming",e[e.BiDiStreaming=3]="BiDiStreaming"})(Qt||(Qt={}));var Gm;(function(e){e[e.NoSideEffects=1]="NoSideEffects",e[e.Idempotent=2]="Idempotent"})(Gm||(Gm={}));class Pt extends k{constructor(t){super(),this.seconds=ht.zero,this.nanos=0,f.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${f.json.debug(t)}`);const i=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const r=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(r))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=ht.parse(r/1e3),this.nanos=0,i[7]&&(this.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),this}toJson(t){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let i="Z";if(this.nanos>0){const r=(this.nanos+1e9).toString().substring(1);r.substring(3)==="000000"?i="."+r.substring(0,3)+"Z":r.substring(6)==="000"?i="."+r.substring(0,6)+"Z":i="."+r+"Z"}return new Date(n).toISOString().replace(".000Z",i)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return Pt.fromDate(new Date)}static fromDate(t){const n=t.getTime();return new Pt({seconds:ht.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(t,n){return new Pt().fromBinary(t,n)}static fromJson(t,n){return new Pt().fromJson(t,n)}static fromJsonString(t,n){return new Pt().fromJsonString(t,n)}static equals(t,n){return f.util.equals(Pt,t,n)}}Pt.runtime=f;Pt.typeName="google.protobuf.Timestamp";Pt.fields=f.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Yi extends k{constructor(t){super(),this.seconds=ht.zero,this.nanos=0,f.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);const i=t.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(i===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);const r=Number(i[1]);if(r>315576e6||r<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);if(this.seconds=ht.parse(r),typeof i[2]=="string"){const a=i[2]+"0".repeat(9-i[2].length);this.nanos=parseInt(a),(r<0||Object.is(r,-0))&&(this.nanos=-this.nanos)}return this}toJson(t){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let n=this.seconds.toString();if(this.nanos!==0){let i=Math.abs(this.nanos).toString();i="0".repeat(9-i.length)+i,i.substring(3)==="000000"?i=i.substring(0,3):i.substring(6)==="000"&&(i=i.substring(0,6)),n+="."+i,this.nanos<0&&Number(this.seconds)==0&&(n="-"+n)}return n+"s"}static fromBinary(t,n){return new Yi().fromBinary(t,n)}static fromJson(t,n){return new Yi().fromJson(t,n)}static fromJsonString(t,n){return new Yi().fromJsonString(t,n)}static equals(t,n){return f.util.equals(Yi,t,n)}}Yi.runtime=f;Yi.typeName="google.protobuf.Duration";Yi.fields=f.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class un extends k{constructor(t){super(),this.typeUrl="",this.value=new Uint8Array(0),f.util.initPartial(t,this)}toJson(t){var n;if(this.typeUrl==="")return{};const i=this.typeUrlToName(this.typeUrl),r=(n=t==null?void 0:t.typeRegistry)===null||n===void 0?void 0:n.findMessage(i);if(!r)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let s=r.fromBinary(this.value).toJson(t);return(i.startsWith("google.protobuf.")||s===null||Array.isArray(s)||typeof s!="object")&&(s={value:s}),s["@type"]=this.typeUrl,s}fromJson(t,n){var i;if(t===null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${t===null?"null":Array.isArray(t)?"array":typeof t}`);if(Object.keys(t).length==0)return this;const r=t["@type"];if(typeof r!="string"||r=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const a=this.typeUrlToName(r),s=(i=n==null?void 0:n.typeRegistry)===null||i===void 0?void 0:i.findMessage(a);if(!s)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${r} is not in the type registry`);let o;if(a.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(t,"value"))o=s.fromJson(t.value,n);else{const u=Object.assign({},t);delete u["@type"],o=s.fromJson(u,n)}return this.packFrom(o),this}packFrom(t){this.value=t.toBinary(),this.typeUrl=this.typeNameToUrl(t.getType().typeName)}unpackTo(t){return this.is(t.getType())?(t.fromBinary(this.value),!0):!1}unpack(t){if(this.typeUrl==="")return;const n=t.findMessage(this.typeUrlToName(this.typeUrl));if(n)return n.fromBinary(this.value)}is(t){if(this.typeUrl==="")return!1;const n=this.typeUrlToName(this.typeUrl);let i="";return typeof t=="string"?i=t:i=t.typeName,n===i}typeNameToUrl(t){return`type.googleapis.com/${t}`}typeUrlToName(t){if(!t.length)throw new Error(`invalid type url: ${t}`);const n=t.lastIndexOf("/"),i=n>=0?t.substring(n+1):t;if(!i.length)throw new Error(`invalid type url: ${t}`);return i}static pack(t){const n=new un;return n.packFrom(t),n}static fromBinary(t,n){return new un().fromBinary(t,n)}static fromJson(t,n){return new un().fromJson(t,n)}static fromJsonString(t,n){return new un().fromJsonString(t,n)}static equals(t,n){return f.util.equals(un,t,n)}}un.runtime=f;un.typeName="google.protobuf.Any";un.fields=f.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class fn extends k{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.DOUBLE,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.DOUBLE,t)}catch(i){let r='cannot decode message google.protobuf.DoubleValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new fn().fromBinary(t,n)}static fromJson(t,n){return new fn().fromJson(t,n)}static fromJsonString(t,n){return new fn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(fn,t,n)}}fn.runtime=f;fn.typeName="google.protobuf.DoubleValue";fn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);fn.fieldWrapper={wrapField(e){return new fn({value:e})},unwrapField(e){return e.value}};class hn extends k{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.FLOAT,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.FLOAT,t)}catch(i){let r='cannot decode message google.protobuf.FloatValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new hn().fromBinary(t,n)}static fromJson(t,n){return new hn().fromJson(t,n)}static fromJsonString(t,n){return new hn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(hn,t,n)}}hn.runtime=f;hn.typeName="google.protobuf.FloatValue";hn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);hn.fieldWrapper={wrapField(e){return new hn({value:e})},unwrapField(e){return e.value}};class dn extends k{constructor(t){super(),this.value=ht.zero,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.INT64,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.INT64,t)}catch(i){let r='cannot decode message google.protobuf.Int64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new dn().fromBinary(t,n)}static fromJson(t,n){return new dn().fromJson(t,n)}static fromJsonString(t,n){return new dn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(dn,t,n)}}dn.runtime=f;dn.typeName="google.protobuf.Int64Value";dn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);dn.fieldWrapper={wrapField(e){return new dn({value:e})},unwrapField(e){return e.value}};class gn extends k{constructor(t){super(),this.value=ht.zero,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.UINT64,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.UINT64,t)}catch(i){let r='cannot decode message google.protobuf.UInt64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new gn().fromBinary(t,n)}static fromJson(t,n){return new gn().fromJson(t,n)}static fromJsonString(t,n){return new gn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(gn,t,n)}}gn.runtime=f;gn.typeName="google.protobuf.UInt64Value";gn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);gn.fieldWrapper={wrapField(e){return new gn({value:e})},unwrapField(e){return e.value}};class me extends k{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.INT32,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.INT32,t)}catch(i){let r='cannot decode message google.protobuf.Int32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new me().fromBinary(t,n)}static fromJson(t,n){return new me().fromJson(t,n)}static fromJsonString(t,n){return new me().fromJsonString(t,n)}static equals(t,n){return f.util.equals(me,t,n)}}me.runtime=f;me.typeName="google.protobuf.Int32Value";me.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);me.fieldWrapper={wrapField(e){return new me({value:e})},unwrapField(e){return e.value}};class mn extends k{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.UINT32,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.UINT32,t)}catch(i){let r='cannot decode message google.protobuf.UInt32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new mn().fromBinary(t,n)}static fromJson(t,n){return new mn().fromJson(t,n)}static fromJsonString(t,n){return new mn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(mn,t,n)}}mn.runtime=f;mn.typeName="google.protobuf.UInt32Value";mn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);mn.fieldWrapper={wrapField(e){return new mn({value:e})},unwrapField(e){return e.value}};class yn extends k{constructor(t){super(),this.value=!1,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.BOOL,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.BOOL,t)}catch(i){let r='cannot decode message google.protobuf.BoolValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new yn().fromBinary(t,n)}static fromJson(t,n){return new yn().fromJson(t,n)}static fromJsonString(t,n){return new yn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(yn,t,n)}}yn.runtime=f;yn.typeName="google.protobuf.BoolValue";yn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);yn.fieldWrapper={wrapField(e){return new yn({value:e})},unwrapField(e){return e.value}};class ae extends k{constructor(t){super(),this.value="",f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.STRING,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.STRING,t)}catch(i){let r='cannot decode message google.protobuf.StringValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new ae().fromBinary(t,n)}static fromJson(t,n){return new ae().fromJson(t,n)}static fromJsonString(t,n){return new ae().fromJsonString(t,n)}static equals(t,n){return f.util.equals(ae,t,n)}}ae.runtime=f;ae.typeName="google.protobuf.StringValue";ae.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);ae.fieldWrapper={wrapField(e){return new ae({value:e})},unwrapField(e){return e.value}};class pn extends k{constructor(t){super(),this.value=new Uint8Array(0),f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(E.BYTES,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(E.BYTES,t)}catch(i){let r='cannot decode message google.protobuf.BytesValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new pn().fromBinary(t,n)}static fromJson(t,n){return new pn().fromJson(t,n)}static fromJsonString(t,n){return new pn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(pn,t,n)}}pn.runtime=f;pn.typeName="google.protobuf.BytesValue";pn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);pn.fieldWrapper={wrapField(e){return new pn({value:e})},unwrapField(e){return e.value}};function kw(e,t,n){try{const i=Ud.dec(e);return t?t.fromBinary(i,n):i}catch(i){throw nt.from(i,X.DataLoss)}}function Rw(e,t){const n={};for(const[i,r]of Object.entries(e.methods)){const a=t(Object.assign(Object.assign({},r),{localName:i,service:e}));a!=null&&(n[i]=a)}return n}const Ym=1;function $m(e){let t,n=new Uint8Array(0);function i(r){const a=new Uint8Array(n.length+r.length);a.set(n),a.set(r,n.length),n=a}return new ReadableStream({start(){t=e.getReader()},async pull(r){let a;for(;;){if(a===void 0&&n.byteLength>=5){let u=0;for(let c=1;c<5;c++)u=(u<<8)+n[c];a={flags:n[0],length:u}}if(a!==void 0&&n.byteLength>=a.length+5)break;const o=await t.read();if(o.done)break;i(o.value)}if(a===void 0){if(n.byteLength==0){r.close();return}r.error(new nt("premature end of stream",X.DataLoss));return}const s=n.subarray(5,5+a.length);n=n.subarray(5+a.length),r.enqueue({flags:a.flags,data:s})}})}function Km(e,t){const n=new Uint8Array(t.length+5);n.set(t,5);const i=new DataView(n.buffer,n.byteOffset,n.byteLength);return i.setUint8(0,e),i.setUint32(1,t.length),n}var Bw=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(s){return new Promise(function(o,u){s=e[a](s),r(o,u,s.done,s.value)})}}function r(a,s,o,u){Promise.resolve(u).then(function(c){a({value:c,done:o})},s)}},wo=function(e){return this instanceof wo?(this.v=e,this):new wo(e)},Iw=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r={},o("next"),o("throw"),o("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(d){return function(b){return Promise.resolve(b).then(d,m)}}function o(d,b){i[d]&&(r[d]=function(A){return new Promise(function(x,p){a.push([d,A,x,p])>1||u(d,A)})},b&&(r[d]=b(r[d])))}function u(d,b){try{c(i[d](b))}catch(A){g(a[0][3],A)}}function c(d){d.value instanceof wo?Promise.resolve(d.value.v).then(h,m):g(a[0][2],d)}function h(d){u("next",d)}function m(d){u("throw",d)}function g(d,b){d(b),a.shift(),a.length&&u(a[0][0],a[0][1])}},zw=function(e){var t,n;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,a){t[r]=e[r]?function(s){return(n=!n)?{value:wo(e[r](s)),done:!1}:a?a(s):s}:a}};function Mw(e){return Iw(this,arguments,function*(){yield wo(yield*zw(Bw(e)))})}var V0=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(s){return new Promise(function(o,u){s=e[a](s),r(o,u,s.done,s.value)})}}function r(a,s,o,u){Promise.resolve(u).then(function(c){a({value:c,done:o})},s)}},ls=function(e){return this instanceof ls?(this.v=e,this):new ls(e)},Uw=function(e){var t,n;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,a){t[r]=e[r]?function(s){return(n=!n)?{value:ls(e[r](s)),done:!1}:a?a(s):s}:a}},Lw=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r={},o("next"),o("throw"),o("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(d){return function(b){return Promise.resolve(b).then(d,m)}}function o(d,b){i[d]&&(r[d]=function(A){return new Promise(function(x,p){a.push([d,A,x,p])>1||u(d,A)})},b&&(r[d]=b(r[d])))}function u(d,b){try{c(i[d](b))}catch(A){g(a[0][3],A)}}function c(d){d.value instanceof ls?Promise.resolve(d.value.v).then(h,m):g(a[0][2],d)}function h(d){u("next",d)}function m(d){u("throw",d)}function g(d,b){d(b),a.shift(),a.length&&u(a[0][0],a[0][1])}};function Jw(e,t){return Rw(e,n=>{switch(n.kind){case Qt.Unary:return qw(t,e,n);case Qt.ServerStreaming:return Pw(t,e,n);case Qt.ClientStreaming:return Vw(t,e,n);case Qt.BiDiStreaming:return Hw(t,e,n);default:return null}})}function qw(e,t,n){return async function(i,r){var a,s;const o=await e.unary(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,i,r==null?void 0:r.contextValues);return(a=r==null?void 0:r.onHeader)===null||a===void 0||a.call(r,o.header),(s=r==null?void 0:r.onTrailer)===null||s===void 0||s.call(r,o.trailer),o.message}}function Pw(e,t,n){return function(i,r){return H0(e.stream(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,Mw([i]),r==null?void 0:r.contextValues),r)}}function Vw(e,t,n){return async function(i,r){var a,s,o,u,c,h;const m=await e.stream(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,i,r==null?void 0:r.contextValues);(c=r==null?void 0:r.onHeader)===null||c===void 0||c.call(r,m.header);let g,d=0;try{for(var b=!0,A=V0(m.message),x;x=await A.next(),a=x.done,!a;b=!0)u=x.value,b=!1,g=u,d++}catch(p){s={error:p}}finally{try{!b&&!a&&(o=A.return)&&await o.call(A)}finally{if(s)throw s.error}}if(!g)throw new nt("protocol error: missing response message",X.Unimplemented);if(d>1)throw new nt("protocol error: received extra messages for client streaming method",X.Unimplemented);return(h=r==null?void 0:r.onTrailer)===null||h===void 0||h.call(r,m.trailer),g}}function Hw(e,t,n){return function(i,r){return H0(e.stream(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,i,r==null?void 0:r.contextValues),r)}}function H0(e,t){const n=function(){return Lw(this,arguments,function*(){var i,r;const a=yield ls(e);(i=t==null?void 0:t.onHeader)===null||i===void 0||i.call(t,a.header),yield ls(yield*Uw(V0(a.message))),(r=t==null?void 0:t.onTrailer)===null||r===void 0||r.call(t,a.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function jw(...e){const t=new AbortController,n=e.filter(r=>r!==void 0).concat(t.signal);for(const r of n){if(r.aborted){i.apply(r);break}r.addEventListener("abort",i)}function i(){t.signal.aborted||t.abort(j0(this));for(const r of n)r.removeEventListener("abort",i)}return t}function Gw(e){const t=new AbortController,n=()=>{t.abort(new nt("the operation timed out",X.DeadlineExceeded))};let i;return e!==void 0&&(e<=0?n():i=setTimeout(n,e)),{signal:t.signal,cleanup:()=>clearTimeout(i)}}function j0(e){if(!e.aborted)return;if(e.reason!==void 0)return e.reason;const t=new Error("This operation was aborted");return t.name="AbortError",t}function Xm(){return{get(e){return e.id in this?this[e.id]:e.defaultValue},set(e,t){return this[e.id]=t,this},delete(e){return delete this[e.id],this}}}const of=128;function Zm(e){const t=new Headers,n=new TextDecoder().decode(e).split(`\r
`);for(const i of n){if(i==="")continue;const r=i.indexOf(":");if(r>0){const a=i.substring(0,r).trim(),s=i.substring(r+1).trim();t.append(a,s)}}return t}const Yw="Content-Type",$w="Grpc-Timeout",us="Grpc-Status",G0="Grpc-Message",Kw="Grpc-Status-Details-Bin",Xw="X-User-Agent",Zw="X-Grpc-Web",Fw="application/grpc-web+proto",Qw="application/grpc-web+json";class $i extends k{constructor(t){super(),this.code=0,this.message="",this.details=[],f.util.initPartial(t,this)}static fromBinary(t,n){return new $i().fromBinary(t,n)}static fromJson(t,n){return new $i().fromJson(t,n)}static fromJsonString(t,n){return new $i().fromJsonString(t,n)}static equals(t,n){return f.util.equals($i,t,n)}}$i.runtime=f;$i.typeName="google.rpc.Status";$i.fields=f.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:un,repeated:!0}]);const _w="0";function Y0(e){var t;const n=e.get(Kw);if(n!=null){const r=kw(n,$i);if(r.code==0)return;const a=new nt(r.message,r.code,e);return a.details=r.details.map(s=>({type:s.typeUrl.substring(s.typeUrl.lastIndexOf("/")+1),value:s.value})),a}const i=e.get(us);if(i!=null){if(i===_w)return;const r=parseInt(i,10);return r in X?new nt(decodeURIComponent((t=e.get(G0))!==null&&t!==void 0?t:""),r,e):new nt(`invalid grpc-status: ${i}`,X.Internal,e)}}function Fm(e,t,n){const i=typeof t=="string"?t:t.typeName,r=typeof n=="string"?n:n.name;return e.toString().replace(/\/?$/,`/${i}/${r}`)}function $0(e,t){return t instanceof e?t:new e(t)}function Ww(e,t){function n(i){return i.done===!0?i:{done:i.done,value:$0(e,i.value)}}return{[Symbol.asyncIterator](){const i=t[Symbol.asyncIterator](),r={next:()=>i.next().then(n)};return i.throw!==void 0&&(r.throw=a=>i.throw(a).then(n)),i.return!==void 0&&(r.return=a=>i.return(a).then(n)),r}}}function K0(e,t){var n;return(n=t==null?void 0:t.concat().reverse().reduce((i,r)=>r(i),e))!==null&&n!==void 0?n:e}function tA(e){var t;const n=Object.assign({},e);return(t=n.ignoreUnknownFields)!==null&&t!==void 0||(n.ignoreUnknownFields=!0),n}function Qm(e,t,n,i){const r=t?_m(e.I,i):Wm(e.I,n);return{parse:(t?_m(e.O,i):Wm(e.O,n)).parse,serialize:r.serialize}}function _m(e,t){return{parse(n){try{return e.fromBinary(n,t)}catch(i){const r=i instanceof Error?i.message:String(i);throw new nt(`parse binary: ${r}`,X.Internal)}},serialize(n){try{return n.toBinary(t)}catch(i){const r=i instanceof Error?i.message:String(i);throw new nt(`serialize binary: ${r}`,X.Internal)}}}}function Wm(e,t){var n,i;const r=(n=t==null?void 0:t.textEncoder)!==null&&n!==void 0?n:new TextEncoder,a=(i=t==null?void 0:t.textDecoder)!==null&&i!==void 0?i:new TextDecoder,s=tA(t);return{parse(o){try{const u=a.decode(o);return e.fromJsonString(u,s)}catch(u){throw nt.from(u,X.InvalidArgument)}},serialize(o){try{const u=o.toJsonString(s);return r.encode(u)}catch(u){throw nt.from(u,X.Internal)}}}}function eA(e){const t=K0(e.next,e.interceptors),[n,i,r]=X0(e),a=Object.assign(Object.assign({},e.req),{message:$0(e.req.method.I,e.req.message),signal:n});return t(a).then(s=>(r(),s),i)}function nA(e){const t=K0(e.next,e.interceptors),[n,i,r]=X0(e),a=Object.assign(Object.assign({},e.req),{message:Ww(e.req.method.I,e.req.message),signal:n});let s=!1;return n.addEventListener("abort",function(){var o,u;const c=e.req.message[Symbol.asyncIterator]();s||(o=c.throw)===null||o===void 0||o.call(c,this.reason).catch(()=>{}),(u=c.return)===null||u===void 0||u.call(c).catch(()=>{})}),t(a).then(o=>Object.assign(Object.assign({},o),{message:{[Symbol.asyncIterator](){const u=o.message[Symbol.asyncIterator]();return{next(){return u.next().then(c=>(c.done==!0&&(s=!0,r()),c),i)}}}}}),i)}function X0(e){const{signal:t,cleanup:n}=Gw(e.timeoutMs),i=jw(e.signal,t);return[i.signal,function(a){const s=nt.from(t.aborted?j0(t):a);return i.abort(s),n(),Promise.reject(s)},function(){n(),i.abort()}]}function iA(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function ty(e,t){const n=Y0(e);if(n)throw t.forEach((i,r)=>{n.metadata.append(r,i)}),n;if(!t.has(us)&&!e.has(us))throw new nt("protocol error: missing status",X.Internal)}function ey(e,t,n,i){const r=new Headers(n??{});return r.set(Yw,e?Fw:Qw),r.set(Zw,"1"),r.set(Xw,"connect-es/1.6.1"),t!==void 0&&r.set($w,`${t}m`),r}function rA(e){switch(e){case 400:return X.Internal;case 401:return X.Unauthenticated;case 403:return X.PermissionDenied;case 404:return X.Unimplemented;case 429:return X.Unavailable;case 502:return X.Unavailable;case 503:return X.Unavailable;case 504:return X.Unavailable;default:return X.Unknown}}function ny(e,t){var n;if(e>=200&&e<300)return{foundStatus:t.has(us),headerError:Y0(t)};throw new nt(decodeURIComponent((n=t.get(G0))!==null&&n!==void 0?n:`HTTP ${e}`),rA(e),t)}var Xr=function(e){return this instanceof Xr?(this.v=e,this):new Xr(e)},aA=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r={},o("next"),o("throw"),o("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(d){return function(b){return Promise.resolve(b).then(d,m)}}function o(d,b){i[d]&&(r[d]=function(A){return new Promise(function(x,p){a.push([d,A,x,p])>1||u(d,A)})},b&&(r[d]=b(r[d])))}function u(d,b){try{c(i[d](b))}catch(A){g(a[0][3],A)}}function c(d){d.value instanceof Xr?Promise.resolve(d.value.v).then(h,m):g(a[0][2],d)}function h(d){u("next",d)}function m(d){u("throw",d)}function g(d,b){d(b),a.shift(),a.length&&u(a[0][0],a[0][1])}};function sA(e){var t;iA();const n=(t=e.useBinaryFormat)!==null&&t!==void 0?t:!0;return{async unary(i,r,a,s,o,u,c){var h;const{serialize:m,parse:g}=Qm(r,n,e.jsonOptions,e.binaryOptions);return s=s===void 0?e.defaultTimeoutMs:s<=0?void 0:s,await eA({interceptors:e.interceptors,signal:a,timeoutMs:s,req:{stream:!1,service:i,method:r,url:Fm(e.baseUrl,i,r),init:{method:"POST",credentials:(h=e.credentials)!==null&&h!==void 0?h:"same-origin",redirect:"error",mode:"cors"},header:ey(n,s,o),contextValues:c??Xm(),message:u},next:async d=>{var b;const x=await((b=e.fetch)!==null&&b!==void 0?b:globalThis.fetch)(d.url,Object.assign(Object.assign({},d.init),{headers:d.header,signal:d.signal,body:Km(0,m(d.message))})),{headerError:p}=ny(x.status,x.headers);if(!x.body)throw p!==void 0?p:"missing response body";const y=$m(x.body).getReader();let v,w;for(;;){const O=await y.read();if(O.done)break;const{flags:R,data:C}=O.value;if((R&Ym)===Ym)throw new nt("protocol error: received unsupported compressed output",X.Internal);if(R===of){if(v!==void 0)throw"extra trailer";v=Zm(C);continue}if(w!==void 0)throw new nt("extra message",X.Unimplemented);w=g(C)}if(v===void 0)throw p!==void 0?p:new nt("missing trailer",x.headers.has(us)?X.Unimplemented:X.Unknown);if(ty(v,x.headers),w===void 0)throw new nt("missing message",v.has(us)?X.Unimplemented:X.Unknown);return{stream:!1,service:i,method:r,header:x.headers,message:w,trailer:v}}})},async stream(i,r,a,s,o,u,c){var h;const{serialize:m,parse:g}=Qm(r,n,e.jsonOptions,e.binaryOptions);function d(A,x,p,y,v){return aA(this,arguments,function*(){const O=$m(A).getReader();if(x){if(!(yield Xr(O.read())).done)throw"extra data for trailers-only";return yield Xr(void 0)}let R=!1;for(;;){const C=yield Xr(O.read());if(C.done)break;const{flags:B,data:P}=C.value;if((B&of)===of){if(R)throw"extra trailer";R=!0;const J=Zm(P);ty(J,y),J.forEach((Yt,rn)=>p.set(rn,Yt));continue}if(R)throw"extra message";yield yield Xr(g(P))}if("throwIfAborted"in v&&v.throwIfAborted(),!R)throw"missing trailer"})}async function b(A){if(r.kind!=Qt.ServerStreaming)throw"The fetch API does not support streaming request bodies";const x=await A[Symbol.asyncIterator]().next();if(x.done==!0)throw"missing request message";return Km(0,m(x.value))}return s=s===void 0?e.defaultTimeoutMs:s<=0?void 0:s,nA({interceptors:e.interceptors,signal:a,timeoutMs:s,req:{stream:!0,service:i,method:r,url:Fm(e.baseUrl,i,r),init:{method:"POST",credentials:(h=e.credentials)!==null&&h!==void 0?h:"same-origin",redirect:"error",mode:"cors"},header:ey(n,s,o),contextValues:c??Xm(),message:u},next:async A=>{var x;const y=await((x=e.fetch)!==null&&x!==void 0?x:globalThis.fetch)(A.url,Object.assign(Object.assign({},A.init),{headers:A.header,signal:A.signal,body:await b(A.message)})),{foundStatus:v,headerError:w}=ny(y.status,y.headers);if(w!=null)throw w;if(!y.body)throw"missing response body";const O=new Headers;return Object.assign(Object.assign({},A),{header:y.headers,trailer:O,message:d(y.body,v,O,y.headers,A.signal)})}})}}}var V=(e=>(e[e.NULL=0]="NULL",e[e.BOOLEAN=1]="BOOLEAN",e[e.INTEGER=2]="INTEGER",e[e.LONG=3]="LONG",e[e.DOUBLE=4]="DOUBLE",e[e.STRING=5]="STRING",e[e.BYTES=6]="BYTES",e[e.DATE=7]="DATE",e[e.JSON_OBJECT=8]="JSON_OBJECT",e[e.JSON_ARRAY=9]="JSON_ARRAY",e[e.TEXT=10]="TEXT",e[e.INTEGER_CNT=11]="INTEGER_CNT",e[e.LONG_CNT=12]="LONG_CNT",e[e.TREE=13]="TREE",e))(V||{});f.util.setEnumType(V,"yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER"},{no:3,name:"VALUE_TYPE_LONG"},{no:4,name:"VALUE_TYPE_DOUBLE"},{no:5,name:"VALUE_TYPE_STRING"},{no:6,name:"VALUE_TYPE_BYTES"},{no:7,name:"VALUE_TYPE_DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE"}]);var na=(e=>(e[e.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",e[e.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",e[e.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",e[e.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",e))(na||{});f.util.setEnumType(na,"yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST"}]);const Bn=class Bn extends k{constructor(n){super();l(this,"root");l(this,"presences",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Bn().fromBinary(n,i)}static fromJson(n,i){return new Bn().fromJson(n,i)}static fromJsonString(n,i){return new Bn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Bn,n,i)}};l(Bn,"runtime",f),l(Bn,"typeName","yorkie.v1.Snapshot"),l(Bn,"fields",f.util.newFieldList(()=>[{no:1,name:"root",kind:"message",T:ue},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:mc}}]));let oh=Bn;var Ce;let sr=(Ce=class extends k{constructor(n){super();l(this,"documentKey","");l(this,"checkpoint");l(this,"snapshot",new Uint8Array(0));l(this,"changes",[]);l(this,"minSyncedTicket");l(this,"isRemoved",!1);l(this,"versionVector");f.util.initPartial(n,this)}static fromBinary(n,i){return new Ce().fromBinary(n,i)}static fromJson(n,i){return new Ce().fromJson(n,i)}static fromJsonString(n,i){return new Ce().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ce,n,i)}},l(Ce,"runtime",f),l(Ce,"typeName","yorkie.v1.ChangePack"),l(Ce,"fields",f.util.newFieldList(()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:Q0},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:Z0,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:z},{no:6,name:"is_removed",kind:"scalar",T:8},{no:7,name:"version_vector",kind:"message",T:gc}])),Ce);var ke;let Z0=(ke=class extends k{constructor(n){super();l(this,"id");l(this,"message","");l(this,"operations",[]);l(this,"presenceChange");f.util.initPartial(n,this)}static fromBinary(n,i){return new ke().fromBinary(n,i)}static fromJson(n,i){return new ke().fromJson(n,i)}static fromJsonString(n,i){return new ke().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ke,n,i)}},l(ke,"runtime",f),l(ke,"typeName","yorkie.v1.Change"),l(ke,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:dc},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:Ld,repeated:!0},{no:4,name:"presence_change",kind:"message",T:No}])),ke);var Re;let dc=(Re=class extends k{constructor(n){super();l(this,"clientSeq",0);l(this,"serverSeq",ht.zero);l(this,"lamport",ht.zero);l(this,"actorId",new Uint8Array(0));l(this,"versionVector");f.util.initPartial(n,this)}static fromBinary(n,i){return new Re().fromBinary(n,i)}static fromJson(n,i){return new Re().fromJson(n,i)}static fromJsonString(n,i){return new Re().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Re,n,i)}},l(Re,"runtime",f),l(Re,"typeName","yorkie.v1.ChangeID"),l(Re,"fields",f.util.newFieldList(()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3},{no:3,name:"lamport",kind:"scalar",T:3},{no:4,name:"actor_id",kind:"scalar",T:12},{no:5,name:"version_vector",kind:"message",T:gc}])),Re);var Be;let gc=(Be=class extends k{constructor(n){super();l(this,"vector",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Be().fromBinary(n,i)}static fromJson(n,i){return new Be().fromJson(n,i)}static fromJsonString(n,i){return new Be().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Be,n,i)}},l(Be,"runtime",f),l(Be,"typeName","yorkie.v1.VersionVector"),l(Be,"fields",f.util.newFieldList(()=>[{no:1,name:"vector",kind:"map",K:9,V:{kind:"scalar",T:3}}])),Be);var Ie;let Ld=(Ie=class extends k{constructor(n){super();l(this,"body",{case:void 0});f.util.initPartial(n,this)}static fromBinary(n,i){return new Ie().fromBinary(n,i)}static fromJson(n,i){return new Ie().fromJson(n,i)}static fromJsonString(n,i){return new Ie().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ie,n,i)}},l(Ie,"runtime",f),l(Ie,"typeName","yorkie.v1.Operation"),l(Ie,"fields",f.util.newFieldList(()=>[{no:1,name:"set",kind:"message",T:Au,oneof:"body"},{no:2,name:"add",kind:"message",T:Eu,oneof:"body"},{no:3,name:"move",kind:"message",T:Nu,oneof:"body"},{no:4,name:"remove",kind:"message",T:xu,oneof:"body"},{no:5,name:"edit",kind:"message",T:Du,oneof:"body"},{no:7,name:"style",kind:"message",T:Ou,oneof:"body"},{no:8,name:"increase",kind:"message",T:Cu,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:ku,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:Ru,oneof:"body"},{no:11,name:"array_set",kind:"message",T:Bu,oneof:"body"}])),Ie);const In=class In extends k{constructor(n){super();l(this,"parentCreatedAt");l(this,"key","");l(this,"value");l(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new In().fromBinary(n,i)}static fromJson(n,i){return new In().fromJson(n,i)}static fromJsonString(n,i){return new In().fromJsonString(n,i)}static equals(n,i){return f.util.equals(In,n,i)}};l(In,"runtime",f),l(In,"typeName","yorkie.v1.Operation.Set"),l(In,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:Oe},{no:4,name:"executed_at",kind:"message",T:z}]));let Au=In;const zn=class zn extends k{constructor(n){super();l(this,"parentCreatedAt");l(this,"prevCreatedAt");l(this,"value");l(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new zn().fromBinary(n,i)}static fromJson(n,i){return new zn().fromJson(n,i)}static fromJsonString(n,i){return new zn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(zn,n,i)}};l(zn,"runtime",f),l(zn,"typeName","yorkie.v1.Operation.Add"),l(zn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"prev_created_at",kind:"message",T:z},{no:3,name:"value",kind:"message",T:Oe},{no:4,name:"executed_at",kind:"message",T:z}]));let Eu=zn;const Mn=class Mn extends k{constructor(n){super();l(this,"parentCreatedAt");l(this,"prevCreatedAt");l(this,"createdAt");l(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Mn().fromBinary(n,i)}static fromJson(n,i){return new Mn().fromJson(n,i)}static fromJsonString(n,i){return new Mn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Mn,n,i)}};l(Mn,"runtime",f),l(Mn,"typeName","yorkie.v1.Operation.Move"),l(Mn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"prev_created_at",kind:"message",T:z},{no:3,name:"created_at",kind:"message",T:z},{no:4,name:"executed_at",kind:"message",T:z}]));let Nu=Mn;const Un=class Un extends k{constructor(n){super();l(this,"parentCreatedAt");l(this,"createdAt");l(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Un().fromBinary(n,i)}static fromJson(n,i){return new Un().fromJson(n,i)}static fromJsonString(n,i){return new Un().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Un,n,i)}};l(Un,"runtime",f),l(Un,"typeName","yorkie.v1.Operation.Remove"),l(Un,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"created_at",kind:"message",T:z},{no:3,name:"executed_at",kind:"message",T:z}]));let xu=Un;const Ln=class Ln extends k{constructor(n){super();l(this,"parentCreatedAt");l(this,"from");l(this,"to");l(this,"createdAtMapByActor",{});l(this,"content","");l(this,"executedAt");l(this,"attributes",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Ln().fromBinary(n,i)}static fromJson(n,i){return new Ln().fromJson(n,i)}static fromJsonString(n,i){return new Ln().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ln,n,i)}};l(Ln,"runtime",f),l(Ln,"typeName","yorkie.v1.Operation.Edit"),l(Ln,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"from",kind:"message",T:ua},{no:3,name:"to",kind:"message",T:ua},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:z}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:z},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let Du=Ln;const Jn=class Jn extends k{constructor(n){super();l(this,"parentCreatedAt");l(this,"from");l(this,"to");l(this,"attributes",{});l(this,"executedAt");l(this,"createdAtMapByActor",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Jn().fromBinary(n,i)}static fromJson(n,i){return new Jn().fromJson(n,i)}static fromJsonString(n,i){return new Jn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Jn,n,i)}};l(Jn,"runtime",f),l(Jn,"typeName","yorkie.v1.Operation.Style"),l(Jn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"from",kind:"message",T:ua},{no:3,name:"to",kind:"message",T:ua},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:z},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:z}}]));let Ou=Jn;const qn=class qn extends k{constructor(n){super();l(this,"parentCreatedAt");l(this,"value");l(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new qn().fromBinary(n,i)}static fromJson(n,i){return new qn().fromJson(n,i)}static fromJsonString(n,i){return new qn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(qn,n,i)}};l(qn,"runtime",f),l(qn,"typeName","yorkie.v1.Operation.Increase"),l(qn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"value",kind:"message",T:Oe},{no:3,name:"executed_at",kind:"message",T:z}]));let Cu=qn;const Pn=class Pn extends k{constructor(n){super();l(this,"parentCreatedAt");l(this,"from");l(this,"to");l(this,"createdAtMapByActor",{});l(this,"contents",[]);l(this,"splitLevel",0);l(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Pn().fromBinary(n,i)}static fromJson(n,i){return new Pn().fromJson(n,i)}static fromJsonString(n,i){return new Pn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Pn,n,i)}};l(Pn,"runtime",f),l(Pn,"typeName","yorkie.v1.Operation.TreeEdit"),l(Pn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"from",kind:"message",T:oa},{no:3,name:"to",kind:"message",T:oa},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:z}},{no:5,name:"contents",kind:"message",T:Vu,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:z}]));let ku=Pn;const Vn=class Vn extends k{constructor(n){super();l(this,"parentCreatedAt");l(this,"from");l(this,"to");l(this,"attributes",{});l(this,"executedAt");l(this,"attributesToRemove",[]);l(this,"createdAtMapByActor",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Vn().fromBinary(n,i)}static fromJson(n,i){return new Vn().fromJson(n,i)}static fromJsonString(n,i){return new Vn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Vn,n,i)}};l(Vn,"runtime",f),l(Vn,"typeName","yorkie.v1.Operation.TreeStyle"),l(Vn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"from",kind:"message",T:oa},{no:3,name:"to",kind:"message",T:oa},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:z},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:z}}]));let Ru=Vn;const Hn=class Hn extends k{constructor(n){super();l(this,"parentCreatedAt");l(this,"createdAt");l(this,"value");l(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Hn().fromBinary(n,i)}static fromJson(n,i){return new Hn().fromJson(n,i)}static fromJsonString(n,i){return new Hn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Hn,n,i)}};l(Hn,"runtime",f),l(Hn,"typeName","yorkie.v1.Operation.ArraySet"),l(Hn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:z},{no:2,name:"created_at",kind:"message",T:z},{no:3,name:"value",kind:"message",T:Oe},{no:4,name:"executed_at",kind:"message",T:z}]));let Bu=Hn;const jn=class jn extends k{constructor(n){super();l(this,"createdAt");l(this,"movedAt");l(this,"removedAt");l(this,"type",0);l(this,"value",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new jn().fromBinary(n,i)}static fromJson(n,i){return new jn().fromJson(n,i)}static fromJsonString(n,i){return new jn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(jn,n,i)}};l(jn,"runtime",f),l(jn,"typeName","yorkie.v1.JSONElementSimple"),l(jn,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:z},{no:2,name:"moved_at",kind:"message",T:z},{no:3,name:"removed_at",kind:"message",T:z},{no:4,name:"type",kind:"enum",T:f.getEnumType(V)},{no:5,name:"value",kind:"scalar",T:12}]));let Oe=jn;const Gn=class Gn extends k{constructor(n){super();l(this,"body",{case:void 0});f.util.initPartial(n,this)}static fromBinary(n,i){return new Gn().fromBinary(n,i)}static fromJson(n,i){return new Gn().fromJson(n,i)}static fromJsonString(n,i){return new Gn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Gn,n,i)}};l(Gn,"runtime",f),l(Gn,"typeName","yorkie.v1.JSONElement"),l(Gn,"fields",f.util.newFieldList(()=>[{no:1,name:"json_object",kind:"message",T:Iu,oneof:"body"},{no:2,name:"json_array",kind:"message",T:zu,oneof:"body"},{no:3,name:"primitive",kind:"message",T:Mu,oneof:"body"},{no:5,name:"text",kind:"message",T:Uu,oneof:"body"},{no:6,name:"counter",kind:"message",T:Lu,oneof:"body"},{no:7,name:"tree",kind:"message",T:Ju,oneof:"body"}]));let ue=Gn;const Yn=class Yn extends k{constructor(n){super();l(this,"nodes",[]);l(this,"createdAt");l(this,"movedAt");l(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Yn().fromBinary(n,i)}static fromJson(n,i){return new Yn().fromJson(n,i)}static fromJsonString(n,i){return new Yn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Yn,n,i)}};l(Yn,"runtime",f),l(Yn,"typeName","yorkie.v1.JSONElement.JSONObject"),l(Yn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:F0,repeated:!0},{no:2,name:"created_at",kind:"message",T:z},{no:3,name:"moved_at",kind:"message",T:z},{no:4,name:"removed_at",kind:"message",T:z}]));let Iu=Yn;const $n=class $n extends k{constructor(n){super();l(this,"nodes",[]);l(this,"createdAt");l(this,"movedAt");l(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new $n().fromBinary(n,i)}static fromJson(n,i){return new $n().fromJson(n,i)}static fromJsonString(n,i){return new $n().fromJsonString(n,i)}static equals(n,i){return f.util.equals($n,n,i)}};l($n,"runtime",f),l($n,"typeName","yorkie.v1.JSONElement.JSONArray"),l($n,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:qu,repeated:!0},{no:2,name:"created_at",kind:"message",T:z},{no:3,name:"moved_at",kind:"message",T:z},{no:4,name:"removed_at",kind:"message",T:z}]));let zu=$n;const Kn=class Kn extends k{constructor(n){super();l(this,"type",0);l(this,"value",new Uint8Array(0));l(this,"createdAt");l(this,"movedAt");l(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Kn().fromBinary(n,i)}static fromJson(n,i){return new Kn().fromJson(n,i)}static fromJsonString(n,i){return new Kn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Kn,n,i)}};l(Kn,"runtime",f),l(Kn,"typeName","yorkie.v1.JSONElement.Primitive"),l(Kn,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(V)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:z},{no:4,name:"moved_at",kind:"message",T:z},{no:5,name:"removed_at",kind:"message",T:z}]));let Mu=Kn;const Xn=class Xn extends k{constructor(n){super();l(this,"nodes",[]);l(this,"createdAt");l(this,"movedAt");l(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Xn().fromBinary(n,i)}static fromJson(n,i){return new Xn().fromJson(n,i)}static fromJsonString(n,i){return new Xn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Xn,n,i)}};l(Xn,"runtime",f),l(Xn,"typeName","yorkie.v1.JSONElement.Text"),l(Xn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Pu,repeated:!0},{no:2,name:"created_at",kind:"message",T:z},{no:3,name:"moved_at",kind:"message",T:z},{no:4,name:"removed_at",kind:"message",T:z}]));let Uu=Xn;const Zn=class Zn extends k{constructor(n){super();l(this,"type",0);l(this,"value",new Uint8Array(0));l(this,"createdAt");l(this,"movedAt");l(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Zn().fromBinary(n,i)}static fromJson(n,i){return new Zn().fromJson(n,i)}static fromJsonString(n,i){return new Zn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Zn,n,i)}};l(Zn,"runtime",f),l(Zn,"typeName","yorkie.v1.JSONElement.Counter"),l(Zn,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(V)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:z},{no:4,name:"moved_at",kind:"message",T:z},{no:5,name:"removed_at",kind:"message",T:z}]));let Lu=Zn;const Fn=class Fn extends k{constructor(n){super();l(this,"nodes",[]);l(this,"createdAt");l(this,"movedAt");l(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Fn().fromBinary(n,i)}static fromJson(n,i){return new Fn().fromJson(n,i)}static fromJsonString(n,i){return new Fn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Fn,n,i)}};l(Fn,"runtime",f),l(Fn,"typeName","yorkie.v1.JSONElement.Tree"),l(Fn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Eo,repeated:!0},{no:2,name:"created_at",kind:"message",T:z},{no:3,name:"moved_at",kind:"message",T:z},{no:4,name:"removed_at",kind:"message",T:z}]));let Ju=Fn;var ze;let F0=(ze=class extends k{constructor(n){super();l(this,"key","");l(this,"element");f.util.initPartial(n,this)}static fromBinary(n,i){return new ze().fromBinary(n,i)}static fromJson(n,i){return new ze().fromJson(n,i)}static fromJsonString(n,i){return new ze().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ze,n,i)}},l(ze,"runtime",f),l(ze,"typeName","yorkie.v1.RHTNode"),l(ze,"fields",f.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:ue}])),ze);const sn=class sn extends k{constructor(n){super();l(this,"next");l(this,"element");f.util.initPartial(n,this)}static fromBinary(n,i){return new sn().fromBinary(n,i)}static fromJson(n,i){return new sn().fromJson(n,i)}static fromJsonString(n,i){return new sn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(sn,n,i)}};l(sn,"runtime",f),l(sn,"typeName","yorkie.v1.RGANode"),l(sn,"fields",f.util.newFieldList(()=>[{no:1,name:"next",kind:"message",T:sn},{no:2,name:"element",kind:"message",T:ue}]));let qu=sn;const Qn=class Qn extends k{constructor(n){super();l(this,"value","");l(this,"updatedAt");l(this,"isRemoved",!1);f.util.initPartial(n,this)}static fromBinary(n,i){return new Qn().fromBinary(n,i)}static fromJson(n,i){return new Qn().fromJson(n,i)}static fromJsonString(n,i){return new Qn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Qn,n,i)}};l(Qn,"runtime",f),l(Qn,"typeName","yorkie.v1.NodeAttr"),l(Qn,"fields",f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:z},{no:3,name:"is_removed",kind:"scalar",T:8}]));let cs=Qn;const _n=class _n extends k{constructor(n){super();l(this,"id");l(this,"value","");l(this,"removedAt");l(this,"insPrevId");l(this,"attributes",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new _n().fromBinary(n,i)}static fromJson(n,i){return new _n().fromJson(n,i)}static fromJsonString(n,i){return new _n().fromJsonString(n,i)}static equals(n,i){return f.util.equals(_n,n,i)}};l(_n,"runtime",f),l(_n,"typeName","yorkie.v1.TextNode"),l(_n,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Ao},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:z},{no:4,name:"ins_prev_id",kind:"message",T:Ao},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:cs}}]));let Pu=_n;const Wn=class Wn extends k{constructor(n){super();l(this,"createdAt");l(this,"offset",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new Wn().fromBinary(n,i)}static fromJson(n,i){return new Wn().fromJson(n,i)}static fromJsonString(n,i){return new Wn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Wn,n,i)}};l(Wn,"runtime",f),l(Wn,"typeName","yorkie.v1.TextNodeID"),l(Wn,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:z},{no:2,name:"offset",kind:"scalar",T:5}]));let Ao=Wn;const ti=class ti extends k{constructor(n){super();l(this,"id");l(this,"type","");l(this,"value","");l(this,"removedAt");l(this,"insPrevId");l(this,"insNextId");l(this,"depth",0);l(this,"attributes",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new ti().fromBinary(n,i)}static fromJson(n,i){return new ti().fromJson(n,i)}static fromJsonString(n,i){return new ti().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ti,n,i)}};l(ti,"runtime",f),l(ti,"typeName","yorkie.v1.TreeNode"),l(ti,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Br},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:z},{no:5,name:"ins_prev_id",kind:"message",T:Br},{no:6,name:"ins_next_id",kind:"message",T:Br},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:cs}}]));let Eo=ti;const ei=class ei extends k{constructor(n){super();l(this,"content",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new ei().fromBinary(n,i)}static fromJson(n,i){return new ei().fromJson(n,i)}static fromJsonString(n,i){return new ei().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ei,n,i)}};l(ei,"runtime",f),l(ei,"typeName","yorkie.v1.TreeNodes"),l(ei,"fields",f.util.newFieldList(()=>[{no:1,name:"content",kind:"message",T:Eo,repeated:!0}]));let Vu=ei;const ni=class ni extends k{constructor(n){super();l(this,"createdAt");l(this,"offset",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new ni().fromBinary(n,i)}static fromJson(n,i){return new ni().fromJson(n,i)}static fromJsonString(n,i){return new ni().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ni,n,i)}};l(ni,"runtime",f),l(ni,"typeName","yorkie.v1.TreeNodeID"),l(ni,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:z},{no:2,name:"offset",kind:"scalar",T:5}]));let Br=ni;const ii=class ii extends k{constructor(n){super();l(this,"parentId");l(this,"leftSiblingId");f.util.initPartial(n,this)}static fromBinary(n,i){return new ii().fromBinary(n,i)}static fromJson(n,i){return new ii().fromJson(n,i)}static fromJsonString(n,i){return new ii().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ii,n,i)}};l(ii,"runtime",f),l(ii,"typeName","yorkie.v1.TreePos"),l(ii,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_id",kind:"message",T:Br},{no:2,name:"left_sibling_id",kind:"message",T:Br}]));let oa=ii;const ri=class ri extends k{constructor(n){super();l(this,"id","");l(this,"authProvider","");l(this,"username","");l(this,"createdAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new ri().fromBinary(n,i)}static fromJson(n,i){return new ri().fromJson(n,i)}static fromJsonString(n,i){return new ri().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ri,n,i)}};l(ri,"runtime",f),l(ri,"typeName","yorkie.v1.User"),l(ri,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"auth_provider",kind:"scalar",T:9},{no:3,name:"username",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:Pt}]));let iy=ri;const ai=class ai extends k{constructor(n){super();l(this,"id","");l(this,"name","");l(this,"publicKey","");l(this,"secretKey","");l(this,"authWebhookUrl","");l(this,"authWebhookMethods",[]);l(this,"eventWebhookUrl","");l(this,"eventWebhookEvents",[]);l(this,"clientDeactivateThreshold","");l(this,"maxSubscribersPerDocument",0);l(this,"maxAttachmentsPerDocument",0);l(this,"maxSizePerDocument",0);l(this,"allowedOrigins",[]);l(this,"createdAt");l(this,"updatedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new ai().fromBinary(n,i)}static fromJson(n,i){return new ai().fromJson(n,i)}static fromJsonString(n,i){return new ai().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ai,n,i)}};l(ai,"runtime",f),l(ai,"typeName","yorkie.v1.Project"),l(ai,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"event_webhook_url",kind:"scalar",T:9},{no:8,name:"event_webhook_events",kind:"scalar",T:9,repeated:!0},{no:9,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:10,name:"max_subscribers_per_document",kind:"scalar",T:5},{no:11,name:"max_attachments_per_document",kind:"scalar",T:5},{no:15,name:"max_size_per_document",kind:"scalar",T:5},{no:14,name:"allowed_origins",kind:"scalar",T:9,repeated:!0},{no:12,name:"created_at",kind:"message",T:Pt},{no:13,name:"updated_at",kind:"message",T:Pt}]));let ry=ai;const si=class si extends k{constructor(n){super();l(this,"timestamp",ht.zero);l(this,"value",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new si().fromBinary(n,i)}static fromJson(n,i){return new si().fromJson(n,i)}static fromJsonString(n,i){return new si().fromJsonString(n,i)}static equals(n,i){return f.util.equals(si,n,i)}};l(si,"runtime",f),l(si,"typeName","yorkie.v1.MetricPoint"),l(si,"fields",f.util.newFieldList(()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"value",kind:"scalar",T:5}]));let ay=si;const oi=class oi extends k{constructor(n){super();l(this,"name");l(this,"authWebhookUrl");l(this,"authWebhookMethods");l(this,"eventWebhookUrl");l(this,"eventWebhookEvents");l(this,"clientDeactivateThreshold");l(this,"maxSubscribersPerDocument");l(this,"maxAttachmentsPerDocument");l(this,"maxSizePerDocument");l(this,"allowedOrigins");f.util.initPartial(n,this)}static fromBinary(n,i){return new oi().fromBinary(n,i)}static fromJson(n,i){return new oi().fromJson(n,i)}static fromJsonString(n,i){return new oi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(oi,n,i)}};l(oi,"runtime",f),l(oi,"typeName","yorkie.v1.UpdatableProjectFields"),l(oi,"fields",f.util.newFieldList(()=>[{no:1,name:"name",kind:"message",T:ae},{no:2,name:"auth_webhook_url",kind:"message",T:ae},{no:3,name:"auth_webhook_methods",kind:"message",T:lh},{no:4,name:"event_webhook_url",kind:"message",T:ae},{no:5,name:"event_webhook_events",kind:"message",T:uh},{no:6,name:"client_deactivate_threshold",kind:"message",T:ae},{no:7,name:"max_subscribers_per_document",kind:"message",T:me},{no:8,name:"max_attachments_per_document",kind:"message",T:me},{no:10,name:"max_size_per_document",kind:"message",T:me},{no:9,name:"allowed_origins",kind:"message",T:ch}]));let sy=oi;const li=class li extends k{constructor(n){super();l(this,"methods",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new li().fromBinary(n,i)}static fromJson(n,i){return new li().fromJson(n,i)}static fromJsonString(n,i){return new li().fromJsonString(n,i)}static equals(n,i){return f.util.equals(li,n,i)}};l(li,"runtime",f),l(li,"typeName","yorkie.v1.UpdatableProjectFields.AuthWebhookMethods"),l(li,"fields",f.util.newFieldList(()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}]));let lh=li;const ui=class ui extends k{constructor(n){super();l(this,"events",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new ui().fromBinary(n,i)}static fromJson(n,i){return new ui().fromJson(n,i)}static fromJsonString(n,i){return new ui().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ui,n,i)}};l(ui,"runtime",f),l(ui,"typeName","yorkie.v1.UpdatableProjectFields.EventWebhookEvents"),l(ui,"fields",f.util.newFieldList(()=>[{no:1,name:"events",kind:"scalar",T:9,repeated:!0}]));let uh=ui;const ci=class ci extends k{constructor(n){super();l(this,"origins",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new ci().fromBinary(n,i)}static fromJson(n,i){return new ci().fromJson(n,i)}static fromJsonString(n,i){return new ci().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ci,n,i)}};l(ci,"runtime",f),l(ci,"typeName","yorkie.v1.UpdatableProjectFields.AllowedOrigins"),l(ci,"fields",f.util.newFieldList(()=>[{no:1,name:"origins",kind:"scalar",T:9,repeated:!0}]));let ch=ci;const fi=class fi extends k{constructor(n){super();l(this,"id","");l(this,"key","");l(this,"root","");l(this,"attachedClients",0);l(this,"documentSize");l(this,"schemaKey","");l(this,"presences",{});l(this,"createdAt");l(this,"accessedAt");l(this,"updatedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new fi().fromBinary(n,i)}static fromJson(n,i){return new fi().fromJson(n,i)}static fromJsonString(n,i){return new fi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(fi,n,i)}};l(fi,"runtime",f),l(fi,"typeName","yorkie.v1.DocumentSummary"),l(fi,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"root",kind:"scalar",T:9},{no:7,name:"attached_clients",kind:"scalar",T:5},{no:8,name:"document_size",kind:"message",T:dh},{no:9,name:"schema_key",kind:"scalar",T:9},{no:10,name:"presences",kind:"map",K:9,V:{kind:"message",T:mc}},{no:4,name:"created_at",kind:"message",T:Pt},{no:5,name:"accessed_at",kind:"message",T:Pt},{no:6,name:"updated_at",kind:"message",T:Pt}]));let oy=fi;const hi=class hi extends k{constructor(n){super();l(this,"type",0);l(this,"presence");f.util.initPartial(n,this)}static fromBinary(n,i){return new hi().fromBinary(n,i)}static fromJson(n,i){return new hi().fromJson(n,i)}static fromJsonString(n,i){return new hi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(hi,n,i)}};l(hi,"runtime",f),l(hi,"typeName","yorkie.v1.PresenceChange"),l(hi,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(la)},{no:2,name:"presence",kind:"message",T:mc}]));let No=hi;var la=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PUT=1]="PUT",e[e.DELETE=2]="DELETE",e[e.CLEAR=3]="CLEAR",e))(la||{});f.util.setEnumType(la,"yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT"},{no:2,name:"CHANGE_TYPE_DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR"}]);var Me;let mc=(Me=class extends k{constructor(n){super();l(this,"data",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Me().fromBinary(n,i)}static fromJson(n,i){return new Me().fromJson(n,i)}static fromJsonString(n,i){return new Me().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Me,n,i)}},l(Me,"runtime",f),l(Me,"typeName","yorkie.v1.Presence"),l(Me,"fields",f.util.newFieldList(()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}])),Me);var Ue;let Q0=(Ue=class extends k{constructor(n){super();l(this,"serverSeq",ht.zero);l(this,"clientSeq",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new Ue().fromBinary(n,i)}static fromJson(n,i){return new Ue().fromJson(n,i)}static fromJsonString(n,i){return new Ue().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ue,n,i)}},l(Ue,"runtime",f),l(Ue,"typeName","yorkie.v1.Checkpoint"),l(Ue,"fields",f.util.newFieldList(()=>[{no:1,name:"server_seq",kind:"scalar",T:3},{no:2,name:"client_seq",kind:"scalar",T:13}])),Ue);const di=class di extends k{constructor(n){super();l(this,"createdAt");l(this,"offset",0);l(this,"relativeOffset",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new di().fromBinary(n,i)}static fromJson(n,i){return new di().fromJson(n,i)}static fromJsonString(n,i){return new di().fromJsonString(n,i)}static equals(n,i){return f.util.equals(di,n,i)}};l(di,"runtime",f),l(di,"typeName","yorkie.v1.TextNodePos"),l(di,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:z},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]));let ua=di;var Le;let z=(Le=class extends k{constructor(n){super();l(this,"lamport",ht.zero);l(this,"delimiter",0);l(this,"actorId",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new Le().fromBinary(n,i)}static fromJson(n,i){return new Le().fromJson(n,i)}static fromJsonString(n,i){return new Le().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Le,n,i)}},l(Le,"runtime",f),l(Le,"typeName","yorkie.v1.TimeTicket"),l(Le,"fields",f.util.newFieldList(()=>[{no:1,name:"lamport",kind:"scalar",T:3},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}])),Le);const gi=class gi extends k{constructor(n){super();l(this,"topic","");l(this,"payload",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new gi().fromBinary(n,i)}static fromJson(n,i){return new gi().fromJson(n,i)}static fromJsonString(n,i){return new gi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(gi,n,i)}};l(gi,"runtime",f),l(gi,"typeName","yorkie.v1.DocEventBody"),l(gi,"fields",f.util.newFieldList(()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]));let fh=gi;const mi=class mi extends k{constructor(n){super();l(this,"type",0);l(this,"publisher","");l(this,"body");f.util.initPartial(n,this)}static fromBinary(n,i){return new mi().fromBinary(n,i)}static fromJson(n,i){return new mi().fromJson(n,i)}static fromJsonString(n,i){return new mi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(mi,n,i)}};l(mi,"runtime",f),l(mi,"typeName","yorkie.v1.DocEvent"),l(mi,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(na)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:fh}]));let hh=mi;const yi=class yi extends k{constructor(n){super();l(this,"data",0);l(this,"meta",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new yi().fromBinary(n,i)}static fromJson(n,i){return new yi().fromJson(n,i)}static fromJsonString(n,i){return new yi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(yi,n,i)}};l(yi,"runtime",f),l(yi,"typeName","yorkie.v1.DataSize"),l(yi,"fields",f.util.newFieldList(()=>[{no:1,name:"data",kind:"scalar",T:5},{no:2,name:"meta",kind:"scalar",T:5}]));let Hu=yi;const pi=class pi extends k{constructor(n){super();l(this,"live");l(this,"gc");f.util.initPartial(n,this)}static fromBinary(n,i){return new pi().fromBinary(n,i)}static fromJson(n,i){return new pi().fromJson(n,i)}static fromJsonString(n,i){return new pi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(pi,n,i)}};l(pi,"runtime",f),l(pi,"typeName","yorkie.v1.DocSize"),l(pi,"fields",f.util.newFieldList(()=>[{no:1,name:"live",kind:"message",T:Hu},{no:2,name:"gc",kind:"message",T:Hu}]));let dh=pi;const vi=class vi extends k{constructor(n){super();l(this,"id","");l(this,"name","");l(this,"version",0);l(this,"body","");l(this,"rules",[]);l(this,"createdAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new vi().fromBinary(n,i)}static fromJson(n,i){return new vi().fromJson(n,i)}static fromJsonString(n,i){return new vi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(vi,n,i)}};l(vi,"runtime",f),l(vi,"typeName","yorkie.v1.Schema"),l(vi,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"version",kind:"scalar",T:5},{no:4,name:"body",kind:"scalar",T:9},{no:5,name:"rules",kind:"message",T:ju,repeated:!0},{no:6,name:"created_at",kind:"message",T:Pt}]));let ly=vi;const Si=class Si extends k{constructor(n){super();l(this,"path","");l(this,"type","");f.util.initPartial(n,this)}static fromBinary(n,i){return new Si().fromBinary(n,i)}static fromJson(n,i){return new Si().fromJson(n,i)}static fromJsonString(n,i){return new Si().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Si,n,i)}};l(Si,"runtime",f),l(Si,"typeName","yorkie.v1.Rule"),l(Si,"fields",f.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9}]));let ju=Si;const Ti=class Ti extends k{constructor(n){super();l(this,"clientKey","");l(this,"metadata",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Ti().fromBinary(n,i)}static fromJson(n,i){return new Ti().fromJson(n,i)}static fromJsonString(n,i){return new Ti().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ti,n,i)}};l(Ti,"runtime",f),l(Ti,"typeName","yorkie.v1.ActivateClientRequest"),l(Ti,"fields",f.util.newFieldList(()=>[{no:1,name:"client_key",kind:"scalar",T:9},{no:2,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let gh=Ti;const bi=class bi extends k{constructor(n){super();l(this,"clientId","");f.util.initPartial(n,this)}static fromBinary(n,i){return new bi().fromBinary(n,i)}static fromJson(n,i){return new bi().fromJson(n,i)}static fromJsonString(n,i){return new bi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(bi,n,i)}};l(bi,"runtime",f),l(bi,"typeName","yorkie.v1.ActivateClientResponse"),l(bi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let mh=bi;const wi=class wi extends k{constructor(n){super();l(this,"clientId","");f.util.initPartial(n,this)}static fromBinary(n,i){return new wi().fromBinary(n,i)}static fromJson(n,i){return new wi().fromJson(n,i)}static fromJsonString(n,i){return new wi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(wi,n,i)}};l(wi,"runtime",f),l(wi,"typeName","yorkie.v1.DeactivateClientRequest"),l(wi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let yh=wi;const Ai=class Ai extends k{constructor(t){super(),f.util.initPartial(t,this)}static fromBinary(t,n){return new Ai().fromBinary(t,n)}static fromJson(t,n){return new Ai().fromJson(t,n)}static fromJsonString(t,n){return new Ai().fromJsonString(t,n)}static equals(t,n){return f.util.equals(Ai,t,n)}};l(Ai,"runtime",f),l(Ai,"typeName","yorkie.v1.DeactivateClientResponse"),l(Ai,"fields",f.util.newFieldList(()=>[]));let ph=Ai;const Ei=class Ei extends k{constructor(n){super();l(this,"clientId","");l(this,"changePack");l(this,"schemaKey","");f.util.initPartial(n,this)}static fromBinary(n,i){return new Ei().fromBinary(n,i)}static fromJson(n,i){return new Ei().fromJson(n,i)}static fromJsonString(n,i){return new Ei().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ei,n,i)}};l(Ei,"runtime",f),l(Ei,"typeName","yorkie.v1.AttachDocumentRequest"),l(Ei,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:sr},{no:3,name:"schema_key",kind:"scalar",T:9}]));let vh=Ei;const Ni=class Ni extends k{constructor(n){super();l(this,"documentId","");l(this,"changePack");l(this,"maxSizePerDocument",0);l(this,"schemaRules",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new Ni().fromBinary(n,i)}static fromJson(n,i){return new Ni().fromJson(n,i)}static fromJsonString(n,i){return new Ni().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ni,n,i)}};l(Ni,"runtime",f),l(Ni,"typeName","yorkie.v1.AttachDocumentResponse"),l(Ni,"fields",f.util.newFieldList(()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:sr},{no:3,name:"max_size_per_document",kind:"scalar",T:5},{no:4,name:"schema_rules",kind:"message",T:ju,repeated:!0}]));let Sh=Ni;const xi=class xi extends k{constructor(n){super();l(this,"clientId","");l(this,"documentId","");l(this,"changePack");l(this,"removeIfNotAttached",!1);f.util.initPartial(n,this)}static fromBinary(n,i){return new xi().fromBinary(n,i)}static fromJson(n,i){return new xi().fromJson(n,i)}static fromJsonString(n,i){return new xi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(xi,n,i)}};l(xi,"runtime",f),l(xi,"typeName","yorkie.v1.DetachDocumentRequest"),l(xi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:sr},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]));let Th=xi;const Di=class Di extends k{constructor(n){super();l(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new Di().fromBinary(n,i)}static fromJson(n,i){return new Di().fromJson(n,i)}static fromJsonString(n,i){return new Di().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Di,n,i)}};l(Di,"runtime",f),l(Di,"typeName","yorkie.v1.DetachDocumentResponse"),l(Di,"fields",f.util.newFieldList(()=>[{no:2,name:"change_pack",kind:"message",T:sr}]));let bh=Di;const Oi=class Oi extends k{constructor(n){super();l(this,"clientId","");l(this,"documentId","");f.util.initPartial(n,this)}static fromBinary(n,i){return new Oi().fromBinary(n,i)}static fromJson(n,i){return new Oi().fromJson(n,i)}static fromJsonString(n,i){return new Oi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Oi,n,i)}};l(Oi,"runtime",f),l(Oi,"typeName","yorkie.v1.WatchDocumentRequest"),l(Oi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]));let wh=Oi;const Ci=class Ci extends k{constructor(n){super();l(this,"body",{case:void 0});f.util.initPartial(n,this)}static fromBinary(n,i){return new Ci().fromBinary(n,i)}static fromJson(n,i){return new Ci().fromJson(n,i)}static fromJsonString(n,i){return new Ci().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ci,n,i)}};l(Ci,"runtime",f),l(Ci,"typeName","yorkie.v1.WatchDocumentResponse"),l(Ci,"fields",f.util.newFieldList(()=>[{no:1,name:"initialization",kind:"message",T:Eh,oneof:"body"},{no:2,name:"event",kind:"message",T:hh,oneof:"body"}]));let Ah=Ci;const ki=class ki extends k{constructor(n){super();l(this,"clientIds",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new ki().fromBinary(n,i)}static fromJson(n,i){return new ki().fromJson(n,i)}static fromJsonString(n,i){return new ki().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ki,n,i)}};l(ki,"runtime",f),l(ki,"typeName","yorkie.v1.WatchDocumentResponse.Initialization"),l(ki,"fields",f.util.newFieldList(()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}]));let Eh=ki;const Ri=class Ri extends k{constructor(n){super();l(this,"clientId","");l(this,"documentId","");l(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new Ri().fromBinary(n,i)}static fromJson(n,i){return new Ri().fromJson(n,i)}static fromJsonString(n,i){return new Ri().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ri,n,i)}};l(Ri,"runtime",f),l(Ri,"typeName","yorkie.v1.RemoveDocumentRequest"),l(Ri,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:sr}]));let Nh=Ri;const Bi=class Bi extends k{constructor(n){super();l(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new Bi().fromBinary(n,i)}static fromJson(n,i){return new Bi().fromJson(n,i)}static fromJsonString(n,i){return new Bi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Bi,n,i)}};l(Bi,"runtime",f),l(Bi,"typeName","yorkie.v1.RemoveDocumentResponse"),l(Bi,"fields",f.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:sr}]));let xh=Bi;const Ii=class Ii extends k{constructor(n){super();l(this,"clientId","");l(this,"documentId","");l(this,"changePack");l(this,"pushOnly",!1);f.util.initPartial(n,this)}static fromBinary(n,i){return new Ii().fromBinary(n,i)}static fromJson(n,i){return new Ii().fromJson(n,i)}static fromJsonString(n,i){return new Ii().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ii,n,i)}};l(Ii,"runtime",f),l(Ii,"typeName","yorkie.v1.PushPullChangesRequest"),l(Ii,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:sr},{no:4,name:"push_only",kind:"scalar",T:8}]));let Dh=Ii;const zi=class zi extends k{constructor(n){super();l(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new zi().fromBinary(n,i)}static fromJson(n,i){return new zi().fromJson(n,i)}static fromJsonString(n,i){return new zi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(zi,n,i)}};l(zi,"runtime",f),l(zi,"typeName","yorkie.v1.PushPullChangesResponse"),l(zi,"fields",f.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:sr}]));let Oh=zi;const Mi=class Mi extends k{constructor(n){super();l(this,"clientId","");l(this,"documentId","");l(this,"topic","");l(this,"payload",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new Mi().fromBinary(n,i)}static fromJson(n,i){return new Mi().fromJson(n,i)}static fromJsonString(n,i){return new Mi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Mi,n,i)}};l(Mi,"runtime",f),l(Mi,"typeName","yorkie.v1.BroadcastRequest"),l(Mi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]));let Ch=Mi;const Ui=class Ui extends k{constructor(t){super(),f.util.initPartial(t,this)}static fromBinary(t,n){return new Ui().fromBinary(t,n)}static fromJson(t,n){return new Ui().fromJson(t,n)}static fromJsonString(t,n){return new Ui().fromJsonString(t,n)}static equals(t,n){return f.util.equals(Ui,t,n)}};l(Ui,"runtime",f),l(Ui,"typeName","yorkie.v1.BroadcastResponse"),l(Ui,"fields",f.util.newFieldList(()=>[]));let kh=Ui;const oA={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:gh,O:mh,kind:Qt.Unary},deactivateClient:{name:"DeactivateClient",I:yh,O:ph,kind:Qt.Unary},attachDocument:{name:"AttachDocument",I:vh,O:Sh,kind:Qt.Unary},detachDocument:{name:"DetachDocument",I:Th,O:bh,kind:Qt.Unary},removeDocument:{name:"RemoveDocument",I:Nh,O:xh,kind:Qt.Unary},pushPullChanges:{name:"PushPullChanges",I:Dh,O:Oh,kind:Qt.Unary},watchDocument:{name:"WatchDocument",I:wh,O:Ah,kind:Qt.ServerStreaming},broadcast:{name:"Broadcast",I:Ch,O:kh,kind:Qt.Unary}}},lA=f.makeMessageType("google.rpc.ErrorInfo",()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]);f.makeMessageType("google.rpc.RetryInfo",()=>[{no:1,name:"retry_delay",kind:"message",T:Yi}]);f.makeMessageType("google.rpc.DebugInfo",()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.QuotaFailure",()=>[{no:1,name:"violations",kind:"message",T:uA,repeated:!0}]);const uA=f.makeMessageType("google.rpc.QuotaFailure.Violation",()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"api_service",kind:"scalar",T:9},{no:4,name:"quota_metric",kind:"scalar",T:9},{no:5,name:"quota_id",kind:"scalar",T:9},{no:6,name:"quota_dimensions",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:7,name:"quota_value",kind:"scalar",T:3},{no:8,name:"future_quota_value",kind:"scalar",T:3,opt:!0}],{localName:"QuotaFailure_Violation"});f.makeMessageType("google.rpc.PreconditionFailure",()=>[{no:1,name:"violations",kind:"message",T:cA,repeated:!0}]);const cA=f.makeMessageType("google.rpc.PreconditionFailure.Violation",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}],{localName:"PreconditionFailure_Violation"});f.makeMessageType("google.rpc.BadRequest",()=>[{no:1,name:"field_violations",kind:"message",T:fA,repeated:!0}]);const fA=f.makeMessageType("google.rpc.BadRequest.FieldViolation",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"reason",kind:"scalar",T:9},{no:4,name:"localized_message",kind:"message",T:dA}],{localName:"BadRequest_FieldViolation"});f.makeMessageType("google.rpc.RequestInfo",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.ResourceInfo",()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.Help",()=>[{no:1,name:"links",kind:"message",T:hA,repeated:!0}]);const hA=f.makeMessageType("google.rpc.Help.Link",()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}],{localName:"Help_Link"}),dA=f.makeMessageType("google.rpc.LocalizedMessage",()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]);var S=(e=>(e.Ok="ok",e.ErrClientNotActivated="ErrClientNotActivated",e.ErrClientNotFound="ErrClientNotFound",e.ErrUnimplemented="ErrUnimplemented",e.ErrInvalidType="ErrInvalidType",e.ErrDummy="ErrDummy",e.ErrDocumentNotAttached="ErrDocumentNotAttached",e.ErrDocumentNotDetached="ErrDocumentNotDetached",e.ErrDocumentRemoved="ErrDocumentRemoved",e.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",e.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",e.ErrInvalidObjectKey="ErrInvalidObjectKey",e.ErrInvalidArgument="ErrInvalidArgument",e.ErrNotInitialized="ErrNotInitialized",e.ErrNotReady="ErrNotReady",e.ErrRefused="ErrRefused",e.ErrContextNotProvided="ErrContextNotProvided",e.ErrPermissionDenied="ErrPermissionDenied",e.ErrUnauthenticated="ErrUnauthenticated",e.ErrTooManySubscribers="ErrTooManySubscribers",e.ErrTooManyAttachments="ErrTooManyAttachments",e))(S||{});class T extends Error{constructor(n,i){super(i);l(this,"name","YorkieError");l(this,"stack");this.code=n,this.message=i,this.toString=()=>`[code=${this.code}]: ${this.message}`}}var Nn=(e=>(e.Put="put",e.Clear="clear",e))(Nn||{});const Jd="000000000000000000000000",wn=24;class je{constructor(t,n,i){l(this,"lamport");l(this,"delimiter");l(this,"actorID");this.lamport=t,this.delimiter=n,this.actorID=i}static of(t,n,i){return new je(t,n,i)}static fromStruct(t){return je.of(BigInt(t.lamport),t.delimiter,t.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(t){return new je(this.lamport,this.delimiter,t)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(t){return this.compare(t)>0}equals(t){return this.compare(t)===0}compare(t){if(this.lamport>t.lamport)return 1;if(t.lamport>this.lamport)return-1;const n=this.actorID.localeCompare(t.actorID);return n!==0?n:this.delimiter>t.delimiter?1:t.delimiter>this.delimiter?-1:0}}const Rh=0n,_0=0,Hl=9223372036854775807n,fs=new je(Rh,_0,Jd);function vn(e){return e.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(t){switch(t){case'"':case"\\":return"\\"+t;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return t}})}class Xo{constructor(t){l(this,"createdAt");l(this,"movedAt");l(this,"removedAt");this.createdAt=t}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(t){return!this.movedAt||t&&t.after(this.movedAt)?(this.movedAt=t,!0):!1}setRemovedAt(t){this.removedAt=t}remove(t){return t&&t.after(this.createdAt)&&(!this.removedAt||t.after(this.removedAt))?(this.removedAt=t,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let t=0;return this.getCreatedAt()&&(t+=wn),this.getMovedAt()&&(t+=wn),this.getRemovedAt()&&(t+=wn),t}}class Ir extends Xo{constructor(t){super(t)}}class qd{constructor(t,n){l(this,"strKey");l(this,"value");this.strKey=t,this.value=n}static of(t,n){return new qd(t,n)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(t){return this.value.remove(t)}}class xo{constructor(){l(this,"nodeMapByKey");l(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new xo}set(t,n,i){let r;const a=this.nodeMapByKey.get(t);a&&!a.isRemoved()&&a.remove(i)&&(r=a.getValue());const s=qd.of(t,n);return this.nodeMapByCreatedAt.set(n.getCreatedAt().toIDString(),s),(!a||i.after(a.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(t,s),n.setMovedAt(i)),r}delete(t,n){if(!this.nodeMapByCreatedAt.has(t.toIDString()))throw new T(S.ErrInvalidArgument,`fail to find ${t.toIDString()}`);const i=this.nodeMapByCreatedAt.get(t.toIDString());return i.remove(n),i.getValue()}subPathOf(t){const n=this.nodeMapByCreatedAt.get(t.toIDString());if(n)return n.getStrKey()}purge(t){const n=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!n)throw new T(S.ErrInvalidArgument,`fail to find ${t.getCreatedAt().toIDString()}`);const i=this.nodeMapByKey.get(n.getStrKey());n===i&&this.nodeMapByKey.delete(i.getStrKey()),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}deleteByKey(t,n){const i=this.nodeMapByKey.get(t);if(i&&i.remove(n))return i.getValue()}has(t){const n=this.nodeMapByKey.get(t);return n?!n.isRemoved():!1}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}get(t){const n=this.nodeMapByKey.get(t);if(!(!n||n.isRemoved()))return n}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}}class Xt extends Ir{constructor(n,i){super(n);l(this,"memberNodes");this.memberNodes=i}static create(n,i){if(!i)return new Xt(n,xo.create());const r=xo.create();for(const[a,s]of Object.entries(i))r.set(a,s.deepcopy(),s.getCreatedAt());return new Xt(n,r)}subPathOf(n){return this.memberNodes.subPathOf(n)}purge(n){this.memberNodes.purge(n)}set(n,i,r){return this.memberNodes.set(n,i,r)}delete(n,i){return this.memberNodes.delete(n,i)}deleteByKey(n,i){return this.memberNodes.deleteByKey(n,i)}get(n){const i=this.memberNodes.get(n);return i==null?void 0:i.getValue()}getByID(n){const i=this.memberNodes.getByID(n);return i==null?void 0:i.getValue()}has(n){return this.memberNodes.has(n)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const n=[];for(const[i,r]of this)n.push(`"${vn(i)}":${r.toJSON()}`);return`{${n.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const n={};for(const[i,r]of this){const{createdAt:a,value:s,type:o}=r.toJSForTest();n[i]={key:i,createdAt:a,value:s,type:o}}return{createdAt:this.getCreatedAt().toTestString(),value:n,type:"YORKIE_OBJECT"}}getKeys(){const n=Array();for(const[i]of this)n.push(i);return n}toSortedJSON(){var r;const n=Array();for(const[a]of this)n.push(a);const i=[];for(const a of n.sort()){const s=(r=this.memberNodes.get(a))==null?void 0:r.getValue();i.push(`"${vn(a)}":${s.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const n=Xt.create(this.getCreatedAt());for(const i of this.memberNodes)n.memberNodes.set(i.getStrKey(),i.getValue().deepcopy(),this.getPositionedAt());return n.remove(this.getRemovedAt()),n}getDescendants(n){for(const i of this.memberNodes){const r=i.getValue();if(n(r,this))return;r instanceof Ir&&r.getDescendants(n)}}*[Symbol.iterator](){const n=new Set;for(const i of this.memberNodes)n.has(i.getStrKey())||(n.add(i.getStrKey()),i.isRemoved()||(yield[i.getStrKey(),i.getValue()]))}}var ot=(e=>(e.Local="local",e.Remote="remote",e.UndoRedo="undoredo",e))(ot||{});class $e{constructor(t,n){l(this,"parentCreatedAt");l(this,"executedAt");this.parentCreatedAt=t,this.executedAt=n}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new T(S.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(t){this.executedAt&&(this.executedAt=this.executedAt.setActor(t))}setExecutedAt(t){this.executedAt=t}}class W0{constructor(t){l(this,"value");l(this,"left");l(this,"right");l(this,"parent");l(this,"weight");this.value=t,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(t){this.left=t}setRight(t){this.right=t}setParent(t){this.parent=t}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(t){this.weight+=t}initWeight(){this.weight=this.getLength()}}class Do{constructor(t){l(this,"root");this.root=t}get length(){return this.root?this.root.getWeight():0}find(t){if(!this.root||t<0)return[void 0,0];let n=this.root;for(;;)if(n.hasLeft()&&t<=n.getLeftWeight())n=n.getLeft();else if(n.hasRight()&&n.getLeftWeight()+n.getLength()<t)t-=n.getLeftWeight()+n.getLength(),n=n.getRight();else{t-=n.getLeftWeight();break}if(t>n.getLength())throw new T(S.ErrInvalidArgument,`out of index range: pos: ${t} > node.length: ${n.getLength()}`);return this.splayNode(n),[n,t]}indexOf(t){return!t||t!==this.root&&!t.hasLinks()?-1:(this.splayNode(t),this.root.getLeftWeight())}getRoot(){return this.root}insert(t){return this.insertAfter(this.root,t)}insertAfter(t,n){return t?(this.splayNode(t),this.root=n,n.setRight(t.getRight()),t.hasRight()&&t.getRight().setParent(n),n.setLeft(t),t.setParent(n),t.setRight(),this.updateWeight(t),this.updateWeight(n),n):(this.root=n,n)}updateWeight(t){t.initWeight(),t.hasLeft()&&t.increaseWeight(t.getLeftWeight()),t.hasRight()&&t.increaseWeight(t.getRightWeight())}updateTreeWeight(t){for(;t;)this.updateWeight(t),t=t.getParent()}splayNode(t){if(t)for(;;)if(this.isLeftChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t),this.rotateLeft(t);else if(this.isLeftChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t.getParent()),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t.getParent()),this.rotateLeft(t);else{this.isLeftChild(t)?this.rotateRight(t):this.isRightChild(t)&&this.rotateLeft(t),this.updateWeight(t);return}}delete(t){this.splayNode(t);const n=new Do(t.getLeft());n.root&&n.root.setParent();const i=new Do(t.getRight());if(i.root&&i.root.setParent(),n.root){const r=n.getRightmost();n.splayNode(r),n.root.setRight(i.root),i.root&&i.root.setParent(n.root),this.root=n.root}else this.root=i.root;t.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(t,n){if(!n){this.splayNode(t),this.cutOffRight(t);return}this.splayNode(t),this.splayNode(n),n.getLeft()!=t&&this.rotateRight(t),this.cutOffRight(t)}cutOffRight(t){const n=[];this.traversePostorder(t.getRight(),n);for(const i of n)i.initWeight();this.updateTreeWeight(t)}toTestString(){const t=[];return this.traverseInorder(this.root,t),t.map(n=>`[${n.getWeight()},${n.getLength()}]${n.getValue()||""}`).join("")}checkWeight(){const t=[];this.traverseInorder(this.root,t);for(const n of t)if(n.getWeight()!=n.getLength()+n.getLeftWeight()+n.getRightWeight())return!1;return!0}getRightmost(){let t=this.root;for(;t.hasRight();)t=t.getRight();return t}traverseInorder(t,n){t&&(this.traverseInorder(t.getLeft(),n),n.push(t),this.traverseInorder(t.getRight(),n))}traversePostorder(t,n){t&&(this.traversePostorder(t.getLeft(),n),this.traversePostorder(t.getRight(),n),n.push(t))}rotateLeft(t){const n=t.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(t):n.getParent().setRight(t):this.root=t,t.setParent(n.getParent()),n.setRight(t.getLeft()),n.hasRight()&&n.getRight().setParent(n),t.setLeft(n),t.getLeft().setParent(t),this.updateWeight(n),this.updateWeight(t)}rotateRight(t){const n=t.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(t):n.getParent().setRight(t):this.root=t,t.setParent(n.getParent()),n.setLeft(t.getRight()),n.hasLeft()&&n.getLeft().setParent(n),t.setRight(n),t.getRight().setParent(t),this.updateWeight(n),this.updateWeight(t)}isLeftChild(t){return t&&t.hasParent()?t.getParent().getLeft()===t:!1}isRightChild(t){return t&&t.hasParent()?t.getParent().getRight()===t:!1}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var Ve=null;try{Ve=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Z(e,t,n){this.low=e|0,this.high=t|0,this.unsigned=!!n}Z.prototype.__isLong__;Object.defineProperty(Z.prototype,"__isLong__",{value:!0});function Ft(e){return(e&&e.__isLong__)===!0}function uy(e){var t=Math.clz32(e&-e);return e?31-t:t}Z.isLong=Ft;var cy={},fy={};function ma(e,t){var n,i,r;return t?(e>>>=0,(r=0<=e&&e<256)&&(i=fy[e],i)?i:(n=Q(e,0,!0),r&&(fy[e]=n),n)):(e|=0,(r=-128<=e&&e<128)&&(i=cy[e],i)?i:(n=Q(e,e<0?-1:0,!1),r&&(cy[e]=n),n))}Z.fromInt=ma;function He(e,t){if(isNaN(e))return t?Ki:_e;if(t){if(e<0)return Ki;if(e>=tS)return iS}else{if(e<=-dy)return se;if(e+1>=dy)return nS}return e<0?He(-e,t).neg():Q(e%hs|0,e/hs|0,t)}Z.fromNumber=He;function Q(e,t,n){return new Z(e,t,n)}Z.fromBits=Q;var Gu=Math.pow;function Pd(e,t,n){if(e.length===0)throw Error("empty string");if(typeof t=="number"?(n=t,t=!1):t=!!t,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t?Ki:_e;if(n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return Pd(e.substring(1),t,n).neg();for(var r=He(Gu(n,8)),a=_e,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),u=parseInt(e.substring(s,s+o),n);if(o<8){var c=He(Gu(n,o));a=a.mul(c).add(He(u))}else a=a.mul(r),a=a.add(He(u))}return a.unsigned=t,a}Z.fromString=Pd;function Ke(e,t){return typeof e=="number"?He(e,t):typeof e=="string"?Pd(e,t):Q(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}Z.fromValue=Ke;var hy=65536,gA=1<<24,hs=hy*hy,tS=hs*hs,dy=tS/2,gy=ma(gA),_e=ma(0);Z.ZERO=_e;var Ki=ma(0,!0);Z.UZERO=Ki;var La=ma(1);Z.ONE=La;var eS=ma(1,!0);Z.UONE=eS;var Bh=ma(-1);Z.NEG_ONE=Bh;var nS=Q(-1,2147483647,!1);Z.MAX_VALUE=nS;var iS=Q(-1,-1,!0);Z.MAX_UNSIGNED_VALUE=iS;var se=Q(0,-2147483648,!1);Z.MIN_VALUE=se;var D=Z.prototype;D.toInt=function(){return this.unsigned?this.low>>>0:this.low};D.toNumber=function(){return this.unsigned?(this.high>>>0)*hs+(this.low>>>0):this.high*hs+(this.low>>>0)};D.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(se)){var n=He(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var a=He(Gu(t,6),this.unsigned),s=this,o="";;){var u=s.div(a),c=s.sub(u.mul(a)).toInt()>>>0,h=c.toString(t);if(s=u,s.isZero())return h+o;for(;h.length<6;)h="0"+h;o=""+h+o}};D.getHighBits=function(){return this.high};D.getHighBitsUnsigned=function(){return this.high>>>0};D.getLowBits=function(){return this.low};D.getLowBitsUnsigned=function(){return this.low>>>0};D.getNumBitsAbs=function(){if(this.isNegative())return this.eq(se)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,n=31;n>0&&!(t&1<<n);n--);return this.high!=0?n+33:n+1};D.isSafeInteger=function(){var t=this.high>>21;return t?this.unsigned?!1:t===-1&&!(this.low===0&&this.high===-2097152):!0};D.isZero=function(){return this.high===0&&this.low===0};D.eqz=D.isZero;D.isNegative=function(){return!this.unsigned&&this.high<0};D.isPositive=function(){return this.unsigned||this.high>=0};D.isOdd=function(){return(this.low&1)===1};D.isEven=function(){return(this.low&1)===0};D.equals=function(t){return Ft(t)||(t=Ke(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low};D.eq=D.equals;D.notEquals=function(t){return!this.eq(t)};D.neq=D.notEquals;D.ne=D.notEquals;D.lessThan=function(t){return this.comp(t)<0};D.lt=D.lessThan;D.lessThanOrEqual=function(t){return this.comp(t)<=0};D.lte=D.lessThanOrEqual;D.le=D.lessThanOrEqual;D.greaterThan=function(t){return this.comp(t)>0};D.gt=D.greaterThan;D.greaterThanOrEqual=function(t){return this.comp(t)>=0};D.gte=D.greaterThanOrEqual;D.ge=D.greaterThanOrEqual;D.compare=function(t){if(Ft(t)||(t=Ke(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1};D.comp=D.compare;D.negate=function(){return!this.unsigned&&this.eq(se)?se:this.not().add(La)};D.neg=D.negate;D.add=function(t){Ft(t)||(t=Ke(t));var n=this.high>>>16,i=this.high&65535,r=this.low>>>16,a=this.low&65535,s=t.high>>>16,o=t.high&65535,u=t.low>>>16,c=t.low&65535,h=0,m=0,g=0,d=0;return d+=a+c,g+=d>>>16,d&=65535,g+=r+u,m+=g>>>16,g&=65535,m+=i+o,h+=m>>>16,m&=65535,h+=n+s,h&=65535,Q(g<<16|d,h<<16|m,this.unsigned)};D.subtract=function(t){return Ft(t)||(t=Ke(t)),this.add(t.neg())};D.sub=D.subtract;D.multiply=function(t){if(this.isZero())return this;if(Ft(t)||(t=Ke(t)),Ve){var n=Ve.mul(this.low,this.high,t.low,t.high);return Q(n,Ve.get_high(),this.unsigned)}if(t.isZero())return this.unsigned?Ki:_e;if(this.eq(se))return t.isOdd()?se:_e;if(t.eq(se))return this.isOdd()?se:_e;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(gy)&&t.lt(gy))return He(this.toNumber()*t.toNumber(),this.unsigned);var i=this.high>>>16,r=this.high&65535,a=this.low>>>16,s=this.low&65535,o=t.high>>>16,u=t.high&65535,c=t.low>>>16,h=t.low&65535,m=0,g=0,d=0,b=0;return b+=s*h,d+=b>>>16,b&=65535,d+=a*h,g+=d>>>16,d&=65535,d+=s*c,g+=d>>>16,d&=65535,g+=r*h,m+=g>>>16,g&=65535,g+=a*c,m+=g>>>16,g&=65535,g+=s*u,m+=g>>>16,g&=65535,m+=i*h+r*c+a*u+s*o,m&=65535,Q(d<<16|b,m<<16|g,this.unsigned)};D.mul=D.multiply;D.divide=function(t){if(Ft(t)||(t=Ke(t)),t.isZero())throw Error("division by zero");if(Ve){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var n=(this.unsigned?Ve.div_u:Ve.div_s)(this.low,this.high,t.low,t.high);return Q(n,Ve.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Ki:_e;var i,r,a;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Ki;if(t.gt(this.shru(1)))return eS;a=Ki}else{if(this.eq(se)){if(t.eq(La)||t.eq(Bh))return se;if(t.eq(se))return La;var s=this.shr(1);return i=s.div(t).shl(1),i.eq(_e)?t.isNegative()?La:Bh:(r=this.sub(t.mul(i)),a=i.add(r.div(t)),a)}else if(t.eq(se))return this.unsigned?Ki:_e;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();a=_e}for(r=this;r.gte(t);){i=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(i)/Math.LN2),u=o<=48?1:Gu(2,o-48),c=He(i),h=c.mul(t);h.isNegative()||h.gt(r);)i-=u,c=He(i,this.unsigned),h=c.mul(t);c.isZero()&&(c=La),a=a.add(c),r=r.sub(h)}return a};D.div=D.divide;D.modulo=function(t){if(Ft(t)||(t=Ke(t)),Ve){var n=(this.unsigned?Ve.rem_u:Ve.rem_s)(this.low,this.high,t.low,t.high);return Q(n,Ve.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))};D.mod=D.modulo;D.rem=D.modulo;D.not=function(){return Q(~this.low,~this.high,this.unsigned)};D.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};D.clz=D.countLeadingZeros;D.countTrailingZeros=function(){return this.low?uy(this.low):uy(this.high)+32};D.ctz=D.countTrailingZeros;D.and=function(t){return Ft(t)||(t=Ke(t)),Q(this.low&t.low,this.high&t.high,this.unsigned)};D.or=function(t){return Ft(t)||(t=Ke(t)),Q(this.low|t.low,this.high|t.high,this.unsigned)};D.xor=function(t){return Ft(t)||(t=Ke(t)),Q(this.low^t.low,this.high^t.high,this.unsigned)};D.shiftLeft=function(t){return Ft(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?Q(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Q(0,this.low<<t-32,this.unsigned)};D.shl=D.shiftLeft;D.shiftRight=function(t){return Ft(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?Q(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Q(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};D.shr=D.shiftRight;D.shiftRightUnsigned=function(t){return Ft(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?Q(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):t===32?Q(this.high,0,this.unsigned):Q(this.high>>>t-32,0,this.unsigned)};D.shru=D.shiftRightUnsigned;D.shr_u=D.shiftRightUnsigned;D.rotateLeft=function(t){var n;return Ft(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?Q(this.high,this.low,this.unsigned):t<32?(n=32-t,Q(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(t-=32,n=32-t,Q(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))};D.rotl=D.rotateLeft;D.rotateRight=function(t){var n;return Ft(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?Q(this.high,this.low,this.unsigned):t<32?(n=32-t,Q(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(t-=32,n=32-t,Q(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))};D.rotr=D.rotateRight;D.toSigned=function(){return this.unsigned?Q(this.low,this.high,!1):this};D.toUnsigned=function(){return this.unsigned?this:Q(this.low,this.high,!0)};D.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()};D.toBytesLE=function(){var t=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};D.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};Z.fromBytes=function(t,n,i){return i?Z.fromBytesLE(t,n):Z.fromBytesBE(t,n)};Z.fromBytesLE=function(t,n){return new Z(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)};Z.fromBytesBE=function(t,n){return new Z(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};typeof BigInt=="function"&&(Z.fromBigInt=function(t,n){var i=Number(BigInt.asIntN(32,t)),r=Number(BigInt.asIntN(32,t>>BigInt(32)));return Q(i,r,n)},Z.fromValue=function(t,n){return typeof t=="bigint"?Z.fromBigInt(t,n):Ke(t,n)},D.toBigInt=function(){var t=BigInt(this.low>>>0),n=BigInt(this.unsigned?this.high>>>0:this.high);return n<<BigInt(32)|t});var lt=(e=>(e[e.Null=0]="Null",e[e.Boolean=1]="Boolean",e[e.Integer=2]="Integer",e[e.Long=3]="Long",e[e.Double=4]="Double",e[e.String=5]="String",e[e.Bytes=6]="Bytes",e[e.Date=7]="Date",e))(lt||{});class vt extends Xo{constructor(n,i){super(i);l(this,"valueType");l(this,"value");this.valueType=vt.getPrimitiveType(n),this.value=n===void 0?null:n}static of(n,i){return new vt(n,i)}static valueFromBytes(n,i){switch(n){case 0:return null;case 1:return!!i[0];case 2:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 4:{const r=new DataView(i.buffer);return i.forEach(function(a,s){r.setUint8(s,a)}),r.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(i);case 3:return Z.fromBytesLE(Array.from(i));case 6:return i;case 7:return new Date(Z.fromBytesLE(Array.from(i),!0).toNumber());default:throw new T(S.ErrUnimplemented,`unimplemented type: ${n}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new T(S.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${vn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const n=vt.of(this.value,this.getCreatedAt());return n.setMovedAt(this.getMovedAt()),n.setRemovedAt(this.getRemovedAt()),n}getType(){return this.valueType}static getPrimitiveType(n){switch(typeof n){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(n)?2:4;case"string":return 5;case"object":if(n===null)return 0;if(n instanceof Z)return 3;if(n instanceof Uint8Array)return 6;if(n instanceof Date)return 7}}static isSupport(n){return vt.getPrimitiveType(n)!==void 0}static isInteger(n){return n%1===0}isNumericType(){const n=this.valueType;return n===2||n===3||n===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const n=this.value;return new Uint8Array([n&255,n>>8&255,n>>16&255,n>>24&255])}case 4:{const n=this.value,i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,n,!0),i}case 5:return new TextEncoder().encode(this.value);case 3:{const i=this.value.toBytesLE();return Uint8Array.from(i)}case 6:return this.value;case 7:{const n=this.value,i=Z.fromNumber(n.getTime(),!0).toBytesLE();return Uint8Array.from(i)}default:throw new T(S.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Yu extends W0{constructor(n){super(n);l(this,"prev");l(this,"next");l(this,"movedFrom");this.value=n}static createAfter(n,i){const r=new Yu(i),a=n.next;return n.next=r,r.prev=n,r.next=a,a&&(a.prev=r),r}remove(n){return this.value.remove(n)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(n){this.movedFrom=n}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class Oo{constructor(){l(this,"dummyHead");l(this,"last");l(this,"nodeMapByIndex");l(this,"nodeMapByCreatedAt");const t=vt.of(0,fs);t.setRemovedAt(fs),this.dummyHead=new Yu(t),this.last=this.dummyHead,this.nodeMapByIndex=new Do,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new Oo}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(t,n){let i=this.nodeMapByCreatedAt.get(t.toIDString());if(!i)throw new T(S.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);for(;i.getValue().getMovedAt()&&i.getValue().getMovedAt().after(n)&&i.getMovedFrom();)i=i.getMovedFrom();for(;i.getNext()&&i.getNext().getPositionedAt().after(n);)i=i.getNext();return i}release(t){this.last===t&&(this.last=t.getPrev()),t.release(),this.nodeMapByIndex.delete(t),this.nodeMapByCreatedAt.delete(t.getValue().getCreatedAt().toIDString())}insertAfter(t,n,i=n.getCreatedAt()){const r=this.findNextBeforeExecutedAt(t,i),a=Yu.createAfter(r,n);return r===this.last&&(this.last=a),this.nodeMapByIndex.insertAfter(r,a),this.nodeMapByCreatedAt.set(a.getCreatedAt().toIDString(),a),a}moveAfter(t,n,i){let r=this.nodeMapByCreatedAt.get(t.toIDString());if(!r)throw new T(S.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);let a=this.nodeMapByCreatedAt.get(n.toIDString());if(!a)throw new T(S.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);if(r!==a&&i.after(a.getPositionedAt())){const s=a.getPrev();let o=a.getNext();for(this.release(a),a=this.insertAfter(r.getCreatedAt(),a.getValue(),i),a.getValue().setMovedAt(i),a.setMovedFrom(s);o&&o.getPositionedAt().after(i);)r=a,a=o,o=a.getNext(),this.release(a),a=this.insertAfter(r.getCreatedAt(),a.getValue(),i),a.getValue().setMovedAt(i),a.setMovedFrom(s)}}insert(t){this.insertAfter(this.last.getCreatedAt(),t)}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}subPathOf(t){const n=this.nodeMapByCreatedAt.get(t.toIDString());if(n)return String(this.nodeMapByIndex.indexOf(n))}purge(t){const n=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!n)throw new T(S.ErrInvalidArgument,`fail to find the given createdAt: ${t.getCreatedAt().toIDString()}`);this.release(n)}getByIndex(t){if(t>=this.length)return;const[n,i]=this.nodeMapByIndex.find(t);let r=n;if(t===0&&n===this.dummyHead||i>0)do r&&(r=r.getNext());while(r&&r.isRemoved());return r}getPrevCreatedAt(t){let n=this.nodeMapByCreatedAt.get(t.toIDString());do n=n.getPrev();while(this.dummyHead!==n&&n.isRemoved());return n.getValue().getCreatedAt()}delete(t,n){const i=this.nodeMapByCreatedAt.get(t.toIDString()),r=i.isRemoved();return i.remove(n)&&!r&&this.nodeMapByIndex.splayNode(i),i.getValue()}set(t,n,i){const r=this.nodeMapByCreatedAt.get(t.toIDString());if(!r)throw new T(S.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);return this.insertAfter(r.getCreatedAt(),n,i),this.delete(t,i)}deleteByIndex(t,n){const i=this.getByIndex(t);if(i)return i.remove(n)&&this.nodeMapByIndex.splayNode(i),i.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const t=[];for(const n of this){const i=`${n.getCreatedAt().toIDString()}:${n.getValue().toJSON()}`;n.isRemoved()?t.push(`{${i}}`):t.push(`[${i}]`)}return t.join("")}*[Symbol.iterator](){let t=this.dummyHead.getNext();for(;t;)yield t,t=t.getNext()}}class Zt extends Ir{constructor(n,i){super(n);l(this,"elements");this.elements=i}static create(n,i){if(!i)return new Zt(n,Oo.create());const r=Oo.create();for(const a of i)r.insertAfter(r.getLastCreatedAt(),a.deepcopy());return new Zt(n,r)}subPathOf(n){return this.elements.subPathOf(n)}purge(n){this.elements.purge(n)}insertAfter(n,i,r){this.elements.insertAfter(n,i,r)}moveAfter(n,i,r){this.elements.moveAfter(n,i,r)}get(n){const i=this.elements.getByIndex(n);return i==null?void 0:i.getValue()}getByID(n){const i=this.elements.getByID(n);return i==null?void 0:i.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(n){return this.elements.getPrevCreatedAt(n)}delete(n,i){return this.elements.delete(n,i)}deleteByIndex(n,i){return this.elements.deleteByIndex(n,i)}set(n,i,r){return this.elements.set(n,i,r)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const n of this.elements)n.isRemoved()||(yield n.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(n){for(const i of this.elements){const r=i.getValue();if(n(r,this))return;r instanceof Ir&&r.getDescendants(n)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const n=[];for(const i of this)n.push(i.toJSON());return`[${n.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const n={};for(let i=0;i<this.length;i++){const{createdAt:r,value:a,type:s}=this.get(i).toJSForTest();n[i]={key:String(i),createdAt:r,value:a,type:s}}return{createdAt:this.getCreatedAt().toTestString(),value:n,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const n=Zt.create(this.getCreatedAt());for(const i of this.elements)n.elements.insertAfter(n.getLastCreatedAt(),i.getValue().deepcopy());return n.remove(this.getRemovedAt()),n}}class Es extends $e{constructor(n,i,r,a){super(n,a);l(this,"prevCreatedAt");l(this,"value");this.prevCreatedAt=i,this.value=r}static create(n,i,r,a){return new Es(n,i,r,a)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Zt))throw new T(S.ErrInvalidArgument,"fail to execute, only array can execute add");const r=i,a=this.value.deepcopy();return r.insertAfter(this.prevCreatedAt,a,this.getExecutedAt()),n.registerElement(a,r),{opInfos:[{type:"add",path:n.createPath(this.getParentCreatedAt()),index:Number(r.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return ir.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class ir extends $e{constructor(n,i,r){super(n,r);l(this,"createdAt");this.createdAt=i}static create(n,i,r){return new ir(n,i,r)}execute(n,i){var c;const r=n.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Ir))throw new T(S.ErrInvalidArgument,`only object and array can execute remove: ${r}`);if(i===ot.UndoRedo){let h=r.getByID(this.createdAt);for(;h;){if(h.getRemovedAt())return;h=(c=n.findElementPairByCreatedAt(h.getCreatedAt()))==null?void 0:c.parent}}const a=r.subPathOf(this.createdAt),s=this.toReverseOperation(r),o=r.delete(this.createdAt,this.getExecutedAt());return n.registerRemovedElement(o),{opInfos:r instanceof Zt?[{type:"remove",path:n.createPath(this.getParentCreatedAt()),index:Number(a)}]:[{type:"remove",path:n.createPath(this.getParentCreatedAt()),key:a}],reverseOp:s}}toReverseOperation(n){if(n instanceof Zt){const i=n.getByID(this.createdAt);if(i!==void 0){const r=n.getPrevCreatedAt(this.createdAt);return Es.create(this.getParentCreatedAt(),r,i.deepcopy())}}if(n instanceof Xt){const i=n.subPathOf(this.createdAt);if(i!==void 0){const r=n.get(i);if(r!==void 0)return ca.create(i,r.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class ca extends $e{constructor(n,i,r,a){super(r,a);l(this,"key");l(this,"value");this.key=n,this.value=i}static create(n,i,r,a){return new ca(n,i,r,a)}execute(n,i){var c;const r=n.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Xt))throw new T(S.ErrInvalidArgument,"fail to execute, only object can execute set");if(i===ot.UndoRedo){let h=r;for(;h;){if(h.getRemovedAt())return;h=(c=n.findElementPairByCreatedAt(h.getCreatedAt()))==null?void 0:c.parent}}const a=r.get(this.key),s=this.toReverseOperation(a),o=this.value.deepcopy(),u=r.set(this.key,o,this.getExecutedAt());return i===ot.UndoRedo&&n.findByCreatedAt(o.getCreatedAt())&&n.deregisterElement(o),n.registerElement(o,r),u&&n.registerRemovedElement(u),{opInfos:[{type:"set",path:n.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:s}}toReverseOperation(n){let i=ir.create(this.getParentCreatedAt(),this.value.getCreatedAt());return n!==void 0&&!n.isRemoved()&&(i=ca.create(this.key,n.deepcopy(),this.getParentCreatedAt())),i}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Xi extends $e{constructor(n,i,r,a){super(n,a);l(this,"prevCreatedAt");l(this,"createdAt");this.prevCreatedAt=i,this.createdAt=r}static create(n,i,r,a){return new Xi(n,i,r,a)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Zt))throw new T(S.ErrInvalidArgument,"fail to execute, only array can execute move");const r=i,a=this.toReverseOperation(r),s=Number(r.subPathOf(this.createdAt));r.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const o=Number(r.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:n.createPath(this.getParentCreatedAt()),index:o,previousIndex:s}],reverseOp:a}}toReverseOperation(n){const i=n.getPrevCreatedAt(this.createdAt);return Xi.create(this.getParentCreatedAt(),i,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class Ar{constructor(t,n,i,r){l(this,"key");l(this,"value");l(this,"updatedAt");l(this,"_isRemoved");this.key=t,this.value=n,this.updatedAt=i,this._isRemoved=r}static of(t,n,i,r){return new Ar(t,n,i,r)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:wn}}}class rr{constructor(){l(this,"nodeMapByKey");l(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new rr}getNodeMapByKey(){return this.nodeMapByKey}set(t,n,i){const r=this.nodeMapByKey.get(t);if(r&&r.isRemoved()&&i.after(r.getUpdatedAt())&&(this.numberOfRemovedElement-=1),r===void 0||i.after(r.getUpdatedAt())){const a=Ar.of(t,n,i,!1);return this.nodeMapByKey.set(t,a),r!==void 0&&r.isRemoved()?[r,a]:[void 0,a]}return r.isRemoved()?[r,void 0]:[void 0,void 0]}setInternal(t,n,i,r){const a=Ar.of(t,n,i,r);this.nodeMapByKey.set(t,a),r&&this.numberOfRemovedElement++}remove(t,n){const i=this.nodeMapByKey.get(t),r=[];if(i===void 0||n.after(i.getUpdatedAt())){if(i===void 0){this.numberOfRemovedElement+=1;const o=Ar.of(t,"",n,!0);return this.nodeMapByKey.set(t,o),r.push(o),r}const a=i.isRemoved();a||(this.numberOfRemovedElement+=1),a&&r.push(i);const s=Ar.of(t,i.getValue(),n,!0);return this.nodeMapByKey.set(t,s),r.push(s),r}return r}has(t){if(this.nodeMapByKey.has(t)){const n=this.nodeMapByKey.get(t);return n!==void 0&&!n.isRemoved()}return!1}get(t){if(this.nodeMapByKey.has(t))return this.nodeMapByKey.get(t).getValue()}deepcopy(){const t=new rr;for(const[,n]of this.nodeMapByKey)t.setInternal(n.getKey(),n.getValue(),n.getUpdatedAt(),n.isRemoved());return t}toJSON(){if(!this.size())return"{}";const t=[];for(const[n,i]of this.nodeMapByKey)i.isRemoved()||t.push(`"${vn(n)}":"${vn(i.getValue())}"`);return`{${t.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const t={};for(const[n,i]of this.nodeMapByKey)i.isRemoved()||(t[n]=i.getValue());return t}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}purge(t){const n=this.nodeMapByKey.get(t.getKey());n==null||n.toIDString()!=t.toIDString()||(this.nodeMapByKey.delete(t.getKey()),this.numberOfRemovedElement--)}}function Ze(e){if(e instanceof Map){const t=Array.from(e);return new Map(JSON.parse(JSON.stringify(t)))}return JSON.parse(JSON.stringify(e))}const rS=e=>e?Object.entries(e).length===0:!0,ds=e=>{const t={};for(const[n,i]of Object.entries(e))t[n]=JSON.stringify(i);return t},Qi=e=>{const t={};for(const[n,i]of Object.entries(e))t[n]=JSON.parse(i);return t};function mA(e){return e?my(e.live)+my(e.gc):0}function my(e){return e.data+e.meta}function Ht(e,...t){for(const n of t)e.data+=n.data,e.meta+=n.meta}function Ka(e,t){e.data-=t.data,e.meta-=t.meta}class Co{constructor(t){l(this,"attributes");l(this,"content");this.attributes=rr.create(),this.content=t}static create(t){return new Co(t)}get length(){return this.content.length}substring(t,n){const i=new Co(this.content.substring(t,n));return i.attributes=this.attributes.deepcopy(),i}setAttr(t,n,i){return this.attributes.set(t,n,i)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const t={data:0,meta:0};t.data+=this.content.length*2;for(const n of this.attributes){const i=n.getDataSize();t.meta+=i.meta,t.data+=i.data}return t}toJSON(){const t=vn(this.content),n=this.attributes.toObject(),i=[];for(const[r,a]of Object.entries(n)){const s=JSON.parse(a),o=typeof s=="string"?`"${vn(r)}":"${vn(s)}"`:`"${vn(r)}":${String(s)}`;i.push(o)}return i.sort(),i.length===0?`{"val":"${t}"}`:`{"attrs":{${i.join(",")}},"val":"${t}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(t){this.attributes&&t instanceof Ar&&this.attributes.purge(t)}getGCPairs(){const t=[];for(const n of this.attributes)n.getRemovedAt()&&t.push({parent:this,child:n});return t}}class we extends Xo{constructor(n,i){super(i);l(this,"rgaTreeSplit");this.rgaTreeSplit=n}static create(n,i){return new we(n,i)}edit(n,i,r,a,s){const o=i?Co.create(i):void 0;if(o&&a)for(const[d,b]of Object.entries(a))o.setAttr(d,b,r);const[u,c,h,m]=this.rgaTreeSplit.edit(n,r,o,s);return[m.map(d=>({...d,value:d.value?{attributes:Qi(d.value.getAttributes()),content:d.value.getContent()}:{attributes:void 0,content:""},type:"content"})),c,h,[u,u]]}setStyle(n,i,r,a){const s={data:0,meta:0},[,o,u]=this.rgaTreeSplit.findNodeWithSplit(n[1],r),[,c,h]=this.rgaTreeSplit.findNodeWithSplit(n[0],r);Ht(s,o,c);const m=[],g=this.rgaTreeSplit.findBetween(h,u),d=[];for(const A of g){const x=A.getCreatedAt().getActorID();let p=Hl;a!=null&&(p=a.get(x)?a.get(x):0n),A.canStyle(r,p)&&d.push(A)}const b=[];for(const A of d){if(A.isRemoved())continue;const[x,p]=this.rgaTreeSplit.findIndexesFromRange(A.createPosRange());m.push({type:"style",actor:r.getActorID(),from:x,to:p,value:{attributes:Qi(i)}});for(const[y,v]of Object.entries(i)){const[w]=A.getValue().setAttr(y,v,r);w!==void 0&&b.push({parent:A.getValue(),child:w});const O=A.getValue().getAttrs().getNodeMapByKey().get(y);O!==void 0&&Ht(s,O.getDataSize())}}return[b,s,m]}indexRangeToPosRange(n,i){const r=this.rgaTreeSplit.indexToPos(n);return n===i?[r,r]:[r,this.rgaTreeSplit.indexToPos(i)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const n={data:0,meta:0};for(const i of this.rgaTreeSplit){if(i.isRemoved())continue;const r=i.getDataSize();n.data+=r.data,n.meta+=r.meta}return{data:n.data,meta:n.meta+this.getMetaUsage()}}toJSON(){const n=[];for(const i of this.rgaTreeSplit)i.isRemoved()||n.push(i.getValue().toJSON());return`[${n.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const n=[];for(const i of this.rgaTreeSplit)if(!i.isRemoved()){const r=i.getValue();n.push({attributes:Qi(r.getAttributes()),content:r.getContent()})}return n}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const n=new we(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return n.remove(this.getRemovedAt()),n}findIndexesFromRange(n){return this.rgaTreeSplit.findIndexesFromRange(n)}getGCPairs(){const n=[];for(const i of this.rgaTreeSplit){i.getRemovedAt()&&n.push({parent:this.rgaTreeSplit,child:i});for(const r of i.getValue().getGCPairs())n.push(r)}return n}}class Zo extends $e{constructor(n,i,r,a,s,o){super(n,o);l(this,"fromPos");l(this,"toPos");l(this,"content");l(this,"attributes");this.fromPos=i,this.toPos=r,this.content=a,this.attributes=s}static create(n,i,r,a,s,o){return new Zo(n,i,r,a,s,o)}execute(n,i,r){const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof we))throw new T(S.ErrInvalidArgument,"fail to execute, only Text can execute edit");const s=a,[o,u,c]=s.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),r);n.acc(c);for(const h of u)n.registerGCPair(h);return{opInfos:o.map(({from:h,to:m,value:g})=>({type:"edit",from:h,to:m,value:g,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),r=this.toPos.toTestString(),a=this.content;return`${n}.EDIT(${i},${r},${a})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class Fo extends $e{constructor(n,i,r,a,s){super(n,s);l(this,"fromPos");l(this,"toPos");l(this,"attributes");this.fromPos=i,this.toPos=r,this.attributes=a}static create(n,i,r,a,s){return new Fo(n,i,r,a,s)}execute(n,i,r){const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof we))throw new T(S.ErrInvalidArgument,"fail to execute, only Text can execute edit");const s=a,[o,u,c]=s.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),r);n.acc(u);for(const h of o)n.registerGCPair(h);return{opInfos:c.map(({from:h,to:m,value:g})=>({type:"style",from:h,to:m,value:g,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),r=this.toPos.toTestString(),a=this.attributes;return`${n}.STYL(${i},${r},${JSON.stringify(a)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const yA=2,pA="root",An="text";function zs(e,t){let n=0;const i=e.children;for(let r=0;r<t;r++){const a=i[r];!a||a.isRemoved||(n+=a.paddedSize)}return n}class vA{constructor(t,n=[]){l(this,"type");l(this,"parent");l(this,"_children");l(this,"size");if(this.type=t,this.size=0,this._children=n,this.isText&&this._children.length>0)throw new T(S.ErrRefused,"Text node cannot have children")}updateAncestorsSize(){let t=this.parent;const n=this.isRemoved?-1:1;for(;t&&(t.size+=this.paddedSize*n,!t.isRemoved);)t=t.parent}updateDescendantsSize(){let t=0;for(const n of this._children){const i=n.updateDescendantsSize();n.isRemoved||(t+=i)}return this.size+=t,this.paddedSize}get isText(){return this.type===An}get paddedSize(){return this.size+(this.isText?0:yA)}isAncestorOf(t){return SA(this,t)}get nextSibling(){const t=this.parent.findOffset(this),n=this.parent.children[t+1];if(n)return n}get prevSibling(){const t=this.parent.findOffset(this),n=this.parent.children[t-1];if(n)return n}splitText(t,n){const i={data:0,meta:0};if(t===0||t===this.size)return[void 0,i];const r=this.value.slice(0,t),a=this.value.slice(t);if(!a.length)return[void 0,i];const s=this.getDataSize();this.value=r;const o=this.cloneText(t+n);return o.value=a,this.parent.insertAfterInternal(o,this),Ht(i,this.getDataSize(),o.getDataSize()),Ka(i,s),[o,i]}get children(){return this._children.filter(t=>!t.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(t=>t.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(t=>t.value).join(""):""}append(...t){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");this._children.push(...t);for(const n of t)n.parent=this,n.updateAncestorsSize()}prepend(...t){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");this._children.unshift(...t);for(const n of t)n.parent=this}insertBefore(t,n){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new T(S.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i),t.updateAncestorsSize()}insertAfter(t,n){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new T(S.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i+1),t.updateAncestorsSize()}insertAt(t,n){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");this.insertAtInternal(t,n),t.updateAncestorsSize()}removeChild(t){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");const n=this._children.indexOf(t);if(n===-1)throw new T(S.ErrInvalidArgument,"child not found");this._children.splice(n,1),t.parent=void 0}splitElement(t,n){const i={data:0,meta:0},r=this.getDataSize(),a=this.cloneElement(n);this.parent.insertAfterInternal(a,this),a.updateAncestorsSize();const s=this.children.slice(0,t),o=this.children.slice(t);this._children=s,a._children=o,this.size=this._children.reduce((u,c)=>u+c.paddedSize,0),a.size=a._children.reduce((u,c)=>u+c.paddedSize,0);for(const u of a._children)u.parent=a;return Ht(i,this.getDataSize(),a.getDataSize()),Ka(i,r),[a,i]}insertAfterInternal(t,n){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new T(S.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i+1)}insertAtInternal(t,n){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");this._children.splice(n,0,t),t.parent=this}findOffset(t){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");if(t.isRemoved){const n=this._children.indexOf(t);return this.allChildren.splice(0,n).filter(r=>!r.isRemoved).length}return this.children.indexOf(t)}findBranchOffset(t){if(this.isText)throw new T(S.ErrRefused,"Text node cannot have children");let n=t;for(;n;){const i=this._children.indexOf(n);if(i!==-1)return i;n=n.parent}return-1}}function SA(e,t){if(e===t)return!1;for(;t.parent;){if(t.parent===e)return!0;t=t.parent}return!1}var Nt=(e=>(e.Start="Start",e.End="End",e.Text="Text",e))(Nt||{});function aS(e,t,n,i){if(t>n)throw new T(S.ErrInvalidArgument,`from is greater than to: ${t} > ${n}`);if(t>e.size)throw new T(S.ErrInvalidArgument,`from is out of range: ${t} > ${e.size}`);if(n>e.size)throw new T(S.ErrInvalidArgument,`to is out of range: ${n} > ${e.size}`);if(t===n)return;let r=0;for(const a of e.children){if(t-a.paddedSize<r&&r<n){const s=a.isText?t-r:t-r-1,o=a.isText?n-r:n-r-1,u=!a.isText&&s<0,c=!a.isText&&o>a.size;(a.isText||u)&&i([a,a.isText?"Text":"Start"],c),aS(a,Math.max(0,s),Math.min(o,a.size),i),c&&i([a,"End"],c)}r+=a.paddedSize}}function sS(e,t,n=0){for(const i of e.children)sS(i,t,n+1);t(e,n)}function yc(e,t,n=0){for(const i of e._children)yc(i,t,n+1);t(e,n)}function Ih(e,t,n=!0){if(t>e.size)throw new T(S.ErrInvalidArgument,`index is out of range: ${t} > ${e.size}`);if(e.isText)return{node:e,offset:t};let i=0,r=0;for(const a of e.children){if(n&&a.isText&&a.size>=t-r)return Ih(a,t-r,n);if(t===r)return{node:e,offset:i};if(!n&&a.paddedSize===t-r)return{node:e,offset:i+1};if(a.paddedSize>t-r)return Ih(a,t-r-1,n);r+=a.paddedSize,i+=1}return{node:e,offset:i}}function oS(e){return e.isText||e.children.length===0?e:oS(e.children[0])}function TA(e,t){if(e.size<t)throw new T(S.ErrInvalidArgument,"unacceptable path");for(let n=0;n<e.children.length;n++){const i=e.children[n];if(i.size<t)t-=i.size;else{e=i;break}}return{node:e,offset:t}}class bA{constructor(t){l(this,"root");this.root=t}tokensBetween(t,n,i){aS(this.root,t,n,i)}traverse(t){sS(this.root,t,0)}traverseAll(t){yc(this.root,t,0)}findTreePos(t,n=!0){return Ih(this.root,t,n)}treePosToPath(t){const n=[];let i=t.node;if(i.isText){const r=i.parent.findOffset(i);if(r===-1)throw new T(S.ErrInvalidArgument,"invalid treePos");const a=zs(i.parent,r);n.push(a+t.offset),i=i.parent}else if(i.hasTextChild()){const r=zs(i,t.offset);n.push(r)}else n.push(t.offset);for(;i.parent;){const r=i.parent.findOffset(i);if(r===-1)throw new T(S.ErrInvalidArgument,"invalid treePos");n.push(r),i=i.parent}return n.reverse()}pathToIndex(t){const n=this.pathToTreePos(t);return this.indexOf(n)}pathToTreePos(t){if(!t.length)throw new T(S.ErrInvalidArgument,"unacceptable path");let n=this.root;for(let i=0;i<t.length-1;i++){const r=t[i];if(n=n.children[r],!n)throw new T(S.ErrInvalidArgument,"unacceptable path")}if(n.hasTextChild())return TA(n,t[t.length-1]);if(n.children.length<t[t.length-1])throw new T(S.ErrInvalidArgument,"unacceptable path");return{node:n,offset:t[t.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(t){const{node:n,offset:i}=t;if(n.isText){if(n.size===i){const r=n.nextSibling;return r||n.parent}return n}return n.children.length===i?n:oS(n.children[i])}indexOf(t){let{node:n}=t;const{offset:i}=t;let r=0,a=1;if(n.isText){r+=i;const s=n.parent,o=s.findOffset(n);if(o===-1)throw new T(S.ErrInvalidArgument,"invalid pos");r+=zs(s,o),n=n.parent}else r+=zs(n,i);for(;n!=null&&n.parent;){const s=n.parent,o=s.findOffset(n);if(o===-1)throw new T(S.ErrInvalidArgument,"invalid pos");r+=zs(s,o),a++,n=n.parent}return r+a-1}indexToPath(t){const n=this.findTreePos(t);return this.treePosToPath(n)}}const wA=(e,t)=>e===t?0:e<t?-1:1;class AA{constructor(t,n,i){l(this,"key");l(this,"value");l(this,"parent");l(this,"left");l(this,"right");l(this,"isRed");this.key=t,this.value=n,this.isRed=i}}class EA{constructor(t){l(this,"stack");this.stack=[],this.traverseInorder(t)}traverseInorder(t){t&&(this.traverseInorder(t.left),this.stack.push({key:t.key,value:t.value}),this.traverseInorder(t.right))}}class lS{constructor(t){l(this,"root");l(this,"comparator");l(this,"counter");this.comparator=typeof t<"u"?t:wA,this.counter=0}put(t,n){return this.root=this.putInternal(t,n,this.root),this.root.isRed=!1,n}get(t){const n=this.getInternal(t,this.root);return n?n.value:void 0}remove(t){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,t),this.root&&(this.root.isRed=!1)}getIterator(){return new EA(this.root)}values(){const t=[];for(const n of this.getIterator().stack)t.push(n.value);return t}floorEntry(t){let n=this.root;for(;n;){const i=this.comparator(t,n.key);if(i>0)if(n.right)n.right.parent=n,n=n.right;else return n;else if(i<0)if(n.left)n.left.parent=n,n=n.left;else{let r=n.parent,a=n;for(;r&&a===r.left;)a=r,r=r.parent;return r}else return n}}lastEntry(){if(!this.root)return this.root;let t=this.root;for(;t.right;)t=t.right;return t}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(t,n){for(;n;){const i=this.comparator(t,n.key);if(i===0)return n;i<0?n=n.left:i>0&&(n=n.right)}}putInternal(t,n,i){if(!i)return this.counter+=1,new AA(t,n,!0);const r=this.comparator(t,i.key);return r<0?i.left=this.putInternal(t,n,i.left):r>0?i.right=this.putInternal(t,n,i.right):i.value=n,this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}removeInternal(t,n){if(this.comparator(n,t.key)<0)!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeInternal(t.left,n);else{if(this.isRed(t.left)&&(t=this.rotateRight(t)),this.comparator(n,t.key)===0&&!t.right){this.counter-=1;return}if(!this.isRed(t.right)&&!this.isRed(t.right.left)&&(t=this.moveRedRight(t)),this.comparator(n,t.key)===0){this.counter-=1;const i=this.min(t.right);t.value=i.value,t.key=i.key,t.right=this.removeMin(t.right)}else t.right=this.removeInternal(t.right,n)}return this.fixUp(t)}min(t){return t.left?this.min(t.left):t}removeMin(t){if(t.left)return!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeMin(t.left),this.fixUp(t)}fixUp(t){return this.isRed(t.right)&&(t=this.rotateLeft(t)),this.isRed(t.left)&&this.isRed(t.left.left)&&(t=this.rotateRight(t)),this.isRed(t.left)&&this.isRed(t.right)&&this.flipColors(t),t}moveRedLeft(t){return this.flipColors(t),this.isRed(t.right.left)&&(t.right=this.rotateRight(t.right),t=this.rotateLeft(t),this.flipColors(t)),t}moveRedRight(t){return this.flipColors(t),this.isRed(t.left.left)&&(t=this.rotateRight(t),this.flipColors(t)),t}isRed(t){return t&&t.isRed}rotateLeft(t){const n=t.right;return t.right=n.left,n.left=t,n.isRed=n.left.isRed,n.left.isRed=!0,n}rotateRight(t){const n=t.left;return t.left=n.right,n.right=t,n.isRed=n.right.isRed,n.right.isRed=!0,n}flipColors(t){t.isRed=!t.isRed,t.left.isRed=!t.left.isRed,t.right.isRed=!t.right.isRed}}class We{constructor(t,n){l(this,"parentID");l(this,"leftSiblingID");this.parentID=t,this.leftSiblingID=n}static of(t,n){return new We(t,n)}static fromTreePos(t){const{offset:n}=t;let{node:i}=t,r;return i.isText?(i.parent.children[0]===i&&n===0?r=i.parent:r=i,i=i.parent):n===0?r=i:r=i.children[n-1],We.of(i.id,Gt.of(r.getCreatedAt(),r.getOffset()+n))}getParentID(){return this.parentID}static fromStruct(t){return We.of(Gt.of(je.fromStruct(t.parentID.createdAt),t.parentID.offset),Gt.of(je.fromStruct(t.leftSiblingID.createdAt),t.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(t){const n=this.getParentID(),i=this.getLeftSiblingID(),r=t.findFloorNode(n);let a=t.findFloorNode(i);if(!r||!a)throw new T(S.ErrRefused,`cannot find node of CRDTTreePos(${n.toTestString()}, ${i.toTestString()})`);return!i.equals(n)&&i.getOffset()>0&&i.getOffset()===a.id.getOffset()&&a.insPrevID&&(a=t.findFloorNode(a.insPrevID)),[r,a]}getLeftSiblingID(){return this.leftSiblingID}equals(t){return this.getParentID().getCreatedAt().equals(t.getParentID().getCreatedAt())&&this.getParentID().getOffset()===t.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(t.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===t.getLeftSiblingID().getOffset()}}class Gt{constructor(t,n){l(this,"createdAt");l(this,"offset");this.createdAt=t,this.offset=n}static of(t,n){return new Gt(t,n)}static fromStruct(t){return Gt.of(je.fromStruct(t.createdAt),t.offset)}static createComparator(){return(t,n)=>{const i=t.getCreatedAt().compare(n.getCreatedAt());return i!==0?i:t.getOffset()>n.getOffset()?1:t.getOffset()<n.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}getOffset(){return this.offset}setOffset(t){this.offset=t}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class ye extends vA{constructor(n,i,r,a,s){super(i);l(this,"id");l(this,"removedAt");l(this,"attrs");l(this,"insPrevID");l(this,"insNextID");l(this,"_value","");this.id=n,this.removedAt=s,a&&(this.attrs=a),typeof r=="string"?this.value=r:Array.isArray(r)&&(this._children=r)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(n,i,r,a){return new ye(n,i,r,a)}deepcopy(){var i;const n=new ye(this.id,this.type);return n.removedAt=this.removedAt,n._value=this._value,n.size=this.size,n.attrs=(i=this.attrs)==null?void 0:i.deepcopy(),n._children=this._children.map(r=>{const a=r.deepcopy();return a.parent=n,a}),n.insPrevID=this.insPrevID,n.insNextID=this.insNextID,n}get value(){if(!this.isText)throw new T(S.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(n){if(!this.isText)throw new T(S.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=n,this.size=n.length}get isRemoved(){return!!this.removedAt}remove(n){const i=!this.removedAt;(!this.removedAt||this.removedAt.compare(n)>0)&&(this.removedAt=n),i&&this.updateAncestorsSize()}cloneText(n){return new ye(Gt.of(this.id.getCreatedAt(),n),this.type,void 0,void 0,this.removedAt)}cloneElement(n){return new ye(Gt.of(n(),0),this.type,void 0,void 0,this.removedAt)}split(n,i,r){const[a,s]=this.isText?this.splitText(i,this.id.getOffset()):this.splitElement(i,r);if(a){if(a.insPrevID=this.id,this.insNextID){const o=n.findFloorNode(this.insNextID);o.insPrevID=a.id,a.insNextID=this.insNextID}this.insNextID=a.id,n.registerNode(a)}return[a,s]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(n,i){return this.getCreatedAt().getLamport()<=i&&(!this.removedAt||n.after(this.removedAt))}canStyle(n,i){return this.isText?!1:this.getCreatedAt().getLamport()<=i&&(!this.removedAt||n.after(this.removedAt))}setAttrs(n,i){this.attrs||(this.attrs=new rr);const r=[];for(const[a,s]of Object.entries(n))r.push(this.attrs.set(a,s,i));return r}purge(n){this.attrs&&this.attrs.purge(n)}getDataSize(){const n={data:0,meta:0};if(this.isText&&(n.data+=this.size*2),this.id&&(n.meta+=wn),this.removedAt&&(n.meta+=wn),this.attrs)for(const i of this.attrs){if(i.getRemovedAt())continue;const r=i.getDataSize();n.meta+=r.meta,n.data+=r.data}return n}getGCPairs(){const n=[];if(!this.attrs)return n;for(const i of this.attrs)i.getRemovedAt()&&n.push({parent:this,child:i});return n}}function zh(e){var n;if(e.isText){const i=e;return{type:i.type,value:i.value}}const t={type:e.type,children:e.children.map(zh)};return e.attrs&&(t.attributes=Qi((n=e.attrs)==null?void 0:n.toObject())),t}function Vd(e){if(e.isText)return e.value;let t="";return e.attrs&&e.attrs.size()&&(t=" "+Array.from(e.attrs).filter(n=>!n.isRemoved()).sort((n,i)=>n.getKey().localeCompare(i.getKey())).map(n=>{const i=JSON.parse(n.getValue());return typeof i=="string"?`${n.getKey()}="${i}"`:`${n.getKey()}="${vn(n.getValue())}"`}).join(" ")),`<${e.type}${t}>${e.children.map(n=>Vd(n)).join("")}</${e.type}>`}function uS(e){if(e.isText){const t=e;return{type:t.type,value:t.value,size:t.size,isRemoved:t.isRemoved}}return{type:e.type,children:e.children.map(uS),size:e.size,isRemoved:e.isRemoved}}class Ae extends Xo{constructor(n,i){super(i);l(this,"indexTree");l(this,"nodeMapByID");this.indexTree=new bA(n),this.nodeMapByID=new lS(Gt.createComparator()),this.indexTree.traverseAll(r=>{this.nodeMapByID.put(r.id,r)})}static create(n,i){return new Ae(n,i)}findFloorNode(n){const i=this.nodeMapByID.floorEntry(n);if(!(!i||!i.key.getCreatedAt().equals(n.getCreatedAt())))return i.value}registerNode(n){this.nodeMapByID.put(n.id,n)}findNodesAndSplitText(n,i){let r={data:0,meta:0};const[a,s]=n.toTreeNodePair(this);let o=s;const u=a===o,c=o.parent&&!u?o.parent:a;if(o.isText){const[,h]=o.split(this,n.getLeftSiblingID().getOffset()-o.id.getOffset());r=h}if(i){const h=c.allChildren,m=u?0:h.indexOf(o)+1;for(let g=m;g<h.length;g++){const d=h[g];if(!d.id.getCreatedAt().after(i))break;o=d}}return[[c,o],r]}style(n,i,r,a){const s={data:0,meta:0},[[o,u],c]=this.findNodesAndSplitText(n[0],r),[[h,m],g]=this.findNodesAndSplitText(n[1],r);Ht(s,g,c);const d=[],b=i?Qi(i):{},A=[];return this.traverseInPosRange(o,u,h,m,([x,p])=>{var w;const y=x.getCreatedAt().getActorID();let v=Hl;if(a!=null&&(v=a.get(y)?a.get(y):0n),x.canStyle(r,v)&&i){const O=x.setAttrs(i,r),R=O.reduce((P,[,J])=>(J&&(P[J.getKey()]=b[J.getKey()]),P),{}),C=x.parent,B=x.prevSibling||x.parent;Object.keys(R).length>0&&d.push({type:"style",from:this.toIndex(C,B),to:this.toIndex(x,x),fromPath:this.toPath(C,B),toPath:this.toPath(x,x),actor:r.getActorID(),value:R});for(const[P]of O)P&&A.push({parent:x,child:P});for(const[P]of Object.entries(b)){const J=(w=x.attrs)==null?void 0:w.getNodeMapByKey().get(P);J!==void 0&&p!==Nt.End&&Ht(s,J.getDataSize())}}}),[A,d,s]}removeStyle(n,i,r,a){const s={data:0,meta:0},[[o,u],c]=this.findNodesAndSplitText(n[0],r),[[h,m],g]=this.findNodesAndSplitText(n[1],r);Ht(s,g,c);const d=[],b=[];return this.traverseInPosRange(o,u,h,m,([A])=>{const x=A.getCreatedAt().getActorID();let p=Hl;if(a!=null&&(p=a.get(x)?a.get(x):0n),A.canStyle(r,p)&&i){A.attrs||(A.attrs=new rr);for(const w of i){const O=A.attrs.remove(w,r);for(const R of O)b.push({parent:A,child:R})}const y=A.parent,v=A.prevSibling||A.parent;d.push({actor:r.getActorID(),type:"removeStyle",from:this.toIndex(y,v),to:this.toIndex(A,A),fromPath:this.toPath(y,v),toPath:this.toPath(A,A),value:i})}}),[b,d,s]}edit(n,i,r,a,s,o){const u={data:0,meta:0},[[c,h],m]=this.findNodesAndSplitText(n[0],a),[[g,d],b]=this.findNodesAndSplitText(n[1],a);Ht(u,b,m);const A=this.toIndex(c,h),x=this.toPath(c,h),p=[],y=[],v=[];this.traverseInPosRange(c,h,g,d,([R,C],B)=>{if(C===Nt.Start&&!B)for(const Yt of R.children)v.push(Yt);const P=R.getCreatedAt().getActorID();let J=Hl;o!=null&&(J=o.get(P)?o.get(P):0n),(R.canDelete(a,J)||p.includes(R.parent))&&((C===Nt.Text||C===Nt.Start)&&p.push(R),y.push([R,C]))});const w=this.makeDeletionChanges(y,a),O=[];for(const R of p)R.remove(a),R.isRemoved&&O.push({parent:this,child:R});for(const R of v)R.removedAt||c.append(R);if(r>0){let R=0,C=c,B=h;for(;R<r;)C.split(this,C.findOffset(B)+1,s),B=C,C=C.parent,R++;w.push({type:"content",from:A,to:A,fromPath:x,toPath:x,actor:a.getActorID()})}if(i!=null&&i.length){const R=[];let C=h;for(const B of i)C===c?c.insertAt(B,0):c.insertAfter(B,C),C=B,yc(B,P=>{c.isRemoved?(P.remove(a),O.push({parent:this,child:P})):Ht(u,P.getDataSize()),this.nodeMapByID.put(P.id,P)}),B.isRemoved||R.push(B);if(R.length){const B=R.map(P=>zh(P));w.length&&w[w.length-1].from===A?w[w.length-1].value=B:w.push({type:"content",from:A,to:A,fromPath:x,toPath:x,actor:a.getActorID(),value:B})}}return[w,O,u]}editT(n,i,r,a,s){const o=this.findPos(n[0]),u=this.findPos(n[1]);this.edit([o,u],i,r,a,s)}move(n,i,r){throw new T(S.ErrUnimplemented,`not implemented: ${n}, ${i}, ${r}`)}pathToTreePos(n){return this.indexTree.pathToTreePos(n)}purge(n){var a;(a=n.parent)==null||a.removeChild(n),this.nodeMapByID.remove(n.id);const i=n.insPrevID,r=n.insNextID;if(i){const s=this.findFloorNode(i);s.insNextID=r}if(r){const s=this.findFloorNode(r);s.insPrevID=i}n.insPrevID=void 0,n.insNextID=void 0}getGCPairs(){const n=[];return this.indexTree.traverse(i=>{i.getRemovedAt()&&n.push({parent:this,child:i});for(const r of i.getGCPairs())n.push(r)}),n}findPos(n,i=!0){const r=this.indexTree.findTreePos(n,i);return We.fromTreePos(r)}pathToPosRange(n){const i=this.pathToIndex(n);return[this.findPos(i),this.findPos(i+1)]}pathToPos(n){const i=this.indexTree.pathToIndex(n);return this.findPos(i)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Vd(this.indexTree.getRoot())}getDataSize(){const n={data:0,meta:0};return this.indexTree.traverse(i=>{if(i.getRemovedAt())return;const r=i.getDataSize();n.data+=r.data,n.meta+=r.meta}),{data:n.data,meta:n.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const n=this.indexTree.getRoot(),i=(r,a=void 0,s=void 0,o=0)=>{var d,b,A,x;let u,c,h;const m=r.isText?{node:r,offset:0}:a&&s?this.toTreePos(a,s):null;m&&(u=this.indexTree.indexOf(m),c=this.indexTree.treePosToPath(m),h=We.fromTreePos(m).toStruct());const g={type:r.type,parent:a==null?void 0:a.id.toTestString(),size:r.size,id:r.id.toTestString(),removedAt:(d=r.removedAt)==null?void 0:d.toTestString(),insPrev:(b=r.insPrevID)==null?void 0:b.toTestString(),insNext:(A=r.insNextID)==null?void 0:A.toTestString(),value:r.isText?r.value:void 0,isRemoved:r.isRemoved,children:[],depth:o,attributes:r.attrs?Qi((x=r.attrs)==null?void 0:x.toObject()):void 0,index:u,path:c,pos:h};for(let p=0;p<r.allChildren.length;p++){const y=p===0?r:r.allChildren[p-1];g.children.push(i(r.allChildren[p],r,y,o+1))}return g};return i(n)}getRootTreeNode(){return zh(this.indexTree.getRoot())}toTestTreeNode(){return uS(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const n=this.getRoot();return new Ae(n.deepcopy(),this.getCreatedAt())}toPath(n,i){const r=this.toTreePos(n,i);return r?this.indexTree.treePosToPath(r):[]}toIndex(n,i){const r=this.toTreePos(n,i);return r?this.indexTree.indexOf(r):-1}indexToPath(n){return this.indexTree.indexToPath(n)}pathToIndex(n){return this.indexTree.pathToIndex(n)}indexRangeToPosRange(n){const i=this.findPos(n[0]);return n[0]===n[1]?[i,i]:[i,this.findPos(n[1])]}indexRangeToPosStructRange(n){const[i,r]=n,a=this.findPos(i);return i===r?[a.toStruct(),a.toStruct()]:[a.toStruct(),this.findPos(r).toStruct()]}posRangeToPathRange(n){const[[i,r]]=this.findNodesAndSplitText(n[0]),[[a,s]]=this.findNodesAndSplitText(n[1]);return[this.toPath(i,r),this.toPath(a,s)]}posRangeToIndexRange(n){const[[i,r]]=this.findNodesAndSplitText(n[0]),[[a,s]]=this.findNodesAndSplitText(n[1]);return[this.toIndex(i,r),this.toIndex(a,s)]}traverseInPosRange(n,i,r,a,s){const o=this.toIndex(n,i),u=this.toIndex(r,a);return this.indexTree.tokensBetween(o,u,s)}toTreePos(n,i){if(!n||!i)return;if(n.isRemoved){let a;for(;n.isRemoved;)a=n,n=a.parent;const s=n.findOffset(a);return{node:n,offset:s}}if(n===i)return{node:n,offset:0};let r=n.findOffset(i);if(!i.isRemoved){if(i.isText)return{node:i,offset:i.paddedSize};r++}return{node:n,offset:r}}makeDeletionChanges(n,i){const r=[],a=[];let s=null,o=null;for(let u=0;u<n.length;u++){const c=n[u],h=n[u+1];s||(s=c),o=c;const m=this.findRightToken(c);(!m||!h||m[0]!==h[0]||m[1]!==h[1])&&(a.push([s,o]),s=null,o=null)}for(const u of a){const[c,h]=u,[m,g]=this.findLeftToken(c),[d,b]=h,A=g===Nt.Start?m:m.parent,x=b===Nt.Start?d:d.parent,p=this.toIndex(A,m),y=this.toIndex(x,d);p<y&&(r.length>0&&p===r[r.length-1].to?(r[r.length-1].to=y,r[r.length-1].toPath=this.toPath(x,d)):r.push({type:"content",from:p,to:y,fromPath:this.toPath(A,m),toPath:this.toPath(x,d),actor:i.getActorID()}))}return r.reverse()}findRightToken([n,i]){if(i===Nt.Start){const u=n.allChildren;return u.length>0?[u[0],u[0].isText?Nt.Text:Nt.Start]:[n,Nt.End]}const r=n.parent,a=r.allChildren,s=a.indexOf(n);if(r&&s===a.length-1)return[r,Nt.End];const o=a[s+1];return[o,o.isText?Nt.Text:Nt.Start]}findLeftToken([n,i]){if(i===Nt.End){const u=n.allChildren;if(u.length>0){const c=u[u.length-1];return[c,c.isText?Nt.Text:Nt.End]}return[n,Nt.Start]}const r=n.parent,a=r.allChildren,s=a.indexOf(n);if(r&&s===0)return[r,Nt.Start];const o=a[s-1];return[o,o.isText?Nt.Text:Nt.End]}}class Qo extends $e{constructor(n,i,r,a,s,o){super(n,o);l(this,"fromPos");l(this,"toPos");l(this,"contents");l(this,"splitLevel");this.fromPos=i,this.toPos=r,this.contents=a,this.splitLevel=s}static create(n,i,r,a,s,o){return new Qo(n,i,r,a,s,o)}execute(n,i,r){var m;const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Ae))throw new T(S.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const s=this.getExecutedAt(),o=a,[u,c,h]=o.edit([this.fromPos,this.toPos],(m=this.contents)==null?void 0:m.map(g=>g.deepcopy()),this.splitLevel,s,(()=>{let g=s.getDelimiter();return this.contents!==void 0&&(g+=this.contents.length),()=>je.of(s.getLamport(),++g,s.getActorID())})(),r);n.acc(h);for(const g of c)n.registerGCPair(g);return{opInfos:u.map(({from:g,to:d,value:b,splitLevel:A,fromPath:x,toPath:p})=>({type:"tree-edit",path:n.createPath(this.getParentCreatedAt()),from:g,to:d,value:b,splitLevel:A,fromPath:x,toPath:p}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,r=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,a=this.contents||[];return`${n}.EDIT(${i},${r},${a.map(s=>Vd(s)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class Xa{constructor(t){l(this,"vector");this.vector=t||new Map}set(t,n){this.vector.set(t,n)}unset(t){this.vector.delete(t)}get(t){return this.vector.get(t)}has(t){return this.vector.has(t)}maxLamport(){let t=BigInt(0);for(const[,n]of this)n>t&&(t=n);return t}max(t){const n=new Map;for(const[i,r]of t){const a=this.vector.get(i),s=a&&a>r?a:r;n.set(i,s)}for(const[i,r]of this){const a=t.get(i),s=a&&a>r?a:r;n.set(i,s)}return new Xa(n)}afterOrEqual(t){const n=this.vector.get(t.getActorID());return n===void 0?!1:n>=t.getLamport()}deepcopy(){const t=new Map;for(const[n,i]of this.vector)t.set(n,i);return new Xa(t)}filter(t){const n=new Map;for(const[i]of t){const r=this.vector.get(i);r!==void 0&&n.set(i,r)}return new Xa(n)}size(){return this.vector.size}*[Symbol.iterator](){for(const[t,n]of this.vector)yield[t,n]}}const cS=new Xa(new Map);class Fe{constructor(t,n,i,r,a){l(this,"clientSeq");l(this,"serverSeq");l(this,"actor");l(this,"lamport");l(this,"versionVector");this.clientSeq=t,this.serverSeq=a,this.lamport=n,this.versionVector=r,this.actor=i}hasClocks(){return this.versionVector.size()>0&&this.lamport!=Rh}static of(t,n,i,r,a){return new Fe(t,n,i,r,a)}next(t=!1){if(t)return new Fe(this.clientSeq+1,this.lamport,this.actor,cS,Rh);const n=this.versionVector.deepcopy();return n.set(this.actor,this.lamport+1n),new Fe(this.clientSeq+1,this.lamport+1n,this.actor,n)}syncClocks(t){if(!t.hasClocks())return this;const n=t.lamport>this.lamport?t.lamport+1n:this.lamport+1n,i=this.versionVector.max(t.versionVector),r=new Fe(this.clientSeq,n,this.actor,i);return r.versionVector.set(this.actor,n),r}setClocks(t,n){const i=t>this.lamport?t+1n:this.lamport+1n,r=this.versionVector.max(n);return r.set(this.actor,i),Fe.of(this.clientSeq,i,this.actor,r)}createTimeTicket(t){return je.of(this.lamport,t,this.actor)}setActor(t){return new Fe(this.clientSeq,this.lamport,t,this.versionVector,this.serverSeq)}setLamport(t){return new Fe(this.clientSeq,t,this.actor,this.versionVector,this.serverSeq)}setVersionVector(t){return new Fe(this.clientSeq,this.lamport,this.actor,t,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const NA=new Fe(0,0n,Jd,cS);class gs{constructor({id:t,operations:n,presenceChange:i,message:r}){l(this,"id");l(this,"operations");l(this,"presenceChange");l(this,"message");this.id=t,this.operations=n||[],this.presenceChange=i,this.message=r}static create({id:t,operations:n,presenceChange:i,message:r}){return new gs({id:t,operations:n,presenceChange:i,message:r})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(t){for(const n of this.operations)n.setActor(t);this.id=this.id.setActor(t)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(t,n,i){const r=[],a=[];for(const s of this.operations){const o=s.execute(t,i,this.id.getVersionVector());if(!o)continue;const{opInfos:u,reverseOp:c}=o;r.push(...u),c&&a.unshift(c)}return this.presenceChange&&(this.presenceChange.type===Nn.Put?n.set(this.id.getActorID(),Ze(this.presenceChange.presence)):n.delete(this.id.getActorID())),{opInfos:r,reverseOps:a}}toTestString(){return`${this.operations.map(t=>t.toTestString()).join(",")}`}toStruct(){return{changeID:St.bytesToHex(St.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(t=>St.bytesToHex(St.toOperation(t).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(t){const{changeID:n,operations:i,presenceChange:r,message:a}=t;return gs.create({id:St.bytesToChangeID(St.hexToBytes(n)),operations:i==null?void 0:i.map(s=>St.bytesToOperation(St.hexToBytes(s))),presenceChange:r,message:a})}}class pc{constructor(t,n,i,r,a,s){l(this,"documentKey");l(this,"checkpoint");l(this,"isRemoved");l(this,"changes");l(this,"snapshot");l(this,"versionVector");this.documentKey=t,this.checkpoint=n,this.isRemoved=i,this.changes=r,this.snapshot=s,this.versionVector=a}static create(t,n,i,r,a,s){return new pc(t,n,i,r,a,s)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class Za{constructor(t,n){l(this,"serverSeq");l(this,"clientSeq");this.serverSeq=t,this.clientSeq=n}static of(t,n){return new Za(t,n)}increaseClientSeq(t){return t===0?this:new Za(this.serverSeq,this.clientSeq+t)}forward(t){if(this.equals(t))return this;const n=this.serverSeq>t.serverSeq?this.serverSeq:t.serverSeq,i=Math.max(this.clientSeq,t.clientSeq);return Za.of(n,i)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(t){return this.clientSeq===t.clientSeq&&this.serverSeq==t.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const xA=new Za(0n,0);class En{constructor(t,n){l(this,"createdAt");l(this,"offset");this.createdAt=t,this.offset=n}static of(t,n){return new En(t,n)}static fromStruct(t){return En.of(je.fromStruct(t.createdAt),t.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}hasSameCreatedAt(t){return this.createdAt.compare(t.createdAt)===0}split(t){return new En(this.createdAt,this.offset+t)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const DA=En.of(fs,0);class en{constructor(t,n){l(this,"id");l(this,"relativeOffset");this.id=t,this.relativeOffset=n}static of(t,n){return new en(t,n)}static fromStruct(t){const n=En.fromStruct(t.id);return en.of(n,t.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return En.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(t){return this.id.equals(t.id)?this.relativeOffset===t.relativeOffset:!1}}class zr extends W0{constructor(n,i,r){super(i);l(this,"id");l(this,"removedAt");l(this,"prev");l(this,"next");l(this,"insPrev");l(this,"insNext");this.id=n,this.removedAt=r}static create(n,i){return new zr(n,i)}static createComparator(){return(n,i)=>{const r=n.getCreatedAt().compare(i.getCreatedAt());return r!==0?r:n.getOffset()>i.getOffset()?1:n.getOffset()<i.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(n){this.prev=n,n&&(n.next=this)}setNext(n){this.next=n,n&&(n.prev=this)}setInsPrev(n){this.insPrev=n,n&&(n.insNext=this)}setInsNext(n){this.insNext=n,n&&(n.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(n){return new zr(this.id.split(n),this.splitValue(n),this.removedAt)}canRemove(n){return n?!this.removedAt:!1}canStyle(n,i){return this.getCreatedAt().getLamport()<=i&&(!this.removedAt||n.after(this.removedAt))}setRemovedAt(n){this.removedAt=n}remove(n,i){if(!this.removedAt){this.removedAt=n;return}!i&&n.after(this.removedAt)&&(this.removedAt=n)}createPosRange(){return[en.of(this.id,0),en.of(this.id,this.getLength())]}getDataSize(){const n=this.value.getDataSize();return this.id&&(n.meta+=wn),this.removedAt&&(n.meta+=wn),n}deepcopy(){return new zr(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(n){const i=this.value;return this.value=i.substring(0,n),i.substring(n,i.length)}toIDString(){return this.id.toIDString()}}class ms{constructor(){l(this,"head");l(this,"treeByIndex");l(this,"treeByID");this.head=zr.create(DA),this.treeByIndex=new Do,this.treeByID=new lS(zr.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new ms}edit(t,n,i,r){const a={data:0,meta:0},[s,o,u]=this.findNodeWithSplit(t[1],n),[c,h,m]=this.findNodeWithSplit(t[0],n);Ht(a,o,h);const g=this.findBetween(m,u),[d,b]=this.deleteNodes(g,n,r),A=u?u.getID():s.getID();let x=en.of(A,0);if(i){const y=this.posToIndex(c.createPosRange()[1],!0),v=this.insertAfter(c,zr.create(En.of(n,0),i));Ht(a,v.getDataSize()),d.length&&d[d.length-1].from===y?d[d.length-1].value=i:d.push({actor:n.getActorID(),from:y,to:y,value:i}),x=en.of(v.getID(),v.getContentLength())}const p=[];for(const[,y]of b)p.push({parent:this,child:y});return[x,p,a,d]}indexToPos(t){const[n,i]=this.treeByIndex.find(t),r=n;return en.of(r.getID(),i)}findIndexesFromRange(t){const[n,i]=t;return[this.posToIndex(n,!1),this.posToIndex(i,!0)]}posToIndex(t,n){const i=t.getAbsoluteID(),r=n?this.findFloorNodePreferToLeft(i):this.findFloorNode(i);if(!r)throw new T(S.ErrInvalidArgument,`the node of the given id should be found: ${i.toTestString()}`);const a=this.treeByIndex.indexOf(r),s=r.isRemoved()?0:i.getOffset()-r.getID().getOffset();return a+s}findNode(t){return this.findFloorNode(t)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const t=[];for(const n of this)n.isRemoved()||t.push(n.getValue());return t.join("")}*[Symbol.iterator](){let t=this.head.getNext();for(;t;)yield t,t=t.getNext()}getHead(){return this.head}deepcopy(){const t=new ms;let n=this.head.getNext(),i=t.head,r;for(;n;){if(r=t.insertAfter(i,n.deepcopy()),n.hasInsPrev()){const a=t.findNode(n.getInsPrevID());r.setInsPrev(a)}i=r,n=n.getNext()}return t}toTestString(){const t=[];let n=this.head;for(;n;)n.isRemoved()?t.push(`{${n.toTestString()}}`):t.push(`[${n.toTestString()}]`),n=n.getNext();return t.join("")}insertAfter(t,n){const i=t.getNext();return n.setPrev(t),i&&i.setPrev(n),this.treeByID.put(n.getID(),n),this.treeByIndex.insertAfter(t,n),n}findNodeWithSplit(t,n){const i=t.getAbsoluteID();let r=this.findFloorNodePreferToLeft(i);const a=i.getOffset()-r.getID().getOffset(),[,s]=this.splitNode(r,a);for(;r.hasNext()&&r.getNext().getCreatedAt().after(n);)r=r.getNext();return[r,s,r.getNext()]}findFloorNodePreferToLeft(t){let n=this.findFloorNode(t);if(!n)throw new T(S.ErrInvalidArgument,`the node of the given id should be found: ${t.toTestString()}`);if(t.getOffset()>0&&n.getID().getOffset()==t.getOffset()){if(!n.hasInsPrev())return n;n=n.getInsPrev()}return n}findFloorNode(t){const n=this.treeByID.floorEntry(t);if(n&&!(!n.key.equals(t)&&!n.key.hasSameCreatedAt(t)))return n.value}findBetween(t,n){const i=[];let r=t;for(;r&&r!==n;)i.push(r),r=r.getNext();return i}splitNode(t,n){const i={data:0,meta:0};if(n>t.getContentLength())throw new T(S.ErrInvalidArgument,"offset should be less than or equal to length");if(n===0)return[t,i];if(n===t.getContentLength())return[t.getNext(),i];const r=t.getDataSize(),a=t.split(n);this.treeByIndex.updateWeight(a),this.insertAfter(t,a);const s=t.getInsNext();return s&&s.setInsPrev(a),a.setInsPrev(t),Ht(i,t.getDataSize(),a.getDataSize()),Ka(i,r),[a,i]}deleteNodes(t,n,i){if(!t.length)return[[],new Map];const r=i===void 0,a=[],s=[],[o,u]=this.findEdgesOfCandidates(t);s.push(o);for(const m of t)m.canRemove(r||i.afterOrEqual(m.getCreatedAt()))?a.push(m):s.push(m);s.push(u);const c=this.makeChanges(s,n),h=new Map;for(const m of a)h.set(m.getID().toIDString(),m),m.remove(n,m.isRemoved()&&(r||i.afterOrEqual(m.getRemovedAt())));return this.deleteIndexNodes(s),[c,h]}findEdgesOfCandidates(t){return[t[0].getPrev(),t[t.length-1].getNext()]}makeChanges(t,n){const i=[];let r,a;for(let s=0;s<t.length-1;s++){const o=t[s],u=t[s+1];o.getNext()!=u&&([r]=this.findIndexesFromRange(o.getNext().createPosRange()),u?[,a]=this.findIndexesFromRange(u.getPrev().createPosRange()):a=this.treeByIndex.length,r<a&&i.push({actor:n.getActorID(),from:r,to:a}))}return i.reverse()}deleteIndexNodes(t){for(let n=0;n<t.length-1;n++){const i=t[n],r=t[n+1];i.getNext()!=r&&this.treeByIndex.deleteRange(i,r)}}purge(t){this.treeByIndex.delete(t),this.treeByID.remove(t.getID());const n=t.getPrev(),i=t.getNext(),r=t.getInsPrev(),a=t.getInsNext();n&&n.setNext(i),i&&i.setPrev(n),t.setPrev(void 0),t.setNext(void 0),r&&r.setInsNext(a),a&&a.setInsPrev(r),t.setInsPrev(void 0),t.setInsNext(void 0)}}const yy=e=>e<0?Math.ceil(e):Math.floor(e);var xn=(e=>(e[e.Int=0]="Int",e[e.Long=1]="Long",e))(xn||{});class oe extends Xo{constructor(n,i,r){super(r);l(this,"valueType");l(this,"value");switch(this.valueType=n,n){case 0:typeof i=="number"?i>Math.pow(2,31)-1||i<-Math.pow(2,31)?this.value=Z.fromNumber(i).toInt():this.value=yy(i):this.value=i.toInt();break;case 1:typeof i=="number"?this.value=Z.fromNumber(i):this.value=i;break;default:throw new T(S.ErrUnimplemented,`unimplemented type: ${n}`)}}static create(n,i,r){return new oe(n,i,r)}static valueFromBytes(n,i){switch(n){case 0:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 1:return Z.fromBytesLE(Array.from(i));default:throw new T(S.ErrUnimplemented,`unimplemented type: ${n}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const n=oe.create(this.valueType,this.value,this.getCreatedAt());return n.setMovedAt(this.getMovedAt()),n}getType(){return this.valueType}static getCounterType(n){switch(typeof n){case"object":return n instanceof Z?1:void 0;case"number":return n>Math.pow(2,31)-1||n<-Math.pow(2,31)?1:0;default:return}}static isSupport(n){return!!oe.getCounterType(n)}static isInteger(n){return n%1===0}isNumericType(){const n=this.valueType;return n===0||n===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const n=this.value;return new Uint8Array([n&255,n>>8&255,n>>16&255,n>>24&255])}case 1:{const i=this.value.toBytesLE();return Uint8Array.from(i)}default:throw new T(S.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(n){function i(r){if(!r.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof r.getValue()}`)}return i(this),i(n),this.valueType===1?this.value=this.value.add(n.getValue()):n.getType()===lt.Long?this.value=this.value+n.getValue().toInt():this.value=Z.fromNumber(this.value+yy(n.getValue())).toInt(),this}}class ys extends $e{constructor(n,i,r){super(n,r);l(this,"value");this.value=i}static create(n,i,r){return new ys(n,i,r)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof oe))throw new T(S.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const r=i,a=this.value.deepcopy();return r.increase(a),{opInfos:[{type:"increase",path:n.createPath(this.getParentCreatedAt()),value:a.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const n=this.value.deepcopy(),r=n.getType()===lt.Long?n.getValue().multiply(-1):n.getValue()*-1;return ys.create(this.getParentCreatedAt(),vt.of(r,n.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class _i extends $e{constructor(n,i,r,a,s,o){super(n,o);l(this,"fromPos");l(this,"toPos");l(this,"attributes");l(this,"attributesToRemove");this.fromPos=i,this.toPos=r,this.attributes=a,this.attributesToRemove=s}static create(n,i,r,a,s){return new _i(n,i,r,a,[],s)}static createTreeRemoveStyleOperation(n,i,r,a,s){return new _i(n,i,r,new Map,a,s)}execute(n,i,r){const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Ae))throw new T(S.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const s=a;let o,u,c={data:0,meta:0};if(this.attributes.size){const h={};[...this.attributes].forEach(([m,g])=>h[m]=g),[u,o,c]=s.style([this.fromPos,this.toPos],h,this.getExecutedAt(),r)}else{const h=this.attributesToRemove;[u,o,c]=s.removeStyle([this.fromPos,this.toPos],h,this.getExecutedAt(),r)}n.acc(c);for(const h of u)n.registerGCPair(h);return{opInfos:o.map(({from:h,to:m,value:g,fromPath:d,toPath:b})=>({type:"tree-style",from:h,to:m,value:this.attributes.size?{attributes:g}:{attributesToRemove:g},fromPath:d,toPath:b,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,r=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${n}.STYLE(${i},${r},${Object.entries(this.attributes||{}).map(([a,s])=>`${a}:"${s}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class _o extends $e{constructor(n,i,r,a){super(n,a);l(this,"createdAt");l(this,"value");this.createdAt=i,this.value=r}static create(n,i,r,a){return new _o(n,i,r,a)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new T(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Zt))throw new T(S.ErrInvalidArgument,"fail to execute, only array can execute set");const r=this.value.deepcopy();return i.insertAfter(this.createdAt,r,this.getExecutedAt()),i.delete(this.createdAt,this.getExecutedAt()),n.registerElement(r),{opInfos:[{type:"array-set",path:n.createPath(this.getParentCreatedAt())}],reverseOp:void 0}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}}function OA(e){const t=new mc,n=t.data;for(const[i,r]of Object.entries(e))n[i]=JSON.stringify(r);return t}function CA(e){if(e.type===Nn.Put)return new No({type:la.PUT,presence:OA(e.presence)});if(e.type===Nn.Clear)return new No({type:la.CLEAR});throw new T(S.ErrUnimplemented,"unimplemented type")}function kA(e){return new Q0({serverSeq:e.getServerSeq(),clientSeq:e.getClientSeq()})}function fS(e){return new dc({clientSeq:e.getClientSeq(),lamport:e.getLamport(),actorId:Sc(e.getActorID()),versionVector:Hd(e.getVersionVector())})}function M(e){if(e)return new z({lamport:e.getLamport(),delimiter:e.getDelimiter(),actorId:Sc(e.getActorID())})}function Hd(e){if(!e)return;const t=new gc;for(const[n,i]of e){const r=hE(Sc(n));t.vector[r]=BigInt(i.toString())}return t}function hS(e){switch(e){case lt.Null:return V.NULL;case lt.Boolean:return V.BOOLEAN;case lt.Integer:return V.INTEGER;case lt.Long:return V.LONG;case lt.Double:return V.DOUBLE;case lt.String:return V.STRING;case lt.Bytes:return V.BYTES;case lt.Date:return V.DATE;default:throw new T(S.ErrInvalidType,`unsupported type: ${e}`)}}function dS(e){switch(e){case xn.Int:return V.INTEGER_CNT;case xn.Long:return V.LONG_CNT;default:throw new T(S.ErrInvalidType,`unsupported type: ${e}`)}}function vl(e){if(e instanceof Xt)return new Oe({type:V.JSON_OBJECT,createdAt:M(e.getCreatedAt()),value:xS(e)});if(e instanceof Zt)return new Oe({type:V.JSON_ARRAY,createdAt:M(e.getCreatedAt()),value:lE(e)});if(e instanceof we)return new Oe({type:V.TEXT,createdAt:M(e.getCreatedAt())});if(e instanceof vt)return new Oe({type:hS(e.getType()),createdAt:M(e.getCreatedAt()),value:e.toBytes()});if(e instanceof oe)return new Oe({type:dS(e.getType()),createdAt:M(e.getCreatedAt()),value:e.toBytes()});if(e instanceof Ae)return new Oe({type:V.TREE,createdAt:M(e.getCreatedAt()),value:cE(e)});throw new T(S.ErrUnimplemented,"unimplemented element")}function RA(e){return new Ao({createdAt:M(e.getCreatedAt()),offset:e.getOffset()})}function Sl(e){return new ua({createdAt:M(e.getID().getCreatedAt()),offset:e.getID().getOffset(),relativeOffset:e.getRelativeOffset()})}function Tl(e){return new oa({parentId:ro(e.getParentID()),leftSiblingId:ro(e.getLeftSiblingID())})}function ro(e){return new Br({createdAt:M(e.getCreatedAt()),offset:e.getOffset()})}function gS(e){const t=new Ld;if(e instanceof ca){const n=e,i=new Au;i.parentCreatedAt=M(n.getParentCreatedAt()),i.key=n.getKey(),i.value=vl(n.getValue()),i.executedAt=M(n.getExecutedAt()),t.body.case="set",t.body.value=i}else if(e instanceof Es){const n=e,i=new Eu;i.parentCreatedAt=M(n.getParentCreatedAt()),i.prevCreatedAt=M(n.getPrevCreatedAt()),i.value=vl(n.getValue()),i.executedAt=M(n.getExecutedAt()),t.body.case="add",t.body.value=i}else if(e instanceof Xi){const n=e,i=new Nu;i.parentCreatedAt=M(n.getParentCreatedAt()),i.prevCreatedAt=M(n.getPrevCreatedAt()),i.createdAt=M(n.getCreatedAt()),i.executedAt=M(n.getExecutedAt()),t.body.case="move",t.body.value=i}else if(e instanceof ir){const n=e,i=new xu;i.parentCreatedAt=M(n.getParentCreatedAt()),i.createdAt=M(n.getCreatedAt()),i.executedAt=M(n.getExecutedAt()),t.body.case="remove",t.body.value=i}else if(e instanceof Zo){const n=e,i=new Du;i.parentCreatedAt=M(n.getParentCreatedAt()),i.from=Sl(n.getFromPos()),i.to=Sl(n.getToPos()),i.content=n.getContent();const r=i.attributes;for(const[a,s]of n.getAttributes())r[a]=s;i.executedAt=M(n.getExecutedAt()),t.body.case="edit",t.body.value=i}else if(e instanceof Fo){const n=e,i=new Ou;i.parentCreatedAt=M(n.getParentCreatedAt()),i.from=Sl(n.getFromPos()),i.to=Sl(n.getToPos());const r=i.attributes;for(const[a,s]of n.getAttributes())r[a]=s;i.executedAt=M(n.getExecutedAt()),t.body.case="style",t.body.value=i}else if(e instanceof ys){const n=e,i=new Cu;i.parentCreatedAt=M(n.getParentCreatedAt()),i.value=vl(n.getValue()),i.executedAt=M(n.getExecutedAt()),t.body.case="increase",t.body.value=i}else if(e instanceof Qo){const n=e,i=new ku;i.parentCreatedAt=M(n.getParentCreatedAt()),i.from=Tl(n.getFromPos()),i.to=Tl(n.getToPos()),i.contents=JA(n.getContents()),i.splitLevel=n.getSplitLevel(),i.executedAt=M(n.getExecutedAt()),t.body.case="treeEdit",t.body.value=i}else if(e instanceof _i){const n=e,i=new Ru;i.parentCreatedAt=M(n.getParentCreatedAt()),i.from=Tl(n.getFromPos()),i.to=Tl(n.getToPos());const r=n.getAttributesToRemove();if(r.length>0)i.attributesToRemove=r;else{const a=i.attributes;for(const[s,o]of n.getAttributes())a[s]=o}i.executedAt=M(n.getExecutedAt()),t.body.case="treeStyle",t.body.value=i}else if(e instanceof _o){const n=e,i=new Bu;i.parentCreatedAt=M(n.getParentCreatedAt()),i.createdAt=M(n.getCreatedAt()),i.value=vl(n.getValue()),i.executedAt=M(n.getExecutedAt()),t.body.case="arraySet",t.body.value=i}else throw new T(S.ErrUnimplemented,"unimplemented operation");return t}function BA(e){const t=[];for(const n of e)t.push(gS(n));return t}function IA(e){const t=new Z0({id:fS(e.getID()),message:e.getMessage()});return e.hasOperations()&&(t.operations=BA(e.getOperations())),e.hasPresenceChange()&&(t.presenceChange=CA(e.getPresenceChange())),t}function zA(e){const t=[];for(const n of e)t.push(IA(n));return t}function MA(e){const t=[];for(const n of e)t.push(new F0({key:n.getStrKey(),element:Gd(n.getValue())}));return t}function UA(e){const t=[];for(const n of e)t.push(new qu({element:Gd(n.getValue())}));return t}function LA(e){const t=[];for(const n of e){const i=new Pu;i.id=RA(n.getID()),i.value=n.getValue().getContent(),i.removedAt=M(n.getRemovedAt());const r=i.attributes,a=n.getValue().getAttrs();for(const s of a){const o=new cs;o.value=s.getValue(),o.updatedAt=M(s.getUpdatedAt()),r[s.getKey()]=o}t.push(i)}return t}function JA(e){const t=[];if(!e||!e.length)return t;for(const n of e)t.push(new Vu({content:jd(n)}));return t}function qA(e){const t={};for(const n of e)t[n.getKey()]=new cs({value:n.getValue(),updatedAt:M(n.getUpdatedAt()),isRemoved:n.isRemoved()});return t}function jd(e){if(!e)return[];const t=[];return yc(e,(n,i)=>{const r=new Eo({id:ro(n.id),type:n.type,removedAt:M(n.removedAt),depth:i});n.isText&&(r.value=n.value),n.insPrevID&&(r.insPrevId=ro(n.insPrevID)),n.insNextID&&(r.insNextId=ro(n.insNextID)),n.attrs&&(r.attributes=qA(n.attrs)),t.push(r)}),t}function PA(e){const t=new ue;return t.body.case="jsonObject",t.body.value=new Iu({nodes:MA(e.getRHT()),createdAt:M(e.getCreatedAt()),movedAt:M(e.getMovedAt()),removedAt:M(e.getRemovedAt())}),t}function mS(e){const t=new ue;return t.body.case="jsonArray",t.body.value=new zu({nodes:UA(e.getElements()),createdAt:M(e.getCreatedAt()),movedAt:M(e.getMovedAt()),removedAt:M(e.getRemovedAt())}),t}function VA(e){const t=new ue;return t.body.case="primitive",t.body.value=new Mu({type:hS(e.getType()),value:e.toBytes(),createdAt:M(e.getCreatedAt()),movedAt:M(e.getMovedAt()),removedAt:M(e.getRemovedAt())}),t}function HA(e){const t=new ue;return t.body.case="text",t.body.value=new Uu({nodes:LA(e.getRGATreeSplit()),createdAt:M(e.getCreatedAt()),movedAt:M(e.getMovedAt()),removedAt:M(e.getRemovedAt())}),t}function jA(e){const t=new ue;return t.body.case="counter",t.body.value=new Lu({type:dS(e.getType()),value:e.toBytes(),createdAt:M(e.getCreatedAt()),movedAt:M(e.getMovedAt()),removedAt:M(e.getRemovedAt())}),t}function yS(e){const t=new ue;return t.body.case="tree",t.body.value=new Ju({nodes:jd(e.getRoot()),createdAt:M(e.getCreatedAt()),movedAt:M(e.getMovedAt()),removedAt:M(e.getRemovedAt())}),t}function Gd(e){if(e instanceof Xt)return PA(e);if(e instanceof Zt)return mS(e);if(e instanceof vt)return VA(e);if(e instanceof we)return HA(e);if(e instanceof oe)return jA(e);if(e instanceof Ae)return yS(e);throw new T(S.ErrUnimplemented,"unimplemented element")}function GA(e){return new sr({documentKey:e.getDocumentKey(),checkpoint:kA(e.getCheckpoint()),isRemoved:e.getIsRemoved(),changes:zA(e.getChanges()),snapshot:e.getSnapshot(),versionVector:Hd(e.getVersionVector())})}function Ps(e){if(!(e instanceof nt))return{};const t=e.findDetails(lA);for(const n of t)return n.metadata;return{}}function cr(e){return Ps(e).code??""}function pS(e){return Fe.of(e.clientSeq,BigInt(e.lamport),Zd(e.actorId),Yd(e.versionVector),BigInt(e.serverSeq))}function Yd(e){if(!e)return;const t=new Xa;return Object.entries(e.vector).forEach(([n,i])=>{const r=vc(fE(n));t.set(r,BigInt(i.toString()))}),t}function U(e){if(e)return je.of(BigInt(e.lamport),e.delimiter,Zd(e.actorId))}function $d(e){const t={};return Object.entries(e.data).forEach(([n,i])=>{t[n]=JSON.parse(i)}),t}function YA(e){const t=e.type;if(t===la.PUT){const n=$d(e.presence);return{type:Nn.Put,presence:n}}if(t===la.CLEAR)return{type:Nn.Clear};throw new T(S.ErrInvalidType,`unsupported type: ${t}`)}function $A(e){const t=new Map;return Object.entries(e).forEach(([n,i])=>{t.set(n,$d(i))}),t}function vS(e){switch(e){case V.NULL:return lt.Null;case V.BOOLEAN:return lt.Boolean;case V.INTEGER:return lt.Integer;case V.LONG:return lt.Long;case V.DOUBLE:return lt.Double;case V.STRING:return lt.String;case V.BYTES:return lt.Bytes;case V.DATE:return lt.Date}throw new T(S.ErrUnimplemented,`unimplemented value type: ${e}`)}function $u(e){switch(e){case V.INTEGER_CNT:return xn.Int;case V.LONG_CNT:return xn.Long}throw new T(S.ErrUnimplemented,`unimplemented value type: ${e}`)}function bl(e){switch(e.type){case V.JSON_OBJECT:return e.value?NS(e.value):Xt.create(U(e.createdAt));case V.JSON_ARRAY:return e.value?oE(e.value):Zt.create(U(e.createdAt));case V.TEXT:return we.create(ms.create(),U(e.createdAt));case V.TREE:return uE(e.value);case V.NULL:case V.BOOLEAN:case V.INTEGER:case V.LONG:case V.DOUBLE:case V.STRING:case V.BYTES:case V.DATE:return vt.of(vt.valueFromBytes(vS(e.type),e.value),U(e.createdAt));case V.INTEGER_CNT:case V.LONG_CNT:return oe.create($u(e.type),oe.valueFromBytes($u(e.type),e.value),U(e.createdAt))}}function wl(e){return en.of(En.of(U(e.createdAt),e.offset),e.relativeOffset)}function SS(e){return En.of(U(e.createdAt),e.offset)}function KA(e){const t=Co.create(e.value);Object.entries(e.attributes).forEach(([i,r])=>{t.setAttr(i,r.value,U(r.updatedAt))});const n=zr.create(SS(e.id),t);return n.setRemovedAt(U(e.removedAt)),n}function Sa(e){return We.of(ao(e.parentId),ao(e.leftSiblingId))}function ao(e){return Gt.of(U(e.createdAt),e.offset)}function XA(e){if(!e.length)return;const t=[];return e.forEach(n=>{const i=Kd(n.content);t.push(i)}),t}function Kd(e){if(e.length===0)return;const t=[];for(const r of e)t.push(FA(r));const n=t[t.length-1],i=new Map;i.set(e[t.length-1].depth,t[t.length-1]);for(let r=t.length-2;r>=0;r--)i.get(e[r].depth-1).prepend(t[r]),i.set(e[r].depth,t[r]);return n.updateDescendantsSize(),Ae.create(n,fs).getRoot()}function ZA(e){const t=rr.create();for(const[n,i]of Object.entries(e))t.setInternal(n,i.value,U(i.updatedAt),i.isRemoved);return t}function FA(e){const t=ao(e.id),n=ye.create(t,e.type),i=Object.entries(e.attributes);return n.isText?n.value=e.value:i.length&&(n.attrs=ZA(e.attributes)),e.insPrevId&&(n.insPrevID=ao(e.insPrevId)),e.insNextId&&(n.insNextID=ao(e.insNextId)),n.removedAt=U(e.removedAt),n}function TS(e){if(e.body.case==="set"){const t=e.body.value;return ca.create(t.key,bl(t.value),U(t.parentCreatedAt),U(t.executedAt))}else if(e.body.case==="add"){const t=e.body.value;return Es.create(U(t.parentCreatedAt),U(t.prevCreatedAt),bl(t.value),U(t.executedAt))}else if(e.body.case==="move"){const t=e.body.value;return Xi.create(U(t.parentCreatedAt),U(t.prevCreatedAt),U(t.createdAt),U(t.executedAt))}else if(e.body.case==="remove"){const t=e.body.value;return ir.create(U(t.parentCreatedAt),U(t.createdAt),U(t.executedAt))}else if(e.body.case==="edit"){const t=e.body.value,n=new Map;return Object.entries(t.attributes).forEach(([i,r])=>{n.set(i,r)}),Zo.create(U(t.parentCreatedAt),wl(t.from),wl(t.to),t.content,n,U(t.executedAt))}else if(e.body.case==="style"){const t=e.body.value,n=new Map;return Object.entries(t.attributes).forEach(([i,r])=>{n.set(i,r)}),Fo.create(U(t.parentCreatedAt),wl(t.from),wl(t.to),n,U(t.executedAt))}else if(e.body.case==="increase"){const t=e.body.value;return ys.create(U(t.parentCreatedAt),bl(t.value),U(t.executedAt))}else if(e.body.case==="treeEdit"){const t=e.body.value;return Qo.create(U(t.parentCreatedAt),Sa(t.from),Sa(t.to),XA(t.contents),t.splitLevel,U(t.executedAt))}else if(e.body.case==="treeStyle"){const t=e.body.value,n=new Map,i=t.attributesToRemove;return(i==null?void 0:i.length)>0?_i.createTreeRemoveStyleOperation(U(t.parentCreatedAt),Sa(t.from),Sa(t.to),i,U(t.executedAt)):(Object.entries(t.attributes).forEach(([r,a])=>{n.set(r,a)}),_i.create(U(t.parentCreatedAt),Sa(t.from),Sa(t.to),n,U(t.executedAt)))}else if(e.body.case==="arraySet"){const t=e.body.value;return _o.create(U(t.parentCreatedAt),U(t.createdAt),bl(t.value),U(t.executedAt))}else throw new T(S.ErrUnimplemented,"unimplemented operation")}function QA(e){const t=[];for(const n of e){const i=TS(n);i&&t.push(i)}return t}function bS(e){const t=[];for(const n of e)t.push(gs.create({id:pS(n.id),operations:QA(n.operations),presenceChange:n.presenceChange?YA(n.presenceChange):void 0,message:n.message}));return t}function _A(e){return Za.of(BigInt(e.serverSeq),e.clientSeq)}function WA(e){return pc.create(e.documentKey,_A(e.checkpoint),e.isRemoved,bS(e.changes),Yd(e.versionVector),e.snapshot)}function wS(e){const t=new xo;for(const i of e.nodes){const r=Xd(i.element);t.set(i.key,r,r.getPositionedAt())}const n=new Xt(U(e.createdAt),t);return n.setMovedAt(U(e.movedAt)),n.setRemovedAt(U(e.removedAt)),n}function AS(e){const t=new Oo;for(const i of e.nodes)t.insert(Xd(i.element));const n=new Zt(U(e.createdAt),t);return n.setMovedAt(U(e.movedAt)),n.setRemovedAt(U(e.removedAt)),n}function tE(e){const t=vt.of(vt.valueFromBytes(vS(e.type),e.value),U(e.createdAt));return t.setMovedAt(U(e.movedAt)),t.setRemovedAt(U(e.removedAt)),t}function eE(e){const t=new ms;let n=t.getHead();for(const r of e.nodes){const a=t.insertAfter(n,KA(r));r.insPrevId&&a.setInsPrev(t.findNode(SS(r.insPrevId))),n=a}const i=new we(t,U(e.createdAt));return i.setMovedAt(U(e.movedAt)),i.setRemovedAt(U(e.removedAt)),i}function nE(e){const t=oe.create($u(e.type),oe.valueFromBytes($u(e.type),e.value),U(e.createdAt));return t.setMovedAt(U(e.movedAt)),t.setRemovedAt(U(e.removedAt)),t}function ES(e){const t=Kd(e.nodes);return Ae.create(t,U(e.createdAt))}function Xd(e){if(e.body.case==="jsonObject")return wS(e.body.value);if(e.body.case==="jsonArray")return AS(e.body.value);if(e.body.case==="primitive")return tE(e.body.value);if(e.body.case==="text")return eE(e.body.value);if(e.body.case==="counter")return nE(e.body.value);if(e.body.case==="tree")return ES(e.body.value);throw new T(S.ErrUnimplemented,"unimplemented element")}function iE(e){return e.map(t=>({path:t.path,type:t.type}))}function rE(e){if(!e)return{root:Xt.create(fs),presences:new Map};const t=oh.fromBinary(e);return{root:Xd(t.root),presences:$A(t.presences)}}function aE(e){const t=Hd(e);return vc(t.toBinary())}function sE(e){const t=Fd(e),n=gc.fromBinary(t);return Yd(n)}function NS(e){if(!e)throw new T(S.ErrInvalidArgument,"bytes is empty");const t=ue.fromBinary(e);return wS(t.body.value)}function xS(e){return Gd(e).toBinary()}function oE(e){if(!e)throw new T(S.ErrInvalidArgument,"bytes is empty");const t=ue.fromBinary(e);return AS(t.body.value)}function lE(e){return mS(e).toBinary()}function uE(e){if(!e)throw new T(S.ErrInvalidArgument,"bytes is empty");const t=ue.fromBinary(e);return ES(t.body.value)}function cE(e){return yS(e).toBinary()}function vc(e){return e?Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join(""):""}function Zd(e){return vc(e)}function Fd(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>parseInt(t,16)))}function fE(e){if(typeof window<"u"&&typeof window.atob=="function"){const t=window.atob(e),n=t.length,i=new Uint8Array(n);for(let r=0;r<n;r++)i[r]=t.charCodeAt(r);return i}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const t=globalThis.Buffer;return new Uint8Array(t.from(e,"base64"))}else throw new Error("No base64 decoder available")}function Sc(e){return Fd(e)}function hE(e){if(typeof window<"u"&&typeof window.btoa=="function"){let t="";for(let n=0;n<e.byteLength;n++)t+=String.fromCharCode(e[n]);return window.btoa(t)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(e).toString("base64");throw new Error("No base64 encoder available")}}function dE(e){const t=dc.fromBinary(e);return pS(t)}function gE(e){const t=Ld.fromBinary(e);return TS(t)}const St={fromPresence:$d,toChangePack:GA,fromChangePack:WA,fromChanges:bS,toTreeNodes:jd,fromTreeNodes:Kd,objectToBytes:xS,bytesToObject:NS,bytesToSnapshot:rE,bytesToHex:vc,hexToBytes:Fd,toHexString:Zd,toUint8Array:Sc,toOperation:gS,toChangeID:fS,PbChangeID:dc,bytesToChangeID:dE,bytesToOperation:gE,versionVectorToHex:aE,hexToVersionVector:sE,fromSchemaRules:iE};var re=(e=>(e[e.Trivial=0]="Trivial",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warn=3]="Warn",e[e.Error=4]="Error",e[e.Fatal=5]="Fatal",e))(re||{});let $r=3;function mE(e){$r=e}const L={trivial:(...e)=>{$r>0||typeof console<"u"&&console.log("YORKIE T:",...e)},debug:(...e)=>{$r>1||typeof console<"u"&&console.log("YORKIE D:",...e)},info:(...e)=>{$r>2||typeof console<"u"&&console.log("YORKIE I:",...e)},warn:(...e)=>{$r>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...e):console.log("YORKIE W:",...e))},error:(...e)=>{$r>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...e):console.log("YORKIE E:",...e))},fatal:(...e)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...e):console.log("YORKIE F:",...e))},isEnabled:e=>$r<=e};function DS(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class yE{constructor(t,n,i,r,a){l(this,"reconnectStreamDelay");l(this,"doc");l(this,"docID");l(this,"syncMode");l(this,"remoteChangeEventReceived");l(this,"cancelled");l(this,"watchStream");l(this,"watchLoopTimerID");l(this,"watchAbortController");l(this,"unsubscribeBroadcastEvent");this.reconnectStreamDelay=t,this.doc=n,this.docID=i,this.syncMode=r,this.remoteChangeEventReceived=!1,this.cancelled=!1,this.unsubscribeBroadcastEvent=a}changeSyncMode(t){this.syncMode=t}needRealtimeSync(){return this.syncMode===Gl.RealtimeSyncOff?!1:this.syncMode===Gl.RealtimePushOnly?this.doc.hasLocalChanges():this.syncMode!==Gl.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(t){const n=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await t(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(n,this.reconnectStreamDelay))})}catch{}};await n()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function pE(e,t){const n=[];for(const i of t){const r=vE(e,i.path),a=SE(r,i);if(!a.valid)for(const s of a.errors||[])n.push(s)}return{valid:n.length===0,errors:n}}function vE(e,t){if(!t.startsWith("$"))throw new Error(`Path must start with $, got ${t}`);const n=t.split(".");let i=e;for(let r=1;r<n.length;r++){const a=n[r];if(!(i instanceof Xt))return;i=i.get(a)}return i}function SE(e,t){switch(t.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return bE(e,t);case"object":if(!(e instanceof Xt))return{valid:!1,errors:[{path:t.path,message:`expected object at path ${t.path}`}]};break;case"array":if(!(e instanceof Zt))return{valid:!1,errors:[{path:t.path,message:`expected array at path ${t.path}`}]};break;case"yorkie.Text":if(!(e instanceof we))return{valid:!1,errors:[{path:t.path,message:`expected yorkie.Text at path ${t.path}`}]};break;case"yorkie.Tree":if(!(e instanceof Ae))return{valid:!1,errors:[{path:t.path,message:`expected yorkie.Tree at path ${t.path}`}]};break;case"yorkie.Counter":if(!(e instanceof oe))return{valid:!1,errors:[{path:t.path,message:`expected yorkie.Counter at path ${t.path}`}]};break;default:throw new Error(`Unknown rule type: ${t.type}`)}return{valid:!0}}function TE(e){switch(e){case"null":return lt.Null;case"boolean":return lt.Boolean;case"integer":return lt.Integer;case"long":return lt.Long;case"double":return lt.Double;case"string":return lt.String;case"bytes":return lt.Bytes;case"date":return lt.Date;default:throw new Error(`Unknown primitive type: ${e}`)}}function bE(e,t){return e instanceof vt&&e.getType()===TE(t.type)?{valid:!0}:{valid:!1,errors:[{path:t.path,message:`expected ${t.type} at path ${t.path}`}]}}const lf=()=>{};class wE{constructor(t){l(this,"finalized",!1);l(this,"observers",[]);l(this,"finalError");try{t(this)}catch(n){this.error(n)}}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(!t)throw new T(S.ErrInvalidArgument,"missing observer");if(this.finalized)throw new T(S.ErrRefused,"observable is finalized due to previous error");typeof t=="object"?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=lf),r.error===void 0&&(r.error=lf),r.complete===void 0&&(r.complete=lf);const a=DS(),s=this.unsubscribeOne.bind(this,a);if(this.observers.push({subscriptionID:a,observer:r}),this.finalized)try{this.finalError?r.error(this.finalError):r.complete()}catch(o){L.warn(o)}return s}unsubscribeOne(t){var n;this.observers=(n=this.observers)==null?void 0:n.filter(i=>i.subscriptionID!==t)}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t].observer)}catch(i){L.error(i)}}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.observers=void 0)}}function AE(e){const t=new wE(e);return{subscribe:t.subscribe.bind(t),getProxy:()=>t}}class Ja{constructor(t,n,i,r){l(this,"prevID");l(this,"nextID");l(this,"delimiter");l(this,"message");l(this,"root");l(this,"operations");l(this,"presenceChange");l(this,"previousPresence");l(this,"reversePresenceKeys");this.prevID=t,this.nextID=t.next(),this.delimiter=_0,this.root=n,this.operations=[],this.previousPresence=Ze(i),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=r}static create(t,n,i,r){return new Ja(t,n,i,r)}push(t){this.operations.push(t)}registerElement(t,n){this.root.registerElement(t,n)}registerRemovedElement(t){this.root.registerRemovedElement(t)}registerGCPair(t){this.root.registerGCPair(t)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const t=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return gs.create({id:t,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(t){this.presenceChange=t}setReversePresence(t,n){for(const i of Object.keys(t))n!=null&&n.addToHistory?this.reversePresenceKeys.add(i):this.reversePresenceKeys.delete(i)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const t={};for(const n of this.reversePresenceKeys)t[n]=this.previousPresence[n];return t}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(t){this.root.acc(t)}}class ko{constructor(t){l(this,"rootObject");l(this,"elementPairMapByCreatedAt");l(this,"gcElementSetByCreatedAt");l(this,"gcPairMap");l(this,"docSize");this.rootObject=t,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(t,void 0),t.getDescendants(n=>{if(n.getRemovedAt()&&this.registerRemovedElement(n),n instanceof we||n instanceof Ae)for(const i of n.getGCPairs())this.registerGCPair(i);return!1})}static create(){return new ko(Xt.create(fs))}findByCreatedAt(t){const n=this.elementPairMapByCreatedAt.get(t.toIDString());if(n)return n.element}findElementPairByCreatedAt(t){return this.elementPairMapByCreatedAt.get(t.toIDString())}createSubPaths(t){let n=this.elementPairMapByCreatedAt.get(t.toIDString());if(!n)return[];const i=[];for(;n.parent;){const r=n.element.getCreatedAt(),a=n.parent.subPathOf(r);if(a===void 0)throw new T(S.ErrInvalidArgument,`cant find the given element: ${r.toIDString()}`);i.unshift(a),n=this.elementPairMapByCreatedAt.get(n.parent.getCreatedAt().toIDString())}return i.unshift("$"),i}createPath(t){return this.createSubPaths(t).join(".")}registerElement(t,n){this.elementPairMapByCreatedAt.set(t.getCreatedAt().toIDString(),{parent:n,element:t}),Ht(this.docSize.live,t.getDataSize()),t instanceof Ir&&t.getDescendants((i,r)=>(this.elementPairMapByCreatedAt.set(i.getCreatedAt().toIDString(),{parent:r,element:i}),Ht(this.docSize.live,i.getDataSize()),!1))}deregisterElement(t){let n=0;const i=r=>{const a=r.getCreatedAt().toIDString();Ka(this.docSize.gc,r.getDataSize()),this.elementPairMapByCreatedAt.delete(a),this.gcElementSetByCreatedAt.delete(a),n++};return i(t),t instanceof Ir&&t.getDescendants(r=>(i(r),!1)),n}registerRemovedElement(t){Ht(this.docSize.gc,t.getDataSize()),Ka(this.docSize.live,t.getDataSize()),this.docSize.live.meta+=wn,this.gcElementSetByCreatedAt.add(t.getCreatedAt().toIDString())}registerGCPair(t){if(this.gcPairMap.get(t.child.toIDString())){this.gcPairMap.delete(t.child.toIDString());return}this.gcPairMap.set(t.child.toIDString(),t);const i=this.gcPairMap.get(t.child.toIDString()).child.getDataSize();Ht(this.docSize.gc,i),Ka(this.docSize.live,i),t.child instanceof Ar||(this.docSize.live.meta+=wn)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const t=new Set;for(const n of this.gcElementSetByCreatedAt){t.add(n);const i=this.elementPairMapByCreatedAt.get(n);i.element instanceof Ir&&i.element.getDescendants(r=>(t.add(r.getCreatedAt().toIDString()),!1))}return t.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new ko(this.rootObject.deepcopy())}garbageCollect(t){let n=0;for(const i of this.gcElementSetByCreatedAt){const r=this.elementPairMapByCreatedAt.get(i),a=r.element.getRemovedAt();a&&(t!=null&&t.afterOrEqual(a))&&(r.parent.purge(r.element),n+=this.deregisterElement(r.element))}for(const[,i]of this.gcPairMap){const r=i.child.getRemovedAt();r&&(t!=null&&t.afterOrEqual(r))&&(i.parent.purge(i.child),this.gcPairMap.delete(i.child.toIDString()),n+=1)}return n}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(t){Ht(this.docSize.live,t)}}function OS(e,t){const n=new Ro(e);return new Proxy(t,n.getHandlers())}class Ro{constructor(t){l(this,"context");l(this,"handlers");this.context=t,this.handlers={set:(n,i,r)=>(L.isEnabled(re.Trivial)&&L.trivial(`obj[${i}]=${JSON.stringify(r)}`),Ro.setInternal(t,n,i,r),!0),get:(n,i)=>(L.isEnabled(re.Trivial)&&L.trivial(`obj[${i}]`),i==="getID"?()=>n.getCreatedAt():i==="toJSON"||i==="toString"?()=>n.toJSON():i==="toJS"?()=>n.toJS():i==="toJSForTest"?()=>n.toJSForTest():Kr(t,n.get(i))),ownKeys:n=>n.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(n,i)=>(L.isEnabled(re.Trivial)&&L.trivial(`obj[${i}]`),Ro.deleteInternal(t,n,i),!0)}}static setInternal(t,n,i,r){if(i.includes("."))throw new T(S.ErrInvalidObjectKey,"key must not contain the '.'.");const a=t.issueTimeTicket(),s=so(t,r,a),o=n.set(i,s,a);t.registerElement(s,n),o&&t.registerRemovedElement(o),t.push(ca.create(i,s.deepcopy(),n.getCreatedAt(),a))}static buildObjectMembers(t,n){const i={};for(const[r,a]of Object.entries(n)){if(r.includes("."))throw new T(S.ErrInvalidObjectKey,"key must not contain the '.'.");const s=t.issueTimeTicket(),o=so(t,a,s);i[r]=o}return i}static deleteInternal(t,n,i){const r=t.issueTimeTicket(),a=n.deleteByKey(i,r);a&&(t.push(ir.create(n.getCreatedAt(),a.getCreatedAt(),r)),t.registerRemovedElement(a))}getHandlers(){return this.handlers}}function EE(e,t){const n=new et(e,t);return new Proxy(t,n.getHandlers())}function py(e){return typeof e=="string"||e instanceof String?!isNaN(e):!1}function NE(e){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(e)}class et{constructor(t,n){l(this,"context");l(this,"handlers");l(this,"array");this.context=t,this.array=n,this.handlers={get:(i,r,a)=>r==="getID"?()=>i.getCreatedAt():r==="getElementByID"?s=>{const o=i.getByID(s);if(!(!o||o.isRemoved()))return Xe(t,o)}:r==="getElementByIndex"?s=>{const o=i.get(s);return Xe(t,o)}:r==="getLast"?()=>Xe(t,i.getLast()):r==="delete"?s=>{const o=et.deleteInternalByIndex(t,i,s);return Xe(t,o)}:r==="deleteByID"?s=>{const o=et.deleteInternalByID(t,i,s);return Xe(t,o)}:r==="insertAfter"?(s,o)=>{const u=et.insertAfterInternal(t,i,s,o);return Xe(t,u)}:r==="insertIntegerAfter"?(s,o)=>{const u=et.insertIntegerAfterInternal(t,i,s,o);return Xe(t,u)}:r==="insertBefore"?(s,o)=>{const u=et.insertBeforeInternal(t,i,s,o);return Xe(t,u)}:r==="setValue"?(s,o)=>{const u=et.setValueInternal(t,i,s,o);return Xe(t,u)}:r==="moveBefore"?(s,o)=>{et.moveBeforeInternal(t,i,s,o)}:r==="moveAfter"?(s,o)=>{et.moveAfterInternal(t,i,s,o)}:r==="moveAfterByIndex"?(s,o)=>{et.moveAfterByIndexInternal(t,i,s,o)}:r==="moveFront"?s=>{et.moveFrontInternal(t,i,s)}:r==="moveLast"?s=>{et.moveLastInternal(t,i,s)}:py(r)?Kr(t,i.get(Number(r))):r==="push"?s=>et.pushInternal(t,i,s):r==="splice"?(s,o,...u)=>et.splice(t,i,s,o,...u):r==="length"?i.length:typeof r=="symbol"&&r===Symbol.iterator?et.iteratorInternal.bind(this,t,i):r==="includes"?(s,o)=>et.includes(t,i,s,o):r==="indexOf"?(s,o)=>et.indexOf(t,i,s,o):r==="lastIndexOf"?(s,o)=>et.lastIndexOf(t,i,s,o):r==="toJSForTest"?()=>i.toJSForTest():r==="toTestString"?()=>et.toTestString(i):typeof r=="string"&&NE(r)?(...s)=>{const o=Array.from(i).map(u=>Kr(t,u));return Array.prototype[r].apply(o,s)}:Reflect.get(i,r,a),set:(i,r,a)=>{if(py(r)){const s=Number(r);return et.setValueInternal(t,i,s,a),!0}return Reflect.set(i,r,a)},deleteProperty:(i,r)=>(L.isEnabled(re.Trivial)&&L.trivial(`array[${r}]`),et.deleteInternalByIndex(t,i,Number.parseInt(r)),!0)}}static*iteratorInternal(t,n){for(const i of n)yield Xe(t,i)}static buildArrayElements(t,n){const i=[];for(const r of n){const a=t.issueTimeTicket(),s=so(t,r,a);i.push(s)}return i}static pushInternal(t,n,i){return et.insertAfterInternal(t,n,n.getLastCreatedAt(),i),n.length}static moveBeforeInternal(t,n,i,r){const a=t.issueTimeTicket(),s=n.getPrevCreatedAt(i);n.moveAfter(s,r,a),t.push(Xi.create(n.getCreatedAt(),s,r,a))}static moveAfterInternal(t,n,i,r){const a=t.issueTimeTicket();t.push(Xi.create(n.getCreatedAt(),i,r,a)),n.moveAfter(i,r,a)}static moveAfterByIndexInternal(t,n,i,r){const a=n.get(i);if(!a)throw new T(S.ErrInvalidArgument,`index out of bounds: ${i}`);const s=n.get(r);if(!s)throw new T(S.ErrInvalidArgument,`index out of bounds: ${r}`);et.moveAfterInternal(t,n,a.getCreatedAt(),s.getCreatedAt())}static moveFrontInternal(t,n,i){const r=t.issueTimeTicket(),a=n.getHead();n.moveAfter(a.getCreatedAt(),i,r),t.push(Xi.create(n.getCreatedAt(),a.getCreatedAt(),i,r))}static moveLastInternal(t,n,i){const r=t.issueTimeTicket(),a=n.getLastCreatedAt();n.moveAfter(a,i,r),t.push(Xi.create(n.getCreatedAt(),a,i,r))}static insertAfterInternal(t,n,i,r){const a=t.issueTimeTicket(),s=so(t,r,a);return n.insertAfter(i,s),t.registerElement(s,n),t.push(Es.create(n.getCreatedAt(),i,s.deepcopy(),a)),s}static insertIntegerAfterInternal(t,n,i,r){const a=n.get(i);if(!a)throw new T(S.ErrInvalidArgument,`index out of bounds: ${i}`);return et.insertAfterInternal(t,n,a.getCreatedAt(),r),n}static insertBeforeInternal(t,n,i,r){return et.insertAfterInternal(t,n,n.getPrevCreatedAt(i),r)}static setValueInternal(t,n,i,r){const a=n.get(i);if(!a)throw new T(S.ErrInvalidArgument,`index out of bounds: ${i}`);return et.setByIndexInternal(t,n,a.getCreatedAt(),r),n}static setByIndexInternal(t,n,i,r){const a=t.issueTimeTicket(),s=so(t,r,a),o=s.deepcopy();return t.push(_o.create(n.getCreatedAt(),i,o,a)),n.set(i,s,a),t.registerElement(s,n),s}static deleteInternalByIndex(t,n,i){const r=t.issueTimeTicket(),a=n.deleteByIndex(i,r);if(a)return t.push(ir.create(n.getCreatedAt(),a.getCreatedAt(),r)),t.registerRemovedElement(a),a}static deleteInternalByID(t,n,i){const r=t.issueTimeTicket(),a=n.delete(i,r);return t.push(ir.create(n.getCreatedAt(),a.getCreatedAt(),r)),t.registerRemovedElement(a),a}static splice(t,n,i,r,...a){const s=n.length,o=i>=0?Math.min(i,s):Math.max(s+i,0),u=r===void 0?s:r<0?o:Math.min(o+r,s),c=[];for(let h=o;h<u;h++){const m=et.deleteInternalByIndex(t,n,o);if(m){const g=m.deepcopy();g.setRemovedAt(),c.push(Kr(t,g))}}if(a){let h=o===0?n.getHead().getID():n.get(o-1).getID();for(const m of a)h=et.insertAfterInternal(t,n,h,m).getID()}return c}static includes(t,n,i,r){var o;const a=n.length,s=r===void 0?0:r<0?Math.max(r+a,0):r;if(s>=a)return!1;if(vt.isSupport(i))return Array.from(n).map(c=>Kr(t,c)).includes(i,s);for(let u=s;u<a;u++)if(((o=n.get(u))==null?void 0:o.getID())===i.getID())return!0;return!1}static indexOf(t,n,i,r){var o;const a=n.length,s=r===void 0?0:r<0?Math.max(r+a,0):r;if(s>=a)return-1;if(vt.isSupport(i))return Array.from(n).map(c=>Kr(t,c)).indexOf(i,s);for(let u=s;u<a;u++)if(((o=n.get(u))==null?void 0:o.getID())===i.getID())return u;return-1}static lastIndexOf(t,n,i,r){var o;const a=n.length,s=r===void 0||r>=a?a-1:r<0?r+a:r;if(s<0)return-1;if(vt.isSupport(i))return Array.from(n).map(c=>Kr(t,c)).lastIndexOf(i,s);for(let u=s;u>0;u--)if(((o=n.get(u))==null?void 0:o.getID())===i.getID())return u;return-1}static toTestString(t){return t.toTestString()}getHandlers(){return this.handlers}}class Qd{constructor(t,n){l(this,"context");l(this,"text");this.context=t,this.text=n}initialize(t,n){this.context=t,this.text=n}getID(){return this.text.getID()}edit(t,n,i,r){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");if(t>n)throw new T(S.ErrInvalidArgument,"from should be less than or equal to to");const a=this.text.indexRangeToPosRange(t,n);L.isEnabled(re.Debug)&&L.debug(`EDIT: f:${t}->${a[0].toTestString()}, t:${n}->${a[1].toTestString()} c:${i}`);const s=r?ds(r):void 0,o=this.context.issueTimeTicket(),[,u,c,h]=this.text.edit(a,i,o,s);this.context.acc(c);for(const m of u)this.context.registerGCPair(m);return this.context.push(new Zo(this.text.getCreatedAt(),a[0],a[1],i,s?new Map(Object.entries(s)):new Map,o)),this.text.findIndexesFromRange(h)}delete(t,n){return this.edit(t,n,"")}empty(){return this.edit(0,this.length,"")}setStyle(t,n,i){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");if(t>n)throw new T(S.ErrInvalidArgument,"from should be less than or equal to to");const r=this.text.indexRangeToPosRange(t,n);L.isEnabled(re.Debug)&&L.debug(`STYL: f:${t}->${r[0].toTestString()}, t:${n}->${r[1].toTestString()} a:${JSON.stringify(i)}`);const a=ds(i),s=this.context.issueTimeTicket(),[o,u]=this.text.setStyle(r,a,s);this.context.acc(u);for(const c of o)this.context.registerGCPair(c);return this.context.push(new Fo(this.text.getCreatedAt(),r[0],r[1],new Map(Object.entries(a)),s)),!0}indexRangeToPosRange(t){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");const n=this.text.indexRangeToPosRange(t[0],t[1]);return[n[0].toStruct(),n[1].toStruct()]}posRangeToIndexRange(t){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");const n=this.text.findIndexesFromRange([en.fromStruct(t[0]),en.fromStruct(t[1])]);return[n[0],n[1]]}toTestString(){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(t,n){if(!this.context||!this.text)throw new T(S.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(t,n)}}class _d{constructor(t,n){l(this,"valueType");l(this,"value");l(this,"context");l(this,"counter");this.valueType=t,this.value=n}initialize(t,n){this.valueType=n.getValueType(),this.context=t,this.counter=n,this.value=n.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(t){if(!this.context||!this.counter)throw new T(S.ErrNotInitialized,"Counter is not initialized yet");const n=this.context.issueTimeTicket(),i=vt.of(t,n);if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`);return this.counter.increase(i),this.context.push(ys.create(this.counter.getCreatedAt(),i,n)),this}toJSForTest(){if(!this.context||!this.counter)throw new T(S.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function Wd(e){if(e.isText)return{type:e.type,value:e.value};const t={type:e.type,children:e.children.map(n=>Wd(n))};return e.attrs&&(t.attributes=Qi(e.attrs.toObject())),t}function xE(e,t){const n={type:e.isText?e.parent.type:e.type,children:e.isText?e.parent.getChildrenText().length===t?[]:[{type:An,value:e.parent.getChildrenText().slice(t)}]:e.children.slice(t).map(i=>Wd(i))};return e.attrs?n.attributes=Qi(e.attrs.toObject()):e.isText&&e.parent.attrs&&(n.attributes=Qi(e.parent.attrs.toObject())),n}function DE(e,t){const{node:n}=e,i=[...t].slice(0,-1),r=n.isText?n.parent.getChildrenText().length:n.children.length,a=[...i,r],s=[...i],o=[];s[s.length-1]+=1,t.every((c,h)=>c===a[h])||o.push({fromPath:[...t],toPath:a});const u=xE(n,t[t.length-1]);return u&&o.push({fromPath:s,toPath:s,content:u}),o}function OE(e,t){const{node:n,offset:i}=e,r=n.children[i],a=n.children[i-1],{children:s}=r,o=[...t].slice(0,-1),u=[{fromPath:[...t],toPath:[...o,i+1]}];if(!r.children.length)return u;const c=[...o,i-1,a.hasTextChild()?a.getChildrenText().length:a.children.length],h=s.map(m=>Wd(m));return u.push({fromPath:c,toPath:c,content:h}),u}function tg(e,t,n){const{type:i}=e,r=n.issueTimeTicket();if(i===An){CS(e);const{value:a}=e,s=ye.create(Gt.of(r,0),i,a);t.append(s)}else{const{children:a=[]}=e,{attributes:s}=e;let o;if(typeof s=="object"&&!rS(s)){const c=ds(s);o=new rr;for(const[h,m]of Object.entries(c))o.set(h,m,r)}const u=ye.create(Gt.of(r,0),i,void 0,o);t.append(u);for(const c of a)tg(c,u,n)}}function CE(e,t){const{type:n}=t,i=e.issueTimeTicket();let r;if(t.type===An){const{value:a}=t;r=ye.create(Gt.of(i,0),n,a)}else if(t){const{children:a=[]}=t,{attributes:s}=t;let o;if(typeof s=="object"&&!rS(s)){const u=ds(s);o=new rr;for(const[c,h]of Object.entries(u))o.set(c,h,i)}r=ye.create(Gt.of(e.issueTimeTicket(),0),n,void 0,o);for(const u of a)tg(u,r,e)}return r}function CS(e){if(!e.value.length)throw new T(S.ErrInvalidArgument,"text node cannot have empty value");return!0}function vy(e){if(!e.length)return!0;if(e[0].type===An)for(const n of e){const{type:i}=n;if(i!==An)throw new T(S.ErrInvalidArgument,"element node and text node cannot be passed together");CS(n)}else for(const n of e){const{type:i}=n;if(i===An)throw new T(S.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class eg{constructor(t){l(this,"initialRoot");l(this,"context");l(this,"tree");this.initialRoot=t}initialize(t,n){this.context=t,this.tree=n}getID(){return this.tree.getID()}buildRoot(t){if(!this.initialRoot)return ye.create(Gt.of(t.issueTimeTicket(),0),pA);const n=ye.create(Gt.of(t.issueTimeTicket(),0),this.initialRoot.type);for(const i of this.initialRoot.children)tg(i,n,t);return n}getSize(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(!t.length)throw new T(S.ErrInvalidArgument,"path should not be empty");const n=this.tree.pathToTreePos(t),i=DE(n,t);for(const r of i){const{fromPath:a,toPath:s,content:o}=r,u=this.tree.pathToPos(a),c=this.tree.pathToPos(s);this.editInternal(u,c,o?[o]:[],0)}}mergeByPath(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(!t.length)throw new T(S.ErrInvalidArgument,"path should not be empty");const n=this.tree.pathToTreePos(t);if(n.node.isText)throw new T(S.ErrInvalidArgument,"text node cannot be merged");const i=OE(n,t);for(const r of i){const{fromPath:a,toPath:s,content:o}=r,u=this.tree.pathToPos(a),c=this.tree.pathToPos(s);this.editInternal(u,c,o??[],0)}}styleByPath(t,n){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(!t.length)throw new T(S.ErrInvalidArgument,"path should not be empty");const[i,r]=this.tree.pathToPosRange(t),a=this.context.issueTimeTicket(),s=n?ds(n):void 0,[o,,u]=this.tree.style([i,r],s,a);this.context.acc(u);for(const c of o)this.context.registerGCPair(c);this.context.push(_i.create(this.tree.getCreatedAt(),i,r,s?new Map(Object.entries(s)):new Map,a))}style(t,n,i){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new T(S.ErrInvalidArgument,"from should be less than or equal to to");const r=this.tree.findPos(t),a=this.tree.findPos(n),s=this.context.issueTimeTicket(),o=i?ds(i):void 0,[u,,c]=this.tree.style([r,a],o,s);this.context.acc(c);for(const h of u)this.context.registerGCPair(h);this.context.push(_i.create(this.tree.getCreatedAt(),r,a,o?new Map(Object.entries(o)):new Map,s))}removeStyle(t,n,i){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new T(S.ErrInvalidArgument,"from should be less than or equal to to");const r=this.tree.findPos(t),a=this.tree.findPos(n),s=this.context.issueTimeTicket(),[o,,u]=this.tree.removeStyle([r,a],i,s);this.context.acc(u);for(const c of o)this.context.registerGCPair(c);this.context.push(_i.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),r,a,i,s))}editInternal(t,n,i,r=0){var c;if(i.length!==0&&i[0]&&(vy(i),i[0].type!==An))for(const h of i){const{children:m=[]}=h;vy(m)}const a=this.context.getLastTimeTicket();let s=new Array;if(((c=i[0])==null?void 0:c.type)===An){let h="";for(const m of i){const{value:g}=m;h+=g}s.push(ye.create(Gt.of(this.context.issueTimeTicket(),0),An,h))}else s=i.map(h=>h&&CE(this.context,h)).filter(h=>h);const[,o,u]=this.tree.edit([t,n],s.length?s.map(h=>h==null?void 0:h.deepcopy()):void 0,r,a,()=>this.context.issueTimeTicket());this.context.acc(u);for(const h of o)this.context.registerGCPair(h);return this.context.push(Qo.create(this.tree.getCreatedAt(),t,n,s.length?s:void 0,r,a)),!0}editByPath(t,n,i,r=0){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(t.length!==n.length)throw new T(S.ErrInvalidArgument,"path length should be equal");if(!t.length||!n.length)throw new T(S.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToPos(t),s=this.tree.pathToPos(n);return this.editInternal(a,s,i?[i]:[],r)}editBulkByPath(t,n,i,r=0){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(t.length!==n.length)throw new T(S.ErrInvalidArgument,"path length should be equal");if(!t.length||!n.length)throw new T(S.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToPos(t),s=this.tree.pathToPos(n);return this.editInternal(a,s,i,r)}edit(t,n,i,r=0){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new T(S.ErrInvalidArgument,"from should be less than or equal to to");const a=this.tree.findPos(t),s=this.tree.findPos(n);return this.editInternal(a,s,i?[i]:[],r)}editBulk(t,n,i,r=0){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new T(S.ErrInvalidArgument,"from should be less than or equal to to");const a=this.tree.findPos(t),s=this.tree.findPos(n);return this.editInternal(a,s,i,r)}toXML(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(t)}pathToIndex(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(t)}pathRangeToPosRange(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");const n=[this.tree.pathToIndex(t[0]),this.tree.pathToIndex(t[1])],i=this.tree.indexRangeToPosRange(n);return[i[0].toStruct(),i[1].toStruct()]}indexRangeToPosRange(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(t)}posRangeToIndexRange(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");const n=[We.fromStruct(t[0]),We.fromStruct(t[1])];return this.tree.posRangeToIndexRange(n)}posRangeToPathRange(t){if(!this.context||!this.tree)throw new T(S.ErrNotInitialized,"Tree is not initialized yet");const n=[We.fromStruct(t[0]),We.fromStruct(t[1])];return this.tree.posRangeToPathRange(n)}}function Sy(e,t){return OS(e,t)}function Xe(e,t){if(t){if(t instanceof vt)return t;if(t instanceof Xt)return OS(e,t);if(t instanceof Zt)return EE(e,t);if(t instanceof we)return new Qd(e,t);if(t instanceof oe){const n=new _d(xn.Int,0);return n.initialize(e,t),n}else if(t instanceof Ae){const n=new eg;return n.initialize(e,t),n}}else return;throw new TypeError(`Unsupported type of element: ${typeof t}`)}function Kr(e,t){const n=Xe(e,t);return n instanceof vt?n.getValue():n}function so(e,t,n){let i;if(vt.isSupport(t))i=vt.of(t,n);else if(Array.isArray(t))i=Zt.create(n,et.buildArrayElements(e,t));else if(typeof t=="object")t instanceof Qd?(i=we.create(ms.create(),n),t.initialize(e,i)):t instanceof _d?(i=oe.create(t.getValueType(),t.getValue(),n),t.initialize(e,i)):t instanceof eg?(i=Ae.create(t.buildRoot(e),n),t.initialize(e,i)):i=Xt.create(n,Ro.buildObjectMembers(e,t));else throw new TypeError(`Unsupported type of value: ${typeof t}`);return i}class uf{constructor(t,n){l(this,"context");l(this,"presence");this.context=t,this.presence=n}set(t,n){for(const i of Object.keys(t))this.presence[i]=t[i];this.context.setPresenceChange({type:Nn.Put,presence:Ze(this.presence)}),this.context.setReversePresence(t,n)}get(t){return this.presence[t]}clear(){this.presence={},this.context.setPresenceChange({type:Nn.Clear})}}const Ty=50;class kE{constructor(){l(this,"undoStack",[]);l(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(t){this.undoStack.length>=Ty&&this.undoStack.shift(),this.undoStack.push(t)}popUndo(){return this.undoStack.pop()}pushRedo(t){this.redoStack.length>=Ty&&this.redoStack.shift(),this.redoStack.push(t)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const RE="yorkie-devtools-panel",BE="yorkie-devtools-sdk";function IE(e){return[qt.StatusChanged,qt.Snapshot,qt.LocalChange,qt.RemoteChange,qt.Initialized,qt.Watched,qt.Unwatched,qt.PresenceChanged].includes(e.type)}function zE(e){return e.every(IE)}let Ea="disconnected";const by=new Map,jl=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=jl);function Al(e,t){(t!=null&&t.force||Ea!=="disconnected")&&window.postMessage({source:BE,...e},"*")}function ME(e){if(!e.isEnableDevtools()||typeof window>"u"||by.has(e.getKey()))return;jl.set(e.getKey(),[]);const t=e.subscribe("all",n=>{zE(n)&&(jl.get(e.getKey()).push(n),Ea==="synced"&&Al({msg:"doc::sync::partial",docKey:e.getKey(),event:n}))});by.set(e.getKey(),[t]),Al({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",n=>{var r;if(((r=n.data)==null?void 0:r.source)!==RE)return;switch(n.data.msg){case"devtools::connect":if(Ea!=="disconnected")break;Ea="connected",Al({msg:"doc::available",docKey:e.getKey()}),L.info(`[YD] Devtools connected. Doc: ${e.getKey()}`);break;case"devtools::disconnect":Ea="disconnected",L.info(`[YD] Devtools disconnected. Doc: ${e.getKey()}`);break;case"devtools::subscribe":Ea="synced",Al({msg:"doc::sync::full",docKey:e.getKey(),events:jl.get(e.getKey())}),L.info(`[YD] Devtools subscribed. Doc: ${e.getKey()}`);break}})}var hr=(e=>(e.Detached="detached",e.Attached="attached",e.Removed="removed",e))(hr||{}),qt=(e=>(e.StatusChanged="status-changed",e.ConnectionChanged="connection-changed",e.SyncStatusChanged="sync-status-changed",e.Snapshot="snapshot",e.LocalChange="local-change",e.RemoteChange="remote-change",e.Initialized="initialized",e.Watched="watched",e.Unwatched="unwatched",e.PresenceChanged="presence-changed",e.Broadcast="broadcast",e.LocalBroadcast="local-broadcast",e.AuthError="auth-error",e))(qt||{}),Ku=(e=>(e.Connected="connected",e.Disconnected="disconnected",e))(Ku||{}),Mh=(e=>(e.Synced="synced",e.SyncFailed="sync-failed",e))(Mh||{});class kS{constructor(t,n){l(this,"key");l(this,"status");l(this,"opts");l(this,"changeID");l(this,"checkpoint");l(this,"localChanges");l(this,"maxSizeLimit");l(this,"schemaRules");l(this,"root");l(this,"clone");l(this,"eventStream");l(this,"eventStreamObserver");l(this,"onlineClients");l(this,"presences");l(this,"history");l(this,"internalHistory");l(this,"isUpdating");this.opts=n||{},this.key=t,this.status="detached",this.root=ko.create(),this.changeID=NA,this.checkpoint=xA,this.localChanges=[],this.maxSizeLimit=0,this.schemaRules=[],this.eventStream=AE(i=>{this.eventStreamObserver=i}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new kE,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},ME(this)}update(t,n){var o,u,c;if(this.getStatus()==="removed")throw new T(S.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const i=this.changeID.getActorID(),r=Ja.create(this.changeID,this.clone.root,this.clone.presences.get(i)||{},n);try{const h=Sy(r,this.clone.root.getObject());this.presences.has(i)||this.clone.presences.set(i,{}),this.isUpdating=!0,t(h,new uf(r,this.clone.presences.get(i)))}catch(h){throw this.clone=void 0,h}finally{this.isUpdating=!1}const a=this.getSchemaRules();if(!r.isPresenceOnlyChange()&&a.length>0){const h=pE((o=this.clone)==null?void 0:o.root.getObject(),a);if(!h.valid)throw this.clone=void 0,new T(S.ErrDocumentSchemaValidationFailed,`schema validation failed: ${(u=h.errors)==null?void 0:u.map(m=>m.message).join(", ")}`)}const s=mA((c=this.clone)==null?void 0:c.root.getDocSize());if(!r.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<s)throw this.clone=void 0,new T(S.ErrDocumentSizeExceedsLimit,`document size exceeded: ${s} > ${this.maxSizeLimit}`);if(r.hasChange()){L.isEnabled(re.Trivial)&&L.trivial(`trying to update a local change: ${this.toJSON()}`);const h=r.toChange(),{opInfos:m,reverseOps:g}=h.execute(this.root,this.presences,ot.Local),d=r.getReversePresence();d&&g.push({type:"presence",value:d}),this.localChanges.push(h),g.length>0&&this.internalHistory.pushUndo(g),m.length>0&&this.internalHistory.clearRedo(),this.changeID=r.getNextID();const b=[];m.length>0&&b.push({type:"local-change",source:ot.Local,value:{message:h.getMessage()||"",operations:m,actor:i,clientSeq:h.getID().getClientSeq(),serverSeq:h.getID().getServerSeq()},rawChange:this.isEnableDevtools()?h.toStruct():void 0}),h.hasPresenceChange()&&b.push({type:"presence-changed",source:ot.Local,value:{clientID:i,presence:this.getPresence(i)}}),this.publish(b),L.isEnabled(re.Trivial)&&L.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(t,n,i,r){if(typeof t=="string"){if(typeof n!="function")throw new T(S.ErrInvalidArgument,"Second argument must be a callback function");if(t==="presence"){const o=n;return this.eventStream.subscribe(u=>{for(const c of u)c.type!=="initialized"&&c.type!=="watched"&&c.type!=="unwatched"&&c.type!=="presence-changed"||o(c)},i,r)}if(t==="my-presence"){const o=n;return this.eventStream.subscribe(u=>{for(const c of u)c.type!=="initialized"&&c.type!=="presence-changed"||c.type==="presence-changed"&&c.value.clientID!==this.changeID.getActorID()||o(c)},i,r)}if(t==="others"){const o=n;return this.eventStream.subscribe(u=>{for(const c of u)c.type!=="watched"&&c.type!=="unwatched"&&c.type!=="presence-changed"||c.value.clientID!==this.changeID.getActorID()&&o(c)},i,r)}if(t==="connection"){const o=n;return this.eventStream.subscribe(u=>{for(const c of u)c.type==="connection-changed"&&o(c)},i,r)}if(t==="status"){const o=n;return this.eventStream.subscribe(u=>{for(const c of u)c.type==="status-changed"&&o(c)},i,r)}if(t==="sync"){const o=n;return this.eventStream.subscribe(u=>{for(const c of u)c.type==="sync-status-changed"&&o(c)},i,r)}if(t==="local-broadcast"){const o=n;return this.eventStream.subscribe(u=>{for(const c of u)c.type==="local-broadcast"&&o(c)},i)}if(t==="broadcast"){const o=n;return this.eventStream.subscribe(u=>{for(const c of u)c.type==="broadcast"&&o(c)},i)}if(t==="auth-error"){const o=n;return this.eventStream.subscribe(u=>{for(const c of u)c.type==="auth-error"&&o(c)},i)}if(t==="all"){const o=n;return this.eventStream.subscribe(o,i,r)}const a=t,s=n;return this.eventStream.subscribe(o=>{for(const u of o){if(u.type!=="local-change"&&u.type!=="remote-change")continue;const c=[];for(const h of u.value.operations)this.isSameElementOrChildOf(h.path,a)&&c.push(h);c.length&&s({...u,value:{...u.value,operations:c}})}},i,r)}if(typeof t=="function"){const a=t,s=n,o=i;return this.eventStream.subscribe(u=>{for(const c of u)c.type!=="snapshot"&&c.type!=="local-change"&&c.type!=="remote-change"||a(c)},s,o)}throw new T(S.ErrInvalidArgument,`"${t}" is not a valid`)}publish(t){this.eventStreamObserver&&this.eventStreamObserver.next(t)}isSameElementOrChildOf(t,n){if(n===t)return!0;const i=t.split(".");return n.split(".").every((a,s)=>a===i[s])}removePushedLocalChanges(t){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>t);)this.localChanges.shift()}applyChangePack(t){const n=t.hasSnapshot();n?this.applySnapshot(t.getCheckpoint().getServerSeq(),t.getVersionVector(),t.getSnapshot(),t.getCheckpoint().getClientSeq()):(this.applyChanges(t.getChanges(),ot.Remote),this.removePushedLocalChanges(t.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(t.getCheckpoint()),n||this.garbageCollect(t.getVersionVector()),t.getIsRemoved()&&this.applyStatus("removed"),L.isEnabled(re.Trivial)&&L.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Ze(this.presences)})}createChangePack(){const t=Array.from(this.localChanges),n=this.checkpoint.increaseClientSeq(t.length);return pc.create(this.key,n,!1,t,this.getVersionVector())}setActor(t){for(const n of this.localChanges)n.setActor(t);this.changeID=this.changeID.setActor(t)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const t=Ja.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return Sy(t,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(t){this.maxSizeLimit=t}getSchemaRules(){return this.schemaRules}setSchemaRules(t){this.schemaRules=t}garbageCollect(t){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(t),this.root.garbageCollect(t))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(t,n,i,r=-1){const{root:a,presences:s}=St.bytesToSnapshot(i);this.root=new ko(a),this.presences=s,this.changeID=this.changeID.setClocks(n.maxLamport(),n),this.clone=void 0,this.removePushedLocalChanges(r),this.applyChanges(this.localChanges,ot.Local),this.publish([{type:"snapshot",source:ot.Remote,value:{serverSeq:t.toString(),snapshot:this.isEnableDevtools()?St.bytesToHex(i):void 0,snapshotVector:St.versionVectorToHex(n)}}])}applyChanges(t,n){L.isEnabled(re.Debug)&&L.debug(`trying to apply ${t.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),L.isEnabled(re.Trivial)&&L.trivial(t.map(i=>`${i.getID().toTestString()}	${i.toTestString()}`).join(`
`));for(const i of t)this.applyChange(i,n);L.isEnabled(re.Debug)&&L.debug(`after appling ${t.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(t,n){this.ensureClone(),t.execute(this.clone.root,this.clone.presences,n);const i=[],r=t.getID().getActorID();if(t.hasPresenceChange()&&this.onlineClients.has(r)){const s=t.getPresenceChange();switch(s.type){case Nn.Put:i.push(this.presences.has(r)?{type:"presence-changed",source:n,value:{clientID:r,presence:s.presence}}:{type:"watched",source:ot.Remote,value:{clientID:r,presence:s.presence}});break;case Nn.Clear:i.push({type:"unwatched",source:ot.Remote,value:{clientID:r,presence:this.getPresence(r)}}),this.removeOnlineClient(r);break}}const{opInfos:a}=t.execute(this.root,this.presences,n);if(this.changeID=this.changeID.syncClocks(t.getID()),a.length>0){const s=this.isEnableDevtools()?t.toStruct():void 0;i.push(n===ot.Remote?{type:"remote-change",source:n,value:{actor:r,clientSeq:t.getID().getClientSeq(),serverSeq:t.getID().getServerSeq(),message:t.getMessage()||"",operations:a},rawChange:s}:{type:"local-change",source:n,value:{actor:r,clientSeq:t.getID().getClientSeq(),serverSeq:t.getID().getServerSeq(),message:t.getMessage()||"",operations:a},rawChange:s})}i.length>0&&this.publish(i)}applyWatchStream(t){if(t.body.case==="initialization"){const n=t.body.value.clientIds,i=new Set;for(const r of n)r!==this.changeID.getActorID()&&i.add(r);this.setOnlineClients(i),this.publish([{type:"initialized",source:ot.Local,value:this.getPresences()}]);return}if(t.body.case==="event"){const{type:n,publisher:i}=t.body.value,r=[];if(n===na.DOCUMENT_WATCHED){if(this.onlineClients.has(i)&&this.hasPresence(i))return;this.addOnlineClient(i),this.hasPresence(i)&&r.push({type:"watched",source:ot.Remote,value:{clientID:i,presence:this.getPresence(i)}})}else if(n===na.DOCUMENT_UNWATCHED){const a=this.getPresence(i);this.removeOnlineClient(i),a&&r.push({type:"unwatched",source:ot.Remote,value:{clientID:i,presence:a}})}else if(n===na.DOCUMENT_BROADCAST&&t.body.value.body){const{topic:a,payload:s}=t.body.value.body,o=new TextDecoder;r.push({type:"broadcast",value:{clientID:i,topic:a,payload:JSON.parse(o.decode(s))}})}r.length>0&&this.publish(r)}}applyStatus(t){this.status=t,t==="detached"&&this.setActor(Jd),this.publish([{source:t==="removed"?ot.Remote:ot.Local,type:"status-changed",value:t==="attached"?{status:t,actorID:this.changeID.getActorID()}:{status:t}}])}applyDocEventForReplay(t){if(t.type==="status-changed"){this.applyStatus(t.value.status),t.value.status==="attached"&&this.setActor(t.value.actorID);return}if(t.type==="snapshot"){const{snapshot:n,serverSeq:i,snapshotVector:r}=t.value;if(!n)return;this.applySnapshot(BigInt(i),St.hexToVersionVector(r),St.hexToBytes(n));return}if(t.type==="local-change"||t.type==="remote-change"){if(!t.rawChange)return;const n=gs.fromStruct(t.rawChange);this.applyChange(n,t.source)}if(t.type==="initialized"){const n=new Set;for(const{clientID:i,presence:r}of t.value)n.add(i),this.presences.set(i,r);this.setOnlineClients(n);return}if(t.type==="watched"){const{clientID:n,presence:i}=t.value;this.addOnlineClient(n),this.presences.set(n,i);return}if(t.type==="unwatched"){const{clientID:n}=t.value;this.removeOnlineClient(n),this.presences.delete(n)}if(t.type==="presence-changed"){const{clientID:n,presence:i}=t.value;this.presences.set(n,i)}}applyDocEventsForReplay(t){for(const n of t)this.applyDocEventForReplay(n)}getValueByPath(t){if(!t.startsWith("$"))throw new T(S.ErrInvalidArgument,'path must start with "$"');const n=t.split(".");n.shift();let i=this.getRoot();for(const r of n)if(i=i[r],i===void 0)return;return i}setOnlineClients(t){this.onlineClients=t}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(t){this.onlineClients.add(t)}removeOnlineClient(t){this.onlineClients.delete(t)}hasPresence(t){return this.presences.has(t)}getMyPresence(){if(this.status!=="attached")return{};const t=this.presences.get(this.changeID.getActorID());return t?Ze(t):{}}getPresence(t){if(t===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(t))return;const n=this.presences.get(t);return n?Ze(n):void 0}getPresenceForTest(t){const n=this.presences.get(t);return n?Ze(n):void 0}getPresences(){const t=[];t.push({clientID:this.changeID.getActorID(),presence:Ze(this.getMyPresence())});for(const n of this.onlineClients)this.presences.has(n)&&t.push({clientID:n,presence:Ze(this.presences.get(n))});return t}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const t=this.getChangeID().getActorID();return this.getPresences().filter(n=>n.clientID!==t).sort((n,i)=>n.clientID>i.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new T(S.ErrRefused,"Undo is not allowed during an update");const t=this.internalHistory.popUndo();if(t===void 0)throw new T(S.ErrRefused,"There is no operation to be undone");this.ensureClone();const n=Ja.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const c of t){if(!(c instanceof $e)){new uf(n,Ze(this.clone.presences.get(this.changeID.getActorID()))).set(c.value,{addToHistory:!0});continue}const h=n.issueTimeTicket();c.setExecutedAt(h),n.push(c)}const i=n.toChange();i.execute(this.clone.root,this.clone.presences,ot.UndoRedo);const{opInfos:r,reverseOps:a}=i.execute(this.root,this.presences,ot.UndoRedo),s=n.getReversePresence();if(s&&a.push({type:"presence",value:s}),a.length>0&&this.internalHistory.pushRedo(a),!i.hasPresenceChange()&&r.length===0)return;this.localChanges.push(i),this.changeID=n.getNextID();const o=this.changeID.getActorID(),u=[];r.length>0&&u.push({type:"local-change",source:ot.UndoRedo,value:{message:i.getMessage()||"",operations:r,actor:o,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&u.push({type:"presence-changed",source:ot.UndoRedo,value:{clientID:o,presence:this.getPresence(o)}}),this.publish(u)}redo(){if(this.isUpdating)throw new T(S.ErrRefused,"Redo is not allowed during an update");const t=this.internalHistory.popRedo();if(t===void 0)throw new T(S.ErrRefused,"There is no operation to be redone");this.ensureClone();const n=Ja.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const c of t){if(!(c instanceof $e)){new uf(n,Ze(this.clone.presences.get(this.changeID.getActorID()))).set(c.value,{addToHistory:!0});continue}const h=n.issueTimeTicket();c.setExecutedAt(h),n.push(c)}const i=n.toChange();i.execute(this.clone.root,this.clone.presences,ot.UndoRedo);const{opInfos:r,reverseOps:a}=i.execute(this.root,this.presences,ot.UndoRedo),s=n.getReversePresence();if(s&&a.push({type:"presence",value:s}),a.length>0&&this.internalHistory.pushUndo(a),!i.hasPresenceChange()&&r.length===0)return;this.localChanges.push(i),this.changeID=n.getNextID();const o=this.changeID.getActorID(),u=[];r.length>0&&u.push({type:"local-change",source:ot.UndoRedo,value:{message:i.getMessage()||"",operations:r,actor:o,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&u.push({type:"presence-changed",source:ot.UndoRedo,value:{clientID:o,presence:this.getPresence(o)}}),this.publish(u)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}broadcast(t,n,i){const r={type:"local-broadcast",value:{topic:t,payload:n},options:i};this.publish([r])}getVersionVector(){return this.changeID.getVersionVector()}}function UE(e,t){let n=t;return{authInterceptor:a=>async s=>(e&&s.header.set("x-api-key",e),n&&s.header.set("authorization",n),await a(s)),setToken:a=>{n=a}}}const LE="@yorkie-js/sdk",JE="0.6.25",wy={name:LE,version:JE};function qE(e){return t=>async n=>(e?n.header.set("x-yorkie-user-agent",e):n.header.set("x-yorkie-user-agent",wy.name+"/"+wy.version),await t(n))}const PE=e=>{try{if(JSON.stringify(e)===void 0)return!1}catch{return!1}return!0};var Gl=(e=>(e.Manual="manual",e.Realtime="realtime",e.RealtimePushOnly="realtime-pushonly",e.RealtimeSyncOff="realtime-syncoff",e))(Gl||{});const Ms={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3},cf={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class RS{constructor(t){l(this,"id");l(this,"key");l(this,"metadata");l(this,"status");l(this,"attachmentMap");l(this,"apiKey");l(this,"authTokenInjector");l(this,"conditions");l(this,"syncLoopDuration");l(this,"reconnectStreamDelay");l(this,"retrySyncLoopDelay");l(this,"rpcClient");l(this,"setAuthToken");l(this,"taskQueue");l(this,"processing",!1);l(this,"keepalive",!1);t=t||Ms;const n=t.rpcAddr||Ms.rpcAddr;this.key=t.key||DS(),this.metadata=t.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=t.apiKey||"",this.authTokenInjector=t.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=t.syncLoopDuration??Ms.syncLoopDuration,this.reconnectStreamDelay=t.reconnectStreamDelay??Ms.reconnectStreamDelay,this.retrySyncLoopDelay=t.retrySyncLoopDelay??Ms.retrySyncLoopDelay;const{authInterceptor:i,setToken:r}=UE(this.apiKey);this.setAuthToken=r,this.rpcClient=Jw(oA,sA({baseUrl:n,interceptors:[i,qE(t==null?void 0:t.userAgent)],fetch:(a,s)=>{const o={...s,keepalive:this.keepalive};return fetch(a,o)}})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const t=await this.authTokenInjector();this.setAuthToken(t)}return this.enqueueTask(async()=>{try{const t=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=t.clientId,this.status="activated",this.runSyncLoop(),L.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(t){throw L.error(`[AC] c:"${this.getKey()}" err :`,t),await this.handleConnectError(t),t}})}deactivate(t={keepalive:!1}){if(this.status==="deactivated")return Promise.resolve();const n=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),L.info(`[DC] c"${this.getKey()}" deactivated`)}catch(i){throw L.error(`[DC] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};if(t.keepalive){this.keepalive=!0;const i=n();return this.keepalive=!1,i}return this.enqueueTask(n)}hasDocument(t){return this.attachmentMap.has(t)}attach(t,n={}){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);if(t.getStatus()!==hr.Detached)throw new T(S.ErrDocumentNotDetached,`${t.getKey()} is not detached`);t.setActor(this.id),t.update((a,s)=>s.set(n.initialPresence||{}));const i=t.subscribe("local-broadcast",async a=>{var h;const{topic:s,payload:o}=a.value,u=(h=a.options)==null?void 0:h.error,c=a.options;try{await this.broadcast(t.getKey(),s,o,c)}catch(m){m instanceof Error&&(u==null||u(m))}}),r=n.syncMode??"realtime";return this.enqueueTask(async()=>{try{const a=await this.rpcClient.attachDocument({clientId:this.id,changePack:St.toChangePack(t.createChangePack()),schemaKey:n.schema},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}});(a.maxSizePerDocument??0)>0&&t.setMaxSizePerDocument(a.maxSizePerDocument),a.schemaRules.length>0&&t.setSchemaRules(St.fromSchemaRules(a.schemaRules));const o=St.fromChangePack(a.changePack);if(t.applyChangePack(o),t.getStatus()===hr.Removed)return t;t.applyStatus(hr.Attached),this.attachmentMap.set(t.getKey(),new yE(this.reconnectStreamDelay,t,a.documentId,r,i)),r!=="manual"&&await this.runWatchLoop(t.getKey()),L.info(`[AD] c:"${this.getKey()}" attaches d:"${t.getKey()}"`);const u=t.getRootObject();if(n.initialRoot){const c=n.initialRoot;t.update(h=>{for(const[m,g]of Object.entries(c))if(!u.has(m)){const d=m;h[d]=g}})}return t}catch(a){throw L.error(`[AD] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}})}detach(t,n={keepalive:!1}){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(t.getKey());if(!i)throw new T(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);t.update((a,s)=>s.clear());const r=async()=>{try{const a=await this.rpcClient.detachDocument({clientId:this.id,documentId:i.docID,changePack:St.toChangePack(t.createChangePack()),removeIfNotAttached:n.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}),s=St.fromChangePack(a.changePack);return t.applyChangePack(s),t.getStatus()!==hr.Removed&&t.applyStatus(hr.Detached),this.detachInternal(t.getKey()),L.info(`[DD] c:"${this.getKey()}" detaches d:"${t.getKey()}"`),t}catch(a){throw L.error(`[DD] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}};if(n.keepalive){this.keepalive=!0;const a=r();return this.keepalive=!1,a}return this.enqueueTask(r)}async changeSyncMode(t,n){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(t.getKey());if(!i)throw new T(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);const r=i.syncMode;return r===n?t:(i.changeSyncMode(n),n==="manual"?(i.cancelWatchStream(),t):(n==="realtime"&&(i.remoteChangeEventReceived=!0),r==="manual"&&await this.runWatchLoop(t.getKey()),t))}sync(t){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);if(t){const n=this.attachmentMap.get(t.getKey());if(!n)throw new T(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(n,"realtime").catch(async i=>{throw L.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}return this.enqueueTask(async()=>{const n=[];for(const[,i]of this.attachmentMap)n.push(this.syncInternal(i,i.syncMode));return Promise.all(n).catch(async i=>{throw L.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i})})}remove(t){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);const n=this.attachmentMap.get(t.getKey());if(!n)throw new T(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);t.setActor(this.id);const i=St.toChangePack(t.createChangePack());return i.isRemoved=!0,this.enqueueTask(async()=>{try{const r=await this.rpcClient.removeDocument({clientId:this.id,documentId:n.docID,changePack:i},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}),a=St.fromChangePack(r.changePack);t.applyChangePack(a),this.detachInternal(t.getKey()),L.info(`[RD] c:"${this.getKey()}" removes d:"${t.getKey()}"`)}catch(r){throw L.error(`[RD] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(t){return this.conditions[t]}broadcast(t,n,i,r){if(!this.isActive())throw new T(S.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(t);if(!a)throw new T(S.ErrDocumentNotAttached,`${t} is not attached`);if(!PE(i))throw new T(S.ErrInvalidArgument,"payload is not serializable");const s=(r==null?void 0:r.maxRetries)??cf.maxRetries,o=cf.maxBackoff;let u=0;const c=m=>Math.min(cf.initialRetryInterval*2**m,o),h=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,documentId:a.docID,topic:n,payload:new TextEncoder().encode(JSON.stringify(i))},{headers:{"x-shard-key":`${this.apiKey}/${t}`}}),L.info(`[BC] c:"${this.getKey()}" broadcasts d:"${t}" t:"${n}"`)}catch(m){if(L.error(`[BC] c:"${this.getKey()}" err:`,m),await this.handleConnectError(m))if(m instanceof nt&&cr(m)===S.ErrUnauthenticated&&a.doc.publish([{type:qt.AuthError,value:{reason:Ps(m).reason,method:"Broadcast"}}]),u<s)u++,setTimeout(()=>h(),c(u-1)),L.info(`[BC] c:"${this.getKey()}" retry attempt ${u}/${s}`);else throw L.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),m;else throw m}});return h()}runSyncLoop(){const t=async()=>{if(!this.isActive()){L.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const n=[];for(const[,i]of this.attachmentMap)i.needRealtimeSync()&&(i.remoteChangeEventReceived=!1,n.push(this.syncInternal(i,i.syncMode).catch(async r=>{throw r instanceof nt&&cr(r)===S.ErrUnauthenticated&&i.doc.publish([{type:qt.AuthError,value:{reason:Ps(r).reason,method:"PushPull"}}]),r})));await Promise.all(n),setTimeout(t,this.syncLoopDuration)})}catch(n){L.error(`[SL] c:"${this.getKey()}" sync failed:`,n),await this.handleConnectError(n)?setTimeout(t,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};L.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,t()}async runWatchLoop(t){const n=this.attachmentMap.get(t);if(!n)throw new T(S.ErrDocumentNotAttached,`${t} is not attached`);return this.conditions.WatchLoop=!0,n.runWatchLoop(i=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new T(S.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(t))return this.conditions.WatchLoop=!1,Promise.reject(new T(S.ErrDocumentNotAttached,`${t} is not attached`));const r=new AbortController,a=this.rpcClient.watchDocument({clientId:this.id,documentId:n.docID},{headers:{"x-shard-key":`${this.apiKey}/${t}`},signal:r.signal});return n.doc.publish([{type:qt.ConnectionChanged,value:Ku.Connected}]),L.info(`[WD] c:"${this.getKey()}" watches d:"${t}"`),n.remoteChangeEventReceived=!0,new Promise((s,o)=>{(async()=>{try{for await(const c of a)this.handleWatchDocumentsResponse(n,c),c.body.case==="initialization"&&s([a,r])}catch(c){n.doc.resetOnlineClients(),n.doc.publish([{type:qt.Initialized,source:ot.Local,value:n.doc.getPresences()}]),n.doc.publish([{type:qt.ConnectionChanged,value:Ku.Disconnected}]),L.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(c)?(c instanceof nt&&cr(c)===S.ErrUnauthenticated&&n.doc.publish([{type:qt.AuthError,value:{reason:Ps(c).reason,method:"WatchDocuments"}}]),i()):this.conditions.WatchLoop=!1,o(c)}})()})})}handleWatchDocumentsResponse(t,n){if(n.body.case==="event"&&n.body.value.type===na.DOCUMENT_CHANGED){t.remoteChangeEventReceived=!0;return}t.doc.applyWatchStream(n)}deactivateInternal(){this.status="deactivated";for(const[t,n]of this.attachmentMap)this.detachInternal(t),n.doc.applyStatus(hr.Detached)}detachInternal(t){const n=this.attachmentMap.get(t);n&&(n.cancelWatchStream(),n.doc.resetOnlineClients(),n.unsubscribeBroadcastEvent(),this.attachmentMap.delete(t))}async syncInternal(t,n){const{doc:i,docID:r}=t,a=i.createChangePack();try{const s=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:r,changePack:St.toChangePack(a),pushOnly:n==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),o=St.fromChangePack(s.changePack);if(o.hasChanges()&&(t.syncMode==="realtime-pushonly"||t.syncMode==="realtime-syncoff"))return i;i.applyChangePack(o),t.doc.publish([{type:qt.SyncStatusChanged,value:Mh.Synced}]),i.getStatus()===hr.Removed&&this.detachInternal(i.getKey());const u=i.getKey(),c=o.getChangeSize();return L.info(`[PP] c:"${this.getKey()}" sync d:"${u}", push:${a.getChangeSize()} pull:${c} cp:${o.getCheckpoint().toTestString()}`),i}catch(s){throw i.publish([{type:qt.SyncStatusChanged,value:Mh.SyncFailed}]),L.error(`[PP] c:"${this.getKey()}" err :`,s),s}}async handleConnectError(t){if(!(t instanceof nt))return!1;if(t.code===X.Canceled||t.code===X.Unknown||t.code===X.ResourceExhausted||t.code===X.Unavailable)return!0;if(cr(t)===S.ErrUnauthenticated){if(this.authTokenInjector){const n=await this.authTokenInjector(Ps(t).reason);this.setAuthToken(n)}return!0}return cr(t)===S.ErrTooManySubscribers?(L.error(`[WD] c:"${this.getKey()}" err :`,t.rawMessage),!0):(cr(t)===S.ErrTooManyAttachments||(cr(t)===S.ErrClientNotActivated||cr(t)===S.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(t){return new Promise((n,i)=>{this.taskQueue.push(()=>t().then(n).catch(i)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{L.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}xn.Int,xn.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:RS,Document:kS,Primitive:vt,Text:Qd,Counter:_d,Tree:eg,LogLevel:re,setLogLevel:mE,IntType:xn.Int,LongType:xn.Long});const VE="@yorkie-js/react",HE="0.6.25",Ay={name:VE,version:HE};ct.createContext({client:void 0,loading:!0,error:void 0});function jE(e){const[t,n]=ct.useState(void 0),[i,r]=ct.useState(!0),[a,s]=ct.useState(void 0),[o,u]=ct.useState(!1);return ct.useEffect(()=>{u(!0)},[]),ct.useEffect(()=>{r(!0),s(void 0);async function c(){if(o)try{const h=new RS(e);await h.activate(),n(h)}catch(h){s(h instanceof Error?h:new Error("Failed to activate client"))}finally{r(!1)}}return c(),()=>{t!=null&&t.isActive()&&t.deactivate({keepalive:!0})}},[e.apiKey,e.rpcAddr,o]),{client:t,loading:i,error:a}}function GE(e){const t=new Set;let n=e;const i=()=>{t.forEach(u=>u(n))};return{subscribe:u=>(t.add(u),()=>t.delete(u)),getSnapshot:()=>n,setState:u=>{const c=n;n=typeof u=="function"?u(c):u,c!==n&&i()},destroy:()=>{t.clear()}}}const YE=e=>GE(e);function $E(e,t,n=Object.is){const i=ct.useRef(t),r=ct.useRef(n),a=ct.useRef(void 0);i.current=t,r.current=n;const s=()=>{const o=e.getSnapshot(),u=i.current?i.current(o):o;return a.current!==void 0&&r.current(a.current,u)?a.current:(a.current=u,u)};return ct.useSyncExternalStore(e.subscribe,s,s)}function KE(e,t,n,i,r,a,s){const o=ct.useRef(r),u=ct.useRef(a),[c,h]=ct.useState(!1);ct.useEffect(()=>{h(!0)},[]),ct.useEffect(()=>{if(n){s.setState(b=>({...b,loading:!1,error:n}));return}if(!e||t||!c){s.setState(b=>({...b,loading:!0}));return}s.setState(b=>({...b,loading:!0,error:void 0}));const m=new kS(i),g=[];g.push(m.subscribe(()=>{s.setState(b=>({...b,root:m.getRoot()}))})),g.push(m.subscribe("presence",()=>{s.setState(b=>({...b,presences:m.getPresences()}))})),g.push(m.subscribe("connection",b=>{s.setState(A=>({...A,connection:b.value}))}));async function d(){try{await(e==null?void 0:e.attach(m,{initialRoot:o.current,initialPresence:u.current}));const b=A=>{try{m.update(A)}catch(x){s.setState(p=>({...p,error:x instanceof Error?x:new Error("Failed to update document")}))}};s.setState(A=>({...A,doc:m,root:m.getRoot(),presences:m.getPresences(),update:b}))}catch(b){s.setState(A=>({...A,error:b instanceof Error?b:new Error("Failed to attach document")}))}finally{s.setState(b=>({...b,loading:!1}))}}return d(),()=>{e&&e.hasDocument(i)&&e.detach(m);for(const b of g)b()}},[e,t,n,i,s,c])}ct.createContext(void 0);function XE(e,t,n){const i=ct.useRef(void 0);i.current||(i.current=YE({doc:void 0,root:(n==null?void 0:n.initialRoot)??{},presences:[],connection:Ku.Disconnected,update:()=>{},loading:!0,error:void 0}));const r=i.current,a=ct.useMemo(()=>({apiKey:e,userAgent:Ay.name+"/"+Ay.version,...n}),[e,n]),{client:s,loading:o,error:u}=jE(a);KE(s,o,u,t,(n==null?void 0:n.initialRoot)??{},(n==null?void 0:n.initialPresence)??{},r);const c=$E(r);return{root:c.root,presences:c.presences,connection:c.connection,update:c.update,loading:c.loading,error:c.error}}function ZE(e){const{root:t,update:n,loading:i,error:r}=XE("D6sd9E5ehtXBssmeRZ4QQP",`react-todomvc-${new Date().toISOString().substring(0,10).replace(/-/g,"")}`,{initialRoot:e}),a=ct.useCallback(s=>{n(o=>{q1(o,s)})},[n]);return{root:t,dispatch:a,loading:i,error:r}}const FE={todos:[{id:crypto.randomUUID(),text:"Yorkie JS SDK",completed:!1},{id:crypto.randomUUID(),text:"Garbage collection",completed:!1},{id:crypto.randomUUID(),text:"RichText datatype",completed:!1}]};function QE(){const{root:e,dispatch:t,loading:n,error:i}=ZE(FE);return n?_.jsx("div",{children:"Loading..."}):i?_.jsxs("div",{children:["Error: ",i.message]}):_.jsxs("div",{className:"App",children:[_.jsx(I1,{dispatch:t}),_.jsx(J1,{todos:e.todos,dispatch:t})]})}R1.createRoot(document.getElementById("root")).render(_.jsx(ct.StrictMode,{children:_.jsx(QE,{})}));
