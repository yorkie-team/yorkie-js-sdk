var hS=Object.defineProperty;var dS=(e,t,n)=>t in e?hS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var u=(e,t,n)=>dS(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function ay(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sy={exports:{}},Mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS=Symbol.for("react.transitional.element"),mS=Symbol.for("react.fragment");function ly(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:gS,type:e,key:i,ref:t!==void 0?t:null,props:n}}Mu.Fragment=mS;Mu.jsx=ly;Mu.jsxs=ly;sy.exports=Mu;var et=sy.exports,oy={exports:{}},zu={},uy={exports:{}},cy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,G){var j=B.length;B.push(G);t:for(;0<j;){var bt=j-1>>>1,It=B[bt];if(0<r(It,G))B[bt]=G,B[j]=It,j=bt;else break t}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var G=B[0],j=B.pop();if(j!==G){B[0]=j;t:for(var bt=0,It=B.length,jl=It>>>1;bt<jl;){var Gl=2*(bt+1)-1,ac=B[Gl],Ir=Gl+1,Yl=B[Ir];if(0>r(ac,j))Ir<It&&0>r(Yl,ac)?(B[bt]=Yl,B[Ir]=j,bt=Ir):(B[bt]=ac,B[Gl]=j,bt=Gl);else if(Ir<It&&0>r(Yl,j))B[bt]=Yl,B[Ir]=j,bt=Ir;else break t}}return G}function r(B,G){var j=B.sortIndex-G.sortIndex;return j!==0?j:B.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var o=[],c=[],h=1,m=null,d=3,g=!1,A=!1,E=!1,O=!1,p=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function T(B){for(var G=n(c);G!==null;){if(G.callback===null)i(c);else if(G.startTime<=B)i(c),G.sortIndex=G.expirationTime,t(o,G);else break;G=n(c)}}function x(B){if(E=!1,T(B),!A)if(n(o)!==null)A=!0,k||(k=!0,We());else{var G=n(c);G!==null&&rc(x,G.startTime-B)}}var k=!1,R=-1,M=5,ut=-1;function V(){return O?!0:!(e.unstable_now()-ut<M)}function _t(){if(O=!1,k){var B=e.unstable_now();ut=B;var G=!0;try{t:{A=!1,E&&(E=!1,y(R),R=-1),g=!0;var j=d;try{e:{for(T(B),m=n(o);m!==null&&!(m.expirationTime>B&&V());){var bt=m.callback;if(typeof bt=="function"){m.callback=null,d=m.priorityLevel;var It=bt(m.expirationTime<=B);if(B=e.unstable_now(),typeof It=="function"){m.callback=It,T(B),G=!0;break e}m===n(o)&&i(o),T(B)}else i(o);m=n(o)}if(m!==null)G=!0;else{var jl=n(c);jl!==null&&rc(x,jl.startTime-B),G=!1}}break t}finally{m=null,d=j,g=!1}G=void 0}}finally{G?We():k=!1}}}var We;if(typeof v=="function")We=function(){v(_t)};else if(typeof MessageChannel<"u"){var jd=new MessageChannel,fS=jd.port2;jd.port1.onmessage=_t,We=function(){fS.postMessage(null)}}else We=function(){p(_t,0)};function rc(B,G){R=p(function(){B(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function(B){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var j=d;d=G;try{return B()}finally{d=j}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var j=d;d=B;try{return G()}finally{d=j}},e.unstable_scheduleCallback=function(B,G,j){var bt=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?bt+j:bt):j=bt,B){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=j+It,B={id:h++,callback:G,priorityLevel:B,startTime:j,expirationTime:It,sortIndex:-1},j>bt?(B.sortIndex=j,t(c,B),n(o)===null&&B===n(c)&&(E?(y(R),R=-1):E=!0,rc(x,j-bt))):(B.sortIndex=It,t(o,B),A||g||(A=!0,k||(k=!0,We()))),B},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(B){var G=d;return function(){var j=d;d=G;try{return B.apply(this,arguments)}finally{d=j}}}})(cy);uy.exports=cy;var yS=uy.exports,fy={exports:{}},P={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th=Symbol.for("react.transitional.element"),pS=Symbol.for("react.portal"),vS=Symbol.for("react.fragment"),SS=Symbol.for("react.strict_mode"),TS=Symbol.for("react.profiler"),bS=Symbol.for("react.consumer"),AS=Symbol.for("react.context"),wS=Symbol.for("react.forward_ref"),ES=Symbol.for("react.suspense"),NS=Symbol.for("react.memo"),hy=Symbol.for("react.lazy"),Gd=Symbol.iterator;function xS(e){return e===null||typeof e!="object"?null:(e=Gd&&e[Gd]||e["@@iterator"],typeof e=="function"?e:null)}var dy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gy=Object.assign,my={};function us(e,t,n){this.props=e,this.context=t,this.refs=my,this.updater=n||dy}us.prototype.isReactComponent={};us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yy(){}yy.prototype=us.prototype;function bh(e,t,n){this.props=e,this.context=t,this.refs=my,this.updater=n||dy}var Ah=bh.prototype=new yy;Ah.constructor=bh;gy(Ah,us.prototype);Ah.isPureReactComponent=!0;var Yd=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},py=Object.prototype.hasOwnProperty;function wh(e,t,n,i,r,a){return n=a.ref,{$$typeof:Th,type:e,key:t,ref:n!==void 0?n:null,props:a}}function DS(e,t){return wh(e.type,t,void 0,void 0,void 0,e.props)}function Eh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Th}function OS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Kd=/\/+/g;function sc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?OS(""+e.key):t.toString(36)}function $d(){}function CS(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then($d,$d):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function da(e,t,n,i,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Th:case pS:s=!0;break;case hy:return s=e._init,da(s(e._payload),t,n,i,r)}}if(s)return r=r(e),s=i===""?"."+sc(e,0):i,Yd(r)?(n="",s!=null&&(n=s.replace(Kd,"$&/")+"/"),da(r,t,n,"",function(c){return c})):r!=null&&(Eh(r)&&(r=DS(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(Kd,"$&/")+"/")+s)),t.push(r)),1;s=0;var l=i===""?".":i+":";if(Yd(e))for(var o=0;o<e.length;o++)i=e[o],a=l+sc(i,o),s+=da(i,t,n,a,r);else if(o=xS(e),typeof o=="function")for(e=o.call(e),o=0;!(i=e.next()).done;)i=i.value,a=l+sc(i,o++),s+=da(i,t,n,a,r);else if(a==="object"){if(typeof e.then=="function")return da(CS(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Kl(e,t,n){if(e==null)return e;var i=[],r=0;return da(e,i,"","",function(a){return t.call(n,a,r++)}),i}function RS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function kS(){}P.Children={map:Kl,forEach:function(e,t,n){Kl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Kl(e,function(){t++}),t},toArray:function(e){return Kl(e,function(t){return t})||[]},only:function(e){if(!Eh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};P.Component=us;P.Fragment=vS;P.Profiler=TS;P.PureComponent=bh;P.StrictMode=SS;P.Suspense=ES;P.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht;P.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ht.H.useMemoCache(e)}};P.cache=function(e){return function(){return e.apply(null,arguments)}};P.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=gy({},e.props),r=e.key,a=void 0;if(t!=null)for(s in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(r=""+t.key),t)!py.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(i[s]=t[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),o=0;o<s;o++)l[o]=arguments[o+2];i.children=l}return wh(e.type,r,void 0,void 0,a,i)};P.createContext=function(e){return e={$$typeof:AS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:bS,_context:e},e};P.createElement=function(e,t,n){var i,r={},a=null;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)py.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var l=Array(s),o=0;o<s;o++)l[o]=arguments[o+2];r.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)r[i]===void 0&&(r[i]=s[i]);return wh(e,a,void 0,void 0,null,r)};P.createRef=function(){return{current:null}};P.forwardRef=function(e){return{$$typeof:wS,render:e}};P.isValidElement=Eh;P.lazy=function(e){return{$$typeof:hy,_payload:{_status:-1,_result:e},_init:RS}};P.memo=function(e,t){return{$$typeof:NS,type:e,compare:t===void 0?null:t}};P.startTransition=function(e){var t=ht.T,n={};ht.T=n;try{var i=e(),r=ht.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(kS,Xd)}catch(a){Xd(a)}finally{ht.T=t}};P.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()};P.use=function(e){return ht.H.use(e)};P.useActionState=function(e,t,n){return ht.H.useActionState(e,t,n)};P.useCallback=function(e,t){return ht.H.useCallback(e,t)};P.useContext=function(e){return ht.H.useContext(e)};P.useDebugValue=function(){};P.useDeferredValue=function(e,t){return ht.H.useDeferredValue(e,t)};P.useEffect=function(e,t,n){var i=ht.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};P.useId=function(){return ht.H.useId()};P.useImperativeHandle=function(e,t,n){return ht.H.useImperativeHandle(e,t,n)};P.useInsertionEffect=function(e,t){return ht.H.useInsertionEffect(e,t)};P.useLayoutEffect=function(e,t){return ht.H.useLayoutEffect(e,t)};P.useMemo=function(e,t){return ht.H.useMemo(e,t)};P.useOptimistic=function(e,t){return ht.H.useOptimistic(e,t)};P.useReducer=function(e,t,n){return ht.H.useReducer(e,t,n)};P.useRef=function(e){return ht.H.useRef(e)};P.useState=function(e){return ht.H.useState(e)};P.useSyncExternalStore=function(e,t,n){return ht.H.useSyncExternalStore(e,t,n)};P.useTransition=function(){return ht.H.useTransition()};P.version="19.1.0";fy.exports=P;var mt=fy.exports,vy={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BS=mt;function Sy(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zi(){}var Zt={d:{f:Zi,r:function(){throw Error(Sy(522))},D:Zi,C:Zi,L:Zi,m:Zi,X:Zi,S:Zi,M:Zi},p:0,findDOMNode:null},IS=Symbol.for("react.portal");function MS(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:IS,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Bs=BS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Uu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Zt;Qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Sy(299));return MS(e,t,null,n)};Qt.flushSync=function(e){var t=Bs.T,n=Zt.p;try{if(Bs.T=null,Zt.p=2,e)return e()}finally{Bs.T=t,Zt.p=n,Zt.d.f()}};Qt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Zt.d.C(e,t))};Qt.prefetchDNS=function(e){typeof e=="string"&&Zt.d.D(e)};Qt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Uu(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Zt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):n==="script"&&Zt.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Qt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Uu(t.as,t.crossOrigin);Zt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Zt.d.M(e)};Qt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Uu(n,t.crossOrigin);Zt.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Qt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Uu(t.as,t.crossOrigin);Zt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Zt.d.m(e)};Qt.requestFormReset=function(e){Zt.d.r(e)};Qt.unstable_batchedUpdates=function(e,t){return e(t)};Qt.useFormState=function(e,t,n){return Bs.H.useFormState(e,t,n)};Qt.useFormStatus=function(){return Bs.H.useHostTransitionStatus()};Qt.version="19.1.0";function Ty(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ty)}catch(e){console.error(e)}}Ty(),vy.exports=Qt;var zS=vy.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bt=yS,by=mt,US=zS;function N(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ay(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Al(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zd(e){if(Al(e)!==e)throw Error(N(188))}function LS(e){var t=e.alternate;if(!t){if(t=Al(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Zd(r),e;if(a===i)return Zd(r),t;a=a.sibling}throw Error(N(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=a;break}if(l===i){s=!0,i=r,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=r;break}if(l===i){s=!0,i=a,n=r;break}l=l.sibling}if(!s)throw Error(N(189))}}if(n.alternate!==i)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function Ey(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Ey(e),t!==null)return t;e=e.sibling}return null}var ot=Object.assign,qS=Symbol.for("react.element"),$l=Symbol.for("react.transitional.element"),Ds=Symbol.for("react.portal"),va=Symbol.for("react.fragment"),Ny=Symbol.for("react.strict_mode"),Qc=Symbol.for("react.profiler"),JS=Symbol.for("react.provider"),xy=Symbol.for("react.consumer"),Ci=Symbol.for("react.context"),Nh=Symbol.for("react.forward_ref"),_c=Symbol.for("react.suspense"),Fc=Symbol.for("react.suspense_list"),xh=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),Wc=Symbol.for("react.activity"),PS=Symbol.for("react.memo_cache_sentinel"),Qd=Symbol.iterator;function ys(e){return e===null||typeof e!="object"?null:(e=Qd&&e[Qd]||e["@@iterator"],typeof e=="function"?e:null)}var HS=Symbol.for("react.client.reference");function tf(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===HS?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case va:return"Fragment";case Qc:return"Profiler";case Ny:return"StrictMode";case _c:return"Suspense";case Fc:return"SuspenseList";case Wc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ds:return"Portal";case Ci:return(e.displayName||"Context")+".Provider";case xy:return(e._context.displayName||"Context")+".Consumer";case Nh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xh:return t=e.displayName||null,t!==null?t:tf(e.type)||"Memo";case nr:t=e._payload,e=e._init;try{return tf(e(t))}catch{}}return null}var Os=Array.isArray,q=by.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=US.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Vr={pending:!1,data:null,method:null,action:null},ef=[],Sa=-1;function An(e){return{current:e}}function Lt(e){0>Sa||(e.current=ef[Sa],ef[Sa]=null,Sa--)}function dt(e,t){Sa++,ef[Sa]=e.current,e.current=t}var yn=An(null),Fs=An(null),dr=An(null),Io=An(null);function Mo(e,t){switch(dt(dr,t),dt(Fs,e),dt(yn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?em(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=em(t),e=jv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Lt(yn),dt(yn,e)}function Va(){Lt(yn),Lt(Fs),Lt(dr)}function nf(e){e.memoizedState!==null&&dt(Io,e);var t=yn.current,n=jv(t,e.type);t!==n&&(dt(Fs,e),dt(yn,n))}function zo(e){Fs.current===e&&(Lt(yn),Lt(Fs)),Io.current===e&&(Lt(Io),ol._currentValue=Vr)}var rf=Object.prototype.hasOwnProperty,Dh=Bt.unstable_scheduleCallback,lc=Bt.unstable_cancelCallback,VS=Bt.unstable_shouldYield,jS=Bt.unstable_requestPaint,pn=Bt.unstable_now,GS=Bt.unstable_getCurrentPriorityLevel,Dy=Bt.unstable_ImmediatePriority,Oy=Bt.unstable_UserBlockingPriority,Uo=Bt.unstable_NormalPriority,YS=Bt.unstable_LowPriority,Cy=Bt.unstable_IdlePriority,KS=Bt.log,$S=Bt.unstable_setDisableYieldValue,wl=null,de=null;function or(e){if(typeof KS=="function"&&$S(e),de&&typeof de.setStrictMode=="function")try{de.setStrictMode(wl,e)}catch{}}var ge=Math.clz32?Math.clz32:QS,XS=Math.log,ZS=Math.LN2;function QS(e){return e>>>=0,e===0?32:31-(XS(e)/ZS|0)|0}var Xl=256,Zl=4194304;function zr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Lu(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~a,i!==0?r=zr(i):(s&=l,s!==0?r=zr(s):n||(n=l&~e,n!==0&&(r=zr(n))))):(l=i&~a,l!==0?r=zr(l):s!==0?r=zr(s):n||(n=i&~e,n!==0&&(r=zr(n)))),r===0?0:t!==0&&t!==r&&!(t&a)&&(a=r&-r,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:r}function El(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function _S(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ry(){var e=Xl;return Xl<<=1,!(Xl&4194048)&&(Xl=256),e}function ky(){var e=Zl;return Zl<<=1,!(Zl&62914560)&&(Zl=4194304),e}function oc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Nl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function FS(e,t,n,i,r,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var h=31-ge(n),m=1<<h;l[h]=0,o[h]=-1;var d=c[h];if(d!==null)for(c[h]=null,h=0;h<d.length;h++){var g=d[h];g!==null&&(g.lane&=-536870913)}n&=~m}i!==0&&By(e,i,0),a!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=a&~(s&~t))}function By(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-ge(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function Iy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ge(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Oh(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ch(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function My(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:Wv(e.type))}function WS(e,t){var n=F.p;try{return F.p=e,t()}finally{F.p=n}}var kr=Math.random().toString(36).slice(2),Gt="__reactFiber$"+kr,re="__reactProps$"+kr,cs="__reactContainer$"+kr,af="__reactEvents$"+kr,tT="__reactListeners$"+kr,eT="__reactHandles$"+kr,_d="__reactResources$"+kr,xl="__reactMarker$"+kr;function Rh(e){delete e[Gt],delete e[re],delete e[af],delete e[tT],delete e[eT]}function Ta(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cs]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rm(e);e!==null;){if(n=e[Gt])return n;e=rm(e)}return t}e=n,n=e.parentNode}return null}function fs(e){if(e=e[Gt]||e[cs]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Cs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(N(33))}function Ba(e){var t=e[_d];return t||(t=e[_d]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function zt(e){e[xl]=!0}var zy=new Set,Uy={};function ra(e,t){ja(e,t),ja(e+"Capture",t)}function ja(e,t){for(Uy[e]=t,e=0;e<t.length;e++)zy.add(t[e])}var nT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fd={},Wd={};function iT(e){return rf.call(Wd,e)?!0:rf.call(Fd,e)?!1:nT.test(e)?Wd[e]=!0:(Fd[e]=!0,!1)}function ho(e,t,n){if(iT(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ql(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function En(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var uc,tg;function ga(e){if(uc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);uc=t&&t[1]||"",tg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+uc+e+tg}var cc=!1;function fc(e,t){if(!e||cc)return"";cc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(g){var d=g}Reflect.construct(e,[],m)}else{try{m.call()}catch(g){d=g}e.call(m.prototype)}}else{try{throw Error()}catch(g){d=g}(m=e())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(g){if(g&&d&&typeof g.stack=="string")return[g.stack,d.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),s=a[0],l=a[1];if(s&&l){var o=s.split(`
`),c=l.split(`
`);for(r=i=0;i<o.length&&!o[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===o.length||r===c.length)for(i=o.length-1,r=c.length-1;1<=i&&0<=r&&o[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(o[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||o[i]!==c[r]){var h=`
`+o[i].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=i&&0<=r);break}}}finally{cc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ga(n):""}function rT(e){switch(e.tag){case 26:case 27:case 5:return ga(e.type);case 16:return ga("Lazy");case 13:return ga("Suspense");case 19:return ga("SuspenseList");case 0:case 15:return fc(e.type,!1);case 11:return fc(e.type.render,!1);case 1:return fc(e.type,!0);case 31:return ga("Activity");default:return""}}function eg(e){try{var t="";do t+=rT(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ly(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aT(e){var t=Ly(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Lo(e){e._valueTracker||(e._valueTracker=aT(e))}function qy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Ly(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function qo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sT=/[\n"\\]/g;function Me(e){return e.replace(sT,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function sf(e,t,n,i,r,a,s,l){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+be(t)):e.value!==""+be(t)&&(e.value=""+be(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?lf(e,s,be(t)):n!=null?lf(e,s,be(n)):i!=null&&e.removeAttribute("value"),r==null&&a!=null&&(e.defaultChecked=!!a),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+be(l):e.removeAttribute("name")}function Jy(e,t,n,i,r,a,s,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;n=n!=null?""+be(n):"",t=t!=null?""+be(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s)}function lf(e,t,n){t==="number"&&qo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ia(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+be(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Py(e,t,n){if(t!=null&&(t=""+be(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+be(n):""}function Hy(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(N(92));if(Os(i)){if(1<i.length)throw Error(N(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=be(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function Ga(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ng(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||lT.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Vy(e,t,n){if(t!=null&&typeof t!="object")throw Error(N(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&ng(e,r,i)}else for(var a in t)t.hasOwnProperty(a)&&ng(e,a,t[a])}function kh(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function go(e){return uT.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var of=null;function Bh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ba=null,Ma=null;function ig(e){var t=fs(e);if(t&&(e=t.stateNode)){var n=e[re]||null;t:switch(e=t.stateNode,t.type){case"input":if(sf(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Me(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[re]||null;if(!r)throw Error(N(90));sf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&qy(i)}break t;case"textarea":Py(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Ia(e,!!n.multiple,t,!1)}}}var hc=!1;function jy(e,t,n){if(hc)return e(t,n);hc=!0;try{var i=e(t);return i}finally{if(hc=!1,(ba!==null||Ma!==null)&&($u(),ba&&(t=ba,e=Ma,Ma=ba=null,ig(t),e)))for(t=0;t<e.length;t++)ig(e[t])}}function Ws(e,t){var n=e.stateNode;if(n===null)return null;var i=n[re]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var Hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uf=!1;if(Hi)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){uf=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{uf=!1}var ur=null,Ih=null,mo=null;function Gy(){if(mo)return mo;var e,t=Ih,n=t.length,i,r="value"in ur?ur.value:ur.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===r[a-i];i++);return mo=r.slice(e,1<i?1-i:void 0)}function yo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _l(){return!0}function rg(){return!1}function se(e){function t(n,i,r,a,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?_l:rg,this.isPropagationStopped=rg,this}return ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_l)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_l)},persist:function(){},isPersistent:_l}),t}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qu=se(aa),Dl=ot({},aa,{view:0,detail:0}),cT=se(Dl),dc,gc,vs,Ju=ot({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vs&&(vs&&e.type==="mousemove"?(dc=e.screenX-vs.screenX,gc=e.screenY-vs.screenY):gc=dc=0,vs=e),dc)},movementY:function(e){return"movementY"in e?e.movementY:gc}}),ag=se(Ju),fT=ot({},Ju,{dataTransfer:0}),hT=se(fT),dT=ot({},Dl,{relatedTarget:0}),mc=se(dT),gT=ot({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),mT=se(gT),yT=ot({},aa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pT=se(yT),vT=ot({},aa,{data:0}),sg=se(vT),ST={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bT[e])?!!t[e]:!1}function Mh(){return AT}var wT=ot({},Dl,{key:function(e){if(e.key){var t=ST[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mh,charCode:function(e){return e.type==="keypress"?yo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ET=se(wT),NT=ot({},Ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lg=se(NT),xT=ot({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mh}),DT=se(xT),OT=ot({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),CT=se(OT),RT=ot({},Ju,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kT=se(RT),BT=ot({},aa,{newState:0,oldState:0}),IT=se(BT),MT=[9,13,27,32],zh=Hi&&"CompositionEvent"in window,Is=null;Hi&&"documentMode"in document&&(Is=document.documentMode);var zT=Hi&&"TextEvent"in window&&!Is,Yy=Hi&&(!zh||Is&&8<Is&&11>=Is),og=" ",ug=!1;function Ky(e,t){switch(e){case"keyup":return MT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $y(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Aa=!1;function UT(e,t){switch(e){case"compositionend":return $y(t);case"keypress":return t.which!==32?null:(ug=!0,og);case"textInput":return e=t.data,e===og&&ug?null:e;default:return null}}function LT(e,t){if(Aa)return e==="compositionend"||!zh&&Ky(e,t)?(e=Gy(),mo=Ih=ur=null,Aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yy&&t.locale!=="ko"?null:t.data;default:return null}}var qT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qT[e.type]:t==="textarea"}function Xy(e,t,n,i){ba?Ma?Ma.push(i):Ma=[i]:ba=i,t=nu(t,"onChange"),0<t.length&&(n=new qu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ms=null,tl=null;function JT(e){Pv(e,0)}function Pu(e){var t=Cs(e);if(qy(t))return e}function fg(e,t){if(e==="change")return t}var Zy=!1;if(Hi){var yc;if(Hi){var pc="oninput"in document;if(!pc){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),pc=typeof hg.oninput=="function"}yc=pc}else yc=!1;Zy=yc&&(!document.documentMode||9<document.documentMode)}function dg(){Ms&&(Ms.detachEvent("onpropertychange",Qy),tl=Ms=null)}function Qy(e){if(e.propertyName==="value"&&Pu(tl)){var t=[];Xy(t,tl,e,Bh(e)),jy(JT,t)}}function PT(e,t,n){e==="focusin"?(dg(),Ms=t,tl=n,Ms.attachEvent("onpropertychange",Qy)):e==="focusout"&&dg()}function HT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pu(tl)}function VT(e,t){if(e==="click")return Pu(t)}function jT(e,t){if(e==="input"||e==="change")return Pu(t)}function GT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Se=typeof Object.is=="function"?Object.is:GT;function el(e,t){if(Se(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!rf.call(t,r)||!Se(e[r],t[r]))return!1}return!0}function gg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mg(e,t){var n=gg(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=gg(n)}}function _y(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_y(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=qo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qo(e.document)}return t}function Uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var YT=Hi&&"documentMode"in document&&11>=document.documentMode,wa=null,cf=null,zs=null,ff=!1;function yg(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ff||wa==null||wa!==qo(i)||(i=wa,"selectionStart"in i&&Uh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),zs&&el(zs,i)||(zs=i,i=nu(cf,"onSelect"),0<i.length&&(t=new qu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=wa)))}function Mr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ea={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},vc={},Wy={};Hi&&(Wy=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function sa(e){if(vc[e])return vc[e];if(!Ea[e])return e;var t=Ea[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Wy)return vc[e]=t[n];return e}var tp=sa("animationend"),ep=sa("animationiteration"),np=sa("animationstart"),KT=sa("transitionrun"),$T=sa("transitionstart"),XT=sa("transitioncancel"),ip=sa("transitionend"),rp=new Map,hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hf.push("scrollEnd");function Fe(e,t){rp.set(e,t),ra(t,[e])}var pg=new WeakMap;function ze(e,t){if(typeof e=="object"&&e!==null){var n=pg.get(e);return n!==void 0?n:(t={value:e,source:t,stack:eg(t)},pg.set(e,t),t)}return{value:e,source:t,stack:eg(t)}}var Te=[],Na=0,Lh=0;function Hu(){for(var e=Na,t=Lh=Na=0;t<e;){var n=Te[t];Te[t++]=null;var i=Te[t];Te[t++]=null;var r=Te[t];Te[t++]=null;var a=Te[t];if(Te[t++]=null,i!==null&&r!==null){var s=i.pending;s===null?r.next=r:(r.next=s.next,s.next=r),i.pending=r}a!==0&&ap(n,r,a)}}function Vu(e,t,n,i){Te[Na++]=e,Te[Na++]=t,Te[Na++]=n,Te[Na++]=i,Lh|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function qh(e,t,n,i){return Vu(e,t,n,i),Jo(e)}function hs(e,t){return Vu(e,null,null,t),Jo(e)}function ap(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,a=e.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(r=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,r&&t!==null&&(r=31-ge(n),e=a.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),a):null}function Jo(e){if(50<Ys)throw Ys=0,If=null,Error(N(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var xa={};function ZT(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ce(e,t,n,i){return new ZT(e,t,n,i)}function Jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,t){var n=e.alternate;return n===null?(n=ce(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function sp(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function po(e,t,n,i,r,a){var s=0;if(i=e,typeof e=="function")Jh(e)&&(s=1);else if(typeof e=="string")s=_b(e,n,yn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Wc:return e=ce(31,n,t,r),e.elementType=Wc,e.lanes=a,e;case va:return jr(n.children,r,a,t);case Ny:s=8,r|=24;break;case Qc:return e=ce(12,n,t,r|2),e.elementType=Qc,e.lanes=a,e;case _c:return e=ce(13,n,t,r),e.elementType=_c,e.lanes=a,e;case Fc:return e=ce(19,n,t,r),e.elementType=Fc,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case JS:case Ci:s=10;break t;case xy:s=9;break t;case Nh:s=11;break t;case xh:s=14;break t;case nr:s=16,i=null;break t}s=29,n=Error(N(130,e===null?"null":typeof e,"")),i=null}return t=ce(s,n,t,r),t.elementType=e,t.type=i,t.lanes=a,t}function jr(e,t,n,i){return e=ce(7,e,i,t),e.lanes=n,e}function Sc(e,t,n){return e=ce(6,e,null,t),e.lanes=n,e}function Tc(e,t,n){return t=ce(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Da=[],Oa=0,Po=null,Ho=0,Ae=[],we=0,Gr=null,Ri=1,ki="";function Ur(e,t){Da[Oa++]=Ho,Da[Oa++]=Po,Po=e,Ho=t}function lp(e,t,n){Ae[we++]=Ri,Ae[we++]=ki,Ae[we++]=Gr,Gr=e;var i=Ri;e=ki;var r=32-ge(i)-1;i&=~(1<<r),n+=1;var a=32-ge(t)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Ri=1<<32-ge(t)+r|n<<r|i,ki=a+e}else Ri=1<<a|n<<r|i,ki=e}function Ph(e){e.return!==null&&(Ur(e,1),lp(e,1,0))}function Hh(e){for(;e===Po;)Po=Da[--Oa],Da[Oa]=null,Ho=Da[--Oa],Da[Oa]=null;for(;e===Gr;)Gr=Ae[--we],Ae[we]=null,ki=Ae[--we],Ae[we]=null,Ri=Ae[--we],Ae[we]=null}var Xt=null,pt=null,_=!1,Yr=null,rn=!1,df=Error(N(519));function _r(e){var t=Error(N(418,""));throw nl(ze(t,e)),df}function vg(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Gt]=e,t[re]=i,n){case"dialog":Y("cancel",t),Y("close",t);break;case"iframe":case"object":case"embed":Y("load",t);break;case"video":case"audio":for(n=0;n<al.length;n++)Y(al[n],t);break;case"source":Y("error",t);break;case"img":case"image":case"link":Y("error",t),Y("load",t);break;case"details":Y("toggle",t);break;case"input":Y("invalid",t),Jy(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Lo(t);break;case"select":Y("invalid",t);break;case"textarea":Y("invalid",t),Hy(t,i.value,i.defaultValue,i.children),Lo(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Vv(t.textContent,n)?(i.popover!=null&&(Y("beforetoggle",t),Y("toggle",t)),i.onScroll!=null&&Y("scroll",t),i.onScrollEnd!=null&&Y("scrollend",t),i.onClick!=null&&(t.onclick=Qu),t=!0):t=!1,t||_r(e)}function Sg(e){for(Xt=e.return;Xt;)switch(Xt.tag){case 5:case 13:rn=!1;return;case 27:case 3:rn=!0;return;default:Xt=Xt.return}}function Ss(e){if(e!==Xt)return!1;if(!_)return Sg(e),_=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Jf(e.type,e.memoizedProps)),n=!n),n&&pt&&_r(e),Sg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){pt=Ze(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}pt=null}}else t===27?(t=pt,Br(e.type)?(e=Vf,Vf=null,pt=e):pt=t):pt=Xt?Ze(e.stateNode.nextSibling):null;return!0}function Ol(){pt=Xt=null,_=!1}function Tg(){var e=Yr;return e!==null&&(te===null?te=e:te.push.apply(te,e),Yr=null),e}function nl(e){Yr===null?Yr=[e]:Yr.push(e)}var gf=An(null),la=null,Bi=null;function rr(e,t,n){dt(gf,t._currentValue),t._currentValue=n}function qi(e){e._currentValue=gf.current,Lt(gf)}function mf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function yf(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){var s=r.child;a=a.firstContext;t:for(;a!==null;){var l=a;a=r;for(var o=0;o<t.length;o++)if(l.context===t[o]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),mf(a.return,n,e),i||(s=null);break t}a=l.next}}else if(r.tag===18){if(s=r.return,s===null)throw Error(N(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),mf(s,n,e),s=null}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===e){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}}function Cl(e,t,n,i){e=null;for(var r=t,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var s=r.alternate;if(s===null)throw Error(N(387));if(s=s.memoizedProps,s!==null){var l=r.type;Se(r.pendingProps.value,s.value)||(e!==null?e.push(l):e=[l])}}else if(r===Io.current){if(s=r.alternate,s===null)throw Error(N(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}r=r.return}e!==null&&yf(t,e,n,i),t.flags|=262144}function Vo(e){for(e=e.firstContext;e!==null;){if(!Se(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fr(e){la=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Yt(e){return op(la,e)}function Fl(e,t){return la===null&&Fr(e),op(e,t)}function op(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Bi===null){if(e===null)throw Error(N(308));Bi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Bi=Bi.next=t;return n}var QT=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},_T=Bt.unstable_scheduleCallback,FT=Bt.unstable_NormalPriority,Rt={$$typeof:Ci,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vh(){return{controller:new QT,data:new Map,refCount:0}}function Rl(e){e.refCount--,e.refCount===0&&_T(FT,function(){e.controller.abort()})}var Us=null,pf=0,Ya=0,za=null;function WT(e,t){if(Us===null){var n=Us=[];pf=0,Ya=fd(),za={status:"pending",value:void 0,then:function(i){n.push(i)}}}return pf++,t.then(bg,bg),t}function bg(){if(--pf===0&&Us!==null){za!==null&&(za.status="fulfilled");var e=Us;Us=null,Ya=0,za=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function tb(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Ag=q.S;q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&WT(e,t),Ag!==null&&Ag(e,t)};var Kr=An(null);function jh(){var e=Kr.current;return e!==null?e:lt.pooledCache}function vo(e,t){t===null?dt(Kr,Kr.current):dt(Kr,t.pool)}function up(){var e=jh();return e===null?null:{parent:Rt._currentValue,pool:e}}var kl=Error(N(460)),cp=Error(N(474)),ju=Error(N(542)),vf={then:function(){}};function wg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wl(){}function fp(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Wl,Wl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ng(e),e;default:if(typeof t.status=="string")t.then(Wl,Wl);else{if(e=lt,e!==null&&100<e.shellSuspendCounter)throw Error(N(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ng(e),e}throw Ls=t,kl}}var Ls=null;function Eg(){if(Ls===null)throw Error(N(459));var e=Ls;return Ls=null,e}function Ng(e){if(e===kl||e===ju)throw Error(N(483))}var ir=!1;function Gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function gr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function mr(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,nt&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Jo(e),ap(e,null,n),t}return Vu(e,i,t,n),Jo(e)}function qs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Iy(e,n)}}function bc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?r=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Tf=!1;function Js(){if(Tf){var e=za;if(e!==null)throw e}}function Ps(e,t,n,i){Tf=!1;var r=e.updateQueue;ir=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var o=l,c=o.next;o.next=null,s===null?a=c:s.next=c,s=o;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==s&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=o))}if(a!==null){var m=r.baseState;s=0,h=c=o=null,l=a;do{var d=l.lane&-536870913,g=d!==l.lane;if(g?(Z&d)===d:(i&d)===d){d!==0&&d===Ya&&(Tf=!0),h!==null&&(h=h.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var A=e,E=l;d=t;var O=n;switch(E.tag){case 1:if(A=E.payload,typeof A=="function"){m=A.call(O,m,d);break t}m=A;break t;case 3:A.flags=A.flags&-65537|128;case 0:if(A=E.payload,d=typeof A=="function"?A.call(O,m,d):A,d==null)break t;m=ot({},m,d);break t;case 2:ir=!0}}d=l.callback,d!==null&&(e.flags|=64,g&&(e.flags|=8192),g=r.callbacks,g===null?r.callbacks=[d]:g.push(d))}else g={lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=g,o=m):h=h.next=g,s|=d;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;g=l,l=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(!0);h===null&&(o=m),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=h,a===null&&(r.shared.lanes=0),Dr|=s,e.lanes=s,e.memoizedState=m}}function hp(e,t){if(typeof e!="function")throw Error(N(191,e));e.call(t)}function dp(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)hp(n[e],t)}var Ka=An(null),jo=An(0);function xg(e,t){e=Gi,dt(jo,e),dt(Ka,t),Gi=e|t.baseLanes}function bf(){dt(jo,Gi),dt(Ka,Ka.current)}function Yh(){Gi=jo.current,Lt(Ka),Lt(jo)}var Nr=0,H=null,rt=null,Dt=null,Go=!1,Ua=!1,Wr=!1,Yo=0,il=0,La=null,eb=0;function At(){throw Error(N(321))}function Kh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Se(e[n],t[n]))return!1;return!0}function $h(e,t,n,i,r,a){return Nr=a,H=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?Gp:Yp,Wr=!1,a=n(i,r),Wr=!1,Ua&&(a=mp(t,n,i,r)),gp(e),a}function gp(e){q.H=Ko;var t=rt!==null&&rt.next!==null;if(Nr=0,Dt=rt=H=null,Go=!1,il=0,La=null,t)throw Error(N(300));e===null||Ut||(e=e.dependencies,e!==null&&Vo(e)&&(Ut=!0))}function mp(e,t,n,i){H=e;var r=0;do{if(Ua&&(La=null),il=0,Ua=!1,25<=r)throw Error(N(301));if(r+=1,Dt=rt=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}q.H=ob,a=t(n,i)}while(Ua);return a}function nb(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?Bl(t):t,e=e.useState()[0],(rt!==null?rt.memoizedState:null)!==e&&(H.flags|=1024),t}function Xh(){var e=Yo!==0;return Yo=0,e}function Zh(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Qh(e){if(Go){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Go=!1}Nr=0,Dt=rt=H=null,Ua=!1,il=Yo=0,La=null}function Ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?H.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function Ot(){if(rt===null){var e=H.alternate;e=e!==null?e.memoizedState:null}else e=rt.next;var t=Dt===null?H.memoizedState:Dt.next;if(t!==null)Dt=t,rt=e;else{if(e===null)throw H.alternate===null?Error(N(467)):Error(N(310));rt=e,e={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Dt===null?H.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function _h(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(e){var t=il;return il+=1,La===null&&(La=[]),e=fp(La,e,t),t=H,(Dt===null?t.memoizedState:Dt.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?Gp:Yp),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bl(e);if(e.$$typeof===Ci)return Yt(e)}throw Error(N(438,String(e)))}function Fh(e){var t=null,n=H.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=H.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=_h(),H.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=PS;return t.index++,n}function Vi(e,t){return typeof t=="function"?t(e):t}function So(e){var t=Ot();return Wh(t,rt,e)}function Wh(e,t,n){var i=e.queue;if(i===null)throw Error(N(311));i.lastRenderedReducer=n;var r=e.baseQueue,a=i.pending;if(a!==null){if(r!==null){var s=r.next;r.next=a.next,a.next=s}t.baseQueue=r=a,i.pending=null}if(a=e.baseState,r===null)e.memoizedState=a;else{t=r.next;var l=s=null,o=null,c=t,h=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(Z&m)===m:(Nr&m)===m){var d=c.revertLane;if(d===0)o!==null&&(o=o.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===Ya&&(h=!0);else if((Nr&d)===d){c=c.next,d===Ya&&(h=!0);continue}else m={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=m,s=a):o=o.next=m,H.lanes|=d,Dr|=d;m=c.action,Wr&&n(a,m),a=c.hasEagerState?c.eagerState:n(a,m)}else d={lane:m,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=d,s=a):o=o.next=d,H.lanes|=m,Dr|=m;c=c.next}while(c!==null&&c!==t);if(o===null?s=a:o.next=l,!Se(a,e.memoizedState)&&(Ut=!0,h&&(n=za,n!==null)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=o,i.lastRenderedState=a}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Ac(e){var t=Ot(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do a=e(a,s.action),s=s.next;while(s!==r);Se(a,t.memoizedState)||(Ut=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function yp(e,t,n){var i=H,r=Ot(),a=_;if(a){if(n===void 0)throw Error(N(407));n=n()}else n=t();var s=!Se((rt||r).memoizedState,n);s&&(r.memoizedState=n,Ut=!0),r=r.queue;var l=Sp.bind(null,i,r,e);if(Il(2048,8,l,[e]),r.getSnapshot!==t||s||Dt!==null&&Dt.memoizedState.tag&1){if(i.flags|=2048,$a(9,Yu(),vp.bind(null,i,r,n,t),null),lt===null)throw Error(N(349));a||Nr&124||pp(i,t,n)}return n}function pp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=H.updateQueue,t===null?(t=_h(),H.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vp(e,t,n,i){t.value=n,t.getSnapshot=i,Tp(t)&&bp(e)}function Sp(e,t,n){return n(function(){Tp(t)&&bp(e)})}function Tp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Se(e,n)}catch{return!0}}function bp(e){var t=hs(e,2);t!==null&&ye(t,e,2)}function Af(e){var t=Ft();if(typeof e=="function"){var n=e;if(e=n(),Wr){or(!0);try{n()}finally{or(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},t}function Ap(e,t,n,i){return e.baseState=n,Wh(e,rt,typeof i=="function"?i:Vi)}function ib(e,t,n,i,r){if(Ku(e))throw Error(N(485));if(e=t.action,e!==null){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};q.T!==null?n(!0):a.isTransition=!1,i(a),n=t.pending,n===null?(a.next=t.pending=a,wp(t,a)):(a.next=n.next,t.pending=n.next=a)}}function wp(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=q.T,s={};q.T=s;try{var l=n(r,i),o=q.S;o!==null&&o(s,l),Dg(e,t,l)}catch(c){wf(e,t,c)}finally{q.T=a}}else try{a=n(r,i),Dg(e,t,a)}catch(c){wf(e,t,c)}}function Dg(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Og(e,t,i)},function(i){return wf(e,t,i)}):Og(e,t,n)}function Og(e,t,n){t.status="fulfilled",t.value=n,Ep(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,wp(e,n)))}function wf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Ep(t),t=t.next;while(t!==i)}e.action=null}function Ep(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Np(e,t){return t}function Cg(e,t){if(_){var n=lt.formState;if(n!==null){t:{var i=H;if(_){if(pt){e:{for(var r=pt,a=rn;r.nodeType!==8;){if(!a){r=null;break e}if(r=Ze(r.nextSibling),r===null){r=null;break e}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){pt=Ze(r.nextSibling),i=r.data==="F!";break t}}_r(i)}i=!1}i&&(t=n[0])}}return n=Ft(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Np,lastRenderedState:t},n.queue=i,n=Hp.bind(null,H,i),i.dispatch=n,i=Af(!1),a=id.bind(null,H,!1,i.queue),i=Ft(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=ib.bind(null,H,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Rg(e){var t=Ot();return xp(t,rt,e)}function xp(e,t,n){if(t=Wh(e,t,Np)[0],e=So(Vi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Bl(t)}catch(s){throw s===kl?ju:s}else i=t;t=Ot();var r=t.queue,a=r.dispatch;return n!==t.memoizedState&&(H.flags|=2048,$a(9,Yu(),rb.bind(null,r,n),null)),[i,a,e]}function rb(e,t){e.action=t}function kg(e){var t=Ot(),n=rt;if(n!==null)return xp(t,n,e);Ot(),t=t.memoizedState,n=Ot();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function $a(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=H.updateQueue,t===null&&(t=_h(),H.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Yu(){return{destroy:void 0,resource:void 0}}function Dp(){return Ot().memoizedState}function To(e,t,n,i){var r=Ft();i=i===void 0?null:i,H.flags|=e,r.memoizedState=$a(1|t,Yu(),n,i)}function Il(e,t,n,i){var r=Ot();i=i===void 0?null:i;var a=r.memoizedState.inst;rt!==null&&i!==null&&Kh(i,rt.memoizedState.deps)?r.memoizedState=$a(t,a,n,i):(H.flags|=e,r.memoizedState=$a(1|t,a,n,i))}function Bg(e,t){To(8390656,8,e,t)}function Op(e,t){Il(2048,8,e,t)}function Cp(e,t){return Il(4,2,e,t)}function Rp(e,t){return Il(4,4,e,t)}function kp(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bp(e,t,n){n=n!=null?n.concat([e]):null,Il(4,4,kp.bind(null,t,e),n)}function td(){}function Ip(e,t){var n=Ot();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Kh(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Mp(e,t){var n=Ot();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Kh(t,i[1]))return i[0];if(i=e(),Wr){or(!0);try{e()}finally{or(!1)}}return n.memoizedState=[i,t],i}function ed(e,t,n){return n===void 0||Nr&1073741824?e.memoizedState=t:(e.memoizedState=n,e=Ev(),H.lanes|=e,Dr|=e,n)}function zp(e,t,n,i){return Se(n,t)?n:Ka.current!==null?(e=ed(e,n,i),Se(e,t)||(Ut=!0),e):Nr&42?(e=Ev(),H.lanes|=e,Dr|=e,t):(Ut=!0,e.memoizedState=n)}function Up(e,t,n,i,r){var a=F.p;F.p=a!==0&&8>a?a:8;var s=q.T,l={};q.T=l,id(e,!1,t,n);try{var o=r(),c=q.S;if(c!==null&&c(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var h=tb(o,i);Hs(e,t,h,me(e))}else Hs(e,t,i,me(e))}catch(m){Hs(e,t,{then:function(){},status:"rejected",reason:m},me())}finally{F.p=a,q.T=s}}function ab(){}function Ef(e,t,n,i){if(e.tag!==5)throw Error(N(476));var r=Lp(e).queue;Up(e,r,t,Vr,n===null?ab:function(){return qp(e),n(i)})}function Lp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Vr,baseState:Vr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:Vr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function qp(e){var t=Lp(e).next.queue;Hs(e,t,{},me())}function nd(){return Yt(ol)}function Jp(){return Ot().memoizedState}function Pp(){return Ot().memoizedState}function sb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=me();e=gr(n);var i=mr(t,e,n);i!==null&&(ye(i,t,n),qs(i,t,n)),t={cache:Vh()},e.payload=t;return}t=t.return}}function lb(e,t,n){var i=me();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Vp(t,n):(n=qh(e,t,n,i),n!==null&&(ye(n,e,i),jp(n,t,i)))}function Hp(e,t,n){var i=me();Hs(e,t,n,i)}function Hs(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Vp(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,l=a(s,n);if(r.hasEagerState=!0,r.eagerState=l,Se(l,s))return Vu(e,t,r,0),lt===null&&Hu(),!1}catch{}finally{}if(n=qh(e,t,r,i),n!==null)return ye(n,e,i),jp(n,t,i),!0}return!1}function id(e,t,n,i){if(i={lane:2,revertLane:fd(),action:i,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(t)throw Error(N(479))}else t=qh(e,n,i,2),t!==null&&ye(t,e,2)}function Ku(e){var t=e.alternate;return e===H||t!==null&&t===H}function Vp(e,t){Ua=Go=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jp(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Iy(e,n)}}var Ko={readContext:Yt,use:Gu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},Gp={readContext:Yt,use:Gu,useCallback:function(e,t){return Ft().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:Bg,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,To(4194308,4,kp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return To(4194308,4,e,t)},useInsertionEffect:function(e,t){To(4,2,e,t)},useMemo:function(e,t){var n=Ft();t=t===void 0?null:t;var i=e();if(Wr){or(!0);try{e()}finally{or(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Ft();if(n!==void 0){var r=n(t);if(Wr){or(!0);try{n(t)}finally{or(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=lb.bind(null,H,e),[i.memoizedState,e]},useRef:function(e){var t=Ft();return e={current:e},t.memoizedState=e},useState:function(e){e=Af(e);var t=e.queue,n=Hp.bind(null,H,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:td,useDeferredValue:function(e,t){var n=Ft();return ed(n,e,t)},useTransition:function(){var e=Af(!1);return e=Up.bind(null,H,e.queue,!0,!1),Ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=H,r=Ft();if(_){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),lt===null)throw Error(N(349));Z&124||pp(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Bg(Sp.bind(null,i,a,e),[e]),i.flags|=2048,$a(9,Yu(),vp.bind(null,i,a,n,t),null),n},useId:function(){var e=Ft(),t=lt.identifierPrefix;if(_){var n=ki,i=Ri;n=(i&~(1<<32-ge(i)-1)).toString(32)+n,t="«"+t+"R"+n,n=Yo++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=eb++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:nd,useFormState:Cg,useActionState:Cg,useOptimistic:function(e){var t=Ft();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=id.bind(null,H,!0,n),n.dispatch=t,[e,t]},useMemoCache:Fh,useCacheRefresh:function(){return Ft().memoizedState=sb.bind(null,H)}},Yp={readContext:Yt,use:Gu,useCallback:Ip,useContext:Yt,useEffect:Op,useImperativeHandle:Bp,useInsertionEffect:Cp,useLayoutEffect:Rp,useMemo:Mp,useReducer:So,useRef:Dp,useState:function(){return So(Vi)},useDebugValue:td,useDeferredValue:function(e,t){var n=Ot();return zp(n,rt.memoizedState,e,t)},useTransition:function(){var e=So(Vi)[0],t=Ot().memoizedState;return[typeof e=="boolean"?e:Bl(e),t]},useSyncExternalStore:yp,useId:Jp,useHostTransitionStatus:nd,useFormState:Rg,useActionState:Rg,useOptimistic:function(e,t){var n=Ot();return Ap(n,rt,e,t)},useMemoCache:Fh,useCacheRefresh:Pp},ob={readContext:Yt,use:Gu,useCallback:Ip,useContext:Yt,useEffect:Op,useImperativeHandle:Bp,useInsertionEffect:Cp,useLayoutEffect:Rp,useMemo:Mp,useReducer:Ac,useRef:Dp,useState:function(){return Ac(Vi)},useDebugValue:td,useDeferredValue:function(e,t){var n=Ot();return rt===null?ed(n,e,t):zp(n,rt.memoizedState,e,t)},useTransition:function(){var e=Ac(Vi)[0],t=Ot().memoizedState;return[typeof e=="boolean"?e:Bl(e),t]},useSyncExternalStore:yp,useId:Jp,useHostTransitionStatus:nd,useFormState:kg,useActionState:kg,useOptimistic:function(e,t){var n=Ot();return rt!==null?Ap(n,rt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Fh,useCacheRefresh:Pp},qa=null,rl=0;function to(e){var t=rl;return rl+=1,qa===null&&(qa=[]),fp(qa,e,t)}function Ts(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function eo(e,t){throw t.$$typeof===qS?Error(N(525)):(e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ig(e){var t=e._init;return t(e._payload)}function Kp(e){function t(p,y){if(e){var v=p.deletions;v===null?(p.deletions=[y],p.flags|=16):v.push(y)}}function n(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function i(p){for(var y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function r(p,y){return p=Li(p,y),p.index=0,p.sibling=null,p}function a(p,y,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<y?(p.flags|=67108866,y):v):(p.flags|=67108866,y)):(p.flags|=1048576,y)}function s(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function l(p,y,v,T){return y===null||y.tag!==6?(y=Sc(v,p.mode,T),y.return=p,y):(y=r(y,v),y.return=p,y)}function o(p,y,v,T){var x=v.type;return x===va?h(p,y,v.props.children,T,v.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===nr&&Ig(x)===y.type)?(y=r(y,v.props),Ts(y,v),y.return=p,y):(y=po(v.type,v.key,v.props,null,p.mode,T),Ts(y,v),y.return=p,y)}function c(p,y,v,T){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Tc(v,p.mode,T),y.return=p,y):(y=r(y,v.children||[]),y.return=p,y)}function h(p,y,v,T,x){return y===null||y.tag!==7?(y=jr(v,p.mode,T,x),y.return=p,y):(y=r(y,v),y.return=p,y)}function m(p,y,v){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Sc(""+y,p.mode,v),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $l:return v=po(y.type,y.key,y.props,null,p.mode,v),Ts(v,y),v.return=p,v;case Ds:return y=Tc(y,p.mode,v),y.return=p,y;case nr:var T=y._init;return y=T(y._payload),m(p,y,v)}if(Os(y)||ys(y))return y=jr(y,p.mode,v,null),y.return=p,y;if(typeof y.then=="function")return m(p,to(y),v);if(y.$$typeof===Ci)return m(p,Fl(p,y),v);eo(p,y)}return null}function d(p,y,v,T){var x=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return x!==null?null:l(p,y,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $l:return v.key===x?o(p,y,v,T):null;case Ds:return v.key===x?c(p,y,v,T):null;case nr:return x=v._init,v=x(v._payload),d(p,y,v,T)}if(Os(v)||ys(v))return x!==null?null:h(p,y,v,T,null);if(typeof v.then=="function")return d(p,y,to(v),T);if(v.$$typeof===Ci)return d(p,y,Fl(p,v),T);eo(p,v)}return null}function g(p,y,v,T,x){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return p=p.get(v)||null,l(y,p,""+T,x);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case $l:return p=p.get(T.key===null?v:T.key)||null,o(y,p,T,x);case Ds:return p=p.get(T.key===null?v:T.key)||null,c(y,p,T,x);case nr:var k=T._init;return T=k(T._payload),g(p,y,v,T,x)}if(Os(T)||ys(T))return p=p.get(v)||null,h(y,p,T,x,null);if(typeof T.then=="function")return g(p,y,v,to(T),x);if(T.$$typeof===Ci)return g(p,y,v,Fl(y,T),x);eo(y,T)}return null}function A(p,y,v,T){for(var x=null,k=null,R=y,M=y=0,ut=null;R!==null&&M<v.length;M++){R.index>M?(ut=R,R=null):ut=R.sibling;var V=d(p,R,v[M],T);if(V===null){R===null&&(R=ut);break}e&&R&&V.alternate===null&&t(p,R),y=a(V,y,M),k===null?x=V:k.sibling=V,k=V,R=ut}if(M===v.length)return n(p,R),_&&Ur(p,M),x;if(R===null){for(;M<v.length;M++)R=m(p,v[M],T),R!==null&&(y=a(R,y,M),k===null?x=R:k.sibling=R,k=R);return _&&Ur(p,M),x}for(R=i(R);M<v.length;M++)ut=g(R,p,M,v[M],T),ut!==null&&(e&&ut.alternate!==null&&R.delete(ut.key===null?M:ut.key),y=a(ut,y,M),k===null?x=ut:k.sibling=ut,k=ut);return e&&R.forEach(function(_t){return t(p,_t)}),_&&Ur(p,M),x}function E(p,y,v,T){if(v==null)throw Error(N(151));for(var x=null,k=null,R=y,M=y=0,ut=null,V=v.next();R!==null&&!V.done;M++,V=v.next()){R.index>M?(ut=R,R=null):ut=R.sibling;var _t=d(p,R,V.value,T);if(_t===null){R===null&&(R=ut);break}e&&R&&_t.alternate===null&&t(p,R),y=a(_t,y,M),k===null?x=_t:k.sibling=_t,k=_t,R=ut}if(V.done)return n(p,R),_&&Ur(p,M),x;if(R===null){for(;!V.done;M++,V=v.next())V=m(p,V.value,T),V!==null&&(y=a(V,y,M),k===null?x=V:k.sibling=V,k=V);return _&&Ur(p,M),x}for(R=i(R);!V.done;M++,V=v.next())V=g(R,p,M,V.value,T),V!==null&&(e&&V.alternate!==null&&R.delete(V.key===null?M:V.key),y=a(V,y,M),k===null?x=V:k.sibling=V,k=V);return e&&R.forEach(function(We){return t(p,We)}),_&&Ur(p,M),x}function O(p,y,v,T){if(typeof v=="object"&&v!==null&&v.type===va&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case $l:t:{for(var x=v.key;y!==null;){if(y.key===x){if(x=v.type,x===va){if(y.tag===7){n(p,y.sibling),T=r(y,v.props.children),T.return=p,p=T;break t}}else if(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===nr&&Ig(x)===y.type){n(p,y.sibling),T=r(y,v.props),Ts(T,v),T.return=p,p=T;break t}n(p,y);break}else t(p,y);y=y.sibling}v.type===va?(T=jr(v.props.children,p.mode,T,v.key),T.return=p,p=T):(T=po(v.type,v.key,v.props,null,p.mode,T),Ts(T,v),T.return=p,p=T)}return s(p);case Ds:t:{for(x=v.key;y!==null;){if(y.key===x)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(p,y.sibling),T=r(y,v.children||[]),T.return=p,p=T;break t}else{n(p,y);break}else t(p,y);y=y.sibling}T=Tc(v,p.mode,T),T.return=p,p=T}return s(p);case nr:return x=v._init,v=x(v._payload),O(p,y,v,T)}if(Os(v))return A(p,y,v,T);if(ys(v)){if(x=ys(v),typeof x!="function")throw Error(N(150));return v=x.call(v),E(p,y,v,T)}if(typeof v.then=="function")return O(p,y,to(v),T);if(v.$$typeof===Ci)return O(p,y,Fl(p,v),T);eo(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,y!==null&&y.tag===6?(n(p,y.sibling),T=r(y,v),T.return=p,p=T):(n(p,y),T=Sc(v,p.mode,T),T.return=p,p=T),s(p)):n(p,y)}return function(p,y,v,T){try{rl=0;var x=O(p,y,v,T);return qa=null,x}catch(R){if(R===kl||R===ju)throw R;var k=ce(29,R,null,p.mode);return k.lanes=T,k.return=p,k}finally{}}}var Xa=Kp(!0),$p=Kp(!1),Pe=An(null),vn=null;function ar(e){var t=e.alternate;dt(kt,kt.current&1),dt(Pe,e),vn===null&&(t===null||Ka.current!==null||t.memoizedState!==null)&&(vn=e)}function Xp(e){if(e.tag===22){if(dt(kt,kt.current),dt(Pe,e),vn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(vn=e)}}else sr()}function sr(){dt(kt,kt.current),dt(Pe,Pe.current)}function Ii(e){Lt(Pe),vn===e&&(vn=null),Lt(kt)}var kt=An(0);function $o(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Hf(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function wc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ot({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Nf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=me(),r=gr(i);r.payload=t,n!=null&&(r.callback=n),t=mr(e,r,i),t!==null&&(ye(t,e,i),qs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=me(),r=gr(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=mr(e,r,i),t!==null&&(ye(t,e,i),qs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=me(),i=gr(n);i.tag=2,t!=null&&(i.callback=t),t=mr(e,i,n),t!==null&&(ye(t,e,n),qs(t,e,n))}};function Mg(e,t,n,i,r,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,s):t.prototype&&t.prototype.isPureReactComponent?!el(n,i)||!el(r,a):!0}function zg(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Nf.enqueueReplaceState(t,t.state,null)}function ta(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=ot({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var Xo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Zp(e){Xo(e)}function Qp(e){console.error(e)}function _p(e){Xo(e)}function Zo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Ug(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function xf(e,t,n){return n=gr(n),n.tag=3,n.payload={element:null},n.callback=function(){Zo(e,t)},n}function Fp(e){return e=gr(e),e.tag=3,e}function Wp(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){Ug(t,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Ug(t,n,i),typeof r!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function ub(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Cl(t,n,r,!0),n=Pe.current,n!==null){switch(n.tag){case 13:return vn===null?Mf():n.alternate===null&&vt===0&&(vt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===vf?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Mc(e,i,r)),!1;case 22:return n.flags|=65536,i===vf?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Mc(e,i,r)),!1}throw Error(N(435,n.tag))}return Mc(e,i,r),Mf(),!1}if(_)return t=Pe.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==df&&(e=Error(N(422),{cause:i}),nl(ze(e,n)))):(i!==df&&(t=Error(N(423),{cause:i}),nl(ze(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=ze(i,n),r=xf(e.stateNode,i,r),bc(e,r),vt!==4&&(vt=2)),!1;var a=Error(N(520),{cause:i});if(a=ze(a,n),Gs===null?Gs=[a]:Gs.push(a),vt!==4&&(vt=2),t===null)return!0;i=ze(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=xf(n.stateNode,i,e),bc(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(yr===null||!yr.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Fp(r),Wp(r,e,n,i),bc(n,r),!1}n=n.return}while(n!==null);return!1}var tv=Error(N(461)),Ut=!1;function qt(e,t,n,i){t.child=e===null?$p(t,null,n,i):Xa(t,e.child,n,i)}function Lg(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}else s=i;return Fr(t),i=$h(e,t,n,s,a,r),l=Xh(),e!==null&&!Ut?(Zh(e,t,r),ji(e,t,r)):(_&&l&&Ph(t),t.flags|=1,qt(e,t,i,r),t.child)}function qg(e,t,n,i,r){if(e===null){var a=n.type;return typeof a=="function"&&!Jh(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,ev(e,t,a,i,r)):(e=po(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!rd(e,r)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:el,n(s,i)&&e.ref===t.ref)return ji(e,t,r)}return t.flags|=1,e=Li(a,i),e.ref=t.ref,e.return=t,t.child=e}function ev(e,t,n,i,r){if(e!==null){var a=e.memoizedProps;if(el(a,i)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=i=a,rd(e,r))e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,ji(e,t,r)}return Df(e,t,n,i,r)}function nv(e,t,n){var i=t.pendingProps,r=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=a!==null?a.baseLanes|n:n,e!==null){for(r=t.child=e.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~i}else t.childLanes=0,t.child=null;return Jg(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&vo(t,a!==null?a.cachePool:null),a!==null?xg(t,a):bf(),Xp(t);else return t.lanes=t.childLanes=536870912,Jg(e,t,a!==null?a.baseLanes|n:n,n)}else a!==null?(vo(t,a.cachePool),xg(t,a),sr(),t.memoizedState=null):(e!==null&&vo(t,null),bf(),sr());return qt(e,t,r,n),t.child}function Jg(e,t,n,i){var r=jh();return r=r===null?null:{parent:Rt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&vo(t,null),bf(),Xp(t),e!==null&&Cl(e,t,i,!0),null}function bo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(N(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Df(e,t,n,i,r){return Fr(t),n=$h(e,t,n,i,void 0,r),i=Xh(),e!==null&&!Ut?(Zh(e,t,r),ji(e,t,r)):(_&&i&&Ph(t),t.flags|=1,qt(e,t,n,r),t.child)}function Pg(e,t,n,i,r,a){return Fr(t),t.updateQueue=null,n=mp(t,i,n,r),gp(e),i=Xh(),e!==null&&!Ut?(Zh(e,t,a),ji(e,t,a)):(_&&i&&Ph(t),t.flags|=1,qt(e,t,n,a),t.child)}function Hg(e,t,n,i,r){if(Fr(t),t.stateNode===null){var a=xa,s=n.contextType;typeof s=="object"&&s!==null&&(a=Yt(s)),a=new n(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Nf,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},Gh(t),s=n.contextType,a.context=typeof s=="object"&&s!==null?Yt(s):xa,a.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(wc(t,n,s,i),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Nf.enqueueReplaceState(a,a.state,null),Ps(t,i,a,r),Js(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){a=t.stateNode;var l=t.memoizedProps,o=ta(n,l);a.props=o;var c=a.context,h=n.contextType;s=xa,typeof h=="object"&&h!==null&&(s=Yt(h));var m=n.getDerivedStateFromProps;h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||c!==s)&&zg(t,a,i,s),ir=!1;var d=t.memoizedState;a.state=d,Ps(t,i,a,r),Js(),c=t.memoizedState,l||d!==c||ir?(typeof m=="function"&&(wc(t,n,m,i),c=t.memoizedState),(o=ir||Mg(t,n,o,i,d,c,s))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=s,i=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Sf(e,t),s=t.memoizedProps,h=ta(n,s),a.props=h,m=t.pendingProps,d=a.context,c=n.contextType,o=xa,typeof c=="object"&&c!==null&&(o=Yt(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==m||d!==o)&&zg(t,a,i,o),ir=!1,d=t.memoizedState,a.state=d,Ps(t,i,a,r),Js();var g=t.memoizedState;s!==m||d!==g||ir||e!==null&&e.dependencies!==null&&Vo(e.dependencies)?(typeof l=="function"&&(wc(t,n,l,i),g=t.memoizedState),(h=ir||Mg(t,n,h,i,d,g,o)||e!==null&&e.dependencies!==null&&Vo(e.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,g,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,g,o)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),a.props=i,a.state=g,a.context=o,i=h):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,bo(e,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&i?(t.child=Xa(t,e.child,null,r),t.child=Xa(t,null,n,r)):qt(e,t,n,r),t.memoizedState=a.state,e=t.child):e=ji(e,t,r),e}function Vg(e,t,n,i){return Ol(),t.flags|=256,qt(e,t,n,i),t.child}var Ec={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nc(e){return{baseLanes:e,cachePool:up()}}function xc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ue),e}function iv(e,t,n){var i=t.pendingProps,r=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(kt.current&2)!==0),s&&(r=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(_){if(r?ar(t):sr(),_){var l=pt,o;if(o=l){t:{for(o=l,l=rn;o.nodeType!==8;){if(!l){l=null;break t}if(o=Ze(o.nextSibling),o===null){l=null;break t}}l=o}l!==null?(t.memoizedState={dehydrated:l,treeContext:Gr!==null?{id:Ri,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},o=ce(18,null,null,0),o.stateNode=l,o.return=t,t.child=o,Xt=t,pt=null,o=!0):o=!1}o||_r(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return Hf(l)?t.lanes=32:t.lanes=536870912,null;Ii(t)}return l=i.children,i=i.fallback,r?(sr(),r=t.mode,l=Qo({mode:"hidden",children:l},r),i=jr(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,r=t.child,r.memoizedState=Nc(n),r.childLanes=xc(e,s,n),t.memoizedState=Ec,i):(ar(t),Of(t,l))}if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null)){if(a)t.flags&256?(ar(t),t.flags&=-257,t=Dc(e,t,n)):t.memoizedState!==null?(sr(),t.child=e.child,t.flags|=128,t=null):(sr(),r=i.fallback,l=t.mode,i=Qo({mode:"visible",children:i.children},l),r=jr(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,Xa(t,e.child,null,n),i=t.child,i.memoizedState=Nc(n),i.childLanes=xc(e,s,n),t.memoizedState=Ec,t=r);else if(ar(t),Hf(l)){if(s=l.nextSibling&&l.nextSibling.dataset,s)var c=s.dgst;s=c,i=Error(N(419)),i.stack="",i.digest=s,nl({value:i,source:null,stack:null}),t=Dc(e,t,n)}else if(Ut||Cl(e,t,n,!1),s=(n&e.childLanes)!==0,Ut||s){if(s=lt,s!==null&&(i=n&-n,i=i&42?1:Oh(i),i=i&(s.suspendedLanes|n)?0:i,i!==0&&i!==o.retryLane))throw o.retryLane=i,hs(e,i),ye(s,e,i),tv;l.data==="$?"||Mf(),t=Dc(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,pt=Ze(l.nextSibling),Xt=t,_=!0,Yr=null,rn=!1,e!==null&&(Ae[we++]=Ri,Ae[we++]=ki,Ae[we++]=Gr,Ri=e.id,ki=e.overflow,Gr=t),t=Of(t,i.children),t.flags|=4096);return t}return r?(sr(),r=i.fallback,l=t.mode,o=e.child,c=o.sibling,i=Li(o,{mode:"hidden",children:i.children}),i.subtreeFlags=o.subtreeFlags&65011712,c!==null?r=Li(c,r):(r=jr(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,l=e.child.memoizedState,l===null?l=Nc(n):(o=l.cachePool,o!==null?(c=Rt._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=up(),l={baseLanes:l.baseLanes|n,cachePool:o}),r.memoizedState=l,r.childLanes=xc(e,s,n),t.memoizedState=Ec,i):(ar(t),n=e.child,e=n.sibling,n=Li(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Of(e,t){return t=Qo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Qo(e,t){return e=ce(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Dc(e,t,n){return Xa(t,e.child,null,n),e=Of(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jg(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),mf(e.return,t,n)}function Oc(e,t,n,i,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function rv(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(qt(e,t,i.children,n),i=kt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jg(e,n,t);else if(e.tag===19)jg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(dt(kt,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&$o(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Oc(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&$o(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Oc(t,!0,n,null,a);break;case"together":Oc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ji(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dr|=t.lanes,!(n&t.childLanes))if(e!==null){if(Cl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=Li(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Li(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rd(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Vo(e)))}function cb(e,t,n){switch(t.tag){case 3:Mo(t,t.stateNode.containerInfo),rr(t,Rt,e.memoizedState.cache),Ol();break;case 27:case 5:nf(t);break;case 4:Mo(t,t.stateNode.containerInfo);break;case 10:rr(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ar(t),t.flags|=128,null):n&t.child.childLanes?iv(e,t,n):(ar(t),e=ji(e,t,n),e!==null?e.sibling:null);ar(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Cl(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return rv(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),dt(kt,kt.current),i)break;return null;case 22:case 23:return t.lanes=0,nv(e,t,n);case 24:rr(t,Rt,e.memoizedState.cache)}return ji(e,t,n)}function av(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ut=!0;else{if(!rd(e,n)&&!(t.flags&128))return Ut=!1,cb(e,t,n);Ut=!!(e.flags&131072)}else Ut=!1,_&&t.flags&1048576&&lp(t,Ho,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")Jh(i)?(e=ta(i,e),t.tag=1,t=Hg(null,t,i,e,n)):(t.tag=0,t=Df(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===Nh){t.tag=11,t=Lg(null,t,i,e,n);break t}else if(r===xh){t.tag=14,t=qg(null,t,i,e,n);break t}}throw t=tf(i)||i,Error(N(306,t,""))}}return t;case 0:return Df(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=ta(i,t.pendingProps),Hg(e,t,i,r,n);case 3:t:{if(Mo(t,t.stateNode.containerInfo),e===null)throw Error(N(387));i=t.pendingProps;var a=t.memoizedState;r=a.element,Sf(e,t),Ps(t,i,null,n);var s=t.memoizedState;if(i=s.cache,rr(t,Rt,i),i!==a.cache&&yf(t,[Rt],n,!0),Js(),i=s.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=Vg(e,t,i,n);break t}else if(i!==r){r=ze(Error(N(424)),t),nl(r),t=Vg(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(pt=Ze(e.firstChild),Xt=t,_=!0,Yr=null,rn=!0,n=$p(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ol(),i===r){t=ji(e,t,n);break t}qt(e,t,i,n)}t=t.child}return t;case 26:return bo(e,t),e===null?(n=sm(t.type,null,t.pendingProps,null))?t.memoizedState=n:_||(n=t.type,e=t.pendingProps,i=iu(dr.current).createElement(n),i[Gt]=t,i[re]=e,Ht(i,n,e),zt(i),t.stateNode=i):t.memoizedState=sm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return nf(t),e===null&&_&&(i=t.stateNode=Yv(t.type,t.pendingProps,dr.current),Xt=t,rn=!0,r=pt,Br(t.type)?(Vf=r,pt=Ze(i.firstChild)):pt=r),qt(e,t,t.pendingProps.children,n),bo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_&&((r=i=pt)&&(i=qb(i,t.type,t.pendingProps,rn),i!==null?(t.stateNode=i,Xt=t,pt=Ze(i.firstChild),rn=!1,r=!0):r=!1),r||_r(t)),nf(t),r=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,Jf(r,a)?i=null:s!==null&&Jf(r,s)&&(t.flags|=32),t.memoizedState!==null&&(r=$h(e,t,nb,null,null,n),ol._currentValue=r),bo(e,t),qt(e,t,i,n),t.child;case 6:return e===null&&_&&((e=n=pt)&&(n=Jb(n,t.pendingProps,rn),n!==null?(t.stateNode=n,Xt=t,pt=null,e=!0):e=!1),e||_r(t)),null;case 13:return iv(e,t,n);case 4:return Mo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Xa(t,null,i,n):qt(e,t,i,n),t.child;case 11:return Lg(e,t,t.type,t.pendingProps,n);case 7:return qt(e,t,t.pendingProps,n),t.child;case 8:return qt(e,t,t.pendingProps.children,n),t.child;case 12:return qt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,rr(t,t.type,i.value),qt(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Fr(t),r=Yt(r),i=i(r),t.flags|=1,qt(e,t,i,n),t.child;case 14:return qg(e,t,t.type,t.pendingProps,n);case 15:return ev(e,t,t.type,t.pendingProps,n);case 19:return rv(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=Qo(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Li(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return nv(e,t,n);case 24:return Fr(t),i=Yt(Rt),e===null?(r=jh(),r===null&&(r=lt,a=Vh(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:i,cache:r},Gh(t),rr(t,Rt,r)):(e.lanes&n&&(Sf(e,t),Ps(t,null,null,n),Js()),r=e.memoizedState,a=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),rr(t,Rt,i)):(i=a.cache,rr(t,Rt,i),i!==r.cache&&yf(t,[Rt],n,!0))),qt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(N(156,t.tag))}function Nn(e){e.flags|=4}function Gg(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Xv(t)){if(t=Pe.current,t!==null&&((Z&4194048)===Z?vn!==null:(Z&62914560)!==Z&&!(Z&536870912)||t!==vn))throw Ls=vf,cp;e.flags|=8192}}function no(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ky():536870912,e.lanes|=t,Za|=t)}function bs(e,t){if(!_)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function fb(e,t,n){var i=t.pendingProps;switch(Hh(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return gt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),qi(Rt),Va(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ss(t)?Nn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tg())),gt(t),null;case 26:return n=t.memoizedState,e===null?(Nn(t),n!==null?(gt(t),Gg(t,n)):(gt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Nn(t),gt(t),Gg(t,n)):(gt(t),t.flags&=-16777217):(e.memoizedProps!==i&&Nn(t),gt(t),t.flags&=-16777217),null;case 27:zo(t),n=dr.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Nn(t);else{if(!i){if(t.stateNode===null)throw Error(N(166));return gt(t),null}e=yn.current,Ss(t)?vg(t):(e=Yv(r,i,n),t.stateNode=e,Nn(t))}return gt(t),null;case 5:if(zo(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Nn(t);else{if(!i){if(t.stateNode===null)throw Error(N(166));return gt(t),null}if(e=yn.current,Ss(t))vg(t);else{switch(r=iu(dr.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[Gt]=t,e[re]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(Ht(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Nn(t)}}return gt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Nn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(N(166));if(e=dr.current,Ss(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=Xt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Gt]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Vv(e.nodeValue,n)),e||_r(t)}else e=iu(e).createTextNode(i),e[Gt]=t,t.stateNode=e}return gt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ss(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(N(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(N(317));r[Gt]=t}else Ol(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),r=!1}else r=Tg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Ii(t),t):(Ii(t),null)}if(Ii(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var a=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),no(t,t.updateQueue),gt(t),null;case 4:return Va(),e===null&&hd(t.stateNode.containerInfo),gt(t),null;case 10:return qi(t.type),gt(t),null;case 19:if(Lt(kt),r=t.memoizedState,r===null)return gt(t),null;if(i=(t.flags&128)!==0,a=r.rendering,a===null)if(i)bs(r,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=$o(e),a!==null){for(t.flags|=128,bs(r,!1),e=a.updateQueue,t.updateQueue=e,no(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)sp(n,e),n=n.sibling;return dt(kt,kt.current&1|2),t.child}e=e.sibling}r.tail!==null&&pn()>Fo&&(t.flags|=128,i=!0,bs(r,!1),t.lanes=4194304)}else{if(!i)if(e=$o(a),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,no(t,e),bs(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!_)return gt(t),null}else 2*pn()-r.renderingStartTime>Fo&&n!==536870912&&(t.flags|=128,i=!0,bs(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=pn(),t.sibling=null,e=kt.current,dt(kt,i?e&1|2:e&1),t):(gt(t),null);case 22:case 23:return Ii(t),Yh(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),n=t.updateQueue,n!==null&&no(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Lt(Kr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),qi(Rt),gt(t),null;case 25:return null;case 30:return null}throw Error(N(156,t.tag))}function hb(e,t){switch(Hh(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qi(Rt),Va(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return zo(t),null;case 13:if(Ii(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Ol()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Lt(kt),null;case 4:return Va(),null;case 10:return qi(t.type),null;case 22:case 23:return Ii(t),Yh(),e!==null&&Lt(Kr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return qi(Rt),null;case 25:return null;default:return null}}function sv(e,t){switch(Hh(t),t.tag){case 3:qi(Rt),Va();break;case 26:case 27:case 5:zo(t);break;case 4:Va();break;case 13:Ii(t);break;case 19:Lt(kt);break;case 10:qi(t.type);break;case 22:case 23:Ii(t),Yh(),e!==null&&Lt(Kr);break;case 24:qi(Rt)}}function Ml(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create,s=n.inst;i=a(),s.destroy=i}n=n.next}while(n!==r)}}catch(l){st(t,t.return,l)}}function xr(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var a=r.next;i=a;do{if((i.tag&e)===e){var s=i.inst,l=s.destroy;if(l!==void 0){s.destroy=void 0,r=t;var o=n,c=l;try{c()}catch(h){st(r,o,h)}}}i=i.next}while(i!==a)}}catch(h){st(t,t.return,h)}}function lv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{dp(t,n)}catch(i){st(e,e.return,i)}}}function ov(e,t,n){n.props=ta(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){st(e,t,i)}}function Vs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){st(e,t,r)}}function sn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){st(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){st(e,t,r)}else n.current=null}function uv(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){st(e,e.return,r)}}function Cc(e,t,n){try{var i=e.stateNode;Ib(i,e.type,n,t),i[re]=t}catch(r){st(e,e.return,r)}}function cv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Br(e.type)||e.tag===4}function Rc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||cv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Br(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Qu));else if(i!==4&&(i===27&&Br(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Cf(e,t,n),e=e.sibling;e!==null;)Cf(e,t,n),e=e.sibling}function _o(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Br(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(_o(e,t,n),e=e.sibling;e!==null;)_o(e,t,n),e=e.sibling}function fv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ht(t,i,n),t[Gt]=e,t[re]=n}catch(a){st(e,e.return,a)}}var Di=!1,wt=!1,kc=!1,Yg=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function db(e,t){if(e=e.containerInfo,Lf=lu,e=Fy(e),Uh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break t}var s=0,l=-1,o=-1,c=0,h=0,m=e,d=null;e:for(;;){for(var g;m!==n||r!==0&&m.nodeType!==3||(l=s+r),m!==a||i!==0&&m.nodeType!==3||(o=s+i),m.nodeType===3&&(s+=m.nodeValue.length),(g=m.firstChild)!==null;)d=m,m=g;for(;;){if(m===e)break e;if(d===n&&++c===r&&(l=s),d===a&&++h===i&&(o=s),(g=m.nextSibling)!==null)break;m=d,d=m.parentNode}m=g}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(qf={focusedElem:e,selectionRange:n},lu=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){switch(t=Mt,a=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var A=ta(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(A,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(E){st(n,n.return,E)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Pf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(N(163))}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}}function hv(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Qi(e,n),i&4&&Ml(5,n);break;case 1:if(Qi(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){st(n,n.return,s)}else{var r=ta(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){st(n,n.return,s)}}i&64&&lv(n),i&512&&Vs(n,n.return);break;case 3:if(Qi(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{dp(e,t)}catch(s){st(n,n.return,s)}}break;case 27:t===null&&i&4&&fv(n);case 26:case 5:Qi(e,n),t===null&&i&4&&uv(n),i&512&&Vs(n,n.return);break;case 12:Qi(e,n);break;case 13:Qi(e,n),i&4&&mv(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ab.bind(null,n),Pb(e,n))));break;case 22:if(i=n.memoizedState!==null||Di,!i){t=t!==null&&t.memoizedState!==null||wt,r=Di;var a=wt;Di=i,(wt=t)&&!a?Wi(e,n,(n.subtreeFlags&8772)!==0):Qi(e,n),Di=r,wt=a}break;case 30:break;default:Qi(e,n)}}function dv(e){var t=e.alternate;t!==null&&(e.alternate=null,dv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Rh(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ct=null,Wt=!1;function xn(e,t,n){for(n=n.child;n!==null;)gv(e,t,n),n=n.sibling}function gv(e,t,n){if(de&&typeof de.onCommitFiberUnmount=="function")try{de.onCommitFiberUnmount(wl,n)}catch{}switch(n.tag){case 26:wt||sn(n,t),xn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:wt||sn(n,t);var i=ct,r=Wt;Br(n.type)&&(ct=n.stateNode,Wt=!1),xn(e,t,n),Ks(n.stateNode),ct=i,Wt=r;break;case 5:wt||sn(n,t);case 6:if(i=ct,r=Wt,ct=null,xn(e,t,n),ct=i,Wt=r,ct!==null)if(Wt)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(n.stateNode)}catch(a){st(n,t,a)}else try{ct.removeChild(n.stateNode)}catch(a){st(n,t,a)}break;case 18:ct!==null&&(Wt?(e=ct,im(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),fl(e)):im(ct,n.stateNode));break;case 4:i=ct,r=Wt,ct=n.stateNode.containerInfo,Wt=!0,xn(e,t,n),ct=i,Wt=r;break;case 0:case 11:case 14:case 15:wt||xr(2,n,t),wt||xr(4,n,t),xn(e,t,n);break;case 1:wt||(sn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&ov(n,t,i)),xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:wt=(i=wt)||n.memoizedState!==null,xn(e,t,n),wt=i;break;default:xn(e,t,n)}}function mv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fl(e)}catch(n){st(t,t.return,n)}}function gb(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Yg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Yg),t;default:throw Error(N(435,e.tag))}}function Bc(e,t){var n=gb(e);t.forEach(function(i){var r=wb.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function le(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],a=e,s=t,l=s;t:for(;l!==null;){switch(l.tag){case 27:if(Br(l.type)){ct=l.stateNode,Wt=!1;break t}break;case 5:ct=l.stateNode,Wt=!1;break t;case 3:case 4:ct=l.stateNode.containerInfo,Wt=!0;break t}l=l.return}if(ct===null)throw Error(N(160));gv(a,s,r),ct=null,Wt=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)yv(t,e),t=t.sibling}var Ke=null;function yv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:le(t,e),oe(e),i&4&&(xr(3,e,e.return),Ml(3,e),xr(5,e,e.return));break;case 1:le(t,e),oe(e),i&512&&(wt||n===null||sn(n,n.return)),i&64&&Di&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=Ke;if(le(t,e),oe(e),i&512&&(wt||n===null||sn(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":a=r.getElementsByTagName("title")[0],(!a||a[xl]||a[Gt]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),Ht(a,i,n),a[Gt]=e,zt(a),i=a;break t;case"link":var s=om("link","href",r).get(i+(n.href||""));if(s){for(var l=0;l<s.length;l++)if(a=s[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(l,1);break e}}a=r.createElement(i),Ht(a,i,n),r.head.appendChild(a);break;case"meta":if(s=om("meta","content",r).get(i+(n.content||""))){for(l=0;l<s.length;l++)if(a=s[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(l,1);break e}}a=r.createElement(i),Ht(a,i,n),r.head.appendChild(a);break;default:throw Error(N(468,i))}a[Gt]=e,zt(a),i=a}e.stateNode=i}else um(r,e.type,e.stateNode);else e.stateNode=lm(r,i,e.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?um(r,e.type,e.stateNode):lm(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Cc(e,e.memoizedProps,n.memoizedProps)}break;case 27:le(t,e),oe(e),i&512&&(wt||n===null||sn(n,n.return)),n!==null&&i&4&&Cc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(le(t,e),oe(e),i&512&&(wt||n===null||sn(n,n.return)),e.flags&32){r=e.stateNode;try{Ga(r,"")}catch(g){st(e,e.return,g)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Cc(e,r,n!==null?n.memoizedProps:r)),i&1024&&(kc=!0);break;case 6:if(le(t,e),oe(e),i&4){if(e.stateNode===null)throw Error(N(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(g){st(e,e.return,g)}}break;case 3:if(Eo=null,r=Ke,Ke=ru(t.containerInfo),le(t,e),Ke=r,oe(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{fl(t.containerInfo)}catch(g){st(e,e.return,g)}kc&&(kc=!1,pv(e));break;case 4:i=Ke,Ke=ru(e.stateNode.containerInfo),le(t,e),oe(e),Ke=i;break;case 12:le(t,e),oe(e);break;case 13:le(t,e),oe(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ud=pn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Bc(e,i)));break;case 22:r=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,c=Di,h=wt;if(Di=c||r,wt=h||o,le(t,e),wt=h,Di=c,oe(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||o||Di||wt||Lr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(a=o.stateNode,r)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{l=o.stateNode;var m=o.memoizedProps.style,d=m!=null&&m.hasOwnProperty("display")?m.display:null;l.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(g){st(o,o.return,g)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=r?"":o.memoizedProps}catch(g){st(o,o.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Bc(e,n))));break;case 19:le(t,e),oe(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Bc(e,i)));break;case 30:break;case 21:break;default:le(t,e),oe(e)}}function oe(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(cv(i)){n=i;break}i=i.return}if(n==null)throw Error(N(160));switch(n.tag){case 27:var r=n.stateNode,a=Rc(e);_o(e,a,r);break;case 5:var s=n.stateNode;n.flags&32&&(Ga(s,""),n.flags&=-33);var l=Rc(e);_o(e,l,s);break;case 3:case 4:var o=n.stateNode.containerInfo,c=Rc(e);Cf(e,c,o);break;default:throw Error(N(161))}}catch(h){st(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;pv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Qi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)hv(e,t.alternate,t),t=t.sibling}function Lr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:xr(4,t,t.return),Lr(t);break;case 1:sn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ov(t,t.return,n),Lr(t);break;case 27:Ks(t.stateNode);case 26:case 5:sn(t,t.return),Lr(t);break;case 22:t.memoizedState===null&&Lr(t);break;case 30:Lr(t);break;default:Lr(t)}e=e.sibling}}function Wi(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(r,a,n),Ml(4,a);break;case 1:if(Wi(r,a,n),i=a,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){st(i,i.return,c)}if(i=a,r=i.updateQueue,r!==null){var l=i.stateNode;try{var o=r.shared.hiddenCallbacks;if(o!==null)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)hp(o[r],l)}catch(c){st(i,i.return,c)}}n&&s&64&&lv(a),Vs(a,a.return);break;case 27:fv(a);case 26:case 5:Wi(r,a,n),n&&i===null&&s&4&&uv(a),Vs(a,a.return);break;case 12:Wi(r,a,n);break;case 13:Wi(r,a,n),n&&s&4&&mv(r,a);break;case 22:a.memoizedState===null&&Wi(r,a,n),Vs(a,a.return);break;case 30:break;default:Wi(r,a,n)}t=t.sibling}}function ad(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Rl(n))}function sd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Rl(e))}function tn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vv(e,t,n,i),t=t.sibling}function vv(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:tn(e,t,n,i),r&2048&&Ml(9,t);break;case 1:tn(e,t,n,i);break;case 3:tn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Rl(e)));break;case 12:if(r&2048){tn(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,l=a.onPostCommit;typeof l=="function"&&l(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){st(t,t.return,o)}}else tn(e,t,n,i);break;case 13:tn(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,t.memoizedState!==null?a._visibility&2?tn(e,t,n,i):js(e,t):a._visibility&2?tn(e,t,n,i):(a._visibility|=2,ma(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&ad(s,t);break;case 24:tn(e,t,n,i),r&2048&&sd(t.alternate,t);break;default:tn(e,t,n,i)}}function ma(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=e,s=t,l=n,o=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:ma(a,s,l,o,r),Ml(8,s);break;case 23:break;case 22:var h=s.stateNode;s.memoizedState!==null?h._visibility&2?ma(a,s,l,o,r):js(a,s):(h._visibility|=2,ma(a,s,l,o,r)),r&&c&2048&&ad(s.alternate,s);break;case 24:ma(a,s,l,o,r),r&&c&2048&&sd(s.alternate,s);break;default:ma(a,s,l,o,r)}t=t.sibling}}function js(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:js(n,i),r&2048&&ad(i.alternate,i);break;case 24:js(n,i),r&2048&&sd(i.alternate,i);break;default:js(n,i)}t=t.sibling}}var Rs=8192;function ua(e){if(e.subtreeFlags&Rs)for(e=e.child;e!==null;)Sv(e),e=e.sibling}function Sv(e){switch(e.tag){case 26:ua(e),e.flags&Rs&&e.memoizedState!==null&&Wb(Ke,e.memoizedState,e.memoizedProps);break;case 5:ua(e);break;case 3:case 4:var t=Ke;Ke=ru(e.stateNode.containerInfo),ua(e),Ke=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Rs,Rs=16777216,ua(e),Rs=t):ua(e));break;default:ua(e)}}function Tv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function As(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Mt=i,Av(i,e)}Tv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bv(e),e=e.sibling}function bv(e){switch(e.tag){case 0:case 11:case 15:As(e),e.flags&2048&&xr(9,e,e.return);break;case 3:As(e);break;case 12:As(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ao(e)):As(e);break;default:As(e)}}function Ao(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Mt=i,Av(i,e)}Tv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:xr(8,t,t.return),Ao(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ao(t));break;default:Ao(t)}e=e.sibling}}function Av(e,t){for(;Mt!==null;){var n=Mt;switch(n.tag){case 0:case 11:case 15:xr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Rl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Mt=i;else t:for(n=e;Mt!==null;){i=Mt;var r=i.sibling,a=i.return;if(dv(i),i===n){Mt=null;break t}if(r!==null){r.return=a,Mt=r;break t}Mt=a}}}var mb={getCacheForType:function(e){var t=Yt(Rt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},yb=typeof WeakMap=="function"?WeakMap:Map,nt=0,lt=null,K=null,Z=0,tt=0,ue=null,cr=!1,ds=!1,ld=!1,Gi=0,vt=0,Dr=0,$r=0,od=0,Ue=0,Za=0,Gs=null,te=null,Rf=!1,ud=0,Fo=1/0,Wo=null,yr=null,Pt=0,pr=null,Qa=null,Ja=0,kf=0,Bf=null,wv=null,Ys=0,If=null;function me(){if(nt&2&&Z!==0)return Z&-Z;if(q.T!==null){var e=Ya;return e!==0?e:fd()}return My()}function Ev(){Ue===0&&(Ue=!(Z&536870912)||_?Ry():536870912);var e=Pe.current;return e!==null&&(e.flags|=32),Ue}function ye(e,t,n){(e===lt&&(tt===2||tt===9)||e.cancelPendingCommit!==null)&&(_a(e,0),fr(e,Z,Ue,!1)),Nl(e,n),(!(nt&2)||e!==lt)&&(e===lt&&(!(nt&2)&&($r|=n),vt===4&&fr(e,Z,Ue,!1)),wn(e))}function Nv(e,t,n){if(nt&6)throw Error(N(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||El(e,t),r=i?Sb(e,t):Ic(e,t,!0),a=i;do{if(r===0){ds&&!i&&fr(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!pb(n)){r=Ic(e,t,!1),a=!1;continue}if(r===2){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;t:{var l=e;r=Gs;var o=l.current.memoizedState.isDehydrated;if(o&&(_a(l,s).flags|=256),s=Ic(l,s,!1),s!==2){if(ld&&!o){l.errorRecoveryDisabledLanes|=a,$r|=a,r=4;break t}a=te,te=r,a!==null&&(te===null?te=a:te.push.apply(te,a))}r=s}if(a=!1,r!==2)continue}}if(r===1){_a(e,0),fr(e,t,0,!0);break}t:{switch(i=e,a=r,a){case 0:case 1:throw Error(N(345));case 4:if((t&4194048)!==t)break;case 6:fr(i,t,Ue,!cr);break t;case 2:te=null;break;case 3:case 5:break;default:throw Error(N(329))}if((t&62914560)===t&&(r=ud+300-pn(),10<r)){if(fr(i,t,Ue,!cr),Lu(i,0,!0)!==0)break t;i.timeoutHandle=Gv(Kg.bind(null,i,n,te,Wo,Rf,t,Ue,$r,Za,cr,a,2,-0,0),r);break t}Kg(i,n,te,Wo,Rf,t,Ue,$r,Za,cr,a,0,-0,0)}}break}while(!0);wn(e)}function Kg(e,t,n,i,r,a,s,l,o,c,h,m,d,g){if(e.timeoutHandle=-1,m=t.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(ll={stylesheets:null,count:0,unsuspend:Fb},Sv(t),m=t1(),m!==null)){e.cancelPendingCommit=m(Xg.bind(null,e,t,a,n,i,r,s,l,o,h,1,d,g)),fr(e,a,s,!c);return}Xg(e,t,a,n,i,r,s,l,o)}function pb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!Se(a(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fr(e,t,n,i){t&=~od,t&=~$r,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-ge(r),s=1<<a;i[a]=-1,r&=~s}n!==0&&By(e,n,t)}function $u(){return nt&6?!0:(zl(0),!1)}function cd(){if(K!==null){if(tt===0)var e=K.return;else e=K,Bi=la=null,Qh(e),qa=null,rl=0,e=K;for(;e!==null;)sv(e.alternate,e),e=e.return;K=null}}function _a(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,zb(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),cd(),lt=e,K=n=Li(e.current,null),Z=t,tt=0,ue=null,cr=!1,ds=El(e,t),ld=!1,Za=Ue=od=$r=Dr=vt=0,te=Gs=null,Rf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-ge(i),a=1<<r;t|=e[r],i&=~a}return Gi=t,Hu(),n}function xv(e,t){H=null,q.H=Ko,t===kl||t===ju?(t=Eg(),tt=3):t===cp?(t=Eg(),tt=4):tt=t===tv?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ue=t,K===null&&(vt=1,Zo(e,ze(t,e.current)))}function Dv(){var e=q.H;return q.H=Ko,e===null?Ko:e}function Ov(){var e=q.A;return q.A=mb,e}function Mf(){vt=4,cr||(Z&4194048)!==Z&&Pe.current!==null||(ds=!0),!(Dr&134217727)&&!($r&134217727)||lt===null||fr(lt,Z,Ue,!1)}function Ic(e,t,n){var i=nt;nt|=2;var r=Dv(),a=Ov();(lt!==e||Z!==t)&&(Wo=null,_a(e,t)),t=!1;var s=vt;t:do try{if(tt!==0&&K!==null){var l=K,o=ue;switch(tt){case 8:cd(),s=6;break t;case 3:case 2:case 9:case 6:Pe.current===null&&(t=!0);var c=tt;if(tt=0,ue=null,Ca(e,l,o,c),n&&ds){s=0;break t}break;default:c=tt,tt=0,ue=null,Ca(e,l,o,c)}}vb(),s=vt;break}catch(h){xv(e,h)}while(!0);return t&&e.shellSuspendCounter++,Bi=la=null,nt=i,q.H=r,q.A=a,K===null&&(lt=null,Z=0,Hu()),s}function vb(){for(;K!==null;)Cv(K)}function Sb(e,t){var n=nt;nt|=2;var i=Dv(),r=Ov();lt!==e||Z!==t?(Wo=null,Fo=pn()+500,_a(e,t)):ds=El(e,t);t:do try{if(tt!==0&&K!==null){t=K;var a=ue;e:switch(tt){case 1:tt=0,ue=null,Ca(e,t,a,1);break;case 2:case 9:if(wg(a)){tt=0,ue=null,$g(t);break}t=function(){tt!==2&&tt!==9||lt!==e||(tt=7),wn(e)},a.then(t,t);break t;case 3:tt=7;break t;case 4:tt=5;break t;case 7:wg(a)?(tt=0,ue=null,$g(t)):(tt=0,ue=null,Ca(e,t,a,7));break;case 5:var s=null;switch(K.tag){case 26:s=K.memoizedState;case 5:case 27:var l=K;if(!s||Xv(s)){tt=0,ue=null;var o=l.sibling;if(o!==null)K=o;else{var c=l.return;c!==null?(K=c,Xu(c)):K=null}break e}}tt=0,ue=null,Ca(e,t,a,5);break;case 6:tt=0,ue=null,Ca(e,t,a,6);break;case 8:cd(),vt=6;break t;default:throw Error(N(462))}}Tb();break}catch(h){xv(e,h)}while(!0);return Bi=la=null,q.H=i,q.A=r,nt=n,K!==null?0:(lt=null,Z=0,Hu(),vt)}function Tb(){for(;K!==null&&!VS();)Cv(K)}function Cv(e){var t=av(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,t===null?Xu(e):K=t}function $g(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Pg(n,t,t.pendingProps,t.type,void 0,Z);break;case 11:t=Pg(n,t,t.pendingProps,t.type.render,t.ref,Z);break;case 5:Qh(t);default:sv(n,t),t=K=sp(t,Gi),t=av(n,t,Gi)}e.memoizedProps=e.pendingProps,t===null?Xu(e):K=t}function Ca(e,t,n,i){Bi=la=null,Qh(t),qa=null,rl=0;var r=t.return;try{if(ub(e,r,t,n,Z)){vt=1,Zo(e,ze(n,e.current)),K=null;return}}catch(a){if(r!==null)throw K=r,a;vt=1,Zo(e,ze(n,e.current)),K=null;return}t.flags&32768?(_||i===1?e=!0:ds||Z&536870912?e=!1:(cr=e=!0,(i===2||i===9||i===3||i===6)&&(i=Pe.current,i!==null&&i.tag===13&&(i.flags|=16384))),Rv(t,e)):Xu(t)}function Xu(e){var t=e;do{if(t.flags&32768){Rv(t,cr);return}e=t.return;var n=fb(t.alternate,t,Gi);if(n!==null){K=n;return}if(t=t.sibling,t!==null){K=t;return}K=t=e}while(t!==null);vt===0&&(vt=5)}function Rv(e,t){do{var n=hb(e.alternate,e);if(n!==null){n.flags&=32767,K=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){K=e;return}K=e=n}while(e!==null);vt=6,K=null}function Xg(e,t,n,i,r,a,s,l,o){e.cancelPendingCommit=null;do Zu();while(Pt!==0);if(nt&6)throw Error(N(327));if(t!==null){if(t===e.current)throw Error(N(177));if(a=t.lanes|t.childLanes,a|=Lh,FS(e,n,a,s,l,o),e===lt&&(K=lt=null,Z=0),Qa=t,pr=e,Ja=n,kf=a,Bf=r,wv=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Eb(Uo,function(){return zv(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=q.T,q.T=null,r=F.p,F.p=2,s=nt,nt|=4;try{db(e,t,n)}finally{nt=s,F.p=r,q.T=i}}Pt=1,kv(),Bv(),Iv()}}function kv(){if(Pt===1){Pt=0;var e=pr,t=Qa,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=q.T,q.T=null;var i=F.p;F.p=2;var r=nt;nt|=4;try{yv(t,e);var a=qf,s=Fy(e.containerInfo),l=a.focusedElem,o=a.selectionRange;if(s!==l&&l&&l.ownerDocument&&_y(l.ownerDocument.documentElement,l)){if(o!==null&&Uh(l)){var c=o.start,h=o.end;if(h===void 0&&(h=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(h,l.value.length);else{var m=l.ownerDocument||document,d=m&&m.defaultView||window;if(d.getSelection){var g=d.getSelection(),A=l.textContent.length,E=Math.min(o.start,A),O=o.end===void 0?E:Math.min(o.end,A);!g.extend&&E>O&&(s=O,O=E,E=s);var p=mg(l,E),y=mg(l,O);if(p&&y&&(g.rangeCount!==1||g.anchorNode!==p.node||g.anchorOffset!==p.offset||g.focusNode!==y.node||g.focusOffset!==y.offset)){var v=m.createRange();v.setStart(p.node,p.offset),g.removeAllRanges(),E>O?(g.addRange(v),g.extend(y.node,y.offset)):(v.setEnd(y.node,y.offset),g.addRange(v))}}}}for(m=[],g=l;g=g.parentNode;)g.nodeType===1&&m.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<m.length;l++){var T=m[l];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}lu=!!Lf,qf=Lf=null}finally{nt=r,F.p=i,q.T=n}}e.current=t,Pt=2}}function Bv(){if(Pt===2){Pt=0;var e=pr,t=Qa,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=q.T,q.T=null;var i=F.p;F.p=2;var r=nt;nt|=4;try{hv(e,t.alternate,t)}finally{nt=r,F.p=i,q.T=n}}Pt=3}}function Iv(){if(Pt===4||Pt===3){Pt=0,jS();var e=pr,t=Qa,n=Ja,i=wv;t.subtreeFlags&10256||t.flags&10256?Pt=5:(Pt=0,Qa=pr=null,Mv(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(yr=null),Ch(n),t=t.stateNode,de&&typeof de.onCommitFiberRoot=="function")try{de.onCommitFiberRoot(wl,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=q.T,r=F.p,F.p=2,q.T=null;try{for(var a=e.onRecoverableError,s=0;s<i.length;s++){var l=i[s];a(l.value,{componentStack:l.stack})}}finally{q.T=t,F.p=r}}Ja&3&&Zu(),wn(e),r=e.pendingLanes,n&4194090&&r&42?e===If?Ys++:(Ys=0,If=e):Ys=0,zl(0)}}function Mv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Rl(t)))}function Zu(e){return kv(),Bv(),Iv(),zv()}function zv(){if(Pt!==5)return!1;var e=pr,t=kf;kf=0;var n=Ch(Ja),i=q.T,r=F.p;try{F.p=32>n?32:n,q.T=null,n=Bf,Bf=null;var a=pr,s=Ja;if(Pt=0,Qa=pr=null,Ja=0,nt&6)throw Error(N(331));var l=nt;if(nt|=4,bv(a.current),vv(a,a.current,s,n),nt=l,zl(0,!1),de&&typeof de.onPostCommitFiberRoot=="function")try{de.onPostCommitFiberRoot(wl,a)}catch{}return!0}finally{F.p=r,q.T=i,Mv(e,t)}}function Zg(e,t,n){t=ze(n,t),t=xf(e.stateNode,t,2),e=mr(e,t,2),e!==null&&(Nl(e,2),wn(e))}function st(e,t,n){if(e.tag===3)Zg(e,e,n);else for(;t!==null;){if(t.tag===3){Zg(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(yr===null||!yr.has(i))){e=ze(n,e),n=Fp(2),i=mr(t,n,2),i!==null&&(Wp(n,i,t,e),Nl(i,2),wn(i));break}}t=t.return}}function Mc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new yb;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(ld=!0,r.add(n),e=bb.bind(null,e,t,n),t.then(e,e))}function bb(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,lt===e&&(Z&n)===n&&(vt===4||vt===3&&(Z&62914560)===Z&&300>pn()-ud?!(nt&2)&&_a(e,0):od|=n,Za===Z&&(Za=0)),wn(e)}function Uv(e,t){t===0&&(t=ky()),e=hs(e,t),e!==null&&(Nl(e,t),wn(e))}function Ab(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Uv(e,n)}function wb(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(N(314))}i!==null&&i.delete(t),Uv(e,n)}function Eb(e,t){return Dh(e,t)}var tu=null,ya=null,zf=!1,eu=!1,zc=!1,Xr=0;function wn(e){e!==ya&&e.next===null&&(ya===null?tu=ya=e:ya=ya.next=e),eu=!0,zf||(zf=!0,xb())}function zl(e,t){if(!zc&&eu){zc=!0;do for(var n=!1,i=tu;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var a=0;else{var s=i.suspendedLanes,l=i.pingedLanes;a=(1<<31-ge(42|e)+1)-1,a&=r&~(s&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Qg(i,a))}else a=Z,a=Lu(i,i===lt?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||El(i,a)||(n=!0,Qg(i,a));i=i.next}while(n);zc=!1}}function Nb(){Lv()}function Lv(){eu=zf=!1;var e=0;Xr!==0&&(Mb()&&(e=Xr),Xr=0);for(var t=pn(),n=null,i=tu;i!==null;){var r=i.next,a=qv(i,t);a===0?(i.next=null,n===null?tu=r:n.next=r,r===null&&(ya=n)):(n=i,(e!==0||a&3)&&(eu=!0)),i=r}zl(e)}function qv(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var s=31-ge(a),l=1<<s,o=r[s];o===-1?(!(l&n)||l&i)&&(r[s]=_S(l,t)):o<=t&&(e.expiredLanes|=l),a&=~l}if(t=lt,n=Z,n=Lu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(tt===2||tt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&lc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||El(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&lc(i),Ch(n)){case 2:case 8:n=Oy;break;case 32:n=Uo;break;case 268435456:n=Cy;break;default:n=Uo}return i=Jv.bind(null,e),n=Dh(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&lc(i),e.callbackPriority=2,e.callbackNode=null,2}function Jv(e,t){if(Pt!==0&&Pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Zu()&&e.callbackNode!==n)return null;var i=Z;return i=Lu(e,e===lt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Nv(e,i,t),qv(e,pn()),e.callbackNode!=null&&e.callbackNode===n?Jv.bind(null,e):null)}function Qg(e,t){if(Zu())return null;Nv(e,t,!0)}function xb(){Ub(function(){nt&6?Dh(Dy,Nb):Lv()})}function fd(){return Xr===0&&(Xr=Ry()),Xr}function _g(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:go(""+e)}function Fg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Db(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var a=_g((r[re]||null).action),s=i.submitter;s&&(t=(t=s[re]||null)?_g(t.formAction):s.getAttribute("formAction"),t!==null&&(a=t,s=null));var l=new qu("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Xr!==0){var o=s?Fg(r,s):new FormData(r);Ef(n,{pending:!0,data:o,method:r.method,action:a},null,o)}}else typeof a=="function"&&(l.preventDefault(),o=s?Fg(r,s):new FormData(r),Ef(n,{pending:!0,data:o,method:r.method,action:a},a,o))},currentTarget:r}]})}}for(var Uc=0;Uc<hf.length;Uc++){var Lc=hf[Uc],Ob=Lc.toLowerCase(),Cb=Lc[0].toUpperCase()+Lc.slice(1);Fe(Ob,"on"+Cb)}Fe(tp,"onAnimationEnd");Fe(ep,"onAnimationIteration");Fe(np,"onAnimationStart");Fe("dblclick","onDoubleClick");Fe("focusin","onFocus");Fe("focusout","onBlur");Fe(KT,"onTransitionRun");Fe($T,"onTransitionStart");Fe(XT,"onTransitionCancel");Fe(ip,"onTransitionEnd");ja("onMouseEnter",["mouseout","mouseover"]);ja("onMouseLeave",["mouseout","mouseover"]);ja("onPointerEnter",["pointerout","pointerover"]);ja("onPointerLeave",["pointerout","pointerover"]);ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Pv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var a=void 0;if(t)for(var s=i.length-1;0<=s;s--){var l=i[s],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==a&&r.isPropagationStopped())break t;a=l,r.currentTarget=c;try{a(r)}catch(h){Xo(h)}r.currentTarget=null,a=o}else for(s=0;s<i.length;s++){if(l=i[s],o=l.instance,c=l.currentTarget,l=l.listener,o!==a&&r.isPropagationStopped())break t;a=l,r.currentTarget=c;try{a(r)}catch(h){Xo(h)}r.currentTarget=null,a=o}}}}function Y(e,t){var n=t[af];n===void 0&&(n=t[af]=new Set);var i=e+"__bubble";n.has(i)||(Hv(t,e,2,!1),n.add(i))}function qc(e,t,n){var i=0;t&&(i|=4),Hv(n,e,i,t)}var io="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[io]){e[io]=!0,zy.forEach(function(n){n!=="selectionchange"&&(Rb.has(n)||qc(n,!1,e),qc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[io]||(t[io]=!0,qc("selectionchange",!1,t))}}function Hv(e,t,n,i){switch(Wv(t)){case 2:var r=i1;break;case 8:r=r1;break;default:r=yd}n=r.bind(null,t,n,e),r=void 0,!uf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Jc(e,t,n,i,r){var a=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var l=i.stateNode.containerInfo;if(l===r)break;if(s===4)for(s=i.return;s!==null;){var o=s.tag;if((o===3||o===4)&&s.stateNode.containerInfo===r)return;s=s.return}for(;l!==null;){if(s=Ta(l),s===null)return;if(o=s.tag,o===5||o===6||o===26||o===27){i=a=s;continue t}l=l.parentNode}}i=i.return}jy(function(){var c=a,h=Bh(n),m=[];t:{var d=rp.get(e);if(d!==void 0){var g=qu,A=e;switch(e){case"keypress":if(yo(n)===0)break t;case"keydown":case"keyup":g=ET;break;case"focusin":A="focus",g=mc;break;case"focusout":A="blur",g=mc;break;case"beforeblur":case"afterblur":g=mc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ag;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=hT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=DT;break;case tp:case ep:case np:g=mT;break;case ip:g=CT;break;case"scroll":case"scrollend":g=cT;break;case"wheel":g=kT;break;case"copy":case"cut":case"paste":g=pT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=lg;break;case"toggle":case"beforetoggle":g=IT}var E=(t&4)!==0,O=!E&&(e==="scroll"||e==="scrollend"),p=E?d!==null?d+"Capture":null:d;E=[];for(var y=c,v;y!==null;){var T=y;if(v=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||v===null||p===null||(T=Ws(y,p),T!=null&&E.push(sl(y,T,v))),O)break;y=y.return}0<E.length&&(d=new g(d,A,null,n,h),m.push({event:d,listeners:E}))}}if(!(t&7)){t:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&n!==of&&(A=n.relatedTarget||n.fromElement)&&(Ta(A)||A[cs]))break t;if((g||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,g?(A=n.relatedTarget||n.toElement,g=c,A=A?Ta(A):null,A!==null&&(O=Al(A),E=A.tag,A!==O||E!==5&&E!==27&&E!==6)&&(A=null)):(g=null,A=c),g!==A)){if(E=ag,T="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(E=lg,T="onPointerLeave",p="onPointerEnter",y="pointer"),O=g==null?d:Cs(g),v=A==null?d:Cs(A),d=new E(T,y+"leave",g,n,h),d.target=O,d.relatedTarget=v,T=null,Ta(h)===c&&(E=new E(p,y+"enter",A,n,h),E.target=v,E.relatedTarget=O,T=E),O=T,g&&A)e:{for(E=g,p=A,y=0,v=E;v;v=ca(v))y++;for(v=0,T=p;T;T=ca(T))v++;for(;0<y-v;)E=ca(E),y--;for(;0<v-y;)p=ca(p),v--;for(;y--;){if(E===p||p!==null&&E===p.alternate)break e;E=ca(E),p=ca(p)}E=null}else E=null;g!==null&&Wg(m,d,g,E,!1),A!==null&&O!==null&&Wg(m,O,A,E,!0)}}t:{if(d=c?Cs(c):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var x=fg;else if(cg(d))if(Zy)x=jT;else{x=HT;var k=PT}else g=d.nodeName,!g||g.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&kh(c.elementType)&&(x=fg):x=VT;if(x&&(x=x(e,c))){Xy(m,x,n,h);break t}k&&k(e,d,c),e==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&lf(d,"number",d.value)}switch(k=c?Cs(c):window,e){case"focusin":(cg(k)||k.contentEditable==="true")&&(wa=k,cf=c,zs=null);break;case"focusout":zs=cf=wa=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,yg(m,n,h);break;case"selectionchange":if(YT)break;case"keydown":case"keyup":yg(m,n,h)}var R;if(zh)t:{switch(e){case"compositionstart":var M="onCompositionStart";break t;case"compositionend":M="onCompositionEnd";break t;case"compositionupdate":M="onCompositionUpdate";break t}M=void 0}else Aa?Ky(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Yy&&n.locale!=="ko"&&(Aa||M!=="onCompositionStart"?M==="onCompositionEnd"&&Aa&&(R=Gy()):(ur=h,Ih="value"in ur?ur.value:ur.textContent,Aa=!0)),k=nu(c,M),0<k.length&&(M=new sg(M,e,null,n,h),m.push({event:M,listeners:k}),R?M.data=R:(R=$y(n),R!==null&&(M.data=R)))),(R=zT?UT(e,n):LT(e,n))&&(M=nu(c,"onBeforeInput"),0<M.length&&(k=new sg("onBeforeInput","beforeinput",null,n,h),m.push({event:k,listeners:M}),k.data=R)),Db(m,e,c,n,h)}Pv(m,t)})}function sl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=Ws(e,n),r!=null&&i.unshift(sl(e,r,a)),r=Ws(e,t),r!=null&&i.push(sl(e,r,a))),e.tag===3)return i;e=e.return}return[]}function ca(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wg(e,t,n,i,r){for(var a=t._reactName,s=[];n!==null&&n!==i;){var l=n,o=l.alternate,c=l.stateNode;if(l=l.tag,o!==null&&o===i)break;l!==5&&l!==26&&l!==27||c===null||(o=c,r?(c=Ws(n,a),c!=null&&s.unshift(sl(n,c,o))):r||(c=Ws(n,a),c!=null&&s.push(sl(n,c,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var kb=/\r\n?/g,Bb=/\u0000|\uFFFD/g;function tm(e){return(typeof e=="string"?e:""+e).replace(kb,`
`).replace(Bb,"")}function Vv(e,t){return t=tm(t),tm(e)===t}function Qu(){}function it(e,t,n,i,r,a){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ga(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ga(e,""+i);break;case"className":Ql(e,"class",i);break;case"tabIndex":Ql(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ql(e,n,i);break;case"style":Vy(e,i,a);break;case"data":if(t!=="object"){Ql(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=go(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&it(e,t,"name",r.name,r,null),it(e,t,"formEncType",r.formEncType,r,null),it(e,t,"formMethod",r.formMethod,r,null),it(e,t,"formTarget",r.formTarget,r,null)):(it(e,t,"encType",r.encType,r,null),it(e,t,"method",r.method,r,null),it(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=go(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Qu);break;case"onScroll":i!=null&&Y("scroll",e);break;case"onScrollEnd":i!=null&&Y("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(N(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(N(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=go(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Y("beforetoggle",e),Y("toggle",e),ho(e,"popover",i);break;case"xlinkActuate":En(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":En(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":En(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":En(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":En(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":En(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":En(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":En(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":En(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ho(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=oT.get(n)||n,ho(e,n,i))}}function Uf(e,t,n,i,r,a){switch(n){case"style":Vy(e,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(N(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(N(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Ga(e,i):(typeof i=="number"||typeof i=="bigint")&&Ga(e,""+i);break;case"onScroll":i!=null&&Y("scroll",e);break;case"onScrollEnd":i!=null&&Y("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uy.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),a=e[re]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,r),typeof i=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):ho(e,n,i)}}}function Ht(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Y("error",e),Y("load",e);var i=!1,r=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(N(137,t));default:it(e,t,a,s,n,null)}}r&&it(e,t,"srcSet",n.srcSet,n,null),i&&it(e,t,"src",n.src,n,null);return;case"input":Y("invalid",e);var l=a=s=r=null,o=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":r=h;break;case"type":s=h;break;case"checked":o=h;break;case"defaultChecked":c=h;break;case"value":a=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(N(137,t));break;default:it(e,t,i,h,n,null)}}Jy(e,a,l,o,c,s,r,!1),Lo(e);return;case"select":Y("invalid",e),i=s=a=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":a=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:it(e,t,r,l,n,null)}t=a,n=s,e.multiple=!!i,t!=null?Ia(e,!!i,t,!1):n!=null&&Ia(e,!!i,n,!0);return;case"textarea":Y("invalid",e),a=r=i=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":i=l;break;case"defaultValue":r=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(N(91));break;default:it(e,t,s,l,n,null)}Hy(e,i,r,a),Lo(e);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(i=n[o],i!=null))switch(o){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:it(e,t,o,i,n,null)}return;case"dialog":Y("beforetoggle",e),Y("toggle",e),Y("cancel",e),Y("close",e);break;case"iframe":case"object":Y("load",e);break;case"video":case"audio":for(i=0;i<al.length;i++)Y(al[i],e);break;case"image":Y("error",e),Y("load",e);break;case"details":Y("toggle",e);break;case"embed":case"source":case"link":Y("error",e),Y("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(N(137,t));default:it(e,t,c,i,n,null)}return;default:if(kh(t)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&Uf(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&it(e,t,l,i,n,null))}function Ib(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,s=null,l=null,o=null,c=null,h=null;for(g in n){var m=n[g];if(n.hasOwnProperty(g)&&m!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":o=m;default:i.hasOwnProperty(g)||it(e,t,g,null,i,m)}}for(var d in i){var g=i[d];if(m=n[d],i.hasOwnProperty(d)&&(g!=null||m!=null))switch(d){case"type":a=g;break;case"name":r=g;break;case"checked":c=g;break;case"defaultChecked":h=g;break;case"value":s=g;break;case"defaultValue":l=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(N(137,t));break;default:g!==m&&it(e,t,d,g,i,m)}}sf(e,s,l,o,c,h,a,r);return;case"select":g=s=l=d=null;for(a in n)if(o=n[a],n.hasOwnProperty(a)&&o!=null)switch(a){case"value":break;case"multiple":g=o;default:i.hasOwnProperty(a)||it(e,t,a,null,i,o)}for(r in i)if(a=i[r],o=n[r],i.hasOwnProperty(r)&&(a!=null||o!=null))switch(r){case"value":d=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==o&&it(e,t,r,a,i,o)}t=l,n=s,i=g,d!=null?Ia(e,!!n,d,!1):!!i!=!!n&&(t!=null?Ia(e,!!n,t,!0):Ia(e,!!n,n?[]:"",!1));return;case"textarea":g=d=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:it(e,t,l,null,i,r)}for(s in i)if(r=i[s],a=n[s],i.hasOwnProperty(s)&&(r!=null||a!=null))switch(s){case"value":d=r;break;case"defaultValue":g=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(N(91));break;default:r!==a&&it(e,t,s,r,i,a)}Py(e,d,g);return;case"option":for(var A in n)if(d=n[A],n.hasOwnProperty(A)&&d!=null&&!i.hasOwnProperty(A))switch(A){case"selected":e.selected=!1;break;default:it(e,t,A,null,i,d)}for(o in i)if(d=i[o],g=n[o],i.hasOwnProperty(o)&&d!==g&&(d!=null||g!=null))switch(o){case"selected":e.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:it(e,t,o,d,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)d=n[E],n.hasOwnProperty(E)&&d!=null&&!i.hasOwnProperty(E)&&it(e,t,E,null,i,d);for(c in i)if(d=i[c],g=n[c],i.hasOwnProperty(c)&&d!==g&&(d!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(N(137,t));break;default:it(e,t,c,d,i,g)}return;default:if(kh(t)){for(var O in n)d=n[O],n.hasOwnProperty(O)&&d!==void 0&&!i.hasOwnProperty(O)&&Uf(e,t,O,void 0,i,d);for(h in i)d=i[h],g=n[h],!i.hasOwnProperty(h)||d===g||d===void 0&&g===void 0||Uf(e,t,h,d,i,g);return}}for(var p in n)d=n[p],n.hasOwnProperty(p)&&d!=null&&!i.hasOwnProperty(p)&&it(e,t,p,null,i,d);for(m in i)d=i[m],g=n[m],!i.hasOwnProperty(m)||d===g||d==null&&g==null||it(e,t,m,d,i,g)}var Lf=null,qf=null;function iu(e){return e.nodeType===9?e:e.ownerDocument}function em(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Jf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pc=null;function Mb(){var e=window.event;return e&&e.type==="popstate"?e===Pc?!1:(Pc=e,!0):(Pc=null,!1)}var Gv=typeof setTimeout=="function"?setTimeout:void 0,zb=typeof clearTimeout=="function"?clearTimeout:void 0,nm=typeof Promise=="function"?Promise:void 0,Ub=typeof queueMicrotask=="function"?queueMicrotask:typeof nm<"u"?function(e){return nm.resolve(null).then(e).catch(Lb)}:Gv;function Lb(e){setTimeout(function(){throw e})}function Br(e){return e==="head"}function im(e,t){var n=t,i=0,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<i&&8>i){n=i;var s=e.ownerDocument;if(n&1&&Ks(s.documentElement),n&2&&Ks(s.body),n&4)for(n=s.head,Ks(n),s=n.firstChild;s;){var l=s.nextSibling,o=s.nodeName;s[xl]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=l}}if(r===0){e.removeChild(a),fl(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=a}while(n);fl(t)}function Pf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pf(n),Rh(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function qb(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[xl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=Ze(e.nextSibling),e===null)break}return null}function Jb(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ze(e.nextSibling),e===null))return null;return e}function Hf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Pb(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Ze(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Vf=null;function rm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Yv(e,t,n){switch(t=iu(n),e){case"html":if(e=t.documentElement,!e)throw Error(N(452));return e;case"head":if(e=t.head,!e)throw Error(N(453));return e;case"body":if(e=t.body,!e)throw Error(N(454));return e;default:throw Error(N(451))}}function Ks(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Rh(e)}var He=new Map,am=new Set;function ru(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=F.d;F.d={f:Hb,r:Vb,D:jb,C:Gb,L:Yb,m:Kb,X:Xb,S:$b,M:Zb};function Hb(){var e=$i.f(),t=$u();return e||t}function Vb(e){var t=fs(e);t!==null&&t.tag===5&&t.type==="form"?qp(t):$i.r(e)}var gs=typeof document>"u"?null:document;function Kv(e,t,n){var i=gs;if(i&&typeof t=="string"&&t){var r=Me(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),am.has(r)||(am.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),Ht(t,"link",e),zt(t),i.head.appendChild(t)))}}function jb(e){$i.D(e),Kv("dns-prefetch",e,null)}function Gb(e,t){$i.C(e,t),Kv("preconnect",e,t)}function Yb(e,t,n){$i.L(e,t,n);var i=gs;if(i&&e&&t){var r='link[rel="preload"][as="'+Me(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Me(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Me(n.imageSizes)+'"]')):r+='[href="'+Me(e)+'"]';var a=r;switch(t){case"style":a=Fa(e);break;case"script":a=ms(e)}He.has(a)||(e=ot({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),He.set(a,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(Ul(a))||t==="script"&&i.querySelector(Ll(a))||(t=i.createElement("link"),Ht(t,"link",e),zt(t),i.head.appendChild(t)))}}function Kb(e,t){$i.m(e,t);var n=gs;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Me(i)+'"][href="'+Me(e)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=ms(e)}if(!He.has(a)&&(e=ot({rel:"modulepreload",href:e},t),He.set(a,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ll(a)))return}i=n.createElement("link"),Ht(i,"link",e),zt(i),n.head.appendChild(i)}}}function $b(e,t,n){$i.S(e,t,n);var i=gs;if(i&&e){var r=Ba(i).hoistableStyles,a=Fa(e);t=t||"default";var s=r.get(a);if(!s){var l={loading:0,preload:null};if(s=i.querySelector(Ul(a)))l.loading=5;else{e=ot({rel:"stylesheet",href:e,"data-precedence":t},n),(n=He.get(a))&&dd(e,n);var o=s=i.createElement("link");zt(o),Ht(o,"link",e),o._p=new Promise(function(c,h){o.onload=c,o.onerror=h}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,wo(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:l},r.set(a,s)}}}function Xb(e,t){$i.X(e,t);var n=gs;if(n&&e){var i=Ba(n).hoistableScripts,r=ms(e),a=i.get(r);a||(a=n.querySelector(Ll(r)),a||(e=ot({src:e,async:!0},t),(t=He.get(r))&&gd(e,t),a=n.createElement("script"),zt(a),Ht(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function Zb(e,t){$i.M(e,t);var n=gs;if(n&&e){var i=Ba(n).hoistableScripts,r=ms(e),a=i.get(r);a||(a=n.querySelector(Ll(r)),a||(e=ot({src:e,async:!0,type:"module"},t),(t=He.get(r))&&gd(e,t),a=n.createElement("script"),zt(a),Ht(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function sm(e,t,n,i){var r=(r=dr.current)?ru(r):null;if(!r)throw Error(N(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Fa(n.href),n=Ba(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Fa(n.href);var a=Ba(r).hoistableStyles,s=a.get(e);if(s||(r=r.ownerDocument||r,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=r.querySelector(Ul(e)))&&!a._p&&(s.instance=a,s.state.loading=5),He.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},He.set(e,n),a||Qb(r,e,n,s.state))),t&&i===null)throw Error(N(528,""));return s}if(t&&i!==null)throw Error(N(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ms(n),n=Ba(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(N(444,e))}}function Fa(e){return'href="'+Me(e)+'"'}function Ul(e){return'link[rel="stylesheet"]['+e+"]"}function $v(e){return ot({},e,{"data-precedence":e.precedence,precedence:null})}function Qb(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Ht(t,"link",n),zt(t),e.head.appendChild(t))}function ms(e){return'[src="'+Me(e)+'"]'}function Ll(e){return"script[async]"+e}function lm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Me(n.href)+'"]');if(i)return t.instance=i,zt(i),i;var r=ot({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),zt(i),Ht(i,"style",r),wo(i,n.precedence,e),t.instance=i;case"stylesheet":r=Fa(n.href);var a=e.querySelector(Ul(r));if(a)return t.state.loading|=4,t.instance=a,zt(a),a;i=$v(n),(r=He.get(r))&&dd(i,r),a=(e.ownerDocument||e).createElement("link"),zt(a);var s=a;return s._p=new Promise(function(l,o){s.onload=l,s.onerror=o}),Ht(a,"link",i),t.state.loading|=4,wo(a,n.precedence,e),t.instance=a;case"script":return a=ms(n.src),(r=e.querySelector(Ll(a)))?(t.instance=r,zt(r),r):(i=n,(r=He.get(a))&&(i=ot({},n),gd(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),zt(r),Ht(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(N(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,wo(i,n.precedence,e));return t.instance}function wo(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,s=0;s<i.length;s++){var l=i[s];if(l.dataset.precedence===t)a=l;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function dd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function gd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Eo=null;function om(e,t,n){if(Eo===null){var i=new Map,r=Eo=new Map;r.set(n,i)}else r=Eo,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[xl]||a[Gt]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(t)||"";s=e+s;var l=i.get(s);l?l.push(a):i.set(s,[a])}}return i}function um(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function _b(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Xv(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var ll=null;function Fb(){}function Wb(e,t,n){if(ll===null)throw Error(N(475));var i=ll;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=Fa(n.href),a=e.querySelector(Ul(r));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=au.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=a,zt(a);return}a=e.ownerDocument||e,n=$v(n),(r=He.get(r))&&dd(n,r),a=a.createElement("link"),zt(a);var s=a;s._p=new Promise(function(l,o){s.onload=l,s.onerror=o}),Ht(a,"link",n),t.instance=a}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=au.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function t1(){if(ll===null)throw Error(N(475));var e=ll;return e.stylesheets&&e.count===0&&jf(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&jf(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function au(){if(this.count--,this.count===0){if(this.stylesheets)jf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var su=null;function jf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,su=new Map,t.forEach(e1,e),su=null,au.call(e))}function e1(e,t){if(!(t.state.loading&4)){var n=su.get(e);if(n)var i=n.get(null);else{n=new Map,su.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var s=r[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}r=t.instance,s=r.getAttribute("data-precedence"),a=n.get(s)||i,a===i&&n.set(null,r),n.set(s,r),this.count++,i=au.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var ol={$$typeof:Ci,Provider:null,Consumer:null,_currentValue:Vr,_currentValue2:Vr,_threadCount:0};function n1(e,t,n,i,r,a,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oc(0),this.hiddenUpdates=oc(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Zv(e,t,n,i,r,a,s,l,o,c,h,m){return e=new n1(e,t,n,s,l,o,c,m),t=1,a===!0&&(t|=24),a=ce(3,null,null,t),e.current=a,a.stateNode=e,t=Vh(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},Gh(a),e}function Qv(e){return e?(e=xa,e):xa}function _v(e,t,n,i,r,a){r=Qv(r),i.context===null?i.context=r:i.pendingContext=r,i=gr(t),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=mr(e,i,t),n!==null&&(ye(n,e,t),qs(n,e,t))}function cm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function md(e,t){cm(e,t),(e=e.alternate)&&cm(e,t)}function Fv(e){if(e.tag===13){var t=hs(e,67108864);t!==null&&ye(t,e,67108864),md(e,67108864)}}var lu=!0;function i1(e,t,n,i){var r=q.T;q.T=null;var a=F.p;try{F.p=2,yd(e,t,n,i)}finally{F.p=a,q.T=r}}function r1(e,t,n,i){var r=q.T;q.T=null;var a=F.p;try{F.p=8,yd(e,t,n,i)}finally{F.p=a,q.T=r}}function yd(e,t,n,i){if(lu){var r=Gf(i);if(r===null)Jc(e,t,i,ou,n),fm(e,i);else if(s1(r,e,t,n,i))i.stopPropagation();else if(fm(e,i),t&4&&-1<a1.indexOf(e)){for(;r!==null;){var a=fs(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=zr(a.pendingLanes);if(s!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;s;){var o=1<<31-ge(s);l.entanglements[1]|=o,s&=~o}wn(a),!(nt&6)&&(Fo=pn()+500,zl(0))}}break;case 13:l=hs(a,2),l!==null&&ye(l,a,2),$u(),md(a,2)}if(a=Gf(i),a===null&&Jc(e,t,i,ou,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else Jc(e,t,i,null,n)}}function Gf(e){return e=Bh(e),pd(e)}var ou=null;function pd(e){if(ou=null,e=Ta(e),e!==null){var t=Al(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=wy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ou=e,null}function Wv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(GS()){case Dy:return 2;case Oy:return 8;case Uo:case YS:return 32;case Cy:return 268435456;default:return 32}default:return 32}}var Yf=!1,vr=null,Sr=null,Tr=null,ul=new Map,cl=new Map,lr=[],a1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fm(e,t){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":ul.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(t.pointerId)}}function ws(e,t,n,i,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},t!==null&&(t=fs(t),t!==null&&Fv(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function s1(e,t,n,i,r){switch(t){case"focusin":return vr=ws(vr,e,t,n,i,r),!0;case"dragenter":return Sr=ws(Sr,e,t,n,i,r),!0;case"mouseover":return Tr=ws(Tr,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return ul.set(a,ws(ul.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,cl.set(a,ws(cl.get(a)||null,e,t,n,i,r)),!0}return!1}function t0(e){var t=Ta(e.target);if(t!==null){var n=Al(t);if(n!==null){if(t=n.tag,t===13){if(t=wy(n),t!==null){e.blockedOn=t,WS(e.priority,function(){if(n.tag===13){var i=me();i=Oh(i);var r=hs(n,i);r!==null&&ye(r,n,i),md(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function No(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);of=i,n.target.dispatchEvent(i),of=null}else return t=fs(n),t!==null&&Fv(t),e.blockedOn=n,!1;t.shift()}return!0}function hm(e,t,n){No(e)&&n.delete(t)}function l1(){Yf=!1,vr!==null&&No(vr)&&(vr=null),Sr!==null&&No(Sr)&&(Sr=null),Tr!==null&&No(Tr)&&(Tr=null),ul.forEach(hm),cl.forEach(hm)}function ro(e,t){e.blockedOn===t&&(e.blockedOn=null,Yf||(Yf=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,l1)))}var ao=null;function dm(e){ao!==e&&(ao=e,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,function(){ao===e&&(ao=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(pd(i||n)===null)continue;break}var a=fs(n);a!==null&&(e.splice(t,3),t-=3,Ef(a,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function fl(e){function t(o){return ro(o,e)}vr!==null&&ro(vr,e),Sr!==null&&ro(Sr,e),Tr!==null&&ro(Tr,e),ul.forEach(t),cl.forEach(t);for(var n=0;n<lr.length;n++){var i=lr[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<lr.length&&(n=lr[0],n.blockedOn===null);)t0(n),n.blockedOn===null&&lr.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],s=r[re]||null;if(typeof a=="function")s||dm(n);else if(s){var l=null;if(a&&a.hasAttribute("formAction")){if(r=a,s=a[re]||null)l=s.formAction;else if(pd(r)!==null)continue}else l=s.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),dm(n)}}}function vd(e){this._internalRoot=e}_u.prototype.render=vd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));var n=t.current,i=me();_v(n,i,e,t,null,null)};_u.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_v(e.current,2,null,e,null,null),$u(),t[cs]=null}};function _u(e){this._internalRoot=e}_u.prototype.unstable_scheduleHydration=function(e){if(e){var t=My();e={blockedOn:null,target:e,priority:t};for(var n=0;n<lr.length&&t!==0&&t<lr[n].priority;n++);lr.splice(n,0,e),n===0&&t0(e)}};var gm=by.version;if(gm!=="19.1.0")throw Error(N(527,gm,"19.1.0"));F.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=LS(t),e=e!==null?Ey(e):null,e=e===null?null:e.stateNode,e};var o1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var so=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!so.isDisabled&&so.supportsFiber)try{wl=so.inject(o1),de=so}catch{}}zu.createRoot=function(e,t){if(!Ay(e))throw Error(N(299));var n=!1,i="",r=Zp,a=Qp,s=_p,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=Zv(e,1,!1,null,null,n,i,r,a,s,l,null),e[cs]=t.current,hd(e),new vd(t)};zu.hydrateRoot=function(e,t,n){if(!Ay(e))throw Error(N(299));var i=!1,r="",a=Zp,s=Qp,l=_p,o=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(o=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=Zv(e,1,!0,t,n??null,i,r,a,s,l,o,c),t.context=Qv(null),n=t.current,i=me(),i=Oh(i),r=gr(i),r.callback=null,mr(n,r,i),n=i,t.current.lanes=n,Nl(t,n),wn(t),e[cs]=t.current,hd(e),new _u(t)};zu.version="19.1.0";function e0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e0)}catch(e){console.error(e)}}e0(),oy.exports=zu;var u1=oy.exports;const c1=ay(u1),f1="@yorkie-js/react",h1="0.6.10",mm={name:f1,version:h1};var $;(function(e){e[e.Canceled=1]="Canceled",e[e.Unknown=2]="Unknown",e[e.InvalidArgument=3]="InvalidArgument",e[e.DeadlineExceeded=4]="DeadlineExceeded",e[e.NotFound=5]="NotFound",e[e.AlreadyExists=6]="AlreadyExists",e[e.PermissionDenied=7]="PermissionDenied",e[e.ResourceExhausted=8]="ResourceExhausted",e[e.FailedPrecondition=9]="FailedPrecondition",e[e.Aborted=10]="Aborted",e[e.OutOfRange=11]="OutOfRange",e[e.Unimplemented=12]="Unimplemented",e[e.Internal=13]="Internal",e[e.Unavailable=14]="Unavailable",e[e.DataLoss=15]="DataLoss",e[e.Unauthenticated=16]="Unauthenticated"})($||($={}));function ym(e){const t=$[e];return typeof t!="string"?e.toString():t[0].toLowerCase()+t.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}class W extends Error{constructor(t,n=$.Unknown,i,r,a){super(d1(t,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=t,this.code=n,this.metadata=new Headers(i??{}),this.details=r??[],this.cause=a}static from(t,n=$.Unknown){return t instanceof W?t:t instanceof Error?t.name=="AbortError"?new W(t.message,$.Canceled):new W(t.message,n,void 0,void 0,t):new W(String(t),n,void 0,void 0,t)}static[Symbol.hasInstance](t){return t instanceof Error?Object.getPrototypeOf(t)===W.prototype?!0:t.name==="ConnectError"&&"code"in t&&typeof t.code=="number"&&"metadata"in t&&"details"in t&&Array.isArray(t.details)&&"rawMessage"in t&&typeof t.rawMessage=="string"&&"cause"in t:!1}findDetails(t){const n="typeName"in t?{findMessage:r=>r===t.typeName?t:void 0}:t,i=[];for(const r of this.details){if("getType"in r){n.findMessage(r.getType().typeName)&&i.push(r);continue}const a=n.findMessage(r.type);if(a)try{i.push(a.fromBinary(r.value))}catch{}}return i}}function d1(e,t){return e.length?`[${ym(t)}] ${e}`:`[${ym(t)}]`}function St(e,t){if(!e)throw new Error(t)}const g1=34028234663852886e22,m1=-34028234663852886e22,y1=4294967295,p1=2147483647,v1=-2147483648;function xo(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>p1||e<v1)throw new Error("invalid int 32: "+e)}function Kf(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>y1||e<0)throw new Error("invalid uint 32: "+e)}function n0(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>g1||e<m1))throw new Error("invalid float 32: "+e)}const i0=Symbol("@bufbuild/protobuf/enum-type");function S1(e){const t=e[i0];return St(t,"missing enum type on enum object"),t}function r0(e,t,n,i){e[i0]=a0(t,n.map(r=>({no:r.no,name:r.name,localName:e[r.no]})))}function a0(e,t,n){const i=Object.create(null),r=Object.create(null),a=[];for(const s of t){const l=s0(s);a.push(l),i[s.name]=l,r[s.no]=l}return{typeName:e,values:a,findName(s){return i[s]},findNumber(s){return r[s]}}}function T1(e,t,n){const i={};for(const r of t){const a=s0(r);i[a.localName]=a.no,i[a.no]=a.localName}return r0(i,e,t),i}function s0(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}class C{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,n){const i=this.getType(),r=i.runtime.bin,a=r.makeReadOptions(n);return r.readMessage(this,a.readerFactory(t),t.byteLength,a),this}fromJson(t,n){const i=this.getType(),r=i.runtime.json,a=r.makeReadOptions(n);return r.readMessage(i,t,a,this),this}fromJsonString(t,n){let i;try{i=JSON.parse(t)}catch(r){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${r instanceof Error?r.message:String(r)}`)}return this.fromJson(i,n)}toBinary(t){const n=this.getType(),i=n.runtime.bin,r=i.makeWriteOptions(t),a=r.writerFactory();return i.writeMessage(this,a,r),a.finish()}toJson(t){const n=this.getType(),i=n.runtime.json,r=i.makeWriteOptions(t);return i.writeMessage(this,r)}toJsonString(t){var n;const i=this.toJson(t);return JSON.stringify(i,null,(n=t==null?void 0:t.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function b1(e,t,n,i){var r;const a=(r=i==null?void 0:i.localName)!==null&&r!==void 0?r:t.substring(t.lastIndexOf(".")+1),s={[a]:function(l){e.util.initFields(this),e.util.initPartial(l,this)}}[a];return Object.setPrototypeOf(s.prototype,new C),Object.assign(s,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary(l,o){return new s().fromBinary(l,o)},fromJson(l,o){return new s().fromJson(l,o)},fromJsonString(l,o){return new s().fromJsonString(l,o)},equals(l,o){return e.util.equals(s,l,o)}}),s}function A1(){let e=0,t=0;for(let i=0;i<28;i+=7){let r=this.buf[this.pos++];if(e|=(r&127)<<i,!(r&128))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(n&15)<<28,t=(n&112)>>4,!(n&128))return this.assertBounds(),[e,t];for(let i=3;i<=31;i+=7){let r=this.buf[this.pos++];if(t|=(r&127)<<i,!(r&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function Hc(e,t,n){for(let a=0;a<28;a=a+7){const s=e>>>a,l=!(!(s>>>7)&&t==0),o=(l?s|128:s)&255;if(n.push(o),!l)return}const i=e>>>28&15|(t&7)<<4,r=!!(t>>3);if(n.push((r?i|128:i)&255),!!r){for(let a=3;a<31;a=a+7){const s=t>>>a,l=!!(s>>>7),o=(l?s|128:s)&255;if(n.push(o),!l)return}n.push(t>>>31&1)}}const Do=4294967296;function pm(e){const t=e[0]==="-";t&&(e=e.slice(1));const n=1e6;let i=0,r=0;function a(s,l){const o=Number(e.slice(s,l));r*=n,i=i*n+o,i>=Do&&(r=r+(i/Do|0),i=i%Do)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),t?o0(i,r):Sd(i,r)}function w1(e,t){let n=Sd(e,t);const i=n.hi&2147483648;i&&(n=o0(n.lo,n.hi));const r=l0(n.lo,n.hi);return i?"-"+r:r}function l0(e,t){if({lo:e,hi:t}=E1(e,t),t<=2097151)return String(Do*t+e);const n=e&16777215,i=(e>>>24|t<<8)&16777215,r=t>>16&65535;let a=n+i*6777216+r*6710656,s=i+r*8147497,l=r*2;const o=1e7;return a>=o&&(s+=Math.floor(a/o),a%=o),s>=o&&(l+=Math.floor(s/o),s%=o),l.toString()+vm(s)+vm(a)}function E1(e,t){return{lo:e>>>0,hi:t>>>0}}function Sd(e,t){return{lo:e|0,hi:t|0}}function o0(e,t){return t=~t,e?e=~e+1:t+=1,Sd(e,t)}const vm=e=>{const t=String(e);return"0000000".slice(t.length)+t};function Sm(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let n=0;n<9;n++)t.push(e&127|128),e=e>>7;t.push(1)}}function N1(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let n=5;e&128&&n<10;n++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}var Tm={};function x1(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof process!="object"||typeof Tm!="object"||Tm.BUF_BIGINT_DISABLE!=="1")){const r=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),s=BigInt("0"),l=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(o){const c=typeof o=="bigint"?o:BigInt(o);if(c>a||c<r)throw new Error(`int64 invalid: ${o}`);return c},uParse(o){const c=typeof o=="bigint"?o:BigInt(o);if(c>l||c<s)throw new Error(`uint64 invalid: ${o}`);return c},enc(o){return e.setBigInt64(0,this.parse(o),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(o){return e.setBigInt64(0,this.uParse(o),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(o,c){return e.setInt32(0,o,!0),e.setInt32(4,c,!0),e.getBigInt64(0,!0)},uDec(o,c){return e.setInt32(0,o,!0),e.setInt32(4,c,!0),e.getBigUint64(0,!0)}}}const n=r=>St(/^-?[0-9]+$/.test(r),`int64 invalid: ${r}`),i=r=>St(/^[0-9]+$/.test(r),`uint64 invalid: ${r}`);return{zero:"0",supported:!1,parse(r){return typeof r!="string"&&(r=r.toString()),n(r),r},uParse(r){return typeof r!="string"&&(r=r.toString()),i(r),r},enc(r){return typeof r!="string"&&(r=r.toString()),n(r),pm(r)},uEnc(r){return typeof r!="string"&&(r=r.toString()),i(r),pm(r)},dec(r,a){return w1(r,a)},uDec(r,a){return l0(r,a)}}}const ft=x1();var w;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(w||(w={}));var Or;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"})(Or||(Or={}));function _i(e,t,n){if(t===n)return!0;if(e==w.BYTES){if(!(t instanceof Uint8Array)||!(n instanceof Uint8Array)||t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==n[i])return!1;return!0}switch(e){case w.UINT64:case w.FIXED64:case w.INT64:case w.SFIXED64:case w.SINT64:return t==n}return!1}function Wa(e,t){switch(e){case w.BOOL:return!1;case w.UINT64:case w.FIXED64:case w.INT64:case w.SFIXED64:case w.SINT64:return t==0?ft.zero:"0";case w.DOUBLE:case w.FLOAT:return 0;case w.BYTES:return new Uint8Array(0);case w.STRING:return"";default:return 0}}function u0(e,t){switch(e){case w.BOOL:return t===!1;case w.STRING:return t==="";case w.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}var Nt;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(Nt||(Nt={}));class D1{constructor(t){this.stack=[],this.textEncoder=t??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let r=0;r<this.chunks.length;r++)t+=this.chunks[r].length;let n=new Uint8Array(t),i=0;for(let r=0;r<this.chunks.length;r++)n.set(this.chunks[r],i),i+=this.chunks[r].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,n){return this.uint32((t<<3|n)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(Kf(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return xo(t),Sm(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let n=this.textEncoder.encode(t);return this.uint32(n.byteLength),this.raw(n)}float(t){n0(t);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,t,!0),this.raw(n)}double(t){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),this.raw(n)}fixed32(t){Kf(t);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t,!0),this.raw(n)}sfixed32(t){xo(t);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),this.raw(n)}sint32(t){return xo(t),t=(t<<1^t>>31)>>>0,Sm(t,this.buf),this}sfixed64(t){let n=new Uint8Array(8),i=new DataView(n.buffer),r=ft.enc(t);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}fixed64(t){let n=new Uint8Array(8),i=new DataView(n.buffer),r=ft.uEnc(t);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}int64(t){let n=ft.enc(t);return Hc(n.lo,n.hi,this.buf),this}sint64(t){let n=ft.enc(t),i=n.hi>>31,r=n.lo<<1^i,a=(n.hi<<1|n.lo>>>31)^i;return Hc(r,a,this.buf),this}uint64(t){let n=ft.uEnc(t);return Hc(n.lo,n.hi,this.buf),this}}class O1{constructor(t,n){this.varint64=A1,this.uint32=N1,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=n??new TextDecoder}tag(){let t=this.uint32(),n=t>>>3,i=t&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(t,n){let i=this.pos;switch(t){case Nt.Varint:for(;this.buf[this.pos++]&128;);break;case Nt.Bit64:this.pos+=4;case Nt.Bit32:this.pos+=4;break;case Nt.LengthDelimited:let r=this.uint32();this.pos+=r;break;case Nt.StartGroup:for(;;){const[a,s]=this.tag();if(s===Nt.EndGroup){if(n!==void 0&&a!==n)throw new Error("invalid end group tag");break}this.skip(s,a)}break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return ft.dec(...this.varint64())}uint64(){return ft.uDec(...this.varint64())}sint64(){let[t,n]=this.varint64(),i=-(t&1);return t=(t>>>1|(n&1)<<31)^i,n=n>>>1^i,ft.dec(t,n)}bool(){let[t,n]=this.varint64();return t!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return ft.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return ft.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),n=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(n,n+t)}string(){return this.textDecoder.decode(this.bytes())}}function C1(e,t,n,i){let r;return{typeName:t,extendee:n,get field(){if(!r){const a=typeof i=="function"?i():i;a.name=t.split(".").pop(),a.jsonName=`[${t}]`,r=e.util.newFieldList([a]).list()[0]}return r},runtime:e}}function c0(e){const t=e.field.localName,n=Object.create(null);return n[t]=R1(e),[n,()=>n[t]]}function R1(e){const t=e.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return Wa(t.T,t.L);case"message":const n=t.T,i=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(i):i;case"map":throw"map fields are not allowed to be extensions"}}function k1(e,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.no)return[e[n]];return[]}return e.filter(n=>n.no===t.no)}let Oi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Fu=[];for(let e=0;e<Oi.length;e++)Fu[Oi[e].charCodeAt(0)]=e;Fu[45]=Oi.indexOf("+");Fu[95]=Oi.indexOf("/");const Td={dec(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let n=new Uint8Array(t),i=0,r=0,a,s=0;for(let l=0;l<e.length;l++){if(a=Fu[e.charCodeAt(l)],a===void 0)switch(e[l]){case"=":r=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(r){case 0:s=a,r=1;break;case 1:n[i++]=s<<2|(a&48)>>4,s=a,r=2;break;case 2:n[i++]=(s&15)<<4|(a&60)>>2,s=a,r=3;break;case 3:n[i++]=(s&3)<<6|a,r=0;break}}if(r==1)throw Error("invalid base64 string.");return n.subarray(0,i)},enc(e){let t="",n=0,i,r=0;for(let a=0;a<e.length;a++)switch(i=e[a],n){case 0:t+=Oi[i>>2],r=(i&3)<<4,n=1;break;case 1:t+=Oi[r|i>>4],r=(i&15)<<2,n=2;break;case 2:t+=Oi[r|i>>6],t+=Oi[i&63],n=0;break}return n&&(t+=Oi[r],t+="=",n==1&&(t+="=")),t}};function B1(e,t,n){h0(t,e);const i=t.runtime.bin.makeReadOptions(n),r=k1(e.getType().runtime.bin.listUnknownFields(e),t.field),[a,s]=c0(t);for(const l of r)t.runtime.bin.readField(a,i.readerFactory(l.data),t.field,l.wireType,i);return s()}function I1(e,t,n,i){h0(t,e);const r=t.runtime.bin.makeReadOptions(i),a=t.runtime.bin.makeWriteOptions(i);if(f0(e,t)){const c=e.getType().runtime.bin.listUnknownFields(e).filter(h=>h.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const h of c)e.getType().runtime.bin.onUnknownField(e,h.no,h.wireType,h.data)}const s=a.writerFactory();let l=t.field;!l.opt&&!l.repeated&&(l.kind=="enum"||l.kind=="scalar")&&(l=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(l,n,s,a);const o=r.readerFactory(s.finish());for(;o.pos<o.len;){const[c,h]=o.tag(),m=o.skip(h,c);e.getType().runtime.bin.onUnknownField(e,c,h,m)}}function f0(e,t){const n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find(i=>i.no==t.field.no)}function h0(e,t){St(e.extendee.typeName==t.getType().typeName,`extension ${e.typeName} can only be applied to message ${e.extendee.typeName}`)}function d0(e,t){const n=e.localName;if(e.repeated)return t[n].length>0;if(e.oneof)return t[e.oneof.localName].case===n;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?t[n]!==void 0:e.kind=="enum"?t[n]!==e.T.values[0].no:!u0(e.T,t[n]);case"message":return t[n]!==void 0;case"map":return Object.keys(t[n]).length>0}}function bm(e,t){const n=e.localName,i=!e.opt&&!e.req;if(e.repeated)t[n]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[n]={};break;case"enum":t[n]=i?e.T.values[0].no:void 0;break;case"scalar":t[n]=i?Wa(e.T,e.L):void 0;break;case"message":t[n]=void 0;break}}function Zr(e,t){if(e===null||typeof e!="object"||!Object.getOwnPropertyNames(C.prototype).every(i=>i in e&&typeof e[i]=="function"))return!1;const n=e.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:t===void 0?!0:n.typeName==t.typeName}function g0(e,t){return Zr(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}w.DOUBLE,w.FLOAT,w.INT64,w.UINT64,w.INT32,w.UINT32,w.BOOL,w.STRING,w.BYTES;const Am={ignoreUnknownFields:!1},wm={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function M1(e){return e?Object.assign(Object.assign({},Am),e):Am}function z1(e){return e?Object.assign(Object.assign({},wm),e):wm}const uu=Symbol(),Oo=Symbol();function U1(){return{makeReadOptions:M1,makeWriteOptions:z1,readMessage(e,t,n,i){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message ${e.typeName} from JSON: ${nn(t)}`);i=i??new e;const r=new Map,a=n.typeRegistry;for(const[s,l]of Object.entries(t)){const o=e.fields.findJsonName(s);if(o){if(o.oneof){if(l===null&&o.kind=="scalar")continue;const c=r.get(o.oneof);if(c!==void 0)throw new Error(`cannot decode message ${e.typeName} from JSON: multiple keys for oneof "${o.oneof.name}" present: "${c}", "${s}"`);r.set(o.oneof,s)}Em(i,l,o,n,e)}else{let c=!1;if(a!=null&&a.findExtension&&s.startsWith("[")&&s.endsWith("]")){const h=a.findExtension(s.substring(1,s.length-1));if(h&&h.extendee.typeName==e.typeName){c=!0;const[m,d]=c0(h);Em(m,l,h.field,n,h),I1(i,h,d(),n)}}if(!c&&!n.ignoreUnknownFields)throw new Error(`cannot decode message ${e.typeName} from JSON: key "${s}" is unknown`)}}return i},writeMessage(e,t){const n=e.getType(),i={};let r;try{for(r of n.fields.byNumber()){if(!d0(r,e)){if(r.req)throw"required field not set";if(!t.emitDefaultValues||!q1(r))continue}const s=r.oneof?e[r.oneof.localName].value:e[r.localName],l=Nm(r,s,t);l!==void 0&&(i[t.useProtoFieldName?r.name:r.jsonName]=l)}const a=t.typeRegistry;if(a!=null&&a.findExtensionFor)for(const s of n.runtime.bin.listUnknownFields(e)){const l=a.findExtensionFor(n.typeName,s.no);if(l&&f0(e,l)){const o=B1(e,l,t),c=Nm(l.field,o,t);c!==void 0&&(i[l.field.jsonName]=c)}}}catch(a){const s=r?`cannot encode field ${n.typeName}.${r.name} to JSON`:`cannot encode message ${n.typeName} to JSON`,l=a instanceof Error?a.message:String(a);throw new Error(s+(l.length>0?`: ${l}`:""))}return i},readScalar(e,t,n){return $s(e,t,n??Or.BIGINT,!0)},writeScalar(e,t,n){if(t!==void 0&&(n||u0(e,t)))return Co(e,t)},debug:nn}}function nn(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":`"${e.split('"').join('\\"')}"`;default:return String(e)}}function Em(e,t,n,i,r){let a=n.localName;if(n.repeated){if(St(n.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${nn(t)}`);const s=e[a];for(const l of t){if(l===null)throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${nn(l)}`);switch(n.kind){case"message":s.push(n.T.fromJson(l,i));break;case"enum":const o=Vc(n.T,l,i.ignoreUnknownFields,!0);o!==Oo&&s.push(o);break;case"scalar":try{s.push($s(n.T,l,n.L,!0))}catch(c){let h=`cannot decode field ${r.typeName}.${n.name} from JSON: ${nn(l)}`;throw c instanceof Error&&c.message.length>0&&(h+=`: ${c.message}`),new Error(h)}break}}}else if(n.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: ${nn(t)}`);const s=e[a];for(const[l,o]of Object.entries(t)){if(o===null)throw new Error(`cannot decode field ${r.typeName}.${n.name} from JSON: map value null`);let c;try{c=L1(n.K,l)}catch(h){let m=`cannot decode map key for field ${r.typeName}.${n.name} from JSON: ${nn(t)}`;throw h instanceof Error&&h.message.length>0&&(m+=`: ${h.message}`),new Error(m)}switch(n.V.kind){case"message":s[c]=n.V.T.fromJson(o,i);break;case"enum":const h=Vc(n.V.T,o,i.ignoreUnknownFields,!0);h!==Oo&&(s[c]=h);break;case"scalar":try{s[c]=$s(n.V.T,o,Or.BIGINT,!0)}catch(m){let d=`cannot decode map value for field ${r.typeName}.${n.name} from JSON: ${nn(t)}`;throw m instanceof Error&&m.message.length>0&&(d+=`: ${m.message}`),new Error(d)}break}}}else switch(n.oneof&&(e=e[n.oneof.localName]={case:a},a="value"),n.kind){case"message":const s=n.T;if(t===null&&s.typeName!="google.protobuf.Value")return;let l=e[a];Zr(l)?l.fromJson(t,i):(e[a]=l=s.fromJson(t,i),s.fieldWrapper&&!n.oneof&&(e[a]=s.fieldWrapper.unwrapField(l)));break;case"enum":const o=Vc(n.T,t,i.ignoreUnknownFields,!1);switch(o){case uu:bm(n,e);break;case Oo:break;default:e[a]=o;break}break;case"scalar":try{const c=$s(n.T,t,n.L,!1);switch(c){case uu:bm(n,e);break;default:e[a]=c;break}}catch(c){let h=`cannot decode field ${r.typeName}.${n.name} from JSON: ${nn(t)}`;throw c instanceof Error&&c.message.length>0&&(h+=`: ${c.message}`),new Error(h)}break}}function L1(e,t){if(e===w.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1;break}return $s(e,t,Or.BIGINT,!0).toString()}function $s(e,t,n,i){if(t===null)return i?Wa(e,n):uu;switch(e){case w.DOUBLE:case w.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const r=Number(t);if(Number.isNaN(r)||!Number.isFinite(r))break;return e==w.FLOAT&&n0(r),r;case w.INT32:case w.FIXED32:case w.SFIXED32:case w.SINT32:case w.UINT32:let a;if(typeof t=="number"?a=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(a=Number(t)),a===void 0)break;return e==w.UINT32||e==w.FIXED32?Kf(a):xo(a),a;case w.INT64:case w.SFIXED64:case w.SINT64:if(typeof t!="number"&&typeof t!="string")break;const s=ft.parse(t);return n?s.toString():s;case w.FIXED64:case w.UINT64:if(typeof t!="number"&&typeof t!="string")break;const l=ft.uParse(t);return n?l.toString():l;case w.BOOL:if(typeof t!="boolean")break;return t;case w.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch{throw new Error("invalid UTF8")}return t;case w.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return Td.dec(t)}throw new Error}function Vc(e,t,n,i){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:i?e.values[0].no:uu;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const r=e.findName(t);if(r!==void 0)return r.no;if(n)return Oo;break}throw new Error(`cannot decode enum ${e.typeName} from JSON: ${nn(t)}`)}function q1(e){return e.repeated||e.kind=="map"?!0:!(e.oneof||e.kind=="message"||e.opt||e.req)}function Nm(e,t,n){if(e.kind=="map"){St(typeof t=="object"&&t!=null);const i={},r=Object.entries(t);switch(e.V.kind){case"scalar":for(const[s,l]of r)i[s.toString()]=Co(e.V.T,l);break;case"message":for(const[s,l]of r)i[s.toString()]=l.toJson(n);break;case"enum":const a=e.V.T;for(const[s,l]of r)i[s.toString()]=jc(a,l,n.enumAsInteger);break}return n.emitDefaultValues||r.length>0?i:void 0}if(e.repeated){St(Array.isArray(t));const i=[];switch(e.kind){case"scalar":for(let r=0;r<t.length;r++)i.push(Co(e.T,t[r]));break;case"enum":for(let r=0;r<t.length;r++)i.push(jc(e.T,t[r],n.enumAsInteger));break;case"message":for(let r=0;r<t.length;r++)i.push(t[r].toJson(n));break}return n.emitDefaultValues||i.length>0?i:void 0}switch(e.kind){case"scalar":return Co(e.T,t);case"enum":return jc(e.T,t,n.enumAsInteger);case"message":return g0(e.T,t).toJson(n)}}function jc(e,t,n){var i;if(St(typeof t=="number"),e.typeName=="google.protobuf.NullValue")return null;if(n)return t;const r=e.findNumber(t);return(i=r==null?void 0:r.name)!==null&&i!==void 0?i:t}function Co(e,t){switch(e){case w.INT32:case w.SFIXED32:case w.SINT32:case w.FIXED32:case w.UINT32:return St(typeof t=="number"),t;case w.FLOAT:case w.DOUBLE:return St(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case w.STRING:return St(typeof t=="string"),t;case w.BOOL:return St(typeof t=="boolean"),t;case w.UINT64:case w.FIXED64:case w.INT64:case w.SFIXED64:case w.SINT64:return St(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case w.BYTES:return St(t instanceof Uint8Array),Td.enc(t)}}const fa=Symbol("@bufbuild/protobuf/unknown-fields"),xm={readUnknownFields:!0,readerFactory:e=>new O1(e)},Dm={writeUnknownFields:!0,writerFactory:()=>new D1};function J1(e){return e?Object.assign(Object.assign({},xm),e):xm}function P1(e){return e?Object.assign(Object.assign({},Dm),e):Dm}function H1(){return{makeReadOptions:J1,makeWriteOptions:P1,listUnknownFields(e){var t;return(t=e[fa])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[fa]},writeUnknownFields(e,t){const i=e[fa];if(i)for(const r of i)t.tag(r.no,r.wireType).raw(r.data)},onUnknownField(e,t,n,i){const r=e;Array.isArray(r[fa])||(r[fa]=[]),r[fa].push({no:t,wireType:n,data:i})},readMessage(e,t,n,i,r){const a=e.getType(),s=r?t.len:t.pos+n;let l,o;for(;t.pos<s&&([l,o]=t.tag(),!(r===!0&&o==Nt.EndGroup));){const c=a.fields.find(l);if(!c){const h=t.skip(o,l);i.readUnknownFields&&this.onUnknownField(e,l,o,h);continue}Om(e,t,c,o,i)}if(r&&(o!=Nt.EndGroup||l!==n))throw new Error("invalid end group tag")},readField:Om,writeMessage(e,t,n){const i=e.getType();for(const r of i.fields.byNumber()){if(!d0(r,e)){if(r.req)throw new Error(`cannot encode field ${i.typeName}.${r.name} to binary: required field not set`);continue}const a=r.oneof?e[r.oneof.localName].value:e[r.localName];Cm(r,a,t,n)}return n.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,n,i){t!==void 0&&Cm(e,t,n,i)}}}function Om(e,t,n,i,r){let{repeated:a,localName:s}=n;switch(n.oneof&&(e=e[n.oneof.localName],e.case!=s&&delete e.value,e.case=s,s="value"),n.kind){case"scalar":case"enum":const l=n.kind=="enum"?w.INT32:n.T;let o=cu;if(n.kind=="scalar"&&n.L>0&&(o=j1),a){let d=e[s];if(i==Nt.LengthDelimited&&l!=w.STRING&&l!=w.BYTES){let A=t.uint32()+t.pos;for(;t.pos<A;)d.push(o(t,l))}else d.push(o(t,l))}else e[s]=o(t,l);break;case"message":const c=n.T;a?e[s].push(Ro(t,new c,r,n)):Zr(e[s])?Ro(t,e[s],r,n):(e[s]=Ro(t,new c,r,n),c.fieldWrapper&&!n.oneof&&!n.repeated&&(e[s]=c.fieldWrapper.unwrapField(e[s])));break;case"map":let[h,m]=V1(n,t,r);e[s][h]=m;break}}function Ro(e,t,n,i){const r=t.getType().runtime.bin,a=i==null?void 0:i.delimited;return r.readMessage(t,e,a?i.no:e.uint32(),n,a),t}function V1(e,t,n){const i=t.uint32(),r=t.pos+i;let a,s;for(;t.pos<r;){const[l]=t.tag();switch(l){case 1:a=cu(t,e.K);break;case 2:switch(e.V.kind){case"scalar":s=cu(t,e.V.T);break;case"enum":s=t.int32();break;case"message":s=Ro(t,new e.V.T,n,void 0);break}break}}if(a===void 0&&(a=Wa(e.K,Or.BIGINT)),typeof a!="string"&&typeof a!="number"&&(a=a.toString()),s===void 0)switch(e.V.kind){case"scalar":s=Wa(e.V.T,Or.BIGINT);break;case"enum":s=e.V.T.values[0].no;break;case"message":s=new e.V.T;break}return[a,s]}function j1(e,t){const n=cu(e,t);return typeof n=="bigint"?n.toString():n}function cu(e,t){switch(t){case w.STRING:return e.string();case w.BOOL:return e.bool();case w.DOUBLE:return e.double();case w.FLOAT:return e.float();case w.INT32:return e.int32();case w.INT64:return e.int64();case w.UINT64:return e.uint64();case w.FIXED64:return e.fixed64();case w.BYTES:return e.bytes();case w.FIXED32:return e.fixed32();case w.SFIXED32:return e.sfixed32();case w.SFIXED64:return e.sfixed64();case w.SINT64:return e.sint64();case w.UINT32:return e.uint32();case w.SINT32:return e.sint32()}}function Cm(e,t,n,i){St(t!==void 0);const r=e.repeated;switch(e.kind){case"scalar":case"enum":let a=e.kind=="enum"?w.INT32:e.T;if(r)if(St(Array.isArray(t)),e.packed)Y1(n,a,e.no,t);else for(const s of t)Xs(n,a,e.no,s);else Xs(n,a,e.no,t);break;case"message":if(r){St(Array.isArray(t));for(const s of t)Rm(n,i,e,s)}else Rm(n,i,e,t);break;case"map":St(typeof t=="object"&&t!=null);for(const[s,l]of Object.entries(t))G1(n,i,e,s,l);break}}function G1(e,t,n,i,r){e.tag(n.no,Nt.LengthDelimited),e.fork();let a=i;switch(n.K){case w.INT32:case w.FIXED32:case w.UINT32:case w.SFIXED32:case w.SINT32:a=Number.parseInt(i);break;case w.BOOL:St(i=="true"||i=="false"),a=i=="true";break}switch(Xs(e,n.K,1,a),n.V.kind){case"scalar":Xs(e,n.V.T,2,r);break;case"enum":Xs(e,w.INT32,2,r);break;case"message":St(r!==void 0),e.tag(2,Nt.LengthDelimited).bytes(r.toBinary(t));break}e.join()}function Rm(e,t,n,i){const r=g0(n.T,i);n.delimited?e.tag(n.no,Nt.StartGroup).raw(r.toBinary(t)).tag(n.no,Nt.EndGroup):e.tag(n.no,Nt.LengthDelimited).bytes(r.toBinary(t))}function Xs(e,t,n,i){St(i!==void 0);let[r,a]=m0(t);e.tag(n,r)[a](i)}function Y1(e,t,n,i){if(!i.length)return;e.tag(n,Nt.LengthDelimited).fork();let[,r]=m0(t);for(let a=0;a<i.length;a++)e[r](i[a]);e.join()}function m0(e){let t=Nt.Varint;switch(e){case w.BYTES:case w.STRING:t=Nt.LengthDelimited;break;case w.DOUBLE:case w.FIXED64:case w.SFIXED64:t=Nt.Bit64;break;case w.FIXED32:case w.SFIXED32:case w.FLOAT:t=Nt.Bit32;break}const n=w[e].toLowerCase();return[t,n]}function K1(){return{setEnumType:r0,initPartial(e,t){if(e===void 0)return;const n=t.getType();for(const i of n.fields.byMember()){const r=i.localName,a=t,s=e;if(s[r]!=null)switch(i.kind){case"oneof":const l=s[r].case;if(l===void 0)continue;const o=i.findField(l);let c=s[r].value;o&&o.kind=="message"&&!Zr(c,o.T)?c=new o.T(c):o&&o.kind==="scalar"&&o.T===w.BYTES&&(c=Es(c)),a[r]={case:l,value:c};break;case"scalar":case"enum":let h=s[r];i.T===w.BYTES&&(h=i.repeated?h.map(Es):Es(h)),a[r]=h;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===w.BYTES)for(const[g,A]of Object.entries(s[r]))a[r][g]=Es(A);else Object.assign(a[r],s[r]);break;case"message":const d=i.V.T;for(const g of Object.keys(s[r])){let A=s[r][g];d.fieldWrapper||(A=new d(A)),a[r][g]=A}break}break;case"message":const m=i.T;if(i.repeated)a[r]=s[r].map(d=>Zr(d,m)?d:new m(d));else{const d=s[r];m.fieldWrapper?m.typeName==="google.protobuf.BytesValue"?a[r]=Es(d):a[r]=d:a[r]=Zr(d,m)?d:new m(d)}break}}},equals(e,t,n){return t===n?!0:!t||!n?!1:e.fields.byMember().every(i=>{const r=t[i.localName],a=n[i.localName];if(i.repeated){if(r.length!==a.length)return!1;switch(i.kind){case"message":return r.every((s,l)=>i.T.equals(s,a[l]));case"scalar":return r.every((s,l)=>_i(i.T,s,a[l]));case"enum":return r.every((s,l)=>_i(w.INT32,s,a[l]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":return i.T.equals(r,a);case"enum":return _i(w.INT32,r,a);case"scalar":return _i(i.T,r,a);case"oneof":if(r.case!==a.case)return!1;const s=i.findField(r.case);if(s===void 0)return!0;switch(s.kind){case"message":return s.T.equals(r.value,a.value);case"enum":return _i(w.INT32,r.value,a.value);case"scalar":return _i(s.T,r.value,a.value)}throw new Error(`oneof cannot contain ${s.kind}`);case"map":const l=Object.keys(r).concat(Object.keys(a));switch(i.V.kind){case"message":const o=i.V.T;return l.every(h=>o.equals(r[h],a[h]));case"enum":return l.every(h=>_i(w.INT32,r[h],a[h]));case"scalar":const c=i.V.T;return l.every(h=>_i(c,r[h],a[h]))}break}})},clone(e){const t=e.getType(),n=new t,i=n;for(const r of t.fields.byMember()){const a=e[r.localName];let s;if(r.repeated)s=a.map(lo);else if(r.kind=="map"){s=i[r.localName];for(const[l,o]of Object.entries(a))s[l]=lo(o)}else r.kind=="oneof"?s=r.findField(a.case)?{case:a.case,value:lo(a.value)}:{case:void 0}:s=lo(a);i[r.localName]=s}for(const r of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(i,r.no,r.wireType,r.data);return n}}}function lo(e){if(e===void 0)return e;if(Zr(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function Es(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function $1(e,t,n){return{syntax:e,json:U1(),bin:H1(),util:Object.assign(Object.assign({},K1()),{newFieldList:t,initFields:n}),makeMessageType(i,r,a){return b1(this,i,r,a)},makeEnum:T1,makeEnumType:a0,getEnumType:S1,makeExtension(i,r,a){return C1(this,i,r,a)}}}class X1{constructor(t,n){this._fields=t,this._normalizer=n}findJsonName(t){if(!this.jsonNames){const n={};for(const i of this.list())n[i.jsonName]=n[i.name]=i;this.jsonNames=n}return this.jsonNames[t]}find(t){if(!this.numbers){const n={};for(const i of this.list())n[i.no]=i;this.numbers=n}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,n)=>t.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const t=this.members;let n;for(const i of this.list())i.oneof?i.oneof!==n&&(n=i.oneof,t.push(n)):t.push(i)}return this.members}}function y0(e,t){const n=p0(e);return t?n:tA(W1(n))}function Z1(e){return y0(e,!1)}const Q1=p0;function p0(e){let t=!1;const n=[];for(let i=0;i<e.length;i++){let r=e.charAt(i);switch(r){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(r),t=!1;break;default:t&&(t=!1,r=r.toUpperCase()),n.push(r);break}}return n.join("")}const _1=new Set(["constructor","toString","toJSON","valueOf"]),F1=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),v0=e=>`${e}$`,W1=e=>F1.has(e)?v0(e):e,tA=e=>_1.has(e)?v0(e):e;class eA{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=Z1(t)}addField(t){St(t.oneof===this,`field ${t.name} not one of ${this.name}`),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[t]}}function nA(e,t){var n,i,r,a,s,l;const o=[];let c;for(const h of typeof e=="function"?e():e){const m=h;if(m.localName=y0(h.name,h.oneof!==void 0),m.jsonName=(n=h.jsonName)!==null&&n!==void 0?n:Q1(h.name),m.repeated=(i=h.repeated)!==null&&i!==void 0?i:!1,h.kind=="scalar"&&(m.L=(r=h.L)!==null&&r!==void 0?r:Or.BIGINT),m.delimited=(a=h.delimited)!==null&&a!==void 0?a:!1,m.req=(s=h.req)!==null&&s!==void 0?s:!1,m.opt=(l=h.opt)!==null&&l!==void 0?l:!1,h.packed===void 0&&(m.packed=h.kind=="enum"||h.kind=="scalar"&&h.T!=w.BYTES&&h.T!=w.STRING),h.oneof!==void 0){const d=typeof h.oneof=="string"?h.oneof:h.oneof.name;(!c||c.name!=d)&&(c=new eA(d)),m.oneof=c,c.addField(m)}o.push(m)}return o}const f=$1("proto3",e=>new X1(e,t=>nA(t)),e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const n=t.localName,i=e;if(t.repeated){i[n]=[];continue}switch(t.kind){case"oneof":i[n]={case:void 0};break;case"enum":i[n]=0;break;case"map":i[n]={};break;case"scalar":i[n]=Wa(t.T,t.L);break}}});var $t;(function(e){e[e.Unary=0]="Unary",e[e.ServerStreaming=1]="ServerStreaming",e[e.ClientStreaming=2]="ClientStreaming",e[e.BiDiStreaming=3]="BiDiStreaming"})($t||($t={}));var km;(function(e){e[e.NoSideEffects=1]="NoSideEffects",e[e.Idempotent=2]="Idempotent"})(km||(km={}));class jt extends C{constructor(t){super(),this.seconds=ft.zero,this.nanos=0,f.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${f.json.debug(t)}`);const i=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const r=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(r))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=ft.parse(r/1e3),this.nanos=0,i[7]&&(this.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),this}toJson(t){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let i="Z";if(this.nanos>0){const r=(this.nanos+1e9).toString().substring(1);r.substring(3)==="000000"?i="."+r.substring(0,3)+"Z":r.substring(6)==="000"?i="."+r.substring(0,6)+"Z":i="."+r+"Z"}return new Date(n).toISOString().replace(".000Z",i)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return jt.fromDate(new Date)}static fromDate(t){const n=t.getTime();return new jt({seconds:ft.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(t,n){return new jt().fromBinary(t,n)}static fromJson(t,n){return new jt().fromJson(t,n)}static fromJsonString(t,n){return new jt().fromJsonString(t,n)}static equals(t,n){return f.util.equals(jt,t,n)}}jt.runtime=f;jt.typeName="google.protobuf.Timestamp";jt.fields=f.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Mi extends C{constructor(t){super(),this.seconds=ft.zero,this.nanos=0,f.util.initPartial(t,this)}fromJson(t,n){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);const i=t.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(i===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);const r=Number(i[1]);if(r>315576e6||r<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(t)}`);if(this.seconds=ft.parse(r),typeof i[2]=="string"){const a=i[2]+"0".repeat(9-i[2].length);this.nanos=parseInt(a),(r<0||Object.is(r,-0))&&(this.nanos=-this.nanos)}return this}toJson(t){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let n=this.seconds.toString();if(this.nanos!==0){let i=Math.abs(this.nanos).toString();i="0".repeat(9-i.length)+i,i.substring(3)==="000000"?i=i.substring(0,3):i.substring(6)==="000"&&(i=i.substring(0,6)),n+="."+i,this.nanos<0&&Number(this.seconds)==0&&(n="-"+n)}return n+"s"}static fromBinary(t,n){return new Mi().fromBinary(t,n)}static fromJson(t,n){return new Mi().fromJson(t,n)}static fromJsonString(t,n){return new Mi().fromJsonString(t,n)}static equals(t,n){return f.util.equals(Mi,t,n)}}Mi.runtime=f;Mi.typeName="google.protobuf.Duration";Mi.fields=f.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class an extends C{constructor(t){super(),this.typeUrl="",this.value=new Uint8Array(0),f.util.initPartial(t,this)}toJson(t){var n;if(this.typeUrl==="")return{};const i=this.typeUrlToName(this.typeUrl),r=(n=t==null?void 0:t.typeRegistry)===null||n===void 0?void 0:n.findMessage(i);if(!r)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let s=r.fromBinary(this.value).toJson(t);return(i.startsWith("google.protobuf.")||s===null||Array.isArray(s)||typeof s!="object")&&(s={value:s}),s["@type"]=this.typeUrl,s}fromJson(t,n){var i;if(t===null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${t===null?"null":Array.isArray(t)?"array":typeof t}`);if(Object.keys(t).length==0)return this;const r=t["@type"];if(typeof r!="string"||r=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const a=this.typeUrlToName(r),s=(i=n==null?void 0:n.typeRegistry)===null||i===void 0?void 0:i.findMessage(a);if(!s)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${r} is not in the type registry`);let l;if(a.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(t,"value"))l=s.fromJson(t.value,n);else{const o=Object.assign({},t);delete o["@type"],l=s.fromJson(o,n)}return this.packFrom(l),this}packFrom(t){this.value=t.toBinary(),this.typeUrl=this.typeNameToUrl(t.getType().typeName)}unpackTo(t){return this.is(t.getType())?(t.fromBinary(this.value),!0):!1}unpack(t){if(this.typeUrl==="")return;const n=t.findMessage(this.typeUrlToName(this.typeUrl));if(n)return n.fromBinary(this.value)}is(t){if(this.typeUrl==="")return!1;const n=this.typeUrlToName(this.typeUrl);let i="";return typeof t=="string"?i=t:i=t.typeName,n===i}typeNameToUrl(t){return`type.googleapis.com/${t}`}typeUrlToName(t){if(!t.length)throw new Error(`invalid type url: ${t}`);const n=t.lastIndexOf("/"),i=n>=0?t.substring(n+1):t;if(!i.length)throw new Error(`invalid type url: ${t}`);return i}static pack(t){const n=new an;return n.packFrom(t),n}static fromBinary(t,n){return new an().fromBinary(t,n)}static fromJson(t,n){return new an().fromJson(t,n)}static fromJsonString(t,n){return new an().fromJsonString(t,n)}static equals(t,n){return f.util.equals(an,t,n)}}an.runtime=f;an.typeName="google.protobuf.Any";an.fields=f.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class ln extends C{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(w.DOUBLE,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(w.DOUBLE,t)}catch(i){let r='cannot decode message google.protobuf.DoubleValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new ln().fromBinary(t,n)}static fromJson(t,n){return new ln().fromJson(t,n)}static fromJsonString(t,n){return new ln().fromJsonString(t,n)}static equals(t,n){return f.util.equals(ln,t,n)}}ln.runtime=f;ln.typeName="google.protobuf.DoubleValue";ln.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);ln.fieldWrapper={wrapField(e){return new ln({value:e})},unwrapField(e){return e.value}};class on extends C{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(w.FLOAT,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(w.FLOAT,t)}catch(i){let r='cannot decode message google.protobuf.FloatValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new on().fromBinary(t,n)}static fromJson(t,n){return new on().fromJson(t,n)}static fromJsonString(t,n){return new on().fromJsonString(t,n)}static equals(t,n){return f.util.equals(on,t,n)}}on.runtime=f;on.typeName="google.protobuf.FloatValue";on.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);on.fieldWrapper={wrapField(e){return new on({value:e})},unwrapField(e){return e.value}};class un extends C{constructor(t){super(),this.value=ft.zero,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(w.INT64,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(w.INT64,t)}catch(i){let r='cannot decode message google.protobuf.Int64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new un().fromBinary(t,n)}static fromJson(t,n){return new un().fromJson(t,n)}static fromJsonString(t,n){return new un().fromJsonString(t,n)}static equals(t,n){return f.util.equals(un,t,n)}}un.runtime=f;un.typeName="google.protobuf.Int64Value";un.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);un.fieldWrapper={wrapField(e){return new un({value:e})},unwrapField(e){return e.value}};class cn extends C{constructor(t){super(),this.value=ft.zero,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(w.UINT64,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(w.UINT64,t)}catch(i){let r='cannot decode message google.protobuf.UInt64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new cn().fromBinary(t,n)}static fromJson(t,n){return new cn().fromJson(t,n)}static fromJsonString(t,n){return new cn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(cn,t,n)}}cn.runtime=f;cn.typeName="google.protobuf.UInt64Value";cn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);cn.fieldWrapper={wrapField(e){return new cn({value:e})},unwrapField(e){return e.value}};class fn extends C{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(w.INT32,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(w.INT32,t)}catch(i){let r='cannot decode message google.protobuf.Int32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new fn().fromBinary(t,n)}static fromJson(t,n){return new fn().fromJson(t,n)}static fromJsonString(t,n){return new fn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(fn,t,n)}}fn.runtime=f;fn.typeName="google.protobuf.Int32Value";fn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);fn.fieldWrapper={wrapField(e){return new fn({value:e})},unwrapField(e){return e.value}};class hn extends C{constructor(t){super(),this.value=0,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(w.UINT32,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(w.UINT32,t)}catch(i){let r='cannot decode message google.protobuf.UInt32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new hn().fromBinary(t,n)}static fromJson(t,n){return new hn().fromJson(t,n)}static fromJsonString(t,n){return new hn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(hn,t,n)}}hn.runtime=f;hn.typeName="google.protobuf.UInt32Value";hn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);hn.fieldWrapper={wrapField(e){return new hn({value:e})},unwrapField(e){return e.value}};class dn extends C{constructor(t){super(),this.value=!1,f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(w.BOOL,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(w.BOOL,t)}catch(i){let r='cannot decode message google.protobuf.BoolValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new dn().fromBinary(t,n)}static fromJson(t,n){return new dn().fromJson(t,n)}static fromJsonString(t,n){return new dn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(dn,t,n)}}dn.runtime=f;dn.typeName="google.protobuf.BoolValue";dn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);dn.fieldWrapper={wrapField(e){return new dn({value:e})},unwrapField(e){return e.value}};class fe extends C{constructor(t){super(),this.value="",f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(w.STRING,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(w.STRING,t)}catch(i){let r='cannot decode message google.protobuf.StringValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new fe().fromBinary(t,n)}static fromJson(t,n){return new fe().fromJson(t,n)}static fromJsonString(t,n){return new fe().fromJsonString(t,n)}static equals(t,n){return f.util.equals(fe,t,n)}}fe.runtime=f;fe.typeName="google.protobuf.StringValue";fe.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);fe.fieldWrapper={wrapField(e){return new fe({value:e})},unwrapField(e){return e.value}};class gn extends C{constructor(t){super(),this.value=new Uint8Array(0),f.util.initPartial(t,this)}toJson(t){return f.json.writeScalar(w.BYTES,this.value,!0)}fromJson(t,n){try{this.value=f.json.readScalar(w.BYTES,t)}catch(i){let r='cannot decode message google.protobuf.BytesValue from JSON"';throw i instanceof Error&&i.message.length>0&&(r+=`: ${i.message}`),new Error(r)}return this}static fromBinary(t,n){return new gn().fromBinary(t,n)}static fromJson(t,n){return new gn().fromJson(t,n)}static fromJsonString(t,n){return new gn().fromJsonString(t,n)}static equals(t,n){return f.util.equals(gn,t,n)}}gn.runtime=f;gn.typeName="google.protobuf.BytesValue";gn.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);gn.fieldWrapper={wrapField(e){return new gn({value:e})},unwrapField(e){return e.value}};function iA(e,t,n){try{const i=Td.dec(e);return t?t.fromBinary(i,n):i}catch(i){throw W.from(i,$.DataLoss)}}function rA(e,t){const n={};for(const[i,r]of Object.entries(e.methods)){const a=t(Object.assign(Object.assign({},r),{localName:i,service:e}));a!=null&&(n[i]=a)}return n}const Bm=1;function Im(e){let t,n=new Uint8Array(0);function i(r){const a=new Uint8Array(n.length+r.length);a.set(n),a.set(r,n.length),n=a}return new ReadableStream({start(){t=e.getReader()},async pull(r){let a;for(;;){if(a===void 0&&n.byteLength>=5){let o=0;for(let c=1;c<5;c++)o=(o<<8)+n[c];a={flags:n[0],length:o}}if(a!==void 0&&n.byteLength>=a.length+5)break;const l=await t.read();if(l.done)break;i(l.value)}if(a===void 0){if(n.byteLength==0){r.close();return}r.error(new W("premature end of stream",$.DataLoss));return}const s=n.subarray(5,5+a.length);n=n.subarray(5+a.length),r.enqueue({flags:a.flags,data:s})}})}function Mm(e,t){const n=new Uint8Array(t.length+5);n.set(t,5);const i=new DataView(n.buffer,n.byteOffset,n.byteLength);return i.setUint8(0,e),i.setUint32(1,t.length),n}var aA=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(s){return new Promise(function(l,o){s=e[a](s),r(l,o,s.done,s.value)})}}function r(a,s,l,o){Promise.resolve(o).then(function(c){a({value:c,done:l})},s)}},hl=function(e){return this instanceof hl?(this.v=e,this):new hl(e)},sA=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r={},l("next"),l("throw"),l("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(A){return Promise.resolve(A).then(g,m)}}function l(g,A){i[g]&&(r[g]=function(E){return new Promise(function(O,p){a.push([g,E,O,p])>1||o(g,E)})},A&&(r[g]=A(r[g])))}function o(g,A){try{c(i[g](A))}catch(E){d(a[0][3],E)}}function c(g){g.value instanceof hl?Promise.resolve(g.value.v).then(h,m):d(a[0][2],g)}function h(g){o("next",g)}function m(g){o("throw",g)}function d(g,A){g(A),a.shift(),a.length&&o(a[0][0],a[0][1])}},lA=function(e){var t,n;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,a){t[r]=e[r]?function(s){return(n=!n)?{value:hl(e[r](s)),done:!1}:a?a(s):s}:a}};function oA(e){return sA(this,arguments,function*(){yield hl(yield*lA(aA(e)))})}var S0=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(s){return new Promise(function(l,o){s=e[a](s),r(l,o,s.done,s.value)})}}function r(a,s,l,o){Promise.resolve(o).then(function(c){a({value:c,done:l})},s)}},ts=function(e){return this instanceof ts?(this.v=e,this):new ts(e)},uA=function(e){var t,n;return t={},i("next"),i("throw",function(r){throw r}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(r,a){t[r]=e[r]?function(s){return(n=!n)?{value:ts(e[r](s)),done:!1}:a?a(s):s}:a}},cA=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r={},l("next"),l("throw"),l("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(A){return Promise.resolve(A).then(g,m)}}function l(g,A){i[g]&&(r[g]=function(E){return new Promise(function(O,p){a.push([g,E,O,p])>1||o(g,E)})},A&&(r[g]=A(r[g])))}function o(g,A){try{c(i[g](A))}catch(E){d(a[0][3],E)}}function c(g){g.value instanceof ts?Promise.resolve(g.value.v).then(h,m):d(a[0][2],g)}function h(g){o("next",g)}function m(g){o("throw",g)}function d(g,A){g(A),a.shift(),a.length&&o(a[0][0],a[0][1])}};function fA(e,t){return rA(e,n=>{switch(n.kind){case $t.Unary:return hA(t,e,n);case $t.ServerStreaming:return dA(t,e,n);case $t.ClientStreaming:return gA(t,e,n);case $t.BiDiStreaming:return mA(t,e,n);default:return null}})}function hA(e,t,n){return async function(i,r){var a,s;const l=await e.unary(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,i,r==null?void 0:r.contextValues);return(a=r==null?void 0:r.onHeader)===null||a===void 0||a.call(r,l.header),(s=r==null?void 0:r.onTrailer)===null||s===void 0||s.call(r,l.trailer),l.message}}function dA(e,t,n){return function(i,r){return T0(e.stream(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,oA([i]),r==null?void 0:r.contextValues),r)}}function gA(e,t,n){return async function(i,r){var a,s,l,o,c,h;const m=await e.stream(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,i,r==null?void 0:r.contextValues);(c=r==null?void 0:r.onHeader)===null||c===void 0||c.call(r,m.header);let d,g=0;try{for(var A=!0,E=S0(m.message),O;O=await E.next(),a=O.done,!a;A=!0)o=O.value,A=!1,d=o,g++}catch(p){s={error:p}}finally{try{!A&&!a&&(l=E.return)&&await l.call(E)}finally{if(s)throw s.error}}if(!d)throw new W("protocol error: missing response message",$.Unimplemented);if(g>1)throw new W("protocol error: received extra messages for client streaming method",$.Unimplemented);return(h=r==null?void 0:r.onTrailer)===null||h===void 0||h.call(r,m.trailer),d}}function mA(e,t,n){return function(i,r){return T0(e.stream(t,n,r==null?void 0:r.signal,r==null?void 0:r.timeoutMs,r==null?void 0:r.headers,i,r==null?void 0:r.contextValues),r)}}function T0(e,t){const n=function(){return cA(this,arguments,function*(){var i,r;const a=yield ts(e);(i=t==null?void 0:t.onHeader)===null||i===void 0||i.call(t,a.header),yield ts(yield*uA(S0(a.message))),(r=t==null?void 0:t.onTrailer)===null||r===void 0||r.call(t,a.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function yA(...e){const t=new AbortController,n=e.filter(r=>r!==void 0).concat(t.signal);for(const r of n){if(r.aborted){i.apply(r);break}r.addEventListener("abort",i)}function i(){t.signal.aborted||t.abort(b0(this));for(const r of n)r.removeEventListener("abort",i)}return t}function pA(e){const t=new AbortController,n=()=>{t.abort(new W("the operation timed out",$.DeadlineExceeded))};let i;return e!==void 0&&(e<=0?n():i=setTimeout(n,e)),{signal:t.signal,cleanup:()=>clearTimeout(i)}}function b0(e){if(!e.aborted)return;if(e.reason!==void 0)return e.reason;const t=new Error("This operation was aborted");return t.name="AbortError",t}function zm(){return{get(e){return e.id in this?this[e.id]:e.defaultValue},set(e,t){return this[e.id]=t,this},delete(e){return delete this[e.id],this}}}const Gc=128;function Um(e){const t=new Headers,n=new TextDecoder().decode(e).split(`\r
`);for(const i of n){if(i==="")continue;const r=i.indexOf(":");if(r>0){const a=i.substring(0,r).trim(),s=i.substring(r+1).trim();t.append(a,s)}}return t}const vA="Content-Type",SA="Grpc-Timeout",es="Grpc-Status",A0="Grpc-Message",TA="Grpc-Status-Details-Bin",bA="X-User-Agent",AA="X-Grpc-Web",wA="application/grpc-web+proto",EA="application/grpc-web+json";class zi extends C{constructor(t){super(),this.code=0,this.message="",this.details=[],f.util.initPartial(t,this)}static fromBinary(t,n){return new zi().fromBinary(t,n)}static fromJson(t,n){return new zi().fromJson(t,n)}static fromJsonString(t,n){return new zi().fromJsonString(t,n)}static equals(t,n){return f.util.equals(zi,t,n)}}zi.runtime=f;zi.typeName="google.rpc.Status";zi.fields=f.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:an,repeated:!0}]);const NA="0";function w0(e){var t;const n=e.get(TA);if(n!=null){const r=iA(n,zi);if(r.code==0)return;const a=new W(r.message,r.code,e);return a.details=r.details.map(s=>({type:s.typeUrl.substring(s.typeUrl.lastIndexOf("/")+1),value:s.value})),a}const i=e.get(es);if(i!=null){if(i===NA)return;const r=parseInt(i,10);return r in $?new W(decodeURIComponent((t=e.get(A0))!==null&&t!==void 0?t:""),r,e):new W(`invalid grpc-status: ${i}`,$.Internal,e)}}function Lm(e,t,n){const i=typeof t=="string"?t:t.typeName,r=typeof n=="string"?n:n.name;return e.toString().replace(/\/?$/,`/${i}/${r}`)}function E0(e,t){return t instanceof e?t:new e(t)}function xA(e,t){function n(i){return i.done===!0?i:{done:i.done,value:E0(e,i.value)}}return{[Symbol.asyncIterator](){const i=t[Symbol.asyncIterator](),r={next:()=>i.next().then(n)};return i.throw!==void 0&&(r.throw=a=>i.throw(a).then(n)),i.return!==void 0&&(r.return=a=>i.return(a).then(n)),r}}}function N0(e,t){var n;return(n=t==null?void 0:t.concat().reverse().reduce((i,r)=>r(i),e))!==null&&n!==void 0?n:e}function DA(e){var t;const n=Object.assign({},e);return(t=n.ignoreUnknownFields)!==null&&t!==void 0||(n.ignoreUnknownFields=!0),n}function qm(e,t,n,i){const r=t?Jm(e.I,i):Pm(e.I,n);return{parse:(t?Jm(e.O,i):Pm(e.O,n)).parse,serialize:r.serialize}}function Jm(e,t){return{parse(n){try{return e.fromBinary(n,t)}catch(i){const r=i instanceof Error?i.message:String(i);throw new W(`parse binary: ${r}`,$.Internal)}},serialize(n){try{return n.toBinary(t)}catch(i){const r=i instanceof Error?i.message:String(i);throw new W(`serialize binary: ${r}`,$.Internal)}}}}function Pm(e,t){var n,i;const r=(n=t==null?void 0:t.textEncoder)!==null&&n!==void 0?n:new TextEncoder,a=(i=t==null?void 0:t.textDecoder)!==null&&i!==void 0?i:new TextDecoder,s=DA(t);return{parse(l){try{const o=a.decode(l);return e.fromJsonString(o,s)}catch(o){throw W.from(o,$.InvalidArgument)}},serialize(l){try{const o=l.toJsonString(s);return r.encode(o)}catch(o){throw W.from(o,$.Internal)}}}}function OA(e){const t=N0(e.next,e.interceptors),[n,i,r]=x0(e),a=Object.assign(Object.assign({},e.req),{message:E0(e.req.method.I,e.req.message),signal:n});return t(a).then(s=>(r(),s),i)}function CA(e){const t=N0(e.next,e.interceptors),[n,i,r]=x0(e),a=Object.assign(Object.assign({},e.req),{message:xA(e.req.method.I,e.req.message),signal:n});let s=!1;return n.addEventListener("abort",function(){var l,o;const c=e.req.message[Symbol.asyncIterator]();s||(l=c.throw)===null||l===void 0||l.call(c,this.reason).catch(()=>{}),(o=c.return)===null||o===void 0||o.call(c).catch(()=>{})}),t(a).then(l=>Object.assign(Object.assign({},l),{message:{[Symbol.asyncIterator](){const o=l.message[Symbol.asyncIterator]();return{next(){return o.next().then(c=>(c.done==!0&&(s=!0,r()),c),i)}}}}}),i)}function x0(e){const{signal:t,cleanup:n}=pA(e.timeoutMs),i=yA(e.signal,t);return[i.signal,function(a){const s=W.from(t.aborted?b0(t):a);return i.abort(s),n(),Promise.reject(s)},function(){n(),i.abort()}]}function RA(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Hm(e,t){const n=w0(e);if(n)throw t.forEach((i,r)=>{n.metadata.append(r,i)}),n;if(!t.has(es)&&!e.has(es))throw new W("protocol error: missing status",$.Internal)}function Vm(e,t,n,i){const r=new Headers(n??{});return r.set(vA,e?wA:EA),r.set(AA,"1"),r.set(bA,"connect-es/1.6.1"),t!==void 0&&r.set(SA,`${t}m`),r}function kA(e){switch(e){case 400:return $.Internal;case 401:return $.Unauthenticated;case 403:return $.PermissionDenied;case 404:return $.Unimplemented;case 429:return $.Unavailable;case 502:return $.Unavailable;case 503:return $.Unavailable;case 504:return $.Unavailable;default:return $.Unknown}}function jm(e,t){var n;if(e>=200&&e<300)return{foundStatus:t.has(es),headerError:w0(t)};throw new W(decodeURIComponent((n=t.get(A0))!==null&&n!==void 0?n:`HTTP ${e}`),kA(e),t)}var Pr=function(e){return this instanceof Pr?(this.v=e,this):new Pr(e)},BA=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,a=[];return r={},l("next"),l("throw"),l("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(A){return Promise.resolve(A).then(g,m)}}function l(g,A){i[g]&&(r[g]=function(E){return new Promise(function(O,p){a.push([g,E,O,p])>1||o(g,E)})},A&&(r[g]=A(r[g])))}function o(g,A){try{c(i[g](A))}catch(E){d(a[0][3],E)}}function c(g){g.value instanceof Pr?Promise.resolve(g.value.v).then(h,m):d(a[0][2],g)}function h(g){o("next",g)}function m(g){o("throw",g)}function d(g,A){g(A),a.shift(),a.length&&o(a[0][0],a[0][1])}};function IA(e){var t;RA();const n=(t=e.useBinaryFormat)!==null&&t!==void 0?t:!0;return{async unary(i,r,a,s,l,o,c){var h;const{serialize:m,parse:d}=qm(r,n,e.jsonOptions,e.binaryOptions);return s=s===void 0?e.defaultTimeoutMs:s<=0?void 0:s,await OA({interceptors:e.interceptors,signal:a,timeoutMs:s,req:{stream:!1,service:i,method:r,url:Lm(e.baseUrl,i,r),init:{method:"POST",credentials:(h=e.credentials)!==null&&h!==void 0?h:"same-origin",redirect:"error",mode:"cors"},header:Vm(n,s,l),contextValues:c??zm(),message:o},next:async g=>{var A;const O=await((A=e.fetch)!==null&&A!==void 0?A:globalThis.fetch)(g.url,Object.assign(Object.assign({},g.init),{headers:g.header,signal:g.signal,body:Mm(0,m(g.message))})),{headerError:p}=jm(O.status,O.headers);if(!O.body)throw p!==void 0?p:"missing response body";const y=Im(O.body).getReader();let v,T;for(;;){const x=await y.read();if(x.done)break;const{flags:k,data:R}=x.value;if((k&Bm)===Bm)throw new W("protocol error: received unsupported compressed output",$.Internal);if(k===Gc){if(v!==void 0)throw"extra trailer";v=Um(R);continue}if(T!==void 0)throw new W("extra message",$.Unimplemented);T=d(R)}if(v===void 0)throw p!==void 0?p:new W("missing trailer",O.headers.has(es)?$.Unimplemented:$.Unknown);if(Hm(v,O.headers),T===void 0)throw new W("missing message",v.has(es)?$.Unimplemented:$.Unknown);return{stream:!1,service:i,method:r,header:O.headers,message:T,trailer:v}}})},async stream(i,r,a,s,l,o,c){var h;const{serialize:m,parse:d}=qm(r,n,e.jsonOptions,e.binaryOptions);function g(E,O,p,y,v){return BA(this,arguments,function*(){const x=Im(E).getReader();if(O){if(!(yield Pr(x.read())).done)throw"extra data for trailers-only";return yield Pr(void 0)}let k=!1;for(;;){const R=yield Pr(x.read());if(R.done)break;const{flags:M,data:ut}=R.value;if((M&Gc)===Gc){if(k)throw"extra trailer";k=!0;const V=Um(ut);Hm(V,y),V.forEach((_t,We)=>p.set(We,_t));continue}if(k)throw"extra message";yield yield Pr(d(ut))}if("throwIfAborted"in v&&v.throwIfAborted(),!k)throw"missing trailer"})}async function A(E){if(r.kind!=$t.ServerStreaming)throw"The fetch API does not support streaming request bodies";const O=await E[Symbol.asyncIterator]().next();if(O.done==!0)throw"missing request message";return Mm(0,m(O.value))}return s=s===void 0?e.defaultTimeoutMs:s<=0?void 0:s,CA({interceptors:e.interceptors,signal:a,timeoutMs:s,req:{stream:!0,service:i,method:r,url:Lm(e.baseUrl,i,r),init:{method:"POST",credentials:(h=e.credentials)!==null&&h!==void 0?h:"same-origin",redirect:"error",mode:"cors"},header:Vm(n,s,l),contextValues:c??zm(),message:o},next:async E=>{var O;const y=await((O=e.fetch)!==null&&O!==void 0?O:globalThis.fetch)(E.url,Object.assign(Object.assign({},E.init),{headers:E.header,signal:E.signal,body:await A(E.message)})),{foundStatus:v,headerError:T}=jm(y.status,y.headers);if(T!=null)throw T;if(!y.body)throw"missing response body";const x=new Headers;return Object.assign(Object.assign({},E),{header:y.headers,trailer:x,message:g(y.body,v,x,y.headers,E.signal)})}})}}}var J=(e=>(e[e.NULL=0]="NULL",e[e.BOOLEAN=1]="BOOLEAN",e[e.INTEGER=2]="INTEGER",e[e.LONG=3]="LONG",e[e.DOUBLE=4]="DOUBLE",e[e.STRING=5]="STRING",e[e.BYTES=6]="BYTES",e[e.DATE=7]="DATE",e[e.JSON_OBJECT=8]="JSON_OBJECT",e[e.JSON_ARRAY=9]="JSON_ARRAY",e[e.TEXT=10]="TEXT",e[e.INTEGER_CNT=11]="INTEGER_CNT",e[e.LONG_CNT=12]="LONG_CNT",e[e.TREE=13]="TREE",e))(J||{});f.util.setEnumType(J,"yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER"},{no:3,name:"VALUE_TYPE_LONG"},{no:4,name:"VALUE_TYPE_DOUBLE"},{no:5,name:"VALUE_TYPE_STRING"},{no:6,name:"VALUE_TYPE_BYTES"},{no:7,name:"VALUE_TYPE_DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE"}]);var Qr=(e=>(e[e.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",e[e.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",e[e.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",e[e.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",e))(Qr||{});f.util.setEnumType(Qr,"yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST"}]);const Dn=class Dn extends C{constructor(n){super();u(this,"root");u(this,"presences",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Dn().fromBinary(n,i)}static fromJson(n,i){return new Dn().fromJson(n,i)}static fromJsonString(n,i){return new Dn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Dn,n,i)}};u(Dn,"runtime",f),u(Dn,"typeName","yorkie.v1.Snapshot"),u(Dn,"fields",f.util.newFieldList(()=>[{no:1,name:"root",kind:"message",T:ae},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:Ad}}]));let $f=Dn;var Ne;let Xi=(Ne=class extends C{constructor(n){super();u(this,"documentKey","");u(this,"checkpoint");u(this,"snapshot",new Uint8Array(0));u(this,"changes",[]);u(this,"minSyncedTicket");u(this,"isRemoved",!1);u(this,"versionVector");f.util.initPartial(n,this)}static fromBinary(n,i){return new Ne().fromBinary(n,i)}static fromJson(n,i){return new Ne().fromJson(n,i)}static fromJsonString(n,i){return new Ne().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ne,n,i)}},u(Ne,"runtime",f),u(Ne,"typeName","yorkie.v1.ChangePack"),u(Ne,"fields",f.util.newFieldList(()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:C0},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:D0,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:I},{no:6,name:"is_removed",kind:"scalar",T:8},{no:7,name:"version_vector",kind:"message",T:tc}])),Ne);var xe;let D0=(xe=class extends C{constructor(n){super();u(this,"id");u(this,"message","");u(this,"operations",[]);u(this,"presenceChange");f.util.initPartial(n,this)}static fromBinary(n,i){return new xe().fromBinary(n,i)}static fromJson(n,i){return new xe().fromJson(n,i)}static fromJsonString(n,i){return new xe().fromJsonString(n,i)}static equals(n,i){return f.util.equals(xe,n,i)}},u(xe,"runtime",f),u(xe,"typeName","yorkie.v1.Change"),u(xe,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Wu},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:bd,repeated:!0},{no:4,name:"presence_change",kind:"message",T:ml}])),xe);var De;let Wu=(De=class extends C{constructor(n){super();u(this,"clientSeq",0);u(this,"serverSeq",ft.zero);u(this,"lamport",ft.zero);u(this,"actorId",new Uint8Array(0));u(this,"versionVector");f.util.initPartial(n,this)}static fromBinary(n,i){return new De().fromBinary(n,i)}static fromJson(n,i){return new De().fromJson(n,i)}static fromJsonString(n,i){return new De().fromJsonString(n,i)}static equals(n,i){return f.util.equals(De,n,i)}},u(De,"runtime",f),u(De,"typeName","yorkie.v1.ChangeID"),u(De,"fields",f.util.newFieldList(()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3},{no:3,name:"lamport",kind:"scalar",T:3},{no:4,name:"actor_id",kind:"scalar",T:12},{no:5,name:"version_vector",kind:"message",T:tc}])),De);var Oe;let tc=(Oe=class extends C{constructor(n){super();u(this,"vector",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Oe().fromBinary(n,i)}static fromJson(n,i){return new Oe().fromJson(n,i)}static fromJsonString(n,i){return new Oe().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Oe,n,i)}},u(Oe,"runtime",f),u(Oe,"typeName","yorkie.v1.VersionVector"),u(Oe,"fields",f.util.newFieldList(()=>[{no:1,name:"vector",kind:"map",K:9,V:{kind:"scalar",T:3}}])),Oe);var Ce;let bd=(Ce=class extends C{constructor(n){super();u(this,"body",{case:void 0});f.util.initPartial(n,this)}static fromBinary(n,i){return new Ce().fromBinary(n,i)}static fromJson(n,i){return new Ce().fromJson(n,i)}static fromJsonString(n,i){return new Ce().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ce,n,i)}},u(Ce,"runtime",f),u(Ce,"typeName","yorkie.v1.Operation"),u(Ce,"fields",f.util.newFieldList(()=>[{no:1,name:"set",kind:"message",T:fu,oneof:"body"},{no:2,name:"add",kind:"message",T:hu,oneof:"body"},{no:3,name:"move",kind:"message",T:du,oneof:"body"},{no:4,name:"remove",kind:"message",T:gu,oneof:"body"},{no:5,name:"edit",kind:"message",T:mu,oneof:"body"},{no:6,name:"select",kind:"message",T:Xf,oneof:"body"},{no:7,name:"style",kind:"message",T:yu,oneof:"body"},{no:8,name:"increase",kind:"message",T:pu,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:vu,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:Su,oneof:"body"},{no:11,name:"array_set",kind:"message",T:Zf,oneof:"body"}])),Ce);const On=class On extends C{constructor(n){super();u(this,"parentCreatedAt");u(this,"key","");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new On().fromBinary(n,i)}static fromJson(n,i){return new On().fromJson(n,i)}static fromJsonString(n,i){return new On().fromJsonString(n,i)}static equals(n,i){return f.util.equals(On,n,i)}};u(On,"runtime",f),u(On,"typeName","yorkie.v1.Operation.Set"),u(On,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:Ee},{no:4,name:"executed_at",kind:"message",T:I}]));let fu=On;const Cn=class Cn extends C{constructor(n){super();u(this,"parentCreatedAt");u(this,"prevCreatedAt");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Cn().fromBinary(n,i)}static fromJson(n,i){return new Cn().fromJson(n,i)}static fromJsonString(n,i){return new Cn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Cn,n,i)}};u(Cn,"runtime",f),u(Cn,"typeName","yorkie.v1.Operation.Add"),u(Cn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"prev_created_at",kind:"message",T:I},{no:3,name:"value",kind:"message",T:Ee},{no:4,name:"executed_at",kind:"message",T:I}]));let hu=Cn;const Rn=class Rn extends C{constructor(n){super();u(this,"parentCreatedAt");u(this,"prevCreatedAt");u(this,"createdAt");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Rn().fromBinary(n,i)}static fromJson(n,i){return new Rn().fromJson(n,i)}static fromJsonString(n,i){return new Rn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Rn,n,i)}};u(Rn,"runtime",f),u(Rn,"typeName","yorkie.v1.Operation.Move"),u(Rn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"prev_created_at",kind:"message",T:I},{no:3,name:"created_at",kind:"message",T:I},{no:4,name:"executed_at",kind:"message",T:I}]));let du=Rn;const kn=class kn extends C{constructor(n){super();u(this,"parentCreatedAt");u(this,"createdAt");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new kn().fromBinary(n,i)}static fromJson(n,i){return new kn().fromJson(n,i)}static fromJsonString(n,i){return new kn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(kn,n,i)}};u(kn,"runtime",f),u(kn,"typeName","yorkie.v1.Operation.Remove"),u(kn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"created_at",kind:"message",T:I},{no:3,name:"executed_at",kind:"message",T:I}]));let gu=kn;const Bn=class Bn extends C{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"createdAtMapByActor",{});u(this,"content","");u(this,"executedAt");u(this,"attributes",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Bn().fromBinary(n,i)}static fromJson(n,i){return new Bn().fromJson(n,i)}static fromJsonString(n,i){return new Bn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Bn,n,i)}};u(Bn,"runtime",f),u(Bn,"typeName","yorkie.v1.Operation.Edit"),u(Bn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"from",kind:"message",T:Yi},{no:3,name:"to",kind:"message",T:Yi},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:I}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:I},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let mu=Bn;const In=class In extends C{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new In().fromBinary(n,i)}static fromJson(n,i){return new In().fromJson(n,i)}static fromJsonString(n,i){return new In().fromJsonString(n,i)}static equals(n,i){return f.util.equals(In,n,i)}};u(In,"runtime",f),u(In,"typeName","yorkie.v1.Operation.Select"),u(In,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"from",kind:"message",T:Yi},{no:3,name:"to",kind:"message",T:Yi},{no:4,name:"executed_at",kind:"message",T:I}]));let Xf=In;const Mn=class Mn extends C{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"attributes",{});u(this,"executedAt");u(this,"createdAtMapByActor",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Mn().fromBinary(n,i)}static fromJson(n,i){return new Mn().fromJson(n,i)}static fromJsonString(n,i){return new Mn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Mn,n,i)}};u(Mn,"runtime",f),u(Mn,"typeName","yorkie.v1.Operation.Style"),u(Mn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"from",kind:"message",T:Yi},{no:3,name:"to",kind:"message",T:Yi},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:I},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:I}}]));let yu=Mn;const zn=class zn extends C{constructor(n){super();u(this,"parentCreatedAt");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new zn().fromBinary(n,i)}static fromJson(n,i){return new zn().fromJson(n,i)}static fromJsonString(n,i){return new zn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(zn,n,i)}};u(zn,"runtime",f),u(zn,"typeName","yorkie.v1.Operation.Increase"),u(zn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"value",kind:"message",T:Ee},{no:3,name:"executed_at",kind:"message",T:I}]));let pu=zn;const Un=class Un extends C{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"createdAtMapByActor",{});u(this,"contents",[]);u(this,"splitLevel",0);u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Un().fromBinary(n,i)}static fromJson(n,i){return new Un().fromJson(n,i)}static fromJsonString(n,i){return new Un().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Un,n,i)}};u(Un,"runtime",f),u(Un,"typeName","yorkie.v1.Operation.TreeEdit"),u(Un,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"from",kind:"message",T:ea},{no:3,name:"to",kind:"message",T:ea},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:I}},{no:5,name:"contents",kind:"message",T:Ou,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:I}]));let vu=Un;const Ln=class Ln extends C{constructor(n){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"attributes",{});u(this,"executedAt");u(this,"attributesToRemove",[]);u(this,"createdAtMapByActor",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Ln().fromBinary(n,i)}static fromJson(n,i){return new Ln().fromJson(n,i)}static fromJsonString(n,i){return new Ln().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ln,n,i)}};u(Ln,"runtime",f),u(Ln,"typeName","yorkie.v1.Operation.TreeStyle"),u(Ln,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"from",kind:"message",T:ea},{no:3,name:"to",kind:"message",T:ea},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:I},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:I}}]));let Su=Ln;const qn=class qn extends C{constructor(n){super();u(this,"parentCreatedAt");u(this,"createdAt");u(this,"value");u(this,"executedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new qn().fromBinary(n,i)}static fromJson(n,i){return new qn().fromJson(n,i)}static fromJsonString(n,i){return new qn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(qn,n,i)}};u(qn,"runtime",f),u(qn,"typeName","yorkie.v1.Operation.ArraySet"),u(qn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:I},{no:2,name:"created_at",kind:"message",T:I},{no:3,name:"value",kind:"message",T:Ee},{no:4,name:"executed_at",kind:"message",T:I}]));let Zf=qn;const Jn=class Jn extends C{constructor(n){super();u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");u(this,"type",0);u(this,"value",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new Jn().fromBinary(n,i)}static fromJson(n,i){return new Jn().fromJson(n,i)}static fromJsonString(n,i){return new Jn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Jn,n,i)}};u(Jn,"runtime",f),u(Jn,"typeName","yorkie.v1.JSONElementSimple"),u(Jn,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:I},{no:2,name:"moved_at",kind:"message",T:I},{no:3,name:"removed_at",kind:"message",T:I},{no:4,name:"type",kind:"enum",T:f.getEnumType(J)},{no:5,name:"value",kind:"scalar",T:12}]));let Ee=Jn;const Pn=class Pn extends C{constructor(n){super();u(this,"body",{case:void 0});f.util.initPartial(n,this)}static fromBinary(n,i){return new Pn().fromBinary(n,i)}static fromJson(n,i){return new Pn().fromJson(n,i)}static fromJsonString(n,i){return new Pn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Pn,n,i)}};u(Pn,"runtime",f),u(Pn,"typeName","yorkie.v1.JSONElement"),u(Pn,"fields",f.util.newFieldList(()=>[{no:1,name:"json_object",kind:"message",T:Tu,oneof:"body"},{no:2,name:"json_array",kind:"message",T:bu,oneof:"body"},{no:3,name:"primitive",kind:"message",T:Au,oneof:"body"},{no:5,name:"text",kind:"message",T:wu,oneof:"body"},{no:6,name:"counter",kind:"message",T:Eu,oneof:"body"},{no:7,name:"tree",kind:"message",T:Nu,oneof:"body"}]));let ae=Pn;const Hn=class Hn extends C{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Hn().fromBinary(n,i)}static fromJson(n,i){return new Hn().fromJson(n,i)}static fromJsonString(n,i){return new Hn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Hn,n,i)}};u(Hn,"runtime",f),u(Hn,"typeName","yorkie.v1.JSONElement.JSONObject"),u(Hn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:O0,repeated:!0},{no:2,name:"created_at",kind:"message",T:I},{no:3,name:"moved_at",kind:"message",T:I},{no:4,name:"removed_at",kind:"message",T:I}]));let Tu=Hn;const Vn=class Vn extends C{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Vn().fromBinary(n,i)}static fromJson(n,i){return new Vn().fromJson(n,i)}static fromJsonString(n,i){return new Vn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Vn,n,i)}};u(Vn,"runtime",f),u(Vn,"typeName","yorkie.v1.JSONElement.JSONArray"),u(Vn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:xu,repeated:!0},{no:2,name:"created_at",kind:"message",T:I},{no:3,name:"moved_at",kind:"message",T:I},{no:4,name:"removed_at",kind:"message",T:I}]));let bu=Vn;const jn=class jn extends C{constructor(n){super();u(this,"type",0);u(this,"value",new Uint8Array(0));u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new jn().fromBinary(n,i)}static fromJson(n,i){return new jn().fromJson(n,i)}static fromJsonString(n,i){return new jn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(jn,n,i)}};u(jn,"runtime",f),u(jn,"typeName","yorkie.v1.JSONElement.Primitive"),u(jn,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(J)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:I},{no:4,name:"moved_at",kind:"message",T:I},{no:5,name:"removed_at",kind:"message",T:I}]));let Au=jn;const Gn=class Gn extends C{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Gn().fromBinary(n,i)}static fromJson(n,i){return new Gn().fromJson(n,i)}static fromJsonString(n,i){return new Gn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Gn,n,i)}};u(Gn,"runtime",f),u(Gn,"typeName","yorkie.v1.JSONElement.Text"),u(Gn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Du,repeated:!0},{no:2,name:"created_at",kind:"message",T:I},{no:3,name:"moved_at",kind:"message",T:I},{no:4,name:"removed_at",kind:"message",T:I}]));let wu=Gn;const Yn=class Yn extends C{constructor(n){super();u(this,"type",0);u(this,"value",new Uint8Array(0));u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Yn().fromBinary(n,i)}static fromJson(n,i){return new Yn().fromJson(n,i)}static fromJsonString(n,i){return new Yn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Yn,n,i)}};u(Yn,"runtime",f),u(Yn,"typeName","yorkie.v1.JSONElement.Counter"),u(Yn,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(J)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:I},{no:4,name:"moved_at",kind:"message",T:I},{no:5,name:"removed_at",kind:"message",T:I}]));let Eu=Yn;const Kn=class Kn extends C{constructor(n){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new Kn().fromBinary(n,i)}static fromJson(n,i){return new Kn().fromJson(n,i)}static fromJsonString(n,i){return new Kn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Kn,n,i)}};u(Kn,"runtime",f),u(Kn,"typeName","yorkie.v1.JSONElement.Tree"),u(Kn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:gl,repeated:!0},{no:2,name:"created_at",kind:"message",T:I},{no:3,name:"moved_at",kind:"message",T:I},{no:4,name:"removed_at",kind:"message",T:I}]));let Nu=Kn;var Re;let O0=(Re=class extends C{constructor(n){super();u(this,"key","");u(this,"element");f.util.initPartial(n,this)}static fromBinary(n,i){return new Re().fromBinary(n,i)}static fromJson(n,i){return new Re().fromJson(n,i)}static fromJsonString(n,i){return new Re().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Re,n,i)}},u(Re,"runtime",f),u(Re,"typeName","yorkie.v1.RHTNode"),u(Re,"fields",f.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:ae}])),Re);const en=class en extends C{constructor(n){super();u(this,"next");u(this,"element");f.util.initPartial(n,this)}static fromBinary(n,i){return new en().fromBinary(n,i)}static fromJson(n,i){return new en().fromJson(n,i)}static fromJsonString(n,i){return new en().fromJsonString(n,i)}static equals(n,i){return f.util.equals(en,n,i)}};u(en,"runtime",f),u(en,"typeName","yorkie.v1.RGANode"),u(en,"fields",f.util.newFieldList(()=>[{no:1,name:"next",kind:"message",T:en},{no:2,name:"element",kind:"message",T:ae}]));let xu=en;const $n=class $n extends C{constructor(n){super();u(this,"value","");u(this,"updatedAt");u(this,"isRemoved",!1);f.util.initPartial(n,this)}static fromBinary(n,i){return new $n().fromBinary(n,i)}static fromJson(n,i){return new $n().fromJson(n,i)}static fromJsonString(n,i){return new $n().fromJsonString(n,i)}static equals(n,i){return f.util.equals($n,n,i)}};u($n,"runtime",f),u($n,"typeName","yorkie.v1.NodeAttr"),u($n,"fields",f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:I},{no:3,name:"is_removed",kind:"scalar",T:8}]));let ns=$n;const Xn=class Xn extends C{constructor(n){super();u(this,"id");u(this,"value","");u(this,"removedAt");u(this,"insPrevId");u(this,"attributes",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Xn().fromBinary(n,i)}static fromJson(n,i){return new Xn().fromJson(n,i)}static fromJsonString(n,i){return new Xn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Xn,n,i)}};u(Xn,"runtime",f),u(Xn,"typeName","yorkie.v1.TextNode"),u(Xn,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:dl},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:I},{no:4,name:"ins_prev_id",kind:"message",T:dl},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:ns}}]));let Du=Xn;const Zn=class Zn extends C{constructor(n){super();u(this,"createdAt");u(this,"offset",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new Zn().fromBinary(n,i)}static fromJson(n,i){return new Zn().fromJson(n,i)}static fromJsonString(n,i){return new Zn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Zn,n,i)}};u(Zn,"runtime",f),u(Zn,"typeName","yorkie.v1.TextNodeID"),u(Zn,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:I},{no:2,name:"offset",kind:"scalar",T:5}]));let dl=Zn;const Qn=class Qn extends C{constructor(n){super();u(this,"id");u(this,"type","");u(this,"value","");u(this,"removedAt");u(this,"insPrevId");u(this,"insNextId");u(this,"depth",0);u(this,"attributes",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new Qn().fromBinary(n,i)}static fromJson(n,i){return new Qn().fromJson(n,i)}static fromJsonString(n,i){return new Qn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Qn,n,i)}};u(Qn,"runtime",f),u(Qn,"typeName","yorkie.v1.TreeNode"),u(Qn,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:br},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:I},{no:5,name:"ins_prev_id",kind:"message",T:br},{no:6,name:"ins_next_id",kind:"message",T:br},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:ns}}]));let gl=Qn;const _n=class _n extends C{constructor(n){super();u(this,"content",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new _n().fromBinary(n,i)}static fromJson(n,i){return new _n().fromJson(n,i)}static fromJsonString(n,i){return new _n().fromJsonString(n,i)}static equals(n,i){return f.util.equals(_n,n,i)}};u(_n,"runtime",f),u(_n,"typeName","yorkie.v1.TreeNodes"),u(_n,"fields",f.util.newFieldList(()=>[{no:1,name:"content",kind:"message",T:gl,repeated:!0}]));let Ou=_n;const Fn=class Fn extends C{constructor(n){super();u(this,"createdAt");u(this,"offset",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new Fn().fromBinary(n,i)}static fromJson(n,i){return new Fn().fromJson(n,i)}static fromJsonString(n,i){return new Fn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Fn,n,i)}};u(Fn,"runtime",f),u(Fn,"typeName","yorkie.v1.TreeNodeID"),u(Fn,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:I},{no:2,name:"offset",kind:"scalar",T:5}]));let br=Fn;const Wn=class Wn extends C{constructor(n){super();u(this,"parentId");u(this,"leftSiblingId");f.util.initPartial(n,this)}static fromBinary(n,i){return new Wn().fromBinary(n,i)}static fromJson(n,i){return new Wn().fromJson(n,i)}static fromJsonString(n,i){return new Wn().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Wn,n,i)}};u(Wn,"runtime",f),u(Wn,"typeName","yorkie.v1.TreePos"),u(Wn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_id",kind:"message",T:br},{no:2,name:"left_sibling_id",kind:"message",T:br}]));let ea=Wn;const ti=class ti extends C{constructor(n){super();u(this,"id","");u(this,"username","");u(this,"createdAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new ti().fromBinary(n,i)}static fromJson(n,i){return new ti().fromJson(n,i)}static fromJsonString(n,i){return new ti().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ti,n,i)}};u(ti,"runtime",f),u(ti,"typeName","yorkie.v1.User"),u(ti,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"created_at",kind:"message",T:jt}]));let Gm=ti;const ei=class ei extends C{constructor(n){super();u(this,"id","");u(this,"name","");u(this,"publicKey","");u(this,"secretKey","");u(this,"authWebhookUrl","");u(this,"authWebhookMethods",[]);u(this,"clientDeactivateThreshold","");u(this,"createdAt");u(this,"updatedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new ei().fromBinary(n,i)}static fromJson(n,i){return new ei().fromJson(n,i)}static fromJsonString(n,i){return new ei().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ei,n,i)}};u(ei,"runtime",f),u(ei,"typeName","yorkie.v1.Project"),u(ei,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:8,name:"created_at",kind:"message",T:jt},{no:9,name:"updated_at",kind:"message",T:jt}]));let Ym=ei;const ni=class ni extends C{constructor(n){super();u(this,"name");u(this,"authWebhookUrl");u(this,"authWebhookMethods");u(this,"clientDeactivateThreshold");f.util.initPartial(n,this)}static fromBinary(n,i){return new ni().fromBinary(n,i)}static fromJson(n,i){return new ni().fromJson(n,i)}static fromJsonString(n,i){return new ni().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ni,n,i)}};u(ni,"runtime",f),u(ni,"typeName","yorkie.v1.UpdatableProjectFields"),u(ni,"fields",f.util.newFieldList(()=>[{no:1,name:"name",kind:"message",T:fe},{no:2,name:"auth_webhook_url",kind:"message",T:fe},{no:3,name:"auth_webhook_methods",kind:"message",T:Qf},{no:4,name:"client_deactivate_threshold",kind:"message",T:fe}]));let Km=ni;const ii=class ii extends C{constructor(n){super();u(this,"methods",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new ii().fromBinary(n,i)}static fromJson(n,i){return new ii().fromJson(n,i)}static fromJsonString(n,i){return new ii().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ii,n,i)}};u(ii,"runtime",f),u(ii,"typeName","yorkie.v1.UpdatableProjectFields.AuthWebhookMethods"),u(ii,"fields",f.util.newFieldList(()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}]));let Qf=ii;const ri=class ri extends C{constructor(n){super();u(this,"id","");u(this,"key","");u(this,"snapshot","");u(this,"createdAt");u(this,"accessedAt");u(this,"updatedAt");f.util.initPartial(n,this)}static fromBinary(n,i){return new ri().fromBinary(n,i)}static fromJson(n,i){return new ri().fromJson(n,i)}static fromJsonString(n,i){return new ri().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ri,n,i)}};u(ri,"runtime",f),u(ri,"typeName","yorkie.v1.DocumentSummary"),u(ri,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"snapshot",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:jt},{no:5,name:"accessed_at",kind:"message",T:jt},{no:6,name:"updated_at",kind:"message",T:jt}]));let $m=ri;const ai=class ai extends C{constructor(n){super();u(this,"type",0);u(this,"presence");f.util.initPartial(n,this)}static fromBinary(n,i){return new ai().fromBinary(n,i)}static fromJson(n,i){return new ai().fromJson(n,i)}static fromJsonString(n,i){return new ai().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ai,n,i)}};u(ai,"runtime",f),u(ai,"typeName","yorkie.v1.PresenceChange"),u(ai,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(na)},{no:2,name:"presence",kind:"message",T:Ad}]));let ml=ai;var na=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PUT=1]="PUT",e[e.DELETE=2]="DELETE",e[e.CLEAR=3]="CLEAR",e))(na||{});f.util.setEnumType(na,"yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT"},{no:2,name:"CHANGE_TYPE_DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR"}]);var ke;let Ad=(ke=class extends C{constructor(n){super();u(this,"data",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new ke().fromBinary(n,i)}static fromJson(n,i){return new ke().fromJson(n,i)}static fromJsonString(n,i){return new ke().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ke,n,i)}},u(ke,"runtime",f),u(ke,"typeName","yorkie.v1.Presence"),u(ke,"fields",f.util.newFieldList(()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}])),ke);var Be;let C0=(Be=class extends C{constructor(n){super();u(this,"serverSeq",ft.zero);u(this,"clientSeq",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new Be().fromBinary(n,i)}static fromJson(n,i){return new Be().fromJson(n,i)}static fromJsonString(n,i){return new Be().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Be,n,i)}},u(Be,"runtime",f),u(Be,"typeName","yorkie.v1.Checkpoint"),u(Be,"fields",f.util.newFieldList(()=>[{no:1,name:"server_seq",kind:"scalar",T:3},{no:2,name:"client_seq",kind:"scalar",T:13}])),Be);const si=class si extends C{constructor(n){super();u(this,"createdAt");u(this,"offset",0);u(this,"relativeOffset",0);f.util.initPartial(n,this)}static fromBinary(n,i){return new si().fromBinary(n,i)}static fromJson(n,i){return new si().fromJson(n,i)}static fromJsonString(n,i){return new si().fromJsonString(n,i)}static equals(n,i){return f.util.equals(si,n,i)}};u(si,"runtime",f),u(si,"typeName","yorkie.v1.TextNodePos"),u(si,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:I},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]));let Yi=si;var Ie;let I=(Ie=class extends C{constructor(n){super();u(this,"lamport",ft.zero);u(this,"delimiter",0);u(this,"actorId",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new Ie().fromBinary(n,i)}static fromJson(n,i){return new Ie().fromJson(n,i)}static fromJsonString(n,i){return new Ie().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ie,n,i)}},u(Ie,"runtime",f),u(Ie,"typeName","yorkie.v1.TimeTicket"),u(Ie,"fields",f.util.newFieldList(()=>[{no:1,name:"lamport",kind:"scalar",T:3},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}])),Ie);const li=class li extends C{constructor(n){super();u(this,"topic","");u(this,"payload",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new li().fromBinary(n,i)}static fromJson(n,i){return new li().fromJson(n,i)}static fromJsonString(n,i){return new li().fromJsonString(n,i)}static equals(n,i){return f.util.equals(li,n,i)}};u(li,"runtime",f),u(li,"typeName","yorkie.v1.DocEventBody"),u(li,"fields",f.util.newFieldList(()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]));let _f=li;const oi=class oi extends C{constructor(n){super();u(this,"type",0);u(this,"publisher","");u(this,"body");f.util.initPartial(n,this)}static fromBinary(n,i){return new oi().fromBinary(n,i)}static fromJson(n,i){return new oi().fromJson(n,i)}static fromJsonString(n,i){return new oi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(oi,n,i)}};u(oi,"runtime",f),u(oi,"typeName","yorkie.v1.DocEvent"),u(oi,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(Qr)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:_f}]));let Ff=oi;const ui=class ui extends C{constructor(n){super();u(this,"clientKey","");u(this,"metadata",{});f.util.initPartial(n,this)}static fromBinary(n,i){return new ui().fromBinary(n,i)}static fromJson(n,i){return new ui().fromJson(n,i)}static fromJsonString(n,i){return new ui().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ui,n,i)}};u(ui,"runtime",f),u(ui,"typeName","yorkie.v1.ActivateClientRequest"),u(ui,"fields",f.util.newFieldList(()=>[{no:1,name:"client_key",kind:"scalar",T:9},{no:2,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let Wf=ui;const ci=class ci extends C{constructor(n){super();u(this,"clientId","");f.util.initPartial(n,this)}static fromBinary(n,i){return new ci().fromBinary(n,i)}static fromJson(n,i){return new ci().fromJson(n,i)}static fromJsonString(n,i){return new ci().fromJsonString(n,i)}static equals(n,i){return f.util.equals(ci,n,i)}};u(ci,"runtime",f),u(ci,"typeName","yorkie.v1.ActivateClientResponse"),u(ci,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let th=ci;const fi=class fi extends C{constructor(n){super();u(this,"clientId","");f.util.initPartial(n,this)}static fromBinary(n,i){return new fi().fromBinary(n,i)}static fromJson(n,i){return new fi().fromJson(n,i)}static fromJsonString(n,i){return new fi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(fi,n,i)}};u(fi,"runtime",f),u(fi,"typeName","yorkie.v1.DeactivateClientRequest"),u(fi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let eh=fi;const hi=class hi extends C{constructor(t){super(),f.util.initPartial(t,this)}static fromBinary(t,n){return new hi().fromBinary(t,n)}static fromJson(t,n){return new hi().fromJson(t,n)}static fromJsonString(t,n){return new hi().fromJsonString(t,n)}static equals(t,n){return f.util.equals(hi,t,n)}};u(hi,"runtime",f),u(hi,"typeName","yorkie.v1.DeactivateClientResponse"),u(hi,"fields",f.util.newFieldList(()=>[]));let nh=hi;const di=class di extends C{constructor(n){super();u(this,"clientId","");u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new di().fromBinary(n,i)}static fromJson(n,i){return new di().fromJson(n,i)}static fromJsonString(n,i){return new di().fromJsonString(n,i)}static equals(n,i){return f.util.equals(di,n,i)}};u(di,"runtime",f),u(di,"typeName","yorkie.v1.AttachDocumentRequest"),u(di,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Xi}]));let ih=di;const gi=class gi extends C{constructor(n){super();u(this,"documentId","");u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new gi().fromBinary(n,i)}static fromJson(n,i){return new gi().fromJson(n,i)}static fromJsonString(n,i){return new gi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(gi,n,i)}};u(gi,"runtime",f),u(gi,"typeName","yorkie.v1.AttachDocumentResponse"),u(gi,"fields",f.util.newFieldList(()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Xi}]));let rh=gi;const mi=class mi extends C{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"changePack");u(this,"removeIfNotAttached",!1);f.util.initPartial(n,this)}static fromBinary(n,i){return new mi().fromBinary(n,i)}static fromJson(n,i){return new mi().fromJson(n,i)}static fromJsonString(n,i){return new mi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(mi,n,i)}};u(mi,"runtime",f),u(mi,"typeName","yorkie.v1.DetachDocumentRequest"),u(mi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Xi},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]));let ah=mi;const yi=class yi extends C{constructor(n){super();u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new yi().fromBinary(n,i)}static fromJson(n,i){return new yi().fromJson(n,i)}static fromJsonString(n,i){return new yi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(yi,n,i)}};u(yi,"runtime",f),u(yi,"typeName","yorkie.v1.DetachDocumentResponse"),u(yi,"fields",f.util.newFieldList(()=>[{no:2,name:"change_pack",kind:"message",T:Xi}]));let sh=yi;const pi=class pi extends C{constructor(n){super();u(this,"clientId","");u(this,"documentId","");f.util.initPartial(n,this)}static fromBinary(n,i){return new pi().fromBinary(n,i)}static fromJson(n,i){return new pi().fromJson(n,i)}static fromJsonString(n,i){return new pi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(pi,n,i)}};u(pi,"runtime",f),u(pi,"typeName","yorkie.v1.WatchDocumentRequest"),u(pi,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]));let lh=pi;const vi=class vi extends C{constructor(n){super();u(this,"body",{case:void 0});f.util.initPartial(n,this)}static fromBinary(n,i){return new vi().fromBinary(n,i)}static fromJson(n,i){return new vi().fromJson(n,i)}static fromJsonString(n,i){return new vi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(vi,n,i)}};u(vi,"runtime",f),u(vi,"typeName","yorkie.v1.WatchDocumentResponse"),u(vi,"fields",f.util.newFieldList(()=>[{no:1,name:"initialization",kind:"message",T:uh,oneof:"body"},{no:2,name:"event",kind:"message",T:Ff,oneof:"body"}]));let oh=vi;const Si=class Si extends C{constructor(n){super();u(this,"clientIds",[]);f.util.initPartial(n,this)}static fromBinary(n,i){return new Si().fromBinary(n,i)}static fromJson(n,i){return new Si().fromJson(n,i)}static fromJsonString(n,i){return new Si().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Si,n,i)}};u(Si,"runtime",f),u(Si,"typeName","yorkie.v1.WatchDocumentResponse.Initialization"),u(Si,"fields",f.util.newFieldList(()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}]));let uh=Si;const Ti=class Ti extends C{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new Ti().fromBinary(n,i)}static fromJson(n,i){return new Ti().fromJson(n,i)}static fromJsonString(n,i){return new Ti().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ti,n,i)}};u(Ti,"runtime",f),u(Ti,"typeName","yorkie.v1.RemoveDocumentRequest"),u(Ti,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Xi}]));let ch=Ti;const bi=class bi extends C{constructor(n){super();u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new bi().fromBinary(n,i)}static fromJson(n,i){return new bi().fromJson(n,i)}static fromJsonString(n,i){return new bi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(bi,n,i)}};u(bi,"runtime",f),u(bi,"typeName","yorkie.v1.RemoveDocumentResponse"),u(bi,"fields",f.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Xi}]));let fh=bi;const Ai=class Ai extends C{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"changePack");u(this,"pushOnly",!1);f.util.initPartial(n,this)}static fromBinary(n,i){return new Ai().fromBinary(n,i)}static fromJson(n,i){return new Ai().fromJson(n,i)}static fromJsonString(n,i){return new Ai().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ai,n,i)}};u(Ai,"runtime",f),u(Ai,"typeName","yorkie.v1.PushPullChangesRequest"),u(Ai,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Xi},{no:4,name:"push_only",kind:"scalar",T:8}]));let hh=Ai;const wi=class wi extends C{constructor(n){super();u(this,"changePack");f.util.initPartial(n,this)}static fromBinary(n,i){return new wi().fromBinary(n,i)}static fromJson(n,i){return new wi().fromJson(n,i)}static fromJsonString(n,i){return new wi().fromJsonString(n,i)}static equals(n,i){return f.util.equals(wi,n,i)}};u(wi,"runtime",f),u(wi,"typeName","yorkie.v1.PushPullChangesResponse"),u(wi,"fields",f.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Xi}]));let dh=wi;const Ei=class Ei extends C{constructor(n){super();u(this,"clientId","");u(this,"documentId","");u(this,"topic","");u(this,"payload",new Uint8Array(0));f.util.initPartial(n,this)}static fromBinary(n,i){return new Ei().fromBinary(n,i)}static fromJson(n,i){return new Ei().fromJson(n,i)}static fromJsonString(n,i){return new Ei().fromJsonString(n,i)}static equals(n,i){return f.util.equals(Ei,n,i)}};u(Ei,"runtime",f),u(Ei,"typeName","yorkie.v1.BroadcastRequest"),u(Ei,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]));let gh=Ei;const Ni=class Ni extends C{constructor(t){super(),f.util.initPartial(t,this)}static fromBinary(t,n){return new Ni().fromBinary(t,n)}static fromJson(t,n){return new Ni().fromJson(t,n)}static fromJsonString(t,n){return new Ni().fromJsonString(t,n)}static equals(t,n){return f.util.equals(Ni,t,n)}};u(Ni,"runtime",f),u(Ni,"typeName","yorkie.v1.BroadcastResponse"),u(Ni,"fields",f.util.newFieldList(()=>[]));let mh=Ni;const MA={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:Wf,O:th,kind:$t.Unary},deactivateClient:{name:"DeactivateClient",I:eh,O:nh,kind:$t.Unary},attachDocument:{name:"AttachDocument",I:ih,O:rh,kind:$t.Unary},detachDocument:{name:"DetachDocument",I:ah,O:sh,kind:$t.Unary},removeDocument:{name:"RemoveDocument",I:ch,O:fh,kind:$t.Unary},pushPullChanges:{name:"PushPullChanges",I:hh,O:dh,kind:$t.Unary},watchDocument:{name:"WatchDocument",I:lh,O:oh,kind:$t.ServerStreaming},broadcast:{name:"Broadcast",I:gh,O:mh,kind:$t.Unary}}},zA=f.makeMessageType("google.rpc.ErrorInfo",()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]);f.makeMessageType("google.rpc.RetryInfo",()=>[{no:1,name:"retry_delay",kind:"message",T:Mi}]);f.makeMessageType("google.rpc.DebugInfo",()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.QuotaFailure",()=>[{no:1,name:"violations",kind:"message",T:UA,repeated:!0}]);const UA=f.makeMessageType("google.rpc.QuotaFailure.Violation",()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}],{localName:"QuotaFailure_Violation"});f.makeMessageType("google.rpc.PreconditionFailure",()=>[{no:1,name:"violations",kind:"message",T:LA,repeated:!0}]);const LA=f.makeMessageType("google.rpc.PreconditionFailure.Violation",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}],{localName:"PreconditionFailure_Violation"});f.makeMessageType("google.rpc.BadRequest",()=>[{no:1,name:"field_violations",kind:"message",T:qA,repeated:!0}]);const qA=f.makeMessageType("google.rpc.BadRequest.FieldViolation",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"reason",kind:"scalar",T:9},{no:4,name:"localized_message",kind:"message",T:PA}],{localName:"BadRequest_FieldViolation"});f.makeMessageType("google.rpc.RequestInfo",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.ResourceInfo",()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.Help",()=>[{no:1,name:"links",kind:"message",T:JA,repeated:!0}]);const JA=f.makeMessageType("google.rpc.Help.Link",()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}],{localName:"Help_Link"}),PA=f.makeMessageType("google.rpc.LocalizedMessage",()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]);var S=(e=>(e.Ok="ok",e.ErrClientNotActivated="ErrClientNotActivated",e.ErrClientNotFound="ErrClientNotFound",e.ErrUnimplemented="ErrUnimplemented",e.ErrInvalidType="ErrInvalidType",e.ErrDummy="ErrDummy",e.ErrDocumentNotAttached="ErrDocumentNotAttached",e.ErrDocumentNotDetached="ErrDocumentNotDetached",e.ErrDocumentRemoved="ErrDocumentRemoved",e.ErrInvalidObjectKey="ErrInvalidObjectKey",e.ErrInvalidArgument="ErrInvalidArgument",e.ErrNotInitialized="ErrNotInitialized",e.ErrNotReady="ErrNotReady",e.ErrRefused="ErrRefused",e.ErrContextNotProvided="ErrContextNotProvided",e.ErrPermissionDenied="ErrPermissionDenied",e.ErrUnauthenticated="ErrUnauthenticated",e.ErrTooManySubscribers="ErrTooManySubscribers",e.ErrTooManyAttachments="ErrTooManyAttachments",e))(S||{});class b extends Error{constructor(n,i){super(i);u(this,"name","YorkieError");u(this,"stack");this.code=n,this.message=i,this.toString=()=>`[code=${this.code}]: ${this.message}`}}function Ye(e){if(e instanceof Map){const t=Array.from(e);return new Map(JSON.parse(JSON.stringify(t)))}return JSON.parse(JSON.stringify(e))}const R0=e=>e?Object.entries(e).length===0:!0,is=e=>{const t={};for(const[n,i]of Object.entries(e))t[n]=JSON.stringify(i);return t},Ji=e=>{const t={};for(const[n,i]of Object.entries(e))t[n]=JSON.parse(i);return t};var Cr=(e=>(e.Put="put",e.Clear="clear",e))(Cr||{});class Yc{constructor(t,n){u(this,"context");u(this,"presence");this.context=t,this.presence=n}set(t,n){for(const i of Object.keys(t))this.presence[i]=t[i];this.context.setPresenceChange({type:"put",presence:Ye(this.presence)}),this.context.setReversePresence(t,n)}get(t){return this.presence[t]}clear(){this.presence={},this.context.setPresenceChange({type:"clear"})}}const ec="000000000000000000000000",Ar=24;class Je{constructor(t,n,i){u(this,"lamport");u(this,"delimiter");u(this,"actorID");this.lamport=t,this.delimiter=n,this.actorID=i}static of(t,n,i){return new Je(t,n,i)}static fromStruct(t){return Je.of(BigInt(t.lamport),t.delimiter,t.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(t){return new Je(this.lamport,this.delimiter,t)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(t){return this.compare(t)>0}equals(t){return this.compare(t)===0}compare(t){if(this.lamport>t.lamport)return 1;if(t.lamport>this.lamport)return-1;const n=this.actorID.localeCompare(t.actorID);return n!==0?n:this.delimiter>t.delimiter?1:t.delimiter>this.delimiter?-1:0}}const k0=0,Zs=9223372036854775807n,rs=new Je(0n,k0,ec);function mn(e){return e.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(t){switch(t){case'"':case"\\":return"\\"+t;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return t}})}class ql{constructor(t){u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");this.createdAt=t}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(t){return!this.movedAt||t&&t.after(this.movedAt)?(this.movedAt=t,!0):!1}setRemovedAt(t){this.removedAt=t}remove(t){return t&&t.after(this.getPositionedAt())&&(!this.removedAt||t.after(this.removedAt))?(this.removedAt=t,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let t=0;return this.getCreatedAt()&&(t+=Ar),this.getMovedAt()&&(t+=Ar),this.getRemovedAt()&&(t+=Ar),t}}class wr extends ql{constructor(t){super(t)}}class wd{constructor(t,n){u(this,"strKey");u(this,"value");this.strKey=t,this.value=n}static of(t,n){return new wd(t,n)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(t){return this.value.remove(t)}}class yl{constructor(){u(this,"nodeMapByKey");u(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new yl}set(t,n,i){let r;const a=this.nodeMapByKey.get(t);a!=null&&!a.isRemoved()&&a.remove(i)&&(r=a.getValue());const s=wd.of(t,n);return this.nodeMapByCreatedAt.set(n.getCreatedAt().toIDString(),s),(a==null||i.after(a.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(t,s),n.setMovedAt(i)),r}delete(t,n){if(!this.nodeMapByCreatedAt.has(t.toIDString()))throw new b(S.ErrInvalidArgument,`fail to find ${t.toIDString()}`);const i=this.nodeMapByCreatedAt.get(t.toIDString());return i.remove(n),i.getValue()}subPathOf(t){const n=this.nodeMapByCreatedAt.get(t.toIDString());if(n)return n.getStrKey()}purge(t){const n=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!n)throw new b(S.ErrInvalidArgument,`fail to find ${t.getCreatedAt().toIDString()}`);const i=this.nodeMapByKey.get(n.getStrKey());n===i&&this.nodeMapByKey.delete(i.getStrKey()),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}deleteByKey(t,n){const i=this.nodeMapByKey.get(t);if(i!=null&&i.remove(n))return i.getValue()}has(t){const n=this.nodeMapByKey.get(t);return n==null?!1:!n.isRemoved()}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}get(t){const n=this.nodeMapByKey.get(t);if(!(!n||n.isRemoved()))return n}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}}class ie extends wr{constructor(n,i){super(n);u(this,"memberNodes");this.memberNodes=i}static create(n,i){if(!i)return new ie(n,yl.create());const r=yl.create();for(const[a,s]of Object.entries(i))r.set(a,s.deepcopy(),s.getCreatedAt());return new ie(n,r)}subPathOf(n){return this.memberNodes.subPathOf(n)}purge(n){this.memberNodes.purge(n)}set(n,i,r){return this.memberNodes.set(n,i,r)}delete(n,i){return this.memberNodes.delete(n,i)}deleteByKey(n,i){return this.memberNodes.deleteByKey(n,i)}get(n){const i=this.memberNodes.get(n);return i==null?void 0:i.getValue()}getByID(n){const i=this.memberNodes.getByID(n);return i==null?void 0:i.getValue()}has(n){return this.memberNodes.has(n)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const n=[];for(const[i,r]of this)n.push(`"${mn(i)}":${r.toJSON()}`);return`{${n.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const n={};for(const[i,r]of this){const{createdAt:a,value:s,type:l}=r.toJSForTest();n[i]={key:i,createdAt:a,value:s,type:l}}return{createdAt:this.getCreatedAt().toTestString(),value:n,type:"YORKIE_OBJECT"}}getKeys(){const n=Array();for(const[i]of this)n.push(i);return n}toSortedJSON(){var r;const n=Array();for(const[a]of this)n.push(a);const i=[];for(const a of n.sort()){const s=(r=this.memberNodes.get(a))==null?void 0:r.getValue();i.push(`"${mn(a)}":${s.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const n=ie.create(this.getCreatedAt());for(const i of this.memberNodes)n.memberNodes.set(i.getStrKey(),i.getValue().deepcopy(),this.getPositionedAt());return n.remove(this.getRemovedAt()),n}getDescendants(n){for(const i of this.memberNodes){const r=i.getValue();if(n(r,this))return;r instanceof wr&&r.getDescendants(n)}}*[Symbol.iterator](){const n=new Set;for(const i of this.memberNodes)n.has(i.getStrKey())||(n.add(i.getStrKey()),i.isRemoved()||(yield[i.getStrKey(),i.getValue()]))}}var at=(e=>(e.Local="local",e.Remote="remote",e.UndoRedo="undoredo",e))(at||{});class _e{constructor(t,n){u(this,"parentCreatedAt");u(this,"executedAt");this.parentCreatedAt=t,this.executedAt=n}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new b(S.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(t){this.executedAt&&(this.executedAt=this.executedAt.setActor(t))}setExecutedAt(t){this.executedAt=t}}class B0{constructor(t){u(this,"value");u(this,"left");u(this,"right");u(this,"parent");u(this,"weight");this.value=t,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(t){this.left=t}setRight(t){this.right=t}setParent(t){this.parent=t}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(t){this.weight+=t}initWeight(){this.weight=this.getLength()}}class pl{constructor(t){u(this,"root");this.root=t}get length(){return this.root?this.root.getWeight():0}find(t){if(!this.root||t<0)return[void 0,0];let n=this.root;for(;;)if(n.hasLeft()&&t<=n.getLeftWeight())n=n.getLeft();else if(n.hasRight()&&n.getLeftWeight()+n.getLength()<t)t-=n.getLeftWeight()+n.getLength(),n=n.getRight();else{t-=n.getLeftWeight();break}if(t>n.getLength())throw new b(S.ErrInvalidArgument,`out of index range: pos: ${t} > node.length: ${n.getLength()}`);return this.splayNode(n),[n,t]}indexOf(t){return!t||t!==this.root&&!t.hasLinks()?-1:(this.splayNode(t),this.root.getLeftWeight())}getRoot(){return this.root}insert(t){return this.insertAfter(this.root,t)}insertAfter(t,n){return t?(this.splayNode(t),this.root=n,n.setRight(t.getRight()),t.hasRight()&&t.getRight().setParent(n),n.setLeft(t),t.setParent(n),t.setRight(),this.updateWeight(t),this.updateWeight(n),n):(this.root=n,n)}updateWeight(t){t.initWeight(),t.hasLeft()&&t.increaseWeight(t.getLeftWeight()),t.hasRight()&&t.increaseWeight(t.getRightWeight())}updateTreeWeight(t){for(;t;)this.updateWeight(t),t=t.getParent()}splayNode(t){if(t)for(;;)if(this.isLeftChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t),this.rotateLeft(t);else if(this.isLeftChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t.getParent()),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t.getParent()),this.rotateLeft(t);else{this.isLeftChild(t)?this.rotateRight(t):this.isRightChild(t)&&this.rotateLeft(t),this.updateWeight(t);return}}delete(t){this.splayNode(t);const n=new pl(t.getLeft());n.root&&n.root.setParent();const i=new pl(t.getRight());if(i.root&&i.root.setParent(),n.root){const r=n.getRightmost();n.splayNode(r),n.root.setRight(i.root),i.root&&i.root.setParent(n.root),this.root=n.root}else this.root=i.root;t.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(t,n){if(!n){this.splayNode(t),this.cutOffRight(t);return}this.splayNode(t),this.splayNode(n),n.getLeft()!=t&&this.rotateRight(t),this.cutOffRight(t)}cutOffRight(t){const n=[];this.traversePostorder(t.getRight(),n);for(const i of n)i.initWeight();this.updateTreeWeight(t)}toTestString(){const t=[];return this.traverseInorder(this.root,t),t.map(n=>`[${n.getWeight()},${n.getLength()}]${n.getValue()||""}`).join("")}checkWeight(){const t=[];this.traverseInorder(this.root,t);for(const n of t)if(n.getWeight()!=n.getLength()+n.getLeftWeight()+n.getRightWeight())return!1;return!0}getRightmost(){let t=this.root;for(;t.hasRight();)t=t.getRight();return t}traverseInorder(t,n){t&&(this.traverseInorder(t.getLeft(),n),n.push(t),this.traverseInorder(t.getRight(),n))}traversePostorder(t,n){t&&(this.traversePostorder(t.getLeft(),n),this.traversePostorder(t.getRight(),n),n.push(t))}rotateLeft(t){const n=t.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(t):n.getParent().setRight(t):this.root=t,t.setParent(n.getParent()),n.setRight(t.getLeft()),n.hasRight()&&n.getRight().setParent(n),t.setLeft(n),t.getLeft().setParent(t),this.updateWeight(n),this.updateWeight(t)}rotateRight(t){const n=t.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(t):n.getParent().setRight(t):this.root=t,t.setParent(n.getParent()),n.setLeft(t.getRight()),n.hasLeft()&&n.getLeft().setParent(n),t.setRight(n),t.getRight().setParent(t),this.updateWeight(n),this.updateWeight(t)}isLeftChild(t){return t&&t.hasParent()?t.getParent().getLeft()===t:!1}isRightChild(t){return t&&t.hasParent()?t.getParent().getRight()===t:!1}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var Le=null;try{Le=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function X(e,t,n){this.low=e|0,this.high=t|0,this.unsigned=!!n}X.prototype.__isLong__;Object.defineProperty(X.prototype,"__isLong__",{value:!0});function Kt(e){return(e&&e.__isLong__)===!0}function Xm(e){var t=Math.clz32(e&-e);return e?31-t:t}X.isLong=Kt;var Zm={},Qm={};function oa(e,t){var n,i,r;return t?(e>>>=0,(r=0<=e&&e<256)&&(i=Qm[e],i)?i:(n=Q(e,0,!0),r&&(Qm[e]=n),n)):(e|=0,(r=-128<=e&&e<128)&&(i=Zm[e],i)?i:(n=Q(e,e<0?-1:0,!1),r&&(Zm[e]=n),n))}X.fromInt=oa;function qe(e,t){if(isNaN(e))return t?Ui:$e;if(t){if(e<0)return Ui;if(e>=I0)return U0}else{if(e<=-9223372036854776e3)return ne;if(e+1>=VA)return z0}return e<0?qe(-e,t).neg():Q(e%as|0,e/as|0,t)}X.fromNumber=qe;function Q(e,t,n){return new X(e,t,n)}X.fromBits=Q;var Cu=Math.pow;function Ed(e,t,n){if(e.length===0)throw Error("empty string");if(typeof t=="number"?(n=t,t=!1):t=!!t,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t?Ui:$e;if(n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return Ed(e.substring(1),t,n).neg();for(var r=qe(Cu(n,8)),a=$e,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),o=parseInt(e.substring(s,s+l),n);if(l<8){var c=qe(Cu(n,l));a=a.mul(c).add(qe(o))}else a=a.mul(r),a=a.add(qe(o))}return a.unsigned=t,a}X.fromString=Ed;function Ge(e,t){return typeof e=="number"?qe(e,t):typeof e=="string"?Ed(e,t):Q(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}X.fromValue=Ge;var _m=65536,HA=1<<24,as=_m*_m,I0=as*as,VA=I0/2,Fm=oa(HA),$e=oa(0);X.ZERO=$e;var Ui=oa(0,!0);X.UZERO=Ui;var Ra=oa(1);X.ONE=Ra;var M0=oa(1,!0);X.UONE=M0;var yh=oa(-1);X.NEG_ONE=yh;var z0=Q(-1,2147483647,!1);X.MAX_VALUE=z0;var U0=Q(-1,-1,!0);X.MAX_UNSIGNED_VALUE=U0;var ne=Q(0,-2147483648,!1);X.MIN_VALUE=ne;var D=X.prototype;D.toInt=function(){return this.unsigned?this.low>>>0:this.low};D.toNumber=function(){return this.unsigned?(this.high>>>0)*as+(this.low>>>0):this.high*as+(this.low>>>0)};D.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(ne)){var n=qe(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var a=qe(Cu(t,6),this.unsigned),s=this,l="";;){var o=s.div(a),c=s.sub(o.mul(a)).toInt()>>>0,h=c.toString(t);if(s=o,s.isZero())return h+l;for(;h.length<6;)h="0"+h;l=""+h+l}};D.getHighBits=function(){return this.high};D.getHighBitsUnsigned=function(){return this.high>>>0};D.getLowBits=function(){return this.low};D.getLowBitsUnsigned=function(){return this.low>>>0};D.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ne)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,n=31;n>0&&!(t&1<<n);n--);return this.high!=0?n+33:n+1};D.isSafeInteger=function(){var t=this.high>>21;return t?this.unsigned?!1:t===-1&&!(this.low===0&&this.high===-2097152):!0};D.isZero=function(){return this.high===0&&this.low===0};D.eqz=D.isZero;D.isNegative=function(){return!this.unsigned&&this.high<0};D.isPositive=function(){return this.unsigned||this.high>=0};D.isOdd=function(){return(this.low&1)===1};D.isEven=function(){return(this.low&1)===0};D.equals=function(t){return Kt(t)||(t=Ge(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low};D.eq=D.equals;D.notEquals=function(t){return!this.eq(t)};D.neq=D.notEquals;D.ne=D.notEquals;D.lessThan=function(t){return this.comp(t)<0};D.lt=D.lessThan;D.lessThanOrEqual=function(t){return this.comp(t)<=0};D.lte=D.lessThanOrEqual;D.le=D.lessThanOrEqual;D.greaterThan=function(t){return this.comp(t)>0};D.gt=D.greaterThan;D.greaterThanOrEqual=function(t){return this.comp(t)>=0};D.gte=D.greaterThanOrEqual;D.ge=D.greaterThanOrEqual;D.compare=function(t){if(Kt(t)||(t=Ge(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1};D.comp=D.compare;D.negate=function(){return!this.unsigned&&this.eq(ne)?ne:this.not().add(Ra)};D.neg=D.negate;D.add=function(t){Kt(t)||(t=Ge(t));var n=this.high>>>16,i=this.high&65535,r=this.low>>>16,a=this.low&65535,s=t.high>>>16,l=t.high&65535,o=t.low>>>16,c=t.low&65535,h=0,m=0,d=0,g=0;return g+=a+c,d+=g>>>16,g&=65535,d+=r+o,m+=d>>>16,d&=65535,m+=i+l,h+=m>>>16,m&=65535,h+=n+s,h&=65535,Q(d<<16|g,h<<16|m,this.unsigned)};D.subtract=function(t){return Kt(t)||(t=Ge(t)),this.add(t.neg())};D.sub=D.subtract;D.multiply=function(t){if(this.isZero())return this;if(Kt(t)||(t=Ge(t)),Le){var n=Le.mul(this.low,this.high,t.low,t.high);return Q(n,Le.get_high(),this.unsigned)}if(t.isZero())return this.unsigned?Ui:$e;if(this.eq(ne))return t.isOdd()?ne:$e;if(t.eq(ne))return this.isOdd()?ne:$e;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Fm)&&t.lt(Fm))return qe(this.toNumber()*t.toNumber(),this.unsigned);var i=this.high>>>16,r=this.high&65535,a=this.low>>>16,s=this.low&65535,l=t.high>>>16,o=t.high&65535,c=t.low>>>16,h=t.low&65535,m=0,d=0,g=0,A=0;return A+=s*h,g+=A>>>16,A&=65535,g+=a*h,d+=g>>>16,g&=65535,g+=s*c,d+=g>>>16,g&=65535,d+=r*h,m+=d>>>16,d&=65535,d+=a*c,m+=d>>>16,d&=65535,d+=s*o,m+=d>>>16,d&=65535,m+=i*h+r*c+a*o+s*l,m&=65535,Q(g<<16|A,m<<16|d,this.unsigned)};D.mul=D.multiply;D.divide=function(t){if(Kt(t)||(t=Ge(t)),t.isZero())throw Error("division by zero");if(Le){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var n=(this.unsigned?Le.div_u:Le.div_s)(this.low,this.high,t.low,t.high);return Q(n,Le.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Ui:$e;var i,r,a;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Ui;if(t.gt(this.shru(1)))return M0;a=Ui}else{if(this.eq(ne)){if(t.eq(Ra)||t.eq(yh))return ne;if(t.eq(ne))return Ra;var s=this.shr(1);return i=s.div(t).shl(1),i.eq($e)?t.isNegative()?Ra:yh:(r=this.sub(t.mul(i)),a=i.add(r.div(t)),a)}else if(t.eq(ne))return this.unsigned?Ui:$e;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();a=$e}for(r=this;r.gte(t);){i=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var l=Math.ceil(Math.log(i)/Math.LN2),o=l<=48?1:Cu(2,l-48),c=qe(i),h=c.mul(t);h.isNegative()||h.gt(r);)i-=o,c=qe(i,this.unsigned),h=c.mul(t);c.isZero()&&(c=Ra),a=a.add(c),r=r.sub(h)}return a};D.div=D.divide;D.modulo=function(t){if(Kt(t)||(t=Ge(t)),Le){var n=(this.unsigned?Le.rem_u:Le.rem_s)(this.low,this.high,t.low,t.high);return Q(n,Le.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))};D.mod=D.modulo;D.rem=D.modulo;D.not=function(){return Q(~this.low,~this.high,this.unsigned)};D.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};D.clz=D.countLeadingZeros;D.countTrailingZeros=function(){return this.low?Xm(this.low):Xm(this.high)+32};D.ctz=D.countTrailingZeros;D.and=function(t){return Kt(t)||(t=Ge(t)),Q(this.low&t.low,this.high&t.high,this.unsigned)};D.or=function(t){return Kt(t)||(t=Ge(t)),Q(this.low|t.low,this.high|t.high,this.unsigned)};D.xor=function(t){return Kt(t)||(t=Ge(t)),Q(this.low^t.low,this.high^t.high,this.unsigned)};D.shiftLeft=function(t){return Kt(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?Q(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Q(0,this.low<<t-32,this.unsigned)};D.shl=D.shiftLeft;D.shiftRight=function(t){return Kt(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?Q(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Q(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};D.shr=D.shiftRight;D.shiftRightUnsigned=function(t){return Kt(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?Q(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):t===32?Q(this.high,0,this.unsigned):Q(this.high>>>t-32,0,this.unsigned)};D.shru=D.shiftRightUnsigned;D.shr_u=D.shiftRightUnsigned;D.rotateLeft=function(t){var n;return Kt(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?Q(this.high,this.low,this.unsigned):t<32?(n=32-t,Q(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(t-=32,n=32-t,Q(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))};D.rotl=D.rotateLeft;D.rotateRight=function(t){var n;return Kt(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?Q(this.high,this.low,this.unsigned):t<32?(n=32-t,Q(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(t-=32,n=32-t,Q(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))};D.rotr=D.rotateRight;D.toSigned=function(){return this.unsigned?Q(this.low,this.high,!1):this};D.toUnsigned=function(){return this.unsigned?this:Q(this.low,this.high,!0)};D.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()};D.toBytesLE=function(){var t=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};D.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};X.fromBytes=function(t,n,i){return i?X.fromBytesLE(t,n):X.fromBytesBE(t,n)};X.fromBytesLE=function(t,n){return new X(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)};X.fromBytesBE=function(t,n){return new X(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};typeof BigInt=="function"&&(X.fromBigInt=function(t,n){var i=Number(BigInt.asIntN(32,t)),r=Number(BigInt.asIntN(32,t>>BigInt(32)));return Q(i,r,n)},X.fromValue=function(t,n){return typeof t=="bigint"?fromBigInt(t,n):Ge(t,n)},D.toBigInt=function(){var t=BigInt(this.low>>>0),n=BigInt(this.unsigned?this.high>>>0:this.high);return n<<BigInt(32)|t});var Ct=(e=>(e[e.Null=0]="Null",e[e.Boolean=1]="Boolean",e[e.Integer=2]="Integer",e[e.Long=3]="Long",e[e.Double=4]="Double",e[e.String=5]="String",e[e.Bytes=6]="Bytes",e[e.Date=7]="Date",e))(Ct||{});class Tt extends ql{constructor(n,i){super(i);u(this,"valueType");u(this,"value");this.valueType=Tt.getPrimitiveType(n),this.value=n===void 0?null:n}static of(n,i){return new Tt(n,i)}static valueFromBytes(n,i){switch(n){case 0:return null;case 1:return!!i[0];case 2:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 4:{const r=new DataView(i.buffer);return i.forEach(function(a,s){r.setUint8(s,a)}),r.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(i);case 3:return X.fromBytesLE(Array.from(i));case 6:return i;case 7:return new Date(X.fromBytesLE(Array.from(i),!0).toNumber());default:throw new b(S.ErrUnimplemented,`unimplemented type: ${n}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new b(S.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${mn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const n=Tt.of(this.value,this.getCreatedAt());return n.setMovedAt(this.getMovedAt()),n.setRemovedAt(this.getRemovedAt()),n}getType(){return this.valueType}static getPrimitiveType(n){switch(typeof n){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(n)?2:4;case"string":return 5;case"object":if(n===null)return 0;if(n instanceof X)return 3;if(n instanceof Uint8Array)return 6;if(n instanceof Date)return 7}}static isSupport(n){return Tt.getPrimitiveType(n)!==void 0}static isInteger(n){return n%1===0}isNumericType(){const n=this.valueType;return n===2||n===3||n===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const n=this.value;return new Uint8Array([n&255,n>>8&255,n>>16&255,n>>24&255])}case 4:{const n=this.value,i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,n,!0),i}case 5:return new TextEncoder().encode(this.value);case 3:{const i=this.value.toBytesLE();return Uint8Array.from(i)}case 6:return this.value;case 7:{const n=this.value,i=X.fromNumber(n.getTime(),!0).toBytesLE();return Uint8Array.from(i)}default:throw new b(S.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Ru extends B0{constructor(n){super(n);u(this,"prev");u(this,"next");this.value=n}static createAfter(n,i){const r=new Ru(i),a=n.next;return n.next=r,r.prev=n,r.next=a,a&&(a.prev=r),r}remove(n){return this.value.remove(n)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class vl{constructor(){u(this,"dummyHead");u(this,"last");u(this,"nodeMapByIndex");u(this,"nodeMapByCreatedAt");const t=Tt.of(0,rs);t.setRemovedAt(rs),this.dummyHead=new Ru(t),this.last=this.dummyHead,this.nodeMapByIndex=new pl,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new vl}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(t,n){let i=this.nodeMapByCreatedAt.get(t.toIDString());if(!i)throw new b(S.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);for(;i.getNext()&&i.getNext().getPositionedAt().after(n);)i=i.getNext();return i}release(t){this.last===t&&(this.last=t.getPrev()),t.release(),this.nodeMapByIndex.delete(t),this.nodeMapByCreatedAt.delete(t.getValue().getCreatedAt().toIDString())}insertAfter(t,n,i=n.getCreatedAt()){const r=this.findNextBeforeExecutedAt(t,i),a=Ru.createAfter(r,n);r===this.last&&(this.last=a),this.nodeMapByIndex.insertAfter(r,a),this.nodeMapByCreatedAt.set(a.getCreatedAt().toIDString(),a)}moveAfter(t,n,i){const r=this.nodeMapByCreatedAt.get(t.toIDString());if(!r)throw new b(S.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);const a=this.nodeMapByCreatedAt.get(n.toIDString());if(!a)throw new b(S.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);r!==a&&(!a.getValue().getMovedAt()||i.after(a.getValue().getMovedAt()))&&(this.release(a),this.insertAfter(r.getCreatedAt(),a.getValue(),i),a.getValue().setMovedAt(i))}insert(t){this.insertAfter(this.last.getCreatedAt(),t)}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}subPathOf(t){const n=this.nodeMapByCreatedAt.get(t.toIDString());if(n)return String(this.nodeMapByIndex.indexOf(n))}purge(t){const n=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!n)throw new b(S.ErrInvalidArgument,`fail to find the given createdAt: ${t.getCreatedAt().toIDString()}`);this.release(n)}getByIndex(t){if(t>=this.length)return;const[n,i]=this.nodeMapByIndex.find(t);let r=n;if(t===0&&n===this.dummyHead||i>0)do r&&(r=r.getNext());while(r&&r.isRemoved());return r}getPrevCreatedAt(t){let n=this.nodeMapByCreatedAt.get(t.toIDString());do n=n.getPrev();while(this.dummyHead!==n&&n.isRemoved());return n.getValue().getCreatedAt()}delete(t,n){const i=this.nodeMapByCreatedAt.get(t.toIDString()),r=i.isRemoved();return i.remove(n)&&!r&&this.nodeMapByIndex.splayNode(i),i.getValue()}deleteByIndex(t,n){const i=this.getByIndex(t);if(i)return i.remove(n)&&this.nodeMapByIndex.splayNode(i),i.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const t=[];for(const n of this){const i=`${n.getCreatedAt().toIDString()}:${n.getValue().toJSON()}`;n.isRemoved()?t.push(`{${i}}`):t.push(`[${i}]`)}return t.join("")}*[Symbol.iterator](){let t=this.dummyHead.getNext();for(;t;)yield t,t=t.getNext()}}class pe extends wr{constructor(n,i){super(n);u(this,"elements");this.elements=i}static create(n,i){if(!i)return new pe(n,vl.create());const r=vl.create();for(const a of i)r.insertAfter(r.getLastCreatedAt(),a.deepcopy());return new pe(n,r)}subPathOf(n){return this.elements.subPathOf(n)}purge(n){this.elements.purge(n)}insertAfter(n,i){this.elements.insertAfter(n,i)}moveAfter(n,i,r){this.elements.moveAfter(n,i,r)}get(n){const i=this.elements.getByIndex(n);return i==null?void 0:i.getValue()}getByID(n){const i=this.elements.getByID(n);return i==null?void 0:i.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(n){return this.elements.getPrevCreatedAt(n)}delete(n,i){return this.elements.delete(n,i)}deleteByIndex(n,i){return this.elements.deleteByIndex(n,i)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const n of this.elements)n.isRemoved()||(yield n.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(n){for(const i of this.elements){const r=i.getValue();if(n(r,this))return;r instanceof wr&&r.getDescendants(n)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const n=[];for(const i of this)n.push(i.toJSON());return`[${n.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const n={};for(let i=0;i<this.length;i++){const{createdAt:r,value:a,type:s}=this.get(i).toJSForTest();n[i]={key:String(i),createdAt:r,value:a,type:s}}return{createdAt:this.getCreatedAt().toTestString(),value:n,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const n=pe.create(this.getCreatedAt());for(const i of this.elements)n.elements.insertAfter(n.getLastCreatedAt(),i.getValue().deepcopy());return n.remove(this.getRemovedAt()),n}}class Rr extends _e{constructor(n,i,r){super(n,r);u(this,"createdAt");this.createdAt=i}static create(n,i,r){return new Rr(n,i,r)}execute(n,i){var c;const r=n.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new b(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof wr))throw new b(S.ErrInvalidArgument,`only object and array can execute remove: ${r}`);if(i===at.UndoRedo){let h=r.getByID(this.createdAt);for(;h;){if(h.getRemovedAt())return;h=(c=n.findElementPairByCreatedAt(h.getCreatedAt()))==null?void 0:c.parent}}const a=r.subPathOf(this.createdAt),s=this.toReverseOperation(r),l=r.delete(this.createdAt,this.getExecutedAt());return n.registerRemovedElement(l),{opInfos:r instanceof pe?[{type:"remove",path:n.createPath(this.getParentCreatedAt()),index:Number(a)}]:[{type:"remove",path:n.createPath(this.getParentCreatedAt()),key:a}],reverseOp:s}}toReverseOperation(n){if(n instanceof ie){const i=n.subPathOf(this.createdAt);if(i!==void 0){const r=n.get(i);if(r!==void 0)return ia.create(i,r.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class ia extends _e{constructor(n,i,r,a){super(r,a);u(this,"key");u(this,"value");this.key=n,this.value=i}static create(n,i,r,a){return new ia(n,i,r,a)}execute(n,i){var c;const r=n.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new b(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof ie))throw new b(S.ErrInvalidArgument,"fail to execute, only object can execute set");if(i===at.UndoRedo){let h=r;for(;h;){if(h.getRemovedAt())return;h=(c=n.findElementPairByCreatedAt(h.getCreatedAt()))==null?void 0:c.parent}}const a=r.get(this.key),s=this.toReverseOperation(a),l=this.value.deepcopy(),o=r.set(this.key,l,this.getExecutedAt());return i===at.UndoRedo&&n.findByCreatedAt(l.getCreatedAt())&&n.deregisterElement(l),n.registerElement(l,r),o&&n.registerRemovedElement(o),{opInfos:[{type:"set",path:n.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:s}}toReverseOperation(n){let i=Rr.create(this.getParentCreatedAt(),this.value.getCreatedAt());return n!==void 0&&!n.isRemoved()&&(i=ia.create(this.key,n.deepcopy(),this.getParentCreatedAt())),i}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Jl extends _e{constructor(n,i,r,a){super(n,a);u(this,"prevCreatedAt");u(this,"value");this.prevCreatedAt=i,this.value=r}static create(n,i,r,a){return new Jl(n,i,r,a)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new b(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof pe))throw new b(S.ErrInvalidArgument,"fail to execute, only array can execute add");const r=i,a=this.value.deepcopy();return r.insertAfter(this.prevCreatedAt,a),n.registerElement(a,r),{opInfos:[{type:"add",path:n.createPath(this.getParentCreatedAt()),index:Number(r.subPathOf(this.getEffectedCreatedAt()))}]}}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class hr extends _e{constructor(n,i,r,a){super(n,a);u(this,"prevCreatedAt");u(this,"createdAt");this.prevCreatedAt=i,this.createdAt=r}static create(n,i,r,a){return new hr(n,i,r,a)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new b(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof pe))throw new b(S.ErrInvalidArgument,"fail to execute, only array can execute move");const r=i,a=Number(r.subPathOf(this.createdAt));r.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const s=Number(r.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:n.createPath(this.getParentCreatedAt()),index:s,previousIndex:a}]}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class Hr{constructor(t,n,i,r){u(this,"key");u(this,"value");u(this,"updatedAt");u(this,"_isRemoved");this.key=t,this.value=n,this.updatedAt=i,this._isRemoved=r}static of(t,n,i,r){return new Hr(t,n,i,r)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Ar}}}class Ki{constructor(){u(this,"nodeMapByKey");u(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Ki}getNodeMapByKey(){return this.nodeMapByKey}set(t,n,i){const r=this.nodeMapByKey.get(t);if(r&&r.isRemoved()&&i.after(r.getUpdatedAt())&&(this.numberOfRemovedElement-=1),r===void 0||i.after(r.getUpdatedAt())){const a=Hr.of(t,n,i,!1);return this.nodeMapByKey.set(t,a),r!==void 0&&r.isRemoved()?[r,a]:[void 0,a]}return r.isRemoved()?[r,void 0]:[void 0,void 0]}setInternal(t,n,i,r){const a=Hr.of(t,n,i,r);this.nodeMapByKey.set(t,a),r&&this.numberOfRemovedElement++}remove(t,n){const i=this.nodeMapByKey.get(t),r=[];if(i===void 0||n.after(i.getUpdatedAt())){if(i===void 0){this.numberOfRemovedElement+=1;const l=Hr.of(t,"",n,!0);return this.nodeMapByKey.set(t,l),r.push(l),r}const a=i.isRemoved();a||(this.numberOfRemovedElement+=1),a&&r.push(i);const s=Hr.of(t,i.getValue(),n,!0);return this.nodeMapByKey.set(t,s),r.push(s),r}return r}has(t){if(this.nodeMapByKey.has(t)){const n=this.nodeMapByKey.get(t);return n!==void 0&&!n.isRemoved()}return!1}get(t){if(this.nodeMapByKey.has(t))return this.nodeMapByKey.get(t).getValue()}deepcopy(){const t=new Ki;for(const[,n]of this.nodeMapByKey)t.setInternal(n.getKey(),n.getValue(),n.getUpdatedAt(),n.isRemoved());return t}toJSON(){if(!this.size())return"{}";const t=[];for(const[n,i]of this.nodeMapByKey)i.isRemoved()||t.push(`"${mn(n)}":"${mn(i.getValue())}"`);return`{${t.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const t={};for(const[n,i]of this.nodeMapByKey)i.isRemoved()||(t[n]=i.getValue());return t}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}purge(t){const n=this.nodeMapByKey.get(t.getKey());n==null||n.toIDString()!=t.toIDString()||(this.nodeMapByKey.delete(t.getKey()),this.numberOfRemovedElement--)}}class Sl{constructor(t){u(this,"attributes");u(this,"content");this.attributes=Ki.create(),this.content=t}static create(t){return new Sl(t)}get length(){return this.content.length}substring(t,n){const i=new Sl(this.content.substring(t,n));return i.attributes=this.attributes.deepcopy(),i}setAttr(t,n,i){return this.attributes.set(t,n,i)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const t={data:0,meta:0};t.data+=this.content.length*2;for(const n of this.attributes){const i=n.getDataSize();t.meta+=i.meta,t.data+=i.data}return t}toJSON(){const t=mn(this.content),n=this.attributes.toObject(),i=[];for(const[r,a]of Object.entries(n)){const s=JSON.parse(a),l=typeof s=="string"?`"${mn(r)}":"${mn(s)}"`:`"${mn(r)}":${String(s)}`;i.push(l)}return i.sort(),i.length===0?`{"val":"${t}"}`:`{"attrs":{${i.join(",")}},"val":"${t}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(t){this.attributes&&t instanceof Hr&&this.attributes.purge(t)}getGCPairs(){const t=[];for(const n of this.attributes)n.getRemovedAt()&&t.push({parent:this,child:n});return t}}class Ve extends ql{constructor(n,i){super(i);u(this,"rgaTreeSplit");this.rgaTreeSplit=n}static create(n,i){return new Ve(n,i)}edit(n,i,r,a,s){const l=i?Sl.create(i):void 0;if(l&&a)for(const[d,g]of Object.entries(a))l.setAttr(d,g,r);const[o,c,h]=this.rgaTreeSplit.edit(n,r,l,s);return[h.map(d=>({...d,value:d.value?{attributes:Ji(d.value.getAttributes()),content:d.value.getContent()}:{attributes:void 0,content:""},type:"content"})),c,[o,o]]}setStyle(n,i,r,a){const[,s]=this.rgaTreeSplit.findNodeWithSplit(n[1],r),[,l]=this.rgaTreeSplit.findNodeWithSplit(n[0],r),o=[],c=this.rgaTreeSplit.findBetween(l,s),h=[];for(const d of c){const g=d.getCreatedAt().getActorID();let A=Zs;a!=null&&(A=a.get(g)?a.get(g):0n),d.canStyle(r,A)&&h.push(d)}const m=[];for(const d of h){if(d.isRemoved())continue;const[g,A]=this.rgaTreeSplit.findIndexesFromRange(d.createPosRange());o.push({type:"style",actor:r.getActorID(),from:g,to:A,value:{attributes:Ji(i)}});for(const[E,O]of Object.entries(i)){const[p]=d.getValue().setAttr(E,O,r);p!==void 0&&m.push({parent:d.getValue(),child:p})}}return[m,o]}indexRangeToPosRange(n,i){const r=this.rgaTreeSplit.indexToPos(n);return n===i?[r,r]:[r,this.rgaTreeSplit.indexToPos(i)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const n={data:0,meta:0};for(const i of this.rgaTreeSplit){if(i.isRemoved())continue;const r=i.getDataSize();n.data+=r.data,n.meta+=r.meta}return{data:n.data,meta:n.meta+this.getMetaUsage()}}toJSON(){const n=[];for(const i of this.rgaTreeSplit)i.isRemoved()||n.push(i.getValue().toJSON());return`[${n.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const n=[];for(const i of this.rgaTreeSplit)if(!i.isRemoved()){const r=i.getValue();n.push({attributes:Ji(r.getAttributes()),content:r.getContent()})}return n}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const n=new Ve(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return n.remove(this.getRemovedAt()),n}findIndexesFromRange(n){return this.rgaTreeSplit.findIndexesFromRange(n)}getGCPairs(){const n=[];for(const i of this.rgaTreeSplit){i.getRemovedAt()&&n.push({parent:this.rgaTreeSplit,child:i});for(const r of i.getValue().getGCPairs())n.push(r)}return n}}class Pl extends _e{constructor(n,i,r,a,s,l){super(n,l);u(this,"fromPos");u(this,"toPos");u(this,"content");u(this,"attributes");this.fromPos=i,this.toPos=r,this.content=a,this.attributes=s}static create(n,i,r,a,s,l){return new Pl(n,i,r,a,s,l)}execute(n,i,r){const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new b(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Ve))throw new b(S.ErrInvalidArgument,"fail to execute, only Text can execute edit");const s=a,[l,o]=s.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),r);for(const c of o)n.registerGCPair(c);return{opInfos:l.map(({from:c,to:h,value:m})=>({type:"edit",from:c,to:h,value:m,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),r=this.toPos.toTestString(),a=this.content;return`${n}.EDIT(${i},${r},${a})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class Hl extends _e{constructor(n,i,r,a,s){super(n,s);u(this,"fromPos");u(this,"toPos");u(this,"attributes");this.fromPos=i,this.toPos=r,this.attributes=a}static create(n,i,r,a,s){return new Hl(n,i,r,a,s)}execute(n,i,r){const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new b(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Ve))throw new b(S.ErrInvalidArgument,"fail to execute, only Text can execute edit");const s=a,[l,o]=s.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),r);for(const c of l)n.registerGCPair(c);return{opInfos:o.map(({from:c,to:h,value:m})=>({type:"style",from:c,to:h,value:m,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),r=this.toPos.toTestString(),a=this.attributes;return`${n}.STYL(${i},${r},${JSON.stringify(a)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const jA=2,GA="root",Sn="text";function Ns(e,t){let n=0;const i=e.children;for(let r=0;r<t;r++){const a=i[r];!a||a.isRemoved||(n+=a.paddedSize)}return n}class YA{constructor(t,n=[]){u(this,"type");u(this,"parent");u(this,"_children");u(this,"size");if(this.type=t,this.size=0,this._children=n,this.isText&&this._children.length>0)throw new b(S.ErrRefused,"Text node cannot have children")}updateAncestorsSize(){let t=this.parent;const n=this.isRemoved?-1:1;for(;t&&(t.size+=this.paddedSize*n,!t.isRemoved);)t=t.parent}updateDescendantsSize(){let t=0;for(const n of this._children){const i=n.updateDescendantsSize();n.isRemoved||(t+=i)}return this.size+=t,this.paddedSize}get isText(){return this.type===Sn}get paddedSize(){return this.size+(this.isText?0:jA)}isAncestorOf(t){return KA(this,t)}get nextSibling(){const t=this.parent.findOffset(this),n=this.parent.children[t+1];if(n)return n}get prevSibling(){const t=this.parent.findOffset(this),n=this.parent.children[t-1];if(n)return n}splitText(t,n){if(t===0||t===this.size)return;const i=this.value.slice(0,t),r=this.value.slice(t);if(!r.length)return;this.value=i;const a=this.cloneText(t+n);return a.value=r,this.parent.insertAfterInternal(a,this),a}get children(){return this._children.filter(t=>!t.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(t=>t.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(t=>t.value).join(""):""}append(...t){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");this._children.push(...t);for(const n of t)n.parent=this,n.updateAncestorsSize()}prepend(...t){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");this._children.unshift(...t);for(const n of t)n.parent=this}insertBefore(t,n){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new b(S.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i),t.updateAncestorsSize()}insertAfter(t,n){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new b(S.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i+1),t.updateAncestorsSize()}insertAt(t,n){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");this.insertAtInternal(t,n),t.updateAncestorsSize()}removeChild(t){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");const n=this._children.indexOf(t);if(n===-1)throw new b(S.ErrInvalidArgument,"child not found");this._children.splice(n,1),t.parent=void 0}splitElement(t,n){const i=this.cloneElement(n);this.parent.insertAfterInternal(i,this),i.updateAncestorsSize();const r=this.children.slice(0,t),a=this.children.slice(t);this._children=r,i._children=a,this.size=this._children.reduce((s,l)=>s+l.paddedSize,0),i.size=i._children.reduce((s,l)=>s+l.paddedSize,0);for(const s of i._children)s.parent=i;return i}insertAfterInternal(t,n){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(n);if(i===-1)throw new b(S.ErrInvalidArgument,"child not found");this.insertAtInternal(t,i+1)}insertAtInternal(t,n){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");this._children.splice(n,0,t),t.parent=this}findOffset(t){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");if(t.isRemoved){const n=this._children.indexOf(t);return this.allChildren.splice(0,n).filter(r=>!r.isRemoved).length}return this.children.indexOf(t)}findBranchOffset(t){if(this.isText)throw new b(S.ErrRefused,"Text node cannot have children");let n=t;for(;n;){const i=this._children.indexOf(n);if(i!==-1)return i;n=n.parent}return-1}}function KA(e,t){if(e===t)return!1;for(;t.parent;){if(t.parent===e)return!0;t=t.parent}return!1}var xt=(e=>(e.Start="Start",e.End="End",e.Text="Text",e))(xt||{});function L0(e,t,n,i){if(t>n)throw new b(S.ErrInvalidArgument,`from is greater than to: ${t} > ${n}`);if(t>e.size)throw new b(S.ErrInvalidArgument,`from is out of range: ${t} > ${e.size}`);if(n>e.size)throw new b(S.ErrInvalidArgument,`to is out of range: ${n} > ${e.size}`);if(t===n)return;let r=0;for(const a of e.children){if(t-a.paddedSize<r&&r<n){const s=a.isText?t-r:t-r-1,l=a.isText?n-r:n-r-1,o=!a.isText&&s<0,c=!a.isText&&l>a.size;(a.isText||o)&&i([a,a.isText?"Text":"Start"],c),L0(a,Math.max(0,s),Math.min(l,a.size),i),c&&i([a,"End"],c)}r+=a.paddedSize}}function q0(e,t,n=0){for(const i of e.children)q0(i,t,n+1);t(e,n)}function nc(e,t,n=0){for(const i of e._children)nc(i,t,n+1);t(e,n)}function ph(e,t,n=!0){if(t>e.size)throw new b(S.ErrInvalidArgument,`index is out of range: ${t} > ${e.size}`);if(e.isText)return{node:e,offset:t};let i=0,r=0;for(const a of e.children){if(n&&a.isText&&a.size>=t-r)return ph(a,t-r,n);if(t===r)return{node:e,offset:i};if(!n&&a.paddedSize===t-r)return{node:e,offset:i+1};if(a.paddedSize>t-r)return ph(a,t-r-1,n);r+=a.paddedSize,i+=1}return{node:e,offset:i}}function J0(e){return e.isText||e.children.length===0?e:J0(e.children[0])}function $A(e,t){if(e.size<t)throw new b(S.ErrInvalidArgument,"unacceptable path");for(let n=0;n<e.children.length;n++){const i=e.children[n];if(i.size<t)t-=i.size;else{e=i;break}}return{node:e,offset:t}}class XA{constructor(t){u(this,"root");this.root=t}tokensBetween(t,n,i){L0(this.root,t,n,i)}traverse(t){q0(this.root,t,0)}traverseAll(t){nc(this.root,t,0)}findTreePos(t,n=!0){return ph(this.root,t,n)}treePosToPath(t){const n=[];let i=t.node;if(i.isText){const r=i.parent.findOffset(i);if(r===-1)throw new b(S.ErrInvalidArgument,"invalid treePos");const a=Ns(i.parent,r);n.push(a+t.offset),i=i.parent}else if(i.hasTextChild()){const r=Ns(i,t.offset);n.push(r)}else n.push(t.offset);for(;i.parent;){const r=i.parent.findOffset(i);if(r===-1)throw new b(S.ErrInvalidArgument,"invalid treePos");n.push(r),i=i.parent}return n.reverse()}pathToIndex(t){const n=this.pathToTreePos(t);return this.indexOf(n)}pathToTreePos(t){if(!t.length)throw new b(S.ErrInvalidArgument,"unacceptable path");let n=this.root;for(let i=0;i<t.length-1;i++){const r=t[i];if(n=n.children[r],!n)throw new b(S.ErrInvalidArgument,"unacceptable path")}if(n.hasTextChild())return $A(n,t[t.length-1]);if(n.children.length<t[t.length-1])throw new b(S.ErrInvalidArgument,"unacceptable path");return{node:n,offset:t[t.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(t){const{node:n,offset:i}=t;if(n.isText){if(n.size===i){const r=n.nextSibling;return r||n.parent}return n}return n.children.length===i?n:J0(n.children[i])}indexOf(t){let{node:n}=t;const{offset:i}=t;let r=0,a=1;if(n.isText){r+=i;const s=n.parent,l=s.findOffset(n);if(l===-1)throw new b(S.ErrInvalidArgument,"invalid pos");r+=Ns(s,l),n=n.parent}else r+=Ns(n,i);for(;n!=null&&n.parent;){const s=n.parent,l=s.findOffset(n);if(l===-1)throw new b(S.ErrInvalidArgument,"invalid pos");r+=Ns(s,l),a++,n=n.parent}return r+a-1}indexToPath(t){const n=this.findTreePos(t);return this.treePosToPath(n)}}const ZA=(e,t)=>e===t?0:e<t?-1:1;class QA{constructor(t,n,i){u(this,"key");u(this,"value");u(this,"parent");u(this,"left");u(this,"right");u(this,"isRed");this.key=t,this.value=n,this.isRed=i}}class _A{constructor(t){u(this,"stack");this.stack=[],this.traverseInorder(t)}traverseInorder(t){t&&(this.traverseInorder(t.left),this.stack.push({key:t.key,value:t.value}),this.traverseInorder(t.right))}}class P0{constructor(t){u(this,"root");u(this,"comparator");u(this,"counter");this.comparator=typeof t<"u"?t:ZA,this.counter=0}put(t,n){return this.root=this.putInternal(t,n,this.root),this.root.isRed=!1,n}get(t){const n=this.getInternal(t,this.root);return n?n.value:void 0}remove(t){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,t),this.root&&(this.root.isRed=!1)}getIterator(){return new _A(this.root)}values(){const t=[];for(const n of this.getIterator().stack)t.push(n.value);return t}floorEntry(t){let n=this.root;for(;n;){const i=this.comparator(t,n.key);if(i>0)if(n.right)n.right.parent=n,n=n.right;else return n;else if(i<0)if(n.left)n.left.parent=n,n=n.left;else{let r=n.parent,a=n;for(;r&&a===r.left;)a=r,r=r.parent;return r}else return n}}lastEntry(){if(!this.root)return this.root;let t=this.root;for(;t.right;)t=t.right;return t}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(t,n){for(;n;){const i=this.comparator(t,n.key);if(i===0)return n;i<0?n=n.left:i>0&&(n=n.right)}}putInternal(t,n,i){if(!i)return this.counter+=1,new QA(t,n,!0);const r=this.comparator(t,i.key);return r<0?i.left=this.putInternal(t,n,i.left):r>0?i.right=this.putInternal(t,n,i.right):i.value=n,this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}removeInternal(t,n){if(this.comparator(n,t.key)<0)!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeInternal(t.left,n);else{if(this.isRed(t.left)&&(t=this.rotateRight(t)),this.comparator(n,t.key)===0&&!t.right){this.counter-=1;return}if(!this.isRed(t.right)&&!this.isRed(t.right.left)&&(t=this.moveRedRight(t)),this.comparator(n,t.key)===0){this.counter-=1;const i=this.min(t.right);t.value=i.value,t.key=i.key,t.right=this.removeMin(t.right)}else t.right=this.removeInternal(t.right,n)}return this.fixUp(t)}min(t){return t.left?this.min(t.left):t}removeMin(t){if(t.left)return!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeMin(t.left),this.fixUp(t)}fixUp(t){return this.isRed(t.right)&&(t=this.rotateLeft(t)),this.isRed(t.left)&&this.isRed(t.left.left)&&(t=this.rotateRight(t)),this.isRed(t.left)&&this.isRed(t.right)&&this.flipColors(t),t}moveRedLeft(t){return this.flipColors(t),this.isRed(t.right.left)&&(t.right=this.rotateRight(t.right),t=this.rotateLeft(t),this.flipColors(t)),t}moveRedRight(t){return this.flipColors(t),this.isRed(t.left.left)&&(t=this.rotateRight(t),this.flipColors(t)),t}isRed(t){return t&&t.isRed}rotateLeft(t){const n=t.right;return t.right=n.left,n.left=t,n.isRed=n.left.isRed,n.left.isRed=!0,n}rotateRight(t){const n=t.left;return t.left=n.right,n.right=t,n.isRed=n.right.isRed,n.right.isRed=!0,n}flipColors(t){t.isRed=!t.isRed,t.left.isRed=!t.left.isRed,t.right.isRed=!t.right.isRed}}class Xe{constructor(t,n){u(this,"parentID");u(this,"leftSiblingID");this.parentID=t,this.leftSiblingID=n}static of(t,n){return new Xe(t,n)}static fromTreePos(t){const{offset:n}=t;let{node:i}=t,r;return i.isText?(i.parent.children[0]===i&&n===0?r=i.parent:r=i,i=i.parent):n===0?r=i:r=i.children[n-1],Xe.of(i.id,Vt.of(r.getCreatedAt(),r.getOffset()+n))}getParentID(){return this.parentID}static fromStruct(t){return Xe.of(Vt.of(Je.fromStruct(t.parentID.createdAt),t.parentID.offset),Vt.of(Je.fromStruct(t.leftSiblingID.createdAt),t.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(t){const n=this.getParentID(),i=this.getLeftSiblingID(),r=t.findFloorNode(n);let a=t.findFloorNode(i);if(!r||!a)throw new b(S.ErrRefused,`cannot find node of CRDTTreePos(${n.toTestString()}, ${i.toTestString()})`);return!i.equals(n)&&i.getOffset()>0&&i.getOffset()===a.id.getOffset()&&a.insPrevID&&(a=t.findFloorNode(a.insPrevID)),[r,a]}getLeftSiblingID(){return this.leftSiblingID}equals(t){return this.getParentID().getCreatedAt().equals(t.getParentID().getCreatedAt())&&this.getParentID().getOffset()===t.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(t.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===t.getLeftSiblingID().getOffset()}}class Vt{constructor(t,n){u(this,"createdAt");u(this,"offset");this.createdAt=t,this.offset=n}static of(t,n){return new Vt(t,n)}static fromStruct(t){return Vt.of(Je.fromStruct(t.createdAt),t.offset)}static createComparator(){return(t,n)=>{const i=t.getCreatedAt().compare(n.getCreatedAt());return i!==0?i:t.getOffset()>n.getOffset()?1:t.getOffset()<n.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}getOffset(){return this.offset}setOffset(t){this.offset=t}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class he extends YA{constructor(n,i,r,a,s){super(i);u(this,"id");u(this,"removedAt");u(this,"attrs");u(this,"insPrevID");u(this,"insNextID");u(this,"_value","");this.id=n,this.removedAt=s,a&&(this.attrs=a),typeof r=="string"?this.value=r:Array.isArray(r)&&(this._children=r)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(n,i,r,a){return new he(n,i,r,a)}deepcopy(){var i;const n=new he(this.id,this.type);return n.removedAt=this.removedAt,n._value=this._value,n.size=this.size,n.attrs=(i=this.attrs)==null?void 0:i.deepcopy(),n._children=this._children.map(r=>{const a=r.deepcopy();return a.parent=n,a}),n.insPrevID=this.insPrevID,n.insNextID=this.insNextID,n}get value(){if(!this.isText)throw new b(S.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(n){if(!this.isText)throw new b(S.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=n,this.size=n.length}get isRemoved(){return!!this.removedAt}remove(n){const i=!this.removedAt;(!this.removedAt||this.removedAt.compare(n)>0)&&(this.removedAt=n),i&&this.updateAncestorsSize()}cloneText(n){return new he(Vt.of(this.id.getCreatedAt(),n),this.type,void 0,void 0,this.removedAt)}cloneElement(n){return new he(Vt.of(n(),0),this.type,void 0,void 0,this.removedAt)}split(n,i,r){const a=this.isText?this.splitText(i,this.id.getOffset()):this.splitElement(i,r);if(a){if(a.insPrevID=this.id,this.insNextID){const s=n.findFloorNode(this.insNextID);s.insPrevID=a.id,a.insNextID=this.insNextID}this.insNextID=a.id,n.registerNode(a)}return a}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(n,i){return this.getCreatedAt().getLamport()<=i&&(!this.removedAt||n.after(this.removedAt))}canStyle(n,i){return this.isText?!1:this.getCreatedAt().getLamport()<=i&&(!this.removedAt||n.after(this.removedAt))}setAttrs(n,i){this.attrs||(this.attrs=new Ki);const r=[];for(const[a,s]of Object.entries(n))r.push(this.attrs.set(a,s,i));return r}purge(n){this.attrs&&this.attrs.purge(n)}getDataSize(){const n={data:0,meta:0};if(this.isText&&(n.data+=this.size*2),this.id&&(n.meta+=Ar),this.removedAt&&(n.meta+=Ar),this.attrs)for(const i of this.attrs){if(i.getRemovedAt())continue;const r=i.getDataSize();n.meta+=r.meta,n.data+=r.data}return n}getGCPairs(){const n=[];if(!this.attrs)return n;for(const i of this.attrs)i.getRemovedAt()&&n.push({parent:this,child:i});return n}}function vh(e){var n;if(e.isText){const i=e;return{type:i.type,value:i.value}}const t={type:e.type,children:e.children.map(vh)};return e.attrs&&(t.attributes=Ji((n=e.attrs)==null?void 0:n.toObject())),t}function Nd(e){if(e.isText)return e.value;let t="";return e.attrs&&e.attrs.size()&&(t=" "+Array.from(e.attrs).filter(n=>!n.isRemoved()).sort((n,i)=>n.getKey().localeCompare(i.getKey())).map(n=>{const i=JSON.parse(n.getValue());return typeof i=="string"?`${n.getKey()}="${i}"`:`${n.getKey()}="${mn(n.getValue())}"`}).join(" ")),`<${e.type}${t}>${e.children.map(n=>Nd(n)).join("")}</${e.type}>`}function H0(e){if(e.isText){const t=e;return{type:t.type,value:t.value,size:t.size,isRemoved:t.isRemoved}}return{type:e.type,children:e.children.map(H0),size:e.size,isRemoved:e.isRemoved}}class je extends ql{constructor(n,i){super(i);u(this,"indexTree");u(this,"nodeMapByID");this.indexTree=new XA(n),this.nodeMapByID=new P0(Vt.createComparator()),this.indexTree.traverseAll(r=>{this.nodeMapByID.put(r.id,r)})}static create(n,i){return new je(n,i)}findFloorNode(n){const i=this.nodeMapByID.floorEntry(n);if(!(!i||!i.key.getCreatedAt().equals(n.getCreatedAt())))return i.value}registerNode(n){this.nodeMapByID.put(n.id,n)}findNodesAndSplitText(n,i){const[r,a]=n.toTreeNodePair(this);let s=a;const l=r===s,o=s.parent&&!l?s.parent:r;if(s.isText&&s.split(this,n.getLeftSiblingID().getOffset()-s.id.getOffset()),i){const c=o.allChildren,h=l?0:c.indexOf(s)+1;for(let m=h;m<c.length;m++){const d=c[m];if(!d.id.getCreatedAt().after(i))break;s=d}}return[o,s]}style(n,i,r,a){const[s,l]=this.findNodesAndSplitText(n[0],r),[o,c]=this.findNodesAndSplitText(n[1],r),h=[],m=i?Ji(i):{},d=[];return this.traverseInPosRange(s,l,o,c,([g])=>{const A=g.getCreatedAt().getActorID();let E=Zs;if(a!=null&&(E=a.get(A)?a.get(A):0n),g.canStyle(r,E)&&i){const O=g.setAttrs(i,r),p=O.reduce((T,[,x])=>(x&&(T[x.getKey()]=m[x.getKey()]),T),{}),y=g.parent,v=g.prevSibling||g.parent;Object.keys(p).length>0&&h.push({type:"style",from:this.toIndex(y,v),to:this.toIndex(g,g),fromPath:this.toPath(y,v),toPath:this.toPath(g,g),actor:r.getActorID(),value:p});for(const[T]of O)T&&d.push({parent:g,child:T})}}),[d,h]}removeStyle(n,i,r,a){const[s,l]=this.findNodesAndSplitText(n[0],r),[o,c]=this.findNodesAndSplitText(n[1],r),h=[],m=[];return this.traverseInPosRange(s,l,o,c,([d])=>{const g=d.getCreatedAt().getActorID();let A=Zs;if(a!=null&&(A=a.get(g)?a.get(g):0n),d.canStyle(r,A)&&i){d.attrs||(d.attrs=new Ki);for(const p of i){const y=d.attrs.remove(p,r);for(const v of y)m.push({parent:d,child:v})}const E=d.parent,O=d.prevSibling||d.parent;h.push({actor:r.getActorID(),type:"removeStyle",from:this.toIndex(E,O),to:this.toIndex(d,d),fromPath:this.toPath(E,O),toPath:this.toPath(d,d),value:i})}}),[m,h]}edit(n,i,r,a,s,l){const[o,c]=this.findNodesAndSplitText(n[0],a),[h,m]=this.findNodesAndSplitText(n[1],a),d=this.toIndex(o,c),g=this.toPath(o,c),A=[],E=[],O=[];this.traverseInPosRange(o,c,h,m,([v,T],x)=>{if(T===xt.Start&&!x)for(const M of v.children)O.push(M);const k=v.getCreatedAt().getActorID();let R=Zs;l!=null&&(R=l.get(k)?l.get(k):0n),(v.canDelete(a,R)||A.includes(v.parent))&&((T===xt.Text||T===xt.Start)&&A.push(v),E.push([v,T]))});const p=this.makeDeletionChanges(E,a),y=[];for(const v of A)v.remove(a),v.isRemoved&&y.push({parent:this,child:v});for(const v of O)v.removedAt||o.append(v);if(r>0){let v=0,T=o,x=c;for(;v<r;)T.split(this,T.findOffset(x)+1,s),x=T,T=T.parent,v++;p.push({type:"content",from:d,to:d,fromPath:g,toPath:g,actor:a.getActorID()})}if(i!=null&&i.length){const v=[];let T=c;for(const x of i)T===o?o.insertAt(x,0):o.insertAfter(x,T),T=x,nc(x,k=>{o.isRemoved&&(k.remove(a),y.push({parent:this,child:k})),this.nodeMapByID.put(k.id,k)}),x.isRemoved||v.push(x);if(v.length){const x=v.map(k=>vh(k));p.length&&p[p.length-1].from===d?p[p.length-1].value=x:p.push({type:"content",from:d,to:d,fromPath:g,toPath:g,actor:a.getActorID(),value:x})}}return[p,y]}editT(n,i,r,a,s){const l=this.findPos(n[0]),o=this.findPos(n[1]);this.edit([l,o],i,r,a,s)}move(n,i,r){throw new b(S.ErrUnimplemented,`not implemented: ${n}, ${i}, ${r}`)}pathToTreePos(n){return this.indexTree.pathToTreePos(n)}purge(n){var a;(a=n.parent)==null||a.removeChild(n),this.nodeMapByID.remove(n.id);const i=n.insPrevID,r=n.insNextID;if(i){const s=this.findFloorNode(i);s.insNextID=r}if(r){const s=this.findFloorNode(r);s.insPrevID=i}n.insPrevID=void 0,n.insNextID=void 0}getGCPairs(){const n=[];return this.indexTree.traverse(i=>{i.getRemovedAt()&&n.push({parent:this,child:i});for(const r of i.getGCPairs())n.push(r)}),n}findPos(n,i=!0){const r=this.indexTree.findTreePos(n,i);return Xe.fromTreePos(r)}pathToPosRange(n){const i=this.pathToIndex(n);return[this.findPos(i),this.findPos(i+1)]}pathToPos(n){const i=this.indexTree.pathToIndex(n);return this.findPos(i)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Nd(this.indexTree.getRoot())}getDataSize(){const n={data:0,meta:0};return this.indexTree.traverse(i=>{if(i.getRemovedAt())return;const r=i.getDataSize();n.data+=r.data,n.meta+=r.meta}),{data:n.data,meta:n.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const n=this.indexTree.getRoot(),i=(r,a=void 0,s=void 0,l=0)=>{var g,A,E,O;let o,c,h;const m=r.isText?{node:r,offset:0}:a&&s?this.toTreePos(a,s):null;m&&(o=this.indexTree.indexOf(m),c=this.indexTree.treePosToPath(m),h=Xe.fromTreePos(m).toStruct());const d={type:r.type,parent:a==null?void 0:a.id.toTestString(),size:r.size,id:r.id.toTestString(),removedAt:(g=r.removedAt)==null?void 0:g.toTestString(),insPrev:(A=r.insPrevID)==null?void 0:A.toTestString(),insNext:(E=r.insNextID)==null?void 0:E.toTestString(),value:r.isText?r.value:void 0,isRemoved:r.isRemoved,children:[],depth:l,attributes:r.attrs?Ji((O=r.attrs)==null?void 0:O.toObject()):void 0,index:o,path:c,pos:h};for(let p=0;p<r.allChildren.length;p++){const y=p===0?r:r.allChildren[p-1];d.children.push(i(r.allChildren[p],r,y,l+1))}return d};return i(n)}getRootTreeNode(){return vh(this.indexTree.getRoot())}toTestTreeNode(){return H0(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const n=this.getRoot();return new je(n.deepcopy(),this.getCreatedAt())}toPath(n,i){const r=this.toTreePos(n,i);return r?this.indexTree.treePosToPath(r):[]}toIndex(n,i){const r=this.toTreePos(n,i);return r?this.indexTree.indexOf(r):-1}indexToPath(n){return this.indexTree.indexToPath(n)}pathToIndex(n){return this.indexTree.pathToIndex(n)}indexRangeToPosRange(n){const i=this.findPos(n[0]);return n[0]===n[1]?[i,i]:[i,this.findPos(n[1])]}indexRangeToPosStructRange(n){const[i,r]=n,a=this.findPos(i);return i===r?[a.toStruct(),a.toStruct()]:[a.toStruct(),this.findPos(r).toStruct()]}posRangeToPathRange(n){const[i,r]=this.findNodesAndSplitText(n[0]),[a,s]=this.findNodesAndSplitText(n[1]);return[this.toPath(i,r),this.toPath(a,s)]}posRangeToIndexRange(n){const[i,r]=this.findNodesAndSplitText(n[0]),[a,s]=this.findNodesAndSplitText(n[1]);return[this.toIndex(i,r),this.toIndex(a,s)]}traverseInPosRange(n,i,r,a,s){const l=this.toIndex(n,i),o=this.toIndex(r,a);return this.indexTree.tokensBetween(l,o,s)}toTreePos(n,i){if(!n||!i)return;if(n.isRemoved){let a;for(;n.isRemoved;)a=n,n=a.parent;const s=n.findOffset(a);return{node:n,offset:s}}if(n===i)return{node:n,offset:0};let r=n.findOffset(i);if(!i.isRemoved){if(i.isText)return{node:i,offset:i.paddedSize};r++}return{node:n,offset:r}}makeDeletionChanges(n,i){const r=[],a=[];let s=null,l=null;for(let o=0;o<n.length;o++){const c=n[o],h=n[o+1];s||(s=c),l=c;const m=this.findRightToken(c);(!m||!h||m[0]!==h[0]||m[1]!==h[1])&&(a.push([s,l]),s=null,l=null)}for(const o of a){const[c,h]=o,[m,d]=this.findLeftToken(c),[g,A]=h,E=d===xt.Start?m:m.parent,O=A===xt.Start?g:g.parent,p=this.toIndex(E,m),y=this.toIndex(O,g);p<y&&(r.length>0&&p===r[r.length-1].to?(r[r.length-1].to=y,r[r.length-1].toPath=this.toPath(O,g)):r.push({type:"content",from:p,to:y,fromPath:this.toPath(E,m),toPath:this.toPath(O,g),actor:i.getActorID()}))}return r.reverse()}findRightToken([n,i]){if(i===xt.Start){const o=n.allChildren;return o.length>0?[o[0],o[0].isText?xt.Text:xt.Start]:[n,xt.End]}const r=n.parent,a=r.allChildren,s=a.indexOf(n);if(r&&s===a.length-1)return[r,xt.End];const l=a[s+1];return[l,l.isText?xt.Text:xt.Start]}findLeftToken([n,i]){if(i===xt.End){const o=n.allChildren;if(o.length>0){const c=o[o.length-1];return[c,c.isText?xt.Text:xt.End]}return[n,xt.Start]}const r=n.parent,a=r.allChildren,s=a.indexOf(n);if(r&&s===0)return[r,xt.Start];const l=a[s-1];return[l,l.isText?xt.Text:xt.End]}}class Vl extends _e{constructor(n,i,r,a,s,l){super(n,l);u(this,"fromPos");u(this,"toPos");u(this,"contents");u(this,"splitLevel");this.fromPos=i,this.toPos=r,this.contents=a,this.splitLevel=s}static create(n,i,r,a,s,l){return new Vl(n,i,r,a,s,l)}execute(n,i,r){var h;const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new b(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof je))throw new b(S.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const s=this.getExecutedAt(),l=a,[o,c]=l.edit([this.fromPos,this.toPos],(h=this.contents)==null?void 0:h.map(m=>m.deepcopy()),this.splitLevel,s,(()=>{let m=s.getDelimiter();return this.contents!==void 0&&(m+=this.contents.length),()=>Je.of(s.getLamport(),++m,s.getActorID())})(),r);for(const m of c)n.registerGCPair(m);return{opInfos:o.map(({from:m,to:d,value:g,splitLevel:A,fromPath:E,toPath:O})=>({type:"tree-edit",path:n.createPath(this.getParentCreatedAt()),from:m,to:d,value:g,splitLevel:A,fromPath:E,toPath:O}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,r=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,a=this.contents||[];return`${n}.EDIT(${i},${r},${a.map(s=>Nd(s)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class Pa{constructor(t){u(this,"vector");this.vector=t||new Map}set(t,n){this.vector.set(t,n)}unset(t){this.vector.delete(t)}get(t){return this.vector.get(t)}maxLamport(){let t=BigInt(0);for(const[,n]of this)n>t&&(t=n);return t}max(t){const n=new Map;for(const[i,r]of t){const a=this.vector.get(i),s=a&&a>r?a:r;n.set(i,s)}for(const[i,r]of this){const a=t.get(i),s=a&&a>r?a:r;n.set(i,s)}return new Pa(n)}afterOrEqual(t){const n=this.vector.get(t.getActorID());return n===void 0?!1:n>=t.getLamport()}deepcopy(){const t=new Map;for(const[n,i]of this.vector)t.set(n,i);return new Pa(t)}filter(t){const n=new Map;for(const[i]of t){const r=this.vector.get(i);r!==void 0&&n.set(i,r)}return new Pa(n)}size(){return this.vector.size}*[Symbol.iterator](){for(const[t,n]of this.vector)yield[t,n]}}const FA=new Pa(new Map);class xi{constructor(t,n,i,r,a){u(this,"clientSeq");u(this,"serverSeq");u(this,"lamport");u(this,"actor");u(this,"versionVector");this.clientSeq=t,this.serverSeq=a,this.lamport=n,this.versionVector=r,this.actor=i}static of(t,n,i,r,a){return new xi(t,n,i,r,a)}next(){const t=this.versionVector.deepcopy();return t.set(this.actor,this.lamport+1n),new xi(this.clientSeq+1,this.lamport+1n,this.actor,t)}syncClocks(t){const n=t.lamport>this.lamport?t.lamport+1n:this.lamport+1n,i=this.versionVector.max(t.versionVector),r=new xi(this.clientSeq,n,this.actor,i);return r.versionVector.set(this.actor,n),r}setClocks(t,n){const i=t>this.lamport?t+1n:this.lamport+1n;n.unset(ec);const r=this.versionVector.max(n);return r.set(this.actor,i),xi.of(this.clientSeq,i,this.actor,r)}createTimeTicket(t){return Je.of(this.lamport,t,this.actor)}setActor(t){return new xi(this.clientSeq,this.lamport,t,this.versionVector,this.serverSeq)}setVersionVector(t){return new xi(this.clientSeq,this.lamport,this.actor,t,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const WA=new xi(0,0n,ec,FA);class ss{constructor({id:t,operations:n,presenceChange:i,message:r}){u(this,"id");u(this,"operations");u(this,"presenceChange");u(this,"message");this.id=t,this.operations=n||[],this.presenceChange=i,this.message=r}static create({id:t,operations:n,presenceChange:i,message:r}){return new ss({id:t,operations:n,presenceChange:i,message:r})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(t){for(const n of this.operations)n.setActor(t);this.id=this.id.setActor(t)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(t,n,i){const r=[],a=[];for(const s of this.operations){const l=s.execute(t,i,this.id.getVersionVector());if(!l)continue;const{opInfos:o,reverseOp:c}=l;r.push(...o),c&&a.unshift(c)}return this.presenceChange&&(this.presenceChange.type===Cr.Put?n.set(this.id.getActorID(),Ye(this.presenceChange.presence)):n.delete(this.id.getActorID())),{opInfos:r,reverseOps:a}}toTestString(){return`${this.operations.map(t=>t.toTestString()).join(",")}`}toStruct(){return{changeID:Et.bytesToHex(Et.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(t=>Et.bytesToHex(Et.toOperation(t).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(t){const{changeID:n,operations:i,presenceChange:r,message:a}=t;return ss.create({id:Et.bytesToChangeID(Et.hexToBytes(n)),operations:i==null?void 0:i.map(s=>Et.bytesToOperation(Et.hexToBytes(s))),presenceChange:r,message:a})}}class ic{constructor(t,n,i,r,a,s){u(this,"documentKey");u(this,"checkpoint");u(this,"isRemoved");u(this,"changes");u(this,"snapshot");u(this,"versionVector");this.documentKey=t,this.checkpoint=n,this.isRemoved=i,this.changes=r,this.snapshot=s,this.versionVector=a}static create(t,n,i,r,a,s){return new ic(t,n,i,r,a,s)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class Ha{constructor(t,n){u(this,"serverSeq");u(this,"clientSeq");this.serverSeq=t,this.clientSeq=n}static of(t,n){return new Ha(t,n)}increaseClientSeq(t){return t===0?this:new Ha(this.serverSeq,this.clientSeq+t)}forward(t){if(this.equals(t))return this;const n=this.serverSeq>t.serverSeq?this.serverSeq:t.serverSeq,i=Math.max(this.clientSeq,t.clientSeq);return Ha.of(n,i)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(t){return this.clientSeq===t.clientSeq&&this.serverSeq==t.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const tw=new Ha(0n,0);class Tn{constructor(t,n){u(this,"createdAt");u(this,"offset");this.createdAt=t,this.offset=n}static of(t,n){return new Tn(t,n)}static fromStruct(t){return Tn.of(Je.fromStruct(t.createdAt),t.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}hasSameCreatedAt(t){return this.createdAt.compare(t.createdAt)===0}split(t){return new Tn(this.createdAt,this.offset+t)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const ew=Tn.of(rs,0);class Qe{constructor(t,n){u(this,"id");u(this,"relativeOffset");this.id=t,this.relativeOffset=n}static of(t,n){return new Qe(t,n)}static fromStruct(t){const n=Tn.fromStruct(t.id);return Qe.of(n,t.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Tn.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(t){return this.id.equals(t.id)?this.relativeOffset===t.relativeOffset:!1}}class Er extends B0{constructor(n,i,r){super(i);u(this,"id");u(this,"removedAt");u(this,"prev");u(this,"next");u(this,"insPrev");u(this,"insNext");this.id=n,this.removedAt=r}static create(n,i){return new Er(n,i)}static createComparator(){return(n,i)=>{const r=n.getCreatedAt().compare(i.getCreatedAt());return r!==0?r:n.getOffset()>i.getOffset()?1:n.getOffset()<i.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(n){this.prev=n,n&&(n.next=this)}setNext(n){this.next=n,n&&(n.prev=this)}setInsPrev(n){this.insPrev=n,n&&(n.insNext=this)}setInsNext(n){this.insNext=n,n&&(n.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(n){return new Er(this.id.split(n),this.splitValue(n),this.removedAt)}canDelete(n,i){const r=!this.removedAt;return this.getCreatedAt().getLamport()<=i&&(!this.removedAt||n.after(this.removedAt))?r:!1}canStyle(n,i){return this.getCreatedAt().getLamport()<=i&&(!this.removedAt||n.after(this.removedAt))}remove(n){this.removedAt=n}createPosRange(){return[Qe.of(this.id,0),Qe.of(this.id,this.getLength())]}getDataSize(){const n=this.value.getDataSize();return this.id&&(n.meta+=Ar),this.removedAt&&(n.meta+=Ar),n}deepcopy(){return new Er(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(n){const i=this.value;return this.value=i.substring(0,n),i.substring(n,i.length)}toIDString(){return this.id.toIDString()}}class ls{constructor(){u(this,"head");u(this,"treeByIndex");u(this,"treeByID");this.head=Er.create(ew),this.treeByIndex=new pl,this.treeByID=new P0(Er.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new ls}edit(t,n,i,r){const[a,s]=this.findNodeWithSplit(t[1],n),[l,o]=this.findNodeWithSplit(t[0],n),c=this.findBetween(o,s),[h,m]=this.deleteNodes(c,n,r),d=s?s.getID():a.getID();let g=Qe.of(d,0);if(i){const E=this.posToIndex(l.createPosRange()[1],!0),O=this.insertAfter(l,Er.create(Tn.of(n,0),i));h.length&&h[h.length-1].from===E?h[h.length-1].value=i:h.push({actor:n.getActorID(),from:E,to:E,value:i}),g=Qe.of(O.getID(),O.getContentLength())}const A=[];for(const[,E]of m)A.push({parent:this,child:E});return[g,A,h]}indexToPos(t){const[n,i]=this.treeByIndex.find(t),r=n;return Qe.of(r.getID(),i)}findIndexesFromRange(t){const[n,i]=t;return[this.posToIndex(n,!1),this.posToIndex(i,!0)]}posToIndex(t,n){const i=t.getAbsoluteID(),r=n?this.findFloorNodePreferToLeft(i):this.findFloorNode(i);if(!r)throw new b(S.ErrInvalidArgument,`the node of the given id should be found: ${i.toTestString()}`);const a=this.treeByIndex.indexOf(r),s=r.isRemoved()?0:i.getOffset()-r.getID().getOffset();return a+s}findNode(t){return this.findFloorNode(t)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const t=[];for(const n of this)n.isRemoved()||t.push(n.getValue());return t.join("")}*[Symbol.iterator](){let t=this.head.getNext();for(;t;)yield t,t=t.getNext()}getHead(){return this.head}deepcopy(){const t=new ls;let n=this.head.getNext(),i=t.head,r;for(;n;){if(r=t.insertAfter(i,n.deepcopy()),n.hasInsPrev()){const a=t.findNode(n.getInsPrevID());r.setInsPrev(a)}i=r,n=n.getNext()}return t}toTestString(){const t=[];let n=this.head;for(;n;)n.isRemoved()?t.push(`{${n.toTestString()}}`):t.push(`[${n.toTestString()}]`),n=n.getNext();return t.join("")}insertAfter(t,n){const i=t.getNext();return n.setPrev(t),i&&i.setPrev(n),this.treeByID.put(n.getID(),n),this.treeByIndex.insertAfter(t,n),n}findNodeWithSplit(t,n){const i=t.getAbsoluteID();let r=this.findFloorNodePreferToLeft(i);const a=i.getOffset()-r.getID().getOffset();for(this.splitNode(r,a);r.hasNext()&&r.getNext().getCreatedAt().after(n);)r=r.getNext();return[r,r.getNext()]}findFloorNodePreferToLeft(t){let n=this.findFloorNode(t);if(!n)throw new b(S.ErrInvalidArgument,`the node of the given id should be found: ${t.toTestString()}`);if(t.getOffset()>0&&n.getID().getOffset()==t.getOffset()){if(!n.hasInsPrev())return n;n=n.getInsPrev()}return n}findFloorNode(t){const n=this.treeByID.floorEntry(t);if(n&&!(!n.key.equals(t)&&!n.key.hasSameCreatedAt(t)))return n.value}findBetween(t,n){const i=[];let r=t;for(;r&&r!==n;)i.push(r),r=r.getNext();return i}splitNode(t,n){if(n>t.getContentLength())throw new b(S.ErrInvalidArgument,"offset should be less than or equal to length");if(n===0)return t;if(n===t.getContentLength())return t.getNext();const i=t.split(n);this.treeByIndex.updateWeight(i),this.insertAfter(t,i);const r=t.getInsNext();return r&&r.setInsPrev(i),i.setInsPrev(t),i}deleteNodes(t,n,i){if(!t.length)return[[],new Map];const[r,a]=this.filterNodes(t,n,i),s=new Map,l=this.makeChanges(a,n);for(const o of r)s.set(o.getID().toIDString(),o),o.remove(n);return this.deleteIndexNodes(a),[l,s]}filterNodes(t,n,i){const r=[],a=[],[s,l]=this.findEdgesOfCandidates(t);a.push(s);for(const o of t){const c=o.getCreatedAt().getActorID();let h=Zs;i!=null&&(h=i.get(c)?i.get(c):0n),o.canDelete(n,h)?r.push(o):a.push(o)}return a.push(l),[r,a]}findEdgesOfCandidates(t){return[t[0].getPrev(),t[t.length-1].getNext()]}makeChanges(t,n){const i=[];let r,a;for(let s=0;s<t.length-1;s++){const l=t[s],o=t[s+1];l.getNext()!=o&&([r]=this.findIndexesFromRange(l.getNext().createPosRange()),o?[,a]=this.findIndexesFromRange(o.getPrev().createPosRange()):a=this.treeByIndex.length,r<a&&i.push({actor:n.getActorID(),from:r,to:a}))}return i.reverse()}deleteIndexNodes(t){for(let n=0;n<t.length-1;n++){const i=t[n],r=t[n+1];i.getNext()!=r&&this.treeByIndex.deleteRange(i,r)}}purge(t){this.treeByIndex.delete(t),this.treeByID.remove(t.getID());const n=t.getPrev(),i=t.getNext(),r=t.getInsPrev(),a=t.getInsNext();n&&n.setNext(i),i&&i.setPrev(n),t.setPrev(void 0),t.setNext(void 0),r&&r.setInsNext(a),a&&a.setInsPrev(r),t.setInsPrev(void 0),t.setInsNext(void 0)}}const Wm=e=>e<0?Math.ceil(e):Math.floor(e);var bn=(e=>(e[e.Int=0]="Int",e[e.Long=1]="Long",e))(bn||{});class ve extends ql{constructor(n,i,r){super(r);u(this,"valueType");u(this,"value");switch(this.valueType=n,n){case 0:typeof i=="number"?i>Math.pow(2,31)-1||i<-Math.pow(2,31)?this.value=X.fromNumber(i).toInt():this.value=Wm(i):this.value=i.toInt();break;case 1:typeof i=="number"?this.value=X.fromNumber(i):this.value=i;break;default:throw new b(S.ErrUnimplemented,`unimplemented type: ${n}`)}}static create(n,i,r){return new ve(n,i,r)}static valueFromBytes(n,i){switch(n){case 0:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 1:return X.fromBytesLE(Array.from(i));default:throw new b(S.ErrUnimplemented,`unimplemented type: ${n}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const n=ve.create(this.valueType,this.value,this.getCreatedAt());return n.setMovedAt(this.getMovedAt()),n}getType(){return this.valueType}static getCounterType(n){switch(typeof n){case"object":return n instanceof X?1:void 0;case"number":return n>Math.pow(2,31)-1||n<-Math.pow(2,31)?1:0;default:return}}static isSupport(n){return!!ve.getCounterType(n)}static isInteger(n){return n%1===0}isNumericType(){const n=this.valueType;return n===0||n===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const n=this.value;return new Uint8Array([n&255,n>>8&255,n>>16&255,n>>24&255])}case 1:{const i=this.value.toBytesLE();return Uint8Array.from(i)}default:throw new b(S.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(n){function i(r){if(!r.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof r.getValue()}`)}return i(this),i(n),this.valueType===1?this.value=this.value.add(n.getValue()):n.getType()===Ct.Long?this.value=this.value+n.getValue().toInt():this.value=X.fromNumber(this.value+Wm(n.getValue())).toInt(),this}}class os extends _e{constructor(n,i,r){super(n,r);u(this,"value");this.value=i}static create(n,i,r){return new os(n,i,r)}execute(n){const i=n.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new b(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof ve))throw new b(S.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const r=i,a=this.value.deepcopy();return r.increase(a),{opInfos:[{type:"increase",path:n.createPath(this.getParentCreatedAt()),value:a.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const n=this.value.deepcopy(),r=n.getType()===Ct.Long?n.getValue().multiply(-1):n.getValue()*-1;return os.create(this.getParentCreatedAt(),Tt.of(r,n.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Pi extends _e{constructor(n,i,r,a,s,l){super(n,l);u(this,"fromPos");u(this,"toPos");u(this,"attributes");u(this,"attributesToRemove");this.fromPos=i,this.toPos=r,this.attributes=a,this.attributesToRemove=s}static create(n,i,r,a,s){return new Pi(n,i,r,a,[],s)}static createTreeRemoveStyleOperation(n,i,r,a,s){return new Pi(n,i,r,new Map,a,s)}execute(n,i,r){const a=n.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new b(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof je))throw new b(S.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const s=a;let l,o;if(this.attributes.size){const c={};[...this.attributes].forEach(([h,m])=>c[h]=m),[o,l]=s.style([this.fromPos,this.toPos],c,this.getExecutedAt(),r)}else{const c=this.attributesToRemove;[o,l]=s.removeStyle([this.fromPos,this.toPos],c,this.getExecutedAt(),r)}for(const c of o)n.registerGCPair(c);return{opInfos:l.map(({from:c,to:h,value:m,fromPath:d,toPath:g})=>({type:"tree-style",from:c,to:h,value:this.attributes.size?{attributes:m}:{attributesToRemove:m},fromPath:d,toPath:g,path:n.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const n=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,r=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${n}.STYLE(${i},${r},${Object.entries(this.attributes||{}).map(([a,s])=>`${a}:"${s}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}function nw(e){const t=new Ad,n=t.data;for(const[i,r]of Object.entries(e))n[i]=JSON.stringify(r);return t}function iw(e){if(e.type===Cr.Put)return new ml({type:na.PUT,presence:nw(e.presence)});if(e.type===Cr.Clear)return new ml({type:na.CLEAR});throw new b(S.ErrUnimplemented,"unimplemented type")}function rw(e){return new C0({serverSeq:e.getServerSeq(),clientSeq:e.getClientSeq()})}function V0(e){return new Wu({clientSeq:e.getClientSeq(),lamport:e.getLamport(),actorId:Ud(e.getActorID()),versionVector:xd(e.getVersionVector())})}function U(e){if(e)return new I({lamport:e.getLamport(),delimiter:e.getDelimiter(),actorId:Ud(e.getActorID())})}function xd(e){if(!e)return;const t=new tc;for(const[n,i]of e)t.vector[n]=BigInt(i.toString());return t}function j0(e){switch(e){case Ct.Null:return J.NULL;case Ct.Boolean:return J.BOOLEAN;case Ct.Integer:return J.INTEGER;case Ct.Long:return J.LONG;case Ct.Double:return J.DOUBLE;case Ct.String:return J.STRING;case Ct.Bytes:return J.BYTES;case Ct.Date:return J.DATE;default:throw new b(S.ErrInvalidType,`unsupported type: ${e}`)}}function G0(e){switch(e){case bn.Int:return J.INTEGER_CNT;case bn.Long:return J.LONG_CNT;default:throw new b(S.ErrInvalidType,`unsupported type: ${e}`)}}function Kc(e){if(e instanceof ie)return new Ee({type:J.JSON_OBJECT,createdAt:U(e.getCreatedAt()),value:iS(e)});if(e instanceof pe)return new Ee({type:J.JSON_ARRAY,createdAt:U(e.getCreatedAt()),value:zw(e)});if(e instanceof Ve)return new Ee({type:J.TEXT,createdAt:U(e.getCreatedAt())});if(e instanceof Tt)return new Ee({type:j0(e.getType()),createdAt:U(e.getCreatedAt()),value:e.toBytes()});if(e instanceof ve)return new Ee({type:G0(e.getType()),createdAt:U(e.getCreatedAt()),value:e.toBytes()});if(e instanceof je)return new Ee({type:J.TREE,createdAt:U(e.getCreatedAt()),value:Lw(e)});throw new b(S.ErrUnimplemented,"unimplemented element")}function aw(e){return new dl({createdAt:U(e.getCreatedAt()),offset:e.getOffset()})}function oo(e){return new Yi({createdAt:U(e.getID().getCreatedAt()),offset:e.getID().getOffset(),relativeOffset:e.getRelativeOffset()})}function uo(e){return new ea({parentId:Qs(e.getParentID()),leftSiblingId:Qs(e.getLeftSiblingID())})}function Qs(e){return new br({createdAt:U(e.getCreatedAt()),offset:e.getOffset()})}function Y0(e){const t=new bd;if(e instanceof ia){const n=e,i=new fu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.key=n.getKey(),i.value=Kc(n.getValue()),i.executedAt=U(n.getExecutedAt()),t.body.case="set",t.body.value=i}else if(e instanceof Jl){const n=e,i=new hu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.prevCreatedAt=U(n.getPrevCreatedAt()),i.value=Kc(n.getValue()),i.executedAt=U(n.getExecutedAt()),t.body.case="add",t.body.value=i}else if(e instanceof hr){const n=e,i=new du;i.parentCreatedAt=U(n.getParentCreatedAt()),i.prevCreatedAt=U(n.getPrevCreatedAt()),i.createdAt=U(n.getCreatedAt()),i.executedAt=U(n.getExecutedAt()),t.body.case="move",t.body.value=i}else if(e instanceof Rr){const n=e,i=new gu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.createdAt=U(n.getCreatedAt()),i.executedAt=U(n.getExecutedAt()),t.body.case="remove",t.body.value=i}else if(e instanceof Pl){const n=e,i=new mu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.from=oo(n.getFromPos()),i.to=oo(n.getToPos()),i.content=n.getContent();const r=i.attributes;for(const[a,s]of n.getAttributes())r[a]=s;i.executedAt=U(n.getExecutedAt()),t.body.case="edit",t.body.value=i}else if(e instanceof Hl){const n=e,i=new yu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.from=oo(n.getFromPos()),i.to=oo(n.getToPos());const r=i.attributes;for(const[a,s]of n.getAttributes())r[a]=s;i.executedAt=U(n.getExecutedAt()),t.body.case="style",t.body.value=i}else if(e instanceof os){const n=e,i=new pu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.value=Kc(n.getValue()),i.executedAt=U(n.getExecutedAt()),t.body.case="increase",t.body.value=i}else if(e instanceof Vl){const n=e,i=new vu;i.parentCreatedAt=U(n.getParentCreatedAt()),i.from=uo(n.getFromPos()),i.to=uo(n.getToPos()),i.contents=hw(n.getContents()),i.splitLevel=n.getSplitLevel(),i.executedAt=U(n.getExecutedAt()),t.body.case="treeEdit",t.body.value=i}else if(e instanceof Pi){const n=e,i=new Su;i.parentCreatedAt=U(n.getParentCreatedAt()),i.from=uo(n.getFromPos()),i.to=uo(n.getToPos());const r=n.getAttributesToRemove();if(r.length>0)i.attributesToRemove=r;else{const a=i.attributes;for(const[s,l]of n.getAttributes())a[s]=l}i.executedAt=U(n.getExecutedAt()),t.body.case="treeStyle",t.body.value=i}else throw new b(S.ErrUnimplemented,"unimplemented operation");return t}function sw(e){const t=[];for(const n of e)t.push(Y0(n));return t}function lw(e){const t=new D0({id:V0(e.getID()),message:e.getMessage()});return e.hasOperations()&&(t.operations=sw(e.getOperations())),e.hasPresenceChange()&&(t.presenceChange=iw(e.getPresenceChange())),t}function ow(e){const t=[];for(const n of e)t.push(lw(n));return t}function uw(e){const t=[];for(const n of e)t.push(new O0({key:n.getStrKey(),element:Od(n.getValue())}));return t}function cw(e){const t=[];for(const n of e)t.push(new xu({element:Od(n.getValue())}));return t}function fw(e){const t=[];for(const n of e){const i=new Du;i.id=aw(n.getID()),i.value=n.getValue().getContent(),i.removedAt=U(n.getRemovedAt());const r=i.attributes,a=n.getValue().getAttrs();for(const s of a){const l=new ns;l.value=s.getValue(),l.updatedAt=U(s.getUpdatedAt()),r[s.getKey()]=l}t.push(i)}return t}function hw(e){const t=[];if(!e||!e.length)return t;for(const n of e)t.push(new Ou({content:Dd(n)}));return t}function dw(e){const t={};for(const n of e)t[n.getKey()]=new ns({value:n.getValue(),updatedAt:U(n.getUpdatedAt()),isRemoved:n.isRemoved()});return t}function Dd(e){if(!e)return[];const t=[];return nc(e,(n,i)=>{const r=new gl({id:Qs(n.id),type:n.type,removedAt:U(n.removedAt),depth:i});n.isText&&(r.value=n.value),n.insPrevID&&(r.insPrevId=Qs(n.insPrevID)),n.insNextID&&(r.insNextId=Qs(n.insNextID)),n.attrs&&(r.attributes=dw(n.attrs)),t.push(r)}),t}function gw(e){const t=new ae;return t.body.case="jsonObject",t.body.value=new Tu({nodes:uw(e.getRHT()),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function K0(e){const t=new ae;return t.body.case="jsonArray",t.body.value=new bu({nodes:cw(e.getElements()),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function mw(e){const t=new ae;return t.body.case="primitive",t.body.value=new Au({type:j0(e.getType()),value:e.toBytes(),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function yw(e){const t=new ae;return t.body.case="text",t.body.value=new wu({nodes:fw(e.getRGATreeSplit()),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function pw(e){const t=new ae;return t.body.case="counter",t.body.value=new Eu({type:G0(e.getType()),value:e.toBytes(),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function $0(e){const t=new ae;return t.body.case="tree",t.body.value=new Nu({nodes:Dd(e.getRoot()),createdAt:U(e.getCreatedAt()),movedAt:U(e.getMovedAt()),removedAt:U(e.getRemovedAt())}),t}function Od(e){if(e instanceof ie)return gw(e);if(e instanceof pe)return K0(e);if(e instanceof Tt)return mw(e);if(e instanceof Ve)return yw(e);if(e instanceof ve)return pw(e);if(e instanceof je)return $0(e);throw new b(S.ErrUnimplemented,"unimplemented element")}function vw(e){return new Xi({documentKey:e.getDocumentKey(),checkpoint:rw(e.getCheckpoint()),isRemoved:e.getIsRemoved(),changes:ow(e.getChanges()),snapshot:e.getSnapshot(),versionVector:xd(e.getVersionVector())})}function ks(e){if(!(e instanceof W))return{};const t=e.findDetails(zA);for(const n of t)return n.metadata;return{}}function Fi(e){return ks(e).code??""}function X0(e){return xi.of(e.clientSeq,BigInt(e.lamport),Md(e.actorId),Cd(e.versionVector),BigInt(e.serverSeq))}function Cd(e){if(!e)return;const t=new Pa;return Object.entries(e.vector).forEach(([n,i])=>{t.set(n,BigInt(i.toString()))}),t}function L(e){if(e)return Je.of(BigInt(e.lamport),e.delimiter,Md(e.actorId))}function Rd(e){const t={};return Object.entries(e.data).forEach(([n,i])=>{t[n]=JSON.parse(i)}),t}function Sw(e){const t=e.type;if(t===na.PUT){const n=Rd(e.presence);return{type:Cr.Put,presence:n}}if(t===na.CLEAR)return{type:Cr.Clear};throw new b(S.ErrInvalidType,`unsupported type: ${t}`)}function Tw(e){const t=new Map;return Object.entries(e).forEach(([n,i])=>{t.set(n,Rd(i))}),t}function Z0(e){switch(e){case J.NULL:return Ct.Null;case J.BOOLEAN:return Ct.Boolean;case J.INTEGER:return Ct.Integer;case J.LONG:return Ct.Long;case J.DOUBLE:return Ct.Double;case J.STRING:return Ct.String;case J.BYTES:return Ct.Bytes;case J.DATE:return Ct.Date}throw new b(S.ErrUnimplemented,`unimplemented value type: ${e}`)}function ku(e){switch(e){case J.INTEGER_CNT:return bn.Int;case J.LONG_CNT:return bn.Long}throw new b(S.ErrUnimplemented,`unimplemented value type: ${e}`)}function $c(e){switch(e.type){case J.JSON_OBJECT:return e.value?nS(e.value):ie.create(L(e.createdAt));case J.JSON_ARRAY:return e.value?Mw(e.value):pe.create(L(e.createdAt));case J.TEXT:return Ve.create(ls.create(),L(e.createdAt));case J.TREE:return Uw(e.value);case J.NULL:case J.BOOLEAN:case J.INTEGER:case J.LONG:case J.DOUBLE:case J.STRING:case J.BYTES:case J.DATE:return Tt.of(Tt.valueFromBytes(Z0(e.type),e.value),L(e.createdAt));case J.INTEGER_CNT:case J.LONG_CNT:return ve.create(ku(e.type),ve.valueFromBytes(ku(e.type),e.value),L(e.createdAt))}}function co(e){return Qe.of(Tn.of(L(e.createdAt),e.offset),e.relativeOffset)}function Q0(e){return Tn.of(L(e.createdAt),e.offset)}function bw(e){const t=Sl.create(e.value);Object.entries(e.attributes).forEach(([i,r])=>{t.setAttr(i,r.value,L(r.updatedAt))});const n=Er.create(Q0(e.id),t);return n.remove(L(e.removedAt)),n}function ha(e){return Xe.of(_s(e.parentId),_s(e.leftSiblingId))}function _s(e){return Vt.of(L(e.createdAt),e.offset)}function Aw(e){if(!e.length)return;const t=[];return e.forEach(n=>{const i=kd(n.content);t.push(i)}),t}function kd(e){if(e.length===0)return;const t=[];for(const r of e)t.push(Ew(r));const n=t[t.length-1],i=new Map;i.set(e[t.length-1].depth,t[t.length-1]);for(let r=t.length-2;r>=0;r--)i.get(e[r].depth-1).prepend(t[r]),i.set(e[r].depth,t[r]);return n.updateDescendantsSize(),je.create(n,rs).getRoot()}function ww(e){const t=Ki.create();for(const[n,i]of Object.entries(e))t.setInternal(n,i.value,L(i.updatedAt),i.isRemoved);return t}function Ew(e){const t=_s(e.id),n=he.create(t,e.type),i=Object.entries(e.attributes);return n.isText?n.value=e.value:i.length&&(n.attrs=ww(e.attributes)),e.insPrevId&&(n.insPrevID=_s(e.insPrevId)),e.insNextId&&(n.insNextID=_s(e.insNextId)),n.removedAt=L(e.removedAt),n}function _0(e){if(e.body.case==="set"){const t=e.body.value;return ia.create(t.key,$c(t.value),L(t.parentCreatedAt),L(t.executedAt))}else if(e.body.case==="add"){const t=e.body.value;return Jl.create(L(t.parentCreatedAt),L(t.prevCreatedAt),$c(t.value),L(t.executedAt))}else if(e.body.case==="move"){const t=e.body.value;return hr.create(L(t.parentCreatedAt),L(t.prevCreatedAt),L(t.createdAt),L(t.executedAt))}else if(e.body.case==="remove"){const t=e.body.value;return Rr.create(L(t.parentCreatedAt),L(t.createdAt),L(t.executedAt))}else if(e.body.case==="edit"){const t=e.body.value,n=new Map;return Object.entries(t.attributes).forEach(([i,r])=>{n.set(i,r)}),Pl.create(L(t.parentCreatedAt),co(t.from),co(t.to),t.content,n,L(t.executedAt))}else if(e.body.case==="style"){const t=e.body.value,n=new Map;return Object.entries(t.attributes).forEach(([i,r])=>{n.set(i,r)}),Hl.create(L(t.parentCreatedAt),co(t.from),co(t.to),n,L(t.executedAt))}else{if(e.body.case==="select")return;if(e.body.case==="increase"){const t=e.body.value;return os.create(L(t.parentCreatedAt),$c(t.value),L(t.executedAt))}else if(e.body.case==="treeEdit"){const t=e.body.value;return Vl.create(L(t.parentCreatedAt),ha(t.from),ha(t.to),Aw(t.contents),t.splitLevel,L(t.executedAt))}else if(e.body.case==="treeStyle"){const t=e.body.value,n=new Map,i=t.attributesToRemove;return(i==null?void 0:i.length)>0?Pi.createTreeRemoveStyleOperation(L(t.parentCreatedAt),ha(t.from),ha(t.to),i,L(t.executedAt)):(Object.entries(t.attributes).forEach(([r,a])=>{n.set(r,a)}),Pi.create(L(t.parentCreatedAt),ha(t.from),ha(t.to),n,L(t.executedAt)))}else throw new b(S.ErrUnimplemented,"unimplemented operation")}}function Nw(e){const t=[];for(const n of e){const i=_0(n);i&&t.push(i)}return t}function F0(e){const t=[];for(const n of e)t.push(ss.create({id:X0(n.id),operations:Nw(n.operations),presenceChange:n.presenceChange?Sw(n.presenceChange):void 0,message:n.message}));return t}function xw(e){return Ha.of(BigInt(e.serverSeq),e.clientSeq)}function Dw(e){return ic.create(e.documentKey,xw(e.checkpoint),e.isRemoved,F0(e.changes),Cd(e.versionVector),e.snapshot)}function W0(e){const t=new yl;for(const i of e.nodes){const r=Bd(i.element);t.set(i.key,r,r.getPositionedAt())}const n=new ie(L(e.createdAt),t);return n.setMovedAt(L(e.movedAt)),n.setRemovedAt(L(e.removedAt)),n}function tS(e){const t=new vl;for(const i of e.nodes)t.insert(Bd(i.element));const n=new pe(L(e.createdAt),t);return n.setMovedAt(L(e.movedAt)),n.setRemovedAt(L(e.removedAt)),n}function Ow(e){const t=Tt.of(Tt.valueFromBytes(Z0(e.type),e.value),L(e.createdAt));return t.setMovedAt(L(e.movedAt)),t.setRemovedAt(L(e.removedAt)),t}function Cw(e){const t=new ls;let n=t.getHead();for(const r of e.nodes){const a=t.insertAfter(n,bw(r));r.insPrevId&&a.setInsPrev(t.findNode(Q0(r.insPrevId))),n=a}const i=new Ve(t,L(e.createdAt));return i.setMovedAt(L(e.movedAt)),i.setRemovedAt(L(e.removedAt)),i}function Rw(e){const t=ve.create(ku(e.type),ve.valueFromBytes(ku(e.type),e.value),L(e.createdAt));return t.setMovedAt(L(e.movedAt)),t.setRemovedAt(L(e.removedAt)),t}function eS(e){const t=kd(e.nodes);return je.create(t,L(e.createdAt))}function Bd(e){if(e.body.case==="jsonObject")return W0(e.body.value);if(e.body.case==="jsonArray")return tS(e.body.value);if(e.body.case==="primitive")return Ow(e.body.value);if(e.body.case==="text")return Cw(e.body.value);if(e.body.case==="counter")return Rw(e.body.value);if(e.body.case==="tree")return eS(e.body.value);throw new b(S.ErrUnimplemented,"unimplemented element")}function kw(e){if(!e)return{root:ie.create(rs),presences:new Map};const t=$f.fromBinary(e);return{root:Bd(t.root),presences:Tw(t.presences)}}function Bw(e){const t=xd(e);return Id(t.toBinary())}function Iw(e){const t=zd(e),n=tc.fromBinary(t);return Cd(n)}function nS(e){if(!e)throw new b(S.ErrInvalidArgument,"bytes is empty");const t=ae.fromBinary(e);return W0(t.body.value)}function iS(e){return Od(e).toBinary()}function Mw(e){if(!e)throw new b(S.ErrInvalidArgument,"bytes is empty");const t=ae.fromBinary(e);return tS(t.body.value)}function zw(e){return K0(e).toBinary()}function Uw(e){if(!e)throw new b(S.ErrInvalidArgument,"bytes is empty");const t=ae.fromBinary(e);return eS(t.body.value)}function Lw(e){return $0(e).toBinary()}function Id(e){return e?Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join(""):""}function Md(e){return Id(e)}function zd(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>parseInt(t,16)))}function Ud(e){return zd(e)}function qw(e){const t=Wu.fromBinary(e);return X0(t)}function Jw(e){const t=bd.fromBinary(e);return _0(t)}const Et={fromPresence:Rd,toChangePack:vw,fromChangePack:Dw,fromChanges:F0,toTreeNodes:Dd,fromTreeNodes:kd,objectToBytes:iS,bytesToObject:nS,bytesToSnapshot:kw,bytesToHex:Id,hexToBytes:zd,toHexString:Md,toUint8Array:Ud,toOperation:Y0,toChangeID:V0,PbChangeID:Wu,bytesToChangeID:qw,bytesToOperation:Jw,versionVectorToHex:Bw,hexToVersionVector:Iw};var ee=(e=>(e[e.Trivial=0]="Trivial",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warn=3]="Warn",e[e.Error=4]="Error",e[e.Fatal=5]="Fatal",e))(ee||{});let qr=3;function Pw(e){qr=e}const z={trivial:(...e)=>{qr>0||typeof console<"u"&&console.log("YORKIE T:",...e)},debug:(...e)=>{qr>1||typeof console<"u"&&console.log("YORKIE D:",...e)},info:(...e)=>{qr>2||typeof console<"u"&&console.log("YORKIE I:",...e)},warn:(...e)=>{qr>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...e):console.log("YORKIE W:",...e))},error:(...e)=>{qr>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...e):console.log("YORKIE E:",...e))},fatal:(...e)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...e):console.log("YORKIE F:",...e))},isEnabled:e=>qr<=e};function rS(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class Hw{constructor(t,n,i,r,a){u(this,"reconnectStreamDelay");u(this,"doc");u(this,"docID");u(this,"syncMode");u(this,"remoteChangeEventReceived");u(this,"watchStream");u(this,"watchLoopTimerID");u(this,"watchAbortController");u(this,"unsubscribeBroadcastEvent");this.reconnectStreamDelay=t,this.doc=n,this.docID=i,this.syncMode=r,this.remoteChangeEventReceived=!1,this.unsubscribeBroadcastEvent=a}changeSyncMode(t){this.syncMode=t}needRealtimeSync(){return this.syncMode===Bo.RealtimeSyncOff?!1:this.syncMode===Bo.RealtimePushOnly?this.doc.hasLocalChanges():this.syncMode!==Bo.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(t){const n=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await t(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(n,this.reconnectStreamDelay)})}catch{}};await n()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}const Xc=()=>{};class Vw{constructor(t){u(this,"finalized",!1);u(this,"observers",[]);u(this,"finalError");try{t(this)}catch(n){this.error(n)}}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(!t)throw new b(S.ErrInvalidArgument,"missing observer");if(this.finalized)throw new b(S.ErrRefused,"observable is finalized due to previous error");typeof t=="object"?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Xc),r.error===void 0&&(r.error=Xc),r.complete===void 0&&(r.complete=Xc);const a=rS(),s=this.unsubscribeOne.bind(this,a);if(this.observers.push({subscriptionID:a,observer:r}),this.finalized)try{this.finalError?r.error(this.finalError):r.complete()}catch(l){z.warn(l)}return s}unsubscribeOne(t){var n;this.observers=(n=this.observers)==null?void 0:n.filter(i=>i.subscriptionID!==t)}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t].observer)}catch(i){z.error(i)}}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.observers=void 0)}}function jw(e){const t=new Vw(e);return{subscribe:t.subscribe.bind(t),getProxy:()=>t}}class ka{constructor(t,n,i,r){u(this,"id");u(this,"delimiter");u(this,"message");u(this,"root");u(this,"operations");u(this,"presenceChange");u(this,"previousPresence");u(this,"reversePresenceKeys");this.id=t,this.delimiter=k0,this.root=n,this.operations=[],this.previousPresence=Ye(i),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=r}static create(t,n,i,r){return new ka(t,n,i,r)}push(t){this.operations.push(t)}registerElement(t,n){this.root.registerElement(t,n)}registerRemovedElement(t){this.root.registerRemovedElement(t)}registerGCPair(t){this.root.registerGCPair(t)}getChange(){return ss.create({id:this.id,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(t){this.presenceChange=t}setReversePresence(t,n){for(const i of Object.keys(t))n!=null&&n.addToHistory?this.reversePresenceKeys.add(i):this.reversePresenceKeys.delete(i)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const t={};for(const n of this.reversePresenceKeys)t[n]=this.previousPresence[n];return t}issueTimeTicket(){return this.delimiter+=1,this.id.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.id.createTimeTicket(this.delimiter)}}class Tl{constructor(t){u(this,"rootObject");u(this,"elementPairMapByCreatedAt");u(this,"gcElementSetByCreatedAt");u(this,"gcPairMap");this.rootObject=t,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.registerElement(t,void 0),t.getDescendants(n=>{if(n.getRemovedAt()&&this.registerRemovedElement(n),n instanceof Ve||n instanceof je)for(const i of n.getGCPairs())this.registerGCPair(i);return!1})}static create(){return new Tl(ie.create(rs))}findByCreatedAt(t){const n=this.elementPairMapByCreatedAt.get(t.toIDString());if(n)return n.element}findElementPairByCreatedAt(t){return this.elementPairMapByCreatedAt.get(t.toIDString())}createSubPaths(t){let n=this.elementPairMapByCreatedAt.get(t.toIDString());if(!n)return[];const i=[];for(;n.parent;){const r=n.element.getCreatedAt(),a=n.parent.subPathOf(r);if(a===void 0)throw new b(S.ErrInvalidArgument,`cant find the given element: ${r.toIDString()}`);i.unshift(a),n=this.elementPairMapByCreatedAt.get(n.parent.getCreatedAt().toIDString())}return i.unshift("$"),i}createPath(t){return this.createSubPaths(t).join(".")}registerElement(t,n){this.elementPairMapByCreatedAt.set(t.getCreatedAt().toIDString(),{parent:n,element:t}),t instanceof wr&&t.getDescendants((i,r)=>(this.registerElement(i,r),!1))}deregisterElement(t){let n=0;const i=r=>{const a=r.getCreatedAt().toIDString();this.elementPairMapByCreatedAt.delete(a),this.gcElementSetByCreatedAt.delete(a),n++};return i(t),t instanceof wr&&t.getDescendants(r=>(i(r),!1)),n}registerRemovedElement(t){this.gcElementSetByCreatedAt.add(t.getCreatedAt().toIDString())}registerGCPair(t){if(this.gcPairMap.get(t.child.toIDString())){this.gcPairMap.delete(t.child.toIDString());return}this.gcPairMap.set(t.child.toIDString(),t)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const t=new Set;for(const n of this.gcElementSetByCreatedAt){t.add(n);const i=this.elementPairMapByCreatedAt.get(n);i.element instanceof wr&&i.element.getDescendants(r=>(t.add(r.getCreatedAt().toIDString()),!1))}return t.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){const t={live:{data:0,meta:0},gc:{data:0,meta:0}};for(const[n,i]of this.elementPairMapByCreatedAt)this.gcElementSetByCreatedAt.has(n)?(t.gc.data+=i.element.getDataSize().data,t.gc.meta+=i.element.getDataSize().meta):(t.live.data+=i.element.getDataSize().data,t.live.meta+=i.element.getDataSize().meta);for(const n of this.gcPairMap.values()){const i=n.child.getDataSize();t.gc.data+=i.data,t.gc.meta+=i.meta}return t}deepcopy(){return new Tl(this.rootObject.deepcopy())}garbageCollect(t){let n=0;for(const i of this.gcElementSetByCreatedAt){const r=this.elementPairMapByCreatedAt.get(i),a=r.element.getRemovedAt();a&&(t!=null&&t.afterOrEqual(a))&&(r.parent.purge(r.element),n+=this.deregisterElement(r.element))}for(const[,i]of this.gcPairMap){const r=i.child.getRemovedAt();r&&(t!=null&&t.afterOrEqual(r))&&(i.parent.purge(i.child),this.gcPairMap.delete(i.child.toIDString()),n+=1)}return n}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}}function aS(e,t){const n=new bl(e);return new Proxy(t,n.getHandlers())}class bl{constructor(t){u(this,"context");u(this,"handlers");this.context=t,this.handlers={set:(n,i,r)=>(z.isEnabled(ee.Trivial)&&z.trivial(`obj[${i}]=${JSON.stringify(r)}`),bl.setInternal(t,n,i,r),!0),get:(n,i)=>(z.isEnabled(ee.Trivial)&&z.trivial(`obj[${i}]`),i==="getID"?()=>n.getCreatedAt():i==="toJSON"||i==="toString"?()=>n.toJSON():i==="toJS"?()=>n.toJS():i==="toJSForTest"?()=>n.toJSForTest():Jr(t,n.get(i))),ownKeys:n=>n.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(n,i)=>(z.isEnabled(ee.Trivial)&&z.trivial(`obj[${i}]`),bl.deleteInternal(t,n,i),!0)}}static setInternal(t,n,i,r){if(i.includes("."))throw new b(S.ErrInvalidObjectKey,"key must not contain the '.'.");const a=t.issueTimeTicket(),s=Bu(t,r,a),l=n.set(i,s,a);t.registerElement(s,n),l&&t.registerRemovedElement(l),t.push(ia.create(i,s.deepcopy(),n.getCreatedAt(),a))}static buildObjectMembers(t,n){const i={};for(const[r,a]of Object.entries(n)){if(r.includes("."))throw new b(S.ErrInvalidObjectKey,"key must not contain the '.'.");const s=t.issueTimeTicket(),l=Bu(t,a,s);i[r]=l}return i}static deleteInternal(t,n,i){const r=t.issueTimeTicket(),a=n.deleteByKey(i,r);a&&(t.push(Rr.create(n.getCreatedAt(),a.getCreatedAt(),r)),t.registerRemovedElement(a))}getHandlers(){return this.handlers}}function Gw(e,t){const n=new yt(e,t);return new Proxy(t,n.getHandlers())}function Yw(e){return typeof e=="string"||e instanceof String?!isNaN(e):!1}function Kw(e){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(e)}class yt{constructor(t,n){u(this,"context");u(this,"handlers");u(this,"array");this.context=t,this.array=n,this.handlers={get:(i,r,a)=>r==="getID"?()=>i.getCreatedAt():r==="getElementByID"?s=>{const l=i.getByID(s);if(!(!l||l.isRemoved()))return tr(t,l)}:r==="getElementByIndex"?s=>{const l=i.get(s);return tr(t,l)}:r==="getLast"?()=>tr(t,i.getLast()):r==="deleteByID"?s=>{const l=yt.deleteInternalByID(t,i,s);return tr(t,l)}:r==="insertAfter"?(s,l)=>{const o=yt.insertAfterInternal(t,i,s,l);return tr(t,o)}:r==="insertBefore"?(s,l)=>{const o=yt.insertBeforeInternal(t,i,s,l);return tr(t,o)}:r==="moveBefore"?(s,l)=>{yt.moveBeforeInternal(t,i,s,l)}:r==="moveAfter"?(s,l)=>{yt.moveAfterInternal(t,i,s,l)}:r==="moveFront"?s=>{yt.moveFrontInternal(t,i,s)}:r==="moveLast"?s=>{yt.moveLastInternal(t,i,s)}:Yw(r)?Jr(t,i.get(Number(r))):r==="push"?s=>yt.pushInternal(t,i,s):r==="splice"?(s,l,...o)=>yt.splice(t,i,s,l,...o):r==="length"?i.length:typeof r=="symbol"&&r===Symbol.iterator?yt.iteratorInternal.bind(this,t,i):r==="includes"?(s,l)=>yt.includes(t,i,s,l):r==="indexOf"?(s,l)=>yt.indexOf(t,i,s,l):r==="lastIndexOf"?(s,l)=>yt.lastIndexOf(t,i,s,l):r==="toJSForTest"?()=>i.toJSForTest():r==="toTestString"?()=>yt.toTestString(i):typeof r=="string"&&Kw(r)?(...s)=>{const l=Array.from(i).map(o=>Jr(t,o));return Array.prototype[r].apply(l,s)}:Reflect.get(i,r,a),deleteProperty:(i,r)=>(z.isEnabled(ee.Trivial)&&z.trivial(`array[${r}]`),yt.deleteInternalByIndex(t,i,Number.parseInt(r)),!0)}}static*iteratorInternal(t,n){for(const i of n)yield tr(t,i)}static buildArrayElements(t,n){const i=[];for(const r of n){const a=t.issueTimeTicket(),s=Bu(t,r,a);i.push(s)}return i}static pushInternal(t,n,i){return yt.insertAfterInternal(t,n,n.getLastCreatedAt(),i),n.length}static moveBeforeInternal(t,n,i,r){const a=t.issueTimeTicket(),s=n.getPrevCreatedAt(i);n.moveAfter(s,r,a),t.push(hr.create(n.getCreatedAt(),s,r,a))}static moveAfterInternal(t,n,i,r){const a=t.issueTimeTicket();n.moveAfter(i,r,a),t.push(hr.create(n.getCreatedAt(),i,r,a))}static moveFrontInternal(t,n,i){const r=t.issueTimeTicket(),a=n.getHead();n.moveAfter(a.getCreatedAt(),i,r),t.push(hr.create(n.getCreatedAt(),a.getCreatedAt(),i,r))}static moveLastInternal(t,n,i){const r=t.issueTimeTicket(),a=n.getLastCreatedAt();n.moveAfter(a,i,r),t.push(hr.create(n.getCreatedAt(),a,i,r))}static insertAfterInternal(t,n,i,r){const a=t.issueTimeTicket(),s=Bu(t,r,a);return n.insertAfter(i,s),t.registerElement(s,n),t.push(Jl.create(n.getCreatedAt(),i,s.deepcopy(),a)),s}static insertBeforeInternal(t,n,i,r){return yt.insertAfterInternal(t,n,n.getPrevCreatedAt(i),r)}static deleteInternalByIndex(t,n,i){const r=t.issueTimeTicket(),a=n.deleteByIndex(i,r);if(a)return t.push(Rr.create(n.getCreatedAt(),a.getCreatedAt(),r)),t.registerRemovedElement(a),a}static deleteInternalByID(t,n,i){const r=t.issueTimeTicket(),a=n.delete(i,r);return t.push(Rr.create(n.getCreatedAt(),a.getCreatedAt(),r)),t.registerRemovedElement(a),a}static splice(t,n,i,r,...a){const s=n.length,l=i>=0?Math.min(i,s):Math.max(s+i,0),o=r===void 0?s:r<0?l:Math.min(l+r,s),c=[];for(let h=l;h<o;h++){const m=yt.deleteInternalByIndex(t,n,l);if(m){const d=m.deepcopy();d.setRemovedAt(),c.push(Jr(t,d))}}if(a){let h=l===0?n.getHead().getID():n.get(l-1).getID();for(const m of a)h=yt.insertAfterInternal(t,n,h,m).getID()}return c}static includes(t,n,i,r){var l;const a=n.length,s=r===void 0?0:r<0?Math.max(r+a,0):r;if(s>=a)return!1;if(Tt.isSupport(i))return Array.from(n).map(c=>Jr(t,c)).includes(i,s);for(let o=s;o<a;o++)if(((l=n.get(o))==null?void 0:l.getID())===i.getID())return!0;return!1}static indexOf(t,n,i,r){var l;const a=n.length,s=r===void 0?0:r<0?Math.max(r+a,0):r;if(s>=a)return-1;if(Tt.isSupport(i))return Array.from(n).map(c=>Jr(t,c)).indexOf(i,s);for(let o=s;o<a;o++)if(((l=n.get(o))==null?void 0:l.getID())===i.getID())return o;return-1}static lastIndexOf(t,n,i,r){var l;const a=n.length,s=r===void 0||r>=a?a-1:r<0?r+a:r;if(s<0)return-1;if(Tt.isSupport(i))return Array.from(n).map(c=>Jr(t,c)).lastIndexOf(i,s);for(let o=s;o>0;o--)if(((l=n.get(o))==null?void 0:l.getID())===i.getID())return o;return-1}static toTestString(t){return t.toTestString()}getHandlers(){return this.handlers}}class Ld{constructor(t,n){u(this,"context");u(this,"text");this.context=t,this.text=n}initialize(t,n){this.context=t,this.text=n}getID(){return this.text.getID()}edit(t,n,i,r){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");if(t>n)throw new b(S.ErrInvalidArgument,"from should be less than or equal to to");const a=this.text.indexRangeToPosRange(t,n);z.isEnabled(ee.Debug)&&z.debug(`EDIT: f:${t}->${a[0].toTestString()}, t:${n}->${a[1].toTestString()} c:${i}`);const s=r?is(r):void 0,l=this.context.issueTimeTicket(),[,o,c]=this.text.edit(a,i,l,s);for(const h of o)this.context.registerGCPair(h);return this.context.push(new Pl(this.text.getCreatedAt(),a[0],a[1],i,s?new Map(Object.entries(s)):new Map,l)),this.text.findIndexesFromRange(c)}delete(t,n){return this.edit(t,n,"")}empty(){return this.edit(0,this.length,"")}setStyle(t,n,i){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");if(t>n)throw new b(S.ErrInvalidArgument,"from should be less than or equal to to");const r=this.text.indexRangeToPosRange(t,n);z.isEnabled(ee.Debug)&&z.debug(`STYL: f:${t}->${r[0].toTestString()}, t:${n}->${r[1].toTestString()} a:${JSON.stringify(i)}`);const a=is(i),s=this.context.issueTimeTicket(),[l]=this.text.setStyle(r,a,s);for(const o of l)this.context.registerGCPair(o);return this.context.push(new Hl(this.text.getCreatedAt(),r[0],r[1],new Map(Object.entries(a)),s)),!0}indexRangeToPosRange(t){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");const n=this.text.indexRangeToPosRange(t[0],t[1]);return[n[0].toStruct(),n[1].toStruct()]}posRangeToIndexRange(t){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");const n=this.text.findIndexesFromRange([Qe.fromStruct(t[0]),Qe.fromStruct(t[1])]);return[n[0],n[1]]}toTestString(){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(t,n){if(!this.context||!this.text)throw new b(S.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(t,n)}}class qd{constructor(t,n){u(this,"valueType");u(this,"value");u(this,"context");u(this,"counter");this.valueType=t,this.value=n}initialize(t,n){this.valueType=n.getValueType(),this.context=t,this.counter=n,this.value=n.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(t){if(!this.context||!this.counter)throw new b(S.ErrNotInitialized,"Counter is not initialized yet");const n=this.context.issueTimeTicket(),i=Tt.of(t,n);if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`);return this.counter.increase(i),this.context.push(os.create(this.counter.getCreatedAt(),i,n)),this}toJSForTest(){if(!this.context||!this.counter)throw new b(S.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function Jd(e){if(e.isText)return{type:e.type,value:e.value};const t={type:e.type,children:e.children.map(n=>Jd(n))};return e.attrs&&(t.attributes=Ji(e.attrs.toObject())),t}function $w(e,t){const n={type:e.isText?e.parent.type:e.type,children:e.isText?e.parent.getChildrenText().length===t?[]:[{type:Sn,value:e.parent.getChildrenText().slice(t)}]:e.children.slice(t).map(i=>Jd(i))};return e.attrs?n.attributes=Ji(e.attrs.toObject()):e.isText&&e.parent.attrs&&(n.attributes=Ji(e.parent.attrs.toObject())),n}function Xw(e,t){const{node:n}=e,i=[...t].slice(0,-1),r=n.isText?n.parent.getChildrenText().length:n.children.length,a=[...i,r],s=[...i],l=[];s[s.length-1]+=1,t.every((c,h)=>c===a[h])||l.push({fromPath:[...t],toPath:a});const o=$w(n,t[t.length-1]);return o&&l.push({fromPath:s,toPath:s,content:o}),l}function Zw(e,t){const{node:n,offset:i}=e,r=n.children[i],a=n.children[i-1],{children:s}=r,l=[...t].slice(0,-1),o=[{fromPath:[...t],toPath:[...l,i+1]}];if(!r.children.length)return o;const c=[...l,i-1,a.hasTextChild()?a.getChildrenText().length:a.children.length],h=s.map(m=>Jd(m));return o.push({fromPath:c,toPath:c,content:h}),o}function Pd(e,t,n){const{type:i}=e,r=n.issueTimeTicket();if(i===Sn){sS(e);const{value:a}=e,s=he.create(Vt.of(r,0),i,a);t.append(s)}else{const{children:a=[]}=e,{attributes:s}=e;let l;if(typeof s=="object"&&!R0(s)){const c=is(s);l=new Ki;for(const[h,m]of Object.entries(c))l.set(h,m,r)}const o=he.create(Vt.of(r,0),i,void 0,l);t.append(o);for(const c of a)Pd(c,o,n)}}function Qw(e,t){const{type:n}=t,i=e.issueTimeTicket();let r;if(t.type===Sn){const{value:a}=t;r=he.create(Vt.of(i,0),n,a)}else if(t){const{children:a=[]}=t,{attributes:s}=t;let l;if(typeof s=="object"&&!R0(s)){const o=is(s);l=new Ki;for(const[c,h]of Object.entries(o))l.set(c,h,i)}r=he.create(Vt.of(e.issueTimeTicket(),0),n,void 0,l);for(const o of a)Pd(o,r,e)}return r}function sS(e){if(!e.value.length)throw new b(S.ErrInvalidArgument,"text node cannot have empty value");return!0}function ty(e){if(!e.length)return!0;if(e[0].type===Sn)for(const n of e){const{type:i}=n;if(i!==Sn)throw new b(S.ErrInvalidArgument,"element node and text node cannot be passed together");sS(n)}else for(const n of e){const{type:i}=n;if(i===Sn)throw new b(S.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Hd{constructor(t){u(this,"initialRoot");u(this,"context");u(this,"tree");this.initialRoot=t}initialize(t,n){this.context=t,this.tree=n}getID(){return this.tree.getID()}buildRoot(t){if(!this.initialRoot)return he.create(Vt.of(t.issueTimeTicket(),0),GA);const n=he.create(Vt.of(t.issueTimeTicket(),0),this.initialRoot.type);for(const i of this.initialRoot.children)Pd(i,n,t);return n}getSize(){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(t){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");if(!t.length)throw new b(S.ErrInvalidArgument,"path should not be empty");const n=this.tree.pathToTreePos(t),i=Xw(n,t);for(const r of i){const{fromPath:a,toPath:s,content:l}=r,o=this.tree.pathToPos(a),c=this.tree.pathToPos(s);this.editInternal(o,c,l?[l]:[],0)}}mergeByPath(t){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");if(!t.length)throw new b(S.ErrInvalidArgument,"path should not be empty");const n=this.tree.pathToTreePos(t);if(n.node.isText)throw new b(S.ErrInvalidArgument,"text node cannot be merged");const i=Zw(n,t);for(const r of i){const{fromPath:a,toPath:s,content:l}=r,o=this.tree.pathToPos(a),c=this.tree.pathToPos(s);this.editInternal(o,c,l??[],0)}}styleByPath(t,n){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");if(!t.length)throw new b(S.ErrInvalidArgument,"path should not be empty");const[i,r]=this.tree.pathToPosRange(t),a=this.context.issueTimeTicket(),s=n?is(n):void 0,[l]=this.tree.style([i,r],s,a);for(const o of l)this.context.registerGCPair(o);this.context.push(Pi.create(this.tree.getCreatedAt(),i,r,s?new Map(Object.entries(s)):new Map,a))}style(t,n,i){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new b(S.ErrInvalidArgument,"from should be less than or equal to to");const r=this.tree.findPos(t),a=this.tree.findPos(n),s=this.context.issueTimeTicket(),l=i?is(i):void 0,[o]=this.tree.style([r,a],l,s);for(const c of o)this.context.registerGCPair(c);this.context.push(Pi.create(this.tree.getCreatedAt(),r,a,l?new Map(Object.entries(l)):new Map,s))}removeStyle(t,n,i){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new b(S.ErrInvalidArgument,"from should be less than or equal to to");const r=this.tree.findPos(t),a=this.tree.findPos(n),s=this.context.issueTimeTicket(),[l]=this.tree.removeStyle([r,a],i,s);for(const o of l)this.context.registerGCPair(o);this.context.push(Pi.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),r,a,i,s))}editInternal(t,n,i,r=0){var o;if(i.length!==0&&i[0]&&(ty(i),i[0].type!==Sn))for(const c of i){const{children:h=[]}=c;ty(h)}const a=this.context.getLastTimeTicket();let s=new Array;if(((o=i[0])==null?void 0:o.type)===Sn){let c="";for(const h of i){const{value:m}=h;c+=m}s.push(he.create(Vt.of(this.context.issueTimeTicket(),0),Sn,c))}else s=i.map(c=>c&&Qw(this.context,c)).filter(c=>c);const[,l]=this.tree.edit([t,n],s.length?s.map(c=>c==null?void 0:c.deepcopy()):void 0,r,a,()=>this.context.issueTimeTicket());for(const c of l)this.context.registerGCPair(c);return this.context.push(Vl.create(this.tree.getCreatedAt(),t,n,s.length?s:void 0,r,a)),!0}editByPath(t,n,i,r=0){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");if(t.length!==n.length)throw new b(S.ErrInvalidArgument,"path length should be equal");if(!t.length||!n.length)throw new b(S.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToPos(t),s=this.tree.pathToPos(n);return this.editInternal(a,s,i?[i]:[],r)}editBulkByPath(t,n,i,r=0){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");if(t.length!==n.length)throw new b(S.ErrInvalidArgument,"path length should be equal");if(!t.length||!n.length)throw new b(S.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToPos(t),s=this.tree.pathToPos(n);return this.editInternal(a,s,i,r)}edit(t,n,i,r=0){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new b(S.ErrInvalidArgument,"from should be less than or equal to to");const a=this.tree.findPos(t),s=this.tree.findPos(n);return this.editInternal(a,s,i?[i]:[],r)}editBulk(t,n,i,r=0){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new b(S.ErrInvalidArgument,"from should be less than or equal to to");const a=this.tree.findPos(t),s=this.tree.findPos(n);return this.editInternal(a,s,i,r)}toXML(){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(t){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(t)}pathToIndex(t){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(t)}pathRangeToPosRange(t){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");const n=[this.tree.pathToIndex(t[0]),this.tree.pathToIndex(t[1])],i=this.tree.indexRangeToPosRange(n);return[i[0].toStruct(),i[1].toStruct()]}indexRangeToPosRange(t){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(t)}posRangeToIndexRange(t){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");const n=[Xe.fromStruct(t[0]),Xe.fromStruct(t[1])];return this.tree.posRangeToIndexRange(n)}posRangeToPathRange(t){if(!this.context||!this.tree)throw new b(S.ErrNotInitialized,"Tree is not initialized yet");const n=[Xe.fromStruct(t[0]),Xe.fromStruct(t[1])];return this.tree.posRangeToPathRange(n)}}function ey(e,t){return aS(e,t)}function tr(e,t){if(t){if(t instanceof Tt)return t;if(t instanceof ie)return aS(e,t);if(t instanceof pe)return Gw(e,t);if(t instanceof Ve)return new Ld(e,t);if(t instanceof ve){const n=new qd(bn.Int,0);return n.initialize(e,t),n}else if(t instanceof je){const n=new Hd;return n.initialize(e,t),n}}else return;throw new TypeError(`Unsupported type of element: ${typeof t}`)}function Jr(e,t){const n=tr(e,t);return n instanceof Tt?n.getValue():n}function Bu(e,t,n){let i;if(Tt.isSupport(t))i=Tt.of(t,n);else if(Array.isArray(t))i=pe.create(n,yt.buildArrayElements(e,t));else if(typeof t=="object")t instanceof Ld?(i=Ve.create(ls.create(),n),t.initialize(e,i)):t instanceof qd?(i=ve.create(t.getValueType(),t.getValue(),n),t.initialize(e,i)):t instanceof Hd?(i=je.create(t.buildRoot(e),n),t.initialize(e,i)):i=ie.create(n,bl.buildObjectMembers(e,t));else throw new TypeError(`Unsupported type of value: ${typeof t}`);return i}const ny=50;class _w{constructor(){u(this,"undoStack",[]);u(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(t){this.undoStack.length>=ny&&this.undoStack.shift(),this.undoStack.push(t)}popUndo(){return this.undoStack.pop()}pushRedo(t){this.redoStack.length>=ny&&this.redoStack.shift(),this.redoStack.push(t)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const Fw="yorkie-devtools-panel",Ww="yorkie-devtools-sdk";function tE(e){return[Jt.StatusChanged,Jt.Snapshot,Jt.LocalChange,Jt.RemoteChange,Jt.Initialized,Jt.Watched,Jt.Unwatched,Jt.PresenceChanged].includes(e.type)}function eE(e){return e.every(tE)}let pa="disconnected";const iy=new Map,ko=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=ko);function fo(e,t){(t!=null&&t.force||pa!=="disconnected")&&window.postMessage({source:Ww,...e},"*")}function nE(e){if(!e.isEnableDevtools()||typeof window>"u"||iy.has(e.getKey()))return;ko.set(e.getKey(),[]);const t=e.subscribe("all",n=>{eE(n)&&(ko.get(e.getKey()).push(n),pa==="synced"&&fo({msg:"doc::sync::partial",docKey:e.getKey(),event:n}))});iy.set(e.getKey(),[t]),fo({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",n=>{var r;if(((r=n.data)==null?void 0:r.source)!==Fw)return;switch(n.data.msg){case"devtools::connect":if(pa!=="disconnected")break;pa="connected",fo({msg:"doc::available",docKey:e.getKey()}),z.info(`[YD] Devtools connected. Doc: ${e.getKey()}`);break;case"devtools::disconnect":pa="disconnected",z.info(`[YD] Devtools disconnected. Doc: ${e.getKey()}`);break;case"devtools::subscribe":pa="synced",fo({msg:"doc::sync::full",docKey:e.getKey(),events:ko.get(e.getKey())}),z.info(`[YD] Devtools subscribed. Doc: ${e.getKey()}`);break}})}var er=(e=>(e.Detached="detached",e.Attached="attached",e.Removed="removed",e))(er||{}),Jt=(e=>(e.StatusChanged="status-changed",e.ConnectionChanged="connection-changed",e.SyncStatusChanged="sync-status-changed",e.Snapshot="snapshot",e.LocalChange="local-change",e.RemoteChange="remote-change",e.Initialized="initialized",e.Watched="watched",e.Unwatched="unwatched",e.PresenceChanged="presence-changed",e.Broadcast="broadcast",e.LocalBroadcast="local-broadcast",e.AuthError="auth-error",e))(Jt||{}),Iu=(e=>(e.Connected="connected",e.Disconnected="disconnected",e))(Iu||{}),Sh=(e=>(e.Synced="synced",e.SyncFailed="sync-failed",e))(Sh||{});class lS{constructor(t,n){u(this,"key");u(this,"status");u(this,"opts");u(this,"changeID");u(this,"checkpoint");u(this,"localChanges");u(this,"root");u(this,"clone");u(this,"eventStream");u(this,"eventStreamObserver");u(this,"onlineClients");u(this,"presences");u(this,"history");u(this,"internalHistory");u(this,"isUpdating");this.opts=n||{},this.key=t,this.status="detached",this.root=Tl.create(),this.changeID=WA,this.checkpoint=tw,this.localChanges=[],this.eventStream=jw(i=>{this.eventStreamObserver=i}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new _w,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},nE(this)}update(t,n){if(this.getStatus()==="removed")throw new b(S.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const i=this.changeID.getActorID(),r=ka.create(this.changeID.next(),this.clone.root,this.clone.presences.get(i)||{},n);try{const a=ey(r,this.clone.root.getObject());this.presences.has(i)||this.clone.presences.set(i,{}),this.isUpdating=!0,t(a,new Yc(r,this.clone.presences.get(i)))}catch(a){throw this.clone=void 0,a}finally{this.isUpdating=!1}if(r.hasChange()){z.isEnabled(ee.Trivial)&&z.trivial(`trying to update a local change: ${this.toJSON()}`);const a=r.getChange(),{opInfos:s,reverseOps:l}=a.execute(this.root,this.presences,at.Local),o=r.getReversePresence();o&&l.push({type:"presence",value:o}),this.localChanges.push(a),l.length>0&&this.internalHistory.pushUndo(l),s.length>0&&this.internalHistory.clearRedo(),this.changeID=a.getID();const c=[];s.length>0&&c.push({type:"local-change",source:at.Local,value:{message:a.getMessage()||"",operations:s,actor:i,clientSeq:a.getID().getClientSeq(),serverSeq:a.getID().getServerSeq()},rawChange:this.isEnableDevtools()?a.toStruct():void 0}),a.hasPresenceChange()&&c.push({type:"presence-changed",source:at.Local,value:{clientID:i,presence:this.getPresence(i)}}),this.publish(c),z.isEnabled(ee.Trivial)&&z.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(t,n,i,r){if(typeof t=="string"){if(typeof n!="function")throw new b(S.ErrInvalidArgument,"Second argument must be a callback function");if(t==="presence"){const l=n;return this.eventStream.subscribe(o=>{for(const c of o)c.type!=="initialized"&&c.type!=="watched"&&c.type!=="unwatched"&&c.type!=="presence-changed"||l(c)},i,r)}if(t==="my-presence"){const l=n;return this.eventStream.subscribe(o=>{for(const c of o)c.type!=="initialized"&&c.type!=="presence-changed"||c.type==="presence-changed"&&c.value.clientID!==this.changeID.getActorID()||l(c)},i,r)}if(t==="others"){const l=n;return this.eventStream.subscribe(o=>{for(const c of o)c.type!=="watched"&&c.type!=="unwatched"&&c.type!=="presence-changed"||c.value.clientID!==this.changeID.getActorID()&&l(c)},i,r)}if(t==="connection"){const l=n;return this.eventStream.subscribe(o=>{for(const c of o)c.type==="connection-changed"&&l(c)},i,r)}if(t==="status"){const l=n;return this.eventStream.subscribe(o=>{for(const c of o)c.type==="status-changed"&&l(c)},i,r)}if(t==="sync"){const l=n;return this.eventStream.subscribe(o=>{for(const c of o)c.type==="sync-status-changed"&&l(c)},i,r)}if(t==="local-broadcast"){const l=n;return this.eventStream.subscribe(o=>{for(const c of o)c.type==="local-broadcast"&&l(c)},i)}if(t==="broadcast"){const l=n;return this.eventStream.subscribe(o=>{for(const c of o)c.type==="broadcast"&&l(c)},i)}if(t==="auth-error"){const l=n;return this.eventStream.subscribe(o=>{for(const c of o)c.type==="auth-error"&&l(c)},i)}if(t==="all"){const l=n;return this.eventStream.subscribe(l,i,r)}const a=t,s=n;return this.eventStream.subscribe(l=>{for(const o of l){if(o.type!=="local-change"&&o.type!=="remote-change")continue;const c=[];for(const h of o.value.operations)this.isSameElementOrChildOf(h.path,a)&&c.push(h);c.length&&s({...o,value:{...o.value,operations:c}})}},i,r)}if(typeof t=="function"){const a=t,s=n,l=i;return this.eventStream.subscribe(o=>{for(const c of o)c.type!=="snapshot"&&c.type!=="local-change"&&c.type!=="remote-change"||a(c)},s,l)}throw new b(S.ErrInvalidArgument,`"${t}" is not a valid`)}publish(t){this.eventStreamObserver&&this.eventStreamObserver.next(t)}isSameElementOrChildOf(t,n){if(n===t)return!0;const i=t.split(".");return n.split(".").every((a,s)=>a===i[s])}removePushedLocalChanges(t){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>t);)this.localChanges.shift()}applyChangePack(t){const n=t.hasSnapshot();n?this.applySnapshot(t.getCheckpoint().getServerSeq(),t.getVersionVector(),t.getSnapshot(),t.getCheckpoint().getClientSeq()):(this.applyChanges(t.getChanges(),at.Remote),this.removePushedLocalChanges(t.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(t.getCheckpoint()),n||this.garbageCollect(t.getVersionVector()),t.getIsRemoved()&&this.applyStatus("removed"),z.isEnabled(ee.Trivial)&&z.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Ye(this.presences)})}createChangePack(){const t=Array.from(this.localChanges),n=this.checkpoint.increaseClientSeq(t.length);return ic.create(this.key,n,!1,t,this.getVersionVector())}setActor(t){for(const n of this.localChanges)n.setActor(t);this.changeID=this.changeID.setActor(t)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const t=ka.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return ey(t,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}garbageCollect(t){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(t),this.root.garbageCollect(t))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(t,n,i,r=-1){const{root:a,presences:s}=Et.bytesToSnapshot(i);this.root=new Tl(a),this.presences=s,this.changeID=this.changeID.setClocks(n.maxLamport(),n),this.clone=void 0,this.removePushedLocalChanges(r),this.applyChanges(this.localChanges,at.Local),this.publish([{type:"snapshot",source:at.Remote,value:{serverSeq:t.toString(),snapshot:this.isEnableDevtools()?Et.bytesToHex(i):void 0,snapshotVector:Et.versionVectorToHex(n)}}])}applyChanges(t,n){z.isEnabled(ee.Debug)&&z.debug(`trying to apply ${t.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),z.isEnabled(ee.Trivial)&&z.trivial(t.map(i=>`${i.getID().toTestString()}	${i.toTestString()}`).join(`
`));for(const i of t)this.applyChange(i,n);z.isEnabled(ee.Debug)&&z.debug(`after appling ${t.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(t,n){this.ensureClone(),t.execute(this.clone.root,this.clone.presences,n);const i=[],r=t.getID().getActorID();if(t.hasPresenceChange()&&this.onlineClients.has(r)){const s=t.getPresenceChange();switch(s.type){case Cr.Put:i.push(this.presences.has(r)?{type:"presence-changed",source:n,value:{clientID:r,presence:s.presence}}:{type:"watched",source:at.Remote,value:{clientID:r,presence:s.presence}});break;case Cr.Clear:i.push({type:"unwatched",source:at.Remote,value:{clientID:r,presence:this.getPresence(r)}}),this.removeOnlineClient(r);break}}const{opInfos:a}=t.execute(this.root,this.presences,n);if(this.changeID=this.changeID.syncClocks(t.getID()),a.length>0){const s=this.isEnableDevtools()?t.toStruct():void 0;i.push(n===at.Remote?{type:"remote-change",source:n,value:{actor:r,clientSeq:t.getID().getClientSeq(),serverSeq:t.getID().getServerSeq(),message:t.getMessage()||"",operations:a},rawChange:s}:{type:"local-change",source:n,value:{actor:r,clientSeq:t.getID().getClientSeq(),serverSeq:t.getID().getServerSeq(),message:t.getMessage()||"",operations:a},rawChange:s})}i.length>0&&this.publish(i)}applyWatchStream(t){if(t.body.case==="initialization"){const n=t.body.value.clientIds,i=new Set;for(const r of n)r!==this.changeID.getActorID()&&i.add(r);this.setOnlineClients(i),this.publish([{type:"initialized",source:at.Local,value:this.getPresences()}]);return}if(t.body.case==="event"){const{type:n,publisher:i}=t.body.value,r=[];if(n===Qr.DOCUMENT_WATCHED){if(this.onlineClients.has(i)&&this.hasPresence(i))return;this.addOnlineClient(i),this.hasPresence(i)&&r.push({type:"watched",source:at.Remote,value:{clientID:i,presence:this.getPresence(i)}})}else if(n===Qr.DOCUMENT_UNWATCHED){const a=this.getPresence(i);this.removeOnlineClient(i),a&&r.push({type:"unwatched",source:at.Remote,value:{clientID:i,presence:a}})}else if(n===Qr.DOCUMENT_BROADCAST&&t.body.value.body){const{topic:a,payload:s}=t.body.value.body,l=new TextDecoder;r.push({type:"broadcast",value:{clientID:i,topic:a,payload:JSON.parse(l.decode(s))}})}r.length>0&&this.publish(r)}}applyStatus(t){this.status=t,t==="detached"&&this.setActor(ec),this.publish([{source:t==="removed"?at.Remote:at.Local,type:"status-changed",value:t==="attached"?{status:t,actorID:this.changeID.getActorID()}:{status:t}}])}applyDocEventForReplay(t){if(t.type==="status-changed"){this.applyStatus(t.value.status),t.value.status==="attached"&&this.setActor(t.value.actorID);return}if(t.type==="snapshot"){const{snapshot:n,serverSeq:i,snapshotVector:r}=t.value;if(!n)return;this.applySnapshot(BigInt(i),Et.hexToVersionVector(r),Et.hexToBytes(n));return}if(t.type==="local-change"||t.type==="remote-change"){if(!t.rawChange)return;const n=ss.fromStruct(t.rawChange);this.applyChange(n,t.source)}if(t.type==="initialized"){const n=new Set;for(const{clientID:i,presence:r}of t.value)n.add(i),this.presences.set(i,r);this.setOnlineClients(n);return}if(t.type==="watched"){const{clientID:n,presence:i}=t.value;this.addOnlineClient(n),this.presences.set(n,i);return}if(t.type==="unwatched"){const{clientID:n}=t.value;this.removeOnlineClient(n),this.presences.delete(n)}if(t.type==="presence-changed"){const{clientID:n,presence:i}=t.value;this.presences.set(n,i)}}applyDocEventsForReplay(t){for(const n of t)this.applyDocEventForReplay(n)}getValueByPath(t){if(!t.startsWith("$"))throw new b(S.ErrInvalidArgument,'path must start with "$"');const n=t.split(".");n.shift();let i=this.getRoot();for(const r of n)if(i=i[r],i===void 0)return;return i}setOnlineClients(t){this.onlineClients=t}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(t){this.onlineClients.add(t)}removeOnlineClient(t){this.onlineClients.delete(t)}hasPresence(t){return this.presences.has(t)}getMyPresence(){if(this.status!=="attached")return{};const t=this.presences.get(this.changeID.getActorID());return t?Ye(t):{}}getPresence(t){if(t===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(t))return;const n=this.presences.get(t);return n?Ye(n):void 0}getPresenceForTest(t){const n=this.presences.get(t);return n?Ye(n):void 0}getPresences(){const t=[];t.push({clientID:this.changeID.getActorID(),presence:Ye(this.getMyPresence())});for(const n of this.onlineClients)this.presences.has(n)&&t.push({clientID:n,presence:Ye(this.presences.get(n))});return t}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const t=this.getChangeID().getActorID();return this.getPresences().filter(n=>n.clientID!==t).sort((n,i)=>n.clientID>i.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}filterVersionVector(t){const i=this.changeID.getVersionVector().filter(t);this.changeID=this.changeID.setVersionVector(i)}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new b(S.ErrRefused,"Undo is not allowed during an update");const t=this.internalHistory.popUndo();if(t===void 0)throw new b(S.ErrRefused,"There is no operation to be undone");this.ensureClone();const n=ka.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const c of t){if(!(c instanceof _e)){new Yc(n,Ye(this.clone.presences.get(this.changeID.getActorID()))).set(c.value,{addToHistory:!0});continue}const h=n.issueTimeTicket();c.setExecutedAt(h),n.push(c)}const i=n.getChange();i.execute(this.clone.root,this.clone.presences,at.UndoRedo);const{opInfos:r,reverseOps:a}=i.execute(this.root,this.presences,at.UndoRedo),s=n.getReversePresence();if(s&&a.push({type:"presence",value:s}),a.length>0&&this.internalHistory.pushRedo(a),!i.hasPresenceChange()&&r.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const l=this.changeID.getActorID(),o=[];r.length>0&&o.push({type:"local-change",source:at.UndoRedo,value:{message:i.getMessage()||"",operations:r,actor:l,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&o.push({type:"presence-changed",source:at.UndoRedo,value:{clientID:l,presence:this.getPresence(l)}}),this.publish(o)}redo(){if(this.isUpdating)throw new b(S.ErrRefused,"Redo is not allowed during an update");const t=this.internalHistory.popRedo();if(t===void 0)throw new b(S.ErrRefused,"There is no operation to be redone");this.ensureClone();const n=ka.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const c of t){if(!(c instanceof _e)){new Yc(n,Ye(this.clone.presences.get(this.changeID.getActorID()))).set(c.value,{addToHistory:!0});continue}const h=n.issueTimeTicket();c.setExecutedAt(h),n.push(c)}const i=n.getChange();i.execute(this.clone.root,this.clone.presences,at.UndoRedo);const{opInfos:r,reverseOps:a}=i.execute(this.root,this.presences,at.UndoRedo),s=n.getReversePresence();if(s&&a.push({type:"presence",value:s}),a.length>0&&this.internalHistory.pushUndo(a),!i.hasPresenceChange()&&r.length===0)return;this.localChanges.push(i),this.changeID=i.getID();const l=this.changeID.getActorID(),o=[];r.length>0&&o.push({type:"local-change",source:at.UndoRedo,value:{message:i.getMessage()||"",operations:r,actor:l,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&o.push({type:"presence-changed",source:at.UndoRedo,value:{clientID:l,presence:this.getPresence(l)}}),this.publish(o)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}broadcast(t,n,i){const r={type:"local-broadcast",value:{topic:t,payload:n},options:i};this.publish([r])}getVersionVector(){return this.changeID.getVersionVector()}}function iE(e,t){let n=t;return{authInterceptor:a=>async s=>(e&&s.header.set("x-api-key",e),n&&s.header.set("authorization",n),await a(s)),setToken:a=>{n=a}}}const rE="@yorkie-js/sdk",aE="0.6.10",ry={name:rE,version:aE};function sE(e){return t=>async n=>(e?n.header.set("x-yorkie-user-agent",e):n.header.set("x-yorkie-user-agent",ry.name+"/"+ry.version),await t(n))}const lE=e=>{try{if(JSON.stringify(e)===void 0)return!1}catch{return!1}return!0};var Bo=(e=>(e.Manual="manual",e.Realtime="realtime",e.RealtimePushOnly="realtime-pushonly",e.RealtimeSyncOff="realtime-syncoff",e))(Bo||{});const xs={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3},Zc={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class oS{constructor(t){u(this,"id");u(this,"key");u(this,"metadata");u(this,"status");u(this,"attachmentMap");u(this,"apiKey");u(this,"authTokenInjector");u(this,"conditions");u(this,"syncLoopDuration");u(this,"reconnectStreamDelay");u(this,"retrySyncLoopDelay");u(this,"rpcClient");u(this,"setAuthToken");u(this,"taskQueue");u(this,"processing",!1);u(this,"keepalive",!1);t=t||xs;const n=t.rpcAddr||xs.rpcAddr;this.key=t.key||rS(),this.metadata=t.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=t.apiKey||"",this.authTokenInjector=t.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=t.syncLoopDuration??xs.syncLoopDuration,this.reconnectStreamDelay=t.reconnectStreamDelay??xs.reconnectStreamDelay,this.retrySyncLoopDelay=t.retrySyncLoopDelay??xs.retrySyncLoopDelay;const{authInterceptor:i,setToken:r}=iE(this.apiKey);this.setAuthToken=r,this.rpcClient=fA(MA,IA({baseUrl:n,interceptors:[i,sE(t==null?void 0:t.userAgent)],fetch:(a,s)=>{const l={...s,keepalive:this.keepalive};return fetch(a,l)}})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const t=await this.authTokenInjector();this.setAuthToken(t)}return this.enqueueTask(async()=>{try{const t=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":this.apiKey}});this.id=t.clientId,this.status="activated",this.runSyncLoop(),z.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(t){throw z.error(`[AC] c:"${this.getKey()}" err :`,t),await this.handleConnectError(t),t}})}deactivate(t={keepalive:!1}){if(this.status==="deactivated")return Promise.resolve();const n=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":this.apiKey}}),this.deactivateInternal(),z.info(`[DC] c"${this.getKey()}" deactivated`)}catch(i){throw z.error(`[DC] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};if(t.keepalive){this.keepalive=!0;const i=n();return this.keepalive=!1,i}return this.enqueueTask(n)}hasDocument(t){return this.attachmentMap.has(t)}attach(t,n={}){if(!this.isActive())throw new b(S.ErrClientNotActivated,`${this.key} is not active`);if(t.getStatus()!==er.Detached)throw new b(S.ErrDocumentNotDetached,`${t.getKey()} is not detached`);t.setActor(this.id),t.update((a,s)=>s.set(n.initialPresence||{}));const i=t.subscribe("local-broadcast",async a=>{var h;const{topic:s,payload:l}=a.value,o=(h=a.options)==null?void 0:h.error,c=a.options;try{await this.broadcast(t.getKey(),s,l,c)}catch(m){m instanceof Error&&(o==null||o(m))}}),r=n.syncMode??"realtime";return this.enqueueTask(async()=>{try{const a=await this.rpcClient.attachDocument({clientId:this.id,changePack:Et.toChangePack(t.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}),s=Et.fromChangePack(a.changePack);if(t.applyChangePack(s),t.getStatus()===er.Removed)return t;t.applyStatus(er.Attached),this.attachmentMap.set(t.getKey(),new Hw(this.reconnectStreamDelay,t,a.documentId,r,i)),r!=="manual"&&await this.runWatchLoop(t.getKey()),z.info(`[AD] c:"${this.getKey()}" attaches d:"${t.getKey()}"`);const l=t.getRootObject();if(n.initialRoot){const o=n.initialRoot;t.update(c=>{for(const[h,m]of Object.entries(o))if(!l.has(h)){const d=h;c[d]=m}})}return t}catch(a){throw z.error(`[AD] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}})}detach(t,n={keepalive:!1}){if(!this.isActive())throw new b(S.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(t.getKey());if(!i)throw new b(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);t.update((a,s)=>s.clear());const r=async()=>{try{const a=await this.rpcClient.detachDocument({clientId:this.id,documentId:i.docID,changePack:Et.toChangePack(t.createChangePack()),removeIfNotAttached:n.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}),s=Et.fromChangePack(a.changePack);return t.applyChangePack(s),t.getStatus()!==er.Removed&&t.applyStatus(er.Detached),this.detachInternal(t.getKey()),z.info(`[DD] c:"${this.getKey()}" detaches d:"${t.getKey()}"`),t}catch(a){throw z.error(`[DD] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}};if(n.keepalive){this.keepalive=!0;const a=r();return this.keepalive=!1,a}return this.enqueueTask(r)}async changeSyncMode(t,n){if(!this.isActive())throw new b(S.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(t.getKey());if(!i)throw new b(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);const r=i.syncMode;return r===n?t:(i.changeSyncMode(n),n==="manual"?(i.cancelWatchStream(),t):(n==="realtime"&&(i.remoteChangeEventReceived=!0),r==="manual"&&await this.runWatchLoop(t.getKey()),t))}sync(t){if(!this.isActive())throw new b(S.ErrClientNotActivated,`${this.key} is not active`);if(t){const n=this.attachmentMap.get(t.getKey());if(!n)throw new b(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(n,"realtime").catch(async i=>{throw z.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}return this.enqueueTask(async()=>{const n=[];for(const[,i]of this.attachmentMap)n.push(this.syncInternal(i,i.syncMode));return Promise.all(n).catch(async i=>{throw z.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i})})}remove(t){if(!this.isActive())throw new b(S.ErrClientNotActivated,`${this.key} is not active`);const n=this.attachmentMap.get(t.getKey());if(!n)throw new b(S.ErrDocumentNotAttached,`${t.getKey()} is not attached`);t.setActor(this.id);const i=Et.toChangePack(t.createChangePack());return i.isRemoved=!0,this.enqueueTask(async()=>{try{const r=await this.rpcClient.removeDocument({clientId:this.id,documentId:n.docID,changePack:i},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}),a=Et.fromChangePack(r.changePack);t.applyChangePack(a),this.detachInternal(t.getKey()),z.info(`[RD] c:"${this.getKey()}" removes d:"${t.getKey()}"`)}catch(r){throw z.error(`[RD] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(t){return this.conditions[t]}broadcast(t,n,i,r){if(!this.isActive())throw new b(S.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(t);if(!a)throw new b(S.ErrDocumentNotAttached,`${t} is not attached`);if(!lE(i))throw new b(S.ErrInvalidArgument,"payload is not serializable");const s=(r==null?void 0:r.maxRetries)??Zc.maxRetries,l=Zc.maxBackoff;let o=0;const c=m=>Math.min(Zc.initialRetryInterval*2**m,l),h=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,documentId:a.docID,topic:n,payload:new TextEncoder().encode(JSON.stringify(i))},{headers:{"x-shard-key":`${this.apiKey}/${t}`}}),z.info(`[BC] c:"${this.getKey()}" broadcasts d:"${t}" t:"${n}"`)}catch(m){if(z.error(`[BC] c:"${this.getKey()}" err:`,m),await this.handleConnectError(m))if(m instanceof W&&Fi(m)===S.ErrUnauthenticated&&a.doc.publish([{type:Jt.AuthError,value:{reason:ks(m).reason,method:"Broadcast"}}]),o<s)o++,setTimeout(()=>h(),c(o-1)),z.info(`[BC] c:"${this.getKey()}" retry attempt ${o}/${s}`);else throw z.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),m;else throw m}});return h()}runSyncLoop(){const t=()=>{if(!this.isActive()){z.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}const n=[];for(const[,i]of this.attachmentMap)i.needRealtimeSync()&&(i.remoteChangeEventReceived=!1,n.push(this.syncInternal(i,i.syncMode).catch(async r=>{throw r instanceof W&&Fi(r)===S.ErrUnauthenticated&&i.doc.publish([{type:Jt.AuthError,value:{reason:ks(r).reason,method:"PushPull"}}]),r})));Promise.all(n).then(()=>setTimeout(t,this.syncLoopDuration)).catch(async i=>{z.error(`[SL] c:"${this.getKey()}" sync failed:`,i),await this.handleConnectError(i)?setTimeout(t,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1})};z.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,t()}async runWatchLoop(t){const n=this.attachmentMap.get(t);if(!n)throw new b(S.ErrDocumentNotAttached,`${t} is not attached`);return this.conditions.WatchLoop=!0,n.runWatchLoop(i=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new b(S.ErrClientNotActivated,`${this.key} is not active`));const r=new AbortController,a=this.rpcClient.watchDocument({clientId:this.id,documentId:n.docID},{headers:{"x-shard-key":`${this.apiKey}/${t}`},signal:r.signal});return n.doc.publish([{type:Jt.ConnectionChanged,value:Iu.Connected}]),z.info(`[WD] c:"${this.getKey()}" watches d:"${t}"`),new Promise((s,l)=>{(async()=>{try{for await(const c of a)this.handleWatchDocumentsResponse(n,c),c.body.case==="initialization"&&s([a,r])}catch(c){n.doc.resetOnlineClients(),n.doc.publish([{type:Jt.Initialized,source:at.Local,value:n.doc.getPresences()}]),n.doc.publish([{type:Jt.ConnectionChanged,value:Iu.Disconnected}]),z.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(c)?(c instanceof W&&Fi(c)===S.ErrUnauthenticated&&n.doc.publish([{type:Jt.AuthError,value:{reason:ks(c).reason,method:"WatchDocuments"}}]),i()):this.conditions.WatchLoop=!1,l(c)}})()})})}handleWatchDocumentsResponse(t,n){if(n.body.case==="event"&&n.body.value.type===Qr.DOCUMENT_CHANGED){t.remoteChangeEventReceived=!0;return}t.doc.applyWatchStream(n)}deactivateInternal(){this.status="deactivated";for(const[t,n]of this.attachmentMap)this.detachInternal(t),n.doc.applyStatus(er.Detached)}detachInternal(t){const n=this.attachmentMap.get(t);n&&(n.cancelWatchStream(),n.unsubscribeBroadcastEvent(),this.attachmentMap.delete(t))}async syncInternal(t,n){const{doc:i,docID:r}=t,a=i.createChangePack();try{const s=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:r,changePack:Et.toChangePack(a),pushOnly:n==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),l=Et.fromChangePack(s.changePack);if(l.hasChanges()&&(t.syncMode==="realtime-pushonly"||t.syncMode==="realtime-syncoff"))return i;i.applyChangePack(l),t.doc.publish([{type:Jt.SyncStatusChanged,value:Sh.Synced}]),i.getStatus()===er.Removed&&this.detachInternal(i.getKey());const o=i.getKey(),c=l.getChangeSize();return z.info(`[PP] c:"${this.getKey()}" sync d:"${o}", push:${a.getChangeSize()} pull:${c} cp:${l.getCheckpoint().toTestString()}`),i}catch(s){throw i.publish([{type:Jt.SyncStatusChanged,value:Sh.SyncFailed}]),z.error(`[PP] c:"${this.getKey()}" err :`,s),s}}async handleConnectError(t){if(!(t instanceof W))return!1;if(t.code===$.Canceled||t.code===$.Unknown||t.code===$.ResourceExhausted||t.code===$.Unavailable)return!0;if(Fi(t)===S.ErrUnauthenticated){if(this.authTokenInjector){const n=await this.authTokenInjector(ks(t).reason);this.setAuthToken(n)}return!0}return Fi(t)===S.ErrTooManySubscribers?(z.error(`[WD] c:"${this.getKey()}" err :`,t.rawMessage),!0):(Fi(t)===S.ErrTooManyAttachments||(Fi(t)===S.ErrClientNotActivated||Fi(t)===S.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(t){return new Promise((n,i)=>{this.taskQueue.push(()=>t().then(n).catch(i)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{z.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}bn.Int,bn.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:oS,Document:lS,Primitive:Tt,Text:Ld,Counter:qd,Tree:Hd,LogLevel:ee,setLogLevel:Pw,IntType:bn.Int,LongType:bn.Long});mt.createContext({client:void 0,loading:!0,error:void 0});function oE(e){const[t,n]=mt.useState(void 0),[i,r]=mt.useState(!0),[a,s]=mt.useState(void 0),[l,o]=mt.useState(!1);return mt.useEffect(()=>{o(!0)},[]),mt.useEffect(()=>{r(!0),s(void 0);async function c(){if(l)try{const h=new oS(e);await h.activate(),n(h)}catch(h){s(h instanceof Error?h:new Error("Failed to activate client"))}finally{r(!1)}}return c(),()=>{t!=null&&t.isActive()&&t.deactivate({keepalive:!0})}},[e.apiKey,e.rpcAddr,l]),{client:t,loading:i,error:a}}function uE(e,t,n,i,r,a){const[s,l]=mt.useState(),[o,c]=mt.useState(!0),[h,m]=mt.useState(),[d,g]=mt.useState(r),[A,E]=mt.useState([]),[O,p]=mt.useState(Iu.Disconnected);mt.useEffect(()=>{if(n){c(!1),m(n);return}if(!e||t){c(!0);return}c(!0),m(void 0);const v=new lS(i),T=[];T.push(v.subscribe(()=>{g(v.getRoot())})),T.push(v.subscribe("presence",()=>{E(v.getPresences())})),T.push(v.subscribe("connection",k=>{p(k.value)}));async function x(){try{await(e==null?void 0:e.attach(v,{initialRoot:r,initialPresence:a})),l(v),g(v.getRoot()),E(v.getPresences())}catch(k){m(k instanceof Error?k:new Error("Failed to attach document"))}finally{c(!1)}}return x(),()=>{e&&e.hasDocument(i)&&e.detach(v);for(const k of T)k()}},[e,t,n,i]);const y=mt.useCallback(v=>{if(s)try{s.update(v)}catch(T){m(T instanceof Error?T:new Error("Failed to update document"))}},[s]);return{doc:s,root:d,presences:A,connection:O,update:y,loading:o,error:h}}mt.createContext(null);function cE(e,t,n){const i=mt.useMemo(()=>({apiKey:e,userAgent:mm.name+"/"+mm.version,...n}),[e]),{client:r,loading:a,error:s}=oE(i),{root:l,presences:o,connection:c,update:h,loading:m,error:d}=uE(r,a,s,t,n==null?void 0:n.initialRoot,n==null?void 0:n.initialPresence);return{root:l,presences:o,connection:c,update:h,loading:m,error:d}}var uS={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",s=0;s<arguments.length;s++){var l=arguments[s];l&&(a=r(a,i(l)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var s="";for(var l in a)t.call(a,l)&&a[l]&&(s=r(s,l));return s}function r(a,s){return s?a?a+" "+s:a+s:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(uS);var fE=uS.exports;const Vd=ay(fE);function cS(e){const[t,n]=mt.useState(e.text||"");return et.jsx("input",{className:Vd({edit:e.editing,"new-todo":e.newTodo}),type:"text",placeholder:e.placeholder,value:t,onBlur:i=>{e.newTodo||e.onSave(i.target.value)},onChange:i=>{n(i.target.value)},onKeyDown:i=>{const r=i.target;i.which===13&&(e.onSave(r.value.trim()),e.newTodo&&n(""))}})}function hE(e){return et.jsxs("header",{className:"header",children:[et.jsx("h1",{children:"todos"}),et.jsx(cS,{newTodo:!0,onSave:t=>{t.length!==0&&e.addTodo(t)},placeholder:"What needs to be done?"})]})}function dE(e){const[t,n]=mt.useState(!1),{todo:i,completeTodo:r,editTodo:a,deleteTodo:s}=e;return et.jsx("li",{className:Vd({completed:i.completed,editing:t}),children:t?et.jsx(cS,{text:i.text,editing:t,onSave:l=>{l.length===0?s(i.id):a(i.id,l),n(!1)}}):et.jsxs("div",{className:"view",children:[et.jsx("input",{id:`item-input-${i.id}`,className:"toggle",type:"checkbox",checked:i.completed,onChange:()=>r(i.id)}),et.jsx("label",{htmlFor:`item-input-${i.id}`,onDoubleClick:()=>n(!0),children:i.text}),et.jsx("button",{type:"button","aria-label":"Delete",className:"destroy",onClick:()=>s(i.id)})]})})}const gE={SHOW_ALL:"All",SHOW_ACTIVE:"Active",SHOW_COMPLETED:"Completed"};function mE(e){const{activeCount:t,completedCount:n,filter:i,onClearCompleted:r,onShow:a}=e;return et.jsxs("footer",{className:"footer",children:[et.jsxs("span",{className:"todo-count",children:[et.jsx("strong",{children:t||"No"})," ",t===1?"item":"items"," left"]}),et.jsx("ul",{className:"filters",children:["SHOW_ALL","SHOW_ACTIVE","SHOW_COMPLETED"].map(s=>et.jsx("li",{children:et.jsx("button",{type:"button",className:Vd({selected:s===i}),style:{cursor:"pointer"},onClick:()=>a(s),children:gE[s]})},s))}),!!n&&et.jsx("button",{type:"button",className:"clear-completed",onClick:r,children:"Clear completed"})]})}const yE={SHOW_ALL:e=>!0,SHOW_ACTIVE:e=>!e.completed,SHOW_COMPLETED:e=>e.completed};function pE({todos:e,actions:t}){const[n,i]=mt.useState("SHOW_ALL"),r=e.filter(yE[n]),a=e.reduce((l,o)=>o.completed?l+1:l,0),s=e.length-a;return e.length===0?null:et.jsxs("section",{className:"main",children:[et.jsx("input",{className:"toggle-all",type:"checkbox",defaultChecked:a===e.length,onChange:t.completeAll}),et.jsx("ul",{className:"todo-list",children:r.map(l=>et.jsx(dE,{todo:l,editTodo:t.editTodo,deleteTodo:t.deleteTodo,completeTodo:t.completeTodo},l.id))}),et.jsx(mE,{completedCount:a,activeCount:s,filter:n,onClearCompleted:()=>t.clearCompleted(),onShow:i})]})}function vE(){const{root:e,update:t,loading:n,error:i}=cE("cedaovjuioqlk4pjqn6g",`react-todomvc-${new Date().toISOString().substring(0,10).replace(/-/g,"")}`,{initialRoot:{todos:[]}});if(n)return et.jsx("div",{children:"Loading..."});if(i)return et.jsxs("div",{children:["Error: ",i.message]});const r={addTodo:a=>{t(s=>{s.todos.push({id:s.todos.reduce((l,o)=>Math.max(o.id,l),-1)+1,completed:!1,text:a})})},deleteTodo:a=>{t(s=>{let l;for(const o of s.todos)if(o.id===a){l=o;break}l&&s.todos.deleteByID(l.getID())})},editTodo:(a,s)=>{t(l=>{let o;for(const c of l.todos)if(c.id===a){o=c;break}o&&(o.text=s)})},completeTodo:a=>{t(s=>{let l;for(const o of s.todos)if(o.id===a){l=o;break}l&&(l.completed=!l.completed)})},clearCompleted:()=>{t(a=>{for(const s of a.todos)if(s.completed){const l=s;a.todos.deleteByID(l.getID())}})}};return et.jsxs("div",{className:"App",children:[et.jsx(hE,{addTodo:r.addTodo}),et.jsx(pE,{todos:e.todos,actions:r})]})}c1.createRoot(document.getElementById("root")).render(et.jsx(mt.StrictMode,{children:et.jsx(vE,{})}));
