(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function a(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(u){if(u.ep)return;u.ep=!0;const c=a(u);fetch(u.href,c)}})();function db(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var of={exports:{}},vs={};var xy;function pA(){if(xy)return vs;xy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(s,u,c){var h=null;if(c!==void 0&&(h=""+c),u.key!==void 0&&(h=""+u.key),"key"in u){c={};for(var d in u)d!=="key"&&(c[d]=u[d])}else c=u;return u=c.ref,{$$typeof:i,type:s,key:h,ref:u!==void 0?u:null,props:c}}return vs.Fragment=e,vs.jsx=a,vs.jsxs=a,vs}var Uy;function bA(){return Uy||(Uy=1,of.exports=pA()),of.exports}var Ce=bA(),cf={exports:{}},Ss={},ff={exports:{}},hf={};var By;function vA(){return By||(By=1,(function(i){function e(B,W){var te=B.length;B.push(W);e:for(;0<te;){var Ue=te-1>>>1,Ze=B[Ue];if(0<u(Ze,W))B[Ue]=W,B[te]=Ze,te=Ue;else break e}}function a(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var W=B[0],te=B.pop();if(te!==W){B[0]=te;e:for(var Ue=0,Ze=B.length,A=Ze>>>1;Ue<A;){var z=2*(Ue+1)-1,K=B[z],k=z+1,se=B[k];if(0>u(K,te))k<Ze&&0>u(se,K)?(B[Ue]=se,B[k]=te,Ue=k):(B[Ue]=K,B[z]=te,Ue=z);else if(k<Ze&&0>u(se,te))B[Ue]=se,B[k]=te,Ue=k;else break e}}return W}function u(B,W){var te=B.sortIndex-W.sortIndex;return te!==0?te:B.id-W.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var y=[],m=[],v=1,N=null,V=3,C=!1,L=!1,Y=!1,F=!1,q=typeof setTimeout=="function"?setTimeout:null,ye=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function Ee(B){for(var W=a(m);W!==null;){if(W.callback===null)s(m);else if(W.startTime<=B)s(m),W.sortIndex=W.expirationTime,e(y,W);else break;W=a(m)}}function ie(B){if(Y=!1,Ee(B),!L)if(a(y)!==null)L=!0,Ae||(Ae=!0,rt());else{var W=a(m);W!==null&&mn(ie,W.startTime-B)}}var Ae=!1,J=-1,ve=5,Et=-1;function gn(){return F?!0:!(i.unstable_now()-Et<ve)}function Mt(){if(F=!1,Ae){var B=i.unstable_now();Et=B;var W=!0;try{e:{L=!1,Y&&(Y=!1,ye(J),J=-1),C=!0;var te=V;try{t:{for(Ee(B),N=a(y);N!==null&&!(N.expirationTime>B&&gn());){var Ue=N.callback;if(typeof Ue=="function"){N.callback=null,V=N.priorityLevel;var Ze=Ue(N.expirationTime<=B);if(B=i.unstable_now(),typeof Ze=="function"){N.callback=Ze,Ee(B),W=!0;break t}N===a(y)&&s(y),Ee(B)}else s(y);N=a(y)}if(N!==null)W=!0;else{var A=a(m);A!==null&&mn(ie,A.startTime-B),W=!1}}break e}finally{N=null,V=te,C=!1}W=void 0}}finally{W?rt():Ae=!1}}}var rt;if(typeof ne=="function")rt=function(){ne(Mt)};else if(typeof MessageChannel<"u"){var ki=new MessageChannel,Yn=ki.port2;ki.port1.onmessage=Mt,rt=function(){Yn.postMessage(null)}}else rt=function(){q(Mt,0)};function mn(B,W){J=q(function(){B(i.unstable_now())},W)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return V},i.unstable_next=function(B){switch(V){case 1:case 2:case 3:var W=3;break;default:W=V}var te=V;V=W;try{return B()}finally{V=te}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var te=V;V=B;try{return W()}finally{V=te}},i.unstable_scheduleCallback=function(B,W,te){var Ue=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Ue+te:Ue):te=Ue,B){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=te+Ze,B={id:v++,callback:W,priorityLevel:B,startTime:te,expirationTime:Ze,sortIndex:-1},te>Ue?(B.sortIndex=te,e(m,B),a(y)===null&&B===a(m)&&(Y?(ye(J),J=-1):Y=!0,mn(ie,te-Ue))):(B.sortIndex=Ze,e(y,B),L||C||(L=!0,Ae||(Ae=!0,rt()))),B},i.unstable_shouldYield=gn,i.unstable_wrapCallback=function(B){var W=V;return function(){var te=V;V=W;try{return B.apply(this,arguments)}finally{V=te}}}})(hf)),hf}var Ly;function SA(){return Ly||(Ly=1,ff.exports=vA()),ff.exports}var df={exports:{}},re={};var My;function AA(){if(My)return re;My=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.iterator;function C(A){return A===null||typeof A!="object"?null:(A=V&&A[V]||A["@@iterator"],typeof A=="function"?A:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,F={};function q(A,z,K){this.props=A,this.context=z,this.refs=F,this.updater=K||L}q.prototype.isReactComponent={},q.prototype.setState=function(A,z){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,z,"setState")},q.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function ye(){}ye.prototype=q.prototype;function ne(A,z,K){this.props=A,this.context=z,this.refs=F,this.updater=K||L}var Ee=ne.prototype=new ye;Ee.constructor=ne,Y(Ee,q.prototype),Ee.isPureReactComponent=!0;var ie=Array.isArray;function Ae(){}var J={H:null,A:null,T:null,S:null},ve=Object.prototype.hasOwnProperty;function Et(A,z,K){var k=K.ref;return{$$typeof:i,type:A,key:z,ref:k!==void 0?k:null,props:K}}function gn(A,z){return Et(A.type,z,A.props)}function Mt(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function rt(A){var z={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(K){return z[K]})}var ki=/\/+/g;function Yn(A,z){return typeof A=="object"&&A!==null&&A.key!=null?rt(""+A.key):z.toString(36)}function mn(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Ae,Ae):(A.status="pending",A.then(function(z){A.status==="pending"&&(A.status="fulfilled",A.value=z)},function(z){A.status==="pending"&&(A.status="rejected",A.reason=z)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function B(A,z,K,k,se){var he=typeof A;(he==="undefined"||he==="boolean")&&(A=null);var we=!1;if(A===null)we=!0;else switch(he){case"bigint":case"string":case"number":we=!0;break;case"object":switch(A.$$typeof){case i:case e:we=!0;break;case v:return we=A._init,B(we(A._payload),z,K,k,se)}}if(we)return se=se(A),we=k===""?"."+Yn(A,0):k,ie(se)?(K="",we!=null&&(K=we.replace(ki,"$&/")+"/"),B(se,z,K,"",function(Ir){return Ir})):se!=null&&(Mt(se)&&(se=gn(se,K+(se.key==null||A&&A.key===se.key?"":(""+se.key).replace(ki,"$&/")+"/")+we)),z.push(se)),1;we=0;var Nt=k===""?".":k+":";if(ie(A))for(var Qe=0;Qe<A.length;Qe++)k=A[Qe],he=Nt+Yn(k,Qe),we+=B(k,z,K,he,se);else if(Qe=C(A),typeof Qe=="function")for(A=Qe.call(A),Qe=0;!(k=A.next()).done;)k=k.value,he=Nt+Yn(k,Qe++),we+=B(k,z,K,he,se);else if(he==="object"){if(typeof A.then=="function")return B(mn(A),z,K,k,se);throw z=String(A),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return we}function W(A,z,K){if(A==null)return A;var k=[],se=0;return B(A,k,"","",function(he){return z.call(K,he,se++)}),k}function te(A){if(A._status===-1){var z=A._result;z=z(),z.then(function(K){(A._status===0||A._status===-1)&&(A._status=1,A._result=K)},function(K){(A._status===0||A._status===-1)&&(A._status=2,A._result=K)}),A._status===-1&&(A._status=0,A._result=z)}if(A._status===1)return A._result.default;throw A._result}var Ue=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Ze={map:W,forEach:function(A,z,K){W(A,function(){z.apply(this,arguments)},K)},count:function(A){var z=0;return W(A,function(){z++}),z},toArray:function(A){return W(A,function(z){return z})||[]},only:function(A){if(!Mt(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return re.Activity=N,re.Children=Ze,re.Component=q,re.Fragment=a,re.Profiler=u,re.PureComponent=ne,re.StrictMode=s,re.Suspense=y,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,re.__COMPILER_RUNTIME={__proto__:null,c:function(A){return J.H.useMemoCache(A)}},re.cache=function(A){return function(){return A.apply(null,arguments)}},re.cacheSignal=function(){return null},re.cloneElement=function(A,z,K){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var k=Y({},A.props),se=A.key;if(z!=null)for(he in z.key!==void 0&&(se=""+z.key),z)!ve.call(z,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&z.ref===void 0||(k[he]=z[he]);var he=arguments.length-2;if(he===1)k.children=K;else if(1<he){for(var we=Array(he),Nt=0;Nt<he;Nt++)we[Nt]=arguments[Nt+2];k.children=we}return Et(A.type,se,k)},re.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},re.createElement=function(A,z,K){var k,se={},he=null;if(z!=null)for(k in z.key!==void 0&&(he=""+z.key),z)ve.call(z,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(se[k]=z[k]);var we=arguments.length-2;if(we===1)se.children=K;else if(1<we){for(var Nt=Array(we),Qe=0;Qe<we;Qe++)Nt[Qe]=arguments[Qe+2];se.children=Nt}if(A&&A.defaultProps)for(k in we=A.defaultProps,we)se[k]===void 0&&(se[k]=we[k]);return Et(A,he,se)},re.createRef=function(){return{current:null}},re.forwardRef=function(A){return{$$typeof:d,render:A}},re.isValidElement=Mt,re.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:te}},re.memo=function(A,z){return{$$typeof:m,type:A,compare:z===void 0?null:z}},re.startTransition=function(A){var z=J.T,K={};J.T=K;try{var k=A(),se=J.S;se!==null&&se(K,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(Ae,Ue)}catch(he){Ue(he)}finally{z!==null&&K.types!==null&&(z.types=K.types),J.T=z}},re.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},re.use=function(A){return J.H.use(A)},re.useActionState=function(A,z,K){return J.H.useActionState(A,z,K)},re.useCallback=function(A,z){return J.H.useCallback(A,z)},re.useContext=function(A){return J.H.useContext(A)},re.useDebugValue=function(){},re.useDeferredValue=function(A,z){return J.H.useDeferredValue(A,z)},re.useEffect=function(A,z){return J.H.useEffect(A,z)},re.useEffectEvent=function(A){return J.H.useEffectEvent(A)},re.useId=function(){return J.H.useId()},re.useImperativeHandle=function(A,z,K){return J.H.useImperativeHandle(A,z,K)},re.useInsertionEffect=function(A,z){return J.H.useInsertionEffect(A,z)},re.useLayoutEffect=function(A,z){return J.H.useLayoutEffect(A,z)},re.useMemo=function(A,z){return J.H.useMemo(A,z)},re.useOptimistic=function(A,z){return J.H.useOptimistic(A,z)},re.useReducer=function(A,z,K){return J.H.useReducer(A,z,K)},re.useRef=function(A){return J.H.useRef(A)},re.useState=function(A){return J.H.useState(A)},re.useSyncExternalStore=function(A,z,K){return J.H.useSyncExternalStore(A,z,K)},re.useTransition=function(){return J.H.useTransition()},re.version="19.2.1",re}var Zy;function _f(){return Zy||(Zy=1,df.exports=AA()),df.exports}var gf={exports:{}},bt={};var zy;function EA(){if(zy)return bt;zy=1;var i=_f();function e(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(y,m,v){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:N==null?null:""+N,children:y,containerInfo:m,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bt.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(y,m,null,v)},bt.flushSync=function(y){var m=h.T,v=s.p;try{if(h.T=null,s.p=2,y)return y()}finally{h.T=m,s.p=v,s.d.f()}},bt.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(y,m))},bt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},bt.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,N=d(v,m.crossOrigin),V=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:N,integrity:V,fetchPriority:C}):v==="script"&&s.d.X(y,{crossOrigin:N,integrity:V,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},bt.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(y)},bt.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,N=d(v,m.crossOrigin);s.d.L(y,v,{crossOrigin:N,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},bt.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=d(m.as,m.crossOrigin);s.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(y)},bt.requestFormReset=function(y){s.d.r(y)},bt.unstable_batchedUpdates=function(y,m){return y(m)},bt.useFormState=function(y,m,v){return h.H.useFormState(y,m,v)},bt.useFormStatus=function(){return h.H.useHostTransitionStatus()},bt.version="19.2.1",bt}var Yy;function NA(){if(Yy)return gf.exports;Yy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gf.exports=EA(),gf.exports}var Gy;function TA(){if(Gy)return Ss;Gy=1;var i=SA(),e=_f(),a=NA();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(s(188))}function m(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var o=r.return;if(o===null)break;var f=o.alternate;if(f===null){if(l=o.return,l!==null){r=l;continue}break}if(o.child===f.child){for(f=o.child;f;){if(f===r)return y(o),t;if(f===l)return y(o),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=o,l=f;else{for(var g=!1,p=o.child;p;){if(p===r){g=!0,r=o,l=f;break}if(p===l){g=!0,l=o,r=f;break}p=p.sibling}if(!g){for(p=f.child;p;){if(p===r){g=!0,r=f,l=o;break}if(p===l){g=!0,l=f,r=o;break}p=p.sibling}if(!g)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var N=Object.assign,V=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),ye=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),Et=Symbol.for("react.activity"),gn=Symbol.for("react.memo_cache_sentinel"),Mt=Symbol.iterator;function rt(t){return t===null||typeof t!="object"?null:(t=Mt&&t[Mt]||t["@@iterator"],typeof t=="function"?t:null)}var ki=Symbol.for("react.client.reference");function Yn(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ki?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case q:return"Profiler";case F:return"StrictMode";case ie:return"Suspense";case Ae:return"SuspenseList";case Et:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case ne:return t.displayName||"Context";case ye:return(t._context.displayName||"Context")+".Consumer";case Ee:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return n=t.displayName||null,n!==null?n:Yn(t.type)||"Memo";case ve:n=t._payload,t=t._init;try{return Yn(t(n))}catch{}}return null}var mn=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Ue=[],Ze=-1;function A(t){return{current:t}}function z(t){0>Ze||(t.current=Ue[Ze],Ue[Ze]=null,Ze--)}function K(t,n){Ze++,Ue[Ze]=t.current,t.current=n}var k=A(null),se=A(null),he=A(null),we=A(null);function Nt(t,n){switch(K(he,n),K(se,t),K(k,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ty(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ty(n),t=ny(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}z(k),K(k,t)}function Qe(){z(k),z(se),z(he)}function Ir(t){t.memoizedState!==null&&K(we,t);var n=k.current,r=ny(n,t.type);n!==r&&(K(se,t),K(k,r))}function Qs(t){se.current===t&&(z(k),z(se)),we.current===t&&(z(we),ms._currentValue=te)}var Ku,Vh;function Fi(t){if(Ku===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ku=n&&n[1]||"",Vh=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ku+t+Vh}var Xu=!1;function Ju(t,n){if(!t||Xu)return"";Xu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(x){var O=x}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(x){O=x}t.call(Z.prototype)}}else{try{throw Error()}catch(x){O=x}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(x){if(x&&O&&typeof x.stack=="string")return[x.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],p=f[1];if(g&&p){var b=g.split(`
`),D=p.split(`
`);for(o=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;if(l===b.length||o===D.length)for(l=b.length-1,o=D.length-1;1<=l&&0<=o&&b[l]!==D[o];)o--;for(;1<=l&&0<=o;l--,o--)if(b[l]!==D[o]){if(l!==1||o!==1)do if(l--,o--,0>o||b[l]!==D[o]){var U=`
`+b[l].replace(" at new "," at ");return t.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",t.displayName)),U}while(1<=l&&0<=o);break}}}finally{Xu=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Fi(r):""}function jv(t,n){switch(t.tag){case 26:case 27:case 5:return Fi(t.type);case 16:return Fi("Lazy");case 13:return t.child!==n&&n!==null?Fi("Suspense Fallback"):Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return Ju(t.type,!1);case 11:return Ju(t.type.render,!1);case 1:return Ju(t.type,!0);case 31:return Fi("Activity");default:return""}}function xh(t){try{var n="",r=null;do n+=jv(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ku=Object.prototype.hasOwnProperty,Fu=i.unstable_scheduleCallback,ju=i.unstable_cancelCallback,Hv=i.unstable_shouldYield,Qv=i.unstable_requestPaint,Zt=i.unstable_now,$v=i.unstable_getCurrentPriorityLevel,Uh=i.unstable_ImmediatePriority,Bh=i.unstable_UserBlockingPriority,$s=i.unstable_NormalPriority,Pv=i.unstable_LowPriority,Lh=i.unstable_IdlePriority,qv=i.log,e0=i.unstable_setDisableYieldValue,Cr=null,zt=null;function hi(t){if(typeof qv=="function"&&e0(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Cr,t)}catch{}}var Yt=Math.clz32?Math.clz32:i0,t0=Math.log,n0=Math.LN2;function i0(t){return t>>>=0,t===0?32:31-(t0(t)/n0|0)|0}var Ps=256,qs=262144,el=4194304;function ji(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function tl(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var o=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var p=l&134217727;return p!==0?(l=p&~f,l!==0?o=ji(l):(g&=p,g!==0?o=ji(g):r||(r=p&~t,r!==0&&(o=ji(r))))):(p=l&~f,p!==0?o=ji(p):g!==0?o=ji(g):r||(r=l&~t,r!==0&&(o=ji(r)))),o===0?0:n!==0&&n!==o&&(n&f)===0&&(f=o&-o,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:o}function wr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function a0(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mh(){var t=el;return el<<=1,(el&62914560)===0&&(el=4194304),t}function Hu(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Dr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function r0(t,n,r,l,o,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var p=t.entanglements,b=t.expirationTimes,D=t.hiddenUpdates;for(r=g&~r;0<r;){var U=31-Yt(r),Z=1<<U;p[U]=0,b[U]=-1;var O=D[U];if(O!==null)for(D[U]=null,U=0;U<O.length;U++){var x=O[U];x!==null&&(x.lane&=-536870913)}r&=~Z}l!==0&&Zh(t,l,0),f!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Zh(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Yt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function zh(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Yt(r),o=1<<l;o&n|t[l]&n&&(t[l]|=n),r&=~o}}function Yh(t,n){var r=n&-n;return r=(r&42)!==0?1:Qu(r),(r&(t.suspendedLanes|n))!==0?0:r}function Qu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $u(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gh(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:Ry(t.type))}function _h(t,n){var r=W.p;try{return W.p=t,n()}finally{W.p=r}}var di=Math.random().toString(36).slice(2),ft="__reactFiber$"+di,Rt="__reactProps$"+di,Sa="__reactContainer$"+di,Pu="__reactEvents$"+di,s0="__reactListeners$"+di,l0="__reactHandles$"+di,Wh="__reactResources$"+di,Or="__reactMarker$"+di;function qu(t){delete t[ft],delete t[Rt],delete t[Pu],delete t[s0],delete t[l0]}function Aa(t){var n=t[ft];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Sa]||r[ft]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=oy(t);t!==null;){if(r=t[ft])return r;t=oy(t)}return n}t=r,r=t.parentNode}return null}function Ea(t){if(t=t[ft]||t[Sa]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Vr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Na(t){var n=t[Wh];return n||(n=t[Wh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function lt(t){t[Or]=!0}var Kh=new Set,Xh={};function Hi(t,n){Ta(t,n),Ta(t+"Capture",n)}function Ta(t,n){for(Xh[t]=n,t=0;t<n.length;t++)Kh.add(n[t])}var u0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jh={},kh={};function o0(t){return ku.call(kh,t)?!0:ku.call(Jh,t)?!1:u0.test(t)?kh[t]=!0:(Jh[t]=!0,!1)}function nl(t,n,r){if(o0(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function il(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Gn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fh(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function c0(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var o=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return o.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function eo(t){if(!t._valueTracker){var n=Fh(t)?"checked":"value";t._valueTracker=c0(t,n,""+t[n])}}function jh(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Fh(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function al(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var f0=/[\n"\\]/g;function $t(t){return t.replace(f0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function to(t,n,r,l,o,f,g,p){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Qt(n)):t.value!==""+Qt(n)&&(t.value=""+Qt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?no(t,g,Qt(n)):r!=null?no(t,g,Qt(r)):l!=null&&t.removeAttribute("value"),o==null&&f!=null&&(t.defaultChecked=!!f),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.name=""+Qt(p):t.removeAttribute("name")}function Hh(t,n,r,l,o,f,g,p){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){eo(t);return}r=r!=null?""+Qt(r):"",n=n!=null?""+Qt(n):r,p||n===t.value||(t.value=n),t.defaultValue=n}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=p?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),eo(t)}function no(t,n,r){n==="number"&&al(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ra(t,n,r,l){if(t=t.options,n){n={};for(var o=0;o<r.length;o++)n["$"+r[o]]=!0;for(r=0;r<t.length;r++)o=n.hasOwnProperty("$"+t[r].value),t[r].selected!==o&&(t[r].selected=o),o&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Qt(r),n=null,o=0;o<t.length;o++){if(t[o].value===r){t[o].selected=!0,l&&(t[o].defaultSelected=!0);return}n!==null||t[o].disabled||(n=t[o])}n!==null&&(n.selected=!0)}}function Qh(t,n,r){if(n!=null&&(n=""+Qt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Qt(r):""}function $h(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(mn(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Qt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),eo(t)}function Ia(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var h0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ph(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||h0.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function qh(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var o in n)l=n[o],n.hasOwnProperty(o)&&r[o]!==l&&Ph(t,o,l)}else for(var f in n)n.hasOwnProperty(f)&&Ph(t,f,n[f])}function io(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),g0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rl(t){return g0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function _n(){}var ao=null;function ro(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ca=null,wa=null;function ed(t){var n=Ea(t);if(n&&(t=n.stateNode)){var r=t[Rt]||null;e:switch(t=n.stateNode,n.type){case"input":if(to(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+$t(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var o=l[Rt]||null;if(!o)throw Error(s(90));to(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&jh(l)}break e;case"textarea":Qh(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ra(t,!!r.multiple,n,!1)}}}var so=!1;function td(t,n,r){if(so)return t(n,r);so=!0;try{var l=t(n);return l}finally{if(so=!1,(Ca!==null||wa!==null)&&(kl(),Ca&&(n=Ca,t=wa,wa=Ca=null,ed(n),t)))for(n=0;n<t.length;n++)ed(t[n])}}function xr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Rt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lo=!1;if(Wn)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){lo=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{lo=!1}var gi=null,uo=null,sl=null;function nd(){if(sl)return sl;var t,n=uo,r=n.length,l,o="value"in gi?gi.value:gi.textContent,f=o.length;for(t=0;t<r&&n[t]===o[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===o[f-l];l++);return sl=o.slice(t,1<l?1-l:void 0)}function ll(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ul(){return!0}function id(){return!1}function It(t){function n(r,l,o,f,g){this._reactName=r,this._targetInst=o,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var p in t)t.hasOwnProperty(p)&&(r=t[p],this[p]=r?r(f):f[p]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ul:id,this.isPropagationStopped=id,this}return N(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),n}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=It(Qi),Br=N({},Qi,{view:0,detail:0}),m0=It(Br),oo,co,Lr,cl=N({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ho,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lr&&(Lr&&t.type==="mousemove"?(oo=t.screenX-Lr.screenX,co=t.screenY-Lr.screenY):co=oo=0,Lr=t),oo)},movementY:function(t){return"movementY"in t?t.movementY:co}}),ad=It(cl),y0=N({},cl,{dataTransfer:0}),p0=It(y0),b0=N({},Br,{relatedTarget:0}),fo=It(b0),v0=N({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),S0=It(v0),A0=N({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),E0=It(A0),N0=N({},Qi,{data:0}),rd=It(N0),T0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C0(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=I0[t])?!!n[t]:!1}function ho(){return C0}var w0=N({},Br,{key:function(t){if(t.key){var n=T0[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?R0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ho,charCode:function(t){return t.type==="keypress"?ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),D0=It(w0),O0=N({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sd=It(O0),V0=N({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ho}),x0=It(V0),U0=N({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),B0=It(U0),L0=N({},cl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),M0=It(L0),Z0=N({},Qi,{newState:0,oldState:0}),z0=It(Z0),Y0=[9,13,27,32],go=Wn&&"CompositionEvent"in window,Mr=null;Wn&&"documentMode"in document&&(Mr=document.documentMode);var G0=Wn&&"TextEvent"in window&&!Mr,ld=Wn&&(!go||Mr&&8<Mr&&11>=Mr),ud=" ",od=!1;function cd(t,n){switch(t){case"keyup":return Y0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function _0(t,n){switch(t){case"compositionend":return fd(n);case"keypress":return n.which!==32?null:(od=!0,ud);case"textInput":return t=n.data,t===ud&&od?null:t;default:return null}}function W0(t,n){if(Da)return t==="compositionend"||!go&&cd(t,n)?(t=nd(),sl=uo=gi=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ld&&n.locale!=="ko"?null:n.data;default:return null}}var K0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!K0[t.type]:n==="textarea"}function dd(t,n,r,l){Ca?wa?wa.push(l):wa=[l]:Ca=l,n=ql(n,"onChange"),0<n.length&&(r=new ol("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Zr=null,zr=null;function X0(t){Hm(t,0)}function fl(t){var n=Vr(t);if(jh(n))return t}function gd(t,n){if(t==="change")return n}var md=!1;if(Wn){var mo;if(Wn){var yo="oninput"in document;if(!yo){var yd=document.createElement("div");yd.setAttribute("oninput","return;"),yo=typeof yd.oninput=="function"}mo=yo}else mo=!1;md=mo&&(!document.documentMode||9<document.documentMode)}function pd(){Zr&&(Zr.detachEvent("onpropertychange",bd),zr=Zr=null)}function bd(t){if(t.propertyName==="value"&&fl(zr)){var n=[];dd(n,zr,t,ro(t)),td(X0,n)}}function J0(t,n,r){t==="focusin"?(pd(),Zr=n,zr=r,Zr.attachEvent("onpropertychange",bd)):t==="focusout"&&pd()}function k0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fl(zr)}function F0(t,n){if(t==="click")return fl(n)}function j0(t,n){if(t==="input"||t==="change")return fl(n)}function H0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Gt=typeof Object.is=="function"?Object.is:H0;function Yr(t,n){if(Gt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var o=r[l];if(!ku.call(n,o)||!Gt(t[o],n[o]))return!1}return!0}function vd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sd(t,n){var r=vd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vd(r)}}function Ad(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ad(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ed(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=al(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=al(t.document)}return n}function po(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Q0=Wn&&"documentMode"in document&&11>=document.documentMode,Oa=null,bo=null,Gr=null,vo=!1;function Nd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vo||Oa==null||Oa!==al(l)||(l=Oa,"selectionStart"in l&&po(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Gr&&Yr(Gr,l)||(Gr=l,l=ql(bo,"onSelect"),0<l.length&&(n=new ol("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Oa)))}function $i(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Va={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},So={},Td={};Wn&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Pi(t){if(So[t])return So[t];if(!Va[t])return t;var n=Va[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Td)return So[t]=n[r];return t}var Rd=Pi("animationend"),Id=Pi("animationiteration"),Cd=Pi("animationstart"),$0=Pi("transitionrun"),P0=Pi("transitionstart"),q0=Pi("transitioncancel"),wd=Pi("transitionend"),Dd=new Map,Ao="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ao.push("scrollEnd");function yn(t,n){Dd.set(t,n),Hi(n,[t])}var hl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pt=[],xa=0,Eo=0;function dl(){for(var t=xa,n=Eo=xa=0;n<t;){var r=Pt[n];Pt[n++]=null;var l=Pt[n];Pt[n++]=null;var o=Pt[n];Pt[n++]=null;var f=Pt[n];if(Pt[n++]=null,l!==null&&o!==null){var g=l.pending;g===null?o.next=o:(o.next=g.next,g.next=o),l.pending=o}f!==0&&Od(r,o,f)}}function gl(t,n,r,l){Pt[xa++]=t,Pt[xa++]=n,Pt[xa++]=r,Pt[xa++]=l,Eo|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function No(t,n,r,l){return gl(t,n,r,l),ml(t)}function qi(t,n){return gl(t,null,null,n),ml(t)}function Od(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var o=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(o=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,o&&n!==null&&(o=31-Yt(r),t=f.hiddenUpdates,l=t[o],l===null?t[o]=[n]:l.push(n),n.lane=r|536870912),f):null}function ml(t){if(50<us)throw us=0,xc=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ua={};function eS(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(t,n,r,l){return new eS(t,n,r,l)}function To(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kn(t,n){var r=t.alternate;return r===null?(r=_t(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Vd(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function yl(t,n,r,l,o,f){var g=0;if(l=t,typeof t=="function")To(t)&&(g=1);else if(typeof t=="string")g=rA(t,r,k.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Et:return t=_t(31,r,n,o),t.elementType=Et,t.lanes=f,t;case Y:return ea(r.children,o,f,n);case F:g=8,o|=24;break;case q:return t=_t(12,r,n,o|2),t.elementType=q,t.lanes=f,t;case ie:return t=_t(13,r,n,o),t.elementType=ie,t.lanes=f,t;case Ae:return t=_t(19,r,n,o),t.elementType=Ae,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:g=10;break e;case ye:g=9;break e;case Ee:g=11;break e;case J:g=14;break e;case ve:g=16,l=null;break e}g=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=_t(g,r,n,o),n.elementType=t,n.type=l,n.lanes=f,n}function ea(t,n,r,l){return t=_t(7,t,l,n),t.lanes=r,t}function Ro(t,n,r){return t=_t(6,t,null,n),t.lanes=r,t}function xd(t){var n=_t(18,null,null,0);return n.stateNode=t,n}function Io(t,n,r){return n=_t(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ud=new WeakMap;function qt(t,n){if(typeof t=="object"&&t!==null){var r=Ud.get(t);return r!==void 0?r:(n={value:t,source:n,stack:xh(n)},Ud.set(t,n),n)}return{value:t,source:n,stack:xh(n)}}var Ba=[],La=0,pl=null,_r=0,en=[],tn=0,mi=null,wn=1,Dn="";function Xn(t,n){Ba[La++]=_r,Ba[La++]=pl,pl=t,_r=n}function Bd(t,n,r){en[tn++]=wn,en[tn++]=Dn,en[tn++]=mi,mi=t;var l=wn;t=Dn;var o=32-Yt(l)-1;l&=~(1<<o),r+=1;var f=32-Yt(n)+o;if(30<f){var g=o-o%5;f=(l&(1<<g)-1).toString(32),l>>=g,o-=g,wn=1<<32-Yt(n)+o|r<<o|l,Dn=f+t}else wn=1<<f|r<<o|l,Dn=t}function Co(t){t.return!==null&&(Xn(t,1),Bd(t,1,0))}function wo(t){for(;t===pl;)pl=Ba[--La],Ba[La]=null,_r=Ba[--La],Ba[La]=null;for(;t===mi;)mi=en[--tn],en[tn]=null,Dn=en[--tn],en[tn]=null,wn=en[--tn],en[tn]=null}function Ld(t,n){en[tn++]=wn,en[tn++]=Dn,en[tn++]=mi,wn=n.id,Dn=n.overflow,mi=t}var ht=null,Ge=null,Se=!1,yi=null,nn=!1,Do=Error(s(519));function pi(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wr(qt(n,t)),Do}function Md(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ft]=t,n[Rt]=l,r){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(r=0;r<cs.length;r++)ge(cs[r],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":ge("invalid",n),Hh(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ge("invalid",n);break;case"textarea":ge("invalid",n),$h(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||qm(n.textContent,r)?(l.popover!=null&&(ge("beforetoggle",n),ge("toggle",n)),l.onScroll!=null&&ge("scroll",n),l.onScrollEnd!=null&&ge("scrollend",n),l.onClick!=null&&(n.onclick=_n),n=!0):n=!1,n||pi(t,!0)}function Zd(t){for(ht=t.return;ht;)switch(ht.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:ht=ht.return}}function Ma(t){if(t!==ht)return!1;if(!Se)return Zd(t),Se=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Fc(t.type,t.memoizedProps)),r=!r),r&&Ge&&pi(t),Zd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Ge=uy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Ge=uy(t)}else n===27?(n=Ge,Vi(t.type)?(t=Pc,Pc=null,Ge=t):Ge=n):Ge=ht?rn(t.stateNode.nextSibling):null;return!0}function ta(){Ge=ht=null,Se=!1}function Oo(){var t=yi;return t!==null&&(Ot===null?Ot=t:Ot.push.apply(Ot,t),yi=null),t}function Wr(t){yi===null?yi=[t]:yi.push(t)}var Vo=A(null),na=null,Jn=null;function bi(t,n,r){K(Vo,n._currentValue),n._currentValue=r}function kn(t){t._currentValue=Vo.current,z(Vo)}function xo(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Uo(t,n,r,l){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var f=o.dependencies;if(f!==null){var g=o.child;f=f.firstContext;e:for(;f!==null;){var p=f;f=o;for(var b=0;b<n.length;b++)if(p.context===n[b]){f.lanes|=r,p=f.alternate,p!==null&&(p.lanes|=r),xo(f.return,r,t),l||(g=null);break e}f=p.next}}else if(o.tag===18){if(g=o.return,g===null)throw Error(s(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),xo(g,r,t),g=null}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===t){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}}function Za(t,n,r,l){t=null;for(var o=n,f=!1;o!==null;){if(!f){if((o.flags&524288)!==0)f=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var g=o.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var p=o.type;Gt(o.pendingProps.value,g.value)||(t!==null?t.push(p):t=[p])}}else if(o===we.current){if(g=o.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(ms):t=[ms])}o=o.return}t!==null&&Uo(n,t,r,l),n.flags|=262144}function bl(t){for(t=t.firstContext;t!==null;){if(!Gt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ia(t){na=t,Jn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function dt(t){return zd(na,t)}function vl(t,n){return na===null&&ia(t),zd(t,n)}function zd(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Jn===null){if(t===null)throw Error(s(308));Jn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Jn=Jn.next=n;return r}var tS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},nS=i.unstable_scheduleCallback,iS=i.unstable_NormalPriority,tt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bo(){return{controller:new tS,data:new Map,refCount:0}}function Kr(t){t.refCount--,t.refCount===0&&nS(iS,function(){t.controller.abort()})}var Xr=null,Lo=0,za=0,Ya=null;function aS(t,n){if(Xr===null){var r=Xr=[];Lo=0,za=zc(),Ya={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Lo++,n.then(Yd,Yd),n}function Yd(){if(--Lo===0&&Xr!==null){Ya!==null&&(Ya.status="fulfilled");var t=Xr;Xr=null,za=0,Ya=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function rS(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(o){r.push(o)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var o=0;o<r.length;o++)(0,r[o])(n)},function(o){for(l.status="rejected",l.reason=o,o=0;o<r.length;o++)(0,r[o])(void 0)}),l}var Gd=B.S;B.S=function(t,n){Nm=Zt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&aS(t,n),Gd!==null&&Gd(t,n)};var aa=A(null);function Mo(){var t=aa.current;return t!==null?t:ze.pooledCache}function Sl(t,n){n===null?K(aa,aa.current):K(aa,n.pool)}function _d(){var t=Mo();return t===null?null:{parent:tt._currentValue,pool:t}}var Ga=Error(s(460)),Zo=Error(s(474)),Al=Error(s(542)),El={then:function(){}};function Wd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Kd(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(_n,_n),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jd(t),t;default:if(typeof n.status=="string")n.then(_n,_n);else{if(t=ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var o=n;o.status="fulfilled",o.value=l}},function(l){if(n.status==="pending"){var o=n;o.status="rejected",o.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jd(t),t}throw sa=n,Ga}}function ra(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(sa=r,Ga):r}}var sa=null;function Xd(){if(sa===null)throw Error(s(459));var t=sa;return sa=null,t}function Jd(t){if(t===Ga||t===Al)throw Error(s(483))}var _a=null,Jr=0;function Nl(t){var n=Jr;return Jr+=1,_a===null&&(_a=[]),Kd(_a,t,n)}function kr(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Tl(t,n){throw n.$$typeof===V?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function kd(t){function n(R,S){if(t){var w=R.deletions;w===null?(R.deletions=[S],R.flags|=16):w.push(S)}}function r(R,S){if(!t)return null;for(;S!==null;)n(R,S),S=S.sibling;return null}function l(R){for(var S=new Map;R!==null;)R.key!==null?S.set(R.key,R):S.set(R.index,R),R=R.sibling;return S}function o(R,S){return R=Kn(R,S),R.index=0,R.sibling=null,R}function f(R,S,w){return R.index=w,t?(w=R.alternate,w!==null?(w=w.index,w<S?(R.flags|=67108866,S):w):(R.flags|=67108866,S)):(R.flags|=1048576,S)}function g(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function p(R,S,w,M){return S===null||S.tag!==6?(S=Ro(w,R.mode,M),S.return=R,S):(S=o(S,w),S.return=R,S)}function b(R,S,w,M){var $=w.type;return $===Y?U(R,S,w.props.children,M,w.key):S!==null&&(S.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===ve&&ra($)===S.type)?(S=o(S,w.props),kr(S,w),S.return=R,S):(S=yl(w.type,w.key,w.props,null,R.mode,M),kr(S,w),S.return=R,S)}function D(R,S,w,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=Io(w,R.mode,M),S.return=R,S):(S=o(S,w.children||[]),S.return=R,S)}function U(R,S,w,M,$){return S===null||S.tag!==7?(S=ea(w,R.mode,M,$),S.return=R,S):(S=o(S,w),S.return=R,S)}function Z(R,S,w){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Ro(""+S,R.mode,w),S.return=R,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case C:return w=yl(S.type,S.key,S.props,null,R.mode,w),kr(w,S),w.return=R,w;case L:return S=Io(S,R.mode,w),S.return=R,S;case ve:return S=ra(S),Z(R,S,w)}if(mn(S)||rt(S))return S=ea(S,R.mode,w,null),S.return=R,S;if(typeof S.then=="function")return Z(R,Nl(S),w);if(S.$$typeof===ne)return Z(R,vl(R,S),w);Tl(R,S)}return null}function O(R,S,w,M){var $=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return $!==null?null:p(R,S,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case C:return w.key===$?b(R,S,w,M):null;case L:return w.key===$?D(R,S,w,M):null;case ve:return w=ra(w),O(R,S,w,M)}if(mn(w)||rt(w))return $!==null?null:U(R,S,w,M,null);if(typeof w.then=="function")return O(R,S,Nl(w),M);if(w.$$typeof===ne)return O(R,S,vl(R,w),M);Tl(R,w)}return null}function x(R,S,w,M,$){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return R=R.get(w)||null,p(S,R,""+M,$);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case C:return R=R.get(M.key===null?w:M.key)||null,b(S,R,M,$);case L:return R=R.get(M.key===null?w:M.key)||null,D(S,R,M,$);case ve:return M=ra(M),x(R,S,w,M,$)}if(mn(M)||rt(M))return R=R.get(w)||null,U(S,R,M,$,null);if(typeof M.then=="function")return x(R,S,w,Nl(M),$);if(M.$$typeof===ne)return x(R,S,w,vl(S,M),$);Tl(S,M)}return null}function X(R,S,w,M){for(var $=null,Te=null,j=S,ue=S=0,be=null;j!==null&&ue<w.length;ue++){j.index>ue?(be=j,j=null):be=j.sibling;var Re=O(R,j,w[ue],M);if(Re===null){j===null&&(j=be);break}t&&j&&Re.alternate===null&&n(R,j),S=f(Re,S,ue),Te===null?$=Re:Te.sibling=Re,Te=Re,j=be}if(ue===w.length)return r(R,j),Se&&Xn(R,ue),$;if(j===null){for(;ue<w.length;ue++)j=Z(R,w[ue],M),j!==null&&(S=f(j,S,ue),Te===null?$=j:Te.sibling=j,Te=j);return Se&&Xn(R,ue),$}for(j=l(j);ue<w.length;ue++)be=x(j,R,ue,w[ue],M),be!==null&&(t&&be.alternate!==null&&j.delete(be.key===null?ue:be.key),S=f(be,S,ue),Te===null?$=be:Te.sibling=be,Te=be);return t&&j.forEach(function(Mi){return n(R,Mi)}),Se&&Xn(R,ue),$}function ee(R,S,w,M){if(w==null)throw Error(s(151));for(var $=null,Te=null,j=S,ue=S=0,be=null,Re=w.next();j!==null&&!Re.done;ue++,Re=w.next()){j.index>ue?(be=j,j=null):be=j.sibling;var Mi=O(R,j,Re.value,M);if(Mi===null){j===null&&(j=be);break}t&&j&&Mi.alternate===null&&n(R,j),S=f(Mi,S,ue),Te===null?$=Mi:Te.sibling=Mi,Te=Mi,j=be}if(Re.done)return r(R,j),Se&&Xn(R,ue),$;if(j===null){for(;!Re.done;ue++,Re=w.next())Re=Z(R,Re.value,M),Re!==null&&(S=f(Re,S,ue),Te===null?$=Re:Te.sibling=Re,Te=Re);return Se&&Xn(R,ue),$}for(j=l(j);!Re.done;ue++,Re=w.next())Re=x(j,R,ue,Re.value,M),Re!==null&&(t&&Re.alternate!==null&&j.delete(Re.key===null?ue:Re.key),S=f(Re,S,ue),Te===null?$=Re:Te.sibling=Re,Te=Re);return t&&j.forEach(function(yA){return n(R,yA)}),Se&&Xn(R,ue),$}function Me(R,S,w,M){if(typeof w=="object"&&w!==null&&w.type===Y&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case C:e:{for(var $=w.key;S!==null;){if(S.key===$){if($=w.type,$===Y){if(S.tag===7){r(R,S.sibling),M=o(S,w.props.children),M.return=R,R=M;break e}}else if(S.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===ve&&ra($)===S.type){r(R,S.sibling),M=o(S,w.props),kr(M,w),M.return=R,R=M;break e}r(R,S);break}else n(R,S);S=S.sibling}w.type===Y?(M=ea(w.props.children,R.mode,M,w.key),M.return=R,R=M):(M=yl(w.type,w.key,w.props,null,R.mode,M),kr(M,w),M.return=R,R=M)}return g(R);case L:e:{for($=w.key;S!==null;){if(S.key===$)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){r(R,S.sibling),M=o(S,w.children||[]),M.return=R,R=M;break e}else{r(R,S);break}else n(R,S);S=S.sibling}M=Io(w,R.mode,M),M.return=R,R=M}return g(R);case ve:return w=ra(w),Me(R,S,w,M)}if(mn(w))return X(R,S,w,M);if(rt(w)){if($=rt(w),typeof $!="function")throw Error(s(150));return w=$.call(w),ee(R,S,w,M)}if(typeof w.then=="function")return Me(R,S,Nl(w),M);if(w.$$typeof===ne)return Me(R,S,vl(R,w),M);Tl(R,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,S!==null&&S.tag===6?(r(R,S.sibling),M=o(S,w),M.return=R,R=M):(r(R,S),M=Ro(w,R.mode,M),M.return=R,R=M),g(R)):r(R,S)}return function(R,S,w,M){try{Jr=0;var $=Me(R,S,w,M);return _a=null,$}catch(j){if(j===Ga||j===Al)throw j;var Te=_t(29,j,null,R.mode);return Te.lanes=M,Te.return=R,Te}finally{}}}var la=kd(!0),Fd=kd(!1),vi=!1;function zo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yo(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Si(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ai(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ie&2)!==0){var o=l.pending;return o===null?n.next=n:(n.next=o.next,o.next=n),l.pending=n,n=ml(t),Od(t,null,r),n}return gl(t,l,n,r),ml(t)}function Fr(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,zh(t,r)}}function Go(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var o=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?o=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?o=f=n:f=f.next=n}else o=f=n;r={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var _o=!1;function jr(){if(_o){var t=Ya;if(t!==null)throw t}}function Hr(t,n,r,l){_o=!1;var o=t.updateQueue;vi=!1;var f=o.firstBaseUpdate,g=o.lastBaseUpdate,p=o.shared.pending;if(p!==null){o.shared.pending=null;var b=p,D=b.next;b.next=null,g===null?f=D:g.next=D,g=b;var U=t.alternate;U!==null&&(U=U.updateQueue,p=U.lastBaseUpdate,p!==g&&(p===null?U.firstBaseUpdate=D:p.next=D,U.lastBaseUpdate=b))}if(f!==null){var Z=o.baseState;g=0,U=D=b=null,p=f;do{var O=p.lane&-536870913,x=O!==p.lane;if(x?(pe&O)===O:(l&O)===O){O!==0&&O===za&&(_o=!0),U!==null&&(U=U.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var X=t,ee=p;O=n;var Me=r;switch(ee.tag){case 1:if(X=ee.payload,typeof X=="function"){Z=X.call(Me,Z,O);break e}Z=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=ee.payload,O=typeof X=="function"?X.call(Me,Z,O):X,O==null)break e;Z=N({},Z,O);break e;case 2:vi=!0}}O=p.callback,O!==null&&(t.flags|=64,x&&(t.flags|=8192),x=o.callbacks,x===null?o.callbacks=[O]:x.push(O))}else x={lane:O,tag:p.tag,payload:p.payload,callback:p.callback,next:null},U===null?(D=U=x,b=Z):U=U.next=x,g|=O;if(p=p.next,p===null){if(p=o.shared.pending,p===null)break;x=p,p=x.next,x.next=null,o.lastBaseUpdate=x,o.shared.pending=null}}while(!0);U===null&&(b=Z),o.baseState=b,o.firstBaseUpdate=D,o.lastBaseUpdate=U,f===null&&(o.shared.lanes=0),Ii|=g,t.lanes=g,t.memoizedState=Z}}function jd(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Hd(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)jd(r[t],n)}var Wa=A(null),Rl=A(0);function Qd(t,n){t=ti,K(Rl,t),K(Wa,n),ti=t|n.baseLanes}function Wo(){K(Rl,ti),K(Wa,Wa.current)}function Ko(){ti=Rl.current,z(Wa),z(Rl)}var Wt=A(null),an=null;function Ei(t){var n=t.alternate;K($e,$e.current&1),K(Wt,t),an===null&&(n===null||Wa.current!==null||n.memoizedState!==null)&&(an=t)}function Xo(t){K($e,$e.current),K(Wt,t),an===null&&(an=t)}function $d(t){t.tag===22?(K($e,$e.current),K(Wt,t),an===null&&(an=t)):Ni()}function Ni(){K($e,$e.current),K(Wt,Wt.current)}function Kt(t){z(Wt),an===t&&(an=null),z($e)}var $e=A(0);function Il(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Qc(r)||$c(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Fn=0,le=null,Be=null,nt=null,Cl=!1,Ka=!1,ua=!1,wl=0,Qr=0,Xa=null,sS=0;function je(){throw Error(s(321))}function Jo(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Gt(t[r],n[r]))return!1;return!0}function ko(t,n,r,l,o,f){return Fn=f,le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=t===null||t.memoizedState===null?Bg:lc,ua=!1,f=r(l,o),ua=!1,Ka&&(f=qd(n,r,l,o)),Pd(t),f}function Pd(t){B.H=qr;var n=Be!==null&&Be.next!==null;if(Fn=0,nt=Be=le=null,Cl=!1,Qr=0,Xa=null,n)throw Error(s(300));t===null||it||(t=t.dependencies,t!==null&&bl(t)&&(it=!0))}function qd(t,n,r,l){le=t;var o=0;do{if(Ka&&(Xa=null),Qr=0,Ka=!1,25<=o)throw Error(s(301));if(o+=1,nt=Be=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=Lg,f=n(r,l)}while(Ka);return f}function lS(){var t=B.H,n=t.useState()[0];return n=typeof n.then=="function"?$r(n):n,t=t.useState()[0],(Be!==null?Be.memoizedState:null)!==t&&(le.flags|=1024),n}function Fo(){var t=wl!==0;return wl=0,t}function jo(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ho(t){if(Cl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Cl=!1}Fn=0,nt=Be=le=null,Ka=!1,Qr=wl=0,Xa=null}function Tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?le.memoizedState=nt=t:nt=nt.next=t,nt}function Pe(){if(Be===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var n=nt===null?le.memoizedState:nt.next;if(n!==null)nt=n,Be=t;else{if(t===null)throw le.alternate===null?Error(s(467)):Error(s(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},nt===null?le.memoizedState=nt=t:nt=nt.next=t}return nt}function Dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $r(t){var n=Qr;return Qr+=1,Xa===null&&(Xa=[]),t=Kd(Xa,t,n),n=le,(nt===null?n.memoizedState:nt.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?Bg:lc),t}function Ol(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $r(t);if(t.$$typeof===ne)return dt(t)}throw Error(s(438,String(t)))}function Qo(t){var n=null,r=le.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(o){return o.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Dl(),le.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=gn;return n.index++,r}function jn(t,n){return typeof n=="function"?n(t):n}function Vl(t){var n=Pe();return $o(n,Be,t)}function $o(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var o=t.baseQueue,f=l.pending;if(f!==null){if(o!==null){var g=o.next;o.next=f.next,f.next=g}n.baseQueue=o=f,l.pending=null}if(f=t.baseState,o===null)t.memoizedState=f;else{n=o.next;var p=g=null,b=null,D=n,U=!1;do{var Z=D.lane&-536870913;if(Z!==D.lane?(pe&Z)===Z:(Fn&Z)===Z){var O=D.revertLane;if(O===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),Z===za&&(U=!0);else if((Fn&O)===O){D=D.next,O===za&&(U=!0);continue}else Z={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},b===null?(p=b=Z,g=f):b=b.next=Z,le.lanes|=O,Ii|=O;Z=D.action,ua&&r(f,Z),f=D.hasEagerState?D.eagerState:r(f,Z)}else O={lane:Z,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},b===null?(p=b=O,g=f):b=b.next=O,le.lanes|=Z,Ii|=Z;D=D.next}while(D!==null&&D!==n);if(b===null?g=f:b.next=p,!Gt(f,t.memoizedState)&&(it=!0,U&&(r=Ya,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=b,l.lastRenderedState=f}return o===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Po(t){var n=Pe(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,o=r.pending,f=n.memoizedState;if(o!==null){r.pending=null;var g=o=o.next;do f=t(f,g.action),g=g.next;while(g!==o);Gt(f,n.memoizedState)||(it=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function eg(t,n,r){var l=le,o=Pe(),f=Se;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var g=!Gt((Be||o).memoizedState,r);if(g&&(o.memoizedState=r,it=!0),o=o.queue,tc(ig.bind(null,l,o,t),[t]),o.getSnapshot!==n||g||nt!==null&&nt.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},ng.bind(null,l,o,r,n),null),ze===null)throw Error(s(349));f||(Fn&127)!==0||tg(l,n,r)}return r}function tg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=le.updateQueue,n===null?(n=Dl(),le.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ng(t,n,r,l){n.value=r,n.getSnapshot=l,ag(n)&&rg(t)}function ig(t,n,r){return r(function(){ag(n)&&rg(t)})}function ag(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Gt(t,r)}catch{return!0}}function rg(t){var n=qi(t,2);n!==null&&Vt(n,t,2)}function qo(t){var n=Tt();if(typeof t=="function"){var r=t;if(t=r(),ua){hi(!0);try{r()}finally{hi(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:t},n}function sg(t,n,r,l){return t.baseState=r,$o(t,Be,typeof l=="function"?l:jn)}function uS(t,n,r,l,o){if(Bl(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};B.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,lg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function lg(t,n){var r=n.action,l=n.payload,o=t.state;if(n.isTransition){var f=B.T,g={};B.T=g;try{var p=r(o,l),b=B.S;b!==null&&b(g,p),ug(t,n,p)}catch(D){ec(t,n,D)}finally{f!==null&&g.types!==null&&(f.types=g.types),B.T=f}}else try{f=r(o,l),ug(t,n,f)}catch(D){ec(t,n,D)}}function ug(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){og(t,n,l)},function(l){return ec(t,n,l)}):og(t,n,r)}function og(t,n,r){n.status="fulfilled",n.value=r,cg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,lg(t,r)))}function ec(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,cg(n),n=n.next;while(n!==l)}t.action=null}function cg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function fg(t,n){return n}function hg(t,n){if(Se){var r=ze.formState;if(r!==null){e:{var l=le;if(Se){if(Ge){t:{for(var o=Ge,f=nn;o.nodeType!==8;){if(!f){o=null;break t}if(o=rn(o.nextSibling),o===null){o=null;break t}}f=o.data,o=f==="F!"||f==="F"?o:null}if(o){Ge=rn(o.nextSibling),l=o.data==="F!";break e}}pi(l)}l=!1}l&&(n=r[0])}}return r=Tt(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fg,lastRenderedState:n},r.queue=l,r=Vg.bind(null,le,l),l.dispatch=r,l=qo(!1),f=sc.bind(null,le,!1,l.queue),l=Tt(),o={state:n,dispatch:null,action:t,pending:null},l.queue=o,r=uS.bind(null,le,o,f,r),o.dispatch=r,l.memoizedState=t,[n,r,!1]}function dg(t){var n=Pe();return gg(n,Be,t)}function gg(t,n,r){if(n=$o(t,n,fg)[0],t=Vl(jn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=$r(n)}catch(g){throw g===Ga?Al:g}else l=n;n=Pe();var o=n.queue,f=o.dispatch;return r!==n.memoizedState&&(le.flags|=2048,Ja(9,{destroy:void 0},oS.bind(null,o,r),null)),[l,f,t]}function oS(t,n){t.action=n}function mg(t){var n=Pe(),r=Be;if(r!==null)return gg(n,r,t);Pe(),n=n.memoizedState,r=Pe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ja(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=le.updateQueue,n===null&&(n=Dl(),le.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function yg(){return Pe().memoizedState}function xl(t,n,r,l){var o=Tt();le.flags|=t,o.memoizedState=Ja(1|n,{destroy:void 0},r,l===void 0?null:l)}function Ul(t,n,r,l){var o=Pe();l=l===void 0?null:l;var f=o.memoizedState.inst;Be!==null&&l!==null&&Jo(l,Be.memoizedState.deps)?o.memoizedState=Ja(n,f,r,l):(le.flags|=t,o.memoizedState=Ja(1|n,f,r,l))}function pg(t,n){xl(8390656,8,t,n)}function tc(t,n){Ul(2048,8,t,n)}function cS(t){le.flags|=4;var n=le.updateQueue;if(n===null)n=Dl(),le.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function bg(t){var n=Pe().memoizedState;return cS({ref:n,nextImpl:t}),function(){if((Ie&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function vg(t,n){return Ul(4,2,t,n)}function Sg(t,n){return Ul(4,4,t,n)}function Ag(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Eg(t,n,r){r=r!=null?r.concat([t]):null,Ul(4,4,Ag.bind(null,n,t),r)}function nc(){}function Ng(t,n){var r=Pe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Jo(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Tg(t,n){var r=Pe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Jo(n,l[1]))return l[0];if(l=t(),ua){hi(!0);try{t()}finally{hi(!1)}}return r.memoizedState=[l,n],l}function ic(t,n,r){return r===void 0||(Fn&1073741824)!==0&&(pe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Rm(),le.lanes|=t,Ii|=t,r)}function Rg(t,n,r,l){return Gt(r,n)?r:Wa.current!==null?(t=ic(t,r,l),Gt(t,n)||(it=!0),t):(Fn&42)===0||(Fn&1073741824)!==0&&(pe&261930)===0?(it=!0,t.memoizedState=r):(t=Rm(),le.lanes|=t,Ii|=t,n)}function Ig(t,n,r,l,o){var f=W.p;W.p=f!==0&&8>f?f:8;var g=B.T,p={};B.T=p,sc(t,!1,n,r);try{var b=o(),D=B.S;if(D!==null&&D(p,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var U=rS(b,l);Pr(t,n,U,kt(t))}else Pr(t,n,l,kt(t))}catch(Z){Pr(t,n,{then:function(){},status:"rejected",reason:Z},kt())}finally{W.p=f,g!==null&&p.types!==null&&(g.types=p.types),B.T=g}}function fS(){}function ac(t,n,r,l){if(t.tag!==5)throw Error(s(476));var o=Cg(t).queue;Ig(t,o,n,te,r===null?fS:function(){return wg(t),r(l)})}function Cg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:te},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function wg(t){var n=Cg(t);n.next===null&&(n=t.alternate.memoizedState),Pr(t,n.next.queue,{},kt())}function rc(){return dt(ms)}function Dg(){return Pe().memoizedState}function Og(){return Pe().memoizedState}function hS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=kt();t=Si(r);var l=Ai(n,t,r);l!==null&&(Vt(l,n,r),Fr(l,n,r)),n={cache:Bo()},t.payload=n;return}n=n.return}}function dS(t,n,r){var l=kt();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Bl(t)?xg(n,r):(r=No(t,n,r,l),r!==null&&(Vt(r,t,l),Ug(r,n,l)))}function Vg(t,n,r){var l=kt();Pr(t,n,r,l)}function Pr(t,n,r,l){var o={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bl(t))xg(n,o);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,p=f(g,r);if(o.hasEagerState=!0,o.eagerState=p,Gt(p,g))return gl(t,n,o,0),ze===null&&dl(),!1}catch{}finally{}if(r=No(t,n,o,l),r!==null)return Vt(r,t,l),Ug(r,n,l),!0}return!1}function sc(t,n,r,l){if(l={lane:2,revertLane:zc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Bl(t)){if(n)throw Error(s(479))}else n=No(t,r,l,2),n!==null&&Vt(n,t,2)}function Bl(t){var n=t.alternate;return t===le||n!==null&&n===le}function xg(t,n){Ka=Cl=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Ug(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,zh(t,r)}}var qr={readContext:dt,use:Ol,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je};qr.useEffectEvent=je;var Bg={readContext:dt,use:Ol,useCallback:function(t,n){return Tt().memoizedState=[t,n===void 0?null:n],t},useContext:dt,useEffect:pg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,xl(4194308,4,Ag.bind(null,n,t),r)},useLayoutEffect:function(t,n){return xl(4194308,4,t,n)},useInsertionEffect:function(t,n){xl(4,2,t,n)},useMemo:function(t,n){var r=Tt();n=n===void 0?null:n;var l=t();if(ua){hi(!0);try{t()}finally{hi(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Tt();if(r!==void 0){var o=r(n);if(ua){hi(!0);try{r(n)}finally{hi(!1)}}}else o=n;return l.memoizedState=l.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},l.queue=t,t=t.dispatch=dS.bind(null,le,t),[l.memoizedState,t]},useRef:function(t){var n=Tt();return t={current:t},n.memoizedState=t},useState:function(t){t=qo(t);var n=t.queue,r=Vg.bind(null,le,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:nc,useDeferredValue:function(t,n){var r=Tt();return ic(r,t,n)},useTransition:function(){var t=qo(!1);return t=Ig.bind(null,le,t.queue,!0,!1),Tt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=le,o=Tt();if(Se){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),ze===null)throw Error(s(349));(pe&127)!==0||tg(l,n,r)}o.memoizedState=r;var f={value:r,getSnapshot:n};return o.queue=f,pg(ig.bind(null,l,f,t),[t]),l.flags|=2048,Ja(9,{destroy:void 0},ng.bind(null,l,f,r,n),null),r},useId:function(){var t=Tt(),n=ze.identifierPrefix;if(Se){var r=Dn,l=wn;r=(l&~(1<<32-Yt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=wl++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=sS++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:rc,useFormState:hg,useActionState:hg,useOptimistic:function(t){var n=Tt();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=sc.bind(null,le,!0,r),r.dispatch=n,[t,n]},useMemoCache:Qo,useCacheRefresh:function(){return Tt().memoizedState=hS.bind(null,le)},useEffectEvent:function(t){var n=Tt(),r={impl:t};return n.memoizedState=r,function(){if((Ie&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},lc={readContext:dt,use:Ol,useCallback:Ng,useContext:dt,useEffect:tc,useImperativeHandle:Eg,useInsertionEffect:vg,useLayoutEffect:Sg,useMemo:Tg,useReducer:Vl,useRef:yg,useState:function(){return Vl(jn)},useDebugValue:nc,useDeferredValue:function(t,n){var r=Pe();return Rg(r,Be.memoizedState,t,n)},useTransition:function(){var t=Vl(jn)[0],n=Pe().memoizedState;return[typeof t=="boolean"?t:$r(t),n]},useSyncExternalStore:eg,useId:Dg,useHostTransitionStatus:rc,useFormState:dg,useActionState:dg,useOptimistic:function(t,n){var r=Pe();return sg(r,Be,t,n)},useMemoCache:Qo,useCacheRefresh:Og};lc.useEffectEvent=bg;var Lg={readContext:dt,use:Ol,useCallback:Ng,useContext:dt,useEffect:tc,useImperativeHandle:Eg,useInsertionEffect:vg,useLayoutEffect:Sg,useMemo:Tg,useReducer:Po,useRef:yg,useState:function(){return Po(jn)},useDebugValue:nc,useDeferredValue:function(t,n){var r=Pe();return Be===null?ic(r,t,n):Rg(r,Be.memoizedState,t,n)},useTransition:function(){var t=Po(jn)[0],n=Pe().memoizedState;return[typeof t=="boolean"?t:$r(t),n]},useSyncExternalStore:eg,useId:Dg,useHostTransitionStatus:rc,useFormState:mg,useActionState:mg,useOptimistic:function(t,n){var r=Pe();return Be!==null?sg(r,Be,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Qo,useCacheRefresh:Og};Lg.useEffectEvent=bg;function uc(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:N({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var oc={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=kt(),o=Si(l);o.payload=n,r!=null&&(o.callback=r),n=Ai(t,o,l),n!==null&&(Vt(n,t,l),Fr(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=kt(),o=Si(l);o.tag=1,o.payload=n,r!=null&&(o.callback=r),n=Ai(t,o,l),n!==null&&(Vt(n,t,l),Fr(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=kt(),l=Si(r);l.tag=2,n!=null&&(l.callback=n),n=Ai(t,l,r),n!==null&&(Vt(n,t,r),Fr(n,t,r))}};function Mg(t,n,r,l,o,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Yr(r,l)||!Yr(o,f):!0}function Zg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&oc.enqueueReplaceState(n,n.state,null)}function oa(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=N({},r));for(var o in t)r[o]===void 0&&(r[o]=t[o])}return r}function zg(t){hl(t)}function Yg(t){console.error(t)}function Gg(t){hl(t)}function Ll(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function _g(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function cc(t,n,r){return r=Si(r),r.tag=3,r.payload={element:null},r.callback=function(){Ll(t,n)},r}function Wg(t){return t=Si(t),t.tag=3,t}function Kg(t,n,r,l){var o=r.type.getDerivedStateFromError;if(typeof o=="function"){var f=l.value;t.payload=function(){return o(f)},t.callback=function(){_g(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){_g(n,r,l),typeof o!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var p=l.stack;this.componentDidCatch(l.value,{componentStack:p!==null?p:""})})}function gS(t,n,r,l,o){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Za(n,r,o,!0),r=Wt.current,r!==null){switch(r.tag){case 31:case 13:return an===null?Fl():r.alternate===null&&He===0&&(He=3),r.flags&=-257,r.flags|=65536,r.lanes=o,l===El?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Lc(t,l,o)),!1;case 22:return r.flags|=65536,l===El?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Lc(t,l,o)),!1}throw Error(s(435,r.tag))}return Lc(t,l,o),Fl(),!1}if(Se)return n=Wt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=o,l!==Do&&(t=Error(s(422),{cause:l}),Wr(qt(t,r)))):(l!==Do&&(n=Error(s(423),{cause:l}),Wr(qt(n,r))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,l=qt(l,r),o=cc(t.stateNode,l,o),Go(t,o),He!==4&&(He=2)),!1;var f=Error(s(520),{cause:l});if(f=qt(f,r),ls===null?ls=[f]:ls.push(f),He!==4&&(He=2),n===null)return!0;l=qt(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=o&-o,r.lanes|=t,t=cc(r.stateNode,l,t),Go(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ci===null||!Ci.has(f))))return r.flags|=65536,o&=-o,r.lanes|=o,o=Wg(o),Kg(o,t,r,l),Go(r,o),!1}r=r.return}while(r!==null);return!1}var fc=Error(s(461)),it=!1;function gt(t,n,r,l){n.child=t===null?Fd(n,null,r,l):la(n,t.child,r,l)}function Xg(t,n,r,l,o){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var p in l)p!=="ref"&&(g[p]=l[p])}else g=l;return ia(n),l=ko(t,n,r,g,f,o),p=Fo(),t!==null&&!it?(jo(t,n,o),Hn(t,n,o)):(Se&&p&&Co(n),n.flags|=1,gt(t,n,l,o),n.child)}function Jg(t,n,r,l,o){if(t===null){var f=r.type;return typeof f=="function"&&!To(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,kg(t,n,f,l,o)):(t=yl(r.type,null,l,n,n.mode,o),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!vc(t,o)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Yr,r(g,l)&&t.ref===n.ref)return Hn(t,n,o)}return n.flags|=1,t=Kn(f,l),t.ref=n.ref,t.return=n,n.child=t}function kg(t,n,r,l,o){if(t!==null){var f=t.memoizedProps;if(Yr(f,l)&&t.ref===n.ref)if(it=!1,n.pendingProps=l=f,vc(t,o))(t.flags&131072)!==0&&(it=!0);else return n.lanes=t.lanes,Hn(t,n,o)}return hc(t,n,r,l,o)}function Fg(t,n,r,l){var o=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;l=o&~f}else l=0,n.child=null;return jg(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Sl(n,f!==null?f.cachePool:null),f!==null?Qd(n,f):Wo(),$d(n);else return l=n.lanes=536870912,jg(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Sl(n,f.cachePool),Qd(n,f),Ni(),n.memoizedState=null):(t!==null&&Sl(n,null),Wo(),Ni());return gt(t,n,o,r),n.child}function es(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function jg(t,n,r,l,o){var f=Mo();return f=f===null?null:{parent:tt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Sl(n,null),Wo(),$d(n),t!==null&&Za(t,n,l,!0),n.childLanes=o,null}function Ml(t,n){return n=zl({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Hg(t,n,r){return la(n,t.child,null,r),t=Ml(n,n.pendingProps),t.flags|=2,Kt(n),n.memoizedState=null,t}function mS(t,n,r){var l=n.pendingProps,o=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Se){if(l.mode==="hidden")return t=Ml(n,l),n.lanes=536870912,es(null,t);if(Xo(n),(t=Ge)?(t=ly(t,nn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:mi!==null?{id:wn,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},r=xd(t),r.return=n,n.child=r,ht=n,Ge=null)):t=null,t===null)throw pi(n);return n.lanes=536870912,null}return Ml(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Xo(n),o)if(n.flags&256)n.flags&=-257,n=Hg(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(it||Za(t,n,r,!1),o=(r&t.childLanes)!==0,it||o){if(l=ze,l!==null&&(g=Yh(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,qi(t,g),Vt(l,t,g),fc;Fl(),n=Hg(t,n,r)}else t=f.treeContext,Ge=rn(g.nextSibling),ht=n,Se=!0,yi=null,nn=!1,t!==null&&Ld(n,t),n=Ml(n,l),n.flags|=4096;return n}return t=Kn(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Zl(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function hc(t,n,r,l,o){return ia(n),r=ko(t,n,r,l,void 0,o),l=Fo(),t!==null&&!it?(jo(t,n,o),Hn(t,n,o)):(Se&&l&&Co(n),n.flags|=1,gt(t,n,r,o),n.child)}function Qg(t,n,r,l,o,f){return ia(n),n.updateQueue=null,r=qd(n,l,r,o),Pd(t),l=Fo(),t!==null&&!it?(jo(t,n,f),Hn(t,n,f)):(Se&&l&&Co(n),n.flags|=1,gt(t,n,r,f),n.child)}function $g(t,n,r,l,o){if(ia(n),n.stateNode===null){var f=Ua,g=r.contextType;typeof g=="object"&&g!==null&&(f=dt(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=oc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},zo(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?dt(g):Ua,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(uc(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&oc.enqueueReplaceState(f,f.state,null),Hr(n,l,f,o),jr(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var p=n.memoizedProps,b=oa(r,p);f.props=b;var D=f.context,U=r.contextType;g=Ua,typeof U=="object"&&U!==null&&(g=dt(U));var Z=r.getDerivedStateFromProps;U=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",p=n.pendingProps!==p,U||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p||D!==g)&&Zg(n,f,l,g),vi=!1;var O=n.memoizedState;f.state=O,Hr(n,l,f,o),jr(),D=n.memoizedState,p||O!==D||vi?(typeof Z=="function"&&(uc(n,r,Z,l),D=n.memoizedState),(b=vi||Mg(n,r,b,l,O,D,g))?(U||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=D),f.props=l,f.state=D,f.context=g,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Yo(t,n),g=n.memoizedProps,U=oa(r,g),f.props=U,Z=n.pendingProps,O=f.context,D=r.contextType,b=Ua,typeof D=="object"&&D!==null&&(b=dt(D)),p=r.getDerivedStateFromProps,(D=typeof p=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Z||O!==b)&&Zg(n,f,l,b),vi=!1,O=n.memoizedState,f.state=O,Hr(n,l,f,o),jr();var x=n.memoizedState;g!==Z||O!==x||vi||t!==null&&t.dependencies!==null&&bl(t.dependencies)?(typeof p=="function"&&(uc(n,r,p,l),x=n.memoizedState),(U=vi||Mg(n,r,U,l,O,x,b)||t!==null&&t.dependencies!==null&&bl(t.dependencies))?(D||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,x,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,x,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=x),f.props=l,f.state=x,f.context=b,l=U):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=la(n,t.child,null,o),n.child=la(n,null,r,o)):gt(t,n,r,o),n.memoizedState=f.state,t=n.child):t=Hn(t,n,o),t}function Pg(t,n,r,l){return ta(),n.flags|=256,gt(t,n,r,l),n.child}var dc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gc(t){return{baseLanes:t,cachePool:_d()}}function mc(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Jt),t}function qg(t,n,r){var l=n.pendingProps,o=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:($e.current&2)!==0),g&&(o=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Se){if(o?Ei(n):Ni(),(t=Ge)?(t=ly(t,nn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:mi!==null?{id:wn,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},r=xd(t),r.return=n,n.child=r,ht=n,Ge=null)):t=null,t===null)throw pi(n);return $c(t)?n.lanes=32:n.lanes=536870912,null}var p=l.children;return l=l.fallback,o?(Ni(),o=n.mode,p=zl({mode:"hidden",children:p},o),l=ea(l,o,r,null),p.return=n,l.return=n,p.sibling=l,n.child=p,l=n.child,l.memoizedState=gc(r),l.childLanes=mc(t,g,r),n.memoizedState=dc,es(null,l)):(Ei(n),yc(n,p))}var b=t.memoizedState;if(b!==null&&(p=b.dehydrated,p!==null)){if(f)n.flags&256?(Ei(n),n.flags&=-257,n=pc(t,n,r)):n.memoizedState!==null?(Ni(),n.child=t.child,n.flags|=128,n=null):(Ni(),p=l.fallback,o=n.mode,l=zl({mode:"visible",children:l.children},o),p=ea(p,o,r,null),p.flags|=2,l.return=n,p.return=n,l.sibling=p,n.child=l,la(n,t.child,null,r),l=n.child,l.memoizedState=gc(r),l.childLanes=mc(t,g,r),n.memoizedState=dc,n=es(null,l));else if(Ei(n),$c(p)){if(g=p.nextSibling&&p.nextSibling.dataset,g)var D=g.dgst;g=D,l=Error(s(419)),l.stack="",l.digest=g,Wr({value:l,source:null,stack:null}),n=pc(t,n,r)}else if(it||Za(t,n,r,!1),g=(r&t.childLanes)!==0,it||g){if(g=ze,g!==null&&(l=Yh(g,r),l!==0&&l!==b.retryLane))throw b.retryLane=l,qi(t,l),Vt(g,t,l),fc;Qc(p)||Fl(),n=pc(t,n,r)}else Qc(p)?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,Ge=rn(p.nextSibling),ht=n,Se=!0,yi=null,nn=!1,t!==null&&Ld(n,t),n=yc(n,l.children),n.flags|=4096);return n}return o?(Ni(),p=l.fallback,o=n.mode,b=t.child,D=b.sibling,l=Kn(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,D!==null?p=Kn(D,p):(p=ea(p,o,r,null),p.flags|=2),p.return=n,l.return=n,l.sibling=p,n.child=l,es(null,l),l=n.child,p=t.child.memoizedState,p===null?p=gc(r):(o=p.cachePool,o!==null?(b=tt._currentValue,o=o.parent!==b?{parent:b,pool:b}:o):o=_d(),p={baseLanes:p.baseLanes|r,cachePool:o}),l.memoizedState=p,l.childLanes=mc(t,g,r),n.memoizedState=dc,es(t.child,l)):(Ei(n),r=t.child,t=r.sibling,r=Kn(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function yc(t,n){return n=zl({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function zl(t,n){return t=_t(22,t,null,n),t.lanes=0,t}function pc(t,n,r){return la(n,t.child,null,r),t=yc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function em(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),xo(t.return,n,r)}function bc(t,n,r,l,o,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:o,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=o,g.treeForkCount=f)}function tm(t,n,r){var l=n.pendingProps,o=l.revealOrder,f=l.tail;l=l.children;var g=$e.current,p=(g&2)!==0;if(p?(g=g&1|2,n.flags|=128):g&=1,K($e,g),gt(t,n,l,r),l=Se?_r:0,!p&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&em(t,r,n);else if(t.tag===19)em(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(o){case"forwards":for(r=n.child,o=null;r!==null;)t=r.alternate,t!==null&&Il(t)===null&&(o=r),r=r.sibling;r=o,r===null?(o=n.child,n.child=null):(o=r.sibling,r.sibling=null),bc(n,!1,o,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,o=n.child,n.child=null;o!==null;){if(t=o.alternate,t!==null&&Il(t)===null){n.child=o;break}t=o.sibling,o.sibling=r,r=o,o=t}bc(n,!0,r,null,f,l);break;case"together":bc(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Hn(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ii|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Za(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Kn(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Kn(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function vc(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&bl(t)))}function yS(t,n,r){switch(n.tag){case 3:Nt(n,n.stateNode.containerInfo),bi(n,tt,t.memoizedState.cache),ta();break;case 27:case 5:Ir(n);break;case 4:Nt(n,n.stateNode.containerInfo);break;case 10:bi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Xo(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ei(n),n.flags|=128,null):(r&n.child.childLanes)!==0?qg(t,n,r):(Ei(n),t=Hn(t,n,r),t!==null?t.sibling:null);Ei(n);break;case 19:var o=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Za(t,n,r,!1),l=(r&n.childLanes)!==0),o){if(l)return tm(t,n,r);n.flags|=128}if(o=n.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),K($e,$e.current),l)break;return null;case 22:return n.lanes=0,Fg(t,n,r,n.pendingProps);case 24:bi(n,tt,t.memoizedState.cache)}return Hn(t,n,r)}function nm(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)it=!0;else{if(!vc(t,r)&&(n.flags&128)===0)return it=!1,yS(t,n,r);it=(t.flags&131072)!==0}else it=!1,Se&&(n.flags&1048576)!==0&&Bd(n,_r,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ra(n.elementType),n.type=t,typeof t=="function")To(t)?(l=oa(t,l),n.tag=1,n=$g(null,n,t,l,r)):(n.tag=0,n=hc(null,n,t,l,r));else{if(t!=null){var o=t.$$typeof;if(o===Ee){n.tag=11,n=Xg(null,n,t,l,r);break e}else if(o===J){n.tag=14,n=Jg(null,n,t,l,r);break e}}throw n=Yn(t)||t,Error(s(306,n,""))}}return n;case 0:return hc(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,o=oa(l,n.pendingProps),$g(t,n,l,o,r);case 3:e:{if(Nt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;o=f.element,Yo(t,n),Hr(n,l,null,r);var g=n.memoizedState;if(l=g.cache,bi(n,tt,l),l!==f.cache&&Uo(n,[tt],r,!0),jr(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Pg(t,n,l,r);break e}else if(l!==o){o=qt(Error(s(424)),n),Wr(o),n=Pg(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ge=rn(t.firstChild),ht=n,Se=!0,yi=null,nn=!0,r=Fd(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ta(),l===o){n=Hn(t,n,r);break e}gt(t,n,l,r)}n=n.child}return n;case 26:return Zl(t,n),t===null?(r=dy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Se||(r=n.type,t=n.pendingProps,l=eu(he.current).createElement(r),l[ft]=n,l[Rt]=t,mt(l,r,t),lt(l),n.stateNode=l):n.memoizedState=dy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ir(n),t===null&&Se&&(l=n.stateNode=cy(n.type,n.pendingProps,he.current),ht=n,nn=!0,o=Ge,Vi(n.type)?(Pc=o,Ge=rn(l.firstChild)):Ge=o),gt(t,n,n.pendingProps.children,r),Zl(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Se&&((o=l=Ge)&&(l=kS(l,n.type,n.pendingProps,nn),l!==null?(n.stateNode=l,ht=n,Ge=rn(l.firstChild),nn=!1,o=!0):o=!1),o||pi(n)),Ir(n),o=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Fc(o,f)?l=null:g!==null&&Fc(o,g)&&(n.flags|=32),n.memoizedState!==null&&(o=ko(t,n,lS,null,null,r),ms._currentValue=o),Zl(t,n),gt(t,n,l,r),n.child;case 6:return t===null&&Se&&((t=r=Ge)&&(r=FS(r,n.pendingProps,nn),r!==null?(n.stateNode=r,ht=n,Ge=null,t=!0):t=!1),t||pi(n)),null;case 13:return qg(t,n,r);case 4:return Nt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=la(n,null,l,r):gt(t,n,l,r),n.child;case 11:return Xg(t,n,n.type,n.pendingProps,r);case 7:return gt(t,n,n.pendingProps,r),n.child;case 8:return gt(t,n,n.pendingProps.children,r),n.child;case 12:return gt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,bi(n,n.type,l.value),gt(t,n,l.children,r),n.child;case 9:return o=n.type._context,l=n.pendingProps.children,ia(n),o=dt(o),l=l(o),n.flags|=1,gt(t,n,l,r),n.child;case 14:return Jg(t,n,n.type,n.pendingProps,r);case 15:return kg(t,n,n.type,n.pendingProps,r);case 19:return tm(t,n,r);case 31:return mS(t,n,r);case 22:return Fg(t,n,r,n.pendingProps);case 24:return ia(n),l=dt(tt),t===null?(o=Mo(),o===null&&(o=ze,f=Bo(),o.pooledCache=f,f.refCount++,f!==null&&(o.pooledCacheLanes|=r),o=f),n.memoizedState={parent:l,cache:o},zo(n),bi(n,tt,o)):((t.lanes&r)!==0&&(Yo(t,n),Hr(n,null,null,r),jr()),o=t.memoizedState,f=n.memoizedState,o.parent!==l?(o={parent:l,cache:l},n.memoizedState=o,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=o),bi(n,tt,l)):(l=f.cache,bi(n,tt,l),l!==o.cache&&Uo(n,[tt],r,!0))),gt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Qn(t){t.flags|=4}function Sc(t,n,r,l,o){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(o&335544128)===o)if(t.stateNode.complete)t.flags|=8192;else if(Dm())t.flags|=8192;else throw sa=El,Zo}else t.flags&=-16777217}function im(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!by(n))if(Dm())t.flags|=8192;else throw sa=El,Zo}function Yl(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Mh():536870912,t.lanes|=n,Ha|=n)}function ts(t,n){if(!Se)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function _e(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var o=t.child;o!==null;)r|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)r|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function pS(t,n,r){var l=n.pendingProps;switch(wo(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(n),null;case 1:return _e(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),kn(tt),Qe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ma(n)?Qn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Oo())),_e(n),null;case 26:var o=n.type,f=n.memoizedState;return t===null?(Qn(n),f!==null?(_e(n),im(n,f)):(_e(n),Sc(n,o,null,l,r))):f?f!==t.memoizedState?(Qn(n),_e(n),im(n,f)):(_e(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qn(n),_e(n),Sc(n,o,t,l,r)),null;case 27:if(Qs(n),r=he.current,o=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Qn(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return _e(n),null}t=k.current,Ma(n)?Md(n):(t=cy(o,l,r),n.stateNode=t,Qn(n))}return _e(n),null;case 5:if(Qs(n),o=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Qn(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return _e(n),null}if(f=k.current,Ma(n))Md(n);else{var g=eu(he.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(o,{is:l.is}):g.createElement(o)}}f[ft]=n,f[Rt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(mt(f,o,l),o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qn(n)}}return _e(n),Sc(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Qn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=he.current,Ma(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,o=ht,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}t[ft]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||qm(t.nodeValue,r)),t||pi(n,!0)}else t=eu(t).createTextNode(l),t[ft]=n,n.stateNode=t}return _e(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ma(n),r!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ft]=n}else ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_e(n),t=!1}else r=Oo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Kt(n),n):(Kt(n),null);if((n.flags&128)!==0)throw Error(s(558))}return _e(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=Ma(n),l!==null&&l.dehydrated!==null){if(t===null){if(!o)throw Error(s(318));if(o=n.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[ft]=n}else ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_e(n),o=!1}else o=Oo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return n.flags&256?(Kt(n),n):(Kt(n),null)}return Kt(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==o&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Yl(n,n.updateQueue),_e(n),null);case 4:return Qe(),t===null&&Wc(n.stateNode.containerInfo),_e(n),null;case 10:return kn(n.type),_e(n),null;case 19:if(z($e),l=n.memoizedState,l===null)return _e(n),null;if(o=(n.flags&128)!==0,f=l.rendering,f===null)if(o)ts(l,!1);else{if(He!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Il(t),f!==null){for(n.flags|=128,ts(l,!1),t=f.updateQueue,n.updateQueue=t,Yl(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Vd(r,t),r=r.sibling;return K($e,$e.current&1|2),Se&&Xn(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Zt()>Xl&&(n.flags|=128,o=!0,ts(l,!1),n.lanes=4194304)}else{if(!o)if(t=Il(f),t!==null){if(n.flags|=128,o=!0,t=t.updateQueue,n.updateQueue=t,Yl(n,t),ts(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Se)return _e(n),null}else 2*Zt()-l.renderingStartTime>Xl&&r!==536870912&&(n.flags|=128,o=!0,ts(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Zt(),t.sibling=null,r=$e.current,K($e,o?r&1|2:r&1),Se&&Xn(n,l.treeForkCount),t):(_e(n),null);case 22:case 23:return Kt(n),Ko(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(_e(n),n.subtreeFlags&6&&(n.flags|=8192)):_e(n),r=n.updateQueue,r!==null&&Yl(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&z(aa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),kn(tt),_e(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function bS(t,n){switch(wo(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return kn(tt),Qe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Qs(n),null;case 31:if(n.memoizedState!==null){if(Kt(n),n.alternate===null)throw Error(s(340));ta()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Kt(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ta()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return z($e),null;case 4:return Qe(),null;case 10:return kn(n.type),null;case 22:case 23:return Kt(n),Ko(),t!==null&&z(aa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return kn(tt),null;case 25:return null;default:return null}}function am(t,n){switch(wo(n),n.tag){case 3:kn(tt),Qe();break;case 26:case 27:case 5:Qs(n);break;case 4:Qe();break;case 31:n.memoizedState!==null&&Kt(n);break;case 13:Kt(n);break;case 19:z($e);break;case 10:kn(n.type);break;case 22:case 23:Kt(n),Ko(),t!==null&&z(aa);break;case 24:kn(tt)}}function ns(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var o=l.next;r=o;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==o)}}catch(p){Ve(n,n.return,p)}}function Ti(t,n,r){try{var l=n.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var f=o.next;l=f;do{if((l.tag&t)===t){var g=l.inst,p=g.destroy;if(p!==void 0){g.destroy=void 0,o=n;var b=r,D=p;try{D()}catch(U){Ve(o,b,U)}}}l=l.next}while(l!==f)}}catch(U){Ve(n,n.return,U)}}function rm(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Hd(n,r)}catch(l){Ve(t,t.return,l)}}}function sm(t,n,r){r.props=oa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ve(t,n,l)}}function is(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(o){Ve(t,n,o)}}function On(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(o){Ve(t,n,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(o){Ve(t,n,o)}else r.current=null}function lm(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(o){Ve(t,t.return,o)}}function Ac(t,n,r){try{var l=t.stateNode;GS(l,t.type,r,n),l[Rt]=n}catch(o){Ve(t,t.return,o)}}function um(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vi(t.type)||t.tag===4}function Ec(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||um(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=_n));else if(l!==4&&(l===27&&Vi(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Nc(t,n,r),t=t.sibling;t!==null;)Nc(t,n,r),t=t.sibling}function Gl(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Vi(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Gl(t,n,r),t=t.sibling;t!==null;)Gl(t,n,r),t=t.sibling}function om(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,o=n.attributes;o.length;)n.removeAttributeNode(o[0]);mt(n,l,r),n[ft]=t,n[Rt]=r}catch(f){Ve(t,t.return,f)}}var $n=!1,at=!1,Tc=!1,cm=typeof WeakSet=="function"?WeakSet:Set,ut=null;function vS(t,n){if(t=t.containerInfo,Jc=lu,t=Ed(t),po(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var o=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,p=-1,b=-1,D=0,U=0,Z=t,O=null;t:for(;;){for(var x;Z!==r||o!==0&&Z.nodeType!==3||(p=g+o),Z!==f||l!==0&&Z.nodeType!==3||(b=g+l),Z.nodeType===3&&(g+=Z.nodeValue.length),(x=Z.firstChild)!==null;)O=Z,Z=x;for(;;){if(Z===t)break t;if(O===r&&++D===o&&(p=g),O===f&&++U===l&&(b=g),(x=Z.nextSibling)!==null)break;Z=O,O=Z.parentNode}Z=x}r=p===-1||b===-1?null:{start:p,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(kc={focusedElem:t,selectionRange:r},lu=!1,ut=n;ut!==null;)if(n=ut,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ut=t;else for(;ut!==null;){switch(n=ut,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)o=t[r],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,o=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var X=oa(r.type,o);t=l.getSnapshotBeforeUpdate(X,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ee){Ve(r,r.return,ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Hc(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,ut=t;break}ut=n.return}}function fm(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:qn(t,r),l&4&&ns(5,r);break;case 1:if(qn(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){Ve(r,r.return,g)}else{var o=oa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(o,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ve(r,r.return,g)}}l&64&&rm(r),l&512&&is(r,r.return);break;case 3:if(qn(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Hd(t,n)}catch(g){Ve(r,r.return,g)}}break;case 27:n===null&&l&4&&om(r);case 26:case 5:qn(t,r),n===null&&l&4&&lm(r),l&512&&is(r,r.return);break;case 12:qn(t,r);break;case 31:qn(t,r),l&4&&gm(t,r);break;case 13:qn(t,r),l&4&&mm(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=wS.bind(null,r),jS(t,r))));break;case 22:if(l=r.memoizedState!==null||$n,!l){n=n!==null&&n.memoizedState!==null||at,o=$n;var f=at;$n=l,(at=n)&&!f?ei(t,r,(r.subtreeFlags&8772)!==0):qn(t,r),$n=o,at=f}break;case 30:break;default:qn(t,r)}}function hm(t){var n=t.alternate;n!==null&&(t.alternate=null,hm(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&qu(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Xe=null,Ct=!1;function Pn(t,n,r){for(r=r.child;r!==null;)dm(t,n,r),r=r.sibling}function dm(t,n,r){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Cr,r)}catch{}switch(r.tag){case 26:at||On(r,n),Pn(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:at||On(r,n);var l=Xe,o=Ct;Vi(r.type)&&(Xe=r.stateNode,Ct=!1),Pn(t,n,r),hs(r.stateNode),Xe=l,Ct=o;break;case 5:at||On(r,n);case 6:if(l=Xe,o=Ct,Xe=null,Pn(t,n,r),Xe=l,Ct=o,Xe!==null)if(Ct)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(r.stateNode)}catch(f){Ve(r,n,f)}else try{Xe.removeChild(r.stateNode)}catch(f){Ve(r,n,f)}break;case 18:Xe!==null&&(Ct?(t=Xe,ry(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ir(t)):ry(Xe,r.stateNode));break;case 4:l=Xe,o=Ct,Xe=r.stateNode.containerInfo,Ct=!0,Pn(t,n,r),Xe=l,Ct=o;break;case 0:case 11:case 14:case 15:Ti(2,r,n),at||Ti(4,r,n),Pn(t,n,r);break;case 1:at||(On(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&sm(r,n,l)),Pn(t,n,r);break;case 21:Pn(t,n,r);break;case 22:at=(l=at)||r.memoizedState!==null,Pn(t,n,r),at=l;break;default:Pn(t,n,r)}}function gm(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ir(t)}catch(r){Ve(n,n.return,r)}}}function mm(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ir(t)}catch(r){Ve(n,n.return,r)}}function SS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new cm),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new cm),n;default:throw Error(s(435,t.tag))}}function _l(t,n){var r=SS(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var o=DS.bind(null,t,l);l.then(o,o)}})}function wt(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var o=r[l],f=t,g=n,p=g;e:for(;p!==null;){switch(p.tag){case 27:if(Vi(p.type)){Xe=p.stateNode,Ct=!1;break e}break;case 5:Xe=p.stateNode,Ct=!1;break e;case 3:case 4:Xe=p.stateNode.containerInfo,Ct=!0;break e}p=p.return}if(Xe===null)throw Error(s(160));dm(f,g,o),Xe=null,Ct=!1,f=o.alternate,f!==null&&(f.return=null),o.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ym(n,t),n=n.sibling}var pn=null;function ym(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wt(n,t),Dt(t),l&4&&(Ti(3,t,t.return),ns(3,t),Ti(5,t,t.return));break;case 1:wt(n,t),Dt(t),l&512&&(at||r===null||On(r,r.return)),l&64&&$n&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var o=pn;if(wt(n,t),Dt(t),l&512&&(at||r===null||On(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":f=o.getElementsByTagName("title")[0],(!f||f[Or]||f[ft]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=o.createElement(l),o.head.insertBefore(f,o.querySelector("head > title"))),mt(f,l,r),f[ft]=t,lt(f),l=f;break e;case"link":var g=yy("link","href",o).get(l+(r.href||""));if(g){for(var p=0;p<g.length;p++)if(f=g[p],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(p,1);break t}}f=o.createElement(l),mt(f,l,r),o.head.appendChild(f);break;case"meta":if(g=yy("meta","content",o).get(l+(r.content||""))){for(p=0;p<g.length;p++)if(f=g[p],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(p,1);break t}}f=o.createElement(l),mt(f,l,r),o.head.appendChild(f);break;default:throw Error(s(468,l))}f[ft]=t,lt(f),l=f}t.stateNode=l}else py(o,t.type,t.stateNode);else t.stateNode=my(o,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?py(o,t.type,t.stateNode):my(o,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ac(t,t.memoizedProps,r.memoizedProps)}break;case 27:wt(n,t),Dt(t),l&512&&(at||r===null||On(r,r.return)),r!==null&&l&4&&Ac(t,t.memoizedProps,r.memoizedProps);break;case 5:if(wt(n,t),Dt(t),l&512&&(at||r===null||On(r,r.return)),t.flags&32){o=t.stateNode;try{Ia(o,"")}catch(X){Ve(t,t.return,X)}}l&4&&t.stateNode!=null&&(o=t.memoizedProps,Ac(t,o,r!==null?r.memoizedProps:o)),l&1024&&(Tc=!0);break;case 6:if(wt(n,t),Dt(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(X){Ve(t,t.return,X)}}break;case 3:if(iu=null,o=pn,pn=tu(n.containerInfo),wt(n,t),pn=o,Dt(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ir(n.containerInfo)}catch(X){Ve(t,t.return,X)}Tc&&(Tc=!1,pm(t));break;case 4:l=pn,pn=tu(t.stateNode.containerInfo),wt(n,t),Dt(t),pn=l;break;case 12:wt(n,t),Dt(t);break;case 31:wt(n,t),Dt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_l(t,l)));break;case 13:wt(n,t),Dt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Kl=Zt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_l(t,l)));break;case 22:o=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,D=$n,U=at;if($n=D||o,at=U||b,wt(n,t),at=U,$n=D,Dt(t),l&8192)e:for(n=t.stateNode,n._visibility=o?n._visibility&-2:n._visibility|1,o&&(r===null||b||$n||at||ca(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,o)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{p=b.stateNode;var Z=b.memoizedProps.style,O=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;p.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(X){Ve(b,b.return,X)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=o?"":b.memoizedProps}catch(X){Ve(b,b.return,X)}}}else if(n.tag===18){if(r===null){b=n;try{var x=b.stateNode;o?sy(x,!0):sy(b.stateNode,!1)}catch(X){Ve(b,b.return,X)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,_l(t,r))));break;case 19:wt(n,t),Dt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_l(t,l)));break;case 30:break;case 21:break;default:wt(n,t),Dt(t)}}function Dt(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(um(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var o=r.stateNode,f=Ec(t);Gl(t,f,o);break;case 5:var g=r.stateNode;r.flags&32&&(Ia(g,""),r.flags&=-33);var p=Ec(t);Gl(t,p,g);break;case 3:case 4:var b=r.stateNode.containerInfo,D=Ec(t);Nc(t,D,b);break;default:throw Error(s(161))}}catch(U){Ve(t,t.return,U)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function pm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;pm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function qn(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fm(t,n.alternate,n),n=n.sibling}function ca(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ti(4,n,n.return),ca(n);break;case 1:On(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&sm(n,n.return,r),ca(n);break;case 27:hs(n.stateNode);case 26:case 5:On(n,n.return),ca(n);break;case 22:n.memoizedState===null&&ca(n);break;case 30:ca(n);break;default:ca(n)}t=t.sibling}}function ei(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,o=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ei(o,f,r),ns(4,f);break;case 1:if(ei(o,f,r),l=f,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(D){Ve(l,l.return,D)}if(l=f,o=l.updateQueue,o!==null){var p=l.stateNode;try{var b=o.shared.hiddenCallbacks;if(b!==null)for(o.shared.hiddenCallbacks=null,o=0;o<b.length;o++)jd(b[o],p)}catch(D){Ve(l,l.return,D)}}r&&g&64&&rm(f),is(f,f.return);break;case 27:om(f);case 26:case 5:ei(o,f,r),r&&l===null&&g&4&&lm(f),is(f,f.return);break;case 12:ei(o,f,r);break;case 31:ei(o,f,r),r&&g&4&&gm(o,f);break;case 13:ei(o,f,r),r&&g&4&&mm(o,f);break;case 22:f.memoizedState===null&&ei(o,f,r),is(f,f.return);break;case 30:break;default:ei(o,f,r)}n=n.sibling}}function Rc(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Kr(r))}function Ic(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Kr(t))}function bn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bm(t,n,r,l),n=n.sibling}function bm(t,n,r,l){var o=n.flags;switch(n.tag){case 0:case 11:case 15:bn(t,n,r,l),o&2048&&ns(9,n);break;case 1:bn(t,n,r,l);break;case 3:bn(t,n,r,l),o&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Kr(t)));break;case 12:if(o&2048){bn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,p=f.onPostCommit;typeof p=="function"&&p(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ve(n,n.return,b)}}else bn(t,n,r,l);break;case 31:bn(t,n,r,l);break;case 13:bn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?bn(t,n,r,l):as(t,n):f._visibility&2?bn(t,n,r,l):(f._visibility|=2,ka(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),o&2048&&Rc(g,n);break;case 24:bn(t,n,r,l),o&2048&&Ic(n.alternate,n);break;default:bn(t,n,r,l)}}function ka(t,n,r,l,o){for(o=o&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,p=r,b=l,D=g.flags;switch(g.tag){case 0:case 11:case 15:ka(f,g,p,b,o),ns(8,g);break;case 23:break;case 22:var U=g.stateNode;g.memoizedState!==null?U._visibility&2?ka(f,g,p,b,o):as(f,g):(U._visibility|=2,ka(f,g,p,b,o)),o&&D&2048&&Rc(g.alternate,g);break;case 24:ka(f,g,p,b,o),o&&D&2048&&Ic(g.alternate,g);break;default:ka(f,g,p,b,o)}n=n.sibling}}function as(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,o=l.flags;switch(l.tag){case 22:as(r,l),o&2048&&Rc(l.alternate,l);break;case 24:as(r,l),o&2048&&Ic(l.alternate,l);break;default:as(r,l)}n=n.sibling}}var rs=8192;function Fa(t,n,r){if(t.subtreeFlags&rs)for(t=t.child;t!==null;)vm(t,n,r),t=t.sibling}function vm(t,n,r){switch(t.tag){case 26:Fa(t,n,r),t.flags&rs&&t.memoizedState!==null&&sA(r,pn,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,n,r);break;case 3:case 4:var l=pn;pn=tu(t.stateNode.containerInfo),Fa(t,n,r),pn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=rs,rs=16777216,Fa(t,n,r),rs=l):Fa(t,n,r));break;default:Fa(t,n,r)}}function Sm(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ss(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];ut=l,Em(l,t)}Sm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Am(t),t=t.sibling}function Am(t){switch(t.tag){case 0:case 11:case 15:ss(t),t.flags&2048&&Ti(9,t,t.return);break;case 3:ss(t);break;case 12:ss(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Wl(t)):ss(t);break;default:ss(t)}}function Wl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];ut=l,Em(l,t)}Sm(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ti(8,n,n.return),Wl(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Wl(n));break;default:Wl(n)}t=t.sibling}}function Em(t,n){for(;ut!==null;){var r=ut;switch(r.tag){case 0:case 11:case 15:Ti(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Kr(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,ut=l;else e:for(r=t;ut!==null;){l=ut;var o=l.sibling,f=l.return;if(hm(l),l===r){ut=null;break e}if(o!==null){o.return=f,ut=o;break e}ut=f}}}var AS={getCacheForType:function(t){var n=dt(tt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return dt(tt).controller.signal}},ES=typeof WeakMap=="function"?WeakMap:Map,Ie=0,ze=null,de=null,pe=0,Oe=0,Xt=null,Ri=!1,ja=!1,Cc=!1,ti=0,He=0,Ii=0,fa=0,wc=0,Jt=0,Ha=0,ls=null,Ot=null,Dc=!1,Kl=0,Nm=0,Xl=1/0,Jl=null,Ci=null,st=0,wi=null,Qa=null,ni=0,Oc=0,Vc=null,Tm=null,us=0,xc=null;function kt(){return(Ie&2)!==0&&pe!==0?pe&-pe:B.T!==null?zc():Gh()}function Rm(){if(Jt===0)if((pe&536870912)===0||Se){var t=qs;qs<<=1,(qs&3932160)===0&&(qs=262144),Jt=t}else Jt=536870912;return t=Wt.current,t!==null&&(t.flags|=32),Jt}function Vt(t,n,r){(t===ze&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)&&($a(t,0),Di(t,pe,Jt,!1)),Dr(t,r),((Ie&2)===0||t!==ze)&&(t===ze&&((Ie&2)===0&&(fa|=r),He===4&&Di(t,pe,Jt,!1)),Vn(t))}function Im(t,n,r){if((Ie&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||wr(t,n),o=l?RS(t,n):Bc(t,n,!0),f=l;do{if(o===0){ja&&!l&&Di(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!NS(r)){o=Bc(t,n,!1),f=!1;continue}if(o===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var p=t;o=ls;var b=p.current.memoizedState.isDehydrated;if(b&&($a(p,g).flags|=256),g=Bc(p,g,!1),g!==2){if(Cc&&!b){p.errorRecoveryDisabledLanes|=f,fa|=f,o=4;break e}f=Ot,Ot=o,f!==null&&(Ot===null?Ot=f:Ot.push.apply(Ot,f))}o=g}if(f=!1,o!==2)continue}}if(o===1){$a(t,0),Di(t,n,0,!0);break}e:{switch(l=t,f=o,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Di(l,n,Jt,!Ri);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(o=Kl+300-Zt(),10<o)){if(Di(l,n,Jt,!Ri),tl(l,0,!0)!==0)break e;ni=n,l.timeoutHandle=iy(Cm.bind(null,l,r,Ot,Jl,Dc,n,Jt,fa,Ha,Ri,f,"Throttled",-0,0),o);break e}Cm(l,r,Ot,Jl,Dc,n,Jt,fa,Ha,Ri,f,null,-0,0)}}break}while(!0);Vn(t)}function Cm(t,n,r,l,o,f,g,p,b,D,U,Z,O,x){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_n},vm(n,f,Z);var X=(f&62914560)===f?Kl-Zt():(f&4194048)===f?Nm-Zt():0;if(X=lA(Z,X),X!==null){ni=f,t.cancelPendingCommit=X(Lm.bind(null,t,n,f,r,l,o,g,p,b,U,Z,null,O,x)),Di(t,f,g,!D);return}}Lm(t,n,f,r,l,o,g,p,b)}function NS(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var o=r[l],f=o.getSnapshot;o=o.value;try{if(!Gt(f(),o))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Di(t,n,r,l){n&=~wc,n&=~fa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var o=n;0<o;){var f=31-Yt(o),g=1<<f;l[f]=-1,o&=~g}r!==0&&Zh(t,r,n)}function kl(){return(Ie&6)===0?(os(0),!1):!0}function Uc(){if(de!==null){if(Oe===0)var t=de.return;else t=de,Jn=na=null,Ho(t),_a=null,Jr=0,t=de;for(;t!==null;)am(t.alternate,t),t=t.return;de=null}}function $a(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,KS(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ni=0,Uc(),ze=t,de=r=Kn(t.current,null),pe=n,Oe=0,Xt=null,Ri=!1,ja=wr(t,n),Cc=!1,Ha=Jt=wc=fa=Ii=He=0,Ot=ls=null,Dc=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var o=31-Yt(l),f=1<<o;n|=t[o],l&=~f}return ti=n,dl(),r}function wm(t,n){le=null,B.H=qr,n===Ga||n===Al?(n=Xd(),Oe=3):n===Zo?(n=Xd(),Oe=4):Oe=n===fc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Xt=n,de===null&&(He=1,Ll(t,qt(n,t.current)))}function Dm(){var t=Wt.current;return t===null?!0:(pe&4194048)===pe?an===null:(pe&62914560)===pe||(pe&536870912)!==0?t===an:!1}function Om(){var t=B.H;return B.H=qr,t===null?qr:t}function Vm(){var t=B.A;return B.A=AS,t}function Fl(){He=4,Ri||(pe&4194048)!==pe&&Wt.current!==null||(ja=!0),(Ii&134217727)===0&&(fa&134217727)===0||ze===null||Di(ze,pe,Jt,!1)}function Bc(t,n,r){var l=Ie;Ie|=2;var o=Om(),f=Vm();(ze!==t||pe!==n)&&(Jl=null,$a(t,n)),n=!1;var g=He;e:do try{if(Oe!==0&&de!==null){var p=de,b=Xt;switch(Oe){case 8:Uc(),g=6;break e;case 3:case 2:case 9:case 6:Wt.current===null&&(n=!0);var D=Oe;if(Oe=0,Xt=null,Pa(t,p,b,D),r&&ja){g=0;break e}break;default:D=Oe,Oe=0,Xt=null,Pa(t,p,b,D)}}TS(),g=He;break}catch(U){wm(t,U)}while(!0);return n&&t.shellSuspendCounter++,Jn=na=null,Ie=l,B.H=o,B.A=f,de===null&&(ze=null,pe=0,dl()),g}function TS(){for(;de!==null;)xm(de)}function RS(t,n){var r=Ie;Ie|=2;var l=Om(),o=Vm();ze!==t||pe!==n?(Jl=null,Xl=Zt()+500,$a(t,n)):ja=wr(t,n);e:do try{if(Oe!==0&&de!==null){n=de;var f=Xt;t:switch(Oe){case 1:Oe=0,Xt=null,Pa(t,n,f,1);break;case 2:case 9:if(Wd(f)){Oe=0,Xt=null,Um(n);break}n=function(){Oe!==2&&Oe!==9||ze!==t||(Oe=7),Vn(t)},f.then(n,n);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Wd(f)?(Oe=0,Xt=null,Um(n)):(Oe=0,Xt=null,Pa(t,n,f,7));break;case 5:var g=null;switch(de.tag){case 26:g=de.memoizedState;case 5:case 27:var p=de;if(g?by(g):p.stateNode.complete){Oe=0,Xt=null;var b=p.sibling;if(b!==null)de=b;else{var D=p.return;D!==null?(de=D,jl(D)):de=null}break t}}Oe=0,Xt=null,Pa(t,n,f,5);break;case 6:Oe=0,Xt=null,Pa(t,n,f,6);break;case 8:Uc(),He=6;break e;default:throw Error(s(462))}}IS();break}catch(U){wm(t,U)}while(!0);return Jn=na=null,B.H=l,B.A=o,Ie=r,de!==null?0:(ze=null,pe=0,dl(),He)}function IS(){for(;de!==null&&!Hv();)xm(de)}function xm(t){var n=nm(t.alternate,t,ti);t.memoizedProps=t.pendingProps,n===null?jl(t):de=n}function Um(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Qg(r,n,n.pendingProps,n.type,void 0,pe);break;case 11:n=Qg(r,n,n.pendingProps,n.type.render,n.ref,pe);break;case 5:Ho(n);default:am(r,n),n=de=Vd(n,ti),n=nm(r,n,ti)}t.memoizedProps=t.pendingProps,n===null?jl(t):de=n}function Pa(t,n,r,l){Jn=na=null,Ho(n),_a=null,Jr=0;var o=n.return;try{if(gS(t,o,n,r,pe)){He=1,Ll(t,qt(r,t.current)),de=null;return}}catch(f){if(o!==null)throw de=o,f;He=1,Ll(t,qt(r,t.current)),de=null;return}n.flags&32768?(Se||l===1?t=!0:ja||(pe&536870912)!==0?t=!1:(Ri=t=!0,(l===2||l===9||l===3||l===6)&&(l=Wt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Bm(n,t)):jl(n)}function jl(t){var n=t;do{if((n.flags&32768)!==0){Bm(n,Ri);return}t=n.return;var r=pS(n.alternate,n,ti);if(r!==null){de=r;return}if(n=n.sibling,n!==null){de=n;return}de=n=t}while(n!==null);He===0&&(He=5)}function Bm(t,n){do{var r=bS(t.alternate,t);if(r!==null){r.flags&=32767,de=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){de=t;return}de=t=r}while(t!==null);He=6,de=null}function Lm(t,n,r,l,o,f,g,p,b){t.cancelPendingCommit=null;do Hl();while(st!==0);if((Ie&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Eo,r0(t,r,f,g,p,b),t===ze&&(de=ze=null,pe=0),Qa=n,wi=t,ni=r,Oc=f,Vc=o,Tm=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,OS($s,function(){return Gm(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,o=W.p,W.p=2,g=Ie,Ie|=4;try{vS(t,n,r)}finally{Ie=g,W.p=o,B.T=l}}st=1,Mm(),Zm(),zm()}}function Mm(){if(st===1){st=0;var t=wi,n=Qa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=B.T,B.T=null;var l=W.p;W.p=2;var o=Ie;Ie|=4;try{ym(n,t);var f=kc,g=Ed(t.containerInfo),p=f.focusedElem,b=f.selectionRange;if(g!==p&&p&&p.ownerDocument&&Ad(p.ownerDocument.documentElement,p)){if(b!==null&&po(p)){var D=b.start,U=b.end;if(U===void 0&&(U=D),"selectionStart"in p)p.selectionStart=D,p.selectionEnd=Math.min(U,p.value.length);else{var Z=p.ownerDocument||document,O=Z&&Z.defaultView||window;if(O.getSelection){var x=O.getSelection(),X=p.textContent.length,ee=Math.min(b.start,X),Me=b.end===void 0?ee:Math.min(b.end,X);!x.extend&&ee>Me&&(g=Me,Me=ee,ee=g);var R=Sd(p,ee),S=Sd(p,Me);if(R&&S&&(x.rangeCount!==1||x.anchorNode!==R.node||x.anchorOffset!==R.offset||x.focusNode!==S.node||x.focusOffset!==S.offset)){var w=Z.createRange();w.setStart(R.node,R.offset),x.removeAllRanges(),ee>Me?(x.addRange(w),x.extend(S.node,S.offset)):(w.setEnd(S.node,S.offset),x.addRange(w))}}}}for(Z=[],x=p;x=x.parentNode;)x.nodeType===1&&Z.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<Z.length;p++){var M=Z[p];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}lu=!!Jc,kc=Jc=null}finally{Ie=o,W.p=l,B.T=r}}t.current=n,st=2}}function Zm(){if(st===2){st=0;var t=wi,n=Qa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=B.T,B.T=null;var l=W.p;W.p=2;var o=Ie;Ie|=4;try{fm(t,n.alternate,n)}finally{Ie=o,W.p=l,B.T=r}}st=3}}function zm(){if(st===4||st===3){st=0,Qv();var t=wi,n=Qa,r=ni,l=Tm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?st=5:(st=0,Qa=wi=null,Ym(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(Ci=null),$u(r),n=n.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Cr,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=B.T,o=W.p,W.p=2,B.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var p=l[g];f(p.value,{componentStack:p.stack})}}finally{B.T=n,W.p=o}}(ni&3)!==0&&Hl(),Vn(t),o=t.pendingLanes,(r&261930)!==0&&(o&42)!==0?t===xc?us++:(us=0,xc=t):us=0,os(0)}}function Ym(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Kr(n)))}function Hl(){return Mm(),Zm(),zm(),Gm()}function Gm(){if(st!==5)return!1;var t=wi,n=Oc;Oc=0;var r=$u(ni),l=B.T,o=W.p;try{W.p=32>r?32:r,B.T=null,r=Vc,Vc=null;var f=wi,g=ni;if(st=0,Qa=wi=null,ni=0,(Ie&6)!==0)throw Error(s(331));var p=Ie;if(Ie|=4,Am(f.current),bm(f,f.current,g,r),Ie=p,os(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Cr,f)}catch{}return!0}finally{W.p=o,B.T=l,Ym(t,n)}}function _m(t,n,r){n=qt(r,n),n=cc(t.stateNode,n,2),t=Ai(t,n,2),t!==null&&(Dr(t,2),Vn(t))}function Ve(t,n,r){if(t.tag===3)_m(t,t,r);else for(;n!==null;){if(n.tag===3){_m(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ci===null||!Ci.has(l))){t=qt(r,t),r=Wg(2),l=Ai(n,r,2),l!==null&&(Kg(r,l,n,t),Dr(l,2),Vn(l));break}}n=n.return}}function Lc(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new ES;var o=new Set;l.set(n,o)}else o=l.get(n),o===void 0&&(o=new Set,l.set(n,o));o.has(r)||(Cc=!0,o.add(r),t=CS.bind(null,t,n,r),n.then(t,t))}function CS(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ze===t&&(pe&r)===r&&(He===4||He===3&&(pe&62914560)===pe&&300>Zt()-Kl?(Ie&2)===0&&$a(t,0):wc|=r,Ha===pe&&(Ha=0)),Vn(t)}function Wm(t,n){n===0&&(n=Mh()),t=qi(t,n),t!==null&&(Dr(t,n),Vn(t))}function wS(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Wm(t,r)}function DS(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,o=t.memoizedState;o!==null&&(r=o.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Wm(t,r)}function OS(t,n){return Fu(t,n)}var Ql=null,qa=null,Mc=!1,$l=!1,Zc=!1,Oi=0;function Vn(t){t!==qa&&t.next===null&&(qa===null?Ql=qa=t:qa=qa.next=t),$l=!0,Mc||(Mc=!0,xS())}function os(t,n){if(!Zc&&$l){Zc=!0;do for(var r=!1,l=Ql;l!==null;){if(t!==0){var o=l.pendingLanes;if(o===0)var f=0;else{var g=l.suspendedLanes,p=l.pingedLanes;f=(1<<31-Yt(42|t)+1)-1,f&=o&~(g&~p),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,km(l,f))}else f=pe,f=tl(l,l===ze?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||wr(l,f)||(r=!0,km(l,f));l=l.next}while(r);Zc=!1}}function VS(){Km()}function Km(){$l=Mc=!1;var t=0;Oi!==0&&WS()&&(t=Oi);for(var n=Zt(),r=null,l=Ql;l!==null;){var o=l.next,f=Xm(l,n);f===0?(l.next=null,r===null?Ql=o:r.next=o,o===null&&(qa=r)):(r=l,(t!==0||(f&3)!==0)&&($l=!0)),l=o}st!==0&&st!==5||os(t),Oi!==0&&(Oi=0)}function Xm(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,o=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Yt(f),p=1<<g,b=o[g];b===-1?((p&r)===0||(p&l)!==0)&&(o[g]=a0(p,n)):b<=n&&(t.expiredLanes|=p),f&=~p}if(n=ze,r=pe,r=tl(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ju(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||wr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ju(l),$u(r)){case 2:case 8:r=Bh;break;case 32:r=$s;break;case 268435456:r=Lh;break;default:r=$s}return l=Jm.bind(null,t),r=Fu(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ju(l),t.callbackPriority=2,t.callbackNode=null,2}function Jm(t,n){if(st!==0&&st!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Hl()&&t.callbackNode!==r)return null;var l=pe;return l=tl(t,t===ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Im(t,l,n),Xm(t,Zt()),t.callbackNode!=null&&t.callbackNode===r?Jm.bind(null,t):null)}function km(t,n){if(Hl())return null;Im(t,n,!0)}function xS(){XS(function(){(Ie&6)!==0?Fu(Uh,VS):Km()})}function zc(){if(Oi===0){var t=za;t===0&&(t=Ps,Ps<<=1,(Ps&261888)===0&&(Ps=256)),Oi=t}return Oi}function Fm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:rl(""+t)}function jm(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function US(t,n,r,l,o){if(n==="submit"&&r&&r.stateNode===o){var f=Fm((o[Rt]||null).action),g=l.submitter;g&&(n=(n=g[Rt]||null)?Fm(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var p=new ol("action","action",null,l,o);t.push({event:p,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Oi!==0){var b=g?jm(o,g):new FormData(o);ac(r,{pending:!0,data:b,method:o.method,action:f},null,b)}}else typeof f=="function"&&(p.preventDefault(),b=g?jm(o,g):new FormData(o),ac(r,{pending:!0,data:b,method:o.method,action:f},f,b))},currentTarget:o}]})}}for(var Yc=0;Yc<Ao.length;Yc++){var Gc=Ao[Yc],BS=Gc.toLowerCase(),LS=Gc[0].toUpperCase()+Gc.slice(1);yn(BS,"on"+LS)}yn(Rd,"onAnimationEnd"),yn(Id,"onAnimationIteration"),yn(Cd,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn($0,"onTransitionRun"),yn(P0,"onTransitionStart"),yn(q0,"onTransitionCancel"),yn(wd,"onTransitionEnd"),Ta("onMouseEnter",["mouseout","mouseover"]),Ta("onMouseLeave",["mouseout","mouseover"]),Ta("onPointerEnter",["pointerout","pointerover"]),Ta("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cs));function Hm(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],o=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var p=l[g],b=p.instance,D=p.currentTarget;if(p=p.listener,b!==f&&o.isPropagationStopped())break e;f=p,o.currentTarget=D;try{f(o)}catch(U){hl(U)}o.currentTarget=null,f=b}else for(g=0;g<l.length;g++){if(p=l[g],b=p.instance,D=p.currentTarget,p=p.listener,b!==f&&o.isPropagationStopped())break e;f=p,o.currentTarget=D;try{f(o)}catch(U){hl(U)}o.currentTarget=null,f=b}}}}function ge(t,n){var r=n[Pu];r===void 0&&(r=n[Pu]=new Set);var l=t+"__bubble";r.has(l)||(Qm(n,t,2,!1),r.add(l))}function _c(t,n,r){var l=0;n&&(l|=4),Qm(r,t,l,n)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function Wc(t){if(!t[Pl]){t[Pl]=!0,Kh.forEach(function(r){r!=="selectionchange"&&(MS.has(r)||_c(r,!1,t),_c(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Pl]||(n[Pl]=!0,_c("selectionchange",!1,n))}}function Qm(t,n,r,l){switch(Ry(n)){case 2:var o=cA;break;case 8:o=fA;break;default:o=af}r=o.bind(null,n,r,t),o=void 0,!lo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(o=!0),l?o!==void 0?t.addEventListener(n,r,{capture:!0,passive:o}):t.addEventListener(n,r,!0):o!==void 0?t.addEventListener(n,r,{passive:o}):t.addEventListener(n,r,!1)}function Kc(t,n,r,l,o){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var p=l.stateNode.containerInfo;if(p===o)break;if(g===4)for(g=l.return;g!==null;){var b=g.tag;if((b===3||b===4)&&g.stateNode.containerInfo===o)return;g=g.return}for(;p!==null;){if(g=Aa(p),g===null)return;if(b=g.tag,b===5||b===6||b===26||b===27){l=f=g;continue e}p=p.parentNode}}l=l.return}td(function(){var D=f,U=ro(r),Z=[];e:{var O=Dd.get(t);if(O!==void 0){var x=ol,X=t;switch(t){case"keypress":if(ll(r)===0)break e;case"keydown":case"keyup":x=D0;break;case"focusin":X="focus",x=fo;break;case"focusout":X="blur",x=fo;break;case"beforeblur":case"afterblur":x=fo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=p0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=x0;break;case Rd:case Id:case Cd:x=S0;break;case wd:x=B0;break;case"scroll":case"scrollend":x=m0;break;case"wheel":x=M0;break;case"copy":case"cut":case"paste":x=E0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=sd;break;case"toggle":case"beforetoggle":x=z0}var ee=(n&4)!==0,Me=!ee&&(t==="scroll"||t==="scrollend"),R=ee?O!==null?O+"Capture":null:O;ee=[];for(var S=D,w;S!==null;){var M=S;if(w=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||w===null||R===null||(M=xr(S,R),M!=null&&ee.push(fs(S,M,w))),Me)break;S=S.return}0<ee.length&&(O=new x(O,X,null,r,U),Z.push({event:O,listeners:ee}))}}if((n&7)===0){e:{if(O=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",O&&r!==ao&&(X=r.relatedTarget||r.fromElement)&&(Aa(X)||X[Sa]))break e;if((x||O)&&(O=U.window===U?U:(O=U.ownerDocument)?O.defaultView||O.parentWindow:window,x?(X=r.relatedTarget||r.toElement,x=D,X=X?Aa(X):null,X!==null&&(Me=c(X),ee=X.tag,X!==Me||ee!==5&&ee!==27&&ee!==6)&&(X=null)):(x=null,X=D),x!==X)){if(ee=ad,M="onMouseLeave",R="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(ee=sd,M="onPointerLeave",R="onPointerEnter",S="pointer"),Me=x==null?O:Vr(x),w=X==null?O:Vr(X),O=new ee(M,S+"leave",x,r,U),O.target=Me,O.relatedTarget=w,M=null,Aa(U)===D&&(ee=new ee(R,S+"enter",X,r,U),ee.target=w,ee.relatedTarget=Me,M=ee),Me=M,x&&X)t:{for(ee=ZS,R=x,S=X,w=0,M=R;M;M=ee(M))w++;M=0;for(var $=S;$;$=ee($))M++;for(;0<w-M;)R=ee(R),w--;for(;0<M-w;)S=ee(S),M--;for(;w--;){if(R===S||S!==null&&R===S.alternate){ee=R;break t}R=ee(R),S=ee(S)}ee=null}else ee=null;x!==null&&$m(Z,O,x,ee,!1),X!==null&&Me!==null&&$m(Z,Me,X,ee,!0)}}e:{if(O=D?Vr(D):window,x=O.nodeName&&O.nodeName.toLowerCase(),x==="select"||x==="input"&&O.type==="file")var Te=gd;else if(hd(O))if(md)Te=j0;else{Te=k0;var j=J0}else x=O.nodeName,!x||x.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?D&&io(D.elementType)&&(Te=gd):Te=F0;if(Te&&(Te=Te(t,D))){dd(Z,Te,r,U);break e}j&&j(t,O,D),t==="focusout"&&D&&O.type==="number"&&D.memoizedProps.value!=null&&no(O,"number",O.value)}switch(j=D?Vr(D):window,t){case"focusin":(hd(j)||j.contentEditable==="true")&&(Oa=j,bo=D,Gr=null);break;case"focusout":Gr=bo=Oa=null;break;case"mousedown":vo=!0;break;case"contextmenu":case"mouseup":case"dragend":vo=!1,Nd(Z,r,U);break;case"selectionchange":if(Q0)break;case"keydown":case"keyup":Nd(Z,r,U)}var ue;if(go)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Da?cd(t,r)&&(be="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(be="onCompositionStart");be&&(ld&&r.locale!=="ko"&&(Da||be!=="onCompositionStart"?be==="onCompositionEnd"&&Da&&(ue=nd()):(gi=U,uo="value"in gi?gi.value:gi.textContent,Da=!0)),j=ql(D,be),0<j.length&&(be=new rd(be,t,null,r,U),Z.push({event:be,listeners:j}),ue?be.data=ue:(ue=fd(r),ue!==null&&(be.data=ue)))),(ue=G0?_0(t,r):W0(t,r))&&(be=ql(D,"onBeforeInput"),0<be.length&&(j=new rd("onBeforeInput","beforeinput",null,r,U),Z.push({event:j,listeners:be}),j.data=ue)),US(Z,t,D,r,U)}Hm(Z,n)})}function fs(t,n,r){return{instance:t,listener:n,currentTarget:r}}function ql(t,n){for(var r=n+"Capture",l=[];t!==null;){var o=t,f=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||f===null||(o=xr(t,r),o!=null&&l.unshift(fs(t,o,f)),o=xr(t,n),o!=null&&l.push(fs(t,o,f))),t.tag===3)return l;t=t.return}return[]}function ZS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $m(t,n,r,l,o){for(var f=n._reactName,g=[];r!==null&&r!==l;){var p=r,b=p.alternate,D=p.stateNode;if(p=p.tag,b!==null&&b===l)break;p!==5&&p!==26&&p!==27||D===null||(b=D,o?(D=xr(r,f),D!=null&&g.unshift(fs(r,D,b))):o||(D=xr(r,f),D!=null&&g.push(fs(r,D,b)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var zS=/\r\n?/g,YS=/\u0000|\uFFFD/g;function Pm(t){return(typeof t=="string"?t:""+t).replace(zS,`
`).replace(YS,"")}function qm(t,n){return n=Pm(n),Pm(t)===n}function Le(t,n,r,l,o,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Ia(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Ia(t,""+l);break;case"className":il(t,"class",l);break;case"tabIndex":il(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":il(t,r,l);break;case"style":qh(t,l,f);break;case"data":if(n!=="object"){il(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=rl(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Le(t,n,"name",o.name,o,null),Le(t,n,"formEncType",o.formEncType,o,null),Le(t,n,"formMethod",o.formMethod,o,null),Le(t,n,"formTarget",o.formTarget,o,null)):(Le(t,n,"encType",o.encType,o,null),Le(t,n,"method",o.method,o,null),Le(t,n,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=rl(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=_n);break;case"onScroll":l!=null&&ge("scroll",t);break;case"onScrollEnd":l!=null&&ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(o.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=rl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":ge("beforetoggle",t),ge("toggle",t),nl(t,"popover",l);break;case"xlinkActuate":Gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Gn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Gn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Gn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Gn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":nl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=d0.get(r)||r,nl(t,r,l))}}function Xc(t,n,r,l,o,f){switch(r){case"style":qh(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(o.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Ia(t,l):(typeof l=="number"||typeof l=="bigint")&&Ia(t,""+l);break;case"onScroll":l!=null&&ge("scroll",t);break;case"onScrollEnd":l!=null&&ge("scrollend",t);break;case"onClick":l!=null&&(t.onclick=_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xh.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(o=r.endsWith("Capture"),n=r.slice(2,o?r.length-7:void 0),f=t[Rt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,o),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,o);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):nl(t,r,l)}}}function mt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",t),ge("load",t);var l=!1,o=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Le(t,n,f,g,r,null)}}o&&Le(t,n,"srcSet",r.srcSet,r,null),l&&Le(t,n,"src",r.src,r,null);return;case"input":ge("invalid",t);var p=f=g=o=null,b=null,D=null;for(l in r)if(r.hasOwnProperty(l)){var U=r[l];if(U!=null)switch(l){case"name":o=U;break;case"type":g=U;break;case"checked":b=U;break;case"defaultChecked":D=U;break;case"value":f=U;break;case"defaultValue":p=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,n));break;default:Le(t,n,l,U,r,null)}}Hh(t,f,p,b,D,g,o,!1);return;case"select":ge("invalid",t),l=g=f=null;for(o in r)if(r.hasOwnProperty(o)&&(p=r[o],p!=null))switch(o){case"value":f=p;break;case"defaultValue":g=p;break;case"multiple":l=p;default:Le(t,n,o,p,r,null)}n=f,r=g,t.multiple=!!l,n!=null?Ra(t,!!l,n,!1):r!=null&&Ra(t,!!l,r,!0);return;case"textarea":ge("invalid",t),f=o=l=null;for(g in r)if(r.hasOwnProperty(g)&&(p=r[g],p!=null))switch(g){case"value":l=p;break;case"defaultValue":o=p;break;case"children":f=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:Le(t,n,g,p,r,null)}$h(t,l,o,f);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Le(t,n,b,l,r,null)}return;case"dialog":ge("beforetoggle",t),ge("toggle",t),ge("cancel",t),ge("close",t);break;case"iframe":case"object":ge("load",t);break;case"video":case"audio":for(l=0;l<cs.length;l++)ge(cs[l],t);break;case"image":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"embed":case"source":case"link":ge("error",t),ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in r)if(r.hasOwnProperty(D)&&(l=r[D],l!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Le(t,n,D,l,r,null)}return;default:if(io(n)){for(U in r)r.hasOwnProperty(U)&&(l=r[U],l!==void 0&&Xc(t,n,U,l,r,void 0));return}}for(p in r)r.hasOwnProperty(p)&&(l=r[p],l!=null&&Le(t,n,p,l,r,null))}function GS(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,f=null,g=null,p=null,b=null,D=null,U=null;for(x in r){var Z=r[x];if(r.hasOwnProperty(x)&&Z!=null)switch(x){case"checked":break;case"value":break;case"defaultValue":b=Z;default:l.hasOwnProperty(x)||Le(t,n,x,null,l,Z)}}for(var O in l){var x=l[O];if(Z=r[O],l.hasOwnProperty(O)&&(x!=null||Z!=null))switch(O){case"type":f=x;break;case"name":o=x;break;case"checked":D=x;break;case"defaultChecked":U=x;break;case"value":g=x;break;case"defaultValue":p=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(137,n));break;default:x!==Z&&Le(t,n,O,x,l,Z)}}to(t,g,p,b,D,U,f,o);return;case"select":x=g=p=O=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":x=b;default:l.hasOwnProperty(f)||Le(t,n,f,null,l,b)}for(o in l)if(f=l[o],b=r[o],l.hasOwnProperty(o)&&(f!=null||b!=null))switch(o){case"value":O=f;break;case"defaultValue":p=f;break;case"multiple":g=f;default:f!==b&&Le(t,n,o,f,l,b)}n=p,r=g,l=x,O!=null?Ra(t,!!r,O,!1):!!l!=!!r&&(n!=null?Ra(t,!!r,n,!0):Ra(t,!!r,r?[]:"",!1));return;case"textarea":x=O=null;for(p in r)if(o=r[p],r.hasOwnProperty(p)&&o!=null&&!l.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Le(t,n,p,null,l,o)}for(g in l)if(o=l[g],f=r[g],l.hasOwnProperty(g)&&(o!=null||f!=null))switch(g){case"value":O=o;break;case"defaultValue":x=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==f&&Le(t,n,g,o,l,f)}Qh(t,O,x);return;case"option":for(var X in r)if(O=r[X],r.hasOwnProperty(X)&&O!=null&&!l.hasOwnProperty(X))switch(X){case"selected":t.selected=!1;break;default:Le(t,n,X,null,l,O)}for(b in l)if(O=l[b],x=r[b],l.hasOwnProperty(b)&&O!==x&&(O!=null||x!=null))switch(b){case"selected":t.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Le(t,n,b,O,l,x)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ee in r)O=r[ee],r.hasOwnProperty(ee)&&O!=null&&!l.hasOwnProperty(ee)&&Le(t,n,ee,null,l,O);for(D in l)if(O=l[D],x=r[D],l.hasOwnProperty(D)&&O!==x&&(O!=null||x!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,n));break;default:Le(t,n,D,O,l,x)}return;default:if(io(n)){for(var Me in r)O=r[Me],r.hasOwnProperty(Me)&&O!==void 0&&!l.hasOwnProperty(Me)&&Xc(t,n,Me,void 0,l,O);for(U in l)O=l[U],x=r[U],!l.hasOwnProperty(U)||O===x||O===void 0&&x===void 0||Xc(t,n,U,O,l,x);return}}for(var R in r)O=r[R],r.hasOwnProperty(R)&&O!=null&&!l.hasOwnProperty(R)&&Le(t,n,R,null,l,O);for(Z in l)O=l[Z],x=r[Z],!l.hasOwnProperty(Z)||O===x||O==null&&x==null||Le(t,n,Z,O,l,x)}function ey(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _S(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var o=r[l],f=o.transferSize,g=o.initiatorType,p=o.duration;if(f&&p&&ey(g)){for(g=0,p=o.responseEnd,l+=1;l<r.length;l++){var b=r[l],D=b.startTime;if(D>p)break;var U=b.transferSize,Z=b.initiatorType;U&&ey(Z)&&(b=b.responseEnd,g+=U*(b<p?1:(p-D)/(b-D)))}if(--l,n+=8*(f+g)/(o.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Jc=null,kc=null;function eu(t){return t.nodeType===9?t:t.ownerDocument}function ty(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ny(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Fc(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var jc=null;function WS(){var t=window.event;return t&&t.type==="popstate"?t===jc?!1:(jc=t,!0):(jc=null,!1)}var iy=typeof setTimeout=="function"?setTimeout:void 0,KS=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,XS=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(t){return ay.resolve(null).then(t).catch(JS)}:iy;function JS(t){setTimeout(function(){throw t})}function Vi(t){return t==="head"}function ry(t,n){var r=n,l=0;do{var o=r.nextSibling;if(t.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(o),ir(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")hs(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,hs(r);for(var f=r.firstChild;f;){var g=f.nextSibling,p=f.nodeName;f[Or]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&hs(t.ownerDocument.body);r=o}while(r);ir(n)}function sy(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Hc(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Hc(r),qu(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function kS(t,n,r,l){for(;t.nodeType===1;){var o=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Or])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=rn(t.nextSibling),t===null)break}return null}function FS(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=rn(t.nextSibling),t===null))return null;return t}function ly(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=rn(t.nextSibling),t===null))return null;return t}function Qc(t){return t.data==="$?"||t.data==="$~"}function $c(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function jS(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function rn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Pc=null;function uy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return rn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function oy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function cy(t,n,r){switch(n=eu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function hs(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);qu(t)}var sn=new Map,fy=new Set;function tu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ii=W.d;W.d={f:HS,r:QS,D:$S,C:PS,L:qS,m:eA,X:nA,S:tA,M:iA};function HS(){var t=ii.f(),n=kl();return t||n}function QS(t){var n=Ea(t);n!==null&&n.tag===5&&n.type==="form"?wg(n):ii.r(t)}var er=typeof document>"u"?null:document;function hy(t,n,r){var l=er;if(l&&typeof n=="string"&&n){var o=$t(n);o='link[rel="'+t+'"][href="'+o+'"]',typeof r=="string"&&(o+='[crossorigin="'+r+'"]'),fy.has(o)||(fy.add(o),t={rel:t,crossOrigin:r,href:n},l.querySelector(o)===null&&(n=l.createElement("link"),mt(n,"link",t),lt(n),l.head.appendChild(n)))}}function $S(t){ii.D(t),hy("dns-prefetch",t,null)}function PS(t,n){ii.C(t,n),hy("preconnect",t,n)}function qS(t,n,r){ii.L(t,n,r);var l=er;if(l&&t&&n){var o='link[rel="preload"][as="'+$t(n)+'"]';n==="image"&&r&&r.imageSrcSet?(o+='[imagesrcset="'+$t(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(o+='[imagesizes="'+$t(r.imageSizes)+'"]')):o+='[href="'+$t(t)+'"]';var f=o;switch(n){case"style":f=tr(t);break;case"script":f=nr(t)}sn.has(f)||(t=N({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),sn.set(f,t),l.querySelector(o)!==null||n==="style"&&l.querySelector(ds(f))||n==="script"&&l.querySelector(gs(f))||(n=l.createElement("link"),mt(n,"link",t),lt(n),l.head.appendChild(n)))}}function eA(t,n){ii.m(t,n);var r=er;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",o='link[rel="modulepreload"][as="'+$t(l)+'"][href="'+$t(t)+'"]',f=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=nr(t)}if(!sn.has(f)&&(t=N({rel:"modulepreload",href:t},n),sn.set(f,t),r.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(gs(f)))return}l=r.createElement("link"),mt(l,"link",t),lt(l),r.head.appendChild(l)}}}function tA(t,n,r){ii.S(t,n,r);var l=er;if(l&&t){var o=Na(l).hoistableStyles,f=tr(t);n=n||"default";var g=o.get(f);if(!g){var p={loading:0,preload:null};if(g=l.querySelector(ds(f)))p.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":n},r),(r=sn.get(f))&&qc(t,r);var b=g=l.createElement("link");lt(b),mt(b,"link",t),b._p=new Promise(function(D,U){b.onload=D,b.onerror=U}),b.addEventListener("load",function(){p.loading|=1}),b.addEventListener("error",function(){p.loading|=2}),p.loading|=4,nu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:p},o.set(f,g)}}}function nA(t,n){ii.X(t,n);var r=er;if(r&&t){var l=Na(r).hoistableScripts,o=nr(t),f=l.get(o);f||(f=r.querySelector(gs(o)),f||(t=N({src:t,async:!0},n),(n=sn.get(o))&&ef(t,n),f=r.createElement("script"),lt(f),mt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(o,f))}}function iA(t,n){ii.M(t,n);var r=er;if(r&&t){var l=Na(r).hoistableScripts,o=nr(t),f=l.get(o);f||(f=r.querySelector(gs(o)),f||(t=N({src:t,async:!0,type:"module"},n),(n=sn.get(o))&&ef(t,n),f=r.createElement("script"),lt(f),mt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(o,f))}}function dy(t,n,r,l){var o=(o=he.current)?tu(o):null;if(!o)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=tr(r.href),r=Na(o).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=tr(r.href);var f=Na(o).hoistableStyles,g=f.get(t);if(g||(o=o.ownerDocument||o,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=o.querySelector(ds(t)))&&!f._p&&(g.instance=f,g.state.loading=5),sn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},sn.set(t,r),f||aA(o,t,r,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=nr(r),r=Na(o).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function tr(t){return'href="'+$t(t)+'"'}function ds(t){return'link[rel="stylesheet"]['+t+"]"}function gy(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function aA(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),mt(n,"link",r),lt(n),t.head.appendChild(n))}function nr(t){return'[src="'+$t(t)+'"]'}function gs(t){return"script[async]"+t}function my(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+$t(r.href)+'"]');if(l)return n.instance=l,lt(l),l;var o=N({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),lt(l),mt(l,"style",o),nu(l,r.precedence,t),n.instance=l;case"stylesheet":o=tr(r.href);var f=t.querySelector(ds(o));if(f)return n.state.loading|=4,n.instance=f,lt(f),f;l=gy(r),(o=sn.get(o))&&qc(l,o),f=(t.ownerDocument||t).createElement("link"),lt(f);var g=f;return g._p=new Promise(function(p,b){g.onload=p,g.onerror=b}),mt(f,"link",l),n.state.loading|=4,nu(f,r.precedence,t),n.instance=f;case"script":return f=nr(r.src),(o=t.querySelector(gs(f)))?(n.instance=o,lt(o),o):(l=r,(o=sn.get(f))&&(l=N({},r),ef(l,o)),t=t.ownerDocument||t,o=t.createElement("script"),lt(o),mt(o,"link",l),t.head.appendChild(o),n.instance=o);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,nu(l,r.precedence,t));return n.instance}function nu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,f=o,g=0;g<l.length;g++){var p=l[g];if(p.dataset.precedence===n)f=p;else if(f!==o)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function qc(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var iu=null;function yy(t,n,r){if(iu===null){var l=new Map,o=iu=new Map;o.set(r,l)}else o=iu,l=o.get(r),l||(l=new Map,o.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),o=0;o<r.length;o++){var f=r[o];if(!(f[Or]||f[ft]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var p=l.get(g);p?p.push(f):l.set(g,[f])}}return l}function py(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function rA(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function by(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function sA(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var o=tr(l.href),f=n.querySelector(ds(o));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=au.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,lt(f);return}f=n.ownerDocument||n,l=gy(l),(o=sn.get(o))&&qc(l,o),f=f.createElement("link"),lt(f);var g=f;g._p=new Promise(function(p,b){g.onload=p,g.onerror=b}),mt(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=au.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var tf=0;function lA(t,n){return t.stylesheets&&t.count===0&&su(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&su(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&tf===0&&(tf=62500*_S());var o=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&su(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>tf?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(o)}}:null}function au(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)su(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ru=null;function su(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ru=new Map,n.forEach(uA,t),ru=null,au.call(t))}function uA(t,n){if(!(n.state.loading&4)){var r=ru.get(t);if(r)var l=r.get(null);else{r=new Map,ru.set(t,r);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<o.length;f++){var g=o[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}o=n.instance,g=o.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,o),r.set(g,o),this.count++,l=au.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),f?f.parentNode.insertBefore(o,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),n.state.loading|=4}}var ms={$$typeof:ne,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function oA(t,n,r,l,o,f,g,p,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hu(0),this.hiddenUpdates=Hu(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function vy(t,n,r,l,o,f,g,p,b,D,U,Z){return t=new oA(t,n,r,g,b,D,U,Z,p),n=1,f===!0&&(n|=24),f=_t(3,null,null,n),t.current=f,f.stateNode=t,n=Bo(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},zo(f),t}function Sy(t){return t?(t=Ua,t):Ua}function Ay(t,n,r,l,o,f){o=Sy(o),l.context===null?l.context=o:l.pendingContext=o,l=Si(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ai(t,l,n),r!==null&&(Vt(r,t,n),Fr(r,t,n))}function Ey(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function nf(t,n){Ey(t,n),(t=t.alternate)&&Ey(t,n)}function Ny(t){if(t.tag===13||t.tag===31){var n=qi(t,67108864);n!==null&&Vt(n,t,67108864),nf(t,67108864)}}function Ty(t){if(t.tag===13||t.tag===31){var n=kt();n=Qu(n);var r=qi(t,n);r!==null&&Vt(r,t,n),nf(t,n)}}var lu=!0;function cA(t,n,r,l){var o=B.T;B.T=null;var f=W.p;try{W.p=2,af(t,n,r,l)}finally{W.p=f,B.T=o}}function fA(t,n,r,l){var o=B.T;B.T=null;var f=W.p;try{W.p=8,af(t,n,r,l)}finally{W.p=f,B.T=o}}function af(t,n,r,l){if(lu){var o=rf(l);if(o===null)Kc(t,n,l,uu,r),Iy(t,l);else if(dA(o,t,n,r,l))l.stopPropagation();else if(Iy(t,l),n&4&&-1<hA.indexOf(t)){for(;o!==null;){var f=Ea(o);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ji(f.pendingLanes);if(g!==0){var p=f;for(p.pendingLanes|=2,p.entangledLanes|=2;g;){var b=1<<31-Yt(g);p.entanglements[1]|=b,g&=~b}Vn(f),(Ie&6)===0&&(Xl=Zt()+500,os(0))}}break;case 31:case 13:p=qi(f,2),p!==null&&Vt(p,f,2),kl(),nf(f,2)}if(f=rf(l),f===null&&Kc(t,n,l,uu,r),f===o)break;o=f}o!==null&&l.stopPropagation()}else Kc(t,n,l,null,r)}}function rf(t){return t=ro(t),sf(t)}var uu=null;function sf(t){if(uu=null,t=Aa(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=h(n),t!==null)return t;t=null}else if(r===31){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return uu=t,null}function Ry(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($v()){case Uh:return 2;case Bh:return 8;case $s:case Pv:return 32;case Lh:return 268435456;default:return 32}default:return 32}}var lf=!1,xi=null,Ui=null,Bi=null,ys=new Map,ps=new Map,Li=[],hA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iy(t,n){switch(t){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":ys.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(n.pointerId)}}function bs(t,n,r,l,o,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[o]},n!==null&&(n=Ea(n),n!==null&&Ny(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,o!==null&&n.indexOf(o)===-1&&n.push(o),t)}function dA(t,n,r,l,o){switch(n){case"focusin":return xi=bs(xi,t,n,r,l,o),!0;case"dragenter":return Ui=bs(Ui,t,n,r,l,o),!0;case"mouseover":return Bi=bs(Bi,t,n,r,l,o),!0;case"pointerover":var f=o.pointerId;return ys.set(f,bs(ys.get(f)||null,t,n,r,l,o)),!0;case"gotpointercapture":return f=o.pointerId,ps.set(f,bs(ps.get(f)||null,t,n,r,l,o)),!0}return!1}function Cy(t){var n=Aa(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=h(r),n!==null){t.blockedOn=n,_h(t.priority,function(){Ty(r)});return}}else if(n===31){if(n=d(r),n!==null){t.blockedOn=n,_h(t.priority,function(){Ty(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ou(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=rf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);ao=l,r.target.dispatchEvent(l),ao=null}else return n=Ea(r),n!==null&&Ny(n),t.blockedOn=r,!1;n.shift()}return!0}function wy(t,n,r){ou(t)&&r.delete(n)}function gA(){lf=!1,xi!==null&&ou(xi)&&(xi=null),Ui!==null&&ou(Ui)&&(Ui=null),Bi!==null&&ou(Bi)&&(Bi=null),ys.forEach(wy),ps.forEach(wy)}function cu(t,n){t.blockedOn===n&&(t.blockedOn=null,lf||(lf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,gA)))}var fu=null;function Dy(t){fu!==t&&(fu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){fu===t&&(fu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],o=t[n+2];if(typeof l!="function"){if(sf(l||r)===null)continue;break}var f=Ea(r);f!==null&&(t.splice(n,3),n-=3,ac(f,{pending:!0,data:o,method:r.method,action:l},l,o))}}))}function ir(t){function n(b){return cu(b,t)}xi!==null&&cu(xi,t),Ui!==null&&cu(Ui,t),Bi!==null&&cu(Bi,t),ys.forEach(n),ps.forEach(n);for(var r=0;r<Li.length;r++){var l=Li[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Li.length&&(r=Li[0],r.blockedOn===null);)Cy(r),r.blockedOn===null&&Li.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var o=r[l],f=r[l+1],g=o[Rt]||null;if(typeof f=="function")g||Dy(r);else if(g){var p=null;if(f&&f.hasAttribute("formAction")){if(o=f,g=f[Rt]||null)p=g.formAction;else if(sf(o)!==null)continue}else p=g.action;typeof p=="function"?r[l+1]=p:(r.splice(l,3),l-=3),Dy(r)}}}function Oy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return o=g})},focusReset:"manual",scroll:"manual"})}function n(){o!==null&&(o(),o=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,o=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),o!==null&&(o(),o=null)}}}function uf(t){this._internalRoot=t}hu.prototype.render=uf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=kt();Ay(r,l,t,n,null,null)},hu.prototype.unmount=uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ay(t.current,2,null,t,null,null),kl(),n[Sa]=null}};function hu(t){this._internalRoot=t}hu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Gh();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Li.length&&n!==0&&n<Li[r].priority;r++);Li.splice(r,0,t),r===0&&Cy(t)}};var Vy=e.version;if(Vy!=="19.2.1")throw Error(s(527,Vy,"19.2.1"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var mA={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{Cr=du.inject(mA),zt=du}catch{}}return Ss.createRoot=function(t,n){if(!u(t))throw Error(s(299));var r=!1,l="",o=zg,f=Yg,g=Gg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=vy(t,1,!1,null,null,r,l,null,o,f,g,Oy),t[Sa]=n.current,Wc(t),new uf(n)},Ss.hydrateRoot=function(t,n,r){if(!u(t))throw Error(s(299));var l=!1,o="",f=zg,g=Yg,p=Gg,b=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(p=r.onRecoverableError),r.formState!==void 0&&(b=r.formState)),n=vy(t,1,!0,n,r??null,l,o,b,f,g,p,Oy),n.context=Sy(null),r=n.current,l=kt(),l=Qu(l),o=Si(l),o.callback=null,Ai(r,o,l),r=l,n.current.lanes=r,Dr(n,r),Vn(n),t[Sa]=n.current,Wc(t),new hu(n)},Ss.version="19.2.1",Ss}var _y;function RA(){if(_y)return cf.exports;_y=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),cf.exports=TA(),cf.exports}var IA=RA();const CA=db(IA);var Ke=_f();function gb({onSave:i,placeholder:e}){const[a,s]=Ke.useState("");return Ce.jsx("input",{className:"new-todo",type:"text",placeholder:e,value:a,onChange:u=>{s(u.target.value)},onKeyDown:u=>{u.key==="Enter"&&!u.nativeEvent.isComposing&&(i(a.trim()),s(""))}})}function wA({dispatch:i}){const e=a=>{i({type:"ADDED_TODO",payload:{text:a}})};return Ce.jsxs("header",{className:"header",children:[Ce.jsx("h1",{children:"todos"}),Ce.jsx(gb,{onSave:a=>{a.length!==0&&e(a)},placeholder:"What needs to be done?"})]})}var mf={exports:{}};var Wy;function DA(){return Wy||(Wy=1,(function(i){(function(){var e={}.hasOwnProperty;function a(){for(var c="",h=0;h<arguments.length;h++){var d=arguments[h];d&&(c=u(c,s(d)))}return c}function s(c){if(typeof c=="string"||typeof c=="number")return c;if(typeof c!="object")return"";if(Array.isArray(c))return a.apply(null,c);if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]"))return c.toString();var h="";for(var d in c)e.call(c,d)&&c[d]&&(h=u(h,d));return h}function u(c,h){return h?c?c+" "+h:c+h:c}i.exports?(a.default=a,i.exports=a):window.classNames=a})()})(mf)),mf.exports}var OA=DA();const mb=db(OA),Ky={SHOW_ALL:"All",SHOW_ACTIVE:"Active",SHOW_COMPLETED:"Completed"};function VA({completedCount:i,activeCount:e,filter:a,onClearCompleted:s,onShow:u}){return Ce.jsxs("footer",{className:"footer",children:[Ce.jsxs("span",{className:"todo-count",children:[Ce.jsx("strong",{children:e||"No"}),"",e===1?"item":"items"," left"]}),Ce.jsx("ul",{className:"filters",children:Object.keys(Ky).map(c=>Ce.jsx("li",{children:Ce.jsx("button",{type:"button",className:mb({selected:c===a}),style:{cursor:"pointer"},onClick:()=>u(c),children:Ky[c]})},c))}),!!i&&Ce.jsx("button",{type:"button",className:"clear-completed",onClick:s,children:"Clear completed"})]})}function xA({todo:i,dispatch:e}){const[a,s]=Ke.useState(!1),u=d=>{e({type:"DELETED_TODO",payload:{id:d}})},c=(d,y)=>{e({type:"EDITED_TODO",payload:{id:d,text:y}})},h=d=>{e({type:"COMPLETED_TODO",payload:{id:d}})};return Ce.jsx("li",{className:mb({completed:i.completed,editing:a}),children:a?Ce.jsx(gb,{editing:a,onSave:d=>{d.length===0?u(i.id):c(i.id,d),s(!1)}}):Ce.jsxs("div",{className:"view",children:[Ce.jsx("input",{id:`item-input-${i.id}`,className:"toggle",type:"checkbox",checked:i.completed,onChange:()=>h(i.id)}),Ce.jsx("label",{htmlFor:`item-input-${i.id}`,onDoubleClick:()=>s(!0),children:i.text}),Ce.jsx("button",{type:"button","aria-label":"Delete",className:"destroy",onClick:()=>u(i.id)})]})})}const UA={SHOW_ALL:()=>!0,SHOW_ACTIVE:i=>!i.completed,SHOW_COMPLETED:i=>i.completed};function BA({todos:i,dispatch:e}){const[a,s]=Ke.useState("SHOW_ALL"),u=i.filter(UA[a]),c=i.filter(m=>m.completed).length,h=i.length-c,d=()=>e({type:"CLEARED_COMPLETED"}),y=()=>e({type:"TOGGLED_ALL"});return i.length===0?null:Ce.jsxs("section",{className:"main",children:[u.length>0?Ce.jsxs("div",{className:"toggle-all-container",children:[Ce.jsx("input",{className:"toggle-all",type:"checkbox",id:"toggle-all",checked:c===i.length,onChange:y}),Ce.jsx("label",{className:"toggle-all-label",htmlFor:"toggle-all",children:"Mark all as complete"})]}):null,Ce.jsx("ul",{className:"todo-list",children:u.map(m=>Ce.jsx(xA,{todo:m,dispatch:e},m.id))}),Ce.jsx(VA,{completedCount:c,activeCount:h,filter:a,onClearCompleted:d,onShow:s})]})}function LA(i,e){switch(e.type){case"ADDED_TODO":{const{text:a}=e.payload;i.todos.push({id:crypto.randomUUID(),completed:!1,text:a});break}case"DELETED_TODO":{const{id:a}=e.payload,s=i.todos.findIndex(u=>u.id===a);if(s!==-1){const u=i.todos.getElementByIndex(s);i.todos.deleteByID(u.getID())}break}case"EDITED_TODO":{const{id:a,text:s}=e.payload;i.todos.forEach(u=>{u.id===a&&(u.text=s)});break}case"COMPLETED_TODO":{const{id:a}=e.payload;i.todos.forEach(s=>{s.id===a&&(s.completed=!s.completed)});break}case"CLEARED_COMPLETED":{const a=[];i.todos.forEach((s,u)=>{s.completed&&a.push(u)});for(let s=a.length-1;s>=0;s--){const u=i.todos.getElementByIndex(a[s]);i.todos.deleteByID(u.getID())}break}case"TOGGLED_ALL":{const a=i.todos.every(s=>s.completed);i.todos.forEach(s=>{s.completed=!a});break}}}var fe;(function(i){i[i.Canceled=1]="Canceled",i[i.Unknown=2]="Unknown",i[i.InvalidArgument=3]="InvalidArgument",i[i.DeadlineExceeded=4]="DeadlineExceeded",i[i.NotFound=5]="NotFound",i[i.AlreadyExists=6]="AlreadyExists",i[i.PermissionDenied=7]="PermissionDenied",i[i.ResourceExhausted=8]="ResourceExhausted",i[i.FailedPrecondition=9]="FailedPrecondition",i[i.Aborted=10]="Aborted",i[i.OutOfRange=11]="OutOfRange",i[i.Unimplemented=12]="Unimplemented",i[i.Internal=13]="Internal",i[i.Unavailable=14]="Unavailable",i[i.DataLoss=15]="DataLoss",i[i.Unauthenticated=16]="Unauthenticated"})(fe||(fe={}));function Wf(i,e){return i!==null&&typeof i=="object"&&"$typeName"in i&&typeof i.$typeName=="string"?e===void 0?!0:e.typeName===i.$typeName:!1}var I;(function(i){i[i.DOUBLE=1]="DOUBLE",i[i.FLOAT=2]="FLOAT",i[i.INT64=3]="INT64",i[i.UINT64=4]="UINT64",i[i.INT32=5]="INT32",i[i.FIXED64=6]="FIXED64",i[i.FIXED32=7]="FIXED32",i[i.BOOL=8]="BOOL",i[i.STRING=9]="STRING",i[i.BYTES=12]="BYTES",i[i.UINT32=13]="UINT32",i[i.SFIXED32=15]="SFIXED32",i[i.SFIXED64=16]="SFIXED64",i[i.SINT32=17]="SINT32",i[i.SINT64=18]="SINT64"})(I||(I={}));function MA(){let i=0,e=0;for(let s=0;s<28;s+=7){let u=this.buf[this.pos++];if(i|=(u&127)<<s,(u&128)==0)return this.assertBounds(),[i,e]}let a=this.buf[this.pos++];if(i|=(a&15)<<28,e=(a&112)>>4,(a&128)==0)return this.assertBounds(),[i,e];for(let s=3;s<=31;s+=7){let u=this.buf[this.pos++];if(e|=(u&127)<<s,(u&128)==0)return this.assertBounds(),[i,e]}throw new Error("invalid varint")}function yf(i,e,a){for(let c=0;c<28;c=c+7){const h=i>>>c,d=!(!(h>>>7)&&e==0),y=(d?h|128:h)&255;if(a.push(y),!d)return}const s=i>>>28&15|(e&7)<<4,u=e>>3!=0;if(a.push((u?s|128:s)&255),!!u){for(let c=3;c<31;c=c+7){const h=e>>>c,d=!!(h>>>7),y=(d?h|128:h)&255;if(a.push(y),!d)return}a.push(e>>>31&1)}}const Eu=4294967296;function Xy(i){const e=i[0]==="-";e&&(i=i.slice(1));const a=1e6;let s=0,u=0;function c(h,d){const y=Number(i.slice(h,d));u*=a,s=s*a+y,s>=Eu&&(u=u+(s/Eu|0),s=s%Eu)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),e?pb(s,u):Kf(s,u)}function ZA(i,e){let a=Kf(i,e);const s=a.hi&2147483648;s&&(a=pb(a.lo,a.hi));const u=yb(a.lo,a.hi);return s?"-"+u:u}function yb(i,e){if({lo:i,hi:e}=zA(i,e),e<=2097151)return String(Eu*e+i);const a=i&16777215,s=(i>>>24|e<<8)&16777215,u=e>>16&65535;let c=a+s*6777216+u*6710656,h=s+u*8147497,d=u*2;const y=1e7;return c>=y&&(h+=Math.floor(c/y),c%=y),h>=y&&(d+=Math.floor(h/y),h%=y),d.toString()+Jy(h)+Jy(c)}function zA(i,e){return{lo:i>>>0,hi:e>>>0}}function Kf(i,e){return{lo:i|0,hi:e|0}}function pb(i,e){return e=~e,i?i=~i+1:e+=1,Kf(i,e)}const Jy=i=>{const e=String(i);return"0000000".slice(e.length)+e};function Cf(i,e){if(i>=0){for(;i>127;)e.push(i&127|128),i=i>>>7;e.push(i)}else{for(let a=0;a<9;a++)e.push(i&127|128),i=i>>7;e.push(1)}}function YA(){let i=this.buf[this.pos++],e=i&127;if((i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<7,(i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<14,(i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<21,(i&128)==0)return this.assertBounds(),e;i=this.buf[this.pos++],e|=(i&15)<<28;for(let a=5;(i&128)!==0&&a<10;a++)i=this.buf[this.pos++];if((i&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var ky={};const ke=GA();function GA(){const i=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof i.getBigInt64=="function"&&typeof i.getBigUint64=="function"&&typeof i.setBigInt64=="function"&&typeof i.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof ky!="object"||ky.BUF_BIGINT_DISABLE!=="1")){const a=BigInt("-9223372036854775808"),s=BigInt("9223372036854775807"),u=BigInt("0"),c=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(h){const d=typeof h=="bigint"?h:BigInt(h);if(d>s||d<a)throw new Error(`invalid int64: ${h}`);return d},uParse(h){const d=typeof h=="bigint"?h:BigInt(h);if(d>c||d<u)throw new Error(`invalid uint64: ${h}`);return d},enc(h){return i.setBigInt64(0,this.parse(h),!0),{lo:i.getInt32(0,!0),hi:i.getInt32(4,!0)}},uEnc(h){return i.setBigInt64(0,this.uParse(h),!0),{lo:i.getInt32(0,!0),hi:i.getInt32(4,!0)}},dec(h,d){return i.setInt32(0,h,!0),i.setInt32(4,d,!0),i.getBigInt64(0,!0)},uDec(h,d){return i.setInt32(0,h,!0),i.setInt32(4,d,!0),i.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(a){return typeof a!="string"&&(a=a.toString()),Fy(a),a},uParse(a){return typeof a!="string"&&(a=a.toString()),jy(a),a},enc(a){return typeof a!="string"&&(a=a.toString()),Fy(a),Xy(a)},uEnc(a){return typeof a!="string"&&(a=a.toString()),jy(a),Xy(a)},dec(a,s){return ZA(a,s)},uDec(a,s){return yb(a,s)}}}function Fy(i){if(!/^-?[0-9]+$/.test(i))throw new Error("invalid int64: "+i)}function jy(i){if(!/^[0-9]+$/.test(i))throw new Error("invalid uint64: "+i)}function pa(i,e){switch(i){case I.STRING:return"";case I.BOOL:return!1;case I.DOUBLE:case I.FLOAT:return 0;case I.INT64:case I.UINT64:case I.SFIXED64:case I.FIXED64:case I.SINT64:return e?"0":ke.zero;case I.BYTES:return new Uint8Array(0);default:return 0}}function _A(i,e){switch(i){case I.BOOL:return e===!1;case I.STRING:return e==="";case I.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}const bb=2,ri=Symbol.for("reflect unsafe local");function vb(i,e){const a=i[e.localName].case;return a===void 0?a:e.fields.find(s=>s.localName===a)}function WA(i,e){const a=e.localName;if(e.oneof)return i[e.oneof.localName].case===a;if(e.presence!=bb)return i[a]!==void 0&&Object.prototype.hasOwnProperty.call(i,a);switch(e.fieldKind){case"list":return i[a].length>0;case"map":return Object.keys(i[a]).length>0;case"scalar":return!_A(e.scalar,i[a]);case"enum":return i[a]!==e.enum.values[0].number}throw new Error("message field with implicit presence")}function Us(i,e){return Object.prototype.hasOwnProperty.call(i,e)&&i[e]!==void 0}function Sb(i,e){if(e.oneof){const a=i[e.oneof.localName];return a.case===e.localName?a.value:void 0}return i[e.localName]}function Ab(i,e,a){e.oneof?i[e.oneof.localName]={case:e.localName,value:a}:i[e.localName]=a}function KA(i,e){const a=e.localName;if(e.oneof){const s=e.oneof.localName;i[s].case===a&&(i[s]={case:void 0})}else if(e.presence!=bb)delete i[a];else switch(e.fieldKind){case"map":i[a]={};break;case"list":i[a]=[];break;case"enum":i[a]=e.enum.values[0].number;break;case"scalar":i[a]=pa(e.scalar,e.longAsString);break}}function Ki(i){return i!==null&&typeof i=="object"&&!Array.isArray(i)}function Xf(i,e){var a,s,u,c;if(Ki(i)&&ri in i&&"add"in i&&"field"in i&&typeof i.field=="function"){if(e!==void 0){const h=e,d=i.field();return h.listKind==d.listKind&&h.scalar===d.scalar&&((a=h.message)===null||a===void 0?void 0:a.typeName)===((s=d.message)===null||s===void 0?void 0:s.typeName)&&((u=h.enum)===null||u===void 0?void 0:u.typeName)===((c=d.enum)===null||c===void 0?void 0:c.typeName)}return!0}return!1}function Jf(i,e){var a,s,u,c;if(Ki(i)&&ri in i&&"has"in i&&"field"in i&&typeof i.field=="function"){if(e!==void 0){const h=e,d=i.field();return h.mapKey===d.mapKey&&h.mapKind==d.mapKind&&h.scalar===d.scalar&&((a=h.message)===null||a===void 0?void 0:a.typeName)===((s=d.message)===null||s===void 0?void 0:s.typeName)&&((u=h.enum)===null||u===void 0?void 0:u.typeName)===((c=d.enum)===null||c===void 0?void 0:c.typeName)}return!0}return!1}function kf(i,e){return Ki(i)&&ri in i&&"desc"in i&&Ki(i.desc)&&i.desc.kind==="message"&&(e===void 0||i.desc.typeName==e.typeName)}function XA(i){return Eb(i.$typeName)}function Xs(i){const e=i.fields[0];return Eb(i.typeName)&&e!==void 0&&e.fieldKind=="scalar"&&e.name=="value"&&e.number==1}function Eb(i){return i.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(i.substring(16))}const JA=999,kA=998,Nu=2;function H(i,e){if(Wf(e,i))return e;const a=$A(i);return e!==void 0&&FA(i,a,e),a}function FA(i,e,a){for(const s of i.members){let u=a[s.localName];if(u==null)continue;let c;if(s.kind=="oneof"){const h=vb(a,s);if(!h)continue;c=h,u=Sb(a,h)}else c=s;switch(c.fieldKind){case"message":u=Ff(c,u);break;case"scalar":u=Nb(c,u);break;case"list":u=HA(c,u);break;case"map":u=jA(c,u);break}Ab(e,c,u)}return e}function Nb(i,e){return i.scalar==I.BYTES?jf(e):e}function jA(i,e){if(Ki(e)){if(i.scalar==I.BYTES)return Hy(e,jf);if(i.mapKind=="message")return Hy(e,a=>Ff(i,a))}return e}function HA(i,e){if(Array.isArray(e)){if(i.scalar==I.BYTES)return e.map(jf);if(i.listKind=="message")return e.map(a=>Ff(i,a))}return e}function Ff(i,e){if(i.fieldKind=="message"&&!i.oneof&&Xs(i.message))return Nb(i.message.fields[0],e);if(Ki(e)){if(i.message.typeName=="google.protobuf.Struct"&&i.parent.typeName!=="google.protobuf.Value")return e;if(!Wf(e,i.message))return H(i.message,e)}return e}function jf(i){return Array.isArray(i)?new Uint8Array(i):i}function Hy(i,e){const a={};for(const s of Object.entries(i))a[s[0]]=e(s[1]);return a}const QA=Symbol(),Qy=new WeakMap;function $A(i){let e;if(PA(i)){const a=Qy.get(i);let s,u;if(a)({prototype:s,members:u}=a);else{s={},u=new Set;for(const c of i.members)c.kind!="oneof"&&(c.fieldKind!="scalar"&&c.fieldKind!="enum"||c.presence!=Nu&&(u.add(c),s[c.localName]=pf(c)));Qy.set(i,{prototype:s,members:u})}e=Object.create(s),e.$typeName=i.typeName;for(const c of i.members)u.has(c)||c.kind=="field"&&(c.fieldKind=="message"||(c.fieldKind=="scalar"||c.fieldKind=="enum")&&c.presence!=Nu)||(e[c.localName]=pf(c))}else{e={$typeName:i.typeName};for(const a of i.members)(a.kind=="oneof"||a.presence==Nu)&&(e[a.localName]=pf(a))}return e}function PA(i){switch(i.file.edition){case JA:return!1;case kA:return!0;default:return i.fields.some(e=>e.presence!=Nu&&e.fieldKind!="message"&&!e.oneof)}}function pf(i){if(i.kind=="oneof")return{case:void 0};if(i.fieldKind=="list")return[];if(i.fieldKind=="map")return{};if(i.fieldKind=="message")return QA;const e=i.getDefaultValue();return e!==void 0?i.fieldKind=="scalar"&&i.longAsString?e.toString():e:i.fieldKind=="scalar"?pa(i.scalar,i.longAsString):i.enum.values[0].number}const qA=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class Bt extends Error{constructor(e,a,s="FieldValueInvalidError"){super(a),this.name=s,this.field=()=>e}}function eE(i){return i instanceof Error&&qA.includes(i.name)&&"field"in i&&typeof i.field=="function"}const bf=Symbol.for("@bufbuild/protobuf/text-encoding");function Hf(){if(globalThis[bf]==null){const i=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[bf]={encodeUtf8(a){return i.encode(a)},decodeUtf8(a){return e.decode(a)},checkUtf8(a){try{return encodeURIComponent(a),!0}catch{return!1}}}}return globalThis[bf]}var et;(function(i){i[i.Varint=0]="Varint",i[i.Bit64=1]="Bit64",i[i.LengthDelimited=2]="LengthDelimited",i[i.StartGroup=3]="StartGroup",i[i.EndGroup=4]="EndGroup",i[i.Bit32=5]="Bit32"})(et||(et={}));const Tb=34028234663852886e22,Rb=-34028234663852886e22,Ib=4294967295,Cb=2147483647,wb=-2147483648;class Db{constructor(e=Hf().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let u=0;u<this.chunks.length;u++)e+=this.chunks[u].length;let a=new Uint8Array(e),s=0;for(let u=0;u<this.chunks.length;u++)a.set(this.chunks[u],s),s+=this.chunks[u].length;return this.chunks=[],a}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),a=this.stack.pop();if(!a)throw new Error("invalid state, fork stack empty");return this.chunks=a.chunks,this.buf=a.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,a){return this.uint32((e<<3|a)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for($y(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return vf(e),Cf(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let a=this.encodeUtf8(e);return this.uint32(a.byteLength),this.raw(a)}float(e){tE(e);let a=new Uint8Array(4);return new DataView(a.buffer).setFloat32(0,e,!0),this.raw(a)}double(e){let a=new Uint8Array(8);return new DataView(a.buffer).setFloat64(0,e,!0),this.raw(a)}fixed32(e){$y(e);let a=new Uint8Array(4);return new DataView(a.buffer).setUint32(0,e,!0),this.raw(a)}sfixed32(e){vf(e);let a=new Uint8Array(4);return new DataView(a.buffer).setInt32(0,e,!0),this.raw(a)}sint32(e){return vf(e),e=(e<<1^e>>31)>>>0,Cf(e,this.buf),this}sfixed64(e){let a=new Uint8Array(8),s=new DataView(a.buffer),u=ke.enc(e);return s.setInt32(0,u.lo,!0),s.setInt32(4,u.hi,!0),this.raw(a)}fixed64(e){let a=new Uint8Array(8),s=new DataView(a.buffer),u=ke.uEnc(e);return s.setInt32(0,u.lo,!0),s.setInt32(4,u.hi,!0),this.raw(a)}int64(e){let a=ke.enc(e);return yf(a.lo,a.hi,this.buf),this}sint64(e){const a=ke.enc(e),s=a.hi>>31,u=a.lo<<1^s,c=(a.hi<<1|a.lo>>>31)^s;return yf(u,c,this.buf),this}uint64(e){const a=ke.uEnc(e);return yf(a.lo,a.hi,this.buf),this}}class Qf{constructor(e,a=Hf().decodeUtf8){this.decodeUtf8=a,this.varint64=MA,this.uint32=YA,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),a=e>>>3,s=e&7;if(a<=0||s<0||s>5)throw new Error("illegal tag: field no "+a+" wire type "+s);return[a,s]}skip(e,a){let s=this.pos;switch(e){case et.Varint:for(;this.buf[this.pos++]&128;);break;case et.Bit64:this.pos+=4;case et.Bit32:this.pos+=4;break;case et.LengthDelimited:let u=this.uint32();this.pos+=u;break;case et.StartGroup:for(;;){const[c,h]=this.tag();if(h===et.EndGroup){if(a!==void 0&&c!==a)throw new Error("invalid end group tag");break}this.skip(h,c)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(s,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return ke.dec(...this.varint64())}uint64(){return ke.uDec(...this.varint64())}sint64(){let[e,a]=this.varint64(),s=-(e&1);return e=(e>>>1|(a&1)<<31)^s,a=a>>>1^s,ke.dec(e,a)}bool(){let[e,a]=this.varint64();return e!==0||a!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return ke.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return ke.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),a=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(a,a+e)}string(){return this.decodeUtf8(this.bytes())}}function vf(i){if(typeof i=="string")i=Number(i);else if(typeof i!="number")throw new Error("invalid int32: "+typeof i);if(!Number.isInteger(i)||i>Cb||i<wb)throw new Error("invalid int32: "+i)}function $y(i){if(typeof i=="string")i=Number(i);else if(typeof i!="number")throw new Error("invalid uint32: "+typeof i);if(!Number.isInteger(i)||i>Ib||i<0)throw new Error("invalid uint32: "+i)}function tE(i){if(typeof i=="string"){const e=i;if(i=Number(i),Number.isNaN(i)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof i!="number")throw new Error("invalid float32: "+typeof i);if(Number.isFinite(i)&&(i>Tb||i<Rb))throw new Error("invalid float32: "+i)}function ha(i,e){const a=i.fieldKind=="list"?Xf(e,i):i.fieldKind=="map"?Jf(e,i):$f(i,e);if(a===!0)return;let s;switch(i.fieldKind){case"list":s=`expected ${xb(i)}, got ${ct(e)}`;break;case"map":s=`expected ${Ub(i)}, got ${ct(e)}`;break;default:s=Ru(i,e,a)}return new Bt(i,s)}function Py(i,e,a){const s=$f(i,a);if(s!==!0)return new Bt(i,`list item #${e+1}: ${Ru(i,a,s)}`)}function nE(i,e,a){const s=Ob(e,i.mapKey);if(s!==!0)return new Bt(i,`invalid map key: ${Ru({scalar:i.mapKey},e,s)}`);const u=$f(i,a);if(u!==!0)return new Bt(i,`map entry ${ct(e)}: ${Ru(i,a,u)}`)}function $f(i,e){return i.scalar!==void 0?Ob(e,i.scalar):i.enum!==void 0?i.enum.open?Number.isInteger(e):i.enum.values.some(a=>a.number===e):kf(e,i.message)}function Ob(i,e){switch(e){case I.DOUBLE:return typeof i=="number";case I.FLOAT:return typeof i!="number"?!1:Number.isNaN(i)||!Number.isFinite(i)?!0:i>Tb||i<Rb?`${i.toFixed()} out of range`:!0;case I.INT32:case I.SFIXED32:case I.SINT32:return typeof i!="number"||!Number.isInteger(i)?!1:i>Cb||i<wb?`${i.toFixed()} out of range`:!0;case I.FIXED32:case I.UINT32:return typeof i!="number"||!Number.isInteger(i)?!1:i>Ib||i<0?`${i.toFixed()} out of range`:!0;case I.BOOL:return typeof i=="boolean";case I.STRING:return typeof i!="string"?!1:Hf().checkUtf8(i)||"invalid UTF8";case I.BYTES:return i instanceof Uint8Array;case I.INT64:case I.SFIXED64:case I.SINT64:if(typeof i=="bigint"||typeof i=="number"||typeof i=="string"&&i.length>0)try{return ke.parse(i),!0}catch{return`${i} out of range`}return!1;case I.FIXED64:case I.UINT64:if(typeof i=="bigint"||typeof i=="number"||typeof i=="string"&&i.length>0)try{return ke.uParse(i),!0}catch{return`${i} out of range`}return!1}}function Ru(i,e,a){return a=typeof a=="string"?`: ${a}`:`, got ${ct(e)}`,i.scalar!==void 0?`expected ${iE(i.scalar)}`+a:i.enum!==void 0?`expected ${i.enum.toString()}`+a:`expected ${Vb(i.message)}`+a}function ct(i){switch(typeof i){case"object":return i===null?"null":i instanceof Uint8Array?`Uint8Array(${i.length})`:Array.isArray(i)?`Array(${i.length})`:Xf(i)?xb(i.field()):Jf(i)?Ub(i.field()):kf(i)?Vb(i.desc):Wf(i)?`message ${i.$typeName}`:"object";case"string":return i.length>30?"string":`"${i.split('"').join('\\"')}"`;case"boolean":return String(i);case"number":return String(i);case"bigint":return String(i)+"n";default:return typeof i}}function Vb(i){return`ReflectMessage (${i.typeName})`}function xb(i){switch(i.listKind){case"message":return`ReflectList (${i.message.toString()})`;case"enum":return`ReflectList (${i.enum.toString()})`;case"scalar":return`ReflectList (${I[i.scalar]})`}}function Ub(i){switch(i.mapKind){case"message":return`ReflectMap (${I[i.mapKey]}, ${i.message.toString()})`;case"enum":return`ReflectMap (${I[i.mapKey]}, ${i.enum.toString()})`;case"scalar":return`ReflectMap (${I[i.mapKey]}, ${I[i.scalar]})`}}function iE(i){switch(i){case I.STRING:return"string";case I.BOOL:return"boolean";case I.INT64:case I.SINT64:case I.SFIXED64:return"bigint (int64)";case I.UINT64:case I.FIXED64:return"bigint (uint64)";case I.BYTES:return"Uint8Array";case I.DOUBLE:return"number (float64)";case I.FLOAT:return"number (float32)";case I.FIXED32:case I.UINT32:return"number (uint32)";case I.INT32:case I.SFIXED32:case I.SINT32:return"number (int32)"}}function cn(i,e,a=!0){return new Bb(i,e,a)}const qy=new WeakMap;class Bb{get sortedFields(){const e=qy.get(this.desc);if(e)return e;const a=this.desc.fields.concat().sort((s,u)=>s.number-u.number);return qy.set(this.desc,a),a}constructor(e,a,s=!0){this.lists=new Map,this.maps=new Map,this.check=s,this.desc=e,this.message=this[ri]=a??H(e),this.fields=e.fields,this.oneofs=e.oneofs,this.members=e.members}findNumber(e){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(a=>[a.number,a]))),this._fieldsByNumber.get(e)}oneofCase(e){return As(this.message,e),vb(this.message,e)}isSet(e){return As(this.message,e),WA(this.message,e)}clear(e){As(this.message,e),KA(this.message,e)}get(e){As(this.message,e);const a=Sb(this.message,e);switch(e.fieldKind){case"list":let s=this.lists.get(e);return(!s||s[ri]!==a)&&this.lists.set(e,s=new aE(e,a,this.check)),s;case"map":let u=this.maps.get(e);return(!u||u[ri]!==a)&&this.maps.set(e,u=new rE(e,a,this.check)),u;case"message":return qf(e,a,this.check);case"scalar":return a===void 0?pa(e.scalar,!1):eh(e,a);case"enum":return a??e.enum.values[0].number}}set(e,a){if(As(this.message,e),this.check){const u=ha(e,a);if(u)throw u}let s;e.fieldKind=="message"?s=Pf(e,a):Jf(a)||Xf(a)?s=a[ri]:s=th(e,a),Ab(this.message,e,s)}getUnknown(){return this.message.$unknown}setUnknown(e){this.message.$unknown=e}}function As(i,e){if(e.parent.typeName!==i.$typeName)throw new Bt(e,`cannot use ${e.toString()} with message ${i.$typeName}`,"ForeignFieldError")}class aE{field(){return this._field}get size(){return this._arr.length}constructor(e,a,s){this._field=e,this._arr=this[ri]=a,this.check=s}get(e){const a=this._arr[e];return a===void 0?void 0:Sf(this._field,a,this.check)}set(e,a){if(e<0||e>=this._arr.length)throw new Bt(this._field,`list item #${e+1}: out of range`);if(this.check){const s=Py(this._field,e,a);if(s)throw s}this._arr[e]=ep(this._field,a)}add(e){if(this.check){const a=Py(this._field,this._arr.length,e);if(a)throw a}this._arr.push(ep(this._field,e))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const e of this._arr)yield Sf(this._field,e,this.check)}*entries(){for(let e=0;e<this._arr.length;e++)yield[e,Sf(this._field,this._arr[e],this.check)]}}class rE{constructor(e,a,s=!0){this.obj=this[ri]=a??{},this.check=s,this._field=e}field(){return this._field}set(e,a){if(this.check){const s=nE(this._field,e,a);if(s)throw s}return this.obj[gu(e)]=sE(this._field,a),this}delete(e){const a=gu(e),s=Object.prototype.hasOwnProperty.call(this.obj,a);return s&&delete this.obj[a],s}clear(){for(const e of Object.keys(this.obj))delete this.obj[e]}get(e){let a=this.obj[gu(e)];return a!==void 0&&(a=Af(this._field,a,this.check)),a}has(e){return Object.prototype.hasOwnProperty.call(this.obj,gu(e))}*keys(){for(const e of Object.keys(this.obj))yield tp(e,this._field.mapKey)}*entries(){for(const e of Object.entries(this.obj))yield[tp(e[0],this._field.mapKey),Af(this._field,e[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const e of Object.values(this.obj))yield Af(this._field,e,this.check)}forEach(e,a){for(const s of this.entries())e.call(a,s[1],s[0],this)}}function Pf(i,e){return kf(e)?XA(e.message)&&!i.oneof&&i.fieldKind=="message"?e.message.value:e.desc.typeName=="google.protobuf.Struct"&&i.parent.typeName!="google.protobuf.Value"?Mb(e.message):e.message:e}function qf(i,e,a){return e!==void 0&&(Xs(i.message)&&!i.oneof&&i.fieldKind=="message"?e={$typeName:i.message.typeName,value:eh(i.message.fields[0],e)}:i.message.typeName=="google.protobuf.Struct"&&i.parent.typeName!="google.protobuf.Value"&&Ki(e)&&(e=Lb(e))),new Bb(i.message,e,a)}function ep(i,e){return i.listKind=="message"?Pf(i,e):th(i,e)}function Sf(i,e,a){return i.listKind=="message"?qf(i,e,a):eh(i,e)}function sE(i,e){return i.mapKind=="message"?Pf(i,e):th(i,e)}function Af(i,e,a){return i.mapKind=="message"?qf(i,e,a):e}function gu(i){return typeof i=="string"||typeof i=="number"?i:String(i)}function tp(i,e){switch(e){case I.STRING:return i;case I.INT32:case I.FIXED32:case I.UINT32:case I.SFIXED32:case I.SINT32:{const a=Number.parseInt(i);if(Number.isFinite(a))return a;break}case I.BOOL:switch(i){case"true":return!0;case"false":return!1}break;case I.UINT64:case I.FIXED64:try{return ke.uParse(i)}catch{}break;default:try{return ke.parse(i)}catch{}break}return i}function eh(i,e){switch(i.scalar){case I.INT64:case I.SFIXED64:case I.SINT64:"longAsString"in i&&i.longAsString&&typeof e=="string"&&(e=ke.parse(e));break;case I.FIXED64:case I.UINT64:"longAsString"in i&&i.longAsString&&typeof e=="string"&&(e=ke.uParse(e));break}return e}function th(i,e){switch(i.scalar){case I.INT64:case I.SFIXED64:case I.SINT64:"longAsString"in i&&i.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=ke.parse(e));break;case I.FIXED64:case I.UINT64:"longAsString"in i&&i.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=ke.uParse(e));break}return e}function Lb(i){const e={$typeName:"google.protobuf.Struct",fields:{}};if(Ki(i))for(const[a,s]of Object.entries(i))e.fields[a]=zb(s);return e}function Mb(i){const e={};for(const[a,s]of Object.entries(i.fields))e[a]=Zb(s);return e}function Zb(i){switch(i.kind.case){case"structValue":return Mb(i.kind.value);case"listValue":return i.kind.value.values.map(Zb);case"nullValue":case void 0:return null;default:return i.kind.value}}function zb(i){const e={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof i){case"number":e.kind={case:"numberValue",value:i};break;case"string":e.kind={case:"stringValue",value:i};break;case"boolean":e.kind={case:"boolValue",value:i};break;case"object":if(i===null)e.kind={case:"nullValue",value:0};else if(Array.isArray(i)){const a={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(i))for(const s of i)a.values.push(zb(s));e.kind={case:"listValue",value:a}}else e.kind={case:"structValue",value:Lb(i)};break}return e}function nh(i){const e=uE();let a=i.length*3/4;i[i.length-2]=="="?a-=2:i[i.length-1]=="="&&(a-=1);let s=new Uint8Array(a),u=0,c=0,h,d=0;for(let y=0;y<i.length;y++){if(h=e[i.charCodeAt(y)],h===void 0)switch(i[y]){case"=":c=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(c){case 0:d=h,c=1;break;case 1:s[u++]=d<<2|(h&48)>>4,d=h,c=2;break;case 2:s[u++]=(d&15)<<4|(h&60)>>2,d=h,c=3;break;case 3:s[u++]=(d&3)<<6|h,c=0;break}}if(c==1)throw Error("invalid base64 string");return s.subarray(0,u)}function lE(i,e="std"){const a=Yb(e),s=e=="std";let u="",c=0,h,d=0;for(let y=0;y<i.length;y++)switch(h=i[y],c){case 0:u+=a[h>>2],d=(h&3)<<4,c=1;break;case 1:u+=a[d|h>>4],d=(h&15)<<2,c=2;break;case 2:u+=a[d|h>>6],u+=a[h&63],c=0;break}return c&&(u+=a[d],s&&(u+="=",c==1&&(u+="="))),u}let mu,np,ar;function Yb(i){return mu||(mu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),np=mu.slice(0,-2).concat("-","_")),i=="url"?np:mu}function uE(){if(!ar){ar=[];const i=Yb("std");for(let e=0;e<i.length;e++)ar[i[e].charCodeAt(0)]=e;ar[45]=i.indexOf("+"),ar[95]=i.indexOf("/")}return ar}function Bs(i){let e=!1;const a=[];for(let s=0;s<i.length;s++){let u=i.charAt(s);switch(u){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":a.push(u),e=!1;break;default:e&&(e=!1,u=u.toUpperCase()),a.push(u);break}}return a.join("")}const oE=new Set(["constructor","toString","toJSON","valueOf"]);function Ls(i){return oE.has(i)?i+"$":i}function ih(i){for(const e of i.field)Us(e,"jsonName")||(e.jsonName=Bs(e.name));i.nestedType.forEach(ih)}function cE(i,e){const a=i.values.find(s=>s.name===e);if(!a)throw new Error(`cannot parse ${i} default value: ${e}`);return a.number}function fE(i,e){switch(i){case I.STRING:return e;case I.BYTES:{const a=hE(e);if(a===!1)throw new Error(`cannot parse ${I[i]} default value: ${e}`);return a}case I.INT64:case I.SFIXED64:case I.SINT64:return ke.parse(e);case I.UINT64:case I.FIXED64:return ke.uParse(e);case I.DOUBLE:case I.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case I.BOOL:return e==="true";case I.INT32:case I.UINT32:case I.SINT32:case I.FIXED32:case I.SFIXED32:return parseInt(e,10)}}function hE(i){const e=[],a={tail:i,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(s){if(this.tail.length>=s){const u=this.tail.substring(0,s);return this.tail=this.tail.substring(s),u}return!1}};for(;a.next();)switch(a.c){case"\\":if(a.next())switch(a.c){case"\\":e.push(a.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const s=a.c,u=a.take(2);if(u===!1)return!1;const c=parseInt(s+u,8);if(Number.isNaN(c))return!1;e.push(c);break}case"x":{const s=a.c,u=a.take(2);if(u===!1)return!1;const c=parseInt(s+u,16);if(Number.isNaN(c))return!1;e.push(c);break}case"u":{const s=a.c,u=a.take(4);if(u===!1)return!1;const c=parseInt(s+u,16);if(Number.isNaN(c))return!1;const h=new Uint8Array(4);new DataView(h.buffer).setInt32(0,c,!0),e.push(h[0],h[1],h[2],h[3]);break}case"U":{const s=a.c,u=a.take(8);if(u===!1)return!1;const c=ke.uEnc(s+u),h=new Uint8Array(8),d=new DataView(h.buffer);d.setInt32(0,c.lo,!0),d.setInt32(4,c.hi,!0),e.push(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7]);break}}break;default:e.push(a.c.charCodeAt(0))}return new Uint8Array(e)}function*wf(i){switch(i.kind){case"file":for(const e of i.messages)yield e,yield*wf(e);yield*i.enums,yield*i.services,yield*i.extensions;break;case"message":for(const e of i.nestedMessages)yield e,yield*wf(e);yield*i.nestedEnums,yield*i.nestedExtensions;break}}function Gb(...i){const e=dE();if(!i.length)return e;if("$typeName"in i[0]&&i[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const s of i[0].file)sp(s,e);return e}if("$typeName"in i[0]){let h=function(d){const y=[];for(const m of d.dependency){if(e.getFile(m)!=null||c.has(m))continue;const v=u(m);if(!v)throw new Error(`Unable to resolve ${m}, imported by ${d.name}`);"kind"in v?e.addFile(v,!1,!0):(c.add(v.name),y.push(v))}return y.concat(...y.map(h))};var a=h;const s=i[0],u=i[1],c=new Set;for(const d of[s,...h(s)].reverse())sp(d,e)}else for(const s of i)for(const u of s.files)e.addFile(u);return e}function dE(){const i=new Map,e=new Map,a=new Map;return{kind:"registry",types:i,extendees:e,[Symbol.iterator](){return i.values()},get files(){return a.values()},addFile(s,u,c){if(a.set(s.proto.name,s),!u)for(const h of wf(s))this.add(h);if(c)for(const h of s.dependencies)this.addFile(h,u,c)},add(s){if(s.kind=="extension"){let u=e.get(s.extendee.typeName);u||e.set(s.extendee.typeName,u=new Map),u.set(s.number,s)}i.set(s.typeName,s)},get(s){return i.get(s)},getFile(s){return a.get(s)},getMessage(s){const u=i.get(s);return u?.kind=="message"?u:void 0},getEnum(s){const u=i.get(s);return u?.kind=="enum"?u:void 0},getExtension(s){const u=i.get(s);return u?.kind=="extension"?u:void 0},getExtensionFor(s,u){var c;return(c=e.get(s.typeName))===null||c===void 0?void 0:c.get(u)},getService(s){const u=i.get(s);return u?.kind=="service"?u:void 0}}}const gE=998,mE=999,yE=9,Ms=10,Cs=11,pE=12,ip=14,ah=3,bE=2,ap=1,vE=0,Ef=1,rp=2,SE=3,AE=1,EE=2,NE=1,_b={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function sp(i,e){var a,s;const u={kind:"file",proto:i,deprecated:(s=(a=i.options)===null||a===void 0?void 0:a.deprecated)!==null&&s!==void 0?s:!1,edition:CE(i),name:i.name.replace(/\.proto$/,""),dependencies:wE(i,e),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${i.name}`}},c=new Map,h={get(d){return c.get(d)},add(d){var y;En(((y=d.proto.options)===null||y===void 0?void 0:y.mapEntry)===!0),c.set(d.typeName,d)}};for(const d of i.enumType)Wb(d,u,void 0,e);for(const d of i.messageType)Kb(d,u,void 0,e,h);for(const d of i.service)TE(d,u,e);Df(u,e);for(const d of c.values())Of(d,e,h);for(const d of u.messages)Of(d,e,h),Df(d,e);e.addFile(u,!0)}function Df(i,e){switch(i.kind){case"file":for(const a of i.proto.extension){const s=Vf(a,i,e);i.extensions.push(s),e.add(s)}break;case"message":for(const a of i.proto.extension){const s=Vf(a,i,e);i.nestedExtensions.push(s),e.add(s)}for(const a of i.nestedMessages)Df(a,e);break}}function Of(i,e,a){const s=i.proto.oneofDecl.map(c=>IE(c,i)),u=new Set;for(const c of i.proto.field){const h=VE(c,s),d=Vf(c,i,e,h,a);i.fields.push(d),i.field[d.localName]=d,h===void 0?i.members.push(d):(h.fields.push(d),u.has(h)||(u.add(h),i.members.push(h)))}for(const c of s.filter(h=>u.has(h)))i.oneofs.push(c);for(const c of i.nestedMessages)Of(c,e,a)}function Wb(i,e,a,s){var u,c,h,d,y;const m=DE(i.name,i.value),v={kind:"enum",proto:i,deprecated:(c=(u=i.options)===null||u===void 0?void 0:u.deprecated)!==null&&c!==void 0?c:!1,file:e,parent:a,open:!0,name:i.name,typeName:Uu(i,a,e),value:{},values:[],sharedPrefix:m,toString(){return`enum ${this.typeName}`}};v.open=LE(v),s.add(v);for(const N of i.value){const V=N.name;v.values.push(v.value[N.number]={kind:"enum_value",proto:N,deprecated:(d=(h=N.options)===null||h===void 0?void 0:h.deprecated)!==null&&d!==void 0?d:!1,parent:v,name:V,localName:Ls(m==null?V:V.substring(m.length)),number:N.number,toString(){return`enum value ${v.typeName}.${V}`}})}((y=a?.nestedEnums)!==null&&y!==void 0?y:e.enums).push(v)}function Kb(i,e,a,s,u){var c,h,d,y;const m={kind:"message",proto:i,deprecated:(h=(c=i.options)===null||c===void 0?void 0:c.deprecated)!==null&&h!==void 0?h:!1,file:e,parent:a,name:i.name,typeName:Uu(i,a,e),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((d=i.options)===null||d===void 0?void 0:d.mapEntry)===!0?u.add(m):(((y=a?.nestedMessages)!==null&&y!==void 0?y:e.messages).push(m),s.add(m));for(const v of i.enumType)Wb(v,e,m,s);for(const v of i.nestedType)Kb(v,e,m,s,u)}function TE(i,e,a){var s,u;const c={kind:"service",proto:i,deprecated:(u=(s=i.options)===null||s===void 0?void 0:s.deprecated)!==null&&u!==void 0?u:!1,file:e,name:i.name,typeName:Uu(i,void 0,e),methods:[],method:{},toString(){return`service ${this.typeName}`}};e.services.push(c),a.add(c);for(const h of i.method){const d=RE(h,c,a);c.methods.push(d),c.method[d.localName]=d}}function RE(i,e,a){var s,u,c,h;let d;i.clientStreaming&&i.serverStreaming?d="bidi_streaming":i.clientStreaming?d="client_streaming":i.serverStreaming?d="server_streaming":d="unary";const y=a.getMessage(ai(i.inputType)),m=a.getMessage(ai(i.outputType));En(y,`invalid MethodDescriptorProto: input_type ${i.inputType} not found`),En(m,`invalid MethodDescriptorProto: output_type ${i.inputType} not found`);const v=i.name;return{kind:"rpc",proto:i,deprecated:(u=(s=i.options)===null||s===void 0?void 0:s.deprecated)!==null&&u!==void 0?u:!1,parent:e,name:v,localName:Ls(v.length?Ls(v[0].toLowerCase()+v.substring(1)):v),methodKind:d,input:y,output:m,idempotency:(h=(c=i.options)===null||c===void 0?void 0:c.idempotencyLevel)!==null&&h!==void 0?h:vE,toString(){return`rpc ${e.typeName}.${v}`}}}function IE(i,e){return{kind:"oneof",proto:i,deprecated:!1,parent:e,fields:[],name:i.name,localName:Ls(Bs(i.name)),toString(){return`oneof ${e.typeName}.${this.name}`}}}function Vf(i,e,a,s,u){var c,h,d;const y=u===void 0,m={kind:"field",proto:i,deprecated:(h=(c=i.options)===null||c===void 0?void 0:c.deprecated)!==null&&h!==void 0?h:!1,name:i.name,number:i.number,scalar:void 0,message:void 0,enum:void 0,presence:xE(i,s,y,e),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(y){const C=e.kind=="file"?e:e.file,L=e.kind=="file"?void 0:e,Y=Uu(i,L,C);m.kind="extension",m.file=C,m.parent=L,m.oneof=void 0,m.typeName=Y,m.jsonName=`[${Y}]`,m.toString=()=>`extension ${Y}`;const F=a.getMessage(ai(i.extendee));En(F,`invalid FieldDescriptorProto: extendee ${i.extendee} not found`),m.extendee=F}else{const C=e;En(C.kind=="message"),m.parent=C,m.oneof=s,m.localName=s?Bs(i.name):Ls(Bs(i.name)),m.jsonName=i.jsonName,m.toString=()=>`field ${C.typeName}.${i.name}`}const v=i.label,N=i.type,V=(d=i.options)===null||d===void 0?void 0:d.jstype;if(v===ah){const C=N==Cs?u?.get(ai(i.typeName)):void 0;if(C){m.fieldKind="map";const{key:L,value:Y}=BE(C);return m.mapKey=L.scalar,m.mapKind=Y.fieldKind,m.message=Y.message,m.delimitedEncoding=!1,m.enum=Y.enum,m.scalar=Y.scalar,m}switch(m.fieldKind="list",N){case Cs:case Ms:m.listKind="message",m.message=a.getMessage(ai(i.typeName)),En(m.message),m.delimitedEncoding=lp(i,e);break;case ip:m.listKind="enum",m.enum=a.getEnum(ai(i.typeName)),En(m.enum);break;default:m.listKind="scalar",m.scalar=N,m.longAsString=V==ap;break}return m.packed=UE(i,e),m}switch(N){case Cs:case Ms:m.fieldKind="message",m.message=a.getMessage(ai(i.typeName)),En(m.message,`invalid FieldDescriptorProto: type_name ${i.typeName} not found`),m.delimitedEncoding=lp(i,e),m.getDefaultValue=()=>{};break;case ip:{const C=a.getEnum(ai(i.typeName));En(C!==void 0,`invalid FieldDescriptorProto: type_name ${i.typeName} not found`),m.fieldKind="enum",m.enum=a.getEnum(ai(i.typeName)),m.getDefaultValue=()=>Us(i,"defaultValue")?cE(C,i.defaultValue):void 0;break}default:{m.fieldKind="scalar",m.scalar=N,m.longAsString=V==ap,m.getDefaultValue=()=>Us(i,"defaultValue")?fE(N,i.defaultValue):void 0;break}}return m}function CE(i){switch(i.syntax){case"":case"proto2":return gE;case"proto3":return mE;case"editions":if(i.edition in _b)return i.edition;throw new Error(`${i.name}: unsupported edition`);default:throw new Error(`${i.name}: unsupported syntax "${i.syntax}"`)}}function wE(i,e){return i.dependency.map(a=>{const s=e.getFile(a);if(!s)throw new Error(`Cannot find ${a}, imported by ${i.name}`);return s})}function DE(i,e){const a=OE(i)+"_";for(const s of e){if(!s.name.toLowerCase().startsWith(a))return;const u=s.name.substring(a.length);if(u.length==0||/^\d/.test(u))return}return a}function OE(i){return(i.substring(0,1)+i.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function Uu(i,e,a){let s;return e?s=`${e.typeName}.${i.name}`:a.proto.package.length>0?s=`${a.proto.package}.${i.name}`:s=`${i.name}`,s}function ai(i){return i.startsWith(".")?i.substring(1):i}function VE(i,e){if(!Us(i,"oneofIndex")||i.proto3Optional)return;const a=e[i.oneofIndex];return En(a,`invalid FieldDescriptorProto: oneof #${i.oneofIndex} for field #${i.number} not found`),a}function xE(i,e,a,s){if(i.label==bE)return SE;if(i.label==ah)return rp;if(e||i.proto3Optional||a)return Ef;const u=gr("fieldPresence",{proto:i,parent:s});return u==rp&&(i.type==Cs||i.type==Ms)?Ef:u}function UE(i,e){if(i.label!=ah)return!1;switch(i.type){case yE:case pE:case Ms:case Cs:return!1}const a=i.options;return a&&Us(a,"packed")?a.packed:AE==gr("repeatedFieldEncoding",{proto:i,parent:e})}function BE(i){const e=i.fields.find(s=>s.number===1),a=i.fields.find(s=>s.number===2);return En(e&&e.fieldKind=="scalar"&&e.scalar!=I.BYTES&&e.scalar!=I.FLOAT&&e.scalar!=I.DOUBLE&&a&&a.fieldKind!="list"&&a.fieldKind!="map"),{key:e,value:a}}function LE(i){var e;return NE==gr("enumType",{proto:i.proto,parent:(e=i.parent)!==null&&e!==void 0?e:i.file})}function lp(i,e){return i.type==Ms?!0:EE==gr("messageEncoding",{proto:i,parent:e})}function gr(i,e){var a,s;const u=(a=e.proto.options)===null||a===void 0?void 0:a.features;if(u){const c=u[i];if(c!=0)return c}if("kind"in e){if(e.kind=="message")return gr(i,(s=e.parent)!==null&&s!==void 0?s:e.file);const c=_b[e.edition];if(!c)throw new Error(`feature default for edition ${e.edition} not found`);return c[i]}return gr(i,e.parent)}function En(i,e){if(!i)throw new Error(e)}function ME(i){const e=ZE(i);return e.messageType.forEach(ih),Gb(e,()=>{}).getFile(e.name)}function ZE(i){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},i),{messageType:i.messageType.map(Xb),enumType:i.enumType.map(Jb)}))}function Xb(i){var e,a,s,u,c,h,d,y;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:i.name,field:(a=(e=i.field)===null||e===void 0?void 0:e.map(zE))!==null&&a!==void 0?a:[],extension:[],nestedType:(u=(s=i.nestedType)===null||s===void 0?void 0:s.map(Xb))!==null&&u!==void 0?u:[],enumType:(h=(c=i.enumType)===null||c===void 0?void 0:c.map(Jb))!==null&&h!==void 0?h:[],extensionRange:(y=(d=i.extensionRange)===null||d===void 0?void 0:d.map(v=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},v)))!==null&&y!==void 0?y:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function zE(i){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},i),{options:i.options?YE(i.options):void 0}))}function YE(i){var e,a,s;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},i),{targets:(e=i.targets)!==null&&e!==void 0?e:[],editionDefaults:(s=(a=i.editionDefaults)===null||a===void 0?void 0:a.map(c=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},c)))!==null&&s!==void 0?s:[],uninterpretedOption:[]}))}function Jb(i){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:i.name,reservedName:[],reservedRange:[],value:i.value.map(a=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},a))})}function ae(i,e,...a){return a.reduce((s,u)=>s.nestedMessages[u],i.messages[e])}const GE=ME({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),_E=ae(GE,1);var up;(function(i){i[i.DECLARATION=0]="DECLARATION",i[i.UNVERIFIED=1]="UNVERIFIED"})(up||(up={}));var op;(function(i){i[i.DOUBLE=1]="DOUBLE",i[i.FLOAT=2]="FLOAT",i[i.INT64=3]="INT64",i[i.UINT64=4]="UINT64",i[i.INT32=5]="INT32",i[i.FIXED64=6]="FIXED64",i[i.FIXED32=7]="FIXED32",i[i.BOOL=8]="BOOL",i[i.STRING=9]="STRING",i[i.GROUP=10]="GROUP",i[i.MESSAGE=11]="MESSAGE",i[i.BYTES=12]="BYTES",i[i.UINT32=13]="UINT32",i[i.ENUM=14]="ENUM",i[i.SFIXED32=15]="SFIXED32",i[i.SFIXED64=16]="SFIXED64",i[i.SINT32=17]="SINT32",i[i.SINT64=18]="SINT64"})(op||(op={}));var cp;(function(i){i[i.OPTIONAL=1]="OPTIONAL",i[i.REPEATED=3]="REPEATED",i[i.REQUIRED=2]="REQUIRED"})(cp||(cp={}));var fp;(function(i){i[i.SPEED=1]="SPEED",i[i.CODE_SIZE=2]="CODE_SIZE",i[i.LITE_RUNTIME=3]="LITE_RUNTIME"})(fp||(fp={}));var hp;(function(i){i[i.STRING=0]="STRING",i[i.CORD=1]="CORD",i[i.STRING_PIECE=2]="STRING_PIECE"})(hp||(hp={}));var dp;(function(i){i[i.JS_NORMAL=0]="JS_NORMAL",i[i.JS_STRING=1]="JS_STRING",i[i.JS_NUMBER=2]="JS_NUMBER"})(dp||(dp={}));var gp;(function(i){i[i.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",i[i.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",i[i.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(gp||(gp={}));var mp;(function(i){i[i.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",i[i.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",i[i.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",i[i.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",i[i.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",i[i.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",i[i.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",i[i.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",i[i.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",i[i.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(mp||(mp={}));var yp;(function(i){i[i.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",i[i.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",i[i.IDEMPOTENT=2]="IDEMPOTENT"})(yp||(yp={}));var pp;(function(i){i[i.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",i[i.EXPORT_ALL=1]="EXPORT_ALL",i[i.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",i[i.LOCAL_ALL=3]="LOCAL_ALL",i[i.STRICT=4]="STRICT"})(pp||(pp={}));var bp;(function(i){i[i.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",i[i.EXPLICIT=1]="EXPLICIT",i[i.IMPLICIT=2]="IMPLICIT",i[i.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(bp||(bp={}));var vp;(function(i){i[i.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",i[i.OPEN=1]="OPEN",i[i.CLOSED=2]="CLOSED"})(vp||(vp={}));var Sp;(function(i){i[i.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",i[i.PACKED=1]="PACKED",i[i.EXPANDED=2]="EXPANDED"})(Sp||(Sp={}));var Ap;(function(i){i[i.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",i[i.VERIFY=2]="VERIFY",i[i.NONE=3]="NONE"})(Ap||(Ap={}));var Ep;(function(i){i[i.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",i[i.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",i[i.DELIMITED=2]="DELIMITED"})(Ep||(Ep={}));var Np;(function(i){i[i.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",i[i.ALLOW=1]="ALLOW",i[i.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(Np||(Np={}));var Tp;(function(i){i[i.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",i[i.STYLE2024=1]="STYLE2024",i[i.STYLE_LEGACY=2]="STYLE_LEGACY"})(Tp||(Tp={}));var Rp;(function(i){i[i.NONE=0]="NONE",i[i.SET=1]="SET",i[i.ALIAS=2]="ALIAS"})(Rp||(Rp={}));var Ip;(function(i){i[i.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",i[i.EDITION_LEGACY=900]="EDITION_LEGACY",i[i.EDITION_PROTO2=998]="EDITION_PROTO2",i[i.EDITION_PROTO3=999]="EDITION_PROTO3",i[i.EDITION_2023=1e3]="EDITION_2023",i[i.EDITION_2024=1001]="EDITION_2024",i[i.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",i[i.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",i[i.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",i[i.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",i[i.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",i[i.EDITION_MAX=2147483647]="EDITION_MAX"})(Ip||(Ip={}));var Cp;(function(i){i[i.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",i[i.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",i[i.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})(Cp||(Cp={}));const wp={readUnknownFields:!0};function WE(i){return i?Object.assign(Object.assign({},wp),i):wp}function fn(i,e,a){const s=cn(i,void 0,!1);return kb(s,new Qf(e),WE(a),!1,e.byteLength),s.message}function kb(i,e,a,s,u){var c;const h=s?e.len:e.pos+u;let d,y;const m=(c=i.getUnknown())!==null&&c!==void 0?c:[];for(;e.pos<h&&([d,y]=e.tag(),!(s&&y==et.EndGroup));){const v=i.findNumber(d);if(!v){const N=e.skip(y,d);a.readUnknownFields&&m.push({no:d,wireType:y,data:N});continue}Fb(i,e,v,y,a)}if(s&&(y!=et.EndGroup||d!==u))throw new Error("invalid end group tag");m.length>0&&i.setUnknown(m)}function Fb(i,e,a,s,u){var c;switch(a.fieldKind){case"scalar":i.set(a,mr(e,a.scalar));break;case"enum":const h=mr(e,I.INT32);if(a.enum.open)i.set(a,h);else if(a.enum.values.some(y=>y.number===h))i.set(a,h);else if(u.readUnknownFields){const y=[];Cf(h,y);const m=(c=i.getUnknown())!==null&&c!==void 0?c:[];m.push({no:a.number,wireType:s,data:new Uint8Array(y)}),i.setUnknown(m)}break;case"message":i.set(a,rh(e,u,a,i.get(a)));break;case"list":XE(e,s,i.get(a),u);break;case"map":KE(e,i.get(a),u);break}}function KE(i,e,a){const s=e.field();let u,c;const h=i.uint32(),d=i.pos+h;for(;i.pos<d;){const[y]=i.tag();switch(y){case 1:u=mr(i,s.mapKey);break;case 2:switch(s.mapKind){case"scalar":c=mr(i,s.scalar);break;case"enum":c=i.int32();break;case"message":c=rh(i,a,s);break}break}}if(u===void 0&&(u=pa(s.mapKey,!1)),c===void 0)switch(s.mapKind){case"scalar":c=pa(s.scalar,!1);break;case"enum":c=s.enum.values[0].number;break;case"message":c=cn(s.message,void 0,!1);break}e.set(u,c)}function XE(i,e,a,s){var u;const c=a.field();if(c.listKind==="message"){a.add(rh(i,s,c));return}const h=(u=c.scalar)!==null&&u!==void 0?u:I.INT32;if(!(e==et.LengthDelimited&&h!=I.STRING&&h!=I.BYTES)){a.add(mr(i,h));return}const y=i.uint32()+i.pos;for(;i.pos<y;)a.add(mr(i,h))}function rh(i,e,a,s){const u=a.delimitedEncoding,c=s??cn(a.message,void 0,!1);return kb(c,i,e,u,u?a.number:i.uint32()),c}function mr(i,e){switch(e){case I.STRING:return i.string();case I.BOOL:return i.bool();case I.DOUBLE:return i.double();case I.FLOAT:return i.float();case I.INT32:return i.int32();case I.INT64:return i.int64();case I.UINT64:return i.uint64();case I.FIXED64:return i.fixed64();case I.BYTES:return i.bytes();case I.FIXED32:return i.fixed32();case I.SFIXED32:return i.sfixed32();case I.SFIXED64:return i.sfixed64();case I.SINT64:return i.sint64();case I.UINT32:return i.uint32();case I.SINT32:return i.sint32()}}function fi(i,e){var a;const s=fn(_E,nh(i));return s.messageType.forEach(ih),s.dependency=(a=e?.map(c=>c.proto.name))!==null&&a!==void 0?a:[],Gb(s,c=>e?.find(h=>h.proto.name===c)).getFile(s.name)}const JE=fi("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function kE(i){return new Date(FE(i))}function FE(i){return Number(i.seconds)*1e3+Math.round(i.nanos/1e6)}const jE=fi("Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),jb=fi("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),HE=ae(jb,0),QE=3,Dp={writeUnknownFields:!0};function $E(i){return i?Object.assign(Object.assign({},Dp),i):Dp}function Xi(i,e,a){return Iu(new Db,$E(a),cn(i,e)).finish()}function Iu(i,e,a){var s;for(const u of a.sortedFields){if(!a.isSet(u)){if(u.presence==QE)throw new Error(`cannot encode ${u} to binary: required field not set`);continue}Hb(i,e,a,u)}if(e.writeUnknownFields)for(const{no:u,wireType:c,data:h}of(s=a.getUnknown())!==null&&s!==void 0?s:[])i.tag(u,c).raw(h);return i}function Hb(i,e,a,s){var u;switch(s.fieldKind){case"scalar":case"enum":Cu(i,a.desc.typeName,s.name,(u=s.scalar)!==null&&u!==void 0?u:I.INT32,s.number,a.get(s));break;case"list":PE(i,e,s,a.get(s));break;case"message":Qb(i,e,s,a.get(s));break;case"map":for(const[c,h]of a.get(s))qE(i,e,s,c,h);break}}function Cu(i,e,a,s,u,c){$b(i.tag(u,e1(s)),e,a,s,c)}function Qb(i,e,a,s){a.delimitedEncoding?Iu(i.tag(a.number,et.StartGroup),e,s).tag(a.number,et.EndGroup):Iu(i.tag(a.number,et.LengthDelimited).fork(),e,s).join()}function PE(i,e,a,s){var u;if(a.listKind=="message"){for(const h of s)Qb(i,e,a,h);return}const c=(u=a.scalar)!==null&&u!==void 0?u:I.INT32;if(a.packed){if(!s.size)return;i.tag(a.number,et.LengthDelimited).fork();for(const h of s)$b(i,a.parent.typeName,a.name,c,h);i.join();return}for(const h of s)Cu(i,a.parent.typeName,a.name,c,a.number,h)}function qE(i,e,a,s,u){var c;switch(i.tag(a.number,et.LengthDelimited).fork(),Cu(i,a.parent.typeName,a.name,a.mapKey,1,s),a.mapKind){case"scalar":case"enum":Cu(i,a.parent.typeName,a.name,(c=a.scalar)!==null&&c!==void 0?c:I.INT32,2,u);break;case"message":Iu(i.tag(2,et.LengthDelimited).fork(),e,u).join();break}i.join()}function $b(i,e,a,s,u){try{switch(s){case I.STRING:i.string(u);break;case I.BOOL:i.bool(u);break;case I.DOUBLE:i.double(u);break;case I.FLOAT:i.float(u);break;case I.INT32:i.int32(u);break;case I.INT64:i.int64(u);break;case I.UINT64:i.uint64(u);break;case I.FIXED64:i.fixed64(u);break;case I.BYTES:i.bytes(u);break;case I.FIXED32:i.fixed32(u);break;case I.SFIXED32:i.sfixed32(u);break;case I.SFIXED64:i.sfixed64(u);break;case I.SINT64:i.sint64(u);break;case I.UINT32:i.uint32(u);break;case I.SINT32:i.sint32(u);break}}catch(c){throw c instanceof Error?new Error(`cannot encode field ${e}.${a} to binary: ${c.message}`):c}}function e1(i){switch(i){case I.BYTES:case I.STRING:return et.LengthDelimited;case I.DOUBLE:case I.FIXED64:case I.SFIXED64:return et.Bit64;case I.FIXED32:case I.SFIXED32:case I.FLOAT:return et.Bit32;default:return et.Varint}}function t1(i,e,a){let s=!1;return a||(a=H(HE),s=!0),a.value=Xi(i,e),a.typeUrl=a1(e.$typeName),s?a:void 0}function n1(i,e){if(i.typeUrl==="")return!1;const a=typeof e=="string"?e:e.typeName,s=Pb(i.typeUrl);return a===s}function i1(i,e){if(i.typeUrl==="")return;const a=e.kind=="message"?e:e.getMessage(Pb(i.typeUrl));if(!(!a||!n1(i,a)))return fn(a,i.value)}function a1(i){return`type.googleapis.com/${i}`}function Pb(i){const e=i.lastIndexOf("/"),a=e>=0?i.substring(e+1):i;if(!a.length)throw new Error(`invalid type url: ${i}`);return a}const sh=fi("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),r1=ae(sh,0),qb=ae(sh,1),s1=ae(sh,2);var xf;(function(i){i[i.NULL_VALUE=0]="NULL_VALUE"})(xf||(xf={}));const l1=fi("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function u1(i,e){ev(e,i);const a=c1(i.$unknown,e),[s,u,c]=Bu(e);for(const h of a)Fb(s,new Qf(h.data),u,h.wireType,{readUnknownFields:!0});return c()}function o1(i,e,a){var s;ev(e,i);const u=((s=i.$unknown)!==null&&s!==void 0?s:[]).filter(m=>m.no!==e.number),[c,h]=Bu(e,a),d=new Db;Hb(d,{writeUnknownFields:!0},c,h);const y=new Qf(d.finish());for(;y.pos<y.len;){const[m,v]=y.tag(),N=y.skip(v,m);u.push({no:m,wireType:v,data:N})}i.$unknown=u}function c1(i,e){if(i===void 0)return[];if(e.fieldKind==="enum"||e.fieldKind==="scalar"){for(let a=i.length-1;a>=0;--a)if(i[a].no==e.number)return[i[a]];return[]}return i.filter(a=>a.no===e.number)}function Bu(i,e){const a=i.typeName,s=Object.assign(Object.assign({},i),{kind:"field",parent:i.extendee,localName:a}),u=Object.assign(Object.assign({},i.extendee),{fields:[s],members:[s],oneofs:[]}),c=H(u,e!==void 0?{[a]:e}:void 0);return[cn(u,c),s,()=>{const h=c[a];if(h===void 0){const d=i.message;return Xs(d)?pa(d.fields[0].scalar,d.fields[0].longAsString):H(d)}return h}]}function ev(i,e){if(i.extendee.typeName!=e.$typeName)throw new Error(`extension ${i.typeName} can only be applied to message ${i.extendee.typeName}`)}const f1=3,h1=2,Op={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function d1(i){return i?Object.assign(Object.assign({},Op),i):Op}function g1(i,e,a){return Js(cn(i,e),d1(a))}function m1(i,e,a){var s;const u=g1(i,e,a);return JSON.stringify(u,null,(s=a?.prettySpaces)!==null&&s!==void 0?s:0)}function Js(i,e){var a;const s=v1(i,e);if(s!==void 0)return s;const u={};for(const c of i.sortedFields){if(!i.isSet(c)){if(c.presence==f1)throw new Error(`cannot encode ${c} to JSON: required field not set`);if(!e.alwaysEmitImplicit||c.presence!==h1)continue}const h=Vp(c,i.get(c),e);h!==void 0&&(u[b1(c,e)]=h)}if(e.registry){const c=new Set;for(const{no:h}of(a=i.getUnknown())!==null&&a!==void 0?a:[])if(!c.has(h)){c.add(h);const d=e.registry.getExtensionFor(i.desc,h);if(!d)continue;const y=u1(i.message,d),[m,v]=Bu(d,y),N=Vp(v,m.get(v),e);N!==void 0&&(u[d.jsonName]=N)}}return u}function Vp(i,e,a){switch(i.fieldKind){case"scalar":return Lu(i,e);case"message":return Js(e,a);case"enum":return lh(i.enum,e,a.enumAsInteger);case"list":return p1(e,a);case"map":return y1(e,a)}}function y1(i,e){const a=i.field(),s={};switch(a.mapKind){case"scalar":for(const[u,c]of i)s[u]=Lu(a,c);break;case"message":for(const[u,c]of i)s[u]=Js(c,e);break;case"enum":for(const[u,c]of i)s[u]=lh(a.enum,c,e.enumAsInteger);break}return e.alwaysEmitImplicit||i.size>0?s:void 0}function p1(i,e){const a=i.field(),s=[];switch(a.listKind){case"scalar":for(const u of i)s.push(Lu(a,u));break;case"enum":for(const u of i)s.push(lh(a.enum,u,e.enumAsInteger));break;case"message":for(const u of i)s.push(Js(u,e));break}return e.alwaysEmitImplicit||s.length>0?s:void 0}function lh(i,e,a){var s;if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: expected number, got ${ct(e)}`);if(i.typeName=="google.protobuf.NullValue")return null;if(a)return e;const u=i.value[e];return(s=u?.name)!==null&&s!==void 0?s:e}function Lu(i,e){var a,s,u,c,h,d;switch(i.scalar){case I.INT32:case I.SFIXED32:case I.SINT32:case I.FIXED32:case I.UINT32:if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: ${(a=ha(i,e))===null||a===void 0?void 0:a.message}`);return e;case I.FLOAT:case I.DOUBLE:if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: ${(s=ha(i,e))===null||s===void 0?void 0:s.message}`);return Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case I.STRING:if(typeof e!="string")throw new Error(`cannot encode ${i} to JSON: ${(u=ha(i,e))===null||u===void 0?void 0:u.message}`);return e;case I.BOOL:if(typeof e!="boolean")throw new Error(`cannot encode ${i} to JSON: ${(c=ha(i,e))===null||c===void 0?void 0:c.message}`);return e;case I.UINT64:case I.FIXED64:case I.INT64:case I.SFIXED64:case I.SINT64:if(typeof e!="bigint"&&typeof e!="string")throw new Error(`cannot encode ${i} to JSON: ${(h=ha(i,e))===null||h===void 0?void 0:h.message}`);return e.toString();case I.BYTES:if(e instanceof Uint8Array)return lE(e);throw new Error(`cannot encode ${i} to JSON: ${(d=ha(i,e))===null||d===void 0?void 0:d.message}`)}}function b1(i,e){return e.useProtoFieldName?i.name:i.jsonName}function v1(i,e){if(i.desc.typeName.startsWith("google.protobuf."))switch(i.desc.typeName){case"google.protobuf.Any":return S1(i.message,e);case"google.protobuf.Timestamp":return N1(i.message);case"google.protobuf.Duration":return A1(i.message);case"google.protobuf.FieldMask":return E1(i.message);case"google.protobuf.Struct":return tv(i.message);case"google.protobuf.Value":return uh(i.message);case"google.protobuf.ListValue":return nv(i.message);default:if(Xs(i.desc)){const a=i.desc.fields[0];return Lu(a,i.get(a))}return}}function S1(i,e){if(i.typeUrl==="")return{};const{registry:a}=e;let s,u;if(a&&(s=i1(i,a),s&&(u=a.getMessage(s.$typeName))),!u||!s)throw new Error(`cannot encode message ${i.$typeName} to JSON: "${i.typeUrl}" is not in the type registry`);let c=Js(cn(u,s),e);return(u.typeName.startsWith("google.protobuf.")||c===null||Array.isArray(c)||typeof c!="object")&&(c={value:c}),c["@type"]=i.typeUrl,c}function A1(i){const e=Number(i.seconds),a=i.nanos;if(e>315576e6||e<-315576e6)throw new Error(`cannot encode message ${i.$typeName} to JSON: value out of range`);if(e>0&&a<0||e<0&&a>0)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos sign must match seconds sign`);let s=i.seconds.toString();if(a!==0){let u=Math.abs(a).toString();u="0".repeat(9-u.length)+u,u.substring(3)==="000000"?u=u.substring(0,3):u.substring(6)==="000"&&(u=u.substring(0,6)),s+="."+u,a<0&&e==0&&(s="-"+s)}return s+"s"}function E1(i){return i.paths.map(e=>{if(e.match(/_[0-9]?_/g)||e.match(/[A-Z]/g))throw new Error(`cannot encode message ${i.$typeName} to JSON: lowerCamelCase of path name "`+e+'" is irreversible');return Bs(e)}).join(",")}function tv(i){const e={};for(const[a,s]of Object.entries(i.fields))e[a]=uh(s);return e}function uh(i){switch(i.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(i.kind.value))throw new Error(`${i.$typeName} cannot be NaN or Infinity`);return i.kind.value;case"boolValue":return i.kind.value;case"stringValue":return i.kind.value;case"structValue":return tv(i.kind.value);case"listValue":return nv(i.kind.value);default:throw new Error(`${i.$typeName} must have a value`)}}function nv(i){return i.values.map(uh)}function N1(i){const e=Number(i.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${i.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(i.nanos<0)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos must not be negative`);if(i.nanos>999999999)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos must not be greater than 99999999`);let a="Z";if(i.nanos>0){const s=(i.nanos+1e9).toString().substring(1);s.substring(3)==="000000"?a="."+s.substring(0,3)+"Z":s.substring(6)==="000"?a="."+s.substring(0,6)+"Z":a="."+s+"Z"}return new Date(e).toISOString().replace(".000Z",a)}const xp={ignoreUnknownFields:!1};function T1(i){return i?Object.assign(Object.assign({},xp),i):xp}function R1(i,e,a){return I1(i,U1(e,i.typeName),a)}function I1(i,e,a){const s=cn(i);try{yr(s,e,T1(a))}catch(u){throw eE(u)?new Error(`cannot decode ${u.field()} from JSON: ${u.message}`,{cause:u}):u}return s.message}function yr(i,e,a){var s;if(B1(i,e,a))return;if(e==null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode ${i.desc} from JSON: ${ct(e)}`);const u=new Map,c=new Map;for(const h of i.desc.fields)c.set(h.name,h).set(h.jsonName,h);for(const[h,d]of Object.entries(e)){const y=c.get(h);if(y){if(y.oneof){if(d===null&&y.fieldKind=="scalar")continue;const m=u.get(y.oneof);if(m!==void 0)throw new Bt(y.oneof,`oneof set multiple times by ${m.name} and ${y.name}`);u.set(y.oneof,y)}Up(i,y,d,a)}else{let m;if(h.startsWith("[")&&h.endsWith("]")&&(m=(s=a.registry)===null||s===void 0?void 0:s.getExtension(h.substring(1,h.length-1)))&&m.extendee.typeName===i.desc.typeName){const[v,N,V]=Bu(m);Up(v,N,d,a),o1(i.message,m,V())}if(!m&&!a.ignoreUnknownFields)throw new Error(`cannot decode ${i.desc} from JSON: key "${h}" is unknown`)}}}function Up(i,e,a,s){switch(e.fieldKind){case"scalar":V1(i,e,a);break;case"enum":O1(i,e,a,s);break;case"message":D1(i,e,a,s);break;case"list":w1(i.get(e),a,s);break;case"map":C1(i.get(e),a,s);break}}function C1(i,e,a){if(e===null)return;const s=i.field();if(typeof e!="object"||Array.isArray(e))throw new Bt(s,"expected object, got "+ct(e));for(const[u,c]of Object.entries(e)){if(c===null)throw new Bt(s,"map value must not be null");let h;switch(s.mapKind){case"message":const y=cn(s.message);yr(y,c,a),h=y;break;case"enum":if(h=oh(s.enum,c,a.ignoreUnknownFields,!0),h===Mu)return;break;case"scalar":h=zu(s,c,!0);break}const d=x1(s.mapKey,u);i.set(d,h)}}function w1(i,e,a){if(e===null)return;const s=i.field();if(!Array.isArray(e))throw new Bt(s,"expected Array, got "+ct(e));for(const u of e){if(u===null)throw new Bt(s,"list item must not be null");switch(s.listKind){case"message":const c=cn(s.message);yr(c,u,a),i.add(c);break;case"enum":const h=oh(s.enum,u,a.ignoreUnknownFields,!0);h!==Mu&&i.add(h);break;case"scalar":i.add(zu(s,u,!0));break}}}function D1(i,e,a,s){if(a===null&&e.message.typeName!="google.protobuf.Value"){i.clear(e);return}const u=i.isSet(e)?i.get(e):cn(e.message);yr(u,a,s),i.set(e,u)}function O1(i,e,a,s){const u=oh(e.enum,a,s.ignoreUnknownFields,!1);u===Zu?i.clear(e):u!==Mu&&i.set(e,u)}function V1(i,e,a){const s=zu(e,a,!1);s===Zu?i.clear(e):i.set(e,s)}const Mu=Symbol();function oh(i,e,a,s){if(e===null)return i.typeName=="google.protobuf.NullValue"?0:s?i.values[0].number:Zu;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const u=i.values.find(c=>c.name===e);if(u!==void 0)return u.number;if(a)return Mu;break}throw new Error(`cannot decode ${i} from JSON: ${ct(e)}`)}const Zu=Symbol();function zu(i,e,a){if(e===null)return a?pa(i.scalar,!1):Zu;switch(i.scalar){case I.DOUBLE:case I.FLOAT:if(e==="NaN")return NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof e=="number"){if(Number.isNaN(e))throw new Bt(i,"unexpected NaN number");if(!Number.isFinite(e))throw new Bt(i,"unexpected infinite number");break}if(typeof e=="string"){if(e===""||e.trim().length!==e.length)break;const s=Number(e);if(!Number.isFinite(s))break;return s}break;case I.INT32:case I.FIXED32:case I.SFIXED32:case I.SINT32:case I.UINT32:return iv(e);case I.BYTES:if(typeof e=="string"){if(e==="")return new Uint8Array(0);try{return nh(e)}catch(s){const u=s instanceof Error?s.message:String(s);throw new Bt(i,u)}}break}return e}function x1(i,e){switch(i){case I.BOOL:switch(e){case"true":return!0;case"false":return!1}return e;case I.INT32:case I.FIXED32:case I.UINT32:case I.SFIXED32:case I.SINT32:return iv(e);default:return e}}function iv(i){if(typeof i=="string"){if(i===""||i.trim().length!==i.length)return i;const e=Number(i);return Number.isNaN(e)?i:e}return i}function U1(i,e){try{return JSON.parse(i)}catch(a){const s=a instanceof Error?a.message:String(a);throw new Error(`cannot decode message ${e} from JSON: ${s}`,{cause:a})}}function B1(i,e,a){if(!i.desc.typeName.startsWith("google.protobuf."))return!1;switch(i.desc.typeName){case"google.protobuf.Any":return L1(i.message,e,a),!0;case"google.protobuf.Timestamp":return M1(i.message,e),!0;case"google.protobuf.Duration":return Z1(i.message,e),!0;case"google.protobuf.FieldMask":return z1(i.message,e),!0;case"google.protobuf.Struct":return av(i.message,e),!0;case"google.protobuf.Value":return ch(i.message,e),!0;case"google.protobuf.ListValue":return rv(i.message,e),!0;default:if(Xs(i.desc)){const s=i.desc.fields[0];return e===null?i.clear(s):i.set(s,zu(s,e,!0)),!0}return!1}}function L1(i,e,a){var s;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message ${i.$typeName} from JSON: expected object but got ${ct(e)}`);if(Object.keys(e).length==0)return;const u=e["@type"];if(typeof u!="string"||u=="")throw new Error(`cannot decode message ${i.$typeName} from JSON: "@type" is empty`);const c=u.includes("/")?u.substring(u.lastIndexOf("/")+1):u;if(!c.length)throw new Error(`cannot decode message ${i.$typeName} from JSON: "@type" is invalid`);const h=(s=a.registry)===null||s===void 0?void 0:s.getMessage(c);if(!h)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${u} is not in the type registry`);const d=cn(h);if(c.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value")){const y=e.value;yr(d,y,a)}else{const y=Object.assign({},e);delete y["@type"],yr(d,y,a)}t1(d.desc,d.message,i)}function M1(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ct(e)}`);const a=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!a)throw new Error(`cannot decode message ${i.$typeName} from JSON: invalid RFC 3339 string`);const s=Date.parse(a[1]+"-"+a[2]+"-"+a[3]+"T"+a[4]+":"+a[5]+":"+a[6]+(a[8]?a[8]:"Z"));if(Number.isNaN(s))throw new Error(`cannot decode message ${i.$typeName} from JSON: invalid RFC 3339 string`);if(s<Date.parse("0001-01-01T00:00:00Z")||s>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${i.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);i.seconds=ke.parse(s/1e3),i.nanos=0,a[7]&&(i.nanos=parseInt("1"+a[7]+"0".repeat(9-a[7].length))-1e9)}function Z1(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ct(e)}`);const a=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(a===null)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ct(e)}`);const s=Number(a[1]);if(s>315576e6||s<-315576e6)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ct(e)}`);if(i.seconds=ke.parse(s),typeof a[2]!="string")return;const u=a[2]+"0".repeat(9-a[2].length);i.nanos=parseInt(u),(s<0||Object.is(s,-0))&&(i.nanos=-i.nanos)}function z1(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ct(e)}`);if(e==="")return;function a(s){if(s.includes("_"))throw new Error(`cannot decode message ${i.$typeName} from JSON: path names must be lowerCamelCase`);const u=s.replace(/[A-Z]/g,c=>"_"+c.toLowerCase());return u[0]==="_"?u.substring(1):u}i.paths=e.split(",").map(a)}function av(i,e){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error(`cannot decode message ${i.$typeName} from JSON ${ct(e)}`);for(const[a,s]of Object.entries(e)){const u=H(qb);ch(u,s),i.fields[a]=u}}function ch(i,e){switch(typeof e){case"number":i.kind={case:"numberValue",value:e};break;case"string":i.kind={case:"stringValue",value:e};break;case"boolean":i.kind={case:"boolValue",value:e};break;case"object":if(e===null)i.kind={case:"nullValue",value:xf.NULL_VALUE};else if(Array.isArray(e)){const a=H(s1);rv(a,e),i.kind={case:"listValue",value:a}}else{const a=H(r1);av(a,e),i.kind={case:"structValue",value:a}}break;default:throw new Error(`cannot decode message ${i.$typeName} from JSON ${ct(e)}`)}return i}function rv(i,e){if(!Array.isArray(e))throw new Error(`cannot decode message ${i.$typeName} from JSON ${ct(e)}`);for(const a of e){const s=H(qb);ch(s,a),i.values.push(s)}}function Bp(i){const e=fe[i];return typeof e!="string"?i.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,a=>"_"+a.toLowerCase())}class xe extends Error{constructor(e,a=fe.Unknown,s,u,c){super(Y1(e,a)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=a,this.metadata=new Headers(s??{}),this.details=u??[],this.cause=c}static from(e,a=fe.Unknown){return e instanceof xe?e:e instanceof Error?e.name=="AbortError"||e.name=="TimeoutError"?new xe(e.message,fe.Canceled):new xe(e.message,a,void 0,void 0,e):new xe(String(e),a,void 0,void 0,e)}static[Symbol.hasInstance](e){return e instanceof Error?Object.getPrototypeOf(e)===xe.prototype?!0:e.name==="ConnectError"&&"code"in e&&typeof e.code=="number"&&"metadata"in e&&"details"in e&&Array.isArray(e.details)&&"rawMessage"in e&&typeof e.rawMessage=="string"&&"cause"in e:!1}findDetails(e){const a=e.kind==="message"?{getMessage:u=>u===e.typeName?e:void 0}:e,s=[];for(const u of this.details){if("desc"in u){a.getMessage(u.desc.typeName)&&s.push(H(u.desc,u.value));continue}const c=a.getMessage(u.type);if(c)try{s.push(fn(c,u.value))}catch{}}return s}}function Y1(i,e){return i.length?`[${Bp(e)}] ${i}`:`[${Bp(e)}]`}function G1(i,e,a){try{const s=nh(i);return e?fn(e,s,a):s}catch(s){throw xe.from(s,fe.DataLoss)}}function _1(i,e){const a={};for(const s of i.methods){const u=e(s);u!=null&&(a[s.localName]=u)}return a}const Lp=1;function W1(i,e,a=!1){if(e>i){let s=`message size is larger than configured readMaxBytes ${i}`;throw a&&(s=`message size ${e} is larger than configured readMaxBytes ${i}`),new xe(s,fe.ResourceExhausted)}}function K1(i){return new X1(i)}class X1{constructor(e){this.readMaxBytes=e,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((e,a)=>e+a.byteLength,0)}decode(e){this.buf.push(e);const a=[];for(;;){let s=this.pop();if(!s)break;a.push(s)}return a}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){const e=this.env;return this.env=void 0,e}}head(){if(!this.cons(this.header))return;const e=this.headerView.getUint8(0),a=this.headerView.getUint32(1);return W1(this.readMaxBytes,a,!0),{flags:e,data:new Uint8Array(a)}}cons(e){const a=e.byteLength;if(this.byteLength<a)return!1;let s=0;for(;s<a;){const u=this.buf.shift();u.byteLength>a-s?(e.set(u.subarray(0,a-s),s),this.buf.unshift(u.subarray(a-s)),s+=a-s):(e.set(u,s),s+=u.byteLength)}return!0}}function Mp(i){let e;const a=K1(4294967295);return new ReadableStream({start(){e=i.getReader()},async pull(s){let u=!1;for(;!u;){const c=await e.read();if(c.done)a.byteLength>0&&s.error(new xe("protocol error: incomplete envelope",fe.InvalidArgument)),s.close();else for(const h of a.decode(c.value))s.enqueue(h),u=!0}}})}function Zp(i,e){const a=new Uint8Array(e.length+5);a.set(e,5);const s=new DataView(a.buffer,a.byteOffset,a.byteLength);return s.setUint8(0,i),s.setUint32(1,e.length),a}var J1=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],a;return e?e.call(i):(i=typeof __values=="function"?__values(i):i[Symbol.iterator](),a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a);function s(c){a[c]=i[c]&&function(h){return new Promise(function(d,y){h=i[c](h),u(d,y,h.done,h.value)})}}function u(c,h,d,y){Promise.resolve(y).then(function(m){c({value:m,done:d})},h)}},Zs=function(i){return this instanceof Zs?(this.v=i,this):new Zs(i)},k1=function(i,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(i,e||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",h),u[Symbol.asyncIterator]=function(){return this},u;function h(C){return function(L){return Promise.resolve(L).then(C,N)}}function d(C,L){s[C]&&(u[C]=function(Y){return new Promise(function(F,q){c.push([C,Y,F,q])>1||y(C,Y)})},L&&(u[C]=L(u[C])))}function y(C,L){try{m(s[C](L))}catch(Y){V(c[0][3],Y)}}function m(C){C.value instanceof Zs?Promise.resolve(C.value.v).then(v,N):V(c[0][2],C)}function v(C){y("next",C)}function N(C){y("throw",C)}function V(C,L){C(L),c.shift(),c.length&&y(c[0][0],c[0][1])}},F1=function(i){var e,a;return e={},s("next"),s("throw",function(u){throw u}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(u,c){e[u]=i[u]?function(h){return(a=!a)?{value:Zs(i[u](h)),done:!1}:c?c(h):h}:c}};function j1(i){return k1(this,arguments,function*(){yield Zs(yield*F1(J1(i)))})}var sv=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],a;return e?e.call(i):(i=typeof __values=="function"?__values(i):i[Symbol.iterator](),a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a);function s(c){a[c]=i[c]&&function(h){return new Promise(function(d,y){h=i[c](h),u(d,y,h.done,h.value)})}}function u(c,h,d,y){Promise.resolve(y).then(function(m){c({value:m,done:d})},h)}},pr=function(i){return this instanceof pr?(this.v=i,this):new pr(i)},H1=function(i){var e,a;return e={},s("next"),s("throw",function(u){throw u}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(u,c){e[u]=i[u]?function(h){return(a=!a)?{value:pr(i[u](h)),done:!1}:c?c(h):h}:c}},Q1=function(i,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(i,e||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",h),u[Symbol.asyncIterator]=function(){return this},u;function h(C){return function(L){return Promise.resolve(L).then(C,N)}}function d(C,L){s[C]&&(u[C]=function(Y){return new Promise(function(F,q){c.push([C,Y,F,q])>1||y(C,Y)})},L&&(u[C]=L(u[C])))}function y(C,L){try{m(s[C](L))}catch(Y){V(c[0][3],Y)}}function m(C){C.value instanceof pr?Promise.resolve(C.value.v).then(v,N):V(c[0][2],C)}function v(C){y("next",C)}function N(C){y("throw",C)}function V(C,L){C(L),c.shift(),c.length&&y(c[0][0],c[0][1])}};function $1(i,e){return _1(i,a=>{switch(a.methodKind){case"unary":return P1(e,a);case"server_streaming":return q1(e,a);case"client_streaming":return eN(e,a);case"bidi_streaming":return tN(e,a);default:return null}})}function P1(i,e){return async(a,s)=>{var u,c;const h=await i.unary(e,s?.signal,s?.timeoutMs,s?.headers,a,s?.contextValues);return(u=s?.onHeader)===null||u===void 0||u.call(s,h.header),(c=s?.onTrailer)===null||c===void 0||c.call(s,h.trailer),h.message}}function q1(i,e){return(a,s)=>lv(i.stream(e,s?.signal,s?.timeoutMs,s?.headers,j1([a]),s?.contextValues),s)}function eN(i,e){return async(a,s)=>{var u,c,h,d,y,m;const v=await i.stream(e,s?.signal,s?.timeoutMs,s?.headers,a,s?.contextValues);(y=s?.onHeader)===null||y===void 0||y.call(s,v.header);let N,V=0;try{for(var C=!0,L=sv(v.message),Y;Y=await L.next(),u=Y.done,!u;C=!0)d=Y.value,C=!1,N=d,V++}catch(F){c={error:F}}finally{try{!C&&!u&&(h=L.return)&&await h.call(L)}finally{if(c)throw c.error}}if(!N)throw new xe("protocol error: missing response message",fe.Unimplemented);if(V>1)throw new xe("protocol error: received extra messages for client streaming method",fe.Unimplemented);return(m=s?.onTrailer)===null||m===void 0||m.call(s,v.trailer),N}}function tN(i,e){return(a,s)=>lv(i.stream(e,s?.signal,s?.timeoutMs,s?.headers,a,s?.contextValues),s)}function lv(i,e){const a=(function(){return Q1(this,arguments,function*(){var s,u;const c=yield pr(i);(s=e?.onHeader)===null||s===void 0||s.call(e,c.header),yield pr(yield*H1(sv(c.message))),(u=e?.onTrailer)===null||u===void 0||u.call(e,c.trailer)})})()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>a.next()})}}function nN(...i){const e=new AbortController,a=i.filter(u=>u!==void 0).concat(e.signal);for(const u of a){if(u.aborted){s.apply(u);break}u.addEventListener("abort",s)}function s(){e.signal.aborted||e.abort(uv(this));for(const u of a)u.removeEventListener("abort",s)}return e}function iN(i){const e=new AbortController,a=()=>{e.abort(new xe("the operation timed out",fe.DeadlineExceeded))};let s;return i!==void 0&&(i<=0?a():s=setTimeout(a,i)),{signal:e.signal,cleanup:()=>clearTimeout(s)}}function uv(i){if(!i.aborted)return;if(i.reason!==void 0)return i.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function zp(){return{get(i){return i.id in this?this[i.id]:i.defaultValue},set(i,e){return this[i.id]=e,this},delete(i){return delete this[i.id],this}}}const Nf=128;function Yp(i){const e=new Headers,a=new TextDecoder().decode(i).split(`\r
`);for(const s of a){if(s==="")continue;const u=s.indexOf(":");if(u>0){const c=s.substring(0,u).trim(),h=s.substring(u+1).trim();e.append(c,h)}}return e}const aN="Content-Type",rN="Grpc-Timeout",br="Grpc-Status",ov="Grpc-Message",sN="Grpc-Status-Details-Bin",lN="User-Agent",Gp="X-User-Agent",uN="X-Grpc-Web",oN="application/grpc-web+proto",cN="application/grpc-web+json";function fN(i,e,...a){if(a.length>0)throw new Error;return i.services[e]}const hN=fi("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[jb]),dN=ae(hN,0),gN="0";function cv(i){var e;const a=i.get(sN);if(a!=null){const u=G1(a,dN);if(u.code==0)return;const c=new xe(u.message,u.code,i);return c.details=u.details.map(h=>({type:h.typeUrl.substring(h.typeUrl.lastIndexOf("/")+1),value:h.value})),c}const s=i.get(br);if(s!=null){if(s===gN)return;const u=parseInt(s,10);return u in fe?new xe(decodeURIComponent((e=i.get(ov))!==null&&e!==void 0?e:""),u,i):new xe(`invalid grpc-status: ${s}`,fe.Internal,i)}}function _p(i,e){return i.toString().replace(/\/?$/,`/${e.parent.typeName}/${e.name}`)}function fv(i,e){return H(i,e)}function mN(i,e){function a(s){return s.done===!0?s:{done:s.done,value:fv(i,s.value)}}return{[Symbol.asyncIterator](){const s=e[Symbol.asyncIterator](),u={next:()=>s.next().then(a)};return s.throw!==void 0&&(u.throw=c=>s.throw(c).then(a)),s.return!==void 0&&(u.return=c=>s.return(c).then(a)),u}}}function hv(i,e){if(!e)return i;for(const a of e.concat().reverse())i=a(i);return i}function yN(i){var e;const a=Object.assign({},i);return(e=a.ignoreUnknownFields)!==null&&e!==void 0||(a.ignoreUnknownFields=!0),a}function Wp(i,e,a,s){const u=e?Kp(i.input,s):Xp(i.input,a);return{parse:(e?Kp(i.output,s):Xp(i.output,a)).parse,serialize:u.serialize}}function Kp(i,e){return{parse(a){try{return fn(i,a,e)}catch(s){const u=s instanceof Error?s.message:String(s);throw new xe(`parse binary: ${u}`,fe.Internal)}},serialize(a){try{return Xi(i,a,e)}catch(s){const u=s instanceof Error?s.message:String(s);throw new xe(`serialize binary: ${u}`,fe.Internal)}}}}function Xp(i,e){var a,s;const u=(a=e?.textEncoder)!==null&&a!==void 0?a:new TextEncoder,c=(s=e?.textDecoder)!==null&&s!==void 0?s:new TextDecoder,h=yN(e);return{parse(d){try{const y=c.decode(d);return R1(i,y,h)}catch(y){throw xe.from(y,fe.InvalidArgument)}},serialize(d){try{const y=m1(i,d,h);return u.encode(y)}catch(y){throw xe.from(y,fe.Internal)}}}}function pN(i){const e=hv(i.next,i.interceptors),[a,s,u]=dv(i),c=Object.assign(Object.assign({},i.req),{message:fv(i.req.method.input,i.req.message),signal:a});return e(c).then(h=>(u(),h),s)}function bN(i){const e=hv(i.next,i.interceptors),[a,s,u]=dv(i),c=Object.assign(Object.assign({},i.req),{message:mN(i.req.method.input,i.req.message),signal:a});let h=!1;return a.addEventListener("abort",function(){var d,y;const m=i.req.message[Symbol.asyncIterator]();h||(d=m.throw)===null||d===void 0||d.call(m,this.reason).catch(()=>{}),(y=m.return)===null||y===void 0||y.call(m).catch(()=>{})}),e(c).then(d=>Object.assign(Object.assign({},d),{message:{[Symbol.asyncIterator](){const y=d.message[Symbol.asyncIterator]();return{next(){return y.next().then(m=>(m.done==!0&&(h=!0,u()),m),s)}}}}}),s)}function dv(i){const{signal:e,cleanup:a}=iN(i.timeoutMs),s=nN(i.signal,e);return[s.signal,function(c){const h=xe.from(e.aborted?uv(e):c);return s.abort(h),a(),Promise.reject(h)},function(){a(),s.abort()}]}function vN(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Jp(i,e){const a=cv(i);if(a)throw e.forEach((s,u)=>{a.metadata.append(u,s)}),a;if(!e.has(br)&&!i.has(br))throw new xe("protocol error: missing status",fe.Internal)}function kp(i,e,a,s){var u,c;const h=new Headers(a??{});h.set(aN,i?oN:cN),h.set(uN,"1");const d=(c=(u=h.get(lN))!==null&&u!==void 0?u:h.get(Gp))!==null&&c!==void 0?c:"connect-es/2.1.1";return h.set(Gp,d),e!==void 0&&h.set(rN,`${e}m`),h}function SN(i){switch(i){case 400:return fe.Internal;case 401:return fe.Unauthenticated;case 403:return fe.PermissionDenied;case 404:return fe.Unimplemented;case 429:return fe.Unavailable;case 502:return fe.Unavailable;case 503:return fe.Unavailable;case 504:return fe.Unavailable;default:return fe.Unknown}}function Fp(i,e){var a;if(i>=200&&i<300)return{foundStatus:e.has(br),headerError:cv(e)};throw new xe(decodeURIComponent((a=e.get(ov))!==null&&a!==void 0?a:`HTTP ${i}`),SN(i),e)}var ma=function(i){return this instanceof ma?(this.v=i,this):new ma(i)},AN=function(i,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(i,e||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",h),u[Symbol.asyncIterator]=function(){return this},u;function h(C){return function(L){return Promise.resolve(L).then(C,N)}}function d(C,L){s[C]&&(u[C]=function(Y){return new Promise(function(F,q){c.push([C,Y,F,q])>1||y(C,Y)})},L&&(u[C]=L(u[C])))}function y(C,L){try{m(s[C](L))}catch(Y){V(c[0][3],Y)}}function m(C){C.value instanceof ma?Promise.resolve(C.value.v).then(v,N):V(c[0][2],C)}function v(C){y("next",C)}function N(C){y("throw",C)}function V(C,L){C(L),c.shift(),c.length&&y(c[0][0],c[0][1])}};const jp={redirect:"error"};function EN(i){var e;vN();const a=(e=i.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(s,u,c,h,d,y){const{serialize:m,parse:v}=Wp(s,a,i.jsonOptions,i.binaryOptions);return c=c===void 0?i.defaultTimeoutMs:c<=0?void 0:c,await pN({interceptors:i.interceptors,signal:u,timeoutMs:c,req:{stream:!1,service:s.parent,method:s,requestMethod:"POST",url:_p(i.baseUrl,s),header:kp(a,c,h),contextValues:y??zp(),message:d},next:async N=>{var V;const L=await((V=i.fetch)!==null&&V!==void 0?V:globalThis.fetch)(N.url,Object.assign(Object.assign({},jp),{method:N.requestMethod,headers:N.header,signal:N.signal,body:Zp(0,m(N.message))})),{headerError:Y}=Fp(L.status,L.headers);if(!L.body)throw Y!==void 0?Y:"missing response body";const F=Mp(L.body).getReader();let q,ye;for(;;){const ne=await F.read();if(ne.done)break;const{flags:Ee,data:ie}=ne.value;if((Ee&Lp)===Lp)throw new xe("protocol error: received unsupported compressed output",fe.Internal);if(Ee===Nf){if(q!==void 0)throw"extra trailer";q=Yp(ie);continue}if(ye!==void 0)throw new xe("extra message",fe.Unimplemented);ye=v(ie)}if(q===void 0)throw Y!==void 0?Y:new xe("missing trailer",L.headers.has(br)?fe.Unimplemented:fe.Unknown);if(Jp(q,L.headers),ye===void 0)throw new xe("missing message",q.has(br)?fe.Unimplemented:fe.Unknown);return{stream:!1,service:s.parent,method:s,header:L.headers,message:ye,trailer:q}}})},async stream(s,u,c,h,d,y){const{serialize:m,parse:v}=Wp(s,a,i.jsonOptions,i.binaryOptions);function N(C,L,Y,F,q){return AN(this,arguments,function*(){const ne=Mp(C).getReader();if(L){if(!(yield ma(ne.read())).done)throw"extra data for trailers-only";return yield ma(void 0)}let Ee=!1;for(;;){const ie=yield ma(ne.read());if(ie.done)break;const{flags:Ae,data:J}=ie.value;if((Ae&Nf)===Nf){if(Ee)throw"extra trailer";Ee=!0;const ve=Yp(J);Jp(ve,F),ve.forEach((Et,gn)=>Y.set(gn,Et));continue}if(Ee)throw"extra message";yield yield ma(v(J))}if("throwIfAborted"in q&&q.throwIfAborted(),!Ee)throw"missing trailer"})}async function V(C){if(s.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const L=await C[Symbol.asyncIterator]().next();if(L.done==!0)throw"missing request message";return Zp(0,m(L.value))}return c=c===void 0?i.defaultTimeoutMs:c<=0?void 0:c,bN({interceptors:i.interceptors,signal:u,timeoutMs:c,req:{stream:!0,service:s.parent,method:s,requestMethod:"POST",url:_p(i.baseUrl,s),header:kp(a,c,h),contextValues:y??zp(),message:d},next:async C=>{var L;const F=await((L=i.fetch)!==null&&L!==void 0?L:globalThis.fetch)(C.url,Object.assign(Object.assign({},jp),{method:C.requestMethod,headers:C.header,signal:C.signal,body:await V(C.message)})),{foundStatus:q,headerError:ye}=Fp(F.status,F.headers);if(ye!=null)throw ye;if(!F.body)throw"missing response body";const ne=new Headers;return Object.assign(Object.assign({},C),{header:F.headers,trailer:ne,message:N(F.body,q,ne,F.headers,C.signal)})}})}}}const ce=fi("CiFzcmMvYXBpL3lvcmtpZS92MS9yZXNvdXJjZXMucHJvdG8SCXlvcmtpZS52MSKuAQoIU25hcHNob3QSJAoEcm9vdBgBIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudBI1CglwcmVzZW5jZXMYAiADKAsyIi55b3JraWUudjEuU25hcHNob3QuUHJlc2VuY2VzRW50cnkaRQoOUHJlc2VuY2VzRW50cnkSCwoDa2V5GAEgASgJEiIKBXZhbHVlGAIgASgLMhMueW9ya2llLnYxLlByZXNlbmNlOgI4ASL7AQoKQ2hhbmdlUGFjaxIUCgxkb2N1bWVudF9rZXkYASABKAkSKQoKY2hlY2twb2ludBgCIAEoCzIVLnlvcmtpZS52MS5DaGVja3BvaW50EhAKCHNuYXBzaG90GAMgASgMEiIKB2NoYW5nZXMYBCADKAsyES55b3JraWUudjEuQ2hhbmdlEjAKEW1pbl9zeW5jZWRfdGlja2V0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSEgoKaXNfcmVtb3ZlZBgGIAEoCBIwCg52ZXJzaW9uX3ZlY3RvchgHIAEoCzIYLnlvcmtpZS52MS5WZXJzaW9uVmVjdG9yIpgBCgZDaGFuZ2USHwoCaWQYASABKAsyEy55b3JraWUudjEuQ2hhbmdlSUQSDwoHbWVzc2FnZRgCIAEoCRIoCgpvcGVyYXRpb25zGAMgAygLMhQueW9ya2llLnYxLk9wZXJhdGlvbhIyCg9wcmVzZW5jZV9jaGFuZ2UYBCABKAsyGS55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UihwEKCENoYW5nZUlEEhIKCmNsaWVudF9zZXEYASABKA0SEgoKc2VydmVyX3NlcRgCIAEoAxIPCgdsYW1wb3J0GAMgASgDEhAKCGFjdG9yX2lkGAQgASgMEjAKDnZlcnNpb25fdmVjdG9yGAUgASgLMhgueW9ya2llLnYxLlZlcnNpb25WZWN0b3IidAoNVmVyc2lvblZlY3RvchI0CgZ2ZWN0b3IYASADKAsyJC55b3JraWUudjEuVmVyc2lvblZlY3Rvci5WZWN0b3JFbnRyeRotCgtWZWN0b3JFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAM6AjgBIqwaCglPcGVyYXRpb24SJwoDc2V0GAEgASgLMhgueW9ya2llLnYxLk9wZXJhdGlvbi5TZXRIABInCgNhZGQYAiABKAsyGC55b3JraWUudjEuT3BlcmF0aW9uLkFkZEgAEikKBG1vdmUYAyABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLk1vdmVIABItCgZyZW1vdmUYBCABKAsyGy55b3JraWUudjEuT3BlcmF0aW9uLlJlbW92ZUgAEikKBGVkaXQYBSABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLkVkaXRIABIrCgVzdHlsZRgHIAEoCzIaLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGVIABIxCghpbmNyZWFzZRgIIAEoCzIdLnlvcmtpZS52MS5PcGVyYXRpb24uSW5jcmVhc2VIABIyCgl0cmVlX2VkaXQYCSABKAsyHS55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0SAASNAoKdHJlZV9zdHlsZRgKIAEoCzIeLnlvcmtpZS52MS5PcGVyYXRpb24uVHJlZVN0eWxlSAASMgoJYXJyYXlfc2V0GAsgASgLMh0ueW9ya2llLnYxLk9wZXJhdGlvbi5BcnJheVNldEgAGp0BCgNTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBILCgNrZXkYAiABKAkSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrAAQoDQWRkEjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSLgoPcHJldl9jcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq/AQoETW92ZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Ei4KD3ByZXZfY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCmNyZWF0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtleGVjdXRlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GpEBCgZSZW1vdmUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKgoLZXhlY3V0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrZAwoERWRpdBIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSUwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyMi55b3JraWUudjEuT3BlcmF0aW9uLkVkaXQuQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5Eg8KB2NvbnRlbnQYBSABKAkSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBI9CgphdHRyaWJ1dGVzGAcgAygLMikueW9ya2llLnYxLk9wZXJhdGlvbi5FZGl0LkF0dHJpYnV0ZXNFbnRyeRpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGjEKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBGssDCgVTdHlsZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSPgoKYXR0cmlidXRlcxgEIAMoCzIqLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSVAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBiADKAsyMy55b3JraWUudjEuT3BlcmF0aW9uLlN0eWxlLkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRoxCg9BdHRyaWJ1dGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGpUBCghJbmNyZWFzZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EisKBXZhbHVlGAIgASgLMhwueW9ya2llLnYxLkpTT05FbGVtZW50U2ltcGxlEioKC2V4ZWN1dGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQakwMKCFRyZWVFZGl0EjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIAoEZnJvbRgCIAEoCzISLnlvcmtpZS52MS5UcmVlUG9zEh4KAnRvGAMgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSVwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyNi55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0LkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRImCghjb250ZW50cxgFIAMoCzIULnlvcmtpZS52MS5UcmVlTm9kZXMSEwoLc3BsaXRfbGV2ZWwYByABKAUSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGu0DCglUcmVlU3R5bGUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIgCgRmcm9tGAIgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSHgoCdG8YAyABKAsyEi55b3JraWUudjEuVHJlZVBvcxJCCgphdHRyaWJ1dGVzGAQgAygLMi4ueW9ya2llLnYxLk9wZXJhdGlvbi5UcmVlU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSHAoUYXR0cmlidXRlc190b19yZW1vdmUYBiADKAkSWAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYByADKAsyNy55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVTdHlsZS5DcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkaMQoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaUQoYQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5EgsKA2tleRgBIAEoCRIkCgV2YWx1ZRgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0OgI4ARrAAQoIQXJyYXlTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldEIGCgRib2R5IsUBChFKU09ORWxlbWVudFNpbXBsZRIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIgoEdHlwZRgEIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYBSABKAwiggsKC0pTT05FbGVtZW50EjgKC2pzb25fb2JqZWN0GAEgASgLMiEueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05PYmplY3RIABI2Cgpqc29uX2FycmF5GAIgASgLMiAueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05BcnJheUgAEjUKCXByaW1pdGl2ZRgDIAEoCzIgLnlvcmtpZS52MS5KU09ORWxlbWVudC5QcmltaXRpdmVIABIrCgR0ZXh0GAUgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRleHRIABIxCgdjb3VudGVyGAYgASgLMh4ueW9ya2llLnYxLkpTT05FbGVtZW50LkNvdW50ZXJIABIrCgR0cmVlGAcgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRyZWVIABquAQoKSlNPTk9iamVjdBIhCgVub2RlcxgBIAMoCzISLnlvcmtpZS52MS5SSFROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBqtAQoJSlNPTkFycmF5EiEKBW5vZGVzGAEgAygLMhIueW9ya2llLnYxLlJHQU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Gr0BCglQcmltaXRpdmUSIgoEdHlwZRgBIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYAiABKAwSKQoKY3JlYXRlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAQgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgFIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GqkBCgRUZXh0EiIKBW5vZGVzGAEgAygLMhMueW9ya2llLnYxLlRleHROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq7AQoHQ291bnRlchIiCgR0eXBlGAEgASgOMhQueW9ya2llLnYxLlZhbHVlVHlwZRINCgV2YWx1ZRgCIAEoDBIpCgpjcmVhdGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQaqQEKBFRyZWUSIgoFbm9kZXMYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0QgYKBGJvZHkiPwoHUkhUTm9kZRILCgNrZXkYASABKAkSJwoHZWxlbWVudBgCIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudCJUCgdSR0FOb2RlEiAKBG5leHQYASABKAsyEi55b3JraWUudjEuUkdBTm9kZRInCgdlbGVtZW50GAIgASgLMhYueW9ya2llLnYxLkpTT05FbGVtZW50IlgKCE5vZGVBdHRyEg0KBXZhbHVlGAEgASgJEikKCnVwZGF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBISCgppc19yZW1vdmVkGAMgASgIIpQCCghUZXh0Tm9kZRIhCgJpZBgBIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEg0KBXZhbHVlGAIgASgJEikKCnJlbW92ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgEIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEjcKCmF0dHJpYnV0ZXMYBSADKAsyIy55b3JraWUudjEuVGV4dE5vZGUuQXR0cmlidXRlc0VudHJ5GkYKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuTm9kZUF0dHI6AjgBIkcKClRleHROb2RlSUQSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBSLdAgoIVHJlZU5vZGUSIQoCaWQYASABKAsyFS55b3JraWUudjEuVHJlZU5vZGVJRBIMCgR0eXBlGAIgASgJEg0KBXZhbHVlGAMgASgJEikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgFIAEoCzIVLnlvcmtpZS52MS5UcmVlTm9kZUlEEioKC2luc19uZXh0X2lkGAYgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSDQoFZGVwdGgYByABKAUSNwoKYXR0cmlidXRlcxgIIAMoCzIjLnlvcmtpZS52MS5UcmVlTm9kZS5BdHRyaWJ1dGVzRW50cnkaRgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5Ob2RlQXR0cjoCOAEiMQoJVHJlZU5vZGVzEiQKB2NvbnRlbnQYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUiRwoKVHJlZU5vZGVJRBIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFImMKB1RyZWVQb3MSKAoJcGFyZW50X2lkGAEgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSLgoPbGVmdF9zaWJsaW5nX2lkGAIgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQiawoEVXNlchIKCgJpZBgBIAEoCRIVCg1hdXRoX3Byb3ZpZGVyGAIgASgJEhAKCHVzZXJuYW1lGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIukGCgdQcm9qZWN0EgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSEgoKcHVibGljX2tleRgDIAEoCRISCgpzZWNyZXRfa2V5GAQgASgJEhgKEGF1dGhfd2ViaG9va191cmwYBSABKAkSHAoUYXV0aF93ZWJob29rX21ldGhvZHMYBiADKAkSIAoYYXV0aF93ZWJob29rX21heF9yZXRyaWVzGBEgASgEEiYKHmF1dGhfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgSIAEoCRImCh5hdXRoX3dlYmhvb2tfbWF4X3dhaXRfaW50ZXJ2YWwYEyABKAkSJAocYXV0aF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgUIAEoCRIZChFldmVudF93ZWJob29rX3VybBgHIAEoCRIcChRldmVudF93ZWJob29rX2V2ZW50cxgIIAMoCRIhChlldmVudF93ZWJob29rX21heF9yZXRyaWVzGBUgASgEEicKH2V2ZW50X3dlYmhvb2tfbWluX3dhaXRfaW50ZXJ2YWwYFiABKAkSJwofZXZlbnRfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgXIAEoCRIlCh1ldmVudF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgYIAEoCRIjChtjbGllbnRfZGVhY3RpdmF0ZV90aHJlc2hvbGQYCSABKAkSGgoSc25hcHNob3RfdGhyZXNob2xkGBkgASgDEhkKEXNuYXBzaG90X2ludGVydmFsGBogASgDEiQKHG1heF9zdWJzY3JpYmVyc19wZXJfZG9jdW1lbnQYCiABKAUSJAocbWF4X2F0dGFjaG1lbnRzX3Blcl9kb2N1bWVudBgLIAEoBRIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYDyABKAUSGAoQcmVtb3ZlX29uX2RldGFjaBgQIAEoCBIdChVhdXRvX3JldmlzaW9uX2VuYWJsZWQYGyABKAgSFwoPYWxsb3dlZF9vcmlnaW5zGA4gAygJEi4KCmNyZWF0ZWRfYXQYDCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYDSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIi8KC01ldHJpY1BvaW50EhEKCXRpbWVzdGFtcBgBIAEoAxINCgV2YWx1ZRgCIAEoBSKjDAoWVXBkYXRhYmxlUHJvamVjdEZpZWxkcxIqCgRuYW1lGAEgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjYKEGF1dGhfd2ViaG9va191cmwYAiABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSUgoUYXV0aF93ZWJob29rX21ldGhvZHMYAyABKAsyNC55b3JraWUudjEuVXBkYXRhYmxlUHJvamVjdEZpZWxkcy5BdXRoV2ViaG9va01ldGhvZHMSPgoYYXV0aF93ZWJob29rX21heF9yZXRyaWVzGAwgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlVJbnQ2NFZhbHVlEkQKHmF1dGhfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgNIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJECh5hdXRoX3dlYmhvb2tfbWF4X3dhaXRfaW50ZXJ2YWwYDiABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSQgocYXV0aF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgPIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRI3ChFldmVudF93ZWJob29rX3VybBgEIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJSChRldmVudF93ZWJob29rX2V2ZW50cxgFIAEoCzI0LnlvcmtpZS52MS5VcGRhdGFibGVQcm9qZWN0RmllbGRzLkV2ZW50V2ViaG9va0V2ZW50cxI/ChlldmVudF93ZWJob29rX21heF9yZXRyaWVzGBAgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlVJbnQ2NFZhbHVlEkUKH2V2ZW50X3dlYmhvb2tfbWluX3dhaXRfaW50ZXJ2YWwYESABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSRQofZXZlbnRfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgSIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJDCh1ldmVudF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgTIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRI3ChJzbmFwc2hvdF90aHJlc2hvbGQYFCABKAsyGy5nb29nbGUucHJvdG9idWYuSW50NjRWYWx1ZRI2ChFzbmFwc2hvdF9pbnRlcnZhbBgVIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlEkEKG2NsaWVudF9kZWFjdGl2YXRlX3RocmVzaG9sZBgGIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJBChxtYXhfc3Vic2NyaWJlcnNfcGVyX2RvY3VtZW50GAcgASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSQQocbWF4X2F0dGFjaG1lbnRzX3Blcl9kb2N1bWVudBgIIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQzMlZhbHVlEjoKFW1heF9zaXplX3Blcl9kb2N1bWVudBgKIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQzMlZhbHVlEjQKEHJlbW92ZV9vbl9kZXRhY2gYCyABKAsyGi5nb29nbGUucHJvdG9idWYuQm9vbFZhbHVlEjkKFWF1dG9fcmV2aXNpb25fZW5hYmxlZBgWIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUSSQoPYWxsb3dlZF9vcmlnaW5zGAkgASgLMjAueW9ya2llLnYxLlVwZGF0YWJsZVByb2plY3RGaWVsZHMuQWxsb3dlZE9yaWdpbnMaJQoSQXV0aFdlYmhvb2tNZXRob2RzEg8KB21ldGhvZHMYASADKAkaJAoSRXZlbnRXZWJob29rRXZlbnRzEg4KBmV2ZW50cxgBIAMoCRohCg5BbGxvd2VkT3JpZ2lucxIPCgdvcmlnaW5zGAEgAygJIqcDCg9Eb2N1bWVudFN1bW1hcnkSCgoCaWQYASABKAkSCwoDa2V5GAIgASgJEgwKBHJvb3QYAyABKAkSGAoQYXR0YWNoZWRfY2xpZW50cxgHIAEoBRIpCg1kb2N1bWVudF9zaXplGAggASgLMhIueW9ya2llLnYxLkRvY1NpemUSEgoKc2NoZW1hX2tleRgJIAEoCRI8CglwcmVzZW5jZXMYCiADKAsyKS55b3JraWUudjEuRG9jdW1lbnRTdW1tYXJ5LlByZXNlbmNlc0VudHJ5Ei4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi8KC2FjY2Vzc2VkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBIuCgp1cGRhdGVkX2F0GAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBpFCg5QcmVzZW5jZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuUHJlc2VuY2U6AjgBItoBCg5QcmVzZW5jZUNoYW5nZRIyCgR0eXBlGAEgASgOMiQueW9ya2llLnYxLlByZXNlbmNlQ2hhbmdlLkNoYW5nZVR5cGUSJQoIcHJlc2VuY2UYAiABKAsyEy55b3JraWUudjEuUHJlc2VuY2UibQoKQ2hhbmdlVHlwZRIbChdDSEFOR0VfVFlQRV9VTlNQRUNJRklFRBAAEhMKD0NIQU5HRV9UWVBFX1BVVBABEhYKEkNIQU5HRV9UWVBFX0RFTEVURRACEhUKEUNIQU5HRV9UWVBFX0NMRUFSEAMiZAoIUHJlc2VuY2USKwoEZGF0YRgBIAMoCzIdLnlvcmtpZS52MS5QcmVzZW5jZS5EYXRhRW50cnkaKwoJRGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiNQoOQ2hhbm5lbFN1bW1hcnkSCwoDa2V5GAEgASgJEhYKDnByZXNlbmNlX2NvdW50GAIgASgFIjQKCkNoZWNrcG9pbnQSEgoKc2VydmVyX3NlcRgBIAEoAxISCgpjbGllbnRfc2VxGAIgASgNImEKC1RleHROb2RlUG9zEikKCmNyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIOCgZvZmZzZXQYAiABKAUSFwoPcmVsYXRpdmVfb2Zmc2V0GAMgASgFIkIKClRpbWVUaWNrZXQSDwoHbGFtcG9ydBgBIAEoAxIRCglkZWxpbWl0ZXIYAiABKA0SEAoIYWN0b3JfaWQYAyABKAwiLgoMRG9jRXZlbnRCb2R5Eg0KBXRvcGljGAEgASgJEg8KB3BheWxvYWQYAiABKAwiawoIRG9jRXZlbnQSJQoEdHlwZRgBIAEoDjIXLnlvcmtpZS52MS5Eb2NFdmVudFR5cGUSEQoJcHVibGlzaGVyGAIgASgJEiUKBGJvZHkYAyABKAsyFy55b3JraWUudjEuRG9jRXZlbnRCb2R5Is4BCgxDaGFubmVsRXZlbnQSKgoEdHlwZRgBIAEoDjIcLnlvcmtpZS52MS5DaGFubmVsRXZlbnQuVHlwZRIRCglwdWJsaXNoZXIYAiABKAkSDQoFY291bnQYAyABKAMSCwoDc2VxGAQgASgDEg0KBXRvcGljGAUgASgJEg8KB3BheWxvYWQYBiABKAwiQwoEVHlwZRIUChBUWVBFX1VOU1BFQ0lGSUVEEAASEQoNVFlQRV9QUkVTRU5DRRABEhIKDlRZUEVfQlJPQURDQVNUEAIiJgoIRGF0YVNpemUSDAoEZGF0YRgBIAEoBRIMCgRtZXRhGAIgASgFIk0KB0RvY1NpemUSIQoEbGl2ZRgBIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZRIfCgJnYxgCIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZSKRAQoGU2NoZW1hEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSDwoHdmVyc2lvbhgDIAEoBRIMCgRib2R5GAQgASgJEh4KBXJ1bGVzGAUgAygLMg8ueW9ya2llLnYxLlJ1bGUSLgoKY3JlYXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiIgoEUnVsZRIMCgRwYXRoGAEgASgJEgwKBHR5cGUYAiABKAkigwEKD1JldmlzaW9uU3VtbWFyeRIKCgJpZBgBIAEoCRINCgVsYWJlbBgCIAEoCRITCgtkZXNjcmlwdGlvbhgDIAEoCRIQCghzbmFwc2hvdBgEIAEoCRIuCgpjcmVhdGVkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCrUAgoJVmFsdWVUeXBlEhMKD1ZBTFVFX1RZUEVfTlVMTBAAEhYKElZBTFVFX1RZUEVfQk9PTEVBThABEhYKElZBTFVFX1RZUEVfSU5URUdFUhACEhMKD1ZBTFVFX1RZUEVfTE9ORxADEhUKEVZBTFVFX1RZUEVfRE9VQkxFEAQSFQoRVkFMVUVfVFlQRV9TVFJJTkcQBRIUChBWQUxVRV9UWVBFX0JZVEVTEAYSEwoPVkFMVUVfVFlQRV9EQVRFEAcSGgoWVkFMVUVfVFlQRV9KU09OX09CSkVDVBAIEhkKFVZBTFVFX1RZUEVfSlNPTl9BUlJBWRAJEhMKD1ZBTFVFX1RZUEVfVEVYVBAKEhoKFlZBTFVFX1RZUEVfSU5URUdFUl9DTlQQCxIXChNWQUxVRV9UWVBFX0xPTkdfQ05UEAwSEwoPVkFMVUVfVFlQRV9UUkVFEA0qpgEKDERvY0V2ZW50VHlwZRIjCh9ET0NfRVZFTlRfVFlQRV9ET0NVTUVOVF9DSEFOR0VEEAASIwofRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfV0FUQ0hFRBABEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX1VOV0FUQ0hFRBACEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX0JST0FEQ0FTVBADQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[JE,l1]),NN=ae(ce,0),TN=ae(ce,1),RN=ae(ce,2),fh=ae(ce,3),hh=ae(ce,4),dh=ae(ce,5),IN=ae(ce,5,0),CN=ae(ce,5,1),wN=ae(ce,5,2),DN=ae(ce,5,3),ON=ae(ce,5,4),VN=ae(ce,5,5),xN=ae(ce,5,6),UN=ae(ce,5,7),BN=ae(ce,5,8),LN=ae(ce,5,9),rr=ae(ce,6),hn=ae(ce,7),MN=ae(ce,7,0),ZN=ae(ce,7,1),zN=ae(ce,7,2),YN=ae(ce,7,3),GN=ae(ce,7,4),_N=ae(ce,7,5),WN=ae(ce,8),KN=ae(ce,9),gv=ae(ce,10),XN=ae(ce,11),JN=ae(ce,12),kN=ae(ce,13),FN=ae(ce,14),jN=ae(ce,15),HN=ae(ce,16),Hp=ae(ce,22);var zs=(i=>(i[i.UNSPECIFIED=0]="UNSPECIFIED",i[i.PUT=1]="PUT",i[i.DELETE=2]="DELETE",i[i.CLEAR=3]="CLEAR",i))(zs||{});const QN=ae(ce,23),$N=ae(ce,25),PN=ae(ce,26),qN=ae(ce,27);var mv=(i=>(i[i.UNSPECIFIED=0]="UNSPECIFIED",i[i.PRESENCE=1]="PRESENCE",i[i.BROADCAST=2]="BROADCAST",i))(mv||{}),oe=(i=>(i[i.NULL=0]="NULL",i[i.BOOLEAN=1]="BOOLEAN",i[i.INTEGER=2]="INTEGER",i[i.LONG=3]="LONG",i[i.DOUBLE=4]="DOUBLE",i[i.STRING=5]="STRING",i[i.BYTES=6]="BYTES",i[i.DATE=7]="DATE",i[i.JSON_OBJECT=8]="JSON_OBJECT",i[i.JSON_ARRAY=9]="JSON_ARRAY",i[i.TEXT=10]="TEXT",i[i.INTEGER_CNT=11]="INTEGER_CNT",i[i.LONG_CNT=12]="LONG_CNT",i[i.TREE=13]="TREE",i))(oe||{}),wu=(i=>(i[i.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",i[i.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",i[i.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",i[i.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",i))(wu||{});const eT=fi("Ch5zcmMvYXBpL3lvcmtpZS92MS95b3JraWUucHJvdG8SCXlvcmtpZS52MSKeAQoVQWN0aXZhdGVDbGllbnRSZXF1ZXN0EhIKCmNsaWVudF9rZXkYASABKAkSQAoIbWV0YWRhdGEYAiADKAsyLi55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIisKFkFjdGl2YXRlQ2xpZW50UmVzcG9uc2USEQoJY2xpZW50X2lkGAEgASgJIkEKF0RlYWN0aXZhdGVDbGllbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtzeW5jaHJvbm91cxgCIAEoCCIaChhEZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiagoVQXR0YWNoRG9jdW1lbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRIqCgtjaGFuZ2VfcGFjaxgCIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrEhIKCnNjaGVtYV9rZXkYAyABKAkinwEKFkF0dGFjaERvY3VtZW50UmVzcG9uc2USEwoLZG9jdW1lbnRfaWQYASABKAkSKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYAyABKAUSJQoMc2NoZW1hX3J1bGVzGAQgAygLMg8ueW9ya2llLnYxLlJ1bGUiiwEKFURldGFjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSKgoLY2hhbmdlX3BhY2sYAyABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIeChZyZW1vdmVfaWZfbm90X2F0dGFjaGVkGAQgASgIIkQKFkRldGFjaERvY3VtZW50UmVzcG9uc2USKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjayI+ChRXYXRjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkitgEKFVdhdGNoRG9jdW1lbnRSZXNwb25zZRJJCg5pbml0aWFsaXphdGlvbhgBIAEoCzIvLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UuSW5pdGlhbGl6YXRpb25IABIkCgVldmVudBgCIAEoCzITLnlvcmtpZS52MS5Eb2NFdmVudEgAGiQKDkluaXRpYWxpemF0aW9uEhIKCmNsaWVudF9pZHMYASADKAlCBgoEYm9keSJrChVSZW1vdmVEb2N1bWVudFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siRAoWUmVtb3ZlRG9jdW1lbnRSZXNwb25zZRIqCgtjaGFuZ2VfcGFjaxgBIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrIn8KFlB1c2hQdWxsQ2hhbmdlc1JlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2sSEQoJcHVzaF9vbmx5GAQgASgIIkUKF1B1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlEioKC2NoYW5nZV9wYWNrGAEgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siYwoVQ3JlYXRlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRINCgVsYWJlbBgDIAEoCRITCgtkZXNjcmlwdGlvbhgEIAEoCSJGChZDcmVhdGVSZXZpc2lvblJlc3BvbnNlEiwKCHJldmlzaW9uGAEgASgLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJRChJHZXRSZXZpc2lvblJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEhMKC3JldmlzaW9uX2lkGAMgASgJIkMKE0dldFJldmlzaW9uUmVzcG9uc2USLAoIcmV2aXNpb24YASABKAsyGi55b3JraWUudjEuUmV2aXNpb25TdW1tYXJ5InUKFExpc3RSZXZpc2lvbnNSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRIRCglwYWdlX3NpemUYAyABKAUSDgoGb2Zmc2V0GAQgASgFEhIKCmlzX2ZvcndhcmQYBSABKAgiRgoVTGlzdFJldmlzaW9uc1Jlc3BvbnNlEi0KCXJldmlzaW9ucxgBIAMoCzIaLnlvcmtpZS52MS5SZXZpc2lvblN1bW1hcnkiVQoWUmVzdG9yZVJldmlzaW9uUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSEwoLcmV2aXNpb25faWQYBCABKAkiGQoXUmVzdG9yZVJldmlzaW9uUmVzcG9uc2UiPgoUQXR0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJIjoKFUF0dGFjaENoYW5uZWxSZXNwb25zZRISCgpzZXNzaW9uX2lkGAEgASgJEg0KBWNvdW50GAIgASgDIlIKFERldGFjaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRISCgpzZXNzaW9uX2lkGAMgASgJIiYKFURldGFjaENoYW5uZWxSZXNwb25zZRINCgVjb3VudBgBIAEoAyJTChVSZWZyZXNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEhIKCnNlc3Npb25faWQYAyABKAkiJwoWUmVmcmVzaENoYW5uZWxSZXNwb25zZRINCgVjb3VudBgBIAEoAyI9ChNXYXRjaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCSKDAQoUV2F0Y2hDaGFubmVsUmVzcG9uc2USOQoLaW5pdGlhbGl6ZWQYASABKAsyIi55b3JraWUudjEuV2F0Y2hDaGFubmVsSW5pdGlhbGl6ZWRIABIoCgVldmVudBgCIAEoCzIXLnlvcmtpZS52MS5DaGFubmVsRXZlbnRIAEIGCgRib2R5IjUKF1dhdGNoQ2hhbm5lbEluaXRpYWxpemVkEg0KBWNvdW50GAEgASgDEgsKA3NlcRgCIAEoAyJaChBCcm9hZGNhc3RSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRINCgV0b3BpYxgDIAEoCRIPCgdwYXlsb2FkGAQgASgMIhMKEUJyb2FkY2FzdFJlc3BvbnNlMoULCg1Zb3JraWVTZXJ2aWNlElcKDkFjdGl2YXRlQ2xpZW50EiAueW9ya2llLnYxLkFjdGl2YXRlQ2xpZW50UmVxdWVzdBohLnlvcmtpZS52MS5BY3RpdmF0ZUNsaWVudFJlc3BvbnNlIgASXQoQRGVhY3RpdmF0ZUNsaWVudBIiLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVxdWVzdBojLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiABJXCg5BdHRhY2hEb2N1bWVudBIgLnlvcmtpZS52MS5BdHRhY2hEb2N1bWVudFJlcXVlc3QaIS55b3JraWUudjEuQXR0YWNoRG9jdW1lbnRSZXNwb25zZSIAElcKDkRldGFjaERvY3VtZW50EiAueW9ya2llLnYxLkRldGFjaERvY3VtZW50UmVxdWVzdBohLnlvcmtpZS52MS5EZXRhY2hEb2N1bWVudFJlc3BvbnNlIgASVwoOUmVtb3ZlRG9jdW1lbnQSIC55b3JraWUudjEuUmVtb3ZlRG9jdW1lbnRSZXF1ZXN0GiEueW9ya2llLnYxLlJlbW92ZURvY3VtZW50UmVzcG9uc2UiABJaCg9QdXNoUHVsbENoYW5nZXMSIS55b3JraWUudjEuUHVzaFB1bGxDaGFuZ2VzUmVxdWVzdBoiLnlvcmtpZS52MS5QdXNoUHVsbENoYW5nZXNSZXNwb25zZSIAElYKDVdhdGNoRG9jdW1lbnQSHy55b3JraWUudjEuV2F0Y2hEb2N1bWVudFJlcXVlc3QaIC55b3JraWUudjEuV2F0Y2hEb2N1bWVudFJlc3BvbnNlIgAwARJXCg5DcmVhdGVSZXZpc2lvbhIgLnlvcmtpZS52MS5DcmVhdGVSZXZpc2lvblJlcXVlc3QaIS55b3JraWUudjEuQ3JlYXRlUmV2aXNpb25SZXNwb25zZSIAEk4KC0dldFJldmlzaW9uEh0ueW9ya2llLnYxLkdldFJldmlzaW9uUmVxdWVzdBoeLnlvcmtpZS52MS5HZXRSZXZpc2lvblJlc3BvbnNlIgASVAoNTGlzdFJldmlzaW9ucxIfLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVxdWVzdBogLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVzcG9uc2UiABJaCg9SZXN0b3JlUmV2aXNpb24SIS55b3JraWUudjEuUmVzdG9yZVJldmlzaW9uUmVxdWVzdBoiLnlvcmtpZS52MS5SZXN0b3JlUmV2aXNpb25SZXNwb25zZSIAElQKDUF0dGFjaENoYW5uZWwSHy55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlcXVlc3QaIC55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlc3BvbnNlIgASVAoNRGV0YWNoQ2hhbm5lbBIfLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVxdWVzdBogLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVzcG9uc2UiABJXCg5SZWZyZXNoQ2hhbm5lbBIgLnlvcmtpZS52MS5SZWZyZXNoQ2hhbm5lbFJlcXVlc3QaIS55b3JraWUudjEuUmVmcmVzaENoYW5uZWxSZXNwb25zZSIAElMKDFdhdGNoQ2hhbm5lbBIeLnlvcmtpZS52MS5XYXRjaENoYW5uZWxSZXF1ZXN0Gh8ueW9ya2llLnYxLldhdGNoQ2hhbm5lbFJlc3BvbnNlIgAwARJICglCcm9hZGNhc3QSGy55b3JraWUudjEuQnJvYWRjYXN0UmVxdWVzdBocLnlvcmtpZS52MS5Ccm9hZGNhc3RSZXNwb25zZSIAQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[ce]),tT=fN(eT,0),nT=fi("Ch5nb29nbGUvcnBjL2Vycm9yX2RldGFpbHMucHJvdG8SCmdvb2dsZS5ycGMikwEKCUVycm9ySW5mbxIOCgZyZWFzb24YASABKAkSDgoGZG9tYWluGAIgASgJEjUKCG1ldGFkYXRhGAMgAygLMiMuZ29vZ2xlLnJwYy5FcnJvckluZm8uTWV0YWRhdGFFbnRyeRovCg1NZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiOwoJUmV0cnlJbmZvEi4KC3JldHJ5X2RlbGF5GAEgASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIjIKCURlYnVnSW5mbxIVCg1zdGFja19lbnRyaWVzGAEgAygJEg4KBmRldGFpbBgCIAEoCSKPAwoMUXVvdGFGYWlsdXJlEjYKCnZpb2xhdGlvbnMYASADKAsyIi5nb29nbGUucnBjLlF1b3RhRmFpbHVyZS5WaW9sYXRpb24axgIKCVZpb2xhdGlvbhIPCgdzdWJqZWN0GAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhMKC2FwaV9zZXJ2aWNlGAMgASgJEhQKDHF1b3RhX21ldHJpYxgEIAEoCRIQCghxdW90YV9pZBgFIAEoCRJRChBxdW90YV9kaW1lbnNpb25zGAYgAygLMjcuZ29vZ2xlLnJwYy5RdW90YUZhaWx1cmUuVmlvbGF0aW9uLlF1b3RhRGltZW5zaW9uc0VudHJ5EhMKC3F1b3RhX3ZhbHVlGAcgASgDEh8KEmZ1dHVyZV9xdW90YV92YWx1ZRgIIAEoA0gAiAEBGjYKFFF1b3RhRGltZW5zaW9uc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCFQoTX2Z1dHVyZV9xdW90YV92YWx1ZSKVAQoTUHJlY29uZGl0aW9uRmFpbHVyZRI9Cgp2aW9sYXRpb25zGAEgAygLMikuZ29vZ2xlLnJwYy5QcmVjb25kaXRpb25GYWlsdXJlLlZpb2xhdGlvbho/CglWaW9sYXRpb24SDAoEdHlwZRgBIAEoCRIPCgdzdWJqZWN0GAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJIswBCgpCYWRSZXF1ZXN0Ej8KEGZpZWxkX3Zpb2xhdGlvbnMYASADKAsyJS5nb29nbGUucnBjLkJhZFJlcXVlc3QuRmllbGRWaW9sYXRpb24afQoORmllbGRWaW9sYXRpb24SDQoFZmllbGQYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDgoGcmVhc29uGAMgASgJEjcKEWxvY2FsaXplZF9tZXNzYWdlGAQgASgLMhwuZ29vZ2xlLnJwYy5Mb2NhbGl6ZWRNZXNzYWdlIjcKC1JlcXVlc3RJbmZvEhIKCnJlcXVlc3RfaWQYASABKAkSFAoMc2VydmluZ19kYXRhGAIgASgJImAKDFJlc291cmNlSW5mbxIVCg1yZXNvdXJjZV90eXBlGAEgASgJEhUKDXJlc291cmNlX25hbWUYAiABKAkSDQoFb3duZXIYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkiVgoESGVscBIkCgVsaW5rcxgBIAMoCzIVLmdvb2dsZS5ycGMuSGVscC5MaW5rGigKBExpbmsSEwoLZGVzY3JpcHRpb24YASABKAkSCwoDdXJsGAIgASgJIjMKEExvY2FsaXplZE1lc3NhZ2USDgoGbG9jYWxlGAEgASgJEg8KB21lc3NhZ2UYAiABKAlCbAoOY29tLmdvb2dsZS5ycGNCEUVycm9yRGV0YWlsc1Byb3RvUAFaP2dvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvcnBjL2VycmRldGFpbHM7ZXJyZGV0YWlsc6ICA1JQQ2IGcHJvdG8z",[jE]),iT=ae(nT,0);var E=(i=>(i.Ok="ok",i.ErrClientNotActivated="ErrClientNotActivated",i.ErrClientNotFound="ErrClientNotFound",i.ErrUnimplemented="ErrUnimplemented",i.ErrInvalidType="ErrInvalidType",i.ErrDummy="ErrDummy",i.ErrNotAttached="ErrNotAttached",i.ErrNotDetached="ErrNotDetached",i.ErrDocumentRemoved="ErrDocumentRemoved",i.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",i.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",i.ErrInvalidObjectKey="ErrInvalidObjectKey",i.ErrInvalidArgument="ErrInvalidArgument",i.ErrNotInitialized="ErrNotInitialized",i.ErrNotReady="ErrNotReady",i.ErrRefused="ErrRefused",i.ErrContextNotProvided="ErrContextNotProvided",i.ErrPermissionDenied="ErrPermissionDenied",i.ErrUnauthenticated="ErrUnauthenticated",i.ErrTooManySubscribers="ErrTooManySubscribers",i.ErrTooManyAttachments="ErrTooManyAttachments",i))(E||{});class T extends Error{constructor(e,a){super(a),this.code=e,this.message=a,this.toString=()=>`[code=${this.code}]: ${this.message}`}name="YorkieError";stack}var Mn=(i=>(i.Put="put",i.Clear="clear",i))(Mn||{});const gh="000000000000000000000000",Un=24;class on{lamport;delimiter;actorID;constructor(e,a,s){this.lamport=e,this.delimiter=a,this.actorID=s}static of(e,a,s){return new on(e,a,s)}static fromStruct(e){return on.of(BigInt(e.lamport),e.delimiter,e.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(e){return new on(this.lamport,this.delimiter,e)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(e){return this.compare(e)>0}equals(e){return this.compare(e)===0}compare(e){if(this.lamport>e.lamport)return 1;if(e.lamport>this.lamport)return-1;const a=this.actorID.localeCompare(e.actorID);return a!==0?a:this.delimiter>e.delimiter?1:e.delimiter>this.delimiter?-1:0}}const Uf=0n,yv=0,Bf=9223372036854775807n,vr=new on(Uf,yv,gh);function xn(i){return i.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(e){switch(e){case'"':case"\\":return"\\"+e;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}})}class ks{createdAt;movedAt;removedAt;constructor(e){this.createdAt=e}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(e){this.createdAt=e}setMovedAt(e){return!this.movedAt||e&&e.after(this.movedAt)?(this.movedAt=e,!0):!1}setRemovedAt(e){this.removedAt=e}remove(e){return e&&e.after(this.createdAt)&&(!this.removedAt||e.after(this.removedAt))?(this.removedAt=e,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let e=0;return this.getCreatedAt()&&(e+=Un),this.getMovedAt()&&(e+=Un),this.getRemovedAt()&&(e+=Un),e}}class _i extends ks{constructor(e){super(e)}}class Du{strKey;value;constructor(e,a){this.strKey=e,this.value=a}static of(e,a){return new Du(e,a)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(e){return this.value.remove(e)}}class Sr{nodeMapByKey;nodeMapByCreatedAt;constructor(){this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Sr}set(e,a,s){let u;const c=this.nodeMapByKey.get(e);c&&!c.isRemoved()&&c.remove(s)&&(u=c.getValue());const h=Du.of(e,a);return this.nodeMapByCreatedAt.set(a.getCreatedAt().toIDString(),h),(!c||s.after(c.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(e,h),a.setMovedAt(s)),u}delete(e,a){if(!this.nodeMapByCreatedAt.has(e.toIDString()))throw new T(E.ErrInvalidArgument,`fail to find ${e.toIDString()}`);const s=this.nodeMapByCreatedAt.get(e.toIDString());return s.remove(a),s.getValue()}subPathOf(e){const a=this.nodeMapByCreatedAt.get(e.toIDString());if(a)return a.getStrKey()}purge(e){const a=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!a)throw new T(E.ErrInvalidArgument,`fail to find ${e.getCreatedAt().toIDString()}`);const s=this.nodeMapByKey.get(a.getStrKey());a===s&&this.nodeMapByKey.delete(s.getStrKey()),this.nodeMapByCreatedAt.delete(a.getValue().getCreatedAt().toIDString())}deleteByKey(e,a){const s=this.nodeMapByKey.get(e);if(s&&s.remove(a))return s.getValue()}has(e){const a=this.nodeMapByKey.get(e);return a?!a.isRemoved():!1}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}get(e){const a=this.nodeMapByKey.get(e);if(!(!a||a.isRemoved()))return a}deepcopy(){const e=Sr.create();for(const[,a]of this.nodeMapByCreatedAt)e.nodeMapByCreatedAt.set(a.getValue().getCreatedAt().toIDString(),Du.of(a.getStrKey(),a.getValue().deepcopy()));for(const[a,s]of this.nodeMapByKey)e.nodeMapByKey.set(a,e.nodeMapByCreatedAt.get(s.getValue().getCreatedAt().toIDString()));return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByCreatedAt)yield e}}class vt extends _i{memberNodes;constructor(e,a){super(e),this.memberNodes=a}static create(e,a){if(!a)return new vt(e,Sr.create());const s=Sr.create();for(const[u,c]of Object.entries(a))s.set(u,c.deepcopy(),c.getCreatedAt());return new vt(e,s)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,a,s){return this.memberNodes.set(e,a,s)}delete(e,a){return this.memberNodes.delete(e,a)}deleteByKey(e,a){return this.memberNodes.deleteByKey(e,a)}get(e){return this.memberNodes.get(e)?.getValue()}getByID(e){return this.memberNodes.getByID(e)?.getValue()}has(e){return this.memberNodes.has(e)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const[a,s]of this)e.push(`"${xn(a)}":${s.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[a,s]of this){const{createdAt:u,value:c,type:h}=s.toJSForTest();e[a]={key:a,createdAt:u,value:c,type:h}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[a]of this)e.push(a);return e}toSortedJSON(){const e=new Set;for(const[s]of this)e.add(s);const a=[];for(const s of Array.from(e).sort()){const u=this.memberNodes.get(s)?.getValue();a.push(`"${xn(s)}":${u.toSortedJSON()}`)}return`{${a.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=vt.create(this.getCreatedAt());return e.memberNodes=this.memberNodes.deepcopy(),e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}getDescendants(e){for(const a of this.memberNodes){const s=a.getValue();if(e(s,this))return;s instanceof _i&&s.getDescendants(e)}}*[Symbol.iterator](){for(const e of this.memberNodes)e.isRemoved()||(yield[e.getStrKey(),e.getValue()])}}var Je=(i=>(i.Local="local",i.Remote="remote",i.UndoRedo="undoredo",i))(Je||{});class Cn{parentCreatedAt;executedAt;constructor(e,a){this.parentCreatedAt=e,this.executedAt=a}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new T(E.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(e){this.executedAt&&(this.executedAt=this.executedAt.setActor(e))}setExecutedAt(e){this.executedAt=e}}class pv{value;left;right;parent;weight;constructor(e){this.value=e,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(e){this.left=e}setRight(e){this.right=e}setParent(e){this.parent=e}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(e){this.weight+=e}initWeight(){this.weight=this.getLength()}}class Ys{root;constructor(e){this.root=e}get length(){return this.root?this.root.getWeight():0}find(e){if(!this.root||e<0)return[void 0,0];let a=this.root;for(;;)if(a.hasLeft()&&e<=a.getLeftWeight())a=a.getLeft();else if(a.hasRight()&&a.getLeftWeight()+a.getLength()<e)e-=a.getLeftWeight()+a.getLength(),a=a.getRight();else{e-=a.getLeftWeight();break}if(e>a.getLength())throw new T(E.ErrInvalidArgument,`out of index range: pos: ${e} > node.length: ${a.getLength()}`);return this.splayNode(a),[a,e]}indexOf(e){return!e||e!==this.root&&!e.hasLinks()?-1:(this.splayNode(e),this.root.getLeftWeight())}getRoot(){return this.root}insert(e){return this.insertAfter(this.root,e)}insertAfter(e,a){return e?(this.splayNode(e),this.root=a,a.setRight(e.getRight()),e.hasRight()&&e.getRight().setParent(a),a.setLeft(e),e.setParent(a),e.setRight(),this.updateWeight(e),this.updateWeight(a),a):(this.root=a,a)}updateWeight(e){e.initWeight(),e.hasLeft()&&e.increaseWeight(e.getLeftWeight()),e.hasRight()&&e.increaseWeight(e.getRightWeight())}updateTreeWeight(e){for(;e;)this.updateWeight(e),e=e.getParent()}splayNode(e){if(e)for(;;)if(this.isLeftChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e),this.rotateLeft(e);else if(this.isLeftChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e.getParent()),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e.getParent()),this.rotateLeft(e);else{this.isLeftChild(e)?this.rotateRight(e):this.isRightChild(e)&&this.rotateLeft(e),this.updateWeight(e);return}}delete(e){this.splayNode(e);const a=new Ys(e.getLeft());a.root&&a.root.setParent();const s=new Ys(e.getRight());if(s.root&&s.root.setParent(),a.root){const u=a.getRightmost();a.splayNode(u),a.root.setRight(s.root),s.root&&s.root.setParent(a.root),this.root=a.root}else this.root=s.root;e.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(e,a){if(!a){this.splayNode(e),this.cutOffRight(e);return}this.splayNode(e),this.splayNode(a),a.getLeft()!=e&&this.rotateRight(e),this.cutOffRight(e)}cutOffRight(e){const a=[];this.traversePostorder(e.getRight(),a);for(const s of a)s.initWeight();this.updateTreeWeight(e)}toTestString(){const e=[];return this.traverseInorder(this.root,e),e.map(a=>`[${a.getWeight()},${a.getLength()}]${a.getValue()||""}`).join("")}checkWeight(){const e=[];this.traverseInorder(this.root,e);for(const a of e)if(a.getWeight()!=a.getLength()+a.getLeftWeight()+a.getRightWeight())return!1;return!0}getRightmost(){let e=this.root;for(;e.hasRight();)e=e.getRight();return e}traverseInorder(e,a){e&&(this.traverseInorder(e.getLeft(),a),a.push(e),this.traverseInorder(e.getRight(),a))}traversePostorder(e,a){e&&(this.traversePostorder(e.getLeft(),a),this.traversePostorder(e.getRight(),a),a.push(e))}rotateLeft(e){const a=e.getParent();a.hasParent()?a===a.getParent().getLeft()?a.getParent().setLeft(e):a.getParent().setRight(e):this.root=e,e.setParent(a.getParent()),a.setRight(e.getLeft()),a.hasRight()&&a.getRight().setParent(a),e.setLeft(a),e.getLeft().setParent(e),this.updateWeight(a),this.updateWeight(e)}rotateRight(e){const a=e.getParent();a.hasParent()?a===a.getParent().getLeft()?a.getParent().setLeft(e):a.getParent().setRight(e):this.root=e,e.setParent(a.getParent()),a.setLeft(e.getRight()),a.hasLeft()&&a.getLeft().setParent(a),e.setRight(a),e.getRight().setParent(e),this.updateWeight(a),this.updateWeight(e)}isLeftChild(e){return e&&e.hasParent()?e.getParent().getLeft()===e:!1}isRightChild(e){return e&&e.hasParent()?e.getParent().getRight()===e:!1}}var ln=null;try{ln=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function me(i,e,a){this.low=i|0,this.high=e|0,this.unsigned=!!a}me.prototype.__isLong__;Object.defineProperty(me.prototype,"__isLong__",{value:!0});function At(i){return(i&&i.__isLong__)===!0}function Qp(i){var e=Math.clz32(i&-i);return i?31-e:e}me.isLong=At;var $p={},Pp={};function va(i,e){var a,s,u;return e?(i>>>=0,(u=0<=i&&i<256)&&(s=Pp[i],s)?s:(a=Ne(i,0,!0),u&&(Pp[i]=a),a)):(i|=0,(u=-128<=i&&i<128)&&(s=$p[i],s)?s:(a=Ne(i,i<0?-1:0,!1),u&&($p[i]=a),a))}me.fromInt=va;function un(i,e){if(isNaN(i))return e?si:Nn;if(e){if(i<0)return si;if(i>=bv)return Av}else{if(i<=-eb)return Ut;if(i+1>=eb)return Sv}return i<0?un(-i,e).neg():Ne(i%Ar|0,i/Ar|0,e)}me.fromNumber=un;function Ne(i,e,a){return new me(i,e,a)}me.fromBits=Ne;var Ou=Math.pow;function mh(i,e,a){if(i.length===0)throw Error("empty string");if(typeof e=="number"?(a=e,e=!1):e=!!e,i==="NaN"||i==="Infinity"||i==="+Infinity"||i==="-Infinity")return e?si:Nn;if(a=a||10,a<2||36<a)throw RangeError("radix");var s;if((s=i.indexOf("-"))>0)throw Error("interior hyphen");if(s===0)return mh(i.substring(1),e,a).neg();for(var u=un(Ou(a,8)),c=Nn,h=0;h<i.length;h+=8){var d=Math.min(8,i.length-h),y=parseInt(i.substring(h,h+d),a);if(d<8){var m=un(Ou(a,d));c=c.mul(m).add(un(y))}else c=c.mul(u),c=c.add(un(y))}return c.unsigned=e,c}me.fromString=mh;function dn(i,e){return typeof i=="number"?un(i,e):typeof i=="string"?mh(i,e):Ne(i.low,i.high,typeof e=="boolean"?e:i.unsigned)}me.fromValue=dn;var qp=65536,aT=1<<24,Ar=qp*qp,bv=Ar*Ar,eb=bv/2,tb=va(aT),Nn=va(0);me.ZERO=Nn;var si=va(0,!0);me.UZERO=si;var cr=va(1);me.ONE=cr;var vv=va(1,!0);me.UONE=vv;var Lf=va(-1);me.NEG_ONE=Lf;var Sv=Ne(-1,2147483647,!1);me.MAX_VALUE=Sv;var Av=Ne(-1,-1,!0);me.MAX_UNSIGNED_VALUE=Av;var Ut=Ne(0,-2147483648,!1);me.MIN_VALUE=Ut;var G=me.prototype;G.toInt=function(){return this.unsigned?this.low>>>0:this.low};G.toNumber=function(){return this.unsigned?(this.high>>>0)*Ar+(this.low>>>0):this.high*Ar+(this.low>>>0)};G.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Ut)){var a=un(e),s=this.div(a),u=s.mul(a).sub(this);return s.toString(e)+u.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var c=un(Ou(e,6),this.unsigned),h=this,d="";;){var y=h.div(c),m=h.sub(y.mul(c)).toInt()>>>0,v=m.toString(e);if(h=y,h.isZero())return v+d;for(;v.length<6;)v="0"+v;d=""+v+d}};G.getHighBits=function(){return this.high};G.getHighBitsUnsigned=function(){return this.high>>>0};G.getLowBits=function(){return this.low};G.getLowBitsUnsigned=function(){return this.low>>>0};G.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ut)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,a=31;a>0&&(e&1<<a)==0;a--);return this.high!=0?a+33:a+1};G.isSafeInteger=function(){var e=this.high>>21;return e?this.unsigned?!1:e===-1&&!(this.low===0&&this.high===-2097152):!0};G.isZero=function(){return this.high===0&&this.low===0};G.eqz=G.isZero;G.isNegative=function(){return!this.unsigned&&this.high<0};G.isPositive=function(){return this.unsigned||this.high>=0};G.isOdd=function(){return(this.low&1)===1};G.isEven=function(){return(this.low&1)===0};G.equals=function(e){return At(e)||(e=dn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};G.eq=G.equals;G.notEquals=function(e){return!this.eq(e)};G.neq=G.notEquals;G.ne=G.notEquals;G.lessThan=function(e){return this.comp(e)<0};G.lt=G.lessThan;G.lessThanOrEqual=function(e){return this.comp(e)<=0};G.lte=G.lessThanOrEqual;G.le=G.lessThanOrEqual;G.greaterThan=function(e){return this.comp(e)>0};G.gt=G.greaterThan;G.greaterThanOrEqual=function(e){return this.comp(e)>=0};G.gte=G.greaterThanOrEqual;G.ge=G.greaterThanOrEqual;G.compare=function(e){if(At(e)||(e=dn(e)),this.eq(e))return 0;var a=this.isNegative(),s=e.isNegative();return a&&!s?-1:!a&&s?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};G.comp=G.compare;G.negate=function(){return!this.unsigned&&this.eq(Ut)?Ut:this.not().add(cr)};G.neg=G.negate;G.add=function(e){At(e)||(e=dn(e));var a=this.high>>>16,s=this.high&65535,u=this.low>>>16,c=this.low&65535,h=e.high>>>16,d=e.high&65535,y=e.low>>>16,m=e.low&65535,v=0,N=0,V=0,C=0;return C+=c+m,V+=C>>>16,C&=65535,V+=u+y,N+=V>>>16,V&=65535,N+=s+d,v+=N>>>16,N&=65535,v+=a+h,v&=65535,Ne(V<<16|C,v<<16|N,this.unsigned)};G.subtract=function(e){return At(e)||(e=dn(e)),this.add(e.neg())};G.sub=G.subtract;G.multiply=function(e){if(this.isZero())return this;if(At(e)||(e=dn(e)),ln){var a=ln.mul(this.low,this.high,e.low,e.high);return Ne(a,ln.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?si:Nn;if(this.eq(Ut))return e.isOdd()?Ut:Nn;if(e.eq(Ut))return this.isOdd()?Ut:Nn;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(tb)&&e.lt(tb))return un(this.toNumber()*e.toNumber(),this.unsigned);var s=this.high>>>16,u=this.high&65535,c=this.low>>>16,h=this.low&65535,d=e.high>>>16,y=e.high&65535,m=e.low>>>16,v=e.low&65535,N=0,V=0,C=0,L=0;return L+=h*v,C+=L>>>16,L&=65535,C+=c*v,V+=C>>>16,C&=65535,C+=h*m,V+=C>>>16,C&=65535,V+=u*v,N+=V>>>16,V&=65535,V+=c*m,N+=V>>>16,V&=65535,V+=h*y,N+=V>>>16,V&=65535,N+=s*v+u*m+c*y+h*d,N&=65535,Ne(C<<16|L,N<<16|V,this.unsigned)};G.mul=G.multiply;G.divide=function(e){if(At(e)||(e=dn(e)),e.isZero())throw Error("division by zero");if(ln){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var a=(this.unsigned?ln.div_u:ln.div_s)(this.low,this.high,e.low,e.high);return Ne(a,ln.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?si:Nn;var s,u,c;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return si;if(e.gt(this.shru(1)))return vv;c=si}else{if(this.eq(Ut)){if(e.eq(cr)||e.eq(Lf))return Ut;if(e.eq(Ut))return cr;var h=this.shr(1);return s=h.div(e).shl(1),s.eq(Nn)?e.isNegative()?cr:Lf:(u=this.sub(e.mul(s)),c=s.add(u.div(e)),c)}else if(e.eq(Ut))return this.unsigned?si:Nn;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();c=Nn}for(u=this;u.gte(e);){s=Math.max(1,Math.floor(u.toNumber()/e.toNumber()));for(var d=Math.ceil(Math.log(s)/Math.LN2),y=d<=48?1:Ou(2,d-48),m=un(s),v=m.mul(e);v.isNegative()||v.gt(u);)s-=y,m=un(s,this.unsigned),v=m.mul(e);m.isZero()&&(m=cr),c=c.add(m),u=u.sub(v)}return c};G.div=G.divide;G.modulo=function(e){if(At(e)||(e=dn(e)),ln){var a=(this.unsigned?ln.rem_u:ln.rem_s)(this.low,this.high,e.low,e.high);return Ne(a,ln.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};G.mod=G.modulo;G.rem=G.modulo;G.not=function(){return Ne(~this.low,~this.high,this.unsigned)};G.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};G.clz=G.countLeadingZeros;G.countTrailingZeros=function(){return this.low?Qp(this.low):Qp(this.high)+32};G.ctz=G.countTrailingZeros;G.and=function(e){return At(e)||(e=dn(e)),Ne(this.low&e.low,this.high&e.high,this.unsigned)};G.or=function(e){return At(e)||(e=dn(e)),Ne(this.low|e.low,this.high|e.high,this.unsigned)};G.xor=function(e){return At(e)||(e=dn(e)),Ne(this.low^e.low,this.high^e.high,this.unsigned)};G.shiftLeft=function(e){return At(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ne(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Ne(0,this.low<<e-32,this.unsigned)};G.shl=G.shiftLeft;G.shiftRight=function(e){return At(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ne(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Ne(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};G.shr=G.shiftRight;G.shiftRightUnsigned=function(e){return At(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ne(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?Ne(this.high,0,this.unsigned):Ne(this.high>>>e-32,0,this.unsigned)};G.shru=G.shiftRightUnsigned;G.shr_u=G.shiftRightUnsigned;G.rotateLeft=function(e){var a;return At(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Ne(this.high,this.low,this.unsigned):e<32?(a=32-e,Ne(this.low<<e|this.high>>>a,this.high<<e|this.low>>>a,this.unsigned)):(e-=32,a=32-e,Ne(this.high<<e|this.low>>>a,this.low<<e|this.high>>>a,this.unsigned))};G.rotl=G.rotateLeft;G.rotateRight=function(e){var a;return At(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Ne(this.high,this.low,this.unsigned):e<32?(a=32-e,Ne(this.high<<a|this.low>>>e,this.low<<a|this.high>>>e,this.unsigned)):(e-=32,a=32-e,Ne(this.low<<a|this.high>>>e,this.high<<a|this.low>>>e,this.unsigned))};G.rotr=G.rotateRight;G.toSigned=function(){return this.unsigned?Ne(this.low,this.high,!1):this};G.toUnsigned=function(){return this.unsigned?this:Ne(this.low,this.high,!0)};G.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};G.toBytesLE=function(){var e=this.high,a=this.low;return[a&255,a>>>8&255,a>>>16&255,a>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};G.toBytesBE=function(){var e=this.high,a=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,a>>>24,a>>>16&255,a>>>8&255,a&255]};me.fromBytes=function(e,a,s){return s?me.fromBytesLE(e,a):me.fromBytesBE(e,a)};me.fromBytesLE=function(e,a){return new me(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,a)};me.fromBytesBE=function(e,a){return new me(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],a)};typeof BigInt=="function"&&(me.fromBigInt=function(e,a){var s=Number(BigInt.asIntN(32,e)),u=Number(BigInt.asIntN(32,e>>BigInt(32)));return Ne(s,u,a)},me.fromValue=function(e,a){return typeof e=="bigint"?me.fromBigInt(e,a):dn(e,a)},G.toBigInt=function(){var e=BigInt(this.low>>>0),a=BigInt(this.unsigned?this.high>>>0:this.high);return a<<BigInt(32)|e});var Ye=(i=>(i[i.Null=0]="Null",i[i.Boolean=1]="Boolean",i[i.Integer=2]="Integer",i[i.Long=3]="Long",i[i.Double=4]="Double",i[i.String=5]="String",i[i.Bytes=6]="Bytes",i[i.Date=7]="Date",i))(Ye||{});class Fe extends ks{valueType;value;constructor(e,a){super(a),this.valueType=Fe.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,a){return new Fe(e,a)}static valueFromBytes(e,a){switch(e){case 0:return null;case 1:return!!a[0];case 2:return a[0]|a[1]<<8|a[2]<<16|a[3]<<24;case 4:{const s=new DataView(a.buffer);return a.forEach(function(u,c){s.setUint8(c,u)}),s.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(a);case 3:return me.fromBytesLE(Array.from(a));case 6:return a;case 7:return new Date(me.fromBytesLE(Array.from(a),!0).toNumber());default:throw new T(E.ErrUnimplemented,`unimplemented type: ${e}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new T(E.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${xn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=Fe.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof me)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return Fe.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,a=new Uint8Array(8);return new DataView(a.buffer).setFloat64(0,e,!0),a}case 5:return new TextEncoder().encode(this.value);case 3:{const a=this.value.toBytesLE();return Uint8Array.from(a)}case 6:return this.value;case 7:{const e=this.value,a=me.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(a)}default:throw new T(E.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Vu extends pv{prev;next;movedFrom;constructor(e){super(e),this.value=e}static createAfter(e,a){const s=new Vu(a),u=e.next;return e.next=s,s.prev=e,s.next=u,u&&(u.prev=s),s}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(e){this.movedFrom=e}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class Gs{dummyHead;last;nodeMapByIndex;nodeMapByCreatedAt;constructor(){const e=Fe.of(0,vr);e.setRemovedAt(vr),this.dummyHead=new Vu(e),this.last=this.dummyHead,this.nodeMapByIndex=new Ys,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new Gs}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(e,a){let s=this.nodeMapByCreatedAt.get(e.toIDString());if(!s)throw new T(E.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);for(;s.getValue().getMovedAt()&&s.getValue().getMovedAt().after(a)&&s.getMovedFrom();)s=s.getMovedFrom();for(;s.getNext()&&s.getNext().getPositionedAt().after(a);)s=s.getNext();return s}release(e){this.last===e&&(this.last=e.getPrev()),e.release(),this.nodeMapByIndex.delete(e),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}insertAfter(e,a,s=a.getCreatedAt()){const u=this.findNextBeforeExecutedAt(e,s),c=Vu.createAfter(u,a);return u===this.last&&(this.last=c),this.nodeMapByIndex.insertAfter(u,c),this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),c),c}moveAfter(e,a,s){let u=this.nodeMapByCreatedAt.get(e.toIDString());if(!u)throw new T(E.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);let c=this.nodeMapByCreatedAt.get(a.toIDString());if(!c)throw new T(E.ErrInvalidArgument,`cant find the given node: ${a.toIDString()}`);if(u!==c&&s.after(c.getPositionedAt())){const h=c.getPrev();let d=c.getNext();for(this.release(c),c=this.insertAfter(u.getCreatedAt(),c.getValue(),s),c.getValue().setMovedAt(s),c.setMovedFrom(h);d&&d.getPositionedAt().after(s);)u=c,c=d,d=c.getNext(),this.release(c),c=this.insertAfter(u.getCreatedAt(),c.getValue(),s),c.getValue().setMovedAt(s),c.setMovedFrom(h)}}insert(e){this.insertAfter(this.last.getCreatedAt(),e)}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}subPathOf(e){const a=this.nodeMapByCreatedAt.get(e.toIDString());if(a)return String(this.nodeMapByIndex.indexOf(a))}purge(e){const a=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!a)throw new T(E.ErrInvalidArgument,`fail to find the given createdAt: ${e.getCreatedAt().toIDString()}`);this.release(a)}getByIndex(e){if(e>=this.length)return;const[a,s]=this.nodeMapByIndex.find(e);let u=a;if(e===0&&a===this.dummyHead||s>0)do u&&(u=u.getNext());while(u&&u.isRemoved());return u}getPrevCreatedAt(e){let a=this.nodeMapByCreatedAt.get(e.toIDString());do a=a.getPrev();while(this.dummyHead!==a&&a.isRemoved());return a.getValue().getCreatedAt()}delete(e,a){const s=this.nodeMapByCreatedAt.get(e.toIDString()),u=s.isRemoved();return s.remove(a)&&!u&&this.nodeMapByIndex.splayNode(s),s.getValue()}set(e,a,s){const u=this.nodeMapByCreatedAt.get(e.toIDString());if(!u)throw new T(E.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);return this.insertAfter(u.getCreatedAt(),a,s),this.delete(e,s)}deleteByIndex(e,a){const s=this.getByIndex(e);if(s)return s.remove(a)&&this.nodeMapByIndex.splayNode(s),s.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const e=[];for(const a of this){const s=`${a.getCreatedAt().toIDString()}:${a.getValue().toJSON()}`;a.isRemoved()?e.push(`{${s}}`):e.push(`[${s}]`)}return e.join("")}*[Symbol.iterator](){let e=this.dummyHead.getNext();for(;e;)yield e,e=e.getNext()}}class St extends _i{elements;constructor(e,a){super(e),this.elements=a}static create(e,a){if(!a)return new St(e,Gs.create());const s=Gs.create();for(const u of a)s.insertAfter(s.getLastCreatedAt(),u.deepcopy());return new St(e,s)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,a,s){this.elements.insertAfter(e,a,s)}moveAfter(e,a,s){this.elements.moveAfter(e,a,s)}get(e){return this.elements.getByIndex(e)?.getValue()}getByID(e){return this.elements.getByID(e)?.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,a){return this.elements.delete(e,a)}deleteByIndex(e,a){return this.elements.deleteByIndex(e,a)}set(e,a,s){return this.elements.set(e,a,s)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const a of this.elements){const s=a.getValue();if(e(s,this))return;s instanceof _i&&s.getDescendants(e)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const a of this)e.push(a.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let a=0;a<this.length;a++){const{createdAt:s,value:u,type:c}=this.get(a).toJSForTest();e[a]={key:String(a),createdAt:s,value:u,type:c}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=St.create(this.getCreatedAt());for(const a of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),a.getValue().deepcopy());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}}class Ji extends Cn{prevCreatedAt;value;constructor(e,a,s,u){super(e,u),this.prevCreatedAt=a,this.value=s}static create(e,a,s,u){return new Ji(e,a,s,u)}execute(e){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof St))throw new T(E.ErrInvalidArgument,"fail to execute, only array can execute add");const s=a,u=this.value.deepcopy();return s.insertAfter(this.prevCreatedAt,u,this.getExecutedAt()),e.registerElement(u,s),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(s.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return Zn.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(e){this.prevCreatedAt=e}}class Zn extends Cn{createdAt;constructor(e,a,s){super(e,s),this.createdAt=a}static create(e,a,s){return new Zn(e,a,s)}execute(e,a){const s=e.findByCreatedAt(this.getParentCreatedAt());if(!s)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(s instanceof _i))throw new T(E.ErrInvalidArgument,`only object and array can execute remove: ${s}`);if(a===Je.UndoRedo){let y=s.getByID(this.createdAt);for(;y;){if(y.getRemovedAt())return;y=e.findElementPairByCreatedAt(y.getCreatedAt())?.parent}}const u=s.subPathOf(this.createdAt),c=this.toReverseOperation(s),h=s.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(h),{opInfos:s instanceof St?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(u)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:u}],reverseOp:c}}toReverseOperation(e){if(e instanceof St){const a=e.getByID(this.createdAt);if(a!==void 0){const s=e.getPrevCreatedAt(this.createdAt);return Ji.create(this.getParentCreatedAt(),s,a.deepcopy())}}if(e instanceof vt){const a=e.subPathOf(this.createdAt);if(a!==void 0){const s=e.get(a);if(s!==void 0)return ba.create(a,s.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(e){this.createdAt=e}}class ba extends Cn{key;value;constructor(e,a,s,u){super(s,u),this.key=e,this.value=a}static create(e,a,s,u){return new ba(e,a,s,u)}execute(e,a){const s=e.findByCreatedAt(this.getParentCreatedAt());if(!s)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(s instanceof vt))throw new T(E.ErrInvalidArgument,"fail to execute, only object can execute set");if(a===Je.UndoRedo){let y=s;for(;y;){if(y.getRemovedAt())return;y=e.findElementPairByCreatedAt(y.getCreatedAt())?.parent}}const u=s.get(this.key),c=this.toReverseOperation(u),h=this.value.deepcopy(),d=s.set(this.key,h,this.getExecutedAt());return a===Je.UndoRedo&&e.findByCreatedAt(h.getCreatedAt())&&e.deregisterElement(h),e.registerElement(h,s),d&&e.registerRemovedElement(d),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:c}}toReverseOperation(e){let a=Zn.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(a=ba.create(this.key,e.deepcopy(),this.getParentCreatedAt())),a}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Tn extends Cn{prevCreatedAt;createdAt;constructor(e,a,s,u){super(e,u),this.prevCreatedAt=a,this.createdAt=s}static create(e,a,s,u){return new Tn(e,a,s,u)}execute(e){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof St))throw new T(E.ErrInvalidArgument,"fail to execute, only array can execute move");const s=a,u=this.toReverseOperation(s),c=Number(s.subPathOf(this.createdAt));s.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const h=Number(s.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:h,previousIndex:c}],reverseOp:u}}toReverseOperation(e){const a=e.getPrevCreatedAt(this.createdAt);return Tn.create(this.getParentCreatedAt(),a,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(e){this.prevCreatedAt=e}setCreatedAt(e){this.createdAt=e}}class Gi{key;value;updatedAt;_isRemoved;constructor(e,a,s,u){this.key=e,this.value=a,this.updatedAt=s,this._isRemoved=u}static of(e,a,s,u){return new Gi(e,a,s,u)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Un}}}class oi{nodeMapByKey;numberOfRemovedElement;constructor(){this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new oi}getNodeMapByKey(){return this.nodeMapByKey}set(e,a,s){const u=this.nodeMapByKey.get(e);if(u&&u.isRemoved()&&s.after(u.getUpdatedAt())&&(this.numberOfRemovedElement-=1),u===void 0||s.after(u.getUpdatedAt())){const c=Gi.of(e,a,s,!1);return this.nodeMapByKey.set(e,c),u!==void 0&&u.isRemoved()?[u,c]:[void 0,c]}return u.isRemoved()?[u,void 0]:[void 0,void 0]}setInternal(e,a,s,u){const c=Gi.of(e,a,s,u);this.nodeMapByKey.set(e,c),u&&this.numberOfRemovedElement++}remove(e,a){const s=this.nodeMapByKey.get(e),u=[];if(s===void 0||a.after(s.getUpdatedAt())){if(s===void 0){this.numberOfRemovedElement+=1;const d=Gi.of(e,"",a,!0);return this.nodeMapByKey.set(e,d),u.push(d),u}const c=s.isRemoved();c||(this.numberOfRemovedElement+=1),c&&u.push(s);const h=Gi.of(e,s.getValue(),a,!0);return this.nodeMapByKey.set(e,h),u.push(h),u}return u}has(e){if(this.nodeMapByKey.has(e)){const a=this.nodeMapByKey.get(e);return a!==void 0&&!a.isRemoved()}return!1}get(e){if(this.nodeMapByKey.has(e))return this.nodeMapByKey.get(e).getValue()}deepcopy(){const e=new oi;for(const[,a]of this.nodeMapByKey)e.setInternal(a.getKey(),a.getValue(),a.getUpdatedAt(),a.isRemoved());return e}toJSON(){if(!this.size())return"{}";const e=[];for(const[a,s]of this.nodeMapByKey)s.isRemoved()||e.push(`"${xn(a)}":"${xn(s.getValue())}"`);return`{${e.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const e={};for(const[a,s]of this.nodeMapByKey)s.isRemoved()||(e[a]=s.getValue());return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}purge(e){const a=this.nodeMapByKey.get(e.getKey());a==null||a.toIDString()!=e.toIDString()||(this.nodeMapByKey.delete(e.getKey()),this.numberOfRemovedElement--)}}function Sn(i){if(i instanceof Map){const e=Array.from(i);return new Map(JSON.parse(JSON.stringify(e)))}return JSON.parse(JSON.stringify(i))}const Ev=i=>i?Object.entries(i).length===0:!0,Er=i=>{const e={};for(const[a,s]of Object.entries(i))e[a]=JSON.stringify(s);return e},li=i=>{const e={};for(const[a,s]of Object.entries(i))e[a]=JSON.parse(s);return e};function rT(i){return i?nb(i.live)+nb(i.gc):0}function nb(i){return i.data+i.meta}function yt(i,...e){for(const a of e)i.data+=a.data,i.meta+=a.meta}function ya(i,e){i.data-=e.data,i.meta-=e.meta}class _s{attributes;content;constructor(e){this.attributes=oi.create(),this.content=e}static create(e){return new _s(e)}get length(){return this.content.length}substring(e,a){const s=new _s(this.content.substring(e,a));return s.attributes=this.attributes.deepcopy(),s}setAttr(e,a,s){return this.attributes.set(e,a,s)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const e={data:0,meta:0};e.data+=this.content.length*2;for(const a of this.attributes){const s=a.getDataSize();e.meta+=s.meta,e.data+=s.data}return e}toJSON(){const e=xn(this.content),a=this.attributes.toObject(),s=[];for(const[u,c]of Object.entries(a)){const h=JSON.parse(c),d=typeof h=="string"?`"${xn(u)}":"${xn(h)}"`:`"${xn(u)}":${String(h)}`;s.push(d)}return s.sort(),s.length===0?`{"val":"${e}"}`:`{"attrs":{${s.join(",")}},"val":"${e}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(e){this.attributes&&e instanceof Gi&&this.attributes.purge(e)}getGCPairs(){const e=[];for(const a of this.attributes)a.getRemovedAt()&&e.push({parent:this,child:a});return e}}class jt extends ks{rgaTreeSplit;constructor(e,a){super(a),this.rgaTreeSplit=e}static create(e,a){return new jt(e,a)}edit(e,a,s,u,c){const h=a?_s.create(a):void 0;if(h&&u)for(const[V,C]of Object.entries(u))h.setAttr(V,C,s);const[d,y,m,v]=this.rgaTreeSplit.edit(e,s,h,c);return[v.map(V=>({...V,value:V.value?{attributes:li(V.value.getAttributes()),content:V.value.getContent()}:{attributes:void 0,content:""},type:"content"})),y,m,[d,d]]}setStyle(e,a,s,u){const c={data:0,meta:0},[,h,d]=this.rgaTreeSplit.findNodeWithSplit(e[1],s),[,y,m]=this.rgaTreeSplit.findNodeWithSplit(e[0],s);yt(c,h,y);const v=[],N=this.rgaTreeSplit.findBetween(m,d),V=[];for(const L of N){const Y=L.getCreatedAt().getActorID();let F=Bf;u!=null&&(F=u.get(Y)?u.get(Y):0n),L.canStyle(s,F)&&V.push(L)}const C=[];for(const L of V){if(L.isRemoved())continue;const[Y,F]=this.rgaTreeSplit.findIndexesFromRange(L.createPosRange());v.push({type:"style",actor:s.getActorID(),from:Y,to:F,value:{attributes:li(a)}});for(const[q,ye]of Object.entries(a)){const[ne]=L.getValue().setAttr(q,ye,s);ne!==void 0&&C.push({parent:L.getValue(),child:ne});const Ee=L.getValue().getAttrs().getNodeMapByKey().get(q);Ee!==void 0&&yt(c,Ee.getDataSize())}}return[C,c,v]}indexRangeToPosRange(e,a){const s=this.rgaTreeSplit.indexToPos(e);return e===a?[s,s]:[s,this.rgaTreeSplit.indexToPos(a)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const e={data:0,meta:0};for(const a of this.rgaTreeSplit){if(a.isRemoved())continue;const s=a.getDataSize();e.data+=s.data,e.meta+=s.meta}return{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){const e=[];for(const a of this.rgaTreeSplit)a.isRemoved()||e.push(a.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const a of this.rgaTreeSplit)if(!a.isRemoved()){const s=a.getValue();e.push({attributes:li(s.getAttributes()),content:s.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new jt(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}getGCPairs(){const e=[];for(const a of this.rgaTreeSplit){a.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:a});for(const s of a.getValue().getGCPairs())e.push(s)}return e}}class Fs extends Cn{fromPos;toPos;content;attributes;constructor(e,a,s,u,c,h){super(e,h),this.fromPos=a,this.toPos=s,this.content=u,this.attributes=c}static create(e,a,s,u,c,h){return new Fs(e,a,s,u,c,h)}execute(e,a,s){const u=e.findByCreatedAt(this.getParentCreatedAt());if(!u)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(u instanceof jt))throw new T(E.ErrInvalidArgument,"fail to execute, only Text can execute edit");const c=u,[h,d,y]=c.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),s);e.acc(y);for(const m of d)e.registerGCPair(m);return{opInfos:h.map(({from:m,to:v,value:N})=>({type:"edit",from:m,to:v,value:N,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),a=this.fromPos.toTestString(),s=this.toPos.toTestString(),u=this.content;return`${e}.EDIT(${a},${s},${u})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class js extends Cn{fromPos;toPos;attributes;constructor(e,a,s,u,c){super(e,c),this.fromPos=a,this.toPos=s,this.attributes=u}static create(e,a,s,u,c){return new js(e,a,s,u,c)}execute(e,a,s){const u=e.findByCreatedAt(this.getParentCreatedAt());if(!u)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(u instanceof jt))throw new T(E.ErrInvalidArgument,"fail to execute, only Text can execute edit");const c=u,[h,d,y]=c.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),s);e.acc(d);for(const m of h)e.registerGCPair(m);return{opInfos:y.map(({from:m,to:v,value:N})=>({type:"style",from:m,to:v,value:N,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),a=this.fromPos.toTestString(),s=this.toPos.toTestString(),u=this.attributes;return`${e}.STYL(${a},${s},${JSON.stringify(u)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const sT=2,lT="root",Bn="text";function Es(i,e,a=!1){let s=0;const u=a?i.allChildren:i.children;for(let c=0;c<e;c++){const h=u[c];!h||!a&&h.isRemoved||(s+=h.paddedSize(a))}return s}class uT{type;parent;_children;visibleSize;totalSize;constructor(e,a=[]){if(this.type=e,this.visibleSize=0,this.totalSize=0,this._children=a,this.isText&&this._children.length>0)throw new T(E.ErrRefused,"Text node cannot have children")}updateAncestorsSize(e,a=!1){let s=this.parent;for(;s;){if(a)s.totalSize+=e;else if(s.visibleSize+=e,s.isRemoved)break;s=s.parent}}updateDescendantsSize(e=!1){let a=0;for(const s of this._children){const u=s.updateDescendantsSize(e);!e&&s.isRemoved||(a+=u)}return e?this.totalSize+=a:this.visibleSize+=a,this.paddedSize(e)}get isText(){return this.type===Bn}paddedSize(e=!1){let a=this.visibleSize;return e&&(a=this.totalSize),this.isText||(a+=sT),a}isAncestorOf(e){return oT(this,e)}get nextSibling(){const e=this.parent.findOffset(this),a=this.parent.children[e+1];if(a)return a}get prevSibling(){const e=this.parent.findOffset(this),a=this.parent.children[e-1];if(a)return a}splitText(e,a){const s={data:0,meta:0};if(e===0||e===this.visibleSize)return[void 0,s];const u=this.value.slice(0,e),c=this.value.slice(e);if(!c.length)return[void 0,s];const h=this.getDataSize();this.value=u;const d=this.cloneText(e+a);return d.value=c,this.parent.insertAfterInternal(d,this),yt(s,this.getDataSize(),d.getDataSize()),ya(s,h),[d,s]}get children(){return this._children.filter(e=>!e.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(e=>e.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(e=>e.value).join(""):""}append(...e){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");this._children.push(...e);for(const a of e)a.parent=this,a.updateAncestorsSize(a.paddedSize()),a.updateAncestorsSize(a.paddedSize(!0),!0)}prepend(...e){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");this._children.unshift(...e);for(const a of e)a.parent=this}insertBefore(e,a){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");const s=this._children.indexOf(a);if(s===-1)throw new T(E.ErrInvalidArgument,"child not found");this.insertAtInternal(e,s),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAfter(e,a){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");const s=this._children.indexOf(a);if(s===-1)throw new T(E.ErrInvalidArgument,"child not found");this.insertAtInternal(e,s+1),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAt(e,a){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");this.insertAtInternal(e,a),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}removeChild(e){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");const a=this._children.indexOf(e);if(a===-1)throw new T(E.ErrInvalidArgument,"child not found");this._children.splice(a,1),e.updateAncestorsSize(-e.paddedSize(!0),!0),e.parent=void 0}splitElement(e,a){const s={data:0,meta:0},u=this.getDataSize(),c=this.cloneElement(a);this.parent.insertAfterInternal(c,this),c.updateAncestorsSize(c.paddedSize()),c.updateAncestorsSize(c.paddedSize(!0),!0);const h=this.children.slice(0,e),d=this.children.slice(e);this._children=h,c._children=d,this.visibleSize=this._children.reduce((y,m)=>y+m.paddedSize(),0),this.totalSize=this._children.reduce((y,m)=>y+m.paddedSize(!0),0),c.visibleSize=c._children.reduce((y,m)=>y+m.paddedSize(!0),0),c.totalSize=c._children.reduce((y,m)=>y+m.paddedSize(!0),0);for(const y of c._children)y.parent=c;return yt(s,this.getDataSize(),c.getDataSize()),ya(s,u),[c,s]}insertAfterInternal(e,a){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");const s=this._children.indexOf(a);if(s===-1)throw new T(E.ErrInvalidArgument,"child not found");this.insertAtInternal(e,s+1)}insertAtInternal(e,a){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");this._children.splice(a,0,e),e.parent=this}findOffset(e,a=!1){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");if(a)return this._children.indexOf(e);if(e.isRemoved){const s=this._children.indexOf(e);return this.allChildren.splice(0,s).filter(c=>!c.isRemoved).length}return this.children.indexOf(e)}findBranchOffset(e){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");let a=e;for(;a;){const s=this._children.indexOf(a);if(s!==-1)return s;a=a.parent}return-1}}function oT(i,e){if(i===e)return!1;for(;e.parent;){if(e.parent===i)return!0;e=e.parent}return!1}var qe=(i=>(i.Start="Start",i.End="End",i.Text="Text",i))(qe||{});function Nv(i,e,a,s,u=!1){if(e>a)throw new T(E.ErrInvalidArgument,`from is greater than to: ${e} > ${a}`);const c=u?i.totalSize:i.visibleSize;if(e>c)throw new T(E.ErrInvalidArgument,`from is out of range: ${e} > ${c}`);if(a>c)throw new T(E.ErrInvalidArgument,`to is out of range: ${a} > ${c}`);if(e===a)return;let h=0;const d=u?i._children:i.children;for(const y of d){if(e-y.paddedSize(u)<h&&h<a){const m=y.isText?e-h:e-h-1,v=y.isText?a-h:a-h-1,N=u?y.totalSize:y.visibleSize,V=!y.isText&&m<0,C=!y.isText&&v>N;(y.isText||V)&&s([y,y.isText?"Text":"Start"],C),Nv(y,Math.max(0,m),Math.min(v,N),s,u),C&&s([y,"End"],C)}h+=y.paddedSize(u)}}function Tv(i,e,a=0){for(const s of i.children)Tv(s,e,a+1);e(i,a)}function Yu(i,e,a=0){for(const s of i._children)Yu(s,e,a+1);e(i,a)}function Mf(i,e,a=!0){if(e>i.visibleSize)throw new T(E.ErrInvalidArgument,`index is out of range: ${e} > ${i.visibleSize}`);if(i.isText)return{node:i,offset:e};let s=0,u=0;for(const c of i.children){if(a&&c.isText&&c.visibleSize>=e-u)return Mf(c,e-u,a);if(e===u)return{node:i,offset:s};if(!a&&c.paddedSize()===e-u)return{node:i,offset:s+1};if(c.paddedSize()>e-u)return Mf(c,e-u-1,a);u+=c.paddedSize(),s+=1}return{node:i,offset:s}}function Rv(i){return i.isText||i.children.length===0?i:Rv(i.children[0])}function cT(i,e){if(i.visibleSize<e)throw new T(E.ErrInvalidArgument,"unacceptable path");for(let a=0;a<i.children.length;a++){const s=i.children[a];if(s.visibleSize<e)e-=s.visibleSize;else{i=s;break}}return{node:i,offset:e}}class fT{root;constructor(e){this.root=e}tokensBetween(e,a,s,u=!1){Nv(this.root,e,a,s,u)}traverse(e){Tv(this.root,e,0)}traverseAll(e){Yu(this.root,e,0)}findTreePos(e,a=!0){return Mf(this.root,e,a)}treePosToPath(e){const a=[];let s=e.node;if(s.isText){const u=s.parent.findOffset(s);if(u===-1)throw new T(E.ErrInvalidArgument,"invalid treePos");const c=Es(s.parent,u);a.push(c+e.offset),s=s.parent}else if(s.hasTextChild()){const u=Es(s,e.offset);a.push(u)}else a.push(e.offset);for(;s.parent;){const u=s.parent.findOffset(s);if(u===-1)throw new T(E.ErrInvalidArgument,"invalid treePos");a.push(u),s=s.parent}return a.reverse()}pathToIndex(e){const a=this.pathToTreePos(e);return this.indexOf(a)}pathToTreePos(e){if(!e.length)throw new T(E.ErrInvalidArgument,"unacceptable path");let a=this.root;for(let s=0;s<e.length-1;s++){const u=e[s];if(a=a.children[u],!a)throw new T(E.ErrInvalidArgument,"unacceptable path")}if(a.hasTextChild())return cT(a,e[e.length-1]);if(a.children.length<e[e.length-1])throw new T(E.ErrInvalidArgument,"unacceptable path");return{node:a,offset:e[e.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(e){const{node:a,offset:s}=e;if(a.isText){if(a.visibleSize===s){const u=a.nextSibling;return u||a.parent}return a}return a.children.length===s?a:Rv(a.children[s])}indexOf(e,a=!1){let{node:s}=e;const{offset:u}=e;let c=0,h=1;if(s.isText){c+=u;const d=s.parent,y=d.findOffset(s,a);if(y===-1)throw new T(E.ErrInvalidArgument,"invalid pos");c+=Es(d,y,a),s=s.parent}else c+=Es(s,u,a);for(;s?.parent;){const d=s.parent,y=d.findOffset(s,a);if(y===-1)throw new T(E.ErrInvalidArgument,"invalid pos");c+=Es(d,y,a),h++,s=s.parent}return c+h-1}indexToPath(e){const a=this.findTreePos(e);return this.treePosToPath(a)}}const hT=(i,e)=>i===e?0:i<e?-1:1;class dT{key;value;left;right;isRed;constructor(e,a,s){this.key=e,this.value=a,this.isRed=s}}class gT{stack;constructor(e){this.stack=[],this.traverseInorder(e)}traverseInorder(e){e&&(this.traverseInorder(e.left),this.stack.push({key:e.key,value:e.value}),this.traverseInorder(e.right))}}class Iv{root;comparator;counter;constructor(e){this.comparator=typeof e<"u"?e:hT,this.counter=0}put(e,a){return this.root=this.putInternal(e,a,this.root),this.root.isRed=!1,a}get(e){const a=this.getInternal(e,this.root);return a?a.value:void 0}remove(e){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,e),this.root&&(this.root.isRed=!1)}getIterator(){return new gT(this.root)}values(){const e=[];for(const a of this.getIterator().stack)e.push(a.value);return e}floorEntry(e){let a=this.root,s;for(;a;){const u=this.comparator(e,a.key);if(u===0)return a;u<0?a=a.left:(s=a,a=a.right)}return s}lastEntry(){if(!this.root)return this.root;let e=this.root;for(;e.right;)e=e.right;return e}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(e,a){for(;a;){const s=this.comparator(e,a.key);if(s===0)return a;s<0?a=a.left:s>0&&(a=a.right)}}putInternal(e,a,s){if(!s)return this.counter+=1,new dT(e,a,!0);const u=this.comparator(e,s.key);return u<0?s.left=this.putInternal(e,a,s.left):u>0?s.right=this.putInternal(e,a,s.right):s.value=a,this.isRed(s.right)&&!this.isRed(s.left)&&(s=this.rotateLeft(s)),this.isRed(s.left)&&this.isRed(s.left.left)&&(s=this.rotateRight(s)),this.isRed(s.left)&&this.isRed(s.right)&&this.flipColors(s),s}removeInternal(e,a){if(this.comparator(a,e.key)<0)!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeInternal(e.left,a);else{if(this.isRed(e.left)&&(e=this.rotateRight(e)),this.comparator(a,e.key)===0&&!e.right){this.counter-=1;return}if(!this.isRed(e.right)&&!this.isRed(e.right.left)&&(e=this.moveRedRight(e)),this.comparator(a,e.key)===0){this.counter-=1;const s=this.min(e.right);e.value=s.value,e.key=s.key,e.right=this.removeMin(e.right)}else e.right=this.removeInternal(e.right,a)}return this.fixUp(e)}min(e){return e.left?this.min(e.left):e}removeMin(e){if(e.left)return!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeMin(e.left),this.fixUp(e)}fixUp(e){return this.isRed(e.right)&&(e=this.rotateLeft(e)),this.isRed(e.left)&&this.isRed(e.left.left)&&(e=this.rotateRight(e)),this.isRed(e.left)&&this.isRed(e.right)&&this.flipColors(e),e}moveRedLeft(e){return this.flipColors(e),this.isRed(e.right.left)&&(e.right=this.rotateRight(e.right),e=this.rotateLeft(e),this.flipColors(e)),e}moveRedRight(e){return this.flipColors(e),this.isRed(e.left.left)&&(e=this.rotateRight(e),this.flipColors(e)),e}isRed(e){return e&&e.isRed}rotateLeft(e){const a=e.right;return e.right=a.left,a.left=e,a.isRed=a.left.isRed,a.left.isRed=!0,a}rotateRight(e){const a=e.left;return e.left=a.right,a.right=e,a.isRed=a.right.isRed,a.right.isRed=!0,a}flipColors(e){e.isRed=!e.isRed,e.left.isRed=!e.left.isRed,e.right.isRed=!e.right.isRed}}class Rn{parentID;leftSiblingID;constructor(e,a){this.parentID=e,this.leftSiblingID=a}static of(e,a){return new Rn(e,a)}static fromTreePos(e){const{offset:a}=e;let{node:s}=e,u;return s.isText?(s.parent.children[0]===s&&a===0?u=s.parent:u=s,s=s.parent):a===0?u=s:u=s.children[a-1],Rn.of(s.id,pt.of(u.getCreatedAt(),u.getOffset()+a))}getParentID(){return this.parentID}static fromStruct(e){return Rn.of(pt.of(on.fromStruct(e.parentID.createdAt),e.parentID.offset),pt.of(on.fromStruct(e.leftSiblingID.createdAt),e.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(e){const a=this.getParentID(),s=this.getLeftSiblingID(),u=e.findFloorNode(a);let c=e.findFloorNode(s);if(!u||!c)throw new T(E.ErrRefused,`cannot find node of CRDTTreePos(${a.toTestString()}, ${s.toTestString()})`);return!s.equals(a)&&s.getOffset()>0&&s.getOffset()===c.id.getOffset()&&c.insPrevID&&(c=e.findFloorNode(c.insPrevID)),[u,c]}getLeftSiblingID(){return this.leftSiblingID}equals(e){return this.getParentID().getCreatedAt().equals(e.getParentID().getCreatedAt())&&this.getParentID().getOffset()===e.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(e.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===e.getLeftSiblingID().getOffset()}}class pt{createdAt;offset;constructor(e,a){this.createdAt=e,this.offset=a}static of(e,a){return new pt(e,a)}static fromStruct(e){return pt.of(on.fromStruct(e.createdAt),e.offset)}static createComparator(){return(e,a)=>{const s=e.getCreatedAt().compare(a.getCreatedAt());return s!==0?s:e.getOffset()>a.getOffset()?1:e.getOffset()<a.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}getOffset(){return this.offset}setOffset(e){this.offset=e}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Ft extends uT{id;removedAt;attrs;insPrevID;insNextID;_value="";constructor(e,a,s,u,c){super(a),this.id=e,this.removedAt=c,u&&(this.attrs=u),typeof s=="string"?this.value=s:Array.isArray(s)&&(this._children=s)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,a,s,u){return new Ft(e,a,s,u)}deepcopy(){const e=new Ft(this.id,this.type);return e.removedAt=this.removedAt,e._value=this._value,e.visibleSize=this.visibleSize,e.totalSize=this.totalSize,e.attrs=this.attrs?.deepcopy(),e._children=this._children.map(a=>{const s=a.deepcopy();return s.parent=e,s}),e.insPrevID=this.insPrevID,e.insNextID=this.insNextID,e}get value(){if(!this.isText)throw new T(E.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new T(E.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=e,this.visibleSize=e.length,this.totalSize=e.length}get isRemoved(){return!!this.removedAt}remove(e){return this.removedAt?(e.after(this.removedAt)&&(this.removedAt=e),!1):(this.removedAt=e,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(e){return new Ft(pt.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new Ft(pt.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,a,s){const[u,c]=this.isText?this.splitText(a,this.id.getOffset()):this.splitElement(a,s);if(u){if(u.insPrevID=this.id,this.insNextID){const h=e.findFloorNode(this.insNextID);h.insPrevID=u.id,u.insNextID=this.insNextID}this.insNextID=u.id,e.registerNode(u)}return[u,c]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,a,s){return a?!!(!this.removedAt||!s&&e?.after(this.removedAt)):!1}canStyle(e,a){return this.isText?!1:this.getCreatedAt().getLamport()<=a&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,a){this.attrs||(this.attrs=new oi);const s=[];for(const[u,c]of Object.entries(e))s.push(this.attrs.set(u,c,a));return s}purge(e){this.attrs&&this.attrs.purge(e)}getDataSize(){const e={data:0,meta:0};if(this.isText&&(e.data+=this.visibleSize*2),this.id&&(e.meta+=Un),this.removedAt&&(e.meta+=Un),this.attrs)for(const a of this.attrs){if(a.getRemovedAt())continue;const s=a.getDataSize();e.meta+=s.meta,e.data+=s.data}return e}getGCPairs(){const e=[];if(!this.attrs)return e;for(const a of this.attrs)a.getRemovedAt()&&e.push({parent:this,child:a});return e}}function Zf(i){if(i.isText){const a=i;return{type:a.type,value:a.value}}const e={type:i.type,children:i.children.map(Zf)};return i.attrs&&(e.attributes=li(i.attrs?.toObject())),e}function yh(i){if(i.isText)return i.value;let e="";return i.attrs&&i.attrs.size()&&(e=" "+Array.from(i.attrs).filter(a=>!a.isRemoved()).sort((a,s)=>a.getKey().localeCompare(s.getKey())).map(a=>{const s=JSON.parse(a.getValue());return typeof s=="string"?`${a.getKey()}="${s}"`:`${a.getKey()}="${xn(a.getValue())}"`}).join(" ")),`<${i.type}${e}>${i.children.map(a=>yh(a)).join("")}</${i.type}>`}function Cv(i){if(i.isText){const e=i;return{type:e.type,value:e.value,visibleSize:e.visibleSize,isRemoved:e.isRemoved}}return{type:i.type,children:i.children.map(Cv),visibleSize:i.visibleSize,isRemoved:i.isRemoved}}class Ht extends ks{indexTree;nodeMapByID;constructor(e,a){super(a),this.indexTree=new fT(e),this.nodeMapByID=new Iv(pt.createComparator()),this.indexTree.traverseAll(s=>{this.nodeMapByID.put(s.id,s)})}static create(e,a){return new Ht(e,a)}findFloorNode(e){const a=this.nodeMapByID.floorEntry(e);if(!(!a||!a.key.getCreatedAt().equals(e.getCreatedAt())))return a.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,a){let s={data:0,meta:0};const[u,c]=e.toTreeNodePair(this);let h=c;const d=u===h,y=h.parent&&!d?h.parent:u;if(h.isText){const[,m]=h.split(this,e.getLeftSiblingID().getOffset()-h.id.getOffset());s=m}if(a){const m=y.allChildren,v=d?0:m.indexOf(h)+1;for(let N=v;N<m.length;N++){const V=m[N];if(!V.id.getCreatedAt().after(a))break;h=V}}return[[y,h],s]}style(e,a,s,u){const c={data:0,meta:0},[[h,d],y]=this.findNodesAndSplitText(e[0],s),[[m,v],N]=this.findNodesAndSplitText(e[1],s);yt(c,N,y);const V=[],C=a?li(a):{},L=[];return this.traverseInPosRange(h,d,m,v,([Y,F])=>{const q=Y.getCreatedAt().getActorID();let ye=Bf;if(u!=null&&(ye=u.get(q)?u.get(q):0n),Y.canStyle(s,ye)&&a){const ne=Y.setAttrs(a,s),Ee=ne.reduce((J,[,ve])=>(ve&&(J[ve.getKey()]=C[ve.getKey()]),J),{}),ie=Y.parent,Ae=Y.prevSibling||Y.parent;Object.keys(Ee).length>0&&V.push({type:"style",from:this.toIndex(ie,Ae),to:this.toIndex(Y,Y),fromPath:this.toPath(ie,Ae),toPath:this.toPath(Y,Y),actor:s.getActorID(),value:Ee});for(const[J]of ne)J&&L.push({parent:Y,child:J});for(const[J]of Object.entries(C)){const ve=Y.attrs?.getNodeMapByKey().get(J);ve!==void 0&&F!==qe.End&&yt(c,ve.getDataSize())}}}),[L,V,c]}removeStyle(e,a,s,u){const c={data:0,meta:0},[[h,d],y]=this.findNodesAndSplitText(e[0],s),[[m,v],N]=this.findNodesAndSplitText(e[1],s);yt(c,N,y);const V=[],C=[];return this.traverseInPosRange(h,d,m,v,([L])=>{const Y=L.getCreatedAt().getActorID();let F=Bf;if(u!=null&&(F=u.get(Y)?u.get(Y):0n),L.canStyle(s,F)&&a){L.attrs||(L.attrs=new oi);for(const ne of a){const Ee=L.attrs.remove(ne,s);for(const ie of Ee)C.push({parent:L,child:ie})}const q=L.parent,ye=L.prevSibling||L.parent;V.push({actor:s.getActorID(),type:"removeStyle",from:this.toIndex(q,ye),to:this.toIndex(L,L),fromPath:this.toPath(q,ye),toPath:this.toPath(L,L),value:a})}}),[C,V,c]}edit(e,a,s,u,c,h){const d={data:0,meta:0},[[y,m],v]=this.findNodesAndSplitText(e[0],u),[[N,V],C]=this.findNodesAndSplitText(e[1],u);yt(d,C,v);const L=this.toIndex(y,m),Y=this.toPath(y,m),F=[],q=[],ye=[];this.traverseInPosRange(y,m,N,V,([ie,Ae],J)=>{if(Ae===qe.Start&&!J)for(const rt of ie.children)ye.push(rt);const ve=h===void 0;let Et=!1;const gn=h?.get(ie.id.getCreatedAt().getActorID());Et=ve||gn!==void 0&&gn>=ie.id.getCreatedAt().getLamport();let Mt=!1;if(ie.removedAt){const rt=h?.get(ie.removedAt.getActorID());Mt=ve||rt!==void 0&&rt>=ie.removedAt.getLamport()}(ie.canDelete(u,Et,Mt)||F.includes(ie.parent))&&((Ae===qe.Text||Ae===qe.Start)&&F.push(ie),q.push([ie,Ae]))},!0);const ne=this.makeDeletionChanges(q,u),Ee=[];for(const ie of F)ie.remove(u),ie.isRemoved&&Ee.push({parent:this,child:ie});for(const ie of ye)ie.removedAt||y.append(ie);if(s>0){let ie=0,Ae=y,J=m;for(;ie<s;)Ae.split(this,Ae.findOffset(J)+1,c),J=Ae,Ae=Ae.parent,ie++;ne.push({type:"content",from:L,to:L,fromPath:Y,toPath:Y,actor:u.getActorID()})}if(a?.length){const ie=[];let Ae=m;for(const J of a)Ae===y?y.insertAt(J,0):y.insertAfter(J,Ae),Ae=J,Yu(J,ve=>{y.isRemoved?(ve.remove(u),Ee.push({parent:this,child:ve})):yt(d,ve.getDataSize()),this.nodeMapByID.put(ve.id,ve)}),J.isRemoved||ie.push(J);if(ie.length){const J=ie.map(ve=>Zf(ve));ne.length&&ne[ne.length-1].from===L?ne[ne.length-1].value=J:ne.push({type:"content",from:L,to:L,fromPath:Y,toPath:Y,actor:u.getActorID(),value:J})}}return[ne,Ee,d]}editT(e,a,s,u,c){const h=this.findPos(e[0]),d=this.findPos(e[1]);return this.edit([h,d],a,s,u,c)}move(e,a,s){throw new T(E.ErrUnimplemented,`not implemented: ${e}, ${a}, ${s}`)}pathToTreePos(e){return this.indexTree.pathToTreePos(e)}purge(e){e.parent?.removeChild(e),this.nodeMapByID.remove(e.id);const a=e.insPrevID,s=e.insNextID;if(a){const u=this.findFloorNode(a);u.insNextID=s}if(s){const u=this.findFloorNode(s);u.insPrevID=a}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(a=>{a.getRemovedAt()&&e.push({parent:this,child:a});for(const s of a.getGCPairs())e.push(s)}),e}findPos(e,a=!0){const s=this.indexTree.findTreePos(e,a);return Rn.fromTreePos(s)}pathToPosRange(e){const a=this.pathToIndex(e);return[this.findPos(a),this.findPos(a+1)]}pathToPos(e){const a=this.indexTree.pathToIndex(e);return this.findPos(a)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return yh(this.indexTree.getRoot())}getDataSize(){const e={data:0,meta:0};return this.indexTree.traverse(a=>{if(a.getRemovedAt())return;const s=a.getDataSize();e.data+=s.data,e.meta+=s.meta}),{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),a=(s,u=void 0,c=void 0,h=0)=>{let d,y,m;const v=s.isText?{node:s,offset:0}:u&&c?this.toTreePos(u,c):null;v&&(d=this.indexTree.indexOf(v),y=this.indexTree.treePosToPath(v),m=Rn.fromTreePos(v).toStruct());const N={type:s.type,parent:u?.id.toTestString(),size:s.visibleSize,id:s.id.toTestString(),removedAt:s.removedAt?.toTestString(),insPrev:s.insPrevID?.toTestString(),insNext:s.insNextID?.toTestString(),value:s.isText?s.value:void 0,isRemoved:s.isRemoved,children:[],depth:h,attributes:s.attrs?li(s.attrs?.toObject()):void 0,index:d,path:y,pos:m};for(let V=0;V<s.allChildren.length;V++){const C=V===0?s:s.allChildren[V-1];N.children.push(a(s.allChildren[V],s,C,h+1))}return N};return a(e)}getRootTreeNode(){return Zf(this.indexTree.getRoot())}toTestTreeNode(){return Cv(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot(),a=new Ht(e.deepcopy(),this.getCreatedAt());return a.setRemovedAt(this.getRemovedAt()),a.setMovedAt(this.getMovedAt()),a}toPath(e,a){const s=this.toTreePos(e,a);return s?this.indexTree.treePosToPath(s):[]}toIndex(e,a,s=!1){const u=this.toTreePos(e,a,s);return u?this.indexTree.indexOf(u,s):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const a=this.findPos(e[0]);return e[0]===e[1]?[a,a]:[a,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[a,s]=e,u=this.findPos(a);return a===s?[u.toStruct(),u.toStruct()]:[u.toStruct(),this.findPos(s).toStruct()]}posRangeToPathRange(e){const[[a,s]]=this.findNodesAndSplitText(e[0]),[[u,c]]=this.findNodesAndSplitText(e[1]);return[this.toPath(a,s),this.toPath(u,c)]}posRangeToIndexRange(e){const[[a,s]]=this.findNodesAndSplitText(e[0]),[[u,c]]=this.findNodesAndSplitText(e[1]);return[this.toIndex(a,s),this.toIndex(u,c)]}traverseInPosRange(e,a,s,u,c,h=!1){const d=this.toIndex(e,a,h),y=this.toIndex(s,u,h);this.indexTree.tokensBetween(d,y,c,h)}toTreePos(e,a,s=!1){if(!e||!a)return;if(!s&&e.isRemoved){let c;for(;e.isRemoved;)c=e,e=c.parent;const h=e.findOffset(c,s);return{node:e,offset:h}}if(e===a)return{node:e,offset:0};let u=e.findOffset(a,s);if(s||!a.isRemoved){if(a.isText)return{node:a,offset:a.paddedSize(s)};u++}return{node:e,offset:u}}makeDeletionChanges(e,a){const s=[],u=[];let c=null,h=null;for(let d=0;d<e.length;d++){const y=e[d],m=e[d+1];c||(c=y),h=y;const v=this.findRightToken(y);(!v||!m||v[0]!==m[0]||v[1]!==m[1])&&(u.push([c,h]),c=null,h=null)}for(const d of u){const[y,m]=d,[v,N]=this.findLeftToken(y),[V,C]=m,L=N===qe.Start?v:v.parent,Y=C===qe.Start?V:V.parent,F=this.toIndex(L,v),q=this.toIndex(Y,V);F<q&&(s.length>0&&F===s[s.length-1].to?(s[s.length-1].to=q,s[s.length-1].toPath=this.toPath(Y,V)):s.push({type:"content",from:F,to:q,fromPath:this.toPath(L,v),toPath:this.toPath(Y,V),actor:a.getActorID()}))}return s.reverse()}findRightToken([e,a]){if(a===qe.Start){const d=e.allChildren;return d.length>0?[d[0],d[0].isText?qe.Text:qe.Start]:[e,qe.End]}const s=e.parent,u=s.allChildren,c=u.indexOf(e);if(s&&c===u.length-1)return[s,qe.End];const h=u[c+1];return[h,h.isText?qe.Text:qe.Start]}findLeftToken([e,a]){if(a===qe.End){const d=e.allChildren;if(d.length>0){const y=d[d.length-1];return[y,y.isText?qe.Text:qe.End]}return[e,qe.Start]}const s=e.parent,u=s.allChildren,c=u.indexOf(e);if(s&&c===0)return[s,qe.Start];const h=u[c-1];return[h,h.isText?qe.Text:qe.End]}}class Hs extends Cn{fromPos;toPos;contents;splitLevel;constructor(e,a,s,u,c,h){super(e,h),this.fromPos=a,this.toPos=s,this.contents=u,this.splitLevel=c}static create(e,a,s,u,c,h){return new Hs(e,a,s,u,c,h)}execute(e,a,s){const u=e.findByCreatedAt(this.getParentCreatedAt());if(!u)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(u instanceof Ht))throw new T(E.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const c=this.getExecutedAt(),h=u,[d,y,m]=h.edit([this.fromPos,this.toPos],this.contents?.map(v=>v.deepcopy()),this.splitLevel,c,(()=>{let v=c.getDelimiter();return this.contents!==void 0&&(v+=this.contents.length),()=>on.of(c.getLamport(),++v,c.getActorID())})(),s);e.acc(m);for(const v of y)e.registerGCPair(v);return{opInfos:d.map(({from:v,to:N,value:V,splitLevel:C,fromPath:L,toPath:Y})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:v,to:N,value:V,splitLevel:C,fromPath:L,toPath:Y}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),a=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,s=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,u=this.contents||[];return`${e}.EDIT(${a},${s},${u.map(c=>yh(c)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class hr{vector;constructor(e){this.vector=e||new Map}set(e,a){this.vector.set(e,a)}unset(e){this.vector.delete(e)}get(e){return this.vector.get(e)}has(e){return this.vector.has(e)}maxLamport(){let e=BigInt(0);for(const[,a]of this)a>e&&(e=a);return e}max(e){const a=new Map;for(const[s,u]of e){const c=this.vector.get(s),h=c&&c>u?c:u;a.set(s,h)}for(const[s,u]of this){const c=e.get(s),h=c&&c>u?c:u;a.set(s,h)}return new hr(a)}afterOrEqual(e){const a=this.vector.get(e.getActorID());return a===void 0?!1:a>=e.getLamport()}deepcopy(){const e=new Map;for(const[a,s]of this.vector)e.set(a,s);return new hr(e)}filter(e){const a=new Map;for(const[s]of e){const u=this.vector.get(s);u!==void 0&&a.set(s,u)}return new hr(a)}size(){return this.vector.size}*[Symbol.iterator](){for(const[e,a]of this.vector)yield[e,a]}}const wv=new hr(new Map);class An{clientSeq;serverSeq;actor;lamport;versionVector;constructor(e,a,s,u,c){this.clientSeq=e,this.serverSeq=c,this.lamport=a,this.versionVector=u,this.actor=s}hasClocks(){return this.versionVector.size()>0&&this.lamport!=Uf}static of(e,a,s,u,c){return new An(e,a,s,u,c)}next(e=!1){if(e)return new An(this.clientSeq+1,this.lamport,this.actor,wv,Uf);const a=this.versionVector.deepcopy();return a.set(this.actor,this.lamport+1n),new An(this.clientSeq+1,this.lamport+1n,this.actor,a)}syncClocks(e){if(!e.hasClocks())return this;const a=e.lamport>this.lamport?e.lamport+1n:this.lamport+1n,s=this.versionVector.max(e.versionVector),u=new An(this.clientSeq,a,this.actor,s);return u.versionVector.set(this.actor,a),u}setClocks(e,a){const s=e>this.lamport?e+1n:this.lamport+1n,u=this.versionVector.max(a);return u.set(this.actor,s),An.of(this.clientSeq,s,this.actor,u)}createTimeTicket(e){return on.of(this.lamport,e,this.actor)}setActor(e){return new An(this.clientSeq,this.lamport,e,this.versionVector,this.serverSeq)}setLamport(e){return new An(this.clientSeq,e,this.actor,this.versionVector,this.serverSeq)}setVersionVector(e){return new An(this.clientSeq,this.lamport,this.actor,e,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const mT=new An(0,0n,gh,wv);class Nr{id;operations;presenceChange;message;constructor({id:e,operations:a,presenceChange:s,message:u}){this.id=e,this.operations=a||[],this.presenceChange=s,this.message=u}static create({id:e,operations:a,presenceChange:s,message:u}){return new Nr({id:e,operations:a,presenceChange:s,message:u})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(e){for(const a of this.operations)a.setActor(e);this.id=this.id.setActor(e)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(e,a,s){const u=[],c=[];for(const h of this.operations){const d=h.execute(e,s,this.id.getVersionVector());if(!d)continue;const{opInfos:y,reverseOp:m}=d;u.push(...y),m&&c.unshift(m)}return this.presenceChange&&(this.presenceChange.type===Mn.Put?a.set(this.id.getActorID(),Sn(this.presenceChange.presence)):a.delete(this.id.getActorID())),{opInfos:u,reverseOps:c}}toTestString(){return`${this.operations.map(e=>e.toTestString()).join(",")}`}toStruct(){return{changeID:We.bytesToHex(We.changeIDToBinary(this.getID())),message:this.getMessage(),operations:this.getOperations().map(e=>We.bytesToHex(We.operationToBinary(e))),presenceChange:this.getPresenceChange()}}static fromStruct(e){const{changeID:a,operations:s,presenceChange:u,message:c}=e;return Nr.create({id:We.bytesToChangeID(We.hexToBytes(a)),operations:s?.map(h=>We.bytesToOperation(We.hexToBytes(h))),presenceChange:u,message:c})}}class Gu{documentKey;checkpoint;isRemoved;changes;snapshot;versionVector;constructor(e,a,s,u,c,h){this.documentKey=e,this.checkpoint=a,this.isRemoved=s,this.changes=u,this.snapshot=h,this.versionVector=c}static create(e,a,s,u,c,h){return new Gu(e,a,s,u,c,h)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class dr{serverSeq;clientSeq;constructor(e,a){this.serverSeq=e,this.clientSeq=a}static of(e,a){return new dr(e,a)}increaseClientSeq(e){return e===0?this:new dr(this.serverSeq,this.clientSeq+e)}forward(e){if(this.equals(e))return this;const a=this.serverSeq>e.serverSeq?this.serverSeq:e.serverSeq,s=Math.max(this.clientSeq,e.clientSeq);return dr.of(a,s)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(e){return this.clientSeq===e.clientSeq&&this.serverSeq==e.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const yT=new dr(0n,0);class Ln{createdAt;offset;constructor(e,a){this.createdAt=e,this.offset=a}static of(e,a){return new Ln(e,a)}static fromStruct(e){return Ln.of(on.fromStruct(e.createdAt),e.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}hasSameCreatedAt(e){return this.createdAt.compare(e.createdAt)===0}split(e){return new Ln(this.createdAt,this.offset+e)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const pT=Ln.of(vr,0);class In{id;relativeOffset;constructor(e,a){this.id=e,this.relativeOffset=a}static of(e,a){return new In(e,a)}static fromStruct(e){const a=Ln.fromStruct(e.id);return In.of(a,e.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Ln.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(e){return this.id.equals(e.id)?this.relativeOffset===e.relativeOffset:!1}}class Wi extends pv{id;removedAt;prev;next;insPrev;insNext;constructor(e,a,s){super(a),this.id=e,this.removedAt=s}static create(e,a){return new Wi(e,a)}static createComparator(){return(e,a)=>{const s=e.getCreatedAt().compare(a.getCreatedAt());return s!==0?s:e.getOffset()>a.getOffset()?1:e.getOffset()<a.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new Wi(this.id.split(e),this.splitValue(e),this.removedAt)}canRemove(e,a,s){return a?!!(!this.removedAt||!s&&e?.after(this.removedAt)):!1}canStyle(e,a){return this.getCreatedAt().getLamport()<=a&&(!this.removedAt||e.after(this.removedAt))}setRemovedAt(e){this.removedAt=e}remove(e){if(!this.removedAt){this.removedAt=e;return}e.after(this.removedAt)&&(this.removedAt=e)}createPosRange(){return[In.of(this.id,0),In.of(this.id,this.getLength())]}getDataSize(){const e=this.value.getDataSize();return this.id&&(e.meta+=Un),this.removedAt&&(e.meta+=Un),e}deepcopy(){return new Wi(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const a=this.value;return this.value=a.substring(0,e),a.substring(e,a.length)}toIDString(){return this.id.toIDString()}}class Tr{head;treeByIndex;treeByID;constructor(){this.head=Wi.create(pT),this.treeByIndex=new Ys,this.treeByID=new Iv(Wi.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Tr}edit(e,a,s,u){const c={data:0,meta:0},[h,d,y]=this.findNodeWithSplit(e[1],a),[m,v,N]=this.findNodeWithSplit(e[0],a);yt(c,d,v);const V=this.findBetween(N,y),[C,L]=this.deleteNodes(V,a,u),Y=y?y.getID():h.getID();let F=In.of(Y,0);if(s){const ye=this.posToIndex(m.createPosRange()[1],!0),ne=this.insertAfter(m,Wi.create(Ln.of(a,0),s));yt(c,ne.getDataSize()),C.length&&C[C.length-1].from===ye?C[C.length-1].value=s:C.push({actor:a.getActorID(),from:ye,to:ye,value:s}),F=In.of(ne.getID(),ne.getContentLength())}const q=[];for(const[,ye]of L)q.push({parent:this,child:ye});return[F,q,c,C]}indexToPos(e){const[a,s]=this.treeByIndex.find(e),u=a;return In.of(u.getID(),s)}findIndexesFromRange(e){const[a,s]=e;return[this.posToIndex(a,!1),this.posToIndex(s,!0)]}posToIndex(e,a){const s=e.getAbsoluteID(),u=a?this.findFloorNodePreferToLeft(s):this.findFloorNode(s);if(!u)throw new T(E.ErrInvalidArgument,`the node of the given id should be found: ${s.toTestString()}`);const c=this.treeByIndex.indexOf(u),h=u.isRemoved()?0:s.getOffset()-u.getID().getOffset();return c+h}findNode(e){return this.findFloorNode(e)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const e=[];for(const a of this)a.isRemoved()||e.push(a.getValue());return e.join("")}*[Symbol.iterator](){let e=this.head.getNext();for(;e;)yield e,e=e.getNext()}getHead(){return this.head}deepcopy(){const e=new Tr;let a=this.head.getNext(),s=e.head,u;for(;a;){if(u=e.insertAfter(s,a.deepcopy()),a.hasInsPrev()){const c=e.findNode(a.getInsPrevID());u.setInsPrev(c)}s=u,a=a.getNext()}return e}toTestString(){const e=[];let a=this.head;for(;a;)a.isRemoved()?e.push(`{${a.toTestString()}}`):e.push(`[${a.toTestString()}]`),a=a.getNext();return e.join("")}insertAfter(e,a){const s=e.getNext();return a.setPrev(e),s&&s.setPrev(a),this.treeByID.put(a.getID(),a),this.treeByIndex.insertAfter(e,a),a}findNodeWithSplit(e,a){const s=e.getAbsoluteID();let u=this.findFloorNodePreferToLeft(s);const c=s.getOffset()-u.getID().getOffset(),[,h]=this.splitNode(u,c);for(;u.hasNext()&&u.getNext().getCreatedAt().after(a);)u=u.getNext();return[u,h,u.getNext()]}findFloorNodePreferToLeft(e){let a=this.findFloorNode(e);if(!a)throw new T(E.ErrInvalidArgument,`the node of the given id should be found: ${e.toTestString()}`);if(e.getOffset()>0&&a.getID().getOffset()==e.getOffset()){if(!a.hasInsPrev())return a;a=a.getInsPrev()}return a}findFloorNode(e){const a=this.treeByID.floorEntry(e);if(a&&!(!a.key.equals(e)&&!a.key.hasSameCreatedAt(e)))return a.value}findBetween(e,a){const s=[];let u=e;for(;u&&u!==a;)s.push(u),u=u.getNext();return s}splitNode(e,a){const s={data:0,meta:0};if(a>e.getContentLength())throw new T(E.ErrInvalidArgument,"offset should be less than or equal to length");if(a===0)return[e,s];if(a===e.getContentLength())return[e.getNext(),s];const u=e.getDataSize(),c=e.split(a);this.treeByIndex.updateWeight(c),this.insertAfter(e,c);const h=e.getInsNext();return h&&h.setInsPrev(c),c.setInsPrev(e),yt(s,e.getDataSize(),c.getDataSize()),ya(s,u),[c,s]}deleteNodes(e,a,s){if(!e.length)return[[],new Map];const u=s===void 0||s.size()===0,c=[],h=[],[d,y]=this.findEdgesOfCandidates(e);h.push(d);for(const N of e){let V=!1;if(u)V=!0;else{const L=s?.get(N.getCreatedAt().getActorID());L&&L>=N.getCreatedAt().getLamport()&&(V=!0)}let C=!1;if(N.getRemovedAt()){const L=s?.get(N.getRemovedAt().getActorID());(u||L&&L>=N.getRemovedAt().getLamport())&&(C=!0)}N.canRemove(a,V,C)?c.push(N):h.push(N)}h.push(y);const m=this.makeChanges(h,a),v=new Map;for(const N of c)v.set(N.getID().toIDString(),N),N.remove(a);return this.deleteIndexNodes(h),[m,v]}findEdgesOfCandidates(e){return[e[0].getPrev(),e[e.length-1].getNext()]}makeChanges(e,a){const s=[];let u,c;for(let h=0;h<e.length-1;h++){const d=e[h],y=e[h+1];d.getNext()!=y&&([u]=this.findIndexesFromRange(d.getNext().createPosRange()),y?[,c]=this.findIndexesFromRange(y.getPrev().createPosRange()):c=this.treeByIndex.length,u<c&&s.push({actor:a.getActorID(),from:u,to:c}))}return s.reverse()}deleteIndexNodes(e){for(let a=0;a<e.length-1;a++){const s=e[a],u=e[a+1];s.getNext()!=u&&this.treeByIndex.deleteRange(s,u)}}purge(e){this.treeByIndex.delete(e),this.treeByID.remove(e.getID());const a=e.getPrev(),s=e.getNext(),u=e.getInsPrev(),c=e.getInsNext();a&&a.setNext(s),s&&s.setPrev(a),e.setPrev(void 0),e.setNext(void 0),u&&u.setInsNext(c),c&&c.setInsPrev(u),e.setInsPrev(void 0),e.setInsNext(void 0)}}const ib=i=>i<0?Math.ceil(i):Math.floor(i);var zn=(i=>(i[i.Int=0]="Int",i[i.Long=1]="Long",i))(zn||{});class Lt extends ks{valueType;value;constructor(e,a,s){switch(super(s),this.valueType=e,e){case 0:typeof a=="number"?a>Math.pow(2,31)-1||a<-Math.pow(2,31)?this.value=me.fromNumber(a).toInt():this.value=ib(a):this.value=a.toInt();break;case 1:typeof a=="number"?this.value=me.fromNumber(a):this.value=a;break;default:throw new T(E.ErrUnimplemented,`unimplemented type: ${e}`)}}static create(e,a,s){return new Lt(e,a,s)}static valueFromBytes(e,a){switch(e){case 0:return a[0]|a[1]<<8|a[2]<<16|a[3]<<24;case 1:return me.fromBytesLE(Array.from(a));default:throw new T(E.ErrUnimplemented,`unimplemented type: ${e}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=Lt.create(this.valueType,this.value,this.getCreatedAt());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof me?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!Lt.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const a=this.value.toBytesLE();return Uint8Array.from(a)}default:throw new T(E.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function a(s){if(!s.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof s.getValue()}`)}return a(this),a(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===Ye.Long?this.value=this.value+e.getValue().toInt():this.value=me.fromNumber(this.value+ib(e.getValue())).toInt(),this}}class Rr extends Cn{value;constructor(e,a,s){super(e,s),this.value=a}static create(e,a,s){return new Rr(e,a,s)}execute(e){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Lt))throw new T(E.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const s=a,u=this.value.deepcopy();return s.increase(u),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:u.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),s=e.getType()===Ye.Long?e.getValue().multiply(-1):e.getValue()*-1;return Rr.create(this.getParentCreatedAt(),Fe.of(s,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class ui extends Cn{fromPos;toPos;attributes;attributesToRemove;constructor(e,a,s,u,c,h){super(e,h),this.fromPos=a,this.toPos=s,this.attributes=u,this.attributesToRemove=c}static create(e,a,s,u,c){return new ui(e,a,s,u,[],c)}static createTreeRemoveStyleOperation(e,a,s,u,c){return new ui(e,a,s,new Map,u,c)}execute(e,a,s){const u=e.findByCreatedAt(this.getParentCreatedAt());if(!u)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(u instanceof Ht))throw new T(E.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const c=u;let h,d,y={data:0,meta:0};if(this.attributes.size){const m={};[...this.attributes].forEach(([v,N])=>m[v]=N),[d,h,y]=c.style([this.fromPos,this.toPos],m,this.getExecutedAt(),s)}else{const m=this.attributesToRemove;[d,h,y]=c.removeStyle([this.fromPos,this.toPos],m,this.getExecutedAt(),s)}e.acc(y);for(const m of d)e.registerGCPair(m);return{opInfos:h.map(({from:m,to:v,value:N,fromPath:V,toPath:C})=>({type:"tree-style",from:m,to:v,value:this.attributes.size?{attributes:N}:{attributesToRemove:N},fromPath:V,toPath:C,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),a=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,s=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${a},${s},${Object.entries(this.attributes||{}).map(([u,c])=>`${u}:"${c}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class ci extends Cn{createdAt;value;constructor(e,a,s,u){super(e,u),this.createdAt=a,this.value=s}static create(e,a,s,u){return new ci(e,a,s,u)}execute(e){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof St))throw new T(E.ErrInvalidArgument,"fail to execute, only array can execute set");const s=a.getByID(this.createdAt).deepcopy(),u=this.toReverseOperation(this.value,s),c=this.value.deepcopy();return a.insertAfter(this.createdAt,c,this.getExecutedAt()),a.delete(this.createdAt,this.getExecutedAt()),e.registerElement(c),{opInfos:[{type:"array-set",path:e.createPath(this.getParentCreatedAt())}],reverseOp:u}}toReverseOperation(e,a){return ci.create(this.getParentCreatedAt(),e.getCreatedAt(),a)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(e){this.createdAt=e}}function bT(i){const e={};for(const[a,s]of Object.entries(i))e[a]=JSON.stringify(s);return H(QN,{data:e})}function vT(i){if(i.type===Mn.Put)return H(Hp,{type:zs.PUT,presence:bT(i.presence)});if(i.type===Mn.Clear)return H(Hp,{type:zs.CLEAR});throw new T(E.ErrUnimplemented,"unimplemented type")}function ST(i){return H($N,{serverSeq:i.getServerSeq(),clientSeq:i.getClientSeq()})}function zf(i){return H(fh,{clientSeq:i.getClientSeq(),lamport:i.getLamport(),actorId:Wu(i.getActorID()),versionVector:ph(i.getVersionVector())})}function Q(i){if(i)return H(qN,{lamport:i.getLamport(),delimiter:i.getDelimiter(),actorId:Wu(i.getActorID())})}function ph(i){if(!i)return;const e=H(hh);for(const[a,s]of i){const u=i2(Wu(a));e.vector[u]=BigInt(s.toString())}return e}function Dv(i){switch(i){case Ye.Null:return oe.NULL;case Ye.Boolean:return oe.BOOLEAN;case Ye.Integer:return oe.INTEGER;case Ye.Long:return oe.LONG;case Ye.Double:return oe.DOUBLE;case Ye.String:return oe.STRING;case Ye.Bytes:return oe.BYTES;case Ye.Date:return oe.DATE;default:throw new T(E.ErrInvalidType,`unsupported type: ${i}`)}}function Ov(i){switch(i){case zn.Int:return oe.INTEGER_CNT;case zn.Long:return oe.LONG_CNT;default:throw new T(E.ErrInvalidType,`unsupported type: ${i}`)}}function yu(i){if(i instanceof vt)return H(rr,{type:oe.JSON_OBJECT,createdAt:Q(i.getCreatedAt()),value:Wv(i)});if(i instanceof St)return H(rr,{type:oe.JSON_ARRAY,createdAt:Q(i.getCreatedAt()),value:qT(i)});if(i instanceof jt)return H(rr,{type:oe.TEXT,createdAt:Q(i.getCreatedAt())});if(i instanceof Fe)return H(rr,{type:Dv(i.getType()),createdAt:Q(i.getCreatedAt()),value:i.toBytes()});if(i instanceof Lt)return H(rr,{type:Ov(i.getType()),createdAt:Q(i.getCreatedAt()),value:i.toBytes()});if(i instanceof Ht)return H(rr,{type:oe.TREE,createdAt:Q(i.getCreatedAt()),value:t2(i)});throw new T(E.ErrUnimplemented,"unimplemented element")}function AT(i){return H(JN,{createdAt:Q(i.getCreatedAt()),offset:i.getOffset()})}function pu(i){return H(PN,{createdAt:Q(i.getID().getCreatedAt()),offset:i.getID().getOffset(),relativeOffset:i.getRelativeOffset()})}function bu(i){return H(HN,{parentId:ws(i.getParentID()),leftSiblingId:ws(i.getLeftSiblingID())})}function ws(i){return H(jN,{createdAt:Q(i.getCreatedAt()),offset:i.getOffset()})}function Yf(i){const e=H(dh);if(i instanceof ba){const a=i,s=H(IN);s.parentCreatedAt=Q(a.getParentCreatedAt()),s.key=a.getKey(),s.value=yu(a.getValue()),s.executedAt=Q(a.getExecutedAt()),e.body.case="set",e.body.value=s}else if(i instanceof Ji){const a=i,s=H(CN);s.parentCreatedAt=Q(a.getParentCreatedAt()),s.prevCreatedAt=Q(a.getPrevCreatedAt()),s.value=yu(a.getValue()),s.executedAt=Q(a.getExecutedAt()),e.body.case="add",e.body.value=s}else if(i instanceof Tn){const a=i,s=H(wN);s.parentCreatedAt=Q(a.getParentCreatedAt()),s.prevCreatedAt=Q(a.getPrevCreatedAt()),s.createdAt=Q(a.getCreatedAt()),s.executedAt=Q(a.getExecutedAt()),e.body.case="move",e.body.value=s}else if(i instanceof Zn){const a=i,s=H(DN);s.parentCreatedAt=Q(a.getParentCreatedAt()),s.createdAt=Q(a.getCreatedAt()),s.executedAt=Q(a.getExecutedAt()),e.body.case="remove",e.body.value=s}else if(i instanceof Fs){const a=i,s=H(ON);s.parentCreatedAt=Q(a.getParentCreatedAt()),s.from=pu(a.getFromPos()),s.to=pu(a.getToPos()),s.content=a.getContent();const u=s.attributes;for(const[c,h]of a.getAttributes())u[c]=h;s.executedAt=Q(a.getExecutedAt()),e.body.case="edit",e.body.value=s}else if(i instanceof js){const a=i,s=H(VN);s.parentCreatedAt=Q(a.getParentCreatedAt()),s.from=pu(a.getFromPos()),s.to=pu(a.getToPos());const u=s.attributes;for(const[c,h]of a.getAttributes())u[c]=h;s.executedAt=Q(a.getExecutedAt()),e.body.case="style",e.body.value=s}else if(i instanceof Rr){const a=i,s=H(xN);s.parentCreatedAt=Q(a.getParentCreatedAt()),s.value=yu(a.getValue()),s.executedAt=Q(a.getExecutedAt()),e.body.case="increase",e.body.value=s}else if(i instanceof Hs){const a=i,s=H(UN);s.parentCreatedAt=Q(a.getParentCreatedAt()),s.from=bu(a.getFromPos()),s.to=bu(a.getToPos()),s.contents=wT(a.getContents()),s.splitLevel=a.getSplitLevel(),s.executedAt=Q(a.getExecutedAt()),e.body.case="treeEdit",e.body.value=s}else if(i instanceof ui){const a=i,s=H(BN);s.parentCreatedAt=Q(a.getParentCreatedAt()),s.from=bu(a.getFromPos()),s.to=bu(a.getToPos());const u=a.getAttributesToRemove();if(u.length>0)s.attributesToRemove=u;else{const c=s.attributes;for(const[h,d]of a.getAttributes())c[h]=d}s.executedAt=Q(a.getExecutedAt()),e.body.case="treeStyle",e.body.value=s}else if(i instanceof ci){const a=i,s=H(LN);s.parentCreatedAt=Q(a.getParentCreatedAt()),s.createdAt=Q(a.getCreatedAt()),s.value=yu(a.getValue()),s.executedAt=Q(a.getExecutedAt()),e.body.case="arraySet",e.body.value=s}else throw new T(E.ErrUnimplemented,"unimplemented operation");return e}function ET(i){const e=[];for(const a of i)e.push(Yf(a));return e}function NT(i){const e=H(RN,{id:zf(i.getID()),message:i.getMessage()});return i.hasOperations()&&(e.operations=ET(i.getOperations())),i.hasPresenceChange()&&(e.presenceChange=vT(i.getPresenceChange())),e}function TT(i){const e=[];for(const a of i)e.push(NT(a));return e}function RT(i){const e=[];for(const a of i)e.push(H(WN,{key:a.getStrKey(),element:vh(a.getValue())}));return e}function IT(i){const e=[];for(const a of i)e.push(H(KN,{element:vh(a.getValue())}));return e}function CT(i){const e=[];for(const a of i){const s=H(XN);s.id=AT(a.getID()),s.value=a.getValue().getContent(),s.removedAt=Q(a.getRemovedAt());const u=s.attributes,c=a.getValue().getAttrs();for(const h of c){const d=H(gv);d.value=h.getValue(),d.updatedAt=Q(h.getUpdatedAt()),u[h.getKey()]=d}e.push(s)}return e}function wT(i){const e=[];if(!i||!i.length)return e;for(const a of i)e.push(H(FN,{content:bh(a)}));return e}function DT(i){const e={};for(const a of i)e[a.getKey()]=H(gv,{value:a.getValue(),updatedAt:Q(a.getUpdatedAt()),isRemoved:a.isRemoved()});return e}function bh(i){if(!i)return[];const e=[];return Yu(i,(a,s)=>{const u=H(kN,{id:ws(a.id),type:a.type,removedAt:Q(a.removedAt),depth:s});a.isText&&(u.value=a.value),a.insPrevID&&(u.insPrevId=ws(a.insPrevID)),a.insNextID&&(u.insNextId=ws(a.insNextID)),a.attrs&&(u.attributes=DT(a.attrs)),e.push(u)}),e}function OT(i){return H(hn,{body:{case:"jsonObject",value:H(MN,{nodes:RT(i.getRHT()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function Vv(i){return H(hn,{body:{case:"jsonArray",value:H(ZN,{nodes:IT(i.getElements()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function VT(i){return H(hn,{body:{case:"primitive",value:H(zN,{type:Dv(i.getType()),value:i.toBytes(),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function xT(i){return H(hn,{body:{case:"text",value:H(YN,{nodes:CT(i.getRGATreeSplit()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function UT(i){return H(hn,{body:{case:"counter",value:H(GN,{type:Ov(i.getType()),value:i.toBytes(),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function xv(i){return H(hn,{body:{case:"tree",value:H(_N,{nodes:bh(i.getRoot()),createdAt:Q(i.getCreatedAt()),movedAt:Q(i.getMovedAt()),removedAt:Q(i.getRemovedAt())})}})}function vh(i){if(i instanceof vt)return OT(i);if(i instanceof St)return Vv(i);if(i instanceof Fe)return VT(i);if(i instanceof jt)return xT(i);if(i instanceof Lt)return UT(i);if(i instanceof Ht)return xv(i);throw new T(E.ErrUnimplemented,"unimplemented element")}function BT(i){return H(TN,{documentKey:i.getDocumentKey(),checkpoint:ST(i.getCheckpoint()),isRemoved:i.getIsRemoved(),changes:TT(i.getChanges()),snapshot:i.getSnapshot(),versionVector:ph(i.getVersionVector())})}function LT(i){return{id:i.id,label:i.label,description:i.description,snapshot:i.snapshot,createdAt:i.createdAt?kE(i.createdAt):new Date}}function Ts(i){if(!(i instanceof xe))return{};const e=i.findDetails(iT);for(const a of e)return a.metadata;return{}}function ur(i){return Ts(i).code??""}function Tf(i,e){return i instanceof xe&&ur(i)===e}function Uv(i){return An.of(i.clientSeq,BigInt(i.lamport),Th(i.actorId),Sh(i.versionVector),BigInt(i.serverSeq))}function Sh(i){if(!i)return;const e=new hr;return Object.entries(i.vector).forEach(([a,s])=>{const u=_u(n2(a));e.set(u,BigInt(s.toString()))}),e}function P(i){if(i)return on.of(BigInt(i.lamport),i.delimiter,Th(i.actorId))}function Ah(i){const e={};return Object.entries(i.data).forEach(([a,s])=>{e[a]=JSON.parse(s)}),e}function MT(i){const e=i.type;if(e===zs.PUT){const a=Ah(i.presence);return{type:Mn.Put,presence:a}}if(e===zs.CLEAR)return{type:Mn.Clear};throw new T(E.ErrInvalidType,`unsupported type: ${e}`)}function ZT(i){const e=new Map;return Object.entries(i).forEach(([a,s])=>{e.set(a,Ah(s))}),e}function Bv(i){switch(i){case oe.NULL:return Ye.Null;case oe.BOOLEAN:return Ye.Boolean;case oe.INTEGER:return Ye.Integer;case oe.LONG:return Ye.Long;case oe.DOUBLE:return Ye.Double;case oe.STRING:return Ye.String;case oe.BYTES:return Ye.Bytes;case oe.DATE:return Ye.Date}throw new T(E.ErrUnimplemented,`unimplemented value type: ${i}`)}function xu(i){switch(i){case oe.INTEGER_CNT:return zn.Int;case oe.LONG_CNT:return zn.Long}throw new T(E.ErrUnimplemented,`unimplemented value type: ${i}`)}function vu(i){switch(i.type){case oe.JSON_OBJECT:return i.value?_v(i.value):vt.create(P(i.createdAt));case oe.JSON_ARRAY:return i.value?PT(i.value):St.create(P(i.createdAt));case oe.TEXT:return jt.create(Tr.create(),P(i.createdAt));case oe.TREE:return e2(i.value);case oe.NULL:case oe.BOOLEAN:case oe.INTEGER:case oe.LONG:case oe.DOUBLE:case oe.STRING:case oe.BYTES:case oe.DATE:return Fe.of(Fe.valueFromBytes(Bv(i.type),i.value),P(i.createdAt));case oe.INTEGER_CNT:case oe.LONG_CNT:return Lt.create(xu(i.type),Lt.valueFromBytes(xu(i.type),i.value),P(i.createdAt))}}function Su(i){return In.of(Ln.of(P(i.createdAt),i.offset),i.relativeOffset)}function Lv(i){return Ln.of(P(i.createdAt),i.offset)}function zT(i){const e=_s.create(i.value);Object.entries(i.attributes).forEach(([s,u])=>{e.setAttr(s,u.value,P(u.updatedAt))});const a=Wi.create(Lv(i.id),e);return a.setRemovedAt(P(i.removedAt)),a}function sr(i){return Rn.of(Ds(i.parentId),Ds(i.leftSiblingId))}function Ds(i){return pt.of(P(i.createdAt),i.offset)}function YT(i){if(!i.length)return;const e=[];return i.forEach(a=>{const s=Eh(a.content);e.push(s)}),e}function Eh(i){if(i.length===0)return;const e=[];for(const u of i)e.push(_T(u));const a=e[e.length-1],s=new Map;s.set(i[e.length-1].depth,e[e.length-1]);for(let u=e.length-2;u>=0;u--)s.get(i[u].depth-1).prepend(e[u]),s.set(i[u].depth,e[u]);return a.updateDescendantsSize(),a.updateDescendantsSize(!0),Ht.create(a,vr).getRoot()}function GT(i){const e=oi.create();for(const[a,s]of Object.entries(i))e.setInternal(a,s.value,P(s.updatedAt),s.isRemoved);return e}function _T(i){const e=Ds(i.id),a=Ft.create(e,i.type),s=Object.entries(i.attributes);return a.isText?a.value=i.value:s.length&&(a.attrs=GT(i.attributes)),i.insPrevId&&(a.insPrevID=Ds(i.insPrevId)),i.insNextId&&(a.insNextID=Ds(i.insNextId)),a.removedAt=P(i.removedAt),a}function Mv(i){if(i.body.case==="set"){const e=i.body.value;return ba.create(e.key,vu(e.value),P(e.parentCreatedAt),P(e.executedAt))}else if(i.body.case==="add"){const e=i.body.value;return Ji.create(P(e.parentCreatedAt),P(e.prevCreatedAt),vu(e.value),P(e.executedAt))}else if(i.body.case==="move"){const e=i.body.value;return Tn.create(P(e.parentCreatedAt),P(e.prevCreatedAt),P(e.createdAt),P(e.executedAt))}else if(i.body.case==="remove"){const e=i.body.value;return Zn.create(P(e.parentCreatedAt),P(e.createdAt),P(e.executedAt))}else if(i.body.case==="edit"){const e=i.body.value,a=new Map;return Object.entries(e.attributes).forEach(([s,u])=>{a.set(s,u)}),Fs.create(P(e.parentCreatedAt),Su(e.from),Su(e.to),e.content,a,P(e.executedAt))}else if(i.body.case==="style"){const e=i.body.value,a=new Map;return Object.entries(e.attributes).forEach(([s,u])=>{a.set(s,u)}),js.create(P(e.parentCreatedAt),Su(e.from),Su(e.to),a,P(e.executedAt))}else if(i.body.case==="increase"){const e=i.body.value;return Rr.create(P(e.parentCreatedAt),vu(e.value),P(e.executedAt))}else if(i.body.case==="treeEdit"){const e=i.body.value;return Hs.create(P(e.parentCreatedAt),sr(e.from),sr(e.to),YT(e.contents),e.splitLevel,P(e.executedAt))}else if(i.body.case==="treeStyle"){const e=i.body.value,a=new Map,s=e.attributesToRemove;return s?.length>0?ui.createTreeRemoveStyleOperation(P(e.parentCreatedAt),sr(e.from),sr(e.to),s,P(e.executedAt)):(Object.entries(e.attributes).forEach(([u,c])=>{a.set(u,c)}),ui.create(P(e.parentCreatedAt),sr(e.from),sr(e.to),a,P(e.executedAt)))}else if(i.body.case==="arraySet"){const e=i.body.value;return ci.create(P(e.parentCreatedAt),P(e.createdAt),vu(e.value),P(e.executedAt))}else throw new T(E.ErrUnimplemented,"unimplemented operation")}function WT(i){const e=[];for(const a of i){const s=Mv(a);s&&e.push(s)}return e}function Zv(i){const e=[];for(const a of i)e.push(Nr.create({id:Uv(a.id),operations:WT(a.operations),presenceChange:a.presenceChange?MT(a.presenceChange):void 0,message:a.message}));return e}function KT(i){return dr.of(BigInt(i.serverSeq),i.clientSeq)}function XT(i){return Gu.create(i.documentKey,KT(i.checkpoint),i.isRemoved,Zv(i.changes),Sh(i.versionVector),i.snapshot)}function zv(i){const e=new Sr;for(const s of i.nodes){const u=Nh(s.element);e.set(s.key,u,u.getPositionedAt())}const a=new vt(P(i.createdAt),e);return a.setMovedAt(P(i.movedAt)),a.setRemovedAt(P(i.removedAt)),a}function Yv(i){const e=new Gs;for(const s of i.nodes)e.insert(Nh(s.element));const a=new St(P(i.createdAt),e);return a.setMovedAt(P(i.movedAt)),a.setRemovedAt(P(i.removedAt)),a}function JT(i){const e=Fe.of(Fe.valueFromBytes(Bv(i.type),i.value),P(i.createdAt));return e.setMovedAt(P(i.movedAt)),e.setRemovedAt(P(i.removedAt)),e}function kT(i){const e=new Tr;let a=e.getHead();for(const u of i.nodes){const c=e.insertAfter(a,zT(u));u.insPrevId&&c.setInsPrev(e.findNode(Lv(u.insPrevId))),a=c}const s=new jt(e,P(i.createdAt));return s.setMovedAt(P(i.movedAt)),s.setRemovedAt(P(i.removedAt)),s}function FT(i){const e=Lt.create(xu(i.type),Lt.valueFromBytes(xu(i.type),i.value),P(i.createdAt));return e.setMovedAt(P(i.movedAt)),e.setRemovedAt(P(i.removedAt)),e}function Gv(i){const e=Eh(i.nodes);return Ht.create(e,P(i.createdAt))}function Nh(i){if(i.body.case==="jsonObject")return zv(i.body.value);if(i.body.case==="jsonArray")return Yv(i.body.value);if(i.body.case==="primitive")return JT(i.body.value);if(i.body.case==="text")return kT(i.body.value);if(i.body.case==="counter")return FT(i.body.value);if(i.body.case==="tree")return Gv(i.body.value);throw new T(E.ErrUnimplemented,"unimplemented element")}function jT(i){return i.map(e=>({path:e.path,type:e.type}))}function HT(i){if(!i)return{root:vt.create(vr),presences:new Map};const e=fn(NN,i);return{root:Nh(e.root),presences:ZT(e.presences)}}function QT(i){const e=ph(i);return _u(Xi(hh,e))}function $T(i){const e=Rh(i),a=fn(hh,e);return Sh(a)}function _v(i){if(!i)throw new T(E.ErrInvalidArgument,"bytes is empty");const e=fn(hn,i);return zv(e.body.value)}function Wv(i){return Xi(hn,vh(i))}function PT(i){if(!i)throw new T(E.ErrInvalidArgument,"bytes is empty");const e=fn(hn,i);return Yv(e.body.value)}function qT(i){return Xi(hn,Vv(i))}function e2(i){if(!i)throw new T(E.ErrInvalidArgument,"bytes is empty");const e=fn(hn,i);return Gv(e.body.value)}function t2(i){return Xi(hn,xv(i))}function _u(i){return i?Array.from(i).map(e=>e.toString(16).padStart(2,"0")).join(""):""}function Th(i){return _u(i)}function Rh(i){return new Uint8Array(i.match(/.{1,2}/g).map(e=>parseInt(e,16)))}function n2(i){if(typeof window<"u"&&typeof window.atob=="function"){const e=window.atob(i),a=e.length,s=new Uint8Array(a);for(let u=0;u<a;u++)s[u]=e.charCodeAt(u);return s}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const e=globalThis.Buffer;return new Uint8Array(e.from(i,"base64"))}else throw new Error("No base64 decoder available")}function Wu(i){return Rh(i)}function i2(i){if(typeof window<"u"&&typeof window.btoa=="function"){let e="";for(let a=0;a<i.byteLength;a++)e+=String.fromCharCode(i[a]);return window.btoa(e)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(i).toString("base64");throw new Error("No base64 encoder available")}}function a2(i){const e=fn(fh,i);return Uv(e)}function r2(i){const e=fn(dh,i);return Mv(e)}const We={fromPresence:Ah,toChangePack:BT,fromChangePack:XT,fromChanges:Zv,toTreeNodes:bh,fromTreeNodes:Eh,objectToBytes:Wv,bytesToObject:_v,bytesToSnapshot:HT,bytesToHex:_u,hexToBytes:Rh,toHexString:Th,toUint8Array:Wu,toOperation:Yf,toChangeID:zf,bytesToChangeID:a2,bytesToOperation:r2,versionVectorToHex:QT,hexToVersionVector:$T,fromSchemaRules:jT,toRevisionSummary:LT,changeIDToBinary:i=>Xi(fh,zf(i)),operationToBinary:i=>Xi(dh,Yf(i))};var xt=(i=>(i[i.Trivial=0]="Trivial",i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warn=3]="Warn",i[i.Error=4]="Error",i[i.Fatal=5]="Fatal",i))(xt||{});let da=3;function s2(i){da=i}const _={trivial:(...i)=>{da>0||typeof console<"u"&&console.log("YORKIE T:",...i)},debug:(...i)=>{da>1||typeof console<"u"&&console.log("YORKIE D:",...i)},info:(...i)=>{da>2||typeof console<"u"&&console.log("YORKIE I:",...i)},warn:(...i)=>{da>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...i):console.log("YORKIE W:",...i))},error:(...i)=>{da>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...i):console.log("YORKIE E:",...i))},fatal:(...i)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...i):console.log("YORKIE F:",...i))},isEnabled:i=>da<=i};function Kv(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,i=>{const e=Math.random()*16|0;return(i==="x"?e:e&3|8).toString(16)})}const Rf=()=>{};class l2{finalized=!1;observers=[];finalError;constructor(e){try{e(this)}catch(a){this.error(a)}}next(e){this.forEachObserver(a=>{a.next(e)})}error(e){this.forEachObserver(a=>{a.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,a,s){let u;if(!e)throw new T(E.ErrInvalidArgument,"missing observer");if(this.finalized)throw new T(E.ErrRefused,"observable is finalized due to previous error");typeof e=="object"?u=e:u={next:e,error:a,complete:s},u.next===void 0&&(u.next=Rf),u.error===void 0&&(u.error=Rf),u.complete===void 0&&(u.complete=Rf);const c=Kv(),h=this.unsubscribeOne.bind(this,c);if(this.observers.push({subscriptionID:c,observer:u}),this.finalized)try{this.finalError?u.error(this.finalError):u.complete()}catch(d){_.warn(d)}return h}unsubscribeOne(e){this.observers=this.observers?.filter(a=>a.subscriptionID!==e)}forEachObserver(e){if(!this.finalized)for(let a=0;a<this.observers.length;a++)this.sendOne(a,e)}sendOne(e,a){if(this.observers!==void 0&&this.observers[e]!==void 0)try{a(this.observers[e].observer)}catch(s){_.error(s)}}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.observers=void 0)}}function Xv(i){const e=new l2(i);return{subscribe:e.subscribe.bind(e),getProxy:()=>e}}class Os{prevID;nextID;delimiter;message;root;operations;presenceChange;previousPresence;reversePresenceKeys;constructor(e,a,s,u){this.prevID=e,this.nextID=e.next(),this.delimiter=yv,this.root=a,this.operations=[],this.previousPresence=Sn(s),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=u}static create(e,a,s,u){return new Os(e,a,s,u)}push(e){this.operations.push(e)}registerElement(e,a){this.root.registerElement(e,a)}registerRemovedElement(e){this.root.registerRemovedElement(e)}registerGCPair(e){this.root.registerGCPair(e)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const e=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return Nr.create({id:e,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(e){this.presenceChange=e}setReversePresence(e,a){for(const s of Object.keys(e))a?.addToHistory?this.reversePresenceKeys.add(s):this.reversePresenceKeys.delete(s)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const e={};for(const a of this.reversePresenceKeys)e[a]=this.previousPresence[a];return e}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(e){this.root.acc(e)}}function Jv(i,e){const a=new Ws(i);return new Proxy(e,a.getHandlers())}class Ws{context;handlers;constructor(e){this.context=e,this.handlers={set:(a,s,u)=>(_.isEnabled(xt.Trivial)&&_.trivial(`obj[${s}]=${JSON.stringify(u)}`),Ws.setInternal(e,a,s,u),!0),get:(a,s)=>(_.isEnabled(xt.Trivial)&&_.trivial(`obj[${s}]`),s==="getID"?()=>a.getCreatedAt():s==="toJSON"||s==="toString"?()=>a.toJSON():s==="toJS"?()=>a.toJS():s==="toJSForTest"?()=>a.toJSForTest():ga(e,a.get(s))),ownKeys:a=>a.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(a,s)=>(_.isEnabled(xt.Trivial)&&_.trivial(`obj[${s}]`),Ws.deleteInternal(e,a,s),!0)}}static setInternal(e,a,s,u){if(s.includes("."))throw new T(E.ErrInvalidObjectKey,"key must not contain the '.'.");const c=e.issueTimeTicket(),h=Vs(e,u,c),d=a.set(s,h,c);e.registerElement(h,a),d&&e.registerRemovedElement(d),e.push(ba.create(s,h.deepcopy(),a.getCreatedAt(),c))}static buildObjectMembers(e,a){const s={};for(const[u,c]of Object.entries(a)){if(u.includes("."))throw new T(E.ErrInvalidObjectKey,"key must not contain the '.'.");const h=e.issueTimeTicket(),d=Vs(e,c,h);s[u]=d}return s}static deleteInternal(e,a,s){const u=e.issueTimeTicket(),c=a.deleteByKey(s,u);c&&(e.push(Zn.create(a.getCreatedAt(),c.getCreatedAt(),u)),e.registerRemovedElement(c))}getHandlers(){return this.handlers}}function u2(i,e){const a=new De(i,e);return new Proxy(e,a.getHandlers())}function ab(i){return typeof i=="string"||i instanceof String?!isNaN(i):!1}function o2(i){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(i)}class De{context;handlers;array;constructor(e,a){this.context=e,this.array=a,this.handlers={get:(s,u,c)=>u==="getID"?()=>s.getCreatedAt():u==="getElementByID"?h=>{const d=s.getByID(h);if(!(!d||d.isRemoved()))return vn(e,d)}:u==="getElementByIndex"?h=>{const d=s.get(h);return vn(e,d)}:u==="getLast"?()=>vn(e,s.getLast()):u==="delete"?h=>{const d=De.deleteInternalByIndex(e,s,h);return vn(e,d)}:u==="deleteByID"?h=>{const d=De.deleteInternalByID(e,s,h);return vn(e,d)}:u==="insertAfter"?(h,d)=>{const y=De.insertAfterInternal(e,s,h,d);return vn(e,y)}:u==="insertIntegerAfter"?(h,d)=>{const y=De.insertIntegerAfterInternal(e,s,h,d);return vn(e,y)}:u==="insertBefore"?(h,d)=>{const y=De.insertBeforeInternal(e,s,h,d);return vn(e,y)}:u==="setValue"?(h,d)=>{const y=De.setValueInternal(e,s,h,d);return vn(e,y)}:u==="moveBefore"?(h,d)=>{De.moveBeforeInternal(e,s,h,d)}:u==="moveAfter"?(h,d)=>{De.moveAfterInternal(e,s,h,d)}:u==="moveAfterByIndex"?(h,d)=>{De.moveAfterByIndexInternal(e,s,h,d)}:u==="moveFront"?h=>{De.moveFrontInternal(e,s,h)}:u==="moveLast"?h=>{De.moveLastInternal(e,s,h)}:ab(u)?ga(e,s.get(Number(u))):u==="push"?h=>De.pushInternal(e,s,h):u==="splice"?(h,d,...y)=>De.splice(e,s,h,d,...y):u==="length"?s.length:typeof u=="symbol"&&u===Symbol.iterator?De.iteratorInternal.bind(this,e,s):u==="includes"?(h,d)=>De.includes(e,s,h,d):u==="indexOf"?(h,d)=>De.indexOf(e,s,h,d):u==="lastIndexOf"?(h,d)=>De.lastIndexOf(e,s,h,d):u==="toJSForTest"?()=>s.toJSForTest():u==="toTestString"?()=>De.toTestString(s):typeof u=="string"&&o2(u)?(...h)=>{const d=Array.from(s).map(y=>ga(e,y));return Array.prototype[u].apply(d,h)}:Reflect.get(s,u,c),set:(s,u,c)=>{if(ab(u)){const h=Number(u);return De.setValueInternal(e,s,h,c),!0}return Reflect.set(s,u,c)},deleteProperty:(s,u)=>(_.isEnabled(xt.Trivial)&&_.trivial(`array[${u}]`),De.deleteInternalByIndex(e,s,Number.parseInt(u)),!0)}}static*iteratorInternal(e,a){for(const s of a)yield vn(e,s)}static buildArrayElements(e,a){const s=[];for(const u of a){const c=e.issueTimeTicket(),h=Vs(e,u,c);s.push(h)}return s}static pushInternal(e,a,s){return De.insertAfterInternal(e,a,a.getLastCreatedAt(),s),a.length}static moveBeforeInternal(e,a,s,u){const c=e.issueTimeTicket(),h=a.getPrevCreatedAt(s);a.moveAfter(h,u,c),e.push(Tn.create(a.getCreatedAt(),h,u,c))}static moveAfterInternal(e,a,s,u){const c=e.issueTimeTicket();e.push(Tn.create(a.getCreatedAt(),s,u,c)),a.moveAfter(s,u,c)}static moveAfterByIndexInternal(e,a,s,u){const c=a.get(s);if(!c)throw new T(E.ErrInvalidArgument,`index out of bounds: ${s}`);const h=a.get(u);if(!h)throw new T(E.ErrInvalidArgument,`index out of bounds: ${u}`);De.moveAfterInternal(e,a,c.getCreatedAt(),h.getCreatedAt())}static moveFrontInternal(e,a,s){const u=e.issueTimeTicket(),c=a.getHead();a.moveAfter(c.getCreatedAt(),s,u),e.push(Tn.create(a.getCreatedAt(),c.getCreatedAt(),s,u))}static moveLastInternal(e,a,s){const u=e.issueTimeTicket(),c=a.getLastCreatedAt();a.moveAfter(c,s,u),e.push(Tn.create(a.getCreatedAt(),c,s,u))}static insertAfterInternal(e,a,s,u){const c=e.issueTimeTicket(),h=Vs(e,u,c);return a.insertAfter(s,h),e.registerElement(h,a),e.push(Ji.create(a.getCreatedAt(),s,h.deepcopy(),c)),h}static insertIntegerAfterInternal(e,a,s,u){const c=a.get(s);if(!c)throw new T(E.ErrInvalidArgument,`index out of bounds: ${s}`);return De.insertAfterInternal(e,a,c.getCreatedAt(),u),a}static insertBeforeInternal(e,a,s,u){return De.insertAfterInternal(e,a,a.getPrevCreatedAt(s),u)}static setValueInternal(e,a,s,u){const c=a.get(s);if(!c)throw new T(E.ErrInvalidArgument,`index out of bounds: ${s}`);return De.setByIndexInternal(e,a,c.getCreatedAt(),u),a}static setByIndexInternal(e,a,s,u){const c=e.issueTimeTicket(),h=Vs(e,u,c),d=h.deepcopy();return e.push(ci.create(a.getCreatedAt(),s,d,c)),a.set(s,h,c),e.registerElement(h,a),h}static deleteInternalByIndex(e,a,s){const u=e.issueTimeTicket(),c=a.deleteByIndex(s,u);if(c)return e.push(Zn.create(a.getCreatedAt(),c.getCreatedAt(),u)),e.registerRemovedElement(c),c}static deleteInternalByID(e,a,s){const u=e.issueTimeTicket(),c=a.delete(s,u);return e.push(Zn.create(a.getCreatedAt(),c.getCreatedAt(),u)),e.registerRemovedElement(c),c}static splice(e,a,s,u,...c){const h=a.length,d=s>=0?Math.min(s,h):Math.max(h+s,0),y=u===void 0?h:u<0?d:Math.min(d+u,h),m=[];for(let v=d;v<y;v++){const N=De.deleteInternalByIndex(e,a,d);if(N){const V=N.deepcopy();V.setRemovedAt(),m.push(ga(e,V))}}if(c){let v=d===0?a.getHead().getID():a.get(d-1).getID();for(const N of c)v=De.insertAfterInternal(e,a,v,N).getID()}return m}static includes(e,a,s,u){const c=a.length,h=u===void 0?0:u<0?Math.max(u+c,0):u;if(h>=c)return!1;if(Fe.isSupport(s))return Array.from(a).map(y=>ga(e,y)).includes(s,h);for(let d=h;d<c;d++)if(a.get(d)?.getID()===s.getID())return!0;return!1}static indexOf(e,a,s,u){const c=a.length,h=u===void 0?0:u<0?Math.max(u+c,0):u;if(h>=c)return-1;if(Fe.isSupport(s))return Array.from(a).map(y=>ga(e,y)).indexOf(s,h);for(let d=h;d<c;d++)if(a.get(d)?.getID()===s.getID())return d;return-1}static lastIndexOf(e,a,s,u){const c=a.length,h=u===void 0||u>=c?c-1:u<0?u+c:u;if(h<0)return-1;if(Fe.isSupport(s))return Array.from(a).map(y=>ga(e,y)).lastIndexOf(s,h);for(let d=h;d>0;d--)if(a.get(d)?.getID()===s.getID())return d;return-1}static toTestString(e){return e.toTestString()}getHandlers(){return this.handlers}}class Ih{context;text;constructor(e,a){this.context=e,this.text=a}initialize(e,a){this.context=e,this.text=a}getID(){return this.text.getID()}edit(e,a,s,u){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");if(e>a)throw new T(E.ErrInvalidArgument,"from should be less than or equal to to");const c=this.text.indexRangeToPosRange(e,a);_.isEnabled(xt.Debug)&&_.debug(`EDIT: f:${e}->${c[0].toTestString()}, t:${a}->${c[1].toTestString()} c:${s}`);const h=u?Er(u):void 0,d=this.context.issueTimeTicket(),[,y,m,v]=this.text.edit(c,s,d,h);this.context.acc(m);for(const N of y)this.context.registerGCPair(N);return this.context.push(new Fs(this.text.getCreatedAt(),c[0],c[1],s,h?new Map(Object.entries(h)):new Map,d)),this.text.findIndexesFromRange(v)}delete(e,a){return this.edit(e,a,"")}empty(){return this.edit(0,this.length,"")}setStyle(e,a,s){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");if(e>a)throw new T(E.ErrInvalidArgument,"from should be less than or equal to to");const u=this.text.indexRangeToPosRange(e,a);_.isEnabled(xt.Debug)&&_.debug(`STYL: f:${e}->${u[0].toTestString()}, t:${a}->${u[1].toTestString()} a:${JSON.stringify(s)}`);const c=Er(s),h=this.context.issueTimeTicket(),[d,y]=this.text.setStyle(u,c,h);this.context.acc(y);for(const m of d)this.context.registerGCPair(m);return this.context.push(new js(this.text.getCreatedAt(),u[0],u[1],new Map(Object.entries(c)),h)),!0}indexRangeToPosRange(e){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");const a=this.text.indexRangeToPosRange(e[0],e[1]);return[a[0].toStruct(),a[1].toStruct()]}posRangeToIndexRange(e){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");const a=this.text.findIndexesFromRange([In.fromStruct(e[0]),In.fromStruct(e[1])]);return[a[0],a[1]]}toTestString(){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(e,a){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(e,a)}}class Ch{valueType;value;context;counter;constructor(e,a){this.valueType=e,this.value=a}initialize(e,a){this.valueType=a.getValueType(),this.context=e,this.counter=a,this.value=a.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(e){if(!this.context||!this.counter)throw new T(E.ErrNotInitialized,"Counter is not initialized yet");const a=this.context.issueTimeTicket(),s=Fe.of(e,a);if(!s.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof s.getValue()}`);return this.counter.increase(s),this.context.push(Rr.create(this.counter.getCreatedAt(),s,a)),this}toJSForTest(){if(!this.context||!this.counter)throw new T(E.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function wh(i){if(i.isText)return{type:i.type,value:i.value};const e={type:i.type,children:i.children.map(a=>wh(a))};return i.attrs&&(e.attributes=li(i.attrs.toObject())),e}function c2(i,e){const a={type:i.isText?i.parent.type:i.type,children:i.isText?i.parent.getChildrenText().length===e?[]:[{type:Bn,value:i.parent.getChildrenText().slice(e)}]:i.children.slice(e).map(s=>wh(s))};return i.attrs?a.attributes=li(i.attrs.toObject()):i.isText&&i.parent.attrs&&(a.attributes=li(i.parent.attrs.toObject())),a}function f2(i,e){const{node:a}=i,s=[...e].slice(0,-1),u=a.isText?a.parent.getChildrenText().length:a.children.length,c=[...s,u],h=[...s],d=[];h[h.length-1]+=1,e.every((m,v)=>m===c[v])||d.push({fromPath:[...e],toPath:c});const y=c2(a,e[e.length-1]);return y&&d.push({fromPath:h,toPath:h,content:y}),d}function h2(i,e){const{node:a,offset:s}=i,u=a.children[s],c=a.children[s-1],{children:h}=u,d=[...e].slice(0,-1),y=[{fromPath:[...e],toPath:[...d,s+1]}];if(!u.children.length)return y;const m=[...d,s-1,c.hasTextChild()?c.getChildrenText().length:c.children.length],v=h.map(N=>wh(N));return y.push({fromPath:m,toPath:m,content:v}),y}function Dh(i,e,a){const{type:s}=i,u=a.issueTimeTicket();if(s===Bn){kv(i);const{value:c}=i,h=Ft.create(pt.of(u,0),s,c);e.append(h)}else{const{children:c=[]}=i,{attributes:h}=i;let d;if(typeof h=="object"&&!Ev(h)){const m=Er(h);d=new oi;for(const[v,N]of Object.entries(m))d.set(v,N,u)}const y=Ft.create(pt.of(u,0),s,void 0,d);e.append(y);for(const m of c)Dh(m,y,a)}}function d2(i,e){const{type:a}=e,s=i.issueTimeTicket();let u;if(e.type===Bn){const{value:c}=e;u=Ft.create(pt.of(s,0),a,c)}else if(e){const{children:c=[]}=e,{attributes:h}=e;let d;if(typeof h=="object"&&!Ev(h)){const y=Er(h);d=new oi;for(const[m,v]of Object.entries(y))d.set(m,v,s)}u=Ft.create(pt.of(i.issueTimeTicket(),0),a,void 0,d);for(const y of c)Dh(y,u,i)}return u}function kv(i){if(!i.value.length)throw new T(E.ErrInvalidArgument,"text node cannot have empty value");return!0}function rb(i){if(!i.length)return!0;if(i[0].type===Bn)for(const a of i){const{type:s}=a;if(s!==Bn)throw new T(E.ErrInvalidArgument,"element node and text node cannot be passed together");kv(a)}else for(const a of i){const{type:s}=a;if(s===Bn)throw new T(E.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Oh{initialRoot;context;tree;constructor(e){this.initialRoot=e}initialize(e,a){this.context=e,this.tree=a}getID(){return this.tree.getID()}buildRoot(e){if(!this.initialRoot)return Ft.create(pt.of(e.issueTimeTicket(),0),lT);const a=Ft.create(pt.of(e.issueTimeTicket(),0),this.initialRoot.type);for(const s of this.initialRoot.children)Dh(s,a,e);return a}getSize(){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(e){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new T(E.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToTreePos(e),s=f2(a,e);for(const u of s){const{fromPath:c,toPath:h,content:d}=u,y=this.tree.pathToPos(c),m=this.tree.pathToPos(h);this.editInternal(y,m,d?[d]:[],0)}}mergeByPath(e){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new T(E.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToTreePos(e);if(a.node.isText)throw new T(E.ErrInvalidArgument,"text node cannot be merged");const s=h2(a,e);for(const u of s){const{fromPath:c,toPath:h,content:d}=u,y=this.tree.pathToPos(c),m=this.tree.pathToPos(h);this.editInternal(y,m,d??[],0)}}styleByPath(e,a){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new T(E.ErrInvalidArgument,"path should not be empty");const[s,u]=this.tree.pathToPosRange(e),c=this.context.issueTimeTicket(),h=a?Er(a):void 0,[d,,y]=this.tree.style([s,u],h,c);this.context.acc(y);for(const m of d)this.context.registerGCPair(m);this.context.push(ui.create(this.tree.getCreatedAt(),s,u,h?new Map(Object.entries(h)):new Map,c))}style(e,a,s){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");if(e>a)throw new T(E.ErrInvalidArgument,"from should be less than or equal to to");const u=this.tree.findPos(e),c=this.tree.findPos(a),h=this.context.issueTimeTicket(),d=s?Er(s):void 0,[y,,m]=this.tree.style([u,c],d,h);this.context.acc(m);for(const v of y)this.context.registerGCPair(v);this.context.push(ui.create(this.tree.getCreatedAt(),u,c,d?new Map(Object.entries(d)):new Map,h))}removeStyle(e,a,s){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");if(e>a)throw new T(E.ErrInvalidArgument,"from should be less than or equal to to");const u=this.tree.findPos(e),c=this.tree.findPos(a),h=this.context.issueTimeTicket(),[d,,y]=this.tree.removeStyle([u,c],s,h);this.context.acc(y);for(const m of d)this.context.registerGCPair(m);this.context.push(ui.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),u,c,s,h))}editInternal(e,a,s,u=0){if(s.length!==0&&s[0]&&(rb(s),s[0].type!==Bn))for(const m of s){const{children:v=[]}=m;rb(v)}const c=this.context.getLastTimeTicket();let h=new Array;if(s[0]?.type===Bn){let m="";for(const v of s){const{value:N}=v;m+=N}h.push(Ft.create(pt.of(this.context.issueTimeTicket(),0),Bn,m))}else h=s.map(m=>m&&d2(this.context,m)).filter(m=>m);const[,d,y]=this.tree.edit([e,a],h.length?h.map(m=>m?.deepcopy()):void 0,u,c,()=>this.context.issueTimeTicket());this.context.acc(y);for(const m of d)this.context.registerGCPair(m);return this.context.push(Hs.create(this.tree.getCreatedAt(),e,a,h.length?h:void 0,u,c)),!0}editByPath(e,a,s,u=0){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==a.length)throw new T(E.ErrInvalidArgument,"path length should be equal");if(!e.length||!a.length)throw new T(E.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(e),h=this.tree.pathToPos(a);return this.editInternal(c,h,s?[s]:[],u)}editBulkByPath(e,a,s,u=0){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==a.length)throw new T(E.ErrInvalidArgument,"path length should be equal");if(!e.length||!a.length)throw new T(E.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(e),h=this.tree.pathToPos(a);return this.editInternal(c,h,s,u)}edit(e,a,s,u=0){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");if(e>a)throw new T(E.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(e),h=this.tree.findPos(a);return this.editInternal(c,h,s?[s]:[],u)}editBulk(e,a,s,u=0){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");if(e>a)throw new T(E.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(e),h=this.tree.findPos(a);return this.editInternal(c,h,s,u)}toXML(){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(e){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(e)}pathToIndex(e){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(e)}pathRangeToPosRange(e){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");const a=[this.tree.pathToIndex(e[0]),this.tree.pathToIndex(e[1])],s=this.tree.indexRangeToPosRange(a);return[s[0].toStruct(),s[1].toStruct()]}indexRangeToPosRange(e){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(e)}posRangeToIndexRange(e){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");const a=[Rn.fromStruct(e[0]),Rn.fromStruct(e[1])];return this.tree.posRangeToIndexRange(a)}posRangeToPathRange(e){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");const a=[Rn.fromStruct(e[0]),Rn.fromStruct(e[1])];return this.tree.posRangeToPathRange(a)}}function sb(i,e){return Jv(i,e)}function vn(i,e){if(e){if(e instanceof Fe)return e;if(e instanceof vt)return Jv(i,e);if(e instanceof St)return u2(i,e);if(e instanceof jt)return new Ih(i,e);if(e instanceof Lt){const a=new Ch(zn.Int,0);return a.initialize(i,e),a}else if(e instanceof Ht){const a=new Oh;return a.initialize(i,e),a}}else return;throw new TypeError(`Unsupported type of element: ${typeof e}`)}function ga(i,e){const a=vn(i,e);return a instanceof Fe?a.getValue():a}function Vs(i,e,a){let s;if(Fe.isSupport(e))s=Fe.of(e,a);else if(Array.isArray(e))s=St.create(a,De.buildArrayElements(i,e));else if(typeof e=="object")e instanceof Ih?(s=jt.create(Tr.create(),a),e.initialize(i,s)):e instanceof Ch?(s=Lt.create(e.getValueType(),e.getValue(),a),e.initialize(i,s)):e instanceof Oh?(s=Ht.create(e.buildRoot(i),a),e.initialize(i,s)):s=vt.create(a,Ws.buildObjectMembers(i,e));else throw new TypeError(`Unsupported type of value: ${typeof e}`);return s}class Ks{rootObject;elementPairMapByCreatedAt;gcElementSetByCreatedAt;gcPairMap;docSize;constructor(e){this.rootObject=e,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(e,void 0),e.getDescendants(a=>{if(a.getRemovedAt()&&this.registerRemovedElement(a),a instanceof jt||a instanceof Ht)for(const s of a.getGCPairs())this.registerGCPair(s);return!1})}static create(){return new Ks(vt.create(vr))}findByCreatedAt(e){const a=this.elementPairMapByCreatedAt.get(e.toIDString());if(a)return a.element}findElementPairByCreatedAt(e){return this.elementPairMapByCreatedAt.get(e.toIDString())}createSubPaths(e){let a=this.elementPairMapByCreatedAt.get(e.toIDString());if(!a)return[];const s=[];for(;a.parent;){const u=a.element.getCreatedAt(),c=a.parent.subPathOf(u);if(c===void 0)throw new T(E.ErrInvalidArgument,`cant find the given element: ${u.toIDString()}`);s.unshift(c),a=this.elementPairMapByCreatedAt.get(a.parent.getCreatedAt().toIDString())}return s.unshift("$"),s}createPath(e){return this.createSubPaths(e).join(".")}registerElement(e,a){this.elementPairMapByCreatedAt.set(e.getCreatedAt().toIDString(),{parent:a,element:e}),yt(this.docSize.live,e.getDataSize()),e instanceof _i&&e.getDescendants((s,u)=>(this.elementPairMapByCreatedAt.set(s.getCreatedAt().toIDString(),{parent:u,element:s}),yt(this.docSize.live,s.getDataSize()),!1))}deregisterElement(e){let a=0;const s=u=>{const c=u.getCreatedAt().toIDString();ya(this.docSize.gc,u.getDataSize()),this.elementPairMapByCreatedAt.delete(c),this.gcElementSetByCreatedAt.delete(c),a++};return s(e),e instanceof _i&&e.getDescendants(u=>(s(u),!1)),a}registerRemovedElement(e){yt(this.docSize.gc,e.getDataSize()),ya(this.docSize.live,e.getDataSize()),this.docSize.live.meta+=Un,this.gcElementSetByCreatedAt.add(e.getCreatedAt().toIDString())}registerGCPair(e){if(this.gcPairMap.get(e.child.toIDString())){this.gcPairMap.delete(e.child.toIDString());return}this.gcPairMap.set(e.child.toIDString(),e);const s=this.gcPairMap.get(e.child.toIDString()).child.getDataSize();yt(this.docSize.gc,s),ya(this.docSize.live,s),e.child instanceof Gi||(this.docSize.live.meta+=Un)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const e=new Set;for(const a of this.gcElementSetByCreatedAt){e.add(a);const s=this.elementPairMapByCreatedAt.get(a);s.element instanceof _i&&s.element.getDescendants(u=>(e.add(u.getCreatedAt().toIDString()),!1))}return e.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new Ks(this.rootObject.deepcopy())}garbageCollect(e){let a=0;for(const s of this.gcElementSetByCreatedAt){const u=this.elementPairMapByCreatedAt.get(s),c=u.element.getRemovedAt();c&&e?.afterOrEqual(c)&&(u.parent.purge(u.element),a+=this.deregisterElement(u.element))}for(const[,s]of this.gcPairMap){const u=s.child.getRemovedAt();u&&e?.afterOrEqual(u)&&(s.parent.purge(s.child),ya(this.docSize.gc,s.child.getDataSize()),this.gcPairMap.delete(s.child.toIDString()),a+=1)}return a}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(e){yt(this.docSize.live,e)}*getGCElementPairs(){for(const e of this.gcElementSetByCreatedAt){const a=this.elementPairMapByCreatedAt.get(e);a&&(yield a)}}}let lb=class{context;presence;constructor(e,a){this.context=e,this.presence=a}set(e,a){for(const s of Object.keys(e))this.presence[s]=e[s];this.context.setPresenceChange({type:Mn.Put,presence:Sn(this.presence)}),this.context.setReversePresence(e,a)}get(e){return this.presence[e]}clear(){this.presence={},this.context.setPresenceChange({type:Mn.Clear})}};const ub=50;class g2{undoStack=[];redoStack=[];hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(e){this.undoStack.length>=ub&&this.undoStack.shift(),this.undoStack.push(e)}popUndo(){return this.undoStack.pop()}pushRedo(e){this.redoStack.length>=ub&&this.redoStack.shift(),this.redoStack.push(e)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(e,a){const s=u=>{for(const c of u)for(const h of c)(h instanceof ci||h instanceof Zn||h instanceof Tn)&&h.getCreatedAt()===e&&h.setCreatedAt(a),(h instanceof Ji||h instanceof Tn)&&h.getPrevCreatedAt()===e&&h.setPrevCreatedAt(a)};s(this.undoStack),s(this.redoStack)}}function m2(i,e){const a=[];for(const s of e){const u=y2(i,s.path),c=p2(u,s);if(!c.valid)for(const h of c.errors||[])a.push(h)}return{valid:a.length===0,errors:a}}function y2(i,e){if(!e.startsWith("$"))throw new Error(`Path must start with $, got ${e}`);const a=e.split(".");let s=i;for(let u=1;u<a.length;u++){const c=a[u];if(!(s instanceof vt))return;s=s.get(c)}return s}function p2(i,e){switch(e.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return v2(i,e);case"object":if(!(i instanceof vt))return{valid:!1,errors:[{path:e.path,message:`expected object at path ${e.path}`}]};break;case"array":if(!(i instanceof St))return{valid:!1,errors:[{path:e.path,message:`expected array at path ${e.path}`}]};break;case"yorkie.Text":if(!(i instanceof jt))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Text at path ${e.path}`}]};break;case"yorkie.Tree":if(!(i instanceof Ht))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Tree at path ${e.path}`}]};break;case"yorkie.Counter":if(!(i instanceof Lt))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Counter at path ${e.path}`}]};break;default:throw new Error(`Unknown rule type: ${e.type}`)}return{valid:!0}}function b2(i){switch(i){case"null":return Ye.Null;case"boolean":return Ye.Boolean;case"integer":return Ye.Integer;case"long":return Ye.Long;case"double":return Ye.Double;case"string":return Ye.String;case"bytes":return Ye.Bytes;case"date":return Ye.Date;default:throw new Error(`Unknown primitive type: ${i}`)}}function v2(i,e){return i instanceof Fe&&i.getType()===b2(e.type)?{valid:!0}:{valid:!1,errors:[{path:e.path,message:`expected ${e.type} at path ${e.path}`}]}}const S2="yorkie-devtools-panel",A2="yorkie-devtools-sdk";function E2(i){return[ot.StatusChanged,ot.Snapshot,ot.LocalChange,ot.RemoteChange,ot.Initialized,ot.Watched,ot.Unwatched,ot.PresenceChanged].includes(i.type)}function N2(i){return i.every(E2)}let or="disconnected";const ob=new Map,Tu=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=Tu);function Au(i,e){(e?.force||or!=="disconnected")&&window.postMessage({source:A2,...i},"*")}function T2(i){if(!i.isEnableDevtools()||typeof window>"u"||ob.has(i.getKey()))return;Tu.set(i.getKey(),[]);const e=i.subscribe("all",a=>{N2(a)&&(Tu.get(i.getKey()).push(a),or==="synced"&&Au({msg:"doc::sync::partial",docKey:i.getKey(),event:a}))});ob.set(i.getKey(),[e]),Au({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",a=>{if(a.data?.source!==S2)return;switch(a.data.msg){case"devtools::connect":if(or!=="disconnected")break;or="connected",Au({msg:"doc::available",docKey:i.getKey()}),_.info(`[YD] Devtools connected. Doc: ${i.getKey()}`);break;case"devtools::disconnect":or="disconnected",_.info(`[YD] Devtools disconnected. Doc: ${i.getKey()}`);break;case"devtools::subscribe":or="synced",Au({msg:"doc::sync::full",docKey:i.getKey(),events:Tu.get(i.getKey())}),_.info(`[YD] Devtools subscribed. Doc: ${i.getKey()}`);break}})}var Zi=(i=>(i.Detached="detached",i.Attached="attached",i.Removed="removed",i))(Zi||{}),ot=(i=>(i.StatusChanged="status-changed",i.ConnectionChanged="connection-changed",i.SyncStatusChanged="sync-status-changed",i.Snapshot="snapshot",i.LocalChange="local-change",i.RemoteChange="remote-change",i.Initialized="initialized",i.Watched="watched",i.Unwatched="unwatched",i.PresenceChanged="presence-changed",i.AuthError="auth-error",i))(ot||{}),xs=(i=>(i.Connected="connected",i.Disconnected="disconnected",i))(xs||{}),Gf=(i=>(i.Synced="synced",i.SyncFailed="sync-failed",i))(Gf||{});class Yi{key;status;opts;maxSizeLimit;schemaRules;changeID;checkpoint;localChanges;root;presences;clone;internalHistory;isUpdating;onlineClients;eventStream;eventStreamObserver;history;constructor(e,a){this.key=e,this.status="detached",this.opts=a||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=mT,this.checkpoint=yT,this.localChanges=[],this.root=Ks.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new g2,this.isUpdating=!1,this.eventStream=Xv(s=>this.eventStreamObserver=s),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},T2(this)}update(e,a){if(this.getStatus()==="removed")throw new T(E.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const s=this.changeID.getActorID(),u=Os.create(this.changeID,this.clone.root,this.clone.presences.get(s)||{},a);try{const d=sb(u,this.clone.root.getObject());this.presences.has(s)||this.clone.presences.set(s,{}),this.isUpdating=!0,e(d,new lb(u,this.clone.presences.get(s)))}catch(d){throw this.clone=void 0,d}finally{this.isUpdating=!1}const c=this.getSchemaRules();if(!u.isPresenceOnlyChange()&&c.length){const d=m2(this.clone?.root.getObject(),c);if(!d.valid)throw this.clone=void 0,new T(E.ErrDocumentSchemaValidationFailed,`schema validation failed: ${d.errors?.map(y=>y.message).join(", ")}`)}const h=rT(this.clone?.root.getDocSize());if(!u.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<h)throw this.clone=void 0,new T(E.ErrDocumentSizeExceedsLimit,`document size exceeded: ${h} > ${this.maxSizeLimit}`);if(u.hasChange()){_.isEnabled(xt.Trivial)&&_.trivial(`trying to update a local change: ${this.toJSON()}`);const d=u.toChange(),{opInfos:y,reverseOps:m}=d.execute(this.root,this.presences,Je.Local);for(const V of d.getOperations())V instanceof ci&&this.internalHistory.reconcileCreatedAt(V.getCreatedAt(),V.getValue().getCreatedAt());const v=u.getReversePresence();v&&m.push({type:"presence",value:v}),this.localChanges.push(d),m.length&&this.internalHistory.pushUndo(m),y.length&&this.internalHistory.clearRedo(),this.changeID=u.getNextID();const N=[];y.length&&N.push({type:"local-change",source:Je.Local,value:{message:d.getMessage()||"",operations:y,actor:s,clientSeq:d.getID().getClientSeq(),serverSeq:d.getID().getServerSeq()},rawChange:this.isEnableDevtools()?d.toStruct():void 0}),d.hasPresenceChange()&&N.push({type:"presence-changed",source:Je.Local,value:{clientID:s,presence:this.getPresence(s)}}),this.publish(N),_.isEnabled(xt.Trivial)&&_.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(e,a,s,u){if(typeof e=="string"){if(typeof a!="function")throw new T(E.ErrInvalidArgument,"Second argument must be a callback function");if(e==="presence"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="initialized"&&m.type!=="watched"&&m.type!=="unwatched"&&m.type!=="presence-changed"||d(m)},s,u)}if(e==="my-presence"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="initialized"&&m.type!=="presence-changed"||m.type==="presence-changed"&&m.value.clientID!==this.changeID.getActorID()||d(m)},s,u)}if(e==="others"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="watched"&&m.type!=="unwatched"&&m.type!=="presence-changed"||m.value.clientID!==this.changeID.getActorID()&&d(m)},s,u)}if(e==="connection"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="connection-changed"&&d(m)},s,u)}if(e==="status"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="status-changed"&&d(m)},s,u)}if(e==="sync"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="sync-status-changed"&&d(m)},s,u)}if(e==="auth-error"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="auth-error"&&d(m)},s)}if(e==="all"){const d=a;return this.eventStream.subscribe(d,s,u)}const c=e,h=a;return this.eventStream.subscribe(d=>{for(const y of d){if(y.type!=="local-change"&&y.type!=="remote-change")continue;const m=[];for(const v of y.value.operations)this.isSameElementOrChildOf(v.path,c)&&m.push(v);m.length&&h({...y,value:{...y.value,operations:m}})}},s,u)}if(typeof e=="function"){const c=e,h=a,d=s;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="snapshot"&&m.type!=="local-change"&&m.type!=="remote-change"||c(m)},h,d)}throw new T(E.ErrInvalidArgument,`"${e}" is not a valid`)}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}applyChangePack(e){e.hasSnapshot()?this.applySnapshot(e.getCheckpoint().getServerSeq(),e.getVersionVector(),e.getSnapshot(),e.getCheckpoint().getClientSeq()):(this.applyChanges(e.getChanges(),Je.Remote),this.removePushedLocalChanges(e.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(e.getCheckpoint()),e.hasSnapshot()||this.garbageCollect(e.getVersionVector()),e.getIsRemoved()&&this.applyStatus("removed"),_.isEnabled(xt.Trivial)&&_.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Sn(this.presences)})}createChangePack(){const e=Array.from(this.localChanges),a=this.checkpoint.increaseClientSeq(e.length);return Gu.create(this.key,a,!1,e,this.getVersionVector())}setActor(e){for(const a of this.localChanges)a.setActor(e);this.changeID=this.changeID.setActor(e)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const e=Os.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return sb(e,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(e){this.maxSizeLimit=e}getSchemaRules(){return this.schemaRules}setSchemaRules(e){this.schemaRules=e}garbageCollect(e){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(e),this.root.garbageCollect(e))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(e,a,s,u=-1){const{root:c,presences:h}=We.bytesToSnapshot(s);this.root=new Ks(c),this.presences=h,this.changeID=this.changeID.setClocks(a.maxLamport(),a),this.clone=void 0,this.removePushedLocalChanges(u),this.applyChanges(this.localChanges,Je.Local),this.publish([{type:"snapshot",source:Je.Remote,value:{serverSeq:e.toString(),snapshot:this.isEnableDevtools()?We.bytesToHex(s):void 0,snapshotVector:We.versionVectorToHex(a)}}])}applyChanges(e,a){_.isEnabled(xt.Debug)&&_.debug(`trying to apply ${e.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),_.isEnabled(xt.Trivial)&&_.trivial(e.map(s=>`${s.getID().toTestString()}	${s.toTestString()}`).join(`
`));for(const s of e)this.applyChange(s,a);_.isEnabled(xt.Debug)&&_.debug(`after appling ${e.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(e,a){this.ensureClone(),e.execute(this.clone.root,this.clone.presences,a);const s=[],u=e.getID().getActorID();if(e.hasPresenceChange()&&this.onlineClients.has(u)){const h=e.getPresenceChange();switch(h.type){case Mn.Put:s.push(this.presences.has(u)?{type:"presence-changed",source:a,value:{clientID:u,presence:h.presence}}:{type:"watched",source:Je.Remote,value:{clientID:u,presence:h.presence}});break;case Mn.Clear:s.push({type:"unwatched",source:Je.Remote,value:{clientID:u,presence:this.getPresence(u)}}),this.removeOnlineClient(u);break}}const{opInfos:c}=e.execute(this.root,this.presences,a);if(this.changeID=this.changeID.syncClocks(e.getID()),c.length){const h=this.isEnableDevtools()?e.toStruct():void 0;s.push(a===Je.Remote?{type:"remote-change",source:a,value:{actor:u,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:c},rawChange:h}:{type:"local-change",source:a,value:{actor:u,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:c},rawChange:h})}s.length&&this.publish(s)}applyWatchStream(e){if(e.body.case==="initialization"){const a=e.body.value.clientIds,s=new Set;for(const u of a)u!==this.changeID.getActorID()&&s.add(u);this.setOnlineClients(s),this.publish([{type:"initialized",source:Je.Local,value:this.getPresences()}]);return}if(e.body.case==="event"){const{type:a,publisher:s}=e.body.value,u=[];if(a===wu.DOCUMENT_WATCHED){if(this.onlineClients.has(s)&&this.hasPresence(s))return;this.addOnlineClient(s),this.hasPresence(s)&&u.push({type:"watched",source:Je.Remote,value:{clientID:s,presence:this.getPresence(s)}})}else if(a===wu.DOCUMENT_UNWATCHED){const c=this.getPresence(s);this.removeOnlineClient(s),c&&u.push({type:"unwatched",source:Je.Remote,value:{clientID:s,presence:c}})}u.length&&this.publish(u)}}applyStatus(e){this.status=e,e==="detached"&&this.setActor(gh),this.publish([{source:e==="removed"?Je.Remote:Je.Local,type:"status-changed",value:e==="attached"?{status:e,actorID:this.changeID.getActorID()}:{status:e}}])}applyDocEventsForReplay(e){for(const a of e){if(a.type==="status-changed"){this.applyStatus(a.value.status),a.value.status==="attached"&&this.setActor(a.value.actorID);continue}if(a.type==="snapshot"){const{snapshot:s,serverSeq:u,snapshotVector:c}=a.value;if(!s)continue;this.applySnapshot(BigInt(u),We.hexToVersionVector(c),We.hexToBytes(s));continue}if(a.type==="local-change"||a.type==="remote-change"){if(!a.rawChange)continue;const s=Nr.fromStruct(a.rawChange);this.applyChange(s,a.source)}if(a.type==="initialized"){const s=new Set;for(const{clientID:u,presence:c}of a.value)s.add(u),this.presences.set(u,c);this.setOnlineClients(s)}else if(a.type==="watched"){const{clientID:s,presence:u}=a.value;this.addOnlineClient(s),this.presences.set(s,u)}else if(a.type==="unwatched"){const{clientID:s}=a.value;this.removeOnlineClient(s),this.presences.delete(s)}else if(a.type==="presence-changed"){const{clientID:s,presence:u}=a.value;this.presences.set(s,u)}}}getValueByPath(e){if(!e.startsWith("$"))throw new T(E.ErrInvalidArgument,'path must start with "$"');const a=e.split(".");a.shift();let s=this.getRoot();for(const u of a)if(s=s[u],!s)return;return s}setOnlineClients(e){this.onlineClients=e}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(e){this.onlineClients.add(e)}removeOnlineClient(e){this.onlineClients.delete(e)}hasPresence(e){return this.presences.has(e)}getMyPresence(){if(this.status!=="attached")return{};const e=this.presences.get(this.changeID.getActorID());return e?Sn(e):{}}getOthersPresences(){const e=[],a=this.changeID.getActorID();for(const s of this.onlineClients)s!==a&&this.presences.has(s)&&e.push({clientID:s,presence:Sn(this.presences.get(s))});return e}getPresence(e){if(e===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(e))return;const a=this.presences.get(e);return a?Sn(a):void 0}getPresences(){const e=[];e.push({clientID:this.changeID.getActorID(),presence:Sn(this.getMyPresence())});for(const a of this.onlineClients)this.presences.has(a)&&e.push({clientID:a,presence:Sn(this.presences.get(a))});return e}getPresenceForTest(e){const a=this.presences.get(e);return a?Sn(a):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const e=this.getChangeID().getActorID();return this.getPresences().filter(a=>a.clientID!==e).sort((a,s)=>a.clientID>s.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(e,a){if(a===e)return!0;const s=e.split(".");return a.split(".").every((u,c)=>u===s[c])}removePushedLocalChanges(e){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>e);)this.localChanges.shift()}executeUndoRedo(e){if(this.isUpdating)throw new T(E.ErrRefused,`${e?"Undo":"Redo"} is not allowed during an update`);const a=e?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!a)throw new T(E.ErrRefused,`There is no operation to be ${e?"undone":"redone"}`);this.ensureClone();const s=Os.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const v of a){if(!(v instanceof Cn)){new lb(s,Sn(this.clone.presences.get(this.changeID.getActorID()))).set(v.value,{addToHistory:!0});continue}const N=s.issueTimeTicket();if(v.setExecutedAt(N),v instanceof ci){const V=v.getCreatedAt();v.getValue().setCreatedAt(N),this.internalHistory.reconcileCreatedAt(V,N)}else if(v instanceof Ji){const V=v.getValue().getCreatedAt();v.getValue().setCreatedAt(N),this.internalHistory.reconcileCreatedAt(V,N)}s.push(v)}const u=s.toChange();u.execute(this.clone.root,this.clone.presences,Je.UndoRedo);const{opInfos:c,reverseOps:h}=u.execute(this.root,this.presences,Je.UndoRedo),d=s.getReversePresence();if(d&&h.push({type:"presence",value:d}),h.length&&(e?this.internalHistory.pushRedo(h):this.internalHistory.pushUndo(h)),!u.hasPresenceChange()&&!c.length)return;this.localChanges.push(u),this.changeID=s.getNextID();const y=this.changeID.getActorID(),m=[];c.length&&m.push({type:"local-change",source:Je.UndoRedo,value:{message:u.getMessage()||"",operations:c,actor:y,clientSeq:u.getID().getClientSeq(),serverSeq:u.getID().getServerSeq()},rawChange:this.isEnableDevtools()?u.toStruct():void 0}),u.hasPresenceChange()&&m.push({type:"presence-changed",source:Je.UndoRedo,value:{clientID:y,presence:this.getPresence(y)}}),this.publish(m)}}class cb{resource;resourceID;syncMode;changeEventReceived;lastHeartbeatTime;reconnectStreamDelay;cancelled;watchStream;watchLoopTimerID;watchAbortController;constructor(e,a,s,u){this.reconnectStreamDelay=e,this.resource=a,this.resourceID=s,this.syncMode=u,this.changeEventReceived=u!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(e){this.syncMode=e}needRealtimeSync(){return this.syncMode===Is.RealtimeSyncOff?!1:this.syncMode===Is.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==Is.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(e){return this.resource instanceof Yi?this.needRealtimeSync():this.syncMode===Is.Manual?!1:Date.now()-this.lastHeartbeatTime>=e}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(e){const a=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await e(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(a,this.reconnectStreamDelay))})}catch{}};await a()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function R2(i,e){let a=e;return{authInterceptor:c=>async h=>(i&&h.header.set("x-api-key",i),a&&h.header.set("authorization",a),await c(h)),setToken:c=>{a=c}}}const I2="@yorkie-js/sdk",C2="0.6.40",fb={name:I2,version:C2};function w2(i){return e=>async a=>(i?a.header.set("x-yorkie-user-agent",i):a.header.set("x-yorkie-user-agent",fb.name+"/"+fb.version),await e(a))}const D2=i=>{try{if(JSON.stringify(i)===void 0)return!1}catch{return!1}return!0};var Rs=(i=>(i.Detached="detached",i.Attached="attached",i.Removed="removed",i))(Rs||{}),fr=(i=>(i.PresenceChanged="presence-changed",i.Initialized="initialized",i.Broadcast="broadcast",i.LocalBroadcast="local-broadcast",i.AuthError="auth-error",i))(fr||{});const Ns=".";class zi{key;status;actorID;sessionID;count;seq;eventStream;eventStreamObserver;constructor(e){this.validateChannelKey(e),this.key=e,this.status="detached",this.count=0,this.seq=0,this.eventStream=Xv(a=>this.eventStreamObserver=a)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(Ns)[0]}getStatus(){return this.status}applyStatus(e){this.status=e}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(e){this.actorID=e}getSessionID(){return this.sessionID}setSessionID(e){this.sessionID=e}getPresenceCount(){return this.count}updateCount(e,a){return a===0||a>this.seq?(this.count=e,this.seq=a,!0):!1}hasLocalChanges(){return!1}subscribe(e,a){if(typeof e=="function")return this.eventStream.subscribe(e);const s=e,u=a;if(!u)throw new Error("callback is required when subscribing to specific event type or topic");if(s==="broadcast")return this.eventStream.subscribe(h=>{h.type==="broadcast"&&u(h)});if(s==="local-broadcast")return this.eventStream.subscribe(h=>{h.type==="local-broadcast"&&u(h)});if(s==="auth-error")return this.eventStream.subscribe(h=>{h.type==="auth-error"&&u(h)});if(s==="presence")return this.eventStream.subscribe(h=>{(h.type==="presence-changed"||h.type==="initialized")&&u(h)});if(s==="all")return this.eventStream.subscribe(u);const c=s;return this.eventStream.subscribe(h=>{h.type==="broadcast"&&h.topic===c&&u(h)})}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}broadcast(e,a,s){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:e,payload:a,options:s})}validateChannelKey(e){if(e==="")throw new Error("channel key must not be empty");if(e.includes(" "))throw new Error("channel key must not contain a whitespace");if(e.startsWith(Ns))throw new Error("channel key must not start with a period");if(e.endsWith(Ns))throw new Error("channel key must not end with a period");if(e.includes(`${Ns}${Ns}`))throw new Error("channel key path must not empty")}}var Is=(i=>(i.Manual="manual",i.Realtime="realtime",i.RealtimePushOnly="realtime-pushonly",i.RealtimeSyncOff="realtime-syncoff",i))(Is||{});const lr={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},If={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class Fv{id;key;metadata;status;attachmentMap;apiKey;authTokenInjector;conditions;syncLoopDuration;reconnectStreamDelay;retrySyncLoopDelay;channelHeartbeatInterval;rpcClient;setAuthToken;taskQueue;processing=!1;keepalive=!1;constructor(e){e=e||lr;const a=e.rpcAddr||lr.rpcAddr;this.key=e.key||Kv(),this.metadata=e.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=e.apiKey||"",this.authTokenInjector=e.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=e.syncLoopDuration??lr.syncLoopDuration,this.reconnectStreamDelay=e.reconnectStreamDelay??lr.reconnectStreamDelay,this.retrySyncLoopDelay=e.retrySyncLoopDelay??lr.retrySyncLoopDelay,this.channelHeartbeatInterval=e.channelHeartbeatInterval??lr.channelHeartbeatInterval;const{authInterceptor:s,setToken:u}=R2(this.apiKey);this.setAuthToken=u,this.rpcClient=$1(tT,EN({baseUrl:a,interceptors:[s,w2(e?.userAgent)],fetch:(c,h)=>fetch(c,{...h,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const e=await this.authTokenInjector();this.setAuthToken(e)}return this.enqueueTask(async()=>{try{const e=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=e.clientId,this.status="activated",this.runSyncLoop(),_.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(e){throw _.error(`[AC] c:"${this.getKey()}" err :`,e),await this.handleConnectError(e),e}})}deactivate(e={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const a=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:e.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),_.info(`[DC] c"${this.getKey()}" deactivated`)}catch(s){throw _.error(`[DC] c:"${this.getKey()}" err :`,s),await this.handleConnectError(s),s}};if(e.keepalive){this.keepalive=!0;const s=a();return this.keepalive=!1,s}return this.enqueueTask(a)}has(e){return this.attachmentMap.has(e)}attach(e,a){return e instanceof zi?this.attachChannel(e,a):this.attachDocument(e,a)}attachDocument(e,a={}){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==Zi.Detached)throw new T(E.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id),e.update((u,c)=>c.set(a.initialPresence||{}));const s=a.syncMode??"realtime";return this.enqueueTask(async()=>{try{const u=await this.rpcClient.attachDocument({clientId:this.id,changePack:We.toChangePack(e.createChangePack()),schemaKey:a.schema},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});(u.maxSizePerDocument??0)>0&&e.setMaxSizePerDocument(u.maxSizePerDocument),u.schemaRules.length>0&&e.setSchemaRules(We.fromSchemaRules(u.schemaRules));const h=We.fromChangePack(u.changePack);if(e.applyChangePack(h),e.getStatus()===Zi.Removed)return e;e.applyStatus(Zi.Attached),this.attachmentMap.set(e.getKey(),new cb(this.reconnectStreamDelay,e,u.documentId,s)),s!=="manual"&&await this.runWatchLoop(e.getKey()),_.info(`[AD] c:"${this.getKey()}" attaches d:"${e.getKey()}"`);const d=e.getRootObject();if(a.initialRoot){const y=a.initialRoot;e.update(m=>{for(const[v,N]of Object.entries(y))if(!d.has(v)){const V=v;m[V]=N}})}return e}catch(u){throw _.error(`[AD] c:"${this.getKey()}" err :`,u),await this.handleConnectError(u),u}})}detach(e,a){return e instanceof zi?this.detachChannel(e):this.detachDocument(e,a)}detachDocument(e,a={keepalive:!1}){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);const s=this.attachmentMap.get(e.getKey());if(!s)throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);e.update((c,h)=>h.clear());const u=async()=>{try{const c=await this.rpcClient.detachDocument({clientId:this.id,documentId:s.resourceID,changePack:We.toChangePack(e.createChangePack()),removeIfNotAttached:a.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),h=We.fromChangePack(c.changePack);return e.applyChangePack(h),e.getStatus()!==Zi.Removed&&e.applyStatus(Zi.Detached),this.detachInternal(e.getKey()),_.info(`[DD] c:"${this.getKey()}" detaches d:"${e.getKey()}"`),e}catch(c){throw _.error(`[DD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};if(a.keepalive){this.keepalive=!0;const c=u();return this.keepalive=!1,c}return this.enqueueTask(u)}async attachChannel(e,a={}){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==Rs.Detached)throw new T(E.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id);const s=async()=>{try{const u=await this.rpcClient.attachChannel({clientId:this.id,channelKey:e.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});e.setSessionID(u.sessionId),e.updateCount(Number(u.count),0),e.applyStatus(Rs.Attached);const c=a.isRealtime!==!1?"realtime":"manual",h=new cb(this.reconnectStreamDelay,e,u.sessionId,c);return e.subscribe("local-broadcast",d=>{const{topic:y,payload:m,options:v}=d;this.broadcast(e.getKey(),y,m,v).catch(N=>{v?.error&&v.error(N),_.error(`[BC] c:"${this.getKey()}" failed: ${N}`)})}),this.attachmentMap.set(e.getKey(),h),c==="realtime"&&await this.runWatchLoop(e.getKey()),_.info(`[AP] c:"${this.getKey()}" attaches p:"${e.getKey()}" mode:${c} count:${e.getPresenceCount()}`),e}catch(u){throw _.error(`[AP] c:"${this.getKey()}" err :`,u),await this.handleConnectError(u),u}};return this.enqueueTask(s)}async detachChannel(e){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(e.getKey()))throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);const a=async()=>{try{const s=await this.rpcClient.detachChannel({clientId:this.id,channelKey:e.getKey(),sessionId:e.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});return e.updateCount(Number(s.count),0),e.applyStatus(Rs.Detached),this.detachInternal(e.getKey()),_.info(`[DP] c:"${this.getKey()}" detaches p:"${e.getKey()}" count:${e.getPresenceCount()}`),e}catch(s){throw _.error(`[DP] c:"${this.getKey()}" err :`,s),await this.handleConnectError(s),s}};return this.enqueueTask(a)}async changeSyncMode(e,a){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);const s=this.attachmentMap.get(e.getKey());if(!s)throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);const u=s.syncMode;return u===a?e:(s.changeSyncMode(a),a==="manual"?(s.cancelWatchStream(),e):(a==="realtime"&&(s.changeEventReceived=!0),u==="manual"&&await this.runWatchLoop(e.getKey()),e))}sync(e){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);if(e instanceof zi){const a=this.attachmentMap.get(e.getKey());if(!a)throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(a).catch(async s=>{throw _.error(`[SY] c:"${this.getKey()}" err :`,s),await this.handleConnectError(s),s}))}if(e instanceof Yi){const a=this.attachmentMap.get(e.getKey());if(!a)throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(a,"realtime").catch(async s=>{throw _.error(`[SY] c:"${this.getKey()}" err :`,s),await this.handleConnectError(s),s}))}return this.enqueueTask(async()=>{const a=[];for(const[,s]of this.attachmentMap)s.syncMode!==void 0&&s.resource instanceof Yi&&a.push(this.syncInternal(s,s.syncMode));return Promise.all(a).catch(async s=>{throw _.error(`[SY] c:"${this.getKey()}" err :`,s),await this.handleConnectError(s),s})})}remove(e){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);e.setActor(this.id);const s=We.toChangePack(e.createChangePack());return s.isRemoved=!0,this.enqueueTask(async()=>{try{const u=await this.rpcClient.removeDocument({clientId:this.id,documentId:a.resourceID,changePack:s},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),c=We.fromChangePack(u.changePack);e.applyChangePack(c),this.detachInternal(e.getKey()),_.info(`[RD] c:"${this.getKey()}" removes d:"${e.getKey()}"`)}catch(u){throw _.error(`[RD] c:"${this.getKey()}" err :`,u),await this.handleConnectError(u),u}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(e){return this.conditions[e]}async createRevision(e,a,s){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);const u=this.attachmentMap.get(e.getKey());if(!u)throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);const c=async()=>{try{const h=await this.rpcClient.createRevision({clientId:this.id,documentId:u.resourceID,label:a,description:s||""},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!h.revision)throw new T(E.ErrInvalidArgument,"revision is not returned");return _.info(`[CR] c:"${this.getKey()}" creates revision d:"${e.getKey()}" l:"${a}"`),We.toRevisionSummary(h.revision)}catch(h){throw _.error(`[CR] c:"${this.getKey()}" err :`,h),await this.handleConnectError(h),h}};return this.enqueueTask(c)}async listRevisions(e,a){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);const s=this.attachmentMap.get(e.getKey());if(!s)throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);const u=async()=>{try{const c=await this.rpcClient.listRevisions({clientId:this.id,documentId:s.resourceID,pageSize:a?.pageSize||10,offset:a?.offset||0,isForward:a?.isForward??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});return _.info(`[LR] c:"${this.getKey()}" lists revisions d:"${e.getKey()}" count:${c.revisions.length}`),c.revisions.map(We.toRevisionSummary)}catch(c){throw _.error(`[LR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(u)}async getRevision(e,a){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);const s=this.attachmentMap.get(e.getKey());if(!s)throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);const u=async()=>{try{const c=await this.rpcClient.getRevision({clientId:this.id,documentId:s.resourceID,revisionId:a},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!c.revision)throw new T(E.ErrInvalidArgument,"revision is not returned");return _.info(`[GR] c:"${this.getKey()}" gets revision d:"${e.getKey()}" r:"${a}"`),We.toRevisionSummary(c.revision)}catch(c){throw _.error(`[GR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(u)}async restoreRevision(e,a){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);const s=this.attachmentMap.get(e.getKey());if(!s)throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);const u=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,documentId:s.resourceID,revisionId:a},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),_.info(`[RR] c:"${this.getKey()}" restores revision d:"${e.getKey()}" r:"${a}"`)}catch(c){throw _.error(`[RR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(u)}async broadcast(e,a,s,u){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(e);if(!c)throw new T(E.ErrNotAttached,`${e} is not attached`);if(!D2(s))throw new T(E.ErrInvalidArgument,"payload is not serializable");const h=c.resource,d=u?.maxRetries??If.maxRetries,y=If.maxBackoff;let m=0;const v=V=>Math.min(If.initialRetryInterval*2**V,y),N=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:e,topic:a,payload:new TextEncoder().encode(JSON.stringify(s))},{headers:{"x-shard-key":`${this.apiKey}/${h.getFirstKeyPath()}`}}),_.info(`[BC] c:"${this.getKey()}" broadcasts p:"${e}" t:"${a}"`)}catch(V){if(_.error(`[BC] c:"${this.getKey()}" err:`,V),await this.handleConnectError(V))if(Tf(V,E.ErrUnauthenticated)&&c.resource instanceof zi&&c.resource.publish({type:fr.AuthError,reason:Ts(V).reason||"unauthenticated",method:"Broadcast"}),m<d)m++,setTimeout(()=>N(),v(m-1)),_.info(`[BC] c:"${this.getKey()}" retry attempt ${m}/${d}`);else throw _.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),V}});return N()}runSyncLoop(){const e=async()=>{if(!this.isActive()){_.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const a=[];for(const[,s]of this.attachmentMap)s.needSync(this.channelHeartbeatInterval)&&(s.changeEventReceived!==void 0&&(s.changeEventReceived=!1),a.push(this.syncInternal(s,s.syncMode).catch(u=>{throw Tf(u,E.ErrUnauthenticated)&&s.resource.publish([{type:ot.AuthError,value:{reason:Ts(u).reason,method:"PushPull"}}]),u})));await Promise.all(a),setTimeout(e,this.syncLoopDuration)})}catch(a){_.error(`[SL] c:"${this.getKey()}" sync failed:`,a),await this.handleConnectError(a)?setTimeout(e,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};_.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,e()}async runWatchLoop(e){const a=this.attachmentMap.get(e);if(!a)throw new T(E.ErrNotAttached,`${e} is not attached`);return this.conditions.WatchLoop=!0,a.runWatchLoop(s=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new T(E.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(e))return this.conditions.WatchLoop=!1,Promise.reject(new T(E.ErrNotAttached,`${e} is not attached`));const u=new AbortController;return a.resource instanceof Yi?this.createDocumentWatchStream(a,e,u,s):a.resource instanceof zi?this.createChannelWatchStream(a,e,u,s):Promise.reject(new T(E.ErrClientNotActivated,`Unknown resource type for ${e}`))})}createDocumentWatchStream(e,a,s,u){const c=this.rpcClient.watchDocument({clientId:this.id,documentId:e.resourceID},{headers:{"x-shard-key":`${this.apiKey}/${a}`},signal:s.signal});return e.resource.publish([{type:ot.ConnectionChanged,value:xs.Connected}]),_.info(`[WD] c:"${this.getKey()}" watches d:"${a}"`),e.changeEventReceived!==void 0&&(e.changeEventReceived=!0),new Promise((h,d)=>{(async()=>{try{for await(const m of c)this.handleWatchDocumentResponse(e,m),m.body.case==="initialization"&&h([c,s]);e.resource.resetOnlineClients(),e.resource.publish([{type:ot.Initialized,source:Je.Local,value:e.resource.getPresences()}]),e.resource.publish([{type:ot.ConnectionChanged,value:xs.Disconnected}]),_.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`),u()}catch(m){e.resource.resetOnlineClients(),e.resource.publish([{type:ot.Initialized,source:Je.Local,value:e.resource.getPresences()}]),e.resource.publish([{type:ot.ConnectionChanged,value:xs.Disconnected}]),_.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(m)?(Tf(m,E.ErrUnauthenticated)&&e.resource.publish([{type:ot.AuthError,value:{reason:Ts(m).reason,method:"WatchDocument"}}]),u()):this.conditions.WatchLoop=!1,d(m)}})()})}createChannelWatchStream(e,a,s,u){const c=this.rpcClient.watchChannel({clientId:this.id,channelKey:a},{headers:{"x-shard-key":`${this.apiKey}/${e.resource.getFirstKeyPath()}`},signal:s.signal});return _.info(`[WP] c:"${this.getKey()}" watches p:"${a}"`),new Promise((h,d)=>{(async()=>{try{let m=!0;for await(const v of c)this.handleWatchChannelResponse(e,v),m&&(m=!1,h([c,s]));_.debug(`[WP] c:"${this.getKey()}" p:"${a}" stream ended`),u()}catch(m){if(m instanceof Error&&m.name==="AbortError"){_.debug(`[WP] c:"${this.getKey()}" p:"${a}" stream aborted`);return}_.debug(`[WP] c:"${this.getKey()}" p:"${a}" err:`,m),await this.handleConnectError(m)?u():this.conditions.WatchLoop=!1,d(m)}})()})}handleWatchChannelResponse(e,a){const s=e.resource;if(a.body.case==="initialized"){const{count:u,seq:c}=a.body.value;s.updateCount(Number(u),Number(c))&&s.publish({type:fr.Initialized,count:Number(u)})}else if(a.body.case==="event"){const u=a.body.value;if(u.type===mv.BROADCAST){const c=new TextDecoder;try{const h=JSON.parse(c.decode(u.payload));s.publish({type:fr.Broadcast,clientID:u.publisher,topic:u.topic,payload:h})}catch(h){_.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,h)}return}s.updateCount(Number(u.count),Number(u.seq))&&s.publish({type:fr.PresenceChanged,count:Number(u.count)})}}handleWatchDocumentResponse(e,a){if(a.body.case==="event"&&a.body.value.type===wu.DOCUMENT_CHANGED){e.changeEventReceived!==void 0&&(e.changeEventReceived=!0);return}e.resource.applyWatchStream(a)}deactivateInternal(){this.status="deactivated";for(const[e,a]of this.attachmentMap)this.detachInternal(e),a.resource instanceof Yi?a.resource.applyStatus(Zi.Detached):a.resource instanceof zi&&a.resource.applyStatus(Rs.Detached)}detachInternal(e){const a=this.attachmentMap.get(e);a&&(a.cancelWatchStream(),a.resource instanceof Yi&&a.resource.resetOnlineClients(),this.attachmentMap.delete(e))}async syncInternal(e,a){const{resource:s}=e;if(s instanceof zi){try{const d=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:s.getKey(),sessionId:s.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${s.getFirstKeyPath()}`}});s.updateCount(Number(d.count),0),e.updateHeartbeatTime(),_.debug(`[RP] c:"${this.getKey()}" refreshes p:"${s.getKey()}" mode:${e.syncMode}`)}catch(d){throw _.error(`[RP] c:"${this.getKey()}" err :`,d),d}return s}const u=s,{resourceID:c}=e,h=u.createChangePack();try{const d=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:c,changePack:We.toChangePack(h),pushOnly:a==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${u.getKey()}`}}),y=We.fromChangePack(d.changePack);if(y.hasChanges()&&(e.syncMode==="realtime-pushonly"||e.syncMode==="realtime-syncoff"))return u;u.applyChangePack(y),e.resource.publish([{type:ot.SyncStatusChanged,value:Gf.Synced}]),u.getStatus()===Zi.Removed&&this.detachInternal(u.getKey());const m=u.getKey(),v=y.getChangeSize();return _.info(`[PP] c:"${this.getKey()}" sync d:"${m}", push:${h.getChangeSize()} pull:${v} cp:${y.getCheckpoint().toTestString()}`),u}catch(d){throw u.publish([{type:ot.SyncStatusChanged,value:Gf.SyncFailed}]),_.error(`[PP] c:"${this.getKey()}" err :`,d),d}}async handleConnectError(e){if(!(e instanceof xe))return!1;if(e.code===fe.Canceled||e.code===fe.Unknown||e.code===fe.ResourceExhausted||e.code===fe.Unavailable)return!0;if(ur(e)===E.ErrUnauthenticated){if(this.authTokenInjector){const a=await this.authTokenInjector(Ts(e).reason);this.setAuthToken(a)}return!0}return ur(e)===E.ErrTooManySubscribers?(_.error(`[WD] c:"${this.getKey()}" err :`,e.rawMessage),!0):(ur(e)===E.ErrTooManyAttachments||(ur(e)===E.ErrClientNotActivated||ur(e)===E.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(e){return new Promise((a,s)=>{this.taskQueue.push(()=>e().then(a).catch(s)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{_.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}zn.Int,zn.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:Fv,Document:Yi,Primitive:Fe,Text:Ih,Counter:Ch,Tree:Oh,Channel:zi,ChannelEventType:fr,LogLevel:xt,setLogLevel:s2,IntType:zn.Int,LongType:zn.Long});const O2="@yorkie-js/react",V2="0.6.40",hb={name:O2,version:V2};Ke.createContext({client:void 0,loading:!0,error:void 0});function x2(i){const[e,a]=Ke.useState(void 0),[s,u]=Ke.useState(!0),[c,h]=Ke.useState(void 0),[d,y]=Ke.useState(!1);return Ke.useEffect(()=>{y(!0)},[]),Ke.useEffect(()=>{u(!0),h(void 0);async function m(){if(d)try{const v=new Fv(i);await v.activate(),a(v)}catch(v){h(v instanceof Error?v:new Error("Failed to activate client"))}finally{u(!1)}}return m(),()=>{e?.isActive()&&e.deactivate({keepalive:!0})}},[i.apiKey,i.rpcAddr,d]),{client:e,loading:s,error:c}}function U2(i){const e=new Set;let a=i;const s=()=>{e.forEach(y=>y(a))};return{subscribe:y=>(e.add(y),()=>e.delete(y)),getSnapshot:()=>a,setState:y=>{const m=a;a=typeof y=="function"?y(m):y,m!==a&&s()},destroy:()=>{e.clear()}}}const B2=i=>U2(i);function L2(i,e,a=Object.is){const s=Ke.useRef(e),u=Ke.useRef(a),c=Ke.useRef(void 0);s.current=e,u.current=a;const h=()=>{const d=i.getSnapshot(),y=s.current?s.current(d):d;return c.current!==void 0&&u.current(c.current,y)?c.current:(c.current=y,y)};return Ke.useSyncExternalStore(i.subscribe,h,h)}function M2(i,e,a,s,u,c,h,d){const y=Ke.useRef(u),m=Ke.useRef(c),[v,N]=Ke.useState(!1);Ke.useEffect(()=>{N(!0)},[]),Ke.useEffect(()=>{if(a){d.setState(Y=>({...Y,loading:!1,error:a}));return}if(!i||e||!v){d.setState(Y=>({...Y,loading:!0}));return}d.setState(Y=>({...Y,loading:!0,error:void 0}));const V=new Yi(s,{enableDevtools:h}),C=[];C.push(V.subscribe(()=>{d.setState(Y=>({...Y,root:V.getRoot()}))})),C.push(V.subscribe("presence",()=>{d.setState(Y=>({...Y,presences:V.getPresences()}))})),C.push(V.subscribe("connection",Y=>{d.setState(F=>({...F,connection:Y.value}))}));async function L(){try{await i?.attach(V,{initialRoot:y.current,initialPresence:m.current});const Y=F=>{try{V.update(F)}catch(q){d.setState(ye=>({...ye,error:q instanceof Error?q:new Error("Failed to update document")}))}};d.setState(F=>({...F,doc:V,root:V.getRoot(),presences:V.getPresences(),update:Y}))}catch(Y){d.setState(F=>({...F,error:Y instanceof Error?Y:new Error("Failed to attach document")}))}finally{d.setState(Y=>({...Y,loading:!1}))}}return L(),()=>{i&&i.has(s)&&i.detach(V);for(const Y of C)Y()}},[i,e,a,s,d,v])}Ke.createContext(void 0);function Z2(i,e,a){const s=Ke.useRef(void 0);s.current||(s.current=B2({doc:void 0,root:a?.initialRoot??{},presences:[],connection:xs.Disconnected,update:()=>{},loading:!0,error:void 0}));const u=s.current,c=Ke.useMemo(()=>({apiKey:i,userAgent:hb.name+"/"+hb.version,...a}),[i,a]),{client:h,loading:d,error:y}=x2(c);M2(h,d,y,e,a?.initialRoot??{},a?.initialPresence??{},a?.enableDevtools??!1,u);const m=L2(u);return{root:m.root,presences:m.presences,connection:m.connection,update:m.update,loading:m.loading,error:m.error}}Ke.createContext(void 0);function z2(i){const a=new URLSearchParams(window.location.search).get("key")||`react-todomvc-${new Date().toISOString().substring(0,10).replace(/-/g,"")}`,{root:s,update:u,loading:c,error:h}=Z2("D6sd9E5ehtXBssmeRZ4QQP",a,{initialRoot:i,rpcAddr:"https://api.yorkie.dev",enableDevtools:!0}),d=Ke.useCallback(y=>{u(m=>{LA(m,y)})},[u]);return{root:s,dispatch:d,loading:c,error:h}}const Y2={todos:[{id:crypto.randomUUID(),text:"Yorkie JS SDK",completed:!1},{id:crypto.randomUUID(),text:"Garbage collection",completed:!1},{id:crypto.randomUUID(),text:"RichText datatype",completed:!1}]};function G2(){const{root:i,dispatch:e,loading:a,error:s}=z2(Y2);return a?Ce.jsx("div",{children:"Loading..."}):s?Ce.jsxs("div",{children:["Error: ",s.message]}):Ce.jsxs("div",{className:"App",children:[Ce.jsx(wA,{dispatch:e}),Ce.jsx(BA,{todos:i.todos,dispatch:e})]})}CA.createRoot(document.getElementById("root")).render(Ce.jsx(Ke.StrictMode,{children:Ce.jsx(G2,{})}));
