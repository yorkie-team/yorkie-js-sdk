function IT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Yc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jg={exports:{}},Jl={};var sb;function TT(){if(sb)return Jl;sb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var l in i)l!=="key"&&(o[l]=i[l])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:u,ref:i!==void 0?i:null,props:o}}return Jl.Fragment=t,Jl.jsx=n,Jl.jsxs=n,Jl}var ub;function RT(){return ub||(ub=1,Jg.exports=TT()),Jg.exports}var he=RT(),qg={exports:{}},Ve={};var lb;function BT(){if(lb)return Ve;lb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,A={};function x(z,ee,de){this.props=z,this.context=ee,this.refs=A,this.updater=de||b}x.prototype.isReactComponent={},x.prototype.setState=function(z,ee){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ee,"setState")},x.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function D(){}D.prototype=x.prototype;function T(z,ee,de){this.props=z,this.context=ee,this.refs=A,this.updater=de||b}var N=T.prototype=new D;N.constructor=T,C(N,x.prototype),N.isPureReactComponent=!0;var k=Array.isArray;function M(){}var B={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function _(z,ee,de){var me=de.ref;return{$$typeof:e,type:z,key:ee,ref:me!==void 0?me:null,props:de}}function U(z,ee){return _(z.type,ee,z.props)}function K(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function J(z){var ee={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(de){return ee[de]})}var te=/\/+/g;function fe(z,ee){return typeof z=="object"&&z!==null&&z.key!=null?J(""+z.key):ee.toString(36)}function Ee(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(M,M):(z.status="pending",z.then(function(ee){z.status==="pending"&&(z.status="fulfilled",z.value=ee)},function(ee){z.status==="pending"&&(z.status="rejected",z.reason=ee)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Y(z,ee,de,me,Se){var Ae=typeof z;(Ae==="undefined"||Ae==="boolean")&&(z=null);var Ne=!1;if(z===null)Ne=!0;else switch(Ae){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(z.$$typeof){case e:case t:Ne=!0;break;case g:return Ne=z._init,Y(Ne(z._payload),ee,de,me,Se)}}if(Ne)return Se=Se(z),Ne=me===""?"."+fe(z,0):me,k(Se)?(de="",Ne!=null&&(de=Ne.replace(te,"$&/")+"/"),Y(Se,ee,de,"",function(Zt){return Zt})):Se!=null&&(K(Se)&&(Se=U(Se,de+(Se.key==null||z&&z.key===Se.key?"":(""+Se.key).replace(te,"$&/")+"/")+Ne)),ee.push(Se)),1;Ne=0;var He=me===""?".":me+":";if(k(z))for(var rt=0;rt<z.length;rt++)me=z[rt],Ae=He+fe(me,rt),Ne+=Y(me,ee,de,Ae,Se);else if(rt=y(z),typeof rt=="function")for(z=rt.call(z),rt=0;!(me=z.next()).done;)me=me.value,Ae=He+fe(me,rt++),Ne+=Y(me,ee,de,Ae,Se);else if(Ae==="object"){if(typeof z.then=="function")return Y(Ee(z),ee,de,me,Se);throw ee=String(z),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function V(z,ee,de){if(z==null)return z;var me=[],Se=0;return Y(z,me,"","",function(Ae){return ee.call(de,Ae,Se++)}),me}function W(z){if(z._status===-1){var ee=z._result;ee=ee(),ee.then(function(de){(z._status===0||z._status===-1)&&(z._status=1,z._result=de)},function(de){(z._status===0||z._status===-1)&&(z._status=2,z._result=de)}),z._status===-1&&(z._status=0,z._result=ee)}if(z._status===1)return z._result.default;throw z._result}var ce=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},ge={map:V,forEach:function(z,ee,de){V(z,function(){ee.apply(this,arguments)},de)},count:function(z){var ee=0;return V(z,function(){ee++}),ee},toArray:function(z){return V(z,function(ee){return ee})||[]},only:function(z){if(!K(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ve.Activity=m,Ve.Children=ge,Ve.Component=x,Ve.Fragment=n,Ve.Profiler=i,Ve.PureComponent=T,Ve.StrictMode=r,Ve.Suspense=c,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(z){return B.H.useMemoCache(z)}},Ve.cache=function(z){return function(){return z.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(z,ee,de){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var me=C({},z.props),Se=z.key;if(ee!=null)for(Ae in ee.key!==void 0&&(Se=""+ee.key),ee)!P.call(ee,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ee.ref===void 0||(me[Ae]=ee[Ae]);var Ae=arguments.length-2;if(Ae===1)me.children=de;else if(1<Ae){for(var Ne=Array(Ae),He=0;He<Ae;He++)Ne[He]=arguments[He+2];me.children=Ne}return _(z.type,Se,me)},Ve.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Ve.createElement=function(z,ee,de){var me,Se={},Ae=null;if(ee!=null)for(me in ee.key!==void 0&&(Ae=""+ee.key),ee)P.call(ee,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Se[me]=ee[me]);var Ne=arguments.length-2;if(Ne===1)Se.children=de;else if(1<Ne){for(var He=Array(Ne),rt=0;rt<Ne;rt++)He[rt]=arguments[rt+2];Se.children=He}if(z&&z.defaultProps)for(me in Ne=z.defaultProps,Ne)Se[me]===void 0&&(Se[me]=Ne[me]);return _(z,Ae,Se)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(z){return{$$typeof:l,render:z}},Ve.isValidElement=K,Ve.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:W}},Ve.memo=function(z,ee){return{$$typeof:f,type:z,compare:ee===void 0?null:ee}},Ve.startTransition=function(z){var ee=B.T,de={};B.T=de;try{var me=z(),Se=B.S;Se!==null&&Se(de,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(M,ce)}catch(Ae){ce(Ae)}finally{ee!==null&&de.types!==null&&(ee.types=de.types),B.T=ee}},Ve.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Ve.use=function(z){return B.H.use(z)},Ve.useActionState=function(z,ee,de){return B.H.useActionState(z,ee,de)},Ve.useCallback=function(z,ee){return B.H.useCallback(z,ee)},Ve.useContext=function(z){return B.H.useContext(z)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(z,ee){return B.H.useDeferredValue(z,ee)},Ve.useEffect=function(z,ee){return B.H.useEffect(z,ee)},Ve.useEffectEvent=function(z){return B.H.useEffectEvent(z)},Ve.useId=function(){return B.H.useId()},Ve.useImperativeHandle=function(z,ee,de){return B.H.useImperativeHandle(z,ee,de)},Ve.useInsertionEffect=function(z,ee){return B.H.useInsertionEffect(z,ee)},Ve.useLayoutEffect=function(z,ee){return B.H.useLayoutEffect(z,ee)},Ve.useMemo=function(z,ee){return B.H.useMemo(z,ee)},Ve.useOptimistic=function(z,ee){return B.H.useOptimistic(z,ee)},Ve.useReducer=function(z,ee,de){return B.H.useReducer(z,ee,de)},Ve.useRef=function(z){return B.H.useRef(z)},Ve.useState=function(z){return B.H.useState(z)},Ve.useSyncExternalStore=function(z,ee,de){return B.H.useSyncExternalStore(z,ee,de)},Ve.useTransition=function(){return B.H.useTransition()},Ve.version="19.2.1",Ve}var cb;function Wc(){return cb||(cb=1,qg.exports=BT()),qg.exports}var h=Wc();const $t=Yc(h),u4=IT({__proto__:null,default:$t},[h]);var Qg={exports:{}},ql={},em={exports:{}},tm={};var db;function kT(){return db||(db=1,(function(e){function t(Y,V){var W=Y.length;Y.push(V);e:for(;0<W;){var ce=W-1>>>1,ge=Y[ce];if(0<i(ge,V))Y[ce]=V,Y[W]=ge,W=ce;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var V=Y[0],W=Y.pop();if(W!==V){Y[0]=W;e:for(var ce=0,ge=Y.length,z=ge>>>1;ce<z;){var ee=2*(ce+1)-1,de=Y[ee],me=ee+1,Se=Y[me];if(0>i(de,W))me<ge&&0>i(Se,de)?(Y[ce]=Se,Y[me]=W,ce=me):(Y[ce]=de,Y[ee]=W,ce=ee);else if(me<ge&&0>i(Se,W))Y[ce]=Se,Y[me]=W,ce=me;else break e}}return V}function i(Y,V){var W=Y.sortIndex-V.sortIndex;return W!==0?W:Y.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,l=u.now();e.unstable_now=function(){return u.now()-l}}var c=[],f=[],g=1,m=null,v=3,y=!1,b=!1,C=!1,A=!1,x=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function N(Y){for(var V=n(f);V!==null;){if(V.callback===null)r(f);else if(V.startTime<=Y)r(f),V.sortIndex=V.expirationTime,t(c,V);else break;V=n(f)}}function k(Y){if(C=!1,N(Y),!b)if(n(c)!==null)b=!0,M||(M=!0,J());else{var V=n(f);V!==null&&Ee(k,V.startTime-Y)}}var M=!1,B=-1,P=5,_=-1;function U(){return A?!0:!(e.unstable_now()-_<P)}function K(){if(A=!1,M){var Y=e.unstable_now();_=Y;var V=!0;try{e:{b=!1,C&&(C=!1,D(B),B=-1),y=!0;var W=v;try{t:{for(N(Y),m=n(c);m!==null&&!(m.expirationTime>Y&&U());){var ce=m.callback;if(typeof ce=="function"){m.callback=null,v=m.priorityLevel;var ge=ce(m.expirationTime<=Y);if(Y=e.unstable_now(),typeof ge=="function"){m.callback=ge,N(Y),V=!0;break t}m===n(c)&&r(c),N(Y)}else r(c);m=n(c)}if(m!==null)V=!0;else{var z=n(f);z!==null&&Ee(k,z.startTime-Y),V=!1}}break e}finally{m=null,v=W,y=!1}V=void 0}}finally{V?J():M=!1}}}var J;if(typeof T=="function")J=function(){T(K)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,fe=te.port2;te.port1.onmessage=K,J=function(){fe.postMessage(null)}}else J=function(){x(K,0)};function Ee(Y,V){B=x(function(){Y(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var W=v;v=V;try{return Y()}finally{v=W}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(Y,V){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var W=v;v=Y;try{return V()}finally{v=W}},e.unstable_scheduleCallback=function(Y,V,W){var ce=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ce+W:ce):W=ce,Y){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=W+ge,Y={id:g++,callback:V,priorityLevel:Y,startTime:W,expirationTime:ge,sortIndex:-1},W>ce?(Y.sortIndex=W,t(f,Y),n(c)===null&&Y===n(f)&&(C?(D(B),B=-1):C=!0,Ee(k,W-ce))):(Y.sortIndex=ge,t(c,Y),b||y||(b=!0,M||(M=!0,J()))),Y},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(Y){var V=v;return function(){var W=v;v=V;try{return Y.apply(this,arguments)}finally{v=W}}}})(tm)),tm}var hb;function MT(){return hb||(hb=1,em.exports=kT()),em.exports}var nm={exports:{}},An={};var fb;function NT(){if(fb)return An;fb=1;var e=Wc();function t(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,f,g){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:f,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,An.createPortal=function(c,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(c,f,null,g)},An.flushSync=function(c){var f=u.T,g=r.p;try{if(u.T=null,r.p=2,c)return c()}finally{u.T=f,r.p=g,r.d.f()}},An.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},An.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},An.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var g=f.as,m=l(g,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:y}):g==="script"&&r.d.X(c,{crossOrigin:m,integrity:v,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},An.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=l(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},An.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,m=l(g,f.crossOrigin);r.d.L(c,g,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},An.preloadModule=function(c,f){if(typeof c=="string")if(f){var g=l(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},An.requestFormReset=function(c){r.d.r(c)},An.unstable_batchedUpdates=function(c,f){return c(f)},An.useFormState=function(c,f,g){return u.H.useFormState(c,f,g)},An.useFormStatus=function(){return u.H.useHostTransitionStatus()},An.version="19.2.1",An}var pb;function pS(){if(pb)return nm.exports;pb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),nm.exports=NT(),nm.exports}var gb;function PT(){if(gb)return ql;gb=1;var e=MT(),t=Wc(),n=pS();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)s+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,d=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(d=s.return),a=s.return;while(a)}return s.tag===3?d:null}function u(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function l(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(o(a)!==a)throw Error(r(188))}function f(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var d=a,p=s;;){var E=d.return;if(E===null)break;var S=E.alternate;if(S===null){if(p=E.return,p!==null){d=p;continue}break}if(E.child===S.child){for(S=E.child;S;){if(S===d)return c(E),a;if(S===p)return c(E),s;S=S.sibling}throw Error(r(188))}if(d.return!==p.return)d=E,p=S;else{for(var I=!1,O=E.child;O;){if(O===d){I=!0,d=E,p=S;break}if(O===p){I=!0,p=E,d=S;break}O=O.sibling}if(!I){for(O=S.child;O;){if(O===d){I=!0,d=S,p=E;break}if(O===p){I=!0,p=S,d=E;break}O=O.sibling}if(!I)throw Error(r(189))}}if(d.alternate!==p)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:s}function g(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=g(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function J(a){return a===null||typeof a!="object"?null:(a=K&&a[K]||a["@@iterator"],typeof a=="function"?a:null)}var te=Symbol.for("react.client.reference");function fe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===te?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case C:return"Fragment";case x:return"Profiler";case A:return"StrictMode";case k:return"Suspense";case M:return"SuspenseList";case _:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case T:return a.displayName||"Context";case D:return(a._context.displayName||"Context")+".Consumer";case N:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case B:return s=a.displayName||null,s!==null?s:fe(a.type)||"Memo";case P:s=a._payload,a=a._init;try{return fe(a(s))}catch{}}return null}var Ee=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ce=[],ge=-1;function z(a){return{current:a}}function ee(a){0>ge||(a.current=ce[ge],ce[ge]=null,ge--)}function de(a,s){ge++,ce[ge]=a.current,a.current=s}var me=z(null),Se=z(null),Ae=z(null),Ne=z(null);function He(a,s){switch(de(Ae,s),de(Se,a),de(me,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?BE(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=BE(s),a=kE(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ee(me),de(me,a)}function rt(){ee(me),ee(Se),ee(Ae)}function Zt(a){a.memoizedState!==null&&de(Ne,a);var s=me.current,d=kE(s,a.type);s!==d&&(de(Se,a),de(me,d))}function Bn(a){Se.current===a&&(ee(me),ee(Se)),Ne.current===a&&(ee(Ne),Yl._currentValue=W)}var zn,Sn;function Vn(a){if(zn===void 0)try{throw Error()}catch(d){var s=d.stack.trim().match(/\n( *(at )?)/);zn=s&&s[1]||"",Sn=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zn+a+Sn}var So=!1;function Ao(a,s){if(!a||So)return"";So=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ae){var ne=ae}Reflect.construct(a,[],ue)}else{try{ue.call()}catch(ae){ne=ae}a.call(ue.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(ue=a())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),I=S[0],O=S[1];if(I&&O){var $=I.split(`
`),Q=O.split(`
`);for(E=p=0;p<$.length&&!$[p].includes("DetermineComponentFrameRoot");)p++;for(;E<Q.length&&!Q[E].includes("DetermineComponentFrameRoot");)E++;if(p===$.length||E===Q.length)for(p=$.length-1,E=Q.length-1;1<=p&&0<=E&&$[p]!==Q[E];)E--;for(;1<=p&&0<=E;p--,E--)if($[p]!==Q[E]){if(p!==1||E!==1)do if(p--,E--,0>E||$[p]!==Q[E]){var oe=`
`+$[p].replace(" at new "," at ");return a.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",a.displayName)),oe}while(1<=p&&0<=E);break}}}finally{So=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?Vn(d):""}function ba(a,s){switch(a.tag){case 26:case 27:case 5:return Vn(a.type);case 16:return Vn("Lazy");case 13:return a.child!==s&&s!==null?Vn("Suspense Fallback"):Vn("Suspense");case 19:return Vn("SuspenseList");case 0:case 15:return Ao(a.type,!1);case 11:return Ao(a.type.render,!1);case 1:return Ao(a.type,!0);case 31:return Vn("Activity");default:return""}}function Ca(a){try{var s="",d=null;do s+=ba(a,d),d=a,a=a.return;while(a);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var ps=Object.prototype.hasOwnProperty,wo=e.unstable_scheduleCallback,_f=e.unstable_cancelCallback,a7=e.unstable_shouldYield,o7=e.unstable_requestPaint,tr=e.unstable_now,s7=e.unstable_getCurrentPriorityLevel,uv=e.unstable_ImmediatePriority,lv=e.unstable_UserBlockingPriority,fd=e.unstable_NormalPriority,u7=e.unstable_LowPriority,cv=e.unstable_IdlePriority,l7=e.log,c7=e.unstable_setDisableYieldValue,al=null,nr=null;function Sa(a){if(typeof l7=="function"&&c7(a),nr&&typeof nr.setStrictMode=="function")try{nr.setStrictMode(al,a)}catch{}}var rr=Math.clz32?Math.clz32:f7,d7=Math.log,h7=Math.LN2;function f7(a){return a>>>=0,a===0?32:31-(d7(a)/h7|0)|0}var pd=256,gd=262144,md=4194304;function xo(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function vd(a,s,d){var p=a.pendingLanes;if(p===0)return 0;var E=0,S=a.suspendedLanes,I=a.pingedLanes;a=a.warmLanes;var O=p&134217727;return O!==0?(p=O&~S,p!==0?E=xo(p):(I&=O,I!==0?E=xo(I):d||(d=O&~a,d!==0&&(E=xo(d))))):(O=p&~S,O!==0?E=xo(O):I!==0?E=xo(I):d||(d=p&~a,d!==0&&(E=xo(d)))),E===0?0:s!==0&&s!==E&&(s&S)===0&&(S=E&-E,d=s&-s,S>=d||S===32&&(d&4194048)!==0)?s:E}function ol(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function p7(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dv(){var a=md;return md<<=1,(md&62914560)===0&&(md=4194304),a}function $f(a){for(var s=[],d=0;31>d;d++)s.push(a);return s}function sl(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function g7(a,s,d,p,E,S){var I=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var O=a.entanglements,$=a.expirationTimes,Q=a.hiddenUpdates;for(d=I&~d;0<d;){var oe=31-rr(d),ue=1<<oe;O[oe]=0,$[oe]=-1;var ne=Q[oe];if(ne!==null)for(Q[oe]=null,oe=0;oe<ne.length;oe++){var ae=ne[oe];ae!==null&&(ae.lane&=-536870913)}d&=~ue}p!==0&&hv(a,p,0),S!==0&&E===0&&a.tag!==0&&(a.suspendedLanes|=S&~(I&~s))}function hv(a,s,d){a.pendingLanes|=s,a.suspendedLanes&=~s;var p=31-rr(s);a.entangledLanes|=s,a.entanglements[p]=a.entanglements[p]|1073741824|d&261930}function fv(a,s){var d=a.entangledLanes|=s;for(a=a.entanglements;d;){var p=31-rr(d),E=1<<p;E&s|a[p]&s&&(a[p]|=s),d&=~E}}function pv(a,s){var d=s&-s;return d=(d&42)!==0?1:zf(d),(d&(a.suspendedLanes|s))!==0?0:d}function zf(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Vf(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function gv(){var a=V.p;return a!==0?a:(a=window.event,a===void 0?32:eb(a.type))}function mv(a,s){var d=V.p;try{return V.p=a,s()}finally{V.p=d}}var Aa=Math.random().toString(36).slice(2),fn="__reactFiber$"+Aa,Un="__reactProps$"+Aa,gs="__reactContainer$"+Aa,Uf="__reactEvents$"+Aa,m7="__reactListeners$"+Aa,v7="__reactHandles$"+Aa,vv="__reactResources$"+Aa,ul="__reactMarker$"+Aa;function Hf(a){delete a[fn],delete a[Un],delete a[Uf],delete a[m7],delete a[v7]}function ms(a){var s=a[fn];if(s)return s;for(var d=a.parentNode;d;){if(s=d[gs]||d[fn]){if(d=s.alternate,s.child!==null||d!==null&&d.child!==null)for(a=_E(a);a!==null;){if(d=a[fn])return d;a=_E(a)}return s}a=d,d=a.parentNode}return null}function vs(a){if(a=a[fn]||a[gs]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function ll(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function ys(a){var s=a[vv];return s||(s=a[vv]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ln(a){a[ul]=!0}var yv=new Set,Ev={};function Do(a,s){Es(a,s),Es(a+"Capture",s)}function Es(a,s){for(Ev[a]=s,a=0;a<s.length;a++)yv.add(s[a])}var y7=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bv={},Cv={};function E7(a){return ps.call(Cv,a)?!0:ps.call(bv,a)?!1:y7.test(a)?Cv[a]=!0:(bv[a]=!0,!1)}function yd(a,s,d){if(E7(s))if(d===null)a.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+d)}}function Ed(a,s,d){if(d===null)a.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+d)}}function Li(a,s,d,p){if(p===null)a.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(s,d,""+p)}}function br(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Sv(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function b7(a,s,d){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,S=p.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return E.call(this)},set:function(I){d=""+I,S.call(this,I)}}),Object.defineProperty(a,s,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(I){d=""+I},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Gf(a){if(!a._valueTracker){var s=Sv(a)?"checked":"value";a._valueTracker=b7(a,s,""+a[s])}}function Av(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var d=s.getValue(),p="";return a&&(p=Sv(a)?a.checked?"true":"false":a.value),a=p,a!==d?(s.setValue(a),!0):!1}function bd(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var C7=/[\n"\\]/g;function Cr(a){return a.replace(C7,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function jf(a,s,d,p,E,S,I,O){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),s!=null?I==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+br(s)):a.value!==""+br(s)&&(a.value=""+br(s)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),s!=null?Kf(a,I,br(s)):d!=null?Kf(a,I,br(d)):p!=null&&a.removeAttribute("value"),E==null&&S!=null&&(a.defaultChecked=!!S),E!=null&&(a.checked=E&&typeof E!="function"&&typeof E!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.name=""+br(O):a.removeAttribute("name")}function wv(a,s,d,p,E,S,I,O){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),s!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||s!=null)){Gf(a);return}d=d!=null?""+br(d):"",s=s!=null?""+br(s):d,O||s===a.value||(a.value=s),a.defaultValue=s}p=p??E,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=O?a.checked:!!p,a.defaultChecked=!!p,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I),Gf(a)}function Kf(a,s,d){s==="number"&&bd(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function bs(a,s,d,p){if(a=a.options,s){s={};for(var E=0;E<d.length;E++)s["$"+d[E]]=!0;for(d=0;d<a.length;d++)E=s.hasOwnProperty("$"+a[d].value),a[d].selected!==E&&(a[d].selected=E),E&&p&&(a[d].defaultSelected=!0)}else{for(d=""+br(d),s=null,E=0;E<a.length;E++){if(a[E].value===d){a[E].selected=!0,p&&(a[E].defaultSelected=!0);return}s!==null||a[E].disabled||(s=a[E])}s!==null&&(s.selected=!0)}}function xv(a,s,d){if(s!=null&&(s=""+br(s),s!==a.value&&(a.value=s),d==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=d!=null?""+br(d):""}function Dv(a,s,d,p){if(s==null){if(p!=null){if(d!=null)throw Error(r(92));if(Ee(p)){if(1<p.length)throw Error(r(93));p=p[0]}d=p}d==null&&(d=""),s=d}d=br(s),a.defaultValue=d,p=a.textContent,p===d&&p!==""&&p!==null&&(a.value=p),Gf(a)}function Cs(a,s){if(s){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=s;return}}a.textContent=s}var S7=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Iv(a,s,d){var p=s.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":p?a.setProperty(s,d):typeof d!="number"||d===0||S7.has(s)?s==="float"?a.cssFloat=d:a[s]=(""+d).trim():a[s]=d+"px"}function Tv(a,s,d){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var E in s)p=s[E],s.hasOwnProperty(E)&&d[E]!==p&&Iv(a,E,p)}else for(var S in s)s.hasOwnProperty(S)&&Iv(a,S,s[S])}function Yf(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A7=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),w7=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cd(a){return w7.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Fi(){}var Wf=null;function Zf(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ss=null,As=null;function Rv(a){var s=vs(a);if(s&&(a=s.stateNode)){var d=a[Un]||null;e:switch(a=s.stateNode,s.type){case"input":if(jf(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),s=d.name,d.type==="radio"&&s!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Cr(""+s)+'"][type="radio"]'),s=0;s<d.length;s++){var p=d[s];if(p!==a&&p.form===a.form){var E=p[Un]||null;if(!E)throw Error(r(90));jf(p,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(s=0;s<d.length;s++)p=d[s],p.form===a.form&&Av(p)}break e;case"textarea":xv(a,d.value,d.defaultValue);break e;case"select":s=d.value,s!=null&&bs(a,!!d.multiple,s,!1)}}}var Xf=!1;function Bv(a,s,d){if(Xf)return a(s,d);Xf=!0;try{var p=a(s);return p}finally{if(Xf=!1,(Ss!==null||As!==null)&&(u0(),Ss&&(s=Ss,a=As,As=Ss=null,Rv(s),a)))for(s=0;s<a.length;s++)Rv(a[s])}}function cl(a,s){var d=a.stateNode;if(d===null)return null;var p=d[Un]||null;if(p===null)return null;d=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,s,typeof d));return d}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jf=!1;if(_i)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){Jf=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{Jf=!1}var wa=null,qf=null,Sd=null;function kv(){if(Sd)return Sd;var a,s=qf,d=s.length,p,E="value"in wa?wa.value:wa.textContent,S=E.length;for(a=0;a<d&&s[a]===E[a];a++);var I=d-a;for(p=1;p<=I&&s[d-p]===E[S-p];p++);return Sd=E.slice(a,1<p?1-p:void 0)}function Ad(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function wd(){return!0}function Mv(){return!1}function Hn(a){function s(d,p,E,S,I){this._reactName=d,this._targetInst=E,this.type=p,this.nativeEvent=S,this.target=I,this.currentTarget=null;for(var O in a)a.hasOwnProperty(O)&&(d=a[O],this[O]=d?d(S):S[O]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?wd:Mv,this.isPropagationStopped=Mv,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=wd)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=wd)},persist:function(){},isPersistent:wd}),s}var Io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xd=Hn(Io),hl=m({},Io,{view:0,detail:0}),x7=Hn(hl),Qf,ep,fl,Dd=m({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:np,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==fl&&(fl&&a.type==="mousemove"?(Qf=a.screenX-fl.screenX,ep=a.screenY-fl.screenY):ep=Qf=0,fl=a),Qf)},movementY:function(a){return"movementY"in a?a.movementY:ep}}),Nv=Hn(Dd),D7=m({},Dd,{dataTransfer:0}),I7=Hn(D7),T7=m({},hl,{relatedTarget:0}),tp=Hn(T7),R7=m({},Io,{animationName:0,elapsedTime:0,pseudoElement:0}),B7=Hn(R7),k7=m({},Io,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),M7=Hn(k7),N7=m({},Io,{data:0}),Pv=Hn(N7),P7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F7(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=L7[a])?!!s[a]:!1}function np(){return F7}var _7=m({},hl,{key:function(a){if(a.key){var s=P7[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Ad(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?O7[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:np,charCode:function(a){return a.type==="keypress"?Ad(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ad(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),$7=Hn(_7),z7=m({},Dd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ov=Hn(z7),V7=m({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:np}),U7=Hn(V7),H7=m({},Io,{propertyName:0,elapsedTime:0,pseudoElement:0}),G7=Hn(H7),j7=m({},Dd,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),K7=Hn(j7),Y7=m({},Io,{newState:0,oldState:0}),W7=Hn(Y7),Z7=[9,13,27,32],rp=_i&&"CompositionEvent"in window,pl=null;_i&&"documentMode"in document&&(pl=document.documentMode);var X7=_i&&"TextEvent"in window&&!pl,Lv=_i&&(!rp||pl&&8<pl&&11>=pl),Fv=" ",_v=!1;function $v(a,s){switch(a){case"keyup":return Z7.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zv(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ws=!1;function J7(a,s){switch(a){case"compositionend":return zv(s);case"keypress":return s.which!==32?null:(_v=!0,Fv);case"textInput":return a=s.data,a===Fv&&_v?null:a;default:return null}}function q7(a,s){if(ws)return a==="compositionend"||!rp&&$v(a,s)?(a=kv(),Sd=qf=wa=null,ws=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Lv&&s.locale!=="ko"?null:s.data;default:return null}}var Q7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vv(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!Q7[a.type]:s==="textarea"}function Uv(a,s,d,p){Ss?As?As.push(p):As=[p]:Ss=p,s=g0(s,"onChange"),0<s.length&&(d=new xd("onChange","change",null,d,p),a.push({event:d,listeners:s}))}var gl=null,ml=null;function eI(a){wE(a,0)}function Id(a){var s=ll(a);if(Av(s))return a}function Hv(a,s){if(a==="change")return s}var Gv=!1;if(_i){var ip;if(_i){var ap="oninput"in document;if(!ap){var jv=document.createElement("div");jv.setAttribute("oninput","return;"),ap=typeof jv.oninput=="function"}ip=ap}else ip=!1;Gv=ip&&(!document.documentMode||9<document.documentMode)}function Kv(){gl&&(gl.detachEvent("onpropertychange",Yv),ml=gl=null)}function Yv(a){if(a.propertyName==="value"&&Id(ml)){var s=[];Uv(s,ml,a,Zf(a)),Bv(eI,s)}}function tI(a,s,d){a==="focusin"?(Kv(),gl=s,ml=d,gl.attachEvent("onpropertychange",Yv)):a==="focusout"&&Kv()}function nI(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Id(ml)}function rI(a,s){if(a==="click")return Id(s)}function iI(a,s){if(a==="input"||a==="change")return Id(s)}function aI(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var ir=typeof Object.is=="function"?Object.is:aI;function vl(a,s){if(ir(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var d=Object.keys(a),p=Object.keys(s);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var E=d[p];if(!ps.call(s,E)||!ir(a[E],s[E]))return!1}return!0}function Wv(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Zv(a,s){var d=Wv(a);a=0;for(var p;d;){if(d.nodeType===3){if(p=a+d.textContent.length,a<=s&&p>=s)return{node:d,offset:s-a};a=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Wv(d)}}function Xv(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Xv(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Jv(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=bd(a.document);s instanceof a.HTMLIFrameElement;){try{var d=typeof s.contentWindow.location.href=="string"}catch{d=!1}if(d)a=s.contentWindow;else break;s=bd(a.document)}return s}function op(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var oI=_i&&"documentMode"in document&&11>=document.documentMode,xs=null,sp=null,yl=null,up=!1;function qv(a,s,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;up||xs==null||xs!==bd(p)||(p=xs,"selectionStart"in p&&op(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),yl&&vl(yl,p)||(yl=p,p=g0(sp,"onSelect"),0<p.length&&(s=new xd("onSelect","select",null,s,d),a.push({event:s,listeners:p}),s.target=xs)))}function To(a,s){var d={};return d[a.toLowerCase()]=s.toLowerCase(),d["Webkit"+a]="webkit"+s,d["Moz"+a]="moz"+s,d}var Ds={animationend:To("Animation","AnimationEnd"),animationiteration:To("Animation","AnimationIteration"),animationstart:To("Animation","AnimationStart"),transitionrun:To("Transition","TransitionRun"),transitionstart:To("Transition","TransitionStart"),transitioncancel:To("Transition","TransitionCancel"),transitionend:To("Transition","TransitionEnd")},lp={},Qv={};_i&&(Qv=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function Ro(a){if(lp[a])return lp[a];if(!Ds[a])return a;var s=Ds[a],d;for(d in s)if(s.hasOwnProperty(d)&&d in Qv)return lp[a]=s[d];return a}var ey=Ro("animationend"),ty=Ro("animationiteration"),ny=Ro("animationstart"),sI=Ro("transitionrun"),uI=Ro("transitionstart"),lI=Ro("transitioncancel"),ry=Ro("transitionend"),iy=new Map,cp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cp.push("scrollEnd");function Kr(a,s){iy.set(a,s),Do(s,[a])}var Td=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Sr=[],Is=0,dp=0;function Rd(){for(var a=Is,s=dp=Is=0;s<a;){var d=Sr[s];Sr[s++]=null;var p=Sr[s];Sr[s++]=null;var E=Sr[s];Sr[s++]=null;var S=Sr[s];if(Sr[s++]=null,p!==null&&E!==null){var I=p.pending;I===null?E.next=E:(E.next=I.next,I.next=E),p.pending=E}S!==0&&ay(d,E,S)}}function Bd(a,s,d,p){Sr[Is++]=a,Sr[Is++]=s,Sr[Is++]=d,Sr[Is++]=p,dp|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function hp(a,s,d,p){return Bd(a,s,d,p),kd(a)}function Bo(a,s){return Bd(a,null,null,s),kd(a)}function ay(a,s,d){a.lanes|=d;var p=a.alternate;p!==null&&(p.lanes|=d);for(var E=!1,S=a.return;S!==null;)S.childLanes|=d,p=S.alternate,p!==null&&(p.childLanes|=d),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(E=!0)),a=S,S=S.return;return a.tag===3?(S=a.stateNode,E&&s!==null&&(E=31-rr(d),a=S.hiddenUpdates,p=a[E],p===null?a[E]=[s]:p.push(s),s.lane=d|536870912),S):null}function kd(a){if(50<zl)throw zl=0,Cg=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Ts={};function cI(a,s,d,p){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(a,s,d,p){return new cI(a,s,d,p)}function fp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function $i(a,s){var d=a.alternate;return d===null?(d=ar(a.tag,s,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=s,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,s=a.dependencies,d.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function oy(a,s){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,s=d.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Md(a,s,d,p,E,S){var I=0;if(p=a,typeof a=="function")fp(a)&&(I=1);else if(typeof a=="string")I=gT(a,d,me.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case _:return a=ar(31,d,s,E),a.elementType=_,a.lanes=S,a;case C:return ko(d.children,E,S,s);case A:I=8,E|=24;break;case x:return a=ar(12,d,s,E|2),a.elementType=x,a.lanes=S,a;case k:return a=ar(13,d,s,E),a.elementType=k,a.lanes=S,a;case M:return a=ar(19,d,s,E),a.elementType=M,a.lanes=S,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case T:I=10;break e;case D:I=9;break e;case N:I=11;break e;case B:I=14;break e;case P:I=16,p=null;break e}I=29,d=Error(r(130,a===null?"null":typeof a,"")),p=null}return s=ar(I,d,s,E),s.elementType=a,s.type=p,s.lanes=S,s}function ko(a,s,d,p){return a=ar(7,a,p,s),a.lanes=d,a}function pp(a,s,d){return a=ar(6,a,null,s),a.lanes=d,a}function sy(a){var s=ar(18,null,null,0);return s.stateNode=a,s}function gp(a,s,d){return s=ar(4,a.children!==null?a.children:[],a.key,s),s.lanes=d,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var uy=new WeakMap;function Ar(a,s){if(typeof a=="object"&&a!==null){var d=uy.get(a);return d!==void 0?d:(s={value:a,source:s,stack:Ca(s)},uy.set(a,s),s)}return{value:a,source:s,stack:Ca(s)}}var Rs=[],Bs=0,Nd=null,El=0,wr=[],xr=0,xa=null,pi=1,gi="";function zi(a,s){Rs[Bs++]=El,Rs[Bs++]=Nd,Nd=a,El=s}function ly(a,s,d){wr[xr++]=pi,wr[xr++]=gi,wr[xr++]=xa,xa=a;var p=pi;a=gi;var E=32-rr(p)-1;p&=~(1<<E),d+=1;var S=32-rr(s)+E;if(30<S){var I=E-E%5;S=(p&(1<<I)-1).toString(32),p>>=I,E-=I,pi=1<<32-rr(s)+E|d<<E|p,gi=S+a}else pi=1<<S|d<<E|p,gi=a}function mp(a){a.return!==null&&(zi(a,1),ly(a,1,0))}function vp(a){for(;a===Nd;)Nd=Rs[--Bs],Rs[Bs]=null,El=Rs[--Bs],Rs[Bs]=null;for(;a===xa;)xa=wr[--xr],wr[xr]=null,gi=wr[--xr],wr[xr]=null,pi=wr[--xr],wr[xr]=null}function cy(a,s){wr[xr++]=pi,wr[xr++]=gi,wr[xr++]=xa,pi=s.id,gi=s.overflow,xa=a}var pn=null,It=null,tt=!1,Da=null,Dr=!1,yp=Error(r(519));function Ia(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(Ar(s,a)),yp}function dy(a){var s=a.stateNode,d=a.type,p=a.memoizedProps;switch(s[fn]=a,s[Un]=p,d){case"dialog":Xe("cancel",s),Xe("close",s);break;case"iframe":case"object":case"embed":Xe("load",s);break;case"video":case"audio":for(d=0;d<Ul.length;d++)Xe(Ul[d],s);break;case"source":Xe("error",s);break;case"img":case"image":case"link":Xe("error",s),Xe("load",s);break;case"details":Xe("toggle",s);break;case"input":Xe("invalid",s),wv(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Xe("invalid",s);break;case"textarea":Xe("invalid",s),Dv(s,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||s.textContent===""+d||p.suppressHydrationWarning===!0||TE(s.textContent,d)?(p.popover!=null&&(Xe("beforetoggle",s),Xe("toggle",s)),p.onScroll!=null&&Xe("scroll",s),p.onScrollEnd!=null&&Xe("scrollend",s),p.onClick!=null&&(s.onclick=Fi),s=!0):s=!1,s||Ia(a,!0)}function hy(a){for(pn=a.return;pn;)switch(pn.tag){case 5:case 31:case 13:Dr=!1;return;case 27:case 3:Dr=!0;return;default:pn=pn.return}}function ks(a){if(a!==pn)return!1;if(!tt)return hy(a),tt=!0,!1;var s=a.tag,d;if((d=s!==3&&s!==27)&&((d=s===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||Lg(a.type,a.memoizedProps)),d=!d),d&&It&&Ia(a),hy(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));It=FE(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));It=FE(a)}else s===27?(s=It,Va(a.type)?(a=Vg,Vg=null,It=a):It=s):It=pn?Tr(a.stateNode.nextSibling):null;return!0}function Mo(){It=pn=null,tt=!1}function Ep(){var a=Da;return a!==null&&(Yn===null?Yn=a:Yn.push.apply(Yn,a),Da=null),a}function bl(a){Da===null?Da=[a]:Da.push(a)}var bp=z(null),No=null,Vi=null;function Ta(a,s,d){de(bp,s._currentValue),s._currentValue=d}function Ui(a){a._currentValue=bp.current,ee(bp)}function Cp(a,s,d){for(;a!==null;){var p=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),a===d)break;a=a.return}}function Sp(a,s,d,p){var E=a.child;for(E!==null&&(E.return=a);E!==null;){var S=E.dependencies;if(S!==null){var I=E.child;S=S.firstContext;e:for(;S!==null;){var O=S;S=E;for(var $=0;$<s.length;$++)if(O.context===s[$]){S.lanes|=d,O=S.alternate,O!==null&&(O.lanes|=d),Cp(S.return,d,a),p||(I=null);break e}S=O.next}}else if(E.tag===18){if(I=E.return,I===null)throw Error(r(341));I.lanes|=d,S=I.alternate,S!==null&&(S.lanes|=d),Cp(I,d,a),I=null}else I=E.child;if(I!==null)I.return=E;else for(I=E;I!==null;){if(I===a){I=null;break}if(E=I.sibling,E!==null){E.return=I.return,I=E;break}I=I.return}E=I}}function Ms(a,s,d,p){a=null;for(var E=s,S=!1;E!==null;){if(!S){if((E.flags&524288)!==0)S=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var I=E.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var O=E.type;ir(E.pendingProps.value,I.value)||(a!==null?a.push(O):a=[O])}}else if(E===Ne.current){if(I=E.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(a!==null?a.push(Yl):a=[Yl])}E=E.return}a!==null&&Sp(s,a,d,p),s.flags|=262144}function Pd(a){for(a=a.firstContext;a!==null;){if(!ir(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Po(a){No=a,Vi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function gn(a){return fy(No,a)}function Od(a,s){return No===null&&Po(a),fy(a,s)}function fy(a,s){var d=s._currentValue;if(s={context:s,memoizedValue:d,next:null},Vi===null){if(a===null)throw Error(r(308));Vi=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Vi=Vi.next=s;return d}var dI=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(d,p){a.push(p)}};this.abort=function(){s.aborted=!0,a.forEach(function(d){return d()})}},hI=e.unstable_scheduleCallback,fI=e.unstable_NormalPriority,Xt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ap(){return{controller:new dI,data:new Map,refCount:0}}function Cl(a){a.refCount--,a.refCount===0&&hI(fI,function(){a.controller.abort()})}var Sl=null,wp=0,Ns=0,Ps=null;function pI(a,s){if(Sl===null){var d=Sl=[];wp=0,Ns=Ig(),Ps={status:"pending",value:void 0,then:function(p){d.push(p)}}}return wp++,s.then(py,py),s}function py(){if(--wp===0&&Sl!==null){Ps!==null&&(Ps.status="fulfilled");var a=Sl;Sl=null,Ns=0,Ps=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function gI(a,s){var d=[],p={status:"pending",value:null,reason:null,then:function(E){d.push(E)}};return a.then(function(){p.status="fulfilled",p.value=s;for(var E=0;E<d.length;E++)(0,d[E])(s)},function(E){for(p.status="rejected",p.reason=E,E=0;E<d.length;E++)(0,d[E])(void 0)}),p}var gy=Y.S;Y.S=function(a,s){q3=tr(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&pI(a,s),gy!==null&&gy(a,s)};var Oo=z(null);function xp(){var a=Oo.current;return a!==null?a:At.pooledCache}function Ld(a,s){s===null?de(Oo,Oo.current):de(Oo,s.pool)}function my(){var a=xp();return a===null?null:{parent:Xt._currentValue,pool:a}}var Os=Error(r(460)),Dp=Error(r(474)),Fd=Error(r(542)),_d={then:function(){}};function vy(a){return a=a.status,a==="fulfilled"||a==="rejected"}function yy(a,s,d){switch(d=a[d],d===void 0?a.push(s):d!==s&&(s.then(Fi,Fi),s=d),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,by(a),a;default:if(typeof s.status=="string")s.then(Fi,Fi);else{if(a=At,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(p){if(s.status==="pending"){var E=s;E.status="fulfilled",E.value=p}},function(p){if(s.status==="pending"){var E=s;E.status="rejected",E.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,by(a),a}throw Fo=s,Os}}function Lo(a){try{var s=a._init;return s(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Fo=d,Os):d}}var Fo=null;function Ey(){if(Fo===null)throw Error(r(459));var a=Fo;return Fo=null,a}function by(a){if(a===Os||a===Fd)throw Error(r(483))}var Ls=null,Al=0;function $d(a){var s=Al;return Al+=1,Ls===null&&(Ls=[]),yy(Ls,a,s)}function wl(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function zd(a,s){throw s.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function Cy(a){function s(Z,H){if(a){var q=Z.deletions;q===null?(Z.deletions=[H],Z.flags|=16):q.push(H)}}function d(Z,H){if(!a)return null;for(;H!==null;)s(Z,H),H=H.sibling;return null}function p(Z){for(var H=new Map;Z!==null;)Z.key!==null?H.set(Z.key,Z):H.set(Z.index,Z),Z=Z.sibling;return H}function E(Z,H){return Z=$i(Z,H),Z.index=0,Z.sibling=null,Z}function S(Z,H,q){return Z.index=q,a?(q=Z.alternate,q!==null?(q=q.index,q<H?(Z.flags|=67108866,H):q):(Z.flags|=67108866,H)):(Z.flags|=1048576,H)}function I(Z){return a&&Z.alternate===null&&(Z.flags|=67108866),Z}function O(Z,H,q,se){return H===null||H.tag!==6?(H=pp(q,Z.mode,se),H.return=Z,H):(H=E(H,q),H.return=Z,H)}function $(Z,H,q,se){var ke=q.type;return ke===C?oe(Z,H,q.props.children,se,q.key):H!==null&&(H.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===P&&Lo(ke)===H.type)?(H=E(H,q.props),wl(H,q),H.return=Z,H):(H=Md(q.type,q.key,q.props,null,Z.mode,se),wl(H,q),H.return=Z,H)}function Q(Z,H,q,se){return H===null||H.tag!==4||H.stateNode.containerInfo!==q.containerInfo||H.stateNode.implementation!==q.implementation?(H=gp(q,Z.mode,se),H.return=Z,H):(H=E(H,q.children||[]),H.return=Z,H)}function oe(Z,H,q,se,ke){return H===null||H.tag!==7?(H=ko(q,Z.mode,se,ke),H.return=Z,H):(H=E(H,q),H.return=Z,H)}function ue(Z,H,q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=pp(""+H,Z.mode,q),H.return=Z,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case y:return q=Md(H.type,H.key,H.props,null,Z.mode,q),wl(q,H),q.return=Z,q;case b:return H=gp(H,Z.mode,q),H.return=Z,H;case P:return H=Lo(H),ue(Z,H,q)}if(Ee(H)||J(H))return H=ko(H,Z.mode,q,null),H.return=Z,H;if(typeof H.then=="function")return ue(Z,$d(H),q);if(H.$$typeof===T)return ue(Z,Od(Z,H),q);zd(Z,H)}return null}function ne(Z,H,q,se){var ke=H!==null?H.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ke!==null?null:O(Z,H,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case y:return q.key===ke?$(Z,H,q,se):null;case b:return q.key===ke?Q(Z,H,q,se):null;case P:return q=Lo(q),ne(Z,H,q,se)}if(Ee(q)||J(q))return ke!==null?null:oe(Z,H,q,se,null);if(typeof q.then=="function")return ne(Z,H,$d(q),se);if(q.$$typeof===T)return ne(Z,H,Od(Z,q),se);zd(Z,q)}return null}function ae(Z,H,q,se,ke){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Z=Z.get(q)||null,O(H,Z,""+se,ke);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case y:return Z=Z.get(se.key===null?q:se.key)||null,$(H,Z,se,ke);case b:return Z=Z.get(se.key===null?q:se.key)||null,Q(H,Z,se,ke);case P:return se=Lo(se),ae(Z,H,q,se,ke)}if(Ee(se)||J(se))return Z=Z.get(q)||null,oe(H,Z,se,ke,null);if(typeof se.then=="function")return ae(Z,H,q,$d(se),ke);if(se.$$typeof===T)return ae(Z,H,q,Od(H,se),ke);zd(H,se)}return null}function we(Z,H,q,se){for(var ke=null,st=null,De=H,Ge=H=0,Qe=null;De!==null&&Ge<q.length;Ge++){De.index>Ge?(Qe=De,De=null):Qe=De.sibling;var ut=ne(Z,De,q[Ge],se);if(ut===null){De===null&&(De=Qe);break}a&&De&&ut.alternate===null&&s(Z,De),H=S(ut,H,Ge),st===null?ke=ut:st.sibling=ut,st=ut,De=Qe}if(Ge===q.length)return d(Z,De),tt&&zi(Z,Ge),ke;if(De===null){for(;Ge<q.length;Ge++)De=ue(Z,q[Ge],se),De!==null&&(H=S(De,H,Ge),st===null?ke=De:st.sibling=De,st=De);return tt&&zi(Z,Ge),ke}for(De=p(De);Ge<q.length;Ge++)Qe=ae(De,Z,Ge,q[Ge],se),Qe!==null&&(a&&Qe.alternate!==null&&De.delete(Qe.key===null?Ge:Qe.key),H=S(Qe,H,Ge),st===null?ke=Qe:st.sibling=Qe,st=Qe);return a&&De.forEach(function(Ka){return s(Z,Ka)}),tt&&zi(Z,Ge),ke}function Le(Z,H,q,se){if(q==null)throw Error(r(151));for(var ke=null,st=null,De=H,Ge=H=0,Qe=null,ut=q.next();De!==null&&!ut.done;Ge++,ut=q.next()){De.index>Ge?(Qe=De,De=null):Qe=De.sibling;var Ka=ne(Z,De,ut.value,se);if(Ka===null){De===null&&(De=Qe);break}a&&De&&Ka.alternate===null&&s(Z,De),H=S(Ka,H,Ge),st===null?ke=Ka:st.sibling=Ka,st=Ka,De=Qe}if(ut.done)return d(Z,De),tt&&zi(Z,Ge),ke;if(De===null){for(;!ut.done;Ge++,ut=q.next())ut=ue(Z,ut.value,se),ut!==null&&(H=S(ut,H,Ge),st===null?ke=ut:st.sibling=ut,st=ut);return tt&&zi(Z,Ge),ke}for(De=p(De);!ut.done;Ge++,ut=q.next())ut=ae(De,Z,Ge,ut.value,se),ut!==null&&(a&&ut.alternate!==null&&De.delete(ut.key===null?Ge:ut.key),H=S(ut,H,Ge),st===null?ke=ut:st.sibling=ut,st=ut);return a&&De.forEach(function(DT){return s(Z,DT)}),tt&&zi(Z,Ge),ke}function Et(Z,H,q,se){if(typeof q=="object"&&q!==null&&q.type===C&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case y:e:{for(var ke=q.key;H!==null;){if(H.key===ke){if(ke=q.type,ke===C){if(H.tag===7){d(Z,H.sibling),se=E(H,q.props.children),se.return=Z,Z=se;break e}}else if(H.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===P&&Lo(ke)===H.type){d(Z,H.sibling),se=E(H,q.props),wl(se,q),se.return=Z,Z=se;break e}d(Z,H);break}else s(Z,H);H=H.sibling}q.type===C?(se=ko(q.props.children,Z.mode,se,q.key),se.return=Z,Z=se):(se=Md(q.type,q.key,q.props,null,Z.mode,se),wl(se,q),se.return=Z,Z=se)}return I(Z);case b:e:{for(ke=q.key;H!==null;){if(H.key===ke)if(H.tag===4&&H.stateNode.containerInfo===q.containerInfo&&H.stateNode.implementation===q.implementation){d(Z,H.sibling),se=E(H,q.children||[]),se.return=Z,Z=se;break e}else{d(Z,H);break}else s(Z,H);H=H.sibling}se=gp(q,Z.mode,se),se.return=Z,Z=se}return I(Z);case P:return q=Lo(q),Et(Z,H,q,se)}if(Ee(q))return we(Z,H,q,se);if(J(q)){if(ke=J(q),typeof ke!="function")throw Error(r(150));return q=ke.call(q),Le(Z,H,q,se)}if(typeof q.then=="function")return Et(Z,H,$d(q),se);if(q.$$typeof===T)return Et(Z,H,Od(Z,q),se);zd(Z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,H!==null&&H.tag===6?(d(Z,H.sibling),se=E(H,q),se.return=Z,Z=se):(d(Z,H),se=pp(q,Z.mode,se),se.return=Z,Z=se),I(Z)):d(Z,H)}return function(Z,H,q,se){try{Al=0;var ke=Et(Z,H,q,se);return Ls=null,ke}catch(De){if(De===Os||De===Fd)throw De;var st=ar(29,De,null,Z.mode);return st.lanes=se,st.return=Z,st}finally{}}}var _o=Cy(!0),Sy=Cy(!1),Ra=!1;function Ip(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tp(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ba(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ka(a,s,d){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(ct&2)!==0){var E=p.pending;return E===null?s.next=s:(s.next=E.next,E.next=s),p.pending=s,s=kd(a),ay(a,null,d),s}return Bd(a,p,s,d),kd(a)}function xl(a,s,d){if(s=s.updateQueue,s!==null&&(s=s.shared,(d&4194048)!==0)){var p=s.lanes;p&=a.pendingLanes,d|=p,s.lanes=d,fv(a,d)}}function Rp(a,s){var d=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var E=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var I={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?E=S=I:S=S.next=I,d=d.next}while(d!==null);S===null?E=S=s:S=S.next=s}else E=S=s;d={baseState:p.baseState,firstBaseUpdate:E,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=s:a.next=s,d.lastBaseUpdate=s}var Bp=!1;function Dl(){if(Bp){var a=Ps;if(a!==null)throw a}}function Il(a,s,d,p){Bp=!1;var E=a.updateQueue;Ra=!1;var S=E.firstBaseUpdate,I=E.lastBaseUpdate,O=E.shared.pending;if(O!==null){E.shared.pending=null;var $=O,Q=$.next;$.next=null,I===null?S=Q:I.next=Q,I=$;var oe=a.alternate;oe!==null&&(oe=oe.updateQueue,O=oe.lastBaseUpdate,O!==I&&(O===null?oe.firstBaseUpdate=Q:O.next=Q,oe.lastBaseUpdate=$))}if(S!==null){var ue=E.baseState;I=0,oe=Q=$=null,O=S;do{var ne=O.lane&-536870913,ae=ne!==O.lane;if(ae?(qe&ne)===ne:(p&ne)===ne){ne!==0&&ne===Ns&&(Bp=!0),oe!==null&&(oe=oe.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var we=a,Le=O;ne=s;var Et=d;switch(Le.tag){case 1:if(we=Le.payload,typeof we=="function"){ue=we.call(Et,ue,ne);break e}ue=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Le.payload,ne=typeof we=="function"?we.call(Et,ue,ne):we,ne==null)break e;ue=m({},ue,ne);break e;case 2:Ra=!0}}ne=O.callback,ne!==null&&(a.flags|=64,ae&&(a.flags|=8192),ae=E.callbacks,ae===null?E.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},oe===null?(Q=oe=ae,$=ue):oe=oe.next=ae,I|=ne;if(O=O.next,O===null){if(O=E.shared.pending,O===null)break;ae=O,O=ae.next,ae.next=null,E.lastBaseUpdate=ae,E.shared.pending=null}}while(!0);oe===null&&($=ue),E.baseState=$,E.firstBaseUpdate=Q,E.lastBaseUpdate=oe,S===null&&(E.shared.lanes=0),La|=I,a.lanes=I,a.memoizedState=ue}}function Ay(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function wy(a,s){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)Ay(d[a],s)}var Fs=z(null),Vd=z(0);function xy(a,s){a=Ji,de(Vd,a),de(Fs,s),Ji=a|s.baseLanes}function kp(){de(Vd,Ji),de(Fs,Fs.current)}function Mp(){Ji=Vd.current,ee(Fs),ee(Vd)}var or=z(null),Ir=null;function Ma(a){var s=a.alternate;de(jt,jt.current&1),de(or,a),Ir===null&&(s===null||Fs.current!==null||s.memoizedState!==null)&&(Ir=a)}function Np(a){de(jt,jt.current),de(or,a),Ir===null&&(Ir=a)}function Dy(a){a.tag===22?(de(jt,jt.current),de(or,a),Ir===null&&(Ir=a)):Na()}function Na(){de(jt,jt.current),de(or,or.current)}function sr(a){ee(or),Ir===a&&(Ir=null),ee(jt)}var jt=z(0);function Ud(a){for(var s=a;s!==null;){if(s.tag===13){var d=s.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||$g(d)||zg(d)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Hi=0,Ue=null,vt=null,Jt=null,Hd=!1,_s=!1,$o=!1,Gd=0,Tl=0,$s=null,mI=0;function Ut(){throw Error(r(321))}function Pp(a,s){if(s===null)return!1;for(var d=0;d<s.length&&d<a.length;d++)if(!ir(a[d],s[d]))return!1;return!0}function Op(a,s,d,p,E,S){return Hi=S,Ue=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=a===null||a.memoizedState===null?l3:Xp,$o=!1,S=d(p,E),$o=!1,_s&&(S=Ty(s,d,p,E)),Iy(a),S}function Iy(a){Y.H=kl;var s=vt!==null&&vt.next!==null;if(Hi=0,Jt=vt=Ue=null,Hd=!1,Tl=0,$s=null,s)throw Error(r(300));a===null||qt||(a=a.dependencies,a!==null&&Pd(a)&&(qt=!0))}function Ty(a,s,d,p){Ue=a;var E=0;do{if(_s&&($s=null),Tl=0,_s=!1,25<=E)throw Error(r(301));if(E+=1,Jt=vt=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}Y.H=c3,S=s(d,p)}while(_s);return S}function vI(){var a=Y.H,s=a.useState()[0];return s=typeof s.then=="function"?Rl(s):s,a=a.useState()[0],(vt!==null?vt.memoizedState:null)!==a&&(Ue.flags|=1024),s}function Lp(){var a=Gd!==0;return Gd=0,a}function Fp(a,s,d){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~d}function _p(a){if(Hd){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Hd=!1}Hi=0,Jt=vt=Ue=null,_s=!1,Tl=Gd=0,$s=null}function kn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Ue.memoizedState=Jt=a:Jt=Jt.next=a,Jt}function Kt(){if(vt===null){var a=Ue.alternate;a=a!==null?a.memoizedState:null}else a=vt.next;var s=Jt===null?Ue.memoizedState:Jt.next;if(s!==null)Jt=s,vt=a;else{if(a===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));vt=a,a={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Jt===null?Ue.memoizedState=Jt=a:Jt=Jt.next=a}return Jt}function jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(a){var s=Tl;return Tl+=1,$s===null&&($s=[]),a=yy($s,a,s),s=Ue,(Jt===null?s.memoizedState:Jt.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?l3:Xp),a}function Kd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Rl(a);if(a.$$typeof===T)return gn(a)}throw Error(r(438,String(a)))}function $p(a){var s=null,d=Ue.updateQueue;if(d!==null&&(s=d.memoCache),s==null){var p=Ue.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(E){return E.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),d===null&&(d=jd(),Ue.updateQueue=d),d.memoCache=s,d=s.data[s.index],d===void 0)for(d=s.data[s.index]=Array(a),p=0;p<a;p++)d[p]=U;return s.index++,d}function Gi(a,s){return typeof s=="function"?s(a):s}function Yd(a){var s=Kt();return zp(s,vt,a)}function zp(a,s,d){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=d;var E=a.baseQueue,S=p.pending;if(S!==null){if(E!==null){var I=E.next;E.next=S.next,S.next=I}s.baseQueue=E=S,p.pending=null}if(S=a.baseState,E===null)a.memoizedState=S;else{s=E.next;var O=I=null,$=null,Q=s,oe=!1;do{var ue=Q.lane&-536870913;if(ue!==Q.lane?(qe&ue)===ue:(Hi&ue)===ue){var ne=Q.revertLane;if(ne===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ue===Ns&&(oe=!0);else if((Hi&ne)===ne){Q=Q.next,ne===Ns&&(oe=!0);continue}else ue={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},$===null?(O=$=ue,I=S):$=$.next=ue,Ue.lanes|=ne,La|=ne;ue=Q.action,$o&&d(S,ue),S=Q.hasEagerState?Q.eagerState:d(S,ue)}else ne={lane:ue,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},$===null?(O=$=ne,I=S):$=$.next=ne,Ue.lanes|=ue,La|=ue;Q=Q.next}while(Q!==null&&Q!==s);if($===null?I=S:$.next=O,!ir(S,a.memoizedState)&&(qt=!0,oe&&(d=Ps,d!==null)))throw d;a.memoizedState=S,a.baseState=I,a.baseQueue=$,p.lastRenderedState=S}return E===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function Vp(a){var s=Kt(),d=s.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var p=d.dispatch,E=d.pending,S=s.memoizedState;if(E!==null){d.pending=null;var I=E=E.next;do S=a(S,I.action),I=I.next;while(I!==E);ir(S,s.memoizedState)||(qt=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),d.lastRenderedState=S}return[S,p]}function Ry(a,s,d){var p=Ue,E=Kt(),S=tt;if(S){if(d===void 0)throw Error(r(407));d=d()}else d=s();var I=!ir((vt||E).memoizedState,d);if(I&&(E.memoizedState=d,qt=!0),E=E.queue,Gp(My.bind(null,p,E,a),[a]),E.getSnapshot!==s||I||Jt!==null&&Jt.memoizedState.tag&1){if(p.flags|=2048,zs(9,{destroy:void 0},ky.bind(null,p,E,d,s),null),At===null)throw Error(r(349));S||(Hi&127)!==0||By(p,s,d)}return d}function By(a,s,d){a.flags|=16384,a={getSnapshot:s,value:d},s=Ue.updateQueue,s===null?(s=jd(),Ue.updateQueue=s,s.stores=[a]):(d=s.stores,d===null?s.stores=[a]:d.push(a))}function ky(a,s,d,p){s.value=d,s.getSnapshot=p,Ny(s)&&Py(a)}function My(a,s,d){return d(function(){Ny(s)&&Py(a)})}function Ny(a){var s=a.getSnapshot;a=a.value;try{var d=s();return!ir(a,d)}catch{return!0}}function Py(a){var s=Bo(a,2);s!==null&&Wn(s,a,2)}function Up(a){var s=kn();if(typeof a=="function"){var d=a;if(a=d(),$o){Sa(!0);try{d()}finally{Sa(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},s}function Oy(a,s,d,p){return a.baseState=d,zp(a,vt,typeof p=="function"?p:Gi)}function yI(a,s,d,p,E){if(Xd(a))throw Error(r(485));if(a=s.action,a!==null){var S={payload:E,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){S.listeners.push(I)}};Y.T!==null?d(!0):S.isTransition=!1,p(S),d=s.pending,d===null?(S.next=s.pending=S,Ly(s,S)):(S.next=d.next,s.pending=d.next=S)}}function Ly(a,s){var d=s.action,p=s.payload,E=a.state;if(s.isTransition){var S=Y.T,I={};Y.T=I;try{var O=d(E,p),$=Y.S;$!==null&&$(I,O),Fy(a,s,O)}catch(Q){Hp(a,s,Q)}finally{S!==null&&I.types!==null&&(S.types=I.types),Y.T=S}}else try{S=d(E,p),Fy(a,s,S)}catch(Q){Hp(a,s,Q)}}function Fy(a,s,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){_y(a,s,p)},function(p){return Hp(a,s,p)}):_y(a,s,d)}function _y(a,s,d){s.status="fulfilled",s.value=d,$y(s),a.state=d,s=a.pending,s!==null&&(d=s.next,d===s?a.pending=null:(d=d.next,s.next=d,Ly(a,d)))}function Hp(a,s,d){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=d,$y(s),s=s.next;while(s!==p)}a.action=null}function $y(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function zy(a,s){return s}function Vy(a,s){if(tt){var d=At.formState;if(d!==null){e:{var p=Ue;if(tt){if(It){t:{for(var E=It,S=Dr;E.nodeType!==8;){if(!S){E=null;break t}if(E=Tr(E.nextSibling),E===null){E=null;break t}}S=E.data,E=S==="F!"||S==="F"?E:null}if(E){It=Tr(E.nextSibling),p=E.data==="F!";break e}}Ia(p)}p=!1}p&&(s=d[0])}}return d=kn(),d.memoizedState=d.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zy,lastRenderedState:s},d.queue=p,d=o3.bind(null,Ue,p),p.dispatch=d,p=Up(!1),S=Zp.bind(null,Ue,!1,p.queue),p=kn(),E={state:s,dispatch:null,action:a,pending:null},p.queue=E,d=yI.bind(null,Ue,E,S,d),E.dispatch=d,p.memoizedState=a,[s,d,!1]}function Uy(a){var s=Kt();return Hy(s,vt,a)}function Hy(a,s,d){if(s=zp(a,s,zy)[0],a=Yd(Gi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=Rl(s)}catch(I){throw I===Os?Fd:I}else p=s;s=Kt();var E=s.queue,S=E.dispatch;return d!==s.memoizedState&&(Ue.flags|=2048,zs(9,{destroy:void 0},EI.bind(null,E,d),null)),[p,S,a]}function EI(a,s){a.action=s}function Gy(a){var s=Kt(),d=vt;if(d!==null)return Hy(s,d,a);Kt(),s=s.memoizedState,d=Kt();var p=d.queue.dispatch;return d.memoizedState=a,[s,p,!1]}function zs(a,s,d,p){return a={tag:a,create:d,deps:p,inst:s,next:null},s=Ue.updateQueue,s===null&&(s=jd(),Ue.updateQueue=s),d=s.lastEffect,d===null?s.lastEffect=a.next=a:(p=d.next,d.next=a,a.next=p,s.lastEffect=a),a}function jy(){return Kt().memoizedState}function Wd(a,s,d,p){var E=kn();Ue.flags|=a,E.memoizedState=zs(1|s,{destroy:void 0},d,p===void 0?null:p)}function Zd(a,s,d,p){var E=Kt();p=p===void 0?null:p;var S=E.memoizedState.inst;vt!==null&&p!==null&&Pp(p,vt.memoizedState.deps)?E.memoizedState=zs(s,S,d,p):(Ue.flags|=a,E.memoizedState=zs(1|s,S,d,p))}function Ky(a,s){Wd(8390656,8,a,s)}function Gp(a,s){Zd(2048,8,a,s)}function bI(a){Ue.flags|=4;var s=Ue.updateQueue;if(s===null)s=jd(),Ue.updateQueue=s,s.events=[a];else{var d=s.events;d===null?s.events=[a]:d.push(a)}}function Yy(a){var s=Kt().memoizedState;return bI({ref:s,nextImpl:a}),function(){if((ct&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Wy(a,s){return Zd(4,2,a,s)}function Zy(a,s){return Zd(4,4,a,s)}function Xy(a,s){if(typeof s=="function"){a=a();var d=s(a);return function(){typeof d=="function"?d():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function Jy(a,s,d){d=d!=null?d.concat([a]):null,Zd(4,4,Xy.bind(null,s,a),d)}function jp(){}function qy(a,s){var d=Kt();s=s===void 0?null:s;var p=d.memoizedState;return s!==null&&Pp(s,p[1])?p[0]:(d.memoizedState=[a,s],a)}function Qy(a,s){var d=Kt();s=s===void 0?null:s;var p=d.memoizedState;if(s!==null&&Pp(s,p[1]))return p[0];if(p=a(),$o){Sa(!0);try{a()}finally{Sa(!1)}}return d.memoizedState=[p,s],p}function Kp(a,s,d){return d===void 0||(Hi&1073741824)!==0&&(qe&261930)===0?a.memoizedState=s:(a.memoizedState=d,a=eE(),Ue.lanes|=a,La|=a,d)}function e3(a,s,d,p){return ir(d,s)?d:Fs.current!==null?(a=Kp(a,d,p),ir(a,s)||(qt=!0),a):(Hi&42)===0||(Hi&1073741824)!==0&&(qe&261930)===0?(qt=!0,a.memoizedState=d):(a=eE(),Ue.lanes|=a,La|=a,s)}function t3(a,s,d,p,E){var S=V.p;V.p=S!==0&&8>S?S:8;var I=Y.T,O={};Y.T=O,Zp(a,!1,s,d);try{var $=E(),Q=Y.S;if(Q!==null&&Q(O,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var oe=gI($,p);Bl(a,s,oe,cr(a))}else Bl(a,s,p,cr(a))}catch(ue){Bl(a,s,{then:function(){},status:"rejected",reason:ue},cr())}finally{V.p=S,I!==null&&O.types!==null&&(I.types=O.types),Y.T=I}}function CI(){}function Yp(a,s,d,p){if(a.tag!==5)throw Error(r(476));var E=n3(a).queue;t3(a,E,s,W,d===null?CI:function(){return r3(a),d(p)})}function n3(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:W},next:null};var d={};return s.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:d},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function r3(a){var s=n3(a);s.next===null&&(s=a.alternate.memoizedState),Bl(a,s.next.queue,{},cr())}function Wp(){return gn(Yl)}function i3(){return Kt().memoizedState}function a3(){return Kt().memoizedState}function SI(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var d=cr();a=Ba(d);var p=ka(s,a,d);p!==null&&(Wn(p,s,d),xl(p,s,d)),s={cache:Ap()},a.payload=s;return}s=s.return}}function AI(a,s,d){var p=cr();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Xd(a)?s3(s,d):(d=hp(a,s,d,p),d!==null&&(Wn(d,a,p),u3(d,s,p)))}function o3(a,s,d){var p=cr();Bl(a,s,d,p)}function Bl(a,s,d,p){var E={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Xd(a))s3(s,E);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var I=s.lastRenderedState,O=S(I,d);if(E.hasEagerState=!0,E.eagerState=O,ir(O,I))return Bd(a,s,E,0),At===null&&Rd(),!1}catch{}finally{}if(d=hp(a,s,E,p),d!==null)return Wn(d,a,p),u3(d,s,p),!0}return!1}function Zp(a,s,d,p){if(p={lane:2,revertLane:Ig(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Xd(a)){if(s)throw Error(r(479))}else s=hp(a,d,p,2),s!==null&&Wn(s,a,2)}function Xd(a){var s=a.alternate;return a===Ue||s!==null&&s===Ue}function s3(a,s){_s=Hd=!0;var d=a.pending;d===null?s.next=s:(s.next=d.next,d.next=s),a.pending=s}function u3(a,s,d){if((d&4194048)!==0){var p=s.lanes;p&=a.pendingLanes,d|=p,s.lanes=d,fv(a,d)}}var kl={readContext:gn,use:Kd,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};kl.useEffectEvent=Ut;var l3={readContext:gn,use:Kd,useCallback:function(a,s){return kn().memoizedState=[a,s===void 0?null:s],a},useContext:gn,useEffect:Ky,useImperativeHandle:function(a,s,d){d=d!=null?d.concat([a]):null,Wd(4194308,4,Xy.bind(null,s,a),d)},useLayoutEffect:function(a,s){return Wd(4194308,4,a,s)},useInsertionEffect:function(a,s){Wd(4,2,a,s)},useMemo:function(a,s){var d=kn();s=s===void 0?null:s;var p=a();if($o){Sa(!0);try{a()}finally{Sa(!1)}}return d.memoizedState=[p,s],p},useReducer:function(a,s,d){var p=kn();if(d!==void 0){var E=d(s);if($o){Sa(!0);try{d(s)}finally{Sa(!1)}}}else E=s;return p.memoizedState=p.baseState=E,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:E},p.queue=a,a=a.dispatch=AI.bind(null,Ue,a),[p.memoizedState,a]},useRef:function(a){var s=kn();return a={current:a},s.memoizedState=a},useState:function(a){a=Up(a);var s=a.queue,d=o3.bind(null,Ue,s);return s.dispatch=d,[a.memoizedState,d]},useDebugValue:jp,useDeferredValue:function(a,s){var d=kn();return Kp(d,a,s)},useTransition:function(){var a=Up(!1);return a=t3.bind(null,Ue,a.queue,!0,!1),kn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,d){var p=Ue,E=kn();if(tt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=s(),At===null)throw Error(r(349));(qe&127)!==0||By(p,s,d)}E.memoizedState=d;var S={value:d,getSnapshot:s};return E.queue=S,Ky(My.bind(null,p,S,a),[a]),p.flags|=2048,zs(9,{destroy:void 0},ky.bind(null,p,S,d,s),null),d},useId:function(){var a=kn(),s=At.identifierPrefix;if(tt){var d=gi,p=pi;d=(p&~(1<<32-rr(p)-1)).toString(32)+d,s="_"+s+"R_"+d,d=Gd++,0<d&&(s+="H"+d.toString(32)),s+="_"}else d=mI++,s="_"+s+"r_"+d.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:Wp,useFormState:Vy,useActionState:Vy,useOptimistic:function(a){var s=kn();s.memoizedState=s.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=d,s=Zp.bind(null,Ue,!0,d),d.dispatch=s,[a,s]},useMemoCache:$p,useCacheRefresh:function(){return kn().memoizedState=SI.bind(null,Ue)},useEffectEvent:function(a){var s=kn(),d={impl:a};return s.memoizedState=d,function(){if((ct&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Xp={readContext:gn,use:Kd,useCallback:qy,useContext:gn,useEffect:Gp,useImperativeHandle:Jy,useInsertionEffect:Wy,useLayoutEffect:Zy,useMemo:Qy,useReducer:Yd,useRef:jy,useState:function(){return Yd(Gi)},useDebugValue:jp,useDeferredValue:function(a,s){var d=Kt();return e3(d,vt.memoizedState,a,s)},useTransition:function(){var a=Yd(Gi)[0],s=Kt().memoizedState;return[typeof a=="boolean"?a:Rl(a),s]},useSyncExternalStore:Ry,useId:i3,useHostTransitionStatus:Wp,useFormState:Uy,useActionState:Uy,useOptimistic:function(a,s){var d=Kt();return Oy(d,vt,a,s)},useMemoCache:$p,useCacheRefresh:a3};Xp.useEffectEvent=Yy;var c3={readContext:gn,use:Kd,useCallback:qy,useContext:gn,useEffect:Gp,useImperativeHandle:Jy,useInsertionEffect:Wy,useLayoutEffect:Zy,useMemo:Qy,useReducer:Vp,useRef:jy,useState:function(){return Vp(Gi)},useDebugValue:jp,useDeferredValue:function(a,s){var d=Kt();return vt===null?Kp(d,a,s):e3(d,vt.memoizedState,a,s)},useTransition:function(){var a=Vp(Gi)[0],s=Kt().memoizedState;return[typeof a=="boolean"?a:Rl(a),s]},useSyncExternalStore:Ry,useId:i3,useHostTransitionStatus:Wp,useFormState:Gy,useActionState:Gy,useOptimistic:function(a,s){var d=Kt();return vt!==null?Oy(d,vt,a,s):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:$p,useCacheRefresh:a3};c3.useEffectEvent=Yy;function Jp(a,s,d,p){s=a.memoizedState,d=d(p,s),d=d==null?s:m({},s,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var qp={enqueueSetState:function(a,s,d){a=a._reactInternals;var p=cr(),E=Ba(p);E.payload=s,d!=null&&(E.callback=d),s=ka(a,E,p),s!==null&&(Wn(s,a,p),xl(s,a,p))},enqueueReplaceState:function(a,s,d){a=a._reactInternals;var p=cr(),E=Ba(p);E.tag=1,E.payload=s,d!=null&&(E.callback=d),s=ka(a,E,p),s!==null&&(Wn(s,a,p),xl(s,a,p))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var d=cr(),p=Ba(d);p.tag=2,s!=null&&(p.callback=s),s=ka(a,p,d),s!==null&&(Wn(s,a,d),xl(s,a,d))}};function d3(a,s,d,p,E,S,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,S,I):s.prototype&&s.prototype.isPureReactComponent?!vl(d,p)||!vl(E,S):!0}function h3(a,s,d,p){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(d,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(d,p),s.state!==a&&qp.enqueueReplaceState(s,s.state,null)}function zo(a,s){var d=s;if("ref"in s){d={};for(var p in s)p!=="ref"&&(d[p]=s[p])}if(a=a.defaultProps){d===s&&(d=m({},d));for(var E in a)d[E]===void 0&&(d[E]=a[E])}return d}function f3(a){Td(a)}function p3(a){console.error(a)}function g3(a){Td(a)}function Jd(a,s){try{var d=a.onUncaughtError;d(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function m3(a,s,d){try{var p=a.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function Qp(a,s,d){return d=Ba(d),d.tag=3,d.payload={element:null},d.callback=function(){Jd(a,s)},d}function v3(a){return a=Ba(a),a.tag=3,a}function y3(a,s,d,p){var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var S=p.value;a.payload=function(){return E(S)},a.callback=function(){m3(s,d,p)}}var I=d.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){m3(s,d,p),typeof E!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var O=p.stack;this.componentDidCatch(p.value,{componentStack:O!==null?O:""})})}function wI(a,s,d,p,E){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=d.alternate,s!==null&&Ms(s,d,E,!0),d=or.current,d!==null){switch(d.tag){case 31:case 13:return Ir===null?l0():d.alternate===null&&Ht===0&&(Ht=3),d.flags&=-257,d.flags|=65536,d.lanes=E,p===_d?d.flags|=16384:(s=d.updateQueue,s===null?d.updateQueue=new Set([p]):s.add(p),wg(a,p,E)),!1;case 22:return d.flags|=65536,p===_d?d.flags|=16384:(s=d.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=s):(d=s.retryQueue,d===null?s.retryQueue=new Set([p]):d.add(p)),wg(a,p,E)),!1}throw Error(r(435,d.tag))}return wg(a,p,E),l0(),!1}if(tt)return s=or.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=E,p!==yp&&(a=Error(r(422),{cause:p}),bl(Ar(a,d)))):(p!==yp&&(s=Error(r(423),{cause:p}),bl(Ar(s,d))),a=a.current.alternate,a.flags|=65536,E&=-E,a.lanes|=E,p=Ar(p,d),E=Qp(a.stateNode,p,E),Rp(a,E),Ht!==4&&(Ht=2)),!1;var S=Error(r(520),{cause:p});if(S=Ar(S,d),$l===null?$l=[S]:$l.push(S),Ht!==4&&(Ht=2),s===null)return!0;p=Ar(p,d),d=s;do{switch(d.tag){case 3:return d.flags|=65536,a=E&-E,d.lanes|=a,a=Qp(d.stateNode,p,a),Rp(d,a),!1;case 1:if(s=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Fa===null||!Fa.has(S))))return d.flags|=65536,E&=-E,d.lanes|=E,E=v3(E),y3(E,a,d,p),Rp(d,E),!1}d=d.return}while(d!==null);return!1}var eg=Error(r(461)),qt=!1;function mn(a,s,d,p){s.child=a===null?Sy(s,null,d,p):_o(s,a.child,d,p)}function E3(a,s,d,p,E){d=d.render;var S=s.ref;if("ref"in p){var I={};for(var O in p)O!=="ref"&&(I[O]=p[O])}else I=p;return Po(s),p=Op(a,s,d,I,S,E),O=Lp(),a!==null&&!qt?(Fp(a,s,E),ji(a,s,E)):(tt&&O&&mp(s),s.flags|=1,mn(a,s,p,E),s.child)}function b3(a,s,d,p,E){if(a===null){var S=d.type;return typeof S=="function"&&!fp(S)&&S.defaultProps===void 0&&d.compare===null?(s.tag=15,s.type=S,C3(a,s,S,p,E)):(a=Md(d.type,null,p,s,s.mode,E),a.ref=s.ref,a.return=s,s.child=a)}if(S=a.child,!ug(a,E)){var I=S.memoizedProps;if(d=d.compare,d=d!==null?d:vl,d(I,p)&&a.ref===s.ref)return ji(a,s,E)}return s.flags|=1,a=$i(S,p),a.ref=s.ref,a.return=s,s.child=a}function C3(a,s,d,p,E){if(a!==null){var S=a.memoizedProps;if(vl(S,p)&&a.ref===s.ref)if(qt=!1,s.pendingProps=p=S,ug(a,E))(a.flags&131072)!==0&&(qt=!0);else return s.lanes=a.lanes,ji(a,s,E)}return tg(a,s,d,p,E)}function S3(a,s,d,p){var E=p.children,S=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(S=S!==null?S.baseLanes|d:d,a!==null){for(p=s.child=a.child,E=0;p!==null;)E=E|p.lanes|p.childLanes,p=p.sibling;p=E&~S}else p=0,s.child=null;return A3(a,s,S,d,p)}if((d&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ld(s,S!==null?S.cachePool:null),S!==null?xy(s,S):kp(),Dy(s);else return p=s.lanes=536870912,A3(a,s,S!==null?S.baseLanes|d:d,d,p)}else S!==null?(Ld(s,S.cachePool),xy(s,S),Na(),s.memoizedState=null):(a!==null&&Ld(s,null),kp(),Na());return mn(a,s,E,d),s.child}function Ml(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function A3(a,s,d,p,E){var S=xp();return S=S===null?null:{parent:Xt._currentValue,pool:S},s.memoizedState={baseLanes:d,cachePool:S},a!==null&&Ld(s,null),kp(),Dy(s),a!==null&&Ms(a,s,p,!0),s.childLanes=E,null}function qd(a,s){return s=e0({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function w3(a,s,d){return _o(s,a.child,null,d),a=qd(s,s.pendingProps),a.flags|=2,sr(s),s.memoizedState=null,a}function xI(a,s,d){var p=s.pendingProps,E=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(tt){if(p.mode==="hidden")return a=qd(s,p),s.lanes=536870912,Ml(null,a);if(Np(s),(a=It)?(a=LE(a,Dr),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:xa!==null?{id:pi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},d=sy(a),d.return=s,s.child=d,pn=s,It=null)):a=null,a===null)throw Ia(s);return s.lanes=536870912,null}return qd(s,p)}var S=a.memoizedState;if(S!==null){var I=S.dehydrated;if(Np(s),E)if(s.flags&256)s.flags&=-257,s=w3(a,s,d);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(qt||Ms(a,s,d,!1),E=(d&a.childLanes)!==0,qt||E){if(p=At,p!==null&&(I=pv(p,d),I!==0&&I!==S.retryLane))throw S.retryLane=I,Bo(a,I),Wn(p,a,I),eg;l0(),s=w3(a,s,d)}else a=S.treeContext,It=Tr(I.nextSibling),pn=s,tt=!0,Da=null,Dr=!1,a!==null&&cy(s,a),s=qd(s,p),s.flags|=4096;return s}return a=$i(a.child,{mode:p.mode,children:p.children}),a.ref=s.ref,s.child=a,a.return=s,a}function Qd(a,s){var d=s.ref;if(d===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(s.flags|=4194816)}}function tg(a,s,d,p,E){return Po(s),d=Op(a,s,d,p,void 0,E),p=Lp(),a!==null&&!qt?(Fp(a,s,E),ji(a,s,E)):(tt&&p&&mp(s),s.flags|=1,mn(a,s,d,E),s.child)}function x3(a,s,d,p,E,S){return Po(s),s.updateQueue=null,d=Ty(s,p,d,E),Iy(a),p=Lp(),a!==null&&!qt?(Fp(a,s,S),ji(a,s,S)):(tt&&p&&mp(s),s.flags|=1,mn(a,s,d,S),s.child)}function D3(a,s,d,p,E){if(Po(s),s.stateNode===null){var S=Ts,I=d.contextType;typeof I=="object"&&I!==null&&(S=gn(I)),S=new d(p,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=qp,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=p,S.state=s.memoizedState,S.refs={},Ip(s),I=d.contextType,S.context=typeof I=="object"&&I!==null?gn(I):Ts,S.state=s.memoizedState,I=d.getDerivedStateFromProps,typeof I=="function"&&(Jp(s,d,I,p),S.state=s.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(I=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),I!==S.state&&qp.enqueueReplaceState(S,S.state,null),Il(s,p,S,E),Dl(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(a===null){S=s.stateNode;var O=s.memoizedProps,$=zo(d,O);S.props=$;var Q=S.context,oe=d.contextType;I=Ts,typeof oe=="object"&&oe!==null&&(I=gn(oe));var ue=d.getDerivedStateFromProps;oe=typeof ue=="function"||typeof S.getSnapshotBeforeUpdate=="function",O=s.pendingProps!==O,oe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O||Q!==I)&&h3(s,S,p,I),Ra=!1;var ne=s.memoizedState;S.state=ne,Il(s,p,S,E),Dl(),Q=s.memoizedState,O||ne!==Q||Ra?(typeof ue=="function"&&(Jp(s,d,ue,p),Q=s.memoizedState),($=Ra||d3(s,d,$,p,ne,Q,I))?(oe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=Q),S.props=p,S.state=Q,S.context=I,p=$):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{S=s.stateNode,Tp(a,s),I=s.memoizedProps,oe=zo(d,I),S.props=oe,ue=s.pendingProps,ne=S.context,Q=d.contextType,$=Ts,typeof Q=="object"&&Q!==null&&($=gn(Q)),O=d.getDerivedStateFromProps,(Q=typeof O=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(I!==ue||ne!==$)&&h3(s,S,p,$),Ra=!1,ne=s.memoizedState,S.state=ne,Il(s,p,S,E),Dl();var ae=s.memoizedState;I!==ue||ne!==ae||Ra||a!==null&&a.dependencies!==null&&Pd(a.dependencies)?(typeof O=="function"&&(Jp(s,d,O,p),ae=s.memoizedState),(oe=Ra||d3(s,d,oe,p,ne,ae,$)||a!==null&&a.dependencies!==null&&Pd(a.dependencies))?(Q||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,ae,$),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,ae,$)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||I===a.memoizedProps&&ne===a.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ne===a.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=ae),S.props=p,S.state=ae,S.context=$,p=oe):(typeof S.componentDidUpdate!="function"||I===a.memoizedProps&&ne===a.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ne===a.memoizedState||(s.flags|=1024),p=!1)}return S=p,Qd(a,s),p=(s.flags&128)!==0,S||p?(S=s.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,a!==null&&p?(s.child=_o(s,a.child,null,E),s.child=_o(s,null,d,E)):mn(a,s,d,E),s.memoizedState=S.state,a=s.child):a=ji(a,s,E),a}function I3(a,s,d,p){return Mo(),s.flags|=256,mn(a,s,d,p),s.child}var ng={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rg(a){return{baseLanes:a,cachePool:my()}}function ig(a,s,d){return a=a!==null?a.childLanes&~d:0,s&&(a|=lr),a}function T3(a,s,d){var p=s.pendingProps,E=!1,S=(s.flags&128)!==0,I;if((I=S)||(I=a!==null&&a.memoizedState===null?!1:(jt.current&2)!==0),I&&(E=!0,s.flags&=-129),I=(s.flags&32)!==0,s.flags&=-33,a===null){if(tt){if(E?Ma(s):Na(),(a=It)?(a=LE(a,Dr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:xa!==null?{id:pi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},d=sy(a),d.return=s,s.child=d,pn=s,It=null)):a=null,a===null)throw Ia(s);return zg(a)?s.lanes=32:s.lanes=536870912,null}var O=p.children;return p=p.fallback,E?(Na(),E=s.mode,O=e0({mode:"hidden",children:O},E),p=ko(p,E,d,null),O.return=s,p.return=s,O.sibling=p,s.child=O,p=s.child,p.memoizedState=rg(d),p.childLanes=ig(a,I,d),s.memoizedState=ng,Ml(null,p)):(Ma(s),ag(s,O))}var $=a.memoizedState;if($!==null&&(O=$.dehydrated,O!==null)){if(S)s.flags&256?(Ma(s),s.flags&=-257,s=og(a,s,d)):s.memoizedState!==null?(Na(),s.child=a.child,s.flags|=128,s=null):(Na(),O=p.fallback,E=s.mode,p=e0({mode:"visible",children:p.children},E),O=ko(O,E,d,null),O.flags|=2,p.return=s,O.return=s,p.sibling=O,s.child=p,_o(s,a.child,null,d),p=s.child,p.memoizedState=rg(d),p.childLanes=ig(a,I,d),s.memoizedState=ng,s=Ml(null,p));else if(Ma(s),zg(O)){if(I=O.nextSibling&&O.nextSibling.dataset,I)var Q=I.dgst;I=Q,p=Error(r(419)),p.stack="",p.digest=I,bl({value:p,source:null,stack:null}),s=og(a,s,d)}else if(qt||Ms(a,s,d,!1),I=(d&a.childLanes)!==0,qt||I){if(I=At,I!==null&&(p=pv(I,d),p!==0&&p!==$.retryLane))throw $.retryLane=p,Bo(a,p),Wn(I,a,p),eg;$g(O)||l0(),s=og(a,s,d)}else $g(O)?(s.flags|=192,s.child=a.child,s=null):(a=$.treeContext,It=Tr(O.nextSibling),pn=s,tt=!0,Da=null,Dr=!1,a!==null&&cy(s,a),s=ag(s,p.children),s.flags|=4096);return s}return E?(Na(),O=p.fallback,E=s.mode,$=a.child,Q=$.sibling,p=$i($,{mode:"hidden",children:p.children}),p.subtreeFlags=$.subtreeFlags&65011712,Q!==null?O=$i(Q,O):(O=ko(O,E,d,null),O.flags|=2),O.return=s,p.return=s,p.sibling=O,s.child=p,Ml(null,p),p=s.child,O=a.child.memoizedState,O===null?O=rg(d):(E=O.cachePool,E!==null?($=Xt._currentValue,E=E.parent!==$?{parent:$,pool:$}:E):E=my(),O={baseLanes:O.baseLanes|d,cachePool:E}),p.memoizedState=O,p.childLanes=ig(a,I,d),s.memoizedState=ng,Ml(a.child,p)):(Ma(s),d=a.child,a=d.sibling,d=$i(d,{mode:"visible",children:p.children}),d.return=s,d.sibling=null,a!==null&&(I=s.deletions,I===null?(s.deletions=[a],s.flags|=16):I.push(a)),s.child=d,s.memoizedState=null,d)}function ag(a,s){return s=e0({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function e0(a,s){return a=ar(22,a,null,s),a.lanes=0,a}function og(a,s,d){return _o(s,a.child,null,d),a=ag(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function R3(a,s,d){a.lanes|=s;var p=a.alternate;p!==null&&(p.lanes|=s),Cp(a.return,s,d)}function sg(a,s,d,p,E,S){var I=a.memoizedState;I===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:E,treeForkCount:S}:(I.isBackwards=s,I.rendering=null,I.renderingStartTime=0,I.last=p,I.tail=d,I.tailMode=E,I.treeForkCount=S)}function B3(a,s,d){var p=s.pendingProps,E=p.revealOrder,S=p.tail;p=p.children;var I=jt.current,O=(I&2)!==0;if(O?(I=I&1|2,s.flags|=128):I&=1,de(jt,I),mn(a,s,p,d),p=tt?El:0,!O&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&R3(a,d,s);else if(a.tag===19)R3(a,d,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(E){case"forwards":for(d=s.child,E=null;d!==null;)a=d.alternate,a!==null&&Ud(a)===null&&(E=d),d=d.sibling;d=E,d===null?(E=s.child,s.child=null):(E=d.sibling,d.sibling=null),sg(s,!1,E,d,S,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,E=s.child,s.child=null;E!==null;){if(a=E.alternate,a!==null&&Ud(a)===null){s.child=E;break}a=E.sibling,E.sibling=d,d=E,E=a}sg(s,!0,d,null,S,p);break;case"together":sg(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function ji(a,s,d){if(a!==null&&(s.dependencies=a.dependencies),La|=s.lanes,(d&s.childLanes)===0)if(a!==null){if(Ms(a,s,d,!1),(d&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,d=$i(a,a.pendingProps),s.child=d,d.return=s;a.sibling!==null;)a=a.sibling,d=d.sibling=$i(a,a.pendingProps),d.return=s;d.sibling=null}return s.child}function ug(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Pd(a)))}function DI(a,s,d){switch(s.tag){case 3:He(s,s.stateNode.containerInfo),Ta(s,Xt,a.memoizedState.cache),Mo();break;case 27:case 5:Zt(s);break;case 4:He(s,s.stateNode.containerInfo);break;case 10:Ta(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Np(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(Ma(s),s.flags|=128,null):(d&s.child.childLanes)!==0?T3(a,s,d):(Ma(s),a=ji(a,s,d),a!==null?a.sibling:null);Ma(s);break;case 19:var E=(a.flags&128)!==0;if(p=(d&s.childLanes)!==0,p||(Ms(a,s,d,!1),p=(d&s.childLanes)!==0),E){if(p)return B3(a,s,d);s.flags|=128}if(E=s.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),de(jt,jt.current),p)break;return null;case 22:return s.lanes=0,S3(a,s,d,s.pendingProps);case 24:Ta(s,Xt,a.memoizedState.cache)}return ji(a,s,d)}function k3(a,s,d){if(a!==null)if(a.memoizedProps!==s.pendingProps)qt=!0;else{if(!ug(a,d)&&(s.flags&128)===0)return qt=!1,DI(a,s,d);qt=(a.flags&131072)!==0}else qt=!1,tt&&(s.flags&1048576)!==0&&ly(s,El,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(a=Lo(s.elementType),s.type=a,typeof a=="function")fp(a)?(p=zo(a,p),s.tag=1,s=D3(null,s,a,p,d)):(s.tag=0,s=tg(null,s,a,p,d));else{if(a!=null){var E=a.$$typeof;if(E===N){s.tag=11,s=E3(null,s,a,p,d);break e}else if(E===B){s.tag=14,s=b3(null,s,a,p,d);break e}}throw s=fe(a)||a,Error(r(306,s,""))}}return s;case 0:return tg(a,s,s.type,s.pendingProps,d);case 1:return p=s.type,E=zo(p,s.pendingProps),D3(a,s,p,E,d);case 3:e:{if(He(s,s.stateNode.containerInfo),a===null)throw Error(r(387));p=s.pendingProps;var S=s.memoizedState;E=S.element,Tp(a,s),Il(s,p,null,d);var I=s.memoizedState;if(p=I.cache,Ta(s,Xt,p),p!==S.cache&&Sp(s,[Xt],d,!0),Dl(),p=I.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:I.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=I3(a,s,p,d);break e}else if(p!==E){E=Ar(Error(r(424)),s),bl(E),s=I3(a,s,p,d);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(It=Tr(a.firstChild),pn=s,tt=!0,Da=null,Dr=!0,d=Sy(s,null,p,d),s.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Mo(),p===E){s=ji(a,s,d);break e}mn(a,s,p,d)}s=s.child}return s;case 26:return Qd(a,s),a===null?(d=UE(s.type,null,s.pendingProps,null))?s.memoizedState=d:tt||(d=s.type,a=s.pendingProps,p=m0(Ae.current).createElement(d),p[fn]=s,p[Un]=a,vn(p,d,a),ln(p),s.stateNode=p):s.memoizedState=UE(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Zt(s),a===null&&tt&&(p=s.stateNode=$E(s.type,s.pendingProps,Ae.current),pn=s,Dr=!0,E=It,Va(s.type)?(Vg=E,It=Tr(p.firstChild)):It=E),mn(a,s,s.pendingProps.children,d),Qd(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&tt&&((E=p=It)&&(p=nT(p,s.type,s.pendingProps,Dr),p!==null?(s.stateNode=p,pn=s,It=Tr(p.firstChild),Dr=!1,E=!0):E=!1),E||Ia(s)),Zt(s),E=s.type,S=s.pendingProps,I=a!==null?a.memoizedProps:null,p=S.children,Lg(E,S)?p=null:I!==null&&Lg(E,I)&&(s.flags|=32),s.memoizedState!==null&&(E=Op(a,s,vI,null,null,d),Yl._currentValue=E),Qd(a,s),mn(a,s,p,d),s.child;case 6:return a===null&&tt&&((a=d=It)&&(d=rT(d,s.pendingProps,Dr),d!==null?(s.stateNode=d,pn=s,It=null,a=!0):a=!1),a||Ia(s)),null;case 13:return T3(a,s,d);case 4:return He(s,s.stateNode.containerInfo),p=s.pendingProps,a===null?s.child=_o(s,null,p,d):mn(a,s,p,d),s.child;case 11:return E3(a,s,s.type,s.pendingProps,d);case 7:return mn(a,s,s.pendingProps,d),s.child;case 8:return mn(a,s,s.pendingProps.children,d),s.child;case 12:return mn(a,s,s.pendingProps.children,d),s.child;case 10:return p=s.pendingProps,Ta(s,s.type,p.value),mn(a,s,p.children,d),s.child;case 9:return E=s.type._context,p=s.pendingProps.children,Po(s),E=gn(E),p=p(E),s.flags|=1,mn(a,s,p,d),s.child;case 14:return b3(a,s,s.type,s.pendingProps,d);case 15:return C3(a,s,s.type,s.pendingProps,d);case 19:return B3(a,s,d);case 31:return xI(a,s,d);case 22:return S3(a,s,d,s.pendingProps);case 24:return Po(s),p=gn(Xt),a===null?(E=xp(),E===null&&(E=At,S=Ap(),E.pooledCache=S,S.refCount++,S!==null&&(E.pooledCacheLanes|=d),E=S),s.memoizedState={parent:p,cache:E},Ip(s),Ta(s,Xt,E)):((a.lanes&d)!==0&&(Tp(a,s),Il(s,null,null,d),Dl()),E=a.memoizedState,S=s.memoizedState,E.parent!==p?(E={parent:p,cache:p},s.memoizedState=E,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=E),Ta(s,Xt,p)):(p=S.cache,Ta(s,Xt,p),p!==E.cache&&Sp(s,[Xt],d,!0))),mn(a,s,s.pendingProps.children,d),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ki(a){a.flags|=4}function lg(a,s,d,p,E){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(E&335544128)===E)if(a.stateNode.complete)a.flags|=8192;else if(iE())a.flags|=8192;else throw Fo=_d,Dp}else a.flags&=-16777217}function M3(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!YE(s))if(iE())a.flags|=8192;else throw Fo=_d,Dp}function t0(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?dv():536870912,a.lanes|=s,Gs|=s)}function Nl(a,s){if(!tt)switch(a.tailMode){case"hidden":s=a.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Tt(a){var s=a.alternate!==null&&a.alternate.child===a.child,d=0,p=0;if(s)for(var E=a.child;E!==null;)d|=E.lanes|E.childLanes,p|=E.subtreeFlags&65011712,p|=E.flags&65011712,E.return=a,E=E.sibling;else for(E=a.child;E!==null;)d|=E.lanes|E.childLanes,p|=E.subtreeFlags,p|=E.flags,E.return=a,E=E.sibling;return a.subtreeFlags|=p,a.childLanes=d,s}function II(a,s,d){var p=s.pendingProps;switch(vp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(s),null;case 1:return Tt(s),null;case 3:return d=s.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),Ui(Xt),rt(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(ks(s)?Ki(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ep())),Tt(s),null;case 26:var E=s.type,S=s.memoizedState;return a===null?(Ki(s),S!==null?(Tt(s),M3(s,S)):(Tt(s),lg(s,E,null,p,d))):S?S!==a.memoizedState?(Ki(s),Tt(s),M3(s,S)):(Tt(s),s.flags&=-16777217):(a=a.memoizedProps,a!==p&&Ki(s),Tt(s),lg(s,E,a,p,d)),null;case 27:if(Bn(s),d=Ae.current,E=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&Ki(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return Tt(s),null}a=me.current,ks(s)?dy(s):(a=$E(E,p,d),s.stateNode=a,Ki(s))}return Tt(s),null;case 5:if(Bn(s),E=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&Ki(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return Tt(s),null}if(S=me.current,ks(s))dy(s);else{var I=m0(Ae.current);switch(S){case 1:S=I.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:S=I.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":S=I.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":S=I.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":S=I.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?I.createElement("select",{is:p.is}):I.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?I.createElement(E,{is:p.is}):I.createElement(E)}}S[fn]=s,S[Un]=p;e:for(I=s.child;I!==null;){if(I.tag===5||I.tag===6)S.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===s)break e;for(;I.sibling===null;){if(I.return===null||I.return===s)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}s.stateNode=S;e:switch(vn(S,E,p),E){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ki(s)}}return Tt(s),lg(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,d),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==p&&Ki(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(a=Ae.current,ks(s)){if(a=s.stateNode,d=s.memoizedProps,p=null,E=pn,E!==null)switch(E.tag){case 27:case 5:p=E.memoizedProps}a[fn]=s,a=!!(a.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||TE(a.nodeValue,d)),a||Ia(s,!0)}else a=m0(a).createTextNode(p),a[fn]=s,s.stateNode=a}return Tt(s),null;case 31:if(d=s.memoizedState,a===null||a.memoizedState!==null){if(p=ks(s),d!==null){if(a===null){if(!p)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[fn]=s}else Mo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Tt(s),a=!1}else d=Ep(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return s.flags&256?(sr(s),s):(sr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Tt(s),null;case 13:if(p=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(E=ks(s),p!==null&&p.dehydrated!==null){if(a===null){if(!E)throw Error(r(318));if(E=s.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[fn]=s}else Mo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Tt(s),E=!1}else E=Ep(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=E),E=!0;if(!E)return s.flags&256?(sr(s),s):(sr(s),null)}return sr(s),(s.flags&128)!==0?(s.lanes=d,s):(d=p!==null,a=a!==null&&a.memoizedState!==null,d&&(p=s.child,E=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(E=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==E&&(p.flags|=2048)),d!==a&&d&&(s.child.flags|=8192),t0(s,s.updateQueue),Tt(s),null);case 4:return rt(),a===null&&kg(s.stateNode.containerInfo),Tt(s),null;case 10:return Ui(s.type),Tt(s),null;case 19:if(ee(jt),p=s.memoizedState,p===null)return Tt(s),null;if(E=(s.flags&128)!==0,S=p.rendering,S===null)if(E)Nl(p,!1);else{if(Ht!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(S=Ud(a),S!==null){for(s.flags|=128,Nl(p,!1),a=S.updateQueue,s.updateQueue=a,t0(s,a),s.subtreeFlags=0,a=d,d=s.child;d!==null;)oy(d,a),d=d.sibling;return de(jt,jt.current&1|2),tt&&zi(s,p.treeForkCount),s.child}a=a.sibling}p.tail!==null&&tr()>o0&&(s.flags|=128,E=!0,Nl(p,!1),s.lanes=4194304)}else{if(!E)if(a=Ud(S),a!==null){if(s.flags|=128,E=!0,a=a.updateQueue,s.updateQueue=a,t0(s,a),Nl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!tt)return Tt(s),null}else 2*tr()-p.renderingStartTime>o0&&d!==536870912&&(s.flags|=128,E=!0,Nl(p,!1),s.lanes=4194304);p.isBackwards?(S.sibling=s.child,s.child=S):(a=p.last,a!==null?a.sibling=S:s.child=S,p.last=S)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=tr(),a.sibling=null,d=jt.current,de(jt,E?d&1|2:d&1),tt&&zi(s,p.treeForkCount),a):(Tt(s),null);case 22:case 23:return sr(s),Mp(),p=s.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(d&536870912)!==0&&(s.flags&128)===0&&(Tt(s),s.subtreeFlags&6&&(s.flags|=8192)):Tt(s),d=s.updateQueue,d!==null&&t0(s,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==d&&(s.flags|=2048),a!==null&&ee(Oo),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Ui(Xt),Tt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function TI(a,s){switch(vp(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Ui(Xt),rt(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Bn(s),null;case 31:if(s.memoizedState!==null){if(sr(s),s.alternate===null)throw Error(r(340));Mo()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(sr(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Mo()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return ee(jt),null;case 4:return rt(),null;case 10:return Ui(s.type),null;case 22:case 23:return sr(s),Mp(),a!==null&&ee(Oo),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Ui(Xt),null;case 25:return null;default:return null}}function N3(a,s){switch(vp(s),s.tag){case 3:Ui(Xt),rt();break;case 26:case 27:case 5:Bn(s);break;case 4:rt();break;case 31:s.memoizedState!==null&&sr(s);break;case 13:sr(s);break;case 19:ee(jt);break;case 10:Ui(s.type);break;case 22:case 23:sr(s),Mp(),a!==null&&ee(Oo);break;case 24:Ui(Xt)}}function Pl(a,s){try{var d=s.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var E=p.next;d=E;do{if((d.tag&a)===a){p=void 0;var S=d.create,I=d.inst;p=S(),I.destroy=p}d=d.next}while(d!==E)}}catch(O){gt(s,s.return,O)}}function Pa(a,s,d){try{var p=s.updateQueue,E=p!==null?p.lastEffect:null;if(E!==null){var S=E.next;p=S;do{if((p.tag&a)===a){var I=p.inst,O=I.destroy;if(O!==void 0){I.destroy=void 0,E=s;var $=d,Q=O;try{Q()}catch(oe){gt(E,$,oe)}}}p=p.next}while(p!==S)}}catch(oe){gt(s,s.return,oe)}}function P3(a){var s=a.updateQueue;if(s!==null){var d=a.stateNode;try{wy(s,d)}catch(p){gt(a,a.return,p)}}}function O3(a,s,d){d.props=zo(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(p){gt(a,s,p)}}function Ol(a,s){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof d=="function"?a.refCleanup=d(p):d.current=p}}catch(E){gt(a,s,E)}}function mi(a,s){var d=a.ref,p=a.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(E){gt(a,s,E)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(E){gt(a,s,E)}else d.current=null}function L3(a){var s=a.type,d=a.memoizedProps,p=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(E){gt(a,a.return,E)}}function cg(a,s,d){try{var p=a.stateNode;XI(p,a.type,d,s),p[Un]=s}catch(E){gt(a,a.return,E)}}function F3(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Va(a.type)||a.tag===4}function dg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||F3(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Va(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function hg(a,s,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,s):(s=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,s.appendChild(a),d=d._reactRootContainer,d!=null||s.onclick!==null||(s.onclick=Fi));else if(p!==4&&(p===27&&Va(a.type)&&(d=a.stateNode,s=null),a=a.child,a!==null))for(hg(a,s,d),a=a.sibling;a!==null;)hg(a,s,d),a=a.sibling}function n0(a,s,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?d.insertBefore(a,s):d.appendChild(a);else if(p!==4&&(p===27&&Va(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(n0(a,s,d),a=a.sibling;a!==null;)n0(a,s,d),a=a.sibling}function _3(a){var s=a.stateNode,d=a.memoizedProps;try{for(var p=a.type,E=s.attributes;E.length;)s.removeAttributeNode(E[0]);vn(s,p,d),s[fn]=a,s[Un]=d}catch(S){gt(a,a.return,S)}}var Yi=!1,Qt=!1,fg=!1,$3=typeof WeakSet=="function"?WeakSet:Set,cn=null;function RI(a,s){if(a=a.containerInfo,Pg=A0,a=Jv(a),op(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var E=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var I=0,O=-1,$=-1,Q=0,oe=0,ue=a,ne=null;t:for(;;){for(var ae;ue!==d||E!==0&&ue.nodeType!==3||(O=I+E),ue!==S||p!==0&&ue.nodeType!==3||($=I+p),ue.nodeType===3&&(I+=ue.nodeValue.length),(ae=ue.firstChild)!==null;)ne=ue,ue=ae;for(;;){if(ue===a)break t;if(ne===d&&++Q===E&&(O=I),ne===S&&++oe===p&&($=I),(ae=ue.nextSibling)!==null)break;ue=ne,ne=ue.parentNode}ue=ae}d=O===-1||$===-1?null:{start:O,end:$}}else d=null}d=d||{start:0,end:0}}else d=null;for(Og={focusedElem:a,selectionRange:d},A0=!1,cn=s;cn!==null;)if(s=cn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,cn=a;else for(;cn!==null;){switch(s=cn,S=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)E=a[d],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&S!==null){a=void 0,d=s,E=S.memoizedProps,S=S.memoizedState,p=d.stateNode;try{var we=zo(d.type,E);a=p.getSnapshotBeforeUpdate(we,S),p.__reactInternalSnapshotBeforeUpdate=a}catch(Le){gt(d,d.return,Le)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,d=a.nodeType,d===9)_g(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":_g(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,cn=a;break}cn=s.return}}function z3(a,s,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Zi(a,d),p&4&&Pl(5,d);break;case 1:if(Zi(a,d),p&4)if(a=d.stateNode,s===null)try{a.componentDidMount()}catch(I){gt(d,d.return,I)}else{var E=zo(d.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(E,s,a.__reactInternalSnapshotBeforeUpdate)}catch(I){gt(d,d.return,I)}}p&64&&P3(d),p&512&&Ol(d,d.return);break;case 3:if(Zi(a,d),p&64&&(a=d.updateQueue,a!==null)){if(s=null,d.child!==null)switch(d.child.tag){case 27:case 5:s=d.child.stateNode;break;case 1:s=d.child.stateNode}try{wy(a,s)}catch(I){gt(d,d.return,I)}}break;case 27:s===null&&p&4&&_3(d);case 26:case 5:Zi(a,d),s===null&&p&4&&L3(d),p&512&&Ol(d,d.return);break;case 12:Zi(a,d);break;case 31:Zi(a,d),p&4&&H3(a,d);break;case 13:Zi(a,d),p&4&&G3(a,d),p&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=_I.bind(null,d),iT(a,d))));break;case 22:if(p=d.memoizedState!==null||Yi,!p){s=s!==null&&s.memoizedState!==null||Qt,E=Yi;var S=Qt;Yi=p,(Qt=s)&&!S?Xi(a,d,(d.subtreeFlags&8772)!==0):Zi(a,d),Yi=E,Qt=S}break;case 30:break;default:Zi(a,d)}}function V3(a){var s=a.alternate;s!==null&&(a.alternate=null,V3(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Hf(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Mt=null,Gn=!1;function Wi(a,s,d){for(d=d.child;d!==null;)U3(a,s,d),d=d.sibling}function U3(a,s,d){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(al,d)}catch{}switch(d.tag){case 26:Qt||mi(d,s),Wi(a,s,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Qt||mi(d,s);var p=Mt,E=Gn;Va(d.type)&&(Mt=d.stateNode,Gn=!1),Wi(a,s,d),Gl(d.stateNode),Mt=p,Gn=E;break;case 5:Qt||mi(d,s);case 6:if(p=Mt,E=Gn,Mt=null,Wi(a,s,d),Mt=p,Gn=E,Mt!==null)if(Gn)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(d.stateNode)}catch(S){gt(d,s,S)}else try{Mt.removeChild(d.stateNode)}catch(S){gt(d,s,S)}break;case 18:Mt!==null&&(Gn?(a=Mt,PE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),qs(a)):PE(Mt,d.stateNode));break;case 4:p=Mt,E=Gn,Mt=d.stateNode.containerInfo,Gn=!0,Wi(a,s,d),Mt=p,Gn=E;break;case 0:case 11:case 14:case 15:Pa(2,d,s),Qt||Pa(4,d,s),Wi(a,s,d);break;case 1:Qt||(mi(d,s),p=d.stateNode,typeof p.componentWillUnmount=="function"&&O3(d,s,p)),Wi(a,s,d);break;case 21:Wi(a,s,d);break;case 22:Qt=(p=Qt)||d.memoizedState!==null,Wi(a,s,d),Qt=p;break;default:Wi(a,s,d)}}function H3(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{qs(a)}catch(d){gt(s,s.return,d)}}}function G3(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{qs(a)}catch(d){gt(s,s.return,d)}}function BI(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new $3),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new $3),s;default:throw Error(r(435,a.tag))}}function r0(a,s){var d=BI(a);s.forEach(function(p){if(!d.has(p)){d.add(p);var E=$I.bind(null,a,p);p.then(E,E)}})}function jn(a,s){var d=s.deletions;if(d!==null)for(var p=0;p<d.length;p++){var E=d[p],S=a,I=s,O=I;e:for(;O!==null;){switch(O.tag){case 27:if(Va(O.type)){Mt=O.stateNode,Gn=!1;break e}break;case 5:Mt=O.stateNode,Gn=!1;break e;case 3:case 4:Mt=O.stateNode.containerInfo,Gn=!0;break e}O=O.return}if(Mt===null)throw Error(r(160));U3(S,I,E),Mt=null,Gn=!1,S=E.alternate,S!==null&&(S.return=null),E.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)j3(s,a),s=s.sibling}var Yr=null;function j3(a,s){var d=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:jn(s,a),Kn(a),p&4&&(Pa(3,a,a.return),Pl(3,a),Pa(5,a,a.return));break;case 1:jn(s,a),Kn(a),p&512&&(Qt||d===null||mi(d,d.return)),p&64&&Yi&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var E=Yr;if(jn(s,a),Kn(a),p&512&&(Qt||d===null||mi(d,d.return)),p&4){var S=d!==null?d.memoizedState:null;if(p=a.memoizedState,d===null)if(p===null)if(a.stateNode===null){e:{p=a.type,d=a.memoizedProps,E=E.ownerDocument||E;t:switch(p){case"title":S=E.getElementsByTagName("title")[0],(!S||S[ul]||S[fn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=E.createElement(p),E.head.insertBefore(S,E.querySelector("head > title"))),vn(S,p,d),S[fn]=a,ln(S),p=S;break e;case"link":var I=jE("link","href",E).get(p+(d.href||""));if(I){for(var O=0;O<I.length;O++)if(S=I[O],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){I.splice(O,1);break t}}S=E.createElement(p),vn(S,p,d),E.head.appendChild(S);break;case"meta":if(I=jE("meta","content",E).get(p+(d.content||""))){for(O=0;O<I.length;O++)if(S=I[O],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){I.splice(O,1);break t}}S=E.createElement(p),vn(S,p,d),E.head.appendChild(S);break;default:throw Error(r(468,p))}S[fn]=a,ln(S),p=S}a.stateNode=p}else KE(E,a.type,a.stateNode);else a.stateNode=GE(E,p,a.memoizedProps);else S!==p?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,p===null?KE(E,a.type,a.stateNode):GE(E,p,a.memoizedProps)):p===null&&a.stateNode!==null&&cg(a,a.memoizedProps,d.memoizedProps)}break;case 27:jn(s,a),Kn(a),p&512&&(Qt||d===null||mi(d,d.return)),d!==null&&p&4&&cg(a,a.memoizedProps,d.memoizedProps);break;case 5:if(jn(s,a),Kn(a),p&512&&(Qt||d===null||mi(d,d.return)),a.flags&32){E=a.stateNode;try{Cs(E,"")}catch(we){gt(a,a.return,we)}}p&4&&a.stateNode!=null&&(E=a.memoizedProps,cg(a,E,d!==null?d.memoizedProps:E)),p&1024&&(fg=!0);break;case 6:if(jn(s,a),Kn(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,d=a.stateNode;try{d.nodeValue=p}catch(we){gt(a,a.return,we)}}break;case 3:if(E0=null,E=Yr,Yr=v0(s.containerInfo),jn(s,a),Yr=E,Kn(a),p&4&&d!==null&&d.memoizedState.isDehydrated)try{qs(s.containerInfo)}catch(we){gt(a,a.return,we)}fg&&(fg=!1,K3(a));break;case 4:p=Yr,Yr=v0(a.stateNode.containerInfo),jn(s,a),Kn(a),Yr=p;break;case 12:jn(s,a),Kn(a);break;case 31:jn(s,a),Kn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,r0(a,p)));break;case 13:jn(s,a),Kn(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(a0=tr()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,r0(a,p)));break;case 22:E=a.memoizedState!==null;var $=d!==null&&d.memoizedState!==null,Q=Yi,oe=Qt;if(Yi=Q||E,Qt=oe||$,jn(s,a),Qt=oe,Yi=Q,Kn(a),p&8192)e:for(s=a.stateNode,s._visibility=E?s._visibility&-2:s._visibility|1,E&&(d===null||$||Yi||Qt||Vo(a)),d=null,s=a;;){if(s.tag===5||s.tag===26){if(d===null){$=d=s;try{if(S=$.stateNode,E)I=S.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{O=$.stateNode;var ue=$.memoizedProps.style,ne=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;O.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(we){gt($,$.return,we)}}}else if(s.tag===6){if(d===null){$=s;try{$.stateNode.nodeValue=E?"":$.memoizedProps}catch(we){gt($,$.return,we)}}}else if(s.tag===18){if(d===null){$=s;try{var ae=$.stateNode;E?OE(ae,!0):OE($.stateNode,!1)}catch(we){gt($,$.return,we)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;d===s&&(d=null),s=s.return}d===s&&(d=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=a.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,r0(a,d))));break;case 19:jn(s,a),Kn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,r0(a,p)));break;case 30:break;case 21:break;default:jn(s,a),Kn(a)}}function Kn(a){var s=a.flags;if(s&2){try{for(var d,p=a.return;p!==null;){if(F3(p)){d=p;break}p=p.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var E=d.stateNode,S=dg(a);n0(a,S,E);break;case 5:var I=d.stateNode;d.flags&32&&(Cs(I,""),d.flags&=-33);var O=dg(a);n0(a,O,I);break;case 3:case 4:var $=d.stateNode.containerInfo,Q=dg(a);hg(a,Q,$);break;default:throw Error(r(161))}}catch(oe){gt(a,a.return,oe)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function K3(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;K3(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Zi(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)z3(a,s.alternate,s),s=s.sibling}function Vo(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Pa(4,s,s.return),Vo(s);break;case 1:mi(s,s.return);var d=s.stateNode;typeof d.componentWillUnmount=="function"&&O3(s,s.return,d),Vo(s);break;case 27:Gl(s.stateNode);case 26:case 5:mi(s,s.return),Vo(s);break;case 22:s.memoizedState===null&&Vo(s);break;case 30:Vo(s);break;default:Vo(s)}a=a.sibling}}function Xi(a,s,d){for(d=d&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,E=a,S=s,I=S.flags;switch(S.tag){case 0:case 11:case 15:Xi(E,S,d),Pl(4,S);break;case 1:if(Xi(E,S,d),p=S,E=p.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Q){gt(p,p.return,Q)}if(p=S,E=p.updateQueue,E!==null){var O=p.stateNode;try{var $=E.shared.hiddenCallbacks;if($!==null)for(E.shared.hiddenCallbacks=null,E=0;E<$.length;E++)Ay($[E],O)}catch(Q){gt(p,p.return,Q)}}d&&I&64&&P3(S),Ol(S,S.return);break;case 27:_3(S);case 26:case 5:Xi(E,S,d),d&&p===null&&I&4&&L3(S),Ol(S,S.return);break;case 12:Xi(E,S,d);break;case 31:Xi(E,S,d),d&&I&4&&H3(E,S);break;case 13:Xi(E,S,d),d&&I&4&&G3(E,S);break;case 22:S.memoizedState===null&&Xi(E,S,d),Ol(S,S.return);break;case 30:break;default:Xi(E,S,d)}s=s.sibling}}function pg(a,s){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Cl(d))}function gg(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Cl(a))}function Wr(a,s,d,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Y3(a,s,d,p),s=s.sibling}function Y3(a,s,d,p){var E=s.flags;switch(s.tag){case 0:case 11:case 15:Wr(a,s,d,p),E&2048&&Pl(9,s);break;case 1:Wr(a,s,d,p);break;case 3:Wr(a,s,d,p),E&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Cl(a)));break;case 12:if(E&2048){Wr(a,s,d,p),a=s.stateNode;try{var S=s.memoizedProps,I=S.id,O=S.onPostCommit;typeof O=="function"&&O(I,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){gt(s,s.return,$)}}else Wr(a,s,d,p);break;case 31:Wr(a,s,d,p);break;case 13:Wr(a,s,d,p);break;case 23:break;case 22:S=s.stateNode,I=s.alternate,s.memoizedState!==null?S._visibility&2?Wr(a,s,d,p):Ll(a,s):S._visibility&2?Wr(a,s,d,p):(S._visibility|=2,Vs(a,s,d,p,(s.subtreeFlags&10256)!==0||!1)),E&2048&&pg(I,s);break;case 24:Wr(a,s,d,p),E&2048&&gg(s.alternate,s);break;default:Wr(a,s,d,p)}}function Vs(a,s,d,p,E){for(E=E&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var S=a,I=s,O=d,$=p,Q=I.flags;switch(I.tag){case 0:case 11:case 15:Vs(S,I,O,$,E),Pl(8,I);break;case 23:break;case 22:var oe=I.stateNode;I.memoizedState!==null?oe._visibility&2?Vs(S,I,O,$,E):Ll(S,I):(oe._visibility|=2,Vs(S,I,O,$,E)),E&&Q&2048&&pg(I.alternate,I);break;case 24:Vs(S,I,O,$,E),E&&Q&2048&&gg(I.alternate,I);break;default:Vs(S,I,O,$,E)}s=s.sibling}}function Ll(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var d=a,p=s,E=p.flags;switch(p.tag){case 22:Ll(d,p),E&2048&&pg(p.alternate,p);break;case 24:Ll(d,p),E&2048&&gg(p.alternate,p);break;default:Ll(d,p)}s=s.sibling}}var Fl=8192;function Us(a,s,d){if(a.subtreeFlags&Fl)for(a=a.child;a!==null;)W3(a,s,d),a=a.sibling}function W3(a,s,d){switch(a.tag){case 26:Us(a,s,d),a.flags&Fl&&a.memoizedState!==null&&mT(d,Yr,a.memoizedState,a.memoizedProps);break;case 5:Us(a,s,d);break;case 3:case 4:var p=Yr;Yr=v0(a.stateNode.containerInfo),Us(a,s,d),Yr=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Fl,Fl=16777216,Us(a,s,d),Fl=p):Us(a,s,d));break;default:Us(a,s,d)}}function Z3(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function _l(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var p=s[d];cn=p,J3(p,a)}Z3(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)X3(a),a=a.sibling}function X3(a){switch(a.tag){case 0:case 11:case 15:_l(a),a.flags&2048&&Pa(9,a,a.return);break;case 3:_l(a);break;case 12:_l(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,i0(a)):_l(a);break;default:_l(a)}}function i0(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var p=s[d];cn=p,J3(p,a)}Z3(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Pa(8,s,s.return),i0(s);break;case 22:d=s.stateNode,d._visibility&2&&(d._visibility&=-3,i0(s));break;default:i0(s)}a=a.sibling}}function J3(a,s){for(;cn!==null;){var d=cn;switch(d.tag){case 0:case 11:case 15:Pa(8,d,s);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Cl(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,cn=p;else e:for(d=a;cn!==null;){p=cn;var E=p.sibling,S=p.return;if(V3(p),p===d){cn=null;break e}if(E!==null){E.return=S,cn=E;break e}cn=S}}}var kI={getCacheForType:function(a){var s=gn(Xt),d=s.data.get(a);return d===void 0&&(d=a(),s.data.set(a,d)),d},cacheSignal:function(){return gn(Xt).controller.signal}},MI=typeof WeakMap=="function"?WeakMap:Map,ct=0,At=null,Ze=null,qe=0,pt=0,ur=null,Oa=!1,Hs=!1,mg=!1,Ji=0,Ht=0,La=0,Uo=0,vg=0,lr=0,Gs=0,$l=null,Yn=null,yg=!1,a0=0,q3=0,o0=1/0,s0=null,Fa=null,an=0,_a=null,js=null,qi=0,Eg=0,bg=null,Q3=null,zl=0,Cg=null;function cr(){return(ct&2)!==0&&qe!==0?qe&-qe:Y.T!==null?Ig():gv()}function eE(){if(lr===0)if((qe&536870912)===0||tt){var a=gd;gd<<=1,(gd&3932160)===0&&(gd=262144),lr=a}else lr=536870912;return a=or.current,a!==null&&(a.flags|=32),lr}function Wn(a,s,d){(a===At&&(pt===2||pt===9)||a.cancelPendingCommit!==null)&&(Ks(a,0),$a(a,qe,lr,!1)),sl(a,d),((ct&2)===0||a!==At)&&(a===At&&((ct&2)===0&&(Uo|=d),Ht===4&&$a(a,qe,lr,!1)),vi(a))}function tE(a,s,d){if((ct&6)!==0)throw Error(r(327));var p=!d&&(s&127)===0&&(s&a.expiredLanes)===0||ol(a,s),E=p?OI(a,s):Ag(a,s,!0),S=p;do{if(E===0){Hs&&!p&&$a(a,s,0,!1);break}else{if(d=a.current.alternate,S&&!NI(d)){E=Ag(a,s,!1),S=!1;continue}if(E===2){if(S=s,a.errorRecoveryDisabledLanes&S)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){s=I;e:{var O=a;E=$l;var $=O.current.memoizedState.isDehydrated;if($&&(Ks(O,I).flags|=256),I=Ag(O,I,!1),I!==2){if(mg&&!$){O.errorRecoveryDisabledLanes|=S,Uo|=S,E=4;break e}S=Yn,Yn=E,S!==null&&(Yn===null?Yn=S:Yn.push.apply(Yn,S))}E=I}if(S=!1,E!==2)continue}}if(E===1){Ks(a,0),$a(a,s,0,!0);break}e:{switch(p=a,S=E,S){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:$a(p,s,lr,!Oa);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(E=a0+300-tr(),10<E)){if($a(p,s,lr,!Oa),vd(p,0,!0)!==0)break e;qi=s,p.timeoutHandle=ME(nE.bind(null,p,d,Yn,s0,yg,s,lr,Uo,Gs,Oa,S,"Throttled",-0,0),E);break e}nE(p,d,Yn,s0,yg,s,lr,Uo,Gs,Oa,S,null,-0,0)}}break}while(!0);vi(a)}function nE(a,s,d,p,E,S,I,O,$,Q,oe,ue,ne,ae){if(a.timeoutHandle=-1,ue=s.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fi},W3(s,S,ue);var we=(S&62914560)===S?a0-tr():(S&4194048)===S?q3-tr():0;if(we=vT(ue,we),we!==null){qi=S,a.cancelPendingCommit=we(cE.bind(null,a,s,S,d,p,E,I,O,$,oe,ue,null,ne,ae)),$a(a,S,I,!Q);return}}cE(a,s,S,d,p,E,I,O,$)}function NI(a){for(var s=a;;){var d=s.tag;if((d===0||d===11||d===15)&&s.flags&16384&&(d=s.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var E=d[p],S=E.getSnapshot;E=E.value;try{if(!ir(S(),E))return!1}catch{return!1}}if(d=s.child,s.subtreeFlags&16384&&d!==null)d.return=s,s=d;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $a(a,s,d,p){s&=~vg,s&=~Uo,a.suspendedLanes|=s,a.pingedLanes&=~s,p&&(a.warmLanes|=s),p=a.expirationTimes;for(var E=s;0<E;){var S=31-rr(E),I=1<<S;p[S]=-1,E&=~I}d!==0&&hv(a,d,s)}function u0(){return(ct&6)===0?(Vl(0),!1):!0}function Sg(){if(Ze!==null){if(pt===0)var a=Ze.return;else a=Ze,Vi=No=null,_p(a),Ls=null,Al=0,a=Ze;for(;a!==null;)N3(a.alternate,a),a=a.return;Ze=null}}function Ks(a,s){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,QI(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),qi=0,Sg(),At=a,Ze=d=$i(a.current,null),qe=s,pt=0,ur=null,Oa=!1,Hs=ol(a,s),mg=!1,Gs=lr=vg=Uo=La=Ht=0,Yn=$l=null,yg=!1,(s&8)!==0&&(s|=s&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=s;0<p;){var E=31-rr(p),S=1<<E;s|=a[E],p&=~S}return Ji=s,Rd(),d}function rE(a,s){Ue=null,Y.H=kl,s===Os||s===Fd?(s=Ey(),pt=3):s===Dp?(s=Ey(),pt=4):pt=s===eg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ur=s,Ze===null&&(Ht=1,Jd(a,Ar(s,a.current)))}function iE(){var a=or.current;return a===null?!0:(qe&4194048)===qe?Ir===null:(qe&62914560)===qe||(qe&536870912)!==0?a===Ir:!1}function aE(){var a=Y.H;return Y.H=kl,a===null?kl:a}function oE(){var a=Y.A;return Y.A=kI,a}function l0(){Ht=4,Oa||(qe&4194048)!==qe&&or.current!==null||(Hs=!0),(La&134217727)===0&&(Uo&134217727)===0||At===null||$a(At,qe,lr,!1)}function Ag(a,s,d){var p=ct;ct|=2;var E=aE(),S=oE();(At!==a||qe!==s)&&(s0=null,Ks(a,s)),s=!1;var I=Ht;e:do try{if(pt!==0&&Ze!==null){var O=Ze,$=ur;switch(pt){case 8:Sg(),I=6;break e;case 3:case 2:case 9:case 6:or.current===null&&(s=!0);var Q=pt;if(pt=0,ur=null,Ys(a,O,$,Q),d&&Hs){I=0;break e}break;default:Q=pt,pt=0,ur=null,Ys(a,O,$,Q)}}PI(),I=Ht;break}catch(oe){rE(a,oe)}while(!0);return s&&a.shellSuspendCounter++,Vi=No=null,ct=p,Y.H=E,Y.A=S,Ze===null&&(At=null,qe=0,Rd()),I}function PI(){for(;Ze!==null;)sE(Ze)}function OI(a,s){var d=ct;ct|=2;var p=aE(),E=oE();At!==a||qe!==s?(s0=null,o0=tr()+500,Ks(a,s)):Hs=ol(a,s);e:do try{if(pt!==0&&Ze!==null){s=Ze;var S=ur;t:switch(pt){case 1:pt=0,ur=null,Ys(a,s,S,1);break;case 2:case 9:if(vy(S)){pt=0,ur=null,uE(s);break}s=function(){pt!==2&&pt!==9||At!==a||(pt=7),vi(a)},S.then(s,s);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:vy(S)?(pt=0,ur=null,uE(s)):(pt=0,ur=null,Ys(a,s,S,7));break;case 5:var I=null;switch(Ze.tag){case 26:I=Ze.memoizedState;case 5:case 27:var O=Ze;if(I?YE(I):O.stateNode.complete){pt=0,ur=null;var $=O.sibling;if($!==null)Ze=$;else{var Q=O.return;Q!==null?(Ze=Q,c0(Q)):Ze=null}break t}}pt=0,ur=null,Ys(a,s,S,5);break;case 6:pt=0,ur=null,Ys(a,s,S,6);break;case 8:Sg(),Ht=6;break e;default:throw Error(r(462))}}LI();break}catch(oe){rE(a,oe)}while(!0);return Vi=No=null,Y.H=p,Y.A=E,ct=d,Ze!==null?0:(At=null,qe=0,Rd(),Ht)}function LI(){for(;Ze!==null&&!a7();)sE(Ze)}function sE(a){var s=k3(a.alternate,a,Ji);a.memoizedProps=a.pendingProps,s===null?c0(a):Ze=s}function uE(a){var s=a,d=s.alternate;switch(s.tag){case 15:case 0:s=x3(d,s,s.pendingProps,s.type,void 0,qe);break;case 11:s=x3(d,s,s.pendingProps,s.type.render,s.ref,qe);break;case 5:_p(s);default:N3(d,s),s=Ze=oy(s,Ji),s=k3(d,s,Ji)}a.memoizedProps=a.pendingProps,s===null?c0(a):Ze=s}function Ys(a,s,d,p){Vi=No=null,_p(s),Ls=null,Al=0;var E=s.return;try{if(wI(a,E,s,d,qe)){Ht=1,Jd(a,Ar(d,a.current)),Ze=null;return}}catch(S){if(E!==null)throw Ze=E,S;Ht=1,Jd(a,Ar(d,a.current)),Ze=null;return}s.flags&32768?(tt||p===1?a=!0:Hs||(qe&536870912)!==0?a=!1:(Oa=a=!0,(p===2||p===9||p===3||p===6)&&(p=or.current,p!==null&&p.tag===13&&(p.flags|=16384))),lE(s,a)):c0(s)}function c0(a){var s=a;do{if((s.flags&32768)!==0){lE(s,Oa);return}a=s.return;var d=II(s.alternate,s,Ji);if(d!==null){Ze=d;return}if(s=s.sibling,s!==null){Ze=s;return}Ze=s=a}while(s!==null);Ht===0&&(Ht=5)}function lE(a,s){do{var d=TI(a.alternate,a);if(d!==null){d.flags&=32767,Ze=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!s&&(a=a.sibling,a!==null)){Ze=a;return}Ze=a=d}while(a!==null);Ht=6,Ze=null}function cE(a,s,d,p,E,S,I,O,$){a.cancelPendingCommit=null;do d0();while(an!==0);if((ct&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(S=s.lanes|s.childLanes,S|=dp,g7(a,d,S,I,O,$),a===At&&(Ze=At=null,qe=0),js=s,_a=a,qi=d,Eg=S,bg=E,Q3=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,zI(fd,function(){return gE(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=Y.T,Y.T=null,E=V.p,V.p=2,I=ct,ct|=4;try{RI(a,s,d)}finally{ct=I,V.p=E,Y.T=p}}an=1,dE(),hE(),fE()}}function dE(){if(an===1){an=0;var a=_a,s=js,d=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||d){d=Y.T,Y.T=null;var p=V.p;V.p=2;var E=ct;ct|=4;try{j3(s,a);var S=Og,I=Jv(a.containerInfo),O=S.focusedElem,$=S.selectionRange;if(I!==O&&O&&O.ownerDocument&&Xv(O.ownerDocument.documentElement,O)){if($!==null&&op(O)){var Q=$.start,oe=$.end;if(oe===void 0&&(oe=Q),"selectionStart"in O)O.selectionStart=Q,O.selectionEnd=Math.min(oe,O.value.length);else{var ue=O.ownerDocument||document,ne=ue&&ue.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),we=O.textContent.length,Le=Math.min($.start,we),Et=$.end===void 0?Le:Math.min($.end,we);!ae.extend&&Le>Et&&(I=Et,Et=Le,Le=I);var Z=Zv(O,Le),H=Zv(O,Et);if(Z&&H&&(ae.rangeCount!==1||ae.anchorNode!==Z.node||ae.anchorOffset!==Z.offset||ae.focusNode!==H.node||ae.focusOffset!==H.offset)){var q=ue.createRange();q.setStart(Z.node,Z.offset),ae.removeAllRanges(),Le>Et?(ae.addRange(q),ae.extend(H.node,H.offset)):(q.setEnd(H.node,H.offset),ae.addRange(q))}}}}for(ue=[],ae=O;ae=ae.parentNode;)ae.nodeType===1&&ue.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ue.length;O++){var se=ue[O];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}A0=!!Pg,Og=Pg=null}finally{ct=E,V.p=p,Y.T=d}}a.current=s,an=2}}function hE(){if(an===2){an=0;var a=_a,s=js,d=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||d){d=Y.T,Y.T=null;var p=V.p;V.p=2;var E=ct;ct|=4;try{z3(a,s.alternate,s)}finally{ct=E,V.p=p,Y.T=d}}an=3}}function fE(){if(an===4||an===3){an=0,o7();var a=_a,s=js,d=qi,p=Q3;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?an=5:(an=0,js=_a=null,pE(a,a.pendingLanes));var E=a.pendingLanes;if(E===0&&(Fa=null),Vf(d),s=s.stateNode,nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(al,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=Y.T,E=V.p,V.p=2,Y.T=null;try{for(var S=a.onRecoverableError,I=0;I<p.length;I++){var O=p[I];S(O.value,{componentStack:O.stack})}}finally{Y.T=s,V.p=E}}(qi&3)!==0&&d0(),vi(a),E=a.pendingLanes,(d&261930)!==0&&(E&42)!==0?a===Cg?zl++:(zl=0,Cg=a):zl=0,Vl(0)}}function pE(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Cl(s)))}function d0(){return dE(),hE(),fE(),gE()}function gE(){if(an!==5)return!1;var a=_a,s=Eg;Eg=0;var d=Vf(qi),p=Y.T,E=V.p;try{V.p=32>d?32:d,Y.T=null,d=bg,bg=null;var S=_a,I=qi;if(an=0,js=_a=null,qi=0,(ct&6)!==0)throw Error(r(331));var O=ct;if(ct|=4,X3(S.current),Y3(S,S.current,I,d),ct=O,Vl(0,!1),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(al,S)}catch{}return!0}finally{V.p=E,Y.T=p,pE(a,s)}}function mE(a,s,d){s=Ar(d,s),s=Qp(a.stateNode,s,2),a=ka(a,s,2),a!==null&&(sl(a,2),vi(a))}function gt(a,s,d){if(a.tag===3)mE(a,a,d);else for(;s!==null;){if(s.tag===3){mE(s,a,d);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Fa===null||!Fa.has(p))){a=Ar(d,a),d=v3(2),p=ka(s,d,2),p!==null&&(y3(d,p,s,a),sl(p,2),vi(p));break}}s=s.return}}function wg(a,s,d){var p=a.pingCache;if(p===null){p=a.pingCache=new MI;var E=new Set;p.set(s,E)}else E=p.get(s),E===void 0&&(E=new Set,p.set(s,E));E.has(d)||(mg=!0,E.add(d),a=FI.bind(null,a,s,d),s.then(a,a))}function FI(a,s,d){var p=a.pingCache;p!==null&&p.delete(s),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,At===a&&(qe&d)===d&&(Ht===4||Ht===3&&(qe&62914560)===qe&&300>tr()-a0?(ct&2)===0&&Ks(a,0):vg|=d,Gs===qe&&(Gs=0)),vi(a)}function vE(a,s){s===0&&(s=dv()),a=Bo(a,s),a!==null&&(sl(a,s),vi(a))}function _I(a){var s=a.memoizedState,d=0;s!==null&&(d=s.retryLane),vE(a,d)}function $I(a,s){var d=0;switch(a.tag){case 31:case 13:var p=a.stateNode,E=a.memoizedState;E!==null&&(d=E.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),vE(a,d)}function zI(a,s){return wo(a,s)}var h0=null,Ws=null,xg=!1,f0=!1,Dg=!1,za=0;function vi(a){a!==Ws&&a.next===null&&(Ws===null?h0=Ws=a:Ws=Ws.next=a),f0=!0,xg||(xg=!0,UI())}function Vl(a,s){if(!Dg&&f0){Dg=!0;do for(var d=!1,p=h0;p!==null;){if(a!==0){var E=p.pendingLanes;if(E===0)var S=0;else{var I=p.suspendedLanes,O=p.pingedLanes;S=(1<<31-rr(42|a)+1)-1,S&=E&~(I&~O),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,CE(p,S))}else S=qe,S=vd(p,p===At?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||ol(p,S)||(d=!0,CE(p,S));p=p.next}while(d);Dg=!1}}function VI(){yE()}function yE(){f0=xg=!1;var a=0;za!==0&&qI()&&(a=za);for(var s=tr(),d=null,p=h0;p!==null;){var E=p.next,S=EE(p,s);S===0?(p.next=null,d===null?h0=E:d.next=E,E===null&&(Ws=d)):(d=p,(a!==0||(S&3)!==0)&&(f0=!0)),p=E}an!==0&&an!==5||Vl(a),za!==0&&(za=0)}function EE(a,s){for(var d=a.suspendedLanes,p=a.pingedLanes,E=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var I=31-rr(S),O=1<<I,$=E[I];$===-1?((O&d)===0||(O&p)!==0)&&(E[I]=p7(O,s)):$<=s&&(a.expiredLanes|=O),S&=~O}if(s=At,d=qe,d=vd(a,a===s?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,d===0||a===s&&(pt===2||pt===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&_f(p),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||ol(a,d)){if(s=d&-d,s===a.callbackPriority)return s;switch(p!==null&&_f(p),Vf(d)){case 2:case 8:d=lv;break;case 32:d=fd;break;case 268435456:d=cv;break;default:d=fd}return p=bE.bind(null,a),d=wo(d,p),a.callbackPriority=s,a.callbackNode=d,s}return p!==null&&p!==null&&_f(p),a.callbackPriority=2,a.callbackNode=null,2}function bE(a,s){if(an!==0&&an!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(d0()&&a.callbackNode!==d)return null;var p=qe;return p=vd(a,a===At?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(tE(a,p,s),EE(a,tr()),a.callbackNode!=null&&a.callbackNode===d?bE.bind(null,a):null)}function CE(a,s){if(d0())return null;tE(a,s,!0)}function UI(){eT(function(){(ct&6)!==0?wo(uv,VI):yE()})}function Ig(){if(za===0){var a=Ns;a===0&&(a=pd,pd<<=1,(pd&261888)===0&&(pd=256)),za=a}return za}function SE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Cd(""+a)}function AE(a,s){var d=s.ownerDocument.createElement("input");return d.name=s.name,d.value=s.value,a.id&&d.setAttribute("form",a.id),s.parentNode.insertBefore(d,s),a=new FormData(a),d.parentNode.removeChild(d),a}function HI(a,s,d,p,E){if(s==="submit"&&d&&d.stateNode===E){var S=SE((E[Un]||null).action),I=p.submitter;I&&(s=(s=I[Un]||null)?SE(s.formAction):I.getAttribute("formAction"),s!==null&&(S=s,I=null));var O=new xd("action","action",null,p,E);a.push({event:O,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(za!==0){var $=I?AE(E,I):new FormData(E);Yp(d,{pending:!0,data:$,method:E.method,action:S},null,$)}}else typeof S=="function"&&(O.preventDefault(),$=I?AE(E,I):new FormData(E),Yp(d,{pending:!0,data:$,method:E.method,action:S},S,$))},currentTarget:E}]})}}for(var Tg=0;Tg<cp.length;Tg++){var Rg=cp[Tg],GI=Rg.toLowerCase(),jI=Rg[0].toUpperCase()+Rg.slice(1);Kr(GI,"on"+jI)}Kr(ey,"onAnimationEnd"),Kr(ty,"onAnimationIteration"),Kr(ny,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(sI,"onTransitionRun"),Kr(uI,"onTransitionStart"),Kr(lI,"onTransitionCancel"),Kr(ry,"onTransitionEnd"),Es("onMouseEnter",["mouseout","mouseover"]),Es("onMouseLeave",["mouseout","mouseover"]),Es("onPointerEnter",["pointerout","pointerover"]),Es("onPointerLeave",["pointerout","pointerover"]),Do("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Do("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Do("onBeforeInput",["compositionend","keypress","textInput","paste"]),Do("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Do("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Do("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function wE(a,s){s=(s&4)!==0;for(var d=0;d<a.length;d++){var p=a[d],E=p.event;p=p.listeners;e:{var S=void 0;if(s)for(var I=p.length-1;0<=I;I--){var O=p[I],$=O.instance,Q=O.currentTarget;if(O=O.listener,$!==S&&E.isPropagationStopped())break e;S=O,E.currentTarget=Q;try{S(E)}catch(oe){Td(oe)}E.currentTarget=null,S=$}else for(I=0;I<p.length;I++){if(O=p[I],$=O.instance,Q=O.currentTarget,O=O.listener,$!==S&&E.isPropagationStopped())break e;S=O,E.currentTarget=Q;try{S(E)}catch(oe){Td(oe)}E.currentTarget=null,S=$}}}}function Xe(a,s){var d=s[Uf];d===void 0&&(d=s[Uf]=new Set);var p=a+"__bubble";d.has(p)||(xE(s,a,2,!1),d.add(p))}function Bg(a,s,d){var p=0;s&&(p|=4),xE(d,a,p,s)}var p0="_reactListening"+Math.random().toString(36).slice(2);function kg(a){if(!a[p0]){a[p0]=!0,yv.forEach(function(d){d!=="selectionchange"&&(KI.has(d)||Bg(d,!1,a),Bg(d,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[p0]||(s[p0]=!0,Bg("selectionchange",!1,s))}}function xE(a,s,d,p){switch(eb(s)){case 2:var E=bT;break;case 8:E=CT;break;default:E=Kg}d=E.bind(null,s,d,a),E=void 0,!Jf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(E=!0),p?E!==void 0?a.addEventListener(s,d,{capture:!0,passive:E}):a.addEventListener(s,d,!0):E!==void 0?a.addEventListener(s,d,{passive:E}):a.addEventListener(s,d,!1)}function Mg(a,s,d,p,E){var S=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var I=p.tag;if(I===3||I===4){var O=p.stateNode.containerInfo;if(O===E)break;if(I===4)for(I=p.return;I!==null;){var $=I.tag;if(($===3||$===4)&&I.stateNode.containerInfo===E)return;I=I.return}for(;O!==null;){if(I=ms(O),I===null)return;if($=I.tag,$===5||$===6||$===26||$===27){p=S=I;continue e}O=O.parentNode}}p=p.return}Bv(function(){var Q=S,oe=Zf(d),ue=[];e:{var ne=iy.get(a);if(ne!==void 0){var ae=xd,we=a;switch(a){case"keypress":if(Ad(d)===0)break e;case"keydown":case"keyup":ae=$7;break;case"focusin":we="focus",ae=tp;break;case"focusout":we="blur",ae=tp;break;case"beforeblur":case"afterblur":ae=tp;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Nv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=I7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=U7;break;case ey:case ty:case ny:ae=B7;break;case ry:ae=G7;break;case"scroll":case"scrollend":ae=x7;break;case"wheel":ae=K7;break;case"copy":case"cut":case"paste":ae=M7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Ov;break;case"toggle":case"beforetoggle":ae=W7}var Le=(s&4)!==0,Et=!Le&&(a==="scroll"||a==="scrollend"),Z=Le?ne!==null?ne+"Capture":null:ne;Le=[];for(var H=Q,q;H!==null;){var se=H;if(q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||q===null||Z===null||(se=cl(H,Z),se!=null&&Le.push(Hl(H,se,q))),Et)break;H=H.return}0<Le.length&&(ne=new ae(ne,we,null,d,oe),ue.push({event:ne,listeners:Le}))}}if((s&7)===0){e:{if(ne=a==="mouseover"||a==="pointerover",ae=a==="mouseout"||a==="pointerout",ne&&d!==Wf&&(we=d.relatedTarget||d.fromElement)&&(ms(we)||we[gs]))break e;if((ae||ne)&&(ne=oe.window===oe?oe:(ne=oe.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(we=d.relatedTarget||d.toElement,ae=Q,we=we?ms(we):null,we!==null&&(Et=o(we),Le=we.tag,we!==Et||Le!==5&&Le!==27&&Le!==6)&&(we=null)):(ae=null,we=Q),ae!==we)){if(Le=Nv,se="onMouseLeave",Z="onMouseEnter",H="mouse",(a==="pointerout"||a==="pointerover")&&(Le=Ov,se="onPointerLeave",Z="onPointerEnter",H="pointer"),Et=ae==null?ne:ll(ae),q=we==null?ne:ll(we),ne=new Le(se,H+"leave",ae,d,oe),ne.target=Et,ne.relatedTarget=q,se=null,ms(oe)===Q&&(Le=new Le(Z,H+"enter",we,d,oe),Le.target=q,Le.relatedTarget=Et,se=Le),Et=se,ae&&we)t:{for(Le=YI,Z=ae,H=we,q=0,se=Z;se;se=Le(se))q++;se=0;for(var ke=H;ke;ke=Le(ke))se++;for(;0<q-se;)Z=Le(Z),q--;for(;0<se-q;)H=Le(H),se--;for(;q--;){if(Z===H||H!==null&&Z===H.alternate){Le=Z;break t}Z=Le(Z),H=Le(H)}Le=null}else Le=null;ae!==null&&DE(ue,ne,ae,Le,!1),we!==null&&Et!==null&&DE(ue,Et,we,Le,!0)}}e:{if(ne=Q?ll(Q):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var st=Hv;else if(Vv(ne))if(Gv)st=iI;else{st=nI;var De=tI}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?Q&&Yf(Q.elementType)&&(st=Hv):st=rI;if(st&&(st=st(a,Q))){Uv(ue,st,d,oe);break e}De&&De(a,ne,Q),a==="focusout"&&Q&&ne.type==="number"&&Q.memoizedProps.value!=null&&Kf(ne,"number",ne.value)}switch(De=Q?ll(Q):window,a){case"focusin":(Vv(De)||De.contentEditable==="true")&&(xs=De,sp=Q,yl=null);break;case"focusout":yl=sp=xs=null;break;case"mousedown":up=!0;break;case"contextmenu":case"mouseup":case"dragend":up=!1,qv(ue,d,oe);break;case"selectionchange":if(oI)break;case"keydown":case"keyup":qv(ue,d,oe)}var Ge;if(rp)e:{switch(a){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else ws?$v(a,d)&&(Qe="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Qe="onCompositionStart");Qe&&(Lv&&d.locale!=="ko"&&(ws||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&ws&&(Ge=kv()):(wa=oe,qf="value"in wa?wa.value:wa.textContent,ws=!0)),De=g0(Q,Qe),0<De.length&&(Qe=new Pv(Qe,a,null,d,oe),ue.push({event:Qe,listeners:De}),Ge?Qe.data=Ge:(Ge=zv(d),Ge!==null&&(Qe.data=Ge)))),(Ge=X7?J7(a,d):q7(a,d))&&(Qe=g0(Q,"onBeforeInput"),0<Qe.length&&(De=new Pv("onBeforeInput","beforeinput",null,d,oe),ue.push({event:De,listeners:Qe}),De.data=Ge)),HI(ue,a,Q,d,oe)}wE(ue,s)})}function Hl(a,s,d){return{instance:a,listener:s,currentTarget:d}}function g0(a,s){for(var d=s+"Capture",p=[];a!==null;){var E=a,S=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||S===null||(E=cl(a,d),E!=null&&p.unshift(Hl(a,E,S)),E=cl(a,s),E!=null&&p.push(Hl(a,E,S))),a.tag===3)return p;a=a.return}return[]}function YI(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function DE(a,s,d,p,E){for(var S=s._reactName,I=[];d!==null&&d!==p;){var O=d,$=O.alternate,Q=O.stateNode;if(O=O.tag,$!==null&&$===p)break;O!==5&&O!==26&&O!==27||Q===null||($=Q,E?(Q=cl(d,S),Q!=null&&I.unshift(Hl(d,Q,$))):E||(Q=cl(d,S),Q!=null&&I.push(Hl(d,Q,$)))),d=d.return}I.length!==0&&a.push({event:s,listeners:I})}var WI=/\r\n?/g,ZI=/\u0000|\uFFFD/g;function IE(a){return(typeof a=="string"?a:""+a).replace(WI,`
`).replace(ZI,"")}function TE(a,s){return s=IE(s),IE(a)===s}function yt(a,s,d,p,E,S){switch(d){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||Cs(a,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&Cs(a,""+p);break;case"className":Ed(a,"class",p);break;case"tabIndex":Ed(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Ed(a,d,p);break;case"style":Tv(a,p,S);break;case"data":if(s!=="object"){Ed(a,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||d!=="href")){a.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(d);break}p=Cd(""+p),a.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(s!=="input"&&yt(a,s,"name",E.name,E,null),yt(a,s,"formEncType",E.formEncType,E,null),yt(a,s,"formMethod",E.formMethod,E,null),yt(a,s,"formTarget",E.formTarget,E,null)):(yt(a,s,"encType",E.encType,E,null),yt(a,s,"method",E.method,E,null),yt(a,s,"target",E.target,E,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(d);break}p=Cd(""+p),a.setAttribute(d,p);break;case"onClick":p!=null&&(a.onclick=Fi);break;case"onScroll":p!=null&&Xe("scroll",a);break;case"onScrollEnd":p!=null&&Xe("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(E.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}d=Cd(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,""+p):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":p===!0?a.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(d,p):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(d,p):a.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(d):a.setAttribute(d,p);break;case"popover":Xe("beforetoggle",a),Xe("toggle",a),yd(a,"popover",p);break;case"xlinkActuate":Li(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Li(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Li(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Li(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Li(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Li(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Li(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Li(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Li(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":yd(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=A7.get(d)||d,yd(a,d,p))}}function Ng(a,s,d,p,E,S){switch(d){case"style":Tv(a,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(E.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof p=="string"?Cs(a,p):(typeof p=="number"||typeof p=="bigint")&&Cs(a,""+p);break;case"onScroll":p!=null&&Xe("scroll",a);break;case"onScrollEnd":p!=null&&Xe("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ev.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(E=d.endsWith("Capture"),s=d.slice(2,E?d.length-7:void 0),S=a[Un]||null,S=S!=null?S[d]:null,typeof S=="function"&&a.removeEventListener(s,S,E),typeof p=="function")){typeof S!="function"&&S!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(s,p,E);break e}d in a?a[d]=p:p===!0?a.setAttribute(d,""):yd(a,d,p)}}}function vn(a,s,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",a),Xe("load",a);var p=!1,E=!1,S;for(S in d)if(d.hasOwnProperty(S)){var I=d[S];if(I!=null)switch(S){case"src":p=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:yt(a,s,S,I,d,null)}}E&&yt(a,s,"srcSet",d.srcSet,d,null),p&&yt(a,s,"src",d.src,d,null);return;case"input":Xe("invalid",a);var O=S=I=E=null,$=null,Q=null;for(p in d)if(d.hasOwnProperty(p)){var oe=d[p];if(oe!=null)switch(p){case"name":E=oe;break;case"type":I=oe;break;case"checked":$=oe;break;case"defaultChecked":Q=oe;break;case"value":S=oe;break;case"defaultValue":O=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:yt(a,s,p,oe,d,null)}}wv(a,S,O,$,Q,I,E,!1);return;case"select":Xe("invalid",a),p=I=S=null;for(E in d)if(d.hasOwnProperty(E)&&(O=d[E],O!=null))switch(E){case"value":S=O;break;case"defaultValue":I=O;break;case"multiple":p=O;default:yt(a,s,E,O,d,null)}s=S,d=I,a.multiple=!!p,s!=null?bs(a,!!p,s,!1):d!=null&&bs(a,!!p,d,!0);return;case"textarea":Xe("invalid",a),S=E=p=null;for(I in d)if(d.hasOwnProperty(I)&&(O=d[I],O!=null))switch(I){case"value":p=O;break;case"defaultValue":E=O;break;case"children":S=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:yt(a,s,I,O,d,null)}Dv(a,p,E,S);return;case"option":for($ in d)if(d.hasOwnProperty($)&&(p=d[$],p!=null))switch($){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:yt(a,s,$,p,d,null)}return;case"dialog":Xe("beforetoggle",a),Xe("toggle",a),Xe("cancel",a),Xe("close",a);break;case"iframe":case"object":Xe("load",a);break;case"video":case"audio":for(p=0;p<Ul.length;p++)Xe(Ul[p],a);break;case"image":Xe("error",a),Xe("load",a);break;case"details":Xe("toggle",a);break;case"embed":case"source":case"link":Xe("error",a),Xe("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in d)if(d.hasOwnProperty(Q)&&(p=d[Q],p!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:yt(a,s,Q,p,d,null)}return;default:if(Yf(s)){for(oe in d)d.hasOwnProperty(oe)&&(p=d[oe],p!==void 0&&Ng(a,s,oe,p,d,void 0));return}}for(O in d)d.hasOwnProperty(O)&&(p=d[O],p!=null&&yt(a,s,O,p,d,null))}function XI(a,s,d,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,S=null,I=null,O=null,$=null,Q=null,oe=null;for(ae in d){var ue=d[ae];if(d.hasOwnProperty(ae)&&ue!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":$=ue;default:p.hasOwnProperty(ae)||yt(a,s,ae,null,p,ue)}}for(var ne in p){var ae=p[ne];if(ue=d[ne],p.hasOwnProperty(ne)&&(ae!=null||ue!=null))switch(ne){case"type":S=ae;break;case"name":E=ae;break;case"checked":Q=ae;break;case"defaultChecked":oe=ae;break;case"value":I=ae;break;case"defaultValue":O=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:ae!==ue&&yt(a,s,ne,ae,p,ue)}}jf(a,I,O,$,Q,oe,S,E);return;case"select":ae=I=O=ne=null;for(S in d)if($=d[S],d.hasOwnProperty(S)&&$!=null)switch(S){case"value":break;case"multiple":ae=$;default:p.hasOwnProperty(S)||yt(a,s,S,null,p,$)}for(E in p)if(S=p[E],$=d[E],p.hasOwnProperty(E)&&(S!=null||$!=null))switch(E){case"value":ne=S;break;case"defaultValue":O=S;break;case"multiple":I=S;default:S!==$&&yt(a,s,E,S,p,$)}s=O,d=I,p=ae,ne!=null?bs(a,!!d,ne,!1):!!p!=!!d&&(s!=null?bs(a,!!d,s,!0):bs(a,!!d,d?[]:"",!1));return;case"textarea":ae=ne=null;for(O in d)if(E=d[O],d.hasOwnProperty(O)&&E!=null&&!p.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:yt(a,s,O,null,p,E)}for(I in p)if(E=p[I],S=d[I],p.hasOwnProperty(I)&&(E!=null||S!=null))switch(I){case"value":ne=E;break;case"defaultValue":ae=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==S&&yt(a,s,I,E,p,S)}xv(a,ne,ae);return;case"option":for(var we in d)if(ne=d[we],d.hasOwnProperty(we)&&ne!=null&&!p.hasOwnProperty(we))switch(we){case"selected":a.selected=!1;break;default:yt(a,s,we,null,p,ne)}for($ in p)if(ne=p[$],ae=d[$],p.hasOwnProperty($)&&ne!==ae&&(ne!=null||ae!=null))switch($){case"selected":a.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:yt(a,s,$,ne,p,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in d)ne=d[Le],d.hasOwnProperty(Le)&&ne!=null&&!p.hasOwnProperty(Le)&&yt(a,s,Le,null,p,ne);for(Q in p)if(ne=p[Q],ae=d[Q],p.hasOwnProperty(Q)&&ne!==ae&&(ne!=null||ae!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:yt(a,s,Q,ne,p,ae)}return;default:if(Yf(s)){for(var Et in d)ne=d[Et],d.hasOwnProperty(Et)&&ne!==void 0&&!p.hasOwnProperty(Et)&&Ng(a,s,Et,void 0,p,ne);for(oe in p)ne=p[oe],ae=d[oe],!p.hasOwnProperty(oe)||ne===ae||ne===void 0&&ae===void 0||Ng(a,s,oe,ne,p,ae);return}}for(var Z in d)ne=d[Z],d.hasOwnProperty(Z)&&ne!=null&&!p.hasOwnProperty(Z)&&yt(a,s,Z,null,p,ne);for(ue in p)ne=p[ue],ae=d[ue],!p.hasOwnProperty(ue)||ne===ae||ne==null&&ae==null||yt(a,s,ue,ne,p,ae)}function RE(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JI(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var E=d[p],S=E.transferSize,I=E.initiatorType,O=E.duration;if(S&&O&&RE(I)){for(I=0,O=E.responseEnd,p+=1;p<d.length;p++){var $=d[p],Q=$.startTime;if(Q>O)break;var oe=$.transferSize,ue=$.initiatorType;oe&&RE(ue)&&($=$.responseEnd,I+=oe*($<O?1:(O-Q)/($-Q)))}if(--p,s+=8*(S+I)/(E.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Pg=null,Og=null;function m0(a){return a.nodeType===9?a:a.ownerDocument}function BE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kE(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Lg(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fg=null;function qI(){var a=window.event;return a&&a.type==="popstate"?a===Fg?!1:(Fg=a,!0):(Fg=null,!1)}var ME=typeof setTimeout=="function"?setTimeout:void 0,QI=typeof clearTimeout=="function"?clearTimeout:void 0,NE=typeof Promise=="function"?Promise:void 0,eT=typeof queueMicrotask=="function"?queueMicrotask:typeof NE<"u"?function(a){return NE.resolve(null).then(a).catch(tT)}:ME;function tT(a){setTimeout(function(){throw a})}function Va(a){return a==="head"}function PE(a,s){var d=s,p=0;do{var E=d.nextSibling;if(a.removeChild(d),E&&E.nodeType===8)if(d=E.data,d==="/$"||d==="/&"){if(p===0){a.removeChild(E),qs(s);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")Gl(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,Gl(d);for(var S=d.firstChild;S;){var I=S.nextSibling,O=S.nodeName;S[ul]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&S.rel.toLowerCase()==="stylesheet"||d.removeChild(S),S=I}}else d==="body"&&Gl(a.ownerDocument.body);d=E}while(d);qs(s)}function OE(a,s){var d=a;a=0;do{var p=d.nextSibling;if(d.nodeType===1?s?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(s?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=p}while(d)}function _g(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var d=s;switch(s=s.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":_g(d),Hf(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function nT(a,s,d,p){for(;a.nodeType===1;){var E=d;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[ul])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==E.rel||a.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||a.getAttribute("title")!==(E.title==null?null:E.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(E.src==null?null:E.src)||a.getAttribute("type")!==(E.type==null?null:E.type)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var S=E.name==null?null:""+E.name;if(E.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=Tr(a.nextSibling),a===null)break}return null}function rT(a,s,d){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Tr(a.nextSibling),a===null))return null;return a}function LE(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=Tr(a.nextSibling),a===null))return null;return a}function $g(a){return a.data==="$?"||a.data==="$~"}function zg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function iT(a,s){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||d.readyState!=="loading")s();else{var p=function(){s(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function Tr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var Vg=null;function FE(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(s===0)return Tr(a.nextSibling);s--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||s++}a=a.nextSibling}return null}function _E(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(s===0)return a;s--}else d!=="/$"&&d!=="/&"||s++}a=a.previousSibling}return null}function $E(a,s,d){switch(s=m0(d),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Gl(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Hf(a)}var Rr=new Map,zE=new Set;function v0(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Qi=V.d;V.d={f:aT,r:oT,D:sT,C:uT,L:lT,m:cT,X:hT,S:dT,M:fT};function aT(){var a=Qi.f(),s=u0();return a||s}function oT(a){var s=vs(a);s!==null&&s.tag===5&&s.type==="form"?r3(s):Qi.r(a)}var Zs=typeof document>"u"?null:document;function VE(a,s,d){var p=Zs;if(p&&typeof s=="string"&&s){var E=Cr(s);E='link[rel="'+a+'"][href="'+E+'"]',typeof d=="string"&&(E+='[crossorigin="'+d+'"]'),zE.has(E)||(zE.add(E),a={rel:a,crossOrigin:d,href:s},p.querySelector(E)===null&&(s=p.createElement("link"),vn(s,"link",a),ln(s),p.head.appendChild(s)))}}function sT(a){Qi.D(a),VE("dns-prefetch",a,null)}function uT(a,s){Qi.C(a,s),VE("preconnect",a,s)}function lT(a,s,d){Qi.L(a,s,d);var p=Zs;if(p&&a&&s){var E='link[rel="preload"][as="'+Cr(s)+'"]';s==="image"&&d&&d.imageSrcSet?(E+='[imagesrcset="'+Cr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(E+='[imagesizes="'+Cr(d.imageSizes)+'"]')):E+='[href="'+Cr(a)+'"]';var S=E;switch(s){case"style":S=Xs(a);break;case"script":S=Js(a)}Rr.has(S)||(a=m({rel:"preload",href:s==="image"&&d&&d.imageSrcSet?void 0:a,as:s},d),Rr.set(S,a),p.querySelector(E)!==null||s==="style"&&p.querySelector(jl(S))||s==="script"&&p.querySelector(Kl(S))||(s=p.createElement("link"),vn(s,"link",a),ln(s),p.head.appendChild(s)))}}function cT(a,s){Qi.m(a,s);var d=Zs;if(d&&a){var p=s&&typeof s.as=="string"?s.as:"script",E='link[rel="modulepreload"][as="'+Cr(p)+'"][href="'+Cr(a)+'"]',S=E;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Js(a)}if(!Rr.has(S)&&(a=m({rel:"modulepreload",href:a},s),Rr.set(S,a),d.querySelector(E)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Kl(S)))return}p=d.createElement("link"),vn(p,"link",a),ln(p),d.head.appendChild(p)}}}function dT(a,s,d){Qi.S(a,s,d);var p=Zs;if(p&&a){var E=ys(p).hoistableStyles,S=Xs(a);s=s||"default";var I=E.get(S);if(!I){var O={loading:0,preload:null};if(I=p.querySelector(jl(S)))O.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},d),(d=Rr.get(S))&&Ug(a,d);var $=I=p.createElement("link");ln($),vn($,"link",a),$._p=new Promise(function(Q,oe){$.onload=Q,$.onerror=oe}),$.addEventListener("load",function(){O.loading|=1}),$.addEventListener("error",function(){O.loading|=2}),O.loading|=4,y0(I,s,p)}I={type:"stylesheet",instance:I,count:1,state:O},E.set(S,I)}}}function hT(a,s){Qi.X(a,s);var d=Zs;if(d&&a){var p=ys(d).hoistableScripts,E=Js(a),S=p.get(E);S||(S=d.querySelector(Kl(E)),S||(a=m({src:a,async:!0},s),(s=Rr.get(E))&&Hg(a,s),S=d.createElement("script"),ln(S),vn(S,"link",a),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(E,S))}}function fT(a,s){Qi.M(a,s);var d=Zs;if(d&&a){var p=ys(d).hoistableScripts,E=Js(a),S=p.get(E);S||(S=d.querySelector(Kl(E)),S||(a=m({src:a,async:!0,type:"module"},s),(s=Rr.get(E))&&Hg(a,s),S=d.createElement("script"),ln(S),vn(S,"link",a),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(E,S))}}function UE(a,s,d,p){var E=(E=Ae.current)?v0(E):null;if(!E)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(s=Xs(d.href),d=ys(E).hoistableStyles,p=d.get(s),p||(p={type:"style",instance:null,count:0,state:null},d.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=Xs(d.href);var S=ys(E).hoistableStyles,I=S.get(a);if(I||(E=E.ownerDocument||E,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,I),(S=E.querySelector(jl(a)))&&!S._p&&(I.instance=S,I.state.loading=5),Rr.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Rr.set(a,d),S||pT(E,a,d,I.state))),s&&p===null)throw Error(r(528,""));return I}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=d.async,d=d.src,typeof d=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Js(d),d=ys(E).hoistableScripts,p=d.get(s),p||(p={type:"script",instance:null,count:0,state:null},d.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Xs(a){return'href="'+Cr(a)+'"'}function jl(a){return'link[rel="stylesheet"]['+a+"]"}function HE(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function pT(a,s,d,p){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=a.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),vn(s,"link",d),ln(s),a.head.appendChild(s))}function Js(a){return'[src="'+Cr(a)+'"]'}function Kl(a){return"script[async]"+a}function GE(a,s,d){if(s.count++,s.instance===null)switch(s.type){case"style":var p=a.querySelector('style[data-href~="'+Cr(d.href)+'"]');if(p)return s.instance=p,ln(p),p;var E=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),ln(p),vn(p,"style",E),y0(p,d.precedence,a),s.instance=p;case"stylesheet":E=Xs(d.href);var S=a.querySelector(jl(E));if(S)return s.state.loading|=4,s.instance=S,ln(S),S;p=HE(d),(E=Rr.get(E))&&Ug(p,E),S=(a.ownerDocument||a).createElement("link"),ln(S);var I=S;return I._p=new Promise(function(O,$){I.onload=O,I.onerror=$}),vn(S,"link",p),s.state.loading|=4,y0(S,d.precedence,a),s.instance=S;case"script":return S=Js(d.src),(E=a.querySelector(Kl(S)))?(s.instance=E,ln(E),E):(p=d,(E=Rr.get(S))&&(p=m({},d),Hg(p,E)),a=a.ownerDocument||a,E=a.createElement("script"),ln(E),vn(E,"link",p),a.head.appendChild(E),s.instance=E);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,y0(p,d.precedence,a));return s.instance}function y0(a,s,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=p.length?p[p.length-1]:null,S=E,I=0;I<p.length;I++){var O=p[I];if(O.dataset.precedence===s)S=O;else if(S!==E)break}S?S.parentNode.insertBefore(a,S.nextSibling):(s=d.nodeType===9?d.head:d,s.insertBefore(a,s.firstChild))}function Ug(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function Hg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var E0=null;function jE(a,s,d){if(E0===null){var p=new Map,E=E0=new Map;E.set(d,p)}else E=E0,p=E.get(d),p||(p=new Map,E.set(d,p));if(p.has(a))return p;for(p.set(a,null),d=d.getElementsByTagName(a),E=0;E<d.length;E++){var S=d[E];if(!(S[ul]||S[fn]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var I=S.getAttribute(s)||"";I=a+I;var O=p.get(I);O?O.push(S):p.set(I,[S])}}return p}function KE(a,s,d){a=a.ownerDocument||a,a.head.insertBefore(d,s==="title"?a.querySelector("head > title"):null)}function gT(a,s,d){if(d===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function YE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function mT(a,s,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var E=Xs(p.href),S=s.querySelector(jl(E));if(S){s=S._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=b0.bind(a),s.then(a,a)),d.state.loading|=4,d.instance=S,ln(S);return}S=s.ownerDocument||s,p=HE(p),(E=Rr.get(E))&&Ug(p,E),S=S.createElement("link"),ln(S);var I=S;I._p=new Promise(function(O,$){I.onload=O,I.onerror=$}),vn(S,"link",p),d.instance=S}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,s),(s=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=b0.bind(a),s.addEventListener("load",d),s.addEventListener("error",d))}}var Gg=0;function vT(a,s){return a.stylesheets&&a.count===0&&S0(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var p=setTimeout(function(){if(a.stylesheets&&S0(a,a.stylesheets),a.unsuspend){var S=a.unsuspend;a.unsuspend=null,S()}},6e4+s);0<a.imgBytes&&Gg===0&&(Gg=62500*JI());var E=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&S0(a,a.stylesheets),a.unsuspend)){var S=a.unsuspend;a.unsuspend=null,S()}},(a.imgBytes>Gg?50:800)+s);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(E)}}:null}function b0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)S0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var C0=null;function S0(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,C0=new Map,s.forEach(yT,a),C0=null,b0.call(a))}function yT(a,s){if(!(s.state.loading&4)){var d=C0.get(a);if(d)var p=d.get(null);else{d=new Map,C0.set(a,d);for(var E=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<E.length;S++){var I=E[S];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(d.set(I.dataset.precedence,I),p=I)}p&&d.set(null,p)}E=s.instance,I=E.getAttribute("data-precedence"),S=d.get(I)||p,S===p&&d.set(null,E),d.set(I,E),this.count++,p=b0.bind(this),E.addEventListener("load",p),E.addEventListener("error",p),S?S.parentNode.insertBefore(E,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(E,a.firstChild)),s.state.loading|=4}}var Yl={$$typeof:T,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function ET(a,s,d,p,E,S,I,O,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$f(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$f(0),this.hiddenUpdates=$f(null),this.identifierPrefix=p,this.onUncaughtError=E,this.onCaughtError=S,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function WE(a,s,d,p,E,S,I,O,$,Q,oe,ue){return a=new ET(a,s,d,I,$,Q,oe,ue,O),s=1,S===!0&&(s|=24),S=ar(3,null,null,s),a.current=S,S.stateNode=a,s=Ap(),s.refCount++,a.pooledCache=s,s.refCount++,S.memoizedState={element:p,isDehydrated:d,cache:s},Ip(S),a}function ZE(a){return a?(a=Ts,a):Ts}function XE(a,s,d,p,E,S){E=ZE(E),p.context===null?p.context=E:p.pendingContext=E,p=Ba(s),p.payload={element:d},S=S===void 0?null:S,S!==null&&(p.callback=S),d=ka(a,p,s),d!==null&&(Wn(d,a,s),xl(d,a,s))}function JE(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<s?d:s}}function jg(a,s){JE(a,s),(a=a.alternate)&&JE(a,s)}function qE(a){if(a.tag===13||a.tag===31){var s=Bo(a,67108864);s!==null&&Wn(s,a,67108864),jg(a,67108864)}}function QE(a){if(a.tag===13||a.tag===31){var s=cr();s=zf(s);var d=Bo(a,s);d!==null&&Wn(d,a,s),jg(a,s)}}var A0=!0;function bT(a,s,d,p){var E=Y.T;Y.T=null;var S=V.p;try{V.p=2,Kg(a,s,d,p)}finally{V.p=S,Y.T=E}}function CT(a,s,d,p){var E=Y.T;Y.T=null;var S=V.p;try{V.p=8,Kg(a,s,d,p)}finally{V.p=S,Y.T=E}}function Kg(a,s,d,p){if(A0){var E=Yg(p);if(E===null)Mg(a,s,p,w0,d),tb(a,p);else if(AT(E,a,s,d,p))p.stopPropagation();else if(tb(a,p),s&4&&-1<ST.indexOf(a)){for(;E!==null;){var S=vs(E);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var I=xo(S.pendingLanes);if(I!==0){var O=S;for(O.pendingLanes|=2,O.entangledLanes|=2;I;){var $=1<<31-rr(I);O.entanglements[1]|=$,I&=~$}vi(S),(ct&6)===0&&(o0=tr()+500,Vl(0))}}break;case 31:case 13:O=Bo(S,2),O!==null&&Wn(O,S,2),u0(),jg(S,2)}if(S=Yg(p),S===null&&Mg(a,s,p,w0,d),S===E)break;E=S}E!==null&&p.stopPropagation()}else Mg(a,s,p,null,d)}}function Yg(a){return a=Zf(a),Wg(a)}var w0=null;function Wg(a){if(w0=null,a=ms(a),a!==null){var s=o(a);if(s===null)a=null;else{var d=s.tag;if(d===13){if(a=u(s),a!==null)return a;a=null}else if(d===31){if(a=l(s),a!==null)return a;a=null}else if(d===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return w0=a,null}function eb(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(s7()){case uv:return 2;case lv:return 8;case fd:case u7:return 32;case cv:return 268435456;default:return 32}default:return 32}}var Zg=!1,Ua=null,Ha=null,Ga=null,Wl=new Map,Zl=new Map,ja=[],ST="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tb(a,s){switch(a){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":Wl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(s.pointerId)}}function Xl(a,s,d,p,E,S){return a===null||a.nativeEvent!==S?(a={blockedOn:s,domEventName:d,eventSystemFlags:p,nativeEvent:S,targetContainers:[E]},s!==null&&(s=vs(s),s!==null&&qE(s)),a):(a.eventSystemFlags|=p,s=a.targetContainers,E!==null&&s.indexOf(E)===-1&&s.push(E),a)}function AT(a,s,d,p,E){switch(s){case"focusin":return Ua=Xl(Ua,a,s,d,p,E),!0;case"dragenter":return Ha=Xl(Ha,a,s,d,p,E),!0;case"mouseover":return Ga=Xl(Ga,a,s,d,p,E),!0;case"pointerover":var S=E.pointerId;return Wl.set(S,Xl(Wl.get(S)||null,a,s,d,p,E)),!0;case"gotpointercapture":return S=E.pointerId,Zl.set(S,Xl(Zl.get(S)||null,a,s,d,p,E)),!0}return!1}function nb(a){var s=ms(a.target);if(s!==null){var d=o(s);if(d!==null){if(s=d.tag,s===13){if(s=u(d),s!==null){a.blockedOn=s,mv(a.priority,function(){QE(d)});return}}else if(s===31){if(s=l(d),s!==null){a.blockedOn=s,mv(a.priority,function(){QE(d)});return}}else if(s===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function x0(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var d=Yg(a.nativeEvent);if(d===null){d=a.nativeEvent;var p=new d.constructor(d.type,d);Wf=p,d.target.dispatchEvent(p),Wf=null}else return s=vs(d),s!==null&&qE(s),a.blockedOn=d,!1;s.shift()}return!0}function rb(a,s,d){x0(a)&&d.delete(s)}function wT(){Zg=!1,Ua!==null&&x0(Ua)&&(Ua=null),Ha!==null&&x0(Ha)&&(Ha=null),Ga!==null&&x0(Ga)&&(Ga=null),Wl.forEach(rb),Zl.forEach(rb)}function D0(a,s){a.blockedOn===s&&(a.blockedOn=null,Zg||(Zg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wT)))}var I0=null;function ib(a){I0!==a&&(I0=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){I0===a&&(I0=null);for(var s=0;s<a.length;s+=3){var d=a[s],p=a[s+1],E=a[s+2];if(typeof p!="function"){if(Wg(p||d)===null)continue;break}var S=vs(d);S!==null&&(a.splice(s,3),s-=3,Yp(S,{pending:!0,data:E,method:d.method,action:p},p,E))}}))}function qs(a){function s($){return D0($,a)}Ua!==null&&D0(Ua,a),Ha!==null&&D0(Ha,a),Ga!==null&&D0(Ga,a),Wl.forEach(s),Zl.forEach(s);for(var d=0;d<ja.length;d++){var p=ja[d];p.blockedOn===a&&(p.blockedOn=null)}for(;0<ja.length&&(d=ja[0],d.blockedOn===null);)nb(d),d.blockedOn===null&&ja.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var E=d[p],S=d[p+1],I=E[Un]||null;if(typeof S=="function")I||ib(d);else if(I){var O=null;if(S&&S.hasAttribute("formAction")){if(E=S,I=S[Un]||null)O=I.formAction;else if(Wg(E)!==null)continue}else O=I.action;typeof O=="function"?d[p+1]=O:(d.splice(p,3),p-=3),ib(d)}}}function ab(){function a(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(I){return E=I})},focusReset:"manual",scroll:"manual"})}function s(){E!==null&&(E(),E=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,E=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),E!==null&&(E(),E=null)}}}function Xg(a){this._internalRoot=a}T0.prototype.render=Xg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var d=s.current,p=cr();XE(d,p,a,s,null,null)},T0.prototype.unmount=Xg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;XE(a.current,2,null,a,null,null),u0(),s[gs]=null}};function T0(a){this._internalRoot=a}T0.prototype.unstable_scheduleHydration=function(a){if(a){var s=gv();a={blockedOn:null,target:a,priority:s};for(var d=0;d<ja.length&&s!==0&&s<ja[d].priority;d++);ja.splice(d,0,a),d===0&&nb(a)}};var ob=t.version;if(ob!=="19.2.1")throw Error(r(527,ob,"19.2.1"));V.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(s),a=a!==null?g(a):null,a=a===null?null:a.stateNode,a};var xT={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var R0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!R0.isDisabled&&R0.supportsFiber)try{al=R0.inject(xT),nr=R0}catch{}}return ql.createRoot=function(a,s){if(!i(a))throw Error(r(299));var d=!1,p="",E=f3,S=p3,I=g3;return s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(E=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(I=s.onRecoverableError)),s=WE(a,1,!1,null,null,d,p,null,E,S,I,ab),a[gs]=s.current,kg(a),new Xg(s)},ql.hydrateRoot=function(a,s,d){if(!i(a))throw Error(r(299));var p=!1,E="",S=f3,I=p3,O=g3,$=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(I=d.onCaughtError),d.onRecoverableError!==void 0&&(O=d.onRecoverableError),d.formState!==void 0&&($=d.formState)),s=WE(a,1,!0,s,d??null,p,E,$,S,I,O,ab),s.context=ZE(null),d=s.current,p=cr(),p=zf(p),E=Ba(p),E.callback=null,ka(d,E,p),d=p,s.current.lanes=d,sl(s,d),vi(s),a[gs]=s.current,kg(a),new T0(s)},ql.version="19.2.1",ql}var mb;function OT(){if(mb)return Qg.exports;mb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qg.exports=PT(),Qg.exports}var LT=OT();const FT=Yc(LT);var _T=Object.defineProperty,$T=(e,t,n)=>t in e?_T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_e=(e,t,n)=>($T(e,typeof t!="symbol"?t+"":t,n),n),Oe=class{static clamp(t,n,r){return Math.max(n,typeof r<"u"?Math.min(t,r):t)}static clampV(t,n,r){return t.map(i=>r?Oe.clamp(i,n,r):Oe.clamp(i,n))}static cross(t,n,r){return(n[0]-t[0])*(r[1]-t[1])-(r[0]-t[0])*(n[1]-t[1])}static snap(t,n=1){return[Math.round(t[0]/n)*n,Math.round(t[1]/n)*n]}},R=Oe;_e(R,"neg",e=>[-e[0],-e[1]]),_e(R,"add",(e,t)=>[e[0]+t[0],e[1]+t[1]]),_e(R,"addScalar",(e,t)=>[e[0]+t,e[1]+t]),_e(R,"sub",(e,t)=>[e[0]-t[0],e[1]-t[1]]),_e(R,"subScalar",(e,t)=>[e[0]-t,e[1]-t]),_e(R,"vec",(e,t)=>[t[0]-e[0],t[1]-e[1]]),_e(R,"mul",(e,t)=>[e[0]*t,e[1]*t]),_e(R,"mulV",(e,t)=>[e[0]*t[0],e[1]*t[1]]),_e(R,"div",(e,t)=>[e[0]/t,e[1]/t]),_e(R,"divV",(e,t)=>[e[0]/t[0],e[1]/t[1]]),_e(R,"per",e=>[e[1],-e[0]]),_e(R,"dpr",(e,t)=>e[0]*t[0]+e[1]*t[1]),_e(R,"cpr",(e,t)=>e[0]*t[1]-t[0]*e[1]),_e(R,"len2",e=>e[0]*e[0]+e[1]*e[1]),_e(R,"len",e=>Math.hypot(e[0],e[1])),_e(R,"pry",(e,t)=>Oe.dpr(e,t)/Oe.len(t)),_e(R,"uni",e=>Oe.div(e,Oe.len(e))),_e(R,"normalize",e=>Oe.uni(e)),_e(R,"tangent",(e,t)=>Oe.uni(Oe.sub(e,t))),_e(R,"dist2",(e,t)=>Oe.len2(Oe.sub(e,t))),_e(R,"dist",(e,t)=>Math.hypot(e[1]-t[1],e[0]-t[0])),_e(R,"fastDist",(e,t)=>{let n=[t[0]-e[0],t[1]-e[1]],r=[Math.abs(n[0]),Math.abs(n[1])],i=1/Math.max(r[0],r[1]);return i=i*(1.29289-(r[0]+r[1])*i*.29289),[n[0]*i,n[1]*i]}),_e(R,"ang",(e,t)=>Math.atan2(Oe.cpr(e,t),Oe.dpr(e,t))),_e(R,"angle",(e,t)=>Math.atan2(t[1]-e[1],t[0]-e[0])),_e(R,"med",(e,t)=>Oe.mul(Oe.add(e,t),.5)),_e(R,"rot",(e,t=0)=>[e[0]*Math.cos(t)-e[1]*Math.sin(t),e[0]*Math.sin(t)+e[1]*Math.cos(t)]),_e(R,"rotWith",(e,t,n=0)=>{if(n===0)return e;let r=Math.sin(n),i=Math.cos(n),o=e[0]-t[0],u=e[1]-t[1],l=o*i-u*r,c=o*r+u*i;return[l+t[0],c+t[1]]}),_e(R,"isEqual",(e,t)=>e[0]===t[0]&&e[1]===t[1]),_e(R,"lrp",(e,t,n)=>Oe.add(e,Oe.mul(Oe.sub(t,e),n))),_e(R,"int",(e,t,n,r,i=1)=>{let o=(Oe.clamp(n,r)-n)/(r-n);return Oe.add(Oe.mul(e,1-o),Oe.mul(t,i))}),_e(R,"ang3",(e,t,n)=>{let r=Oe.vec(t,e),i=Oe.vec(t,n);return Oe.ang(r,i)}),_e(R,"abs",e=>[Math.abs(e[0]),Math.abs(e[1])]),_e(R,"rescale",(e,t)=>{let n=Oe.len(e);return[t*e[0]/n,t*e[1]/n]}),_e(R,"isLeft",(e,t,n)=>(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])),_e(R,"clockwise",(e,t,n)=>Oe.isLeft(e,t,n)>0),_e(R,"toFixed",e=>e.map(t=>Math.round(t*100)/100)),_e(R,"nearestPointOnLineThroughPoint",(e,t,n)=>Oe.add(e,Oe.mul(t,Oe.pry(Oe.sub(n,e),t)))),_e(R,"distanceToLineThroughPoint",(e,t,n)=>Oe.dist(n,Oe.nearestPointOnLineThroughPoint(e,t,n))),_e(R,"nearestPointOnLineSegment",(e,t,n,r=!0)=>{let i=Oe.uni(Oe.sub(t,e)),o=Oe.add(e,Oe.mul(i,Oe.pry(Oe.sub(n,e),i)));if(r){if(o[0]<Math.min(e[0],t[0]))return e[0]<t[0]?e:t;if(o[0]>Math.max(e[0],t[0]))return e[0]>t[0]?e:t;if(o[1]<Math.min(e[1],t[1]))return e[1]<t[1]?e:t;if(o[1]>Math.max(e[1],t[1]))return e[1]>t[1]?e:t}return o}),_e(R,"distanceToLineSegment",(e,t,n,r=!0)=>Oe.dist(n,Oe.nearestPointOnLineSegment(e,t,n,r))),_e(R,"nearestPointOnBounds",(e,t)=>[Oe.clamp(t[0],e.minX,e.maxX),Oe.clamp(t[1],e.minY,e.maxY)]),_e(R,"distanceToBounds",(e,t)=>Oe.dist(t,Oe.nearestPointOnBounds(e,t))),_e(R,"nudge",(e,t,n)=>Oe.isEqual(e,t)?e:Oe.add(e,Oe.mul(Oe.uni(Oe.sub(t,e)),n))),_e(R,"nudgeAtAngle",(e,t,n)=>[Math.cos(t)*n+e[0],Math.sin(t)*n+e[1]]),_e(R,"toPrecision",(e,t=4)=>[+e[0].toPrecision(t),+e[1].toPrecision(t)]),_e(R,"pointsBetween",(e,t,n=6)=>Array.from(Array(n)).map((r,i)=>{let o=i/(n-1),u=Math.min(1,.5+Math.abs(.5-o));return[...Oe.lrp(e,t,o),u]})),_e(R,"slope",(e,t)=>e[0]===t[0]?NaN:(e[1]-t[1])/(e[0]-t[0])),_e(R,"max",(...e)=>[Math.max(...e.map(t=>t[0])),Math.max(...e.map(t=>t[1]))]),_e(R,"min",(...e)=>[Math.min(...e.map(t=>t[0])),Math.min(...e.map(t=>t[1]))]);var le=R;function zT(e,t,n){return Math.max(t,Math.min(e,n))}const kt={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function vb(e,t,n){return t===0||Math.abs(t)===1/0?Math.pow(e,n*5):e*t*n/(t+n*e)}function yb(e,t,n,r=.15){return r===0?zT(e,t,n):e<t?-vb(t-e,n-t,r)+t:e>n?+vb(e-n,n-t,r)+n:e}function VT(e,[t,n],[r,i]){const[[o,u],[l,c]]=e;return[yb(t,o,u,r),yb(n,l,c,i)]}function UT(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HT(e){var t=UT(e,"string");return typeof t=="symbol"?t:String(t)}function tn(e,t,n){return t=HT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Eb(Object(n),!0).forEach(function(r){tn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const gS={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function bb(e){return e?e[0].toUpperCase()+e.slice(1):""}const GT=["enter","leave"];function jT(e=!1,t){return e&&!GT.includes(t)}function KT(e,t="",n=!1){const r=gS[e],i=r&&r[t]||t;return"on"+bb(e)+bb(i)+(jT(n,i)?"Capture":"")}const YT=["gotpointercapture","lostpointercapture"];function WT(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=YT.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function ZT(e,t=""){const n=gS[e],r=n&&n[t]||t;return e+r}function Yh(e){return"touches"in e}function mS(e){return Yh(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function XT(e){return Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||((n=e.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,t.target))})}function JT(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function vS(e){return Yh(e)?JT(e)[0]:e}function n1(e,t){try{const n=t.clientX-e.clientX,r=t.clientY-e.clientY,i=(t.clientX+e.clientX)/2,o=(t.clientY+e.clientY)/2,u=Math.hypot(n,r);return{angle:-(Math.atan2(n,r)*180)/Math.PI,distance:u,origin:[i,o]}}catch{}return null}function qT(e){return XT(e).map(t=>t.identifier)}function Cb(e,t){const[n,r]=Array.from(e.touches).filter(i=>t.includes(i.identifier));return n1(n,r)}function rm(e){const t=vS(e);return Yh(e)?t.identifier:t.pointerId}function xu(e){const t=vS(e);return[t.clientX,t.clientY]}const Sb=40,Ab=800;function yS(e){let{deltaX:t,deltaY:n,deltaMode:r}=e;return r===1?(t*=Sb,n*=Sb):r===2&&(t*=Ab,n*=Ab),[t,n]}function QT(e){var t,n;const{scrollX:r,scrollY:i,scrollLeft:o,scrollTop:u}=e.currentTarget;return[(t=r??o)!==null&&t!==void 0?t:0,(n=i??u)!==null&&n!==void 0?n:0]}function eR(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o})}return t}function Eh(e,...t){return typeof e=="function"?e(...t):e}function tR(){}function nR(...e){return e.length===0?tR:e.length===1?e[0]:function(){let t;for(const n of e)t=n.apply(this,arguments)||t;return t}}function wb(e,t){return Object.assign({},t,e||{})}const rR=32;class ES{constructor(t,n,r){this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:n,ingKey:r,args:i}=this;n[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=i,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=r.from?Eh(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=t.timeStamp)}computeValues(t){const n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:n,config:r,shared:i}=this;n.args=this.args;let o=0;if(t&&(n.event=t,r.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,eR(t)),i.down=i.pressed=i.buttons%2===1||i.touches>0,o=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const M=n._delta.map(Math.abs);kt.addTo(n._distance,M)}this.axisIntent&&this.axisIntent(t);const[u,l]=n._movement,[c,f]=r.threshold,{_step:g,values:m}=n;if(r.hasCustomTransform?(g[0]===!1&&(g[0]=Math.abs(u)>=c&&m[0]),g[1]===!1&&(g[1]=Math.abs(l)>=f&&m[1])):(g[0]===!1&&(g[0]=Math.abs(u)>=c&&Math.sign(u)*c),g[1]===!1&&(g[1]=Math.abs(l)>=f&&Math.sign(l)*f)),n.intentional=g[0]!==!1||g[1]!==!1,!n.intentional)return;const v=[0,0];if(r.hasCustomTransform){const[M,B]=m;v[0]=g[0]!==!1?M-g[0]:0,v[1]=g[1]!==!1?B-g[1]:0}else v[0]=g[0]!==!1?u-g[0]:0,v[1]=g[1]!==!1?l-g[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(v);const y=n.offset,b=n._active&&!n._blocked||n.active;b&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,t&&(n.first&&("bounds"in r&&(n._bounds=Eh(r.bounds,n)),this.setup&&this.setup()),n.movement=v,this.computeOffset()));const[C,A]=n.offset,[[x,D],[T,N]]=n._bounds;n.overflow=[C<x?-1:C>D?1:0,A<T?-1:A>N?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const k=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=VT(n._bounds,n.offset,k),n.delta=kt.sub(n.offset,y),this.computeMovement(),b&&(!n.last||o>rR)){n.delta=kt.sub(n.offset,y);const M=n.delta.map(Math.abs);kt.addTo(n.distance,M),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&o>0&&(n.velocity=[M[0]/o,M[1]/o],n.timeDelta=o)}}emit(){const t=this.state,n=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const i=this.handler(zt(zt(zt({},n),t),{},{[this.aliasKey]:t.values}));i!==void 0&&(t.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function iR([e,t],n){const r=Math.abs(e),i=Math.abs(t);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class Zc extends ES{constructor(...t){super(...t),tn(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=kt.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=kt.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const n=this.state,r=this.config;if(!n.axis&&t){const i=typeof r.axisThreshold=="object"?r.axisThreshold[mS(t)]:r.axisThreshold;n.axis=iR(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const aR=e=>e,xb=.15,bS={enabled(e=!0){return e},eventOptions(e,t,n){return zt(zt({},n.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[xb,xb];case!1:return[0,0];default:return kt.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return kt.toVector(e)},transform(e,t,n){const r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||aR},threshold(e){return kt.toVector(e,0)}},oR=0,ss=zt(zt({},bS),{},{axis(e,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(e=oR){return e},bounds(e={}){if(typeof e=="function")return o=>ss.bounds(e(o));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=e;return[[t,n],[r,i]]}}),Db={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class sR extends Zc{constructor(...t){super(...t),tn(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const n=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+t.offset[0],right:n.right-r.right+t.offset[0],top:n.top-r.top+t.offset[1],bottom:n.bottom-r.bottom+t.offset[1]};t._bounds=ss.bounds(i)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const n=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(t.buttons):n.pointerButtons!==-1&&n.pointerButtons!==t.buttons))return;const i=this.ctrl.setEventIds(t);n.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=rm(t),r._pointerActive=!0,this.computeValues(xu(t)),this.computeInitial(),n.preventScrollAxis&&mS(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):n.delay>0?(this.setupDelayTrigger(t),n.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const n=this.state,r=this.config;if(!n._pointerActive)return;const i=rm(t);if(n._pointerId!==void 0&&i!==n._pointerId)return;const o=xu(t);if(document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=kt.sub(o,n._values),this.computeValues(o)),kt.addTo(n._movement,n._delta),this.compute(t),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=rm(t);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[o,u]=n._distance;if(n.tap=o<=r.tapsThreshold&&u<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[l,c]=n._delta,[f,g]=n._movement,[m,v]=r.swipe.velocity,[y,b]=r.swipe.distance,C=r.swipe.duration;if(n.elapsedTime<C){const A=Math.abs(l/n.timeDelta),x=Math.abs(c/n.timeDelta);A>m&&Math.abs(f)>y&&(n.swipe[0]=Math.sign(l)),x>v&&Math.abs(g)>b&&(n.swipe[1]=Math.sign(c))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const n=this.config,r=n.device;n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,uR(t);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const n=Db[t.key];if(n){const r=this.state,i=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,kt.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in Db&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function uR(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const Xc=typeof window<"u"&&window.document&&window.document.createElement;function CS(){return Xc&&"ontouchstart"in window}function lR(){return CS()||Xc&&window.navigator.maxTouchPoints>1}function cR(){return Xc&&"onpointerdown"in window}function dR(){return Xc&&"exitPointerLock"in window.document}function hR(){try{return"constructor"in GestureEvent}catch{return!1}}const Mr={isBrowser:Xc,gesture:hR(),touch:CS(),touchscreen:lR(),pointer:cR(),pointerLock:dR()},fR=250,pR=180,gR=.5,mR=50,vR=250,yR=10,Ib={mouse:0,touch:0,pen:8},ER=zt(zt({},ss),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Mr.pointerLock,Mr.touch&&n?"touch":this.pointerLock?"mouse":Mr.pointer&&!i?"pointer":Mr.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&e?fR:void 0,!(!Mr.touchscreen||n===!1))return e||(n!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const o=kt.toVector(e,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,o},swipe({velocity:e=gR,distance:t=mR,duration:n=vR}={}){return{velocity:this.transform(kt.toVector(e)),distance:this.transform(kt.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return pR;case!1:return 0;default:return e}},axisThreshold(e){return e?zt(zt({},Ib),e):Ib},keyboardDisplacement(e=yR){return e}});function SS(e){const[t,n]=e.overflow,[r,i]=e._delta,[o,u]=e._direction;(t<0&&r>0&&o<0||t>0&&r<0&&o>0)&&(e._movement[0]=e._movementBound[0]),(n<0&&i>0&&u<0||n>0&&i<0&&u>0)&&(e._movement[1]=e._movementBound[1])}const bR=30,CR=100;class SR extends ES{constructor(...t){super(...t),tn(this,"ingKey","pinching"),tn(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){const{type:t,movement:n,lastOffset:r}=this.state;t==="wheel"?this.state.offset=kt.add(n,r):this.state.offset=[(1+n[0])*r[0],n[1]+r[1]]}computeMovement(){const{offset:t,lastOffset:n}=this.state;this.state.movement=[t[0]/n[0],t[1]-n[1]]}axisIntent(){const t=this.state,[n,r]=t._movement;if(!t.axis){const i=Math.abs(n)*bR-Math.abs(r);i<0?t.axis="angle":i>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&(this.state.axis==="scale"?t[1]=0:this.state.axis==="angle"&&(t[0]=0))}cancel(){const t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);const n=this.state,r=this.ctrl.touchIds;if(n._active&&n._touchIds.every(o=>r.has(o))||r.size<2)return;this.start(t),n._touchIds=Array.from(r).slice(0,2);const i=Cb(t,n._touchIds);i&&this.pinchStart(t,i)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!==1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);const n=this.state,r=n._pointerEvents,i=this.ctrl.pointerIds;if(n._active&&Array.from(r.keys()).every(u=>i.has(u))||(r.size<2&&r.set(t.pointerId,t),n._pointerEvents.size<2))return;this.start(t);const o=n1(...Array.from(r.values()));o&&this.pinchStart(t,o)}pinchStart(t,n){const r=this.state;r.origin=n.origin,this.computeValues([n.distance,n.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;const n=Cb(t,this.state._touchIds);n&&this.pinchMove(t,n)}pointerMove(t){const n=this.state._pointerEvents;if(n.has(t.pointerId)&&n.set(t.pointerId,t),!this.state._active)return;const r=n1(...Array.from(n.values()));r&&this.pinchMove(t,r)}pinchMove(t,n){const r=this.state,i=r._values[1],o=n.angle-i;let u=0;Math.abs(o)>270&&(u+=Math.sign(o)),this.computeValues([n.distance,n.angle-360*u]),r.origin=n.origin,r.turns=u,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some(n=>!this.ctrl.touchIds.has(n))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){const n=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}n._pointerEvents.has(t.pointerId)&&n._pointerEvents.delete(t.pointerId),n._active&&n._pointerEvents.size<2&&(n._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();const n=this.state;n._active||(this.start(t),this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;const n=this.state;this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY];const r=n._movement;n._movement=[t.scale-1,t.rotation],n._delta=kt.sub(n._movement,r),this.compute(t),this.emit()}gestureEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}wheel(t){const n=this.config.modifierKey;n&&(Array.isArray(n)?!n.find(r=>t[r]):!t[n])||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();const r=this.state;r._delta=[-yS(t)[1]/CR*r.offset[0],0],kt.addTo(r._movement,r._delta),SS(r),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){const n=this.config.device;n&&(t(n,"start",this[n+"Start"].bind(this)),t(n,"change",this[n+"Move"].bind(this)),t(n,"end",this[n+"End"].bind(this)),t(n,"cancel",this[n+"End"].bind(this)),t("lostPointerCapture","",this[n+"End"].bind(this))),this.config.pinchOnWheel&&t("wheel","",this.wheel.bind(this),{passive:!1})}}const AR=zt(zt({},bS),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!Mr.touch&&Mr.gesture)return"gesture";if(Mr.touch&&r)return"touch";if(Mr.touchscreen){if(Mr.pointer)return"pointer";if(Mr.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){const i=u=>{const l=wb(Eh(n,u),{min:-1/0,max:1/0});return[l.min,l.max]},o=u=>{const l=wb(Eh(r,u),{min:-1/0,max:1/0});return[l.min,l.max]};return typeof n!="function"&&typeof r!="function"?[i(),o()]:u=>[i(u),o(u)]},threshold(e,t,n){return this.lockDirection=n.axis==="lock",kt.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});class wR extends Zc{constructor(...t){super(...t),tn(this,"ingKey","moving")}move(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.state._active?this.moveChange(t):this.moveStart(t),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(t){this.start(t),this.computeValues(xu(t)),this.compute(t),this.computeInitial(),this.emit()}moveChange(t){if(!this.state._active)return;const n=xu(t),r=this.state;r._delta=kt.sub(n,r._values),kt.addTo(r._movement,r._delta),this.computeValues(n),this.compute(t),this.emit()}moveEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}bind(t){t("pointer","change",this.move.bind(this)),t("pointer","leave",this.moveEnd.bind(this))}}const xR=zt(zt({},ss),{},{mouseOnly:(e=!0)=>e});class DR extends Zc{constructor(...t){super(...t),tn(this,"ingKey","scrolling")}scroll(t){this.state._active||this.start(t),this.scrollChange(t),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(t){t.cancelable&&t.preventDefault();const n=this.state,r=QT(t);n._delta=kt.sub(r,n._values),kt.addTo(n._movement,n._delta),this.computeValues(r),this.compute(t),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("scroll","",this.scroll.bind(this))}}const IR=ss;class TR extends Zc{constructor(...t){super(...t),tn(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){const n=this.state;n._delta=yS(t),kt.addTo(n._movement,n._delta),SS(n),this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}const RR=ss;class BR extends Zc{constructor(...t){super(...t),tn(this,"ingKey","hovering")}enter(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.start(t),this.computeValues(xu(t)),this.compute(t),this.emit())}leave(t){if(this.config.mouseOnly&&t.pointerType!=="mouse")return;const n=this.state;if(!n._active)return;n._active=!1;const r=xu(t);n._movement=n._delta=kt.sub(r,n._values),this.computeValues(r),this.compute(t),n.delta=n.movement,this.emit()}bind(t){t("pointer","enter",this.enter.bind(this)),t("pointer","leave",this.leave.bind(this))}}const kR=zt(zt({},ss),{},{mouseOnly:(e=!0)=>e}),l4=new Map,r1=new Map;function MR(e){l4.set(e.key,e.engine),r1.set(e.key,e.resolver)}const NR={key:"drag",engine:sR,resolver:ER},PR={key:"hover",engine:BR,resolver:kR},OR={key:"move",engine:wR,resolver:xR},LR={key:"pinch",engine:SR,resolver:AR},FR={key:"scroll",engine:DR,resolver:IR},_R={key:"wheel",engine:TR,resolver:RR};function $R(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function zR(e,t){if(e==null)return{};var n=$R(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const VR={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=Mr.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},UR=["target","eventOptions","window","enabled","transform"];function ch(e={},t){const n={};for(const[r,i]of Object.entries(t))switch(typeof i){case"function":n[r]=i.call(n,e[r],r,e);break;case"object":n[r]=ch(e[r],i);break;case"boolean":i&&(n[r]=e[r]);break}return n}function HR(e,t,n={}){const r=e,{target:i,eventOptions:o,window:u,enabled:l,transform:c}=r,f=zR(r,UR);if(n.shared=ch({target:i,eventOptions:o,window:u,enabled:l,transform:c},VR),t){const g=r1.get(t);n[t]=ch(zt({shared:n.shared},f),g)}else for(const g in f){const m=r1.get(g);m&&(n[g]=ch(zt({shared:n.shared},f[g]),m))}return n}class AS{constructor(t,n){tn(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}add(t,n,r,i,o){const u=this._listeners,l=ZT(n,r),c=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},f=zt(zt({},c),o);t.addEventListener(l,i,f);const g=()=>{t.removeEventListener(l,i,f),u.delete(g)};return u.add(g),g}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class GR{constructor(){tn(this,"_timeouts",new Map)}add(t,n,r=140,...i){this.remove(t),this._timeouts.set(t,window.setTimeout(n,r,...i))}remove(t){const n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class jR{constructor(t){tn(this,"gestures",new Set),tn(this,"_targetEventStore",new AS(this)),tn(this,"gestureEventStores",{}),tn(this,"gestureTimeoutStores",{}),tn(this,"handlers",{}),tn(this,"config",{}),tn(this,"pointerIds",new Set),tn(this,"touchIds",new Set),tn(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),KR(this,t)}setEventIds(t){if(Yh(t))return this.touchIds=new Set(qT(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=HR(t,n,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const u of this.gestures){const l=this.config[u],c=Tb(r,l.eventOptions,!!i);if(l.enabled){const f=l4.get(u);new f(this,t,u).bind(c)}}const o=Tb(r,n.eventOptions,!!i);for(const u in this.nativeHandlers)o(u,"",l=>this.nativeHandlers[u](zt(zt({},this.state.shared),{},{event:l,args:t})),void 0,!0)}for(const o in r)r[o]=nR(...r[o]);if(!i)return r;for(const o in r){const{device:u,capture:l,passive:c}=WT(o);this._targetEventStore.add(i,u,"",r[o],{capture:l,passive:c})}}}}function Qs(e,t){e.gestures.add(t),e.gestureEventStores[t]=new AS(e,t),e.gestureTimeoutStores[t]=new GR}function KR(e,t){t.drag&&Qs(e,"drag"),t.wheel&&Qs(e,"wheel"),t.scroll&&Qs(e,"scroll"),t.move&&Qs(e,"move"),t.pinch&&Qs(e,"pinch"),t.hover&&Qs(e,"hover")}const Tb=(e,t,n)=>(r,i,o,u={},l=!1)=>{var c,f;const g=(c=u.capture)!==null&&c!==void 0?c:t.capture,m=(f=u.passive)!==null&&f!==void 0?f:t.passive;let v=l?r:KT(r,i,g);n&&m&&(v+="Passive"),e[v]=e[v]||[],e[v].push(o)},YR=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function WR(e){const t={},n={},r=new Set;for(let i in e)YR.test(i)?(r.add(RegExp.lastMatch),n[i]=e[i]):t[i]=e[i];return[n,t,r]}function eu(e,t,n,r,i,o){if(!e.has(n)||!l4.has(r))return;const u=n+"Start",l=n+"End",c=f=>{let g;return f.first&&u in t&&t[u](f),n in t&&(g=t[n](f)),f.last&&l in t&&t[l](f),g};i[r]=c,o[r]=o[r]||{}}function ZR(e,t){const[n,r,i]=WR(e),o={};return eu(i,n,"onDrag","drag",o,t),eu(i,n,"onWheel","wheel",o,t),eu(i,n,"onScroll","scroll",o,t),eu(i,n,"onPinch","pinch",o,t),eu(i,n,"onMove","move",o,t),eu(i,n,"onHover","hover",o,t),{handlers:o,config:t,nativeHandlers:r}}function XR(e,t={},n,r){const i=$t.useMemo(()=>new jR(e),[]);if(i.applyHandlers(e,r),i.applyConfig(t,n),$t.useEffect(i.effect.bind(i)),$t.useEffect(()=>i.clean.bind(i),[]),t.target===void 0)return i.bind.bind(i)}function JR(e){return e.forEach(MR),function(n,r){const{handlers:i,nativeHandlers:o,config:u}=ZR(n,r||{});return XR(i,u,void 0,o)}}function qR(e,t){return JR([NR,LR,FR,_R,OR,PR])(e,t||{})}function Rb(e,t,n,r=i=>i){return e*r(.5-t*(.5-n))}function QR(e){return[-e[0],-e[1]]}function qr(e,t){return[e[0]+t[0],e[1]+t[1]]}function kr(e,t){return[e[0]-t[0],e[1]-t[1]]}function Jr(e,t){return[e[0]*t,e[1]*t]}function eB(e,t){return[e[0]/t,e[1]/t]}function Ql(e){return[e[1],-e[0]]}function Bb(e,t){return e[0]*t[0]+e[1]*t[1]}function tB(e,t){return e[0]===t[0]&&e[1]===t[1]}function nB(e){return Math.hypot(e[0],e[1])}function rB(e){return e[0]*e[0]+e[1]*e[1]}function kb(e,t){return rB(kr(e,t))}function wS(e){return eB(e,nB(e))}function iB(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function ec(e,t,n){let r=Math.sin(n),i=Math.cos(n),o=e[0]-t[0],u=e[1]-t[1],l=o*i-u*r,c=o*r+u*i;return[l+t[0],c+t[1]]}function i1(e,t,n){return qr(e,Jr(kr(t,e),n))}function Mb(e,t,n){return qr(e,Jr(t,n))}var{min:tu,PI:aB}=Math,Nb=.275,tc=aB+1e-4;function c4(e,t={}){let{size:n=16,smoothing:r=.5,thinning:i=.5,simulatePressure:o=!0,easing:u=V=>V,start:l={},end:c={},last:f=!1}=t,{cap:g=!0,easing:m=V=>V*(2-V)}=l,{cap:v=!0,easing:y=V=>--V*V*V+1}=c;if(e.length===0||n<=0)return[];let b=e[e.length-1].runningLength,C=l.taper===!1?0:l.taper===!0?Math.max(n,b):l.taper,A=c.taper===!1?0:c.taper===!0?Math.max(n,b):c.taper,x=Math.pow(n*r,2),D=[],T=[],N=e.slice(0,10).reduce((V,W)=>{let ce=W.pressure;if(o){let ge=tu(1,W.distance/n),z=tu(1,1-ge);ce=tu(1,V+(z-V)*(ge*Nb))}return(V+ce)/2},e[0].pressure),k=Rb(n,i,e[e.length-1].pressure,u),M,B=e[0].vector,P=e[0].point,_=P,U=P,K=_,J=!1;for(let V=0;V<e.length;V++){let{pressure:W}=e[V],{point:ce,vector:ge,distance:z,runningLength:ee}=e[V];if(V<e.length-1&&b-ee<3)continue;if(i){if(o){let Zt=tu(1,z/n),Bn=tu(1,1-Zt);W=tu(1,N+(Bn-N)*(Zt*Nb))}k=Rb(n,i,W,u)}else k=n/2;M===void 0&&(M=k);let de=ee<C?m(ee/C):1,me=b-ee<A?y((b-ee)/A):1;k=Math.max(.01,k*Math.min(de,me));let Se=(V<e.length-1?e[V+1]:e[V]).vector,Ae=V<e.length-1?Bb(ge,Se):1,Ne=Bb(ge,B)<0&&!J,He=Ae!==null&&Ae<0;if(Ne||He){let Zt=Jr(Ql(B),k);for(let Bn=1/13,zn=0;zn<=1;zn+=Bn)U=ec(kr(ce,Zt),ce,tc*zn),D.push(U),K=ec(qr(ce,Zt),ce,tc*-zn),T.push(K);P=U,_=K,He&&(J=!0);continue}if(J=!1,V===e.length-1){let Zt=Jr(Ql(ge),k);D.push(kr(ce,Zt)),T.push(qr(ce,Zt));continue}let rt=Jr(Ql(i1(Se,ge,Ae)),k);U=kr(ce,rt),(V<=1||kb(P,U)>x)&&(D.push(U),P=U),K=qr(ce,rt),(V<=1||kb(_,K)>x)&&(T.push(K),_=K),N=W,B=ge}let te=e[0].point.slice(0,2),fe=e.length>1?e[e.length-1].point.slice(0,2):qr(e[0].point,[1,1]),Ee=[],Y=[];if(e.length===1){if(!(C||A)||f){let V=Mb(te,wS(Ql(kr(te,fe))),-(M||k)),W=[];for(let ce=1/13,ge=ce;ge<=1;ge+=ce)W.push(ec(V,te,tc*2*ge));return W}}else{if(!(C||A&&e.length===1))if(g)for(let W=1/13,ce=W;ce<=1;ce+=W){let ge=ec(T[0],te,tc*ce);Ee.push(ge)}else{let W=kr(D[0],T[0]),ce=Jr(W,.5),ge=Jr(W,.51);Ee.push(kr(te,ce),kr(te,ge),qr(te,ge),qr(te,ce))}let V=Ql(QR(e[e.length-1].vector));if(A||C&&e.length===1)Y.push(fe);else if(v){let W=Mb(fe,V,k);for(let ce=1/29,ge=ce;ge<1;ge+=ce)Y.push(ec(W,fe,tc*3*ge))}else Y.push(qr(fe,Jr(V,k)),qr(fe,Jr(V,k*.99)),kr(fe,Jr(V,k*.99)),kr(fe,Jr(V,k)))}return D.concat(Y,T.reverse(),Ee)}function Ku(e,t={}){var n;let{streamline:r=.5,size:i=16,last:o=!1}=t;if(e.length===0)return[];let u=.15+(1-r)*.85,l=Array.isArray(e[0])?e:e.map(({x:y,y:b,pressure:C=.5})=>[y,b,C]);if(l.length===2){let y=l[1];l=l.slice(0,-1);for(let b=1;b<5;b++)l.push(i1(l[0],y,b/4))}l.length===1&&(l=[...l,[...qr(l[0],[1,1]),...l[0].slice(2)]]);let c=[{point:[l[0][0],l[0][1]],pressure:l[0][2]>=0?l[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],f=!1,g=0,m=c[0],v=l.length-1;for(let y=1;y<l.length;y++){let b=o&&y===v?l[y].slice(0,2):i1(m.point,l[y],u);if(tB(m.point,b))continue;let C=iB(b,m.point);if(g+=C,y<v&&!f){if(g<i)continue;f=!0}m={point:b,pressure:l[y][2]>=0?l[y][2]:.5,vector:wS(kr(m.point,b)),distance:C,runningLength:g},c.push(m)}return c[0].vector=((n=c[1])==null?void 0:n.vector)||[0,0],c}function oB(e,t={}){return c4(Ku(e,t),t)}var Jc=oB,sB=Object.defineProperty,uB=Object.defineProperties,lB=Object.getOwnPropertyDescriptors,Pb=Object.getOwnPropertySymbols,cB=Object.prototype.hasOwnProperty,dB=Object.prototype.propertyIsEnumerable,Ob=(e,t,n)=>t in e?sB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d4=(e,t)=>{for(var n in t||(t={}))cB.call(t,n)&&Ob(e,n,t[n]);if(Pb)for(var n of Pb(t))dB.call(t,n)&&Ob(e,n,t[n]);return e},h4=(e,t)=>uB(e,lB(t));function Dt(e,...t){return{didIntersect:t.length>0,message:e,points:t}}function go(e,t,n=0){let r=[e[0]+t[0]/2,e[1]+t[1]/2],i=R.rotWith(e,r,n),o=R.rotWith(R.add(e,[t[0],0]),r,n),u=R.rotWith(R.add(e,t),r,n),l=R.rotWith(R.add(e,[0,t[1]]),r,n);return[["top",[i,o]],["right",[o,u]],["bottom",[u,l]],["left",[l,i]]]}function hB(e,t,n){if(n===e||n===t)return!0;let r=Math.PI*2,i=(t-e+r)%r,o=(n-e+r)%r;return i<=Math.PI!=o>i}function fB(e,t){let n=R.slope(e[0],e[1]),r=R.slope(t[0],t[1]);if(n===r)return;if(Number.isNaN(n)&&!Number.isNaN(r))return[e[0][0],(e[0][0]-t[0][0])*r+t[0][1]];if(Number.isNaN(r)&&!Number.isNaN(n))return[t[0][0],(t[0][0]-e[0][0])*n+e[0][1]];let i=(n*e[0][0]-r*t[0][0]+t[0][1]-e[0][1])/(n-r),o=r*(i-t[0][0])+t[0][1];return[i,o]}function f4(e,t,n,r){let[i,o]=e,[u,l]=t,[c,f]=n,[g,m]=r;if(l/u!==(m-f)/(g-c)){let v=u*(m-f)-l*(g-c);if(v!==0){let y=((o-f)*(g-c)-(i-c)*(m-f))/v,b=((o-f)*u-(i-c)*l)/v;if(y>=0&&b>=0&&b<=1)return Dt("intersection",[i+y*u,o+y*l])}}return Dt("no intersection")}function pB(e,t,n,r,i=0){return yB(n,r,i,e,t)}function xS(e,t,n,r,i,o){let u=e,l=R.mul(t,999999999);return yu(u,l,n,r,i,o)}function dh(e,t,n,r=0){let{minX:i,minY:o,width:u,height:l}=n;return pB(e,t,[i,o],[u,l],r)}function qc(e,t,n,r){let i=R.sub(e,n),o=R.sub(r,n),u=R.sub(t,e),l=o[0]*i[1]-o[1]*i[0],c=u[0]*i[1]-u[1]*i[0],f=o[1]*u[0]-o[0]*u[1];if(l===0||c===0)return Dt("coincident");if(f===0)return Dt("parallel");if(f!==0){let g=l/f,m=c/f;if(0<=g&&g<=1&&0<=m&&m<=1)return Dt("intersection",R.add(e,R.mul(u,g)))}return Dt("no intersection")}function gB(e,t,n,r){return DS(n,r,e,t)}function mB(e,t,n,r,i,o){let u=R.angle(n,i),l=R.angle(n,o),c=BB(n,r,r,0,e,t);if(!c.didIntersect)return Dt("no intersection");let f=c.points.filter(g=>hB(u,l,R.angle(n,g)));return f.length===0?Dt("no intersection"):Dt("intersection",...f)}function p4(e,t,n,r){let i=(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]),o=2*((t[0]-e[0])*(e[0]-n[0])+(t[1]-e[1])*(e[1]-n[1])),u=n[0]*n[0]+n[1]*n[1]+e[0]*e[0]+e[1]*e[1]-2*(n[0]*e[0]+n[1]*e[1])-r*r,l=o*o-4*i*u;if(l<0)return Dt("outside");if(l===0)return Dt("tangent");let c=Math.sqrt(l),f=(-o+c)/(2*i),g=(-o-c)/(2*i);if((f<0||f>1)&&(g<0||g>1))return f<0&&g<0||f>1&&g>1?Dt("outside"):Dt("inside");let m=[];return 0<=f&&f<=1&&m.push(R.lrp(e,t,f)),0<=g&&g<=1&&m.push(R.lrp(e,t,g)),Dt("intersection",...m)}function yu(e,t,n,r,i,o=0){if(r===0||i===0||R.isEqual(e,t))return Dt("no intersection");r=r<0?r:-r,i=i<0?i:-i,e=R.sub(R.rotWith(e,n,-o),n),t=R.sub(R.rotWith(t,n,-o),n);let u=R.sub(t,e),l=u[0]*u[0]/r/r+u[1]*u[1]/i/i,c=2*e[0]*u[0]/r/r+2*e[1]*u[1]/i/i,f=e[0]*e[0]/r/r+e[1]*e[1]/i/i-1,g=[],m=c*c-4*l*f;if(m===0)g.push(-c/2/l);else if(m>0){let y=Math.sqrt(m);g.push((-c+y)/2/l),g.push((-c-y)/2/l)}let v=g.filter(y=>y>=0&&y<=1).map(y=>R.add(n,R.add(e,R.mul(R.sub(t,e),y)))).map(y=>R.rotWith(y,n,o));return Dt("intersection",...v)}function g4(e,t,n){return NB(n,e,t)}function m4(e,t,n){let r=[];for(let i=1;i<n.length;i++){let o=qc(e,t,n[i-1],n[i]);o&&r.push(...o.points)}return r.length===0?Dt("no intersection"):Dt("intersection",...n)}function vB(e,t,n){let r=[];for(let i=1;i<n.length+1;i++){let o=qc(e,t,n[i-1],n[i%n.length]);o&&r.push(...o.points)}return r.length===0?Dt("no intersection"):Dt("intersection",...n)}function yB(e,t,n,r,i){return go(e,t,n).reduce((o,[u,[l,c]])=>{let f=f4(r,i,l,c);return f&&o.push(Dt(u,...f.points)),o},[]).filter(o=>o.didIntersect)}function DS(e,t,n,r){return go(e,t).reduce((i,[o,[u,l]])=>{let c=qc(n,r,u,l);return c&&i.push(Dt(o,...c.points)),i},[]).filter(i=>i.didIntersect)}function EB(e,t,n,r){return go(e,t).reduce((i,[o,[u,l]])=>{let c=DS(n,r,u,l);return i.push(...c.map(f=>Dt(`${o} ${f.message}`,...f.points))),i},[]).filter(i=>i.didIntersect)}function bB(e,t,n,r,i,o){return go(e,t).reduce((u,[l,[c,f]])=>{let g=xB(n,r,i,o,c,f);return g&&u.push(h4(d4({},g),{message:l})),u},[]).filter(u=>u.didIntersect)}function CB(e,t,n,r){return go(e,t).reduce((i,[o,[u,l]])=>{let c=p4(u,l,n,r);return c&&i.push(h4(d4({},c),{message:o})),i},[]).filter(i=>i.didIntersect)}function SB(e,t,n,r,i,o=0){return go(e,t).reduce((u,[l,[c,f]])=>{let g=yu(c,f,n,r,i,o);return g&&u.push(h4(d4({},g),{message:l})),u},[]).filter(u=>u.didIntersect)}function AB(e,t,n){return go(e,t).reduce((r,[i,[o,u]])=>{let l=m4(o,u,n);return l.didIntersect&&r.push(Dt(i,...l.points)),r},[]).filter(r=>r.didIntersect)}function wB(e,t,n){return go(e,t).reduce((r,[i,[o,u]])=>{let l=vB(o,u,n);return l.didIntersect&&r.push(Dt(i,...l.points)),r},[]).filter(r=>r.didIntersect)}function xB(e,t,n,r,i,o){return mB(i,o,e,t,n,r)}function DB(e,t,n,r,i,o){return bB(i,o,e,t,n,r)}function IB(e,t,n,r,i){let{minX:o,minY:u,width:l,height:c}=i;return DB(e,t,n,r,[o,u],[l,c])}function TB(e,t,n,r){return p4(n,r,e,t)}function RB(e,t,n,r){let i=n[0]-e[0],o=n[1]-e[1],u=Math.sqrt(i*i+o*o),l=(u*u-r*r+t*t)/(2*u),c=Math.sqrt(t*t-l*l);return i/=u,o/=u,Dt("intersection",[e[0]+i*l-o*c,e[1]+o*l+i*c],[e[0]+i*l+o*c,e[1]+o*l-i*c])}function BB(e,t,n,r=0,i,o){return t===n?p4(i,o,e,t):yu(i,o,e,t,n,r)}function kB(e,t,n,r=0,i,o){return t===n?CB(i,o,e,t):SB(i,o,e,t,n,r)}function MB(e,t,n,r,i){let{minX:o,minY:u,width:l,height:c}=i;return kB(e,t,n,r,[o,u],[l,c])}function NB(e,t,n){let{minX:r,minY:i,width:o,height:u}=e;return gB(t,n,[r,i],[o,u])}function PB(e,t){return EB([e.minX,e.minY],[e.width,e.height],[t.minX,t.minY],[t.width,t.height])}function Lb(e,t){return LB(t,e)}function OB(e,t){return IS(t,e)}function LB(e,t){return AB([t.minX,t.minY],[t.width,t.height],e)}function IS(e,t){return wB([t.minX,t.minY],[t.width,t.height],e)}var FB=Object.defineProperty,_B=Object.defineProperties,$B=Object.getOwnPropertyDescriptors,bh=Object.getOwnPropertySymbols,TS=Object.prototype.hasOwnProperty,RS=Object.prototype.propertyIsEnumerable,a1=(e,t,n)=>t in e?FB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lt=(e,t)=>{for(var n in t||(t={}))TS.call(t,n)&&a1(e,n,t[n]);if(bh)for(var n of bh(t))RS.call(t,n)&&a1(e,n,t[n]);return e},bi=(e,t)=>_B(e,$B(t)),Yu=(e,t)=>{var n={};for(var r in e)TS.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bh)for(var r of bh(e))t.indexOf(r)<0&&RS.call(e,r)&&(n[r]=e[r]);return n},Pt=(e,t,n)=>(a1(e,typeof t!="symbol"?t+"":t,n),n),v4=h.createContext({});function Dn(){return h.useContext(v4)}var zB=(e=>(e.TransformSelected="transform_selected",e.TranslateSelected="translate_selected",e.TransformAll="transform_all",e.TranslateAll="translate_all",e))(zB||{}),VB=(e=>(e.Top="top_edge",e.Right="right_edge",e.Bottom="bottom_edge",e.Left="left_edge",e))(VB||{}),ri=(e=>(e.TopLeft="top_left_corner",e.TopRight="top_right_corner",e.BottomRight="bottom_right_corner",e.BottomLeft="bottom_left_corner",e))(ri||{}),UB=(e=>(e.minX="minX",e.midX="midX",e.maxX="maxX",e.minY="minY",e.midY="midY",e.maxY="maxY",e))(UB||{});String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return Object.prototype.toString.call(e).toLowerCase()==="[object regexp]"?this.replace(e,t):this.replace(new RegExp(e,"g"),t)});var B0=Math.PI*2,on=class{static lerp(t,n,r){return r=on.clamp(r,0,1),t*(1-r)+n*r}static lerpColor(t,n,r=.5){function i(f){let g=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(f);return[parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16)]}function o(f){return"#"+((1<<24)+(f[0]<<16)+(f[1]<<8)+f[2]).toString(16).slice(1)}let u=i(t)||[0,0,0],l=i(n)||[0,0,0],c=u.slice();for(let f=0;f<3;f++)c[f]=Math.round(c[f]+r*(l[f]-u[f]));return o(c)}static modulate(t,n,r,i=!1){let[o,u]=n,[l,c]=r,f=l+(t-o)/(u-o)*(c-l);return i?l<c?Math.max(Math.min(f,c),l):Math.max(Math.min(f,l),c):f}static clamp(t,n,r){return Math.max(n,typeof r<"u"?Math.min(t,r):t)}static deepClone(t){if(t===null)return t;if(Array.isArray(t))return[...t];if(typeof t=="object"){let n=lt({},t);return Object.keys(n).forEach(r=>n[r]=typeof t[r]=="object"?on.deepClone(t[r]):t[r]),n}return t}static rng(t=""){let n=0,r=0,i=0,o=0;function u(){let l=n^n<<11;return n=r,r=i,i=o,o^=(o>>>19^l^l>>>8)>>>0,o/4294967296}for(let l=0;l<t.length+64;l++)n^=t.charCodeAt(l)|0,u();return u}static pointsToLineSegments(t,n=!1){let r=[];for(let i=1;i<t.length;i++)r.push([t[i-1],t[i]]);return n&&r.push([t[t.length-1],t[0]]),r}static getRectangleSides(t,n,r=0){let i=[t[0]+n[0]/2,t[1]+n[1]/2],o=R.rotWith(t,i,r),u=R.rotWith(R.add(t,[n[0],0]),i,r),l=R.rotWith(R.add(t,n),i,r),c=R.rotWith(R.add(t,[0,n[1]]),i,r);return[["top",[o,u]],["right",[u,l]],["bottom",[l,c]],["left",[c,o]]]}static circleFromThreePoints(t,n,r){let[i,o]=t,[u,l]=n,[c,f]=r,g=i*(l-f)-o*(u-c)+u*f-c*l,m=(i*i+o*o)*(f-l)+(u*u+l*l)*(o-f)+(c*c+f*f)*(l-o),v=(i*i+o*o)*(u-c)+(u*u+l*l)*(c-i)+(c*c+f*f)*(i-u),y=-m/(2*g),b=-v/(2*g);return[y,b,Math.hypot(y-i,b-o)]}static perimeterOfEllipse(t,n){let r=Math.pow(t-n,2)/Math.pow(t+n,2);return Math.PI*(t+n)*(1+3*r/(10+Math.sqrt(4-3*r)))}static shortAngleDist(t,n){let r=Math.PI*2,i=(n-t)%r;return 2*i%r-i}static longAngleDist(t,n){return Math.PI*2-on.shortAngleDist(t,n)}static lerpAngles(t,n,r){return t+on.shortAngleDist(t,n)*r}static angleDelta(t,n){return on.shortAngleDist(t,n)}static getSweep(t,n,r){return on.angleDelta(R.angle(t,n),R.angle(t,r))}static clampRadians(t){return(Math.PI*2+t)%(Math.PI*2)}static snapAngleToSegments(t,n){let r=Math.PI*2/n;return Math.floor((on.clampRadians(t)+r/2)/r)*r}static isAngleBetween(t,n,r){if(r===t||r===n)return!0;let i=(n-t+B0)%B0,o=(r-t+B0)%B0;return i<=Math.PI!=o>i}static degreesToRadians(t){return t*Math.PI/180}static radiansToDegrees(t){return t*180/Math.PI}static getArcLength(t,n,r,i){let o=on.getSweep(t,r,i);return n*(2*Math.PI)*(o/(2*Math.PI))}static getSweepFlag(t,n,r){let i=R.angle(t,r);return(R.angle(t,n)-i+3*Math.PI)%(2*Math.PI)-Math.PI>0?0:1}static getLargeArcFlag(t,n,r){let i=R.angle(r,t),o=(R.angle(r,n)-i+3*Math.PI)%(2*Math.PI)-Math.PI;return Math.abs(o)>Math.PI/2?0:1}static getArcDashOffset(t,n,r,i,o){let u=on.getSweepFlag(t,r,i),l=on.getArcLength(t,n,r,i);return-(u<0?l:2*Math.PI*t[2]-l)/2+o}static getEllipseDashOffset(t,n){return-(2*Math.PI*t[2])/2+-n}static pointInCircle(t,n,r){return R.dist(t,n)<=r}static pointInEllipse(t,n,r,i,o=0){o=o||0;let u=Math.cos(o),l=Math.sin(o),c=R.sub(t,n),f=u*c[0]+l*c[1],g=l*c[0]-u*c[1];return f*f/(r*r)+g*g/(i*i)<=1}static pointInRect(t,n){return!(t[0]<n[0]||t[0]>t[0]+n[0]||t[1]<n[1]||t[1]>t[1]+n[1])}static pointInPolygon(t,n){let r=0;return n.forEach((i,o)=>{let u=n[(o+1)%n.length];i[1]<=t[1]?u[1]>t[1]&&R.cross(i,u,t)>0&&(r+=1):u[1]<=t[1]&&R.cross(i,u,t)<0&&(r-=1)}),r!==0}static pointInBounds(t,n){return!(t[0]<n.minX||t[0]>n.maxX||t[1]<n.minY||t[1]>n.maxY)}static pointInPolyline(t,n,r=3){for(let i=1;i<n.length;i++)if(R.distanceToLineSegment(n[i-1],n[i],t)<r)return!0;return!1}static getBoundsSides(t){return this.getRectangleSides([t.minX,t.minY],[t.width,t.height])}static expandBounds(t,n){return{minX:t.minX-n,minY:t.minY-n,maxX:t.maxX+n,maxY:t.maxY+n,width:t.width+n*2,height:t.height+n*2}}static boundsCollide(t,n){return!(t.maxX<n.minX||t.minX>n.maxX||t.maxY<n.minY||t.minY>n.maxY)}static boundsContain(t,n){return t.minX<n.minX&&t.minY<n.minY&&t.maxY>n.maxY&&t.maxX>n.maxX}static boundsContained(t,n){return on.boundsContain(n,t)}static boundsAreEqual(t,n){return!(n.maxX!==t.maxX||n.minX!==t.minX||n.maxY!==t.maxY||n.minY!==t.minY)}static getBoundsFromPoints(t,n=0){let r=1/0,i=1/0,o=-1/0,u=-1/0;if(t.length<2)r=0,i=0,o=1,u=1;else for(let[l,c]of t)r=Math.min(l,r),i=Math.min(c,i),o=Math.max(l,o),u=Math.max(c,u);return n!==0?on.getBoundsFromPoints(t.map(l=>R.rotWith(l,[(r+o)/2,(i+u)/2],n))):{minX:r,minY:i,maxX:o,maxY:u,width:Math.max(1,o-r),height:Math.max(1,u-i)}}static centerBounds(t,n){let r=this.getBoundsCenter(t),i=n[0]-r[0],o=n[1]-r[1];return this.translateBounds(t,[i,o])}static snapBoundsToGrid(t,n){let r=Math.round(t.minX/n)*n,i=Math.round(t.minY/n)*n,o=Math.round(t.maxX/n)*n,u=Math.round(t.maxY/n)*n;return{minX:r,minY:i,maxX:o,maxY:u,width:Math.max(1,o-r),height:Math.max(1,u-i)}}static translateBounds(t,n){return{minX:t.minX+n[0],minY:t.minY+n[1],maxX:t.maxX+n[0],maxY:t.maxY+n[1],width:t.width,height:t.height}}static rotateBounds(t,n,r){let[i,o]=R.rotWith([t.minX,t.minY],n,r),[u,l]=R.rotWith([t.maxX,t.maxY],n,r);return{minX:i,minY:o,maxX:u,maxY:l,width:t.width,height:t.height}}static getRotatedEllipseBounds(t,n,r,i,o=0){let u=Math.cos(o),l=Math.sin(o),c=Math.hypot(r*u,i*l),f=Math.hypot(r*l,i*u);return{minX:t+r-c,minY:n+i-f,maxX:t+r+c,maxY:n+i+f,width:c*2,height:f*2}}static getExpandedBounds(t,n){let r=Math.min(t.minX,n.minX),i=Math.min(t.minY,n.minY),o=Math.max(t.maxX,n.maxX),u=Math.max(t.maxY,n.maxY),l=Math.abs(o-r),c=Math.abs(u-i);return{minX:r,minY:i,maxX:o,maxY:u,width:l,height:c}}static getCommonBounds(t){if(t.length<2)return t[0];let n=t[0];for(let r=1;r<t.length;r++)n=on.getExpandedBounds(n,t[r]);return n}static getRotatedCorners(t,n=0){let r=[t.minX+t.width/2,t.minY+t.height/2];return[[t.minX,t.minY],[t.maxX,t.minY],[t.maxX,t.maxY],[t.minX,t.maxY]].map(i=>R.rotWith(i,r,n))}static getTransformedBoundingBox(t,n,r,i=0,o=!1){let[u,l]=[t.minX,t.minY],[c,f]=[t.maxX,t.maxY],[g,m]=[t.minX,t.minY],[v,y]=[t.maxX,t.maxY];if(n==="center")return{minX:g+r[0],minY:m+r[1],maxX:v+r[0],maxY:y+r[1],width:v-g,height:y-m,scaleX:1,scaleY:1};let[b,C]=R.rot(r,-i);switch(n){case"top_edge":case"top_left_corner":case"top_right_corner":{m+=C;break}case"bottom_edge":case"bottom_left_corner":case"bottom_right_corner":{y+=C;break}}switch(n){case"left_edge":case"top_left_corner":case"bottom_left_corner":{g+=b;break}case"right_edge":case"top_right_corner":case"bottom_right_corner":{v+=b;break}}let A=c-u,x=f-l,D=(v-g)/A,T=(y-m)/x,N=D<0,k=T<0,M=Math.abs(v-g),B=Math.abs(y-m);if(o){let P=A/x,_=P<M/B,U=M*(T<0?1:-1)*(1/P),K=B*(D<0?1:-1)*P;switch(n){case"top_left_corner":{_?m=y+U:g=v+K;break}case"top_right_corner":{_?m=y+U:v=g-K;break}case"bottom_right_corner":{_?y=m-U:v=g-K;break}case"bottom_left_corner":{_?y=m-U:g=v+K;break}case"bottom_edge":case"top_edge":{let J=(g+v)/2,te=B*P;g=J-te/2,v=J+te/2;break}case"left_edge":case"right_edge":{let J=(m+y)/2,te=M/P;m=J-te/2,y=J+te/2;break}}}if(i%(Math.PI*2)!==0){let P=[0,0],_=R.med([u,l],[c,f]),U=R.med([g,m],[v,y]);switch(n){case"top_left_corner":{P=R.sub(R.rotWith([v,y],U,i),R.rotWith([c,f],_,i));break}case"top_right_corner":{P=R.sub(R.rotWith([g,y],U,i),R.rotWith([u,f],_,i));break}case"bottom_right_corner":{P=R.sub(R.rotWith([g,m],U,i),R.rotWith([u,l],_,i));break}case"bottom_left_corner":{P=R.sub(R.rotWith([v,m],U,i),R.rotWith([c,l],_,i));break}case"top_edge":{P=R.sub(R.rotWith(R.med([g,y],[v,y]),U,i),R.rotWith(R.med([u,f],[c,f]),_,i));break}case"left_edge":{P=R.sub(R.rotWith(R.med([v,m],[v,y]),U,i),R.rotWith(R.med([c,l],[c,f]),_,i));break}case"bottom_edge":{P=R.sub(R.rotWith(R.med([g,m],[v,m]),U,i),R.rotWith(R.med([u,l],[c,l]),_,i));break}case"right_edge":{P=R.sub(R.rotWith(R.med([g,m],[g,y]),U,i),R.rotWith(R.med([u,l],[u,f]),_,i));break}}[g,m]=R.sub([g,m],P),[v,y]=R.sub([v,y],P)}return v<g&&([v,g]=[g,v]),y<m&&([y,m]=[m,y]),{minX:g,minY:m,maxX:v,maxY:y,width:v-g,height:y-m,scaleX:(v-g)/(c-u||1)*(N?-1:1),scaleY:(y-m)/(f-l||1)*(k?-1:1)}}static getTransformAnchor(t,n,r){let i=t;switch(t){case"top_left_corner":{n&&r?i="bottom_right_corner":n?i="top_right_corner":r?i="bottom_left_corner":i="bottom_right_corner";break}case"top_right_corner":{n&&r?i="bottom_left_corner":n?i="top_left_corner":r?i="bottom_right_corner":i="bottom_left_corner";break}case"bottom_right_corner":{n&&r?i="top_left_corner":n?i="bottom_left_corner":r?i="top_right_corner":i="top_left_corner";break}case"bottom_left_corner":{n&&r?i="top_right_corner":n?i="bottom_right_corner":r?i="top_left_corner":i="top_right_corner";break}}return i}static getRelativeTransformedBoundingBox(t,n,r,i,o){let u=(i?n.maxX-r.maxX:r.minX-n.minX)/n.width,l=(o?n.maxY-r.maxY:r.minY-n.minY)/n.height,c=r.width/n.width,f=r.height/n.height,g=t.minX+t.width*u,m=t.minY+t.height*l,v=t.width*c,y=t.height*f;return{minX:g,minY:m,maxX:g+v,maxY:m+y,width:v,height:y}}static getRotatedSize(t,n){let r=R.div(t,2),i=[[0,0],[t[0],0],t,[0,t[1]]].map(u=>R.rotWith(u,r,n)),o=on.getBoundsFromPoints(i);return[o.width,o.height]}static getBoundsCenter(t){return[t.minX+t.width/2,t.minY+t.height/2]}static getBoundsWithCenter(t){let n=on.getBoundsCenter(t);return bi(lt({},t),{midX:n[0],midY:n[1]})}static getCommonTopLeft(t){let n=[1/0,1/0];return t.forEach(r=>{n[0]=Math.min(n[0],r[0]),n[1]=Math.min(n[1],r[1])}),n}static getFromCache(t,n,r){let i=t.get(n);if(i===void 0&&(t.set(n,r()),i=t.get(n),i===void 0))throw Error("Cache did not include item!");return i}static uniqueId(t=""){return t?((Number(t)^Math.random()*16)>>Number(t)/4).toString(16):`10000000-1000-4000-8000-${1e11}`.replace(/[018]/g,on.uniqueId)}static rotateArray(t,n){return t.map((r,i)=>t[(i+n)%t.length])}static debounce(t,n=0){let r;return function(...i){clearTimeout(r),r=setTimeout(()=>t.apply(i),n)}}static getSvgPathFromStroke(t,n=!0){let r=t.length;if(r<4)return"";let i=t[0],o=t[1],u=t[2],l=`M${i[0].toFixed(2)},${i[1].toFixed(2)} Q${o[0].toFixed(2)},${o[1].toFixed(2)} ${Ya(o[0],u[0]).toFixed(2)},${Ya(o[1],u[1]).toFixed(2)} T`;for(let c=2,f=r-1;c<f;c++)i=t[c],o=t[c+1],l+=`${Ya(i[0],o[0]).toFixed(2)},${Ya(i[1],o[1]).toFixed(2)} `;return n&&(l+="Z"),l}static getSvgPathFromStrokePoints(t,n=!1){let r=t.length;if(r<4)return"";let i=t[0].point,o=t[1].point,u=t[2].point,l=`M${i[0].toFixed(2)},${i[1].toFixed(2)} Q${o[0].toFixed(2)},${o[1].toFixed(2)} ${Ya(o[0],u[0]).toFixed(2)},${Ya(o[1],u[1]).toFixed(2)} T`;for(let c=2,f=r-1;c<f;c++)i=t[c].point,o=t[c+1].point,l+=`${Ya(i[0],o[0]).toFixed(2)},${Ya(i[1],o[1]).toFixed(2)} `;return n&&(l+="Z"),l}static getPerfectDashProps(t,n,r,i=1,o=!0,u=2){let l,c,f;if(r.toLowerCase()==="dashed")l=n*u,f=1,c=o?(l/2).toString():"0";else if(r.toLowerCase()==="dotted")l=n/100,f=100,c="0";else return{strokeDasharray:"none",strokeDashoffset:"none"};let g=Math.floor(t/l/(2*f));g-=g%i,g=Math.max(g,4);let m=Math.max(l,(t-g*l)/(o?g:g-1));return{strokeDasharray:[l,m].join(" "),strokeDashoffset:c}}static isMobileSafari(){if(typeof window>"u")return!1;let t=window.navigator.userAgent,n=!!t.match(/iPad/i)||!!t.match(/iPhone/i),r=!!t.match(/WebKit/i);return n&&r&&!t.match(/CriOS/i)}static throttle(t,n){let r,i;return function(...o){return r||(r=!0,setTimeout(()=>r=!1,n),i=t(...o)),i}}static isDarwin(){return/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)}static metaKey(t){return on.isDarwin()?t.metaKey:t.ctrlKey}static lns(t){let n=t.split("");return n.push(...n.splice(0,Math.round(n.length/5))),n.push(...n.splice(0,Math.round(n.length/4))),n.push(...n.splice(0,Math.round(n.length/3))),n.push(...n.splice(0,Math.round(n.length/2))),n.reverse().map(r=>+r?+r<5?5+ +r:+r>5?+r-5:r:r).join("")}},F=on;Pt(F,"getSnapPoints",(e,t,n)=>{let r=lt({},e),i=[0,0],o=[],u={minX:{id:"minX",isSnapped:!1},midX:{id:"midX",isSnapped:!1},maxX:{id:"maxX",isSnapped:!1},minY:{id:"minY",isSnapped:!1},midY:{id:"midY",isSnapped:!1},maxY:{id:"maxY",isSnapped:!1}},l=["midX","minX","maxX"],c=["midY","minY","maxY"],f=t.map(b=>{let C=l.flatMap((x,D)=>l.map((T,N)=>{let k=r[x]-b[T],M=Math.abs(k);return{f:x,t:T,gap:k,distance:M,isCareful:D===0||D+N===3}})),A=c.flatMap((x,D)=>c.map((T,N)=>{let k=r[x]-b[T],M=Math.abs(k);return{f:x,t:T,gap:k,distance:M,isCareful:D===0||D+N===3}}));return[b,C,A]}),g=1/0,m=1/0,v=1/0,y=1/0;return f.forEach(([b,C,A])=>{C.forEach(x=>{x.distance<n&&x.distance<v&&(v=x.distance,g=x.gap)}),A.forEach(x=>{x.distance<n&&x.distance<y&&(y=x.distance,m=x.gap)})}),f.forEach(([b,C,A])=>{g!==1/0&&C.forEach(x=>{Math.abs(x.gap-g)<2&&(u[x.f]=bi(lt({},u[x.f]),{isSnapped:!0,to:b[x.t],B:b,distance:x.distance}))}),m!==1/0&&A.forEach(x=>{Math.abs(x.gap-m)<2&&(u[x.f]=bi(lt({},u[x.f]),{isSnapped:!0,to:b[x.t],B:b,distance:x.distance}))})}),i[0]=g===1/0?0:g,i[1]=m===1/0?0:m,r.minX-=i[0],r.midX-=i[0],r.maxX-=i[0],r.minY-=i[1],r.midY-=i[1],r.maxY-=i[1],l.forEach(b=>{let C=u[b];if(!C.isSnapped)return;let{id:A,B:x}=C,D=r[A];o.push(A==="minX"?[[D,r.midY],[D,x.minY],[D,x.maxY]]:[[D,r.minY],[D,r.maxY],[D,x.minY],[D,x.maxY]])}),c.forEach(b=>{let C=u[b];if(!C.isSnapped)return;let{id:A,B:x}=C,D=r[A];o.push(A==="midY"?[[r.midX,D],[x.minX,D],[x.maxX,D]]:[[r.minX,D],[r.maxX,D],[x.minX,D],[x.maxX,D]])}),{offset:i,snapLines:o}}),Pt(F,"deepMerge",(e,t)=>{let n=lt({},e),r=Object.entries(t);for(let[i,o]of r)n[i]=o===Object(o)&&!Array.isArray(o)?on.deepMerge(n[i],o):o;return n});function Ya(e,t){return(e+t)/2}var fr=F;function HB(e,t){let n=h.useRef(void 0),r=h.useRef(void 0),i=h.useRef([0,0]),o=h.useRef(0),{inputs:u,bounds:l,callbacks:c}=Dn();h.useEffect(()=>{let y=b=>b.preventDefault();return document.addEventListener("gesturestart",y),document.addEventListener("gesturechange",y),()=>{document.removeEventListener("gesturestart",y),document.removeEventListener("gesturechange",y)}},[]);let f=h.useCallback(({event:y})=>{var b,C,A,x;if(y.preventDefault(),u.isPinching||y.timeStamp<=o.current)return;o.current=y.timeStamp;let[D,T,N]=GB(y);if((y.altKey||y.ctrlKey||y.metaKey)&&y.buttons===0){let B=[...(C=(b=u.pointer)==null?void 0:b.point)!=null?C:[l.width/2,l.height/2],N*.618],P=u.pan(B,y);(A=c.onZoom)==null||A.call(c,bi(lt({},P),{delta:B}),y);return}let k=R.mul(y.shiftKey&&!fr.isDarwin()?[T,0]:[D,T],.5);if(R.isEqual(k,[0,0]))return;let M=u.pan(k,y);(x=c.onPan)==null||x.call(c,M,y)},[c,u,l]),g=h.useCallback(({origin:y,event:b})=>{var C;if(b instanceof WheelEvent)return;let A=t.current;if(!A||!(b.target===A||A.contains(b.target)))return;let x=u.pinch(y,y);u.isPinching=!0,(C=c.onPinchStart)==null||C.call(c,x,b),r.current=x.point,n.current=x.origin,i.current=[0,0]},[c,u,l]),m=h.useCallback(({origin:y,offset:b,event:C})=>{var A;if(C instanceof WheelEvent)return;let x=t.current;if(!(C.target===x||x?.contains(C.target))||!n.current)return;let D=u.pinch(y,n.current),T=R.sub(D.delta,i.current);i.current=D.delta,(A=c.onPinch)==null||A.call(c,bi(lt({},D),{point:D.point,origin:n.current,delta:[...T,b[0]]}),C),r.current=y},[c,u,l]),v=h.useCallback(({origin:y,event:b})=>{var C;let A=t.current;if(!(b.target===A||A?.contains(b.target)))return;let x=u.pinch(y,y);u.isPinching=!1,(C=c.onPinchEnd)==null||C.call(c,x,b),r.current=void 0,n.current=void 0,i.current=[0,0]},[]);qR({onWheel:f,onPinchStart:g,onPinch:m,onPinchEnd:v},{target:t,eventOptions:{passive:!1},pinch:{from:[e.current,0],scaleBounds:()=>({from:e.current,max:5,min:.1})}})}var Fb=10;function GB(e){let{deltaY:t,deltaX:n}=e,r=0;if(e.ctrlKey||e.metaKey){let i=Math.sign(e.deltaY),o=Math.abs(e.deltaY),u=t;o>Fb&&(u=Fb*i),r=u}return[n,t,r]}function jB(){let{callbacks:e}=Dn();h.useEffect(()=>{function t(){var n;(n=e.onShapeBlur)==null||n.call(e)}return fr.isMobileSafari()?(document.addEventListener("focusout",t),()=>document.removeEventListener("focusout",t)):()=>null},[e])}function KB(){let{callbacks:e,inputs:t}=Dn();return h.useMemo(()=>({onPointerDown:n=>{var r,i,o;if(n.dead||(n.dead=!0,!t.pointerIsValid(n)))return;if(n.currentTarget.setPointerCapture(n.pointerId),n.button===2){(r=e.onRightPointCanvas)==null||r.call(e,t.pointerDown(n,"canvas"),n);return}let u=t.pointerDown(n,"canvas");n.button===0&&((i=e.onPointCanvas)==null||i.call(e,u,n)),(o=e.onPointerDown)==null||o.call(e,u,n)},onPointerMove:n=>{var r,i;if(n.dead||(n.dead=!0,!t.pointerIsValid(n)))return;let o=t.pointerMove(n,"canvas");n.buttons===1&&n.currentTarget.hasPointerCapture(n.pointerId)&&((r=e.onDragCanvas)==null||r.call(e,o,n)),(i=e.onPointerMove)==null||i.call(e,o,n)},onPointerUp:n=>{var r,i,o,u,l;if(n.dead||(n.dead=!0,t.activePointer=void 0,!t.pointerIsValid(n)))return;let c=t.isDoubleClick(),f=t.pointerUp(n,"canvas");if(n.button===2){(r=e.onPointerUp)==null||r.call(e,f,n);return}n.currentTarget.hasPointerCapture(n.pointerId)&&((i=n.currentTarget)==null||i.releasePointerCapture(n.pointerId)),n.button===0&&(c&&!(f.altKey||f.metaKey)&&((o=e.onDoubleClickCanvas)==null||o.call(e,f,n)),(u=e.onReleaseCanvas)==null||u.call(e,f,n)),(l=e.onPointerUp)==null||l.call(e,f,n)},onDrop:e.onDrop,onDragOver:e.onDragOver}),[e,t])}function YB(e){let{rPageState:t,rSelectionBounds:n,callbacks:r,inputs:i}=h.useContext(v4);return h.useMemo(()=>({onPointerDown:o=>{var u,l,c,f,g,m,v;if(o.dead||(o.dead=!0,!i.pointerIsValid(o)))return;if(o.button===2){(u=r.onRightPointShape)==null||u.call(r,i.pointerDown(o,e),o);return}let y=i.pointerDown(o,e);if((l=o.currentTarget)==null||l.setPointerCapture(o.pointerId),n.current&&F.pointInBounds(y.point,n.current)&&!t.current.selectedIds.includes(e)){o.button===0&&((c=r.onPointBounds)==null||c.call(r,i.pointerDown(o,"bounds"),o),(f=r.onPointShape)==null||f.call(r,y,o)),(g=r.onPointerDown)==null||g.call(r,y,o);return}o.button===0&&((m=r.onPointShape)==null||m.call(r,y,o)),(v=r.onPointerDown)==null||v.call(r,y,o)},onPointerUp:o=>{var u,l,c,f;if(o.dead||(o.dead=!0,!i.pointerIsValid(o))||o.button===2)return;i.activePointer=void 0;let g=i.isDoubleClick(),m=i.pointerUp(o,e);o.pointerId&&o.currentTarget.hasPointerCapture(o.pointerId)&&((u=o.currentTarget)==null||u.releasePointerCapture(o.pointerId)),o.button===0&&(g&&!(m.altKey||m.metaKey)&&((l=r.onDoubleClickShape)==null||l.call(r,m,o)),(c=r.onReleaseShape)==null||c.call(r,m,o)),(f=r.onPointerUp)==null||f.call(r,m,o)},onPointerMove:o=>{var u,l;if(o.dead||(o.dead=!0,o.buttons===2||!i.pointerIsValid(o)||i.pointer&&o.pointerId!==i.pointer.pointerId))return;let c=i.pointerMove(o,e);o.buttons===1&&o.currentTarget.hasPointerCapture(o.pointerId)&&((u=r.onDragShape)==null||u.call(r,c,o)),(l=r.onPointerMove)==null||l.call(r,c,o)},onPointerEnter:o=>{var u;if(!i.pointerIsValid(o))return;let l=i.pointerEnter(o,e);(u=r.onHoverShape)==null||u.call(r,l,o)},onPointerLeave:o=>{var u;if(!i.pointerIsValid(o))return;let l=i.pointerEnter(o,e);(u=r.onUnhoverShape)==null||u.call(r,l,o)}}),[i,r,e])}function BS(e,t,n,r,i,o=!1,u=!1,l,c){let f={shape:e,asset:e.assetId?i[e.assetId]:void 0,meta:l,isChildOfSelected:u,isGhost:e.isGhost||o,isEditing:r.editingId===e.id,isBinding:c===e.id,isSelected:r.selectedIds.includes(e.id),isHovered:r.hoveredId===e.id||e.children!==void 0&&(r.hoveredId&&e.children.includes(r.hoveredId)||e.children.some(g=>r.selectedIds.includes(g)))};t.push(f),e.children&&(f.children=[],e.children.map(g=>n[g]).filter(g=>n[g.id]).sort((g,m)=>g.childIndex-m.childIndex).forEach(g=>BS(g,f.children,n,r,i,f.isGhost,f.isSelected||f.isChildOfSelected,l)))}function WB(e,t){return F.boundsContain(t,e)||F.boundsCollide(t,e)}function ZB(e,t,n,r){let{callbacks:i,shapeUtils:o,bounds:u}=Dn(),l=h.useRef(),c=h.useRef(-1),f=h.useRef(new Set),g=h.useRef(new Set),{selectedIds:m,camera:v}=t,[y,b]=R.sub(R.div([0,0],v.zoom),v.point),[C,A]=R.sub(R.div([u.width,u.height],v.zoom),v.point),x={minX:y,minY:b,maxX:C,maxY:A,height:C-y,width:A-b},D=g.current,T=f.current;D.clear(),T.clear(),Object.values(e.shapes).filter(M=>o[M.type].isStateful||m.includes(M.id)||WB(o[M.type].getBounds(M),x)).forEach(M=>{if(M.parentId===e.id){T.add(M.id),D.add(M);return}let B=e.shapes[M.parentId];if(B===void 0)throw Error(`A shape (${M.id}) has a parent (${M.parentId}) that does not exist!`);T.add(B.id),D.add(B)}),D.size!==c.current&&(l.current&&clearTimeout(l.current),l.current=requestAnimationFrame(()=>{var M;(M=i.onRenderCountChange)==null||M.call(i,Array.from(T.values()))}),c.current=D.size);let N=t.bindingId?e.bindings[t.bindingId].toId:void 0,k=[];return D.forEach(M=>{if(M===void 0)throw Error("Rendered shapes included a missing shape");BS(M,k,e.shapes,t,n,M.isGhost,!1,r,N)}),k.sort((M,B)=>M.shape.childIndex-B.shape.childIndex),k}var im=new Map;function XB(e,t){return Object.keys(t).reduce((n,r)=>{let i=t[r];return i?n+`${`--${e}-${r}`}: ${i};
`:n},"")}function JB(e,t,n=":root"){h.useLayoutEffect(()=>{let r=document.createElement("style"),i=XB(e,t);return r.setAttribute("id",`${e}-theme`),r.setAttribute("data-selector",n),r.innerHTML=`
        ${n} {
          ${i}
        }
      `,document.head.appendChild(r),()=>{r&&document.head.contains(r)&&document.head.removeChild(r)}},[e,t,n])}function qB(e,t){h.useLayoutEffect(()=>{if(im.get(e))return()=>{};let n=document.createElement("style");return n.innerHTML=t,n.setAttribute("id",e),document.head.appendChild(n),im.set(e,n),()=>{n&&document.head.contains(n)&&(document.head.removeChild(n),im.delete(e))}},[e,t])}var QB=(e,...t)=>e.reduce((n,r,i)=>n+r+(i<t.length?t[i]:""),""),ek={accent:"rgb(255, 0, 0)",brushFill:"rgba(0,0,0,.05)",brushStroke:"rgba(0,0,0,.25)",brushDashStroke:"rgba(0,0,0,.6)",selectStroke:"rgb(66, 133, 244)",selectFill:"rgba(65, 132, 244, 0.05)",binding:"rgba(65, 132, 244, 0.12)",background:"rgb(248, 249, 250)",foreground:"rgb(51, 51, 51)",grid:"rgba(144, 144, 144, 1)"},tk=QB`
  .tl-container {
    --tl-zoom: 1;
    --tl-scale: calc(1 / var(--tl-zoom));
    --tl-padding: calc(64px * max(1, var(--tl-scale)));
    --tl-performance-all: auto;
    --tl-performance-selected: auto;
    position: relative;
    top: 0px;
    left: 0px;
    width: 100%;
    height: 100%;
    max-width: 100%;
    max-height: 100%;
    box-sizing: border-box;
    padding: 0px;
    margin: 0px;
    z-index: 100;
    overflow: hidden;
    touch-action: none;
    overscroll-behavior: none;
    background-color: var(--tl-background);
  }
  .tl-container * {
    box-sizing: border-box;
  }
  .tl-overlay {
    position: absolute;
    width: 100%;
    height: 100%;
    touch-action: none;
    pointer-events: none;
  }
  .tl-grid {
    position: absolute;
    width: 100%;
    height: 100%;
    touch-action: none;
    pointer-events: none;
    user-select: none;
  }
  .tl-snap-line {
    stroke: var(--tl-accent);
    stroke-width: calc(1px * var(--tl-scale));
  }
  .tl-snap-point {
    stroke: var(--tl-accent);
    stroke-width: calc(1px * var(--tl-scale));
  }
  .tl-canvas {
    position: absolute;
    width: 100%;
    height: 100%;
    touch-action: none;
    pointer-events: all;
    overflow: clip;
  }
  .tl-layer {
    position: absolute;
    top: 0px;
    left: 0px;
    height: 0px;
    width: 0px;
    contain: layout style size;
  }
  .tl-absolute {
    position: absolute;
    top: 0px;
    left: 0px;
    transform-origin: center center;
    contain: layout style size;
  }
  .tl-positioned {
    position: absolute;
    top: 0px;
    left: 0px;
    transform-origin: center center;
    pointer-events: none;
    display: flex;
    align-items: center;
    justify-content: center;
    contain: layout style size;
    will-change: var(--tl-performance-all);
  }
  .tl-positioned-svg {
    width: 100%;
    height: 100%;
    overflow: hidden;
    contain: layout style size;
  }
  .tl-positioned-div {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
    padding: var(--tl-padding);
    overflow: hidden;
    contain: layout style size;
  }
  .tl-positioned-selected {
    will-change: var(--tl-performance-selected);
  }
  .tl-inner-div {
    position: relative;
    width: 100%;
    height: 100%;
  }
  .tl-stroke-hitarea {
    fill: none;
    stroke: transparent;
    stroke-width: calc(24px * var(--tl-scale));
    pointer-events: stroke;
    stroke-linecap: round;
    stroke-linejoin: round;
  }
  .tl-fill-hitarea {
    fill: transparent;
    stroke: transparent;
    stroke-width: calc(24px * var(--tl-scale));
    pointer-events: all;
    stroke-linecap: round;
    stroke-linejoin: round;
  }
  .tl-counter-scaled {
    transform: scale(var(--tl-scale));
  }
  .tl-dashed {
    stroke-dasharray: calc(2px * var(--tl-scale)), calc(2px * var(--tl-scale));
  }
  .tl-transparent {
    fill: transparent;
    stroke: transparent;
  }
  .tl-cursor-ns {
    cursor: ns-resize;
  }
  .tl-cursor-ew {
    cursor: ew-resize;
  }
  .tl-cursor-nesw {
    cursor: nesw-resize;
  }
  .tl-cursor-nwse {
    cursor: nwse-resize;
  }
  .tl-corner-handle {
    stroke: var(--tl-selectStroke);
    fill: var(--tl-background);
    stroke-width: calc(1.5px * var(--tl-scale));
  }
  .tl-rotate-handle {
    stroke: var(--tl-selectStroke);
    fill: var(--tl-background);
    stroke-width: calc(1.5px * var(--tl-scale));
    cursor: grab;
  }
  .tl-binding {
    fill: var(--tl-selectFill);
    stroke: var(--tl-selectStroke);
    stroke-width: calc(1px * var(--tl-scale));
    pointer-events: none;
  }
  .tl-user {
    left: calc(-15px * var(--tl-scale));
    top: calc(-15px * var(--tl-scale));
    height: calc(35px * var(--tl-scale));
    width: calc(35px * var(--tl-scale));
    transform: scale(var(--tl-scale));
    pointer-events: none;
    will-change: transform;
  }
  .tl-animated {
    transition: transform 200ms linear;
  }
  .tl-indicator {
    fill: transparent;
    stroke-width: calc(1.5px * var(--tl-scale));
    pointer-events: none;
  }
  .tl-user-indicator-bounds {
    border-style: solid;
    border-width: calc(1px * var(--tl-scale));
  }
  .tl-hovered {
    stroke: var(--tl-selectStroke);
  }
  .tl-selected {
    stroke: var(--tl-selectStroke);
  }
  .tl-locked {
    stroke-dasharray: calc(3px * var(--tl-scale)) calc(3px * var(--tl-scale));
  }
  .tl-editing {
    stroke-width: calc(2.5px * min(5, var(--tl-scale)));
  }
  .tl-performance {
    will-change: transform, contents;
  }
  .tl-clone-target {
    pointer-events: all;
  }
  .tl-clone-target:hover .tl-clone-button {
    opacity: 1;
  }
  .tl-clone-button-target {
    cursor: pointer;
    pointer-events: all;
  }
  .tl-clone-button-target:hover .tl-clone-button {
    fill: var(--tl-selectStroke);
  }
  .tl-clone-button {
    opacity: 0;
    r: calc(8px * var(--tl-scale));
    stroke-width: calc(1.5px * var(--tl-scale));
    stroke: var(--tl-selectStroke);
    fill: var(--tl-background);
  }
  .tl-bounds {
    pointer-events: none;
    contain: layout style size;
  }
  .tl-bounds-bg {
    stroke: none;
    fill: var(--tl-selectFill);
    pointer-events: all;
    contain: layout style size;
  }
  .tl-bounds-center {
    fill: transparent;
    stroke: var(--tl-selectStroke);
    stroke-width: calc(1.5px * var(--tl-scale));
  }
  .tl-brush {
    fill: var(--tl-brushFill);
    stroke: var(--tl-brushStroke);
    stroke-width: calc(1px * var(--tl-scale));
    pointer-events: none;
    contain: layout style size;
  }
  .tl-dashed-brush-line {
    fill: none;
    stroke: var(--tl-brushDashStroke);
    stroke-width: calc(1px * var(--tl-scale));
    pointer-events: none;
  }
  .tl-brush.dashed {
    stroke: none;
  }
  .tl-handle {
    pointer-events: all;
    cursor: grab;
  }
  .tl-handle:hover .tl-handle-bg {
    fill: var(--tl-selectFill);
  }
  .tl-handle:hover .tl-handle-bg > * {
    stroke: var(--tl-selectFill);
  }
  .tl-handle:active .tl-handle-bg {
    cursor: grabbing;
    fill: var(--tl-selectFill);
  }
  .tl-handle:active .tl-handle-bg > * {
    stroke: var(--tl-selectFill);
  }
  .tl-handle {
    fill: var(--tl-background);
    stroke: var(--tl-selectStroke);
    stroke-width: 1.5px;
  }
  .tl-handle-bg {
    fill: transparent;
    stroke: none;
    pointer-events: all;
    r: calc(16px / max(1, var(--tl-zoom)));
  }
  .tl-binding-indicator {
    fill: transparent;
    stroke: var(--tl-binding);
  }
  .tl-centered-g {
    transform: translate(var(--tl-padding), var(--tl-padding));
  }
  .tl-current-parent > *[data-shy='true'] {
    opacity: 1;
  }
  .tl-binding {
    fill: none;
    stroke: var(--tl-selectStroke);
    stroke-width: calc(2px * var(--tl-scale));
  }
  .tl-grid-dot {
    fill: var(--tl-grid);
  }
  .tl-erase-line {
    stroke-linejoin: round;
    stroke-linecap: round;
    pointer-events: none;
    fill: var(--tl-grid);
    opacity: 0.32;
  }
`;function nk(e,t){let n=h.useMemo(()=>lt(lt({},ek),e),[e]);JB("tl",n,t),qB("tl-canvas",tk)}function Eu(e){let{callbacks:t,inputs:n}=Dn(),r=h.useCallback(c=>{var f,g,m,v;if(c.dead||(c.dead=!0,!n.pointerIsValid(c)))return;(f=c.currentTarget)==null||f.setPointerCapture(c.pointerId);let y=n.pointerDown(c,e);if(c.button===2){(g=t.onRightPointBoundsHandle)==null||g.call(t,y,c);return}c.button===0&&((m=t.onPointBoundsHandle)==null||m.call(t,y,c)),(v=t.onPointerDown)==null||v.call(t,y,c)},[n,t,e]),i=h.useCallback(c=>{var f,g,m;if(c.dead||(c.dead=!0,c.button===2||!n.pointerIsValid(c)))return;let v=n.pointerUp(c,e),y=n.isDoubleClick();c.button===0&&(y&&!(v.altKey||v.metaKey)&&((f=t.onDoubleClickBoundsHandle)==null||f.call(t,v,c)),(g=t.onReleaseBoundsHandle)==null||g.call(t,v,c)),(m=t.onPointerUp)==null||m.call(t,v,c)},[n,t,e]),o=h.useCallback(c=>{var f,g;if(c.dead||(c.dead=!0,!n.pointerIsValid(c))||c.buttons===2)return;let m=n.pointerMove(c,e);c.buttons===1&&c.currentTarget.hasPointerCapture(c.pointerId)&&((f=t.onDragBoundsHandle)==null||f.call(t,m,c)),(g=t.onPointerMove)==null||g.call(t,m,c)},[n,t,e]),u=h.useCallback(c=>{var f;!n.pointerIsValid(c)||(f=t.onHoverBoundsHandle)==null||f.call(t,n.pointerEnter(c,e),c)},[n,t,e]),l=h.useCallback(c=>{var f;!n.pointerIsValid(c)||(f=t.onUnhoverBoundsHandle)==null||f.call(t,n.pointerEnter(c,e),c)},[n,t,e]);return{onPointerDown:r,onPointerUp:i,onPointerEnter:u,onPointerMove:o,onPointerLeave:l}}function rk(e,t,n){let r=h.useRef(),i=h.useRef();h.useLayoutEffect(()=>{let{zoom:o,point:u}=n.camera,l=o!==r.current,c=u!==i.current;if(r.current=o,i.current=u,l||c){let f=e.current;if(t&&"current"in t){let g=t.current;l&&g&&g.style.setProperty("--tl-zoom",o.toString()),f&&f.style.setProperty("transform",`scale(${o}) translateX(${u[0]}px) translateY(${u[1]}px)`)}}},[n.camera.zoom,n.camera.point])}function _b(e,t){return[(e[0]+t.point[0])*t.zoom,(e[1]+t.point[1])*t.zoom]}function am(e,t){return e[t.type]}function ik(e,t,n){let{rSelectionBounds:r}=Dn(),{selectedIds:i}=t,o=h.useRef(),u,l=0,c=!1,f=!1;if(i.length===1){let m=i[0],v=e.shapes[m];if(!v)throw Error(`selectedIds is set to the id of a shape that doesn't exist: ${m}`);l=v.rotation||0,c=v.isLocked||!1;let y=am(n,v);u=y.hideBounds?void 0:y.getBounds(v)}else if(i.length>1){let m=i.map(v=>e.shapes[v]);l=0,c=m.every(v=>v.isLocked),u=m.reduce((v,y,b)=>b===0?am(n,y).getRotatedBounds(y):fr.getExpandedBounds(v,am(n,y).getRotatedBounds(y)),{})}if(u){let[m,v]=_b([u.minX,u.minY],t.camera),[y,b]=_b([u.maxX,u.maxY],t.camera);f=!!Object.values(e.bindings).find(C=>i.includes(C.toId)||i.includes(C.fromId)),r.current={minX:m,minY:v,maxX:y,maxY:b,width:y-m,height:b-v}}else r.current=null;let g=o.current;return!g||!u?o.current=u:u&&g.minX===u.minX&&g.minY===u.minY&&g.maxX===u.maxX&&g.maxY===u.maxY&&(u=o.current),{bounds:u,rotation:l,isLocked:c,isLinked:f}}function ak(e){let{inputs:t,callbacks:n}=Dn();return h.useMemo(()=>({onPointerDown:r=>{var i,o,u;if(r.dead||(r.dead=!0,!t.pointerIsValid(r))||r.button===2)return;(i=r.currentTarget)==null||i.setPointerCapture(r.pointerId);let l=t.pointerDown(r,e);r.button===0&&((o=n.onPointHandle)==null||o.call(n,l,r)),(u=n.onPointerDown)==null||u.call(n,l,r)},onPointerUp:r=>{var i,o,u,l;if(r.dead||(r.dead=!0,!t.pointerIsValid(r))||r.button===2)return;let c=t.isDoubleClick(),f=t.pointerUp(r,e);r.currentTarget.hasPointerCapture(r.pointerId)&&((i=r.currentTarget)==null||i.releasePointerCapture(r.pointerId),r.button===0&&(c&&!(f.altKey||f.metaKey)&&((o=n.onDoubleClickHandle)==null||o.call(n,f,r)),(u=n.onReleaseHandle)==null||u.call(n,f,r))),(l=n.onPointerUp)==null||l.call(n,f,r)},onPointerMove:r=>{var i,o;if(r.dead||(r.dead=!0,!t.pointerIsValid(r))||r.buttons===2)return;let u=t.pointerMove(r,e);r.buttons===1&&r.currentTarget.hasPointerCapture(r.pointerId)&&((i=n.onDragHandle)==null||i.call(n,u,r)),(o=n.onPointerMove)==null||o.call(n,u,r)},onPointerEnter:r=>{var i;if(!t.pointerIsValid(r))return;let o=t.pointerEnter(r,e);(i=n.onHoverHandle)==null||i.call(n,o,r)},onPointerLeave:r=>{var i;if(!t.pointerIsValid(r))return;let o=t.pointerEnter(r,e);(i=n.onUnhoverHandle)==null||i.call(n,o,r)}}),[t,n,e])}function ok(e){let{bounds:t}=Dn();h.useEffect(()=>{let n=o=>{o.preventDefault()},r=o=>{let u=o.touches[0].pageX,l=o.touches[0].radiusX||0;(u-l<10||u+l>t.width-10)&&o.preventDefault()},i=e.current;return i?(i.addEventListener("gestureend",n),i.addEventListener("gesturechange",n),i.addEventListener("gesturestart",n),i.addEventListener("touchstart",r),()=>{i&&(i.removeEventListener("gestureend",n),i.removeEventListener("gesturechange",n),i.removeEventListener("gesturestart",n),i.removeEventListener("touchstart",r))}):()=>{}},[e,t.width])}function sk(){let{callbacks:e,inputs:t}=Dn();return h.useMemo(()=>({onPointerDown:n=>{var r,i,o,u;if(n.dead||(n.dead=!0,!t.pointerIsValid(n)))return;if(n.button===2){(r=e.onRightPointBounds)==null||r.call(e,t.pointerDown(n,"bounds"),n);return}let l=t.pointerDown(n,"bounds");(i=n.currentTarget)==null||i.setPointerCapture(n.pointerId),n.button===0&&((o=e.onPointBounds)==null||o.call(e,l,n)),(u=e.onPointerDown)==null||u.call(e,l,n)},onPointerUp:n=>{var r,i,o,u;if(n.dead||(n.dead=!0,n.button===2)||(t.activePointer=void 0,!t.pointerIsValid(n)))return;let l=t.isDoubleClick(),c=t.pointerUp(n,"bounds");n.currentTarget.hasPointerCapture(n.pointerId)&&((r=n.currentTarget)==null||r.releasePointerCapture(n.pointerId)),n.button===0&&(l&&!(c.altKey||c.metaKey)&&((i=e.onDoubleClickBounds)==null||i.call(e,c,n)),(o=e.onReleaseBounds)==null||o.call(e,c,n)),(u=e.onPointerUp)==null||u.call(e,c,n)},onPointerMove:n=>{var r,i;if(n.dead||(n.dead=!0,!t.pointerIsValid(n)))return;n.buttons===1&&n.currentTarget.hasPointerCapture(n.pointerId)&&((r=e.onDragBounds)==null||r.call(e,t.pointerMove(n,"bounds"),n));let o=t.pointerMove(n,"bounds");(i=e.onPointerMove)==null||i.call(e,o,n)},onPointerEnter:n=>{var r;!t.pointerIsValid(n)||(r=e.onHoverBounds)==null||r.call(e,t.pointerEnter(n,"bounds"),n)},onPointerLeave:n=>{var r;!t.pointerIsValid(n)||(r=e.onUnhoverBounds)==null||r.call(e,t.pointerEnter(n,"bounds"),n)}}),[t,e])}function kS(e,t=0){let n=h.useRef(null);return h.useLayoutEffect(()=>{let r=n.current,i=`
    translate(
      calc(${e.minX}px - var(--tl-padding)),
      calc(${e.minY}px - var(--tl-padding))
    )
    rotate(${t+(e.rotation||0)}rad)`;r.style.setProperty("transform",i),r.style.setProperty("width",`calc(${Math.floor(e.width)}px + (var(--tl-padding) * 2))`),r.style.setProperty("height",`calc(${Math.floor(e.height)}px + (var(--tl-padding) * 2))`)},[e,t]),n}function uk(){let{inputs:e,callbacks:t}=Dn();h.useEffect(()=>{let n=i=>{var o;(o=t.onKeyDown)==null||o.call(t,i.key,e.keydown(i),i)},r=i=>{var o;e.keyup(i),(o=t.onKeyUp)==null||o.call(t,i.key,e.keyup(i),i)};return window.addEventListener("keydown",n),window.addEventListener("keyup",r),()=>{window.removeEventListener("keydown",n),window.removeEventListener("keyup",r)}},[e,t])}function lk(e,t){h.useLayoutEffect(()=>{if(t&&"current"in t){let n=t?.current;if(!n)return;switch(e){case"transform_selected":{n.style.setProperty("--tl-performance-all","auto"),n.style.setProperty("--tl-performance-selected","transform, contents");break}case"transform_all":{n.style.setProperty("--tl-performance-all","transform, contents"),n.style.setProperty("--tl-performance-selected","transform, contents");break}case"translate_selected":{n.style.setProperty("--tl-performance-all","auto"),n.style.setProperty("--tl-performance-selected","transform");break}case"translate_all":{n.style.setProperty("--tl-performance-all","transform"),n.style.setProperty("--tl-performance-selected","transform");break}default:n.style.setProperty("--tl-performance-all","auto"),n.style.setProperty("--tl-performance-selected","auto")}}},[e])}function ck(e){var t=e,{id:n,bounds:r,rotation:i=0,isGhost:o=!1,isSelected:u=!1,children:l}=t,c=Yu(t,["id","bounds","rotation","isGhost","isSelected","children"]);let f=kS(r,i);return h.createElement("div",lt({id:n,ref:f,className:`tl-positioned${o?" tl-ghost":""}${u?" tl-positioned-selected":""}`,"aria-label":"container","data-testid":"container"},c),l)}var Qc=h.memo(ck);function dk({brush:e,zoom:t,dashed:n}){return h.createElement(Qc,{bounds:e,rotation:0},h.createElement(Lr,null,h.createElement("rect",{className:"tl-brush"+(n?" dashed":""),opacity:1,x:0,y:0,width:e.width,height:e.height,"aria-label":"brush"}),n&&h.createElement("g",{className:"tl-dashed-brush-line"},h.createElement(k0,{x1:0,y1:0,x2:e.width,y2:0,zoom:t}),h.createElement(k0,{x1:e.width,y1:0,x2:e.width,y2:e.height,zoom:t}),h.createElement(k0,{x1:0,y1:e.height,x2:e.width,y2:e.height,zoom:t}),h.createElement(k0,{x1:0,y1:0,x2:0,y2:e.height,zoom:t}))))}var hk=h.memo(dk);function k0({x1:e,y1:t,x2:n,y2:r,zoom:i}){let o=fr.getPerfectDashProps(Math.hypot(n-e,r-t),1/i,"dashed",1,!0,3);return h.createElement("line",{x1:e,y1:t,x2:n,y2:r,strokeWidth:1/i,strokeDasharray:o.strokeDasharray,strokeDashoffset:o.strokeDashoffset})}var fk=h.memo(({color:e})=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35 35",fill:"none",fillRule:"evenodd"},h.createElement("g",{fill:"rgba(0,0,0,.2)",transform:"translate(1,1)"},h.createElement("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),h.createElement("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})),h.createElement("g",{fill:"white"},h.createElement("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),h.createElement("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})),h.createElement("g",{fill:e},h.createElement("path",{d:"m19.751 24.4155-1.844.774-3.1-7.374 1.841-.775z"}),h.createElement("path",{d:"m13 10.814v11.188l2.969-2.866.428-.139h4.768z"}))));function pk({points:e,zoom:t}){if(e.length===0)return null;let n=fr.getSvgPathFromStroke(Jc(e,{size:16/t,start:{taper:!0}}));return h.createElement("path",{d:n,className:"tl-erase-line"})}var gk=h.memo(pk),$b=[[-1,.15,64],[.05,.375,16],[.15,1,4],[.7,2.5,1]];function mk({grid:e,camera:t}){return h.createElement("svg",{className:"tl-grid",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h.createElement("defs",null,$b.map(([n,r,i],o)=>{let u=i*e*t.zoom,l=t.point[0]*t.zoom,c=t.point[1]*t.zoom,f=l>0?l%u:u+l%u,g=c>0?c%u:u+c%u,m=t.zoom<r?fr.modulate(t.zoom,[n,r],[0,1]):1;return h.createElement("pattern",{key:`grid-pattern-${o}`,id:`grid-${o}`,width:u,height:u,patternUnits:"userSpaceOnUse"},h.createElement("circle",{className:"tl-grid-dot",cx:f,cy:g,r:1,opacity:m}))})),$b.map((n,r)=>h.createElement("rect",{key:`grid-rect-${r}`,width:"100%",height:"100%",fill:`url(#grid-${r})`})))}function vk({camera:{zoom:e,point:t},children:n}){let r=2.5/e;return h.createElement("svg",{className:"tl-overlay"},h.createElement("defs",null,h.createElement("g",{id:"tl-snap-point"},h.createElement("path",{className:"tl-snap-point",d:`M ${-r},${-r} L ${r},${r} M ${-r},${r} L ${r},${-r}`}))),h.createElement("g",{transform:`scale(${e}) translate(${t})`},n))}var yk=h.memo(vk),Lr=h.memo(h.forwardRef(function(e,t){var n=e,{id:r,className:i="",children:o}=n,u=Yu(n,["id","className","children"]);return h.createElement("svg",lt({ref:t,className:`tl-positioned-svg ${i}`},u),h.createElement("g",{id:r,className:"tl-centered-g"},o))}));function Ek({bounds:e,isLocked:t,isHidden:n}){return h.createElement("rect",{className:["tl-bounds-center",t?"tl-dashed":""].join(" "),x:-1,y:-1,width:e.width+2,height:e.height+2,opacity:n?0:1,pointerEvents:"none","aria-label":"center handle"})}var bk=h.memo(Ek),Ck={right:0,bottomRight:45,bottom:90,bottomLeft:135,left:180,topLeft:225,top:270,topRight:315};function Sk({bounds:e,side:t,targetSize:n,size:r}){let i=n*2,o={left:-i,topLeft:-i,bottomLeft:-i,right:e.width,topRight:e.width,bottomRight:e.width,top:e.width/2-i/2,bottom:e.width/2-i/2}[t],u={left:e.height/2-i/2,right:e.height/2-i/2,top:-i*2,topLeft:-i,topRight:-i,bottom:e.height,bottomLeft:e.height,bottomRight:e.height}[t],{callbacks:l,inputs:c}=Dn(),f=h.useCallback(g=>{var m;g.stopPropagation();let v=c.pointerDown(g,t);(m=l.onShapeClone)==null||m.call(l,v,g)},[l.onShapeClone]);return h.createElement("g",{className:"tl-clone-target",transform:`translate(${o}, ${u})`,"aria-label":"clone button"},h.createElement("rect",{className:"tl-transparent",width:n*2,height:n*2}),h.createElement("g",{className:"tl-clone-button-target",onPointerDown:f,transform:`translate(${n}, ${n}) rotate(${Ck[t]})`},h.createElement("circle",{className:"tl-transparent ",r:n}),h.createElement("path",{className:"tl-clone-button",d:`M -${r/2},-${r/2} L ${r/2},0 -${r/2},${r/2} Z`,strokeLinejoin:"round"})))}var Wa=h.memo(Sk);function Ak({targetSize:e,size:t,bounds:n}){return h.createElement(h.Fragment,null,h.createElement(Wa,{targetSize:e,size:t,bounds:n,side:"top"}),h.createElement(Wa,{targetSize:e,size:t,bounds:n,side:"right"}),h.createElement(Wa,{targetSize:e,size:t,bounds:n,side:"bottom"}),h.createElement(Wa,{targetSize:e,size:t,bounds:n,side:"left"}),h.createElement(Wa,{targetSize:e,size:t,bounds:n,side:"topLeft"}),h.createElement(Wa,{targetSize:e,size:t,bounds:n,side:"topRight"}),h.createElement(Wa,{targetSize:e,size:t,bounds:n,side:"bottomLeft"}),h.createElement(Wa,{targetSize:e,size:t,bounds:n,side:"bottomRight"}))}var wk=h.memo(Ak),xk={top_left_corner:"tl-cursor-nwse",top_right_corner:"tl-cursor-nesw",bottom_right_corner:"tl-cursor-nwse",bottom_left_corner:"tl-cursor-nesw"};function Dk({size:e,targetSize:t,isHidden:n,corner:r,bounds:i}){let o=Eu(r),u=r==="top_left_corner"||r==="top_right_corner",l=r==="top_left_corner"||r==="bottom_left_corner";return h.createElement("g",{opacity:n?0:1},h.createElement("rect",lt({className:"tl-transparent "+(n?"":xk[r]),"aria-label":"corner transparent",x:(l?-1:i.width+1)-t,y:(u?-1:i.height+1)-t,width:t*2,height:t*2,pointerEvents:n?"none":"all"},o)),h.createElement("rect",{className:"tl-corner-handle","aria-label":"corner handle",x:(l?-1:i.width+1)-e/2,y:(u?-1:i.height+1)-e/2,width:e,height:e,pointerEvents:"none"}))}var M0=h.memo(Dk),Ik={top_edge:"tl-cursor-ns",right_edge:"tl-cursor-ew",bottom_edge:"tl-cursor-ns",left_edge:"tl-cursor-ew"};function Tk({size:e,isHidden:t,bounds:n,edge:r}){let i=Eu(r),o=r==="top_edge"||r==="bottom_edge",u=r==="right_edge"||r==="bottom_edge",{height:l,width:c}=n;return h.createElement("rect",lt({pointerEvents:t?"none":"all",className:"tl-transparent tl-edge-handle "+(t?"":Ik[r]),"aria-label":`${r} handle`,opacity:t?0:1,x:o?e/2:(u?c+1:-1)-e/2,y:o?(u?l+1:-1)-e/2:e/2,width:o?Math.max(0,c+1-e):e,height:o?e:Math.max(0,l+1-e)},i))}var N0=h.memo(Tk);function Rk({size:e,bounds:t,isHidden:n}){let r=Eu("left"),i=Eu("center"),o=Eu("right");return h.createElement("g",{cursor:"grab",transform:`translate(${t.width/2-e*4}, ${t.height+e*2})`,"aria-label":"link handle"},h.createElement("g",{className:"tl-transparent",pointerEvents:n?"none":"all"},h.createElement("rect",lt({x:0,y:0,width:e*2,height:e*2},r)),h.createElement("rect",lt({x:e*3,y:0,width:e*2,height:e*2},i)),h.createElement("rect",lt({x:e*6,y:0,width:e*2,height:e*2},o))),h.createElement("g",{className:"tl-rotate-handle",transform:`translate(${e/2}, ${e/2})`,"aria-label":"link rotate handle"},h.createElement("path",{d:`M 0,${e/2} L ${e},${e} ${e},0 Z`,pointerEvents:"none",opacity:n?0:1}),h.createElement("path",{transform:`translate(${e*3}, 0)`,d:`M 0,0 L ${e},0 ${e/2},${e} Z`,pointerEvents:"none",opacity:n?0:1}),h.createElement("path",{transform:`translate(${e*6}, 0)`,d:`M ${e},${e/2} L 0,0 0,${e} Z`,pointerEvents:"none",opacity:n?0:1})))}var Bk=h.memo(Rk);function kk({bounds:e,targetSize:t,size:n,isHidden:r}){let i=Eu("rotate");return h.createElement("g",{cursor:"grab",opacity:r?0:1},h.createElement("circle",lt({className:"tl-transparent","aria-label":"rotate handle transparent",cx:e.width/2,cy:n*-2,r:t,pointerEvents:r?"none":"all"},i)),h.createElement("circle",{className:"tl-rotate-handle","aria-label":"rotate handle",cx:e.width/2,cy:n*-2,r:n/2,pointerEvents:"none"}))}var Mk=h.memo(kk),Nk=function({zoom:e,bounds:t,viewportWidth:n,rotation:r,isHidden:i,isLocked:o,hideCloneHandles:u,hideResizeHandles:l,hideRotateHandle:c,hideBindingHandles:f}){let g=(n<768?16:8)/e,m=8/e,v=Math.min(t.width,t.height)*e,y=!c&&!i&&!o&&v>32,b=!i&&!o&&v>24,C=!i&&!o&&v>20,A=!u&&v>24;return h.createElement(Qc,{bounds:t,rotation:r},h.createElement(Lr,null,h.createElement(bk,{bounds:t,isLocked:o,isHidden:i}),!l&&!o?h.createElement(h.Fragment,null,h.createElement(N0,{targetSize:g,size:m,bounds:t,edge:"top_edge",isHidden:!b}),h.createElement(N0,{targetSize:g,size:m,bounds:t,edge:"right_edge",isHidden:!b}),h.createElement(N0,{targetSize:g,size:m,bounds:t,edge:"bottom_edge",isHidden:!b}),h.createElement(N0,{targetSize:g,size:m,bounds:t,edge:"left_edge",isHidden:!b}),h.createElement(M0,{targetSize:g,size:m,bounds:t,isHidden:i||!C,corner:"top_left_corner"}),h.createElement(M0,{targetSize:g,size:m,bounds:t,isHidden:i||!C,corner:"top_right_corner"}),h.createElement(M0,{targetSize:g,size:m,bounds:t,isHidden:i||!C,corner:"bottom_right_corner"}),h.createElement(M0,{targetSize:g,size:m,bounds:t,isHidden:i||!C,corner:"bottom_left_corner"})):null,y&&h.createElement(Mk,{targetSize:g,size:m,bounds:t,isHidden:!b}),A&&h.createElement(wk,{bounds:t,targetSize:g,size:m}),!f&&h.createElement(Bk,{targetSize:g,size:m,bounds:t,isHidden:!b})))},Pk=h.memo(Nk);function Ok({bounds:e,rotation:t,isHidden:n}){let r=sk();return h.createElement(Qc,{bounds:e,rotation:t},h.createElement(Lr,null,h.createElement("rect",lt({className:"tl-bounds-bg","aria-label":"bounds bg",width:e.width,height:e.height,opacity:n?0:1},r))))}var Lk=h.memo(Ok);function Fk({id:e,point:t}){let n=ak(e);return h.createElement(Qc,{bounds:fr.translateBounds({minX:0,minY:0,maxX:0,maxY:0,width:0,height:0},t)},h.createElement(Lr,null,h.createElement("g",lt({className:"tl-handle","aria-label":"handle"},n),h.createElement("circle",{className:"tl-handle-bg",pointerEvents:"all"}),h.createElement("circle",{className:"tl-counter-scaled tl-handle",pointerEvents:"none",r:4}))))}var _k=h.memo(Fk);function $k({shape:e,zoom:t}){if(e.handles===void 0)return null;let n=null,r=Object.values(e.handles).reduce((i,o)=>{let u=R.add(o.point,e.point);return(!n||R.dist(u,n)*t>=32)&&(i.push(o),n=u),i},[]);return r.length===1?null:h.createElement(h.Fragment,null,r.map(i=>h.createElement(_k,{key:e.id+"_"+i.id,id:i.id,point:R.add(i.point,e.point)})))}var zk=h.memo($k);function Vk(e){let t=e.utils.getRef(e.shape);return h.createElement(e.utils.Component,lt({ref:t},e))}var Uk=h.memo(Vk,(e,t)=>e.isHovered!==t.isHovered||e.isSelected!==t.isSelected||e.isEditing!==t.isEditing||e.isBinding!==t.isBinding||e.isGhost!==t.isGhost||e.meta!==t.meta?!1:t.shape!==e.shape?!t.utils.shouldRender(t.shape,e.shape):!0);function Hk(e){var t=e,{shape:n,utils:r,meta:i}=t,o=Yu(t,["shape","utils","meta"]);let{callbacks:u}=Dn(),l=r.getBounds(n),c=YB(n.id);return h.createElement(Qc,{id:n.id,bounds:l,rotation:n.rotation,"data-shape":n.type,isGhost:o.isGhost,isSelected:o.isSelected},h.createElement(Uk,lt({shape:n,utils:r,meta:i,events:c,bounds:l,onShapeChange:u.onShapeChange,onShapeBlur:u.onShapeBlur},o)))}var Gk=h.memo(Hk);function jk(e){var t=e,{shape:n,utils:r,meta:i,children:o}=t,u=Yu(t,["shape","utils","meta","children"]);return h.createElement(h.Fragment,null,h.createElement(Gk,lt({shape:n,utils:r[n.type],meta:i},u)),o&&o.map(l=>h.createElement(MS,lt({key:l.shape.id,utils:r},l))))}var MS=h.memo(jk);function Kk({isHovered:e=!1,isSelected:t=!1,isEditing:n=!1,shape:r,user:i,meta:o}){let{shapeUtils:u}=Dn(),l=u[r.type],c=l.getBounds(r),f=kS(c,r.rotation);return h.createElement("div",{ref:f,draggable:!1,className:["tl-indicator","tl-absolute",t&&!i?"tl-selected":"tl-hovered",n?"tl-editing":"",r.isLocked?"tl-locked":""].join(" ")},h.createElement("svg",{width:"100%",height:"100%"},h.createElement("g",{className:"tl-centered-g",stroke:i?.color},h.createElement(l.Indicator,{shape:r,meta:o,user:i,bounds:c,isSelected:t,isHovered:e}))))}var o1=h.memo(Kk);function Yk({page:e,pageState:t,assets:n,hideBounds:r,hideHandles:i,hideIndicators:o,hideBindingHandles:u,hideCloneHandles:l,hideRotateHandle:c,hideResizeHandles:f,meta:g}){let{bounds:m,shapeUtils:v}=Dn(),y=ZB(e,t,n,g),{bounds:b,isLinked:C,isLocked:A,rotation:x}=ik(e,t,v),{selectedIds:D,hoveredId:T,editingId:N,camera:{zoom:k}}=t,M=o,B=!0,P=!1,_,U=D.map(K=>e.shapes[K]);if(U.length===1){let K=U[0];P=N===K.id,P&&(M=!0);let J=v[K.type];B=l||!J.showCloneHandles,K.handles!==void 0&&!P&&(_=K)}return h.createElement(h.Fragment,null,b&&h.createElement(Lk,{bounds:b,rotation:x,isHidden:r}),y.map(K=>h.createElement(MS,lt({key:K.shape.id,utils:v},K))),!M&&U.map(K=>h.createElement(o1,{key:"selected_"+K.id,shape:K,meta:g,isSelected:!0,isEditing:P})),!M&&T&&T!==N&&h.createElement(o1,{key:"hovered_"+T,shape:e.shapes[T],meta:g,isHovered:!0}),b&&h.createElement(Pk,{zoom:k,bounds:b,viewportWidth:m.width,isLocked:A,rotation:x,isHidden:r,hideRotateHandle:c,hideResizeHandles:f,hideBindingHandles:u||!C,hideCloneHandles:B}),!i&&_&&h.createElement(zk,{shape:_,zoom:k}))}var Wk=h.memo(Yk);function Zk({snapLines:e}){return h.createElement(h.Fragment,null,e.map((t,n)=>h.createElement(Jk,{key:n,snapLine:t})))}function Xk({snapLine:e}){let t=fr.getBoundsFromPoints(e);return h.createElement(h.Fragment,null,h.createElement("line",{className:"tl-snap-line",x1:t.minX,y1:t.minY,x2:t.maxX,y2:t.maxY}),e.map(([n,r],i)=>h.createElement("use",{key:i,href:"#tl-snap-point",x:n,y:r})))}var Jk=h.memo(Xk),qk=h.memo(Zk);function Qk({user:e,Cursor:t}){let n=h.useRef(null);return h.useLayoutEffect(()=>{n.current&&(n.current.style.transform=`translate(${e.point[0]}px, ${e.point[1]}px)`)},[e.point]),h.createElement("div",{ref:n,className:`tl-absolute tl-user tl-counter-scaled ${e.session?"":"tl-animated"}`},h.createElement(t,{id:e.id,color:e.color,metadata:e.metadata}))}function eM({userId:e,users:t,Cursor:n}){return h.createElement(h.Fragment,null,Object.values(t).filter(r=>r&&r.id!==e).map(r=>h.createElement(Qk,{key:r.id,user:r,Cursor:n})))}function tM({userId:e,users:t,meta:n,page:r}){let{shapeUtils:i}=Dn();return h.createElement(h.Fragment,null,Object.values(t).filter(Boolean).filter(o=>o.id!==e&&o.selectedIds.length>0).map(o=>{let u=o.selectedIds.map(c=>r.shapes[c]).filter(Boolean);if(u.length===0)return null;let l=fr.getCommonBounds(u.map(c=>i[c.type].getBounds(c)));return h.createElement(h.Fragment,{key:o.id+"_shapes"},h.createElement("div",{className:"tl-absolute tl-user-indicator-bounds",style:{backgroundColor:o.color+"0d",borderColor:o.color+"78",transform:`translate(${l.minX}px, ${l.minY}px)`,width:l.width,height:l.height,pointerEvents:"none"}}),u.map(c=>h.createElement(o1,{key:`${o.id}_${c.id}_indicator`,shape:c,user:o,meta:n,isHovered:!0})))}))}var nM=e=>{let t=e.parentElement;for(;t;){if(t===document.body)return document;let{overflowY:n}=window.getComputedStyle(t);if(t.scrollHeight>t.clientHeight&&(n==="auto"||n==="scroll"||n==="overlay"))return t;t=t.parentElement}return document};function rM(e,t){let{inputs:n,callbacks:r}=Dn(),i=h.useRef(!1),o=h.useCallback(()=>{var u,l;if(i.current){let c=(u=e.current)==null?void 0:u.getBoundingClientRect();if(c){let f={minX:c.left,maxX:c.left+c.width,minY:c.top,maxY:c.top+c.height,width:c.width,height:c.height};n.bounds=f,t(f),(l=r.onBoundsChange)==null||l.call(r,f)}}else i.current=!0},[e,n,r.onBoundsChange]);h.useEffect(()=>{let u=e.current?nM(e.current):document,l=F.debounce(o,100);return u.addEventListener("scroll",l),window.addEventListener("resize",l),()=>{u.removeEventListener("scroll",l),window.removeEventListener("resize",l)}},[]),h.useEffect(()=>{let u=new ResizeObserver(l=>{n.isPinching||l[0].contentRect&&o()});return e.current&&u.observe(e.current),()=>{u.disconnect()}},[e,n]),h.useEffect(()=>{o()},[e])}function iM({id:e,page:t,pageState:n,assets:r,snapLines:i,eraseLine:o,grid:u,users:l,userId:c,components:f={},meta:g,performanceMode:m,showDashedBrush:v,hideHandles:y,hideBounds:b,hideIndicators:C,hideBindingHandles:A,hideCloneHandles:x,hideResizeHandles:D,hideRotateHandle:T,hideGrid:N,onBoundsChange:k,hideCursors:M}){var B;let P=h.useRef(null),_=h.useRef(n.camera.zoom);_.current=n.camera.zoom,HB(_,P),rM(P,k),jB(),ok(P);let U=h.useRef(null),K=h.useRef(null);rk(K,U,n),lk(m,U),uk();let J=KB();return h.createElement("div",{id:e,className:"tl-container",ref:U},h.createElement("div",lt({id:"canvas",className:"tl-absolute tl-canvas",ref:P},J),!N&&u&&h.createElement(mk,{grid:u,camera:n.camera}),h.createElement("div",{ref:K,className:"tl-absolute tl-layer","data-testid":"layer"},h.createElement(Wk,{page:t,pageState:n,assets:r,hideBounds:b,hideIndicators:C,hideHandles:y,hideBindingHandles:A,hideCloneHandles:x,hideResizeHandles:D,hideRotateHandle:T,meta:g}),l&&c&&h.createElement(tM,{userId:c,users:l,page:t,meta:g}),n.brush&&h.createElement(hk,{brush:n.brush,dashed:v,zoom:n.camera.zoom}),l&&!M&&h.createElement(eM,{userId:c,users:l,Cursor:(B=f?.Cursor)!=null?B:fk})),h.createElement(yk,{camera:n.camera},o&&h.createElement(gk,{points:o,zoom:n.camera.zoom}),i&&h.createElement(qk,{snapLines:i}))))}var aM=h.memo(iM),oM=250,en=class{constructor(){Pt(this,"pointer"),Pt(this,"keyboard"),Pt(this,"keys",{}),Pt(this,"isPinching",!1),Pt(this,"bounds",{minX:0,maxX:640,minY:0,maxY:480,width:640,height:480}),Pt(this,"pointerUpTime",0),Pt(this,"activePointer"),Pt(this,"panStart",t=>{var n,r;let{shiftKey:i,ctrlKey:o,metaKey:u,altKey:l}=t,c={target:"wheel",pointerId:((n=this.pointer)==null?void 0:n.pointerId)||0,origin:((r=this.pointer)==null?void 0:r.origin)||[0,0],delta:[0,0],pressure:.5,point:en.getPoint(t,this.bounds),shiftKey:i,ctrlKey:o,metaKey:u,altKey:l,spaceKey:this.keys[" "]};return this.pointer=c,c}),Pt(this,"pan",(t,n)=>{if(!this.pointer||this.pointer.target!=="wheel")return this.panStart(n);let{shiftKey:r,ctrlKey:i,metaKey:o,altKey:u}=n,l=this.pointer,c=en.getPoint(n,this.bounds),f=bi(lt({},l),{target:"wheel",delta:t,point:c,shiftKey:r,ctrlKey:i,metaKey:o,altKey:u,spaceKey:this.keys[" "]});return this.pointer=f,f}),Pt(this,"keydown",t=>{var n,r;let{shiftKey:i,ctrlKey:o,metaKey:u,altKey:l}=t;return this.keys[t.key]=!0,{point:((n=this.pointer)==null?void 0:n.point)||[0,0],origin:((r=this.pointer)==null?void 0:r.origin)||[0,0],key:t.key,keys:Object.keys(this.keys),shiftKey:i,ctrlKey:o,metaKey:F.isDarwin()?u:o,altKey:l}}),Pt(this,"keyup",t=>{var n,r;let{shiftKey:i,ctrlKey:o,metaKey:u,altKey:l}=t;return delete this.keys[t.key],{point:((n=this.pointer)==null?void 0:n.point)||[0,0],origin:((r=this.pointer)==null?void 0:r.origin)||[0,0],key:t.key,keys:Object.keys(this.keys),shiftKey:i,ctrlKey:o,metaKey:F.isDarwin()?u:o,altKey:l}})}pointerIsValid(t){if("pointerId"in t&&this.activePointer&&this.activePointer!==t.pointerId)return!1;if("touches"in t){let n=t.changedTouches[0];if(this.activePointer&&this.activePointer!==n.identifier)return!1}return!0}touchStart(t,n){let{shiftKey:r,ctrlKey:i,metaKey:o,altKey:u}=t,l=t.changedTouches[0];this.activePointer=l.identifier;let c={target:n,pointerId:l.identifier,origin:en.getPoint(l,this.bounds),delta:[0,0],point:en.getPoint(l,this.bounds),pressure:en.getPressure(l),shiftKey:r,ctrlKey:i,metaKey:F.isDarwin()?o:i,altKey:u,spaceKey:this.keys[" "]};return this.pointer=c,c}touchEnd(t,n){let{shiftKey:r,ctrlKey:i,metaKey:o,altKey:u}=t,l=t.changedTouches[0],c={target:n,pointerId:l.identifier,origin:en.getPoint(l,this.bounds),delta:[0,0],point:en.getPoint(l,this.bounds),pressure:en.getPressure(l),shiftKey:r,ctrlKey:i,metaKey:F.isDarwin()?o:i,altKey:u,spaceKey:this.keys[" "]};return this.pointer=c,this.activePointer=void 0,c}touchMove(t,n){let{shiftKey:r,ctrlKey:i,metaKey:o,altKey:u}=t,l=t.changedTouches[0],c=this.pointer,f=en.getPoint(l,this.bounds),g=c?.point?R.sub(f,c.point):[0,0],m=bi(lt({origin:f},c),{target:n,pointerId:l.identifier,point:f,delta:g,pressure:en.getPressure(l),shiftKey:r,ctrlKey:i,metaKey:F.isDarwin()?o:i,altKey:u,spaceKey:this.keys[" "]});return this.pointer=m,m}pointerDown(t,n){let{shiftKey:r,ctrlKey:i,metaKey:o,altKey:u}=t,l=en.getPoint(t,this.bounds);this.activePointer=t.pointerId;let c={target:n,pointerId:t.pointerId,origin:l,point:l,delta:[0,0],pressure:en.getPressure(t),shiftKey:r,ctrlKey:i,metaKey:F.isDarwin()?o:i,altKey:u,spaceKey:this.keys[" "]};return this.pointer=c,c}pointerEnter(t,n){let{shiftKey:r,ctrlKey:i,metaKey:o,altKey:u}=t,l=en.getPoint(t,this.bounds),c={target:n,pointerId:t.pointerId,origin:l,delta:[0,0],point:l,pressure:en.getPressure(t),shiftKey:r,ctrlKey:i,metaKey:F.isDarwin()?o:i,altKey:u,spaceKey:this.keys[" "]};return this.pointer=c,c}pointerMove(t,n){let{shiftKey:r,ctrlKey:i,metaKey:o,altKey:u}=t,l=this.pointer,c=en.getPoint(t,this.bounds),f=l?.point?R.sub(c,l.point):[0,0],g=bi(lt({origin:c},l),{target:n,pointerId:t.pointerId,point:c,delta:f,pressure:en.getPressure(t),shiftKey:r,ctrlKey:i,metaKey:F.isDarwin()?o:i,altKey:u,spaceKey:this.keys[" "]});return this.pointer=g,g}pointerUp(t,n){let{shiftKey:r,ctrlKey:i,metaKey:o,altKey:u}=t,l=this.pointer,c=en.getPoint(t,this.bounds),f=l?.point?R.sub(c,l.point):[0,0];this.activePointer=void 0;let g=bi(lt({origin:c},l),{target:n,pointerId:t.pointerId,point:c,delta:f,pressure:en.getPressure(t),shiftKey:r,ctrlKey:i,metaKey:F.isDarwin()?o:i,altKey:u,spaceKey:this.keys[" "]});return this.pointer=g,this.pointerUpTime=performance.now(),g}isDoubleClick(){if(!this.pointer)return!1;let{origin:t,point:n}=this.pointer,r=performance.now()-this.pointerUpTime<oM&&R.dist(t,n)<4;return r&&(this.activePointer=void 0),r}clear(){this.pointer=void 0}resetDoubleClick(){this.pointerUpTime=0}pinch(t,n){let{shiftKey:r,ctrlKey:i,metaKey:o,altKey:u}=this.keys,l=R.sub(n,t),c={pointerId:0,target:"pinch",origin:n,delta:l,point:R.sub(R.toFixed(t),[this.bounds.minX,this.bounds.minY]),pressure:.5,shiftKey:r,ctrlKey:i,metaKey:F.isDarwin()?o:i,altKey:u,spaceKey:this.keys[" "]};return this.pointer=c,c}reset(){this.pointerUpTime=0,this.pointer=void 0,this.keyboard=void 0,this.activePointer=void 0,this.keys={}}static getPoint(t,n){return[+t.clientX.toFixed(2)-n.minX,+t.clientY.toFixed(2)-n.minY]}static getPressure(t){return"pressure"in t&&+t.pressure.toFixed(2)||.5}static commandKey(){return F.isDarwin()?"":"Ctrl"}};new en;var sM=Object.freeze({});function uM(e){var t=e,{id:n="tl",shapeUtils:r,page:i,pageState:o,assets:u=sM,users:l,userId:c,theme:f,meta:g,snapLines:m,eraseLine:v,grid:y,containerRef:b,performanceMode:C,components:A,hideHandles:x=!1,hideIndicators:D=!1,hideCloneHandles:T=!1,hideBindingHandles:N=!1,hideResizeHandles:k=!1,hideRotateHandles:M=!1,hideBounds:B=!1,hideGrid:P=!0,showDashedBrush:_=!1,hideCursors:U}=t,K=Yu(t,["id","shapeUtils","page","pageState","assets","users","userId","theme","meta","snapLines","eraseLine","grid","containerRef","performanceMode","components","hideHandles","hideIndicators","hideCloneHandles","hideBindingHandles","hideResizeHandles","hideRotateHandles","hideBounds","hideGrid","showDashedBrush","hideCursors"]);nk(f,"#"+n);let J=h.useRef(null),te=h.useRef(o);h.useEffect(()=>{te.current=o},[o]);let[fe,Ee]=h.useState(()=>({callbacks:K,shapeUtils:r,rSelectionBounds:J,rPageState:te,bounds:{minX:0,minY:0,maxX:1/0,maxY:1/0,width:1/0,height:1/0},inputs:new en})),Y=h.useCallback(V=>{Ee(W=>bi(lt({},W),{bounds:V}))},[]);return h.createElement(v4.Provider,{value:fe},h.createElement(aM,{id:n,page:i,pageState:o,assets:u,snapLines:m,eraseLine:v,grid:y,users:l,userId:c,externalContainerRef:b,hideBounds:B,hideIndicators:D,hideHandles:x,hideCloneHandles:T,hideBindingHandles:N,hideRotateHandle:M,hideResizeHandles:k,hideGrid:P,showDashedBrush:_,onBoundsChange:Y,performanceMode:C,components:A,meta:g,hideCursors:U}))}var lM=h.memo(uM),Wh=h.memo(h.forwardRef(function(e,t){var n=e,{children:r,className:i=""}=n,o=Yu(n,["children","className"]);return h.createElement("div",lt({ref:t,className:`tl-positioned-div ${i}`,draggable:!1},o),h.createElement("div",{className:"tl-inner-div"},r))})),s1=class{constructor(){Pt(this,"refMap",new Map),Pt(this,"boundsCache",new WeakMap),Pt(this,"showCloneHandles",!1),Pt(this,"hideBounds",!1),Pt(this,"isStateful",!1),Pt(this,"shouldRender",(e,t)=>!0),Pt(this,"getRef",e=>(this.refMap.has(e.id)||this.refMap.set(e.id,h.createRef()),this.refMap.get(e.id))),Pt(this,"hitTestBounds",(e,t)=>{let n=this.getBounds(e),r=fr.getRotatedCorners(n,e.rotation);return r.every(i=>fr.pointInBounds(i,t))||IS(r,t).length>0}),Pt(this,"getRotatedBounds",e=>fr.getBoundsFromPoints(fr.getRotatedCorners(this.getBounds(e),e.rotation)))}};Pt(s1,"Component",e=>h.forwardRef(e)),Pt(s1,"Indicator",e=>e);function u1(e,t){return u1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},u1(e,t)}function cM(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,u1(e,t)}var dM=function(t,n){return t===void 0&&(t=[]),n===void 0&&(n=[]),t.length!==n.length||t.some(function(r,i){return!Object.is(r,n[i])})},zb={error:null},hM=(function(e){cM(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return r=e.call.apply(e,[this].concat(o))||this,r.state=zb,r.resetErrorBoundary=function(){for(var l,c=arguments.length,f=new Array(c),g=0;g<c;g++)f[g]=arguments[g];r.props.onReset==null||(l=r.props).onReset.apply(l,f),r.reset()},r}t.getDerivedStateFromError=function(i){return{error:i}};var n=t.prototype;return n.reset=function(){this.setState(zb)},n.componentDidCatch=function(i,o){var u,l;(u=(l=this.props).onError)==null||u.call(l,i,o)},n.componentDidUpdate=function(i,o){var u=this.state.error,l=this.props.resetKeys;if(u!==null&&o.error!==null&&dM(i.resetKeys,l)){var c,f;(c=(f=this.props).onResetKeysChange)==null||c.call(f,i.resetKeys,l),this.reset()}},n.render=function(){var i=this.state.error,o=this.props,u=o.fallbackRender,l=o.FallbackComponent,c=o.fallback;if(i!==null){var f={error:i,resetErrorBoundary:this.resetErrorBoundary};if(h.isValidElement(c))return c;if(typeof u=="function")return u(f);if(l)return h.createElement(l,f);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t})(h.Component),l1=function(e,t){return l1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},l1(e,t)};function $r(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ce=function(){return Ce=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ce.apply(this,arguments)};function ca(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function En(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function On(e,t){var n=t&&t.cache?t.cache:yM,r=t&&t.serializer?t.serializer:vM,i=t&&t.strategy?t.strategy:gM;return i(e,{cache:n,serializer:r})}function fM(e){return e==null||typeof e=="number"||typeof e=="boolean"}function pM(e,t,n,r){var i=fM(r)?r:n(r),o=t.get(i);return typeof o>"u"&&(o=e.call(this,r),t.set(i,o)),o}function NS(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return typeof o>"u"&&(o=e.apply(this,r),t.set(i,o)),o}function PS(e,t,n,r,i){return n.bind(t,e,r,i)}function gM(e,t){var n=e.length===1?pM:NS;return PS(e,this,n,t.cache.create(),t.serializer)}function mM(e,t){return PS(e,this,NS,t.cache.create(),t.serializer)}var vM=function(){return JSON.stringify(arguments)};function y4(){this.cache=Object.create(null)}y4.prototype.get=function(e){return this.cache[e]};y4.prototype.set=function(e,t){this.cache[e]=t};var yM={create:function(){return new y4}},Ln={variadic:mM};function OS(e,t,n){if(n===void 0&&(n=Error),!e)throw new n(t)}On(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,En([void 0],t,!1)))},{strategy:Ln.variadic});On(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,En([void 0],t,!1)))},{strategy:Ln.variadic});On(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,En([void 0],t,!1)))},{strategy:Ln.variadic});On(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.Locale).bind.apply(e,En([void 0],t,!1)))},{strategy:Ln.variadic});On(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.ListFormat).bind.apply(e,En([void 0],t,!1)))},{strategy:Ln.variadic});var nt;(function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(nt||(nt={}));var Rt;(function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"})(Rt||(Rt={}));var Du;(function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"})(Du||(Du={}));function Vb(e){return e.type===Rt.literal}function EM(e){return e.type===Rt.argument}function LS(e){return e.type===Rt.number}function FS(e){return e.type===Rt.date}function _S(e){return e.type===Rt.time}function $S(e){return e.type===Rt.select}function zS(e){return e.type===Rt.plural}function bM(e){return e.type===Rt.pound}function VS(e){return e.type===Rt.tag}function US(e){return!!(e&&typeof e=="object"&&e.type===Du.number)}function c1(e){return!!(e&&typeof e=="object"&&e.type===Du.dateTime)}var HS=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,CM=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function SM(e){var t={};return e.replace(CM,function(n){var r=n.length;switch(n[0]){case"G":t.era=r===4?"long":r===5?"narrow":"short";break;case"y":t.year=r===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=r===4?"long":r===5?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][r-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][r-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][r-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][r-1];break;case"s":t.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),t}var AM=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function wM(e){if(e.length===0)throw new Error("Number skeleton cannot be empty");for(var t=e.split(AM).filter(function(v){return v.length>0}),n=[],r=0,i=t;r<i.length;r++){var o=i[r],u=o.split("/");if(u.length===0)throw new Error("Invalid number skeleton");for(var l=u[0],c=u.slice(1),f=0,g=c;f<g.length;f++){var m=g[f];if(m.length===0)throw new Error("Invalid number skeleton")}n.push({stem:l,options:c})}return n}function xM(e){return e.replace(/^(.*?)-/,"")}var Ub=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,GS=/^(@+)?(\+|#+)?[rs]?$/g,DM=/(\*)(0+)|(#+)(0+)|(0+)/g,jS=/^(0+)$/;function Hb(e){var t={};return e[e.length-1]==="r"?t.roundingPriority="morePrecision":e[e.length-1]==="s"&&(t.roundingPriority="lessPrecision"),e.replace(GS,function(n,r,i){return typeof i!="string"?(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length):i==="+"?t.minimumSignificantDigits=r.length:r[0]==="#"?t.maximumSignificantDigits=r.length:(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length+(typeof i=="string"?i.length:0)),""}),t}function KS(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function IM(e){var t;if(e[0]==="E"&&e[1]==="E"?(t={notation:"engineering"},e=e.slice(2)):e[0]==="E"&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if(n==="+!"?(t.signDisplay="always",e=e.slice(2)):n==="+?"&&(t.signDisplay="exceptZero",e=e.slice(2)),!jS.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function Gb(e){var t={},n=KS(e);return n||t}function TM(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=xM(i.options[0]);continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=Ce(Ce(Ce({},t),{notation:"scientific"}),i.options.reduce(function(c,f){return Ce(Ce({},c),Gb(f))},{}));continue;case"engineering":t=Ce(Ce(Ce({},t),{notation:"engineering"}),i.options.reduce(function(c,f){return Ce(Ce({},c),Gb(f))},{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"rounding-mode-floor":t.roundingMode="floor";continue;case"rounding-mode-ceiling":t.roundingMode="ceil";continue;case"rounding-mode-down":t.roundingMode="trunc";continue;case"rounding-mode-up":t.roundingMode="expand";continue;case"rounding-mode-half-even":t.roundingMode="halfEven";continue;case"rounding-mode-half-down":t.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":t.roundingMode="halfExpand";continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(DM,function(c,f,g,m,v,y){if(f)t.minimumIntegerDigits=g.length;else{if(m&&v)throw new Error("We currently do not support maximum integer digits");if(y)throw new Error("We currently do not support exact integer digits")}return""});continue}if(jS.test(i.stem)){t.minimumIntegerDigits=i.stem.length;continue}if(Ub.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(Ub,function(c,f,g,m,v,y){return g==="*"?t.minimumFractionDigits=f.length:m&&m[0]==="#"?t.maximumFractionDigits=m.length:v&&y?(t.minimumFractionDigits=v.length,t.maximumFractionDigits=v.length+y.length):(t.minimumFractionDigits=f.length,t.maximumFractionDigits=f.length),""});var o=i.options[0];o==="w"?t=Ce(Ce({},t),{trailingZeroDisplay:"stripIfInteger"}):o&&(t=Ce(Ce({},t),Hb(o)));continue}if(GS.test(i.stem)){t=Ce(Ce({},t),Hb(i.stem));continue}var u=KS(i.stem);u&&(t=Ce(Ce({},t),u));var l=IM(i.stem);l&&(t=Ce(Ce({},t),l))}return t}var P0={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"en-HK":["h","hb","H","hB"],"en-IL":["H","h","hb","hB"],"en-MY":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function RM(e,t){for(var n="",r=0;r<e.length;r++){var i=e.charAt(r);if(i==="j"){for(var o=0;r+1<e.length&&e.charAt(r+1)===i;)o++,r++;var u=1+(o&1),l=o<2?1:3+(o>>1),c="a",f=BM(t);for((f=="H"||f=="k")&&(l=0);l-- >0;)n+=c;for(;u-- >0;)n=f+n}else i==="J"?n+="H":n+=i}return n}function BM(e){var t=e.hourCycle;if(t===void 0&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n=e.language,r;n!=="root"&&(r=e.maximize().region);var i=P0[r||""]||P0[n||""]||P0["".concat(n,"-001")]||P0["001"];return i[0]}var om,kM=new RegExp("^".concat(HS.source,"*")),MM=new RegExp("".concat(HS.source,"*$"));function it(e,t){return{start:e,end:t}}var NM=!!String.prototype.startsWith&&"_a".startsWith("a",1),PM=!!String.fromCodePoint,OM=!!Object.fromEntries,LM=!!String.prototype.codePointAt,FM=!!String.prototype.trimStart,_M=!!String.prototype.trimEnd,$M=!!Number.isSafeInteger,zM=$M?Number.isSafeInteger:function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},d1=!0;try{var VM=WS("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");d1=((om=VM.exec("a"))===null||om===void 0?void 0:om[0])==="a"}catch{d1=!1}var jb=NM?function(t,n,r){return t.startsWith(n,r)}:function(t,n,r){return t.slice(r,r+n.length)===n},h1=PM?String.fromCodePoint:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=t.length,o=0,u;i>o;){if(u=t[o++],u>1114111)throw RangeError(u+" is not a valid code point");r+=u<65536?String.fromCharCode(u):String.fromCharCode(((u-=65536)>>10)+55296,u%1024+56320)}return r},Kb=OM?Object.fromEntries:function(t){for(var n={},r=0,i=t;r<i.length;r++){var o=i[r],u=o[0],l=o[1];n[u]=l}return n},YS=LM?function(t,n){return t.codePointAt(n)}:function(t,n){var r=t.length;if(!(n<0||n>=r)){var i=t.charCodeAt(n),o;return i<55296||i>56319||n+1===r||(o=t.charCodeAt(n+1))<56320||o>57343?i:(i-55296<<10)+(o-56320)+65536}},UM=FM?function(t){return t.trimStart()}:function(t){return t.replace(kM,"")},HM=_M?function(t){return t.trimEnd()}:function(t){return t.replace(MM,"")};function WS(e,t){return new RegExp(e,t)}var f1;if(d1){var Yb=WS("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");f1=function(t,n){var r;Yb.lastIndex=n;var i=Yb.exec(t);return(r=i[1])!==null&&r!==void 0?r:""}}else f1=function(t,n){for(var r=[];;){var i=YS(t,n);if(i===void 0||ZS(i)||YM(i))break;r.push(i),n+=i>=65536?2:1}return h1.apply(void 0,r)};var GM=(function(){function e(t,n){n===void 0&&(n={}),this.message=t,this.position={offset:0,line:1,column:1},this.ignoreTag=!!n.ignoreTag,this.locale=n.locale,this.requiresOtherClause=!!n.requiresOtherClause,this.shouldParseSkeletons=!!n.shouldParseSkeletons}return e.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(t,n,r){for(var i=[];!this.isEOF();){var o=this.char();if(o===123){var u=this.parseArgument(t,r);if(u.err)return u;i.push(u.val)}else{if(o===125&&t>0)break;if(o===35&&(n==="plural"||n==="selectordinal")){var l=this.clonePosition();this.bump(),i.push({type:Rt.pound,location:it(l,this.clonePosition())})}else if(o===60&&!this.ignoreTag&&this.peek()===47){if(r)break;return this.error(nt.UNMATCHED_CLOSING_TAG,it(this.clonePosition(),this.clonePosition()))}else if(o===60&&!this.ignoreTag&&p1(this.peek()||0)){var u=this.parseTag(t,n);if(u.err)return u;i.push(u.val)}else{var u=this.parseLiteral(t,n);if(u.err)return u;i.push(u.val)}}}return{val:i,err:null}},e.prototype.parseTag=function(t,n){var r=this.clonePosition();this.bump();var i=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Rt.literal,value:"<".concat(i,"/>"),location:it(r,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(t+1,n,!0);if(o.err)return o;var u=o.val,l=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!p1(this.char()))return this.error(nt.INVALID_TAG,it(l,this.clonePosition()));var c=this.clonePosition(),f=this.parseTagName();return i!==f?this.error(nt.UNMATCHED_CLOSING_TAG,it(c,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Rt.tag,value:i,children:u,location:it(r,this.clonePosition())},err:null}:this.error(nt.INVALID_TAG,it(l,this.clonePosition())))}else return this.error(nt.UNCLOSED_TAG,it(r,this.clonePosition()))}else return this.error(nt.INVALID_TAG,it(r,this.clonePosition()))},e.prototype.parseTagName=function(){var t=this.offset();for(this.bump();!this.isEOF()&&KM(this.char());)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(t,n){for(var r=this.clonePosition(),i="";;){var o=this.tryParseQuote(n);if(o){i+=o;continue}var u=this.tryParseUnquoted(t,n);if(u){i+=u;continue}var l=this.tryParseLeftAngleBracket();if(l){i+=l;continue}break}var c=it(r,this.clonePosition());return{val:{type:Rt.literal,value:i,location:c},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!jM(this.peek()||0))?(this.bump(),"<"):null},e.prototype.tryParseQuote=function(t){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(t==="plural"||t==="selectordinal")break;return null;default:return null}this.bump();var n=[this.char()];for(this.bump();!this.isEOF();){var r=this.char();if(r===39)if(this.peek()===39)n.push(39),this.bump();else{this.bump();break}else n.push(r);this.bump()}return h1.apply(void 0,n)},e.prototype.tryParseUnquoted=function(t,n){if(this.isEOF())return null;var r=this.char();return r===60||r===123||r===35&&(n==="plural"||n==="selectordinal")||r===125&&t>0?null:(this.bump(),h1(r))},e.prototype.parseArgument=function(t,n){var r=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(nt.EXPECT_ARGUMENT_CLOSING_BRACE,it(r,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(nt.EMPTY_ARGUMENT,it(r,this.clonePosition()));var i=this.parseIdentifierIfPossible().value;if(!i)return this.error(nt.MALFORMED_ARGUMENT,it(r,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(nt.EXPECT_ARGUMENT_CLOSING_BRACE,it(r,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Rt.argument,value:i,location:it(r,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(nt.EXPECT_ARGUMENT_CLOSING_BRACE,it(r,this.clonePosition())):this.parseArgumentOptions(t,n,i,r);default:return this.error(nt.MALFORMED_ARGUMENT,it(r,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var t=this.clonePosition(),n=this.offset(),r=f1(this.message,n),i=n+r.length;this.bumpTo(i);var o=this.clonePosition(),u=it(t,o);return{value:r,location:u}},e.prototype.parseArgumentOptions=function(t,n,r,i){var o,u=this.clonePosition(),l=this.parseIdentifierIfPossible().value,c=this.clonePosition();switch(l){case"":return this.error(nt.EXPECT_ARGUMENT_TYPE,it(u,c));case"number":case"date":case"time":{this.bumpSpace();var f=null;if(this.bumpIf(",")){this.bumpSpace();var g=this.clonePosition(),m=this.parseSimpleArgStyleIfPossible();if(m.err)return m;var v=HM(m.val);if(v.length===0)return this.error(nt.EXPECT_ARGUMENT_STYLE,it(this.clonePosition(),this.clonePosition()));var y=it(g,this.clonePosition());f={style:v,styleLocation:y}}var b=this.tryParseArgumentClose(i);if(b.err)return b;var C=it(i,this.clonePosition());if(f&&jb(f?.style,"::",0)){var A=UM(f.style.slice(2));if(l==="number"){var m=this.parseNumberSkeletonFromString(A,f.styleLocation);return m.err?m:{val:{type:Rt.number,value:r,location:C,style:m.val},err:null}}else{if(A.length===0)return this.error(nt.EXPECT_DATE_TIME_SKELETON,C);var x=A;this.locale&&(x=RM(A,this.locale));var v={type:Du.dateTime,pattern:x,location:f.styleLocation,parsedOptions:this.shouldParseSkeletons?SM(x):{}},D=l==="date"?Rt.date:Rt.time;return{val:{type:D,value:r,location:C,style:v},err:null}}}return{val:{type:l==="number"?Rt.number:l==="date"?Rt.date:Rt.time,value:r,location:C,style:(o=f?.style)!==null&&o!==void 0?o:null},err:null}}case"plural":case"selectordinal":case"select":{var T=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(nt.EXPECT_SELECT_ARGUMENT_OPTIONS,it(T,Ce({},T)));this.bumpSpace();var N=this.parseIdentifierIfPossible(),k=0;if(l!=="select"&&N.value==="offset"){if(!this.bumpIf(":"))return this.error(nt.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,it(this.clonePosition(),this.clonePosition()));this.bumpSpace();var m=this.tryParseDecimalInteger(nt.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,nt.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(m.err)return m;this.bumpSpace(),N=this.parseIdentifierIfPossible(),k=m.val}var M=this.tryParsePluralOrSelectOptions(t,l,n,N);if(M.err)return M;var b=this.tryParseArgumentClose(i);if(b.err)return b;var B=it(i,this.clonePosition());return l==="select"?{val:{type:Rt.select,value:r,options:Kb(M.val),location:B},err:null}:{val:{type:Rt.plural,value:r,options:Kb(M.val),offset:k,pluralType:l==="plural"?"cardinal":"ordinal",location:B},err:null}}default:return this.error(nt.INVALID_ARGUMENT_TYPE,it(u,c))}},e.prototype.tryParseArgumentClose=function(t){return this.isEOF()||this.char()!==125?this.error(nt.EXPECT_ARGUMENT_CLOSING_BRACE,it(t,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var t=0,n=this.clonePosition();!this.isEOF();){var r=this.char();switch(r){case 39:{this.bump();var i=this.clonePosition();if(!this.bumpUntil("'"))return this.error(nt.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,it(i,this.clonePosition()));this.bump();break}case 123:{t+=1,this.bump();break}case 125:{if(t>0)t-=1;else return{val:this.message.slice(n.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(n.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(t,n){var r=[];try{r=wM(t)}catch{return this.error(nt.INVALID_NUMBER_SKELETON,n)}return{val:{type:Du.number,tokens:r,location:n,parsedOptions:this.shouldParseSkeletons?TM(r):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(t,n,r,i){for(var o,u=!1,l=[],c=new Set,f=i.value,g=i.location;;){if(f.length===0){var m=this.clonePosition();if(n!=="select"&&this.bumpIf("=")){var v=this.tryParseDecimalInteger(nt.EXPECT_PLURAL_ARGUMENT_SELECTOR,nt.INVALID_PLURAL_ARGUMENT_SELECTOR);if(v.err)return v;g=it(m,this.clonePosition()),f=this.message.slice(m.offset,this.offset())}else break}if(c.has(f))return this.error(n==="select"?nt.DUPLICATE_SELECT_ARGUMENT_SELECTOR:nt.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,g);f==="other"&&(u=!0),this.bumpSpace();var y=this.clonePosition();if(!this.bumpIf("{"))return this.error(n==="select"?nt.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:nt.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,it(this.clonePosition(),this.clonePosition()));var b=this.parseMessage(t+1,n,r);if(b.err)return b;var C=this.tryParseArgumentClose(y);if(C.err)return C;l.push([f,{value:b.val,location:it(y,this.clonePosition())}]),c.add(f),this.bumpSpace(),o=this.parseIdentifierIfPossible(),f=o.value,g=o.location}return l.length===0?this.error(n==="select"?nt.EXPECT_SELECT_ARGUMENT_SELECTOR:nt.EXPECT_PLURAL_ARGUMENT_SELECTOR,it(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!u?this.error(nt.MISSING_OTHER_CLAUSE,it(this.clonePosition(),this.clonePosition())):{val:l,err:null}},e.prototype.tryParseDecimalInteger=function(t,n){var r=1,i=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(r=-1);for(var o=!1,u=0;!this.isEOF();){var l=this.char();if(l>=48&&l<=57)o=!0,u=u*10+(l-48),this.bump();else break}var c=it(i,this.clonePosition());return o?(u*=r,zM(u)?{val:u,err:null}:this.error(n,c)):this.error(t,c)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var t=this.position.offset;if(t>=this.message.length)throw Error("out of bound");var n=YS(this.message,t);if(n===void 0)throw Error("Offset ".concat(t," is at invalid UTF-16 code unit boundary"));return n},e.prototype.error=function(t,n){return{val:null,err:{kind:t,message:this.message,location:n}}},e.prototype.bump=function(){if(!this.isEOF()){var t=this.char();t===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=t<65536?1:2)}},e.prototype.bumpIf=function(t){if(jb(this.message,t,this.offset())){for(var n=0;n<t.length;n++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(t){var n=this.offset(),r=this.message.indexOf(t,n);return r>=0?(this.bumpTo(r),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(t){if(this.offset()>t)throw Error("targetOffset ".concat(t," must be greater than or equal to the current offset ").concat(this.offset()));for(t=Math.min(t,this.message.length);;){var n=this.offset();if(n===t)break;if(n>t)throw Error("targetOffset ".concat(t," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&ZS(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var t=this.char(),n=this.offset(),r=this.message.charCodeAt(n+(t>=65536?2:1));return r??null},e})();function p1(e){return e>=97&&e<=122||e>=65&&e<=90}function jM(e){return p1(e)||e===47}function KM(e){return e===45||e===46||e>=48&&e<=57||e===95||e>=97&&e<=122||e>=65&&e<=90||e==183||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function ZS(e){return e>=9&&e<=13||e===32||e===133||e>=8206&&e<=8207||e===8232||e===8233}function YM(e){return e>=33&&e<=35||e===36||e>=37&&e<=39||e===40||e===41||e===42||e===43||e===44||e===45||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||e===91||e===92||e===93||e===94||e===96||e===123||e===124||e===125||e===126||e===161||e>=162&&e<=165||e===166||e===167||e===169||e===171||e===172||e===174||e===176||e===177||e===182||e===187||e===191||e===215||e===247||e>=8208&&e<=8213||e>=8214&&e<=8215||e===8216||e===8217||e===8218||e>=8219&&e<=8220||e===8221||e===8222||e===8223||e>=8224&&e<=8231||e>=8240&&e<=8248||e===8249||e===8250||e>=8251&&e<=8254||e>=8257&&e<=8259||e===8260||e===8261||e===8262||e>=8263&&e<=8273||e===8274||e===8275||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||e===8608||e>=8609&&e<=8610||e===8611||e>=8612&&e<=8613||e===8614||e>=8615&&e<=8621||e===8622||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||e===8658||e===8659||e===8660||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||e===8968||e===8969||e===8970||e===8971||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||e===9001||e===9002||e>=9003&&e<=9083||e===9084||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||e===9655||e>=9656&&e<=9664||e===9665||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||e===9839||e>=9840&&e<=10087||e===10088||e===10089||e===10090||e===10091||e===10092||e===10093||e===10094||e===10095||e===10096||e===10097||e===10098||e===10099||e===10100||e===10101||e>=10132&&e<=10175||e>=10176&&e<=10180||e===10181||e===10182||e>=10183&&e<=10213||e===10214||e===10215||e===10216||e===10217||e===10218||e===10219||e===10220||e===10221||e===10222||e===10223||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||e===10627||e===10628||e===10629||e===10630||e===10631||e===10632||e===10633||e===10634||e===10635||e===10636||e===10637||e===10638||e===10639||e===10640||e===10641||e===10642||e===10643||e===10644||e===10645||e===10646||e===10647||e===10648||e>=10649&&e<=10711||e===10712||e===10713||e===10714||e===10715||e>=10716&&e<=10747||e===10748||e===10749||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||e===11158||e>=11159&&e<=11263||e>=11776&&e<=11777||e===11778||e===11779||e===11780||e===11781||e>=11782&&e<=11784||e===11785||e===11786||e===11787||e===11788||e===11789||e>=11790&&e<=11798||e===11799||e>=11800&&e<=11801||e===11802||e===11803||e===11804||e===11805||e>=11806&&e<=11807||e===11808||e===11809||e===11810||e===11811||e===11812||e===11813||e===11814||e===11815||e===11816||e===11817||e>=11818&&e<=11822||e===11823||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||e===11840||e===11841||e===11842||e>=11843&&e<=11855||e>=11856&&e<=11857||e===11858||e>=11859&&e<=11903||e>=12289&&e<=12291||e===12296||e===12297||e===12298||e===12299||e===12300||e===12301||e===12302||e===12303||e===12304||e===12305||e>=12306&&e<=12307||e===12308||e===12309||e===12310||e===12311||e===12312||e===12313||e===12314||e===12315||e===12316||e===12317||e>=12318&&e<=12319||e===12320||e===12336||e===64830||e===64831||e>=65093&&e<=65094}function g1(e){e.forEach(function(t){if(delete t.location,$S(t)||zS(t))for(var n in t.options)delete t.options[n].location,g1(t.options[n].value);else LS(t)&&US(t.style)||(FS(t)||_S(t))&&c1(t.style)?delete t.style.location:VS(t)&&g1(t.children)})}function WM(e,t){t===void 0&&(t={}),t=Ce({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new GM(e,t).parse();if(n.err){var r=SyntaxError(nt[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return t?.captureLocation||g1(n.val),n.val}var Ii;(function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"})(Ii||(Ii={}));var mo=(function(e){$r(t,e);function t(n,r,i){var o=e.call(this,n)||this;return o.code=r,o.originalMessage=i,o}return t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t})(Error),Wb=(function(e){$r(t,e);function t(n,r,i,o){return e.call(this,'Invalid values for "'.concat(n,'": "').concat(r,'". Options are "').concat(Object.keys(i).join('", "'),'"'),Ii.INVALID_VALUE,o)||this}return t})(mo),ZM=(function(e){$r(t,e);function t(n,r,i){return e.call(this,'Value for "'.concat(n,'" must be of type ').concat(r),Ii.INVALID_VALUE,i)||this}return t})(mo),XM=(function(e){$r(t,e);function t(n,r){return e.call(this,'The intl string context variable "'.concat(n,'" was not provided to the string "').concat(r,'"'),Ii.MISSING_VALUE,r)||this}return t})(mo),Nn;(function(e){e[e.literal=0]="literal",e[e.object=1]="object"})(Nn||(Nn={}));function JM(e){return e.length<2?e:e.reduce(function(t,n){var r=t[t.length-1];return!r||r.type!==Nn.literal||n.type!==Nn.literal?t.push(n):r.value+=n.value,t},[])}function XS(e){return typeof e=="function"}function hh(e,t,n,r,i,o,u){if(e.length===1&&Vb(e[0]))return[{type:Nn.literal,value:e[0].value}];for(var l=[],c=0,f=e;c<f.length;c++){var g=f[c];if(Vb(g)){l.push({type:Nn.literal,value:g.value});continue}if(bM(g)){typeof o=="number"&&l.push({type:Nn.literal,value:n.getNumberFormat(t).format(o)});continue}var m=g.value;if(!(i&&m in i))throw new XM(m,u);var v=i[m];if(EM(g)){(!v||typeof v=="string"||typeof v=="number")&&(v=typeof v=="string"||typeof v=="number"?String(v):""),l.push({type:typeof v=="string"?Nn.literal:Nn.object,value:v});continue}if(FS(g)){var y=typeof g.style=="string"?r.date[g.style]:c1(g.style)?g.style.parsedOptions:void 0;l.push({type:Nn.literal,value:n.getDateTimeFormat(t,y).format(v)});continue}if(_S(g)){var y=typeof g.style=="string"?r.time[g.style]:c1(g.style)?g.style.parsedOptions:r.time.medium;l.push({type:Nn.literal,value:n.getDateTimeFormat(t,y).format(v)});continue}if(LS(g)){var y=typeof g.style=="string"?r.number[g.style]:US(g.style)?g.style.parsedOptions:void 0;y&&y.scale&&(v=v*(y.scale||1)),l.push({type:Nn.literal,value:n.getNumberFormat(t,y).format(v)});continue}if(VS(g)){var b=g.children,C=g.value,A=i[C];if(!XS(A))throw new ZM(C,"function",u);var x=hh(b,t,n,r,i,o),D=A(x.map(function(k){return k.value}));Array.isArray(D)||(D=[D]),l.push.apply(l,D.map(function(k){return{type:typeof k=="string"?Nn.literal:Nn.object,value:k}}))}if($S(g)){var T=g.options[v]||g.options.other;if(!T)throw new Wb(g.value,v,Object.keys(g.options),u);l.push.apply(l,hh(T.value,t,n,r,i));continue}if(zS(g)){var T=g.options["=".concat(v)];if(!T){if(!Intl.PluralRules)throw new mo(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Ii.MISSING_INTL_API,u);var N=n.getPluralRules(t,{type:g.pluralType}).select(v-(g.offset||0));T=g.options[N]||g.options.other}if(!T)throw new Wb(g.value,v,Object.keys(g.options),u);l.push.apply(l,hh(T.value,t,n,r,i,v-(g.offset||0)));continue}}return JM(l)}function qM(e,t){return t?Ce(Ce(Ce({},e||{}),t||{}),Object.keys(e).reduce(function(n,r){return n[r]=Ce(Ce({},e[r]),t[r]||{}),n},{})):e}function QM(e,t){return t?Object.keys(e).reduce(function(n,r){return n[r]=qM(e[r],t[r]),n},Ce({},e)):e}function sm(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function eN(e){return e===void 0&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:On(function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((t=Intl.NumberFormat).bind.apply(t,En([void 0],n,!1)))},{cache:sm(e.number),strategy:Ln.variadic}),getDateTimeFormat:On(function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((t=Intl.DateTimeFormat).bind.apply(t,En([void 0],n,!1)))},{cache:sm(e.dateTime),strategy:Ln.variadic}),getPluralRules:On(function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((t=Intl.PluralRules).bind.apply(t,En([void 0],n,!1)))},{cache:sm(e.pluralRules),strategy:Ln.variadic})}}var JS=(function(){function e(t,n,r,i){n===void 0&&(n=e.defaultLocale);var o=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(c){var f=o.formatToParts(c);if(f.length===1)return f[0].value;var g=f.reduce(function(m,v){return!m.length||v.type!==Nn.literal||typeof m[m.length-1]!="string"?m.push(v.value):m[m.length-1]+=v.value,m},[]);return g.length<=1?g[0]||"":g},this.formatToParts=function(c){return hh(o.ast,o.locales,o.formatters,o.formats,c,void 0,o.message)},this.resolvedOptions=function(){var c;return{locale:((c=o.resolvedLocale)===null||c===void 0?void 0:c.toString())||Intl.NumberFormat.supportedLocalesOf(o.locales)[0]}},this.getAst=function(){return o.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),typeof t=="string"){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var u=i||{};u.formatters;var l=ca(u,["formatters"]);this.ast=e.__parse(t,Ce(Ce({},l),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=QM(e.formats,r),this.formatters=i&&i.formatters||eN(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(t){if(!(typeof Intl.Locale>"u")){var n=Intl.NumberFormat.supportedLocalesOf(t);return n.length>0?new Intl.Locale(n[0]):new Intl.Locale(typeof t=="string"?t:t[0])}},e.__parse=WM,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e})(),ts;(function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"})(ts||(ts={}));var ed=(function(e){$r(t,e);function t(n,r,i){var o=this,u=i?i instanceof Error?i:new Error(String(i)):void 0;return o=e.call(this,"[@formatjs/intl Error ".concat(n,"] ").concat(r,`
`).concat(u?`
`.concat(u.message,`
`).concat(u.stack):""))||this,o.code=n,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(o,t),o}return t})(Error),tN=(function(e){$r(t,e);function t(n,r){return e.call(this,ts.UNSUPPORTED_FORMATTER,n,r)||this}return t})(ed),nN=(function(e){$r(t,e);function t(n,r){return e.call(this,ts.INVALID_CONFIG,n,r)||this}return t})(ed),Zb=(function(e){$r(t,e);function t(n,r){return e.call(this,ts.MISSING_DATA,n,r)||this}return t})(ed),zr=(function(e){$r(t,e);function t(n,r,i){var o=e.call(this,ts.FORMAT_ERROR,"".concat(n,`
Locale: `).concat(r,`
`),i)||this;return o.locale=r,o}return t})(ed),um=(function(e){$r(t,e);function t(n,r,i,o){var u=e.call(this,"".concat(n,`
MessageID: `).concat(i?.id,`
Default Message: `).concat(i?.defaultMessage,`
Description: `).concat(i?.description,`
`),r,o)||this;return u.descriptor=i,u.locale=r,u}return t})(zr),rN=(function(e){$r(t,e);function t(n,r){var i=e.call(this,ts.MISSING_TRANSLATION,'Missing message: "'.concat(n.id,'" for locale "').concat(r,'", using ').concat(n.defaultMessage?"default message (".concat(typeof n.defaultMessage=="string"?n.defaultMessage:n.defaultMessage.map(function(o){var u;return(u=o.value)!==null&&u!==void 0?u:JSON.stringify(o)}).join(),")"):"id"," as fallback."))||this;return i.descriptor=n,i}return t})(ed);function us(e,t,n){return n===void 0&&(n={}),t.reduce(function(r,i){return i in e?r[i]=e[i]:i in n&&(r[i]=n[i]),r},{})}var iN=function(e){},aN=function(e){},qS={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:iN,onWarn:aN};function QS(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function Ho(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function oN(e){e===void 0&&(e=QS());var t=Intl.RelativeTimeFormat,n=Intl.ListFormat,r=Intl.DisplayNames,i=On(function(){for(var l,c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return new((l=Intl.DateTimeFormat).bind.apply(l,En([void 0],c,!1)))},{cache:Ho(e.dateTime),strategy:Ln.variadic}),o=On(function(){for(var l,c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return new((l=Intl.NumberFormat).bind.apply(l,En([void 0],c,!1)))},{cache:Ho(e.number),strategy:Ln.variadic}),u=On(function(){for(var l,c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return new((l=Intl.PluralRules).bind.apply(l,En([void 0],c,!1)))},{cache:Ho(e.pluralRules),strategy:Ln.variadic});return{getDateTimeFormat:i,getNumberFormat:o,getMessageFormat:On(function(l,c,f,g){return new JS(l,c,f,Ce({formatters:{getNumberFormat:o,getDateTimeFormat:i,getPluralRules:u}},g||{}))},{cache:Ho(e.message),strategy:Ln.variadic}),getRelativeTimeFormat:On(function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return new(t.bind.apply(t,En([void 0],l,!1)))},{cache:Ho(e.relativeTime),strategy:Ln.variadic}),getPluralRules:u,getListFormat:On(function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return new(n.bind.apply(n,En([void 0],l,!1)))},{cache:Ho(e.list),strategy:Ln.variadic}),getDisplayNames:On(function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return new(r.bind.apply(r,En([void 0],l,!1)))},{cache:Ho(e.displayNames),strategy:Ln.variadic})}}function E4(e,t,n,r){var i=e&&e[t],o;if(i&&(o=i[n]),o)return o;r(new tN("No ".concat(t," format named: ").concat(n)))}function O0(e,t){return Object.keys(e).reduce(function(n,r){return n[r]=Ce({timeZone:t},e[r]),n},{})}function Xb(e,t){var n=Object.keys(Ce(Ce({},e),t));return n.reduce(function(r,i){return r[i]=Ce(Ce({},e[i]||{}),t[i]||{}),r},{})}function Jb(e,t){if(!t)return e;var n=JS.formats;return Ce(Ce(Ce({},n),e),{date:Xb(O0(n.date,t),O0(e.date||{},t)),time:Xb(O0(n.time,t),O0(e.time||{},t))})}var m1=function(e,t,n,r,i){var o=e.locale,u=e.formats,l=e.messages,c=e.defaultLocale,f=e.defaultFormats,g=e.fallbackOnEmptyString,m=e.onError,v=e.timeZone,y=e.defaultRichTextElements;n===void 0&&(n={id:""});var b=n.id,C=n.defaultMessage;OS(!!b,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var A=String(b),x=l&&Object.prototype.hasOwnProperty.call(l,A)&&l[A];if(Array.isArray(x)&&x.length===1&&x[0].type===Rt.literal)return x[0].value;if(!r&&x&&typeof x=="string"&&!y)return x.replace(/'\{(.*?)\}'/gi,"{$1}");if(r=Ce(Ce({},y),r||{}),u=Jb(u,v),f=Jb(f,v),!x){if(g===!1&&x==="")return x;if((!C||o&&o.toLowerCase()!==c.toLowerCase())&&m(new rN(n,o)),C)try{var D=t.getMessageFormat(C,c,f,i);return D.format(r)}catch(T){return m(new um('Error formatting default message for: "'.concat(A,'", rendering default message verbatim'),o,n,T)),typeof C=="string"?C:A}return A}try{var D=t.getMessageFormat(x,o,u,Ce({formatters:t},i||{}));return D.format(r)}catch(T){m(new um('Error formatting message: "'.concat(A,'", using ').concat(C?"default message":"id"," as fallback."),o,n,T))}if(C)try{var D=t.getMessageFormat(C,c,f,i);return D.format(r)}catch(T){m(new um('Error formatting the default message for: "'.concat(A,'", rendering message verbatim'),o,n,T))}return typeof x=="string"?x:typeof C=="string"?C:A},e6=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function Zh(e,t,n,r){var i=e.locale,o=e.formats,u=e.onError,l=e.timeZone;r===void 0&&(r={});var c=r.format,f=Ce(Ce({},l&&{timeZone:l}),c&&E4(o,t,c,u)),g=us(r,e6,f);return t==="time"&&!g.hour&&!g.minute&&!g.second&&!g.timeStyle&&!g.dateStyle&&(g=Ce(Ce({},g),{hour:"numeric",minute:"numeric"})),n(i,g)}function sN(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],u=o===void 0?{}:o,l=typeof i=="string"?new Date(i||0):i;try{return Zh(e,"date",t,u).format(l)}catch(c){e.onError(new zr("Error formatting date.",e.locale,c))}return String(l)}function uN(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],u=o===void 0?{}:o,l=typeof i=="string"?new Date(i||0):i;try{return Zh(e,"time",t,u).format(l)}catch(c){e.onError(new zr("Error formatting time.",e.locale,c))}return String(l)}function lN(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],u=n[2],l=u===void 0?{}:u,c=e.timeZone,f=e.locale,g=e.onError,m=us(l,e6,c?{timeZone:c}:{});try{return t(f,m).formatRange(i,o)}catch(v){g(new zr("Error formatting date time range.",e.locale,v))}return String(i)}function cN(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],u=o===void 0?{}:o,l=typeof i=="string"?new Date(i||0):i;try{return Zh(e,"date",t,u).formatToParts(l)}catch(c){e.onError(new zr("Error formatting date.",e.locale,c))}return[]}function dN(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],u=o===void 0?{}:o,l=typeof i=="string"?new Date(i||0):i;try{return Zh(e,"time",t,u).formatToParts(l)}catch(c){e.onError(new zr("Error formatting time.",e.locale,c))}return[]}var hN=["style","type","fallback","languageDisplay"];function fN(e,t,n,r){var i=e.locale,o=e.onError,u=Intl.DisplayNames;u||o(new mo(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,Ii.MISSING_INTL_API));var l=us(r,hN);try{return t(i,l).of(n)}catch(c){o(new zr("Error formatting display name.",i,c))}}var pN=["type","style"],qb=Date.now();function gN(e){return"".concat(qb,"_").concat(e,"_").concat(qb)}function mN(e,t,n,r){r===void 0&&(r={});var i=t6(e,t,n,r).reduce(function(o,u){var l=u.value;return typeof l!="string"?o.push(l):typeof o[o.length-1]=="string"?o[o.length-1]+=l:o.push(l),o},[]);return i.length===1?i[0]:i.length===0?"":i}function t6(e,t,n,r){var i=e.locale,o=e.onError;r===void 0&&(r={});var u=Intl.ListFormat;u||o(new mo(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,Ii.MISSING_INTL_API));var l=us(r,pN);try{var c={},f=n.map(function(g,m){if(typeof g=="object"){var v=gN(m);return c[v]=g,v}return String(g)});return t(i,l).formatToParts(f).map(function(g){return g.type==="literal"?g:Ce(Ce({},g),{value:c[g.value]||g.value})})}catch(g){o(new zr("Error formatting list.",i,g))}return n}var vN=["type"];function yN(e,t,n,r){var i=e.locale,o=e.onError;r===void 0&&(r={}),Intl.PluralRules||o(new mo(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Ii.MISSING_INTL_API));var u=us(r,vN);try{return t(i,u).select(n)}catch(l){o(new zr("Error formatting plural.",i,l))}return"other"}var EN=["numeric","style"];function bN(e,t,n){var r=e.locale,i=e.formats,o=e.onError;n===void 0&&(n={});var u=n.format,l=!!u&&E4(i,"relative",u,o)||{},c=us(n,EN,l);return t(r,c)}function CN(e,t,n,r,i){i===void 0&&(i={}),r||(r="second");var o=Intl.RelativeTimeFormat;o||e.onError(new mo(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,Ii.MISSING_INTL_API));try{return bN(e,t,i).format(n,r)}catch(u){e.onError(new zr("Error formatting relative time.",e.locale,u))}return String(n)}var SN=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function n6(e,t,n){var r=e.locale,i=e.formats,o=e.onError;n===void 0&&(n={});var u=n.format,l=u&&E4(i,"number",u,o)||{},c=us(n,SN,l);return t(r,c)}function AN(e,t,n,r){r===void 0&&(r={});try{return n6(e,t,r).format(n)}catch(i){e.onError(new zr("Error formatting number.",e.locale,i))}return String(n)}function wN(e,t,n,r){r===void 0&&(r={});try{return n6(e,t,r).formatToParts(n)}catch(i){e.onError(new zr("Error formatting number.",e.locale,i))}return[]}function xN(e){var t=e?e[Object.keys(e)[0]]:void 0;return typeof t=="string"}function DN(e){e.onWarn&&e.defaultRichTextElements&&xN(e.messages||{})&&e.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.io/docs/getting-started/message-distribution`)}function IN(e,t){var n=oN(t),r=Ce(Ce({},qS),e),i=r.locale,o=r.defaultLocale,u=r.onError;return i?!Intl.NumberFormat.supportedLocalesOf(i).length&&u?u(new Zb('Missing locale data for locale: "'.concat(i,'" in Intl.NumberFormat. Using default locale: "').concat(o,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(i).length&&u&&u(new Zb('Missing locale data for locale: "'.concat(i,'" in Intl.DateTimeFormat. Using default locale: "').concat(o,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):(u&&u(new nN('"locale" was not configured, using "'.concat(o,'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details'))),r.locale=r.defaultLocale||"en"),DN(r),Ce(Ce({},r),{formatters:n,formatNumber:AN.bind(null,r,n.getNumberFormat),formatNumberToParts:wN.bind(null,r,n.getNumberFormat),formatRelativeTime:CN.bind(null,r,n.getRelativeTimeFormat),formatDate:sN.bind(null,r,n.getDateTimeFormat),formatDateToParts:cN.bind(null,r,n.getDateTimeFormat),formatTime:uN.bind(null,r,n.getDateTimeFormat),formatDateTimeRange:lN.bind(null,r,n.getDateTimeFormat),formatTimeToParts:dN.bind(null,r,n.getDateTimeFormat),formatPlural:yN.bind(null,r,n.getPluralRules),formatMessage:m1.bind(null,r,n),$t:m1.bind(null,r,n),formatList:mN.bind(null,r,n.getListFormat),formatListToParts:t6.bind(null,r,n.getListFormat),formatDisplayName:fN.bind(null,r,n.getDisplayNames)})}function r6(e){OS(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var i6=Ce(Ce({},qS),{textComponent:h.Fragment});function TN(e){return function(t){return e(h.Children.toArray(t))}}function v1(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var o=0;o<i;o++){var u=n[o];if(e[u]!==t[u]||!Object.prototype.hasOwnProperty.call(t,u))return!1}return!0}var lm={exports:{}},dt={};var Qb;function RN(){if(Qb)return dt;Qb=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,u=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,g=e?Symbol.for("react.forward_ref"):60112,m=e?Symbol.for("react.suspense"):60113,v=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,b=e?Symbol.for("react.lazy"):60116,C=e?Symbol.for("react.block"):60121,A=e?Symbol.for("react.fundamental"):60117,x=e?Symbol.for("react.responder"):60118,D=e?Symbol.for("react.scope"):60119;function T(k){if(typeof k=="object"&&k!==null){var M=k.$$typeof;switch(M){case t:switch(k=k.type,k){case c:case f:case r:case o:case i:case m:return k;default:switch(k=k&&k.$$typeof,k){case l:case g:case b:case y:case u:return k;default:return M}}case n:return M}}}function N(k){return T(k)===f}return dt.AsyncMode=c,dt.ConcurrentMode=f,dt.ContextConsumer=l,dt.ContextProvider=u,dt.Element=t,dt.ForwardRef=g,dt.Fragment=r,dt.Lazy=b,dt.Memo=y,dt.Portal=n,dt.Profiler=o,dt.StrictMode=i,dt.Suspense=m,dt.isAsyncMode=function(k){return N(k)||T(k)===c},dt.isConcurrentMode=N,dt.isContextConsumer=function(k){return T(k)===l},dt.isContextProvider=function(k){return T(k)===u},dt.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===t},dt.isForwardRef=function(k){return T(k)===g},dt.isFragment=function(k){return T(k)===r},dt.isLazy=function(k){return T(k)===b},dt.isMemo=function(k){return T(k)===y},dt.isPortal=function(k){return T(k)===n},dt.isProfiler=function(k){return T(k)===o},dt.isStrictMode=function(k){return T(k)===i},dt.isSuspense=function(k){return T(k)===m},dt.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===f||k===o||k===i||k===m||k===v||typeof k=="object"&&k!==null&&(k.$$typeof===b||k.$$typeof===y||k.$$typeof===u||k.$$typeof===l||k.$$typeof===g||k.$$typeof===A||k.$$typeof===x||k.$$typeof===D||k.$$typeof===C)},dt.typeOf=T,dt}var eC;function BN(){return eC||(eC=1,lm.exports=RN()),lm.exports}var cm,tC;function kN(){if(tC)return cm;tC=1;var e=BN(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=r,o[e.Memo]=i;function u(b){return e.isMemo(b)?i:o[b.$$typeof]||t}var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,v=Object.prototype;function y(b,C,A){if(typeof C!="string"){if(v){var x=m(C);x&&x!==v&&y(b,x,A)}var D=c(C);f&&(D=D.concat(f(C)));for(var T=u(b),N=u(C),k=0;k<D.length;++k){var M=D[k];if(!n[M]&&!(A&&A[M])&&!(N&&N[M])&&!(T&&T[M])){var B=g(C,M);try{l(b,M,B)}catch{}}}}return b}return cm=y,cm}kN();var b4=typeof window<"u"&&!window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=h.createContext(null)):h.createContext(null);b4.Consumer;var MN=b4.Provider,NN=MN,PN=b4;function In(){var e=h.useContext(PN);return r6(e),e}var y1;(function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"})(y1||(y1={}));var E1;(function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"})(E1||(E1={}));function a6(e){var t=function(n){var r=In(),i=n.value,o=n.children,u=ca(n,["value","children"]),l=typeof i=="string"?new Date(i||0):i,c=e==="formatDate"?r.formatDateToParts(l,u):r.formatTimeToParts(l,u);return o(c)};return t.displayName=E1[e],t}function td(e){var t=function(n){var r=In(),i=n.value,o=n.children,u=ca(n,["value","children"]),l=r[e](i,u);if(typeof o=="function")return o(l);var c=r.textComponent||h.Fragment;return h.createElement(c,null,l)};return t.displayName=y1[e],t}function o6(e){return e&&Object.keys(e).reduce(function(t,n){var r=e[n];return t[n]=XS(r)?TN(r):r,t},{})}var nC=function(e,t,n,r){for(var i=[],o=4;o<arguments.length;o++)i[o-4]=arguments[o];var u=o6(r),l=m1.apply(void 0,En([e,t,n,u],i,!1));return Array.isArray(l)?h.Children.toArray(l):l},rC=function(e,t){var n=e.defaultRichTextElements,r=ca(e,["defaultRichTextElements"]),i=o6(n),o=IN(Ce(Ce(Ce({},i6),r),{defaultRichTextElements:i}),t),u={locale:o.locale,timeZone:o.timeZone,fallbackOnEmptyString:o.fallbackOnEmptyString,formats:o.formats,defaultLocale:o.defaultLocale,defaultFormats:o.defaultFormats,messages:o.messages,onError:o.onError,defaultRichTextElements:i};return Ce(Ce({},o),{formatMessage:nC.bind(null,u,o.formatters),$t:nC.bind(null,u,o.formatters)})};function dm(e){return{locale:e.locale,timeZone:e.timeZone,fallbackOnEmptyString:e.fallbackOnEmptyString,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError,onWarn:e.onWarn,wrapRichTextChunksInFragment:e.wrapRichTextChunksInFragment,defaultRichTextElements:e.defaultRichTextElements}}var ON=(function(e){$r(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.cache=QS(),n.state={cache:n.cache,intl:rC(dm(n.props),n.cache),prevConfig:dm(n.props)},n}return t.getDerivedStateFromProps=function(n,r){var i=r.prevConfig,o=r.cache,u=dm(n);return v1(i,u)?null:{intl:rC(u,o),prevConfig:u}},t.prototype.render=function(){return r6(this.state.intl),h.createElement(NN,{value:this.state.intl},this.props.children)},t.displayName="IntlProvider",t.defaultProps=i6,t})(h.PureComponent);function LN(e,t){var n=e.values,r=ca(e,["values"]),i=t.values,o=ca(t,["values"]);return v1(i,n)&&v1(r,o)}function s6(e){var t=In(),n=t.formatMessage,r=t.textComponent,i=r===void 0?h.Fragment:r,o=e.id,u=e.description,l=e.defaultMessage,c=e.values,f=e.children,g=e.tagName,m=g===void 0?i:g,v=e.ignoreTag,y={id:o,description:u,defaultMessage:l},b=n(y,c,{ignoreTag:v});return typeof f=="function"?f(Array.isArray(b)?b:[b]):m?h.createElement(m,null,h.Children.toArray(b)):h.createElement(h.Fragment,null,b)}s6.displayName="FormattedMessage";var ye=h.memo(s6,LN);ye.displayName="MemoizedFormattedMessage";td("formatDate");td("formatTime");td("formatNumber");td("formatList");td("formatDisplayName");a6("formatDate");a6("formatTime");function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Te.apply(null,arguments)}function We(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function Wu(e,t=[]){let n=[];function r(o,u){const l=h.createContext(u),c=n.length;n=[...n,u];function f(m){const{scope:v,children:y,...b}=m,C=v?.[e][c]||l,A=h.useMemo(()=>b,Object.values(b));return h.createElement(C.Provider,{value:A},y)}function g(m,v){const y=v?.[e][c]||l,b=h.useContext(y);if(b)return b;if(u!==void 0)return u;throw new Error(`\`${m}\` must be used within \`${o}\``)}return f.displayName=o+"Provider",[f,g]}const i=()=>{const o=n.map(u=>h.createContext(u));return function(l){const c=l?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,FN(i,...t)]}function FN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const u=r.reduce((l,{useScope:c,scopeName:f})=>{const m=c(o)[`__scope${f}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var Zu=pS();const u6=Yc(Zu);function _N(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Xh(...e){return t=>e.forEach(n=>_N(n,t))}function yr(...e){return h.useCallback(Xh(...e),e)}const Tc=h.forwardRef((e,t)=>{const{children:n,...r}=e,i=h.Children.toArray(n),o=i.find(zN);if(o){const u=o.props.children,l=i.map(c=>c===o?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:c);return h.createElement(b1,Te({},r,{ref:t}),h.isValidElement(u)?h.cloneElement(u,void 0,l):null)}return h.createElement(b1,Te({},r,{ref:t}),n)});Tc.displayName="Slot";const b1=h.forwardRef((e,t)=>{const{children:n,...r}=e;return h.isValidElement(n)?h.cloneElement(n,{...VN(r,n.props),ref:Xh(t,n.ref)}):h.Children.count(n)>1?h.Children.only(null):null});b1.displayName="SlotClone";const $N=({children:e})=>h.createElement(h.Fragment,null,e);function zN(e){return h.isValidElement(e)&&e.type===$N}function VN(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?n[r]=(...l)=>{o?.(...l),i?.(...l)}:r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}const UN=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],Fn=UN.reduce((e,t)=>{const n=h.forwardRef((r,i)=>{const{asChild:o,...u}=r,l=o?Tc:t;return h.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),h.createElement(l,Te({},u,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function l6(e,t){e&&Zu.flushSync(()=>e.dispatchEvent(t))}function c6(e){const t=e+"CollectionProvider",[n,r]=Wu(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=y=>{const{scope:b,children:C}=y,A=$t.useRef(null),x=$t.useRef(new Map).current;return $t.createElement(i,{scope:b,itemMap:x,collectionRef:A},C)},l=e+"CollectionSlot",c=$t.forwardRef((y,b)=>{const{scope:C,children:A}=y,x=o(l,C),D=yr(b,x.collectionRef);return $t.createElement(Tc,{ref:D},A)}),f=e+"CollectionItemSlot",g="data-radix-collection-item",m=$t.forwardRef((y,b)=>{const{scope:C,children:A,...x}=y,D=$t.useRef(null),T=yr(b,D),N=o(f,C);return $t.useEffect(()=>(N.itemMap.set(D,{ref:D,...x}),()=>void N.itemMap.delete(D))),$t.createElement(Tc,{[g]:"",ref:T},A)});function v(y){const b=o(e+"CollectionConsumer",y);return $t.useCallback(()=>{const A=b.collectionRef.current;if(!A)return[];const x=Array.from(A.querySelectorAll(`[${g}]`));return Array.from(b.itemMap.values()).sort((N,k)=>x.indexOf(N.ref.current)-x.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:u,Slot:c,ItemSlot:m},v,r]}const HN=h.createContext(void 0);function d6(e){const t=h.useContext(HN);return e||t||"ltr"}function _r(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function GN(e){const t=_r(e);h.useEffect(()=>{const n=r=>{r.key==="Escape"&&t(r)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t])}const C1="dismissableLayer.update",jN="dismissableLayer.pointerDownOutside",KN="dismissableLayer.focusOutside";let iC;const YN=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),WN=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:u,onDismiss:l,...c}=e,f=h.useContext(YN),[g,m]=h.useState(null),[,v]=h.useState({}),y=yr(t,M=>m(M)),b=Array.from(f.layers),[C]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),A=b.indexOf(C),x=g?b.indexOf(g):-1,D=f.layersWithOutsidePointerEventsDisabled.size>0,T=x>=A,N=ZN(M=>{const B=M.target,P=[...f.branches].some(_=>_.contains(B));!T||P||(i?.(M),u?.(M),M.defaultPrevented||l?.())}),k=XN(M=>{const B=M.target;[...f.branches].some(_=>_.contains(B))||(o?.(M),u?.(M),M.defaultPrevented||l?.())});return GN(M=>{x===f.layers.size-1&&(r?.(M),!M.defaultPrevented&&l&&(M.preventDefault(),l()))}),h.useEffect(()=>{if(g)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(iC=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),aC(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=iC)}},[g,n,f]),h.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),aC())},[g,f]),h.useEffect(()=>{const M=()=>v({});return document.addEventListener(C1,M),()=>document.removeEventListener(C1,M)},[]),h.createElement(Fn.div,Te({},c,{ref:y,style:{pointerEvents:D?T?"auto":"none":void 0,...e.style},onFocusCapture:We(e.onFocusCapture,k.onFocusCapture),onBlurCapture:We(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:We(e.onPointerDownCapture,N.onPointerDownCapture)}))});function ZN(e){const t=_r(e),n=h.useRef(!1),r=h.useRef(()=>{});return h.useEffect(()=>{const i=u=>{if(u.target&&!n.current){let f=function(){h6(jN,t,c,{discrete:!0})};var l=f;const c={originalEvent:u};u.pointerType==="touch"?(document.removeEventListener("click",r.current),r.current=f,document.addEventListener("click",r.current,{once:!0})):f()}n.current=!1},o=window.setTimeout(()=>{document.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),document.removeEventListener("pointerdown",i),document.removeEventListener("click",r.current)}},[t]),{onPointerDownCapture:()=>n.current=!0}}function XN(e){const t=_r(e),n=h.useRef(!1);return h.useEffect(()=>{const r=i=>{i.target&&!n.current&&h6(KN,t,{originalEvent:i},{discrete:!1})};return document.addEventListener("focusin",r),()=>document.removeEventListener("focusin",r)},[t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function aC(){const e=new CustomEvent(C1);document.dispatchEvent(e)}function h6(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?l6(i,o):i.dispatchEvent(o)}let hm=0;function JN(){h.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:oC()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:oC()),hm++,()=>{hm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),hm--}},[])}function oC(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const fm="focusScope.autoFocusOnMount",pm="focusScope.autoFocusOnUnmount",sC={bubbles:!1,cancelable:!0},qN=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...u}=e,[l,c]=h.useState(null),f=_r(i),g=_r(o),m=h.useRef(null),v=yr(t,C=>c(C)),y=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let x=function(T){if(y.paused||!l)return;const N=T.target;l.contains(N)?m.current=N:jo(m.current,{select:!0})},D=function(T){y.paused||!l||l.contains(T.relatedTarget)||jo(m.current,{select:!0})};var C=x,A=D;return document.addEventListener("focusin",x),document.addEventListener("focusout",D),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",D)}}},[r,l,y.paused]),h.useEffect(()=>{if(l){lC.add(y);const C=document.activeElement;if(!l.contains(C)){const x=new CustomEvent(fm,sC);l.addEventListener(fm,f),l.dispatchEvent(x),x.defaultPrevented||(QN(iP(f6(l)),{select:!0}),document.activeElement===C&&jo(l))}return()=>{l.removeEventListener(fm,f),setTimeout(()=>{const x=new CustomEvent(pm,sC);l.addEventListener(pm,g),l.dispatchEvent(x),x.defaultPrevented||jo(C??document.body,{select:!0}),l.removeEventListener(pm,g),lC.remove(y)},0)}}},[l,f,g,y]);const b=h.useCallback(C=>{if(!n&&!r||y.paused)return;const A=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,x=document.activeElement;if(A&&x){const D=C.currentTarget,[T,N]=eP(D);T&&N?!C.shiftKey&&x===N?(C.preventDefault(),n&&jo(T,{select:!0})):C.shiftKey&&x===T&&(C.preventDefault(),n&&jo(N,{select:!0})):x===D&&C.preventDefault()}},[n,r,y.paused]);return h.createElement(Fn.div,Te({tabIndex:-1},u,{ref:v,onKeyDown:b}))});function QN(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(jo(r,{select:t}),document.activeElement!==n)return}function eP(e){const t=f6(e),n=uC(t,e),r=uC(t.reverse(),e);return[n,r]}function f6(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function uC(e,t){for(const n of e)if(!tP(n,{upTo:t}))return n}function tP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function nP(e){return e instanceof HTMLInputElement&&"select"in e}function jo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&nP(e)&&t&&e.select()}}const lC=rP();function rP(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=cC(e,t),e.unshift(t)},remove(t){var n;e=cC(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function cC(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function iP(e){return e.filter(t=>t.tagName!=="A")}const Iu=globalThis?.document?h.useLayoutEffect:()=>{},aP=u4.useId||(()=>{});let oP=0;function Rc(e){const[t,n]=h.useState(aP());return Iu(()=>{n(r=>r??String(oP++))},[e]),e||(t?`radix-${t}`:"")}function Xu(e){return e.split("-")[0]}function Jh(e){return e.split("-")[1]}function Ju(e){return["top","bottom"].includes(Xu(e))?"x":"y"}function C4(e){return e==="y"?"height":"width"}function dC(e,t,n){let{reference:r,floating:i}=e;const o=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,l=Ju(t),c=C4(l),f=r[c]/2-i[c]/2,g=l==="x";let m;switch(Xu(t)){case"top":m={x:o,y:r.y-i.height};break;case"bottom":m={x:o,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:u};break;case"left":m={x:r.x-i.width,y:u};break;default:m={x:r.x,y:r.y}}switch(Jh(t)){case"start":m[l]-=f*(n&&g?-1:1);break;case"end":m[l]+=f*(n&&g?-1:1)}return m}const sP=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:u}=n,l=await(u.isRTL==null?void 0:u.isRTL(t));let c=await u.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:g}=dC(c,r,l),m=r,v={},y=0;for(let b=0;b<o.length;b++){const{name:C,fn:A}=o[b],{x,y:D,data:T,reset:N}=await A({x:f,y:g,initialPlacement:r,placement:m,strategy:i,middlewareData:v,rects:c,platform:u,elements:{reference:e,floating:t}});f=x??f,g=D??g,v={...v,[C]:{...v[C],...T}},N&&y<=50&&(y++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(c=N.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:i}):N.rects),{x:f,y:g}=dC(c,m,l)),b=-1)}return{x:f,y:g,placement:m,strategy:i,middlewareData:v}};function p6(e){return typeof e!="number"?(function(t){return{top:0,right:0,bottom:0,left:0,...t}})(e):{top:e,right:e,bottom:e,left:e}}function Ch(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Sh(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:u,elements:l,strategy:c}=e,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:v=!1,padding:y=0}=t,b=p6(y),C=l[v?m==="floating"?"reference":"floating":m],A=Ch(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(C)))==null||n?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:f,rootBoundary:g,strategy:c})),x=Ch(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:m==="floating"?{...u.floating,x:r,y:i}:u.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),strategy:c}):u[m]);return{top:A.top-x.top+b.top,bottom:x.bottom-A.bottom+b.bottom,left:A.left-x.left+b.left,right:x.right-A.right+b.right}}const uP=Math.min,lP=Math.max;function S1(e,t,n){return lP(e,uP(t,n))}const hC=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e??{},{x:i,y:o,placement:u,rects:l,platform:c}=t;if(n==null)return{};const f=p6(r),g={x:i,y:o},m=Ju(u),v=Jh(u),y=C4(m),b=await c.getDimensions(n),C=m==="y"?"top":"left",A=m==="y"?"bottom":"right",x=l.reference[y]+l.reference[m]-g[m]-l.floating[y],D=g[m]-l.reference[m],T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(n));let N=T?m==="y"?T.clientHeight||0:T.clientWidth||0:0;N===0&&(N=l.floating[y]);const k=x/2-D/2,M=f[C],B=N-b[y]-f[A],P=N/2-b[y]/2+k,_=S1(M,P,B),U=(v==="start"?f[C]:f[A])>0&&P!==_&&l.reference[y]<=l.floating[y];return{[m]:g[m]-(U?P<M?M-P:B-P:0),data:{[m]:_,centerOffset:P-_}}}}),cP={left:"right",right:"left",bottom:"top",top:"bottom"};function Ah(e){return e.replace(/left|right|bottom|top/g,(t=>cP[t]))}function dP(e,t,n){n===void 0&&(n=!1);const r=Jh(e),i=Ju(e),o=C4(i);let u=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(u=Ah(u)),{main:u,cross:Ah(u)}}const hP={start:"end",end:"start"};function fC(e){return e.replace(/start|end/g,(t=>hP[t]))}const g6=["top","right","bottom","left"];g6.reduce(((e,t)=>e.concat(t,t+"-start",t+"-end")),[]);const fP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:o,initialPlacement:u,platform:l,elements:c}=t,{mainAxis:f=!0,crossAxis:g=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",flipAlignment:y=!0,...b}=e,C=Xu(r),A=m||(C===u||!y?[Ah(u)]:(function(P){const _=Ah(P);return[fC(P),_,fC(_)]})(u)),x=[u,...A],D=await Sh(t,b),T=[];let N=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&T.push(D[C]),g){const{main:P,cross:_}=dP(r,o,await(l.isRTL==null?void 0:l.isRTL(c.floating)));T.push(D[P],D[_])}if(N=[...N,{placement:r,overflows:T}],!T.every((P=>P<=0))){var k,M;const P=((k=(M=i.flip)==null?void 0:M.index)!=null?k:0)+1,_=x[P];if(_)return{data:{index:P,overflows:N},reset:{placement:_}};let U="bottom";switch(v){case"bestFit":{var B;const K=(B=N.map((J=>[J,J.overflows.filter((te=>te>0)).reduce(((te,fe)=>te+fe),0)])).sort(((J,te)=>J[1]-te[1]))[0])==null?void 0:B[0].placement;K&&(U=K);break}case"initialPlacement":U=u}if(r!==U)return{reset:{placement:U}}}return{}}}};function pC(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function gC(e){return g6.some((t=>e[t]>=0))}const pP=function(e){let{strategy:t="referenceHidden",...n}=e===void 0?{}:e;return{name:"hide",async fn(r){const{rects:i}=r;switch(t){case"referenceHidden":{const o=pC(await Sh(r,{...n,elementContext:"reference"}),i.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:gC(o)}}}case"escaped":{const o=pC(await Sh(r,{...n,altBoundary:!0}),i.floating);return{data:{escapedOffsets:o,escaped:gC(o)}}}default:return{}}}}},gP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await(async function(o,u){const{placement:l,platform:c,elements:f}=o,g=await(c.isRTL==null?void 0:c.isRTL(f.floating)),m=Xu(l),v=Jh(l),y=Ju(l)==="x",b=["left","top"].includes(m)?-1:1,C=g&&y?-1:1,A=typeof u=="function"?u(o):u;let{mainAxis:x,crossAxis:D,alignmentAxis:T}=typeof A=="number"?{mainAxis:A,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...A};return v&&typeof T=="number"&&(D=v==="end"?-1*T:T),y?{x:D*C,y:x*b}:{x:x*b,y:D*C}})(t,e);return{x:n+i.x,y:r+i.y,data:i}}}};function m6(e){return e==="x"?"y":"x"}const mP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:u=!1,limiter:l={fn:A=>{let{x,y:D}=A;return{x,y:D}}},...c}=e,f={x:n,y:r},g=await Sh(t,c),m=Ju(Xu(i)),v=m6(m);let y=f[m],b=f[v];if(o){const A=m==="y"?"bottom":"right";y=S1(y+g[m==="y"?"top":"left"],y,y-g[A])}if(u){const A=v==="y"?"bottom":"right";b=S1(b+g[v==="y"?"top":"left"],b,b-g[A])}const C=l.fn({...t,[m]:y,[v]:b});return{...C,data:{x:C.x-n,y:C.y-r}}}}},vP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:u}=t,{offset:l=0,mainAxis:c=!0,crossAxis:f=!0}=e,g={x:n,y:r},m=Ju(i),v=m6(m);let y=g[m],b=g[v];const C=typeof l=="function"?l({...o,placement:i}):l,A=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(c){const k=m==="y"?"height":"width",M=o.reference[m]-o.floating[k]+A.mainAxis,B=o.reference[m]+o.reference[k]-A.mainAxis;y<M?y=M:y>B&&(y=B)}if(f){var x,D,T,N;const k=m==="y"?"width":"height",M=["top","left"].includes(Xu(i)),B=o.reference[v]-o.floating[k]+(M&&(x=(D=u.offset)==null?void 0:D[v])!=null?x:0)+(M?0:A.crossAxis),P=o.reference[v]+o.reference[k]+(M?0:(T=(N=u.offset)==null?void 0:N[v])!=null?T:0)-(M?A.crossAxis:0);b<B?b=B:b>P&&(b=P)}return{[m]:y,[v]:b}}}};function v6(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function ma(e){if(e==null)return window;if(!v6(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function nd(e){return ma(e).getComputedStyle(e)}function aa(e){return v6(e)?"":e?(e.nodeName||"").toLowerCase():""}function y6(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map((t=>t.brand+"/"+t.version)).join(" "):navigator.userAgent}function Ti(e){return e instanceof ma(e).HTMLElement}function oo(e){return e instanceof ma(e).Element}function S4(e){return typeof ShadowRoot>"u"?!1:e instanceof ma(e).ShadowRoot||e instanceof ShadowRoot}function qh(e){const{overflow:t,overflowX:n,overflowY:r}=nd(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function yP(e){return["table","td","th"].includes(aa(e))}function mC(e){const t=/firefox/i.test(y6()),n=nd(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"}function E6(){return!/^((?!chrome|android).)*safari/i.test(y6())}const vC=Math.min,fc=Math.max,wh=Math.round;function oa(e,t,n){var r,i,o,u;t===void 0&&(t=!1),n===void 0&&(n=!1);const l=e.getBoundingClientRect();let c=1,f=1;t&&Ti(e)&&(c=e.offsetWidth>0&&wh(l.width)/e.offsetWidth||1,f=e.offsetHeight>0&&wh(l.height)/e.offsetHeight||1);const g=oo(e)?ma(e):window,m=!E6()&&n,v=(l.left+(m&&(r=(i=g.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/c,y=(l.top+(m&&(o=(u=g.visualViewport)==null?void 0:u.offsetTop)!=null?o:0))/f,b=l.width/c,C=l.height/f;return{width:b,height:C,top:y,right:v+b,bottom:y+C,left:v,x:v,y}}function ro(e){return(t=e,(t instanceof ma(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function Qh(e){return oo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function b6(e){return oa(ro(e)).left+Qh(e).scrollLeft}function EP(e,t,n){const r=Ti(t),i=ro(t),o=oa(e,r&&(function(c){const f=oa(c);return wh(f.width)!==c.offsetWidth||wh(f.height)!==c.offsetHeight})(t),n==="fixed");let u={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if(r||!r&&n!=="fixed")if((aa(t)!=="body"||qh(i))&&(u=Qh(t)),Ti(t)){const c=oa(t,!0);l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}else i&&(l.x=b6(i));return{x:o.left+u.scrollLeft-l.x,y:o.top+u.scrollTop-l.y,width:o.width,height:o.height}}function C6(e){return aa(e)==="html"?e:e.assignedSlot||e.parentNode||(S4(e)?e.host:null)||ro(e)}function yC(e){return Ti(e)&&getComputedStyle(e).position!=="fixed"?e.offsetParent:null}function A1(e){const t=ma(e);let n=yC(e);for(;n&&yP(n)&&getComputedStyle(n).position==="static";)n=yC(n);return n&&(aa(n)==="html"||aa(n)==="body"&&getComputedStyle(n).position==="static"&&!mC(n))?t:n||(function(r){let i=C6(r);for(S4(i)&&(i=i.host);Ti(i)&&!["html","body"].includes(aa(i));){if(mC(i))return i;i=i.parentNode}return null})(e)||t}function EC(e){if(Ti(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=oa(e);return{width:t.width,height:t.height}}function S6(e){const t=C6(e);return["html","body","#document"].includes(aa(t))?e.ownerDocument.body:Ti(t)&&qh(t)?t:S6(t)}function xh(e,t){var n;t===void 0&&(t=[]);const r=S6(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=ma(r),u=i?[o].concat(o.visualViewport||[],qh(r)?r:[]):r,l=t.concat(u);return i?l:l.concat(xh(u))}function bC(e,t,n){return t==="viewport"?Ch((function(r,i){const o=ma(r),u=ro(r),l=o.visualViewport;let c=u.clientWidth,f=u.clientHeight,g=0,m=0;if(l){c=l.width,f=l.height;const v=E6();(v||!v&&i==="fixed")&&(g=l.offsetLeft,m=l.offsetTop)}return{width:c,height:f,x:g,y:m}})(e,n)):oo(t)?(function(r,i){const o=oa(r,!1,i==="fixed"),u=o.top+r.clientTop,l=o.left+r.clientLeft;return{top:u,left:l,x:l,y:u,right:l+r.clientWidth,bottom:u+r.clientHeight,width:r.clientWidth,height:r.clientHeight}})(t,n):Ch((function(r){var i;const o=ro(r),u=Qh(r),l=(i=r.ownerDocument)==null?void 0:i.body,c=fc(o.scrollWidth,o.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),f=fc(o.scrollHeight,o.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0);let g=-u.scrollLeft+b6(r);const m=-u.scrollTop;return nd(l||o).direction==="rtl"&&(g+=fc(o.clientWidth,l?l.clientWidth:0)-c),{width:c,height:f,x:g,y:m}})(ro(e)))}function bP(e){const t=xh(e),n=["absolute","fixed"].includes(nd(e).position)&&Ti(e)?A1(e):e;return oo(n)?t.filter((r=>oo(r)&&(function(i,o){const u=o.getRootNode==null?void 0:o.getRootNode();if(i.contains(o))return!0;if(u&&S4(u)){let l=o;do{if(l&&i===l)return!0;l=l.parentNode||l.host}while(l)}return!1})(r,n)&&aa(r)!=="body")):[]}const CP={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?bP(t):[].concat(n),r],u=o[0],l=o.reduce(((c,f)=>{const g=bC(t,f,i);return c.top=fc(g.top,c.top),c.right=vC(g.right,c.right),c.bottom=vC(g.bottom,c.bottom),c.left=fc(g.left,c.left),c}),bC(t,u,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=Ti(n),o=ro(n);if(n===o)return t;let u={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if((i||!i&&r!=="fixed")&&((aa(n)!=="body"||qh(o))&&(u=Qh(n)),Ti(n))){const c=oa(n,!0);l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{...t,x:t.x-u.scrollLeft+l.x,y:t.y-u.scrollTop+l.y}},isElement:oo,getDimensions:EC,getOffsetParent:A1,getDocumentElement:ro,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:EP(t,A1(n),r),floating:{...EC(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>nd(e).direction==="rtl"};function SP(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:u=!0,animationFrame:l=!1}=r,c=i&&!l,f=o&&!l,g=c||f?[...oo(e)?xh(e):[],...xh(t)]:[];g.forEach((b=>{c&&b.addEventListener("scroll",n,{passive:!0}),f&&b.addEventListener("resize",n)}));let m,v=null;if(u){let b=!0;v=new ResizeObserver((()=>{b||n(),b=!1})),oo(e)&&!l&&v.observe(e),v.observe(t)}let y=l?oa(e):null;return l&&(function b(){const C=oa(e);!y||C.x===y.x&&C.y===y.y&&C.width===y.width&&C.height===y.height||n(),y=C,m=requestAnimationFrame(b)})(),n(),()=>{var b;g.forEach((C=>{c&&C.removeEventListener("scroll",n),f&&C.removeEventListener("resize",n)})),(b=v)==null||b.disconnect(),v=null,l&&cancelAnimationFrame(m)}}const AP=(e,t,n)=>sP(e,t,{platform:CP,...n});var w1=typeof document<"u"?h.useLayoutEffect:h.useEffect;function x1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!x1(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!x1(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function wP(e){const t=h.useRef(e);return w1(()=>{t.current=e}),t}function xP(e){let{middleware:t,placement:n="bottom",strategy:r="absolute",whileElementsMounted:i}=e===void 0?{}:e;const o=h.useRef(null),u=h.useRef(null),l=wP(i),c=h.useRef(null),[f,g]=h.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[m,v]=h.useState(t);x1(m?.map(T=>{let{options:N}=T;return N}),t?.map(T=>{let{options:N}=T;return N}))||v(t);const y=h.useCallback(()=>{!o.current||!u.current||AP(o.current,u.current,{middleware:m,placement:n,strategy:r}).then(T=>{b.current&&Zu.flushSync(()=>{g(T)})})},[m,n,r]);w1(()=>{b.current&&y()},[y]);const b=h.useRef(!1);w1(()=>(b.current=!0,()=>{b.current=!1}),[]);const C=h.useCallback(()=>{if(typeof c.current=="function"&&(c.current(),c.current=null),o.current&&u.current)if(l.current){const T=l.current(o.current,u.current,y);c.current=T}else y()},[y,l]),A=h.useCallback(T=>{o.current=T,C()},[C]),x=h.useCallback(T=>{u.current=T,C()},[C]),D=h.useMemo(()=>({reference:o,floating:u}),[]);return h.useMemo(()=>({...f,update:y,refs:D,reference:A,floating:x}),[f,y,D,A,x])}const DP=e=>{const{element:t,padding:n}=e;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return r(t)?t.current!=null?hC({element:t.current,padding:n}).fn(i):{}:t?hC({element:t,padding:n}).fn(i):{}}}},IP=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return h.createElement(Fn.svg,Te({},o,{ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?n:h.createElement("polygon",{points:"0,0 30,0 15,10"}))}),TP=IP;function RP(e){const[t,n]=h.useState(void 0);return Iu(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let u,l;if("borderBoxSize"in o){const c=o.borderBoxSize,f=Array.isArray(c)?c[0]:c;u=f.inlineSize,l=f.blockSize}else u=e.offsetWidth,l=e.offsetHeight;n({width:u,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const A6="Popper",[A4,w6]=Wu(A6),[BP,x6]=A4(A6),kP=e=>{const{__scopePopper:t,children:n}=e,[r,i]=h.useState(null);return h.createElement(BP,{scope:t,anchor:r,onAnchorChange:i},n)},MP="PopperAnchor",NP=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=x6(MP,n),u=h.useRef(null),l=yr(t,u);return h.useEffect(()=>{o.onAnchorChange(r?.current||u.current)}),r?null:h.createElement(Fn.div,Te({},i,{ref:l}))}),Dh="PopperContent",[PP,OP]=A4(Dh),[LP,FP]=A4(Dh,{hasParent:!1,positionUpdateFns:new Set}),_P=h.forwardRef((e,t)=>{var n,r,i,o,u,l,c,f;const{__scopePopper:g,side:m="bottom",sideOffset:v=0,align:y="center",alignOffset:b=0,arrowPadding:C=0,collisionBoundary:A=[],collisionPadding:x=0,sticky:D="partial",hideWhenDetached:T=!1,avoidCollisions:N=!0,...k}=e,M=x6(Dh,g),[B,P]=h.useState(null),_=yr(t,wo=>P(wo)),[U,K]=h.useState(null),J=RP(U),te=(n=J?.width)!==null&&n!==void 0?n:0,fe=(r=J?.height)!==null&&r!==void 0?r:0,Ee=m+(y!=="center"?"-"+y:""),Y=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},V=Array.isArray(A)?A:[A],W=V.length>0,ce={padding:Y,boundary:V.filter(HP),altBoundary:W},{reference:ge,floating:z,strategy:ee,x:de,y:me,placement:Se,middlewareData:Ae,update:Ne}=xP({strategy:"fixed",placement:Ee,whileElementsMounted:SP,middleware:[gP({mainAxis:v+fe,alignmentAxis:b}),N?mP({mainAxis:!0,crossAxis:!1,limiter:D==="partial"?vP():void 0,...ce}):void 0,U?DP({element:U,padding:C}):void 0,N?fP({...ce}):void 0,GP({arrowWidth:te,arrowHeight:fe}),T?pP({strategy:"referenceHidden"}):void 0].filter(UP)});Iu(()=>{ge(M.anchor)},[ge,M.anchor]);const He=de!==null&&me!==null,[rt,Zt]=D6(Se),Bn=(i=Ae.arrow)===null||i===void 0?void 0:i.x,zn=(o=Ae.arrow)===null||o===void 0?void 0:o.y,Sn=((u=Ae.arrow)===null||u===void 0?void 0:u.centerOffset)!==0,[Vn,So]=h.useState();Iu(()=>{B&&So(window.getComputedStyle(B).zIndex)},[B]);const{hasParent:Ao,positionUpdateFns:ba}=FP(Dh,g),Ca=!Ao;h.useLayoutEffect(()=>{if(!Ca)return ba.add(Ne),()=>{ba.delete(Ne)}},[Ca,ba,Ne]),h.useLayoutEffect(()=>{Ca&&He&&Array.from(ba).reverse().forEach(wo=>requestAnimationFrame(wo))},[Ca,He,ba]);const ps={"data-side":rt,"data-align":Zt,...k,ref:_,style:{...k.style,animation:He?void 0:"none",opacity:(l=Ae.hide)!==null&&l!==void 0&&l.referenceHidden?0:void 0}};return h.createElement("div",{ref:z,"data-radix-popper-content-wrapper":"",style:{position:ee,left:0,top:0,transform:He?`translate3d(${Math.round(de)}px, ${Math.round(me)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:Vn,"--radix-popper-transform-origin":[(c=Ae.transformOrigin)===null||c===void 0?void 0:c.x,(f=Ae.transformOrigin)===null||f===void 0?void 0:f.y].join(" ")}},h.createElement(PP,{scope:g,placedSide:rt,onArrowChange:K,arrowX:Bn,arrowY:zn,shouldHideArrow:Sn},Ca?h.createElement(LP,{scope:g,hasParent:!0,positionUpdateFns:ba},h.createElement(Fn.div,ps)):h.createElement(Fn.div,ps)))}),$P="PopperArrow",zP={top:"bottom",right:"left",bottom:"top",left:"right"},VP=h.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=OP($P,r),u=zP[o.placedSide];return h.createElement("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0}},h.createElement(TP,Te({},i,{ref:n,style:{...i.style,display:"block"}})))});function UP(e){return e!==void 0}function HP(e){return e!==null}const GP=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,o,u;const{placement:l,rects:c,middlewareData:f}=t,m=((n=f.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,v=m?0:e.arrowWidth,y=m?0:e.arrowHeight,[b,C]=D6(l),A={start:"0%",center:"50%",end:"100%"}[C],x=((r=(i=f.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+v/2,D=((o=(u=f.arrow)===null||u===void 0?void 0:u.y)!==null&&o!==void 0?o:0)+y/2;let T="",N="";return b==="bottom"?(T=m?A:`${x}px`,N=`${-y}px`):b==="top"?(T=m?A:`${x}px`,N=`${c.floating.height+y}px`):b==="right"?(T=`${-y}px`,N=m?A:`${D}px`):b==="left"&&(T=`${c.floating.width+y}px`,N=m?A:`${D}px`),{data:{x:T,y:N}}}});function D6(e){const[t,n="center"]=e.split("-");return[t,n]}const I6=kP,jP=NP,KP=_P,YP=VP,WP=h.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=e;return r?u6.createPortal(h.createElement(Fn.div,Te({},i,{ref:t})),r):null});function ZP(e,t){return h.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const rd=e=>{const{present:t,children:n}=e,r=XP(t),i=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=yr(r.ref,i.ref);return typeof n=="function"||r.isPresent?h.cloneElement(i,{ref:o}):null};rd.displayName="Presence";function XP(e){const[t,n]=h.useState(),r=h.useRef({}),i=h.useRef(e),o=h.useRef("none"),u=e?"mounted":"unmounted",[l,c]=ZP(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const f=L0(r.current);o.current=l==="mounted"?f:"none"},[l]),Iu(()=>{const f=r.current,g=i.current;if(g!==e){const v=o.current,y=L0(f);e?c("MOUNT"):y==="none"||f?.display==="none"?c("UNMOUNT"):c(g&&v!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Iu(()=>{if(t){const f=m=>{const y=L0(r.current).includes(m.animationName);m.target===t&&y&&Zu.flushSync(()=>c("ANIMATION_END"))},g=m=>{m.target===t&&(o.current=L0(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(f=>{f&&(r.current=getComputedStyle(f)),n(f)},[])}}function L0(e){return e?.animationName||"none"}function ef({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=JP({defaultProp:t,onChange:n}),o=e!==void 0,u=o?e:r,l=_r(n),c=h.useCallback(f=>{if(o){const m=typeof f=="function"?f(e):f;m!==e&&l(m)}else i(f)},[o,e,i,l]);return[u,c]}function JP({defaultProp:e,onChange:t}){const n=h.useState(e),[r]=n,i=h.useRef(r),o=_r(t);return h.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}const gm="rovingFocusGroup.onEntryFocus",qP={bubbles:!1,cancelable:!0},w4="RovingFocusGroup",[D1,T6,QP]=c6(w4),[eO,R6]=Wu(w4,[QP]),[tO,nO]=eO(w4),rO=h.forwardRef((e,t)=>h.createElement(D1.Provider,{scope:e.__scopeRovingFocusGroup},h.createElement(D1.Slot,{scope:e.__scopeRovingFocusGroup},h.createElement(iO,Te({},e,{ref:t}))))),iO=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:u,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:f,...g}=e,m=h.useRef(null),v=yr(t,m),y=d6(o),[b=null,C]=ef({prop:u,defaultProp:l,onChange:c}),[A,x]=h.useState(!1),D=_r(f),T=T6(n),N=h.useRef(!1);return h.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(gm,D),()=>k.removeEventListener(gm,D)},[D]),h.createElement(tO,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:b,onItemFocus:h.useCallback(k=>C(k),[C]),onItemShiftTab:h.useCallback(()=>x(!0),[])},h.createElement(Fn.div,Te({tabIndex:A?-1:0,"data-orientation":r},g,{ref:v,style:{outline:"none",...e.style},onMouseDown:We(e.onMouseDown,()=>{N.current=!0}),onFocus:We(e.onFocus,k=>{const M=!N.current;if(k.target===k.currentTarget&&M&&!A){const B=new CustomEvent(gm,qP);if(k.currentTarget.dispatchEvent(B),!B.defaultPrevented){const P=T().filter(te=>te.focusable),_=P.find(te=>te.active),U=P.find(te=>te.id===b),J=[_,U,...P].filter(Boolean).map(te=>te.ref.current);B6(J)}}N.current=!1}),onBlur:We(e.onBlur,()=>x(!1))})))}),aO="RovingFocusGroupItem",oO=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,...o}=e,u=Rc(),l=nO(aO,n),c=l.currentTabStopId===u,f=T6(n);return h.createElement(D1.ItemSlot,{scope:n,id:u,focusable:r,active:i},h.createElement(Fn.span,Te({tabIndex:c?0:-1,"data-orientation":l.orientation},o,{ref:t,onMouseDown:We(e.onMouseDown,g=>{r?l.onItemFocus(u):g.preventDefault()}),onFocus:We(e.onFocus,()=>l.onItemFocus(u)),onKeyDown:We(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){l.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=lO(g,l.orientation,l.dir);if(m!==void 0){g.preventDefault();let y=f().filter(b=>b.focusable).map(b=>b.ref.current);if(m==="last")y.reverse();else if(m==="prev"||m==="next"){m==="prev"&&y.reverse();const b=y.indexOf(g.currentTarget);y=l.loop?cO(y,b+1):y.slice(b+1)}setTimeout(()=>B6(y))}})})))}),sO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uO(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function lO(e,t,n){const r=uO(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return sO[r]}function B6(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function cO(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const dO=rO,hO=oO;var fO=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},nu=new WeakMap,F0=new WeakMap,_0={},mm=0,k6=function(e){return e&&(e.host||k6(e.parentNode))},pO=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=k6(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},gO=function(e,t,n,r){var i=pO(t,Array.isArray(e)?e:[e]);_0[n]||(_0[n]=new WeakMap);var o=_0[n],u=[],l=new Set,c=new Set(i),f=function(m){!m||l.has(m)||(l.add(m),f(m.parentNode))};i.forEach(f);var g=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(v){if(l.has(v))g(v);else try{var y=v.getAttribute(r),b=y!==null&&y!=="false",C=(nu.get(v)||0)+1,A=(o.get(v)||0)+1;nu.set(v,C),o.set(v,A),u.push(v),C===1&&b&&F0.set(v,!0),A===1&&v.setAttribute(n,"true"),b||v.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",v,x)}})};return g(t),l.clear(),mm++,function(){u.forEach(function(m){var v=nu.get(m)-1,y=o.get(m)-1;nu.set(m,v),o.set(m,y),v||(F0.has(m)||m.removeAttribute(r),F0.delete(m)),y||m.removeAttribute(n)}),mm--,mm||(nu=new WeakMap,nu=new WeakMap,F0=new WeakMap,_0={})}},x4=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=fO(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),gO(r,i,n,"aria-hidden")):function(){return null}},pc="right-scroll-bar-position",gc="width-before-scroll-bar",mO="with-scroll-bars-hidden",vO="--removed-body-scroll-bar-size";function vm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function yO(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var EO=typeof window<"u"?h.useLayoutEffect:h.useEffect,CC=new WeakMap;function M6(e,t){var n=yO(null,function(r){return e.forEach(function(i){return vm(i,r)})});return EO(function(){var r=CC.get(n);if(r){var i=new Set(r),o=new Set(e),u=n.current;i.forEach(function(l){o.has(l)||vm(l,null)}),o.forEach(function(l){i.has(l)||vm(l,u)})}CC.set(n,e)},[e]),n}function bO(e){return e}function CO(e,t){t===void 0&&(t=bO);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var u=t(o,r);return n.push(u),function(){n=n.filter(function(l){return l!==u})}},assignSyncMedium:function(o){for(r=!0;n.length;){var u=n;n=[],u.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var u=[];if(n.length){var l=n;n=[],l.forEach(o),u=n}var c=function(){var g=u;u=[],g.forEach(o)},f=function(){return Promise.resolve().then(c)};f(),n={push:function(g){u.push(g),f()},filter:function(g){return u=u.filter(g),n}}}};return i}function N6(e){e===void 0&&(e={});var t=CO(null);return t.options=Ce({async:!0,ssr:!1},e),t}var P6=function(e){var t=e.sideCar,n=ca(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Ce({},n))};P6.isSideCarExport=!0;function O6(e,t){return e.useMedium(t),P6}var L6=N6(),ym=function(){},tf=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:ym,onWheelCapture:ym,onTouchMoveCapture:ym}),i=r[0],o=r[1],u=e.forwardProps,l=e.children,c=e.className,f=e.removeScrollBar,g=e.enabled,m=e.shards,v=e.sideCar,y=e.noIsolation,b=e.inert,C=e.allowPinchZoom,A=e.as,x=A===void 0?"div":A,D=ca(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),T=v,N=M6([n,t]),k=Ce(Ce({},D),i);return h.createElement(h.Fragment,null,g&&h.createElement(T,{sideCar:L6,removeScrollBar:f,shards:m,noIsolation:y,inert:b,setCallbacks:o,allowPinchZoom:!!C,lockRef:n}),u?h.cloneElement(h.Children.only(l),Ce(Ce({},k),{ref:N})):h.createElement(x,Ce({},k,{className:c,ref:N}),l))});tf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tf.classNames={fullWidth:gc,zeroRight:pc};var SO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function AO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=SO();return t&&e.setAttribute("nonce",t),e}function wO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function xO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var DO=function(){var e=0,t=null;return{add:function(n){e==0&&(t=AO())&&(wO(t,n),xO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},IO=function(){var e=DO();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},D4=function(){var e=IO(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},TO={left:0,top:0,right:0,gap:0},Em=function(e){return parseInt(e||"",10)||0},RO=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Em(n),Em(r),Em(i)]},BO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return TO;var t=RO(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},kO=D4(),bu="data-scroll-locked",MO=function(e,t,n,r){var i=e.left,o=e.top,u=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(mO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(bu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pc,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(gc,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(pc," .").concat(pc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(gc," .").concat(gc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(bu,`] {
    `).concat(vO,": ").concat(l,`px;
  }
`)},SC=function(){var e=parseInt(document.body.getAttribute(bu)||"0",10);return isFinite(e)?e:0},NO=function(){h.useEffect(function(){return document.body.setAttribute(bu,(SC()+1).toString()),function(){var e=SC()-1;e<=0?document.body.removeAttribute(bu):document.body.setAttribute(bu,e.toString())}},[])},F6=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;NO();var o=h.useMemo(function(){return BO(i)},[i]);return h.createElement(kO,{styles:MO(o,!t,i,n?"":"!important")})},I1=!1;if(typeof window<"u")try{var $0=Object.defineProperty({},"passive",{get:function(){return I1=!0,!0}});window.addEventListener("test",$0,$0),window.removeEventListener("test",$0,$0)}catch{I1=!1}var ru=I1?{passive:!1}:!1,PO=function(e){var t=window.getComputedStyle(e);return t.overflowY!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowY==="visible")},OO=function(e){var t=window.getComputedStyle(e);return t.overflowX!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowX==="visible")},AC=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=_6(e,n);if(r){var i=$6(e,n),o=i[1],u=i[2];if(o>u)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},LO=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},FO=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},_6=function(e,t){return e==="v"?PO(t):OO(t)},$6=function(e,t){return e==="v"?LO(t):FO(t)},_O=function(e,t){return e==="h"&&t==="rtl"?-1:1},$O=function(e,t,n,r,i){var o=_O(e,window.getComputedStyle(t).direction),u=o*r,l=n.target,c=t.contains(l),f=!1,g=u>0,m=0,v=0;do{var y=$6(e,l),b=y[0],C=y[1],A=y[2],x=C-A-o*b;(b||x)&&_6(e,l)&&(m+=x,v+=b),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(g&&m===0||!g&&v===0)&&(f=!0),f},z0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},wC=function(e){return[e.deltaX,e.deltaY]},xC=function(e){return e&&"current"in e?e.current:e},zO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},VO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},UO=0,iu=[];function HO(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),i=h.useState(UO++)[0],o=h.useState(function(){return D4()})[0],u=h.useRef(e);h.useEffect(function(){u.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var C=En([e.lockRef.current],(e.shards||[]).map(xC),!0).filter(Boolean);return C.forEach(function(A){return A.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),C.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(C,A){if("touches"in C&&C.touches.length===2)return!u.current.allowPinchZoom;var x=z0(C),D=n.current,T="deltaX"in C?C.deltaX:D[0]-x[0],N="deltaY"in C?C.deltaY:D[1]-x[1],k,M=C.target,B=Math.abs(T)>Math.abs(N)?"h":"v";if("touches"in C&&B==="h"&&M.type==="range")return!1;var P=AC(B,M);if(!P)return!0;if(P?k=B:(k=B==="v"?"h":"v",P=AC(B,M)),!P)return!1;if(!r.current&&"changedTouches"in C&&(T||N)&&(r.current=k),!k)return!0;var _=r.current||k;return $O(_,A,C,_==="h"?T:N)},[]),c=h.useCallback(function(C){var A=C;if(!(!iu.length||iu[iu.length-1]!==o)){var x="deltaY"in A?wC(A):z0(A),D=t.current.filter(function(k){return k.name===A.type&&k.target===A.target&&zO(k.delta,x)})[0];if(D&&D.should){A.preventDefault();return}if(!D){var T=(u.current.shards||[]).map(xC).filter(Boolean).filter(function(k){return k.contains(A.target)}),N=T.length>0?l(A,T[0]):!u.current.noIsolation;N&&A.preventDefault()}}},[]),f=h.useCallback(function(C,A,x,D){var T={name:C,delta:A,target:x,should:D};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(N){return N!==T})},1)},[]),g=h.useCallback(function(C){n.current=z0(C),r.current=void 0},[]),m=h.useCallback(function(C){f(C.type,wC(C),C.target,l(C,e.lockRef.current))},[]),v=h.useCallback(function(C){f(C.type,z0(C),C.target,l(C,e.lockRef.current))},[]);h.useEffect(function(){return iu.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",c,ru),document.addEventListener("touchmove",c,ru),document.addEventListener("touchstart",g,ru),function(){iu=iu.filter(function(C){return C!==o}),document.removeEventListener("wheel",c,ru),document.removeEventListener("touchmove",c,ru),document.removeEventListener("touchstart",g,ru)}},[]);var y=e.removeScrollBar,b=e.inert;return h.createElement(h.Fragment,null,b?h.createElement(o,{styles:VO(i)}):null,y?h.createElement(F6,{gapMode:"margin"}):null)}const GO=O6(L6,HO);var z6=h.forwardRef(function(e,t){return h.createElement(tf,Ce({},e,{ref:t,sideCar:GO}))});z6.classNames=tf.classNames;const T1=["Enter"," "],jO=["ArrowDown","PageUp","Home"],V6=["ArrowUp","PageDown","End"],KO=[...jO,...V6],YO={ltr:[...T1,"ArrowRight"],rtl:[...T1,"ArrowLeft"]},WO={ltr:["ArrowLeft"],rtl:["ArrowRight"]},nf="Menu",[Bc,ZO,XO]=c6(nf),[ls,rf]=Wu(nf,[XO,w6,R6]),id=w6(),U6=R6(),[H6,vo]=ls(nf),[JO,ad]=ls(nf),qO=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:u=!0}=e,l=id(t),[c,f]=h.useState(null),g=h.useRef(!1),m=_r(o),v=d6(i);return h.useEffect(()=>{const y=()=>{g.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>g.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),h.createElement(I6,l,h.createElement(H6,{scope:t,open:n,onOpenChange:m,content:c,onContentChange:f},h.createElement(JO,{scope:t,onClose:h.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:g,dir:v,modal:u},r)))},G6=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=id(n);return h.createElement(jP,Te({},i,r,{ref:t}))}),j6="MenuPortal",[QO,K6]=ls(j6,{forceMount:void 0}),eL=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=vo(j6,t);return h.createElement(QO,{scope:t,forceMount:n},h.createElement(rd,{present:n||o.open},h.createElement(WP,{asChild:!0,container:i},r)))},si="MenuContent",[tL,I4]=ls(si),nL=h.forwardRef((e,t)=>{const n=K6(si,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=vo(si,e.__scopeMenu),u=ad(si,e.__scopeMenu);return h.createElement(Bc.Provider,{scope:e.__scopeMenu},h.createElement(rd,{present:r||o.open},h.createElement(Bc.Slot,{scope:e.__scopeMenu},u.modal?h.createElement(rL,Te({},i,{ref:t})):h.createElement(iL,Te({},i,{ref:t})))))}),rL=h.forwardRef((e,t)=>{const n=vo(si,e.__scopeMenu),r=h.useRef(null),i=yr(t,r);return h.useEffect(()=>{const o=r.current;if(o)return x4(o)},[]),h.createElement(T4,Te({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:We(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),iL=h.forwardRef((e,t)=>{const n=vo(si,e.__scopeMenu);return h.createElement(T4,Te({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),T4=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:u,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:g,onInteractOutside:m,onDismiss:v,disableOutsideScroll:y,...b}=e,C=vo(si,n),A=ad(si,n),x=id(n),D=U6(n),T=ZO(n),[N,k]=h.useState(null),M=h.useRef(null),B=yr(t,M,C.onContentChange),P=h.useRef(0),_=h.useRef(""),U=h.useRef(0),K=h.useRef(null),J=h.useRef("right"),te=h.useRef(0),fe=y?z6:h.Fragment,Ee=y?{as:Tc,allowPinchZoom:!0}:void 0,Y=W=>{var ce,ge;const z=_.current+W,ee=T().filter(He=>!He.disabled),de=document.activeElement,me=(ce=ee.find(He=>He.ref.current===de))===null||ce===void 0?void 0:ce.textValue,Se=ee.map(He=>He.textValue),Ae=wL(Se,z,me),Ne=(ge=ee.find(He=>He.textValue===Ae))===null||ge===void 0?void 0:ge.ref.current;(function He(rt){_.current=rt,window.clearTimeout(P.current),rt!==""&&(P.current=window.setTimeout(()=>He(""),1e3))})(z),Ne&&setTimeout(()=>Ne.focus())};h.useEffect(()=>()=>window.clearTimeout(P.current),[]),JN();const V=h.useCallback(W=>{var ce,ge;return J.current===((ce=K.current)===null||ce===void 0?void 0:ce.side)&&DL(W,(ge=K.current)===null||ge===void 0?void 0:ge.area)},[]);return h.createElement(tL,{scope:n,searchRef:_,onItemEnter:h.useCallback(W=>{V(W)&&W.preventDefault()},[V]),onItemLeave:h.useCallback(W=>{var ce;V(W)||((ce=M.current)===null||ce===void 0||ce.focus(),k(null))},[V]),onTriggerLeave:h.useCallback(W=>{V(W)&&W.preventDefault()},[V]),pointerGraceTimerRef:U,onPointerGraceIntentChange:h.useCallback(W=>{K.current=W},[])},h.createElement(fe,Ee,h.createElement(qN,{asChild:!0,trapped:i,onMountAutoFocus:We(o,W=>{var ce;W.preventDefault(),(ce=M.current)===null||ce===void 0||ce.focus()}),onUnmountAutoFocus:u},h.createElement(WN,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:g,onInteractOutside:m,onDismiss:v},h.createElement(dO,Te({asChild:!0},D,{dir:A.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:k,onEntryFocus:W=>{A.isUsingKeyboardRef.current||W.preventDefault()}}),h.createElement(KP,Te({role:"menu","aria-orientation":"vertical","data-state":q6(C.open),dir:A.dir},x,b,{ref:B,style:{outline:"none",...b.style},onKeyDown:We(b.onKeyDown,W=>{const ge=W.target.closest('[role="menu"]')===W.currentTarget,z=W.ctrlKey||W.altKey||W.metaKey,ee=W.key.length===1;ge&&(W.key==="Tab"&&W.preventDefault(),!z&&ee&&Y(W.key));const de=M.current;if(W.target!==de||!KO.includes(W.key))return;W.preventDefault();const Se=T().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);V6.includes(W.key)&&Se.reverse(),SL(Se)}),onBlur:We(e.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(P.current),_.current="")}),onPointerMove:We(e.onPointerMove,kc(W=>{const ce=W.target,ge=te.current!==W.clientX;if(W.currentTarget.contains(ce)&&ge){const z=W.clientX>te.current?"right":"left";J.current=z,te.current=W.clientX}}))})))))))}),aL=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return h.createElement(Fn.div,Te({role:"group"},r,{ref:t}))}),R1="MenuItem",DC="menu.itemSelect",R4=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=h.useRef(null),u=ad(R1,e.__scopeMenu),l=I4(R1,e.__scopeMenu),c=yr(t,o),f=h.useRef(!1),g=()=>{const m=o.current;if(!n&&m){const v=new CustomEvent(DC,{bubbles:!0,cancelable:!0});m.addEventListener(DC,y=>r?.(y),{once:!0}),l6(m,v),v.defaultPrevented?f.current=!1:u.onClose()}};return h.createElement(Y6,Te({},i,{ref:c,disabled:n,onClick:We(e.onClick,g),onPointerDown:m=>{var v;(v=e.onPointerDown)===null||v===void 0||v.call(e,m),f.current=!0},onPointerUp:We(e.onPointerUp,m=>{var v;f.current||(v=m.currentTarget)===null||v===void 0||v.click()}),onKeyDown:We(e.onKeyDown,m=>{const v=l.searchRef.current!=="";n||v&&m.key===" "||T1.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})}))}),Y6=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,u=I4(R1,n),l=U6(n),c=h.useRef(null),f=yr(t,c),[g,m]=h.useState(!1),[v,y]=h.useState("");return h.useEffect(()=>{const b=c.current;if(b){var C;y(((C=b.textContent)!==null&&C!==void 0?C:"").trim())}},[o.children]),h.createElement(Bc.ItemSlot,{scope:n,disabled:r,textValue:i??v},h.createElement(hO,Te({asChild:!0},l,{focusable:!r}),h.createElement(Fn.div,Te({role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},o,{ref:f,onPointerMove:We(e.onPointerMove,kc(b=>{r?u.onItemLeave(b):(u.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus())})),onPointerLeave:We(e.onPointerLeave,kc(b=>u.onItemLeave(b))),onFocus:We(e.onFocus,()=>m(!0)),onBlur:We(e.onBlur,()=>m(!1))}))))}),oL=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return h.createElement(Z6,{scope:e.__scopeMenu,checked:n},h.createElement(R4,Te({role:"menuitemcheckbox","aria-checked":n},i,{ref:t,"data-state":B4(n),onSelect:We(i.onSelect,()=>r?.(!n),{checkForDefaultPrevented:!1})})))}),sL="MenuRadioGroup",[uL,lL]=ls(sL,{value:void 0,onValueChange:()=>{}}),cL=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,o=_r(r);return h.createElement(uL,{scope:e.__scopeMenu,value:n,onValueChange:o},h.createElement(aL,Te({},i,{ref:t})))}),dL="MenuRadioItem",hL=h.forwardRef((e,t)=>{const{value:n,...r}=e,i=lL(dL,e.__scopeMenu),o=n===i.value;return h.createElement(Z6,{scope:e.__scopeMenu,checked:o},h.createElement(R4,Te({role:"menuitemradio","aria-checked":o},r,{ref:t,"data-state":B4(o),onSelect:We(r.onSelect,()=>{var u;return(u=i.onValueChange)===null||u===void 0?void 0:u.call(i,n)},{checkForDefaultPrevented:!1})})))}),W6="MenuItemIndicator",[Z6,fL]=ls(W6,{checked:!1}),pL=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=fL(W6,n);return h.createElement(rd,{present:r||o.checked},h.createElement(Fn.span,Te({},i,{ref:t,"data-state":B4(o.checked)})))}),gL=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return h.createElement(Fn.div,Te({role:"separator","aria-orientation":"horizontal"},r,{ref:t}))}),mL=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=id(n);return h.createElement(YP,Te({},i,r,{ref:t}))}),X6="MenuSub",[vL,J6]=ls(X6),yL=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:i}=e,o=vo(X6,t),u=id(t),[l,c]=h.useState(null),[f,g]=h.useState(null),m=_r(i);return h.useEffect(()=>(o.open===!1&&m(!1),()=>m(!1)),[o.open,m]),h.createElement(I6,u,h.createElement(H6,{scope:t,open:r,onOpenChange:m,content:f,onContentChange:g},h.createElement(vL,{scope:t,contentId:Rc(),triggerId:Rc(),trigger:l,onTriggerChange:c},n)))},V0="MenuSubTrigger",EL=h.forwardRef((e,t)=>{const n=vo(V0,e.__scopeMenu),r=ad(V0,e.__scopeMenu),i=J6(V0,e.__scopeMenu),o=I4(V0,e.__scopeMenu),u=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,f={__scopeMenu:e.__scopeMenu},g=h.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return h.useEffect(()=>g,[g]),h.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),h.createElement(G6,Te({asChild:!0},f),h.createElement(Y6,Te({id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":q6(n.open)},e,{ref:Xh(t,i.onTriggerChange),onClick:m=>{var v;(v=e.onClick)===null||v===void 0||v.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:We(e.onPointerMove,kc(m=>{o.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!u.current&&(o.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:We(e.onPointerLeave,kc(m=>{var v;g();const y=(v=n.content)===null||v===void 0?void 0:v.getBoundingClientRect();if(y){var b;const C=(b=n.content)===null||b===void 0?void 0:b.dataset.side,A=C==="right",x=A?-5:5,D=y[A?"left":"right"],T=y[A?"right":"left"];o.onPointerGraceIntentChange({area:[{x:m.clientX+x,y:m.clientY},{x:D,y:y.top},{x:T,y:y.top},{x:T,y:y.bottom},{x:D,y:y.bottom}],side:C}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(m),m.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:We(e.onKeyDown,m=>{const v=o.searchRef.current!=="";if(!(e.disabled||v&&m.key===" ")&&YO[r.dir].includes(m.key)){var y;n.onOpenChange(!0),(y=n.content)===null||y===void 0||y.focus(),m.preventDefault()}})})))}),bL="MenuSubContent",CL=h.forwardRef((e,t)=>{const n=K6(si,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=vo(si,e.__scopeMenu),u=ad(si,e.__scopeMenu),l=J6(bL,e.__scopeMenu),c=h.useRef(null),f=yr(t,c);return h.createElement(Bc.Provider,{scope:e.__scopeMenu},h.createElement(rd,{present:r||o.open},h.createElement(Bc.Slot,{scope:e.__scopeMenu},h.createElement(T4,Te({id:l.contentId,"aria-labelledby":l.triggerId},i,{ref:f,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var m;u.isUsingKeyboardRef.current&&((m=c.current)===null||m===void 0||m.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:We(e.onFocusOutside,g=>{g.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:We(e.onEscapeKeyDown,u.onClose),onKeyDown:We(e.onKeyDown,g=>{const m=g.currentTarget.contains(g.target),v=WO[u.dir].includes(g.key);if(m&&v){var y;o.onOpenChange(!1),(y=l.trigger)===null||y===void 0||y.focus(),g.preventDefault()}})})))))});function q6(e){return e?"open":"closed"}function B4(e){return e?"checked":"unchecked"}function SL(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function AL(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function wL(e,t,n){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let u=AL(e,Math.max(o,0));i.length===1&&(u=u.filter(f=>f!==n));const c=u.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function xL(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,u=t.length-1;o<t.length;u=o++){const l=t[o].x,c=t[o].y,f=t[u].x,g=t[u].y;c>r!=g>r&&n<(f-l)*(r-c)/(g-c)+l&&(i=!i)}return i}function DL(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return xL(n,t)}function kc(e){return t=>t.pointerType==="mouse"?e(t):void 0}const Q6=qO,eA=G6,tA=eL,nA=nL,rA=R4,IL=oL,TL=cL,RL=hL,BL=pL,kL=gL,iA=mL,aA=yL,oA=EL,sA=CL,uA="ContextMenu",[ML]=Wu(uA,[rf]),va=rf(),[NL,lA]=ML(uA),PL=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:r,dir:i,modal:o=!0}=e,[u,l]=h.useState(!1),c=va(t),f=_r(r),g=h.useCallback(m=>{l(m),f(m)},[f]);return h.createElement(NL,{scope:t,open:u,onOpenChange:g,modal:o},h.createElement(Q6,Te({},c,{dir:i,open:u,onOpenChange:g,modal:o}),n))},OL="ContextMenuTrigger",LL=h.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=lA(OL,n),o=va(n),u=h.useRef({x:0,y:0}),l=h.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...u.current})}),c=h.useRef(0),f=h.useCallback(()=>window.clearTimeout(c.current),[]),g=m=>{u.current={x:m.clientX,y:m.clientY},i.onOpenChange(!0)};return h.useEffect(()=>f,[f]),h.createElement(h.Fragment,null,h.createElement(eA,Te({},o,{virtualRef:l})),h.createElement(Fn.span,Te({"data-state":i.open?"open":"closed"},r,{ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:We(e.onContextMenu,m=>{f(),g(m),m.preventDefault()}),onPointerDown:We(e.onPointerDown,U0(m=>{f(),c.current=window.setTimeout(()=>g(m),700)})),onPointerMove:We(e.onPointerMove,U0(f)),onPointerCancel:We(e.onPointerCancel,U0(f)),onPointerUp:We(e.onPointerUp,U0(f))})))}),FL=e=>{const{__scopeContextMenu:t,...n}=e,r=va(t);return h.createElement(tA,Te({},r,n))},_L="ContextMenuContent",$L=h.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=lA(_L,n),o=va(n),u=h.useRef(!1);return h.createElement(nA,Te({},o,r,{ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{var c;(c=e.onCloseAutoFocus)===null||c===void 0||c.call(e,l),!l.defaultPrevented&&u.current&&l.preventDefault(),u.current=!1},onInteractOutside:l=>{var c;(c=e.onInteractOutside)===null||c===void 0||c.call(e,l),!l.defaultPrevented&&!i.modal&&(u.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)"}}))}),cA=h.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=va(n);return h.createElement(rA,Te({},i,r,{ref:t}))}),zL=h.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=va(n);return h.createElement(iA,Te({},i,r,{ref:t}))}),VL=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:r,open:i,defaultOpen:o}=e,u=va(t),[l,c]=ef({prop:i,defaultProp:o,onChange:r});return h.createElement(aA,Te({},u,{open:l,onOpenChange:c}),n)},UL=h.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=va(n);return h.createElement(oA,Te({},i,r,{ref:t}))}),HL=h.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=va(n);return h.createElement(sA,Te({},i,r,{ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)"}}))});function U0(e){return t=>t.pointerType!=="mouse"?e(t):void 0}const GL=PL,jL=LL,af=FL,KL=$L,k4=VL,YL=UL,M4=HL;function $e(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var WL=["color"],dA=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,WL);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M9 3C9 2.44772 8.55229 2 8 2H7C6.44772 2 6 2.44772 6 3L6 14H1.5C1.22386 14 1 14.2239 1 14.5C1 14.7761 1.22386 15 1.5 15L6 15H9H13.5C13.7761 15 14 14.7761 14 14.5C14 14.2239 13.7761 14 13.5 14H9V3Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),ZL=["color"],hA=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,ZL);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M1.99988 6C1.44759 6 0.999877 6.44772 0.999877 7L0.999877 8C0.999877 8.55228 1.44759 9 1.99988 9L6.99988 9L6.99988 13.5C6.99988 13.7761 7.22374 14 7.49988 14C7.77602 14 7.99988 13.7761 7.99988 13.5L7.99988 9L12.9999 9C13.5522 9 13.9999 8.55228 13.9999 8L13.9999 7C13.9999 6.44772 13.5522 6 12.9999 6L7.99988 6L7.99988 1.5C7.99988 1.22386 7.77602 1 7.49988 1C7.22373 1 6.99988 1.22386 6.99988 1.5L6.99988 6L1.99988 6Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),XL=["color"],fA=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,XL);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M6.99988 1C6.44759 1 5.99988 1.44772 5.99988 2V7H1.49988C1.22374 7 0.999878 7.22386 0.999878 7.5C0.999878 7.77614 1.22374 8 1.49988 8H5.99988V13C5.99988 13.5523 6.44759 14 6.99988 14H7.99988C8.55216 14 8.99988 13.5523 8.99988 13V8H13.4999C13.776 8 13.9999 7.77614 13.9999 7.5C13.9999 7.22386 13.776 7 13.4999 7H8.99988V2C8.99988 1.44772 8.55216 1 7.99988 1L6.99988 1Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),JL=["color"],pA=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,JL);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M0.499995 0.999995C0.223855 0.999995 -5.58458e-07 1.22385 -5.46388e-07 1.49999L-2.18554e-08 13.4999C-9.78492e-09 13.776 0.223855 13.9999 0.499995 13.9999C0.776136 13.9999 0.999991 13.776 0.999991 13.4999L0.999991 8.99993L12 8.99993C12.5523 8.99993 13 8.55222 13 7.99993L13 6.99994C13 6.44766 12.5523 5.99995 12 5.99995L0.999991 5.99995L0.999991 1.49999C0.999991 1.22385 0.776135 0.999995 0.499995 0.999995Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),qL=["color"],gA=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,qL);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M14.4999 1C14.2237 1 13.9999 1.22386 13.9999 1.5L13.9999 6L2.99988 6C2.44759 6 1.99988 6.44772 1.99988 7L1.99988 8C1.99988 8.55228 2.44759 9 2.99988 9L13.9999 9L13.9999 13.5C13.9999 13.7761 14.2237 14 14.4999 14C14.776 14 14.9999 13.7761 14.9999 13.5L14.9999 9L14.9999 6L14.9999 1.5C14.9999 1.22386 14.776 1 14.4999 1Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),QL=["color"],mA=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,QL);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M1.5 0C1.22386 0 1 0.223858 1 0.5C1 0.776142 1.22386 1 1.5 1H6V12C6 12.5523 6.44772 13 7 13H8C8.55228 13 9 12.5523 9 12V1H13.5C13.7761 1 14 0.776142 14 0.5C14 0.223858 13.7761 0 13.5 0H9H6H1.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),eF=["color"],tF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,eF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M8.8914 2.1937C9.1158 2.35464 9.16725 2.66701 9.00631 2.89141L2.47388 12H13.5C13.7761 12 14 12.2239 14 12.5C14 12.7762 13.7761 13 13.5 13H1.5C1.31254 13 1.14082 12.8952 1.0552 12.7284C0.969578 12.5616 0.984438 12.361 1.09369 12.2086L8.19369 2.30862C8.35462 2.08422 8.667 2.03277 8.8914 2.1937ZM11.1 6.50001C11.1 6.22387 11.3238 6.00001 11.6 6.00001C11.8761 6.00001 12.1 6.22387 12.1 6.50001C12.1 6.77615 11.8761 7.00001 11.6 7.00001C11.3238 7.00001 11.1 6.77615 11.1 6.50001ZM10.4 4.00001C10.1239 4.00001 9.90003 4.22387 9.90003 4.50001C9.90003 4.77615 10.1239 5.00001 10.4 5.00001C10.6762 5.00001 10.9 4.77615 10.9 4.50001C10.9 4.22387 10.6762 4.00001 10.4 4.00001ZM12.1 8.50001C12.1 8.22387 12.3238 8.00001 12.6 8.00001C12.8761 8.00001 13.1 8.22387 13.1 8.50001C13.1 8.77615 12.8761 9.00001 12.6 9.00001C12.3238 9.00001 12.1 8.77615 12.1 8.50001ZM13.4 10C13.1239 10 12.9 10.2239 12.9 10.5C12.9 10.7761 13.1239 11 13.4 11C13.6762 11 13.9 10.7761 13.9 10.5C13.9 10.2239 13.6762 10 13.4 10Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),nF=["color"],rF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,nF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M7.5 2C7.77614 2 8 2.22386 8 2.5L8 11.2929L11.1464 8.14645C11.3417 7.95118 11.6583 7.95118 11.8536 8.14645C12.0488 8.34171 12.0488 8.65829 11.8536 8.85355L7.85355 12.8536C7.75979 12.9473 7.63261 13 7.5 13C7.36739 13 7.24021 12.9473 7.14645 12.8536L3.14645 8.85355C2.95118 8.65829 2.95118 8.34171 3.14645 8.14645C3.34171 7.95118 3.65829 7.95118 3.85355 8.14645L7 11.2929L7 2.5C7 2.22386 7.22386 2 7.5 2Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),iF=["color"],aF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,iF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M3.64645 11.3536C3.45118 11.1583 3.45118 10.8417 3.64645 10.6465L10.2929 4L6 4C5.72386 4 5.5 3.77614 5.5 3.5C5.5 3.22386 5.72386 3 6 3L11.5 3C11.6326 3 11.7598 3.05268 11.8536 3.14645C11.9473 3.24022 12 3.36739 12 3.5L12 9.00001C12 9.27615 11.7761 9.50001 11.5 9.50001C11.2239 9.50001 11 9.27615 11 9.00001V4.70711L4.35355 11.3536C4.15829 11.5488 3.84171 11.5488 3.64645 11.3536Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),oF=["color"],sF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,oF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M7.14645 2.14645C7.34171 1.95118 7.65829 1.95118 7.85355 2.14645L11.8536 6.14645C12.0488 6.34171 12.0488 6.65829 11.8536 6.85355C11.6583 7.04882 11.3417 7.04882 11.1464 6.85355L8 3.70711L8 12.5C8 12.7761 7.77614 13 7.5 13C7.22386 13 7 12.7761 7 12.5L7 3.70711L3.85355 6.85355C3.65829 7.04882 3.34171 7.04882 3.14645 6.85355C2.95118 6.65829 2.95118 6.34171 3.14645 6.14645L7.14645 2.14645Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),uF=["color"],lF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,uF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M2.5 2H12.5C12.7761 2 13 2.22386 13 2.5V12.5C13 12.7761 12.7761 13 12.5 13H2.5C2.22386 13 2 12.7761 2 12.5V2.5C2 2.22386 2.22386 2 2.5 2ZM1 2.5C1 1.67157 1.67157 1 2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5ZM7.5 4C7.77614 4 8 3.77614 8 3.5C8 3.22386 7.77614 3 7.5 3C7.22386 3 7 3.22386 7 3.5C7 3.77614 7.22386 4 7.5 4ZM8 5.5C8 5.77614 7.77614 6 7.5 6C7.22386 6 7 5.77614 7 5.5C7 5.22386 7.22386 5 7.5 5C7.77614 5 8 5.22386 8 5.5ZM7.5 8C7.77614 8 8 7.77614 8 7.5C8 7.22386 7.77614 7 7.5 7C7.22386 7 7 7.22386 7 7.5C7 7.77614 7.22386 8 7.5 8ZM10 7.5C10 7.77614 9.77614 8 9.5 8C9.22386 8 9 7.77614 9 7.5C9 7.22386 9.22386 7 9.5 7C9.77614 7 10 7.22386 10 7.5ZM11.5 8C11.7761 8 12 7.77614 12 7.5C12 7.22386 11.7761 7 11.5 7C11.2239 7 11 7.22386 11 7.5C11 7.77614 11.2239 8 11.5 8Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),cF=["color"],dF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,cF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M12.5 2H2.5C2.22386 2 2 2.22386 2 2.5V12.5C2 12.7761 2.22386 13 2.5 13H12.5C12.7761 13 13 12.7761 13 12.5V2.5C13 2.22386 12.7761 2 12.5 2ZM2.5 1C1.67157 1 1 1.67157 1 2.5V12.5C1 13.3284 1.67157 14 2.5 14H12.5C13.3284 14 14 13.3284 14 12.5V2.5C14 1.67157 13.3284 1 12.5 1H2.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),hF=["color"],Ih=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,hF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),fF=["color"],pF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,fF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),gF=["color"],mF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,gF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M0.877075 7.49991C0.877075 3.84222 3.84222 0.877075 7.49991 0.877075C11.1576 0.877075 14.1227 3.84222 14.1227 7.49991C14.1227 11.1576 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1576 0.877075 7.49991ZM7.49991 1.82708C4.36689 1.82708 1.82708 4.36689 1.82708 7.49991C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49991C13.1727 4.36689 10.6329 1.82708 7.49991 1.82708Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),vF=["color"],IC=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,vF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),yF=["color"],EF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,yF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M1 9.50006C1 10.3285 1.67157 11.0001 2.5 11.0001H4L4 10.0001H2.5C2.22386 10.0001 2 9.7762 2 9.50006L2 2.50006C2 2.22392 2.22386 2.00006 2.5 2.00006L9.5 2.00006C9.77614 2.00006 10 2.22392 10 2.50006V4.00002H5.5C4.67158 4.00002 4 4.67159 4 5.50002V12.5C4 13.3284 4.67158 14 5.5 14H12.5C13.3284 14 14 13.3284 14 12.5V5.50002C14 4.67159 13.3284 4.00002 12.5 4.00002H11V2.50006C11 1.67163 10.3284 1.00006 9.5 1.00006H2.5C1.67157 1.00006 1 1.67163 1 2.50006V9.50006ZM5 5.50002C5 5.22388 5.22386 5.00002 5.5 5.00002H12.5C12.7761 5.00002 13 5.22388 13 5.50002V12.5C13 12.7762 12.7761 13 12.5 13H5.5C5.22386 13 5 12.7762 5 12.5V5.50002Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),bF=["color"],CF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,bF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),SF=["color"],AF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,SF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M3.29227 0.048984C3.47033 -0.032338 3.67946 -0.00228214 3.8274 0.125891L12.8587 7.95026C13.0134 8.08432 13.0708 8.29916 13.0035 8.49251C12.9362 8.68586 12.7578 8.81866 12.5533 8.82768L9.21887 8.97474L11.1504 13.2187C11.2648 13.47 11.1538 13.7664 10.9026 13.8808L8.75024 14.8613C8.499 14.9758 8.20255 14.8649 8.08802 14.6137L6.15339 10.3703L3.86279 12.7855C3.72196 12.934 3.50487 12.9817 3.31479 12.9059C3.1247 12.8301 3 12.6461 3 12.4414V0.503792C3 0.308048 3.11422 0.130306 3.29227 0.048984ZM4 1.59852V11.1877L5.93799 9.14425C6.05238 9.02363 6.21924 8.96776 6.38319 8.99516C6.54715 9.02256 6.68677 9.12965 6.75573 9.2809L8.79056 13.7441L10.0332 13.178L8.00195 8.71497C7.93313 8.56376 7.94391 8.38824 8.03072 8.24659C8.11753 8.10494 8.26903 8.01566 8.435 8.00834L11.2549 7.88397L4 1.59852Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),wF=["color"],xF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,wF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:r}))}),DF=["color"],IF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,DF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),TF=["color"],vA=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,TF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M3 2C2.44772 2 2 2.44772 2 3V12C2 12.5523 2.44772 13 3 13H12C12.5523 13 13 12.5523 13 12V8.5C13 8.22386 12.7761 8 12.5 8C12.2239 8 12 8.22386 12 8.5V12H3V3L6.5 3C6.77614 3 7 2.77614 7 2.5C7 2.22386 6.77614 2 6.5 2H3ZM12.8536 2.14645C12.9015 2.19439 12.9377 2.24964 12.9621 2.30861C12.9861 2.36669 12.9996 2.4303 13 2.497L13 2.5V2.50049V5.5C13 5.77614 12.7761 6 12.5 6C12.2239 6 12 5.77614 12 5.5V3.70711L6.85355 8.85355C6.65829 9.04882 6.34171 9.04882 6.14645 8.85355C5.95118 8.65829 5.95118 8.34171 6.14645 8.14645L11.2929 3H9.5C9.22386 3 9 2.77614 9 2.5C9 2.22386 9.22386 2 9.5 2H12.4999H12.5C12.5678 2 12.6324 2.01349 12.6914 2.03794C12.7504 2.06234 12.8056 2.09851 12.8536 2.14645Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),RF=["color"],BF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,RF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M7.49933 0.25C3.49635 0.25 0.25 3.49593 0.25 7.50024C0.25 10.703 2.32715 13.4206 5.2081 14.3797C5.57084 14.446 5.70302 14.2222 5.70302 14.0299C5.70302 13.8576 5.69679 13.4019 5.69323 12.797C3.67661 13.235 3.25112 11.825 3.25112 11.825C2.92132 10.9874 2.44599 10.7644 2.44599 10.7644C1.78773 10.3149 2.49584 10.3238 2.49584 10.3238C3.22353 10.375 3.60629 11.0711 3.60629 11.0711C4.25298 12.1788 5.30335 11.8588 5.71638 11.6732C5.78225 11.205 5.96962 10.8854 6.17658 10.7043C4.56675 10.5209 2.87415 9.89918 2.87415 7.12104C2.87415 6.32925 3.15677 5.68257 3.62053 5.17563C3.54576 4.99226 3.29697 4.25521 3.69174 3.25691C3.69174 3.25691 4.30015 3.06196 5.68522 3.99973C6.26337 3.83906 6.8838 3.75895 7.50022 3.75583C8.1162 3.75895 8.73619 3.83906 9.31523 3.99973C10.6994 3.06196 11.3069 3.25691 11.3069 3.25691C11.7026 4.25521 11.4538 4.99226 11.3795 5.17563C11.8441 5.68257 12.1245 6.32925 12.1245 7.12104C12.1245 9.9063 10.4292 10.5192 8.81452 10.6985C9.07444 10.9224 9.30633 11.3648 9.30633 12.0413C9.30633 13.0102 9.29742 13.7922 9.29742 14.0299C9.29742 14.2239 9.42828 14.4496 9.79591 14.3788C12.6746 13.4179 14.75 10.7025 14.75 7.50024C14.75 3.49593 11.5036 0.25 7.49933 0.25Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),kF=["color"],MF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,kF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M1.44995 0.949951C1.31734 0.949951 1.19016 1.00263 1.0964 1.0964C1.00263 1.19017 0.949951 1.31735 0.949951 1.44995L0.949966 3.44995C0.949969 3.7261 1.17383 3.94995 1.44997 3.94995C1.72611 3.94995 1.94997 3.72609 1.94997 3.44995L1.94995 1.94995H3.44997C3.72611 1.94995 3.94997 1.72609 3.94997 1.44995C3.94997 1.17381 3.72611 0.949951 3.44997 0.949951H1.44995ZM5.94995 0.949951C5.67381 0.949951 5.44995 1.17381 5.44995 1.44995C5.44995 1.72609 5.67381 1.94995 5.94995 1.94995H8.94995C9.22609 1.94995 9.44995 1.72609 9.44995 1.44995C9.44995 1.17381 9.22609 0.949951 8.94995 0.949951H5.94995ZM5.44995 13.45C5.44995 13.1738 5.67381 12.95 5.94995 12.95H8.94995C9.22609 12.95 9.44995 13.1738 9.44995 13.45C9.44995 13.7261 9.22609 13.95 8.94995 13.95H5.94995C5.67381 13.95 5.44995 13.7261 5.44995 13.45ZM1.94995 5.94995C1.94995 5.67381 1.72609 5.44995 1.44995 5.44995C1.17381 5.44995 0.949951 5.67381 0.949951 5.94995V8.94995C0.949951 9.22609 1.17381 9.44995 1.44995 9.44995C1.72609 9.44995 1.94995 9.22609 1.94995 8.94995V5.94995ZM13.45 5.44995C13.7261 5.44995 13.95 5.67381 13.95 5.94995V8.94995C13.95 9.22609 13.7261 9.44995 13.45 9.44995C13.1738 9.44995 12.95 9.22609 12.95 8.94995V5.94995C12.95 5.67381 13.1738 5.44995 13.45 5.44995ZM11.45 0.949951C11.1738 0.949951 10.95 1.17381 10.95 1.44995C10.95 1.72609 11.1738 1.94995 11.45 1.94995H12.9499V3.44995C12.9499 3.72609 13.1738 3.94995 13.4499 3.94995C13.7261 3.94995 13.9499 3.72609 13.9499 3.44995V1.44995C13.9499 1.17381 13.7252 0.949951 13.449 0.949951H11.45ZM1.44995 10.95C1.72609 10.95 1.94995 11.1738 1.94995 11.45V12.95H3.44997C3.72611 12.95 3.94997 13.1738 3.94997 13.45C3.94997 13.7261 3.72611 13.95 3.44997 13.95H1.44995C1.17381 13.95 0.949951 13.7261 0.949951 13.45V11.45C0.949951 11.1738 1.17381 10.95 1.44995 10.95ZM13.95 11.45C13.95 11.1738 13.7261 10.95 13.45 10.95C13.1738 10.9499 12.95 11.1738 12.95 11.4499L12.9491 12.95H11.45C11.1738 12.95 10.95 13.1738 10.95 13.45C10.95 13.7261 11.1738 13.95 11.45 13.95H13.4499C13.7261 13.95 13.9499 13.7261 13.9499 13.45L13.95 11.45Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),NF=["color"],PF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,NF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),OF=["color"],LF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,OF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M1.35248 4.90532C1.35248 2.94498 2.936 1.35248 4.89346 1.35248C6.25769 1.35248 6.86058 1.92336 7.50002 2.93545C8.13946 1.92336 8.74235 1.35248 10.1066 1.35248C12.064 1.35248 13.6476 2.94498 13.6476 4.90532C13.6476 6.74041 12.6013 8.50508 11.4008 9.96927C10.2636 11.3562 8.92194 12.5508 8.00601 13.3664C7.94645 13.4194 7.88869 13.4709 7.83291 13.5206C7.64324 13.6899 7.3568 13.6899 7.16713 13.5206C7.11135 13.4709 7.05359 13.4194 6.99403 13.3664C6.0781 12.5508 4.73641 11.3562 3.59926 9.96927C2.39872 8.50508 1.35248 6.74041 1.35248 4.90532Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),FF=["color"],_F=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,FF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),$F=["color"],zF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,$F);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),VF=["color"],UF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,VF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M7.4986 0C6.3257 0 5.36107 0.38943 4.73753 1.19361C4.23745 1.83856 4 2.68242 4 3.63325H5C5 2.84313 5.19691 2.23312 5.5278 1.80636C5.91615 1.30552 6.55152 1 7.4986 1C8.35683 1 8.96336 1.26502 9.35846 1.68623C9.75793 2.11211 10 2.76044 10 3.63601V6H3C2.44772 6 2 6.44772 2 7V13C2 13.5523 2.44772 14 3 14H12C12.5523 14 13 13.5523 13 13V7C13 6.44771 12.5523 6 12 6H11V3.63601C11 2.58135 10.7065 1.66167 10.0878 1.0021C9.46477 0.337871 8.57061 0 7.4986 0ZM3 7H12V13H3V7Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),HF=["color"],GF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,HF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M5 1.5C5 1.22386 4.77614 1 4.5 1C4.22386 1 4 1.22386 4 1.5L4 7C4 7.01671 4.00082 7.03323 4.00242 7.04952C2.86009 7.28022 2 8.28967 2 9.5C2 10.7103 2.86009 11.7198 4.00242 11.9505C4.00082 11.9668 4 11.9833 4 12V13.5C4 13.7761 4.22386 14 4.5 14C4.77614 14 5 13.7761 5 13.5V12C5 11.9833 4.99918 11.9668 4.99758 11.9505C6.1399 11.7198 7 10.7103 7 9.5C7 8.28967 6.1399 7.28022 4.99758 7.04952C4.99918 7.03323 5 7.01671 5 7L5 1.5ZM11 1.5C11 1.22386 10.7761 1 10.5 1C10.2239 1 10 1.22386 10 1.5V3C10 3.01671 10.0008 3.03323 10.0024 3.04952C8.8601 3.28022 8 4.28967 8 5.5C8 6.71033 8.8601 7.71978 10.0024 7.95048C10.0008 7.96677 10 7.98329 10 8V13.5C10 13.7761 10.2239 14 10.5 14C10.7761 14 11 13.7761 11 13.5V8C11 7.98329 10.9992 7.96677 10.9976 7.95048C12.1399 7.71978 13 6.71033 13 5.5C13 4.28967 12.1399 3.28022 10.9976 3.04952C10.9992 3.03323 11 3.01671 11 3V1.5ZM4.5 8C3.67157 8 3 8.67157 3 9.5C3 10.3284 3.67157 11 4.5 11C5.32843 11 6 10.3284 6 9.5C6 8.67157 5.32843 8 4.5 8ZM9 5.5C9 4.67157 9.67157 4 10.5 4C11.3284 4 12 4.67157 12 5.5C12 6.32843 11.3284 7 10.5 7C9.67157 7 9 6.32843 9 5.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),jF=["color"],N4=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,jF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),KF=["color"],YF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,KF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M12.1464 1.14645C12.3417 0.951184 12.6583 0.951184 12.8535 1.14645L14.8535 3.14645C15.0488 3.34171 15.0488 3.65829 14.8535 3.85355L10.9109 7.79618C10.8349 7.87218 10.7471 7.93543 10.651 7.9835L6.72359 9.94721C6.53109 10.0435 6.29861 10.0057 6.14643 9.85355C5.99425 9.70137 5.95652 9.46889 6.05277 9.27639L8.01648 5.34897C8.06455 5.25283 8.1278 5.16507 8.2038 5.08907L12.1464 1.14645ZM12.5 2.20711L8.91091 5.79618L7.87266 7.87267L8.12731 8.12732L10.2038 7.08907L13.7929 3.5L12.5 2.20711ZM9.99998 2L8.99998 3H4.9C4.47171 3 4.18056 3.00039 3.95552 3.01877C3.73631 3.03668 3.62421 3.06915 3.54601 3.10899C3.35785 3.20487 3.20487 3.35785 3.10899 3.54601C3.06915 3.62421 3.03669 3.73631 3.01878 3.95552C3.00039 4.18056 3 4.47171 3 4.9V11.1C3 11.5283 3.00039 11.8194 3.01878 12.0445C3.03669 12.2637 3.06915 12.3758 3.10899 12.454C3.20487 12.6422 3.35785 12.7951 3.54601 12.891C3.62421 12.9309 3.73631 12.9633 3.95552 12.9812C4.18056 12.9996 4.47171 13 4.9 13H11.1C11.5283 13 11.8194 12.9996 12.0445 12.9812C12.2637 12.9633 12.3758 12.9309 12.454 12.891C12.6422 12.7951 12.7951 12.6422 12.891 12.454C12.9309 12.3758 12.9633 12.2637 12.9812 12.0445C12.9996 11.8194 13 11.5283 13 11.1V6.99998L14 5.99998V11.1V11.1207C14 11.5231 14 11.8553 13.9779 12.1259C13.9549 12.407 13.9057 12.6653 13.782 12.908C13.5903 13.2843 13.2843 13.5903 12.908 13.782C12.6653 13.9057 12.407 13.9549 12.1259 13.9779C11.8553 14 11.5231 14 11.1207 14H11.1H4.9H4.87934C4.47686 14 4.14468 14 3.87409 13.9779C3.59304 13.9549 3.33469 13.9057 3.09202 13.782C2.7157 13.5903 2.40973 13.2843 2.21799 12.908C2.09434 12.6653 2.04506 12.407 2.0221 12.1259C1.99999 11.8553 1.99999 11.5231 2 11.1207V11.1206V11.1V4.9V4.87935V4.87932V4.87931C1.99999 4.47685 1.99999 4.14468 2.0221 3.87409C2.04506 3.59304 2.09434 3.33469 2.21799 3.09202C2.40973 2.71569 2.7157 2.40973 3.09202 2.21799C3.33469 2.09434 3.59304 2.04506 3.87409 2.0221C4.14468 1.99999 4.47685 1.99999 4.87932 2H4.87935H4.9H9.99998Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),WF=["color"],ZF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,WF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M13.5 13.95C13.7485 13.95 13.95 13.7485 13.95 13.5C13.95 13.2514 13.7485 13.05 13.5 13.05L1.49995 13.05C1.25142 13.05 1.04995 13.2514 1.04995 13.5C1.04995 13.7485 1.25142 13.95 1.49995 13.95L13.5 13.95ZM11.0681 7.5683C11.2439 7.39257 11.2439 7.10764 11.0681 6.93191C10.8924 6.75617 10.6075 6.75617 10.4317 6.93191L7.94993 9.41371L7.94993 1.49998C7.94993 1.25146 7.74846 1.04998 7.49993 1.04998C7.2514 1.04998 7.04993 1.25146 7.04993 1.49998L7.04993 9.41371L4.56813 6.93191C4.39239 6.75617 4.10746 6.75617 3.93173 6.93191C3.75599 7.10764 3.75599 7.39257 3.93173 7.5683L7.18173 10.8183C7.35746 10.994 7.64239 10.994 7.81812 10.8183L11.0681 7.5683Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),XF=["color"],JF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,XF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M1.50005 1.05005C1.25152 1.05005 1.05005 1.25152 1.05005 1.50005C1.05005 1.74858 1.25152 1.95005 1.50005 1.95005L13.5 1.95005C13.7486 1.95005 13.95 1.74858 13.95 1.50005C13.95 1.25152 13.7486 1.05005 13.5 1.05005H1.50005ZM3.93188 7.43169C3.75614 7.60743 3.75614 7.89236 3.93188 8.06809C4.10761 8.24383 4.39254 8.24383 4.56827 8.06809L7.05007 5.58629V13.5C7.05007 13.7485 7.25155 13.95 7.50007 13.95C7.7486 13.95 7.95007 13.7485 7.95007 13.5L7.95007 5.58629L10.4319 8.06809C10.6076 8.24383 10.8925 8.24383 11.0683 8.06809C11.244 7.89235 11.244 7.60743 11.0683 7.43169L7.81827 4.18169C7.64254 4.00596 7.35761 4.00596 7.18188 4.18169L3.93188 7.43169Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),qF=["color"],QF=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,qF);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M8 2.75C8 2.47386 7.77614 2.25 7.5 2.25C7.22386 2.25 7 2.47386 7 2.75V7H2.75C2.47386 7 2.25 7.22386 2.25 7.5C2.25 7.77614 2.47386 8 2.75 8H7V12.25C7 12.5261 7.22386 12.75 7.5 12.75C7.77614 12.75 8 12.5261 8 12.25V8H12.25C12.5261 8 12.75 7.77614 12.75 7.5C12.75 7.22386 12.5261 7 12.25 7H8V2.75Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),e_=["color"],t_=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,e_);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M5.07505 4.10001C5.07505 2.91103 6.25727 1.92502 7.50005 1.92502C8.74283 1.92502 9.92505 2.91103 9.92505 4.10001C9.92505 5.19861 9.36782 5.71436 8.61854 6.37884L8.58757 6.4063C7.84481 7.06467 6.92505 7.87995 6.92505 9.5C6.92505 9.81757 7.18248 10.075 7.50005 10.075C7.81761 10.075 8.07505 9.81757 8.07505 9.5C8.07505 8.41517 8.62945 7.90623 9.38156 7.23925L9.40238 7.22079C10.1496 6.55829 11.075 5.73775 11.075 4.10001C11.075 2.12757 9.21869 0.775024 7.50005 0.775024C5.7814 0.775024 3.92505 2.12757 3.92505 4.10001C3.92505 4.41758 4.18249 4.67501 4.50005 4.67501C4.81761 4.67501 5.07505 4.41758 5.07505 4.10001ZM7.50005 13.3575C7.9833 13.3575 8.37505 12.9657 8.37505 12.4825C8.37505 11.9992 7.9833 11.6075 7.50005 11.6075C7.0168 11.6075 6.62505 11.9992 6.62505 12.4825C6.62505 12.9657 7.0168 13.3575 7.50005 13.3575Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),n_=["color"],r_=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,n_);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M7.59664 2.93628C7.76085 3.06401 8.00012 2.94698 8.00012 2.73895V1.99998C9.98143 2 11.1848 2.3637 11.9105 3.08945C12.6363 3.81522 13 5.0186 13 6.99998C13 7.27613 13.2239 7.49998 13.5 7.49998C13.7761 7.49998 14 7.27613 14 6.99998C14 4.9438 13.6325 3.39719 12.6176 2.38234C11.6028 1.36752 10.0562 0.999999 8.00012 0.999984V0.261266C8.00012 0.0532293 7.76085 -0.0637944 7.59664 0.063928L6.00384 1.30277C5.87516 1.40286 5.87516 1.59735 6.00384 1.69744L7.59664 2.93628ZM9.5 5H2.5C2.22386 5 2 5.22386 2 5.5V12.5C2 12.7761 2.22386 13 2.5 13H9.5C9.77614 13 10 12.7761 10 12.5V5.5C10 5.22386 9.77614 5 9.5 5ZM2.5 4C1.67157 4 1 4.67157 1 5.5V12.5C1 13.3284 1.67157 14 2.5 14H9.5C10.3284 14 11 13.3284 11 12.5V5.5C11 4.67157 10.3284 4 9.5 4H2.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),i_=["color"],yA=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,i_);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M14.4999 0.999992C14.2237 0.999992 13.9999 1.22385 13.9999 1.49999L13.9999 13.4999C13.9999 13.776 14.2237 13.9999 14.4999 13.9999C14.776 13.9999 14.9999 13.776 14.9999 13.4999L14.9999 1.49999C14.9999 1.22385 14.776 0.999992 14.4999 0.999992ZM0.499996 0.999992C0.223856 0.999992 -9.78509e-09 1.22385 -2.18556e-08 1.49999L4.07279e-07 13.4999C3.95208e-07 13.776 0.223855 13.9999 0.499996 13.9999C0.776136 13.9999 0.999992 13.776 0.999992 13.4999L0.999992 1.49999C0.999992 1.22385 0.776136 0.999992 0.499996 0.999992ZM1.99998 6.99994C1.99998 6.44766 2.44769 5.99995 2.99998 5.99995L5.99995 5.99995C6.55223 5.99995 6.99994 6.44766 6.99994 6.99994L6.99994 7.99993C6.99994 8.55221 6.55223 8.99992 5.99995 8.99992L2.99998 8.99992C2.4477 8.99992 1.99998 8.55221 1.99998 7.99993L1.99998 6.99994ZM8.99993 5.99995C8.44765 5.99995 7.99993 6.44766 7.99993 6.99994L7.99993 7.99993C7.99993 8.55221 8.44765 8.99992 8.99993 8.99992L11.9999 8.99992C12.5522 8.99992 12.9999 8.55221 12.9999 7.99993L12.9999 6.99994C12.9999 6.44766 12.5522 5.99995 11.9999 5.99995L8.99993 5.99995Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),a_=["color"],EA=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,a_);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M0.999878 0.5C0.999878 0.223858 1.22374 0 1.49988 0H13.4999C13.776 0 13.9999 0.223858 13.9999 0.5C13.9999 0.776142 13.776 1 13.4999 1H1.49988C1.22374 1 0.999878 0.776142 0.999878 0.5ZM7 2C6.44772 2 6 2.44772 6 3V6C6 6.55228 6.44772 7 7 7H8C8.55228 7 9 6.55228 9 6V3C9 2.44772 8.55228 2 8 2H7ZM7 8C6.44772 8 6 8.44771 6 9V12C6 12.5523 6.44772 13 7 13H8C8.55228 13 9 12.5523 9 12V9C9 8.44772 8.55228 8 8 8H7ZM1.49988 14C1.22374 14 0.999878 14.2239 0.999878 14.5C0.999878 14.7761 1.22374 15 1.49988 15H13.4999C13.776 15 13.9999 14.7761 13.9999 14.5C13.9999 14.2239 13.776 14 13.4999 14H1.49988Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),o_=["color"],s_=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,o_);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M1 1H1.5H13.5H14V1.5V13.5V14H13.5H1.5H1V13.5V1.5V1ZM2 2V13H13V2H2Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),u_=["color"],bA=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,u_);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M14.4999 0.999992C14.2237 0.999992 13.9999 1.22385 13.9999 1.49999L13.9999 5.99995L0.999992 5.99995L0.999992 1.49999C0.999992 1.22385 0.776136 0.999992 0.499996 0.999992C0.223856 0.999992 -9.78509e-09 1.22385 -2.18556e-08 1.49999L4.07279e-07 13.4999C3.95208e-07 13.776 0.223855 13.9999 0.499996 13.9999C0.776136 13.9999 0.999992 13.776 0.999992 13.4999L0.999992 8.99992L13.9999 8.99992L13.9999 13.4999C13.9999 13.776 14.2237 13.9999 14.4999 13.9999C14.776 13.9999 14.9999 13.776 14.9999 13.4999L14.9999 1.49999C14.9999 1.22385 14.776 0.999992 14.4999 0.999992Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),l_=["color"],CA=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,l_);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M0.999878 0.5C0.999878 0.223858 1.22374 0 1.49988 0H13.4999C13.776 0 13.9999 0.223858 13.9999 0.5C13.9999 0.776142 13.776 1 13.4999 1H6H1.49988C1.22374 1 0.999878 0.776142 0.999878 0.5ZM9 14V1L6 1V14H1.49988C1.22374 14 0.999878 14.2239 0.999878 14.5C0.999878 14.7761 1.22374 15 1.49988 15H13.4999C13.776 15 13.9999 14.7761 13.9999 14.5C13.9999 14.2239 13.776 14 13.4999 14H9Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),c_=["color"],d_=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,c_);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M3.94993 2.95002L3.94993 4.49998C3.94993 4.74851 3.74845 4.94998 3.49993 4.94998C3.2514 4.94998 3.04993 4.74851 3.04993 4.49998V2.50004C3.04993 2.45246 3.05731 2.40661 3.07099 2.36357C3.12878 2.18175 3.29897 2.05002 3.49993 2.05002H11.4999C11.6553 2.05002 11.7922 2.12872 11.8731 2.24842C11.9216 2.32024 11.9499 2.40682 11.9499 2.50002L11.9499 2.50004V4.49998C11.9499 4.74851 11.7485 4.94998 11.4999 4.94998C11.2514 4.94998 11.0499 4.74851 11.0499 4.49998V2.95002H8.04993V12.05H9.25428C9.50281 12.05 9.70428 12.2515 9.70428 12.5C9.70428 12.7486 9.50281 12.95 9.25428 12.95H5.75428C5.50575 12.95 5.30428 12.7486 5.30428 12.5C5.30428 12.2515 5.50575 12.05 5.75428 12.05H6.94993V2.95002H3.94993Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),h_=["color"],f_=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,h_);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H10.5C10.7761 7 11 7.22386 11 7.5C11 7.77614 10.7761 8 10.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM3 10.5C3 10.2239 3.22386 10 3.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H3.5C3.22386 11 3 10.7761 3 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),p_=["color"],g_=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,p_);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),m_=["color"],v_=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,m_);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H7.5C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H10.5C10.7761 10 11 10.2239 11 10.5C11 10.7761 10.7761 11 10.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),y_=["color"],E_=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,y_);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM7 7.5C7 7.22386 7.22386 7 7.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H7.5C7.22386 8 7 7.77614 7 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H4.5C4.22386 11 4 10.7761 4 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),b_=["color"],C_=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,b_);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M7.23336 4.69629C7.23336 2.96884 8.63335 1.56857 10.36 1.56857C11.3736 1.56857 12.183 2.04804 12.7254 2.74385C13.3079 2.62467 13.8557 2.40913 14.3513 2.11508C14.1559 2.72598 13.7424 3.2396 13.2033 3.56463C13.2038 3.56568 13.2042 3.56674 13.2047 3.56779C13.7334 3.50361 14.2364 3.36302 14.7048 3.15546L14.7037 3.15715C14.3667 3.66183 13.9431 4.10736 13.4561 4.47034C13.4823 4.64672 13.4956 4.82427 13.4956 5.00079C13.4956 8.6871 10.6873 12.9746 5.52122 12.9746C3.93906 12.9746 2.46544 12.511 1.22505 11.7152C0.992632 11.5661 0.925108 11.2568 1.07423 11.0244C1.0874 11.0038 1.10183 10.9846 1.11734 10.9666C1.20582 10.8202 1.37438 10.7309 1.5554 10.7522C2.47066 10.8601 3.38568 10.7485 4.19219 10.3962C3.39226 10.0434 2.77129 9.35975 2.50204 8.51974C2.45359 8.3686 2.48835 8.20311 2.59351 8.08422C2.59716 8.0801 2.60087 8.07606 2.60464 8.0721C1.96391 7.50819 1.55973 6.68208 1.55973 5.76143V5.72759C1.55973 5.56814 1.64411 5.42059 1.78155 5.33974C1.82671 5.31317 1.87537 5.29511 1.92532 5.28558C1.70549 4.86154 1.58116 4.37984 1.58116 3.86958C1.58116 3.40165 1.58384 2.81192 1.91332 2.28081C1.98718 2.16175 2.10758 2.08915 2.2364 2.07195C2.42588 2.01237 2.64087 2.06969 2.77406 2.23302C3.86536 3.57126 5.44066 4.49583 7.23366 4.73961L7.23336 4.69629ZM5.52122 11.9746C4.73387 11.9746 3.97781 11.8435 3.27248 11.6023C4.13012 11.4538 4.95307 11.1159 5.66218 10.5602C5.81211 10.4427 5.87182 10.2435 5.81126 10.0629C5.7507 9.88234 5.583 9.75943 5.39255 9.75607C4.68968 9.74366 4.06712 9.39716 3.67793 8.86845C3.86828 8.85306 4.05428 8.82039 4.23445 8.77167C4.43603 8.71716 4.57363 8.53114 4.56674 8.32243C4.55985 8.11372 4.41029 7.93718 4.20555 7.89607C3.42694 7.73977 2.79883 7.16764 2.56169 6.42174C2.76255 6.47025 2.97102 6.4991 3.18482 6.5061C3.38563 6.51267 3.56646 6.38533 3.62795 6.19405C3.68943 6.00277 3.61666 5.79391 3.44963 5.68224C2.86523 5.29155 2.48116 4.62464 2.48116 3.86958C2.48116 3.70213 2.48352 3.55268 2.49355 3.41719C3.85115 4.79913 5.70873 5.68931 7.77588 5.79338C7.93225 5.80126 8.08328 5.73543 8.18395 5.61553C8.28463 5.49562 8.32332 5.33548 8.28851 5.18284C8.25255 5.02517 8.23336 4.86284 8.23336 4.69629C8.23336 3.52085 9.18591 2.56857 10.36 2.56857C11.5943 2.56857 12.4956 3.71208 12.4956 5.00079C12.4956 8.25709 10.0202 11.9746 5.52122 11.9746Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),S_=["color"],A_=h.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=$e(e,S_);return h.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),h.createElement("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),bt="colors",Mn="sizes",xe="space",SA={gap:xe,gridGap:xe,columnGap:xe,gridColumnGap:xe,rowGap:xe,gridRowGap:xe,inset:xe,insetBlock:xe,insetBlockEnd:xe,insetBlockStart:xe,insetInline:xe,insetInlineEnd:xe,insetInlineStart:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,marginBlock:xe,marginBlockEnd:xe,marginBlockStart:xe,marginInline:xe,marginInlineEnd:xe,marginInlineStart:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,paddingBlock:xe,paddingBlockEnd:xe,paddingBlockStart:xe,paddingInline:xe,paddingInlineEnd:xe,paddingInlineStart:xe,top:xe,right:xe,bottom:xe,left:xe,scrollMargin:xe,scrollMarginTop:xe,scrollMarginRight:xe,scrollMarginBottom:xe,scrollMarginLeft:xe,scrollMarginX:xe,scrollMarginY:xe,scrollMarginBlock:xe,scrollMarginBlockEnd:xe,scrollMarginBlockStart:xe,scrollMarginInline:xe,scrollMarginInlineEnd:xe,scrollMarginInlineStart:xe,scrollPadding:xe,scrollPaddingTop:xe,scrollPaddingRight:xe,scrollPaddingBottom:xe,scrollPaddingLeft:xe,scrollPaddingX:xe,scrollPaddingY:xe,scrollPaddingBlock:xe,scrollPaddingBlockEnd:xe,scrollPaddingBlockStart:xe,scrollPaddingInline:xe,scrollPaddingInlineEnd:xe,scrollPaddingInlineStart:xe,fontSize:"fontSizes",background:bt,backgroundColor:bt,backgroundImage:bt,borderImage:bt,border:bt,borderBlock:bt,borderBlockEnd:bt,borderBlockStart:bt,borderBottom:bt,borderBottomColor:bt,borderColor:bt,borderInline:bt,borderInlineEnd:bt,borderInlineStart:bt,borderLeft:bt,borderLeftColor:bt,borderRight:bt,borderRightColor:bt,borderTop:bt,borderTopColor:bt,caretColor:bt,color:bt,columnRuleColor:bt,fill:bt,outline:bt,outlineColor:bt,stroke:bt,textDecorationColor:bt,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Mn,minBlockSize:Mn,maxBlockSize:Mn,inlineSize:Mn,minInlineSize:Mn,maxInlineSize:Mn,width:Mn,minWidth:Mn,maxWidth:Mn,height:Mn,minHeight:Mn,maxHeight:Mn,flexBasis:Mn,gridTemplateColumns:Mn,gridTemplateRows:Mn,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},w_=(e,t)=>typeof t=="function"?{"()":Function.prototype.toString.call(t)}:t,qu=()=>{const e=Object.create(null);return(t,n,...r)=>{const i=(o=>JSON.stringify(o,w_))(t);return i in e?e[i]:e[i]=n(t,...r)}},Qo=Symbol.for("sxs.internal"),P4=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),TC=e=>{for(const t in e)return!0;return!1},{hasOwnProperty:x_}=Object.prototype,B1=e=>e.includes("-")?e:e.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase())),D_=/\s+(?![^()]*\))/,au=e=>t=>e(...typeof t=="string"?String(t).split(D_):[t]),RC={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`"${e}"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:au(((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e}))),marginInline:au(((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e}))),maxSize:au(((e,t)=>({maxBlockSize:e,maxInlineSize:t||e}))),minSize:au(((e,t)=>({minBlockSize:e,minInlineSize:t||e}))),paddingBlock:au(((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e}))),paddingInline:au(((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e})))},bm=/([\d.]+)([^]*)/,I_=(e,t)=>e.length?e.reduce(((n,r)=>(n.push(...t.map((i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i))),n)),[]):t,T_=(e,t)=>e in R_&&typeof t=="string"?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,((n,r,i,o)=>r+(i==="stretch"?`-moz-available${o};${B1(e)}:${r}-webkit-fill-available`:`-moz-fit-content${o};${B1(e)}:${r}fit-content`)+o)):String(t),R_={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},da=e=>e?e+"-":"",AA=(e,t,n)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,((r,i,o,u,l)=>u=="$"==!!o?r:(i||u=="--"?"calc(":"")+"var(--"+(u==="$"?da(t)+(l.includes("$")?"":da(n))+l.replace(/\$/g,"-"):l)+")"+(i||u=="--"?"*"+(i||"")+(o||"1")+")":""))),B_=/\s*,\s*(?![^()]*\))/,k_=Object.prototype.toString,pu=(e,t,n,r,i)=>{let o,u,l;const c=(f,g,m)=>{let v,y;const b=C=>{for(v in C){const D=v.charCodeAt(0)===64,T=D&&Array.isArray(C[v])?C[v]:[C[v]];for(y of T){const N=/[A-Z]/.test(x=v)?x:x.replace(/-[^]/g,(M=>M[1].toUpperCase())),k=typeof y=="object"&&y&&y.toString===k_&&(!r.utils[N]||!g.length);if(N in r.utils&&!k){const M=r.utils[N];if(M!==u){u=M,b(M(y)),u=null;continue}}else if(N in RC){const M=RC[N];if(M!==l){l=M,b(M(y)),l=null;continue}}if(D&&(A=v.slice(1)in r.media?"@media "+r.media[v.slice(1)]:v,v=A.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,((M,B,P,_,U,K)=>{const J=bm.test(B),te=.0625*(J?-1:1),[fe,Ee]=J?[_,B]:[B,_];return"("+(P[0]==="="?"":P[0]===">"===J?"max-":"min-")+fe+":"+(P[0]!=="="&&P.length===1?Ee.replace(bm,((Y,V,W)=>Number(V)+te*(P===">"?1:-1)+W)):Ee)+(U?") and ("+(U[0]===">"?"min-":"max-")+fe+":"+(U.length===1?K.replace(bm,((Y,V,W)=>Number(V)+te*(U===">"?-1:1)+W)):K):"")+")"}))),k){const M=D?m.concat(v):[...m],B=D?[...g]:I_(g,v.split(B_));o!==void 0&&i(BC(...o)),o=void 0,c(y,B,M)}else o===void 0&&(o=[[],g,m]),v=D||v.charCodeAt(0)!==36?v:`--${da(r.prefix)}${v.slice(1).replace(/\$/g,"-")}`,y=k?y:typeof y=="number"?y&&N in M_?String(y)+"px":String(y):AA(T_(N,y??""),r.prefix,r.themeMap[N]),o[0].push(`${D?`${v} `:`${B1(v)}:`}${y}`)}}var A,x};b(f),o!==void 0&&i(BC(...o)),o=void 0};c(e,t,n)},BC=(e,t,n)=>`${n.map((r=>`${r}{`)).join("")}${t.length?`${t.join(",")}{`:""}${e.join(";")}${t.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,M_={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},kC=e=>String.fromCharCode(e+(e>25?39:97)),es=e=>(t=>{let n,r="";for(n=Math.abs(t);n>52;n=n/52|0)r=kC(n%52)+r;return kC(n%52)+r})(((t,n)=>{let r=n.length;for(;r;)t=33*t^n.charCodeAt(--r);return t})(5381,JSON.stringify(e))>>>0),sc=["themed","global","styled","onevar","resonevar","allvar","inline"],N_=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch{return!1}},P_=e=>{let t;const n=()=>{const{cssRules:i}=t.sheet;return[].map.call(i,((o,u)=>{const{cssText:l}=o;let c="";if(l.startsWith("--sxs"))return"";if(i[u-1]&&(c=i[u-1].cssText).startsWith("--sxs")){if(!o.cssRules.length)return"";for(const f in t.rules)if(t.rules[f].group===o)return`--sxs{--sxs:${[...t.rules[f].cache].join(" ")}}${l}`;return o.cssRules.length?`${c}${l}`:""}return l})).join("")},r=()=>{if(t){const{rules:l,sheet:c}=t;if(!c.deleteRule){for(;Object(Object(c.cssRules)[0]).type===3;)c.cssRules.splice(0,1);c.cssRules=[]}for(const f in l)delete l[f]}const i=Object(e).styleSheets||[];for(const l of i)if(N_(l)){for(let c=0,f=l.cssRules;f[c];++c){const g=Object(f[c]);if(g.type!==1)continue;const m=Object(f[c+1]);if(m.type!==4)continue;++c;const{cssText:v}=g;if(!v.startsWith("--sxs"))continue;const y=v.slice(14,-3).trim().split(/\s+/),b=sc[y[0]];b&&(t||(t={sheet:l,reset:r,rules:{},toString:n}),t.rules[b]={group:m,index:c,cache:new Set(y)})}if(t)break}if(!t){const l=(c,f)=>({type:f,cssRules:[],insertRule(g,m){this.cssRules.splice(m,0,l(g,{import:3,undefined:1}[(g.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return c==="@media{}"?`@media{${[].map.call(this.cssRules,(g=>g.cssText)).join("")}}`:c}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:l("","text/css"),rules:{},reset:r,toString:n}}const{sheet:o,rules:u}=t;for(let l=sc.length-1;l>=0;--l){const c=sc[l];if(!u[c]){const f=sc[l+1],g=u[f]?u[f].index:o.cssRules.length;o.insertRule("@media{}",g),o.insertRule(`--sxs{--sxs:${l}}`,g),u[c]={group:o.cssRules[g+1],index:g,cache:new Set([l])}}O_(u[c])}};return r(),t},O_=e=>{const t=e.group;let n=t.cssRules.length;e.apply=r=>{try{t.insertRule(r,n),++n}catch{}}},nc=Symbol(),L_=qu(),MC=(e,t)=>L_(e,(()=>(...n)=>{let r={type:null,composers:new Set};for(const i of n)if(i!=null)if(i[Qo]){r.type==null&&(r.type=i[Qo].type);for(const o of i[Qo].composers)r.composers.add(o)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(F_(i,e));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),__(e,r,t)})),F_=({variants:e,compoundVariants:t,defaultVariants:n,...r},i)=>{const o=`${da(i.prefix)}c-${es(r)}`,u=[],l=[],c=Object.create(null),f=[];for(const v in n)c[v]=String(n[v]);if(typeof e=="object"&&e)for(const v in e){g=c,m=v,x_.call(g,m)||(c[v]="undefined");const y=e[v];for(const b in y){const C={[v]:String(b)};String(b)==="undefined"&&f.push(v);const A=y[b],x=[C,A,!TC(A)];u.push(x)}}var g,m;if(typeof t=="object"&&t)for(const v of t){let{css:y,...b}=v;y=typeof y=="object"&&y||{};for(const A in b)b[A]=String(b[A]);const C=[b,y,!TC(y)];l.push(C)}return[o,r,u,l,c,f]},__=(e,t,n)=>{const[r,i,o,u]=$_(t.composers),l=typeof t.type=="function"||t.type.$$typeof?(m=>{function v(){for(let y=0;y<v[nc].length;y++){const[b,C]=v[nc][y];m.rules[b].apply(C)}return v[nc]=[],null}return v[nc]=[],v.rules={},sc.forEach((y=>v.rules[y]={apply:b=>v[nc].push([y,b])})),v})(n):null,c=(l||n).rules,f=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,g=m=>{m=typeof m=="object"&&m||z_;const{css:v,...y}=m,b={};for(const x in o)if(delete y[x],x in m){let D=m[x];typeof D=="object"&&D?b[x]={"@initial":o[x],...D}:(D=String(D),b[x]=D!=="undefined"||u.has(x)?D:o[x])}else b[x]=o[x];const C=new Set([...i]);for(const[x,D,T,N]of t.composers){n.rules.styled.cache.has(x)||(n.rules.styled.cache.add(x),pu(D,[`.${x}`],[],e,(B=>{c.styled.apply(B)})));const k=NC(T,b,e.media),M=NC(N,b,e.media,!0);for(const B of k)if(B!==void 0)for(const[P,_,U]of B){const K=`${x}-${es(_)}-${P}`;C.add(K);const J=(U?n.rules.resonevar:n.rules.onevar).cache,te=U?c.resonevar:c.onevar;J.has(K)||(J.add(K),pu(_,[`.${K}`],[],e,(fe=>{te.apply(fe)})))}for(const B of M)if(B!==void 0)for(const[P,_]of B){const U=`${x}-${es(_)}-${P}`;C.add(U),n.rules.allvar.cache.has(U)||(n.rules.allvar.cache.add(U),pu(_,[`.${U}`],[],e,(K=>{c.allvar.apply(K)})))}}if(typeof v=="object"&&v){const x=`${r}-i${es(v)}-css`;C.add(x),n.rules.inline.cache.has(x)||(n.rules.inline.cache.add(x),pu(v,[`.${x}`],[],e,(D=>{c.inline.apply(D)})))}for(const x of String(m.className||"").trim().split(/\s+/))x&&C.add(x);const A=y.className=[...C].join(" ");return{type:t.type,className:A,selector:f,props:y,toString:()=>A,deferredInjector:l}};return P4(g,{className:r,selector:f,[Qo]:t,toString:()=>(n.rules.styled.cache.has(r)||g(),r)})},$_=e=>{let t="";const n=[],r={},i=[];for(const[o,,,,u,l]of e){t===""&&(t=o),n.push(o),i.push(...l);for(const c in u){const f=u[c];(r[c]===void 0||f!=="undefined"||l.includes(f))&&(r[c]=f)}}return[t,n,r,new Set(i)]},NC=(e,t,n,r)=>{const i=[];e:for(let[o,u,l]of e){if(l)continue;let c,f=0,g=!1;for(c in o){const m=o[c];let v=t[c];if(v!==m){if(typeof v!="object"||!v)continue e;{let y,b,C=0;for(const A in v){if(m===String(v[A])){if(A!=="@initial"){const x=A.slice(1);(b=b||[]).push(x in n?n[x]:A.replace(/^@media ?/,"")),g=!0}f+=C,y=!0}++C}if(b&&b.length&&(u={["@media "+b.join(", ")]:u}),!y)continue e}}}(i[f]=i[f]||[]).push([r?"cv":`${c}-${o[c]}`,u,g])}return i},z_={},V_=qu(),U_=(e,t)=>V_(e,(()=>(...n)=>{const r=()=>{for(let i of n){i=typeof i=="object"&&i||{};let o=es(i);if(!t.rules.global.cache.has(o)){if(t.rules.global.cache.add(o),"@import"in i){let u=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let l of[].concat(i["@import"]))l=l.includes('"')||l.includes("'")?l:`"${l}"`,t.sheet.insertRule(`@import ${l};`,u++);delete i["@import"]}pu(i,[],[],e,(u=>{t.rules.global.apply(u)}))}}return""};return P4(r,{toString:r})})),H_=qu(),G_=(e,t)=>H_(e,(()=>n=>{const r=`${da(e.prefix)}k-${es(n)}`,i=()=>{if(!t.rules.global.cache.has(r)){t.rules.global.cache.add(r);const o=[];pu(n,[],[],e,(l=>o.push(l)));const u=`@keyframes ${r}{${o.join("")}}`;t.rules.global.apply(u)}return r};return P4(i,{get name(){return i()},toString:i})})),j_=class{constructor(e,t,n,r){this.token=e==null?"":String(e),this.value=t==null?"":String(t),this.scale=n==null?"":String(n),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+da(this.prefix)+da(this.scale)+this.token}toString(){return this.computedValue}},K_=qu(),Y_=(e,t)=>K_(e,(()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);const i=`.${n=(n=typeof n=="string"?n:"")||`${da(e.prefix)}t-${es(r)}`}`,o={},u=[];for(const c in r){o[c]={};for(const f in r[c]){const g=`--${da(e.prefix)}${c}-${f}`,m=AA(String(r[c][f]),e.prefix,c);o[c][f]=new j_(f,m,c,e.prefix),u.push(`${g}:${m}`)}}const l=()=>{if(u.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);const c=`${r===e.theme?":root,":""}.${n}{${u.join(";")}}`;t.rules.themed.apply(c)}return n};return{...o,get className(){return l()},selector:i,toString:l}})),W_=qu(),PC,Z_=qu(),wA=e=>{const t=(n=>{let r=!1;const i=W_(n,(o=>{r=!0;const u="prefix"in(o=typeof o=="object"&&o||{})?String(o.prefix):"",l=typeof o.media=="object"&&o.media||{},c=typeof o.root=="object"?o.root||null:globalThis.document||null,f=typeof o.theme=="object"&&o.theme||{},g={prefix:u,media:l,theme:f,themeMap:typeof o.themeMap=="object"&&o.themeMap||{...SA},utils:typeof o.utils=="object"&&o.utils||{}},m=P_(c),v={css:MC(g,m),globalCss:U_(g,m),keyframes:G_(g,m),createTheme:Y_(g,m),reset(){m.reset(),v.theme.toString()},theme:{},sheet:m,config:g,prefix:u,getCssText:m.toString,toString:m.toString};return String(v.theme=v.createTheme(f)),v}));return r||i.reset(),i})(e);return t.styled=(({config:n,sheet:r})=>Z_(n,(()=>{const i=MC(n,r);return(...o)=>{const u=i(...o),l=u[Qo].type,c=$t.forwardRef(((f,g)=>{const m=f&&f.as||l,{props:v,deferredInjector:y}=u(f);return delete v.as,v.ref=g,y?$t.createElement($t.Fragment,null,$t.createElement(m,v),$t.createElement(y,null)):$t.createElement(m,v)}));return c.className=u.className,c.displayName=`Styled.${l.displayName||l.name||l}`,c.selector=u.selector,c.toString=()=>u.selector,c[Qo]=u[Qo],c}})))(t),t},X_=()=>PC||(PC=wA()),of=(...e)=>X_().styled(...e);const xA="DropdownMenu",[J_]=Wu(xA,[rf]),er=rf(),[q_,DA]=J_(xA),Q_=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:u,modal:l=!0}=e,c=er(t),f=h.useRef(null),[g=!1,m]=ef({prop:i,defaultProp:o,onChange:u});return h.createElement(q_,{scope:t,triggerId:Rc(),triggerRef:f,contentId:Rc(),open:g,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(v=>!v),[m]),modal:l},h.createElement(Q6,Te({},c,{open:g,onOpenChange:m,dir:r,modal:l}),n))},e$="DropdownMenuTrigger",t$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=DA(e$,n),u=er(n);return h.createElement(eA,Te({asChild:!0},u),h.createElement(Fn.button,Te({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open?!0:void 0,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},i,{ref:Xh(t,o.triggerRef),onPointerDown:We(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:We(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),[" ","ArrowDown"].includes(l.key)&&l.preventDefault())})})))}),n$=e=>{const{__scopeDropdownMenu:t,...n}=e,r=er(t);return h.createElement(tA,Te({},r,n))},r$="DropdownMenuContent",i$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=DA(r$,n),o=er(n),u=h.useRef(!1);return h.createElement(nA,Te({id:i.contentId,"aria-labelledby":i.triggerId},o,r,{ref:t,onCloseAutoFocus:We(e.onCloseAutoFocus,l=>{var c;u.current||(c=i.triggerRef.current)===null||c===void 0||c.focus(),u.current=!1,l.preventDefault()}),onInteractOutside:We(e.onInteractOutside,l=>{const c=l.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,g=c.button===2||f;(!i.modal||g)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)"}}))}),a$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return h.createElement(rA,Te({},i,r,{ref:t}))}),o$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return h.createElement(IL,Te({},i,r,{ref:t}))}),IA=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return h.createElement(TL,Te({},i,r,{ref:t}))}),s$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return h.createElement(RL,Te({},i,r,{ref:t}))}),u$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return h.createElement(BL,Te({},i,r,{ref:t}))}),l$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return h.createElement(kL,Te({},i,r,{ref:t}))}),c$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return h.createElement(iA,Te({},i,r,{ref:t}))}),d$=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:i,defaultOpen:o}=e,u=er(t),[l=!1,c]=ef({prop:r,defaultProp:o,onChange:i});return h.createElement(aA,Te({},u,{open:l,onOpenChange:c}),n)},h$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return h.createElement(oA,Te({},i,r,{ref:t}))}),f$=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=er(n);return h.createElement(sA,Te({},i,r,{ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)"}}))}),yo=Q_,cs=t$,p$=n$,TA=i$,sf=a$,g$=o$,m$=IA,RA=s$,BA=u$,v$=l$,y$=c$,E$=d$,b$=h$,C$=f$;function rn(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function OC(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function kA(...e){return t=>{let n=!1;const r=e.map(i=>{const o=OC(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():OC(e[i],null)}}}}function $n(...e){return h.useCallback(kA(...e),e)}function S$(e,t){const n=h.createContext(t),r=o=>{const{children:u,...l}=o,c=h.useMemo(()=>l,Object.values(l));return he.jsx(n.Provider,{value:c,children:u})};r.displayName=e+"Provider";function i(o){const u=h.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function od(e,t=[]){let n=[];function r(o,u){const l=h.createContext(u),c=n.length;n=[...n,u];const f=m=>{const{scope:v,children:y,...b}=m,C=v?.[e]?.[c]||l,A=h.useMemo(()=>b,Object.values(b));return he.jsx(C.Provider,{value:A,children:y})};f.displayName=o+"Provider";function g(m,v){const y=v?.[e]?.[c]||l,b=h.useContext(y);if(b)return b;if(u!==void 0)return u;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[f,g]}const i=()=>{const o=n.map(u=>h.createContext(u));return function(l){const c=l?.[e]||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,A$(i,...t)]}function A$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const u=r.reduce((l,{useScope:c,scopeName:f})=>{const m=c(o)[`__scope${f}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function O4(e){const t=w$(e),n=h.forwardRef((r,i)=>{const{children:o,...u}=r,l=h.Children.toArray(o),c=l.find(x$);if(c){const f=c.props.children,g=l.map(m=>m===c?h.Children.count(f)>1?h.Children.only(null):h.isValidElement(f)?f.props.children:null:m);return he.jsx(t,{...u,ref:i,children:h.isValidElement(f)?h.cloneElement(f,void 0,g):null})}return he.jsx(t,{...u,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function w$(e){const t=h.forwardRef((n,r)=>{const{children:i,...o}=n;if(h.isValidElement(i)){const u=I$(i),l=D$(o,i.props);return i.type!==h.Fragment&&(l.ref=r?kA(r,u):u),h.cloneElement(i,l)}return h.Children.count(i)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var MA=Symbol("radix.slottable");function NA(e){const t=({children:n})=>he.jsx(he.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=MA,t}function x$(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===MA}function D$(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...l)=>{const c=o(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function I$(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var T$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Tn=T$.reduce((e,t)=>{const n=O4(`Primitive.${t}`),r=h.forwardRef((i,o)=>{const{asChild:u,...l}=i,c=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),he.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function R$(e,t){e&&Zu.flushSync(()=>e.dispatchEvent(t))}function Tu(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>t.current?.(...n),[])}function B$(e,t=globalThis?.document){const n=Tu(e);h.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var k$="DismissableLayer",k1="dismissableLayer.update",M$="dismissableLayer.pointerDownOutside",N$="dismissableLayer.focusOutside",LC,PA=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uf=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:u,onDismiss:l,...c}=e,f=h.useContext(PA),[g,m]=h.useState(null),v=g?.ownerDocument??globalThis?.document,[,y]=h.useState({}),b=$n(t,B=>m(B)),C=Array.from(f.layers),[A]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),x=C.indexOf(A),D=g?C.indexOf(g):-1,T=f.layersWithOutsidePointerEventsDisabled.size>0,N=D>=x,k=L$(B=>{const P=B.target,_=[...f.branches].some(U=>U.contains(P));!N||_||(i?.(B),u?.(B),B.defaultPrevented||l?.())},v),M=F$(B=>{const P=B.target;[...f.branches].some(U=>U.contains(P))||(o?.(B),u?.(B),B.defaultPrevented||l?.())},v);return B$(B=>{D===f.layers.size-1&&(r?.(B),!B.defaultPrevented&&l&&(B.preventDefault(),l()))},v),h.useEffect(()=>{if(g)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(LC=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),FC(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=LC)}},[g,v,n,f]),h.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),FC())},[g,f]),h.useEffect(()=>{const B=()=>y({});return document.addEventListener(k1,B),()=>document.removeEventListener(k1,B)},[]),he.jsx(Tn.div,{...c,ref:b,style:{pointerEvents:T?N?"auto":"none":void 0,...e.style},onFocusCapture:rn(e.onFocusCapture,M.onFocusCapture),onBlurCapture:rn(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:rn(e.onPointerDownCapture,k.onPointerDownCapture)})});uf.displayName=k$;var P$="DismissableLayerBranch",O$=h.forwardRef((e,t)=>{const n=h.useContext(PA),r=h.useRef(null),i=$n(t,r);return h.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),he.jsx(Tn.div,{...e,ref:i})});O$.displayName=P$;function L$(e,t=globalThis?.document){const n=Tu(e),r=h.useRef(!1),i=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){OA(M$,n,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function F$(e,t=globalThis?.document){const n=Tu(e),r=h.useRef(!1);return h.useEffect(()=>{const i=o=>{o.target&&!r.current&&OA(N$,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function FC(){const e=new CustomEvent(k1);document.dispatchEvent(e)}function OA(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?R$(i,o):i.dispatchEvent(o)}var so=globalThis?.document?h.useLayoutEffect:()=>{},_$=u4[" useId ".trim().toString()]||(()=>{}),$$=0;function mc(e){const[t,n]=h.useState(_$());return so(()=>{n(r=>r??String($$++))},[e]),t?`radix-${t}`:""}const z$=["top","right","bottom","left"],uo=Math.min,dr=Math.max,Th=Math.round,H0=Math.floor,Ai=e=>({x:e,y:e}),V$={left:"right",right:"left",bottom:"top",top:"bottom"},U$={start:"end",end:"start"};function M1(e,t,n){return dr(e,uo(t,n))}function ha(e,t){return typeof e=="function"?e(t):e}function fa(e){return e.split("-")[0]}function Qu(e){return e.split("-")[1]}function L4(e){return e==="x"?"y":"x"}function F4(e){return e==="y"?"height":"width"}const H$=new Set(["top","bottom"]);function Ci(e){return H$.has(fa(e))?"y":"x"}function _4(e){return L4(Ci(e))}function G$(e,t,n){n===void 0&&(n=!1);const r=Qu(e),i=_4(e),o=F4(i);let u=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(u=Rh(u)),[u,Rh(u)]}function j$(e){const t=Rh(e);return[N1(e),t,N1(t)]}function N1(e){return e.replace(/start|end/g,t=>U$[t])}const _C=["left","right"],$C=["right","left"],K$=["top","bottom"],Y$=["bottom","top"];function W$(e,t,n){switch(e){case"top":case"bottom":return n?t?$C:_C:t?_C:$C;case"left":case"right":return t?K$:Y$;default:return[]}}function Z$(e,t,n,r){const i=Qu(e);let o=W$(fa(e),n==="start",r);return i&&(o=o.map(u=>u+"-"+i),t&&(o=o.concat(o.map(N1)))),o}function Rh(e){return e.replace(/left|right|bottom|top/g,t=>V$[t])}function X$(e){return{top:0,right:0,bottom:0,left:0,...e}}function LA(e){return typeof e!="number"?X$(e):{top:e,right:e,bottom:e,left:e}}function Bh(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function zC(e,t,n){let{reference:r,floating:i}=e;const o=Ci(t),u=_4(t),l=F4(u),c=fa(t),f=o==="y",g=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,v=r[l]/2-i[l]/2;let y;switch(c){case"top":y={x:g,y:r.y-i.height};break;case"bottom":y={x:g,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-i.width,y:m};break;default:y={x:r.x,y:r.y}}switch(Qu(t)){case"start":y[u]-=v*(n&&f?-1:1);break;case"end":y[u]+=v*(n&&f?-1:1);break}return y}const J$=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:u}=n,l=o.filter(Boolean),c=await(u.isRTL==null?void 0:u.isRTL(t));let f=await u.getElementRects({reference:e,floating:t,strategy:i}),{x:g,y:m}=zC(f,r,c),v=r,y={},b=0;for(let C=0;C<l.length;C++){const{name:A,fn:x}=l[C],{x:D,y:T,data:N,reset:k}=await x({x:g,y:m,initialPlacement:r,placement:v,strategy:i,middlewareData:y,rects:f,platform:u,elements:{reference:e,floating:t}});g=D??g,m=T??m,y={...y,[A]:{...y[A],...N}},k&&b<=50&&(b++,typeof k=="object"&&(k.placement&&(v=k.placement),k.rects&&(f=k.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:i}):k.rects),{x:g,y:m}=zC(f,v,c)),C=-1)}return{x:g,y:m,placement:v,strategy:i,middlewareData:y}};async function Mc(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:u,elements:l,strategy:c}=e,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:v=!1,padding:y=0}=ha(t,e),b=LA(y),A=l[v?m==="floating"?"reference":"floating":m],x=Bh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(A)))==null||n?A:A.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:f,rootBoundary:g,strategy:c})),D=m==="floating"?{x:r,y:i,width:u.floating.width,height:u.floating.height}:u.reference,T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),N=await(o.isElement==null?void 0:o.isElement(T))?await(o.getScale==null?void 0:o.getScale(T))||{x:1,y:1}:{x:1,y:1},k=Bh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:D,offsetParent:T,strategy:c}):D);return{top:(x.top-k.top+b.top)/N.y,bottom:(k.bottom-x.bottom+b.bottom)/N.y,left:(x.left-k.left+b.left)/N.x,right:(k.right-x.right+b.right)/N.x}}const q$=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:u,elements:l,middlewareData:c}=t,{element:f,padding:g=0}=ha(e,t)||{};if(f==null)return{};const m=LA(g),v={x:n,y:r},y=_4(i),b=F4(y),C=await u.getDimensions(f),A=y==="y",x=A?"top":"left",D=A?"bottom":"right",T=A?"clientHeight":"clientWidth",N=o.reference[b]+o.reference[y]-v[y]-o.floating[b],k=v[y]-o.reference[y],M=await(u.getOffsetParent==null?void 0:u.getOffsetParent(f));let B=M?M[T]:0;(!B||!await(u.isElement==null?void 0:u.isElement(M)))&&(B=l.floating[T]||o.floating[b]);const P=N/2-k/2,_=B/2-C[b]/2-1,U=uo(m[x],_),K=uo(m[D],_),J=U,te=B-C[b]-K,fe=B/2-C[b]/2+P,Ee=M1(J,fe,te),Y=!c.arrow&&Qu(i)!=null&&fe!==Ee&&o.reference[b]/2-(fe<J?U:K)-C[b]/2<0,V=Y?fe<J?fe-J:fe-te:0;return{[y]:v[y]+V,data:{[y]:Ee,centerOffset:fe-Ee-V,...Y&&{alignmentOffset:V}},reset:Y}}}),Q$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:u,initialPlacement:l,platform:c,elements:f}=t,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:C=!0,...A}=ha(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=fa(i),D=Ci(l),T=fa(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(f.floating)),k=v||(T||!C?[Rh(l)]:j$(l)),M=b!=="none";!v&&M&&k.push(...Z$(l,C,b,N));const B=[l,...k],P=await Mc(t,A),_=[];let U=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&_.push(P[x]),m){const fe=G$(i,u,N);_.push(P[fe[0]],P[fe[1]])}if(U=[...U,{placement:i,overflows:_}],!_.every(fe=>fe<=0)){var K,J;const fe=(((K=o.flip)==null?void 0:K.index)||0)+1,Ee=B[fe];if(Ee&&(!(m==="alignment"?D!==Ci(Ee):!1)||U.every(W=>Ci(W.placement)===D?W.overflows[0]>0:!0)))return{data:{index:fe,overflows:U},reset:{placement:Ee}};let Y=(J=U.filter(V=>V.overflows[0]<=0).sort((V,W)=>V.overflows[1]-W.overflows[1])[0])==null?void 0:J.placement;if(!Y)switch(y){case"bestFit":{var te;const V=(te=U.filter(W=>{if(M){const ce=Ci(W.placement);return ce===D||ce==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(ce=>ce>0).reduce((ce,ge)=>ce+ge,0)]).sort((W,ce)=>W[1]-ce[1])[0])==null?void 0:te[0];V&&(Y=V);break}case"initialPlacement":Y=l;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function VC(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function UC(e){return z$.some(t=>e[t]>=0)}const ez=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=ha(e,t);switch(r){case"referenceHidden":{const o=await Mc(t,{...i,elementContext:"reference"}),u=VC(o,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:UC(u)}}}case"escaped":{const o=await Mc(t,{...i,altBoundary:!0}),u=VC(o,n.floating);return{data:{escapedOffsets:u,escaped:UC(u)}}}default:return{}}}}},FA=new Set(["left","top"]);async function tz(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),u=fa(n),l=Qu(n),c=Ci(n)==="y",f=FA.has(u)?-1:1,g=o&&c?-1:1,m=ha(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof b=="number"&&(y=l==="end"?b*-1:b),c?{x:y*g,y:v*f}:{x:v*f,y:y*g}}const nz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:u,middlewareData:l}=t,c=await tz(t,e);return u===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:u}}}}},rz=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:u=!1,limiter:l={fn:A=>{let{x,y:D}=A;return{x,y:D}}},...c}=ha(e,t),f={x:n,y:r},g=await Mc(t,c),m=Ci(fa(i)),v=L4(m);let y=f[v],b=f[m];if(o){const A=v==="y"?"top":"left",x=v==="y"?"bottom":"right",D=y+g[A],T=y-g[x];y=M1(D,y,T)}if(u){const A=m==="y"?"top":"left",x=m==="y"?"bottom":"right",D=b+g[A],T=b-g[x];b=M1(D,b,T)}const C=l.fn({...t,[v]:y,[m]:b});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[v]:o,[m]:u}}}}}},iz=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:u}=t,{offset:l=0,mainAxis:c=!0,crossAxis:f=!0}=ha(e,t),g={x:n,y:r},m=Ci(i),v=L4(m);let y=g[v],b=g[m];const C=ha(l,t),A=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(c){const T=v==="y"?"height":"width",N=o.reference[v]-o.floating[T]+A.mainAxis,k=o.reference[v]+o.reference[T]-A.mainAxis;y<N?y=N:y>k&&(y=k)}if(f){var x,D;const T=v==="y"?"width":"height",N=FA.has(fa(i)),k=o.reference[m]-o.floating[T]+(N&&((x=u.offset)==null?void 0:x[m])||0)+(N?0:A.crossAxis),M=o.reference[m]+o.reference[T]+(N?0:((D=u.offset)==null?void 0:D[m])||0)-(N?A.crossAxis:0);b<k?b=k:b>M&&(b=M)}return{[v]:y,[m]:b}}}},az=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:u,elements:l}=t,{apply:c=()=>{},...f}=ha(e,t),g=await Mc(t,f),m=fa(i),v=Qu(i),y=Ci(i)==="y",{width:b,height:C}=o.floating;let A,x;m==="top"||m==="bottom"?(A=m,x=v===(await(u.isRTL==null?void 0:u.isRTL(l.floating))?"start":"end")?"left":"right"):(x=m,A=v==="end"?"top":"bottom");const D=C-g.top-g.bottom,T=b-g.left-g.right,N=uo(C-g[A],D),k=uo(b-g[x],T),M=!t.middlewareData.shift;let B=N,P=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=T),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(B=D),M&&!v){const U=dr(g.left,0),K=dr(g.right,0),J=dr(g.top,0),te=dr(g.bottom,0);y?P=b-2*(U!==0||K!==0?U+K:dr(g.left,g.right)):B=C-2*(J!==0||te!==0?J+te:dr(g.top,g.bottom))}await c({...t,availableWidth:P,availableHeight:B});const _=await u.getDimensions(l.floating);return b!==_.width||C!==_.height?{reset:{rects:!0}}:{}}}};function lf(){return typeof window<"u"}function el(e){return _A(e)?(e.nodeName||"").toLowerCase():"#document"}function vr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ni(e){var t;return(t=(_A(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _A(e){return lf()?e instanceof Node||e instanceof vr(e).Node:!1}function ui(e){return lf()?e instanceof Element||e instanceof vr(e).Element:!1}function Ri(e){return lf()?e instanceof HTMLElement||e instanceof vr(e).HTMLElement:!1}function HC(e){return!lf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof vr(e).ShadowRoot}const oz=new Set(["inline","contents"]);function sd(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=li(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!oz.has(i)}const sz=new Set(["table","td","th"]);function uz(e){return sz.has(el(e))}const lz=[":popover-open",":modal"];function cf(e){return lz.some(t=>{try{return e.matches(t)}catch{return!1}})}const cz=["transform","translate","scale","rotate","perspective"],dz=["transform","translate","scale","rotate","perspective","filter"],hz=["paint","layout","strict","content"];function $4(e){const t=z4(),n=ui(e)?li(e):e;return cz.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||dz.some(r=>(n.willChange||"").includes(r))||hz.some(r=>(n.contain||"").includes(r))}function fz(e){let t=lo(e);for(;Ri(t)&&!Ru(t);){if($4(t))return t;if(cf(t))return null;t=lo(t)}return null}function z4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pz=new Set(["html","body","#document"]);function Ru(e){return pz.has(el(e))}function li(e){return vr(e).getComputedStyle(e)}function df(e){return ui(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function lo(e){if(el(e)==="html")return e;const t=e.assignedSlot||e.parentNode||HC(e)&&e.host||Ni(e);return HC(t)?t.host:t}function $A(e){const t=lo(e);return Ru(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ri(t)&&sd(t)?t:$A(t)}function Nc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=$A(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),u=vr(i);if(o){const l=P1(u);return t.concat(u,u.visualViewport||[],sd(i)?i:[],l&&n?Nc(l):[])}return t.concat(i,Nc(i,[],n))}function P1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function zA(e){const t=li(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ri(e),o=i?e.offsetWidth:n,u=i?e.offsetHeight:r,l=Th(n)!==o||Th(r)!==u;return l&&(n=o,r=u),{width:n,height:r,$:l}}function V4(e){return ui(e)?e:e.contextElement}function Cu(e){const t=V4(e);if(!Ri(t))return Ai(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=zA(t);let u=(o?Th(n.width):n.width)/r,l=(o?Th(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!l||!Number.isFinite(l))&&(l=1),{x:u,y:l}}const gz=Ai(0);function VA(e){const t=vr(e);return!z4()||!t.visualViewport?gz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function mz(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==vr(e)?!1:t}function ns(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=V4(e);let u=Ai(1);t&&(r?ui(r)&&(u=Cu(r)):u=Cu(e));const l=mz(o,n,r)?VA(o):Ai(0);let c=(i.left+l.x)/u.x,f=(i.top+l.y)/u.y,g=i.width/u.x,m=i.height/u.y;if(o){const v=vr(o),y=r&&ui(r)?vr(r):r;let b=v,C=P1(b);for(;C&&r&&y!==b;){const A=Cu(C),x=C.getBoundingClientRect(),D=li(C),T=x.left+(C.clientLeft+parseFloat(D.paddingLeft))*A.x,N=x.top+(C.clientTop+parseFloat(D.paddingTop))*A.y;c*=A.x,f*=A.y,g*=A.x,m*=A.y,c+=T,f+=N,b=vr(C),C=P1(b)}}return Bh({width:g,height:m,x:c,y:f})}function hf(e,t){const n=df(e).scrollLeft;return t?t.left+n:ns(Ni(e)).left+n}function UA(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-hf(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function vz(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",u=Ni(r),l=t?cf(t.floating):!1;if(r===u||l&&o)return n;let c={scrollLeft:0,scrollTop:0},f=Ai(1);const g=Ai(0),m=Ri(r);if((m||!m&&!o)&&((el(r)!=="body"||sd(u))&&(c=df(r)),Ri(r))){const y=ns(r);f=Cu(r),g.x=y.x+r.clientLeft,g.y=y.y+r.clientTop}const v=u&&!m&&!o?UA(u,c):Ai(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-c.scrollLeft*f.x+g.x+v.x,y:n.y*f.y-c.scrollTop*f.y+g.y+v.y}}function yz(e){return Array.from(e.getClientRects())}function Ez(e){const t=Ni(e),n=df(e),r=e.ownerDocument.body,i=dr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=dr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let u=-n.scrollLeft+hf(e);const l=-n.scrollTop;return li(r).direction==="rtl"&&(u+=dr(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:u,y:l}}const GC=25;function bz(e,t){const n=vr(e),r=Ni(e),i=n.visualViewport;let o=r.clientWidth,u=r.clientHeight,l=0,c=0;if(i){o=i.width,u=i.height;const g=z4();(!g||g&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const f=hf(r);if(f<=0){const g=r.ownerDocument,m=g.body,v=getComputedStyle(m),y=g.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,b=Math.abs(r.clientWidth-m.clientWidth-y);b<=GC&&(o-=b)}else f<=GC&&(o+=f);return{width:o,height:u,x:l,y:c}}const Cz=new Set(["absolute","fixed"]);function Sz(e,t){const n=ns(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Ri(e)?Cu(e):Ai(1),u=e.clientWidth*o.x,l=e.clientHeight*o.y,c=i*o.x,f=r*o.y;return{width:u,height:l,x:c,y:f}}function jC(e,t,n){let r;if(t==="viewport")r=bz(e,n);else if(t==="document")r=Ez(Ni(e));else if(ui(t))r=Sz(t,n);else{const i=VA(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Bh(r)}function HA(e,t){const n=lo(e);return n===t||!ui(n)||Ru(n)?!1:li(n).position==="fixed"||HA(n,t)}function Az(e,t){const n=t.get(e);if(n)return n;let r=Nc(e,[],!1).filter(l=>ui(l)&&el(l)!=="body"),i=null;const o=li(e).position==="fixed";let u=o?lo(e):e;for(;ui(u)&&!Ru(u);){const l=li(u),c=$4(u);!c&&l.position==="fixed"&&(i=null),(o?!c&&!i:!c&&l.position==="static"&&!!i&&Cz.has(i.position)||sd(u)&&!c&&HA(e,u))?r=r.filter(g=>g!==u):i=l,u=lo(u)}return t.set(e,r),r}function wz(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const u=[...n==="clippingAncestors"?cf(t)?[]:Az(t,this._c):[].concat(n),r],l=u[0],c=u.reduce((f,g)=>{const m=jC(t,g,i);return f.top=dr(m.top,f.top),f.right=uo(m.right,f.right),f.bottom=uo(m.bottom,f.bottom),f.left=dr(m.left,f.left),f},jC(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function xz(e){const{width:t,height:n}=zA(e);return{width:t,height:n}}function Dz(e,t,n){const r=Ri(t),i=Ni(t),o=n==="fixed",u=ns(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Ai(0);function f(){c.x=hf(i)}if(r||!r&&!o)if((el(t)!=="body"||sd(i))&&(l=df(t)),r){const y=ns(t,!0,o,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else i&&f();o&&!r&&i&&f();const g=i&&!r&&!o?UA(i,l):Ai(0),m=u.left+l.scrollLeft-c.x-g.x,v=u.top+l.scrollTop-c.y-g.y;return{x:m,y:v,width:u.width,height:u.height}}function Cm(e){return li(e).position==="static"}function KC(e,t){if(!Ri(e)||li(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ni(e)===n&&(n=n.ownerDocument.body),n}function GA(e,t){const n=vr(e);if(cf(e))return n;if(!Ri(e)){let i=lo(e);for(;i&&!Ru(i);){if(ui(i)&&!Cm(i))return i;i=lo(i)}return n}let r=KC(e,t);for(;r&&uz(r)&&Cm(r);)r=KC(r,t);return r&&Ru(r)&&Cm(r)&&!$4(r)?n:r||fz(e)||n}const Iz=async function(e){const t=this.getOffsetParent||GA,n=this.getDimensions,r=await n(e.floating);return{reference:Dz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Tz(e){return li(e).direction==="rtl"}const Rz={convertOffsetParentRelativeRectToViewportRelativeRect:vz,getDocumentElement:Ni,getClippingRect:wz,getOffsetParent:GA,getElementRects:Iz,getClientRects:yz,getDimensions:xz,getScale:Cu,isElement:ui,isRTL:Tz};function jA(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Bz(e,t){let n=null,r;const i=Ni(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function u(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const f=e.getBoundingClientRect(),{left:g,top:m,width:v,height:y}=f;if(l||t(),!v||!y)return;const b=H0(m),C=H0(i.clientWidth-(g+v)),A=H0(i.clientHeight-(m+y)),x=H0(g),T={rootMargin:-b+"px "+-C+"px "+-A+"px "+-x+"px",threshold:dr(0,uo(1,c))||1};let N=!0;function k(M){const B=M[0].intersectionRatio;if(B!==c){if(!N)return u();B?u(!1,B):r=setTimeout(()=>{u(!1,1e-7)},1e3)}B===1&&!jA(f,e.getBoundingClientRect())&&u(),N=!1}try{n=new IntersectionObserver(k,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,T)}n.observe(e)}return u(!0),o}function kz(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=V4(e),g=i||o?[...f?Nc(f):[],...Nc(t)]:[];g.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const m=f&&l?Bz(f,n):null;let v=-1,y=null;u&&(y=new ResizeObserver(x=>{let[D]=x;D&&D.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(t)})),n()}),f&&!c&&y.observe(f),y.observe(t));let b,C=c?ns(e):null;c&&A();function A(){const x=ns(e);C&&!jA(C,x)&&n(),C=x,b=requestAnimationFrame(A)}return n(),()=>{var x;g.forEach(D=>{i&&D.removeEventListener("scroll",n),o&&D.removeEventListener("resize",n)}),m?.(),(x=y)==null||x.disconnect(),y=null,c&&cancelAnimationFrame(b)}}const Mz=nz,Nz=rz,Pz=Q$,Oz=az,Lz=ez,YC=q$,Fz=iz,_z=(e,t,n)=>{const r=new Map,i={platform:Rz,...n},o={...i.platform,_c:r};return J$(e,t,{...i,platform:o})};var $z=typeof document<"u",zz=function(){},fh=$z?h.useLayoutEffect:zz;function kh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!kh(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!kh(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function KA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function WC(e,t){const n=KA(e);return Math.round(t*n)/n}function Sm(e){const t=h.useRef(e);return fh(()=>{t.current=e}),t}function Vz(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:u}={},transform:l=!0,whileElementsMounted:c,open:f}=e,[g,m]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,y]=h.useState(r);kh(v,r)||y(r);const[b,C]=h.useState(null),[A,x]=h.useState(null),D=h.useCallback(W=>{W!==M.current&&(M.current=W,C(W))},[]),T=h.useCallback(W=>{W!==B.current&&(B.current=W,x(W))},[]),N=o||b,k=u||A,M=h.useRef(null),B=h.useRef(null),P=h.useRef(g),_=c!=null,U=Sm(c),K=Sm(i),J=Sm(f),te=h.useCallback(()=>{if(!M.current||!B.current)return;const W={placement:t,strategy:n,middleware:v};K.current&&(W.platform=K.current),_z(M.current,B.current,W).then(ce=>{const ge={...ce,isPositioned:J.current!==!1};fe.current&&!kh(P.current,ge)&&(P.current=ge,Zu.flushSync(()=>{m(ge)}))})},[v,t,n,K,J]);fh(()=>{f===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,m(W=>({...W,isPositioned:!1})))},[f]);const fe=h.useRef(!1);fh(()=>(fe.current=!0,()=>{fe.current=!1}),[]),fh(()=>{if(N&&(M.current=N),k&&(B.current=k),N&&k){if(U.current)return U.current(N,k,te);te()}},[N,k,te,U,_]);const Ee=h.useMemo(()=>({reference:M,floating:B,setReference:D,setFloating:T}),[D,T]),Y=h.useMemo(()=>({reference:N,floating:k}),[N,k]),V=h.useMemo(()=>{const W={position:n,left:0,top:0};if(!Y.floating)return W;const ce=WC(Y.floating,g.x),ge=WC(Y.floating,g.y);return l?{...W,transform:"translate("+ce+"px, "+ge+"px)",...KA(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ce,top:ge}},[n,l,Y.floating,g.x,g.y]);return h.useMemo(()=>({...g,update:te,refs:Ee,elements:Y,floatingStyles:V}),[g,te,Ee,Y,V])}const Uz=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?YC({element:r.current,padding:i}).fn(n):{}:r?YC({element:r,padding:i}).fn(n):{}}}},Hz=(e,t)=>({...Mz(e),options:[e,t]}),Gz=(e,t)=>({...Nz(e),options:[e,t]}),jz=(e,t)=>({...Fz(e),options:[e,t]}),Kz=(e,t)=>({...Pz(e),options:[e,t]}),Yz=(e,t)=>({...Oz(e),options:[e,t]}),Wz=(e,t)=>({...Lz(e),options:[e,t]}),Zz=(e,t)=>({...Uz(e),options:[e,t]});var Xz="Arrow",YA=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return he.jsx(Tn.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:he.jsx("polygon",{points:"0,0 30,0 15,10"})})});YA.displayName=Xz;var Jz=YA;function qz(e){const[t,n]=h.useState(void 0);return so(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let u,l;if("borderBoxSize"in o){const c=o.borderBoxSize,f=Array.isArray(c)?c[0]:c;u=f.inlineSize,l=f.blockSize}else u=e.offsetWidth,l=e.offsetHeight;n({width:u,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var U4="Popper",[WA,ff]=od(U4),[Qz,ZA]=WA(U4),XA=e=>{const{__scopePopper:t,children:n}=e,[r,i]=h.useState(null);return he.jsx(Qz,{scope:t,anchor:r,onAnchorChange:i,children:n})};XA.displayName=U4;var JA="PopperAnchor",qA=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=ZA(JA,n),u=h.useRef(null),l=$n(t,u),c=h.useRef(null);return h.useEffect(()=>{const f=c.current;c.current=r?.current||u.current,f!==c.current&&o.onAnchorChange(c.current)}),r?null:he.jsx(Tn.div,{...i,ref:l})});qA.displayName=JA;var H4="PopperContent",[eV,tV]=WA(H4),QA=h.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:u=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:f=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:b,...C}=e,A=ZA(H4,n),[x,D]=h.useState(null),T=$n(t,Ne=>D(Ne)),[N,k]=h.useState(null),M=qz(N),B=M?.width??0,P=M?.height??0,_=r+(o!=="center"?"-"+o:""),U=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},K=Array.isArray(f)?f:[f],J=K.length>0,te={padding:U,boundary:K.filter(rV),altBoundary:J},{refs:fe,floatingStyles:Ee,placement:Y,isPositioned:V,middlewareData:W}=Vz({strategy:"fixed",placement:_,whileElementsMounted:(...Ne)=>kz(...Ne,{animationFrame:y==="always"}),elements:{reference:A.anchor},middleware:[Hz({mainAxis:i+P,alignmentAxis:u}),c&&Gz({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?jz():void 0,...te}),c&&Kz({...te}),Yz({...te,apply:({elements:Ne,rects:He,availableWidth:rt,availableHeight:Zt})=>{const{width:Bn,height:zn}=He.reference,Sn=Ne.floating.style;Sn.setProperty("--radix-popper-available-width",`${rt}px`),Sn.setProperty("--radix-popper-available-height",`${Zt}px`),Sn.setProperty("--radix-popper-anchor-width",`${Bn}px`),Sn.setProperty("--radix-popper-anchor-height",`${zn}px`)}}),N&&Zz({element:N,padding:l}),iV({arrowWidth:B,arrowHeight:P}),v&&Wz({strategy:"referenceHidden",...te})]}),[ce,ge]=nw(Y),z=Tu(b);so(()=>{V&&z?.()},[V,z]);const ee=W.arrow?.x,de=W.arrow?.y,me=W.arrow?.centerOffset!==0,[Se,Ae]=h.useState();return so(()=>{x&&Ae(window.getComputedStyle(x).zIndex)},[x]),he.jsx("div",{ref:fe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ee,transform:V?Ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:he.jsx(eV,{scope:n,placedSide:ce,onArrowChange:k,arrowX:ee,arrowY:de,shouldHideArrow:me,children:he.jsx(Tn.div,{"data-side":ce,"data-align":ge,...C,ref:T,style:{...C.style,animation:V?void 0:"none"}})})})});QA.displayName=H4;var ew="PopperArrow",nV={top:"bottom",right:"left",bottom:"top",left:"right"},tw=h.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=tV(ew,r),u=nV[o.placedSide];return he.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:he.jsx(Jz,{...i,ref:n,style:{...i.style,display:"block"}})})});tw.displayName=ew;function rV(e){return e!==null}var iV=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,u=i.arrow?.centerOffset!==0,l=u?0:e.arrowWidth,c=u?0:e.arrowHeight,[f,g]=nw(n),m={start:"0%",center:"50%",end:"100%"}[g],v=(i.arrow?.x??0)+l/2,y=(i.arrow?.y??0)+c/2;let b="",C="";return f==="bottom"?(b=u?m:`${v}px`,C=`${-c}px`):f==="top"?(b=u?m:`${v}px`,C=`${r.floating.height+c}px`):f==="right"?(b=`${-c}px`,C=u?m:`${y}px`):f==="left"&&(b=`${r.floating.width+c}px`,C=u?m:`${y}px`),{data:{x:b,y:C}}}});function nw(e){const[t,n="center"]=e.split("-");return[t,n]}var rw=XA,G4=qA,iw=QA,aw=tw,aV="Portal",ow=h.forwardRef((e,t)=>{const{container:n,...r}=e,[i,o]=h.useState(!1);so(()=>o(!0),[]);const u=n||i&&globalThis?.document?.body;return u?u6.createPortal(he.jsx(Tn.div,{...r,ref:t}),u):null});ow.displayName=aV;function oV(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var tl=e=>{const{present:t,children:n}=e,r=sV(t),i=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=$n(r.ref,uV(i));return typeof n=="function"||r.isPresent?h.cloneElement(i,{ref:o}):null};tl.displayName="Presence";function sV(e){const[t,n]=h.useState(),r=h.useRef(null),i=h.useRef(e),o=h.useRef("none"),u=e?"mounted":"unmounted",[l,c]=oV(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const f=G0(r.current);o.current=l==="mounted"?f:"none"},[l]),so(()=>{const f=r.current,g=i.current;if(g!==e){const v=o.current,y=G0(f);e?c("MOUNT"):y==="none"||f?.display==="none"?c("UNMOUNT"):c(g&&v!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),so(()=>{if(t){let f;const g=t.ownerDocument.defaultView??window,m=y=>{const C=G0(r.current).includes(CSS.escape(y.animationName));if(y.target===t&&C&&(c("ANIMATION_END"),!i.current)){const A=t.style.animationFillMode;t.style.animationFillMode="forwards",f=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=A)})}},v=y=>{y.target===t&&(o.current=G0(r.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{g.clearTimeout(f),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function G0(e){return e?.animationName||"none"}function uV(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var lV=u4[" useInsertionEffect ".trim().toString()]||so;function j4({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,o,u]=cV({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const g=h.useRef(e!==void 0);h.useEffect(()=>{const m=g.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=l},[l,r])}const f=h.useCallback(g=>{if(l){const m=dV(g)?g(e):g;m!==e&&u.current?.(m)}else o(g)},[l,e,o,u]);return[c,f]}function cV({defaultProp:e,onChange:t}){const[n,r]=h.useState(e),i=h.useRef(n),o=h.useRef(t);return lV(()=>{o.current=t},[t]),h.useEffect(()=>{i.current!==n&&(o.current?.(n),i.current=n)},[n,i]),[n,r,o]}function dV(e){return typeof e=="function"}var hV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),fV="VisuallyHidden",sw=h.forwardRef((e,t)=>he.jsx(Tn.span,{...e,ref:t,style:{...hV,...e.style}}));sw.displayName=fV;var pV=sw,[pf]=od("Tooltip",[ff]),gf=ff(),uw="TooltipProvider",gV=700,O1="tooltip.open",[mV,K4]=pf(uw),lw=e=>{const{__scopeTooltip:t,delayDuration:n=gV,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,u=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const f=c.current;return()=>window.clearTimeout(f)},[]),he.jsx(mV,{scope:t,isOpenDelayedRef:u,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),u.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>u.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(f=>{l.current=f},[]),disableHoverableContent:i,children:o})};lw.displayName=uw;var Pc="Tooltip",[vV,mf]=pf(Pc),cw=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:o,disableHoverableContent:u,delayDuration:l}=e,c=K4(Pc,e.__scopeTooltip),f=gf(t),[g,m]=h.useState(null),v=mc(),y=h.useRef(0),b=u??c.disableHoverableContent,C=l??c.delayDuration,A=h.useRef(!1),[x,D]=j4({prop:r,defaultProp:i??!1,onChange:B=>{B?(c.onOpen(),document.dispatchEvent(new CustomEvent(O1))):c.onClose(),o?.(B)},caller:Pc}),T=h.useMemo(()=>x?A.current?"delayed-open":"instant-open":"closed",[x]),N=h.useCallback(()=>{window.clearTimeout(y.current),y.current=0,A.current=!1,D(!0)},[D]),k=h.useCallback(()=>{window.clearTimeout(y.current),y.current=0,D(!1)},[D]),M=h.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{A.current=!0,D(!0),y.current=0},C)},[C,D]);return h.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),he.jsx(rw,{...f,children:he.jsx(vV,{scope:t,contentId:v,open:x,stateAttribute:T,trigger:g,onTriggerChange:m,onTriggerEnter:h.useCallback(()=>{c.isOpenDelayedRef.current?M():N()},[c.isOpenDelayedRef,M,N]),onTriggerLeave:h.useCallback(()=>{b?k():(window.clearTimeout(y.current),y.current=0)},[k,b]),onOpen:N,onClose:k,disableHoverableContent:b,children:n})})};cw.displayName=Pc;var L1="TooltipTrigger",dw=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=mf(L1,n),o=K4(L1,n),u=gf(n),l=h.useRef(null),c=$n(t,l,i.onTriggerChange),f=h.useRef(!1),g=h.useRef(!1),m=h.useCallback(()=>f.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),he.jsx(G4,{asChild:!0,...u,children:he.jsx(Tn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:rn(e.onPointerMove,v=>{v.pointerType!=="touch"&&!g.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:rn(e.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:rn(e.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:rn(e.onFocus,()=>{f.current||i.onOpen()}),onBlur:rn(e.onBlur,i.onClose),onClick:rn(e.onClick,i.onClose)})})});dw.displayName=L1;var yV="TooltipPortal",[GOe,EV]=pf(yV,{forceMount:void 0}),Bu="TooltipContent",hw=h.forwardRef((e,t)=>{const n=EV(Bu,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,u=mf(Bu,e.__scopeTooltip);return he.jsx(tl,{present:r||u.open,children:u.disableHoverableContent?he.jsx(fw,{side:i,...o,ref:t}):he.jsx(bV,{side:i,...o,ref:t})})}),bV=h.forwardRef((e,t)=>{const n=mf(Bu,e.__scopeTooltip),r=K4(Bu,e.__scopeTooltip),i=h.useRef(null),o=$n(t,i),[u,l]=h.useState(null),{trigger:c,onClose:f}=n,g=i.current,{onPointerInTransitChange:m}=r,v=h.useCallback(()=>{l(null),m(!1)},[m]),y=h.useCallback((b,C)=>{const A=b.currentTarget,x={x:b.clientX,y:b.clientY},D=wV(x,A.getBoundingClientRect()),T=xV(x,D),N=DV(C.getBoundingClientRect()),k=TV([...T,...N]);l(k),m(!0)},[m]);return h.useEffect(()=>()=>v(),[v]),h.useEffect(()=>{if(c&&g){const b=A=>y(A,g),C=A=>y(A,c);return c.addEventListener("pointerleave",b),g.addEventListener("pointerleave",C),()=>{c.removeEventListener("pointerleave",b),g.removeEventListener("pointerleave",C)}}},[c,g,y,v]),h.useEffect(()=>{if(u){const b=C=>{const A=C.target,x={x:C.clientX,y:C.clientY},D=c?.contains(A)||g?.contains(A),T=!IV(x,u);D?v():T&&(v(),f())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,g,u,f,v]),he.jsx(fw,{...e,ref:o})}),[CV,SV]=pf(Pc,{isInside:!1}),AV=NA("TooltipContent"),fw=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:u,...l}=e,c=mf(Bu,n),f=gf(n),{onClose:g}=c;return h.useEffect(()=>(document.addEventListener(O1,g),()=>document.removeEventListener(O1,g)),[g]),h.useEffect(()=>{if(c.trigger){const m=v=>{v.target?.contains(c.trigger)&&g()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,g]),he.jsx(uf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:m=>m.preventDefault(),onDismiss:g,children:he.jsxs(iw,{"data-state":c.stateAttribute,...f,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[he.jsx(AV,{children:r}),he.jsx(CV,{scope:n,isInside:!0,children:he.jsx(pV,{id:c.contentId,role:"tooltip",children:i||r})})]})})});hw.displayName=Bu;var pw="TooltipArrow",gw=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=gf(n);return SV(pw,n).isInside?null:he.jsx(aw,{...i,...r,ref:t})});gw.displayName=pw;function wV(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function xV(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function DV(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function IV(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,u=t.length-1;o<t.length;u=o++){const l=t[o],c=t[u],f=l.x,g=l.y,m=c.x,v=c.y;g>r!=v>r&&n<(m-f)*(r-g)/(v-g)+f&&(i=!i)}return i}function TV(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),RV(t)}function RV(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],u=t[t.length-2];if((o.x-u.x)*(i.y-u.y)>=(o.y-u.y)*(i.x-u.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],u=n[n.length-2];if((o.x-u.x)*(i.y-u.y)>=(o.y-u.y)*(i.x-u.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var BV=lw,kV=cw,MV=dw,NV=hw,PV=gw,Am=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function wm(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function mw(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function vw(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function OV(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,i=!0,o=0;o<n.length;o++)r.indexOf(n[o])===-1&&(i=!1);return i}var Y4={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":Am?173:189,"=":Am?61:187,";":Am?59:186,"'":222,"[":219,"]":221,"\\":220},co={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},F1={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},yn={16:!1,18:!1,17:!1,91:!1},nn={};for(var j0=1;j0<20;j0++)Y4["f".concat(j0)]=111+j0;var Nt=[],ZC=!1,yw="all",Ew=[],vf=function(t){return Y4[t.toLowerCase()]||co[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function bw(e){yw=e||"all"}function Oc(){return yw||"all"}function LV(){return Nt.slice(0)}function FV(e){var t=e.target||e.srcElement,n=t.tagName,r=!0;return(t.isContentEditable||(n==="INPUT"||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(r=!1),r}function _V(e){return typeof e=="string"&&(e=vf(e)),Nt.indexOf(e)!==-1}function $V(e,t){var n,r;e||(e=Oc());for(var i in nn)if(Object.prototype.hasOwnProperty.call(nn,i))for(n=nn[i],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++;Oc()===e&&bw(t||"all")}function zV(e){var t=e.keyCode||e.which||e.charCode,n=Nt.indexOf(t);if(n>=0&&Nt.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&Nt.splice(0,Nt.length),(t===93||t===224)&&(t=91),t in yn){yn[t]=!1;for(var r in co)co[r]===t&&(pr[r]=!1)}}function VV(e){if(typeof e>"u")Object.keys(nn).forEach(function(u){return delete nn[u]});else if(Array.isArray(e))e.forEach(function(u){u.key&&xm(u)});else if(typeof e=="object")e.key&&xm(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0],o=n[1];typeof i=="function"&&(o=i,i=""),xm({key:e,scope:i,method:o,splitKey:"+"})}}var xm=function(t){var n=t.key,r=t.scope,i=t.method,o=t.splitKey,u=o===void 0?"+":o,l=vw(n);l.forEach(function(c){var f=c.split(u),g=f.length,m=f[g-1],v=m==="*"?"*":vf(m);if(nn[v]){r||(r=Oc());var y=g>1?mw(co,f):[];nn[v]=nn[v].filter(function(b){var C=i?b.method===i:!0;return!(C&&b.scope===r&&OV(b.mods,y))})}})};function XC(e,t,n,r){if(t.element===r){var i;if(t.scope===n||t.scope==="all"){i=t.mods.length>0;for(var o in yn)Object.prototype.hasOwnProperty.call(yn,o)&&(!yn[o]&&t.mods.indexOf(+o)>-1||yn[o]&&t.mods.indexOf(+o)===-1)&&(i=!1);(t.mods.length===0&&!yn[16]&&!yn[18]&&!yn[17]&&!yn[91]||i||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function JC(e,t){var n=nn["*"],r=e.keyCode||e.which||e.charCode;if(pr.filter.call(this,e)){if((r===93||r===224)&&(r=91),Nt.indexOf(r)===-1&&r!==229&&Nt.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(b){var C=F1[b];e[b]&&Nt.indexOf(C)===-1?Nt.push(C):!e[b]&&Nt.indexOf(C)>-1?Nt.splice(Nt.indexOf(C),1):b==="metaKey"&&e[b]&&Nt.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(Nt=Nt.slice(Nt.indexOf(C))))}),r in yn){yn[r]=!0;for(var i in co)co[i]===r&&(pr[i]=!0);if(!n)return}for(var o in yn)Object.prototype.hasOwnProperty.call(yn,o)&&(yn[o]=e[F1[o]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(Nt.indexOf(17)===-1&&Nt.push(17),Nt.indexOf(18)===-1&&Nt.push(18),yn[17]=!0,yn[18]=!0);var u=Oc();if(n)for(var l=0;l<n.length;l++)n[l].scope===u&&(e.type==="keydown"&&n[l].keydown||e.type==="keyup"&&n[l].keyup)&&XC(e,n[l],u,t);if(r in nn){for(var c=0;c<nn[r].length;c++)if((e.type==="keydown"&&nn[r][c].keydown||e.type==="keyup"&&nn[r][c].keyup)&&nn[r][c].key){for(var f=nn[r][c],g=f.splitKey,m=f.key.split(g),v=[],y=0;y<m.length;y++)v.push(vf(m[y]));v.sort().join("")===Nt.sort().join("")&&XC(e,f,u,t)}}}}function UV(e){return Ew.indexOf(e)>-1}function pr(e,t,n){Nt=[];var r=vw(e),i=[],o="all",u=document,l=0,c=!1,f=!0,g="+",m=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(o=t.scope),t.element&&(u=t.element),t.keyup&&(c=t.keyup),t.keydown!==void 0&&(f=t.keydown),t.capture!==void 0&&(m=t.capture),typeof t.splitKey=="string"&&(g=t.splitKey)),typeof t=="string"&&(o=t);l<r.length;l++)e=r[l].split(g),i=[],e.length>1&&(i=mw(co,e)),e=e[e.length-1],e=e==="*"?"*":vf(e),e in nn||(nn[e]=[]),nn[e].push({keyup:c,keydown:f,scope:o,mods:i,shortcut:r[l],method:n,key:r[l],splitKey:g,element:u});typeof u<"u"&&!UV(u)&&window&&(Ew.push(u),wm(u,"keydown",function(v){JC(v,u)},m),ZC||(ZC=!0,wm(window,"focus",function(){Nt=[]},m)),wm(u,"keyup",function(v){JC(v,u),zV(v)},m))}function HV(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(nn).forEach(function(n){var r=nn[n].find(function(i){return i.scope===t&&i.shortcut===e});r&&r.method&&r.method()})}var Dm={setScope:bw,getScope:Oc,deleteScope:$V,getPressedKeyCodes:LV,isPressed:_V,filter:FV,trigger:HV,unbind:VV,keyMap:Y4,modifier:co,modifierMap:F1};for(var Im in Dm)Object.prototype.hasOwnProperty.call(Dm,Im)&&(pr[Im]=Dm[Im]);if(typeof window<"u"){var GV=window.hotkeys;pr.noConflict=function(e){return e&&window.hotkeys===pr&&(window.hotkeys=GV),pr},window.hotkeys=pr}pr.filter=function(){return!0};var Cw=function(t,n){var r=t.target,i=r&&r.tagName;return!!(i&&n&&n.includes(i))},jV=function(t){return Cw(t,["INPUT","TEXTAREA","SELECT"])};function Pe(e,t,n,r){n instanceof Array&&(r=n,n=void 0);var i=n||{},o=i.enableOnTags,u=i.filter,l=i.keyup,c=i.keydown,f=i.filterPreventDefault,g=f===void 0?!0:f,m=i.enabled,v=m===void 0?!0:m,y=i.enableOnContentEditable,b=y===void 0?!1:y,C=h.useRef(null),A=h.useCallback(function(x,D){var T,N;return u&&!u(x)?!g:jV(x)&&!Cw(x,o)||(T=x.target)!=null&&T.isContentEditable&&!b?!0:C.current===null||document.activeElement===C.current||(N=C.current)!=null&&N.contains(document.activeElement)?(t(x,D),!0):!1},r?[C,o,u].concat(r):[C,o,u]);return h.useEffect(function(){if(!v){pr.unbind(e,A);return}return l&&c!==!0&&(n.keydown=!1),pr(e,n||{},A),function(){return pr.unbind(e,A)}},[A,e,v]),C}pr.isPressed;var Tm="focusScope.autoFocusOnMount",Rm="focusScope.autoFocusOnUnmount",qC={bubbles:!1,cancelable:!0},KV="FocusScope",W4=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...u}=e,[l,c]=h.useState(null),f=Tu(i),g=Tu(o),m=h.useRef(null),v=$n(t,C=>c(C)),y=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let C=function(T){if(y.paused||!l)return;const N=T.target;l.contains(N)?m.current=N:Za(m.current,{select:!0})},A=function(T){if(y.paused||!l)return;const N=T.relatedTarget;N!==null&&(l.contains(N)||Za(m.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(const k of T)k.removedNodes.length>0&&Za(l)};document.addEventListener("focusin",C),document.addEventListener("focusout",A);const D=new MutationObserver(x);return l&&D.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",A),D.disconnect()}}},[r,l,y.paused]),h.useEffect(()=>{if(l){e9.add(y);const C=document.activeElement;if(!l.contains(C)){const x=new CustomEvent(Tm,qC);l.addEventListener(Tm,f),l.dispatchEvent(x),x.defaultPrevented||(YV(qV(Sw(l)),{select:!0}),document.activeElement===C&&Za(l))}return()=>{l.removeEventListener(Tm,f),setTimeout(()=>{const x=new CustomEvent(Rm,qC);l.addEventListener(Rm,g),l.dispatchEvent(x),x.defaultPrevented||Za(C??document.body,{select:!0}),l.removeEventListener(Rm,g),e9.remove(y)},0)}}},[l,f,g,y]);const b=h.useCallback(C=>{if(!n&&!r||y.paused)return;const A=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,x=document.activeElement;if(A&&x){const D=C.currentTarget,[T,N]=WV(D);T&&N?!C.shiftKey&&x===N?(C.preventDefault(),n&&Za(T,{select:!0})):C.shiftKey&&x===T&&(C.preventDefault(),n&&Za(N,{select:!0})):x===D&&C.preventDefault()}},[n,r,y.paused]);return he.jsx(Tn.div,{tabIndex:-1,...u,ref:v,onKeyDown:b})});W4.displayName=KV;function YV(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Za(r,{select:t}),document.activeElement!==n)return}function WV(e){const t=Sw(e),n=QC(t,e),r=QC(t.reverse(),e);return[n,r]}function Sw(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function QC(e,t){for(const n of e)if(!ZV(n,{upTo:t}))return n}function ZV(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function XV(e){return e instanceof HTMLInputElement&&"select"in e}function Za(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&XV(e)&&t&&e.select()}}var e9=JV();function JV(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=t9(e,t),e.unshift(t)},remove(t){e=t9(e,t),e[0]?.resume()}}}function t9(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function qV(e){return e.filter(t=>t.tagName!=="A")}var Bm=0;function Aw(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??n9()),document.body.insertAdjacentElement("beforeend",e[1]??n9()),Bm++,()=>{Bm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Bm--}},[])}function n9(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ww=N6(),km=function(){},yf=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:km,onWheelCapture:km,onTouchMoveCapture:km}),i=r[0],o=r[1],u=e.forwardProps,l=e.children,c=e.className,f=e.removeScrollBar,g=e.enabled,m=e.shards,v=e.sideCar,y=e.noRelative,b=e.noIsolation,C=e.inert,A=e.allowPinchZoom,x=e.as,D=x===void 0?"div":x,T=e.gapMode,N=ca(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=v,M=M6([n,t]),B=Ce(Ce({},N),i);return h.createElement(h.Fragment,null,g&&h.createElement(k,{sideCar:ww,removeScrollBar:f,shards:m,noRelative:y,noIsolation:b,inert:C,setCallbacks:o,allowPinchZoom:!!A,lockRef:n,gapMode:T}),u?h.cloneElement(h.Children.only(l),Ce(Ce({},B),{ref:M})):h.createElement(D,Ce({},B,{className:c,ref:M}),l))});yf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yf.classNames={fullWidth:gc,zeroRight:pc};var _1=!1;if(typeof window<"u")try{var K0=Object.defineProperty({},"passive",{get:function(){return _1=!0,!0}});window.addEventListener("test",K0,K0),window.removeEventListener("test",K0,K0)}catch{_1=!1}var ou=_1?{passive:!1}:!1,QV=function(e){return e.tagName==="TEXTAREA"},xw=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!QV(e)&&n[t]==="visible")},eU=function(e){return xw(e,"overflowY")},tU=function(e){return xw(e,"overflowX")},r9=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Dw(e,r);if(i){var o=Iw(e,r),u=o[1],l=o[2];if(u>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},nU=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},rU=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Dw=function(e,t){return e==="v"?eU(t):tU(t)},Iw=function(e,t){return e==="v"?nU(t):rU(t)},iU=function(e,t){return e==="h"&&t==="rtl"?-1:1},aU=function(e,t,n,r,i){var o=iU(e,window.getComputedStyle(t).direction),u=o*r,l=n.target,c=t.contains(l),f=!1,g=u>0,m=0,v=0;do{if(!l)break;var y=Iw(e,l),b=y[0],C=y[1],A=y[2],x=C-A-o*b;(b||x)&&Dw(e,l)&&(m+=x,v+=b);var D=l.parentNode;l=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(g&&Math.abs(m)<1||!g&&Math.abs(v)<1)&&(f=!0),f},Y0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},i9=function(e){return[e.deltaX,e.deltaY]},a9=function(e){return e&&"current"in e?e.current:e},oU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},sU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},uU=0,su=[];function lU(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),i=h.useState(uU++)[0],o=h.useState(D4)[0],u=h.useRef(e);h.useEffect(function(){u.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var C=En([e.lockRef.current],(e.shards||[]).map(a9),!0).filter(Boolean);return C.forEach(function(A){return A.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),C.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(C,A){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!u.current.allowPinchZoom;var x=Y0(C),D=n.current,T="deltaX"in C?C.deltaX:D[0]-x[0],N="deltaY"in C?C.deltaY:D[1]-x[1],k,M=C.target,B=Math.abs(T)>Math.abs(N)?"h":"v";if("touches"in C&&B==="h"&&M.type==="range")return!1;var P=window.getSelection(),_=P&&P.anchorNode,U=_?_===M||_.contains(M):!1;if(U)return!1;var K=r9(B,M);if(!K)return!0;if(K?k=B:(k=B==="v"?"h":"v",K=r9(B,M)),!K)return!1;if(!r.current&&"changedTouches"in C&&(T||N)&&(r.current=k),!k)return!0;var J=r.current||k;return aU(J,A,C,J==="h"?T:N)},[]),c=h.useCallback(function(C){var A=C;if(!(!su.length||su[su.length-1]!==o)){var x="deltaY"in A?i9(A):Y0(A),D=t.current.filter(function(k){return k.name===A.type&&(k.target===A.target||A.target===k.shadowParent)&&oU(k.delta,x)})[0];if(D&&D.should){A.cancelable&&A.preventDefault();return}if(!D){var T=(u.current.shards||[]).map(a9).filter(Boolean).filter(function(k){return k.contains(A.target)}),N=T.length>0?l(A,T[0]):!u.current.noIsolation;N&&A.cancelable&&A.preventDefault()}}},[]),f=h.useCallback(function(C,A,x,D){var T={name:C,delta:A,target:x,should:D,shadowParent:cU(x)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(N){return N!==T})},1)},[]),g=h.useCallback(function(C){n.current=Y0(C),r.current=void 0},[]),m=h.useCallback(function(C){f(C.type,i9(C),C.target,l(C,e.lockRef.current))},[]),v=h.useCallback(function(C){f(C.type,Y0(C),C.target,l(C,e.lockRef.current))},[]);h.useEffect(function(){return su.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",c,ou),document.addEventListener("touchmove",c,ou),document.addEventListener("touchstart",g,ou),function(){su=su.filter(function(C){return C!==o}),document.removeEventListener("wheel",c,ou),document.removeEventListener("touchmove",c,ou),document.removeEventListener("touchstart",g,ou)}},[]);var y=e.removeScrollBar,b=e.inert;return h.createElement(h.Fragment,null,b?h.createElement(o,{styles:sU(i)}):null,y?h.createElement(F6,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function cU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const dU=O6(ww,lU);var Z4=h.forwardRef(function(e,t){return h.createElement(yf,Ce({},e,{ref:t,sideCar:dU}))});Z4.classNames=yf.classNames;var Ef="Dialog",[Tw,Rw]=od(Ef),[hU,di]=Tw(Ef),Bw=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:u=!0}=e,l=h.useRef(null),c=h.useRef(null),[f,g]=j4({prop:r,defaultProp:i??!1,onChange:o,caller:Ef});return he.jsx(hU,{scope:t,triggerRef:l,contentRef:c,contentId:mc(),titleId:mc(),descriptionId:mc(),open:f,onOpenChange:g,onOpenToggle:h.useCallback(()=>g(m=>!m),[g]),modal:u,children:n})};Bw.displayName=Ef;var kw="DialogTrigger",Mw=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=di(kw,n),o=$n(t,i.triggerRef);return he.jsx(Tn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":q4(i.open),...r,ref:o,onClick:rn(e.onClick,i.onOpenToggle)})});Mw.displayName=kw;var X4="DialogPortal",[fU,Nw]=Tw(X4,{forceMount:void 0}),Pw=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=di(X4,t);return he.jsx(fU,{scope:t,forceMount:n,children:h.Children.map(r,u=>he.jsx(tl,{present:n||o.open,children:he.jsx(ow,{asChild:!0,container:i,children:u})}))})};Pw.displayName=X4;var Mh="DialogOverlay",Ow=h.forwardRef((e,t)=>{const n=Nw(Mh,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=di(Mh,e.__scopeDialog);return o.modal?he.jsx(tl,{present:r||o.open,children:he.jsx(gU,{...i,ref:t})}):null});Ow.displayName=Mh;var pU=O4("DialogOverlay.RemoveScroll"),gU=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=di(Mh,n);return he.jsx(Z4,{as:pU,allowPinchZoom:!0,shards:[i.contentRef],children:he.jsx(Tn.div,{"data-state":q4(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),rs="DialogContent",Lw=h.forwardRef((e,t)=>{const n=Nw(rs,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=di(rs,e.__scopeDialog);return he.jsx(tl,{present:r||o.open,children:o.modal?he.jsx(mU,{...i,ref:t}):he.jsx(vU,{...i,ref:t})})});Lw.displayName=rs;var mU=h.forwardRef((e,t)=>{const n=di(rs,e.__scopeDialog),r=h.useRef(null),i=$n(t,n.contentRef,r);return h.useEffect(()=>{const o=r.current;if(o)return x4(o)},[]),he.jsx(Fw,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rn(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:rn(e.onPointerDownOutside,o=>{const u=o.detail.originalEvent,l=u.button===0&&u.ctrlKey===!0;(u.button===2||l)&&o.preventDefault()}),onFocusOutside:rn(e.onFocusOutside,o=>o.preventDefault())})}),vU=h.forwardRef((e,t)=>{const n=di(rs,e.__scopeDialog),r=h.useRef(!1),i=h.useRef(!1);return he.jsx(Fw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=o.target;n.triggerRef.current?.contains(u)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Fw=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...u}=e,l=di(rs,n),c=h.useRef(null),f=$n(t,c);return Aw(),he.jsxs(he.Fragment,{children:[he.jsx(W4,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:he.jsx(uf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":q4(l.open),...u,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),he.jsxs(he.Fragment,{children:[he.jsx(EU,{titleId:l.titleId}),he.jsx(CU,{contentRef:c,descriptionId:l.descriptionId})]})]})}),J4="DialogTitle",_w=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=di(J4,n);return he.jsx(Tn.h2,{id:i.titleId,...r,ref:t})});_w.displayName=J4;var $w="DialogDescription",zw=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=di($w,n);return he.jsx(Tn.p,{id:i.descriptionId,...r,ref:t})});zw.displayName=$w;var Vw="DialogClose",Uw=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=di(Vw,n);return he.jsx(Tn.button,{type:"button",...r,ref:t,onClick:rn(e.onClick,()=>i.onOpenChange(!1))})});Uw.displayName=Vw;function q4(e){return e?"open":"closed"}var Hw="DialogTitleWarning",[yU,Gw]=S$(Hw,{contentName:rs,titleName:J4,docsSlug:"dialog"}),EU=({titleId:e})=>{const t=Gw(Hw),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},bU="DialogDescriptionWarning",CU=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Gw(bU).contentName}}.`;return h.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},jw=Bw,Kw=Mw,Yw=Pw,Ww=Ow,Zw=Lw,Xw=_w,SU=zw,Q4=Uw,Jw="AlertDialog",[AU]=od(Jw,[Rw]),ya=Rw(),qw=e=>{const{__scopeAlertDialog:t,...n}=e,r=ya(t);return he.jsx(jw,{...r,...n,modal:!0})};qw.displayName=Jw;var wU="AlertDialogTrigger",Qw=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ya(n);return he.jsx(Kw,{...i,...r,ref:t})});Qw.displayName=wU;var xU="AlertDialogPortal",ex=e=>{const{__scopeAlertDialog:t,...n}=e,r=ya(t);return he.jsx(Yw,{...r,...n})};ex.displayName=xU;var DU="AlertDialogOverlay",tx=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ya(n);return he.jsx(Ww,{...i,...r,ref:t})});tx.displayName=DU;var Su="AlertDialogContent",[IU,TU]=AU(Su),RU=NA("AlertDialogContent"),nx=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,o=ya(n),u=h.useRef(null),l=$n(t,u),c=h.useRef(null);return he.jsx(yU,{contentName:Su,titleName:rx,docsSlug:"alert-dialog",children:he.jsx(IU,{scope:n,cancelRef:c,children:he.jsxs(Zw,{role:"alertdialog",...o,...i,ref:l,onOpenAutoFocus:rn(i.onOpenAutoFocus,f=>{f.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[he.jsx(RU,{children:r}),he.jsx(MU,{contentRef:u})]})})})});nx.displayName=Su;var rx="AlertDialogTitle",BU=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ya(n);return he.jsx(Xw,{...i,...r,ref:t})});BU.displayName=rx;var ix="AlertDialogDescription",ax=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ya(n);return he.jsx(SU,{...i,...r,ref:t})});ax.displayName=ix;var kU="AlertDialogAction",ox=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=ya(n);return he.jsx(Q4,{...i,...r,ref:t})});ox.displayName=kU;var sx="AlertDialogCancel",ux=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=TU(sx,n),o=ya(n),u=$n(t,i);return he.jsx(Q4,{...o,...r,ref:u})});ux.displayName=sx;var MU=({contentRef:e})=>{const t=`\`${Su}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Su}\` by passing a \`${ix}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Su}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},e2=qw,NU=Qw,t2=ex,bf=tx,n2=nx,Nh=ox,lx=ux,PU=ax,Cf="Popover",[cx]=od(Cf,[ff]),ud=ff(),[OU,ds]=cx(Cf),dx=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:u=!1}=e,l=ud(t),c=h.useRef(null),[f,g]=h.useState(!1),[m,v]=j4({prop:r,defaultProp:i??!1,onChange:o,caller:Cf});return he.jsx(rw,{...l,children:he.jsx(OU,{scope:t,contentId:mc(),triggerRef:c,open:m,onOpenChange:v,onOpenToggle:h.useCallback(()=>v(y=>!y),[v]),hasCustomAnchor:f,onCustomAnchorAdd:h.useCallback(()=>g(!0),[]),onCustomAnchorRemove:h.useCallback(()=>g(!1),[]),modal:u,children:n})})};dx.displayName=Cf;var hx="PopoverAnchor",fx=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ds(hx,n),o=ud(n),{onCustomAnchorAdd:u,onCustomAnchorRemove:l}=i;return h.useEffect(()=>(u(),()=>l()),[u,l]),he.jsx(G4,{...o,...r,ref:t})});fx.displayName=hx;var px="PopoverTrigger",gx=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ds(px,n),o=ud(n),u=$n(t,i.triggerRef),l=he.jsx(Tn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ex(i.open),...r,ref:u,onClick:rn(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:he.jsx(G4,{asChild:!0,...o,children:l})});gx.displayName=px;var LU="PopoverPortal",[jOe,FU]=cx(LU,{forceMount:void 0}),ku="PopoverContent",mx=h.forwardRef((e,t)=>{const n=FU(ku,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=ds(ku,e.__scopePopover);return he.jsx(tl,{present:r||o.open,children:o.modal?he.jsx($U,{...i,ref:t}):he.jsx(zU,{...i,ref:t})})});mx.displayName=ku;var _U=O4("PopoverContent.RemoveScroll"),$U=h.forwardRef((e,t)=>{const n=ds(ku,e.__scopePopover),r=h.useRef(null),i=$n(t,r),o=h.useRef(!1);return h.useEffect(()=>{const u=r.current;if(u)return x4(u)},[]),he.jsx(Z4,{as:_U,allowPinchZoom:!0,children:he.jsx(vx,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rn(e.onCloseAutoFocus,u=>{u.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:rn(e.onPointerDownOutside,u=>{const l=u.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,f=l.button===2||c;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:rn(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),zU=h.forwardRef((e,t)=>{const n=ds(ku,e.__scopePopover),r=h.useRef(!1),i=h.useRef(!1);return he.jsx(vx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=o.target;n.triggerRef.current?.contains(u)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),vx=h.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:f,onInteractOutside:g,...m}=e,v=ds(ku,n),y=ud(n);return Aw(),he.jsx(W4,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:he.jsx(uf,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:g,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:f,onDismiss:()=>v.onOpenChange(!1),children:he.jsx(iw,{"data-state":Ex(v.open),role:"dialog",id:v.contentId,...y,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),yx="PopoverClose",VU=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ds(yx,n);return he.jsx(Tn.button,{type:"button",...r,ref:t,onClick:rn(e.onClick,()=>i.onOpenChange(!1))})});VU.displayName=yx;var UU="PopoverArrow",HU=h.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ud(n);return he.jsx(aw,{...i,...r,ref:t})});HU.displayName=UU;function Ex(e){return e?"open":"closed"}var GU=dx,jU=fx,KU=gx,YU=mx;const nl=(()=>{if(typeof self>"u")return!1;if(!("top"in self&&self!==top)){if("showOpenFilePicker"in self)return"showOpenFilePicker"}return!1})(),WU=nl?Promise.resolve().then(function(){return QU}):Promise.resolve().then(function(){return nH});async function r2(...e){return(await WU).default(...e)}const ZU=nl?Promise.resolve().then(function(){return eH}):Promise.resolve().then(function(){return rH});async function XU(...e){return(await ZU).default(...e)}const JU=nl?Promise.resolve().then(function(){return tH}):Promise.resolve().then(function(){return iH});async function bx(...e){return(await JU).default(...e)}const qU=async e=>{const t=await e.getFile();return t.handle=e,t};var Cx=async(e=[{}])=>{Array.isArray(e)||(e=[e]);const t=[];e.forEach((i,o)=>{t[o]={description:i.description||"Files",accept:{}},i.mimeTypes?i.mimeTypes.map(u=>{t[o].accept[u]=i.extensions||[]}):t[o].accept["*/*"]=i.extensions||[]});const n=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:t,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(qU));return e[0].multiple?r:r[0]},QU={__proto__:null,default:Cx};function ph(e){function t(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var r=n.done;return Promise.resolve(n.value).then(function(i){return{value:i,done:r}})}return ph=function(n){this.s=n,this.n=n.next},ph.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(n){var r=this.s.return;return r===void 0?Promise.resolve({value:n,done:!0}):t(r.apply(this.s,arguments))},throw:function(n){var r=this.s.return;return r===void 0?Promise.reject(n):t(r.apply(this.s,arguments))}},new ph(e)}const Sx=async(e,t,n=e.name,r)=>{const i=[],o=[];var u,l=!1,c=!1;try{for(var f,g=(function(m){var v,y,b,C=2;for(typeof Symbol<"u"&&(y=Symbol.asyncIterator,b=Symbol.iterator);C--;){if(y&&(v=m[y])!=null)return v.call(m);if(b&&(v=m[b])!=null)return new ph(v.call(m));y="@@asyncIterator",b="@@iterator"}throw new TypeError("Object is not async iterable")})(e.values());l=!(f=await g.next()).done;l=!1){const m=f.value,v=`${n}/${m.name}`;m.kind==="file"?o.push(m.getFile().then(y=>(y.directoryHandle=e,y.handle=m,Object.defineProperty(y,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>v})))):m.kind!=="directory"||!t||r&&r(m)||i.push(Sx(m,t,v,r))}}catch(m){c=!0,u=m}finally{try{l&&g.return!=null&&await g.return()}finally{if(c)throw u}}return[...(await Promise.all(i)).flat(),...await Promise.all(o)]};var Ax=async(e={})=>{e.recursive=e.recursive||!1,e.mode=e.mode||"read";const t=await window.showDirectoryPicker({id:e.id,startIn:e.startIn,mode:e.mode});return Sx(t,e.recursive,void 0,e.skipDirectory)},eH={__proto__:null,default:Ax},wx=async(e,t=[{}],n=null,r=!1,i=null)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled";const o=[];let u=null;if(e instanceof Blob&&e.type?u=e.type:e.headers&&e.headers.get("content-type")&&(u=e.headers.get("content-type")),t.forEach((f,g)=>{o[g]={description:f.description||"Files",accept:{}},f.mimeTypes?(g===0&&u&&f.mimeTypes.push(u),f.mimeTypes.map(m=>{o[g].accept[m]=f.extensions||[]})):u?o[g].accept[u]=f.extensions||[]:o[g].accept["*/*"]=f.extensions||[]}),n)try{await n.getFile()}catch(f){if(n=null,r)throw f}const l=n||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:o,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!n&&i&&i(l);const c=await l.createWritable();return"stream"in e?(await e.stream().pipeTo(c),l):"body"in e?(await e.body.pipeTo(c),l):(await c.write(await e),await c.close(),l)},tH={__proto__:null,default:wx},xx=async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise((t,n)=>{const r=document.createElement("input");r.type="file";const i=[...e.map(c=>c.mimeTypes||[]),...e.map(c=>c.extensions||[])].join();r.multiple=e[0].multiple||!1,r.accept=i||"",r.style.display="none",document.body.append(r);const o=c=>{typeof u=="function"&&u(),t(c)},u=e[0].legacySetup&&e[0].legacySetup(o,()=>u(n),r),l=()=>{window.removeEventListener("focus",l),r.remove()};r.addEventListener("click",()=>{window.addEventListener("focus",l)}),r.addEventListener("change",()=>{window.removeEventListener("focus",l),r.remove(),o(r.multiple?Array.from(r.files):r.files[0])}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),nH={__proto__:null,default:xx},Dx=async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise((t,n)=>{const r=document.createElement("input");r.type="file",r.webkitdirectory=!0;const i=u=>{typeof o=="function"&&o(),t(u)},o=e[0].legacySetup&&e[0].legacySetup(i,()=>o(n),r);r.addEventListener("change",()=>{let u=Array.from(r.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(u=u.filter(l=>l.webkitRelativePath.split("/").every(c=>!e[0].skipDirectory({name:c,kind:"directory"})))):u=u.filter(l=>l.webkitRelativePath.split("/").length===2),i(u)}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),rH={__proto__:null,default:Dx},Ix=async(e,t={})=>{Array.isArray(t)&&(t=t[0]);const n=document.createElement("a");let r=e;"body"in e&&(r=await(async function(u,l){const c=u.getReader(),f=new ReadableStream({start:v=>(async function y(){return c.read().then(({done:b,value:C})=>{if(!b)return v.enqueue(C),y();v.close()})})()}),g=new Response(f),m=await g.blob();return c.releaseLock(),new Blob([m],{type:l})})(e.body,e.headers.get("content-type"))),n.download=t.fileName||"Untitled",n.href=URL.createObjectURL(await r);const i=()=>{typeof o=="function"&&o()},o=t.legacySetup&&t.legacySetup(i,()=>o(),n);return n.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),3e4),i()}),n.click(),null},iH={__proto__:null,default:Ix};const aH=Object.freeze(Object.defineProperty({__proto__:null,directoryOpen:XU,directoryOpenLegacy:Dx,directoryOpenModern:Ax,fileOpen:r2,fileOpenLegacy:xx,fileOpenModern:Cx,fileSave:bx,fileSaveLegacy:Ix,fileSaveModern:wx,supported:nl},Symbol.toStringTag,{value:"Module"}));function i2(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function oH(e,t){let n;const r=()=>{if(n)return n;const i=indexedDB.open(e);return i.onupgradeneeded=()=>i.result.createObjectStore(t),n=i2(i),n.then(o=>{o.onclose=()=>n=void 0},()=>{}),n};return(i,o)=>r().then(u=>o(u.transaction(t,i).objectStore(t)))}let Mm;function Tx(){return Mm||(Mm=oH("keyval-store","keyval")),Mm}function Ph(e,t=Tx()){return t("readonly",n=>i2(n.get(e)))}function vc(e,t,n=Tx()){return n("readwrite",r=>(r.put(t,e),i2(r.transaction)))}const Rx={},o9=e=>{let t;const n=new Set,r=(g,m)=>{const v=typeof g=="function"?g(t):g;if(!Object.is(v,t)){const y=t;t=m??(typeof v!="object"||v===null)?v:Object.assign({},t,v),n.forEach(b=>b(t,y))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>f,subscribe:g=>(n.add(g),()=>n.delete(g)),destroy:()=>{(Rx?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,i,c);return c},Bx=e=>e?o9(e):o9;var sH=e=>((Rx?"production":void 0)!=="production"&&console.warn("[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'."),Bx(e)),Nm={exports:{}},Pm={},Om={exports:{}},Lm={};var s9;function uH(){if(s9)return Lm;s9=1;var e=Wc();function t(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function l(m,v){var y=v(),b=r({inst:{value:y,getSnapshot:v}}),C=b[0].inst,A=b[1];return o(function(){C.value=y,C.getSnapshot=v,c(C)&&A({inst:C})},[m,y,v]),i(function(){return c(C)&&A({inst:C}),m(function(){c(C)&&A({inst:C})})},[m]),u(y),y}function c(m){var v=m.getSnapshot;m=m.value;try{var y=v();return!n(m,y)}catch{return!0}}function f(m,v){return v()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return Lm.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,Lm}var u9;function lH(){return u9||(u9=1,Om.exports=uH()),Om.exports}var l9;function cH(){if(l9)return Pm;l9=1;var e=Wc(),t=lH();function n(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,u=e.useEffect,l=e.useMemo,c=e.useDebugValue;return Pm.useSyncExternalStoreWithSelector=function(f,g,m,v,y){var b=o(null);if(b.current===null){var C={hasValue:!1,value:null};b.current=C}else C=b.current;b=l(function(){function x(M){if(!D){if(D=!0,T=M,M=v(M),y!==void 0&&C.hasValue){var B=C.value;if(y(B,M))return N=B}return N=M}if(B=N,r(T,M))return B;var P=v(M);return y!==void 0&&y(B,P)?(T=M,B):(T=M,N=P)}var D=!1,T,N,k=m===void 0?null:m;return[function(){return x(g())},k===null?void 0:function(){return x(k())}]},[g,m,v,y]);var A=i(f,b[0],b[1]);return u(function(){C.hasValue=!0,C.value=A},[A]),c(A),A},Pm}var c9;function dH(){return c9||(c9=1,Nm.exports=cH()),Nm.exports}var hH=dH();const fH=Yc(hH),a2={},{useDebugValue:pH}=$t,{useSyncExternalStoreWithSelector:gH}=fH;let d9=!1;const mH=e=>e;function vH(e,t=mH,n){(a2?"production":void 0)!=="production"&&n&&!d9&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),d9=!0);const r=gH(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return pH(r),r}const h9=e=>{(a2?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Bx(e):e,n=(r,i)=>vH(t,r,i);return Object.assign(n,t),n},yH=e=>e?h9(e):h9;var EH=e=>((a2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),yH(e)),o2=Object.defineProperty,bH=Object.defineProperties,CH=Object.getOwnPropertyDescriptor,SH=Object.getOwnPropertyDescriptors,AH=Object.getOwnPropertyNames,Oh=Object.getOwnPropertySymbols,s2=Object.prototype.hasOwnProperty,kx=Object.prototype.propertyIsEnumerable,$1=(e,t,n)=>t in e?o2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||(t={}))s2.call(t,n)&&$1(e,n,t[n]);if(Oh)for(var n of Oh(t))kx.call(t,n)&&$1(e,n,t[n]);return e},re=(e,t)=>bH(e,SH(t)),Vr=(e,t)=>{var n={};for(var r in e)s2.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Oh)for(var r of Oh(e))t.indexOf(r)<0&&kx.call(e,r)&&(n[r]=e[r]);return n},wH=(e,t)=>{for(var n in t)o2(e,n,{get:t[n],enumerable:!0})},xH=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of AH(t))!s2.call(e,i)&&i!=="default"&&o2(e,i,{get:()=>t[i],enumerable:!(r=CH(t,i))||r.enumerable});return e},w=(e,t,n)=>($1(e,typeof t!="symbol"?t+"":t,n),n),Fe=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{l(n.next(c))}catch(f){i(f)}},u=c=>{try{l(n.throw(c))}catch(f){i(f)}},l=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,u);l((n=n.apply(e,t)).next())}),{styled:ve,createTheme:DH}=wA({themeMap:L({},SA),theme:{colors:{bounds:"rgba(65, 132, 244, 1.000)",boundsBg:"rgba(65, 132, 244, 0.05)",hover:"#ececec",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#fefefe",panelContrast:"#ffffff",selected:"rgba(66, 133, 244, 1.000)",selectedContrast:"#fefefe",text:"#333333",tooltip:"#1d1d1d",tooltipContrast:"#ffffff",warn:"rgba(255, 100, 100, 1)",canvas:"rgb(248, 249, 250)"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.14)",3:"0px 2px 3px rgba(0, 0, 0, 0.14)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.14)",8:"0px 12px 17px rgba(0, 0, 0, 0.14)",12:"0px 12px 17px rgba(0, 0, 0, 0.14)",24:"0px 24px 38px rgba(0, 0, 0, 0.14)",key:"1px 1px rgba(0,0,0,1)",panel:`0px 0px 16px -1px rgba(0, 0, 0, 0.05), 
        0px 0px 16px -8px rgba(0, 0, 0, 0.05), 
        0px 0px 16px -12px rgba(0, 0, 0, 0.12),
        0px 0px 2px 0px rgba(0, 0, 0, 0.08)`},space:{0:"2px",1:"3px",2:"4px",3:"8px",4:"12px",5:"16px",6:"32px",7:"48px"},fontSizes:{0:"10px",1:"12px",2:"13px",3:"16px",4:"18px"},fonts:{ui:'"Recursive", system-ui, sans-serif',body:'"Recursive", system-ui, sans-serif',mono:'"Recursive Mono", monospace'},fontWeights:{},lineHeights:{},letterSpacings:{},sizes:{},borderWidths:{0:"$1"},borderStyles:{},radii:{0:"2px",1:"4px",2:"8px",3:"12px",4:"16px"},zIndices:{},transitions:{}},media:{micro:"(max-width: 370px)",sm:"(min-width: 640px)",md:"(min-width: 768px)",lg:"(min-width: 1024px)"},utils:{zStrokeWidth:()=>e=>Array.isArray(e)?{strokeWidth:`calc(${e[0]}px / var(--camera-zoom))`}:{strokeWidth:`calc(${e}px / var(--camera-zoom))`}}}),f9=DH({colors:{bounds:"rgba(38, 150, 255, 1.000)",boundsBg:"rgba(38, 150, 255, 0.05)",hover:"#444A50",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#363D44",panelContrast:"#49555f",selected:"rgba(38, 150, 255, 1.000)",selectedContrast:"#fefefe",text:"#f8f9fa",tooltip:"#1d1d1d",tooltipContrast:"#ffffff",canvas:"#212529"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.24)",3:"0px 2px 3px rgba(0, 0, 0, 0.24)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.24)",8:"0px 12px 17px rgba(0, 0, 0, 0.24)",12:"0px 12px 17px rgba(0, 0, 0, 0.24)",24:"0px 24px 38px rgba(0, 0, 0, 0.24)",panel:`0px 0px 16px -1px rgba(0, 0, 0, 0.05), 
      0px 0px 16px -8px rgba(0, 0, 0, 0.09), 
      0px 0px 16px -12px rgba(0, 0, 0, 0.2)`}}),Gt=ve("hr",{height:0,paddingTop:1,width:"calc(100%+8px)",backgroundColor:"$hover",border:"none",margin:"$2 -4px"}),Eo=ve("div",{position:"relative",overflow:"hidden",userSelect:"none",display:"flex",flexDirection:"column",zIndex:99997,minWidth:180,pointerEvents:"all",backgroundColor:"$panel",border:"1px solid $panelContrast",boxShadow:"$panel",padding:"$2 $2",borderRadius:"$3",font:"$ui",maxHeight:"100vh",overflowY:"auto",overflowX:"hidden","&::webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none",scrollbarWidth:"none",variants:{size:{small:{minWidth:72}},overflow:{true:{maxHeight:"60vh"}}}}),IH=()=>F.isDarwin()?"":"Ctrl";function u2({variant:e,children:t}){return h.createElement(TH,{variant:e},t.split("").map((n,r)=>h.createElement("span",{key:r},n.replace("#",IH()))))}var TH=ve("kbd",{marginLeft:"$3",textShadow:"$2",textAlign:"center",fontSize:"$0",fontFamily:"$ui",color:"$text",background:"none",fontWeight:400,gap:"$1",display:"flex",alignItems:"center","& > span":{padding:"$0",borderRadius:"$0",display:"flex",alignItems:"center",justifyContent:"center"},variants:{variant:{tooltip:{"& > span":{color:"$tooltipContrast",background:"$overlayContrast",boxShadow:"$key",width:"20px",height:"20px"}},menu:{}}}}),ci=ve("div",{height:"100%",borderRadius:"4px",marginRight:"1px",width:"fit-content",display:"grid",alignItems:"center",justifyContent:"center",outline:"none",border:"none",pointerEvents:"all",cursor:"pointer",color:"currentColor","& svg":{height:16,width:16,strokeWidth:1},"& > *":{gridRow:1,gridColumn:1}}),Nr={"@initial":"mobile","@micro":"micro","@sm":"small","@md":"medium","@lg":"large"},_n=h.forwardRef((e,t)=>{var n=e,{onClick:r,isActive:i=!1,isWarning:o=!1,hasIndicator:u=!1,hasArrow:l=!1,disabled:c=!1,variant:f,kbd:g,children:m}=n,v=Vr(n,["onClick","isActive","isWarning","hasIndicator","hasArrow","disabled","variant","kbd","children"]);return h.createElement(RH,L({ref:t,bp:Nr,isWarning:o,isActive:i,disabled:c,onClick:r,variant:f},v),h.createElement(Mx,null,m,g?h.createElement(u2,{variant:"menu"},g):void 0,u&&h.createElement(BA,{dir:"ltr"},h.createElement(ci,null,h.createElement(Ih,null))),l&&h.createElement(ci,null,h.createElement(pF,null))))}),Mx=ve("div",{height:"100%",width:"100%",backgroundColor:"$panel",borderRadius:"$2",display:"flex",gap:"$1",flexDirection:"row",alignItems:"center",padding:"0 $3",justifyContent:"space-between",border:"1px solid transparent","& svg":{position:"relative",stroke:"$overlay",strokeWidth:1,zIndex:1},[`& > ${ci}`]:{paddingLeft:"$3"}}),RH=ve("button",{position:"relative",width:"100%",background:"none",border:"none",cursor:"pointer",height:32,minHeight:32,outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",borderRadius:4,userSelect:"none",margin:0,padding:"0 0","&[data-disabled]":{opacity:.3},"&:disabled":{opacity:.3},[`&:focus:not(:disabled) ${Mx}`]:{backgroundColor:"$hover"},"& a":{textDecoration:"none",color:"$text"},variants:{bp:{mobile:{},small:{}},variant:{styleMenu:{margin:"$1 0 $1 0"},wide:{gridColumn:"1 / span 4"}},size:{icon:{padding:"4px ",width:"auto"}},isWarning:{true:{color:"$warn"}},isActive:{true:{backgroundColor:"$hover"},false:{}}}});function Lt({children:e,label:t,kbd:n,id:r,side:i="top"}){return h.createElement("span",{id:r},h.createElement(BV,null,h.createElement(kV,null,h.createElement(MV,{dir:"ltr",asChild:!0},h.createElement("span",null,e)),h.createElement(BH,{dir:"ltr",side:i,sideOffset:8},t,n?h.createElement(u2,{variant:"tooltip"},n):null,h.createElement(kH,null)))))}var BH=ve(NV,{borderRadius:3,padding:"$3 $3 $3 $3",fontSize:"$1",backgroundColor:"$tooltip",color:"$tooltipContrast",boxShadow:"$3",display:"flex",alignItems:"center",fontFamily:"$ui",userSelect:"none"}),kH=ve(PV,{fill:"$tooltip",margin:"0 8px"});function MH(){let e=h.useCallback((o,u)=>Fe(this,null,function*(){u(o.fileSystemHandle?"saveFirstTime":"saveAgain",()=>Fe(this,null,function*(){try{yield o.saveProject(),o.newProject()}catch{}}),()=>Fe(this,null,function*(){o.newProject()}),()=>Fe(this,null,function*(){}))}),[]),t=h.useCallback((o,u)=>Fe(this,null,function*(){u(o.fileSystemHandle?"saveFirstTime":"saveAgain",()=>Fe(this,null,function*(){try{yield o.saveProject(),yield o.openProject()}catch{}}),()=>Fe(this,null,function*(){o.openProject()}),()=>Fe(this,null,function*(){}))}),[]),n=h.useCallback(o=>{o.saveProject()},[]),r=h.useCallback(o=>{o.saveProjectAs()},[]),i=h.useCallback(o=>Fe(this,null,function*(){var u;(u=o.openAsset)==null||u.call(o)}),[]);return{onNewProject:e,onSaveProject:n,onSaveProjectAs:r,onOpenProject:t,onOpenMedia:i}}function Nx(){let e=St(),{openDialog:t}=Hx(),n=h.useCallback(l=>Fe(this,null,function*(){var c,f;l&&e.callbacks.onOpenProject&&l.preventDefault(),(f=(c=e.callbacks).onNewProject)==null||f.call(c,e,t)}),[e,t]),r=h.useCallback(l=>{var c,f;l&&e.callbacks.onOpenProject&&l.preventDefault(),(f=(c=e.callbacks).onSaveProject)==null||f.call(c,e)},[e]),i=h.useCallback(l=>{var c,f;l&&e.callbacks.onOpenProject&&l.preventDefault(),(f=(c=e.callbacks).onSaveProjectAs)==null||f.call(c,e)},[e]),o=h.useCallback(l=>Fe(this,null,function*(){var c,f;l&&e.callbacks.onOpenProject&&l.preventDefault(),(f=(c=e.callbacks).onOpenProject)==null||f.call(c,e,t)}),[e,t]),u=h.useCallback(l=>Fe(this,null,function*(){var c,f;l&&e.callbacks.onOpenMedia&&l.preventDefault(),(f=(c=e.callbacks).onOpenMedia)==null||f.call(c,e)}),[e]);return{onNewProject:n,onSaveProject:r,onSaveProjectAs:i,onOpenProject:o,onOpenMedia:u}}var NH=class{constructor(){w(this,"onPinchStart"),w(this,"onPinchEnd"),w(this,"onPinch"),w(this,"onKeyDown"),w(this,"onKeyUp"),w(this,"onPointerMove"),w(this,"onPointerUp"),w(this,"onPan"),w(this,"onZoom"),w(this,"onPointerDown"),w(this,"onPointCanvas"),w(this,"onDoubleClickCanvas"),w(this,"onRightPointCanvas"),w(this,"onDragCanvas"),w(this,"onReleaseCanvas"),w(this,"onPointShape"),w(this,"onDoubleClickShape"),w(this,"onRightPointShape"),w(this,"onDragShape"),w(this,"onHoverShape"),w(this,"onUnhoverShape"),w(this,"onReleaseShape"),w(this,"onPointBounds"),w(this,"onDoubleClickBounds"),w(this,"onRightPointBounds"),w(this,"onDragBounds"),w(this,"onHoverBounds"),w(this,"onUnhoverBounds"),w(this,"onReleaseBounds"),w(this,"onPointBoundsHandle"),w(this,"onDoubleClickBoundsHandle"),w(this,"onRightPointBoundsHandle"),w(this,"onDragBoundsHandle"),w(this,"onHoverBoundsHandle"),w(this,"onUnhoverBoundsHandle"),w(this,"onReleaseBoundsHandle"),w(this,"onPointHandle"),w(this,"onDoubleClickHandle"),w(this,"onRightPointHandle"),w(this,"onDragHandle"),w(this,"onHoverHandle"),w(this,"onUnhoverHandle"),w(this,"onReleaseHandle"),w(this,"onShapeBlur"),w(this,"onShapeClone")}},Px=(e=>(e.Idle="idle",e.Connecting="connecting",e.Connected="connected",e.Disconnected="disconnected",e))(Px||{}),PH=(e=>(e.Transform="transform",e.Translate="translate",e.TransformSingle="transformSingle",e.Brush="brush",e.Arrow="arrow",e.Draw="draw",e.Erase="erase",e.Rotate="rotate",e.Handle="handle",e.Grid="grid",e.Edit="edit",e))(PH||{}),OH=(e=>(e.Idle="idle",e.PointingHandle="pointingHandle",e.PointingBounds="pointingBounds",e.PointingBoundsHandle="pointingBoundsHandle",e.TranslatingLabel="translatingLabel",e.TranslatingHandle="translatingHandle",e.Translating="translating",e.Transforming="transforming",e.Rotating="rotating",e.Pinching="pinching",e.Brushing="brushing",e.Creating="creating",e.EditingText="editing-text",e))(OH||{}),LH=(e=>(e.Backward="backward",e.Forward="forward",e.ToFront="toFront",e.ToBack="toBack",e))(LH||{}),FH=(e=>(e.Top="top",e.CenterVertical="centerVertical",e.Bottom="bottom",e.Left="left",e.CenterHorizontal="centerHorizontal",e.Right="right",e))(FH||{}),_H=(e=>(e.Horizontal="horizontal",e.Vertical="vertical",e))(_H||{}),$H=(e=>(e.Horizontal="horizontal",e.Vertical="vertical",e))($H||{}),zH=(e=>(e.Horizontal="horizontal",e.Vertical="vertical",e))(zH||{}),VH=(e=>(e.Sticky="sticky",e.Ellipse="ellipse",e.Rectangle="rectangle",e.Triangle="triangle",e.Draw="draw",e.Arrow="arrow",e.Line="line",e.Text="text",e.Group="group",e.Image="image",e.Video="video",e))(VH||{}),UH=(e=>(e.Arrow="arrow",e))(UH||{}),HH=(e=>(e.White="white",e.LightGray="lightGray",e.Gray="gray",e.Black="black",e.Green="green",e.Cyan="cyan",e.Blue="blue",e.Indigo="indigo",e.Violet="violet",e.Red="red",e.Orange="orange",e.Yellow="yellow",e))(HH||{}),Ox=(e=>(e.Small="small",e.Medium="medium",e.Large="large",e))(Ox||{}),Lx=(e=>(e.Draw="draw",e.Solid="solid",e.Dashed="dashed",e.Dotted="dotted",e))(Lx||{}),GH=(e=>(e.Small="small",e.Medium="medium",e.Large="large",e.ExtraLarge="extraLarge",e))(GH||{}),Fx=(e=>(e.Start="start",e.Middle="middle",e.End="end",e.Justify="justify",e))(Fx||{}),_x=(e=>(e.Script="script",e.Sans="sans",e.Serif="serif",e.Mono="mono",e))(_x||{}),jH=(e=>(e.Image="image",e.Video="video",e))(jH||{}),KH=(e=>(e.PNG="png",e.JPG="jpeg",e.WEBP="webp",e.SVG="svg",e.JSON="json",e))(KH||{}),$x=(e=>(e.Transparent="transparent",e.Auto="auto",e.Light="light",e.Dark="dark",e))($x||{});function YH(e){let t=St(),n=h.useCallback((c=!1)=>{let f=e.current;return c&&(t.isMenuOpen||t.settings.keepStyleMenuOpen)?!0:(f?.focus(),f&&(document.activeElement===f||f.contains(document.activeElement)))},[e]);h.useEffect(()=>{if(!t)return;let c=m=>{if(n(!0)){if(t.readOnly){t.copy(void 0,m);return}t.cut(void 0,m)}},f=m=>{!n(!0)||t.copy(void 0,m)},g=m=>{!n(!0)||t.readOnly||t.paste(void 0,m)};return document.addEventListener("cut",c),document.addEventListener("copy",f),document.addEventListener("paste",g),()=>{document.removeEventListener("cut",c),document.removeEventListener("copy",f),document.removeEventListener("paste",g)}},[t]),Pe("v,1",()=>{!n(!0)||t.selectTool("select")},[t,e.current]),Pe("d,p,2",()=>{!n(!0)||t.selectTool("draw")},void 0,[t]),Pe("e,3",()=>{!n(!0)||t.selectTool("erase")},void 0,[t]),Pe("r,4",()=>{!n(!0)||t.selectTool("rectangle")},void 0,[t]),Pe("o,5",()=>{!n(!0)||t.selectTool("ellipse")},void 0,[t]),Pe("g,6",()=>{!n()||t.selectTool("triangle")},void 0,[t]),Pe("l,7",()=>{!n(!0)||t.selectTool("line")},void 0,[t]),Pe("a,8",()=>{!n(!0)||t.selectTool("arrow")},void 0,[t]),Pe("t,9",()=>{!n(!0)||t.selectTool("text")},void 0,[t]),Pe("s,0",()=>{!n(!0)||t.selectTool("sticky")},void 0,[t]),Pe("ctrl+shift+d,+shift+d",c=>{!n(!0)||(t.toggleDarkMode(),c.preventDefault())},void 0,[t]),Pe("ctrl+.,+.",()=>{!n(!0)||t.toggleFocusMode()},void 0,[t]),Pe("ctrl+shift+g,+shift+g",()=>{!n(!0)||t.toggleGrid()},void 0,[t]);let{onNewProject:r,onOpenProject:i,onSaveProject:o,onSaveProjectAs:u,onOpenMedia:l}=Nx();Pe("ctrl+n,+n",c=>{c.preventDefault(),n()&&r(c)},void 0,[t]),Pe("ctrl+s,+s",c=>{!n()||o(c)},void 0,[t]),Pe("ctrl+shift+s,+shift+s",c=>{!n()||u(c)},void 0,[t]),Pe("ctrl+o,+o",c=>{!n()||i(c)},void 0,[t]),Pe("ctrl+u,+u",c=>{!n()||l(c)},void 0,[t]),Pe("+z,ctrl+z",c=>{c.preventDefault(),n(!0)&&(t.session?t.cancelSession():t.undo())},void 0,[t]),Pe("ctrl+shift+z,+shift+z",()=>{!n(!0)||(t.session?t.cancelSession():t.redo())},void 0,[t]),Pe("+u,ctrl+u",()=>{!n()||t.undoSelect()},void 0,[t]),Pe("ctrl+shift-u,+shift+u",()=>{!n()||t.redoSelect()},void 0,[t]),Pe("ctrl+=,+=,ctrl+num_add,+num_add",c=>{!n(!0)||(t.zoomIn(),c.preventDefault())},void 0,[t]),Pe("ctrl+-,+-,ctrl+num_subtract,+num_subtract",c=>{!n(!0)||(t.zoomOut(),c.preventDefault())},void 0,[t]),Pe("shift+0,ctrl+numpad_0,+numpad_0",()=>{!n(!0)||t.resetZoom()},void 0,[t]),Pe("shift+1",()=>{!n(!0)||t.zoomToFit()},void 0,[t]),Pe("shift+2",()=>{!n(!0)||t.zoomToSelection()},void 0,[t]),Pe("ctrl+d,+d",c=>{!n()||(t.duplicate(),c.preventDefault())},void 0,[t]),Pe("shift+h",()=>{!n(!0)||t.flipHorizontal()},void 0,[t]),Pe("shift+v",()=>{!n(!0)||t.flipVertical()},void 0,[t]),Pe("escape",()=>{!n(!0)||t.cancel()},void 0,[t]),Pe("backspace,del",()=>{!n()||t.delete()},void 0,[t]),Pe("+a,ctrl+a",()=>{!n(!0)||t.selectAll()},void 0,[t]),Pe("up",()=>{!n()||t.nudge([0,-1],!1)},void 0,[t]),Pe("right",()=>{!n()||t.nudge([1,0],!1)},void 0,[t]),Pe("down",()=>{!n()||t.nudge([0,1],!1)},void 0,[t]),Pe("left",()=>{!n()||t.nudge([-1,0],!1)},void 0,[t]),Pe("shift+up",()=>{!n()||t.nudge([0,-1],!0)},void 0,[t]),Pe("shift+right",()=>{!n()||t.nudge([1,0],!0)},void 0,[t]),Pe("shift+down",()=>{!n()||t.nudge([0,1],!0)},void 0,[t]),Pe("shift+left",()=>{!n()||t.nudge([-1,0],!0)},void 0,[t]),Pe("+shift+l,ctrl+shift+l",()=>{!n()||t.toggleLocked()},void 0,[t]),Pe("+shift+c,ctrl+shift+c",c=>{!n()||(t.copySvg(),c.preventDefault())},void 0,[t]),Pe("+g,ctrl+g",c=>{!n()||(t.group(),c.preventDefault())},void 0,[t]),Pe("+shift+g,ctrl+shift+g",c=>{!n()||(t.ungroup(),c.preventDefault())},void 0,[t]),Pe("[",()=>{!n(!0)||t.moveBackward()},void 0,[t]),Pe("]",()=>{!n(!0)||t.moveForward()},void 0,[t]),Pe("shift+[",()=>{!n(!0)||t.moveToBack()},void 0,[t]),Pe("shift+]",()=>{!n(!0)||t.moveToFront()},void 0,[t]),Pe("ctrl+shift+backspace,+shift+backspace",c=>{!n()||(t.settings.isDebugMode&&t.resetDocument(),c.preventDefault())},void 0,[t]),Pe("alt+command+l,alt+ctrl+l",c=>{!n(!0)||(t.style({textAlign:"start"}),c.preventDefault())},void 0,[t]),Pe("alt+command+t,alt+ctrl+t",c=>{!n(!0)||(t.style({textAlign:"middle"}),c.preventDefault())},void 0,[t]),Pe("alt+command+r,alt+ctrl+r",c=>{!n(!0)||(t.style({textAlign:"end"}),c.preventDefault())},void 0,[t])}var Fm=new Map,W0="tldraw-fonts",WH=`
@import url('https://fonts.googleapis.com/css2?family=Caveat+Brush&family=Source+Code+Pro&family=Source+Sans+Pro&family=Crimson+Pro&display=block');

@font-face {
  font-family: 'Recursive';
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/recursive/v23/8vI-7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImKsvxvU-MXGX2fSqasNfUlTGZnI14ZeY.woff2)
    format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Recursive';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/recursive/v23/8vI-7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImKsvxvU-MXGX2fSqasNfUlTGZnI14ZeY.woff2)
    format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Recursive Mono';
  font-style: normal;
  font-weight: 420;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/recursive/v23/8vI-7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImqvTxvU-MXGX2fSqasNfUlTGZnI14ZeY.woff2)
    format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
`;function ZH(){h.useLayoutEffect(()=>{if(Fm.get(W0))return;let e=document.createElement("style");return e.innerHTML=WH,e.setAttribute("id",W0),document.head.appendChild(e),Fm.set(W0,e),()=>{e&&document.head.contains(e)&&(document.head.removeChild(e),Fm.delete(W0))}},[])}var zx=h.createContext({}),XH=()=>{let[e,t]=h.useState(0);h.useEffect(()=>t(1))};function St(){return h.useContext(zx)}var Vx=h.createContext({});function bo(){let e=h.useContext(Vx);return XH(),e}var JH="",qH="",QH="",eG="",tG=" ",nG="",rG="",iG="",aG="",oG="",sG="",uG="",lG="",cG="",dG="",hG="",fG="",pG=" ",gG="",mG=" ",vG="  ",yG=" ",EG=" ",bG=" ",CG=" ",SG=" ",AG=" ",wG=" ",xG="  CAD",DG="   ",IG="  ",TG=" ",RG=" ",BG=" ",kG="",MG="",NG="",PG="",OG="",LG=" ",FG=" ",_G=" ",$G="  ",zG="",VG=" ",UG="",HG="",GG=" ",jG=" ",KG=" ",YG=" ",WG=" ",ZG="",XG="",JG="  ",qG="    ",QG="    ",ej="    ",tj="",nj="",rj="",ij="",aj="",oj="",sj="",uj="",lj="",cj="",dj="",hj="  ",fj="   ",pj="",gj=" ",mj="  ",vj=" ",yj=" ",Ej=" ",bj="  ",Cj="",Sj=" ",Aj="  ",wj=" ",xj=" ",Dj="",Ij="",Tj="",Rj="",Bj="",kj="",Mj="",Nj=" ",Pj="",Oj="",Lj="",Fj="",_j="",$j="  ",zj="",Vj="{dots} ",Uj=" ",Hj="",Gj="",jj="",Kj="",Yj={"style.menu.color":JH,"style.menu.fill":qH,"style.menu.dash":QH,"style.menu.size":eG,"style.menu.keep.open":tG,"style.menu.font":nG,"style.menu.align":rG,styles:iG,"zoom.in":aG,"zoom.out":oG,to:sG,"menu.tools":uG,"menu.transform":lG,"menu.file":cG,"menu.edit":dG,"menu.view":hG,"menu.preferences":fG,"menu.sign.in":pG,"menu.sign.out":gG,"become.a.sponsor":mG,"zoom.to.content":vG,"zoom.to.selection":yG,"zoom.to.fit":EG,"zoom.to":bG,"preferences.dark.mode":CG,"preferences.focus.mode":SG,"preferences.debug.mode":AG,"preferences.show.grid":wG,"preferences.use.cad.selection":xG,"preferences.keep.stylemenu.open":DG,"preferences.always.show.snaps":IG,"preferences.rotate.handles":TG,"preferences.binding.handles":RG,"preferences.clone.handles":BG,undo:kG,redo:MG,cut:NG,copy:PG,paste:OG,"copy.as":LG,"export.as":FG,"select.all":_G,"select.none":$G,delete:zG,"new.project":VG,open:UG,save:HG,"save.as":GG,"upload.media":jG,"create.page":KG,"new.page":YG,"page.name":WG,duplicate:ZG,cancel:XG,"copy.invite.link":JG,"copy.readonly.link":qG,"create.multiplayer.project":QG,"copy.multiplayer.project":ej,select:tj,eraser:nj,draw:rj,arrow:ij,text:aj,sticky:oj,rectangle:sj,ellipse:uj,triangle:lj,line:cj,rotate:dj,"lock.aspect.ratio":hj,"unlock.aspect.ratio":fj,group:pj,ungroup:gj,"move.to.back":mj,"move.backward":vj,"move.forward":yj,"move.to.front":Ej,"reset.angle":bj,lock:Cj,unlock:Sj,"move.to.page":Aj,"flip.horizontal":wj,"flip.vertical":xj,move:Dj,"to.front":Ij,forward:Tj,backward:Rj,back:Bj,language:kj,"translation.link":Mj,"dock.position":Nj,bottom:Pj,left:Oj,right:Lj,top:Fj,page:_j,"keyboard.shortcuts":$j,search:zj,loading:Vj,"export.background":Uj,transparent:Hj,auto:Gj,light:jj,dark:Kj},Wj="Farve",Zj="Fyld",Xj="Streg",Jj="Strrelse",qj="Hold ben",Qj="Skrifttype",eK="Juster",tK="Format",nK="Zoom ind",rK="Zoom ud",iK="til",aK="Vrktjer",oK="Transformer",sK="Fil",uK="Rediger",lK="Vis",cK="Indstillinger",dK="Log ind",hK="Log ud",fK="Bliv sponsor",pK="Zoom til valgte",gK="Zoom til lrred",mK="Zoom til",vK="Zoom til indhold",yK="Mrkt udseende",EK="Fokus tilstand",bK="Debug tilstand",CK="Vis net",SK="Brug CAD udvlgelse",AK="Hold formatmenuen ben",wK="Vis altid snaps",xK="Roteringshndtag",DK="Bindingshndtag",IK="Kloningshndtag",TK="Fortryd",RK="Gentag",BK="Klip",kK="Kopier",MK="Indst",NK="Kopier som",PK="Eksporter som",OK="Vlg alt",LK="Fravlg alt",FK="Slet",_K="Nyt projekt",$K="ben",zK="Gem",VK="Gem som",UK="Upload medie",HK="Opret side",GK="Ny side",jK="Sidenavn",KK="Dupliker",YK="Fortryd",WK="Kopier invitationslink",ZK="Opret multiplayer projekt",XK="Kopier til multiplayer projekt",JK="Vlg",qK="Viskelder",QK="Tegn",eY="Pil",tY="Tekst",nY="Note",rY="Rektangel",iY="Ellipse",aY="Trekant",oY="Linje",sY="Roter",uY="Ls billedformat",lY="Frigr billedformat",cY="Grupper",dY="Opdel gruppe",hY="Placer bagerst",fY="Flyt tilbage",pY="Flyt frem",gY="Lg forrest",mY="Nulstil vinkel",vY="Ls",yY="Ls op",EY="Flyt til side",bY="Vend vandret",CY="Vend lodret",SY="Flyt",AY="Forrest",wY="Frem",xY="Tilbage",DY="Bagerst",IY="Sprog",TY="Justering nederst",RY="Vandret justering centreret",BY="Lodret justering centreret",kY="Juster / distribuer",MY="Justering til venstre",NY="Justering til hjre",PY="Justering verst",OY="Kopier skrivebeskyttet link",LY="Vil du gemme ndringerne til dit projekt?",FY="Vil du gemme dit projekt?",_Y="Ja",$Y="Nej",zY="Fortryd",VY="Skriv filnavn",UY="Vandret distribuering",HY="Lodret distribuering",GY="Placering af vrktjslinje",jY="Nederst",KY="Venstre",YY="Hjre",WY="verst",ZY="Baggrund ved eksport",XY="Automatisk",JY="Lys",qY="Mrk",QY="Billede",eW="Tastaturgenveje",tW="Indlser",nW="Side",rW="Sg",iW="Strk vandret",aW="Strk lodret",oW="Lr mere",sW="Gennemsigtig",uW={"style.menu.color":Wj,"style.menu.fill":Zj,"style.menu.dash":Xj,"style.menu.size":Jj,"style.menu.keep.open":qj,"style.menu.font":Qj,"style.menu.align":eK,styles:tK,"zoom.in":nK,"zoom.out":rK,to:iK,"menu.tools":aK,"menu.transform":oK,"menu.file":sK,"menu.edit":uK,"menu.view":lK,"menu.preferences":cK,"menu.sign.in":dK,"menu.sign.out":hK,"become.a.sponsor":fK,"zoom.to.selection":pK,"zoom.to.fit":gK,"zoom.to":mK,"zoom.to.content":vK,"preferences.dark.mode":yK,"preferences.focus.mode":EK,"preferences.debug.mode":bK,"preferences.show.grid":CK,"preferences.use.cad.selection":SK,"preferences.keep.stylemenu.open":AK,"preferences.always.show.snaps":wK,"preferences.rotate.handles":xK,"preferences.binding.handles":DK,"preferences.clone.handles":IK,undo:TK,redo:RK,cut:BK,copy:kK,paste:MK,"copy.as":NK,"export.as":PK,"select.all":OK,"select.none":LK,delete:FK,"new.project":_K,open:$K,save:zK,"save.as":VK,"upload.media":UK,"create.page":HK,"new.page":GK,"page.name":jK,duplicate:KK,cancel:YK,"copy.invite.link":WK,"create.multiplayer.project":ZK,"copy.multiplayer.project":XK,select:JK,eraser:qK,draw:QK,arrow:eY,text:tY,sticky:nY,rectangle:rY,ellipse:iY,triangle:aY,line:oY,rotate:sY,"lock.aspect.ratio":uY,"unlock.aspect.ratio":lY,group:cY,ungroup:dY,"move.to.back":hY,"move.backward":fY,"move.forward":pY,"move.to.front":gY,"reset.angle":mY,lock:vY,unlock:yY,"move.to.page":EY,"flip.horizontal":bY,"flip.vertical":CY,move:SY,"to.front":AY,forward:wY,backward:xY,back:DY,language:IY,"align.bottom":TY,"align.center.x":RY,"align.center.y":BY,"align.distribute":kY,"align.left":MY,"align.right":NY,"align.top":PY,"copy.readonly.link":OY,"dialog.save.again":LY,"dialog.save.firsttime":FY,"dialog.yes":_Y,"dialog.no":$Y,"dialog.cancel":zY,"enter.file.name":VY,"distribute.x":UY,"distribute.y":HY,"dock.position":GY,bottom:jY,left:KY,right:YY,top:WY,"export.background":ZY,auto:XY,light:JY,dark:qY,image:QY,"keyboard.shortcuts":eW,loading:tW,page:nW,search:rW,"stretch.x":iW,"stretch.y":aW,"translation.link":oW,transparent:sW},lW="Farbe",cW="Fllen",dW="Strich",hW="Gre",fW="Offen halten",pW="Schriftart",gW="Ausrichten",mW="Stile",vW="Heranzoomen",yW="Herauszoomen",EW="zu",bW="Datei",CW="Bearbeiten",SW="Ansicht",AW="Prferenzen",wW="Einloggen",xW="Ausloggen",DW="Sponsor werden",IW="Zur Auswahl zoomen",TW="Zoom anpassen",RW="Zoomen nach",BW="Dunkler Modus",kW="Fokus Modus",MW="Debug Modus",NW="Gitter anzeigen",PW="CAD Auswahl verwenden",OW="Stilmen offen halten",LW="Hilfslinien immer anzeigen",FW="Rotiergriffe",_W="Bindegriffe",$W="Klongriffe",zW="Rckgngig machen",VW="Wiederherstellen",UW="Ausschneiden",HW="Kopieren",GW="Einfgen",jW="Kopieren als",KW="Exportieren als",YW="Alles auswhlen",WW="Nichts auswhlen",ZW="Lschen",XW="Neues Projekt",JW="ffnen",qW="Speichern",QW="Speichern als",eZ="Medien hochladen",tZ="Seite erstellen",nZ="Neue Seite",rZ="Seitenname",iZ="Duplizieren",aZ="Abbrechen",oZ="Einladungslink kopieren",sZ="Mehrspielerprojekt kreieren",uZ="In Mehrspielerprojekt kopieren",lZ="Auswhlen",cZ="Radierer",dZ="Malen",hZ="Pfeil",fZ="Text",pZ="Notiz",gZ="Rechteck",mZ="Ellipse",vZ="Dreieck",yZ="Linie",EZ="Drehen",bZ="Seitenverhltnis sperren",CZ="Seitenverhltnis entsperren",SZ="Gruppieren",AZ="Gruppierung aufheben",wZ="Nach Hinten verschieben",xZ="Rckwrts schieben",DZ="Vorwrts schieben",IZ="Nach Vorne verschieben",TZ="Winkel zurcksetzen",RZ="Sperren",BZ="Entsperren",kZ="Zu Seite verschieben",MZ="Horizontal spiegeln",NZ="Vertikal spiegeln",PZ="Verschieben",OZ="Nach Vorne",LZ="Vorwrts",FZ="Rckwrts",_Z="Hinten",$Z="Sprache",zZ={"style.menu.color":lW,"style.menu.fill":cW,"style.menu.dash":dW,"style.menu.size":hW,"style.menu.keep.open":fW,"style.menu.font":pW,"style.menu.align":gW,styles:mW,"zoom.in":vW,"zoom.out":yW,to:EW,"menu.file":bW,"menu.edit":CW,"menu.view":SW,"menu.preferences":AW,"menu.sign.in":wW,"menu.sign.out":xW,"become.a.sponsor":DW,"zoom.to.selection":IW,"zoom.to.fit":TW,"zoom.to":RW,"preferences.dark.mode":BW,"preferences.focus.mode":kW,"preferences.debug.mode":MW,"preferences.show.grid":NW,"preferences.use.cad.selection":PW,"preferences.keep.stylemenu.open":OW,"preferences.always.show.snaps":LW,"preferences.rotate.handles":FW,"preferences.binding.handles":_W,"preferences.clone.handles":$W,undo:zW,redo:VW,cut:UW,copy:HW,paste:GW,"copy.as":jW,"export.as":KW,"select.all":YW,"select.none":WW,delete:ZW,"new.project":XW,open:JW,save:qW,"save.as":QW,"upload.media":eZ,"create.page":tZ,"new.page":nZ,"page.name":rZ,duplicate:iZ,cancel:aZ,"copy.invite.link":oZ,"create.multiplayer.project":sZ,"copy.multiplayer.project":uZ,select:lZ,eraser:cZ,draw:dZ,arrow:hZ,text:fZ,sticky:pZ,rectangle:gZ,ellipse:mZ,triangle:vZ,line:yZ,rotate:EZ,"lock.aspect.ratio":bZ,"unlock.aspect.ratio":CZ,group:SZ,ungroup:AZ,"move.to.back":wZ,"move.backward":xZ,"move.forward":DZ,"move.to.front":IZ,"reset.angle":TZ,lock:RZ,unlock:BZ,"move.to.page":kZ,"flip.horizontal":MZ,"flip.vertical":NZ,move:PZ,"to.front":OZ,forward:LZ,backward:FZ,back:_Z,language:$Z},VZ={},UZ="Color",HZ="Relleno",GZ="Lnea",jZ="Tamao",KZ="Mantener abierto",YZ="Fuente",WZ="Alineacin",ZZ="Estilos",XZ="Acercar",JZ="Alejar",qZ="A",QZ="Archivo",eX="Editar",tX="Ver",nX="Preferencias",rX="Iniciar sesin",iX="Cerrar sesin",aX="Convirtete en patrocinador",oX="Acercar al contenido",sX="Acercar a la seleccin",uX="Ajustar a la ventana",lX="Acercar a",cX="Modo oscuro",dX="Modo concentracin",hX="Modo depuracin",fX="Mostrar cuadrcula",pX="Usar seleccin CAD",gX="Mantener men de estilos abierto",mX="Mostrar puntos de ajuste",vX="Control de rotacin",yX="Control de vinculacin",EX="Control de clonacin",bX="Deshacer",CX="Rehacer",SX="Cortar",AX="Copiar",wX="Pegar",xX="Copiar como",DX="Exportar como",IX="Selecionar todo",TX="Selecionar nada",RX="Borrar",BX="Nuevo Proyecto",kX="Abrir",MX="Guardar",NX="Guardar como",PX="Subir medios",OX="Crear pgina",LX="Nueva pgina",FX="Nombre de pgina",_X="Duplicar",$X="Cancelar",zX="Copiar invitacin",VX="Copiar invitacin (solo lectura)",UX="Crear proyecto multijugador",HX="Copiar proyecto multijugador",GX="Seleccionar",jX="Borrador",KX="Dibujar",YX="Flecha",WX="Texto",ZX="Pegatina",XX="Rectngulo",JX="Elipse",qX="Tringulo",QX="Lnea",eJ="Rotar",tJ="Bloquear relacin de aspecto",nJ="Desbloquear relacin de aspecto",rJ="Agrupar",iJ="Desagrupar",aJ="Mover al fondo",oJ="Mover atrs",sJ="Mover adelante",uJ="Mover al frente",lJ="Restablecer ngulo",cJ="Bloquear",dJ="Desbloquear",hJ="Mover a pgina",fJ="Voltear horizontalmente",pJ="Voltear verticalmente",gJ="Mover",mJ="Al frente",vJ="Adelante",yJ="Atrs",EJ="Fondo",bJ="Idioma",CJ="Saber ms",SJ="Posicin del dock",AJ="Abajo",wJ="Atajos de teclado",xJ="Cargando{dots}",DJ="Izquierda",IJ="Derecha",TJ="Arriba",RJ="Buscar",BJ="Pgina",kJ="Imagen",MJ={"style.menu.color":UZ,"style.menu.fill":HZ,"style.menu.dash":GZ,"style.menu.size":jZ,"style.menu.keep.open":KZ,"style.menu.font":YZ,"style.menu.align":WZ,styles:ZZ,"zoom.in":XZ,"zoom.out":JZ,to:qZ,"menu.file":QZ,"menu.edit":eX,"menu.view":tX,"menu.preferences":nX,"menu.sign.in":rX,"menu.sign.out":iX,"become.a.sponsor":aX,"zoom.to.content":oX,"zoom.to.selection":sX,"zoom.to.fit":uX,"zoom.to":lX,"preferences.dark.mode":cX,"preferences.focus.mode":dX,"preferences.debug.mode":hX,"preferences.show.grid":fX,"preferences.use.cad.selection":pX,"preferences.keep.stylemenu.open":gX,"preferences.always.show.snaps":mX,"preferences.rotate.handles":vX,"preferences.binding.handles":yX,"preferences.clone.handles":EX,undo:bX,redo:CX,cut:SX,copy:AX,paste:wX,"copy.as":xX,"export.as":DX,"select.all":IX,"select.none":TX,delete:RX,"new.project":BX,open:kX,save:MX,"save.as":NX,"upload.media":PX,"create.page":OX,"new.page":LX,"page.name":FX,duplicate:_X,cancel:$X,"copy.invite.link":zX,"copy.readonly.link":VX,"create.multiplayer.project":UX,"copy.multiplayer.project":HX,select:GX,eraser:jX,draw:KX,arrow:YX,text:WX,sticky:ZX,rectangle:XX,ellipse:JX,triangle:qX,line:QX,rotate:eJ,"lock.aspect.ratio":tJ,"unlock.aspect.ratio":nJ,group:rJ,ungroup:iJ,"move.to.back":aJ,"move.backward":oJ,"move.forward":sJ,"move.to.front":uJ,"reset.angle":lJ,lock:cJ,unlock:dJ,"move.to.page":hJ,"flip.horizontal":fJ,"flip.vertical":pJ,move:gJ,"to.front":mJ,forward:vJ,backward:yJ,back:EJ,language:bJ,"translation.link":CJ,"dock.position":SJ,bottom:AJ,"keyboard.shortcuts":wJ,loading:xJ,left:DJ,right:IJ,top:TJ,search:RJ,page:BJ,image:kJ},NJ="",PJ="",OJ=" ",LJ="",FJ=" ",_J="",$J="",zJ="",VJ=" ",UJ=" ",HJ="",GJ="",jJ="",KJ="",YJ="",WJ="",ZJ="",XJ="  ",JJ=" ",qJ="  ",QJ="  ",eq=" ",tq=" ",nq=" ",rq="  ",iq="    CAD",aq="   ",oq="    ",sq="    ",uq="    ",lq="    ",cq="  ",dq="  ",hq="",fq="",pq="",gq=" ",mq="  ",vq=" ",yq=" ",Eq=" ",bq=" ",Cq=" ",Sq="",Aq="  ",wq=" ",xq=" ",Dq=" ",Iq=" ",Tq=" ",Rq="",Bq="  ",kq="  ",Mq="   ",Nq="",Pq="",Oq="",Lq="",Fq="",_q="",$q="",zq="",Vq="",Uq="",Hq="",Gq="  ",jq="  ",Kq=" ",Yq=" ",Wq=" ",Zq=" ",Xq=" ",Jq=" ",qq=" ",Qq=" ",eQ=" ",tQ="  ",nQ=" ",rQ=" ",iQ=" ",aQ=" ",oQ=" ",sQ=" ",uQ=" ",lQ="",cQ={"style.menu.color":NJ,"style.menu.fill":PJ,"style.menu.dash":OJ,"style.menu.size":LJ,"style.menu.keep.open":FJ,"style.menu.font":_J,"style.menu.align":$J,styles:zJ,"zoom.in":VJ,"zoom.out":UJ,to:HJ,"menu.file":GJ,"menu.edit":jJ,"menu.view":KJ,"menu.preferences":YJ,"menu.sign.in":WJ,"menu.sign.out":ZJ,"become.a.sponsor":XJ,"zoom.to.selection":JJ,"zoom.to.fit":qJ,"zoom.to":QJ,"preferences.dark.mode":eq,"preferences.focus.mode":tq,"preferences.debug.mode":nq,"preferences.show.grid":rq,"preferences.use.cad.selection":iq,"preferences.keep.stylemenu.open":aq,"preferences.always.show.snaps":oq,"preferences.rotate.handles":sq,"preferences.binding.handles":uq,"preferences.clone.handles":lq,undo:cq,redo:dq,cut:hq,copy:fq,paste:pq,"copy.as":gq,"export.as":mq,"select.all":vq,"select.none":yq,delete:Eq,"new.project":bq,open:Cq,save:Sq,"save.as":Aq,"upload.media":wq,"create.page":xq,"new.page":Dq,"page.name":Iq,duplicate:Tq,cancel:Rq,"copy.invite.link":Bq,"create.multiplayer.project":kq,"copy.multiplayer.project":Mq,select:Nq,eraser:Pq,draw:Oq,arrow:Lq,text:Fq,sticky:_q,rectangle:$q,ellipse:zq,triangle:Vq,line:Uq,rotate:Hq,"lock.aspect.ratio":Gq,"unlock.aspect.ratio":jq,group:Kq,ungroup:Yq,"move.to.back":Wq,"move.backward":Zq,"move.forward":Xq,"move.to.front":Jq,"reset.angle":qq,lock:Qq,unlock:eQ,"move.to.page":tQ,"flip.horizontal":nQ,"flip.vertical":rQ,move:iQ,"to.front":aQ,forward:oQ,backward:sQ,back:uQ,language:lQ},dQ="Couleur",hQ="Remplir",fQ="Bordure",pQ="Taille",gQ="Toujours afficher le menu",mQ="Police",vQ="Alignement",yQ="Styles",EQ="Zoom avant",bQ="Zoom arrire",CQ="",SQ="Outils",AQ="Transformation",wQ="Fichier",xQ="dition",DQ="Afficher",IQ="Prfrences",TQ="S'authentifier",RQ="Se dconnecter",BQ="Devenir un sponsor",kQ="Retour au contenu",MQ="Ajuster le zoom  la slection",NQ="Adapter le zoom au contenu",PQ="Rtablir le zoom ",OQ="Mode sombre",LQ="Mode focus",FQ="Afficher la barre dveloppeur",_Q="Afficher la grille",$Q="Utiliser la slection CAD",zQ="Toujours afficher le menu styles",VQ="Afficher les repres dynamiques",UQ="Manier la rotation",HQ="Manier les liaisons",GQ="Manier le clonage",jQ="Annuler",KQ="Rtablir",YQ="Couper",WQ="Copier",ZQ="Coller",XQ="Copier au format",JQ="Exporter au format",qQ="Tout slectionner",QQ="Tout dslectionner",eee="Supprimer",tee="Nouveau project",nee="Ouvrir",ree="Enregistrer",iee="Enregistrer sous",aee="Importer un mdia",oee="Crer une page",see="Nouvelle Page",uee="Nom de la page",lee="Dupliquer",cee="Annuler",dee="Copier le lien d'invitation",hee="Copier le lien en lecture seule d'invitation",fee="Crer un project multi-joueurs",pee="Copier dans un projet multi-joueurs",gee="Slection",mee="Gomme",vee="Crayon",yee="Flche",Eee="Texte",bee="Note",Cee="Rectangle",See="Cercle",Aee="Triangle",wee="Ligne",xee="Rotation",Dee="Verrouiller les proportions",Iee="Dverrouiller les proportions",Tee="Grouper",Ree="Dgrouper",Bee="Dplacer  l'arrire-plan",kee="Reculer d'un plan",Mee="Avancer d'un plan",Nee="Placer au premier plan",Pee="Rinitialiser la rotation",Oee="Verrouiller",Lee="Dverrouiller",Fee="Alignement / Rpartion",_ee="Dplacer vers la page",$ee="Retourner horizontalement",zee="Retourner verticalement",Vee="Disposition",Uee="Placer au premier plan",Hee="Avancer d'un plan",Gee="Reculer d'un plan",jee="Dplacer  l'arrire-plan",Kee="Langage",Yee="En savoir plus",Wee="Position du dock",Zee="En bas",Xee=" gauche",Jee=" droite",qee="En haut",Qee="Page",ete="Raccourcis clavier",tte="Rechercher",nte="Chargement{dots}",rte="Couleur d'arrire-plan de l'export",ite="Transparent",ate="Automatique",ote="Clair",ste="Sombre",ute={"style.menu.color":dQ,"style.menu.fill":hQ,"style.menu.dash":fQ,"style.menu.size":pQ,"style.menu.keep.open":gQ,"style.menu.font":mQ,"style.menu.align":vQ,styles:yQ,"zoom.in":EQ,"zoom.out":bQ,to:CQ,"menu.tools":SQ,"menu.transform":AQ,"menu.file":wQ,"menu.edit":xQ,"menu.view":DQ,"menu.preferences":IQ,"menu.sign.in":TQ,"menu.sign.out":RQ,"become.a.sponsor":BQ,"zoom.to.content":kQ,"zoom.to.selection":MQ,"zoom.to.fit":NQ,"zoom.to":PQ,"preferences.dark.mode":OQ,"preferences.focus.mode":LQ,"preferences.debug.mode":FQ,"preferences.show.grid":_Q,"preferences.use.cad.selection":$Q,"preferences.keep.stylemenu.open":zQ,"preferences.always.show.snaps":VQ,"preferences.rotate.handles":UQ,"preferences.binding.handles":HQ,"preferences.clone.handles":GQ,undo:jQ,redo:KQ,cut:YQ,copy:WQ,paste:ZQ,"copy.as":XQ,"export.as":JQ,"select.all":qQ,"select.none":QQ,delete:eee,"new.project":tee,open:nee,save:ree,"save.as":iee,"upload.media":aee,"create.page":oee,"new.page":see,"page.name":uee,duplicate:lee,cancel:cee,"copy.invite.link":dee,"copy.readonly.link":hee,"create.multiplayer.project":fee,"copy.multiplayer.project":pee,select:gee,eraser:mee,draw:vee,arrow:yee,text:Eee,sticky:bee,rectangle:Cee,ellipse:See,triangle:Aee,line:wee,rotate:xee,"lock.aspect.ratio":Dee,"unlock.aspect.ratio":Iee,group:Tee,ungroup:Ree,"move.to.back":Bee,"move.backward":kee,"move.forward":Mee,"move.to.front":Nee,"reset.angle":Pee,lock:Oee,unlock:Lee,"align.distribute":Fee,"move.to.page":_ee,"flip.horizontal":$ee,"flip.vertical":zee,move:Vee,"to.front":Uee,forward:Hee,backward:Gee,back:jee,language:Kee,"translation.link":Yee,"dock.position":Wee,bottom:Zee,left:Xee,right:Jee,top:qee,page:Qee,"keyboard.shortcuts":ete,search:tte,loading:nte,"export.background":rte,transparent:ite,auto:ate,light:ote,dark:ste},lte="",cte="",dte="",hte="",fte=" ",pte="",gte="",mte="",vte=" ",yte=" ",Ete="",bte="",Cte="",Ste="",Ate="",wte="",xte="",Dte=" ",Ite=" ",Tte=" ",Rte=" ",Bte=" ",kte=" ",Mte=" ",Nte="()  ",Pte=" CAD",Ote="   ",Lte="  ",Fte="  ",_te="  ",$te="  ",zte="",Vte=" ",Ute="",Hte="",Gte="",jte=" ",Kte=" ",Yte=" ",Wte=" ",Zte="",Xte=" ",Jte="",qte="",Qte=" ",ene=" ",tne=" ",nne=" ",rne=" ",ine="",ane="",one="  ",sne="   ",une="   ",lne="",cne="",dne="",hne="",fne="",pne="",gne="",mne="",vne="",yne="",Ene="",bne="  -",Cne="   -",Sne="",Ane=" ",wne=" ",xne=" ",Dne=" ",Ine=" ",Tne=" ",Rne="",Bne=" ",kne=" ",Mne=" ",Nne=" ",Pne="",One=" ",Lne="",Fne="",_ne="",$ne="",zne={"style.menu.color":lte,"style.menu.fill":cte,"style.menu.dash":dte,"style.menu.size":hte,"style.menu.keep.open":fte,"style.menu.font":pte,"style.menu.align":gte,styles:mte,"zoom.in":vte,"zoom.out":yte,to:Ete,"menu.file":bte,"menu.edit":Cte,"menu.view":Ste,"menu.preferences":Ate,"menu.sign.in":wte,"menu.sign.out":xte,"become.a.sponsor":Dte,"zoom.to.selection":Ite,"zoom.to.fit":Tte,"zoom.to":Rte,"preferences.dark.mode":Bte,"preferences.focus.mode":kte,"preferences.debug.mode":Mte,"preferences.show.grid":Nte,"preferences.use.cad.selection":Pte,"preferences.keep.stylemenu.open":Ote,"preferences.always.show.snaps":Lte,"preferences.rotate.handles":Fte,"preferences.binding.handles":_te,"preferences.clone.handles":$te,undo:zte,redo:Vte,cut:Ute,copy:Hte,paste:Gte,"copy.as":jte,"export.as":Kte,"select.all":Yte,"select.none":Wte,delete:Zte,"new.project":Xte,open:Jte,save:qte,"save.as":Qte,"upload.media":ene,"create.page":tne,"new.page":nne,"page.name":rne,duplicate:ine,cancel:ane,"copy.invite.link":one,"create.multiplayer.project":sne,"copy.multiplayer.project":une,select:lne,eraser:cne,draw:dne,arrow:hne,text:fne,sticky:pne,rectangle:gne,ellipse:mne,triangle:vne,line:yne,rotate:Ene,"lock.aspect.ratio":bne,"unlock.aspect.ratio":Cne,group:Sne,ungroup:Ane,"move.to.back":wne,"move.backward":xne,"move.forward":Dne,"move.to.front":Ine,"reset.angle":Tne,lock:Rne,unlock:Bne,"move.to.page":kne,"flip.horizontal":Mne,"flip.vertical":Nne,move:Pne,"to.front":One,forward:Lne,backward:Fne,back:_ne,language:$ne},Vne="Colore",Une="Riempi",Hne="Tratteggo",Gne="Dimensione",jne="Mantieni aperto",Kne="Font",Yne="Allineamento",Wne="Stile",Zne="Ingrandisci",Xne="Rimpicciolisci",Jne="Imposta",qne="File",Qne="Modifica",ere="Visualizzazione",tre="Preferenze",nre="Accedi",rre="Esci",ire="Sponsorizza",are="Adatta alla selezione",ore="Adatta",sre="Ingrandisci",ure="Modalit scura",lre="Modalit zen",cre="Modalit sviluppatore",dre="Mostra griglia",hre="Selezione CAD",fre="Mantieni menu stile aperto",pre="Mostra sempre le guide",gre="Controlli d'inclinazione",mre="Controlli d'associazione",vre="Controlli di clonazione",yre="Annulla",Ere="Ripristina",bre="Taglia",Cre="Copia",Sre="Incolla",Are="Copia come",wre="Esporta come",xre="Seleziona tutto",Dre="Deseleziona tutto",Ire="Elimina",Tre="Nuovo progetto",Rre="Apri",Bre="Salva",kre="Salva come",Mre="Carica contenuti multimediali",Nre="Crea nuova pagina",Pre="Nuova pagina",Ore="Nome pagina",Lre="Pagina",Fre="Duplica",_re="Chiudi",$re="Copia link invito",zre="Crea progetto multiplayer",Vre="Trasforma in progetto multiplayer",Ure="Seleziona",Hre="Gomma",Gre="Matita",jre="Freccia",Kre="Casella di testo",Yre="Post-it",Wre="Rettangolo",Zre="Ellisse",Xre="Triangolo",Jre="Linea",qre="Ruota",Qre="Blocca rapporto lati",eie="Sblocca rapporto lati",tie="Raggruppa",nie="Separa",rie="Muovi in fondo",iie="Sposta indietro",aie="Sposta avanti",oie="Muovi in fronte",sie="Reimposta angolo",uie="Blocca",lie="Sblocca",cie="Trasferisci a pagina",die="Ribalta orizzontalmente",hie="Ribalta verticalmente",fie="Sposta",pie="In primo piano",gie="Sposta avanti",mie="Sposta indietro",vie="In fondo",yie="Lingua",Eie="Posizione dock",bie="In basso",Cie="Sinistra",Sie="Destra",Aie="In Alto",wie={"style.menu.color":Vne,"style.menu.fill":Une,"style.menu.dash":Hne,"style.menu.size":Gne,"style.menu.keep.open":jne,"style.menu.font":Kne,"style.menu.align":Yne,styles:Wne,"zoom.in":Zne,"zoom.out":Xne,to:Jne,"menu.file":qne,"menu.edit":Qne,"menu.view":ere,"menu.preferences":tre,"menu.sign.in":nre,"menu.sign.out":rre,"become.a.sponsor":ire,"zoom.to.selection":are,"zoom.to.fit":ore,"zoom.to":sre,"preferences.dark.mode":ure,"preferences.focus.mode":lre,"preferences.debug.mode":cre,"preferences.show.grid":dre,"preferences.use.cad.selection":hre,"preferences.keep.stylemenu.open":fre,"preferences.always.show.snaps":pre,"preferences.rotate.handles":gre,"preferences.binding.handles":mre,"preferences.clone.handles":vre,undo:yre,redo:Ere,cut:bre,copy:Cre,paste:Sre,"copy.as":Are,"export.as":wre,"select.all":xre,"select.none":Dre,delete:Ire,"new.project":Tre,open:Rre,save:Bre,"save.as":kre,"upload.media":Mre,"create.page":Nre,"new.page":Pre,"page.name":Ore,page:Lre,duplicate:Fre,cancel:_re,"copy.invite.link":$re,"create.multiplayer.project":zre,"copy.multiplayer.project":Vre,select:Ure,eraser:Hre,draw:Gre,arrow:jre,text:Kre,sticky:Yre,rectangle:Wre,ellipse:Zre,triangle:Xre,line:Jre,rotate:qre,"lock.aspect.ratio":Qre,"unlock.aspect.ratio":eie,group:tie,ungroup:nie,"move.to.back":rie,"move.backward":iie,"move.forward":aie,"move.to.front":oie,"reset.angle":sie,lock:uie,unlock:lie,"move.to.page":cie,"flip.horizontal":die,"flip.vertical":hie,move:fie,"to.front":pie,forward:gie,backward:mie,back:vie,language:yie,"dock.position":Eie,bottom:bie,left:Cie,right:Sie,top:Aie},xie="",Die="",Iie="",Tie="",Rie="",Bie="",kie="",Mie="",Nie="",Pie="",Oie=" ",Lie="",Fie="",_ie="",$ie="",zie="",Vie="",Uie="",Hie="",Gie="",jie=" ",Kie="",Yie="",Wie="",Zie="",Xie="CAD",Jie="",qie="",Qie="",eae="",tae="",nae="",rae="",iae="",aae="",oae="",sae="",uae="",lae="",cae="",dae="",hae="",fae="",pae="",gae="",mae="",vae="",yae="",Eae="",bae="",Cae="",Sae="",Aae="",wae="",xae="",Dae="",Iae="",Tae="",Rae="",Bae="",kae="",Mae="",Nae="",Pae="",Oae="",Lae="",Fae="",_ae="",$ae="",zae="",Vae="",Uae="",Hae="",Gae="",jae="",Kae="",Yae="",Wae="",Zae="",Xae="",Jae="",qae="",Qae="",eoe="",toe="",noe={"style.menu.color":xie,"style.menu.fill":Die,"style.menu.dash":Iie,"style.menu.size":Tie,"style.menu.keep.open":Rie,"style.menu.font":Bie,"style.menu.align":kie,styles:Mie,"zoom.in":Nie,"zoom.out":Pie,to:Oie,"menu.file":Lie,"menu.edit":Fie,"menu.view":_ie,"menu.preferences":$ie,"menu.sign.in":zie,"menu.sign.out":Vie,"become.a.sponsor":Uie,"zoom.to.selection":Hie,"zoom.to.fit":Gie,"zoom.to":jie,"preferences.dark.mode":Kie,"preferences.focus.mode":Yie,"preferences.debug.mode":Wie,"preferences.show.grid":Zie,"preferences.use.cad.selection":Xie,"preferences.keep.stylemenu.open":Jie,"preferences.always.show.snaps":qie,"preferences.rotate.handles":Qie,"preferences.binding.handles":eae,"preferences.clone.handles":tae,undo:nae,redo:rae,cut:iae,copy:aae,paste:oae,"copy.as":sae,"export.as":uae,"select.all":lae,"select.none":cae,delete:dae,"new.project":hae,open:fae,save:pae,"save.as":gae,"upload.media":mae,"create.page":vae,"new.page":yae,"page.name":Eae,duplicate:bae,cancel:Cae,"copy.invite.link":Sae,"create.multiplayer.project":Aae,"copy.multiplayer.project":wae,select:xae,eraser:Dae,draw:Iae,arrow:Tae,text:Rae,sticky:Bae,rectangle:kae,ellipse:Mae,triangle:Nae,line:Pae,rotate:Oae,"lock.aspect.ratio":Lae,"unlock.aspect.ratio":Fae,group:_ae,ungroup:$ae,"move.to.back":zae,"move.backward":Vae,"move.forward":Uae,"move.to.front":Hae,"reset.angle":Gae,lock:jae,unlock:Kae,"move.to.page":Yae,"flip.horizontal":Wae,"flip.vertical":Zae,move:Xae,"to.front":Jae,forward:qae,backward:Qae,back:eoe,language:toe},roe="",ioe="",aoe="",ooe="",soe=" ",uoe="",loe="",coe="",doe="",hoe="",foe="to",poe="",goe="",moe="",voe="",yoe="",Eoe="",boe=" ",Coe="  ",Soe=" ",Aoe="",woe=" ",xoe=" ",Doe=" ",Ioe=" ",Toe="CAD  ",Roe="   ",Boe="Snap  ",koe=" ",Moe="Binding Handles",Noe=" ",Poe=" ",Ooe=" ",Loe="",Foe="",_oe="",$oe="  ",zoe="",Voe=" ",Uoe=" ",Hoe="",Goe=" ",joe="",Koe="",Yoe="  ",Woe=" ",Zoe="  ",Xoe=" ",Joe=" ",qoe="",Qoe="",ese="  ",tse="  ",nse="  ",rse="",ise="",ase="",ose="",sse="",use="",lse="",cse="",dse="",hse="",fse="",pse=" ",gse="  ",mse="",vse=" ",yse="  ",Ese=" ",bse=" ",Cse="  ",Sse=" ",Ase="",wse=" ",xse=" ",Dse=" ",Ise=" ",Tse="",Rse=" ",Bse="",kse="",Mse=" ",Nse="",Pse={"style.menu.color":roe,"style.menu.fill":ioe,"style.menu.dash":aoe,"style.menu.size":ooe,"style.menu.keep.open":soe,"style.menu.font":uoe,"style.menu.align":loe,styles:coe,"zoom.in":doe,"zoom.out":hoe,to:foe,"menu.file":poe,"menu.edit":goe,"menu.view":moe,"menu.preferences":voe,"menu.sign.in":yoe,"menu.sign.out":Eoe,"become.a.sponsor":boe,"zoom.to.selection":Coe,"zoom.to.fit":Soe,"zoom.to":Aoe,"preferences.dark.mode":woe,"preferences.focus.mode":xoe,"preferences.debug.mode":Doe,"preferences.show.grid":Ioe,"preferences.use.cad.selection":Toe,"preferences.keep.stylemenu.open":Roe,"preferences.always.show.snaps":Boe,"preferences.rotate.handles":koe,"preferences.binding.handles":Moe,"preferences.clone.handles":Noe,undo:Poe,redo:Ooe,cut:Loe,copy:Foe,paste:_oe,"copy.as":$oe,"export.as":zoe,"select.all":Voe,"select.none":Uoe,delete:Hoe,"new.project":Goe,open:joe,save:Koe,"save.as":Yoe,"upload.media":Woe,"create.page":Zoe,"new.page":Xoe,"page.name":Joe,duplicate:qoe,cancel:Qoe,"copy.invite.link":ese,"create.multiplayer.project":tse,"copy.multiplayer.project":nse,select:rse,eraser:ise,draw:ase,arrow:ose,text:sse,sticky:use,rectangle:lse,ellipse:cse,triangle:dse,line:hse,rotate:fse,"lock.aspect.ratio":pse,"unlock.aspect.ratio":gse,group:mse,ungroup:vse,"move.to.back":yse,"move.backward":Ese,"move.forward":bse,"move.to.front":Cse,"reset.angle":Sse,lock:Ase,unlock:wse,"move.to.page":xse,"flip.horizontal":Dse,"flip.vertical":Ise,move:Tse,"to.front":Rse,forward:Bse,backward:kse,back:Mse,language:Nse},Ose="Color",Lse="Fill",Fse="Dash",_se="Size",$se="Keep Open",zse="Font",Vse="Align",Use="Styles",Hse="Zoom In",Gse="Zoom Out",jse="To",Kse="Tools",Yse="Transform",Wse="File",Zse="Edit",Xse="View",Jse="Preferences",qse="Sign In",Qse="Sign Out",eue="Become a Sponsor",tue="Back to content",nue="Zoom to Selection",rue="Zoom to Fit",iue="Zoom to",aue="Dark Mode",oue="Focus Mode",sue="Debug Mode",uue="Show Grid",lue="Use CAD Selection",cue="Keep Style Menu Open",due="Always Show Snaps",hue="Rotate Handles",fue="Binding Handles",pue="Clone Handles",gue="Undo",mue="Redo",vue="Cut",yue="Copy",Eue="Paste",bue="Copy As",Cue="Export As",Sue="Select All",Aue="Select None",wue="Delete",xue="New Project",Due="Open",Iue="Save",Tue="Save As",Rue="Upload Media",Bue="Create Page",kue="New Page",Mue="Page Name",Nue="Duplicate",Pue="Cancel",Oue="Copy Invite Link",Lue="Copy ReadOnly Link",Fue="Create a Multiplayer Project",_ue="Copy to Multiplayer Project",$ue="Select",zue="Eraser",Vue="Draw",Uue="Arrow",Hue="Text",Gue="Sticky",jue="Rectangle",Kue="Ellipse",Yue="Triangle",Wue="Line",Zue="Rotate",Xue="Lock Aspect Ratio",Jue="Unlock Aspect Ratio",que="Group",Que="Ungroup",ele="Move to Back",tle="Move Backward",nle="Move Forward",rle="Move to Front",ile="Reset Angle",ale="Lock",ole="Unlock",sle="Align / Distribute",ule="Move to Page",lle="Flip Horizontal",cle="Flip Vertical",dle="Move",hle="To Front",fle="Forward",ple="Backward",gle="To Back",mle="Language",vle="Learn More",yle="Dock Position",Ele="Bottom",ble="Left",Cle="Right",Sle="Top",Ale="Page",wle="Keyboard shortcuts",xle="Search",Dle="Loading{dots}",Ile="Export Background",Tle="Transparent",Rle="Auto",Ble="Light",kle="Dark",Mle="Github",Nle="Twitter",Ple="Discord",Ole="Image",Lle="Align Left",Fle="Align Horizontal Center",_le="Align Right",$le="Align Top",zle="Align Vertical Center",Vle="Align Bottom",Ule="Distribute Horizontal",Hle="Distribute Vertical",Gle="Stretch Horizontal",jle="Stretch Vertical",Kle="Do you want to save your current project?",Yle="Do you want to save changes to your current project?",Wle="Cancel",Zle="No",Xle="Yes",Jle="Enter file name",qle="Try the new tldraw",Qle={"style.menu.color":Ose,"style.menu.fill":Lse,"style.menu.dash":Fse,"style.menu.size":_se,"style.menu.keep.open":$se,"style.menu.font":zse,"style.menu.align":Vse,styles:Use,"zoom.in":Hse,"zoom.out":Gse,to:jse,"menu.tools":Kse,"menu.transform":Yse,"menu.file":Wse,"menu.edit":Zse,"menu.view":Xse,"menu.preferences":Jse,"menu.sign.in":qse,"menu.sign.out":Qse,"become.a.sponsor":eue,"zoom.to.content":tue,"zoom.to.selection":nue,"zoom.to.fit":rue,"zoom.to":iue,"preferences.dark.mode":aue,"preferences.focus.mode":oue,"preferences.debug.mode":sue,"preferences.show.grid":uue,"preferences.use.cad.selection":lue,"preferences.keep.stylemenu.open":cue,"preferences.always.show.snaps":due,"preferences.rotate.handles":hue,"preferences.binding.handles":fue,"preferences.clone.handles":pue,undo:gue,redo:mue,cut:vue,copy:yue,paste:Eue,"copy.as":bue,"export.as":Cue,"select.all":Sue,"select.none":Aue,delete:wue,"new.project":xue,open:Due,save:Iue,"save.as":Tue,"upload.media":Rue,"create.page":Bue,"new.page":kue,"page.name":Mue,duplicate:Nue,cancel:Pue,"copy.invite.link":Oue,"copy.readonly.link":Lue,"create.multiplayer.project":Fue,"copy.multiplayer.project":_ue,select:$ue,eraser:zue,draw:Vue,arrow:Uue,text:Hue,sticky:Gue,rectangle:jue,ellipse:Kue,triangle:Yue,line:Wue,rotate:Zue,"lock.aspect.ratio":Xue,"unlock.aspect.ratio":Jue,group:que,ungroup:Que,"move.to.back":ele,"move.backward":tle,"move.forward":nle,"move.to.front":rle,"reset.angle":ile,lock:ale,unlock:ole,"align.distribute":sle,"move.to.page":ule,"flip.horizontal":lle,"flip.vertical":cle,move:dle,"to.front":hle,forward:fle,backward:ple,back:gle,language:mle,"translation.link":vle,"dock.position":yle,bottom:Ele,left:ble,right:Cle,top:Sle,page:Ale,"keyboard.shortcuts":wle,search:xle,loading:Dle,"export.background":Ile,transparent:Tle,auto:Rle,light:Ble,dark:kle,github:Mle,twitter:Nle,discord:Ple,image:Ole,"align.left":Lle,"align.center.x":Fle,"align.right":_le,"align.top":$le,"align.center.y":zle,"align.bottom":Vle,"distribute.x":Ule,"distribute.y":Hle,"stretch.x":Gle,"stretch.y":jle,"dialog.save.firsttime":Kle,"dialog.save.again":Yle,"dialog.cancel":Wle,"dialog.no":Zle,"dialog.yes":Xle,"enter.file.name":Jle,"tldraw-beta":qle},ece="",tce="",nce="",rce="",ice=" ",ace="",oce="",sce="",uce=" ",lce=" ",cce="",dce="",hce=" ",fce="",pce="",gce="  ",mce="  ",vce=" ",yce="  ",Ece="  ",bce=" ",Cce=" ",Sce=" ",Ace=" ",wce=" ",xce="CAD  ",Dce="   ",Ice="  ",Tce=" ",Rce=" ",Bce=" ",kce=" ",Mce=" ",Nce=" ",Pce=" ",Oce=" ",Lce=" ",Fce=" ",_ce=" ",$ce="   ",zce="",Vce=" ",Uce="",Hce=" ",Gce=" ",jce="  ",Kce="  ",Yce="   ",Wce=" ",Zce=" ",Xce=" ",Jce="   ",qce="   ",Qce="   ",ede="",tde="",nde=" ",rde="",ide="",ade="",ode="",sde="",ude="",lde="",cde="",dde="   ",hde="   ",fde="",pde="  ",gde=" ",mde="  ",vde=" ",yde="  ",Ede="  ",bde=" ",Cde=" ",Sde=" ",Ade="  ",wde="  ",xde="",Dde=" ",Ide="",Tde="",Rde=" ",Bde="",kde={"style.menu.color":ece,"style.menu.fill":tce,"style.menu.dash":nce,"style.menu.size":rce,"style.menu.keep.open":ice,"style.menu.font":ace,"style.menu.align":oce,styles:sce,"zoom.in":uce,"zoom.out":lce,to:cce,"menu.file":dce,"menu.edit":hce,"menu.view":fce,"menu.preferences":pce,"menu.sign.in":gce,"menu.sign.out":mce,"become.a.sponsor":vce,"zoom.to.selection":yce,"zoom.to.fit":Ece,"zoom.to":bce,"preferences.dark.mode":Cce,"preferences.focus.mode":Sce,"preferences.debug.mode":Ace,"preferences.show.grid":wce,"preferences.use.cad.selection":xce,"preferences.keep.stylemenu.open":Dce,"preferences.always.show.snaps":Ice,"preferences.rotate.handles":Tce,"preferences.binding.handles":Rce,"preferences.clone.handles":Bce,undo:kce,redo:Mce,cut:Nce,copy:Pce,paste:Oce,"copy.as":Lce,"export.as":Fce,"select.all":_ce,"select.none":$ce,delete:zce,"new.project":Vce,open:Uce,save:Hce,"save.as":Gce,"upload.media":jce,"create.page":Kce,"new.page":Yce,"page.name":Wce,duplicate:Zce,cancel:Xce,"copy.invite.link":Jce,"create.multiplayer.project":qce,"copy.multiplayer.project":Qce,select:ede,eraser:tde,draw:nde,arrow:rde,text:ide,sticky:ade,rectangle:ode,ellipse:sde,triangle:ude,line:lde,rotate:cde,"lock.aspect.ratio":dde,"unlock.aspect.ratio":hde,group:fde,ungroup:pde,"move.to.back":gde,"move.backward":mde,"move.forward":vde,"move.to.front":yde,"reset.angle":Ede,lock:bde,unlock:Cde,"move.to.page":Sde,"flip.horizontal":Ade,"flip.vertical":wde,move:xde,"to.front":Dde,forward:Ide,backward:Tde,back:Rde,language:Bde},Mde="Farge",Nde="Fyll",Pde="Linje",Ode="Strrelse",Lde="Hold pen",Fde="Teksttype",_de="Juster",$de="Stiler",zde="Zoom inn",Vde="Zoom ut",Ude="til",Hde="Fil",Gde="Rediger",jde="Vis",Kde="Preferanser",Yde="Logg inn",Wde="Logg ut",Zde="Bli en sponsor",Xde="Zoom til valg",Jde="Zoom for  passe",qde="Zoom til",Qde="Mrk modus",e0e="Fokus modus",t0e="Debug modus",n0e="Vis rutenett",r0e="Bruk CAD seleksjon",i0e="Hold stilmeny pen",a0e="Vis alltid snaps",o0e="Vis roteringshndtak",s0e="Vis bindingshndtak",u0e="Vis kloningshndtak",l0e="Angre",c0e="Gjr om",d0e="Klipp ut",h0e="Kopier",f0e="Lim inn",p0e="Kopier som",g0e="Eksporter som",m0e="Velg alle",v0e="Velg ingen",y0e="Slett",E0e="Nytt prosjekt",b0e="pne",C0e="Lagre",S0e="Lagre som",A0e="Last opp media",w0e="Opprett side",x0e="Ny side",D0e="Sidenavn",I0e="Dupliser",T0e="Avbryt",R0e="Kopier invitasjonslink",B0e="Opprett et flerspiller prosjekt",k0e="Kopier til flerspiller prosjekt",M0e="Velg",N0e="Viskelr",P0e="Tegn",O0e="Pil",L0e="Tekst",F0e="Lapp",_0e="Rektangel",$0e="Ellipse",z0e="Trekant",V0e="Linje",U0e="Roter",H0e="Ls strrelsesforhold",G0e="Ls opp strrelsesforhold",j0e="Grupper",K0e="Avgrupper",Y0e="Flytt bakerst",W0e="Flytt bakover",Z0e="Flytt forover",X0e="Flytt til front",J0e="Tilbakestill vinkel",q0e="Ls",Q0e="Ls opp",ehe="Flytt til side",the="Snu horisontalt",nhe="Snu vertikalt",rhe="Flytt",ihe="Foran",ahe="Framover",ohe="Bakover",she="Bakerst",uhe="Sprk",lhe={"style.menu.color":Mde,"style.menu.fill":Nde,"style.menu.dash":Pde,"style.menu.size":Ode,"style.menu.keep.open":Lde,"style.menu.font":Fde,"style.menu.align":_de,styles:$de,"zoom.in":zde,"zoom.out":Vde,to:Ude,"menu.file":Hde,"menu.edit":Gde,"menu.view":jde,"menu.preferences":Kde,"menu.sign.in":Yde,"menu.sign.out":Wde,"become.a.sponsor":Zde,"zoom.to.selection":Xde,"zoom.to.fit":Jde,"zoom.to":qde,"preferences.dark.mode":Qde,"preferences.focus.mode":e0e,"preferences.debug.mode":t0e,"preferences.show.grid":n0e,"preferences.use.cad.selection":r0e,"preferences.keep.stylemenu.open":i0e,"preferences.always.show.snaps":a0e,"preferences.rotate.handles":o0e,"preferences.binding.handles":s0e,"preferences.clone.handles":u0e,undo:l0e,redo:c0e,cut:d0e,copy:h0e,paste:f0e,"copy.as":p0e,"export.as":g0e,"select.all":m0e,"select.none":v0e,delete:y0e,"new.project":E0e,open:b0e,save:C0e,"save.as":S0e,"upload.media":A0e,"create.page":w0e,"new.page":x0e,"page.name":D0e,duplicate:I0e,cancel:T0e,"copy.invite.link":R0e,"create.multiplayer.project":B0e,"copy.multiplayer.project":k0e,select:M0e,eraser:N0e,draw:P0e,arrow:O0e,text:L0e,sticky:F0e,rectangle:_0e,ellipse:$0e,triangle:z0e,line:V0e,rotate:U0e,"lock.aspect.ratio":H0e,"unlock.aspect.ratio":G0e,group:j0e,ungroup:K0e,"move.to.back":Y0e,"move.backward":W0e,"move.forward":Z0e,"move.to.front":X0e,"reset.angle":J0e,lock:q0e,unlock:Q0e,"move.to.page":ehe,"flip.horizontal":the,"flip.vertical":nhe,move:rhe,"to.front":ihe,forward:ahe,backward:ohe,back:she,language:uhe},che="Kolor",dhe="Wypenienie",hhe="Linia",fhe="Rozmiar",phe="Zachowaj otwarte",ghe="Czcionka",mhe="Wyrwnanie",vhe="Style",yhe="Przybli",Ehe="Oddal",bhe="do",Che="Plik",She="Edycja",Ahe="Widok",whe="Preferencje",xhe="Zaloguj",Dhe="Wyloguj",Ihe="Zosta sponsorem",The="Przybli do zaznaczenia",Rhe="Wypenij ekran",Bhe="Przybli do",khe="Tryb ciemny",Mhe="Tryb skupienia",Nhe="Tryb debugowania",Phe="Poka siatk",Ohe="Uyj zaznaczania CAD",Lhe="Zachowaj menu styli otwarte",Fhe="Przycigaj obiekty",_he="Uchwyty obrotu",$he="Uchwyty powizania",zhe="Uchwyty klonujce",Vhe="Cofnij",Uhe="Powtrz",Hhe="Wytnij",Ghe="Kopiuj",jhe="Wklej",Khe="Kopiuj jako",Yhe="Eksportuj jako",Whe="Zaznacz wszystko",Zhe="Odznacz wszystko",Xhe="Usu",Jhe="Nowy projekt",qhe="Otwrz",Qhe="Zapisz",efe="Zapisz jako",tfe="Zaaduj multimedia",nfe="Utwrz stron",rfe="Nowa strona",ife="Nazwa strony",afe="Powiel",ofe="Anuluj",sfe="Kopiuj link zaproszenia",ufe="Stwrz projekt wieloosobowy",lfe="Kopiuj do projektu wieloosobowego",cfe="Zaznacz",dfe="Gumka",hfe="Rysuj",ffe="Strzaka",pfe="Tekst",gfe="Naklejka",mfe="Prostokt",vfe="Elipsa",yfe="Trjkt",Efe="Linia",bfe="Obr",Cfe="Zablokuj proporcje",Sfe="Odblokuj proporcje",Afe="Grupuj",wfe="Rozgrupuj",xfe="Przenie na ty",Dfe="Przesu do tyu",Ife="Przesu do przodu",Tfe="Przenie na przd",Rfe="Resetuj kt",Bfe="Zablokuj",kfe="Odblokuj",Mfe="Przenie na stron",Nfe="Odwr w poziomie",Pfe="Odwr w pionie",Ofe="Przenie",Lfe="Na wierzch",Ffe="Do przodu",_fe="Do tyu",$fe="Na spd",zfe="Jzyk",Vfe={"style.menu.color":che,"style.menu.fill":dhe,"style.menu.dash":hhe,"style.menu.size":fhe,"style.menu.keep.open":phe,"style.menu.font":ghe,"style.menu.align":mhe,styles:vhe,"zoom.in":yhe,"zoom.out":Ehe,to:bhe,"menu.file":Che,"menu.edit":She,"menu.view":Ahe,"menu.preferences":whe,"menu.sign.in":xhe,"menu.sign.out":Dhe,"become.a.sponsor":Ihe,"zoom.to.selection":The,"zoom.to.fit":Rhe,"zoom.to":Bhe,"preferences.dark.mode":khe,"preferences.focus.mode":Mhe,"preferences.debug.mode":Nhe,"preferences.show.grid":Phe,"preferences.use.cad.selection":Ohe,"preferences.keep.stylemenu.open":Lhe,"preferences.always.show.snaps":Fhe,"preferences.rotate.handles":_he,"preferences.binding.handles":$he,"preferences.clone.handles":zhe,undo:Vhe,redo:Uhe,cut:Hhe,copy:Ghe,paste:jhe,"copy.as":Khe,"export.as":Yhe,"select.all":Whe,"select.none":Zhe,delete:Xhe,"new.project":Jhe,open:qhe,save:Qhe,"save.as":efe,"upload.media":tfe,"create.page":nfe,"new.page":rfe,"page.name":ife,duplicate:afe,cancel:ofe,"copy.invite.link":sfe,"create.multiplayer.project":ufe,"copy.multiplayer.project":lfe,select:cfe,eraser:dfe,draw:hfe,arrow:ffe,text:pfe,sticky:gfe,rectangle:mfe,ellipse:vfe,triangle:yfe,line:Efe,rotate:bfe,"lock.aspect.ratio":Cfe,"unlock.aspect.ratio":Sfe,group:Afe,ungroup:wfe,"move.to.back":xfe,"move.backward":Dfe,"move.forward":Ife,"move.to.front":Tfe,"reset.angle":Rfe,lock:Bfe,unlock:kfe,"move.to.page":Mfe,"flip.horizontal":Nfe,"flip.vertical":Pfe,move:Ofe,"to.front":Lfe,forward:Ffe,backward:_fe,back:$fe,language:zfe},Ufe="Cor",Hfe="Preencher",Gfe="Trao",jfe="Tamanho",Kfe="Manter aberto",Yfe="Fonte",Wfe="Alinhamento",Zfe="Estilos",Xfe="Aumentar zoom",Jfe="Diminuir zoom",qfe="para",Qfe="Arquivo",epe="Editar",tpe="Visualizar",npe="Preferncias",rpe="Entrar",ipe="Sair",ape="Torne-se um patrocinador",ope="Zoom para a seleo",spe="Zoom para ajuste",upe="Zoom para",lpe="Modo Escuro",cpe="Modo Foco",dpe="Modo Debug",hpe="Mostrar Grade",fpe="Usar seleo CAD",ppe="Manter Menu de Estilos Aberto",gpe="Mostrar Pontos de Ajuste",mpe="Controle de Rotao",vpe="Controle de Vnculos",ype="Controle de Clone",Epe="Desfazer",bpe="Refazer",Cpe="Cortar",Spe="Copiar",Ape="Colar",wpe="Copiar como",xpe="Exportar como",Dpe="Selecionar todos",Ipe="Selecionar nenhum",Tpe="Deletar",Rpe="Novo Projeto",Bpe="Abrir",kpe="Salvar",Mpe="Salvar Como",Npe="Carregar Mdia",Ppe="Pgina",Ope="Procurar",Lpe="Carregando{dots}",Fpe="Exportar Fundo",_pe="Transparente",$pe="Automtico",zpe="Claro",Vpe="Escuro",Upe="Ferramentas",Hpe="Transformar",Gpe="Voltar ao Contedo",jpe="Saiba Mais",Kpe="Copiar Link ReadOnly",Ype="Alinhar / Distribuir",Wpe="Criar Pgina",Zpe="Nova Pgina",Xpe="Nome da Pgina",Jpe="Duplicar",qpe="Cancelar",Qpe="Copiar Link de Convite",ege="Criar um Projeto Multijogador",tge="Copiar para Projeto Multijogador",nge="Selecionar",rge="Borracha",ige="Desenhar",age="Seta",oge="Texto",sge="Adesivo",uge="Retngulo",lge="Elipse",cge="Tringulo",dge="Linha",hge="Rotacionar",fge="Travar Proporo da Tela",pge="Destravar Proporo da Tela",gge="Agrupar",mge="Desagrupar",vge="Recuar",yge="Enviar para Trs",Ege="Avanar",bge="Trazer para Frente",Cge="Reiniciar ngulo",Sge="Travar",Age="Destravar",wge="Mover para Pgina",xge="Virar Horizontalmente",Dge="Virar Verticalmente",Ige="Mover",Tge="Para Frente",Rge="Avanar",Bge="Recuar",kge="Voltar",Mge="Idioma",Nge="Imagem",Pge="Atalhos de Teclado",Oge="Posio de Ferramentas",Lge="Inferior",Fge="Superior",_ge="Direita",$ge="Esquerda",zge="Alinhar  esquerda",Vge="Alinhar ao centro na horizontal",Uge="Alinhar  direita",Hge="Alinhas em cima",Gge="Alinhar ao centro na vertical",jge="Alinhar embaixo",Kge="Distruibuir na horizontal",Yge="Distruibuir na vertical",Wge="Esticar na horizontal",Zge="Esticar na vertical",Xge="Voc deseja salvar seu projeto atual?",Jge="Voc deseja salvar as mudanas ao projeto atual?",qge="Cancelar",Qge="No",eme="Sim",tme="Insira o nome do arquivo",nme={"style.menu.color":Ufe,"style.menu.fill":Hfe,"style.menu.dash":Gfe,"style.menu.size":jfe,"style.menu.keep.open":Kfe,"style.menu.font":Yfe,"style.menu.align":Wfe,styles:Zfe,"zoom.in":Xfe,"zoom.out":Jfe,to:qfe,"menu.file":Qfe,"menu.edit":epe,"menu.view":tpe,"menu.preferences":npe,"menu.sign.in":rpe,"menu.sign.out":ipe,"become.a.sponsor":ape,"zoom.to.selection":ope,"zoom.to.fit":spe,"zoom.to":upe,"preferences.dark.mode":lpe,"preferences.focus.mode":cpe,"preferences.debug.mode":dpe,"preferences.show.grid":hpe,"preferences.use.cad.selection":fpe,"preferences.keep.stylemenu.open":ppe,"preferences.always.show.snaps":gpe,"preferences.rotate.handles":mpe,"preferences.binding.handles":vpe,"preferences.clone.handles":ype,undo:Epe,redo:bpe,cut:Cpe,copy:Spe,paste:Ape,"copy.as":wpe,"export.as":xpe,"select.all":Dpe,"select.none":Ipe,delete:Tpe,"new.project":Rpe,open:Bpe,save:kpe,"save.as":Mpe,"upload.media":Npe,page:Ppe,search:Ope,loading:Lpe,"export.background":Fpe,transparent:_pe,auto:$pe,light:zpe,dark:Vpe,"menu.tools":Upe,"menu.transform":Hpe,"zoom.to.content":Gpe,"translation.link":jpe,"copy.readonly.link":Kpe,"align.distribute":Ype,"create.page":Wpe,"new.page":Zpe,"page.name":Xpe,duplicate:Jpe,cancel:qpe,"copy.invite.link":Qpe,"create.multiplayer.project":ege,"copy.multiplayer.project":tge,select:nge,eraser:rge,draw:ige,arrow:age,text:oge,sticky:sge,rectangle:uge,ellipse:lge,triangle:cge,line:dge,rotate:hge,"lock.aspect.ratio":fge,"unlock.aspect.ratio":pge,group:gge,ungroup:mge,"move.to.back":vge,"move.backward":yge,"move.forward":Ege,"move.to.front":bge,"reset.angle":Cge,lock:Sge,unlock:Age,"move.to.page":wge,"flip.horizontal":xge,"flip.vertical":Dge,move:Ige,"to.front":Tge,forward:Rge,backward:Bge,back:kge,language:Mge,image:Nge,"keyboard.shortcuts":Pge,"dock.position":Oge,bottom:Lge,top:Fge,right:_ge,left:$ge,"align.left":zge,"align.center.x":Vge,"align.right":Uge,"align.top":Hge,"align.center.y":Gge,"align.bottom":jge,"distribute.x":Kge,"distribute.y":Yge,"stretch.x":Wge,"stretch.y":Zge,"dialog.save.firsttime":Xge,"dialog.save.again":Jge,"dialog.cancel":qge,"dialog.no":Qge,"dialog.yes":eme,"enter.file.name":tme},rme="Cor",ime="Preencher",ame="Trao",ome="Tamanho",sme="Manter aberto",ume="Fonte",lme="Alinhamento",cme="Estilos",dme="Aumentar zoom",hme="Diminuir zoom",fme="para",pme="Ficheiro",gme="Editar",mme="Visualizar",vme="Preferncias",yme="Entrar",Eme="Sair",bme="Torne-se um patrocinador",Cme="Zoom na seleo",Sme="Zoom para caber",Ame="Zoom para",wme="Modo Escuro",xme="Modo Foco",Dme="Modo Debug",Ime="Mostrar Grelha",Tme="Usar seleo CAD",Rme="Manter Menu de Estilos Aberto",Bme="Mostrar Pontos de Ajuste",kme="Controlo de Rotao",Mme="Controlo de Binds",Nme="Controlo de Clone",Pme="Desfazer",Ome="Refazer",Lme="Cortar",Fme="Copiar",_me="Colar",$me="Copiar como",zme="Exportar como",Vme="Selecionar todos",Ume="Selecionar nenhum",Hme="Apagar",Gme="Novo Projeto",jme="Abrir",Kme="Salvar",Yme="Salvar Como",Wme="Upload Mdia",Zme="Criar Pgina",Xme="Nova Pgina",Jme="Nome da Pgina",qme="Duplicar",Qme="Cancelar",e1e="Copiar Link de Convite",t1e="Criar um Projeto Multi-Utilizador",n1e="Copiar num Projeto Multi-Utilizador",r1e="Selecionar",i1e="Borracha",a1e="Desenhar",o1e="Seta",s1e="Texto",u1e="Post-it",l1e="Retngulo",c1e="Elipse",d1e="Tringulo",h1e="Linha",f1e="Rodar",p1e="Trancar a Proporo",g1e="Destrancar a Proporo",m1e="Agrupar",v1e="Desagrupar",y1e="Colocar no Fundo",E1e="Mover abaixo",b1e="Mover acima",C1e="Colocar  Frente",S1e="Reiniciar ngulo",A1e="Trancar",w1e="Destrancar",x1e="Mover para Pgina",D1e="Inverter Horizontalmente",I1e="Inverter Verticalmente",T1e="Mover",R1e="Para Frente",B1e="Avanar",k1e="Recuar",M1e="Voltar",N1e="Lngua",P1e={"style.menu.color":rme,"style.menu.fill":ime,"style.menu.dash":ame,"style.menu.size":ome,"style.menu.keep.open":sme,"style.menu.font":ume,"style.menu.align":lme,styles:cme,"zoom.in":dme,"zoom.out":hme,to:fme,"menu.file":pme,"menu.edit":gme,"menu.view":mme,"menu.preferences":vme,"menu.sign.in":yme,"menu.sign.out":Eme,"become.a.sponsor":bme,"zoom.to.selection":Cme,"zoom.to.fit":Sme,"zoom.to":Ame,"preferences.dark.mode":wme,"preferences.focus.mode":xme,"preferences.debug.mode":Dme,"preferences.show.grid":Ime,"preferences.use.cad.selection":Tme,"preferences.keep.stylemenu.open":Rme,"preferences.always.show.snaps":Bme,"preferences.rotate.handles":kme,"preferences.binding.handles":Mme,"preferences.clone.handles":Nme,undo:Pme,redo:Ome,cut:Lme,copy:Fme,paste:_me,"copy.as":$me,"export.as":zme,"select.all":Vme,"select.none":Ume,delete:Hme,"new.project":Gme,open:jme,save:Kme,"save.as":Yme,"upload.media":Wme,"create.page":Zme,"new.page":Xme,"page.name":Jme,duplicate:qme,cancel:Qme,"copy.invite.link":e1e,"create.multiplayer.project":t1e,"copy.multiplayer.project":n1e,select:r1e,eraser:i1e,draw:a1e,arrow:o1e,text:s1e,sticky:u1e,rectangle:l1e,ellipse:c1e,triangle:d1e,line:h1e,rotate:f1e,"lock.aspect.ratio":p1e,"unlock.aspect.ratio":g1e,group:m1e,ungroup:v1e,"move.to.back":y1e,"move.backward":E1e,"move.forward":b1e,"move.to.front":C1e,"reset.angle":S1e,lock:A1e,unlock:w1e,"move.to.page":x1e,"flip.horizontal":D1e,"flip.vertical":I1e,move:T1e,"to.front":R1e,forward:B1e,backward:k1e,back:M1e,language:N1e},O1e="",L1e="",F1e="",_1e="",$1e=" ",z1e="",V1e="",U1e="",H1e="",G1e="",j1e="",K1e="",Y1e="",W1e="",Z1e="",X1e="",J1e="",q1e="",Q1e="",e4e=" ",t4e="  ",n4e="  ",r4e="   ",i4e=" ",a4e=" ",o4e=" ",s4e=" ",u4e=" ",l4e=" CAD ",c4e="   ",d4e="  ",h4e=" ",f4e=" ",p4e=" ",g4e="",m4e="",v4e="",y4e="",E4e="",b4e=" ",C4e=" ",S4e=" ",A4e=" ",w4e="",x4e=" ",D4e="",I4e="",T4e=" ",R4e=" ",B4e=" ",k4e=" ",M4e=" ",N4e="",P4e="",O4e="  ",L4e="    ",F4e="  ",_4e="   ",$4e="",z4e="",V4e="",U4e="",H4e="",G4e="",j4e="",K4e="",Y4e="",W4e="",Z4e="",X4e="  ",J4e="  ",q4e="",Q4e="",e2e=" ",t2e="   ",n2e=" ",r2e="   ",i2e=" ",a2e="",o2e="",s2e=" / ",u2e="  ",l2e=" ",c2e=" ",d2e="",h2e="  ",f2e="",p2e="  ",g2e="",m2e="",v2e="",y2e="  ",E2e="",b2e="",C2e="",S2e="",A2e="",w2e=" ",x2e="",D2e="",I2e=" ",T2e="",R2e="",B2e="",k2e="",M2e="",N2e="   ",P2e="   ",O2e="   ",L2e="   ",F2e="   ",_2e="   ",$2e=" ",z2e=" ",V2e=" ",U2e=" ",H2e="",G2e="    ",j2e="   ",K2e="  ,     .     !",Y2e="  ?",W2e="    ?",Z2e="",X2e="",J2e="",q2e="  ",Q2e={"style.menu.color":O1e,"style.menu.fill":L1e,"style.menu.dash":F1e,"style.menu.size":_1e,"style.menu.keep.open":$1e,"style.menu.font":z1e,"style.menu.align":V1e,styles:U1e,"zoom.in":H1e,"zoom.out":G1e,to:j1e,"menu.tools":K1e,"menu.transform":Y1e,"menu.file":W1e,"menu.edit":Z1e,"menu.view":X1e,"menu.preferences":J1e,"menu.sign.in":q1e,"menu.sign.out":Q1e,"become.a.sponsor":e4e,"zoom.to.content":t4e,"zoom.to.selection":n4e,"zoom.to.fit":r4e,"zoom.to":i4e,"preferences.dark.mode":a4e,"preferences.focus.mode":o4e,"preferences.debug.mode":s4e,"preferences.show.grid":u4e,"preferences.use.cad.selection":l4e,"preferences.keep.stylemenu.open":c4e,"preferences.always.show.snaps":d4e,"preferences.rotate.handles":h4e,"preferences.binding.handles":f4e,"preferences.clone.handles":p4e,undo:g4e,redo:m4e,cut:v4e,copy:y4e,paste:E4e,"copy.as":b4e,"export.as":C4e,"select.all":S4e,"select.none":A4e,delete:w4e,"new.project":x4e,open:D4e,save:I4e,"save.as":T4e,"upload.media":R4e,"create.page":B4e,"new.page":k4e,"page.name":M4e,duplicate:N4e,cancel:P4e,"copy.invite.link":O4e,"copy.readonly.link":L4e,"create.multiplayer.project":F4e,"copy.multiplayer.project":_4e,select:$4e,eraser:z4e,draw:V4e,arrow:U4e,text:H4e,sticky:G4e,rectangle:j4e,ellipse:K4e,triangle:Y4e,line:W4e,rotate:Z4e,"lock.aspect.ratio":X4e,"unlock.aspect.ratio":J4e,group:q4e,ungroup:Q4e,"move.to.back":e2e,"move.backward":t2e,"move.forward":n2e,"move.to.front":r2e,"reset.angle":i2e,lock:a2e,unlock:o2e,"align.distribute":s2e,"move.to.page":u2e,"flip.horizontal":l2e,"flip.vertical":c2e,move:d2e,"to.front":h2e,forward:f2e,backward:p2e,back:g2e,language:m2e,"translation.link":v2e,"dock.position":y2e,bottom:E2e,left:b2e,right:C2e,top:S2e,page:A2e,"keyboard.shortcuts":w2e,search:x2e,loading:D2e,"export.background":I2e,transparent:T2e,auto:R2e,light:B2e,dark:k2e,image:M2e,"align.left":N2e,"align.center.x":P2e,"align.right":O2e,"align.top":L2e,"align.center.y":F2e,"align.bottom":_2e,"distribute.x":$2e,"distribute.y":z2e,"stretch.x":V2e,"stretch.y":U2e,share:H2e,"copy.current.page.link":G2e,"copy.project.link":j2e,"data.too.big.encoded":K2e,"dialog.save.firsttime":Y2e,"dialog.save.again":W2e,"dialog.cancel":Z2e,"dialog.no":X2e,"dialog.yes":J2e,"enter.file.name":q2e},eve="Frg",tve="Ifylld",nve="Streck",rve="Storlek",ive="Hll stilmenyn ppen",ave="Typsnitt",ove="Justera",sve="Utseende",uve="Zooma in",lve="Zooma ut",cve="Till",dve="Verktyg",hve="Transform",fve="Arkiv",pve="Redigera",gve="Innehll",mve="Instllningar",vve="Logga in",yve="Logga ut",Eve="Bli en sponsor",bve="Anpassa zoom till innehll",Cve="Anpassa zoom till urval",Sve="Anpassa zoom till skrm",Ave="Zooma till",wve="Mrkt lge",xve="Fokuslge",Dve="Debuglge",Ive="Visa rutnt",Tve="Vlj som i CAD-mjukvara",Rve="Hll stilmenyn ppen",Bve="Visa alltid fstpunkter",kve="Rotationshandtag",Mve="Bindningshandtag",Nve="Kloningshandtag",Pve="ngra",Ove="Gr om",Lve="Klipp ut",Fve="Kopiera",_ve="Klistra in",$ve="Kopiera som",zve="Exportera till",Vve="Vlj alla",Uve="Vlj ingen",Hve="Radera",Gve="Nytt projekt",jve="ppna",Kve="Spara",Yve="Spara som",Wve="Ladda upp media",Zve="Skapa sida",Xve="Ny sida",Jve="Sidnamn",qve="Duplicera",Qve="Avbryt",eye="Kopiera lnk med redigeringsrttigheter",tye="Kopiera lnk med lsrttigheter",nye="Skapa ett Multiplayer-projekt",rye="Kopiera till Multiplayer-project",iye="Vlj",aye="Radera",oye="Rita",sye="Pil",uye="Text",lye="Klisterlapp",cye="Rektangel",dye="Ellips",hye="Triangel",fye="Linje",pye="Rotera",gye="Ls storleksfrhllande",mye="Ls upp storleksfrhllande",vye="Gruppera",yye="Avgruppera",Eye="Placera lngst bak",bye="Flytta bakt",Cye="Flytta framt",Sye="Placera lngst fram",Aye="terstll vinkel",wye="Ls",xye="Ls upp",Dye="Justera / Placera",Iye="Flytta till sida",Tye="Vnd horisontellt",Rye="Vnd vertikalt",Bye="Flytta",kye="Till lngst fram",Mye="Framt",Nye="Bakt",Pye="Till lngst bak",Oye="Sprk",Lye="Mer information",Fye="Dockningsposition",_ye="Botten",$ye="Vnster",zye="Hger",Vye="Topp",Uye="Sida",Hye="Tangentbordsgenvgar",Gye="Sk",jye="Laddar{dots}",Kye="Exportbakgrund",Yye="Transparent",Wye="Auto",Zye="Ljus",Xye="Mrk",Jye="Github",qye="Twitter",Qye="Discord",e3e="Bild",t3e={"style.menu.color":eve,"style.menu.fill":tve,"style.menu.dash":nve,"style.menu.size":rve,"style.menu.keep.open":ive,"style.menu.font":ave,"style.menu.align":ove,styles:sve,"zoom.in":uve,"zoom.out":lve,to:cve,"menu.tools":dve,"menu.transform":hve,"menu.file":fve,"menu.edit":pve,"menu.view":gve,"menu.preferences":mve,"menu.sign.in":vve,"menu.sign.out":yve,"become.a.sponsor":Eve,"zoom.to.content":bve,"zoom.to.selection":Cve,"zoom.to.fit":Sve,"zoom.to":Ave,"preferences.dark.mode":wve,"preferences.focus.mode":xve,"preferences.debug.mode":Dve,"preferences.show.grid":Ive,"preferences.use.cad.selection":Tve,"preferences.keep.stylemenu.open":Rve,"preferences.always.show.snaps":Bve,"preferences.rotate.handles":kve,"preferences.binding.handles":Mve,"preferences.clone.handles":Nve,undo:Pve,redo:Ove,cut:Lve,copy:Fve,paste:_ve,"copy.as":$ve,"export.as":zve,"select.all":Vve,"select.none":Uve,delete:Hve,"new.project":Gve,open:jve,save:Kve,"save.as":Yve,"upload.media":Wve,"create.page":Zve,"new.page":Xve,"page.name":Jve,duplicate:qve,cancel:Qve,"copy.invite.link":eye,"copy.readonly.link":tye,"create.multiplayer.project":nye,"copy.multiplayer.project":rye,select:iye,eraser:aye,draw:oye,arrow:sye,text:uye,sticky:lye,rectangle:cye,ellipse:dye,triangle:hye,line:fye,rotate:pye,"lock.aspect.ratio":gye,"unlock.aspect.ratio":mye,group:vye,ungroup:yye,"move.to.back":Eye,"move.backward":bye,"move.forward":Cye,"move.to.front":Sye,"reset.angle":Aye,lock:wye,unlock:xye,"align.distribute":Dye,"move.to.page":Iye,"flip.horizontal":Tye,"flip.vertical":Rye,move:Bye,"to.front":kye,forward:Mye,backward:Nye,back:Pye,language:Oye,"translation.link":Lye,"dock.position":Fye,bottom:_ye,left:$ye,right:zye,top:Vye,page:Uye,"keyboard.shortcuts":Hye,search:Gye,loading:jye,"export.background":Kye,transparent:Yye,auto:Wye,light:Zye,dark:Xye,github:Jye,twitter:qye,discord:Qye,image:e3e},n3e="",r3e="",i3e=" ",a3e="",o3e=" ",s3e="",u3e="",l3e="",c3e=" ",d3e=" ",h3e="",f3e="",p3e="",g3e="",m3e="",v3e="",y3e="",E3e="",b3e="",C3e=" ",S3e=" ",A3e="  ",w3e=" ",x3e="",D3e=" ",I3e=" ",T3e=" ",R3e=" ",B3e="CAD ",k3e="  ",M3e="  ",N3e=" ",P3e=" ",O3e=" ",L3e=" ",F3e=" ",_3e="",$3e="",z3e="",V3e=" ",U3e=" ",H3e=" ",G3e=" ",j3e="",K3e=" ",Y3e="",W3e="",Z3e=" ",X3e=" ",J3e=" ",q3e=" ",Q3e=" ",eEe="",tEe="",nEe="  ",rEe="  ",iEe="  ",aEe="  ",oEe="",sEe="Eraser",uEe="",lEe="",cEe="",dEe="",hEe="",fEe="",pEe="",gEe="",mEe="",vEe="  ",yEe="  ",EEe=" ",bEe=" ",CEe=" ",SEe=" ",AEe=" ",wEe=" ",xEe=" ",DEe=" ",IEe=" ",TEe=" /",REe=" ",BEe=" ",kEe=" ",MEe="",NEe="",PEe="",OEe="",LEe="",FEe="",_Ee="  ",$Ee=" ",zEe="",VEe="",UEe="",HEe="",GEe="",jEe=" ",KEe="",YEe="Loading{dots}",WEe=" ",ZEe=" ",XEe="",JEe="",qEe="",QEe="Github",ebe="Twitter",tbe="Discord",nbe="",rbe=" ",ibe="  ",abe=" ",obe=" ",sbe="  ",ube=" ",lbe=" ",cbe=" ",dbe=" ",hbe=" ",fbe="    ?",pbe="    ?",gbe="",mbe="",vbe="",ybe="  ",Ebe={"style.menu.color":n3e,"style.menu.fill":r3e,"style.menu.dash":i3e,"style.menu.size":a3e,"style.menu.keep.open":o3e,"style.menu.font":s3e,"style.menu.align":u3e,styles:l3e,"zoom.in":c3e,"zoom.out":d3e,to:h3e,"menu.tools":f3e,"menu.transform":p3e,"menu.file":g3e,"menu.edit":m3e,"menu.view":v3e,"menu.preferences":y3e,"menu.sign.in":E3e,"menu.sign.out":b3e,"become.a.sponsor":C3e,"zoom.to.content":S3e,"zoom.to.selection":A3e,"zoom.to.fit":w3e,"zoom.to":x3e,"preferences.dark.mode":D3e,"preferences.focus.mode":I3e,"preferences.debug.mode":T3e,"preferences.show.grid":R3e,"preferences.use.cad.selection":B3e,"preferences.keep.stylemenu.open":k3e,"preferences.always.show.snaps":M3e,"preferences.rotate.handles":N3e,"preferences.binding.handles":P3e,"preferences.clone.handles":O3e,undo:L3e,redo:F3e,cut:_3e,copy:$3e,paste:z3e,"copy.as":V3e,"export.as":U3e,"select.all":H3e,"select.none":G3e,delete:j3e,"new.project":K3e,open:Y3e,save:W3e,"save.as":Z3e,"upload.media":X3e,"create.page":J3e,"new.page":q3e,"page.name":Q3e,duplicate:eEe,cancel:tEe,"copy.invite.link":nEe,"copy.readonly.link":rEe,"create.multiplayer.project":iEe,"copy.multiplayer.project":aEe,select:oEe,eraser:sEe,draw:uEe,arrow:lEe,text:cEe,sticky:dEe,rectangle:hEe,ellipse:fEe,triangle:pEe,line:gEe,rotate:mEe,"lock.aspect.ratio":vEe,"unlock.aspect.ratio":yEe,group:EEe,ungroup:bEe,"move.to.back":CEe,"move.backward":SEe,"move.forward":AEe,"move.to.front":wEe,"reset.angle":xEe,lock:DEe,unlock:IEe,"align.distribute":TEe,"move.to.page":REe,"flip.horizontal":BEe,"flip.vertical":kEe,move:MEe,"to.front":NEe,forward:PEe,backward:OEe,back:LEe,language:FEe,"translation.link":_Ee,"dock.position":$Ee,bottom:zEe,left:VEe,right:UEe,top:HEe,page:GEe,"keyboard.shortcuts":jEe,search:KEe,loading:YEe,"export.background":WEe,transparent:ZEe,auto:XEe,light:JEe,dark:qEe,github:QEe,twitter:ebe,discord:tbe,image:nbe,"align.left":rbe,"align.center.x":ibe,"align.right":abe,"align.top":obe,"align.center.y":sbe,"align.bottom":ube,"distribute.x":lbe,"distribute.y":cbe,"stretch.x":dbe,"stretch.y":hbe,"dialog.save.firsttime":fbe,"dialog.save.again":pbe,"dialog.cancel":gbe,"dialog.no":mbe,"dialog.yes":vbe,"enter.file.name":ybe},bbe="",Cbe="",Sbe="",Abe="",wbe="",xbe="",Dbe="",Ibe="",Tbe="",Rbe="",Bbe="",kbe="",Mbe="",Nbe="",Pbe="",Obe="",Lbe="",Fbe="",_be="",$be="",zbe="",Vbe="",Ube="",Hbe="",Gbe="",jbe="",Kbe="",Ybe="",Wbe=" CAD",Zbe="",Xbe="",Jbe="",qbe="",Qbe="",eCe="",tCe="",nCe="",rCe="",iCe="",aCe="",oCe="",sCe="",uCe="",lCe="",cCe="",dCe="",hCe="",fCe="",pCe="",gCe="",mCe="",vCe="",yCe="",ECe="",bCe="",CCe="",SCe="",ACe="",wCe="",xCe="",DCe="",ICe="",TCe="",RCe="",BCe="",kCe="",MCe="",NCe="",PCe="",OCe="",LCe="",FCe="",_Ce="",$Ce="",zCe="",VCe="",UCe="",HCe="",GCe="",jCe="",KCe=" / ",YCe="",WCe="",ZCe="",XCe="",JCe="",qCe="",QCe="",e9e="",t9e="",n9e="",r9e="",i9e="",a9e="",o9e="",s9e="",u9e="",l9e="",c9e="",d9e="{dots}",h9e="",f9e="",p9e="",g9e="",m9e="",v9e="Github",y9e="Twitter",E9e="Discord",b9e="",C9e="",S9e="",A9e="",w9e="",x9e="",D9e="",I9e="",T9e="",R9e="",B9e="",k9e="?",M9e="?",N9e="",P9e="",O9e="",L9e="",F9e={"style.menu.color":bbe,"style.menu.fill":Cbe,"style.menu.dash":Sbe,"style.menu.size":Abe,"style.menu.keep.open":wbe,"style.menu.font":xbe,"style.menu.align":Dbe,styles:Ibe,"zoom.in":Tbe,"zoom.out":Rbe,to:Bbe,"menu.tools":kbe,"menu.transform":Mbe,"menu.file":Nbe,"menu.edit":Pbe,"menu.view":Obe,"menu.preferences":Lbe,"menu.sign.in":Fbe,"menu.sign.out":_be,"become.a.sponsor":$be,"zoom.to.content":zbe,"zoom.to.selection":Vbe,"zoom.to.fit":Ube,"zoom.to":Hbe,"preferences.dark.mode":Gbe,"preferences.focus.mode":jbe,"preferences.debug.mode":Kbe,"preferences.show.grid":Ybe,"preferences.use.cad.selection":Wbe,"preferences.keep.stylemenu.open":Zbe,"preferences.always.show.snaps":Xbe,"preferences.rotate.handles":Jbe,"preferences.binding.handles":qbe,"preferences.clone.handles":Qbe,undo:eCe,redo:tCe,cut:nCe,copy:rCe,paste:iCe,"copy.as":aCe,"export.as":oCe,"select.all":sCe,"select.none":uCe,delete:lCe,"new.project":cCe,open:dCe,save:hCe,"save.as":fCe,"upload.media":pCe,"create.page":gCe,"new.page":mCe,"page.name":vCe,duplicate:yCe,cancel:ECe,"copy.invite.link":bCe,"copy.readonly.link":CCe,"create.multiplayer.project":SCe,"copy.multiplayer.project":ACe,select:wCe,eraser:xCe,draw:DCe,arrow:ICe,text:TCe,sticky:RCe,rectangle:BCe,ellipse:kCe,triangle:MCe,line:NCe,rotate:PCe,"lock.aspect.ratio":OCe,"unlock.aspect.ratio":LCe,group:FCe,ungroup:_Ce,"move.to.back":$Ce,"move.backward":zCe,"move.forward":VCe,"move.to.front":UCe,"reset.angle":HCe,lock:GCe,unlock:jCe,"align.distribute":KCe,"move.to.page":YCe,"flip.horizontal":WCe,"flip.vertical":ZCe,move:XCe,"to.front":JCe,forward:qCe,backward:QCe,back:e9e,language:t9e,"translation.link":n9e,"dock.position":r9e,bottom:i9e,left:a9e,right:o9e,top:s9e,page:u9e,"keyboard.shortcuts":l9e,search:c9e,loading:d9e,"export.background":h9e,transparent:f9e,auto:p9e,light:g9e,dark:m9e,github:v9e,twitter:y9e,discord:E9e,image:b9e,"align.left":C9e,"align.center.x":S9e,"align.right":A9e,"align.top":w9e,"align.center.y":x9e,"align.bottom":D9e,"distribute.x":I9e,"distribute.y":T9e,"stretch.x":R9e,"stretch.y":B9e,"dialog.save.firsttime":k9e,"dialog.save.again":M9e,"dialog.cancel":N9e,"dialog.no":P9e,"dialog.yes":O9e,"enter.file.name":L9e},_9e="Renk",$9e="Doldur",z9e="izgi",V9e="Boyut",U9e="Ak Tut",H9e="Yaz Tipi",G9e="Hizala",j9e="Stiller",K9e="Yaknlatr",Y9e="Uzaklatr",W9e="",Z9e="Dosya",X9e="Dzenle",J9e="Grnt",q9e="Tercihler",Q9e="Giri Yap",e5e="Oturumu Kapat",t5e="Sponsor Ol",n5e="Seime Yaknlatr",r5e="Sdrmak iin Yaknlatr",i5e="Yaknlatr",a5e="Karanlk Mod",o5e="Odak Modu",s5e="Debug Modu",u5e="Izgaray Gster",l5e="CAD Seimi Kullan",c5e="Stil Mensn Ak Tut",d5e="Hiza izgilerini Hep Gster",h5e="Rotasyon Kontrolcleri",f5e="Balama Kontrolcleri",p5e="Klon Kontrolcleri",g5e="Geri Al",m5e="Yinele",v5e="Kes",y5e="Kopyala",E5e="Yaptr",b5e="Olarak Kopyala",C5e="Olarak Dar Aktar",S5e="Hepsini Se",A5e="Hibirini Seme",w5e="Sil",x5e="Yeni Proje",D5e="A",I5e="Kaydet",T5e="Farkl Kaydet",R5e="Medya Ykle",B5e="Sayfa Olutur",k5e="Yeni Sayfa",M5e="Sayfa smi",N5e="Kopya Olutur",P5e="ptal",O5e="Davet Linkini Kopyala",L5e="ok Oyunculu Proje Olutur",F5e="ok Oyunculu Projeye Kopyala",_5e="Se",$5e="Silgi",z5e="izim",V5e="Ok",U5e="Yaz",H5e="Yapkan",G5e="Dikdrtgen",j5e="Elips",K5e="gen",Y5e="izgi",W5e="Dndr",Z5e="En Boy Orann Kilitle",X5e="En Boy Oran Kilidini A",J5e="Grupla",q5e="Gruplamay Kaldr",Q5e="Arkaya Ta",eSe="En Arkaya Ta",tSe="En ne Ta",nSe="ne Ta",rSe="Ay Sfrla",iSe="Kilitle",aSe="Kilidini A",oSe="Sayfaya Ta",sSe="Yatay evir",uSe="Dikey evir",lSe="Ta",cSe="ne",dSe="En ne",hSe="En Arkaya",fSe="Arkaya",pSe="Dil",gSe={"style.menu.color":_9e,"style.menu.fill":$9e,"style.menu.dash":z9e,"style.menu.size":V9e,"style.menu.keep.open":U9e,"style.menu.font":H9e,"style.menu.align":G9e,styles:j9e,"zoom.in":K9e,"zoom.out":Y9e,to:W9e,"menu.file":Z9e,"menu.edit":X9e,"menu.view":J9e,"menu.preferences":q9e,"menu.sign.in":Q9e,"menu.sign.out":e5e,"become.a.sponsor":t5e,"zoom.to.selection":n5e,"zoom.to.fit":r5e,"zoom.to":i5e,"preferences.dark.mode":a5e,"preferences.focus.mode":o5e,"preferences.debug.mode":s5e,"preferences.show.grid":u5e,"preferences.use.cad.selection":l5e,"preferences.keep.stylemenu.open":c5e,"preferences.always.show.snaps":d5e,"preferences.rotate.handles":h5e,"preferences.binding.handles":f5e,"preferences.clone.handles":p5e,undo:g5e,redo:m5e,cut:v5e,copy:y5e,paste:E5e,"copy.as":b5e,"export.as":C5e,"select.all":S5e,"select.none":A5e,delete:w5e,"new.project":x5e,open:D5e,save:I5e,"save.as":T5e,"upload.media":R5e,"create.page":B5e,"new.page":k5e,"page.name":M5e,duplicate:N5e,cancel:P5e,"copy.invite.link":O5e,"create.multiplayer.project":L5e,"copy.multiplayer.project":F5e,select:_5e,eraser:$5e,draw:z5e,arrow:V5e,text:U5e,sticky:H5e,rectangle:G5e,ellipse:j5e,triangle:K5e,line:Y5e,rotate:W5e,"lock.aspect.ratio":Z5e,"unlock.aspect.ratio":X5e,group:J5e,ungroup:q5e,"move.to.back":Q5e,"move.backward":eSe,"move.forward":tSe,"move.to.front":nSe,"reset.angle":rSe,lock:iSe,unlock:aSe,"move.to.page":oSe,"flip.horizontal":sSe,"flip.vertical":uSe,move:lSe,"to.front":cSe,forward:dSe,backward:hSe,back:fSe,language:pSe},mSe="",vSe="",ySe="",ESe="",bSe=" ",CSe="",SSe="",ASe="",wSe="",xSe="",DSe="",ISe="",TSe="",RSe="",BSe="",kSe="",MSe="",NSe=" ",PSe="  ",OSe="   ",LSe=" ",FSe=" ",_Se=" ",$Se=" ",zSe=" ",VSe=" CAD ",USe="   ",HSe="  '",GSe=" ",jSe=" '",KSe=" ",YSe="",WSe="",ZSe="",XSe="",JSe="",qSe=" ",QSe=" ",e6e=" ",t6e=" ",n6e="",r6e=" ",i6e="",a6e="",o6e=" ",s6e=" ",u6e=" ",l6e=" ",c6e=" ",d6e="",h6e="",f6e="   ",p6e="  ",g6e="   ",m6e="",v6e="",y6e="",E6e="",b6e="",C6e="",S6e="",A6e="",w6e="",x6e=" ",D6e="",I6e="  ",T6e="   ",R6e="",B6e=" ",k6e=" ",M6e="   ",N6e=" ",P6e="   ",O6e=" ",L6e="",F6e=" ",_6e="  ",$6e=" ",z6e=" ",V6e="",U6e="  ",H6e=" ",G6e="  ",j6e="",K6e="",Y6e={"style.menu.color":mSe,"style.menu.fill":vSe,"style.menu.dash":ySe,"style.menu.size":ESe,"style.menu.keep.open":bSe,"style.menu.font":CSe,"style.menu.align":SSe,styles:ASe,"zoom.in":wSe,"zoom.out":xSe,to:DSe,"menu.file":ISe,"menu.edit":TSe,"menu.view":RSe,"menu.preferences":BSe,"menu.sign.in":kSe,"menu.sign.out":MSe,"become.a.sponsor":NSe,"zoom.to.selection":PSe,"zoom.to.fit":OSe,"zoom.to":LSe,"preferences.dark.mode":FSe,"preferences.focus.mode":_Se,"preferences.debug.mode":$Se,"preferences.show.grid":zSe,"preferences.use.cad.selection":VSe,"preferences.keep.stylemenu.open":USe,"preferences.always.show.snaps":HSe,"preferences.rotate.handles":GSe,"preferences.binding.handles":jSe,"preferences.clone.handles":KSe,undo:YSe,redo:WSe,cut:ZSe,copy:XSe,paste:JSe,"copy.as":qSe,"export.as":QSe,"select.all":e6e,"select.none":t6e,delete:n6e,"new.project":r6e,open:i6e,save:a6e,"save.as":o6e,"upload.media":s6e,"create.page":u6e,"new.page":l6e,"page.name":c6e,duplicate:d6e,cancel:h6e,"copy.invite.link":f6e,"create.multiplayer.project":p6e,"copy.multiplayer.project":g6e,select:m6e,eraser:v6e,draw:y6e,arrow:E6e,text:b6e,sticky:C6e,rectangle:S6e,ellipse:A6e,triangle:w6e,line:x6e,rotate:D6e,"lock.aspect.ratio":I6e,"unlock.aspect.ratio":T6e,group:R6e,ungroup:B6e,"move.to.back":k6e,"move.backward":M6e,"move.forward":N6e,"move.to.front":P6e,"reset.angle":O6e,lock:L6e,unlock:F6e,"move.to.page":_6e,"flip.horizontal":$6e,"flip.vertical":z6e,move:V6e,"to.front":U6e,forward:H6e,backward:G6e,back:j6e,language:K6e},W6e="",Z6e="",X6e="",J6e="",q6e="",Q6e="",eAe="",tAe="",nAe="",rAe="",iAe="",aAe="",oAe="",sAe="",uAe="",lAe="",cAe="",dAe="",hAe="",fAe="",pAe="",gAe="",mAe="",vAe="",yAe="",EAe="",bAe="",CAe="",SAe="",AAe=" CAD ",wAe="",xAe="",DAe="",IAe="",TAe="",RAe="",BAe="",kAe="",MAe="",NAe="",PAe="",OAe="",LAe="",FAe="",_Ae="",$Ae="",zAe="",VAe="",UAe="",HAe="",GAe="",jAe="",KAe="",YAe="",WAe="",ZAe="",XAe="",JAe="",qAe="",QAe="",ewe="",twe="",nwe="",rwe="",iwe="",awe="",owe="",swe="",uwe="",lwe="",cwe="",dwe="",hwe="",fwe="",pwe="",gwe="",mwe="",vwe="",ywe="",Ewe="",bwe="",Cwe="",Swe="",Awe="",wwe="",xwe="",Dwe="",Iwe="",Twe="",Rwe="",Bwe="",kwe="",Mwe="",Nwe="",Pwe="",Owe="",Lwe="",Fwe="",_we="",$we="",zwe="",Vwe="",Uwe="",Hwe="",Gwe=" / ",jwe="",Kwe="",Ywe="",Wwe="",Zwe="",Xwe={"style.menu.color":W6e,"style.menu.fill":Z6e,"style.menu.dash":X6e,"style.menu.size":J6e,"style.menu.keep.open":q6e,"style.menu.font":Q6e,"style.menu.align":eAe,styles:tAe,"zoom.in":nAe,"zoom.out":rAe,to:iAe,"menu.tools":aAe,"menu.transform":oAe,"menu.file":sAe,"menu.edit":uAe,"menu.view":lAe,"menu.preferences":cAe,"menu.sign.in":dAe,"menu.sign.out":hAe,search:fAe,"become.a.sponsor":pAe,"zoom.to.selection":gAe,"zoom.to.fit":mAe,"zoom.to":vAe,"zoom.to.content":yAe,"preferences.dark.mode":EAe,"preferences.focus.mode":bAe,"preferences.debug.mode":CAe,"preferences.show.grid":SAe,"preferences.use.cad.selection":AAe,"preferences.keep.stylemenu.open":wAe,"preferences.always.show.snaps":xAe,"preferences.rotate.handles":DAe,"preferences.binding.handles":IAe,"preferences.clone.handles":TAe,undo:RAe,redo:BAe,cut:kAe,copy:MAe,paste:NAe,"copy.as":PAe,"export.as":OAe,"select.all":LAe,"select.none":FAe,delete:_Ae,"new.project":$Ae,open:zAe,save:VAe,"save.as":UAe,"upload.media":HAe,"create.page":GAe,"new.page":jAe,"page.name":KAe,duplicate:YAe,cancel:WAe,"copy.invite.link":ZAe,"create.multiplayer.project":XAe,"copy.multiplayer.project":JAe,select:qAe,eraser:QAe,draw:ewe,arrow:twe,text:nwe,sticky:rwe,rectangle:iwe,ellipse:awe,triangle:owe,line:swe,rotate:uwe,"lock.aspect.ratio":lwe,"unlock.aspect.ratio":cwe,group:dwe,ungroup:hwe,"move.to.back":fwe,"move.backward":pwe,"move.forward":gwe,"move.to.front":mwe,"reset.angle":vwe,lock:ywe,unlock:Ewe,"move.to.page":bwe,"flip.horizontal":Cwe,"flip.vertical":Swe,move:Awe,"to.front":wwe,forward:xwe,backward:Dwe,back:Iwe,language:Twe,"keyboard.shortcuts":Rwe,"translation.link":Bwe,page:kwe,"dock.position":Mwe,bottom:Nwe,left:Pwe,right:Owe,top:Lwe,"export.background":Fwe,transparent:_we,auto:$we,light:zwe,dark:Vwe,"copy.readonly.link":Uwe,image:Hwe,"align.distribute":Gwe,"dialog.save.firsttime":jwe,"dialog.save.again":Kwe,"dialog.cancel":Ywe,"dialog.no":Wwe,"dialog.yes":Zwe},Jwe="",qwe="",Qwe="",exe="",txe="",nxe="",rxe="",ixe="",axe="",oxe="",sxe="",uxe="",lxe="",cxe="",dxe="",hxe="",fxe="",pxe="",gxe="",mxe="",vxe="",yxe="",Exe="",bxe="",Cxe="",Sxe=" CAD ",Axe="",wxe="",xxe="",Dxe="",Ixe="",Txe="",Rxe="",Bxe="",kxe="",Mxe="",Nxe="",Pxe="",Oxe="",Lxe="",Fxe="",_xe="",$xe="",zxe="",Vxe="",Uxe="",Hxe="",Gxe="",jxe="",Kxe="",Yxe="",Wxe="",Zxe="",Xxe="",Jxe="",qxe="",Qxe="",e8e="",t8e="",n8e="",r8e="",i8e="",a8e="",o8e="",s8e="",u8e="",l8e="",c8e="",d8e="",h8e="",f8e="",p8e="",g8e="",m8e="",v8e="",y8e="",E8e="",b8e="",C8e="",S8e="",A8e="",w8e="",x8e="",D8e="",I8e="",T8e="",R8e="",B8e="",k8e="",M8e="",N8e="",P8e="",O8e="",L8e={"style.menu.color":Jwe,"style.menu.fill":qwe,"style.menu.dash":Qwe,"style.menu.size":exe,"style.menu.keep.open":txe,"style.menu.font":nxe,"style.menu.align":rxe,styles:ixe,"zoom.in":axe,"zoom.out":oxe,to:sxe,"menu.file":uxe,"menu.edit":lxe,"menu.view":cxe,"menu.preferences":dxe,"menu.sign.in":hxe,"menu.sign.out":fxe,"become.a.sponsor":pxe,"zoom.to.selection":gxe,"zoom.to.fit":mxe,"zoom.to":vxe,"preferences.dark.mode":yxe,"preferences.focus.mode":Exe,"preferences.debug.mode":bxe,"preferences.show.grid":Cxe,"preferences.use.cad.selection":Sxe,"preferences.keep.stylemenu.open":Axe,"preferences.always.show.snaps":wxe,"preferences.rotate.handles":xxe,"preferences.binding.handles":Dxe,"preferences.clone.handles":Ixe,undo:Txe,redo:Rxe,cut:Bxe,copy:kxe,paste:Mxe,"copy.as":Nxe,"export.as":Pxe,"select.all":Oxe,"select.none":Lxe,delete:Fxe,"new.project":_xe,open:$xe,save:zxe,"save.as":Vxe,"upload.media":Uxe,"create.page":Hxe,"new.page":Gxe,"page.name":jxe,duplicate:Kxe,cancel:Yxe,"copy.invite.link":Wxe,"copy.readonly.link":Zxe,"create.multiplayer.project":Xxe,"copy.multiplayer.project":Jxe,select:qxe,eraser:Qxe,draw:e8e,arrow:t8e,text:n8e,sticky:r8e,rectangle:i8e,ellipse:a8e,triangle:o8e,line:s8e,rotate:u8e,"lock.aspect.ratio":l8e,"unlock.aspect.ratio":c8e,group:d8e,ungroup:h8e,"move.to.back":f8e,"move.backward":p8e,"move.forward":g8e,"move.to.front":m8e,"reset.angle":v8e,lock:y8e,unlock:E8e,"move.to.page":b8e,"flip.horizontal":C8e,"flip.vertical":S8e,move:A8e,"to.front":w8e,forward:x8e,backward:D8e,back:I8e,language:T8e,"translation.link":R8e,"dock.position":B8e,bottom:k8e,left:M8e,right:N8e,top:P8e,page:O8e},l2=[{locale:"ar",label:"",messages:Yj},{locale:"da",label:"Danish",messages:uW},{locale:"de",label:"Deutsch",messages:zZ},{locale:"en",label:"English",messages:VZ},{locale:"es",label:"Espaol",messages:MJ},{locale:"fa",label:"",messages:cQ},{locale:"fr",label:"Franais",messages:ute},{locale:"he",label:"",messages:zne},{locale:"it",label:"Italiano",messages:wie},{locale:"ja",label:"",messages:noe},{locale:"ko-kr",label:"",messages:Pse},{locale:"ne",label:"",messages:kde},{locale:"no",label:"Norwegian",messages:lhe},{locale:"pl",label:"Polski",messages:Vfe},{locale:"pt",label:"Portugus - Europeu",messages:P1e},{locale:"pt-br",label:"Portugus - Brasil",messages:nme},{locale:"ru",label:"Russian",messages:Q2e},{locale:"sv",label:"Svenska",messages:t3e},{locale:"te",label:"",messages:Ebe},{locale:"tr",label:"Trke",messages:gSe},{locale:"uk",label:"Ukrainian",messages:Y6e},{locale:"zh-ch",label:"",messages:Xwe},{locale:"zh-tw",label:" ()",messages:L8e},{locale:"th",label:"",messages:F9e}];l2.sort((e,t)=>e.locale<t.locale?-1:1);function F8e(e){var t;let n=l2.find(r=>r.locale===e);return{locale:e,label:(t=n?.label)!=null?t:e,messages:L(L({},Qle),n?.messages)}}function _8e(e){return h.useMemo(()=>F8e(e??navigator.language.split(/[-_]/)[0]),[e])}var Ux=h.createContext({}),Hx=()=>{let e=h.useContext(Ux);if(!e)throw new Error("useCtx must be inside a Provider with a value");return e},at=h.forwardRef((e,t)=>{var n=e,{onSelect:r,onClick:i,onDoubleClick:o,variant:u,children:l,isToolLocked:c=!1,disabled:f=!1,isActive:g=!1,onKeyDown:m,id:v}=n,y=Vr(n,["onSelect","onClick","onDoubleClick","variant","children","isToolLocked","disabled","isActive","onKeyDown","id"]);return h.createElement($8e,L({ref:t,isActive:g,variant:u,onClick:i,disabled:f,onPointerDown:r,onDoubleClick:o,onKeyDown:m,bp:Nr,id:v},y),h.createElement(Zr,null,l),c&&h.createElement(z8e,null))});function Go(e){var t=e,{label:n,kbd:r,isLocked:i}=t,o=Vr(t,["label","kbd","isLocked"]);let u=St(),l=h.useCallback(()=>{u.toggleToolLock()},[]),c=h.useCallback(f=>{f.key===" "&&u.isForcePanning&&f.preventDefault()},[]);return h.createElement(Lt,{label:n[0].toUpperCase()+n.slice(1),kbd:r},h.createElement(at,re(L({},o),{variant:"primary",isToolLocked:i&&o.isActive,onDoubleClick:l,onKeyDown:c})))}var Zr=ve("div",{position:"relative",height:"100%",width:"100%",backgroundColor:"$panel",borderRadius:"$2",margin:"0",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"$ui",color:"inherit",userSelect:"none",boxSizing:"border-box",border:"1px solid transparent","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent"}),$8e=ve("button",{position:"relative",color:"$text",fontSize:"$0",background:"none",margin:"0",padding:"$2",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",cursor:"pointer",pointerEvents:"all",height:"40px",width:"40px",border:"1px solid $panel","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent",[`&:disabled ${Zr}`]:{opacity:.618},variants:{variant:{primary:{marginTop:"0"},icon:{[`& ${Zr}`]:{display:"grid","& > *":{gridRow:1,gridColumn:1}}},text:{width:"auto",[`& ${Zr}`]:{fontSize:"$1",padding:"0 $3",gap:"$3"}},circle:{padding:0,height:32,width:32,border:"none",[`& ${Zr}`]:{border:"1px solid $panelContrast",borderRadius:"100%",boxShadow:"$panel"},[`& ${Zr} > svg`]:{width:14,height:14}}},isActive:{true:{},false:{}},bp:{mobile:{padding:0},small:{}}},compoundVariants:[{variant:"primary",bp:"mobile",css:{height:40,width:36,[`& ${Zr} > svg`]:{width:16,height:16}}},{variant:"primary",bp:"small",css:{height:"44px",width:"44px",[`& ${Zr} > svg`]:{width:20,height:20}}},{isActive:!0,css:{[`${Zr}`]:{backgroundColor:"$selected",color:"$selectedContrast"}}},{isActive:!1,bp:"small",css:{[`&:hover:not(:disabled) ${Zr}`]:{backgroundColor:"$hover"},[`&:focus:not(:disabled) ${Zr}`]:{backgroundColor:"$hover"}}}]}),z8e=ve("div",{position:"absolute",width:10,height:10,backgroundColor:"$selected",borderRadius:"100%",bottom:-2,border:"2px solid $panel",zIndex:100}),V8e=e=>e.document.pageStates[e.appState.currentPageId].selectedIds.length,U8e=e=>e.settings.isDebugMode,H8e=e=>e.document.pageStates[e.appState.currentPageId].selectedIds.some(t=>e.document.pages[e.appState.currentPageId].shapes[t].children!==void 0),G8e=e=>e.stopPropagation(),j8e=({onBlur:e,children:t})=>{let n=bo();return h.createElement(GL,{dir:"ltr"},h.createElement(jL,{dir:"ltr"},t),h.createElement(af,{container:n.current},h.createElement(KL,{onEscapeKeyDown:G8e,tabIndex:-1,onBlur:e,asChild:!0},h.createElement(Eo,{id:"TD-ContextMenu"},h.createElement(K8e,null)))))},K8e=h.memo(function(){let e=St(),t=In(),n=e.useStore(V8e),r=e.useStore(U8e),i=e.useStore(H8e),o=h.useCallback(()=>{e.flipHorizontal()},[e]),u=h.useCallback(()=>{e.flipVertical()},[e]),l=h.useCallback(()=>{e.duplicate()},[e]),c=h.useCallback(()=>{e.toggleLocked()},[e]),f=h.useCallback(()=>{e.group()},[e]),g=h.useCallback(()=>{e.moveToBack()},[e]),m=h.useCallback(()=>{e.moveBackward()},[e]),v=h.useCallback(()=>{e.moveForward()},[e]),y=h.useCallback(()=>{e.moveToFront()},[e]),b=h.useCallback(()=>{e.delete()},[e]),C=h.useCallback(()=>{e.cut()},[e]),A=h.useCallback(()=>{e.copy()},[e]),x=h.useCallback(()=>{e.paste()},[e]),D=h.useCallback(()=>{e.copyImage("svg",{scale:1,quality:1,transparentBackground:!1})},[e]),T=h.useCallback(()=>{e.copyImage("png",{scale:2,quality:1,transparentBackground:!0})},[e]),N=h.useCallback(()=>{e.undo()},[e]),k=h.useCallback(()=>{e.redo()},[e]),M=h.useCallback(()=>Fe(this,null,function*(){e.exportImage("png",{scale:2,quality:1})}),[e]),B=h.useCallback(()=>Fe(this,null,function*(){e.exportImage("jpeg",{scale:2,quality:1})}),[e]),P=h.useCallback(()=>Fe(this,null,function*(){e.exportImage("webp",{scale:2,quality:1})}),[e]),_=h.useCallback(()=>Fe(this,null,function*(){e.exportImage("svg",{scale:1,quality:1})}),[e]),U=h.useCallback(()=>Fe(this,null,function*(){e.copyJson()}),[e]),K=h.useCallback(()=>Fe(this,null,function*(){e.exportJson()}),[e]),J=n>0,te=n>1,fe=n>2;return h.createElement(h.Fragment,null,J?h.createElement(h.Fragment,null,h.createElement(xt,{onClick:l,kbd:"#D",id:"TD-ContextMenu-Duplicate"},h.createElement(ye,{id:"duplicate"})),h.createElement(xt,{onClick:o,kbd:"H",id:"TD-ContextMenu-Flip_Horizontal"},h.createElement(ye,{id:"flip.horizontal"})),h.createElement(xt,{onClick:u,kbd:"V",id:"TD-ContextMenu-Flip_Vertical"},h.createElement(ye,{id:"flip.vertical"})),h.createElement(xt,{onClick:c,kbd:"#L",id:"TD-ContextMenu- Lock_Unlock"},h.createElement(ye,{id:"lock"})," / ",h.createElement(ye,{id:"unlock"})),(te||i)&&h.createElement(Gt,null),te&&h.createElement(xt,{onClick:f,kbd:"#G",id:"TD-ContextMenu-Group"},h.createElement(ye,{id:"group"})),i&&h.createElement(xt,{onClick:f,kbd:"#G",id:"TD-ContextMenu-Ungroup"},h.createElement(ye,{id:"ungroup"})),h.createElement(Gt,null),h.createElement(_m,{label:t.formatMessage({id:"move"}),id:"TD-ContextMenu-Move"},h.createElement(xt,{onClick:y,kbd:"]",id:"TD-ContextMenu-Move-To_Front"},h.createElement(ye,{id:"to.front"})),h.createElement(xt,{onClick:v,kbd:"]",id:"TD-ContextMenu-Move-Forward"},h.createElement(ye,{id:"forward"})),h.createElement(xt,{onClick:m,kbd:"[",id:"TD-ContextMenu-Move-Backward"},h.createElement(ye,{id:"backward"})),h.createElement(xt,{onClick:g,kbd:"[",id:"TD-ContextMenu-Move-To_Back"},h.createElement(ye,{id:"back"}))),h.createElement(J8e,null),te&&h.createElement(Y8e,{hasTwoOrMore:te,hasThreeOrMore:fe}),h.createElement(Gt,null),h.createElement(xt,{onClick:C,kbd:"#X",id:"TD-ContextMenu-Cut"},h.createElement(ye,{id:"cut"})),h.createElement(xt,{onClick:A,kbd:"#C",id:"TD-ContextMenu-Copy"},h.createElement(ye,{id:"copy"})),h.createElement(xt,{onClick:x,kbd:"#V",id:"TD-ContextMenu-Paste"},h.createElement(ye,{id:"paste"})),h.createElement(Gt,null),h.createElement(_m,{label:`${t.formatMessage({id:"copy.as"})}...`,size:"small",id:"TD-ContextMenu-Copy-As"},h.createElement(xt,{onClick:D,id:"TD-ContextMenu-Copy-as-SVG"},"SVG"),h.createElement(xt,{onClick:T,id:"TD-ContextMenu-Copy-As-PNG"},"PNG"),r&&h.createElement(xt,{onClick:U,id:"TD-ContextMenu-Copy_as_JSON"},"JSON")),h.createElement(_m,{label:`${t.formatMessage({id:"export.as"})}...`,size:"small",id:"TD-ContextMenu-Export"},h.createElement(xt,{onClick:_,id:"TD-ContextMenu-Export-SVG"},"SVG"),h.createElement(xt,{onClick:M,id:"TD-ContextMenu-Export-PNG"},"PNG"),h.createElement(xt,{onClick:B,id:"TD-ContextMenu-Export-JPG"},"JPG"),h.createElement(xt,{onClick:P,id:"TD-ContextMenu-Export-WEBP"},"WEBP"),r&&h.createElement(xt,{onClick:K,id:"TD-ContextMenu-Export-JSON"},"JSON")),h.createElement(Gt,null),h.createElement(xt,{onClick:b,kbd:"",id:"TD-ContextMenu-Delete"},h.createElement(ye,{id:"delete"}))):h.createElement(h.Fragment,null,h.createElement(xt,{onClick:x,kbd:"#V",id:"TD-ContextMenu-Paste"},h.createElement(ye,{id:"paste"})),h.createElement(xt,{onClick:N,kbd:"#Z",id:"TD-ContextMenu-Undo"},h.createElement(ye,{id:"undo"})),h.createElement(xt,{onClick:k,kbd:"#Z",id:"TD-ContextMenu-Redo"},h.createElement(ye,{id:"redo"}))))});function Y8e({hasThreeOrMore:e}){let t=St(),n=h.useCallback(()=>{t.align("top")},[t]),r=h.useCallback(()=>{t.align("centerVertical")},[t]),i=h.useCallback(()=>{t.align("bottom")},[t]),o=h.useCallback(()=>{t.stretch("vertical")},[t]),u=h.useCallback(()=>{t.distribute("vertical")},[t]),l=h.useCallback(()=>{t.align("left")},[t]),c=h.useCallback(()=>{t.align("centerHorizontal")},[t]),f=h.useCallback(()=>{t.align("right")},[t]),g=h.useCallback(()=>{t.stretch("horizontal")},[t]),m=h.useCallback(()=>{t.distribute("horizontal")},[t]),v=bo();return h.createElement(k4,null,h.createElement(d2,{id:"TD-ContextMenu-Align-Distribute-Trigger"},h.createElement(ye,{id:"align.distribute"})),h.createElement(af,{container:v.current},h.createElement(M4,{asChild:!0,sideOffset:4,alignOffset:-2},h.createElement(W8e,{numberOfSelected:e?"threeOrMore":"twoOrMore"},h.createElement(yi,{onClick:l,id:"TD-ContextMenu-Align_Distribute-AlignLeft"},h.createElement(pA,null)),h.createElement(yi,{onClick:c,id:"TD-ContextMenu-Align_Distribute-AlignCenterHorizontal"},h.createElement(hA,null)),h.createElement(yi,{onClick:f,id:"TD-ContextMenu-Align_Distribute-AlignRight"},h.createElement(gA,null)),h.createElement(yi,{onClick:g,id:"TD-ContextMenu-Align_Distribute-StretchHorizontal"},h.createElement(bA,null)),e&&h.createElement(yi,{onClick:m,id:"TD-ContextMenu-Align_Distribute-SpaceEvenlyHorizontal"},h.createElement(yA,null)),h.createElement(yi,{onClick:n,id:"TD-ContextMenu-Align_Distribute-AlignTop"},h.createElement(mA,null)),h.createElement(yi,{onClick:r,id:"TD-ContextMenu-Align_Distribute-AlignCenterVertical"},h.createElement(fA,null)),h.createElement(yi,{onClick:i,id:"TD-ContextMenu-Align_Distribute-AlignBottom"},h.createElement(dA,null)),h.createElement(yi,{onClick:o,id:"TD-ContextMenu-Align_Distribute-StretchVertical"},h.createElement(CA,null)),e&&h.createElement(yi,{onClick:u,id:"TD-ContextMenu-Align_Distribute-SpaceEvenlyVertical"},h.createElement(EA,null)),h.createElement(c2,{offset:13})))))}var W8e=ve(Eo,{display:"grid",variants:{numberOfSelected:{threeOrMore:{gridTemplateColumns:"repeat(5, auto)"},twoOrMore:{gridTemplateColumns:"repeat(4, auto)"}}}}),Z8e=e=>e.appState.currentPageId,X8e=e=>e.document.pages;function J8e(){let e=St(),t=e.useStore(Z8e),n=e.useStore(X8e),r=Object.values(n).sort((o,u)=>(o.childIndex||0)-(u.childIndex||0)).filter(o=>o.id!==t),i=bo();return r.length===0?null:h.createElement(k4,null,h.createElement(d2,null,h.createElement(ye,{id:"move.to.page"})),h.createElement(af,{container:i.current},h.createElement(M4,{sideOffset:4,alignOffset:-2,asChild:!0},h.createElement(Eo,null,r.map(({id:o,name:u},l)=>h.createElement(xt,{key:o,disabled:o===t,onClick:()=>e.moveToPage(o)},u||`Page ${l}`)),h.createElement(c2,{offset:13})))))}function _m({children:e,label:t,size:n,id:r}){let i=bo();return h.createElement(k4,null,h.createElement(d2,null,t),h.createElement(af,{container:i.current},h.createElement(M4,{sideOffset:4,alignOffset:-2,asChild:!0},h.createElement(Eo,{size:n},e,h.createElement(c2,{offset:13})))))}var c2=ve(zL,{fill:"$panel"});function yi(e){var t=e,{onSelect:n}=t,r=Vr(t,["onSelect"]);return h.createElement(cA,{dir:"ltr",onSelect:n,asChild:!0},h.createElement(at,L({},r)))}var xt=e=>{var t=e,{id:n}=t,r=Vr(t,["id"]);return h.createElement(cA,{asChild:!0,id:n},h.createElement(_n,L({},r)))},d2=e=>{var t=e,{id:n}=t,r=Vr(t,["id"]);return h.createElement(YL,{asChild:!0,id:n},h.createElement(_n,L({hasArrow:!0},r)))},q8e=h.memo(j8e);function Q8e({error:e,resetErrorBoundary:t}){let n=St(),r=()=>{window.location.reload(),t()},i=()=>{let l=document.createElement("textarea");l.value=e.message,document.body.appendChild(l),l.select(),document.execCommand("copy"),l.remove()},o=()=>{n.saveProjectAs()},u=()=>{n.resetDocument(),t()};return h.createElement(eDe,null,h.createElement(tDe,null,h.createElement("div",null,"We've encountered an error!"),h.createElement("pre",null,h.createElement("code",null,e.message)),h.createElement(nDe,null,h.createElement(_n,{onClick:i},"Copy Error"),h.createElement(_n,{onClick:r},"Refresh Page")),h.createElement(Gt,null),h.createElement("p",null,"Keep getting this error?"," ",h.createElement("a",{onClick:o,title:"Download your project"},"Download your project")," ","as a backup and then"," ",h.createElement("a",{onClick:u,title:"Reset the document"},"reset the document"),".")))}var eDe=ve("div",{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"$canvas"}),tDe=ve("div",{backgroundColor:"$panel",border:"1px solid $panelContrast",padding:"$5",borderRadius:8,boxShadow:"$panel",maxWidth:320,color:"$text",fontFamily:"$ui",fontSize:"$2",textAlign:"center",display:"flex",flexDirection:"column",gap:"$3","& > pre":{marginTop:"$3",marginBottom:"$3",textAlign:"left",whiteSpace:"pre-wrap",backgroundColor:"$hover",padding:"$4",borderRadius:"$2",fontFamily:'"Menlo", "Monaco", monospace',fontWeight:500},"& p":{fontFamily:"$body",lineHeight:1.7,padding:"$5",margin:0},"& a":{color:"$text",cursor:"pointer",textDecoration:"underline"},"& hr":{marginLeft:"-$5",marginRight:"-$5"}}),nDe=ve("div",{display:"flex","& > button > div":{justifyContent:"center",textAlign:"center"}}),h2=ve("button",{position:"relative",height:"32px",width:"32px",backgroundColor:"$panel",borderRadius:"4px",padding:"0",margin:"0",outline:"none",border:"none",pointerEvents:"all",fontSize:"$0",color:"$text",cursor:"pointer",display:"grid",alignItems:"center",justifyContent:"center","& > *":{gridRow:1,gridColumn:1},"&:disabled":{opacity:"0.5"},"& > span":{width:"100%",height:"100%",display:"flex",alignItems:"center"},variants:{bp:{mobile:{backgroundColor:"transparent"},small:{"&:hover:not(:disabled)":{backgroundColor:"$hover"}}},size:{small:{height:32,width:32,"& svg:nth-of-type(1)":{height:"16px",width:"16px"}},medium:{height:44,width:44,"& svg:nth-of-type(1)":{height:"18px",width:"18px"}},large:{height:44,width:44,"& svg:nth-of-type(1)":{height:"20px",width:"20px"}}},isActive:{true:{color:"$selected"}}}});function rDe({onSelect:e}){return h.createElement(iDe,null,h.createElement(h2,{onClick:e},h.createElement(xF,null)))}var iDe=ve("div",{opacity:1,zIndex:100,backgroundColor:"transparent","& svg":{color:"$text"},"&:hover svg":{color:"$text"}}),aDe=e=>e.appState.isLoading;function oDe(){let e=St().useStore(aDe);return h.createElement(sDe,{hidden:!e},h.createElement(ye,{id:"loading",values:{dots:"..."}}))}var sDe=ve("div",{position:"absolute",top:0,left:"50%",transform:"translate(-50%, 0)",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px",padding:"8px 16px",fontFamily:"var(--fonts-ui)",fontSize:"var(--fontSizes-1)",boxShadow:"var(--shadows-panel)",backgroundColor:"white",zIndex:200,pointerEvents:"none","& > div > *":{pointerEvents:"all"},variants:{transform:{hidden:{transform:"translate(-50%, 100%)"},visible:{transform:"translate(-50%, 0%)"}}}});function uDe({children:e,onClose:t,container:n}){return h.createElement(t2,{container:n},h.createElement(gDe,null),h.createElement(mDe,{onKeyDown:r=>{switch(r.key){case"Escape":t?.();break}}},e))}var lDe=ve(PU,{marginBottom:20,color:"$text",fontSize:"$2",lineHeight:1.5,textAlign:"center",maxWidth:"62%",minWidth:0,alignSelf:"center"}),cDe=e2,dDe=uDe,hDe=lDe,p9=Nh,fDe=lx,pDe=({container:e})=>{let{setDialogState:t,dialogState:n,onCancel:r,onNo:i,onYes:o}=Hx(),u=In(),l={saveFirstTime:u.formatMessage({id:"dialog.save.firsttime"}),saveAgain:u.formatMessage({id:"dialog.save.again"})};return h.createElement(cDe,{open:n!==null},h.createElement(dDe,{onClose:()=>t(null),container:e},n&&h.createElement(hDe,null,l[n]),h.createElement("div",{style:{width:"100%",gap:"$6",display:"flex",justifyContent:"space-between"}},r&&h.createElement(fDe,{asChild:!0},h.createElement(yc,{css:{color:"$text"},onClick:()=>{r(),t(null)}},h.createElement(ye,{id:"dialog.cancel"}))),h.createElement("div",{style:{flexShrink:0}},i&&h.createElement(p9,{asChild:!0},h.createElement(yc,{onClick:()=>{i(),t(null)}},h.createElement(ye,{id:"dialog.no"}))),o&&h.createElement(p9,{asChild:!0},h.createElement(yc,{css:{backgroundColor:"#2F80ED",color:"White"},onClick:()=>{o(),t(null)}},h.createElement(ye,{id:"dialog.yes"})))))))},gDe=ve(bf,{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, .15)",pointerEvents:"all"});ve(bf,{backgroundColor:"rgba(0, 0, 0, .15)",position:"absolute",pointerEvents:"all",inset:0});var mDe=ve(n2,{position:"fixed",font:"$ui",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"max-content",padding:"$3",pointerEvents:"all",backgroundColor:"$panel",borderRadius:"$3",display:"flex",flexDirection:"column",justifyContent:"center",fontFamily:"$ui",border:"1px solid $panelContrast",boxShadow:"$panel"}),yc=ve("button",{all:"unset",display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:"$2",padding:"0 15px",fontSize:"$1",lineHeight:1,fontWeight:"normal",height:36,color:"$text",cursor:"pointer",minWidth:48}),Gx=h.forwardRef((e,t)=>{var n=e,{icon:r}=n,i=Vr(n,["icon"]);return h.createElement(vDe,null,h.createElement(yDe,re(L({},i),{ref:t})),r?h.createElement(EDe,null,r):null)}),vDe=ve("div",{position:"relative",width:"100%",height:"min-content"}),yDe=ve("input",{color:"$text",border:"none",textAlign:"left",width:"100%",paddingLeft:"$3",paddingRight:"$6",backgroundColor:"$background",height:"32px",outline:"none",fontFamily:"$ui",fontSize:"$1","&:focus":{backgroundColor:"$hover"},borderRadius:"$2"}),EDe=ve(ci,{top:0,right:0,position:"absolute",paddingLeft:"$3",paddingRight:"$3",pointerEvents:"none",color:"$text"}),bDe=({isOpen:e,onClose:t})=>{let n=St(),r=bo(),i=In(),[o,u]=h.useState(n.document.name),l=h.useCallback(g=>{let m=g.target.value.trimStart();u(m)},[]);function c(g){g.stopPropagation()}let f=h.useCallback(g=>{switch(g.key){case"Enter":{n.saveProjectAs(o),t();break}case"Escape":{t();break}}},[]);return h.createElement(e2,{open:e},h.createElement(t2,{container:r.current},h.createElement(SDe,{onPointerDown:t}),h.createElement(CDe,{dir:"ltr",onKeyDown:c,onKeyUp:c},h.createElement(wDe,{placeholder:i.formatMessage({id:"enter.file.name"}),value:o,onChange:l,onKeyDown:f,icon:h.createElement(N4,null)}),h.createElement(ADe,null,h.createElement(Nh,{asChild:!0},h.createElement(yc,{onClick:t},h.createElement(ye,{id:"cancel"}))),h.createElement(Nh,{asChild:!0},h.createElement(yc,{css:{backgroundColor:"#2F80ED",color:"White"},onClick:()=>{let g=o.trim().replace(/\.tldr$/,"");n.saveProjectAs(g),t()}},h.createElement(ye,{id:"save"})))))))},CDe=ve(n2,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:300,maxWidth:"fit-content",maxHeight:"85vh",marginTop:"-5vh",pointerEvents:"all",backgroundColor:"$panel",padding:"$3",borderRadius:"$2",font:"$ui",zIndex:999999,"&:focus":{outline:"none"}}),SDe=ve(bf,{backgroundColor:"rgba(0, 0, 0, .15)",position:"absolute",pointerEvents:"all",inset:0,zIndex:999998}),ADe=ve("div",{width:"100%",display:"flex",alignItems:"center",gap:8,justifyContent:"flex-end",marginTop:10}),wDe=ve(Gx,{background:"$hover"});function et(e){var t=e,{onSelect:n,id:r}=t,i=Vr(t,["onSelect","id"]);return h.createElement(sf,{dir:"ltr",asChild:!0,onSelect:n,id:r},h.createElement(_n,L({},i)))}var _t=e=>e.preventDefault();function Qr({checked:e,disabled:t=!1,variant:n,onCheckedChange:r,kbd:i,id:o,children:u}){return h.createElement(g$,{dir:"ltr",onSelect:_t,onCheckedChange:r,checked:e,disabled:t,asChild:!0,id:o},h.createElement(_n,{kbd:i,variant:n,hasIndicator:!0},u))}var gr=e=>e.stopPropagation();function hs({sideOffset:e=4,alignOffset:t=0,children:n,align:r,variant:i,id:o,overflow:u=!1,side:l="bottom"}){let c=bo();return h.createElement(p$,{container:c.current,dir:"ltr"},h.createElement(TA,{align:r,alignOffset:t,sideOffset:e,onEscapeKeyDown:gr,asChild:!0,id:o,side:l},h.createElement(xDe,{variant:i,overflow:u},n)))}var xDe=ve(Eo,{width:"fit-content",height:"fit-content",minWidth:0,maxHeight:"100vh",overflowY:"auto",overflowX:"hidden","&::webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none",scrollbarWidth:"none",variants:{variant:{horizontal:{flexDirection:"row"},menu:{minWidth:128}},overflow:{true:{maxHeight:"60vh"}}}});ve(v$,{backgroundColor:"$hover",height:1,marginTop:"$2",marginRight:"-$2",marginBottom:"$2",marginLeft:"-$2"});var Z0=ve(RA,{height:"32px",width:"32px",backgroundColor:"$panel",borderRadius:"4px",padding:"0",margin:"0",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",border:"none",pointerEvents:"all",cursor:"pointer",variants:{isActive:{true:{backgroundColor:"$selected",color:"white"},false:{}},bp:{mobile:{},small:{}}},compoundVariants:[{isActive:!1,bp:"small",css:{"&:focus":{backgroundColor:"$hover"},"&:hover:not(:disabled)":{backgroundColor:"$hover"}}}]});function eo({children:e,size:t,overflow:n=!1,disabled:r=!1,label:i,id:o}){return h.createElement(E$,{key:o},h.createElement(b$,{dir:"ltr",asChild:!0},h.createElement(_n,{disabled:r,hasArrow:!0},i)),h.createElement(C$,{asChild:!0,sideOffset:4,alignOffset:-4},h.createElement(Eo,{size:t,overflow:n},e,h.createElement(y$,{offset:13}))))}function jx(e){var t=e,{id:n,children:r}=t,i=Vr(t,["id","children"]);return h.createElement(cs,{asChild:!0,id:n},h.createElement(at,L({},i),r))}var DDe=e=>e.settings.dockPosition,IDe=e=>e.document.pageStates[e.appState.currentPageId].selectedIds.length,TDe=e=>{let t=e.document.pages[e.appState.currentPageId],{selectedIds:n}=e.document.pageStates[e.appState.currentPageId];return n.every(r=>t.shapes[r].isLocked)},RDe=e=>{let t=e.document.pages[e.appState.currentPageId],{selectedIds:n}=e.document.pageStates[e.appState.currentPageId];return n.every(r=>t.shapes[r].isAspectRatioLocked)},BDe=e=>{let t=e.document.pages[e.appState.currentPageId],n=e.document.pageStates[e.appState.currentPageId].selectedIds.map(r=>t.shapes[r]);return n.every(r=>r.children!==void 0||r.parentId===n[0].parentId&&n[0].parentId!==e.appState.currentPageId)},kDe=e=>{let{selectedIds:t}=e.document.pageStates[e.appState.currentPageId];return t.length>0},MDe=e=>{let{selectedIds:t}=e.document.pageStates[e.appState.currentPageId];return t.length>1};function NDe(){let e=St(),t=In(),n=e.useStore(TDe),r=e.useStore(RDe),i=e.useStore(BDe),o=e.useStore(kDe),u=e.useStore(MDe),l=e.useStore(IDe),c=e.useStore(DDe),f=l>1,g=l>2,m=h.useCallback(()=>{e.rotate()},[e]),v=h.useCallback(()=>{e.duplicate()},[e]),y=h.useCallback(()=>{e.toggleLocked()},[e]),b=h.useCallback(()=>{e.toggleAspectRatioLocked()},[e]),C=h.useCallback(()=>{e.group()},[e]),A=h.useCallback(()=>{e.moveToBack()},[e]),x=h.useCallback(()=>{e.moveBackward()},[e]),D=h.useCallback(()=>{e.moveForward()},[e]),T=h.useCallback(()=>{e.moveToFront()},[e]),N=h.useCallback(()=>{e.setShapeProps({rotation:0})},[e]),k=h.useCallback(()=>{e.align("top")},[e]),M=h.useCallback(()=>{e.align("centerVertical")},[e]),B=h.useCallback(()=>{e.align("bottom")},[e]),P=h.useCallback(()=>{e.stretch("vertical")},[e]),_=h.useCallback(()=>{e.distribute("vertical")},[e]),U=h.useCallback(()=>{e.align("left")},[e]),K=h.useCallback(()=>{e.align("centerHorizontal")},[e]),J=h.useCallback(()=>{e.align("right")},[e]),te=h.useCallback(()=>{e.stretch("horizontal")},[e]),fe=h.useCallback(()=>{e.distribute("horizontal")},[e]),Ee=h.useCallback(Y=>{e.setMenuOpen(Y)},[e]);return h.createElement(yo,{dir:"ltr",onOpenChange:Ee},h.createElement(cs,{dir:"ltr",asChild:!0,id:"TD-Tools-Dots"},h.createElement(at,{variant:"circle"},h.createElement(IF,null))),h.createElement(hs,{sideOffset:16,side:c==="bottom"||c==="top"?"top":c},h.createElement(h.Fragment,null,h.createElement(X0,null,h.createElement(Lt,{label:t.formatMessage({id:"duplicate"}),kbd:"#D",id:"TD-Tools-Copy"},h.createElement(at,{disabled:!o,onClick:v},h.createElement(EF,null))),h.createElement(Lt,{label:t.formatMessage({id:"rotate"}),id:"TD-Tools-Rotate"},h.createElement(at,{disabled:!o,onClick:m},h.createElement(r_,null))),h.createElement(Lt,{label:t.formatMessage({id:n?"unlock":"lock"}),kbd:"#L",id:"TD-Tools-Lock"},h.createElement(at,{disabled:!o,onClick:y},n?h.createElement(zF,null):h.createElement(UF,null))),h.createElement(Lt,{label:t.formatMessage({id:r?"unlock.aspect.ratio":"lock.aspect.ratio"}),id:"TD-Tools-AspectRatio"},h.createElement(at,{disabled:!o,onClick:b},r?h.createElement(lF,null):h.createElement(dF,null))),h.createElement(Lt,{label:t.formatMessage({id:"group"}),kbd:"#G",id:"TD-Tools-Group"},h.createElement(at,{disabled:!o||!i&&!u,onClick:C},h.createElement(MF,null)))),h.createElement(X0,null,h.createElement(Lt,{label:t.formatMessage({id:"move.to.back"}),kbd:"#[",id:"TD-Tools-PinBottom"},h.createElement(at,{disabled:!o,onClick:A},h.createElement(ZF,null))),h.createElement(Lt,{label:t.formatMessage({id:"move.backward"}),kbd:"#[",id:"TD-Tools-ArrowDown"},h.createElement(at,{disabled:!o,onClick:x},h.createElement(rF,null))),h.createElement(Lt,{label:t.formatMessage({id:"move.forward"}),kbd:"#]",id:"TD-Tools-ArrowUp"},h.createElement(at,{disabled:!o,onClick:D},h.createElement(sF,null))),h.createElement(Lt,{label:t.formatMessage({id:"move.to.front"}),kbd:"#]",id:"TD-Tools-PinTop"},h.createElement(at,{disabled:!o,onClick:T},h.createElement(JF,null))),h.createElement(Lt,{label:t.formatMessage({id:"reset.angle"}),id:"TD-Tools-ResetAngle"},h.createElement(at,{disabled:!o,onClick:N},h.createElement(tF,null)))),h.createElement(Gt,null),h.createElement(X0,null,h.createElement(Lt,{label:t.formatMessage({id:"align.left"}),id:"TD-Tools-AlignLeft"},h.createElement(at,{disabled:!f,onClick:U},h.createElement(pA,null))),h.createElement(Lt,{label:t.formatMessage({id:"align.center.x"}),id:"TD-Tools-AlignCenterHorizontal"},h.createElement(at,{disabled:!f,onClick:K},h.createElement(hA,null))),h.createElement(Lt,{label:t.formatMessage({id:"align.right"}),id:"TD-Tools-AlignRight"},h.createElement(at,{disabled:!f,onClick:J},h.createElement(gA,null))),h.createElement(Lt,{label:t.formatMessage({id:"stretch.x"}),id:"TD-Tools-StretchHorizontal"},h.createElement(at,{disabled:!f,onClick:te},h.createElement(bA,null))),h.createElement(Lt,{label:t.formatMessage({id:"distribute.x"}),id:"TD-Tools-SpaceEvenlyHorizontal"},h.createElement(at,{disabled:!g,onClick:fe},h.createElement(yA,null)))),h.createElement(X0,null,h.createElement(Lt,{label:t.formatMessage({id:"align.top"}),id:"TD-Tools-AlignTop"},h.createElement(at,{disabled:!f,onClick:k},h.createElement(mA,null))),h.createElement(Lt,{label:t.formatMessage({id:"align.center.y"}),id:"TD-Tools-AlignCenterVertical"},h.createElement(at,{disabled:!f,onClick:M},h.createElement(fA,null))),h.createElement(Lt,{label:t.formatMessage({id:"align.bottom"}),id:"TD-Tools-AlignBottom"},h.createElement(at,{disabled:!f,onClick:B},h.createElement(dA,null))),h.createElement(Lt,{label:t.formatMessage({id:"stretch.y"}),id:"TD-Tools-StretchVertical"},h.createElement(at,{disabled:!f,onClick:P},h.createElement(CA,null))),h.createElement(Lt,{label:t.formatMessage({id:"distribute.y"}),id:"TD-Tools-SpaceEvenlyVertical"},h.createElement(at,{disabled:!g,onClick:_},h.createElement(EA,null)))))))}var X0=ve("div",{position:"relative",display:"flex",width:"100%",background:"none",border:"none",cursor:"pointer",outline:"none",alignItems:"center",justifyContent:"flex-start",padding:0}),PDe=e=>e.appState.isEmptyCanvas&&Object.keys(e.document.pages[e.appState.currentPageId].shapes).length>0,ODe=e=>e.settings.isDebugMode,LDe=e=>e.settings.dockPosition,FDe=h.memo(function(){let e=St(),t=e.useStore(PDe),n=e.useStore(LDe),r=e.useStore(ODe),i={bottom:n==="bottom"&&r?120:n==="bottom"?80:r?60:20,left:"50%",transform:"translate(-50%,0)"};return t?h.createElement(_De,{id:"TD-Tools-Back_to_content",style:L({},i)},h.createElement(_n,{onClick:e.zoomToContent},h.createElement(ye,{id:"zoom.to.content"}))):null}),_De=ve(Eo,{pointerEvents:"all",width:"fit-content",minWidth:0,position:"fixed",bottom:0});function g9(e){let t=e,{size:n=16}=t,r=Vr(t,["size"]);return h.createElement("svg",L({width:24,height:24},r),h.createElement("circle",{cx:12,cy:12,r:n/2}))}function $De(){return h.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2.5,strokeLinecap:"round",strokeDasharray:50.26548*.1}))}var zDe=`${50.26548*.025} ${50.26548*.1}`;function VDe(){return h.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2.5,strokeLinecap:"round",strokeDasharray:zDe}))}function UDe(){return h.createElement("svg",{width:"24",height:"24",viewBox:"1 1.5 21 22",fill:"currentColor",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h.createElement("path",{d:"M10.0162 19.2768C10.0162 19.2768 9.90679 19.2517 9.6879 19.2017C9.46275 19.1454 9.12816 19.0422 8.68413 18.8921C8.23384 18.7358 7.81482 18.545 7.42707 18.3199C7.03307 18.101 6.62343 17.7883 6.19816 17.3818C5.77289 16.9753 5.33511 16.3718 4.88482 15.5713C4.43453 14.7645 4.1531 13.8545 4.04053 12.8414C3.92795 11.822 4.04991 10.8464 4.40639 9.91451C4.76286 8.98266 5.39452 8.10084 6.30135 7.26906C7.21444 6.44353 8.29325 5.83377 9.5378 5.43976C10.7823 5.05202 11.833 4.92068 12.6898 5.04576C13.5466 5.16459 14.3878 5.43664 15.2133 5.86191C16.0388 6.28718 16.7768 6.8688 17.4272 7.60678C18.0714 8.34475 18.5404 9.21406 18.8344 10.2147C19.1283 11.2153 19.1721 12.2598 18.9657 13.348C18.7593 14.4299 18.2872 15.4337 17.5492 16.3593C16.8112 17.2849 15.9263 18.0072 14.8944 18.5263C13.8624 19.0391 12.9056 19.3174 12.0238 19.3612C11.142 19.405 10.2101 19.2705 9.22823 18.9578C8.24635 18.6451 7.35828 18.151 6.56402 17.4756C5.77601 16.8002 6.08871 16.8658 7.50212 17.6726C8.90927 18.4731 10.1444 18.8484 11.2076 18.7983C12.2645 18.7545 13.2965 18.4825 14.3034 17.9822C15.3102 17.4819 16.1264 16.8221 16.7518 16.0028C17.3772 15.1835 17.7681 14.3111 17.9244 13.3855C18.0808 12.4599 18.0401 11.5781 17.8025 10.74C17.5586 9.902 17.1739 9.15464 16.6486 8.49797C16.1233 7.8413 15.2289 7.27844 13.9656 6.80939C12.7086 6.34034 11.4203 6.20901 10.1007 6.41539C8.78732 6.61552 7.69599 7.06893 6.82669 7.77564C5.96363 8.48859 5.34761 9.26409 4.97863 10.1021C4.60964 10.9402 4.45329 11.8376 4.50958 12.7945C4.56586 13.7513 4.79101 14.6238 5.18501 15.4118C5.57276 16.1998 5.96363 16.8002 6.35764 17.2129C6.75164 17.6257 7.13313 17.9509 7.50212 18.1886C7.87736 18.4325 8.28074 18.642 8.71227 18.8171C9.15005 18.9922 9.47839 19.111 9.69728 19.1736C9.91617 19.2361 10.0256 19.2705 10.0256 19.2768H10.0162Z",strokeWidth:"2"}))}function HDe(){return h.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2,strokeLinecap:"round"}))}function GDe(e){return h.createElement("svg",L({width:18,height:18,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 4.656a.5.5 0 01.5-.5h9.7a.5.5 0 010 1H2.5a.5.5 0 01-.5-.5z"}),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.272 3a.578.578 0 00-.578.578v.578h3.311v-.578A.578.578 0 008.428 3H6.272zm3.733 1.156v-.578A1.578 1.578 0 008.428 2H6.272a1.578 1.578 0 00-1.578 1.578v.578H3.578a.5.5 0 00-.5.5V12.2a1.578 1.578 0 001.577 1.578h5.39a1.578 1.578 0 001.577-1.578V4.656a.5.5 0 00-.5-.5h-1.117zm-5.927 1V12.2a.578.578 0 00.577.578h5.39a.578.578 0 00.577-.578V5.156H4.078z"}),h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.272 6.85a.5.5 0 01.5.5v3.233a.5.5 0 11-1 0V7.35a.5.5 0 01.5-.5zM8.428 6.85a.5.5 0 01.5.5v3.233a.5.5 0 11-1 0V7.35a.5.5 0 01.5-.5z"}))}function m9(e){var t=e,{flipHorizontal:n}=t,r=Vr(t,["flipHorizontal"]);return h.createElement("svg",L({width:24,height:24,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",style:{transform:n?"scale(-1, 1)":"scale(1, 1)"}},r),h.createElement("path",{d:"M10.6707 8.5081C10.6707 10.1923 9.3004 11.5625 7.61631 11.5625H6.5351C6.35593 11.5625 6.21074 11.4173 6.21074 11.2382V11.13C6.21074 10.9508 6.35591 10.8057 6.5351 10.8057H7.61631C8.88313 10.8057 9.91387 9.77492 9.91387 8.5081C9.91387 7.24128 8.88313 6.21054 7.61631 6.21054H5.62155L6.99534 7.58433C7.14289 7.73183 7.14289 7.97195 6.99534 8.11944C6.85216 8.26251 6.60298 8.2623 6.46013 8.11944L4.44045 6.09971C4.36898 6.02824 4.32959 5.93321 4.32959 5.8321C4.32959 5.73106 4.36898 5.63598 4.44045 5.56454L6.46024 3.54472C6.60309 3.40176 6.85248 3.40176 6.99535 3.54472C7.14291 3.69218 7.14291 3.93234 6.99535 4.07979L5.62156 5.45368H7.61631C9.3004 5.45368 10.6707 6.82393 10.6707 8.5081Z"}))}function jDe(e){return h.createElement("svg",L({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),h.createElement("path",{d:"M12.4239 4.62C13.3572 4.62 14.1572 4.73333 14.8239 4.96C15.4906 5.17333 15.9772 5.43333 16.2839 5.74C16.3639 5.82 16.4039 5.94 16.4039 6.1V8.86H14.0639C13.9172 8.86 13.8439 8.78666 13.8439 8.64V7.26C13.4306 7.12666 12.9572 7.06 12.4239 7.06C11.6506 7.06 11.0639 7.18 10.6639 7.42C10.2639 7.66 10.0639 8.04666 10.0639 8.58V9C10.0639 9.38666 10.1639 9.69333 10.3639 9.92C10.5772 10.1333 11.0306 10.3467 11.7239 10.56L13.6439 11.14C14.4706 11.38 15.1172 11.66 15.5839 11.98C16.0506 12.3 16.3772 12.68 16.5639 13.12C16.7639 13.5467 16.8639 14.0733 16.8639 14.7V15.62C16.8639 16.7933 16.4039 17.7133 15.4839 18.38C14.5639 19.0467 13.2839 19.38 11.6439 19.38C10.6706 19.38 9.79723 19.2867 9.0239 19.1C8.2639 18.9133 7.71056 18.6533 7.3639 18.32C7.3239 18.28 7.29056 18.24 7.2639 18.2C7.25056 18.1467 7.2439 18.06 7.2439 17.94V15.74H7.6239C8.2239 16.1533 8.85056 16.4533 9.5039 16.64C10.1572 16.8267 10.9306 16.92 11.8239 16.92C12.6506 16.92 13.2506 16.7867 13.6239 16.52C14.0106 16.2533 14.2039 15.9333 14.2039 15.56V14.88C14.2039 14.6667 14.1639 14.48 14.0839 14.32C14.0172 14.16 13.8706 14.0133 13.6439 13.88C13.4172 13.7467 13.0572 13.6067 12.5639 13.46L10.6639 12.88C9.7839 12.6133 9.11056 12.3 8.6439 11.94C8.17723 11.58 7.85056 11.18 7.6639 10.74C7.49056 10.3 7.4039 9.83333 7.4039 9.34V8.38C7.4039 7.64666 7.61056 7 8.0239 6.44C8.43723 5.88 9.01723 5.44 9.7639 5.12C10.5239 4.78666 11.4106 4.62 12.4239 4.62Z"}))}function KDe(e){return h.createElement("svg",L({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),h.createElement("path",{d:"M8.16191 19H5.68191C5.53525 19 5.46191 18.9267 5.46191 18.78V5H8.76191C8.88191 5 8.97525 5.03333 9.04191 5.1C9.10858 5.15333 9.17525 5.27333 9.24191 5.46C9.72191 6.59333 10.1686 7.7 10.5819 8.78C11.0086 9.84667 11.4352 10.98 11.8619 12.18H12.1619C12.6019 10.9667 13.0352 9.79333 13.4619 8.66C13.8886 7.52667 14.3552 6.30667 14.8619 5H18.3219C18.4686 5 18.5419 5.07333 18.5419 5.22V19H16.0619C15.9152 19 15.8419 18.9267 15.8419 18.78V16.26C15.8419 15.5267 15.8486 14.8133 15.8619 14.12C15.8886 13.4267 15.9286 12.6867 15.9819 11.9C16.0486 11.1 16.1419 10.1933 16.2619 9.18H15.9019C15.4352 10.3533 14.9486 11.5667 14.4419 12.82C13.9486 14.06 13.4819 15.2333 13.0419 16.34H11.1019C11.0619 16.34 11.0152 16.3333 10.9619 16.32C10.9219 16.2933 10.8886 16.2467 10.8619 16.18C10.4619 15.18 10.0086 14.06 9.50191 12.82C9.00858 11.58 8.53525 10.3667 8.08191 9.18H7.70191C7.83525 10.18 7.93525 11.0733 8.00191 11.86C8.06858 12.6467 8.10858 13.3933 8.12191 14.1C8.14858 14.8067 8.16191 15.5267 8.16191 16.26V19Z"}))}function YDe(e){return h.createElement("svg",L({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),h.createElement("path",{d:"M7.68191 19C7.53525 19 7.46191 18.9267 7.46191 18.78V5H10.1219C10.2686 5 10.3419 5.07333 10.3419 5.22V16.56H13.4419V15.02H15.7619C15.9086 15.02 15.9819 15.0933 15.9819 15.24V19H7.68191Z"}))}function WDe(){return h.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h.createElement("path",{d:"M1.72838 9.33987L8.84935 2.34732C9.23874 1.96494 9.86279 1.96539 10.2516 2.34831L13.5636 5.60975C13.9655 6.00555 13.9607 6.65526 13.553 7.04507L8.13212 12.2278C7.94604 12.4057 7.69851 12.505 7.44107 12.505L6.06722 12.505L3.83772 12.505C3.5673 12.505 3.30842 12.3954 3.12009 12.2014L1.7114 10.7498C1.32837 10.3551 1.33596 9.72521 1.72838 9.33987Z",stroke:"currentColor"}),h.createElement("line",{x1:"6.01807",y1:"12.5",x2:"10.7959",y2:"12.5",stroke:"currentColor",strokeLinecap:"round"}),h.createElement("line",{x1:"5.50834",y1:"5.74606",x2:"10.1984",y2:"10.4361",stroke:"currentColor"}))}function ZDe(){return h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},h.createElement("path",{d:"M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"}))}function XDe(){return h.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},h.createElement("path",{d:"M3.64645 11.3536C3.45118 11.1583 3.45118 10.8417 3.64645 10.6465L11.1464 3.14645C11.3417 2.95118 11.6583 2.95118 11.8536 3.14645C12.0488 3.34171 12.0488 3.65829 11.8536 3.85355L4.35355 11.3536C4.15829 11.5488 3.84171 11.5488 3.64645 11.3536Z"}))}function JDe(){let e=St(),t=In(),n=h.useCallback(()=>{e.delete()},[e]),r=e.useStore(i=>i.appState.status==="idle"&&i.document.pageStates[i.appState.currentPageId].selectedIds.length>0);return h.createElement(Lt,{label:t.formatMessage({id:"delete"}),kbd:"",id:"TD-Delete"},h.createElement(at,{variant:"circle",disabled:!r,onSelect:n},h.createElement(GDe,null)))}var qDe=e=>e.settings.language,QDe=()=>{let e=St(),t=e.useStore(qDe),n=h.useCallback(r=>{e.setSetting("language",r)},[e]);return h.createElement(hs,{variant:"menu",overflow:!0,id:"language-menu",side:"left",sideOffset:8},l2.map(({locale:r,label:i})=>h.createElement(Qr,{key:r,checked:t===r,onCheckedChange:()=>n(r),id:`TD-MenuItem-Language-${r}`},i)),h.createElement(Gt,null),h.createElement("a",{href:"https://github.com/tldraw/tldraw/blob/main/guides/translation.md",target:"_blank",rel:"nofollow"},h.createElement(et,{id:"TD-MenuItem-Translation-Link"},h.createElement(ye,{id:"translation.link"}),h.createElement(ci,null,h.createElement(vA,null)))))};function e7e({onOpenChange:e}){let t=In(),n=bo(),r={Tools:[{label:t.formatMessage({id:"select"}),kbd:"1"},{label:t.formatMessage({id:"draw"}),kbd:"2"},{label:t.formatMessage({id:"eraser"}),kbd:"3"},{label:t.formatMessage({id:"rectangle"}),kbd:"4"},{label:t.formatMessage({id:"ellipse"}),kbd:"5"},{label:t.formatMessage({id:"triangle"}),kbd:"6"},{label:t.formatMessage({id:"line"}),kbd:"7"},{label:t.formatMessage({id:"arrow"}),kbd:"8"},{label:t.formatMessage({id:"text"}),kbd:"9"},{label:t.formatMessage({id:"sticky"}),kbd:"0"}],View:[{label:t.formatMessage({id:"zoom.in"}),kbd:"#+"},{label:t.formatMessage({id:"zoom.out"}),kbd:"#-"},{label:`${t.formatMessage({id:"zoom.to"})} 100%`,kbd:"+0"},{label:t.formatMessage({id:"zoom.to.fit"}),kbd:"+1"},{label:t.formatMessage({id:"zoom.to.selection"}),kbd:"+2"},{label:t.formatMessage({id:"preferences.dark.mode"}),kbd:"#D"},{label:t.formatMessage({id:"preferences.focus.mode"}),kbd:"#."},{label:t.formatMessage({id:"preferences.show.grid"}),kbd:"#G"}],Transform:[{label:t.formatMessage({id:"flip.horizontal"}),kbd:"H"},{label:t.formatMessage({id:"flip.vertical"}),kbd:"V"},{label:`${t.formatMessage({id:"lock"})} / ${t.formatMessage({id:"unlock"})}`,kbd:"#L"},{label:`${t.formatMessage({id:"move"})} ${t.formatMessage({id:"to.front"})}`,kbd:"]"},{label:`${t.formatMessage({id:"move"})} ${t.formatMessage({id:"forward"})}`,kbd:"]"},{label:`${t.formatMessage({id:"move"})} ${t.formatMessage({id:"backward"})}`,kbd:"["},{label:`${t.formatMessage({id:"move"})} ${t.formatMessage({id:"back"})}`,kbd:"["}],File:[{label:t.formatMessage({id:"new.project"}),kbd:"#N"},{label:t.formatMessage({id:"open"}),kbd:"#O"},{label:t.formatMessage({id:"save"}),kbd:"#S"},{label:t.formatMessage({id:"save.as"}),kbd:"#S"},{label:t.formatMessage({id:"upload.media"}),kbd:"#U"}],Edit:[{label:t.formatMessage({id:"undo"}),kbd:"#Z"},{label:t.formatMessage({id:"redo"}),kbd:"#Z"},{label:t.formatMessage({id:"cut"}),kbd:"#X"},{label:t.formatMessage({id:"copy"}),kbd:"#C"},{label:t.formatMessage({id:"paste"}),kbd:"#V"},{label:t.formatMessage({id:"select.all"}),kbd:"#A"},{label:t.formatMessage({id:"delete"}),kbd:""},{label:t.formatMessage({id:"duplicate"}),kbd:"#D"}]};return h.createElement(jw,{onOpenChange:e},h.createElement(Kw,{asChild:!0},h.createElement(_n,{id:"TD-HelpItem-Keyboard",variant:"wide"},h.createElement(ye,{id:"keyboard.shortcuts"}))),h.createElement(Yw,{container:n.current},h.createElement(o7e,null),h.createElement(i7e,null,h.createElement(u7e,null,h.createElement(ye,{id:"keyboard.shortcuts"}),h.createElement(Q4,{asChild:!0},h.createElement(s7e,null,h.createElement(CF,null)))),h.createElement(a7e,{bp:Nr},Object.entries(r).map(([i,o])=>h.createElement(z1,{key:i},h.createElement(t7e,null,h.createElement(ye,{id:`menu.${i.toLocaleLowerCase()}`})),h.createElement(n7e,null,o.map(u=>h.createElement(r7e,{key:u.label},u.label,h.createElement(u2,{variant:"menu"},u.kbd))))))))))}var t7e=ve("h3",{fontSize:"$2",color:"$text",fontFamily:"$ui",margin:0,paddingBottom:"$5"}),z1=ve("div",{breakInside:"avoid",paddingBottom:24}),n7e=ve("ul",{listStyleType:"none",width:"100%",padding:0,margin:0}),r7e=ve("li",{display:"flex",alignItems:"center",justifyContent:"space-between",height:32,minHeight:32,width:"100%",outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",borderRadius:4,userSelect:"none",margin:0,padding:"0 0"}),i7e=ve(Zw,{borderRadius:6,boxShadow:"hsl(206 22% 7% / 35%) 0px 10px 38px -10px, hsl(206 22% 7% / 20%) 0px 10px 20px -15px",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"fit-content",maxWidth:"90vw",maxHeight:"74vh",overflowY:"auto",padding:25,zIndex:9999,pointerEvents:"all",background:"$panel","&:focus":{outline:"none"}}),a7e=ve("div",{maxWidth:"100%",width:"fit-content",height:"fit-content",overflowY:"auto",columnGap:64,variants:{bp:{mobile:{columns:1,[`& ${z1}`]:{minWidth:"0px"}},small:{columns:2,[`& ${z1}`]:{minWidth:"200px"}},medium:{columns:3},large:{columns:3}}}}),o7e=ve(Ww,{backgroundColor:"$overlay",position:"fixed",inset:0,zIndex:9998}),s7e=ve(h2,{fontFamily:"inherit",borderRadius:"100%",height:25,width:25,display:"inline-flex",alignItems:"center",justifyContent:"center",color:"$text",cursor:"pointer","&:hover":{backgroundColor:"$hover"}}),u7e=ve(Xw,{fontFamily:"$body",fontSize:"$3",color:"$text",paddingBottom:32,display:"flex",alignItems:"center",justifyContent:"space-between",margin:0}),l7e=e=>e.settings.isDebugMode,c7e=e=>e.settings.dockPosition;function d7e(){let e=St(),t=e.useStore(l7e),n=e.useStore(c7e),[r,i]=h.useState(!1);return h.createElement(GU,null,h.createElement(v7e,{dir:"ltr",debug:t,side:n,bp:Nr},h.createElement(KU,{dir:"ltr",asChild:!0},h.createElement(g7e,null,h.createElement(t_,null)))),h.createElement(YU,{dir:"ltr",align:"end",side:"top",alignOffset:10,sideOffset:8,asChild:!0},h.createElement(m7e,{style:{visibility:r?"hidden":"visible"}},h.createElement(h7e,null),h.createElement(e7e,{onOpenChange:i}),h.createElement(Gt,null),h.createElement(p7e,null))))}var h7e=()=>h.createElement(yo,{dir:"ltr"},h.createElement(cs,{asChild:!0},h.createElement(_n,{variant:"wide",hasArrow:!0},h.createElement(ye,{id:"language"}))),h.createElement(QDe,null)),f7e=[{id:"tldraw-beta",icon:vA,url:"https://beta.tldraw.com"},{id:"github",icon:BF,url:"https://github.com/tldraw/tldraw"},{id:"twitter",icon:C_,url:"https://twitter.com/tldraw"},{id:"discord",icon:ZDe,url:"https://discord.gg/SBBEVCA4PG"},{id:"become.a.sponsor",icon:LF,url:"https://github.com/sponsors/steveruizok"}],p7e=()=>h.createElement(h.Fragment,null,f7e.map(e=>h.createElement("a",{key:e.id,href:e.url,target:"_blank",rel:"nofollow"},h.createElement(_n,{id:`TD-Link-${e.id}`,variant:"wide"},h.createElement(ye,{id:e.id}),h.createElement(ci,null,h.createElement(e.icon,null)))))),g7e=ve("button",{width:32,height:32,borderRadius:"100%",display:"flex",padding:0,justifyContent:"center",alignItems:"center",outline:"none",backgroundColor:"$panel",cursor:"pointer",boxShadow:"$panel",border:"1px solid $panelContrast",color:"$text","& svg":{height:12,width:12}}),m7e=ve(Eo,{width:"fit-content",height:"fit-content",minWidth:200,maxHeight:380,overflowY:"auto","& *":{boxSizing:"border-box"},"& a":{outline:"none"},variants:{variant:{horizontal:{flexDirection:"row"},menu:{minWidth:128}}}}),v7e=ve(jU,{position:"absolute",zIndex:999,right:10,bottom:10,width:32,height:32,variants:{debug:{true:{},false:{}},bp:{mobile:{bottom:64},small:{bottom:10},medium:{},large:{}},side:{top:{},left:{},right:{},bottom:{}}},compoundVariants:[{bp:"mobile",side:"bottom",debug:!0,css:{bottom:104}},{bp:"small",side:"bottom",debug:!0,css:{bottom:50}}]}),Lh=ve("div",{backgroundColor:"$panel",display:"flex",flexDirection:"row",boxShadow:"$panel",padding:"$2",border:"1px solid $panelContrast",gap:0,overflow:"hidden",variants:{side:{center:{borderRadius:9},left:{padding:0,borderTop:0,borderLeft:0,borderTopRightRadius:0,borderBottomRightRadius:9,borderBottomLeftRadius:0},right:{padding:0,borderTop:0,borderRight:0,borderTopLeftRadius:0,borderBottomLeftRadius:9,borderBottomRightRadius:0}}},"& hr":{height:10,width:"100%",backgroundColor:"red",border:"none"}}),$m=["rectangle","ellipse","triangle","line"],v9={rectangle:h.createElement(s_,null),ellipse:h.createElement(mF,null),triangle:h.createElement(A_,null),line:h.createElement(XDe,null)},y7e=e=>e.settings.dockPosition,E7e=h.memo(function({activeTool:e,isToolLocked:t}){let n=St(),r=In(),i=n.useStore(y7e),[o,u]=h.useState("rectangle");h.useEffect(()=>{$m.includes(e)&&o!==e&&u(e)},[e]);let l=h.useCallback(()=>{n.selectTool(o)},[e,n]),c=h.useCallback(()=>{n.toggleToolLock()},[n]),f=h.useCallback(y=>{y.key===" "&&n.shiftKey&&y.preventDefault()},[]),g=$m.includes(e),m=i==="bottom"||i==="top"?"top":i,v=i==="bottom"||i==="top"?"row":"column";return h.createElement(yo,{dir:"ltr",onOpenChange:l},h.createElement(cs,{dir:"ltr",asChild:!0,id:"TD-PrimaryTools-Shapes"},h.createElement(at,{disabled:g&&n.shiftKey,variant:"primary",onDoubleClick:c,isToolLocked:g&&t,isActive:g,onKeyDown:f},v9[o])),h.createElement(TA,{asChild:!0,side:m,sideOffset:12},h.createElement(Lh,{side:"center",style:{flexDirection:v}},$m.map((y,b)=>h.createElement(Lt,{key:y,label:r.formatMessage({id:y}),kbd:(4+b).toString(),id:`TD-PrimaryTools-Shapes-${y}`},h.createElement(sf,{asChild:!0},h.createElement(at,{variant:"primary",onClick:()=>{n.selectTool(y),u(y)}},v9[y])))))))}),b7e=e=>e.appState.activeTool,C7e=e=>e.appState.isToolLocked,S7e=e=>e.settings.dockPosition,A7e=h.memo(function(){let e=St(),t=In(),n=e.useStore(b7e),r=e.useStore(C7e),i=e.useStore(S7e),o=h.useCallback(()=>{e.selectTool("select")},[e]),u=h.useCallback(()=>{e.selectTool("erase")},[e]),l=h.useCallback(()=>{e.selectTool("draw")},[e]),c=h.useCallback(()=>{e.selectTool("arrow")},[e]),f=h.useCallback(()=>{e.selectTool("text")},[e]),g=h.useCallback(()=>{e.selectTool("sticky")},[e]),m=h.useCallback(()=>Fe(this,null,function*(){e.openAsset()}),[e]);return h.createElement(w7e,{side:"center",id:"TD-PrimaryTools",style:{flexDirection:i==="bottom"||i==="top"?"row":"column"},bp:Nr},h.createElement(Go,{kbd:"1",label:t.formatMessage({id:"select"}),onClick:o,isActive:n==="select",id:"TD-PrimaryTools-CursorArrow"},h.createElement(AF,null)),h.createElement(Go,{kbd:"2",label:t.formatMessage({id:"draw"}),onClick:l,isActive:n==="draw",id:"TD-PrimaryTools-Pencil"},h.createElement(N4,null)),h.createElement(Go,{kbd:"3",label:t.formatMessage({id:"eraser"}),onClick:u,isActive:n==="erase",id:"TD-PrimaryTools-Eraser"},h.createElement(WDe,null)),h.createElement(E7e,{activeTool:n,isToolLocked:r}),h.createElement(Go,{kbd:"8",label:t.formatMessage({id:"arrow"}),onClick:c,isLocked:r,isActive:n==="arrow",id:"TD-PrimaryTools-ArrowTopRight"},h.createElement(aF,null)),h.createElement(Go,{kbd:"9",label:t.formatMessage({id:"text"}),onClick:f,isLocked:r,isActive:n==="text",id:"TD-PrimaryTools-Text"},h.createElement(d_,null)),h.createElement(Go,{kbd:"0",label:t.formatMessage({id:"sticky"}),onClick:g,isActive:n==="sticky",id:"TD-PrimaryTools-Pencil2"},h.createElement(YF,null)),h.createElement(Go,{label:t.formatMessage({id:"image"}),onClick:m,id:"TD-PrimaryTools-Image"},h.createElement(_F,null)))}),w7e=ve(Lh,{variants:{bp:{mobile:{padding:"$0",borderRadius:"10px"},small:{padding:"$2"}}}}),x7e=e=>e.appState.status,D7e=e=>e.appState.activeTool;function I7e(){let e=St(),t=e.useStore(x7e),n=e.useStore(D7e);return h.createElement(T7e,{bp:Nr,id:"TD-StatusBar"},h.createElement(R7e,null,n," | ",t))}var T7e=ve("div",{height:40,userSelect:"none",borderTop:"1px solid $panelContrast",gridArea:"status",display:"flex",color:"$text",justifyContent:"space-between",alignItems:"center",backgroundColor:"$panel",gap:8,fontFamily:"$ui",fontSize:"$0",padding:"0 16px",variants:{bp:{small:{fontSize:"$1"}}}}),R7e=ve("div",{whiteSpace:"nowrap",overflow:"hidden"}),B7e=e=>e.settings.isDebugMode,k7e=e=>e.settings.dockPosition,M7e=h.memo(function({onBlur:e}){let t=St(),n=t.useStore(k7e),r=t.useStore(B7e);return h.createElement(h.Fragment,null,h.createElement(N7e,{side:n,onBlur:e,bp:Nr,debug:r},h.createElement(P7e,{id:"TD-Tools"},h.createElement(FDe,null),h.createElement(L7e,{orientation:n==="bottom"||n==="top"?"horizontal":"vertical"},h.createElement(NDe,null),h.createElement(A7e,null),h.createElement(JDe,null)))),h.createElement(d7e,null),r&&h.createElement(O7e,null,h.createElement(I7e,null)))}),N7e=ve("div",{position:"absolute",width:"100%",minWidth:0,maxWidth:"100%",height:64,gap:"$4",display:"flex",justifyContent:"center",alignItems:"center",zIndex:200,overflow:"hidden",pointerEvents:"none","& > div > *":{pointerEvents:"all"},variants:{debug:{true:{},false:{}},bp:{mobile:{},small:{},medium:{},large:{}},side:{top:{width:"100%",height:64,left:0,right:0,top:45},right:{width:64,height:"100%",top:0,right:0},bottom:{width:"100%",left:0,right:0,bottom:4},left:{width:64,height:"100%",left:0}}},compoundVariants:[{side:"top",bp:"large",css:{top:0}},{side:"bottom",debug:!0,css:{bottom:44}}]}),P7e=ve("div",{display:"flex",width:"fit-content",height:"fit-content",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"$4"}),O7e=ve("div",{position:"absolute",bottom:"0px",left:"0px",right:"0px",height:"40px",width:"100%",maxWidth:"100%"}),L7e=ve("div",{position:"relative",display:"flex",alignItems:"center",height:"fit-content",gap:"$3",variants:{orientation:{horizontal:{flexDirection:"row"},vertical:{flexDirection:"column"}}}}),F7e=e=>e.settings,_7e=["bottom","left","right","top"];function $7e(){let e=St(),t=In(),n=e.useStore(F7e),r=h.useCallback(()=>{e.setSetting("isDebugMode",m=>!m)},[e]),i=h.useCallback(()=>{e.setSetting("isDarkMode",m=>!m)},[e]),o=h.useCallback(()=>{e.setSetting("isFocusMode",m=>!m)},[e]),u=h.useCallback(()=>{e.setSetting("showGrid",m=>!m)},[e]),l=h.useCallback(()=>{e.setSetting("keepStyleMenuOpen",m=>!m)},[e]),c=h.useCallback(()=>{e.setSetting("isCadSelectMode",m=>!m)},[e]),f=h.useCallback(m=>{e.setSetting("dockPosition",m)},[e]),g=h.useCallback(m=>{e.setSetting("exportBackground",m)},[e]);return h.createElement(eo,{label:t.formatMessage({id:"menu.preferences"}),id:"TD-MenuItem-Preferences"},h.createElement(Qr,{checked:n.isDarkMode,onCheckedChange:i,kbd:"#D",id:"TD-MenuItem-Preferences-Dark_Mode"},h.createElement(ye,{id:"preferences.dark.mode"})),h.createElement(Qr,{checked:n.isFocusMode,onCheckedChange:o,kbd:"#.",id:"TD-MenuItem-Preferences-Focus_Mode"},h.createElement(ye,{id:"preferences.focus.mode"})),h.createElement(Qr,{checked:n.isDebugMode,onCheckedChange:r,id:"TD-MenuItem-Preferences-Debug_Mode"},h.createElement(ye,{id:"preferences.debug.mode"})),h.createElement(Gt,null),h.createElement(Qr,{checked:n.showGrid,onCheckedChange:u,kbd:"#G",id:"TD-MenuItem-Preferences-Grid"},h.createElement(ye,{id:"preferences.show.grid"})),h.createElement(Qr,{checked:n.isCadSelectMode,onCheckedChange:c,id:"TD-MenuItem-Preferences-Cad_Selection"},h.createElement(ye,{id:"preferences.use.cad.selection"})),h.createElement(Qr,{checked:n.keepStyleMenuOpen,onCheckedChange:l,id:"TD-MenuItem-Preferences-Style_menu"},h.createElement(ye,{id:"preferences.keep.stylemenu.open"})),h.createElement(eo,{label:t.formatMessage({id:"dock.position"})},_7e.map(m=>h.createElement(Qr,{key:m,checked:n.dockPosition===m,onCheckedChange:()=>f(m),id:`TD-MenuItem-DockPosition-${m}`},h.createElement(y9,null,h.createElement(ye,{id:m}))))),h.createElement(eo,{label:t.formatMessage({id:"export.background"})},Object.values($x).map(m=>h.createElement(Qr,{key:m,checked:n.exportBackground===m,onCheckedChange:()=>g(m),id:`TD-MenuItem-ExportBackground-${m}`},h.createElement(y9,null,h.createElement(ye,{id:m}))))))}var y9=ve("span",{textTransform:"capitalize"}),z7e=e=>e.document.pageStates[e.appState.currentPageId].selectedIds.length,V7e=e=>e.appState.disableAssets,U7e=h.memo(function({readOnly:e}){let t=St(),n=In(),[r,i]=h.useState(!1),o=t.useStore(z7e),u=t.useStore(V7e),[l,c]=h.useState(0);h.useEffect(()=>c(1),[]);let{onNewProject:f,onOpenProject:g,onSaveProject:m}=Nx(),v=h.useCallback(()=>{nl?t.saveProjectAs():i(!0)},[t]),y=h.useCallback(()=>{t.delete()},[t]),b=h.useCallback(()=>{t.copyImage("svg",{scale:1,quality:1,transparentBackground:!1})},[t]),C=h.useCallback(()=>{t.copyImage("png",{scale:2,quality:1,transparentBackground:!0})},[t]),A=h.useCallback(()=>Fe(this,null,function*(){t.exportImage("png",{scale:2,quality:1})}),[t]),x=h.useCallback(()=>Fe(this,null,function*(){t.exportImage("jpeg",{scale:2,quality:1})}),[t]),D=h.useCallback(()=>Fe(this,null,function*(){t.exportImage("webp",{scale:2,quality:1})}),[t]),T=h.useCallback(()=>Fe(this,null,function*(){t.exportImage("svg",{scale:2,quality:1})}),[t]),N=h.useCallback(()=>Fe(this,null,function*(){t.copyJson()}),[t]),k=h.useCallback(()=>Fe(this,null,function*(){t.exportJson()}),[t]),M=h.useCallback(()=>{t.cut()},[t]),B=h.useCallback(()=>{t.copy()},[t]),P=h.useCallback(()=>{t.paste()},[t]),_=h.useCallback(()=>{t.selectAll()},[t]),U=h.useCallback(()=>{t.selectNone()},[t]),K=h.useCallback(()=>{t.openAsset()},[t]),J=h.useCallback(()=>{t.zoomTo(1)},[t]),te=t.callbacks.onNewProject||t.callbacks.onOpenProject||t.callbacks.onSaveProject||t.callbacks.onSaveProjectAs||t.callbacks.onExport,fe=o>0;return h.createElement(h.Fragment,null,h.createElement(yo,{dir:"ltr"},h.createElement(jx,{id:"TD-MenuIcon"},h.createElement(PF,null)),h.createElement(hs,{variant:"menu",id:"TD-Menu",side:"bottom",align:"start",sideOffset:4,alignOffset:4},te&&h.createElement(eo,{label:`${n.formatMessage({id:"menu.file"})}...`,id:"TD-MenuItem-File"},t.callbacks.onNewProject&&h.createElement(et,{onClick:f,kbd:"#N",id:"TD-MenuItem-File-New_Project"},h.createElement(ye,{id:"new.project"})),t.callbacks.onOpenProject&&h.createElement(et,{onClick:g,kbd:"#O",id:"TD-MenuItem-File-Open"},h.createElement(ye,{id:"open"}),"..."),t.callbacks.onSaveProject&&h.createElement(et,{onClick:m,kbd:"#S",id:"TD-MenuItem-File-Save"},h.createElement(ye,{id:"save"})),t.callbacks.onSaveProjectAs&&h.createElement(et,{onClick:v,kbd:"#S",id:"TD-MenuItem-File-Save_As"},h.createElement(ye,{id:"save.as"}),"..."),!u&&h.createElement(h.Fragment,null,h.createElement(Gt,null),h.createElement(et,{onClick:K,kbd:"#U",id:"TD-MenuItem-File-Upload_Media"},h.createElement(ye,{id:"upload.media"})))),h.createElement(eo,{label:`${n.formatMessage({id:"menu.edit"})}...`,id:"TD-MenuItem-Edit"},h.createElement(et,{onSelect:_t,onClick:t.undo,disabled:e,kbd:"#Z",id:"TD-MenuItem-Edit-Undo"},h.createElement(ye,{id:"undo"})),h.createElement(et,{onSelect:_t,onClick:t.redo,disabled:e,kbd:"#Z",id:"TD-MenuItem-Edit-Redo"},h.createElement(ye,{id:"redo"})),h.createElement(Gt,null),h.createElement(et,{onSelect:_t,disabled:!fe||e,onClick:M,kbd:"#X",id:"TD-MenuItem-Edit-Cut"},h.createElement(ye,{id:"cut"})),h.createElement(et,{onSelect:_t,disabled:!fe,onClick:B,kbd:"#C",id:"TD-MenuItem-Edit-Copy"},h.createElement(ye,{id:"copy"})),h.createElement(et,{onSelect:_t,onClick:P,kbd:"#V",id:"TD-MenuItem-Edit-Paste"},h.createElement(ye,{id:"paste"})),h.createElement(Gt,null),h.createElement(eo,{label:`${n.formatMessage({id:"copy.as"})}...`,size:"small",id:"TD-MenuItem-Copy-As"},h.createElement(et,{onClick:b,id:"TD-MenuItem-Copy-as-SVG"},"SVG"),h.createElement(et,{onClick:C,id:"TD-MenuItem-Copy-As-PNG"},"PNG"),h.createElement(et,{onClick:N,id:"TD-MenuItem-Copy_as_JSON"},"JSON")),h.createElement(eo,{label:`${n.formatMessage({id:"export.as"})}...`,size:"small",id:"TD-MenuItem-Export"},h.createElement(et,{onClick:T,id:"TD-MenuItem-Export-SVG"},"SVG"),h.createElement(et,{onClick:A,id:"TD-MenuItem-Export-PNG"},"PNG"),h.createElement(et,{onClick:x,id:"TD-MenuItem-Export-JPG"},"JPG"),h.createElement(et,{onClick:D,id:"TD-MenuItem-Export-WEBP"},"WEBP"),h.createElement(et,{onClick:k,id:"TD-MenuItem-Export-JSON"},"JSON")),h.createElement(Gt,null),h.createElement(et,{onSelect:_t,onClick:_,kbd:"#A",id:"TD-MenuItem-Select_All"},h.createElement(ye,{id:"select.all"})),h.createElement(et,{onSelect:_t,disabled:!fe,onClick:U,id:"TD-MenuItem-Select_None"},h.createElement(ye,{id:"select.none"})),h.createElement(Gt,null),h.createElement(et,{onSelect:y,disabled:!fe,kbd:"",id:"TD-MenuItem-Delete"},h.createElement(ye,{id:"delete"}))),h.createElement(eo,{label:n.formatMessage({id:"menu.view"}),id:"TD-MenuItem-Edit"},h.createElement(et,{onSelect:_t,onClick:t.zoomIn,kbd:"#+",id:"TD-MenuItem-View-ZoomIn"},h.createElement(ye,{id:"zoom.in"})),h.createElement(et,{onSelect:_t,onClick:t.zoomOut,kbd:"#-",id:"TD-MenuItem-View-ZoomOut"},h.createElement(ye,{id:"zoom.out"})),h.createElement(et,{onSelect:_t,onClick:J,kbd:"+0",id:"TD-MenuItem-View-ZoomTo100"},h.createElement(ye,{id:"zoom.to"})," 100%"),h.createElement(et,{onSelect:_t,onClick:t.zoomToFit,kbd:"+1",id:"TD-MenuItem-View-ZoomToFit"},h.createElement(ye,{id:"zoom.to.fit"})),h.createElement(et,{onSelect:_t,onClick:t.zoomToSelection,kbd:"+2",id:"TD-MenuItem-View-ZoomToSelection"},h.createElement(ye,{id:"zoom.to.selection"}))),h.createElement(Gt,null),h.createElement($7e,null))),h.createElement(bDe,{isOpen:r,onClose:()=>i(!1)}))});function H7e(){return h.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"},h.createElement("path",{d:"M1.36482 4.71089C1.36482 3.21371 2.57853 2 4.07572 2C5.5729 2 6.78661 3.21371 6.78661 4.71089C6.78661 5.76842 6.18106 6.68452 5.29779 7.13136C5.80465 7.24611 6.26407 7.44186 6.66028 7.73182C7.18674 8.11711 7.57215 8.64722 7.81073 9.30983C7.81452 9.30606 7.81832 9.3023 7.82212 9.29855C8.30448 8.82317 8.91325 8.52463 9.60905 8.37275C8.68812 7.922 8.05394 6.97569 8.05394 5.88126C8.05394 4.35017 9.29513 3.10898 10.8262 3.10898C12.3573 3.10898 13.5985 4.35017 13.5985 5.88126C13.5985 6.97561 12.9644 7.92186 12.0436 8.37265C12.7396 8.52449 13.3486 8.82306 13.831 9.29854C14.5795 10.0361 14.9481 11.1249 14.9481 12.5176C14.9481 12.7799 14.7354 12.9926 14.473 12.9926C14.2107 12.9926 13.9981 12.7799 13.9981 12.5175C13.9981 11.2848 13.6738 10.4774 13.1642 9.97518C12.6532 9.4716 11.8802 9.20024 10.8266 9.20024C9.77294 9.20024 8.99993 9.4716 8.48896 9.97518C7.97939 10.4774 7.65513 11.2848 7.65513 12.5176C7.65513 12.7799 7.44247 12.9926 7.18013 12.9926C6.9178 12.9926 6.70513 12.7799 6.70513 12.5176C6.70513 11.6734 6.84053 10.941 7.11384 10.3307C7.0922 10.2895 7.0763 10.2444 7.06737 10.1962C6.91739 9.38749 6.57392 8.84586 6.09923 8.49845C5.61626 8.14499 4.94481 7.95427 4.07574 7.95427C3.05232 7.95427 2.30368 8.21784 1.80952 8.70485C1.31675 9.19047 1.00176 9.97257 1.00176 11.1702C1.00176 11.4326 0.789093 11.6452 0.526758 11.6452C0.264423 11.6452 0.0517578 11.4326 0.0517578 11.1702C0.0517578 9.81263 0.411052 8.74925 1.14268 8.02821C1.60624 7.57137 2.18892 7.28191 2.85378 7.13142C1.97043 6.68461 1.36482 5.76848 1.36482 4.71089ZM4.07572 2.95C3.1032 2.95 2.31482 3.73838 2.31482 4.71089C2.31482 5.68341 3.1032 6.47178 4.07572 6.47178C5.04823 6.47178 5.83661 5.68341 5.83661 4.71089C5.83661 3.73838 5.04823 2.95 4.07572 2.95ZM10.8262 4.05898C9.8198 4.05898 9.00394 4.87484 9.00394 5.88126C9.00394 6.88768 9.8198 7.70355 10.8262 7.70355C11.8326 7.70355 12.6485 6.88768 12.6485 5.88126C12.6485 4.87484 11.8326 4.05898 10.8262 4.05898Z"}))}var is="-0.03em",f2=[.5,.5],V1=".tldr",Sf={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:-1+(4-2*e)*e,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e<=0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e>=1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e<=0?0:e>=1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},E9=["#EC5E41","#F2555A","#F04F88","#E34BA9","#BD54C6","#9D5BD2","#7B66DC","#02B1CC","#11B3A3","#39B178","#55B467","#FF802B"],G7e=typeof Window>"u"?!1:/^((?!chrome|android).)*safari/i.test(navigator.userAgent),j7e=typeof Window>"u"?!1:/linux/i.test(navigator.userAgent),Kx=[".png",".svg",".jpg",".jpeg",".gif"],Yx=G7e?[]:[".mp4",".webm"];function hr(e){if(e===null)return e;if(e instanceof Date)return new Date(e.getTime());if(typeof e=="object")if(typeof e[Symbol.iterator]=="function"){let t=[];if(e.length>0)for(let n of e)t.push(hr(n));return t}else{let t=Object.keys(e),n={};if(t.length>0)for(let r of t)n[r]=hr(e[r]);return n}return e}function rl(e,t){let n=F.getFromCache(t,e,()=>{let[r,i]=e.size;return{minX:0,maxX:r,minY:0,maxY:i,width:r,height:i}});return F.translateBounds(n,e.point)}var K7e={start:"left",middle:"center",end:"right",justify:"justify"};function Y7e(e="start"){return K7e[e]}var Xa;function W7e(){var e;(e=document.getElementById("__textLabelMeasure"))==null||e.remove();let t=document.createElement("pre");return t.id="__textLabelMeasure",Object.assign(t.style,{whiteSpace:"pre",width:"auto",border:"1px solid transparent",padding:"4px",margin:"0px",letterSpacing:is,opacity:"0",position:"absolute",top:"-500px",left:"0px",zIndex:"9999",pointerEvents:"none",userSelect:"none",alignmentBaseline:"mathematical",dominantBaseline:"mathematical"}),t.tabIndex=-1,document.body.appendChild(t),t}typeof window<"u"&&(Xa=W7e());var U1="",b9="",zm=[0,0];function Z7e(){U1=""}function Ec(e,t){if(!e)return[16,32];if(!Xa)return[10,10];if(Xa.parent||document.body.appendChild(Xa),e===U1&&t===b9)return zm;U1=e,b9=t,Xa.textContent=e,Xa.style.font=t;let n=Xa.offsetWidth||1,r=Xa.offsetHeight||1;return zm=[n,r],zm}var X7e=new RegExp(`${[32,160,4961,65792,65793,4153,4241].map(e=>String.fromCodePoint(e)).join("|")}`);function Af(e,t,n,r,i,o=!1){let u="normal",l=is,c=J7e({text:e,width:i,fontSize:t,fontWeight:u,fontFamily:n,textAlign:"left",letterSpacing:is,lineHeight:1}),f=document.createElementNS("http://www.w3.org/2000/svg","text");f.setAttribute("font-size",t+"px"),f.setAttribute("font-family",n),f.setAttribute("font-weight",u),f.setAttribute("line-height",1*t+"px"),f.setAttribute("letter-spacing",l),f.setAttribute("text-align",r??"left"),f.setAttribute("dominant-baseline","mathematical"),f.setAttribute("alignment-baseline","mathematical");let g=c.map((m,v)=>{let y=document.createElementNS("http://www.w3.org/2000/svg","tspan");return y.textContent=m+`
`,y.setAttribute("y",1*t*(v+.5)+"px"),f.appendChild(y),y});switch(r){case"middle":{f.setAttribute("text-align","center"),f.setAttribute("text-anchor","middle"),g.forEach(m=>m.setAttribute("x",i/2+""));break}case"end":{f.setAttribute("text-align","right"),f.setAttribute("text-anchor","end"),g.forEach(m=>m.setAttribute("x",-4+i+""));break}default:f.setAttribute("text-align","left"),f.setAttribute("text-anchor","start"),g.forEach(m=>m.setAttribute("x","4"))}return f}function J7e(e){let t=document.createElement("div");t.style.setProperty("position","absolute"),t.style.setProperty("top","-9999px"),t.style.setProperty("left","-9999px"),t.style.setProperty("width",e.width+"px"),t.style.setProperty("height","min-content"),t.style.setProperty("font-size",e.fontSize+"px"),t.style.setProperty("font-family",e.fontFamily),t.style.setProperty("font-weight",e.fontWeight),t.style.setProperty("line-height",e.lineHeight*e.fontSize+"px"),t.style.setProperty("letter-spacing",e.letterSpacing),t.style.setProperty("text-align",e.textAlign),document.body.appendChild(t);let n=e.text.split(X7e).flatMap(u=>u.replace(`
`,` 
`)).join(" ").split(" ");t.innerText=n[0];let r=t.offsetHeight,i=[n[0]],o=[i];for(let u=1;u<n.length;u++){let l=n[u];t.innerText+=" "+l;let c=t.offsetHeight;c>r&&(r=c,i=[],o.push(i)),i.push(l)}return t.remove(),o.map(u=>u.join(" "))}function q7e({id:e,bounds:t,labelSize:n,offset:r,scale:i=1}){return h.createElement("defs",null,h.createElement("mask",{id:e+"_clip"},h.createElement("rect",{x:-100,y:-100,width:t.width+200,height:t.height+200,fill:"white"}),h.createElement("rect",{x:t.width/2-n[0]/2*i+(r?.[0]||0),y:t.height/2-n[1]/2*i+(r?.[1]||0),width:n[0]*i,height:n[1]*i,rx:4*i,ry:4*i,fill:"black",opacity:Math.max(i,.8)})))}var J0=Math.PI*2,Br=class{static inwardEdgeNormal(e){let t=le.sub(e[1],e[0]),n=le.len2(t);return[-t[0]/n,t[1]/n]}static outwardEdgeNormal(e){return le.neg(Br.inwardEdgeNormal(e))}static isReflexVertex(e,t){let n=e.length,r=e[(t+n-1)%n],i=e[t],o=e[(t+1)%n];return Br.leftSide(r,o,i)<0}static getEdges(e){return e.map((t,n)=>[t,e[(n+1)%e.length]])}static edgesIntersection([e,t],[n,r]){let i=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(i==0)return null;let o=((r[0]-n[0])*(e[1]-n[1])-(r[1]-n[1])*(e[0]-n[0]))/i,u=((t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]))/i;return o<0||u<0||o>1||u>1?null:[e[0]+o*(t[0]-e[0]),e[1]+o*(t[1]-e[1])]}static appendArc(e,t,n,r,i,o=!1){let u=[...e],l=Math.atan2(r[1]-t[1],r[0]-t[0]),c=Math.atan2(i[1]-t[1],i[0]-t[0]);l<0&&(l+=J0),c<0&&(c+=J0);let f=5,g=l>c?l-c:l+J0-c,m=(o?-g:J0-g)/f;u.push(r);for(let v=1;v<f;++v){let y=l+m*v;u.push([t[0]+Math.cos(y)*n,t[1]+Math.sin(y)*n])}return u.push(i),u}static createOffsetEdge(e,t){return e.map(n=>le.add(n,t))}static getOffsetPolygon(e,t=0){let n=Br.getEdges(e),r=n.map(o=>Br.createOffsetEdge(o,le.mul(Br.outwardEdgeNormal(o),t))),i=[];for(let o=0;o<r.length;o++){let u=r[o],l=r[(o+r.length-1)%r.length],c=Br.edgesIntersection(l,u);c?i.push(c):Br.appendArc(i,n[o][0],t,l[1],u[0],!1)}return i}static createPaddingPolygon(e,t=0){let n=e.map(i=>Br.createOffsetEdge(i,Br.inwardEdgeNormal(i))),r=[];for(let i=0;i<n.length;i++){let o=n[i],u=n[(i+n.length-1)%n.length],l=Br.edgesIntersection(u,o);l?r.push(l):Br.appendArc(r,e[i][0],t,u[1],o[0],!0)}return r}},Q7e=Br;w(Q7e,"leftSide",le.isLeft);function eIe(e,t){if(e.length<3)throw Error("Polygon must have at least 3 points");let n=e.length;return e.map((r,i)=>[r,e[(i+1)%n]]).map(([r,i])=>{let o=le.mul(le.per(le.uni(le.sub(i,r))),t);return[le.add(r,o),le.add(i,o)]}).map((r,i,o)=>{let u=fB(r,o[(i+1)%o.length]);if(u===void 0)throw Error("Expected an intersection");return u})}var Wx="#fafafa",p2="#343d45",Mu={white:"#f0f1f3",lightGray:"#c6cbd1",gray:"#788492",black:"#1d1d1d",green:"#36b24d",cyan:"#0e98ad",blue:"#1c7ed6",indigo:"#4263eb",violet:"#7746f1",red:"#ff2133",orange:"#ff9433",yellow:"#ffc936"},tIe={light:re(L({},Object.fromEntries(Object.entries(Mu).map(([e,t])=>[e,F.lerpColor(t,Wx,.45)]))),{white:"#ffffff",black:"#3d3d3d"}),dark:re(L({},Object.fromEntries(Object.entries(Mu).map(([e,t])=>[e,F.lerpColor(F.lerpColor(t,"#999999",.3),p2,.4)]))),{white:"#1d1d1d",black:"#bbbbbb"})},bc={light:re(L({},Mu),{white:"#1d1d1d"}),dark:re(L({},Object.fromEntries(Object.entries(Mu).map(([e,t])=>[e,F.lerpColor(t,p2,.1)]))),{white:"#cecece",black:"#cecece"})},H1={light:re(L({},Object.fromEntries(Object.entries(Mu).map(([e,t])=>[e,F.lerpColor(t,Wx,.82)]))),{white:"#fefefe"}),dark:re(L({},Object.fromEntries(Object.entries(Mu).map(([e,t])=>[e,F.lerpColor(t,p2,.82)]))),{white:"rgb(30,33,37)",black:"#1e1e1f"})},nIe={small:2,medium:3.5,large:5},rIe={small:28,medium:48,large:96,auto:"auto"},iIe={script:'"Caveat Brush"',sans:'"Source Sans Pro"',serif:'"Crimson Pro"',mono:'"Source Code Pro"'},aIe={script:1,sans:1,serif:1,mono:1},oIe={small:24,medium:36,large:48,auto:"auto"};function sIe(e){return nIe[e]}function wf(e,t="script"){return rIe[e]*aIe[t]}function il(e="script"){return iIe[e]}function Zx(e){return oIe[e]}function sa(e){let t=wf(e.size,e.font),n=il(e.font),{scale:r=1}=e;return`${t*r}px/1 ${n}`}function uIe(e){let t=Zx(e.size),n=il(e.font),{scale:r=1}=e;return`${t*r}px/1 ${n}`}function C9(e,t=!1){let{color:n}=e,r=t?"dark":"light",i=n==="white"||n==="black"?"yellow":n;return{fill:tIe[r][i],stroke:bc[r][i],color:t?"#1d1d1d":"#0d0d0d"}}function Ct(e,t){let{color:n,size:r,isFilled:i}=e,o=sIe(r),u=t?"dark":"light";return{stroke:bc[u][n],fill:i?H1[u][n]:"none",strokeWidth:o}}var Pi={color:"black",size:"small",isFilled:!1,dash:"draw",scale:1},g2=re(L({},Pi),{font:"script",textAlign:"middle"}),S9="  ",Pn=class{static insertTextFirefox(e,t){e.setRangeText(t,e.selectionStart||0,e.selectionEnd||0,"end"),e.dispatchEvent(new InputEvent("input",{data:t,inputType:"insertText",isComposing:!1}))}static insert(e,t){let n=e.ownerDocument,r=n.activeElement;r!==e&&e.focus(),n.execCommand("insertText",!1,t)||Pn.insertTextFirefox(e,t),r===n.body?e.blur():r instanceof HTMLElement&&r!==e&&r.focus()}static set(e,t){e.select(),Pn.insert(e,t)}static getSelection(e){let{selectionStart:t,selectionEnd:n}=e;return e.value.slice(t||void 0,n||void 0)}static wrapSelection(e,t,n){let{selectionStart:r,selectionEnd:i}=e,o=Pn.getSelection(e);Pn.insert(e,t+o+(n??t)),e.selectionStart=(r||0)+t.length,e.selectionEnd=(i||0)+t.length}static replace(e,t,n){let r=0;e.value.replace(t,(...i)=>{let o=r+i[i.length-2],u=i[0].length;e.selectionStart=o,e.selectionEnd=o+u;let l=typeof n=="string"?n:n(...i);return Pn.insert(e,l),e.selectionStart=o,r+=l.length-u,l})}static findLineEnd(e,t){let n=e.lastIndexOf(`
`,t-1)+1;return e.charAt(n)!=="	"?t:n+1}static indent(e){var t;let{selectionStart:n,selectionEnd:r,value:i}=e,o=i.slice(n,r),u=(t=/\n/g.exec(o))==null?void 0:t.length;if(u&&u>0){let l=i.lastIndexOf(`
`,n-1)+1,c=e.value.slice(l,r-1),f=c.replace(/^|\n/g,`$&${S9}`),g=f.length-c.length;e.setSelectionRange(l,r-1),Pn.insert(e,f),e.setSelectionRange(n+1,r+g)}else Pn.insert(e,S9)}static unindent(e){let{selectionStart:t,selectionEnd:n,value:r}=e,i=r.lastIndexOf(`
`,t-1)+1,o=Pn.findLineEnd(r,n),u=e.value.slice(i,o),l=u.replace(/(^|\n)(\t| {1,2})/g,"$1"),c=u.length-l.length;e.setSelectionRange(i,o),Pn.insert(e,l);let f=/\t| {1,2}/.exec(r.slice(i,t)),g=f?f[0].length:0,m=t-g;e.setSelectionRange(t-g,Math.max(m,n-c))}},xf=h.memo(function({font:e,text:t,color:n,offsetX:r=0,offsetY:i=0,scale:o=1,isEditing:u=!1,onBlur:l,onChange:c}){let f=h.useRef(null),g=h.useRef(!1),m=h.useCallback(D=>{c(ie.normalizeText(D.currentTarget.value))},[c]),v=h.useCallback(D=>{if(D.key==="Escape"){D.preventDefault(),D.stopPropagation(),l?.();return}if(D.key==="Tab"&&t.length===0){D.preventDefault();return}if(!(D.key==="Meta"||D.metaKey))D.stopPropagation();else if(D.key==="z"&&D.metaKey){D.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),D.stopPropagation(),D.preventDefault();return}(D.metaKey||D.ctrlKey)&&D.key==="="&&D.preventDefault(),D.key==="Tab"&&(D.preventDefault(),D.shiftKey?Pn.unindent(D.currentTarget):Pn.indent(D.currentTarget),c?.(ie.normalizeText(D.currentTarget.value)))},[c]),y=h.useCallback(D=>{D.currentTarget.setSelectionRange(0,0),l?.()},[l]),b=h.useCallback(D=>{!u||!g.current||document.activeElement===D.currentTarget&&D.currentTarget.select()},[u]),C=h.useCallback(D=>{u&&D.stopPropagation()},[u]),A=h.useRef(u);h.useEffect(()=>{u?(A.current=!0,requestAnimationFrame(()=>{g.current=!0;let D=f.current;D&&(D.focus(),D.select())})):A.current&&(l?.(),A.current=!1)},[u,l]);let x=h.useRef(null);return h.useLayoutEffect(()=>{let D=x.current;if(!D)return;let T=Ec(t,e);D.style.transform=`scale(${o}, ${o}) translate(${r}px, ${i}px)`,D.style.width=T[0]+1+"px",D.style.height=T[1]+1+"px"},[t,e,i,r,o]),h.createElement(lIe,null,h.createElement(cIe,{ref:x,hasText:!!t,isEditing:u,style:{font:e,color:n}},u?h.createElement(dIe,{ref:f,style:{font:e,color:n},name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:t,color:n,onFocus:b,onChange:m,onKeyDown:v,onBlur:y,onPointerDown:C,onContextMenu:gr,onCopy:gr,onPaste:gr,onCut:gr}):t,""))}),lIe=ve("div",{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",userSelect:"none",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}}}}),Xx={whiteSpace:"pre-wrap",overflowWrap:"break-word",letterSpacing:is},cIe=ve("div",L({position:"absolute",padding:"4px",zIndex:1,minHeight:1,minWidth:1,lineHeight:1,outline:0,fontWeight:"500",textAlign:"center",backfaceVisibility:"hidden",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",variants:{hasText:{false:{pointerEvents:"none"},true:{pointerEvents:"all"}},isEditing:{false:{userSelect:"none"},true:{background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"}}}},Xx)),dIe=ve("textarea",re(L({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",border:"none",padding:"4px",resize:"none",textAlign:"inherit",minHeight:"inherit",minWidth:"inherit",lineHeight:"inherit",outline:0,fontWeight:"inherit",overflow:"hidden",backfaceVisibility:"hidden",display:"inline-block",pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text",fontSmooth:"always",WebkitFontSmoothing:"subpixel-antialiased",MozOsxFontSmoothing:"auto"},Xx),{"&:focus":{outline:"none",border:"none"}}));function Df(e,t,{initialShape:n,transformOrigin:r,scaleX:i,scaleY:o}){if(e.rotation||n.isAspectRatioLocked){let u=le.toFixed(le.mul(n.size,Math.min(Math.abs(i),Math.abs(o)))),l=le.toFixed([t.minX+(t.width-e.size[0])*(i<0?1-r[0]:r[0]),t.minY+(t.height-e.size[1])*(o<0?1-r[1]:r[1])]),c=i<0&&o>=0||o<0&&i>=0?n.rotation?-n.rotation:0:n.rotation;return{size:u,point:l,rotation:c}}else return{point:le.toFixed([t.minX,t.minY]),size:le.toFixed([t.width,t.height])}}function If(e,t){return{size:le.toFixed([t.width,t.height]),point:le.toFixed([t.minX,t.minY])}}var ft=class extends s1{constructor(){super(...arguments),w(this,"canBind",!1),w(this,"canEdit",!1),w(this,"canClone",!1),w(this,"isAspectRatioLocked",!1),w(this,"hideResizeHandles",!1),w(this,"bindingDistance",16),w(this,"hitTestPoint",(e,t)=>F.pointInBounds(t,this.getRotatedBounds(e))),w(this,"hitTestLineSegment",(e,t,n)=>{let r=F.getBoundsFromPoints([t,n]),i=this.getBounds(e);return F.boundsContain(i,r)||e.rotation?m4(t,n,F.getRotatedCorners(this.getBounds(e))).didIntersect:g4(t,n,this.getBounds(e)).length>0}),w(this,"create",e=>(this.refMap.set(e.id,h.createRef()),this.getShape(e))),w(this,"getCenter",e=>F.getBoundsCenter(this.getBounds(e))),w(this,"getExpandedBounds",e=>F.expandBounds(this.getBounds(e),this.bindingDistance)),w(this,"getBindingPoint",(e,t,n,r,i,o)=>{let u=this.getBounds(e),l=this.getExpandedBounds(e);if(!F.pointInBounds(n,l))return;let c=dh(r,i,l).filter(C=>C.didIntersect).map(C=>C.points[0]);if(!c.length)return;let f=this.getCenter(e),g=c.sort((C,A)=>R.dist(A,r)-R.dist(C,r))[0],m=R.med(n,g),v,y;o?(v=R.dist(n,f)<16/2?f:n,y=0):(R.distanceToLineSegment(n,m,f)<16/2?v=f:v=m,F.pointInBounds(n,u)?y=this.bindingDistance:y=Math.max(this.bindingDistance,F.getBoundsSides(u).map(C=>R.distanceToLineSegment(C[1][0],C[1][1],n)).sort((C,A)=>C-A)[0]));let b=R.divV(R.sub(v,[l.minX,l.minY]),[l.width,l.height]);return{point:R.clampV(b,0,1),distance:y}}),w(this,"mutate",(e,t)=>t),w(this,"transform",(e,t,n)=>re(L({},e),{point:[t.minX,t.minY]})),w(this,"transformSingle",(e,t,n)=>this.transform(e,t,n)),w(this,"updateChildren"),w(this,"onChildrenChange"),w(this,"onHandleChange"),w(this,"onRightPointHandle"),w(this,"onDoubleClickHandle"),w(this,"onDoubleClickBoundsHandle"),w(this,"onSessionComplete"),w(this,"getSvgElement",(e,t)=>{var n,r,i,o,u;let l=(n=document.getElementById(e.id+"_svg"))==null?void 0:n.cloneNode(!0);if(l){if((o=(i=(r=e.label)==null?void 0:r.trim())==null?void 0:i.length)!=null&&o){let c=e,f=document.createElementNS("http://www.w3.org/2000/svg","g"),g=sa(e.style),m=Ec(e.label,g),v=wf(e.style.size,e.style.font)*((u=e.style.scale)!=null?u:1),y=il(e.style.font).slice(1,-1),b=Af(c.label,v,y,"middle",m[0],!1),C=this.getBounds(e);return b.setAttribute("transform",`translate(${C.width/2-m[0]/2}, ${C.height/2-m[1]/2})`),b.setAttribute("fill",Ct(e.style,t).stroke),b.setAttribute("transform-origin","center center"),f.setAttribute("text-align","center"),f.setAttribute("text-anchor","middle"),f.appendChild(l),f.appendChild(b),f}return l}})}};function hIe(e,t,n,r){return["M",e[0],e[1],"A",n[2],n[2],0,0,r<0?0:1,t[0],t[1]].join(" ")}function q0(e,t){let{start:n,end:r}=e,i=le.dist(n.point,r.point),o=le.med(n.point,r.point),u=i/2*t,l=le.uni(le.vec(n.point,r.point));return le.toFixed(Math.abs(u)<10?o:le.add(o,le.mul(le.per(l),u)))}function fIe(e,t,n,r,i,o){let u=F.rng(e),l=Ct(t).strokeWidth,c=i?le.nudge(n,r,l):n,f=o?le.nudge(r,n,l):r,g=Jc([c,f],{size:l,thinning:.618+u()*.2,easing:Sf.easeOutQuad,simulatePressure:!0,streamline:0,last:!0});return F.getSvgPathFromStroke(g)}function pIe(e,t,n,r,i,o,u,l,c,f){let g=F.rng(e),m=Ct(t).strokeWidth,v=i?le.rotWith(n,u,m/c):n,y=o?le.rotWith(r,u,-(m/c)):r,b=le.angle(u,v),C=le.angle(u,y),A=[],x=8+Math.floor(Math.abs(c)/20*1+g()/2);for(let T=0;T<x;T++){let N=f(T/x),k=F.lerpAngles(b,C,N);A.push(le.toFixed(le.nudgeAtAngle(u,k,l)))}let D=Jc([v,...A,y],{size:1+m,thinning:.618+g()*.2,easing:Sf.easeOutQuad,simulatePressure:!1,streamline:0,last:!0});return F.getSvgPathFromStroke(D)}function Zo(e,t,n){return F.circleFromThreePoints(e,n,t)}function G1(e,t,n,r,i){let o=RB(e,t*.618,n,r).points;if(!o)return ie.warn("Could not find an intersection for the arrow head."),{left:e,right:e};let u=i?o[0]:o[1],l=u?le.nudge(le.rotWith(u,e,Math.PI/6),e,t*-.382):e,c=u?le.nudge(le.rotWith(u,e,-Math.PI/6),e,t*-.382):e;return{left:l,right:c}}function j1(e,t,n){let r=TB(e,n,e,t).points;if(!r)return ie.warn("Could not find an intersection for the arrow head."),{left:e,right:e};let i=r[0],o=i?le.rotWith(i,e,Math.PI/6):e,u=i?le.rotWith(i,e,-Math.PI/6):e;return{left:o,right:u}}function A9(e,t,n,r,i){let{left:o,right:u}=G1(e,t,n,r,i);return`M ${o} L ${e} ${u}`}function w9(e,t,n){let{left:r,right:i}=j1(e,t,n);return`M ${r} L ${e} ${i}`}function gIe(e,t,n,r,i,o){let{strokeWidth:u}=Ct(e,!1),l=le.dist(t,r),c=Math.min(l/3,u*8),f=[];if(le.dist(n,le.toFixed(le.med(t,r)))<1)f.push(`M ${t} L ${r}`),i&&f.push(w9(t,r,c)),o&&f.push(w9(r,t,c));else{let g=Zo(t,n,r),m=[g[0],g[1]],v=g[2],y=Cc(m,v,t,r);f.push(`M ${t} A ${v} ${v} 0 0 ${y>0?"1":"0"} ${r}`),i&&f.push(A9(t,c,m,v,y<0)),o&&f.push(A9(r,c,m,v,y>=0))}return f.join(" ")}function Q0(e,t,n){if(le.dist2(t,le.med(e,n))<=4)return[e,n];let r=[],i=Zo(e,t,n),o=[i[0],i[1]],u=i[2],l=le.angle(o,e),c=le.angle(o,n);for(let f=0;f<20;f++){let g=f/19,m=F.lerpAngles(l,c,g);r.push(le.nudgeAtAngle(o,m,u))}return r}function mIe(e,t,n){if(n===e||n===t)return!0;let r=Math.PI*2,i=(t-e+r)%r,o=(n-e+r)%r;return i<=Math.PI!=o>i}function Cc(e,t,n,r){let i=F.getSweep(e,n,r);return t*(2*Math.PI)*(i/(2*Math.PI))}function Fh({left:e,middle:t,right:n,stroke:r,strokeWidth:i}){return h.createElement("g",null,h.createElement("path",{className:"tl-stroke-hitarea",d:`M ${e} L ${t} ${n}`}),h.createElement("path",{d:`M ${e} L ${t} ${n}`,fill:"none",stroke:r,strokeWidth:i,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none"}))}var vIe=h.memo(function({id:e,style:t,start:n,bend:r,end:i,arrowBend:o,decorationStart:u,decorationEnd:l,isDraw:c,isDarkMode:f}){let g=le.dist(n,i);if(g<2)return null;let m=Ct(t,f),{strokeWidth:v}=m,y=1+v*1.618,b=Zo(n,r,i),C=[b[0],b[1]],A=b[2],x=Cc(C,A,n,i),D=F.rng(e),T=Sf[D()>0?"easeInOutSine":"easeInOutCubic"],N=c?pIe(e,t,n,i,u,l,C,A,x,T):hIe(n,i,b,o),{strokeDasharray:k,strokeDashoffset:M}=F.getPerfectDashProps(Math.abs(x),y,t.dash,2,!1),B=Math.min(g/3,v*8),P=u?G1(n,B,C,A,x<0):null,_=l?G1(i,B,C,A,x>=0):null;return h.createElement(h.Fragment,null,h.createElement("path",{className:"tl-stroke-hitarea",d:N}),h.createElement("path",{d:N,fill:c?m.stroke:"none",stroke:m.stroke,strokeWidth:c?0:y,strokeDasharray:k,strokeDashoffset:M,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none"}),P&&h.createElement(Fh,{left:P.left,middle:n,right:P.right,stroke:m.stroke,strokeWidth:y}),_&&h.createElement(Fh,{left:_.left,middle:i,right:_.right,stroke:m.stroke,strokeWidth:y}))}),yIe=h.memo(function({id:e,style:t,start:n,end:r,decorationStart:i,decorationEnd:o,isDraw:u,isDarkMode:l}){let c=le.dist(n,r);if(c<2)return null;let f=Ct(t,l),{strokeWidth:g}=f,m=1+g*1.618,v=u?fIe(e,t,n,r,i,o):"M"+le.toFixed(n)+"L"+le.toFixed(r),{strokeDasharray:y,strokeDashoffset:b}=F.getPerfectDashProps(c,g*1.618,t.dash,2,!1),C=Math.min(c/3,g*8),A=i?j1(n,r,C):null,x=o?j1(r,n,C):null;return h.createElement(h.Fragment,null,h.createElement("path",{className:"tl-stroke-hitarea",d:v}),h.createElement("path",{d:v,fill:f.stroke,stroke:f.stroke,strokeWidth:u?m/2:m,strokeDasharray:y,strokeDashoffset:b,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"stroke"}),A&&h.createElement(Fh,{left:A.left,middle:n,right:A.right,stroke:f.stroke,strokeWidth:m}),x&&h.createElement(Fh,{left:x.left,middle:r,right:x.right,stroke:f.stroke,strokeWidth:m}))}),EIe=class extends ft{constructor(){super(...arguments),w(this,"type","arrow"),w(this,"hideBounds",!0),w(this,"canEdit",!0),w(this,"pathCache",new WeakMap),w(this,"getShape",e=>{var t,n,r,i;return L({id:"id",type:"arrow",name:"Arrow",parentId:"page",childIndex:1,point:[0,0],rotation:0,bend:0,handles:{start:L({id:"start",index:0,point:[0,0],canBind:!0},(t=e.handles)==null?void 0:t.start),end:L({id:"end",index:1,point:[1,1],canBind:!0},(n=e.handles)==null?void 0:n.end),bend:L({id:"bend",index:2,point:[.5,.5]},(r=e.handles)==null?void 0:r.bend)},decorations:(i=e.decorations)!=null?i:{end:"arrow"},style:L(re(L({},Pi),{isFilled:!1}),e.style),label:"",labelPoint:[.5,.5]},e)}),w(this,"Component",ft.Component(({shape:e,isEditing:t,isGhost:n,meta:r,events:i,onShapeChange:o,onShapeBlur:u},l)=>{var c,f;let{id:g,label:m="",handles:{start:v,bend:y,end:b},decorations:C={},style:A}=e,x=(f=(c=m?.trim())==null?void 0:c.length)!=null?f:!1,D=R.dist(y.point,R.toFixed(R.med(v.point,b.point)))<1,T=sa(A),N=Ct(A,r.isDarkMode),k=x||t?Ec(m,T):[0,0],M=this.getBounds(e),B=h.useMemo(()=>{let{start:J,bend:te,end:fe}=e.handles;if(D)return R.dist(J.point,fe.point);let Ee=Zo(J.point,te.point,fe.point),Y=Ee.slice(0,2),V=Ee[2],W=Cc(Y,V,J.point,fe.point);return Math.abs(W)},[e.handles]),P=Math.max(.5,Math.min(1,Math.max(B/(k[1]+128),B/(k[0]+128)))),_=h.useMemo(()=>{let J=this.getBounds(e);return R.sub(e.handles.bend.point,R.toFixed([J.width/2,J.height/2]))},[e,P]),U=h.useCallback(J=>{o?.({id:g,label:J})},[o]),K=D?yIe:vIe;return h.createElement(bIe,L({ref:l},i),h.createElement(xf,{font:T,text:m,color:N.stroke,offsetX:_[0],offsetY:_[1],scale:P,isEditing:t,onChange:U,onBlur:u}),h.createElement(Lr,{id:e.id+"_svg"},h.createElement("defs",null,h.createElement("mask",{id:e.id+"_clip"},h.createElement("rect",{x:-100,y:-100,width:M.width+200,height:M.height+200,fill:"white"}),h.createElement("rect",{x:M.width/2-k[0]/2*P+_[0],y:M.height/2-k[1]/2*P+_[1],width:k[0]*P,height:k[1]*P,rx:4*P,ry:4*P,fill:"black",opacity:1}))),h.createElement("g",{pointerEvents:"none",opacity:n?.3:1,mask:x||t?`url(#${e.id}_clip)`:""},h.createElement(K,{id:g,style:A,start:v.point,end:b.point,bend:y.point,arrowBend:e.bend,decorationStart:C?.start,decorationEnd:C?.end,isDraw:A.dash==="draw",isDarkMode:r.isDarkMode}))))})),w(this,"Indicator",ft.Indicator(({shape:e,bounds:t})=>{var n,r;let{style:i,decorations:o,label:u,handles:{start:l,bend:c,end:f}}=e,g=(r=(n=u?.trim())==null?void 0:n.length)!=null?r:!1,m=sa(i),v=g?Ec(u,m):[0,0],y=R.dist(c.point,R.toFixed(R.med(l.point,f.point)))<1,b=h.useMemo(()=>{let{start:x,bend:D,end:T}=e.handles;if(y)return R.dist(x.point,T.point);let N=Zo(x.point,D.point,T.point),k=N.slice(0,2),M=N[2],B=Cc(k,M,x.point,T.point);return Math.abs(B)},[e.handles]),C=Math.max(.5,Math.min(1,Math.max(b/(v[1]+128),b/(v[0]+128)))),A=h.useMemo(()=>{let x=this.getBounds(e);return R.sub(e.handles.bend.point,[x.width/2,x.height/2])},[e,C]);return h.createElement(h.Fragment,null,g&&h.createElement(q7e,{id:e.id,scale:C,offset:A,bounds:t,labelSize:v}),h.createElement("path",{d:gIe(i,l.point,c.point,f.point,o?.start,o?.end),mask:g?`url(#${e.id}_clip)`:""}),g&&h.createElement("rect",{x:t.width/2-v[0]/2*C+A[0],y:t.height/2-v[1]/2*C+A[1],width:v[0]*C,height:v[1]*C,rx:4*C,ry:4*C,fill:"transparent"}))})),w(this,"getBounds",e=>{let t=F.getFromCache(this.boundsCache,e,()=>{let{handles:{start:n,bend:r,end:i}}=e;return F.getBoundsFromPoints(Q0(n.point,r.point,i.point))});return F.translateBounds(t,e.point)}),w(this,"getRotatedBounds",e=>{let{handles:{start:t,bend:n,end:r}}=e,i=Q0(t.point,n.point,r.point),{minX:o,minY:u,maxX:l,maxY:c}=F.getBoundsFromPoints(i);return e.rotation!==0&&(i=i.map(f=>R.rotWith(f,[(o+l)/2,(u+c)/2],e.rotation||0))),F.translateBounds(F.getBoundsFromPoints(i),e.point)}),w(this,"getCenter",e=>{let{start:t,end:n}=e.handles;return R.add(e.point,R.med(t.point,n.point))}),w(this,"shouldRender",(e,t)=>t.decorations!==e.decorations||t.handles!==e.handles||t.style!==e.style||t.label!==e.label),w(this,"hitTestPoint",(e,t)=>{let{handles:{start:n,bend:r,end:i}}=e,o=R.sub(t,e.point),u=Q0(n.point,r.point,i.point);for(let l=1;l<u.length;l++)if(R.distanceToLineSegment(u[l-1],u[l],o)<1)return!0;return!1}),w(this,"hitTestLineSegment",(e,t,n)=>{let{handles:{start:r,bend:i,end:o}}=e,u=R.sub(t,e.point),l=R.sub(n,e.point),c=Q0(r.point,i.point,o.point);for(let f=1;f<c.length;f++)if(qc(c[f-1],c[f],u,l).didIntersect)return!0;return!1}),w(this,"hitTestBounds",(e,t)=>{let{start:n,end:r,bend:i}=e.handles,o=R.add(e.point,n.point),u=R.add(e.point,r.point);if(F.pointInBounds(o,t)||F.pointInBounds(u,t))return!0;if(R.isEqual(R.med(n.point,r.point),i.point))return g4(o,u,t).length>0;{let[l,c,f]=Zo(n.point,i.point,r.point),g=R.add(e.point,[l,c]);return IB(g,f,o,u,t).length>0}}),w(this,"transform",(e,t,{initialShape:n,scaleX:r,scaleY:i})=>{let o=this.getBounds(n),u=["start","end"],l=L({},n.handles);u.forEach(g=>{if(g==="bend")return;let[m,v]=l[g].point,y=m/o.width,b=v/o.height;l[g]=re(L({},l[g]),{point:[t.width*(r<0?1-y:y),t.height*(i<0?1-b:b)]})});let c=r>0&&i<0||r<0&&i>0?-n.bend:n.bend,f=q0(l,c);return l.bend.point=f,{point:R.toFixed([t.minX,t.minY]),handles:l,bend:c}}),w(this,"onDoubleClickHandle",(e,t)=>{var n,r;switch(t){case"bend":return{bend:0,handles:re(L({},e.handles),{bend:re(L({},e.handles.bend),{point:q0(e.handles,e.bend)})})};case"start":return{decorations:re(L({},e.decorations),{start:(n=e.decorations)!=null&&n.start?void 0:"arrow"})};case"end":return{decorations:re(L({},e.decorations),{end:(r=e.decorations)!=null&&r.end?void 0:"arrow"})}}return this}),w(this,"onHandleChange",(e,t)=>{let n=F.deepMerge(e.handles,t),r=e.bend;if(n=F.deepMerge(n,{start:{point:R.toFixed(n.start.point)},end:{point:R.toFixed(n.end.point)}}),R.isEqual(n.start.point,n.end.point))return;if("bend"in t){let{start:c,end:f,bend:g}=n,m=R.dist(c.point,f.point),v=R.med(c.point,f.point),y=R.angle(c.point,f.point),b=R.uni(R.vec(c.point,f.point)),C=R.add(v,R.mul(R.per(b),m)),A=R.sub(v,R.mul(R.per(b),m)),x=R.nearestPointOnLineSegment(C,A,g.point,!0),D=R.dist(v,x)/(m/2);r=F.clamp(D,-.99,.99);let T=R.angle(c.point,x);R.isEqual(v,q0(n,r))?r=0:mIe(y,y+Math.PI,T)&&(r*=-1)}let i={point:e.point,bend:r,handles:re(L({},n),{bend:re(L({},n.bend),{point:q0(n,r)})})},o=e.point,u=this.getBounds(L({},i)),l=R.sub([u.minX,u.minY],o);return R.isEqual(l,[0,0])||(Object.values(i.handles).forEach(c=>{c.point=R.toFixed(R.sub(c.point,l))}),i.point=R.toFixed(R.add(i.point,l))),i}),w(this,"getSvgElement",(e,t)=>{var n,r,i,o,u;let l=(n=document.getElementById(e.id+"_svg"))==null?void 0:n.cloneNode(!0);if(l){if((o=(i=(r=e.label)==null?void 0:r.trim())==null?void 0:i.length)!=null&&o){let c=e,f=document.createElementNS("http://www.w3.org/2000/svg","g"),g=sa(e.style),m=Ec(e.label,g),v=wf(e.style.size,e.style.font)*((u=e.style.scale)!=null?u:1),y=il(e.style.font).slice(1,-1),b=Af(c.label,v,y,"start",m[0],!1),C,{start:A,bend:x,end:D}=e.handles;if(R.dist(x.point,R.toFixed(R.med(A.point,D.point)))<1)C=R.dist(A.point,D.point);else{let P=Zo(A.point,x.point,D.point),_=P.slice(0,2),U=P[2],K=Cc(_,U,A.point,D.point);C=Math.abs(K)}let T=Math.max(.5,Math.min(1,Math.max(C/(m[1]+128),C/(m[0]+128)))),N=this.getBounds(e),k=R.sub(e.handles.bend.point,[N.width/2,N.height/2]),M=N.width/2-m[0]/2*T+k[0],B=N.height/2-m[1]/2*T+k[1];return b.setAttribute("transform",`translate(${M}, ${B})`),b.setAttribute("fill",Ct(e.style,t).stroke),b.setAttribute("transform-origin","center center"),f.setAttribute("text-align","center"),f.setAttribute("text-anchor","middle"),f.appendChild(l),f.appendChild(b),f}return l}})}},bIe=ve("div",{width:"100%",height:"100%"}),CIe={easing:e=>Math.sin(e*Math.PI/2),simulatePressure:!0},SIe={easing:e=>e*e,simulatePressure:!1};function m2(e){let t=Ct(e.style);return re(L({size:1+t.strokeWidth*1.5,thinning:.65,streamline:.65,smoothing:.65},e.points[1][2]===.5?CIe:SIe),{last:e.isComplete})}function AIe(e){return e.points.length<2?"":F.getSvgPathFromStroke(Ku(e.points,m2(e)).map(t=>t.point))}function Jx(e,t){return Ku(e.points,t)}function wIe(e){if(e.points.length<2)return"";let t=m2(e),n=Jx(e,t);return F.getSvgPathFromStroke(c4(n,t))}function x9(e){let{points:t}=e;if(t.length<2)return"M 0 0 L 0 0";let n=m2(e),r=Jx(e,n),i=t[t.length-1];return le.isEqual(r[0].point,i)||r.push({point:i}),F.getSvgPathFromStrokePoints(r)}var xIe=class extends ft{constructor(){super(...arguments),w(this,"type","draw"),w(this,"pointsBoundsCache",new WeakMap([])),w(this,"shapeBoundsCache",new Map),w(this,"rotatedCache",new WeakMap([])),w(this,"pointCache",{}),w(this,"canClone",!0),w(this,"getShape",e=>F.deepMerge({id:"id",type:"draw",name:"Draw",parentId:"page",childIndex:1,point:[0,0],rotation:0,style:Pi,points:[],isComplete:!1},e)),w(this,"Component",ft.Component(({shape:e,meta:t,isSelected:n,isGhost:r,events:i},o)=>{let{points:u,style:l,isComplete:c}=e,f=h.useMemo(()=>AIe(e),[u,l.size]),g=h.useMemo(()=>l.dash==="draw"?wIe(e):x9(e),[u,l.size,l.dash,c]),m=Ct(l,t.isDarkMode),{stroke:v,fill:y,strokeWidth:b}=m,C=this.getBounds(e);if(C.width<=b/2&&C.height<=b/2){let N=1+b;return h.createElement(Lr,L({ref:o,id:e.id+"_svg"},i),h.createElement("circle",{r:N,fill:v,stroke:v,pointerEvents:"all",opacity:r?.3:1}))}let A=l.isFilled&&u.length>3&&R.dist(u[0],u[u.length-1])<b*2;if(e.style.dash==="draw")return h.createElement(Lr,L({ref:o,id:e.id+"_svg"},i),h.createElement("g",{opacity:r?.3:1},h.createElement("path",{className:A||n?"tl-fill-hitarea":"tl-stroke-hitarea",d:g}),A&&h.createElement("path",{d:f,stroke:"none",fill:y,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"}),h.createElement("path",{d:g,fill:v,stroke:v,strokeWidth:b/2,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"})));let x={draw:"none",solid:"none",dotted:`0.1 ${b*4}`,dashed:`${b*4} ${b*4}`}[l.dash],D={draw:"none",solid:"none",dotted:"0",dashed:"0"}[l.dash],T=1+b*1.5;return h.createElement(Lr,L({ref:o,id:e.id+"_svg"},i),h.createElement("g",{opacity:r?.3:1},h.createElement("path",{className:A&&n?"tl-fill-hitarea":"tl-stroke-hitarea",d:g}),h.createElement("path",{d:g,fill:A?y:"none",stroke:"none",strokeWidth:Math.min(4,b*2),strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"}),h.createElement("path",{d:g,fill:"none",stroke:v,strokeWidth:T,strokeDasharray:x,strokeDashoffset:D,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"})))})),w(this,"Indicator",ft.Indicator(({shape:e})=>{let{points:t}=e,n=h.useMemo(()=>x9(e),[t]),r=this.getBounds(e);return r.width<4&&r.height<4?h.createElement("circle",{x:r.width/2,y:r.height/2,r:1}):h.createElement("path",{d:n})})),w(this,"transform",(e,t,{initialShape:n,scaleX:r,scaleY:i})=>{let o=F.getFromCache(this.boundsCache,n,()=>F.getBoundsFromPoints(n.points)),u=n.points.map(([f,g,m])=>[t.width*(r<0?1-f/o.width:f/o.width),t.height*(i<0?1-g/o.height:g/o.height),m]),l=F.getBoundsFromPoints(e.points),c=R.sub([t.minX,t.minY],[l.minX,l.minY]);return{points:u,point:c}}),w(this,"getBounds",e=>{let t=!this.pointsBoundsCache.has(e.points),n=this.pointCache[e.id]!==e.point;if(t){let r=F.getBoundsFromPoints(e.points);this.pointsBoundsCache.set(e.points,r),this.shapeBoundsCache.set(e.id,F.translateBounds(r,e.point)),this.pointCache[e.id]=e.point}else n&&!t&&(this.pointCache[e.id]=e.point,this.shapeBoundsCache.set(e.id,F.translateBounds(this.pointsBoundsCache.get(e.points),e.point)));return this.shapeBoundsCache.get(e.id)}),w(this,"shouldRender",(e,t)=>t.points!==e.points||t.style!==e.style||t.isComplete!==e.isComplete),w(this,"hitTestPoint",(e,t)=>{let n=R.sub(t,e.point);return F.pointInPolyline(n,e.points)}),w(this,"hitTestLineSegment",(e,t,n)=>{let{points:r,point:i}=e,o=R.sub(t,i),u=R.sub(n,i),l=this.getBounds(e);if(l.width<8&&l.height<8)return R.distanceToLineSegment(t,n,F.getBoundsCenter(l))<5;if(g4(o,u,l)){for(let c=1;c<r.length;c++)if(qc(r[c-1],r[c],o,u).didIntersect)return!0}return!1}),w(this,"hitTestBounds",(e,t)=>{if(!e.rotation){let i=this.getBounds(e);return F.boundsContain(t,i)||(F.boundsContain(i,t)||PB(i,t).length>0)&&Lb(F.translateBounds(t,R.neg(e.point)),e.points).length>0}let n=this.getRotatedBounds(e),r=F.getFromCache(this.rotatedCache,e,()=>{let i=F.getBoundsCenter(F.getBoundsFromPoints(e.points));return e.points.map(o=>R.rotWith(o,i,e.rotation||0))});return F.boundsContain(t,n)||Lb(F.translateBounds(t,R.neg(e.point)),r).length>0})}},DIe=h.memo(function({radius:e,style:t,isSelected:n,isDarkMode:r}){let{stroke:i,strokeWidth:o,fill:u}=Ct(t,r),l=1+o*1.618,c=Math.max(0,e[0]-l/2),f=Math.max(0,e[1]-l/2),g=F.perimeterOfEllipse(c,f),{strokeDasharray:m,strokeDashoffset:v}=F.getPerfectDashProps(g<64?g*2:g,o*1.618,t.dash,4);return h.createElement(h.Fragment,null,h.createElement("ellipse",{className:t.isFilled||n?"tl-fill-hitarea":"tl-stroke-hitarea",cx:e[0],cy:e[1],rx:e[0],ry:e[1]}),h.createElement("ellipse",{cx:e[0],cy:e[1],rx:c,ry:f,fill:u,stroke:i,strokeWidth:l,strokeDasharray:m,strokeDashoffset:v,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round"}))});function qx(e,t,n){let{strokeWidth:r}=Ct(n),i=F.rng(e),o=t[0]+i()*r*2,u=t[1]+i()*r*2,l=F.perimeterOfEllipse(o,u),c=[],f=Math.PI+Math.PI*i(),g=Math.abs(i()),m=Math.max(16,l/10);for(let v=0;v<m;v++){let y=Sf.easeInOutSine(v/(m+1)),b=f*2+Math.PI*(2+g)*y,C=Math.cos(b),A=Math.sin(b);c.push([o*C+t[0],u*A+t[1],y+.5+i()/2])}return Ku(c,{size:1+r*2,streamline:0})}function IIe(e,t,n){let{strokeWidth:r}=Ct(n),i=F.rng(e),o=t[0]+i()*r*2,u=t[1]+i()*r*2,l=F.perimeterOfEllipse(o,u);return F.getSvgPathFromStroke(c4(qx(e,t,n),{size:2+r*2,thinning:.618,end:{taper:l/8},start:{taper:l/12},simulatePressure:!0}))}function Qx(e,t,n){return F.getSvgPathFromStrokePoints(qx(e,t,n))}var TIe=h.memo(function({id:e,radius:t,style:n,isSelected:r,isDarkMode:i}){let{stroke:o,strokeWidth:u,fill:l}=Ct(n,i),c=IIe(e,t,n);return h.createElement(h.Fragment,null,h.createElement("ellipse",{className:n.isFilled||r?"tl-fill-hitarea":"tl-stroke-hitarea",cx:t[0],cy:t[1],rx:t[0],ry:t[1]}),n.isFilled&&h.createElement("path",{d:Qx(e,t,n),stroke:"none",fill:l,pointerEvents:"none"}),h.createElement("path",{d:c,fill:o,stroke:o,strokeWidth:u,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round"}))}),RIe=class extends ft{constructor(){super(...arguments),w(this,"type","ellipse"),w(this,"canBind",!0),w(this,"canClone",!0),w(this,"canEdit",!0),w(this,"getShape",e=>F.deepMerge({id:"id",type:"ellipse",name:"Ellipse",parentId:"page",childIndex:1,point:[0,0],radius:[1,1],rotation:0,style:Pi,label:"",labelPoint:[.5,.5]},e)),w(this,"Component",ft.Component(({shape:e,isGhost:t,isSelected:n,isBinding:r,isEditing:i,meta:o,bounds:u,events:l,onShapeChange:c,onShapeBlur:f},g)=>{let{id:m,radius:v,style:y,label:b="",labelPoint:C=f2}=e,A=sa(e.style),x=Ct(y,o.isDarkMode),D=x.strokeWidth,T=1+D*1.618,N=Math.max(0,v[0]-T/2),k=Math.max(0,v[1]-T/2),M=y.dash==="draw"?TIe:DIe,B=h.useCallback(P=>c?.({id:m,label:P}),[c]);return h.createElement(BIe,L({ref:g},l),h.createElement(xf,{isEditing:i,onChange:B,onBlur:f,font:A,text:b,color:x.stroke,offsetX:(C[0]-.5)*u.width,offsetY:(C[1]-.5)*u.height}),h.createElement(Lr,{id:e.id+"_svg",opacity:t?.3:1},r&&h.createElement("ellipse",{className:"tl-binding-indicator",cx:v[0],cy:v[1],rx:N,ry:k,strokeWidth:this.bindingDistance}),h.createElement(M,{id:m,radius:v,style:y,isSelected:n,isDarkMode:o.isDarkMode})))})),w(this,"Indicator",ft.Indicator(({shape:e})=>{let{id:t,radius:n,style:r}=e,i=Ct(r).strokeWidth,o=1+i*1.618,u=Math.max(0,n[0]-o/2),l=Math.max(0,n[1]-o/2);return r.dash==="draw"?h.createElement("path",{d:Qx(t,n,r)}):h.createElement("ellipse",{cx:n[0],cy:n[1],rx:u,ry:l})})),w(this,"hitTestPoint",(e,t)=>F.pointInBounds(t,this.getRotatedBounds(e))&&F.pointInEllipse(t,this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0)),w(this,"hitTestLineSegment",(e,t,n)=>yu(t,n,this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0).didIntersect),w(this,"getBounds",e=>F.getFromCache(this.boundsCache,e,()=>F.getRotatedEllipseBounds(e.point[0],e.point[1],e.radius[0],e.radius[1],0))),w(this,"getRotatedBounds",e=>F.getRotatedEllipseBounds(e.point[0],e.point[1],e.radius[0],e.radius[1],e.rotation)),w(this,"hitTestBounds",(e,t)=>{let n=this.getBounds(e);return F.boundsContained(n,t)||MB(this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0,t).length>0}),w(this,"shouldRender",(e,t)=>t.radius!==e.radius||t.style!==e.style||t.label!==e.label),w(this,"getCenter",e=>R.add(e.point,e.radius)),w(this,"getBindingPoint",(e,t,n,r,i,o)=>{{let u=this.getExpandedBounds(e),l=this.getCenter(e),c,f;if(!F.pointInEllipse(n,l,e.radius[0]+this.bindingDistance,e.radius[1]+this.bindingDistance))return;if(o)R.dist(n,this.getCenter(e))<12?c=[.5,.5]:c=R.divV(R.sub(n,[u.minX,u.minY]),[u.width,u.height]),f=0;else{let g=xS(r,i,l,e.radius[0],e.radius[1],e.rotation||0).points.sort((v,y)=>R.dist(v,r)-R.dist(y,r))[0];if(g||(g=yu(n,l,l,e.radius[0],e.radius[1],e.rotation||0).points.sort((v,y)=>R.dist(v,n)-R.dist(y,n))[0]),!g)return;let m=R.med(n,g);if(R.distanceToLineSegment(n,m,this.getCenter(e))<12?c=[.5,.5]:c=R.divV(R.sub(m,[u.minX,u.minY]),[u.width,u.height]),F.pointInEllipse(n,l,e.radius[0],e.radius[1],e.rotation||0))f=this.bindingDistance/2;else{let v=yu(n,l,l,e.radius[0],e.radius[1],e.rotation||0).points[0];if(!v)return;f=Math.max(this.bindingDistance/2,R.dist(n,v))}}return{point:c,distance:f}}}),w(this,"transform",(e,t,{scaleX:n,scaleY:r,initialShape:i})=>{let{rotation:o=0}=i;return{point:[t.minX,t.minY],radius:[t.width/2,t.height/2],rotation:n<0&&r>=0||r<0&&n>=0?-(o||0):o||0}}),w(this,"transformSingle",(e,t)=>({point:R.toFixed([t.minX,t.minY]),radius:R.div([t.width,t.height],2)}))}},BIe=ve("div",{width:"100%",height:"100%"}),kIe=class extends ft{constructor(){super(...arguments),w(this,"type","group"),w(this,"canBind",!0),w(this,"getShape",e=>F.deepMerge({id:"id",type:"group",name:"Group",parentId:"page",childIndex:1,point:[0,0],size:[100,100],rotation:0,children:[],style:Pi},e)),w(this,"Component",ft.Component(({shape:e,isBinding:t,isGhost:n,isHovered:r,isSelected:i,events:o},u)=>{let{id:l,size:c}=e,f=2,g=Math.max(0,c[0]-f/2),m=Math.max(0,c[1]-f/2),v=[[[f/2,f/2],[g,f/2],g-f/2],[[g,f/2],[g,m],m-f/2],[[g,m],[f/2,m],g-f/2],[[f/2,m],[f/2,f/2],m-f/2]].map(([y,b],C)=>h.createElement("line",{key:l+"_"+C,x1:y[0],y1:y[1],x2:b[0],y2:b[1]}));return h.createElement(Lr,L({ref:u},o),t&&h.createElement("rect",{className:"tl-binding-indicator",strokeWidth:this.bindingDistance}),h.createElement("g",{opacity:n?.3:1},h.createElement("rect",{x:0,y:0,width:c[0],height:c[1],fill:"transparent",pointerEvents:"all"}),h.createElement(D9,{stroke:"black",opacity:r||i?1:0,strokeLinecap:"round",pointerEvents:"stroke"},v)))})),w(this,"Indicator",ft.Indicator(({shape:e})=>{let{id:t,size:n}=e,r=2,i=Math.max(0,n[0]-r/2),o=Math.max(0,n[1]-r/2),u=[[[r/2,r/2],[i,r/2],i-r/2],[[i,r/2],[i,o],o-r/2],[[i,o],[r/2,o],i-r/2],[[r/2,o],[r/2,r/2],o-r/2]].map(([l,c],f)=>h.createElement("line",{key:t+"_"+f,x1:l[0],y1:l[1],x2:c[0],y2:c[1]}));return h.createElement(D9,{strokeLinecap:"round",pointerEvents:"stroke"},u)})),w(this,"getBounds",e=>rl(e,this.boundsCache)),w(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style)}},D9=ve("g",{strokeWidth:"calc(1.5px * var(--tl-scale))",strokeDasharray:"calc(1px * var(--tl-scale)), calc(3px * var(--tl-scale))"}),MIe=class extends ft{constructor(){super(...arguments),w(this,"type","image"),w(this,"canBind",!0),w(this,"canClone",!0),w(this,"isAspectRatioLocked",!0),w(this,"showCloneHandles",!1),w(this,"getShape",e=>F.deepMerge({id:"image",type:"image",name:"Image",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:re(L({},Pi),{isFilled:!0}),assetId:"assetId"},e)),w(this,"Component",ft.Component(({shape:e,asset:t={src:""},isBinding:n,isGhost:r,meta:i,events:o,onShapeChange:u},l)=>{let{size:c,style:f}=e,{bindingDistance:g}=this,m=h.useRef(null),v=h.useRef(null);return h.useLayoutEffect(()=>{let y=v.current;if(!y)return;let[b,C]=c;y.style.width=`${b}px`,y.style.height=`${C}px`},[c]),h.createElement(Wh,L({ref:l},o),n&&h.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:`calc(${-g}px * var(--tl-zoom))`,left:`calc(${-g}px * var(--tl-zoom))`,width:`calc(100% + ${g*2}px * var(--tl-zoom))`,height:`calc(100% + ${g*2}px * var(--tl-zoom))`,backgroundColor:"var(--tl-selectFill)"}}),h.createElement(NIe,{ref:v,isDarkMode:i.isDarkMode,isFilled:f.isFilled,isGhost:r},h.createElement(PIe,{id:e.id+"_image",ref:m,src:t.src,alt:"tl_image_asset",draggable:!1})))})),w(this,"Indicator",ft.Indicator(({shape:e})=>{let{size:[t,n]}=e;return h.createElement("rect",{x:0,y:0,rx:2,ry:2,width:Math.max(1,t),height:Math.max(1,n)})})),w(this,"getBounds",e=>rl(e,this.boundsCache)),w(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style),w(this,"transform",Df),w(this,"transformSingle",If),w(this,"getSvgElement",e=>{let t=this.getBounds(e),n=document.createElementNS("http://www.w3.org/2000/svg","image");return n.setAttribute("width",`${t.width}`),n.setAttribute("height",`${t.height}`),n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n})}},NIe=of("div",{pointerEvents:"all",position:"relative",fontFamily:"sans-serif",fontSize:"2em",height:"100%",width:"100%",borderRadius:"3px",perspective:"800px",overflow:"hidden",p:{userSelect:"none"},img:{userSelect:"none"},variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isFilled:{true:{},false:{}},isDarkMode:{true:{},false:{}}},compoundVariants:[{isFilled:!0,isDarkMode:!0,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"}},{isFilled:!0,isDarkMode:!1,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}]}),PIe=of("img",{position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:"100%",minWidth:"100%",pointerEvents:"none",objectFit:"cover",userSelect:"none",borderRadius:2});function OIe({strokeWidth:e,size:t}){return h.createElement("rect",{className:"tl-binding-indicator",x:e,y:e,width:Math.max(0,t[0]-e/2),height:Math.max(0,t[1]-e/2),strokeWidth:32})}var LIe=h.memo(function({id:e,style:t,size:n,isSelected:r,isDarkMode:i}){let{stroke:o,strokeWidth:u,fill:l}=Ct(t,i),c=1+u*1.618,f=Math.max(0,n[0]-c/2),g=Math.max(0,n[1]-c/2),m=[[[c/2,c/2],[f,c/2],f-c/2],[[f,c/2],[f,g],g-c/2],[[f,g],[c/2,g],f-c/2],[[c/2,g],[c/2,c/2],g-c/2]].map(([v,y,b],C)=>{let{strokeDasharray:A,strokeDashoffset:x}=F.getPerfectDashProps(b,u*1.618,t.dash);return h.createElement("line",{key:e+"_"+C,x1:v[0],y1:v[1],x2:y[0],y2:y[1],strokeDasharray:A,strokeDashoffset:x})});return h.createElement(h.Fragment,null,h.createElement("rect",{className:r||t.isFilled?"tl-fill-hitarea":"tl-stroke-hitarea",x:c/2,y:c/2,width:f,height:g,strokeWidth:16}),t.isFilled&&h.createElement("rect",{x:c/2,y:c/2,width:f,height:g,fill:l,pointerEvents:"none"}),h.createElement("g",{pointerEvents:"none",stroke:o,strokeWidth:c,strokeLinecap:"round"},m))});function FIe(e,t,n){let r=Ct(t),i=F.rng(e),o=r.strokeWidth,u=Math.max(0,n[0]),l=Math.max(0,n[1]),c=Array.from(Array(4)).map(()=>[i()*o*.75,i()*o*.75]),f=le.add([o/2,o/2],c[0]),g=le.add([u-o/2,o/2],c[1]),m=le.add([u-o/2,l-o/2],c[2]),v=le.add([o/2,l-o/2],c[3]),y=Math.round(Math.abs(i()*2*4)),b=Math.min(u/4,o*2),C=Math.min(l/4,o*2),A=Math.max(8,Math.floor(u/16)),x=Math.max(8,Math.floor(l/16)),D=F.rotateArray([le.pointsBetween(le.add(f,[b,0]),le.sub(g,[b,0]),A),le.pointsBetween(le.add(g,[0,C]),le.sub(m,[0,C]),x),le.pointsBetween(le.sub(m,[b,0]),le.add(v,[b,0]),A),le.pointsBetween(le.sub(v,[0,C]),le.add(f,[0,C]),x)],y);return{points:[...D.flat(),...D[0]].slice(5,Math.floor((y%2===0?A:x)/-2)+3)}}function e8(e,t,n){let{points:r}=FIe(e,t,n),{strokeWidth:i}=Ct(t);return{points:r,options:{size:i,thinning:.65,streamline:.3,smoothing:1,simulatePressure:!1,last:!0}}}function _Ie(e,t,n){let{points:r,options:i}=e8(e,t,n),o=Jc(r,i);return F.getSvgPathFromStroke(o)}function t8(e,t,n){let{points:r,options:i}=e8(e,t,n);return F.getSvgPathFromStrokePoints(Ku(r,i))}var $Ie=h.memo(function({id:e,style:t,size:n,isSelected:r,isDarkMode:i}){let{isFilled:o}=t,{stroke:u,strokeWidth:l,fill:c}=Ct(t,i),f=_Ie(e,t,n),g=t8(e,t,n);return h.createElement(h.Fragment,null,h.createElement("path",{className:t.isFilled||r?"tl-fill-hitarea":"tl-stroke-hitarea",d:g}),o&&h.createElement("path",{d:g,fill:c,pointerEvents:"none"}),h.createElement("path",{d:f,fill:u,stroke:u,strokeWidth:l,pointerEvents:"none"}))}),zIe=class extends ft{constructor(){super(...arguments),w(this,"type","rectangle"),w(this,"canBind",!0),w(this,"canClone",!0),w(this,"canEdit",!0),w(this,"getShape",e=>F.deepMerge({id:"id",type:"rectangle",name:"Rectangle",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:Pi,label:"",labelPoint:[.5,.5]},e)),w(this,"Component",ft.Component(({shape:e,isEditing:t,isBinding:n,isSelected:r,isGhost:i,meta:o,bounds:u,events:l,onShapeBlur:c,onShapeChange:f},g)=>{let{id:m,size:v,style:y,label:b="",labelPoint:C=f2}=e,A=sa(y),x=Ct(y,o.isDarkMode),D=y.dash==="draw"?$Ie:LIe,T=h.useCallback(N=>f?.({id:m,label:N}),[f]);return h.createElement(VIe,L({ref:g},l),h.createElement(xf,{isEditing:t,onChange:T,onBlur:c,font:A,text:b,color:x.stroke,offsetX:(C[0]-.5)*u.width,offsetY:(C[1]-.5)*u.height}),h.createElement(Lr,{id:e.id+"_svg",opacity:i?.3:1},n&&h.createElement(OIe,{strokeWidth:x.strokeWidth,size:v}),h.createElement(D,{id:m,style:y,size:v,isSelected:r,isDarkMode:o.isDarkMode})))})),w(this,"Indicator",ft.Indicator(({shape:e})=>{let{id:t,style:n,size:r}=e,i=Ct(n,!1).strokeWidth;return n.dash==="draw"?h.createElement("path",{d:t8(t,n,r)}):h.createElement("rect",{x:i,y:i,rx:1,ry:1,width:Math.max(1,r[0]-i*2),height:Math.max(1,r[1]-i*2)})})),w(this,"getBounds",e=>rl(e,this.boundsCache)),w(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.label!==e.label),w(this,"transform",Df),w(this,"transformSingle",If)}},VIe=ve("div",{width:"100%",height:"100%"}),UIe=class extends ft{constructor(){super(...arguments),w(this,"type","sticky"),w(this,"canBind",!0),w(this,"canEdit",!0),w(this,"canClone",!0),w(this,"hideResizeHandles",!0),w(this,"showCloneHandles",!0),w(this,"getShape",e=>F.deepMerge({id:"id",type:"sticky",name:"Sticky",parentId:"page",childIndex:1,point:[0,0],size:[200,200],text:"",rotation:0,style:g2},e)),w(this,"Component",ft.Component(({shape:e,meta:t,events:n,isGhost:r,isBinding:i,isEditing:o,onShapeBlur:u,onShapeChange:l},c)=>{let f=uIe(e.style),{color:g,fill:m}=C9(e.style,t.isDarkMode),v=h.useRef(null),y=h.useRef(null),b=h.useRef(null),C=h.useRef(!1),A=h.useCallback(B=>{B.stopPropagation()},[]),x=h.useCallback(B=>{l?.({id:e.id,type:e.type,text:ie.normalizeText(B)})},[e.id]),D=h.useCallback(B=>{x(B.currentTarget.value)},[l,x]),T=h.useCallback(B=>{if(B.key==="Escape"){B.preventDefault(),B.stopPropagation(),u?.();return}if(B.key==="Tab"&&e.text.length===0){B.preventDefault();return}if(!(B.key==="Meta"||B.metaKey))B.stopPropagation();else if(B.key==="z"&&B.metaKey){B.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),B.stopPropagation(),B.preventDefault();return}(B.metaKey||B.ctrlKey)&&B.key==="="&&B.preventDefault(),B.key==="Tab"&&(B.preventDefault(),B.shiftKey?Pn.unindent(B.currentTarget):Pn.indent(B.currentTarget),l?.(re(L({},e),{text:ie.normalizeText(B.currentTarget.value)})))},[e,l]),N=h.useCallback(B=>{B.currentTarget.setSelectionRange(0,0),u?.()},[]),k=h.useCallback(B=>{!o||!C.current||B.currentTarget.select()},[o]);h.useEffect(()=>{if(o){C.current=!0;let B=y.current;B.focus(),B.select()}},[o]),h.useEffect(()=>{let B=b.current,{size:P}=e,{offsetHeight:_}=B,U=Vm-Ei*2,K=P[1]-Ei*2;if(_===K)return;if(_>U){l?.({id:e.id,size:[P[0],_+Ei*2]});return}if(_<U&&P[1]>Vm){l?.({id:e.id,size:[P[0],Vm]});return}let J=y.current;J?.focus()},[e.text,e.size[1],e.style]);let M={font:f,color:g,textShadow:t.isDarkMode?"0.5px 0.5px 2px rgba(255, 255, 255,.25)":"0.5px 0.5px 2px rgba(255, 255, 255,.5)"};return h.createElement(Wh,L({ref:c},n),h.createElement(HIe,{ref:v,isDarkMode:t.isDarkMode,isGhost:r,style:L({backgroundColor:m},M)},i&&h.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-this.bindingDistance,left:-this.bindingDistance,width:`calc(100% + ${this.bindingDistance*2}px)`,height:`calc(100% + ${this.bindingDistance*2}px)`,backgroundColor:"var(--tl-selectFill)"}}),h.createElement(GIe,{ref:b,isEditing:o,alignment:e.style.textAlign},e.text,""),o&&h.createElement(jIe,{ref:y,onPointerDown:A,value:e.text,onChange:D,onKeyDown:T,onFocus:k,onBlur:N,tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,spellCheck:!0,alignment:e.style.textAlign,onContextMenu:gr,onCopy:gr,onPaste:gr,onCut:gr})))})),w(this,"Indicator",ft.Indicator(({shape:e})=>{let{size:[t,n]}=e;return h.createElement("rect",{x:0,y:0,rx:3,ry:3,width:Math.max(1,t),height:Math.max(1,n)})})),w(this,"getBounds",e=>rl(e,this.boundsCache)),w(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.text!==e.text),w(this,"transform",(e,t,{scaleX:n,scaleY:r,transformOrigin:i})=>({point:R.toFixed([t.minX+(t.width-e.size[0])*(n<0?1-i[0]:i[0]),t.minY+(t.height-e.size[1])*(r<0?1-i[1]:i[1])])})),w(this,"transformSingle",e=>e),w(this,"getSvgElement",(e,t)=>{var n,r;let i=this.getBounds(e),o=C9(e.style,t),u=Zx(e.style.size)*((n=e.style.scale)!=null?n:1),l=il(e.style.font).slice(1,-1),c=(r=e.style.textAlign)!=null?r:"start",f=Af(e.text,u,l,c,i.width-Ei*2,!0);f.setAttribute("fill",o.color),f.setAttribute("transform",`translate(${Ei}, ${Ei})`);let g=document.createElementNS("http://www.w3.org/2000/svg","g"),m=document.createElementNS("http://www.w3.org/2000/svg","rect");return m.setAttribute("width",i.width+""),m.setAttribute("height",i.height+""),m.setAttribute("fill",o.fill),m.setAttribute("rx","3"),m.setAttribute("ry","3"),g.appendChild(m),g.appendChild(f),g})}},Ei=16,Vm=200,HIe=ve("div",{pointerEvents:"all",position:"relative",backgroundColor:"rgba(255, 220, 100)",fontFamily:"sans-serif",height:"100%",width:"100%",padding:Ei+"px",borderRadius:"3px",perspective:"800px",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isDarkMode:{true:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"},false:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}}}),n8={whiteSpace:"pre-wrap",overflowWrap:"break-word",letterSpacing:is},GIe=ve("div",L({position:"absolute",top:Ei,left:Ei,width:`calc(100% - ${Ei*2}px)`,height:"fit-content",font:"inherit",pointerEvents:"none",userSelect:"none",variants:{isEditing:{true:{opacity:1},false:{opacity:1}},alignment:{start:{textAlign:"left"},middle:{textAlign:"center"},end:{textAlign:"right"},justify:{textAlign:"justify"}}}},n8)),jIe=ve("textarea",re(L({width:"100%",height:"100%",border:"none",overflow:"hidden",background:"none",outline:"none",textAlign:"left",font:"inherit",padding:0,color:"transparent",verticalAlign:"top",resize:"none",caretColor:"black"},n8),{variants:{alignment:{start:{textAlign:"left"},middle:{textAlign:"center"},end:{textAlign:"right"},justify:{textAlign:"justify"}}},"&:focus":{outline:"none",border:"none"}})),KIe=class extends ft{constructor(){super(...arguments),w(this,"type","text"),w(this,"isAspectRatioLocked",!0),w(this,"canEdit",!0),w(this,"canBind",!0),w(this,"canClone",!0),w(this,"bindingDistance",16/2),w(this,"getShape",e=>F.deepMerge({id:"id",type:"text",name:"Text",parentId:"page",childIndex:1,point:[0,0],rotation:0,text:" ",style:g2},e)),w(this,"texts",new Map),w(this,"Component",ft.Component(({shape:e,isBinding:t,isGhost:n,isEditing:r,onShapeBlur:i,onShapeChange:o,meta:u,events:l},c)=>{let{text:f,style:g}=e,m=Ct(g,u.isDarkMode),v=sa(e.style),y=h.useRef(null),b=h.useRef(!1),C=h.useRef(f);h.useLayoutEffect(()=>{if(f!==C.current){let M=[0,0];this.texts.set(e.id,f);let B=this.getBounds(e),P=this.getBounds(e);switch(e.style.textAlign){case"start":break;case"middle":{M=R.div([P.width-B.width,0],2);break}case"end":{M=[P.width-B.width,0];break}}C.current=f,o?.(re(L({},e),{id:e.id,point:R.sub(e.point,M),text:f}))}},[f]);let A=h.useCallback(M=>{let B=[0,0],P=ie.normalizeText(M.currentTarget.value),_=this.getBounds(e);this.texts.set(e.id,P);let U=this.getBounds(re(L({},e),{text:P}));switch(e.style.textAlign){case"start":break;case"middle":{B=R.div([U.width-_.width,0],2);break}case"end":{B=[U.width-_.width,0];break}}C.current=P,o?.(re(L({},e),{id:e.id,point:R.sub(e.point,B),text:P}))},[e.id,e.point]),x=h.useCallback(M=>{if(M.key==="Escape"){M.preventDefault(),M.stopPropagation(),i?.();return}if(M.key==="Tab"&&e.text.length===0){M.preventDefault();return}if(M.key==="Enter"&&(M.metaKey||M.ctrlKey)){M.preventDefault(),M.stopPropagation(),y.current.blur();return}if(!(M.key==="Meta"||M.metaKey))M.stopPropagation();else if(M.key==="z"&&M.metaKey){M.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),M.stopPropagation(),M.preventDefault();return}(M.metaKey||M.ctrlKey)&&M.key==="="&&M.preventDefault(),M.key==="Tab"&&(M.preventDefault(),M.shiftKey?Pn.unindent(M.currentTarget):Pn.indent(M.currentTarget),o?.(re(L({},e),{text:ie.normalizeText(M.currentTarget.value)})))},[e,o]),D=h.useCallback(M=>{M.currentTarget.setSelectionRange(0,0),i?.()},[]),T=h.useCallback(M=>{!r||!b.current||document.activeElement===M.currentTarget&&M.currentTarget.select()},[r]),N=h.useCallback(M=>{r&&M.stopPropagation()},[r]),k=h.useRef(r);return h.useEffect(()=>{r?(k.current=!0,this.texts.set(e.id,f),requestAnimationFrame(()=>{b.current=!0;let M=y.current;M&&(M.focus(),M.select())})):k.current&&(k.current=!1,i?.())},[r]),h.createElement(Wh,L({ref:c},l),h.createElement(WIe,{isGhost:n,isEditing:r,onPointerDown:N},h.createElement(ZIe,{style:{font:v,color:m.stroke,textAlign:Y7e(g.textAlign)}},t&&h.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-this.bindingDistance,left:-this.bindingDistance,width:`calc(100% + ${this.bindingDistance*2}px)`,height:`calc(100% + ${this.bindingDistance*2}px)`,backgroundColor:"var(--tl-selectFill)"}}),r?h.createElement(XIe,{ref:y,style:{font:v,color:m.stroke},name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:f,color:m.stroke,onFocus:T,onChange:A,onKeyDown:x,onBlur:D,onPointerDown:N,onContextMenu:gr,onCopy:gr,onPaste:gr,onCut:gr}):f,"")))})),w(this,"Indicator",ft.Indicator(({shape:e})=>{let{width:t,height:n}=this.getBounds(e);return h.createElement("rect",{x:0,y:0,width:t,height:n})})),w(this,"getBounds",e=>{let t=F.getFromCache(this.boundsCache,e,()=>{var n;if(!Ja)return{minX:0,minY:0,maxX:10,maxY:10,width:10,height:10};Ja.parentNode||document.body.appendChild(Ja),Ja.style.font=sa(e.style),Ja.textContent=(n=this.texts.get(e.id))!=null?n:e.text;let r=Ja.offsetWidth||1,i=Ja.offsetHeight||1;return{minX:0,maxX:r,minY:0,maxY:i,width:r,height:i}});return F.translateBounds(t,e.point)}),w(this,"shouldRender",(e,t)=>t.text!==e.text||t.style.scale!==e.style.scale||t.style!==e.style),w(this,"transform",(e,t,{initialShape:n,scaleX:r,scaleY:i})=>{let{rotation:o=0,style:{scale:u=1}}=n,l=u*Math.abs(Math.min(r,i));return{point:[t.minX,t.minY],rotation:r<0&&i>=0||i<0&&r>=0?-(o||0):o,style:re(L({},n.style),{scale:l})}}),w(this,"transformSingle",(e,t,{initialShape:n,scaleX:r,scaleY:i})=>{let{style:{scale:o=1}}=n;return{point:R.toFixed([t.minX,t.minY]),style:re(L({},n.style),{scale:o*Math.max(Math.abs(i),Math.abs(r))})}}),w(this,"onDoubleClickBoundsHandle",e=>{let t=this.getCenter(e),n=this.getCenter(re(L({},e),{style:re(L({},e.style),{scale:1})}));return{style:re(L({},e.style),{scale:1}),point:R.toFixed(R.add(e.point,R.sub(t,n)))}}),w(this,"getSvgElement",(e,t)=>{var n,r;let i=this.getBounds(e),o=Ct(e.style,t),u=wf(e.style.size,e.style.font)*((n=e.style.scale)!=null?n:1),l=il(e.style.font).slice(1,-1),c=(r=e.style.textAlign)!=null?r:"middle",f=Af(e.text,u,l,c,i.width,!1);return f.setAttribute("fill",o.stroke),f})}},Ja;function YIe(){var e;(e=document.getElementById("__textMeasure"))==null||e.remove();let t=document.createElement("pre");return t.id="__textMeasure",Object.assign(t.style,{whiteSpace:"pre",width:"auto",border:"1px solid transparent",padding:"4px",margin:"0px",letterSpacing:is,opacity:"0",position:"absolute",top:"-500px",left:"0px",zIndex:"9999",pointerEvents:"none",userSelect:"none",alignmentBaseline:"mathematical",dominantBaseline:"mathematical"}),t.tabIndex=-1,document.body.appendChild(t),t}typeof window<"u"&&(Ja=YIe());var WIe=ve("div",{width:"100%",height:"100%",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isEditing:{false:{pointerEvents:"all",userSelect:"all"},true:{pointerEvents:"none",userSelect:"none"}}}}),r8={whiteSpace:"pre-wrap",overflowWrap:"break-word"},ZIe=ve("div",L({position:"absolute",width:"100%",height:"100%",padding:"4px",zIndex:1,minHeight:1,minWidth:1,lineHeight:1,letterSpacing:is,outline:0,fontWeight:"500",backfaceVisibility:"hidden",userSelect:"none",pointerEvents:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",isEditing:{false:{},true:{pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"}}},r8)),XIe=ve("textarea",re(L({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",border:"none",padding:"4px",resize:"none",textAlign:"inherit",minHeight:"inherit",minWidth:"inherit",lineHeight:"inherit",letterSpacing:"inherit",outline:0,fontWeight:"inherit",overflow:"hidden",backfaceVisibility:"hidden",display:"inline-block",pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"},r8),{"&:focus":{outline:"none",border:"none"}}));function Xo(e,t=0,n=0){let[r,i]=e,o=[[r/2,0],[r,i],[0,i]];return t&&(o=eIe(o,t)),n&&(o=o.map(u=>le.rotWith(u,[r/2,i/2],n))),o}function I9(e){let[t,n]=e,r=[[t/2,0],[t,n],[0,n]];return[(r[0][0]+r[1][0]+r[2][0])/3,(r[0][1]+r[1][1]+r[2][1])/3]}function JIe(e,t,n){let[r,i]=t,o=F.rng(e),u=Array.from(Array(3)).map(()=>[o()*n*.75,o()*n*.75]),l=[le.add([r/2,0],u[0]),le.add([r,i],u[1]),le.add([0,i],u[2])],c=Math.round(Math.abs(o()*2*3)),f=F.rotateArray([le.pointsBetween(l[0],l[1],32),le.pointsBetween(l[1],l[2],32),le.pointsBetween(l[2],l[0],32)],c);return{points:[...f.flat(),...f[0]]}}function i8(e,t,n){let{strokeWidth:r}=Ct(n),{points:i}=JIe(e,t,r);return{points:i,options:{size:r,thinning:.65,streamline:.3,smoothing:1,simulatePressure:!1,last:!0}}}function qIe(e,t,n){let{points:r,options:i}=i8(e,t,n),o=Jc(r,i);return F.getSvgPathFromStroke(o)}function QIe(e,t,n){let{points:r,options:i}=i8(e,t,n);return F.getSvgPathFromStrokePoints(Ku(r,i))}var eTe=h.memo(function({id:e,size:t,style:n,isSelected:r,isDarkMode:i}){let{stroke:o,strokeWidth:u,fill:l}=Ct(n,i),c=1+u*1.618,f=Xo(t),g=F.pointsToLineSegments(f,!0).map(([v,y],b)=>{let{strokeDasharray:C,strokeDashoffset:A}=F.getPerfectDashProps(le.dist(v,y),u*1.618,n.dash);return h.createElement("line",{key:e+"_"+b,x1:v[0],y1:v[1],x2:y[0],y2:y[1],stroke:o,strokeWidth:c,strokeLinecap:"round",strokeDasharray:C,strokeDashoffset:A})}),m=f.join();return h.createElement(h.Fragment,null,h.createElement("polygon",{className:n.isFilled||r?"tl-fill-hitarea":"tl-stroke-hitarea",points:m}),n.isFilled&&h.createElement("polygon",{fill:l,points:m,pointerEvents:"none"}),h.createElement("g",{pointerEvents:"stroke"},g))}),tTe=h.memo(function({id:e,size:t,style:n,isSelected:r,isDarkMode:i}){let{stroke:o,strokeWidth:u,fill:l}=Ct(n,i),c=qIe(e,t,n),f=QIe(e,t,n);return h.createElement(h.Fragment,null,h.createElement("path",{className:n.isFilled||r?"tl-fill-hitarea":"tl-stroke-hitarea",d:f}),n.isFilled&&h.createElement("path",{d:f,fill:l,pointerEvents:"none"}),h.createElement("path",{d:c,fill:o,stroke:o,strokeWidth:u,pointerEvents:"none"}))});function nTe({size:e}){let t=Xo(e).join();return h.createElement("polygon",{className:"tl-binding-indicator",points:t,strokeWidth:32})}var rTe=class extends ft{constructor(){super(...arguments),w(this,"type","triangle"),w(this,"canBind",!0),w(this,"canClone",!0),w(this,"canEdit",!0),w(this,"getShape",e=>F.deepMerge({id:"id",type:"triangle",name:"Triangle",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:Pi,label:"",labelPoint:[.5,.5]},e)),w(this,"Component",ft.Component(({shape:e,bounds:t,isBinding:n,isEditing:r,isSelected:i,isGhost:o,meta:u,events:l,onShapeChange:c,onShapeBlur:f},g)=>{let{id:m,label:v="",size:y,style:b,labelPoint:C=f2}=e,A=sa(b),x=Ct(b,u.isDarkMode),D=b.dash==="draw"?tTe:eTe,T=h.useCallback(k=>c?.({id:m,label:k}),[c]),N=h.useMemo(()=>{let k=le.div(y,2);return(I9(y)[1]-k[1])*.72},[y]);return h.createElement(iTe,L({ref:g},l),h.createElement(xf,{font:A,text:v,color:x.stroke,offsetX:(C[0]-.5)*t.width,offsetY:N+(C[1]-.5)*t.height,isEditing:r,onChange:T,onBlur:f}),h.createElement(Lr,{id:e.id+"_svg",opacity:o?.3:1},n&&h.createElement(nTe,{size:y}),h.createElement(D,{id:m,style:b,size:y,isSelected:i,isDarkMode:u.isDarkMode})))})),w(this,"Indicator",ft.Indicator(({shape:e})=>{let{size:t}=e;return h.createElement("polygon",{points:Xo(t).join()})})),w(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.label!==e.label),w(this,"getBounds",e=>rl(e,this.boundsCache)),w(this,"getExpandedBounds",e=>F.getBoundsFromPoints(Xo(e.size,this.bindingDistance).map(t=>le.add(t,e.point)))),w(this,"hitTestLineSegment",(e,t,n)=>m4(t,n,this.getPoints(e)).didIntersect),w(this,"hitTestBounds",(e,t)=>F.boundsContained(this.getBounds(e),t)||OB(t,this.getPoints(e)).length>0),w(this,"getBindingPoint",(e,t,n,r,i,o)=>{let u=this.getExpandedBounds(e);if(!F.pointInBounds(n,u))return;let l=Xo(e.size).map(x=>le.add(x,e.point)),c=Xo(e.size,this.bindingDistance).map(x=>le.add(x,e.point)),f=F.pointsToLineSegments(l,!0).map(([x,D])=>le.distanceToLineSegment(x,D,n)).sort((x,D)=>x-D)[0];if(!(F.pointInPolygon(n,c)||f<this.bindingDistance))return;let g=F.pointsToLineSegments(c.concat([c[0]])).map(x=>f4(r,i,x[0],x[1])).filter(x=>x.didIntersect).flatMap(x=>x.points);if(!g.length)return;let m=le.add(I9(e.size),e.point),v=g.sort((x,D)=>le.dist(D,r)-le.dist(x,r))[0],y=le.med(n,v),b,C;o?(b=le.dist(n,m)<16/2?m:n,C=0):(le.distanceToLineSegment(n,y,m)<16/2?b=m:b=y,F.pointInPolygon(n,l)?C=this.bindingDistance:C=Math.max(this.bindingDistance,f));let A=le.divV(le.sub(b,[u.minX,u.minY]),[u.width,u.height]);return{point:le.clampV(A,0,1),distance:C}}),w(this,"transform",Df),w(this,"transformSingle",If)}getPoints(e){let{rotation:t=0,point:[n,r],size:[i,o]}=e;return[[n+i/2,r],[n,r+o],[n+i,r+o]].map(u=>le.rotWith(u,this.getCenter(e),t))}},iTe=ve("div",{width:"100%",height:"100%"}),aTe=class extends ft{constructor(){super(...arguments),w(this,"type","video"),w(this,"canBind",!0),w(this,"canEdit",!0),w(this,"canClone",!0),w(this,"isAspectRatioLocked",!0),w(this,"showCloneHandles",!1),w(this,"isStateful",!0),w(this,"getShape",e=>F.deepMerge({id:"video",type:"video",name:"Video",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:Pi,assetId:"assetId",isPlaying:!0,currentTime:0},e)),w(this,"Component",ft.Component(({shape:e,asset:t={src:""},isBinding:n,isEditing:r,isGhost:i,meta:o,events:u,onShapeChange:l},c)=>{let f=h.useRef(null),g=h.useRef(null),{currentTime:m=0,size:v,isPlaying:y,style:b}=e;h.useLayoutEffect(()=>{let D=g.current;if(!D)return;let[T,N]=v;D.style.width=`${T}px`,D.style.height=`${N}px`},[v]),h.useLayoutEffect(()=>{let D=f.current;!D||(y?D.play():D.pause())},[y]),h.useLayoutEffect(()=>{let D=f.current;!D||m!==D.currentTime&&(D.currentTime=m)},[m]);let C=h.useCallback(()=>{l?.({id:e.id,isPlaying:!0})},[]),A=h.useCallback(()=>{l?.({id:e.id,isPlaying:!1})},[]),x=h.useCallback(()=>{let D=f.current;!D||!r||l==null||l({id:e.id,currentTime:D.currentTime})},[r]);return h.createElement(Wh,L({ref:c},u),n&&h.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-this.bindingDistance,left:-this.bindingDistance,width:`calc(100% + ${this.bindingDistance*2}px)`,height:`calc(100% + ${this.bindingDistance*2}px)`,backgroundColor:"var(--tl-selectFill)"}}),h.createElement(oTe,{ref:g,isDarkMode:o.isDarkMode,isGhost:i,isFilled:b.isFilled},h.createElement(sTe,{ref:f,id:e.id+"_video",muted:!0,loop:!0,playsInline:!0,disableRemotePlayback:!0,disablePictureInPicture:!0,controls:r,autoPlay:y,onPlay:C,onPause:A,onTimeUpdate:x},h.createElement("source",{src:t.src}))))})),w(this,"Indicator",ft.Indicator(({shape:e})=>{let{size:[t,n]}=e;return h.createElement("rect",{x:0,y:0,rx:2,ry:2,width:Math.max(1,t),height:Math.max(1,n)})})),w(this,"getBounds",e=>rl(e,this.boundsCache)),w(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.isPlaying!==e.isPlaying),w(this,"getSvgElement",e=>{let t=this.getBounds(e),n=document.createElementNS("http://www.w3.org/2000/svg","image");return n.setAttribute("width",`${t.width}`),n.setAttribute("height",`${t.height}`),n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),n}),w(this,"transform",Df),w(this,"transformSingle",If)}},oTe=of("div",{pointerEvents:"all",position:"relative",fontFamily:"sans-serif",fontSize:"2em",height:"100%",width:"100%",borderRadius:"3px",perspective:"800px",overflow:"hidden",p:{userSelect:"none"},img:{userSelect:"none"},variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isFilled:{true:{},false:{}},isDarkMode:{true:{},false:{}}},compoundVariants:[{isFilled:!0,isDarkMode:!0,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"}},{isFilled:!0,isDarkMode:!1,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}]}),sTe=of("video",{position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:"100%",minWidth:"100%",pointerEvents:"none",objectFit:"cover",userSelect:"none",borderRadius:2}),a8=new zIe,o8=new rTe,s8=new RIe,u8=new xIe,v2=new EIe,uTe=new KIe,lTe=new kIe,K1=new UIe,cTe=new MIe,dTe=new aTe,Nu={rectangle:a8,triangle:o8,ellipse:s8,draw:u8,arrow:v2,text:uTe,group:lTe,sticky:K1,image:cTe,video:dTe},hTe=e=>typeof e=="string"?Nu[e]:Nu[e.type],Re=class{static getShapeUtil(e){return hTe(e)}static getSelectedShapes(e,t){let n=Re.getPage(e,t);return Re.getSelectedIds(e,t).map(r=>n.shapes[r])}static screenToWorld(e,t){let n=Re.getPageState(e,e.appState.currentPageId).camera;return R.sub(R.div(t,n.zoom),n.point)}static getCameraZoom(e){return F.clamp(e,.1,5)}static getPage(e,t){return e.document.pages[t]}static getPageState(e,t){return e.document.pageStates[t]}static getSelectedIds(e,t){return Re.getPageState(e,t).selectedIds}static getShapes(e,t){return Object.values(Re.getPage(e,t).shapes)}static getCamera(e,t){return Re.getPageState(e,t).camera}static getShape(e,t,n){return Re.getPage(e,n).shapes[t]}static getCenter(e){return Re.getShapeUtil(e).getCenter(e)}static getBounds(e){return Re.getShapeUtil(e).getBounds(e)}static getRotatedBounds(e){return Re.getShapeUtil(e).getRotatedBounds(e)}static getSelectedBounds(e){return F.getCommonBounds(Re.getSelectedShapes(e,e.appState.currentPageId).map(t=>Re.getShapeUtil(t).getBounds(t)))}static getParentId(e,t,n){return Re.getShape(e,t,n).parentId}static getDocumentBranch(e,t,n){let r=Re.getShape(e,t,n);return r.children===void 0?[t]:[t,...r.children.flatMap(i=>Re.getDocumentBranch(e,i,n))]}static getSelectedBranchSnapshot(e,t,n){let r=Re.getPage(e,t),i=Re.getSelectedIds(e,t).flatMap(o=>Re.getDocumentBranch(e,o,t).map(u=>r.shapes[u])).filter(o=>!o.isLocked).map(F.deepClone);return n!==void 0?i.map(o=>L({id:o.id},n(o))):i}static getSelectedShapeSnapshot(e,t,n){let r=Re.getSelectedShapes(e,t).filter(i=>!i.isLocked).map(F.deepClone);return n!==void 0?r.map(i=>L({id:i.id},n(i))):r}static getAllEffectedShapeIds(e,t,n){let r=Re.getPage(e,n),i=new Set(t);return t.forEach(o=>{let u=r.shapes[o];function l(f){f.children!==void 0&&f.children.filter(g=>!i.has(g)).forEach(g=>{i.add(g),l(r.shapes[g])})}l(u);function c(f){let g=f.parentId;g!==r.id&&(i.has(g)||(i.add(g),c(r.shapes[g])))}c(u),i.forEach(f=>{Object.values(r.bindings).filter(g=>g.fromId===f||g.toId===f).forEach(g=>i.add(g.fromId===f?g.toId:g.fromId))})}),Array.from(i.values())}static getLinkedShapeIds(e,t,n,r=!0){let i=Re.getSelectedIds(e,t),o=Re.getPage(e,t),u=new Set(i),l=new Set,c=[...i],f=new Set(Object.values(o.shapes).filter(g=>{var m;return g.type==="arrow"&&(g.handles.start.bindingId||((m=g.handles)==null?void 0:m.end.bindingId))}));for(;c.length;){let g=c.pop();if(!(g&&f.size))break;l.has(g)||(l.add(g),f.forEach(m=>{var v,y;let{handles:{start:{bindingId:b},end:{bindingId:C}}}=m,A=b?o.bindings[b]:null,x=C?o.bindings[C]:null,D=!1;A&&A.toId===g?(n==="center"?D=!0:(v=m.decorations)!=null&&v.start&&x?D=n==="left":D=n==="right",D&&(r&&u.add(m.id),u.add(g),x&&(u.add(x.toId),c.push(x.toId)))):x&&x.toId===g&&(n==="center"?D=!0:(y=m.decorations)!=null&&y.end&&A?D=n==="left":D=n==="right",D&&(r&&u.add(m.id),u.add(g),A&&(u.add(A.toId),c.push(A.toId)))),(!A||u.has(A.toId))&&(!x||u.has(x.toId))&&f.delete(m)}))}return Array.from(u.values())}static getChildIndexAbove(e,t,n){let r=e.document.pages[n],i=r.shapes[t],o;if(i.parentId===r.id)o=Object.values(r.shapes).filter(c=>c.parentId===r.id).sort((c,f)=>c.childIndex-f.childIndex);else{let c=r.shapes[i.parentId];if(!c.children)throw Error("No children in parent!");o=c.children.map(f=>r.shapes[f]).sort((f,g)=>f.childIndex-g.childIndex)}let u=o.indexOf(i),l=o[u+1];return l?l.childIndex:i.childIndex+1}static getBeforeShape(e,t){return Object.fromEntries(Object.keys(t).map(n=>[n,e[n]]))}static mutateShapes(e,t,n,r,i=!1){let o={},u={};t.forEach((c,f)=>{let g=Re.getShape(e,c,r);if(g.isLocked)return;g?.type==="group"&&(t.length===1||i)&&g.children.forEach((v,y)=>{let b=Re.getShape(e,v,r);if(b.isLocked)return;let C=n(b,y);C&&(o[v]=Re.getBeforeShape(b,C),u[v]=C)});let m=n(g,f);m&&(o[c]=Re.getBeforeShape(g,m),u[c]=m)});let l=F.deepMerge(e,{document:{pages:{[e.appState.currentPageId]:{shapes:u}}}});return{before:o,after:u,data:l}}static createShapes(e,t,n){let r={document:{pages:{[n]:{shapes:L({},Object.fromEntries(t.flatMap(o=>{let u=[[o.id,void 0]];if(o.parentId!==n){let l=Re.getShape(e,o.parentId,n);if(!l.children)throw Error("No children in parent!");u.push([l.id,{children:l.children}])}return u})))}}}},i={document:{pages:{[n]:{shapes:{shapes:L({},Object.fromEntries(t.flatMap(o=>{let u=[[o.id,o]];if(o.parentId!==n){let l=Re.getShape(e,o.parentId,n);if(!l.children)throw Error("No children in parent!");u.push([l.id,{children:[...l.children,o.id]}])}return u})))}}}}};return{before:r,after:i}}static deleteShapes(e,t,n){n=n||e.appState.currentPageId;let r=Re.getPage(e,n),i=typeof t[0]=="string"?t:t.map(l=>l.id),o={document:{pages:{[n]:{shapes:L({},Object.fromEntries(i.flatMap(l=>{let c=r.shapes[l],f=[[c.id,c]];if(c.parentId!==n){let g=r.shapes[c.parentId];if(!g.children)throw Error("No children in parent!");f.push([g.id,{children:g.children}])}return f}))),bindings:L({},Object.fromEntries(Object.values(r.bindings).filter(l=>i.includes(l.fromId)||i.includes(l.toId)).map(l=>[l.id,l])))}}}},u={document:{pages:{[n]:{shapes:L({},Object.fromEntries(i.flatMap(l=>{let c=r.shapes[l],f=[[c.id,void 0]];if(c.parentId!==r.id){let g=r.shapes[c.parentId];if(!g.children)throw Error("No children in parent!");f.push([g.id,{children:g.children.filter(m=>m!==c.id)}])}return f})))}}}};return{before:o,after:u}}static onSessionComplete(e){var t,n;let r=(n=(t=Re.getShapeUtil(e)).onSessionComplete)==null?void 0:n.call(t,e);return r?L(L({},e),r):e}static onChildrenChange(e,t,n){var r,i;if(!t.children)return;let o=(i=(r=Re.getShapeUtil(t)).onChildrenChange)==null?void 0:i.call(r,t,t.children.map(u=>Re.getShape(e,u,n)));return o?L(L({},t),o):t}static updateArrowBindings(e,t){var n,r,i,o,u,l;let c={start:hr(t.handles.start),end:hr(t.handles.end)},f={isBound:!1,handle:t.handles.start,point:R.add(t.handles.start.point,t.point)},g={isBound:!1,handle:t.handles.end,point:R.add(t.handles.end.point,t.point)};if(t.handles.start.bindingId){let m=((n=t.decorations)==null?void 0:n.start)!==void 0,v=t.handles.start,y=e.bindings[t.handles.start.bindingId];if(!y)throw Error("Could not find a binding to match the start handle's bindingId: "+t.handles.start.bindingId);let b=e.shapes[y.toId],C=Re.getShapeUtil(b),A=C.getBounds(b),x=C.getExpandedBounds(b),D=m?F.expandBounds(A,y.distance):A,{minX:T,minY:N,width:k,height:M}=x,B=R.add([T,N],R.mulV([k,M],R.rotWith(y.point,[.5,.5],b.rotation||0)));f={isBound:!0,hasDecoration:m,binding:y,handle:v,point:B,util:C,target:b,bounds:A,expandedBounds:x,intersectBounds:D,center:C.getCenter(b)}}if(t.handles.end.bindingId){let m=((r=t.decorations)==null?void 0:r.end)!==void 0,v=t.handles.end,y=e.bindings[t.handles.end.bindingId];if(!y)throw Error("Could not find a binding to match the end handle's bindingId");let b=e.shapes[y.toId],C=Re.getShapeUtil(b),A=C.getBounds(b),x=C.getExpandedBounds(b),D=m?F.expandBounds(A,y.distance):A,{minX:T,minY:N,width:k,height:M}=x,B=R.add([T,N],R.mulV([k,M],R.rotWith(y.point,[.5,.5],b.rotation||0)));g={isBound:!0,hasDecoration:m,binding:y,handle:v,point:B,util:C,target:b,bounds:A,expandedBounds:x,intersectBounds:D,center:C.getCenter(b)}}for(let m of["end","start"]){let v=m==="start"?f:g,y=m==="start"?g:f;if(v.isBound)if(!v.binding.distance)c[m].point=R.sub(v.point,t.point);else{let b=R.uni(R.sub(v.point,y.point));switch(v.target.type){case"ellipse":{let C=xS(y.point,b,v.center,v.target.radius[0]+(v.hasDecoration?v.binding.distance:0),v.target.radius[1]+(v.hasDecoration?v.binding.distance:0),v.target.rotation||0).points.sort((A,x)=>R.dist(A,y.point)-R.dist(x,y.point));C[0]!==void 0&&(c[m].point=R.toFixed(R.sub(C[0],t.point)));break}case"triangle":{let C=v.target.point,A=Xo(v.target.size,v.hasDecoration?16:0,v.target.rotation).map(D=>R.add(D,C)),x=F.pointsToLineSegments(A,!0).map(([D,T])=>f4(y.point,b,D,T)).filter(D=>D.didIntersect).flatMap(D=>D.points).sort((D,T)=>R.dist(D,y.point)-R.dist(T,y.point));x[0]!==void 0&&(c[m].point=R.toFixed(R.sub(x[0],t.point)));break}default:{let C=dh(y.point,b,v.intersectBounds,v.target.rotation).filter(x=>x.didIntersect).map(x=>x.points[0]).sort((x,D)=>R.dist(x,y.point)-R.dist(D,y.point));if(!C[0])continue;let A;if(y.isBound&&(A=dh(y.point,b,y.intersectBounds,y.target.rotation).filter(x=>x.didIntersect).map(x=>x.points[0]).sort((x,D)=>R.dist(x,y.point)-R.dist(D,y.point))[0]),y.isBound&&(C.length<2||A&&C[0]&&Math.ceil(R.dist(C[0],A))<16*2.5||F.boundsContain(v.expandedBounds,y.expandedBounds)||F.boundsCollide(v.expandedBounds,y.expandedBounds))){let x=R.uni(R.sub(y.point,v.point)),D=dh(v.point,x,v.bounds,v.target.rotation).filter(T=>T.didIntersect).map(T=>T.points[0]);if(!D[0])continue;c[m].point=R.toFixed(R.sub(D[0],t.point)),c[m==="start"?"end":"start"].point=R.toFixed(R.add(R.sub(D[0],t.point),R.mul(x,Math.min(R.dist(D[0],y.point),16*2.5*(F.boundsContain(y.bounds,v.intersectBounds)?-1:1)))))}else if(!y.isBound&&(C[0]&&R.dist(C[0],y.point)<16*2.5||F.pointInBounds(y.point,v.intersectBounds))){let x=R.uni(R.sub(v.center,y.point));return(o=(i=Re.getShapeUtil(t)).onHandleChange)==null?void 0:o.call(i,t,{[m]:re(L({},t.handles[m]),{point:R.toFixed(R.add(R.sub(y.point,t.point),R.mul(x,16*2.5)))})})}else C[0]&&(c[m].point=R.toFixed(R.sub(C[0],t.point)))}}}}return(l=(u=Re.getShapeUtil(t)).onHandleChange)==null?void 0:l.call(u,t,c)}static transform(e,t,n){let r=Re.getShapeUtil(e).transform(e,t,n);return r?L(L({},e),r):e}static transformSingle(e,t,n){let r=Re.getShapeUtil(e).transformSingle(e,t,n);return r?L(L({},e),r):e}static getRotatedShapeMutation(e,t,n,r){var i,o;let u=R.sub(t,e.point),l=R.rotWith(t,n,r),c=R.toFixed(R.sub(l,u));if(e.handles!==void 0)return(o=(i=this.getShapeUtil(e)).onHandleChange)==null?void 0:o.call(i,re(L({},e),{point:c}),Object.fromEntries(Object.entries(e.handles).map(([g,m])=>{let v=R.toFixed(R.rotWith(m.point,u,r));return[g,re(L({},m),{point:v})]})));let f=F.clampRadians((e.rotation||0)+r);return{point:c,rotation:f}}static updateParents(e,t,n){let r=Re.getPage(e,t);if(n.length===0)return;let{shapes:i}=Re.getPage(e,t),o=Array.from(new Set(n.map(u=>i[u].parentId).values())).filter(u=>u!==r.id);for(let u of o){let l=i[u];if(!l.children)throw Error("A shape is parented to a shape without a children array.");Re.onChildrenChange(e,l,t)}Re.updateParents(e,t,o)}static getBinding(e,t,n){return Re.getPage(e,n).bindings[t]}static getBindings(e,t){let n=Re.getPage(e,t);return Object.values(n.bindings)}static getBindableShapeIds(e){return Re.getShapes(e,e.appState.currentPageId).filter(t=>Re.getShapeUtil(t).canBind).sort((t,n)=>n.childIndex-t.childIndex).map(t=>t.id)}static getBindingsWithShapeIds(e,t,n){return Array.from(new Set(Re.getBindings(e,n).filter(r=>t.includes(r.toId)||t.includes(r.fromId))).values())}static getRelatedBindings(e,t,n){let r=new Set(t),i=Re.getPage(e,n),o=Object.values(i.bindings),u=new Set(o.filter(f=>r.has(f.toId)||r.has(f.fromId))),l=u.size,c=-1;for(;c!==0;)u.forEach(f=>{let g=f.fromId;for(let m of o)m.fromId===g&&u.add(m),m.toId===g&&u.add(m)}),c=u.size-l,l=u.size;return Array.from(u.values())}static normalizeText(e){return e.replace(Re.fixNewLines,`
`).split(`
`).map(t=>t||" ").join(`
`)}static assertShapeHasProperty(e,t){if(e[t]===void 0)throw new Error}static warn(e){}static error(e){}static getSvgString(e,t=1){let n=e.cloneNode(!0);return e.setAttribute("width",+e.getAttribute("width")*t+""),e.setAttribute("height",+e.getAttribute("height")*t+""),new XMLSerializer().serializeToString(n).replaceAll("&#10;      ","").replaceAll(/((\s|")[0-9]*\.[0-9]{2})([0-9]*)(\b|"|\))/g,"$1")}static getSvgAsDataUrl(e,t=1){let n=Re.getSvgString(e,t);return`data:image/svg+xml;base64,${window.btoa(unescape(n))}`}static getImageForSvg(e){return Fe(this,arguments,function*(t,n="png",r={}){let{scale:i=2,quality:o=1}=r,u=Re.getSvgString(t,i),l=+t.getAttribute("width"),c=+t.getAttribute("height");if(!u)return;let f=yield new Promise(g=>{let m=new Image;m.crossOrigin="anonymous";let v=`data:image/svg+xml;base64,${window.btoa(unescape(encodeURIComponent(u)))}`;m.onload=()=>{let y=document.createElement("canvas"),b=y.getContext("2d");y.width=l,y.height=c,b.drawImage(m,0,0,l,c),URL.revokeObjectURL(v),g(y)},m.onerror=()=>{console.warn("Could not convert that SVG to an image.")},m.src=v});return yield new Promise(g=>f.toBlob(m=>g(m),"image/"+n,o))})}},ie=Re;w(ie,"copyStringToClipboard",e=>{try{navigator.clipboard&&navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([e],{type:"text/plain"})})])}catch{let n=document.createElement("textarea");n.setAttribute("position","fixed"),n.setAttribute("top","0"),n.setAttribute("readonly","true"),n.setAttribute("contenteditable","true"),n.style.position="fixed",n.value=e,document.body.appendChild(n),n.focus(),n.select();try{let r=document.createRange();r.selectNodeContents(n);let i=window.getSelection();i&&(i.removeAllRanges(),i.addRange(r),n.setSelectionRange(0,n.value.length)),document.execCommand("copy")}catch{}finally{document.body.removeChild(n)}}}),w(ie,"flattenShape",(e,t)=>{var n;return[t,...((n=t.children)!=null?n:[]).map(r=>Re.getShape(e,r,e.appState.currentPageId)).sort((r,i)=>r.childIndex-i.childIndex).flatMap(r=>Re.flattenShape(e,r))]}),w(ie,"flattenPage",(e,t)=>Object.values(e.document.pages[t].shapes).sort((n,r)=>n.childIndex-r.childIndex).reduce((n,r)=>[...n,...Re.flattenShape(e,r)],[])),w(ie,"getTopChildIndex",(e,t)=>{let n=Re.getShapes(e,t);return n.length===0?1:n.filter(r=>r.parentId===t).sort((r,i)=>i.childIndex-r.childIndex)[0].childIndex+1}),w(ie,"fixNewLines",/\r?\n|\r/g);var fTe=e=>e.room,pTe=function(){let e=St(),t=e.useStore(fTe),[n,r]=h.useState(!1),i=h.useRef(0),o=h.useCallback(()=>{r(!0),ie.copyStringToClipboard(window.location.href),clearTimeout(i.current),i.current=setTimeout(()=>r(!1),1200)},[]),u=h.useCallback(()=>{r(!0);let f=window.location.href.split("/");f[f.length-2]="v",f[f.length-1]=F.lns(f[f.length-1]),ie.copyStringToClipboard(f.join("/")),clearTimeout(i.current),i.current=setTimeout(()=>r(!1),1200)},[]),l=h.useCallback(()=>Fe(this,null,function*(){e.isDirty?e.fileSystemHandle?window.confirm("Do you want to save changes to your current project?")&&(yield e.saveProject()):window.confirm("Do you want to save your current project?")&&(yield e.saveProject()):e.fileSystemHandle||window.confirm("Do you want to save your current project?")&&(yield e.saveProject())}),[]),c=h.useCallback(()=>Fe(this,null,function*(){var f;let g=F.deepClone(e.document);e.setIsLoading(!0);try{if(e.callbacks.onAssetUpload)for(let v in g.assets){let y=g.assets[v];if(y.src.includes("base64")){let b=gTe(y.src,((f=y.fileName)!=null?f:y.type==="video")?"image.png":"image.mp4"),C=yield e.callbacks.onAssetUpload(e,b,v);C?y.src=C:y.src=""}}let m=yield fetch("/api/create",{method:"POST",mode:"no-cors",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({roomId:F.uniqueId(),pageId:e.currentPageId,document:g})}).then(v=>v.json());m?.url?window.location.href=m.url:ie.warn(m?.message)}catch(m){ie.warn(m.message)}e.setIsLoading(!1)}),[]);return h.createElement(yo,{dir:"ltr"},h.createElement(jx,{id:"TD-MultiplayerMenuIcon",isActive:!!t},h.createElement(H7e,null)),h.createElement(hs,{variant:"menu",id:"TD-MultiplayerMenu",side:"bottom",align:"start",sideOffset:4},h.createElement(et,{id:"TD-Multiplayer-CopyInviteLink",onClick:o,disabled:!t},h.createElement(ye,{id:"copy.invite.link"}),h.createElement(ci,null,n?h.createElement(Ih,null):h.createElement(IC,null))),h.createElement(et,{id:"TD-Multiplayer-CopyReadOnlyLink",onClick:u,disabled:!t},h.createElement(ye,{id:"copy.readonly.link"}),h.createElement(ci,null,n?h.createElement(Ih,null):h.createElement(IC,null))),h.createElement(Gt,null),h.createElement(et,{id:"TD-Multiplayer-CreateMultiplayerProject",onClick:l},h.createElement("a",{href:"https://tldraw.com/r"},h.createElement(ye,{id:"create.multiplayer.project"}))),h.createElement(et,{id:"TD-Multiplayer-CopyToMultiplayerProject",onClick:c},h.createElement(ye,{id:"copy.multiplayer.project"}))))};function gTe(e,t){var n,r;let i=e.split(","),o=(r=(n=i[0])==null?void 0:n.match(/:(.*?);/))==null?void 0:r[1],u=window.atob(i[1]),l=u.length,c=new Uint8Array(l);for(;l--;)c[l]=u.charCodeAt(l);return new File([c],t,{type:o})}var mTe=e=>Object.keys(e.document.pages).length>1;function vTe({page:e,onOpen:t,onClose:n}){let r=St(),i=In(),[o,u]=h.useState(!1),[l,c]=h.useState(e.name||"Page"),f=r.useStore(mTe),g=h.useRef(null),m=h.useCallback(()=>{u(!1)},[]),v=h.useCallback(()=>{r.duplicatePage(e.id)},[r]),y=h.useCallback(()=>{window.confirm("Are you sure you want to delete this page?")&&r.deletePage(e.id)},[r]),b=h.useCallback(M=>{if(u(M),M){t?.();return}},[r]);function C(M){M.stopPropagation()}let A=h.useRef(e.name||"Page"),x=h.useRef(A.current),D=h.useCallback(M=>{let B=M.target.value.trimStart();x.current=B,c(B)},[]),T=h.useCallback(M=>{switch(M.key){case"Enter":{x.current===A.current||(A.current=x.current,r.renamePage(e.id,x.current.trim())),u(!1);break}case"Escape":{if(x.current===A.current){u(!1);return}x.current=A.current,c(A.current),requestAnimationFrame(()=>{let B=g.current;B&&(B.focus(),B.setSelectionRange(0,B.value.length))});break}}},[]),N=h.useRef(!1);h.useEffect(()=>(o?(N.current=!0,A.current=e.name||"Page",x.current=A.current,requestAnimationFrame(()=>{let M=g.current;M&&(M.focus(),M.setSelectionRange(0,M.value.length))})):N.current&&n?.(),()=>{x.current!==A.current&&(A.current=x.current,r.renamePage(e.id,x.current))}),[o]);let k=bo();return h.createElement(e2,{open:o,onOpenChange:b},h.createElement(NU,{asChild:!0,"data-shy":"true"},h.createElement(h2,{bp:Nr},h.createElement(ci,null,h.createElement(GF,null)))),h.createElement(t2,{container:k.current},h.createElement(ETe,{onPointerDown:m}),h.createElement(yTe,{dir:"ltr",onKeyDown:C,onKeyUp:C},h.createElement(Gx,{ref:g,placeholder:i.formatMessage({id:"page.name"}),value:l,onChange:D,onKeyDown:T,icon:h.createElement(N4,null)}),h.createElement(Gt,null),h.createElement(T9,{onSelect:v},h.createElement(ye,{id:"duplicate"})),h.createElement(T9,{disabled:!f,onSelect:y},h.createElement(ye,{id:"delete"})),h.createElement(Gt,null),h.createElement(lx,{asChild:!0},h.createElement(_n,null,h.createElement(ye,{id:"cancel"}))))))}var yTe=ve(n2,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:240,maxWidth:"fit-content",maxHeight:"85vh",marginTop:"-5vh",pointerEvents:"all",backgroundColor:"$panel",padding:"$1",borderRadius:"$2",font:"$ui",zIndex:999999,"&:focus":{outline:"none"}}),ETe=ve(bf,{backgroundColor:"rgba(0, 0, 0, .15)",position:"absolute",pointerEvents:"all",inset:0,zIndex:999998});function T9(e){var t=e,{onSelect:n}=t,r=Vr(t,["onSelect"]);return h.createElement(Nh,{asChild:!0,onClick:n,onSelect:n},h.createElement(_n,L({},r)))}var bTe=e=>Object.values(e.document.pages).sort((t,n)=>(t.childIndex||0)-(n.childIndex||0)),CTe=e=>e.document.pages[e.appState.currentPageId].name,STe=e=>e.document.pages[e.appState.currentPageId].id;function ATe(){let e=St(),t=In(),n=h.useRef(!1),[r,i]=h.useState(!1);h.useEffect(()=>{n.current!==r&&(n.current=r)},[r]);let o=h.useCallback(()=>{i(!1)},[i]),u=h.useCallback(c=>{n.current!==c&&i(c)},[i]),l=e.useStore(CTe);return h.createElement(yo,{dir:"ltr",open:r,onOpenChange:u},h.createElement(cs,{dir:"ltr",asChild:!0,id:"TD-Page"},h.createElement(at,{variant:"text"},l||t.formatMessage({id:"page"}))),h.createElement(hs,{variant:"menu",align:"start",sideOffset:4},r&&h.createElement(wTe,{onClose:o})))}function wTe({onClose:e}){let t=St(),n=In(),r=t.useStore(bTe),i=t.useStore(STe),o=n.formatMessage({id:"page"}),u=h.useCallback(()=>{let C=o+" "+(Object.keys(t.document.pages).length+1);t.createPage(void 0,C)},[t]),l=h.useCallback(C=>{e(),t.changePage(C)},[t]),[c,f]=h.useState(null),[g,m]=h.useState(null),v=h.useCallback(C=>{f(C.currentTarget.id),m(r.findIndex(A=>A.id===C.currentTarget.id)),C.dataTransfer.effectAllowed="move"},[]),y=h.useCallback(C=>{C.preventDefault();let A=r.findIndex(D=>D.id===C.currentTarget.id),x=C.currentTarget.getBoundingClientRect();A=(C.clientY-x.top)/x.height<.5?A:A+1,m(A)},[c,r]),b=h.useCallback(()=>{c!==null&&g!==null&&t.movePage(c,g),f(null),m(null)},[c,g]);return h.createElement(h.Fragment,null,h.createElement(m$,{dir:"ltr",value:i,onValueChange:l},r.map((C,A)=>h.createElement(xTe,{key:C.id,isDropAbove:A===g&&A===0,isDropBelow:g!==null&&A===g-1},h.createElement(RA,{title:C.name||o,value:C.id,key:C.id,id:C.id,asChild:!0,onDragOver:y,onDragStart:v,onDrop:b,draggable:!0},h.createElement(DTe,null,h.createElement("span",{id:C.id},C.name||o),h.createElement(BA,null,h.createElement(ci,null,h.createElement(Ih,null))))),h.createElement(vTe,{page:C,onClose:e})))),h.createElement(Gt,null),h.createElement(sf,{onSelect:u,asChild:!0},h.createElement(_n,null,h.createElement("span",null,h.createElement(ye,{id:"create.page"})),h.createElement(ci,null,h.createElement(QF,null)))))}var xTe=ve("div",{position:"relative",display:"grid",gridTemplateColumns:"1fr auto",gridAutoFlow:"column",margin:0,'& > *[data-shy="true"]':{opacity:0},'&:hover > *[data-shy="true"]':{opacity:1},variants:{isDropAbove:{true:{"&::after":{content:"",display:"block",position:"absolute",top:0,width:"100%",height:"1px",backgroundColor:"$selected",zIndex:999,pointerEvents:"none"}}},isDropBelow:{true:{"&::after":{content:"",display:"block",position:"absolute",width:"100%",height:"1px",top:"100%",backgroundColor:"$selected",zIndex:999,pointerEvents:"none"}}}}}),DTe=ve(_n,{minWidth:128}),ITe=e=>e.appState.currentStyle,TTe=e=>e.document.pageStates[e.appState.currentPageId].selectedIds,RTe=Object.keys(g2),R9={draw:h.createElement(UDe,null),solid:h.createElement(HDe,null),dashed:h.createElement($De,null),dotted:h.createElement(VDe,null)},BTe={small:h.createElement(jDe,null),medium:h.createElement(KDe,null),large:h.createElement(YDe,null)},kTe={start:h.createElement(v_,null),middle:h.createElement(f_,null),end:h.createElement(E_,null),justify:h.createElement(g_,null)},MTe=e=>e.settings.isDarkMode?"dark":"light",NTe=e=>e.settings.keepStyleMenuOpen,PTe=e=>{let{activeTool:t,currentPageId:n}=e.appState;switch(t){case"select":{let r=e.document.pages[n],i=!1,o=!1;for(let u of e.document.pageStates[n].selectedIds)"text"in r.shapes[u]&&(i=!0),"label"in r.shapes[u]&&(o=!0);return i?"text":o?"label":""}case"text":return"text";case"rectangle":return"label";case"ellipse":return"label";case"triangle":return"label";case"arrow":return"label";case"line":return"label"}return!1},OTe=h.memo(function(){let e=St(),t=e.useStore(MTe),n=e.useStore(NTe),r=e.useStore(PTe),i=e.useStore(ITe),o=e.useStore(TTe),[u,l]=h.useState(i),c=h.useRef(i);h.useEffect(()=>{let{appState:{currentStyle:A},page:x,selectedIds:D}=e,T={};if(D.length<=0)T=A;else{let N=new Set([]);e.selectedIds.map(k=>x.shapes[k]).forEach(k=>{RTe.forEach(M=>{if(!N.has(M))if(T[M]===void 0)T[M]=k.style[M];else{if(T[M]===k.style[M])return;T[M]=k.style[M],N.add(M)}})})}JSON.stringify(T)!==JSON.stringify(c.current)&&(c.current=T,l(T))},[i,o]);let f=h.useCallback(A=>{e.setSetting("keepStyleMenuOpen",A)},[]),g=h.useCallback(A=>{e.style({isFilled:A})},[]),m=h.useCallback(A=>{e.style({dash:A})},[]),v=h.useCallback(A=>{e.style({size:A})},[]),y=h.useCallback(A=>{e.style({font:A})},[]),b=h.useCallback(A=>{e.style({textAlign:A})},[]),C=h.useCallback(A=>{e.setMenuOpen(A)},[e]);return h.createElement(yo,{dir:"ltr",onOpenChange:C,open:n?!0:void 0,modal:!1},h.createElement(cs,{asChild:!0,id:"TD-Styles"},h.createElement(at,{variant:"text"},h.createElement(ye,{id:"styles"}),h.createElement(FTe,{style:{color:bc[t][u.color]}},u.isFilled&&h.createElement(g9,{size:16,stroke:"none",fill:H1[t][u.color]}),R9[u.dash]))),h.createElement(hs,{id:"language-menu",side:"bottom",align:"end",sideOffset:4,alignOffset:4},h.createElement(rc,{variant:"tall",id:"TD-Styles-Color-Container"},h.createElement("span",null,h.createElement(ye,{id:"style.menu.color"})),h.createElement(LTe,null,Object.keys(bc.light).map(A=>h.createElement(sf,{key:A,onSelect:_t,asChild:!0,id:`TD-Styles-Color-Swatch-${A}`},h.createElement(at,{variant:"icon",isActive:u.color===A,onClick:()=>e.style({color:A})},h.createElement(g9,{size:18,strokeWidth:2.5,fill:u.isFilled?H1[t][A]:"transparent",stroke:bc.light[A]})))))),h.createElement(Qr,{variant:"styleMenu",checked:!!u.isFilled,onCheckedChange:g,id:"TD-Styles-Fill"},h.createElement(ye,{id:"style.menu.fill"})),h.createElement(rc,{id:"TD-Styles-Dash-Container"},h.createElement(ye,{id:"style.menu.dash"}),h.createElement(eh,{dir:"ltr",value:u.dash,onValueChange:m},Object.values(Lx).map(A=>h.createElement(Z0,{key:A,isActive:A===u.dash,value:A,onSelect:_t,bp:Nr,id:`TD-Styles-Dash-${A}`},R9[A])))),h.createElement(rc,{id:"TD-Styles-Size-Container"},h.createElement(ye,{id:"style.menu.size"}),h.createElement(eh,{dir:"ltr",value:u.size,onValueChange:v},Object.values(Ox).map(A=>h.createElement(Z0,{key:A,isActive:A===u.size,value:A,onSelect:_t,bp:Nr,id:`TD-Styles-Dash-${A}`},BTe[A])))),(r==="text"||r==="label")&&h.createElement(h.Fragment,null,h.createElement(Gt,null),h.createElement(rc,{id:"TD-Styles-Font-Container"},h.createElement(ye,{id:"style.menu.font"}),h.createElement(eh,{dir:"ltr",value:u.font,onValueChange:y},Object.values(_x).map(A=>h.createElement(Z0,{key:A,isActive:A===u.font,value:A,onSelect:_t,bp:Nr,id:`TD-Styles-Font-${A}`},h.createElement(_Te,{fontStyle:A},"Aa"))))),r==="text"&&h.createElement(rc,{id:"TD-Styles-Align-Container"},h.createElement(ye,{id:"style.menu.align"}),h.createElement(eh,{dir:"ltr",value:u.textAlign,onValueChange:b},Object.values(Fx).map(A=>h.createElement(Z0,{key:A,isActive:A===u.textAlign,value:A,onSelect:_t,bp:Nr,id:`TD-Styles-Align-${A}`},kTe[A]))))),h.createElement(Gt,null),h.createElement(Qr,{variant:"styleMenu",checked:n,onCheckedChange:f,id:"TD-Styles-Keep-Open"},h.createElement(ye,{id:"style.menu.keep.open"}))))}),LTe=ve("div",{display:"grid",gridTemplateColumns:"repeat(4, auto)",gap:0}),rc=ve("div",{position:"relative",width:"100%",background:"none",border:"none",cursor:"pointer",minHeight:"32px",outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",padding:"$2 0 $2 $3",borderRadius:4,userSelect:"none",margin:0,display:"flex",gap:"$3",flexDirection:"row",alignItems:"center",justifyContent:"space-between",variants:{variant:{tall:{alignItems:"flex-start",padding:"0 0 0 $3","& > span":{paddingTop:"$4"}}}}}),eh=ve(IA,{display:"flex",flexDirection:"row",gap:"$1"}),FTe=ve("div",{display:"grid","& > *":{gridColumn:1,gridRow:1}}),_Te=ve("div",{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"$3",variants:{fontStyle:{script:{fontFamily:"Caveat Brush"},sans:{fontFamily:"Recursive"},serif:{fontFamily:"Georgia"},mono:{fontFamily:"Recursive Mono"}}}}),$Te=e=>e.document.pageStates[e.appState.currentPageId].camera.zoom,zTe=function(){let e=St(),t=e.useStore($Te);return h.createElement(yo,{dir:"ltr"},h.createElement(cs,{dir:"ltr",asChild:!0,id:"TD-Zoom"},h.createElement(VTe,{onDoubleClick:e.resetZoom,variant:"text"},Math.round(t*100),"%")),h.createElement(hs,{align:"end"},h.createElement(et,{onSelect:_t,onClick:e.zoomIn,kbd:"#+",id:"TD-Zoom-Zoom_In"},h.createElement(ye,{id:"zoom.in"})),h.createElement(et,{onSelect:_t,onClick:e.zoomOut,kbd:"#",id:"TD-Zoom-Zoom_Out"},h.createElement(ye,{id:"zoom.out"})),h.createElement(et,{onSelect:_t,onClick:e.resetZoom,kbd:"0",id:"TD-Zoom-Zoom_To_100%"},h.createElement(ye,{id:"zoom.to"})," 100%"),h.createElement(et,{onSelect:_t,onClick:e.zoomToFit,kbd:"1",id:"TD-Zoom-To_Fit"},h.createElement(ye,{id:"zoom.to.fit"})),h.createElement(et,{onSelect:_t,onClick:e.zoomToSelection,kbd:"2",id:"TD-Zoom-To_Selection"},h.createElement(ye,{id:"zoom.to.selection"}))))},VTe=ve(at,{minWidth:56});function UTe({readOnly:e,showPages:t,showMenu:n,showStyles:r,showZoom:i,showMultiplayerMenu:o}){let u=St();return h.createElement(HTe,null,(n||t)&&h.createElement(Lh,{side:"left",id:"TD-MenuPanel"},n&&h.createElement(U7e,{readOnly:e}),o&&h.createElement(pTe,null),t&&h.createElement(ATe,null)),h.createElement(GTe,null),(r||i)&&h.createElement(Lh,{side:"right"},u.readOnly?h.createElement(jTe,null,"Read Only"):h.createElement(h.Fragment,null,h.createElement(at,null,h.createElement(m9,{onClick:u.undo})),h.createElement(at,null,h.createElement(m9,{onClick:u.redo,flipHorizontal:!0}))),i&&h.createElement(zTe,null),r&&!e&&h.createElement(OTe,null)))}var HTe=ve("div",{width:"100%",position:"absolute",top:0,left:0,right:0,display:"flex",flexDirection:"row",pointerEvents:"none","& > *":{pointerEvents:"all"}}),GTe=ve("div",{flexGrow:2,pointerEvents:"none"}),jTe=ve("div",{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"$ui",fontSize:"$1",paddingLeft:"$4",paddingRight:"$1",userSelect:"none"}),KTe=h.memo(UTe);function YTe(e){$t.useEffect(()=>{let t=!1,n=!1,r=e.current;if(!r)return;let i=c=>{c.key===" "&&!n&&(n=!0,t?r.setAttribute("style","cursor: grabbing !important"):r.setAttribute("style","cursor: grab !important"))},o=c=>{c.key===" "&&(n=!1,r.setAttribute("style","cursor: initial"))},u=c=>{t=!0,c.button===1&&r.setAttribute("style","cursor: grabbing !important"),c.button===0&&n&&r.setAttribute("style","cursor: grabbing !important")},l=()=>{t=!1,n?r.setAttribute("style","cursor: grab !important"):r.setAttribute("style","cursor: initial")};return r.addEventListener("keydown",i),r.addEventListener("keyup",o),r.addEventListener("pointerdown",u),r.addEventListener("pointerup",l),()=>{r.removeEventListener("keydown",i),r.removeEventListener("keyup",o),r.removeEventListener("pointerdown",u),r.removeEventListener("pointerup",l)}},[e.current])}var l8="tldraw_clipboard";function WTe(){return Fe(this,null,function*(){return Ph(l8)})}function ZTe(e){return Fe(this,null,function*(){return vc(l8,e)})}var XTe=class{constructor(e,t,n,r){w(this,"_idbId"),w(this,"initialState"),w(this,"store"),w(this,"pointer",-1),w(this,"_state"),w(this,"_status","loading"),w(this,"stack",[]),w(this,"_snapshot"),w(this,"useStore"),w(this,"ready"),w(this,"isPaused",!1),w(this,"persist",(i,o)=>{if(this._status==="ready"&&(this.onPersist&&this.onPersist(this._state,i,o),this._idbId))return vc(this._idbId,this._state).catch(u=>console.error(u))}),w(this,"applyPatch",(i,o)=>{let u=this._state,l=F.deepMerge(this._state,i),c=this.cleanup(l,u,i,o);return this.onStateWillChange&&this.onStateWillChange(c,o),this._state=c,this.store.setState(this._state,!0),this.onStateDidChange&&this.onStateDidChange(this._state,o),this}),w(this,"migrate",i=>i),w(this,"cleanup",(i,o,u,l)=>i),w(this,"onStateWillChange"),w(this,"onStateDidChange"),w(this,"patchState",(i,o)=>(this.applyPatch(i,o),this.onPatch&&this.onPatch(this._state,i,o),this)),w(this,"replaceState",(i,o)=>{let u=this.cleanup(i,this._state,i,o);return this.onStateWillChange&&this.onStateWillChange(u,"replace"),this._state=u,this.store.setState(this._state,!0),this.onStateDidChange&&this.onStateDidChange(this._state,"replace"),this}),w(this,"setState",(i,o=i.id)=>(this.pointer<this.stack.length-1&&(this.stack=this.stack.slice(0,this.pointer+1)),this.stack.push(re(L({},i),{id:o})),this.pointer=this.stack.length-1,this.applyPatch(i.after,o),this.onCommand&&this.onCommand(this._state,i,o),this.persist(i.after,o),this)),w(this,"onReady"),w(this,"onPatch"),w(this,"onCommand"),w(this,"onPersist"),w(this,"onReplace"),w(this,"onReset"),w(this,"onResetHistory"),w(this,"onUndo"),w(this,"onRedo"),w(this,"reset",()=>(this.onStateWillChange&&this.onStateWillChange(this.initialState,"reset"),this._state=this.initialState,this.store.setState(this._state,!0),this.resetHistory(),this.persist({},"reset"),this.onStateDidChange&&this.onStateDidChange(this._state,"reset"),this.onReset&&this.onReset(this._state),this)),w(this,"replaceHistory",(i,o=i.length-1)=>(this.stack=i,this.pointer=o,this.onReplace&&this.onReplace(this._state),this)),w(this,"resetHistory",()=>(this.stack=[],this.pointer=-1,this.onResetHistory&&this.onResetHistory(this._state),this)),w(this,"undo",()=>{if(!this.isPaused){if(!this.canUndo)return this;let i=this.stack[this.pointer];this.pointer--,this.applyPatch(i.before,"undo"),this.persist(i.before,"undo")}return this.onUndo&&this.onUndo(this._state),this}),w(this,"redo",()=>{if(!this.isPaused){if(!this.canRedo)return this;this.pointer++;let i=this.stack[this.pointer];this.applyPatch(i.after,"redo"),this.persist(i.after,"undo")}return this.onRedo&&this.onRedo(this._state),this}),w(this,"setSnapshot",()=>(this._snapshot=L({},this._state),this)),w(this,"forceUpdate",()=>{this.store.setState(this._state,!0)}),this._idbId=t,this._state=hr(e),this._snapshot=hr(e),this.initialState=hr(e),this.store=sH(()=>this._state),this.useStore=EH(this.store),this.ready=new Promise(i=>{let o="none";this._idbId?(o="restored",Ph(this._idbId).then(u=>Fe(this,null,function*(){if(u){let l=u;if(n){let f=yield Ph(t+"_version");f&&f<n&&(l=r?r(u,e,f):e,o="migrated")}yield vc(t+"_version",n||-1);let c=this._state.appState.isEmptyCanvas;l=this.migrate(l),this._state=hr(l),this._snapshot=hr(l),this._state.appState.isEmptyCanvas=c,this.store.setState(this._state,!0)}else yield vc(t+"_version",n||-1);this._status="ready",i(o)})).catch(u=>console.error(u))):(this._status="ready",i(o))}).then(i=>(this.onReady&&this.onReady(i),i))}pause(){this.isPaused=!0}resume(){this.isPaused=!1}get canUndo(){return this.pointer>-1}get canRedo(){return this.pointer<this.stack.length-1}get state(){return this._state}get status(){return this._status}get snapshot(){return this._snapshot}};function JTe(e,t,n){let{currentPageId:r}=e,i=t.map(v=>e.getShape(v)),o=i.map(v=>({id:v.id,point:[...v.point],bounds:ie.getBounds(v)})),u=F.getCommonBounds(o.map(({bounds:v})=>v)),l=u.minX+u.width/2,c=u.minY+u.height/2,f=Object.fromEntries(o.map(({id:v,point:y,bounds:b})=>[v,{prev:y,next:{top:[y[0],u.minY],centerVertical:[y[0],c-b.height/2],bottom:[y[0],u.maxY-b.height],left:[u.minX,y[1]],centerHorizontal:[l-b.width/2,y[1]],right:[u.maxX-b.width,y[1]]}[n]}])),{before:g,after:m}=ie.mutateShapes(e.state,t,v=>f[v.id]?{point:f[v.id].next}:v,r,!1);return i.forEach(v=>{if(v.type==="group"){let y=R.sub(m[v.id].point,g[v.id].point);v.children.forEach(b=>{let C=e.getShape(b);g[C.id]={point:C.point},m[C.id]={point:R.add(C.point,y)}}),delete g[v.id],delete m[v.id]}}),{id:"align",before:{document:{pages:{[r]:{shapes:g}},pageStates:{[r]:{selectedIds:t}}}},after:{document:{pages:{[r]:{shapes:m}},pageStates:{[r]:{selectedIds:t}}}}}}function qTe(e,t){return{id:"change_page",before:{appState:{currentPageId:e.currentPageId}},after:{appState:{currentPageId:t}}}}function QTe(e,t){var n;let r=e,i=new Set(t);for(;i.has(r);)r=(n=/^.*(\d+)$/.exec(r))!=null&&n[1]?r.replace(/(\d+)(?=\D?)$/,o=>(+o+1).toString()):`${r} 1`;return r}function eRe(e,t,n){let r={shapes:{},bindings:{}},i={shapes:{},bindings:{}},o=[],u=new Set,l=new Set;t.filter(f=>!ie.getShape(e,f,n).isLocked).forEach(f=>{u.add(f);let g=ie.getShape(e,f,n);r.shapes[f]=g,i.shapes[f]=void 0,g.children!==void 0&&g.children.forEach(m=>{u.add(m);let v=ie.getShape(e,m,n);r.shapes[m]=v,i.shapes[m]=void 0}),g.parentId!==n&&o.push(ie.getShape(e,g.parentId,n)),g.assetId&&l.add(g.assetId)}),o.forEach(f=>{var g;t.includes(f.id)||(u.add(f.id),r.shapes[f.id]={children:f.children},i.shapes[f.id]={children:f.children.filter(m=>!t.includes(m))},((g=i.shapes[f.id])==null?void 0:g.children.length)===0&&(i.shapes[f.id]=void 0,r.shapes[f.id]=ie.getShape(e,f.id,n)))});let c=ie.getPage(e,n);return Object.values(c.bindings).filter(f=>u.has(f.fromId)||u.has(f.toId)).forEach(f=>{for(let g of[f.toId,f.fromId])if(i.shapes[g]===void 0){r.bindings[f.id]=f,i.bindings[f.id]=void 0;let m=c.shapes[g];m&&m.handles&&Object.values(m.handles).filter(v=>v.bindingId===f.id).forEach(v=>{var y,b,C,A,x,D;r.shapes[g]=re(L({},r.shapes[g]),{handles:re(L({},(y=r.shapes[g])==null?void 0:y.handles),{[v.id]:re(L({},(C=(b=r.shapes[g])==null?void 0:b.handles)==null?void 0:C[v.id]),{bindingId:f.id})})}),u.has(g)||(i.shapes[g]=re(L({},i.shapes[g]),{handles:re(L({},(A=i.shapes[g])==null?void 0:A.handles),{[v.id]:re(L({},(D=(x=i.shapes[g])==null?void 0:x.handles)==null?void 0:D[v.id]),{bindingId:void 0})})}))})}}),Object.values(e.document.pages).flatMap(f=>Object.values(f.shapes)).forEach(f=>{"assetId"in f&&f.assetId&&!u.has(f.id)&&l.delete(f.assetId)}),{before:r,after:i,assetsToRemove:Array.from(l)}}function tRe(e,t,n=F.uniqueId(),r="Page"){let{currentPageId:i}=e,o=Object.values(e.state.document.pages).sort((g,m)=>{var v,y;return((v=g.childIndex)!=null?v:0)-((y=m.childIndex)!=null?y:0)}),u=o[o.length-1],l=u?.childIndex?u?.childIndex+1:1,c={id:n,name:QTe(r,o.map(g=>{var m;return(m=g.name)!=null?m:""})),childIndex:l,shapes:{},bindings:{}},f={id:n,selectedIds:[],camera:{point:t,zoom:1},editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0};return{id:"create_page",before:{appState:{currentPageId:i},document:{pages:{[n]:void 0},pageStates:{[n]:void 0}}},after:{appState:{currentPageId:c.id},document:{pages:{[n]:c},pageStates:{[n]:f}}}}}function B9(e,t,n=[]){let{currentPageId:r}=e,i={},o={};t.forEach(c=>{i[c.id]=void 0,o[c.id]=c});let u={},l={};return n.forEach(c=>{u[c.id]=void 0,l[c.id]=c}),{id:"create",before:{document:{pages:{[r]:{shapes:i,bindings:u}},pageStates:{[r]:{selectedIds:[...e.selectedIds]}}}},after:{document:{pages:{[r]:{shapes:o,bindings:l}},pageStates:{[r]:{selectedIds:t.map(c=>c.id)}}}}}}function nRe(e,t){let{currentPageId:n,document:{pages:r,pageStates:i}}=e,o=Object.values(r).sort((c,f)=>(c.childIndex||0)-(f.childIndex||0)),u=o.findIndex(c=>c.id===t),l;return t===n?u===o.length-1?l=o[o.length-2].id:l=o[u+1].id:l=n,{id:"delete_page",before:{appState:{currentPageId:t},document:{pages:{[t]:L({},r[t])},pageStates:{[t]:L({},i[t])}}},after:{appState:{currentPageId:l},document:{pages:{[t]:void 0},pageStates:{[t]:void 0}}}}}var rRe=(e,t)=>{let n=L({},e);return t.forEach(r=>n[r]=void 0),n};function k9(e,t,n=e.currentPageId){let{pageState:r,selectedIds:i,document:{assets:o}}=e,{before:u,after:l,assetsToRemove:c}=eRe(e.state,t,n),f=rRe(o,c);return{id:"delete",before:{document:{assets:o,pages:{[n]:u},pageStates:{[n]:{selectedIds:[...e.selectedIds]}}}},after:{document:{assets:f,pages:{[n]:l},pageStates:{[n]:{selectedIds:i.filter(g=>!t.includes(g)),hoveredId:r.hoveredId&&t.includes(r.hoveredId)?void 0:r.hoveredId}}}}}}function iRe(e,t,n){let{currentPageId:r}=e,i=t.map(c=>e.getShape(c)),o=Object.fromEntries(aRe(i,n).map(c=>[c.id,c])),{before:u,after:l}=ie.mutateShapes(e.state,t.filter(c=>o[c]!==void 0),c=>{var f;return{point:(f=o[c.id])==null?void 0:f.next}},r);return i.forEach(c=>{if(c.type==="group"){let f=le.sub(l[c.id].point,u[c.id].point);c.children.forEach(g=>{let m=e.getShape(g);u[m.id]={point:m.point},l[m.id]={point:le.add(m.point,f)}}),delete u[c.id],delete l[c.id]}}),{id:"distribute",before:{document:{pages:{[r]:{shapes:u}},pageStates:{[r]:{selectedIds:t}}}},after:{document:{pages:{[r]:{shapes:l}},pageStates:{[r]:{selectedIds:t}}}}}}function aRe(e,t){let n=e.map(u=>{let l=ie.getShapeUtil(u);return{id:u.id,point:[...u.point],bounds:l.getBounds(u),center:l.getCenter(u)}}),r=n.length,i=F.getCommonBounds(n.map(({bounds:u})=>u)),o=[];switch(t){case"horizontal":{let u=n.reduce((l,c)=>l+c.bounds.width,0);if(u>i.width){let l=n.sort((v,y)=>v.bounds.minX-y.bounds.minX)[0],c=n.sort((v,y)=>y.bounds.maxX-v.bounds.maxX)[0],f=n.filter(v=>v!==l&&v!==c).sort((v,y)=>v.center[0]-y.center[0]),g=(c.center[0]-l.center[0])/(r-1),m=l.center[0]+g;f.forEach(({id:v,point:y,bounds:b},C)=>{o.push({id:v,prev:y,next:[m+g*C-b.width/2,b.minY]})})}else{let l=n.sort((g,m)=>g.center[0]-m.center[0]),c=i.minX,f=(i.width-u)/(r-1);l.forEach(({id:g,point:m,bounds:v})=>{o.push({id:g,prev:m,next:[c,v.minY]}),c+=v.width+f})}break}case"vertical":{let u=n.reduce((l,c)=>l+c.bounds.height,0);if(u>i.height){let l=n.sort((v,y)=>v.bounds.minY-y.bounds.minY)[0],c=n.sort((v,y)=>y.bounds.maxY-v.bounds.maxY)[0],f=n.filter(v=>v!==l&&v!==c).sort((v,y)=>v.center[1]-y.center[1]),g=(c.center[1]-l.center[1])/(r-1),m=l.center[1]+g;f.forEach(({id:v,point:y,bounds:b},C)=>{o.push({id:v,prev:y,next:[b.minX,m+g*C-b.height/2]})})}else{let l=n.sort((g,m)=>g.center[1]-m.center[1]),c=i.minY,f=(i.height-u)/(r-1);l.forEach(({id:g,point:m,bounds:v})=>{o.push({id:g,prev:m,next:[v.minX,c]}),c+=v.height+f})}break}}return o}function oRe(e,t){let{currentPageId:n,pageState:{camera:r}}=e,i=e.document.pages[t],o=F.uniqueId(),u=re(L({},i),{id:o,name:i.name+" Copy",shapes:Object.fromEntries(Object.entries(i.shapes).map(([l,c])=>[l,re(L({},c),{parentId:c.parentId===i.id?o:c.parentId})]))});return{id:"duplicate_page",before:{appState:{currentPageId:n},document:{pages:{[o]:void 0},pageStates:{[o]:void 0}}},after:{appState:{currentPageId:o},document:{pages:{[o]:u},pageStates:{[o]:re(L({},i),{id:o,selectedIds:[],camera:L({},r),editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0})}}}}}function sRe(e,t,n){let{selectedIds:r,currentPageId:i,page:o,shapes:u}=e,l={shapes:{},bindings:{}},c={shapes:{},bindings:{}},f={},g=t.map(y=>e.getShape(y)).filter(y=>!t.includes(y.parentId));g.forEach(y=>{let b=F.uniqueId();if(l.shapes[b]=void 0,c.shapes[b]=re(L({},F.deepClone(y)),{id:b,childIndex:ie.getChildIndexAbove(e.state,y.id,i)}),y.children&&(c.shapes[b].children=[]),y.parentId!==i){let C=e.getShape(y.parentId);l.shapes[C.id]=re(L({},l.shapes[C.id]),{children:C.children}),c.shapes[C.id]=re(L({},c.shapes[C.id]),{children:[...(c.shapes[C.id]||C).children,b]})}f[y.id]=b}),g.forEach(y=>{y.children&&y.children.forEach(b=>{var C,A;let x=e.getShape(b),D=F.uniqueId(),T=f[y.id];l.shapes[D]=void 0,c.shapes[D]=re(L({},F.deepClone(x)),{id:D,parentId:T,childIndex:ie.getChildIndexAbove(e.state,x.id,i)}),f[b]=D,(A=(C=c.shapes[f[y.id]])==null?void 0:C.children)==null||A.push(D)})});let m=new Set(Object.keys(f));Object.values(o.bindings).filter(y=>m.has(y.fromId)||m.has(y.toId)).forEach(y=>{if(m.has(y.fromId))if(m.has(y.toId)){let b=F.uniqueId(),C=re(L({},F.deepClone(y)),{id:b,fromId:f[y.fromId],toId:f[y.toId]});l.bindings[b]=void 0,c.bindings[b]=C;let A=c.shapes[C.fromId];Object.values(A.handles).forEach(x=>{x.bindingId===y.id&&(x.bindingId=b)})}else{let b=c.shapes[f[y.fromId]];Object.values(b.handles).forEach(C=>{C.bindingId===y.id&&(C.bindingId=void 0)})}});let v=Object.values(c.shapes);if(n){let y=F.getCommonBounds(v.map(C=>ie.getBounds(C))),b=F.getBoundsCenter(y);v.forEach(C=>{!C.point||(C.point=R.sub(n,R.sub(b,C.point)))})}else{let y=[16,16];v.forEach(b=>{!b.point||(b.point=R.add(b.point,y))})}return v.forEach(y=>{y.isLocked&&(y.isLocked=!1)}),{id:"duplicate",before:{document:{pages:{[i]:l},pageStates:{[i]:{selectedIds:r}}}},after:{document:{pages:{[i]:c},pageStates:{[i]:{selectedIds:Array.from(m.values()).map(y=>f[y])}}}}}}function M9(e,t,n){let{selectedIds:r,currentPageId:i,page:{shapes:o}}=e,u=t.map(m=>ie.getBounds(o[m])),l=t.length===1&&o[t[0]].type==="group",c=F.getCommonBounds(u),{before:f,after:g}=ie.mutateShapes(e.state,t,m=>{let v=ie.getBounds(m),y=m.parentId!==i;switch(n){case"horizontal":{if(y&&!l){let C=ie.getBounds(o[m.parentId]),A=F.getRelativeTransformedBoundingBox(c,c,C,!0,!1).minX-C.minX;return ie.getShapeUtil(m).transform(m,re(L({},v),{minX:v.minX+A,maxX:v.maxX+A}),{type:ri.TopLeft,scaleX:1,scaleY:1,initialShape:m,transformOrigin:[.5,.5]})}let b=F.getRelativeTransformedBoundingBox(c,c,v,!0,!1);return ie.getShapeUtil(m).transform(m,b,{type:ri.TopLeft,scaleX:-1,scaleY:1,initialShape:m,transformOrigin:[.5,.5]})}case"vertical":{if(y&&!l){let C=ie.getBounds(o[m.parentId]),A=F.getRelativeTransformedBoundingBox(c,c,C,!1,!0).minY-C.minY;return ie.getShapeUtil(m).transform(m,re(L({},v),{minY:v.minY+A,maxY:v.maxY+A}),{type:ri.TopLeft,scaleX:1,scaleY:1,initialShape:m,transformOrigin:[.5,.5]})}let b=F.getRelativeTransformedBoundingBox(c,c,v,!1,!0);return ie.getShapeUtil(m).transform(m,b,{type:ri.TopLeft,scaleX:1,scaleY:-1,initialShape:m,transformOrigin:[.5,.5]})}}},i,!0);return{id:"flip",before:{document:{pages:{[i]:{shapes:f}},pageStates:{[i]:{selectedIds:r}}}},after:{document:{pages:{[i]:{shapes:g}},pageStates:{[i]:{selectedIds:t}}}}}}function uRe(e,t,n,r){var i,o;if(t.length<2)return;let u={},l={},c={},f={},g=[...t],m=[],v=[],y=[];for(let M of t){let B=e.getShape(M);if(!B.isLocked)if(B.children===void 0)m.push(B);else{let P=B.children.filter(_=>!e.getShape(_).isLocked);y.push(B),g.push(...P),m.push(...P.map(_=>e.getShape(_)).filter(Boolean))}}if(m.every(M=>M.parentId===m[0].parentId)&&m[0].parentId!==r&&((i=e.getShape(m[0].parentId).children)==null?void 0:i.length)===g.length)return;let b=ie.flattenPage(e.state,r),C=Object.fromEntries(m.map(M=>[M.id,b.indexOf(M)])),A=m.sort((M,B)=>C[M.id]-C[B.id]),x=r,D=(A.filter(M=>M.parentId===r)[0]||A[0]).childIndex,T=F.getCommonBounds(m.map(M=>ie.getBounds(M)));for(u[n]=void 0,l[n]=ie.getShapeUtil("group").create({id:n,childIndex:D,parentId:x,point:[T.minX,T.minY],size:[T.width,T.height],children:A.map(M=>M.id)}),A.forEach((M,B)=>{if(M.parentId!==r){let P=e.getShape(M.parentId);y.push(P)}u[M.id]=re(L({},u[M.id]),{parentId:M.parentId,childIndex:M.childIndex}),l[M.id]=re(L({},l[M.id]),{parentId:n,childIndex:B+1})});y.length>0;){let M=y.pop();if(!M)break;let B=(((o=u[M.id])==null?void 0:o.children)||M.children).filter(P=>P&&!(g.includes(P)||v.includes(P)));B.length===0?(u[M.id]=M,l[M.id]=void 0,M.parentId!==r&&(v.push(M.id),y.push(e.getShape(M.parentId)))):(u[M.id]=re(L({},u[M.id]),{children:M.children}),l[M.id]=re(L({},l[M.id]),{children:B}))}let{bindings:N}=e,k=new Set(v);return N.forEach(M=>{for(let B of[M.toId,M.fromId])if(k.has(B)){c[M.id]=M,f[M.id]=void 0;let P=e.getShape(B);P.handles&&Object.values(P.handles).filter(_=>_.bindingId===M.id).forEach(_=>{var U,K;u[B]=re(L({},u[B]),{handles:re(L({},(U=u[B])==null?void 0:U.handles),{[_.id]:{bindingId:M.id}})}),v.includes(B)||(l[B]=re(L({},l[B]),{handles:re(L({},(K=l[B])==null?void 0:K.handles),{[_.id]:{bindingId:void 0}})}))})}}),{id:"group",before:{document:{pages:{[r]:{shapes:u,bindings:c}},pageStates:{[r]:{selectedIds:t}}}},after:{document:{pages:{[r]:{shapes:l,bindings:c}},pageStates:{[r]:{selectedIds:[n]}}}}}}function lRe(e,t,n,r,i){let{page:o}=e,u={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},l={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},c=new Set,f=new Set;t.map(D=>e.getShape(D,r)).filter(D=>!D.isLocked).forEach(D=>{c.add(D.id),f.add(D),D.children!==void 0&&D.children.forEach(T=>{c.add(T),f.add(e.getShape(T,r))})});let g=ie.getTopChildIndex(e.state,i),m=Array.from(f.values());m.forEach((D,T)=>{if(u.before.shapes[D.id]=D,u.after.shapes[D.id]=void 0,l.before.shapes[D.id]=void 0,l.after.shapes[D.id]=D,!c.has(D.parentId)&&(l.after.shapes[D.id]=re(L({},D),{parentId:i,childIndex:g+T}),D.parentId!==r)){let N=e.getShape(D.parentId,r);u.before.shapes[N.id]={children:N.children},u.after.shapes[N.id]={children:N.children.filter(k=>k!==D.id)}}}),Object.values(o.bindings).filter(D=>c.has(D.fromId)||c.has(D.toId)).forEach(D=>{u.before.bindings[D.id]=D,u.after.bindings[D.id]=void 0;let T=e.getShape(D.fromId,r);if(c.has(D.fromId)&&c.has(D.toId))l.before.bindings[D.id]=void 0,l.after.bindings[D.id]=D;else if(c.has(D.fromId)){let N=e.getShape(D.fromId,r),k=Object.values(T.handles).find(B=>B.bindingId===D.id).id,M=l.after.shapes[N.id];M.handles=re(L({},M.handles),{[k]:re(L({},M.handles[k]),{bindingId:void 0})})}else{let N=e.getShape(D.fromId,r),k=Object.values(T.handles).find(M=>M.bindingId===D.id);u.before.shapes[N.id]={handles:{[k.id]:{bindingId:D.id}}},u.after.shapes[N.id]={handles:{[k.id]:{bindingId:void 0}}}}});let v=e.state.document.pageStates[i],y=F.getCommonBounds(m.map(D=>ie.getBounds(D))),b=ie.getCameraZoom(n.width<n.height?(n.width-128)/y.width:(n.height-128)/y.height),C=(n.width-y.width*b)/2/b,A=(n.height-y.height*b)/2/b,x=R.toFixed(R.add([-y.minX,-y.minY],[C,A]));return{id:"move_to_page",before:{appState:{currentPageId:r},document:{pages:{[r]:u.before,[i]:l.before},pageStates:{[r]:{selectedIds:t},[i]:{selectedIds:v.selectedIds,camera:v.camera}}}},after:{appState:{currentPageId:i},document:{pages:{[r]:u.after,[i]:l.after},pageStates:{[r]:{selectedIds:[]},[i]:{selectedIds:t,camera:{zoom:b,point:x}}}}}}}function cRe(e,t,n){let{pages:r}=e.document,i=r[t],o=Object.values(r).sort((c,f)=>{var g,m;return((g=c.childIndex)!=null?g:0)-((m=f.childIndex)!=null?m:0)}),u=o.indexOf(i),l=[...o];return l.splice(u,1),l.splice(n>u?n-1:n,0,i),{id:"move_page",before:{document:{pages:Object.fromEntries(o.map(c=>[c.id,{childIndex:c.childIndex}]))}},after:{document:{pages:Object.fromEntries(l.map((c,f)=>[c.id,{childIndex:f}]))}}}}function th(e,t,n){let{currentPageId:r,page:i}=e,o=new Set(t.map(g=>e.getShape(g).parentId)),u={before:{},after:{}},l,c,f;return Array.from(o.values()).forEach(g=>{let m=[];if(g===i.id)m=Object.values(i.shapes).sort((b,C)=>b.childIndex-C.childIndex);else{let b=e.getShape(g);if(!b.children)throw Error("No children in parent!");m=b.children.map(C=>e.getShape(C)).sort((C,A)=>C.childIndex-A.childIndex)}let v=m.map(b=>b.id),y=t.filter(b=>v.includes(b)).map(b=>v.indexOf(b)).sort((b,C)=>b-C);if(y.length!==v.length)switch(n){case"toBack":{for(let b=0;b<v.length;b++)if(!y.includes(b)){l=b;break}c=m[l].childIndex,f=c/(y.length+1),u=ie.mutateShapes(e.state,y.map(b=>m[b].id).reverse(),(b,C)=>({childIndex:c-(C+1)*f}),r);break}case"toFront":{for(let b=v.length-1;b>=0;b--)if(!y.includes(b)){l=b;break}c=m[l].childIndex,f=1,u=ie.mutateShapes(e.state,y.map(b=>m[b].id),(b,C)=>({childIndex:c+(C+1)}),r);break}case"backward":{let b={};for(let C=v.length-1;C>=0;C--)if(y.includes(C)){for(let A=C;A>=0;A--)if(!y.includes(A)){let x=m[A].childIndex,D,T;A===0?(D=x/2,T=x/2/(C-A+1)):(D=m[A-1].childIndex,T=(x-D)/(C-A+1),D+=T);for(let N=0;N<C-A;N++)b[m[A+N+1].id]=D+T*N;break}}Object.values(b).length>0&&(u=ie.mutateShapes(e.state,y.map(C=>m[C].id),C=>({childIndex:b[C.id]}),r));break}case"forward":{let b={};for(let C=0;C<v.length;C++)if(y.includes(C)){for(let A=C;A<v.length;A++)if(!y.includes(A)){c=m[A].childIndex;let x=A===v.length-1?1:(m[A+1].childIndex-c)/(A-C+1);for(let D=0;D<A-C;D++)b[m[C+D].id]=c+x*(D+1);break}}Object.values(b).length>0&&(u=ie.mutateShapes(e.state,y.map(C=>m[C].id),C=>({childIndex:b[C.id]}),r));break}}}),{id:"move",before:{document:{pages:{[r]:{shapes:u.before}},pageStates:{[r]:{selectedIds:t}}}},after:{document:{pages:{[r]:{shapes:u.after}},pageStates:{[r]:{selectedIds:t}}}}}}function dRe(e,t,n){let{page:r}=e;return{id:"rename_page",before:{document:{pages:{[t]:{name:r.name}}}},after:{document:{pages:{[t]:{name:n}}}}}}function N9(e,t,n){let{currentPageId:r}=e,{before:i,after:o}=ie.mutateShapes(e.state,t,u=>{var l,c;return(c=(l=e.getShapeUtil(u)).onDoubleClickBoundsHandle)==null?void 0:c.call(l,u)},n);return{id:"reset_bounds",before:{document:{pages:{[r]:{shapes:i}},pageStates:{[r]:{selectedIds:t}}}},after:{document:{pages:{[r]:{shapes:o}},pageStates:{[r]:{selectedIds:t}}}}}}var hRe=Math.PI*2;function fRe(e,t,n=-hRe/4){let{currentPageId:r}=e,i={},o={},u=t.flatMap(c=>{let f=e.getShape(c);return f.children?f.children.map(g=>e.getShape(g)):f}).filter(c=>!c.isLocked),l=F.getBoundsCenter(F.getCommonBounds(u.map(c=>ie.getBounds(c))));return u.forEach(c=>{let f=ie.getRotatedShapeMutation(c,ie.getCenter(c),l,n);!f||(i[c.id]=ie.getBeforeShape(c,f),o[c.id]=f)}),{id:"rotate",before:{document:{pages:{[r]:{shapes:i}},pageStates:{[r]:{selectedIds:t}}}},after:{document:{pages:{[r]:{shapes:o}},pageStates:{[r]:{selectedIds:t}}}}}}function pRe(e,t,n){let{currentPageId:r,selectedIds:i}=e,o=t.map(m=>e.getShape(m)),u=o.map(m=>ie.getBounds(m)),l=F.getCommonBounds(u),c=t.flatMap(m=>{let v=e.getShape(m);return v.children?v.children:v.id}).filter(m=>!e.getShape(m).isLocked),{before:f,after:g}=ie.mutateShapes(e.state,c,m=>{let v=ie.getBounds(m);switch(n){case"horizontal":{let y=re(L({},v),{minX:l.minX,maxX:l.maxX,width:l.width});return ie.getShapeUtil(m).transformSingle(m,y,{type:ri.TopLeft,scaleX:y.width/v.width,scaleY:1,initialShape:m,transformOrigin:[.5,.5]})}case"vertical":{let y=re(L({},v),{minY:l.minY,maxY:l.maxY,height:l.height});return ie.getShapeUtil(m).transformSingle(m,y,{type:ri.TopLeft,scaleX:1,scaleY:y.height/v.height,initialShape:m,transformOrigin:[.5,.5]})}}},r);return o.forEach(m=>{m.type==="group"&&(delete f[m.id],delete g[m.id])}),{id:"stretch",before:{document:{pages:{[r]:{shapes:f}},pageStates:{[r]:{selectedIds:i}}}},after:{document:{pages:{[r]:{shapes:g}},pageStates:{[r]:{selectedIds:t}}}}}}function gRe(e,t,n){let{currentPageId:r,selectedIds:i}=e,o=t.flatMap(c=>ie.getDocumentBranch(e.state,c,r)).filter(c=>!e.getShape(c).isLocked),u={},l={};return o.map(c=>e.getShape(c)).filter(c=>!c.isLocked).forEach(c=>{u[c.id]={style:L({},Object.fromEntries(Object.keys(n).map(f=>[f,c.style[f]])))},l[c.id]={style:n},c.type==="text"&&(u[c.id].point=c.point,l[c.id].point=R.toFixed(R.add(c.point,R.sub(e.getShapeUtil(c).getCenter(c),e.getShapeUtil(c).getCenter(re(L({},c),{style:L(L({},c.style),n)}))))))}),{id:"style",before:{document:{pages:{[r]:{shapes:u}},pageStates:{[r]:{selectedIds:i}}},appState:{currentStyle:L({},e.appState.currentStyle)}},after:{document:{pages:{[r]:{shapes:l}},pageStates:{[r]:{selectedIds:t}}},appState:{currentStyle:n}}}}function mRe(e,t,n){let{currentPageId:r,selectedIds:i}=e,o=Object.fromEntries(t.map(l=>{var c;return[l,{decorations:{[n]:(c=e.getShape(l).decorations)==null?void 0:c[n]}}]})),u=Object.fromEntries(t.filter(l=>!e.getShape(l).isLocked).map(l=>{var c;return[l,{decorations:{[n]:(c=e.getShape(l).decorations)!=null&&c[n]?void 0:"arrow"}}]}));return{id:"toggle_decorations",before:{document:{pages:{[r]:{shapes:o}},pageStates:{[r]:{selectedIds:i}}}},after:{document:{pages:{[r]:{shapes:u}},pageStates:{[r]:{selectedIds:t}}}}}}function Um(e,t,n){let{currentPageId:r}=e,i=t.map(c=>e.getShape(c)).filter(c=>n==="isLocked"?!0:!c.isLocked),o=i.every(c=>c[n]),u={},l={};return i.forEach(c=>{u[c.id]={[n]:c[n]},l[c.id]={[n]:!o}}),{id:"toggle",before:{document:{pages:{[r]:{shapes:u}},pageStates:{[r]:{selectedIds:t}}}},after:{document:{pages:{[r]:{shapes:l}},pageStates:{[r]:{selectedIds:t}}}}}}function vRe(e,t,n){let{currentPageId:r,selectedIds:i}=e;e.rotationInfo.selectedIds=[...i];let o={shapes:{},bindings:{}},u={shapes:{},bindings:{}},l=t.flatMap(f=>{let g=e.getShape(f);return g.children?g.children:g.id}).filter(f=>!e.getShape(f).isLocked),c=ie.mutateShapes(e.state,l,f=>({point:R.toFixed(R.add(f.point,n))}),r);return o.shapes=c.before,u.shapes=c.after,ie.getBindings(e.state,r).filter(f=>t.includes(f.fromId)&&!t.includes(f.toId)).forEach(f=>{o.bindings[f.id]=f,u.bindings[f.id]=void 0;for(let g of[f.toId,f.fromId]){let m=e.getShape(g);!m.handles||Object.values(m.handles).filter(v=>v.bindingId===f.id).forEach(v=>{var y,b;o.shapes[g]=re(L({},o.shapes[g]),{handles:re(L({},(y=o.shapes[g])==null?void 0:y.handles),{[v.id]:{bindingId:f.id}})}),u.shapes[g]=re(L({},u.shapes[g]),{handles:re(L({},(b=u.shapes[g])==null?void 0:b.handles),{[v.id]:{bindingId:void 0}})})})}}),{id:"translate",before:{document:{pages:{[r]:o},pageStates:{[r]:{selectedIds:t}}}},after:{document:{pages:{[r]:u},pageStates:{[r]:{selectedIds:t}}}}}}function yRe(e,t,n,r){let{bindings:i}=e,o={},u={},l={},c={},f=t,g=t.filter(m=>!n.find(v=>v.id===m));return n.filter(m=>!m.isLocked).forEach(m=>{let v=[],y=[];o[m.id]=m,u[m.id]=void 0,m.children.forEach(A=>{g.push(A);let x=e.getShape(A,r);v.push(x)});let b=m.childIndex,C=(ie.getChildIndexAbove(e.state,m.id,r)-b)/v.length;v.sort((A,x)=>A.childIndex-x.childIndex).forEach((A,x)=>{o[A.id]={parentId:A.parentId,childIndex:A.childIndex},u[A.id]={parentId:r,childIndex:b+C*x}}),i.filter(A=>A.toId===m.id||A.fromId===m.id).forEach(A=>{for(let x of[A.toId,A.fromId])if(u[x]===void 0){l[A.id]=A,c[A.id]=void 0;let D=e.getShape(x,r);D.handles&&Object.values(D.handles).filter(T=>T.bindingId===A.id).forEach(T=>{var N,k;o[x]=re(L({},o[x]),{handles:re(L({},(N=o[x])==null?void 0:N.handles),{[T.id]:{bindingId:A.id}})}),y.includes(x)||(u[x]=re(L({},u[x]),{handles:re(L({},(k=u[x])==null?void 0:k.handles),{[T.id]:{bindingId:void 0}})}))})}})}),{id:"ungroup",before:{document:{pages:{[r]:{shapes:o,bindings:l}},pageStates:{[r]:{selectedIds:f}}}},after:{document:{pages:{[r]:{shapes:u,bindings:l}},pageStates:{[r]:{selectedIds:g}}}}}}function P9(e,t,n){let r=t.map(o=>o.id),i=ie.mutateShapes(e.state,r.filter(o=>!e.getShape(o,n).isLocked),(o,u)=>t[u],n);return{id:"update",before:{document:{pages:{[n]:{shapes:i.before}}}},after:{document:{pages:{[n]:{shapes:i.after}}}}}}function ERe(e,t,n){let{currentPageId:r,selectedIds:i}=e,o=t.map(f=>e.getShape(f)).filter(f=>n.isLocked?!0:!f.isLocked),u={},l={},c=Object.keys(n);return o.forEach(f=>{u[f.id]=Object.fromEntries(c.map(g=>[g,f[g]])),l[f.id]=n}),{id:"set_props",before:{document:{pages:{[r]:{shapes:u}},pageStates:{[r]:{selectedIds:i}}}},after:{document:{pages:{[r]:{shapes:l}},pageStates:{[r]:{selectedIds:i}}}}}}function bRe(e,t,n={}){let{currentPageId:r}=e,{point:i,select:o,overwrite:u}=n,l=e.document.pages[r],c={shapes:{},bindings:{}},f={},g={shapes:{},bindings:{}};if(u){for(let v of t.shapes)c.shapes[v.id]=l.shapes[v.id],g.shapes[v.id]=v;if(t.bindings)for(let v of t.bindings)c.bindings[v.id]=l.bindings[v.id],g.bindings[v.id]=v;if(t.assets)for(let v of t.assets)f[v.id]=v}else{let v={},y=ie.getTopChildIndex(e.state,r),b=t.shapes.sort((x,D)=>x.childIndex-D.childIndex).map(x=>{let D=F.uniqueId();return v[x.id]=D,re(L({},F.deepClone(x)),{id:D})}),C=new Set;for(;b.length>0;){let x=b.shift();if(!x)break;if(C.add(x.id),x.parentId==="currentPageId")x.parentId=r,x.childIndex=y++;else{x.parentId=v[x.parentId];let D=g.shapes[x.parentId];if(!D){C.has(x.id)&&(x.parentId="currentPageId"),b.push(x);continue}D.children.push(x.id)}x.children&&(x.children=[]),c.shapes[x.id]=void 0,g.shapes[x.id]=x}Object.values(g.shapes).forEach(x=>{x.children&&x.children.length===0&&(delete c.shapes[x.id],delete g.shapes[x.id])}),t.bindings&&t.bindings.forEach(x=>{let D=F.uniqueId();v[x.id]=D;let T=v[x.toId],N=v[x.fromId];if(!T||!N){if(N){let B=g.shapes[N].handles;B&&Object.values(B).forEach(P=>{P.bindingId===x.id&&(P.bindingId=void 0)})}if(T){let B=g.shapes[T].handles;B&&Object.values(B).forEach(P=>{P.bindingId===x.id&&(P.bindingId=void 0)})}return}let k=g.shapes[N].handles;k&&Object.values(k).forEach(B=>{B.bindingId===x.id&&(B.bindingId=D)}),g.shapes[T].handles&&Object.values(g.shapes[T].handles).forEach(B=>{B.bindingId===x.id&&(B.bindingId=D)});let M=re(L({},F.deepClone(x)),{id:D,toId:T,fromId:N});c.bindings[M.id]=void 0,g.bindings[M.id]=M});let A=Object.values(g.shapes);if(A.length>0)if(i){let x=F.getCommonBounds(A.map(T=>ie.getBounds(T))),D=F.getBoundsCenter(x);A.forEach(T=>{!T.point||(T.point=R.sub(i,R.sub(D,T.point)))})}else{let x=F.getCommonBounds(A.map(ie.getBounds));if(!(F.boundsContain(e.viewport,x)||F.boundsCollide(e.viewport,x))){let D=R.toFixed(e.getPagePoint(e.centerPoint)),T=F.centerBounds(x,D),N=R.sub(F.getBoundsCenter(T),F.getBoundsCenter(x));A.forEach(k=>{k.point=R.toFixed(R.add(k.point,N))})}}if(t.assets)for(let x of t.assets)f[x.id]=x}let m=document.createElement("textarea");return Object.values(g.shapes).forEach(v=>{"text"in v&&(m.innerHTML=v.text,v.text=m.value),"label"in v&&(m.innerHTML=v.label,v.label=m.value)}),m.remove(),{id:"insert",before:{document:{pages:{[r]:c},pageStates:{[r]:{selectedIds:[...e.selectedIds]}}}},after:{document:{pages:{[r]:g},assets:f,pageStates:{[r]:{selectedIds:o?Object.keys(g.shapes):[...e.selectedIds]}}}}}}var c8={};wH(c8,{fileToBase64:()=>p8,fileToText:()=>g8,getImageSizeFromSrc:()=>m8,getVideoSizeFromSrc:()=>v8,loadFileHandle:()=>d8,migrate:()=>ea,openAssetsFromFileSystem:()=>f8,openFromFileSystem:()=>h8,saveFileHandle:()=>y2,saveToFileSystem:()=>Y1});function ea(e,t){let{document:n,settings:r}=e,{version:i=0}=n;"assets"in n||(n.assets={});let o=new Set;return Object.values(n.pages).forEach(u=>Object.values(u.shapes).forEach(l=>{let{parentId:c,children:f,assetId:g}=l;g&&o.add(g),c!==u.id&&!u.shapes[c]&&(console.warn("Encountered a shape with a missing parent!"),l.parentId=u.id),l.type==="group"&&f&&f.forEach(m=>{u.shapes[m]||(console.warn("Encountered a parent with a missing child!",l.id,m),f?.splice(f.indexOf(m),1))})})),Object.keys(n.assets).forEach(u=>{o.has(u)||delete n.assets[u]}),i!==t&&(i<14&&Object.values(n.pages).forEach(u=>{Object.values(u.shapes).filter(l=>l.type==="text").forEach(l=>l.style.font==="script")}),i<=13&&Object.values(n.pages).forEach(u=>{Object.values(u.bindings).forEach(l=>{Object.assign(l,l.meta)}),Object.values(u.shapes).forEach(l=>{Object.entries(l.style).forEach(([c,f])=>{typeof f=="string"&&(l.style[c]=f.toLowerCase())}),l.type==="arrow"&&l.decorations&&Object.entries(l.decorations).forEach(([c,f])=>{f==="Arrow"&&(l.decorations=re(L({},l.decorations),{[c]:"arrow"}))})})}),i<=13.1&&(n.name="New Document"),i<15&&(n.assets={}),Object.values(n.pages).forEach(u=>{Object.values(u.shapes).forEach(l=>{i<15.2&&(l.type==="image"||l.type==="video")&&(l.style.isFilled=!0),i<15.3&&(l.type==="rectangle"||l.type==="triangle"||l.type==="ellipse"||l.type==="arrow")&&(l.label=l.text||"",l.labelPoint=[.5,.5])})}),i<15.4&&(r.dockPosition="bottom"),i<15.5&&(r.exportBackground="transparent")),Object.values(n.pageStates).forEach(u=>{u.selectedIds=u.selectedIds.filter(l=>n.pages[u.id].shapes[l]!==void 0),u.bindingId=void 0,u.editingId=void 0,u.hoveredId=void 0,u.pointedId=void 0}),n.version=t,e}var O9={mode:"readwrite"},CRe=e=>Fe(void 0,null,function*(){return(yield e.queryPermission(O9))==="granted"||(yield e.requestPermission(O9))==="granted"});function d8(){return Fe(this,null,function*(){return typeof Window>"u"||!("_location"in Window)?void 0:(yield Ph(`Tldraw_file_handle_${window.location.origin}`))||null})}function y2(e){return Fe(this,null,function*(){return vc(`Tldraw_file_handle_${window.location.origin}`,e)})}function Y1(e,t,n){return Fe(this,null,function*(){let r={name:e.name||"New Document",fileHandle:t??null,document:e,assets:{}},i=JSON.stringify(r),o=new Blob([i],{type:"application/vnd.Tldraw+json"});if(t&&!(yield CRe(t)))return null;let u=!nl&&n?.length?n:`${r.name}`,l=yield bx(o,{fileName:`${u}${V1}`,description:"Tldraw File",extensions:[`${V1}`]},t);return yield y2(l),l})}function h8(){return Fe(this,null,function*(){var e;let t=yield r2({description:"Tldraw File",extensions:[`${V1}`],multiple:!1});if(!t)return null;let n=yield new Promise(o=>{let u=new FileReader;u.onloadend=()=>{u.readyState===FileReader.DONE&&o(u.result)},u.readAsText(t,"utf8")}),r=JSON.parse(n),i=(e=t.handle)!=null?e:null;return yield y2(i),{fileHandle:i,document:r.document}})}function f8(){return Fe(this,null,function*(){return r2({description:"Image or Video",extensions:[...Kx,...Yx],multiple:!0})})}function p8(e){return new Promise((t,n)=>{if(e){let r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=i=>n(i),r.onabort=i=>n(i)}})}function g8(e){return new Promise((t,n)=>{if(e){let r=new FileReader;r.readAsText(e),r.onload=()=>t(r.result),r.onerror=i=>n(i),r.onabort=i=>n(i)}})}function m8(e){return new Promise((t,n)=>{let r=new Image;r.onload=()=>t([r.width,r.height]),r.onerror=()=>n(new Error("Could not get image size")),r.src=e})}function v8(e){return new Promise((t,n)=>{let r=document.createElement("video");r.onloadedmetadata=()=>t([r.videoWidth,r.videoHeight]),r.onerror=()=>n(new Error("Could not get video size")),r.src=e})}xH(c8,aH);var hi=class{constructor(e){this.app=e}},SRe=class extends hi{constructor(e,t,n,r=!1){super(e),w(this,"type","arrow"),w(this,"performanceMode"),w(this,"status","translatingHandle"),w(this,"newStartBindingId",F.uniqueId()),w(this,"draggedBindingId",F.uniqueId()),w(this,"didBind",!1),w(this,"initialShape"),w(this,"handleId"),w(this,"bindableShapeIds"),w(this,"initialBinding"),w(this,"startBindingShapeId"),w(this,"isCreate"),w(this,"start",()=>{}),w(this,"update",()=>{var m,v,y;let{initialShape:b}=this,{currentPoint:C,shiftKey:A,altKey:x,metaKey:D,currentGrid:T,settings:{showGrid:N}}=this.app,k=this.app.getShape(b.id);if(k.isLocked)return;let{handles:M}=b,B=this.handleId;if(!M[B].canBind)return;let P=R.sub(C,R.add(M[B].point,b.point));if(A){let W=x?R.med(M.start.point,M.end.point):M[B==="start"?"end":"start"].point,ce=M[B].point,ge=R.add(ce,P),z=R.angle(W,ge),ee=R.rotWith(ge,W,F.snapAngleToSegments(z,24)-z);P=R.add(P,R.sub(ee,ge))}let _=R.add(M[B].point,P),U={[B]:re(L({},M[B]),{point:N?R.snap(_,T):R.toFixed(_),bindingId:void 0})},K=Nu.arrow,J=(m=K.onHandleChange)==null?void 0:m.call(K,b,U);if(!J)return;let te={shape:F.deepMerge(k,J),bindings:{}},fe,Ee=te.shape.handles[this.handleId],Y=te.shape.handles[this.handleId==="start"?"end":"start"];if(this.startBindingShapeId){let W,ce=this.app.page.shapes[this.startBindingShapeId],ge=ie.getShapeUtil(ce),z=ge.getCenter(ce),ee=te.shape.handles.start,de=te.shape.handles.end,me=R.add(ee.point,te.shape.point);R.isEqual(me,z)&&me[1]++;let Se=z,Ae=ge.hitTestPoint(ce,C),Ne=R.uni(R.sub(me,Se)),He=this.app.getBinding(this.newStartBindingId)!==void 0;!D&&!ge.hitTestPoint(ce,R.add(te.shape.point,de.point))&&(W=this.findBindingPoint(k,ce,"start",this.newStartBindingId,z,Se,Ne,Ae)),W&&!He?(this.didBind=!0,te.bindings[this.newStartBindingId]=W,te.shape=F.deepMerge(te.shape,{handles:{start:{bindingId:W.id}}})):!W&&He&&(this.didBind=!1,te.bindings[this.newStartBindingId]=void 0,te.shape=F.deepMerge(b,{handles:{start:{bindingId:void 0}}}))}if(!D){let W=R.add(Y.point,te.shape.point),ce=R.add(Ee.point,te.shape.point),ge=R.uni(R.sub(ce,W)),z=R.add(te.shape.point,te.shape.handles.start.point),ee=R.add(te.shape.point,te.shape.handles.end.point),de=this.bindableShapeIds.map(me=>this.app.page.shapes[me]).sort((me,Se)=>Se.childIndex-me.childIndex).filter(me=>{if(me.isLocked)return!1;let Se=ie.getShapeUtil(me);return![z,ee].every(Ae=>Se.hitTestPoint(me,Ae))});for(let me of de)if(fe=this.findBindingPoint(k,me,this.handleId,this.draggedBindingId,ce,W,ge,x),fe)break}if(fe)this.didBind=!0,te.bindings[this.draggedBindingId]=fe,te.shape=F.deepMerge(te.shape,{handles:{[this.handleId]:{bindingId:this.draggedBindingId}}});else{this.didBind=this.didBind||!1;let W=k.handles[this.handleId].bindingId;W!==void 0&&(te.bindings[W]=void 0,te.shape=F.deepMerge(te.shape,{handles:{[this.handleId]:{bindingId:void 0}}}))}let V=(y=(v=ie.getShapeUtil(te.shape)).onHandleChange)==null?void 0:y.call(v,te.shape,te.shape.handles);return{document:{pages:{[this.app.currentPageId]:{shapes:{[k.id]:L(L({},te.shape),V??{})},bindings:te.bindings}},pageStates:{[this.app.currentPageId]:{bindingId:te.shape.handles[B].bindingId}}}}}),w(this,"cancel",()=>{let{initialShape:m,initialBinding:v,newStartBindingId:y,draggedBindingId:b}=this,C=ie.onSessionComplete(this.app.page.shapes[m.id]),A=this.isCreate||R.dist(C.handles.start.point,C.handles.end.point)<4,x={};return x[b]=void 0,v&&(x[v.id]=A?void 0:v),y&&(x[y]=void 0),{document:{pages:{[this.app.currentPageId]:{shapes:{[m.id]:A?void 0:m},bindings:x}},pageStates:{[this.app.currentPageId]:{selectedIds:A?[]:[m.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}}}),w(this,"complete",()=>{let{initialShape:m,initialBinding:v,newStartBindingId:y,startBindingShapeId:b,handleId:C}=this,A=ie.onSessionComplete(this.app.page.shapes[m.id]),x=A.handles[C].bindingId,D=R.dist(A.handles.start.point,A.handles.end.point);if(!(x||v)&&D<4)return this.cancel();let T={},N={};return v&&(T[v.id]=this.isCreate?void 0:v,N[v.id]=void 0),x&&(T[x]=void 0,N[x]=this.app.page.bindings[x]),b&&(T[y]=void 0,N[y]=this.app.page.bindings[y]),{id:"arrow",before:{document:{pages:{[this.app.currentPageId]:{shapes:{[m.id]:this.isCreate?void 0:m},bindings:T}},pageStates:{[this.app.currentPageId]:{selectedIds:this.isCreate?[]:[m.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}},after:{document:{pages:{[this.app.currentPageId]:{shapes:{[m.id]:A},bindings:N}},pageStates:{[this.app.currentPageId]:{selectedIds:[m.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}}}}),w(this,"findBindingPoint",(m,v,y,b,C,A,x,D)=>{let T=ie.getShapeUtil(v.type).getBindingPoint(v,m,C,A,x,D);if(T)return{id:b,type:"arrow",fromId:m.id,toId:v.id,handleId:y,point:R.toFixed(T.point),distance:T.distance}});var i,o,u;this.isCreate=r;let{currentPageId:l}=e.state.appState,c=e.state.document.pages[l];this.handleId=n,this.initialShape=hr(c.shapes[t]),this.bindableShapeIds=ie.getBindableShapeIds(e.state).filter(m=>!(m===this.initialShape.id||m===this.initialShape.parentId));let f=(i=this.initialShape.handles[n==="start"?"end":"start"])==null?void 0:i.bindingId;if(f){let m=(o=c.bindings[f])==null?void 0:o.toId;m&&(this.bindableShapeIds=this.bindableShapeIds.filter(v=>v!==m))}let{originPoint:g}=this.app;if(this.isCreate)this.startBindingShapeId=(u=this.bindableShapeIds.map(m=>c.shapes[m]).filter(m=>!m.isLocked&&F.pointInBounds(g,ie.getShapeUtil(m).getBounds(m))).sort((m,v)=>v.childIndex-m.childIndex)[0])==null?void 0:u.id,this.startBindingShapeId&&this.bindableShapeIds.splice(this.bindableShapeIds.indexOf(this.startBindingShapeId),1);else{let m=this.initialShape.handles[this.handleId].bindingId;m?this.initialBinding=c.bindings[m]:this.initialShape.handles[this.handleId].bindingId=void 0}}},ARe=class extends hi{constructor(e){super(e),w(this,"type","brush"),w(this,"performanceMode"),w(this,"status","brushing"),w(this,"initialSelectedIds"),w(this,"shapesToTest"),w(this,"start",()=>{}),w(this,"update",()=>{let{initialSelectedIds:n,shapesToTest:r,app:{metaKey:i,settings:o,originPoint:u,currentPoint:l}}=this,c=F.getBoundsFromPoints([u,l]),f=o.isCadSelectMode?!i&&u[0]<l[0]:i,g=new Set,m=new Set(n);r.forEach(({id:C,selectId:A})=>{let x=this.app.getShape(C);if(!g.has(A)){let D=this.app.getShapeUtil(x);(f?F.boundsContain(c,D.getBounds(x)):D.hitTestBounds(x,c))?(g.add(A),m.has(A)||m.add(A)):m.has(A)&&m.delete(A)}});let v=this.app.selectedIds,y=m.size!==v.length||v.some(C=>!m.has(C)),b=y?Array.from(m.values()):v;return y?{appState:{selectByContain:f},document:{pageStates:{[this.app.currentPageId]:{brush:c,selectedIds:b}}}}:{appState:{selectByContain:f},document:{pageStates:{[this.app.currentPageId]:{brush:c}}}}}),w(this,"cancel",()=>({appState:{selectByContain:!1},document:{pageStates:{[this.app.currentPageId]:{brush:null,selectedIds:Array.from(this.initialSelectedIds.values())}}}})),w(this,"complete",()=>({appState:{selectByContain:!1},document:{pageStates:{[this.app.currentPageId]:{brush:null,selectedIds:[...this.app.selectedIds]}}}}));let{currentPageId:t}=e;this.initialSelectedIds=new Set(this.app.selectedIds),this.shapesToTest=this.app.shapes.filter(n=>!(n.isLocked||n.isHidden||n.parentId!==t||this.initialSelectedIds.has(n.id)||this.initialSelectedIds.has(n.parentId))).map(n=>({id:n.id,bounds:this.app.getShapeUtil(n).getBounds(n),selectId:n.id})),this.update()}},wRe=class extends hi{constructor(e,t){super(e),w(this,"type","draw"),w(this,"performanceMode"),w(this,"status","creating"),w(this,"topLeft"),w(this,"points"),w(this,"initialShape"),w(this,"lastAdjustedPoint"),w(this,"shiftedPoints",[]),w(this,"shapeId"),w(this,"isLocked"),w(this,"isExtending"),w(this,"lockedDirection"),w(this,"start",()=>{var c;let f=this.app.originPoint,g=[0,0,(c=f[2])!=null?c:.5];this.points.push(g);let m=[Math.min(this.topLeft[0],f[0]),Math.min(this.topLeft[1],f[1])],v=R.sub(m,f);return this.topLeft=m,this.shiftedPoints=this.points.map(y=>R.toFixed(R.sub(y,v)).concat(y[2])),{document:{pages:{[this.app.currentPageId]:{shapes:{[this.shapeId]:{point:this.topLeft,points:this.shiftedPoints}}}},pageStates:{[this.app.currentPageId]:{selectedIds:[this.shapeId]}}}}}),w(this,"update",()=>{let{shapeId:c}=this,{currentPoint:f,originPoint:g,shiftKey:m,zoom:v}=this.app;if(!this.lockedDirection&&this.points.length>1){let b=R.sub(f,g);R.len(b)>3/v&&(this.lockedDirection=Math.abs(b[0])>Math.abs(b[1])?"horizontal":"vertical")}if(m){if(!this.isLocked&&this.points.length>2){if(!this.lockedDirection){let C=R.sub(f,g);R.len(C)>3/v&&(this.lockedDirection=Math.abs(C[0])>Math.abs(C[1])?"horizontal":"vertical")}this.isLocked=!0;let b=[...this.lastAdjustedPoint];this.lockedDirection==="vertical"?b[0]=0:b[1]=0,this.points.push(b.concat(f[2]))}}else this.isLocked&&(this.isLocked=!1);this.isLocked&&(this.lockedDirection==="vertical"?f[0]=g[0]:f[1]=g[1]);let y=this.addPoint(f);if(y)return{document:{pages:{[this.app.currentPageId]:{shapes:{[c]:y}}},pageStates:{[this.app.currentPageId]:{selectedIds:[c]}}}}}),w(this,"cancel",()=>{let{shapeId:c}=this,f=this.app.currentPageId;return{document:{pages:{[f]:{shapes:{[c]:this.isExtending?this.initialShape:void 0}}},pageStates:{[f]:{selectedIds:[]}}}}}),w(this,"complete",()=>{let{shapeId:c}=this,f=this.app.currentPageId,g=this.app.getShape(c);return{id:"create_draw",before:{document:{pages:{[f]:{shapes:{[c]:this.isExtending?this.initialShape:void 0}}},pageStates:{[f]:{selectedIds:[]}}}},after:{document:{pages:{[f]:{shapes:{[c]:re(L({},g),{point:R.toFixed(g.point),points:g.points.map(m=>R.toFixed(m)),isComplete:!0})}}},pageStates:{[this.app.currentPageId]:{selectedIds:[]}}}}}}),w(this,"addPoint",c=>{let{originPoint:f}=this.app,g=R.toFixed(R.sub(c,f)).concat(c[2]);if(R.isEqual(this.lastAdjustedPoint,g))return;this.points.push(g),this.lastAdjustedPoint=g;let m=[...this.topLeft],v=[Math.min(this.topLeft[0],c[0]),Math.min(this.topLeft[1],c[1])],y=R.sub(v,f),b;return m[0]!==v[0]||m[1]!==v[1]?(this.topLeft=v,b=this.points.map(C=>R.toFixed(R.sub(C,y)).concat(C[2]))):b=[...this.shiftedPoints,R.sub(g,y).concat(g[2])],this.shiftedPoints=b,{point:this.topLeft,points:b}});var n;let{originPoint:r}=this.app;this.shapeId=t,this.initialShape=this.app.getShape(t),this.topLeft=[...this.initialShape.point];let i=[0,0,(n=r[2])!=null?n:.5],o=R.sub(r,this.topLeft),u=this.initialShape.points.map(c=>R.sub(c,o).concat(c[2]));this.isExtending=u.length>0;let l=[];if(this.isExtending){let c=u[u.length-1];if(c){l.push(c,c);let f=Math.floor(R.dist(c,i)/16);if(f>1)for(let g=0;g<f;g++){let m=g/(f-1);l.push(R.lrp(c,i,m).concat(c[2]))}else l.push(i,i)}}else l.push(i);this.points=[...u,...l],this.shiftedPoints=this.points.map(c=>R.add(c,o).concat(c[2])),this.lastAdjustedPoint=this.points[this.points.length-1]}},xRe=class extends hi{constructor(e,t,n){super(e),w(this,"type","edit"),w(this,"performanceMode"),w(this,"initialShape"),w(this,"initialSelectedIds"),w(this,"currentPageId"),w(this,"isCreating"),w(this,"start",()=>{}),w(this,"update",()=>{}),w(this,"cancel",()=>({document:{pages:{[this.currentPageId]:{shapes:{[this.initialShape.id]:this.isCreating?void 0:this.initialShape}}},pageStates:{[this.currentPageId]:{selectedIds:this.isCreating?[]:this.initialSelectedIds,editingId:void 0}}}})),w(this,"complete",()=>{let r=this.app.getShape(this.initialShape.id);return{id:"edit",before:{document:{pages:{[this.currentPageId]:{shapes:{[this.initialShape.id]:this.isCreating?void 0:this.initialShape}}},pageStates:{[this.currentPageId]:{selectedIds:this.isCreating?[]:this.initialSelectedIds,editingId:void 0}}}},after:{document:{pages:{[this.currentPageId]:{shapes:{[this.initialShape.id]:r}}},pageStates:{[this.currentPageId]:{selectedIds:[r.id],editingId:void 0}}}}}}),this.initialShape=e.getShape(t,e.currentPageId),this.currentPageId=e.currentPageId,this.isCreating=n,this.initialSelectedIds=[...e.selectedIds]}},DRe=class extends hi{constructor(e){super(e),w(this,"type","draw"),w(this,"performanceMode"),w(this,"status","creating"),w(this,"isLocked"),w(this,"lockedDirection"),w(this,"erasedShapes",new Set),w(this,"erasedBindings",new Set),w(this,"initialSelectedShapes"),w(this,"erasableShapes"),w(this,"prevPoint"),w(this,"prevEraseShapesSize",0),w(this,"interval"),w(this,"timestamp1",0),w(this,"timestamp2",0),w(this,"prevErasePoint",[]),w(this,"loop",()=>{let t=Date.now(),n=t-this.timestamp1,r=t-this.timestamp2,{eraseLine:i}=this.app.appState,o=[...i],u=!1;n>16&&this.prevErasePoint!==this.prevPoint&&(u=!0,o=[...i,this.prevPoint],this.prevErasePoint=this.prevPoint),r>32&&o.length>1&&(u=!0,o.splice(0,Math.ceil(o.length*.1)),this.timestamp2=t),u&&this.app.patchState({appState:{eraseLine:o}},"eraseline"),this.interval=requestAnimationFrame(this.loop)}),w(this,"start",()=>{}),w(this,"update",()=>{let{page:t,shiftKey:n,originPoint:r,currentPoint:i,zoom:o}=this.app;if(n){let f=R.sub(i,r);if(!this.isLocked&&R.len(f)>3/o){if(!this.lockedDirection){let g=R.sub(i,r);this.lockedDirection=Math.abs(g[0])>Math.abs(g[1])?"horizontal":"vertical"}this.isLocked=!0}}else this.isLocked&&(this.isLocked=!1);this.isLocked&&(this.lockedDirection==="vertical"?i[0]=r[0]:i[1]=r[1]);let u=R.toFixed(R.add(r,R.sub(i,r))),l=new Set([]);this.erasableShapes.forEach(f=>{if(!this.erasedShapes.has(f)&&this.app.getShapeUtil(f).hitTestLineSegment(f,this.prevPoint,u)&&(this.erasedShapes.add(f),l.add(f.id),f.children!==void 0))for(let g of f.children)this.erasedShapes.add(this.app.getShape(g)),l.add(g)}),Object.values(t.bindings).forEach(f=>{for(let g of[f.toId,f.fromId])l.has(g)&&this.erasedBindings.add(f)}),this.erasedShapes.forEach(f=>{this.app.getShape(f.id)||(this.erasedShapes.delete(f),this.erasableShapes.delete(f),l.delete(f.id))});let c=Array.from(this.erasedShapes.values());if(this.prevPoint=u,c.length!==this.prevEraseShapesSize)return this.prevEraseShapesSize=c.length,{document:{pages:{[t.id]:{shapes:Object.fromEntries(c.map(f=>[f.id,{isGhost:!0}]))}}}}}),w(this,"cancel",()=>{let{page:t}=this.app;cancelAnimationFrame(this.interval),this.erasedShapes.forEach(r=>{this.app.getShape(r.id)||(this.erasedShapes.delete(r),this.erasableShapes.delete(r))});let n=Array.from(this.erasedShapes.values());return{document:{pages:{[t.id]:{shapes:Object.fromEntries(n.map(r=>[r.id,{isGhost:!1}]))}},pageStates:{[t.id]:{selectedIds:this.initialSelectedShapes.map(r=>r.id)}}},appState:{eraseLine:[]}}}),w(this,"complete",()=>{let{page:t}=this.app;cancelAnimationFrame(this.interval),this.erasedShapes.forEach(c=>{this.app.getShape(c.id)||(this.erasedShapes.delete(c),this.erasableShapes.delete(c))}),this.erasedBindings.forEach(c=>{this.app.getBinding(c.id)||this.erasedBindings.delete(c)});let n=Array.from(this.erasedShapes.values()),r=Array.from(this.erasedBindings.values()),i=n.map(c=>c.id),o=r.map(c=>c.id),u={shapes:Object.fromEntries(n.map(c=>[c.id,c])),bindings:Object.fromEntries(r.map(c=>[c.id,c]))},l={shapes:Object.fromEntries(n.map(c=>[c.id,void 0])),bindings:Object.fromEntries(r.map(c=>[c.id,void 0]))};return this.app.shapes.forEach(c=>{c.handles&&!l.shapes[c.id]&&Object.values(c.handles).forEach(f=>{var g,m;f.bindingId&&o.includes(f.bindingId)&&(u.shapes[c.id]=re(L({},u.shapes[c.id]),{handles:re(L({},(g=u.shapes[c.id])==null?void 0:g.handles),{[f.id]:f})}),i.includes(c.id)||(l.shapes[c.id]=re(L({},l.shapes[c.id]),{handles:re(L({},(m=l.shapes[c.id])==null?void 0:m.handles),{[f.id]:re(L({},f),{bindingId:void 0})})})))})}),{id:"erase",before:{document:{pages:{[t.id]:u},pageStates:{[t.id]:{selectedIds:this.initialSelectedShapes.filter(c=>!!this.app.getShape(c.id)).map(c=>c.id)}}},appState:{eraseLine:[]}},after:{document:{pages:{[t.id]:l},pageStates:{[t.id]:{selectedIds:this.initialSelectedShapes.filter(c=>!!this.app.getShape(c.id)).filter(c=>!i.includes(c.id)).map(c=>c.id)}}},appState:{eraseLine:[]}}}}),this.prevPoint=[...e.originPoint],this.initialSelectedShapes=this.app.selectedIds.map(t=>this.app.getShape(t)),this.erasableShapes=new Set(this.app.shapes.filter(t=>!t.isLocked)),this.interval=this.loop()}},IRe=class extends hi{constructor(e,t){super(e),w(this,"type","grid"),w(this,"performanceMode"),w(this,"status","translating"),w(this,"shape"),w(this,"bounds"),w(this,"initialSelectedIds"),w(this,"initialSiblings"),w(this,"grid",{}),w(this,"columns",1),w(this,"rows",1),w(this,"isCopying",!1),w(this,"start",()=>{}),w(this,"update",()=>{let{currentPageId:r,altKey:i,shiftKey:o,currentPoint:u}=this.app,l={},c={},f=F.getBoundsCenter(this.bounds),g=R.sub(u,f);o&&(Math.abs(g[0])<Math.abs(g[1])?g[0]=0:g[1]=0);let m=this.bounds.width+32,v=this.bounds.height+32,y=Math.ceil(g[0]/m),b=Math.ceil(g[1]/v),C=Math.min(y,0),A=Math.min(b,0),x=Math.max(y,1),D=Math.max(b,1),T=new Set,N=i;N!==this.isCopying&&(Object.values(this.grid).filter(k=>k!==this.shape.id).forEach(k=>l[k]=void 0),this.grid={"0_0":this.shape.id},this.isCopying=N);for(let k=C;k<x;k++)for(let M=A;M<D;M++){let B=`${k}_${M}`;if(T.add(B),this.grid[B]||k===0&&M===0)continue;let P=this.getClone(R.add(this.shape.point,[k*m,M*v]),N);l[P.id]=P,this.grid[B]=P.id}if(Object.entries(this.grid).forEach(([k,M])=>{T.has(k)||(l[M]=void 0,delete this.grid[k])}),Object.values(l).length!==0)return this.initialSiblings&&(l[this.shape.parentId]={children:[...this.initialSiblings,...Object.values(this.grid)]}),{document:{pages:{[r]:{shapes:l}},pageStates:{[r]:c}}}}),w(this,"cancel",()=>{let{currentPageId:r}=this.app,i={};return Object.values(this.grid).forEach(o=>{i[o]=void 0}),i[this.shape.id]=re(L({},i[this.shape.id]),{point:this.shape.point}),this.initialSiblings&&(i[this.shape.parentId]={children:[...this.initialSiblings,this.shape.id]}),{document:{pages:{[r]:{shapes:i}},pageStates:{[r]:{selectedIds:[this.shape.id]}}}}}),w(this,"complete",()=>{let{currentPageId:r}=this.app,i={},o={},u=[];if(Object.values(this.grid).forEach(l=>{i[l]=void 0,o[l]=this.app.getShape(l),u.push(l)}),i[this.shape.id]=this.shape,this.initialSiblings&&(i[this.shape.parentId]={children:[...this.initialSiblings,this.shape.id]},o[this.shape.parentId]={children:[...this.initialSiblings,...Object.values(this.grid)]}),u.length!==1)return{id:"grid",before:{document:{pages:{[r]:{shapes:i}},pageStates:{[r]:{selectedIds:[],hoveredId:void 0}}}},after:{document:{pages:{[r]:{shapes:o}},pageStates:{[r]:{selectedIds:u,hoveredId:void 0}}}}}}),w(this,"getClone",(r,i)=>{let o=re(L({},this.shape),{id:F.uniqueId(),point:r});return i||o.type==="sticky"&&(o.text=""),o});var n;this.shape=this.app.getShape(t),this.grid["0_0"]=this.shape.id,this.bounds=this.app.getShapeBounds(t),this.initialSelectedIds=[...this.app.selectedIds],this.shape.parentId!==this.app.currentPageId&&(this.initialSiblings=(n=this.app.getShape(this.shape.parentId).children)==null?void 0:n.filter(r=>r!==this.shape.id))}},TRe=class extends hi{constructor(e,t,n,r="move_handle"){super(e),w(this,"type","handle"),w(this,"performanceMode"),w(this,"status","translatingHandle"),w(this,"commandId"),w(this,"topLeft"),w(this,"shiftKey",!1),w(this,"initialShape"),w(this,"handleId"),w(this,"start",()=>{}),w(this,"update",()=>{var o,u;let{initialShape:l,app:{currentPageId:c,currentPoint:f}}=this,g=this.app.getShape(l.id);if(g.isLocked)return;let m=g.handles,v=this.handleId,y=R.sub(f,m[v].point),b={[v]:re(L({},m[v]),{point:R.sub(R.add(m[v].point,y),g.point)})},C=(u=(o=ie.getShapeUtil(g)).onHandleChange)==null?void 0:u.call(o,g,b);if(C)return{document:{pages:{[c]:{shapes:{[g.id]:C}}}}}}),w(this,"cancel",()=>{let{initialShape:o,app:{currentPageId:u}}=this;return{document:{pages:{[u]:{shapes:{[o.id]:o}}}}}}),w(this,"complete",()=>{let{initialShape:o,app:{currentPageId:u}}=this;return{id:this.commandId,before:{document:{pages:{[u]:{shapes:{[o.id]:o}}}}},after:{document:{pages:{[u]:{shapes:{[o.id]:ie.onSessionComplete(this.app.getShape(this.initialShape.id))}}}}}}});let{originPoint:i}=e;this.topLeft=[...i],this.handleId=n,this.initialShape=this.app.getShape(t),this.commandId=r}},RRe=class extends hi{constructor(e){super(e),w(this,"type","rotate"),w(this,"status","transforming"),w(this,"performanceMode"),w(this,"delta",[0,0]),w(this,"commonBoundsCenter"),w(this,"initialAngle"),w(this,"initialShapes"),w(this,"changes",{}),w(this,"start",()=>{}),w(this,"update",()=>{let{commonBoundsCenter:o,initialShapes:u,app:{currentPageId:l,currentPoint:c,shiftKey:f}}=this,g={},m=R.angle(o,c)-this.initialAngle;return f&&(m=F.snapAngleToSegments(m,24)),u.forEach(({center:v,shape:y})=>{let{rotation:b=0}=y,C=0;f&&(C=F.snapAngleToSegments(b,24)-b);let A=ie.getRotatedShapeMutation(y,v,o,f?m+C:m);A&&(g[y.id]=A)}),this.changes=g,{document:{pages:{[l]:{shapes:g}}}}}),w(this,"cancel",()=>{let{initialShapes:o,app:{currentPageId:u}}=this,l={};return o.forEach(({shape:c})=>l[c.id]=c),{document:{pages:{[u]:{shapes:l}}}}}),w(this,"complete",()=>{let{initialShapes:o,app:{currentPageId:u}}=this,l={},c=this.changes;return o.forEach(({shape:{id:f,point:g,rotation:m,handles:v}})=>{l[f]={point:g,rotation:m,handles:v}}),{id:"rotate",before:{document:{pages:{[u]:{shapes:l}}}},after:{document:{pages:{[u]:{shapes:c}}}}}});let{app:{currentPageId:t,pageState:n,originPoint:r}}=this,i=ie.getSelectedBranchSnapshot(e.state,t).filter(o=>!o.isLocked);if(i.length===0)throw Error("No selected shapes!");if(e.rotationInfo.selectedIds===n.selectedIds){if(e.rotationInfo.center===void 0)throw Error("We should have a center for rotation!");this.commonBoundsCenter=e.rotationInfo.center}else this.commonBoundsCenter=F.getBoundsCenter(F.getCommonBounds(i.map(ie.getBounds))),e.rotationInfo.selectedIds=n.selectedIds,e.rotationInfo.center=this.commonBoundsCenter;this.initialShapes=i.filter(o=>o.children===void 0).map(o=>({shape:o,center:this.app.getShapeUtil(o).getCenter(o)})),this.initialAngle=R.angle(this.commonBoundsCenter,r)}},BRe=class extends hi{constructor(e,t=ri.BottomRight,n=!1){super(e),this.transformType=t,this.isCreate=n,w(this,"type","transform"),w(this,"performanceMode"),w(this,"status","transforming"),w(this,"scaleX",1),w(this,"scaleY",1),w(this,"initialShapes"),w(this,"initialShapeIds"),w(this,"initialSelectedIds"),w(this,"shapeBounds"),w(this,"hasUnlockedShapes"),w(this,"isAllAspectRatioLocked"),w(this,"initialCommonBounds"),w(this,"snapInfo",{state:"empty"}),w(this,"prevPoint",[0,0]),w(this,"speed",1),w(this,"start",()=>{this.snapInfo={state:"ready",bounds:this.app.shapes.filter(u=>!this.initialShapeIds.includes(u.id)).map(u=>F.getBoundsWithCenter(ie.getRotatedBounds(u)))}}),w(this,"update",()=>{let{transformType:u,shapeBounds:l,initialCommonBounds:c,isAllAspectRatioLocked:f,app:{currentPageId:g,pageState:{camera:m},viewport:v,currentPoint:y,previousPoint:b,originPoint:C,shiftKey:A,altKey:x,metaKey:D,currentGrid:T,settings:{isSnapping:N,showGrid:k}}}=this,M={},B=x?R.mul(R.sub(y,C),2):R.sub(y,C),P=F.getTransformedBoundingBox(c,u,B,0,A||f);x&&(P=L(L({},P),F.centerBounds(P,F.getBoundsCenter(c)))),k&&(P=L(L({},P),F.snapBoundsToGrid(P,T)));let _=R.dist(y,b)-this.speed;this.speed=this.speed+_*(_>1?.5:.15);let U=[];if((N&&!D||!N&&D)&&this.speed*m.zoom<10&&this.snapInfo.state==="ready"){let K=F.getSnapPoints(F.getBoundsWithCenter(P),this.snapInfo.bounds.filter(J=>F.boundsContain(v,J)||F.boundsCollide(v,J)),5/m.zoom);K&&(U=K.snapLines,P=F.getTransformedBoundingBox(c,u,R.sub(B,K.offset),0,A||f))}return this.scaleX=P.scaleX,this.scaleY=P.scaleY,l.forEach(({initialShape:K,initialShapeBounds:J,transformOrigin:te})=>{let fe=F.getRelativeTransformedBoundingBox(P,c,J,this.scaleX<0,this.scaleY<0);k&&(fe=F.snapBoundsToGrid(fe,T));let Ee=ie.transform(this.app.getShape(K.id),fe,{type:this.transformType,initialShape:K,scaleX:this.scaleX,scaleY:this.scaleY,transformOrigin:te});M[K.id]=Ee}),{appState:{snapLines:U},document:{pages:{[g]:{shapes:M}}}}}),w(this,"cancel",()=>{let{shapeBounds:u,app:{currentPageId:l}}=this,c={};return this.isCreate?u.forEach(f=>c[f.initialShape.id]=void 0):u.forEach(f=>c[f.initialShape.id]=f.initialShape),{appState:{snapLines:[]},document:{pages:{[l]:{shapes:c}},pageStates:{[l]:{selectedIds:this.isCreate?[]:u.map(f=>f.initialShape.id)}}}}}),w(this,"complete",()=>{let{isCreate:u,shapeBounds:l,hasUnlockedShapes:c,app:{currentPageId:f}}=this;if(!c)return;if(this.isCreate&&R.dist(this.app.originPoint,this.app.currentPoint)<2)return this.cancel();let g={},m={},v,y;return u?(v=[],y=[],l.forEach(({initialShape:b})=>{g[b.id]=void 0,m[b.id]=this.app.getShape(b.id)})):(v=this.initialSelectedIds,y=this.initialSelectedIds,l.forEach(({initialShape:b})=>{g[b.id]=b,m[b.id]=this.app.getShape(b.id)})),{id:"transform",before:{appState:{snapLines:[]},document:{pages:{[f]:{shapes:g}},pageStates:{[f]:{selectedIds:v,hoveredId:void 0,editingId:void 0}}}},after:{appState:{snapLines:[]},document:{pages:{[f]:{shapes:m}},pageStates:{[f]:{selectedIds:y,hoveredId:void 0,editingId:void 0}}}}}}),this.initialSelectedIds=[...this.app.selectedIds],this.app.rotationInfo.selectedIds=[...this.initialSelectedIds],this.initialShapes=ie.getSelectedBranchSnapshot(this.app.state,this.app.currentPageId).filter(u=>!u.isLocked),this.initialShapeIds=this.initialShapes.map(u=>u.id),this.hasUnlockedShapes=this.initialShapes.length>0,this.isAllAspectRatioLocked=this.initialShapes.every(u=>u.isAspectRatioLocked||ie.getShapeUtil(u).isAspectRatioLocked);let r=Object.fromEntries(this.initialShapes.map(u=>[u.id,ie.getBounds(u)])),i=Object.values(r);this.initialCommonBounds=F.getCommonBounds(i);let o=F.getBoundsFromPoints(i.map(F.getBoundsCenter));this.shapeBounds=this.initialShapes.map(u=>{let l=r[u.id],c=F.getBoundsCenter(l),f=(c[0]-o.minX)/o.width,g=(c[1]-o.minY)/o.height;return{initialShape:u,initialShapeBounds:l,transformOrigin:[f,g]}})}},kRe=class extends hi{constructor(e,t,n,r=!1){super(e),w(this,"type","transformSingle"),w(this,"status","transforming"),w(this,"performanceMode"),w(this,"transformType"),w(this,"scaleX",1),w(this,"scaleY",1),w(this,"isCreate"),w(this,"initialShape"),w(this,"initialShapeBounds"),w(this,"initialCommonBounds"),w(this,"snapInfo",{state:"empty"}),w(this,"prevPoint",[0,0]),w(this,"speed",1),w(this,"start",()=>{this.snapInfo={state:"ready",bounds:this.app.shapes.filter(o=>o.id!==this.initialShape.id).map(o=>F.getBoundsWithCenter(ie.getRotatedBounds(o)))}}),w(this,"update",()=>{let{transformType:o,initialShape:u,initialShapeBounds:l,app:{settings:{isSnapping:c,showGrid:f},currentPageId:g,pageState:{camera:m},viewport:v,currentPoint:y,previousPoint:b,originPoint:C,currentGrid:A,shiftKey:x,altKey:D,metaKey:T}}=this;if(u.isLocked)return;let N={},k=D?R.mul(R.sub(y,C),2):R.sub(y,C),M=this.app.getShape(u.id),B=ie.getShapeUtil(M),P=F.getTransformedBoundingBox(l,o,k,M.rotation,x||M.isAspectRatioLocked||B.isAspectRatioLocked);D&&(P=L(L({},P),F.centerBounds(P,F.getBoundsCenter(l)))),f&&(P=L(L({},P),F.snapBoundsToGrid(P,A)));let _=R.dist(y,b)-this.speed;this.speed=this.speed+_*(_>1?.5:.15);let U=[];if((c&&!T||!c&&T)&&!u.rotation&&this.speed*m.zoom<10&&this.snapInfo.state==="ready"){let J=F.getSnapPoints(F.getBoundsWithCenter(P),this.snapInfo.bounds.filter(te=>F.boundsContain(v,te)||F.boundsCollide(v,te)),5/m.zoom);J&&(U=J.snapLines,P=F.getTransformedBoundingBox(l,o,R.sub(k,J.offset),M.rotation,x||M.isAspectRatioLocked||B.isAspectRatioLocked))}let K=ie.getShapeUtil(M).transformSingle(M,P,{initialShape:u,type:this.transformType,scaleX:P.scaleX,scaleY:P.scaleY,transformOrigin:[.5,.5]});return K&&(N[M.id]=K),f&&K&&K.point&&(K.point=R.snap(K.point,A)),{appState:{snapLines:U},document:{pages:{[g]:{shapes:N}}}}}),w(this,"cancel",()=>{let{initialShape:o,app:{currentPageId:u}}=this,l={};return this.isCreate?l[o.id]=void 0:l[o.id]=o,{appState:{snapLines:[]},document:{pages:{[u]:{shapes:l}},pageStates:{[u]:{selectedIds:this.isCreate?[]:[o.id]}}}}}),w(this,"complete",()=>{let{initialShape:o,app:{currentPageId:u}}=this;if(o.isLocked)return;if(this.isCreate&&R.dist(this.app.originPoint,this.app.currentPoint)<2)return this.cancel();let l={},c={};return l[o.id]=this.isCreate?void 0:o,c[o.id]=ie.onSessionComplete(this.app.getShape(o.id)),{id:"transform_single",before:{appState:{snapLines:[]},document:{pages:{[u]:{shapes:l}},pageStates:{[u]:{selectedIds:this.isCreate?[]:[o.id],editingId:void 0,hoveredId:void 0}}}},after:{appState:{snapLines:[]},document:{pages:{[u]:{shapes:c}},pageStates:{[u]:{selectedIds:[o.id],editingId:void 0,hoveredId:void 0}}}}}}),this.isCreate=r,this.transformType=n;let i=this.app.getShape(t);this.initialShape=i,this.initialShapeBounds=ie.getBounds(i),this.initialCommonBounds=ie.getRotatedBounds(i),this.app.rotationInfo.selectedIds=[i.id]}},MRe=class extends hi{constructor(e,t=!1,n=!1){super(e),w(this,"performanceMode"),w(this,"type","translate"),w(this,"status","translating"),w(this,"delta",[0,0]),w(this,"prev",[0,0]),w(this,"prevPoint",[0,0]),w(this,"speed",1),w(this,"cloneInfo",{state:"empty"}),w(this,"snapInfo",{state:"empty"}),w(this,"snapLines",[]),w(this,"isCloning",!1),w(this,"isCreate"),w(this,"link"),w(this,"initialIds"),w(this,"hasUnlockedShapes"),w(this,"initialSelectedIds"),w(this,"initialCommonBounds"),w(this,"initialShapes"),w(this,"initialParentChildren"),w(this,"bindingsToDelete"),w(this,"start",()=>{let{bindingsToDelete:c,initialIds:f,app:{currentPageId:g,page:m}}=this,v=[],y=[];if(Object.values(m.shapes).forEach(A=>{let x=F.getBoundsWithCenter(ie.getRotatedBounds(A));v.push(x),f.has(A.id)||y.push(x)}),this.snapInfo={state:"ready",bounds:v,others:y},c.length===0)return;let b={},C={};return c.forEach(A=>{b[A.id]=void 0;let x=this.app.getShape(A.fromId);C[A.fromId]={handles:re(L({},x.handles),{[A.handleId]:re(L({},x.handles[A.handleId]),{bindingId:void 0})})}}),{document:{pages:{[g]:{bindings:b,shapes:C}}}}}),w(this,"update",()=>{let{initialParentChildren:c,initialShapes:f,initialCommonBounds:g,bindingsToDelete:m,app:{pageState:{camera:v},settings:{isSnapping:y,showGrid:b},currentPageId:C,viewport:A,selectedIds:x,currentPoint:D,previousPoint:T,originPoint:N,altKey:k,shiftKey:M,metaKey:B,currentGrid:P}}=this,_={},U={},K={},J=R.sub(D,N),te=!1;this.isCreate||(k&&!this.isCloning?(this.isCloning=!0,te=!0):!k&&this.isCloning&&(this.isCloning=!1,te=!0)),M&&(Math.abs(J[0])<Math.abs(J[1])?J[0]=0:J[1]=0);let fe=R.dist(D,T)-this.speed;if(this.speed=this.speed+fe*(fe>1?.5:.15),this.snapLines=[],(y&&!B||!y&&B)&&this.speed*v.zoom<10&&this.snapInfo.state==="ready"){let Ee=F.getSnapPoints(F.getBoundsWithCenter(b?F.snapBoundsToGrid(F.translateBounds(g,J),P):F.translateBounds(g,J)),(this.isCloning?this.snapInfo.bounds:this.snapInfo.others).filter(Y=>F.boundsContain(A,Y)||F.boundsCollide(A,Y)),5/v.zoom);Ee&&(this.snapLines=Ee.snapLines,J=R.sub(J,Ee.offset))}if(this.prev=J,this.isCloning)if(te){if(this.cloneInfo.state==="empty"&&this.createCloneInfo(),this.cloneInfo.state==="empty")throw Error;let{clones:Ee,clonedBindings:Y}=this.cloneInfo;this.isCloning=!0,m.forEach(V=>_[V.id]=V),f.forEach(V=>U[V.id]={point:V.point}),Ee.forEach(V=>{var W;if(U[V.id]=L({},V),V.parentId!==C&&!x.includes(V.parentId)){let ce=((W=U[V.parentId])==null?void 0:W.children)||c[V.parentId];ce.includes(V.id)||(U[V.parentId]=re(L({},U[V.parentId]),{children:[...ce,V.id]}))}});for(let V of Y)_[V.id]=V;K.selectedIds=Ee.map(V=>V.id),Ee.forEach(V=>{U[V.id]=re(L({},V),{point:b?R.snap(R.toFixed(R.add(V.point,J)),P):R.toFixed(R.add(V.point,J))})})}else{if(this.cloneInfo.state==="empty")throw Error;let{clones:Ee}=this.cloneInfo;Ee.forEach(Y=>{U[Y.id]={point:b?R.snap(R.toFixed(R.add(Y.point,J)),P):R.toFixed(R.add(Y.point,J))}})}else if(te){if(this.cloneInfo.state==="empty")throw Error;let{clones:Ee,clonedBindings:Y}=this.cloneInfo;this.isCloning=!1,m.forEach(V=>_[V.id]=void 0),Ee.forEach(V=>{V.parentId!==C&&(U[V.parentId]=re(L({},U[V.parentId]),{children:c[V.parentId]}))}),Ee.forEach(V=>U[V.id]=void 0),f.forEach(V=>{U[V.id]={point:b?R.snap(R.toFixed(R.add(V.point,J)),P):R.toFixed(R.add(V.point,J))}});for(let V of Y)_[V.id]=void 0;K.selectedIds=f.map(V=>V.id)}else f.forEach(Ee=>{U[Ee.id]={point:b?R.snap(R.toFixed(R.add(Ee.point,J)),P):R.toFixed(R.add(Ee.point,J))}});return{appState:{snapLines:this.snapLines},document:{pages:{[C]:{shapes:U,bindings:_}},pageStates:{[C]:K}}}}),w(this,"cancel",()=>{let{initialShapes:c,initialSelectedIds:f,bindingsToDelete:g,app:{currentPageId:m}}=this,v={},y={},b={editingId:void 0,hoveredId:void 0};if(this.isCreate?(c.forEach(({id:C})=>y[C]=void 0),b.selectedIds=[]):(c.forEach(({id:C,point:A,handles:x})=>y[C]=x?re(L({},y[C]),{point:A,handles:x}):re(L({},y[C]),{point:A})),b.selectedIds=f,g.forEach(C=>{v[C.id]=C})),this.cloneInfo.state==="ready"){let{clones:C,clonedBindings:A}=this.cloneInfo;C.forEach(x=>y[x.id]=void 0),A.forEach(x=>v[x.id]=void 0)}return{appState:{snapLines:[]},document:{pages:{[m]:{shapes:y,bindings:v}},pageStates:{[m]:b}}}}),w(this,"complete",()=>{let{initialShapes:c,initialParentChildren:f,bindingsToDelete:g,app:{currentPageId:m}}=this,v={},y={},b={},C={};if(this.isCloning){if(this.cloneInfo.state==="empty"&&this.createCloneInfo(),this.cloneInfo.state!=="ready")throw Error;let{clones:A,clonedBindings:x}=this.cloneInfo;A.forEach(D=>{y[D.id]=void 0,C[D.id]=this.app.getShape(D.id),D.parentId!==m&&(y[D.parentId]=re(L({},y[D.parentId]),{children:f[D.parentId]}),C[D.parentId]=re(L({},C[D.parentId]),{children:this.app.getShape(D.parentId).children}))}),x.forEach(D=>{v[D.id]=void 0,b[D.id]=this.app.getBinding(D.id)})}else c.forEach(A=>{y[A.id]=this.isCreate?void 0:re(L({},y[A.id]),{point:A.point}),C[A.id]=L(L({},C[A.id]),this.isCreate?this.app.getShape(A.id):{point:this.app.getShape(A.id).point})});return g.forEach(A=>{var x,D,T,N,k;v[A.id]=A,y[A.fromId]=re(L({},y[A.fromId]),{id:A.fromId,handles:re(L({},(x=y[A.fromId])==null?void 0:x.handles),{[A.handleId]:re(L({},(T=(D=y[A.fromId])==null?void 0:D.handles)==null?void 0:T[A.handleId]),{bindingId:A.id})})}),C[A.fromId]=re(L({},C[A.fromId]),{id:A.fromId,handles:re(L({},C[A.fromId].handles),{[A.handleId]:re(L({},(k=(N=C[A.fromId])==null?void 0:N.handles)==null?void 0:k[A.handleId]),{bindingId:void 0})})})}),g.forEach(A=>b[A.id]=void 0),{id:"translate",before:{appState:{snapLines:[]},document:{pages:{[m]:{shapes:y,bindings:v}},pageStates:{[m]:{selectedIds:this.isCreate?[]:[...this.initialSelectedIds]}}}},after:{appState:{snapLines:[]},document:{pages:{[m]:{shapes:C,bindings:b}},pageStates:{[m]:{selectedIds:[...this.app.selectedIds]}}}}}}),w(this,"createCloneInfo",()=>{let{initialShapes:c,initialParentChildren:f,app:{selectedIds:g,currentPageId:m,page:v}}=this,y={},b={},C=[],A=[];c.forEach(D=>{let T=F.uniqueId();f[T]=f[D.id],y[D.id]=T;let N=re(L({},F.deepClone(D)),{id:T,parentId:D.parentId,childIndex:ie.getChildIndexAbove(this.app.state,D.id,m)});if(N.type==="video"){let k=document.getElementById(D.id+"_video");k&&(N.currentTime=(k.currentTime+16)%k.duration)}A.push(N)}),A.forEach(D=>{D.children!==void 0&&(D.children=D.children.map(T=>y[T]))}),A.forEach(D=>{g.includes(D.parentId)&&(D.parentId=y[D.parentId])});let x=new Set(Object.keys(y));Object.values(v.bindings).filter(D=>x.has(D.fromId)||x.has(D.toId)).forEach(D=>{if(x.has(D.fromId)&&x.has(D.toId)){let T=F.uniqueId(),N=re(L({},F.deepClone(D)),{id:T,fromId:y[D.fromId]||D.fromId,toId:y[D.toId]||D.toId});b[D.id]=T,C.push(N)}}),A.forEach(D=>{if(D.handles&&D.handles)for(let T in D.handles){let N=D.handles[T];N.bindingId=N.bindingId?b[N.bindingId]:void 0}}),A.forEach(D=>{if(v.shapes[D.id])throw Error("uh oh, we didn't clone correctly")}),this.cloneInfo={state:"ready",clones:A,cloneMap:y,clonedBindings:C}}),this.isCreate=t,this.link=n;let{currentPageId:r,selectedIds:i,page:o}=this.app;this.initialSelectedIds=[...i];let u=(n?ie.getLinkedShapeIds(this.app.state,r,n,!1):i).map(c=>this.app.getShape(c)).filter(c=>!c.isLocked),l=new Set(u.map(c=>c.id));this.hasUnlockedShapes=u.length>0,this.initialShapes=Array.from(new Set(u.filter(c=>!l.has(c.parentId)).flatMap(c=>c.children?[c,...c.children.map(f=>this.app.getShape(f))]:[c])).values()),this.initialIds=new Set(this.initialShapes.map(c=>c.id)),this.bindingsToDelete=[],Object.values(o.bindings).filter(c=>this.initialIds.has(c.fromId)||this.initialIds.has(c.toId)).forEach(c=>{this.initialIds.has(c.fromId)&&(this.initialIds.has(c.toId)||this.bindingsToDelete.push(c))}),this.initialParentChildren={},this.initialShapes.map(c=>c.parentId).filter(c=>c!==o.id).forEach(c=>{this.initialParentChildren[c]=this.app.getShape(c).children}),this.initialCommonBounds=F.getCommonBounds(this.initialShapes.map(ie.getRotatedBounds)),this.app.rotationInfo.selectedIds=[...this.app.selectedIds]}},NRe={arrow:SRe,brush:ARe,draw:wRe,erase:DRe,handle:TRe,rotate:RRe,transform:BRe,transformSingle:kRe,translate:MRe,grid:IRe,edit:xRe},PRe=e=>NRe[e],Oi=class extends NH{constructor(e){super(),this.app=e,w(this,"type","select"),w(this,"previous"),w(this,"status","idle"),w(this,"setStatus",t=>{this.status=t,this.app.setStatus(this.status)}),w(this,"onEnter",()=>{this.setStatus("idle")}),w(this,"onExit",()=>{this.setStatus("idle")}),w(this,"onCancel",()=>{this.status==="idle"?this.app.selectTool("select"):this.setStatus("idle"),this.app.cancelSession()}),w(this,"getNextChildIndex",()=>{let{shapes:t,appState:{currentPageId:n}}=this.app;return t.length===0?1:t.filter(r=>r.parentId===n).sort((r,i)=>i.childIndex-r.childIndex)[0].childIndex+1}),w(this,"onPinchStart",()=>{this.app.cancelSession(),this.setStatus("pinching")}),w(this,"onPinchEnd",()=>{F.isMobileSafari()&&this.app.undoSelect(),this.setStatus("idle")}),w(this,"onPinch",(t,n)=>{var r;this.status==="pinching"&&(isNaN(t.delta[0])||isNaN(t.delta[1])||(this.app.pinchZoom(t.point,t.delta,t.delta[2]),(r=this.onPointerMove)==null||r.call(this,t,n)))}),w(this,"onKeyDown",t=>{if(t==="Escape"){this.onCancel();return}if(t==="Meta"||t==="Control"||t==="Alt"){this.app.updateSession();return}}),w(this,"onKeyUp",t=>{if(t==="Meta"||t==="Control"||t==="Alt"){this.app.updateSession();return}}),w(this,"onPointerMove",()=>{this.status==="creating"&&this.app.updateSession()}),w(this,"onPointerUp",()=>{if(this.status==="creating"){this.app.completeSession();let{isToolLocked:t}=this.app.appState;t||this.app.selectTool("select")}this.setStatus("idle")})}},ORe=class extends Oi{constructor(){super(...arguments),w(this,"type","arrow"),w(this,"onPointerDown",()=>{if(this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:r,currentStyle:i}}=this.app,o=this.getNextChildIndex(),u=F.uniqueId(),l=v2.create({id:u,parentId:r,childIndex:o,point:n?le.snap(e,t):e,style:L({},i)});this.app.patchCreate([l]),this.app.startSession("arrow",l.id,"end",!0),this.setStatus("creating")})}},LRe=class extends Oi{constructor(){super(...arguments),w(this,"type","draw"),w(this,"lastShapeId"),w(this,"onEnter",()=>{this.lastShapeId=void 0}),w(this,"onCancel",()=>{switch(this.status){case"idle":{this.app.selectTool("select");break}default:{this.setStatus("idle");break}}this.app.cancelSession()}),w(this,"onPointerDown",e=>{if(this.status!=="idle"||this.app.readOnly)return;let{currentPoint:t,appState:{currentPageId:n,currentStyle:r}}=this.app,i=this.lastShapeId&&this.app.getShape(this.lastShapeId);if(e.shiftKey&&i)this.app.startSession("draw",i.id),this.setStatus("extending");else{let o=this.getNextChildIndex(),u=F.uniqueId(),l=u8.create({id:u,parentId:n,childIndex:o,point:t,style:L({},r)});this.lastShapeId=u,this.app.patchCreate([l]),this.app.startSession("draw",u),this.setStatus("creating")}}),w(this,"onPointerMove",()=>{if(!this.app.readOnly)switch(this.status){case"extending":case"creating":this.app.updateSession()}}),w(this,"onPointerUp",()=>{this.app.completeSession(),this.setStatus("idle")})}},FRe=class extends Oi{constructor(){super(...arguments),w(this,"type","ellipse"),w(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:r,currentStyle:i}}=this.app,o=this.getNextChildIndex(),u=F.uniqueId(),l=s8.create({id:u,parentId:r,childIndex:o,point:n?le.snap(e,t):e,style:L({},i)});this.app.patchCreate([l]),this.app.startSession("transformSingle",l.id,ri.BottomRight,!0),this.setStatus("creating")})}},_Re=class extends Oi{constructor(){super(...arguments),w(this,"type","erase"),w(this,"status","idle"),w(this,"onPointerDown",()=>{this.app.readOnly||this.status==="idle"&&this.setStatus("pointing")}),w(this,"onPointerMove",e=>{if(!this.app.readOnly)switch(this.status){case"pointing":{le.dist(e.origin,e.point)>3&&(this.app.startSession("erase"),this.app.updateSession(),this.setStatus("erasing"));break}case"erasing":this.app.updateSession()}}),w(this,"onPointerUp",()=>{if(!this.app.readOnly){switch(this.status){case"pointing":{let e=this.app.shapes.filter(t=>!t.isLocked).filter(t=>this.app.getShapeUtil(t).hitTestPoint(t,this.app.currentPoint)).flatMap(t=>t.children?[t.id,...t.children]:t.id);this.app.delete(e);break}case"erasing":this.app.completeSession()}this.setStatus("idle")}}),w(this,"onCancel",()=>{this.status==="idle"?this.previous?this.app.selectTool(this.previous):this.app.selectTool("select"):this.setStatus("idle"),this.app.cancelSession()})}},$Re=class extends Oi{constructor(){super(...arguments),w(this,"type","line"),w(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:r,currentStyle:i}}=this.app,o=this.getNextChildIndex(),u=F.uniqueId(),l=v2.create({id:u,parentId:r,childIndex:o,point:n?le.snap(e,t):e,decorations:{start:void 0,end:void 0},style:L({},i)});this.app.patchCreate([l]),this.app.startSession("arrow",l.id,"end",!0),this.setStatus("creating")})}},zRe=class extends Oi{constructor(){super(...arguments),w(this,"type","rectangle"),w(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:r,currentStyle:i}}=this.app,o=this.getNextChildIndex(),u=F.uniqueId(),l=a8.create({id:u,parentId:r,childIndex:o,point:n?le.snap(e,t):e,style:L({},i)});this.app.patchCreate([l]),this.app.startSession("transformSingle",l.id,ri.BottomRight,!0),this.setStatus("creating")})}},VRe=class extends Oi{constructor(){super(...arguments),w(this,"type","select"),w(this,"pointedId"),w(this,"selectedGroupId"),w(this,"pointedHandleId"),w(this,"pointedBoundsHandle"),w(this,"pointedLinkHandleId"),w(this,"onEnter",()=>{this.setStatus("idle")}),w(this,"onExit",()=>{this.setStatus("idle")}),w(this,"clonePaint",e=>{if(this.app.selectedIds.length===0)return;let t=this.app.selectedIds.map(l=>this.app.getShape(l)),n=F.expandBounds(F.getCommonBounds(t.map(ie.getBounds)),16),r=F.getBoundsCenter(n),i=[n.width,n.height],o=[r[0]+i[0]*Math.floor((e[0]+i[0]/2-r[0])/i[0]),r[1]+i[1]*Math.floor((e[1]+i[1]/2-r[1])/i[1])],u=F.centerBounds(n,o);this.app.shapes.some(l=>ie.getShapeUtil(l).hitTestBounds(l,u))||this.app.duplicate(this.app.selectedIds,o)}),w(this,"getShapeClone",(e,t)=>{let n=this.app.getShape(e),r=ie.getShapeUtil(n);if(r.canClone){let i=r.getBounds(n),o=r.getCenter(n),u={top:[i.minX,i.minY-(i.height+32)],right:[i.maxX+32,i.minY],bottom:[i.minX,i.maxY+32],left:[i.minX-(i.width+32),i.minY],topLeft:[i.minX-(i.width+32),i.minY-(i.height+32)],topRight:[i.maxX+32,i.minY-(i.height+32)],bottomLeft:[i.minX-(i.width+32),i.maxY+32],bottomRight:[i.maxX+32,i.maxY+32]}[t];if(n.rotation!==0){let f=le.add(u,[i.width/2,i.height/2]),g=le.rotWith(f,o,n.rotation||0);u=le.sub(g,[i.width/2,i.height/2])}let l=F.uniqueId(),c=re(L({},n),{id:l,point:u});return c.type==="sticky"&&(c.text=""),c}}),w(this,"onCancel",()=>{this.app.session?this.app.cancelSession():this.selectNone(),this.setStatus("idle")}),w(this,"onKeyDown",(e,t,n)=>{switch(e){case"Escape":{this.onCancel();break}case"Tab":{if(this.app.readOnly)return;if(!this.app.pageState.editingId&&this.status==="idle"&&this.app.selectedIds.length===1){let[r]=this.app.selectedIds,i=this.getShapeClone(r,"right");i&&(this.app.createShapes(i),this.setStatus("idle"),i.type==="sticky"&&(this.app.select(i.id),this.app.setEditingId(i.id)))}break}case"Meta":case"Control":case"Alt":{this.app.updateSession();break}case"Enter":{if(this.app.readOnly)return;let{pageState:r}=this.app;r.selectedIds.length===1&&!r.editingId&&(this.app.setEditingId(r.selectedIds[0]),n.preventDefault())}}}),w(this,"onKeyUp",(e,t)=>{if(this.status==="clonePainting"&&!(t.altKey&&t.shiftKey)){this.setStatus("idle");return}if(e==="Meta"||e==="Control"||e==="Alt"){this.app.updateSession();return}}),w(this,"onPointerMove",()=>{let{originPoint:e,currentPoint:t}=this.app;if(this.app.readOnly&&this.app.isPointing){this.app.session?this.app.updateSession():le.dist(e,t)>3&&(this.app.startSession("brush"),this.setStatus("brushing"));return}switch(this.status){case"pointingBoundsHandle":{if(!this.pointedBoundsHandle)throw Error("No pointed bounds handle");if(le.dist(e,t)>3){if(this.pointedBoundsHandle==="rotate")this.setStatus("rotating"),this.app.startSession("rotate");else if(this.pointedBoundsHandle==="center"||this.pointedBoundsHandle==="left"||this.pointedBoundsHandle==="right")this.setStatus("translating"),this.app.startSession("translate",!1,this.pointedBoundsHandle);else{this.setStatus("transforming");let n=this.app.selectedIds.flatMap(r=>ie.getDocumentBranch(this.app.state,r,this.app.currentPageId));n.length===1?this.app.startSession("transformSingle",n[0],this.pointedBoundsHandle):this.app.startSession("transform",this.pointedBoundsHandle)}this.app.updateSession()}break}case"pointingCanvas":{le.dist(e,t)>3&&(this.app.startSession("brush"),this.setStatus("brushing"));break}case"pointingClone":{le.dist(e,t)>3&&(this.setStatus("translatingClone"),this.app.startSession("translate"),this.app.updateSession());break}case"pointingBounds":{le.dist(e,t)>3&&(this.setStatus("translating"),this.app.startSession("translate"),this.app.updateSession());break}case"pointingHandle":{if(!this.pointedHandleId)throw Error("No pointed handle");if(le.dist(e,t)>3){this.setStatus("translatingHandle");let n=this.app.getShape(this.app.selectedIds[0]);n&&(this.pointedHandleId==="bend"?(this.app.startSession("handle",n.id,this.pointedHandleId),this.app.updateSession()):(this.app.startSession("arrow",n.id,this.pointedHandleId,!1),this.app.updateSession()))}break}case"clonePainting":{this.clonePaint(t);break}default:if(this.app.session){this.app.updateSession();break}}}),w(this,"onPointerDown",(e,t)=>{if(e.target==="canvas"&&this.status==="idle"){let{currentPoint:n}=this.app;if(e.spaceKey&&t.buttons===1)return;if(this.status==="idle"&&e.altKey&&e.shiftKey){this.setStatus("clonePainting"),this.clonePaint(n);return}if(!e.shiftKey){if(this.app.onShapeBlur(),e.altKey&&this.app.selectedIds.length>0){this.app.duplicate(this.app.selectedIds,n);return}this.selectNone()}this.setStatus("pointingCanvas")}}),w(this,"onPointerUp",e=>{var t;if(this.status==="translatingClone"||this.status==="pointingClone"){this.pointedId&&(this.app.completeSession(),this.app.setEditingId(this.pointedId)),this.setStatus("idle"),this.pointedId=void 0;return}if(this.status==="pointingBounds"){if(e.target==="bounds")this.selectNone();else if(this.app.isSelected(e.target))e.shiftKey?this.pointedId!==e.target&&this.deselect(e.target):this.pointedId!==e.target&&this.app.selectedIds.length>1&&this.select(e.target);else if(this.pointedId===e.target){if(this.app.getShape(e.target).isLocked)return;e.shiftKey?this.pushSelect(e.target):this.select(e.target)}}this.setStatus("idle"),this.pointedBoundsHandle=void 0,this.pointedHandleId=void 0,this.pointedId=void 0,((t=this.app.session)==null?void 0:t.type)!=="edit"&&this.app.completeSession()}),w(this,"onDoubleClickCanvas",()=>{this.app.readOnly}),w(this,"onPointShape",(e,t)=>{if(e.spaceKey&&t.buttons===1||this.app.getShape(e.target).isLocked)return;let{editingId:n,hoveredId:r}=this.app.pageState;if(n&&e.target!==n&&this.app.onShapeBlur(),(this.status==="idle"||this.status==="pointingBounds")&&e.metaKey&&e.shiftKey&&r){this.pointedId=r,this.app.isSelected(r)?this.deselect(r):(this.pushSelect(r),this.setStatus("pointingBounds"));return}if(this.status==="pointingBounds"){let{parentId:i}=this.app.getShape(e.target);this.pointedId=i===this.app.currentPageId?e.target:i;return}if(this.status==="idle"){if(this.setStatus("pointingBounds"),e.metaKey){e.shiftKey||this.selectNone(),this.app.startSession("brush"),this.setStatus("brushing");return}let i,{parentId:o}=this.app.getShape(e.target);o===this.app.currentPageId?(i=e.target,this.selectedGroupId=void 0):o===this.selectedGroupId?i=e.target:(i=o,this.selectedGroupId=void 0),this.app.isSelected(i)||(this.pointedId=i,e.shiftKey?this.pushSelect(i):this.select(i))}}),w(this,"onDoubleClickShape",e=>{if(this.app.readOnly)return;let t=this.app.getShape(e.target);if(t.isLocked){this.app.select(e.target);return}ie.getShapeUtil(t.type).canEdit&&(t.parentId===this.app.currentPageId||t.parentId===this.selectedGroupId)&&this.app.setEditingId(e.target),t.parentId!==this.app.currentPageId&&(this.selectedGroupId=t.parentId),this.app.select(e.target)}),w(this,"onRightPointShape",e=>{this.app.isSelected(e.target)||this.app.select(e.target)}),w(this,"onHoverShape",e=>{this.app.setHoveredId(e.target)}),w(this,"onUnhoverShape",e=>{let{currentPageId:t}=this.app;requestAnimationFrame(()=>{t===this.app.currentPageId&&this.app.pageState.hoveredId===e.target&&this.app.setHoveredId(void 0)})}),w(this,"onPointBounds",e=>{if(e.metaKey){e.shiftKey||this.selectNone(),this.app.startSession("brush"),this.setStatus("brushing");return}this.setStatus("pointingBounds")}),w(this,"onRightPointBounds",(e,t)=>{t.stopPropagation()}),w(this,"onReleaseBounds",()=>{(this.status==="translating"||this.status==="brushing")&&this.app.completeSession(),this.setStatus("idle")}),w(this,"onPointBoundsHandle",e=>{this.pointedBoundsHandle=e.target,this.setStatus("pointingBoundsHandle")}),w(this,"onDoubleClickBoundsHandle",e=>{switch(e.target){case"center":case"left":case"right":{this.app.select(...ie.getLinkedShapeIds(this.app.state,this.app.currentPageId,e.target,e.shiftKey));break}default:if(this.app.selectedIds.length===1){this.app.resetBounds(this.app.selectedIds);let t=this.app.getShape(this.app.selectedIds[0]);"label"in t&&this.app.setEditingId(t.id)}}}),w(this,"onReleaseBoundsHandle",()=>{this.setStatus("idle")}),w(this,"onPointHandle",e=>{this.pointedHandleId=e.target,this.setStatus("pointingHandle")}),w(this,"onDoubleClickHandle",e=>{if(e.target==="bend"){let{selectedIds:t}=this.app;if(t.length!==1)return;let n=this.app.getShape(t[0]);ie.getShapeUtil(n.type).canEdit&&(n.parentId===this.app.currentPageId||n.parentId===this.selectedGroupId)&&this.app.setEditingId(n.id);return}this.app.toggleDecoration(e.target)}),w(this,"onReleaseHandle",()=>{this.setStatus("idle")}),w(this,"onShapeClone",e=>{let t=this.app.selectedIds[0],n=this.getShapeClone(t,e.target);e.target==="left"||e.target==="right"||e.target==="top"||e.target==="bottom"?n&&(this.app.createShapes(n),this.pointedId=n.id,this.setStatus("pointingClone")):(this.setStatus("gridCloning"),this.app.startSession("grid",t))})}deselect(e){this.app.select(...this.app.selectedIds.filter(t=>t!==e))}select(e){this.app.select(e)}pushSelect(e){let t=this.app.getShape(e);this.app.select(...this.app.selectedIds.filter(n=>n!==t.parentId),e)}selectNone(){this.app.selectNone()}},URe=class extends Oi{constructor(){super(...arguments),w(this,"type","sticky"),w(this,"shapeId"),w(this,"onPointerDown",()=>{if(!this.app.readOnly){if(this.status==="creating"){this.setStatus("idle"),this.app.appState.isToolLocked||this.app.selectTool("select");return}if(this.status==="idle"){let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:r,currentStyle:i}}=this.app,o=this.getNextChildIndex(),u=F.uniqueId();this.shapeId=u;let l=K1.create({id:u,parentId:r,childIndex:o,point:n?le.snap(e,t):e,style:L({},i)}),c=K1.getBounds(l);l.point=le.sub(l.point,[c.width/2,c.height/2]),this.app.patchCreate([l]),this.app.startSession("translate"),this.setStatus("creating")}}}),w(this,"onPointerUp",()=>{this.app.readOnly||this.status==="creating"&&(this.setStatus("idle"),this.app.completeSession(),this.app.selectTool("select"),this.app.setEditingId(this.shapeId))})}},HRe=class extends Oi{constructor(){super(...arguments),w(this,"type","text"),w(this,"stopEditingShape",()=>{this.setStatus("idle"),this.app.appState.isToolLocked||this.app.selectTool("select")}),w(this,"onKeyUp",()=>{}),w(this,"onKeyDown",()=>{}),w(this,"onPointerDown",()=>{if(this.status==="creating"){this.stopEditingShape();return}if(this.status==="idle"){let{currentPoint:e,currentGrid:t,settings:{showGrid:n}}=this.app;this.app.createTextShapeAtPoint(n?le.snap(e,t):e,void 0,!0),this.setStatus("creating");return}}),w(this,"onPointerUp",()=>{}),w(this,"onPointShape",e=>{if(this.app.readOnly)return;let t=this.app.getShape(e.target);t.type==="text"&&(this.setStatus("idle"),this.app.setEditingId(t.id))}),w(this,"onShapeBlur",()=>{this.app.readOnly||this.stopEditingShape()})}},GRe=class extends Oi{constructor(){super(...arguments),w(this,"type","triangle"),w(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:n},appState:{currentPageId:r,currentStyle:i}}=this.app,o=this.getNextChildIndex(),u=F.uniqueId(),l=o8.create({id:u,parentId:r,childIndex:o,point:n?le.snap(e,t):e,style:L({},i)});this.app.patchCreate([l]),this.app.startSession("transformSingle",l.id,ri.BottomRight,!0),this.setStatus("creating")})}},Hm=F.uniqueId(),sn=class extends XTe{constructor(e,t={}){super(sn.defaultState,e,sn.version,(n,r,i)=>ea(re(L({},r),{document:re(L(L({},r.document),n.document),{version:i})}),sn.version)),w(this,"callbacks",{}),w(this,"tools",{select:new VRe(this),erase:new _Re(this),text:new HRe(this),draw:new LRe(this),ellipse:new FRe(this),rectangle:new zRe(this),triangle:new GRe(this),line:new $Re(this),arrow:new ORe(this),sticky:new URe(this)}),w(this,"currentTool",this.tools.select),w(this,"session"),w(this,"readOnly",!1),w(this,"isDirty",!1),w(this,"isCreating",!1),w(this,"originPoint",[0,0]),w(this,"currentPoint",[0,0]),w(this,"previousPoint",[0,0]),w(this,"shiftKey",!1),w(this,"altKey",!1),w(this,"metaKey",!1),w(this,"ctrlKey",!1),w(this,"spaceKey",!1),w(this,"isPointing",!1),w(this,"isForcePanning",!1),w(this,"isErasingWithPen",!1),w(this,"isPastePrevented",!1),w(this,"editingStartTime",-1),w(this,"fileSystemHandle",null),w(this,"viewport",F.getBoundsFromPoints([[0,0],[100,100]])),w(this,"rendererBounds",F.getBoundsFromPoints([[0,0],[100,100]])),w(this,"selectHistory",{stack:[[]],pointer:0}),w(this,"clipboard"),w(this,"rotationInfo",{selectedIds:[],center:[0,0]}),w(this,"migrate",n=>ea(n,sn.version)),w(this,"onReady",()=>{var n,r;this.loadDocument(this.document),d8().then(i=>{this.fileSystemHandle=i});try{this.patchState(re(L({},ea(this.state,sn.version)),{appState:{status:"idle"}}))}catch(i){console.error("The data appears to be corrupted. Resetting!",i),localStorage.setItem(this.document.id+"_corrupted",JSON.stringify(this.document)),this.patchState(re(L({},sn.defaultState),{appState:re(L({},sn.defaultState.appState),{status:"idle"})}))}(r=(n=this.callbacks).onMount)==null||r.call(n,this)}),w(this,"cleanup",(n,r)=>{var i;let o=L({},n);o.document!==r.document&&Object.entries(o.document.pages).forEach(([c,f])=>{if(f===void 0){delete o.document.pages[c],delete o.document.pageStates[c];return}let g=r.document.pages[c],m={};if(!g||f.shapes!==g.shapes||f.bindings!==g.bindings){f.shapes=L({},f.shapes),f.bindings=L({},f.bindings);let y=new Set;Object.entries(f.shapes).forEach(([A,x])=>{var D;let T;x?T=x.parentId:(T=(D=g?.shapes[A])==null?void 0:D.parentId,delete f.shapes[A]),f.id===o.appState.currentPageId&&g?.shapes[A]!==x&&(m[A]=x),T&&T!==c&&f.shapes[T]!==void 0&&y.add(f.shapes[T])}),Object.keys(f.bindings).forEach(A=>{f.bindings[A]||delete f.bindings[A]}),o.document.pages[c]=f;let b=ie.getRelatedBindings(o,Object.keys(m),c),C=new Set;b.forEach(A=>{if(!f.bindings[A.id])return;let x=f.shapes[A.toId],D=f.shapes[A.fromId];if(!(x&&D)){delete o.document.pages[c].bindings[A.id];return}if(C.has(D))return;let T=ie.updateArrowBindings(f,D);if(C.add(D),T){let N=L(L({},D),T);f.shapes[D.id]=N}}),y.forEach(A=>{if(!A)throw Error("no group!");let x=A.children.filter(T=>f.shapes[T]!==void 0),D=F.getCommonBounds(x.map(T=>f.shapes[T]).filter(Boolean).map(T=>ie.getRotatedBounds(T)));f.shapes[A.id]=re(L({},A),{point:[D.minX,D.minY],size:[D.width,D.height],children:x})})}let v=L({},o.document.pageStates[c]);v.brush||delete v.brush,v.hoveredId&&!f.shapes[v.hoveredId]&&delete v.hoveredId,v.bindingId&&!f.bindings[v.bindingId]&&(ie.warn(`Could not find the binding of ${c}`),delete v.bindingId),v.editingId&&!f.shapes[v.editingId]&&(ie.warn("Could not find the editing shape!"),delete v.editingId),o.document.pageStates[c]=v}),Object.keys((i=o.document.assets)!=null?i:{}).forEach(c=>{var f,g;(f=o.document.assets)!=null&&f[c]||(g=o.document.assets)==null||delete g[c]});let u=o.appState.currentPageId,l=o.document.pageStates[u];if(o.room&&o.room!==r.room){let c=re(L({},o.room),{users:L({},o.room.users)});r.room&&Object.values(r.room.users).filter(Boolean).forEach(f=>{c.users[f.id]===void 0&&delete c.users[f.id]}),o.room=c}return o.room&&(o.room.users[o.room.userId]=re(L({},o.room.users[o.room.userId]),{point:this.currentPoint,selectedIds:l.selectedIds})),this.readOnly&&(o.document.pages=r.document.pages),o}),w(this,"broadcastPatch",(n,r)=>{var i,o,u,l,c,f,g,m,v;let y={},b={},C={},A=(u=(o=(i=n?.document)==null?void 0:i.pages)==null?void 0:o[this.currentPageId])==null?void 0:u.shapes,x=(f=(c=(l=n?.document)==null?void 0:l.pages)==null?void 0:c[this.currentPageId])==null?void 0:f.bindings,D=(g=n?.document)==null?void 0:g.assets;A&&Object.keys(A).forEach(T=>{y[T]=this.getShape(T,this.currentPageId)}),x&&Object.keys(x).forEach(T=>{b[T]=this.getBinding(T,this.currentPageId)}),D&&Object.keys(D).forEach(T=>{C[T]=this.document.assets[T]}),(v=(m=this.callbacks).onChangePage)==null||v.call(m,this,y,b,C,r)}),w(this,"onPatch",(n,r,i)=>{var o,u,l,c,f,g;(this.callbacks.onChangePage&&((u=(o=r?.document)==null?void 0:o.pages)!=null&&u[this.currentPageId])||(l=r?.document)!=null&&l.assets)&&((c=r?.document)!=null&&c.assets||this.session&&this.session.type!=="brush"&&this.session.type!=="erase"&&this.session.type!=="draw")&&this.broadcastPatch(r,!1),(g=(f=this.callbacks).onPatch)==null||g.call(f,this,r,i)}),w(this,"onCommand",(n,r,i)=>{var o,u;this.clearSelectHistory(),this.isDirty=!0,(u=(o=this.callbacks).onCommand)==null||u.call(o,this,r,i)}),w(this,"onReplace",()=>{this.clearSelectHistory(),this.isDirty=!1}),w(this,"onUndo",()=>{var n,r;this.rotationInfo.selectedIds=[...this.selectedIds],(r=(n=this.callbacks).onUndo)==null||r.call(n,this)}),w(this,"onRedo",()=>{var n,r;this.rotationInfo.selectedIds=[...this.selectedIds],(r=(n=this.callbacks).onRedo)==null||r.call(n,this)}),w(this,"onPersist",(n,r)=>{var i,o;(o=(i=this.callbacks).onPersist)==null||o.call(i,this),this.broadcastPatch(r,!0)}),w(this,"prevSelectedIds",this.selectedIds),w(this,"onStateDidChange",(n,r)=>{var i,o,u,l;(o=(i=this.callbacks).onChange)==null||o.call(i,this,r),this.room&&this.selectedIds!==this.prevSelectedIds&&((l=(u=this.callbacks).onChangePresence)==null||l.call(u,this,re(L({},this.room.users[this.room.userId]),{selectedIds:this.selectedIds,session:!!this.session})),this.prevSelectedIds=this.selectedIds)}),w(this,"preventPaste",()=>{if(this.isPastePrevented)return;let n=i=>i.stopImmediatePropagation(),r=()=>{setTimeout(()=>{document.removeEventListener("paste",n,{capture:!0}),this.isPastePrevented=!1},50)};document.addEventListener("paste",n,{capture:!0}),window.addEventListener("pointerup",r,{once:!0}),this.isPastePrevented=!0}),w(this,"justSent",!1),w(this,"getReservedContent",(n,r=this.currentPageId)=>{let{bindings:i}=this.document.pages[r],o={},u={},l=Object.values(i),c=new Map(l.map(b=>[b.toId,b])),f=new Map(l.map(b=>[b.fromId,b])),g=[c,f],m=[];this.session&&n.forEach(b=>m.push(b)),this.pageState.editingId&&m.push(this.pageState.editingId);let v=new Set(m),y=new Set;for(;m.length>0;){let b=m.pop();if(!b)break;if(y.has(b))continue;y.add(b);let C=this.getShape(b);o[b]=C,C.parentId!==r&&m.push(C.parentId),C.children&&m.push(...C.children),g.map(A=>A.get(C.id)).filter(Boolean).forEach(A=>{u[A.id]=A,m.push(A.toId,A.fromId)})}return{reservedShapes:o,reservedBindings:u,strongReservedShapeIds:v}}),w(this,"replacePageContent",(n,r,i,o=this.currentPageId)=>{if(this.justSent)return this.justSent=!1,this;let u=this.document.pages[this.currentPageId];return Object.values(n).forEach(l=>{l.parentId!==o&&!(u.shapes[l.parentId]||n[l.parentId])&&(console.warn("Added a shape without a parent on the page"),l.parentId=o)}),this.useStore.setState(l=>{let{hoveredId:c,editingId:f,bindingId:g,selectedIds:m}=l.document.pageStates[o],v=[...m],y=f&&l.document.pages[this.currentPageId].shapes[f];y&&v.push(y.id);let{reservedShapes:b,reservedBindings:C,strongReservedShapeIds:A}=this.getReservedContent(v,this.currentPageId);Object.values(b).filter(P=>!("text"in P)).forEach(P=>{let _=n[P.id];if(_){if(!(P.type==="arrow"||A.has(P.id))){n[P.id]=_;return}"decorations"in _&&"decorations"in P&&(n[P.id]=re(L({},P),{decorations:_.decorations})),P.style=_.style}});let x=L(L({},n),b);y&&(x[y.id]=y);let D=L(L({},r),C),T=L({},i),N=re(L({},l),{document:re(L({},l.document),{pages:{[o]:re(L({},l.document.pages[o]),{shapes:x,bindings:D})},assets:T,pageStates:re(L({},l.document.pageStates),{[o]:re(L({},l.document.pageStates[o]),{selectedIds:m.filter(P=>x[P]!==void 0),hoveredId:c?x[c]===void 0?void 0:c:void 0,editingId:f,bindingId:g?D[g]===void 0?void 0:g:void 0})})})}),k=N.document.pages[o],M=ie.getRelatedBindings(N,Object.keys(x),o),B=new Set;return M.forEach(P=>{if(!k.bindings[P.id])return;let _=k.shapes[P.fromId];if(B.has(_))return;let U=ie.updateArrowBindings(k,_);if(B.add(_),U){let K=L(L({},_),U);k.shapes[_.id]=K}}),Object.values(x).forEach(P=>{if(P.type!=="group")return;let _=P.children.filter(K=>k.shapes[K]!==void 0),U=F.getCommonBounds(_.map(K=>k.shapes[K]).filter(Boolean).map(K=>ie.getRotatedBounds(K)));k.shapes[P.id]=re(L({},P),{point:[U.minX,U.minY],size:[U.width,U.height],children:_})}),this.state.document=N.document,N},!0),this}),w(this,"updateBounds",n=>{this.rendererBounds=n;let{point:r,zoom:i}=this.camera;this.updateViewport(r,i),!this.readOnly&&this.session&&this.session.update()}),w(this,"updateViewport",(n,r)=>{let{width:i,height:o}=this.rendererBounds,[u,l]=R.sub(R.div([0,0],r),n),[c,f]=R.sub(R.div([i,o],r),n);this.viewport={minX:u,minY:l,maxX:c,maxY:f,height:c-u,width:f-l}}),w(this,"setEditingId",(n,r=!1)=>{if(!this.readOnly){if(n)this.startSession("edit",n,r);else{if(!this.pageState.editingId)return;this.completeSession()}this.editingStartTime=performance.now(),this.patchState({document:{pageStates:{[this.currentPageId]:{editingId:n}}}},"set_editing_id")}}),w(this,"setHoveredId",n=>{this.patchState({document:{pageStates:{[this.currentPageId]:{hoveredId:n}}}},"set_hovered_id")}),w(this,"setSetting",(n,r)=>{if(this.session)return this;let i={settings:{[n]:typeof r=="function"?r(this.settings[n]):r}};return this.patchState(i,`settings:${n}`),this.persist(i),this}),w(this,"toggleFocusMode",()=>{if(this.session)return this;let n={settings:{isFocusMode:!this.settings.isFocusMode}};return this.patchState(n,"settings:toggled_focus_mode"),this.persist(n),this}),w(this,"togglePenMode",()=>{if(this.session)return this;let n={settings:{isPenMode:!this.settings.isPenMode}};return this.patchState(n,"settings:toggled_pen_mode"),this.persist(n),this}),w(this,"toggleDarkMode",()=>{if(this.session)return this;let n={settings:{isDarkMode:!this.settings.isDarkMode}};return this.patchState(n,"settings:toggled_dark_mode"),this.persist(n),this}),w(this,"toggleZoomSnap",()=>{if(this.session)return this;let n={settings:{isZoomSnap:!this.settings.isZoomSnap}};return this.patchState(n,"settings:toggled_zoom_snap"),this.persist(n),this}),w(this,"toggleDebugMode",()=>{if(this.session)return this;let n={settings:{isDebugMode:!this.settings.isDebugMode}};return this.patchState(n,"settings:toggled_debug"),this.persist(n),this}),w(this,"setMenuOpen",n=>{let r={appState:{isMenuOpen:n}};return this.patchState(r,"ui:toggled_menu_opened"),this.persist(r),this}),w(this,"setIsLoading",n=>{let r={appState:{isLoading:n}};return this.patchState(r,"ui:toggled_is_loading"),this.persist(r),this}),w(this,"setDisableAssets",n=>(this.patchState({appState:{disableAssets:n}},"ui:toggled_disable_images"),this)),w(this,"toggleGrid",()=>{if(this.session)return this;let n={settings:{showGrid:!this.settings.showGrid}};return this.patchState(n,"settings:toggled_grid"),this.persist(n),this}),w(this,"selectTool",n=>{if(this.readOnly||this.session)return this;this.isPointing=!1;let r=this.tools[n];return r===this.currentTool?(this.patchState({appState:{isToolLocked:!1}}),this):(this.currentTool.onExit(),r.previous=this.currentTool.type,this.currentTool=r,this.currentTool.onEnter(),this.patchState({appState:{activeTool:n,isToolLocked:!1}},`selected_tool:${n}`))}),w(this,"toggleToolLock",()=>this.session?this:this.patchState({appState:{isToolLocked:!this.appState.isToolLocked}},"toggled_tool_lock")),w(this,"resetDocument",()=>{if(this.session)return this;this.session=void 0,this.currentTool=this.tools.select;let n=sn.defaultDocument;return n.pages.page.name="Page 1",this.resetHistory().clearSelectHistory().loadDocument(sn.defaultDocument).persist({}),this}),w(this,"updateUsers",(n,r=!1)=>{this.patchState({room:{users:Object.fromEntries(n.map(i=>[i.id,i]))}},r?"room:self:update":"room:user:update")}),w(this,"removeUser",n=>{this.patchState({room:{users:{[n]:void 0}}})}),w(this,"mergeDocument",n=>{if(this.document.id!==n.id)return this.replaceState(re(L({},ea(re(L({},this.state),{document:n}),sn.version)),{appState:re(L({},this.appState),{currentPageId:Object.keys(n.pages)[0]})})),this;let r=L({},this.document.pageStates),i=re(L({},this.appState),{currentPageId:n.pages[this.currentPageId]?this.currentPageId:Object.keys(n.pages)[0],pages:Object.values(n.pages).map((u,l)=>({id:u.id,name:u.name,childIndex:u.childIndex||l}))});this.resetHistory(),Object.keys(this.document.pages).forEach(u=>{n.pages[u]||(u===this.appState.currentPageId&&(this.cancelSession(),this.selectNone()),r[u]=void 0)}),this.session&&this.selectedIds.filter(u=>!n.pages[this.currentPageId].shapes[u]).forEach(u=>n.pages[this.currentPageId].shapes[u]=this.page.shapes[u]),Object.entries(r).forEach(([u,l])=>{l.selectedIds=l.selectedIds.filter(c=>!!n.pages[u].shapes[c])});let{editingId:o}=this.pageState;return o&&(n.pages[this.currentPageId].shapes[o]=this.page.shapes[o],r[this.currentPageId].selectedIds=[o]),this.replaceState(re(L({},ea(re(L({},this.state),{document:re(L({},n),{pageStates:r})}),sn.version)),{appState:i}),"merge")}),w(this,"updateDocument",(n,r="updated_document")=>{let i=this.state,o=re(L({},i),{document:re(L({},i.document),{assets:n.assets})});n.pages[this.currentPageId]||(o.appState=re(L({},i.appState),{currentPageId:Object.keys(n.pages)[0]}));let u=1;for(let l of Object.values(n.pages))l!==i.document.pages[l.id]&&(o.document.pages[l.id]=l,l.name||(o.document.pages[l.id].name=`Page ${u+1}`,u++));for(let l of Object.values(n.pageStates))if(l!==i.document.pageStates[l.id]){o.document.pageStates[l.id]=l;let c=n.pages[l.id],f=["bindingId","editingId","hoveredId","pointedId"];for(let g of f)c.shapes[g]||(l[g]=void 0);l.selectedIds=l.selectedIds.filter(g=>!!n.pages[c.id].shapes[g])}return this.replaceState(ea(o,o.document.version||0),`${r}:${n.id}`)}),w(this,"loadRoom",n=>(this.patchState({room:{id:n,userId:Hm,users:{[Hm]:{id:Hm,color:E9[Math.floor(Math.random()*E9.length)],point:[100,100],selectedIds:[],activeShapes:[]}}}}),this)),w(this,"loadDocument",n=>{this.setIsLoading(!0),this.selectNone(),this.resetHistory(),this.clearSelectHistory(),this.session=void 0;let r=re(L({},sn.defaultState),{settings:L({},this.state.settings),document:n,appState:re(L(L({},sn.defaultState.appState),this.state.appState),{currentPageId:Object.keys(n.pages)[0],disableAssets:this.disableAssets})});this.replaceState(ea(r,sn.version),"loaded_document");let{point:i,zoom:o}=this.camera;return this.updateViewport(i,o),this.setIsLoading(!1),this}),w(this,"loadPageFromURL",(n,r)=>{let i=n.id,o=re(L({},this.state.document),{pageStates:re(L({},this.state.document.pageStates),{[i]:r}),pages:re(L({},this.document.pages),{[i]:n})});this.loadDocument(o),this.persist({})}),w(this,"newProject",()=>{!this.isLocal||(this.fileSystemHandle=null,this.resetDocument())}),w(this,"saveProject",()=>Fe(this,null,function*(){if(this.readOnly)return;let n=yield Y1(ea(this.state,sn.version).document,this.fileSystemHandle);return this.fileSystemHandle=n,this.persist({}),this.isDirty=!1,this})),w(this,"saveProjectAs",n=>Fe(this,null,function*(){try{let r=yield Y1(this.document,null,n);this.fileSystemHandle=r,this.persist({}),this.isDirty=!1}catch(r){console.error(r.message)}return this})),w(this,"openProject",()=>Fe(this,null,function*(){if(this.isLocal)try{let n=yield h8();if(!n)throw Error();let{fileHandle:r,document:i}=n;this.loadDocument(i),this.fileSystemHandle=r,this.zoomToFit(),this.persist({})}catch(n){console.error(n)}finally{this.persist({})}})),w(this,"openAsset",()=>Fe(this,null,function*(){if(!this.disableAssets)try{let n=yield f8();if(Array.isArray(n))this.addMediaFromFiles(n,this.centerPoint);else{if(!n)return;this.addMediaFromFiles([n])}}catch(n){console.error(n)}finally{this.persist({})}})),w(this,"signOut",()=>{}),w(this,"getAppState",()=>this.appState),w(this,"getPage",(n=this.currentPageId)=>ie.getPage(this.state,n||this.currentPageId)),w(this,"getShapes",(n=this.currentPageId)=>ie.getShapes(this.state,n||this.currentPageId)),w(this,"getBindings",(n=this.currentPageId)=>ie.getBindings(this.state,n||this.currentPageId)),w(this,"getShape",(n,r=this.currentPageId)=>ie.getShape(this.state,n,r)),w(this,"getShapeBounds",(n,r=this.currentPageId)=>ie.getBounds(this.getShape(n,r))),w(this,"getBinding",(n,r=this.currentPageId)=>ie.getBinding(this.state,n,r)),w(this,"getPageState",(n=this.currentPageId)=>ie.getPageState(this.state,n||this.currentPageId)),w(this,"getPagePoint",(n,r=this.currentPageId)=>{let{camera:i}=this.getPageState(r);return R.sub(R.div(n,i.zoom),i.point)}),w(this,"createPage",(n,r)=>{if(this.readOnly)return this;let{width:i,height:o}=this.rendererBounds;return this.setState(tRe(this,[-i/2,-o/2],n,r))}),w(this,"changePage",n=>this.setState(qTe(this,n))),w(this,"movePage",(n,r)=>this.readOnly?this:this.setState(cRe(this,n,r))),w(this,"renamePage",(n,r)=>this.readOnly?this:this.setState(dRe(this,n,r))),w(this,"duplicatePage",n=>this.readOnly?this:this.setState(oRe(this,n))),w(this,"deletePage",n=>this.readOnly?this:Object.values(this.document.pages).length<=1?this:this.setState(nRe(this,n||this.currentPageId))),w(this,"cut",(n=this.selectedIds,r)=>(r?.preventDefault(),this.copy(n,r),this.readOnly||this.delete(n),this)),w(this,"copy",(n=this.selectedIds,r)=>{var i;r?.preventDefault(),this.clipboard=this.getContent(n);let o=`<tldraw>${JSON.stringify(L({type:"tldr/clipboard"},this.clipboard))}</tldraw>`;return ZTe(o),r&&((i=r.clipboardData)==null||i.setData("text/html",o)),navigator.clipboard&&window.ClipboardItem&&navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([o],{type:"text/html"})})]),this}),w(this,"paste",(n,r)=>Fe(this,null,function*(){var i,o;if(this.readOnly)return;let u=[],l=[],c,f=v=>Fe(this,null,function*(){let y=document.createElement("div");y.innerHTML=v;let b=y.firstChild;b.style.setProperty("background-color","transparent");let C=yield ie.getImageForSvg(b,"svg",{scale:1,quality:1});if(C){let A=new File([C],"image.svg");u.push(A)}else g(v)}),g=v=>{let y=this.getPagePoint(n??this.centerPoint,this.currentPageId),b=v.includes(`
`);l.push(ie.getShapeUtil("text").getShape({id:F.uniqueId(),type:"text",parentId:this.appState.currentPageId,text:ie.normalizeText(v.trim()),point:y,style:re(L({},this.appState.currentStyle),{textAlign:b?"start":this.appState.currentStyle.textAlign})}))},m=v=>{var y;try{let b=(y=v.match(/<tldraw>(.*)<\/tldraw>/))==null?void 0:y[1];if(!b)return;let C=JSON.parse(b);if(C.type==="tldr/clipboard"){c=C;return}else throw Error("Not tldraw data!")}catch{g(v)}};if(r!==void 0){let v=Array.from((o=(i=r.clipboardData)==null?void 0:i.items)!=null?o:[]);yield Promise.all(v.map(y=>Fe(this,null,function*(){var b;let{type:C,kind:A}=y;switch(A){case"string":{let x=yield new Promise(D=>y.getAsString(D));switch(C){case"text/html":{if((b=x.match(/<tldraw>(.*)<\/tldraw>/))!=null&&b[1]){m(x);return}break}case"text/plain":{x.startsWith("<svg")?yield f(x):g(x);break}}break}case"file":{let x=y.getAsFile();x&&u.push(x);break}}})))}if(c)return this.insertContent(c,{point:n,select:!0}),this;if(u.length)return this.addMediaFromFiles(u,n),this;if(l.length){let v=this.getPagePoint(n??this.centerPoint,this.currentPageId),y=R.add(v,[0,0]);return l.forEach((b,C)=>{let A=ie.getBounds(b);C===0&&(y[0]-=A.width/2,y[1]-=A.height/2),b.point=[...y],y[0]+=A.width}),this.createShapes(...l),this}return this.clipboard?this.insertContent(this.clipboard):WTe().then(v=>{v&&m(v)}),this})),w(this,"getSvg",(...n)=>Fe(this,[...n],function*(r=this.selectedIds.length?this.selectedIds:Object.keys(this.page.shapes),i={}){if(r.length===0)return;let o=document.createElementNS("http://www.w3.org/2000/svg","svg"),u=document.createElementNS("http://www.w3.org/2000/svg","defs"),l=document.createElementNS("http://www.w3.org/2000/svg","style");if(typeof window<"u"&&window.focus(),i.includeFonts)try{let{fonts:b}=yield fetch(sn.assetSrc,{mode:"no-cors"}).then(C=>C.json());l.textContent=`
          @font-face {
            font-family: 'Caveat Brush';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${b.caveat}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          @font-face {
            font-family: 'Source Code Pro';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${b.source_code_pro}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          @font-face {
            font-family: 'Source Sans Pro';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${b.source_sans_pro}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          @font-face {
            font-family: 'Crimson Pro';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${b.crimson_pro}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          `}catch{ie.warn("Could not find tldraw-assets.json file.")}else l.textContent="@import url('https://fonts.googleapis.com/css2?family=Caveat+Brush&family=Source+Code+Pro&family=Source+Sans+Pro&family=Crimson+Pro&display=block');";u.append(l),o.append(u);let c=r.map(b=>this.getShape(b,this.currentPageId)).sort((b,C)=>b.childIndex-C.childIndex),f=F.getCommonBounds(c.map(ie.getRotatedBounds)),g=b=>{let C=ie.getShapeUtil(b),A=C.getBounds(b),x=C.getSvgElement(b,this.settings.isDarkMode);if(x)return b.type==="image"?x.setAttribute("xlink:href",this.document.assets[b.assetId].src):b.type==="video"&&x.setAttribute("xlink:href",this.serializeVideo(b.id)),x.setAttribute("transform",`translate(${(16+b.point[0]-f.minX).toFixed(2)}, ${(16+b.point[1]-f.minY).toFixed(2)}) rotate(${((b.rotation||0)*180/Math.PI).toFixed(2)}, ${(A.width/2).toFixed(2)}, ${(A.height/2).toFixed(2)})`),x};c.forEach(b=>{var C;if((C=b.children)!=null&&C.length){let x=document.createElementNS("http://www.w3.org/2000/svg","g");b.children.forEach(D=>{let T=this.getShape(D,this.currentPageId),N=g(T);N&&x.append(N)}),o.append(x);return}let A=g(b);A&&o.append(A)}),o.setAttribute("viewBox",[0,0,f.width+32,f.height+32].join(" ")),o.setAttribute("width",(f.width+32).toString()),o.setAttribute("height",(f.height+32).toString());let m=this.settings.exportBackground,v="#212529",y="rgb(248, 249, 250)";switch(m){case"auto":{o.style.setProperty("background-color",this.settings.isDarkMode?v:y);break}case"dark":{o.style.setProperty("background-color",v);break}case"light":{o.style.setProperty("background-color",y);break}case"transparent":default:{o.style.setProperty("background-color","transparent");break}}return o.querySelectorAll(".tl-fill-hitarea, .tl-stroke-hitarea, .tl-binding-indicator").forEach(b=>b.remove()),o})),w(this,"copySvg",(...n)=>Fe(this,[...n],function*(r=this.selectedIds.length?this.selectedIds:Object.keys(this.page.shapes)){if(r.length===0)return;let i=yield this.getSvg(r);if(!i)return;let o=ie.getSvgString(i,1);this.clipboard=this.getContent(r);let u=JSON.stringify(L({type:"tldr/clipboard"},this.clipboard));return navigator.clipboard&&window.ClipboardItem&&navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([u],{type:"text/html"}),"text/plain":new Blob([o],{type:"text/plain"})})]),o})),w(this,"getContent",n=>{let r=this.getPage(this.currentPageId);if(n&&n.length===0||(n||(n=this.selectedIds),n.length===0&&(n=Object.keys(r.shapes)),n.length===0))return;let i=n.map(c=>r.shapes[c]).flatMap(c=>{var f;return[c,...((f=c.children)!=null?f:[]).map(g=>r.shapes[g])]}).map(hr),o=new Set(i.map(c=>c.id));i.forEach(c=>{c.parentId===this.currentPageId&&(c.parentId="currentPageId")});let u=Object.values(r.bindings).filter(c=>{if(o.has(c.fromId)||o.has(c.toId))return!0;if(o.has(c.fromId)){let f=i.find(g=>g.id===c.fromId).handles;f&&Object.values(f).forEach(g=>{g.bindingId===c.id&&(g.bindingId=void 0)})}if(o.has(c.toId)){let f=i.find(g=>g.id===c.toId).handles;f&&Object.values(f).forEach(g=>{g.bindingId===c.id&&(g.bindingId=void 0)})}return!1}).map(hr),l=[...new Set(i.map(c=>{if(c.assetId)return this.document.assets[c.assetId]}).filter(Boolean).map(hr))];return{shapes:i,bindings:u,assets:l}}),w(this,"copyJson",(n=this.selectedIds)=>{let r=this.getContent(n);return r&&ie.copyStringToClipboard(JSON.stringify(r)),this}),w(this,"exportJson",(n=this.selectedIds)=>{let r=this.getContent(n);if(r){let i=new Blob([JSON.stringify(r)],{type:"application/json"}),o=URL.createObjectURL(i),u=document.createElement("a");u.href=o,u.download="export.json",u.click()}return this}),w(this,"insertContent",(n,r={})=>this.setState(bRe(this,n,r),"insert_content")),w(this,"getImage",(...n)=>Fe(this,[...n],function*(r="png",i={}){let{ids:o=this.selectedIds.length?this.selectedIds:Object.keys(this.page.shapes)}=i,u=yield this.getSvg(o,{includeFonts:r!=="svg"});if(!u)return;if(r==="svg"){let c=ie.getSvgString(u,1);return new Blob([c],{type:"image/svg+xml"})}let l=yield ie.getImageForSvg(u,r,i);if(l)return l})),w(this,"copyImage",(...n)=>Fe(this,[...n],function*(r="png",i={}){if(r==="svg"){this.copySvg(i.ids);return}if(!(navigator.clipboard&&window.ClipboardItem)){console.warn("Sorry, your browser does not support copying images.");return}let o=yield this.getImage(r,i);!o||navigator.clipboard.write([new ClipboardItem({[o.type]:o})])})),w(this,"exportImage",(...n)=>Fe(this,[...n],function*(r="png",i={}){var o;let{pageId:u=this.currentPageId}=i,l=yield this.getImage(r,i);if(!l)return;let c=(o=this.document.pages[u].name)!=null?o:"export";if(this.callbacks.onExport)this.callbacks.onExport(this,{name:c,type:r,blob:l});else{let f=URL.createObjectURL(l),g=document.createElement("a");g.href=f,g.download=`${c}.${r}`,g.click()}})),w(this,"setCamera",(n,r,i)=>(this.updateViewport(n,r),this.patchState({document:{pageStates:{[this.currentPageId]:{camera:{point:n,zoom:r}}}}},i),this)),w(this,"resetCamera",()=>this.setCamera(this.centerPoint,1,"reset_camera")),w(this,"pan",n=>{let{camera:r}=this.pageState;return this.setCamera(R.toFixed(R.sub(r.point,n)),r.zoom,"panned")}),w(this,"pinchZoom",(n,r,i)=>{let{camera:o}=this.pageState,u=R.sub(o.point,R.div(r,o.zoom)),l=i,c=R.sub(R.div(n,o.zoom),u),f=R.sub(R.div(n,l),u);return this.setCamera(R.toFixed(R.add(u,R.sub(f,c))),l,"pinch_zoomed")}),w(this,"zoomTo",(n,r=this.centerPoint)=>{let{zoom:i,point:o}=this.camera,u=R.sub(R.div(r,i),o),l=R.sub(R.div(r,n),o);return this.setCamera(R.toFixed(R.add(o,R.sub(l,u))),n,"zoomed_camera")}),w(this,"zoomIn",()=>{let n=Math.round(this.camera.zoom*100/25),r=ie.getCameraZoom((n+1)*.25);return this.zoomTo(r)}),w(this,"zoomOut",()=>{let n=Math.round(this.camera.zoom*100/25),r=ie.getCameraZoom((n-1)*.25);return this.zoomTo(r)}),w(this,"zoomToFit",()=>{let{shapes:n,pageState:{camera:r}}=this;if(n.length===0)return this;let{rendererBounds:i}=this,o=F.getCommonBounds(n.map(ie.getBounds)),u=ie.getCameraZoom(Math.min((i.width-128)/o.width,(i.height-128)/o.height));u=r.zoom===u||r.zoom<1?Math.min(1,u):u;let l=(i.width-o.width*u)/2/u,c=(i.height-o.height*u)/2/u;return this.setCamera(R.toFixed(R.sub([l,c],[o.minX,o.minY])),u,"zoomed_to_fit")}),w(this,"zoomToSelection",()=>{if(this.selectedIds.length===0)return this;let{rendererBounds:n}=this,r=ie.getSelectedBounds(this.state),i=ie.getCameraZoom(Math.min((n.width-128)/r.width,(n.height-128)/r.height));i=this.camera.zoom===i||this.camera.zoom<1?Math.min(1,i):i;let o=(n.width-r.width*i)/2/i,u=(n.height-r.height*i)/2/i;return this.setCamera(R.toFixed(R.sub([o,u],[r.minX,r.minY])),i,"zoomed_to_selection")}),w(this,"zoomToContent",()=>{let n=this.shapes,r=this.pageState;if(n.length===0)return this;let{rendererBounds:i}=this,{zoom:o}=r.camera,u=F.getCommonBounds(n.map(ie.getBounds)),l=(i.width-u.width*o)/2/o,c=(i.height-u.height*o)/2/o;return this.setCamera(R.toFixed(R.sub([l,c],[u.minX,u.minY])),this.camera.zoom,"zoomed_to_content")}),w(this,"resetZoom",()=>this.zoomTo(1)),w(this,"zoomBy",F.throttle((n,r)=>{let{zoom:i}=this.camera,o=ie.getCameraZoom(i-n*i);return this.zoomTo(o,r)},16)),w(this,"clearSelectHistory",()=>(this.selectHistory.pointer=0,this.selectHistory.stack=[this.selectedIds],this)),w(this,"addToSelectHistory",n=>(this.selectHistory.pointer<this.selectHistory.stack.length&&(this.selectHistory.stack=this.selectHistory.stack.slice(0,this.selectHistory.pointer+1)),this.selectHistory.pointer++,this.selectHistory.stack.push(n),this)),w(this,"setSelectedIds",(n,r=!1)=>{let i=r?[...this.pageState.selectedIds,...n]:[...n];return this.patchState({appState:{activeTool:"select"},document:{pageStates:{[this.currentPageId]:{selectedIds:i}}}},"selected")}),w(this,"undoSelect",()=>(this.selectHistory.pointer>0&&(this.selectHistory.pointer--,this.setSelectedIds(this.selectHistory.stack[this.selectHistory.pointer])),this)),w(this,"redoSelect",()=>(this.selectHistory.pointer<this.selectHistory.stack.length-1&&(this.selectHistory.pointer++,this.setSelectedIds(this.selectHistory.stack[this.selectHistory.pointer])),this)),w(this,"select",(...n)=>(n.forEach(r=>{if(!this.page.shapes[r])throw Error(`That shape does not exist on page ${this.currentPageId}`)}),this.setSelectedIds(n),this.addToSelectHistory(n),this)),w(this,"selectAll",(n=this.currentPageId)=>this.session?this:(this.setSelectedIds(Object.values(this.document.pages[n].shapes).filter(r=>r.parentId===n).map(r=>r.id)),this.addToSelectHistory(this.selectedIds),this.selectTool("select"),this)),w(this,"selectNone",()=>(this.setSelectedIds([]),this.addToSelectHistory(this.selectedIds),this)),w(this,"startSession",(n,...r)=>{var i,o;if(this.readOnly&&n!=="brush")return this;this.session&&(ie.warn(`Already in a session! (${this.session.constructor.name})`),this.cancelSession());let u=PRe(n);this.session=new u(this,...r);let l=this.session.start();return l&&this.patchState(l,`session:start_${this.session.constructor.name}`),(o=(i=this.callbacks).onSessionStart)==null||o.call(i,this,this.session.constructor.name),this}),w(this,"updateSession",()=>{let{session:n}=this;if(!n)return this;let r=n.update();return r?this.patchState(r,`session:${n?.constructor.name}`):this}),w(this,"cancelSession",()=>{var n,r;let{session:i}=this;if(!i)return this;this.session=void 0;let o=i.cancel();return o&&this.patchState(o,`session:cancel:${i.constructor.name}`),this.setEditingId(),(r=(n=this.callbacks).onSessionEnd)==null||r.call(n,this,i.constructor.name),this}),w(this,"completeSession",()=>{var n,r,i,o,u,l,c,f,g;let{session:m}=this;if(!m)return this;this.session=void 0;let v=m.complete();if(v===void 0)this.isCreating=!1,this.patchState({appState:{status:"idle"},document:{pageStates:{[this.currentPageId]:{editingId:void 0,bindingId:void 0,hoveredId:void 0}}}},`session:complete:${m.constructor.name}`);else if("after"in v){if(this.isCreating){if(v.before={appState:re(L({},v.before.appState),{status:"idle"}),document:{pages:{[this.currentPageId]:{shapes:Object.fromEntries(this.selectedIds.map(y=>[y,void 0]))}},pageStates:{[this.currentPageId]:{selectedIds:[],editingId:null,bindingId:null,hoveredId:null}}}},this.appState.isToolLocked){let y=((i=(r=(n=v.after)==null?void 0:n.document)==null?void 0:r.pageStates)==null?void 0:i[this.currentPageId])||{};y.selectedIds=[]}this.isCreating=!1}v.after.appState=re(L({},v.after.appState),{status:"idle"}),v.after.document=re(L({},v.after.document),{pageStates:re(L({},(o=v.after.document)==null?void 0:o.pageStates),{[this.currentPageId]:re(L({},(((u=v.after.document)==null?void 0:u.pageStates)||{})[this.currentPageId]),{editingId:null})})}),this.setState(v,`session:complete:${m.constructor.name}`)}else this.patchState(re(L({},v),{appState:re(L({},v.appState),{status:"idle"}),document:re(L({},v.document),{pageStates:{[this.currentPageId]:re(L({},(c=(l=v.document)==null?void 0:l.pageStates)==null?void 0:c[this.currentPageId]),{editingId:null})}})}),`session:complete:${m.constructor.name}`);return(g=(f=this.callbacks).onSessionEnd)==null||g.call(f,this,m.constructor.name),this}),w(this,"createShapes",(...n)=>n.length===0?this:this.create(n.map(r=>ie.getShapeUtil(r.type).create(L({parentId:this.currentPageId},r))))),w(this,"updateShapes",(...n)=>{let r=this.document.pages[this.currentPageId].shapes,i=n.filter(o=>r[o.id]);return i.length===0?this:this.setState(P9(this,i,this.currentPageId),"updated_shapes")}),w(this,"create",(n=[],r=[])=>n.length===0?this:this.setState(B9(this,n,r))),w(this,"patchCreate",(n=[],r=[])=>n.length===0?this:this.patchState(B9(this,n,r).after)),w(this,"delete",(n=this.selectedIds)=>{var r,i;if(n.length===0)return this;if(this.session)return this;let o=k9(this,n);if(this.callbacks.onAssetDelete&&((r=o.before.document)!=null&&r.assets)&&((i=o.after.document)!=null&&i.assets)){let u=Object.keys(o.before.document.assets).filter(c=>!!o.before.document.assets[c]),l=Object.keys(o.after.document.assets).filter(c=>!!o.after.document.assets[c]);u.filter(c=>!l.includes(c)).forEach(c=>this.callbacks.onAssetDelete(this,c))}return this.setState(o)}),w(this,"deleteAll",()=>(this.selectAll(),this.delete(),this)),w(this,"style",(n,r=this.selectedIds)=>this.setState(gRe(this,r,n))),w(this,"align",(n,r=this.selectedIds)=>r.length<2?this:this.setState(JTe(this,r,n))),w(this,"distribute",(n,r=this.selectedIds)=>r.length<3?this:this.setState(iRe(this,r,n))),w(this,"stretch",(n,r=this.selectedIds)=>r.length<2?this:this.setState(pRe(this,r,n))),w(this,"flipHorizontal",(n=this.selectedIds)=>n.length===0?this:this.setState(M9(this,n,"horizontal"))),w(this,"flipVertical",(n=this.selectedIds)=>n.length===0?this:this.setState(M9(this,n,"vertical"))),w(this,"moveToPage",(n,r=this.currentPageId,i=this.selectedIds)=>{if(i.length===0)return this;let{rendererBounds:o}=this;return this.setState(lRe(this,i,o,r,n)),this}),w(this,"moveToBack",(n=this.selectedIds)=>n.length===0?this:this.setState(th(this,n,"toBack"))),w(this,"moveBackward",(n=this.selectedIds)=>n.length===0?this:this.setState(th(this,n,"backward"))),w(this,"moveForward",(n=this.selectedIds)=>n.length===0?this:this.setState(th(this,n,"forward"))),w(this,"moveToFront",(n=this.selectedIds)=>n.length===0?this:this.setState(th(this,n,"toFront"))),w(this,"nudge",(n,r=!1,i=this.selectedIds)=>{if(i.length===0)return this;let o=r?this.settings.showGrid?this.currentGrid*4:10:this.settings.showGrid?this.currentGrid:1;return this.setState(vRe(this,i,R.mul(n,o)))}),w(this,"duplicate",(n=this.selectedIds,r)=>this.readOnly?this:n.length===0?this:this.setState(sRe(this,n,r))),w(this,"resetBounds",(n=this.selectedIds)=>{let r=N9(this,n,this.currentPageId);return this.setState(N9(this,n,this.currentPageId),r.id)}),w(this,"toggleHidden",(n=this.selectedIds)=>n.length===0?this:this.setState(Um(this,n,"isHidden"))),w(this,"toggleLocked",(n=this.selectedIds)=>n.length===0?this:this.setState(Um(this,n,"isLocked"))),w(this,"toggleAspectRatioLocked",(n=this.selectedIds)=>n.length===0?this:this.setState(Um(this,n,"isAspectRatioLocked"))),w(this,"toggleDecoration",(n,r=this.selectedIds)=>r.length===0||!(n==="start"||n==="end")?this:this.setState(mRe(this,r,n))),w(this,"setShapeProps",(n,r=this.selectedIds)=>this.setState(ERe(this,r,n))),w(this,"rotate",(n=Math.PI*-.5,r=this.selectedIds)=>{if(r.length===0)return this;let i=fRe(this,r,n);return i?this.setState(i):this}),w(this,"group",(n=this.selectedIds,r=F.uniqueId(),i=this.currentPageId)=>{if(this.readOnly)return this;if(n.length===1&&this.getShape(n[0],i).type==="group")return this.ungroup(n,i);if(n.length<2)return this;let o=uRe(this,n,r,i);return o?this.setState(o):this}),w(this,"ungroup",(n=this.selectedIds,r=this.currentPageId)=>{if(this.readOnly)return this;let i=n.map(u=>this.getShape(u,r)).filter(u=>u.type==="group");if(i.length===0)return this;let o=yRe(this,n,i,r);return o?this.setState(o):this}),w(this,"cancel",()=>{var n,r;return(r=(n=this.currentTool).onCancel)==null||r.call(n),this}),w(this,"addMediaFromFiles",(n,...r)=>Fe(this,[n,...r],function*(i,o=this.centerPoint){this.setIsLoading(!0);let u=[],l=this.getPagePoint(o);for(let c of i){let f=F.uniqueId(),g=c.name.match(/\.[0-9a-z]+$/i);if(!g)throw Error("No extension");let m=Kx.includes(g[0].toLowerCase()),v=Yx.includes(g[0].toLowerCase());if(!(m||v))throw Error("Wrong extension");let y=m?"image":"video",b=m?"image":"video",C;try{if(this.callbacks.onAssetCreate){let A=yield this.callbacks.onAssetCreate(this,c,f);if(!A)throw Error("Asset creation callback returned false");C=A}else C=yield p8(c);if(typeof C=="string"){let A=[0,0];if(m){if(g[0]==".svg"){let T,N=yield g8(c),k=this.getViewboxFromSVG(N);k&&(T=k.split(" "),A[0]=parseFloat(T[2]),A[1]=parseFloat(T[3]))}R.isEqual(A,[0,0])&&(A=yield m8(C))}else A=yield v8(C);let x=Object.values(this.document.assets).find(T=>T.type===b&&T.src===C),D;if(x)D=x.id;else{D=f;let T={id:D,type:b,name:c.name,src:C,size:A};this.patchState({document:{assets:{[D]:T}}})}u.push(this.getImageOrVideoShapeAtPoint(f,y,o,A,D))}}catch(A){console.warn(A)}}if(u.length){let c=R.add(l,[0,0]);u.forEach((g,m)=>{let v=ie.getBounds(g);m===0&&(c[0]-=v.width/2,c[1]-=v.height/2),g.point=[...c],c[0]+=v.width});let f=F.getCommonBounds(u.map(ie.getBounds));this.createShapes(...u),F.boundsContain(this.viewport,f)||(this.zoomToSelection(),this.zoom>1&&this.resetZoom())}return this.setIsLoading(!1),this})),w(this,"getViewboxFromSVG",n=>{let r=/.*?viewBox=["'](-?[\d.]+[, ]+-?[\d.]+[, ][\d.]+[, ][\d.]+)["']/;if(typeof n=="string"){let i=n.match(r);return i&&i.length>=2?i[1]:null}return this.setIsLoading(!1),null}),w(this,"onKeyDown",(n,r,i)=>{var o,u;switch(i.key){case"/":{if(this.status==="idle"&&!this.pageState.editingId){let{shiftKey:l,metaKey:c,altKey:f,ctrlKey:g,spaceKey:m}=this;this.onPointerDown({target:"canvas",pointerId:0,origin:r.point,point:r.point,delta:[0,0],pressure:.5,shiftKey:l,ctrlKey:g,metaKey:c,altKey:f,spaceKey:m},{shiftKey:l,altKey:f,ctrlKey:g,pointerId:0,clientX:r.point[0],clientY:r.point[1]})}break}case"Escape":{this.cancel();break}case"Meta":{this.metaKey=!0;break}case"Alt":{this.altKey=!0;break}case"Control":{this.ctrlKey=!0;break}case" ":{this.isForcePanning=!0,this.spaceKey=!0;break}}return(u=(o=this.currentTool).onKeyDown)==null||u.call(o,n,r,i),this}),w(this,"onKeyUp",(n,r,i)=>{var o,u;if(r){switch(i.key){case"/":{let{currentPoint:l,shiftKey:c,metaKey:f,altKey:g,ctrlKey:m,spaceKey:v}=this;this.onPointerUp({target:"canvas",pointerId:0,origin:l,point:l,delta:[0,0],pressure:.5,shiftKey:c,ctrlKey:m,metaKey:f,altKey:g,spaceKey:v},{shiftKey:c,altKey:g,ctrlKey:m,pointerId:0,clientX:l[0],clientY:l[1]});break}case"Meta":{this.metaKey=!1;break}case"Alt":{this.altKey=!1;break}case"Control":{this.ctrlKey=!1;break}case" ":{this.isForcePanning=!1,this.spaceKey=!1;break}}(u=(o=this.currentTool).onKeyUp)==null||u.call(o,n,r,i)}}),w(this,"refreshBoundingBoxes",()=>{let n=this.shapes.map(i=>[i.id,L({point:[...i.point]},"label"in i&&{label:""})]),r=this.shapes.map(i=>[i.id,L({point:[...i.point]},"label"in i&&{label:i.label})]);Z7e(),this.patchState({document:{pages:{[this.currentPageId]:{shapes:Object.fromEntries(n)}}}}),this.patchState({document:{pages:{[this.currentPageId]:{shapes:Object.fromEntries(r)}}}})}),w(this,"onDragOver",n=>{n.preventDefault()}),w(this,"onDrop",n=>Fe(this,null,function*(){var r;return n.preventDefault(),this.disableAssets?this:((r=n.dataTransfer.files)!=null&&r.length&&this.addMediaFromFiles(Object.values(n.dataTransfer.files),[n.clientX,n.clientY]),this)})),w(this,"onPinchStart",(n,r)=>{var i,o;(o=(i=this.currentTool).onPinchStart)==null||o.call(i,n,r)}),w(this,"onPinchEnd",(n,r)=>{var i,o;return(o=(i=this.currentTool).onPinchEnd)==null?void 0:o.call(i,n,r)}),w(this,"onPinch",(n,r)=>{var i,o;return(o=(i=this.currentTool).onPinch)==null?void 0:o.call(i,n,r)}),w(this,"onPan",(n,r)=>{if(this.appState.status==="pinching")return;let i=R.div(n.delta,this.camera.zoom),o=this.camera.point,u=R.sub(o,i);R.isEqual(u,o)||(this.pan(i),this.isForcePanning||this.onPointerMove(n,r),j7e&&this.isForcePanning&&this.preventPaste())}),w(this,"onZoom",(n,r)=>{if(this.state.appState.status!=="idle")return;let i=n.delta[2]/50;this.zoomBy(i,n.point),this.onPointerMove(n,r)}),w(this,"updateInputs",n=>{this.currentPoint=this.getPagePoint(n.point).concat(n.pressure),this.shiftKey=n.shiftKey,this.altKey=n.altKey,this.ctrlKey=n.ctrlKey,this.metaKey=n.metaKey}),w(this,"onPointerMove",(n,r)=>{var i,o,u,l,c;if(this.previousPoint=this.currentPoint,this.updateInputs(n,r),this.isForcePanning&&this.isPointing){(i=this.onPan)==null||i.call(this,re(L({},n),{delta:R.neg(n.delta)}),r);return}if((u=(o=this.currentTool).onPointerMove)==null||u.call(o,n,r),this.state.room){let{users:f,userId:g}=this.state.room;(c=(l=this.callbacks).onChangePresence)==null||c.call(l,this,re(L({},f[g]),{point:this.getPagePoint(n.point),session:!!this.session}))}}),w(this,"onPointerDown",(n,r)=>{var i,o;if(r.buttons===4)this.isForcePanning=!0;else if(this.isPointing)return;this.isPointing=!0,this.originPoint=this.getPagePoint(n.point).concat(n.pressure),this.updateInputs(n,r),!this.isForcePanning&&(this.currentTool.type==="draw"&&r.pointerType==="pen"&&r.button===5&&(this.selectTool("erase"),this.isErasingWithPen=!0),(o=(i=this.currentTool).onPointerDown)==null||o.call(i,n,r))}),w(this,"onPointerUp",(n,r)=>{var i,o;this.isPointing=!1,this.shiftKey||(this.isForcePanning=!1),this.updateInputs(n,r),(o=(i=this.currentTool).onPointerUp)==null||o.call(i,n,r),this.isErasingWithPen&&r.pointerType==="pen"&&r.button===5&&(this.selectTool("draw"),this.isErasingWithPen=!1)}),w(this,"onPointCanvas",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onPointCanvas)==null||o.call(i,n,r)}),w(this,"onDoubleClickCanvas",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onDoubleClickCanvas)==null||o.call(i,n,r)}),w(this,"onRightPointCanvas",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onRightPointCanvas)==null||o.call(i,n,r)}),w(this,"onDragCanvas",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onDragCanvas)==null||o.call(i,n,r)}),w(this,"onReleaseCanvas",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onReleaseCanvas)==null||o.call(i,n,r)}),w(this,"onPointShape",(n,r)=>{var i,o;this.originPoint=this.getPagePoint(n.point).concat(n.pressure),this.updateInputs(n,r),(o=(i=this.currentTool).onPointShape)==null||o.call(i,n,r)}),w(this,"onReleaseShape",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onReleaseShape)==null||o.call(i,n,r)}),w(this,"onDoubleClickShape",(n,r)=>{var i,o;this.originPoint=this.getPagePoint(n.point).concat(n.pressure),this.updateInputs(n,r),(o=(i=this.currentTool).onDoubleClickShape)==null||o.call(i,n,r)}),w(this,"onRightPointShape",(n,r)=>{var i,o;this.originPoint=this.getPagePoint(n.point).concat(n.pressure),this.updateInputs(n,r),(o=(i=this.currentTool).onRightPointShape)==null||o.call(i,n,r)}),w(this,"onDragShape",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onDragShape)==null||o.call(i,n,r)}),w(this,"onHoverShape",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onHoverShape)==null||o.call(i,n,r)}),w(this,"onUnhoverShape",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onUnhoverShape)==null||o.call(i,n,r)}),w(this,"onPointBounds",(n,r)=>{var i,o;this.originPoint=this.getPagePoint(n.point).concat(n.pressure),this.updateInputs(n,r),(o=(i=this.currentTool).onPointBounds)==null||o.call(i,n,r)}),w(this,"onDoubleClickBounds",(n,r)=>{var i,o;this.originPoint=this.getPagePoint(n.point).concat(n.pressure),this.updateInputs(n,r),(o=(i=this.currentTool).onDoubleClickBounds)==null||o.call(i,n,r)}),w(this,"onRightPointBounds",(n,r)=>{var i,o;this.originPoint=this.getPagePoint(n.point).concat(n.pressure),this.updateInputs(n,r),(o=(i=this.currentTool).onRightPointBounds)==null||o.call(i,n,r)}),w(this,"onDragBounds",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onDragBounds)==null||o.call(i,n,r)}),w(this,"onHoverBounds",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onHoverBounds)==null||o.call(i,n,r)}),w(this,"onUnhoverBounds",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onUnhoverBounds)==null||o.call(i,n,r)}),w(this,"onReleaseBounds",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onReleaseBounds)==null||o.call(i,n,r)}),w(this,"onPointBoundsHandle",(n,r)=>{var i,o;this.originPoint=this.getPagePoint(n.point).concat(n.pressure),this.updateInputs(n,r),(o=(i=this.currentTool).onPointBoundsHandle)==null||o.call(i,n,r)}),w(this,"onDoubleClickBoundsHandle",(n,r)=>{var i,o;if(this.originPoint=this.getPagePoint(n.point).concat(n.pressure),this.updateInputs(n,r),(o=(i=this.currentTool).onDoubleClickBoundsHandle)==null||o.call(i,n,r),this.selectedIds.length!==1)return;let u=this.getShape(this.selectedIds[0]);if(u.type==="image"||u.type==="video"){let l=this.document.assets[u.assetId],c=ie.getShapeUtil(u),f=c.getCenter(u),g=c.getCenter(re(L({},u),{size:l.size})),m=R.sub(g,f);this.updateShapes({id:u.id,point:R.sub(u.point,m),size:l.size})}}),w(this,"onRightPointBoundsHandle",(n,r)=>{var i,o;this.originPoint=this.getPagePoint(n.point).concat(n.pressure),this.updateInputs(n,r),(o=(i=this.currentTool).onRightPointBoundsHandle)==null||o.call(i,n,r)}),w(this,"onDragBoundsHandle",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onDragBoundsHandle)==null||o.call(i,n,r)}),w(this,"onHoverBoundsHandle",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onHoverBoundsHandle)==null||o.call(i,n,r)}),w(this,"onUnhoverBoundsHandle",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onUnhoverBoundsHandle)==null||o.call(i,n,r)}),w(this,"onReleaseBoundsHandle",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onReleaseBoundsHandle)==null||o.call(i,n,r)}),w(this,"onPointHandle",(n,r)=>{var i,o;this.originPoint=this.getPagePoint(n.point).concat(n.pressure),this.updateInputs(n,r),(o=(i=this.currentTool).onPointHandle)==null||o.call(i,n,r)}),w(this,"onDoubleClickHandle",(n,r)=>{var i,o;this.originPoint=this.getPagePoint(n.point).concat(n.pressure),this.updateInputs(n,r),(o=(i=this.currentTool).onDoubleClickHandle)==null||o.call(i,n,r)}),w(this,"onRightPointHandle",(n,r)=>{var i,o;this.originPoint=this.getPagePoint(n.point).concat(n.pressure),this.updateInputs(n,r),(o=(i=this.currentTool).onRightPointHandle)==null||o.call(i,n,r)}),w(this,"onDragHandle",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onDragHandle)==null||o.call(i,n,r)}),w(this,"onHoverHandle",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onHoverHandle)==null||o.call(i,n,r)}),w(this,"onUnhoverHandle",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onUnhoverHandle)==null||o.call(i,n,r)}),w(this,"onReleaseHandle",(n,r)=>{var i,o;this.updateInputs(n,r),(o=(i=this.currentTool).onReleaseHandle)==null||o.call(i,n,r)}),w(this,"onShapeChange",n=>{let r=this.document.pages[this.currentPageId].shapes,i=L(L({},r[n.id]),n),o=P9(this,[i],this.currentPageId).after;return this.patchState(o,"patched_shapes")}),w(this,"onShapeBlur",()=>{var n,r;if(performance.now()-this.editingStartTime<50)return;let{editingId:i}=this.pageState,{isToolLocked:o}=this.getAppState();if(i){let u=this.getShape(i);this.setEditingId(),u.type==="text"&&(u.text.trim().length<=0?this.patchState(k9(this,[i]).after,"delete_empty_text"):o||this.select(i))}(r=(n=this.currentTool).onShapeBlur)==null||r.call(n)}),w(this,"onShapeClone",(n,r)=>{var i,o;this.originPoint=this.getPagePoint(n.point).concat(n.pressure),this.updateInputs(n,r),(o=(i=this.currentTool).onShapeClone)==null||o.call(i,n,r)}),w(this,"onRenderCountChange",n=>{let r=this.getAppState();r.isEmptyCanvas&&n.length>0?this.patchState({appState:{isEmptyCanvas:!1}},"empty_canvas:false"):!r.isEmptyCanvas&&n.length<=0&&this.patchState({appState:{isEmptyCanvas:!0}},"empty_canvas:true")}),w(this,"onError",()=>{}),w(this,"getShapeUtil",ie.getShapeUtil),this.callbacks=t}setStatus(e){return this.patchState({appState:{status:e}},`set_status:${e}`)}get isMenuOpen(){return this.appState.isMenuOpen}get isLoading(){return this.appState.isLoading}get disableAssets(){return this.appState.disableAssets}get history(){return this.stack.slice(0,this.pointer+1)}set history(e){this.replaceHistory(e)}get document(){return this.state.document}get settings(){return this.state.settings}get appState(){return this.state.appState}get currentPageId(){return this.state.appState.currentPageId}get page(){return this.state.document.pages[this.currentPageId]}get shapes(){return Object.values(this.page.shapes)}get bindings(){return Object.values(this.page.bindings)}get assets(){return Object.values(this.document.assets)}get pageState(){return this.state.document.pageStates[this.currentPageId]}get camera(){return this.pageState.camera}get zoom(){return this.pageState.camera.zoom}get selectedIds(){return this.pageState.selectedIds}createTextShapeAtPoint(e,t,n){let{shapes:r,appState:{currentPageId:i,currentStyle:o}}=this,u=r.length===0?1:r.filter(g=>g.parentId===i).sort((g,m)=>m.childIndex-g.childIndex)[0].childIndex+1,l=Nu.text,c=l.create({id:t||F.uniqueId(),parentId:i,childIndex:u,point:e,style:L({},o)}),f=l.getBounds(c);return c.point=R.sub(c.point,[f.width/2,f.height/2]),n?this.patchCreate([ie.getShapeUtil(c.type).create(c)]):this.createShapes(c),this.setEditingId(c.id,!0),this}getImageOrVideoShapeAtPoint(e,t,n,r,i){let{shapes:o,appState:{currentPageId:u,currentStyle:l}}=this,c=o.length===0?1:o.filter(g=>g.parentId===u).sort((g,m)=>m.childIndex-g.childIndex)[0].childIndex+1,f=Nu[t];if(r[0]>this.viewport.width){let g=r[1]/r[0];r[0]=this.viewport.width-128/this.camera.zoom*2,r[1]=r[0]*g,(r[1]<32||r[1]<32)&&(r[1]=32,r[0]=r[1]/g)}else if(r[1]>this.viewport.height){let g=r[0]/r[1];r[1]=this.viewport.height-128/this.camera.zoom*2,r[0]=r[1]*g,(r[1]<32||r[1]<32)&&(r[0]=32,r[1]=r[0]/g)}return f.create({id:e,parentId:u,childIndex:c,point:n,size:r,style:L({},l),assetId:i})}isSelected(e){return this.selectedIds.includes(e)}serializeVideo(e){let t=document.getElementById(e+"_video");if(t){let n=document.createElement("canvas");return n.width=t.videoWidth,n.height=t.videoHeight,n.getContext("2d").drawImage(t,0,0),n.toDataURL("image/png")}else throw new Error("Video with id "+e+" not found")}serializeImage(e){let t=document.getElementById(e+"_image");if(t){let n=document.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0),n.toDataURL("image/png")}else throw new Error("Image with id "+e+" not found")}patchAssets(e){this.document.assets=L(L({},this.document.assets),e)}get room(){return this.state.room}get isLocal(){return this.state.room===void 0||this.state.room.id==="local"}get status(){return this.appState.status}get currentUser(){if(this.state.room)return this.state.room.users[this.state.room.userId]}get centerPoint(){let{width:e,height:t}=this.rendererBounds;return R.toFixed([e/2,t/2])}get currentGrid(){let{zoom:e}=this.camera;return e<.15?128:e<1?32:8}},gu=sn;w(gu,"version",15.5),w(gu,"defaultDocument",{id:"doc",name:"New Document",version:sn.version,pages:{page:{id:"page",name:"Page 1",childIndex:1,shapes:{},bindings:{}}},pageStates:{page:{id:"page",selectedIds:[],camera:{point:[0,0],zoom:1}}},assets:{}}),w(gu,"defaultState",{settings:{isCadSelectMode:!1,isPenMode:!1,isDarkMode:!1,isZoomSnap:!1,isFocusMode:!1,isSnapping:!1,isDebugMode:!1,isReadonlyMode:!1,keepStyleMenuOpen:!1,nudgeDistanceLarge:16,nudgeDistanceSmall:1,showRotateHandles:!0,showBindingHandles:!0,showCloneHandles:!1,showGrid:!1,language:"en",dockPosition:"bottom",exportBackground:"transparent"},appState:{status:"idle",activeTool:"select",hoveredId:void 0,currentPageId:"page",currentStyle:Pi,isToolLocked:!1,isMenuOpen:!1,isEmptyCanvas:!1,eraseLine:[],snapLines:[],isLoading:!1,disableAssets:!1},document:sn.defaultDocument}),w(gu,"assetSrc","tldraw-assets.json");var jRe=hM,KRe=window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches:!1;function YRe({id:e,document:t,currentPageId:n,autofocus:r=!0,showMenu:i=!0,showMultiplayerMenu:o=!0,showPages:u=!0,showTools:l=!0,showZoom:c=!0,showStyles:f=!0,showUI:g=!0,readOnly:m=!1,disableAssets:v=!1,darkMode:y=KRe,components:b,onMount:C,onChange:A,onChangePresence:x,onNewProject:D,onSaveProject:T,onSaveProjectAs:N,onOpenProject:k,onOpenMedia:M,onUndo:B,onRedo:P,onPersist:_,onPatch:U,onCommand:K,onChangePage:J,onAssetCreate:te,onAssetDelete:fe,onAssetUpload:Ee,onSessionStart:Y,onSessionEnd:V,onExport:W,hideCursors:ce}){let[ge,z]=h.useState(e),[ee,de]=h.useState(()=>new gu(e,{onMount:C,onChange:A,onChangePresence:x,onNewProject:D,onSaveProject:T,onSaveProjectAs:N,onOpenProject:k,onOpenMedia:M,onUndo:B,onRedo:P,onPersist:_,onPatch:U,onCommand:K,onChangePage:J,onAssetDelete:fe,onAssetCreate:te,onAssetUpload:Ee,onSessionStart:Y,onSessionEnd:V})),[me,Se]=h.useState(null),[Ae,Ne]=h.useState(null),[He,rt]=h.useState(null),[Zt,Bn]=h.useState(null),zn=h.useCallback((Sn,Vn,So,Ao)=>{Bn(()=>Sn),Se(()=>Ao),Ne(()=>Vn),rt(()=>So)},[]);return h.useLayoutEffect(()=>{if(e===ge)return;let Sn=new gu(e,{onMount:C,onChange:A,onChangePresence:x,onNewProject:D,onSaveProject:T,onSaveProjectAs:N,onOpenProject:k,onOpenMedia:M,onUndo:B,onRedo:P,onPersist:_,onPatch:U,onCommand:K,onChangePage:J,onAssetDelete:fe,onAssetCreate:te,onAssetUpload:Ee,onExport:W,onSessionStart:Y,onSessionEnd:V});z(e),de(Sn)},[ge,e]),h.useEffect(()=>{!t||(t.id===ee.document.id?ee.updateDocument(t):ee.loadDocument(t))},[t,ee]),h.useEffect(()=>{ee.setDisableAssets(v)},[ee,v]),h.useEffect(()=>{!n||ee.changePage(n)},[n,ee]),h.useEffect(()=>{ee.readOnly=m,m||(ee.selectNone(),ee.cancelSession(),ee.setEditingId())},[ee,m]),h.useEffect(()=>{y!==ee.settings.isDarkMode&&ee.toggleDarkMode()},[ee,y]),h.useEffect(()=>{ee.callbacks={onMount:C,onChange:A,onChangePresence:x,onNewProject:D,onSaveProject:T,onSaveProjectAs:N,onOpenProject:k,onOpenMedia:M,onUndo:B,onRedo:P,onPersist:_,onPatch:U,onCommand:K,onChangePage:J,onAssetDelete:fe,onAssetCreate:te,onAssetUpload:Ee,onExport:W,onSessionStart:Y,onSessionEnd:V}},[C,A,x,D,T,N,k,M,B,P,_,U,K,J,fe,te,Ee,W,Y,V]),h.useLayoutEffect(()=>{var Sn;if(typeof window>"u"||!((Sn=window.document)!=null&&Sn.fonts))return;function Vn(){ee.refreshBoundingBoxes()}return window.document.fonts.addEventListener("loadingdone",Vn),()=>{window.document.fonts.removeEventListener("loadingdone",Vn)}},[ee]),h.createElement(zx.Provider,{value:ee},h.createElement(Ux.Provider,{value:{onYes:Ae,onCancel:me,onNo:He,dialogState:Zt,setDialogState:Bn,openDialog:zn}},h.createElement(WRe,{key:ge||"Tldraw",id:ge,autofocus:r,showPages:u,showMenu:i,showMultiplayerMenu:o,showStyles:f,showZoom:c,showTools:l,showUI:g,readOnly:m,components:b,hideCursors:ce})))}var WRe=h.memo(function({id:e,autofocus:t,showPages:n,showMenu:r,showMultiplayerMenu:i,showZoom:o,showStyles:u,showTools:l,readOnly:c,showUI:f,components:g,hideCursors:m}){var v,y;let b=St(),[C,A]=h.useState(null),x=h.useRef(null),D=b.useStore(),{document:T,settings:N,appState:k,room:M}=D,B=D.appState.activeTool==="select",P=T.pages[k.currentPageId],_=T.pageStates[P.id],U=T.assets,{selectedIds:K}=_,J=K.length===1&&P.shapes[K[0]]&&ie.getShapeUtil(P.shapes[K[0]].type).hideBounds,te=K.length===1&&P.shapes[K[0]]&&ie.getShapeUtil(P.shapes[K[0]].type).hideResizeHandles,fe=h.useMemo(()=>({isDarkMode:N.isDarkMode}),[N.isDarkMode]),Ee=N.isCadSelectMode?!k.selectByContain:k.selectByContain,Y=h.useMemo(()=>{let{selectByContain:de}=k,{isDarkMode:me,isCadSelectMode:Se}=N;if(me){let Ne=Se?de?"69, 155, 255":"105, 209, 73":"180, 180, 180";return{brushFill:`rgba(${Ne}, ${Se?.08:.05})`,brushStroke:`rgba(${Ne}, ${Se?.5:.25})`,brushDashStroke:`rgba(${Ne}, .6)`,selected:"rgba(38, 150, 255, 1.000)",selectFill:"rgba(38, 150, 255, 0.05)",background:"#212529",foreground:"#49555f"}}let Ae=Se?de?"0, 89, 242":"51, 163, 23":"0,0,0";return{brushFill:`rgba(${Ae}, ${Se?.08:.05})`,brushStroke:`rgba(${Ae}, ${Se?.4:.25})`,brushDashStroke:`rgba(${Ae}, .6)`}},[N.isDarkMode,N.isCadSelectMode,k.selectByContain]),V=b.session!==void 0,W=V&&((v=b.session)==null?void 0:v.constructor.name)!=="BrushSession"||!B||J||!!_.editingId,ce=V||!B,ge=V&&D.appState.status!=="brushing"||!B,z=V||!B||_.camera.zoom<.2,ee=_8e(N.language);return h.useLayoutEffect(()=>{let de=x.current;!de||(N.isDarkMode?de.classList.add(f9):de.classList.remove(f9))},[N.isDarkMode]),YTe(x),h.createElement(Vx.Provider,{value:x},h.createElement(ON,{locale:ee.locale,messages:ee.messages},h.createElement(pDe,{container:C}),h.createElement(XRe,{ref:x,tabIndex:-0},h.createElement(oDe,null),h.createElement(ZRe,{focusableRef:x,autofocus:t}),h.createElement(q8e,null,h.createElement(jRe,{FallbackComponent:Q8e},h.createElement(lM,{id:e,containerRef:x,shapeUtils:Nu,page:P,pageState:_,assets:U,snapLines:k.snapLines,eraseLine:k.eraseLine,grid:8,users:M?.users,userId:M?.userId,theme:Y,meta:fe,components:g,hideCursors:m,hideBounds:W,hideHandles:ce,hideResizeHandles:te,hideIndicators:ge,hideBindingHandles:!N.showBindingHandles,hideCloneHandles:z,hideRotateHandles:!N.showRotateHandles,hideGrid:!N.showGrid,showDashedBrush:Ee,performanceMode:(y=b.session)==null?void 0:y.performanceMode,onPinchStart:b.onPinchStart,onPinchEnd:b.onPinchEnd,onPinch:b.onPinch,onPan:b.onPan,onZoom:b.onZoom,onPointerDown:b.onPointerDown,onPointerMove:b.onPointerMove,onPointerUp:b.onPointerUp,onPointCanvas:b.onPointCanvas,onDoubleClickCanvas:b.onDoubleClickCanvas,onRightPointCanvas:b.onRightPointCanvas,onDragCanvas:b.onDragCanvas,onReleaseCanvas:b.onReleaseCanvas,onPointShape:b.onPointShape,onDoubleClickShape:b.onDoubleClickShape,onRightPointShape:b.onRightPointShape,onDragShape:b.onDragShape,onHoverShape:b.onHoverShape,onUnhoverShape:b.onUnhoverShape,onReleaseShape:b.onReleaseShape,onPointBounds:b.onPointBounds,onDoubleClickBounds:b.onDoubleClickBounds,onRightPointBounds:b.onRightPointBounds,onDragBounds:b.onDragBounds,onHoverBounds:b.onHoverBounds,onUnhoverBounds:b.onUnhoverBounds,onReleaseBounds:b.onReleaseBounds,onPointBoundsHandle:b.onPointBoundsHandle,onDoubleClickBoundsHandle:b.onDoubleClickBoundsHandle,onRightPointBoundsHandle:b.onRightPointBoundsHandle,onDragBoundsHandle:b.onDragBoundsHandle,onHoverBoundsHandle:b.onHoverBoundsHandle,onUnhoverBoundsHandle:b.onUnhoverBoundsHandle,onReleaseBoundsHandle:b.onReleaseBoundsHandle,onPointHandle:b.onPointHandle,onDoubleClickHandle:b.onDoubleClickHandle,onRightPointHandle:b.onRightPointHandle,onDragHandle:b.onDragHandle,onHoverHandle:b.onHoverHandle,onUnhoverHandle:b.onUnhoverHandle,onReleaseHandle:b.onReleaseHandle,onError:b.onError,onRenderCountChange:b.onRenderCountChange,onShapeChange:b.onShapeChange,onShapeBlur:b.onShapeBlur,onShapeClone:b.onShapeClone,onBoundsChange:b.updateBounds,onKeyDown:b.onKeyDown,onKeyUp:b.onKeyUp,onDragOver:b.onDragOver,onDrop:b.onDrop}))),f&&h.createElement(JRe,{ref:A},N.isFocusMode?h.createElement(rDe,{onSelect:b.toggleFocusMode}):h.createElement(h.Fragment,null,h.createElement(KTe,{readOnly:c,showPages:n,showMenu:r,showMultiplayerMenu:i,showStyles:u,showZoom:o}),h.createElement(qRe,null),l&&!c&&h.createElement(M7e,null))))))}),ZRe=h.memo(function({focusableRef:e,autofocus:t}){return YH(e),ZH(),h.useEffect(()=>{var n;t&&((n=e.current)==null||n.focus())},[t]),null}),XRe=ve("div",{position:"absolute",height:"100%",width:"100%",minHeight:0,minWidth:0,maxHeight:"100%",maxWidth:"100%",overflow:"hidden",boxSizing:"border-box",outline:"none","& .tl-container":{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:1},"& input, textarea, button, select, label, button":{webkitTouchCallout:"none",webkitUserSelect:"none","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent"}}),JRe=ve("div",{position:"absolute",top:0,left:0,height:"100%",width:"100%",padding:"8px 8px 0 8px",display:"flex",alignItems:"flex-start",justifyContent:"flex-start",pointerEvents:"none",zIndex:2,"& > *":{pointerEvents:"all"}}),qRe=ve("div",{flexGrow:2});const QRe=e=>{const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),t},eBe=typeof performance<"u"?performance:Date,tBe=()=>eBe.now();function L9(e,t=30,n=!1){const r=QRe(e),i=1e3/t,o=h.useRef(0),u=h.useRef(),l=()=>u.current&&clearTimeout(u.current),c=[t,n,r];function f(){o.current=0,l()}return h.useEffect(()=>f,c),h.useCallback(function(){const g=arguments,m=tBe(),v=()=>{o.current=m,l(),r.current.apply(null,g)},y=o.current;if(n&&y===0)return v();if(m-y>i){if(y>0)return v();o.current=m}l(),u.current=setTimeout(()=>{v(),o.current=0},i)},c)}var Ye;(function(e){e[e.Canceled=1]="Canceled",e[e.Unknown=2]="Unknown",e[e.InvalidArgument=3]="InvalidArgument",e[e.DeadlineExceeded=4]="DeadlineExceeded",e[e.NotFound=5]="NotFound",e[e.AlreadyExists=6]="AlreadyExists",e[e.PermissionDenied=7]="PermissionDenied",e[e.ResourceExhausted=8]="ResourceExhausted",e[e.FailedPrecondition=9]="FailedPrecondition",e[e.Aborted=10]="Aborted",e[e.OutOfRange=11]="OutOfRange",e[e.Unimplemented=12]="Unimplemented",e[e.Internal=13]="Internal",e[e.Unavailable=14]="Unavailable",e[e.DataLoss=15]="DataLoss",e[e.Unauthenticated=16]="Unauthenticated"})(Ye||(Ye={}));function E2(e,t){return e!==null&&typeof e=="object"&&"$typeName"in e&&typeof e.$typeName=="string"?t===void 0?!0:t.typeName===e.$typeName:!1}var X;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(X||(X={}));function nBe(){let e=0,t=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<r,(i&128)==0)return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(n&15)<<28,t=(n&112)>>4,(n&128)==0)return this.assertBounds(),[e,t];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<r,(i&128)==0)return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function Gm(e,t,n){for(let o=0;o<28;o=o+7){const u=e>>>o,l=!(!(u>>>7)&&t==0),c=(l?u|128:u)&255;if(n.push(c),!l)return}const r=e>>>28&15|(t&7)<<4,i=t>>3!=0;if(n.push((i?r|128:r)&255),!!i){for(let o=3;o<31;o=o+7){const u=t>>>o,l=!!(u>>>7),c=(l?u|128:u)&255;if(n.push(c),!l)return}n.push(t>>>31&1)}}const gh=4294967296;function F9(e){const t=e[0]==="-";t&&(e=e.slice(1));const n=1e6;let r=0,i=0;function o(u,l){const c=Number(e.slice(u,l));i*=n,r=r*n+c,r>=gh&&(i=i+(r/gh|0),r=r%gh)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),t?E8(r,i):b2(r,i)}function rBe(e,t){let n=b2(e,t);const r=n.hi&2147483648;r&&(n=E8(n.lo,n.hi));const i=y8(n.lo,n.hi);return r?"-"+i:i}function y8(e,t){if({lo:e,hi:t}=iBe(e,t),t<=2097151)return String(gh*t+e);const n=e&16777215,r=(e>>>24|t<<8)&16777215,i=t>>16&65535;let o=n+r*6777216+i*6710656,u=r+i*8147497,l=i*2;const c=1e7;return o>=c&&(u+=Math.floor(o/c),o%=c),u>=c&&(l+=Math.floor(u/c),u%=c),l.toString()+_9(u)+_9(o)}function iBe(e,t){return{lo:e>>>0,hi:t>>>0}}function b2(e,t){return{lo:e|0,hi:t|0}}function E8(e,t){return t=~t,e?e=~e+1:t+=1,b2(e,t)}const _9=e=>{const t=String(e);return"0000000".slice(t.length)+t};function W1(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let n=0;n<9;n++)t.push(e&127|128),e=e>>7;t.push(1)}}function aBe(){let e=this.buf[this.pos++],t=e&127;if((e&128)==0)return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,(e&128)==0)return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,(e&128)==0)return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,(e&128)==0)return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let n=5;(e&128)!==0&&n<10;n++)e=this.buf[this.pos++];if((e&128)!=0)throw new Error("invalid varint");return this.assertBounds(),t>>>0}var $9={};const Ot=oBe();function oBe(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof $9!="object"||$9.BUF_BIGINT_DISABLE!=="1")){const n=BigInt("-9223372036854775808"),r=BigInt("9223372036854775807"),i=BigInt("0"),o=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(u){const l=typeof u=="bigint"?u:BigInt(u);if(l>r||l<n)throw new Error(`invalid int64: ${u}`);return l},uParse(u){const l=typeof u=="bigint"?u:BigInt(u);if(l>o||l<i)throw new Error(`invalid uint64: ${u}`);return l},enc(u){return e.setBigInt64(0,this.parse(u),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(u){return e.setBigInt64(0,this.uParse(u),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(u,l){return e.setInt32(0,u,!0),e.setInt32(4,l,!0),e.getBigInt64(0,!0)},uDec(u,l){return e.setInt32(0,u,!0),e.setInt32(4,l,!0),e.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(n){return typeof n!="string"&&(n=n.toString()),z9(n),n},uParse(n){return typeof n!="string"&&(n=n.toString()),V9(n),n},enc(n){return typeof n!="string"&&(n=n.toString()),z9(n),F9(n)},uEnc(n){return typeof n!="string"&&(n=n.toString()),V9(n),F9(n)},dec(n,r){return rBe(n,r)},uDec(n,r){return y8(n,r)}}}function z9(e){if(!/^-?[0-9]+$/.test(e))throw new Error("invalid int64: "+e)}function V9(e){if(!/^[0-9]+$/.test(e))throw new Error("invalid uint64: "+e)}function as(e,t){switch(e){case X.STRING:return"";case X.BOOL:return!1;case X.DOUBLE:case X.FLOAT:return 0;case X.INT64:case X.UINT64:case X.SFIXED64:case X.FIXED64:case X.SINT64:return t?"0":Ot.zero;case X.BYTES:return new Uint8Array(0);default:return 0}}function sBe(e,t){switch(e){case X.BOOL:return t===!1;case X.STRING:return t==="";case X.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}const b8=2,ra=Symbol.for("reflect unsafe local");function C8(e,t){const n=e[t.localName].case;return n===void 0?n:t.fields.find(r=>r.localName===n)}function uBe(e,t){const n=t.localName;if(t.oneof)return e[t.oneof.localName].case===n;if(t.presence!=b8)return e[n]!==void 0&&Object.prototype.hasOwnProperty.call(e,n);switch(t.fieldKind){case"list":return e[n].length>0;case"map":return Object.keys(e[n]).length>0;case"scalar":return!sBe(t.scalar,e[n]);case"enum":return e[n]!==t.enum.values[0].number}throw new Error("message field with implicit presence")}function Lc(e,t){return Object.prototype.hasOwnProperty.call(e,t)&&e[t]!==void 0}function S8(e,t){if(t.oneof){const n=e[t.oneof.localName];return n.case===t.localName?n.value:void 0}return e[t.localName]}function A8(e,t,n){t.oneof?e[t.oneof.localName]={case:t.localName,value:n}:e[t.localName]=n}function lBe(e,t){const n=t.localName;if(t.oneof){const r=t.oneof.localName;e[r].case===n&&(e[r]={case:void 0})}else if(t.presence!=b8)delete e[n];else switch(t.fieldKind){case"map":e[n]={};break;case"list":e[n]=[];break;case"enum":e[n]=t.enum.values[0].number;break;case"scalar":e[n]=as(t.scalar,t.longAsString);break}}function ho(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function C2(e,t){var n,r,i,o;if(ho(e)&&ra in e&&"add"in e&&"field"in e&&typeof e.field=="function"){if(t!==void 0){const u=t,l=e.field();return u.listKind==l.listKind&&u.scalar===l.scalar&&((n=u.message)===null||n===void 0?void 0:n.typeName)===((r=l.message)===null||r===void 0?void 0:r.typeName)&&((i=u.enum)===null||i===void 0?void 0:i.typeName)===((o=l.enum)===null||o===void 0?void 0:o.typeName)}return!0}return!1}function S2(e,t){var n,r,i,o;if(ho(e)&&ra in e&&"has"in e&&"field"in e&&typeof e.field=="function"){if(t!==void 0){const u=t,l=e.field();return u.mapKey===l.mapKey&&u.mapKind==l.mapKind&&u.scalar===l.scalar&&((n=u.message)===null||n===void 0?void 0:n.typeName)===((r=l.message)===null||r===void 0?void 0:r.typeName)&&((i=u.enum)===null||i===void 0?void 0:i.typeName)===((o=l.enum)===null||o===void 0?void 0:o.typeName)}return!0}return!1}function A2(e,t){return ho(e)&&ra in e&&"desc"in e&&ho(e.desc)&&e.desc.kind==="message"&&(t===void 0||e.desc.typeName==t.typeName)}function cBe(e){return w8(e.$typeName)}function ld(e){const t=e.fields[0];return w8(e.typeName)&&t!==void 0&&t.fieldKind=="scalar"&&t.name=="value"&&t.number==1}function w8(e){return e.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(e.substring(16))}const dBe=999,hBe=998,mh=2;function Ie(e,t){if(E2(t,e))return t;const n=vBe(e);return t!==void 0&&fBe(e,n,t),n}function fBe(e,t,n){for(const r of e.members){let i=n[r.localName];if(i==null)continue;let o;if(r.kind=="oneof"){const u=C8(n,r);if(!u)continue;o=u,i=S8(n,u)}else o=r;switch(o.fieldKind){case"message":i=w2(o,i);break;case"scalar":i=x8(o,i);break;case"list":i=gBe(o,i);break;case"map":i=pBe(o,i);break}A8(t,o,i)}return t}function x8(e,t){return e.scalar==X.BYTES?x2(t):t}function pBe(e,t){if(ho(t)){if(e.scalar==X.BYTES)return U9(t,x2);if(e.mapKind=="message")return U9(t,n=>w2(e,n))}return t}function gBe(e,t){if(Array.isArray(t)){if(e.scalar==X.BYTES)return t.map(x2);if(e.listKind=="message")return t.map(n=>w2(e,n))}return t}function w2(e,t){if(e.fieldKind=="message"&&!e.oneof&&ld(e.message))return x8(e.message.fields[0],t);if(ho(t)){if(e.message.typeName=="google.protobuf.Struct"&&e.parent.typeName!=="google.protobuf.Value")return t;if(!E2(t,e.message))return Ie(e.message,t)}return t}function x2(e){return Array.isArray(e)?new Uint8Array(e):e}function U9(e,t){const n={};for(const r of Object.entries(e))n[r[0]]=t(r[1]);return n}const mBe=Symbol(),H9=new WeakMap;function vBe(e){let t;if(yBe(e)){const n=H9.get(e);let r,i;if(n)({prototype:r,members:i}=n);else{r={},i=new Set;for(const o of e.members)o.kind!="oneof"&&(o.fieldKind!="scalar"&&o.fieldKind!="enum"||o.presence!=mh&&(i.add(o),r[o.localName]=jm(o)));H9.set(e,{prototype:r,members:i})}t=Object.create(r),t.$typeName=e.typeName;for(const o of e.members)i.has(o)||o.kind=="field"&&(o.fieldKind=="message"||(o.fieldKind=="scalar"||o.fieldKind=="enum")&&o.presence!=mh)||(t[o.localName]=jm(o))}else{t={$typeName:e.typeName};for(const n of e.members)(n.kind=="oneof"||n.presence==mh)&&(t[n.localName]=jm(n))}return t}function yBe(e){switch(e.file.edition){case dBe:return!1;case hBe:return!0;default:return e.fields.some(t=>t.presence!=mh&&t.fieldKind!="message"&&!t.oneof)}}function jm(e){if(e.kind=="oneof")return{case:void 0};if(e.fieldKind=="list")return[];if(e.fieldKind=="map")return{};if(e.fieldKind=="message")return mBe;const t=e.getDefaultValue();return t!==void 0?e.fieldKind=="scalar"&&e.longAsString?t.toString():t:e.fieldKind=="scalar"?as(e.scalar,e.longAsString):e.enum.values[0].number}const EBe=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class Jn extends Error{constructor(t,n,r="FieldValueInvalidError"){super(n),this.name=r,this.field=()=>t}}function bBe(e){return e instanceof Error&&EBe.includes(e.name)&&"field"in e&&typeof e.field=="function"}const Km=Symbol.for("@bufbuild/protobuf/text-encoding");function D2(){if(globalThis[Km]==null){const e=new globalThis.TextEncoder,t=new globalThis.TextDecoder;globalThis[Km]={encodeUtf8(n){return e.encode(n)},decodeUtf8(n){return t.decode(n)},checkUtf8(n){try{return encodeURIComponent(n),!0}catch{return!1}}}}return globalThis[Km]}var Wt;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(Wt||(Wt={}));const D8=34028234663852886e22,I8=-34028234663852886e22,T8=4294967295,R8=2147483647,B8=-2147483648;class k8{constructor(t=D2().encodeUtf8){this.encodeUtf8=t,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let t=0;for(let i=0;i<this.chunks.length;i++)t+=this.chunks[i].length;let n=new Uint8Array(t),r=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,n){return this.uint32((t<<3|n)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(G9(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return Ym(t),W1(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let n=this.encodeUtf8(t);return this.uint32(n.byteLength),this.raw(n)}float(t){CBe(t);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,t,!0),this.raw(n)}double(t){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),this.raw(n)}fixed32(t){G9(t);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t,!0),this.raw(n)}sfixed32(t){Ym(t);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),this.raw(n)}sint32(t){return Ym(t),t=(t<<1^t>>31)>>>0,W1(t,this.buf),this}sfixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),i=Ot.enc(t);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}fixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),i=Ot.uEnc(t);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}int64(t){let n=Ot.enc(t);return Gm(n.lo,n.hi,this.buf),this}sint64(t){const n=Ot.enc(t),r=n.hi>>31,i=n.lo<<1^r,o=(n.hi<<1|n.lo>>>31)^r;return Gm(i,o,this.buf),this}uint64(t){const n=Ot.uEnc(t);return Gm(n.lo,n.hi,this.buf),this}}class I2{constructor(t,n=D2().decodeUtf8){this.decodeUtf8=n,this.varint64=nBe,this.uint32=aBe,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength)}tag(){let t=this.uint32(),n=t>>>3,r=t&7;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(t,n){let r=this.pos;switch(t){case Wt.Varint:for(;this.buf[this.pos++]&128;);break;case Wt.Bit64:this.pos+=4;case Wt.Bit32:this.pos+=4;break;case Wt.LengthDelimited:let i=this.uint32();this.pos+=i;break;case Wt.StartGroup:for(;;){const[o,u]=this.tag();if(u===Wt.EndGroup){if(n!==void 0&&o!==n)throw new Error("invalid end group tag");break}this.skip(u,o)}break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return Ot.dec(...this.varint64())}uint64(){return Ot.uDec(...this.varint64())}sint64(){let[t,n]=this.varint64(),r=-(t&1);return t=(t>>>1|(n&1)<<31)^r,n=n>>>1^r,Ot.dec(t,n)}bool(){let[t,n]=this.varint64();return t!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Ot.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Ot.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),n=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(n,n+t)}string(){return this.decodeUtf8(this.bytes())}}function Ym(e){if(typeof e=="string")e=Number(e);else if(typeof e!="number")throw new Error("invalid int32: "+typeof e);if(!Number.isInteger(e)||e>R8||e<B8)throw new Error("invalid int32: "+e)}function G9(e){if(typeof e=="string")e=Number(e);else if(typeof e!="number")throw new Error("invalid uint32: "+typeof e);if(!Number.isInteger(e)||e>T8||e<0)throw new Error("invalid uint32: "+e)}function CBe(e){if(typeof e=="string"){const t=e;if(e=Number(e),Number.isNaN(e)&&t!=="NaN")throw new Error("invalid float32: "+t)}else if(typeof e!="number")throw new Error("invalid float32: "+typeof e);if(Number.isFinite(e)&&(e>D8||e<I8))throw new Error("invalid float32: "+e)}function Ko(e,t){const n=e.fieldKind=="list"?C2(t,e):e.fieldKind=="map"?S2(t,e):T2(e,t);if(n===!0)return;let r;switch(e.fieldKind){case"list":r=`expected ${P8(e)}, got ${hn(t)}`;break;case"map":r=`expected ${O8(e)}, got ${hn(t)}`;break;default:r=_h(e,t,n)}return new Jn(e,r)}function j9(e,t,n){const r=T2(e,n);if(r!==!0)return new Jn(e,`list item #${t+1}: ${_h(e,n,r)}`)}function SBe(e,t,n){const r=M8(t,e.mapKey);if(r!==!0)return new Jn(e,`invalid map key: ${_h({scalar:e.mapKey},t,r)}`);const i=T2(e,n);if(i!==!0)return new Jn(e,`map entry ${hn(t)}: ${_h(e,n,i)}`)}function T2(e,t){return e.scalar!==void 0?M8(t,e.scalar):e.enum!==void 0?e.enum.open?Number.isInteger(t):e.enum.values.some(n=>n.number===t):A2(t,e.message)}function M8(e,t){switch(t){case X.DOUBLE:return typeof e=="number";case X.FLOAT:return typeof e!="number"?!1:Number.isNaN(e)||!Number.isFinite(e)?!0:e>D8||e<I8?`${e.toFixed()} out of range`:!0;case X.INT32:case X.SFIXED32:case X.SINT32:return typeof e!="number"||!Number.isInteger(e)?!1:e>R8||e<B8?`${e.toFixed()} out of range`:!0;case X.FIXED32:case X.UINT32:return typeof e!="number"||!Number.isInteger(e)?!1:e>T8||e<0?`${e.toFixed()} out of range`:!0;case X.BOOL:return typeof e=="boolean";case X.STRING:return typeof e!="string"?!1:D2().checkUtf8(e)||"invalid UTF8";case X.BYTES:return e instanceof Uint8Array;case X.INT64:case X.SFIXED64:case X.SINT64:if(typeof e=="bigint"||typeof e=="number"||typeof e=="string"&&e.length>0)try{return Ot.parse(e),!0}catch{return`${e} out of range`}return!1;case X.FIXED64:case X.UINT64:if(typeof e=="bigint"||typeof e=="number"||typeof e=="string"&&e.length>0)try{return Ot.uParse(e),!0}catch{return`${e} out of range`}return!1}}function _h(e,t,n){return n=typeof n=="string"?`: ${n}`:`, got ${hn(t)}`,e.scalar!==void 0?`expected ${ABe(e.scalar)}`+n:e.enum!==void 0?`expected ${e.enum.toString()}`+n:`expected ${N8(e.message)}`+n}function hn(e){switch(typeof e){case"object":return e===null?"null":e instanceof Uint8Array?`Uint8Array(${e.length})`:Array.isArray(e)?`Array(${e.length})`:C2(e)?P8(e.field()):S2(e)?O8(e.field()):A2(e)?N8(e.desc):E2(e)?`message ${e.$typeName}`:"object";case"string":return e.length>30?"string":`"${e.split('"').join('\\"')}"`;case"boolean":return String(e);case"number":return String(e);case"bigint":return String(e)+"n";default:return typeof e}}function N8(e){return`ReflectMessage (${e.typeName})`}function P8(e){switch(e.listKind){case"message":return`ReflectList (${e.message.toString()})`;case"enum":return`ReflectList (${e.enum.toString()})`;case"scalar":return`ReflectList (${X[e.scalar]})`}}function O8(e){switch(e.mapKind){case"message":return`ReflectMap (${X[e.mapKey]}, ${e.message.toString()})`;case"enum":return`ReflectMap (${X[e.mapKey]}, ${e.enum.toString()})`;case"scalar":return`ReflectMap (${X[e.mapKey]}, ${X[e.scalar]})`}}function ABe(e){switch(e){case X.STRING:return"string";case X.BOOL:return"boolean";case X.INT64:case X.SINT64:case X.SFIXED64:return"bigint (int64)";case X.UINT64:case X.FIXED64:return"bigint (uint64)";case X.BYTES:return"Uint8Array";case X.DOUBLE:return"number (float64)";case X.FLOAT:return"number (float32)";case X.FIXED32:case X.UINT32:return"number (uint32)";case X.INT32:case X.SFIXED32:case X.SINT32:return"number (int32)"}}function Ur(e,t,n=!0){return new L8(e,t,n)}const K9=new WeakMap;class L8{get sortedFields(){const t=K9.get(this.desc);if(t)return t;const n=this.desc.fields.concat().sort((r,i)=>r.number-i.number);return K9.set(this.desc,n),n}constructor(t,n,r=!0){this.lists=new Map,this.maps=new Map,this.check=r,this.desc=t,this.message=this[ra]=n??Ie(t),this.fields=t.fields,this.oneofs=t.oneofs,this.members=t.members}findNumber(t){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(n=>[n.number,n]))),this._fieldsByNumber.get(t)}oneofCase(t){return ic(this.message,t),C8(this.message,t)}isSet(t){return ic(this.message,t),uBe(this.message,t)}clear(t){ic(this.message,t),lBe(this.message,t)}get(t){ic(this.message,t);const n=S8(this.message,t);switch(t.fieldKind){case"list":let r=this.lists.get(t);return(!r||r[ra]!==n)&&this.lists.set(t,r=new wBe(t,n,this.check)),r;case"map":let i=this.maps.get(t);return(!i||i[ra]!==n)&&this.maps.set(t,i=new xBe(t,n,this.check)),i;case"message":return B2(t,n,this.check);case"scalar":return n===void 0?as(t.scalar,!1):k2(t,n);case"enum":return n??t.enum.values[0].number}}set(t,n){if(ic(this.message,t),this.check){const i=Ko(t,n);if(i)throw i}let r;t.fieldKind=="message"?r=R2(t,n):S2(n)||C2(n)?r=n[ra]:r=M2(t,n),A8(this.message,t,r)}getUnknown(){return this.message.$unknown}setUnknown(t){this.message.$unknown=t}}function ic(e,t){if(t.parent.typeName!==e.$typeName)throw new Jn(t,`cannot use ${t.toString()} with message ${e.$typeName}`,"ForeignFieldError")}class wBe{field(){return this._field}get size(){return this._arr.length}constructor(t,n,r){this._field=t,this._arr=this[ra]=n,this.check=r}get(t){const n=this._arr[t];return n===void 0?void 0:Wm(this._field,n,this.check)}set(t,n){if(t<0||t>=this._arr.length)throw new Jn(this._field,`list item #${t+1}: out of range`);if(this.check){const r=j9(this._field,t,n);if(r)throw r}this._arr[t]=Y9(this._field,n)}add(t){if(this.check){const n=j9(this._field,this._arr.length,t);if(n)throw n}this._arr.push(Y9(this._field,t))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const t of this._arr)yield Wm(this._field,t,this.check)}*entries(){for(let t=0;t<this._arr.length;t++)yield[t,Wm(this._field,this._arr[t],this.check)]}}class xBe{constructor(t,n,r=!0){this.obj=this[ra]=n??{},this.check=r,this._field=t}field(){return this._field}set(t,n){if(this.check){const r=SBe(this._field,t,n);if(r)throw r}return this.obj[nh(t)]=DBe(this._field,n),this}delete(t){const n=nh(t),r=Object.prototype.hasOwnProperty.call(this.obj,n);return r&&delete this.obj[n],r}clear(){for(const t of Object.keys(this.obj))delete this.obj[t]}get(t){let n=this.obj[nh(t)];return n!==void 0&&(n=Zm(this._field,n,this.check)),n}has(t){return Object.prototype.hasOwnProperty.call(this.obj,nh(t))}*keys(){for(const t of Object.keys(this.obj))yield W9(t,this._field.mapKey)}*entries(){for(const t of Object.entries(this.obj))yield[W9(t[0],this._field.mapKey),Zm(this._field,t[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const t of Object.values(this.obj))yield Zm(this._field,t,this.check)}forEach(t,n){for(const r of this.entries())t.call(n,r[1],r[0],this)}}function R2(e,t){return A2(t)?cBe(t.message)&&!e.oneof&&e.fieldKind=="message"?t.message.value:t.desc.typeName=="google.protobuf.Struct"&&e.parent.typeName!="google.protobuf.Value"?_8(t.message):t.message:t}function B2(e,t,n){return t!==void 0&&(ld(e.message)&&!e.oneof&&e.fieldKind=="message"?t={$typeName:e.message.typeName,value:k2(e.message.fields[0],t)}:e.message.typeName=="google.protobuf.Struct"&&e.parent.typeName!="google.protobuf.Value"&&ho(t)&&(t=F8(t))),new L8(e.message,t,n)}function Y9(e,t){return e.listKind=="message"?R2(e,t):M2(e,t)}function Wm(e,t,n){return e.listKind=="message"?B2(e,t,n):k2(e,t)}function DBe(e,t){return e.mapKind=="message"?R2(e,t):M2(e,t)}function Zm(e,t,n){return e.mapKind=="message"?B2(e,t,n):t}function nh(e){return typeof e=="string"||typeof e=="number"?e:String(e)}function W9(e,t){switch(t){case X.STRING:return e;case X.INT32:case X.FIXED32:case X.UINT32:case X.SFIXED32:case X.SINT32:{const n=Number.parseInt(e);if(Number.isFinite(n))return n;break}case X.BOOL:switch(e){case"true":return!0;case"false":return!1}break;case X.UINT64:case X.FIXED64:try{return Ot.uParse(e)}catch{}break;default:try{return Ot.parse(e)}catch{}break}return e}function k2(e,t){switch(e.scalar){case X.INT64:case X.SFIXED64:case X.SINT64:"longAsString"in e&&e.longAsString&&typeof t=="string"&&(t=Ot.parse(t));break;case X.FIXED64:case X.UINT64:"longAsString"in e&&e.longAsString&&typeof t=="string"&&(t=Ot.uParse(t));break}return t}function M2(e,t){switch(e.scalar){case X.INT64:case X.SFIXED64:case X.SINT64:"longAsString"in e&&e.longAsString?t=String(t):(typeof t=="string"||typeof t=="number")&&(t=Ot.parse(t));break;case X.FIXED64:case X.UINT64:"longAsString"in e&&e.longAsString?t=String(t):(typeof t=="string"||typeof t=="number")&&(t=Ot.uParse(t));break}return t}function F8(e){const t={$typeName:"google.protobuf.Struct",fields:{}};if(ho(e))for(const[n,r]of Object.entries(e))t.fields[n]=z8(r);return t}function _8(e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=$8(r);return t}function $8(e){switch(e.kind.case){case"structValue":return _8(e.kind.value);case"listValue":return e.kind.value.values.map($8);case"nullValue":case void 0:return null;default:return e.kind.value}}function z8(e){const t={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof e){case"number":t.kind={case:"numberValue",value:e};break;case"string":t.kind={case:"stringValue",value:e};break;case"boolean":t.kind={case:"boolValue",value:e};break;case"object":if(e===null)t.kind={case:"nullValue",value:0};else if(Array.isArray(e)){const n={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(e))for(const r of e)n.values.push(z8(r));t.kind={case:"listValue",value:n}}else t.kind={case:"structValue",value:F8(e)};break}return t}function N2(e){const t=TBe();let n=e.length*3/4;e[e.length-2]=="="?n-=2:e[e.length-1]=="="&&(n-=1);let r=new Uint8Array(n),i=0,o=0,u,l=0;for(let c=0;c<e.length;c++){if(u=t[e.charCodeAt(c)],u===void 0)switch(e[c]){case"=":o=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(o){case 0:l=u,o=1;break;case 1:r[i++]=l<<2|(u&48)>>4,l=u,o=2;break;case 2:r[i++]=(l&15)<<4|(u&60)>>2,l=u,o=3;break;case 3:r[i++]=(l&3)<<6|u,o=0;break}}if(o==1)throw Error("invalid base64 string");return r.subarray(0,i)}function IBe(e,t="std"){const n=V8(t),r=t=="std";let i="",o=0,u,l=0;for(let c=0;c<e.length;c++)switch(u=e[c],o){case 0:i+=n[u>>2],l=(u&3)<<4,o=1;break;case 1:i+=n[l|u>>4],l=(u&15)<<2,o=2;break;case 2:i+=n[l|u>>6],i+=n[u&63],o=0;break}return o&&(i+=n[l],r&&(i+="=",o==1&&(i+="="))),i}let rh,Z9,uu;function V8(e){return rh||(rh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Z9=rh.slice(0,-2).concat("-","_")),e=="url"?Z9:rh}function TBe(){if(!uu){uu=[];const e=V8("std");for(let t=0;t<e.length;t++)uu[e[t].charCodeAt(0)]=t;uu[45]=e.indexOf("+"),uu[95]=e.indexOf("/")}return uu}function Fc(e){let t=!1;const n=[];for(let r=0;r<e.length;r++){let i=e.charAt(r);switch(i){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(i),t=!1;break;default:t&&(t=!1,i=i.toUpperCase()),n.push(i);break}}return n.join("")}const RBe=new Set(["constructor","toString","toJSON","valueOf"]);function _c(e){return RBe.has(e)?e+"$":e}function P2(e){for(const t of e.field)Lc(t,"jsonName")||(t.jsonName=Fc(t.name));e.nestedType.forEach(P2)}function BBe(e,t){const n=e.values.find(r=>r.name===t);if(!n)throw new Error(`cannot parse ${e} default value: ${t}`);return n.number}function kBe(e,t){switch(e){case X.STRING:return t;case X.BYTES:{const n=MBe(t);if(n===!1)throw new Error(`cannot parse ${X[e]} default value: ${t}`);return n}case X.INT64:case X.SFIXED64:case X.SINT64:return Ot.parse(t);case X.UINT64:case X.FIXED64:return Ot.uParse(t);case X.DOUBLE:case X.FLOAT:switch(t){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(t)}case X.BOOL:return t==="true";case X.INT32:case X.UINT32:case X.SINT32:case X.FIXED32:case X.SFIXED32:return parseInt(t,10)}}function MBe(e){const t=[],n={tail:e,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(r){if(this.tail.length>=r){const i=this.tail.substring(0,r);return this.tail=this.tail.substring(r),i}return!1}};for(;n.next();)switch(n.c){case"\\":if(n.next())switch(n.c){case"\\":t.push(n.c.charCodeAt(0));break;case"b":t.push(8);break;case"f":t.push(12);break;case"n":t.push(10);break;case"r":t.push(13);break;case"t":t.push(9);break;case"v":t.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const r=n.c,i=n.take(2);if(i===!1)return!1;const o=parseInt(r+i,8);if(Number.isNaN(o))return!1;t.push(o);break}case"x":{const r=n.c,i=n.take(2);if(i===!1)return!1;const o=parseInt(r+i,16);if(Number.isNaN(o))return!1;t.push(o);break}case"u":{const r=n.c,i=n.take(4);if(i===!1)return!1;const o=parseInt(r+i,16);if(Number.isNaN(o))return!1;const u=new Uint8Array(4);new DataView(u.buffer).setInt32(0,o,!0),t.push(u[0],u[1],u[2],u[3]);break}case"U":{const r=n.c,i=n.take(8);if(i===!1)return!1;const o=Ot.uEnc(r+i),u=new Uint8Array(8),l=new DataView(u.buffer);l.setInt32(0,o.lo,!0),l.setInt32(4,o.hi,!0),t.push(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7]);break}}break;default:t.push(n.c.charCodeAt(0))}return new Uint8Array(t)}function*Z1(e){switch(e.kind){case"file":for(const t of e.messages)yield t,yield*Z1(t);yield*e.enums,yield*e.services,yield*e.extensions;break;case"message":for(const t of e.nestedMessages)yield t,yield*Z1(t);yield*e.nestedEnums,yield*e.nestedExtensions;break}}function U8(...e){const t=NBe();if(!e.length)return t;if("$typeName"in e[0]&&e[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const r of e[0].file)Q9(r,t);return t}if("$typeName"in e[0]){let u=function(l){const c=[];for(const f of l.dependency){if(t.getFile(f)!=null||o.has(f))continue;const g=i(f);if(!g)throw new Error(`Unable to resolve ${f}, imported by ${l.name}`);"kind"in g?t.addFile(g,!1,!0):(o.add(g.name),c.push(g))}return c.concat(...c.map(u))};var n=u;const r=e[0],i=e[1],o=new Set;for(const l of[r,...u(r)].reverse())Q9(l,t)}else for(const r of e)for(const i of r.files)t.addFile(i);return t}function NBe(){const e=new Map,t=new Map,n=new Map;return{kind:"registry",types:e,extendees:t,[Symbol.iterator](){return e.values()},get files(){return n.values()},addFile(r,i,o){if(n.set(r.proto.name,r),!i)for(const u of Z1(r))this.add(u);if(o)for(const u of r.dependencies)this.addFile(u,i,o)},add(r){if(r.kind=="extension"){let i=t.get(r.extendee.typeName);i||t.set(r.extendee.typeName,i=new Map),i.set(r.number,r)}e.set(r.typeName,r)},get(r){return e.get(r)},getFile(r){return n.get(r)},getMessage(r){const i=e.get(r);return i?.kind=="message"?i:void 0},getEnum(r){const i=e.get(r);return i?.kind=="enum"?i:void 0},getExtension(r){const i=e.get(r);return i?.kind=="extension"?i:void 0},getExtensionFor(r,i){var o;return(o=t.get(r.typeName))===null||o===void 0?void 0:o.get(i)},getService(r){const i=e.get(r);return i?.kind=="service"?i:void 0}}}const PBe=998,OBe=999,LBe=9,$c=10,Sc=11,FBe=12,X9=14,O2=3,_Be=2,J9=1,$Be=0,Xm=1,q9=2,zBe=3,VBe=1,UBe=2,HBe=1,H8={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function Q9(e,t){var n,r;const i={kind:"file",proto:e,deprecated:(r=(n=e.options)===null||n===void 0?void 0:n.deprecated)!==null&&r!==void 0?r:!1,edition:YBe(e),name:e.name.replace(/\.proto$/,""),dependencies:WBe(e,t),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${e.name}`}},o=new Map,u={get(l){return o.get(l)},add(l){var c;ni(((c=l.proto.options)===null||c===void 0?void 0:c.mapEntry)===!0),o.set(l.typeName,l)}};for(const l of e.enumType)G8(l,i,void 0,t);for(const l of e.messageType)j8(l,i,void 0,t,u);for(const l of e.service)GBe(l,i,t);X1(i,t);for(const l of o.values())J1(l,t,u);for(const l of i.messages)J1(l,t,u),X1(l,t);t.addFile(i,!0)}function X1(e,t){switch(e.kind){case"file":for(const n of e.proto.extension){const r=q1(n,e,t);e.extensions.push(r),t.add(r)}break;case"message":for(const n of e.proto.extension){const r=q1(n,e,t);e.nestedExtensions.push(r),t.add(r)}for(const n of e.nestedMessages)X1(n,t);break}}function J1(e,t,n){const r=e.proto.oneofDecl.map(o=>KBe(o,e)),i=new Set;for(const o of e.proto.field){const u=JBe(o,r),l=q1(o,e,t,u,n);e.fields.push(l),e.field[l.localName]=l,u===void 0?e.members.push(l):(u.fields.push(l),i.has(u)||(i.add(u),e.members.push(u)))}for(const o of r.filter(u=>i.has(u)))e.oneofs.push(o);for(const o of e.nestedMessages)J1(o,t,n)}function G8(e,t,n,r){var i,o,u,l,c;const f=ZBe(e.name,e.value),g={kind:"enum",proto:e,deprecated:(o=(i=e.options)===null||i===void 0?void 0:i.deprecated)!==null&&o!==void 0?o:!1,file:t,parent:n,open:!0,name:e.name,typeName:Tf(e,n,t),value:{},values:[],sharedPrefix:f,toString(){return`enum ${this.typeName}`}};g.open=tke(g),r.add(g);for(const m of e.value){const v=m.name;g.values.push(g.value[m.number]={kind:"enum_value",proto:m,deprecated:(l=(u=m.options)===null||u===void 0?void 0:u.deprecated)!==null&&l!==void 0?l:!1,parent:g,name:v,localName:_c(f==null?v:v.substring(f.length)),number:m.number,toString(){return`enum value ${g.typeName}.${v}`}})}((c=n?.nestedEnums)!==null&&c!==void 0?c:t.enums).push(g)}function j8(e,t,n,r,i){var o,u,l,c;const f={kind:"message",proto:e,deprecated:(u=(o=e.options)===null||o===void 0?void 0:o.deprecated)!==null&&u!==void 0?u:!1,file:t,parent:n,name:e.name,typeName:Tf(e,n,t),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((l=e.options)===null||l===void 0?void 0:l.mapEntry)===!0?i.add(f):(((c=n?.nestedMessages)!==null&&c!==void 0?c:t.messages).push(f),r.add(f));for(const g of e.enumType)G8(g,t,f,r);for(const g of e.nestedType)j8(g,t,f,r,i)}function GBe(e,t,n){var r,i;const o={kind:"service",proto:e,deprecated:(i=(r=e.options)===null||r===void 0?void 0:r.deprecated)!==null&&i!==void 0?i:!1,file:t,name:e.name,typeName:Tf(e,void 0,t),methods:[],method:{},toString(){return`service ${this.typeName}`}};t.services.push(o),n.add(o);for(const u of e.method){const l=jBe(u,o,n);o.methods.push(l),o.method[l.localName]=l}}function jBe(e,t,n){var r,i,o,u;let l;e.clientStreaming&&e.serverStreaming?l="bidi_streaming":e.clientStreaming?l="client_streaming":e.serverStreaming?l="server_streaming":l="unary";const c=n.getMessage(ta(e.inputType)),f=n.getMessage(ta(e.outputType));ni(c,`invalid MethodDescriptorProto: input_type ${e.inputType} not found`),ni(f,`invalid MethodDescriptorProto: output_type ${e.inputType} not found`);const g=e.name;return{kind:"rpc",proto:e,deprecated:(i=(r=e.options)===null||r===void 0?void 0:r.deprecated)!==null&&i!==void 0?i:!1,parent:t,name:g,localName:_c(g.length?_c(g[0].toLowerCase()+g.substring(1)):g),methodKind:l,input:c,output:f,idempotency:(u=(o=e.options)===null||o===void 0?void 0:o.idempotencyLevel)!==null&&u!==void 0?u:$Be,toString(){return`rpc ${t.typeName}.${g}`}}}function KBe(e,t){return{kind:"oneof",proto:e,deprecated:!1,parent:t,fields:[],name:e.name,localName:_c(Fc(e.name)),toString(){return`oneof ${t.typeName}.${this.name}`}}}function q1(e,t,n,r,i){var o,u,l;const c=i===void 0,f={kind:"field",proto:e,deprecated:(u=(o=e.options)===null||o===void 0?void 0:o.deprecated)!==null&&u!==void 0?u:!1,name:e.name,number:e.number,scalar:void 0,message:void 0,enum:void 0,presence:qBe(e,r,c,t),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(c){const y=t.kind=="file"?t:t.file,b=t.kind=="file"?void 0:t,C=Tf(e,b,y);f.kind="extension",f.file=y,f.parent=b,f.oneof=void 0,f.typeName=C,f.jsonName=`[${C}]`,f.toString=()=>`extension ${C}`;const A=n.getMessage(ta(e.extendee));ni(A,`invalid FieldDescriptorProto: extendee ${e.extendee} not found`),f.extendee=A}else{const y=t;ni(y.kind=="message"),f.parent=y,f.oneof=r,f.localName=r?Fc(e.name):_c(Fc(e.name)),f.jsonName=e.jsonName,f.toString=()=>`field ${y.typeName}.${e.name}`}const g=e.label,m=e.type,v=(l=e.options)===null||l===void 0?void 0:l.jstype;if(g===O2){const y=m==Sc?i?.get(ta(e.typeName)):void 0;if(y){f.fieldKind="map";const{key:b,value:C}=eke(y);return f.mapKey=b.scalar,f.mapKind=C.fieldKind,f.message=C.message,f.delimitedEncoding=!1,f.enum=C.enum,f.scalar=C.scalar,f}switch(f.fieldKind="list",m){case Sc:case $c:f.listKind="message",f.message=n.getMessage(ta(e.typeName)),ni(f.message),f.delimitedEncoding=e5(e,t);break;case X9:f.listKind="enum",f.enum=n.getEnum(ta(e.typeName)),ni(f.enum);break;default:f.listKind="scalar",f.scalar=m,f.longAsString=v==J9;break}return f.packed=QBe(e,t),f}switch(m){case Sc:case $c:f.fieldKind="message",f.message=n.getMessage(ta(e.typeName)),ni(f.message,`invalid FieldDescriptorProto: type_name ${e.typeName} not found`),f.delimitedEncoding=e5(e,t),f.getDefaultValue=()=>{};break;case X9:{const y=n.getEnum(ta(e.typeName));ni(y!==void 0,`invalid FieldDescriptorProto: type_name ${e.typeName} not found`),f.fieldKind="enum",f.enum=n.getEnum(ta(e.typeName)),f.getDefaultValue=()=>Lc(e,"defaultValue")?BBe(y,e.defaultValue):void 0;break}default:{f.fieldKind="scalar",f.scalar=m,f.longAsString=v==J9,f.getDefaultValue=()=>Lc(e,"defaultValue")?kBe(m,e.defaultValue):void 0;break}}return f}function YBe(e){switch(e.syntax){case"":case"proto2":return PBe;case"proto3":return OBe;case"editions":if(e.edition in H8)return e.edition;throw new Error(`${e.name}: unsupported edition`);default:throw new Error(`${e.name}: unsupported syntax "${e.syntax}"`)}}function WBe(e,t){return e.dependency.map(n=>{const r=t.getFile(n);if(!r)throw new Error(`Cannot find ${n}, imported by ${e.name}`);return r})}function ZBe(e,t){const n=XBe(e)+"_";for(const r of t){if(!r.name.toLowerCase().startsWith(n))return;const i=r.name.substring(n.length);if(i.length==0||/^\d/.test(i))return}return n}function XBe(e){return(e.substring(0,1)+e.substring(1).replace(/[A-Z]/g,t=>"_"+t)).toLowerCase()}function Tf(e,t,n){let r;return t?r=`${t.typeName}.${e.name}`:n.proto.package.length>0?r=`${n.proto.package}.${e.name}`:r=`${e.name}`,r}function ta(e){return e.startsWith(".")?e.substring(1):e}function JBe(e,t){if(!Lc(e,"oneofIndex")||e.proto3Optional)return;const n=t[e.oneofIndex];return ni(n,`invalid FieldDescriptorProto: oneof #${e.oneofIndex} for field #${e.number} not found`),n}function qBe(e,t,n,r){if(e.label==_Be)return zBe;if(e.label==O2)return q9;if(t||e.proto3Optional||n)return Xm;const i=Pu("fieldPresence",{proto:e,parent:r});return i==q9&&(e.type==Sc||e.type==$c)?Xm:i}function QBe(e,t){if(e.label!=O2)return!1;switch(e.type){case LBe:case FBe:case $c:case Sc:return!1}const n=e.options;return n&&Lc(n,"packed")?n.packed:VBe==Pu("repeatedFieldEncoding",{proto:e,parent:t})}function eke(e){const t=e.fields.find(r=>r.number===1),n=e.fields.find(r=>r.number===2);return ni(t&&t.fieldKind=="scalar"&&t.scalar!=X.BYTES&&t.scalar!=X.FLOAT&&t.scalar!=X.DOUBLE&&n&&n.fieldKind!="list"&&n.fieldKind!="map"),{key:t,value:n}}function tke(e){var t;return HBe==Pu("enumType",{proto:e.proto,parent:(t=e.parent)!==null&&t!==void 0?t:e.file})}function e5(e,t){return e.type==$c?!0:UBe==Pu("messageEncoding",{proto:e,parent:t})}function Pu(e,t){var n,r;const i=(n=t.proto.options)===null||n===void 0?void 0:n.features;if(i){const o=i[e];if(o!=0)return o}if("kind"in t){if(t.kind=="message")return Pu(e,(r=t.parent)!==null&&r!==void 0?r:t.file);const o=H8[t.edition];if(!o)throw new Error(`feature default for edition ${t.edition} not found`);return o[e]}return Pu(e,t.parent)}function ni(e,t){if(!e)throw new Error(t)}function nke(e){const t=rke(e);return t.messageType.forEach(P2),U8(t,()=>{}).getFile(t.name)}function rke(e){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},e),{messageType:e.messageType.map(K8),enumType:e.enumType.map(Y8)}))}function K8(e){var t,n,r,i,o,u,l,c;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:e.name,field:(n=(t=e.field)===null||t===void 0?void 0:t.map(ike))!==null&&n!==void 0?n:[],extension:[],nestedType:(i=(r=e.nestedType)===null||r===void 0?void 0:r.map(K8))!==null&&i!==void 0?i:[],enumType:(u=(o=e.enumType)===null||o===void 0?void 0:o.map(Y8))!==null&&u!==void 0?u:[],extensionRange:(c=(l=e.extensionRange)===null||l===void 0?void 0:l.map(g=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},g)))!==null&&c!==void 0?c:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function ike(e){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},e),{options:e.options?ake(e.options):void 0}))}function ake(e){var t,n,r;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},e),{targets:(t=e.targets)!==null&&t!==void 0?t:[],editionDefaults:(r=(n=e.editionDefaults)===null||n===void 0?void 0:n.map(o=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},o)))!==null&&r!==void 0?r:[],uninterpretedOption:[]}))}function Y8(e){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:e.name,reservedName:[],reservedRange:[],value:e.value.map(n=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},n))})}function ze(e,t,...n){return n.reduce((r,i)=>r.nestedMessages[i],e.messages[t])}const oke=nke({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),ske=ze(oke,1);var t5;(function(e){e[e.DECLARATION=0]="DECLARATION",e[e.UNVERIFIED=1]="UNVERIFIED"})(t5||(t5={}));var n5;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.GROUP=10]="GROUP",e[e.MESSAGE=11]="MESSAGE",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.ENUM=14]="ENUM",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(n5||(n5={}));var r5;(function(e){e[e.OPTIONAL=1]="OPTIONAL",e[e.REPEATED=3]="REPEATED",e[e.REQUIRED=2]="REQUIRED"})(r5||(r5={}));var i5;(function(e){e[e.SPEED=1]="SPEED",e[e.CODE_SIZE=2]="CODE_SIZE",e[e.LITE_RUNTIME=3]="LITE_RUNTIME"})(i5||(i5={}));var a5;(function(e){e[e.STRING=0]="STRING",e[e.CORD=1]="CORD",e[e.STRING_PIECE=2]="STRING_PIECE"})(a5||(a5={}));var o5;(function(e){e[e.JS_NORMAL=0]="JS_NORMAL",e[e.JS_STRING=1]="JS_STRING",e[e.JS_NUMBER=2]="JS_NUMBER"})(o5||(o5={}));var s5;(function(e){e[e.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",e[e.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",e[e.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(s5||(s5={}));var u5;(function(e){e[e.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",e[e.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",e[e.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",e[e.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",e[e.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",e[e.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",e[e.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",e[e.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",e[e.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",e[e.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(u5||(u5={}));var l5;(function(e){e[e.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",e[e.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",e[e.IDEMPOTENT=2]="IDEMPOTENT"})(l5||(l5={}));var c5;(function(e){e[e.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",e[e.EXPORT_ALL=1]="EXPORT_ALL",e[e.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",e[e.LOCAL_ALL=3]="LOCAL_ALL",e[e.STRICT=4]="STRICT"})(c5||(c5={}));var d5;(function(e){e[e.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",e[e.EXPLICIT=1]="EXPLICIT",e[e.IMPLICIT=2]="IMPLICIT",e[e.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(d5||(d5={}));var h5;(function(e){e[e.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",e[e.OPEN=1]="OPEN",e[e.CLOSED=2]="CLOSED"})(h5||(h5={}));var f5;(function(e){e[e.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",e[e.PACKED=1]="PACKED",e[e.EXPANDED=2]="EXPANDED"})(f5||(f5={}));var p5;(function(e){e[e.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",e[e.VERIFY=2]="VERIFY",e[e.NONE=3]="NONE"})(p5||(p5={}));var g5;(function(e){e[e.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",e[e.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",e[e.DELIMITED=2]="DELIMITED"})(g5||(g5={}));var m5;(function(e){e[e.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",e[e.ALLOW=1]="ALLOW",e[e.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(m5||(m5={}));var v5;(function(e){e[e.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",e[e.STYLE2024=1]="STYLE2024",e[e.STYLE_LEGACY=2]="STYLE_LEGACY"})(v5||(v5={}));var y5;(function(e){e[e.NONE=0]="NONE",e[e.SET=1]="SET",e[e.ALIAS=2]="ALIAS"})(y5||(y5={}));var E5;(function(e){e[e.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",e[e.EDITION_LEGACY=900]="EDITION_LEGACY",e[e.EDITION_PROTO2=998]="EDITION_PROTO2",e[e.EDITION_PROTO3=999]="EDITION_PROTO3",e[e.EDITION_2023=1e3]="EDITION_2023",e[e.EDITION_2024=1001]="EDITION_2024",e[e.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",e[e.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",e[e.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",e[e.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",e[e.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",e[e.EDITION_MAX=2147483647]="EDITION_MAX"})(E5||(E5={}));var b5;(function(e){e[e.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",e[e.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",e[e.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})(b5||(b5={}));const C5={readUnknownFields:!0};function uke(e){return e?Object.assign(Object.assign({},C5),e):C5}function Hr(e,t,n){const r=Ur(e,void 0,!1);return W8(r,new I2(t),uke(n),!1,t.byteLength),r.message}function W8(e,t,n,r,i){var o;const u=r?t.len:t.pos+i;let l,c;const f=(o=e.getUnknown())!==null&&o!==void 0?o:[];for(;t.pos<u&&([l,c]=t.tag(),!(r&&c==Wt.EndGroup));){const g=e.findNumber(l);if(!g){const m=t.skip(c,l);n.readUnknownFields&&f.push({no:l,wireType:c,data:m});continue}Z8(e,t,g,c,n)}if(r&&(c!=Wt.EndGroup||l!==i))throw new Error("invalid end group tag");f.length>0&&e.setUnknown(f)}function Z8(e,t,n,r,i){var o;switch(n.fieldKind){case"scalar":e.set(n,Ou(t,n.scalar));break;case"enum":const u=Ou(t,X.INT32);if(n.enum.open)e.set(n,u);else if(n.enum.values.some(c=>c.number===u))e.set(n,u);else if(i.readUnknownFields){const c=[];W1(u,c);const f=(o=e.getUnknown())!==null&&o!==void 0?o:[];f.push({no:n.number,wireType:r,data:new Uint8Array(c)}),e.setUnknown(f)}break;case"message":e.set(n,L2(t,i,n,e.get(n)));break;case"list":cke(t,r,e.get(n),i);break;case"map":lke(t,e.get(n),i);break}}function lke(e,t,n){const r=t.field();let i,o;const u=e.uint32(),l=e.pos+u;for(;e.pos<l;){const[c]=e.tag();switch(c){case 1:i=Ou(e,r.mapKey);break;case 2:switch(r.mapKind){case"scalar":o=Ou(e,r.scalar);break;case"enum":o=e.int32();break;case"message":o=L2(e,n,r);break}break}}if(i===void 0&&(i=as(r.mapKey,!1)),o===void 0)switch(r.mapKind){case"scalar":o=as(r.scalar,!1);break;case"enum":o=r.enum.values[0].number;break;case"message":o=Ur(r.message,void 0,!1);break}t.set(i,o)}function cke(e,t,n,r){var i;const o=n.field();if(o.listKind==="message"){n.add(L2(e,r,o));return}const u=(i=o.scalar)!==null&&i!==void 0?i:X.INT32;if(!(t==Wt.LengthDelimited&&u!=X.STRING&&u!=X.BYTES)){n.add(Ou(e,u));return}const c=e.uint32()+e.pos;for(;e.pos<c;)n.add(Ou(e,u))}function L2(e,t,n,r){const i=n.delimitedEncoding,o=r??Ur(n.message,void 0,!1);return W8(o,e,t,i,i?n.number:e.uint32()),o}function Ou(e,t){switch(t){case X.STRING:return e.string();case X.BOOL:return e.bool();case X.DOUBLE:return e.double();case X.FLOAT:return e.float();case X.INT32:return e.int32();case X.INT64:return e.int64();case X.UINT64:return e.uint64();case X.FIXED64:return e.fixed64();case X.BYTES:return e.bytes();case X.FIXED32:return e.fixed32();case X.SFIXED32:return e.sfixed32();case X.SFIXED64:return e.sfixed64();case X.SINT64:return e.sint64();case X.UINT32:return e.uint32();case X.SINT32:return e.sint32()}}function Ea(e,t){var n;const r=Hr(ske,N2(e));return r.messageType.forEach(P2),r.dependency=(n=t?.map(o=>o.proto.name))!==null&&n!==void 0?n:[],U8(r,o=>t?.find(u=>u.proto.name===o)).getFile(r.name)}const dke=Ea("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function hke(e){return new Date(fke(e))}function fke(e){return Number(e.seconds)*1e3+Math.round(e.nanos/1e6)}const pke=Ea("Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),X8=Ea("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),gke=ze(X8,0),mke=3,S5={writeUnknownFields:!0};function vke(e){return e?Object.assign(Object.assign({},S5),e):S5}function fo(e,t,n){return $h(new k8,vke(n),Ur(e,t)).finish()}function $h(e,t,n){var r;for(const i of n.sortedFields){if(!n.isSet(i)){if(i.presence==mke)throw new Error(`cannot encode ${i} to binary: required field not set`);continue}J8(e,t,n,i)}if(t.writeUnknownFields)for(const{no:i,wireType:o,data:u}of(r=n.getUnknown())!==null&&r!==void 0?r:[])e.tag(i,o).raw(u);return e}function J8(e,t,n,r){var i;switch(r.fieldKind){case"scalar":case"enum":zh(e,n.desc.typeName,r.name,(i=r.scalar)!==null&&i!==void 0?i:X.INT32,r.number,n.get(r));break;case"list":yke(e,t,r,n.get(r));break;case"message":q8(e,t,r,n.get(r));break;case"map":for(const[o,u]of n.get(r))Eke(e,t,r,o,u);break}}function zh(e,t,n,r,i,o){Q8(e.tag(i,bke(r)),t,n,r,o)}function q8(e,t,n,r){n.delimitedEncoding?$h(e.tag(n.number,Wt.StartGroup),t,r).tag(n.number,Wt.EndGroup):$h(e.tag(n.number,Wt.LengthDelimited).fork(),t,r).join()}function yke(e,t,n,r){var i;if(n.listKind=="message"){for(const u of r)q8(e,t,n,u);return}const o=(i=n.scalar)!==null&&i!==void 0?i:X.INT32;if(n.packed){if(!r.size)return;e.tag(n.number,Wt.LengthDelimited).fork();for(const u of r)Q8(e,n.parent.typeName,n.name,o,u);e.join();return}for(const u of r)zh(e,n.parent.typeName,n.name,o,n.number,u)}function Eke(e,t,n,r,i){var o;switch(e.tag(n.number,Wt.LengthDelimited).fork(),zh(e,n.parent.typeName,n.name,n.mapKey,1,r),n.mapKind){case"scalar":case"enum":zh(e,n.parent.typeName,n.name,(o=n.scalar)!==null&&o!==void 0?o:X.INT32,2,i);break;case"message":$h(e.tag(2,Wt.LengthDelimited).fork(),t,i).join();break}e.join()}function Q8(e,t,n,r,i){try{switch(r){case X.STRING:e.string(i);break;case X.BOOL:e.bool(i);break;case X.DOUBLE:e.double(i);break;case X.FLOAT:e.float(i);break;case X.INT32:e.int32(i);break;case X.INT64:e.int64(i);break;case X.UINT64:e.uint64(i);break;case X.FIXED64:e.fixed64(i);break;case X.BYTES:e.bytes(i);break;case X.FIXED32:e.fixed32(i);break;case X.SFIXED32:e.sfixed32(i);break;case X.SFIXED64:e.sfixed64(i);break;case X.SINT64:e.sint64(i);break;case X.UINT32:e.uint32(i);break;case X.SINT32:e.sint32(i);break}}catch(o){throw o instanceof Error?new Error(`cannot encode field ${t}.${n} to binary: ${o.message}`):o}}function bke(e){switch(e){case X.BYTES:case X.STRING:return Wt.LengthDelimited;case X.DOUBLE:case X.FIXED64:case X.SFIXED64:return Wt.Bit64;case X.FIXED32:case X.SFIXED32:case X.FLOAT:return Wt.Bit32;default:return Wt.Varint}}function Cke(e,t,n){let r=!1;return n||(n=Ie(gke),r=!0),n.value=fo(e,t),n.typeUrl=wke(t.$typeName),r?n:void 0}function Ske(e,t){if(e.typeUrl==="")return!1;const n=typeof t=="string"?t:t.typeName,r=eD(e.typeUrl);return n===r}function Ake(e,t){if(e.typeUrl==="")return;const n=t.kind=="message"?t:t.getMessage(eD(e.typeUrl));if(!(!n||!Ske(e,n)))return Hr(n,e.value)}function wke(e){return`type.googleapis.com/${e}`}function eD(e){const t=e.lastIndexOf("/"),n=t>=0?e.substring(t+1):e;if(!n.length)throw new Error(`invalid type url: ${e}`);return n}const F2=Ea("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),xke=ze(F2,0),tD=ze(F2,1),Dke=ze(F2,2);var Q1;(function(e){e[e.NULL_VALUE=0]="NULL_VALUE"})(Q1||(Q1={}));const Ike=Ea("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function Tke(e,t){nD(t,e);const n=Bke(e.$unknown,t),[r,i,o]=Rf(t);for(const u of n)Z8(r,new I2(u.data),i,u.wireType,{readUnknownFields:!0});return o()}function Rke(e,t,n){var r;nD(t,e);const i=((r=e.$unknown)!==null&&r!==void 0?r:[]).filter(f=>f.no!==t.number),[o,u]=Rf(t,n),l=new k8;J8(l,{writeUnknownFields:!0},o,u);const c=new I2(l.finish());for(;c.pos<c.len;){const[f,g]=c.tag(),m=c.skip(g,f);i.push({no:f,wireType:g,data:m})}e.$unknown=i}function Bke(e,t){if(e===void 0)return[];if(t.fieldKind==="enum"||t.fieldKind==="scalar"){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.number)return[e[n]];return[]}return e.filter(n=>n.no===t.number)}function Rf(e,t){const n=e.typeName,r=Object.assign(Object.assign({},e),{kind:"field",parent:e.extendee,localName:n}),i=Object.assign(Object.assign({},e.extendee),{fields:[r],members:[r],oneofs:[]}),o=Ie(i,t!==void 0?{[n]:t}:void 0);return[Ur(i,o),r,()=>{const u=o[n];if(u===void 0){const l=e.message;return ld(l)?as(l.fields[0].scalar,l.fields[0].longAsString):Ie(l)}return u}]}function nD(e,t){if(e.extendee.typeName!=t.$typeName)throw new Error(`extension ${e.typeName} can only be applied to message ${e.extendee.typeName}`)}const kke=3,Mke=2,A5={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function Nke(e){return e?Object.assign(Object.assign({},A5),e):A5}function Pke(e,t,n){return cd(Ur(e,t),Nke(n))}function Oke(e,t,n){var r;const i=Pke(e,t,n);return JSON.stringify(i,null,(r=n?.prettySpaces)!==null&&r!==void 0?r:0)}function cd(e,t){var n;const r=$ke(e,t);if(r!==void 0)return r;const i={};for(const o of e.sortedFields){if(!e.isSet(o)){if(o.presence==kke)throw new Error(`cannot encode ${o} to JSON: required field not set`);if(!t.alwaysEmitImplicit||o.presence!==Mke)continue}const u=w5(o,e.get(o),t);u!==void 0&&(i[_ke(o,t)]=u)}if(t.registry){const o=new Set;for(const{no:u}of(n=e.getUnknown())!==null&&n!==void 0?n:[])if(!o.has(u)){o.add(u);const l=t.registry.getExtensionFor(e.desc,u);if(!l)continue;const c=Tke(e.message,l),[f,g]=Rf(l,c),m=w5(g,f.get(g),t);m!==void 0&&(i[l.jsonName]=m)}}return i}function w5(e,t,n){switch(e.fieldKind){case"scalar":return Bf(e,t);case"message":return cd(t,n);case"enum":return _2(e.enum,t,n.enumAsInteger);case"list":return Fke(t,n);case"map":return Lke(t,n)}}function Lke(e,t){const n=e.field(),r={};switch(n.mapKind){case"scalar":for(const[i,o]of e)r[i]=Bf(n,o);break;case"message":for(const[i,o]of e)r[i]=cd(o,t);break;case"enum":for(const[i,o]of e)r[i]=_2(n.enum,o,t.enumAsInteger);break}return t.alwaysEmitImplicit||e.size>0?r:void 0}function Fke(e,t){const n=e.field(),r=[];switch(n.listKind){case"scalar":for(const i of e)r.push(Bf(n,i));break;case"enum":for(const i of e)r.push(_2(n.enum,i,t.enumAsInteger));break;case"message":for(const i of e)r.push(cd(i,t));break}return t.alwaysEmitImplicit||r.length>0?r:void 0}function _2(e,t,n){var r;if(typeof t!="number")throw new Error(`cannot encode ${e} to JSON: expected number, got ${hn(t)}`);if(e.typeName=="google.protobuf.NullValue")return null;if(n)return t;const i=e.value[t];return(r=i?.name)!==null&&r!==void 0?r:t}function Bf(e,t){var n,r,i,o,u,l;switch(e.scalar){case X.INT32:case X.SFIXED32:case X.SINT32:case X.FIXED32:case X.UINT32:if(typeof t!="number")throw new Error(`cannot encode ${e} to JSON: ${(n=Ko(e,t))===null||n===void 0?void 0:n.message}`);return t;case X.FLOAT:case X.DOUBLE:if(typeof t!="number")throw new Error(`cannot encode ${e} to JSON: ${(r=Ko(e,t))===null||r===void 0?void 0:r.message}`);return Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case X.STRING:if(typeof t!="string")throw new Error(`cannot encode ${e} to JSON: ${(i=Ko(e,t))===null||i===void 0?void 0:i.message}`);return t;case X.BOOL:if(typeof t!="boolean")throw new Error(`cannot encode ${e} to JSON: ${(o=Ko(e,t))===null||o===void 0?void 0:o.message}`);return t;case X.UINT64:case X.FIXED64:case X.INT64:case X.SFIXED64:case X.SINT64:if(typeof t!="bigint"&&typeof t!="string")throw new Error(`cannot encode ${e} to JSON: ${(u=Ko(e,t))===null||u===void 0?void 0:u.message}`);return t.toString();case X.BYTES:if(t instanceof Uint8Array)return IBe(t);throw new Error(`cannot encode ${e} to JSON: ${(l=Ko(e,t))===null||l===void 0?void 0:l.message}`)}}function _ke(e,t){return t.useProtoFieldName?e.name:e.jsonName}function $ke(e,t){if(e.desc.typeName.startsWith("google.protobuf."))switch(e.desc.typeName){case"google.protobuf.Any":return zke(e.message,t);case"google.protobuf.Timestamp":return Hke(e.message);case"google.protobuf.Duration":return Vke(e.message);case"google.protobuf.FieldMask":return Uke(e.message);case"google.protobuf.Struct":return rD(e.message);case"google.protobuf.Value":return $2(e.message);case"google.protobuf.ListValue":return iD(e.message);default:if(ld(e.desc)){const n=e.desc.fields[0];return Bf(n,e.get(n))}return}}function zke(e,t){if(e.typeUrl==="")return{};const{registry:n}=t;let r,i;if(n&&(r=Ake(e,n),r&&(i=n.getMessage(r.$typeName))),!i||!r)throw new Error(`cannot encode message ${e.$typeName} to JSON: "${e.typeUrl}" is not in the type registry`);let o=cd(Ur(i,r),t);return(i.typeName.startsWith("google.protobuf.")||o===null||Array.isArray(o)||typeof o!="object")&&(o={value:o}),o["@type"]=e.typeUrl,o}function Vke(e){const t=Number(e.seconds),n=e.nanos;if(t>315576e6||t<-315576e6)throw new Error(`cannot encode message ${e.$typeName} to JSON: value out of range`);if(t>0&&n<0||t<0&&n>0)throw new Error(`cannot encode message ${e.$typeName} to JSON: nanos sign must match seconds sign`);let r=e.seconds.toString();if(n!==0){let i=Math.abs(n).toString();i="0".repeat(9-i.length)+i,i.substring(3)==="000000"?i=i.substring(0,3):i.substring(6)==="000"&&(i=i.substring(0,6)),r+="."+i,n<0&&t==0&&(r="-"+r)}return r+"s"}function Uke(e){return e.paths.map(t=>{if(t.match(/_[0-9]?_/g)||t.match(/[A-Z]/g))throw new Error(`cannot encode message ${e.$typeName} to JSON: lowerCamelCase of path name "`+t+'" is irreversible');return Fc(t)}).join(",")}function rD(e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=$2(r);return t}function $2(e){switch(e.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(e.kind.value))throw new Error(`${e.$typeName} cannot be NaN or Infinity`);return e.kind.value;case"boolValue":return e.kind.value;case"stringValue":return e.kind.value;case"structValue":return rD(e.kind.value);case"listValue":return iD(e.kind.value);default:throw new Error(`${e.$typeName} must have a value`)}}function iD(e){return e.values.map($2)}function Hke(e){const t=Number(e.seconds)*1e3;if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${e.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(e.nanos<0)throw new Error(`cannot encode message ${e.$typeName} to JSON: nanos must not be negative`);if(e.nanos>999999999)throw new Error(`cannot encode message ${e.$typeName} to JSON: nanos must not be greater than 99999999`);let n="Z";if(e.nanos>0){const r=(e.nanos+1e9).toString().substring(1);r.substring(3)==="000000"?n="."+r.substring(0,3)+"Z":r.substring(6)==="000"?n="."+r.substring(0,6)+"Z":n="."+r+"Z"}return new Date(t).toISOString().replace(".000Z",n)}const x5={ignoreUnknownFields:!1};function Gke(e){return e?Object.assign(Object.assign({},x5),e):x5}function jke(e,t,n){return Kke(e,Qke(t,e.typeName),n)}function Kke(e,t,n){const r=Ur(e);try{Lu(r,t,Gke(n))}catch(i){throw bBe(i)?new Error(`cannot decode ${i.field()} from JSON: ${i.message}`,{cause:i}):i}return r.message}function Lu(e,t,n){var r;if(eMe(e,t,n))return;if(t==null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode ${e.desc} from JSON: ${hn(t)}`);const i=new Map,o=new Map;for(const u of e.desc.fields)o.set(u.name,u).set(u.jsonName,u);for(const[u,l]of Object.entries(t)){const c=o.get(u);if(c){if(c.oneof){if(l===null&&c.fieldKind=="scalar")continue;const f=i.get(c.oneof);if(f!==void 0)throw new Jn(c.oneof,`oneof set multiple times by ${f.name} and ${c.name}`);i.set(c.oneof,c)}D5(e,c,l,n)}else{let f;if(u.startsWith("[")&&u.endsWith("]")&&(f=(r=n.registry)===null||r===void 0?void 0:r.getExtension(u.substring(1,u.length-1)))&&f.extendee.typeName===e.desc.typeName){const[g,m,v]=Rf(f);D5(g,m,l,n),Rke(e.message,f,v())}if(!f&&!n.ignoreUnknownFields)throw new Error(`cannot decode ${e.desc} from JSON: key "${u}" is unknown`)}}}function D5(e,t,n,r){switch(t.fieldKind){case"scalar":Jke(e,t,n);break;case"enum":Xke(e,t,n,r);break;case"message":Zke(e,t,n,r);break;case"list":Wke(e.get(t),n,r);break;case"map":Yke(e.get(t),n,r);break}}function Yke(e,t,n){if(t===null)return;const r=e.field();if(typeof t!="object"||Array.isArray(t))throw new Jn(r,"expected object, got "+hn(t));for(const[i,o]of Object.entries(t)){if(o===null)throw new Jn(r,"map value must not be null");let u;switch(r.mapKind){case"message":const c=Ur(r.message);Lu(c,o,n),u=c;break;case"enum":if(u=z2(r.enum,o,n.ignoreUnknownFields,!0),u===kf)return;break;case"scalar":u=Nf(r,o,!0);break}const l=qke(r.mapKey,i);e.set(l,u)}}function Wke(e,t,n){if(t===null)return;const r=e.field();if(!Array.isArray(t))throw new Jn(r,"expected Array, got "+hn(t));for(const i of t){if(i===null)throw new Jn(r,"list item must not be null");switch(r.listKind){case"message":const o=Ur(r.message);Lu(o,i,n),e.add(o);break;case"enum":const u=z2(r.enum,i,n.ignoreUnknownFields,!0);u!==kf&&e.add(u);break;case"scalar":e.add(Nf(r,i,!0));break}}}function Zke(e,t,n,r){if(n===null&&t.message.typeName!="google.protobuf.Value"){e.clear(t);return}const i=e.isSet(t)?e.get(t):Ur(t.message);Lu(i,n,r),e.set(t,i)}function Xke(e,t,n,r){const i=z2(t.enum,n,r.ignoreUnknownFields,!1);i===Mf?e.clear(t):i!==kf&&e.set(t,i)}function Jke(e,t,n){const r=Nf(t,n,!1);r===Mf?e.clear(t):e.set(t,r)}const kf=Symbol();function z2(e,t,n,r){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:r?e.values[0].number:Mf;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const i=e.values.find(o=>o.name===t);if(i!==void 0)return i.number;if(n)return kf;break}throw new Error(`cannot decode ${e} from JSON: ${hn(t)}`)}const Mf=Symbol();function Nf(e,t,n){if(t===null)return n?as(e.scalar,!1):Mf;switch(e.scalar){case X.DOUBLE:case X.FLOAT:if(t==="NaN")return NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof t=="number"){if(Number.isNaN(t))throw new Jn(e,"unexpected NaN number");if(!Number.isFinite(t))throw new Jn(e,"unexpected infinite number");break}if(typeof t=="string"){if(t===""||t.trim().length!==t.length)break;const r=Number(t);if(!Number.isFinite(r))break;return r}break;case X.INT32:case X.FIXED32:case X.SFIXED32:case X.SINT32:case X.UINT32:return aD(t);case X.BYTES:if(typeof t=="string"){if(t==="")return new Uint8Array(0);try{return N2(t)}catch(r){const i=r instanceof Error?r.message:String(r);throw new Jn(e,i)}}break}return t}function qke(e,t){switch(e){case X.BOOL:switch(t){case"true":return!0;case"false":return!1}return t;case X.INT32:case X.FIXED32:case X.UINT32:case X.SFIXED32:case X.SINT32:return aD(t);default:return t}}function aD(e){if(typeof e=="string"){if(e===""||e.trim().length!==e.length)return e;const t=Number(e);return Number.isNaN(t)?e:t}return e}function Qke(e,t){try{return JSON.parse(e)}catch(n){const r=n instanceof Error?n.message:String(n);throw new Error(`cannot decode message ${t} from JSON: ${r}`,{cause:n})}}function eMe(e,t,n){if(!e.desc.typeName.startsWith("google.protobuf."))return!1;switch(e.desc.typeName){case"google.protobuf.Any":return tMe(e.message,t,n),!0;case"google.protobuf.Timestamp":return nMe(e.message,t),!0;case"google.protobuf.Duration":return rMe(e.message,t),!0;case"google.protobuf.FieldMask":return iMe(e.message,t),!0;case"google.protobuf.Struct":return oD(e.message,t),!0;case"google.protobuf.Value":return V2(e.message,t),!0;case"google.protobuf.ListValue":return sD(e.message,t),!0;default:if(ld(e.desc)){const r=e.desc.fields[0];return t===null?e.clear(r):e.set(r,Nf(r,t,!0)),!0}return!1}}function tMe(e,t,n){var r;if(t===null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message ${e.$typeName} from JSON: expected object but got ${hn(t)}`);if(Object.keys(t).length==0)return;const i=t["@type"];if(typeof i!="string"||i=="")throw new Error(`cannot decode message ${e.$typeName} from JSON: "@type" is empty`);const o=i.includes("/")?i.substring(i.lastIndexOf("/")+1):i;if(!o.length)throw new Error(`cannot decode message ${e.$typeName} from JSON: "@type" is invalid`);const u=(r=n.registry)===null||r===void 0?void 0:r.getMessage(o);if(!u)throw new Error(`cannot decode message ${e.$typeName} from JSON: ${i} is not in the type registry`);const l=Ur(u);if(o.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(t,"value")){const c=t.value;Lu(l,c,n)}else{const c=Object.assign({},t);delete c["@type"],Lu(l,c,n)}Cke(l.desc,l.message,e)}function nMe(e,t){if(typeof t!="string")throw new Error(`cannot decode message ${e.$typeName} from JSON: ${hn(t)}`);const n=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw new Error(`cannot decode message ${e.$typeName} from JSON: invalid RFC 3339 string`);const r=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(r))throw new Error(`cannot decode message ${e.$typeName} from JSON: invalid RFC 3339 string`);if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${e.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);e.seconds=Ot.parse(r/1e3),e.nanos=0,n[7]&&(e.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9)}function rMe(e,t){if(typeof t!="string")throw new Error(`cannot decode message ${e.$typeName} from JSON: ${hn(t)}`);const n=t.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(n===null)throw new Error(`cannot decode message ${e.$typeName} from JSON: ${hn(t)}`);const r=Number(n[1]);if(r>315576e6||r<-315576e6)throw new Error(`cannot decode message ${e.$typeName} from JSON: ${hn(t)}`);if(e.seconds=Ot.parse(r),typeof n[2]!="string")return;const i=n[2]+"0".repeat(9-n[2].length);e.nanos=parseInt(i),(r<0||Object.is(r,-0))&&(e.nanos=-e.nanos)}function iMe(e,t){if(typeof t!="string")throw new Error(`cannot decode message ${e.$typeName} from JSON: ${hn(t)}`);if(t==="")return;function n(r){if(r.includes("_"))throw new Error(`cannot decode message ${e.$typeName} from JSON: path names must be lowerCamelCase`);const i=r.replace(/[A-Z]/g,o=>"_"+o.toLowerCase());return i[0]==="_"?i.substring(1):i}e.paths=t.split(",").map(n)}function oD(e,t){if(typeof t!="object"||t==null||Array.isArray(t))throw new Error(`cannot decode message ${e.$typeName} from JSON ${hn(t)}`);for(const[n,r]of Object.entries(t)){const i=Ie(tD);V2(i,r),e.fields[n]=i}}function V2(e,t){switch(typeof t){case"number":e.kind={case:"numberValue",value:t};break;case"string":e.kind={case:"stringValue",value:t};break;case"boolean":e.kind={case:"boolValue",value:t};break;case"object":if(t===null)e.kind={case:"nullValue",value:Q1.NULL_VALUE};else if(Array.isArray(t)){const n=Ie(Dke);sD(n,t),e.kind={case:"listValue",value:n}}else{const n=Ie(xke);oD(n,t),e.kind={case:"structValue",value:n}}break;default:throw new Error(`cannot decode message ${e.$typeName} from JSON ${hn(t)}`)}return e}function sD(e,t){if(!Array.isArray(t))throw new Error(`cannot decode message ${e.$typeName} from JSON ${hn(t)}`);for(const n of t){const r=Ie(tD);V2(r,n),e.values.push(r)}}function I5(e){const t=Ye[e];return typeof t!="string"?e.toString():t[0].toLowerCase()+t.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}class mt extends Error{constructor(t,n=Ye.Unknown,r,i,o){super(aMe(t,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=t,this.code=n,this.metadata=new Headers(r??{}),this.details=i??[],this.cause=o}static from(t,n=Ye.Unknown){return t instanceof mt?t:t instanceof Error?t.name=="AbortError"||t.name=="TimeoutError"?new mt(t.message,Ye.Canceled):new mt(t.message,n,void 0,void 0,t):new mt(String(t),n,void 0,void 0,t)}static[Symbol.hasInstance](t){return t instanceof Error?Object.getPrototypeOf(t)===mt.prototype?!0:t.name==="ConnectError"&&"code"in t&&typeof t.code=="number"&&"metadata"in t&&"details"in t&&Array.isArray(t.details)&&"rawMessage"in t&&typeof t.rawMessage=="string"&&"cause"in t:!1}findDetails(t){const n=t.kind==="message"?{getMessage:i=>i===t.typeName?t:void 0}:t,r=[];for(const i of this.details){if("desc"in i){n.getMessage(i.desc.typeName)&&r.push(Ie(i.desc,i.value));continue}const o=n.getMessage(i.type);if(o)try{r.push(Hr(o,i.value))}catch{}}return r}}function aMe(e,t){return e.length?`[${I5(t)}] ${e}`:`[${I5(t)}]`}function oMe(e,t,n){try{const r=N2(e);return t?Hr(t,r,n):r}catch(r){throw mt.from(r,Ye.DataLoss)}}function sMe(e,t){const n={};for(const r of e.methods){const i=t(r);i!=null&&(n[r.localName]=i)}return n}const T5=1;function uMe(e,t,n=!1){if(t>e){let r=`message size is larger than configured readMaxBytes ${e}`;throw n&&(r=`message size ${t} is larger than configured readMaxBytes ${e}`),new mt(r,Ye.ResourceExhausted)}}function lMe(e){return new cMe(e)}class cMe{constructor(t){this.readMaxBytes=t,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((t,n)=>t+n.byteLength,0)}decode(t){this.buf.push(t);const n=[];for(;;){let r=this.pop();if(!r)break;n.push(r)}return n}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){const t=this.env;return this.env=void 0,t}}head(){if(!this.cons(this.header))return;const t=this.headerView.getUint8(0),n=this.headerView.getUint32(1);return uMe(this.readMaxBytes,n,!0),{flags:t,data:new Uint8Array(n)}}cons(t){const n=t.byteLength;if(this.byteLength<n)return!1;let r=0;for(;r<n;){const i=this.buf.shift();i.byteLength>n-r?(t.set(i.subarray(0,n-r),r),this.buf.unshift(i.subarray(n-r)),r+=n-r):(t.set(i,r),r+=i.byteLength)}return!0}}function R5(e){let t;const n=lMe(4294967295);return new ReadableStream({start(){t=e.getReader()},async pull(r){let i=!1;for(;!i;){const o=await t.read();if(o.done)n.byteLength>0&&r.error(new mt("protocol error: incomplete envelope",Ye.InvalidArgument)),r.close();else for(const u of n.decode(o.value))r.enqueue(u),i=!0}}})}function B5(e,t){const n=new Uint8Array(t.length+5);n.set(t,5);const r=new DataView(n.buffer,n.byteOffset,n.byteLength);return r.setUint8(0,e),r.setUint32(1,t.length),n}var dMe=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(u){return new Promise(function(l,c){u=e[o](u),i(l,c,u.done,u.value)})}}function i(o,u,l,c){Promise.resolve(c).then(function(f){o({value:f,done:l})},u)}},zc=function(e){return this instanceof zc?(this.v=e,this):new zc(e)},hMe=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",u),i[Symbol.asyncIterator]=function(){return this},i;function u(y){return function(b){return Promise.resolve(b).then(y,m)}}function l(y,b){r[y]&&(i[y]=function(C){return new Promise(function(A,x){o.push([y,C,A,x])>1||c(y,C)})},b&&(i[y]=b(i[y])))}function c(y,b){try{f(r[y](b))}catch(C){v(o[0][3],C)}}function f(y){y.value instanceof zc?Promise.resolve(y.value.v).then(g,m):v(o[0][2],y)}function g(y){c("next",y)}function m(y){c("throw",y)}function v(y,b){y(b),o.shift(),o.length&&c(o[0][0],o[0][1])}},fMe=function(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=e[i]?function(u){return(n=!n)?{value:zc(e[i](u)),done:!1}:o?o(u):u}:o}};function pMe(e){return hMe(this,arguments,function*(){yield zc(yield*fMe(dMe(e)))})}var uD=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(u){return new Promise(function(l,c){u=e[o](u),i(l,c,u.done,u.value)})}}function i(o,u,l,c){Promise.resolve(c).then(function(f){o({value:f,done:l})},u)}},Fu=function(e){return this instanceof Fu?(this.v=e,this):new Fu(e)},gMe=function(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=e[i]?function(u){return(n=!n)?{value:Fu(e[i](u)),done:!1}:o?o(u):u}:o}},mMe=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",u),i[Symbol.asyncIterator]=function(){return this},i;function u(y){return function(b){return Promise.resolve(b).then(y,m)}}function l(y,b){r[y]&&(i[y]=function(C){return new Promise(function(A,x){o.push([y,C,A,x])>1||c(y,C)})},b&&(i[y]=b(i[y])))}function c(y,b){try{f(r[y](b))}catch(C){v(o[0][3],C)}}function f(y){y.value instanceof Fu?Promise.resolve(y.value.v).then(g,m):v(o[0][2],y)}function g(y){c("next",y)}function m(y){c("throw",y)}function v(y,b){y(b),o.shift(),o.length&&c(o[0][0],o[0][1])}};function vMe(e,t){return sMe(e,n=>{switch(n.methodKind){case"unary":return yMe(t,n);case"server_streaming":return EMe(t,n);case"client_streaming":return bMe(t,n);case"bidi_streaming":return CMe(t,n);default:return null}})}function yMe(e,t){return async(n,r)=>{var i,o;const u=await e.unary(t,r?.signal,r?.timeoutMs,r?.headers,n,r?.contextValues);return(i=r?.onHeader)===null||i===void 0||i.call(r,u.header),(o=r?.onTrailer)===null||o===void 0||o.call(r,u.trailer),u.message}}function EMe(e,t){return(n,r)=>lD(e.stream(t,r?.signal,r?.timeoutMs,r?.headers,pMe([n]),r?.contextValues),r)}function bMe(e,t){return async(n,r)=>{var i,o,u,l,c,f;const g=await e.stream(t,r?.signal,r?.timeoutMs,r?.headers,n,r?.contextValues);(c=r?.onHeader)===null||c===void 0||c.call(r,g.header);let m,v=0;try{for(var y=!0,b=uD(g.message),C;C=await b.next(),i=C.done,!i;y=!0)l=C.value,y=!1,m=l,v++}catch(A){o={error:A}}finally{try{!y&&!i&&(u=b.return)&&await u.call(b)}finally{if(o)throw o.error}}if(!m)throw new mt("protocol error: missing response message",Ye.Unimplemented);if(v>1)throw new mt("protocol error: received extra messages for client streaming method",Ye.Unimplemented);return(f=r?.onTrailer)===null||f===void 0||f.call(r,g.trailer),m}}function CMe(e,t){return(n,r)=>lD(e.stream(t,r?.signal,r?.timeoutMs,r?.headers,n,r?.contextValues),r)}function lD(e,t){const n=(function(){return mMe(this,arguments,function*(){var r,i;const o=yield Fu(e);(r=t?.onHeader)===null||r===void 0||r.call(t,o.header),yield Fu(yield*gMe(uD(o.message))),(i=t?.onTrailer)===null||i===void 0||i.call(t,o.trailer)})})()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function SMe(...e){const t=new AbortController,n=e.filter(i=>i!==void 0).concat(t.signal);for(const i of n){if(i.aborted){r.apply(i);break}i.addEventListener("abort",r)}function r(){t.signal.aborted||t.abort(cD(this));for(const i of n)i.removeEventListener("abort",r)}return t}function AMe(e){const t=new AbortController,n=()=>{t.abort(new mt("the operation timed out",Ye.DeadlineExceeded))};let r;return e!==void 0&&(e<=0?n():r=setTimeout(n,e)),{signal:t.signal,cleanup:()=>clearTimeout(r)}}function cD(e){if(!e.aborted)return;if(e.reason!==void 0)return e.reason;const t=new Error("This operation was aborted");return t.name="AbortError",t}function k5(){return{get(e){return e.id in this?this[e.id]:e.defaultValue},set(e,t){return this[e.id]=t,this},delete(e){return delete this[e.id],this}}}const Jm=128;function M5(e){const t=new Headers,n=new TextDecoder().decode(e).split(`\r
`);for(const r of n){if(r==="")continue;const i=r.indexOf(":");if(i>0){const o=r.substring(0,i).trim(),u=r.substring(i+1).trim();t.append(o,u)}}return t}const wMe="Content-Type",xMe="Grpc-Timeout",_u="Grpc-Status",dD="Grpc-Message",DMe="Grpc-Status-Details-Bin",IMe="User-Agent",N5="X-User-Agent",TMe="X-Grpc-Web",RMe="application/grpc-web+proto",BMe="application/grpc-web+json";function kMe(e,t,...n){if(n.length>0)throw new Error;return e.services[t]}const MMe=Ea("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[X8]),NMe=ze(MMe,0),PMe="0";function hD(e){var t;const n=e.get(DMe);if(n!=null){const i=oMe(n,NMe);if(i.code==0)return;const o=new mt(i.message,i.code,e);return o.details=i.details.map(u=>({type:u.typeUrl.substring(u.typeUrl.lastIndexOf("/")+1),value:u.value})),o}const r=e.get(_u);if(r!=null){if(r===PMe)return;const i=parseInt(r,10);return i in Ye?new mt(decodeURIComponent((t=e.get(dD))!==null&&t!==void 0?t:""),i,e):new mt(`invalid grpc-status: ${r}`,Ye.Internal,e)}}function P5(e,t){return e.toString().replace(/\/?$/,`/${t.parent.typeName}/${t.name}`)}function fD(e,t){return Ie(e,t)}function OMe(e,t){function n(r){return r.done===!0?r:{done:r.done,value:fD(e,r.value)}}return{[Symbol.asyncIterator](){const r=t[Symbol.asyncIterator](),i={next:()=>r.next().then(n)};return r.throw!==void 0&&(i.throw=o=>r.throw(o).then(n)),r.return!==void 0&&(i.return=o=>r.return(o).then(n)),i}}}function pD(e,t){if(!t)return e;for(const n of t.concat().reverse())e=n(e);return e}function LMe(e){var t;const n=Object.assign({},e);return(t=n.ignoreUnknownFields)!==null&&t!==void 0||(n.ignoreUnknownFields=!0),n}function O5(e,t,n,r){const i=t?L5(e.input,r):F5(e.input,n);return{parse:(t?L5(e.output,r):F5(e.output,n)).parse,serialize:i.serialize}}function L5(e,t){return{parse(n){try{return Hr(e,n,t)}catch(r){const i=r instanceof Error?r.message:String(r);throw new mt(`parse binary: ${i}`,Ye.Internal)}},serialize(n){try{return fo(e,n,t)}catch(r){const i=r instanceof Error?r.message:String(r);throw new mt(`serialize binary: ${i}`,Ye.Internal)}}}}function F5(e,t){var n,r;const i=(n=t?.textEncoder)!==null&&n!==void 0?n:new TextEncoder,o=(r=t?.textDecoder)!==null&&r!==void 0?r:new TextDecoder,u=LMe(t);return{parse(l){try{const c=o.decode(l);return jke(e,c,u)}catch(c){throw mt.from(c,Ye.InvalidArgument)}},serialize(l){try{const c=Oke(e,l,u);return i.encode(c)}catch(c){throw mt.from(c,Ye.Internal)}}}}function FMe(e){const t=pD(e.next,e.interceptors),[n,r,i]=gD(e),o=Object.assign(Object.assign({},e.req),{message:fD(e.req.method.input,e.req.message),signal:n});return t(o).then(u=>(i(),u),r)}function _Me(e){const t=pD(e.next,e.interceptors),[n,r,i]=gD(e),o=Object.assign(Object.assign({},e.req),{message:OMe(e.req.method.input,e.req.message),signal:n});let u=!1;return n.addEventListener("abort",function(){var l,c;const f=e.req.message[Symbol.asyncIterator]();u||(l=f.throw)===null||l===void 0||l.call(f,this.reason).catch(()=>{}),(c=f.return)===null||c===void 0||c.call(f).catch(()=>{})}),t(o).then(l=>Object.assign(Object.assign({},l),{message:{[Symbol.asyncIterator](){const c=l.message[Symbol.asyncIterator]();return{next(){return c.next().then(f=>(f.done==!0&&(u=!0,i()),f),r)}}}}}),r)}function gD(e){const{signal:t,cleanup:n}=AMe(e.timeoutMs),r=SMe(e.signal,t);return[r.signal,function(o){const u=mt.from(t.aborted?cD(t):o);return r.abort(u),n(),Promise.reject(u)},function(){n(),r.abort()}]}function $Me(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function _5(e,t){const n=hD(e);if(n)throw t.forEach((r,i)=>{n.metadata.append(i,r)}),n;if(!t.has(_u)&&!e.has(_u))throw new mt("protocol error: missing status",Ye.Internal)}function $5(e,t,n,r){var i,o;const u=new Headers(n??{});u.set(wMe,e?RMe:BMe),u.set(TMe,"1");const l=(o=(i=u.get(IMe))!==null&&i!==void 0?i:u.get(N5))!==null&&o!==void 0?o:"connect-es/2.1.1";return u.set(N5,l),t!==void 0&&u.set(xMe,`${t}m`),u}function zMe(e){switch(e){case 400:return Ye.Internal;case 401:return Ye.Unauthenticated;case 403:return Ye.PermissionDenied;case 404:return Ye.Unimplemented;case 429:return Ye.Unavailable;case 502:return Ye.Unavailable;case 503:return Ye.Unavailable;case 504:return Ye.Unavailable;default:return Ye.Unknown}}function z5(e,t){var n;if(e>=200&&e<300)return{foundStatus:t.has(_u),headerError:hD(t)};throw new mt(decodeURIComponent((n=t.get(dD))!==null&&n!==void 0?n:`HTTP ${e}`),zMe(e),t)}var Jo=function(e){return this instanceof Jo?(this.v=e,this):new Jo(e)},VMe=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",u),i[Symbol.asyncIterator]=function(){return this},i;function u(y){return function(b){return Promise.resolve(b).then(y,m)}}function l(y,b){r[y]&&(i[y]=function(C){return new Promise(function(A,x){o.push([y,C,A,x])>1||c(y,C)})},b&&(i[y]=b(i[y])))}function c(y,b){try{f(r[y](b))}catch(C){v(o[0][3],C)}}function f(y){y.value instanceof Jo?Promise.resolve(y.value.v).then(g,m):v(o[0][2],y)}function g(y){c("next",y)}function m(y){c("throw",y)}function v(y,b){y(b),o.shift(),o.length&&c(o[0][0],o[0][1])}};const V5={redirect:"error"};function UMe(e){var t;$Me();const n=(t=e.useBinaryFormat)!==null&&t!==void 0?t:!0;return{async unary(r,i,o,u,l,c){const{serialize:f,parse:g}=O5(r,n,e.jsonOptions,e.binaryOptions);return o=o===void 0?e.defaultTimeoutMs:o<=0?void 0:o,await FMe({interceptors:e.interceptors,signal:i,timeoutMs:o,req:{stream:!1,service:r.parent,method:r,requestMethod:"POST",url:P5(e.baseUrl,r),header:$5(n,o,u),contextValues:c??k5(),message:l},next:async m=>{var v;const b=await((v=e.fetch)!==null&&v!==void 0?v:globalThis.fetch)(m.url,Object.assign(Object.assign({},V5),{method:m.requestMethod,headers:m.header,signal:m.signal,body:B5(0,f(m.message))})),{headerError:C}=z5(b.status,b.headers);if(!b.body)throw C!==void 0?C:"missing response body";const A=R5(b.body).getReader();let x,D;for(;;){const T=await A.read();if(T.done)break;const{flags:N,data:k}=T.value;if((N&T5)===T5)throw new mt("protocol error: received unsupported compressed output",Ye.Internal);if(N===Jm){if(x!==void 0)throw"extra trailer";x=M5(k);continue}if(D!==void 0)throw new mt("extra message",Ye.Unimplemented);D=g(k)}if(x===void 0)throw C!==void 0?C:new mt("missing trailer",b.headers.has(_u)?Ye.Unimplemented:Ye.Unknown);if(_5(x,b.headers),D===void 0)throw new mt("missing message",x.has(_u)?Ye.Unimplemented:Ye.Unknown);return{stream:!1,service:r.parent,method:r,header:b.headers,message:D,trailer:x}}})},async stream(r,i,o,u,l,c){const{serialize:f,parse:g}=O5(r,n,e.jsonOptions,e.binaryOptions);function m(y,b,C,A,x){return VMe(this,arguments,function*(){const T=R5(y).getReader();if(b){if(!(yield Jo(T.read())).done)throw"extra data for trailers-only";return yield Jo(void 0)}let N=!1;for(;;){const k=yield Jo(T.read());if(k.done)break;const{flags:M,data:B}=k.value;if((M&Jm)===Jm){if(N)throw"extra trailer";N=!0;const P=M5(B);_5(P,A),P.forEach((_,U)=>C.set(U,_));continue}if(N)throw"extra message";yield yield Jo(g(B))}if("throwIfAborted"in x&&x.throwIfAborted(),!N)throw"missing trailer"})}async function v(y){if(r.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const b=await y[Symbol.asyncIterator]().next();if(b.done==!0)throw"missing request message";return B5(0,f(b.value))}return o=o===void 0?e.defaultTimeoutMs:o<=0?void 0:o,_Me({interceptors:e.interceptors,signal:i,timeoutMs:o,req:{stream:!0,service:r.parent,method:r,requestMethod:"POST",url:P5(e.baseUrl,r),header:$5(n,o,u),contextValues:c??k5(),message:l},next:async y=>{var b;const A=await((b=e.fetch)!==null&&b!==void 0?b:globalThis.fetch)(y.url,Object.assign(Object.assign({},V5),{method:y.requestMethod,headers:y.header,signal:y.signal,body:await v(y.message)})),{foundStatus:x,headerError:D}=z5(A.status,A.headers);if(D!=null)throw D;if(!A.body)throw"missing response body";const T=new Headers;return Object.assign(Object.assign({},y),{header:A.headers,trailer:T,message:m(A.body,x,T,A.headers,y.signal)})}})}}}const Ke=Ea("CiFzcmMvYXBpL3lvcmtpZS92MS9yZXNvdXJjZXMucHJvdG8SCXlvcmtpZS52MSKuAQoIU25hcHNob3QSJAoEcm9vdBgBIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudBI1CglwcmVzZW5jZXMYAiADKAsyIi55b3JraWUudjEuU25hcHNob3QuUHJlc2VuY2VzRW50cnkaRQoOUHJlc2VuY2VzRW50cnkSCwoDa2V5GAEgASgJEiIKBXZhbHVlGAIgASgLMhMueW9ya2llLnYxLlByZXNlbmNlOgI4ASL7AQoKQ2hhbmdlUGFjaxIUCgxkb2N1bWVudF9rZXkYASABKAkSKQoKY2hlY2twb2ludBgCIAEoCzIVLnlvcmtpZS52MS5DaGVja3BvaW50EhAKCHNuYXBzaG90GAMgASgMEiIKB2NoYW5nZXMYBCADKAsyES55b3JraWUudjEuQ2hhbmdlEjAKEW1pbl9zeW5jZWRfdGlja2V0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSEgoKaXNfcmVtb3ZlZBgGIAEoCBIwCg52ZXJzaW9uX3ZlY3RvchgHIAEoCzIYLnlvcmtpZS52MS5WZXJzaW9uVmVjdG9yIpgBCgZDaGFuZ2USHwoCaWQYASABKAsyEy55b3JraWUudjEuQ2hhbmdlSUQSDwoHbWVzc2FnZRgCIAEoCRIoCgpvcGVyYXRpb25zGAMgAygLMhQueW9ya2llLnYxLk9wZXJhdGlvbhIyCg9wcmVzZW5jZV9jaGFuZ2UYBCABKAsyGS55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UihwEKCENoYW5nZUlEEhIKCmNsaWVudF9zZXEYASABKA0SEgoKc2VydmVyX3NlcRgCIAEoAxIPCgdsYW1wb3J0GAMgASgDEhAKCGFjdG9yX2lkGAQgASgMEjAKDnZlcnNpb25fdmVjdG9yGAUgASgLMhgueW9ya2llLnYxLlZlcnNpb25WZWN0b3IidAoNVmVyc2lvblZlY3RvchI0CgZ2ZWN0b3IYASADKAsyJC55b3JraWUudjEuVmVyc2lvblZlY3Rvci5WZWN0b3JFbnRyeRotCgtWZWN0b3JFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAM6AjgBIsoaCglPcGVyYXRpb24SJwoDc2V0GAEgASgLMhgueW9ya2llLnYxLk9wZXJhdGlvbi5TZXRIABInCgNhZGQYAiABKAsyGC55b3JraWUudjEuT3BlcmF0aW9uLkFkZEgAEikKBG1vdmUYAyABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLk1vdmVIABItCgZyZW1vdmUYBCABKAsyGy55b3JraWUudjEuT3BlcmF0aW9uLlJlbW92ZUgAEikKBGVkaXQYBSABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLkVkaXRIABIrCgVzdHlsZRgHIAEoCzIaLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGVIABIxCghpbmNyZWFzZRgIIAEoCzIdLnlvcmtpZS52MS5PcGVyYXRpb24uSW5jcmVhc2VIABIyCgl0cmVlX2VkaXQYCSABKAsyHS55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0SAASNAoKdHJlZV9zdHlsZRgKIAEoCzIeLnlvcmtpZS52MS5PcGVyYXRpb24uVHJlZVN0eWxlSAASMgoJYXJyYXlfc2V0GAsgASgLMh0ueW9ya2llLnYxLk9wZXJhdGlvbi5BcnJheVNldEgAGp0BCgNTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBILCgNrZXkYAiABKAkSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrAAQoDQWRkEjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSLgoPcHJldl9jcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq/AQoETW92ZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Ei4KD3ByZXZfY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCmNyZWF0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtleGVjdXRlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GpEBCgZSZW1vdmUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKgoLZXhlY3V0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrZAwoERWRpdBIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSUwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyMi55b3JraWUudjEuT3BlcmF0aW9uLkVkaXQuQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5Eg8KB2NvbnRlbnQYBSABKAkSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBI9CgphdHRyaWJ1dGVzGAcgAygLMikueW9ya2llLnYxLk9wZXJhdGlvbi5FZGl0LkF0dHJpYnV0ZXNFbnRyeRpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGjEKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBGukDCgVTdHlsZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSPgoKYXR0cmlidXRlcxgEIAMoCzIqLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSVAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBiADKAsyMy55b3JraWUudjEuT3BlcmF0aW9uLlN0eWxlLkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRIcChRhdHRyaWJ1dGVzX3RvX3JlbW92ZRgHIAMoCRoxCg9BdHRyaWJ1dGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGpUBCghJbmNyZWFzZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EisKBXZhbHVlGAIgASgLMhwueW9ya2llLnYxLkpTT05FbGVtZW50U2ltcGxlEioKC2V4ZWN1dGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQakwMKCFRyZWVFZGl0EjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIAoEZnJvbRgCIAEoCzISLnlvcmtpZS52MS5UcmVlUG9zEh4KAnRvGAMgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSVwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyNi55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0LkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRImCghjb250ZW50cxgFIAMoCzIULnlvcmtpZS52MS5UcmVlTm9kZXMSEwoLc3BsaXRfbGV2ZWwYByABKAUSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGu0DCglUcmVlU3R5bGUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIgCgRmcm9tGAIgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSHgoCdG8YAyABKAsyEi55b3JraWUudjEuVHJlZVBvcxJCCgphdHRyaWJ1dGVzGAQgAygLMi4ueW9ya2llLnYxLk9wZXJhdGlvbi5UcmVlU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSHAoUYXR0cmlidXRlc190b19yZW1vdmUYBiADKAkSWAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYByADKAsyNy55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVTdHlsZS5DcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkaMQoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaUQoYQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5EgsKA2tleRgBIAEoCRIkCgV2YWx1ZRgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0OgI4ARrAAQoIQXJyYXlTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldEIGCgRib2R5IsUBChFKU09ORWxlbWVudFNpbXBsZRIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIgoEdHlwZRgEIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYBSABKAwiggsKC0pTT05FbGVtZW50EjgKC2pzb25fb2JqZWN0GAEgASgLMiEueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05PYmplY3RIABI2Cgpqc29uX2FycmF5GAIgASgLMiAueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05BcnJheUgAEjUKCXByaW1pdGl2ZRgDIAEoCzIgLnlvcmtpZS52MS5KU09ORWxlbWVudC5QcmltaXRpdmVIABIrCgR0ZXh0GAUgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRleHRIABIxCgdjb3VudGVyGAYgASgLMh4ueW9ya2llLnYxLkpTT05FbGVtZW50LkNvdW50ZXJIABIrCgR0cmVlGAcgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRyZWVIABquAQoKSlNPTk9iamVjdBIhCgVub2RlcxgBIAMoCzISLnlvcmtpZS52MS5SSFROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBqtAQoJSlNPTkFycmF5EiEKBW5vZGVzGAEgAygLMhIueW9ya2llLnYxLlJHQU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Gr0BCglQcmltaXRpdmUSIgoEdHlwZRgBIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYAiABKAwSKQoKY3JlYXRlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAQgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgFIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GqkBCgRUZXh0EiIKBW5vZGVzGAEgAygLMhMueW9ya2llLnYxLlRleHROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq7AQoHQ291bnRlchIiCgR0eXBlGAEgASgOMhQueW9ya2llLnYxLlZhbHVlVHlwZRINCgV2YWx1ZRgCIAEoDBIpCgpjcmVhdGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQaqQEKBFRyZWUSIgoFbm9kZXMYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0QgYKBGJvZHkiPwoHUkhUTm9kZRILCgNrZXkYASABKAkSJwoHZWxlbWVudBgCIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudCJUCgdSR0FOb2RlEiAKBG5leHQYASABKAsyEi55b3JraWUudjEuUkdBTm9kZRInCgdlbGVtZW50GAIgASgLMhYueW9ya2llLnYxLkpTT05FbGVtZW50IlgKCE5vZGVBdHRyEg0KBXZhbHVlGAEgASgJEikKCnVwZGF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBISCgppc19yZW1vdmVkGAMgASgIIpQCCghUZXh0Tm9kZRIhCgJpZBgBIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEg0KBXZhbHVlGAIgASgJEikKCnJlbW92ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgEIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEjcKCmF0dHJpYnV0ZXMYBSADKAsyIy55b3JraWUudjEuVGV4dE5vZGUuQXR0cmlidXRlc0VudHJ5GkYKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuTm9kZUF0dHI6AjgBIkcKClRleHROb2RlSUQSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBSLdAgoIVHJlZU5vZGUSIQoCaWQYASABKAsyFS55b3JraWUudjEuVHJlZU5vZGVJRBIMCgR0eXBlGAIgASgJEg0KBXZhbHVlGAMgASgJEikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgFIAEoCzIVLnlvcmtpZS52MS5UcmVlTm9kZUlEEioKC2luc19uZXh0X2lkGAYgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSDQoFZGVwdGgYByABKAUSNwoKYXR0cmlidXRlcxgIIAMoCzIjLnlvcmtpZS52MS5UcmVlTm9kZS5BdHRyaWJ1dGVzRW50cnkaRgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5Ob2RlQXR0cjoCOAEiMQoJVHJlZU5vZGVzEiQKB2NvbnRlbnQYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUiRwoKVHJlZU5vZGVJRBIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFImMKB1RyZWVQb3MSKAoJcGFyZW50X2lkGAEgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSLgoPbGVmdF9zaWJsaW5nX2lkGAIgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQiawoEVXNlchIKCgJpZBgBIAEoCRIVCg1hdXRoX3Byb3ZpZGVyGAIgASgJEhAKCHVzZXJuYW1lGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIokBCgZNZW1iZXISCgoCaWQYASABKAkSEgoKcHJvamVjdF9pZBgCIAEoCRIPCgd1c2VyX2lkGAMgASgJEhAKCHVzZXJuYW1lGAQgASgJEgwKBHJvbGUYBSABKAkSLgoKaW52aXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAi6QYKB1Byb2plY3QSCgoCaWQYASABKAkSDAoEbmFtZRgCIAEoCRISCgpwdWJsaWNfa2V5GAMgASgJEhIKCnNlY3JldF9rZXkYBCABKAkSGAoQYXV0aF93ZWJob29rX3VybBgFIAEoCRIcChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgGIAMoCRIgChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYESABKAQSJgoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGBIgASgJEiYKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgTIAEoCRIkChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBQgASgJEhkKEWV2ZW50X3dlYmhvb2tfdXJsGAcgASgJEhwKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAggAygJEiEKGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYFSABKAQSJwofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgWIAEoCRInCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBcgASgJEiUKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBggASgJEiMKG2NsaWVudF9kZWFjdGl2YXRlX3RocmVzaG9sZBgJIAEoCRIaChJzbmFwc2hvdF90aHJlc2hvbGQYGSABKAMSGQoRc25hcHNob3RfaW50ZXJ2YWwYGiABKAMSJAocbWF4X3N1YnNjcmliZXJzX3Blcl9kb2N1bWVudBgKIAEoBRIkChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAsgASgFEh0KFW1heF9zaXplX3Blcl9kb2N1bWVudBgPIAEoBRIYChByZW1vdmVfb25fZGV0YWNoGBAgASgIEh0KFWF1dG9fcmV2aXNpb25fZW5hYmxlZBgbIAEoCBIXCg9hbGxvd2VkX29yaWdpbnMYDiADKAkSLgoKY3JlYXRlZF9hdBgMIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLgoKdXBkYXRlZF9hdBgNIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiLwoLTWV0cmljUG9pbnQSEQoJdGltZXN0YW1wGAEgASgDEg0KBXZhbHVlGAIgASgFIqMMChZVcGRhdGFibGVQcm9qZWN0RmllbGRzEioKBG5hbWUYASABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSNgoQYXV0aF93ZWJob29rX3VybBgCIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJSChRhdXRoX3dlYmhvb2tfbWV0aG9kcxgDIAEoCzI0LnlvcmtpZS52MS5VcGRhdGFibGVQcm9qZWN0RmllbGRzLkF1dGhXZWJob29rTWV0aG9kcxI+ChhhdXRoX3dlYmhvb2tfbWF4X3JldHJpZXMYDCABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRAoeYXV0aF93ZWJob29rX21pbl93YWl0X2ludGVydmFsGA0gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkQKHmF1dGhfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgOIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJCChxhdXRoX3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GA8gASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEWV2ZW50X3dlYmhvb2tfdXJsGAQgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlElIKFGV2ZW50X3dlYmhvb2tfZXZlbnRzGAUgASgLMjQueW9ya2llLnYxLlVwZGF0YWJsZVByb2plY3RGaWVsZHMuRXZlbnRXZWJob29rRXZlbnRzEj8KGWV2ZW50X3dlYmhvb2tfbWF4X3JldHJpZXMYECABKAsyHC5nb29nbGUucHJvdG9idWYuVUludDY0VmFsdWUSRQofZXZlbnRfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgRIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJFCh9ldmVudF93ZWJob29rX21heF93YWl0X2ludGVydmFsGBIgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkMKHWV2ZW50X3dlYmhvb2tfcmVxdWVzdF90aW1lb3V0GBMgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjcKEnNuYXBzaG90X3RocmVzaG9sZBgUIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlEjYKEXNuYXBzaG90X2ludGVydmFsGBUgASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDY0VmFsdWUSQQobY2xpZW50X2RlYWN0aXZhdGVfdGhyZXNob2xkGAYgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEkEKHG1heF9zdWJzY3JpYmVyc19wZXJfZG9jdW1lbnQYByABKAsyGy5nb29nbGUucHJvdG9idWYuSW50MzJWYWx1ZRJBChxtYXhfYXR0YWNobWVudHNfcGVyX2RvY3VtZW50GAggASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSOgoVbWF4X3NpemVfcGVyX2RvY3VtZW50GAogASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSNAoQcmVtb3ZlX29uX2RldGFjaBgLIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUSOQoVYXV0b19yZXZpc2lvbl9lbmFibGVkGBYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkJvb2xWYWx1ZRJJCg9hbGxvd2VkX29yaWdpbnMYCSABKAsyMC55b3JraWUudjEuVXBkYXRhYmxlUHJvamVjdEZpZWxkcy5BbGxvd2VkT3JpZ2lucxolChJBdXRoV2ViaG9va01ldGhvZHMSDwoHbWV0aG9kcxgBIAMoCRokChJFdmVudFdlYmhvb2tFdmVudHMSDgoGZXZlbnRzGAEgAygJGiEKDkFsbG93ZWRPcmlnaW5zEg8KB29yaWdpbnMYASADKAkipwMKD0RvY3VtZW50U3VtbWFyeRIKCgJpZBgBIAEoCRILCgNrZXkYAiABKAkSDAoEcm9vdBgDIAEoCRIYChBhdHRhY2hlZF9jbGllbnRzGAcgASgFEikKDWRvY3VtZW50X3NpemUYCCABKAsyEi55b3JraWUudjEuRG9jU2l6ZRISCgpzY2hlbWFfa2V5GAkgASgJEjwKCXByZXNlbmNlcxgKIAMoCzIpLnlvcmtpZS52MS5Eb2N1bWVudFN1bW1hcnkuUHJlc2VuY2VzRW50cnkSLgoKY3JlYXRlZF9hdBgEIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASLwoLYWNjZXNzZWRfYXQYBSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYBiABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wGkUKDlByZXNlbmNlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZToCOAEi2gEKDlByZXNlbmNlQ2hhbmdlEjIKBHR5cGUYASABKA4yJC55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UuQ2hhbmdlVHlwZRIlCghwcmVzZW5jZRgCIAEoCzITLnlvcmtpZS52MS5QcmVzZW5jZSJtCgpDaGFuZ2VUeXBlEhsKF0NIQU5HRV9UWVBFX1VOU1BFQ0lGSUVEEAASEwoPQ0hBTkdFX1RZUEVfUFVUEAESFgoSQ0hBTkdFX1RZUEVfREVMRVRFEAISFQoRQ0hBTkdFX1RZUEVfQ0xFQVIQAyJkCghQcmVzZW5jZRIrCgRkYXRhGAEgAygLMh0ueW9ya2llLnYxLlByZXNlbmNlLkRhdGFFbnRyeRorCglEYXRhRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ASI0Cg5DaGFubmVsU3VtbWFyeRILCgNrZXkYASABKAkSFQoNc2Vzc2lvbl9jb3VudBgCIAEoBSI0CgpDaGVja3BvaW50EhIKCnNlcnZlcl9zZXEYASABKAMSEgoKY2xpZW50X3NlcRgCIAEoDSJhCgtUZXh0Tm9kZVBvcxIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFEhcKD3JlbGF0aXZlX29mZnNldBgDIAEoBSJCCgpUaW1lVGlja2V0Eg8KB2xhbXBvcnQYASABKAMSEQoJZGVsaW1pdGVyGAIgASgNEhAKCGFjdG9yX2lkGAMgASgMIi4KDERvY0V2ZW50Qm9keRINCgV0b3BpYxgBIAEoCRIPCgdwYXlsb2FkGAIgASgMImsKCERvY0V2ZW50EiUKBHR5cGUYASABKA4yFy55b3JraWUudjEuRG9jRXZlbnRUeXBlEhEKCXB1Ymxpc2hlchgCIAEoCRIlCgRib2R5GAMgASgLMhcueW9ya2llLnYxLkRvY0V2ZW50Qm9keSLWAQoMQ2hhbm5lbEV2ZW50EioKBHR5cGUYASABKA4yHC55b3JraWUudjEuQ2hhbm5lbEV2ZW50LlR5cGUSEQoJcHVibGlzaGVyGAIgASgJEhUKDXNlc3Npb25fY291bnQYAyABKAMSCwoDc2VxGAQgASgDEg0KBXRvcGljGAUgASgJEg8KB3BheWxvYWQYBiABKAwiQwoEVHlwZRIUChBUWVBFX1VOU1BFQ0lGSUVEEAASEQoNVFlQRV9QUkVTRU5DRRABEhIKDlRZUEVfQlJPQURDQVNUEAIiJgoIRGF0YVNpemUSDAoEZGF0YRgBIAEoBRIMCgRtZXRhGAIgASgFIk0KB0RvY1NpemUSIQoEbGl2ZRgBIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZRIfCgJnYxgCIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZSKRAQoGU2NoZW1hEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSDwoHdmVyc2lvbhgDIAEoBRIMCgRib2R5GAQgASgJEh4KBXJ1bGVzGAUgAygLMg8ueW9ya2llLnYxLlJ1bGUSLgoKY3JlYXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiIgoEUnVsZRIMCgRwYXRoGAEgASgJEgwKBHR5cGUYAiABKAkigwEKD1JldmlzaW9uU3VtbWFyeRIKCgJpZBgBIAEoCRINCgVsYWJlbBgCIAEoCRITCgtkZXNjcmlwdGlvbhgDIAEoCRIQCghzbmFwc2hvdBgEIAEoCRIuCgpjcmVhdGVkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCrUAgoJVmFsdWVUeXBlEhMKD1ZBTFVFX1RZUEVfTlVMTBAAEhYKElZBTFVFX1RZUEVfQk9PTEVBThABEhYKElZBTFVFX1RZUEVfSU5URUdFUhACEhMKD1ZBTFVFX1RZUEVfTE9ORxADEhUKEVZBTFVFX1RZUEVfRE9VQkxFEAQSFQoRVkFMVUVfVFlQRV9TVFJJTkcQBRIUChBWQUxVRV9UWVBFX0JZVEVTEAYSEwoPVkFMVUVfVFlQRV9EQVRFEAcSGgoWVkFMVUVfVFlQRV9KU09OX09CSkVDVBAIEhkKFVZBTFVFX1RZUEVfSlNPTl9BUlJBWRAJEhMKD1ZBTFVFX1RZUEVfVEVYVBAKEhoKFlZBTFVFX1RZUEVfSU5URUdFUl9DTlQQCxIXChNWQUxVRV9UWVBFX0xPTkdfQ05UEAwSEwoPVkFMVUVfVFlQRV9UUkVFEA0qpgEKDERvY0V2ZW50VHlwZRIjCh9ET0NfRVZFTlRfVFlQRV9ET0NVTUVOVF9DSEFOR0VEEAASIwofRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfV0FUQ0hFRBABEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX1VOV0FUQ0hFRBACEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX0JST0FEQ0FTVBADQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[dke,Ike]),HMe=ze(Ke,0),GMe=ze(Ke,1),jMe=ze(Ke,2),U2=ze(Ke,3),H2=ze(Ke,4),G2=ze(Ke,5),KMe=ze(Ke,5,0),YMe=ze(Ke,5,1),WMe=ze(Ke,5,2),ZMe=ze(Ke,5,3),XMe=ze(Ke,5,4),JMe=ze(Ke,5,5),qMe=ze(Ke,5,6),QMe=ze(Ke,5,7),eNe=ze(Ke,5,8),tNe=ze(Ke,5,9),lu=ze(Ke,6),Gr=ze(Ke,7),nNe=ze(Ke,7,0),rNe=ze(Ke,7,1),iNe=ze(Ke,7,2),aNe=ze(Ke,7,3),oNe=ze(Ke,7,4),sNe=ze(Ke,7,5),uNe=ze(Ke,8),lNe=ze(Ke,9),mD=ze(Ke,10),cNe=ze(Ke,11),dNe=ze(Ke,12),hNe=ze(Ke,13),fNe=ze(Ke,14),pNe=ze(Ke,15),gNe=ze(Ke,16),U5=ze(Ke,23);var Vc=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PUT=1]="PUT",e[e.DELETE=2]="DELETE",e[e.CLEAR=3]="CLEAR",e))(Vc||{});const mNe=ze(Ke,24),vNe=ze(Ke,26),yNe=ze(Ke,27),ENe=ze(Ke,28);var vD=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PRESENCE=1]="PRESENCE",e[e.BROADCAST=2]="BROADCAST",e))(vD||{}),je=(e=>(e[e.NULL=0]="NULL",e[e.BOOLEAN=1]="BOOLEAN",e[e.INTEGER=2]="INTEGER",e[e.LONG=3]="LONG",e[e.DOUBLE=4]="DOUBLE",e[e.STRING=5]="STRING",e[e.BYTES=6]="BYTES",e[e.DATE=7]="DATE",e[e.JSON_OBJECT=8]="JSON_OBJECT",e[e.JSON_ARRAY=9]="JSON_ARRAY",e[e.TEXT=10]="TEXT",e[e.INTEGER_CNT=11]="INTEGER_CNT",e[e.LONG_CNT=12]="LONG_CNT",e[e.TREE=13]="TREE",e))(je||{}),Vh=(e=>(e[e.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",e[e.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",e[e.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",e[e.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",e))(Vh||{});const bNe=Ea("Ch5zcmMvYXBpL3lvcmtpZS92MS95b3JraWUucHJvdG8SCXlvcmtpZS52MSKeAQoVQWN0aXZhdGVDbGllbnRSZXF1ZXN0EhIKCmNsaWVudF9rZXkYASABKAkSQAoIbWV0YWRhdGEYAiADKAsyLi55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIisKFkFjdGl2YXRlQ2xpZW50UmVzcG9uc2USEQoJY2xpZW50X2lkGAEgASgJIkEKF0RlYWN0aXZhdGVDbGllbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtzeW5jaHJvbm91cxgCIAEoCCIaChhEZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiagoVQXR0YWNoRG9jdW1lbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRIqCgtjaGFuZ2VfcGFjaxgCIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrEhIKCnNjaGVtYV9rZXkYAyABKAkinwEKFkF0dGFjaERvY3VtZW50UmVzcG9uc2USEwoLZG9jdW1lbnRfaWQYASABKAkSKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYAyABKAUSJQoMc2NoZW1hX3J1bGVzGAQgAygLMg8ueW9ya2llLnYxLlJ1bGUiiwEKFURldGFjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSKgoLY2hhbmdlX3BhY2sYAyABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIeChZyZW1vdmVfaWZfbm90X2F0dGFjaGVkGAQgASgIIkQKFkRldGFjaERvY3VtZW50UmVzcG9uc2USKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjayJTCgxXYXRjaFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEjAKCXJlc291cmNlcxgCIAMoCzIdLnlvcmtpZS52MS5SZXNvdXJjZURlc2NyaXB0b3IihAEKElJlc291cmNlRGVzY3JpcHRvchIxCghkb2N1bWVudBgBIAEoCzIdLnlvcmtpZS52MS5Eb2N1bWVudERlc2NyaXB0b3JIABIvCgdjaGFubmVsGAIgASgLMhwueW9ya2llLnYxLkNoYW5uZWxEZXNjcmlwdG9ySABCCgoIcmVzb3VyY2UiKQoSRG9jdW1lbnREZXNjcmlwdG9yEhMKC2RvY3VtZW50X2lkGAEgASgJIigKEUNoYW5uZWxEZXNjcmlwdG9yEhMKC2NoYW5uZWxfa2V5GAEgASgJInkKDVdhdGNoUmVzcG9uc2USOAoOaW5pdGlhbGl6YXRpb24YASABKAsyHi55b3JraWUudjEuV2F0Y2hJbml0aWFsaXphdGlvbkgAEiYKBWV2ZW50GAIgASgLMhUueW9ya2llLnYxLldhdGNoRXZlbnRIAEIGCgRib2R5IkYKE1dhdGNoSW5pdGlhbGl6YXRpb24SLwoOcmVzb3VyY2VfaW5pdHMYASADKAsyFy55b3JraWUudjEuUmVzb3VyY2VJbml0IngKDFJlc291cmNlSW5pdBIwCg1kb2N1bWVudF9pbml0GAEgASgLMhcueW9ya2llLnYxLkRvY3VtZW50SW5pdEgAEi4KDGNoYW5uZWxfaW5pdBgCIAEoCzIWLnlvcmtpZS52MS5DaGFubmVsSW5pdEgAQgYKBGluaXQiNwoMRG9jdW1lbnRJbml0EhMKC2RvY3VtZW50X2lkGAEgASgJEhIKCmNsaWVudF9pZHMYAiADKAkiRgoLQ2hhbm5lbEluaXQSEwoLY2hhbm5lbF9rZXkYASABKAkSFQoNc2Vzc2lvbl9jb3VudBgCIAEoAxILCgNzZXEYAyABKAMiewoKV2F0Y2hFdmVudBItCglkb2NfZXZlbnQYASABKAsyGC55b3JraWUudjEuRG9jV2F0Y2hFdmVudEgAEjUKDWNoYW5uZWxfZXZlbnQYAiABKAsyHC55b3JraWUudjEuQ2hhbm5lbFdhdGNoRXZlbnRIAEIHCgVldmVudCJICg1Eb2NXYXRjaEV2ZW50EhMKC2RvY3VtZW50X2lkGAEgASgJEiIKBWV2ZW50GAIgASgLMhMueW9ya2llLnYxLkRvY0V2ZW50IlAKEUNoYW5uZWxXYXRjaEV2ZW50EhMKC2NoYW5uZWxfa2V5GAEgASgJEiYKBWV2ZW50GAIgASgLMhcueW9ya2llLnYxLkNoYW5uZWxFdmVudCJrChVSZW1vdmVEb2N1bWVudFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siRAoWUmVtb3ZlRG9jdW1lbnRSZXNwb25zZRIqCgtjaGFuZ2VfcGFjaxgBIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrIn8KFlB1c2hQdWxsQ2hhbmdlc1JlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2sSEQoJcHVzaF9vbmx5GAQgASgIIkUKF1B1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlEioKC2NoYW5nZV9wYWNrGAEgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siYwoVQ3JlYXRlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRINCgVsYWJlbBgDIAEoCRITCgtkZXNjcmlwdGlvbhgEIAEoCSJGChZDcmVhdGVSZXZpc2lvblJlc3BvbnNlEiwKCHJldmlzaW9uGAEgASgLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJRChJHZXRSZXZpc2lvblJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEhMKC3JldmlzaW9uX2lkGAMgASgJIkMKE0dldFJldmlzaW9uUmVzcG9uc2USLAoIcmV2aXNpb24YASABKAsyGi55b3JraWUudjEuUmV2aXNpb25TdW1tYXJ5InUKFExpc3RSZXZpc2lvbnNSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRIRCglwYWdlX3NpemUYAyABKAUSDgoGb2Zmc2V0GAQgASgFEhIKCmlzX2ZvcndhcmQYBSABKAgiRgoVTGlzdFJldmlzaW9uc1Jlc3BvbnNlEi0KCXJldmlzaW9ucxgBIAMoCzIaLnlvcmtpZS52MS5SZXZpc2lvblN1bW1hcnkiVQoWUmVzdG9yZVJldmlzaW9uUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSEwoLcmV2aXNpb25faWQYBCABKAkiGQoXUmVzdG9yZVJldmlzaW9uUmVzcG9uc2UiPgoUQXR0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJIkIKFUF0dGFjaENoYW5uZWxSZXNwb25zZRISCgpzZXNzaW9uX2lkGAEgASgJEhUKDXNlc3Npb25fY291bnQYAiABKAMiUgoURGV0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEhIKCnNlc3Npb25faWQYAyABKAkiLgoVRGV0YWNoQ2hhbm5lbFJlc3BvbnNlEhUKDXNlc3Npb25fY291bnQYASABKAMiUwoVUmVmcmVzaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRISCgpzZXNzaW9uX2lkGAMgASgJIi8KFlJlZnJlc2hDaGFubmVsUmVzcG9uc2USFQoNc2Vzc2lvbl9jb3VudBgBIAEoAyJaChBCcm9hZGNhc3RSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRINCgV0b3BpYxgDIAEoCRIPCgdwYXlsb2FkGAQgASgMIhMKEUJyb2FkY2FzdFJlc3BvbnNlMpgKCg1Zb3JraWVTZXJ2aWNlElcKDkFjdGl2YXRlQ2xpZW50EiAueW9ya2llLnYxLkFjdGl2YXRlQ2xpZW50UmVxdWVzdBohLnlvcmtpZS52MS5BY3RpdmF0ZUNsaWVudFJlc3BvbnNlIgASXQoQRGVhY3RpdmF0ZUNsaWVudBIiLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVxdWVzdBojLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiABJXCg5BdHRhY2hEb2N1bWVudBIgLnlvcmtpZS52MS5BdHRhY2hEb2N1bWVudFJlcXVlc3QaIS55b3JraWUudjEuQXR0YWNoRG9jdW1lbnRSZXNwb25zZSIAElcKDkRldGFjaERvY3VtZW50EiAueW9ya2llLnYxLkRldGFjaERvY3VtZW50UmVxdWVzdBohLnlvcmtpZS52MS5EZXRhY2hEb2N1bWVudFJlc3BvbnNlIgASVwoOUmVtb3ZlRG9jdW1lbnQSIC55b3JraWUudjEuUmVtb3ZlRG9jdW1lbnRSZXF1ZXN0GiEueW9ya2llLnYxLlJlbW92ZURvY3VtZW50UmVzcG9uc2UiABJaCg9QdXNoUHVsbENoYW5nZXMSIS55b3JraWUudjEuUHVzaFB1bGxDaGFuZ2VzUmVxdWVzdBoiLnlvcmtpZS52MS5QdXNoUHVsbENoYW5nZXNSZXNwb25zZSIAEj4KBVdhdGNoEhcueW9ya2llLnYxLldhdGNoUmVxdWVzdBoYLnlvcmtpZS52MS5XYXRjaFJlc3BvbnNlIgAwARJXCg5DcmVhdGVSZXZpc2lvbhIgLnlvcmtpZS52MS5DcmVhdGVSZXZpc2lvblJlcXVlc3QaIS55b3JraWUudjEuQ3JlYXRlUmV2aXNpb25SZXNwb25zZSIAEk4KC0dldFJldmlzaW9uEh0ueW9ya2llLnYxLkdldFJldmlzaW9uUmVxdWVzdBoeLnlvcmtpZS52MS5HZXRSZXZpc2lvblJlc3BvbnNlIgASVAoNTGlzdFJldmlzaW9ucxIfLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVxdWVzdBogLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVzcG9uc2UiABJaCg9SZXN0b3JlUmV2aXNpb24SIS55b3JraWUudjEuUmVzdG9yZVJldmlzaW9uUmVxdWVzdBoiLnlvcmtpZS52MS5SZXN0b3JlUmV2aXNpb25SZXNwb25zZSIAElQKDUF0dGFjaENoYW5uZWwSHy55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlcXVlc3QaIC55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlc3BvbnNlIgASVAoNRGV0YWNoQ2hhbm5lbBIfLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVxdWVzdBogLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVzcG9uc2UiABJXCg5SZWZyZXNoQ2hhbm5lbBIgLnlvcmtpZS52MS5SZWZyZXNoQ2hhbm5lbFJlcXVlc3QaIS55b3JraWUudjEuUmVmcmVzaENoYW5uZWxSZXNwb25zZSIAEkgKCUJyb2FkY2FzdBIbLnlvcmtpZS52MS5Ccm9hZGNhc3RSZXF1ZXN0GhwueW9ya2llLnYxLkJyb2FkY2FzdFJlc3BvbnNlIgBCRQoRZGV2LnlvcmtpZS5hcGkudjFQAVouZ2l0aHViLmNvbS95b3JraWUtdGVhbS95b3JraWUvYXBpL3lvcmtpZS92MTt2MWIGcHJvdG8z",[Ke]),CNe=kMe(bNe,0),SNe=Ea("Ch5nb29nbGUvcnBjL2Vycm9yX2RldGFpbHMucHJvdG8SCmdvb2dsZS5ycGMikwEKCUVycm9ySW5mbxIOCgZyZWFzb24YASABKAkSDgoGZG9tYWluGAIgASgJEjUKCG1ldGFkYXRhGAMgAygLMiMuZ29vZ2xlLnJwYy5FcnJvckluZm8uTWV0YWRhdGFFbnRyeRovCg1NZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiOwoJUmV0cnlJbmZvEi4KC3JldHJ5X2RlbGF5GAEgASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIjIKCURlYnVnSW5mbxIVCg1zdGFja19lbnRyaWVzGAEgAygJEg4KBmRldGFpbBgCIAEoCSKPAwoMUXVvdGFGYWlsdXJlEjYKCnZpb2xhdGlvbnMYASADKAsyIi5nb29nbGUucnBjLlF1b3RhRmFpbHVyZS5WaW9sYXRpb24axgIKCVZpb2xhdGlvbhIPCgdzdWJqZWN0GAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhMKC2FwaV9zZXJ2aWNlGAMgASgJEhQKDHF1b3RhX21ldHJpYxgEIAEoCRIQCghxdW90YV9pZBgFIAEoCRJRChBxdW90YV9kaW1lbnNpb25zGAYgAygLMjcuZ29vZ2xlLnJwYy5RdW90YUZhaWx1cmUuVmlvbGF0aW9uLlF1b3RhRGltZW5zaW9uc0VudHJ5EhMKC3F1b3RhX3ZhbHVlGAcgASgDEh8KEmZ1dHVyZV9xdW90YV92YWx1ZRgIIAEoA0gAiAEBGjYKFFF1b3RhRGltZW5zaW9uc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCFQoTX2Z1dHVyZV9xdW90YV92YWx1ZSKVAQoTUHJlY29uZGl0aW9uRmFpbHVyZRI9Cgp2aW9sYXRpb25zGAEgAygLMikuZ29vZ2xlLnJwYy5QcmVjb25kaXRpb25GYWlsdXJlLlZpb2xhdGlvbho/CglWaW9sYXRpb24SDAoEdHlwZRgBIAEoCRIPCgdzdWJqZWN0GAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJIswBCgpCYWRSZXF1ZXN0Ej8KEGZpZWxkX3Zpb2xhdGlvbnMYASADKAsyJS5nb29nbGUucnBjLkJhZFJlcXVlc3QuRmllbGRWaW9sYXRpb24afQoORmllbGRWaW9sYXRpb24SDQoFZmllbGQYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDgoGcmVhc29uGAMgASgJEjcKEWxvY2FsaXplZF9tZXNzYWdlGAQgASgLMhwuZ29vZ2xlLnJwYy5Mb2NhbGl6ZWRNZXNzYWdlIjcKC1JlcXVlc3RJbmZvEhIKCnJlcXVlc3RfaWQYASABKAkSFAoMc2VydmluZ19kYXRhGAIgASgJImAKDFJlc291cmNlSW5mbxIVCg1yZXNvdXJjZV90eXBlGAEgASgJEhUKDXJlc291cmNlX25hbWUYAiABKAkSDQoFb3duZXIYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkiVgoESGVscBIkCgVsaW5rcxgBIAMoCzIVLmdvb2dsZS5ycGMuSGVscC5MaW5rGigKBExpbmsSEwoLZGVzY3JpcHRpb24YASABKAkSCwoDdXJsGAIgASgJIjMKEExvY2FsaXplZE1lc3NhZ2USDgoGbG9jYWxlGAEgASgJEg8KB21lc3NhZ2UYAiABKAlCbAoOY29tLmdvb2dsZS5ycGNCEUVycm9yRGV0YWlsc1Byb3RvUAFaP2dvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvcnBjL2VycmRldGFpbHM7ZXJyZGV0YWlsc6ICA1JQQ2IGcHJvdG8z",[pke]),ANe=ze(SNe,0);var G=(e=>(e.Ok="ok",e.ErrClientNotActivated="ErrClientNotActivated",e.ErrClientNotFound="ErrClientNotFound",e.ErrUnimplemented="ErrUnimplemented",e.ErrInvalidType="ErrInvalidType",e.ErrDummy="ErrDummy",e.ErrNotAttached="ErrNotAttached",e.ErrNotDetached="ErrNotDetached",e.ErrDocumentRemoved="ErrDocumentRemoved",e.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",e.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",e.ErrInvalidObjectKey="ErrInvalidObjectKey",e.ErrInvalidArgument="ErrInvalidArgument",e.ErrNotInitialized="ErrNotInitialized",e.ErrNotReady="ErrNotReady",e.ErrRefused="ErrRefused",e.ErrContextNotProvided="ErrContextNotProvided",e.ErrPermissionDenied="ErrPermissionDenied",e.ErrUnauthenticated="ErrUnauthenticated",e.ErrTooManySubscribers="ErrTooManySubscribers",e.ErrTooManyAttachments="ErrTooManyAttachments",e))(G||{});class j extends Error{constructor(t,n){super(n),this.code=t,this.message=n,this.toString=()=>`[code=${this.code}]: ${this.message}`}name="YorkieError";stack}var Bi=(e=>(e.Put="put",e.Clear="clear",e))(Bi||{});const j2="000000000000000000000000",wi=24;class Fr{lamport;delimiter;actorID;constructor(t,n,r){this.lamport=t,this.delimiter=n,this.actorID=r}static of(t,n,r){return new Fr(t,n,r)}static fromStruct(t){return Fr.of(BigInt(t.lamport),t.delimiter,t.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(t){return new Fr(this.lamport,this.delimiter,t)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(t){return this.compare(t)>0}equals(t){return this.compare(t)===0}compare(t){if(this.lamport>t.lamport)return 1;if(t.lamport>this.lamport)return-1;const n=this.actorID.localeCompare(t.actorID);return n!==0?n:this.delimiter>t.delimiter?1:t.delimiter>this.delimiter?-1:0}}const e4=0n,yD=0,Uh=9223372036854775807n,$u=new Fr(e4,yD,j2);function Si(e){return e.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(t){switch(t){case'"':case"\\":return"\\"+t;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return t}})}class dd{createdAt;movedAt;removedAt;constructor(t){this.createdAt=t}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(t){this.createdAt=t}setMovedAt(t){return!this.movedAt||t&&t.after(this.movedAt)?(this.movedAt=t,!0):!1}setRemovedAt(t){this.removedAt=t}remove(t){return t&&t.after(this.createdAt)&&(!this.removedAt||t.after(this.removedAt))?(this.removedAt=t,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let t=0;return this.getCreatedAt()&&(t+=wi),this.getMovedAt()&&(t+=wi),this.getRemovedAt()&&(t+=wi),t}}class io extends dd{constructor(t){super(t)}}class Hh{strKey;value;constructor(t,n){this.strKey=t,this.value=n}static of(t,n){return new Hh(t,n)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(t){return this.value.remove(t)}}class zu{nodeMapByKey;nodeMapByCreatedAt;constructor(){this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new zu}set(t,n,r){let i;const o=this.nodeMapByKey.get(t);o&&!o.isRemoved()&&o.remove(r)&&(i=o.getValue());const u=Hh.of(t,n);return this.nodeMapByCreatedAt.set(n.getCreatedAt().toIDString(),u),(!o||r.after(o.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(t,u),n.setMovedAt(r)),i}delete(t,n){if(!this.nodeMapByCreatedAt.has(t.toIDString()))throw new j(G.ErrInvalidArgument,`fail to find ${t.toIDString()}`);const r=this.nodeMapByCreatedAt.get(t.toIDString());return r.remove(n),r.getValue()}subPathOf(t){const n=this.nodeMapByCreatedAt.get(t.toIDString());if(n)return n.getStrKey()}purge(t){const n=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!n)throw new j(G.ErrInvalidArgument,`fail to find ${t.getCreatedAt().toIDString()}`);const r=this.nodeMapByKey.get(n.getStrKey());n===r&&this.nodeMapByKey.delete(r.getStrKey()),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}deleteByKey(t,n){const r=this.nodeMapByKey.get(t);if(r&&r.remove(n))return r.getValue()}has(t){const n=this.nodeMapByKey.get(t);return n?!n.isRemoved():!1}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}get(t){const n=this.nodeMapByKey.get(t);if(!(!n||n.isRemoved()))return n}deepcopy(){const t=zu.create();for(const[,n]of this.nodeMapByCreatedAt)t.nodeMapByCreatedAt.set(n.getValue().getCreatedAt().toIDString(),Hh.of(n.getStrKey(),n.getValue().deepcopy()));for(const[n,r]of this.nodeMapByKey)t.nodeMapByKey.set(n,t.nodeMapByCreatedAt.get(r.getValue().getCreatedAt().toIDString()));return t}*[Symbol.iterator](){for(const[,t]of this.nodeMapByCreatedAt)yield t}}class wn extends io{memberNodes;constructor(t,n){super(t),this.memberNodes=n}static create(t,n){if(!n)return new wn(t,zu.create());const r=zu.create();for(const[i,o]of Object.entries(n))r.set(i,o.deepcopy(),o.getCreatedAt());return new wn(t,r)}subPathOf(t){return this.memberNodes.subPathOf(t)}purge(t){this.memberNodes.purge(t)}set(t,n,r){return this.memberNodes.set(t,n,r)}delete(t,n){return this.memberNodes.delete(t,n)}deleteByKey(t,n){return this.memberNodes.deleteByKey(t,n)}get(t){return this.memberNodes.get(t)?.getValue()}getByID(t){return this.memberNodes.getByID(t)?.getValue()}has(t){return this.memberNodes.has(t)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const t=[];for(const[n,r]of this)t.push(`"${Si(n)}":${r.toJSON()}`);return`{${t.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const t={};for(const[n,r]of this){const{createdAt:i,value:o,type:u}=r.toJSForTest();t[n]={key:n,createdAt:i,value:o,type:u}}return{createdAt:this.getCreatedAt().toTestString(),value:t,type:"YORKIE_OBJECT"}}getKeys(){const t=Array();for(const[n]of this)t.push(n);return t}toSortedJSON(){const t=new Set;for(const[r]of this)t.add(r);const n=[];for(const r of Array.from(t).sort()){const i=this.memberNodes.get(r)?.getValue();n.push(`"${Si(r)}":${i.toSortedJSON()}`)}return`{${n.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const t=wn.create(this.getCreatedAt());return t.memberNodes=this.memberNodes.deepcopy(),t.setRemovedAt(this.getRemovedAt()),t.setMovedAt(this.getMovedAt()),t}getDescendants(t){for(const n of this.memberNodes){const r=n.getValue();if(t(r,this))return;r instanceof io&&r.getDescendants(t)}}*[Symbol.iterator](){for(const t of this.memberNodes)t.isRemoved()||(yield[t.getStrKey(),t.getValue()])}}var Ft=(e=>(e.Local="local",e.Remote="remote",e.UndoRedo="undoredo",e))(Ft||{});class fi{parentCreatedAt;executedAt;constructor(t,n){this.parentCreatedAt=t,this.executedAt=n}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new j(G.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(t){this.executedAt&&(this.executedAt=this.executedAt.setActor(t))}setExecutedAt(t){this.executedAt=t}}class ED{value;left;right;parent;weight;constructor(t){this.value=t,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(t){this.left=t}setRight(t){this.right=t}setParent(t){this.parent=t}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(t){this.weight+=t}initWeight(){this.weight=this.getLength()}}class Uc{root;constructor(t){this.root=t}get length(){return this.root?this.root.getWeight():0}findForText(t){if(!this.root||t<0)return[void 0,0];let n=this.root;for(;;)if(n.hasLeft()&&t<=n.getLeftWeight())n=n.getLeft();else if(n.hasRight()&&n.getLeftWeight()+n.getLength()<t)t-=n.getLeftWeight()+n.getLength(),n=n.getRight();else{t-=n.getLeftWeight();break}if(t>n.getLength())throw new j(G.ErrInvalidArgument,`out of index range: pos: ${t} > node.length: ${n.getLength()}`);return this.splayNode(n),[n,t]}findForArray(t){if(!this.root)return;if(t<0||t>=this.length)throw new j(G.ErrInvalidArgument,`out of index range: idx: ${t}, length: ${this.length}`);let n=this.root;for(;;)if(n.hasLeft()&&t<n.getLeftWeight())n=n.getLeft();else if(n.hasRight()&&n.getLeftWeight()+n.getLength()<=t)t-=n.getLeftWeight()+n.getLength(),n=n.getRight();else break;return this.splayNode(n),n}indexOf(t){return!t||t!==this.root&&!t.hasLinks()?-1:(this.splayNode(t),this.root.getLeftWeight())}getRoot(){return this.root}insert(t){return this.insertAfter(this.root,t)}insertAfter(t,n){return t?(this.splayNode(t),this.root=n,n.setRight(t.getRight()),t.hasRight()&&t.getRight().setParent(n),n.setLeft(t),t.setParent(n),t.setRight(),this.updateWeight(t),this.updateWeight(n),n):(this.root=n,n)}updateWeight(t){t.initWeight(),t.hasLeft()&&t.increaseWeight(t.getLeftWeight()),t.hasRight()&&t.increaseWeight(t.getRightWeight())}updateTreeWeight(t){for(;t;)this.updateWeight(t),t=t.getParent()}splayNode(t){if(t)for(;;)if(this.isLeftChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t),this.rotateLeft(t);else if(this.isLeftChild(t.getParent())&&this.isLeftChild(t))this.rotateRight(t.getParent()),this.rotateRight(t);else if(this.isRightChild(t.getParent())&&this.isRightChild(t))this.rotateLeft(t.getParent()),this.rotateLeft(t);else{this.isLeftChild(t)?this.rotateRight(t):this.isRightChild(t)&&this.rotateLeft(t),this.updateWeight(t);return}}delete(t){this.splayNode(t);const n=new Uc(t.getLeft());n.root&&n.root.setParent();const r=new Uc(t.getRight());if(r.root&&r.root.setParent(),n.root){const i=n.getRightmost();n.splayNode(i),n.root.setRight(r.root),r.root&&r.root.setParent(n.root),this.root=n.root}else this.root=r.root;t.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(t,n){if(!n){this.splayNode(t),this.cutOffRight(t);return}this.splayNode(t),this.splayNode(n),n.getLeft()!=t&&this.rotateRight(t),this.cutOffRight(t)}cutOffRight(t){const n=[];this.traversePostorder(t.getRight(),n);for(const r of n)r.initWeight();this.updateTreeWeight(t)}toTestString(){const t=[];return this.traverseInorder(this.root,t),t.map(n=>`[${n.getWeight()},${n.getLength()}]${n.getValue()||""}`).join("")}checkWeight(){const t=[];this.traverseInorder(this.root,t);for(const n of t)if(n.getWeight()!=n.getLength()+n.getLeftWeight()+n.getRightWeight())return!1;return!0}getRightmost(){let t=this.root;for(;t.hasRight();)t=t.getRight();return t}traverseInorder(t,n){t&&(this.traverseInorder(t.getLeft(),n),n.push(t),this.traverseInorder(t.getRight(),n))}traversePostorder(t,n){t&&(this.traversePostorder(t.getLeft(),n),this.traversePostorder(t.getRight(),n),n.push(t))}rotateLeft(t){const n=t.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(t):n.getParent().setRight(t):this.root=t,t.setParent(n.getParent()),n.setRight(t.getLeft()),n.hasRight()&&n.getRight().setParent(n),t.setLeft(n),t.getLeft().setParent(t),this.updateWeight(n),this.updateWeight(t)}rotateRight(t){const n=t.getParent();n.hasParent()?n===n.getParent().getLeft()?n.getParent().setLeft(t):n.getParent().setRight(t):this.root=t,t.setParent(n.getParent()),n.setLeft(t.getRight()),n.hasLeft()&&n.getLeft().setParent(n),t.setRight(n),t.getRight().setParent(t),this.updateWeight(n),this.updateWeight(t)}isLeftChild(t){return t&&t.hasParent()?t.getParent().getLeft()===t:!1}isRightChild(t){return t&&t.hasParent()?t.getParent().getRight()===t:!1}}var Pr=null;try{Pr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Je(e,t,n){this.low=e|0,this.high=t|0,this.unsigned=!!n}Je.prototype.__isLong__;Object.defineProperty(Je.prototype,"__isLong__",{value:!0});function Rn(e){return(e&&e.__isLong__)===!0}function H5(e){var t=Math.clz32(e&-e);return e?31-t:t}Je.isLong=Rn;var G5={},j5={};function fs(e,t){var n,r,i;return t?(e>>>=0,(i=0<=e&&e<256)&&(r=j5[e],r)?r:(n=ot(e,0,!0),i&&(j5[e]=n),n)):(e|=0,(i=-128<=e&&e<128)&&(r=G5[e],r)?r:(n=ot(e,e<0?-1:0,!1),i&&(G5[e]=n),n))}Je.fromInt=fs;function Or(e,t){if(isNaN(e))return t?ia:ii;if(t){if(e<0)return ia;if(e>=bD)return AD}else{if(e<=-Y5)return Xn;if(e+1>=Y5)return SD}return e<0?Or(-e,t).neg():ot(e%Vu|0,e/Vu|0,t)}Je.fromNumber=Or;function ot(e,t,n){return new Je(e,t,n)}Je.fromBits=ot;var Gh=Math.pow;function K2(e,t,n){if(e.length===0)throw Error("empty string");if(typeof t=="number"?(n=t,t=!1):t=!!t,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t?ia:ii;if(n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return K2(e.substring(1),t,n).neg();for(var i=Or(Gh(n,8)),o=ii,u=0;u<e.length;u+=8){var l=Math.min(8,e.length-u),c=parseInt(e.substring(u,u+l),n);if(l<8){var f=Or(Gh(n,l));o=o.mul(f).add(Or(c))}else o=o.mul(i),o=o.add(Or(c))}return o.unsigned=t,o}Je.fromString=K2;function jr(e,t){return typeof e=="number"?Or(e,t):typeof e=="string"?K2(e,t):ot(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}Je.fromValue=jr;var K5=65536,wNe=1<<24,Vu=K5*K5,bD=Vu*Vu,Y5=bD/2,W5=fs(wNe),ii=fs(0);Je.ZERO=ii;var ia=fs(0,!0);Je.UZERO=ia;var mu=fs(1);Je.ONE=mu;var CD=fs(1,!0);Je.UONE=CD;var t4=fs(-1);Je.NEG_ONE=t4;var SD=ot(-1,2147483647,!1);Je.MAX_VALUE=SD;var AD=ot(-1,-1,!0);Je.MAX_UNSIGNED_VALUE=AD;var Xn=ot(0,-2147483648,!1);Je.MIN_VALUE=Xn;var pe=Je.prototype;pe.toInt=function(){return this.unsigned?this.low>>>0:this.low};pe.toNumber=function(){return this.unsigned?(this.high>>>0)*Vu+(this.low>>>0):this.high*Vu+(this.low>>>0)};pe.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Xn)){var n=Or(t),r=this.div(n),i=r.mul(n).sub(this);return r.toString(t)+i.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var o=Or(Gh(t,6),this.unsigned),u=this,l="";;){var c=u.div(o),f=u.sub(c.mul(o)).toInt()>>>0,g=f.toString(t);if(u=c,u.isZero())return g+l;for(;g.length<6;)g="0"+g;l=""+g+l}};pe.getHighBits=function(){return this.high};pe.getHighBitsUnsigned=function(){return this.high>>>0};pe.getLowBits=function(){return this.low};pe.getLowBitsUnsigned=function(){return this.low>>>0};pe.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Xn)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,n=31;n>0&&(t&1<<n)==0;n--);return this.high!=0?n+33:n+1};pe.isSafeInteger=function(){var t=this.high>>21;return t?this.unsigned?!1:t===-1&&!(this.low===0&&this.high===-2097152):!0};pe.isZero=function(){return this.high===0&&this.low===0};pe.eqz=pe.isZero;pe.isNegative=function(){return!this.unsigned&&this.high<0};pe.isPositive=function(){return this.unsigned||this.high>=0};pe.isOdd=function(){return(this.low&1)===1};pe.isEven=function(){return(this.low&1)===0};pe.equals=function(t){return Rn(t)||(t=jr(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low};pe.eq=pe.equals;pe.notEquals=function(t){return!this.eq(t)};pe.neq=pe.notEquals;pe.ne=pe.notEquals;pe.lessThan=function(t){return this.comp(t)<0};pe.lt=pe.lessThan;pe.lessThanOrEqual=function(t){return this.comp(t)<=0};pe.lte=pe.lessThanOrEqual;pe.le=pe.lessThanOrEqual;pe.greaterThan=function(t){return this.comp(t)>0};pe.gt=pe.greaterThan;pe.greaterThanOrEqual=function(t){return this.comp(t)>=0};pe.gte=pe.greaterThanOrEqual;pe.ge=pe.greaterThanOrEqual;pe.compare=function(t){if(Rn(t)||(t=jr(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1};pe.comp=pe.compare;pe.negate=function(){return!this.unsigned&&this.eq(Xn)?Xn:this.not().add(mu)};pe.neg=pe.negate;pe.add=function(t){Rn(t)||(t=jr(t));var n=this.high>>>16,r=this.high&65535,i=this.low>>>16,o=this.low&65535,u=t.high>>>16,l=t.high&65535,c=t.low>>>16,f=t.low&65535,g=0,m=0,v=0,y=0;return y+=o+f,v+=y>>>16,y&=65535,v+=i+c,m+=v>>>16,v&=65535,m+=r+l,g+=m>>>16,m&=65535,g+=n+u,g&=65535,ot(v<<16|y,g<<16|m,this.unsigned)};pe.subtract=function(t){return Rn(t)||(t=jr(t)),this.add(t.neg())};pe.sub=pe.subtract;pe.multiply=function(t){if(this.isZero())return this;if(Rn(t)||(t=jr(t)),Pr){var n=Pr.mul(this.low,this.high,t.low,t.high);return ot(n,Pr.get_high(),this.unsigned)}if(t.isZero())return this.unsigned?ia:ii;if(this.eq(Xn))return t.isOdd()?Xn:ii;if(t.eq(Xn))return this.isOdd()?Xn:ii;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(W5)&&t.lt(W5))return Or(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,i=this.high&65535,o=this.low>>>16,u=this.low&65535,l=t.high>>>16,c=t.high&65535,f=t.low>>>16,g=t.low&65535,m=0,v=0,y=0,b=0;return b+=u*g,y+=b>>>16,b&=65535,y+=o*g,v+=y>>>16,y&=65535,y+=u*f,v+=y>>>16,y&=65535,v+=i*g,m+=v>>>16,v&=65535,v+=o*f,m+=v>>>16,v&=65535,v+=u*c,m+=v>>>16,v&=65535,m+=r*g+i*f+o*c+u*l,m&=65535,ot(y<<16|b,m<<16|v,this.unsigned)};pe.mul=pe.multiply;pe.divide=function(t){if(Rn(t)||(t=jr(t)),t.isZero())throw Error("division by zero");if(Pr){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var n=(this.unsigned?Pr.div_u:Pr.div_s)(this.low,this.high,t.low,t.high);return ot(n,Pr.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ia:ii;var r,i,o;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return ia;if(t.gt(this.shru(1)))return CD;o=ia}else{if(this.eq(Xn)){if(t.eq(mu)||t.eq(t4))return Xn;if(t.eq(Xn))return mu;var u=this.shr(1);return r=u.div(t).shl(1),r.eq(ii)?t.isNegative()?mu:t4:(i=this.sub(t.mul(r)),o=r.add(i.div(t)),o)}else if(t.eq(Xn))return this.unsigned?ia:ii;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();o=ii}for(i=this;i.gte(t);){r=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var l=Math.ceil(Math.log(r)/Math.LN2),c=l<=48?1:Gh(2,l-48),f=Or(r),g=f.mul(t);g.isNegative()||g.gt(i);)r-=c,f=Or(r,this.unsigned),g=f.mul(t);f.isZero()&&(f=mu),o=o.add(f),i=i.sub(g)}return o};pe.div=pe.divide;pe.modulo=function(t){if(Rn(t)||(t=jr(t)),Pr){var n=(this.unsigned?Pr.rem_u:Pr.rem_s)(this.low,this.high,t.low,t.high);return ot(n,Pr.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))};pe.mod=pe.modulo;pe.rem=pe.modulo;pe.not=function(){return ot(~this.low,~this.high,this.unsigned)};pe.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};pe.clz=pe.countLeadingZeros;pe.countTrailingZeros=function(){return this.low?H5(this.low):H5(this.high)+32};pe.ctz=pe.countTrailingZeros;pe.and=function(t){return Rn(t)||(t=jr(t)),ot(this.low&t.low,this.high&t.high,this.unsigned)};pe.or=function(t){return Rn(t)||(t=jr(t)),ot(this.low|t.low,this.high|t.high,this.unsigned)};pe.xor=function(t){return Rn(t)||(t=jr(t)),ot(this.low^t.low,this.high^t.high,this.unsigned)};pe.shiftLeft=function(t){return Rn(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?ot(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):ot(0,this.low<<t-32,this.unsigned)};pe.shl=pe.shiftLeft;pe.shiftRight=function(t){return Rn(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?ot(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):ot(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};pe.shr=pe.shiftRight;pe.shiftRightUnsigned=function(t){return Rn(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?ot(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):t===32?ot(this.high,0,this.unsigned):ot(this.high>>>t-32,0,this.unsigned)};pe.shru=pe.shiftRightUnsigned;pe.shr_u=pe.shiftRightUnsigned;pe.rotateLeft=function(t){var n;return Rn(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?ot(this.high,this.low,this.unsigned):t<32?(n=32-t,ot(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(t-=32,n=32-t,ot(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))};pe.rotl=pe.rotateLeft;pe.rotateRight=function(t){var n;return Rn(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?ot(this.high,this.low,this.unsigned):t<32?(n=32-t,ot(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(t-=32,n=32-t,ot(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))};pe.rotr=pe.rotateRight;pe.toSigned=function(){return this.unsigned?ot(this.low,this.high,!1):this};pe.toUnsigned=function(){return this.unsigned?this:ot(this.low,this.high,!0)};pe.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()};pe.toBytesLE=function(){var t=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};pe.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};Je.fromBytes=function(t,n,r){return r?Je.fromBytesLE(t,n):Je.fromBytesBE(t,n)};Je.fromBytesLE=function(t,n){return new Je(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)};Je.fromBytesBE=function(t,n){return new Je(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};typeof BigInt=="function"&&(Je.fromBigInt=function(t,n){var r=Number(BigInt.asIntN(32,t)),i=Number(BigInt.asIntN(32,t>>BigInt(32)));return ot(r,i,n)},Je.fromValue=function(t,n){return typeof t=="bigint"?Je.fromBigInt(t,n):jr(t,n)},pe.toBigInt=function(){var t=BigInt(this.low>>>0),n=BigInt(this.unsigned?this.high>>>0:this.high);return n<<BigInt(32)|t});var wt=(e=>(e[e.Null=0]="Null",e[e.Boolean=1]="Boolean",e[e.Integer=2]="Integer",e[e.Long=3]="Long",e[e.Double=4]="Double",e[e.String=5]="String",e[e.Bytes=6]="Bytes",e[e.Date=7]="Date",e))(wt||{});class Vt extends dd{valueType;value;constructor(t,n){super(n),this.valueType=Vt.getPrimitiveType(t),this.value=t===void 0?null:t}static of(t,n){return new Vt(t,n)}static valueFromBytes(t,n){switch(t){case 0:return null;case 1:return!!n[0];case 2:return n[0]|n[1]<<8|n[2]<<16|n[3]<<24;case 4:{const r=new DataView(n.buffer);return n.forEach(function(i,o){r.setUint8(o,i)}),r.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(n);case 3:return Je.fromBytesLE(Array.from(n));case 6:return n;case 7:return new Date(Je.fromBytesLE(Array.from(n),!0).toNumber());default:throw new j(G.ErrUnimplemented,`unimplemented type: ${t}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new j(G.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${Si(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const t=Vt.of(this.value,this.getCreatedAt());return t.setMovedAt(this.getMovedAt()),t.setRemovedAt(this.getRemovedAt()),t}getType(){return this.valueType}static getPrimitiveType(t){switch(typeof t){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(t)?2:4;case"string":return 5;case"object":if(t===null)return 0;if(t instanceof Je)return 3;if(t instanceof Uint8Array)return 6;if(t instanceof Date)return 7}}static isSupport(t){return Vt.getPrimitiveType(t)!==void 0}static isInteger(t){return t%1===0}isNumericType(){const t=this.valueType;return t===2||t===3||t===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const t=this.value;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}case 4:{const t=this.value,n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),n}case 5:return new TextEncoder().encode(this.value);case 3:{const n=this.value.toBytesLE();return Uint8Array.from(n)}case 6:return this.value;case 7:{const t=this.value,n=Je.fromNumber(t.getTime(),!0).toBytesLE();return Uint8Array.from(n)}default:throw new j(G.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class jh extends ED{prev;next;movedFrom;constructor(t){super(t),this.value=t}static createAfter(t,n){const r=new jh(n),i=t.next;return t.next=r,r.prev=t,r.next=i,i&&(i.prev=r),r}remove(t){return this.value.remove(t)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(t){this.movedFrom=t}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class Hc{dummyHead;last;nodeMapByIndex;nodeMapByCreatedAt;constructor(){const t=Vt.of(0,$u);t.setRemovedAt($u),this.dummyHead=new jh(t),this.last=this.dummyHead,this.nodeMapByIndex=new Uc,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new Hc}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(t,n){let r=this.nodeMapByCreatedAt.get(t.toIDString());if(!r)throw new j(G.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);for(;r.getValue().getMovedAt()&&r.getValue().getMovedAt().after(n)&&r.getMovedFrom();)r=r.getMovedFrom();for(;r.getNext()&&r.getNext().getPositionedAt().after(n);)r=r.getNext();return r}release(t){this.last===t&&(this.last=t.getPrev()),t.release(),this.nodeMapByIndex.delete(t),this.nodeMapByCreatedAt.delete(t.getValue().getCreatedAt().toIDString())}insertAfter(t,n,r=n.getCreatedAt()){const i=this.findNextBeforeExecutedAt(t,r),o=jh.createAfter(i,n);return i===this.last&&(this.last=o),this.nodeMapByIndex.insertAfter(i,o),this.nodeMapByCreatedAt.set(o.getCreatedAt().toIDString(),o),o}moveAfter(t,n,r){let i=this.nodeMapByCreatedAt.get(t.toIDString());if(!i)throw new j(G.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);let o=this.nodeMapByCreatedAt.get(n.toIDString());if(!o)throw new j(G.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);if(i!==o&&r.after(o.getPositionedAt())){const u=o.getPrev();let l=o.getNext();for(this.release(o),o=this.insertAfter(i.getCreatedAt(),o.getValue(),r),o.getValue().setMovedAt(r),o.setMovedFrom(u);l&&l.getPositionedAt().after(r);)i=o,o=l,l=o.getNext(),this.release(o),o=this.insertAfter(i.getCreatedAt(),o.getValue(),r),o.getValue().setMovedAt(r),o.setMovedFrom(u)}}insert(t){this.insertAfter(this.last.getCreatedAt(),t)}getByID(t){return this.nodeMapByCreatedAt.get(t.toIDString())}subPathOf(t){const n=this.nodeMapByCreatedAt.get(t.toIDString());if(n)return String(this.nodeMapByIndex.indexOf(n))}purge(t){const n=this.nodeMapByCreatedAt.get(t.getCreatedAt().toIDString());if(!n)throw new j(G.ErrInvalidArgument,`fail to find the given createdAt: ${t.getCreatedAt().toIDString()}`);this.release(n)}getByIndex(t){return t>=this.length?void 0:this.nodeMapByIndex.findForArray(t)}getPrevCreatedAt(t){let n=this.nodeMapByCreatedAt.get(t.toIDString());do n=n.getPrev();while(this.dummyHead!==n&&n.isRemoved());return n.getValue().getCreatedAt()}delete(t,n){const r=this.nodeMapByCreatedAt.get(t.toIDString()),i=r.isRemoved();return r.remove(n)&&!i&&this.nodeMapByIndex.splayNode(r),r.getValue()}set(t,n,r){const i=this.nodeMapByCreatedAt.get(t.toIDString());if(!i)throw new j(G.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);return this.insertAfter(i.getCreatedAt(),n,r),this.delete(t,r)}deleteByIndex(t,n){const r=this.getByIndex(t);if(r)return r.remove(n)&&this.nodeMapByIndex.splayNode(r),r.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const t=[];for(const n of this){const r=`${n.getCreatedAt().toIDString()}:${n.getValue().toJSON()}`;n.isRemoved()?t.push(`{${r}}`):t.push(`[${r}]`)}return t.join("")}*[Symbol.iterator](){let t=this.dummyHead.getNext();for(;t;)yield t,t=t.getNext()}}class xn extends io{elements;constructor(t,n){super(t),this.elements=n}static create(t,n){if(!n)return new xn(t,Hc.create());const r=Hc.create();for(const i of n)r.insertAfter(r.getLastCreatedAt(),i.deepcopy());return new xn(t,r)}subPathOf(t){return this.elements.subPathOf(t)}purge(t){this.elements.purge(t)}insertAfter(t,n,r){this.elements.insertAfter(t,n,r)}moveAfter(t,n,r){this.elements.moveAfter(t,n,r)}get(t){return this.elements.getByIndex(t)?.getValue()}getByID(t){return this.elements.getByID(t)?.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(t){return this.elements.getPrevCreatedAt(t)}delete(t,n){return this.elements.delete(t,n)}deleteByIndex(t,n){return this.elements.deleteByIndex(t,n)}set(t,n,r){return this.elements.set(t,n,r)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const t of this.elements)t.isRemoved()||(yield t.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(t){for(const n of this.elements){const r=n.getValue();if(t(r,this))return;r instanceof io&&r.getDescendants(t)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const t=[];for(const n of this)t.push(n.toJSON());return`[${t.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const t={};for(let n=0;n<this.length;n++){const{createdAt:r,value:i,type:o}=this.get(n).toJSForTest();t[n]={key:String(n),createdAt:r,value:i,type:o}}return{createdAt:this.getCreatedAt().toTestString(),value:t,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const t=xn.create(this.getCreatedAt());for(const n of this.elements)t.elements.insertAfter(t.getLastCreatedAt(),n.getValue().deepcopy());return t.setRemovedAt(this.getRemovedAt()),t.setMovedAt(this.getMovedAt()),t}}class Co extends fi{prevCreatedAt;value;constructor(t,n,r,i){super(t,i),this.prevCreatedAt=n,this.value=r}static create(t,n,r,i){return new Co(t,n,r,i)}execute(t){const n=t.findByCreatedAt(this.getParentCreatedAt());if(!n)throw new j(G.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(n instanceof xn))throw new j(G.ErrInvalidArgument,"fail to execute, only array can execute add");const r=n,i=this.value.deepcopy();return r.insertAfter(this.prevCreatedAt,i,this.getExecutedAt()),t.registerElement(i,r),{opInfos:[{type:"add",path:t.createPath(this.getParentCreatedAt()),index:Number(r.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return ki.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(t){this.prevCreatedAt=t}}class ki extends fi{createdAt;constructor(t,n,r){super(t,r),this.createdAt=n}static create(t,n,r){return new ki(t,n,r)}execute(t,n){const r=t.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new j(G.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof io))throw new j(G.ErrInvalidArgument,`only object and array can execute remove: ${r}`);if(n===Ft.UndoRedo){let c=r.getByID(this.createdAt);for(;c;){if(c.getRemovedAt())return;c=t.findElementPairByCreatedAt(c.getCreatedAt())?.parent}}const i=r.subPathOf(this.createdAt),o=this.toReverseOperation(r),u=r.delete(this.createdAt,this.getExecutedAt());return t.registerRemovedElement(u),{opInfos:r instanceof xn?[{type:"remove",path:t.createPath(this.getParentCreatedAt()),index:Number(i)}]:[{type:"remove",path:t.createPath(this.getParentCreatedAt()),key:i}],reverseOp:o}}toReverseOperation(t){if(t instanceof xn){const n=t.getByID(this.createdAt);if(n!==void 0){const r=t.getPrevCreatedAt(this.createdAt);return Co.create(this.getParentCreatedAt(),r,n.deepcopy())}}if(t instanceof wn){const n=t.subPathOf(this.createdAt);if(n!==void 0){const r=t.get(n);if(r!==void 0)return os.create(n,r.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(t){this.createdAt=t}}class os extends fi{key;value;constructor(t,n,r,i){super(r,i),this.key=t,this.value=n}static create(t,n,r,i){return new os(t,n,r,i)}execute(t,n){const r=t.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new j(G.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof wn))throw new j(G.ErrInvalidArgument,"fail to execute, only object can execute set");if(n===Ft.UndoRedo){let c=r;for(;c;){if(c.getRemovedAt())return;c=t.findElementPairByCreatedAt(c.getCreatedAt())?.parent}}const i=r.get(this.key),o=this.toReverseOperation(i),u=this.value.deepcopy(),l=r.set(this.key,u,this.getExecutedAt());return n===Ft.UndoRedo&&t.findByCreatedAt(u.getCreatedAt())&&t.deregisterElement(u),t.registerElement(u,r),l&&t.registerRemovedElement(l),{opInfos:[{type:"set",path:t.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:o}}toReverseOperation(t){let n=ki.create(this.getParentCreatedAt(),this.value.getCreatedAt());return t!==void 0&&!t.isRemoved()&&(n=os.create(this.key,t.deepcopy(),this.getParentCreatedAt())),n}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class ai extends fi{prevCreatedAt;createdAt;constructor(t,n,r,i){super(t,i),this.prevCreatedAt=n,this.createdAt=r}static create(t,n,r,i){return new ai(t,n,r,i)}execute(t){const n=t.findByCreatedAt(this.getParentCreatedAt());if(!n)throw new j(G.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(n instanceof xn))throw new j(G.ErrInvalidArgument,"fail to execute, only array can execute move");const r=n,i=this.toReverseOperation(r),o=Number(r.subPathOf(this.createdAt));r.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const u=Number(r.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:t.createPath(this.getParentCreatedAt()),index:u,previousIndex:o}],reverseOp:i}}toReverseOperation(t){const n=t.getPrevCreatedAt(this.createdAt);return ai.create(this.getParentCreatedAt(),n,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(t){this.prevCreatedAt=t}setCreatedAt(t){this.createdAt=t}}const xNe=(e,t)=>e===t?0:e<t?-1:1;class DNe{key;value;left;right;isRed;constructor(t,n,r){this.key=t,this.value=n,this.isRed=r}}class INe{stack;constructor(t){this.stack=[],this.traverseInorder(t)}traverseInorder(t){t&&(this.traverseInorder(t.left),this.stack.push({key:t.key,value:t.value}),this.traverseInorder(t.right))}}class wD{root;comparator;counter;constructor(t){this.comparator=typeof t<"u"?t:xNe,this.counter=0}put(t,n){return this.root=this.putInternal(t,n,this.root),this.root.isRed=!1,n}get(t){const n=this.getInternal(t,this.root);return n?n.value:void 0}remove(t){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,t),this.root&&(this.root.isRed=!1)}getIterator(){return new INe(this.root)}values(){const t=[];for(const n of this.getIterator().stack)t.push(n.value);return t}floorEntry(t){let n=this.root,r;for(;n;){const i=this.comparator(t,n.key);if(i===0)return n;i<0?n=n.left:(r=n,n=n.right)}return r}lastEntry(){if(!this.root)return this.root;let t=this.root;for(;t.right;)t=t.right;return t}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(t,n){for(;n;){const r=this.comparator(t,n.key);if(r===0)return n;r<0?n=n.left:r>0&&(n=n.right)}}putInternal(t,n,r){if(!r)return this.counter+=1,new DNe(t,n,!0);const i=this.comparator(t,r.key);return i<0?r.left=this.putInternal(t,n,r.left):i>0?r.right=this.putInternal(t,n,r.right):r.value=n,this.isRed(r.right)&&!this.isRed(r.left)&&(r=this.rotateLeft(r)),this.isRed(r.left)&&this.isRed(r.left.left)&&(r=this.rotateRight(r)),this.isRed(r.left)&&this.isRed(r.right)&&this.flipColors(r),r}removeInternal(t,n){if(this.comparator(n,t.key)<0)!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeInternal(t.left,n);else{if(this.isRed(t.left)&&(t=this.rotateRight(t)),this.comparator(n,t.key)===0&&!t.right){this.counter-=1;return}if(!this.isRed(t.right)&&!this.isRed(t.right.left)&&(t=this.moveRedRight(t)),this.comparator(n,t.key)===0){this.counter-=1;const r=this.min(t.right);t.value=r.value,t.key=r.key,t.right=this.removeMin(t.right)}else t.right=this.removeInternal(t.right,n)}return this.fixUp(t)}min(t){return t.left?this.min(t.left):t}removeMin(t){if(t.left)return!this.isRed(t.left)&&!this.isRed(t.left.left)&&(t=this.moveRedLeft(t)),t.left=this.removeMin(t.left),this.fixUp(t)}fixUp(t){return this.isRed(t.right)&&(t=this.rotateLeft(t)),this.isRed(t.left)&&this.isRed(t.left.left)&&(t=this.rotateRight(t)),this.isRed(t.left)&&this.isRed(t.right)&&this.flipColors(t),t}moveRedLeft(t){return this.flipColors(t),this.isRed(t.right.left)&&(t.right=this.rotateRight(t.right),t=this.rotateLeft(t),this.flipColors(t)),t}moveRedRight(t){return this.flipColors(t),this.isRed(t.left.left)&&(t=this.rotateRight(t),this.flipColors(t)),t}isRed(t){return t&&t.isRed}rotateLeft(t){const n=t.right;return t.right=n.left,n.left=t,n.isRed=n.left.isRed,n.left.isRed=!0,n}rotateRight(t){const n=t.left;return t.left=n.right,n.right=t,n.isRed=n.right.isRed,n.right.isRed=!0,n}flipColors(t){t.isRed=!t.isRed,t.left.isRed=!t.left.isRed,t.right.isRed=!t.right.isRed}}function TNe(e){return e?Z5(e.live)+Z5(e.gc):0}function Z5(e){return e.data+e.meta}function un(e,...t){for(const n of t)e.data+=n.data,e.meta+=n.meta}function qo(e,t){e.data-=t.data,e.meta-=t.meta}class xi{createdAt;offset;constructor(t,n){this.createdAt=t,this.offset=n}static of(t,n){return new xi(t,n)}static fromStruct(t){return xi.of(Fr.fromStruct(t.createdAt),t.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}hasSameCreatedAt(t){return this.createdAt.compare(t.createdAt)===0}split(t){return new xi(this.createdAt,this.offset+t)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const RNe=xi.of($u,0);class bn{id;relativeOffset;constructor(t,n){this.id=t,this.relativeOffset=n}static of(t,n){return new bn(t,n)}static fromStruct(t){const n=xi.fromStruct(t.id);return bn.of(n,t.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return xi.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(t){return this.id.equals(t.id)?this.relativeOffset===t.relativeOffset:!1}}class ao extends ED{id;removedAt;prev;next;insPrev;insNext;constructor(t,n,r){super(n),this.id=t,this.removedAt=r}static create(t,n){return new ao(t,n)}static createComparator(){return(t,n)=>{const r=t.getCreatedAt().compare(n.getCreatedAt());return r!==0?r:t.getOffset()>n.getOffset()?1:t.getOffset()<n.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(t){this.prev=t,t&&(t.next=this)}setNext(t){this.next=t,t&&(t.prev=this)}setInsPrev(t){this.insPrev=t,t&&(t.insNext=this)}setInsNext(t){this.insNext=t,t&&(t.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(t){return new ao(this.id.split(t),this.splitValue(t),this.removedAt)}canRemove(t,n,r){return n?!!(!this.removedAt||!r&&t?.after(this.removedAt)):!1}canStyle(t,n){return this.getCreatedAt().getLamport()<=n&&(!this.removedAt||t.after(this.removedAt))}setRemovedAt(t){this.removedAt=t}remove(t){if(!this.removedAt){this.removedAt=t;return}t.after(this.removedAt)&&(this.removedAt=t)}createPosRange(){return[bn.of(this.id,0),bn.of(this.id,this.getLength())]}getDataSize(){const t=this.value.getDataSize();return this.id&&(t.meta+=wi),this.removedAt&&(t.meta+=wi),t}deepcopy(){return new ao(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(t){const n=this.value;return this.value=n.substring(0,t),n.substring(t,n.length)}toIDString(){return this.id.toIDString()}}class Uu{head;treeByIndex;treeByID;constructor(){this.head=ao.create(RNe),this.treeByIndex=new Uc,this.treeByID=new wD(ao.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Uu}edit(t,n,r,i){const o={data:0,meta:0},[u,l,c]=this.findNodeWithSplit(t[1],n),[f,g,m]=this.findNodeWithSplit(t[0],n);un(o,l,g);const v=this.findBetween(m,c),[y,b]=this.deleteNodes(v,n,i),C=c?c.getID():u.getID();let A=bn.of(C,0);if(r){const T=this.posToIndex(f.createPosRange()[1],!0),N=this.insertAfter(f,ao.create(xi.of(n,0),r));un(o,N.getDataSize()),y.length&&y[y.length-1].from===T?y[y.length-1].value=r:y.push({actor:n.getActorID(),from:T,to:T,value:r}),A=bn.of(N.getID(),N.getContentLength())}const x=[],D=[];for(const[,T]of b)x.push({parent:this,child:T}),D.push(T.getValue());return[A,x,o,y,D]}indexToPos(t){const[n,r]=this.treeByIndex.findForText(t),i=n;return bn.of(i.getID(),r)}findIndexesFromRange(t){const[n,r]=t;return[this.posToIndex(n,!1),this.posToIndex(r,!0)]}posToIndex(t,n){const r=t.getAbsoluteID(),i=n?this.findFloorNodePreferToLeft(r):this.findFloorNode(r);if(!i)throw new j(G.ErrInvalidArgument,`the node of the given id should be found: ${r.toTestString()}`);const o=this.treeByIndex.indexOf(i),u=i.isRemoved()?0:r.getOffset()-i.getID().getOffset();return o+u}findNode(t){return this.findFloorNode(t)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const t=[];for(const n of this)n.isRemoved()||t.push(n.getValue());return t.join("")}*[Symbol.iterator](){let t=this.head.getNext();for(;t;)yield t,t=t.getNext()}getHead(){return this.head}deepcopy(){const t=new Uu;let n=this.head.getNext(),r=t.head,i;for(;n;){if(i=t.insertAfter(r,n.deepcopy()),n.hasInsPrev()){const o=t.findNode(n.getInsPrevID());i.setInsPrev(o)}r=i,n=n.getNext()}return t}normalizePos(t){const n=this.findFloorNode(t.getID());if(!n)throw new j(G.ErrInvalidArgument,`the node of the given id should be found: ${t.getID().toTestString()}`);let r=t.getRelativeOffset(),i=n,o=n.getPrev();for(;o;)r+=o.getLength(),i=o,o=o.getPrev();return bn.of(i.getID(),r)}refinePos(t){let n=this.findFloorNode(t.getID());if(!n)throw new j(G.ErrInvalidArgument,`the node of the given id should be found: ${t.getID().toTestString()}`);let r=t.getRelativeOffset(),i=n.getContentLength();for(;r>i;){r-=i;const o=n.getNext();if(!o)return bn.of(n.getID(),i);n=o,i=n.getLength()}return bn.of(n.getID(),r)}toTestString(){const t=[];let n=this.head;for(;n;)n.isRemoved()?t.push(`{${n.toTestString()}}`):t.push(`[${n.toTestString()}]`),n=n.getNext();return t.join("")}insertAfter(t,n){const r=t.getNext();return n.setPrev(t),r&&r.setPrev(n),this.treeByID.put(n.getID(),n),this.treeByIndex.insertAfter(t,n),n}findNodeWithSplit(t,n){const r=t.getAbsoluteID();let i=this.findFloorNodePreferToLeft(r);const o=r.getOffset()-i.getID().getOffset(),[,u]=this.splitNode(i,o);for(;i.hasNext()&&i.getNext().getCreatedAt().after(n);)i=i.getNext();return[i,u,i.getNext()]}findFloorNodePreferToLeft(t){let n=this.findFloorNode(t);if(!n)throw new j(G.ErrInvalidArgument,`the node of the given id should be found: ${t.toTestString()}`);if(t.getOffset()>0&&n.getID().getOffset()==t.getOffset()){if(!n.hasInsPrev())return n;n=n.getInsPrev()}return n}findFloorNode(t){const n=this.treeByID.floorEntry(t);if(n&&!(!n.key.equals(t)&&!n.key.hasSameCreatedAt(t)))return n.value}findBetween(t,n){const r=[];let i=t;for(;i&&i!==n;)r.push(i),i=i.getNext();return r}splitNode(t,n){const r={data:0,meta:0};if(n>t.getContentLength())throw new j(G.ErrInvalidArgument,"offset should be less than or equal to length");if(n===0)return[t,r];if(n===t.getContentLength())return[t.getNext(),r];const i=t.getDataSize(),o=t.split(n);this.treeByIndex.updateWeight(o),this.insertAfter(t,o);const u=t.getInsNext();return u&&u.setInsPrev(o),o.setInsPrev(t),un(r,t.getDataSize(),o.getDataSize()),qo(r,i),[o,r]}deleteNodes(t,n,r){if(!t.length)return[[],new Map];const i=r===void 0||r.size()===0,o=[],u=[],[l,c]=this.findEdgesOfCandidates(t);u.push(l);for(const m of t){let v=!1;if(i)v=!0;else{const b=r?.get(m.getCreatedAt().getActorID());b&&b>=m.getCreatedAt().getLamport()&&(v=!0)}let y=!1;if(m.getRemovedAt()){const b=r?.get(m.getRemovedAt().getActorID());(i||b&&b>=m.getRemovedAt().getLamport())&&(y=!0)}m.canRemove(n,v,y)?o.push(m):u.push(m)}u.push(c);const f=this.makeChanges(u,n),g=new Map;for(const m of o)g.set(m.getID().toIDString(),m),m.remove(n);return this.deleteIndexNodes(u),[f,g]}findEdgesOfCandidates(t){return[t[0].getPrev(),t[t.length-1].getNext()]}makeChanges(t,n){const r=[];let i,o;for(let u=0;u<t.length-1;u++){const l=t[u],c=t[u+1];l.getNext()!=c&&([i]=this.findIndexesFromRange(l.getNext().createPosRange()),c?[,o]=this.findIndexesFromRange(c.getPrev().createPosRange()):o=this.treeByIndex.length,i<o&&r.push({actor:n.getActorID(),from:i,to:o}))}return r.reverse()}deleteIndexNodes(t){for(let n=0;n<t.length-1;n++){const r=t[n],i=t[n+1];r.getNext()!=i&&this.treeByIndex.deleteRange(r,i)}}purge(t){this.treeByIndex.delete(t),this.treeByID.remove(t.getID());const n=t.getPrev(),r=t.getNext(),i=t.getInsPrev(),o=t.getInsNext();n&&n.setNext(r),r&&r.setPrev(n),t.setPrev(void 0),t.setNext(void 0),i&&i.setInsNext(o),o&&o.setInsPrev(i),t.setInsPrev(void 0),t.setInsNext(void 0)}}class no{key;value;updatedAt;_isRemoved;constructor(t,n,r,i){this.key=t,this.value=n,this.updatedAt=r,this._isRemoved=i}static of(t,n,r,i){return new no(t,n,r,i)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:wi}}}class pa{nodeMapByKey;numberOfRemovedElement;constructor(){this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new pa}getNodeMapByKey(){return this.nodeMapByKey}set(t,n,r){const i=this.nodeMapByKey.get(t);if(i&&i.isRemoved()&&r.after(i.getUpdatedAt())&&(this.numberOfRemovedElement-=1),i===void 0||r.after(i.getUpdatedAt())){const o=no.of(t,n,r,!1);return this.nodeMapByKey.set(t,o),i!==void 0&&i.isRemoved()?[i,o]:[void 0,o]}return i.isRemoved()?[i,void 0]:[void 0,void 0]}setInternal(t,n,r,i){const o=no.of(t,n,r,i);this.nodeMapByKey.set(t,o),i&&this.numberOfRemovedElement++}remove(t,n){const r=this.nodeMapByKey.get(t),i=[];if(r===void 0||n.after(r.getUpdatedAt())){if(r===void 0){this.numberOfRemovedElement+=1;const l=no.of(t,"",n,!0);return this.nodeMapByKey.set(t,l),i.push(l),i}const o=r.isRemoved();o||(this.numberOfRemovedElement+=1),o&&i.push(r);const u=no.of(t,r.getValue(),n,!0);return this.nodeMapByKey.set(t,u),i.push(u),i}return i}has(t){if(this.nodeMapByKey.has(t)){const n=this.nodeMapByKey.get(t);return n!==void 0&&!n.isRemoved()}return!1}get(t){if(this.nodeMapByKey.has(t))return this.nodeMapByKey.get(t).getValue()}deepcopy(){const t=new pa;for(const[,n]of this.nodeMapByKey)t.setInternal(n.getKey(),n.getValue(),n.getUpdatedAt(),n.isRemoved());return t}toJSON(){if(!this.size())return"{}";const t=[];for(const[n,r]of this.nodeMapByKey)r.isRemoved()||t.push(`"${Si(n)}":"${Si(r.getValue())}"`);return`{${t.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const t={};for(const[n,r]of this.nodeMapByKey)r.isRemoved()||(t[n]=r.getValue());return t}*[Symbol.iterator](){for(const[,t]of this.nodeMapByKey)yield t}purge(t){const n=this.nodeMapByKey.get(t.getKey());n==null||n.toIDString()!=t.toIDString()||(this.nodeMapByKey.delete(t.getKey()),this.numberOfRemovedElement--)}}function ei(e){if(e instanceof Map){const t=Array.from(e);return new Map(JSON.parse(JSON.stringify(t)))}return JSON.parse(JSON.stringify(e))}const xD=e=>e?Object.entries(e).length===0:!0,Hu=e=>{const t={};for(const[n,r]of Object.entries(e))t[n]=JSON.stringify(r);return t},ua=e=>{const t={};for(const[n,r]of Object.entries(e))t[n]=JSON.parse(r);return t};class Gc{attributes;content;constructor(t){this.attributes=pa.create(),this.content=t}static create(t){return new Gc(t)}get length(){return this.content.length}substring(t,n){const r=new Gc(this.content.substring(t,n));return r.attributes=this.attributes.deepcopy(),r}setAttr(t,n,r){return this.attributes.set(t,n,r)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const t={data:0,meta:0};t.data+=this.content.length*2;for(const n of this.attributes){const r=n.getDataSize();t.meta+=r.meta,t.data+=r.data}return t}toJSON(){const t=Si(this.content),n=this.attributes.toObject(),r=[];for(const[i,o]of Object.entries(n)){const u=JSON.parse(o),l=typeof u=="string"?`"${Si(i)}":"${Si(u)}"`:`"${Si(i)}":${String(u)}`;r.push(l)}return r.sort(),r.length===0?`{"val":"${t}"}`:`{"attrs":{${r.join(",")}},"val":"${t}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(t){this.attributes&&t instanceof no&&this.attributes.purge(t)}getGCPairs(){const t=[];for(const n of this.attributes)n.getRemovedAt()&&t.push({parent:this,child:n});return t}}class Qn extends dd{rgaTreeSplit;constructor(t,n){super(n),this.rgaTreeSplit=t}static create(t,n){return new Qn(t,n)}edit(t,n,r,i,o){const u=n?Gc.create(n):void 0;if(u&&i)for(const[y,b]of Object.entries(i))u.setAttr(y,b,r);const[l,c,f,g,m]=this.rgaTreeSplit.edit(t,r,u,o);return[g.map(y=>({...y,value:y.value?{attributes:ua(y.value.getAttributes()),content:y.value.getContent()}:{attributes:void 0,content:""},type:"content"})),c,f,[l,l],m]}setStyle(t,n,r,i){const o={data:0,meta:0},[,u,l]=this.rgaTreeSplit.findNodeWithSplit(t[1],r),[,c,f]=this.rgaTreeSplit.findNodeWithSplit(t[0],r);un(o,u,c);const g=[],m=this.rgaTreeSplit.findBetween(f,l),v=[];for(const x of m){const D=x.getCreatedAt().getActorID();let T=Uh;i!=null&&(T=i.get(D)?i.get(D):0n),x.canStyle(r,T)&&v.push(x)}const y=new Map,b=[];let C=!1;const A=[];for(const x of v){if(x.isRemoved())continue;if(!C){for(const N of Object.keys(n)){const k=x.getValue().getAttrs();k.has(N)?y.set(N,k.get(N)):b.push(N)}C=!0}const[D,T]=this.rgaTreeSplit.findIndexesFromRange(x.createPosRange());g.push({type:"style",actor:r.getActorID(),from:D,to:T,value:{attributes:ua(n)}});for(const[N,k]of Object.entries(n)){const[M]=x.getValue().setAttr(N,k,r);M!==void 0&&A.push({parent:x.getValue(),child:M});const B=x.getValue().getAttrs().getNodeMapByKey().get(N);B!==void 0&&un(o,B.getDataSize())}}return[A,o,g,y,b]}removeStyle(t,n,r,i){const o={data:0,meta:0},[,u,l]=this.rgaTreeSplit.findNodeWithSplit(t[1],r),[,c,f]=this.rgaTreeSplit.findNodeWithSplit(t[0],r);un(o,u,c);const g=[],m=this.rgaTreeSplit.findBetween(f,l),v=[];for(const A of m){const x=A.getCreatedAt().getActorID();let D=Uh;i!=null&&(D=i.get(x)?i.get(x):0n),A.canStyle(r,D)&&v.push(A)}const y=new Map;let b=!1;const C=[];for(const A of v){if(A.isRemoved())continue;if(!b){for(const N of n){const k=A.getValue().getAttrs();k.has(N)&&y.set(N,k.get(N))}b=!0}const[x,D]=this.rgaTreeSplit.findIndexesFromRange(A.createPosRange()),T={};for(const N of n)T[N]=null;g.push({type:"style",actor:r.getActorID(),from:x,to:D,value:{attributes:T}});for(const N of n){const k=A.getValue().getAttrs().remove(N,r);for(const M of k)C.push({parent:A.getValue(),child:M}),un(o,M.getDataSize())}}return[C,o,g,y]}indexRangeToPosRange(t,n){const r=this.rgaTreeSplit.indexToPos(t);return t===n?[r,r]:[r,this.rgaTreeSplit.indexToPos(n)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}refinePos(t){return this.rgaTreeSplit.refinePos(t)}normalizePos(t){return this.rgaTreeSplit.normalizePos(t)}getDataSize(){const t={data:0,meta:0};for(const n of this.rgaTreeSplit){if(n.isRemoved())continue;const r=n.getDataSize();t.data+=r.data,t.meta+=r.meta}return{data:t.data,meta:t.meta+this.getMetaUsage()}}toJSON(){const t=[];for(const n of this.rgaTreeSplit)n.isRemoved()||t.push(n.getValue().toJSON());return`[${t.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const t=[];for(const n of this.rgaTreeSplit)if(!n.isRemoved()){const r=n.getValue();t.push({attributes:ua(r.getAttributes()),content:r.getContent()})}return t}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const t=new Qn(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return t.setRemovedAt(this.getRemovedAt()),t.setMovedAt(this.getMovedAt()),t}findIndexesFromRange(t){return this.rgaTreeSplit.findIndexesFromRange(t)}posToIndex(t,n=!1){return this.rgaTreeSplit.posToIndex(t,n)}getGCPairs(){const t=[];for(const n of this.rgaTreeSplit){n.getRemovedAt()&&t.push({parent:this.rgaTreeSplit,child:n});for(const r of n.getValue().getGCPairs())t.push(r)}return t}}class po extends fi{fromPos;toPos;content;attributes;isUndoOp;constructor(t,n,r,i,o,u,l){super(t,u),this.fromPos=n,this.toPos=r,this.content=i,this.attributes=o,this.isUndoOp=l}static create(t,n,r,i,o,u,l){return new po(t,n,r,i,o,u,l)}execute(t,n,r){const i=t.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new j(G.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Qn))throw new j(G.ErrInvalidArgument,"fail to execute, only Text can execute edit");const o=i;this.isUndoOp&&(this.fromPos=o.refinePos(this.fromPos),this.toPos=o.refinePos(this.toPos));const[u,l,c,,f]=o.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),r),g=this.toReverseOperation(f,o.normalizePos(this.fromPos));t.acc(c);for(const m of l)t.registerGCPair(m);return{opInfos:u.map(({from:m,to:v,value:y})=>({type:"edit",from:m,to:v,value:y,path:t.createPath(this.getParentCreatedAt())})),reverseOp:g}}toReverseOperation(t,n){const r=t?.length?t.map(o=>o.getContent()).join(""):"";let i;if(t.length===1){const o=t[0].getAttributes();o&&(i=Array.from(Object.entries(o)))}return po.create(this.getParentCreatedAt(),n,bn.of(n.getID(),n.getRelativeOffset()+(this.content?.length??0)),r,i?new Map(i):new Map,void 0,!0)}normalizePos(t){const n=t.findByCreatedAt(this.getParentCreatedAt());if(!n)throw new j(G.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(n instanceof Qn))throw new j(G.ErrInvalidArgument,"only Text can normalize edit");const r=n,i=r.normalizePos(this.fromPos).getRelativeOffset(),o=r.normalizePos(this.toPos).getRelativeOffset();return[i,o]}reconcileOperation(t,n,r){if(!this.isUndoOp||t>n)return;const i=n-t,o=this.fromPos.getRelativeOffset(),u=this.toPos.getRelativeOffset(),l=(c,f)=>{this.fromPos=bn.of(this.fromPos.getID(),Math.max(0,c)),this.toPos=bn.of(this.toPos.getID(),Math.max(0,f))};if(n<=o){l(o-i+r,u-i+r);return}if(!(u<=t)){if(t<=o&&u<=n&&t!==n){l(t,t);return}if(o<=t&&n<=u&&o!==u){l(o,u-i+r);return}if(t<o&&o<n&&n<u){l(t,t+(u-n));return}if(o<t&&t<u&&u<n){l(o,t);return}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),n=this.fromPos.toTestString(),r=this.toPos.toTestString(),i=this.content;return`${t}.EDIT(${n},${r},${i})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class na extends fi{fromPos;toPos;attributes;attributesToRemove;constructor(t,n,r,i,o,u){super(t,u),this.fromPos=n,this.toPos=r,this.attributes=i,this.attributesToRemove=o}static create(t,n,r,i,o){return new na(t,n,r,i,[],o)}static createRemoveStyleOperation(t,n,r,i,o){return new na(t,n,r,new Map,i,o)}execute(t,n,r){const i=t.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new j(G.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Qn))throw new j(G.ErrInvalidArgument,"fail to execute, only Text can execute edit");const o=i,u=[],l=[];let c={data:0,meta:0};const f=new Map,g=[];if(this.attributesToRemove.length>0){const[v,y,b,C]=o.removeStyle([this.fromPos,this.toPos],this.attributesToRemove,this.getExecutedAt(),r);c={data:c.data+y.data,meta:c.meta+y.meta},u.push(...v),l.push(...b);for(const[A,x]of C)f.set(A,x)}if(this.attributes.size>0){const[v,y,b,C,A]=o.setStyle([this.fromPos,this.toPos],Object.fromEntries(this.attributes),this.getExecutedAt(),r);c={data:c.data+y.data,meta:c.meta+y.meta},u.push(...v),l.push(...b);for(const[x,D]of C)f.set(x,D);g.push(...A)}t.acc(c);for(const v of u)t.registerGCPair(v);let m;return(f.size>0||g.length>0)&&(f.size>0&&g.length>0?m=new na(this.getParentCreatedAt(),this.fromPos,this.toPos,f,g):g.length>0?m=na.createRemoveStyleOperation(this.getParentCreatedAt(),this.fromPos,this.toPos,g):m=na.create(this.getParentCreatedAt(),this.fromPos,this.toPos,f)),{opInfos:l.map(({from:v,to:y,value:b})=>({type:"style",from:v,to:y,value:b,path:t.createPath(this.getParentCreatedAt())})),reverseOp:m}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),n=this.fromPos.toTestString(),r=this.toPos.toTestString(),i=this.attributes;return`${t}.STYL(${n},${r},${JSON.stringify(i)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}const BNe=2,kNe="root",Di="text";function ac(e,t,n=!1){let r=0;const i=n?e.allChildren:e.children;for(let o=0;o<t;o++){const u=i[o];!u||!n&&u.isRemoved||(r+=u.paddedSize(n))}return r}class MNe{type;parent;_children;visibleSize;totalSize;constructor(t,n=[]){if(this.type=t,this.visibleSize=0,this.totalSize=0,this._children=n,this.isText&&this._children.length>0)throw new j(G.ErrRefused,"Text node cannot have children")}updateAncestorsSize(t,n=!1){let r=this.parent;for(;r;){if(n)r.totalSize+=t;else if(r.visibleSize+=t,r.isRemoved)break;r=r.parent}}updateDescendantsSize(t=!1){let n=0;for(const r of this._children){const i=r.updateDescendantsSize(t);!t&&r.isRemoved||(n+=i)}return t?this.totalSize+=n:this.visibleSize+=n,this.paddedSize(t)}get isText(){return this.type===Di}paddedSize(t=!1){let n=this.visibleSize;return t&&(n=this.totalSize),this.isText||(n+=BNe),n}isAncestorOf(t){return NNe(this,t)}get nextSibling(){const t=this.parent.findOffset(this),n=this.parent.children[t+1];if(n)return n}get prevSibling(){const t=this.parent.findOffset(this),n=this.parent.children[t-1];if(n)return n}splitText(t,n){const r={data:0,meta:0};if(t===0||t===this.visibleSize)return[void 0,r];const i=this.value.slice(0,t),o=this.value.slice(t);if(!o.length)return[void 0,r];const u=this.getDataSize();this.value=i;const l=this.cloneText(t+n);return l.value=o,this.parent.insertAfterInternal(l,this),un(r,this.getDataSize(),l.getDataSize()),qo(r,u),[l,r]}get children(){return this._children.filter(t=>!t.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(t=>t.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(t=>t.value).join(""):""}append(...t){if(this.isText)throw new j(G.ErrRefused,"Text node cannot have children");this._children.push(...t);for(const n of t)n.parent=this,n.updateAncestorsSize(n.paddedSize()),n.updateAncestorsSize(n.paddedSize(!0),!0)}prepend(...t){if(this.isText)throw new j(G.ErrRefused,"Text node cannot have children");this._children.unshift(...t);for(const n of t)n.parent=this}insertBefore(t,n){if(this.isText)throw new j(G.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(n);if(r===-1)throw new j(G.ErrInvalidArgument,"child not found");this.insertAtInternal(t,r),t.updateAncestorsSize(t.paddedSize()),t.updateAncestorsSize(t.paddedSize(!0),!0)}insertAfter(t,n){if(this.isText)throw new j(G.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(n);if(r===-1)throw new j(G.ErrInvalidArgument,"child not found");this.insertAtInternal(t,r+1),t.updateAncestorsSize(t.paddedSize()),t.updateAncestorsSize(t.paddedSize(!0),!0)}insertAt(t,n){if(this.isText)throw new j(G.ErrRefused,"Text node cannot have children");this.insertAtInternal(t,n),t.updateAncestorsSize(t.paddedSize()),t.updateAncestorsSize(t.paddedSize(!0),!0)}removeChild(t){if(this.isText)throw new j(G.ErrRefused,"Text node cannot have children");const n=this._children.indexOf(t);if(n===-1)throw new j(G.ErrInvalidArgument,"child not found");this._children.splice(n,1),t.updateAncestorsSize(-t.paddedSize(!0),!0),t.parent=void 0}splitElement(t,n){const r={data:0,meta:0},i=this.getDataSize(),o=this.cloneElement(n);this.parent.insertAfterInternal(o,this),o.updateAncestorsSize(o.paddedSize()),o.updateAncestorsSize(o.paddedSize(!0),!0);const u=this.children.slice(0,t),l=this.children.slice(t);this._children=u,o._children=l,this.visibleSize=this._children.reduce((c,f)=>c+f.paddedSize(),0),this.totalSize=this._children.reduce((c,f)=>c+f.paddedSize(!0),0),o.visibleSize=o._children.reduce((c,f)=>c+f.paddedSize(!0),0),o.totalSize=o._children.reduce((c,f)=>c+f.paddedSize(!0),0);for(const c of o._children)c.parent=o;return un(r,this.getDataSize(),o.getDataSize()),qo(r,i),[o,r]}insertAfterInternal(t,n){if(this.isText)throw new j(G.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(n);if(r===-1)throw new j(G.ErrInvalidArgument,"child not found");this.insertAtInternal(t,r+1)}insertAtInternal(t,n){if(this.isText)throw new j(G.ErrRefused,"Text node cannot have children");this._children.splice(n,0,t),t.parent=this}findOffset(t,n=!1){if(this.isText)throw new j(G.ErrRefused,"Text node cannot have children");if(n)return this._children.indexOf(t);if(t.isRemoved){const r=this._children.indexOf(t);return this.allChildren.splice(0,r).filter(o=>!o.isRemoved).length}return this.children.indexOf(t)}findBranchOffset(t){if(this.isText)throw new j(G.ErrRefused,"Text node cannot have children");let n=t;for(;n;){const r=this._children.indexOf(n);if(r!==-1)return r;n=n.parent}return-1}}function NNe(e,t){if(e===t)return!1;for(;t.parent;){if(t.parent===e)return!0;t=t.parent}return!1}var Yt=(e=>(e.Start="Start",e.End="End",e.Text="Text",e))(Yt||{});function DD(e,t,n,r,i=!1){if(t>n)throw new j(G.ErrInvalidArgument,`from is greater than to: ${t} > ${n}`);const o=i?e.totalSize:e.visibleSize;if(t>o)throw new j(G.ErrInvalidArgument,`from is out of range: ${t} > ${o}`);if(n>o)throw new j(G.ErrInvalidArgument,`to is out of range: ${n} > ${o}`);if(t===n)return;let u=0;const l=i?e._children:e.children;for(const c of l){if(t-c.paddedSize(i)<u&&u<n){const f=c.isText?t-u:t-u-1,g=c.isText?n-u:n-u-1,m=i?c.totalSize:c.visibleSize,v=!c.isText&&f<0,y=!c.isText&&g>m;(c.isText||v)&&r([c,c.isText?"Text":"Start"],y),DD(c,Math.max(0,f),Math.min(g,m),r,i),y&&r([c,"End"],y)}u+=c.paddedSize(i)}}function ID(e,t,n=0){for(const r of e.children)ID(r,t,n+1);t(e,n)}function Pf(e,t,n=0){for(const r of e._children)Pf(r,t,n+1);t(e,n)}function n4(e,t,n=!0){if(t>e.visibleSize)throw new j(G.ErrInvalidArgument,`index is out of range: ${t} > ${e.visibleSize}`);if(e.isText)return{node:e,offset:t};let r=0,i=0;for(const o of e.children){if(n&&o.isText&&o.visibleSize>=t-i)return n4(o,t-i,n);if(t===i)return{node:e,offset:r};if(!n&&o.paddedSize()===t-i)return{node:e,offset:r+1};if(o.paddedSize()>t-i)return n4(o,t-i-1,n);i+=o.paddedSize(),r+=1}return{node:e,offset:r}}function TD(e){return e.isText||e.children.length===0?e:TD(e.children[0])}function PNe(e,t){if(e.visibleSize<t)throw new j(G.ErrInvalidArgument,"unacceptable path");for(let n=0;n<e.children.length;n++){const r=e.children[n];if(r.visibleSize<t)t-=r.visibleSize;else{e=r;break}}return{node:e,offset:t}}class ONe{root;constructor(t){this.root=t}tokensBetween(t,n,r,i=!1){DD(this.root,t,n,r,i)}traverse(t){ID(this.root,t,0)}traverseAll(t){Pf(this.root,t,0)}findTreePos(t,n=!0){return n4(this.root,t,n)}treePosToPath(t){const n=[];let r=t.node;if(r.isText){const i=r.parent.findOffset(r);if(i===-1)throw new j(G.ErrInvalidArgument,"invalid treePos");const o=ac(r.parent,i);n.push(o+t.offset),r=r.parent}else if(r.hasTextChild()){const i=ac(r,t.offset);n.push(i)}else n.push(t.offset);for(;r.parent;){const i=r.parent.findOffset(r);if(i===-1)throw new j(G.ErrInvalidArgument,"invalid treePos");n.push(i),r=r.parent}return n.reverse()}pathToIndex(t){const n=this.pathToTreePos(t);return this.indexOf(n)}pathToTreePos(t){if(!t.length)throw new j(G.ErrInvalidArgument,"unacceptable path");let n=this.root;for(let r=0;r<t.length-1;r++){const i=t[r];if(n=n.children[i],!n)throw new j(G.ErrInvalidArgument,"unacceptable path")}if(n.hasTextChild())return PNe(n,t[t.length-1]);if(n.children.length<t[t.length-1])throw new j(G.ErrInvalidArgument,"unacceptable path");return{node:n,offset:t[t.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(t){const{node:n,offset:r}=t;if(n.isText){if(n.visibleSize===r){const i=n.nextSibling;return i||n.parent}return n}return n.children.length===r?n:TD(n.children[r])}indexOf(t,n=!1){let{node:r}=t;const{offset:i}=t;let o=0,u=1;if(r.isText){o+=i;const l=r.parent,c=l.findOffset(r,n);if(c===-1)throw new j(G.ErrInvalidArgument,"invalid pos");o+=ac(l,c,n),r=r.parent}else o+=ac(r,i,n);for(;r?.parent;){const l=r.parent,c=l.findOffset(r,n);if(c===-1)throw new j(G.ErrInvalidArgument,"invalid pos");o+=ac(l,c,n),u++,r=r.parent}return o+u-1}indexToPath(t){const n=this.findTreePos(t);return this.treePosToPath(n)}}class oi{parentID;leftSiblingID;constructor(t,n){this.parentID=t,this.leftSiblingID=n}static of(t,n){return new oi(t,n)}static fromTreePos(t){const{offset:n}=t;let{node:r}=t,i;return r.isText?(r.parent.children[0]===r&&n===0?i=r.parent:i=r,r=r.parent):n===0?i=r:i=r.children[n-1],oi.of(r.id,Cn.of(i.getCreatedAt(),i.getOffset()+n))}getParentID(){return this.parentID}static fromStruct(t){return oi.of(Cn.of(Fr.fromStruct(t.parentID.createdAt),t.parentID.offset),Cn.of(Fr.fromStruct(t.leftSiblingID.createdAt),t.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(t){const n=this.getParentID(),r=this.getLeftSiblingID(),i=t.findFloorNode(n);let o=t.findFloorNode(r);if(!i||!o)throw new j(G.ErrRefused,`cannot find node of CRDTTreePos(${n.toTestString()}, ${r.toTestString()})`);return!r.equals(n)&&r.getOffset()>0&&r.getOffset()===o.id.getOffset()&&o.insPrevID&&(o=t.findFloorNode(o.insPrevID)),[i,o]}getLeftSiblingID(){return this.leftSiblingID}equals(t){return this.getParentID().getCreatedAt().equals(t.getParentID().getCreatedAt())&&this.getParentID().getOffset()===t.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(t.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===t.getLeftSiblingID().getOffset()}}class Cn{createdAt;offset;constructor(t,n){this.createdAt=t,this.offset=n}static of(t,n){return new Cn(t,n)}static fromStruct(t){return Cn.of(Fr.fromStruct(t.createdAt),t.offset)}static createComparator(){return(t,n)=>{const r=t.getCreatedAt().compare(n.getCreatedAt());return r!==0?r:t.getOffset()>n.getOffset()?1:t.getOffset()<n.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(t){return this.createdAt.compare(t.createdAt)===0&&this.offset===t.offset}getOffset(){return this.offset}setOffset(t){this.offset=t}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class mr extends MNe{id;removedAt;attrs;insPrevID;insNextID;_value="";constructor(t,n,r,i,o){super(n),this.id=t,this.removedAt=o,i&&(this.attrs=i),typeof r=="string"?this.value=r:Array.isArray(r)&&(this._children=r)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(t,n,r,i){return new mr(t,n,r,i)}deepcopy(){const t=new mr(this.id,this.type);return t.removedAt=this.removedAt,t._value=this._value,t.visibleSize=this.visibleSize,t.totalSize=this.totalSize,t.attrs=this.attrs?.deepcopy(),t._children=this._children.map(n=>{const r=n.deepcopy();return r.parent=t,r}),t.insPrevID=this.insPrevID,t.insNextID=this.insNextID,t}get value(){if(!this.isText)throw new j(G.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(t){if(!this.isText)throw new j(G.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=t,this.visibleSize=t.length,this.totalSize=t.length}get isRemoved(){return!!this.removedAt}remove(t){return this.removedAt?(t.after(this.removedAt)&&(this.removedAt=t),!1):(this.removedAt=t,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(t){return new mr(Cn.of(this.id.getCreatedAt(),t),this.type,void 0,void 0,this.removedAt)}cloneElement(t){return new mr(Cn.of(t(),0),this.type,void 0,void 0,this.removedAt)}split(t,n,r){const[i,o]=this.isText?this.splitText(n,this.id.getOffset()):this.splitElement(n,r);if(i){if(i.insPrevID=this.id,this.insNextID){const u=t.findFloorNode(this.insNextID);u.insPrevID=i.id,i.insNextID=this.insNextID}this.insNextID=i.id,t.registerNode(i)}return[i,o]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(t,n,r){return n?!!(!this.removedAt||!r&&t?.after(this.removedAt)):!1}canStyle(t,n){return this.isText?!1:this.getCreatedAt().getLamport()<=n&&(!this.removedAt||t.after(this.removedAt))}setAttrs(t,n){this.attrs||(this.attrs=new pa);const r=[];for(const[i,o]of Object.entries(t))r.push(this.attrs.set(i,o,n));return r}purge(t){this.attrs&&this.attrs.purge(t)}getDataSize(){const t={data:0,meta:0};if(this.isText&&(t.data+=this.visibleSize*2),this.id&&(t.meta+=wi),this.removedAt&&(t.meta+=wi),this.attrs)for(const n of this.attrs){if(n.getRemovedAt())continue;const r=n.getDataSize();t.meta+=r.meta,t.data+=r.data}return t}getGCPairs(){const t=[];if(!this.attrs)return t;for(const n of this.attrs)n.getRemovedAt()&&t.push({parent:this,child:n});return t}}function r4(e){if(e.isText){const n=e;return{type:n.type,value:n.value}}const t={type:e.type,children:e.children.map(r4)};return e.attrs&&(t.attributes=ua(e.attrs?.toObject())),t}function Y2(e){if(e.isText)return e.value;let t="";return e.attrs&&e.attrs.size()&&(t=" "+Array.from(e.attrs).filter(n=>!n.isRemoved()).sort((n,r)=>n.getKey().localeCompare(r.getKey())).map(n=>{const r=JSON.parse(n.getValue());return typeof r=="string"?`${n.getKey()}="${r}"`:`${n.getKey()}="${Si(n.getValue())}"`}).join(" ")),`<${e.type}${t}>${e.children.map(n=>Y2(n)).join("")}</${e.type}>`}function RD(e){if(e.isText){const t=e;return{type:t.type,value:t.value,visibleSize:t.visibleSize,isRemoved:t.isRemoved}}return{type:e.type,children:e.children.map(RD),visibleSize:e.visibleSize,isRemoved:e.isRemoved}}class Er extends dd{indexTree;nodeMapByID;constructor(t,n){super(n),this.indexTree=new ONe(t),this.nodeMapByID=new wD(Cn.createComparator()),this.indexTree.traverseAll(r=>{this.nodeMapByID.put(r.id,r)})}static create(t,n){return new Er(t,n)}findFloorNode(t){const n=this.nodeMapByID.floorEntry(t);if(!(!n||!n.key.getCreatedAt().equals(t.getCreatedAt())))return n.value}registerNode(t){this.nodeMapByID.put(t.id,t)}findNodesAndSplitText(t,n){let r={data:0,meta:0};const[i,o]=t.toTreeNodePair(this);let u=o;const l=i===u,c=u.parent&&!l?u.parent:i;if(u.isText){const[,f]=u.split(this,t.getLeftSiblingID().getOffset()-u.id.getOffset());r=f}if(n){const f=c.allChildren,g=l?0:f.indexOf(u)+1;for(let m=g;m<f.length;m++){const v=f[m];if(!v.id.getCreatedAt().after(n))break;u=v}}return[[c,u],r]}style(t,n,r,i){const o={data:0,meta:0},[[u,l],c]=this.findNodesAndSplitText(t[0],r),[[f,g],m]=this.findNodesAndSplitText(t[1],r);un(o,m,c);const v=[],y=n?ua(n):{},b=[];return this.traverseInPosRange(u,l,f,g,([C,A])=>{const x=C.getCreatedAt().getActorID();let D=Uh;if(i!=null&&(D=i.get(x)?i.get(x):0n),C.canStyle(r,D)&&n){const T=C.setAttrs(n,r),N=T.reduce((B,[,P])=>(P&&(B[P.getKey()]=y[P.getKey()]),B),{}),k=C.parent,M=C.prevSibling||C.parent;Object.keys(N).length>0&&v.push({type:"style",from:this.toIndex(k,M),to:this.toIndex(C,C),fromPath:this.toPath(k,M),toPath:this.toPath(C,C),actor:r.getActorID(),value:N});for(const[B]of T)B&&b.push({parent:C,child:B});for(const[B]of Object.entries(y)){const P=C.attrs?.getNodeMapByKey().get(B);P!==void 0&&A!==Yt.End&&un(o,P.getDataSize())}}}),[b,v,o]}removeStyle(t,n,r,i){const o={data:0,meta:0},[[u,l],c]=this.findNodesAndSplitText(t[0],r),[[f,g],m]=this.findNodesAndSplitText(t[1],r);un(o,m,c);const v=[],y=[];return this.traverseInPosRange(u,l,f,g,([b])=>{const C=b.getCreatedAt().getActorID();let A=Uh;if(i!=null&&(A=i.get(C)?i.get(C):0n),b.canStyle(r,A)&&n){b.attrs||(b.attrs=new pa);for(const T of n){const N=b.attrs.remove(T,r);for(const k of N)y.push({parent:b,child:k})}const x=b.parent,D=b.prevSibling||b.parent;v.push({actor:r.getActorID(),type:"removeStyle",from:this.toIndex(x,D),to:this.toIndex(b,b),fromPath:this.toPath(x,D),toPath:this.toPath(b,b),value:n})}}),[y,v,o]}edit(t,n,r,i,o,u){const l={data:0,meta:0},[[c,f],g]=this.findNodesAndSplitText(t[0],i),[[m,v],y]=this.findNodesAndSplitText(t[1],i);un(l,y,g);const b=this.toIndex(c,f),C=this.toPath(c,f),A=[],x=[],D=[];this.traverseInPosRange(c,f,m,v,([k,M],B)=>{if(M===Yt.Start&&!B)for(const J of k.children)D.push(J);const P=u===void 0;let _=!1;const U=u?.get(k.id.getCreatedAt().getActorID());_=P||U!==void 0&&U>=k.id.getCreatedAt().getLamport();let K=!1;if(k.removedAt){const J=u?.get(k.removedAt.getActorID());K=P||J!==void 0&&J>=k.removedAt.getLamport()}(k.canDelete(i,_,K)||A.includes(k.parent))&&((M===Yt.Text||M===Yt.Start)&&A.push(k),x.push([k,M]))},!0);const T=this.makeDeletionChanges(x,i),N=[];for(const k of A)k.remove(i),k.isRemoved&&N.push({parent:this,child:k});for(const k of D)k.removedAt||c.append(k);if(r>0){let k=0,M=c,B=f;for(;k<r;)M.split(this,M.findOffset(B)+1,o),B=M,M=M.parent,k++;T.push({type:"content",from:b,to:b,fromPath:C,toPath:C,actor:i.getActorID()})}if(n?.length){const k=[];let M=f;for(const B of n)M===c?c.insertAt(B,0):c.insertAfter(B,M),M=B,Pf(B,P=>{c.isRemoved?(P.remove(i),N.push({parent:this,child:P})):un(l,P.getDataSize()),this.nodeMapByID.put(P.id,P)}),B.isRemoved||k.push(B);if(k.length){const B=k.map(P=>r4(P));T.length&&T[T.length-1].from===b?T[T.length-1].value=B:T.push({type:"content",from:b,to:b,fromPath:C,toPath:C,actor:i.getActorID(),value:B})}}return[T,N,l]}editT(t,n,r,i,o){const u=this.findPos(t[0]),l=this.findPos(t[1]);return this.edit([u,l],n,r,i,o)}move(t,n,r){throw new j(G.ErrUnimplemented,`not implemented: ${t}, ${n}, ${r}`)}pathToTreePos(t){return this.indexTree.pathToTreePos(t)}purge(t){t.parent?.removeChild(t),this.nodeMapByID.remove(t.id);const n=t.insPrevID,r=t.insNextID;if(n){const i=this.findFloorNode(n);i.insNextID=r}if(r){const i=this.findFloorNode(r);i.insPrevID=n}t.insPrevID=void 0,t.insNextID=void 0}getGCPairs(){const t=[];return this.indexTree.traverse(n=>{n.getRemovedAt()&&t.push({parent:this,child:n});for(const r of n.getGCPairs())t.push(r)}),t}findPos(t,n=!0){const r=this.indexTree.findTreePos(t,n);return oi.fromTreePos(r)}pathToPosRange(t){const n=this.pathToIndex(t);return[this.findPos(n),this.findPos(n+1)]}pathToPos(t){const n=this.indexTree.pathToIndex(t);return this.findPos(n)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Y2(this.indexTree.getRoot())}getDataSize(){const t={data:0,meta:0};return this.indexTree.traverse(n=>{if(n.getRemovedAt())return;const r=n.getDataSize();t.data+=r.data,t.meta+=r.meta}),{data:t.data,meta:t.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const t=this.indexTree.getRoot(),n=(r,i=void 0,o=void 0,u=0)=>{let l,c,f;const g=r.isText?{node:r,offset:0}:i&&o?this.toTreePos(i,o):null;g&&(l=this.indexTree.indexOf(g),c=this.indexTree.treePosToPath(g),f=oi.fromTreePos(g).toStruct());const m={type:r.type,parent:i?.id.toTestString(),size:r.visibleSize,id:r.id.toTestString(),removedAt:r.removedAt?.toTestString(),insPrev:r.insPrevID?.toTestString(),insNext:r.insNextID?.toTestString(),value:r.isText?r.value:void 0,isRemoved:r.isRemoved,children:[],depth:u,attributes:r.attrs?ua(r.attrs?.toObject()):void 0,index:l,path:c,pos:f};for(let v=0;v<r.allChildren.length;v++){const y=v===0?r:r.allChildren[v-1];m.children.push(n(r.allChildren[v],r,y,u+1))}return m};return n(t)}getRootTreeNode(){return r4(this.indexTree.getRoot())}toTestTreeNode(){return RD(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const t=this.getRoot(),n=new Er(t.deepcopy(),this.getCreatedAt());return n.setRemovedAt(this.getRemovedAt()),n.setMovedAt(this.getMovedAt()),n}toPath(t,n){const r=this.toTreePos(t,n);return r?this.indexTree.treePosToPath(r):[]}toIndex(t,n,r=!1){const i=this.toTreePos(t,n,r);return i?this.indexTree.indexOf(i,r):-1}indexToPath(t){return this.indexTree.indexToPath(t)}pathToIndex(t){return this.indexTree.pathToIndex(t)}indexRangeToPosRange(t){const n=this.findPos(t[0]);return t[0]===t[1]?[n,n]:[n,this.findPos(t[1])]}indexRangeToPosStructRange(t){const[n,r]=t,i=this.findPos(n);return n===r?[i.toStruct(),i.toStruct()]:[i.toStruct(),this.findPos(r).toStruct()]}posRangeToPathRange(t){const[[n,r]]=this.findNodesAndSplitText(t[0]),[[i,o]]=this.findNodesAndSplitText(t[1]);return[this.toPath(n,r),this.toPath(i,o)]}posRangeToIndexRange(t){const[[n,r]]=this.findNodesAndSplitText(t[0]),[[i,o]]=this.findNodesAndSplitText(t[1]);return[this.toIndex(n,r),this.toIndex(i,o)]}traverseInPosRange(t,n,r,i,o,u=!1){const l=this.toIndex(t,n,u),c=this.toIndex(r,i,u);this.indexTree.tokensBetween(l,c,o,u)}toTreePos(t,n,r=!1){if(!t||!n)return;if(!r&&t.isRemoved){let o;for(;t.isRemoved;)o=t,t=o.parent;const u=t.findOffset(o,r);return{node:t,offset:u}}if(t===n)return{node:t,offset:0};let i=t.findOffset(n,r);if(r||!n.isRemoved){if(n.isText)return{node:n,offset:n.paddedSize(r)};i++}return{node:t,offset:i}}makeDeletionChanges(t,n){const r=[],i=[];let o=null,u=null;for(let l=0;l<t.length;l++){const c=t[l],f=t[l+1];o||(o=c),u=c;const g=this.findRightToken(c);(!g||!f||g[0]!==f[0]||g[1]!==f[1])&&(i.push([o,u]),o=null,u=null)}for(const l of i){const[c,f]=l,[g,m]=this.findLeftToken(c),[v,y]=f,b=m===Yt.Start?g:g.parent,C=y===Yt.Start?v:v.parent,A=this.toIndex(b,g),x=this.toIndex(C,v);A<x&&(r.length>0&&A===r[r.length-1].to?(r[r.length-1].to=x,r[r.length-1].toPath=this.toPath(C,v)):r.push({type:"content",from:A,to:x,fromPath:this.toPath(b,g),toPath:this.toPath(C,v),actor:n.getActorID()}))}return r.reverse()}findRightToken([t,n]){if(n===Yt.Start){const l=t.allChildren;return l.length>0?[l[0],l[0].isText?Yt.Text:Yt.Start]:[t,Yt.End]}const r=t.parent,i=r.allChildren,o=i.indexOf(t);if(r&&o===i.length-1)return[r,Yt.End];const u=i[o+1];return[u,u.isText?Yt.Text:Yt.Start]}findLeftToken([t,n]){if(n===Yt.End){const l=t.allChildren;if(l.length>0){const c=l[l.length-1];return[c,c.isText?Yt.Text:Yt.End]}return[t,Yt.Start]}const r=t.parent,i=r.allChildren,o=i.indexOf(t);if(r&&o===0)return[r,Yt.Start];const u=i[o-1];return[u,u.isText?Yt.Text:Yt.End]}}class hd extends fi{fromPos;toPos;contents;splitLevel;constructor(t,n,r,i,o,u){super(t,u),this.fromPos=n,this.toPos=r,this.contents=i,this.splitLevel=o}static create(t,n,r,i,o,u){return new hd(t,n,r,i,o,u)}execute(t,n,r){const i=t.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new j(G.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Er))throw new j(G.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const o=this.getExecutedAt(),u=i,[l,c,f]=u.edit([this.fromPos,this.toPos],this.contents?.map(g=>g.deepcopy()),this.splitLevel,o,(()=>{let g=o.getDelimiter();return this.contents!==void 0&&(g+=this.contents.length),()=>Fr.of(o.getLamport(),++g,o.getActorID())})(),r);t.acc(f);for(const g of c)t.registerGCPair(g);return{opInfos:l.map(({from:g,to:m,value:v,splitLevel:y,fromPath:b,toPath:C})=>({type:"tree-edit",path:t.createPath(this.getParentCreatedAt()),from:g,to:m,value:v,splitLevel:y,fromPath:b,toPath:C}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),n=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,r=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,i=this.contents||[];return`${t}.EDIT(${n},${r},${i.map(o=>Y2(o)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class Au{vector;constructor(t){this.vector=t||new Map}set(t,n){this.vector.set(t,n)}unset(t){this.vector.delete(t)}get(t){return this.vector.get(t)}has(t){return this.vector.has(t)}maxLamport(){let t=BigInt(0);for(const[,n]of this)n>t&&(t=n);return t}max(t){const n=new Map;for(const[r,i]of t){const o=this.vector.get(r),u=o&&o>i?o:i;n.set(r,u)}for(const[r,i]of this){const o=t.get(r),u=o&&o>i?o:i;n.set(r,u)}return new Au(n)}afterOrEqual(t){const n=this.vector.get(t.getActorID());return n===void 0?!1:n>=t.getLamport()}deepcopy(){const t=new Map;for(const[n,r]of this.vector)t.set(n,r);return new Au(t)}filter(t){const n=new Map;for(const[r]of t){const i=this.vector.get(r);i!==void 0&&n.set(r,i)}return new Au(n)}size(){return this.vector.size}*[Symbol.iterator](){for(const[t,n]of this.vector)yield[t,n]}}const BD=new Au(new Map);class ti{clientSeq;serverSeq;actor;lamport;versionVector;constructor(t,n,r,i,o){this.clientSeq=t,this.serverSeq=o,this.lamport=n,this.versionVector=i,this.actor=r}hasClocks(){return this.versionVector.size()>0&&this.lamport!=e4}static of(t,n,r,i,o){return new ti(t,n,r,i,o)}next(t=!1){if(t)return new ti(this.clientSeq+1,this.lamport,this.actor,BD,e4);const n=this.versionVector.deepcopy();return n.set(this.actor,this.lamport+1n),new ti(this.clientSeq+1,this.lamport+1n,this.actor,n)}syncClocks(t){if(!t.hasClocks())return this;const n=t.lamport>this.lamport?t.lamport+1n:this.lamport+1n,r=this.versionVector.max(t.versionVector),i=new ti(this.clientSeq,n,this.actor,r);return i.versionVector.set(this.actor,n),i}setClocks(t,n){const r=t>this.lamport?t+1n:this.lamport+1n,i=this.versionVector.max(n);return i.set(this.actor,r),ti.of(this.clientSeq,r,this.actor,i)}createTimeTicket(t){return Fr.of(this.lamport,t,this.actor)}setActor(t){return new ti(this.clientSeq,this.lamport,t,this.versionVector,this.serverSeq)}setLamport(t){return new ti(this.clientSeq,t,this.actor,this.versionVector,this.serverSeq)}setVersionVector(t){return new ti(this.clientSeq,this.lamport,this.actor,t,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const LNe=new ti(0,0n,j2,BD);class Gu{id;operations;presenceChange;message;constructor({id:t,operations:n,presenceChange:r,message:i}){this.id=t,this.operations=n||[],this.presenceChange=r,this.message=i}static create({id:t,operations:n,presenceChange:r,message:i}){return new Gu({id:t,operations:n,presenceChange:r,message:i})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(t){for(const n of this.operations)n.setActor(t);this.id=this.id.setActor(t)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(t,n,r){const i=[],o=[],u=[];for(const l of this.operations){const c=l.execute(t,r,this.id.getVersionVector());if(!c)continue;const{opInfos:f,reverseOp:g}=c;i.push(...f),o.push(l),g&&u.unshift(g)}return this.presenceChange&&(this.presenceChange.type===Bi.Put?n.set(this.id.getActorID(),ei(this.presenceChange.presence)):n.delete(this.id.getActorID())),{operations:o,opInfos:i,reverseOps:u}}toTestString(){return`${this.operations.map(t=>t.toTestString()).join(",")}`}toStruct(){return{changeID:Bt.bytesToHex(Bt.changeIDToBinary(this.getID())),message:this.getMessage(),operations:this.getOperations().map(t=>Bt.bytesToHex(Bt.operationToBinary(t))),presenceChange:this.getPresenceChange()}}static fromStruct(t){const{changeID:n,operations:r,presenceChange:i,message:o}=t;return Gu.create({id:Bt.bytesToChangeID(Bt.hexToBytes(n)),operations:r?.map(u=>Bt.bytesToOperation(Bt.hexToBytes(u))),presenceChange:i,message:o})}}class Of{documentKey;checkpoint;isRemoved;changes;snapshot;versionVector;constructor(t,n,r,i,o,u){this.documentKey=t,this.checkpoint=n,this.isRemoved=r,this.changes=i,this.snapshot=u,this.versionVector=o}static create(t,n,r,i,o,u){return new Of(t,n,r,i,o,u)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class wu{serverSeq;clientSeq;constructor(t,n){this.serverSeq=t,this.clientSeq=n}static of(t,n){return new wu(t,n)}increaseClientSeq(t){return t===0?this:new wu(this.serverSeq,this.clientSeq+t)}forward(t){if(this.equals(t))return this;const n=this.serverSeq>t.serverSeq?this.serverSeq:t.serverSeq,r=Math.max(this.clientSeq,t.clientSeq);return wu.of(n,r)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(t){return this.clientSeq===t.clientSeq&&this.serverSeq==t.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const FNe=new wu(0n,0),X5=e=>e<0?Math.ceil(e):Math.floor(e);var Mi=(e=>(e[e.Int=0]="Int",e[e.Long=1]="Long",e))(Mi||{});class qn extends dd{valueType;value;constructor(t,n,r){switch(super(r),this.valueType=t,t){case 0:typeof n=="number"?n>Math.pow(2,31)-1||n<-Math.pow(2,31)?this.value=Je.fromNumber(n).toInt():this.value=X5(n):this.value=n.toInt();break;case 1:typeof n=="number"?this.value=Je.fromNumber(n):this.value=n;break;default:throw new j(G.ErrUnimplemented,`unimplemented type: ${t}`)}}static create(t,n,r){return new qn(t,n,r)}static valueFromBytes(t,n){switch(t){case 0:return n[0]|n[1]<<8|n[2]<<16|n[3]<<24;case 1:return Je.fromBytesLE(Array.from(n));default:throw new j(G.ErrUnimplemented,`unimplemented type: ${t}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const t=qn.create(this.valueType,this.value,this.getCreatedAt());return t.setRemovedAt(this.getRemovedAt()),t.setMovedAt(this.getMovedAt()),t}getType(){return this.valueType}static getCounterType(t){switch(typeof t){case"object":return t instanceof Je?1:void 0;case"number":return t>Math.pow(2,31)-1||t<-Math.pow(2,31)?1:0;default:return}}static isSupport(t){return!!qn.getCounterType(t)}static isInteger(t){return t%1===0}isNumericType(){const t=this.valueType;return t===0||t===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const t=this.value;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}case 1:{const n=this.value.toBytesLE();return Uint8Array.from(n)}default:throw new j(G.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(t){function n(r){if(!r.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof r.getValue()}`)}return n(this),n(t),this.valueType===1?this.value=this.value.add(t.getValue()):t.getType()===wt.Long?this.value=this.value+t.getValue().toInt():this.value=Je.fromNumber(this.value+X5(t.getValue())).toInt(),this}}class ju extends fi{value;constructor(t,n,r){super(t,r),this.value=n}static create(t,n,r){return new ju(t,n,r)}execute(t){const n=t.findByCreatedAt(this.getParentCreatedAt());if(!n)throw new j(G.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(n instanceof qn))throw new j(G.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const r=n,i=this.value.deepcopy();return r.increase(i),{opInfos:[{type:"increase",path:t.createPath(this.getParentCreatedAt()),value:i.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const t=this.value.deepcopy(),r=t.getType()===wt.Long?t.getValue().multiply(-1):t.getValue()*-1;return ju.create(this.getParentCreatedAt(),Vt.of(r,t.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class la extends fi{fromPos;toPos;attributes;attributesToRemove;constructor(t,n,r,i,o,u){super(t,u),this.fromPos=n,this.toPos=r,this.attributes=i,this.attributesToRemove=o}static create(t,n,r,i,o){return new la(t,n,r,i,[],o)}static createTreeRemoveStyleOperation(t,n,r,i,o){return new la(t,n,r,new Map,i,o)}execute(t,n,r){const i=t.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new j(G.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Er))throw new j(G.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const o=i;let u,l,c={data:0,meta:0};if(this.attributes.size){const f={};[...this.attributes].forEach(([g,m])=>f[g]=m),[l,u,c]=o.style([this.fromPos,this.toPos],f,this.getExecutedAt(),r)}else{const f=this.attributesToRemove;[l,u,c]=o.removeStyle([this.fromPos,this.toPos],f,this.getExecutedAt(),r)}t.acc(c);for(const f of l)t.registerGCPair(f);return{opInfos:u.map(({from:f,to:g,value:m,fromPath:v,toPath:y})=>({type:"tree-style",from:f,to:g,value:this.attributes.size?{attributes:m}:{attributesToRemove:m},fromPath:v,toPath:y,path:t.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),n=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,r=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${t}.STYLE(${n},${r},${Object.entries(this.attributes||{}).map(([i,o])=>`${i}:"${o}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class ga extends fi{createdAt;value;constructor(t,n,r,i){super(t,i),this.createdAt=n,this.value=r}static create(t,n,r,i){return new ga(t,n,r,i)}execute(t){const n=t.findByCreatedAt(this.getParentCreatedAt());if(!n)throw new j(G.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(n instanceof xn))throw new j(G.ErrInvalidArgument,"fail to execute, only array can execute set");const r=n.getByID(this.createdAt).deepcopy(),i=this.toReverseOperation(this.value,r),o=this.value.deepcopy();return n.insertAfter(this.createdAt,o,this.getExecutedAt()),n.delete(this.createdAt,this.getExecutedAt()),t.registerElement(o),{opInfos:[{type:"array-set",path:t.createPath(this.getParentCreatedAt())}],reverseOp:i}}toReverseOperation(t,n){return ga.create(this.getParentCreatedAt(),t.getCreatedAt(),n)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(t){this.createdAt=t}}function _Ne(e){const t={};for(const[n,r]of Object.entries(e))t[n]=JSON.stringify(r);return Ie(mNe,{data:t})}function $Ne(e){if(e.type===Bi.Put)return Ie(U5,{type:Vc.PUT,presence:_Ne(e.presence)});if(e.type===Bi.Clear)return Ie(U5,{type:Vc.CLEAR});throw new j(G.ErrUnimplemented,"unimplemented type")}function zNe(e){return Ie(vNe,{serverSeq:e.getServerSeq(),clientSeq:e.getClientSeq()})}function i4(e){return Ie(U2,{clientSeq:e.getClientSeq(),lamport:e.getLamport(),actorId:Ff(e.getActorID()),versionVector:W2(e.getVersionVector())})}function Be(e){if(e)return Ie(ENe,{lamport:e.getLamport(),delimiter:e.getDelimiter(),actorId:Ff(e.getActorID())})}function W2(e){if(!e)return;const t=Ie(H2);for(const[n,r]of e){const i=APe(Ff(n));t.vector[i]=BigInt(r.toString())}return t}function kD(e){switch(e){case wt.Null:return je.NULL;case wt.Boolean:return je.BOOLEAN;case wt.Integer:return je.INTEGER;case wt.Long:return je.LONG;case wt.Double:return je.DOUBLE;case wt.String:return je.STRING;case wt.Bytes:return je.BYTES;case wt.Date:return je.DATE;default:throw new j(G.ErrInvalidType,`unsupported type: ${e}`)}}function MD(e){switch(e){case Mi.Int:return je.INTEGER_CNT;case Mi.Long:return je.LONG_CNT;default:throw new j(G.ErrInvalidType,`unsupported type: ${e}`)}}function ih(e){if(e instanceof wn)return Ie(lu,{type:je.JSON_OBJECT,createdAt:Be(e.getCreatedAt()),value:GD(e)});if(e instanceof xn)return Ie(lu,{type:je.JSON_ARRAY,createdAt:Be(e.getCreatedAt()),value:EPe(e)});if(e instanceof Qn)return Ie(lu,{type:je.TEXT,createdAt:Be(e.getCreatedAt())});if(e instanceof Vt)return Ie(lu,{type:kD(e.getType()),createdAt:Be(e.getCreatedAt()),value:e.toBytes()});if(e instanceof qn)return Ie(lu,{type:MD(e.getType()),createdAt:Be(e.getCreatedAt()),value:e.toBytes()});if(e instanceof Er)return Ie(lu,{type:je.TREE,createdAt:Be(e.getCreatedAt()),value:CPe(e)});throw new j(G.ErrUnimplemented,"unimplemented element")}function VNe(e){return Ie(dNe,{createdAt:Be(e.getCreatedAt()),offset:e.getOffset()})}function ah(e){return Ie(yNe,{createdAt:Be(e.getID().getCreatedAt()),offset:e.getID().getOffset(),relativeOffset:e.getRelativeOffset()})}function oh(e){return Ie(gNe,{parentId:Ac(e.getParentID()),leftSiblingId:Ac(e.getLeftSiblingID())})}function Ac(e){return Ie(pNe,{createdAt:Be(e.getCreatedAt()),offset:e.getOffset()})}function a4(e){const t=Ie(G2);if(e instanceof os){const n=e,r=Ie(KMe);r.parentCreatedAt=Be(n.getParentCreatedAt()),r.key=n.getKey(),r.value=ih(n.getValue()),r.executedAt=Be(n.getExecutedAt()),t.body.case="set",t.body.value=r}else if(e instanceof Co){const n=e,r=Ie(YMe);r.parentCreatedAt=Be(n.getParentCreatedAt()),r.prevCreatedAt=Be(n.getPrevCreatedAt()),r.value=ih(n.getValue()),r.executedAt=Be(n.getExecutedAt()),t.body.case="add",t.body.value=r}else if(e instanceof ai){const n=e,r=Ie(WMe);r.parentCreatedAt=Be(n.getParentCreatedAt()),r.prevCreatedAt=Be(n.getPrevCreatedAt()),r.createdAt=Be(n.getCreatedAt()),r.executedAt=Be(n.getExecutedAt()),t.body.case="move",t.body.value=r}else if(e instanceof ki){const n=e,r=Ie(ZMe);r.parentCreatedAt=Be(n.getParentCreatedAt()),r.createdAt=Be(n.getCreatedAt()),r.executedAt=Be(n.getExecutedAt()),t.body.case="remove",t.body.value=r}else if(e instanceof po){const n=e,r=Ie(XMe);r.parentCreatedAt=Be(n.getParentCreatedAt()),r.from=ah(n.getFromPos()),r.to=ah(n.getToPos()),r.content=n.getContent();const i=r.attributes;for(const[o,u]of n.getAttributes())i[o]=u;r.executedAt=Be(n.getExecutedAt()),t.body.case="edit",t.body.value=r}else if(e instanceof na){const n=e,r=Ie(JMe);r.parentCreatedAt=Be(n.getParentCreatedAt()),r.from=ah(n.getFromPos()),r.to=ah(n.getToPos());const i=n.getAttributesToRemove();i.length>0&&(r.attributesToRemove=i);const o=r.attributes;for(const[u,l]of n.getAttributes())o[u]=l;r.executedAt=Be(n.getExecutedAt()),t.body.case="style",t.body.value=r}else if(e instanceof ju){const n=e,r=Ie(qMe);r.parentCreatedAt=Be(n.getParentCreatedAt()),r.value=ih(n.getValue()),r.executedAt=Be(n.getExecutedAt()),t.body.case="increase",t.body.value=r}else if(e instanceof hd){const n=e,r=Ie(QMe);r.parentCreatedAt=Be(n.getParentCreatedAt()),r.from=oh(n.getFromPos()),r.to=oh(n.getToPos()),r.contents=WNe(n.getContents()),r.splitLevel=n.getSplitLevel(),r.executedAt=Be(n.getExecutedAt()),t.body.case="treeEdit",t.body.value=r}else if(e instanceof la){const n=e,r=Ie(eNe);r.parentCreatedAt=Be(n.getParentCreatedAt()),r.from=oh(n.getFromPos()),r.to=oh(n.getToPos());const i=n.getAttributesToRemove();if(i.length>0)r.attributesToRemove=i;else{const o=r.attributes;for(const[u,l]of n.getAttributes())o[u]=l}r.executedAt=Be(n.getExecutedAt()),t.body.case="treeStyle",t.body.value=r}else if(e instanceof ga){const n=e,r=Ie(tNe);r.parentCreatedAt=Be(n.getParentCreatedAt()),r.createdAt=Be(n.getCreatedAt()),r.value=ih(n.getValue()),r.executedAt=Be(n.getExecutedAt()),t.body.case="arraySet",t.body.value=r}else throw new j(G.ErrUnimplemented,"unimplemented operation");return t}function UNe(e){const t=[];for(const n of e)t.push(a4(n));return t}function HNe(e){const t=Ie(jMe,{id:i4(e.getID()),message:e.getMessage()});return e.hasOperations()&&(t.operations=UNe(e.getOperations())),e.hasPresenceChange()&&(t.presenceChange=$Ne(e.getPresenceChange())),t}function GNe(e){const t=[];for(const n of e)t.push(HNe(n));return t}function jNe(e){const t=[];for(const n of e)t.push(Ie(uNe,{key:n.getStrKey(),element:X2(n.getValue())}));return t}function KNe(e){const t=[];for(const n of e)t.push(Ie(lNe,{element:X2(n.getValue())}));return t}function YNe(e){const t=[];for(const n of e){const r=Ie(cNe);r.id=VNe(n.getID()),r.value=n.getValue().getContent(),r.removedAt=Be(n.getRemovedAt());const i=r.attributes,o=n.getValue().getAttrs();for(const u of o){const l=Ie(mD);l.value=u.getValue(),l.updatedAt=Be(u.getUpdatedAt()),i[u.getKey()]=l}t.push(r)}return t}function WNe(e){const t=[];if(!e||!e.length)return t;for(const n of e)t.push(Ie(fNe,{content:Z2(n)}));return t}function ZNe(e){const t={};for(const n of e)t[n.getKey()]=Ie(mD,{value:n.getValue(),updatedAt:Be(n.getUpdatedAt()),isRemoved:n.isRemoved()});return t}function Z2(e){if(!e)return[];const t=[];return Pf(e,(n,r)=>{const i=Ie(hNe,{id:Ac(n.id),type:n.type,removedAt:Be(n.removedAt),depth:r});n.isText&&(i.value=n.value),n.insPrevID&&(i.insPrevId=Ac(n.insPrevID)),n.insNextID&&(i.insNextId=Ac(n.insNextID)),n.attrs&&(i.attributes=ZNe(n.attrs)),t.push(i)}),t}function XNe(e){return Ie(Gr,{body:{case:"jsonObject",value:Ie(nNe,{nodes:jNe(e.getRHT()),createdAt:Be(e.getCreatedAt()),movedAt:Be(e.getMovedAt()),removedAt:Be(e.getRemovedAt())})}})}function ND(e){return Ie(Gr,{body:{case:"jsonArray",value:Ie(rNe,{nodes:KNe(e.getElements()),createdAt:Be(e.getCreatedAt()),movedAt:Be(e.getMovedAt()),removedAt:Be(e.getRemovedAt())})}})}function JNe(e){return Ie(Gr,{body:{case:"primitive",value:Ie(iNe,{type:kD(e.getType()),value:e.toBytes(),createdAt:Be(e.getCreatedAt()),movedAt:Be(e.getMovedAt()),removedAt:Be(e.getRemovedAt())})}})}function qNe(e){return Ie(Gr,{body:{case:"text",value:Ie(aNe,{nodes:YNe(e.getRGATreeSplit()),createdAt:Be(e.getCreatedAt()),movedAt:Be(e.getMovedAt()),removedAt:Be(e.getRemovedAt())})}})}function QNe(e){return Ie(Gr,{body:{case:"counter",value:Ie(oNe,{type:MD(e.getType()),value:e.toBytes(),createdAt:Be(e.getCreatedAt()),movedAt:Be(e.getMovedAt()),removedAt:Be(e.getRemovedAt())})}})}function PD(e){return Ie(Gr,{body:{case:"tree",value:Ie(sNe,{nodes:Z2(e.getRoot()),createdAt:Be(e.getCreatedAt()),movedAt:Be(e.getMovedAt()),removedAt:Be(e.getRemovedAt())})}})}function X2(e){if(e instanceof wn)return XNe(e);if(e instanceof xn)return ND(e);if(e instanceof Vt)return JNe(e);if(e instanceof Qn)return qNe(e);if(e instanceof qn)return QNe(e);if(e instanceof Er)return PD(e);throw new j(G.ErrUnimplemented,"unimplemented element")}function ePe(e){return Ie(GMe,{documentKey:e.getDocumentKey(),checkpoint:zNe(e.getCheckpoint()),isRemoved:e.getIsRemoved(),changes:GNe(e.getChanges()),snapshot:e.getSnapshot(),versionVector:W2(e.getVersionVector())})}function tPe(e){return{id:e.id,label:e.label,description:e.description,snapshot:e.snapshot,createdAt:e.createdAt?hke(e.createdAt):new Date}}function uc(e){if(!(e instanceof mt))return{};const t=e.findDetails(ANe);for(const n of t)return n.metadata;return{}}function hu(e){return uc(e).code??""}function qm(e,t){return e instanceof mt&&hu(e)===t}function OD(e){return ti.of(e.clientSeq,BigInt(e.lamport),tv(e.actorId),J2(e.versionVector),BigInt(e.serverSeq))}function J2(e){if(!e)return;const t=new Au;return Object.entries(e.vector).forEach(([n,r])=>{const i=Lf(SPe(n));t.set(i,BigInt(r.toString()))}),t}function Me(e){if(e)return Fr.of(BigInt(e.lamport),e.delimiter,tv(e.actorId))}function q2(e){const t={};return Object.entries(e.data).forEach(([n,r])=>{t[n]=JSON.parse(r)}),t}function nPe(e){const t=e.type;if(t===Vc.PUT){const n=q2(e.presence);return{type:Bi.Put,presence:n}}if(t===Vc.CLEAR)return{type:Bi.Clear};throw new j(G.ErrInvalidType,`unsupported type: ${t}`)}function rPe(e){const t=new Map;return Object.entries(e).forEach(([n,r])=>{t.set(n,q2(r))}),t}function LD(e){switch(e){case je.NULL:return wt.Null;case je.BOOLEAN:return wt.Boolean;case je.INTEGER:return wt.Integer;case je.LONG:return wt.Long;case je.DOUBLE:return wt.Double;case je.STRING:return wt.String;case je.BYTES:return wt.Bytes;case je.DATE:return wt.Date}throw new j(G.ErrUnimplemented,`unimplemented value type: ${e}`)}function Kh(e){switch(e){case je.INTEGER_CNT:return Mi.Int;case je.LONG_CNT:return Mi.Long}throw new j(G.ErrUnimplemented,`unimplemented value type: ${e}`)}function sh(e){switch(e.type){case je.JSON_OBJECT:return e.value?HD(e.value):wn.create(Me(e.createdAt));case je.JSON_ARRAY:return e.value?yPe(e.value):xn.create(Me(e.createdAt));case je.TEXT:return Qn.create(Uu.create(),Me(e.createdAt));case je.TREE:return bPe(e.value);case je.NULL:case je.BOOLEAN:case je.INTEGER:case je.LONG:case je.DOUBLE:case je.STRING:case je.BYTES:case je.DATE:return Vt.of(Vt.valueFromBytes(LD(e.type),e.value),Me(e.createdAt));case je.INTEGER_CNT:case je.LONG_CNT:return qn.create(Kh(e.type),qn.valueFromBytes(Kh(e.type),e.value),Me(e.createdAt))}}function uh(e){return bn.of(xi.of(Me(e.createdAt),e.offset),e.relativeOffset)}function FD(e){return xi.of(Me(e.createdAt),e.offset)}function iPe(e){const t=Gc.create(e.value);Object.entries(e.attributes).forEach(([r,i])=>{t.setAttr(r,i.value,Me(i.updatedAt))});const n=ao.create(FD(e.id),t);return n.setRemovedAt(Me(e.removedAt)),n}function cu(e){return oi.of(wc(e.parentId),wc(e.leftSiblingId))}function wc(e){return Cn.of(Me(e.createdAt),e.offset)}function aPe(e){if(!e.length)return;const t=[];return e.forEach(n=>{const r=Q2(n.content);t.push(r)}),t}function Q2(e){if(e.length===0)return;const t=[];for(const i of e)t.push(sPe(i));const n=t[t.length-1],r=new Map;r.set(e[t.length-1].depth,t[t.length-1]);for(let i=t.length-2;i>=0;i--)r.get(e[i].depth-1).prepend(t[i]),r.set(e[i].depth,t[i]);return n.updateDescendantsSize(),n.updateDescendantsSize(!0),Er.create(n,$u).getRoot()}function oPe(e){const t=pa.create();for(const[n,r]of Object.entries(e))t.setInternal(n,r.value,Me(r.updatedAt),r.isRemoved);return t}function sPe(e){const t=wc(e.id),n=mr.create(t,e.type),r=Object.entries(e.attributes);return n.isText?n.value=e.value:r.length&&(n.attrs=oPe(e.attributes)),e.insPrevId&&(n.insPrevID=wc(e.insPrevId)),e.insNextId&&(n.insNextID=wc(e.insNextId)),n.removedAt=Me(e.removedAt),n}function _D(e){if(e.body.case==="set"){const t=e.body.value;return os.create(t.key,sh(t.value),Me(t.parentCreatedAt),Me(t.executedAt))}else if(e.body.case==="add"){const t=e.body.value;return Co.create(Me(t.parentCreatedAt),Me(t.prevCreatedAt),sh(t.value),Me(t.executedAt))}else if(e.body.case==="move"){const t=e.body.value;return ai.create(Me(t.parentCreatedAt),Me(t.prevCreatedAt),Me(t.createdAt),Me(t.executedAt))}else if(e.body.case==="remove"){const t=e.body.value;return ki.create(Me(t.parentCreatedAt),Me(t.createdAt),Me(t.executedAt))}else if(e.body.case==="edit"){const t=e.body.value,n=new Map;return Object.entries(t.attributes).forEach(([r,i])=>{n.set(r,i)}),po.create(Me(t.parentCreatedAt),uh(t.from),uh(t.to),t.content,n,Me(t.executedAt))}else if(e.body.case==="style"){const t=e.body.value,n=new Map;Object.entries(t.attributes).forEach(([i,o])=>{n.set(i,o)});const r=t.attributesToRemove??[];return new na(Me(t.parentCreatedAt),uh(t.from),uh(t.to),n,r,Me(t.executedAt))}else if(e.body.case==="increase"){const t=e.body.value;return ju.create(Me(t.parentCreatedAt),sh(t.value),Me(t.executedAt))}else if(e.body.case==="treeEdit"){const t=e.body.value;return hd.create(Me(t.parentCreatedAt),cu(t.from),cu(t.to),aPe(t.contents),t.splitLevel,Me(t.executedAt))}else if(e.body.case==="treeStyle"){const t=e.body.value,n=new Map,r=t.attributesToRemove;return r?.length>0?la.createTreeRemoveStyleOperation(Me(t.parentCreatedAt),cu(t.from),cu(t.to),r,Me(t.executedAt)):(Object.entries(t.attributes).forEach(([i,o])=>{n.set(i,o)}),la.create(Me(t.parentCreatedAt),cu(t.from),cu(t.to),n,Me(t.executedAt)))}else if(e.body.case==="arraySet"){const t=e.body.value;return ga.create(Me(t.parentCreatedAt),Me(t.createdAt),sh(t.value),Me(t.executedAt))}else throw new j(G.ErrUnimplemented,"unimplemented operation")}function uPe(e){const t=[];for(const n of e){const r=_D(n);r&&t.push(r)}return t}function $D(e){const t=[];for(const n of e)t.push(Gu.create({id:OD(n.id),operations:uPe(n.operations),presenceChange:n.presenceChange?nPe(n.presenceChange):void 0,message:n.message}));return t}function lPe(e){return wu.of(BigInt(e.serverSeq),e.clientSeq)}function cPe(e){return Of.create(e.documentKey,lPe(e.checkpoint),e.isRemoved,$D(e.changes),J2(e.versionVector),e.snapshot)}function zD(e){const t=new zu;for(const r of e.nodes){const i=ev(r.element);t.set(r.key,i,i.getPositionedAt())}const n=new wn(Me(e.createdAt),t);return n.setMovedAt(Me(e.movedAt)),n.setRemovedAt(Me(e.removedAt)),n}function VD(e){const t=new Hc;for(const r of e.nodes)t.insert(ev(r.element));const n=new xn(Me(e.createdAt),t);return n.setMovedAt(Me(e.movedAt)),n.setRemovedAt(Me(e.removedAt)),n}function dPe(e){const t=Vt.of(Vt.valueFromBytes(LD(e.type),e.value),Me(e.createdAt));return t.setMovedAt(Me(e.movedAt)),t.setRemovedAt(Me(e.removedAt)),t}function hPe(e){const t=new Uu;let n=t.getHead();for(const i of e.nodes){const o=t.insertAfter(n,iPe(i));i.insPrevId&&o.setInsPrev(t.findNode(FD(i.insPrevId))),n=o}const r=new Qn(t,Me(e.createdAt));return r.setMovedAt(Me(e.movedAt)),r.setRemovedAt(Me(e.removedAt)),r}function fPe(e){const t=qn.create(Kh(e.type),qn.valueFromBytes(Kh(e.type),e.value),Me(e.createdAt));return t.setMovedAt(Me(e.movedAt)),t.setRemovedAt(Me(e.removedAt)),t}function UD(e){const t=Q2(e.nodes);return Er.create(t,Me(e.createdAt))}function ev(e){if(e.body.case==="jsonObject")return zD(e.body.value);if(e.body.case==="jsonArray")return VD(e.body.value);if(e.body.case==="primitive")return dPe(e.body.value);if(e.body.case==="text")return hPe(e.body.value);if(e.body.case==="counter")return fPe(e.body.value);if(e.body.case==="tree")return UD(e.body.value);throw new j(G.ErrUnimplemented,"unimplemented element")}function pPe(e){return e.map(t=>({path:t.path,type:t.type}))}function gPe(e){if(!e)return{root:wn.create($u),presences:new Map};const t=Hr(HMe,e);return{root:ev(t.root),presences:rPe(t.presences)}}function mPe(e){const t=W2(e);return Lf(fo(H2,t))}function vPe(e){const t=nv(e),n=Hr(H2,t);return J2(n)}function HD(e){if(!e)throw new j(G.ErrInvalidArgument,"bytes is empty");const t=Hr(Gr,e);return zD(t.body.value)}function GD(e){return fo(Gr,X2(e))}function yPe(e){if(!e)throw new j(G.ErrInvalidArgument,"bytes is empty");const t=Hr(Gr,e);return VD(t.body.value)}function EPe(e){return fo(Gr,ND(e))}function bPe(e){if(!e)throw new j(G.ErrInvalidArgument,"bytes is empty");const t=Hr(Gr,e);return UD(t.body.value)}function CPe(e){return fo(Gr,PD(e))}function Lf(e){return e?Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join(""):""}function tv(e){return Lf(e)}function nv(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>parseInt(t,16)))}function SPe(e){if(typeof window<"u"&&typeof window.atob=="function"){const t=window.atob(e),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);return r}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const t=globalThis.Buffer;return new Uint8Array(t.from(e,"base64"))}else throw new Error("No base64 decoder available")}function Ff(e){return nv(e)}function APe(e){if(typeof window<"u"&&typeof window.btoa=="function"){let t="";for(let n=0;n<e.byteLength;n++)t+=String.fromCharCode(e[n]);return window.btoa(t)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(e).toString("base64");throw new Error("No base64 encoder available")}}function wPe(e){const t=Hr(U2,e);return OD(t)}function xPe(e){const t=Hr(G2,e);return _D(t)}const Bt={fromPresence:q2,toChangePack:ePe,fromChangePack:cPe,fromChanges:$D,toTreeNodes:Z2,fromTreeNodes:Q2,objectToBytes:GD,bytesToObject:HD,bytesToSnapshot:gPe,bytesToHex:Lf,hexToBytes:nv,toHexString:tv,toUint8Array:Ff,toOperation:a4,toChangeID:i4,bytesToChangeID:wPe,bytesToOperation:xPe,versionVectorToHex:mPe,hexToVersionVector:vPe,fromSchemaRules:pPe,toRevisionSummary:tPe,changeIDToBinary:e=>fo(U2,i4(e)),operationToBinary:e=>fo(G2,a4(e))};var Zn=(e=>(e[e.Trivial=0]="Trivial",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warn=3]="Warn",e[e.Error=4]="Error",e[e.Fatal=5]="Fatal",e))(Zn||{});let Yo=3;function DPe(e){Yo=e}const be={trivial:(...e)=>{Yo>0||typeof console<"u"&&console.log("YORKIE T:",...e)},debug:(...e)=>{Yo>1||typeof console<"u"&&console.log("YORKIE D:",...e)},info:(...e)=>{Yo>2||typeof console<"u"&&console.log("YORKIE I:",...e)},warn:(...e)=>{Yo>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...e):console.log("YORKIE W:",...e))},error:(...e)=>{Yo>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...e):console.log("YORKIE E:",...e))},fatal:(...e)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...e):console.log("YORKIE F:",...e))},isEnabled:e=>Yo<=e};function jD(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}const Qm=()=>{};class IPe{finalized=!1;observers=[];finalError;constructor(t){try{t(this)}catch(n){this.error(n)}}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(!t)throw new j(G.ErrInvalidArgument,"missing observer");if(this.finalized)throw new j(G.ErrRefused,"observable is finalized due to previous error");typeof t=="object"?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Qm),i.error===void 0&&(i.error=Qm),i.complete===void 0&&(i.complete=Qm);const o=jD(),u=this.unsubscribeOne.bind(this,o);if(this.observers.push({subscriptionID:o,observer:i}),this.finalized)try{this.finalError?i.error(this.finalError):i.complete()}catch(l){be.warn(l)}return u}unsubscribeOne(t){this.observers=this.observers?.filter(n=>n.subscriptionID!==t)}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t].observer)}catch(r){be.error(r)}}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.observers=void 0)}}function KD(e){const t=new IPe(e);return{subscribe:t.subscribe.bind(t),getProxy:()=>t}}class xc{prevID;nextID;delimiter;message;root;operations;presenceChange;previousPresence;reversePresenceKeys;constructor(t,n,r,i){this.prevID=t,this.nextID=t.next(),this.delimiter=yD,this.root=n,this.operations=[],this.previousPresence=ei(r),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=i}static create(t,n,r,i){return new xc(t,n,r,i)}push(t){this.operations.push(t)}registerElement(t,n){this.root.registerElement(t,n)}registerRemovedElement(t){this.root.registerRemovedElement(t)}registerGCPair(t){this.root.registerGCPair(t)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const t=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return Gu.create({id:t,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(t){this.presenceChange=t}setReversePresence(t,n){for(const r of Object.keys(t))n?.addToHistory?this.reversePresenceKeys.add(r):this.reversePresenceKeys.delete(r)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const t={};for(const n of this.reversePresenceKeys)t[n]=this.previousPresence[n];return t}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(t){this.root.acc(t)}}function YD(e,t){const n=new jc(e);return new Proxy(t,n.getHandlers())}class jc{context;handlers;constructor(t){this.context=t,this.handlers={set:(n,r,i)=>(be.isEnabled(Zn.Trivial)&&be.trivial(`obj[${r}]=${JSON.stringify(i)}`),jc.setInternal(t,n,r,i),!0),get:(n,r)=>(be.isEnabled(Zn.Trivial)&&be.trivial(`obj[${r}]`),r==="getID"?()=>n.getCreatedAt():r==="toJSON"||r==="toString"?()=>n.toJSON():r==="toJS"?()=>n.toJS():r==="toJSForTest"?()=>n.toJSForTest():Wo(t,n.get(r))),ownKeys:n=>n.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(n,r)=>(be.isEnabled(Zn.Trivial)&&be.trivial(`obj[${r}]`),jc.deleteInternal(t,n,r),!0)}}static setInternal(t,n,r,i){if(r.includes("."))throw new j(G.ErrInvalidObjectKey,"key must not contain the '.'.");const o=t.issueTimeTicket(),u=Dc(t,i,o),l=n.set(r,u,o);t.registerElement(u,n),l&&t.registerRemovedElement(l),t.push(os.create(r,u.deepcopy(),n.getCreatedAt(),o))}static buildObjectMembers(t,n){const r={};for(const[i,o]of Object.entries(n)){if(i.includes("."))throw new j(G.ErrInvalidObjectKey,"key must not contain the '.'.");const u=t.issueTimeTicket(),l=Dc(t,o,u);r[i]=l}return r}static deleteInternal(t,n,r){const i=t.issueTimeTicket(),o=n.deleteByKey(r,i);o&&(t.push(ki.create(n.getCreatedAt(),o.getCreatedAt(),i)),t.registerRemovedElement(o))}getHandlers(){return this.handlers}}function TPe(e,t){const n=new ht(e,t);return new Proxy(t,n.getHandlers())}function J5(e){return typeof e=="string"||e instanceof String?!isNaN(e):!1}function RPe(e){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(e)}class ht{context;handlers;array;constructor(t,n){this.context=t,this.array=n,this.handlers={get:(r,i,o)=>i==="getID"?()=>r.getCreatedAt():i==="getElementByID"?u=>{const l=r.getByID(u);if(!(!l||l.isRemoved()))return Xr(t,l)}:i==="getElementByIndex"?u=>{const l=r.get(u);return Xr(t,l)}:i==="getLast"?()=>Xr(t,r.getLast()):i==="delete"?u=>{const l=ht.deleteInternalByIndex(t,r,u);return Xr(t,l)}:i==="deleteByID"?u=>{const l=ht.deleteInternalByID(t,r,u);return Xr(t,l)}:i==="insertAfter"?(u,l)=>{const c=ht.insertAfterInternal(t,r,u,l);return Xr(t,c)}:i==="insertIntegerAfter"?(u,l)=>{const c=ht.insertIntegerAfterInternal(t,r,u,l);return Xr(t,c)}:i==="insertBefore"?(u,l)=>{const c=ht.insertBeforeInternal(t,r,u,l);return Xr(t,c)}:i==="setValue"?(u,l)=>{const c=ht.setValueInternal(t,r,u,l);return Xr(t,c)}:i==="moveBefore"?(u,l)=>{ht.moveBeforeInternal(t,r,u,l)}:i==="moveAfter"?(u,l)=>{ht.moveAfterInternal(t,r,u,l)}:i==="moveAfterByIndex"?(u,l)=>{ht.moveAfterByIndexInternal(t,r,u,l)}:i==="moveFront"?u=>{ht.moveFrontInternal(t,r,u)}:i==="moveLast"?u=>{ht.moveLastInternal(t,r,u)}:J5(i)?Wo(t,r.get(Number(i))):i==="push"?u=>ht.pushInternal(t,r,u):i==="splice"?(u,l,...c)=>ht.splice(t,r,u,l,...c):i==="length"?r.length:typeof i=="symbol"&&i===Symbol.iterator?ht.iteratorInternal.bind(this,t,r):i==="includes"?(u,l)=>ht.includes(t,r,u,l):i==="indexOf"?(u,l)=>ht.indexOf(t,r,u,l):i==="lastIndexOf"?(u,l)=>ht.lastIndexOf(t,r,u,l):i==="toJSForTest"?()=>r.toJSForTest():i==="toTestString"?()=>ht.toTestString(r):typeof i=="string"&&RPe(i)?(...u)=>{const l=Array.from(r).map(c=>Wo(t,c));return Array.prototype[i].apply(l,u)}:Reflect.get(r,i,o),set:(r,i,o)=>{if(J5(i)){const u=Number(i);return ht.setValueInternal(t,r,u,o),!0}return Reflect.set(r,i,o)},deleteProperty:(r,i)=>(be.isEnabled(Zn.Trivial)&&be.trivial(`array[${i}]`),ht.deleteInternalByIndex(t,r,Number.parseInt(i)),!0)}}static*iteratorInternal(t,n){for(const r of n)yield Xr(t,r)}static buildArrayElements(t,n){const r=[];for(const i of n){const o=t.issueTimeTicket(),u=Dc(t,i,o);r.push(u)}return r}static pushInternal(t,n,r){return ht.insertAfterInternal(t,n,n.getLastCreatedAt(),r),n.length}static moveBeforeInternal(t,n,r,i){const o=t.issueTimeTicket(),u=n.getPrevCreatedAt(r);n.moveAfter(u,i,o),t.push(ai.create(n.getCreatedAt(),u,i,o))}static moveAfterInternal(t,n,r,i){const o=t.issueTimeTicket();t.push(ai.create(n.getCreatedAt(),r,i,o)),n.moveAfter(r,i,o)}static moveAfterByIndexInternal(t,n,r,i){const o=n.get(r);if(!o)throw new j(G.ErrInvalidArgument,`index out of bounds: ${r}`);const u=n.get(i);if(!u)throw new j(G.ErrInvalidArgument,`index out of bounds: ${i}`);ht.moveAfterInternal(t,n,o.getCreatedAt(),u.getCreatedAt())}static moveFrontInternal(t,n,r){const i=t.issueTimeTicket(),o=n.getHead();n.moveAfter(o.getCreatedAt(),r,i),t.push(ai.create(n.getCreatedAt(),o.getCreatedAt(),r,i))}static moveLastInternal(t,n,r){const i=t.issueTimeTicket(),o=n.getLastCreatedAt();n.moveAfter(o,r,i),t.push(ai.create(n.getCreatedAt(),o,r,i))}static insertAfterInternal(t,n,r,i){const o=t.issueTimeTicket(),u=Dc(t,i,o);return n.insertAfter(r,u),t.registerElement(u,n),t.push(Co.create(n.getCreatedAt(),r,u.deepcopy(),o)),u}static insertIntegerAfterInternal(t,n,r,i){const o=n.get(r);if(!o)throw new j(G.ErrInvalidArgument,`index out of bounds: ${r}`);return ht.insertAfterInternal(t,n,o.getCreatedAt(),i),n}static insertBeforeInternal(t,n,r,i){return ht.insertAfterInternal(t,n,n.getPrevCreatedAt(r),i)}static setValueInternal(t,n,r,i){const o=n.get(r);if(!o)throw new j(G.ErrInvalidArgument,`index out of bounds: ${r}`);return ht.setByIndexInternal(t,n,o.getCreatedAt(),i),n}static setByIndexInternal(t,n,r,i){const o=t.issueTimeTicket(),u=Dc(t,i,o),l=u.deepcopy();return t.push(ga.create(n.getCreatedAt(),r,l,o)),n.set(r,u,o),t.registerElement(u,n),u}static deleteInternalByIndex(t,n,r){const i=t.issueTimeTicket(),o=n.deleteByIndex(r,i);if(o)return t.push(ki.create(n.getCreatedAt(),o.getCreatedAt(),i)),t.registerRemovedElement(o),o}static deleteInternalByID(t,n,r){const i=t.issueTimeTicket(),o=n.delete(r,i);return t.push(ki.create(n.getCreatedAt(),o.getCreatedAt(),i)),t.registerRemovedElement(o),o}static splice(t,n,r,i,...o){const u=n.length,l=r>=0?Math.min(r,u):Math.max(u+r,0),c=i===void 0?u:i<0?l:Math.min(l+i,u),f=[];for(let g=l;g<c;g++){const m=ht.deleteInternalByIndex(t,n,l);if(m){const v=m.deepcopy();v.setRemovedAt(),f.push(Wo(t,v))}}if(o){let g=l===0?n.getHead().getID():n.get(l-1).getID();for(const m of o)g=ht.insertAfterInternal(t,n,g,m).getID()}return f}static includes(t,n,r,i){const o=n.length,u=i===void 0?0:i<0?Math.max(i+o,0):i;if(u>=o)return!1;if(Vt.isSupport(r))return Array.from(n).map(c=>Wo(t,c)).includes(r,u);for(let l=u;l<o;l++)if(n.get(l)?.getID()===r.getID())return!0;return!1}static indexOf(t,n,r,i){const o=n.length,u=i===void 0?0:i<0?Math.max(i+o,0):i;if(u>=o)return-1;if(Vt.isSupport(r))return Array.from(n).map(c=>Wo(t,c)).indexOf(r,u);for(let l=u;l<o;l++)if(n.get(l)?.getID()===r.getID())return l;return-1}static lastIndexOf(t,n,r,i){const o=n.length,u=i===void 0||i>=o?o-1:i<0?i+o:i;if(u<0)return-1;if(Vt.isSupport(r))return Array.from(n).map(c=>Wo(t,c)).lastIndexOf(r,u);for(let l=u;l>0;l--)if(n.get(l)?.getID()===r.getID())return l;return-1}static toTestString(t){return t.toTestString()}getHandlers(){return this.handlers}}class rv{context;text;constructor(t,n){this.context=t,this.text=n}initialize(t,n){this.context=t,this.text=n}getID(){return this.text.getID()}edit(t,n,r,i){if(!this.context||!this.text)throw new j(G.ErrNotInitialized,"Text is not initialized yet");if(t>n)throw new j(G.ErrInvalidArgument,"from should be less than or equal to to");const o=this.text.indexRangeToPosRange(t,n);be.isEnabled(Zn.Debug)&&be.debug(`EDIT: f:${t}->${o[0].toTestString()}, t:${n}->${o[1].toTestString()} c:${r}`);const u=i?Hu(i):void 0,l=this.context.issueTimeTicket(),[,c,f,g]=this.text.edit(o,r,l,u);this.context.acc(f);for(const m of c)this.context.registerGCPair(m);return this.context.push(new po(this.text.getCreatedAt(),o[0],o[1],r,u?new Map(Object.entries(u)):new Map,l)),this.text.findIndexesFromRange(g)}delete(t,n){return this.edit(t,n,"")}empty(){return this.edit(0,this.length,"")}setStyle(t,n,r){if(!this.context||!this.text)throw new j(G.ErrNotInitialized,"Text is not initialized yet");if(t>n)throw new j(G.ErrInvalidArgument,"from should be less than or equal to to");const i=this.text.indexRangeToPosRange(t,n);be.isEnabled(Zn.Debug)&&be.debug(`STYL: f:${t}->${i[0].toTestString()}, t:${n}->${i[1].toTestString()} a:${JSON.stringify(r)}`);const o=Hu(r),u=this.context.issueTimeTicket(),[l,c]=this.text.setStyle(i,o,u);this.context.acc(c);for(const f of l)this.context.registerGCPair(f);return this.context.push(na.create(this.text.getCreatedAt(),i[0],i[1],new Map(Object.entries(o)),u)),!0}indexRangeToPosRange(t){if(!this.context||!this.text)throw new j(G.ErrNotInitialized,"Text is not initialized yet");const n=this.text.indexRangeToPosRange(t[0],t[1]);return[n[0].toStruct(),n[1].toStruct()]}posRangeToIndexRange(t){if(!this.context||!this.text)throw new j(G.ErrNotInitialized,"Text is not initialized yet");const n=this.text.findIndexesFromRange([bn.fromStruct(t[0]),bn.fromStruct(t[1])]);return[n[0],n[1]]}toTestString(){if(!this.context||!this.text)throw new j(G.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new j(G.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new j(G.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new j(G.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new j(G.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(t,n){if(!this.context||!this.text)throw new j(G.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(t,n)}}class iv{valueType;value;context;counter;constructor(t,n){this.valueType=t,this.value=n}initialize(t,n){this.valueType=n.getValueType(),this.context=t,this.counter=n,this.value=n.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(t){if(!this.context||!this.counter)throw new j(G.ErrNotInitialized,"Counter is not initialized yet");const n=this.context.issueTimeTicket(),r=Vt.of(t,n);if(!r.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof r.getValue()}`);return this.counter.increase(r),this.context.push(ju.create(this.counter.getCreatedAt(),r,n)),this}toJSForTest(){if(!this.context||!this.counter)throw new j(G.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function av(e){if(e.isText)return{type:e.type,value:e.value};const t={type:e.type,children:e.children.map(n=>av(n))};return e.attrs&&(t.attributes=ua(e.attrs.toObject())),t}function BPe(e,t){const n={type:e.isText?e.parent.type:e.type,children:e.isText?e.parent.getChildrenText().length===t?[]:[{type:Di,value:e.parent.getChildrenText().slice(t)}]:e.children.slice(t).map(r=>av(r))};return e.attrs?n.attributes=ua(e.attrs.toObject()):e.isText&&e.parent.attrs&&(n.attributes=ua(e.parent.attrs.toObject())),n}function kPe(e,t){const{node:n}=e,r=[...t].slice(0,-1),i=n.isText?n.parent.getChildrenText().length:n.children.length,o=[...r,i],u=[...r],l=[];u[u.length-1]+=1,t.every((f,g)=>f===o[g])||l.push({fromPath:[...t],toPath:o});const c=BPe(n,t[t.length-1]);return c&&l.push({fromPath:u,toPath:u,content:c}),l}function MPe(e,t){const{node:n,offset:r}=e,i=n.children[r],o=n.children[r-1],{children:u}=i,l=[...t].slice(0,-1),c=[{fromPath:[...t],toPath:[...l,r+1]}];if(!i.children.length)return c;const f=[...l,r-1,o.hasTextChild()?o.getChildrenText().length:o.children.length],g=u.map(m=>av(m));return c.push({fromPath:f,toPath:f,content:g}),c}function ov(e,t,n){const{type:r}=e,i=n.issueTimeTicket();if(r===Di){WD(e);const{value:o}=e,u=mr.create(Cn.of(i,0),r,o);t.append(u)}else{const{children:o=[]}=e,{attributes:u}=e;let l;if(typeof u=="object"&&!xD(u)){const f=Hu(u);l=new pa;for(const[g,m]of Object.entries(f))l.set(g,m,i)}const c=mr.create(Cn.of(i,0),r,void 0,l);t.append(c);for(const f of o)ov(f,c,n)}}function NPe(e,t){const{type:n}=t,r=e.issueTimeTicket();let i;if(t.type===Di){const{value:o}=t;i=mr.create(Cn.of(r,0),n,o)}else if(t){const{children:o=[]}=t,{attributes:u}=t;let l;if(typeof u=="object"&&!xD(u)){const c=Hu(u);l=new pa;for(const[f,g]of Object.entries(c))l.set(f,g,r)}i=mr.create(Cn.of(e.issueTimeTicket(),0),n,void 0,l);for(const c of o)ov(c,i,e)}return i}function WD(e){if(!e.value.length)throw new j(G.ErrInvalidArgument,"text node cannot have empty value");return!0}function q5(e){if(!e.length)return!0;if(e[0].type===Di)for(const n of e){const{type:r}=n;if(r!==Di)throw new j(G.ErrInvalidArgument,"element node and text node cannot be passed together");WD(n)}else for(const n of e){const{type:r}=n;if(r===Di)throw new j(G.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class sv{initialRoot;context;tree;constructor(t){this.initialRoot=t}initialize(t,n){this.context=t,this.tree=n}getID(){return this.tree.getID()}buildRoot(t){if(!this.initialRoot)return mr.create(Cn.of(t.issueTimeTicket(),0),kNe);const n=mr.create(Cn.of(t.issueTimeTicket(),0),this.initialRoot.type);for(const r of this.initialRoot.children)ov(r,n,t);return n}getSize(){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(t){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");if(!t.length)throw new j(G.ErrInvalidArgument,"path should not be empty");const n=this.tree.pathToTreePos(t),r=kPe(n,t);for(const i of r){const{fromPath:o,toPath:u,content:l}=i,c=this.tree.pathToPos(o),f=this.tree.pathToPos(u);this.editInternal(c,f,l?[l]:[],0)}}mergeByPath(t){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");if(!t.length)throw new j(G.ErrInvalidArgument,"path should not be empty");const n=this.tree.pathToTreePos(t);if(n.node.isText)throw new j(G.ErrInvalidArgument,"text node cannot be merged");const r=MPe(n,t);for(const i of r){const{fromPath:o,toPath:u,content:l}=i,c=this.tree.pathToPos(o),f=this.tree.pathToPos(u);this.editInternal(c,f,l??[],0)}}styleByPath(t,n){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");if(!t.length)throw new j(G.ErrInvalidArgument,"path should not be empty");const[r,i]=this.tree.pathToPosRange(t),o=this.context.issueTimeTicket(),u=n?Hu(n):void 0,[l,,c]=this.tree.style([r,i],u,o);this.context.acc(c);for(const f of l)this.context.registerGCPair(f);this.context.push(la.create(this.tree.getCreatedAt(),r,i,u?new Map(Object.entries(u)):new Map,o))}style(t,n,r){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new j(G.ErrInvalidArgument,"from should be less than or equal to to");const i=this.tree.findPos(t),o=this.tree.findPos(n),u=this.context.issueTimeTicket(),l=r?Hu(r):void 0,[c,,f]=this.tree.style([i,o],l,u);this.context.acc(f);for(const g of c)this.context.registerGCPair(g);this.context.push(la.create(this.tree.getCreatedAt(),i,o,l?new Map(Object.entries(l)):new Map,u))}removeStyle(t,n,r){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new j(G.ErrInvalidArgument,"from should be less than or equal to to");const i=this.tree.findPos(t),o=this.tree.findPos(n),u=this.context.issueTimeTicket(),[l,,c]=this.tree.removeStyle([i,o],r,u);this.context.acc(c);for(const f of l)this.context.registerGCPair(f);this.context.push(la.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),i,o,r,u))}editInternal(t,n,r,i=0){if(r.length!==0&&r[0]&&(q5(r),r[0].type!==Di))for(const f of r){const{children:g=[]}=f;q5(g)}const o=this.context.getLastTimeTicket();let u=new Array;if(r[0]?.type===Di){let f="";for(const g of r){const{value:m}=g;f+=m}u.push(mr.create(Cn.of(this.context.issueTimeTicket(),0),Di,f))}else u=r.map(f=>f&&NPe(this.context,f)).filter(f=>f);const[,l,c]=this.tree.edit([t,n],u.length?u.map(f=>f?.deepcopy()):void 0,i,o,()=>this.context.issueTimeTicket());this.context.acc(c);for(const f of l)this.context.registerGCPair(f);return this.context.push(hd.create(this.tree.getCreatedAt(),t,n,u.length?u:void 0,i,o)),!0}editByPath(t,n,r,i=0){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");if(t.length!==n.length)throw new j(G.ErrInvalidArgument,"path length should be equal");if(!t.length||!n.length)throw new j(G.ErrInvalidArgument,"path should not be empty");const o=this.tree.pathToPos(t),u=this.tree.pathToPos(n);return this.editInternal(o,u,r?[r]:[],i)}editBulkByPath(t,n,r,i=0){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");if(t.length!==n.length)throw new j(G.ErrInvalidArgument,"path length should be equal");if(!t.length||!n.length)throw new j(G.ErrInvalidArgument,"path should not be empty");const o=this.tree.pathToPos(t),u=this.tree.pathToPos(n);return this.editInternal(o,u,r,i)}edit(t,n,r,i=0){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new j(G.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(t),u=this.tree.findPos(n);return this.editInternal(o,u,r?[r]:[],i)}editBulk(t,n,r,i=0){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");if(t>n)throw new j(G.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(t),u=this.tree.findPos(n);return this.editInternal(o,u,r,i)}toXML(){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(t){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(t)}pathToIndex(t){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(t)}pathRangeToPosRange(t){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");const n=[this.tree.pathToIndex(t[0]),this.tree.pathToIndex(t[1])],r=this.tree.indexRangeToPosRange(n);return[r[0].toStruct(),r[1].toStruct()]}indexRangeToPosRange(t){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(t)}posRangeToIndexRange(t){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");const n=[oi.fromStruct(t[0]),oi.fromStruct(t[1])];return this.tree.posRangeToIndexRange(n)}posRangeToPathRange(t){if(!this.context||!this.tree)throw new j(G.ErrNotInitialized,"Tree is not initialized yet");const n=[oi.fromStruct(t[0]),oi.fromStruct(t[1])];return this.tree.posRangeToPathRange(n)}}function Q5(e,t){return YD(e,t)}function Xr(e,t){if(t){if(t instanceof Vt)return t;if(t instanceof wn)return YD(e,t);if(t instanceof xn)return TPe(e,t);if(t instanceof Qn)return new rv(e,t);if(t instanceof qn){const n=new iv(Mi.Int,0);return n.initialize(e,t),n}else if(t instanceof Er){const n=new sv;return n.initialize(e,t),n}}else return;throw new TypeError(`Unsupported type of element: ${typeof t}`)}function Wo(e,t){const n=Xr(e,t);return n instanceof Vt?n.getValue():n}function Dc(e,t,n){let r;if(Vt.isSupport(t))r=Vt.of(t,n);else if(Array.isArray(t))r=xn.create(n,ht.buildArrayElements(e,t));else if(typeof t=="object")t instanceof rv?(r=Qn.create(Uu.create(),n),t.initialize(e,r)):t instanceof iv?(r=qn.create(t.getValueType(),t.getValue(),n),t.initialize(e,r)):t instanceof sv?(r=Er.create(t.buildRoot(e),n),t.initialize(e,r)):r=wn.create(n,jc.buildObjectMembers(e,t));else throw new TypeError(`Unsupported type of value: ${typeof t}`);return r}class Kc{rootObject;elementPairMapByCreatedAt;gcElementSetByCreatedAt;gcPairMap;docSize;constructor(t){this.rootObject=t,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(t,void 0),t.getDescendants(n=>{if(n.getRemovedAt()&&this.registerRemovedElement(n),n instanceof Qn||n instanceof Er)for(const r of n.getGCPairs())this.registerGCPair(r);return!1})}static create(){return new Kc(wn.create($u))}findByCreatedAt(t){const n=this.elementPairMapByCreatedAt.get(t.toIDString());if(n)return n.element}findElementPairByCreatedAt(t){return this.elementPairMapByCreatedAt.get(t.toIDString())}createSubPaths(t){let n=this.elementPairMapByCreatedAt.get(t.toIDString());if(!n)return[];const r=[];for(;n.parent;){const i=n.element.getCreatedAt(),o=n.parent.subPathOf(i);if(o===void 0)throw new j(G.ErrInvalidArgument,`cant find the given element: ${i.toIDString()}`);r.unshift(o),n=this.elementPairMapByCreatedAt.get(n.parent.getCreatedAt().toIDString())}return r.unshift("$"),r}createPath(t){return this.createSubPaths(t).join(".")}registerElement(t,n){this.elementPairMapByCreatedAt.set(t.getCreatedAt().toIDString(),{parent:n,element:t}),un(this.docSize.live,t.getDataSize()),t instanceof io&&t.getDescendants((r,i)=>(this.elementPairMapByCreatedAt.set(r.getCreatedAt().toIDString(),{parent:i,element:r}),un(this.docSize.live,r.getDataSize()),!1))}deregisterElement(t){let n=0;const r=i=>{const o=i.getCreatedAt().toIDString();qo(this.docSize.gc,i.getDataSize()),this.elementPairMapByCreatedAt.delete(o),this.gcElementSetByCreatedAt.delete(o),n++};return r(t),t instanceof io&&t.getDescendants(i=>(r(i),!1)),n}registerRemovedElement(t){un(this.docSize.gc,t.getDataSize()),qo(this.docSize.live,t.getDataSize()),this.docSize.live.meta+=wi,this.gcElementSetByCreatedAt.add(t.getCreatedAt().toIDString())}registerGCPair(t){if(this.gcPairMap.get(t.child.toIDString())){this.gcPairMap.delete(t.child.toIDString());return}this.gcPairMap.set(t.child.toIDString(),t);const r=this.gcPairMap.get(t.child.toIDString()).child.getDataSize();un(this.docSize.gc,r),qo(this.docSize.live,r),t.child instanceof no||(this.docSize.live.meta+=wi)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const t=new Set;for(const n of this.gcElementSetByCreatedAt){t.add(n);const r=this.elementPairMapByCreatedAt.get(n);r.element instanceof io&&r.element.getDescendants(i=>(t.add(i.getCreatedAt().toIDString()),!1))}return t.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new Kc(this.rootObject.deepcopy())}garbageCollect(t){let n=0;for(const r of this.gcElementSetByCreatedAt){const i=this.elementPairMapByCreatedAt.get(r),o=i.element.getRemovedAt();o&&t?.afterOrEqual(o)&&(i.parent.purge(i.element),n+=this.deregisterElement(i.element))}for(const[,r]of this.gcPairMap){const i=r.child.getRemovedAt();i&&t?.afterOrEqual(i)&&(r.parent.purge(r.child),qo(this.docSize.gc,r.child.getDataSize()),this.gcPairMap.delete(r.child.toIDString()),n+=1)}return n}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(t){un(this.docSize.live,t)}*getGCElementPairs(){for(const t of this.gcElementSetByCreatedAt){const n=this.elementPairMapByCreatedAt.get(t);n&&(yield n)}}}let eS=class{context;presence;constructor(t,n){this.context=t,this.presence=n}set(t,n){for(const r of Object.keys(t))this.presence[r]=t[r];this.context.setPresenceChange({type:Bi.Put,presence:ei(this.presence)}),this.context.setReversePresence(t,n)}get(t){return this.presence[t]}clear(){this.presence={},this.context.setPresenceChange({type:Bi.Clear})}};const tS=50;class PPe{undoStack=[];redoStack=[];hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(t){this.undoStack.length>=tS&&this.undoStack.shift(),this.undoStack.push(t)}popUndo(){return this.undoStack.pop()}pushRedo(t){this.redoStack.length>=tS&&this.redoStack.shift(),this.redoStack.push(t)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}clearUndo(){this.undoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(t,n){const r=i=>{for(const o of i)for(const u of o)(u instanceof ga||u instanceof ki||u instanceof ai)&&u.getCreatedAt()===t&&u.setCreatedAt(n),(u instanceof Co||u instanceof ai)&&u.getPrevCreatedAt()===t&&u.setPrevCreatedAt(n)};r(this.undoStack),r(this.redoStack)}reconcileTextEdit(t,n,r,i){const o=u=>{for(const l of u)for(const c of l)c instanceof po&&c.getParentCreatedAt().compare(t)===0&&c.reconcileOperation(n,r,i)};o(this.undoStack),o(this.redoStack)}}function OPe(e,t){const n=[];for(const r of t){const i=LPe(e,r.path),o=FPe(i,r);if(!o.valid)for(const u of o.errors||[])n.push(u)}return{valid:n.length===0,errors:n}}function LPe(e,t){if(!t.startsWith("$"))throw new Error(`Path must start with $, got ${t}`);const n=t.split(".");let r=e;for(let i=1;i<n.length;i++){const o=n[i];if(!(r instanceof wn))return;r=r.get(o)}return r}function FPe(e,t){switch(t.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return $Pe(e,t);case"object":if(!(e instanceof wn))return{valid:!1,errors:[{path:t.path,message:`expected object at path ${t.path}`}]};break;case"array":if(!(e instanceof xn))return{valid:!1,errors:[{path:t.path,message:`expected array at path ${t.path}`}]};break;case"yorkie.Text":if(!(e instanceof Qn))return{valid:!1,errors:[{path:t.path,message:`expected yorkie.Text at path ${t.path}`}]};break;case"yorkie.Tree":if(!(e instanceof Er))return{valid:!1,errors:[{path:t.path,message:`expected yorkie.Tree at path ${t.path}`}]};break;case"yorkie.Counter":if(!(e instanceof qn))return{valid:!1,errors:[{path:t.path,message:`expected yorkie.Counter at path ${t.path}`}]};break;default:throw new Error(`Unknown rule type: ${t.type}`)}return{valid:!0}}function _Pe(e){switch(e){case"null":return wt.Null;case"boolean":return wt.Boolean;case"integer":return wt.Integer;case"long":return wt.Long;case"double":return wt.Double;case"string":return wt.String;case"bytes":return wt.Bytes;case"date":return wt.Date;default:throw new Error(`Unknown primitive type: ${e}`)}}function $Pe(e,t){return e instanceof Vt&&e.getType()===_Pe(t.type)?{valid:!0}:{valid:!1,errors:[{path:t.path,message:`expected ${t.type} at path ${t.path}`}]}}const zPe="yorkie-devtools-panel",VPe="yorkie-devtools-sdk";function UPe(e){return[dn.StatusChanged,dn.Snapshot,dn.LocalChange,dn.RemoteChange,dn.Initialized,dn.Watched,dn.Unwatched,dn.PresenceChanged].includes(e.type)}function HPe(e){return e.every(UPe)}let fu="disconnected";const nS=new Map,vh=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=vh);function lh(e,t){(t?.force||fu!=="disconnected")&&window.postMessage({source:VPe,...e},"*")}function GPe(e){if(!e.isEnableDevtools()||typeof window>"u"||nS.has(e.getKey()))return;vh.set(e.getKey(),[]);const t=e.subscribe("all",n=>{HPe(n)&&(vh.get(e.getKey()).push(n),fu==="synced"&&lh({msg:"doc::sync::partial",docKey:e.getKey(),event:n}))});nS.set(e.getKey(),[t]),lh({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",n=>{if(n.data?.source!==zPe)return;switch(n.data.msg){case"devtools::connect":if(fu!=="disconnected")break;fu="connected",lh({msg:"doc::available",docKey:e.getKey()}),be.info(`[YD] Devtools connected. Doc: ${e.getKey()}`);break;case"devtools::disconnect":fu="disconnected",be.info(`[YD] Devtools disconnected. Doc: ${e.getKey()}`);break;case"devtools::subscribe":fu="synced",lh({msg:"doc::sync::full",docKey:e.getKey(),events:vh.get(e.getKey())}),be.info(`[YD] Devtools subscribed. Doc: ${e.getKey()}`);break}})}var qa=(e=>(e.Detached="detached",e.Attached="attached",e.Removed="removed",e))(qa||{}),dn=(e=>(e.StatusChanged="status-changed",e.ConnectionChanged="connection-changed",e.SyncStatusChanged="sync-status-changed",e.Snapshot="snapshot",e.LocalChange="local-change",e.RemoteChange="remote-change",e.Initialized="initialized",e.Watched="watched",e.Unwatched="unwatched",e.PresenceChanged="presence-changed",e.AuthError="auth-error",e))(dn||{}),o4=(e=>(e.Connected="connected",e.Disconnected="disconnected",e))(o4||{}),s4=(e=>(e.Synced="synced",e.SyncFailed="sync-failed",e))(s4||{});class to{key;status;opts;maxSizeLimit;schemaRules;changeID;checkpoint;localChanges;root;presences;clone;internalHistory;isUpdating;onlineClients;eventStream;eventStreamObserver;history;constructor(t,n){this.key=t,this.status="detached",this.opts=n||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=LNe,this.checkpoint=FNe,this.localChanges=[],this.root=Kc.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new PPe,this.isUpdating=!1,this.eventStream=KD(r=>this.eventStreamObserver=r),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},GPe(this)}update(t,n){if(this.getStatus()==="removed")throw new j(G.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const r=this.changeID.getActorID(),i=xc.create(this.changeID,this.clone.root,this.clone.presences.get(r)||{},n);try{const l=Q5(i,this.clone.root.getObject());this.presences.has(r)||this.clone.presences.set(r,{}),this.isUpdating=!0,t(l,new eS(i,this.clone.presences.get(r)))}catch(l){throw this.clone=void 0,l}finally{this.isUpdating=!1}const o=this.getSchemaRules();if(!i.isPresenceOnlyChange()&&o.length){const l=OPe(this.clone?.root.getObject(),o);if(!l.valid)throw this.clone=void 0,new j(G.ErrDocumentSchemaValidationFailed,`schema validation failed: ${l.errors?.map(c=>c.message).join(", ")}`)}const u=TNe(this.clone?.root.getDocSize());if(!i.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<u)throw this.clone=void 0,new j(G.ErrDocumentSizeExceedsLimit,`document size exceeded: ${u} > ${this.maxSizeLimit}`);if(i.hasChange()){be.isEnabled(Zn.Trivial)&&be.trivial(`trying to update a local change: ${this.toJSON()}`);const l=i.toChange(),{opInfos:c,reverseOps:f}=l.execute(this.root,this.presences,Ft.Local);for(const v of l.getOperations())v instanceof ga&&this.internalHistory.reconcileCreatedAt(v.getCreatedAt(),v.getValue().getCreatedAt());const g=i.getReversePresence();g&&f.push({type:"presence",value:g}),this.localChanges.push(l),f.length&&this.internalHistory.pushUndo(f),c.length&&this.internalHistory.clearRedo(),this.changeID=i.getNextID();const m=[];c.length&&m.push({type:"local-change",source:Ft.Local,value:{message:l.getMessage()||"",operations:c,actor:r,clientSeq:l.getID().getClientSeq(),serverSeq:l.getID().getServerSeq()},rawChange:this.isEnableDevtools()?l.toStruct():void 0}),l.hasPresenceChange()&&m.push({type:"presence-changed",source:Ft.Local,value:{clientID:r,presence:this.getPresence(r)}}),this.publish(m),be.isEnabled(Zn.Trivial)&&be.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(t,n,r,i){if(typeof t=="string"){if(typeof n!="function")throw new j(G.ErrInvalidArgument,"Second argument must be a callback function");if(t==="presence"){const l=n;return this.eventStream.subscribe(c=>{for(const f of c)f.type!=="initialized"&&f.type!=="watched"&&f.type!=="unwatched"&&f.type!=="presence-changed"||l(f)},r,i)}if(t==="my-presence"){const l=n;return this.eventStream.subscribe(c=>{for(const f of c)f.type!=="initialized"&&f.type!=="presence-changed"||f.type==="presence-changed"&&f.value.clientID!==this.changeID.getActorID()||l(f)},r,i)}if(t==="others"){const l=n;return this.eventStream.subscribe(c=>{for(const f of c)f.type!=="watched"&&f.type!=="unwatched"&&f.type!=="presence-changed"||f.value.clientID!==this.changeID.getActorID()&&l(f)},r,i)}if(t==="connection"){const l=n;return this.eventStream.subscribe(c=>{for(const f of c)f.type==="connection-changed"&&l(f)},r,i)}if(t==="status"){const l=n;return this.eventStream.subscribe(c=>{for(const f of c)f.type==="status-changed"&&l(f)},r,i)}if(t==="sync"){const l=n;return this.eventStream.subscribe(c=>{for(const f of c)f.type==="sync-status-changed"&&l(f)},r,i)}if(t==="auth-error"){const l=n;return this.eventStream.subscribe(c=>{for(const f of c)f.type==="auth-error"&&l(f)},r)}if(t==="all"){const l=n;return this.eventStream.subscribe(l,r,i)}const o=t,u=n;return this.eventStream.subscribe(l=>{for(const c of l){if(c.type!=="local-change"&&c.type!=="remote-change")continue;const f=[];for(const g of c.value.operations)this.isSameElementOrChildOf(g.path,o)&&f.push(g);f.length&&u({...c,value:{...c.value,operations:f}})}},r,i)}if(typeof t=="function"){const o=t,u=n,l=r;return this.eventStream.subscribe(c=>{for(const f of c)f.type!=="snapshot"&&f.type!=="local-change"&&f.type!=="remote-change"||o(f)},u,l)}throw new j(G.ErrInvalidArgument,`"${t}" is not a valid`)}publish(t){this.eventStreamObserver&&this.eventStreamObserver.next(t)}applyChangePack(t){t.hasSnapshot()?this.applySnapshot(t.getCheckpoint().getServerSeq(),t.getVersionVector(),t.getSnapshot(),t.getCheckpoint().getClientSeq()):(this.applyChanges(t.getChanges(),Ft.Remote),this.removePushedLocalChanges(t.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(t.getCheckpoint()),t.hasSnapshot()||this.garbageCollect(t.getVersionVector()),t.getIsRemoved()&&this.applyStatus("removed"),be.isEnabled(Zn.Trivial)&&be.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:ei(this.presences)})}createChangePack(){const t=Array.from(this.localChanges),n=this.checkpoint.increaseClientSeq(t.length);return Of.create(this.key,n,!1,t,this.getVersionVector())}setActor(t){for(const n of this.localChanges)n.setActor(t);this.changeID=this.changeID.setActor(t)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const t=xc.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return Q5(t,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(t){this.maxSizeLimit=t}getSchemaRules(){return this.schemaRules}setSchemaRules(t){this.schemaRules=t}garbageCollect(t){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(t),this.root.garbageCollect(t))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(t,n,r,i=-1){const{root:o,presences:u}=Bt.bytesToSnapshot(r);this.root=new Kc(o),this.presences=u,this.changeID=this.changeID.setClocks(n.maxLamport(),n),this.clone=void 0,this.removePushedLocalChanges(i),this.applyChanges(this.localChanges,Ft.Local),this.clearHistory(),this.publish([{type:"snapshot",source:Ft.Remote,value:{serverSeq:t.toString(),snapshot:this.isEnableDevtools()?Bt.bytesToHex(r):void 0,snapshotVector:Bt.versionVectorToHex(n)}}])}clearHistory(){this.internalHistory.clearRedo(),this.internalHistory.clearUndo()}applyChanges(t,n){be.isEnabled(Zn.Debug)&&be.debug(`trying to apply ${t.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),be.isEnabled(Zn.Trivial)&&be.trivial(t.map(r=>`${r.getID().toTestString()}	${r.toTestString()}`).join(`
`));for(const r of t)this.applyChange(r,n);be.isEnabled(Zn.Debug)&&be.debug(`after appling ${t.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(t,n){this.ensureClone(),t.execute(this.clone.root,this.clone.presences,n);const r=[],i=t.getID().getActorID();if(t.hasPresenceChange()&&this.onlineClients.has(i)){const l=t.getPresenceChange();switch(l.type){case Bi.Put:r.push(this.presences.has(i)?{type:"presence-changed",source:n,value:{clientID:i,presence:l.presence}}:{type:"watched",source:Ft.Remote,value:{clientID:i,presence:l.presence}});break;case Bi.Clear:r.push({type:"unwatched",source:Ft.Remote,value:{clientID:i,presence:this.getPresence(i)}}),this.removeOnlineClient(i);break}}const{opInfos:o,operations:u}=t.execute(this.root,this.presences,n);for(const l of u)if(l instanceof po){const[c,f]=l.normalizePos(this.root);this.internalHistory.reconcileTextEdit(l.getParentCreatedAt(),c,f,l.getContent()?.length??0)}if(this.changeID=this.changeID.syncClocks(t.getID()),o.length){const l=this.isEnableDevtools()?t.toStruct():void 0;r.push(n===Ft.Remote?{type:"remote-change",source:n,value:{actor:i,clientSeq:t.getID().getClientSeq(),serverSeq:t.getID().getServerSeq(),message:t.getMessage()||"",operations:o},rawChange:l}:{type:"local-change",source:n,value:{actor:i,clientSeq:t.getID().getClientSeq(),serverSeq:t.getID().getServerSeq(),message:t.getMessage()||"",operations:o},rawChange:l})}r.length&&this.publish(r)}applyWatchInit(t){const n=new Set;for(const r of t)r!==this.changeID.getActorID()&&n.add(r);this.setOnlineClients(n);for(const r of Array.from(this.presences.keys()))r!==this.changeID.getActorID()&&!n.has(r)&&this.presences.delete(r);this.publish([{type:"initialized",source:Ft.Local,value:this.getPresences()}])}applyDocEvent(t,n){const r=[];if(t===Vh.DOCUMENT_WATCHED){if(this.onlineClients.has(n)&&this.hasPresence(n))return;this.addOnlineClient(n),this.hasPresence(n)&&r.push({type:"watched",source:Ft.Remote,value:{clientID:n,presence:this.getPresence(n)}})}else if(t===Vh.DOCUMENT_UNWATCHED){const i=this.getPresence(n);this.removeOnlineClient(n),this.presences.delete(n),i&&r.push({type:"unwatched",source:Ft.Remote,value:{clientID:n,presence:i}})}r.length&&this.publish(r)}applyStatus(t){this.status=t,t==="detached"&&this.setActor(j2),this.publish([{source:t==="removed"?Ft.Remote:Ft.Local,type:"status-changed",value:t==="attached"?{status:t,actorID:this.changeID.getActorID()}:{status:t}}])}applyDocEventsForReplay(t){for(const n of t){if(n.type==="status-changed"){this.applyStatus(n.value.status),n.value.status==="attached"&&this.setActor(n.value.actorID);continue}if(n.type==="snapshot"){const{snapshot:r,serverSeq:i,snapshotVector:o}=n.value;if(!r)continue;this.applySnapshot(BigInt(i),Bt.hexToVersionVector(o),Bt.hexToBytes(r));continue}if(n.type==="local-change"||n.type==="remote-change"){if(!n.rawChange)continue;const r=Gu.fromStruct(n.rawChange);this.applyChange(r,n.source)}if(n.type==="initialized"){const r=new Set;for(const{clientID:i,presence:o}of n.value)r.add(i),this.presences.set(i,o);this.setOnlineClients(r)}else if(n.type==="watched"){const{clientID:r,presence:i}=n.value;this.addOnlineClient(r),this.presences.set(r,i)}else if(n.type==="unwatched"){const{clientID:r}=n.value;this.removeOnlineClient(r),this.presences.delete(r)}else if(n.type==="presence-changed"){const{clientID:r,presence:i}=n.value;this.presences.set(r,i)}}}getValueByPath(t){if(!t.startsWith("$"))throw new j(G.ErrInvalidArgument,'path must start with "$"');const n=t.split(".");n.shift();let r=this.getRoot();for(const i of n)if(r=r[i],!r)return;return r}setOnlineClients(t){this.onlineClients=t}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(t){this.onlineClients.add(t)}removeOnlineClient(t){this.onlineClients.delete(t)}hasPresence(t){return this.presences.has(t)}getMyPresence(){if(this.status!=="attached")return{};const t=this.presences.get(this.changeID.getActorID());return t?ei(t):{}}getOthersPresences(){const t=[],n=this.changeID.getActorID();for(const r of this.onlineClients)r!==n&&this.presences.has(r)&&t.push({clientID:r,presence:ei(this.presences.get(r))});return t}getPresence(t){if(t===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(t))return;const n=this.presences.get(t);return n?ei(n):void 0}getPresences(){const t=[];t.push({clientID:this.changeID.getActorID(),presence:ei(this.getMyPresence())});for(const n of this.onlineClients)this.presences.has(n)&&t.push({clientID:n,presence:ei(this.presences.get(n))});return t}getPresenceForTest(t){const n=this.presences.get(t);return n?ei(n):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const t=this.getChangeID().getActorID();return this.getPresences().filter(n=>n.clientID!==t).sort((n,r)=>n.clientID>r.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(t,n){if(n===t)return!0;const r=t.split(".");return n.split(".").every((i,o)=>i===r[o])}removePushedLocalChanges(t){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>t);)this.localChanges.shift()}executeUndoRedo(t){if(this.isUpdating)throw new j(G.ErrRefused,`${t?"Undo":"Redo"} is not allowed during an update`);const n=t?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!n)throw new j(G.ErrRefused,`There is no operation to be ${t?"undone":"redone"}`);this.ensureClone();const r=xc.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const g of n){if(!(g instanceof fi)){new eS(r,ei(this.clone.presences.get(this.changeID.getActorID()))).set(g.value,{addToHistory:!0});continue}const m=r.issueTimeTicket();if(g.setExecutedAt(m),g instanceof ga){const v=g.getCreatedAt();g.getValue().setCreatedAt(m),this.internalHistory.reconcileCreatedAt(v,m)}else if(g instanceof Co){const v=g.getValue().getCreatedAt();g.getValue().setCreatedAt(m),this.internalHistory.reconcileCreatedAt(v,m)}r.push(g)}const i=r.toChange();i.execute(this.clone.root,this.clone.presences,Ft.UndoRedo);const{opInfos:o,reverseOps:u}=i.execute(this.root,this.presences,Ft.UndoRedo),l=r.getReversePresence();if(l&&u.push({type:"presence",value:l}),u.length&&(t?this.internalHistory.pushRedo(u):this.internalHistory.pushUndo(u)),!i.hasPresenceChange()&&!o.length)return;this.localChanges.push(i),this.changeID=r.getNextID();const c=this.changeID.getActorID(),f=[];o.length&&f.push({type:"local-change",source:Ft.UndoRedo,value:{message:i.getMessage()||"",operations:o,actor:c,clientSeq:i.getID().getClientSeq(),serverSeq:i.getID().getServerSeq()},rawChange:this.isEnableDevtools()?i.toStruct():void 0}),i.hasPresenceChange()&&f.push({type:"presence-changed",source:Ft.UndoRedo,value:{clientID:c,presence:this.getPresence(c)}}),this.publish(f)}}class rS{resource;resourceID;syncMode;changeEventReceived;lastHeartbeatTime;reconnectStreamDelay;cancelled;watchStream;watchLoopTimerID;watchAbortController;constructor(t,n,r,i){this.reconnectStreamDelay=t,this.resource=n,this.resourceID=r,this.syncMode=i,this.changeEventReceived=i!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(t){this.syncMode=t}needRealtimeSync(){return this.syncMode===cc.RealtimeSyncOff?!1:this.syncMode===cc.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==cc.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(t){return this.resource instanceof to?this.needRealtimeSync():this.syncMode===cc.Manual?!1:Date.now()-this.lastHeartbeatTime>=t}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(t){const n=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await t(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(n,this.reconnectStreamDelay))})}catch{}};await n()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function jPe(e,t){let n=t;return{authInterceptor:o=>async u=>(e&&u.header.set("x-api-key",e),n&&u.header.set("authorization",n),await o(u)),setToken:o=>{n=o}}}const KPe="@yorkie-js/sdk",YPe="0.6.48",iS={name:KPe,version:YPe};function WPe(e){return t=>async n=>(e?n.header.set("x-yorkie-user-agent",e):n.header.set("x-yorkie-user-agent",iS.name+"/"+iS.version),await t(n))}const ZPe=e=>{try{if(JSON.stringify(e)===void 0)return!1}catch{return!1}return!0};var lc=(e=>(e.Detached="detached",e.Attached="attached",e.Removed="removed",e))(lc||{}),vu=(e=>(e.PresenceChanged="presence-changed",e.Initialized="initialized",e.Broadcast="broadcast",e.LocalBroadcast="local-broadcast",e.AuthError="auth-error",e))(vu||{});const oc=".";class Qa{key;status;actorID;sessionID;sessionCount;seq;eventStream;eventStreamObserver;constructor(t){this.validateChannelKey(t),this.key=t,this.status="detached",this.sessionCount=0,this.seq=0,this.eventStream=KD(n=>this.eventStreamObserver=n)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(oc)[0]}getStatus(){return this.status}applyStatus(t){this.status=t}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(t){this.actorID=t}getSessionID(){return this.sessionID}setSessionID(t){this.sessionID=t}getSessionCount(){return this.sessionCount}updateSessionCount(t,n){return n===0||n>this.seq?(this.sessionCount=t,this.seq=n,!0):!1}hasLocalChanges(){return!1}subscribe(t,n){if(typeof t=="function")return this.eventStream.subscribe(t);const r=t,i=n;if(!i)throw new Error("callback is required when subscribing to specific event type or topic");if(r==="broadcast")return this.eventStream.subscribe(u=>{u.type==="broadcast"&&i(u)});if(r==="local-broadcast")return this.eventStream.subscribe(u=>{u.type==="local-broadcast"&&i(u)});if(r==="auth-error")return this.eventStream.subscribe(u=>{u.type==="auth-error"&&i(u)});if(r==="presence")return this.eventStream.subscribe(u=>{(u.type==="presence-changed"||u.type==="initialized")&&i(u)});if(r==="all")return this.eventStream.subscribe(i);const o=r;return this.eventStream.subscribe(u=>{u.type==="broadcast"&&u.topic===o&&i(u)})}publish(t){this.eventStreamObserver&&this.eventStreamObserver.next(t)}broadcast(t,n,r){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:t,payload:n,options:r})}validateChannelKey(t){if(t==="")throw new Error("channel key must not be empty");if(t.includes(" "))throw new Error("channel key must not contain a whitespace");if(t.startsWith(oc))throw new Error("channel key must not start with a period");if(t.endsWith(oc))throw new Error("channel key must not end with a period");if(t.includes(`${oc}${oc}`))throw new Error("channel key path must not empty")}}function aS(e,t,n){const{stream:r,ac:i,isInit:o,onResponse:u,onStreamEnd:l,onError:c,onDisconnect:f,shouldIgnoreError:g}=e;return new Promise((m,v)=>{(async()=>{try{let b=!1;for await(const C of r)u(C),!b&&o(C)&&(b=!0,m([r,i]));l(),f()}catch(b){if(g&&g(b))return;c(b),await t(b)?f():n(),v(b)}})()})}var cc=(e=>(e.Manual="manual",e.Realtime="realtime",e.RealtimePushOnly="realtime-pushonly",e.RealtimeSyncOff="realtime-syncoff",e))(cc||{});const du={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},e1={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class ZD{id;key;metadata;status;attachmentMap;apiKey;authTokenInjector;conditions;syncLoopDuration;reconnectStreamDelay;retrySyncLoopDelay;channelHeartbeatInterval;rpcClient;setAuthToken;taskQueue;processing=!1;keepalive=!1;constructor(t){t=t||du;const n=t.rpcAddr||du.rpcAddr;this.key=t.key||jD(),this.metadata=t.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=t.apiKey||"",this.authTokenInjector=t.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=t.syncLoopDuration??du.syncLoopDuration,this.reconnectStreamDelay=t.reconnectStreamDelay??du.reconnectStreamDelay,this.retrySyncLoopDelay=t.retrySyncLoopDelay??du.retrySyncLoopDelay,this.channelHeartbeatInterval=t.channelHeartbeatInterval??du.channelHeartbeatInterval;const{authInterceptor:r,setToken:i}=jPe(this.apiKey);this.setAuthToken=i,this.rpcClient=vMe(CNe,UMe({baseUrl:n,interceptors:[r,WPe(t?.userAgent)],fetch:(o,u)=>fetch(o,{...u,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const t=await this.authTokenInjector();this.setAuthToken(t)}return this.enqueueTask(async()=>{try{const t=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=t.clientId,this.status="activated",this.runSyncLoop(),be.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(t){throw be.error(`[AC] c:"${this.getKey()}" err :`,t),await this.handleConnectError(t),t}})}deactivate(t={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const n=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:t.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),be.info(`[DC] c"${this.getKey()}" deactivated`)}catch(r){throw be.error(`[DC] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}};if(t.keepalive){this.keepalive=!0;const r=n();return this.keepalive=!1,r}return this.enqueueTask(n)}has(t){return this.attachmentMap.has(t)}attach(t,n){return t instanceof Qa?this.attachChannel(t,n):this.attachDocument(t,n)}attachDocument(t,n={}){if(!this.isActive())throw new j(G.ErrClientNotActivated,`${this.key} is not active`);if(t.getStatus()!==qa.Detached)throw new j(G.ErrNotDetached,`${t.getKey()} is not detached`);t.setActor(this.id),t.update((i,o)=>o.set(n.initialPresence||{}));const r=n.syncMode??"realtime";return this.enqueueTask(async()=>{try{const i=await this.rpcClient.attachDocument({clientId:this.id,changePack:Bt.toChangePack(t.createChangePack()),schemaKey:n.schema},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}});(i.maxSizePerDocument??0)>0&&t.setMaxSizePerDocument(i.maxSizePerDocument),i.schemaRules.length>0&&t.setSchemaRules(Bt.fromSchemaRules(i.schemaRules));const u=Bt.fromChangePack(i.changePack);if(t.applyChangePack(u),t.getStatus()===qa.Removed)return t;t.applyStatus(qa.Attached),this.attachmentMap.set(t.getKey(),new rS(this.reconnectStreamDelay,t,i.documentId,r)),r!=="manual"&&await this.runWatchLoop(t.getKey()),be.info(`[AD] c:"${this.getKey()}" attaches d:"${t.getKey()}"`);const l=t.getRootObject();if(n.initialRoot){const c=n.initialRoot;t.update(f=>{for(const[g,m]of Object.entries(c))if(!l.has(g)){const v=g;f[v]=m}})}return t}catch(i){throw be.error(`[AD] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}})}detach(t,n){return t instanceof Qa?this.detachChannel(t):this.detachDocument(t,n)}detachDocument(t,n={keepalive:!1}){if(!this.isActive())throw new j(G.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(t.getKey());if(!r)throw new j(G.ErrNotAttached,`${t.getKey()} is not attached`);t.update((o,u)=>u.clear());const i=async()=>{try{const o=await this.rpcClient.detachDocument({clientId:this.id,documentId:r.resourceID,changePack:Bt.toChangePack(t.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}),u=Bt.fromChangePack(o.changePack);return t.applyChangePack(u),t.getStatus()!==qa.Removed&&t.applyStatus(qa.Detached),this.detachInternal(t.getKey()),be.info(`[DD] c:"${this.getKey()}" detaches d:"${t.getKey()}"`),t}catch(o){throw be.error(`[DD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}};if(n.keepalive){this.keepalive=!0;const o=i();return this.keepalive=!1,o}return this.enqueueTask(i)}async attachChannel(t,n={}){if(!this.isActive())throw new j(G.ErrClientNotActivated,`${this.key} is not active`);if(t.getStatus()!==lc.Detached)throw new j(G.ErrNotDetached,`${t.getKey()} is not detached`);t.setActor(this.id);const r=async()=>{try{const i=await this.rpcClient.attachChannel({clientId:this.id,channelKey:t.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${t.getFirstKeyPath()}`}});t.setSessionID(i.sessionId),t.updateSessionCount(Number(i.sessionCount),0),t.applyStatus(lc.Attached);const o=n.isRealtime!==!1?"realtime":"manual",u=new rS(this.reconnectStreamDelay,t,i.sessionId,o);return t.subscribe("local-broadcast",l=>{const{topic:c,payload:f,options:g}=l;this.broadcast(t.getKey(),c,f,g).catch(m=>{g?.error&&g.error(m),be.error(`[BC] c:"${this.getKey()}" failed: ${m}`)})}),this.attachmentMap.set(t.getKey(),u),o==="realtime"&&await this.runWatchLoop(t.getKey()),be.info(`[AP] c:"${this.getKey()}" attaches p:"${t.getKey()}" mode:${o} count:${t.getSessionCount()}`),t}catch(i){throw be.error(`[AP] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};return this.enqueueTask(r)}async detachChannel(t){if(!this.isActive())throw new j(G.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(t.getKey()))throw new j(G.ErrNotAttached,`${t.getKey()} is not attached`);const n=async()=>{try{const r=await this.rpcClient.detachChannel({clientId:this.id,channelKey:t.getKey(),sessionId:t.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${t.getFirstKeyPath()}`}});return t.updateSessionCount(Number(r.sessionCount),0),t.applyStatus(lc.Detached),this.detachInternal(t.getKey()),be.info(`[DP] c:"${this.getKey()}" detaches p:"${t.getKey()}" count:${t.getSessionCount()}`),t}catch(r){throw be.error(`[DP] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}};return this.enqueueTask(n)}async changeSyncMode(t,n){if(!this.isActive())throw new j(G.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(t.getKey());if(!r)throw new j(G.ErrNotAttached,`${t.getKey()} is not attached`);const i=r.syncMode;return i===n?t:(r.changeSyncMode(n),n==="manual"?(r.cancelWatchStream(),t):(n==="realtime"&&(r.changeEventReceived=!0),i==="manual"&&await this.runWatchLoop(t.getKey()),t))}sync(t){if(!this.isActive())throw new j(G.ErrClientNotActivated,`${this.key} is not active`);if(t instanceof Qa){const n=this.attachmentMap.get(t.getKey());if(!n)throw new j(G.ErrNotAttached,`${t.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(n).catch(async r=>{throw be.error(`[SY] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}))}if(t instanceof to){const n=this.attachmentMap.get(t.getKey());if(!n)throw new j(G.ErrNotAttached,`${t.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(n,"realtime").catch(async r=>{throw be.error(`[SY] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}))}return this.enqueueTask(async()=>{const n=[];for(const[,r]of this.attachmentMap)r.syncMode!==void 0&&r.resource instanceof to&&n.push(this.syncInternal(r,r.syncMode));return Promise.all(n).catch(async r=>{throw be.error(`[SY] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r})})}remove(t){if(!this.isActive())throw new j(G.ErrClientNotActivated,`${this.key} is not active`);const n=this.attachmentMap.get(t.getKey());if(!n)throw new j(G.ErrNotAttached,`${t.getKey()} is not attached`);t.setActor(this.id);const r=Bt.toChangePack(t.createChangePack());return r.isRemoved=!0,this.enqueueTask(async()=>{try{const i=await this.rpcClient.removeDocument({clientId:this.id,documentId:n.resourceID,changePack:r},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}),o=Bt.fromChangePack(i.changePack);t.applyChangePack(o),this.detachInternal(t.getKey()),be.info(`[RD] c:"${this.getKey()}" removes d:"${t.getKey()}"`)}catch(i){throw be.error(`[RD] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(t){return this.conditions[t]}async createRevision(t,n,r){if(!this.isActive())throw new j(G.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(t.getKey());if(!i)throw new j(G.ErrNotAttached,`${t.getKey()} is not attached`);const o=async()=>{try{const u=await this.rpcClient.createRevision({clientId:this.id,documentId:i.resourceID,label:n,description:r||""},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}});if(!u.revision)throw new j(G.ErrInvalidArgument,"revision is not returned");return be.info(`[CR] c:"${this.getKey()}" creates revision d:"${t.getKey()}" l:"${n}"`),Bt.toRevisionSummary(u.revision)}catch(u){throw be.error(`[CR] c:"${this.getKey()}" err :`,u),await this.handleConnectError(u),u}};return this.enqueueTask(o)}async listRevisions(t,n){if(!this.isActive())throw new j(G.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(t.getKey());if(!r)throw new j(G.ErrNotAttached,`${t.getKey()} is not attached`);const i=async()=>{try{const o=await this.rpcClient.listRevisions({clientId:this.id,documentId:r.resourceID,pageSize:n?.pageSize||10,offset:n?.offset||0,isForward:n?.isForward??!1},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}});return be.info(`[LR] c:"${this.getKey()}" lists revisions d:"${t.getKey()}" count:${o.revisions.length}`),o.revisions.map(Bt.toRevisionSummary)}catch(o){throw be.error(`[LR] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}};return this.enqueueTask(i)}async getRevision(t,n){if(!this.isActive())throw new j(G.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(t.getKey());if(!r)throw new j(G.ErrNotAttached,`${t.getKey()} is not attached`);const i=async()=>{try{const o=await this.rpcClient.getRevision({clientId:this.id,documentId:r.resourceID,revisionId:n},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}});if(!o.revision)throw new j(G.ErrInvalidArgument,"revision is not returned");return be.info(`[GR] c:"${this.getKey()}" gets revision d:"${t.getKey()}" r:"${n}"`),Bt.toRevisionSummary(o.revision)}catch(o){throw be.error(`[GR] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}};return this.enqueueTask(i)}async restoreRevision(t,n){if(!this.isActive())throw new j(G.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(t.getKey());if(!r)throw new j(G.ErrNotAttached,`${t.getKey()} is not attached`);const i=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,documentId:r.resourceID,revisionId:n},{headers:{"x-shard-key":`${this.apiKey}/${t.getKey()}`}}),be.info(`[RR] c:"${this.getKey()}" restores revision d:"${t.getKey()}" r:"${n}"`)}catch(o){throw be.error(`[RR] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}};return this.enqueueTask(i)}async broadcast(t,n,r,i){if(!this.isActive())throw new j(G.ErrClientNotActivated,`${this.key} is not active`);const o=this.attachmentMap.get(t);if(!o)throw new j(G.ErrNotAttached,`${t} is not attached`);if(!ZPe(r))throw new j(G.ErrInvalidArgument,"payload is not serializable");const u=o.resource,l=i?.maxRetries??e1.maxRetries,c=e1.maxBackoff;let f=0;const g=v=>Math.min(e1.initialRetryInterval*2**v,c),m=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:t,topic:n,payload:new TextEncoder().encode(JSON.stringify(r))},{headers:{"x-shard-key":`${this.apiKey}/${u.getFirstKeyPath()}`}}),be.info(`[BC] c:"${this.getKey()}" broadcasts p:"${t}" t:"${n}"`)}catch(v){if(be.error(`[BC] c:"${this.getKey()}" err:`,v),await this.handleConnectError(v))if(qm(v,G.ErrUnauthenticated)&&o.resource instanceof Qa&&o.resource.publish({type:vu.AuthError,reason:uc(v).reason||"unauthenticated",method:"Broadcast"}),f<l)f++,setTimeout(()=>m(),g(f-1)),be.info(`[BC] c:"${this.getKey()}" retry attempt ${f}/${l}`);else throw be.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),v}});return m()}runSyncLoop(){const t=async()=>{if(!this.isActive()){be.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const n=[];for(const[,r]of this.attachmentMap)r.needSync(this.channelHeartbeatInterval)&&(r.changeEventReceived!==void 0&&(r.changeEventReceived=!1),n.push(this.syncInternal(r,r.syncMode).catch(i=>{throw qm(i,G.ErrUnauthenticated)&&r.resource.publish([{type:dn.AuthError,value:{reason:uc(i).reason,method:"PushPull"}}]),i})));await Promise.all(n),setTimeout(t,this.syncLoopDuration)})}catch(n){be.error(`[SL] c:"${this.getKey()}" sync failed:`,n),await this.handleConnectError(n)?setTimeout(t,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};be.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,t()}async runWatchLoop(t){const n=this.attachmentMap.get(t);if(!n)throw new j(G.ErrNotAttached,`${t} is not attached`);return this.conditions.WatchLoop=!0,n.runWatchLoop(r=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new j(G.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(t))return this.conditions.WatchLoop=!1,Promise.reject(new j(G.ErrNotAttached,`${t} is not attached`));const i=new AbortController;return n.resource instanceof to?this.createDocumentWatchStream(n,t,i,r):n.resource instanceof Qa?this.createChannelWatchStream(n,t,i,r):Promise.reject(new j(G.ErrClientNotActivated,`Unknown resource type for ${t}`))})}createDocumentWatchStream(t,n,r,i){const o=this.rpcClient.watch({clientId:this.id,resources:[{resource:{case:"document",value:{documentId:t.resourceID}}}]},{headers:{"x-shard-key":`${this.apiKey}/${n}`},signal:r.signal});t.resource.publish([{type:dn.ConnectionChanged,value:o4.Connected}]),be.info(`[WD] c:"${this.getKey()}" watches d:"${n}"`),t.changeEventReceived!==void 0&&(t.changeEventReceived=!0);const u=()=>{t.resource.resetOnlineClients(),t.resource.publish([{type:dn.Initialized,source:Ft.Local,value:t.resource.getPresences()}]),t.resource.publish([{type:dn.ConnectionChanged,value:o4.Disconnected}])};return aS({stream:o,ac:r,isInit:l=>l.body.case==="initialization",onResponse:l=>this.handleWatchDocumentResponse(t,l),onStreamEnd:()=>{u(),be.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`)},onError:l=>{u(),be.debug(`[WD] c:"${this.getKey()}" unwatches`),qm(l,G.ErrUnauthenticated)&&t.resource.publish([{type:dn.AuthError,value:{reason:uc(l).reason,method:"Watch"}}])},onDisconnect:i},l=>this.handleConnectError(l),()=>{this.conditions.WatchLoop=!1})}createChannelWatchStream(t,n,r,i){const o=this.rpcClient.watch({clientId:this.id,resources:[{resource:{case:"channel",value:{channelKey:n}}}]},{headers:{"x-shard-key":`${this.apiKey}/${t.resource.getFirstKeyPath()}`},signal:r.signal});return be.info(`[WP] c:"${this.getKey()}" watches p:"${n}"`),aS({stream:o,ac:r,isInit:u=>u.body.case==="initialization",onResponse:u=>this.handleWatchChannelResponse(t,u),onStreamEnd:()=>{be.debug(`[WP] c:"${this.getKey()}" p:"${n}" stream ended`)},onError:u=>{be.debug(`[WP] c:"${this.getKey()}" p:"${n}" err:`,u)},onDisconnect:i,shouldIgnoreError:u=>u instanceof Error&&u.name==="AbortError"?(be.debug(`[WP] c:"${this.getKey()}" p:"${n}" stream aborted`),!0):!1},u=>this.handleConnectError(u),()=>{this.conditions.WatchLoop=!1})}handleWatchChannelResponse(t,n){const r=t.resource;if(n.body.case==="initialization"){for(const i of n.body.value.resourceInits)if(i.init.case==="channelInit"){const{sessionCount:o,seq:u}=i.init.value;r.updateSessionCount(Number(o),Number(u))&&r.publish({type:vu.Initialized,count:Number(o)})}return}if(n.body.case==="event"){const i=n.body.value;if(i.event.case==="channelEvent"){const o=i.event.value.event;if(!o)return;if(o.type===vD.BROADCAST){const u=new TextDecoder;try{const l=JSON.parse(u.decode(o.payload));r.publish({type:vu.Broadcast,clientID:o.publisher,topic:o.topic,payload:l})}catch(l){be.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,l)}return}r.updateSessionCount(Number(o.sessionCount),Number(o.seq))&&r.publish({type:vu.PresenceChanged,count:Number(o.sessionCount)})}}}handleWatchDocumentResponse(t,n){if(n.body.case==="initialization"){for(const r of n.body.value.resourceInits)r.init.case==="documentInit"&&t.resource.applyWatchInit(r.init.value.clientIds);return}if(n.body.case==="event"){const r=n.body.value;if(r.event.case==="docEvent"){const i=r.event.value;if(i.event?.type===Vh.DOCUMENT_CHANGED){t.changeEventReceived!==void 0&&(t.changeEventReceived=!0);return}i.event&&t.resource.applyDocEvent(i.event.type,i.event.publisher)}}}deactivateInternal(){this.status="deactivated";for(const[t,n]of this.attachmentMap)this.detachInternal(t),n.resource instanceof to?n.resource.applyStatus(qa.Detached):n.resource instanceof Qa&&n.resource.applyStatus(lc.Detached)}detachInternal(t){const n=this.attachmentMap.get(t);n&&(n.cancelWatchStream(),n.resource instanceof to&&n.resource.resetOnlineClients(),this.attachmentMap.delete(t))}async syncInternal(t,n){const{resource:r}=t;if(r instanceof Qa){try{const l=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:r.getKey(),sessionId:r.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${r.getFirstKeyPath()}`}});r.updateSessionCount(Number(l.sessionCount),0),t.updateHeartbeatTime(),be.debug(`[RP] c:"${this.getKey()}" refreshes p:"${r.getKey()}" mode:${t.syncMode}`)}catch(l){throw be.error(`[RP] c:"${this.getKey()}" err :`,l),l}return r}const i=r,{resourceID:o}=t,u=i.createChangePack();try{const l=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:o,changePack:Bt.toChangePack(u),pushOnly:n==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}}),c=Bt.fromChangePack(l.changePack);if(c.hasChanges()&&(t.syncMode==="realtime-pushonly"||t.syncMode==="realtime-syncoff"))return i;i.applyChangePack(c),t.resource.publish([{type:dn.SyncStatusChanged,value:s4.Synced}]),i.getStatus()===qa.Removed&&this.detachInternal(i.getKey());const f=i.getKey(),g=c.getChangeSize();return be.info(`[PP] c:"${this.getKey()}" sync d:"${f}", push:${u.getChangeSize()} pull:${g} cp:${c.getCheckpoint().toTestString()}`),i}catch(l){throw i.publish([{type:dn.SyncStatusChanged,value:s4.SyncFailed}]),be.error(`[PP] c:"${this.getKey()}" err :`,l),l}}async handleConnectError(t){if(!(t instanceof mt))return!1;if(t.code===Ye.Canceled||t.code===Ye.Unknown||t.code===Ye.ResourceExhausted||t.code===Ye.Unavailable)return!0;if(hu(t)===G.ErrUnauthenticated){if(this.authTokenInjector){const n=await this.authTokenInjector(uc(t).reason);this.setAuthToken(n)}return!0}return hu(t)===G.ErrTooManySubscribers?(be.error(`[WD] c:"${this.getKey()}" err :`,t.rawMessage),!0):(hu(t)===G.ErrTooManyAttachments||(hu(t)===G.ErrClientNotActivated||hu(t)===G.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(t){return new Promise((n,r)=>{this.taskQueue.push(()=>t().then(n).catch(r)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{be.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}function XD(e){return typeof e=="object"&&e!==null&&e.type==="Text"&&Array.isArray(e.nodes)}function JD(e){return typeof e=="object"&&e!==null&&e.type==="Tree"&&typeof e.root=="object"}function qD(e){return typeof e=="object"&&e!==null&&e.type==="Int"&&typeof e.value=="number"}function QD(e){return typeof e=="object"&&e!==null&&e.type==="Long"&&typeof e.value=="number"}function e7(e){return typeof e=="object"&&e!==null&&e.type==="Date"&&typeof e.value=="string"}function t7(e){return typeof e=="object"&&e!==null&&e.type==="BinData"&&typeof e.value=="string"}function n7(e){return typeof e=="object"&&e!==null&&e.type==="Counter"&&typeof e.value=="object"}function XPe(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&!XD(e)&&!JD(e)&&!qD(e)&&!QD(e)&&!e7(e)&&!t7(e)&&!n7(e)}function JPe(e){try{const t=qPe(e),n=JSON.parse(t);return yh(n)}catch(t){throw new j(G.ErrInvalidArgument,`Failed to parse YSON: ${t instanceof Error?t.message:String(t)}`)}}function qPe(e){let t=e;return t=t.replace(/Counter\((Int|Long)\((-?\d+)\)\)/g,(n,r,i)=>`{"__yson_type":"Counter","__yson_data":{"__yson_type":"${r}","__yson_data":${i}}}`),t=t.replace(/Int\((-?\d+)\)/g,(n,r)=>`{"__yson_type":"Int","__yson_data":${r}}`),t=t.replace(/Long\((-?\d+)\)/g,(n,r)=>`{"__yson_type":"Long","__yson_data":${r}}`),t=t.replace(/Date\("([^"]*)"\)/g,(n,r)=>`{"__yson_type":"Date","__yson_data":"${r}"}`),t=t.replace(/BinData\("([^"]*)"\)/g,(n,r)=>`{"__yson_type":"BinData","__yson_data":"${r}"}`),t=t.replace(/Text\((\[(?:[^[\]]|\[(?:[^[\]]|\[[^[\]]*\])*\])*\])\)/g,(n,r)=>`{"__yson_type":"Text","__yson_data":${r}}`),t=t.replace(/Tree\((\{[^{}]*(?:\{[^{}]*(?:\{[^{}]*\})*[^{}]*\})*[^{}]*\})\)/g,(n,r)=>`{"__yson_type":"Tree","__yson_data":${r}}`),t}function yh(e){if(e===null||typeof e!="object")return e;if(e.__yson_type==="Int"&&typeof e.__yson_data=="number")return{type:"Int",value:e.__yson_data};if(e.__yson_type==="Long"&&typeof e.__yson_data=="number")return{type:"Long",value:e.__yson_data};if(e.__yson_type==="Date"&&typeof e.__yson_data=="string")return{type:"Date",value:e.__yson_data};if(e.__yson_type==="BinData"&&typeof e.__yson_data=="string")return{type:"BinData",value:e.__yson_data};if(e.__yson_type==="Counter"&&typeof e.__yson_data=="object"){const n=yh(e.__yson_data);if(typeof n=="object"&&n!==null&&"type"in n&&(n.type==="Int"||n.type==="Long"))return{type:"Counter",value:n};throw new j(G.ErrInvalidArgument,"Counter must contain Int or Long")}if(e.__yson_type==="Text"&&Array.isArray(e.__yson_data))return{type:"Text",nodes:e.__yson_data.map(n=>QPe(n))};if(e.__yson_type==="Tree"&&typeof e.__yson_data=="object")return{type:"Tree",root:r7(e.__yson_data)};if(Array.isArray(e))return e.map(n=>yh(n));const t={};for(const[n,r]of Object.entries(e))t[n]=yh(r);return t}function QPe(e){if(typeof e!="object"||e===null||typeof e.val!="string")throw new j(G.ErrInvalidArgument,"invalid text node format");const t={val:e.val};return e.attrs&&typeof e.attrs=="object"&&(t.attrs=e.attrs),t}function r7(e){if(typeof e!="object"||e===null||typeof e.type!="string")throw new j(G.ErrInvalidArgument,"invalid tree node format");const t={type:e.type};return e.type==="text"&&typeof e.value=="string"?(t.value=e.value,t):(e.attrs&&typeof e.attrs=="object"&&(t.attrs=e.attrs),Array.isArray(e.children)&&(t.children=e.children.map(n=>r7(n))),t)}function eOe(e){return e.nodes.map(t=>t.val).join("")}function tOe(e){return i7(e.root)}function i7(e){const t=e.attrs?Object.entries(e.attrs).map(([r,i])=>` ${r}="${oS(i)}"`).join(""):"";if(e.type==="text"&&e.value!==void 0)return`<${e.type}${t}>${oS(e.value)}</${e.type}>`;if(!e.children||e.children.length===0)return`<${e.type}${t} />`;const n=e.children.map(r=>i7(r)).join("");return`<${e.type}${t}>${n}</${e.type}>`}function oS(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const nOe=Object.freeze(Object.defineProperty({__proto__:null,isBinData:t7,isCounter:n7,isDate:e7,isInt:qD,isLong:QD,isObject:XPe,isText:XD,isTree:JD,parse:JPe,textToString:eOe,treeToXML:tOe},Symbol.toStringTag,{value:"Module"}));Mi.Int,Mi.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:ZD,Document:to,Primitive:Vt,Text:rv,Counter:iv,Tree:sv,Channel:Qa,ChannelEventType:vu,YSON:nOe,LogLevel:Zn,setLogLevel:DPe,IntType:Mi.Int,LongType:Mi.Long});var dc={exports:{}},rOe=dc.exports,sS;function iOe(){return sS||(sS=1,(function(e,t){(function(n,r){{var i=r();e&&e.exports&&(t=e.exports=i),t.randomColor=i}})(rOe,function(){var n=null,r={};x();var i=[],o=function(B){if(B=B||{},B.seed!==void 0&&B.seed!==null&&B.seed===parseInt(B.seed,10))n=B.seed;else if(typeof B.seed=="string")n=k(B.seed);else{if(B.seed!==void 0&&B.seed!==null)throw new TypeError("The seed value must be an integer or string");n=null}var P,_,U;if(B.count!==null&&B.count!==void 0){for(var K=B.count,J=[],te=0;te<B.count;te++)i.push(!1);for(B.count=null;K>J.length;){var fe=o(B);n!==null&&(B.seed=n),J.push(fe)}return B.count=K,J}return P=u(B),_=l(P,B),U=c(P,_,B),f([P,_,U],B)};function u(B){if(i.length>0){var P=M(B.hue),_=b(P),U=(P[1]-P[0])/i.length,K=parseInt((_-P[0])/U);i[K]===!0?K=(K+2)%i.length:i[K]=!0;var J=(P[0]+K*U)%359,te=(P[0]+(K+1)*U)%359;return P=[J,te],_=b(P),_<0&&(_=360+_),_}else{var P=m(B.hue);return _=b(P),_<0&&(_=360+_),_}}function l(B,P){if(P.hue==="monochrome")return 0;if(P.luminosity==="random")return b([0,100]);var _=v(B),U=_[0],K=_[1];switch(P.luminosity){case"bright":U=55;break;case"dark":U=K-10;break;case"light":K=55;break}return b([U,K])}function c(B,P,_){var U=g(B,P),K=100;switch(_.luminosity){case"dark":K=U+20;break;case"light":U=(K+U)/2;break;case"random":U=0,K=100;break}return b([U,K])}function f(B,P){switch(P.format){case"hsvArray":return B;case"hslArray":return N(B);case"hsl":var _=N(B);return"hsl("+_[0]+", "+_[1]+"%, "+_[2]+"%)";case"hsla":var U=N(B),te=P.alpha||Math.random();return"hsla("+U[0]+", "+U[1]+"%, "+U[2]+"%, "+te+")";case"rgbArray":return D(B);case"rgb":var K=D(B);return"rgb("+K.join(", ")+")";case"rgba":var J=D(B),te=P.alpha||Math.random();return"rgba("+J.join(", ")+", "+te+")";default:return C(B)}}function g(B,P){for(var _=y(B).lowerBounds,U=0;U<_.length-1;U++){var K=_[U][0],J=_[U][1],te=_[U+1][0],fe=_[U+1][1];if(P>=K&&P<=te){var Ee=(fe-J)/(te-K),Y=J-Ee*K;return Ee*P+Y}}return 0}function m(B){if(typeof parseInt(B)=="number"){var P=parseInt(B);if(P<360&&P>0)return[P,P]}if(typeof B=="string"){if(r[B]){var _=r[B];if(_.hueRange)return _.hueRange}else if(B.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var U=T(B)[0];return[U,U]}}return[0,360]}function v(B){return y(B).saturationRange}function y(B){B>=334&&B<=360&&(B-=360);for(var P in r){var _=r[P];if(_.hueRange&&B>=_.hueRange[0]&&B<=_.hueRange[1])return r[P]}return"Color not found"}function b(B){if(n===null){var P=.618033988749895,_=Math.random();return _+=P,_%=1,Math.floor(B[0]+_*(B[1]+1-B[0]))}else{var U=B[1]||1,K=B[0]||0;n=(n*9301+49297)%233280;var J=n/233280;return Math.floor(K+J*(U-K))}}function C(B){var P=D(B);function _(K){var J=K.toString(16);return J.length==1?"0"+J:J}var U="#"+_(P[0])+_(P[1])+_(P[2]);return U}function A(B,P,_){var U=_[0][0],K=_[_.length-1][0],J=_[_.length-1][1],te=_[0][1];r[B]={hueRange:P,lowerBounds:_,saturationRange:[U,K],brightnessRange:[J,te]}}function x(){A("monochrome",null,[[0,0],[100,0]]),A("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),A("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),A("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),A("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),A("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),A("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),A("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function D(B){var P=B[0];P===0&&(P=1),P===360&&(P=359),P=P/360;var _=B[1]/100,U=B[2]/100,K=Math.floor(P*6),J=P*6-K,te=U*(1-_),fe=U*(1-J*_),Ee=U*(1-(1-J)*_),Y=256,V=256,W=256;switch(K){case 0:Y=U,V=Ee,W=te;break;case 1:Y=fe,V=U,W=te;break;case 2:Y=te,V=U,W=Ee;break;case 3:Y=te,V=fe,W=U;break;case 4:Y=Ee,V=te,W=U;break;case 5:Y=U,V=te,W=fe;break}var ce=[Math.floor(Y*255),Math.floor(V*255),Math.floor(W*255)];return ce}function T(B){B=B.replace(/^#/,""),B=B.length===3?B.replace(/(.)/g,"$1$1"):B;var P=parseInt(B.substr(0,2),16)/255,_=parseInt(B.substr(2,2),16)/255,U=parseInt(B.substr(4,2),16)/255,K=Math.max(P,_,U),J=K-Math.min(P,_,U),te=K?J/K:0;switch(K){case P:return[60*((_-U)/J%6)||0,te,K];case _:return[60*((U-P)/J+2)||0,te,K];case U:return[60*((P-_)/J+4)||0,te,K]}}function N(B){var P=B[0],_=B[1]/100,U=B[2]/100,K=(2-_)*U;return[P,Math.round(_*U/(K<1?K:2-K)*1e4)/100,K/2*100]}function k(B){for(var P=0,_=0;_!==B.length&&!(P>=Number.MAX_SAFE_INTEGER);_++)P+=B.charCodeAt(_);return P}function M(B){if(isNaN(B)){if(typeof B=="string"){if(r[B]){var _=r[B];if(_.hueRange)return _.hueRange}else if(B.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var U=T(B)[0];return y(U).hueRange}}}else{var P=parseInt(B);if(P<360&&P>0)return y(B).hueRange}return[0,360]}return o})})(dc,dc.exports)),dc.exports}var aOe=iOe();const oOe=Yc(aOe),uS=e=>{e=1831565813+(e|=0)|0;let t=Math.imul(e^e>>>15,1|e);return t=t+Math.imul(t^t>>>7,61|t)^t,((t^t>>>14)>>>0)/4294967296};class sOe{constructor(t){this.dictionaries=void 0,this.length=void 0,this.separator=void 0,this.style=void 0,this.seed=void 0;const{length:n,separator:r,dictionaries:i,style:o,seed:u}=t;this.dictionaries=i,this.separator=r,this.length=n,this.style=o,this.seed=u}generate(){if(!this.dictionaries)throw new Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');if(this.length<=0)throw new Error("Invalid length provided");if(this.length>this.dictionaries.length)throw new Error(`The length cannot be bigger than the number of dictionaries.
Length provided: ${this.length}. Number of dictionaries provided: ${this.dictionaries.length}`);let t=this.seed;return this.dictionaries.slice(0,this.length).reduce((n,r)=>{let i;t?(i=(u=>{if(typeof u=="string"){const l=u.split("").map(f=>f.charCodeAt(0)).reduce((f,g)=>f+g,1),c=Math.floor(Number(l));return uS(c)}return uS(u)})(t),t=4294967296*i):i=Math.random();let o=r[Math.floor(i*r.length)]||"";if(this.style==="lowerCase")o=o.toLowerCase();else if(this.style==="capital"){const[u,...l]=o.split("");o=u.toUpperCase()+l.join("")}else this.style==="upperCase"&&(o=o.toUpperCase());return n?`${n}${this.separator}${o}`:`${o}`},"")}}const lS={separator:"_",dictionaries:[]},uOe=e=>{const t=[...e&&e.dictionaries||lS.dictionaries],n={...lS,...e,length:e&&e.length||t.length,dictionaries:t};if(!e||!e.dictionaries||!e.dictionaries.length)throw new Error('A "dictionaries" array must be provided. This is a breaking change introduced starting from Unique Name Generator v4. Read more about the breaking change here: https://github.com/andreasonny83/unique-names-generator#migration-guide');return new sOe(n).generate()};var lOe=["Aaren","Aarika","Abagael","Abagail","Abbe","Abbey","Abbi","Abbie","Abby","Abbye","Abigael","Abigail","Abigale","Abra","Ada","Adah","Adaline","Adan","Adara","Adda","Addi","Addia","Addie","Addy","Adel","Adela","Adelaida","Adelaide","Adele","Adelheid","Adelice","Adelina","Adelind","Adeline","Adella","Adelle","Adena","Adey","Adi","Adiana","Adina","Adora","Adore","Adoree","Adorne","Adrea","Adria","Adriaens","Adrian","Adriana","Adriane","Adrianna","Adrianne","Adriena","Adrienne","Aeriel","Aeriela","Aeriell","Afton","Ag","Agace","Agata","Agatha","Agathe","Aggi","Aggie","Aggy","Agna","Agnella","Agnes","Agnese","Agnesse","Agneta","Agnola","Agretha","Aida","Aidan","Aigneis","Aila","Aile","Ailee","Aileen","Ailene","Ailey","Aili","Ailina","Ailis","Ailsun","Ailyn","Aime","Aimee","Aimil","Aindrea","Ainslee","Ainsley","Ainslie","Ajay","Alaine","Alameda","Alana","Alanah","Alane","Alanna","Alayne","Alberta","Albertina","Albertine","Albina","Alecia","Aleda","Aleece","Aleen","Alejandra","Alejandrina","Alena","Alene","Alessandra","Aleta","Alethea","Alex","Alexa","Alexandra","Alexandrina","Alexi","Alexia","Alexina","Alexine","Alexis","Alfi","Alfie","Alfreda","Alfy","Ali","Alia","Alica","Alice","Alicea","Alicia","Alida","Alidia","Alie","Alika","Alikee","Alina","Aline","Alis","Alisa","Alisha","Alison","Alissa","Alisun","Alix","Aliza","Alla","Alleen","Allegra","Allene","Alli","Allianora","Allie","Allina","Allis","Allison","Allissa","Allix","Allsun","Allx","Ally","Allyce","Allyn","Allys","Allyson","Alma","Almeda","Almeria","Almeta","Almira","Almire","Aloise","Aloisia","Aloysia","Alta","Althea","Alvera","Alverta","Alvina","Alvinia","Alvira","Alyce","Alyda","Alys","Alysa","Alyse","Alysia","Alyson","Alyss","Alyssa","Amabel","Amabelle","Amalea","Amalee","Amaleta","Amalia","Amalie","Amalita","Amalle","Amanda","Amandi","Amandie","Amandy","Amara","Amargo","Amata","Amber","Amberly","Ambur","Ame","Amelia","Amelie","Amelina","Ameline","Amelita","Ami","Amie","Amii","Amil","Amitie","Amity","Ammamaria","Amy","Amye","Ana","Anabal","Anabel","Anabella","Anabelle","Analiese","Analise","Anallese","Anallise","Anastasia","Anastasie","Anastassia","Anatola","Andee","Andeee","Anderea","Andi","Andie","Andra","Andrea","Andreana","Andree","Andrei","Andria","Andriana","Andriette","Andromache","Andy","Anestassia","Anet","Anett","Anetta","Anette","Ange","Angel","Angela","Angele","Angelia","Angelica","Angelika","Angelina","Angeline","Angelique","Angelita","Angelle","Angie","Angil","Angy","Ania","Anica","Anissa","Anita","Anitra","Anjanette","Anjela","Ann","Ann-marie","Anna","Anna-diana","Anna-diane","Anna-maria","Annabal","Annabel","Annabela","Annabell","Annabella","Annabelle","Annadiana","Annadiane","Annalee","Annaliese","Annalise","Annamaria","Annamarie","Anne","Anne-corinne","Anne-marie","Annecorinne","Anneliese","Annelise","Annemarie","Annetta","Annette","Anni","Annice","Annie","Annis","Annissa","Annmaria","Annmarie","Annnora","Annora","Anny","Anselma","Ansley","Anstice","Anthe","Anthea","Anthia","Anthiathia","Antoinette","Antonella","Antonetta","Antonia","Antonie","Antonietta","Antonina","Anya","Appolonia","April","Aprilette","Ara","Arabel","Arabela","Arabele","Arabella","Arabelle","Arda","Ardath","Ardeen","Ardelia","Ardelis","Ardella","Ardelle","Arden","Ardene","Ardenia","Ardine","Ardis","Ardisj","Ardith","Ardra","Ardyce","Ardys","Ardyth","Aretha","Ariadne","Ariana","Aridatha","Ariel","Ariela","Ariella","Arielle","Arlana","Arlee","Arleen","Arlen","Arlena","Arlene","Arleta","Arlette","Arleyne","Arlie","Arliene","Arlina","Arlinda","Arline","Arluene","Arly","Arlyn","Arlyne","Aryn","Ashely","Ashia","Ashien","Ashil","Ashla","Ashlan","Ashlee","Ashleigh","Ashlen","Ashley","Ashli","Ashlie","Ashly","Asia","Astra","Astrid","Astrix","Atalanta","Athena","Athene","Atlanta","Atlante","Auberta","Aubine","Aubree","Aubrette","Aubrey","Aubrie","Aubry","Audi","Audie","Audra","Audre","Audrey","Audrie","Audry","Audrye","Audy","Augusta","Auguste","Augustina","Augustine","Aundrea","Aura","Aurea","Aurel","Aurelea","Aurelia","Aurelie","Auria","Aurie","Aurilia","Aurlie","Auroora","Aurora","Aurore","Austin","Austina","Austine","Ava","Aveline","Averil","Averyl","Avie","Avis","Aviva","Avivah","Avril","Avrit","Ayn","Bab","Babara","Babb","Babbette","Babbie","Babette","Babita","Babs","Bambi","Bambie","Bamby","Barb","Barbabra","Barbara","Barbara-anne","Barbaraanne","Barbe","Barbee","Barbette","Barbey","Barbi","Barbie","Barbra","Barby","Bari","Barrie","Barry","Basia","Bathsheba","Batsheva","Bea","Beatrice","Beatrisa","Beatrix","Beatriz","Bebe","Becca","Becka","Becki","Beckie","Becky","Bee","Beilul","Beitris","Bekki","Bel","Belia","Belicia","Belinda","Belita","Bell","Bella","Bellanca","Belle","Bellina","Belva","Belvia","Bendite","Benedetta","Benedicta","Benedikta","Benetta","Benita","Benni","Bennie","Benny","Benoite","Berenice","Beret","Berget","Berna","Bernadene","Bernadette","Bernadina","Bernadine","Bernardina","Bernardine","Bernelle","Bernete","Bernetta","Bernette","Berni","Bernice","Bernie","Bernita","Berny","Berri","Berrie","Berry","Bert","Berta","Berte","Bertha","Berthe","Berti","Bertie","Bertina","Bertine","Berty","Beryl","Beryle","Bess","Bessie","Bessy","Beth","Bethanne","Bethany","Bethena","Bethina","Betsey","Betsy","Betta","Bette","Bette-ann","Betteann","Betteanne","Betti","Bettina","Bettine","Betty","Bettye","Beulah","Bev","Beverie","Beverlee","Beverley","Beverlie","Beverly","Bevvy","Bianca","Bianka","Bibbie","Bibby","Bibbye","Bibi","Biddie","Biddy","Bidget","Bili","Bill","Billi","Billie","Billy","Billye","Binni","Binnie","Binny","Bird","Birdie","Birgit","Birgitta","Blair","Blaire","Blake","Blakelee","Blakeley","Blanca","Blanch","Blancha","Blanche","Blinni","Blinnie","Blinny","Bliss","Blisse","Blithe","Blondell","Blondelle","Blondie","Blondy","Blythe","Bobbe","Bobbee","Bobbette","Bobbi","Bobbie","Bobby","Bobbye","Bobette","Bobina","Bobine","Bobinette","Bonita","Bonnee","Bonni","Bonnibelle","Bonnie","Bonny","Brana","Brandais","Brande","Brandea","Brandi","Brandice","Brandie","Brandise","Brandy","Breanne","Brear","Bree","Breena","Bren","Brena","Brenda","Brenn","Brenna","Brett","Bria","Briana","Brianna","Brianne","Bride","Bridget","Bridgette","Bridie","Brier","Brietta","Brigid","Brigida","Brigit","Brigitta","Brigitte","Brina","Briney","Brinn","Brinna","Briny","Brit","Brita","Britney","Britni","Britt","Britta","Brittan","Brittaney","Brittani","Brittany","Britte","Britteny","Brittne","Brittney","Brittni","Brook","Brooke","Brooks","Brunhilda","Brunhilde","Bryana","Bryn","Bryna","Brynn","Brynna","Brynne","Buffy","Bunni","Bunnie","Bunny","Cacilia","Cacilie","Cahra","Cairistiona","Caitlin","Caitrin","Cal","Calida","Calla","Calley","Calli","Callida","Callie","Cally","Calypso","Cam","Camala","Camel","Camella","Camellia","Cami","Camila","Camile","Camilla","Camille","Cammi","Cammie","Cammy","Candace","Candi","Candice","Candida","Candide","Candie","Candis","Candra","Candy","Caprice","Cara","Caralie","Caren","Carena","Caresa","Caressa","Caresse","Carey","Cari","Caria","Carie","Caril","Carilyn","Carin","Carina","Carine","Cariotta","Carissa","Carita","Caritta","Carla","Carlee","Carleen","Carlen","Carlene","Carley","Carlie","Carlin","Carlina","Carline","Carlita","Carlota","Carlotta","Carly","Carlye","Carlyn","Carlynn","Carlynne","Carma","Carmel","Carmela","Carmelia","Carmelina","Carmelita","Carmella","Carmelle","Carmen","Carmencita","Carmina","Carmine","Carmita","Carmon","Caro","Carol","Carol-jean","Carola","Carolan","Carolann","Carole","Carolee","Carolin","Carolina","Caroline","Caroljean","Carolyn","Carolyne","Carolynn","Caron","Carree","Carri","Carrie","Carrissa","Carroll","Carry","Cary","Caryl","Caryn","Casandra","Casey","Casi","Casie","Cass","Cassandra","Cassandre","Cassandry","Cassaundra","Cassey","Cassi","Cassie","Cassondra","Cassy","Catarina","Cate","Caterina","Catha","Catharina","Catharine","Cathe","Cathee","Catherin","Catherina","Catherine","Cathi","Cathie","Cathleen","Cathlene","Cathrin","Cathrine","Cathryn","Cathy","Cathyleen","Cati","Catie","Catina","Catlaina","Catlee","Catlin","Catrina","Catriona","Caty","Caye","Cayla","Cecelia","Cecil","Cecile","Ceciley","Cecilia","Cecilla","Cecily","Ceil","Cele","Celene","Celesta","Celeste","Celestia","Celestina","Celestine","Celestyn","Celestyna","Celia","Celie","Celina","Celinda","Celine","Celinka","Celisse","Celka","Celle","Cesya","Chad","Chanda","Chandal","Chandra","Channa","Chantal","Chantalle","Charil","Charin","Charis","Charissa","Charisse","Charita","Charity","Charla","Charlean","Charleen","Charlena","Charlene","Charline","Charlot","Charlotta","Charlotte","Charmain","Charmaine","Charmane","Charmian","Charmine","Charmion","Charo","Charyl","Chastity","Chelsae","Chelsea","Chelsey","Chelsie","Chelsy","Cher","Chere","Cherey","Cheri","Cherianne","Cherice","Cherida","Cherie","Cherilyn","Cherilynn","Cherin","Cherise","Cherish","Cherlyn","Cherri","Cherrita","Cherry","Chery","Cherye","Cheryl","Cheslie","Chiarra","Chickie","Chicky","Chiquia","Chiquita","Chlo","Chloe","Chloette","Chloris","Chris","Chrissie","Chrissy","Christa","Christabel","Christabella","Christal","Christalle","Christan","Christean","Christel","Christen","Christi","Christian","Christiana","Christiane","Christie","Christin","Christina","Christine","Christy","Christye","Christyna","Chrysa","Chrysler","Chrystal","Chryste","Chrystel","Cicely","Cicily","Ciel","Cilka","Cinda","Cindee","Cindelyn","Cinderella","Cindi","Cindie","Cindra","Cindy","Cinnamon","Cissiee","Cissy","Clair","Claire","Clara","Clarabelle","Clare","Claresta","Clareta","Claretta","Clarette","Clarey","Clari","Claribel","Clarice","Clarie","Clarinda","Clarine","Clarissa","Clarisse","Clarita","Clary","Claude","Claudelle","Claudetta","Claudette","Claudia","Claudie","Claudina","Claudine","Clea","Clem","Clemence","Clementia","Clementina","Clementine","Clemmie","Clemmy","Cleo","Cleopatra","Clerissa","Clio","Clo","Cloe","Cloris","Clotilda","Clovis","Codee","Codi","Codie","Cody","Coleen","Colene","Coletta","Colette","Colleen","Collen","Collete","Collette","Collie","Colline","Colly","Con","Concettina","Conchita","Concordia","Conni","Connie","Conny","Consolata","Constance","Constancia","Constancy","Constanta","Constantia","Constantina","Constantine","Consuela","Consuelo","Cookie","Cora","Corabel","Corabella","Corabelle","Coral","Coralie","Coraline","Coralyn","Cordelia","Cordelie","Cordey","Cordi","Cordie","Cordula","Cordy","Coreen","Corella","Corenda","Corene","Coretta","Corette","Corey","Cori","Corie","Corilla","Corina","Corine","Corinna","Corinne","Coriss","Corissa","Corliss","Corly","Cornela","Cornelia","Cornelle","Cornie","Corny","Correna","Correy","Corri","Corrianne","Corrie","Corrina","Corrine","Corrinne","Corry","Cortney","Cory","Cosetta","Cosette","Costanza","Courtenay","Courtnay","Courtney","Crin","Cris","Crissie","Crissy","Crista","Cristabel","Cristal","Cristen","Cristi","Cristie","Cristin","Cristina","Cristine","Cristionna","Cristy","Crysta","Crystal","Crystie","Cthrine","Cyb","Cybil","Cybill","Cymbre","Cynde","Cyndi","Cyndia","Cyndie","Cyndy","Cynthea","Cynthia","Cynthie","Cynthy","Dacey","Dacia","Dacie","Dacy","Dael","Daffi","Daffie","Daffy","Dagmar","Dahlia","Daile","Daisey","Daisi","Daisie","Daisy","Dale","Dalenna","Dalia","Dalila","Dallas","Daloris","Damara","Damaris","Damita","Dana","Danell","Danella","Danette","Dani","Dania","Danica","Danice","Daniela","Daniele","Daniella","Danielle","Danika","Danila","Danit","Danita","Danna","Danni","Dannie","Danny","Dannye","Danya","Danyelle","Danyette","Daphene","Daphna","Daphne","Dara","Darb","Darbie","Darby","Darcee","Darcey","Darci","Darcie","Darcy","Darda","Dareen","Darell","Darelle","Dari","Daria","Darice","Darla","Darleen","Darlene","Darline","Darlleen","Daron","Darrelle","Darryl","Darsey","Darsie","Darya","Daryl","Daryn","Dasha","Dasi","Dasie","Dasya","Datha","Daune","Daveen","Daveta","Davida","Davina","Davine","Davita","Dawn","Dawna","Dayle","Dayna","Ddene","De","Deana","Deane","Deanna","Deanne","Deb","Debbi","Debbie","Debby","Debee","Debera","Debi","Debor","Debora","Deborah","Debra","Dede","Dedie","Dedra","Dee","Deeann","Deeanne","Deedee","Deena","Deerdre","Deeyn","Dehlia","Deidre","Deina","Deirdre","Del","Dela","Delcina","Delcine","Delia","Delila","Delilah","Delinda","Dell","Della","Delly","Delora","Delores","Deloria","Deloris","Delphine","Delphinia","Demeter","Demetra","Demetria","Demetris","Dena","Deni","Denice","Denise","Denna","Denni","Dennie","Denny","Deny","Denys","Denyse","Deonne","Desdemona","Desirae","Desiree","Desiri","Deva","Devan","Devi","Devin","Devina","Devinne","Devon","Devondra","Devonna","Devonne","Devora","Di","Diahann","Dian","Diana","Diandra","Diane","Diane-marie","Dianemarie","Diann","Dianna","Dianne","Diannne","Didi","Dido","Diena","Dierdre","Dina","Dinah","Dinnie","Dinny","Dion","Dione","Dionis","Dionne","Dita","Dix","Dixie","Dniren","Dode","Dodi","Dodie","Dody","Doe","Doll","Dolley","Dolli","Dollie","Dolly","Dolores","Dolorita","Doloritas","Domeniga","Dominga","Domini","Dominica","Dominique","Dona","Donella","Donelle","Donetta","Donia","Donica","Donielle","Donna","Donnamarie","Donni","Donnie","Donny","Dora","Doralia","Doralin","Doralyn","Doralynn","Doralynne","Dore","Doreen","Dorelia","Dorella","Dorelle","Dorena","Dorene","Doretta","Dorette","Dorey","Dori","Doria","Dorian","Dorice","Dorie","Dorine","Doris","Dorisa","Dorise","Dorita","Doro","Dorolice","Dorolisa","Dorotea","Doroteya","Dorothea","Dorothee","Dorothy","Dorree","Dorri","Dorrie","Dorris","Dorry","Dorthea","Dorthy","Dory","Dosi","Dot","Doti","Dotti","Dottie","Dotty","Dre","Dreddy","Dredi","Drona","Dru","Druci","Drucie","Drucill","Drucy","Drusi","Drusie","Drusilla","Drusy","Dulce","Dulcea","Dulci","Dulcia","Dulciana","Dulcie","Dulcine","Dulcinea","Dulcy","Dulsea","Dusty","Dyan","Dyana","Dyane","Dyann","Dyanna","Dyanne","Dyna","Dynah","Eachelle","Eada","Eadie","Eadith","Ealasaid","Eartha","Easter","Eba","Ebba","Ebonee","Ebony","Eda","Eddi","Eddie","Eddy","Ede","Edee","Edeline","Eden","Edi","Edie","Edin","Edita","Edith","Editha","Edithe","Ediva","Edna","Edwina","Edy","Edyth","Edythe","Effie","Eileen","Eilis","Eimile","Eirena","Ekaterina","Elaina","Elaine","Elana","Elane","Elayne","Elberta","Elbertina","Elbertine","Eleanor","Eleanora","Eleanore","Electra","Eleen","Elena","Elene","Eleni","Elenore","Eleonora","Eleonore","Elfie","Elfreda","Elfrida","Elfrieda","Elga","Elianora","Elianore","Elicia","Elie","Elinor","Elinore","Elisa","Elisabet","Elisabeth","Elisabetta","Elise","Elisha","Elissa","Elita","Eliza","Elizabet","Elizabeth","Elka","Elke","Ella","Elladine","Elle","Ellen","Ellene","Ellette","Elli","Ellie","Ellissa","Elly","Ellyn","Ellynn","Elmira","Elna","Elnora","Elnore","Eloisa","Eloise","Elonore","Elora","Elsa","Elsbeth","Else","Elset","Elsey","Elsi","Elsie","Elsinore","Elspeth","Elsy","Elva","Elvera","Elvina","Elvira","Elwira","Elyn","Elyse","Elysee","Elysha","Elysia","Elyssa","Em","Ema","Emalee","Emalia","Emelda","Emelia","Emelina","Emeline","Emelita","Emelyne","Emera","Emilee","Emili","Emilia","Emilie","Emiline","Emily","Emlyn","Emlynn","Emlynne","Emma","Emmalee","Emmaline","Emmalyn","Emmalynn","Emmalynne","Emmeline","Emmey","Emmi","Emmie","Emmy","Emmye","Emogene","Emyle","Emylee","Engracia","Enid","Enrica","Enrichetta","Enrika","Enriqueta","Eolanda","Eolande","Eran","Erda","Erena","Erica","Ericha","Ericka","Erika","Erin","Erina","Erinn","Erinna","Erma","Ermengarde","Ermentrude","Ermina","Erminia","Erminie","Erna","Ernaline","Ernesta","Ernestine","Ertha","Eryn","Esma","Esmaria","Esme","Esmeralda","Essa","Essie","Essy","Esta","Estel","Estele","Estell","Estella","Estelle","Ester","Esther","Estrella","Estrellita","Ethel","Ethelda","Ethelin","Ethelind","Etheline","Ethelyn","Ethyl","Etta","Etti","Ettie","Etty","Eudora","Eugenia","Eugenie","Eugine","Eula","Eulalie","Eunice","Euphemia","Eustacia","Eva","Evaleen","Evangelia","Evangelin","Evangelina","Evangeline","Evania","Evanne","Eve","Eveleen","Evelina","Eveline","Evelyn","Evey","Evie","Evita","Evonne","Evvie","Evvy","Evy","Eyde","Eydie","Ezmeralda","Fae","Faina","Faith","Fallon","Fan","Fanchette","Fanchon","Fancie","Fancy","Fanechka","Fania","Fanni","Fannie","Fanny","Fanya","Fara","Farah","Farand","Farica","Farra","Farrah","Farrand","Faun","Faunie","Faustina","Faustine","Fawn","Fawne","Fawnia","Fay","Faydra","Faye","Fayette","Fayina","Fayre","Fayth","Faythe","Federica","Fedora","Felecia","Felicdad","Felice","Felicia","Felicity","Felicle","Felipa","Felisha","Felita","Feliza","Fenelia","Feodora","Ferdinanda","Ferdinande","Fern","Fernanda","Fernande","Fernandina","Ferne","Fey","Fiann","Fianna","Fidela","Fidelia","Fidelity","Fifi","Fifine","Filia","Filide","Filippa","Fina","Fiona","Fionna","Fionnula","Fiorenze","Fleur","Fleurette","Flo","Flor","Flora","Florance","Flore","Florella","Florence","Florencia","Florentia","Florenza","Florette","Flori","Floria","Florida","Florie","Florina","Florinda","Floris","Florri","Florrie","Florry","Flory","Flossi","Flossie","Flossy","Flss","Fran","Francene","Frances","Francesca","Francine","Francisca","Franciska","Francoise","Francyne","Frank","Frankie","Franky","Franni","Frannie","Franny","Frayda","Fred","Freda","Freddi","Freddie","Freddy","Fredelia","Frederica","Fredericka","Frederique","Fredi","Fredia","Fredra","Fredrika","Freida","Frieda","Friederike","Fulvia","Gabbey","Gabbi","Gabbie","Gabey","Gabi","Gabie","Gabriel","Gabriela","Gabriell","Gabriella","Gabrielle","Gabriellia","Gabrila","Gaby","Gae","Gael","Gail","Gale","Galina","Garland","Garnet","Garnette","Gates","Gavra","Gavrielle","Gay","Gaye","Gayel","Gayla","Gayle","Gayleen","Gaylene","Gaynor","Gelya","Gena","Gene","Geneva","Genevieve","Genevra","Genia","Genna","Genni","Gennie","Gennifer","Genny","Genovera","Genvieve","George","Georgeanna","Georgeanne","Georgena","Georgeta","Georgetta","Georgette","Georgia","Georgiana","Georgianna","Georgianne","Georgie","Georgina","Georgine","Geralda","Geraldine","Gerda","Gerhardine","Geri","Gerianna","Gerianne","Gerladina","Germain","Germaine","Germana","Gerri","Gerrie","Gerrilee","Gerry","Gert","Gerta","Gerti","Gertie","Gertrud","Gertruda","Gertrude","Gertrudis","Gerty","Giacinta","Giana","Gianina","Gianna","Gigi","Gilberta","Gilberte","Gilbertina","Gilbertine","Gilda","Gilemette","Gill","Gillan","Gilli","Gillian","Gillie","Gilligan","Gilly","Gina","Ginelle","Ginevra","Ginger","Ginni","Ginnie","Ginnifer","Ginny","Giorgia","Giovanna","Gipsy","Giralda","Gisela","Gisele","Gisella","Giselle","Giuditta","Giulia","Giulietta","Giustina","Gizela","Glad","Gladi","Gladys","Gleda","Glen","Glenda","Glenine","Glenn","Glenna","Glennie","Glennis","Glori","Gloria","Gloriana","Gloriane","Glory","Glyn","Glynda","Glynis","Glynnis","Gnni","Godiva","Golda","Goldarina","Goldi","Goldia","Goldie","Goldina","Goldy","Grace","Gracia","Gracie","Grata","Gratia","Gratiana","Gray","Grayce","Grazia","Greer","Greta","Gretal","Gretchen","Grete","Gretel","Grethel","Gretna","Gretta","Grier","Griselda","Grissel","Guendolen","Guenevere","Guenna","Guglielma","Gui","Guillema","Guillemette","Guinevere","Guinna","Gunilla","Gus","Gusella","Gussi","Gussie","Gussy","Gusta","Gusti","Gustie","Gusty","Gwen","Gwendolen","Gwendolin","Gwendolyn","Gweneth","Gwenette","Gwenneth","Gwenni","Gwennie","Gwenny","Gwenora","Gwenore","Gwyn","Gwyneth","Gwynne","Gypsy","Hadria","Hailee","Haily","Haleigh","Halette","Haley","Hali","Halie","Halimeda","Halley","Halli","Hallie","Hally","Hana","Hanna","Hannah","Hanni","Hannie","Hannis","Hanny","Happy","Harlene","Harley","Harli","Harlie","Harmonia","Harmonie","Harmony","Harri","Harrie","Harriet","Harriett","Harrietta","Harriette","Harriot","Harriott","Hatti","Hattie","Hatty","Hayley","Hazel","Heath","Heather","Heda","Hedda","Heddi","Heddie","Hedi","Hedvig","Hedvige","Hedwig","Hedwiga","Hedy","Heida","Heidi","Heidie","Helaina","Helaine","Helen","Helen-elizabeth","Helena","Helene","Helenka","Helga","Helge","Helli","Heloise","Helsa","Helyn","Hendrika","Henka","Henrie","Henrieta","Henrietta","Henriette","Henryetta","Hephzibah","Hermia","Hermina","Hermine","Herminia","Hermione","Herta","Hertha","Hester","Hesther","Hestia","Hetti","Hettie","Hetty","Hilary","Hilda","Hildagard","Hildagarde","Hilde","Hildegaard","Hildegarde","Hildy","Hillary","Hilliary","Hinda","Holli","Hollie","Holly","Holly-anne","Hollyanne","Honey","Honor","Honoria","Hope","Horatia","Hortense","Hortensia","Hulda","Hyacinth","Hyacintha","Hyacinthe","Hyacinthia","Hyacinthie","Hynda","Ianthe","Ibbie","Ibby","Ida","Idalia","Idalina","Idaline","Idell","Idelle","Idette","Ileana","Ileane","Ilene","Ilise","Ilka","Illa","Ilsa","Ilse","Ilysa","Ilyse","Ilyssa","Imelda","Imogen","Imogene","Imojean","Ina","Indira","Ines","Inesita","Inessa","Inez","Inga","Ingaberg","Ingaborg","Inge","Ingeberg","Ingeborg","Inger","Ingrid","Ingunna","Inna","Iolande","Iolanthe","Iona","Iormina","Ira","Irena","Irene","Irina","Iris","Irita","Irma","Isa","Isabel","Isabelita","Isabella","Isabelle","Isadora","Isahella","Iseabal","Isidora","Isis","Isobel","Issi","Issie","Issy","Ivett","Ivette","Ivie","Ivonne","Ivory","Ivy","Izabel","Jacenta","Jacinda","Jacinta","Jacintha","Jacinthe","Jackelyn","Jacki","Jackie","Jacklin","Jacklyn","Jackquelin","Jackqueline","Jacky","Jaclin","Jaclyn","Jacquelin","Jacqueline","Jacquelyn","Jacquelynn","Jacquenetta","Jacquenette","Jacquetta","Jacquette","Jacqui","Jacquie","Jacynth","Jada","Jade","Jaime","Jaimie","Jaine","Jami","Jamie","Jamima","Jammie","Jan","Jana","Janaya","Janaye","Jandy","Jane","Janean","Janeczka","Janeen","Janel","Janela","Janella","Janelle","Janene","Janenna","Janessa","Janet","Janeta","Janetta","Janette","Janeva","Janey","Jania","Janice","Janie","Janifer","Janina","Janine","Janis","Janith","Janka","Janna","Jannel","Jannelle","Janot","Jany","Jaquelin","Jaquelyn","Jaquenetta","Jaquenette","Jaquith","Jasmin","Jasmina","Jasmine","Jayme","Jaymee","Jayne","Jaynell","Jazmin","Jean","Jeana","Jeane","Jeanelle","Jeanette","Jeanie","Jeanine","Jeanna","Jeanne","Jeannette","Jeannie","Jeannine","Jehanna","Jelene","Jemie","Jemima","Jemimah","Jemmie","Jemmy","Jen","Jena","Jenda","Jenelle","Jeni","Jenica","Jeniece","Jenifer","Jeniffer","Jenilee","Jenine","Jenn","Jenna","Jennee","Jennette","Jenni","Jennica","Jennie","Jennifer","Jennilee","Jennine","Jenny","Jeralee","Jere","Jeri","Jermaine","Jerrie","Jerrilee","Jerrilyn","Jerrine","Jerry","Jerrylee","Jess","Jessa","Jessalin","Jessalyn","Jessamine","Jessamyn","Jesse","Jesselyn","Jessi","Jessica","Jessie","Jessika","Jessy","Jewel","Jewell","Jewelle","Jill","Jillana","Jillane","Jillayne","Jilleen","Jillene","Jilli","Jillian","Jillie","Jilly","Jinny","Jo","Jo-ann","Jo-anne","Joan","Joana","Joane","Joanie","Joann","Joanna","Joanne","Joannes","Jobey","Jobi","Jobie","Jobina","Joby","Jobye","Jobyna","Jocelin","Joceline","Jocelyn","Jocelyne","Jodee","Jodi","Jodie","Jody","Joeann","Joela","Joelie","Joell","Joella","Joelle","Joellen","Joelly","Joellyn","Joelynn","Joete","Joey","Johanna","Johannah","Johna","Johnath","Johnette","Johnna","Joice","Jojo","Jolee","Joleen","Jolene","Joletta","Joli","Jolie","Joline","Joly","Jolyn","Jolynn","Jonell","Joni","Jonie","Jonis","Jordain","Jordan","Jordana","Jordanna","Jorey","Jori","Jorie","Jorrie","Jorry","Joscelin","Josee","Josefa","Josefina","Josepha","Josephina","Josephine","Josey","Josi","Josie","Josselyn","Josy","Jourdan","Joy","Joya","Joyan","Joyann","Joyce","Joycelin","Joye","Jsandye","Juana","Juanita","Judi","Judie","Judith","Juditha","Judy","Judye","Juieta","Julee","Juli","Julia","Juliana","Juliane","Juliann","Julianna","Julianne","Julie","Julienne","Juliet","Julieta","Julietta","Juliette","Julina","Juline","Julissa","Julita","June","Junette","Junia","Junie","Junina","Justina","Justine","Justinn","Jyoti","Kacey","Kacie","Kacy","Kaela","Kai","Kaia","Kaila","Kaile","Kailey","Kaitlin","Kaitlyn","Kaitlynn","Kaja","Kakalina","Kala","Kaleena","Kali","Kalie","Kalila","Kalina","Kalinda","Kalindi","Kalli","Kally","Kameko","Kamila","Kamilah","Kamillah","Kandace","Kandy","Kania","Kanya","Kara","Kara-lynn","Karalee","Karalynn","Kare","Karee","Karel","Karen","Karena","Kari","Karia","Karie","Karil","Karilynn","Karin","Karina","Karine","Kariotta","Karisa","Karissa","Karita","Karla","Karlee","Karleen","Karlen","Karlene","Karlie","Karlotta","Karlotte","Karly","Karlyn","Karmen","Karna","Karol","Karola","Karole","Karolina","Karoline","Karoly","Karon","Karrah","Karrie","Karry","Kary","Karyl","Karylin","Karyn","Kasey","Kass","Kassandra","Kassey","Kassi","Kassia","Kassie","Kat","Kata","Katalin","Kate","Katee","Katerina","Katerine","Katey","Kath","Katha","Katharina","Katharine","Katharyn","Kathe","Katherina","Katherine","Katheryn","Kathi","Kathie","Kathleen","Kathlin","Kathrine","Kathryn","Kathryne","Kathy","Kathye","Kati","Katie","Katina","Katine","Katinka","Katleen","Katlin","Katrina","Katrine","Katrinka","Katti","Kattie","Katuscha","Katusha","Katy","Katya","Kay","Kaycee","Kaye","Kayla","Kayle","Kaylee","Kayley","Kaylil","Kaylyn","Keeley","Keelia","Keely","Kelcey","Kelci","Kelcie","Kelcy","Kelila","Kellen","Kelley","Kelli","Kellia","Kellie","Kellina","Kellsie","Kelly","Kellyann","Kelsey","Kelsi","Kelsy","Kendra","Kendre","Kenna","Keri","Keriann","Kerianne","Kerri","Kerrie","Kerrill","Kerrin","Kerry","Kerstin","Kesley","Keslie","Kessia","Kessiah","Ketti","Kettie","Ketty","Kevina","Kevyn","Ki","Kiah","Kial","Kiele","Kiersten","Kikelia","Kiley","Kim","Kimberlee","Kimberley","Kimberli","Kimberly","Kimberlyn","Kimbra","Kimmi","Kimmie","Kimmy","Kinna","Kip","Kipp","Kippie","Kippy","Kira","Kirbee","Kirbie","Kirby","Kiri","Kirsten","Kirsteni","Kirsti","Kirstin","Kirstyn","Kissee","Kissiah","Kissie","Kit","Kitti","Kittie","Kitty","Kizzee","Kizzie","Klara","Klarika","Klarrisa","Konstance","Konstanze","Koo","Kora","Koral","Koralle","Kordula","Kore","Korella","Koren","Koressa","Kori","Korie","Korney","Korrie","Korry","Kris","Krissie","Krissy","Krista","Kristal","Kristan","Kriste","Kristel","Kristen","Kristi","Kristien","Kristin","Kristina","Kristine","Kristy","Kristyn","Krysta","Krystal","Krystalle","Krystle","Krystyna","Kyla","Kyle","Kylen","Kylie","Kylila","Kylynn","Kym","Kynthia","Kyrstin","Lacee","Lacey","Lacie","Lacy","Ladonna","Laetitia","Laina","Lainey","Lana","Lanae","Lane","Lanette","Laney","Lani","Lanie","Lanita","Lanna","Lanni","Lanny","Lara","Laraine","Lari","Larina","Larine","Larisa","Larissa","Lark","Laryssa","Latashia","Latia","Latisha","Latrena","Latrina","Laura","Lauraine","Laural","Lauralee","Laure","Lauree","Laureen","Laurel","Laurella","Lauren","Laurena","Laurene","Lauretta","Laurette","Lauri","Laurianne","Laurice","Laurie","Lauryn","Lavena","Laverna","Laverne","Lavina","Lavinia","Lavinie","Layla","Layne","Layney","Lea","Leah","Leandra","Leann","Leanna","Leanor","Leanora","Lebbie","Leda","Lee","Leeann","Leeanne","Leela","Leelah","Leena","Leesa","Leese","Legra","Leia","Leigh","Leigha","Leila","Leilah","Leisha","Lela","Lelah","Leland","Lelia","Lena","Lenee","Lenette","Lenka","Lenna","Lenora","Lenore","Leodora","Leoine","Leola","Leoline","Leona","Leonanie","Leone","Leonelle","Leonie","Leonora","Leonore","Leontine","Leontyne","Leora","Leshia","Lesley","Lesli","Leslie","Lesly","Lesya","Leta","Lethia","Leticia","Letisha","Letitia","Letizia","Letta","Letti","Lettie","Letty","Lexi","Lexie","Lexine","Lexis","Lexy","Leyla","Lezlie","Lia","Lian","Liana","Liane","Lianna","Lianne","Lib","Libbey","Libbi","Libbie","Libby","Licha","Lida","Lidia","Liesa","Lil","Lila","Lilah","Lilas","Lilia","Lilian","Liliane","Lilias","Lilith","Lilla","Lilli","Lillian","Lillis","Lilllie","Lilly","Lily","Lilyan","Lin","Lina","Lind","Linda","Lindi","Lindie","Lindsay","Lindsey","Lindsy","Lindy","Linea","Linell","Linet","Linette","Linn","Linnea","Linnell","Linnet","Linnie","Linzy","Lira","Lisa","Lisabeth","Lisbeth","Lise","Lisetta","Lisette","Lisha","Lishe","Lissa","Lissi","Lissie","Lissy","Lita","Liuka","Liv","Liva","Livia","Livvie","Livvy","Livvyy","Livy","Liz","Liza","Lizabeth","Lizbeth","Lizette","Lizzie","Lizzy","Loella","Lois","Loise","Lola","Loleta","Lolita","Lolly","Lona","Lonee","Loni","Lonna","Lonni","Lonnie","Lora","Lorain","Loraine","Loralee","Loralie","Loralyn","Loree","Loreen","Lorelei","Lorelle","Loren","Lorena","Lorene","Lorenza","Loretta","Lorette","Lori","Loria","Lorianna","Lorianne","Lorie","Lorilee","Lorilyn","Lorinda","Lorine","Lorita","Lorna","Lorne","Lorraine","Lorrayne","Lorri","Lorrie","Lorrin","Lorry","Lory","Lotta","Lotte","Lotti","Lottie","Lotty","Lou","Louella","Louisa","Louise","Louisette","Loutitia","Lu","Luce","Luci","Lucia","Luciana","Lucie","Lucienne","Lucila","Lucilia","Lucille","Lucina","Lucinda","Lucine","Lucita","Lucky","Lucretia","Lucy","Ludovika","Luella","Luelle","Luisa","Luise","Lula","Lulita","Lulu","Lura","Lurette","Lurleen","Lurlene","Lurline","Lusa","Luz","Lyda","Lydia","Lydie","Lyn","Lynda","Lynde","Lyndel","Lyndell","Lyndsay","Lyndsey","Lyndsie","Lyndy","Lynea","Lynelle","Lynett","Lynette","Lynn","Lynna","Lynne","Lynnea","Lynnell","Lynnelle","Lynnet","Lynnett","Lynnette","Lynsey","Lyssa","Mab","Mabel","Mabelle","Mable","Mada","Madalena","Madalyn","Maddalena","Maddi","Maddie","Maddy","Madel","Madelaine","Madeleine","Madelena","Madelene","Madelin","Madelina","Madeline","Madella","Madelle","Madelon","Madelyn","Madge","Madlen","Madlin","Madonna","Mady","Mae","Maegan","Mag","Magda","Magdaia","Magdalen","Magdalena","Magdalene","Maggee","Maggi","Maggie","Maggy","Mahala","Mahalia","Maia","Maible","Maiga","Maighdiln","Mair","Maire","Maisey","Maisie","Maitilde","Mala","Malanie","Malena","Malia","Malina","Malinda","Malinde","Malissa","Malissia","Mallissa","Mallorie","Mallory","Malorie","Malory","Malva","Malvina","Malynda","Mame","Mamie","Manda","Mandi","Mandie","Mandy","Manon","Manya","Mara","Marabel","Marcela","Marcelia","Marcella","Marcelle","Marcellina","Marcelline","Marchelle","Marci","Marcia","Marcie","Marcile","Marcille","Marcy","Mareah","Maren","Marena","Maressa","Marga","Margalit","Margalo","Margaret","Margareta","Margarete","Margaretha","Margarethe","Margaretta","Margarette","Margarita","Margaux","Marge","Margeaux","Margery","Marget","Margette","Margi","Margie","Margit","Margo","Margot","Margret","Marguerite","Margy","Mari","Maria","Mariam","Marian","Mariana","Mariann","Marianna","Marianne","Maribel","Maribelle","Maribeth","Marice","Maridel","Marie","Marie-ann","Marie-jeanne","Marieann","Mariejeanne","Mariel","Mariele","Marielle","Mariellen","Marietta","Mariette","Marigold","Marijo","Marika","Marilee","Marilin","Marillin","Marilyn","Marin","Marina","Marinna","Marion","Mariquilla","Maris","Marisa","Mariska","Marissa","Marita","Maritsa","Mariya","Marj","Marja","Marje","Marji","Marjie","Marjorie","Marjory","Marjy","Marketa","Marla","Marlane","Marleah","Marlee","Marleen","Marlena","Marlene","Marley","Marlie","Marline","Marlo","Marlyn","Marna","Marne","Marney","Marni","Marnia","Marnie","Marquita","Marrilee","Marris","Marrissa","Marsha","Marsiella","Marta","Martelle","Martguerita","Martha","Marthe","Marthena","Marti","Martica","Martie","Martina","Martita","Marty","Martynne","Mary","Marya","Maryann","Maryanna","Maryanne","Marybelle","Marybeth","Maryellen","Maryjane","Maryjo","Maryl","Marylee","Marylin","Marylinda","Marylou","Marylynne","Maryrose","Marys","Marysa","Masha","Matelda","Mathilda","Mathilde","Matilda","Matilde","Matti","Mattie","Matty","Maud","Maude","Maudie","Maura","Maure","Maureen","Maureene","Maurene","Maurine","Maurise","Maurita","Maurizia","Mavis","Mavra","Max","Maxi","Maxie","Maxine","Maxy","May","Maybelle","Maye","Mead","Meade","Meagan","Meaghan","Meara","Mechelle","Meg","Megan","Megen","Meggi","Meggie","Meggy","Meghan","Meghann","Mehetabel","Mei","Mel","Mela","Melamie","Melania","Melanie","Melantha","Melany","Melba","Melesa","Melessa","Melicent","Melina","Melinda","Melinde","Melisa","Melisande","Melisandra","Melisenda","Melisent","Melissa","Melisse","Melita","Melitta","Mella","Melli","Mellicent","Mellie","Mellisa","Mellisent","Melloney","Melly","Melodee","Melodie","Melody","Melonie","Melony","Melosa","Melva","Mercedes","Merci","Mercie","Mercy","Meredith","Meredithe","Meridel","Meridith","Meriel","Merilee","Merilyn","Meris","Merissa","Merl","Merla","Merle","Merlina","Merline","Merna","Merola","Merralee","Merridie","Merrie","Merrielle","Merrile","Merrilee","Merrili","Merrill","Merrily","Merry","Mersey","Meryl","Meta","Mia","Micaela","Michaela","Michaelina","Michaeline","Michaella","Michal","Michel","Michele","Michelina","Micheline","Michell","Michelle","Micki","Mickie","Micky","Midge","Mignon","Mignonne","Miguela","Miguelita","Mikaela","Mil","Mildred","Mildrid","Milena","Milicent","Milissent","Milka","Milli","Millicent","Millie","Millisent","Milly","Milzie","Mimi","Min","Mina","Minda","Mindy","Minerva","Minetta","Minette","Minna","Minnaminnie","Minne","Minni","Minnie","Minnnie","Minny","Minta","Miquela","Mira","Mirabel","Mirabella","Mirabelle","Miran","Miranda","Mireielle","Mireille","Mirella","Mirelle","Miriam","Mirilla","Mirna","Misha","Missie","Missy","Misti","Misty","Mitzi","Modesta","Modestia","Modestine","Modesty","Moina","Moira","Moll","Mollee","Molli","Mollie","Molly","Mommy","Mona","Monah","Monica","Monika","Monique","Mora","Moreen","Morena","Morgan","Morgana","Morganica","Morganne","Morgen","Moria","Morissa","Morna","Moselle","Moyna","Moyra","Mozelle","Muffin","Mufi","Mufinella","Muire","Mureil","Murial","Muriel","Murielle","Myra","Myrah","Myranda","Myriam","Myrilla","Myrle","Myrlene","Myrna","Myrta","Myrtia","Myrtice","Myrtie","Myrtle","Nada","Nadean","Nadeen","Nadia","Nadine","Nadiya","Nady","Nadya","Nalani","Nan","Nana","Nananne","Nance","Nancee","Nancey","Nanci","Nancie","Nancy","Nanete","Nanette","Nani","Nanice","Nanine","Nannette","Nanni","Nannie","Nanny","Nanon","Naoma","Naomi","Nara","Nari","Nariko","Nat","Nata","Natala","Natalee","Natalie","Natalina","Nataline","Natalya","Natasha","Natassia","Nathalia","Nathalie","Natividad","Natka","Natty","Neala","Neda","Nedda","Nedi","Neely","Neila","Neile","Neilla","Neille","Nelia","Nelie","Nell","Nelle","Nelli","Nellie","Nelly","Nerissa","Nerita","Nert","Nerta","Nerte","Nerti","Nertie","Nerty","Nessa","Nessi","Nessie","Nessy","Nesta","Netta","Netti","Nettie","Nettle","Netty","Nevsa","Neysa","Nichol","Nichole","Nicholle","Nicki","Nickie","Nicky","Nicol","Nicola","Nicole","Nicolea","Nicolette","Nicoli","Nicolina","Nicoline","Nicolle","Nikaniki","Nike","Niki","Nikki","Nikkie","Nikoletta","Nikolia","Nina","Ninetta","Ninette","Ninnetta","Ninnette","Ninon","Nissa","Nisse","Nissie","Nissy","Nita","Nixie","Noami","Noel","Noelani","Noell","Noella","Noelle","Noellyn","Noelyn","Noemi","Nola","Nolana","Nolie","Nollie","Nomi","Nona","Nonah","Noni","Nonie","Nonna","Nonnah","Nora","Norah","Norean","Noreen","Norene","Norina","Norine","Norma","Norri","Norrie","Norry","Novelia","Nydia","Nyssa","Octavia","Odele","Odelia","Odelinda","Odella","Odelle","Odessa","Odetta","Odette","Odilia","Odille","Ofelia","Ofella","Ofilia","Ola","Olenka","Olga","Olia","Olimpia","Olive","Olivette","Olivia","Olivie","Oliy","Ollie","Olly","Olva","Olwen","Olympe","Olympia","Olympie","Ondrea","Oneida","Onida","Oona","Opal","Opalina","Opaline","Ophelia","Ophelie","Ora","Oralee","Oralia","Oralie","Oralla","Oralle","Orel","Orelee","Orelia","Orelie","Orella","Orelle","Oriana","Orly","Orsa","Orsola","Ortensia","Otha","Othelia","Othella","Othilia","Othilie","Ottilie","Page","Paige","Paloma","Pam","Pamela","Pamelina","Pamella","Pammi","Pammie","Pammy","Pandora","Pansie","Pansy","Paola","Paolina","Papagena","Pat","Patience","Patrica","Patrice","Patricia","Patrizia","Patsy","Patti","Pattie","Patty","Paula","Paule","Pauletta","Paulette","Pauli","Paulie","Paulina","Pauline","Paulita","Pauly","Pavia","Pavla","Pearl","Pearla","Pearle","Pearline","Peg","Pegeen","Peggi","Peggie","Peggy","Pen","Penelopa","Penelope","Penni","Pennie","Penny","Pepi","Pepita","Peri","Peria","Perl","Perla","Perle","Perri","Perrine","Perry","Persis","Pet","Peta","Petra","Petrina","Petronella","Petronia","Petronilla","Petronille","Petunia","Phaedra","Phaidra","Phebe","Phedra","Phelia","Phil","Philipa","Philippa","Philippe","Philippine","Philis","Phillida","Phillie","Phillis","Philly","Philomena","Phoebe","Phylis","Phyllida","Phyllis","Phyllys","Phylys","Pia","Pier","Pierette","Pierrette","Pietra","Piper","Pippa","Pippy","Polly","Pollyanna","Pooh","Poppy","Portia","Pris","Prisca","Priscella","Priscilla","Prissie","Pru","Prudence","Prudi","Prudy","Prue","Queenie","Quentin","Querida","Quinn","Quinta","Quintana","Quintilla","Quintina","Rachael","Rachel","Rachele","Rachelle","Rae","Raeann","Raf","Rafa","Rafaela","Rafaelia","Rafaelita","Rahal","Rahel","Raina","Raine","Rakel","Ralina","Ramona","Ramonda","Rana","Randa","Randee","Randene","Randi","Randie","Randy","Ranee","Rani","Rania","Ranice","Ranique","Ranna","Raphaela","Raquel","Raquela","Rasia","Rasla","Raven","Ray","Raychel","Raye","Rayna","Raynell","Rayshell","Rea","Reba","Rebbecca","Rebe","Rebeca","Rebecca","Rebecka","Rebeka","Rebekah","Rebekkah","Ree","Reeba","Reena","Reeta","Reeva","Regan","Reggi","Reggie","Regina","Regine","Reiko","Reina","Reine","Remy","Rena","Renae","Renata","Renate","Rene","Renee","Renell","Renelle","Renie","Rennie","Reta","Retha","Revkah","Rey","Reyna","Rhea","Rheba","Rheta","Rhetta","Rhiamon","Rhianna","Rhianon","Rhoda","Rhodia","Rhodie","Rhody","Rhona","Rhonda","Riane","Riannon","Rianon","Rica","Ricca","Rici","Ricki","Rickie","Ricky","Riki","Rikki","Rina","Risa","Rita","Riva","Rivalee","Rivi","Rivkah","Rivy","Roana","Roanna","Roanne","Robbi","Robbie","Robbin","Robby","Robbyn","Robena","Robenia","Roberta","Robin","Robina","Robinet","Robinett","Robinetta","Robinette","Robinia","Roby","Robyn","Roch","Rochell","Rochella","Rochelle","Rochette","Roda","Rodi","Rodie","Rodina","Rois","Romola","Romona","Romonda","Romy","Rona","Ronalda","Ronda","Ronica","Ronna","Ronni","Ronnica","Ronnie","Ronny","Roobbie","Rora","Rori","Rorie","Rory","Ros","Rosa","Rosabel","Rosabella","Rosabelle","Rosaleen","Rosalia","Rosalie","Rosalind","Rosalinda","Rosalinde","Rosaline","Rosalyn","Rosalynd","Rosamond","Rosamund","Rosana","Rosanna","Rosanne","Rose","Roseann","Roseanna","Roseanne","Roselia","Roselin","Roseline","Rosella","Roselle","Rosemaria","Rosemarie","Rosemary","Rosemonde","Rosene","Rosetta","Rosette","Roshelle","Rosie","Rosina","Rosita","Roslyn","Rosmunda","Rosy","Row","Rowe","Rowena","Roxana","Roxane","Roxanna","Roxanne","Roxi","Roxie","Roxine","Roxy","Roz","Rozalie","Rozalin","Rozamond","Rozanna","Rozanne","Roze","Rozele","Rozella","Rozelle","Rozina","Rubetta","Rubi","Rubia","Rubie","Rubina","Ruby","Ruperta","Ruth","Ruthann","Ruthanne","Ruthe","Ruthi","Ruthie","Ruthy","Ryann","Rycca","Saba","Sabina","Sabine","Sabra","Sabrina","Sacha","Sada","Sadella","Sadie","Sadye","Saidee","Sal","Salaidh","Sallee","Salli","Sallie","Sally","Sallyann","Sallyanne","Saloma","Salome","Salomi","Sam","Samantha","Samara","Samaria","Sammy","Sande","Sandi","Sandie","Sandra","Sandy","Sandye","Sapphira","Sapphire","Sara","Sara-ann","Saraann","Sarah","Sarajane","Saree","Sarena","Sarene","Sarette","Sari","Sarina","Sarine","Sarita","Sascha","Sasha","Sashenka","Saudra","Saundra","Savina","Sayre","Scarlet","Scarlett","Sean","Seana","Seka","Sela","Selena","Selene","Selestina","Selia","Selie","Selina","Selinda","Seline","Sella","Selle","Selma","Sena","Sephira","Serena","Serene","Shae","Shaina","Shaine","Shalna","Shalne","Shana","Shanda","Shandee","Shandeigh","Shandie","Shandra","Shandy","Shane","Shani","Shanie","Shanna","Shannah","Shannen","Shannon","Shanon","Shanta","Shantee","Shara","Sharai","Shari","Sharia","Sharity","Sharl","Sharla","Sharleen","Sharlene","Sharline","Sharon","Sharona","Sharron","Sharyl","Shaun","Shauna","Shawn","Shawna","Shawnee","Shay","Shayla","Shaylah","Shaylyn","Shaylynn","Shayna","Shayne","Shea","Sheba","Sheela","Sheelagh","Sheelah","Sheena","Sheeree","Sheila","Sheila-kathryn","Sheilah","Shel","Shela","Shelagh","Shelba","Shelbi","Shelby","Shelia","Shell","Shelley","Shelli","Shellie","Shelly","Shena","Sher","Sheree","Sheri","Sherie","Sherill","Sherilyn","Sherline","Sherri","Sherrie","Sherry","Sherye","Sheryl","Shina","Shir","Shirl","Shirlee","Shirleen","Shirlene","Shirley","Shirline","Shoshana","Shoshanna","Siana","Sianna","Sib","Sibbie","Sibby","Sibeal","Sibel","Sibella","Sibelle","Sibilla","Sibley","Sibyl","Sibylla","Sibylle","Sidoney","Sidonia","Sidonnie","Sigrid","Sile","Sileas","Silva","Silvana","Silvia","Silvie","Simona","Simone","Simonette","Simonne","Sindee","Siobhan","Sioux","Siouxie","Sisely","Sisile","Sissie","Sissy","Siusan","Sofia","Sofie","Sondra","Sonia","Sonja","Sonni","Sonnie","Sonnnie","Sonny","Sonya","Sophey","Sophi","Sophia","Sophie","Sophronia","Sorcha","Sosanna","Stace","Stacee","Stacey","Staci","Stacia","Stacie","Stacy","Stafani","Star","Starla","Starlene","Starlin","Starr","Stefa","Stefania","Stefanie","Steffane","Steffi","Steffie","Stella","Stepha","Stephana","Stephani","Stephanie","Stephannie","Stephenie","Stephi","Stephie","Stephine","Stesha","Stevana","Stevena","Stoddard","Storm","Stormi","Stormie","Stormy","Sue","Suellen","Sukey","Suki","Sula","Sunny","Sunshine","Susan","Susana","Susanetta","Susann","Susanna","Susannah","Susanne","Susette","Susi","Susie","Susy","Suzann","Suzanna","Suzanne","Suzette","Suzi","Suzie","Suzy","Sybil","Sybila","Sybilla","Sybille","Sybyl","Sydel","Sydelle","Sydney","Sylvia","Tabatha","Tabbatha","Tabbi","Tabbie","Tabbitha","Tabby","Tabina","Tabitha","Taffy","Talia","Tallia","Tallie","Tallou","Tallulah","Tally","Talya","Talyah","Tamar","Tamara","Tamarah","Tamarra","Tamera","Tami","Tamiko","Tamma","Tammara","Tammi","Tammie","Tammy","Tamqrah","Tamra","Tana","Tandi","Tandie","Tandy","Tanhya","Tani","Tania","Tanitansy","Tansy","Tanya","Tara","Tarah","Tarra","Tarrah","Taryn","Tasha","Tasia","Tate","Tatiana","Tatiania","Tatum","Tawnya","Tawsha","Ted","Tedda","Teddi","Teddie","Teddy","Tedi","Tedra","Teena","Teirtza","Teodora","Tera","Teresa","Terese","Teresina","Teresita","Teressa","Teri","Teriann","Terra","Terri","Terrie","Terrijo","Terry","Terrye","Tersina","Terza","Tess","Tessa","Tessi","Tessie","Tessy","Thalia","Thea","Theadora","Theda","Thekla","Thelma","Theo","Theodora","Theodosia","Theresa","Therese","Theresina","Theresita","Theressa","Therine","Thia","Thomasa","Thomasin","Thomasina","Thomasine","Tiena","Tierney","Tiertza","Tiff","Tiffani","Tiffanie","Tiffany","Tiffi","Tiffie","Tiffy","Tilda","Tildi","Tildie","Tildy","Tillie","Tilly","Tim","Timi","Timmi","Timmie","Timmy","Timothea","Tina","Tine","Tiphani","Tiphanie","Tiphany","Tish","Tisha","Tobe","Tobey","Tobi","Toby","Tobye","Toinette","Toma","Tomasina","Tomasine","Tomi","Tommi","Tommie","Tommy","Toni","Tonia","Tonie","Tony","Tonya","Tonye","Tootsie","Torey","Tori","Torie","Torrie","Tory","Tova","Tove","Tracee","Tracey","Traci","Tracie","Tracy","Trenna","Tresa","Trescha","Tressa","Tricia","Trina","Trish","Trisha","Trista","Trix","Trixi","Trixie","Trixy","Truda","Trude","Trudey","Trudi","Trudie","Trudy","Trula","Tuesday","Twila","Twyla","Tybi","Tybie","Tyne","Ula","Ulla","Ulrica","Ulrika","Ulrikaumeko","Ulrike","Umeko","Una","Ursa","Ursala","Ursola","Ursula","Ursulina","Ursuline","Uta","Val","Valaree","Valaria","Vale","Valeda","Valencia","Valene","Valenka","Valentia","Valentina","Valentine","Valera","Valeria","Valerie","Valery","Valerye","Valida","Valina","Valli","Vallie","Vally","Valma","Valry","Van","Vanda","Vanessa","Vania","Vanna","Vanni","Vannie","Vanny","Vanya","Veda","Velma","Velvet","Venita","Venus","Vera","Veradis","Vere","Verena","Verene","Veriee","Verile","Verina","Verine","Verla","Verna","Vernice","Veronica","Veronika","Veronike","Veronique","Vevay","Vi","Vicki","Vickie","Vicky","Victoria","Vida","Viki","Vikki","Vikky","Vilhelmina","Vilma","Vin","Vina","Vinita","Vinni","Vinnie","Vinny","Viola","Violante","Viole","Violet","Violetta","Violette","Virgie","Virgina","Virginia","Virginie","Vita","Vitia","Vitoria","Vittoria","Viv","Viva","Vivi","Vivia","Vivian","Viviana","Vivianna","Vivianne","Vivie","Vivien","Viviene","Vivienne","Viviyan","Vivyan","Vivyanne","Vonni","Vonnie","Vonny","Vyky","Wallie","Wallis","Walliw","Wally","Waly","Wanda","Wandie","Wandis","Waneta","Wanids","Wenda","Wendeline","Wendi","Wendie","Wendy","Wendye","Wenona","Wenonah","Whitney","Wileen","Wilhelmina","Wilhelmine","Wilie","Willa","Willabella","Willamina","Willetta","Willette","Willi","Willie","Willow","Willy","Willyt","Wilma","Wilmette","Wilona","Wilone","Wilow","Windy","Wini","Winifred","Winna","Winnah","Winne","Winni","Winnie","Winnifred","Winny","Winona","Winonah","Wren","Wrennie","Wylma","Wynn","Wynne","Wynnie","Wynny","Xaviera","Xena","Xenia","Xylia","Xylina","Yalonda","Yasmeen","Yasmin","Yelena","Yetta","Yettie","Yetty","Yevette","Ynes","Ynez","Yoko","Yolanda","Yolande","Yolane","Yolanthe","Yoshi","Yoshiko","Yovonnda","Ysabel","Yvette","Yvonne","Zabrina","Zahara","Zandra","Zaneta","Zara","Zarah","Zaria","Zarla","Zea","Zelda","Zelma","Zena","Zenia","Zia","Zilvia","Zita","Zitella","Zoe","Zola","Zonda","Zondra","Zonnya","Zora","Zorah","Zorana","Zorina","Zorine","Zsazsa","Zulema","Zuzana"];function cOe(){}function cS(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function dS(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const dOe="[object RegExp]",hOe="[object String]",fOe="[object Number]",pOe="[object Boolean]",hS="[object Arguments]",gOe="[object Symbol]",mOe="[object Date]",vOe="[object Map]",yOe="[object Set]",EOe="[object Array]",bOe="[object Function]",COe="[object ArrayBuffer]",t1="[object Object]",SOe="[object Error]",AOe="[object DataView]",wOe="[object Uint8Array]",xOe="[object Uint8ClampedArray]",DOe="[object Uint16Array]",IOe="[object Uint32Array]",TOe="[object BigUint64Array]",ROe="[object Int8Array]",BOe="[object Int16Array]",kOe="[object Int32Array]",MOe="[object BigInt64Array]",NOe="[object Float32Array]",POe="[object Float64Array]";function fS(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function OOe(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function LOe(e,t,n){return hc(e,t,void 0,void 0,void 0,void 0,n)}function hc(e,t,n,r,i,o,u){const l=u(e,t,n,r,i,o);if(l!==void 0)return l;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return Ic(e,t,o,u)}return Ic(e,t,o,u)}function Ic(e,t,n,r){if(Object.is(e,t))return!0;let i=dS(e),o=dS(t);if(i===hS&&(i=t1),o===hS&&(o=t1),i!==o)return!1;switch(i){case hOe:return e.toString()===t.toString();case fOe:{const c=e.valueOf(),f=t.valueOf();return OOe(c,f)}case pOe:case mOe:case gOe:return Object.is(e.valueOf(),t.valueOf());case dOe:return e.source===t.source&&e.flags===t.flags;case bOe:return e===t}n=n??new Map;const u=n.get(e),l=n.get(t);if(u!=null&&l!=null)return u===t;n.set(e,t),n.set(t,e);try{switch(i){case vOe:{if(e.size!==t.size)return!1;for(const[c,f]of e.entries())if(!t.has(c)||!hc(f,t.get(c),c,e,t,n,r))return!1;return!0}case yOe:{if(e.size!==t.size)return!1;const c=Array.from(e.values()),f=Array.from(t.values());for(let g=0;g<c.length;g++){const m=c[g],v=f.findIndex(y=>hc(m,y,void 0,e,t,n,r));if(v===-1)return!1;f.splice(v,1)}return!0}case EOe:case wOe:case xOe:case DOe:case IOe:case TOe:case ROe:case BOe:case kOe:case MOe:case NOe:case POe:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let c=0;c<e.length;c++)if(!hc(e[c],t[c],c,e,t,n,r))return!1;return!0}case COe:return e.byteLength!==t.byteLength?!1:Ic(new Uint8Array(e),new Uint8Array(t),n,r);case AOe:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:Ic(new Uint8Array(e),new Uint8Array(t),n,r);case SOe:return e.name===t.name&&e.message===t.message;case t1:{if(!(Ic(e.constructor,t.constructor,n,r)||fS(e)&&fS(t)))return!1;const f=[...Object.keys(e),...cS(e)],g=[...Object.keys(t),...cS(t)];if(f.length!==g.length)return!1;for(let m=0;m<f.length;m++){const v=f[m],y=e[v];if(!Object.hasOwn(t,v))return!1;const b=t[v];if(!hc(y,b,v,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function FOe(e,t){return LOe(e,t,cOe)}function _Oe(e){const[t,n]=h.useState(),[r,i]=h.useState(!0),o=h.useRef(),u=h.useRef(),l=h.useCallback(()=>{if(!u.current||!t)return;const b=u.current.getRoot();try{const C=b.shapes.toJSON?.(),A=b.bindings.toJSON?.(),x=b.assets.toJSON?.();if(!C||!A||!x){console.warn("Document content is not yet initialized");return}const D=JSON.parse(C),T=JSON.parse(A),N=JSON.parse(x);t.replacePageContent(D,T,N)}catch(C){console.error("Error parsing document content:",C)}},[t]),c=h.useCallback((b,C)=>Object.keys(b).filter(A=>!FOe(b[A],C[A])),[]),f=h.useCallback(b=>{b.loadRoom(e),b.setIsLoading(!0),b.pause(),n(b);const C=uOe({dictionaries:[lOe]});b.updateUsers([{id:b.currentUser.id,point:[0,0],color:oOe(),status:Px.Connected,activeShapes:[],selectedIds:[],metadata:{name:C}}])},[e]),g=h.useCallback(()=>{u.current?.history.canUndo()&&(u.current.history.undo(),l())},[l]),m=h.useCallback(()=>{u.current?.history.canRedo()&&(u.current.history.redo(),l())},[l]),v=L9((b,C,A)=>{if(!(!b||!o.current||!u.current)){for(const[x,D]of Object.entries(C))u.current.update(T=>{if(!D)delete T.shapes[x];else if(!T.shapes[x])T.shapes[x]=D;else{const N=c(D,T.shapes[x].toJS());for(const k of N)T.shapes[x][k]=D[k]}});for(const[x,D]of Object.entries(A))u.current.update(T=>{if(!D)delete T.bindings[x];else if(!T.bindings[x])T.bindings[x]=D;else{const N=c(D,T.bindings[x].toJS());for(const k of N){const M=D[k];M!==void 0&&(T.bindings[x][k]=M)}}});for(const[,x]of Object.entries(b.assets))u.current.update(D=>{if(x.id)if(!D.assets[x.id])D.assets[x.id]=x;else{const T=c(x,D.assets[x.id].toJS());for(const N of T)D.assets[x.id][N]=x[N]}else return})}},60,!1),y=L9((b,C)=>{!b||!o.current?.isActive()||!u.current||u.current.update((A,x)=>{x.set({tdUser:C})})},60,!1);return h.useEffect(()=>{if(!t)return;const b=[];let C=!0;const A=async D=>{await D.sync(),C&&(l(),t&&(t.zoomToFit(),t.zoom>1&&t.resetZoom(),t.setIsLoading(!1)),i(!1))};return(async()=>{try{const D=new ZD({rpcAddr:"https://api.yorkie.dev",apiKey:"D6sd9E5ehtXBssmeRZ4QQP",syncLoopDuration:0,reconnectStreamDelay:1e3});await D.activate(),o.current=D;const T=new to(e,{enableDevtools:!0});u.current=T,b.push(T.subscribe("my-presence",N=>{if(N.type===dn.Initialized){const k=T.getPresences().map(M=>M.presence.tdUser);t?.updateUsers(k)}})),b.push(T.subscribe("others",N=>{N.type===dn.Unwatched&&t?.removeUser(N.value.presence.tdUser.id);const k=T.getPresences().map(M=>M.presence.tdUser);t?.updateUsers(k)})),b.push(T.subscribe(N=>{N.type==="remote-change"&&l()})),await D.attach(T,{initialRoot:{shapes:{},bindings:{},assets:{}},initialPresence:t?.currentUser?{tdUser:t.currentUser}:void 0}),await A(D)}catch(D){console.error("Error setting up document:",D),i(!1)}})(),()=>{C=!1;for(const T of b)T();(async()=>{try{u.current&&o.current&&await o.current.detach(u.current),o.current&&await o.current.deactivate()}catch(T){console.error("Error during cleanup:",T)}finally{u.current=void 0,o.current=void 0}})()}},[t,l]),{onMount:f,onChangePage:v,loading:r,onChangePresence:y,onUndo:g,onRedo:m}}const $Oe=({color:e,metadata:t})=>he.jsxs("div",{style:{display:"flex",width:"fit-content",alignItems:"center",gap:8},children:[he.jsx("div",{style:{width:12,height:12,background:e,borderRadius:"100%"}}),he.jsx("div",{style:{background:"white",padding:"4px 8px",borderRadius:4,whiteSpace:"nowrap"},children:t.name})]});function zOe(){const e=MH(),{...t}=_Oe(`tldraw-${new Date().toISOString().substring(0,10).replace(/-/g,"")}`),n={Cursor:$Oe};return he.jsx("div",{className:"tldraw",children:he.jsx(YRe,{components:n,autofocus:!0,disableAssets:!0,showPages:!1,...e,...t})})}FT.createRoot(document.getElementById("root")).render(he.jsx($t.StrictMode,{children:he.jsx(zOe,{})}));
