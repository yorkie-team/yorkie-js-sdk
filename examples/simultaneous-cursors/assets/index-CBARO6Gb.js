(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();function xS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var cf={exports:{}},As={};var Ly;function OS(){if(Ly)return As;Ly=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:i,type:a,key:h,ref:o!==void 0?o:null,props:c}}return As.Fragment=e,As.jsx=r,As.jsxs=r,As}var My;function VS(){return My||(My=1,cf.exports=OS()),cf.exports}var P=VS(),ff={exports:{}},fe={};var _y;function US(){if(_y)return fe;_y=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),w=Symbol.iterator;function R(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,Y={};function H(N,z,F){this.props=N,this.context=z,this.refs=Y,this.updater=F||C}H.prototype.isReactComponent={},H.prototype.setState=function(N,z){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,z,"setState")},H.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ne(){}ne.prototype=H.prototype;function K(N,z,F){this.props=N,this.context=z,this.refs=Y,this.updater=F||C}var ee=K.prototype=new ne;ee.constructor=K,V(ee,H.prototype),ee.isPureReactComponent=!0;var J=Array.isArray;function X(){}var W={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function Je(N,z,F){var $=F.ref;return{$$typeof:i,type:N,key:z,ref:$!==void 0?$:null,props:F}}function dt(N,z){return Je(N.type,z,N.props)}function ot(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function Ge(N){var z={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(F){return z[F]})}var wt=/\/+/g;function bn(N,z){return typeof N=="object"&&N!==null&&N.key!=null?Ge(""+N.key):z.toString(36)}function Gt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(X,X):(N.status="pending",N.then(function(z){N.status==="pending"&&(N.status="fulfilled",N.value=z)},function(z){N.status==="pending"&&(N.status="rejected",N.reason=z)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function M(N,z,F,$,he){var be=typeof N;(be==="undefined"||be==="boolean")&&(N=null);var De=!1;if(N===null)De=!0;else switch(be){case"bigint":case"string":case"number":De=!0;break;case"object":switch(N.$$typeof){case i:case e:De=!0;break;case b:return De=N._init,M(De(N._payload),z,F,$,he)}}if(De)return he=he(N),De=$===""?"."+bn(N,0):$,J(he)?(F="",De!=null&&(F=De.replace(wt,"$&/")+"/"),M(he,z,F,"",function(Ia){return Ia})):he!=null&&(ot(he)&&(he=dt(he,F+(he.key==null||N&&N.key===he.key?"":(""+he.key).replace(wt,"$&/")+"/")+De)),z.push(he)),1;De=0;var Ct=$===""?".":$+":";if(J(N))for(var Pe=0;Pe<N.length;Pe++)$=N[Pe],be=Ct+bn($,Pe),De+=M($,z,F,be,he);else if(Pe=R(N),typeof Pe=="function")for(N=Pe.call(N),Pe=0;!($=N.next()).done;)$=$.value,be=Ct+bn($,Pe++),De+=M($,z,F,be,he);else if(be==="object"){if(typeof N.then=="function")return M(Gt(N),z,F,$,he);throw z=String(N),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return De}function k(N,z,F){if(N==null)return N;var $=[],he=0;return M(N,$,"","",function(be){return z.call(F,be,he++)}),$}function oe(N){if(N._status===-1){var z=N._result;z=z(),z.then(function(F){(N._status===0||N._status===-1)&&(N._status=1,N._result=F)},function(F){(N._status===0||N._status===-1)&&(N._status=2,N._result=F)}),N._status===-1&&(N._status=0,N._result=z)}if(N._status===1)return N._result.default;throw N._result}var Be=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Ze={map:k,forEach:function(N,z,F){k(N,function(){z.apply(this,arguments)},F)},count:function(N){var z=0;return k(N,function(){z++}),z},toArray:function(N){return k(N,function(z){return z})||[]},only:function(N){if(!ot(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return fe.Activity=A,fe.Children=Ze,fe.Component=H,fe.Fragment=r,fe.Profiler=o,fe.PureComponent=K,fe.StrictMode=a,fe.Suspense=y,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,fe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return W.H.useMemoCache(N)}},fe.cache=function(N){return function(){return N.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(N,z,F){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var $=V({},N.props),he=N.key;if(z!=null)for(be in z.key!==void 0&&(he=""+z.key),z)!re.call(z,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&z.ref===void 0||($[be]=z[be]);var be=arguments.length-2;if(be===1)$.children=F;else if(1<be){for(var De=Array(be),Ct=0;Ct<be;Ct++)De[Ct]=arguments[Ct+2];$.children=De}return Je(N.type,he,$)},fe.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},fe.createElement=function(N,z,F){var $,he={},be=null;if(z!=null)for($ in z.key!==void 0&&(be=""+z.key),z)re.call(z,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(he[$]=z[$]);var De=arguments.length-2;if(De===1)he.children=F;else if(1<De){for(var Ct=Array(De),Pe=0;Pe<De;Pe++)Ct[Pe]=arguments[Pe+2];he.children=Ct}if(N&&N.defaultProps)for($ in De=N.defaultProps,De)he[$]===void 0&&(he[$]=De[$]);return Je(N,be,he)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(N){return{$$typeof:d,render:N}},fe.isValidElement=ot,fe.lazy=function(N){return{$$typeof:b,_payload:{_status:-1,_result:N},_init:oe}},fe.memo=function(N,z){return{$$typeof:m,type:N,compare:z===void 0?null:z}},fe.startTransition=function(N){var z=W.T,F={};W.T=F;try{var $=N(),he=W.S;he!==null&&he(F,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(X,Be)}catch(be){Be(be)}finally{z!==null&&F.types!==null&&(z.types=F.types),W.T=z}},fe.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},fe.use=function(N){return W.H.use(N)},fe.useActionState=function(N,z,F){return W.H.useActionState(N,z,F)},fe.useCallback=function(N,z){return W.H.useCallback(N,z)},fe.useContext=function(N){return W.H.useContext(N)},fe.useDebugValue=function(){},fe.useDeferredValue=function(N,z){return W.H.useDeferredValue(N,z)},fe.useEffect=function(N,z){return W.H.useEffect(N,z)},fe.useEffectEvent=function(N){return W.H.useEffectEvent(N)},fe.useId=function(){return W.H.useId()},fe.useImperativeHandle=function(N,z,F){return W.H.useImperativeHandle(N,z,F)},fe.useInsertionEffect=function(N,z){return W.H.useInsertionEffect(N,z)},fe.useLayoutEffect=function(N,z){return W.H.useLayoutEffect(N,z)},fe.useMemo=function(N,z){return W.H.useMemo(N,z)},fe.useOptimistic=function(N,z){return W.H.useOptimistic(N,z)},fe.useReducer=function(N,z,F){return W.H.useReducer(N,z,F)},fe.useRef=function(N){return W.H.useRef(N)},fe.useState=function(N){return W.H.useState(N)},fe.useSyncExternalStore=function(N,z,F){return W.H.useSyncExternalStore(N,z,F)},fe.useTransition=function(){return W.H.useTransition()},fe.version="19.2.1",fe}var Zy;function Xf(){return Zy||(Zy=1,ff.exports=US()),ff.exports}var ue=Xf(),hf={exports:{}},Ss={},df={exports:{}},gf={};var zy;function BS(){return zy||(zy=1,(function(i){function e(M,k){var oe=M.length;M.push(k);e:for(;0<oe;){var Be=oe-1>>>1,Ze=M[Be];if(0<o(Ze,k))M[Be]=k,M[oe]=Ze,oe=Be;else break e}}function r(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var k=M[0],oe=M.pop();if(oe!==k){M[0]=oe;e:for(var Be=0,Ze=M.length,N=Ze>>>1;Be<N;){var z=2*(Be+1)-1,F=M[z],$=z+1,he=M[$];if(0>o(F,oe))$<Ze&&0>o(he,F)?(M[Be]=he,M[$]=oe,Be=$):(M[Be]=F,M[z]=oe,Be=z);else if($<Ze&&0>o(he,oe))M[Be]=he,M[$]=oe,Be=$;else break e}}return k}function o(M,k){var oe=M.sortIndex-k.sortIndex;return oe!==0?oe:M.id-k.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var y=[],m=[],b=1,A=null,w=3,R=!1,C=!1,V=!1,Y=!1,H=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ee(M){for(var k=r(m);k!==null;){if(k.callback===null)a(m);else if(k.startTime<=M)a(m),k.sortIndex=k.expirationTime,e(y,k);else break;k=r(m)}}function J(M){if(V=!1,ee(M),!C)if(r(y)!==null)C=!0,X||(X=!0,Ge());else{var k=r(m);k!==null&&Gt(J,k.startTime-M)}}var X=!1,W=-1,re=5,Je=-1;function dt(){return Y?!0:!(i.unstable_now()-Je<re)}function ot(){if(Y=!1,X){var M=i.unstable_now();Je=M;var k=!0;try{e:{C=!1,V&&(V=!1,ne(W),W=-1),R=!0;var oe=w;try{t:{for(ee(M),A=r(y);A!==null&&!(A.expirationTime>M&&dt());){var Be=A.callback;if(typeof Be=="function"){A.callback=null,w=A.priorityLevel;var Ze=Be(A.expirationTime<=M);if(M=i.unstable_now(),typeof Ze=="function"){A.callback=Ze,ee(M),k=!0;break t}A===r(y)&&a(y),ee(M)}else a(y);A=r(y)}if(A!==null)k=!0;else{var N=r(m);N!==null&&Gt(J,N.startTime-M),k=!1}}break e}finally{A=null,w=oe,R=!1}k=void 0}}finally{k?Ge():X=!1}}}var Ge;if(typeof K=="function")Ge=function(){K(ot)};else if(typeof MessageChannel<"u"){var wt=new MessageChannel,bn=wt.port2;wt.port1.onmessage=ot,Ge=function(){bn.postMessage(null)}}else Ge=function(){H(ot,0)};function Gt(M,k){W=H(function(){M(i.unstable_now())},k)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(M){switch(w){case 1:case 2:case 3:var k=3;break;default:k=w}var oe=w;w=k;try{return M()}finally{w=oe}},i.unstable_requestPaint=function(){Y=!0},i.unstable_runWithPriority=function(M,k){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var oe=w;w=M;try{return k()}finally{w=oe}},i.unstable_scheduleCallback=function(M,k,oe){var Be=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Be+oe:Be):oe=Be,M){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=oe+Ze,M={id:b++,callback:k,priorityLevel:M,startTime:oe,expirationTime:Ze,sortIndex:-1},oe>Be?(M.sortIndex=oe,e(m,M),r(y)===null&&M===r(m)&&(V?(ne(W),W=-1):V=!0,Gt(J,oe-Be))):(M.sortIndex=Ze,e(y,M),C||R||(C=!0,X||(X=!0,Ge()))),M},i.unstable_shouldYield=dt,i.unstable_wrapCallback=function(M){var k=w;return function(){var oe=w;w=k;try{return M.apply(this,arguments)}finally{w=oe}}}})(gf)),gf}var Yy;function LS(){return Yy||(Yy=1,df.exports=BS()),df.exports}var mf={exports:{}},Et={};var Gy;function MS(){if(Gy)return Et;Gy=1;var i=Xf();function e(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,m,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:m,implementation:b}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Et.createPortal=function(y,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(y,m,null,b)},Et.flushSync=function(y){var m=h.T,b=a.p;try{if(h.T=null,a.p=2,y)return y()}finally{h.T=m,a.p=b,a.d.f()}},Et.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(y,m))},Et.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Et.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var b=m.as,A=d(b,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,R=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?a.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:R}):b==="script"&&a.d.X(y,{crossOrigin:A,integrity:w,fetchPriority:R,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Et.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=d(m.as,m.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(y)},Et.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,A=d(b,m.crossOrigin);a.d.L(y,b,{crossOrigin:A,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Et.preloadModule=function(y,m){if(typeof y=="string")if(m){var b=d(m.as,m.crossOrigin);a.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(y)},Et.requestFormReset=function(y){a.d.r(y)},Et.unstable_batchedUpdates=function(y,m){return y(m)},Et.useFormState=function(y,m,b){return h.H.useFormState(y,m,b)},Et.useFormStatus=function(){return h.H.useHostTransitionStatus()},Et.version="19.2.1",Et}var Wy;function _S(){if(Wy)return mf.exports;Wy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mf.exports=MS(),mf.exports}var Ky;function ZS(){if(Ky)return Ss;Ky=1;var i=LS(),e=Xf(),r=_S();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function m(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var u=s.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){s=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===s)return y(u),t;if(f===l)return y(u),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=u,l=f;else{for(var g=!1,p=u.child;p;){if(p===s){g=!0,s=u,l=f;break}if(p===l){g=!0,l=u,s=f;break}p=p.sibling}if(!g){for(p=f.child;p;){if(p===s){g=!0,s=f,l=u;break}if(p===l){g=!0,l=f,s=u;break}p=p.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),Je=Symbol.for("react.activity"),dt=Symbol.for("react.memo_cache_sentinel"),ot=Symbol.iterator;function Ge(t){return t===null||typeof t!="object"?null:(t=ot&&t[ot]||t["@@iterator"],typeof t=="function"?t:null)}var wt=Symbol.for("react.client.reference");function bn(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===wt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case H:return"Profiler";case Y:return"StrictMode";case J:return"Suspense";case X:return"SuspenseList";case Je:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case K:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case ee:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W:return n=t.displayName||null,n!==null?n:bn(t.type)||"Memo";case re:n=t._payload,t=t._init;try{return bn(t(n))}catch{}}return null}var Gt=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Be=[],Ze=-1;function N(t){return{current:t}}function z(t){0>Ze||(t.current=Be[Ze],Be[Ze]=null,Ze--)}function F(t,n){Ze++,Be[Ze]=t.current,t.current=n}var $=N(null),he=N(null),be=N(null),De=N(null);function Ct(t,n){switch(F(be,n),F(he,t),F($,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ry(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ry(n),t=ay(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}z($),F($,t)}function Pe(){z($),z(he),z(be)}function Ia(t){t.memoizedState!==null&&F(De,t);var n=$.current,s=ay(n,t.type);n!==s&&(F(he,t),F($,s))}function Qs(t){he.current===t&&(z($),z(he)),De.current===t&&(z(De),ys._currentValue=oe)}var Jo,Bh;function Fi(t){if(Jo===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Jo=n&&n[1]||"",Bh=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jo+t+Bh}var ko=!1;function jo(t,n){if(!t||ko)return"";ko=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(B){var U=B}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(B){U=B}t.call(Z.prototype)}}else{try{throw Error()}catch(B){U=B}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(B){if(B&&U&&typeof B.stack=="string")return[B.stack,U.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],p=f[1];if(g&&p){var v=g.split(`
`),O=p.split(`
`);for(u=l=0;l<v.length&&!v[l].includes("DetermineComponentFrameRoot");)l++;for(;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;if(l===v.length||u===O.length)for(l=v.length-1,u=O.length-1;1<=l&&0<=u&&v[l]!==O[u];)u--;for(;1<=l&&0<=u;l--,u--)if(v[l]!==O[u]){if(l!==1||u!==1)do if(l--,u--,0>u||v[l]!==O[u]){var L=`
`+v[l].replace(" at new "," at ");return t.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",t.displayName)),L}while(1<=l&&0<=u);break}}}finally{ko=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Fi(s):""}function lv(t,n){switch(t.tag){case 26:case 27:case 5:return Fi(t.type);case 16:return Fi("Lazy");case 13:return t.child!==n&&n!==null?Fi("Suspense Fallback"):Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return jo(t.type,!1);case 11:return jo(t.type.render,!1);case 1:return jo(t.type,!0);case 31:return Fi("Activity");default:return""}}function Lh(t){try{var n="",s=null;do n+=lv(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Fo=Object.prototype.hasOwnProperty,Ho=i.unstable_scheduleCallback,Qo=i.unstable_cancelCallback,ov=i.unstable_shouldYield,uv=i.unstable_requestPaint,Wt=i.unstable_now,cv=i.unstable_getCurrentPriorityLevel,Mh=i.unstable_ImmediatePriority,_h=i.unstable_UserBlockingPriority,$s=i.unstable_NormalPriority,fv=i.unstable_LowPriority,Zh=i.unstable_IdlePriority,hv=i.log,dv=i.unstable_setDisableYieldValue,wa=null,Kt=null;function di(t){if(typeof hv=="function"&&dv(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(wa,t)}catch{}}var Xt=Math.clz32?Math.clz32:yv,gv=Math.log,mv=Math.LN2;function yv(t){return t>>>=0,t===0?32:31-(gv(t)/mv|0)|0}var Ps=256,qs=262144,el=4194304;function Hi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function tl(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var u=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var p=l&134217727;return p!==0?(l=p&~f,l!==0?u=Hi(l):(g&=p,g!==0?u=Hi(g):s||(s=p&~t,s!==0&&(u=Hi(s))))):(p=l&~f,p!==0?u=Hi(p):g!==0?u=Hi(g):s||(s=l&~t,s!==0&&(u=Hi(s)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:u}function Da(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function pv(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zh(){var t=el;return el<<=1,(el&62914560)===0&&(el=4194304),t}function $o(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function xa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bv(t,n,s,l,u,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var p=t.entanglements,v=t.expirationTimes,O=t.hiddenUpdates;for(s=g&~s;0<s;){var L=31-Xt(s),Z=1<<L;p[L]=0,v[L]=-1;var U=O[L];if(U!==null)for(O[L]=null,L=0;L<U.length;L++){var B=U[L];B!==null&&(B.lane&=-536870913)}s&=~Z}l!==0&&Yh(t,l,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Yh(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Xt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Gh(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-Xt(s),u=1<<l;u&n|t[l]&n&&(t[l]|=n),s&=~u}}function Wh(t,n){var s=n&-n;return s=(s&42)!==0?1:Po(s),(s&(t.suspendedLanes|n))!==0?0:s}function Po(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Kh(){var t=k.p;return t!==0?t:(t=window.event,t===void 0?32:wy(t.type))}function Xh(t,n){var s=k.p;try{return k.p=t,n()}finally{k.p=s}}var gi=Math.random().toString(36).slice(2),gt="__reactFiber$"+gi,Dt="__reactProps$"+gi,Sr="__reactContainer$"+gi,eu="__reactEvents$"+gi,vv="__reactListeners$"+gi,Av="__reactHandles$"+gi,Jh="__reactResources$"+gi,Oa="__reactMarker$"+gi;function tu(t){delete t[gt],delete t[Dt],delete t[eu],delete t[vv],delete t[Av]}function Er(t){var n=t[gt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Sr]||s[gt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=hy(t);t!==null;){if(s=t[gt])return s;t=hy(t)}return n}t=s,s=t.parentNode}return null}function Nr(t){if(t=t[gt]||t[Sr]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Va(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Tr(t){var n=t[Jh];return n||(n=t[Jh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ut(t){t[Oa]=!0}var kh=new Set,jh={};function Qi(t,n){Rr(t,n),Rr(t+"Capture",n)}function Rr(t,n){for(jh[t]=n,t=0;t<n.length;t++)kh.add(n[t])}var Sv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fh={},Hh={};function Ev(t){return Fo.call(Hh,t)?!0:Fo.call(Fh,t)?!1:Sv.test(t)?Hh[t]=!0:(Fh[t]=!0,!1)}function nl(t,n,s){if(Ev(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function il(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Gn(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qh(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Nv(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function nu(t){if(!t._valueTracker){var n=Qh(t)?"checked":"value";t._valueTracker=Nv(t,n,""+t[n])}}function $h(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Qh(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function rl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Tv=/[\n"\\]/g;function tn(t){return t.replace(Tv,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function iu(t,n,s,l,u,f,g,p){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+en(n)):t.value!==""+en(n)&&(t.value=""+en(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?ru(t,g,en(n)):s!=null?ru(t,g,en(s)):l!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.name=""+en(p):t.removeAttribute("name")}function Ph(t,n,s,l,u,f,g,p){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){nu(t);return}s=s!=null?""+en(s):"",n=n!=null?""+en(n):s,p||n===t.value||(t.value=n),t.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=p?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),nu(t)}function ru(t,n,s){n==="number"&&rl(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Cr(t,n,s,l){if(t=t.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<t.length;s++)u=n.hasOwnProperty("$"+t[s].value),t[s].selected!==u&&(t[s].selected=u),u&&l&&(t[s].defaultSelected=!0)}else{for(s=""+en(s),n=null,u=0;u<t.length;u++){if(t[u].value===s){t[u].selected=!0,l&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function qh(t,n,s){if(n!=null&&(n=""+en(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+en(s):""}function ed(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Gt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=en(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),nu(t)}function Ir(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Rv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function td(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Rv.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function nd(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&s[u]!==l&&td(t,u,l)}else for(var f in n)n.hasOwnProperty(f)&&td(t,f,n[f])}function au(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Iv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(t){return Iv.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Wn(){}var su=null;function lu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wr=null,Dr=null;function id(t){var n=Nr(t);if(n&&(t=n.stateNode)){var s=t[Dt]||null;e:switch(t=n.stateNode,n.type){case"input":if(iu(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var u=l[Dt]||null;if(!u)throw Error(a(90));iu(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&$h(l)}break e;case"textarea":qh(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Cr(t,!!s.multiple,n,!1)}}}var ou=!1;function rd(t,n,s){if(ou)return t(n,s);ou=!0;try{var l=t(n);return l}finally{if(ou=!1,(wr!==null||Dr!==null)&&(kl(),wr&&(n=wr,t=Dr,Dr=wr=null,id(n),t)))for(n=0;n<t.length;n++)id(t[n])}}function Ua(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Dt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uu=!1;if(Kn)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){uu=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{uu=!1}var mi=null,cu=null,sl=null;function ad(){if(sl)return sl;var t,n=cu,s=n.length,l,u="value"in mi?mi.value:mi.textContent,f=u.length;for(t=0;t<s&&n[t]===u[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===u[f-l];l++);return sl=u.slice(t,1<l?1-l:void 0)}function ll(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ol(){return!0}function sd(){return!1}function xt(t){function n(s,l,u,f,g){this._reactName=s,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var p in t)t.hasOwnProperty(p)&&(s=t[p],this[p]=s?s(f):f[p]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ol:sd,this.isPropagationStopped=sd,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ol)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ol)},persist:function(){},isPersistent:ol}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=xt($i),La=A({},$i,{view:0,detail:0}),wv=xt(La),fu,hu,Ma,cl=A({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ma&&(Ma&&t.type==="mousemove"?(fu=t.screenX-Ma.screenX,hu=t.screenY-Ma.screenY):hu=fu=0,Ma=t),fu)},movementY:function(t){return"movementY"in t?t.movementY:hu}}),ld=xt(cl),Dv=A({},cl,{dataTransfer:0}),xv=xt(Dv),Ov=A({},La,{relatedTarget:0}),du=xt(Ov),Vv=A({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Uv=xt(Vv),Bv=A({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lv=xt(Bv),Mv=A({},$i,{data:0}),od=xt(Mv),_v={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yv(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=zv[t])?!!n[t]:!1}function gu(){return Yv}var Gv=A({},La,{key:function(t){if(t.key){var n=_v[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(t){return t.type==="keypress"?ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wv=xt(Gv),Kv=A({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ud=xt(Kv),Xv=A({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),Jv=xt(Xv),kv=A({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),jv=xt(kv),Fv=A({},cl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hv=xt(Fv),Qv=A({},$i,{newState:0,oldState:0}),$v=xt(Qv),Pv=[9,13,27,32],mu=Kn&&"CompositionEvent"in window,_a=null;Kn&&"documentMode"in document&&(_a=document.documentMode);var qv=Kn&&"TextEvent"in window&&!_a,cd=Kn&&(!mu||_a&&8<_a&&11>=_a),fd=" ",hd=!1;function dd(t,n){switch(t){case"keyup":return Pv.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xr=!1;function eA(t,n){switch(t){case"compositionend":return gd(n);case"keypress":return n.which!==32?null:(hd=!0,fd);case"textInput":return t=n.data,t===fd&&hd?null:t;default:return null}}function tA(t,n){if(xr)return t==="compositionend"||!mu&&dd(t,n)?(t=ad(),sl=cu=mi=null,xr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return cd&&n.locale!=="ko"?null:n.data;default:return null}}var nA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function md(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!nA[t.type]:n==="textarea"}function yd(t,n,s,l){wr?Dr?Dr.push(l):Dr=[l]:wr=l,n=ql(n,"onChange"),0<n.length&&(s=new ul("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Za=null,za=null;function iA(t){Pm(t,0)}function fl(t){var n=Va(t);if($h(n))return t}function pd(t,n){if(t==="change")return n}var bd=!1;if(Kn){var yu;if(Kn){var pu="oninput"in document;if(!pu){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),pu=typeof vd.oninput=="function"}yu=pu}else yu=!1;bd=yu&&(!document.documentMode||9<document.documentMode)}function Ad(){Za&&(Za.detachEvent("onpropertychange",Sd),za=Za=null)}function Sd(t){if(t.propertyName==="value"&&fl(za)){var n=[];yd(n,za,t,lu(t)),rd(iA,n)}}function rA(t,n,s){t==="focusin"?(Ad(),Za=n,za=s,Za.attachEvent("onpropertychange",Sd)):t==="focusout"&&Ad()}function aA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fl(za)}function sA(t,n){if(t==="click")return fl(n)}function lA(t,n){if(t==="input"||t==="change")return fl(n)}function oA(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Jt=typeof Object.is=="function"?Object.is:oA;function Ya(t,n){if(Jt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var u=s[l];if(!Fo.call(n,u)||!Jt(t[u],n[u]))return!1}return!0}function Ed(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nd(t,n){var s=Ed(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ed(s)}}function Td(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Td(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Rd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=rl(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=rl(t.document)}return n}function bu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var uA=Kn&&"documentMode"in document&&11>=document.documentMode,Or=null,vu=null,Ga=null,Au=!1;function Cd(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Au||Or==null||Or!==rl(l)||(l=Or,"selectionStart"in l&&bu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ga&&Ya(Ga,l)||(Ga=l,l=ql(vu,"onSelect"),0<l.length&&(n=new ul("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Or)))}function Pi(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Vr={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionrun:Pi("Transition","TransitionRun"),transitionstart:Pi("Transition","TransitionStart"),transitioncancel:Pi("Transition","TransitionCancel"),transitionend:Pi("Transition","TransitionEnd")},Su={},Id={};Kn&&(Id=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function qi(t){if(Su[t])return Su[t];if(!Vr[t])return t;var n=Vr[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Id)return Su[t]=n[s];return t}var wd=qi("animationend"),Dd=qi("animationiteration"),xd=qi("animationstart"),cA=qi("transitionrun"),fA=qi("transitionstart"),hA=qi("transitioncancel"),Od=qi("transitionend"),Vd=new Map,Eu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eu.push("scrollEnd");function vn(t,n){Vd.set(t,n),Qi(n,[t])}var hl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},nn=[],Ur=0,Nu=0;function dl(){for(var t=Ur,n=Nu=Ur=0;n<t;){var s=nn[n];nn[n++]=null;var l=nn[n];nn[n++]=null;var u=nn[n];nn[n++]=null;var f=nn[n];if(nn[n++]=null,l!==null&&u!==null){var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}f!==0&&Ud(s,u,f)}}function gl(t,n,s,l){nn[Ur++]=t,nn[Ur++]=n,nn[Ur++]=s,nn[Ur++]=l,Nu|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Tu(t,n,s,l){return gl(t,n,s,l),ml(t)}function er(t,n){return gl(t,null,null,n),ml(t)}function Ud(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var u=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&n!==null&&(u=31-Xt(s),t=f.hiddenUpdates,l=t[u],l===null?t[u]=[n]:l.push(n),n.lane=s|536870912),f):null}function ml(t){if(50<us)throw us=0,Uc=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Br={};function dA(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(t,n,s,l){return new dA(t,n,s,l)}function Ru(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xn(t,n){var s=t.alternate;return s===null?(s=kt(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Bd(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function yl(t,n,s,l,u,f){var g=0;if(l=t,typeof t=="function")Ru(t)&&(g=1);else if(typeof t=="string")g=bS(t,s,$.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Je:return t=kt(31,s,n,u),t.elementType=Je,t.lanes=f,t;case V:return tr(s.children,u,f,n);case Y:g=8,u|=24;break;case H:return t=kt(12,s,n,u|2),t.elementType=H,t.lanes=f,t;case J:return t=kt(13,s,n,u),t.elementType=J,t.lanes=f,t;case X:return t=kt(19,s,n,u),t.elementType=X,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:g=10;break e;case ne:g=9;break e;case ee:g=11;break e;case W:g=14;break e;case re:g=16,l=null;break e}g=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=kt(g,s,n,u),n.elementType=t,n.type=l,n.lanes=f,n}function tr(t,n,s,l){return t=kt(7,t,l,n),t.lanes=s,t}function Cu(t,n,s){return t=kt(6,t,null,n),t.lanes=s,t}function Ld(t){var n=kt(18,null,null,0);return n.stateNode=t,n}function Iu(t,n,s){return n=kt(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Md=new WeakMap;function rn(t,n){if(typeof t=="object"&&t!==null){var s=Md.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Lh(n)},Md.set(t,n),n)}return{value:t,source:n,stack:Lh(n)}}var Lr=[],Mr=0,pl=null,Wa=0,an=[],sn=0,yi=null,xn=1,On="";function Jn(t,n){Lr[Mr++]=Wa,Lr[Mr++]=pl,pl=t,Wa=n}function _d(t,n,s){an[sn++]=xn,an[sn++]=On,an[sn++]=yi,yi=t;var l=xn;t=On;var u=32-Xt(l)-1;l&=~(1<<u),s+=1;var f=32-Xt(n)+u;if(30<f){var g=u-u%5;f=(l&(1<<g)-1).toString(32),l>>=g,u-=g,xn=1<<32-Xt(n)+u|s<<u|l,On=f+t}else xn=1<<f|s<<u|l,On=t}function wu(t){t.return!==null&&(Jn(t,1),_d(t,1,0))}function Du(t){for(;t===pl;)pl=Lr[--Mr],Lr[Mr]=null,Wa=Lr[--Mr],Lr[Mr]=null;for(;t===yi;)yi=an[--sn],an[sn]=null,On=an[--sn],an[sn]=null,xn=an[--sn],an[sn]=null}function Zd(t,n){an[sn++]=xn,an[sn++]=On,an[sn++]=yi,xn=n.id,On=n.overflow,yi=t}var mt=null,We=null,Te=!1,pi=null,ln=!1,xu=Error(a(519));function bi(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ka(rn(n,t)),xu}function zd(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[gt]=t,n[Dt]=l,s){case"dialog":Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":case"embed":Ae("load",n);break;case"video":case"audio":for(s=0;s<fs.length;s++)Ae(fs[s],n);break;case"source":Ae("error",n);break;case"img":case"image":case"link":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"input":Ae("invalid",n),Ph(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ae("invalid",n);break;case"textarea":Ae("invalid",n),ed(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||ny(n.textContent,s)?(l.popover!=null&&(Ae("beforetoggle",n),Ae("toggle",n)),l.onScroll!=null&&Ae("scroll",n),l.onScrollEnd!=null&&Ae("scrollend",n),l.onClick!=null&&(n.onclick=Wn),n=!0):n=!1,n||bi(t,!0)}function Yd(t){for(mt=t.return;mt;)switch(mt.tag){case 5:case 31:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:mt=mt.return}}function _r(t){if(t!==mt)return!1;if(!Te)return Yd(t),Te=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Fc(t.type,t.memoizedProps)),s=!s),s&&We&&bi(t),Yd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));We=fy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));We=fy(t)}else n===27?(n=We,Vi(t.type)?(t=qc,qc=null,We=t):We=n):We=mt?un(t.stateNode.nextSibling):null;return!0}function nr(){We=mt=null,Te=!1}function Ou(){var t=pi;return t!==null&&(Bt===null?Bt=t:Bt.push.apply(Bt,t),pi=null),t}function Ka(t){pi===null?pi=[t]:pi.push(t)}var Vu=N(null),ir=null,kn=null;function vi(t,n,s){F(Vu,n._currentValue),n._currentValue=s}function jn(t){t._currentValue=Vu.current,z(Vu)}function Uu(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Bu(t,n,s,l){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var p=f;f=u;for(var v=0;v<n.length;v++)if(p.context===n[v]){f.lanes|=s,p=f.alternate,p!==null&&(p.lanes|=s),Uu(f.return,s,t),l||(g=null);break e}f=p.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Uu(g,s,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Zr(t,n,s,l){t=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var p=u.type;Jt(u.pendingProps.value,g.value)||(t!==null?t.push(p):t=[p])}}else if(u===De.current){if(g=u.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(ys):t=[ys])}u=u.return}t!==null&&Bu(n,t,s,l),n.flags|=262144}function bl(t){for(t=t.firstContext;t!==null;){if(!Jt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rr(t){ir=t,kn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function yt(t){return Gd(ir,t)}function vl(t,n){return ir===null&&rr(t),Gd(t,n)}function Gd(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},kn===null){if(t===null)throw Error(a(308));kn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else kn=kn.next=n;return s}var gA=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},mA=i.unstable_scheduleCallback,yA=i.unstable_NormalPriority,it={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lu(){return{controller:new gA,data:new Map,refCount:0}}function Xa(t){t.refCount--,t.refCount===0&&mA(yA,function(){t.controller.abort()})}var Ja=null,Mu=0,zr=0,Yr=null;function pA(t,n){if(Ja===null){var s=Ja=[];Mu=0,zr=zc(),Yr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Mu++,n.then(Wd,Wd),n}function Wd(){if(--Mu===0&&Ja!==null){Yr!==null&&(Yr.status="fulfilled");var t=Ja;Ja=null,zr=0,Yr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function bA(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<s.length;u++)(0,s[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),l}var Kd=M.S;M.S=function(t,n){Cm=Wt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&pA(t,n),Kd!==null&&Kd(t,n)};var ar=N(null);function _u(){var t=ar.current;return t!==null?t:ze.pooledCache}function Al(t,n){n===null?F(ar,ar.current):F(ar,n.pool)}function Xd(){var t=_u();return t===null?null:{parent:it._currentValue,pool:t}}var Gr=Error(a(460)),Zu=Error(a(474)),Sl=Error(a(542)),El={then:function(){}};function Jd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function kd(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Wn,Wn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fd(t),t;default:if(typeof n.status=="string")n.then(Wn,Wn);else{if(t=ze,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fd(t),t}throw lr=n,Gr}}function sr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(lr=s,Gr):s}}var lr=null;function jd(){if(lr===null)throw Error(a(459));var t=lr;return lr=null,t}function Fd(t){if(t===Gr||t===Sl)throw Error(a(483))}var Wr=null,ka=0;function Nl(t){var n=ka;return ka+=1,Wr===null&&(Wr=[]),kd(Wr,t,n)}function ja(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Tl(t,n){throw n.$$typeof===w?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Hd(t){function n(I,S){if(t){var x=I.deletions;x===null?(I.deletions=[S],I.flags|=16):x.push(S)}}function s(I,S){if(!t)return null;for(;S!==null;)n(I,S),S=S.sibling;return null}function l(I){for(var S=new Map;I!==null;)I.key!==null?S.set(I.key,I):S.set(I.index,I),I=I.sibling;return S}function u(I,S){return I=Xn(I,S),I.index=0,I.sibling=null,I}function f(I,S,x){return I.index=x,t?(x=I.alternate,x!==null?(x=x.index,x<S?(I.flags|=67108866,S):x):(I.flags|=67108866,S)):(I.flags|=1048576,S)}function g(I){return t&&I.alternate===null&&(I.flags|=67108866),I}function p(I,S,x,_){return S===null||S.tag!==6?(S=Cu(x,I.mode,_),S.return=I,S):(S=u(S,x),S.return=I,S)}function v(I,S,x,_){var ae=x.type;return ae===V?L(I,S,x.props.children,_,x.key):S!==null&&(S.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===re&&sr(ae)===S.type)?(S=u(S,x.props),ja(S,x),S.return=I,S):(S=yl(x.type,x.key,x.props,null,I.mode,_),ja(S,x),S.return=I,S)}function O(I,S,x,_){return S===null||S.tag!==4||S.stateNode.containerInfo!==x.containerInfo||S.stateNode.implementation!==x.implementation?(S=Iu(x,I.mode,_),S.return=I,S):(S=u(S,x.children||[]),S.return=I,S)}function L(I,S,x,_,ae){return S===null||S.tag!==7?(S=tr(x,I.mode,_,ae),S.return=I,S):(S=u(S,x),S.return=I,S)}function Z(I,S,x){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Cu(""+S,I.mode,x),S.return=I,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case R:return x=yl(S.type,S.key,S.props,null,I.mode,x),ja(x,S),x.return=I,x;case C:return S=Iu(S,I.mode,x),S.return=I,S;case re:return S=sr(S),Z(I,S,x)}if(Gt(S)||Ge(S))return S=tr(S,I.mode,x,null),S.return=I,S;if(typeof S.then=="function")return Z(I,Nl(S),x);if(S.$$typeof===K)return Z(I,vl(I,S),x);Tl(I,S)}return null}function U(I,S,x,_){var ae=S!==null?S.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return ae!==null?null:p(I,S,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case R:return x.key===ae?v(I,S,x,_):null;case C:return x.key===ae?O(I,S,x,_):null;case re:return x=sr(x),U(I,S,x,_)}if(Gt(x)||Ge(x))return ae!==null?null:L(I,S,x,_,null);if(typeof x.then=="function")return U(I,S,Nl(x),_);if(x.$$typeof===K)return U(I,S,vl(I,x),_);Tl(I,x)}return null}function B(I,S,x,_,ae){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return I=I.get(x)||null,p(S,I,""+_,ae);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case R:return I=I.get(_.key===null?x:_.key)||null,v(S,I,_,ae);case C:return I=I.get(_.key===null?x:_.key)||null,O(S,I,_,ae);case re:return _=sr(_),B(I,S,x,_,ae)}if(Gt(_)||Ge(_))return I=I.get(x)||null,L(S,I,_,ae,null);if(typeof _.then=="function")return B(I,S,x,Nl(_),ae);if(_.$$typeof===K)return B(I,S,x,vl(S,_),ae);Tl(S,_)}return null}function Q(I,S,x,_){for(var ae=null,Ce=null,q=S,ge=S=0,Ne=null;q!==null&&ge<x.length;ge++){q.index>ge?(Ne=q,q=null):Ne=q.sibling;var Ie=U(I,q,x[ge],_);if(Ie===null){q===null&&(q=Ne);break}t&&q&&Ie.alternate===null&&n(I,q),S=f(Ie,S,ge),Ce===null?ae=Ie:Ce.sibling=Ie,Ce=Ie,q=Ne}if(ge===x.length)return s(I,q),Te&&Jn(I,ge),ae;if(q===null){for(;ge<x.length;ge++)q=Z(I,x[ge],_),q!==null&&(S=f(q,S,ge),Ce===null?ae=q:Ce.sibling=q,Ce=q);return Te&&Jn(I,ge),ae}for(q=l(q);ge<x.length;ge++)Ne=B(q,I,ge,x[ge],_),Ne!==null&&(t&&Ne.alternate!==null&&q.delete(Ne.key===null?ge:Ne.key),S=f(Ne,S,ge),Ce===null?ae=Ne:Ce.sibling=Ne,Ce=Ne);return t&&q.forEach(function(_i){return n(I,_i)}),Te&&Jn(I,ge),ae}function le(I,S,x,_){if(x==null)throw Error(a(151));for(var ae=null,Ce=null,q=S,ge=S=0,Ne=null,Ie=x.next();q!==null&&!Ie.done;ge++,Ie=x.next()){q.index>ge?(Ne=q,q=null):Ne=q.sibling;var _i=U(I,q,Ie.value,_);if(_i===null){q===null&&(q=Ne);break}t&&q&&_i.alternate===null&&n(I,q),S=f(_i,S,ge),Ce===null?ae=_i:Ce.sibling=_i,Ce=_i,q=Ne}if(Ie.done)return s(I,q),Te&&Jn(I,ge),ae;if(q===null){for(;!Ie.done;ge++,Ie=x.next())Ie=Z(I,Ie.value,_),Ie!==null&&(S=f(Ie,S,ge),Ce===null?ae=Ie:Ce.sibling=Ie,Ce=Ie);return Te&&Jn(I,ge),ae}for(q=l(q);!Ie.done;ge++,Ie=x.next())Ie=B(q,I,ge,Ie.value,_),Ie!==null&&(t&&Ie.alternate!==null&&q.delete(Ie.key===null?ge:Ie.key),S=f(Ie,S,ge),Ce===null?ae=Ie:Ce.sibling=Ie,Ce=Ie);return t&&q.forEach(function(DS){return n(I,DS)}),Te&&Jn(I,ge),ae}function _e(I,S,x,_){if(typeof x=="object"&&x!==null&&x.type===V&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case R:e:{for(var ae=x.key;S!==null;){if(S.key===ae){if(ae=x.type,ae===V){if(S.tag===7){s(I,S.sibling),_=u(S,x.props.children),_.return=I,I=_;break e}}else if(S.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===re&&sr(ae)===S.type){s(I,S.sibling),_=u(S,x.props),ja(_,x),_.return=I,I=_;break e}s(I,S);break}else n(I,S);S=S.sibling}x.type===V?(_=tr(x.props.children,I.mode,_,x.key),_.return=I,I=_):(_=yl(x.type,x.key,x.props,null,I.mode,_),ja(_,x),_.return=I,I=_)}return g(I);case C:e:{for(ae=x.key;S!==null;){if(S.key===ae)if(S.tag===4&&S.stateNode.containerInfo===x.containerInfo&&S.stateNode.implementation===x.implementation){s(I,S.sibling),_=u(S,x.children||[]),_.return=I,I=_;break e}else{s(I,S);break}else n(I,S);S=S.sibling}_=Iu(x,I.mode,_),_.return=I,I=_}return g(I);case re:return x=sr(x),_e(I,S,x,_)}if(Gt(x))return Q(I,S,x,_);if(Ge(x)){if(ae=Ge(x),typeof ae!="function")throw Error(a(150));return x=ae.call(x),le(I,S,x,_)}if(typeof x.then=="function")return _e(I,S,Nl(x),_);if(x.$$typeof===K)return _e(I,S,vl(I,x),_);Tl(I,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,S!==null&&S.tag===6?(s(I,S.sibling),_=u(S,x),_.return=I,I=_):(s(I,S),_=Cu(x,I.mode,_),_.return=I,I=_),g(I)):s(I,S)}return function(I,S,x,_){try{ka=0;var ae=_e(I,S,x,_);return Wr=null,ae}catch(q){if(q===Gr||q===Sl)throw q;var Ce=kt(29,q,null,I.mode);return Ce.lanes=_,Ce.return=I,Ce}finally{}}}var or=Hd(!0),Qd=Hd(!1),Ai=!1;function zu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Si(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ei(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(we&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=ml(t),Ud(t,null,s),n}return gl(t,l,n,s),ml(t)}function Fa(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Gh(t,s)}}function Gu(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var u=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?u=f=n:f=f.next=n}else u=f=n;s={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Wu=!1;function Ha(){if(Wu){var t=Yr;if(t!==null)throw t}}function Qa(t,n,s,l){Wu=!1;var u=t.updateQueue;Ai=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,p=u.shared.pending;if(p!==null){u.shared.pending=null;var v=p,O=v.next;v.next=null,g===null?f=O:g.next=O,g=v;var L=t.alternate;L!==null&&(L=L.updateQueue,p=L.lastBaseUpdate,p!==g&&(p===null?L.firstBaseUpdate=O:p.next=O,L.lastBaseUpdate=v))}if(f!==null){var Z=u.baseState;g=0,L=O=v=null,p=f;do{var U=p.lane&-536870913,B=U!==p.lane;if(B?(Ee&U)===U:(l&U)===U){U!==0&&U===zr&&(Wu=!0),L!==null&&(L=L.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var Q=t,le=p;U=n;var _e=s;switch(le.tag){case 1:if(Q=le.payload,typeof Q=="function"){Z=Q.call(_e,Z,U);break e}Z=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=le.payload,U=typeof Q=="function"?Q.call(_e,Z,U):Q,U==null)break e;Z=A({},Z,U);break e;case 2:Ai=!0}}U=p.callback,U!==null&&(t.flags|=64,B&&(t.flags|=8192),B=u.callbacks,B===null?u.callbacks=[U]:B.push(U))}else B={lane:U,tag:p.tag,payload:p.payload,callback:p.callback,next:null},L===null?(O=L=B,v=Z):L=L.next=B,g|=U;if(p=p.next,p===null){if(p=u.shared.pending,p===null)break;B=p,p=B.next,B.next=null,u.lastBaseUpdate=B,u.shared.pending=null}}while(!0);L===null&&(v=Z),u.baseState=v,u.firstBaseUpdate=O,u.lastBaseUpdate=L,f===null&&(u.shared.lanes=0),Ii|=g,t.lanes=g,t.memoizedState=Z}}function $d(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Pd(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)$d(s[t],n)}var Kr=N(null),Rl=N(0);function qd(t,n){t=ni,F(Rl,t),F(Kr,n),ni=t|n.baseLanes}function Ku(){F(Rl,ni),F(Kr,Kr.current)}function Xu(){ni=Rl.current,z(Kr),z(Rl)}var jt=N(null),on=null;function Ni(t){var n=t.alternate;F(qe,qe.current&1),F(jt,t),on===null&&(n===null||Kr.current!==null||n.memoizedState!==null)&&(on=t)}function Ju(t){F(qe,qe.current),F(jt,t),on===null&&(on=t)}function eg(t){t.tag===22?(F(qe,qe.current),F(jt,t),on===null&&(on=t)):Ti()}function Ti(){F(qe,qe.current),F(jt,jt.current)}function Ft(t){z(jt),on===t&&(on=null),z(qe)}var qe=N(0);function Cl(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||$c(s)||Pc(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Fn=0,de=null,Le=null,rt=null,Il=!1,Xr=!1,ur=!1,wl=0,$a=0,Jr=null,vA=0;function Qe(){throw Error(a(321))}function ku(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Jt(t[s],n[s]))return!1;return!0}function ju(t,n,s,l,u,f){return Fn=f,de=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=t===null||t.memoizedState===null?_g:oc,ur=!1,f=s(l,u),ur=!1,Xr&&(f=ng(n,s,l,u)),tg(t),f}function tg(t){M.H=es;var n=Le!==null&&Le.next!==null;if(Fn=0,rt=Le=de=null,Il=!1,$a=0,Jr=null,n)throw Error(a(300));t===null||at||(t=t.dependencies,t!==null&&bl(t)&&(at=!0))}function ng(t,n,s,l){de=t;var u=0;do{if(Xr&&(Jr=null),$a=0,Xr=!1,25<=u)throw Error(a(301));if(u+=1,rt=Le=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=Zg,f=n(s,l)}while(Xr);return f}function AA(){var t=M.H,n=t.useState()[0];return n=typeof n.then=="function"?Pa(n):n,t=t.useState()[0],(Le!==null?Le.memoizedState:null)!==t&&(de.flags|=1024),n}function Fu(){var t=wl!==0;return wl=0,t}function Hu(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Qu(t){if(Il){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Il=!1}Fn=0,rt=Le=de=null,Xr=!1,$a=wl=0,Jr=null}function It(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?de.memoizedState=rt=t:rt=rt.next=t,rt}function et(){if(Le===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var n=rt===null?de.memoizedState:rt.next;if(n!==null)rt=n,Le=t;else{if(t===null)throw de.alternate===null?Error(a(467)):Error(a(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},rt===null?de.memoizedState=rt=t:rt=rt.next=t}return rt}function Dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pa(t){var n=$a;return $a+=1,Jr===null&&(Jr=[]),t=kd(Jr,t,n),n=de,(rt===null?n.memoizedState:rt.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?_g:oc),t}function xl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Pa(t);if(t.$$typeof===K)return yt(t)}throw Error(a(438,String(t)))}function $u(t){var n=null,s=de.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=de.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Dl(),de.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=dt;return n.index++,s}function Hn(t,n){return typeof n=="function"?n(t):n}function Ol(t){var n=et();return Pu(n,Le,t)}function Pu(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var u=t.baseQueue,f=l.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}n.baseQueue=u=f,l.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var p=g=null,v=null,O=n,L=!1;do{var Z=O.lane&-536870913;if(Z!==O.lane?(Ee&Z)===Z:(Fn&Z)===Z){var U=O.revertLane;if(U===0)v!==null&&(v=v.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),Z===zr&&(L=!0);else if((Fn&U)===U){O=O.next,U===zr&&(L=!0);continue}else Z={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},v===null?(p=v=Z,g=f):v=v.next=Z,de.lanes|=U,Ii|=U;Z=O.action,ur&&s(f,Z),f=O.hasEagerState?O.eagerState:s(f,Z)}else U={lane:Z,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},v===null?(p=v=U,g=f):v=v.next=U,de.lanes|=Z,Ii|=Z;O=O.next}while(O!==null&&O!==n);if(v===null?g=f:v.next=p,!Jt(f,t.memoizedState)&&(at=!0,L&&(s=Yr,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=v,l.lastRenderedState=f}return u===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function qu(t){var n=et(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,u=s.pending,f=n.memoizedState;if(u!==null){s.pending=null;var g=u=u.next;do f=t(f,g.action),g=g.next;while(g!==u);Jt(f,n.memoizedState)||(at=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function ig(t,n,s){var l=de,u=et(),f=Te;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Jt((Le||u).memoizedState,s);if(g&&(u.memoizedState=s,at=!0),u=u.queue,nc(sg.bind(null,l,u,t),[t]),u.getSnapshot!==n||g||rt!==null&&rt.memoizedState.tag&1){if(l.flags|=2048,kr(9,{destroy:void 0},ag.bind(null,l,u,s,n),null),ze===null)throw Error(a(349));f||(Fn&127)!==0||rg(l,n,s)}return s}function rg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=de.updateQueue,n===null?(n=Dl(),de.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function ag(t,n,s,l){n.value=s,n.getSnapshot=l,lg(n)&&og(t)}function sg(t,n,s){return s(function(){lg(n)&&og(t)})}function lg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Jt(t,s)}catch{return!0}}function og(t){var n=er(t,2);n!==null&&Lt(n,t,2)}function ec(t){var n=It();if(typeof t=="function"){var s=t;if(t=s(),ur){di(!0);try{s()}finally{di(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:t},n}function ug(t,n,s,l){return t.baseState=s,Pu(t,Le,typeof l=="function"?l:Hn)}function SA(t,n,s,l,u){if(Bl(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};M.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,cg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function cg(t,n){var s=n.action,l=n.payload,u=t.state;if(n.isTransition){var f=M.T,g={};M.T=g;try{var p=s(u,l),v=M.S;v!==null&&v(g,p),fg(t,n,p)}catch(O){tc(t,n,O)}finally{f!==null&&g.types!==null&&(f.types=g.types),M.T=f}}else try{f=s(u,l),fg(t,n,f)}catch(O){tc(t,n,O)}}function fg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){hg(t,n,l)},function(l){return tc(t,n,l)}):hg(t,n,s)}function hg(t,n,s){n.status="fulfilled",n.value=s,dg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,cg(t,s)))}function tc(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,dg(n),n=n.next;while(n!==l)}t.action=null}function dg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function gg(t,n){return n}function mg(t,n){if(Te){var s=ze.formState;if(s!==null){e:{var l=de;if(Te){if(We){t:{for(var u=We,f=ln;u.nodeType!==8;){if(!f){u=null;break t}if(u=un(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){We=un(u.nextSibling),l=u.data==="F!";break e}}bi(l)}l=!1}l&&(n=s[0])}}return s=It(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gg,lastRenderedState:n},s.queue=l,s=Bg.bind(null,de,l),l.dispatch=s,l=ec(!1),f=lc.bind(null,de,!1,l.queue),l=It(),u={state:n,dispatch:null,action:t,pending:null},l.queue=u,s=SA.bind(null,de,u,f,s),u.dispatch=s,l.memoizedState=t,[n,s,!1]}function yg(t){var n=et();return pg(n,Le,t)}function pg(t,n,s){if(n=Pu(t,n,gg)[0],t=Ol(Hn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Pa(n)}catch(g){throw g===Gr?Sl:g}else l=n;n=et();var u=n.queue,f=u.dispatch;return s!==n.memoizedState&&(de.flags|=2048,kr(9,{destroy:void 0},EA.bind(null,u,s),null)),[l,f,t]}function EA(t,n){t.action=n}function bg(t){var n=et(),s=Le;if(s!==null)return pg(n,s,t);et(),n=n.memoizedState,s=et();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function kr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=de.updateQueue,n===null&&(n=Dl(),de.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function vg(){return et().memoizedState}function Vl(t,n,s,l){var u=It();de.flags|=t,u.memoizedState=kr(1|n,{destroy:void 0},s,l===void 0?null:l)}function Ul(t,n,s,l){var u=et();l=l===void 0?null:l;var f=u.memoizedState.inst;Le!==null&&l!==null&&ku(l,Le.memoizedState.deps)?u.memoizedState=kr(n,f,s,l):(de.flags|=t,u.memoizedState=kr(1|n,f,s,l))}function Ag(t,n){Vl(8390656,8,t,n)}function nc(t,n){Ul(2048,8,t,n)}function NA(t){de.flags|=4;var n=de.updateQueue;if(n===null)n=Dl(),de.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Sg(t){var n=et().memoizedState;return NA({ref:n,nextImpl:t}),function(){if((we&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Eg(t,n){return Ul(4,2,t,n)}function Ng(t,n){return Ul(4,4,t,n)}function Tg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Rg(t,n,s){s=s!=null?s.concat([t]):null,Ul(4,4,Tg.bind(null,n,t),s)}function ic(){}function Cg(t,n){var s=et();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&ku(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Ig(t,n){var s=et();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&ku(n,l[1]))return l[0];if(l=t(),ur){di(!0);try{t()}finally{di(!1)}}return s.memoizedState=[l,n],l}function rc(t,n,s){return s===void 0||(Fn&1073741824)!==0&&(Ee&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=wm(),de.lanes|=t,Ii|=t,s)}function wg(t,n,s,l){return Jt(s,n)?s:Kr.current!==null?(t=rc(t,s,l),Jt(t,n)||(at=!0),t):(Fn&42)===0||(Fn&1073741824)!==0&&(Ee&261930)===0?(at=!0,t.memoizedState=s):(t=wm(),de.lanes|=t,Ii|=t,n)}function Dg(t,n,s,l,u){var f=k.p;k.p=f!==0&&8>f?f:8;var g=M.T,p={};M.T=p,lc(t,!1,n,s);try{var v=u(),O=M.S;if(O!==null&&O(p,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var L=bA(v,l);qa(t,n,L,$t(t))}else qa(t,n,l,$t(t))}catch(Z){qa(t,n,{then:function(){},status:"rejected",reason:Z},$t())}finally{k.p=f,g!==null&&p.types!==null&&(g.types=p.types),M.T=g}}function TA(){}function ac(t,n,s,l){if(t.tag!==5)throw Error(a(476));var u=xg(t).queue;Dg(t,u,n,oe,s===null?TA:function(){return Og(t),s(l)})}function xg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:oe},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Og(t){var n=xg(t);n.next===null&&(n=t.alternate.memoizedState),qa(t,n.next.queue,{},$t())}function sc(){return yt(ys)}function Vg(){return et().memoizedState}function Ug(){return et().memoizedState}function RA(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=$t();t=Si(s);var l=Ei(n,t,s);l!==null&&(Lt(l,n,s),Fa(l,n,s)),n={cache:Lu()},t.payload=n;return}n=n.return}}function CA(t,n,s){var l=$t();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Bl(t)?Lg(n,s):(s=Tu(t,n,s,l),s!==null&&(Lt(s,t,l),Mg(s,n,l)))}function Bg(t,n,s){var l=$t();qa(t,n,s,l)}function qa(t,n,s,l){var u={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Bl(t))Lg(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,p=f(g,s);if(u.hasEagerState=!0,u.eagerState=p,Jt(p,g))return gl(t,n,u,0),ze===null&&dl(),!1}catch{}finally{}if(s=Tu(t,n,u,l),s!==null)return Lt(s,t,l),Mg(s,n,l),!0}return!1}function lc(t,n,s,l){if(l={lane:2,revertLane:zc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Bl(t)){if(n)throw Error(a(479))}else n=Tu(t,s,l,2),n!==null&&Lt(n,t,2)}function Bl(t){var n=t.alternate;return t===de||n!==null&&n===de}function Lg(t,n){Xr=Il=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Mg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Gh(t,s)}}var es={readContext:yt,use:xl,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};es.useEffectEvent=Qe;var _g={readContext:yt,use:xl,useCallback:function(t,n){return It().memoizedState=[t,n===void 0?null:n],t},useContext:yt,useEffect:Ag,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Vl(4194308,4,Tg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Vl(4194308,4,t,n)},useInsertionEffect:function(t,n){Vl(4,2,t,n)},useMemo:function(t,n){var s=It();n=n===void 0?null:n;var l=t();if(ur){di(!0);try{t()}finally{di(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=It();if(s!==void 0){var u=s(n);if(ur){di(!0);try{s(n)}finally{di(!1)}}}else u=n;return l.memoizedState=l.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},l.queue=t,t=t.dispatch=CA.bind(null,de,t),[l.memoizedState,t]},useRef:function(t){var n=It();return t={current:t},n.memoizedState=t},useState:function(t){t=ec(t);var n=t.queue,s=Bg.bind(null,de,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:ic,useDeferredValue:function(t,n){var s=It();return rc(s,t,n)},useTransition:function(){var t=ec(!1);return t=Dg.bind(null,de,t.queue,!0,!1),It().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=de,u=It();if(Te){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ze===null)throw Error(a(349));(Ee&127)!==0||rg(l,n,s)}u.memoizedState=s;var f={value:s,getSnapshot:n};return u.queue=f,Ag(sg.bind(null,l,f,t),[t]),l.flags|=2048,kr(9,{destroy:void 0},ag.bind(null,l,f,s,n),null),s},useId:function(){var t=It(),n=ze.identifierPrefix;if(Te){var s=On,l=xn;s=(l&~(1<<32-Xt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=wl++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=vA++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:sc,useFormState:mg,useActionState:mg,useOptimistic:function(t){var n=It();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=lc.bind(null,de,!0,s),s.dispatch=n,[t,n]},useMemoCache:$u,useCacheRefresh:function(){return It().memoizedState=RA.bind(null,de)},useEffectEvent:function(t){var n=It(),s={impl:t};return n.memoizedState=s,function(){if((we&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},oc={readContext:yt,use:xl,useCallback:Cg,useContext:yt,useEffect:nc,useImperativeHandle:Rg,useInsertionEffect:Eg,useLayoutEffect:Ng,useMemo:Ig,useReducer:Ol,useRef:vg,useState:function(){return Ol(Hn)},useDebugValue:ic,useDeferredValue:function(t,n){var s=et();return wg(s,Le.memoizedState,t,n)},useTransition:function(){var t=Ol(Hn)[0],n=et().memoizedState;return[typeof t=="boolean"?t:Pa(t),n]},useSyncExternalStore:ig,useId:Vg,useHostTransitionStatus:sc,useFormState:yg,useActionState:yg,useOptimistic:function(t,n){var s=et();return ug(s,Le,t,n)},useMemoCache:$u,useCacheRefresh:Ug};oc.useEffectEvent=Sg;var Zg={readContext:yt,use:xl,useCallback:Cg,useContext:yt,useEffect:nc,useImperativeHandle:Rg,useInsertionEffect:Eg,useLayoutEffect:Ng,useMemo:Ig,useReducer:qu,useRef:vg,useState:function(){return qu(Hn)},useDebugValue:ic,useDeferredValue:function(t,n){var s=et();return Le===null?rc(s,t,n):wg(s,Le.memoizedState,t,n)},useTransition:function(){var t=qu(Hn)[0],n=et().memoizedState;return[typeof t=="boolean"?t:Pa(t),n]},useSyncExternalStore:ig,useId:Vg,useHostTransitionStatus:sc,useFormState:bg,useActionState:bg,useOptimistic:function(t,n){var s=et();return Le!==null?ug(s,Le,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:$u,useCacheRefresh:Ug};Zg.useEffectEvent=Sg;function uc(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var cc={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=$t(),u=Si(l);u.payload=n,s!=null&&(u.callback=s),n=Ei(t,u,l),n!==null&&(Lt(n,t,l),Fa(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=$t(),u=Si(l);u.tag=1,u.payload=n,s!=null&&(u.callback=s),n=Ei(t,u,l),n!==null&&(Lt(n,t,l),Fa(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=$t(),l=Si(s);l.tag=2,n!=null&&(l.callback=n),n=Ei(t,l,s),n!==null&&(Lt(n,t,s),Fa(n,t,s))}};function zg(t,n,s,l,u,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ya(s,l)||!Ya(u,f):!0}function Yg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&cc.enqueueReplaceState(n,n.state,null)}function cr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var u in t)s[u]===void 0&&(s[u]=t[u])}return s}function Gg(t){hl(t)}function Wg(t){console.error(t)}function Kg(t){hl(t)}function Ll(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Xg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function fc(t,n,s){return s=Si(s),s.tag=3,s.payload={element:null},s.callback=function(){Ll(t,n)},s}function Jg(t){return t=Si(t),t.tag=3,t}function kg(t,n,s,l){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;t.payload=function(){return u(f)},t.callback=function(){Xg(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Xg(n,s,l),typeof u!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var p=l.stack;this.componentDidCatch(l.value,{componentStack:p!==null?p:""})})}function IA(t,n,s,l,u){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Zr(n,s,u,!0),s=jt.current,s!==null){switch(s.tag){case 31:case 13:return on===null?jl():s.alternate===null&&$e===0&&($e=3),s.flags&=-257,s.flags|=65536,s.lanes=u,l===El?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Mc(t,l,u)),!1;case 22:return s.flags|=65536,l===El?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Mc(t,l,u)),!1}throw Error(a(435,s.tag))}return Mc(t,l,u),jl(),!1}if(Te)return n=jt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==xu&&(t=Error(a(422),{cause:l}),Ka(rn(t,s)))):(l!==xu&&(n=Error(a(423),{cause:l}),Ka(rn(n,s))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,l=rn(l,s),u=fc(t.stateNode,l,u),Gu(t,u),$e!==4&&($e=2)),!1;var f=Error(a(520),{cause:l});if(f=rn(f,s),os===null?os=[f]:os.push(f),$e!==4&&($e=2),n===null)return!0;l=rn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=u&-u,s.lanes|=t,t=fc(s.stateNode,l,t),Gu(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wi===null||!wi.has(f))))return s.flags|=65536,u&=-u,s.lanes|=u,u=Jg(u),kg(u,t,s,l),Gu(s,u),!1}s=s.return}while(s!==null);return!1}var hc=Error(a(461)),at=!1;function pt(t,n,s,l){n.child=t===null?Qd(n,null,s,l):or(n,t.child,s,l)}function jg(t,n,s,l,u){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var p in l)p!=="ref"&&(g[p]=l[p])}else g=l;return rr(n),l=ju(t,n,s,g,f,u),p=Fu(),t!==null&&!at?(Hu(t,n,u),Qn(t,n,u)):(Te&&p&&wu(n),n.flags|=1,pt(t,n,l,u),n.child)}function Fg(t,n,s,l,u){if(t===null){var f=s.type;return typeof f=="function"&&!Ru(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Hg(t,n,f,l,u)):(t=yl(s.type,null,l,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ac(t,u)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ya,s(g,l)&&t.ref===n.ref)return Qn(t,n,u)}return n.flags|=1,t=Xn(f,l),t.ref=n.ref,t.return=n,n.child=t}function Hg(t,n,s,l,u){if(t!==null){var f=t.memoizedProps;if(Ya(f,l)&&t.ref===n.ref)if(at=!1,n.pendingProps=l=f,Ac(t,u))(t.flags&131072)!==0&&(at=!0);else return n.lanes=t.lanes,Qn(t,n,u)}return dc(t,n,s,l,u)}function Qg(t,n,s,l){var u=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~f}else l=0,n.child=null;return $g(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Al(n,f!==null?f.cachePool:null),f!==null?qd(n,f):Ku(),eg(n);else return l=n.lanes=536870912,$g(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Al(n,f.cachePool),qd(n,f),Ti(),n.memoizedState=null):(t!==null&&Al(n,null),Ku(),Ti());return pt(t,n,u,s),n.child}function ts(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function $g(t,n,s,l,u){var f=_u();return f=f===null?null:{parent:it._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Al(n,null),Ku(),eg(n),t!==null&&Zr(t,n,l,!0),n.childLanes=u,null}function Ml(t,n){return n=Zl({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Pg(t,n,s){return or(n,t.child,null,s),t=Ml(n,n.pendingProps),t.flags|=2,Ft(n),n.memoizedState=null,t}function wA(t,n,s){var l=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Te){if(l.mode==="hidden")return t=Ml(n,l),n.lanes=536870912,ts(null,t);if(Ju(n),(t=We)?(t=cy(t,ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:yi!==null?{id:xn,overflow:On}:null,retryLane:536870912,hydrationErrors:null},s=Ld(t),s.return=n,n.child=s,mt=n,We=null)):t=null,t===null)throw bi(n);return n.lanes=536870912,null}return Ml(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Ju(n),u)if(n.flags&256)n.flags&=-257,n=Pg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(at||Zr(t,n,s,!1),u=(s&t.childLanes)!==0,at||u){if(l=ze,l!==null&&(g=Wh(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,er(t,g),Lt(l,t,g),hc;jl(),n=Pg(t,n,s)}else t=f.treeContext,We=un(g.nextSibling),mt=n,Te=!0,pi=null,ln=!1,t!==null&&Zd(n,t),n=Ml(n,l),n.flags|=4096;return n}return t=Xn(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function _l(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function dc(t,n,s,l,u){return rr(n),s=ju(t,n,s,l,void 0,u),l=Fu(),t!==null&&!at?(Hu(t,n,u),Qn(t,n,u)):(Te&&l&&wu(n),n.flags|=1,pt(t,n,s,u),n.child)}function qg(t,n,s,l,u,f){return rr(n),n.updateQueue=null,s=ng(n,l,s,u),tg(t),l=Fu(),t!==null&&!at?(Hu(t,n,f),Qn(t,n,f)):(Te&&l&&wu(n),n.flags|=1,pt(t,n,s,f),n.child)}function em(t,n,s,l,u){if(rr(n),n.stateNode===null){var f=Br,g=s.contextType;typeof g=="object"&&g!==null&&(f=yt(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=cc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},zu(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?yt(g):Br,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(uc(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&cc.enqueueReplaceState(f,f.state,null),Qa(n,l,f,u),Ha(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var p=n.memoizedProps,v=cr(s,p);f.props=v;var O=f.context,L=s.contextType;g=Br,typeof L=="object"&&L!==null&&(g=yt(L));var Z=s.getDerivedStateFromProps;L=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",p=n.pendingProps!==p,L||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p||O!==g)&&Yg(n,f,l,g),Ai=!1;var U=n.memoizedState;f.state=U,Qa(n,l,f,u),Ha(),O=n.memoizedState,p||U!==O||Ai?(typeof Z=="function"&&(uc(n,s,Z,l),O=n.memoizedState),(v=Ai||zg(n,s,v,l,U,O,g))?(L||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=O),f.props=l,f.state=O,f.context=g,l=v):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Yu(t,n),g=n.memoizedProps,L=cr(s,g),f.props=L,Z=n.pendingProps,U=f.context,O=s.contextType,v=Br,typeof O=="object"&&O!==null&&(v=yt(O)),p=s.getDerivedStateFromProps,(O=typeof p=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Z||U!==v)&&Yg(n,f,l,v),Ai=!1,U=n.memoizedState,f.state=U,Qa(n,l,f,u),Ha();var B=n.memoizedState;g!==Z||U!==B||Ai||t!==null&&t.dependencies!==null&&bl(t.dependencies)?(typeof p=="function"&&(uc(n,s,p,l),B=n.memoizedState),(L=Ai||zg(n,s,L,l,U,B,v)||t!==null&&t.dependencies!==null&&bl(t.dependencies))?(O||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,v),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,v)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=v,l=L):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,_l(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=or(n,t.child,null,u),n.child=or(n,null,s,u)):pt(t,n,s,u),n.memoizedState=f.state,t=n.child):t=Qn(t,n,u),t}function tm(t,n,s,l){return nr(),n.flags|=256,pt(t,n,s,l),n.child}var gc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mc(t){return{baseLanes:t,cachePool:Xd()}}function yc(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Qt),t}function nm(t,n,s){var l=n.pendingProps,u=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(qe.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Te){if(u?Ni(n):Ti(),(t=We)?(t=cy(t,ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:yi!==null?{id:xn,overflow:On}:null,retryLane:536870912,hydrationErrors:null},s=Ld(t),s.return=n,n.child=s,mt=n,We=null)):t=null,t===null)throw bi(n);return Pc(t)?n.lanes=32:n.lanes=536870912,null}var p=l.children;return l=l.fallback,u?(Ti(),u=n.mode,p=Zl({mode:"hidden",children:p},u),l=tr(l,u,s,null),p.return=n,l.return=n,p.sibling=l,n.child=p,l=n.child,l.memoizedState=mc(s),l.childLanes=yc(t,g,s),n.memoizedState=gc,ts(null,l)):(Ni(n),pc(n,p))}var v=t.memoizedState;if(v!==null&&(p=v.dehydrated,p!==null)){if(f)n.flags&256?(Ni(n),n.flags&=-257,n=bc(t,n,s)):n.memoizedState!==null?(Ti(),n.child=t.child,n.flags|=128,n=null):(Ti(),p=l.fallback,u=n.mode,l=Zl({mode:"visible",children:l.children},u),p=tr(p,u,s,null),p.flags|=2,l.return=n,p.return=n,l.sibling=p,n.child=l,or(n,t.child,null,s),l=n.child,l.memoizedState=mc(s),l.childLanes=yc(t,g,s),n.memoizedState=gc,n=ts(null,l));else if(Ni(n),Pc(p)){if(g=p.nextSibling&&p.nextSibling.dataset,g)var O=g.dgst;g=O,l=Error(a(419)),l.stack="",l.digest=g,Ka({value:l,source:null,stack:null}),n=bc(t,n,s)}else if(at||Zr(t,n,s,!1),g=(s&t.childLanes)!==0,at||g){if(g=ze,g!==null&&(l=Wh(g,s),l!==0&&l!==v.retryLane))throw v.retryLane=l,er(t,l),Lt(g,t,l),hc;$c(p)||jl(),n=bc(t,n,s)}else $c(p)?(n.flags|=192,n.child=t.child,n=null):(t=v.treeContext,We=un(p.nextSibling),mt=n,Te=!0,pi=null,ln=!1,t!==null&&Zd(n,t),n=pc(n,l.children),n.flags|=4096);return n}return u?(Ti(),p=l.fallback,u=n.mode,v=t.child,O=v.sibling,l=Xn(v,{mode:"hidden",children:l.children}),l.subtreeFlags=v.subtreeFlags&65011712,O!==null?p=Xn(O,p):(p=tr(p,u,s,null),p.flags|=2),p.return=n,l.return=n,l.sibling=p,n.child=l,ts(null,l),l=n.child,p=t.child.memoizedState,p===null?p=mc(s):(u=p.cachePool,u!==null?(v=it._currentValue,u=u.parent!==v?{parent:v,pool:v}:u):u=Xd(),p={baseLanes:p.baseLanes|s,cachePool:u}),l.memoizedState=p,l.childLanes=yc(t,g,s),n.memoizedState=gc,ts(t.child,l)):(Ni(n),s=t.child,t=s.sibling,s=Xn(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function pc(t,n){return n=Zl({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zl(t,n){return t=kt(22,t,null,n),t.lanes=0,t}function bc(t,n,s){return or(n,t.child,null,s),t=pc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function im(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Uu(t.return,n,s)}function vc(t,n,s,l,u,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:u,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=u,g.treeForkCount=f)}function rm(t,n,s){var l=n.pendingProps,u=l.revealOrder,f=l.tail;l=l.children;var g=qe.current,p=(g&2)!==0;if(p?(g=g&1|2,n.flags|=128):g&=1,F(qe,g),pt(t,n,l,s),l=Te?Wa:0,!p&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&im(t,s,n);else if(t.tag===19)im(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(s=n.child,u=null;s!==null;)t=s.alternate,t!==null&&Cl(t)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),vc(n,!1,u,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&Cl(t)===null){n.child=u;break}t=u.sibling,u.sibling=s,s=u,u=t}vc(n,!0,s,null,f,l);break;case"together":vc(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Qn(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ii|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Zr(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Xn(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Xn(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Ac(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&bl(t)))}function DA(t,n,s){switch(n.tag){case 3:Ct(n,n.stateNode.containerInfo),vi(n,it,t.memoizedState.cache),nr();break;case 27:case 5:Ia(n);break;case 4:Ct(n,n.stateNode.containerInfo);break;case 10:vi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ju(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ni(n),n.flags|=128,null):(s&n.child.childLanes)!==0?nm(t,n,s):(Ni(n),t=Qn(t,n,s),t!==null?t.sibling:null);Ni(n);break;case 19:var u=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Zr(t,n,s,!1),l=(s&n.childLanes)!==0),u){if(l)return rm(t,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),F(qe,qe.current),l)break;return null;case 22:return n.lanes=0,Qg(t,n,s,n.pendingProps);case 24:vi(n,it,t.memoizedState.cache)}return Qn(t,n,s)}function am(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)at=!0;else{if(!Ac(t,s)&&(n.flags&128)===0)return at=!1,DA(t,n,s);at=(t.flags&131072)!==0}else at=!1,Te&&(n.flags&1048576)!==0&&_d(n,Wa,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=sr(n.elementType),n.type=t,typeof t=="function")Ru(t)?(l=cr(t,l),n.tag=1,n=em(null,n,t,l,s)):(n.tag=0,n=dc(null,n,t,l,s));else{if(t!=null){var u=t.$$typeof;if(u===ee){n.tag=11,n=jg(null,n,t,l,s);break e}else if(u===W){n.tag=14,n=Fg(null,n,t,l,s);break e}}throw n=bn(t)||t,Error(a(306,n,""))}}return n;case 0:return dc(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,u=cr(l,n.pendingProps),em(t,n,l,u,s);case 3:e:{if(Ct(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;u=f.element,Yu(t,n),Qa(n,l,null,s);var g=n.memoizedState;if(l=g.cache,vi(n,it,l),l!==f.cache&&Bu(n,[it],s,!0),Ha(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=tm(t,n,l,s);break e}else if(l!==u){u=rn(Error(a(424)),n),Ka(u),n=tm(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(We=un(t.firstChild),mt=n,Te=!0,pi=null,ln=!0,s=Qd(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(nr(),l===u){n=Qn(t,n,s);break e}pt(t,n,l,s)}n=n.child}return n;case 26:return _l(t,n),t===null?(s=yy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Te||(s=n.type,t=n.pendingProps,l=eo(be.current).createElement(s),l[gt]=n,l[Dt]=t,bt(l,s,t),ut(l),n.stateNode=l):n.memoizedState=yy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ia(n),t===null&&Te&&(l=n.stateNode=dy(n.type,n.pendingProps,be.current),mt=n,ln=!0,u=We,Vi(n.type)?(qc=u,We=un(l.firstChild)):We=u),pt(t,n,n.pendingProps.children,s),_l(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Te&&((u=l=We)&&(l=aS(l,n.type,n.pendingProps,ln),l!==null?(n.stateNode=l,mt=n,We=un(l.firstChild),ln=!1,u=!0):u=!1),u||bi(n)),Ia(n),u=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Fc(u,f)?l=null:g!==null&&Fc(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=ju(t,n,AA,null,null,s),ys._currentValue=u),_l(t,n),pt(t,n,l,s),n.child;case 6:return t===null&&Te&&((t=s=We)&&(s=sS(s,n.pendingProps,ln),s!==null?(n.stateNode=s,mt=n,We=null,t=!0):t=!1),t||bi(n)),null;case 13:return nm(t,n,s);case 4:return Ct(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=or(n,null,l,s):pt(t,n,l,s),n.child;case 11:return jg(t,n,n.type,n.pendingProps,s);case 7:return pt(t,n,n.pendingProps,s),n.child;case 8:return pt(t,n,n.pendingProps.children,s),n.child;case 12:return pt(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,vi(n,n.type,l.value),pt(t,n,l.children,s),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,rr(n),u=yt(u),l=l(u),n.flags|=1,pt(t,n,l,s),n.child;case 14:return Fg(t,n,n.type,n.pendingProps,s);case 15:return Hg(t,n,n.type,n.pendingProps,s);case 19:return rm(t,n,s);case 31:return wA(t,n,s);case 22:return Qg(t,n,s,n.pendingProps);case 24:return rr(n),l=yt(it),t===null?(u=_u(),u===null&&(u=ze,f=Lu(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=s),u=f),n.memoizedState={parent:l,cache:u},zu(n),vi(n,it,u)):((t.lanes&s)!==0&&(Yu(t,n),Qa(n,null,null,s),Ha()),u=t.memoizedState,f=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),vi(n,it,l)):(l=f.cache,vi(n,it,l),l!==u.cache&&Bu(n,[it],s,!0))),pt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function $n(t){t.flags|=4}function Sc(t,n,s,l,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(Vm())t.flags|=8192;else throw lr=El,Zu}else t.flags&=-16777217}function sm(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Sy(n))if(Vm())t.flags|=8192;else throw lr=El,Zu}function zl(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?zh():536870912,t.lanes|=n,Qr|=n)}function ns(t,n){if(!Te)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ke(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var u=t.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function xA(t,n,s){var l=n.pendingProps;switch(Du(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(n),null;case 1:return Ke(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),jn(it),Pe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(_r(n)?$n(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ou())),Ke(n),null;case 26:var u=n.type,f=n.memoizedState;return t===null?($n(n),f!==null?(Ke(n),sm(n,f)):(Ke(n),Sc(n,u,null,l,s))):f?f!==t.memoizedState?($n(n),Ke(n),sm(n,f)):(Ke(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&$n(n),Ke(n),Sc(n,u,t,l,s)),null;case 27:if(Qs(n),s=be.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&$n(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Ke(n),null}t=$.current,_r(n)?zd(n):(t=dy(u,l,s),n.stateNode=t,$n(n))}return Ke(n),null;case 5:if(Qs(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&$n(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Ke(n),null}if(f=$.current,_r(n))zd(n);else{var g=eo(be.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(u,{is:l.is}):g.createElement(u)}}f[gt]=n,f[Dt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(bt(f,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&$n(n)}}return Ke(n),Sc(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&$n(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=be.current,_r(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,u=mt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}t[gt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||ny(t.nodeValue,s)),t||bi(n,!0)}else t=eo(t).createTextNode(l),t[gt]=n,n.stateNode=t}return Ke(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=_r(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[gt]=n}else nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ke(n),t=!1}else s=Ou(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Ft(n),n):(Ft(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Ke(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=_r(n),l!==null&&l.dehydrated!==null){if(t===null){if(!u)throw Error(a(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));u[gt]=n}else nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ke(n),u=!1}else u=Ou(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(Ft(n),n):(Ft(n),null)}return Ft(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),zl(n,n.updateQueue),Ke(n),null);case 4:return Pe(),t===null&&Kc(n.stateNode.containerInfo),Ke(n),null;case 10:return jn(n.type),Ke(n),null;case 19:if(z(qe),l=n.memoizedState,l===null)return Ke(n),null;if(u=(n.flags&128)!==0,f=l.rendering,f===null)if(u)ns(l,!1);else{if($e!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Cl(t),f!==null){for(n.flags|=128,ns(l,!1),t=f.updateQueue,n.updateQueue=t,zl(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Bd(s,t),s=s.sibling;return F(qe,qe.current&1|2),Te&&Jn(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Wt()>Xl&&(n.flags|=128,u=!0,ns(l,!1),n.lanes=4194304)}else{if(!u)if(t=Cl(f),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,zl(n,t),ns(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Te)return Ke(n),null}else 2*Wt()-l.renderingStartTime>Xl&&s!==536870912&&(n.flags|=128,u=!0,ns(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Wt(),t.sibling=null,s=qe.current,F(qe,u?s&1|2:s&1),Te&&Jn(n,l.treeForkCount),t):(Ke(n),null);case 22:case 23:return Ft(n),Xu(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(Ke(n),n.subtreeFlags&6&&(n.flags|=8192)):Ke(n),s=n.updateQueue,s!==null&&zl(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&z(ar),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),jn(it),Ke(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function OA(t,n){switch(Du(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return jn(it),Pe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Qs(n),null;case 31:if(n.memoizedState!==null){if(Ft(n),n.alternate===null)throw Error(a(340));nr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Ft(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));nr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return z(qe),null;case 4:return Pe(),null;case 10:return jn(n.type),null;case 22:case 23:return Ft(n),Xu(),t!==null&&z(ar),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return jn(it),null;case 25:return null;default:return null}}function lm(t,n){switch(Du(n),n.tag){case 3:jn(it),Pe();break;case 26:case 27:case 5:Qs(n);break;case 4:Pe();break;case 31:n.memoizedState!==null&&Ft(n);break;case 13:Ft(n);break;case 19:z(qe);break;case 10:jn(n.type);break;case 22:case 23:Ft(n),Xu(),t!==null&&z(ar);break;case 24:jn(it)}}function is(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var u=l.next;s=u;do{if((s.tag&t)===t){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==u)}}catch(p){Ve(n,n.return,p)}}function Ri(t,n,s){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&t)===t){var g=l.inst,p=g.destroy;if(p!==void 0){g.destroy=void 0,u=n;var v=s,O=p;try{O()}catch(L){Ve(u,v,L)}}}l=l.next}while(l!==f)}}catch(L){Ve(n,n.return,L)}}function om(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Pd(n,s)}catch(l){Ve(t,t.return,l)}}}function um(t,n,s){s.props=cr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ve(t,n,l)}}function rs(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(u){Ve(t,n,u)}}function Vn(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(u){Ve(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){Ve(t,n,u)}else s.current=null}function cm(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(u){Ve(t,t.return,u)}}function Ec(t,n,s){try{var l=t.stateNode;qA(l,t.type,s,n),l[Dt]=n}catch(u){Ve(t,t.return,u)}}function fm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vi(t.type)||t.tag===4}function Nc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tc(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Wn));else if(l!==4&&(l===27&&Vi(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Tc(t,n,s),t=t.sibling;t!==null;)Tc(t,n,s),t=t.sibling}function Yl(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Vi(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Yl(t,n,s),t=t.sibling;t!==null;)Yl(t,n,s),t=t.sibling}function hm(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);bt(n,l,s),n[gt]=t,n[Dt]=s}catch(f){Ve(t,t.return,f)}}var Pn=!1,st=!1,Rc=!1,dm=typeof WeakSet=="function"?WeakSet:Set,ct=null;function VA(t,n){if(t=t.containerInfo,kc=lo,t=Rd(t),bu(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,p=-1,v=-1,O=0,L=0,Z=t,U=null;t:for(;;){for(var B;Z!==s||u!==0&&Z.nodeType!==3||(p=g+u),Z!==f||l!==0&&Z.nodeType!==3||(v=g+l),Z.nodeType===3&&(g+=Z.nodeValue.length),(B=Z.firstChild)!==null;)U=Z,Z=B;for(;;){if(Z===t)break t;if(U===s&&++O===u&&(p=g),U===f&&++L===l&&(v=g),(B=Z.nextSibling)!==null)break;Z=U,U=Z.parentNode}Z=B}s=p===-1||v===-1?null:{start:p,end:v}}else s=null}s=s||{start:0,end:0}}else s=null;for(jc={focusedElem:t,selectionRange:s},lo=!1,ct=n;ct!==null;)if(n=ct,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ct=t;else for(;ct!==null;){switch(n=ct,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)u=t[s],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,u=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var Q=cr(s.type,u);t=l.getSnapshotBeforeUpdate(Q,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(le){Ve(s,s.return,le)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Qc(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,ct=t;break}ct=n.return}}function gm(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ei(t,s),l&4&&is(5,s);break;case 1:if(ei(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Ve(s,s.return,g)}else{var u=cr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ve(s,s.return,g)}}l&64&&om(s),l&512&&rs(s,s.return);break;case 3:if(ei(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Pd(t,n)}catch(g){Ve(s,s.return,g)}}break;case 27:n===null&&l&4&&hm(s);case 26:case 5:ei(t,s),n===null&&l&4&&cm(s),l&512&&rs(s,s.return);break;case 12:ei(t,s);break;case 31:ei(t,s),l&4&&pm(t,s);break;case 13:ei(t,s),l&4&&bm(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=GA.bind(null,s),lS(t,s))));break;case 22:if(l=s.memoizedState!==null||Pn,!l){n=n!==null&&n.memoizedState!==null||st,u=Pn;var f=st;Pn=l,(st=n)&&!f?ti(t,s,(s.subtreeFlags&8772)!==0):ei(t,s),Pn=u,st=f}break;case 30:break;default:ei(t,s)}}function mm(t){var n=t.alternate;n!==null&&(t.alternate=null,mm(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&tu(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ke=null,Ot=!1;function qn(t,n,s){for(s=s.child;s!==null;)ym(t,n,s),s=s.sibling}function ym(t,n,s){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(wa,s)}catch{}switch(s.tag){case 26:st||Vn(s,n),qn(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:st||Vn(s,n);var l=ke,u=Ot;Vi(s.type)&&(ke=s.stateNode,Ot=!1),qn(t,n,s),ds(s.stateNode),ke=l,Ot=u;break;case 5:st||Vn(s,n);case 6:if(l=ke,u=Ot,ke=null,qn(t,n,s),ke=l,Ot=u,ke!==null)if(Ot)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(s.stateNode)}catch(f){Ve(s,n,f)}else try{ke.removeChild(s.stateNode)}catch(f){Ve(s,n,f)}break;case 18:ke!==null&&(Ot?(t=ke,oy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),ra(t)):oy(ke,s.stateNode));break;case 4:l=ke,u=Ot,ke=s.stateNode.containerInfo,Ot=!0,qn(t,n,s),ke=l,Ot=u;break;case 0:case 11:case 14:case 15:Ri(2,s,n),st||Ri(4,s,n),qn(t,n,s);break;case 1:st||(Vn(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&um(s,n,l)),qn(t,n,s);break;case 21:qn(t,n,s);break;case 22:st=(l=st)||s.memoizedState!==null,qn(t,n,s),st=l;break;default:qn(t,n,s)}}function pm(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ra(t)}catch(s){Ve(n,n.return,s)}}}function bm(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ra(t)}catch(s){Ve(n,n.return,s)}}function UA(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new dm),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new dm),n;default:throw Error(a(435,t.tag))}}function Gl(t,n){var s=UA(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var u=WA.bind(null,t,l);l.then(u,u)}})}function Vt(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var u=s[l],f=t,g=n,p=g;e:for(;p!==null;){switch(p.tag){case 27:if(Vi(p.type)){ke=p.stateNode,Ot=!1;break e}break;case 5:ke=p.stateNode,Ot=!1;break e;case 3:case 4:ke=p.stateNode.containerInfo,Ot=!0;break e}p=p.return}if(ke===null)throw Error(a(160));ym(f,g,u),ke=null,Ot=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)vm(n,t),n=n.sibling}var An=null;function vm(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vt(n,t),Ut(t),l&4&&(Ri(3,t,t.return),is(3,t),Ri(5,t,t.return));break;case 1:Vt(n,t),Ut(t),l&512&&(st||s===null||Vn(s,s.return)),l&64&&Pn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var u=An;if(Vt(n,t),Ut(t),l&512&&(st||s===null||Vn(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Oa]||f[gt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),bt(f,l,s),f[gt]=t,ut(f),l=f;break e;case"link":var g=vy("link","href",u).get(l+(s.href||""));if(g){for(var p=0;p<g.length;p++)if(f=g[p],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(p,1);break t}}f=u.createElement(l),bt(f,l,s),u.head.appendChild(f);break;case"meta":if(g=vy("meta","content",u).get(l+(s.content||""))){for(p=0;p<g.length;p++)if(f=g[p],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(p,1);break t}}f=u.createElement(l),bt(f,l,s),u.head.appendChild(f);break;default:throw Error(a(468,l))}f[gt]=t,ut(f),l=f}t.stateNode=l}else Ay(u,t.type,t.stateNode);else t.stateNode=by(u,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Ay(u,t.type,t.stateNode):by(u,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ec(t,t.memoizedProps,s.memoizedProps)}break;case 27:Vt(n,t),Ut(t),l&512&&(st||s===null||Vn(s,s.return)),s!==null&&l&4&&Ec(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Vt(n,t),Ut(t),l&512&&(st||s===null||Vn(s,s.return)),t.flags&32){u=t.stateNode;try{Ir(u,"")}catch(Q){Ve(t,t.return,Q)}}l&4&&t.stateNode!=null&&(u=t.memoizedProps,Ec(t,u,s!==null?s.memoizedProps:u)),l&1024&&(Rc=!0);break;case 6:if(Vt(n,t),Ut(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Q){Ve(t,t.return,Q)}}break;case 3:if(io=null,u=An,An=to(n.containerInfo),Vt(n,t),An=u,Ut(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ra(n.containerInfo)}catch(Q){Ve(t,t.return,Q)}Rc&&(Rc=!1,Am(t));break;case 4:l=An,An=to(t.stateNode.containerInfo),Vt(n,t),Ut(t),An=l;break;case 12:Vt(n,t),Ut(t);break;case 31:Vt(n,t),Ut(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gl(t,l)));break;case 13:Vt(n,t),Ut(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Kl=Wt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gl(t,l)));break;case 22:u=t.memoizedState!==null;var v=s!==null&&s.memoizedState!==null,O=Pn,L=st;if(Pn=O||u,st=L||v,Vt(n,t),st=L,Pn=O,Ut(t),l&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(s===null||v||Pn||st||fr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){v=s=n;try{if(f=v.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{p=v.stateNode;var Z=v.memoizedProps.style,U=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;p.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(Q){Ve(v,v.return,Q)}}}else if(n.tag===6){if(s===null){v=n;try{v.stateNode.nodeValue=u?"":v.memoizedProps}catch(Q){Ve(v,v.return,Q)}}}else if(n.tag===18){if(s===null){v=n;try{var B=v.stateNode;u?uy(B,!0):uy(v.stateNode,!1)}catch(Q){Ve(v,v.return,Q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Gl(t,s))));break;case 19:Vt(n,t),Ut(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gl(t,l)));break;case 30:break;case 21:break;default:Vt(n,t),Ut(t)}}function Ut(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(fm(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var u=s.stateNode,f=Nc(t);Yl(t,f,u);break;case 5:var g=s.stateNode;s.flags&32&&(Ir(g,""),s.flags&=-33);var p=Nc(t);Yl(t,p,g);break;case 3:case 4:var v=s.stateNode.containerInfo,O=Nc(t);Tc(t,O,v);break;default:throw Error(a(161))}}catch(L){Ve(t,t.return,L)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Am(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Am(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ei(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gm(t,n.alternate,n),n=n.sibling}function fr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ri(4,n,n.return),fr(n);break;case 1:Vn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&um(n,n.return,s),fr(n);break;case 27:ds(n.stateNode);case 26:case 5:Vn(n,n.return),fr(n);break;case 22:n.memoizedState===null&&fr(n);break;case 30:fr(n);break;default:fr(n)}t=t.sibling}}function ti(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ti(u,f,s),is(4,f);break;case 1:if(ti(u,f,s),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(O){Ve(l,l.return,O)}if(l=f,u=l.updateQueue,u!==null){var p=l.stateNode;try{var v=u.shared.hiddenCallbacks;if(v!==null)for(u.shared.hiddenCallbacks=null,u=0;u<v.length;u++)$d(v[u],p)}catch(O){Ve(l,l.return,O)}}s&&g&64&&om(f),rs(f,f.return);break;case 27:hm(f);case 26:case 5:ti(u,f,s),s&&l===null&&g&4&&cm(f),rs(f,f.return);break;case 12:ti(u,f,s);break;case 31:ti(u,f,s),s&&g&4&&pm(u,f);break;case 13:ti(u,f,s),s&&g&4&&bm(u,f);break;case 22:f.memoizedState===null&&ti(u,f,s),rs(f,f.return);break;case 30:break;default:ti(u,f,s)}n=n.sibling}}function Cc(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Xa(s))}function Ic(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xa(t))}function Sn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sm(t,n,s,l),n=n.sibling}function Sm(t,n,s,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Sn(t,n,s,l),u&2048&&is(9,n);break;case 1:Sn(t,n,s,l);break;case 3:Sn(t,n,s,l),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xa(t)));break;case 12:if(u&2048){Sn(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,p=f.onPostCommit;typeof p=="function"&&p(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(v){Ve(n,n.return,v)}}else Sn(t,n,s,l);break;case 31:Sn(t,n,s,l);break;case 13:Sn(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Sn(t,n,s,l):as(t,n):f._visibility&2?Sn(t,n,s,l):(f._visibility|=2,jr(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Cc(g,n);break;case 24:Sn(t,n,s,l),u&2048&&Ic(n.alternate,n);break;default:Sn(t,n,s,l)}}function jr(t,n,s,l,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,p=s,v=l,O=g.flags;switch(g.tag){case 0:case 11:case 15:jr(f,g,p,v,u),is(8,g);break;case 23:break;case 22:var L=g.stateNode;g.memoizedState!==null?L._visibility&2?jr(f,g,p,v,u):as(f,g):(L._visibility|=2,jr(f,g,p,v,u)),u&&O&2048&&Cc(g.alternate,g);break;case 24:jr(f,g,p,v,u),u&&O&2048&&Ic(g.alternate,g);break;default:jr(f,g,p,v,u)}n=n.sibling}}function as(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,u=l.flags;switch(l.tag){case 22:as(s,l),u&2048&&Cc(l.alternate,l);break;case 24:as(s,l),u&2048&&Ic(l.alternate,l);break;default:as(s,l)}n=n.sibling}}var ss=8192;function Fr(t,n,s){if(t.subtreeFlags&ss)for(t=t.child;t!==null;)Em(t,n,s),t=t.sibling}function Em(t,n,s){switch(t.tag){case 26:Fr(t,n,s),t.flags&ss&&t.memoizedState!==null&&vS(s,An,t.memoizedState,t.memoizedProps);break;case 5:Fr(t,n,s);break;case 3:case 4:var l=An;An=to(t.stateNode.containerInfo),Fr(t,n,s),An=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ss,ss=16777216,Fr(t,n,s),ss=l):Fr(t,n,s));break;default:Fr(t,n,s)}}function Nm(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ls(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ct=l,Rm(l,t)}Nm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Tm(t),t=t.sibling}function Tm(t){switch(t.tag){case 0:case 11:case 15:ls(t),t.flags&2048&&Ri(9,t,t.return);break;case 3:ls(t);break;case 12:ls(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Wl(t)):ls(t);break;default:ls(t)}}function Wl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ct=l,Rm(l,t)}Nm(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ri(8,n,n.return),Wl(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Wl(n));break;default:Wl(n)}t=t.sibling}}function Rm(t,n){for(;ct!==null;){var s=ct;switch(s.tag){case 0:case 11:case 15:Ri(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xa(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ct=l;else e:for(s=t;ct!==null;){l=ct;var u=l.sibling,f=l.return;if(mm(l),l===s){ct=null;break e}if(u!==null){u.return=f,ct=u;break e}ct=f}}}var BA={getCacheForType:function(t){var n=yt(it),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return yt(it).controller.signal}},LA=typeof WeakMap=="function"?WeakMap:Map,we=0,ze=null,ve=null,Ee=0,Oe=0,Ht=null,Ci=!1,Hr=!1,wc=!1,ni=0,$e=0,Ii=0,hr=0,Dc=0,Qt=0,Qr=0,os=null,Bt=null,xc=!1,Kl=0,Cm=0,Xl=1/0,Jl=null,wi=null,lt=0,Di=null,$r=null,ii=0,Oc=0,Vc=null,Im=null,us=0,Uc=null;function $t(){return(we&2)!==0&&Ee!==0?Ee&-Ee:M.T!==null?zc():Kh()}function wm(){if(Qt===0)if((Ee&536870912)===0||Te){var t=qs;qs<<=1,(qs&3932160)===0&&(qs=262144),Qt=t}else Qt=536870912;return t=jt.current,t!==null&&(t.flags|=32),Qt}function Lt(t,n,s){(t===ze&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)&&(Pr(t,0),xi(t,Ee,Qt,!1)),xa(t,s),((we&2)===0||t!==ze)&&(t===ze&&((we&2)===0&&(hr|=s),$e===4&&xi(t,Ee,Qt,!1)),Un(t))}function Dm(t,n,s){if((we&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Da(t,n),u=l?ZA(t,n):Lc(t,n,!0),f=l;do{if(u===0){Hr&&!l&&xi(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!MA(s)){u=Lc(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var p=t;u=os;var v=p.current.memoizedState.isDehydrated;if(v&&(Pr(p,g).flags|=256),g=Lc(p,g,!1),g!==2){if(wc&&!v){p.errorRecoveryDisabledLanes|=f,hr|=f,u=4;break e}f=Bt,Bt=u,f!==null&&(Bt===null?Bt=f:Bt.push.apply(Bt,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){Pr(t,0),xi(t,n,0,!0);break}e:{switch(l=t,f=u,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:xi(l,n,Qt,!Ci);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(u=Kl+300-Wt(),10<u)){if(xi(l,n,Qt,!Ci),tl(l,0,!0)!==0)break e;ii=n,l.timeoutHandle=sy(xm.bind(null,l,s,Bt,Jl,xc,n,Qt,hr,Qr,Ci,f,"Throttled",-0,0),u);break e}xm(l,s,Bt,Jl,xc,n,Qt,hr,Qr,Ci,f,null,-0,0)}}break}while(!0);Un(t)}function xm(t,n,s,l,u,f,g,p,v,O,L,Z,U,B){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},Em(n,f,Z);var Q=(f&62914560)===f?Kl-Wt():(f&4194048)===f?Cm-Wt():0;if(Q=AS(Z,Q),Q!==null){ii=f,t.cancelPendingCommit=Q(Zm.bind(null,t,n,f,s,l,u,g,p,v,L,Z,null,U,B)),xi(t,f,g,!O);return}}Zm(t,n,f,s,l,u,g,p,v)}function MA(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var u=s[l],f=u.getSnapshot;u=u.value;try{if(!Jt(f(),u))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xi(t,n,s,l){n&=~Dc,n&=~hr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var u=n;0<u;){var f=31-Xt(u),g=1<<f;l[f]=-1,u&=~g}s!==0&&Yh(t,s,n)}function kl(){return(we&6)===0?(cs(0),!1):!0}function Bc(){if(ve!==null){if(Oe===0)var t=ve.return;else t=ve,kn=ir=null,Qu(t),Wr=null,ka=0,t=ve;for(;t!==null;)lm(t.alternate,t),t=t.return;ve=null}}function Pr(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,nS(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ii=0,Bc(),ze=t,ve=s=Xn(t.current,null),Ee=n,Oe=0,Ht=null,Ci=!1,Hr=Da(t,n),wc=!1,Qr=Qt=Dc=hr=Ii=$e=0,Bt=os=null,xc=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var u=31-Xt(l),f=1<<u;n|=t[u],l&=~f}return ni=n,dl(),s}function Om(t,n){de=null,M.H=es,n===Gr||n===Sl?(n=jd(),Oe=3):n===Zu?(n=jd(),Oe=4):Oe=n===hc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ht=n,ve===null&&($e=1,Ll(t,rn(n,t.current)))}function Vm(){var t=jt.current;return t===null?!0:(Ee&4194048)===Ee?on===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?t===on:!1}function Um(){var t=M.H;return M.H=es,t===null?es:t}function Bm(){var t=M.A;return M.A=BA,t}function jl(){$e=4,Ci||(Ee&4194048)!==Ee&&jt.current!==null||(Hr=!0),(Ii&134217727)===0&&(hr&134217727)===0||ze===null||xi(ze,Ee,Qt,!1)}function Lc(t,n,s){var l=we;we|=2;var u=Um(),f=Bm();(ze!==t||Ee!==n)&&(Jl=null,Pr(t,n)),n=!1;var g=$e;e:do try{if(Oe!==0&&ve!==null){var p=ve,v=Ht;switch(Oe){case 8:Bc(),g=6;break e;case 3:case 2:case 9:case 6:jt.current===null&&(n=!0);var O=Oe;if(Oe=0,Ht=null,qr(t,p,v,O),s&&Hr){g=0;break e}break;default:O=Oe,Oe=0,Ht=null,qr(t,p,v,O)}}_A(),g=$e;break}catch(L){Om(t,L)}while(!0);return n&&t.shellSuspendCounter++,kn=ir=null,we=l,M.H=u,M.A=f,ve===null&&(ze=null,Ee=0,dl()),g}function _A(){for(;ve!==null;)Lm(ve)}function ZA(t,n){var s=we;we|=2;var l=Um(),u=Bm();ze!==t||Ee!==n?(Jl=null,Xl=Wt()+500,Pr(t,n)):Hr=Da(t,n);e:do try{if(Oe!==0&&ve!==null){n=ve;var f=Ht;t:switch(Oe){case 1:Oe=0,Ht=null,qr(t,n,f,1);break;case 2:case 9:if(Jd(f)){Oe=0,Ht=null,Mm(n);break}n=function(){Oe!==2&&Oe!==9||ze!==t||(Oe=7),Un(t)},f.then(n,n);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Jd(f)?(Oe=0,Ht=null,Mm(n)):(Oe=0,Ht=null,qr(t,n,f,7));break;case 5:var g=null;switch(ve.tag){case 26:g=ve.memoizedState;case 5:case 27:var p=ve;if(g?Sy(g):p.stateNode.complete){Oe=0,Ht=null;var v=p.sibling;if(v!==null)ve=v;else{var O=p.return;O!==null?(ve=O,Fl(O)):ve=null}break t}}Oe=0,Ht=null,qr(t,n,f,5);break;case 6:Oe=0,Ht=null,qr(t,n,f,6);break;case 8:Bc(),$e=6;break e;default:throw Error(a(462))}}zA();break}catch(L){Om(t,L)}while(!0);return kn=ir=null,M.H=l,M.A=u,we=s,ve!==null?0:(ze=null,Ee=0,dl(),$e)}function zA(){for(;ve!==null&&!ov();)Lm(ve)}function Lm(t){var n=am(t.alternate,t,ni);t.memoizedProps=t.pendingProps,n===null?Fl(t):ve=n}function Mm(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=qg(s,n,n.pendingProps,n.type,void 0,Ee);break;case 11:n=qg(s,n,n.pendingProps,n.type.render,n.ref,Ee);break;case 5:Qu(n);default:lm(s,n),n=ve=Bd(n,ni),n=am(s,n,ni)}t.memoizedProps=t.pendingProps,n===null?Fl(t):ve=n}function qr(t,n,s,l){kn=ir=null,Qu(n),Wr=null,ka=0;var u=n.return;try{if(IA(t,u,n,s,Ee)){$e=1,Ll(t,rn(s,t.current)),ve=null;return}}catch(f){if(u!==null)throw ve=u,f;$e=1,Ll(t,rn(s,t.current)),ve=null;return}n.flags&32768?(Te||l===1?t=!0:Hr||(Ee&536870912)!==0?t=!1:(Ci=t=!0,(l===2||l===9||l===3||l===6)&&(l=jt.current,l!==null&&l.tag===13&&(l.flags|=16384))),_m(n,t)):Fl(n)}function Fl(t){var n=t;do{if((n.flags&32768)!==0){_m(n,Ci);return}t=n.return;var s=xA(n.alternate,n,ni);if(s!==null){ve=s;return}if(n=n.sibling,n!==null){ve=n;return}ve=n=t}while(n!==null);$e===0&&($e=5)}function _m(t,n){do{var s=OA(t.alternate,t);if(s!==null){s.flags&=32767,ve=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){ve=t;return}ve=t=s}while(t!==null);$e=6,ve=null}function Zm(t,n,s,l,u,f,g,p,v){t.cancelPendingCommit=null;do Hl();while(lt!==0);if((we&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Nu,bv(t,s,f,g,p,v),t===ze&&(ve=ze=null,Ee=0),$r=n,Di=t,ii=s,Oc=f,Vc=u,Im=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,KA($s,function(){return Km(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,u=k.p,k.p=2,g=we,we|=4;try{VA(t,n,s)}finally{we=g,k.p=u,M.T=l}}lt=1,zm(),Ym(),Gm()}}function zm(){if(lt===1){lt=0;var t=Di,n=$r,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=M.T,M.T=null;var l=k.p;k.p=2;var u=we;we|=4;try{vm(n,t);var f=jc,g=Rd(t.containerInfo),p=f.focusedElem,v=f.selectionRange;if(g!==p&&p&&p.ownerDocument&&Td(p.ownerDocument.documentElement,p)){if(v!==null&&bu(p)){var O=v.start,L=v.end;if(L===void 0&&(L=O),"selectionStart"in p)p.selectionStart=O,p.selectionEnd=Math.min(L,p.value.length);else{var Z=p.ownerDocument||document,U=Z&&Z.defaultView||window;if(U.getSelection){var B=U.getSelection(),Q=p.textContent.length,le=Math.min(v.start,Q),_e=v.end===void 0?le:Math.min(v.end,Q);!B.extend&&le>_e&&(g=_e,_e=le,le=g);var I=Nd(p,le),S=Nd(p,_e);if(I&&S&&(B.rangeCount!==1||B.anchorNode!==I.node||B.anchorOffset!==I.offset||B.focusNode!==S.node||B.focusOffset!==S.offset)){var x=Z.createRange();x.setStart(I.node,I.offset),B.removeAllRanges(),le>_e?(B.addRange(x),B.extend(S.node,S.offset)):(x.setEnd(S.node,S.offset),B.addRange(x))}}}}for(Z=[],B=p;B=B.parentNode;)B.nodeType===1&&Z.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<Z.length;p++){var _=Z[p];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}lo=!!kc,jc=kc=null}finally{we=u,k.p=l,M.T=s}}t.current=n,lt=2}}function Ym(){if(lt===2){lt=0;var t=Di,n=$r,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=M.T,M.T=null;var l=k.p;k.p=2;var u=we;we|=4;try{gm(t,n.alternate,n)}finally{we=u,k.p=l,M.T=s}}lt=3}}function Gm(){if(lt===4||lt===3){lt=0,uv();var t=Di,n=$r,s=ii,l=Im;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?lt=5:(lt=0,$r=Di=null,Wm(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(wi=null),qo(s),n=n.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(wa,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=M.T,u=k.p,k.p=2,M.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var p=l[g];f(p.value,{componentStack:p.stack})}}finally{M.T=n,k.p=u}}(ii&3)!==0&&Hl(),Un(t),u=t.pendingLanes,(s&261930)!==0&&(u&42)!==0?t===Uc?us++:(us=0,Uc=t):us=0,cs(0)}}function Wm(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xa(n)))}function Hl(){return zm(),Ym(),Gm(),Km()}function Km(){if(lt!==5)return!1;var t=Di,n=Oc;Oc=0;var s=qo(ii),l=M.T,u=k.p;try{k.p=32>s?32:s,M.T=null,s=Vc,Vc=null;var f=Di,g=ii;if(lt=0,$r=Di=null,ii=0,(we&6)!==0)throw Error(a(331));var p=we;if(we|=4,Tm(f.current),Sm(f,f.current,g,s),we=p,cs(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(wa,f)}catch{}return!0}finally{k.p=u,M.T=l,Wm(t,n)}}function Xm(t,n,s){n=rn(s,n),n=fc(t.stateNode,n,2),t=Ei(t,n,2),t!==null&&(xa(t,2),Un(t))}function Ve(t,n,s){if(t.tag===3)Xm(t,t,s);else for(;n!==null;){if(n.tag===3){Xm(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wi===null||!wi.has(l))){t=rn(s,t),s=Jg(2),l=Ei(n,s,2),l!==null&&(kg(s,l,n,t),xa(l,2),Un(l));break}}n=n.return}}function Mc(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new LA;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(s)||(wc=!0,u.add(s),t=YA.bind(null,t,n,s),n.then(t,t))}function YA(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ze===t&&(Ee&s)===s&&($e===4||$e===3&&(Ee&62914560)===Ee&&300>Wt()-Kl?(we&2)===0&&Pr(t,0):Dc|=s,Qr===Ee&&(Qr=0)),Un(t)}function Jm(t,n){n===0&&(n=zh()),t=er(t,n),t!==null&&(xa(t,n),Un(t))}function GA(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Jm(t,s)}function WA(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,u=t.memoizedState;u!==null&&(s=u.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Jm(t,s)}function KA(t,n){return Ho(t,n)}var Ql=null,ea=null,_c=!1,$l=!1,Zc=!1,Oi=0;function Un(t){t!==ea&&t.next===null&&(ea===null?Ql=ea=t:ea=ea.next=t),$l=!0,_c||(_c=!0,JA())}function cs(t,n){if(!Zc&&$l){Zc=!0;do for(var s=!1,l=Ql;l!==null;){if(t!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var g=l.suspendedLanes,p=l.pingedLanes;f=(1<<31-Xt(42|t)+1)-1,f&=u&~(g&~p),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Hm(l,f))}else f=Ee,f=tl(l,l===ze?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Da(l,f)||(s=!0,Hm(l,f));l=l.next}while(s);Zc=!1}}function XA(){km()}function km(){$l=_c=!1;var t=0;Oi!==0&&tS()&&(t=Oi);for(var n=Wt(),s=null,l=Ql;l!==null;){var u=l.next,f=jm(l,n);f===0?(l.next=null,s===null?Ql=u:s.next=u,u===null&&(ea=s)):(s=l,(t!==0||(f&3)!==0)&&($l=!0)),l=u}lt!==0&&lt!==5||cs(t),Oi!==0&&(Oi=0)}function jm(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Xt(f),p=1<<g,v=u[g];v===-1?((p&s)===0||(p&l)!==0)&&(u[g]=pv(p,n)):v<=n&&(t.expiredLanes|=p),f&=~p}if(n=ze,s=Ee,s=tl(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qo(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Da(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Qo(l),qo(s)){case 2:case 8:s=_h;break;case 32:s=$s;break;case 268435456:s=Zh;break;default:s=$s}return l=Fm.bind(null,t),s=Ho(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Qo(l),t.callbackPriority=2,t.callbackNode=null,2}function Fm(t,n){if(lt!==0&&lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Hl()&&t.callbackNode!==s)return null;var l=Ee;return l=tl(t,t===ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Dm(t,l,n),jm(t,Wt()),t.callbackNode!=null&&t.callbackNode===s?Fm.bind(null,t):null)}function Hm(t,n){if(Hl())return null;Dm(t,n,!0)}function JA(){iS(function(){(we&6)!==0?Ho(Mh,XA):km()})}function zc(){if(Oi===0){var t=zr;t===0&&(t=Ps,Ps<<=1,(Ps&261888)===0&&(Ps=256)),Oi=t}return Oi}function Qm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:al(""+t)}function $m(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function kA(t,n,s,l,u){if(n==="submit"&&s&&s.stateNode===u){var f=Qm((u[Dt]||null).action),g=l.submitter;g&&(n=(n=g[Dt]||null)?Qm(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var p=new ul("action","action",null,l,u);t.push({event:p,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Oi!==0){var v=g?$m(u,g):new FormData(u);ac(s,{pending:!0,data:v,method:u.method,action:f},null,v)}}else typeof f=="function"&&(p.preventDefault(),v=g?$m(u,g):new FormData(u),ac(s,{pending:!0,data:v,method:u.method,action:f},f,v))},currentTarget:u}]})}}for(var Yc=0;Yc<Eu.length;Yc++){var Gc=Eu[Yc],jA=Gc.toLowerCase(),FA=Gc[0].toUpperCase()+Gc.slice(1);vn(jA,"on"+FA)}vn(wd,"onAnimationEnd"),vn(Dd,"onAnimationIteration"),vn(xd,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(cA,"onTransitionRun"),vn(fA,"onTransitionStart"),vn(hA,"onTransitionCancel"),vn(Od,"onTransitionEnd"),Rr("onMouseEnter",["mouseout","mouseover"]),Rr("onMouseLeave",["mouseout","mouseover"]),Rr("onPointerEnter",["pointerout","pointerover"]),Rr("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fs));function Pm(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],u=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var p=l[g],v=p.instance,O=p.currentTarget;if(p=p.listener,v!==f&&u.isPropagationStopped())break e;f=p,u.currentTarget=O;try{f(u)}catch(L){hl(L)}u.currentTarget=null,f=v}else for(g=0;g<l.length;g++){if(p=l[g],v=p.instance,O=p.currentTarget,p=p.listener,v!==f&&u.isPropagationStopped())break e;f=p,u.currentTarget=O;try{f(u)}catch(L){hl(L)}u.currentTarget=null,f=v}}}}function Ae(t,n){var s=n[eu];s===void 0&&(s=n[eu]=new Set);var l=t+"__bubble";s.has(l)||(qm(n,t,2,!1),s.add(l))}function Wc(t,n,s){var l=0;n&&(l|=4),qm(s,t,l,n)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function Kc(t){if(!t[Pl]){t[Pl]=!0,kh.forEach(function(s){s!=="selectionchange"&&(HA.has(s)||Wc(s,!1,t),Wc(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Pl]||(n[Pl]=!0,Wc("selectionchange",!1,n))}}function qm(t,n,s,l){switch(wy(n)){case 2:var u=NS;break;case 8:u=TS;break;default:u=af}s=u.bind(null,n,s,t),u=void 0,!uu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?t.addEventListener(n,s,{capture:!0,passive:u}):t.addEventListener(n,s,!0):u!==void 0?t.addEventListener(n,s,{passive:u}):t.addEventListener(n,s,!1)}function Xc(t,n,s,l,u){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var p=l.stateNode.containerInfo;if(p===u)break;if(g===4)for(g=l.return;g!==null;){var v=g.tag;if((v===3||v===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;p!==null;){if(g=Er(p),g===null)return;if(v=g.tag,v===5||v===6||v===26||v===27){l=f=g;continue e}p=p.parentNode}}l=l.return}rd(function(){var O=f,L=lu(s),Z=[];e:{var U=Vd.get(t);if(U!==void 0){var B=ul,Q=t;switch(t){case"keypress":if(ll(s)===0)break e;case"keydown":case"keyup":B=Wv;break;case"focusin":Q="focus",B=du;break;case"focusout":Q="blur",B=du;break;case"beforeblur":case"afterblur":B=du;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=xv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Jv;break;case wd:case Dd:case xd:B=Uv;break;case Od:B=jv;break;case"scroll":case"scrollend":B=wv;break;case"wheel":B=Hv;break;case"copy":case"cut":case"paste":B=Lv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=ud;break;case"toggle":case"beforetoggle":B=$v}var le=(n&4)!==0,_e=!le&&(t==="scroll"||t==="scrollend"),I=le?U!==null?U+"Capture":null:U;le=[];for(var S=O,x;S!==null;){var _=S;if(x=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||x===null||I===null||(_=Ua(S,I),_!=null&&le.push(hs(S,_,x))),_e)break;S=S.return}0<le.length&&(U=new B(U,Q,null,s,L),Z.push({event:U,listeners:le}))}}if((n&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",U&&s!==su&&(Q=s.relatedTarget||s.fromElement)&&(Er(Q)||Q[Sr]))break e;if((B||U)&&(U=L.window===L?L:(U=L.ownerDocument)?U.defaultView||U.parentWindow:window,B?(Q=s.relatedTarget||s.toElement,B=O,Q=Q?Er(Q):null,Q!==null&&(_e=c(Q),le=Q.tag,Q!==_e||le!==5&&le!==27&&le!==6)&&(Q=null)):(B=null,Q=O),B!==Q)){if(le=ld,_="onMouseLeave",I="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(le=ud,_="onPointerLeave",I="onPointerEnter",S="pointer"),_e=B==null?U:Va(B),x=Q==null?U:Va(Q),U=new le(_,S+"leave",B,s,L),U.target=_e,U.relatedTarget=x,_=null,Er(L)===O&&(le=new le(I,S+"enter",Q,s,L),le.target=x,le.relatedTarget=_e,_=le),_e=_,B&&Q)t:{for(le=QA,I=B,S=Q,x=0,_=I;_;_=le(_))x++;_=0;for(var ae=S;ae;ae=le(ae))_++;for(;0<x-_;)I=le(I),x--;for(;0<_-x;)S=le(S),_--;for(;x--;){if(I===S||S!==null&&I===S.alternate){le=I;break t}I=le(I),S=le(S)}le=null}else le=null;B!==null&&ey(Z,U,B,le,!1),Q!==null&&_e!==null&&ey(Z,_e,Q,le,!0)}}e:{if(U=O?Va(O):window,B=U.nodeName&&U.nodeName.toLowerCase(),B==="select"||B==="input"&&U.type==="file")var Ce=pd;else if(md(U))if(bd)Ce=lA;else{Ce=aA;var q=rA}else B=U.nodeName,!B||B.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?O&&au(O.elementType)&&(Ce=pd):Ce=sA;if(Ce&&(Ce=Ce(t,O))){yd(Z,Ce,s,L);break e}q&&q(t,U,O),t==="focusout"&&O&&U.type==="number"&&O.memoizedProps.value!=null&&ru(U,"number",U.value)}switch(q=O?Va(O):window,t){case"focusin":(md(q)||q.contentEditable==="true")&&(Or=q,vu=O,Ga=null);break;case"focusout":Ga=vu=Or=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,Cd(Z,s,L);break;case"selectionchange":if(uA)break;case"keydown":case"keyup":Cd(Z,s,L)}var ge;if(mu)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else xr?dd(t,s)&&(Ne="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ne="onCompositionStart");Ne&&(cd&&s.locale!=="ko"&&(xr||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&xr&&(ge=ad()):(mi=L,cu="value"in mi?mi.value:mi.textContent,xr=!0)),q=ql(O,Ne),0<q.length&&(Ne=new od(Ne,t,null,s,L),Z.push({event:Ne,listeners:q}),ge?Ne.data=ge:(ge=gd(s),ge!==null&&(Ne.data=ge)))),(ge=qv?eA(t,s):tA(t,s))&&(Ne=ql(O,"onBeforeInput"),0<Ne.length&&(q=new od("onBeforeInput","beforeinput",null,s,L),Z.push({event:q,listeners:Ne}),q.data=ge)),kA(Z,t,O,s,L)}Pm(Z,n)})}function hs(t,n,s){return{instance:t,listener:n,currentTarget:s}}function ql(t,n){for(var s=n+"Capture",l=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Ua(t,s),u!=null&&l.unshift(hs(t,u,f)),u=Ua(t,n),u!=null&&l.push(hs(t,u,f))),t.tag===3)return l;t=t.return}return[]}function QA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ey(t,n,s,l,u){for(var f=n._reactName,g=[];s!==null&&s!==l;){var p=s,v=p.alternate,O=p.stateNode;if(p=p.tag,v!==null&&v===l)break;p!==5&&p!==26&&p!==27||O===null||(v=O,u?(O=Ua(s,f),O!=null&&g.unshift(hs(s,O,v))):u||(O=Ua(s,f),O!=null&&g.push(hs(s,O,v)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var $A=/\r\n?/g,PA=/\u0000|\uFFFD/g;function ty(t){return(typeof t=="string"?t:""+t).replace($A,`
`).replace(PA,"")}function ny(t,n){return n=ty(n),ty(t)===n}function Me(t,n,s,l,u,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Ir(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Ir(t,""+l);break;case"className":il(t,"class",l);break;case"tabIndex":il(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":il(t,s,l);break;case"style":nd(t,l,f);break;case"data":if(n!=="object"){il(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=al(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Me(t,n,"name",u.name,u,null),Me(t,n,"formEncType",u.formEncType,u,null),Me(t,n,"formMethod",u.formMethod,u,null),Me(t,n,"formTarget",u.formTarget,u,null)):(Me(t,n,"encType",u.encType,u,null),Me(t,n,"method",u.method,u,null),Me(t,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=al(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"onScroll":l!=null&&Ae("scroll",t);break;case"onScrollEnd":l!=null&&Ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(u.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=al(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ae("beforetoggle",t),Ae("toggle",t),nl(t,"popover",l);break;case"xlinkActuate":Gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Gn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Gn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Gn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Gn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":nl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Cv.get(s)||s,nl(t,s,l))}}function Jc(t,n,s,l,u,f){switch(s){case"style":nd(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(u.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Ir(t,l):(typeof l=="number"||typeof l=="bigint")&&Ir(t,""+l);break;case"onScroll":l!=null&&Ae("scroll",t);break;case"onScrollEnd":l!=null&&Ae("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jh.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),n=s.slice(2,u?s.length-7:void 0),f=t[Dt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,u);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):nl(t,s,l)}}}function bt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",t),Ae("load",t);var l=!1,u=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Me(t,n,f,g,s,null)}}u&&Me(t,n,"srcSet",s.srcSet,s,null),l&&Me(t,n,"src",s.src,s,null);return;case"input":Ae("invalid",t);var p=f=g=u=null,v=null,O=null;for(l in s)if(s.hasOwnProperty(l)){var L=s[l];if(L!=null)switch(l){case"name":u=L;break;case"type":g=L;break;case"checked":v=L;break;case"defaultChecked":O=L;break;case"value":f=L;break;case"defaultValue":p=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:Me(t,n,l,L,s,null)}}Ph(t,f,p,v,O,g,u,!1);return;case"select":Ae("invalid",t),l=g=f=null;for(u in s)if(s.hasOwnProperty(u)&&(p=s[u],p!=null))switch(u){case"value":f=p;break;case"defaultValue":g=p;break;case"multiple":l=p;default:Me(t,n,u,p,s,null)}n=f,s=g,t.multiple=!!l,n!=null?Cr(t,!!l,n,!1):s!=null&&Cr(t,!!l,s,!0);return;case"textarea":Ae("invalid",t),f=u=l=null;for(g in s)if(s.hasOwnProperty(g)&&(p=s[g],p!=null))switch(g){case"value":l=p;break;case"defaultValue":u=p;break;case"children":f=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:Me(t,n,g,p,s,null)}ed(t,l,u,f);return;case"option":for(v in s)if(s.hasOwnProperty(v)&&(l=s[v],l!=null))switch(v){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Me(t,n,v,l,s,null)}return;case"dialog":Ae("beforetoggle",t),Ae("toggle",t),Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":Ae("load",t);break;case"video":case"audio":for(l=0;l<fs.length;l++)Ae(fs[l],t);break;case"image":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"embed":case"source":case"link":Ae("error",t),Ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in s)if(s.hasOwnProperty(O)&&(l=s[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Me(t,n,O,l,s,null)}return;default:if(au(n)){for(L in s)s.hasOwnProperty(L)&&(l=s[L],l!==void 0&&Jc(t,n,L,l,s,void 0));return}}for(p in s)s.hasOwnProperty(p)&&(l=s[p],l!=null&&Me(t,n,p,l,s,null))}function qA(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,p=null,v=null,O=null,L=null;for(B in s){var Z=s[B];if(s.hasOwnProperty(B)&&Z!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":v=Z;default:l.hasOwnProperty(B)||Me(t,n,B,null,l,Z)}}for(var U in l){var B=l[U];if(Z=s[U],l.hasOwnProperty(U)&&(B!=null||Z!=null))switch(U){case"type":f=B;break;case"name":u=B;break;case"checked":O=B;break;case"defaultChecked":L=B;break;case"value":g=B;break;case"defaultValue":p=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Z&&Me(t,n,U,B,l,Z)}}iu(t,g,p,v,O,L,f,u);return;case"select":B=g=p=U=null;for(f in s)if(v=s[f],s.hasOwnProperty(f)&&v!=null)switch(f){case"value":break;case"multiple":B=v;default:l.hasOwnProperty(f)||Me(t,n,f,null,l,v)}for(u in l)if(f=l[u],v=s[u],l.hasOwnProperty(u)&&(f!=null||v!=null))switch(u){case"value":U=f;break;case"defaultValue":p=f;break;case"multiple":g=f;default:f!==v&&Me(t,n,u,f,l,v)}n=p,s=g,l=B,U!=null?Cr(t,!!s,U,!1):!!l!=!!s&&(n!=null?Cr(t,!!s,n,!0):Cr(t,!!s,s?[]:"",!1));return;case"textarea":B=U=null;for(p in s)if(u=s[p],s.hasOwnProperty(p)&&u!=null&&!l.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Me(t,n,p,null,l,u)}for(g in l)if(u=l[g],f=s[g],l.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":U=u;break;case"defaultValue":B=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(a(91));break;default:u!==f&&Me(t,n,g,u,l,f)}qh(t,U,B);return;case"option":for(var Q in s)if(U=s[Q],s.hasOwnProperty(Q)&&U!=null&&!l.hasOwnProperty(Q))switch(Q){case"selected":t.selected=!1;break;default:Me(t,n,Q,null,l,U)}for(v in l)if(U=l[v],B=s[v],l.hasOwnProperty(v)&&U!==B&&(U!=null||B!=null))switch(v){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Me(t,n,v,U,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in s)U=s[le],s.hasOwnProperty(le)&&U!=null&&!l.hasOwnProperty(le)&&Me(t,n,le,null,l,U);for(O in l)if(U=l[O],B=s[O],l.hasOwnProperty(O)&&U!==B&&(U!=null||B!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,n));break;default:Me(t,n,O,U,l,B)}return;default:if(au(n)){for(var _e in s)U=s[_e],s.hasOwnProperty(_e)&&U!==void 0&&!l.hasOwnProperty(_e)&&Jc(t,n,_e,void 0,l,U);for(L in l)U=l[L],B=s[L],!l.hasOwnProperty(L)||U===B||U===void 0&&B===void 0||Jc(t,n,L,U,l,B);return}}for(var I in s)U=s[I],s.hasOwnProperty(I)&&U!=null&&!l.hasOwnProperty(I)&&Me(t,n,I,null,l,U);for(Z in l)U=l[Z],B=s[Z],!l.hasOwnProperty(Z)||U===B||U==null&&B==null||Me(t,n,Z,U,l,B)}function iy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var u=s[l],f=u.transferSize,g=u.initiatorType,p=u.duration;if(f&&p&&iy(g)){for(g=0,p=u.responseEnd,l+=1;l<s.length;l++){var v=s[l],O=v.startTime;if(O>p)break;var L=v.transferSize,Z=v.initiatorType;L&&iy(Z)&&(v=v.responseEnd,g+=L*(v<p?1:(p-O)/(v-O)))}if(--l,n+=8*(f+g)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var kc=null,jc=null;function eo(t){return t.nodeType===9?t:t.ownerDocument}function ry(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ay(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Fc(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hc=null;function tS(){var t=window.event;return t&&t.type==="popstate"?t===Hc?!1:(Hc=t,!0):(Hc=null,!1)}var sy=typeof setTimeout=="function"?setTimeout:void 0,nS=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,iS=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(t){return ly.resolve(null).then(t).catch(rS)}:sy;function rS(t){setTimeout(function(){throw t})}function Vi(t){return t==="head"}function oy(t,n){var s=n,l=0;do{var u=s.nextSibling;if(t.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(u),ra(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ds(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,ds(s);for(var f=s.firstChild;f;){var g=f.nextSibling,p=f.nodeName;f[Oa]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ds(t.ownerDocument.body);s=u}while(s);ra(n)}function uy(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Qc(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Qc(s),tu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function aS(t,n,s,l){for(;t.nodeType===1;){var u=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Oa])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=un(t.nextSibling),t===null)break}return null}function sS(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=un(t.nextSibling),t===null))return null;return t}function cy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=un(t.nextSibling),t===null))return null;return t}function $c(t){return t.data==="$?"||t.data==="$~"}function Pc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function lS(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var qc=null;function fy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return un(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function hy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function dy(t,n,s){switch(n=eo(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ds(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);tu(t)}var cn=new Map,gy=new Set;function to(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ri=k.d;k.d={f:oS,r:uS,D:cS,C:fS,L:hS,m:dS,X:mS,S:gS,M:yS};function oS(){var t=ri.f(),n=kl();return t||n}function uS(t){var n=Nr(t);n!==null&&n.tag===5&&n.type==="form"?Og(n):ri.r(t)}var ta=typeof document>"u"?null:document;function my(t,n,s){var l=ta;if(l&&typeof n=="string"&&n){var u=tn(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),gy.has(u)||(gy.add(u),t={rel:t,crossOrigin:s,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),bt(n,"link",t),ut(n),l.head.appendChild(n)))}}function cS(t){ri.D(t),my("dns-prefetch",t,null)}function fS(t,n){ri.C(t,n),my("preconnect",t,n)}function hS(t,n,s){ri.L(t,n,s);var l=ta;if(l&&t&&n){var u='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+tn(s.imageSizes)+'"]')):u+='[href="'+tn(t)+'"]';var f=u;switch(n){case"style":f=na(t);break;case"script":f=ia(t)}cn.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),cn.set(f,t),l.querySelector(u)!==null||n==="style"&&l.querySelector(gs(f))||n==="script"&&l.querySelector(ms(f))||(n=l.createElement("link"),bt(n,"link",t),ut(n),l.head.appendChild(n)))}}function dS(t,n){ri.m(t,n);var s=ta;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(t)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ia(t)}if(!cn.has(f)&&(t=A({rel:"modulepreload",href:t},n),cn.set(f,t),s.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ms(f)))return}l=s.createElement("link"),bt(l,"link",t),ut(l),s.head.appendChild(l)}}}function gS(t,n,s){ri.S(t,n,s);var l=ta;if(l&&t){var u=Tr(l).hoistableStyles,f=na(t);n=n||"default";var g=u.get(f);if(!g){var p={loading:0,preload:null};if(g=l.querySelector(gs(f)))p.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=cn.get(f))&&ef(t,s);var v=g=l.createElement("link");ut(v),bt(v,"link",t),v._p=new Promise(function(O,L){v.onload=O,v.onerror=L}),v.addEventListener("load",function(){p.loading|=1}),v.addEventListener("error",function(){p.loading|=2}),p.loading|=4,no(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:p},u.set(f,g)}}}function mS(t,n){ri.X(t,n);var s=ta;if(s&&t){var l=Tr(s).hoistableScripts,u=ia(t),f=l.get(u);f||(f=s.querySelector(ms(u)),f||(t=A({src:t,async:!0},n),(n=cn.get(u))&&tf(t,n),f=s.createElement("script"),ut(f),bt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function yS(t,n){ri.M(t,n);var s=ta;if(s&&t){var l=Tr(s).hoistableScripts,u=ia(t),f=l.get(u);f||(f=s.querySelector(ms(u)),f||(t=A({src:t,async:!0,type:"module"},n),(n=cn.get(u))&&tf(t,n),f=s.createElement("script"),ut(f),bt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function yy(t,n,s,l){var u=(u=be.current)?to(u):null;if(!u)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=na(s.href),s=Tr(u).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=na(s.href);var f=Tr(u).hoistableStyles,g=f.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=u.querySelector(gs(t)))&&!f._p&&(g.instance=f,g.state.loading=5),cn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},cn.set(t,s),f||pS(u,t,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ia(s),s=Tr(u).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function na(t){return'href="'+tn(t)+'"'}function gs(t){return'link[rel="stylesheet"]['+t+"]"}function py(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function pS(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),bt(n,"link",s),ut(n),t.head.appendChild(n))}function ia(t){return'[src="'+tn(t)+'"]'}function ms(t){return"script[async]"+t}function by(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+tn(s.href)+'"]');if(l)return n.instance=l,ut(l),l;var u=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ut(l),bt(l,"style",u),no(l,s.precedence,t),n.instance=l;case"stylesheet":u=na(s.href);var f=t.querySelector(gs(u));if(f)return n.state.loading|=4,n.instance=f,ut(f),f;l=py(s),(u=cn.get(u))&&ef(l,u),f=(t.ownerDocument||t).createElement("link"),ut(f);var g=f;return g._p=new Promise(function(p,v){g.onload=p,g.onerror=v}),bt(f,"link",l),n.state.loading|=4,no(f,s.precedence,t),n.instance=f;case"script":return f=ia(s.src),(u=t.querySelector(ms(f)))?(n.instance=u,ut(u),u):(l=s,(u=cn.get(f))&&(l=A({},s),tf(l,u)),t=t.ownerDocument||t,u=t.createElement("script"),ut(u),bt(u,"link",l),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,no(l,s.precedence,t));return n.instance}function no(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,g=0;g<l.length;g++){var p=l[g];if(p.dataset.precedence===n)f=p;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var io=null;function vy(t,n,s){if(io===null){var l=new Map,u=io=new Map;u.set(s,l)}else u=io,l=u.get(s),l||(l=new Map,u.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),u=0;u<s.length;u++){var f=s[u];if(!(f[Oa]||f[gt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var p=l.get(g);p?p.push(f):l.set(g,[f])}}return l}function Ay(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function bS(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Sy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function vS(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=na(l.href),f=n.querySelector(gs(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ro.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,ut(f);return}f=n.ownerDocument||n,l=py(l),(u=cn.get(u))&&ef(l,u),f=f.createElement("link"),ut(f);var g=f;g._p=new Promise(function(p,v){g.onload=p,g.onerror=v}),bt(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=ro.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var nf=0;function AS(t,n){return t.stylesheets&&t.count===0&&so(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&so(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&nf===0&&(nf=62500*eS());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&so(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>nf?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function ro(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)so(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ao=null;function so(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ao=new Map,n.forEach(SS,t),ao=null,ro.call(t))}function SS(t,n){if(!(n.state.loading&4)){var s=ao.get(t);if(s)var l=s.get(null);else{s=new Map,ao.set(t,s);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}u=n.instance,g=u.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,u),s.set(g,u),this.count++,l=ro.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var ys={$$typeof:K,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function ES(t,n,s,l,u,f,g,p,v){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$o(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.hiddenUpdates=$o(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Ey(t,n,s,l,u,f,g,p,v,O,L,Z){return t=new ES(t,n,s,g,v,O,L,Z,p),n=1,f===!0&&(n|=24),f=kt(3,null,null,n),t.current=f,f.stateNode=t,n=Lu(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},zu(f),t}function Ny(t){return t?(t=Br,t):Br}function Ty(t,n,s,l,u,f){u=Ny(u),l.context===null?l.context=u:l.pendingContext=u,l=Si(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ei(t,l,n),s!==null&&(Lt(s,t,n),Fa(s,t,n))}function Ry(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function rf(t,n){Ry(t,n),(t=t.alternate)&&Ry(t,n)}function Cy(t){if(t.tag===13||t.tag===31){var n=er(t,67108864);n!==null&&Lt(n,t,67108864),rf(t,67108864)}}function Iy(t){if(t.tag===13||t.tag===31){var n=$t();n=Po(n);var s=er(t,n);s!==null&&Lt(s,t,n),rf(t,n)}}var lo=!0;function NS(t,n,s,l){var u=M.T;M.T=null;var f=k.p;try{k.p=2,af(t,n,s,l)}finally{k.p=f,M.T=u}}function TS(t,n,s,l){var u=M.T;M.T=null;var f=k.p;try{k.p=8,af(t,n,s,l)}finally{k.p=f,M.T=u}}function af(t,n,s,l){if(lo){var u=sf(l);if(u===null)Xc(t,n,l,oo,s),Dy(t,l);else if(CS(u,t,n,s,l))l.stopPropagation();else if(Dy(t,l),n&4&&-1<RS.indexOf(t)){for(;u!==null;){var f=Nr(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Hi(f.pendingLanes);if(g!==0){var p=f;for(p.pendingLanes|=2,p.entangledLanes|=2;g;){var v=1<<31-Xt(g);p.entanglements[1]|=v,g&=~v}Un(f),(we&6)===0&&(Xl=Wt()+500,cs(0))}}break;case 31:case 13:p=er(f,2),p!==null&&Lt(p,f,2),kl(),rf(f,2)}if(f=sf(l),f===null&&Xc(t,n,l,oo,s),f===u)break;u=f}u!==null&&l.stopPropagation()}else Xc(t,n,l,null,s)}}function sf(t){return t=lu(t),lf(t)}var oo=null;function lf(t){if(oo=null,t=Er(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=h(n),t!==null)return t;t=null}else if(s===31){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return oo=t,null}function wy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cv()){case Mh:return 2;case _h:return 8;case $s:case fv:return 32;case Zh:return 268435456;default:return 32}default:return 32}}var of=!1,Ui=null,Bi=null,Li=null,ps=new Map,bs=new Map,Mi=[],RS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dy(t,n){switch(t){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":ps.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(n.pointerId)}}function vs(t,n,s,l,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},n!==null&&(n=Nr(n),n!==null&&Cy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function CS(t,n,s,l,u){switch(n){case"focusin":return Ui=vs(Ui,t,n,s,l,u),!0;case"dragenter":return Bi=vs(Bi,t,n,s,l,u),!0;case"mouseover":return Li=vs(Li,t,n,s,l,u),!0;case"pointerover":var f=u.pointerId;return ps.set(f,vs(ps.get(f)||null,t,n,s,l,u)),!0;case"gotpointercapture":return f=u.pointerId,bs.set(f,vs(bs.get(f)||null,t,n,s,l,u)),!0}return!1}function xy(t){var n=Er(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){t.blockedOn=n,Xh(t.priority,function(){Iy(s)});return}}else if(n===31){if(n=d(s),n!==null){t.blockedOn=n,Xh(t.priority,function(){Iy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=sf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);su=l,s.target.dispatchEvent(l),su=null}else return n=Nr(s),n!==null&&Cy(n),t.blockedOn=s,!1;n.shift()}return!0}function Oy(t,n,s){uo(t)&&s.delete(n)}function IS(){of=!1,Ui!==null&&uo(Ui)&&(Ui=null),Bi!==null&&uo(Bi)&&(Bi=null),Li!==null&&uo(Li)&&(Li=null),ps.forEach(Oy),bs.forEach(Oy)}function co(t,n){t.blockedOn===n&&(t.blockedOn=null,of||(of=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,IS)))}var fo=null;function Vy(t){fo!==t&&(fo=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){fo===t&&(fo=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],u=t[n+2];if(typeof l!="function"){if(lf(l||s)===null)continue;break}var f=Nr(s);f!==null&&(t.splice(n,3),n-=3,ac(f,{pending:!0,data:u,method:s.method,action:l},l,u))}}))}function ra(t){function n(v){return co(v,t)}Ui!==null&&co(Ui,t),Bi!==null&&co(Bi,t),Li!==null&&co(Li,t),ps.forEach(n),bs.forEach(n);for(var s=0;s<Mi.length;s++){var l=Mi[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Mi.length&&(s=Mi[0],s.blockedOn===null);)xy(s),s.blockedOn===null&&Mi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var u=s[l],f=s[l+1],g=u[Dt]||null;if(typeof f=="function")g||Vy(s);else if(g){var p=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[Dt]||null)p=g.formAction;else if(lf(u)!==null)continue}else p=g.action;typeof p=="function"?s[l+1]=p:(s.splice(l,3),l-=3),Vy(s)}}}function Uy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function uf(t){this._internalRoot=t}ho.prototype.render=uf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=$t();Ty(s,l,t,n,null,null)},ho.prototype.unmount=uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ty(t.current,2,null,t,null,null),kl(),n[Sr]=null}};function ho(t){this._internalRoot=t}ho.prototype.unstable_scheduleHydration=function(t){if(t){var n=Kh();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Mi.length&&n!==0&&n<Mi[s].priority;s++);Mi.splice(s,0,t),s===0&&xy(t)}};var By=e.version;if(By!=="19.2.1")throw Error(a(527,By,"19.2.1"));k.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var wS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!go.isDisabled&&go.supportsFiber)try{wa=go.inject(wS),Kt=go}catch{}}return Ss.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",u=Gg,f=Wg,g=Kg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Ey(t,1,!1,null,null,s,l,null,u,f,g,Uy),t[Sr]=n.current,Kc(t),new uf(n)},Ss.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,u="",f=Gg,g=Wg,p=Kg,v=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(p=s.onRecoverableError),s.formState!==void 0&&(v=s.formState)),n=Ey(t,1,!0,n,s??null,l,u,v,f,g,p,Uy),n.context=Ny(null),s=n.current,l=$t(),l=Po(l),u=Si(l),u.callback=null,Ei(s,u,l),s=l,n.current.lanes=s,xa(n,s),Un(n),t[Sr]=n.current,Kc(t),new ho(n)},Ss.version="19.2.1",Ss}var Xy;function zS(){if(Xy)return hf.exports;Xy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hf.exports=ZS(),hf.exports}var YS=zS();const GS=xS(YS);var pe;(function(i){i[i.Canceled=1]="Canceled",i[i.Unknown=2]="Unknown",i[i.InvalidArgument=3]="InvalidArgument",i[i.DeadlineExceeded=4]="DeadlineExceeded",i[i.NotFound=5]="NotFound",i[i.AlreadyExists=6]="AlreadyExists",i[i.PermissionDenied=7]="PermissionDenied",i[i.ResourceExhausted=8]="ResourceExhausted",i[i.FailedPrecondition=9]="FailedPrecondition",i[i.Aborted=10]="Aborted",i[i.OutOfRange=11]="OutOfRange",i[i.Unimplemented=12]="Unimplemented",i[i.Internal=13]="Internal",i[i.Unavailable=14]="Unavailable",i[i.DataLoss=15]="DataLoss",i[i.Unauthenticated=16]="Unauthenticated"})(pe||(pe={}));function Jf(i,e){return i!==null&&typeof i=="object"&&"$typeName"in i&&typeof i.$typeName=="string"?e===void 0?!0:e.typeName===i.$typeName:!1}var D;(function(i){i[i.DOUBLE=1]="DOUBLE",i[i.FLOAT=2]="FLOAT",i[i.INT64=3]="INT64",i[i.UINT64=4]="UINT64",i[i.INT32=5]="INT32",i[i.FIXED64=6]="FIXED64",i[i.FIXED32=7]="FIXED32",i[i.BOOL=8]="BOOL",i[i.STRING=9]="STRING",i[i.BYTES=12]="BYTES",i[i.UINT32=13]="UINT32",i[i.SFIXED32=15]="SFIXED32",i[i.SFIXED64=16]="SFIXED64",i[i.SINT32=17]="SINT32",i[i.SINT64=18]="SINT64"})(D||(D={}));function WS(){let i=0,e=0;for(let a=0;a<28;a+=7){let o=this.buf[this.pos++];if(i|=(o&127)<<a,(o&128)==0)return this.assertBounds(),[i,e]}let r=this.buf[this.pos++];if(i|=(r&15)<<28,e=(r&112)>>4,(r&128)==0)return this.assertBounds(),[i,e];for(let a=3;a<=31;a+=7){let o=this.buf[this.pos++];if(e|=(o&127)<<a,(o&128)==0)return this.assertBounds(),[i,e]}throw new Error("invalid varint")}function yf(i,e,r){for(let c=0;c<28;c=c+7){const h=i>>>c,d=!(!(h>>>7)&&e==0),y=(d?h|128:h)&255;if(r.push(y),!d)return}const a=i>>>28&15|(e&7)<<4,o=e>>3!=0;if(r.push((o?a|128:a)&255),!!o){for(let c=3;c<31;c=c+7){const h=e>>>c,d=!!(h>>>7),y=(d?h|128:h)&255;if(r.push(y),!d)return}r.push(e>>>31&1)}}const No=4294967296;function Jy(i){const e=i[0]==="-";e&&(i=i.slice(1));const r=1e6;let a=0,o=0;function c(h,d){const y=Number(i.slice(h,d));o*=r,a=a*r+y,a>=No&&(o=o+(a/No|0),a=a%No)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),e?v0(a,o):kf(a,o)}function KS(i,e){let r=kf(i,e);const a=r.hi&2147483648;a&&(r=v0(r.lo,r.hi));const o=b0(r.lo,r.hi);return a?"-"+o:o}function b0(i,e){if({lo:i,hi:e}=XS(i,e),e<=2097151)return String(No*e+i);const r=i&16777215,a=(i>>>24|e<<8)&16777215,o=e>>16&65535;let c=r+a*6777216+o*6710656,h=a+o*8147497,d=o*2;const y=1e7;return c>=y&&(h+=Math.floor(c/y),c%=y),h>=y&&(d+=Math.floor(h/y),h%=y),d.toString()+ky(h)+ky(c)}function XS(i,e){return{lo:i>>>0,hi:e>>>0}}function kf(i,e){return{lo:i|0,hi:e|0}}function v0(i,e){return e=~e,i?i=~i+1:e+=1,kf(i,e)}const ky=i=>{const e=String(i);return"0000000".slice(e.length)+e};function wf(i,e){if(i>=0){for(;i>127;)e.push(i&127|128),i=i>>>7;e.push(i)}else{for(let r=0;r<9;r++)e.push(i&127|128),i=i>>7;e.push(1)}}function JS(){let i=this.buf[this.pos++],e=i&127;if((i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<7,(i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<14,(i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<21,(i&128)==0)return this.assertBounds(),e;i=this.buf[this.pos++],e|=(i&15)<<28;for(let r=5;(i&128)!==0&&r<10;r++)i=this.buf[this.pos++];if((i&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var jy={};const Fe=kS();function kS(){const i=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof i.getBigInt64=="function"&&typeof i.getBigUint64=="function"&&typeof i.setBigInt64=="function"&&typeof i.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof jy!="object"||jy.BUF_BIGINT_DISABLE!=="1")){const r=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),o=BigInt("0"),c=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(h){const d=typeof h=="bigint"?h:BigInt(h);if(d>a||d<r)throw new Error(`invalid int64: ${h}`);return d},uParse(h){const d=typeof h=="bigint"?h:BigInt(h);if(d>c||d<o)throw new Error(`invalid uint64: ${h}`);return d},enc(h){return i.setBigInt64(0,this.parse(h),!0),{lo:i.getInt32(0,!0),hi:i.getInt32(4,!0)}},uEnc(h){return i.setBigInt64(0,this.uParse(h),!0),{lo:i.getInt32(0,!0),hi:i.getInt32(4,!0)}},dec(h,d){return i.setInt32(0,h,!0),i.setInt32(4,d,!0),i.getBigInt64(0,!0)},uDec(h,d){return i.setInt32(0,h,!0),i.setInt32(4,d,!0),i.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(r){return typeof r!="string"&&(r=r.toString()),Fy(r),r},uParse(r){return typeof r!="string"&&(r=r.toString()),Hy(r),r},enc(r){return typeof r!="string"&&(r=r.toString()),Fy(r),Jy(r)},uEnc(r){return typeof r!="string"&&(r=r.toString()),Hy(r),Jy(r)},dec(r,a){return KS(r,a)},uDec(r,a){return b0(r,a)}}}function Fy(i){if(!/^-?[0-9]+$/.test(i))throw new Error("invalid int64: "+i)}function Hy(i){if(!/^[0-9]+$/.test(i))throw new Error("invalid uint64: "+i)}function br(i,e){switch(i){case D.STRING:return"";case D.BOOL:return!1;case D.DOUBLE:case D.FLOAT:return 0;case D.INT64:case D.UINT64:case D.SFIXED64:case D.FIXED64:case D.SINT64:return e?"0":Fe.zero;case D.BYTES:return new Uint8Array(0);default:return 0}}function jS(i,e){switch(i){case D.BOOL:return e===!1;case D.STRING:return e==="";case D.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}const A0=2,si=Symbol.for("reflect unsafe local");function S0(i,e){const r=i[e.localName].case;return r===void 0?r:e.fields.find(a=>a.localName===r)}function FS(i,e){const r=e.localName;if(e.oneof)return i[e.oneof.localName].case===r;if(e.presence!=A0)return i[r]!==void 0&&Object.prototype.hasOwnProperty.call(i,r);switch(e.fieldKind){case"list":return i[r].length>0;case"map":return Object.keys(i[r]).length>0;case"scalar":return!jS(e.scalar,i[r]);case"enum":return i[r]!==e.enum.values[0].number}throw new Error("message field with implicit presence")}function Bs(i,e){return Object.prototype.hasOwnProperty.call(i,e)&&i[e]!==void 0}function E0(i,e){if(e.oneof){const r=i[e.oneof.localName];return r.case===e.localName?r.value:void 0}return i[e.localName]}function N0(i,e,r){e.oneof?i[e.oneof.localName]={case:e.localName,value:r}:i[e.localName]=r}function HS(i,e){const r=e.localName;if(e.oneof){const a=e.oneof.localName;i[a].case===r&&(i[a]={case:void 0})}else if(e.presence!=A0)delete i[r];else switch(e.fieldKind){case"map":i[r]={};break;case"list":i[r]=[];break;case"enum":i[r]=e.enum.values[0].number;break;case"scalar":i[r]=br(e.scalar,e.longAsString);break}}function Xi(i){return i!==null&&typeof i=="object"&&!Array.isArray(i)}function jf(i,e){var r,a,o,c;if(Xi(i)&&si in i&&"add"in i&&"field"in i&&typeof i.field=="function"){if(e!==void 0){const h=e,d=i.field();return h.listKind==d.listKind&&h.scalar===d.scalar&&((r=h.message)===null||r===void 0?void 0:r.typeName)===((a=d.message)===null||a===void 0?void 0:a.typeName)&&((o=h.enum)===null||o===void 0?void 0:o.typeName)===((c=d.enum)===null||c===void 0?void 0:c.typeName)}return!0}return!1}function Ff(i,e){var r,a,o,c;if(Xi(i)&&si in i&&"has"in i&&"field"in i&&typeof i.field=="function"){if(e!==void 0){const h=e,d=i.field();return h.mapKey===d.mapKey&&h.mapKind==d.mapKind&&h.scalar===d.scalar&&((r=h.message)===null||r===void 0?void 0:r.typeName)===((a=d.message)===null||a===void 0?void 0:a.typeName)&&((o=h.enum)===null||o===void 0?void 0:o.typeName)===((c=d.enum)===null||c===void 0?void 0:c.typeName)}return!0}return!1}function Hf(i,e){return Xi(i)&&si in i&&"desc"in i&&Xi(i.desc)&&i.desc.kind==="message"&&(e===void 0||i.desc.typeName==e.typeName)}function QS(i){return T0(i.$typeName)}function Js(i){const e=i.fields[0];return T0(i.typeName)&&e!==void 0&&e.fieldKind=="scalar"&&e.name=="value"&&e.number==1}function T0(i){return i.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(i.substring(16))}const $S=999,PS=998,To=2;function te(i,e){if(Jf(e,i))return e;const r=i1(i);return e!==void 0&&qS(i,r,e),r}function qS(i,e,r){for(const a of i.members){let o=r[a.localName];if(o==null)continue;let c;if(a.kind=="oneof"){const h=S0(r,a);if(!h)continue;c=h,o=E0(r,h)}else c=a;switch(c.fieldKind){case"message":o=Qf(c,o);break;case"scalar":o=R0(c,o);break;case"list":o=t1(c,o);break;case"map":o=e1(c,o);break}N0(e,c,o)}return e}function R0(i,e){return i.scalar==D.BYTES?$f(e):e}function e1(i,e){if(Xi(e)){if(i.scalar==D.BYTES)return Qy(e,$f);if(i.mapKind=="message")return Qy(e,r=>Qf(i,r))}return e}function t1(i,e){if(Array.isArray(e)){if(i.scalar==D.BYTES)return e.map($f);if(i.listKind=="message")return e.map(r=>Qf(i,r))}return e}function Qf(i,e){if(i.fieldKind=="message"&&!i.oneof&&Js(i.message))return R0(i.message.fields[0],e);if(Xi(e)){if(i.message.typeName=="google.protobuf.Struct"&&i.parent.typeName!=="google.protobuf.Value")return e;if(!Jf(e,i.message))return te(i.message,e)}return e}function $f(i){return Array.isArray(i)?new Uint8Array(i):i}function Qy(i,e){const r={};for(const a of Object.entries(i))r[a[0]]=e(a[1]);return r}const n1=Symbol(),$y=new WeakMap;function i1(i){let e;if(r1(i)){const r=$y.get(i);let a,o;if(r)({prototype:a,members:o}=r);else{a={},o=new Set;for(const c of i.members)c.kind!="oneof"&&(c.fieldKind!="scalar"&&c.fieldKind!="enum"||c.presence!=To&&(o.add(c),a[c.localName]=pf(c)));$y.set(i,{prototype:a,members:o})}e=Object.create(a),e.$typeName=i.typeName;for(const c of i.members)o.has(c)||c.kind=="field"&&(c.fieldKind=="message"||(c.fieldKind=="scalar"||c.fieldKind=="enum")&&c.presence!=To)||(e[c.localName]=pf(c))}else{e={$typeName:i.typeName};for(const r of i.members)(r.kind=="oneof"||r.presence==To)&&(e[r.localName]=pf(r))}return e}function r1(i){switch(i.file.edition){case $S:return!1;case PS:return!0;default:return i.fields.some(e=>e.presence!=To&&e.fieldKind!="message"&&!e.oneof)}}function pf(i){if(i.kind=="oneof")return{case:void 0};if(i.fieldKind=="list")return[];if(i.fieldKind=="map")return{};if(i.fieldKind=="message")return n1;const e=i.getDefaultValue();return e!==void 0?i.fieldKind=="scalar"&&i.longAsString?e.toString():e:i.fieldKind=="scalar"?br(i.scalar,i.longAsString):i.enum.values[0].number}const a1=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class Zt extends Error{constructor(e,r,a="FieldValueInvalidError"){super(r),this.name=a,this.field=()=>e}}function s1(i){return i instanceof Error&&a1.includes(i.name)&&"field"in i&&typeof i.field=="function"}const bf=Symbol.for("@bufbuild/protobuf/text-encoding");function Pf(){if(globalThis[bf]==null){const i=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[bf]={encodeUtf8(r){return i.encode(r)},decodeUtf8(r){return e.decode(r)},checkUtf8(r){try{return encodeURIComponent(r),!0}catch{return!1}}}}return globalThis[bf]}var nt;(function(i){i[i.Varint=0]="Varint",i[i.Bit64=1]="Bit64",i[i.LengthDelimited=2]="LengthDelimited",i[i.StartGroup=3]="StartGroup",i[i.EndGroup=4]="EndGroup",i[i.Bit32=5]="Bit32"})(nt||(nt={}));const C0=34028234663852886e22,I0=-34028234663852886e22,w0=4294967295,D0=2147483647,x0=-2147483648;class O0{constructor(e=Pf().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let o=0;o<this.chunks.length;o++)e+=this.chunks[o].length;let r=new Uint8Array(e),a=0;for(let o=0;o<this.chunks.length;o++)r.set(this.chunks[o],a),a+=this.chunks[o].length;return this.chunks=[],r}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),r=this.stack.pop();if(!r)throw new Error("invalid state, fork stack empty");return this.chunks=r.chunks,this.buf=r.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,r){return this.uint32((e<<3|r)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(Py(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return vf(e),wf(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let r=this.encodeUtf8(e);return this.uint32(r.byteLength),this.raw(r)}float(e){l1(e);let r=new Uint8Array(4);return new DataView(r.buffer).setFloat32(0,e,!0),this.raw(r)}double(e){let r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,e,!0),this.raw(r)}fixed32(e){Py(e);let r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,e,!0),this.raw(r)}sfixed32(e){vf(e);let r=new Uint8Array(4);return new DataView(r.buffer).setInt32(0,e,!0),this.raw(r)}sint32(e){return vf(e),e=(e<<1^e>>31)>>>0,wf(e,this.buf),this}sfixed64(e){let r=new Uint8Array(8),a=new DataView(r.buffer),o=Fe.enc(e);return a.setInt32(0,o.lo,!0),a.setInt32(4,o.hi,!0),this.raw(r)}fixed64(e){let r=new Uint8Array(8),a=new DataView(r.buffer),o=Fe.uEnc(e);return a.setInt32(0,o.lo,!0),a.setInt32(4,o.hi,!0),this.raw(r)}int64(e){let r=Fe.enc(e);return yf(r.lo,r.hi,this.buf),this}sint64(e){const r=Fe.enc(e),a=r.hi>>31,o=r.lo<<1^a,c=(r.hi<<1|r.lo>>>31)^a;return yf(o,c,this.buf),this}uint64(e){const r=Fe.uEnc(e);return yf(r.lo,r.hi,this.buf),this}}class qf{constructor(e,r=Pf().decodeUtf8){this.decodeUtf8=r,this.varint64=WS,this.uint32=JS,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),r=e>>>3,a=e&7;if(r<=0||a<0||a>5)throw new Error("illegal tag: field no "+r+" wire type "+a);return[r,a]}skip(e,r){let a=this.pos;switch(e){case nt.Varint:for(;this.buf[this.pos++]&128;);break;case nt.Bit64:this.pos+=4;case nt.Bit32:this.pos+=4;break;case nt.LengthDelimited:let o=this.uint32();this.pos+=o;break;case nt.StartGroup:for(;;){const[c,h]=this.tag();if(h===nt.EndGroup){if(r!==void 0&&c!==r)throw new Error("invalid end group tag");break}this.skip(h,c)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(a,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return Fe.dec(...this.varint64())}uint64(){return Fe.uDec(...this.varint64())}sint64(){let[e,r]=this.varint64(),a=-(e&1);return e=(e>>>1|(r&1)<<31)^a,r=r>>>1^a,Fe.dec(e,r)}bool(){let[e,r]=this.varint64();return e!==0||r!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Fe.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Fe.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),r=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(r,r+e)}string(){return this.decodeUtf8(this.bytes())}}function vf(i){if(typeof i=="string")i=Number(i);else if(typeof i!="number")throw new Error("invalid int32: "+typeof i);if(!Number.isInteger(i)||i>D0||i<x0)throw new Error("invalid int32: "+i)}function Py(i){if(typeof i=="string")i=Number(i);else if(typeof i!="number")throw new Error("invalid uint32: "+typeof i);if(!Number.isInteger(i)||i>w0||i<0)throw new Error("invalid uint32: "+i)}function l1(i){if(typeof i=="string"){const e=i;if(i=Number(i),Number.isNaN(i)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof i!="number")throw new Error("invalid float32: "+typeof i);if(Number.isFinite(i)&&(i>C0||i<I0))throw new Error("invalid float32: "+i)}function dr(i,e){const r=i.fieldKind=="list"?jf(e,i):i.fieldKind=="map"?Ff(e,i):eh(i,e);if(r===!0)return;let a;switch(i.fieldKind){case"list":a=`expected ${B0(i)}, got ${ht(e)}`;break;case"map":a=`expected ${L0(i)}, got ${ht(e)}`;break;default:a=Io(i,e,r)}return new Zt(i,a)}function qy(i,e,r){const a=eh(i,r);if(a!==!0)return new Zt(i,`list item #${e+1}: ${Io(i,r,a)}`)}function o1(i,e,r){const a=V0(e,i.mapKey);if(a!==!0)return new Zt(i,`invalid map key: ${Io({scalar:i.mapKey},e,a)}`);const o=eh(i,r);if(o!==!0)return new Zt(i,`map entry ${ht(e)}: ${Io(i,r,o)}`)}function eh(i,e){return i.scalar!==void 0?V0(e,i.scalar):i.enum!==void 0?i.enum.open?Number.isInteger(e):i.enum.values.some(r=>r.number===e):Hf(e,i.message)}function V0(i,e){switch(e){case D.DOUBLE:return typeof i=="number";case D.FLOAT:return typeof i!="number"?!1:Number.isNaN(i)||!Number.isFinite(i)?!0:i>C0||i<I0?`${i.toFixed()} out of range`:!0;case D.INT32:case D.SFIXED32:case D.SINT32:return typeof i!="number"||!Number.isInteger(i)?!1:i>D0||i<x0?`${i.toFixed()} out of range`:!0;case D.FIXED32:case D.UINT32:return typeof i!="number"||!Number.isInteger(i)?!1:i>w0||i<0?`${i.toFixed()} out of range`:!0;case D.BOOL:return typeof i=="boolean";case D.STRING:return typeof i!="string"?!1:Pf().checkUtf8(i)||"invalid UTF8";case D.BYTES:return i instanceof Uint8Array;case D.INT64:case D.SFIXED64:case D.SINT64:if(typeof i=="bigint"||typeof i=="number"||typeof i=="string"&&i.length>0)try{return Fe.parse(i),!0}catch{return`${i} out of range`}return!1;case D.FIXED64:case D.UINT64:if(typeof i=="bigint"||typeof i=="number"||typeof i=="string"&&i.length>0)try{return Fe.uParse(i),!0}catch{return`${i} out of range`}return!1}}function Io(i,e,r){return r=typeof r=="string"?`: ${r}`:`, got ${ht(e)}`,i.scalar!==void 0?`expected ${u1(i.scalar)}`+r:i.enum!==void 0?`expected ${i.enum.toString()}`+r:`expected ${U0(i.message)}`+r}function ht(i){switch(typeof i){case"object":return i===null?"null":i instanceof Uint8Array?`Uint8Array(${i.length})`:Array.isArray(i)?`Array(${i.length})`:jf(i)?B0(i.field()):Ff(i)?L0(i.field()):Hf(i)?U0(i.desc):Jf(i)?`message ${i.$typeName}`:"object";case"string":return i.length>30?"string":`"${i.split('"').join('\\"')}"`;case"boolean":return String(i);case"number":return String(i);case"bigint":return String(i)+"n";default:return typeof i}}function U0(i){return`ReflectMessage (${i.typeName})`}function B0(i){switch(i.listKind){case"message":return`ReflectList (${i.message.toString()})`;case"enum":return`ReflectList (${i.enum.toString()})`;case"scalar":return`ReflectList (${D[i.scalar]})`}}function L0(i){switch(i.mapKind){case"message":return`ReflectMap (${D[i.mapKey]}, ${i.message.toString()})`;case"enum":return`ReflectMap (${D[i.mapKey]}, ${i.enum.toString()})`;case"scalar":return`ReflectMap (${D[i.mapKey]}, ${D[i.scalar]})`}}function u1(i){switch(i){case D.STRING:return"string";case D.BOOL:return"boolean";case D.INT64:case D.SINT64:case D.SFIXED64:return"bigint (int64)";case D.UINT64:case D.FIXED64:return"bigint (uint64)";case D.BYTES:return"Uint8Array";case D.DOUBLE:return"number (float64)";case D.FLOAT:return"number (float32)";case D.FIXED32:case D.UINT32:return"number (uint32)";case D.INT32:case D.SFIXED32:case D.SINT32:return"number (int32)"}}function gn(i,e,r=!0){return new M0(i,e,r)}const ep=new WeakMap;class M0{get sortedFields(){const e=ep.get(this.desc);if(e)return e;const r=this.desc.fields.concat().sort((a,o)=>a.number-o.number);return ep.set(this.desc,r),r}constructor(e,r,a=!0){this.lists=new Map,this.maps=new Map,this.check=a,this.desc=e,this.message=this[si]=r??te(e),this.fields=e.fields,this.oneofs=e.oneofs,this.members=e.members}findNumber(e){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(r=>[r.number,r]))),this._fieldsByNumber.get(e)}oneofCase(e){return Es(this.message,e),S0(this.message,e)}isSet(e){return Es(this.message,e),FS(this.message,e)}clear(e){Es(this.message,e),HS(this.message,e)}get(e){Es(this.message,e);const r=E0(this.message,e);switch(e.fieldKind){case"list":let a=this.lists.get(e);return(!a||a[si]!==r)&&this.lists.set(e,a=new c1(e,r,this.check)),a;case"map":let o=this.maps.get(e);return(!o||o[si]!==r)&&this.maps.set(e,o=new f1(e,r,this.check)),o;case"message":return nh(e,r,this.check);case"scalar":return r===void 0?br(e.scalar,!1):ih(e,r);case"enum":return r??e.enum.values[0].number}}set(e,r){if(Es(this.message,e),this.check){const o=dr(e,r);if(o)throw o}let a;e.fieldKind=="message"?a=th(e,r):Ff(r)||jf(r)?a=r[si]:a=rh(e,r),N0(this.message,e,a)}getUnknown(){return this.message.$unknown}setUnknown(e){this.message.$unknown=e}}function Es(i,e){if(e.parent.typeName!==i.$typeName)throw new Zt(e,`cannot use ${e.toString()} with message ${i.$typeName}`,"ForeignFieldError")}class c1{field(){return this._field}get size(){return this._arr.length}constructor(e,r,a){this._field=e,this._arr=this[si]=r,this.check=a}get(e){const r=this._arr[e];return r===void 0?void 0:Af(this._field,r,this.check)}set(e,r){if(e<0||e>=this._arr.length)throw new Zt(this._field,`list item #${e+1}: out of range`);if(this.check){const a=qy(this._field,e,r);if(a)throw a}this._arr[e]=tp(this._field,r)}add(e){if(this.check){const r=qy(this._field,this._arr.length,e);if(r)throw r}this._arr.push(tp(this._field,e))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const e of this._arr)yield Af(this._field,e,this.check)}*entries(){for(let e=0;e<this._arr.length;e++)yield[e,Af(this._field,this._arr[e],this.check)]}}class f1{constructor(e,r,a=!0){this.obj=this[si]=r??{},this.check=a,this._field=e}field(){return this._field}set(e,r){if(this.check){const a=o1(this._field,e,r);if(a)throw a}return this.obj[mo(e)]=h1(this._field,r),this}delete(e){const r=mo(e),a=Object.prototype.hasOwnProperty.call(this.obj,r);return a&&delete this.obj[r],a}clear(){for(const e of Object.keys(this.obj))delete this.obj[e]}get(e){let r=this.obj[mo(e)];return r!==void 0&&(r=Sf(this._field,r,this.check)),r}has(e){return Object.prototype.hasOwnProperty.call(this.obj,mo(e))}*keys(){for(const e of Object.keys(this.obj))yield np(e,this._field.mapKey)}*entries(){for(const e of Object.entries(this.obj))yield[np(e[0],this._field.mapKey),Sf(this._field,e[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const e of Object.values(this.obj))yield Sf(this._field,e,this.check)}forEach(e,r){for(const a of this.entries())e.call(r,a[1],a[0],this)}}function th(i,e){return Hf(e)?QS(e.message)&&!i.oneof&&i.fieldKind=="message"?e.message.value:e.desc.typeName=="google.protobuf.Struct"&&i.parent.typeName!="google.protobuf.Value"?Z0(e.message):e.message:e}function nh(i,e,r){return e!==void 0&&(Js(i.message)&&!i.oneof&&i.fieldKind=="message"?e={$typeName:i.message.typeName,value:ih(i.message.fields[0],e)}:i.message.typeName=="google.protobuf.Struct"&&i.parent.typeName!="google.protobuf.Value"&&Xi(e)&&(e=_0(e))),new M0(i.message,e,r)}function tp(i,e){return i.listKind=="message"?th(i,e):rh(i,e)}function Af(i,e,r){return i.listKind=="message"?nh(i,e,r):ih(i,e)}function h1(i,e){return i.mapKind=="message"?th(i,e):rh(i,e)}function Sf(i,e,r){return i.mapKind=="message"?nh(i,e,r):e}function mo(i){return typeof i=="string"||typeof i=="number"?i:String(i)}function np(i,e){switch(e){case D.STRING:return i;case D.INT32:case D.FIXED32:case D.UINT32:case D.SFIXED32:case D.SINT32:{const r=Number.parseInt(i);if(Number.isFinite(r))return r;break}case D.BOOL:switch(i){case"true":return!0;case"false":return!1}break;case D.UINT64:case D.FIXED64:try{return Fe.uParse(i)}catch{}break;default:try{return Fe.parse(i)}catch{}break}return i}function ih(i,e){switch(i.scalar){case D.INT64:case D.SFIXED64:case D.SINT64:"longAsString"in i&&i.longAsString&&typeof e=="string"&&(e=Fe.parse(e));break;case D.FIXED64:case D.UINT64:"longAsString"in i&&i.longAsString&&typeof e=="string"&&(e=Fe.uParse(e));break}return e}function rh(i,e){switch(i.scalar){case D.INT64:case D.SFIXED64:case D.SINT64:"longAsString"in i&&i.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=Fe.parse(e));break;case D.FIXED64:case D.UINT64:"longAsString"in i&&i.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=Fe.uParse(e));break}return e}function _0(i){const e={$typeName:"google.protobuf.Struct",fields:{}};if(Xi(i))for(const[r,a]of Object.entries(i))e.fields[r]=Y0(a);return e}function Z0(i){const e={};for(const[r,a]of Object.entries(i.fields))e[r]=z0(a);return e}function z0(i){switch(i.kind.case){case"structValue":return Z0(i.kind.value);case"listValue":return i.kind.value.values.map(z0);case"nullValue":case void 0:return null;default:return i.kind.value}}function Y0(i){const e={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof i){case"number":e.kind={case:"numberValue",value:i};break;case"string":e.kind={case:"stringValue",value:i};break;case"boolean":e.kind={case:"boolValue",value:i};break;case"object":if(i===null)e.kind={case:"nullValue",value:0};else if(Array.isArray(i)){const r={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(i))for(const a of i)r.values.push(Y0(a));e.kind={case:"listValue",value:r}}else e.kind={case:"structValue",value:_0(i)};break}return e}function ah(i){const e=g1();let r=i.length*3/4;i[i.length-2]=="="?r-=2:i[i.length-1]=="="&&(r-=1);let a=new Uint8Array(r),o=0,c=0,h,d=0;for(let y=0;y<i.length;y++){if(h=e[i.charCodeAt(y)],h===void 0)switch(i[y]){case"=":c=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(c){case 0:d=h,c=1;break;case 1:a[o++]=d<<2|(h&48)>>4,d=h,c=2;break;case 2:a[o++]=(d&15)<<4|(h&60)>>2,d=h,c=3;break;case 3:a[o++]=(d&3)<<6|h,c=0;break}}if(c==1)throw Error("invalid base64 string");return a.subarray(0,o)}function d1(i,e="std"){const r=G0(e),a=e=="std";let o="",c=0,h,d=0;for(let y=0;y<i.length;y++)switch(h=i[y],c){case 0:o+=r[h>>2],d=(h&3)<<4,c=1;break;case 1:o+=r[d|h>>4],d=(h&15)<<2,c=2;break;case 2:o+=r[d|h>>6],o+=r[h&63],c=0;break}return c&&(o+=r[d],a&&(o+="=",c==1&&(o+="="))),o}let yo,ip,aa;function G0(i){return yo||(yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ip=yo.slice(0,-2).concat("-","_")),i=="url"?ip:yo}function g1(){if(!aa){aa=[];const i=G0("std");for(let e=0;e<i.length;e++)aa[i[e].charCodeAt(0)]=e;aa[45]=i.indexOf("+"),aa[95]=i.indexOf("/")}return aa}function Ls(i){let e=!1;const r=[];for(let a=0;a<i.length;a++){let o=i.charAt(a);switch(o){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r.push(o),e=!1;break;default:e&&(e=!1,o=o.toUpperCase()),r.push(o);break}}return r.join("")}const m1=new Set(["constructor","toString","toJSON","valueOf"]);function Ms(i){return m1.has(i)?i+"$":i}function sh(i){for(const e of i.field)Bs(e,"jsonName")||(e.jsonName=Ls(e.name));i.nestedType.forEach(sh)}function y1(i,e){const r=i.values.find(a=>a.name===e);if(!r)throw new Error(`cannot parse ${i} default value: ${e}`);return r.number}function p1(i,e){switch(i){case D.STRING:return e;case D.BYTES:{const r=b1(e);if(r===!1)throw new Error(`cannot parse ${D[i]} default value: ${e}`);return r}case D.INT64:case D.SFIXED64:case D.SINT64:return Fe.parse(e);case D.UINT64:case D.FIXED64:return Fe.uParse(e);case D.DOUBLE:case D.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case D.BOOL:return e==="true";case D.INT32:case D.UINT32:case D.SINT32:case D.FIXED32:case D.SFIXED32:return parseInt(e,10)}}function b1(i){const e=[],r={tail:i,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(a){if(this.tail.length>=a){const o=this.tail.substring(0,a);return this.tail=this.tail.substring(a),o}return!1}};for(;r.next();)switch(r.c){case"\\":if(r.next())switch(r.c){case"\\":e.push(r.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const a=r.c,o=r.take(2);if(o===!1)return!1;const c=parseInt(a+o,8);if(Number.isNaN(c))return!1;e.push(c);break}case"x":{const a=r.c,o=r.take(2);if(o===!1)return!1;const c=parseInt(a+o,16);if(Number.isNaN(c))return!1;e.push(c);break}case"u":{const a=r.c,o=r.take(4);if(o===!1)return!1;const c=parseInt(a+o,16);if(Number.isNaN(c))return!1;const h=new Uint8Array(4);new DataView(h.buffer).setInt32(0,c,!0),e.push(h[0],h[1],h[2],h[3]);break}case"U":{const a=r.c,o=r.take(8);if(o===!1)return!1;const c=Fe.uEnc(a+o),h=new Uint8Array(8),d=new DataView(h.buffer);d.setInt32(0,c.lo,!0),d.setInt32(4,c.hi,!0),e.push(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7]);break}}break;default:e.push(r.c.charCodeAt(0))}return new Uint8Array(e)}function*Df(i){switch(i.kind){case"file":for(const e of i.messages)yield e,yield*Df(e);yield*i.enums,yield*i.services,yield*i.extensions;break;case"message":for(const e of i.nestedMessages)yield e,yield*Df(e);yield*i.nestedEnums,yield*i.nestedExtensions;break}}function W0(...i){const e=v1();if(!i.length)return e;if("$typeName"in i[0]&&i[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const a of i[0].file)lp(a,e);return e}if("$typeName"in i[0]){let h=function(d){const y=[];for(const m of d.dependency){if(e.getFile(m)!=null||c.has(m))continue;const b=o(m);if(!b)throw new Error(`Unable to resolve ${m}, imported by ${d.name}`);"kind"in b?e.addFile(b,!1,!0):(c.add(b.name),y.push(b))}return y.concat(...y.map(h))};var r=h;const a=i[0],o=i[1],c=new Set;for(const d of[a,...h(a)].reverse())lp(d,e)}else for(const a of i)for(const o of a.files)e.addFile(o);return e}function v1(){const i=new Map,e=new Map,r=new Map;return{kind:"registry",types:i,extendees:e,[Symbol.iterator](){return i.values()},get files(){return r.values()},addFile(a,o,c){if(r.set(a.proto.name,a),!o)for(const h of Df(a))this.add(h);if(c)for(const h of a.dependencies)this.addFile(h,o,c)},add(a){if(a.kind=="extension"){let o=e.get(a.extendee.typeName);o||e.set(a.extendee.typeName,o=new Map),o.set(a.number,a)}i.set(a.typeName,a)},get(a){return i.get(a)},getFile(a){return r.get(a)},getMessage(a){const o=i.get(a);return o?.kind=="message"?o:void 0},getEnum(a){const o=i.get(a);return o?.kind=="enum"?o:void 0},getExtension(a){const o=i.get(a);return o?.kind=="extension"?o:void 0},getExtensionFor(a,o){var c;return(c=e.get(a.typeName))===null||c===void 0?void 0:c.get(o)},getService(a){const o=i.get(a);return o?.kind=="service"?o:void 0}}}const A1=998,S1=999,E1=9,_s=10,ws=11,N1=12,rp=14,lh=3,T1=2,ap=1,R1=0,Ef=1,sp=2,C1=3,I1=1,w1=2,D1=1,K0={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function lp(i,e){var r,a;const o={kind:"file",proto:i,deprecated:(a=(r=i.options)===null||r===void 0?void 0:r.deprecated)!==null&&a!==void 0?a:!1,edition:U1(i),name:i.name.replace(/\.proto$/,""),dependencies:B1(i,e),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${i.name}`}},c=new Map,h={get(d){return c.get(d)},add(d){var y;Rn(((y=d.proto.options)===null||y===void 0?void 0:y.mapEntry)===!0),c.set(d.typeName,d)}};for(const d of i.enumType)X0(d,o,void 0,e);for(const d of i.messageType)J0(d,o,void 0,e,h);for(const d of i.service)x1(d,o,e);xf(o,e);for(const d of c.values())Of(d,e,h);for(const d of o.messages)Of(d,e,h),xf(d,e);e.addFile(o,!0)}function xf(i,e){switch(i.kind){case"file":for(const r of i.proto.extension){const a=Vf(r,i,e);i.extensions.push(a),e.add(a)}break;case"message":for(const r of i.proto.extension){const a=Vf(r,i,e);i.nestedExtensions.push(a),e.add(a)}for(const r of i.nestedMessages)xf(r,e);break}}function Of(i,e,r){const a=i.proto.oneofDecl.map(c=>V1(c,i)),o=new Set;for(const c of i.proto.field){const h=_1(c,a),d=Vf(c,i,e,h,r);i.fields.push(d),i.field[d.localName]=d,h===void 0?i.members.push(d):(h.fields.push(d),o.has(h)||(o.add(h),i.members.push(h)))}for(const c of a.filter(h=>o.has(h)))i.oneofs.push(c);for(const c of i.nestedMessages)Of(c,e,r)}function X0(i,e,r,a){var o,c,h,d,y;const m=L1(i.name,i.value),b={kind:"enum",proto:i,deprecated:(c=(o=i.options)===null||o===void 0?void 0:o.deprecated)!==null&&c!==void 0?c:!1,file:e,parent:r,open:!0,name:i.name,typeName:Lo(i,r,e),value:{},values:[],sharedPrefix:m,toString(){return`enum ${this.typeName}`}};b.open=G1(b),a.add(b);for(const A of i.value){const w=A.name;b.values.push(b.value[A.number]={kind:"enum_value",proto:A,deprecated:(d=(h=A.options)===null||h===void 0?void 0:h.deprecated)!==null&&d!==void 0?d:!1,parent:b,name:w,localName:Ms(m==null?w:w.substring(m.length)),number:A.number,toString(){return`enum value ${b.typeName}.${w}`}})}((y=r?.nestedEnums)!==null&&y!==void 0?y:e.enums).push(b)}function J0(i,e,r,a,o){var c,h,d,y;const m={kind:"message",proto:i,deprecated:(h=(c=i.options)===null||c===void 0?void 0:c.deprecated)!==null&&h!==void 0?h:!1,file:e,parent:r,name:i.name,typeName:Lo(i,r,e),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((d=i.options)===null||d===void 0?void 0:d.mapEntry)===!0?o.add(m):(((y=r?.nestedMessages)!==null&&y!==void 0?y:e.messages).push(m),a.add(m));for(const b of i.enumType)X0(b,e,m,a);for(const b of i.nestedType)J0(b,e,m,a,o)}function x1(i,e,r){var a,o;const c={kind:"service",proto:i,deprecated:(o=(a=i.options)===null||a===void 0?void 0:a.deprecated)!==null&&o!==void 0?o:!1,file:e,name:i.name,typeName:Lo(i,void 0,e),methods:[],method:{},toString(){return`service ${this.typeName}`}};e.services.push(c),r.add(c);for(const h of i.method){const d=O1(h,c,r);c.methods.push(d),c.method[d.localName]=d}}function O1(i,e,r){var a,o,c,h;let d;i.clientStreaming&&i.serverStreaming?d="bidi_streaming":i.clientStreaming?d="client_streaming":i.serverStreaming?d="server_streaming":d="unary";const y=r.getMessage(ai(i.inputType)),m=r.getMessage(ai(i.outputType));Rn(y,`invalid MethodDescriptorProto: input_type ${i.inputType} not found`),Rn(m,`invalid MethodDescriptorProto: output_type ${i.inputType} not found`);const b=i.name;return{kind:"rpc",proto:i,deprecated:(o=(a=i.options)===null||a===void 0?void 0:a.deprecated)!==null&&o!==void 0?o:!1,parent:e,name:b,localName:Ms(b.length?Ms(b[0].toLowerCase()+b.substring(1)):b),methodKind:d,input:y,output:m,idempotency:(h=(c=i.options)===null||c===void 0?void 0:c.idempotencyLevel)!==null&&h!==void 0?h:R1,toString(){return`rpc ${e.typeName}.${b}`}}}function V1(i,e){return{kind:"oneof",proto:i,deprecated:!1,parent:e,fields:[],name:i.name,localName:Ms(Ls(i.name)),toString(){return`oneof ${e.typeName}.${this.name}`}}}function Vf(i,e,r,a,o){var c,h,d;const y=o===void 0,m={kind:"field",proto:i,deprecated:(h=(c=i.options)===null||c===void 0?void 0:c.deprecated)!==null&&h!==void 0?h:!1,name:i.name,number:i.number,scalar:void 0,message:void 0,enum:void 0,presence:Z1(i,a,y,e),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(y){const R=e.kind=="file"?e:e.file,C=e.kind=="file"?void 0:e,V=Lo(i,C,R);m.kind="extension",m.file=R,m.parent=C,m.oneof=void 0,m.typeName=V,m.jsonName=`[${V}]`,m.toString=()=>`extension ${V}`;const Y=r.getMessage(ai(i.extendee));Rn(Y,`invalid FieldDescriptorProto: extendee ${i.extendee} not found`),m.extendee=Y}else{const R=e;Rn(R.kind=="message"),m.parent=R,m.oneof=a,m.localName=a?Ls(i.name):Ms(Ls(i.name)),m.jsonName=i.jsonName,m.toString=()=>`field ${R.typeName}.${i.name}`}const b=i.label,A=i.type,w=(d=i.options)===null||d===void 0?void 0:d.jstype;if(b===lh){const R=A==ws?o?.get(ai(i.typeName)):void 0;if(R){m.fieldKind="map";const{key:C,value:V}=Y1(R);return m.mapKey=C.scalar,m.mapKind=V.fieldKind,m.message=V.message,m.delimitedEncoding=!1,m.enum=V.enum,m.scalar=V.scalar,m}switch(m.fieldKind="list",A){case ws:case _s:m.listKind="message",m.message=r.getMessage(ai(i.typeName)),Rn(m.message),m.delimitedEncoding=op(i,e);break;case rp:m.listKind="enum",m.enum=r.getEnum(ai(i.typeName)),Rn(m.enum);break;default:m.listKind="scalar",m.scalar=A,m.longAsString=w==ap;break}return m.packed=z1(i,e),m}switch(A){case ws:case _s:m.fieldKind="message",m.message=r.getMessage(ai(i.typeName)),Rn(m.message,`invalid FieldDescriptorProto: type_name ${i.typeName} not found`),m.delimitedEncoding=op(i,e),m.getDefaultValue=()=>{};break;case rp:{const R=r.getEnum(ai(i.typeName));Rn(R!==void 0,`invalid FieldDescriptorProto: type_name ${i.typeName} not found`),m.fieldKind="enum",m.enum=r.getEnum(ai(i.typeName)),m.getDefaultValue=()=>Bs(i,"defaultValue")?y1(R,i.defaultValue):void 0;break}default:{m.fieldKind="scalar",m.scalar=A,m.longAsString=w==ap,m.getDefaultValue=()=>Bs(i,"defaultValue")?p1(A,i.defaultValue):void 0;break}}return m}function U1(i){switch(i.syntax){case"":case"proto2":return A1;case"proto3":return S1;case"editions":if(i.edition in K0)return i.edition;throw new Error(`${i.name}: unsupported edition`);default:throw new Error(`${i.name}: unsupported syntax "${i.syntax}"`)}}function B1(i,e){return i.dependency.map(r=>{const a=e.getFile(r);if(!a)throw new Error(`Cannot find ${r}, imported by ${i.name}`);return a})}function L1(i,e){const r=M1(i)+"_";for(const a of e){if(!a.name.toLowerCase().startsWith(r))return;const o=a.name.substring(r.length);if(o.length==0||/^\d/.test(o))return}return r}function M1(i){return(i.substring(0,1)+i.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function Lo(i,e,r){let a;return e?a=`${e.typeName}.${i.name}`:r.proto.package.length>0?a=`${r.proto.package}.${i.name}`:a=`${i.name}`,a}function ai(i){return i.startsWith(".")?i.substring(1):i}function _1(i,e){if(!Bs(i,"oneofIndex")||i.proto3Optional)return;const r=e[i.oneofIndex];return Rn(r,`invalid FieldDescriptorProto: oneof #${i.oneofIndex} for field #${i.number} not found`),r}function Z1(i,e,r,a){if(i.label==T1)return C1;if(i.label==lh)return sp;if(e||i.proto3Optional||r)return Ef;const o=ma("fieldPresence",{proto:i,parent:a});return o==sp&&(i.type==ws||i.type==_s)?Ef:o}function z1(i,e){if(i.label!=lh)return!1;switch(i.type){case E1:case N1:case _s:case ws:return!1}const r=i.options;return r&&Bs(r,"packed")?r.packed:I1==ma("repeatedFieldEncoding",{proto:i,parent:e})}function Y1(i){const e=i.fields.find(a=>a.number===1),r=i.fields.find(a=>a.number===2);return Rn(e&&e.fieldKind=="scalar"&&e.scalar!=D.BYTES&&e.scalar!=D.FLOAT&&e.scalar!=D.DOUBLE&&r&&r.fieldKind!="list"&&r.fieldKind!="map"),{key:e,value:r}}function G1(i){var e;return D1==ma("enumType",{proto:i.proto,parent:(e=i.parent)!==null&&e!==void 0?e:i.file})}function op(i,e){return i.type==_s?!0:w1==ma("messageEncoding",{proto:i,parent:e})}function ma(i,e){var r,a;const o=(r=e.proto.options)===null||r===void 0?void 0:r.features;if(o){const c=o[i];if(c!=0)return c}if("kind"in e){if(e.kind=="message")return ma(i,(a=e.parent)!==null&&a!==void 0?a:e.file);const c=K0[e.edition];if(!c)throw new Error(`feature default for edition ${e.edition} not found`);return c[i]}return ma(i,e.parent)}function Rn(i,e){if(!i)throw new Error(e)}function W1(i){const e=K1(i);return e.messageType.forEach(sh),W0(e,()=>{}).getFile(e.name)}function K1(i){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},i),{messageType:i.messageType.map(k0),enumType:i.enumType.map(j0)}))}function k0(i){var e,r,a,o,c,h,d,y;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:i.name,field:(r=(e=i.field)===null||e===void 0?void 0:e.map(X1))!==null&&r!==void 0?r:[],extension:[],nestedType:(o=(a=i.nestedType)===null||a===void 0?void 0:a.map(k0))!==null&&o!==void 0?o:[],enumType:(h=(c=i.enumType)===null||c===void 0?void 0:c.map(j0))!==null&&h!==void 0?h:[],extensionRange:(y=(d=i.extensionRange)===null||d===void 0?void 0:d.map(b=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},b)))!==null&&y!==void 0?y:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function X1(i){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},i),{options:i.options?J1(i.options):void 0}))}function J1(i){var e,r,a;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},i),{targets:(e=i.targets)!==null&&e!==void 0?e:[],editionDefaults:(a=(r=i.editionDefaults)===null||r===void 0?void 0:r.map(c=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},c)))!==null&&a!==void 0?a:[],uninterpretedOption:[]}))}function j0(i){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:i.name,reservedName:[],reservedRange:[],value:i.value.map(r=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},r))})}function ce(i,e,...r){return r.reduce((a,o)=>a.nestedMessages[o],i.messages[e])}const k1=W1({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),j1=ce(k1,1);var up;(function(i){i[i.DECLARATION=0]="DECLARATION",i[i.UNVERIFIED=1]="UNVERIFIED"})(up||(up={}));var cp;(function(i){i[i.DOUBLE=1]="DOUBLE",i[i.FLOAT=2]="FLOAT",i[i.INT64=3]="INT64",i[i.UINT64=4]="UINT64",i[i.INT32=5]="INT32",i[i.FIXED64=6]="FIXED64",i[i.FIXED32=7]="FIXED32",i[i.BOOL=8]="BOOL",i[i.STRING=9]="STRING",i[i.GROUP=10]="GROUP",i[i.MESSAGE=11]="MESSAGE",i[i.BYTES=12]="BYTES",i[i.UINT32=13]="UINT32",i[i.ENUM=14]="ENUM",i[i.SFIXED32=15]="SFIXED32",i[i.SFIXED64=16]="SFIXED64",i[i.SINT32=17]="SINT32",i[i.SINT64=18]="SINT64"})(cp||(cp={}));var fp;(function(i){i[i.OPTIONAL=1]="OPTIONAL",i[i.REPEATED=3]="REPEATED",i[i.REQUIRED=2]="REQUIRED"})(fp||(fp={}));var hp;(function(i){i[i.SPEED=1]="SPEED",i[i.CODE_SIZE=2]="CODE_SIZE",i[i.LITE_RUNTIME=3]="LITE_RUNTIME"})(hp||(hp={}));var dp;(function(i){i[i.STRING=0]="STRING",i[i.CORD=1]="CORD",i[i.STRING_PIECE=2]="STRING_PIECE"})(dp||(dp={}));var gp;(function(i){i[i.JS_NORMAL=0]="JS_NORMAL",i[i.JS_STRING=1]="JS_STRING",i[i.JS_NUMBER=2]="JS_NUMBER"})(gp||(gp={}));var mp;(function(i){i[i.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",i[i.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",i[i.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(mp||(mp={}));var yp;(function(i){i[i.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",i[i.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",i[i.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",i[i.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",i[i.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",i[i.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",i[i.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",i[i.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",i[i.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",i[i.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(yp||(yp={}));var pp;(function(i){i[i.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",i[i.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",i[i.IDEMPOTENT=2]="IDEMPOTENT"})(pp||(pp={}));var bp;(function(i){i[i.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",i[i.EXPORT_ALL=1]="EXPORT_ALL",i[i.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",i[i.LOCAL_ALL=3]="LOCAL_ALL",i[i.STRICT=4]="STRICT"})(bp||(bp={}));var vp;(function(i){i[i.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",i[i.EXPLICIT=1]="EXPLICIT",i[i.IMPLICIT=2]="IMPLICIT",i[i.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(vp||(vp={}));var Ap;(function(i){i[i.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",i[i.OPEN=1]="OPEN",i[i.CLOSED=2]="CLOSED"})(Ap||(Ap={}));var Sp;(function(i){i[i.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",i[i.PACKED=1]="PACKED",i[i.EXPANDED=2]="EXPANDED"})(Sp||(Sp={}));var Ep;(function(i){i[i.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",i[i.VERIFY=2]="VERIFY",i[i.NONE=3]="NONE"})(Ep||(Ep={}));var Np;(function(i){i[i.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",i[i.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",i[i.DELIMITED=2]="DELIMITED"})(Np||(Np={}));var Tp;(function(i){i[i.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",i[i.ALLOW=1]="ALLOW",i[i.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(Tp||(Tp={}));var Rp;(function(i){i[i.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",i[i.STYLE2024=1]="STYLE2024",i[i.STYLE_LEGACY=2]="STYLE_LEGACY"})(Rp||(Rp={}));var Cp;(function(i){i[i.NONE=0]="NONE",i[i.SET=1]="SET",i[i.ALIAS=2]="ALIAS"})(Cp||(Cp={}));var Ip;(function(i){i[i.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",i[i.EDITION_LEGACY=900]="EDITION_LEGACY",i[i.EDITION_PROTO2=998]="EDITION_PROTO2",i[i.EDITION_PROTO3=999]="EDITION_PROTO3",i[i.EDITION_2023=1e3]="EDITION_2023",i[i.EDITION_2024=1001]="EDITION_2024",i[i.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",i[i.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",i[i.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",i[i.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",i[i.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",i[i.EDITION_MAX=2147483647]="EDITION_MAX"})(Ip||(Ip={}));var wp;(function(i){i[i.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",i[i.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",i[i.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})(wp||(wp={}));const Dp={readUnknownFields:!0};function F1(i){return i?Object.assign(Object.assign({},Dp),i):Dp}function mn(i,e,r){const a=gn(i,void 0,!1);return F0(a,new qf(e),F1(r),!1,e.byteLength),a.message}function F0(i,e,r,a,o){var c;const h=a?e.len:e.pos+o;let d,y;const m=(c=i.getUnknown())!==null&&c!==void 0?c:[];for(;e.pos<h&&([d,y]=e.tag(),!(a&&y==nt.EndGroup));){const b=i.findNumber(d);if(!b){const A=e.skip(y,d);r.readUnknownFields&&m.push({no:d,wireType:y,data:A});continue}H0(i,e,b,y,r)}if(a&&(y!=nt.EndGroup||d!==o))throw new Error("invalid end group tag");m.length>0&&i.setUnknown(m)}function H0(i,e,r,a,o){var c;switch(r.fieldKind){case"scalar":i.set(r,ya(e,r.scalar));break;case"enum":const h=ya(e,D.INT32);if(r.enum.open)i.set(r,h);else if(r.enum.values.some(y=>y.number===h))i.set(r,h);else if(o.readUnknownFields){const y=[];wf(h,y);const m=(c=i.getUnknown())!==null&&c!==void 0?c:[];m.push({no:r.number,wireType:a,data:new Uint8Array(y)}),i.setUnknown(m)}break;case"message":i.set(r,oh(e,o,r,i.get(r)));break;case"list":Q1(e,a,i.get(r),o);break;case"map":H1(e,i.get(r),o);break}}function H1(i,e,r){const a=e.field();let o,c;const h=i.uint32(),d=i.pos+h;for(;i.pos<d;){const[y]=i.tag();switch(y){case 1:o=ya(i,a.mapKey);break;case 2:switch(a.mapKind){case"scalar":c=ya(i,a.scalar);break;case"enum":c=i.int32();break;case"message":c=oh(i,r,a);break}break}}if(o===void 0&&(o=br(a.mapKey,!1)),c===void 0)switch(a.mapKind){case"scalar":c=br(a.scalar,!1);break;case"enum":c=a.enum.values[0].number;break;case"message":c=gn(a.message,void 0,!1);break}e.set(o,c)}function Q1(i,e,r,a){var o;const c=r.field();if(c.listKind==="message"){r.add(oh(i,a,c));return}const h=(o=c.scalar)!==null&&o!==void 0?o:D.INT32;if(!(e==nt.LengthDelimited&&h!=D.STRING&&h!=D.BYTES)){r.add(ya(i,h));return}const y=i.uint32()+i.pos;for(;i.pos<y;)r.add(ya(i,h))}function oh(i,e,r,a){const o=r.delimitedEncoding,c=a??gn(r.message,void 0,!1);return F0(c,i,e,o,o?r.number:i.uint32()),c}function ya(i,e){switch(e){case D.STRING:return i.string();case D.BOOL:return i.bool();case D.DOUBLE:return i.double();case D.FLOAT:return i.float();case D.INT32:return i.int32();case D.INT64:return i.int64();case D.UINT64:return i.uint64();case D.FIXED64:return i.fixed64();case D.BYTES:return i.bytes();case D.FIXED32:return i.fixed32();case D.SFIXED32:return i.sfixed32();case D.SFIXED64:return i.sfixed64();case D.SINT64:return i.sint64();case D.UINT32:return i.uint32();case D.SINT32:return i.sint32()}}function hi(i,e){var r;const a=mn(j1,ah(i));return a.messageType.forEach(sh),a.dependency=(r=e?.map(c=>c.proto.name))!==null&&r!==void 0?r:[],W0(a,c=>e?.find(h=>h.proto.name===c)).getFile(a.name)}const $1=hi("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function P1(i){return new Date(q1(i))}function q1(i){return Number(i.seconds)*1e3+Math.round(i.nanos/1e6)}const eE=hi("Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),Q0=hi("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),tE=ce(Q0,0),nE=3,xp={writeUnknownFields:!0};function iE(i){return i?Object.assign(Object.assign({},xp),i):xp}function Ji(i,e,r){return wo(new O0,iE(r),gn(i,e)).finish()}function wo(i,e,r){var a;for(const o of r.sortedFields){if(!r.isSet(o)){if(o.presence==nE)throw new Error(`cannot encode ${o} to binary: required field not set`);continue}$0(i,e,r,o)}if(e.writeUnknownFields)for(const{no:o,wireType:c,data:h}of(a=r.getUnknown())!==null&&a!==void 0?a:[])i.tag(o,c).raw(h);return i}function $0(i,e,r,a){var o;switch(a.fieldKind){case"scalar":case"enum":Do(i,r.desc.typeName,a.name,(o=a.scalar)!==null&&o!==void 0?o:D.INT32,a.number,r.get(a));break;case"list":rE(i,e,a,r.get(a));break;case"message":P0(i,e,a,r.get(a));break;case"map":for(const[c,h]of r.get(a))aE(i,e,a,c,h);break}}function Do(i,e,r,a,o,c){q0(i.tag(o,sE(a)),e,r,a,c)}function P0(i,e,r,a){r.delimitedEncoding?wo(i.tag(r.number,nt.StartGroup),e,a).tag(r.number,nt.EndGroup):wo(i.tag(r.number,nt.LengthDelimited).fork(),e,a).join()}function rE(i,e,r,a){var o;if(r.listKind=="message"){for(const h of a)P0(i,e,r,h);return}const c=(o=r.scalar)!==null&&o!==void 0?o:D.INT32;if(r.packed){if(!a.size)return;i.tag(r.number,nt.LengthDelimited).fork();for(const h of a)q0(i,r.parent.typeName,r.name,c,h);i.join();return}for(const h of a)Do(i,r.parent.typeName,r.name,c,r.number,h)}function aE(i,e,r,a,o){var c;switch(i.tag(r.number,nt.LengthDelimited).fork(),Do(i,r.parent.typeName,r.name,r.mapKey,1,a),r.mapKind){case"scalar":case"enum":Do(i,r.parent.typeName,r.name,(c=r.scalar)!==null&&c!==void 0?c:D.INT32,2,o);break;case"message":wo(i.tag(2,nt.LengthDelimited).fork(),e,o).join();break}i.join()}function q0(i,e,r,a,o){try{switch(a){case D.STRING:i.string(o);break;case D.BOOL:i.bool(o);break;case D.DOUBLE:i.double(o);break;case D.FLOAT:i.float(o);break;case D.INT32:i.int32(o);break;case D.INT64:i.int64(o);break;case D.UINT64:i.uint64(o);break;case D.FIXED64:i.fixed64(o);break;case D.BYTES:i.bytes(o);break;case D.FIXED32:i.fixed32(o);break;case D.SFIXED32:i.sfixed32(o);break;case D.SFIXED64:i.sfixed64(o);break;case D.SINT64:i.sint64(o);break;case D.UINT32:i.uint32(o);break;case D.SINT32:i.sint32(o);break}}catch(c){throw c instanceof Error?new Error(`cannot encode field ${e}.${r} to binary: ${c.message}`):c}}function sE(i){switch(i){case D.BYTES:case D.STRING:return nt.LengthDelimited;case D.DOUBLE:case D.FIXED64:case D.SFIXED64:return nt.Bit64;case D.FIXED32:case D.SFIXED32:case D.FLOAT:return nt.Bit32;default:return nt.Varint}}function lE(i,e,r){let a=!1;return r||(r=te(tE),a=!0),r.value=Ji(i,e),r.typeUrl=cE(e.$typeName),a?r:void 0}function oE(i,e){if(i.typeUrl==="")return!1;const r=typeof e=="string"?e:e.typeName,a=eb(i.typeUrl);return r===a}function uE(i,e){if(i.typeUrl==="")return;const r=e.kind=="message"?e:e.getMessage(eb(i.typeUrl));if(!(!r||!oE(i,r)))return mn(r,i.value)}function cE(i){return`type.googleapis.com/${i}`}function eb(i){const e=i.lastIndexOf("/"),r=e>=0?i.substring(e+1):i;if(!r.length)throw new Error(`invalid type url: ${i}`);return r}const uh=hi("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),fE=ce(uh,0),tb=ce(uh,1),hE=ce(uh,2);var Uf;(function(i){i[i.NULL_VALUE=0]="NULL_VALUE"})(Uf||(Uf={}));const dE=hi("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function gE(i,e){nb(e,i);const r=yE(i.$unknown,e),[a,o,c]=Mo(e);for(const h of r)H0(a,new qf(h.data),o,h.wireType,{readUnknownFields:!0});return c()}function mE(i,e,r){var a;nb(e,i);const o=((a=i.$unknown)!==null&&a!==void 0?a:[]).filter(m=>m.no!==e.number),[c,h]=Mo(e,r),d=new O0;$0(d,{writeUnknownFields:!0},c,h);const y=new qf(d.finish());for(;y.pos<y.len;){const[m,b]=y.tag(),A=y.skip(b,m);o.push({no:m,wireType:b,data:A})}i.$unknown=o}function yE(i,e){if(i===void 0)return[];if(e.fieldKind==="enum"||e.fieldKind==="scalar"){for(let r=i.length-1;r>=0;--r)if(i[r].no==e.number)return[i[r]];return[]}return i.filter(r=>r.no===e.number)}function Mo(i,e){const r=i.typeName,a=Object.assign(Object.assign({},i),{kind:"field",parent:i.extendee,localName:r}),o=Object.assign(Object.assign({},i.extendee),{fields:[a],members:[a],oneofs:[]}),c=te(o,e!==void 0?{[r]:e}:void 0);return[gn(o,c),a,()=>{const h=c[r];if(h===void 0){const d=i.message;return Js(d)?br(d.fields[0].scalar,d.fields[0].longAsString):te(d)}return h}]}function nb(i,e){if(i.extendee.typeName!=e.$typeName)throw new Error(`extension ${i.typeName} can only be applied to message ${i.extendee.typeName}`)}const pE=3,bE=2,Op={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function vE(i){return i?Object.assign(Object.assign({},Op),i):Op}function AE(i,e,r){return ks(gn(i,e),vE(r))}function SE(i,e,r){var a;const o=AE(i,e,r);return JSON.stringify(o,null,(a=r?.prettySpaces)!==null&&a!==void 0?a:0)}function ks(i,e){var r;const a=RE(i,e);if(a!==void 0)return a;const o={};for(const c of i.sortedFields){if(!i.isSet(c)){if(c.presence==pE)throw new Error(`cannot encode ${c} to JSON: required field not set`);if(!e.alwaysEmitImplicit||c.presence!==bE)continue}const h=Vp(c,i.get(c),e);h!==void 0&&(o[TE(c,e)]=h)}if(e.registry){const c=new Set;for(const{no:h}of(r=i.getUnknown())!==null&&r!==void 0?r:[])if(!c.has(h)){c.add(h);const d=e.registry.getExtensionFor(i.desc,h);if(!d)continue;const y=gE(i.message,d),[m,b]=Mo(d,y),A=Vp(b,m.get(b),e);A!==void 0&&(o[d.jsonName]=A)}}return o}function Vp(i,e,r){switch(i.fieldKind){case"scalar":return _o(i,e);case"message":return ks(e,r);case"enum":return ch(i.enum,e,r.enumAsInteger);case"list":return NE(e,r);case"map":return EE(e,r)}}function EE(i,e){const r=i.field(),a={};switch(r.mapKind){case"scalar":for(const[o,c]of i)a[o]=_o(r,c);break;case"message":for(const[o,c]of i)a[o]=ks(c,e);break;case"enum":for(const[o,c]of i)a[o]=ch(r.enum,c,e.enumAsInteger);break}return e.alwaysEmitImplicit||i.size>0?a:void 0}function NE(i,e){const r=i.field(),a=[];switch(r.listKind){case"scalar":for(const o of i)a.push(_o(r,o));break;case"enum":for(const o of i)a.push(ch(r.enum,o,e.enumAsInteger));break;case"message":for(const o of i)a.push(ks(o,e));break}return e.alwaysEmitImplicit||a.length>0?a:void 0}function ch(i,e,r){var a;if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: expected number, got ${ht(e)}`);if(i.typeName=="google.protobuf.NullValue")return null;if(r)return e;const o=i.value[e];return(a=o?.name)!==null&&a!==void 0?a:e}function _o(i,e){var r,a,o,c,h,d;switch(i.scalar){case D.INT32:case D.SFIXED32:case D.SINT32:case D.FIXED32:case D.UINT32:if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: ${(r=dr(i,e))===null||r===void 0?void 0:r.message}`);return e;case D.FLOAT:case D.DOUBLE:if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: ${(a=dr(i,e))===null||a===void 0?void 0:a.message}`);return Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case D.STRING:if(typeof e!="string")throw new Error(`cannot encode ${i} to JSON: ${(o=dr(i,e))===null||o===void 0?void 0:o.message}`);return e;case D.BOOL:if(typeof e!="boolean")throw new Error(`cannot encode ${i} to JSON: ${(c=dr(i,e))===null||c===void 0?void 0:c.message}`);return e;case D.UINT64:case D.FIXED64:case D.INT64:case D.SFIXED64:case D.SINT64:if(typeof e!="bigint"&&typeof e!="string")throw new Error(`cannot encode ${i} to JSON: ${(h=dr(i,e))===null||h===void 0?void 0:h.message}`);return e.toString();case D.BYTES:if(e instanceof Uint8Array)return d1(e);throw new Error(`cannot encode ${i} to JSON: ${(d=dr(i,e))===null||d===void 0?void 0:d.message}`)}}function TE(i,e){return e.useProtoFieldName?i.name:i.jsonName}function RE(i,e){if(i.desc.typeName.startsWith("google.protobuf."))switch(i.desc.typeName){case"google.protobuf.Any":return CE(i.message,e);case"google.protobuf.Timestamp":return DE(i.message);case"google.protobuf.Duration":return IE(i.message);case"google.protobuf.FieldMask":return wE(i.message);case"google.protobuf.Struct":return ib(i.message);case"google.protobuf.Value":return fh(i.message);case"google.protobuf.ListValue":return rb(i.message);default:if(Js(i.desc)){const r=i.desc.fields[0];return _o(r,i.get(r))}return}}function CE(i,e){if(i.typeUrl==="")return{};const{registry:r}=e;let a,o;if(r&&(a=uE(i,r),a&&(o=r.getMessage(a.$typeName))),!o||!a)throw new Error(`cannot encode message ${i.$typeName} to JSON: "${i.typeUrl}" is not in the type registry`);let c=ks(gn(o,a),e);return(o.typeName.startsWith("google.protobuf.")||c===null||Array.isArray(c)||typeof c!="object")&&(c={value:c}),c["@type"]=i.typeUrl,c}function IE(i){const e=Number(i.seconds),r=i.nanos;if(e>315576e6||e<-315576e6)throw new Error(`cannot encode message ${i.$typeName} to JSON: value out of range`);if(e>0&&r<0||e<0&&r>0)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos sign must match seconds sign`);let a=i.seconds.toString();if(r!==0){let o=Math.abs(r).toString();o="0".repeat(9-o.length)+o,o.substring(3)==="000000"?o=o.substring(0,3):o.substring(6)==="000"&&(o=o.substring(0,6)),a+="."+o,r<0&&e==0&&(a="-"+a)}return a+"s"}function wE(i){return i.paths.map(e=>{if(e.match(/_[0-9]?_/g)||e.match(/[A-Z]/g))throw new Error(`cannot encode message ${i.$typeName} to JSON: lowerCamelCase of path name "`+e+'" is irreversible');return Ls(e)}).join(",")}function ib(i){const e={};for(const[r,a]of Object.entries(i.fields))e[r]=fh(a);return e}function fh(i){switch(i.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(i.kind.value))throw new Error(`${i.$typeName} cannot be NaN or Infinity`);return i.kind.value;case"boolValue":return i.kind.value;case"stringValue":return i.kind.value;case"structValue":return ib(i.kind.value);case"listValue":return rb(i.kind.value);default:throw new Error(`${i.$typeName} must have a value`)}}function rb(i){return i.values.map(fh)}function DE(i){const e=Number(i.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${i.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(i.nanos<0)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos must not be negative`);if(i.nanos>999999999)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos must not be greater than 99999999`);let r="Z";if(i.nanos>0){const a=(i.nanos+1e9).toString().substring(1);a.substring(3)==="000000"?r="."+a.substring(0,3)+"Z":a.substring(6)==="000"?r="."+a.substring(0,6)+"Z":r="."+a+"Z"}return new Date(e).toISOString().replace(".000Z",r)}const Up={ignoreUnknownFields:!1};function xE(i){return i?Object.assign(Object.assign({},Up),i):Up}function OE(i,e,r){return VE(i,zE(e,i.typeName),r)}function VE(i,e,r){const a=gn(i);try{pa(a,e,xE(r))}catch(o){throw s1(o)?new Error(`cannot decode ${o.field()} from JSON: ${o.message}`,{cause:o}):o}return a.message}function pa(i,e,r){var a;if(YE(i,e,r))return;if(e==null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode ${i.desc} from JSON: ${ht(e)}`);const o=new Map,c=new Map;for(const h of i.desc.fields)c.set(h.name,h).set(h.jsonName,h);for(const[h,d]of Object.entries(e)){const y=c.get(h);if(y){if(y.oneof){if(d===null&&y.fieldKind=="scalar")continue;const m=o.get(y.oneof);if(m!==void 0)throw new Zt(y.oneof,`oneof set multiple times by ${m.name} and ${y.name}`);o.set(y.oneof,y)}Bp(i,y,d,r)}else{let m;if(h.startsWith("[")&&h.endsWith("]")&&(m=(a=r.registry)===null||a===void 0?void 0:a.getExtension(h.substring(1,h.length-1)))&&m.extendee.typeName===i.desc.typeName){const[b,A,w]=Mo(m);Bp(b,A,d,r),mE(i.message,m,w())}if(!m&&!r.ignoreUnknownFields)throw new Error(`cannot decode ${i.desc} from JSON: key "${h}" is unknown`)}}}function Bp(i,e,r,a){switch(e.fieldKind){case"scalar":_E(i,e,r);break;case"enum":ME(i,e,r,a);break;case"message":LE(i,e,r,a);break;case"list":BE(i.get(e),r,a);break;case"map":UE(i.get(e),r,a);break}}function UE(i,e,r){if(e===null)return;const a=i.field();if(typeof e!="object"||Array.isArray(e))throw new Zt(a,"expected object, got "+ht(e));for(const[o,c]of Object.entries(e)){if(c===null)throw new Zt(a,"map value must not be null");let h;switch(a.mapKind){case"message":const y=gn(a.message);pa(y,c,r),h=y;break;case"enum":if(h=hh(a.enum,c,r.ignoreUnknownFields,!0),h===Zo)return;break;case"scalar":h=Yo(a,c,!0);break}const d=ZE(a.mapKey,o);i.set(d,h)}}function BE(i,e,r){if(e===null)return;const a=i.field();if(!Array.isArray(e))throw new Zt(a,"expected Array, got "+ht(e));for(const o of e){if(o===null)throw new Zt(a,"list item must not be null");switch(a.listKind){case"message":const c=gn(a.message);pa(c,o,r),i.add(c);break;case"enum":const h=hh(a.enum,o,r.ignoreUnknownFields,!0);h!==Zo&&i.add(h);break;case"scalar":i.add(Yo(a,o,!0));break}}}function LE(i,e,r,a){if(r===null&&e.message.typeName!="google.protobuf.Value"){i.clear(e);return}const o=i.isSet(e)?i.get(e):gn(e.message);pa(o,r,a),i.set(e,o)}function ME(i,e,r,a){const o=hh(e.enum,r,a.ignoreUnknownFields,!1);o===zo?i.clear(e):o!==Zo&&i.set(e,o)}function _E(i,e,r){const a=Yo(e,r,!1);a===zo?i.clear(e):i.set(e,a)}const Zo=Symbol();function hh(i,e,r,a){if(e===null)return i.typeName=="google.protobuf.NullValue"?0:a?i.values[0].number:zo;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const o=i.values.find(c=>c.name===e);if(o!==void 0)return o.number;if(r)return Zo;break}throw new Error(`cannot decode ${i} from JSON: ${ht(e)}`)}const zo=Symbol();function Yo(i,e,r){if(e===null)return r?br(i.scalar,!1):zo;switch(i.scalar){case D.DOUBLE:case D.FLOAT:if(e==="NaN")return NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof e=="number"){if(Number.isNaN(e))throw new Zt(i,"unexpected NaN number");if(!Number.isFinite(e))throw new Zt(i,"unexpected infinite number");break}if(typeof e=="string"){if(e===""||e.trim().length!==e.length)break;const a=Number(e);if(!Number.isFinite(a))break;return a}break;case D.INT32:case D.FIXED32:case D.SFIXED32:case D.SINT32:case D.UINT32:return ab(e);case D.BYTES:if(typeof e=="string"){if(e==="")return new Uint8Array(0);try{return ah(e)}catch(a){const o=a instanceof Error?a.message:String(a);throw new Zt(i,o)}}break}return e}function ZE(i,e){switch(i){case D.BOOL:switch(e){case"true":return!0;case"false":return!1}return e;case D.INT32:case D.FIXED32:case D.UINT32:case D.SFIXED32:case D.SINT32:return ab(e);default:return e}}function ab(i){if(typeof i=="string"){if(i===""||i.trim().length!==i.length)return i;const e=Number(i);return Number.isNaN(e)?i:e}return i}function zE(i,e){try{return JSON.parse(i)}catch(r){const a=r instanceof Error?r.message:String(r);throw new Error(`cannot decode message ${e} from JSON: ${a}`,{cause:r})}}function YE(i,e,r){if(!i.desc.typeName.startsWith("google.protobuf."))return!1;switch(i.desc.typeName){case"google.protobuf.Any":return GE(i.message,e,r),!0;case"google.protobuf.Timestamp":return WE(i.message,e),!0;case"google.protobuf.Duration":return KE(i.message,e),!0;case"google.protobuf.FieldMask":return XE(i.message,e),!0;case"google.protobuf.Struct":return sb(i.message,e),!0;case"google.protobuf.Value":return dh(i.message,e),!0;case"google.protobuf.ListValue":return lb(i.message,e),!0;default:if(Js(i.desc)){const a=i.desc.fields[0];return e===null?i.clear(a):i.set(a,Yo(a,e,!0)),!0}return!1}}function GE(i,e,r){var a;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message ${i.$typeName} from JSON: expected object but got ${ht(e)}`);if(Object.keys(e).length==0)return;const o=e["@type"];if(typeof o!="string"||o=="")throw new Error(`cannot decode message ${i.$typeName} from JSON: "@type" is empty`);const c=o.includes("/")?o.substring(o.lastIndexOf("/")+1):o;if(!c.length)throw new Error(`cannot decode message ${i.$typeName} from JSON: "@type" is invalid`);const h=(a=r.registry)===null||a===void 0?void 0:a.getMessage(c);if(!h)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${o} is not in the type registry`);const d=gn(h);if(c.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value")){const y=e.value;pa(d,y,r)}else{const y=Object.assign({},e);delete y["@type"],pa(d,y,r)}lE(d.desc,d.message,i)}function WE(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ht(e)}`);const r=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error(`cannot decode message ${i.$typeName} from JSON: invalid RFC 3339 string`);const a=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(a))throw new Error(`cannot decode message ${i.$typeName} from JSON: invalid RFC 3339 string`);if(a<Date.parse("0001-01-01T00:00:00Z")||a>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${i.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);i.seconds=Fe.parse(a/1e3),i.nanos=0,r[7]&&(i.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9)}function KE(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ht(e)}`);const r=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(r===null)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ht(e)}`);const a=Number(r[1]);if(a>315576e6||a<-315576e6)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ht(e)}`);if(i.seconds=Fe.parse(a),typeof r[2]!="string")return;const o=r[2]+"0".repeat(9-r[2].length);i.nanos=parseInt(o),(a<0||Object.is(a,-0))&&(i.nanos=-i.nanos)}function XE(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ht(e)}`);if(e==="")return;function r(a){if(a.includes("_"))throw new Error(`cannot decode message ${i.$typeName} from JSON: path names must be lowerCamelCase`);const o=a.replace(/[A-Z]/g,c=>"_"+c.toLowerCase());return o[0]==="_"?o.substring(1):o}i.paths=e.split(",").map(r)}function sb(i,e){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error(`cannot decode message ${i.$typeName} from JSON ${ht(e)}`);for(const[r,a]of Object.entries(e)){const o=te(tb);dh(o,a),i.fields[r]=o}}function dh(i,e){switch(typeof e){case"number":i.kind={case:"numberValue",value:e};break;case"string":i.kind={case:"stringValue",value:e};break;case"boolean":i.kind={case:"boolValue",value:e};break;case"object":if(e===null)i.kind={case:"nullValue",value:Uf.NULL_VALUE};else if(Array.isArray(e)){const r=te(hE);lb(r,e),i.kind={case:"listValue",value:r}}else{const r=te(fE);sb(r,e),i.kind={case:"structValue",value:r}}break;default:throw new Error(`cannot decode message ${i.$typeName} from JSON ${ht(e)}`)}return i}function lb(i,e){if(!Array.isArray(e))throw new Error(`cannot decode message ${i.$typeName} from JSON ${ht(e)}`);for(const r of e){const a=te(tb);dh(a,r),i.values.push(a)}}function Lp(i){const e=pe[i];return typeof e!="string"?i.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,r=>"_"+r.toLowerCase())}class Ue extends Error{constructor(e,r=pe.Unknown,a,o,c){super(JE(e,r)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=r,this.metadata=new Headers(a??{}),this.details=o??[],this.cause=c}static from(e,r=pe.Unknown){return e instanceof Ue?e:e instanceof Error?e.name=="AbortError"||e.name=="TimeoutError"?new Ue(e.message,pe.Canceled):new Ue(e.message,r,void 0,void 0,e):new Ue(String(e),r,void 0,void 0,e)}static[Symbol.hasInstance](e){return e instanceof Error?Object.getPrototypeOf(e)===Ue.prototype?!0:e.name==="ConnectError"&&"code"in e&&typeof e.code=="number"&&"metadata"in e&&"details"in e&&Array.isArray(e.details)&&"rawMessage"in e&&typeof e.rawMessage=="string"&&"cause"in e:!1}findDetails(e){const r=e.kind==="message"?{getMessage:o=>o===e.typeName?e:void 0}:e,a=[];for(const o of this.details){if("desc"in o){r.getMessage(o.desc.typeName)&&a.push(te(o.desc,o.value));continue}const c=r.getMessage(o.type);if(c)try{a.push(mn(c,o.value))}catch{}}return a}}function JE(i,e){return i.length?`[${Lp(e)}] ${i}`:`[${Lp(e)}]`}function kE(i,e,r){try{const a=ah(i);return e?mn(e,a,r):a}catch(a){throw Ue.from(a,pe.DataLoss)}}function jE(i,e){const r={};for(const a of i.methods){const o=e(a);o!=null&&(r[a.localName]=o)}return r}const Mp=1;function FE(i,e,r=!1){if(e>i){let a=`message size is larger than configured readMaxBytes ${i}`;throw r&&(a=`message size ${e} is larger than configured readMaxBytes ${i}`),new Ue(a,pe.ResourceExhausted)}}function HE(i){return new QE(i)}class QE{constructor(e){this.readMaxBytes=e,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((e,r)=>e+r.byteLength,0)}decode(e){this.buf.push(e);const r=[];for(;;){let a=this.pop();if(!a)break;r.push(a)}return r}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){const e=this.env;return this.env=void 0,e}}head(){if(!this.cons(this.header))return;const e=this.headerView.getUint8(0),r=this.headerView.getUint32(1);return FE(this.readMaxBytes,r,!0),{flags:e,data:new Uint8Array(r)}}cons(e){const r=e.byteLength;if(this.byteLength<r)return!1;let a=0;for(;a<r;){const o=this.buf.shift();o.byteLength>r-a?(e.set(o.subarray(0,r-a),a),this.buf.unshift(o.subarray(r-a)),a+=r-a):(e.set(o,a),a+=o.byteLength)}return!0}}function _p(i){let e;const r=HE(4294967295);return new ReadableStream({start(){e=i.getReader()},async pull(a){let o=!1;for(;!o;){const c=await e.read();if(c.done)r.byteLength>0&&a.error(new Ue("protocol error: incomplete envelope",pe.InvalidArgument)),a.close();else for(const h of r.decode(c.value))a.enqueue(h),o=!0}}})}function Zp(i,e){const r=new Uint8Array(e.length+5);r.set(e,5);const a=new DataView(r.buffer,r.byteOffset,r.byteLength);return a.setUint8(0,i),a.setUint32(1,e.length),r}var $E=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],r;return e?e.call(i):(i=typeof __values=="function"?__values(i):i[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(c){r[c]=i[c]&&function(h){return new Promise(function(d,y){h=i[c](h),o(d,y,h.done,h.value)})}}function o(c,h,d,y){Promise.resolve(y).then(function(m){c({value:m,done:d})},h)}},Zs=function(i){return this instanceof Zs?(this.v=i,this):new Zs(i)},PE=function(i,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(i,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(R){return function(C){return Promise.resolve(C).then(R,A)}}function d(R,C){a[R]&&(o[R]=function(V){return new Promise(function(Y,H){c.push([R,V,Y,H])>1||y(R,V)})},C&&(o[R]=C(o[R])))}function y(R,C){try{m(a[R](C))}catch(V){w(c[0][3],V)}}function m(R){R.value instanceof Zs?Promise.resolve(R.value.v).then(b,A):w(c[0][2],R)}function b(R){y("next",R)}function A(R){y("throw",R)}function w(R,C){R(C),c.shift(),c.length&&y(c[0][0],c[0][1])}},qE=function(i){var e,r;return e={},a("next"),a("throw",function(o){throw o}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(o,c){e[o]=i[o]?function(h){return(r=!r)?{value:Zs(i[o](h)),done:!1}:c?c(h):h}:c}};function e2(i){return PE(this,arguments,function*(){yield Zs(yield*qE($E(i)))})}var ob=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],r;return e?e.call(i):(i=typeof __values=="function"?__values(i):i[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(c){r[c]=i[c]&&function(h){return new Promise(function(d,y){h=i[c](h),o(d,y,h.done,h.value)})}}function o(c,h,d,y){Promise.resolve(y).then(function(m){c({value:m,done:d})},h)}},ba=function(i){return this instanceof ba?(this.v=i,this):new ba(i)},t2=function(i){var e,r;return e={},a("next"),a("throw",function(o){throw o}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(o,c){e[o]=i[o]?function(h){return(r=!r)?{value:ba(i[o](h)),done:!1}:c?c(h):h}:c}},n2=function(i,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(i,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(R){return function(C){return Promise.resolve(C).then(R,A)}}function d(R,C){a[R]&&(o[R]=function(V){return new Promise(function(Y,H){c.push([R,V,Y,H])>1||y(R,V)})},C&&(o[R]=C(o[R])))}function y(R,C){try{m(a[R](C))}catch(V){w(c[0][3],V)}}function m(R){R.value instanceof ba?Promise.resolve(R.value.v).then(b,A):w(c[0][2],R)}function b(R){y("next",R)}function A(R){y("throw",R)}function w(R,C){R(C),c.shift(),c.length&&y(c[0][0],c[0][1])}};function i2(i,e){return jE(i,r=>{switch(r.methodKind){case"unary":return r2(e,r);case"server_streaming":return a2(e,r);case"client_streaming":return s2(e,r);case"bidi_streaming":return l2(e,r);default:return null}})}function r2(i,e){return async(r,a)=>{var o,c;const h=await i.unary(e,a?.signal,a?.timeoutMs,a?.headers,r,a?.contextValues);return(o=a?.onHeader)===null||o===void 0||o.call(a,h.header),(c=a?.onTrailer)===null||c===void 0||c.call(a,h.trailer),h.message}}function a2(i,e){return(r,a)=>ub(i.stream(e,a?.signal,a?.timeoutMs,a?.headers,e2([r]),a?.contextValues),a)}function s2(i,e){return async(r,a)=>{var o,c,h,d,y,m;const b=await i.stream(e,a?.signal,a?.timeoutMs,a?.headers,r,a?.contextValues);(y=a?.onHeader)===null||y===void 0||y.call(a,b.header);let A,w=0;try{for(var R=!0,C=ob(b.message),V;V=await C.next(),o=V.done,!o;R=!0)d=V.value,R=!1,A=d,w++}catch(Y){c={error:Y}}finally{try{!R&&!o&&(h=C.return)&&await h.call(C)}finally{if(c)throw c.error}}if(!A)throw new Ue("protocol error: missing response message",pe.Unimplemented);if(w>1)throw new Ue("protocol error: received extra messages for client streaming method",pe.Unimplemented);return(m=a?.onTrailer)===null||m===void 0||m.call(a,b.trailer),A}}function l2(i,e){return(r,a)=>ub(i.stream(e,a?.signal,a?.timeoutMs,a?.headers,r,a?.contextValues),a)}function ub(i,e){const r=(function(){return n2(this,arguments,function*(){var a,o;const c=yield ba(i);(a=e?.onHeader)===null||a===void 0||a.call(e,c.header),yield ba(yield*t2(ob(c.message))),(o=e?.onTrailer)===null||o===void 0||o.call(e,c.trailer)})})()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>r.next()})}}function o2(...i){const e=new AbortController,r=i.filter(o=>o!==void 0).concat(e.signal);for(const o of r){if(o.aborted){a.apply(o);break}o.addEventListener("abort",a)}function a(){e.signal.aborted||e.abort(cb(this));for(const o of r)o.removeEventListener("abort",a)}return e}function u2(i){const e=new AbortController,r=()=>{e.abort(new Ue("the operation timed out",pe.DeadlineExceeded))};let a;return i!==void 0&&(i<=0?r():a=setTimeout(r,i)),{signal:e.signal,cleanup:()=>clearTimeout(a)}}function cb(i){if(!i.aborted)return;if(i.reason!==void 0)return i.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function zp(){return{get(i){return i.id in this?this[i.id]:i.defaultValue},set(i,e){return this[i.id]=e,this},delete(i){return delete this[i.id],this}}}const Nf=128;function Yp(i){const e=new Headers,r=new TextDecoder().decode(i).split(`\r
`);for(const a of r){if(a==="")continue;const o=a.indexOf(":");if(o>0){const c=a.substring(0,o).trim(),h=a.substring(o+1).trim();e.append(c,h)}}return e}const c2="Content-Type",f2="Grpc-Timeout",va="Grpc-Status",fb="Grpc-Message",h2="Grpc-Status-Details-Bin",d2="User-Agent",Gp="X-User-Agent",g2="X-Grpc-Web",m2="application/grpc-web+proto",y2="application/grpc-web+json";function p2(i,e,...r){if(r.length>0)throw new Error;return i.services[e]}const b2=hi("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[Q0]),v2=ce(b2,0),A2="0";function hb(i){var e;const r=i.get(h2);if(r!=null){const o=kE(r,v2);if(o.code==0)return;const c=new Ue(o.message,o.code,i);return c.details=o.details.map(h=>({type:h.typeUrl.substring(h.typeUrl.lastIndexOf("/")+1),value:h.value})),c}const a=i.get(va);if(a!=null){if(a===A2)return;const o=parseInt(a,10);return o in pe?new Ue(decodeURIComponent((e=i.get(fb))!==null&&e!==void 0?e:""),o,i):new Ue(`invalid grpc-status: ${a}`,pe.Internal,i)}}function Wp(i,e){return i.toString().replace(/\/?$/,`/${e.parent.typeName}/${e.name}`)}function db(i,e){return te(i,e)}function S2(i,e){function r(a){return a.done===!0?a:{done:a.done,value:db(i,a.value)}}return{[Symbol.asyncIterator](){const a=e[Symbol.asyncIterator](),o={next:()=>a.next().then(r)};return a.throw!==void 0&&(o.throw=c=>a.throw(c).then(r)),a.return!==void 0&&(o.return=c=>a.return(c).then(r)),o}}}function gb(i,e){if(!e)return i;for(const r of e.concat().reverse())i=r(i);return i}function E2(i){var e;const r=Object.assign({},i);return(e=r.ignoreUnknownFields)!==null&&e!==void 0||(r.ignoreUnknownFields=!0),r}function Kp(i,e,r,a){const o=e?Xp(i.input,a):Jp(i.input,r);return{parse:(e?Xp(i.output,a):Jp(i.output,r)).parse,serialize:o.serialize}}function Xp(i,e){return{parse(r){try{return mn(i,r,e)}catch(a){const o=a instanceof Error?a.message:String(a);throw new Ue(`parse binary: ${o}`,pe.Internal)}},serialize(r){try{return Ji(i,r,e)}catch(a){const o=a instanceof Error?a.message:String(a);throw new Ue(`serialize binary: ${o}`,pe.Internal)}}}}function Jp(i,e){var r,a;const o=(r=e?.textEncoder)!==null&&r!==void 0?r:new TextEncoder,c=(a=e?.textDecoder)!==null&&a!==void 0?a:new TextDecoder,h=E2(e);return{parse(d){try{const y=c.decode(d);return OE(i,y,h)}catch(y){throw Ue.from(y,pe.InvalidArgument)}},serialize(d){try{const y=SE(i,d,h);return o.encode(y)}catch(y){throw Ue.from(y,pe.Internal)}}}}function N2(i){const e=gb(i.next,i.interceptors),[r,a,o]=mb(i),c=Object.assign(Object.assign({},i.req),{message:db(i.req.method.input,i.req.message),signal:r});return e(c).then(h=>(o(),h),a)}function T2(i){const e=gb(i.next,i.interceptors),[r,a,o]=mb(i),c=Object.assign(Object.assign({},i.req),{message:S2(i.req.method.input,i.req.message),signal:r});let h=!1;return r.addEventListener("abort",function(){var d,y;const m=i.req.message[Symbol.asyncIterator]();h||(d=m.throw)===null||d===void 0||d.call(m,this.reason).catch(()=>{}),(y=m.return)===null||y===void 0||y.call(m).catch(()=>{})}),e(c).then(d=>Object.assign(Object.assign({},d),{message:{[Symbol.asyncIterator](){const y=d.message[Symbol.asyncIterator]();return{next(){return y.next().then(m=>(m.done==!0&&(h=!0,o()),m),a)}}}}}),a)}function mb(i){const{signal:e,cleanup:r}=u2(i.timeoutMs),a=o2(i.signal,e);return[a.signal,function(c){const h=Ue.from(e.aborted?cb(e):c);return a.abort(h),r(),Promise.reject(h)},function(){r(),a.abort()}]}function R2(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function kp(i,e){const r=hb(i);if(r)throw e.forEach((a,o)=>{r.metadata.append(o,a)}),r;if(!e.has(va)&&!i.has(va))throw new Ue("protocol error: missing status",pe.Internal)}function jp(i,e,r,a){var o,c;const h=new Headers(r??{});h.set(c2,i?m2:y2),h.set(g2,"1");const d=(c=(o=h.get(d2))!==null&&o!==void 0?o:h.get(Gp))!==null&&c!==void 0?c:"connect-es/2.1.1";return h.set(Gp,d),e!==void 0&&h.set(f2,`${e}m`),h}function C2(i){switch(i){case 400:return pe.Internal;case 401:return pe.Unauthenticated;case 403:return pe.PermissionDenied;case 404:return pe.Unimplemented;case 429:return pe.Unavailable;case 502:return pe.Unavailable;case 503:return pe.Unavailable;case 504:return pe.Unavailable;default:return pe.Unknown}}function Fp(i,e){var r;if(i>=200&&i<300)return{foundStatus:e.has(va),headerError:hb(e)};throw new Ue(decodeURIComponent((r=e.get(fb))!==null&&r!==void 0?r:`HTTP ${i}`),C2(i),e)}var yr=function(i){return this instanceof yr?(this.v=i,this):new yr(i)},I2=function(i,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(i,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(R){return function(C){return Promise.resolve(C).then(R,A)}}function d(R,C){a[R]&&(o[R]=function(V){return new Promise(function(Y,H){c.push([R,V,Y,H])>1||y(R,V)})},C&&(o[R]=C(o[R])))}function y(R,C){try{m(a[R](C))}catch(V){w(c[0][3],V)}}function m(R){R.value instanceof yr?Promise.resolve(R.value.v).then(b,A):w(c[0][2],R)}function b(R){y("next",R)}function A(R){y("throw",R)}function w(R,C){R(C),c.shift(),c.length&&y(c[0][0],c[0][1])}};const Hp={redirect:"error"};function w2(i){var e;R2();const r=(e=i.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(a,o,c,h,d,y){const{serialize:m,parse:b}=Kp(a,r,i.jsonOptions,i.binaryOptions);return c=c===void 0?i.defaultTimeoutMs:c<=0?void 0:c,await N2({interceptors:i.interceptors,signal:o,timeoutMs:c,req:{stream:!1,service:a.parent,method:a,requestMethod:"POST",url:Wp(i.baseUrl,a),header:jp(r,c,h),contextValues:y??zp(),message:d},next:async A=>{var w;const C=await((w=i.fetch)!==null&&w!==void 0?w:globalThis.fetch)(A.url,Object.assign(Object.assign({},Hp),{method:A.requestMethod,headers:A.header,signal:A.signal,body:Zp(0,m(A.message))})),{headerError:V}=Fp(C.status,C.headers);if(!C.body)throw V!==void 0?V:"missing response body";const Y=_p(C.body).getReader();let H,ne;for(;;){const K=await Y.read();if(K.done)break;const{flags:ee,data:J}=K.value;if((ee&Mp)===Mp)throw new Ue("protocol error: received unsupported compressed output",pe.Internal);if(ee===Nf){if(H!==void 0)throw"extra trailer";H=Yp(J);continue}if(ne!==void 0)throw new Ue("extra message",pe.Unimplemented);ne=b(J)}if(H===void 0)throw V!==void 0?V:new Ue("missing trailer",C.headers.has(va)?pe.Unimplemented:pe.Unknown);if(kp(H,C.headers),ne===void 0)throw new Ue("missing message",H.has(va)?pe.Unimplemented:pe.Unknown);return{stream:!1,service:a.parent,method:a,header:C.headers,message:ne,trailer:H}}})},async stream(a,o,c,h,d,y){const{serialize:m,parse:b}=Kp(a,r,i.jsonOptions,i.binaryOptions);function A(R,C,V,Y,H){return I2(this,arguments,function*(){const K=_p(R).getReader();if(C){if(!(yield yr(K.read())).done)throw"extra data for trailers-only";return yield yr(void 0)}let ee=!1;for(;;){const J=yield yr(K.read());if(J.done)break;const{flags:X,data:W}=J.value;if((X&Nf)===Nf){if(ee)throw"extra trailer";ee=!0;const re=Yp(W);kp(re,Y),re.forEach((Je,dt)=>V.set(dt,Je));continue}if(ee)throw"extra message";yield yield yr(b(W))}if("throwIfAborted"in H&&H.throwIfAborted(),!ee)throw"missing trailer"})}async function w(R){if(a.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const C=await R[Symbol.asyncIterator]().next();if(C.done==!0)throw"missing request message";return Zp(0,m(C.value))}return c=c===void 0?i.defaultTimeoutMs:c<=0?void 0:c,T2({interceptors:i.interceptors,signal:o,timeoutMs:c,req:{stream:!0,service:a.parent,method:a,requestMethod:"POST",url:Wp(i.baseUrl,a),header:jp(r,c,h),contextValues:y??zp(),message:d},next:async R=>{var C;const Y=await((C=i.fetch)!==null&&C!==void 0?C:globalThis.fetch)(R.url,Object.assign(Object.assign({},Hp),{method:R.requestMethod,headers:R.header,signal:R.signal,body:await w(R.message)})),{foundStatus:H,headerError:ne}=Fp(Y.status,Y.headers);if(ne!=null)throw ne;if(!Y.body)throw"missing response body";const K=new Headers;return Object.assign(Object.assign({},R),{header:Y.headers,trailer:K,message:A(Y.body,H,K,Y.headers,R.signal)})}})}}}const ye=hi("CiFzcmMvYXBpL3lvcmtpZS92MS9yZXNvdXJjZXMucHJvdG8SCXlvcmtpZS52MSKuAQoIU25hcHNob3QSJAoEcm9vdBgBIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudBI1CglwcmVzZW5jZXMYAiADKAsyIi55b3JraWUudjEuU25hcHNob3QuUHJlc2VuY2VzRW50cnkaRQoOUHJlc2VuY2VzRW50cnkSCwoDa2V5GAEgASgJEiIKBXZhbHVlGAIgASgLMhMueW9ya2llLnYxLlByZXNlbmNlOgI4ASL7AQoKQ2hhbmdlUGFjaxIUCgxkb2N1bWVudF9rZXkYASABKAkSKQoKY2hlY2twb2ludBgCIAEoCzIVLnlvcmtpZS52MS5DaGVja3BvaW50EhAKCHNuYXBzaG90GAMgASgMEiIKB2NoYW5nZXMYBCADKAsyES55b3JraWUudjEuQ2hhbmdlEjAKEW1pbl9zeW5jZWRfdGlja2V0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSEgoKaXNfcmVtb3ZlZBgGIAEoCBIwCg52ZXJzaW9uX3ZlY3RvchgHIAEoCzIYLnlvcmtpZS52MS5WZXJzaW9uVmVjdG9yIpgBCgZDaGFuZ2USHwoCaWQYASABKAsyEy55b3JraWUudjEuQ2hhbmdlSUQSDwoHbWVzc2FnZRgCIAEoCRIoCgpvcGVyYXRpb25zGAMgAygLMhQueW9ya2llLnYxLk9wZXJhdGlvbhIyCg9wcmVzZW5jZV9jaGFuZ2UYBCABKAsyGS55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UihwEKCENoYW5nZUlEEhIKCmNsaWVudF9zZXEYASABKA0SEgoKc2VydmVyX3NlcRgCIAEoAxIPCgdsYW1wb3J0GAMgASgDEhAKCGFjdG9yX2lkGAQgASgMEjAKDnZlcnNpb25fdmVjdG9yGAUgASgLMhgueW9ya2llLnYxLlZlcnNpb25WZWN0b3IidAoNVmVyc2lvblZlY3RvchI0CgZ2ZWN0b3IYASADKAsyJC55b3JraWUudjEuVmVyc2lvblZlY3Rvci5WZWN0b3JFbnRyeRotCgtWZWN0b3JFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAM6AjgBIqwaCglPcGVyYXRpb24SJwoDc2V0GAEgASgLMhgueW9ya2llLnYxLk9wZXJhdGlvbi5TZXRIABInCgNhZGQYAiABKAsyGC55b3JraWUudjEuT3BlcmF0aW9uLkFkZEgAEikKBG1vdmUYAyABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLk1vdmVIABItCgZyZW1vdmUYBCABKAsyGy55b3JraWUudjEuT3BlcmF0aW9uLlJlbW92ZUgAEikKBGVkaXQYBSABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLkVkaXRIABIrCgVzdHlsZRgHIAEoCzIaLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGVIABIxCghpbmNyZWFzZRgIIAEoCzIdLnlvcmtpZS52MS5PcGVyYXRpb24uSW5jcmVhc2VIABIyCgl0cmVlX2VkaXQYCSABKAsyHS55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0SAASNAoKdHJlZV9zdHlsZRgKIAEoCzIeLnlvcmtpZS52MS5PcGVyYXRpb24uVHJlZVN0eWxlSAASMgoJYXJyYXlfc2V0GAsgASgLMh0ueW9ya2llLnYxLk9wZXJhdGlvbi5BcnJheVNldEgAGp0BCgNTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBILCgNrZXkYAiABKAkSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrAAQoDQWRkEjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSLgoPcHJldl9jcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq/AQoETW92ZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Ei4KD3ByZXZfY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCmNyZWF0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtleGVjdXRlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GpEBCgZSZW1vdmUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKgoLZXhlY3V0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrZAwoERWRpdBIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSUwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyMi55b3JraWUudjEuT3BlcmF0aW9uLkVkaXQuQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5Eg8KB2NvbnRlbnQYBSABKAkSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBI9CgphdHRyaWJ1dGVzGAcgAygLMikueW9ya2llLnYxLk9wZXJhdGlvbi5FZGl0LkF0dHJpYnV0ZXNFbnRyeRpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGjEKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBGssDCgVTdHlsZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSPgoKYXR0cmlidXRlcxgEIAMoCzIqLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSVAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBiADKAsyMy55b3JraWUudjEuT3BlcmF0aW9uLlN0eWxlLkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRoxCg9BdHRyaWJ1dGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGpUBCghJbmNyZWFzZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EisKBXZhbHVlGAIgASgLMhwueW9ya2llLnYxLkpTT05FbGVtZW50U2ltcGxlEioKC2V4ZWN1dGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQakwMKCFRyZWVFZGl0EjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIAoEZnJvbRgCIAEoCzISLnlvcmtpZS52MS5UcmVlUG9zEh4KAnRvGAMgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSVwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyNi55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0LkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRImCghjb250ZW50cxgFIAMoCzIULnlvcmtpZS52MS5UcmVlTm9kZXMSEwoLc3BsaXRfbGV2ZWwYByABKAUSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGu0DCglUcmVlU3R5bGUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIgCgRmcm9tGAIgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSHgoCdG8YAyABKAsyEi55b3JraWUudjEuVHJlZVBvcxJCCgphdHRyaWJ1dGVzGAQgAygLMi4ueW9ya2llLnYxLk9wZXJhdGlvbi5UcmVlU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSHAoUYXR0cmlidXRlc190b19yZW1vdmUYBiADKAkSWAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYByADKAsyNy55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVTdHlsZS5DcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkaMQoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaUQoYQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5EgsKA2tleRgBIAEoCRIkCgV2YWx1ZRgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0OgI4ARrAAQoIQXJyYXlTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldEIGCgRib2R5IsUBChFKU09ORWxlbWVudFNpbXBsZRIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIgoEdHlwZRgEIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYBSABKAwiggsKC0pTT05FbGVtZW50EjgKC2pzb25fb2JqZWN0GAEgASgLMiEueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05PYmplY3RIABI2Cgpqc29uX2FycmF5GAIgASgLMiAueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05BcnJheUgAEjUKCXByaW1pdGl2ZRgDIAEoCzIgLnlvcmtpZS52MS5KU09ORWxlbWVudC5QcmltaXRpdmVIABIrCgR0ZXh0GAUgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRleHRIABIxCgdjb3VudGVyGAYgASgLMh4ueW9ya2llLnYxLkpTT05FbGVtZW50LkNvdW50ZXJIABIrCgR0cmVlGAcgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRyZWVIABquAQoKSlNPTk9iamVjdBIhCgVub2RlcxgBIAMoCzISLnlvcmtpZS52MS5SSFROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBqtAQoJSlNPTkFycmF5EiEKBW5vZGVzGAEgAygLMhIueW9ya2llLnYxLlJHQU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Gr0BCglQcmltaXRpdmUSIgoEdHlwZRgBIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYAiABKAwSKQoKY3JlYXRlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAQgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgFIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GqkBCgRUZXh0EiIKBW5vZGVzGAEgAygLMhMueW9ya2llLnYxLlRleHROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq7AQoHQ291bnRlchIiCgR0eXBlGAEgASgOMhQueW9ya2llLnYxLlZhbHVlVHlwZRINCgV2YWx1ZRgCIAEoDBIpCgpjcmVhdGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQaqQEKBFRyZWUSIgoFbm9kZXMYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0QgYKBGJvZHkiPwoHUkhUTm9kZRILCgNrZXkYASABKAkSJwoHZWxlbWVudBgCIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudCJUCgdSR0FOb2RlEiAKBG5leHQYASABKAsyEi55b3JraWUudjEuUkdBTm9kZRInCgdlbGVtZW50GAIgASgLMhYueW9ya2llLnYxLkpTT05FbGVtZW50IlgKCE5vZGVBdHRyEg0KBXZhbHVlGAEgASgJEikKCnVwZGF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBISCgppc19yZW1vdmVkGAMgASgIIpQCCghUZXh0Tm9kZRIhCgJpZBgBIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEg0KBXZhbHVlGAIgASgJEikKCnJlbW92ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgEIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEjcKCmF0dHJpYnV0ZXMYBSADKAsyIy55b3JraWUudjEuVGV4dE5vZGUuQXR0cmlidXRlc0VudHJ5GkYKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuTm9kZUF0dHI6AjgBIkcKClRleHROb2RlSUQSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBSLdAgoIVHJlZU5vZGUSIQoCaWQYASABKAsyFS55b3JraWUudjEuVHJlZU5vZGVJRBIMCgR0eXBlGAIgASgJEg0KBXZhbHVlGAMgASgJEikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgFIAEoCzIVLnlvcmtpZS52MS5UcmVlTm9kZUlEEioKC2luc19uZXh0X2lkGAYgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSDQoFZGVwdGgYByABKAUSNwoKYXR0cmlidXRlcxgIIAMoCzIjLnlvcmtpZS52MS5UcmVlTm9kZS5BdHRyaWJ1dGVzRW50cnkaRgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5Ob2RlQXR0cjoCOAEiMQoJVHJlZU5vZGVzEiQKB2NvbnRlbnQYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUiRwoKVHJlZU5vZGVJRBIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFImMKB1RyZWVQb3MSKAoJcGFyZW50X2lkGAEgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSLgoPbGVmdF9zaWJsaW5nX2lkGAIgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQiawoEVXNlchIKCgJpZBgBIAEoCRIVCg1hdXRoX3Byb3ZpZGVyGAIgASgJEhAKCHVzZXJuYW1lGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIukGCgdQcm9qZWN0EgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSEgoKcHVibGljX2tleRgDIAEoCRISCgpzZWNyZXRfa2V5GAQgASgJEhgKEGF1dGhfd2ViaG9va191cmwYBSABKAkSHAoUYXV0aF93ZWJob29rX21ldGhvZHMYBiADKAkSIAoYYXV0aF93ZWJob29rX21heF9yZXRyaWVzGBEgASgEEiYKHmF1dGhfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgSIAEoCRImCh5hdXRoX3dlYmhvb2tfbWF4X3dhaXRfaW50ZXJ2YWwYEyABKAkSJAocYXV0aF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgUIAEoCRIZChFldmVudF93ZWJob29rX3VybBgHIAEoCRIcChRldmVudF93ZWJob29rX2V2ZW50cxgIIAMoCRIhChlldmVudF93ZWJob29rX21heF9yZXRyaWVzGBUgASgEEicKH2V2ZW50X3dlYmhvb2tfbWluX3dhaXRfaW50ZXJ2YWwYFiABKAkSJwofZXZlbnRfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgXIAEoCRIlCh1ldmVudF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgYIAEoCRIjChtjbGllbnRfZGVhY3RpdmF0ZV90aHJlc2hvbGQYCSABKAkSGgoSc25hcHNob3RfdGhyZXNob2xkGBkgASgDEhkKEXNuYXBzaG90X2ludGVydmFsGBogASgDEiQKHG1heF9zdWJzY3JpYmVyc19wZXJfZG9jdW1lbnQYCiABKAUSJAocbWF4X2F0dGFjaG1lbnRzX3Blcl9kb2N1bWVudBgLIAEoBRIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYDyABKAUSGAoQcmVtb3ZlX29uX2RldGFjaBgQIAEoCBIdChVhdXRvX3JldmlzaW9uX2VuYWJsZWQYGyABKAgSFwoPYWxsb3dlZF9vcmlnaW5zGA4gAygJEi4KCmNyZWF0ZWRfYXQYDCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYDSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIi8KC01ldHJpY1BvaW50EhEKCXRpbWVzdGFtcBgBIAEoAxINCgV2YWx1ZRgCIAEoBSKjDAoWVXBkYXRhYmxlUHJvamVjdEZpZWxkcxIqCgRuYW1lGAEgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjYKEGF1dGhfd2ViaG9va191cmwYAiABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSUgoUYXV0aF93ZWJob29rX21ldGhvZHMYAyABKAsyNC55b3JraWUudjEuVXBkYXRhYmxlUHJvamVjdEZpZWxkcy5BdXRoV2ViaG9va01ldGhvZHMSPgoYYXV0aF93ZWJob29rX21heF9yZXRyaWVzGAwgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlVJbnQ2NFZhbHVlEkQKHmF1dGhfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgNIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJECh5hdXRoX3dlYmhvb2tfbWF4X3dhaXRfaW50ZXJ2YWwYDiABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSQgocYXV0aF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgPIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRI3ChFldmVudF93ZWJob29rX3VybBgEIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJSChRldmVudF93ZWJob29rX2V2ZW50cxgFIAEoCzI0LnlvcmtpZS52MS5VcGRhdGFibGVQcm9qZWN0RmllbGRzLkV2ZW50V2ViaG9va0V2ZW50cxI/ChlldmVudF93ZWJob29rX21heF9yZXRyaWVzGBAgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlVJbnQ2NFZhbHVlEkUKH2V2ZW50X3dlYmhvb2tfbWluX3dhaXRfaW50ZXJ2YWwYESABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSRQofZXZlbnRfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgSIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJDCh1ldmVudF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgTIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRI3ChJzbmFwc2hvdF90aHJlc2hvbGQYFCABKAsyGy5nb29nbGUucHJvdG9idWYuSW50NjRWYWx1ZRI2ChFzbmFwc2hvdF9pbnRlcnZhbBgVIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlEkEKG2NsaWVudF9kZWFjdGl2YXRlX3RocmVzaG9sZBgGIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJBChxtYXhfc3Vic2NyaWJlcnNfcGVyX2RvY3VtZW50GAcgASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSQQocbWF4X2F0dGFjaG1lbnRzX3Blcl9kb2N1bWVudBgIIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQzMlZhbHVlEjoKFW1heF9zaXplX3Blcl9kb2N1bWVudBgKIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQzMlZhbHVlEjQKEHJlbW92ZV9vbl9kZXRhY2gYCyABKAsyGi5nb29nbGUucHJvdG9idWYuQm9vbFZhbHVlEjkKFWF1dG9fcmV2aXNpb25fZW5hYmxlZBgWIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUSSQoPYWxsb3dlZF9vcmlnaW5zGAkgASgLMjAueW9ya2llLnYxLlVwZGF0YWJsZVByb2plY3RGaWVsZHMuQWxsb3dlZE9yaWdpbnMaJQoSQXV0aFdlYmhvb2tNZXRob2RzEg8KB21ldGhvZHMYASADKAkaJAoSRXZlbnRXZWJob29rRXZlbnRzEg4KBmV2ZW50cxgBIAMoCRohCg5BbGxvd2VkT3JpZ2lucxIPCgdvcmlnaW5zGAEgAygJIqcDCg9Eb2N1bWVudFN1bW1hcnkSCgoCaWQYASABKAkSCwoDa2V5GAIgASgJEgwKBHJvb3QYAyABKAkSGAoQYXR0YWNoZWRfY2xpZW50cxgHIAEoBRIpCg1kb2N1bWVudF9zaXplGAggASgLMhIueW9ya2llLnYxLkRvY1NpemUSEgoKc2NoZW1hX2tleRgJIAEoCRI8CglwcmVzZW5jZXMYCiADKAsyKS55b3JraWUudjEuRG9jdW1lbnRTdW1tYXJ5LlByZXNlbmNlc0VudHJ5Ei4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi8KC2FjY2Vzc2VkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBIuCgp1cGRhdGVkX2F0GAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBpFCg5QcmVzZW5jZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuUHJlc2VuY2U6AjgBItoBCg5QcmVzZW5jZUNoYW5nZRIyCgR0eXBlGAEgASgOMiQueW9ya2llLnYxLlByZXNlbmNlQ2hhbmdlLkNoYW5nZVR5cGUSJQoIcHJlc2VuY2UYAiABKAsyEy55b3JraWUudjEuUHJlc2VuY2UibQoKQ2hhbmdlVHlwZRIbChdDSEFOR0VfVFlQRV9VTlNQRUNJRklFRBAAEhMKD0NIQU5HRV9UWVBFX1BVVBABEhYKEkNIQU5HRV9UWVBFX0RFTEVURRACEhUKEUNIQU5HRV9UWVBFX0NMRUFSEAMiZAoIUHJlc2VuY2USKwoEZGF0YRgBIAMoCzIdLnlvcmtpZS52MS5QcmVzZW5jZS5EYXRhRW50cnkaKwoJRGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiNAoOQ2hhbm5lbFN1bW1hcnkSCwoDa2V5GAEgASgJEhUKDXNlc3Npb25fY291bnQYAiABKAUiNAoKQ2hlY2twb2ludBISCgpzZXJ2ZXJfc2VxGAEgASgDEhIKCmNsaWVudF9zZXEYAiABKA0iYQoLVGV4dE5vZGVQb3MSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBRIXCg9yZWxhdGl2ZV9vZmZzZXQYAyABKAUiQgoKVGltZVRpY2tldBIPCgdsYW1wb3J0GAEgASgDEhEKCWRlbGltaXRlchgCIAEoDRIQCghhY3Rvcl9pZBgDIAEoDCIuCgxEb2NFdmVudEJvZHkSDQoFdG9waWMYASABKAkSDwoHcGF5bG9hZBgCIAEoDCJrCghEb2NFdmVudBIlCgR0eXBlGAEgASgOMhcueW9ya2llLnYxLkRvY0V2ZW50VHlwZRIRCglwdWJsaXNoZXIYAiABKAkSJQoEYm9keRgDIAEoCzIXLnlvcmtpZS52MS5Eb2NFdmVudEJvZHkizgEKDENoYW5uZWxFdmVudBIqCgR0eXBlGAEgASgOMhwueW9ya2llLnYxLkNoYW5uZWxFdmVudC5UeXBlEhEKCXB1Ymxpc2hlchgCIAEoCRINCgVjb3VudBgDIAEoAxILCgNzZXEYBCABKAMSDQoFdG9waWMYBSABKAkSDwoHcGF5bG9hZBgGIAEoDCJDCgRUeXBlEhQKEFRZUEVfVU5TUEVDSUZJRUQQABIRCg1UWVBFX1BSRVNFTkNFEAESEgoOVFlQRV9CUk9BRENBU1QQAiImCghEYXRhU2l6ZRIMCgRkYXRhGAEgASgFEgwKBG1ldGEYAiABKAUiTQoHRG9jU2l6ZRIhCgRsaXZlGAEgASgLMhMueW9ya2llLnYxLkRhdGFTaXplEh8KAmdjGAIgASgLMhMueW9ya2llLnYxLkRhdGFTaXplIpEBCgZTY2hlbWESCgoCaWQYASABKAkSDAoEbmFtZRgCIAEoCRIPCgd2ZXJzaW9uGAMgASgFEgwKBGJvZHkYBCABKAkSHgoFcnVsZXMYBSADKAsyDy55b3JraWUudjEuUnVsZRIuCgpjcmVhdGVkX2F0GAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCIiCgRSdWxlEgwKBHBhdGgYASABKAkSDAoEdHlwZRgCIAEoCSKDAQoPUmV2aXNpb25TdW1tYXJ5EgoKAmlkGAEgASgJEg0KBWxhYmVsGAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJEhAKCHNuYXBzaG90GAQgASgJEi4KCmNyZWF0ZWRfYXQYBSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wKtQCCglWYWx1ZVR5cGUSEwoPVkFMVUVfVFlQRV9OVUxMEAASFgoSVkFMVUVfVFlQRV9CT09MRUFOEAESFgoSVkFMVUVfVFlQRV9JTlRFR0VSEAISEwoPVkFMVUVfVFlQRV9MT05HEAMSFQoRVkFMVUVfVFlQRV9ET1VCTEUQBBIVChFWQUxVRV9UWVBFX1NUUklORxAFEhQKEFZBTFVFX1RZUEVfQllURVMQBhITCg9WQUxVRV9UWVBFX0RBVEUQBxIaChZWQUxVRV9UWVBFX0pTT05fT0JKRUNUEAgSGQoVVkFMVUVfVFlQRV9KU09OX0FSUkFZEAkSEwoPVkFMVUVfVFlQRV9URVhUEAoSGgoWVkFMVUVfVFlQRV9JTlRFR0VSX0NOVBALEhcKE1ZBTFVFX1RZUEVfTE9OR19DTlQQDBITCg9WQUxVRV9UWVBFX1RSRUUQDSqmAQoMRG9jRXZlbnRUeXBlEiMKH0RPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX0NIQU5HRUQQABIjCh9ET0NfRVZFTlRfVFlQRV9ET0NVTUVOVF9XQVRDSEVEEAESJQohRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfVU5XQVRDSEVEEAISJQohRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfQlJPQURDQVNUEANCRQoRZGV2LnlvcmtpZS5hcGkudjFQAVouZ2l0aHViLmNvbS95b3JraWUtdGVhbS95b3JraWUvYXBpL3lvcmtpZS92MTt2MWIGcHJvdG8z",[$1,dE]),D2=ce(ye,0),x2=ce(ye,1),O2=ce(ye,2),gh=ce(ye,3),mh=ce(ye,4),yh=ce(ye,5),V2=ce(ye,5,0),U2=ce(ye,5,1),B2=ce(ye,5,2),L2=ce(ye,5,3),M2=ce(ye,5,4),_2=ce(ye,5,5),Z2=ce(ye,5,6),z2=ce(ye,5,7),Y2=ce(ye,5,8),G2=ce(ye,5,9),sa=ce(ye,6),yn=ce(ye,7),W2=ce(ye,7,0),K2=ce(ye,7,1),X2=ce(ye,7,2),J2=ce(ye,7,3),k2=ce(ye,7,4),j2=ce(ye,7,5),F2=ce(ye,8),H2=ce(ye,9),yb=ce(ye,10),Q2=ce(ye,11),$2=ce(ye,12),P2=ce(ye,13),q2=ce(ye,14),eN=ce(ye,15),tN=ce(ye,16),Qp=ce(ye,22);var zs=(i=>(i[i.UNSPECIFIED=0]="UNSPECIFIED",i[i.PUT=1]="PUT",i[i.DELETE=2]="DELETE",i[i.CLEAR=3]="CLEAR",i))(zs||{});const nN=ce(ye,23),iN=ce(ye,25),rN=ce(ye,26),aN=ce(ye,27);var pb=(i=>(i[i.UNSPECIFIED=0]="UNSPECIFIED",i[i.PRESENCE=1]="PRESENCE",i[i.BROADCAST=2]="BROADCAST",i))(pb||{}),me=(i=>(i[i.NULL=0]="NULL",i[i.BOOLEAN=1]="BOOLEAN",i[i.INTEGER=2]="INTEGER",i[i.LONG=3]="LONG",i[i.DOUBLE=4]="DOUBLE",i[i.STRING=5]="STRING",i[i.BYTES=6]="BYTES",i[i.DATE=7]="DATE",i[i.JSON_OBJECT=8]="JSON_OBJECT",i[i.JSON_ARRAY=9]="JSON_ARRAY",i[i.TEXT=10]="TEXT",i[i.INTEGER_CNT=11]="INTEGER_CNT",i[i.LONG_CNT=12]="LONG_CNT",i[i.TREE=13]="TREE",i))(me||{}),xo=(i=>(i[i.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",i[i.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",i[i.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",i[i.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",i))(xo||{});const sN=hi("Ch5zcmMvYXBpL3lvcmtpZS92MS95b3JraWUucHJvdG8SCXlvcmtpZS52MSKeAQoVQWN0aXZhdGVDbGllbnRSZXF1ZXN0EhIKCmNsaWVudF9rZXkYASABKAkSQAoIbWV0YWRhdGEYAiADKAsyLi55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIisKFkFjdGl2YXRlQ2xpZW50UmVzcG9uc2USEQoJY2xpZW50X2lkGAEgASgJIkEKF0RlYWN0aXZhdGVDbGllbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtzeW5jaHJvbm91cxgCIAEoCCIaChhEZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiagoVQXR0YWNoRG9jdW1lbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRIqCgtjaGFuZ2VfcGFjaxgCIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrEhIKCnNjaGVtYV9rZXkYAyABKAkinwEKFkF0dGFjaERvY3VtZW50UmVzcG9uc2USEwoLZG9jdW1lbnRfaWQYASABKAkSKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYAyABKAUSJQoMc2NoZW1hX3J1bGVzGAQgAygLMg8ueW9ya2llLnYxLlJ1bGUiiwEKFURldGFjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSKgoLY2hhbmdlX3BhY2sYAyABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIeChZyZW1vdmVfaWZfbm90X2F0dGFjaGVkGAQgASgIIkQKFkRldGFjaERvY3VtZW50UmVzcG9uc2USKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjayI+ChRXYXRjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkitgEKFVdhdGNoRG9jdW1lbnRSZXNwb25zZRJJCg5pbml0aWFsaXphdGlvbhgBIAEoCzIvLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UuSW5pdGlhbGl6YXRpb25IABIkCgVldmVudBgCIAEoCzITLnlvcmtpZS52MS5Eb2NFdmVudEgAGiQKDkluaXRpYWxpemF0aW9uEhIKCmNsaWVudF9pZHMYASADKAlCBgoEYm9keSJrChVSZW1vdmVEb2N1bWVudFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siRAoWUmVtb3ZlRG9jdW1lbnRSZXNwb25zZRIqCgtjaGFuZ2VfcGFjaxgBIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrIn8KFlB1c2hQdWxsQ2hhbmdlc1JlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2sSEQoJcHVzaF9vbmx5GAQgASgIIkUKF1B1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlEioKC2NoYW5nZV9wYWNrGAEgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siYwoVQ3JlYXRlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRINCgVsYWJlbBgDIAEoCRITCgtkZXNjcmlwdGlvbhgEIAEoCSJGChZDcmVhdGVSZXZpc2lvblJlc3BvbnNlEiwKCHJldmlzaW9uGAEgASgLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJRChJHZXRSZXZpc2lvblJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEhMKC3JldmlzaW9uX2lkGAMgASgJIkMKE0dldFJldmlzaW9uUmVzcG9uc2USLAoIcmV2aXNpb24YASABKAsyGi55b3JraWUudjEuUmV2aXNpb25TdW1tYXJ5InUKFExpc3RSZXZpc2lvbnNSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRIRCglwYWdlX3NpemUYAyABKAUSDgoGb2Zmc2V0GAQgASgFEhIKCmlzX2ZvcndhcmQYBSABKAgiRgoVTGlzdFJldmlzaW9uc1Jlc3BvbnNlEi0KCXJldmlzaW9ucxgBIAMoCzIaLnlvcmtpZS52MS5SZXZpc2lvblN1bW1hcnkiVQoWUmVzdG9yZVJldmlzaW9uUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSEwoLcmV2aXNpb25faWQYBCABKAkiGQoXUmVzdG9yZVJldmlzaW9uUmVzcG9uc2UiPgoUQXR0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJIjoKFUF0dGFjaENoYW5uZWxSZXNwb25zZRISCgpzZXNzaW9uX2lkGAEgASgJEg0KBWNvdW50GAIgASgDIlIKFERldGFjaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRISCgpzZXNzaW9uX2lkGAMgASgJIiYKFURldGFjaENoYW5uZWxSZXNwb25zZRINCgVjb3VudBgBIAEoAyJTChVSZWZyZXNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEhIKCnNlc3Npb25faWQYAyABKAkiJwoWUmVmcmVzaENoYW5uZWxSZXNwb25zZRINCgVjb3VudBgBIAEoAyI9ChNXYXRjaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCSKDAQoUV2F0Y2hDaGFubmVsUmVzcG9uc2USOQoLaW5pdGlhbGl6ZWQYASABKAsyIi55b3JraWUudjEuV2F0Y2hDaGFubmVsSW5pdGlhbGl6ZWRIABIoCgVldmVudBgCIAEoCzIXLnlvcmtpZS52MS5DaGFubmVsRXZlbnRIAEIGCgRib2R5IjUKF1dhdGNoQ2hhbm5lbEluaXRpYWxpemVkEg0KBWNvdW50GAEgASgDEgsKA3NlcRgCIAEoAyJaChBCcm9hZGNhc3RSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRINCgV0b3BpYxgDIAEoCRIPCgdwYXlsb2FkGAQgASgMIhMKEUJyb2FkY2FzdFJlc3BvbnNlMoULCg1Zb3JraWVTZXJ2aWNlElcKDkFjdGl2YXRlQ2xpZW50EiAueW9ya2llLnYxLkFjdGl2YXRlQ2xpZW50UmVxdWVzdBohLnlvcmtpZS52MS5BY3RpdmF0ZUNsaWVudFJlc3BvbnNlIgASXQoQRGVhY3RpdmF0ZUNsaWVudBIiLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVxdWVzdBojLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiABJXCg5BdHRhY2hEb2N1bWVudBIgLnlvcmtpZS52MS5BdHRhY2hEb2N1bWVudFJlcXVlc3QaIS55b3JraWUudjEuQXR0YWNoRG9jdW1lbnRSZXNwb25zZSIAElcKDkRldGFjaERvY3VtZW50EiAueW9ya2llLnYxLkRldGFjaERvY3VtZW50UmVxdWVzdBohLnlvcmtpZS52MS5EZXRhY2hEb2N1bWVudFJlc3BvbnNlIgASVwoOUmVtb3ZlRG9jdW1lbnQSIC55b3JraWUudjEuUmVtb3ZlRG9jdW1lbnRSZXF1ZXN0GiEueW9ya2llLnYxLlJlbW92ZURvY3VtZW50UmVzcG9uc2UiABJaCg9QdXNoUHVsbENoYW5nZXMSIS55b3JraWUudjEuUHVzaFB1bGxDaGFuZ2VzUmVxdWVzdBoiLnlvcmtpZS52MS5QdXNoUHVsbENoYW5nZXNSZXNwb25zZSIAElYKDVdhdGNoRG9jdW1lbnQSHy55b3JraWUudjEuV2F0Y2hEb2N1bWVudFJlcXVlc3QaIC55b3JraWUudjEuV2F0Y2hEb2N1bWVudFJlc3BvbnNlIgAwARJXCg5DcmVhdGVSZXZpc2lvbhIgLnlvcmtpZS52MS5DcmVhdGVSZXZpc2lvblJlcXVlc3QaIS55b3JraWUudjEuQ3JlYXRlUmV2aXNpb25SZXNwb25zZSIAEk4KC0dldFJldmlzaW9uEh0ueW9ya2llLnYxLkdldFJldmlzaW9uUmVxdWVzdBoeLnlvcmtpZS52MS5HZXRSZXZpc2lvblJlc3BvbnNlIgASVAoNTGlzdFJldmlzaW9ucxIfLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVxdWVzdBogLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVzcG9uc2UiABJaCg9SZXN0b3JlUmV2aXNpb24SIS55b3JraWUudjEuUmVzdG9yZVJldmlzaW9uUmVxdWVzdBoiLnlvcmtpZS52MS5SZXN0b3JlUmV2aXNpb25SZXNwb25zZSIAElQKDUF0dGFjaENoYW5uZWwSHy55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlcXVlc3QaIC55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlc3BvbnNlIgASVAoNRGV0YWNoQ2hhbm5lbBIfLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVxdWVzdBogLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVzcG9uc2UiABJXCg5SZWZyZXNoQ2hhbm5lbBIgLnlvcmtpZS52MS5SZWZyZXNoQ2hhbm5lbFJlcXVlc3QaIS55b3JraWUudjEuUmVmcmVzaENoYW5uZWxSZXNwb25zZSIAElMKDFdhdGNoQ2hhbm5lbBIeLnlvcmtpZS52MS5XYXRjaENoYW5uZWxSZXF1ZXN0Gh8ueW9ya2llLnYxLldhdGNoQ2hhbm5lbFJlc3BvbnNlIgAwARJICglCcm9hZGNhc3QSGy55b3JraWUudjEuQnJvYWRjYXN0UmVxdWVzdBocLnlvcmtpZS52MS5Ccm9hZGNhc3RSZXNwb25zZSIAQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[ye]),lN=p2(sN,0),oN=hi("Ch5nb29nbGUvcnBjL2Vycm9yX2RldGFpbHMucHJvdG8SCmdvb2dsZS5ycGMikwEKCUVycm9ySW5mbxIOCgZyZWFzb24YASABKAkSDgoGZG9tYWluGAIgASgJEjUKCG1ldGFkYXRhGAMgAygLMiMuZ29vZ2xlLnJwYy5FcnJvckluZm8uTWV0YWRhdGFFbnRyeRovCg1NZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiOwoJUmV0cnlJbmZvEi4KC3JldHJ5X2RlbGF5GAEgASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIjIKCURlYnVnSW5mbxIVCg1zdGFja19lbnRyaWVzGAEgAygJEg4KBmRldGFpbBgCIAEoCSKPAwoMUXVvdGFGYWlsdXJlEjYKCnZpb2xhdGlvbnMYASADKAsyIi5nb29nbGUucnBjLlF1b3RhRmFpbHVyZS5WaW9sYXRpb24axgIKCVZpb2xhdGlvbhIPCgdzdWJqZWN0GAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhMKC2FwaV9zZXJ2aWNlGAMgASgJEhQKDHF1b3RhX21ldHJpYxgEIAEoCRIQCghxdW90YV9pZBgFIAEoCRJRChBxdW90YV9kaW1lbnNpb25zGAYgAygLMjcuZ29vZ2xlLnJwYy5RdW90YUZhaWx1cmUuVmlvbGF0aW9uLlF1b3RhRGltZW5zaW9uc0VudHJ5EhMKC3F1b3RhX3ZhbHVlGAcgASgDEh8KEmZ1dHVyZV9xdW90YV92YWx1ZRgIIAEoA0gAiAEBGjYKFFF1b3RhRGltZW5zaW9uc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCFQoTX2Z1dHVyZV9xdW90YV92YWx1ZSKVAQoTUHJlY29uZGl0aW9uRmFpbHVyZRI9Cgp2aW9sYXRpb25zGAEgAygLMikuZ29vZ2xlLnJwYy5QcmVjb25kaXRpb25GYWlsdXJlLlZpb2xhdGlvbho/CglWaW9sYXRpb24SDAoEdHlwZRgBIAEoCRIPCgdzdWJqZWN0GAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJIswBCgpCYWRSZXF1ZXN0Ej8KEGZpZWxkX3Zpb2xhdGlvbnMYASADKAsyJS5nb29nbGUucnBjLkJhZFJlcXVlc3QuRmllbGRWaW9sYXRpb24afQoORmllbGRWaW9sYXRpb24SDQoFZmllbGQYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDgoGcmVhc29uGAMgASgJEjcKEWxvY2FsaXplZF9tZXNzYWdlGAQgASgLMhwuZ29vZ2xlLnJwYy5Mb2NhbGl6ZWRNZXNzYWdlIjcKC1JlcXVlc3RJbmZvEhIKCnJlcXVlc3RfaWQYASABKAkSFAoMc2VydmluZ19kYXRhGAIgASgJImAKDFJlc291cmNlSW5mbxIVCg1yZXNvdXJjZV90eXBlGAEgASgJEhUKDXJlc291cmNlX25hbWUYAiABKAkSDQoFb3duZXIYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkiVgoESGVscBIkCgVsaW5rcxgBIAMoCzIVLmdvb2dsZS5ycGMuSGVscC5MaW5rGigKBExpbmsSEwoLZGVzY3JpcHRpb24YASABKAkSCwoDdXJsGAIgASgJIjMKEExvY2FsaXplZE1lc3NhZ2USDgoGbG9jYWxlGAEgASgJEg8KB21lc3NhZ2UYAiABKAlCbAoOY29tLmdvb2dsZS5ycGNCEUVycm9yRGV0YWlsc1Byb3RvUAFaP2dvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvcnBjL2VycmRldGFpbHM7ZXJyZGV0YWlsc6ICA1JQQ2IGcHJvdG8z",[eE]),uN=ce(oN,0);var E=(i=>(i.Ok="ok",i.ErrClientNotActivated="ErrClientNotActivated",i.ErrClientNotFound="ErrClientNotFound",i.ErrUnimplemented="ErrUnimplemented",i.ErrInvalidType="ErrInvalidType",i.ErrDummy="ErrDummy",i.ErrNotAttached="ErrNotAttached",i.ErrNotDetached="ErrNotDetached",i.ErrDocumentRemoved="ErrDocumentRemoved",i.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",i.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",i.ErrInvalidObjectKey="ErrInvalidObjectKey",i.ErrInvalidArgument="ErrInvalidArgument",i.ErrNotInitialized="ErrNotInitialized",i.ErrNotReady="ErrNotReady",i.ErrRefused="ErrRefused",i.ErrContextNotProvided="ErrContextNotProvided",i.ErrPermissionDenied="ErrPermissionDenied",i.ErrUnauthenticated="ErrUnauthenticated",i.ErrTooManySubscribers="ErrTooManySubscribers",i.ErrTooManyAttachments="ErrTooManyAttachments",i))(E||{});class T extends Error{constructor(e,r){super(r),this.code=e,this.message=r,this.toString=()=>`[code=${this.code}]: ${this.message}`}name="YorkieError";stack}var Zn=(i=>(i.Put="put",i.Clear="clear",i))(Zn||{});const ph="000000000000000000000000",Ln=24;class dn{lamport;delimiter;actorID;constructor(e,r,a){this.lamport=e,this.delimiter=r,this.actorID=a}static of(e,r,a){return new dn(e,r,a)}static fromStruct(e){return dn.of(BigInt(e.lamport),e.delimiter,e.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(e){return new dn(this.lamport,this.delimiter,e)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(e){return this.compare(e)>0}equals(e){return this.compare(e)===0}compare(e){if(this.lamport>e.lamport)return 1;if(e.lamport>this.lamport)return-1;const r=this.actorID.localeCompare(e.actorID);return r!==0?r:this.delimiter>e.delimiter?1:e.delimiter>this.delimiter?-1:0}}const Bf=0n,bb=0,Lf=9223372036854775807n,Aa=new dn(Bf,bb,ph);function Bn(i){return i.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(e){switch(e){case'"':case"\\":return"\\"+e;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}})}class js{createdAt;movedAt;removedAt;constructor(e){this.createdAt=e}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(e){this.createdAt=e}setMovedAt(e){return!this.movedAt||e&&e.after(this.movedAt)?(this.movedAt=e,!0):!1}setRemovedAt(e){this.removedAt=e}remove(e){return e&&e.after(this.createdAt)&&(!this.removedAt||e.after(this.removedAt))?(this.removedAt=e,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let e=0;return this.getCreatedAt()&&(e+=Ln),this.getMovedAt()&&(e+=Ln),this.getRemovedAt()&&(e+=Ln),e}}class Wi extends js{constructor(e){super(e)}}class Oo{strKey;value;constructor(e,r){this.strKey=e,this.value=r}static of(e,r){return new Oo(e,r)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(e){return this.value.remove(e)}}class Sa{nodeMapByKey;nodeMapByCreatedAt;constructor(){this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Sa}set(e,r,a){let o;const c=this.nodeMapByKey.get(e);c&&!c.isRemoved()&&c.remove(a)&&(o=c.getValue());const h=Oo.of(e,r);return this.nodeMapByCreatedAt.set(r.getCreatedAt().toIDString(),h),(!c||a.after(c.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(e,h),r.setMovedAt(a)),o}delete(e,r){if(!this.nodeMapByCreatedAt.has(e.toIDString()))throw new T(E.ErrInvalidArgument,`fail to find ${e.toIDString()}`);const a=this.nodeMapByCreatedAt.get(e.toIDString());return a.remove(r),a.getValue()}subPathOf(e){const r=this.nodeMapByCreatedAt.get(e.toIDString());if(r)return r.getStrKey()}purge(e){const r=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!r)throw new T(E.ErrInvalidArgument,`fail to find ${e.getCreatedAt().toIDString()}`);const a=this.nodeMapByKey.get(r.getStrKey());r===a&&this.nodeMapByKey.delete(a.getStrKey()),this.nodeMapByCreatedAt.delete(r.getValue().getCreatedAt().toIDString())}deleteByKey(e,r){const a=this.nodeMapByKey.get(e);if(a&&a.remove(r))return a.getValue()}has(e){const r=this.nodeMapByKey.get(e);return r?!r.isRemoved():!1}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}get(e){const r=this.nodeMapByKey.get(e);if(!(!r||r.isRemoved()))return r}deepcopy(){const e=Sa.create();for(const[,r]of this.nodeMapByCreatedAt)e.nodeMapByCreatedAt.set(r.getValue().getCreatedAt().toIDString(),Oo.of(r.getStrKey(),r.getValue().deepcopy()));for(const[r,a]of this.nodeMapByKey)e.nodeMapByKey.set(r,e.nodeMapByCreatedAt.get(a.getValue().getCreatedAt().toIDString()));return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByCreatedAt)yield e}}class Nt extends Wi{memberNodes;constructor(e,r){super(e),this.memberNodes=r}static create(e,r){if(!r)return new Nt(e,Sa.create());const a=Sa.create();for(const[o,c]of Object.entries(r))a.set(o,c.deepcopy(),c.getCreatedAt());return new Nt(e,a)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,r,a){return this.memberNodes.set(e,r,a)}delete(e,r){return this.memberNodes.delete(e,r)}deleteByKey(e,r){return this.memberNodes.deleteByKey(e,r)}get(e){return this.memberNodes.get(e)?.getValue()}getByID(e){return this.memberNodes.getByID(e)?.getValue()}has(e){return this.memberNodes.has(e)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const[r,a]of this)e.push(`"${Bn(r)}":${a.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[r,a]of this){const{createdAt:o,value:c,type:h}=a.toJSForTest();e[r]={key:r,createdAt:o,value:c,type:h}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[r]of this)e.push(r);return e}toSortedJSON(){const e=new Set;for(const[a]of this)e.add(a);const r=[];for(const a of Array.from(e).sort()){const o=this.memberNodes.get(a)?.getValue();r.push(`"${Bn(a)}":${o.toSortedJSON()}`)}return`{${r.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=Nt.create(this.getCreatedAt());return e.memberNodes=this.memberNodes.deepcopy(),e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}getDescendants(e){for(const r of this.memberNodes){const a=r.getValue();if(e(a,this))return;a instanceof Wi&&a.getDescendants(e)}}*[Symbol.iterator](){for(const e of this.memberNodes)e.isRemoved()||(yield[e.getStrKey(),e.getValue()])}}var je=(i=>(i.Local="local",i.Remote="remote",i.UndoRedo="undoredo",i))(je||{});class Dn{parentCreatedAt;executedAt;constructor(e,r){this.parentCreatedAt=e,this.executedAt=r}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new T(E.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(e){this.executedAt&&(this.executedAt=this.executedAt.setActor(e))}setExecutedAt(e){this.executedAt=e}}class vb{value;left;right;parent;weight;constructor(e){this.value=e,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(e){this.left=e}setRight(e){this.right=e}setParent(e){this.parent=e}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(e){this.weight+=e}initWeight(){this.weight=this.getLength()}}class Ys{root;constructor(e){this.root=e}get length(){return this.root?this.root.getWeight():0}find(e){if(!this.root||e<0)return[void 0,0];let r=this.root;for(;;)if(r.hasLeft()&&e<=r.getLeftWeight())r=r.getLeft();else if(r.hasRight()&&r.getLeftWeight()+r.getLength()<e)e-=r.getLeftWeight()+r.getLength(),r=r.getRight();else{e-=r.getLeftWeight();break}if(e>r.getLength())throw new T(E.ErrInvalidArgument,`out of index range: pos: ${e} > node.length: ${r.getLength()}`);return this.splayNode(r),[r,e]}indexOf(e){return!e||e!==this.root&&!e.hasLinks()?-1:(this.splayNode(e),this.root.getLeftWeight())}getRoot(){return this.root}insert(e){return this.insertAfter(this.root,e)}insertAfter(e,r){return e?(this.splayNode(e),this.root=r,r.setRight(e.getRight()),e.hasRight()&&e.getRight().setParent(r),r.setLeft(e),e.setParent(r),e.setRight(),this.updateWeight(e),this.updateWeight(r),r):(this.root=r,r)}updateWeight(e){e.initWeight(),e.hasLeft()&&e.increaseWeight(e.getLeftWeight()),e.hasRight()&&e.increaseWeight(e.getRightWeight())}updateTreeWeight(e){for(;e;)this.updateWeight(e),e=e.getParent()}splayNode(e){if(e)for(;;)if(this.isLeftChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e),this.rotateLeft(e);else if(this.isLeftChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e.getParent()),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e.getParent()),this.rotateLeft(e);else{this.isLeftChild(e)?this.rotateRight(e):this.isRightChild(e)&&this.rotateLeft(e),this.updateWeight(e);return}}delete(e){this.splayNode(e);const r=new Ys(e.getLeft());r.root&&r.root.setParent();const a=new Ys(e.getRight());if(a.root&&a.root.setParent(),r.root){const o=r.getRightmost();r.splayNode(o),r.root.setRight(a.root),a.root&&a.root.setParent(r.root),this.root=r.root}else this.root=a.root;e.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(e,r){if(!r){this.splayNode(e),this.cutOffRight(e);return}this.splayNode(e),this.splayNode(r),r.getLeft()!=e&&this.rotateRight(e),this.cutOffRight(e)}cutOffRight(e){const r=[];this.traversePostorder(e.getRight(),r);for(const a of r)a.initWeight();this.updateTreeWeight(e)}toTestString(){const e=[];return this.traverseInorder(this.root,e),e.map(r=>`[${r.getWeight()},${r.getLength()}]${r.getValue()||""}`).join("")}checkWeight(){const e=[];this.traverseInorder(this.root,e);for(const r of e)if(r.getWeight()!=r.getLength()+r.getLeftWeight()+r.getRightWeight())return!1;return!0}getRightmost(){let e=this.root;for(;e.hasRight();)e=e.getRight();return e}traverseInorder(e,r){e&&(this.traverseInorder(e.getLeft(),r),r.push(e),this.traverseInorder(e.getRight(),r))}traversePostorder(e,r){e&&(this.traversePostorder(e.getLeft(),r),this.traversePostorder(e.getRight(),r),r.push(e))}rotateLeft(e){const r=e.getParent();r.hasParent()?r===r.getParent().getLeft()?r.getParent().setLeft(e):r.getParent().setRight(e):this.root=e,e.setParent(r.getParent()),r.setRight(e.getLeft()),r.hasRight()&&r.getRight().setParent(r),e.setLeft(r),e.getLeft().setParent(e),this.updateWeight(r),this.updateWeight(e)}rotateRight(e){const r=e.getParent();r.hasParent()?r===r.getParent().getLeft()?r.getParent().setLeft(e):r.getParent().setRight(e):this.root=e,e.setParent(r.getParent()),r.setLeft(e.getRight()),r.hasLeft()&&r.getLeft().setParent(r),e.setRight(r),e.getRight().setParent(e),this.updateWeight(r),this.updateWeight(e)}isLeftChild(e){return e&&e.hasParent()?e.getParent().getLeft()===e:!1}isRightChild(e){return e&&e.hasParent()?e.getParent().getRight()===e:!1}}var fn=null;try{fn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Se(i,e,r){this.low=i|0,this.high=e|0,this.unsigned=!!r}Se.prototype.__isLong__;Object.defineProperty(Se.prototype,"__isLong__",{value:!0});function Rt(i){return(i&&i.__isLong__)===!0}function $p(i){var e=Math.clz32(i&-i);return i?31-e:e}Se.isLong=Rt;var Pp={},qp={};function Ar(i,e){var r,a,o;return e?(i>>>=0,(o=0<=i&&i<256)&&(a=qp[i],a)?a:(r=Re(i,0,!0),o&&(qp[i]=r),r)):(i|=0,(o=-128<=i&&i<128)&&(a=Pp[i],a)?a:(r=Re(i,i<0?-1:0,!1),o&&(Pp[i]=r),r))}Se.fromInt=Ar;function hn(i,e){if(isNaN(i))return e?li:Cn;if(e){if(i<0)return li;if(i>=Ab)return Nb}else{if(i<=-t0)return _t;if(i+1>=t0)return Eb}return i<0?hn(-i,e).neg():Re(i%Ea|0,i/Ea|0,e)}Se.fromNumber=hn;function Re(i,e,r){return new Se(i,e,r)}Se.fromBits=Re;var Vo=Math.pow;function bh(i,e,r){if(i.length===0)throw Error("empty string");if(typeof e=="number"?(r=e,e=!1):e=!!e,i==="NaN"||i==="Infinity"||i==="+Infinity"||i==="-Infinity")return e?li:Cn;if(r=r||10,r<2||36<r)throw RangeError("radix");var a;if((a=i.indexOf("-"))>0)throw Error("interior hyphen");if(a===0)return bh(i.substring(1),e,r).neg();for(var o=hn(Vo(r,8)),c=Cn,h=0;h<i.length;h+=8){var d=Math.min(8,i.length-h),y=parseInt(i.substring(h,h+d),r);if(d<8){var m=hn(Vo(r,d));c=c.mul(m).add(hn(y))}else c=c.mul(o),c=c.add(hn(y))}return c.unsigned=e,c}Se.fromString=bh;function pn(i,e){return typeof i=="number"?hn(i,e):typeof i=="string"?bh(i,e):Re(i.low,i.high,typeof e=="boolean"?e:i.unsigned)}Se.fromValue=pn;var e0=65536,cN=1<<24,Ea=e0*e0,Ab=Ea*Ea,t0=Ab/2,n0=Ar(cN),Cn=Ar(0);Se.ZERO=Cn;var li=Ar(0,!0);Se.UZERO=li;var fa=Ar(1);Se.ONE=fa;var Sb=Ar(1,!0);Se.UONE=Sb;var Mf=Ar(-1);Se.NEG_ONE=Mf;var Eb=Re(-1,2147483647,!1);Se.MAX_VALUE=Eb;var Nb=Re(-1,-1,!0);Se.MAX_UNSIGNED_VALUE=Nb;var _t=Re(0,-2147483648,!1);Se.MIN_VALUE=_t;var G=Se.prototype;G.toInt=function(){return this.unsigned?this.low>>>0:this.low};G.toNumber=function(){return this.unsigned?(this.high>>>0)*Ea+(this.low>>>0):this.high*Ea+(this.low>>>0)};G.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(_t)){var r=hn(e),a=this.div(r),o=a.mul(r).sub(this);return a.toString(e)+o.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var c=hn(Vo(e,6),this.unsigned),h=this,d="";;){var y=h.div(c),m=h.sub(y.mul(c)).toInt()>>>0,b=m.toString(e);if(h=y,h.isZero())return b+d;for(;b.length<6;)b="0"+b;d=""+b+d}};G.getHighBits=function(){return this.high};G.getHighBitsUnsigned=function(){return this.high>>>0};G.getLowBits=function(){return this.low};G.getLowBitsUnsigned=function(){return this.low>>>0};G.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_t)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,r=31;r>0&&(e&1<<r)==0;r--);return this.high!=0?r+33:r+1};G.isSafeInteger=function(){var e=this.high>>21;return e?this.unsigned?!1:e===-1&&!(this.low===0&&this.high===-2097152):!0};G.isZero=function(){return this.high===0&&this.low===0};G.eqz=G.isZero;G.isNegative=function(){return!this.unsigned&&this.high<0};G.isPositive=function(){return this.unsigned||this.high>=0};G.isOdd=function(){return(this.low&1)===1};G.isEven=function(){return(this.low&1)===0};G.equals=function(e){return Rt(e)||(e=pn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};G.eq=G.equals;G.notEquals=function(e){return!this.eq(e)};G.neq=G.notEquals;G.ne=G.notEquals;G.lessThan=function(e){return this.comp(e)<0};G.lt=G.lessThan;G.lessThanOrEqual=function(e){return this.comp(e)<=0};G.lte=G.lessThanOrEqual;G.le=G.lessThanOrEqual;G.greaterThan=function(e){return this.comp(e)>0};G.gt=G.greaterThan;G.greaterThanOrEqual=function(e){return this.comp(e)>=0};G.gte=G.greaterThanOrEqual;G.ge=G.greaterThanOrEqual;G.compare=function(e){if(Rt(e)||(e=pn(e)),this.eq(e))return 0;var r=this.isNegative(),a=e.isNegative();return r&&!a?-1:!r&&a?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};G.comp=G.compare;G.negate=function(){return!this.unsigned&&this.eq(_t)?_t:this.not().add(fa)};G.neg=G.negate;G.add=function(e){Rt(e)||(e=pn(e));var r=this.high>>>16,a=this.high&65535,o=this.low>>>16,c=this.low&65535,h=e.high>>>16,d=e.high&65535,y=e.low>>>16,m=e.low&65535,b=0,A=0,w=0,R=0;return R+=c+m,w+=R>>>16,R&=65535,w+=o+y,A+=w>>>16,w&=65535,A+=a+d,b+=A>>>16,A&=65535,b+=r+h,b&=65535,Re(w<<16|R,b<<16|A,this.unsigned)};G.subtract=function(e){return Rt(e)||(e=pn(e)),this.add(e.neg())};G.sub=G.subtract;G.multiply=function(e){if(this.isZero())return this;if(Rt(e)||(e=pn(e)),fn){var r=fn.mul(this.low,this.high,e.low,e.high);return Re(r,fn.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?li:Cn;if(this.eq(_t))return e.isOdd()?_t:Cn;if(e.eq(_t))return this.isOdd()?_t:Cn;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(n0)&&e.lt(n0))return hn(this.toNumber()*e.toNumber(),this.unsigned);var a=this.high>>>16,o=this.high&65535,c=this.low>>>16,h=this.low&65535,d=e.high>>>16,y=e.high&65535,m=e.low>>>16,b=e.low&65535,A=0,w=0,R=0,C=0;return C+=h*b,R+=C>>>16,C&=65535,R+=c*b,w+=R>>>16,R&=65535,R+=h*m,w+=R>>>16,R&=65535,w+=o*b,A+=w>>>16,w&=65535,w+=c*m,A+=w>>>16,w&=65535,w+=h*y,A+=w>>>16,w&=65535,A+=a*b+o*m+c*y+h*d,A&=65535,Re(R<<16|C,A<<16|w,this.unsigned)};G.mul=G.multiply;G.divide=function(e){if(Rt(e)||(e=pn(e)),e.isZero())throw Error("division by zero");if(fn){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?fn.div_u:fn.div_s)(this.low,this.high,e.low,e.high);return Re(r,fn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?li:Cn;var a,o,c;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return li;if(e.gt(this.shru(1)))return Sb;c=li}else{if(this.eq(_t)){if(e.eq(fa)||e.eq(Mf))return _t;if(e.eq(_t))return fa;var h=this.shr(1);return a=h.div(e).shl(1),a.eq(Cn)?e.isNegative()?fa:Mf:(o=this.sub(e.mul(a)),c=a.add(o.div(e)),c)}else if(e.eq(_t))return this.unsigned?li:Cn;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();c=Cn}for(o=this;o.gte(e);){a=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var d=Math.ceil(Math.log(a)/Math.LN2),y=d<=48?1:Vo(2,d-48),m=hn(a),b=m.mul(e);b.isNegative()||b.gt(o);)a-=y,m=hn(a,this.unsigned),b=m.mul(e);m.isZero()&&(m=fa),c=c.add(m),o=o.sub(b)}return c};G.div=G.divide;G.modulo=function(e){if(Rt(e)||(e=pn(e)),fn){var r=(this.unsigned?fn.rem_u:fn.rem_s)(this.low,this.high,e.low,e.high);return Re(r,fn.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};G.mod=G.modulo;G.rem=G.modulo;G.not=function(){return Re(~this.low,~this.high,this.unsigned)};G.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};G.clz=G.countLeadingZeros;G.countTrailingZeros=function(){return this.low?$p(this.low):$p(this.high)+32};G.ctz=G.countTrailingZeros;G.and=function(e){return Rt(e)||(e=pn(e)),Re(this.low&e.low,this.high&e.high,this.unsigned)};G.or=function(e){return Rt(e)||(e=pn(e)),Re(this.low|e.low,this.high|e.high,this.unsigned)};G.xor=function(e){return Rt(e)||(e=pn(e)),Re(this.low^e.low,this.high^e.high,this.unsigned)};G.shiftLeft=function(e){return Rt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Re(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Re(0,this.low<<e-32,this.unsigned)};G.shl=G.shiftLeft;G.shiftRight=function(e){return Rt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Re(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Re(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};G.shr=G.shiftRight;G.shiftRightUnsigned=function(e){return Rt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Re(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?Re(this.high,0,this.unsigned):Re(this.high>>>e-32,0,this.unsigned)};G.shru=G.shiftRightUnsigned;G.shr_u=G.shiftRightUnsigned;G.rotateLeft=function(e){var r;return Rt(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Re(this.high,this.low,this.unsigned):e<32?(r=32-e,Re(this.low<<e|this.high>>>r,this.high<<e|this.low>>>r,this.unsigned)):(e-=32,r=32-e,Re(this.high<<e|this.low>>>r,this.low<<e|this.high>>>r,this.unsigned))};G.rotl=G.rotateLeft;G.rotateRight=function(e){var r;return Rt(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Re(this.high,this.low,this.unsigned):e<32?(r=32-e,Re(this.high<<r|this.low>>>e,this.low<<r|this.high>>>e,this.unsigned)):(e-=32,r=32-e,Re(this.low<<r|this.high>>>e,this.high<<r|this.low>>>e,this.unsigned))};G.rotr=G.rotateRight;G.toSigned=function(){return this.unsigned?Re(this.low,this.high,!1):this};G.toUnsigned=function(){return this.unsigned?this:Re(this.low,this.high,!0)};G.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};G.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};G.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]};Se.fromBytes=function(e,r,a){return a?Se.fromBytesLE(e,r):Se.fromBytesBE(e,r)};Se.fromBytesLE=function(e,r){return new Se(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)};Se.fromBytesBE=function(e,r){return new Se(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)};typeof BigInt=="function"&&(Se.fromBigInt=function(e,r){var a=Number(BigInt.asIntN(32,e)),o=Number(BigInt.asIntN(32,e>>BigInt(32)));return Re(a,o,r)},Se.fromValue=function(e,r){return typeof e=="bigint"?Se.fromBigInt(e,r):pn(e,r)},G.toBigInt=function(){var e=BigInt(this.low>>>0),r=BigInt(this.unsigned?this.high>>>0:this.high);return r<<BigInt(32)|e});var Ye=(i=>(i[i.Null=0]="Null",i[i.Boolean=1]="Boolean",i[i.Integer=2]="Integer",i[i.Long=3]="Long",i[i.Double=4]="Double",i[i.String=5]="String",i[i.Bytes=6]="Bytes",i[i.Date=7]="Date",i))(Ye||{});class He extends js{valueType;value;constructor(e,r){super(r),this.valueType=He.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,r){return new He(e,r)}static valueFromBytes(e,r){switch(e){case 0:return null;case 1:return!!r[0];case 2:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 4:{const a=new DataView(r.buffer);return r.forEach(function(o,c){a.setUint8(c,o)}),a.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(r);case 3:return Se.fromBytesLE(Array.from(r));case 6:return r;case 7:return new Date(Se.fromBytesLE(Array.from(r),!0).toNumber());default:throw new T(E.ErrUnimplemented,`unimplemented type: ${e}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new T(E.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${Bn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=He.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof Se)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return He.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,e,!0),r}case 5:return new TextEncoder().encode(this.value);case 3:{const r=this.value.toBytesLE();return Uint8Array.from(r)}case 6:return this.value;case 7:{const e=this.value,r=Se.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(r)}default:throw new T(E.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Uo extends vb{prev;next;movedFrom;constructor(e){super(e),this.value=e}static createAfter(e,r){const a=new Uo(r),o=e.next;return e.next=a,a.prev=e,a.next=o,o&&(o.prev=a),a}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(e){this.movedFrom=e}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class Gs{dummyHead;last;nodeMapByIndex;nodeMapByCreatedAt;constructor(){const e=He.of(0,Aa);e.setRemovedAt(Aa),this.dummyHead=new Uo(e),this.last=this.dummyHead,this.nodeMapByIndex=new Ys,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new Gs}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(e,r){let a=this.nodeMapByCreatedAt.get(e.toIDString());if(!a)throw new T(E.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);for(;a.getValue().getMovedAt()&&a.getValue().getMovedAt().after(r)&&a.getMovedFrom();)a=a.getMovedFrom();for(;a.getNext()&&a.getNext().getPositionedAt().after(r);)a=a.getNext();return a}release(e){this.last===e&&(this.last=e.getPrev()),e.release(),this.nodeMapByIndex.delete(e),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}insertAfter(e,r,a=r.getCreatedAt()){const o=this.findNextBeforeExecutedAt(e,a),c=Uo.createAfter(o,r);return o===this.last&&(this.last=c),this.nodeMapByIndex.insertAfter(o,c),this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),c),c}moveAfter(e,r,a){let o=this.nodeMapByCreatedAt.get(e.toIDString());if(!o)throw new T(E.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);let c=this.nodeMapByCreatedAt.get(r.toIDString());if(!c)throw new T(E.ErrInvalidArgument,`cant find the given node: ${r.toIDString()}`);if(o!==c&&a.after(c.getPositionedAt())){const h=c.getPrev();let d=c.getNext();for(this.release(c),c=this.insertAfter(o.getCreatedAt(),c.getValue(),a),c.getValue().setMovedAt(a),c.setMovedFrom(h);d&&d.getPositionedAt().after(a);)o=c,c=d,d=c.getNext(),this.release(c),c=this.insertAfter(o.getCreatedAt(),c.getValue(),a),c.getValue().setMovedAt(a),c.setMovedFrom(h)}}insert(e){this.insertAfter(this.last.getCreatedAt(),e)}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}subPathOf(e){const r=this.nodeMapByCreatedAt.get(e.toIDString());if(r)return String(this.nodeMapByIndex.indexOf(r))}purge(e){const r=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!r)throw new T(E.ErrInvalidArgument,`fail to find the given createdAt: ${e.getCreatedAt().toIDString()}`);this.release(r)}getByIndex(e){if(e>=this.length)return;const[r,a]=this.nodeMapByIndex.find(e);let o=r;if(e===0&&r===this.dummyHead||a>0)do o&&(o=o.getNext());while(o&&o.isRemoved());return o}getPrevCreatedAt(e){let r=this.nodeMapByCreatedAt.get(e.toIDString());do r=r.getPrev();while(this.dummyHead!==r&&r.isRemoved());return r.getValue().getCreatedAt()}delete(e,r){const a=this.nodeMapByCreatedAt.get(e.toIDString()),o=a.isRemoved();return a.remove(r)&&!o&&this.nodeMapByIndex.splayNode(a),a.getValue()}set(e,r,a){const o=this.nodeMapByCreatedAt.get(e.toIDString());if(!o)throw new T(E.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);return this.insertAfter(o.getCreatedAt(),r,a),this.delete(e,a)}deleteByIndex(e,r){const a=this.getByIndex(e);if(a)return a.remove(r)&&this.nodeMapByIndex.splayNode(a),a.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const e=[];for(const r of this){const a=`${r.getCreatedAt().toIDString()}:${r.getValue().toJSON()}`;r.isRemoved()?e.push(`{${a}}`):e.push(`[${a}]`)}return e.join("")}*[Symbol.iterator](){let e=this.dummyHead.getNext();for(;e;)yield e,e=e.getNext()}}class Tt extends Wi{elements;constructor(e,r){super(e),this.elements=r}static create(e,r){if(!r)return new Tt(e,Gs.create());const a=Gs.create();for(const o of r)a.insertAfter(a.getLastCreatedAt(),o.deepcopy());return new Tt(e,a)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,r,a){this.elements.insertAfter(e,r,a)}moveAfter(e,r,a){this.elements.moveAfter(e,r,a)}get(e){return this.elements.getByIndex(e)?.getValue()}getByID(e){return this.elements.getByID(e)?.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,r){return this.elements.delete(e,r)}deleteByIndex(e,r){return this.elements.deleteByIndex(e,r)}set(e,r,a){return this.elements.set(e,r,a)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const r of this.elements){const a=r.getValue();if(e(a,this))return;a instanceof Wi&&a.getDescendants(e)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const r of this)e.push(r.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let r=0;r<this.length;r++){const{createdAt:a,value:o,type:c}=this.get(r).toJSForTest();e[r]={key:String(r),createdAt:a,value:o,type:c}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=Tt.create(this.getCreatedAt());for(const r of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),r.getValue().deepcopy());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}}class ji extends Dn{prevCreatedAt;value;constructor(e,r,a,o){super(e,o),this.prevCreatedAt=r,this.value=a}static create(e,r,a,o){return new ji(e,r,a,o)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Tt))throw new T(E.ErrInvalidArgument,"fail to execute, only array can execute add");const a=r,o=this.value.deepcopy();return a.insertAfter(this.prevCreatedAt,o,this.getExecutedAt()),e.registerElement(o,a),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(a.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return zn.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(e){this.prevCreatedAt=e}}class zn extends Dn{createdAt;constructor(e,r,a){super(e,a),this.createdAt=r}static create(e,r,a){return new zn(e,r,a)}execute(e,r){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Wi))throw new T(E.ErrInvalidArgument,`only object and array can execute remove: ${a}`);if(r===je.UndoRedo){let y=a.getByID(this.createdAt);for(;y;){if(y.getRemovedAt())return;y=e.findElementPairByCreatedAt(y.getCreatedAt())?.parent}}const o=a.subPathOf(this.createdAt),c=this.toReverseOperation(a),h=a.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(h),{opInfos:a instanceof Tt?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(o)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:o}],reverseOp:c}}toReverseOperation(e){if(e instanceof Tt){const r=e.getByID(this.createdAt);if(r!==void 0){const a=e.getPrevCreatedAt(this.createdAt);return ji.create(this.getParentCreatedAt(),a,r.deepcopy())}}if(e instanceof Nt){const r=e.subPathOf(this.createdAt);if(r!==void 0){const a=e.get(r);if(a!==void 0)return vr.create(r,a.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(e){this.createdAt=e}}class vr extends Dn{key;value;constructor(e,r,a,o){super(a,o),this.key=e,this.value=r}static create(e,r,a,o){return new vr(e,r,a,o)}execute(e,r){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Nt))throw new T(E.ErrInvalidArgument,"fail to execute, only object can execute set");if(r===je.UndoRedo){let y=a;for(;y;){if(y.getRemovedAt())return;y=e.findElementPairByCreatedAt(y.getCreatedAt())?.parent}}const o=a.get(this.key),c=this.toReverseOperation(o),h=this.value.deepcopy(),d=a.set(this.key,h,this.getExecutedAt());return r===je.UndoRedo&&e.findByCreatedAt(h.getCreatedAt())&&e.deregisterElement(h),e.registerElement(h,a),d&&e.registerRemovedElement(d),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:c}}toReverseOperation(e){let r=zn.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(r=vr.create(this.key,e.deepcopy(),this.getParentCreatedAt())),r}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class In extends Dn{prevCreatedAt;createdAt;constructor(e,r,a,o){super(e,o),this.prevCreatedAt=r,this.createdAt=a}static create(e,r,a,o){return new In(e,r,a,o)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Tt))throw new T(E.ErrInvalidArgument,"fail to execute, only array can execute move");const a=r,o=this.toReverseOperation(a),c=Number(a.subPathOf(this.createdAt));a.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const h=Number(a.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:h,previousIndex:c}],reverseOp:o}}toReverseOperation(e){const r=e.getPrevCreatedAt(this.createdAt);return In.create(this.getParentCreatedAt(),r,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(e){this.prevCreatedAt=e}setCreatedAt(e){this.createdAt=e}}const fN=(i,e)=>i===e?0:i<e?-1:1;class hN{key;value;left;right;isRed;constructor(e,r,a){this.key=e,this.value=r,this.isRed=a}}class dN{stack;constructor(e){this.stack=[],this.traverseInorder(e)}traverseInorder(e){e&&(this.traverseInorder(e.left),this.stack.push({key:e.key,value:e.value}),this.traverseInorder(e.right))}}class Tb{root;comparator;counter;constructor(e){this.comparator=typeof e<"u"?e:fN,this.counter=0}put(e,r){return this.root=this.putInternal(e,r,this.root),this.root.isRed=!1,r}get(e){const r=this.getInternal(e,this.root);return r?r.value:void 0}remove(e){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,e),this.root&&(this.root.isRed=!1)}getIterator(){return new dN(this.root)}values(){const e=[];for(const r of this.getIterator().stack)e.push(r.value);return e}floorEntry(e){let r=this.root,a;for(;r;){const o=this.comparator(e,r.key);if(o===0)return r;o<0?r=r.left:(a=r,r=r.right)}return a}lastEntry(){if(!this.root)return this.root;let e=this.root;for(;e.right;)e=e.right;return e}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(e,r){for(;r;){const a=this.comparator(e,r.key);if(a===0)return r;a<0?r=r.left:a>0&&(r=r.right)}}putInternal(e,r,a){if(!a)return this.counter+=1,new hN(e,r,!0);const o=this.comparator(e,a.key);return o<0?a.left=this.putInternal(e,r,a.left):o>0?a.right=this.putInternal(e,r,a.right):a.value=r,this.isRed(a.right)&&!this.isRed(a.left)&&(a=this.rotateLeft(a)),this.isRed(a.left)&&this.isRed(a.left.left)&&(a=this.rotateRight(a)),this.isRed(a.left)&&this.isRed(a.right)&&this.flipColors(a),a}removeInternal(e,r){if(this.comparator(r,e.key)<0)!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeInternal(e.left,r);else{if(this.isRed(e.left)&&(e=this.rotateRight(e)),this.comparator(r,e.key)===0&&!e.right){this.counter-=1;return}if(!this.isRed(e.right)&&!this.isRed(e.right.left)&&(e=this.moveRedRight(e)),this.comparator(r,e.key)===0){this.counter-=1;const a=this.min(e.right);e.value=a.value,e.key=a.key,e.right=this.removeMin(e.right)}else e.right=this.removeInternal(e.right,r)}return this.fixUp(e)}min(e){return e.left?this.min(e.left):e}removeMin(e){if(e.left)return!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeMin(e.left),this.fixUp(e)}fixUp(e){return this.isRed(e.right)&&(e=this.rotateLeft(e)),this.isRed(e.left)&&this.isRed(e.left.left)&&(e=this.rotateRight(e)),this.isRed(e.left)&&this.isRed(e.right)&&this.flipColors(e),e}moveRedLeft(e){return this.flipColors(e),this.isRed(e.right.left)&&(e.right=this.rotateRight(e.right),e=this.rotateLeft(e),this.flipColors(e)),e}moveRedRight(e){return this.flipColors(e),this.isRed(e.left.left)&&(e=this.rotateRight(e),this.flipColors(e)),e}isRed(e){return e&&e.isRed}rotateLeft(e){const r=e.right;return e.right=r.left,r.left=e,r.isRed=r.left.isRed,r.left.isRed=!0,r}rotateRight(e){const r=e.left;return e.left=r.right,r.right=e,r.isRed=r.right.isRed,r.right.isRed=!0,r}flipColors(e){e.isRed=!e.isRed,e.left.isRed=!e.left.isRed,e.right.isRed=!e.right.isRed}}function gN(i){return i?i0(i.live)+i0(i.gc):0}function i0(i){return i.data+i.meta}function At(i,...e){for(const r of e)i.data+=r.data,i.meta+=r.meta}function pr(i,e){i.data-=e.data,i.meta-=e.meta}class Mn{createdAt;offset;constructor(e,r){this.createdAt=e,this.offset=r}static of(e,r){return new Mn(e,r)}static fromStruct(e){return Mn.of(dn.fromStruct(e.createdAt),e.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}hasSameCreatedAt(e){return this.createdAt.compare(e.createdAt)===0}split(e){return new Mn(this.createdAt,this.offset+e)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const mN=Mn.of(Aa,0);class vt{id;relativeOffset;constructor(e,r){this.id=e,this.relativeOffset=r}static of(e,r){return new vt(e,r)}static fromStruct(e){const r=Mn.fromStruct(e.id);return vt.of(r,e.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Mn.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(e){return this.id.equals(e.id)?this.relativeOffset===e.relativeOffset:!1}}class Ki extends vb{id;removedAt;prev;next;insPrev;insNext;constructor(e,r,a){super(r),this.id=e,this.removedAt=a}static create(e,r){return new Ki(e,r)}static createComparator(){return(e,r)=>{const a=e.getCreatedAt().compare(r.getCreatedAt());return a!==0?a:e.getOffset()>r.getOffset()?1:e.getOffset()<r.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new Ki(this.id.split(e),this.splitValue(e),this.removedAt)}canRemove(e,r,a){return r?!!(!this.removedAt||!a&&e?.after(this.removedAt)):!1}canStyle(e,r){return this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}setRemovedAt(e){this.removedAt=e}remove(e){if(!this.removedAt){this.removedAt=e;return}e.after(this.removedAt)&&(this.removedAt=e)}createPosRange(){return[vt.of(this.id,0),vt.of(this.id,this.getLength())]}getDataSize(){const e=this.value.getDataSize();return this.id&&(e.meta+=Ln),this.removedAt&&(e.meta+=Ln),e}deepcopy(){return new Ki(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const r=this.value;return this.value=r.substring(0,e),r.substring(e,r.length)}toIDString(){return this.id.toIDString()}}class Na{head;treeByIndex;treeByID;constructor(){this.head=Ki.create(mN),this.treeByIndex=new Ys,this.treeByID=new Tb(Ki.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Na}edit(e,r,a,o){const c={data:0,meta:0},[h,d,y]=this.findNodeWithSplit(e[1],r),[m,b,A]=this.findNodeWithSplit(e[0],r);At(c,d,b);const w=this.findBetween(A,y),[R,C]=this.deleteNodes(w,r,o),V=y?y.getID():h.getID();let Y=vt.of(V,0);if(a){const K=this.posToIndex(m.createPosRange()[1],!0),ee=this.insertAfter(m,Ki.create(Mn.of(r,0),a));At(c,ee.getDataSize()),R.length&&R[R.length-1].from===K?R[R.length-1].value=a:R.push({actor:r.getActorID(),from:K,to:K,value:a}),Y=vt.of(ee.getID(),ee.getContentLength())}const H=[],ne=[];for(const[,K]of C)H.push({parent:this,child:K}),ne.push(K.getValue());return[Y,H,c,R,ne]}indexToPos(e){const[r,a]=this.treeByIndex.find(e),o=r;return vt.of(o.getID(),a)}findIndexesFromRange(e){const[r,a]=e;return[this.posToIndex(r,!1),this.posToIndex(a,!0)]}posToIndex(e,r){const a=e.getAbsoluteID(),o=r?this.findFloorNodePreferToLeft(a):this.findFloorNode(a);if(!o)throw new T(E.ErrInvalidArgument,`the node of the given id should be found: ${a.toTestString()}`);const c=this.treeByIndex.indexOf(o),h=o.isRemoved()?0:a.getOffset()-o.getID().getOffset();return c+h}findNode(e){return this.findFloorNode(e)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const e=[];for(const r of this)r.isRemoved()||e.push(r.getValue());return e.join("")}*[Symbol.iterator](){let e=this.head.getNext();for(;e;)yield e,e=e.getNext()}getHead(){return this.head}deepcopy(){const e=new Na;let r=this.head.getNext(),a=e.head,o;for(;r;){if(o=e.insertAfter(a,r.deepcopy()),r.hasInsPrev()){const c=e.findNode(r.getInsPrevID());o.setInsPrev(c)}a=o,r=r.getNext()}return e}normalizePos(e){const r=this.findFloorNode(e.getID());if(!r)throw new T(E.ErrInvalidArgument,`the node of the given id should be found: ${e.getID().toTestString()}`);let a=e.getRelativeOffset(),o=r,c=r.getPrev();for(;c;)a+=c.getLength(),o=c,c=c.getPrev();return vt.of(o.getID(),a)}refinePos(e){let r=this.findFloorNode(e.getID());if(!r)throw new T(E.ErrInvalidArgument,`the node of the given id should be found: ${e.getID().toTestString()}`);let a=e.getRelativeOffset(),o=r.getContentLength();for(;a>o;){a-=o;const c=r.getNext();if(!c)return vt.of(r.getID(),o);r=c,o=r.getLength()}return vt.of(r.getID(),a)}toTestString(){const e=[];let r=this.head;for(;r;)r.isRemoved()?e.push(`{${r.toTestString()}}`):e.push(`[${r.toTestString()}]`),r=r.getNext();return e.join("")}insertAfter(e,r){const a=e.getNext();return r.setPrev(e),a&&a.setPrev(r),this.treeByID.put(r.getID(),r),this.treeByIndex.insertAfter(e,r),r}findNodeWithSplit(e,r){const a=e.getAbsoluteID();let o=this.findFloorNodePreferToLeft(a);const c=a.getOffset()-o.getID().getOffset(),[,h]=this.splitNode(o,c);for(;o.hasNext()&&o.getNext().getCreatedAt().after(r);)o=o.getNext();return[o,h,o.getNext()]}findFloorNodePreferToLeft(e){let r=this.findFloorNode(e);if(!r)throw new T(E.ErrInvalidArgument,`the node of the given id should be found: ${e.toTestString()}`);if(e.getOffset()>0&&r.getID().getOffset()==e.getOffset()){if(!r.hasInsPrev())return r;r=r.getInsPrev()}return r}findFloorNode(e){const r=this.treeByID.floorEntry(e);if(r&&!(!r.key.equals(e)&&!r.key.hasSameCreatedAt(e)))return r.value}findBetween(e,r){const a=[];let o=e;for(;o&&o!==r;)a.push(o),o=o.getNext();return a}splitNode(e,r){const a={data:0,meta:0};if(r>e.getContentLength())throw new T(E.ErrInvalidArgument,"offset should be less than or equal to length");if(r===0)return[e,a];if(r===e.getContentLength())return[e.getNext(),a];const o=e.getDataSize(),c=e.split(r);this.treeByIndex.updateWeight(c),this.insertAfter(e,c);const h=e.getInsNext();return h&&h.setInsPrev(c),c.setInsPrev(e),At(a,e.getDataSize(),c.getDataSize()),pr(a,o),[c,a]}deleteNodes(e,r,a){if(!e.length)return[[],new Map];const o=a===void 0||a.size()===0,c=[],h=[],[d,y]=this.findEdgesOfCandidates(e);h.push(d);for(const A of e){let w=!1;if(o)w=!0;else{const C=a?.get(A.getCreatedAt().getActorID());C&&C>=A.getCreatedAt().getLamport()&&(w=!0)}let R=!1;if(A.getRemovedAt()){const C=a?.get(A.getRemovedAt().getActorID());(o||C&&C>=A.getRemovedAt().getLamport())&&(R=!0)}A.canRemove(r,w,R)?c.push(A):h.push(A)}h.push(y);const m=this.makeChanges(h,r),b=new Map;for(const A of c)b.set(A.getID().toIDString(),A),A.remove(r);return this.deleteIndexNodes(h),[m,b]}findEdgesOfCandidates(e){return[e[0].getPrev(),e[e.length-1].getNext()]}makeChanges(e,r){const a=[];let o,c;for(let h=0;h<e.length-1;h++){const d=e[h],y=e[h+1];d.getNext()!=y&&([o]=this.findIndexesFromRange(d.getNext().createPosRange()),y?[,c]=this.findIndexesFromRange(y.getPrev().createPosRange()):c=this.treeByIndex.length,o<c&&a.push({actor:r.getActorID(),from:o,to:c}))}return a.reverse()}deleteIndexNodes(e){for(let r=0;r<e.length-1;r++){const a=e[r],o=e[r+1];a.getNext()!=o&&this.treeByIndex.deleteRange(a,o)}}purge(e){this.treeByIndex.delete(e),this.treeByID.remove(e.getID());const r=e.getPrev(),a=e.getNext(),o=e.getInsPrev(),c=e.getInsNext();r&&r.setNext(a),a&&a.setPrev(r),e.setPrev(void 0),e.setNext(void 0),o&&o.setInsNext(c),c&&c.setInsPrev(o),e.setInsPrev(void 0),e.setInsNext(void 0)}}class Gi{key;value;updatedAt;_isRemoved;constructor(e,r,a,o){this.key=e,this.value=r,this.updatedAt=a,this._isRemoved=o}static of(e,r,a,o){return new Gi(e,r,a,o)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Ln}}}class ci{nodeMapByKey;numberOfRemovedElement;constructor(){this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new ci}getNodeMapByKey(){return this.nodeMapByKey}set(e,r,a){const o=this.nodeMapByKey.get(e);if(o&&o.isRemoved()&&a.after(o.getUpdatedAt())&&(this.numberOfRemovedElement-=1),o===void 0||a.after(o.getUpdatedAt())){const c=Gi.of(e,r,a,!1);return this.nodeMapByKey.set(e,c),o!==void 0&&o.isRemoved()?[o,c]:[void 0,c]}return o.isRemoved()?[o,void 0]:[void 0,void 0]}setInternal(e,r,a,o){const c=Gi.of(e,r,a,o);this.nodeMapByKey.set(e,c),o&&this.numberOfRemovedElement++}remove(e,r){const a=this.nodeMapByKey.get(e),o=[];if(a===void 0||r.after(a.getUpdatedAt())){if(a===void 0){this.numberOfRemovedElement+=1;const d=Gi.of(e,"",r,!0);return this.nodeMapByKey.set(e,d),o.push(d),o}const c=a.isRemoved();c||(this.numberOfRemovedElement+=1),c&&o.push(a);const h=Gi.of(e,a.getValue(),r,!0);return this.nodeMapByKey.set(e,h),o.push(h),o}return o}has(e){if(this.nodeMapByKey.has(e)){const r=this.nodeMapByKey.get(e);return r!==void 0&&!r.isRemoved()}return!1}get(e){if(this.nodeMapByKey.has(e))return this.nodeMapByKey.get(e).getValue()}deepcopy(){const e=new ci;for(const[,r]of this.nodeMapByKey)e.setInternal(r.getKey(),r.getValue(),r.getUpdatedAt(),r.isRemoved());return e}toJSON(){if(!this.size())return"{}";const e=[];for(const[r,a]of this.nodeMapByKey)a.isRemoved()||e.push(`"${Bn(r)}":"${Bn(a.getValue())}"`);return`{${e.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const e={};for(const[r,a]of this.nodeMapByKey)a.isRemoved()||(e[r]=a.getValue());return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}purge(e){const r=this.nodeMapByKey.get(e.getKey());r==null||r.toIDString()!=e.toIDString()||(this.nodeMapByKey.delete(e.getKey()),this.numberOfRemovedElement--)}}function Nn(i){if(i instanceof Map){const e=Array.from(i);return new Map(JSON.parse(JSON.stringify(e)))}return JSON.parse(JSON.stringify(i))}const Rb=i=>i?Object.entries(i).length===0:!0,Ta=i=>{const e={};for(const[r,a]of Object.entries(i))e[r]=JSON.stringify(a);return e},oi=i=>{const e={};for(const[r,a]of Object.entries(i))e[r]=JSON.parse(a);return e};class Ws{attributes;content;constructor(e){this.attributes=ci.create(),this.content=e}static create(e){return new Ws(e)}get length(){return this.content.length}substring(e,r){const a=new Ws(this.content.substring(e,r));return a.attributes=this.attributes.deepcopy(),a}setAttr(e,r,a){return this.attributes.set(e,r,a)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const e={data:0,meta:0};e.data+=this.content.length*2;for(const r of this.attributes){const a=r.getDataSize();e.meta+=a.meta,e.data+=a.data}return e}toJSON(){const e=Bn(this.content),r=this.attributes.toObject(),a=[];for(const[o,c]of Object.entries(r)){const h=JSON.parse(c),d=typeof h=="string"?`"${Bn(o)}":"${Bn(h)}"`:`"${Bn(o)}":${String(h)}`;a.push(d)}return a.sort(),a.length===0?`{"val":"${e}"}`:`{"attrs":{${a.join(",")}},"val":"${e}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(e){this.attributes&&e instanceof Gi&&this.attributes.purge(e)}getGCPairs(){const e=[];for(const r of this.attributes)r.getRemovedAt()&&e.push({parent:this,child:r});return e}}class Yt extends js{rgaTreeSplit;constructor(e,r){super(r),this.rgaTreeSplit=e}static create(e,r){return new Yt(e,r)}edit(e,r,a,o,c){const h=r?Ws.create(r):void 0;if(h&&o)for(const[R,C]of Object.entries(o))h.setAttr(R,C,a);const[d,y,m,b,A]=this.rgaTreeSplit.edit(e,a,h,c);return[b.map(R=>({...R,value:R.value?{attributes:oi(R.value.getAttributes()),content:R.value.getContent()}:{attributes:void 0,content:""},type:"content"})),y,m,[d,d],A]}setStyle(e,r,a,o){const c={data:0,meta:0},[,h,d]=this.rgaTreeSplit.findNodeWithSplit(e[1],a),[,y,m]=this.rgaTreeSplit.findNodeWithSplit(e[0],a);At(c,h,y);const b=[],A=this.rgaTreeSplit.findBetween(m,d),w=[];for(const C of A){const V=C.getCreatedAt().getActorID();let Y=Lf;o!=null&&(Y=o.get(V)?o.get(V):0n),C.canStyle(a,Y)&&w.push(C)}const R=[];for(const C of w){if(C.isRemoved())continue;const[V,Y]=this.rgaTreeSplit.findIndexesFromRange(C.createPosRange());b.push({type:"style",actor:a.getActorID(),from:V,to:Y,value:{attributes:oi(r)}});for(const[H,ne]of Object.entries(r)){const[K]=C.getValue().setAttr(H,ne,a);K!==void 0&&R.push({parent:C.getValue(),child:K});const ee=C.getValue().getAttrs().getNodeMapByKey().get(H);ee!==void 0&&At(c,ee.getDataSize())}}return[R,c,b]}indexRangeToPosRange(e,r){const a=this.rgaTreeSplit.indexToPos(e);return e===r?[a,a]:[a,this.rgaTreeSplit.indexToPos(r)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}refinePos(e){return this.rgaTreeSplit.refinePos(e)}normalizePos(e){return this.rgaTreeSplit.normalizePos(e)}getDataSize(){const e={data:0,meta:0};for(const r of this.rgaTreeSplit){if(r.isRemoved())continue;const a=r.getDataSize();e.data+=a.data,e.meta+=a.meta}return{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){const e=[];for(const r of this.rgaTreeSplit)r.isRemoved()||e.push(r.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const r of this.rgaTreeSplit)if(!r.isRemoved()){const a=r.getValue();e.push({attributes:oi(a.getAttributes()),content:a.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new Yt(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}posToIndex(e,r=!1){return this.rgaTreeSplit.posToIndex(e,r)}getGCPairs(){const e=[];for(const r of this.rgaTreeSplit){r.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:r});for(const a of r.getValue().getGCPairs())e.push(a)}return e}}class ki extends Dn{fromPos;toPos;content;attributes;isUndoOp;constructor(e,r,a,o,c,h,d){super(e,h),this.fromPos=r,this.toPos=a,this.content=o,this.attributes=c,this.isUndoOp=d}static create(e,r,a,o,c,h,d){return new ki(e,r,a,o,c,h,d)}execute(e,r,a){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Yt))throw new T(E.ErrInvalidArgument,"fail to execute, only Text can execute edit");const c=o;this.isUndoOp&&(this.fromPos=c.refinePos(this.fromPos),this.toPos=c.refinePos(this.toPos));const[h,d,y,,m]=c.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),a),b=this.toReverseOperation(m,c.normalizePos(this.fromPos));e.acc(y);for(const A of d)e.registerGCPair(A);return{opInfos:h.map(({from:A,to:w,value:R})=>({type:"edit",from:A,to:w,value:R,path:e.createPath(this.getParentCreatedAt())})),reverseOp:b}}toReverseOperation(e,r){const a=e?.length?e.map(c=>c.getContent()).join(""):"";let o;if(e.length===1){const c=e[0].getAttributes();c&&(o=Array.from(Object.entries(c)))}return ki.create(this.getParentCreatedAt(),r,vt.of(r.getID(),r.getRelativeOffset()+(this.content?.length??0)),a,o?new Map(o):new Map,void 0,!0)}normalizePos(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Yt))throw new T(E.ErrInvalidArgument,"only Text can normalize edit");const a=r,o=a.normalizePos(this.fromPos).getRelativeOffset(),c=a.normalizePos(this.toPos).getRelativeOffset();return[o,c]}reconcileOperation(e,r,a){if(!this.isUndoOp||e>r)return;const o=r-e,c=this.fromPos.getRelativeOffset(),h=this.toPos.getRelativeOffset(),d=(y,m)=>{this.fromPos=vt.of(this.fromPos.getID(),Math.max(0,y)),this.toPos=vt.of(this.toPos.getID(),Math.max(0,m))};if(r<=c){d(c-o+a,h-o+a);return}if(!(h<=e)){if(e<=c&&h<=r&&e!==r){d(e,e);return}if(c<=e&&r<=h&&c!==h){d(c,h-o+a);return}if(e<c&&c<r&&r<h){d(e,e+(h-r));return}if(c<e&&e<h&&h<r){d(c,e);return}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),a=this.toPos.toTestString(),o=this.content;return`${e}.EDIT(${r},${a},${o})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class Fs extends Dn{fromPos;toPos;attributes;constructor(e,r,a,o,c){super(e,c),this.fromPos=r,this.toPos=a,this.attributes=o}static create(e,r,a,o,c){return new Fs(e,r,a,o,c)}execute(e,r,a){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Yt))throw new T(E.ErrInvalidArgument,"fail to execute, only Text can execute edit");const c=o,[h,d,y]=c.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),a);e.acc(d);for(const m of h)e.registerGCPair(m);return{opInfos:y.map(({from:m,to:b,value:A})=>({type:"style",from:m,to:b,value:A,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),a=this.toPos.toTestString(),o=this.attributes;return`${e}.STYL(${r},${a},${JSON.stringify(o)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const yN=2,pN="root",_n="text";function Ns(i,e,r=!1){let a=0;const o=r?i.allChildren:i.children;for(let c=0;c<e;c++){const h=o[c];!h||!r&&h.isRemoved||(a+=h.paddedSize(r))}return a}class bN{type;parent;_children;visibleSize;totalSize;constructor(e,r=[]){if(this.type=e,this.visibleSize=0,this.totalSize=0,this._children=r,this.isText&&this._children.length>0)throw new T(E.ErrRefused,"Text node cannot have children")}updateAncestorsSize(e,r=!1){let a=this.parent;for(;a;){if(r)a.totalSize+=e;else if(a.visibleSize+=e,a.isRemoved)break;a=a.parent}}updateDescendantsSize(e=!1){let r=0;for(const a of this._children){const o=a.updateDescendantsSize(e);!e&&a.isRemoved||(r+=o)}return e?this.totalSize+=r:this.visibleSize+=r,this.paddedSize(e)}get isText(){return this.type===_n}paddedSize(e=!1){let r=this.visibleSize;return e&&(r=this.totalSize),this.isText||(r+=yN),r}isAncestorOf(e){return vN(this,e)}get nextSibling(){const e=this.parent.findOffset(this),r=this.parent.children[e+1];if(r)return r}get prevSibling(){const e=this.parent.findOffset(this),r=this.parent.children[e-1];if(r)return r}splitText(e,r){const a={data:0,meta:0};if(e===0||e===this.visibleSize)return[void 0,a];const o=this.value.slice(0,e),c=this.value.slice(e);if(!c.length)return[void 0,a];const h=this.getDataSize();this.value=o;const d=this.cloneText(e+r);return d.value=c,this.parent.insertAfterInternal(d,this),At(a,this.getDataSize(),d.getDataSize()),pr(a,h),[d,a]}get children(){return this._children.filter(e=>!e.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(e=>e.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(e=>e.value).join(""):""}append(...e){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");this._children.push(...e);for(const r of e)r.parent=this,r.updateAncestorsSize(r.paddedSize()),r.updateAncestorsSize(r.paddedSize(!0),!0)}prepend(...e){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");this._children.unshift(...e);for(const r of e)r.parent=this}insertBefore(e,r){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");const a=this._children.indexOf(r);if(a===-1)throw new T(E.ErrInvalidArgument,"child not found");this.insertAtInternal(e,a),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAfter(e,r){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");const a=this._children.indexOf(r);if(a===-1)throw new T(E.ErrInvalidArgument,"child not found");this.insertAtInternal(e,a+1),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAt(e,r){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");this.insertAtInternal(e,r),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}removeChild(e){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(e);if(r===-1)throw new T(E.ErrInvalidArgument,"child not found");this._children.splice(r,1),e.updateAncestorsSize(-e.paddedSize(!0),!0),e.parent=void 0}splitElement(e,r){const a={data:0,meta:0},o=this.getDataSize(),c=this.cloneElement(r);this.parent.insertAfterInternal(c,this),c.updateAncestorsSize(c.paddedSize()),c.updateAncestorsSize(c.paddedSize(!0),!0);const h=this.children.slice(0,e),d=this.children.slice(e);this._children=h,c._children=d,this.visibleSize=this._children.reduce((y,m)=>y+m.paddedSize(),0),this.totalSize=this._children.reduce((y,m)=>y+m.paddedSize(!0),0),c.visibleSize=c._children.reduce((y,m)=>y+m.paddedSize(!0),0),c.totalSize=c._children.reduce((y,m)=>y+m.paddedSize(!0),0);for(const y of c._children)y.parent=c;return At(a,this.getDataSize(),c.getDataSize()),pr(a,o),[c,a]}insertAfterInternal(e,r){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");const a=this._children.indexOf(r);if(a===-1)throw new T(E.ErrInvalidArgument,"child not found");this.insertAtInternal(e,a+1)}insertAtInternal(e,r){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");this._children.splice(r,0,e),e.parent=this}findOffset(e,r=!1){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");if(r)return this._children.indexOf(e);if(e.isRemoved){const a=this._children.indexOf(e);return this.allChildren.splice(0,a).filter(c=>!c.isRemoved).length}return this.children.indexOf(e)}findBranchOffset(e){if(this.isText)throw new T(E.ErrRefused,"Text node cannot have children");let r=e;for(;r;){const a=this._children.indexOf(r);if(a!==-1)return a;r=r.parent}return-1}}function vN(i,e){if(i===e)return!1;for(;e.parent;){if(e.parent===i)return!0;e=e.parent}return!1}var tt=(i=>(i.Start="Start",i.End="End",i.Text="Text",i))(tt||{});function Cb(i,e,r,a,o=!1){if(e>r)throw new T(E.ErrInvalidArgument,`from is greater than to: ${e} > ${r}`);const c=o?i.totalSize:i.visibleSize;if(e>c)throw new T(E.ErrInvalidArgument,`from is out of range: ${e} > ${c}`);if(r>c)throw new T(E.ErrInvalidArgument,`to is out of range: ${r} > ${c}`);if(e===r)return;let h=0;const d=o?i._children:i.children;for(const y of d){if(e-y.paddedSize(o)<h&&h<r){const m=y.isText?e-h:e-h-1,b=y.isText?r-h:r-h-1,A=o?y.totalSize:y.visibleSize,w=!y.isText&&m<0,R=!y.isText&&b>A;(y.isText||w)&&a([y,y.isText?"Text":"Start"],R),Cb(y,Math.max(0,m),Math.min(b,A),a,o),R&&a([y,"End"],R)}h+=y.paddedSize(o)}}function Ib(i,e,r=0){for(const a of i.children)Ib(a,e,r+1);e(i,r)}function Go(i,e,r=0){for(const a of i._children)Go(a,e,r+1);e(i,r)}function _f(i,e,r=!0){if(e>i.visibleSize)throw new T(E.ErrInvalidArgument,`index is out of range: ${e} > ${i.visibleSize}`);if(i.isText)return{node:i,offset:e};let a=0,o=0;for(const c of i.children){if(r&&c.isText&&c.visibleSize>=e-o)return _f(c,e-o,r);if(e===o)return{node:i,offset:a};if(!r&&c.paddedSize()===e-o)return{node:i,offset:a+1};if(c.paddedSize()>e-o)return _f(c,e-o-1,r);o+=c.paddedSize(),a+=1}return{node:i,offset:a}}function wb(i){return i.isText||i.children.length===0?i:wb(i.children[0])}function AN(i,e){if(i.visibleSize<e)throw new T(E.ErrInvalidArgument,"unacceptable path");for(let r=0;r<i.children.length;r++){const a=i.children[r];if(a.visibleSize<e)e-=a.visibleSize;else{i=a;break}}return{node:i,offset:e}}class SN{root;constructor(e){this.root=e}tokensBetween(e,r,a,o=!1){Cb(this.root,e,r,a,o)}traverse(e){Ib(this.root,e,0)}traverseAll(e){Go(this.root,e,0)}findTreePos(e,r=!0){return _f(this.root,e,r)}treePosToPath(e){const r=[];let a=e.node;if(a.isText){const o=a.parent.findOffset(a);if(o===-1)throw new T(E.ErrInvalidArgument,"invalid treePos");const c=Ns(a.parent,o);r.push(c+e.offset),a=a.parent}else if(a.hasTextChild()){const o=Ns(a,e.offset);r.push(o)}else r.push(e.offset);for(;a.parent;){const o=a.parent.findOffset(a);if(o===-1)throw new T(E.ErrInvalidArgument,"invalid treePos");r.push(o),a=a.parent}return r.reverse()}pathToIndex(e){const r=this.pathToTreePos(e);return this.indexOf(r)}pathToTreePos(e){if(!e.length)throw new T(E.ErrInvalidArgument,"unacceptable path");let r=this.root;for(let a=0;a<e.length-1;a++){const o=e[a];if(r=r.children[o],!r)throw new T(E.ErrInvalidArgument,"unacceptable path")}if(r.hasTextChild())return AN(r,e[e.length-1]);if(r.children.length<e[e.length-1])throw new T(E.ErrInvalidArgument,"unacceptable path");return{node:r,offset:e[e.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(e){const{node:r,offset:a}=e;if(r.isText){if(r.visibleSize===a){const o=r.nextSibling;return o||r.parent}return r}return r.children.length===a?r:wb(r.children[a])}indexOf(e,r=!1){let{node:a}=e;const{offset:o}=e;let c=0,h=1;if(a.isText){c+=o;const d=a.parent,y=d.findOffset(a,r);if(y===-1)throw new T(E.ErrInvalidArgument,"invalid pos");c+=Ns(d,y,r),a=a.parent}else c+=Ns(a,o,r);for(;a?.parent;){const d=a.parent,y=d.findOffset(a,r);if(y===-1)throw new T(E.ErrInvalidArgument,"invalid pos");c+=Ns(d,y,r),h++,a=a.parent}return c+h-1}indexToPath(e){const r=this.findTreePos(e);return this.treePosToPath(r)}}class wn{parentID;leftSiblingID;constructor(e,r){this.parentID=e,this.leftSiblingID=r}static of(e,r){return new wn(e,r)}static fromTreePos(e){const{offset:r}=e;let{node:a}=e,o;return a.isText?(a.parent.children[0]===a&&r===0?o=a.parent:o=a,a=a.parent):r===0?o=a:o=a.children[r-1],wn.of(a.id,St.of(o.getCreatedAt(),o.getOffset()+r))}getParentID(){return this.parentID}static fromStruct(e){return wn.of(St.of(dn.fromStruct(e.parentID.createdAt),e.parentID.offset),St.of(dn.fromStruct(e.leftSiblingID.createdAt),e.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(e){const r=this.getParentID(),a=this.getLeftSiblingID(),o=e.findFloorNode(r);let c=e.findFloorNode(a);if(!o||!c)throw new T(E.ErrRefused,`cannot find node of CRDTTreePos(${r.toTestString()}, ${a.toTestString()})`);return!a.equals(r)&&a.getOffset()>0&&a.getOffset()===c.id.getOffset()&&c.insPrevID&&(c=e.findFloorNode(c.insPrevID)),[o,c]}getLeftSiblingID(){return this.leftSiblingID}equals(e){return this.getParentID().getCreatedAt().equals(e.getParentID().getCreatedAt())&&this.getParentID().getOffset()===e.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(e.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===e.getLeftSiblingID().getOffset()}}class St{createdAt;offset;constructor(e,r){this.createdAt=e,this.offset=r}static of(e,r){return new St(e,r)}static fromStruct(e){return St.of(dn.fromStruct(e.createdAt),e.offset)}static createComparator(){return(e,r)=>{const a=e.getCreatedAt().compare(r.getCreatedAt());return a!==0?a:e.getOffset()>r.getOffset()?1:e.getOffset()<r.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}getOffset(){return this.offset}setOffset(e){this.offset=e}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Pt extends bN{id;removedAt;attrs;insPrevID;insNextID;_value="";constructor(e,r,a,o,c){super(r),this.id=e,this.removedAt=c,o&&(this.attrs=o),typeof a=="string"?this.value=a:Array.isArray(a)&&(this._children=a)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,r,a,o){return new Pt(e,r,a,o)}deepcopy(){const e=new Pt(this.id,this.type);return e.removedAt=this.removedAt,e._value=this._value,e.visibleSize=this.visibleSize,e.totalSize=this.totalSize,e.attrs=this.attrs?.deepcopy(),e._children=this._children.map(r=>{const a=r.deepcopy();return a.parent=e,a}),e.insPrevID=this.insPrevID,e.insNextID=this.insNextID,e}get value(){if(!this.isText)throw new T(E.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new T(E.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=e,this.visibleSize=e.length,this.totalSize=e.length}get isRemoved(){return!!this.removedAt}remove(e){return this.removedAt?(e.after(this.removedAt)&&(this.removedAt=e),!1):(this.removedAt=e,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(e){return new Pt(St.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new Pt(St.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,r,a){const[o,c]=this.isText?this.splitText(r,this.id.getOffset()):this.splitElement(r,a);if(o){if(o.insPrevID=this.id,this.insNextID){const h=e.findFloorNode(this.insNextID);h.insPrevID=o.id,o.insNextID=this.insNextID}this.insNextID=o.id,e.registerNode(o)}return[o,c]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,r,a){return r?!!(!this.removedAt||!a&&e?.after(this.removedAt)):!1}canStyle(e,r){return this.isText?!1:this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,r){this.attrs||(this.attrs=new ci);const a=[];for(const[o,c]of Object.entries(e))a.push(this.attrs.set(o,c,r));return a}purge(e){this.attrs&&this.attrs.purge(e)}getDataSize(){const e={data:0,meta:0};if(this.isText&&(e.data+=this.visibleSize*2),this.id&&(e.meta+=Ln),this.removedAt&&(e.meta+=Ln),this.attrs)for(const r of this.attrs){if(r.getRemovedAt())continue;const a=r.getDataSize();e.meta+=a.meta,e.data+=a.data}return e}getGCPairs(){const e=[];if(!this.attrs)return e;for(const r of this.attrs)r.getRemovedAt()&&e.push({parent:this,child:r});return e}}function Zf(i){if(i.isText){const r=i;return{type:r.type,value:r.value}}const e={type:i.type,children:i.children.map(Zf)};return i.attrs&&(e.attributes=oi(i.attrs?.toObject())),e}function vh(i){if(i.isText)return i.value;let e="";return i.attrs&&i.attrs.size()&&(e=" "+Array.from(i.attrs).filter(r=>!r.isRemoved()).sort((r,a)=>r.getKey().localeCompare(a.getKey())).map(r=>{const a=JSON.parse(r.getValue());return typeof a=="string"?`${r.getKey()}="${a}"`:`${r.getKey()}="${Bn(r.getValue())}"`}).join(" ")),`<${i.type}${e}>${i.children.map(r=>vh(r)).join("")}</${i.type}>`}function Db(i){if(i.isText){const e=i;return{type:e.type,value:e.value,visibleSize:e.visibleSize,isRemoved:e.isRemoved}}return{type:i.type,children:i.children.map(Db),visibleSize:i.visibleSize,isRemoved:i.isRemoved}}class qt extends js{indexTree;nodeMapByID;constructor(e,r){super(r),this.indexTree=new SN(e),this.nodeMapByID=new Tb(St.createComparator()),this.indexTree.traverseAll(a=>{this.nodeMapByID.put(a.id,a)})}static create(e,r){return new qt(e,r)}findFloorNode(e){const r=this.nodeMapByID.floorEntry(e);if(!(!r||!r.key.getCreatedAt().equals(e.getCreatedAt())))return r.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,r){let a={data:0,meta:0};const[o,c]=e.toTreeNodePair(this);let h=c;const d=o===h,y=h.parent&&!d?h.parent:o;if(h.isText){const[,m]=h.split(this,e.getLeftSiblingID().getOffset()-h.id.getOffset());a=m}if(r){const m=y.allChildren,b=d?0:m.indexOf(h)+1;for(let A=b;A<m.length;A++){const w=m[A];if(!w.id.getCreatedAt().after(r))break;h=w}}return[[y,h],a]}style(e,r,a,o){const c={data:0,meta:0},[[h,d],y]=this.findNodesAndSplitText(e[0],a),[[m,b],A]=this.findNodesAndSplitText(e[1],a);At(c,A,y);const w=[],R=r?oi(r):{},C=[];return this.traverseInPosRange(h,d,m,b,([V,Y])=>{const H=V.getCreatedAt().getActorID();let ne=Lf;if(o!=null&&(ne=o.get(H)?o.get(H):0n),V.canStyle(a,ne)&&r){const K=V.setAttrs(r,a),ee=K.reduce((W,[,re])=>(re&&(W[re.getKey()]=R[re.getKey()]),W),{}),J=V.parent,X=V.prevSibling||V.parent;Object.keys(ee).length>0&&w.push({type:"style",from:this.toIndex(J,X),to:this.toIndex(V,V),fromPath:this.toPath(J,X),toPath:this.toPath(V,V),actor:a.getActorID(),value:ee});for(const[W]of K)W&&C.push({parent:V,child:W});for(const[W]of Object.entries(R)){const re=V.attrs?.getNodeMapByKey().get(W);re!==void 0&&Y!==tt.End&&At(c,re.getDataSize())}}}),[C,w,c]}removeStyle(e,r,a,o){const c={data:0,meta:0},[[h,d],y]=this.findNodesAndSplitText(e[0],a),[[m,b],A]=this.findNodesAndSplitText(e[1],a);At(c,A,y);const w=[],R=[];return this.traverseInPosRange(h,d,m,b,([C])=>{const V=C.getCreatedAt().getActorID();let Y=Lf;if(o!=null&&(Y=o.get(V)?o.get(V):0n),C.canStyle(a,Y)&&r){C.attrs||(C.attrs=new ci);for(const K of r){const ee=C.attrs.remove(K,a);for(const J of ee)R.push({parent:C,child:J})}const H=C.parent,ne=C.prevSibling||C.parent;w.push({actor:a.getActorID(),type:"removeStyle",from:this.toIndex(H,ne),to:this.toIndex(C,C),fromPath:this.toPath(H,ne),toPath:this.toPath(C,C),value:r})}}),[R,w,c]}edit(e,r,a,o,c,h){const d={data:0,meta:0},[[y,m],b]=this.findNodesAndSplitText(e[0],o),[[A,w],R]=this.findNodesAndSplitText(e[1],o);At(d,R,b);const C=this.toIndex(y,m),V=this.toPath(y,m),Y=[],H=[],ne=[];this.traverseInPosRange(y,m,A,w,([J,X],W)=>{if(X===tt.Start&&!W)for(const Ge of J.children)ne.push(Ge);const re=h===void 0;let Je=!1;const dt=h?.get(J.id.getCreatedAt().getActorID());Je=re||dt!==void 0&&dt>=J.id.getCreatedAt().getLamport();let ot=!1;if(J.removedAt){const Ge=h?.get(J.removedAt.getActorID());ot=re||Ge!==void 0&&Ge>=J.removedAt.getLamport()}(J.canDelete(o,Je,ot)||Y.includes(J.parent))&&((X===tt.Text||X===tt.Start)&&Y.push(J),H.push([J,X]))},!0);const K=this.makeDeletionChanges(H,o),ee=[];for(const J of Y)J.remove(o),J.isRemoved&&ee.push({parent:this,child:J});for(const J of ne)J.removedAt||y.append(J);if(a>0){let J=0,X=y,W=m;for(;J<a;)X.split(this,X.findOffset(W)+1,c),W=X,X=X.parent,J++;K.push({type:"content",from:C,to:C,fromPath:V,toPath:V,actor:o.getActorID()})}if(r?.length){const J=[];let X=m;for(const W of r)X===y?y.insertAt(W,0):y.insertAfter(W,X),X=W,Go(W,re=>{y.isRemoved?(re.remove(o),ee.push({parent:this,child:re})):At(d,re.getDataSize()),this.nodeMapByID.put(re.id,re)}),W.isRemoved||J.push(W);if(J.length){const W=J.map(re=>Zf(re));K.length&&K[K.length-1].from===C?K[K.length-1].value=W:K.push({type:"content",from:C,to:C,fromPath:V,toPath:V,actor:o.getActorID(),value:W})}}return[K,ee,d]}editT(e,r,a,o,c){const h=this.findPos(e[0]),d=this.findPos(e[1]);return this.edit([h,d],r,a,o,c)}move(e,r,a){throw new T(E.ErrUnimplemented,`not implemented: ${e}, ${r}, ${a}`)}pathToTreePos(e){return this.indexTree.pathToTreePos(e)}purge(e){e.parent?.removeChild(e),this.nodeMapByID.remove(e.id);const r=e.insPrevID,a=e.insNextID;if(r){const o=this.findFloorNode(r);o.insNextID=a}if(a){const o=this.findFloorNode(a);o.insPrevID=r}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(r=>{r.getRemovedAt()&&e.push({parent:this,child:r});for(const a of r.getGCPairs())e.push(a)}),e}findPos(e,r=!0){const a=this.indexTree.findTreePos(e,r);return wn.fromTreePos(a)}pathToPosRange(e){const r=this.pathToIndex(e);return[this.findPos(r),this.findPos(r+1)]}pathToPos(e){const r=this.indexTree.pathToIndex(e);return this.findPos(r)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return vh(this.indexTree.getRoot())}getDataSize(){const e={data:0,meta:0};return this.indexTree.traverse(r=>{if(r.getRemovedAt())return;const a=r.getDataSize();e.data+=a.data,e.meta+=a.meta}),{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),r=(a,o=void 0,c=void 0,h=0)=>{let d,y,m;const b=a.isText?{node:a,offset:0}:o&&c?this.toTreePos(o,c):null;b&&(d=this.indexTree.indexOf(b),y=this.indexTree.treePosToPath(b),m=wn.fromTreePos(b).toStruct());const A={type:a.type,parent:o?.id.toTestString(),size:a.visibleSize,id:a.id.toTestString(),removedAt:a.removedAt?.toTestString(),insPrev:a.insPrevID?.toTestString(),insNext:a.insNextID?.toTestString(),value:a.isText?a.value:void 0,isRemoved:a.isRemoved,children:[],depth:h,attributes:a.attrs?oi(a.attrs?.toObject()):void 0,index:d,path:y,pos:m};for(let w=0;w<a.allChildren.length;w++){const R=w===0?a:a.allChildren[w-1];A.children.push(r(a.allChildren[w],a,R,h+1))}return A};return r(e)}getRootTreeNode(){return Zf(this.indexTree.getRoot())}toTestTreeNode(){return Db(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot(),r=new qt(e.deepcopy(),this.getCreatedAt());return r.setRemovedAt(this.getRemovedAt()),r.setMovedAt(this.getMovedAt()),r}toPath(e,r){const a=this.toTreePos(e,r);return a?this.indexTree.treePosToPath(a):[]}toIndex(e,r,a=!1){const o=this.toTreePos(e,r,a);return o?this.indexTree.indexOf(o,a):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const r=this.findPos(e[0]);return e[0]===e[1]?[r,r]:[r,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[r,a]=e,o=this.findPos(r);return r===a?[o.toStruct(),o.toStruct()]:[o.toStruct(),this.findPos(a).toStruct()]}posRangeToPathRange(e){const[[r,a]]=this.findNodesAndSplitText(e[0]),[[o,c]]=this.findNodesAndSplitText(e[1]);return[this.toPath(r,a),this.toPath(o,c)]}posRangeToIndexRange(e){const[[r,a]]=this.findNodesAndSplitText(e[0]),[[o,c]]=this.findNodesAndSplitText(e[1]);return[this.toIndex(r,a),this.toIndex(o,c)]}traverseInPosRange(e,r,a,o,c,h=!1){const d=this.toIndex(e,r,h),y=this.toIndex(a,o,h);this.indexTree.tokensBetween(d,y,c,h)}toTreePos(e,r,a=!1){if(!e||!r)return;if(!a&&e.isRemoved){let c;for(;e.isRemoved;)c=e,e=c.parent;const h=e.findOffset(c,a);return{node:e,offset:h}}if(e===r)return{node:e,offset:0};let o=e.findOffset(r,a);if(a||!r.isRemoved){if(r.isText)return{node:r,offset:r.paddedSize(a)};o++}return{node:e,offset:o}}makeDeletionChanges(e,r){const a=[],o=[];let c=null,h=null;for(let d=0;d<e.length;d++){const y=e[d],m=e[d+1];c||(c=y),h=y;const b=this.findRightToken(y);(!b||!m||b[0]!==m[0]||b[1]!==m[1])&&(o.push([c,h]),c=null,h=null)}for(const d of o){const[y,m]=d,[b,A]=this.findLeftToken(y),[w,R]=m,C=A===tt.Start?b:b.parent,V=R===tt.Start?w:w.parent,Y=this.toIndex(C,b),H=this.toIndex(V,w);Y<H&&(a.length>0&&Y===a[a.length-1].to?(a[a.length-1].to=H,a[a.length-1].toPath=this.toPath(V,w)):a.push({type:"content",from:Y,to:H,fromPath:this.toPath(C,b),toPath:this.toPath(V,w),actor:r.getActorID()}))}return a.reverse()}findRightToken([e,r]){if(r===tt.Start){const d=e.allChildren;return d.length>0?[d[0],d[0].isText?tt.Text:tt.Start]:[e,tt.End]}const a=e.parent,o=a.allChildren,c=o.indexOf(e);if(a&&c===o.length-1)return[a,tt.End];const h=o[c+1];return[h,h.isText?tt.Text:tt.Start]}findLeftToken([e,r]){if(r===tt.End){const d=e.allChildren;if(d.length>0){const y=d[d.length-1];return[y,y.isText?tt.Text:tt.End]}return[e,tt.Start]}const a=e.parent,o=a.allChildren,c=o.indexOf(e);if(a&&c===0)return[a,tt.Start];const h=o[c-1];return[h,h.isText?tt.Text:tt.End]}}class Hs extends Dn{fromPos;toPos;contents;splitLevel;constructor(e,r,a,o,c,h){super(e,h),this.fromPos=r,this.toPos=a,this.contents=o,this.splitLevel=c}static create(e,r,a,o,c,h){return new Hs(e,r,a,o,c,h)}execute(e,r,a){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof qt))throw new T(E.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const c=this.getExecutedAt(),h=o,[d,y,m]=h.edit([this.fromPos,this.toPos],this.contents?.map(b=>b.deepcopy()),this.splitLevel,c,(()=>{let b=c.getDelimiter();return this.contents!==void 0&&(b+=this.contents.length),()=>dn.of(c.getLamport(),++b,c.getActorID())})(),a);e.acc(m);for(const b of y)e.registerGCPair(b);return{opInfos:d.map(({from:b,to:A,value:w,splitLevel:R,fromPath:C,toPath:V})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:b,to:A,value:w,splitLevel:R,fromPath:C,toPath:V}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,a=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,o=this.contents||[];return`${e}.EDIT(${r},${a},${o.map(c=>vh(c)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class da{vector;constructor(e){this.vector=e||new Map}set(e,r){this.vector.set(e,r)}unset(e){this.vector.delete(e)}get(e){return this.vector.get(e)}has(e){return this.vector.has(e)}maxLamport(){let e=BigInt(0);for(const[,r]of this)r>e&&(e=r);return e}max(e){const r=new Map;for(const[a,o]of e){const c=this.vector.get(a),h=c&&c>o?c:o;r.set(a,h)}for(const[a,o]of this){const c=e.get(a),h=c&&c>o?c:o;r.set(a,h)}return new da(r)}afterOrEqual(e){const r=this.vector.get(e.getActorID());return r===void 0?!1:r>=e.getLamport()}deepcopy(){const e=new Map;for(const[r,a]of this.vector)e.set(r,a);return new da(e)}filter(e){const r=new Map;for(const[a]of e){const o=this.vector.get(a);o!==void 0&&r.set(a,o)}return new da(r)}size(){return this.vector.size}*[Symbol.iterator](){for(const[e,r]of this.vector)yield[e,r]}}const xb=new da(new Map);class Tn{clientSeq;serverSeq;actor;lamport;versionVector;constructor(e,r,a,o,c){this.clientSeq=e,this.serverSeq=c,this.lamport=r,this.versionVector=o,this.actor=a}hasClocks(){return this.versionVector.size()>0&&this.lamport!=Bf}static of(e,r,a,o,c){return new Tn(e,r,a,o,c)}next(e=!1){if(e)return new Tn(this.clientSeq+1,this.lamport,this.actor,xb,Bf);const r=this.versionVector.deepcopy();return r.set(this.actor,this.lamport+1n),new Tn(this.clientSeq+1,this.lamport+1n,this.actor,r)}syncClocks(e){if(!e.hasClocks())return this;const r=e.lamport>this.lamport?e.lamport+1n:this.lamport+1n,a=this.versionVector.max(e.versionVector),o=new Tn(this.clientSeq,r,this.actor,a);return o.versionVector.set(this.actor,r),o}setClocks(e,r){const a=e>this.lamport?e+1n:this.lamport+1n,o=this.versionVector.max(r);return o.set(this.actor,a),Tn.of(this.clientSeq,a,this.actor,o)}createTimeTicket(e){return dn.of(this.lamport,e,this.actor)}setActor(e){return new Tn(this.clientSeq,this.lamport,e,this.versionVector,this.serverSeq)}setLamport(e){return new Tn(this.clientSeq,e,this.actor,this.versionVector,this.serverSeq)}setVersionVector(e){return new Tn(this.clientSeq,this.lamport,this.actor,e,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const EN=new Tn(0,0n,ph,xb);class Ra{id;operations;presenceChange;message;constructor({id:e,operations:r,presenceChange:a,message:o}){this.id=e,this.operations=r||[],this.presenceChange=a,this.message=o}static create({id:e,operations:r,presenceChange:a,message:o}){return new Ra({id:e,operations:r,presenceChange:a,message:o})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(e){for(const r of this.operations)r.setActor(e);this.id=this.id.setActor(e)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(e,r,a){const o=[],c=[],h=[];for(const d of this.operations){const y=d.execute(e,a,this.id.getVersionVector());if(!y)continue;const{opInfos:m,reverseOp:b}=y;o.push(...m),c.push(d),b&&h.unshift(b)}return this.presenceChange&&(this.presenceChange.type===Zn.Put?r.set(this.id.getActorID(),Nn(this.presenceChange.presence)):r.delete(this.id.getActorID())),{operations:c,opInfos:o,reverseOps:h}}toTestString(){return`${this.operations.map(e=>e.toTestString()).join(",")}`}toStruct(){return{changeID:Xe.bytesToHex(Xe.changeIDToBinary(this.getID())),message:this.getMessage(),operations:this.getOperations().map(e=>Xe.bytesToHex(Xe.operationToBinary(e))),presenceChange:this.getPresenceChange()}}static fromStruct(e){const{changeID:r,operations:a,presenceChange:o,message:c}=e;return Ra.create({id:Xe.bytesToChangeID(Xe.hexToBytes(r)),operations:a?.map(h=>Xe.bytesToOperation(Xe.hexToBytes(h))),presenceChange:o,message:c})}}class Wo{documentKey;checkpoint;isRemoved;changes;snapshot;versionVector;constructor(e,r,a,o,c,h){this.documentKey=e,this.checkpoint=r,this.isRemoved=a,this.changes=o,this.snapshot=h,this.versionVector=c}static create(e,r,a,o,c,h){return new Wo(e,r,a,o,c,h)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class ga{serverSeq;clientSeq;constructor(e,r){this.serverSeq=e,this.clientSeq=r}static of(e,r){return new ga(e,r)}increaseClientSeq(e){return e===0?this:new ga(this.serverSeq,this.clientSeq+e)}forward(e){if(this.equals(e))return this;const r=this.serverSeq>e.serverSeq?this.serverSeq:e.serverSeq,a=Math.max(this.clientSeq,e.clientSeq);return ga.of(r,a)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(e){return this.clientSeq===e.clientSeq&&this.serverSeq==e.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const NN=new ga(0n,0),r0=i=>i<0?Math.ceil(i):Math.floor(i);var Yn=(i=>(i[i.Int=0]="Int",i[i.Long=1]="Long",i))(Yn||{});class zt extends js{valueType;value;constructor(e,r,a){switch(super(a),this.valueType=e,e){case 0:typeof r=="number"?r>Math.pow(2,31)-1||r<-Math.pow(2,31)?this.value=Se.fromNumber(r).toInt():this.value=r0(r):this.value=r.toInt();break;case 1:typeof r=="number"?this.value=Se.fromNumber(r):this.value=r;break;default:throw new T(E.ErrUnimplemented,`unimplemented type: ${e}`)}}static create(e,r,a){return new zt(e,r,a)}static valueFromBytes(e,r){switch(e){case 0:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 1:return Se.fromBytesLE(Array.from(r));default:throw new T(E.ErrUnimplemented,`unimplemented type: ${e}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=zt.create(this.valueType,this.value,this.getCreatedAt());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof Se?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!zt.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const r=this.value.toBytesLE();return Uint8Array.from(r)}default:throw new T(E.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function r(a){if(!a.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof a.getValue()}`)}return r(this),r(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===Ye.Long?this.value=this.value+e.getValue().toInt():this.value=Se.fromNumber(this.value+r0(e.getValue())).toInt(),this}}class Ca extends Dn{value;constructor(e,r,a){super(e,a),this.value=r}static create(e,r,a){return new Ca(e,r,a)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof zt))throw new T(E.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const a=r,o=this.value.deepcopy();return a.increase(o),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:o.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),a=e.getType()===Ye.Long?e.getValue().multiply(-1):e.getValue()*-1;return Ca.create(this.getParentCreatedAt(),He.of(a,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class ui extends Dn{fromPos;toPos;attributes;attributesToRemove;constructor(e,r,a,o,c,h){super(e,h),this.fromPos=r,this.toPos=a,this.attributes=o,this.attributesToRemove=c}static create(e,r,a,o,c){return new ui(e,r,a,o,[],c)}static createTreeRemoveStyleOperation(e,r,a,o,c){return new ui(e,r,a,new Map,o,c)}execute(e,r,a){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof qt))throw new T(E.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const c=o;let h,d,y={data:0,meta:0};if(this.attributes.size){const m={};[...this.attributes].forEach(([b,A])=>m[b]=A),[d,h,y]=c.style([this.fromPos,this.toPos],m,this.getExecutedAt(),a)}else{const m=this.attributesToRemove;[d,h,y]=c.removeStyle([this.fromPos,this.toPos],m,this.getExecutedAt(),a)}e.acc(y);for(const m of d)e.registerGCPair(m);return{opInfos:h.map(({from:m,to:b,value:A,fromPath:w,toPath:R})=>({type:"tree-style",from:m,to:b,value:this.attributes.size?{attributes:A}:{attributesToRemove:A},fromPath:w,toPath:R,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,a=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${r},${a},${Object.entries(this.attributes||{}).map(([o,c])=>`${o}:"${c}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class fi extends Dn{createdAt;value;constructor(e,r,a,o){super(e,o),this.createdAt=r,this.value=a}static create(e,r,a,o){return new fi(e,r,a,o)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new T(E.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Tt))throw new T(E.ErrInvalidArgument,"fail to execute, only array can execute set");const a=r.getByID(this.createdAt).deepcopy(),o=this.toReverseOperation(this.value,a),c=this.value.deepcopy();return r.insertAfter(this.createdAt,c,this.getExecutedAt()),r.delete(this.createdAt,this.getExecutedAt()),e.registerElement(c),{opInfos:[{type:"array-set",path:e.createPath(this.getParentCreatedAt())}],reverseOp:o}}toReverseOperation(e,r){return fi.create(this.getParentCreatedAt(),e.getCreatedAt(),r)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(e){this.createdAt=e}}function TN(i){const e={};for(const[r,a]of Object.entries(i))e[r]=JSON.stringify(a);return te(nN,{data:e})}function RN(i){if(i.type===Zn.Put)return te(Qp,{type:zs.PUT,presence:TN(i.presence)});if(i.type===Zn.Clear)return te(Qp,{type:zs.CLEAR});throw new T(E.ErrUnimplemented,"unimplemented type")}function CN(i){return te(iN,{serverSeq:i.getServerSeq(),clientSeq:i.getClientSeq()})}function zf(i){return te(gh,{clientSeq:i.getClientSeq(),lamport:i.getLamport(),actorId:Xo(i.getActorID()),versionVector:Ah(i.getVersionVector())})}function ie(i){if(i)return te(aN,{lamport:i.getLamport(),delimiter:i.getDelimiter(),actorId:Xo(i.getActorID())})}function Ah(i){if(!i)return;const e=te(mh);for(const[r,a]of i){const o=uT(Xo(r));e.vector[o]=BigInt(a.toString())}return e}function Ob(i){switch(i){case Ye.Null:return me.NULL;case Ye.Boolean:return me.BOOLEAN;case Ye.Integer:return me.INTEGER;case Ye.Long:return me.LONG;case Ye.Double:return me.DOUBLE;case Ye.String:return me.STRING;case Ye.Bytes:return me.BYTES;case Ye.Date:return me.DATE;default:throw new T(E.ErrInvalidType,`unsupported type: ${i}`)}}function Vb(i){switch(i){case Yn.Int:return me.INTEGER_CNT;case Yn.Long:return me.LONG_CNT;default:throw new T(E.ErrInvalidType,`unsupported type: ${i}`)}}function po(i){if(i instanceof Nt)return te(sa,{type:me.JSON_OBJECT,createdAt:ie(i.getCreatedAt()),value:Xb(i)});if(i instanceof Tt)return te(sa,{type:me.JSON_ARRAY,createdAt:ie(i.getCreatedAt()),value:aT(i)});if(i instanceof Yt)return te(sa,{type:me.TEXT,createdAt:ie(i.getCreatedAt())});if(i instanceof He)return te(sa,{type:Ob(i.getType()),createdAt:ie(i.getCreatedAt()),value:i.toBytes()});if(i instanceof zt)return te(sa,{type:Vb(i.getType()),createdAt:ie(i.getCreatedAt()),value:i.toBytes()});if(i instanceof qt)return te(sa,{type:me.TREE,createdAt:ie(i.getCreatedAt()),value:lT(i)});throw new T(E.ErrUnimplemented,"unimplemented element")}function IN(i){return te($2,{createdAt:ie(i.getCreatedAt()),offset:i.getOffset()})}function bo(i){return te(rN,{createdAt:ie(i.getID().getCreatedAt()),offset:i.getID().getOffset(),relativeOffset:i.getRelativeOffset()})}function vo(i){return te(tN,{parentId:Ds(i.getParentID()),leftSiblingId:Ds(i.getLeftSiblingID())})}function Ds(i){return te(eN,{createdAt:ie(i.getCreatedAt()),offset:i.getOffset()})}function Yf(i){const e=te(yh);if(i instanceof vr){const r=i,a=te(V2);a.parentCreatedAt=ie(r.getParentCreatedAt()),a.key=r.getKey(),a.value=po(r.getValue()),a.executedAt=ie(r.getExecutedAt()),e.body.case="set",e.body.value=a}else if(i instanceof ji){const r=i,a=te(U2);a.parentCreatedAt=ie(r.getParentCreatedAt()),a.prevCreatedAt=ie(r.getPrevCreatedAt()),a.value=po(r.getValue()),a.executedAt=ie(r.getExecutedAt()),e.body.case="add",e.body.value=a}else if(i instanceof In){const r=i,a=te(B2);a.parentCreatedAt=ie(r.getParentCreatedAt()),a.prevCreatedAt=ie(r.getPrevCreatedAt()),a.createdAt=ie(r.getCreatedAt()),a.executedAt=ie(r.getExecutedAt()),e.body.case="move",e.body.value=a}else if(i instanceof zn){const r=i,a=te(L2);a.parentCreatedAt=ie(r.getParentCreatedAt()),a.createdAt=ie(r.getCreatedAt()),a.executedAt=ie(r.getExecutedAt()),e.body.case="remove",e.body.value=a}else if(i instanceof ki){const r=i,a=te(M2);a.parentCreatedAt=ie(r.getParentCreatedAt()),a.from=bo(r.getFromPos()),a.to=bo(r.getToPos()),a.content=r.getContent();const o=a.attributes;for(const[c,h]of r.getAttributes())o[c]=h;a.executedAt=ie(r.getExecutedAt()),e.body.case="edit",e.body.value=a}else if(i instanceof Fs){const r=i,a=te(_2);a.parentCreatedAt=ie(r.getParentCreatedAt()),a.from=bo(r.getFromPos()),a.to=bo(r.getToPos());const o=a.attributes;for(const[c,h]of r.getAttributes())o[c]=h;a.executedAt=ie(r.getExecutedAt()),e.body.case="style",e.body.value=a}else if(i instanceof Ca){const r=i,a=te(Z2);a.parentCreatedAt=ie(r.getParentCreatedAt()),a.value=po(r.getValue()),a.executedAt=ie(r.getExecutedAt()),e.body.case="increase",e.body.value=a}else if(i instanceof Hs){const r=i,a=te(z2);a.parentCreatedAt=ie(r.getParentCreatedAt()),a.from=vo(r.getFromPos()),a.to=vo(r.getToPos()),a.contents=BN(r.getContents()),a.splitLevel=r.getSplitLevel(),a.executedAt=ie(r.getExecutedAt()),e.body.case="treeEdit",e.body.value=a}else if(i instanceof ui){const r=i,a=te(Y2);a.parentCreatedAt=ie(r.getParentCreatedAt()),a.from=vo(r.getFromPos()),a.to=vo(r.getToPos());const o=r.getAttributesToRemove();if(o.length>0)a.attributesToRemove=o;else{const c=a.attributes;for(const[h,d]of r.getAttributes())c[h]=d}a.executedAt=ie(r.getExecutedAt()),e.body.case="treeStyle",e.body.value=a}else if(i instanceof fi){const r=i,a=te(G2);a.parentCreatedAt=ie(r.getParentCreatedAt()),a.createdAt=ie(r.getCreatedAt()),a.value=po(r.getValue()),a.executedAt=ie(r.getExecutedAt()),e.body.case="arraySet",e.body.value=a}else throw new T(E.ErrUnimplemented,"unimplemented operation");return e}function wN(i){const e=[];for(const r of i)e.push(Yf(r));return e}function DN(i){const e=te(O2,{id:zf(i.getID()),message:i.getMessage()});return i.hasOperations()&&(e.operations=wN(i.getOperations())),i.hasPresenceChange()&&(e.presenceChange=RN(i.getPresenceChange())),e}function xN(i){const e=[];for(const r of i)e.push(DN(r));return e}function ON(i){const e=[];for(const r of i)e.push(te(F2,{key:r.getStrKey(),element:Eh(r.getValue())}));return e}function VN(i){const e=[];for(const r of i)e.push(te(H2,{element:Eh(r.getValue())}));return e}function UN(i){const e=[];for(const r of i){const a=te(Q2);a.id=IN(r.getID()),a.value=r.getValue().getContent(),a.removedAt=ie(r.getRemovedAt());const o=a.attributes,c=r.getValue().getAttrs();for(const h of c){const d=te(yb);d.value=h.getValue(),d.updatedAt=ie(h.getUpdatedAt()),o[h.getKey()]=d}e.push(a)}return e}function BN(i){const e=[];if(!i||!i.length)return e;for(const r of i)e.push(te(q2,{content:Sh(r)}));return e}function LN(i){const e={};for(const r of i)e[r.getKey()]=te(yb,{value:r.getValue(),updatedAt:ie(r.getUpdatedAt()),isRemoved:r.isRemoved()});return e}function Sh(i){if(!i)return[];const e=[];return Go(i,(r,a)=>{const o=te(P2,{id:Ds(r.id),type:r.type,removedAt:ie(r.removedAt),depth:a});r.isText&&(o.value=r.value),r.insPrevID&&(o.insPrevId=Ds(r.insPrevID)),r.insNextID&&(o.insNextId=Ds(r.insNextID)),r.attrs&&(o.attributes=LN(r.attrs)),e.push(o)}),e}function MN(i){return te(yn,{body:{case:"jsonObject",value:te(W2,{nodes:ON(i.getRHT()),createdAt:ie(i.getCreatedAt()),movedAt:ie(i.getMovedAt()),removedAt:ie(i.getRemovedAt())})}})}function Ub(i){return te(yn,{body:{case:"jsonArray",value:te(K2,{nodes:VN(i.getElements()),createdAt:ie(i.getCreatedAt()),movedAt:ie(i.getMovedAt()),removedAt:ie(i.getRemovedAt())})}})}function _N(i){return te(yn,{body:{case:"primitive",value:te(X2,{type:Ob(i.getType()),value:i.toBytes(),createdAt:ie(i.getCreatedAt()),movedAt:ie(i.getMovedAt()),removedAt:ie(i.getRemovedAt())})}})}function ZN(i){return te(yn,{body:{case:"text",value:te(J2,{nodes:UN(i.getRGATreeSplit()),createdAt:ie(i.getCreatedAt()),movedAt:ie(i.getMovedAt()),removedAt:ie(i.getRemovedAt())})}})}function zN(i){return te(yn,{body:{case:"counter",value:te(k2,{type:Vb(i.getType()),value:i.toBytes(),createdAt:ie(i.getCreatedAt()),movedAt:ie(i.getMovedAt()),removedAt:ie(i.getRemovedAt())})}})}function Bb(i){return te(yn,{body:{case:"tree",value:te(j2,{nodes:Sh(i.getRoot()),createdAt:ie(i.getCreatedAt()),movedAt:ie(i.getMovedAt()),removedAt:ie(i.getRemovedAt())})}})}function Eh(i){if(i instanceof Nt)return MN(i);if(i instanceof Tt)return Ub(i);if(i instanceof He)return _N(i);if(i instanceof Yt)return ZN(i);if(i instanceof zt)return zN(i);if(i instanceof qt)return Bb(i);throw new T(E.ErrUnimplemented,"unimplemented element")}function YN(i){return te(x2,{documentKey:i.getDocumentKey(),checkpoint:CN(i.getCheckpoint()),isRemoved:i.getIsRemoved(),changes:xN(i.getChanges()),snapshot:i.getSnapshot(),versionVector:Ah(i.getVersionVector())})}function GN(i){return{id:i.id,label:i.label,description:i.description,snapshot:i.snapshot,createdAt:i.createdAt?P1(i.createdAt):new Date}}function Rs(i){if(!(i instanceof Ue))return{};const e=i.findDetails(uN);for(const r of e)return r.metadata;return{}}function ua(i){return Rs(i).code??""}function Tf(i,e){return i instanceof Ue&&ua(i)===e}function Lb(i){return Tn.of(i.clientSeq,BigInt(i.lamport),Ih(i.actorId),Nh(i.versionVector),BigInt(i.serverSeq))}function Nh(i){if(!i)return;const e=new da;return Object.entries(i.vector).forEach(([r,a])=>{const o=Ko(oT(r));e.set(o,BigInt(a.toString()))}),e}function se(i){if(i)return dn.of(BigInt(i.lamport),i.delimiter,Ih(i.actorId))}function Th(i){const e={};return Object.entries(i.data).forEach(([r,a])=>{e[r]=JSON.parse(a)}),e}function WN(i){const e=i.type;if(e===zs.PUT){const r=Th(i.presence);return{type:Zn.Put,presence:r}}if(e===zs.CLEAR)return{type:Zn.Clear};throw new T(E.ErrInvalidType,`unsupported type: ${e}`)}function KN(i){const e=new Map;return Object.entries(i).forEach(([r,a])=>{e.set(r,Th(a))}),e}function Mb(i){switch(i){case me.NULL:return Ye.Null;case me.BOOLEAN:return Ye.Boolean;case me.INTEGER:return Ye.Integer;case me.LONG:return Ye.Long;case me.DOUBLE:return Ye.Double;case me.STRING:return Ye.String;case me.BYTES:return Ye.Bytes;case me.DATE:return Ye.Date}throw new T(E.ErrUnimplemented,`unimplemented value type: ${i}`)}function Bo(i){switch(i){case me.INTEGER_CNT:return Yn.Int;case me.LONG_CNT:return Yn.Long}throw new T(E.ErrUnimplemented,`unimplemented value type: ${i}`)}function Ao(i){switch(i.type){case me.JSON_OBJECT:return i.value?Kb(i.value):Nt.create(se(i.createdAt));case me.JSON_ARRAY:return i.value?rT(i.value):Tt.create(se(i.createdAt));case me.TEXT:return Yt.create(Na.create(),se(i.createdAt));case me.TREE:return sT(i.value);case me.NULL:case me.BOOLEAN:case me.INTEGER:case me.LONG:case me.DOUBLE:case me.STRING:case me.BYTES:case me.DATE:return He.of(He.valueFromBytes(Mb(i.type),i.value),se(i.createdAt));case me.INTEGER_CNT:case me.LONG_CNT:return zt.create(Bo(i.type),zt.valueFromBytes(Bo(i.type),i.value),se(i.createdAt))}}function So(i){return vt.of(Mn.of(se(i.createdAt),i.offset),i.relativeOffset)}function _b(i){return Mn.of(se(i.createdAt),i.offset)}function XN(i){const e=Ws.create(i.value);Object.entries(i.attributes).forEach(([a,o])=>{e.setAttr(a,o.value,se(o.updatedAt))});const r=Ki.create(_b(i.id),e);return r.setRemovedAt(se(i.removedAt)),r}function la(i){return wn.of(xs(i.parentId),xs(i.leftSiblingId))}function xs(i){return St.of(se(i.createdAt),i.offset)}function JN(i){if(!i.length)return;const e=[];return i.forEach(r=>{const a=Rh(r.content);e.push(a)}),e}function Rh(i){if(i.length===0)return;const e=[];for(const o of i)e.push(jN(o));const r=e[e.length-1],a=new Map;a.set(i[e.length-1].depth,e[e.length-1]);for(let o=e.length-2;o>=0;o--)a.get(i[o].depth-1).prepend(e[o]),a.set(i[o].depth,e[o]);return r.updateDescendantsSize(),r.updateDescendantsSize(!0),qt.create(r,Aa).getRoot()}function kN(i){const e=ci.create();for(const[r,a]of Object.entries(i))e.setInternal(r,a.value,se(a.updatedAt),a.isRemoved);return e}function jN(i){const e=xs(i.id),r=Pt.create(e,i.type),a=Object.entries(i.attributes);return r.isText?r.value=i.value:a.length&&(r.attrs=kN(i.attributes)),i.insPrevId&&(r.insPrevID=xs(i.insPrevId)),i.insNextId&&(r.insNextID=xs(i.insNextId)),r.removedAt=se(i.removedAt),r}function Zb(i){if(i.body.case==="set"){const e=i.body.value;return vr.create(e.key,Ao(e.value),se(e.parentCreatedAt),se(e.executedAt))}else if(i.body.case==="add"){const e=i.body.value;return ji.create(se(e.parentCreatedAt),se(e.prevCreatedAt),Ao(e.value),se(e.executedAt))}else if(i.body.case==="move"){const e=i.body.value;return In.create(se(e.parentCreatedAt),se(e.prevCreatedAt),se(e.createdAt),se(e.executedAt))}else if(i.body.case==="remove"){const e=i.body.value;return zn.create(se(e.parentCreatedAt),se(e.createdAt),se(e.executedAt))}else if(i.body.case==="edit"){const e=i.body.value,r=new Map;return Object.entries(e.attributes).forEach(([a,o])=>{r.set(a,o)}),ki.create(se(e.parentCreatedAt),So(e.from),So(e.to),e.content,r,se(e.executedAt))}else if(i.body.case==="style"){const e=i.body.value,r=new Map;return Object.entries(e.attributes).forEach(([a,o])=>{r.set(a,o)}),Fs.create(se(e.parentCreatedAt),So(e.from),So(e.to),r,se(e.executedAt))}else if(i.body.case==="increase"){const e=i.body.value;return Ca.create(se(e.parentCreatedAt),Ao(e.value),se(e.executedAt))}else if(i.body.case==="treeEdit"){const e=i.body.value;return Hs.create(se(e.parentCreatedAt),la(e.from),la(e.to),JN(e.contents),e.splitLevel,se(e.executedAt))}else if(i.body.case==="treeStyle"){const e=i.body.value,r=new Map,a=e.attributesToRemove;return a?.length>0?ui.createTreeRemoveStyleOperation(se(e.parentCreatedAt),la(e.from),la(e.to),a,se(e.executedAt)):(Object.entries(e.attributes).forEach(([o,c])=>{r.set(o,c)}),ui.create(se(e.parentCreatedAt),la(e.from),la(e.to),r,se(e.executedAt)))}else if(i.body.case==="arraySet"){const e=i.body.value;return fi.create(se(e.parentCreatedAt),se(e.createdAt),Ao(e.value),se(e.executedAt))}else throw new T(E.ErrUnimplemented,"unimplemented operation")}function FN(i){const e=[];for(const r of i){const a=Zb(r);a&&e.push(a)}return e}function zb(i){const e=[];for(const r of i)e.push(Ra.create({id:Lb(r.id),operations:FN(r.operations),presenceChange:r.presenceChange?WN(r.presenceChange):void 0,message:r.message}));return e}function HN(i){return ga.of(BigInt(i.serverSeq),i.clientSeq)}function QN(i){return Wo.create(i.documentKey,HN(i.checkpoint),i.isRemoved,zb(i.changes),Nh(i.versionVector),i.snapshot)}function Yb(i){const e=new Sa;for(const a of i.nodes){const o=Ch(a.element);e.set(a.key,o,o.getPositionedAt())}const r=new Nt(se(i.createdAt),e);return r.setMovedAt(se(i.movedAt)),r.setRemovedAt(se(i.removedAt)),r}function Gb(i){const e=new Gs;for(const a of i.nodes)e.insert(Ch(a.element));const r=new Tt(se(i.createdAt),e);return r.setMovedAt(se(i.movedAt)),r.setRemovedAt(se(i.removedAt)),r}function $N(i){const e=He.of(He.valueFromBytes(Mb(i.type),i.value),se(i.createdAt));return e.setMovedAt(se(i.movedAt)),e.setRemovedAt(se(i.removedAt)),e}function PN(i){const e=new Na;let r=e.getHead();for(const o of i.nodes){const c=e.insertAfter(r,XN(o));o.insPrevId&&c.setInsPrev(e.findNode(_b(o.insPrevId))),r=c}const a=new Yt(e,se(i.createdAt));return a.setMovedAt(se(i.movedAt)),a.setRemovedAt(se(i.removedAt)),a}function qN(i){const e=zt.create(Bo(i.type),zt.valueFromBytes(Bo(i.type),i.value),se(i.createdAt));return e.setMovedAt(se(i.movedAt)),e.setRemovedAt(se(i.removedAt)),e}function Wb(i){const e=Rh(i.nodes);return qt.create(e,se(i.createdAt))}function Ch(i){if(i.body.case==="jsonObject")return Yb(i.body.value);if(i.body.case==="jsonArray")return Gb(i.body.value);if(i.body.case==="primitive")return $N(i.body.value);if(i.body.case==="text")return PN(i.body.value);if(i.body.case==="counter")return qN(i.body.value);if(i.body.case==="tree")return Wb(i.body.value);throw new T(E.ErrUnimplemented,"unimplemented element")}function eT(i){return i.map(e=>({path:e.path,type:e.type}))}function tT(i){if(!i)return{root:Nt.create(Aa),presences:new Map};const e=mn(D2,i);return{root:Ch(e.root),presences:KN(e.presences)}}function nT(i){const e=Ah(i);return Ko(Ji(mh,e))}function iT(i){const e=wh(i),r=mn(mh,e);return Nh(r)}function Kb(i){if(!i)throw new T(E.ErrInvalidArgument,"bytes is empty");const e=mn(yn,i);return Yb(e.body.value)}function Xb(i){return Ji(yn,Eh(i))}function rT(i){if(!i)throw new T(E.ErrInvalidArgument,"bytes is empty");const e=mn(yn,i);return Gb(e.body.value)}function aT(i){return Ji(yn,Ub(i))}function sT(i){if(!i)throw new T(E.ErrInvalidArgument,"bytes is empty");const e=mn(yn,i);return Wb(e.body.value)}function lT(i){return Ji(yn,Bb(i))}function Ko(i){return i?Array.from(i).map(e=>e.toString(16).padStart(2,"0")).join(""):""}function Ih(i){return Ko(i)}function wh(i){return new Uint8Array(i.match(/.{1,2}/g).map(e=>parseInt(e,16)))}function oT(i){if(typeof window<"u"&&typeof window.atob=="function"){const e=window.atob(i),r=e.length,a=new Uint8Array(r);for(let o=0;o<r;o++)a[o]=e.charCodeAt(o);return a}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const e=globalThis.Buffer;return new Uint8Array(e.from(i,"base64"))}else throw new Error("No base64 decoder available")}function Xo(i){return wh(i)}function uT(i){if(typeof window<"u"&&typeof window.btoa=="function"){let e="";for(let r=0;r<i.byteLength;r++)e+=String.fromCharCode(i[r]);return window.btoa(e)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(i).toString("base64");throw new Error("No base64 encoder available")}}function cT(i){const e=mn(gh,i);return Lb(e)}function fT(i){const e=mn(yh,i);return Zb(e)}const Xe={fromPresence:Th,toChangePack:YN,fromChangePack:QN,fromChanges:zb,toTreeNodes:Sh,fromTreeNodes:Rh,objectToBytes:Xb,bytesToObject:Kb,bytesToSnapshot:tT,bytesToHex:Ko,hexToBytes:wh,toHexString:Ih,toUint8Array:Xo,toOperation:Yf,toChangeID:zf,bytesToChangeID:cT,bytesToOperation:fT,versionVectorToHex:nT,hexToVersionVector:iT,fromSchemaRules:eT,toRevisionSummary:GN,changeIDToBinary:i=>Ji(gh,zf(i)),operationToBinary:i=>Ji(yh,Yf(i))};var Mt=(i=>(i[i.Trivial=0]="Trivial",i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warn=3]="Warn",i[i.Error=4]="Error",i[i.Fatal=5]="Fatal",i))(Mt||{});let gr=3;function hT(i){gr=i}const j={trivial:(...i)=>{gr>0||typeof console<"u"&&console.log("YORKIE T:",...i)},debug:(...i)=>{gr>1||typeof console<"u"&&console.log("YORKIE D:",...i)},info:(...i)=>{gr>2||typeof console<"u"&&console.log("YORKIE I:",...i)},warn:(...i)=>{gr>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...i):console.log("YORKIE W:",...i))},error:(...i)=>{gr>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...i):console.log("YORKIE E:",...i))},fatal:(...i)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...i):console.log("YORKIE F:",...i))},isEnabled:i=>gr<=i};function Jb(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,i=>{const e=Math.random()*16|0;return(i==="x"?e:e&3|8).toString(16)})}const Rf=()=>{};class dT{finalized=!1;observers=[];finalError;constructor(e){try{e(this)}catch(r){this.error(r)}}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,a){let o;if(!e)throw new T(E.ErrInvalidArgument,"missing observer");if(this.finalized)throw new T(E.ErrRefused,"observable is finalized due to previous error");typeof e=="object"?o=e:o={next:e,error:r,complete:a},o.next===void 0&&(o.next=Rf),o.error===void 0&&(o.error=Rf),o.complete===void 0&&(o.complete=Rf);const c=Jb(),h=this.unsubscribeOne.bind(this,c);if(this.observers.push({subscriptionID:c,observer:o}),this.finalized)try{this.finalError?o.error(this.finalError):o.complete()}catch(d){j.warn(d)}return h}unsubscribeOne(e){this.observers=this.observers?.filter(r=>r.subscriptionID!==e)}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e].observer)}catch(a){j.error(a)}}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.observers=void 0)}}function kb(i){const e=new dT(i);return{subscribe:e.subscribe.bind(e),getProxy:()=>e}}class Os{prevID;nextID;delimiter;message;root;operations;presenceChange;previousPresence;reversePresenceKeys;constructor(e,r,a,o){this.prevID=e,this.nextID=e.next(),this.delimiter=bb,this.root=r,this.operations=[],this.previousPresence=Nn(a),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=o}static create(e,r,a,o){return new Os(e,r,a,o)}push(e){this.operations.push(e)}registerElement(e,r){this.root.registerElement(e,r)}registerRemovedElement(e){this.root.registerRemovedElement(e)}registerGCPair(e){this.root.registerGCPair(e)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const e=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return Ra.create({id:e,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(e){this.presenceChange=e}setReversePresence(e,r){for(const a of Object.keys(e))r?.addToHistory?this.reversePresenceKeys.add(a):this.reversePresenceKeys.delete(a)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const e={};for(const r of this.reversePresenceKeys)e[r]=this.previousPresence[r];return e}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(e){this.root.acc(e)}}function jb(i,e){const r=new Ks(i);return new Proxy(e,r.getHandlers())}class Ks{context;handlers;constructor(e){this.context=e,this.handlers={set:(r,a,o)=>(j.isEnabled(Mt.Trivial)&&j.trivial(`obj[${a}]=${JSON.stringify(o)}`),Ks.setInternal(e,r,a,o),!0),get:(r,a)=>(j.isEnabled(Mt.Trivial)&&j.trivial(`obj[${a}]`),a==="getID"?()=>r.getCreatedAt():a==="toJSON"||a==="toString"?()=>r.toJSON():a==="toJS"?()=>r.toJS():a==="toJSForTest"?()=>r.toJSForTest():mr(e,r.get(a))),ownKeys:r=>r.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(r,a)=>(j.isEnabled(Mt.Trivial)&&j.trivial(`obj[${a}]`),Ks.deleteInternal(e,r,a),!0)}}static setInternal(e,r,a,o){if(a.includes("."))throw new T(E.ErrInvalidObjectKey,"key must not contain the '.'.");const c=e.issueTimeTicket(),h=Vs(e,o,c),d=r.set(a,h,c);e.registerElement(h,r),d&&e.registerRemovedElement(d),e.push(vr.create(a,h.deepcopy(),r.getCreatedAt(),c))}static buildObjectMembers(e,r){const a={};for(const[o,c]of Object.entries(r)){if(o.includes("."))throw new T(E.ErrInvalidObjectKey,"key must not contain the '.'.");const h=e.issueTimeTicket(),d=Vs(e,c,h);a[o]=d}return a}static deleteInternal(e,r,a){const o=e.issueTimeTicket(),c=r.deleteByKey(a,o);c&&(e.push(zn.create(r.getCreatedAt(),c.getCreatedAt(),o)),e.registerRemovedElement(c))}getHandlers(){return this.handlers}}function gT(i,e){const r=new xe(i,e);return new Proxy(e,r.getHandlers())}function a0(i){return typeof i=="string"||i instanceof String?!isNaN(i):!1}function mT(i){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(i)}class xe{context;handlers;array;constructor(e,r){this.context=e,this.array=r,this.handlers={get:(a,o,c)=>o==="getID"?()=>a.getCreatedAt():o==="getElementByID"?h=>{const d=a.getByID(h);if(!(!d||d.isRemoved()))return En(e,d)}:o==="getElementByIndex"?h=>{const d=a.get(h);return En(e,d)}:o==="getLast"?()=>En(e,a.getLast()):o==="delete"?h=>{const d=xe.deleteInternalByIndex(e,a,h);return En(e,d)}:o==="deleteByID"?h=>{const d=xe.deleteInternalByID(e,a,h);return En(e,d)}:o==="insertAfter"?(h,d)=>{const y=xe.insertAfterInternal(e,a,h,d);return En(e,y)}:o==="insertIntegerAfter"?(h,d)=>{const y=xe.insertIntegerAfterInternal(e,a,h,d);return En(e,y)}:o==="insertBefore"?(h,d)=>{const y=xe.insertBeforeInternal(e,a,h,d);return En(e,y)}:o==="setValue"?(h,d)=>{const y=xe.setValueInternal(e,a,h,d);return En(e,y)}:o==="moveBefore"?(h,d)=>{xe.moveBeforeInternal(e,a,h,d)}:o==="moveAfter"?(h,d)=>{xe.moveAfterInternal(e,a,h,d)}:o==="moveAfterByIndex"?(h,d)=>{xe.moveAfterByIndexInternal(e,a,h,d)}:o==="moveFront"?h=>{xe.moveFrontInternal(e,a,h)}:o==="moveLast"?h=>{xe.moveLastInternal(e,a,h)}:a0(o)?mr(e,a.get(Number(o))):o==="push"?h=>xe.pushInternal(e,a,h):o==="splice"?(h,d,...y)=>xe.splice(e,a,h,d,...y):o==="length"?a.length:typeof o=="symbol"&&o===Symbol.iterator?xe.iteratorInternal.bind(this,e,a):o==="includes"?(h,d)=>xe.includes(e,a,h,d):o==="indexOf"?(h,d)=>xe.indexOf(e,a,h,d):o==="lastIndexOf"?(h,d)=>xe.lastIndexOf(e,a,h,d):o==="toJSForTest"?()=>a.toJSForTest():o==="toTestString"?()=>xe.toTestString(a):typeof o=="string"&&mT(o)?(...h)=>{const d=Array.from(a).map(y=>mr(e,y));return Array.prototype[o].apply(d,h)}:Reflect.get(a,o,c),set:(a,o,c)=>{if(a0(o)){const h=Number(o);return xe.setValueInternal(e,a,h,c),!0}return Reflect.set(a,o,c)},deleteProperty:(a,o)=>(j.isEnabled(Mt.Trivial)&&j.trivial(`array[${o}]`),xe.deleteInternalByIndex(e,a,Number.parseInt(o)),!0)}}static*iteratorInternal(e,r){for(const a of r)yield En(e,a)}static buildArrayElements(e,r){const a=[];for(const o of r){const c=e.issueTimeTicket(),h=Vs(e,o,c);a.push(h)}return a}static pushInternal(e,r,a){return xe.insertAfterInternal(e,r,r.getLastCreatedAt(),a),r.length}static moveBeforeInternal(e,r,a,o){const c=e.issueTimeTicket(),h=r.getPrevCreatedAt(a);r.moveAfter(h,o,c),e.push(In.create(r.getCreatedAt(),h,o,c))}static moveAfterInternal(e,r,a,o){const c=e.issueTimeTicket();e.push(In.create(r.getCreatedAt(),a,o,c)),r.moveAfter(a,o,c)}static moveAfterByIndexInternal(e,r,a,o){const c=r.get(a);if(!c)throw new T(E.ErrInvalidArgument,`index out of bounds: ${a}`);const h=r.get(o);if(!h)throw new T(E.ErrInvalidArgument,`index out of bounds: ${o}`);xe.moveAfterInternal(e,r,c.getCreatedAt(),h.getCreatedAt())}static moveFrontInternal(e,r,a){const o=e.issueTimeTicket(),c=r.getHead();r.moveAfter(c.getCreatedAt(),a,o),e.push(In.create(r.getCreatedAt(),c.getCreatedAt(),a,o))}static moveLastInternal(e,r,a){const o=e.issueTimeTicket(),c=r.getLastCreatedAt();r.moveAfter(c,a,o),e.push(In.create(r.getCreatedAt(),c,a,o))}static insertAfterInternal(e,r,a,o){const c=e.issueTimeTicket(),h=Vs(e,o,c);return r.insertAfter(a,h),e.registerElement(h,r),e.push(ji.create(r.getCreatedAt(),a,h.deepcopy(),c)),h}static insertIntegerAfterInternal(e,r,a,o){const c=r.get(a);if(!c)throw new T(E.ErrInvalidArgument,`index out of bounds: ${a}`);return xe.insertAfterInternal(e,r,c.getCreatedAt(),o),r}static insertBeforeInternal(e,r,a,o){return xe.insertAfterInternal(e,r,r.getPrevCreatedAt(a),o)}static setValueInternal(e,r,a,o){const c=r.get(a);if(!c)throw new T(E.ErrInvalidArgument,`index out of bounds: ${a}`);return xe.setByIndexInternal(e,r,c.getCreatedAt(),o),r}static setByIndexInternal(e,r,a,o){const c=e.issueTimeTicket(),h=Vs(e,o,c),d=h.deepcopy();return e.push(fi.create(r.getCreatedAt(),a,d,c)),r.set(a,h,c),e.registerElement(h,r),h}static deleteInternalByIndex(e,r,a){const o=e.issueTimeTicket(),c=r.deleteByIndex(a,o);if(c)return e.push(zn.create(r.getCreatedAt(),c.getCreatedAt(),o)),e.registerRemovedElement(c),c}static deleteInternalByID(e,r,a){const o=e.issueTimeTicket(),c=r.delete(a,o);return e.push(zn.create(r.getCreatedAt(),c.getCreatedAt(),o)),e.registerRemovedElement(c),c}static splice(e,r,a,o,...c){const h=r.length,d=a>=0?Math.min(a,h):Math.max(h+a,0),y=o===void 0?h:o<0?d:Math.min(d+o,h),m=[];for(let b=d;b<y;b++){const A=xe.deleteInternalByIndex(e,r,d);if(A){const w=A.deepcopy();w.setRemovedAt(),m.push(mr(e,w))}}if(c){let b=d===0?r.getHead().getID():r.get(d-1).getID();for(const A of c)b=xe.insertAfterInternal(e,r,b,A).getID()}return m}static includes(e,r,a,o){const c=r.length,h=o===void 0?0:o<0?Math.max(o+c,0):o;if(h>=c)return!1;if(He.isSupport(a))return Array.from(r).map(y=>mr(e,y)).includes(a,h);for(let d=h;d<c;d++)if(r.get(d)?.getID()===a.getID())return!0;return!1}static indexOf(e,r,a,o){const c=r.length,h=o===void 0?0:o<0?Math.max(o+c,0):o;if(h>=c)return-1;if(He.isSupport(a))return Array.from(r).map(y=>mr(e,y)).indexOf(a,h);for(let d=h;d<c;d++)if(r.get(d)?.getID()===a.getID())return d;return-1}static lastIndexOf(e,r,a,o){const c=r.length,h=o===void 0||o>=c?c-1:o<0?o+c:o;if(h<0)return-1;if(He.isSupport(a))return Array.from(r).map(y=>mr(e,y)).lastIndexOf(a,h);for(let d=h;d>0;d--)if(r.get(d)?.getID()===a.getID())return d;return-1}static toTestString(e){return e.toTestString()}getHandlers(){return this.handlers}}class Dh{context;text;constructor(e,r){this.context=e,this.text=r}initialize(e,r){this.context=e,this.text=r}getID(){return this.text.getID()}edit(e,r,a,o){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");if(e>r)throw new T(E.ErrInvalidArgument,"from should be less than or equal to to");const c=this.text.indexRangeToPosRange(e,r);j.isEnabled(Mt.Debug)&&j.debug(`EDIT: f:${e}->${c[0].toTestString()}, t:${r}->${c[1].toTestString()} c:${a}`);const h=o?Ta(o):void 0,d=this.context.issueTimeTicket(),[,y,m,b]=this.text.edit(c,a,d,h);this.context.acc(m);for(const A of y)this.context.registerGCPair(A);return this.context.push(new ki(this.text.getCreatedAt(),c[0],c[1],a,h?new Map(Object.entries(h)):new Map,d)),this.text.findIndexesFromRange(b)}delete(e,r){return this.edit(e,r,"")}empty(){return this.edit(0,this.length,"")}setStyle(e,r,a){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");if(e>r)throw new T(E.ErrInvalidArgument,"from should be less than or equal to to");const o=this.text.indexRangeToPosRange(e,r);j.isEnabled(Mt.Debug)&&j.debug(`STYL: f:${e}->${o[0].toTestString()}, t:${r}->${o[1].toTestString()} a:${JSON.stringify(a)}`);const c=Ta(a),h=this.context.issueTimeTicket(),[d,y]=this.text.setStyle(o,c,h);this.context.acc(y);for(const m of d)this.context.registerGCPair(m);return this.context.push(new Fs(this.text.getCreatedAt(),o[0],o[1],new Map(Object.entries(c)),h)),!0}indexRangeToPosRange(e){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");const r=this.text.indexRangeToPosRange(e[0],e[1]);return[r[0].toStruct(),r[1].toStruct()]}posRangeToIndexRange(e){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");const r=this.text.findIndexesFromRange([vt.fromStruct(e[0]),vt.fromStruct(e[1])]);return[r[0],r[1]]}toTestString(){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(e,r){if(!this.context||!this.text)throw new T(E.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(e,r)}}class xh{valueType;value;context;counter;constructor(e,r){this.valueType=e,this.value=r}initialize(e,r){this.valueType=r.getValueType(),this.context=e,this.counter=r,this.value=r.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(e){if(!this.context||!this.counter)throw new T(E.ErrNotInitialized,"Counter is not initialized yet");const r=this.context.issueTimeTicket(),a=He.of(e,r);if(!a.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof a.getValue()}`);return this.counter.increase(a),this.context.push(Ca.create(this.counter.getCreatedAt(),a,r)),this}toJSForTest(){if(!this.context||!this.counter)throw new T(E.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function Oh(i){if(i.isText)return{type:i.type,value:i.value};const e={type:i.type,children:i.children.map(r=>Oh(r))};return i.attrs&&(e.attributes=oi(i.attrs.toObject())),e}function yT(i,e){const r={type:i.isText?i.parent.type:i.type,children:i.isText?i.parent.getChildrenText().length===e?[]:[{type:_n,value:i.parent.getChildrenText().slice(e)}]:i.children.slice(e).map(a=>Oh(a))};return i.attrs?r.attributes=oi(i.attrs.toObject()):i.isText&&i.parent.attrs&&(r.attributes=oi(i.parent.attrs.toObject())),r}function pT(i,e){const{node:r}=i,a=[...e].slice(0,-1),o=r.isText?r.parent.getChildrenText().length:r.children.length,c=[...a,o],h=[...a],d=[];h[h.length-1]+=1,e.every((m,b)=>m===c[b])||d.push({fromPath:[...e],toPath:c});const y=yT(r,e[e.length-1]);return y&&d.push({fromPath:h,toPath:h,content:y}),d}function bT(i,e){const{node:r,offset:a}=i,o=r.children[a],c=r.children[a-1],{children:h}=o,d=[...e].slice(0,-1),y=[{fromPath:[...e],toPath:[...d,a+1]}];if(!o.children.length)return y;const m=[...d,a-1,c.hasTextChild()?c.getChildrenText().length:c.children.length],b=h.map(A=>Oh(A));return y.push({fromPath:m,toPath:m,content:b}),y}function Vh(i,e,r){const{type:a}=i,o=r.issueTimeTicket();if(a===_n){Fb(i);const{value:c}=i,h=Pt.create(St.of(o,0),a,c);e.append(h)}else{const{children:c=[]}=i,{attributes:h}=i;let d;if(typeof h=="object"&&!Rb(h)){const m=Ta(h);d=new ci;for(const[b,A]of Object.entries(m))d.set(b,A,o)}const y=Pt.create(St.of(o,0),a,void 0,d);e.append(y);for(const m of c)Vh(m,y,r)}}function vT(i,e){const{type:r}=e,a=i.issueTimeTicket();let o;if(e.type===_n){const{value:c}=e;o=Pt.create(St.of(a,0),r,c)}else if(e){const{children:c=[]}=e,{attributes:h}=e;let d;if(typeof h=="object"&&!Rb(h)){const y=Ta(h);d=new ci;for(const[m,b]of Object.entries(y))d.set(m,b,a)}o=Pt.create(St.of(i.issueTimeTicket(),0),r,void 0,d);for(const y of c)Vh(y,o,i)}return o}function Fb(i){if(!i.value.length)throw new T(E.ErrInvalidArgument,"text node cannot have empty value");return!0}function s0(i){if(!i.length)return!0;if(i[0].type===_n)for(const r of i){const{type:a}=r;if(a!==_n)throw new T(E.ErrInvalidArgument,"element node and text node cannot be passed together");Fb(r)}else for(const r of i){const{type:a}=r;if(a===_n)throw new T(E.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Uh{initialRoot;context;tree;constructor(e){this.initialRoot=e}initialize(e,r){this.context=e,this.tree=r}getID(){return this.tree.getID()}buildRoot(e){if(!this.initialRoot)return Pt.create(St.of(e.issueTimeTicket(),0),pN);const r=Pt.create(St.of(e.issueTimeTicket(),0),this.initialRoot.type);for(const a of this.initialRoot.children)Vh(a,r,e);return r}getSize(){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(e){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new T(E.ErrInvalidArgument,"path should not be empty");const r=this.tree.pathToTreePos(e),a=pT(r,e);for(const o of a){const{fromPath:c,toPath:h,content:d}=o,y=this.tree.pathToPos(c),m=this.tree.pathToPos(h);this.editInternal(y,m,d?[d]:[],0)}}mergeByPath(e){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new T(E.ErrInvalidArgument,"path should not be empty");const r=this.tree.pathToTreePos(e);if(r.node.isText)throw new T(E.ErrInvalidArgument,"text node cannot be merged");const a=bT(r,e);for(const o of a){const{fromPath:c,toPath:h,content:d}=o,y=this.tree.pathToPos(c),m=this.tree.pathToPos(h);this.editInternal(y,m,d??[],0)}}styleByPath(e,r){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new T(E.ErrInvalidArgument,"path should not be empty");const[a,o]=this.tree.pathToPosRange(e),c=this.context.issueTimeTicket(),h=r?Ta(r):void 0,[d,,y]=this.tree.style([a,o],h,c);this.context.acc(y);for(const m of d)this.context.registerGCPair(m);this.context.push(ui.create(this.tree.getCreatedAt(),a,o,h?new Map(Object.entries(h)):new Map,c))}style(e,r,a){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");if(e>r)throw new T(E.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(e),c=this.tree.findPos(r),h=this.context.issueTimeTicket(),d=a?Ta(a):void 0,[y,,m]=this.tree.style([o,c],d,h);this.context.acc(m);for(const b of y)this.context.registerGCPair(b);this.context.push(ui.create(this.tree.getCreatedAt(),o,c,d?new Map(Object.entries(d)):new Map,h))}removeStyle(e,r,a){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");if(e>r)throw new T(E.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(e),c=this.tree.findPos(r),h=this.context.issueTimeTicket(),[d,,y]=this.tree.removeStyle([o,c],a,h);this.context.acc(y);for(const m of d)this.context.registerGCPair(m);this.context.push(ui.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),o,c,a,h))}editInternal(e,r,a,o=0){if(a.length!==0&&a[0]&&(s0(a),a[0].type!==_n))for(const m of a){const{children:b=[]}=m;s0(b)}const c=this.context.getLastTimeTicket();let h=new Array;if(a[0]?.type===_n){let m="";for(const b of a){const{value:A}=b;m+=A}h.push(Pt.create(St.of(this.context.issueTimeTicket(),0),_n,m))}else h=a.map(m=>m&&vT(this.context,m)).filter(m=>m);const[,d,y]=this.tree.edit([e,r],h.length?h.map(m=>m?.deepcopy()):void 0,o,c,()=>this.context.issueTimeTicket());this.context.acc(y);for(const m of d)this.context.registerGCPair(m);return this.context.push(Hs.create(this.tree.getCreatedAt(),e,r,h.length?h:void 0,o,c)),!0}editByPath(e,r,a,o=0){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==r.length)throw new T(E.ErrInvalidArgument,"path length should be equal");if(!e.length||!r.length)throw new T(E.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(e),h=this.tree.pathToPos(r);return this.editInternal(c,h,a?[a]:[],o)}editBulkByPath(e,r,a,o=0){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==r.length)throw new T(E.ErrInvalidArgument,"path length should be equal");if(!e.length||!r.length)throw new T(E.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(e),h=this.tree.pathToPos(r);return this.editInternal(c,h,a,o)}edit(e,r,a,o=0){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");if(e>r)throw new T(E.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(e),h=this.tree.findPos(r);return this.editInternal(c,h,a?[a]:[],o)}editBulk(e,r,a,o=0){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");if(e>r)throw new T(E.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(e),h=this.tree.findPos(r);return this.editInternal(c,h,a,o)}toXML(){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(e){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(e)}pathToIndex(e){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(e)}pathRangeToPosRange(e){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");const r=[this.tree.pathToIndex(e[0]),this.tree.pathToIndex(e[1])],a=this.tree.indexRangeToPosRange(r);return[a[0].toStruct(),a[1].toStruct()]}indexRangeToPosRange(e){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(e)}posRangeToIndexRange(e){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");const r=[wn.fromStruct(e[0]),wn.fromStruct(e[1])];return this.tree.posRangeToIndexRange(r)}posRangeToPathRange(e){if(!this.context||!this.tree)throw new T(E.ErrNotInitialized,"Tree is not initialized yet");const r=[wn.fromStruct(e[0]),wn.fromStruct(e[1])];return this.tree.posRangeToPathRange(r)}}function l0(i,e){return jb(i,e)}function En(i,e){if(e){if(e instanceof He)return e;if(e instanceof Nt)return jb(i,e);if(e instanceof Tt)return gT(i,e);if(e instanceof Yt)return new Dh(i,e);if(e instanceof zt){const r=new xh(Yn.Int,0);return r.initialize(i,e),r}else if(e instanceof qt){const r=new Uh;return r.initialize(i,e),r}}else return;throw new TypeError(`Unsupported type of element: ${typeof e}`)}function mr(i,e){const r=En(i,e);return r instanceof He?r.getValue():r}function Vs(i,e,r){let a;if(He.isSupport(e))a=He.of(e,r);else if(Array.isArray(e))a=Tt.create(r,xe.buildArrayElements(i,e));else if(typeof e=="object")e instanceof Dh?(a=Yt.create(Na.create(),r),e.initialize(i,a)):e instanceof xh?(a=zt.create(e.getValueType(),e.getValue(),r),e.initialize(i,a)):e instanceof Uh?(a=qt.create(e.buildRoot(i),r),e.initialize(i,a)):a=Nt.create(r,Ks.buildObjectMembers(i,e));else throw new TypeError(`Unsupported type of value: ${typeof e}`);return a}class Xs{rootObject;elementPairMapByCreatedAt;gcElementSetByCreatedAt;gcPairMap;docSize;constructor(e){this.rootObject=e,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(e,void 0),e.getDescendants(r=>{if(r.getRemovedAt()&&this.registerRemovedElement(r),r instanceof Yt||r instanceof qt)for(const a of r.getGCPairs())this.registerGCPair(a);return!1})}static create(){return new Xs(Nt.create(Aa))}findByCreatedAt(e){const r=this.elementPairMapByCreatedAt.get(e.toIDString());if(r)return r.element}findElementPairByCreatedAt(e){return this.elementPairMapByCreatedAt.get(e.toIDString())}createSubPaths(e){let r=this.elementPairMapByCreatedAt.get(e.toIDString());if(!r)return[];const a=[];for(;r.parent;){const o=r.element.getCreatedAt(),c=r.parent.subPathOf(o);if(c===void 0)throw new T(E.ErrInvalidArgument,`cant find the given element: ${o.toIDString()}`);a.unshift(c),r=this.elementPairMapByCreatedAt.get(r.parent.getCreatedAt().toIDString())}return a.unshift("$"),a}createPath(e){return this.createSubPaths(e).join(".")}registerElement(e,r){this.elementPairMapByCreatedAt.set(e.getCreatedAt().toIDString(),{parent:r,element:e}),At(this.docSize.live,e.getDataSize()),e instanceof Wi&&e.getDescendants((a,o)=>(this.elementPairMapByCreatedAt.set(a.getCreatedAt().toIDString(),{parent:o,element:a}),At(this.docSize.live,a.getDataSize()),!1))}deregisterElement(e){let r=0;const a=o=>{const c=o.getCreatedAt().toIDString();pr(this.docSize.gc,o.getDataSize()),this.elementPairMapByCreatedAt.delete(c),this.gcElementSetByCreatedAt.delete(c),r++};return a(e),e instanceof Wi&&e.getDescendants(o=>(a(o),!1)),r}registerRemovedElement(e){At(this.docSize.gc,e.getDataSize()),pr(this.docSize.live,e.getDataSize()),this.docSize.live.meta+=Ln,this.gcElementSetByCreatedAt.add(e.getCreatedAt().toIDString())}registerGCPair(e){if(this.gcPairMap.get(e.child.toIDString())){this.gcPairMap.delete(e.child.toIDString());return}this.gcPairMap.set(e.child.toIDString(),e);const a=this.gcPairMap.get(e.child.toIDString()).child.getDataSize();At(this.docSize.gc,a),pr(this.docSize.live,a),e.child instanceof Gi||(this.docSize.live.meta+=Ln)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const e=new Set;for(const r of this.gcElementSetByCreatedAt){e.add(r);const a=this.elementPairMapByCreatedAt.get(r);a.element instanceof Wi&&a.element.getDescendants(o=>(e.add(o.getCreatedAt().toIDString()),!1))}return e.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new Xs(this.rootObject.deepcopy())}garbageCollect(e){let r=0;for(const a of this.gcElementSetByCreatedAt){const o=this.elementPairMapByCreatedAt.get(a),c=o.element.getRemovedAt();c&&e?.afterOrEqual(c)&&(o.parent.purge(o.element),r+=this.deregisterElement(o.element))}for(const[,a]of this.gcPairMap){const o=a.child.getRemovedAt();o&&e?.afterOrEqual(o)&&(a.parent.purge(a.child),pr(this.docSize.gc,a.child.getDataSize()),this.gcPairMap.delete(a.child.toIDString()),r+=1)}return r}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(e){At(this.docSize.live,e)}*getGCElementPairs(){for(const e of this.gcElementSetByCreatedAt){const r=this.elementPairMapByCreatedAt.get(e);r&&(yield r)}}}let o0=class{context;presence;constructor(e,r){this.context=e,this.presence=r}set(e,r){for(const a of Object.keys(e))this.presence[a]=e[a];this.context.setPresenceChange({type:Zn.Put,presence:Nn(this.presence)}),this.context.setReversePresence(e,r)}get(e){return this.presence[e]}clear(){this.presence={},this.context.setPresenceChange({type:Zn.Clear})}};const u0=50;class AT{undoStack=[];redoStack=[];hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(e){this.undoStack.length>=u0&&this.undoStack.shift(),this.undoStack.push(e)}popUndo(){return this.undoStack.pop()}pushRedo(e){this.redoStack.length>=u0&&this.redoStack.shift(),this.redoStack.push(e)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}clearUndo(){this.undoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(e,r){const a=o=>{for(const c of o)for(const h of c)(h instanceof fi||h instanceof zn||h instanceof In)&&h.getCreatedAt()===e&&h.setCreatedAt(r),(h instanceof ji||h instanceof In)&&h.getPrevCreatedAt()===e&&h.setPrevCreatedAt(r)};a(this.undoStack),a(this.redoStack)}reconcileTextEdit(e,r,a,o){const c=h=>{for(const d of h)for(const y of d)y instanceof ki&&y.getParentCreatedAt().compare(e)===0&&y.reconcileOperation(r,a,o)};c(this.undoStack),c(this.redoStack)}}function ST(i,e){const r=[];for(const a of e){const o=ET(i,a.path),c=NT(o,a);if(!c.valid)for(const h of c.errors||[])r.push(h)}return{valid:r.length===0,errors:r}}function ET(i,e){if(!e.startsWith("$"))throw new Error(`Path must start with $, got ${e}`);const r=e.split(".");let a=i;for(let o=1;o<r.length;o++){const c=r[o];if(!(a instanceof Nt))return;a=a.get(c)}return a}function NT(i,e){switch(e.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return RT(i,e);case"object":if(!(i instanceof Nt))return{valid:!1,errors:[{path:e.path,message:`expected object at path ${e.path}`}]};break;case"array":if(!(i instanceof Tt))return{valid:!1,errors:[{path:e.path,message:`expected array at path ${e.path}`}]};break;case"yorkie.Text":if(!(i instanceof Yt))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Text at path ${e.path}`}]};break;case"yorkie.Tree":if(!(i instanceof qt))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Tree at path ${e.path}`}]};break;case"yorkie.Counter":if(!(i instanceof zt))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Counter at path ${e.path}`}]};break;default:throw new Error(`Unknown rule type: ${e.type}`)}return{valid:!0}}function TT(i){switch(i){case"null":return Ye.Null;case"boolean":return Ye.Boolean;case"integer":return Ye.Integer;case"long":return Ye.Long;case"double":return Ye.Double;case"string":return Ye.String;case"bytes":return Ye.Bytes;case"date":return Ye.Date;default:throw new Error(`Unknown primitive type: ${i}`)}}function RT(i,e){return i instanceof He&&i.getType()===TT(e.type)?{valid:!0}:{valid:!1,errors:[{path:e.path,message:`expected ${e.type} at path ${e.path}`}]}}const CT="yorkie-devtools-panel",IT="yorkie-devtools-sdk";function wT(i){return[ft.StatusChanged,ft.Snapshot,ft.LocalChange,ft.RemoteChange,ft.Initialized,ft.Watched,ft.Unwatched,ft.PresenceChanged].includes(i.type)}function DT(i){return i.every(wT)}let ca="disconnected";const c0=new Map,Ro=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=Ro);function Eo(i,e){(e?.force||ca!=="disconnected")&&window.postMessage({source:IT,...i},"*")}function xT(i){if(!i.isEnableDevtools()||typeof window>"u"||c0.has(i.getKey()))return;Ro.set(i.getKey(),[]);const e=i.subscribe("all",r=>{DT(r)&&(Ro.get(i.getKey()).push(r),ca==="synced"&&Eo({msg:"doc::sync::partial",docKey:i.getKey(),event:r}))});c0.set(i.getKey(),[e]),Eo({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",r=>{if(r.data?.source!==CT)return;switch(r.data.msg){case"devtools::connect":if(ca!=="disconnected")break;ca="connected",Eo({msg:"doc::available",docKey:i.getKey()}),j.info(`[YD] Devtools connected. Doc: ${i.getKey()}`);break;case"devtools::disconnect":ca="disconnected",j.info(`[YD] Devtools disconnected. Doc: ${i.getKey()}`);break;case"devtools::subscribe":ca="synced",Eo({msg:"doc::sync::full",docKey:i.getKey(),events:Ro.get(i.getKey())}),j.info(`[YD] Devtools subscribed. Doc: ${i.getKey()}`);break}})}var Zi=(i=>(i.Detached="detached",i.Attached="attached",i.Removed="removed",i))(Zi||{}),ft=(i=>(i.StatusChanged="status-changed",i.ConnectionChanged="connection-changed",i.SyncStatusChanged="sync-status-changed",i.Snapshot="snapshot",i.LocalChange="local-change",i.RemoteChange="remote-change",i.Initialized="initialized",i.Watched="watched",i.Unwatched="unwatched",i.PresenceChanged="presence-changed",i.AuthError="auth-error",i))(ft||{}),Us=(i=>(i.Connected="connected",i.Disconnected="disconnected",i))(Us||{}),Gf=(i=>(i.Synced="synced",i.SyncFailed="sync-failed",i))(Gf||{});class Yi{key;status;opts;maxSizeLimit;schemaRules;changeID;checkpoint;localChanges;root;presences;clone;internalHistory;isUpdating;onlineClients;eventStream;eventStreamObserver;history;constructor(e,r){this.key=e,this.status="detached",this.opts=r||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=EN,this.checkpoint=NN,this.localChanges=[],this.root=Xs.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new AT,this.isUpdating=!1,this.eventStream=kb(a=>this.eventStreamObserver=a),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},xT(this)}update(e,r){if(this.getStatus()==="removed")throw new T(E.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const a=this.changeID.getActorID(),o=Os.create(this.changeID,this.clone.root,this.clone.presences.get(a)||{},r);try{const d=l0(o,this.clone.root.getObject());this.presences.has(a)||this.clone.presences.set(a,{}),this.isUpdating=!0,e(d,new o0(o,this.clone.presences.get(a)))}catch(d){throw this.clone=void 0,d}finally{this.isUpdating=!1}const c=this.getSchemaRules();if(!o.isPresenceOnlyChange()&&c.length){const d=ST(this.clone?.root.getObject(),c);if(!d.valid)throw this.clone=void 0,new T(E.ErrDocumentSchemaValidationFailed,`schema validation failed: ${d.errors?.map(y=>y.message).join(", ")}`)}const h=gN(this.clone?.root.getDocSize());if(!o.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<h)throw this.clone=void 0,new T(E.ErrDocumentSizeExceedsLimit,`document size exceeded: ${h} > ${this.maxSizeLimit}`);if(o.hasChange()){j.isEnabled(Mt.Trivial)&&j.trivial(`trying to update a local change: ${this.toJSON()}`);const d=o.toChange(),{opInfos:y,reverseOps:m}=d.execute(this.root,this.presences,je.Local);for(const w of d.getOperations())w instanceof fi&&this.internalHistory.reconcileCreatedAt(w.getCreatedAt(),w.getValue().getCreatedAt());const b=o.getReversePresence();b&&m.push({type:"presence",value:b}),this.localChanges.push(d),m.length&&this.internalHistory.pushUndo(m),y.length&&this.internalHistory.clearRedo(),this.changeID=o.getNextID();const A=[];y.length&&A.push({type:"local-change",source:je.Local,value:{message:d.getMessage()||"",operations:y,actor:a,clientSeq:d.getID().getClientSeq(),serverSeq:d.getID().getServerSeq()},rawChange:this.isEnableDevtools()?d.toStruct():void 0}),d.hasPresenceChange()&&A.push({type:"presence-changed",source:je.Local,value:{clientID:a,presence:this.getPresence(a)}}),this.publish(A),j.isEnabled(Mt.Trivial)&&j.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(e,r,a,o){if(typeof e=="string"){if(typeof r!="function")throw new T(E.ErrInvalidArgument,"Second argument must be a callback function");if(e==="presence"){const d=r;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="initialized"&&m.type!=="watched"&&m.type!=="unwatched"&&m.type!=="presence-changed"||d(m)},a,o)}if(e==="my-presence"){const d=r;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="initialized"&&m.type!=="presence-changed"||m.type==="presence-changed"&&m.value.clientID!==this.changeID.getActorID()||d(m)},a,o)}if(e==="others"){const d=r;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="watched"&&m.type!=="unwatched"&&m.type!=="presence-changed"||m.value.clientID!==this.changeID.getActorID()&&d(m)},a,o)}if(e==="connection"){const d=r;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="connection-changed"&&d(m)},a,o)}if(e==="status"){const d=r;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="status-changed"&&d(m)},a,o)}if(e==="sync"){const d=r;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="sync-status-changed"&&d(m)},a,o)}if(e==="auth-error"){const d=r;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="auth-error"&&d(m)},a)}if(e==="all"){const d=r;return this.eventStream.subscribe(d,a,o)}const c=e,h=r;return this.eventStream.subscribe(d=>{for(const y of d){if(y.type!=="local-change"&&y.type!=="remote-change")continue;const m=[];for(const b of y.value.operations)this.isSameElementOrChildOf(b.path,c)&&m.push(b);m.length&&h({...y,value:{...y.value,operations:m}})}},a,o)}if(typeof e=="function"){const c=e,h=r,d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="snapshot"&&m.type!=="local-change"&&m.type!=="remote-change"||c(m)},h,d)}throw new T(E.ErrInvalidArgument,`"${e}" is not a valid`)}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}applyChangePack(e){e.hasSnapshot()?this.applySnapshot(e.getCheckpoint().getServerSeq(),e.getVersionVector(),e.getSnapshot(),e.getCheckpoint().getClientSeq()):(this.applyChanges(e.getChanges(),je.Remote),this.removePushedLocalChanges(e.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(e.getCheckpoint()),e.hasSnapshot()||this.garbageCollect(e.getVersionVector()),e.getIsRemoved()&&this.applyStatus("removed"),j.isEnabled(Mt.Trivial)&&j.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Nn(this.presences)})}createChangePack(){const e=Array.from(this.localChanges),r=this.checkpoint.increaseClientSeq(e.length);return Wo.create(this.key,r,!1,e,this.getVersionVector())}setActor(e){for(const r of this.localChanges)r.setActor(e);this.changeID=this.changeID.setActor(e)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const e=Os.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return l0(e,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(e){this.maxSizeLimit=e}getSchemaRules(){return this.schemaRules}setSchemaRules(e){this.schemaRules=e}garbageCollect(e){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(e),this.root.garbageCollect(e))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(e,r,a,o=-1){const{root:c,presences:h}=Xe.bytesToSnapshot(a);this.root=new Xs(c),this.presences=h,this.changeID=this.changeID.setClocks(r.maxLamport(),r),this.clone=void 0,this.removePushedLocalChanges(o),this.applyChanges(this.localChanges,je.Local),this.clearHistory(),this.publish([{type:"snapshot",source:je.Remote,value:{serverSeq:e.toString(),snapshot:this.isEnableDevtools()?Xe.bytesToHex(a):void 0,snapshotVector:Xe.versionVectorToHex(r)}}])}clearHistory(){this.internalHistory.clearRedo(),this.internalHistory.clearUndo()}applyChanges(e,r){j.isEnabled(Mt.Debug)&&j.debug(`trying to apply ${e.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),j.isEnabled(Mt.Trivial)&&j.trivial(e.map(a=>`${a.getID().toTestString()}	${a.toTestString()}`).join(`
`));for(const a of e)this.applyChange(a,r);j.isEnabled(Mt.Debug)&&j.debug(`after appling ${e.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(e,r){this.ensureClone(),e.execute(this.clone.root,this.clone.presences,r);const a=[],o=e.getID().getActorID();if(e.hasPresenceChange()&&this.onlineClients.has(o)){const d=e.getPresenceChange();switch(d.type){case Zn.Put:a.push(this.presences.has(o)?{type:"presence-changed",source:r,value:{clientID:o,presence:d.presence}}:{type:"watched",source:je.Remote,value:{clientID:o,presence:d.presence}});break;case Zn.Clear:a.push({type:"unwatched",source:je.Remote,value:{clientID:o,presence:this.getPresence(o)}}),this.removeOnlineClient(o);break}}const{opInfos:c,operations:h}=e.execute(this.root,this.presences,r);for(const d of h)if(d instanceof ki){const[y,m]=d.normalizePos(this.root);this.internalHistory.reconcileTextEdit(d.getParentCreatedAt(),y,m,d.getContent()?.length??0)}if(this.changeID=this.changeID.syncClocks(e.getID()),c.length){const d=this.isEnableDevtools()?e.toStruct():void 0;a.push(r===je.Remote?{type:"remote-change",source:r,value:{actor:o,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:c},rawChange:d}:{type:"local-change",source:r,value:{actor:o,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:c},rawChange:d})}a.length&&this.publish(a)}applyWatchStream(e){if(e.body.case==="initialization"){const r=e.body.value.clientIds,a=new Set;for(const o of r)o!==this.changeID.getActorID()&&a.add(o);this.setOnlineClients(a),this.publish([{type:"initialized",source:je.Local,value:this.getPresences()}]);return}if(e.body.case==="event"){const{type:r,publisher:a}=e.body.value,o=[];if(r===xo.DOCUMENT_WATCHED){if(this.onlineClients.has(a)&&this.hasPresence(a))return;this.addOnlineClient(a),this.hasPresence(a)&&o.push({type:"watched",source:je.Remote,value:{clientID:a,presence:this.getPresence(a)}})}else if(r===xo.DOCUMENT_UNWATCHED){const c=this.getPresence(a);this.removeOnlineClient(a),c&&o.push({type:"unwatched",source:je.Remote,value:{clientID:a,presence:c}})}o.length&&this.publish(o)}}applyStatus(e){this.status=e,e==="detached"&&this.setActor(ph),this.publish([{source:e==="removed"?je.Remote:je.Local,type:"status-changed",value:e==="attached"?{status:e,actorID:this.changeID.getActorID()}:{status:e}}])}applyDocEventsForReplay(e){for(const r of e){if(r.type==="status-changed"){this.applyStatus(r.value.status),r.value.status==="attached"&&this.setActor(r.value.actorID);continue}if(r.type==="snapshot"){const{snapshot:a,serverSeq:o,snapshotVector:c}=r.value;if(!a)continue;this.applySnapshot(BigInt(o),Xe.hexToVersionVector(c),Xe.hexToBytes(a));continue}if(r.type==="local-change"||r.type==="remote-change"){if(!r.rawChange)continue;const a=Ra.fromStruct(r.rawChange);this.applyChange(a,r.source)}if(r.type==="initialized"){const a=new Set;for(const{clientID:o,presence:c}of r.value)a.add(o),this.presences.set(o,c);this.setOnlineClients(a)}else if(r.type==="watched"){const{clientID:a,presence:o}=r.value;this.addOnlineClient(a),this.presences.set(a,o)}else if(r.type==="unwatched"){const{clientID:a}=r.value;this.removeOnlineClient(a),this.presences.delete(a)}else if(r.type==="presence-changed"){const{clientID:a,presence:o}=r.value;this.presences.set(a,o)}}}getValueByPath(e){if(!e.startsWith("$"))throw new T(E.ErrInvalidArgument,'path must start with "$"');const r=e.split(".");r.shift();let a=this.getRoot();for(const o of r)if(a=a[o],!a)return;return a}setOnlineClients(e){this.onlineClients=e}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(e){this.onlineClients.add(e)}removeOnlineClient(e){this.onlineClients.delete(e)}hasPresence(e){return this.presences.has(e)}getMyPresence(){if(this.status!=="attached")return{};const e=this.presences.get(this.changeID.getActorID());return e?Nn(e):{}}getOthersPresences(){const e=[],r=this.changeID.getActorID();for(const a of this.onlineClients)a!==r&&this.presences.has(a)&&e.push({clientID:a,presence:Nn(this.presences.get(a))});return e}getPresence(e){if(e===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(e))return;const r=this.presences.get(e);return r?Nn(r):void 0}getPresences(){const e=[];e.push({clientID:this.changeID.getActorID(),presence:Nn(this.getMyPresence())});for(const r of this.onlineClients)this.presences.has(r)&&e.push({clientID:r,presence:Nn(this.presences.get(r))});return e}getPresenceForTest(e){const r=this.presences.get(e);return r?Nn(r):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const e=this.getChangeID().getActorID();return this.getPresences().filter(r=>r.clientID!==e).sort((r,a)=>r.clientID>a.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(e,r){if(r===e)return!0;const a=e.split(".");return r.split(".").every((o,c)=>o===a[c])}removePushedLocalChanges(e){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>e);)this.localChanges.shift()}executeUndoRedo(e){if(this.isUpdating)throw new T(E.ErrRefused,`${e?"Undo":"Redo"} is not allowed during an update`);const r=e?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!r)throw new T(E.ErrRefused,`There is no operation to be ${e?"undone":"redone"}`);this.ensureClone();const a=Os.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const b of r){if(!(b instanceof Dn)){new o0(a,Nn(this.clone.presences.get(this.changeID.getActorID()))).set(b.value,{addToHistory:!0});continue}const A=a.issueTimeTicket();if(b.setExecutedAt(A),b instanceof fi){const w=b.getCreatedAt();b.getValue().setCreatedAt(A),this.internalHistory.reconcileCreatedAt(w,A)}else if(b instanceof ji){const w=b.getValue().getCreatedAt();b.getValue().setCreatedAt(A),this.internalHistory.reconcileCreatedAt(w,A)}a.push(b)}const o=a.toChange();o.execute(this.clone.root,this.clone.presences,je.UndoRedo);const{opInfos:c,reverseOps:h}=o.execute(this.root,this.presences,je.UndoRedo),d=a.getReversePresence();if(d&&h.push({type:"presence",value:d}),h.length&&(e?this.internalHistory.pushRedo(h):this.internalHistory.pushUndo(h)),!o.hasPresenceChange()&&!c.length)return;this.localChanges.push(o),this.changeID=a.getNextID();const y=this.changeID.getActorID(),m=[];c.length&&m.push({type:"local-change",source:je.UndoRedo,value:{message:o.getMessage()||"",operations:c,actor:y,clientSeq:o.getID().getClientSeq(),serverSeq:o.getID().getServerSeq()},rawChange:this.isEnableDevtools()?o.toStruct():void 0}),o.hasPresenceChange()&&m.push({type:"presence-changed",source:je.UndoRedo,value:{clientID:y,presence:this.getPresence(y)}}),this.publish(m)}}class f0{resource;resourceID;syncMode;changeEventReceived;lastHeartbeatTime;reconnectStreamDelay;cancelled;watchStream;watchLoopTimerID;watchAbortController;constructor(e,r,a,o){this.reconnectStreamDelay=e,this.resource=r,this.resourceID=a,this.syncMode=o,this.changeEventReceived=o!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(e){this.syncMode=e}needRealtimeSync(){return this.syncMode===Is.RealtimeSyncOff?!1:this.syncMode===Is.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==Is.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(e){return this.resource instanceof Yi?this.needRealtimeSync():this.syncMode===Is.Manual?!1:Date.now()-this.lastHeartbeatTime>=e}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(e){const r=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await e(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(r,this.reconnectStreamDelay))})}catch{}};await r()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function OT(i,e){let r=e;return{authInterceptor:c=>async h=>(i&&h.header.set("x-api-key",i),r&&h.header.set("authorization",r),await c(h)),setToken:c=>{r=c}}}const VT="@yorkie-js/sdk",UT="0.6.42",h0={name:VT,version:UT};function BT(i){return e=>async r=>(i?r.header.set("x-yorkie-user-agent",i):r.header.set("x-yorkie-user-agent",h0.name+"/"+h0.version),await e(r))}const LT=i=>{try{if(JSON.stringify(i)===void 0)return!1}catch{return!1}return!0};var Cs=(i=>(i.Detached="detached",i.Attached="attached",i.Removed="removed",i))(Cs||{}),ha=(i=>(i.PresenceChanged="presence-changed",i.Initialized="initialized",i.Broadcast="broadcast",i.LocalBroadcast="local-broadcast",i.AuthError="auth-error",i))(ha||{});const Ts=".";class zi{key;status;actorID;sessionID;count;seq;eventStream;eventStreamObserver;constructor(e){this.validateChannelKey(e),this.key=e,this.status="detached",this.count=0,this.seq=0,this.eventStream=kb(r=>this.eventStreamObserver=r)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(Ts)[0]}getStatus(){return this.status}applyStatus(e){this.status=e}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(e){this.actorID=e}getSessionID(){return this.sessionID}setSessionID(e){this.sessionID=e}getPresenceCount(){return this.count}updateCount(e,r){return r===0||r>this.seq?(this.count=e,this.seq=r,!0):!1}hasLocalChanges(){return!1}subscribe(e,r){if(typeof e=="function")return this.eventStream.subscribe(e);const a=e,o=r;if(!o)throw new Error("callback is required when subscribing to specific event type or topic");if(a==="broadcast")return this.eventStream.subscribe(h=>{h.type==="broadcast"&&o(h)});if(a==="local-broadcast")return this.eventStream.subscribe(h=>{h.type==="local-broadcast"&&o(h)});if(a==="auth-error")return this.eventStream.subscribe(h=>{h.type==="auth-error"&&o(h)});if(a==="presence")return this.eventStream.subscribe(h=>{(h.type==="presence-changed"||h.type==="initialized")&&o(h)});if(a==="all")return this.eventStream.subscribe(o);const c=a;return this.eventStream.subscribe(h=>{h.type==="broadcast"&&h.topic===c&&o(h)})}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}broadcast(e,r,a){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:e,payload:r,options:a})}validateChannelKey(e){if(e==="")throw new Error("channel key must not be empty");if(e.includes(" "))throw new Error("channel key must not contain a whitespace");if(e.startsWith(Ts))throw new Error("channel key must not start with a period");if(e.endsWith(Ts))throw new Error("channel key must not end with a period");if(e.includes(`${Ts}${Ts}`))throw new Error("channel key path must not empty")}}var Is=(i=>(i.Manual="manual",i.Realtime="realtime",i.RealtimePushOnly="realtime-pushonly",i.RealtimeSyncOff="realtime-syncoff",i))(Is||{});const oa={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},Cf={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class Hb{id;key;metadata;status;attachmentMap;apiKey;authTokenInjector;conditions;syncLoopDuration;reconnectStreamDelay;retrySyncLoopDelay;channelHeartbeatInterval;rpcClient;setAuthToken;taskQueue;processing=!1;keepalive=!1;constructor(e){e=e||oa;const r=e.rpcAddr||oa.rpcAddr;this.key=e.key||Jb(),this.metadata=e.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=e.apiKey||"",this.authTokenInjector=e.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=e.syncLoopDuration??oa.syncLoopDuration,this.reconnectStreamDelay=e.reconnectStreamDelay??oa.reconnectStreamDelay,this.retrySyncLoopDelay=e.retrySyncLoopDelay??oa.retrySyncLoopDelay,this.channelHeartbeatInterval=e.channelHeartbeatInterval??oa.channelHeartbeatInterval;const{authInterceptor:a,setToken:o}=OT(this.apiKey);this.setAuthToken=o,this.rpcClient=i2(lN,w2({baseUrl:r,interceptors:[a,BT(e?.userAgent)],fetch:(c,h)=>fetch(c,{...h,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const e=await this.authTokenInjector();this.setAuthToken(e)}return this.enqueueTask(async()=>{try{const e=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=e.clientId,this.status="activated",this.runSyncLoop(),j.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(e){throw j.error(`[AC] c:"${this.getKey()}" err :`,e),await this.handleConnectError(e),e}})}deactivate(e={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const r=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:e.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),j.info(`[DC] c"${this.getKey()}" deactivated`)}catch(a){throw j.error(`[DC] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}};if(e.keepalive){this.keepalive=!0;const a=r();return this.keepalive=!1,a}return this.enqueueTask(r)}has(e){return this.attachmentMap.has(e)}attach(e,r){return e instanceof zi?this.attachChannel(e,r):this.attachDocument(e,r)}attachDocument(e,r={}){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==Zi.Detached)throw new T(E.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id),e.update((o,c)=>c.set(r.initialPresence||{}));const a=r.syncMode??"realtime";return this.enqueueTask(async()=>{try{const o=await this.rpcClient.attachDocument({clientId:this.id,changePack:Xe.toChangePack(e.createChangePack()),schemaKey:r.schema},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});(o.maxSizePerDocument??0)>0&&e.setMaxSizePerDocument(o.maxSizePerDocument),o.schemaRules.length>0&&e.setSchemaRules(Xe.fromSchemaRules(o.schemaRules));const h=Xe.fromChangePack(o.changePack);if(e.applyChangePack(h),e.getStatus()===Zi.Removed)return e;e.applyStatus(Zi.Attached),this.attachmentMap.set(e.getKey(),new f0(this.reconnectStreamDelay,e,o.documentId,a)),a!=="manual"&&await this.runWatchLoop(e.getKey()),j.info(`[AD] c:"${this.getKey()}" attaches d:"${e.getKey()}"`);const d=e.getRootObject();if(r.initialRoot){const y=r.initialRoot;e.update(m=>{for(const[b,A]of Object.entries(y))if(!d.has(b)){const w=b;m[w]=A}})}return e}catch(o){throw j.error(`[AD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}detach(e,r){return e instanceof zi?this.detachChannel(e):this.detachDocument(e,r)}detachDocument(e,r={keepalive:!1}){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);e.update((c,h)=>h.clear());const o=async()=>{try{const c=await this.rpcClient.detachDocument({clientId:this.id,documentId:a.resourceID,changePack:Xe.toChangePack(e.createChangePack()),removeIfNotAttached:r.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),h=Xe.fromChangePack(c.changePack);return e.applyChangePack(h),e.getStatus()!==Zi.Removed&&e.applyStatus(Zi.Detached),this.detachInternal(e.getKey()),j.info(`[DD] c:"${this.getKey()}" detaches d:"${e.getKey()}"`),e}catch(c){throw j.error(`[DD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};if(r.keepalive){this.keepalive=!0;const c=o();return this.keepalive=!1,c}return this.enqueueTask(o)}async attachChannel(e,r={}){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==Cs.Detached)throw new T(E.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id);const a=async()=>{try{const o=await this.rpcClient.attachChannel({clientId:this.id,channelKey:e.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});e.setSessionID(o.sessionId),e.updateCount(Number(o.count),0),e.applyStatus(Cs.Attached);const c=r.isRealtime!==!1?"realtime":"manual",h=new f0(this.reconnectStreamDelay,e,o.sessionId,c);return e.subscribe("local-broadcast",d=>{const{topic:y,payload:m,options:b}=d;this.broadcast(e.getKey(),y,m,b).catch(A=>{b?.error&&b.error(A),j.error(`[BC] c:"${this.getKey()}" failed: ${A}`)})}),this.attachmentMap.set(e.getKey(),h),c==="realtime"&&await this.runWatchLoop(e.getKey()),j.info(`[AP] c:"${this.getKey()}" attaches p:"${e.getKey()}" mode:${c} count:${e.getPresenceCount()}`),e}catch(o){throw j.error(`[AP] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}};return this.enqueueTask(a)}async detachChannel(e){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(e.getKey()))throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);const r=async()=>{try{const a=await this.rpcClient.detachChannel({clientId:this.id,channelKey:e.getKey(),sessionId:e.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});return e.updateCount(Number(a.count),0),e.applyStatus(Cs.Detached),this.detachInternal(e.getKey()),j.info(`[DP] c:"${this.getKey()}" detaches p:"${e.getKey()}" count:${e.getPresenceCount()}`),e}catch(a){throw j.error(`[DP] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}};return this.enqueueTask(r)}async changeSyncMode(e,r){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);const o=a.syncMode;return o===r?e:(a.changeSyncMode(r),r==="manual"?(a.cancelWatchStream(),e):(r==="realtime"&&(a.changeEventReceived=!0),o==="manual"&&await this.runWatchLoop(e.getKey()),e))}sync(e){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);if(e instanceof zi){const r=this.attachmentMap.get(e.getKey());if(!r)throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(r).catch(async a=>{throw j.error(`[SY] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}))}if(e instanceof Yi){const r=this.attachmentMap.get(e.getKey());if(!r)throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(r,"realtime").catch(async a=>{throw j.error(`[SY] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a}))}return this.enqueueTask(async()=>{const r=[];for(const[,a]of this.attachmentMap)a.syncMode!==void 0&&a.resource instanceof Yi&&r.push(this.syncInternal(a,a.syncMode));return Promise.all(r).catch(async a=>{throw j.error(`[SY] c:"${this.getKey()}" err :`,a),await this.handleConnectError(a),a})})}remove(e){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(e.getKey());if(!r)throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);e.setActor(this.id);const a=Xe.toChangePack(e.createChangePack());return a.isRemoved=!0,this.enqueueTask(async()=>{try{const o=await this.rpcClient.removeDocument({clientId:this.id,documentId:r.resourceID,changePack:a},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),c=Xe.fromChangePack(o.changePack);e.applyChangePack(c),this.detachInternal(e.getKey()),j.info(`[RD] c:"${this.getKey()}" removes d:"${e.getKey()}"`)}catch(o){throw j.error(`[RD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(e){return this.conditions[e]}async createRevision(e,r,a){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);const o=this.attachmentMap.get(e.getKey());if(!o)throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);const c=async()=>{try{const h=await this.rpcClient.createRevision({clientId:this.id,documentId:o.resourceID,label:r,description:a||""},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!h.revision)throw new T(E.ErrInvalidArgument,"revision is not returned");return j.info(`[CR] c:"${this.getKey()}" creates revision d:"${e.getKey()}" l:"${r}"`),Xe.toRevisionSummary(h.revision)}catch(h){throw j.error(`[CR] c:"${this.getKey()}" err :`,h),await this.handleConnectError(h),h}};return this.enqueueTask(c)}async listRevisions(e,r){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{const c=await this.rpcClient.listRevisions({clientId:this.id,documentId:a.resourceID,pageSize:r?.pageSize||10,offset:r?.offset||0,isForward:r?.isForward??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});return j.info(`[LR] c:"${this.getKey()}" lists revisions d:"${e.getKey()}" count:${c.revisions.length}`),c.revisions.map(Xe.toRevisionSummary)}catch(c){throw j.error(`[LR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async getRevision(e,r){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{const c=await this.rpcClient.getRevision({clientId:this.id,documentId:a.resourceID,revisionId:r},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!c.revision)throw new T(E.ErrInvalidArgument,"revision is not returned");return j.info(`[GR] c:"${this.getKey()}" gets revision d:"${e.getKey()}" r:"${r}"`),Xe.toRevisionSummary(c.revision)}catch(c){throw j.error(`[GR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async restoreRevision(e,r){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new T(E.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,documentId:a.resourceID,revisionId:r},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),j.info(`[RR] c:"${this.getKey()}" restores revision d:"${e.getKey()}" r:"${r}"`)}catch(c){throw j.error(`[RR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async broadcast(e,r,a,o){if(!this.isActive())throw new T(E.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(e);if(!c)throw new T(E.ErrNotAttached,`${e} is not attached`);if(!LT(a))throw new T(E.ErrInvalidArgument,"payload is not serializable");const h=c.resource,d=o?.maxRetries??Cf.maxRetries,y=Cf.maxBackoff;let m=0;const b=w=>Math.min(Cf.initialRetryInterval*2**w,y),A=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:e,topic:r,payload:new TextEncoder().encode(JSON.stringify(a))},{headers:{"x-shard-key":`${this.apiKey}/${h.getFirstKeyPath()}`}}),j.info(`[BC] c:"${this.getKey()}" broadcasts p:"${e}" t:"${r}"`)}catch(w){if(j.error(`[BC] c:"${this.getKey()}" err:`,w),await this.handleConnectError(w))if(Tf(w,E.ErrUnauthenticated)&&c.resource instanceof zi&&c.resource.publish({type:ha.AuthError,reason:Rs(w).reason||"unauthenticated",method:"Broadcast"}),m<d)m++,setTimeout(()=>A(),b(m-1)),j.info(`[BC] c:"${this.getKey()}" retry attempt ${m}/${d}`);else throw j.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),w}});return A()}runSyncLoop(){const e=async()=>{if(!this.isActive()){j.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const r=[];for(const[,a]of this.attachmentMap)a.needSync(this.channelHeartbeatInterval)&&(a.changeEventReceived!==void 0&&(a.changeEventReceived=!1),r.push(this.syncInternal(a,a.syncMode).catch(o=>{throw Tf(o,E.ErrUnauthenticated)&&a.resource.publish([{type:ft.AuthError,value:{reason:Rs(o).reason,method:"PushPull"}}]),o})));await Promise.all(r),setTimeout(e,this.syncLoopDuration)})}catch(r){j.error(`[SL] c:"${this.getKey()}" sync failed:`,r),await this.handleConnectError(r)?setTimeout(e,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};j.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,e()}async runWatchLoop(e){const r=this.attachmentMap.get(e);if(!r)throw new T(E.ErrNotAttached,`${e} is not attached`);return this.conditions.WatchLoop=!0,r.runWatchLoop(a=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new T(E.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(e))return this.conditions.WatchLoop=!1,Promise.reject(new T(E.ErrNotAttached,`${e} is not attached`));const o=new AbortController;return r.resource instanceof Yi?this.createDocumentWatchStream(r,e,o,a):r.resource instanceof zi?this.createChannelWatchStream(r,e,o,a):Promise.reject(new T(E.ErrClientNotActivated,`Unknown resource type for ${e}`))})}createDocumentWatchStream(e,r,a,o){const c=this.rpcClient.watchDocument({clientId:this.id,documentId:e.resourceID},{headers:{"x-shard-key":`${this.apiKey}/${r}`},signal:a.signal});return e.resource.publish([{type:ft.ConnectionChanged,value:Us.Connected}]),j.info(`[WD] c:"${this.getKey()}" watches d:"${r}"`),e.changeEventReceived!==void 0&&(e.changeEventReceived=!0),new Promise((h,d)=>{(async()=>{try{for await(const m of c)this.handleWatchDocumentResponse(e,m),m.body.case==="initialization"&&h([c,a]);e.resource.resetOnlineClients(),e.resource.publish([{type:ft.Initialized,source:je.Local,value:e.resource.getPresences()}]),e.resource.publish([{type:ft.ConnectionChanged,value:Us.Disconnected}]),j.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`),o()}catch(m){e.resource.resetOnlineClients(),e.resource.publish([{type:ft.Initialized,source:je.Local,value:e.resource.getPresences()}]),e.resource.publish([{type:ft.ConnectionChanged,value:Us.Disconnected}]),j.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(m)?(Tf(m,E.ErrUnauthenticated)&&e.resource.publish([{type:ft.AuthError,value:{reason:Rs(m).reason,method:"WatchDocument"}}]),o()):this.conditions.WatchLoop=!1,d(m)}})()})}createChannelWatchStream(e,r,a,o){const c=this.rpcClient.watchChannel({clientId:this.id,channelKey:r},{headers:{"x-shard-key":`${this.apiKey}/${e.resource.getFirstKeyPath()}`},signal:a.signal});return j.info(`[WP] c:"${this.getKey()}" watches p:"${r}"`),new Promise((h,d)=>{(async()=>{try{let m=!0;for await(const b of c)this.handleWatchChannelResponse(e,b),m&&(m=!1,h([c,a]));j.debug(`[WP] c:"${this.getKey()}" p:"${r}" stream ended`),o()}catch(m){if(m instanceof Error&&m.name==="AbortError"){j.debug(`[WP] c:"${this.getKey()}" p:"${r}" stream aborted`);return}j.debug(`[WP] c:"${this.getKey()}" p:"${r}" err:`,m),await this.handleConnectError(m)?o():this.conditions.WatchLoop=!1,d(m)}})()})}handleWatchChannelResponse(e,r){const a=e.resource;if(r.body.case==="initialized"){const{count:o,seq:c}=r.body.value;a.updateCount(Number(o),Number(c))&&a.publish({type:ha.Initialized,count:Number(o)})}else if(r.body.case==="event"){const o=r.body.value;if(o.type===pb.BROADCAST){const c=new TextDecoder;try{const h=JSON.parse(c.decode(o.payload));a.publish({type:ha.Broadcast,clientID:o.publisher,topic:o.topic,payload:h})}catch(h){j.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,h)}return}a.updateCount(Number(o.count),Number(o.seq))&&a.publish({type:ha.PresenceChanged,count:Number(o.count)})}}handleWatchDocumentResponse(e,r){if(r.body.case==="event"&&r.body.value.type===xo.DOCUMENT_CHANGED){e.changeEventReceived!==void 0&&(e.changeEventReceived=!0);return}e.resource.applyWatchStream(r)}deactivateInternal(){this.status="deactivated";for(const[e,r]of this.attachmentMap)this.detachInternal(e),r.resource instanceof Yi?r.resource.applyStatus(Zi.Detached):r.resource instanceof zi&&r.resource.applyStatus(Cs.Detached)}detachInternal(e){const r=this.attachmentMap.get(e);r&&(r.cancelWatchStream(),r.resource instanceof Yi&&r.resource.resetOnlineClients(),this.attachmentMap.delete(e))}async syncInternal(e,r){const{resource:a}=e;if(a instanceof zi){try{const d=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:a.getKey(),sessionId:a.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${a.getFirstKeyPath()}`}});a.updateCount(Number(d.count),0),e.updateHeartbeatTime(),j.debug(`[RP] c:"${this.getKey()}" refreshes p:"${a.getKey()}" mode:${e.syncMode}`)}catch(d){throw j.error(`[RP] c:"${this.getKey()}" err :`,d),d}return a}const o=a,{resourceID:c}=e,h=o.createChangePack();try{const d=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:c,changePack:Xe.toChangePack(h),pushOnly:r==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}}),y=Xe.fromChangePack(d.changePack);if(y.hasChanges()&&(e.syncMode==="realtime-pushonly"||e.syncMode==="realtime-syncoff"))return o;o.applyChangePack(y),e.resource.publish([{type:ft.SyncStatusChanged,value:Gf.Synced}]),o.getStatus()===Zi.Removed&&this.detachInternal(o.getKey());const m=o.getKey(),b=y.getChangeSize();return j.info(`[PP] c:"${this.getKey()}" sync d:"${m}", push:${h.getChangeSize()} pull:${b} cp:${y.getCheckpoint().toTestString()}`),o}catch(d){throw o.publish([{type:ft.SyncStatusChanged,value:Gf.SyncFailed}]),j.error(`[PP] c:"${this.getKey()}" err :`,d),d}}async handleConnectError(e){if(!(e instanceof Ue))return!1;if(e.code===pe.Canceled||e.code===pe.Unknown||e.code===pe.ResourceExhausted||e.code===pe.Unavailable)return!0;if(ua(e)===E.ErrUnauthenticated){if(this.authTokenInjector){const r=await this.authTokenInjector(Rs(e).reason);this.setAuthToken(r)}return!0}return ua(e)===E.ErrTooManySubscribers?(j.error(`[WD] c:"${this.getKey()}" err :`,e.rawMessage),!0):(ua(e)===E.ErrTooManyAttachments||(ua(e)===E.ErrClientNotActivated||ua(e)===E.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(e){return new Promise((r,a)=>{this.taskQueue.push(()=>e().then(r).catch(a)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{j.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}function Qb(i){return typeof i=="object"&&i!==null&&i.type==="Text"&&Array.isArray(i.nodes)}function $b(i){return typeof i=="object"&&i!==null&&i.type==="Tree"&&typeof i.root=="object"}function Pb(i){return typeof i=="object"&&i!==null&&i.type==="Int"&&typeof i.value=="number"}function qb(i){return typeof i=="object"&&i!==null&&i.type==="Long"&&typeof i.value=="number"}function ev(i){return typeof i=="object"&&i!==null&&i.type==="Date"&&typeof i.value=="string"}function tv(i){return typeof i=="object"&&i!==null&&i.type==="BinData"&&typeof i.value=="string"}function nv(i){return typeof i=="object"&&i!==null&&i.type==="Counter"&&typeof i.value=="object"}function MT(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)&&!Qb(i)&&!$b(i)&&!Pb(i)&&!qb(i)&&!ev(i)&&!tv(i)&&!nv(i)}function _T(i){try{const e=ZT(i),r=JSON.parse(e);return Co(r)}catch(e){throw new T(E.ErrInvalidArgument,`Failed to parse YSON: ${e instanceof Error?e.message:String(e)}`)}}function ZT(i){let e=i;return e=e.replace(/Counter\((Int|Long)\((-?\d+)\)\)/g,(r,a,o)=>`{"__yson_type":"Counter","__yson_data":{"__yson_type":"${a}","__yson_data":${o}}}`),e=e.replace(/Int\((-?\d+)\)/g,(r,a)=>`{"__yson_type":"Int","__yson_data":${a}}`),e=e.replace(/Long\((-?\d+)\)/g,(r,a)=>`{"__yson_type":"Long","__yson_data":${a}}`),e=e.replace(/Date\("([^"]*)"\)/g,(r,a)=>`{"__yson_type":"Date","__yson_data":"${a}"}`),e=e.replace(/BinData\("([^"]*)"\)/g,(r,a)=>`{"__yson_type":"BinData","__yson_data":"${a}"}`),e=e.replace(/Text\((\[(?:[^[\]]|\[(?:[^[\]]|\[[^[\]]*\])*\])*\])\)/g,(r,a)=>`{"__yson_type":"Text","__yson_data":${a}}`),e=e.replace(/Tree\((\{[^{}]*(?:\{[^{}]*(?:\{[^{}]*\})*[^{}]*\})*[^{}]*\})\)/g,(r,a)=>`{"__yson_type":"Tree","__yson_data":${a}}`),e}function Co(i){if(i===null||typeof i!="object")return i;if(i.__yson_type==="Int"&&typeof i.__yson_data=="number")return{type:"Int",value:i.__yson_data};if(i.__yson_type==="Long"&&typeof i.__yson_data=="number")return{type:"Long",value:i.__yson_data};if(i.__yson_type==="Date"&&typeof i.__yson_data=="string")return{type:"Date",value:i.__yson_data};if(i.__yson_type==="BinData"&&typeof i.__yson_data=="string")return{type:"BinData",value:i.__yson_data};if(i.__yson_type==="Counter"&&typeof i.__yson_data=="object"){const r=Co(i.__yson_data);if(typeof r=="object"&&r!==null&&"type"in r&&(r.type==="Int"||r.type==="Long"))return{type:"Counter",value:r};throw new T(E.ErrInvalidArgument,"Counter must contain Int or Long")}if(i.__yson_type==="Text"&&Array.isArray(i.__yson_data))return{type:"Text",nodes:i.__yson_data.map(r=>zT(r))};if(i.__yson_type==="Tree"&&typeof i.__yson_data=="object")return{type:"Tree",root:iv(i.__yson_data)};if(Array.isArray(i))return i.map(r=>Co(r));const e={};for(const[r,a]of Object.entries(i))e[r]=Co(a);return e}function zT(i){if(typeof i!="object"||i===null||typeof i.val!="string")throw new T(E.ErrInvalidArgument,"invalid text node format");const e={val:i.val};return i.attrs&&typeof i.attrs=="object"&&(e.attrs=i.attrs),e}function iv(i){if(typeof i!="object"||i===null||typeof i.type!="string")throw new T(E.ErrInvalidArgument,"invalid tree node format");const e={type:i.type};return i.type==="text"&&typeof i.value=="string"?(e.value=i.value,e):(i.attrs&&typeof i.attrs=="object"&&(e.attrs=i.attrs),Array.isArray(i.children)&&(e.children=i.children.map(r=>iv(r))),e)}function YT(i){return i.nodes.map(e=>e.val).join("")}function GT(i){return rv(i.root)}function rv(i){const e=i.attrs?Object.entries(i.attrs).map(([a,o])=>` ${a}="${d0(o)}"`).join(""):"";if(i.type==="text"&&i.value!==void 0)return`<${i.type}${e}>${d0(i.value)}</${i.type}>`;if(!i.children||i.children.length===0)return`<${i.type}${e} />`;const r=i.children.map(a=>rv(a)).join("");return`<${i.type}${e}>${r}</${i.type}>`}function d0(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const WT=Object.freeze(Object.defineProperty({__proto__:null,isBinData:tv,isCounter:nv,isDate:ev,isInt:Pb,isLong:qb,isObject:MT,isText:Qb,isTree:$b,parse:_T,textToString:YT,treeToXML:GT},Symbol.toStringTag,{value:"Module"}));Yn.Int,Yn.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:Hb,Document:Yi,Primitive:He,Text:Dh,Counter:xh,Tree:Uh,Channel:zi,ChannelEventType:ha,YSON:WT,LogLevel:Mt,setLogLevel:hT,IntType:Yn.Int,LongType:Yn.Long});const KT="@yorkie-js/react",XT="0.6.42",g0={name:KT,version:XT},av=ue.createContext({client:void 0,loading:!0,error:void 0});function JT(i){const[e,r]=ue.useState(void 0),[a,o]=ue.useState(!0),[c,h]=ue.useState(void 0),[d,y]=ue.useState(!1);return ue.useEffect(()=>{y(!0)},[]),ue.useEffect(()=>{o(!0),h(void 0);async function m(){if(d)try{const b=new Hb(i);await b.activate(),r(b)}catch(b){h(b instanceof Error?b:new Error("Failed to activate client"))}finally{o(!1)}}return m(),()=>{e?.isActive()&&e.deactivate({keepalive:!0})}},[i.apiKey,i.rpcAddr,d]),{client:e,loading:a,error:c}}const kT=({children:i,...e})=>{const r=ue.useMemo(()=>({userAgent:g0.name+"/"+g0.version,...e}),[e.apiKey,e.rpcAddr]),{client:a,loading:o,error:c}=JT(r);return P.jsx(av.Provider,{value:{client:a,loading:o,error:c},children:i})},jT=()=>{const i=ue.useContext(av);if(!i)throw new Error("useYorkie must be used under YorkieProvider");return{client:i.client,loading:i.loading,error:i.error}};function FT(i){const e=new Set;let r=i;const a=()=>{e.forEach(y=>y(r))};return{subscribe:y=>(e.add(y),()=>e.delete(y)),getSnapshot:()=>r,setState:y=>{const m=r;r=typeof y=="function"?y(m):y,m!==r&&a()},destroy:()=>{e.clear()}}}const HT=i=>FT(i);function QT(i,e,r=Object.is){const a=ue.useRef(e),o=ue.useRef(r),c=ue.useRef(void 0);a.current=e,o.current=r;const h=()=>{const d=i.getSnapshot(),y=a.current?a.current(d):d;return c.current!==void 0&&o.current(c.current,y)?c.current:(c.current=y,y)};return ue.useSyncExternalStore(i.subscribe,h,h)}function $T(i,e,r,a,o,c,h,d){const y=ue.useRef(o),m=ue.useRef(c),[b,A]=ue.useState(!1);ue.useEffect(()=>{A(!0)},[]),ue.useEffect(()=>{if(r){d.setState(V=>({...V,loading:!1,error:r}));return}if(!i||e||!b){d.setState(V=>({...V,loading:!0}));return}d.setState(V=>({...V,loading:!0,error:void 0}));const w=new Yi(a,{enableDevtools:h}),R=[];R.push(w.subscribe(()=>{d.setState(V=>({...V,root:w.getRoot()}))})),R.push(w.subscribe("presence",()=>{d.setState(V=>({...V,presences:w.getPresences()}))})),R.push(w.subscribe("connection",V=>{d.setState(Y=>({...Y,connection:V.value}))}));async function C(){try{await i?.attach(w,{initialRoot:y.current,initialPresence:m.current});const V=Y=>{try{w.update(Y)}catch(H){d.setState(ne=>({...ne,error:H instanceof Error?H:new Error("Failed to update document")}))}};d.setState(Y=>({...Y,doc:w,root:w.getRoot(),presences:w.getPresences(),update:V}))}catch(V){d.setState(Y=>({...Y,error:V instanceof Error?V:new Error("Failed to attach document")}))}finally{d.setState(V=>({...V,loading:!1}))}}return C(),()=>{i&&i.has(a)&&i.detach(w);for(const V of R)V()}},[i,e,r,a,d,b])}const sv=ue.createContext(void 0),PT=({docKey:i,initialRoot:e={},initialPresence:r={},enableDevtools:a=!1,children:o})=>{const{client:c,loading:h,error:d}=jT(),y=ue.useRef(void 0);y.current||(y.current=HT({doc:void 0,root:e,presences:[],connection:Us.Disconnected,update:()=>{},loading:!0,error:void 0}));const m=y.current;return $T(c,h,d,i,e,r,a,m),P.jsx(sv.Provider,{value:m,children:o})};function qT(){const i=ue.useContext(sv);if(!i)throw new Error("useDocument must be used within a DocumentProvider");return QT(i)}ue.createContext(void 0);class m0{constructor(e,r){this.x=e,this.y=r,this.lifetime=0}}function Wf(i,e){if(i.length<3)return i;let r=0,a=0;const[o,c]=[i[0],i[i.length-1]],h=c.x-o.x,d=c.y-o.y,y=Math.hypot(h,d)||1;for(let m=1;m<i.length-1;m++){const b=i[m],A=Math.abs(d*b.x-h*b.y+c.x*o.y-c.y*o.x)/y;A>r&&(r=A,a=m)}if(r>e){const m=Wf(i.slice(0,a+1),e),b=Wf(i.slice(a),e);return m.slice(0,-1).concat(b)}return[o,c]}function eR(i,e){const[r,a,o,c]=i,h=e*e,d=h*e;return{x:.5*(2*a.x+(-r.x+o.x)*e+(2*r.x-5*a.x+4*o.x-c.x)*h+(-r.x+3*a.x-3*o.x+c.x)*d),y:.5*(2*a.y+(-r.y+o.y)*e+(2*r.y-5*a.y+4*o.y-c.y)*h+(-r.y+3*a.y-3*o.y+c.y)*d)}}function tR(i,e,r,a,o,c){const h=o-r,d=c-a,y=i-r,m=e-a,b=h*h+d*d||1;let A=(y*h+m*d)/b;A<0?A=0:A>1&&(A=1);const w=r+A*h,R=a+A*d;return Math.hypot(i-w,e-R)}const y0=6;function nR({xPos:i,yPos:e,tool:r="pen",color:a="black",maxTrail:o=128,rdpEpsilon:c=0,splineStep:h=.019,pointerDown:d=!1,visible:y=!0,resetNonce:m=0}){const b=ue.useRef(null),A=ue.useRef([]),w=ue.useRef(!1),R=ue.useRef({x:null,y:null});return ue.useEffect(()=>{const C=b.current?.getContext("2d");C&&(A.current=[],C.clearRect(0,0,C.canvas.width,C.canvas.height),w.current=!1,R.current={x:null,y:null})},[m]),ue.useEffect(()=>{if(!d){w.current=!1,R.current={x:null,y:null};return}if(r==="eraser"){A.current=A.current.filter(ne=>{const K=ne.points;if(K.length<2)return!0;const ee=Math.max(ne.width,y0)*.75;for(let J=1;J<K.length;J++){const X=K[J-1],W=K[J],re=Math.min(X.x,W.x)-ee,Je=Math.max(X.x,W.x)+ee,dt=Math.min(X.y,W.y)-ee,ot=Math.max(X.y,W.y)+ee;if(!(i<re||i>Je||e<dt||e>ot)&&tR(i,e,X.x,X.y,W.x,W.y)<=ee)return!1}return!0});return}if(!w.current){const ne=new m0(i,e);r==="fading"&&(ne.age=0),A.current.push({tool:r,color:a,width:y0,points:[ne]}),w.current=!0,R.current={x:i,y:e};return}const C=R.current,V=i-C.x,Y=e-C.y,H=Math.hypot(V,Y);if(H>0){const ne=Math.ceil(H/15),K=A.current.at(-1);for(let ee=1;ee<=ne;ee++){const J=ee/ne,X=C.x+V*J,W=C.y+Y*J,re=new m0(X,W);K.tool==="eraser"&&(re.erase=!0),K.tool==="fading"&&(re.age=0),K.points.push(re)}R.current={x:i,y:e}}},[i,e,r,d]),ue.useEffect(()=>{const C=b.current,V=C.getContext("2d"),Y=window.devicePixelRatio||1;C.width=window.innerWidth*Y,C.height=window.innerHeight*Y,C.style.width=`${window.innerWidth}px`,C.style.height=`${window.innerHeight}px`,V.setTransform(Y,0,0,Y,0,0)},[]),ue.useEffect(()=>{if(!y){const K=b.current?.getContext("2d");K&&K.clearRect(0,0,K.canvas.width,K.canvas.height);return}const C=b.current,V=C.getContext("2d");let Y,H=!0;function ne(){H&&(V.clearRect(0,0,C.width,C.height),A.current.forEach(K=>{let ee=K.points;if(K.tool==="fading"&&(ee=K.points=ee.map(X=>(X.age++,X)).filter(X=>X.age<o)),ee.length<2)return;const J=Wf(ee,c);if(V.save(),V.lineWidth=K.width,V.lineCap="round",V.lineJoin="round",K.tool==="eraser"?(V.globalCompositeOperation="destination-out",V.strokeStyle="rgba(0,0,0,1)",V.globalAlpha=1):(V.globalCompositeOperation="source-over",V.strokeStyle=K.color,V.globalAlpha=K.tool==="highlighter"?.3:1),J.length>=4){V.beginPath(),V.moveTo(J[0].x,J[0].y);for(let X=0;X<=J.length-4;X++)for(let W=0;W<=1;W+=h){const re=eR([J[X],J[X+1],J[X+2],J[X+3]],W);V.lineTo(re.x,re.y)}V.lineTo(J.at(-1).x,J.at(-1).y),V.stroke(),V.closePath()}else V.beginPath(),V.moveTo(J[0].x,J[0].y),J.slice(1).forEach(X=>V.lineTo(X.x,X.y)),V.stroke(),V.closePath();if(V.restore(),K.tool==="pencil"){V.save(),V.strokeStyle=K.color,V.lineWidth=Math.max(1,K.width*.5),V.globalAlpha=.6;const X=.3;for(let W=1;W<J.length;W++){if(Math.random()>X)continue;const re=J[W],Je=J[W-1],dt=re.x-Je.x,ot=re.y-Je.y,Ge=Math.atan2(ot,dt)+(Math.random()-.5)*.8,wt=K.width*(.8+Math.random()*.4),bn=re.x+Math.cos(Ge)*wt/2,Gt=re.y+Math.sin(Ge)*wt/2,M=re.x-Math.cos(Ge)*wt/2,k=re.y-Math.sin(Ge)*wt/2;V.beginPath(),V.moveTo(bn,Gt),V.lineTo(M,k),V.stroke(),V.closePath()}V.restore()}}),Y=requestAnimationFrame(ne))}return ne(),()=>{H=!1,Y&&cancelAnimationFrame(Y)}},[o,c,h,y]),P.jsx("canvas",{ref:b,style:{position:"fixed",left:0,top:0,pointerEvents:"none",zIndex:1e4,display:y?"block":"none"}})}const iR="_goUp0_1lnal_1",rR="_goUpAnimation0_1lnal_1",aR="_fadeOut_1lnal_1",sR="_goUp1_1lnal_16",lR="_goUpAnimation1_1lnal_1",oR="_goUp2_1lnal_31",uR="_goUpAnimation2_1lnal_1",cR="_leftRight0_1lnal_46",fR="_leftRightAnimation0_1lnal_1",hR="_leftRight1_1lnal_60",dR="_leftRightAnimation1_1lnal_1",gR="_leftRight2_1lnal_74",mR="_leftRightAnimation2_1lnal_1",If={goUp0:iR,goUpAnimation0:rR,fadeOut:aR,goUp1:sR,goUpAnimation1:lR,goUp2:oR,goUpAnimation2:uR,leftRight0:cR,leftRightAnimation0:fR,leftRight1:hR,leftRightAnimation1:dR,leftRight2:gR,leftRightAnimation2:mR};function yR({x:i,y:e,timestamp:r,selectedCursorShape:a}){return P.jsx("div",{className:"single-animation-container",children:P.jsx("div",{className:`absolute select-none pointer-events-none ${If.disappear} text-${r%5+2}xl ${If["goUp"+r%3]}`,style:{left:i,top:e},children:P.jsx("div",{className:If["leftRight"+r%3],children:P.jsx("div",{className:"transform -translate-x-1/2 -translate-y-full",children:P.jsx("img",{src:`./icons/icon_${a}.svg`})})})})})}function p0(i,e){const r=ue.useRef(i);ue.useEffect(()=>{r.current=i},[i]),ue.useEffect(()=>{function a(){r.current()}if(e!==null){let o=setInterval(a,e);return()=>clearInterval(o)}},[e])}function pR({pointerDown:i,xPos:e,yPos:r,selectedCursorShape:a}){const[o,c]=ue.useState([]),h=100;return p0(()=>{c(d=>d.filter(y=>y.timestamp>Date.now()-4e3))},1e3),p0(()=>{i&&c(d=>d.concat([{point:{x:e,y:r},timestamp:Date.now()}]))},h),P.jsx("div",{style:{transform:`translateX(${e-30}px) translateY(${r-40}px)`},children:o.map(d=>P.jsx(yR,{x:d.point.x,y:d.point.y,timestamp:d.timestamp,selectedCursorShape:a},d.timestamp.toString()))})}function bR({type:i,color:e}){switch(i){case"cursor":return P.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[P.jsx("rect",{width:"36",height:"36",rx:"8",fill:"none"}),P.jsx("path",{d:"M26.83 16.1571C27.5067 15.8939 27.845 15.7624 27.94 15.5763C28.0223 15.4151 28.0198 15.2237 27.9333 15.0648C27.8335 14.8813 27.4918 14.7586 26.8084 14.5133L9.379 8.2566C8.81992 8.0559 8.54037 7.95556 8.35762 8.01884C8.19874 8.07387 8.07387 8.19873 8.01884 8.35762C7.95556 8.54037 8.0559 8.81992 8.2566 9.379L14.5133 26.8085C14.7586 27.4918 14.8812 27.8335 15.0647 27.9333C15.2237 28.0198 15.4151 28.0224 15.5763 27.9401C15.7623 27.8451 15.8939 27.5067 16.1571 26.83L19.0055 19.5054C19.0571 19.3728 19.0829 19.3065 19.1227 19.2507C19.1579 19.2013 19.2012 19.158 19.2507 19.1227C19.3065 19.0829 19.3728 19.0571 19.5053 19.0056L26.83 16.1571Z",fill:e,stroke:"#FEFDFB",strokeWidth:"0.5",strokeLinecap:"round",strokeLinejoin:"round"})]});case"pen":case"fading":return P.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[P.jsx("rect",{width:"36",height:"36",rx:"8",fill:"none"}),P.jsxs("g",{clipPath:"url(#clip0_pen_colored)",children:[P.jsx("path",{d:"M9.73233 23.3904C9.5808 25.0085 10.7676 26.444 12.3854 26.5994C12.9205 26.6508 13.4605 26.5868 13.9688 26.4116L19.4305 24.5293C19.7215 24.429 19.9921 24.2771 20.2294 24.081L29.278 16.6002C29.8655 16.1145 30.0216 15.2781 29.6488 14.6132C28.3855 12.3598 26.7262 10.3528 24.7505 8.68832C24.1676 8.19717 23.3167 8.19323 22.7292 8.67897L13.6806 16.1597C13.4434 16.3559 13.2433 16.5931 13.0901 16.8602L10.2145 21.8705C9.94688 22.3368 9.78246 22.8551 9.73233 23.3904Z",fill:e,stroke:"#FEFDFB",strokeWidth:"0.5"}),P.jsx("path",{d:"M12.8764 26.3737C12.6642 26.5735 12.5267 26.6302 12.3106 26.7193C11.5383 27.0378 10.9542 27.2786 10.5095 27.4286C10.0767 27.5745 9.71876 27.6564 9.43664 27.5928C8.73307 27.4343 8.22552 26.8204 8.20212 26.0996C8.19273 25.8105 8.34043 25.4743 8.56515 25.0767C8.79602 24.6682 9.14239 24.1397 9.59453 23.45C9.72852 23.2455 9.81002 23.1212 10.0462 22.9503C10.1856 22.8495 10.4138 22.772 10.6132 22.7243C10.8125 22.6765 11.0511 22.6423 11.221 22.6691C11.4774 22.7182 12.3182 23.2516 12.6629 23.6686C13.0076 24.0856 13.2168 24.4982 13.342 24.8621C13.2168 24.4982 13.0076 24.0856 12.6629 23.6686",fill:e,stroke:"#FEFDFB",strokeWidth:"0.5"}),P.jsx("path",{d:"M19.5496 20.8585C19.0985 21.2314 18.4197 21.1031 18.1358 20.5913C17.7721 19.9354 17.2902 19.3524 16.7144 18.8719C16.2651 18.4969 16.2666 17.806 16.7177 17.4331L23.7284 11.6371C24.0468 11.3739 24.2059 11.2424 24.36 11.1593C24.9929 10.818 25.7691 10.8916 26.3266 11.3458C26.4623 11.4564 26.5939 11.6156 26.857 11.9339C27.1202 12.2522 27.2518 12.4114 27.3349 12.5655C27.6762 13.1984 27.6026 13.9746 27.1484 14.532C27.0378 14.6678 26.8787 14.7994 26.5603 15.0626L19.5496 20.8585Z",fill:"#FEFDFB"})]}),P.jsx("defs",{children:P.jsx("clipPath",{id:"clip0_pen_colored",children:P.jsx("rect",{width:"16.8889",height:"32",fill:"white",transform:"translate(11 36) rotate(-129.582)"})})})]});case"line":return P.jsx("svg",{width:"22",height:"23",viewBox:"0 0 22 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{d:"M7.95167 5.6812C3.39223 10.5957 2.69919 11.4214 2.79038 11.8145C2.88157 12.188 2.64448 12.5615 1.45902 13.8786L0 15.4906V16.5521C0 17.8103 0.364756 18.4393 2.1703 20.3462L3.30104 21.5256L2.06087 21.6239C1.05779 21.7026 0.8207 21.7812 0.765987 22.0761C0.601847 22.9803 0.711274 23 7.93344 23C15.1556 23 15.265 22.9803 15.1009 22.0761C15.0462 21.7615 14.7726 21.7222 12.4199 21.6632L9.79369 21.6043L10.2132 21.1325C10.505 20.7983 10.7603 20.6803 11.1068 20.759C11.5263 20.8376 12.1464 20.2479 16.8517 15.1761C21.0099 10.6744 22.086 9.41624 21.9948 9.12137C21.8489 8.5906 13.8242 0 13.4777 0C13.3318 0 10.8515 2.55555 7.95167 5.6812ZM15.8669 14.2521L11.3074 19.1667L8.62647 16.2769L5.92728 13.3675L9.10065 9.94701C11.964 6.84103 12.2376 6.48718 12.0552 6.11368C11.9275 5.87778 11.7087 5.70085 11.5263 5.70085C11.3621 5.70085 9.81193 7.21453 8.11581 9.04273L4.99715 12.4043L4.65063 11.9915C4.30412 11.5786 4.32235 11.559 8.84532 6.68376L13.4048 1.76923L16.9064 5.54359L20.4263 9.33761L15.8669 14.2521ZM6.87564 16.3556C8.40762 18.0068 9.66602 19.4419 9.66602 19.5598C9.66602 19.6581 9.28303 20.1692 8.80885 20.6803L7.95167 21.6239H6.67503H5.38015L3.33751 19.4222C0.765987 16.6504 0.747749 16.5915 2.49858 14.7043C3.17337 13.9573 3.8117 13.3675 3.92112 13.3675C4.01231 13.3675 5.34367 14.7239 6.87564 16.3556Z",fill:e})});case"highlighter":return P.jsxs("svg",{width:"23",height:"24",viewBox:"0 0 23 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[P.jsx("path",{d:"M17.9456 0.210907C17.7178 0.338861 14.6852 3.63367 11.2255 7.53625C6.41316 12.9423 4.91821 14.7176 4.91821 15.0215C4.91821 15.2934 5.50196 16.0612 7.08233 17.8525C8.93322 19.9477 9.31764 20.2996 9.68781 20.2996C10.058 20.2996 10.8695 19.4519 16.3937 13.2142C19.8535 9.3276 22.7579 5.98481 22.8434 5.79288C22.9288 5.60095 23 5.1851 23 4.84922C23 4.30542 22.8576 4.0975 21.3342 2.35413C19.2128 -0.0769892 18.8996 -0.268919 17.9456 0.210907ZM14.5286 12.1426L12.6777 14.2218L11.5387 12.9423L10.3997 11.6628L12.2506 9.58351L14.1015 7.50426L15.2405 8.7838L16.3795 10.0633L14.5286 12.1426Z",fill:e}),P.jsx("path",{d:"M3.63688 17.4527C3.20975 18.2684 2.73991 19.2121 2.58329 19.5319L2.2843 20.1397L3.7223 21.7551L5.1603 23.3705L7.03967 22.123L8.91903 20.8914L6.74068 18.4283C5.54472 17.0848 4.51961 15.9812 4.4769 15.9812C4.43418 15.9812 4.04977 16.653 3.63688 17.4527Z",fill:e,opacity:.85})]});default:return P.jsx("img",{src:`./icons/icon_${i}.svg`,alt:i,style:{display:"block"}})}}function vR({selectedCursorShape:i,x:e,y:r,pointerDown:a,fadeEnabled:o,color:c,visible:h=!0,resetNonce:d=0,overInteractive:y=!1,animate:m=!0}){const b=i,A=o&&b==="pen"?"fading":b,w=i==="pen"&&o?"fading":i==="eraser"?"line":i,R=["pen","highlighter","eraser","fading"],Y={pen:{w:36,h:36,tipX:18,tipY:38},highlighter:{w:23,h:24,tipX:5,tipY:-8}}[w==="fading"?"pen":w],ne=!!Y?`translate(${-(Y.w/2)+Y.tipX}px, ${-Y.h+Y.tipY}px)`:"translate(-50%, -100%)";return P.jsxs(P.Fragment,{children:[!y&&P.jsx("div",{className:`${i}-cursor${m?" animated-remote-cursor":""}`,style:{position:"fixed",transform:`translate3d(${e}px, ${r}px, 0) ${ne}`,pointerEvents:"none",zIndex:10001},children:P.jsx(bR,{type:w,color:c})}),(i==="heart"||i==="thumbs")&&P.jsx(pR,{pointerDown:a,xPos:e,yPos:r,selectedCursorShape:i}),R.includes(A)&&P.jsx(nR,{xPos:e,yPos:r,tool:A,color:c,pointerDown:a,visible:h,resetNonce:d})]})}function AR({handleCursorShapeSelect:i,clientsLength:e,fadeEnabled:r,onFadeSet:a,color:o,onColorChange:c}){const[h,d]=ue.useState("cursor"),[y,m]=ue.useState(!1),b=ue.useRef(null),A=["heart","thumbs","pen","cursor"],w=C=>{if(C==="pen"){a(!1),d("pen"),i("pen"),m(!0);return}d(C),i(C),m(!1)},R=C=>{d(C),i(C)};return P.jsxs(P.Fragment,{children:[y&&P.jsxs("div",{className:"yc-panel yc-draw-tools yc-fade-in",onMouseDown:C=>C.stopPropagation(),onMouseUp:C=>C.stopPropagation(),"data-native-cursor":!0,children:[P.jsx("button",{className:"yc-close-btn",onClick:()=>{m(!1)},title:"Close","data-native-cursor":!0,children:""}),[{key:"pen",icon:"pen"},{key:"fading",icon:"fading"},{key:"highlighter",icon:"highlighter"}].map(C=>{const V=C.icon==="pen"?h==="pen"&&!r:C.icon==="fading"?h==="pen"&&r:h===C.icon;return P.jsx("button",{className:"yc-tool-icon","data-selected":V,"data-faded":!V,"data-native-cursor":!0,title:C.icon==="fading"?"Fading Pen":C.icon.charAt(0).toUpperCase()+C.icon.slice(1),onClick:()=>{C.icon==="pen"?(a(!1),R("pen")):C.icon==="fading"?(a(!0),R("pen")):(a(!1),R(C.icon))},children:P.jsx("img",{src:`./icons/icon_${C.icon}.svg`,alt:C.icon})},C.key)}),P.jsx("button",{ref:b,className:"yc-tool-icon","data-selected":h==="eraser","data-faded":h!=="eraser","data-native-cursor":!0,title:"Eraser (line erase)",onClick:()=>{a(!1),R("eraser")},children:P.jsx("img",{src:"./icons/icon_eraser.svg",alt:"Eraser"})}),P.jsx("input",{type:"color",className:"yc-color-chip",value:o,"aria-label":"Color",title:"Color",onChange:C=>c(C.target.value),"data-native-cursor":!0,onMouseDown:C=>C.stopPropagation(),onMouseUp:C=>C.stopPropagation()})]}),P.jsxs("div",{className:"yc-combined-bar","data-native-cursor":!0,children:[P.jsx("div",{className:"yc-combined-icons",role:"toolbar","aria-label":"Cursor selector","data-native-cursor":!0,children:A.map(C=>{const V=C==="pen"?["pen","highlighter","eraser"].includes(h):h===C;return P.jsx("button",{className:"yc-nav-btn","data-selected":V,onClick:()=>w(C),title:C,"aria-pressed":V,"data-native-cursor":!0,children:P.jsx("img",{src:`./icons/icon_${C}.svg`,alt:`${C} cursor`,style:{filter:V?"brightness(0) invert(1)":"none"}})},C)})}),P.jsx("div",{className:"yc-divider","aria-hidden":"true","data-native-cursor":!0}),P.jsxs("div",{className:"yc-count-pill","data-native-cursor":!0,title:`${e} user${e===1?"":"s"} online`,"aria-label":`${e} user${e===1?"":"s"} online`,children:[P.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:P.jsx("path",{fill:"currentColor",d:"M12 12.75c2.899 0 5.25-2.351 5.25-5.25S14.899 2.25 12 2.25 6.75 4.601 6.75 7.5 9.101 12.75 12 12.75Zm0 1.5c-3.005 0-9 1.51-9 4.5v.75a.75.75 0 0 0 .75.75h16.5a.75.75 0 0 0 .75-.75v-.75c0-2.99-5.995-4.5-9-4.5Z"})}),P.jsx("span",{children:e})]})]})]})}function SR(){const i=Math.floor(Math.random()*360),e=70,r=55,a=R=>R.toString(16).padStart(2,"0"),o=(1-Math.abs(2*r/100-1))*(e/100),c=o*(1-Math.abs(i/60%2-1)),h=r/100-o/2;let d,y,m;i<60?[d,y,m]=[o,c,0]:i<120?[d,y,m]=[c,o,0]:i<180?[d,y,m]=[0,o,c]:i<240?[d,y,m]=[0,c,o]:i<300?[d,y,m]=[c,0,o]:[d,y,m]=[o,0,c];const b=Math.round((d+h)*255),A=Math.round((y+h)*255),w=Math.round((m+h)*255);return`#${a(b)}${a(A)}${a(w)}`}const Kf={cursorShape:"cursor",cursor:{xPos:0,yPos:0},pointerDown:!1,color:SR(),fadeEnabled:!1,overInteractive:!1},ER=2;function NR(){const{doc:i,presences:e,update:r,loading:a,error:o}=qT(),[c,h]=ue.useState(!1),[d,y]=ue.useState(Kf.color),m=ue.useRef(null),b=ue.useRef(null),A=ue.useRef({x:0,y:0}),w=ue.useRef(!1),R=Y=>{r((H,ne)=>ne.set({cursorShape:Y}))},C=Y=>{h(Y),r((H,ne)=>ne.set({fadeEnabled:Y}))},V=Y=>{y(Y),r((H,ne)=>ne.set({color:Y}))};return ue.useEffect(()=>{if(a||o)return;const Y='button, input, select, textarea, [role="button"], a, [data-native-cursor]',H=()=>{w.current=!0,r((X,W)=>W.set({pointerDown:!0}))},ne=()=>{w.current=!1,r((X,W)=>W.set({pointerDown:!1}))},K=X=>{const W=!!(X.target.closest&&X.target.closest(Y));b.current={x:X.clientX,y:X.clientY,overInteractive:W}};let ee;const J=()=>{const X=b.current;if(X){const W=A.current,re=X.x-W.x,Je=X.y-W.y,dt=Math.hypot(re,Je);(w.current||dt>=ER)&&(A.current={x:X.x,y:X.y},r((Ge,wt)=>wt.set({cursor:{xPos:X.x,yPos:X.y},overInteractive:X.overInteractive}))),b.current=null}ee=requestAnimationFrame(J)};return ee=requestAnimationFrame(J),window.addEventListener("mousedown",H),window.addEventListener("mouseup",ne),window.addEventListener("mousemove",K),()=>{cancelAnimationFrame(ee),window.removeEventListener("mousedown",H),window.removeEventListener("mouseup",ne),window.removeEventListener("mousemove",K)}},[a,o,r]),ue.useEffect(()=>{if(!i)return;const Y=i.getMyPresence?.();Y&&(h(Y.fadeEnabled??!1),y(Y.color??Kf.color))},[e,i]),a?P.jsx("div",{className:"general-container",children:"Loading..."}):o?P.jsxs("div",{className:"general-container",children:["Error: ",o.message]}):P.jsxs("div",{className:"general-container",onMouseDown:Y=>{const H=Y.target.tagName;["INPUT","SELECT","TEXTAREA","BUTTON"].includes(H)||Y.preventDefault()},children:[e.map(({clientID:Y,presence:H},ne)=>{const{cursorShape:K,cursor:ee,pointerDown:J,color:X="#000000",fadeEnabled:W=!1,overInteractive:re=!1}=H;ne===0&&m.current===null&&(m.current=Y);const Je=Y===m.current;return ee&&P.jsx(vR,{selectedCursorShape:K,x:ee.xPos,y:ee.yPos,pointerDown:J,fadeEnabled:W,color:X,overInteractive:re,animate:!Je},Y)}),P.jsx(AR,{handleCursorShapeSelect:R,clientsLength:e.length,fadeEnabled:c,onFadeSet:C,color:d,onColorChange:V})]})}function TR(){return P.jsx(kT,{apiKey:"D6sd9E5ehtXBssmeRZ4QQP",rpcAddr:"https://api.yorkie.dev",children:P.jsx(PT,{docKey:"simultaneous-cursors",initialPresence:Kf,children:P.jsx(NR,{})})})}GS.createRoot(document.getElementById("root")).render(P.jsx(ue.StrictMode,{children:P.jsx(TR,{})}));
