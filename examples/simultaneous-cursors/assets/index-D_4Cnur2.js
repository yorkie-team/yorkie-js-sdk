(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();function vS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var uf={exports:{}},vs={};var By;function AS(){if(By)return vs;By=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:c}}return vs.Fragment=e,vs.jsx=a,vs.jsxs=a,vs}var Ly;function SS(){return Ly||(Ly=1,uf.exports=AS()),uf.exports}var P=SS(),cf={exports:{}},fe={};var My;function ES(){if(My)return fe;My=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),w=Symbol.iterator;function R(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,G={};function H(E,Y,j){this.props=E,this.context=Y,this.refs=G,this.updater=j||C}H.prototype.isReactComponent={},H.prototype.setState=function(E,Y){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,Y,"setState")},H.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function q(){}q.prototype=H.prototype;function X(E,Y,j){this.props=E,this.context=Y,this.refs=G,this.updater=j||C}var ne=X.prototype=new q;ne.constructor=X,V(ne,H.prototype),ne.isPureReactComponent=!0;var J=Array.isArray;function K(){}var W={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function Je(E,Y,j){var $=j.ref;return{$$typeof:i,type:E,key:Y,ref:$!==void 0?$:null,props:j}}function dt(E,Y){return Je(E.type,Y,E.props)}function ot(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function _e(E){var Y={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(j){return Y[j]})}var It=/\/+/g;function pn(E,Y){return typeof E=="object"&&E!==null&&E.key!=null?_e(""+E.key):Y.toString(36)}function Yt(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(K,K):(E.status="pending",E.then(function(Y){E.status==="pending"&&(E.status="fulfilled",E.value=Y)},function(Y){E.status==="pending"&&(E.status="rejected",E.reason=Y)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function M(E,Y,j,$,he){var be=typeof E;(be==="undefined"||be==="boolean")&&(E=null);var De=!1;if(E===null)De=!0;else switch(be){case"bigint":case"string":case"number":De=!0;break;case"object":switch(E.$$typeof){case i:case e:De=!0;break;case b:return De=E._init,M(De(E._payload),Y,j,$,he)}}if(De)return he=he(E),De=$===""?"."+pn(E,0):$,J(he)?(j="",De!=null&&(j=De.replace(It,"$&/")+"/"),M(he,Y,j,"",function(Cr){return Cr})):he!=null&&(ot(he)&&(he=dt(he,j+(he.key==null||E&&E.key===he.key?"":(""+he.key).replace(It,"$&/")+"/")+De)),Y.push(he)),1;De=0;var Rt=$===""?".":$+":";if(J(E))for(var Pe=0;Pe<E.length;Pe++)$=E[Pe],be=Rt+pn($,Pe),De+=M($,Y,j,be,he);else if(Pe=R(E),typeof Pe=="function")for(E=Pe.call(E),Pe=0;!($=E.next()).done;)$=$.value,be=Rt+pn($,Pe++),De+=M($,Y,j,be,he);else if(be==="object"){if(typeof E.then=="function")return M(Yt(E),Y,j,$,he);throw Y=String(E),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return De}function k(E,Y,j){if(E==null)return E;var $=[],he=0;return M(E,$,"","",function(be){return Y.call(j,be,he++)}),$}function oe(E){if(E._status===-1){var Y=E._result;Y=Y(),Y.then(function(j){(E._status===0||E._status===-1)&&(E._status=1,E._result=j)},function(j){(E._status===0||E._status===-1)&&(E._status=2,E._result=j)}),E._status===-1&&(E._status=0,E._result=Y)}if(E._status===1)return E._result.default;throw E._result}var Be=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},ze={map:k,forEach:function(E,Y,j){k(E,function(){Y.apply(this,arguments)},j)},count:function(E){var Y=0;return k(E,function(){Y++}),Y},toArray:function(E){return k(E,function(Y){return Y})||[]},only:function(E){if(!ot(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return fe.Activity=A,fe.Children=ze,fe.Component=H,fe.Fragment=a,fe.Profiler=o,fe.PureComponent=X,fe.StrictMode=s,fe.Suspense=y,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,fe.__COMPILER_RUNTIME={__proto__:null,c:function(E){return W.H.useMemoCache(E)}},fe.cache=function(E){return function(){return E.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(E,Y,j){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var $=V({},E.props),he=E.key;if(Y!=null)for(be in Y.key!==void 0&&(he=""+Y.key),Y)!ae.call(Y,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Y.ref===void 0||($[be]=Y[be]);var be=arguments.length-2;if(be===1)$.children=j;else if(1<be){for(var De=Array(be),Rt=0;Rt<be;Rt++)De[Rt]=arguments[Rt+2];$.children=De}return Je(E.type,he,$)},fe.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},fe.createElement=function(E,Y,j){var $,he={},be=null;if(Y!=null)for($ in Y.key!==void 0&&(be=""+Y.key),Y)ae.call(Y,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(he[$]=Y[$]);var De=arguments.length-2;if(De===1)he.children=j;else if(1<De){for(var Rt=Array(De),Pe=0;Pe<De;Pe++)Rt[Pe]=arguments[Pe+2];he.children=Rt}if(E&&E.defaultProps)for($ in De=E.defaultProps,De)he[$]===void 0&&(he[$]=De[$]);return Je(E,be,he)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(E){return{$$typeof:d,render:E}},fe.isValidElement=ot,fe.lazy=function(E){return{$$typeof:b,_payload:{_status:-1,_result:E},_init:oe}},fe.memo=function(E,Y){return{$$typeof:m,type:E,compare:Y===void 0?null:Y}},fe.startTransition=function(E){var Y=W.T,j={};W.T=j;try{var $=E(),he=W.S;he!==null&&he(j,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(K,Be)}catch(be){Be(be)}finally{Y!==null&&j.types!==null&&(Y.types=j.types),W.T=Y}},fe.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},fe.use=function(E){return W.H.use(E)},fe.useActionState=function(E,Y,j){return W.H.useActionState(E,Y,j)},fe.useCallback=function(E,Y){return W.H.useCallback(E,Y)},fe.useContext=function(E){return W.H.useContext(E)},fe.useDebugValue=function(){},fe.useDeferredValue=function(E,Y){return W.H.useDeferredValue(E,Y)},fe.useEffect=function(E,Y){return W.H.useEffect(E,Y)},fe.useEffectEvent=function(E){return W.H.useEffectEvent(E)},fe.useId=function(){return W.H.useId()},fe.useImperativeHandle=function(E,Y,j){return W.H.useImperativeHandle(E,Y,j)},fe.useInsertionEffect=function(E,Y){return W.H.useInsertionEffect(E,Y)},fe.useLayoutEffect=function(E,Y){return W.H.useLayoutEffect(E,Y)},fe.useMemo=function(E,Y){return W.H.useMemo(E,Y)},fe.useOptimistic=function(E,Y){return W.H.useOptimistic(E,Y)},fe.useReducer=function(E,Y,j){return W.H.useReducer(E,Y,j)},fe.useRef=function(E){return W.H.useRef(E)},fe.useState=function(E){return W.H.useState(E)},fe.useSyncExternalStore=function(E,Y,j){return W.H.useSyncExternalStore(E,Y,j)},fe.useTransition=function(){return W.H.useTransition()},fe.version="19.2.1",fe}var Zy;function Kf(){return Zy||(Zy=1,cf.exports=ES()),cf.exports}var ue=Kf(),ff={exports:{}},As={},hf={exports:{}},df={};var zy;function NS(){return zy||(zy=1,(function(i){function e(M,k){var oe=M.length;M.push(k);e:for(;0<oe;){var Be=oe-1>>>1,ze=M[Be];if(0<o(ze,k))M[Be]=k,M[oe]=ze,oe=Be;else break e}}function a(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var k=M[0],oe=M.pop();if(oe!==k){M[0]=oe;e:for(var Be=0,ze=M.length,E=ze>>>1;Be<E;){var Y=2*(Be+1)-1,j=M[Y],$=Y+1,he=M[$];if(0>o(j,oe))$<ze&&0>o(he,j)?(M[Be]=he,M[$]=oe,Be=$):(M[Be]=j,M[Y]=oe,Be=Y);else if($<ze&&0>o(he,oe))M[Be]=he,M[$]=oe,Be=$;else break e}}return k}function o(M,k){var oe=M.sortIndex-k.sortIndex;return oe!==0?oe:M.id-k.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var y=[],m=[],b=1,A=null,w=3,R=!1,C=!1,V=!1,G=!1,H=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ne(M){for(var k=a(m);k!==null;){if(k.callback===null)s(m);else if(k.startTime<=M)s(m),k.sortIndex=k.expirationTime,e(y,k);else break;k=a(m)}}function J(M){if(V=!1,ne(M),!C)if(a(y)!==null)C=!0,K||(K=!0,_e());else{var k=a(m);k!==null&&Yt(J,k.startTime-M)}}var K=!1,W=-1,ae=5,Je=-1;function dt(){return G?!0:!(i.unstable_now()-Je<ae)}function ot(){if(G=!1,K){var M=i.unstable_now();Je=M;var k=!0;try{e:{C=!1,V&&(V=!1,q(W),W=-1),R=!0;var oe=w;try{t:{for(ne(M),A=a(y);A!==null&&!(A.expirationTime>M&&dt());){var Be=A.callback;if(typeof Be=="function"){A.callback=null,w=A.priorityLevel;var ze=Be(A.expirationTime<=M);if(M=i.unstable_now(),typeof ze=="function"){A.callback=ze,ne(M),k=!0;break t}A===a(y)&&s(y),ne(M)}else s(y);A=a(y)}if(A!==null)k=!0;else{var E=a(m);E!==null&&Yt(J,E.startTime-M),k=!1}}break e}finally{A=null,w=oe,R=!1}k=void 0}}finally{k?_e():K=!1}}}var _e;if(typeof X=="function")_e=function(){X(ot)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,pn=It.port2;It.port1.onmessage=ot,_e=function(){pn.postMessage(null)}}else _e=function(){H(ot,0)};function Yt(M,k){W=H(function(){M(i.unstable_now())},k)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(M){switch(w){case 1:case 2:case 3:var k=3;break;default:k=w}var oe=w;w=k;try{return M()}finally{w=oe}},i.unstable_requestPaint=function(){G=!0},i.unstable_runWithPriority=function(M,k){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var oe=w;w=M;try{return k()}finally{w=oe}},i.unstable_scheduleCallback=function(M,k,oe){var Be=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Be+oe:Be):oe=Be,M){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=oe+ze,M={id:b++,callback:k,priorityLevel:M,startTime:oe,expirationTime:ze,sortIndex:-1},oe>Be?(M.sortIndex=oe,e(m,M),a(y)===null&&M===a(m)&&(V?(q(W),W=-1):V=!0,Yt(J,oe-Be))):(M.sortIndex=ze,e(y,M),C||R||(C=!0,K||(K=!0,_e()))),M},i.unstable_shouldYield=dt,i.unstable_wrapCallback=function(M){var k=w;return function(){var oe=w;w=k;try{return M.apply(this,arguments)}finally{w=oe}}}})(df)),df}var Yy;function TS(){return Yy||(Yy=1,hf.exports=NS()),hf.exports}var gf={exports:{}},St={};var Gy;function RS(){if(Gy)return St;Gy=1;var i=Kf();function e(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,m,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:m,implementation:b}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return St.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,St.createPortal=function(y,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(y,m,null,b)},St.flushSync=function(y){var m=h.T,b=s.p;try{if(h.T=null,s.p=2,y)return y()}finally{h.T=m,s.p=b,s.d.f()}},St.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(y,m))},St.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},St.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var b=m.as,A=d(b,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,R=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?s.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:R}):b==="script"&&s.d.X(y,{crossOrigin:A,integrity:w,fetchPriority:R,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},St.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=d(m.as,m.crossOrigin);s.d.M(y,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(y)},St.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,A=d(b,m.crossOrigin);s.d.L(y,b,{crossOrigin:A,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},St.preloadModule=function(y,m){if(typeof y=="string")if(m){var b=d(m.as,m.crossOrigin);s.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(y)},St.requestFormReset=function(y){s.d.r(y)},St.unstable_batchedUpdates=function(y,m){return y(m)},St.useFormState=function(y,m,b){return h.H.useFormState(y,m,b)},St.useFormStatus=function(){return h.H.useHostTransitionStatus()},St.version="19.2.1",St}var _y;function CS(){if(_y)return gf.exports;_y=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gf.exports=RS(),gf.exports}var Wy;function IS(){if(Wy)return As;Wy=1;var i=TS(),e=Kf(),a=CS();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(s(188))}function m(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){r=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return y(u),t;if(f===l)return y(u),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=u,l=f;else{for(var g=!1,p=u.child;p;){if(p===r){g=!0,r=u,l=f;break}if(p===l){g=!0,l=u,r=f;break}p=p.sibling}if(!g){for(p=f.child;p;){if(p===r){g=!0,r=f,l=u;break}if(p===l){g=!0,l=f,r=u;break}p=p.sibling}if(!g)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),Je=Symbol.for("react.activity"),dt=Symbol.for("react.memo_cache_sentinel"),ot=Symbol.iterator;function _e(t){return t===null||typeof t!="object"?null:(t=ot&&t[ot]||t["@@iterator"],typeof t=="function"?t:null)}var It=Symbol.for("react.client.reference");function pn(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===It?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case H:return"Profiler";case G:return"StrictMode";case J:return"Suspense";case K:return"SuspenseList";case Je:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case X:return t.displayName||"Context";case q:return(t._context.displayName||"Context")+".Consumer";case ne:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W:return n=t.displayName||null,n!==null?n:pn(t.type)||"Memo";case ae:n=t._payload,t=t._init;try{return pn(t(n))}catch{}}return null}var Yt=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Be=[],ze=-1;function E(t){return{current:t}}function Y(t){0>ze||(t.current=Be[ze],Be[ze]=null,ze--)}function j(t,n){ze++,Be[ze]=t.current,t.current=n}var $=E(null),he=E(null),be=E(null),De=E(null);function Rt(t,n){switch(j(be,n),j(he,t),j($,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?iy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=iy(n),t=ay(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y($),j($,t)}function Pe(){Y($),Y(he),Y(be)}function Cr(t){t.memoizedState!==null&&j(De,t);var n=$.current,r=ay(n,t.type);n!==r&&(j(he,t),j($,r))}function Qs(t){he.current===t&&(Y($),Y(he)),De.current===t&&(Y(De),ms._currentValue=oe)}var Xo,Uh;function Fi(t){if(Xo===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Xo=n&&n[1]||"",Uh=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xo+t+Uh}var Jo=!1;function ko(t,n){if(!t||Jo)return"";Jo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(B){var U=B}Reflect.construct(t,[],z)}else{try{z.call()}catch(B){U=B}t.call(z.prototype)}}else{try{throw Error()}catch(B){U=B}(z=t())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(B){if(B&&U&&typeof B.stack=="string")return[B.stack,U.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],p=f[1];if(g&&p){var v=g.split(`
`),O=p.split(`
`);for(u=l=0;l<v.length&&!v[l].includes("DetermineComponentFrameRoot");)l++;for(;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;if(l===v.length||u===O.length)for(l=v.length-1,u=O.length-1;1<=l&&0<=u&&v[l]!==O[u];)u--;for(;1<=l&&0<=u;l--,u--)if(v[l]!==O[u]){if(l!==1||u!==1)do if(l--,u--,0>u||v[l]!==O[u]){var L=`
`+v[l].replace(" at new "," at ");return t.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",t.displayName)),L}while(1<=l&&0<=u);break}}}finally{Jo=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Fi(r):""}function Qb(t,n){switch(t.tag){case 26:case 27:case 5:return Fi(t.type);case 16:return Fi("Lazy");case 13:return t.child!==n&&n!==null?Fi("Suspense Fallback"):Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return ko(t.type,!1);case 11:return ko(t.type.render,!1);case 1:return ko(t.type,!0);case 31:return Fi("Activity");default:return""}}function Bh(t){try{var n="",r=null;do n+=Qb(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Fo=Object.prototype.hasOwnProperty,jo=i.unstable_scheduleCallback,Ho=i.unstable_cancelCallback,$b=i.unstable_shouldYield,Pb=i.unstable_requestPaint,Gt=i.unstable_now,qb=i.unstable_getCurrentPriorityLevel,Lh=i.unstable_ImmediatePriority,Mh=i.unstable_UserBlockingPriority,$s=i.unstable_NormalPriority,ev=i.unstable_LowPriority,Zh=i.unstable_IdlePriority,tv=i.log,nv=i.unstable_setDisableYieldValue,Ir=null,_t=null;function di(t){if(typeof tv=="function"&&nv(t),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(Ir,t)}catch{}}var Wt=Math.clz32?Math.clz32:rv,iv=Math.log,av=Math.LN2;function rv(t){return t>>>=0,t===0?32:31-(iv(t)/av|0)|0}var Ps=256,qs=262144,el=4194304;function ji(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function tl(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var u=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var p=l&134217727;return p!==0?(l=p&~f,l!==0?u=ji(l):(g&=p,g!==0?u=ji(g):r||(r=p&~t,r!==0&&(u=ji(r))))):(p=l&~f,p!==0?u=ji(p):g!==0?u=ji(g):r||(r=l&~t,r!==0&&(u=ji(r)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:u}function wr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function sv(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zh(){var t=el;return el<<=1,(el&62914560)===0&&(el=4194304),t}function Qo(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Dr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function lv(t,n,r,l,u,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var p=t.entanglements,v=t.expirationTimes,O=t.hiddenUpdates;for(r=g&~r;0<r;){var L=31-Wt(r),z=1<<L;p[L]=0,v[L]=-1;var U=O[L];if(U!==null)for(O[L]=null,L=0;L<U.length;L++){var B=U[L];B!==null&&(B.lane&=-536870913)}r&=~z}l!==0&&Yh(t,l,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Yh(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Wt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Gh(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Wt(r),u=1<<l;u&n|t[l]&n&&(t[l]|=n),r&=~u}}function _h(t,n){var r=n&-n;return r=(r&42)!==0?1:$o(r),(r&(t.suspendedLanes|n))!==0?0:r}function $o(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Po(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wh(){var t=k.p;return t!==0?t:(t=window.event,t===void 0?32:Iy(t.type))}function Kh(t,n){var r=k.p;try{return k.p=t,n()}finally{k.p=r}}var gi=Math.random().toString(36).slice(2),gt="__reactFiber$"+gi,wt="__reactProps$"+gi,Aa="__reactContainer$"+gi,qo="__reactEvents$"+gi,ov="__reactListeners$"+gi,uv="__reactHandles$"+gi,Xh="__reactResources$"+gi,xr="__reactMarker$"+gi;function eu(t){delete t[gt],delete t[wt],delete t[qo],delete t[ov],delete t[uv]}function Sa(t){var n=t[gt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Aa]||r[gt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=fy(t);t!==null;){if(r=t[gt])return r;t=fy(t)}return n}t=r,r=t.parentNode}return null}function Ea(t){if(t=t[gt]||t[Aa]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Or(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Na(t){var n=t[Xh];return n||(n=t[Xh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ut(t){t[xr]=!0}var Jh=new Set,kh={};function Hi(t,n){Ta(t,n),Ta(t+"Capture",n)}function Ta(t,n){for(kh[t]=n,t=0;t<n.length;t++)Jh.add(n[t])}var cv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fh={},jh={};function fv(t){return Fo.call(jh,t)?!0:Fo.call(Fh,t)?!1:cv.test(t)?jh[t]=!0:(Fh[t]=!0,!1)}function nl(t,n,r){if(fv(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function il(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function _n(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hh(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function hv(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function tu(t){if(!t._valueTracker){var n=Hh(t)?"checked":"value";t._valueTracker=hv(t,n,""+t[n])}}function Qh(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Hh(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function al(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var dv=/[\n"\\]/g;function en(t){return t.replace(dv,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function nu(t,n,r,l,u,f,g,p){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+qt(n)):t.value!==""+qt(n)&&(t.value=""+qt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?iu(t,g,qt(n)):r!=null?iu(t,g,qt(r)):l!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.name=""+qt(p):t.removeAttribute("name")}function $h(t,n,r,l,u,f,g,p){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){tu(t);return}r=r!=null?""+qt(r):"",n=n!=null?""+qt(n):r,p||n===t.value||(t.value=n),t.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=p?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),tu(t)}function iu(t,n,r){n==="number"&&al(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ra(t,n,r,l){if(t=t.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<t.length;r++)u=n.hasOwnProperty("$"+t[r].value),t[r].selected!==u&&(t[r].selected=u),u&&l&&(t[r].defaultSelected=!0)}else{for(r=""+qt(r),n=null,u=0;u<t.length;u++){if(t[u].value===r){t[u].selected=!0,l&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function Ph(t,n,r){if(n!=null&&(n=""+qt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+qt(r):""}function qh(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(Yt(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=qt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),tu(t)}function Ca(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var gv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ed(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||gv.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function td(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&r[u]!==l&&ed(t,u,l)}else for(var f in n)n.hasOwnProperty(f)&&ed(t,f,n[f])}function au(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rl(t){return yv.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Wn(){}var ru=null;function su(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ia=null,wa=null;function nd(t){var n=Ea(t);if(n&&(t=n.stateNode)){var r=t[wt]||null;e:switch(t=n.stateNode,n.type){case"input":if(nu(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var u=l[wt]||null;if(!u)throw Error(s(90));nu(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Qh(l)}break e;case"textarea":Ph(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ra(t,!!r.multiple,n,!1)}}}var lu=!1;function id(t,n,r){if(lu)return t(n,r);lu=!0;try{var l=t(n);return l}finally{if(lu=!1,(Ia!==null||wa!==null)&&(kl(),Ia&&(n=Ia,t=wa,wa=Ia=null,nd(n),t)))for(n=0;n<t.length;n++)nd(t[n])}}function Vr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[wt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ou=!1;if(Kn)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){ou=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{ou=!1}var mi=null,uu=null,sl=null;function ad(){if(sl)return sl;var t,n=uu,r=n.length,l,u="value"in mi?mi.value:mi.textContent,f=u.length;for(t=0;t<r&&n[t]===u[t];t++);var g=r-t;for(l=1;l<=g&&n[r-l]===u[f-l];l++);return sl=u.slice(t,1<l?1-l:void 0)}function ll(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ol(){return!0}function rd(){return!1}function Dt(t){function n(r,l,u,f,g){this._reactName=r,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var p in t)t.hasOwnProperty(p)&&(r=t[p],this[p]=r?r(f):f[p]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ol:rd,this.isPropagationStopped=rd,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ol)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ol)},persist:function(){},isPersistent:ol}),n}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=Dt(Qi),Br=A({},Qi,{view:0,detail:0}),pv=Dt(Br),cu,fu,Lr,cl=A({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lr&&(Lr&&t.type==="mousemove"?(cu=t.screenX-Lr.screenX,fu=t.screenY-Lr.screenY):fu=cu=0,Lr=t),cu)},movementY:function(t){return"movementY"in t?t.movementY:fu}}),sd=Dt(cl),bv=A({},cl,{dataTransfer:0}),vv=Dt(bv),Av=A({},Br,{relatedTarget:0}),hu=Dt(Av),Sv=A({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ev=Dt(Sv),Nv=A({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tv=Dt(Nv),Rv=A({},Qi,{data:0}),ld=Dt(Rv),Cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dv(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wv[t])?!!n[t]:!1}function du(){return Dv}var xv=A({},Br,{key:function(t){if(t.key){var n=Cv[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(t){return t.type==="keypress"?ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ov=Dt(xv),Vv=A({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),od=Dt(Vv),Uv=A({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),Bv=Dt(Uv),Lv=A({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mv=Dt(Lv),Zv=A({},cl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zv=Dt(Zv),Yv=A({},Qi,{newState:0,oldState:0}),Gv=Dt(Yv),_v=[9,13,27,32],gu=Kn&&"CompositionEvent"in window,Mr=null;Kn&&"documentMode"in document&&(Mr=document.documentMode);var Wv=Kn&&"TextEvent"in window&&!Mr,ud=Kn&&(!gu||Mr&&8<Mr&&11>=Mr),cd=" ",fd=!1;function hd(t,n){switch(t){case"keyup":return _v.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function Kv(t,n){switch(t){case"compositionend":return dd(n);case"keypress":return n.which!==32?null:(fd=!0,cd);case"textInput":return t=n.data,t===cd&&fd?null:t;default:return null}}function Xv(t,n){if(Da)return t==="compositionend"||!gu&&hd(t,n)?(t=ad(),sl=uu=mi=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ud&&n.locale!=="ko"?null:n.data;default:return null}}var Jv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Jv[t.type]:n==="textarea"}function md(t,n,r,l){Ia?wa?wa.push(l):wa=[l]:Ia=l,n=ql(n,"onChange"),0<n.length&&(r=new ul("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Zr=null,zr=null;function kv(t){$m(t,0)}function fl(t){var n=Or(t);if(Qh(n))return t}function yd(t,n){if(t==="change")return n}var pd=!1;if(Kn){var mu;if(Kn){var yu="oninput"in document;if(!yu){var bd=document.createElement("div");bd.setAttribute("oninput","return;"),yu=typeof bd.oninput=="function"}mu=yu}else mu=!1;pd=mu&&(!document.documentMode||9<document.documentMode)}function vd(){Zr&&(Zr.detachEvent("onpropertychange",Ad),zr=Zr=null)}function Ad(t){if(t.propertyName==="value"&&fl(zr)){var n=[];md(n,zr,t,su(t)),id(kv,n)}}function Fv(t,n,r){t==="focusin"?(vd(),Zr=n,zr=r,Zr.attachEvent("onpropertychange",Ad)):t==="focusout"&&vd()}function jv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fl(zr)}function Hv(t,n){if(t==="click")return fl(n)}function Qv(t,n){if(t==="input"||t==="change")return fl(n)}function $v(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Kt=typeof Object.is=="function"?Object.is:$v;function Yr(t,n){if(Kt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var u=r[l];if(!Fo.call(n,u)||!Kt(t[u],n[u]))return!1}return!0}function Sd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ed(t,n){var r=Sd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sd(r)}}function Nd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Nd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Td(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=al(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=al(t.document)}return n}function pu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Pv=Kn&&"documentMode"in document&&11>=document.documentMode,xa=null,bu=null,Gr=null,vu=!1;function Rd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vu||xa==null||xa!==al(l)||(l=xa,"selectionStart"in l&&pu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Gr&&Yr(Gr,l)||(Gr=l,l=ql(bu,"onSelect"),0<l.length&&(n=new ul("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=xa)))}function $i(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Oa={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},Au={},Cd={};Kn&&(Cd=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Pi(t){if(Au[t])return Au[t];if(!Oa[t])return t;var n=Oa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Cd)return Au[t]=n[r];return t}var Id=Pi("animationend"),wd=Pi("animationiteration"),Dd=Pi("animationstart"),qv=Pi("transitionrun"),eA=Pi("transitionstart"),tA=Pi("transitioncancel"),xd=Pi("transitionend"),Od=new Map,Su="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Su.push("scrollEnd");function bn(t,n){Od.set(t,n),Hi(n,[t])}var hl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},tn=[],Va=0,Eu=0;function dl(){for(var t=Va,n=Eu=Va=0;n<t;){var r=tn[n];tn[n++]=null;var l=tn[n];tn[n++]=null;var u=tn[n];tn[n++]=null;var f=tn[n];if(tn[n++]=null,l!==null&&u!==null){var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}f!==0&&Vd(r,u,f)}}function gl(t,n,r,l){tn[Va++]=t,tn[Va++]=n,tn[Va++]=r,tn[Va++]=l,Eu|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Nu(t,n,r,l){return gl(t,n,r,l),ml(t)}function qi(t,n){return gl(t,null,null,n),ml(t)}function Vd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var u=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&n!==null&&(u=31-Wt(r),t=f.hiddenUpdates,l=t[u],l===null?t[u]=[n]:l.push(n),n.lane=r|536870912),f):null}function ml(t){if(50<os)throw os=0,Vc=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ua={};function nA(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(t,n,r,l){return new nA(t,n,r,l)}function Tu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xn(t,n){var r=t.alternate;return r===null?(r=Xt(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Ud(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function yl(t,n,r,l,u,f){var g=0;if(l=t,typeof t=="function")Tu(t)&&(g=1);else if(typeof t=="string")g=lS(t,r,$.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Je:return t=Xt(31,r,n,u),t.elementType=Je,t.lanes=f,t;case V:return ea(r.children,u,f,n);case G:g=8,u|=24;break;case H:return t=Xt(12,r,n,u|2),t.elementType=H,t.lanes=f,t;case J:return t=Xt(13,r,n,u),t.elementType=J,t.lanes=f,t;case K:return t=Xt(19,r,n,u),t.elementType=K,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:g=10;break e;case q:g=9;break e;case ne:g=11;break e;case W:g=14;break e;case ae:g=16,l=null;break e}g=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Xt(g,r,n,u),n.elementType=t,n.type=l,n.lanes=f,n}function ea(t,n,r,l){return t=Xt(7,t,l,n),t.lanes=r,t}function Ru(t,n,r){return t=Xt(6,t,null,n),t.lanes=r,t}function Bd(t){var n=Xt(18,null,null,0);return n.stateNode=t,n}function Cu(t,n,r){return n=Xt(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ld=new WeakMap;function nn(t,n){if(typeof t=="object"&&t!==null){var r=Ld.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Bh(n)},Ld.set(t,n),n)}return{value:t,source:n,stack:Bh(n)}}var Ba=[],La=0,pl=null,_r=0,an=[],rn=0,yi=null,xn=1,On="";function Jn(t,n){Ba[La++]=_r,Ba[La++]=pl,pl=t,_r=n}function Md(t,n,r){an[rn++]=xn,an[rn++]=On,an[rn++]=yi,yi=t;var l=xn;t=On;var u=32-Wt(l)-1;l&=~(1<<u),r+=1;var f=32-Wt(n)+u;if(30<f){var g=u-u%5;f=(l&(1<<g)-1).toString(32),l>>=g,u-=g,xn=1<<32-Wt(n)+u|r<<u|l,On=f+t}else xn=1<<f|r<<u|l,On=t}function Iu(t){t.return!==null&&(Jn(t,1),Md(t,1,0))}function wu(t){for(;t===pl;)pl=Ba[--La],Ba[La]=null,_r=Ba[--La],Ba[La]=null;for(;t===yi;)yi=an[--rn],an[rn]=null,On=an[--rn],an[rn]=null,xn=an[--rn],an[rn]=null}function Zd(t,n){an[rn++]=xn,an[rn++]=On,an[rn++]=yi,xn=n.id,On=n.overflow,yi=t}var mt=null,We=null,Te=!1,pi=null,sn=!1,Du=Error(s(519));function bi(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wr(nn(n,t)),Du}function zd(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[gt]=t,n[wt]=l,r){case"dialog":Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":case"embed":Ae("load",n);break;case"video":case"audio":for(r=0;r<cs.length;r++)Ae(cs[r],n);break;case"source":Ae("error",n);break;case"img":case"image":case"link":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"input":Ae("invalid",n),$h(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ae("invalid",n);break;case"textarea":Ae("invalid",n),qh(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||ty(n.textContent,r)?(l.popover!=null&&(Ae("beforetoggle",n),Ae("toggle",n)),l.onScroll!=null&&Ae("scroll",n),l.onScrollEnd!=null&&Ae("scrollend",n),l.onClick!=null&&(n.onclick=Wn),n=!0):n=!1,n||bi(t,!0)}function Yd(t){for(mt=t.return;mt;)switch(mt.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:mt=mt.return}}function Ma(t){if(t!==mt)return!1;if(!Te)return Yd(t),Te=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Fc(t.type,t.memoizedProps)),r=!r),r&&We&&bi(t),Yd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));We=cy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));We=cy(t)}else n===27?(n=We,Vi(t.type)?(t=Pc,Pc=null,We=t):We=n):We=mt?on(t.stateNode.nextSibling):null;return!0}function ta(){We=mt=null,Te=!1}function xu(){var t=pi;return t!==null&&(Ut===null?Ut=t:Ut.push.apply(Ut,t),pi=null),t}function Wr(t){pi===null?pi=[t]:pi.push(t)}var Ou=E(null),na=null,kn=null;function vi(t,n,r){j(Ou,n._currentValue),n._currentValue=r}function Fn(t){t._currentValue=Ou.current,Y(Ou)}function Vu(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Uu(t,n,r,l){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var p=f;f=u;for(var v=0;v<n.length;v++)if(p.context===n[v]){f.lanes|=r,p=f.alternate,p!==null&&(p.lanes|=r),Vu(f.return,r,t),l||(g=null);break e}f=p.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(s(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Vu(g,r,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Za(t,n,r,l){t=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var p=u.type;Kt(u.pendingProps.value,g.value)||(t!==null?t.push(p):t=[p])}}else if(u===De.current){if(g=u.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(ms):t=[ms])}u=u.return}t!==null&&Uu(n,t,r,l),n.flags|=262144}function bl(t){for(t=t.firstContext;t!==null;){if(!Kt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ia(t){na=t,kn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function yt(t){return Gd(na,t)}function vl(t,n){return na===null&&ia(t),Gd(t,n)}function Gd(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},kn===null){if(t===null)throw Error(s(308));kn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else kn=kn.next=n;return r}var iA=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},aA=i.unstable_scheduleCallback,rA=i.unstable_NormalPriority,it={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bu(){return{controller:new iA,data:new Map,refCount:0}}function Kr(t){t.refCount--,t.refCount===0&&aA(rA,function(){t.controller.abort()})}var Xr=null,Lu=0,za=0,Ya=null;function sA(t,n){if(Xr===null){var r=Xr=[];Lu=0,za=zc(),Ya={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Lu++,n.then(_d,_d),n}function _d(){if(--Lu===0&&Xr!==null){Ya!==null&&(Ya.status="fulfilled");var t=Xr;Xr=null,za=0,Ya=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function lA(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),l}var Wd=M.S;M.S=function(t,n){Rm=Gt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&sA(t,n),Wd!==null&&Wd(t,n)};var aa=E(null);function Mu(){var t=aa.current;return t!==null?t:Ye.pooledCache}function Al(t,n){n===null?j(aa,aa.current):j(aa,n.pool)}function Kd(){var t=Mu();return t===null?null:{parent:it._currentValue,pool:t}}var Ga=Error(s(460)),Zu=Error(s(474)),Sl=Error(s(542)),El={then:function(){}};function Xd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jd(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Wn,Wn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fd(t),t;default:if(typeof n.status=="string")n.then(Wn,Wn);else{if(t=Ye,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fd(t),t}throw sa=n,Ga}}function ra(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(sa=r,Ga):r}}var sa=null;function kd(){if(sa===null)throw Error(s(459));var t=sa;return sa=null,t}function Fd(t){if(t===Ga||t===Sl)throw Error(s(483))}var _a=null,Jr=0;function Nl(t){var n=Jr;return Jr+=1,_a===null&&(_a=[]),Jd(_a,t,n)}function kr(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Tl(t,n){throw n.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function jd(t){function n(I,S){if(t){var x=I.deletions;x===null?(I.deletions=[S],I.flags|=16):x.push(S)}}function r(I,S){if(!t)return null;for(;S!==null;)n(I,S),S=S.sibling;return null}function l(I){for(var S=new Map;I!==null;)I.key!==null?S.set(I.key,I):S.set(I.index,I),I=I.sibling;return S}function u(I,S){return I=Xn(I,S),I.index=0,I.sibling=null,I}function f(I,S,x){return I.index=x,t?(x=I.alternate,x!==null?(x=x.index,x<S?(I.flags|=67108866,S):x):(I.flags|=67108866,S)):(I.flags|=1048576,S)}function g(I){return t&&I.alternate===null&&(I.flags|=67108866),I}function p(I,S,x,Z){return S===null||S.tag!==6?(S=Ru(x,I.mode,Z),S.return=I,S):(S=u(S,x),S.return=I,S)}function v(I,S,x,Z){var re=x.type;return re===V?L(I,S,x.props.children,Z,x.key):S!==null&&(S.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ae&&ra(re)===S.type)?(S=u(S,x.props),kr(S,x),S.return=I,S):(S=yl(x.type,x.key,x.props,null,I.mode,Z),kr(S,x),S.return=I,S)}function O(I,S,x,Z){return S===null||S.tag!==4||S.stateNode.containerInfo!==x.containerInfo||S.stateNode.implementation!==x.implementation?(S=Cu(x,I.mode,Z),S.return=I,S):(S=u(S,x.children||[]),S.return=I,S)}function L(I,S,x,Z,re){return S===null||S.tag!==7?(S=ea(x,I.mode,Z,re),S.return=I,S):(S=u(S,x),S.return=I,S)}function z(I,S,x){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Ru(""+S,I.mode,x),S.return=I,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case R:return x=yl(S.type,S.key,S.props,null,I.mode,x),kr(x,S),x.return=I,x;case C:return S=Cu(S,I.mode,x),S.return=I,S;case ae:return S=ra(S),z(I,S,x)}if(Yt(S)||_e(S))return S=ea(S,I.mode,x,null),S.return=I,S;if(typeof S.then=="function")return z(I,Nl(S),x);if(S.$$typeof===X)return z(I,vl(I,S),x);Tl(I,S)}return null}function U(I,S,x,Z){var re=S!==null?S.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return re!==null?null:p(I,S,""+x,Z);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case R:return x.key===re?v(I,S,x,Z):null;case C:return x.key===re?O(I,S,x,Z):null;case ae:return x=ra(x),U(I,S,x,Z)}if(Yt(x)||_e(x))return re!==null?null:L(I,S,x,Z,null);if(typeof x.then=="function")return U(I,S,Nl(x),Z);if(x.$$typeof===X)return U(I,S,vl(I,x),Z);Tl(I,x)}return null}function B(I,S,x,Z,re){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return I=I.get(x)||null,p(S,I,""+Z,re);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case R:return I=I.get(Z.key===null?x:Z.key)||null,v(S,I,Z,re);case C:return I=I.get(Z.key===null?x:Z.key)||null,O(S,I,Z,re);case ae:return Z=ra(Z),B(I,S,x,Z,re)}if(Yt(Z)||_e(Z))return I=I.get(x)||null,L(S,I,Z,re,null);if(typeof Z.then=="function")return B(I,S,x,Nl(Z),re);if(Z.$$typeof===X)return B(I,S,x,vl(S,Z),re);Tl(S,Z)}return null}function Q(I,S,x,Z){for(var re=null,Ce=null,ee=S,ge=S=0,Ne=null;ee!==null&&ge<x.length;ge++){ee.index>ge?(Ne=ee,ee=null):Ne=ee.sibling;var Ie=U(I,ee,x[ge],Z);if(Ie===null){ee===null&&(ee=Ne);break}t&&ee&&Ie.alternate===null&&n(I,ee),S=f(Ie,S,ge),Ce===null?re=Ie:Ce.sibling=Ie,Ce=Ie,ee=Ne}if(ge===x.length)return r(I,ee),Te&&Jn(I,ge),re;if(ee===null){for(;ge<x.length;ge++)ee=z(I,x[ge],Z),ee!==null&&(S=f(ee,S,ge),Ce===null?re=ee:Ce.sibling=ee,Ce=ee);return Te&&Jn(I,ge),re}for(ee=l(ee);ge<x.length;ge++)Ne=B(ee,I,ge,x[ge],Z),Ne!==null&&(t&&Ne.alternate!==null&&ee.delete(Ne.key===null?ge:Ne.key),S=f(Ne,S,ge),Ce===null?re=Ne:Ce.sibling=Ne,Ce=Ne);return t&&ee.forEach(function(Zi){return n(I,Zi)}),Te&&Jn(I,ge),re}function le(I,S,x,Z){if(x==null)throw Error(s(151));for(var re=null,Ce=null,ee=S,ge=S=0,Ne=null,Ie=x.next();ee!==null&&!Ie.done;ge++,Ie=x.next()){ee.index>ge?(Ne=ee,ee=null):Ne=ee.sibling;var Zi=U(I,ee,Ie.value,Z);if(Zi===null){ee===null&&(ee=Ne);break}t&&ee&&Zi.alternate===null&&n(I,ee),S=f(Zi,S,ge),Ce===null?re=Zi:Ce.sibling=Zi,Ce=Zi,ee=Ne}if(Ie.done)return r(I,ee),Te&&Jn(I,ge),re;if(ee===null){for(;!Ie.done;ge++,Ie=x.next())Ie=z(I,Ie.value,Z),Ie!==null&&(S=f(Ie,S,ge),Ce===null?re=Ie:Ce.sibling=Ie,Ce=Ie);return Te&&Jn(I,ge),re}for(ee=l(ee);!Ie.done;ge++,Ie=x.next())Ie=B(ee,I,ge,Ie.value,Z),Ie!==null&&(t&&Ie.alternate!==null&&ee.delete(Ie.key===null?ge:Ie.key),S=f(Ie,S,ge),Ce===null?re=Ie:Ce.sibling=Ie,Ce=Ie);return t&&ee.forEach(function(bS){return n(I,bS)}),Te&&Jn(I,ge),re}function Ze(I,S,x,Z){if(typeof x=="object"&&x!==null&&x.type===V&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case R:e:{for(var re=x.key;S!==null;){if(S.key===re){if(re=x.type,re===V){if(S.tag===7){r(I,S.sibling),Z=u(S,x.props.children),Z.return=I,I=Z;break e}}else if(S.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ae&&ra(re)===S.type){r(I,S.sibling),Z=u(S,x.props),kr(Z,x),Z.return=I,I=Z;break e}r(I,S);break}else n(I,S);S=S.sibling}x.type===V?(Z=ea(x.props.children,I.mode,Z,x.key),Z.return=I,I=Z):(Z=yl(x.type,x.key,x.props,null,I.mode,Z),kr(Z,x),Z.return=I,I=Z)}return g(I);case C:e:{for(re=x.key;S!==null;){if(S.key===re)if(S.tag===4&&S.stateNode.containerInfo===x.containerInfo&&S.stateNode.implementation===x.implementation){r(I,S.sibling),Z=u(S,x.children||[]),Z.return=I,I=Z;break e}else{r(I,S);break}else n(I,S);S=S.sibling}Z=Cu(x,I.mode,Z),Z.return=I,I=Z}return g(I);case ae:return x=ra(x),Ze(I,S,x,Z)}if(Yt(x))return Q(I,S,x,Z);if(_e(x)){if(re=_e(x),typeof re!="function")throw Error(s(150));return x=re.call(x),le(I,S,x,Z)}if(typeof x.then=="function")return Ze(I,S,Nl(x),Z);if(x.$$typeof===X)return Ze(I,S,vl(I,x),Z);Tl(I,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,S!==null&&S.tag===6?(r(I,S.sibling),Z=u(S,x),Z.return=I,I=Z):(r(I,S),Z=Ru(x,I.mode,Z),Z.return=I,I=Z),g(I)):r(I,S)}return function(I,S,x,Z){try{Jr=0;var re=Ze(I,S,x,Z);return _a=null,re}catch(ee){if(ee===Ga||ee===Sl)throw ee;var Ce=Xt(29,ee,null,I.mode);return Ce.lanes=Z,Ce.return=I,Ce}finally{}}}var la=jd(!0),Hd=jd(!1),Ai=!1;function zu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Si(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ei(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(we&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=ml(t),Vd(t,null,r),n}return gl(t,l,n,r),ml(t)}function Fr(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Gh(t,r)}}function Gu(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?u=f=n:f=f.next=n}else u=f=n;r={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var _u=!1;function jr(){if(_u){var t=Ya;if(t!==null)throw t}}function Hr(t,n,r,l){_u=!1;var u=t.updateQueue;Ai=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,p=u.shared.pending;if(p!==null){u.shared.pending=null;var v=p,O=v.next;v.next=null,g===null?f=O:g.next=O,g=v;var L=t.alternate;L!==null&&(L=L.updateQueue,p=L.lastBaseUpdate,p!==g&&(p===null?L.firstBaseUpdate=O:p.next=O,L.lastBaseUpdate=v))}if(f!==null){var z=u.baseState;g=0,L=O=v=null,p=f;do{var U=p.lane&-536870913,B=U!==p.lane;if(B?(Ee&U)===U:(l&U)===U){U!==0&&U===za&&(_u=!0),L!==null&&(L=L.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var Q=t,le=p;U=n;var Ze=r;switch(le.tag){case 1:if(Q=le.payload,typeof Q=="function"){z=Q.call(Ze,z,U);break e}z=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=le.payload,U=typeof Q=="function"?Q.call(Ze,z,U):Q,U==null)break e;z=A({},z,U);break e;case 2:Ai=!0}}U=p.callback,U!==null&&(t.flags|=64,B&&(t.flags|=8192),B=u.callbacks,B===null?u.callbacks=[U]:B.push(U))}else B={lane:U,tag:p.tag,payload:p.payload,callback:p.callback,next:null},L===null?(O=L=B,v=z):L=L.next=B,g|=U;if(p=p.next,p===null){if(p=u.shared.pending,p===null)break;B=p,p=B.next,B.next=null,u.lastBaseUpdate=B,u.shared.pending=null}}while(!0);L===null&&(v=z),u.baseState=v,u.firstBaseUpdate=O,u.lastBaseUpdate=L,f===null&&(u.shared.lanes=0),Ii|=g,t.lanes=g,t.memoizedState=z}}function Qd(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function $d(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Qd(r[t],n)}var Wa=E(null),Rl=E(0);function Pd(t,n){t=ni,j(Rl,t),j(Wa,n),ni=t|n.baseLanes}function Wu(){j(Rl,ni),j(Wa,Wa.current)}function Ku(){ni=Rl.current,Y(Wa),Y(Rl)}var Jt=E(null),ln=null;function Ni(t){var n=t.alternate;j(qe,qe.current&1),j(Jt,t),ln===null&&(n===null||Wa.current!==null||n.memoizedState!==null)&&(ln=t)}function Xu(t){j(qe,qe.current),j(Jt,t),ln===null&&(ln=t)}function qd(t){t.tag===22?(j(qe,qe.current),j(Jt,t),ln===null&&(ln=t)):Ti()}function Ti(){j(qe,qe.current),j(Jt,Jt.current)}function kt(t){Y(Jt),ln===t&&(ln=null),Y(qe)}var qe=E(0);function Cl(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Qc(r)||$c(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var jn=0,de=null,Le=null,at=null,Il=!1,Ka=!1,oa=!1,wl=0,Qr=0,Xa=null,oA=0;function Qe(){throw Error(s(321))}function Ju(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Kt(t[r],n[r]))return!1;return!0}function ku(t,n,r,l,u,f){return jn=f,de=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=t===null||t.memoizedState===null?Mg:lc,oa=!1,f=r(l,u),oa=!1,Ka&&(f=tg(n,r,l,u)),eg(t),f}function eg(t){M.H=qr;var n=Le!==null&&Le.next!==null;if(jn=0,at=Le=de=null,Il=!1,Qr=0,Xa=null,n)throw Error(s(300));t===null||rt||(t=t.dependencies,t!==null&&bl(t)&&(rt=!0))}function tg(t,n,r,l){de=t;var u=0;do{if(Ka&&(Xa=null),Qr=0,Ka=!1,25<=u)throw Error(s(301));if(u+=1,at=Le=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=Zg,f=n(r,l)}while(Ka);return f}function uA(){var t=M.H,n=t.useState()[0];return n=typeof n.then=="function"?$r(n):n,t=t.useState()[0],(Le!==null?Le.memoizedState:null)!==t&&(de.flags|=1024),n}function Fu(){var t=wl!==0;return wl=0,t}function ju(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Hu(t){if(Il){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Il=!1}jn=0,at=Le=de=null,Ka=!1,Qr=wl=0,Xa=null}function Ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?de.memoizedState=at=t:at=at.next=t,at}function et(){if(Le===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var n=at===null?de.memoizedState:at.next;if(n!==null)at=n,Le=t;else{if(t===null)throw de.alternate===null?Error(s(467)):Error(s(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},at===null?de.memoizedState=at=t:at=at.next=t}return at}function Dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $r(t){var n=Qr;return Qr+=1,Xa===null&&(Xa=[]),t=Jd(Xa,t,n),n=de,(at===null?n.memoizedState:at.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?Mg:lc),t}function xl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $r(t);if(t.$$typeof===X)return yt(t)}throw Error(s(438,String(t)))}function Qu(t){var n=null,r=de.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=de.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Dl(),de.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=dt;return n.index++,r}function Hn(t,n){return typeof n=="function"?n(t):n}function Ol(t){var n=et();return $u(n,Le,t)}function $u(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var u=t.baseQueue,f=l.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}n.baseQueue=u=f,l.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{n=u.next;var p=g=null,v=null,O=n,L=!1;do{var z=O.lane&-536870913;if(z!==O.lane?(Ee&z)===z:(jn&z)===z){var U=O.revertLane;if(U===0)v!==null&&(v=v.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),z===za&&(L=!0);else if((jn&U)===U){O=O.next,U===za&&(L=!0);continue}else z={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},v===null?(p=v=z,g=f):v=v.next=z,de.lanes|=U,Ii|=U;z=O.action,oa&&r(f,z),f=O.hasEagerState?O.eagerState:r(f,z)}else U={lane:z,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},v===null?(p=v=U,g=f):v=v.next=U,de.lanes|=z,Ii|=z;O=O.next}while(O!==null&&O!==n);if(v===null?g=f:v.next=p,!Kt(f,t.memoizedState)&&(rt=!0,L&&(r=Ya,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=v,l.lastRenderedState=f}return u===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Pu(t){var n=et(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,u=r.pending,f=n.memoizedState;if(u!==null){r.pending=null;var g=u=u.next;do f=t(f,g.action),g=g.next;while(g!==u);Kt(f,n.memoizedState)||(rt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function ng(t,n,r){var l=de,u=et(),f=Te;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var g=!Kt((Le||u).memoizedState,r);if(g&&(u.memoizedState=r,rt=!0),u=u.queue,tc(rg.bind(null,l,u,t),[t]),u.getSnapshot!==n||g||at!==null&&at.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},ag.bind(null,l,u,r,n),null),Ye===null)throw Error(s(349));f||(jn&127)!==0||ig(l,n,r)}return r}function ig(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=de.updateQueue,n===null?(n=Dl(),de.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ag(t,n,r,l){n.value=r,n.getSnapshot=l,sg(n)&&lg(t)}function rg(t,n,r){return r(function(){sg(n)&&lg(t)})}function sg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Kt(t,r)}catch{return!0}}function lg(t){var n=qi(t,2);n!==null&&Bt(n,t,2)}function qu(t){var n=Ct();if(typeof t=="function"){var r=t;if(t=r(),oa){di(!0);try{r()}finally{di(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:t},n}function og(t,n,r,l){return t.baseState=r,$u(t,Le,typeof l=="function"?l:Hn)}function cA(t,n,r,l,u){if(Bl(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};M.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,ug(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ug(t,n){var r=n.action,l=n.payload,u=t.state;if(n.isTransition){var f=M.T,g={};M.T=g;try{var p=r(u,l),v=M.S;v!==null&&v(g,p),cg(t,n,p)}catch(O){ec(t,n,O)}finally{f!==null&&g.types!==null&&(f.types=g.types),M.T=f}}else try{f=r(u,l),cg(t,n,f)}catch(O){ec(t,n,O)}}function cg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){fg(t,n,l)},function(l){return ec(t,n,l)}):fg(t,n,r)}function fg(t,n,r){n.status="fulfilled",n.value=r,hg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,ug(t,r)))}function ec(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,hg(n),n=n.next;while(n!==l)}t.action=null}function hg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function dg(t,n){return n}function gg(t,n){if(Te){var r=Ye.formState;if(r!==null){e:{var l=de;if(Te){if(We){t:{for(var u=We,f=sn;u.nodeType!==8;){if(!f){u=null;break t}if(u=on(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){We=on(u.nextSibling),l=u.data==="F!";break e}}bi(l)}l=!1}l&&(n=r[0])}}return r=Ct(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:n},r.queue=l,r=Ug.bind(null,de,l),l.dispatch=r,l=qu(!1),f=sc.bind(null,de,!1,l.queue),l=Ct(),u={state:n,dispatch:null,action:t,pending:null},l.queue=u,r=cA.bind(null,de,u,f,r),u.dispatch=r,l.memoizedState=t,[n,r,!1]}function mg(t){var n=et();return yg(n,Le,t)}function yg(t,n,r){if(n=$u(t,n,dg)[0],t=Ol(Hn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=$r(n)}catch(g){throw g===Ga?Sl:g}else l=n;n=et();var u=n.queue,f=u.dispatch;return r!==n.memoizedState&&(de.flags|=2048,Ja(9,{destroy:void 0},fA.bind(null,u,r),null)),[l,f,t]}function fA(t,n){t.action=n}function pg(t){var n=et(),r=Le;if(r!==null)return yg(n,r,t);et(),n=n.memoizedState,r=et();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ja(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=de.updateQueue,n===null&&(n=Dl(),de.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function bg(){return et().memoizedState}function Vl(t,n,r,l){var u=Ct();de.flags|=t,u.memoizedState=Ja(1|n,{destroy:void 0},r,l===void 0?null:l)}function Ul(t,n,r,l){var u=et();l=l===void 0?null:l;var f=u.memoizedState.inst;Le!==null&&l!==null&&Ju(l,Le.memoizedState.deps)?u.memoizedState=Ja(n,f,r,l):(de.flags|=t,u.memoizedState=Ja(1|n,f,r,l))}function vg(t,n){Vl(8390656,8,t,n)}function tc(t,n){Ul(2048,8,t,n)}function hA(t){de.flags|=4;var n=de.updateQueue;if(n===null)n=Dl(),de.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Ag(t){var n=et().memoizedState;return hA({ref:n,nextImpl:t}),function(){if((we&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Sg(t,n){return Ul(4,2,t,n)}function Eg(t,n){return Ul(4,4,t,n)}function Ng(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Tg(t,n,r){r=r!=null?r.concat([t]):null,Ul(4,4,Ng.bind(null,n,t),r)}function nc(){}function Rg(t,n){var r=et();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Ju(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Cg(t,n){var r=et();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Ju(n,l[1]))return l[0];if(l=t(),oa){di(!0);try{t()}finally{di(!1)}}return r.memoizedState=[l,n],l}function ic(t,n,r){return r===void 0||(jn&1073741824)!==0&&(Ee&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Im(),de.lanes|=t,Ii|=t,r)}function Ig(t,n,r,l){return Kt(r,n)?r:Wa.current!==null?(t=ic(t,r,l),Kt(t,n)||(rt=!0),t):(jn&42)===0||(jn&1073741824)!==0&&(Ee&261930)===0?(rt=!0,t.memoizedState=r):(t=Im(),de.lanes|=t,Ii|=t,n)}function wg(t,n,r,l,u){var f=k.p;k.p=f!==0&&8>f?f:8;var g=M.T,p={};M.T=p,sc(t,!1,n,r);try{var v=u(),O=M.S;if(O!==null&&O(p,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var L=lA(v,l);Pr(t,n,L,Ht(t))}else Pr(t,n,l,Ht(t))}catch(z){Pr(t,n,{then:function(){},status:"rejected",reason:z},Ht())}finally{k.p=f,g!==null&&p.types!==null&&(g.types=p.types),M.T=g}}function dA(){}function ac(t,n,r,l){if(t.tag!==5)throw Error(s(476));var u=Dg(t).queue;wg(t,u,n,oe,r===null?dA:function(){return xg(t),r(l)})}function Dg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:oe},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function xg(t){var n=Dg(t);n.next===null&&(n=t.alternate.memoizedState),Pr(t,n.next.queue,{},Ht())}function rc(){return yt(ms)}function Og(){return et().memoizedState}function Vg(){return et().memoizedState}function gA(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Ht();t=Si(r);var l=Ei(n,t,r);l!==null&&(Bt(l,n,r),Fr(l,n,r)),n={cache:Bu()},t.payload=n;return}n=n.return}}function mA(t,n,r){var l=Ht();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Bl(t)?Bg(n,r):(r=Nu(t,n,r,l),r!==null&&(Bt(r,t,l),Lg(r,n,l)))}function Ug(t,n,r){var l=Ht();Pr(t,n,r,l)}function Pr(t,n,r,l){var u={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bl(t))Bg(n,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,p=f(g,r);if(u.hasEagerState=!0,u.eagerState=p,Kt(p,g))return gl(t,n,u,0),Ye===null&&dl(),!1}catch{}finally{}if(r=Nu(t,n,u,l),r!==null)return Bt(r,t,l),Lg(r,n,l),!0}return!1}function sc(t,n,r,l){if(l={lane:2,revertLane:zc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Bl(t)){if(n)throw Error(s(479))}else n=Nu(t,r,l,2),n!==null&&Bt(n,t,2)}function Bl(t){var n=t.alternate;return t===de||n!==null&&n===de}function Bg(t,n){Ka=Il=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Lg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Gh(t,r)}}var qr={readContext:yt,use:xl,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};qr.useEffectEvent=Qe;var Mg={readContext:yt,use:xl,useCallback:function(t,n){return Ct().memoizedState=[t,n===void 0?null:n],t},useContext:yt,useEffect:vg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Vl(4194308,4,Ng.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Vl(4194308,4,t,n)},useInsertionEffect:function(t,n){Vl(4,2,t,n)},useMemo:function(t,n){var r=Ct();n=n===void 0?null:n;var l=t();if(oa){di(!0);try{t()}finally{di(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Ct();if(r!==void 0){var u=r(n);if(oa){di(!0);try{r(n)}finally{di(!1)}}}else u=n;return l.memoizedState=l.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},l.queue=t,t=t.dispatch=mA.bind(null,de,t),[l.memoizedState,t]},useRef:function(t){var n=Ct();return t={current:t},n.memoizedState=t},useState:function(t){t=qu(t);var n=t.queue,r=Ug.bind(null,de,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:nc,useDeferredValue:function(t,n){var r=Ct();return ic(r,t,n)},useTransition:function(){var t=qu(!1);return t=wg.bind(null,de,t.queue,!0,!1),Ct().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=de,u=Ct();if(Te){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Ye===null)throw Error(s(349));(Ee&127)!==0||ig(l,n,r)}u.memoizedState=r;var f={value:r,getSnapshot:n};return u.queue=f,vg(rg.bind(null,l,f,t),[t]),l.flags|=2048,Ja(9,{destroy:void 0},ag.bind(null,l,f,r,n),null),r},useId:function(){var t=Ct(),n=Ye.identifierPrefix;if(Te){var r=On,l=xn;r=(l&~(1<<32-Wt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=wl++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=oA++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:rc,useFormState:gg,useActionState:gg,useOptimistic:function(t){var n=Ct();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=sc.bind(null,de,!0,r),r.dispatch=n,[t,n]},useMemoCache:Qu,useCacheRefresh:function(){return Ct().memoizedState=gA.bind(null,de)},useEffectEvent:function(t){var n=Ct(),r={impl:t};return n.memoizedState=r,function(){if((we&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},lc={readContext:yt,use:xl,useCallback:Rg,useContext:yt,useEffect:tc,useImperativeHandle:Tg,useInsertionEffect:Sg,useLayoutEffect:Eg,useMemo:Cg,useReducer:Ol,useRef:bg,useState:function(){return Ol(Hn)},useDebugValue:nc,useDeferredValue:function(t,n){var r=et();return Ig(r,Le.memoizedState,t,n)},useTransition:function(){var t=Ol(Hn)[0],n=et().memoizedState;return[typeof t=="boolean"?t:$r(t),n]},useSyncExternalStore:ng,useId:Og,useHostTransitionStatus:rc,useFormState:mg,useActionState:mg,useOptimistic:function(t,n){var r=et();return og(r,Le,t,n)},useMemoCache:Qu,useCacheRefresh:Vg};lc.useEffectEvent=Ag;var Zg={readContext:yt,use:xl,useCallback:Rg,useContext:yt,useEffect:tc,useImperativeHandle:Tg,useInsertionEffect:Sg,useLayoutEffect:Eg,useMemo:Cg,useReducer:Pu,useRef:bg,useState:function(){return Pu(Hn)},useDebugValue:nc,useDeferredValue:function(t,n){var r=et();return Le===null?ic(r,t,n):Ig(r,Le.memoizedState,t,n)},useTransition:function(){var t=Pu(Hn)[0],n=et().memoizedState;return[typeof t=="boolean"?t:$r(t),n]},useSyncExternalStore:ng,useId:Og,useHostTransitionStatus:rc,useFormState:pg,useActionState:pg,useOptimistic:function(t,n){var r=et();return Le!==null?og(r,Le,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Qu,useCacheRefresh:Vg};Zg.useEffectEvent=Ag;function oc(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var uc={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Ht(),u=Si(l);u.payload=n,r!=null&&(u.callback=r),n=Ei(t,u,l),n!==null&&(Bt(n,t,l),Fr(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Ht(),u=Si(l);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=Ei(t,u,l),n!==null&&(Bt(n,t,l),Fr(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Ht(),l=Si(r);l.tag=2,n!=null&&(l.callback=n),n=Ei(t,l,r),n!==null&&(Bt(n,t,r),Fr(n,t,r))}};function zg(t,n,r,l,u,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Yr(r,l)||!Yr(u,f):!0}function Yg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&uc.enqueueReplaceState(n,n.state,null)}function ua(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var u in t)r[u]===void 0&&(r[u]=t[u])}return r}function Gg(t){hl(t)}function _g(t){console.error(t)}function Wg(t){hl(t)}function Ll(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Kg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function cc(t,n,r){return r=Si(r),r.tag=3,r.payload={element:null},r.callback=function(){Ll(t,n)},r}function Xg(t){return t=Si(t),t.tag=3,t}function Jg(t,n,r,l){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;t.payload=function(){return u(f)},t.callback=function(){Kg(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Kg(n,r,l),typeof u!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var p=l.stack;this.componentDidCatch(l.value,{componentStack:p!==null?p:""})})}function yA(t,n,r,l,u){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Za(n,r,u,!0),r=Jt.current,r!==null){switch(r.tag){case 31:case 13:return ln===null?Fl():r.alternate===null&&$e===0&&($e=3),r.flags&=-257,r.flags|=65536,r.lanes=u,l===El?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Lc(t,l,u)),!1;case 22:return r.flags|=65536,l===El?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Lc(t,l,u)),!1}throw Error(s(435,r.tag))}return Lc(t,l,u),Fl(),!1}if(Te)return n=Jt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==Du&&(t=Error(s(422),{cause:l}),Wr(nn(t,r)))):(l!==Du&&(n=Error(s(423),{cause:l}),Wr(nn(n,r))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,l=nn(l,r),u=cc(t.stateNode,l,u),Gu(t,u),$e!==4&&($e=2)),!1;var f=Error(s(520),{cause:l});if(f=nn(f,r),ls===null?ls=[f]:ls.push(f),$e!==4&&($e=2),n===null)return!0;l=nn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=u&-u,r.lanes|=t,t=cc(r.stateNode,l,t),Gu(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wi===null||!wi.has(f))))return r.flags|=65536,u&=-u,r.lanes|=u,u=Xg(u),Jg(u,t,r,l),Gu(r,u),!1}r=r.return}while(r!==null);return!1}var fc=Error(s(461)),rt=!1;function pt(t,n,r,l){n.child=t===null?Hd(n,null,r,l):la(n,t.child,r,l)}function kg(t,n,r,l,u){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var p in l)p!=="ref"&&(g[p]=l[p])}else g=l;return ia(n),l=ku(t,n,r,g,f,u),p=Fu(),t!==null&&!rt?(ju(t,n,u),Qn(t,n,u)):(Te&&p&&Iu(n),n.flags|=1,pt(t,n,l,u),n.child)}function Fg(t,n,r,l,u){if(t===null){var f=r.type;return typeof f=="function"&&!Tu(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,jg(t,n,f,l,u)):(t=yl(r.type,null,l,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!vc(t,u)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Yr,r(g,l)&&t.ref===n.ref)return Qn(t,n,u)}return n.flags|=1,t=Xn(f,l),t.ref=n.ref,t.return=n,n.child=t}function jg(t,n,r,l,u){if(t!==null){var f=t.memoizedProps;if(Yr(f,l)&&t.ref===n.ref)if(rt=!1,n.pendingProps=l=f,vc(t,u))(t.flags&131072)!==0&&(rt=!0);else return n.lanes=t.lanes,Qn(t,n,u)}return hc(t,n,r,l,u)}function Hg(t,n,r,l){var u=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~f}else l=0,n.child=null;return Qg(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Al(n,f!==null?f.cachePool:null),f!==null?Pd(n,f):Wu(),qd(n);else return l=n.lanes=536870912,Qg(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Al(n,f.cachePool),Pd(n,f),Ti(),n.memoizedState=null):(t!==null&&Al(n,null),Wu(),Ti());return pt(t,n,u,r),n.child}function es(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Qg(t,n,r,l,u){var f=Mu();return f=f===null?null:{parent:it._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Al(n,null),Wu(),qd(n),t!==null&&Za(t,n,l,!0),n.childLanes=u,null}function Ml(t,n){return n=zl({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function $g(t,n,r){return la(n,t.child,null,r),t=Ml(n,n.pendingProps),t.flags|=2,kt(n),n.memoizedState=null,t}function pA(t,n,r){var l=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Te){if(l.mode==="hidden")return t=Ml(n,l),n.lanes=536870912,es(null,t);if(Xu(n),(t=We)?(t=uy(t,sn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:yi!==null?{id:xn,overflow:On}:null,retryLane:536870912,hydrationErrors:null},r=Bd(t),r.return=n,n.child=r,mt=n,We=null)):t=null,t===null)throw bi(n);return n.lanes=536870912,null}return Ml(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Xu(n),u)if(n.flags&256)n.flags&=-257,n=$g(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(rt||Za(t,n,r,!1),u=(r&t.childLanes)!==0,rt||u){if(l=Ye,l!==null&&(g=_h(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,qi(t,g),Bt(l,t,g),fc;Fl(),n=$g(t,n,r)}else t=f.treeContext,We=on(g.nextSibling),mt=n,Te=!0,pi=null,sn=!1,t!==null&&Zd(n,t),n=Ml(n,l),n.flags|=4096;return n}return t=Xn(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Zl(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function hc(t,n,r,l,u){return ia(n),r=ku(t,n,r,l,void 0,u),l=Fu(),t!==null&&!rt?(ju(t,n,u),Qn(t,n,u)):(Te&&l&&Iu(n),n.flags|=1,pt(t,n,r,u),n.child)}function Pg(t,n,r,l,u,f){return ia(n),n.updateQueue=null,r=tg(n,l,r,u),eg(t),l=Fu(),t!==null&&!rt?(ju(t,n,f),Qn(t,n,f)):(Te&&l&&Iu(n),n.flags|=1,pt(t,n,r,f),n.child)}function qg(t,n,r,l,u){if(ia(n),n.stateNode===null){var f=Ua,g=r.contextType;typeof g=="object"&&g!==null&&(f=yt(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=uc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},zu(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?yt(g):Ua,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(oc(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&uc.enqueueReplaceState(f,f.state,null),Hr(n,l,f,u),jr(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var p=n.memoizedProps,v=ua(r,p);f.props=v;var O=f.context,L=r.contextType;g=Ua,typeof L=="object"&&L!==null&&(g=yt(L));var z=r.getDerivedStateFromProps;L=typeof z=="function"||typeof f.getSnapshotBeforeUpdate=="function",p=n.pendingProps!==p,L||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p||O!==g)&&Yg(n,f,l,g),Ai=!1;var U=n.memoizedState;f.state=U,Hr(n,l,f,u),jr(),O=n.memoizedState,p||U!==O||Ai?(typeof z=="function"&&(oc(n,r,z,l),O=n.memoizedState),(v=Ai||zg(n,r,v,l,U,O,g))?(L||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=O),f.props=l,f.state=O,f.context=g,l=v):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Yu(t,n),g=n.memoizedProps,L=ua(r,g),f.props=L,z=n.pendingProps,U=f.context,O=r.contextType,v=Ua,typeof O=="object"&&O!==null&&(v=yt(O)),p=r.getDerivedStateFromProps,(O=typeof p=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==z||U!==v)&&Yg(n,f,l,v),Ai=!1,U=n.memoizedState,f.state=U,Hr(n,l,f,u),jr();var B=n.memoizedState;g!==z||U!==B||Ai||t!==null&&t.dependencies!==null&&bl(t.dependencies)?(typeof p=="function"&&(oc(n,r,p,l),B=n.memoizedState),(L=Ai||zg(n,r,L,l,U,B,v)||t!==null&&t.dependencies!==null&&bl(t.dependencies))?(O||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,v),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,v)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=v,l=L):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=la(n,t.child,null,u),n.child=la(n,null,r,u)):pt(t,n,r,u),n.memoizedState=f.state,t=n.child):t=Qn(t,n,u),t}function em(t,n,r,l){return ta(),n.flags|=256,pt(t,n,r,l),n.child}var dc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gc(t){return{baseLanes:t,cachePool:Kd()}}function mc(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=jt),t}function tm(t,n,r){var l=n.pendingProps,u=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(qe.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Te){if(u?Ni(n):Ti(),(t=We)?(t=uy(t,sn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:yi!==null?{id:xn,overflow:On}:null,retryLane:536870912,hydrationErrors:null},r=Bd(t),r.return=n,n.child=r,mt=n,We=null)):t=null,t===null)throw bi(n);return $c(t)?n.lanes=32:n.lanes=536870912,null}var p=l.children;return l=l.fallback,u?(Ti(),u=n.mode,p=zl({mode:"hidden",children:p},u),l=ea(l,u,r,null),p.return=n,l.return=n,p.sibling=l,n.child=p,l=n.child,l.memoizedState=gc(r),l.childLanes=mc(t,g,r),n.memoizedState=dc,es(null,l)):(Ni(n),yc(n,p))}var v=t.memoizedState;if(v!==null&&(p=v.dehydrated,p!==null)){if(f)n.flags&256?(Ni(n),n.flags&=-257,n=pc(t,n,r)):n.memoizedState!==null?(Ti(),n.child=t.child,n.flags|=128,n=null):(Ti(),p=l.fallback,u=n.mode,l=zl({mode:"visible",children:l.children},u),p=ea(p,u,r,null),p.flags|=2,l.return=n,p.return=n,l.sibling=p,n.child=l,la(n,t.child,null,r),l=n.child,l.memoizedState=gc(r),l.childLanes=mc(t,g,r),n.memoizedState=dc,n=es(null,l));else if(Ni(n),$c(p)){if(g=p.nextSibling&&p.nextSibling.dataset,g)var O=g.dgst;g=O,l=Error(s(419)),l.stack="",l.digest=g,Wr({value:l,source:null,stack:null}),n=pc(t,n,r)}else if(rt||Za(t,n,r,!1),g=(r&t.childLanes)!==0,rt||g){if(g=Ye,g!==null&&(l=_h(g,r),l!==0&&l!==v.retryLane))throw v.retryLane=l,qi(t,l),Bt(g,t,l),fc;Qc(p)||Fl(),n=pc(t,n,r)}else Qc(p)?(n.flags|=192,n.child=t.child,n=null):(t=v.treeContext,We=on(p.nextSibling),mt=n,Te=!0,pi=null,sn=!1,t!==null&&Zd(n,t),n=yc(n,l.children),n.flags|=4096);return n}return u?(Ti(),p=l.fallback,u=n.mode,v=t.child,O=v.sibling,l=Xn(v,{mode:"hidden",children:l.children}),l.subtreeFlags=v.subtreeFlags&65011712,O!==null?p=Xn(O,p):(p=ea(p,u,r,null),p.flags|=2),p.return=n,l.return=n,l.sibling=p,n.child=l,es(null,l),l=n.child,p=t.child.memoizedState,p===null?p=gc(r):(u=p.cachePool,u!==null?(v=it._currentValue,u=u.parent!==v?{parent:v,pool:v}:u):u=Kd(),p={baseLanes:p.baseLanes|r,cachePool:u}),l.memoizedState=p,l.childLanes=mc(t,g,r),n.memoizedState=dc,es(t.child,l)):(Ni(n),r=t.child,t=r.sibling,r=Xn(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function yc(t,n){return n=zl({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function zl(t,n){return t=Xt(22,t,null,n),t.lanes=0,t}function pc(t,n,r){return la(n,t.child,null,r),t=yc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function nm(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Vu(t.return,n,r)}function bc(t,n,r,l,u,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:u,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=u,g.treeForkCount=f)}function im(t,n,r){var l=n.pendingProps,u=l.revealOrder,f=l.tail;l=l.children;var g=qe.current,p=(g&2)!==0;if(p?(g=g&1|2,n.flags|=128):g&=1,j(qe,g),pt(t,n,l,r),l=Te?_r:0,!p&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nm(t,r,n);else if(t.tag===19)nm(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(r=n.child,u=null;r!==null;)t=r.alternate,t!==null&&Cl(t)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),bc(n,!1,u,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&Cl(t)===null){n.child=u;break}t=u.sibling,u.sibling=r,r=u,u=t}bc(n,!0,r,null,f,l);break;case"together":bc(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Qn(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ii|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Za(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Xn(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Xn(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function vc(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&bl(t)))}function bA(t,n,r){switch(n.tag){case 3:Rt(n,n.stateNode.containerInfo),vi(n,it,t.memoizedState.cache),ta();break;case 27:case 5:Cr(n);break;case 4:Rt(n,n.stateNode.containerInfo);break;case 10:vi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Xu(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ni(n),n.flags|=128,null):(r&n.child.childLanes)!==0?tm(t,n,r):(Ni(n),t=Qn(t,n,r),t!==null?t.sibling:null);Ni(n);break;case 19:var u=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Za(t,n,r,!1),l=(r&n.childLanes)!==0),u){if(l)return im(t,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),j(qe,qe.current),l)break;return null;case 22:return n.lanes=0,Hg(t,n,r,n.pendingProps);case 24:vi(n,it,t.memoizedState.cache)}return Qn(t,n,r)}function am(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)rt=!0;else{if(!vc(t,r)&&(n.flags&128)===0)return rt=!1,bA(t,n,r);rt=(t.flags&131072)!==0}else rt=!1,Te&&(n.flags&1048576)!==0&&Md(n,_r,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ra(n.elementType),n.type=t,typeof t=="function")Tu(t)?(l=ua(t,l),n.tag=1,n=qg(null,n,t,l,r)):(n.tag=0,n=hc(null,n,t,l,r));else{if(t!=null){var u=t.$$typeof;if(u===ne){n.tag=11,n=kg(null,n,t,l,r);break e}else if(u===W){n.tag=14,n=Fg(null,n,t,l,r);break e}}throw n=pn(t)||t,Error(s(306,n,""))}}return n;case 0:return hc(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,u=ua(l,n.pendingProps),qg(t,n,l,u,r);case 3:e:{if(Rt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;u=f.element,Yu(t,n),Hr(n,l,null,r);var g=n.memoizedState;if(l=g.cache,vi(n,it,l),l!==f.cache&&Uu(n,[it],r,!0),jr(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=em(t,n,l,r);break e}else if(l!==u){u=nn(Error(s(424)),n),Wr(u),n=em(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(We=on(t.firstChild),mt=n,Te=!0,pi=null,sn=!0,r=Hd(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ta(),l===u){n=Qn(t,n,r);break e}pt(t,n,l,r)}n=n.child}return n;case 26:return Zl(t,n),t===null?(r=my(n.type,null,n.pendingProps,null))?n.memoizedState=r:Te||(r=n.type,t=n.pendingProps,l=eo(be.current).createElement(r),l[gt]=n,l[wt]=t,bt(l,r,t),ut(l),n.stateNode=l):n.memoizedState=my(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Cr(n),t===null&&Te&&(l=n.stateNode=hy(n.type,n.pendingProps,be.current),mt=n,sn=!0,u=We,Vi(n.type)?(Pc=u,We=on(l.firstChild)):We=u),pt(t,n,n.pendingProps.children,r),Zl(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Te&&((u=l=We)&&(l=jA(l,n.type,n.pendingProps,sn),l!==null?(n.stateNode=l,mt=n,We=on(l.firstChild),sn=!1,u=!0):u=!1),u||bi(n)),Cr(n),u=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Fc(u,f)?l=null:g!==null&&Fc(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=ku(t,n,uA,null,null,r),ms._currentValue=u),Zl(t,n),pt(t,n,l,r),n.child;case 6:return t===null&&Te&&((t=r=We)&&(r=HA(r,n.pendingProps,sn),r!==null?(n.stateNode=r,mt=n,We=null,t=!0):t=!1),t||bi(n)),null;case 13:return tm(t,n,r);case 4:return Rt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=la(n,null,l,r):pt(t,n,l,r),n.child;case 11:return kg(t,n,n.type,n.pendingProps,r);case 7:return pt(t,n,n.pendingProps,r),n.child;case 8:return pt(t,n,n.pendingProps.children,r),n.child;case 12:return pt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,vi(n,n.type,l.value),pt(t,n,l.children,r),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,ia(n),u=yt(u),l=l(u),n.flags|=1,pt(t,n,l,r),n.child;case 14:return Fg(t,n,n.type,n.pendingProps,r);case 15:return jg(t,n,n.type,n.pendingProps,r);case 19:return im(t,n,r);case 31:return pA(t,n,r);case 22:return Hg(t,n,r,n.pendingProps);case 24:return ia(n),l=yt(it),t===null?(u=Mu(),u===null&&(u=Ye,f=Bu(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=r),u=f),n.memoizedState={parent:l,cache:u},zu(n),vi(n,it,u)):((t.lanes&r)!==0&&(Yu(t,n),Hr(n,null,null,r),jr()),u=t.memoizedState,f=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),vi(n,it,l)):(l=f.cache,vi(n,it,l),l!==u.cache&&Uu(n,[it],r,!0))),pt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function $n(t){t.flags|=4}function Ac(t,n,r,l,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(Om())t.flags|=8192;else throw sa=El,Zu}else t.flags&=-16777217}function rm(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ay(n))if(Om())t.flags|=8192;else throw sa=El,Zu}function Yl(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?zh():536870912,t.lanes|=n,Ha|=n)}function ts(t,n){if(!Te)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ke(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var u=t.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function vA(t,n,r){var l=n.pendingProps;switch(wu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(n),null;case 1:return Ke(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Fn(it),Pe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ma(n)?$n(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,xu())),Ke(n),null;case 26:var u=n.type,f=n.memoizedState;return t===null?($n(n),f!==null?(Ke(n),rm(n,f)):(Ke(n),Ac(n,u,null,l,r))):f?f!==t.memoizedState?($n(n),Ke(n),rm(n,f)):(Ke(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&$n(n),Ke(n),Ac(n,u,t,l,r)),null;case 27:if(Qs(n),r=be.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&$n(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Ke(n),null}t=$.current,Ma(n)?zd(n):(t=hy(u,l,r),n.stateNode=t,$n(n))}return Ke(n),null;case 5:if(Qs(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&$n(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Ke(n),null}if(f=$.current,Ma(n))zd(n);else{var g=eo(be.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(u,{is:l.is}):g.createElement(u)}}f[gt]=n,f[wt]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(bt(f,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&$n(n)}}return Ke(n),Ac(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&$n(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=be.current,Ma(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,u=mt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}t[gt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||ty(t.nodeValue,r)),t||bi(n,!0)}else t=eo(t).createTextNode(l),t[gt]=n,n.stateNode=t}return Ke(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ma(n),r!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[gt]=n}else ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ke(n),t=!1}else r=xu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(kt(n),n):(kt(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Ke(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Ma(n),l!==null&&l.dehydrated!==null){if(t===null){if(!u)throw Error(s(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(s(317));u[gt]=n}else ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ke(n),u=!1}else u=xu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(kt(n),n):(kt(n),null)}return kt(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Yl(n,n.updateQueue),Ke(n),null);case 4:return Pe(),t===null&&Wc(n.stateNode.containerInfo),Ke(n),null;case 10:return Fn(n.type),Ke(n),null;case 19:if(Y(qe),l=n.memoizedState,l===null)return Ke(n),null;if(u=(n.flags&128)!==0,f=l.rendering,f===null)if(u)ts(l,!1);else{if($e!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Cl(t),f!==null){for(n.flags|=128,ts(l,!1),t=f.updateQueue,n.updateQueue=t,Yl(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Ud(r,t),r=r.sibling;return j(qe,qe.current&1|2),Te&&Jn(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Gt()>Xl&&(n.flags|=128,u=!0,ts(l,!1),n.lanes=4194304)}else{if(!u)if(t=Cl(f),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,Yl(n,t),ts(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Te)return Ke(n),null}else 2*Gt()-l.renderingStartTime>Xl&&r!==536870912&&(n.flags|=128,u=!0,ts(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Gt(),t.sibling=null,r=qe.current,j(qe,u?r&1|2:r&1),Te&&Jn(n,l.treeForkCount),t):(Ke(n),null);case 22:case 23:return kt(n),Ku(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Ke(n),n.subtreeFlags&6&&(n.flags|=8192)):Ke(n),r=n.updateQueue,r!==null&&Yl(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Y(aa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Fn(it),Ke(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function AA(t,n){switch(wu(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Fn(it),Pe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Qs(n),null;case 31:if(n.memoizedState!==null){if(kt(n),n.alternate===null)throw Error(s(340));ta()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(kt(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ta()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(qe),null;case 4:return Pe(),null;case 10:return Fn(n.type),null;case 22:case 23:return kt(n),Ku(),t!==null&&Y(aa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Fn(it),null;case 25:return null;default:return null}}function sm(t,n){switch(wu(n),n.tag){case 3:Fn(it),Pe();break;case 26:case 27:case 5:Qs(n);break;case 4:Pe();break;case 31:n.memoizedState!==null&&kt(n);break;case 13:kt(n);break;case 19:Y(qe);break;case 10:Fn(n.type);break;case 22:case 23:kt(n),Ku(),t!==null&&Y(aa);break;case 24:Fn(it)}}function ns(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var u=l.next;r=u;do{if((r.tag&t)===t){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==u)}}catch(p){Ve(n,n.return,p)}}function Ri(t,n,r){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&t)===t){var g=l.inst,p=g.destroy;if(p!==void 0){g.destroy=void 0,u=n;var v=r,O=p;try{O()}catch(L){Ve(u,v,L)}}}l=l.next}while(l!==f)}}catch(L){Ve(n,n.return,L)}}function lm(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{$d(n,r)}catch(l){Ve(t,t.return,l)}}}function om(t,n,r){r.props=ua(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ve(t,n,l)}}function is(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(u){Ve(t,n,u)}}function Vn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(u){Ve(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){Ve(t,n,u)}else r.current=null}function um(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(u){Ve(t,t.return,u)}}function Sc(t,n,r){try{var l=t.stateNode;WA(l,t.type,r,n),l[wt]=n}catch(u){Ve(t,t.return,u)}}function cm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vi(t.type)||t.tag===4}function Ec(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Wn));else if(l!==4&&(l===27&&Vi(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Nc(t,n,r),t=t.sibling;t!==null;)Nc(t,n,r),t=t.sibling}function Gl(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Vi(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Gl(t,n,r),t=t.sibling;t!==null;)Gl(t,n,r),t=t.sibling}function fm(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);bt(n,l,r),n[gt]=t,n[wt]=r}catch(f){Ve(t,t.return,f)}}var Pn=!1,st=!1,Tc=!1,hm=typeof WeakSet=="function"?WeakSet:Set,ct=null;function SA(t,n){if(t=t.containerInfo,Jc=lo,t=Td(t),pu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,p=-1,v=-1,O=0,L=0,z=t,U=null;t:for(;;){for(var B;z!==r||u!==0&&z.nodeType!==3||(p=g+u),z!==f||l!==0&&z.nodeType!==3||(v=g+l),z.nodeType===3&&(g+=z.nodeValue.length),(B=z.firstChild)!==null;)U=z,z=B;for(;;){if(z===t)break t;if(U===r&&++O===u&&(p=g),U===f&&++L===l&&(v=g),(B=z.nextSibling)!==null)break;z=U,U=z.parentNode}z=B}r=p===-1||v===-1?null:{start:p,end:v}}else r=null}r=r||{start:0,end:0}}else r=null;for(kc={focusedElem:t,selectionRange:r},lo=!1,ct=n;ct!==null;)if(n=ct,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ct=t;else for(;ct!==null;){switch(n=ct,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)u=t[r],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,u=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var Q=ua(r.type,u);t=l.getSnapshotBeforeUpdate(Q,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(le){Ve(r,r.return,le)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Hc(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,ct=t;break}ct=n.return}}function dm(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ei(t,r),l&4&&ns(5,r);break;case 1:if(ei(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){Ve(r,r.return,g)}else{var u=ua(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ve(r,r.return,g)}}l&64&&lm(r),l&512&&is(r,r.return);break;case 3:if(ei(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{$d(t,n)}catch(g){Ve(r,r.return,g)}}break;case 27:n===null&&l&4&&fm(r);case 26:case 5:ei(t,r),n===null&&l&4&&um(r),l&512&&is(r,r.return);break;case 12:ei(t,r);break;case 31:ei(t,r),l&4&&ym(t,r);break;case 13:ei(t,r),l&4&&pm(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=xA.bind(null,r),QA(t,r))));break;case 22:if(l=r.memoizedState!==null||Pn,!l){n=n!==null&&n.memoizedState!==null||st,u=Pn;var f=st;Pn=l,(st=n)&&!f?ti(t,r,(r.subtreeFlags&8772)!==0):ei(t,r),Pn=u,st=f}break;case 30:break;default:ei(t,r)}}function gm(t){var n=t.alternate;n!==null&&(t.alternate=null,gm(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&eu(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ke=null,xt=!1;function qn(t,n,r){for(r=r.child;r!==null;)mm(t,n,r),r=r.sibling}function mm(t,n,r){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Ir,r)}catch{}switch(r.tag){case 26:st||Vn(r,n),qn(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:st||Vn(r,n);var l=ke,u=xt;Vi(r.type)&&(ke=r.stateNode,xt=!1),qn(t,n,r),hs(r.stateNode),ke=l,xt=u;break;case 5:st||Vn(r,n);case 6:if(l=ke,u=xt,ke=null,qn(t,n,r),ke=l,xt=u,ke!==null)if(xt)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(r.stateNode)}catch(f){Ve(r,n,f)}else try{ke.removeChild(r.stateNode)}catch(f){Ve(r,n,f)}break;case 18:ke!==null&&(xt?(t=ke,ly(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ir(t)):ly(ke,r.stateNode));break;case 4:l=ke,u=xt,ke=r.stateNode.containerInfo,xt=!0,qn(t,n,r),ke=l,xt=u;break;case 0:case 11:case 14:case 15:Ri(2,r,n),st||Ri(4,r,n),qn(t,n,r);break;case 1:st||(Vn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&om(r,n,l)),qn(t,n,r);break;case 21:qn(t,n,r);break;case 22:st=(l=st)||r.memoizedState!==null,qn(t,n,r),st=l;break;default:qn(t,n,r)}}function ym(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ir(t)}catch(r){Ve(n,n.return,r)}}}function pm(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ir(t)}catch(r){Ve(n,n.return,r)}}function EA(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new hm),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new hm),n;default:throw Error(s(435,t.tag))}}function _l(t,n){var r=EA(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var u=OA.bind(null,t,l);l.then(u,u)}})}function Ot(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var u=r[l],f=t,g=n,p=g;e:for(;p!==null;){switch(p.tag){case 27:if(Vi(p.type)){ke=p.stateNode,xt=!1;break e}break;case 5:ke=p.stateNode,xt=!1;break e;case 3:case 4:ke=p.stateNode.containerInfo,xt=!0;break e}p=p.return}if(ke===null)throw Error(s(160));mm(f,g,u),ke=null,xt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)bm(n,t),n=n.sibling}var vn=null;function bm(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ot(n,t),Vt(t),l&4&&(Ri(3,t,t.return),ns(3,t),Ri(5,t,t.return));break;case 1:Ot(n,t),Vt(t),l&512&&(st||r===null||Vn(r,r.return)),l&64&&Pn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var u=vn;if(Ot(n,t),Vt(t),l&512&&(st||r===null||Vn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[xr]||f[gt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),bt(f,l,r),f[gt]=t,ut(f),l=f;break e;case"link":var g=by("link","href",u).get(l+(r.href||""));if(g){for(var p=0;p<g.length;p++)if(f=g[p],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(p,1);break t}}f=u.createElement(l),bt(f,l,r),u.head.appendChild(f);break;case"meta":if(g=by("meta","content",u).get(l+(r.content||""))){for(p=0;p<g.length;p++)if(f=g[p],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(p,1);break t}}f=u.createElement(l),bt(f,l,r),u.head.appendChild(f);break;default:throw Error(s(468,l))}f[gt]=t,ut(f),l=f}t.stateNode=l}else vy(u,t.type,t.stateNode);else t.stateNode=py(u,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?vy(u,t.type,t.stateNode):py(u,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Sc(t,t.memoizedProps,r.memoizedProps)}break;case 27:Ot(n,t),Vt(t),l&512&&(st||r===null||Vn(r,r.return)),r!==null&&l&4&&Sc(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Ot(n,t),Vt(t),l&512&&(st||r===null||Vn(r,r.return)),t.flags&32){u=t.stateNode;try{Ca(u,"")}catch(Q){Ve(t,t.return,Q)}}l&4&&t.stateNode!=null&&(u=t.memoizedProps,Sc(t,u,r!==null?r.memoizedProps:u)),l&1024&&(Tc=!0);break;case 6:if(Ot(n,t),Vt(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(Q){Ve(t,t.return,Q)}}break;case 3:if(io=null,u=vn,vn=to(n.containerInfo),Ot(n,t),vn=u,Vt(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ir(n.containerInfo)}catch(Q){Ve(t,t.return,Q)}Tc&&(Tc=!1,vm(t));break;case 4:l=vn,vn=to(t.stateNode.containerInfo),Ot(n,t),Vt(t),vn=l;break;case 12:Ot(n,t),Vt(t);break;case 31:Ot(n,t),Vt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_l(t,l)));break;case 13:Ot(n,t),Vt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Kl=Gt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_l(t,l)));break;case 22:u=t.memoizedState!==null;var v=r!==null&&r.memoizedState!==null,O=Pn,L=st;if(Pn=O||u,st=L||v,Ot(n,t),st=L,Pn=O,Vt(t),l&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||v||Pn||st||ca(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){v=r=n;try{if(f=v.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{p=v.stateNode;var z=v.memoizedProps.style,U=z!=null&&z.hasOwnProperty("display")?z.display:null;p.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(Q){Ve(v,v.return,Q)}}}else if(n.tag===6){if(r===null){v=n;try{v.stateNode.nodeValue=u?"":v.memoizedProps}catch(Q){Ve(v,v.return,Q)}}}else if(n.tag===18){if(r===null){v=n;try{var B=v.stateNode;u?oy(B,!0):oy(v.stateNode,!1)}catch(Q){Ve(v,v.return,Q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,_l(t,r))));break;case 19:Ot(n,t),Vt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_l(t,l)));break;case 30:break;case 21:break;default:Ot(n,t),Vt(t)}}function Vt(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(cm(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var u=r.stateNode,f=Ec(t);Gl(t,f,u);break;case 5:var g=r.stateNode;r.flags&32&&(Ca(g,""),r.flags&=-33);var p=Ec(t);Gl(t,p,g);break;case 3:case 4:var v=r.stateNode.containerInfo,O=Ec(t);Nc(t,O,v);break;default:throw Error(s(161))}}catch(L){Ve(t,t.return,L)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function vm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;vm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ei(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dm(t,n.alternate,n),n=n.sibling}function ca(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ri(4,n,n.return),ca(n);break;case 1:Vn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&om(n,n.return,r),ca(n);break;case 27:hs(n.stateNode);case 26:case 5:Vn(n,n.return),ca(n);break;case 22:n.memoizedState===null&&ca(n);break;case 30:ca(n);break;default:ca(n)}t=t.sibling}}function ti(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ti(u,f,r),ns(4,f);break;case 1:if(ti(u,f,r),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(O){Ve(l,l.return,O)}if(l=f,u=l.updateQueue,u!==null){var p=l.stateNode;try{var v=u.shared.hiddenCallbacks;if(v!==null)for(u.shared.hiddenCallbacks=null,u=0;u<v.length;u++)Qd(v[u],p)}catch(O){Ve(l,l.return,O)}}r&&g&64&&lm(f),is(f,f.return);break;case 27:fm(f);case 26:case 5:ti(u,f,r),r&&l===null&&g&4&&um(f),is(f,f.return);break;case 12:ti(u,f,r);break;case 31:ti(u,f,r),r&&g&4&&ym(u,f);break;case 13:ti(u,f,r),r&&g&4&&pm(u,f);break;case 22:f.memoizedState===null&&ti(u,f,r),is(f,f.return);break;case 30:break;default:ti(u,f,r)}n=n.sibling}}function Rc(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Kr(r))}function Cc(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Kr(t))}function An(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Am(t,n,r,l),n=n.sibling}function Am(t,n,r,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:An(t,n,r,l),u&2048&&ns(9,n);break;case 1:An(t,n,r,l);break;case 3:An(t,n,r,l),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Kr(t)));break;case 12:if(u&2048){An(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,p=f.onPostCommit;typeof p=="function"&&p(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(v){Ve(n,n.return,v)}}else An(t,n,r,l);break;case 31:An(t,n,r,l);break;case 13:An(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?An(t,n,r,l):as(t,n):f._visibility&2?An(t,n,r,l):(f._visibility|=2,ka(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Rc(g,n);break;case 24:An(t,n,r,l),u&2048&&Cc(n.alternate,n);break;default:An(t,n,r,l)}}function ka(t,n,r,l,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,p=r,v=l,O=g.flags;switch(g.tag){case 0:case 11:case 15:ka(f,g,p,v,u),ns(8,g);break;case 23:break;case 22:var L=g.stateNode;g.memoizedState!==null?L._visibility&2?ka(f,g,p,v,u):as(f,g):(L._visibility|=2,ka(f,g,p,v,u)),u&&O&2048&&Rc(g.alternate,g);break;case 24:ka(f,g,p,v,u),u&&O&2048&&Cc(g.alternate,g);break;default:ka(f,g,p,v,u)}n=n.sibling}}function as(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,u=l.flags;switch(l.tag){case 22:as(r,l),u&2048&&Rc(l.alternate,l);break;case 24:as(r,l),u&2048&&Cc(l.alternate,l);break;default:as(r,l)}n=n.sibling}}var rs=8192;function Fa(t,n,r){if(t.subtreeFlags&rs)for(t=t.child;t!==null;)Sm(t,n,r),t=t.sibling}function Sm(t,n,r){switch(t.tag){case 26:Fa(t,n,r),t.flags&rs&&t.memoizedState!==null&&oS(r,vn,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,n,r);break;case 3:case 4:var l=vn;vn=to(t.stateNode.containerInfo),Fa(t,n,r),vn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=rs,rs=16777216,Fa(t,n,r),rs=l):Fa(t,n,r));break;default:Fa(t,n,r)}}function Em(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ss(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];ct=l,Tm(l,t)}Em(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nm(t),t=t.sibling}function Nm(t){switch(t.tag){case 0:case 11:case 15:ss(t),t.flags&2048&&Ri(9,t,t.return);break;case 3:ss(t);break;case 12:ss(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Wl(t)):ss(t);break;default:ss(t)}}function Wl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];ct=l,Tm(l,t)}Em(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ri(8,n,n.return),Wl(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Wl(n));break;default:Wl(n)}t=t.sibling}}function Tm(t,n){for(;ct!==null;){var r=ct;switch(r.tag){case 0:case 11:case 15:Ri(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Kr(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,ct=l;else e:for(r=t;ct!==null;){l=ct;var u=l.sibling,f=l.return;if(gm(l),l===r){ct=null;break e}if(u!==null){u.return=f,ct=u;break e}ct=f}}}var NA={getCacheForType:function(t){var n=yt(it),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return yt(it).controller.signal}},TA=typeof WeakMap=="function"?WeakMap:Map,we=0,Ye=null,ve=null,Ee=0,Oe=0,Ft=null,Ci=!1,ja=!1,Ic=!1,ni=0,$e=0,Ii=0,fa=0,wc=0,jt=0,Ha=0,ls=null,Ut=null,Dc=!1,Kl=0,Rm=0,Xl=1/0,Jl=null,wi=null,lt=0,Di=null,Qa=null,ii=0,xc=0,Oc=null,Cm=null,os=0,Vc=null;function Ht(){return(we&2)!==0&&Ee!==0?Ee&-Ee:M.T!==null?zc():Wh()}function Im(){if(jt===0)if((Ee&536870912)===0||Te){var t=qs;qs<<=1,(qs&3932160)===0&&(qs=262144),jt=t}else jt=536870912;return t=Jt.current,t!==null&&(t.flags|=32),jt}function Bt(t,n,r){(t===Ye&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)&&($a(t,0),xi(t,Ee,jt,!1)),Dr(t,r),((we&2)===0||t!==Ye)&&(t===Ye&&((we&2)===0&&(fa|=r),$e===4&&xi(t,Ee,jt,!1)),Un(t))}function wm(t,n,r){if((we&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||wr(t,n),u=l?IA(t,n):Bc(t,n,!0),f=l;do{if(u===0){ja&&!l&&xi(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!RA(r)){u=Bc(t,n,!1),f=!1;continue}if(u===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var p=t;u=ls;var v=p.current.memoizedState.isDehydrated;if(v&&($a(p,g).flags|=256),g=Bc(p,g,!1),g!==2){if(Ic&&!v){p.errorRecoveryDisabledLanes|=f,fa|=f,u=4;break e}f=Ut,Ut=u,f!==null&&(Ut===null?Ut=f:Ut.push.apply(Ut,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){$a(t,0),xi(t,n,0,!0);break}e:{switch(l=t,f=u,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:xi(l,n,jt,!Ci);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(u=Kl+300-Gt(),10<u)){if(xi(l,n,jt,!Ci),tl(l,0,!0)!==0)break e;ii=n,l.timeoutHandle=ry(Dm.bind(null,l,r,Ut,Jl,Dc,n,jt,fa,Ha,Ci,f,"Throttled",-0,0),u);break e}Dm(l,r,Ut,Jl,Dc,n,jt,fa,Ha,Ci,f,null,-0,0)}}break}while(!0);Un(t)}function Dm(t,n,r,l,u,f,g,p,v,O,L,z,U,B){if(t.timeoutHandle=-1,z=n.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},Sm(n,f,z);var Q=(f&62914560)===f?Kl-Gt():(f&4194048)===f?Rm-Gt():0;if(Q=uS(z,Q),Q!==null){ii=f,t.cancelPendingCommit=Q(Zm.bind(null,t,n,f,r,l,u,g,p,v,L,z,null,U,B)),xi(t,f,g,!O);return}}Zm(t,n,f,r,l,u,g,p,v)}function RA(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var u=r[l],f=u.getSnapshot;u=u.value;try{if(!Kt(f(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xi(t,n,r,l){n&=~wc,n&=~fa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var u=n;0<u;){var f=31-Wt(u),g=1<<f;l[f]=-1,u&=~g}r!==0&&Yh(t,r,n)}function kl(){return(we&6)===0?(us(0),!1):!0}function Uc(){if(ve!==null){if(Oe===0)var t=ve.return;else t=ve,kn=na=null,Hu(t),_a=null,Jr=0,t=ve;for(;t!==null;)sm(t.alternate,t),t=t.return;ve=null}}function $a(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,JA(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ii=0,Uc(),Ye=t,ve=r=Xn(t.current,null),Ee=n,Oe=0,Ft=null,Ci=!1,ja=wr(t,n),Ic=!1,Ha=jt=wc=fa=Ii=$e=0,Ut=ls=null,Dc=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var u=31-Wt(l),f=1<<u;n|=t[u],l&=~f}return ni=n,dl(),r}function xm(t,n){de=null,M.H=qr,n===Ga||n===Sl?(n=kd(),Oe=3):n===Zu?(n=kd(),Oe=4):Oe=n===fc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ft=n,ve===null&&($e=1,Ll(t,nn(n,t.current)))}function Om(){var t=Jt.current;return t===null?!0:(Ee&4194048)===Ee?ln===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?t===ln:!1}function Vm(){var t=M.H;return M.H=qr,t===null?qr:t}function Um(){var t=M.A;return M.A=NA,t}function Fl(){$e=4,Ci||(Ee&4194048)!==Ee&&Jt.current!==null||(ja=!0),(Ii&134217727)===0&&(fa&134217727)===0||Ye===null||xi(Ye,Ee,jt,!1)}function Bc(t,n,r){var l=we;we|=2;var u=Vm(),f=Um();(Ye!==t||Ee!==n)&&(Jl=null,$a(t,n)),n=!1;var g=$e;e:do try{if(Oe!==0&&ve!==null){var p=ve,v=Ft;switch(Oe){case 8:Uc(),g=6;break e;case 3:case 2:case 9:case 6:Jt.current===null&&(n=!0);var O=Oe;if(Oe=0,Ft=null,Pa(t,p,v,O),r&&ja){g=0;break e}break;default:O=Oe,Oe=0,Ft=null,Pa(t,p,v,O)}}CA(),g=$e;break}catch(L){xm(t,L)}while(!0);return n&&t.shellSuspendCounter++,kn=na=null,we=l,M.H=u,M.A=f,ve===null&&(Ye=null,Ee=0,dl()),g}function CA(){for(;ve!==null;)Bm(ve)}function IA(t,n){var r=we;we|=2;var l=Vm(),u=Um();Ye!==t||Ee!==n?(Jl=null,Xl=Gt()+500,$a(t,n)):ja=wr(t,n);e:do try{if(Oe!==0&&ve!==null){n=ve;var f=Ft;t:switch(Oe){case 1:Oe=0,Ft=null,Pa(t,n,f,1);break;case 2:case 9:if(Xd(f)){Oe=0,Ft=null,Lm(n);break}n=function(){Oe!==2&&Oe!==9||Ye!==t||(Oe=7),Un(t)},f.then(n,n);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Xd(f)?(Oe=0,Ft=null,Lm(n)):(Oe=0,Ft=null,Pa(t,n,f,7));break;case 5:var g=null;switch(ve.tag){case 26:g=ve.memoizedState;case 5:case 27:var p=ve;if(g?Ay(g):p.stateNode.complete){Oe=0,Ft=null;var v=p.sibling;if(v!==null)ve=v;else{var O=p.return;O!==null?(ve=O,jl(O)):ve=null}break t}}Oe=0,Ft=null,Pa(t,n,f,5);break;case 6:Oe=0,Ft=null,Pa(t,n,f,6);break;case 8:Uc(),$e=6;break e;default:throw Error(s(462))}}wA();break}catch(L){xm(t,L)}while(!0);return kn=na=null,M.H=l,M.A=u,we=r,ve!==null?0:(Ye=null,Ee=0,dl(),$e)}function wA(){for(;ve!==null&&!$b();)Bm(ve)}function Bm(t){var n=am(t.alternate,t,ni);t.memoizedProps=t.pendingProps,n===null?jl(t):ve=n}function Lm(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Pg(r,n,n.pendingProps,n.type,void 0,Ee);break;case 11:n=Pg(r,n,n.pendingProps,n.type.render,n.ref,Ee);break;case 5:Hu(n);default:sm(r,n),n=ve=Ud(n,ni),n=am(r,n,ni)}t.memoizedProps=t.pendingProps,n===null?jl(t):ve=n}function Pa(t,n,r,l){kn=na=null,Hu(n),_a=null,Jr=0;var u=n.return;try{if(yA(t,u,n,r,Ee)){$e=1,Ll(t,nn(r,t.current)),ve=null;return}}catch(f){if(u!==null)throw ve=u,f;$e=1,Ll(t,nn(r,t.current)),ve=null;return}n.flags&32768?(Te||l===1?t=!0:ja||(Ee&536870912)!==0?t=!1:(Ci=t=!0,(l===2||l===9||l===3||l===6)&&(l=Jt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Mm(n,t)):jl(n)}function jl(t){var n=t;do{if((n.flags&32768)!==0){Mm(n,Ci);return}t=n.return;var r=vA(n.alternate,n,ni);if(r!==null){ve=r;return}if(n=n.sibling,n!==null){ve=n;return}ve=n=t}while(n!==null);$e===0&&($e=5)}function Mm(t,n){do{var r=AA(t.alternate,t);if(r!==null){r.flags&=32767,ve=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ve=t;return}ve=t=r}while(t!==null);$e=6,ve=null}function Zm(t,n,r,l,u,f,g,p,v){t.cancelPendingCommit=null;do Hl();while(lt!==0);if((we&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Eu,lv(t,r,f,g,p,v),t===Ye&&(ve=Ye=null,Ee=0),Qa=n,Di=t,ii=r,xc=f,Oc=u,Cm=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,VA($s,function(){return Wm(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,u=k.p,k.p=2,g=we,we|=4;try{SA(t,n,r)}finally{we=g,k.p=u,M.T=l}}lt=1,zm(),Ym(),Gm()}}function zm(){if(lt===1){lt=0;var t=Di,n=Qa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var l=k.p;k.p=2;var u=we;we|=4;try{bm(n,t);var f=kc,g=Td(t.containerInfo),p=f.focusedElem,v=f.selectionRange;if(g!==p&&p&&p.ownerDocument&&Nd(p.ownerDocument.documentElement,p)){if(v!==null&&pu(p)){var O=v.start,L=v.end;if(L===void 0&&(L=O),"selectionStart"in p)p.selectionStart=O,p.selectionEnd=Math.min(L,p.value.length);else{var z=p.ownerDocument||document,U=z&&z.defaultView||window;if(U.getSelection){var B=U.getSelection(),Q=p.textContent.length,le=Math.min(v.start,Q),Ze=v.end===void 0?le:Math.min(v.end,Q);!B.extend&&le>Ze&&(g=Ze,Ze=le,le=g);var I=Ed(p,le),S=Ed(p,Ze);if(I&&S&&(B.rangeCount!==1||B.anchorNode!==I.node||B.anchorOffset!==I.offset||B.focusNode!==S.node||B.focusOffset!==S.offset)){var x=z.createRange();x.setStart(I.node,I.offset),B.removeAllRanges(),le>Ze?(B.addRange(x),B.extend(S.node,S.offset)):(x.setEnd(S.node,S.offset),B.addRange(x))}}}}for(z=[],B=p;B=B.parentNode;)B.nodeType===1&&z.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<z.length;p++){var Z=z[p];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}lo=!!Jc,kc=Jc=null}finally{we=u,k.p=l,M.T=r}}t.current=n,lt=2}}function Ym(){if(lt===2){lt=0;var t=Di,n=Qa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var l=k.p;k.p=2;var u=we;we|=4;try{dm(t,n.alternate,n)}finally{we=u,k.p=l,M.T=r}}lt=3}}function Gm(){if(lt===4||lt===3){lt=0,Pb();var t=Di,n=Qa,r=ii,l=Cm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?lt=5:(lt=0,Qa=Di=null,_m(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(wi=null),Po(r),n=n.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Ir,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=M.T,u=k.p,k.p=2,M.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var p=l[g];f(p.value,{componentStack:p.stack})}}finally{M.T=n,k.p=u}}(ii&3)!==0&&Hl(),Un(t),u=t.pendingLanes,(r&261930)!==0&&(u&42)!==0?t===Vc?os++:(os=0,Vc=t):os=0,us(0)}}function _m(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Kr(n)))}function Hl(){return zm(),Ym(),Gm(),Wm()}function Wm(){if(lt!==5)return!1;var t=Di,n=xc;xc=0;var r=Po(ii),l=M.T,u=k.p;try{k.p=32>r?32:r,M.T=null,r=Oc,Oc=null;var f=Di,g=ii;if(lt=0,Qa=Di=null,ii=0,(we&6)!==0)throw Error(s(331));var p=we;if(we|=4,Nm(f.current),Am(f,f.current,g,r),we=p,us(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Ir,f)}catch{}return!0}finally{k.p=u,M.T=l,_m(t,n)}}function Km(t,n,r){n=nn(r,n),n=cc(t.stateNode,n,2),t=Ei(t,n,2),t!==null&&(Dr(t,2),Un(t))}function Ve(t,n,r){if(t.tag===3)Km(t,t,r);else for(;n!==null;){if(n.tag===3){Km(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wi===null||!wi.has(l))){t=nn(r,t),r=Xg(2),l=Ei(n,r,2),l!==null&&(Jg(r,l,n,t),Dr(l,2),Un(l));break}}n=n.return}}function Lc(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new TA;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(r)||(Ic=!0,u.add(r),t=DA.bind(null,t,n,r),n.then(t,t))}function DA(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ye===t&&(Ee&r)===r&&($e===4||$e===3&&(Ee&62914560)===Ee&&300>Gt()-Kl?(we&2)===0&&$a(t,0):wc|=r,Ha===Ee&&(Ha=0)),Un(t)}function Xm(t,n){n===0&&(n=zh()),t=qi(t,n),t!==null&&(Dr(t,n),Un(t))}function xA(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Xm(t,r)}function OA(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,u=t.memoizedState;u!==null&&(r=u.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Xm(t,r)}function VA(t,n){return jo(t,n)}var Ql=null,qa=null,Mc=!1,$l=!1,Zc=!1,Oi=0;function Un(t){t!==qa&&t.next===null&&(qa===null?Ql=qa=t:qa=qa.next=t),$l=!0,Mc||(Mc=!0,BA())}function us(t,n){if(!Zc&&$l){Zc=!0;do for(var r=!1,l=Ql;l!==null;){if(t!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var g=l.suspendedLanes,p=l.pingedLanes;f=(1<<31-Wt(42|t)+1)-1,f&=u&~(g&~p),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,jm(l,f))}else f=Ee,f=tl(l,l===Ye?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||wr(l,f)||(r=!0,jm(l,f));l=l.next}while(r);Zc=!1}}function UA(){Jm()}function Jm(){$l=Mc=!1;var t=0;Oi!==0&&XA()&&(t=Oi);for(var n=Gt(),r=null,l=Ql;l!==null;){var u=l.next,f=km(l,n);f===0?(l.next=null,r===null?Ql=u:r.next=u,u===null&&(qa=r)):(r=l,(t!==0||(f&3)!==0)&&($l=!0)),l=u}lt!==0&&lt!==5||us(t),Oi!==0&&(Oi=0)}function km(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Wt(f),p=1<<g,v=u[g];v===-1?((p&r)===0||(p&l)!==0)&&(u[g]=sv(p,n)):v<=n&&(t.expiredLanes|=p),f&=~p}if(n=Ye,r=Ee,r=tl(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ho(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||wr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ho(l),Po(r)){case 2:case 8:r=Mh;break;case 32:r=$s;break;case 268435456:r=Zh;break;default:r=$s}return l=Fm.bind(null,t),r=jo(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ho(l),t.callbackPriority=2,t.callbackNode=null,2}function Fm(t,n){if(lt!==0&&lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Hl()&&t.callbackNode!==r)return null;var l=Ee;return l=tl(t,t===Ye?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(wm(t,l,n),km(t,Gt()),t.callbackNode!=null&&t.callbackNode===r?Fm.bind(null,t):null)}function jm(t,n){if(Hl())return null;wm(t,n,!0)}function BA(){kA(function(){(we&6)!==0?jo(Lh,UA):Jm()})}function zc(){if(Oi===0){var t=za;t===0&&(t=Ps,Ps<<=1,(Ps&261888)===0&&(Ps=256)),Oi=t}return Oi}function Hm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:rl(""+t)}function Qm(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function LA(t,n,r,l,u){if(n==="submit"&&r&&r.stateNode===u){var f=Hm((u[wt]||null).action),g=l.submitter;g&&(n=(n=g[wt]||null)?Hm(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var p=new ul("action","action",null,l,u);t.push({event:p,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Oi!==0){var v=g?Qm(u,g):new FormData(u);ac(r,{pending:!0,data:v,method:u.method,action:f},null,v)}}else typeof f=="function"&&(p.preventDefault(),v=g?Qm(u,g):new FormData(u),ac(r,{pending:!0,data:v,method:u.method,action:f},f,v))},currentTarget:u}]})}}for(var Yc=0;Yc<Su.length;Yc++){var Gc=Su[Yc],MA=Gc.toLowerCase(),ZA=Gc[0].toUpperCase()+Gc.slice(1);bn(MA,"on"+ZA)}bn(Id,"onAnimationEnd"),bn(wd,"onAnimationIteration"),bn(Dd,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(qv,"onTransitionRun"),bn(eA,"onTransitionStart"),bn(tA,"onTransitionCancel"),bn(xd,"onTransitionEnd"),Ta("onMouseEnter",["mouseout","mouseover"]),Ta("onMouseLeave",["mouseout","mouseover"]),Ta("onPointerEnter",["pointerout","pointerover"]),Ta("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cs));function $m(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],u=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var p=l[g],v=p.instance,O=p.currentTarget;if(p=p.listener,v!==f&&u.isPropagationStopped())break e;f=p,u.currentTarget=O;try{f(u)}catch(L){hl(L)}u.currentTarget=null,f=v}else for(g=0;g<l.length;g++){if(p=l[g],v=p.instance,O=p.currentTarget,p=p.listener,v!==f&&u.isPropagationStopped())break e;f=p,u.currentTarget=O;try{f(u)}catch(L){hl(L)}u.currentTarget=null,f=v}}}}function Ae(t,n){var r=n[qo];r===void 0&&(r=n[qo]=new Set);var l=t+"__bubble";r.has(l)||(Pm(n,t,2,!1),r.add(l))}function _c(t,n,r){var l=0;n&&(l|=4),Pm(r,t,l,n)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function Wc(t){if(!t[Pl]){t[Pl]=!0,Jh.forEach(function(r){r!=="selectionchange"&&(zA.has(r)||_c(r,!1,t),_c(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Pl]||(n[Pl]=!0,_c("selectionchange",!1,n))}}function Pm(t,n,r,l){switch(Iy(n)){case 2:var u=hS;break;case 8:u=dS;break;default:u=af}r=u.bind(null,n,r,t),u=void 0,!ou||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?t.addEventListener(n,r,{capture:!0,passive:u}):t.addEventListener(n,r,!0):u!==void 0?t.addEventListener(n,r,{passive:u}):t.addEventListener(n,r,!1)}function Kc(t,n,r,l,u){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var p=l.stateNode.containerInfo;if(p===u)break;if(g===4)for(g=l.return;g!==null;){var v=g.tag;if((v===3||v===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;p!==null;){if(g=Sa(p),g===null)return;if(v=g.tag,v===5||v===6||v===26||v===27){l=f=g;continue e}p=p.parentNode}}l=l.return}id(function(){var O=f,L=su(r),z=[];e:{var U=Od.get(t);if(U!==void 0){var B=ul,Q=t;switch(t){case"keypress":if(ll(r)===0)break e;case"keydown":case"keyup":B=Ov;break;case"focusin":Q="focus",B=hu;break;case"focusout":Q="blur",B=hu;break;case"beforeblur":case"afterblur":B=hu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=vv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Bv;break;case Id:case wd:case Dd:B=Ev;break;case xd:B=Mv;break;case"scroll":case"scrollend":B=pv;break;case"wheel":B=zv;break;case"copy":case"cut":case"paste":B=Tv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=od;break;case"toggle":case"beforetoggle":B=Gv}var le=(n&4)!==0,Ze=!le&&(t==="scroll"||t==="scrollend"),I=le?U!==null?U+"Capture":null:U;le=[];for(var S=O,x;S!==null;){var Z=S;if(x=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||x===null||I===null||(Z=Vr(S,I),Z!=null&&le.push(fs(S,Z,x))),Ze)break;S=S.return}0<le.length&&(U=new B(U,Q,null,r,L),z.push({event:U,listeners:le}))}}if((n&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",U&&r!==ru&&(Q=r.relatedTarget||r.fromElement)&&(Sa(Q)||Q[Aa]))break e;if((B||U)&&(U=L.window===L?L:(U=L.ownerDocument)?U.defaultView||U.parentWindow:window,B?(Q=r.relatedTarget||r.toElement,B=O,Q=Q?Sa(Q):null,Q!==null&&(Ze=c(Q),le=Q.tag,Q!==Ze||le!==5&&le!==27&&le!==6)&&(Q=null)):(B=null,Q=O),B!==Q)){if(le=sd,Z="onMouseLeave",I="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(le=od,Z="onPointerLeave",I="onPointerEnter",S="pointer"),Ze=B==null?U:Or(B),x=Q==null?U:Or(Q),U=new le(Z,S+"leave",B,r,L),U.target=Ze,U.relatedTarget=x,Z=null,Sa(L)===O&&(le=new le(I,S+"enter",Q,r,L),le.target=x,le.relatedTarget=Ze,Z=le),Ze=Z,B&&Q)t:{for(le=YA,I=B,S=Q,x=0,Z=I;Z;Z=le(Z))x++;Z=0;for(var re=S;re;re=le(re))Z++;for(;0<x-Z;)I=le(I),x--;for(;0<Z-x;)S=le(S),Z--;for(;x--;){if(I===S||S!==null&&I===S.alternate){le=I;break t}I=le(I),S=le(S)}le=null}else le=null;B!==null&&qm(z,U,B,le,!1),Q!==null&&Ze!==null&&qm(z,Ze,Q,le,!0)}}e:{if(U=O?Or(O):window,B=U.nodeName&&U.nodeName.toLowerCase(),B==="select"||B==="input"&&U.type==="file")var Ce=yd;else if(gd(U))if(pd)Ce=Qv;else{Ce=jv;var ee=Fv}else B=U.nodeName,!B||B.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?O&&au(O.elementType)&&(Ce=yd):Ce=Hv;if(Ce&&(Ce=Ce(t,O))){md(z,Ce,r,L);break e}ee&&ee(t,U,O),t==="focusout"&&O&&U.type==="number"&&O.memoizedProps.value!=null&&iu(U,"number",U.value)}switch(ee=O?Or(O):window,t){case"focusin":(gd(ee)||ee.contentEditable==="true")&&(xa=ee,bu=O,Gr=null);break;case"focusout":Gr=bu=xa=null;break;case"mousedown":vu=!0;break;case"contextmenu":case"mouseup":case"dragend":vu=!1,Rd(z,r,L);break;case"selectionchange":if(Pv)break;case"keydown":case"keyup":Rd(z,r,L)}var ge;if(gu)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Da?hd(t,r)&&(Ne="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ne="onCompositionStart");Ne&&(ud&&r.locale!=="ko"&&(Da||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Da&&(ge=ad()):(mi=L,uu="value"in mi?mi.value:mi.textContent,Da=!0)),ee=ql(O,Ne),0<ee.length&&(Ne=new ld(Ne,t,null,r,L),z.push({event:Ne,listeners:ee}),ge?Ne.data=ge:(ge=dd(r),ge!==null&&(Ne.data=ge)))),(ge=Wv?Kv(t,r):Xv(t,r))&&(Ne=ql(O,"onBeforeInput"),0<Ne.length&&(ee=new ld("onBeforeInput","beforeinput",null,r,L),z.push({event:ee,listeners:Ne}),ee.data=ge)),LA(z,t,O,r,L)}$m(z,n)})}function fs(t,n,r){return{instance:t,listener:n,currentTarget:r}}function ql(t,n){for(var r=n+"Capture",l=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Vr(t,r),u!=null&&l.unshift(fs(t,u,f)),u=Vr(t,n),u!=null&&l.push(fs(t,u,f))),t.tag===3)return l;t=t.return}return[]}function YA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qm(t,n,r,l,u){for(var f=n._reactName,g=[];r!==null&&r!==l;){var p=r,v=p.alternate,O=p.stateNode;if(p=p.tag,v!==null&&v===l)break;p!==5&&p!==26&&p!==27||O===null||(v=O,u?(O=Vr(r,f),O!=null&&g.unshift(fs(r,O,v))):u||(O=Vr(r,f),O!=null&&g.push(fs(r,O,v)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var GA=/\r\n?/g,_A=/\u0000|\uFFFD/g;function ey(t){return(typeof t=="string"?t:""+t).replace(GA,`
`).replace(_A,"")}function ty(t,n){return n=ey(n),ey(t)===n}function Me(t,n,r,l,u,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Ca(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Ca(t,""+l);break;case"className":il(t,"class",l);break;case"tabIndex":il(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":il(t,r,l);break;case"style":td(t,l,f);break;case"data":if(n!=="object"){il(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=rl(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Me(t,n,"name",u.name,u,null),Me(t,n,"formEncType",u.formEncType,u,null),Me(t,n,"formMethod",u.formMethod,u,null),Me(t,n,"formTarget",u.formTarget,u,null)):(Me(t,n,"encType",u.encType,u,null),Me(t,n,"method",u.method,u,null),Me(t,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=rl(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"onScroll":l!=null&&Ae("scroll",t);break;case"onScrollEnd":l!=null&&Ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=rl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ae("beforetoggle",t),Ae("toggle",t),nl(t,"popover",l);break;case"xlinkActuate":_n(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_n(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_n(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_n(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_n(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_n(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_n(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_n(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_n(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":nl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=mv.get(r)||r,nl(t,r,l))}}function Xc(t,n,r,l,u,f){switch(r){case"style":td(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Ca(t,l):(typeof l=="number"||typeof l=="bigint")&&Ca(t,""+l);break;case"onScroll":l!=null&&Ae("scroll",t);break;case"onScrollEnd":l!=null&&Ae("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kh.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),f=t[wt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,u);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):nl(t,r,l)}}}function bt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",t),Ae("load",t);var l=!1,u=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Me(t,n,f,g,r,null)}}u&&Me(t,n,"srcSet",r.srcSet,r,null),l&&Me(t,n,"src",r.src,r,null);return;case"input":Ae("invalid",t);var p=f=g=u=null,v=null,O=null;for(l in r)if(r.hasOwnProperty(l)){var L=r[l];if(L!=null)switch(l){case"name":u=L;break;case"type":g=L;break;case"checked":v=L;break;case"defaultChecked":O=L;break;case"value":f=L;break;case"defaultValue":p=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,n));break;default:Me(t,n,l,L,r,null)}}$h(t,f,p,v,O,g,u,!1);return;case"select":Ae("invalid",t),l=g=f=null;for(u in r)if(r.hasOwnProperty(u)&&(p=r[u],p!=null))switch(u){case"value":f=p;break;case"defaultValue":g=p;break;case"multiple":l=p;default:Me(t,n,u,p,r,null)}n=f,r=g,t.multiple=!!l,n!=null?Ra(t,!!l,n,!1):r!=null&&Ra(t,!!l,r,!0);return;case"textarea":Ae("invalid",t),f=u=l=null;for(g in r)if(r.hasOwnProperty(g)&&(p=r[g],p!=null))switch(g){case"value":l=p;break;case"defaultValue":u=p;break;case"children":f=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:Me(t,n,g,p,r,null)}qh(t,l,u,f);return;case"option":for(v in r)if(r.hasOwnProperty(v)&&(l=r[v],l!=null))switch(v){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Me(t,n,v,l,r,null)}return;case"dialog":Ae("beforetoggle",t),Ae("toggle",t),Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":Ae("load",t);break;case"video":case"audio":for(l=0;l<cs.length;l++)Ae(cs[l],t);break;case"image":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"embed":case"source":case"link":Ae("error",t),Ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in r)if(r.hasOwnProperty(O)&&(l=r[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Me(t,n,O,l,r,null)}return;default:if(au(n)){for(L in r)r.hasOwnProperty(L)&&(l=r[L],l!==void 0&&Xc(t,n,L,l,r,void 0));return}}for(p in r)r.hasOwnProperty(p)&&(l=r[p],l!=null&&Me(t,n,p,l,r,null))}function WA(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,p=null,v=null,O=null,L=null;for(B in r){var z=r[B];if(r.hasOwnProperty(B)&&z!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":v=z;default:l.hasOwnProperty(B)||Me(t,n,B,null,l,z)}}for(var U in l){var B=l[U];if(z=r[U],l.hasOwnProperty(U)&&(B!=null||z!=null))switch(U){case"type":f=B;break;case"name":u=B;break;case"checked":O=B;break;case"defaultChecked":L=B;break;case"value":g=B;break;case"defaultValue":p=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==z&&Me(t,n,U,B,l,z)}}nu(t,g,p,v,O,L,f,u);return;case"select":B=g=p=U=null;for(f in r)if(v=r[f],r.hasOwnProperty(f)&&v!=null)switch(f){case"value":break;case"multiple":B=v;default:l.hasOwnProperty(f)||Me(t,n,f,null,l,v)}for(u in l)if(f=l[u],v=r[u],l.hasOwnProperty(u)&&(f!=null||v!=null))switch(u){case"value":U=f;break;case"defaultValue":p=f;break;case"multiple":g=f;default:f!==v&&Me(t,n,u,f,l,v)}n=p,r=g,l=B,U!=null?Ra(t,!!r,U,!1):!!l!=!!r&&(n!=null?Ra(t,!!r,n,!0):Ra(t,!!r,r?[]:"",!1));return;case"textarea":B=U=null;for(p in r)if(u=r[p],r.hasOwnProperty(p)&&u!=null&&!l.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Me(t,n,p,null,l,u)}for(g in l)if(u=l[g],f=r[g],l.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":U=u;break;case"defaultValue":B=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(s(91));break;default:u!==f&&Me(t,n,g,u,l,f)}Ph(t,U,B);return;case"option":for(var Q in r)if(U=r[Q],r.hasOwnProperty(Q)&&U!=null&&!l.hasOwnProperty(Q))switch(Q){case"selected":t.selected=!1;break;default:Me(t,n,Q,null,l,U)}for(v in l)if(U=l[v],B=r[v],l.hasOwnProperty(v)&&U!==B&&(U!=null||B!=null))switch(v){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Me(t,n,v,U,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in r)U=r[le],r.hasOwnProperty(le)&&U!=null&&!l.hasOwnProperty(le)&&Me(t,n,le,null,l,U);for(O in l)if(U=l[O],B=r[O],l.hasOwnProperty(O)&&U!==B&&(U!=null||B!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,n));break;default:Me(t,n,O,U,l,B)}return;default:if(au(n)){for(var Ze in r)U=r[Ze],r.hasOwnProperty(Ze)&&U!==void 0&&!l.hasOwnProperty(Ze)&&Xc(t,n,Ze,void 0,l,U);for(L in l)U=l[L],B=r[L],!l.hasOwnProperty(L)||U===B||U===void 0&&B===void 0||Xc(t,n,L,U,l,B);return}}for(var I in r)U=r[I],r.hasOwnProperty(I)&&U!=null&&!l.hasOwnProperty(I)&&Me(t,n,I,null,l,U);for(z in l)U=l[z],B=r[z],!l.hasOwnProperty(z)||U===B||U==null&&B==null||Me(t,n,z,U,l,B)}function ny(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var u=r[l],f=u.transferSize,g=u.initiatorType,p=u.duration;if(f&&p&&ny(g)){for(g=0,p=u.responseEnd,l+=1;l<r.length;l++){var v=r[l],O=v.startTime;if(O>p)break;var L=v.transferSize,z=v.initiatorType;L&&ny(z)&&(v=v.responseEnd,g+=L*(v<p?1:(p-O)/(v-O)))}if(--l,n+=8*(f+g)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Jc=null,kc=null;function eo(t){return t.nodeType===9?t:t.ownerDocument}function iy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ay(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Fc(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var jc=null;function XA(){var t=window.event;return t&&t.type==="popstate"?t===jc?!1:(jc=t,!0):(jc=null,!1)}var ry=typeof setTimeout=="function"?setTimeout:void 0,JA=typeof clearTimeout=="function"?clearTimeout:void 0,sy=typeof Promise=="function"?Promise:void 0,kA=typeof queueMicrotask=="function"?queueMicrotask:typeof sy<"u"?function(t){return sy.resolve(null).then(t).catch(FA)}:ry;function FA(t){setTimeout(function(){throw t})}function Vi(t){return t==="head"}function ly(t,n){var r=n,l=0;do{var u=r.nextSibling;if(t.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(u),ir(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")hs(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,hs(r);for(var f=r.firstChild;f;){var g=f.nextSibling,p=f.nodeName;f[xr]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&hs(t.ownerDocument.body);r=u}while(r);ir(n)}function oy(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Hc(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Hc(r),eu(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function jA(t,n,r,l){for(;t.nodeType===1;){var u=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=on(t.nextSibling),t===null)break}return null}function HA(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=on(t.nextSibling),t===null))return null;return t}function uy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=on(t.nextSibling),t===null))return null;return t}function Qc(t){return t.data==="$?"||t.data==="$~"}function $c(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function QA(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function on(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Pc=null;function cy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return on(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function fy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function hy(t,n,r){switch(n=eo(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function hs(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);eu(t)}var un=new Map,dy=new Set;function to(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ai=k.d;k.d={f:$A,r:PA,D:qA,C:eS,L:tS,m:nS,X:aS,S:iS,M:rS};function $A(){var t=ai.f(),n=kl();return t||n}function PA(t){var n=Ea(t);n!==null&&n.tag===5&&n.type==="form"?xg(n):ai.r(t)}var er=typeof document>"u"?null:document;function gy(t,n,r){var l=er;if(l&&typeof n=="string"&&n){var u=en(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),dy.has(u)||(dy.add(u),t={rel:t,crossOrigin:r,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),bt(n,"link",t),ut(n),l.head.appendChild(n)))}}function qA(t){ai.D(t),gy("dns-prefetch",t,null)}function eS(t,n){ai.C(t,n),gy("preconnect",t,n)}function tS(t,n,r){ai.L(t,n,r);var l=er;if(l&&t&&n){var u='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+en(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+en(r.imageSizes)+'"]')):u+='[href="'+en(t)+'"]';var f=u;switch(n){case"style":f=tr(t);break;case"script":f=nr(t)}un.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),un.set(f,t),l.querySelector(u)!==null||n==="style"&&l.querySelector(ds(f))||n==="script"&&l.querySelector(gs(f))||(n=l.createElement("link"),bt(n,"link",t),ut(n),l.head.appendChild(n)))}}function nS(t,n){ai.m(t,n);var r=er;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+en(l)+'"][href="'+en(t)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=nr(t)}if(!un.has(f)&&(t=A({rel:"modulepreload",href:t},n),un.set(f,t),r.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(gs(f)))return}l=r.createElement("link"),bt(l,"link",t),ut(l),r.head.appendChild(l)}}}function iS(t,n,r){ai.S(t,n,r);var l=er;if(l&&t){var u=Na(l).hoistableStyles,f=tr(t);n=n||"default";var g=u.get(f);if(!g){var p={loading:0,preload:null};if(g=l.querySelector(ds(f)))p.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=un.get(f))&&qc(t,r);var v=g=l.createElement("link");ut(v),bt(v,"link",t),v._p=new Promise(function(O,L){v.onload=O,v.onerror=L}),v.addEventListener("load",function(){p.loading|=1}),v.addEventListener("error",function(){p.loading|=2}),p.loading|=4,no(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:p},u.set(f,g)}}}function aS(t,n){ai.X(t,n);var r=er;if(r&&t){var l=Na(r).hoistableScripts,u=nr(t),f=l.get(u);f||(f=r.querySelector(gs(u)),f||(t=A({src:t,async:!0},n),(n=un.get(u))&&ef(t,n),f=r.createElement("script"),ut(f),bt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function rS(t,n){ai.M(t,n);var r=er;if(r&&t){var l=Na(r).hoistableScripts,u=nr(t),f=l.get(u);f||(f=r.querySelector(gs(u)),f||(t=A({src:t,async:!0,type:"module"},n),(n=un.get(u))&&ef(t,n),f=r.createElement("script"),ut(f),bt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function my(t,n,r,l){var u=(u=be.current)?to(u):null;if(!u)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=tr(r.href),r=Na(u).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=tr(r.href);var f=Na(u).hoistableStyles,g=f.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=u.querySelector(ds(t)))&&!f._p&&(g.instance=f,g.state.loading=5),un.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},un.set(t,r),f||sS(u,t,r,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=nr(r),r=Na(u).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function tr(t){return'href="'+en(t)+'"'}function ds(t){return'link[rel="stylesheet"]['+t+"]"}function yy(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function sS(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),bt(n,"link",r),ut(n),t.head.appendChild(n))}function nr(t){return'[src="'+en(t)+'"]'}function gs(t){return"script[async]"+t}function py(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+en(r.href)+'"]');if(l)return n.instance=l,ut(l),l;var u=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ut(l),bt(l,"style",u),no(l,r.precedence,t),n.instance=l;case"stylesheet":u=tr(r.href);var f=t.querySelector(ds(u));if(f)return n.state.loading|=4,n.instance=f,ut(f),f;l=yy(r),(u=un.get(u))&&qc(l,u),f=(t.ownerDocument||t).createElement("link"),ut(f);var g=f;return g._p=new Promise(function(p,v){g.onload=p,g.onerror=v}),bt(f,"link",l),n.state.loading|=4,no(f,r.precedence,t),n.instance=f;case"script":return f=nr(r.src),(u=t.querySelector(gs(f)))?(n.instance=u,ut(u),u):(l=r,(u=un.get(f))&&(l=A({},r),ef(l,u)),t=t.ownerDocument||t,u=t.createElement("script"),ut(u),bt(u,"link",l),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,no(l,r.precedence,t));return n.instance}function no(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,g=0;g<l.length;g++){var p=l[g];if(p.dataset.precedence===n)f=p;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function qc(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var io=null;function by(t,n,r){if(io===null){var l=new Map,u=io=new Map;u.set(r,l)}else u=io,l=u.get(r),l||(l=new Map,u.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),u=0;u<r.length;u++){var f=r[u];if(!(f[xr]||f[gt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var p=l.get(g);p?p.push(f):l.set(g,[f])}}return l}function vy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function lS(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ay(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function oS(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=tr(l.href),f=n.querySelector(ds(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ao.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,ut(f);return}f=n.ownerDocument||n,l=yy(l),(u=un.get(u))&&qc(l,u),f=f.createElement("link"),ut(f);var g=f;g._p=new Promise(function(p,v){g.onload=p,g.onerror=v}),bt(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=ao.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var tf=0;function uS(t,n){return t.stylesheets&&t.count===0&&so(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&so(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&tf===0&&(tf=62500*KA());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&so(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>tf?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function ao(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)so(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ro=null;function so(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ro=new Map,n.forEach(cS,t),ro=null,ao.call(t))}function cS(t,n){if(!(n.state.loading&4)){var r=ro.get(t);if(r)var l=r.get(null);else{r=new Map,ro.set(t,r);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}u=n.instance,g=u.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,u),r.set(g,u),this.count++,l=ao.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var ms={$$typeof:X,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function fS(t,n,r,l,u,f,g,p,v){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qo(0),this.hiddenUpdates=Qo(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Sy(t,n,r,l,u,f,g,p,v,O,L,z){return t=new fS(t,n,r,g,v,O,L,z,p),n=1,f===!0&&(n|=24),f=Xt(3,null,null,n),t.current=f,f.stateNode=t,n=Bu(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},zu(f),t}function Ey(t){return t?(t=Ua,t):Ua}function Ny(t,n,r,l,u,f){u=Ey(u),l.context===null?l.context=u:l.pendingContext=u,l=Si(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ei(t,l,n),r!==null&&(Bt(r,t,n),Fr(r,t,n))}function Ty(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function nf(t,n){Ty(t,n),(t=t.alternate)&&Ty(t,n)}function Ry(t){if(t.tag===13||t.tag===31){var n=qi(t,67108864);n!==null&&Bt(n,t,67108864),nf(t,67108864)}}function Cy(t){if(t.tag===13||t.tag===31){var n=Ht();n=$o(n);var r=qi(t,n);r!==null&&Bt(r,t,n),nf(t,n)}}var lo=!0;function hS(t,n,r,l){var u=M.T;M.T=null;var f=k.p;try{k.p=2,af(t,n,r,l)}finally{k.p=f,M.T=u}}function dS(t,n,r,l){var u=M.T;M.T=null;var f=k.p;try{k.p=8,af(t,n,r,l)}finally{k.p=f,M.T=u}}function af(t,n,r,l){if(lo){var u=rf(l);if(u===null)Kc(t,n,l,oo,r),wy(t,l);else if(mS(u,t,n,r,l))l.stopPropagation();else if(wy(t,l),n&4&&-1<gS.indexOf(t)){for(;u!==null;){var f=Ea(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ji(f.pendingLanes);if(g!==0){var p=f;for(p.pendingLanes|=2,p.entangledLanes|=2;g;){var v=1<<31-Wt(g);p.entanglements[1]|=v,g&=~v}Un(f),(we&6)===0&&(Xl=Gt()+500,us(0))}}break;case 31:case 13:p=qi(f,2),p!==null&&Bt(p,f,2),kl(),nf(f,2)}if(f=rf(l),f===null&&Kc(t,n,l,oo,r),f===u)break;u=f}u!==null&&l.stopPropagation()}else Kc(t,n,l,null,r)}}function rf(t){return t=su(t),sf(t)}var oo=null;function sf(t){if(oo=null,t=Sa(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=h(n),t!==null)return t;t=null}else if(r===31){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return oo=t,null}function Iy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qb()){case Lh:return 2;case Mh:return 8;case $s:case ev:return 32;case Zh:return 268435456;default:return 32}default:return 32}}var lf=!1,Ui=null,Bi=null,Li=null,ys=new Map,ps=new Map,Mi=[],gS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wy(t,n){switch(t){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":ys.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(n.pointerId)}}function bs(t,n,r,l,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},n!==null&&(n=Ea(n),n!==null&&Ry(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function mS(t,n,r,l,u){switch(n){case"focusin":return Ui=bs(Ui,t,n,r,l,u),!0;case"dragenter":return Bi=bs(Bi,t,n,r,l,u),!0;case"mouseover":return Li=bs(Li,t,n,r,l,u),!0;case"pointerover":var f=u.pointerId;return ys.set(f,bs(ys.get(f)||null,t,n,r,l,u)),!0;case"gotpointercapture":return f=u.pointerId,ps.set(f,bs(ps.get(f)||null,t,n,r,l,u)),!0}return!1}function Dy(t){var n=Sa(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=h(r),n!==null){t.blockedOn=n,Kh(t.priority,function(){Cy(r)});return}}else if(n===31){if(n=d(r),n!==null){t.blockedOn=n,Kh(t.priority,function(){Cy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=rf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);ru=l,r.target.dispatchEvent(l),ru=null}else return n=Ea(r),n!==null&&Ry(n),t.blockedOn=r,!1;n.shift()}return!0}function xy(t,n,r){uo(t)&&r.delete(n)}function yS(){lf=!1,Ui!==null&&uo(Ui)&&(Ui=null),Bi!==null&&uo(Bi)&&(Bi=null),Li!==null&&uo(Li)&&(Li=null),ys.forEach(xy),ps.forEach(xy)}function co(t,n){t.blockedOn===n&&(t.blockedOn=null,lf||(lf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,yS)))}var fo=null;function Oy(t){fo!==t&&(fo=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){fo===t&&(fo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],u=t[n+2];if(typeof l!="function"){if(sf(l||r)===null)continue;break}var f=Ea(r);f!==null&&(t.splice(n,3),n-=3,ac(f,{pending:!0,data:u,method:r.method,action:l},l,u))}}))}function ir(t){function n(v){return co(v,t)}Ui!==null&&co(Ui,t),Bi!==null&&co(Bi,t),Li!==null&&co(Li,t),ys.forEach(n),ps.forEach(n);for(var r=0;r<Mi.length;r++){var l=Mi[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Mi.length&&(r=Mi[0],r.blockedOn===null);)Dy(r),r.blockedOn===null&&Mi.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var u=r[l],f=r[l+1],g=u[wt]||null;if(typeof f=="function")g||Oy(r);else if(g){var p=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[wt]||null)p=g.formAction;else if(sf(u)!==null)continue}else p=g.action;typeof p=="function"?r[l+1]=p:(r.splice(l,3),l-=3),Oy(r)}}}function Vy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function of(t){this._internalRoot=t}ho.prototype.render=of.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=Ht();Ny(r,l,t,n,null,null)},ho.prototype.unmount=of.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ny(t.current,2,null,t,null,null),kl(),n[Aa]=null}};function ho(t){this._internalRoot=t}ho.prototype.unstable_scheduleHydration=function(t){if(t){var n=Wh();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Mi.length&&n!==0&&n<Mi[r].priority;r++);Mi.splice(r,0,t),r===0&&Dy(t)}};var Uy=e.version;if(Uy!=="19.2.1")throw Error(s(527,Uy,"19.2.1"));k.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var pS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!go.isDisabled&&go.supportsFiber)try{Ir=go.inject(pS),_t=go}catch{}}return As.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",u=Gg,f=_g,g=Wg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Sy(t,1,!1,null,null,r,l,null,u,f,g,Vy),t[Aa]=n.current,Wc(t),new of(n)},As.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,u="",f=Gg,g=_g,p=Wg,v=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(p=r.onRecoverableError),r.formState!==void 0&&(v=r.formState)),n=Sy(t,1,!0,n,r??null,l,u,v,f,g,p,Vy),n.context=Ey(null),r=n.current,l=Ht(),l=$o(l),u=Si(l),u.callback=null,Ei(r,u,l),r=l,n.current.lanes=r,Dr(n,r),Un(n),t[Aa]=n.current,Wc(t),new ho(n)},As.version="19.2.1",As}var Ky;function wS(){if(Ky)return ff.exports;Ky=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ff.exports=IS(),ff.exports}var DS=wS();const xS=vS(DS);var pe;(function(i){i[i.Canceled=1]="Canceled",i[i.Unknown=2]="Unknown",i[i.InvalidArgument=3]="InvalidArgument",i[i.DeadlineExceeded=4]="DeadlineExceeded",i[i.NotFound=5]="NotFound",i[i.AlreadyExists=6]="AlreadyExists",i[i.PermissionDenied=7]="PermissionDenied",i[i.ResourceExhausted=8]="ResourceExhausted",i[i.FailedPrecondition=9]="FailedPrecondition",i[i.Aborted=10]="Aborted",i[i.OutOfRange=11]="OutOfRange",i[i.Unimplemented=12]="Unimplemented",i[i.Internal=13]="Internal",i[i.Unavailable=14]="Unavailable",i[i.DataLoss=15]="DataLoss",i[i.Unauthenticated=16]="Unauthenticated"})(pe||(pe={}));function Xf(i,e){return i!==null&&typeof i=="object"&&"$typeName"in i&&typeof i.$typeName=="string"?e===void 0?!0:e.typeName===i.$typeName:!1}var D;(function(i){i[i.DOUBLE=1]="DOUBLE",i[i.FLOAT=2]="FLOAT",i[i.INT64=3]="INT64",i[i.UINT64=4]="UINT64",i[i.INT32=5]="INT32",i[i.FIXED64=6]="FIXED64",i[i.FIXED32=7]="FIXED32",i[i.BOOL=8]="BOOL",i[i.STRING=9]="STRING",i[i.BYTES=12]="BYTES",i[i.UINT32=13]="UINT32",i[i.SFIXED32=15]="SFIXED32",i[i.SFIXED64=16]="SFIXED64",i[i.SINT32=17]="SINT32",i[i.SINT64=18]="SINT64"})(D||(D={}));function OS(){let i=0,e=0;for(let s=0;s<28;s+=7){let o=this.buf[this.pos++];if(i|=(o&127)<<s,(o&128)==0)return this.assertBounds(),[i,e]}let a=this.buf[this.pos++];if(i|=(a&15)<<28,e=(a&112)>>4,(a&128)==0)return this.assertBounds(),[i,e];for(let s=3;s<=31;s+=7){let o=this.buf[this.pos++];if(e|=(o&127)<<s,(o&128)==0)return this.assertBounds(),[i,e]}throw new Error("invalid varint")}function mf(i,e,a){for(let c=0;c<28;c=c+7){const h=i>>>c,d=!(!(h>>>7)&&e==0),y=(d?h|128:h)&255;if(a.push(y),!d)return}const s=i>>>28&15|(e&7)<<4,o=e>>3!=0;if(a.push((o?s|128:s)&255),!!o){for(let c=3;c<31;c=c+7){const h=e>>>c,d=!!(h>>>7),y=(d?h|128:h)&255;if(a.push(y),!d)return}a.push(e>>>31&1)}}const No=4294967296;function Xy(i){const e=i[0]==="-";e&&(i=i.slice(1));const a=1e6;let s=0,o=0;function c(h,d){const y=Number(i.slice(h,d));o*=a,s=s*a+y,s>=No&&(o=o+(s/No|0),s=s%No)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),e?p0(s,o):Jf(s,o)}function VS(i,e){let a=Jf(i,e);const s=a.hi&2147483648;s&&(a=p0(a.lo,a.hi));const o=y0(a.lo,a.hi);return s?"-"+o:o}function y0(i,e){if({lo:i,hi:e}=US(i,e),e<=2097151)return String(No*e+i);const a=i&16777215,s=(i>>>24|e<<8)&16777215,o=e>>16&65535;let c=a+s*6777216+o*6710656,h=s+o*8147497,d=o*2;const y=1e7;return c>=y&&(h+=Math.floor(c/y),c%=y),h>=y&&(d+=Math.floor(h/y),h%=y),d.toString()+Jy(h)+Jy(c)}function US(i,e){return{lo:i>>>0,hi:e>>>0}}function Jf(i,e){return{lo:i|0,hi:e|0}}function p0(i,e){return e=~e,i?i=~i+1:e+=1,Jf(i,e)}const Jy=i=>{const e=String(i);return"0000000".slice(e.length)+e};function If(i,e){if(i>=0){for(;i>127;)e.push(i&127|128),i=i>>>7;e.push(i)}else{for(let a=0;a<9;a++)e.push(i&127|128),i=i>>7;e.push(1)}}function BS(){let i=this.buf[this.pos++],e=i&127;if((i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<7,(i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<14,(i&128)==0)return this.assertBounds(),e;if(i=this.buf[this.pos++],e|=(i&127)<<21,(i&128)==0)return this.assertBounds(),e;i=this.buf[this.pos++],e|=(i&15)<<28;for(let a=5;(i&128)!==0&&a<10;a++)i=this.buf[this.pos++];if((i&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var ky={};const je=LS();function LS(){const i=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof i.getBigInt64=="function"&&typeof i.getBigUint64=="function"&&typeof i.setBigInt64=="function"&&typeof i.setBigUint64=="function"&&(!!globalThis.Deno||typeof process!="object"||typeof ky!="object"||ky.BUF_BIGINT_DISABLE!=="1")){const a=BigInt("-9223372036854775808"),s=BigInt("9223372036854775807"),o=BigInt("0"),c=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(h){const d=typeof h=="bigint"?h:BigInt(h);if(d>s||d<a)throw new Error(`invalid int64: ${h}`);return d},uParse(h){const d=typeof h=="bigint"?h:BigInt(h);if(d>c||d<o)throw new Error(`invalid uint64: ${h}`);return d},enc(h){return i.setBigInt64(0,this.parse(h),!0),{lo:i.getInt32(0,!0),hi:i.getInt32(4,!0)}},uEnc(h){return i.setBigInt64(0,this.uParse(h),!0),{lo:i.getInt32(0,!0),hi:i.getInt32(4,!0)}},dec(h,d){return i.setInt32(0,h,!0),i.setInt32(4,d,!0),i.getBigInt64(0,!0)},uDec(h,d){return i.setInt32(0,h,!0),i.setInt32(4,d,!0),i.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(a){return typeof a!="string"&&(a=a.toString()),Fy(a),a},uParse(a){return typeof a!="string"&&(a=a.toString()),jy(a),a},enc(a){return typeof a!="string"&&(a=a.toString()),Fy(a),Xy(a)},uEnc(a){return typeof a!="string"&&(a=a.toString()),jy(a),Xy(a)},dec(a,s){return VS(a,s)},uDec(a,s){return y0(a,s)}}}function Fy(i){if(!/^-?[0-9]+$/.test(i))throw new Error("invalid int64: "+i)}function jy(i){if(!/^[0-9]+$/.test(i))throw new Error("invalid uint64: "+i)}function pa(i,e){switch(i){case D.STRING:return"";case D.BOOL:return!1;case D.DOUBLE:case D.FLOAT:return 0;case D.INT64:case D.UINT64:case D.SFIXED64:case D.FIXED64:case D.SINT64:return e?"0":je.zero;case D.BYTES:return new Uint8Array(0);default:return 0}}function MS(i,e){switch(i){case D.BOOL:return e===!1;case D.STRING:return e==="";case D.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}const b0=2,si=Symbol.for("reflect unsafe local");function v0(i,e){const a=i[e.localName].case;return a===void 0?a:e.fields.find(s=>s.localName===a)}function ZS(i,e){const a=e.localName;if(e.oneof)return i[e.oneof.localName].case===a;if(e.presence!=b0)return i[a]!==void 0&&Object.prototype.hasOwnProperty.call(i,a);switch(e.fieldKind){case"list":return i[a].length>0;case"map":return Object.keys(i[a]).length>0;case"scalar":return!MS(e.scalar,i[a]);case"enum":return i[a]!==e.enum.values[0].number}throw new Error("message field with implicit presence")}function Us(i,e){return Object.prototype.hasOwnProperty.call(i,e)&&i[e]!==void 0}function A0(i,e){if(e.oneof){const a=i[e.oneof.localName];return a.case===e.localName?a.value:void 0}return i[e.localName]}function S0(i,e,a){e.oneof?i[e.oneof.localName]={case:e.localName,value:a}:i[e.localName]=a}function zS(i,e){const a=e.localName;if(e.oneof){const s=e.oneof.localName;i[s].case===a&&(i[s]={case:void 0})}else if(e.presence!=b0)delete i[a];else switch(e.fieldKind){case"map":i[a]={};break;case"list":i[a]=[];break;case"enum":i[a]=e.enum.values[0].number;break;case"scalar":i[a]=pa(e.scalar,e.longAsString);break}}function Xi(i){return i!==null&&typeof i=="object"&&!Array.isArray(i)}function kf(i,e){var a,s,o,c;if(Xi(i)&&si in i&&"add"in i&&"field"in i&&typeof i.field=="function"){if(e!==void 0){const h=e,d=i.field();return h.listKind==d.listKind&&h.scalar===d.scalar&&((a=h.message)===null||a===void 0?void 0:a.typeName)===((s=d.message)===null||s===void 0?void 0:s.typeName)&&((o=h.enum)===null||o===void 0?void 0:o.typeName)===((c=d.enum)===null||c===void 0?void 0:c.typeName)}return!0}return!1}function Ff(i,e){var a,s,o,c;if(Xi(i)&&si in i&&"has"in i&&"field"in i&&typeof i.field=="function"){if(e!==void 0){const h=e,d=i.field();return h.mapKey===d.mapKey&&h.mapKind==d.mapKind&&h.scalar===d.scalar&&((a=h.message)===null||a===void 0?void 0:a.typeName)===((s=d.message)===null||s===void 0?void 0:s.typeName)&&((o=h.enum)===null||o===void 0?void 0:o.typeName)===((c=d.enum)===null||c===void 0?void 0:c.typeName)}return!0}return!1}function jf(i,e){return Xi(i)&&si in i&&"desc"in i&&Xi(i.desc)&&i.desc.kind==="message"&&(e===void 0||i.desc.typeName==e.typeName)}function YS(i){return E0(i.$typeName)}function Xs(i){const e=i.fields[0];return E0(i.typeName)&&e!==void 0&&e.fieldKind=="scalar"&&e.name=="value"&&e.number==1}function E0(i){return i.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(i.substring(16))}const GS=999,_S=998,To=2;function te(i,e){if(Xf(e,i))return e;const a=kS(i);return e!==void 0&&WS(i,a,e),a}function WS(i,e,a){for(const s of i.members){let o=a[s.localName];if(o==null)continue;let c;if(s.kind=="oneof"){const h=v0(a,s);if(!h)continue;c=h,o=A0(a,h)}else c=s;switch(c.fieldKind){case"message":o=Hf(c,o);break;case"scalar":o=N0(c,o);break;case"list":o=XS(c,o);break;case"map":o=KS(c,o);break}S0(e,c,o)}return e}function N0(i,e){return i.scalar==D.BYTES?Qf(e):e}function KS(i,e){if(Xi(e)){if(i.scalar==D.BYTES)return Hy(e,Qf);if(i.mapKind=="message")return Hy(e,a=>Hf(i,a))}return e}function XS(i,e){if(Array.isArray(e)){if(i.scalar==D.BYTES)return e.map(Qf);if(i.listKind=="message")return e.map(a=>Hf(i,a))}return e}function Hf(i,e){if(i.fieldKind=="message"&&!i.oneof&&Xs(i.message))return N0(i.message.fields[0],e);if(Xi(e)){if(i.message.typeName=="google.protobuf.Struct"&&i.parent.typeName!=="google.protobuf.Value")return e;if(!Xf(e,i.message))return te(i.message,e)}return e}function Qf(i){return Array.isArray(i)?new Uint8Array(i):i}function Hy(i,e){const a={};for(const s of Object.entries(i))a[s[0]]=e(s[1]);return a}const JS=Symbol(),Qy=new WeakMap;function kS(i){let e;if(FS(i)){const a=Qy.get(i);let s,o;if(a)({prototype:s,members:o}=a);else{s={},o=new Set;for(const c of i.members)c.kind!="oneof"&&(c.fieldKind!="scalar"&&c.fieldKind!="enum"||c.presence!=To&&(o.add(c),s[c.localName]=yf(c)));Qy.set(i,{prototype:s,members:o})}e=Object.create(s),e.$typeName=i.typeName;for(const c of i.members)o.has(c)||c.kind=="field"&&(c.fieldKind=="message"||(c.fieldKind=="scalar"||c.fieldKind=="enum")&&c.presence!=To)||(e[c.localName]=yf(c))}else{e={$typeName:i.typeName};for(const a of i.members)(a.kind=="oneof"||a.presence==To)&&(e[a.localName]=yf(a))}return e}function FS(i){switch(i.file.edition){case GS:return!1;case _S:return!0;default:return i.fields.some(e=>e.presence!=To&&e.fieldKind!="message"&&!e.oneof)}}function yf(i){if(i.kind=="oneof")return{case:void 0};if(i.fieldKind=="list")return[];if(i.fieldKind=="map")return{};if(i.fieldKind=="message")return JS;const e=i.getDefaultValue();return e!==void 0?i.fieldKind=="scalar"&&i.longAsString?e.toString():e:i.fieldKind=="scalar"?pa(i.scalar,i.longAsString):i.enum.values[0].number}const jS=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];class Zt extends Error{constructor(e,a,s="FieldValueInvalidError"){super(a),this.name=s,this.field=()=>e}}function HS(i){return i instanceof Error&&jS.includes(i.name)&&"field"in i&&typeof i.field=="function"}const pf=Symbol.for("@bufbuild/protobuf/text-encoding");function $f(){if(globalThis[pf]==null){const i=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[pf]={encodeUtf8(a){return i.encode(a)},decodeUtf8(a){return e.decode(a)},checkUtf8(a){try{return encodeURIComponent(a),!0}catch{return!1}}}}return globalThis[pf]}var nt;(function(i){i[i.Varint=0]="Varint",i[i.Bit64=1]="Bit64",i[i.LengthDelimited=2]="LengthDelimited",i[i.StartGroup=3]="StartGroup",i[i.EndGroup=4]="EndGroup",i[i.Bit32=5]="Bit32"})(nt||(nt={}));const T0=34028234663852886e22,R0=-34028234663852886e22,C0=4294967295,I0=2147483647,w0=-2147483648;class D0{constructor(e=$f().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let o=0;o<this.chunks.length;o++)e+=this.chunks[o].length;let a=new Uint8Array(e),s=0;for(let o=0;o<this.chunks.length;o++)a.set(this.chunks[o],s),s+=this.chunks[o].length;return this.chunks=[],a}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),a=this.stack.pop();if(!a)throw new Error("invalid state, fork stack empty");return this.chunks=a.chunks,this.buf=a.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,a){return this.uint32((e<<3|a)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for($y(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return bf(e),If(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let a=this.encodeUtf8(e);return this.uint32(a.byteLength),this.raw(a)}float(e){QS(e);let a=new Uint8Array(4);return new DataView(a.buffer).setFloat32(0,e,!0),this.raw(a)}double(e){let a=new Uint8Array(8);return new DataView(a.buffer).setFloat64(0,e,!0),this.raw(a)}fixed32(e){$y(e);let a=new Uint8Array(4);return new DataView(a.buffer).setUint32(0,e,!0),this.raw(a)}sfixed32(e){bf(e);let a=new Uint8Array(4);return new DataView(a.buffer).setInt32(0,e,!0),this.raw(a)}sint32(e){return bf(e),e=(e<<1^e>>31)>>>0,If(e,this.buf),this}sfixed64(e){let a=new Uint8Array(8),s=new DataView(a.buffer),o=je.enc(e);return s.setInt32(0,o.lo,!0),s.setInt32(4,o.hi,!0),this.raw(a)}fixed64(e){let a=new Uint8Array(8),s=new DataView(a.buffer),o=je.uEnc(e);return s.setInt32(0,o.lo,!0),s.setInt32(4,o.hi,!0),this.raw(a)}int64(e){let a=je.enc(e);return mf(a.lo,a.hi,this.buf),this}sint64(e){const a=je.enc(e),s=a.hi>>31,o=a.lo<<1^s,c=(a.hi<<1|a.lo>>>31)^s;return mf(o,c,this.buf),this}uint64(e){const a=je.uEnc(e);return mf(a.lo,a.hi,this.buf),this}}class Pf{constructor(e,a=$f().decodeUtf8){this.decodeUtf8=a,this.varint64=OS,this.uint32=BS,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),a=e>>>3,s=e&7;if(a<=0||s<0||s>5)throw new Error("illegal tag: field no "+a+" wire type "+s);return[a,s]}skip(e,a){let s=this.pos;switch(e){case nt.Varint:for(;this.buf[this.pos++]&128;);break;case nt.Bit64:this.pos+=4;case nt.Bit32:this.pos+=4;break;case nt.LengthDelimited:let o=this.uint32();this.pos+=o;break;case nt.StartGroup:for(;;){const[c,h]=this.tag();if(h===nt.EndGroup){if(a!==void 0&&c!==a)throw new Error("invalid end group tag");break}this.skip(h,c)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(s,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return je.dec(...this.varint64())}uint64(){return je.uDec(...this.varint64())}sint64(){let[e,a]=this.varint64(),s=-(e&1);return e=(e>>>1|(a&1)<<31)^s,a=a>>>1^s,je.dec(e,a)}bool(){let[e,a]=this.varint64();return e!==0||a!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return je.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return je.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),a=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(a,a+e)}string(){return this.decodeUtf8(this.bytes())}}function bf(i){if(typeof i=="string")i=Number(i);else if(typeof i!="number")throw new Error("invalid int32: "+typeof i);if(!Number.isInteger(i)||i>I0||i<w0)throw new Error("invalid int32: "+i)}function $y(i){if(typeof i=="string")i=Number(i);else if(typeof i!="number")throw new Error("invalid uint32: "+typeof i);if(!Number.isInteger(i)||i>C0||i<0)throw new Error("invalid uint32: "+i)}function QS(i){if(typeof i=="string"){const e=i;if(i=Number(i),Number.isNaN(i)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof i!="number")throw new Error("invalid float32: "+typeof i);if(Number.isFinite(i)&&(i>T0||i<R0))throw new Error("invalid float32: "+i)}function ha(i,e){const a=i.fieldKind=="list"?kf(e,i):i.fieldKind=="map"?Ff(e,i):qf(i,e);if(a===!0)return;let s;switch(i.fieldKind){case"list":s=`expected ${V0(i)}, got ${ht(e)}`;break;case"map":s=`expected ${U0(i)}, got ${ht(e)}`;break;default:s=Co(i,e,a)}return new Zt(i,s)}function Py(i,e,a){const s=qf(i,a);if(s!==!0)return new Zt(i,`list item #${e+1}: ${Co(i,a,s)}`)}function $S(i,e,a){const s=x0(e,i.mapKey);if(s!==!0)return new Zt(i,`invalid map key: ${Co({scalar:i.mapKey},e,s)}`);const o=qf(i,a);if(o!==!0)return new Zt(i,`map entry ${ht(e)}: ${Co(i,a,o)}`)}function qf(i,e){return i.scalar!==void 0?x0(e,i.scalar):i.enum!==void 0?i.enum.open?Number.isInteger(e):i.enum.values.some(a=>a.number===e):jf(e,i.message)}function x0(i,e){switch(e){case D.DOUBLE:return typeof i=="number";case D.FLOAT:return typeof i!="number"?!1:Number.isNaN(i)||!Number.isFinite(i)?!0:i>T0||i<R0?`${i.toFixed()} out of range`:!0;case D.INT32:case D.SFIXED32:case D.SINT32:return typeof i!="number"||!Number.isInteger(i)?!1:i>I0||i<w0?`${i.toFixed()} out of range`:!0;case D.FIXED32:case D.UINT32:return typeof i!="number"||!Number.isInteger(i)?!1:i>C0||i<0?`${i.toFixed()} out of range`:!0;case D.BOOL:return typeof i=="boolean";case D.STRING:return typeof i!="string"?!1:$f().checkUtf8(i)||"invalid UTF8";case D.BYTES:return i instanceof Uint8Array;case D.INT64:case D.SFIXED64:case D.SINT64:if(typeof i=="bigint"||typeof i=="number"||typeof i=="string"&&i.length>0)try{return je.parse(i),!0}catch{return`${i} out of range`}return!1;case D.FIXED64:case D.UINT64:if(typeof i=="bigint"||typeof i=="number"||typeof i=="string"&&i.length>0)try{return je.uParse(i),!0}catch{return`${i} out of range`}return!1}}function Co(i,e,a){return a=typeof a=="string"?`: ${a}`:`, got ${ht(e)}`,i.scalar!==void 0?`expected ${PS(i.scalar)}`+a:i.enum!==void 0?`expected ${i.enum.toString()}`+a:`expected ${O0(i.message)}`+a}function ht(i){switch(typeof i){case"object":return i===null?"null":i instanceof Uint8Array?`Uint8Array(${i.length})`:Array.isArray(i)?`Array(${i.length})`:kf(i)?V0(i.field()):Ff(i)?U0(i.field()):jf(i)?O0(i.desc):Xf(i)?`message ${i.$typeName}`:"object";case"string":return i.length>30?"string":`"${i.split('"').join('\\"')}"`;case"boolean":return String(i);case"number":return String(i);case"bigint":return String(i)+"n";default:return typeof i}}function O0(i){return`ReflectMessage (${i.typeName})`}function V0(i){switch(i.listKind){case"message":return`ReflectList (${i.message.toString()})`;case"enum":return`ReflectList (${i.enum.toString()})`;case"scalar":return`ReflectList (${D[i.scalar]})`}}function U0(i){switch(i.mapKind){case"message":return`ReflectMap (${D[i.mapKey]}, ${i.message.toString()})`;case"enum":return`ReflectMap (${D[i.mapKey]}, ${i.enum.toString()})`;case"scalar":return`ReflectMap (${D[i.mapKey]}, ${D[i.scalar]})`}}function PS(i){switch(i){case D.STRING:return"string";case D.BOOL:return"boolean";case D.INT64:case D.SINT64:case D.SFIXED64:return"bigint (int64)";case D.UINT64:case D.FIXED64:return"bigint (uint64)";case D.BYTES:return"Uint8Array";case D.DOUBLE:return"number (float64)";case D.FLOAT:return"number (float32)";case D.FIXED32:case D.UINT32:return"number (uint32)";case D.INT32:case D.SFIXED32:case D.SINT32:return"number (int32)"}}function dn(i,e,a=!0){return new B0(i,e,a)}const qy=new WeakMap;class B0{get sortedFields(){const e=qy.get(this.desc);if(e)return e;const a=this.desc.fields.concat().sort((s,o)=>s.number-o.number);return qy.set(this.desc,a),a}constructor(e,a,s=!0){this.lists=new Map,this.maps=new Map,this.check=s,this.desc=e,this.message=this[si]=a??te(e),this.fields=e.fields,this.oneofs=e.oneofs,this.members=e.members}findNumber(e){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(a=>[a.number,a]))),this._fieldsByNumber.get(e)}oneofCase(e){return Ss(this.message,e),v0(this.message,e)}isSet(e){return Ss(this.message,e),ZS(this.message,e)}clear(e){Ss(this.message,e),zS(this.message,e)}get(e){Ss(this.message,e);const a=A0(this.message,e);switch(e.fieldKind){case"list":let s=this.lists.get(e);return(!s||s[si]!==a)&&this.lists.set(e,s=new qS(e,a,this.check)),s;case"map":let o=this.maps.get(e);return(!o||o[si]!==a)&&this.maps.set(e,o=new e1(e,a,this.check)),o;case"message":return th(e,a,this.check);case"scalar":return a===void 0?pa(e.scalar,!1):nh(e,a);case"enum":return a??e.enum.values[0].number}}set(e,a){if(Ss(this.message,e),this.check){const o=ha(e,a);if(o)throw o}let s;e.fieldKind=="message"?s=eh(e,a):Ff(a)||kf(a)?s=a[si]:s=ih(e,a),S0(this.message,e,s)}getUnknown(){return this.message.$unknown}setUnknown(e){this.message.$unknown=e}}function Ss(i,e){if(e.parent.typeName!==i.$typeName)throw new Zt(e,`cannot use ${e.toString()} with message ${i.$typeName}`,"ForeignFieldError")}class qS{field(){return this._field}get size(){return this._arr.length}constructor(e,a,s){this._field=e,this._arr=this[si]=a,this.check=s}get(e){const a=this._arr[e];return a===void 0?void 0:vf(this._field,a,this.check)}set(e,a){if(e<0||e>=this._arr.length)throw new Zt(this._field,`list item #${e+1}: out of range`);if(this.check){const s=Py(this._field,e,a);if(s)throw s}this._arr[e]=ep(this._field,a)}add(e){if(this.check){const a=Py(this._field,this._arr.length,e);if(a)throw a}this._arr.push(ep(this._field,e))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const e of this._arr)yield vf(this._field,e,this.check)}*entries(){for(let e=0;e<this._arr.length;e++)yield[e,vf(this._field,this._arr[e],this.check)]}}class e1{constructor(e,a,s=!0){this.obj=this[si]=a??{},this.check=s,this._field=e}field(){return this._field}set(e,a){if(this.check){const s=$S(this._field,e,a);if(s)throw s}return this.obj[mo(e)]=t1(this._field,a),this}delete(e){const a=mo(e),s=Object.prototype.hasOwnProperty.call(this.obj,a);return s&&delete this.obj[a],s}clear(){for(const e of Object.keys(this.obj))delete this.obj[e]}get(e){let a=this.obj[mo(e)];return a!==void 0&&(a=Af(this._field,a,this.check)),a}has(e){return Object.prototype.hasOwnProperty.call(this.obj,mo(e))}*keys(){for(const e of Object.keys(this.obj))yield tp(e,this._field.mapKey)}*entries(){for(const e of Object.entries(this.obj))yield[tp(e[0],this._field.mapKey),Af(this._field,e[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const e of Object.values(this.obj))yield Af(this._field,e,this.check)}forEach(e,a){for(const s of this.entries())e.call(a,s[1],s[0],this)}}function eh(i,e){return jf(e)?YS(e.message)&&!i.oneof&&i.fieldKind=="message"?e.message.value:e.desc.typeName=="google.protobuf.Struct"&&i.parent.typeName!="google.protobuf.Value"?M0(e.message):e.message:e}function th(i,e,a){return e!==void 0&&(Xs(i.message)&&!i.oneof&&i.fieldKind=="message"?e={$typeName:i.message.typeName,value:nh(i.message.fields[0],e)}:i.message.typeName=="google.protobuf.Struct"&&i.parent.typeName!="google.protobuf.Value"&&Xi(e)&&(e=L0(e))),new B0(i.message,e,a)}function ep(i,e){return i.listKind=="message"?eh(i,e):ih(i,e)}function vf(i,e,a){return i.listKind=="message"?th(i,e,a):nh(i,e)}function t1(i,e){return i.mapKind=="message"?eh(i,e):ih(i,e)}function Af(i,e,a){return i.mapKind=="message"?th(i,e,a):e}function mo(i){return typeof i=="string"||typeof i=="number"?i:String(i)}function tp(i,e){switch(e){case D.STRING:return i;case D.INT32:case D.FIXED32:case D.UINT32:case D.SFIXED32:case D.SINT32:{const a=Number.parseInt(i);if(Number.isFinite(a))return a;break}case D.BOOL:switch(i){case"true":return!0;case"false":return!1}break;case D.UINT64:case D.FIXED64:try{return je.uParse(i)}catch{}break;default:try{return je.parse(i)}catch{}break}return i}function nh(i,e){switch(i.scalar){case D.INT64:case D.SFIXED64:case D.SINT64:"longAsString"in i&&i.longAsString&&typeof e=="string"&&(e=je.parse(e));break;case D.FIXED64:case D.UINT64:"longAsString"in i&&i.longAsString&&typeof e=="string"&&(e=je.uParse(e));break}return e}function ih(i,e){switch(i.scalar){case D.INT64:case D.SFIXED64:case D.SINT64:"longAsString"in i&&i.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=je.parse(e));break;case D.FIXED64:case D.UINT64:"longAsString"in i&&i.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=je.uParse(e));break}return e}function L0(i){const e={$typeName:"google.protobuf.Struct",fields:{}};if(Xi(i))for(const[a,s]of Object.entries(i))e.fields[a]=z0(s);return e}function M0(i){const e={};for(const[a,s]of Object.entries(i.fields))e[a]=Z0(s);return e}function Z0(i){switch(i.kind.case){case"structValue":return M0(i.kind.value);case"listValue":return i.kind.value.values.map(Z0);case"nullValue":case void 0:return null;default:return i.kind.value}}function z0(i){const e={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof i){case"number":e.kind={case:"numberValue",value:i};break;case"string":e.kind={case:"stringValue",value:i};break;case"boolean":e.kind={case:"boolValue",value:i};break;case"object":if(i===null)e.kind={case:"nullValue",value:0};else if(Array.isArray(i)){const a={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(i))for(const s of i)a.values.push(z0(s));e.kind={case:"listValue",value:a}}else e.kind={case:"structValue",value:L0(i)};break}return e}function ah(i){const e=i1();let a=i.length*3/4;i[i.length-2]=="="?a-=2:i[i.length-1]=="="&&(a-=1);let s=new Uint8Array(a),o=0,c=0,h,d=0;for(let y=0;y<i.length;y++){if(h=e[i.charCodeAt(y)],h===void 0)switch(i[y]){case"=":c=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(c){case 0:d=h,c=1;break;case 1:s[o++]=d<<2|(h&48)>>4,d=h,c=2;break;case 2:s[o++]=(d&15)<<4|(h&60)>>2,d=h,c=3;break;case 3:s[o++]=(d&3)<<6|h,c=0;break}}if(c==1)throw Error("invalid base64 string");return s.subarray(0,o)}function n1(i,e="std"){const a=Y0(e),s=e=="std";let o="",c=0,h,d=0;for(let y=0;y<i.length;y++)switch(h=i[y],c){case 0:o+=a[h>>2],d=(h&3)<<4,c=1;break;case 1:o+=a[d|h>>4],d=(h&15)<<2,c=2;break;case 2:o+=a[d|h>>6],o+=a[h&63],c=0;break}return c&&(o+=a[d],s&&(o+="=",c==1&&(o+="="))),o}let yo,np,ar;function Y0(i){return yo||(yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),np=yo.slice(0,-2).concat("-","_")),i=="url"?np:yo}function i1(){if(!ar){ar=[];const i=Y0("std");for(let e=0;e<i.length;e++)ar[i[e].charCodeAt(0)]=e;ar[45]=i.indexOf("+"),ar[95]=i.indexOf("/")}return ar}function Bs(i){let e=!1;const a=[];for(let s=0;s<i.length;s++){let o=i.charAt(s);switch(o){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":a.push(o),e=!1;break;default:e&&(e=!1,o=o.toUpperCase()),a.push(o);break}}return a.join("")}const a1=new Set(["constructor","toString","toJSON","valueOf"]);function Ls(i){return a1.has(i)?i+"$":i}function rh(i){for(const e of i.field)Us(e,"jsonName")||(e.jsonName=Bs(e.name));i.nestedType.forEach(rh)}function r1(i,e){const a=i.values.find(s=>s.name===e);if(!a)throw new Error(`cannot parse ${i} default value: ${e}`);return a.number}function s1(i,e){switch(i){case D.STRING:return e;case D.BYTES:{const a=l1(e);if(a===!1)throw new Error(`cannot parse ${D[i]} default value: ${e}`);return a}case D.INT64:case D.SFIXED64:case D.SINT64:return je.parse(e);case D.UINT64:case D.FIXED64:return je.uParse(e);case D.DOUBLE:case D.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case D.BOOL:return e==="true";case D.INT32:case D.UINT32:case D.SINT32:case D.FIXED32:case D.SFIXED32:return parseInt(e,10)}}function l1(i){const e=[],a={tail:i,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(s){if(this.tail.length>=s){const o=this.tail.substring(0,s);return this.tail=this.tail.substring(s),o}return!1}};for(;a.next();)switch(a.c){case"\\":if(a.next())switch(a.c){case"\\":e.push(a.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const s=a.c,o=a.take(2);if(o===!1)return!1;const c=parseInt(s+o,8);if(Number.isNaN(c))return!1;e.push(c);break}case"x":{const s=a.c,o=a.take(2);if(o===!1)return!1;const c=parseInt(s+o,16);if(Number.isNaN(c))return!1;e.push(c);break}case"u":{const s=a.c,o=a.take(4);if(o===!1)return!1;const c=parseInt(s+o,16);if(Number.isNaN(c))return!1;const h=new Uint8Array(4);new DataView(h.buffer).setInt32(0,c,!0),e.push(h[0],h[1],h[2],h[3]);break}case"U":{const s=a.c,o=a.take(8);if(o===!1)return!1;const c=je.uEnc(s+o),h=new Uint8Array(8),d=new DataView(h.buffer);d.setInt32(0,c.lo,!0),d.setInt32(4,c.hi,!0),e.push(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7]);break}}break;default:e.push(a.c.charCodeAt(0))}return new Uint8Array(e)}function*wf(i){switch(i.kind){case"file":for(const e of i.messages)yield e,yield*wf(e);yield*i.enums,yield*i.services,yield*i.extensions;break;case"message":for(const e of i.nestedMessages)yield e,yield*wf(e);yield*i.nestedEnums,yield*i.nestedExtensions;break}}function G0(...i){const e=o1();if(!i.length)return e;if("$typeName"in i[0]&&i[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const s of i[0].file)sp(s,e);return e}if("$typeName"in i[0]){let h=function(d){const y=[];for(const m of d.dependency){if(e.getFile(m)!=null||c.has(m))continue;const b=o(m);if(!b)throw new Error(`Unable to resolve ${m}, imported by ${d.name}`);"kind"in b?e.addFile(b,!1,!0):(c.add(b.name),y.push(b))}return y.concat(...y.map(h))};var a=h;const s=i[0],o=i[1],c=new Set;for(const d of[s,...h(s)].reverse())sp(d,e)}else for(const s of i)for(const o of s.files)e.addFile(o);return e}function o1(){const i=new Map,e=new Map,a=new Map;return{kind:"registry",types:i,extendees:e,[Symbol.iterator](){return i.values()},get files(){return a.values()},addFile(s,o,c){if(a.set(s.proto.name,s),!o)for(const h of wf(s))this.add(h);if(c)for(const h of s.dependencies)this.addFile(h,o,c)},add(s){if(s.kind=="extension"){let o=e.get(s.extendee.typeName);o||e.set(s.extendee.typeName,o=new Map),o.set(s.number,s)}i.set(s.typeName,s)},get(s){return i.get(s)},getFile(s){return a.get(s)},getMessage(s){const o=i.get(s);return o?.kind=="message"?o:void 0},getEnum(s){const o=i.get(s);return o?.kind=="enum"?o:void 0},getExtension(s){const o=i.get(s);return o?.kind=="extension"?o:void 0},getExtensionFor(s,o){var c;return(c=e.get(s.typeName))===null||c===void 0?void 0:c.get(o)},getService(s){const o=i.get(s);return o?.kind=="service"?o:void 0}}}const u1=998,c1=999,f1=9,Ms=10,Is=11,h1=12,ip=14,sh=3,d1=2,ap=1,g1=0,Sf=1,rp=2,m1=3,y1=1,p1=2,b1=1,_0={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2,defaultSymbolVisibility:1},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2,defaultSymbolVisibility:1},1001:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:1,defaultSymbolVisibility:2}};function sp(i,e){var a,s;const o={kind:"file",proto:i,deprecated:(s=(a=i.options)===null||a===void 0?void 0:a.deprecated)!==null&&s!==void 0?s:!1,edition:E1(i),name:i.name.replace(/\.proto$/,""),dependencies:N1(i,e),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${i.name}`}},c=new Map,h={get(d){return c.get(d)},add(d){var y;Tn(((y=d.proto.options)===null||y===void 0?void 0:y.mapEntry)===!0),c.set(d.typeName,d)}};for(const d of i.enumType)W0(d,o,void 0,e);for(const d of i.messageType)K0(d,o,void 0,e,h);for(const d of i.service)v1(d,o,e);Df(o,e);for(const d of c.values())xf(d,e,h);for(const d of o.messages)xf(d,e,h),Df(d,e);e.addFile(o,!0)}function Df(i,e){switch(i.kind){case"file":for(const a of i.proto.extension){const s=Of(a,i,e);i.extensions.push(s),e.add(s)}break;case"message":for(const a of i.proto.extension){const s=Of(a,i,e);i.nestedExtensions.push(s),e.add(s)}for(const a of i.nestedMessages)Df(a,e);break}}function xf(i,e,a){const s=i.proto.oneofDecl.map(c=>S1(c,i)),o=new Set;for(const c of i.proto.field){const h=C1(c,s),d=Of(c,i,e,h,a);i.fields.push(d),i.field[d.localName]=d,h===void 0?i.members.push(d):(h.fields.push(d),o.has(h)||(o.add(h),i.members.push(h)))}for(const c of s.filter(h=>o.has(h)))i.oneofs.push(c);for(const c of i.nestedMessages)xf(c,e,a)}function W0(i,e,a,s){var o,c,h,d,y;const m=T1(i.name,i.value),b={kind:"enum",proto:i,deprecated:(c=(o=i.options)===null||o===void 0?void 0:o.deprecated)!==null&&c!==void 0?c:!1,file:e,parent:a,open:!0,name:i.name,typeName:Bo(i,a,e),value:{},values:[],sharedPrefix:m,toString(){return`enum ${this.typeName}`}};b.open=x1(b),s.add(b);for(const A of i.value){const w=A.name;b.values.push(b.value[A.number]={kind:"enum_value",proto:A,deprecated:(d=(h=A.options)===null||h===void 0?void 0:h.deprecated)!==null&&d!==void 0?d:!1,parent:b,name:w,localName:Ls(m==null?w:w.substring(m.length)),number:A.number,toString(){return`enum value ${b.typeName}.${w}`}})}((y=a?.nestedEnums)!==null&&y!==void 0?y:e.enums).push(b)}function K0(i,e,a,s,o){var c,h,d,y;const m={kind:"message",proto:i,deprecated:(h=(c=i.options)===null||c===void 0?void 0:c.deprecated)!==null&&h!==void 0?h:!1,file:e,parent:a,name:i.name,typeName:Bo(i,a,e),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((d=i.options)===null||d===void 0?void 0:d.mapEntry)===!0?o.add(m):(((y=a?.nestedMessages)!==null&&y!==void 0?y:e.messages).push(m),s.add(m));for(const b of i.enumType)W0(b,e,m,s);for(const b of i.nestedType)K0(b,e,m,s,o)}function v1(i,e,a){var s,o;const c={kind:"service",proto:i,deprecated:(o=(s=i.options)===null||s===void 0?void 0:s.deprecated)!==null&&o!==void 0?o:!1,file:e,name:i.name,typeName:Bo(i,void 0,e),methods:[],method:{},toString(){return`service ${this.typeName}`}};e.services.push(c),a.add(c);for(const h of i.method){const d=A1(h,c,a);c.methods.push(d),c.method[d.localName]=d}}function A1(i,e,a){var s,o,c,h;let d;i.clientStreaming&&i.serverStreaming?d="bidi_streaming":i.clientStreaming?d="client_streaming":i.serverStreaming?d="server_streaming":d="unary";const y=a.getMessage(ri(i.inputType)),m=a.getMessage(ri(i.outputType));Tn(y,`invalid MethodDescriptorProto: input_type ${i.inputType} not found`),Tn(m,`invalid MethodDescriptorProto: output_type ${i.inputType} not found`);const b=i.name;return{kind:"rpc",proto:i,deprecated:(o=(s=i.options)===null||s===void 0?void 0:s.deprecated)!==null&&o!==void 0?o:!1,parent:e,name:b,localName:Ls(b.length?Ls(b[0].toLowerCase()+b.substring(1)):b),methodKind:d,input:y,output:m,idempotency:(h=(c=i.options)===null||c===void 0?void 0:c.idempotencyLevel)!==null&&h!==void 0?h:g1,toString(){return`rpc ${e.typeName}.${b}`}}}function S1(i,e){return{kind:"oneof",proto:i,deprecated:!1,parent:e,fields:[],name:i.name,localName:Ls(Bs(i.name)),toString(){return`oneof ${e.typeName}.${this.name}`}}}function Of(i,e,a,s,o){var c,h,d;const y=o===void 0,m={kind:"field",proto:i,deprecated:(h=(c=i.options)===null||c===void 0?void 0:c.deprecated)!==null&&h!==void 0?h:!1,name:i.name,number:i.number,scalar:void 0,message:void 0,enum:void 0,presence:I1(i,s,y,e),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(y){const R=e.kind=="file"?e:e.file,C=e.kind=="file"?void 0:e,V=Bo(i,C,R);m.kind="extension",m.file=R,m.parent=C,m.oneof=void 0,m.typeName=V,m.jsonName=`[${V}]`,m.toString=()=>`extension ${V}`;const G=a.getMessage(ri(i.extendee));Tn(G,`invalid FieldDescriptorProto: extendee ${i.extendee} not found`),m.extendee=G}else{const R=e;Tn(R.kind=="message"),m.parent=R,m.oneof=s,m.localName=s?Bs(i.name):Ls(Bs(i.name)),m.jsonName=i.jsonName,m.toString=()=>`field ${R.typeName}.${i.name}`}const b=i.label,A=i.type,w=(d=i.options)===null||d===void 0?void 0:d.jstype;if(b===sh){const R=A==Is?o?.get(ri(i.typeName)):void 0;if(R){m.fieldKind="map";const{key:C,value:V}=D1(R);return m.mapKey=C.scalar,m.mapKind=V.fieldKind,m.message=V.message,m.delimitedEncoding=!1,m.enum=V.enum,m.scalar=V.scalar,m}switch(m.fieldKind="list",A){case Is:case Ms:m.listKind="message",m.message=a.getMessage(ri(i.typeName)),Tn(m.message),m.delimitedEncoding=lp(i,e);break;case ip:m.listKind="enum",m.enum=a.getEnum(ri(i.typeName)),Tn(m.enum);break;default:m.listKind="scalar",m.scalar=A,m.longAsString=w==ap;break}return m.packed=w1(i,e),m}switch(A){case Is:case Ms:m.fieldKind="message",m.message=a.getMessage(ri(i.typeName)),Tn(m.message,`invalid FieldDescriptorProto: type_name ${i.typeName} not found`),m.delimitedEncoding=lp(i,e),m.getDefaultValue=()=>{};break;case ip:{const R=a.getEnum(ri(i.typeName));Tn(R!==void 0,`invalid FieldDescriptorProto: type_name ${i.typeName} not found`),m.fieldKind="enum",m.enum=a.getEnum(ri(i.typeName)),m.getDefaultValue=()=>Us(i,"defaultValue")?r1(R,i.defaultValue):void 0;break}default:{m.fieldKind="scalar",m.scalar=A,m.longAsString=w==ap,m.getDefaultValue=()=>Us(i,"defaultValue")?s1(A,i.defaultValue):void 0;break}}return m}function E1(i){switch(i.syntax){case"":case"proto2":return u1;case"proto3":return c1;case"editions":if(i.edition in _0)return i.edition;throw new Error(`${i.name}: unsupported edition`);default:throw new Error(`${i.name}: unsupported syntax "${i.syntax}"`)}}function N1(i,e){return i.dependency.map(a=>{const s=e.getFile(a);if(!s)throw new Error(`Cannot find ${a}, imported by ${i.name}`);return s})}function T1(i,e){const a=R1(i)+"_";for(const s of e){if(!s.name.toLowerCase().startsWith(a))return;const o=s.name.substring(a.length);if(o.length==0||/^\d/.test(o))return}return a}function R1(i){return(i.substring(0,1)+i.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function Bo(i,e,a){let s;return e?s=`${e.typeName}.${i.name}`:a.proto.package.length>0?s=`${a.proto.package}.${i.name}`:s=`${i.name}`,s}function ri(i){return i.startsWith(".")?i.substring(1):i}function C1(i,e){if(!Us(i,"oneofIndex")||i.proto3Optional)return;const a=e[i.oneofIndex];return Tn(a,`invalid FieldDescriptorProto: oneof #${i.oneofIndex} for field #${i.number} not found`),a}function I1(i,e,a,s){if(i.label==d1)return m1;if(i.label==sh)return rp;if(e||i.proto3Optional||a)return Sf;const o=gr("fieldPresence",{proto:i,parent:s});return o==rp&&(i.type==Is||i.type==Ms)?Sf:o}function w1(i,e){if(i.label!=sh)return!1;switch(i.type){case f1:case h1:case Ms:case Is:return!1}const a=i.options;return a&&Us(a,"packed")?a.packed:y1==gr("repeatedFieldEncoding",{proto:i,parent:e})}function D1(i){const e=i.fields.find(s=>s.number===1),a=i.fields.find(s=>s.number===2);return Tn(e&&e.fieldKind=="scalar"&&e.scalar!=D.BYTES&&e.scalar!=D.FLOAT&&e.scalar!=D.DOUBLE&&a&&a.fieldKind!="list"&&a.fieldKind!="map"),{key:e,value:a}}function x1(i){var e;return b1==gr("enumType",{proto:i.proto,parent:(e=i.parent)!==null&&e!==void 0?e:i.file})}function lp(i,e){return i.type==Ms?!0:p1==gr("messageEncoding",{proto:i,parent:e})}function gr(i,e){var a,s;const o=(a=e.proto.options)===null||a===void 0?void 0:a.features;if(o){const c=o[i];if(c!=0)return c}if("kind"in e){if(e.kind=="message")return gr(i,(s=e.parent)!==null&&s!==void 0?s:e.file);const c=_0[e.edition];if(!c)throw new Error(`feature default for edition ${e.edition} not found`);return c[i]}return gr(i,e.parent)}function Tn(i,e){if(!i)throw new Error(e)}function O1(i){const e=V1(i);return e.messageType.forEach(rh),G0(e,()=>{}).getFile(e.name)}function V1(i){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],optionDependency:[],service:[],extension:[]},i),{messageType:i.messageType.map(X0),enumType:i.enumType.map(J0)}))}function X0(i){var e,a,s,o,c,h,d,y;return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.DescriptorProto",name:i.name,field:(a=(e=i.field)===null||e===void 0?void 0:e.map(U1))!==null&&a!==void 0?a:[],extension:[],nestedType:(o=(s=i.nestedType)===null||s===void 0?void 0:s.map(X0))!==null&&o!==void 0?o:[],enumType:(h=(c=i.enumType)===null||c===void 0?void 0:c.map(J0))!==null&&h!==void 0?h:[],extensionRange:(y=(d=i.extensionRange)===null||d===void 0?void 0:d.map(b=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},b)))!==null&&y!==void 0?y:[],oneofDecl:[],reservedRange:[],reservedName:[]})}function U1(i){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},i),{options:i.options?B1(i.options):void 0}))}function B1(i){var e,a,s;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},i),{targets:(e=i.targets)!==null&&e!==void 0?e:[],editionDefaults:(s=(a=i.editionDefaults)===null||a===void 0?void 0:a.map(c=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},c)))!==null&&s!==void 0?s:[],uninterpretedOption:[]}))}function J0(i){return Object.assign(Object.create({visibility:0}),{$typeName:"google.protobuf.EnumDescriptorProto",name:i.name,reservedName:[],reservedRange:[],value:i.value.map(a=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},a))})}function ce(i,e,...a){return a.reduce((s,o)=>s.nestedMessages[o],i.messages[e])}const L1=O1({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"option_dependency",number:15,type:9,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3},{name:"visibility",number:11,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3},{name:"visibility",number:6,type:14,label:1,typeName:".google.protobuf.SymbolVisibility"}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false",options:{deprecated:!0}},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}},{name:"default_symbol_visibility",number:8,type:14,label:1,typeName:".google.protobuf.FeatureSet.VisibilityFeature.DefaultSymbolVisibility",options:{retention:2,targets:[1],editionDefaults:[{value:"EXPORT_ALL",edition:900},{value:"EXPORT_TOP_LEVEL",edition:1001}]}}],nestedType:[{name:"VisibilityFeature",enumType:[{name:"DefaultSymbolVisibility",value:[{name:"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",number:0},{name:"EXPORT_ALL",number:1},{name:"EXPORT_TOP_LEVEL",number:2},{name:"LOCAL_ALL",number:3},{name:"STRICT",number:4}]}]}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]},{name:"SymbolVisibility",value:[{name:"VISIBILITY_UNSET",number:0},{name:"VISIBILITY_LOCAL",number:1},{name:"VISIBILITY_EXPORT",number:2}]}]}),M1=ce(L1,1);var op;(function(i){i[i.DECLARATION=0]="DECLARATION",i[i.UNVERIFIED=1]="UNVERIFIED"})(op||(op={}));var up;(function(i){i[i.DOUBLE=1]="DOUBLE",i[i.FLOAT=2]="FLOAT",i[i.INT64=3]="INT64",i[i.UINT64=4]="UINT64",i[i.INT32=5]="INT32",i[i.FIXED64=6]="FIXED64",i[i.FIXED32=7]="FIXED32",i[i.BOOL=8]="BOOL",i[i.STRING=9]="STRING",i[i.GROUP=10]="GROUP",i[i.MESSAGE=11]="MESSAGE",i[i.BYTES=12]="BYTES",i[i.UINT32=13]="UINT32",i[i.ENUM=14]="ENUM",i[i.SFIXED32=15]="SFIXED32",i[i.SFIXED64=16]="SFIXED64",i[i.SINT32=17]="SINT32",i[i.SINT64=18]="SINT64"})(up||(up={}));var cp;(function(i){i[i.OPTIONAL=1]="OPTIONAL",i[i.REPEATED=3]="REPEATED",i[i.REQUIRED=2]="REQUIRED"})(cp||(cp={}));var fp;(function(i){i[i.SPEED=1]="SPEED",i[i.CODE_SIZE=2]="CODE_SIZE",i[i.LITE_RUNTIME=3]="LITE_RUNTIME"})(fp||(fp={}));var hp;(function(i){i[i.STRING=0]="STRING",i[i.CORD=1]="CORD",i[i.STRING_PIECE=2]="STRING_PIECE"})(hp||(hp={}));var dp;(function(i){i[i.JS_NORMAL=0]="JS_NORMAL",i[i.JS_STRING=1]="JS_STRING",i[i.JS_NUMBER=2]="JS_NUMBER"})(dp||(dp={}));var gp;(function(i){i[i.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",i[i.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",i[i.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(gp||(gp={}));var mp;(function(i){i[i.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",i[i.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",i[i.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",i[i.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",i[i.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",i[i.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",i[i.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",i[i.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",i[i.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",i[i.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(mp||(mp={}));var yp;(function(i){i[i.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",i[i.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",i[i.IDEMPOTENT=2]="IDEMPOTENT"})(yp||(yp={}));var pp;(function(i){i[i.DEFAULT_SYMBOL_VISIBILITY_UNKNOWN=0]="DEFAULT_SYMBOL_VISIBILITY_UNKNOWN",i[i.EXPORT_ALL=1]="EXPORT_ALL",i[i.EXPORT_TOP_LEVEL=2]="EXPORT_TOP_LEVEL",i[i.LOCAL_ALL=3]="LOCAL_ALL",i[i.STRICT=4]="STRICT"})(pp||(pp={}));var bp;(function(i){i[i.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",i[i.EXPLICIT=1]="EXPLICIT",i[i.IMPLICIT=2]="IMPLICIT",i[i.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(bp||(bp={}));var vp;(function(i){i[i.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",i[i.OPEN=1]="OPEN",i[i.CLOSED=2]="CLOSED"})(vp||(vp={}));var Ap;(function(i){i[i.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",i[i.PACKED=1]="PACKED",i[i.EXPANDED=2]="EXPANDED"})(Ap||(Ap={}));var Sp;(function(i){i[i.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",i[i.VERIFY=2]="VERIFY",i[i.NONE=3]="NONE"})(Sp||(Sp={}));var Ep;(function(i){i[i.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",i[i.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",i[i.DELIMITED=2]="DELIMITED"})(Ep||(Ep={}));var Np;(function(i){i[i.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",i[i.ALLOW=1]="ALLOW",i[i.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(Np||(Np={}));var Tp;(function(i){i[i.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",i[i.STYLE2024=1]="STYLE2024",i[i.STYLE_LEGACY=2]="STYLE_LEGACY"})(Tp||(Tp={}));var Rp;(function(i){i[i.NONE=0]="NONE",i[i.SET=1]="SET",i[i.ALIAS=2]="ALIAS"})(Rp||(Rp={}));var Cp;(function(i){i[i.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",i[i.EDITION_LEGACY=900]="EDITION_LEGACY",i[i.EDITION_PROTO2=998]="EDITION_PROTO2",i[i.EDITION_PROTO3=999]="EDITION_PROTO3",i[i.EDITION_2023=1e3]="EDITION_2023",i[i.EDITION_2024=1001]="EDITION_2024",i[i.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",i[i.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",i[i.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",i[i.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",i[i.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",i[i.EDITION_MAX=2147483647]="EDITION_MAX"})(Cp||(Cp={}));var Ip;(function(i){i[i.VISIBILITY_UNSET=0]="VISIBILITY_UNSET",i[i.VISIBILITY_LOCAL=1]="VISIBILITY_LOCAL",i[i.VISIBILITY_EXPORT=2]="VISIBILITY_EXPORT"})(Ip||(Ip={}));const wp={readUnknownFields:!0};function Z1(i){return i?Object.assign(Object.assign({},wp),i):wp}function gn(i,e,a){const s=dn(i,void 0,!1);return k0(s,new Pf(e),Z1(a),!1,e.byteLength),s.message}function k0(i,e,a,s,o){var c;const h=s?e.len:e.pos+o;let d,y;const m=(c=i.getUnknown())!==null&&c!==void 0?c:[];for(;e.pos<h&&([d,y]=e.tag(),!(s&&y==nt.EndGroup));){const b=i.findNumber(d);if(!b){const A=e.skip(y,d);a.readUnknownFields&&m.push({no:d,wireType:y,data:A});continue}F0(i,e,b,y,a)}if(s&&(y!=nt.EndGroup||d!==o))throw new Error("invalid end group tag");m.length>0&&i.setUnknown(m)}function F0(i,e,a,s,o){var c;switch(a.fieldKind){case"scalar":i.set(a,mr(e,a.scalar));break;case"enum":const h=mr(e,D.INT32);if(a.enum.open)i.set(a,h);else if(a.enum.values.some(y=>y.number===h))i.set(a,h);else if(o.readUnknownFields){const y=[];If(h,y);const m=(c=i.getUnknown())!==null&&c!==void 0?c:[];m.push({no:a.number,wireType:s,data:new Uint8Array(y)}),i.setUnknown(m)}break;case"message":i.set(a,lh(e,o,a,i.get(a)));break;case"list":Y1(e,s,i.get(a),o);break;case"map":z1(e,i.get(a),o);break}}function z1(i,e,a){const s=e.field();let o,c;const h=i.uint32(),d=i.pos+h;for(;i.pos<d;){const[y]=i.tag();switch(y){case 1:o=mr(i,s.mapKey);break;case 2:switch(s.mapKind){case"scalar":c=mr(i,s.scalar);break;case"enum":c=i.int32();break;case"message":c=lh(i,a,s);break}break}}if(o===void 0&&(o=pa(s.mapKey,!1)),c===void 0)switch(s.mapKind){case"scalar":c=pa(s.scalar,!1);break;case"enum":c=s.enum.values[0].number;break;case"message":c=dn(s.message,void 0,!1);break}e.set(o,c)}function Y1(i,e,a,s){var o;const c=a.field();if(c.listKind==="message"){a.add(lh(i,s,c));return}const h=(o=c.scalar)!==null&&o!==void 0?o:D.INT32;if(!(e==nt.LengthDelimited&&h!=D.STRING&&h!=D.BYTES)){a.add(mr(i,h));return}const y=i.uint32()+i.pos;for(;i.pos<y;)a.add(mr(i,h))}function lh(i,e,a,s){const o=a.delimitedEncoding,c=s??dn(a.message,void 0,!1);return k0(c,i,e,o,o?a.number:i.uint32()),c}function mr(i,e){switch(e){case D.STRING:return i.string();case D.BOOL:return i.bool();case D.DOUBLE:return i.double();case D.FLOAT:return i.float();case D.INT32:return i.int32();case D.INT64:return i.int64();case D.UINT64:return i.uint64();case D.FIXED64:return i.fixed64();case D.BYTES:return i.bytes();case D.FIXED32:return i.fixed32();case D.SFIXED32:return i.sfixed32();case D.SFIXED64:return i.sfixed64();case D.SINT64:return i.sint64();case D.UINT32:return i.uint32();case D.SINT32:return i.sint32()}}function hi(i,e){var a;const s=gn(M1,ah(i));return s.messageType.forEach(rh),s.dependency=(a=e?.map(c=>c.proto.name))!==null&&a!==void 0?a:[],G0(s,c=>e?.find(h=>h.proto.name===c)).getFile(s.name)}const G1=hi("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function _1(i){return new Date(W1(i))}function W1(i){return Number(i.seconds)*1e3+Math.round(i.nanos/1e6)}const K1=hi("Ch5nb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIqCghEdXJhdGlvbhIPCgdzZWNvbmRzGAEgASgDEg0KBW5hbm9zGAIgASgFQoMBChNjb20uZ29vZ2xlLnByb3RvYnVmQg1EdXJhdGlvblByb3RvUAFaMWdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2R1cmF0aW9ucGL4AQGiAgNHUEKqAh5Hb29nbGUuUHJvdG9idWYuV2VsbEtub3duVHlwZXNiBnByb3RvMw"),j0=hi("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),X1=ce(j0,0),J1=3,Dp={writeUnknownFields:!0};function k1(i){return i?Object.assign(Object.assign({},Dp),i):Dp}function Ji(i,e,a){return Io(new D0,k1(a),dn(i,e)).finish()}function Io(i,e,a){var s;for(const o of a.sortedFields){if(!a.isSet(o)){if(o.presence==J1)throw new Error(`cannot encode ${o} to binary: required field not set`);continue}H0(i,e,a,o)}if(e.writeUnknownFields)for(const{no:o,wireType:c,data:h}of(s=a.getUnknown())!==null&&s!==void 0?s:[])i.tag(o,c).raw(h);return i}function H0(i,e,a,s){var o;switch(s.fieldKind){case"scalar":case"enum":wo(i,a.desc.typeName,s.name,(o=s.scalar)!==null&&o!==void 0?o:D.INT32,s.number,a.get(s));break;case"list":F1(i,e,s,a.get(s));break;case"message":Q0(i,e,s,a.get(s));break;case"map":for(const[c,h]of a.get(s))j1(i,e,s,c,h);break}}function wo(i,e,a,s,o,c){$0(i.tag(o,H1(s)),e,a,s,c)}function Q0(i,e,a,s){a.delimitedEncoding?Io(i.tag(a.number,nt.StartGroup),e,s).tag(a.number,nt.EndGroup):Io(i.tag(a.number,nt.LengthDelimited).fork(),e,s).join()}function F1(i,e,a,s){var o;if(a.listKind=="message"){for(const h of s)Q0(i,e,a,h);return}const c=(o=a.scalar)!==null&&o!==void 0?o:D.INT32;if(a.packed){if(!s.size)return;i.tag(a.number,nt.LengthDelimited).fork();for(const h of s)$0(i,a.parent.typeName,a.name,c,h);i.join();return}for(const h of s)wo(i,a.parent.typeName,a.name,c,a.number,h)}function j1(i,e,a,s,o){var c;switch(i.tag(a.number,nt.LengthDelimited).fork(),wo(i,a.parent.typeName,a.name,a.mapKey,1,s),a.mapKind){case"scalar":case"enum":wo(i,a.parent.typeName,a.name,(c=a.scalar)!==null&&c!==void 0?c:D.INT32,2,o);break;case"message":Io(i.tag(2,nt.LengthDelimited).fork(),e,o).join();break}i.join()}function $0(i,e,a,s,o){try{switch(s){case D.STRING:i.string(o);break;case D.BOOL:i.bool(o);break;case D.DOUBLE:i.double(o);break;case D.FLOAT:i.float(o);break;case D.INT32:i.int32(o);break;case D.INT64:i.int64(o);break;case D.UINT64:i.uint64(o);break;case D.FIXED64:i.fixed64(o);break;case D.BYTES:i.bytes(o);break;case D.FIXED32:i.fixed32(o);break;case D.SFIXED32:i.sfixed32(o);break;case D.SFIXED64:i.sfixed64(o);break;case D.SINT64:i.sint64(o);break;case D.UINT32:i.uint32(o);break;case D.SINT32:i.sint32(o);break}}catch(c){throw c instanceof Error?new Error(`cannot encode field ${e}.${a} to binary: ${c.message}`):c}}function H1(i){switch(i){case D.BYTES:case D.STRING:return nt.LengthDelimited;case D.DOUBLE:case D.FIXED64:case D.SFIXED64:return nt.Bit64;case D.FIXED32:case D.SFIXED32:case D.FLOAT:return nt.Bit32;default:return nt.Varint}}function Q1(i,e,a){let s=!1;return a||(a=te(X1),s=!0),a.value=Ji(i,e),a.typeUrl=q1(e.$typeName),s?a:void 0}function $1(i,e){if(i.typeUrl==="")return!1;const a=typeof e=="string"?e:e.typeName,s=P0(i.typeUrl);return a===s}function P1(i,e){if(i.typeUrl==="")return;const a=e.kind=="message"?e:e.getMessage(P0(i.typeUrl));if(!(!a||!$1(i,a)))return gn(a,i.value)}function q1(i){return`type.googleapis.com/${i}`}function P0(i){const e=i.lastIndexOf("/"),a=e>=0?i.substring(e+1):i;if(!a.length)throw new Error(`invalid type url: ${i}`);return a}const oh=hi("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),eE=ce(oh,0),q0=ce(oh,1),tE=ce(oh,2);var Vf;(function(i){i[i.NULL_VALUE=0]="NULL_VALUE"})(Vf||(Vf={}));const nE=hi("Ch5nb29nbGUvcHJvdG9idWYvd3JhcHBlcnMucHJvdG8SD2dvb2dsZS5wcm90b2J1ZiIcCgtEb3VibGVWYWx1ZRINCgV2YWx1ZRgBIAEoASIbCgpGbG9hdFZhbHVlEg0KBXZhbHVlGAEgASgCIhsKCkludDY0VmFsdWUSDQoFdmFsdWUYASABKAMiHAoLVUludDY0VmFsdWUSDQoFdmFsdWUYASABKAQiGwoKSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoBSIcCgtVSW50MzJWYWx1ZRINCgV2YWx1ZRgBIAEoDSIaCglCb29sVmFsdWUSDQoFdmFsdWUYASABKAgiHAoLU3RyaW5nVmFsdWUSDQoFdmFsdWUYASABKAkiGwoKQnl0ZXNWYWx1ZRINCgV2YWx1ZRgBIAEoDEKDAQoTY29tLmdvb2dsZS5wcm90b2J1ZkINV3JhcHBlcnNQcm90b1ABWjFnb29nbGUuZ29sYW5nLm9yZy9wcm90b2J1Zi90eXBlcy9rbm93bi93cmFwcGVyc3Bi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM");function iE(i,e){eb(e,i);const a=rE(i.$unknown,e),[s,o,c]=Lo(e);for(const h of a)F0(s,new Pf(h.data),o,h.wireType,{readUnknownFields:!0});return c()}function aE(i,e,a){var s;eb(e,i);const o=((s=i.$unknown)!==null&&s!==void 0?s:[]).filter(m=>m.no!==e.number),[c,h]=Lo(e,a),d=new D0;H0(d,{writeUnknownFields:!0},c,h);const y=new Pf(d.finish());for(;y.pos<y.len;){const[m,b]=y.tag(),A=y.skip(b,m);o.push({no:m,wireType:b,data:A})}i.$unknown=o}function rE(i,e){if(i===void 0)return[];if(e.fieldKind==="enum"||e.fieldKind==="scalar"){for(let a=i.length-1;a>=0;--a)if(i[a].no==e.number)return[i[a]];return[]}return i.filter(a=>a.no===e.number)}function Lo(i,e){const a=i.typeName,s=Object.assign(Object.assign({},i),{kind:"field",parent:i.extendee,localName:a}),o=Object.assign(Object.assign({},i.extendee),{fields:[s],members:[s],oneofs:[]}),c=te(o,e!==void 0?{[a]:e}:void 0);return[dn(o,c),s,()=>{const h=c[a];if(h===void 0){const d=i.message;return Xs(d)?pa(d.fields[0].scalar,d.fields[0].longAsString):te(d)}return h}]}function eb(i,e){if(i.extendee.typeName!=e.$typeName)throw new Error(`extension ${i.typeName} can only be applied to message ${i.extendee.typeName}`)}const sE=3,lE=2,xp={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function oE(i){return i?Object.assign(Object.assign({},xp),i):xp}function uE(i,e,a){return Js(dn(i,e),oE(a))}function cE(i,e,a){var s;const o=uE(i,e,a);return JSON.stringify(o,null,(s=a?.prettySpaces)!==null&&s!==void 0?s:0)}function Js(i,e){var a;const s=gE(i,e);if(s!==void 0)return s;const o={};for(const c of i.sortedFields){if(!i.isSet(c)){if(c.presence==sE)throw new Error(`cannot encode ${c} to JSON: required field not set`);if(!e.alwaysEmitImplicit||c.presence!==lE)continue}const h=Op(c,i.get(c),e);h!==void 0&&(o[dE(c,e)]=h)}if(e.registry){const c=new Set;for(const{no:h}of(a=i.getUnknown())!==null&&a!==void 0?a:[])if(!c.has(h)){c.add(h);const d=e.registry.getExtensionFor(i.desc,h);if(!d)continue;const y=iE(i.message,d),[m,b]=Lo(d,y),A=Op(b,m.get(b),e);A!==void 0&&(o[d.jsonName]=A)}}return o}function Op(i,e,a){switch(i.fieldKind){case"scalar":return Mo(i,e);case"message":return Js(e,a);case"enum":return uh(i.enum,e,a.enumAsInteger);case"list":return hE(e,a);case"map":return fE(e,a)}}function fE(i,e){const a=i.field(),s={};switch(a.mapKind){case"scalar":for(const[o,c]of i)s[o]=Mo(a,c);break;case"message":for(const[o,c]of i)s[o]=Js(c,e);break;case"enum":for(const[o,c]of i)s[o]=uh(a.enum,c,e.enumAsInteger);break}return e.alwaysEmitImplicit||i.size>0?s:void 0}function hE(i,e){const a=i.field(),s=[];switch(a.listKind){case"scalar":for(const o of i)s.push(Mo(a,o));break;case"enum":for(const o of i)s.push(uh(a.enum,o,e.enumAsInteger));break;case"message":for(const o of i)s.push(Js(o,e));break}return e.alwaysEmitImplicit||s.length>0?s:void 0}function uh(i,e,a){var s;if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: expected number, got ${ht(e)}`);if(i.typeName=="google.protobuf.NullValue")return null;if(a)return e;const o=i.value[e];return(s=o?.name)!==null&&s!==void 0?s:e}function Mo(i,e){var a,s,o,c,h,d;switch(i.scalar){case D.INT32:case D.SFIXED32:case D.SINT32:case D.FIXED32:case D.UINT32:if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: ${(a=ha(i,e))===null||a===void 0?void 0:a.message}`);return e;case D.FLOAT:case D.DOUBLE:if(typeof e!="number")throw new Error(`cannot encode ${i} to JSON: ${(s=ha(i,e))===null||s===void 0?void 0:s.message}`);return Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case D.STRING:if(typeof e!="string")throw new Error(`cannot encode ${i} to JSON: ${(o=ha(i,e))===null||o===void 0?void 0:o.message}`);return e;case D.BOOL:if(typeof e!="boolean")throw new Error(`cannot encode ${i} to JSON: ${(c=ha(i,e))===null||c===void 0?void 0:c.message}`);return e;case D.UINT64:case D.FIXED64:case D.INT64:case D.SFIXED64:case D.SINT64:if(typeof e!="bigint"&&typeof e!="string")throw new Error(`cannot encode ${i} to JSON: ${(h=ha(i,e))===null||h===void 0?void 0:h.message}`);return e.toString();case D.BYTES:if(e instanceof Uint8Array)return n1(e);throw new Error(`cannot encode ${i} to JSON: ${(d=ha(i,e))===null||d===void 0?void 0:d.message}`)}}function dE(i,e){return e.useProtoFieldName?i.name:i.jsonName}function gE(i,e){if(i.desc.typeName.startsWith("google.protobuf."))switch(i.desc.typeName){case"google.protobuf.Any":return mE(i.message,e);case"google.protobuf.Timestamp":return bE(i.message);case"google.protobuf.Duration":return yE(i.message);case"google.protobuf.FieldMask":return pE(i.message);case"google.protobuf.Struct":return tb(i.message);case"google.protobuf.Value":return ch(i.message);case"google.protobuf.ListValue":return nb(i.message);default:if(Xs(i.desc)){const a=i.desc.fields[0];return Mo(a,i.get(a))}return}}function mE(i,e){if(i.typeUrl==="")return{};const{registry:a}=e;let s,o;if(a&&(s=P1(i,a),s&&(o=a.getMessage(s.$typeName))),!o||!s)throw new Error(`cannot encode message ${i.$typeName} to JSON: "${i.typeUrl}" is not in the type registry`);let c=Js(dn(o,s),e);return(o.typeName.startsWith("google.protobuf.")||c===null||Array.isArray(c)||typeof c!="object")&&(c={value:c}),c["@type"]=i.typeUrl,c}function yE(i){const e=Number(i.seconds),a=i.nanos;if(e>315576e6||e<-315576e6)throw new Error(`cannot encode message ${i.$typeName} to JSON: value out of range`);if(e>0&&a<0||e<0&&a>0)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos sign must match seconds sign`);let s=i.seconds.toString();if(a!==0){let o=Math.abs(a).toString();o="0".repeat(9-o.length)+o,o.substring(3)==="000000"?o=o.substring(0,3):o.substring(6)==="000"&&(o=o.substring(0,6)),s+="."+o,a<0&&e==0&&(s="-"+s)}return s+"s"}function pE(i){return i.paths.map(e=>{if(e.match(/_[0-9]?_/g)||e.match(/[A-Z]/g))throw new Error(`cannot encode message ${i.$typeName} to JSON: lowerCamelCase of path name "`+e+'" is irreversible');return Bs(e)}).join(",")}function tb(i){const e={};for(const[a,s]of Object.entries(i.fields))e[a]=ch(s);return e}function ch(i){switch(i.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(i.kind.value))throw new Error(`${i.$typeName} cannot be NaN or Infinity`);return i.kind.value;case"boolValue":return i.kind.value;case"stringValue":return i.kind.value;case"structValue":return tb(i.kind.value);case"listValue":return nb(i.kind.value);default:throw new Error(`${i.$typeName} must have a value`)}}function nb(i){return i.values.map(ch)}function bE(i){const e=Number(i.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${i.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(i.nanos<0)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos must not be negative`);if(i.nanos>999999999)throw new Error(`cannot encode message ${i.$typeName} to JSON: nanos must not be greater than 99999999`);let a="Z";if(i.nanos>0){const s=(i.nanos+1e9).toString().substring(1);s.substring(3)==="000000"?a="."+s.substring(0,3)+"Z":s.substring(6)==="000"?a="."+s.substring(0,6)+"Z":a="."+s+"Z"}return new Date(e).toISOString().replace(".000Z",a)}const Vp={ignoreUnknownFields:!1};function vE(i){return i?Object.assign(Object.assign({},Vp),i):Vp}function AE(i,e,a){return SE(i,wE(e,i.typeName),a)}function SE(i,e,a){const s=dn(i);try{yr(s,e,vE(a))}catch(o){throw HS(o)?new Error(`cannot decode ${o.field()} from JSON: ${o.message}`,{cause:o}):o}return s.message}function yr(i,e,a){var s;if(DE(i,e,a))return;if(e==null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode ${i.desc} from JSON: ${ht(e)}`);const o=new Map,c=new Map;for(const h of i.desc.fields)c.set(h.name,h).set(h.jsonName,h);for(const[h,d]of Object.entries(e)){const y=c.get(h);if(y){if(y.oneof){if(d===null&&y.fieldKind=="scalar")continue;const m=o.get(y.oneof);if(m!==void 0)throw new Zt(y.oneof,`oneof set multiple times by ${m.name} and ${y.name}`);o.set(y.oneof,y)}Up(i,y,d,a)}else{let m;if(h.startsWith("[")&&h.endsWith("]")&&(m=(s=a.registry)===null||s===void 0?void 0:s.getExtension(h.substring(1,h.length-1)))&&m.extendee.typeName===i.desc.typeName){const[b,A,w]=Lo(m);Up(b,A,d,a),aE(i.message,m,w())}if(!m&&!a.ignoreUnknownFields)throw new Error(`cannot decode ${i.desc} from JSON: key "${h}" is unknown`)}}}function Up(i,e,a,s){switch(e.fieldKind){case"scalar":CE(i,e,a);break;case"enum":RE(i,e,a,s);break;case"message":TE(i,e,a,s);break;case"list":NE(i.get(e),a,s);break;case"map":EE(i.get(e),a,s);break}}function EE(i,e,a){if(e===null)return;const s=i.field();if(typeof e!="object"||Array.isArray(e))throw new Zt(s,"expected object, got "+ht(e));for(const[o,c]of Object.entries(e)){if(c===null)throw new Zt(s,"map value must not be null");let h;switch(s.mapKind){case"message":const y=dn(s.message);yr(y,c,a),h=y;break;case"enum":if(h=fh(s.enum,c,a.ignoreUnknownFields,!0),h===Zo)return;break;case"scalar":h=Yo(s,c,!0);break}const d=IE(s.mapKey,o);i.set(d,h)}}function NE(i,e,a){if(e===null)return;const s=i.field();if(!Array.isArray(e))throw new Zt(s,"expected Array, got "+ht(e));for(const o of e){if(o===null)throw new Zt(s,"list item must not be null");switch(s.listKind){case"message":const c=dn(s.message);yr(c,o,a),i.add(c);break;case"enum":const h=fh(s.enum,o,a.ignoreUnknownFields,!0);h!==Zo&&i.add(h);break;case"scalar":i.add(Yo(s,o,!0));break}}}function TE(i,e,a,s){if(a===null&&e.message.typeName!="google.protobuf.Value"){i.clear(e);return}const o=i.isSet(e)?i.get(e):dn(e.message);yr(o,a,s),i.set(e,o)}function RE(i,e,a,s){const o=fh(e.enum,a,s.ignoreUnknownFields,!1);o===zo?i.clear(e):o!==Zo&&i.set(e,o)}function CE(i,e,a){const s=Yo(e,a,!1);s===zo?i.clear(e):i.set(e,s)}const Zo=Symbol();function fh(i,e,a,s){if(e===null)return i.typeName=="google.protobuf.NullValue"?0:s?i.values[0].number:zo;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const o=i.values.find(c=>c.name===e);if(o!==void 0)return o.number;if(a)return Zo;break}throw new Error(`cannot decode ${i} from JSON: ${ht(e)}`)}const zo=Symbol();function Yo(i,e,a){if(e===null)return a?pa(i.scalar,!1):zo;switch(i.scalar){case D.DOUBLE:case D.FLOAT:if(e==="NaN")return NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof e=="number"){if(Number.isNaN(e))throw new Zt(i,"unexpected NaN number");if(!Number.isFinite(e))throw new Zt(i,"unexpected infinite number");break}if(typeof e=="string"){if(e===""||e.trim().length!==e.length)break;const s=Number(e);if(!Number.isFinite(s))break;return s}break;case D.INT32:case D.FIXED32:case D.SFIXED32:case D.SINT32:case D.UINT32:return ib(e);case D.BYTES:if(typeof e=="string"){if(e==="")return new Uint8Array(0);try{return ah(e)}catch(s){const o=s instanceof Error?s.message:String(s);throw new Zt(i,o)}}break}return e}function IE(i,e){switch(i){case D.BOOL:switch(e){case"true":return!0;case"false":return!1}return e;case D.INT32:case D.FIXED32:case D.UINT32:case D.SFIXED32:case D.SINT32:return ib(e);default:return e}}function ib(i){if(typeof i=="string"){if(i===""||i.trim().length!==i.length)return i;const e=Number(i);return Number.isNaN(e)?i:e}return i}function wE(i,e){try{return JSON.parse(i)}catch(a){const s=a instanceof Error?a.message:String(a);throw new Error(`cannot decode message ${e} from JSON: ${s}`,{cause:a})}}function DE(i,e,a){if(!i.desc.typeName.startsWith("google.protobuf."))return!1;switch(i.desc.typeName){case"google.protobuf.Any":return xE(i.message,e,a),!0;case"google.protobuf.Timestamp":return OE(i.message,e),!0;case"google.protobuf.Duration":return VE(i.message,e),!0;case"google.protobuf.FieldMask":return UE(i.message,e),!0;case"google.protobuf.Struct":return ab(i.message,e),!0;case"google.protobuf.Value":return hh(i.message,e),!0;case"google.protobuf.ListValue":return rb(i.message,e),!0;default:if(Xs(i.desc)){const s=i.desc.fields[0];return e===null?i.clear(s):i.set(s,Yo(s,e,!0)),!0}return!1}}function xE(i,e,a){var s;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message ${i.$typeName} from JSON: expected object but got ${ht(e)}`);if(Object.keys(e).length==0)return;const o=e["@type"];if(typeof o!="string"||o=="")throw new Error(`cannot decode message ${i.$typeName} from JSON: "@type" is empty`);const c=o.includes("/")?o.substring(o.lastIndexOf("/")+1):o;if(!c.length)throw new Error(`cannot decode message ${i.$typeName} from JSON: "@type" is invalid`);const h=(s=a.registry)===null||s===void 0?void 0:s.getMessage(c);if(!h)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${o} is not in the type registry`);const d=dn(h);if(c.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value")){const y=e.value;yr(d,y,a)}else{const y=Object.assign({},e);delete y["@type"],yr(d,y,a)}Q1(d.desc,d.message,i)}function OE(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ht(e)}`);const a=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!a)throw new Error(`cannot decode message ${i.$typeName} from JSON: invalid RFC 3339 string`);const s=Date.parse(a[1]+"-"+a[2]+"-"+a[3]+"T"+a[4]+":"+a[5]+":"+a[6]+(a[8]?a[8]:"Z"));if(Number.isNaN(s))throw new Error(`cannot decode message ${i.$typeName} from JSON: invalid RFC 3339 string`);if(s<Date.parse("0001-01-01T00:00:00Z")||s>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${i.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);i.seconds=je.parse(s/1e3),i.nanos=0,a[7]&&(i.nanos=parseInt("1"+a[7]+"0".repeat(9-a[7].length))-1e9)}function VE(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ht(e)}`);const a=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(a===null)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ht(e)}`);const s=Number(a[1]);if(s>315576e6||s<-315576e6)throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ht(e)}`);if(i.seconds=je.parse(s),typeof a[2]!="string")return;const o=a[2]+"0".repeat(9-a[2].length);i.nanos=parseInt(o),(s<0||Object.is(s,-0))&&(i.nanos=-i.nanos)}function UE(i,e){if(typeof e!="string")throw new Error(`cannot decode message ${i.$typeName} from JSON: ${ht(e)}`);if(e==="")return;function a(s){if(s.includes("_"))throw new Error(`cannot decode message ${i.$typeName} from JSON: path names must be lowerCamelCase`);const o=s.replace(/[A-Z]/g,c=>"_"+c.toLowerCase());return o[0]==="_"?o.substring(1):o}i.paths=e.split(",").map(a)}function ab(i,e){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error(`cannot decode message ${i.$typeName} from JSON ${ht(e)}`);for(const[a,s]of Object.entries(e)){const o=te(q0);hh(o,s),i.fields[a]=o}}function hh(i,e){switch(typeof e){case"number":i.kind={case:"numberValue",value:e};break;case"string":i.kind={case:"stringValue",value:e};break;case"boolean":i.kind={case:"boolValue",value:e};break;case"object":if(e===null)i.kind={case:"nullValue",value:Vf.NULL_VALUE};else if(Array.isArray(e)){const a=te(tE);rb(a,e),i.kind={case:"listValue",value:a}}else{const a=te(eE);ab(a,e),i.kind={case:"structValue",value:a}}break;default:throw new Error(`cannot decode message ${i.$typeName} from JSON ${ht(e)}`)}return i}function rb(i,e){if(!Array.isArray(e))throw new Error(`cannot decode message ${i.$typeName} from JSON ${ht(e)}`);for(const a of e){const s=te(q0);hh(s,a),i.values.push(s)}}function Bp(i){const e=pe[i];return typeof e!="string"?i.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,a=>"_"+a.toLowerCase())}class Ue extends Error{constructor(e,a=pe.Unknown,s,o,c){super(BE(e,a)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=a,this.metadata=new Headers(s??{}),this.details=o??[],this.cause=c}static from(e,a=pe.Unknown){return e instanceof Ue?e:e instanceof Error?e.name=="AbortError"||e.name=="TimeoutError"?new Ue(e.message,pe.Canceled):new Ue(e.message,a,void 0,void 0,e):new Ue(String(e),a,void 0,void 0,e)}static[Symbol.hasInstance](e){return e instanceof Error?Object.getPrototypeOf(e)===Ue.prototype?!0:e.name==="ConnectError"&&"code"in e&&typeof e.code=="number"&&"metadata"in e&&"details"in e&&Array.isArray(e.details)&&"rawMessage"in e&&typeof e.rawMessage=="string"&&"cause"in e:!1}findDetails(e){const a=e.kind==="message"?{getMessage:o=>o===e.typeName?e:void 0}:e,s=[];for(const o of this.details){if("desc"in o){a.getMessage(o.desc.typeName)&&s.push(te(o.desc,o.value));continue}const c=a.getMessage(o.type);if(c)try{s.push(gn(c,o.value))}catch{}}return s}}function BE(i,e){return i.length?`[${Bp(e)}] ${i}`:`[${Bp(e)}]`}function LE(i,e,a){try{const s=ah(i);return e?gn(e,s,a):s}catch(s){throw Ue.from(s,pe.DataLoss)}}function ME(i,e){const a={};for(const s of i.methods){const o=e(s);o!=null&&(a[s.localName]=o)}return a}const Lp=1;function ZE(i,e,a=!1){if(e>i){let s=`message size is larger than configured readMaxBytes ${i}`;throw a&&(s=`message size ${e} is larger than configured readMaxBytes ${i}`),new Ue(s,pe.ResourceExhausted)}}function zE(i){return new YE(i)}class YE{constructor(e){this.readMaxBytes=e,this.header=new Uint8Array(5),this.headerView=new DataView(this.header.buffer),this.buf=[]}get byteLength(){return this.buf.reduce((e,a)=>e+a.byteLength,0)}decode(e){this.buf.push(e);const a=[];for(;;){let s=this.pop();if(!s)break;a.push(s)}return a}pop(){if(!(!this.env&&(this.env=this.head(),!this.env))&&this.cons(this.env.data)){const e=this.env;return this.env=void 0,e}}head(){if(!this.cons(this.header))return;const e=this.headerView.getUint8(0),a=this.headerView.getUint32(1);return ZE(this.readMaxBytes,a,!0),{flags:e,data:new Uint8Array(a)}}cons(e){const a=e.byteLength;if(this.byteLength<a)return!1;let s=0;for(;s<a;){const o=this.buf.shift();o.byteLength>a-s?(e.set(o.subarray(0,a-s),s),this.buf.unshift(o.subarray(a-s)),s+=a-s):(e.set(o,s),s+=o.byteLength)}return!0}}function Mp(i){let e;const a=zE(4294967295);return new ReadableStream({start(){e=i.getReader()},async pull(s){let o=!1;for(;!o;){const c=await e.read();if(c.done)a.byteLength>0&&s.error(new Ue("protocol error: incomplete envelope",pe.InvalidArgument)),s.close();else for(const h of a.decode(c.value))s.enqueue(h),o=!0}}})}function Zp(i,e){const a=new Uint8Array(e.length+5);a.set(e,5);const s=new DataView(a.buffer,a.byteOffset,a.byteLength);return s.setUint8(0,i),s.setUint32(1,e.length),a}var GE=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],a;return e?e.call(i):(i=typeof __values=="function"?__values(i):i[Symbol.iterator](),a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a);function s(c){a[c]=i[c]&&function(h){return new Promise(function(d,y){h=i[c](h),o(d,y,h.done,h.value)})}}function o(c,h,d,y){Promise.resolve(y).then(function(m){c({value:m,done:d})},h)}},Zs=function(i){return this instanceof Zs?(this.v=i,this):new Zs(i)},_E=function(i,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(i,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(R){return function(C){return Promise.resolve(C).then(R,A)}}function d(R,C){s[R]&&(o[R]=function(V){return new Promise(function(G,H){c.push([R,V,G,H])>1||y(R,V)})},C&&(o[R]=C(o[R])))}function y(R,C){try{m(s[R](C))}catch(V){w(c[0][3],V)}}function m(R){R.value instanceof Zs?Promise.resolve(R.value.v).then(b,A):w(c[0][2],R)}function b(R){y("next",R)}function A(R){y("throw",R)}function w(R,C){R(C),c.shift(),c.length&&y(c[0][0],c[0][1])}},WE=function(i){var e,a;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,c){e[o]=i[o]?function(h){return(a=!a)?{value:Zs(i[o](h)),done:!1}:c?c(h):h}:c}};function KE(i){return _E(this,arguments,function*(){yield Zs(yield*WE(GE(i)))})}var sb=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],a;return e?e.call(i):(i=typeof __values=="function"?__values(i):i[Symbol.iterator](),a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a);function s(c){a[c]=i[c]&&function(h){return new Promise(function(d,y){h=i[c](h),o(d,y,h.done,h.value)})}}function o(c,h,d,y){Promise.resolve(y).then(function(m){c({value:m,done:d})},h)}},pr=function(i){return this instanceof pr?(this.v=i,this):new pr(i)},XE=function(i){var e,a;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,c){e[o]=i[o]?function(h){return(a=!a)?{value:pr(i[o](h)),done:!1}:c?c(h):h}:c}},JE=function(i,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(i,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(R){return function(C){return Promise.resolve(C).then(R,A)}}function d(R,C){s[R]&&(o[R]=function(V){return new Promise(function(G,H){c.push([R,V,G,H])>1||y(R,V)})},C&&(o[R]=C(o[R])))}function y(R,C){try{m(s[R](C))}catch(V){w(c[0][3],V)}}function m(R){R.value instanceof pr?Promise.resolve(R.value.v).then(b,A):w(c[0][2],R)}function b(R){y("next",R)}function A(R){y("throw",R)}function w(R,C){R(C),c.shift(),c.length&&y(c[0][0],c[0][1])}};function kE(i,e){return ME(i,a=>{switch(a.methodKind){case"unary":return FE(e,a);case"server_streaming":return jE(e,a);case"client_streaming":return HE(e,a);case"bidi_streaming":return QE(e,a);default:return null}})}function FE(i,e){return async(a,s)=>{var o,c;const h=await i.unary(e,s?.signal,s?.timeoutMs,s?.headers,a,s?.contextValues);return(o=s?.onHeader)===null||o===void 0||o.call(s,h.header),(c=s?.onTrailer)===null||c===void 0||c.call(s,h.trailer),h.message}}function jE(i,e){return(a,s)=>lb(i.stream(e,s?.signal,s?.timeoutMs,s?.headers,KE([a]),s?.contextValues),s)}function HE(i,e){return async(a,s)=>{var o,c,h,d,y,m;const b=await i.stream(e,s?.signal,s?.timeoutMs,s?.headers,a,s?.contextValues);(y=s?.onHeader)===null||y===void 0||y.call(s,b.header);let A,w=0;try{for(var R=!0,C=sb(b.message),V;V=await C.next(),o=V.done,!o;R=!0)d=V.value,R=!1,A=d,w++}catch(G){c={error:G}}finally{try{!R&&!o&&(h=C.return)&&await h.call(C)}finally{if(c)throw c.error}}if(!A)throw new Ue("protocol error: missing response message",pe.Unimplemented);if(w>1)throw new Ue("protocol error: received extra messages for client streaming method",pe.Unimplemented);return(m=s?.onTrailer)===null||m===void 0||m.call(s,b.trailer),A}}function QE(i,e){return(a,s)=>lb(i.stream(e,s?.signal,s?.timeoutMs,s?.headers,a,s?.contextValues),s)}function lb(i,e){const a=(function(){return JE(this,arguments,function*(){var s,o;const c=yield pr(i);(s=e?.onHeader)===null||s===void 0||s.call(e,c.header),yield pr(yield*XE(sb(c.message))),(o=e?.onTrailer)===null||o===void 0||o.call(e,c.trailer)})})()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>a.next()})}}function $E(...i){const e=new AbortController,a=i.filter(o=>o!==void 0).concat(e.signal);for(const o of a){if(o.aborted){s.apply(o);break}o.addEventListener("abort",s)}function s(){e.signal.aborted||e.abort(ob(this));for(const o of a)o.removeEventListener("abort",s)}return e}function PE(i){const e=new AbortController,a=()=>{e.abort(new Ue("the operation timed out",pe.DeadlineExceeded))};let s;return i!==void 0&&(i<=0?a():s=setTimeout(a,i)),{signal:e.signal,cleanup:()=>clearTimeout(s)}}function ob(i){if(!i.aborted)return;if(i.reason!==void 0)return i.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function zp(){return{get(i){return i.id in this?this[i.id]:i.defaultValue},set(i,e){return this[i.id]=e,this},delete(i){return delete this[i.id],this}}}const Ef=128;function Yp(i){const e=new Headers,a=new TextDecoder().decode(i).split(`\r
`);for(const s of a){if(s==="")continue;const o=s.indexOf(":");if(o>0){const c=s.substring(0,o).trim(),h=s.substring(o+1).trim();e.append(c,h)}}return e}const qE="Content-Type",e2="Grpc-Timeout",br="Grpc-Status",ub="Grpc-Message",t2="Grpc-Status-Details-Bin",n2="User-Agent",Gp="X-User-Agent",i2="X-Grpc-Web",a2="application/grpc-web+proto",r2="application/grpc-web+json";function s2(i,e,...a){if(a.length>0)throw new Error;return i.services[e]}const l2=hi("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[j0]),o2=ce(l2,0),u2="0";function cb(i){var e;const a=i.get(t2);if(a!=null){const o=LE(a,o2);if(o.code==0)return;const c=new Ue(o.message,o.code,i);return c.details=o.details.map(h=>({type:h.typeUrl.substring(h.typeUrl.lastIndexOf("/")+1),value:h.value})),c}const s=i.get(br);if(s!=null){if(s===u2)return;const o=parseInt(s,10);return o in pe?new Ue(decodeURIComponent((e=i.get(ub))!==null&&e!==void 0?e:""),o,i):new Ue(`invalid grpc-status: ${s}`,pe.Internal,i)}}function _p(i,e){return i.toString().replace(/\/?$/,`/${e.parent.typeName}/${e.name}`)}function fb(i,e){return te(i,e)}function c2(i,e){function a(s){return s.done===!0?s:{done:s.done,value:fb(i,s.value)}}return{[Symbol.asyncIterator](){const s=e[Symbol.asyncIterator](),o={next:()=>s.next().then(a)};return s.throw!==void 0&&(o.throw=c=>s.throw(c).then(a)),s.return!==void 0&&(o.return=c=>s.return(c).then(a)),o}}}function hb(i,e){if(!e)return i;for(const a of e.concat().reverse())i=a(i);return i}function f2(i){var e;const a=Object.assign({},i);return(e=a.ignoreUnknownFields)!==null&&e!==void 0||(a.ignoreUnknownFields=!0),a}function Wp(i,e,a,s){const o=e?Kp(i.input,s):Xp(i.input,a);return{parse:(e?Kp(i.output,s):Xp(i.output,a)).parse,serialize:o.serialize}}function Kp(i,e){return{parse(a){try{return gn(i,a,e)}catch(s){const o=s instanceof Error?s.message:String(s);throw new Ue(`parse binary: ${o}`,pe.Internal)}},serialize(a){try{return Ji(i,a,e)}catch(s){const o=s instanceof Error?s.message:String(s);throw new Ue(`serialize binary: ${o}`,pe.Internal)}}}}function Xp(i,e){var a,s;const o=(a=e?.textEncoder)!==null&&a!==void 0?a:new TextEncoder,c=(s=e?.textDecoder)!==null&&s!==void 0?s:new TextDecoder,h=f2(e);return{parse(d){try{const y=c.decode(d);return AE(i,y,h)}catch(y){throw Ue.from(y,pe.InvalidArgument)}},serialize(d){try{const y=cE(i,d,h);return o.encode(y)}catch(y){throw Ue.from(y,pe.Internal)}}}}function h2(i){const e=hb(i.next,i.interceptors),[a,s,o]=db(i),c=Object.assign(Object.assign({},i.req),{message:fb(i.req.method.input,i.req.message),signal:a});return e(c).then(h=>(o(),h),s)}function d2(i){const e=hb(i.next,i.interceptors),[a,s,o]=db(i),c=Object.assign(Object.assign({},i.req),{message:c2(i.req.method.input,i.req.message),signal:a});let h=!1;return a.addEventListener("abort",function(){var d,y;const m=i.req.message[Symbol.asyncIterator]();h||(d=m.throw)===null||d===void 0||d.call(m,this.reason).catch(()=>{}),(y=m.return)===null||y===void 0||y.call(m).catch(()=>{})}),e(c).then(d=>Object.assign(Object.assign({},d),{message:{[Symbol.asyncIterator](){const y=d.message[Symbol.asyncIterator]();return{next(){return y.next().then(m=>(m.done==!0&&(h=!0,o()),m),s)}}}}}),s)}function db(i){const{signal:e,cleanup:a}=PE(i.timeoutMs),s=$E(i.signal,e);return[s.signal,function(c){const h=Ue.from(e.aborted?ob(e):c);return s.abort(h),a(),Promise.reject(h)},function(){a(),s.abort()}]}function g2(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Jp(i,e){const a=cb(i);if(a)throw e.forEach((s,o)=>{a.metadata.append(o,s)}),a;if(!e.has(br)&&!i.has(br))throw new Ue("protocol error: missing status",pe.Internal)}function kp(i,e,a,s){var o,c;const h=new Headers(a??{});h.set(qE,i?a2:r2),h.set(i2,"1");const d=(c=(o=h.get(n2))!==null&&o!==void 0?o:h.get(Gp))!==null&&c!==void 0?c:"connect-es/2.1.1";return h.set(Gp,d),e!==void 0&&h.set(e2,`${e}m`),h}function m2(i){switch(i){case 400:return pe.Internal;case 401:return pe.Unauthenticated;case 403:return pe.PermissionDenied;case 404:return pe.Unimplemented;case 429:return pe.Unavailable;case 502:return pe.Unavailable;case 503:return pe.Unavailable;case 504:return pe.Unavailable;default:return pe.Unknown}}function Fp(i,e){var a;if(i>=200&&i<300)return{foundStatus:e.has(br),headerError:cb(e)};throw new Ue(decodeURIComponent((a=e.get(ub))!==null&&a!==void 0?a:`HTTP ${i}`),m2(i),e)}var ma=function(i){return this instanceof ma?(this.v=i,this):new ma(i)},y2=function(i,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(i,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(R){return function(C){return Promise.resolve(C).then(R,A)}}function d(R,C){s[R]&&(o[R]=function(V){return new Promise(function(G,H){c.push([R,V,G,H])>1||y(R,V)})},C&&(o[R]=C(o[R])))}function y(R,C){try{m(s[R](C))}catch(V){w(c[0][3],V)}}function m(R){R.value instanceof ma?Promise.resolve(R.value.v).then(b,A):w(c[0][2],R)}function b(R){y("next",R)}function A(R){y("throw",R)}function w(R,C){R(C),c.shift(),c.length&&y(c[0][0],c[0][1])}};const jp={redirect:"error"};function p2(i){var e;g2();const a=(e=i.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(s,o,c,h,d,y){const{serialize:m,parse:b}=Wp(s,a,i.jsonOptions,i.binaryOptions);return c=c===void 0?i.defaultTimeoutMs:c<=0?void 0:c,await h2({interceptors:i.interceptors,signal:o,timeoutMs:c,req:{stream:!1,service:s.parent,method:s,requestMethod:"POST",url:_p(i.baseUrl,s),header:kp(a,c,h),contextValues:y??zp(),message:d},next:async A=>{var w;const C=await((w=i.fetch)!==null&&w!==void 0?w:globalThis.fetch)(A.url,Object.assign(Object.assign({},jp),{method:A.requestMethod,headers:A.header,signal:A.signal,body:Zp(0,m(A.message))})),{headerError:V}=Fp(C.status,C.headers);if(!C.body)throw V!==void 0?V:"missing response body";const G=Mp(C.body).getReader();let H,q;for(;;){const X=await G.read();if(X.done)break;const{flags:ne,data:J}=X.value;if((ne&Lp)===Lp)throw new Ue("protocol error: received unsupported compressed output",pe.Internal);if(ne===Ef){if(H!==void 0)throw"extra trailer";H=Yp(J);continue}if(q!==void 0)throw new Ue("extra message",pe.Unimplemented);q=b(J)}if(H===void 0)throw V!==void 0?V:new Ue("missing trailer",C.headers.has(br)?pe.Unimplemented:pe.Unknown);if(Jp(H,C.headers),q===void 0)throw new Ue("missing message",H.has(br)?pe.Unimplemented:pe.Unknown);return{stream:!1,service:s.parent,method:s,header:C.headers,message:q,trailer:H}}})},async stream(s,o,c,h,d,y){const{serialize:m,parse:b}=Wp(s,a,i.jsonOptions,i.binaryOptions);function A(R,C,V,G,H){return y2(this,arguments,function*(){const X=Mp(R).getReader();if(C){if(!(yield ma(X.read())).done)throw"extra data for trailers-only";return yield ma(void 0)}let ne=!1;for(;;){const J=yield ma(X.read());if(J.done)break;const{flags:K,data:W}=J.value;if((K&Ef)===Ef){if(ne)throw"extra trailer";ne=!0;const ae=Yp(W);Jp(ae,G),ae.forEach((Je,dt)=>V.set(dt,Je));continue}if(ne)throw"extra message";yield yield ma(b(W))}if("throwIfAborted"in H&&H.throwIfAborted(),!ne)throw"missing trailer"})}async function w(R){if(s.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const C=await R[Symbol.asyncIterator]().next();if(C.done==!0)throw"missing request message";return Zp(0,m(C.value))}return c=c===void 0?i.defaultTimeoutMs:c<=0?void 0:c,d2({interceptors:i.interceptors,signal:o,timeoutMs:c,req:{stream:!0,service:s.parent,method:s,requestMethod:"POST",url:_p(i.baseUrl,s),header:kp(a,c,h),contextValues:y??zp(),message:d},next:async R=>{var C;const G=await((C=i.fetch)!==null&&C!==void 0?C:globalThis.fetch)(R.url,Object.assign(Object.assign({},jp),{method:R.requestMethod,headers:R.header,signal:R.signal,body:await w(R.message)})),{foundStatus:H,headerError:q}=Fp(G.status,G.headers);if(q!=null)throw q;if(!G.body)throw"missing response body";const X=new Headers;return Object.assign(Object.assign({},R),{header:G.headers,trailer:X,message:A(G.body,H,X,G.headers,R.signal)})}})}}}const ye=hi("CiFzcmMvYXBpL3lvcmtpZS92MS9yZXNvdXJjZXMucHJvdG8SCXlvcmtpZS52MSKuAQoIU25hcHNob3QSJAoEcm9vdBgBIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudBI1CglwcmVzZW5jZXMYAiADKAsyIi55b3JraWUudjEuU25hcHNob3QuUHJlc2VuY2VzRW50cnkaRQoOUHJlc2VuY2VzRW50cnkSCwoDa2V5GAEgASgJEiIKBXZhbHVlGAIgASgLMhMueW9ya2llLnYxLlByZXNlbmNlOgI4ASL7AQoKQ2hhbmdlUGFjaxIUCgxkb2N1bWVudF9rZXkYASABKAkSKQoKY2hlY2twb2ludBgCIAEoCzIVLnlvcmtpZS52MS5DaGVja3BvaW50EhAKCHNuYXBzaG90GAMgASgMEiIKB2NoYW5nZXMYBCADKAsyES55b3JraWUudjEuQ2hhbmdlEjAKEW1pbl9zeW5jZWRfdGlja2V0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSEgoKaXNfcmVtb3ZlZBgGIAEoCBIwCg52ZXJzaW9uX3ZlY3RvchgHIAEoCzIYLnlvcmtpZS52MS5WZXJzaW9uVmVjdG9yIpgBCgZDaGFuZ2USHwoCaWQYASABKAsyEy55b3JraWUudjEuQ2hhbmdlSUQSDwoHbWVzc2FnZRgCIAEoCRIoCgpvcGVyYXRpb25zGAMgAygLMhQueW9ya2llLnYxLk9wZXJhdGlvbhIyCg9wcmVzZW5jZV9jaGFuZ2UYBCABKAsyGS55b3JraWUudjEuUHJlc2VuY2VDaGFuZ2UihwEKCENoYW5nZUlEEhIKCmNsaWVudF9zZXEYASABKA0SEgoKc2VydmVyX3NlcRgCIAEoAxIPCgdsYW1wb3J0GAMgASgDEhAKCGFjdG9yX2lkGAQgASgMEjAKDnZlcnNpb25fdmVjdG9yGAUgASgLMhgueW9ya2llLnYxLlZlcnNpb25WZWN0b3IidAoNVmVyc2lvblZlY3RvchI0CgZ2ZWN0b3IYASADKAsyJC55b3JraWUudjEuVmVyc2lvblZlY3Rvci5WZWN0b3JFbnRyeRotCgtWZWN0b3JFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAM6AjgBIqwaCglPcGVyYXRpb24SJwoDc2V0GAEgASgLMhgueW9ya2llLnYxLk9wZXJhdGlvbi5TZXRIABInCgNhZGQYAiABKAsyGC55b3JraWUudjEuT3BlcmF0aW9uLkFkZEgAEikKBG1vdmUYAyABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLk1vdmVIABItCgZyZW1vdmUYBCABKAsyGy55b3JraWUudjEuT3BlcmF0aW9uLlJlbW92ZUgAEikKBGVkaXQYBSABKAsyGS55b3JraWUudjEuT3BlcmF0aW9uLkVkaXRIABIrCgVzdHlsZRgHIAEoCzIaLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGVIABIxCghpbmNyZWFzZRgIIAEoCzIdLnlvcmtpZS52MS5PcGVyYXRpb24uSW5jcmVhc2VIABIyCgl0cmVlX2VkaXQYCSABKAsyHS55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0SAASNAoKdHJlZV9zdHlsZRgKIAEoCzIeLnlvcmtpZS52MS5PcGVyYXRpb24uVHJlZVN0eWxlSAASMgoJYXJyYXlfc2V0GAsgASgLMh0ueW9ya2llLnYxLk9wZXJhdGlvbi5BcnJheVNldEgAGp0BCgNTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBILCgNrZXkYAiABKAkSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrAAQoDQWRkEjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSLgoPcHJldl9jcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq/AQoETW92ZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Ei4KD3ByZXZfY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCmNyZWF0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtleGVjdXRlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GpEBCgZSZW1vdmUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKgoLZXhlY3V0ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBrZAwoERWRpdBIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSUwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyMi55b3JraWUudjEuT3BlcmF0aW9uLkVkaXQuQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5Eg8KB2NvbnRlbnQYBSABKAkSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBI9CgphdHRyaWJ1dGVzGAcgAygLMikueW9ya2llLnYxLk9wZXJhdGlvbi5FZGl0LkF0dHJpYnV0ZXNFbnRyeRpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGjEKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBGssDCgVTdHlsZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EiQKBGZyb20YAiABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSIgoCdG8YAyABKAsyFi55b3JraWUudjEuVGV4dE5vZGVQb3MSPgoKYXR0cmlidXRlcxgEIAMoCzIqLnlvcmtpZS52MS5PcGVyYXRpb24uU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSVAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBiADKAsyMy55b3JraWUudjEuT3BlcmF0aW9uLlN0eWxlLkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRoxCg9BdHRyaWJ1dGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJOgI4ARpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGpUBCghJbmNyZWFzZRIwChFwYXJlbnRfY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EisKBXZhbHVlGAIgASgLMhwueW9ya2llLnYxLkpTT05FbGVtZW50U2ltcGxlEioKC2V4ZWN1dGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQakwMKCFRyZWVFZGl0EjAKEXBhcmVudF9jcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIAoEZnJvbRgCIAEoCzISLnlvcmtpZS52MS5UcmVlUG9zEh4KAnRvGAMgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSVwoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYBCADKAsyNi55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVFZGl0LkNyZWF0ZWRBdE1hcEJ5QWN0b3JFbnRyeRImCghjb250ZW50cxgFIAMoCzIULnlvcmtpZS52MS5UcmVlTm9kZXMSEwoLc3BsaXRfbGV2ZWwYByABKAUSKgoLZXhlY3V0ZWRfYXQYBiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBpRChhDcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkSCwoDa2V5GAEgASgJEiQKBXZhbHVlGAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQ6AjgBGu0DCglUcmVlU3R5bGUSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIgCgRmcm9tGAIgASgLMhIueW9ya2llLnYxLlRyZWVQb3MSHgoCdG8YAyABKAsyEi55b3JraWUudjEuVHJlZVBvcxJCCgphdHRyaWJ1dGVzGAQgAygLMi4ueW9ya2llLnYxLk9wZXJhdGlvbi5UcmVlU3R5bGUuQXR0cmlidXRlc0VudHJ5EioKC2V4ZWN1dGVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSHAoUYXR0cmlidXRlc190b19yZW1vdmUYBiADKAkSWAoXY3JlYXRlZF9hdF9tYXBfYnlfYWN0b3IYByADKAsyNy55b3JraWUudjEuT3BlcmF0aW9uLlRyZWVTdHlsZS5DcmVhdGVkQXRNYXBCeUFjdG9yRW50cnkaMQoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEaUQoYQ3JlYXRlZEF0TWFwQnlBY3RvckVudHJ5EgsKA2tleRgBIAEoCRIkCgV2YWx1ZRgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0OgI4ARrAAQoIQXJyYXlTZXQSMAoRcGFyZW50X2NyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpjcmVhdGVkX2F0GAIgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKwoFdmFsdWUYAyABKAsyHC55b3JraWUudjEuSlNPTkVsZW1lbnRTaW1wbGUSKgoLZXhlY3V0ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldEIGCgRib2R5IsUBChFKU09ORWxlbWVudFNpbXBsZRIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSIgoEdHlwZRgEIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYBSABKAwiggsKC0pTT05FbGVtZW50EjgKC2pzb25fb2JqZWN0GAEgASgLMiEueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05PYmplY3RIABI2Cgpqc29uX2FycmF5GAIgASgLMiAueW9ya2llLnYxLkpTT05FbGVtZW50LkpTT05BcnJheUgAEjUKCXByaW1pdGl2ZRgDIAEoCzIgLnlvcmtpZS52MS5KU09ORWxlbWVudC5QcmltaXRpdmVIABIrCgR0ZXh0GAUgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRleHRIABIxCgdjb3VudGVyGAYgASgLMh4ueW9ya2llLnYxLkpTT05FbGVtZW50LkNvdW50ZXJIABIrCgR0cmVlGAcgASgLMhsueW9ya2llLnYxLkpTT05FbGVtZW50LlRyZWVIABquAQoKSlNPTk9iamVjdBIhCgVub2RlcxgBIAMoCzISLnlvcmtpZS52MS5SSFROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBqtAQoJSlNPTkFycmF5EiEKBW5vZGVzGAEgAygLMhIueW9ya2llLnYxLlJHQU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Gr0BCglQcmltaXRpdmUSIgoEdHlwZRgBIAEoDjIULnlvcmtpZS52MS5WYWx1ZVR5cGUSDQoFdmFsdWUYAiABKAwSKQoKY3JlYXRlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAQgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgFIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0GqkBCgRUZXh0EiIKBW5vZGVzGAEgAygLMhMueW9ya2llLnYxLlRleHROb2RlEikKCmNyZWF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBInCghtb3ZlZF9hdBgDIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBq7AQoHQ291bnRlchIiCgR0eXBlGAEgASgOMhQueW9ya2llLnYxLlZhbHVlVHlwZRINCgV2YWx1ZRgCIAEoDBIpCgpjcmVhdGVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSJwoIbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIpCgpyZW1vdmVkX2F0GAUgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQaqQEKBFRyZWUSIgoFbm9kZXMYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUSKQoKY3JlYXRlZF9hdBgCIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0EicKCG1vdmVkX2F0GAMgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSKQoKcmVtb3ZlZF9hdBgEIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0QgYKBGJvZHkiPwoHUkhUTm9kZRILCgNrZXkYASABKAkSJwoHZWxlbWVudBgCIAEoCzIWLnlvcmtpZS52MS5KU09ORWxlbWVudCJUCgdSR0FOb2RlEiAKBG5leHQYASABKAsyEi55b3JraWUudjEuUkdBTm9kZRInCgdlbGVtZW50GAIgASgLMhYueW9ya2llLnYxLkpTT05FbGVtZW50IlgKCE5vZGVBdHRyEg0KBXZhbHVlGAEgASgJEikKCnVwZGF0ZWRfYXQYAiABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBISCgppc19yZW1vdmVkGAMgASgIIpQCCghUZXh0Tm9kZRIhCgJpZBgBIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEg0KBXZhbHVlGAIgASgJEikKCnJlbW92ZWRfYXQYAyABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgEIAEoCzIVLnlvcmtpZS52MS5UZXh0Tm9kZUlEEjcKCmF0dHJpYnV0ZXMYBSADKAsyIy55b3JraWUudjEuVGV4dE5vZGUuQXR0cmlidXRlc0VudHJ5GkYKD0F0dHJpYnV0ZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuTm9kZUF0dHI6AjgBIkcKClRleHROb2RlSUQSKQoKY3JlYXRlZF9hdBgBIAEoCzIVLnlvcmtpZS52MS5UaW1lVGlja2V0Eg4KBm9mZnNldBgCIAEoBSLdAgoIVHJlZU5vZGUSIQoCaWQYASABKAsyFS55b3JraWUudjEuVHJlZU5vZGVJRBIMCgR0eXBlGAIgASgJEg0KBXZhbHVlGAMgASgJEikKCnJlbW92ZWRfYXQYBCABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIqCgtpbnNfcHJldl9pZBgFIAEoCzIVLnlvcmtpZS52MS5UcmVlTm9kZUlEEioKC2luc19uZXh0X2lkGAYgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSDQoFZGVwdGgYByABKAUSNwoKYXR0cmlidXRlcxgIIAMoCzIjLnlvcmtpZS52MS5UcmVlTm9kZS5BdHRyaWJ1dGVzRW50cnkaRgoPQXR0cmlidXRlc0VudHJ5EgsKA2tleRgBIAEoCRIiCgV2YWx1ZRgCIAEoCzITLnlvcmtpZS52MS5Ob2RlQXR0cjoCOAEiMQoJVHJlZU5vZGVzEiQKB2NvbnRlbnQYASADKAsyEy55b3JraWUudjEuVHJlZU5vZGUiRwoKVHJlZU5vZGVJRBIpCgpjcmVhdGVkX2F0GAEgASgLMhUueW9ya2llLnYxLlRpbWVUaWNrZXQSDgoGb2Zmc2V0GAIgASgFImMKB1RyZWVQb3MSKAoJcGFyZW50X2lkGAEgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQSLgoPbGVmdF9zaWJsaW5nX2lkGAIgASgLMhUueW9ya2llLnYxLlRyZWVOb2RlSUQiawoEVXNlchIKCgJpZBgBIAEoCRIVCg1hdXRoX3Byb3ZpZGVyGAIgASgJEhAKCHVzZXJuYW1lGAMgASgJEi4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIukGCgdQcm9qZWN0EgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSEgoKcHVibGljX2tleRgDIAEoCRISCgpzZWNyZXRfa2V5GAQgASgJEhgKEGF1dGhfd2ViaG9va191cmwYBSABKAkSHAoUYXV0aF93ZWJob29rX21ldGhvZHMYBiADKAkSIAoYYXV0aF93ZWJob29rX21heF9yZXRyaWVzGBEgASgEEiYKHmF1dGhfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgSIAEoCRImCh5hdXRoX3dlYmhvb2tfbWF4X3dhaXRfaW50ZXJ2YWwYEyABKAkSJAocYXV0aF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgUIAEoCRIZChFldmVudF93ZWJob29rX3VybBgHIAEoCRIcChRldmVudF93ZWJob29rX2V2ZW50cxgIIAMoCRIhChlldmVudF93ZWJob29rX21heF9yZXRyaWVzGBUgASgEEicKH2V2ZW50X3dlYmhvb2tfbWluX3dhaXRfaW50ZXJ2YWwYFiABKAkSJwofZXZlbnRfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgXIAEoCRIlCh1ldmVudF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgYIAEoCRIjChtjbGllbnRfZGVhY3RpdmF0ZV90aHJlc2hvbGQYCSABKAkSGgoSc25hcHNob3RfdGhyZXNob2xkGBkgASgDEhkKEXNuYXBzaG90X2ludGVydmFsGBogASgDEiQKHG1heF9zdWJzY3JpYmVyc19wZXJfZG9jdW1lbnQYCiABKAUSJAocbWF4X2F0dGFjaG1lbnRzX3Blcl9kb2N1bWVudBgLIAEoBRIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYDyABKAUSGAoQcmVtb3ZlX29uX2RldGFjaBgQIAEoCBIdChVhdXRvX3JldmlzaW9uX2VuYWJsZWQYGyABKAgSFwoPYWxsb3dlZF9vcmlnaW5zGA4gAygJEi4KCmNyZWF0ZWRfYXQYDCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi4KCnVwZGF0ZWRfYXQYDSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIi8KC01ldHJpY1BvaW50EhEKCXRpbWVzdGFtcBgBIAEoAxINCgV2YWx1ZRgCIAEoBSKjDAoWVXBkYXRhYmxlUHJvamVjdEZpZWxkcxIqCgRuYW1lGAEgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlN0cmluZ1ZhbHVlEjYKEGF1dGhfd2ViaG9va191cmwYAiABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSUgoUYXV0aF93ZWJob29rX21ldGhvZHMYAyABKAsyNC55b3JraWUudjEuVXBkYXRhYmxlUHJvamVjdEZpZWxkcy5BdXRoV2ViaG9va01ldGhvZHMSPgoYYXV0aF93ZWJob29rX21heF9yZXRyaWVzGAwgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlVJbnQ2NFZhbHVlEkQKHmF1dGhfd2ViaG9va19taW5fd2FpdF9pbnRlcnZhbBgNIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJECh5hdXRoX3dlYmhvb2tfbWF4X3dhaXRfaW50ZXJ2YWwYDiABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSQgocYXV0aF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgPIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRI3ChFldmVudF93ZWJob29rX3VybBgEIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJSChRldmVudF93ZWJob29rX2V2ZW50cxgFIAEoCzI0LnlvcmtpZS52MS5VcGRhdGFibGVQcm9qZWN0RmllbGRzLkV2ZW50V2ViaG9va0V2ZW50cxI/ChlldmVudF93ZWJob29rX21heF9yZXRyaWVzGBAgASgLMhwuZ29vZ2xlLnByb3RvYnVmLlVJbnQ2NFZhbHVlEkUKH2V2ZW50X3dlYmhvb2tfbWluX3dhaXRfaW50ZXJ2YWwYESABKAsyHC5nb29nbGUucHJvdG9idWYuU3RyaW5nVmFsdWUSRQofZXZlbnRfd2ViaG9va19tYXhfd2FpdF9pbnRlcnZhbBgSIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJDCh1ldmVudF93ZWJob29rX3JlcXVlc3RfdGltZW91dBgTIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRI3ChJzbmFwc2hvdF90aHJlc2hvbGQYFCABKAsyGy5nb29nbGUucHJvdG9idWYuSW50NjRWYWx1ZRI2ChFzbmFwc2hvdF9pbnRlcnZhbBgVIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlEkEKG2NsaWVudF9kZWFjdGl2YXRlX3RocmVzaG9sZBgGIAEoCzIcLmdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZRJBChxtYXhfc3Vic2NyaWJlcnNfcGVyX2RvY3VtZW50GAcgASgLMhsuZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUSQQocbWF4X2F0dGFjaG1lbnRzX3Blcl9kb2N1bWVudBgIIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQzMlZhbHVlEjoKFW1heF9zaXplX3Blcl9kb2N1bWVudBgKIAEoCzIbLmdvb2dsZS5wcm90b2J1Zi5JbnQzMlZhbHVlEjQKEHJlbW92ZV9vbl9kZXRhY2gYCyABKAsyGi5nb29nbGUucHJvdG9idWYuQm9vbFZhbHVlEjkKFWF1dG9fcmV2aXNpb25fZW5hYmxlZBgWIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUSSQoPYWxsb3dlZF9vcmlnaW5zGAkgASgLMjAueW9ya2llLnYxLlVwZGF0YWJsZVByb2plY3RGaWVsZHMuQWxsb3dlZE9yaWdpbnMaJQoSQXV0aFdlYmhvb2tNZXRob2RzEg8KB21ldGhvZHMYASADKAkaJAoSRXZlbnRXZWJob29rRXZlbnRzEg4KBmV2ZW50cxgBIAMoCRohCg5BbGxvd2VkT3JpZ2lucxIPCgdvcmlnaW5zGAEgAygJIqcDCg9Eb2N1bWVudFN1bW1hcnkSCgoCaWQYASABKAkSCwoDa2V5GAIgASgJEgwKBHJvb3QYAyABKAkSGAoQYXR0YWNoZWRfY2xpZW50cxgHIAEoBRIpCg1kb2N1bWVudF9zaXplGAggASgLMhIueW9ya2llLnYxLkRvY1NpemUSEgoKc2NoZW1hX2tleRgJIAEoCRI8CglwcmVzZW5jZXMYCiADKAsyKS55b3JraWUudjEuRG9jdW1lbnRTdW1tYXJ5LlByZXNlbmNlc0VudHJ5Ei4KCmNyZWF0ZWRfYXQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEi8KC2FjY2Vzc2VkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBIuCgp1cGRhdGVkX2F0GAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBpFCg5QcmVzZW5jZXNFbnRyeRILCgNrZXkYASABKAkSIgoFdmFsdWUYAiABKAsyEy55b3JraWUudjEuUHJlc2VuY2U6AjgBItoBCg5QcmVzZW5jZUNoYW5nZRIyCgR0eXBlGAEgASgOMiQueW9ya2llLnYxLlByZXNlbmNlQ2hhbmdlLkNoYW5nZVR5cGUSJQoIcHJlc2VuY2UYAiABKAsyEy55b3JraWUudjEuUHJlc2VuY2UibQoKQ2hhbmdlVHlwZRIbChdDSEFOR0VfVFlQRV9VTlNQRUNJRklFRBAAEhMKD0NIQU5HRV9UWVBFX1BVVBABEhYKEkNIQU5HRV9UWVBFX0RFTEVURRACEhUKEUNIQU5HRV9UWVBFX0NMRUFSEAMiZAoIUHJlc2VuY2USKwoEZGF0YRgBIAMoCzIdLnlvcmtpZS52MS5QcmVzZW5jZS5EYXRhRW50cnkaKwoJRGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiNQoOQ2hhbm5lbFN1bW1hcnkSCwoDa2V5GAEgASgJEhYKDnByZXNlbmNlX2NvdW50GAIgASgFIjQKCkNoZWNrcG9pbnQSEgoKc2VydmVyX3NlcRgBIAEoAxISCgpjbGllbnRfc2VxGAIgASgNImEKC1RleHROb2RlUG9zEikKCmNyZWF0ZWRfYXQYASABKAsyFS55b3JraWUudjEuVGltZVRpY2tldBIOCgZvZmZzZXQYAiABKAUSFwoPcmVsYXRpdmVfb2Zmc2V0GAMgASgFIkIKClRpbWVUaWNrZXQSDwoHbGFtcG9ydBgBIAEoAxIRCglkZWxpbWl0ZXIYAiABKA0SEAoIYWN0b3JfaWQYAyABKAwiLgoMRG9jRXZlbnRCb2R5Eg0KBXRvcGljGAEgASgJEg8KB3BheWxvYWQYAiABKAwiawoIRG9jRXZlbnQSJQoEdHlwZRgBIAEoDjIXLnlvcmtpZS52MS5Eb2NFdmVudFR5cGUSEQoJcHVibGlzaGVyGAIgASgJEiUKBGJvZHkYAyABKAsyFy55b3JraWUudjEuRG9jRXZlbnRCb2R5Is4BCgxDaGFubmVsRXZlbnQSKgoEdHlwZRgBIAEoDjIcLnlvcmtpZS52MS5DaGFubmVsRXZlbnQuVHlwZRIRCglwdWJsaXNoZXIYAiABKAkSDQoFY291bnQYAyABKAMSCwoDc2VxGAQgASgDEg0KBXRvcGljGAUgASgJEg8KB3BheWxvYWQYBiABKAwiQwoEVHlwZRIUChBUWVBFX1VOU1BFQ0lGSUVEEAASEQoNVFlQRV9QUkVTRU5DRRABEhIKDlRZUEVfQlJPQURDQVNUEAIiJgoIRGF0YVNpemUSDAoEZGF0YRgBIAEoBRIMCgRtZXRhGAIgASgFIk0KB0RvY1NpemUSIQoEbGl2ZRgBIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZRIfCgJnYxgCIAEoCzITLnlvcmtpZS52MS5EYXRhU2l6ZSKRAQoGU2NoZW1hEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSDwoHdmVyc2lvbhgDIAEoBRIMCgRib2R5GAQgASgJEh4KBXJ1bGVzGAUgAygLMg8ueW9ya2llLnYxLlJ1bGUSLgoKY3JlYXRlZF9hdBgGIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAiIgoEUnVsZRIMCgRwYXRoGAEgASgJEgwKBHR5cGUYAiABKAkigwEKD1JldmlzaW9uU3VtbWFyeRIKCgJpZBgBIAEoCRINCgVsYWJlbBgCIAEoCRITCgtkZXNjcmlwdGlvbhgDIAEoCRIQCghzbmFwc2hvdBgEIAEoCRIuCgpjcmVhdGVkX2F0GAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCrUAgoJVmFsdWVUeXBlEhMKD1ZBTFVFX1RZUEVfTlVMTBAAEhYKElZBTFVFX1RZUEVfQk9PTEVBThABEhYKElZBTFVFX1RZUEVfSU5URUdFUhACEhMKD1ZBTFVFX1RZUEVfTE9ORxADEhUKEVZBTFVFX1RZUEVfRE9VQkxFEAQSFQoRVkFMVUVfVFlQRV9TVFJJTkcQBRIUChBWQUxVRV9UWVBFX0JZVEVTEAYSEwoPVkFMVUVfVFlQRV9EQVRFEAcSGgoWVkFMVUVfVFlQRV9KU09OX09CSkVDVBAIEhkKFVZBTFVFX1RZUEVfSlNPTl9BUlJBWRAJEhMKD1ZBTFVFX1RZUEVfVEVYVBAKEhoKFlZBTFVFX1RZUEVfSU5URUdFUl9DTlQQCxIXChNWQUxVRV9UWVBFX0xPTkdfQ05UEAwSEwoPVkFMVUVfVFlQRV9UUkVFEA0qpgEKDERvY0V2ZW50VHlwZRIjCh9ET0NfRVZFTlRfVFlQRV9ET0NVTUVOVF9DSEFOR0VEEAASIwofRE9DX0VWRU5UX1RZUEVfRE9DVU1FTlRfV0FUQ0hFRBABEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX1VOV0FUQ0hFRBACEiUKIURPQ19FVkVOVF9UWVBFX0RPQ1VNRU5UX0JST0FEQ0FTVBADQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[G1,nE]),b2=ce(ye,0),v2=ce(ye,1),A2=ce(ye,2),dh=ce(ye,3),gh=ce(ye,4),mh=ce(ye,5),S2=ce(ye,5,0),E2=ce(ye,5,1),N2=ce(ye,5,2),T2=ce(ye,5,3),R2=ce(ye,5,4),C2=ce(ye,5,5),I2=ce(ye,5,6),w2=ce(ye,5,7),D2=ce(ye,5,8),x2=ce(ye,5,9),rr=ce(ye,6),mn=ce(ye,7),O2=ce(ye,7,0),V2=ce(ye,7,1),U2=ce(ye,7,2),B2=ce(ye,7,3),L2=ce(ye,7,4),M2=ce(ye,7,5),Z2=ce(ye,8),z2=ce(ye,9),gb=ce(ye,10),Y2=ce(ye,11),G2=ce(ye,12),_2=ce(ye,13),W2=ce(ye,14),K2=ce(ye,15),X2=ce(ye,16),Hp=ce(ye,22);var zs=(i=>(i[i.UNSPECIFIED=0]="UNSPECIFIED",i[i.PUT=1]="PUT",i[i.DELETE=2]="DELETE",i[i.CLEAR=3]="CLEAR",i))(zs||{});const J2=ce(ye,23),k2=ce(ye,25),F2=ce(ye,26),j2=ce(ye,27);var mb=(i=>(i[i.UNSPECIFIED=0]="UNSPECIFIED",i[i.PRESENCE=1]="PRESENCE",i[i.BROADCAST=2]="BROADCAST",i))(mb||{}),me=(i=>(i[i.NULL=0]="NULL",i[i.BOOLEAN=1]="BOOLEAN",i[i.INTEGER=2]="INTEGER",i[i.LONG=3]="LONG",i[i.DOUBLE=4]="DOUBLE",i[i.STRING=5]="STRING",i[i.BYTES=6]="BYTES",i[i.DATE=7]="DATE",i[i.JSON_OBJECT=8]="JSON_OBJECT",i[i.JSON_ARRAY=9]="JSON_ARRAY",i[i.TEXT=10]="TEXT",i[i.INTEGER_CNT=11]="INTEGER_CNT",i[i.LONG_CNT=12]="LONG_CNT",i[i.TREE=13]="TREE",i))(me||{}),Do=(i=>(i[i.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",i[i.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",i[i.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",i[i.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",i))(Do||{});const H2=hi("Ch5zcmMvYXBpL3lvcmtpZS92MS95b3JraWUucHJvdG8SCXlvcmtpZS52MSKeAQoVQWN0aXZhdGVDbGllbnRSZXF1ZXN0EhIKCmNsaWVudF9rZXkYASABKAkSQAoIbWV0YWRhdGEYAiADKAsyLi55b3JraWUudjEuQWN0aXZhdGVDbGllbnRSZXF1ZXN0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIisKFkFjdGl2YXRlQ2xpZW50UmVzcG9uc2USEQoJY2xpZW50X2lkGAEgASgJIkEKF0RlYWN0aXZhdGVDbGllbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtzeW5jaHJvbm91cxgCIAEoCCIaChhEZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiagoVQXR0YWNoRG9jdW1lbnRSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRIqCgtjaGFuZ2VfcGFjaxgCIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrEhIKCnNjaGVtYV9rZXkYAyABKAkinwEKFkF0dGFjaERvY3VtZW50UmVzcG9uc2USEwoLZG9jdW1lbnRfaWQYASABKAkSKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIdChVtYXhfc2l6ZV9wZXJfZG9jdW1lbnQYAyABKAUSJQoMc2NoZW1hX3J1bGVzGAQgAygLMg8ueW9ya2llLnYxLlJ1bGUiiwEKFURldGFjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSKgoLY2hhbmdlX3BhY2sYAyABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjaxIeChZyZW1vdmVfaWZfbm90X2F0dGFjaGVkGAQgASgIIkQKFkRldGFjaERvY3VtZW50UmVzcG9uc2USKgoLY2hhbmdlX3BhY2sYAiABKAsyFS55b3JraWUudjEuQ2hhbmdlUGFjayI+ChRXYXRjaERvY3VtZW50UmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkitgEKFVdhdGNoRG9jdW1lbnRSZXNwb25zZRJJCg5pbml0aWFsaXphdGlvbhgBIAEoCzIvLnlvcmtpZS52MS5XYXRjaERvY3VtZW50UmVzcG9uc2UuSW5pdGlhbGl6YXRpb25IABIkCgVldmVudBgCIAEoCzITLnlvcmtpZS52MS5Eb2NFdmVudEgAGiQKDkluaXRpYWxpemF0aW9uEhIKCmNsaWVudF9pZHMYASADKAlCBgoEYm9keSJrChVSZW1vdmVEb2N1bWVudFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siRAoWUmVtb3ZlRG9jdW1lbnRSZXNwb25zZRIqCgtjaGFuZ2VfcGFjaxgBIAEoCzIVLnlvcmtpZS52MS5DaGFuZ2VQYWNrIn8KFlB1c2hQdWxsQ2hhbmdlc1JlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEioKC2NoYW5nZV9wYWNrGAMgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2sSEQoJcHVzaF9vbmx5GAQgASgIIkUKF1B1c2hQdWxsQ2hhbmdlc1Jlc3BvbnNlEioKC2NoYW5nZV9wYWNrGAEgASgLMhUueW9ya2llLnYxLkNoYW5nZVBhY2siYwoVQ3JlYXRlUmV2aXNpb25SZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRINCgVsYWJlbBgDIAEoCRITCgtkZXNjcmlwdGlvbhgEIAEoCSJGChZDcmVhdGVSZXZpc2lvblJlc3BvbnNlEiwKCHJldmlzaW9uGAEgASgLMhoueW9ya2llLnYxLlJldmlzaW9uU3VtbWFyeSJRChJHZXRSZXZpc2lvblJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2RvY3VtZW50X2lkGAIgASgJEhMKC3JldmlzaW9uX2lkGAMgASgJIkMKE0dldFJldmlzaW9uUmVzcG9uc2USLAoIcmV2aXNpb24YASABKAsyGi55b3JraWUudjEuUmV2aXNpb25TdW1tYXJ5InUKFExpc3RSZXZpc2lvbnNSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtkb2N1bWVudF9pZBgCIAEoCRIRCglwYWdlX3NpemUYAyABKAUSDgoGb2Zmc2V0GAQgASgFEhIKCmlzX2ZvcndhcmQYBSABKAgiRgoVTGlzdFJldmlzaW9uc1Jlc3BvbnNlEi0KCXJldmlzaW9ucxgBIAMoCzIaLnlvcmtpZS52MS5SZXZpc2lvblN1bW1hcnkiVQoWUmVzdG9yZVJldmlzaW9uUmVxdWVzdBIRCgljbGllbnRfaWQYASABKAkSEwoLZG9jdW1lbnRfaWQYAiABKAkSEwoLcmV2aXNpb25faWQYBCABKAkiGQoXUmVzdG9yZVJldmlzaW9uUmVzcG9uc2UiPgoUQXR0YWNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJIjoKFUF0dGFjaENoYW5uZWxSZXNwb25zZRISCgpzZXNzaW9uX2lkGAEgASgJEg0KBWNvdW50GAIgASgDIlIKFERldGFjaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRISCgpzZXNzaW9uX2lkGAMgASgJIiYKFURldGFjaENoYW5uZWxSZXNwb25zZRINCgVjb3VudBgBIAEoAyJTChVSZWZyZXNoQ2hhbm5lbFJlcXVlc3QSEQoJY2xpZW50X2lkGAEgASgJEhMKC2NoYW5uZWxfa2V5GAIgASgJEhIKCnNlc3Npb25faWQYAyABKAkiJwoWUmVmcmVzaENoYW5uZWxSZXNwb25zZRINCgVjb3VudBgBIAEoAyI9ChNXYXRjaENoYW5uZWxSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCSKDAQoUV2F0Y2hDaGFubmVsUmVzcG9uc2USOQoLaW5pdGlhbGl6ZWQYASABKAsyIi55b3JraWUudjEuV2F0Y2hDaGFubmVsSW5pdGlhbGl6ZWRIABIoCgVldmVudBgCIAEoCzIXLnlvcmtpZS52MS5DaGFubmVsRXZlbnRIAEIGCgRib2R5IjUKF1dhdGNoQ2hhbm5lbEluaXRpYWxpemVkEg0KBWNvdW50GAEgASgDEgsKA3NlcRgCIAEoAyJaChBCcm9hZGNhc3RSZXF1ZXN0EhEKCWNsaWVudF9pZBgBIAEoCRITCgtjaGFubmVsX2tleRgCIAEoCRINCgV0b3BpYxgDIAEoCRIPCgdwYXlsb2FkGAQgASgMIhMKEUJyb2FkY2FzdFJlc3BvbnNlMoULCg1Zb3JraWVTZXJ2aWNlElcKDkFjdGl2YXRlQ2xpZW50EiAueW9ya2llLnYxLkFjdGl2YXRlQ2xpZW50UmVxdWVzdBohLnlvcmtpZS52MS5BY3RpdmF0ZUNsaWVudFJlc3BvbnNlIgASXQoQRGVhY3RpdmF0ZUNsaWVudBIiLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVxdWVzdBojLnlvcmtpZS52MS5EZWFjdGl2YXRlQ2xpZW50UmVzcG9uc2UiABJXCg5BdHRhY2hEb2N1bWVudBIgLnlvcmtpZS52MS5BdHRhY2hEb2N1bWVudFJlcXVlc3QaIS55b3JraWUudjEuQXR0YWNoRG9jdW1lbnRSZXNwb25zZSIAElcKDkRldGFjaERvY3VtZW50EiAueW9ya2llLnYxLkRldGFjaERvY3VtZW50UmVxdWVzdBohLnlvcmtpZS52MS5EZXRhY2hEb2N1bWVudFJlc3BvbnNlIgASVwoOUmVtb3ZlRG9jdW1lbnQSIC55b3JraWUudjEuUmVtb3ZlRG9jdW1lbnRSZXF1ZXN0GiEueW9ya2llLnYxLlJlbW92ZURvY3VtZW50UmVzcG9uc2UiABJaCg9QdXNoUHVsbENoYW5nZXMSIS55b3JraWUudjEuUHVzaFB1bGxDaGFuZ2VzUmVxdWVzdBoiLnlvcmtpZS52MS5QdXNoUHVsbENoYW5nZXNSZXNwb25zZSIAElYKDVdhdGNoRG9jdW1lbnQSHy55b3JraWUudjEuV2F0Y2hEb2N1bWVudFJlcXVlc3QaIC55b3JraWUudjEuV2F0Y2hEb2N1bWVudFJlc3BvbnNlIgAwARJXCg5DcmVhdGVSZXZpc2lvbhIgLnlvcmtpZS52MS5DcmVhdGVSZXZpc2lvblJlcXVlc3QaIS55b3JraWUudjEuQ3JlYXRlUmV2aXNpb25SZXNwb25zZSIAEk4KC0dldFJldmlzaW9uEh0ueW9ya2llLnYxLkdldFJldmlzaW9uUmVxdWVzdBoeLnlvcmtpZS52MS5HZXRSZXZpc2lvblJlc3BvbnNlIgASVAoNTGlzdFJldmlzaW9ucxIfLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVxdWVzdBogLnlvcmtpZS52MS5MaXN0UmV2aXNpb25zUmVzcG9uc2UiABJaCg9SZXN0b3JlUmV2aXNpb24SIS55b3JraWUudjEuUmVzdG9yZVJldmlzaW9uUmVxdWVzdBoiLnlvcmtpZS52MS5SZXN0b3JlUmV2aXNpb25SZXNwb25zZSIAElQKDUF0dGFjaENoYW5uZWwSHy55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlcXVlc3QaIC55b3JraWUudjEuQXR0YWNoQ2hhbm5lbFJlc3BvbnNlIgASVAoNRGV0YWNoQ2hhbm5lbBIfLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVxdWVzdBogLnlvcmtpZS52MS5EZXRhY2hDaGFubmVsUmVzcG9uc2UiABJXCg5SZWZyZXNoQ2hhbm5lbBIgLnlvcmtpZS52MS5SZWZyZXNoQ2hhbm5lbFJlcXVlc3QaIS55b3JraWUudjEuUmVmcmVzaENoYW5uZWxSZXNwb25zZSIAElMKDFdhdGNoQ2hhbm5lbBIeLnlvcmtpZS52MS5XYXRjaENoYW5uZWxSZXF1ZXN0Gh8ueW9ya2llLnYxLldhdGNoQ2hhbm5lbFJlc3BvbnNlIgAwARJICglCcm9hZGNhc3QSGy55b3JraWUudjEuQnJvYWRjYXN0UmVxdWVzdBocLnlvcmtpZS52MS5Ccm9hZGNhc3RSZXNwb25zZSIAQkUKEWRldi55b3JraWUuYXBpLnYxUAFaLmdpdGh1Yi5jb20veW9ya2llLXRlYW0veW9ya2llL2FwaS95b3JraWUvdjE7djFiBnByb3RvMw",[ye]),Q2=s2(H2,0),$2=hi("Ch5nb29nbGUvcnBjL2Vycm9yX2RldGFpbHMucHJvdG8SCmdvb2dsZS5ycGMikwEKCUVycm9ySW5mbxIOCgZyZWFzb24YASABKAkSDgoGZG9tYWluGAIgASgJEjUKCG1ldGFkYXRhGAMgAygLMiMuZ29vZ2xlLnJwYy5FcnJvckluZm8uTWV0YWRhdGFFbnRyeRovCg1NZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEiOwoJUmV0cnlJbmZvEi4KC3JldHJ5X2RlbGF5GAEgASgLMhkuZ29vZ2xlLnByb3RvYnVmLkR1cmF0aW9uIjIKCURlYnVnSW5mbxIVCg1zdGFja19lbnRyaWVzGAEgAygJEg4KBmRldGFpbBgCIAEoCSKPAwoMUXVvdGFGYWlsdXJlEjYKCnZpb2xhdGlvbnMYASADKAsyIi5nb29nbGUucnBjLlF1b3RhRmFpbHVyZS5WaW9sYXRpb24axgIKCVZpb2xhdGlvbhIPCgdzdWJqZWN0GAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhMKC2FwaV9zZXJ2aWNlGAMgASgJEhQKDHF1b3RhX21ldHJpYxgEIAEoCRIQCghxdW90YV9pZBgFIAEoCRJRChBxdW90YV9kaW1lbnNpb25zGAYgAygLMjcuZ29vZ2xlLnJwYy5RdW90YUZhaWx1cmUuVmlvbGF0aW9uLlF1b3RhRGltZW5zaW9uc0VudHJ5EhMKC3F1b3RhX3ZhbHVlGAcgASgDEh8KEmZ1dHVyZV9xdW90YV92YWx1ZRgIIAEoA0gAiAEBGjYKFFF1b3RhRGltZW5zaW9uc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCFQoTX2Z1dHVyZV9xdW90YV92YWx1ZSKVAQoTUHJlY29uZGl0aW9uRmFpbHVyZRI9Cgp2aW9sYXRpb25zGAEgAygLMikuZ29vZ2xlLnJwYy5QcmVjb25kaXRpb25GYWlsdXJlLlZpb2xhdGlvbho/CglWaW9sYXRpb24SDAoEdHlwZRgBIAEoCRIPCgdzdWJqZWN0GAIgASgJEhMKC2Rlc2NyaXB0aW9uGAMgASgJIswBCgpCYWRSZXF1ZXN0Ej8KEGZpZWxkX3Zpb2xhdGlvbnMYASADKAsyJS5nb29nbGUucnBjLkJhZFJlcXVlc3QuRmllbGRWaW9sYXRpb24afQoORmllbGRWaW9sYXRpb24SDQoFZmllbGQYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDgoGcmVhc29uGAMgASgJEjcKEWxvY2FsaXplZF9tZXNzYWdlGAQgASgLMhwuZ29vZ2xlLnJwYy5Mb2NhbGl6ZWRNZXNzYWdlIjcKC1JlcXVlc3RJbmZvEhIKCnJlcXVlc3RfaWQYASABKAkSFAoMc2VydmluZ19kYXRhGAIgASgJImAKDFJlc291cmNlSW5mbxIVCg1yZXNvdXJjZV90eXBlGAEgASgJEhUKDXJlc291cmNlX25hbWUYAiABKAkSDQoFb3duZXIYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkiVgoESGVscBIkCgVsaW5rcxgBIAMoCzIVLmdvb2dsZS5ycGMuSGVscC5MaW5rGigKBExpbmsSEwoLZGVzY3JpcHRpb24YASABKAkSCwoDdXJsGAIgASgJIjMKEExvY2FsaXplZE1lc3NhZ2USDgoGbG9jYWxlGAEgASgJEg8KB21lc3NhZ2UYAiABKAlCbAoOY29tLmdvb2dsZS5ycGNCEUVycm9yRGV0YWlsc1Byb3RvUAFaP2dvb2dsZS5nb2xhbmcub3JnL2dlbnByb3RvL2dvb2dsZWFwaXMvcnBjL2VycmRldGFpbHM7ZXJyZGV0YWlsc6ICA1JQQ2IGcHJvdG8z",[K1]),P2=ce($2,0);var N=(i=>(i.Ok="ok",i.ErrClientNotActivated="ErrClientNotActivated",i.ErrClientNotFound="ErrClientNotFound",i.ErrUnimplemented="ErrUnimplemented",i.ErrInvalidType="ErrInvalidType",i.ErrDummy="ErrDummy",i.ErrNotAttached="ErrNotAttached",i.ErrNotDetached="ErrNotDetached",i.ErrDocumentRemoved="ErrDocumentRemoved",i.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",i.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",i.ErrInvalidObjectKey="ErrInvalidObjectKey",i.ErrInvalidArgument="ErrInvalidArgument",i.ErrNotInitialized="ErrNotInitialized",i.ErrNotReady="ErrNotReady",i.ErrRefused="ErrRefused",i.ErrContextNotProvided="ErrContextNotProvided",i.ErrPermissionDenied="ErrPermissionDenied",i.ErrUnauthenticated="ErrUnauthenticated",i.ErrTooManySubscribers="ErrTooManySubscribers",i.ErrTooManyAttachments="ErrTooManyAttachments",i))(N||{});class T extends Error{constructor(e,a){super(a),this.code=e,this.message=a,this.toString=()=>`[code=${this.code}]: ${this.message}`}name="YorkieError";stack}var zn=(i=>(i.Put="put",i.Clear="clear",i))(zn||{});const yh="000000000000000000000000",Ln=24;class hn{lamport;delimiter;actorID;constructor(e,a,s){this.lamport=e,this.delimiter=a,this.actorID=s}static of(e,a,s){return new hn(e,a,s)}static fromStruct(e){return hn.of(BigInt(e.lamport),e.delimiter,e.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(e){return new hn(this.lamport,this.delimiter,e)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(e){return this.compare(e)>0}equals(e){return this.compare(e)===0}compare(e){if(this.lamport>e.lamport)return 1;if(e.lamport>this.lamport)return-1;const a=this.actorID.localeCompare(e.actorID);return a!==0?a:this.delimiter>e.delimiter?1:e.delimiter>this.delimiter?-1:0}}const Uf=0n,yb=0,Bf=9223372036854775807n,vr=new hn(Uf,yb,yh);function Bn(i){return i.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(e){switch(e){case'"':case"\\":return"\\"+e;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}})}class ks{createdAt;movedAt;removedAt;constructor(e){this.createdAt=e}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(e){this.createdAt=e}setMovedAt(e){return!this.movedAt||e&&e.after(this.movedAt)?(this.movedAt=e,!0):!1}setRemovedAt(e){this.removedAt=e}remove(e){return e&&e.after(this.createdAt)&&(!this.removedAt||e.after(this.removedAt))?(this.removedAt=e,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let e=0;return this.getCreatedAt()&&(e+=Ln),this.getMovedAt()&&(e+=Ln),this.getRemovedAt()&&(e+=Ln),e}}class Wi extends ks{constructor(e){super(e)}}class xo{strKey;value;constructor(e,a){this.strKey=e,this.value=a}static of(e,a){return new xo(e,a)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(e){return this.value.remove(e)}}class Ar{nodeMapByKey;nodeMapByCreatedAt;constructor(){this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Ar}set(e,a,s){let o;const c=this.nodeMapByKey.get(e);c&&!c.isRemoved()&&c.remove(s)&&(o=c.getValue());const h=xo.of(e,a);return this.nodeMapByCreatedAt.set(a.getCreatedAt().toIDString(),h),(!c||s.after(c.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(e,h),a.setMovedAt(s)),o}delete(e,a){if(!this.nodeMapByCreatedAt.has(e.toIDString()))throw new T(N.ErrInvalidArgument,`fail to find ${e.toIDString()}`);const s=this.nodeMapByCreatedAt.get(e.toIDString());return s.remove(a),s.getValue()}subPathOf(e){const a=this.nodeMapByCreatedAt.get(e.toIDString());if(a)return a.getStrKey()}purge(e){const a=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!a)throw new T(N.ErrInvalidArgument,`fail to find ${e.getCreatedAt().toIDString()}`);const s=this.nodeMapByKey.get(a.getStrKey());a===s&&this.nodeMapByKey.delete(s.getStrKey()),this.nodeMapByCreatedAt.delete(a.getValue().getCreatedAt().toIDString())}deleteByKey(e,a){const s=this.nodeMapByKey.get(e);if(s&&s.remove(a))return s.getValue()}has(e){const a=this.nodeMapByKey.get(e);return a?!a.isRemoved():!1}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}get(e){const a=this.nodeMapByKey.get(e);if(!(!a||a.isRemoved()))return a}deepcopy(){const e=Ar.create();for(const[,a]of this.nodeMapByCreatedAt)e.nodeMapByCreatedAt.set(a.getValue().getCreatedAt().toIDString(),xo.of(a.getStrKey(),a.getValue().deepcopy()));for(const[a,s]of this.nodeMapByKey)e.nodeMapByKey.set(a,e.nodeMapByCreatedAt.get(s.getValue().getCreatedAt().toIDString()));return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByCreatedAt)yield e}}class Et extends Wi{memberNodes;constructor(e,a){super(e),this.memberNodes=a}static create(e,a){if(!a)return new Et(e,Ar.create());const s=Ar.create();for(const[o,c]of Object.entries(a))s.set(o,c.deepcopy(),c.getCreatedAt());return new Et(e,s)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,a,s){return this.memberNodes.set(e,a,s)}delete(e,a){return this.memberNodes.delete(e,a)}deleteByKey(e,a){return this.memberNodes.deleteByKey(e,a)}get(e){return this.memberNodes.get(e)?.getValue()}getByID(e){return this.memberNodes.getByID(e)?.getValue()}has(e){return this.memberNodes.has(e)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const[a,s]of this)e.push(`"${Bn(a)}":${s.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[a,s]of this){const{createdAt:o,value:c,type:h}=s.toJSForTest();e[a]={key:a,createdAt:o,value:c,type:h}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[a]of this)e.push(a);return e}toSortedJSON(){const e=new Set;for(const[s]of this)e.add(s);const a=[];for(const s of Array.from(e).sort()){const o=this.memberNodes.get(s)?.getValue();a.push(`"${Bn(s)}":${o.toSortedJSON()}`)}return`{${a.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=Et.create(this.getCreatedAt());return e.memberNodes=this.memberNodes.deepcopy(),e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}getDescendants(e){for(const a of this.memberNodes){const s=a.getValue();if(e(s,this))return;s instanceof Wi&&s.getDescendants(e)}}*[Symbol.iterator](){for(const e of this.memberNodes)e.isRemoved()||(yield[e.getStrKey(),e.getValue()])}}var Fe=(i=>(i.Local="local",i.Remote="remote",i.UndoRedo="undoredo",i))(Fe||{});class Dn{parentCreatedAt;executedAt;constructor(e,a){this.parentCreatedAt=e,this.executedAt=a}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new T(N.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(e){this.executedAt&&(this.executedAt=this.executedAt.setActor(e))}setExecutedAt(e){this.executedAt=e}}class pb{value;left;right;parent;weight;constructor(e){this.value=e,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(e){this.left=e}setRight(e){this.right=e}setParent(e){this.parent=e}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(e){this.weight+=e}initWeight(){this.weight=this.getLength()}}class Ys{root;constructor(e){this.root=e}get length(){return this.root?this.root.getWeight():0}find(e){if(!this.root||e<0)return[void 0,0];let a=this.root;for(;;)if(a.hasLeft()&&e<=a.getLeftWeight())a=a.getLeft();else if(a.hasRight()&&a.getLeftWeight()+a.getLength()<e)e-=a.getLeftWeight()+a.getLength(),a=a.getRight();else{e-=a.getLeftWeight();break}if(e>a.getLength())throw new T(N.ErrInvalidArgument,`out of index range: pos: ${e} > node.length: ${a.getLength()}`);return this.splayNode(a),[a,e]}indexOf(e){return!e||e!==this.root&&!e.hasLinks()?-1:(this.splayNode(e),this.root.getLeftWeight())}getRoot(){return this.root}insert(e){return this.insertAfter(this.root,e)}insertAfter(e,a){return e?(this.splayNode(e),this.root=a,a.setRight(e.getRight()),e.hasRight()&&e.getRight().setParent(a),a.setLeft(e),e.setParent(a),e.setRight(),this.updateWeight(e),this.updateWeight(a),a):(this.root=a,a)}updateWeight(e){e.initWeight(),e.hasLeft()&&e.increaseWeight(e.getLeftWeight()),e.hasRight()&&e.increaseWeight(e.getRightWeight())}updateTreeWeight(e){for(;e;)this.updateWeight(e),e=e.getParent()}splayNode(e){if(e)for(;;)if(this.isLeftChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e),this.rotateLeft(e);else if(this.isLeftChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e.getParent()),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e.getParent()),this.rotateLeft(e);else{this.isLeftChild(e)?this.rotateRight(e):this.isRightChild(e)&&this.rotateLeft(e),this.updateWeight(e);return}}delete(e){this.splayNode(e);const a=new Ys(e.getLeft());a.root&&a.root.setParent();const s=new Ys(e.getRight());if(s.root&&s.root.setParent(),a.root){const o=a.getRightmost();a.splayNode(o),a.root.setRight(s.root),s.root&&s.root.setParent(a.root),this.root=a.root}else this.root=s.root;e.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(e,a){if(!a){this.splayNode(e),this.cutOffRight(e);return}this.splayNode(e),this.splayNode(a),a.getLeft()!=e&&this.rotateRight(e),this.cutOffRight(e)}cutOffRight(e){const a=[];this.traversePostorder(e.getRight(),a);for(const s of a)s.initWeight();this.updateTreeWeight(e)}toTestString(){const e=[];return this.traverseInorder(this.root,e),e.map(a=>`[${a.getWeight()},${a.getLength()}]${a.getValue()||""}`).join("")}checkWeight(){const e=[];this.traverseInorder(this.root,e);for(const a of e)if(a.getWeight()!=a.getLength()+a.getLeftWeight()+a.getRightWeight())return!1;return!0}getRightmost(){let e=this.root;for(;e.hasRight();)e=e.getRight();return e}traverseInorder(e,a){e&&(this.traverseInorder(e.getLeft(),a),a.push(e),this.traverseInorder(e.getRight(),a))}traversePostorder(e,a){e&&(this.traversePostorder(e.getLeft(),a),this.traversePostorder(e.getRight(),a),a.push(e))}rotateLeft(e){const a=e.getParent();a.hasParent()?a===a.getParent().getLeft()?a.getParent().setLeft(e):a.getParent().setRight(e):this.root=e,e.setParent(a.getParent()),a.setRight(e.getLeft()),a.hasRight()&&a.getRight().setParent(a),e.setLeft(a),e.getLeft().setParent(e),this.updateWeight(a),this.updateWeight(e)}rotateRight(e){const a=e.getParent();a.hasParent()?a===a.getParent().getLeft()?a.getParent().setLeft(e):a.getParent().setRight(e):this.root=e,e.setParent(a.getParent()),a.setLeft(e.getRight()),a.hasLeft()&&a.getLeft().setParent(a),e.setRight(a),e.getRight().setParent(e),this.updateWeight(a),this.updateWeight(e)}isLeftChild(e){return e&&e.hasParent()?e.getParent().getLeft()===e:!1}isRightChild(e){return e&&e.hasParent()?e.getParent().getRight()===e:!1}}var cn=null;try{cn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Se(i,e,a){this.low=i|0,this.high=e|0,this.unsigned=!!a}Se.prototype.__isLong__;Object.defineProperty(Se.prototype,"__isLong__",{value:!0});function Tt(i){return(i&&i.__isLong__)===!0}function Qp(i){var e=Math.clz32(i&-i);return i?31-e:e}Se.isLong=Tt;var $p={},Pp={};function va(i,e){var a,s,o;return e?(i>>>=0,(o=0<=i&&i<256)&&(s=Pp[i],s)?s:(a=Re(i,0,!0),o&&(Pp[i]=a),a)):(i|=0,(o=-128<=i&&i<128)&&(s=$p[i],s)?s:(a=Re(i,i<0?-1:0,!1),o&&($p[i]=a),a))}Se.fromInt=va;function fn(i,e){if(isNaN(i))return e?li:Rn;if(e){if(i<0)return li;if(i>=bb)return Sb}else{if(i<=-e0)return Mt;if(i+1>=e0)return Ab}return i<0?fn(-i,e).neg():Re(i%Sr|0,i/Sr|0,e)}Se.fromNumber=fn;function Re(i,e,a){return new Se(i,e,a)}Se.fromBits=Re;var Oo=Math.pow;function ph(i,e,a){if(i.length===0)throw Error("empty string");if(typeof e=="number"?(a=e,e=!1):e=!!e,i==="NaN"||i==="Infinity"||i==="+Infinity"||i==="-Infinity")return e?li:Rn;if(a=a||10,a<2||36<a)throw RangeError("radix");var s;if((s=i.indexOf("-"))>0)throw Error("interior hyphen");if(s===0)return ph(i.substring(1),e,a).neg();for(var o=fn(Oo(a,8)),c=Rn,h=0;h<i.length;h+=8){var d=Math.min(8,i.length-h),y=parseInt(i.substring(h,h+d),a);if(d<8){var m=fn(Oo(a,d));c=c.mul(m).add(fn(y))}else c=c.mul(o),c=c.add(fn(y))}return c.unsigned=e,c}Se.fromString=ph;function yn(i,e){return typeof i=="number"?fn(i,e):typeof i=="string"?ph(i,e):Re(i.low,i.high,typeof e=="boolean"?e:i.unsigned)}Se.fromValue=yn;var qp=65536,q2=1<<24,Sr=qp*qp,bb=Sr*Sr,e0=bb/2,t0=va(q2),Rn=va(0);Se.ZERO=Rn;var li=va(0,!0);Se.UZERO=li;var cr=va(1);Se.ONE=cr;var vb=va(1,!0);Se.UONE=vb;var Lf=va(-1);Se.NEG_ONE=Lf;var Ab=Re(-1,2147483647,!1);Se.MAX_VALUE=Ab;var Sb=Re(-1,-1,!0);Se.MAX_UNSIGNED_VALUE=Sb;var Mt=Re(0,-2147483648,!1);Se.MIN_VALUE=Mt;var _=Se.prototype;_.toInt=function(){return this.unsigned?this.low>>>0:this.low};_.toNumber=function(){return this.unsigned?(this.high>>>0)*Sr+(this.low>>>0):this.high*Sr+(this.low>>>0)};_.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Mt)){var a=fn(e),s=this.div(a),o=s.mul(a).sub(this);return s.toString(e)+o.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var c=fn(Oo(e,6),this.unsigned),h=this,d="";;){var y=h.div(c),m=h.sub(y.mul(c)).toInt()>>>0,b=m.toString(e);if(h=y,h.isZero())return b+d;for(;b.length<6;)b="0"+b;d=""+b+d}};_.getHighBits=function(){return this.high};_.getHighBitsUnsigned=function(){return this.high>>>0};_.getLowBits=function(){return this.low};_.getLowBitsUnsigned=function(){return this.low>>>0};_.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Mt)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,a=31;a>0&&(e&1<<a)==0;a--);return this.high!=0?a+33:a+1};_.isSafeInteger=function(){var e=this.high>>21;return e?this.unsigned?!1:e===-1&&!(this.low===0&&this.high===-2097152):!0};_.isZero=function(){return this.high===0&&this.low===0};_.eqz=_.isZero;_.isNegative=function(){return!this.unsigned&&this.high<0};_.isPositive=function(){return this.unsigned||this.high>=0};_.isOdd=function(){return(this.low&1)===1};_.isEven=function(){return(this.low&1)===0};_.equals=function(e){return Tt(e)||(e=yn(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};_.eq=_.equals;_.notEquals=function(e){return!this.eq(e)};_.neq=_.notEquals;_.ne=_.notEquals;_.lessThan=function(e){return this.comp(e)<0};_.lt=_.lessThan;_.lessThanOrEqual=function(e){return this.comp(e)<=0};_.lte=_.lessThanOrEqual;_.le=_.lessThanOrEqual;_.greaterThan=function(e){return this.comp(e)>0};_.gt=_.greaterThan;_.greaterThanOrEqual=function(e){return this.comp(e)>=0};_.gte=_.greaterThanOrEqual;_.ge=_.greaterThanOrEqual;_.compare=function(e){if(Tt(e)||(e=yn(e)),this.eq(e))return 0;var a=this.isNegative(),s=e.isNegative();return a&&!s?-1:!a&&s?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};_.comp=_.compare;_.negate=function(){return!this.unsigned&&this.eq(Mt)?Mt:this.not().add(cr)};_.neg=_.negate;_.add=function(e){Tt(e)||(e=yn(e));var a=this.high>>>16,s=this.high&65535,o=this.low>>>16,c=this.low&65535,h=e.high>>>16,d=e.high&65535,y=e.low>>>16,m=e.low&65535,b=0,A=0,w=0,R=0;return R+=c+m,w+=R>>>16,R&=65535,w+=o+y,A+=w>>>16,w&=65535,A+=s+d,b+=A>>>16,A&=65535,b+=a+h,b&=65535,Re(w<<16|R,b<<16|A,this.unsigned)};_.subtract=function(e){return Tt(e)||(e=yn(e)),this.add(e.neg())};_.sub=_.subtract;_.multiply=function(e){if(this.isZero())return this;if(Tt(e)||(e=yn(e)),cn){var a=cn.mul(this.low,this.high,e.low,e.high);return Re(a,cn.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?li:Rn;if(this.eq(Mt))return e.isOdd()?Mt:Rn;if(e.eq(Mt))return this.isOdd()?Mt:Rn;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(t0)&&e.lt(t0))return fn(this.toNumber()*e.toNumber(),this.unsigned);var s=this.high>>>16,o=this.high&65535,c=this.low>>>16,h=this.low&65535,d=e.high>>>16,y=e.high&65535,m=e.low>>>16,b=e.low&65535,A=0,w=0,R=0,C=0;return C+=h*b,R+=C>>>16,C&=65535,R+=c*b,w+=R>>>16,R&=65535,R+=h*m,w+=R>>>16,R&=65535,w+=o*b,A+=w>>>16,w&=65535,w+=c*m,A+=w>>>16,w&=65535,w+=h*y,A+=w>>>16,w&=65535,A+=s*b+o*m+c*y+h*d,A&=65535,Re(R<<16|C,A<<16|w,this.unsigned)};_.mul=_.multiply;_.divide=function(e){if(Tt(e)||(e=yn(e)),e.isZero())throw Error("division by zero");if(cn){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var a=(this.unsigned?cn.div_u:cn.div_s)(this.low,this.high,e.low,e.high);return Re(a,cn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?li:Rn;var s,o,c;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return li;if(e.gt(this.shru(1)))return vb;c=li}else{if(this.eq(Mt)){if(e.eq(cr)||e.eq(Lf))return Mt;if(e.eq(Mt))return cr;var h=this.shr(1);return s=h.div(e).shl(1),s.eq(Rn)?e.isNegative()?cr:Lf:(o=this.sub(e.mul(s)),c=s.add(o.div(e)),c)}else if(e.eq(Mt))return this.unsigned?li:Rn;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();c=Rn}for(o=this;o.gte(e);){s=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var d=Math.ceil(Math.log(s)/Math.LN2),y=d<=48?1:Oo(2,d-48),m=fn(s),b=m.mul(e);b.isNegative()||b.gt(o);)s-=y,m=fn(s,this.unsigned),b=m.mul(e);m.isZero()&&(m=cr),c=c.add(m),o=o.sub(b)}return c};_.div=_.divide;_.modulo=function(e){if(Tt(e)||(e=yn(e)),cn){var a=(this.unsigned?cn.rem_u:cn.rem_s)(this.low,this.high,e.low,e.high);return Re(a,cn.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};_.mod=_.modulo;_.rem=_.modulo;_.not=function(){return Re(~this.low,~this.high,this.unsigned)};_.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};_.clz=_.countLeadingZeros;_.countTrailingZeros=function(){return this.low?Qp(this.low):Qp(this.high)+32};_.ctz=_.countTrailingZeros;_.and=function(e){return Tt(e)||(e=yn(e)),Re(this.low&e.low,this.high&e.high,this.unsigned)};_.or=function(e){return Tt(e)||(e=yn(e)),Re(this.low|e.low,this.high|e.high,this.unsigned)};_.xor=function(e){return Tt(e)||(e=yn(e)),Re(this.low^e.low,this.high^e.high,this.unsigned)};_.shiftLeft=function(e){return Tt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Re(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Re(0,this.low<<e-32,this.unsigned)};_.shl=_.shiftLeft;_.shiftRight=function(e){return Tt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Re(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Re(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};_.shr=_.shiftRight;_.shiftRightUnsigned=function(e){return Tt(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Re(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?Re(this.high,0,this.unsigned):Re(this.high>>>e-32,0,this.unsigned)};_.shru=_.shiftRightUnsigned;_.shr_u=_.shiftRightUnsigned;_.rotateLeft=function(e){var a;return Tt(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Re(this.high,this.low,this.unsigned):e<32?(a=32-e,Re(this.low<<e|this.high>>>a,this.high<<e|this.low>>>a,this.unsigned)):(e-=32,a=32-e,Re(this.high<<e|this.low>>>a,this.low<<e|this.high>>>a,this.unsigned))};_.rotl=_.rotateLeft;_.rotateRight=function(e){var a;return Tt(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Re(this.high,this.low,this.unsigned):e<32?(a=32-e,Re(this.high<<a|this.low>>>e,this.low<<a|this.high>>>e,this.unsigned)):(e-=32,a=32-e,Re(this.low<<a|this.high>>>e,this.high<<a|this.low>>>e,this.unsigned))};_.rotr=_.rotateRight;_.toSigned=function(){return this.unsigned?Re(this.low,this.high,!1):this};_.toUnsigned=function(){return this.unsigned?this:Re(this.low,this.high,!0)};_.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};_.toBytesLE=function(){var e=this.high,a=this.low;return[a&255,a>>>8&255,a>>>16&255,a>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};_.toBytesBE=function(){var e=this.high,a=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,a>>>24,a>>>16&255,a>>>8&255,a&255]};Se.fromBytes=function(e,a,s){return s?Se.fromBytesLE(e,a):Se.fromBytesBE(e,a)};Se.fromBytesLE=function(e,a){return new Se(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,a)};Se.fromBytesBE=function(e,a){return new Se(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],a)};typeof BigInt=="function"&&(Se.fromBigInt=function(e,a){var s=Number(BigInt.asIntN(32,e)),o=Number(BigInt.asIntN(32,e>>BigInt(32)));return Re(s,o,a)},Se.fromValue=function(e,a){return typeof e=="bigint"?Se.fromBigInt(e,a):yn(e,a)},_.toBigInt=function(){var e=BigInt(this.low>>>0),a=BigInt(this.unsigned?this.high>>>0:this.high);return a<<BigInt(32)|e});var Ge=(i=>(i[i.Null=0]="Null",i[i.Boolean=1]="Boolean",i[i.Integer=2]="Integer",i[i.Long=3]="Long",i[i.Double=4]="Double",i[i.String=5]="String",i[i.Bytes=6]="Bytes",i[i.Date=7]="Date",i))(Ge||{});class He extends ks{valueType;value;constructor(e,a){super(a),this.valueType=He.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,a){return new He(e,a)}static valueFromBytes(e,a){switch(e){case 0:return null;case 1:return!!a[0];case 2:return a[0]|a[1]<<8|a[2]<<16|a[3]<<24;case 4:{const s=new DataView(a.buffer);return a.forEach(function(o,c){s.setUint8(c,o)}),s.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(a);case 3:return Se.fromBytesLE(Array.from(a));case 6:return a;case 7:return new Date(Se.fromBytesLE(Array.from(a),!0).toNumber());default:throw new T(N.ErrUnimplemented,`unimplemented type: ${e}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new T(N.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${Bn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=He.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof Se)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return He.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,a=new Uint8Array(8);return new DataView(a.buffer).setFloat64(0,e,!0),a}case 5:return new TextEncoder().encode(this.value);case 3:{const a=this.value.toBytesLE();return Uint8Array.from(a)}case 6:return this.value;case 7:{const e=this.value,a=Se.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(a)}default:throw new T(N.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Vo extends pb{prev;next;movedFrom;constructor(e){super(e),this.value=e}static createAfter(e,a){const s=new Vo(a),o=e.next;return e.next=s,s.prev=e,s.next=o,o&&(o.prev=s),s}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(e){this.movedFrom=e}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class Gs{dummyHead;last;nodeMapByIndex;nodeMapByCreatedAt;constructor(){const e=He.of(0,vr);e.setRemovedAt(vr),this.dummyHead=new Vo(e),this.last=this.dummyHead,this.nodeMapByIndex=new Ys,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new Gs}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(e,a){let s=this.nodeMapByCreatedAt.get(e.toIDString());if(!s)throw new T(N.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);for(;s.getValue().getMovedAt()&&s.getValue().getMovedAt().after(a)&&s.getMovedFrom();)s=s.getMovedFrom();for(;s.getNext()&&s.getNext().getPositionedAt().after(a);)s=s.getNext();return s}release(e){this.last===e&&(this.last=e.getPrev()),e.release(),this.nodeMapByIndex.delete(e),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}insertAfter(e,a,s=a.getCreatedAt()){const o=this.findNextBeforeExecutedAt(e,s),c=Vo.createAfter(o,a);return o===this.last&&(this.last=c),this.nodeMapByIndex.insertAfter(o,c),this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),c),c}moveAfter(e,a,s){let o=this.nodeMapByCreatedAt.get(e.toIDString());if(!o)throw new T(N.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);let c=this.nodeMapByCreatedAt.get(a.toIDString());if(!c)throw new T(N.ErrInvalidArgument,`cant find the given node: ${a.toIDString()}`);if(o!==c&&s.after(c.getPositionedAt())){const h=c.getPrev();let d=c.getNext();for(this.release(c),c=this.insertAfter(o.getCreatedAt(),c.getValue(),s),c.getValue().setMovedAt(s),c.setMovedFrom(h);d&&d.getPositionedAt().after(s);)o=c,c=d,d=c.getNext(),this.release(c),c=this.insertAfter(o.getCreatedAt(),c.getValue(),s),c.getValue().setMovedAt(s),c.setMovedFrom(h)}}insert(e){this.insertAfter(this.last.getCreatedAt(),e)}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}subPathOf(e){const a=this.nodeMapByCreatedAt.get(e.toIDString());if(a)return String(this.nodeMapByIndex.indexOf(a))}purge(e){const a=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!a)throw new T(N.ErrInvalidArgument,`fail to find the given createdAt: ${e.getCreatedAt().toIDString()}`);this.release(a)}getByIndex(e){if(e>=this.length)return;const[a,s]=this.nodeMapByIndex.find(e);let o=a;if(e===0&&a===this.dummyHead||s>0)do o&&(o=o.getNext());while(o&&o.isRemoved());return o}getPrevCreatedAt(e){let a=this.nodeMapByCreatedAt.get(e.toIDString());do a=a.getPrev();while(this.dummyHead!==a&&a.isRemoved());return a.getValue().getCreatedAt()}delete(e,a){const s=this.nodeMapByCreatedAt.get(e.toIDString()),o=s.isRemoved();return s.remove(a)&&!o&&this.nodeMapByIndex.splayNode(s),s.getValue()}set(e,a,s){const o=this.nodeMapByCreatedAt.get(e.toIDString());if(!o)throw new T(N.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);return this.insertAfter(o.getCreatedAt(),a,s),this.delete(e,s)}deleteByIndex(e,a){const s=this.getByIndex(e);if(s)return s.remove(a)&&this.nodeMapByIndex.splayNode(s),s.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const e=[];for(const a of this){const s=`${a.getCreatedAt().toIDString()}:${a.getValue().toJSON()}`;a.isRemoved()?e.push(`{${s}}`):e.push(`[${s}]`)}return e.join("")}*[Symbol.iterator](){let e=this.dummyHead.getNext();for(;e;)yield e,e=e.getNext()}}class Nt extends Wi{elements;constructor(e,a){super(e),this.elements=a}static create(e,a){if(!a)return new Nt(e,Gs.create());const s=Gs.create();for(const o of a)s.insertAfter(s.getLastCreatedAt(),o.deepcopy());return new Nt(e,s)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,a,s){this.elements.insertAfter(e,a,s)}moveAfter(e,a,s){this.elements.moveAfter(e,a,s)}get(e){return this.elements.getByIndex(e)?.getValue()}getByID(e){return this.elements.getByID(e)?.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,a){return this.elements.delete(e,a)}deleteByIndex(e,a){return this.elements.deleteByIndex(e,a)}set(e,a,s){return this.elements.set(e,a,s)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const a of this.elements){const s=a.getValue();if(e(s,this))return;s instanceof Wi&&s.getDescendants(e)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const a of this)e.push(a.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let a=0;a<this.length;a++){const{createdAt:s,value:o,type:c}=this.get(a).toJSForTest();e[a]={key:String(a),createdAt:s,value:o,type:c}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=Nt.create(this.getCreatedAt());for(const a of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),a.getValue().deepcopy());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}}class ki extends Dn{prevCreatedAt;value;constructor(e,a,s,o){super(e,o),this.prevCreatedAt=a,this.value=s}static create(e,a,s,o){return new ki(e,a,s,o)}execute(e){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Nt))throw new T(N.ErrInvalidArgument,"fail to execute, only array can execute add");const s=a,o=this.value.deepcopy();return s.insertAfter(this.prevCreatedAt,o,this.getExecutedAt()),e.registerElement(o,s),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(s.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return Yn.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(e){this.prevCreatedAt=e}}class Yn extends Dn{createdAt;constructor(e,a,s){super(e,s),this.createdAt=a}static create(e,a,s){return new Yn(e,a,s)}execute(e,a){const s=e.findByCreatedAt(this.getParentCreatedAt());if(!s)throw new T(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(s instanceof Wi))throw new T(N.ErrInvalidArgument,`only object and array can execute remove: ${s}`);if(a===Fe.UndoRedo){let y=s.getByID(this.createdAt);for(;y;){if(y.getRemovedAt())return;y=e.findElementPairByCreatedAt(y.getCreatedAt())?.parent}}const o=s.subPathOf(this.createdAt),c=this.toReverseOperation(s),h=s.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(h),{opInfos:s instanceof Nt?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(o)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:o}],reverseOp:c}}toReverseOperation(e){if(e instanceof Nt){const a=e.getByID(this.createdAt);if(a!==void 0){const s=e.getPrevCreatedAt(this.createdAt);return ki.create(this.getParentCreatedAt(),s,a.deepcopy())}}if(e instanceof Et){const a=e.subPathOf(this.createdAt);if(a!==void 0){const s=e.get(a);if(s!==void 0)return ba.create(a,s.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(e){this.createdAt=e}}class ba extends Dn{key;value;constructor(e,a,s,o){super(s,o),this.key=e,this.value=a}static create(e,a,s,o){return new ba(e,a,s,o)}execute(e,a){const s=e.findByCreatedAt(this.getParentCreatedAt());if(!s)throw new T(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(s instanceof Et))throw new T(N.ErrInvalidArgument,"fail to execute, only object can execute set");if(a===Fe.UndoRedo){let y=s;for(;y;){if(y.getRemovedAt())return;y=e.findElementPairByCreatedAt(y.getCreatedAt())?.parent}}const o=s.get(this.key),c=this.toReverseOperation(o),h=this.value.deepcopy(),d=s.set(this.key,h,this.getExecutedAt());return a===Fe.UndoRedo&&e.findByCreatedAt(h.getCreatedAt())&&e.deregisterElement(h),e.registerElement(h,s),d&&e.registerRemovedElement(d),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:c}}toReverseOperation(e){let a=Yn.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(a=ba.create(this.key,e.deepcopy(),this.getParentCreatedAt())),a}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Cn extends Dn{prevCreatedAt;createdAt;constructor(e,a,s,o){super(e,o),this.prevCreatedAt=a,this.createdAt=s}static create(e,a,s,o){return new Cn(e,a,s,o)}execute(e){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Nt))throw new T(N.ErrInvalidArgument,"fail to execute, only array can execute move");const s=a,o=this.toReverseOperation(s),c=Number(s.subPathOf(this.createdAt));s.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const h=Number(s.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:h,previousIndex:c}],reverseOp:o}}toReverseOperation(e){const a=e.getPrevCreatedAt(this.createdAt);return Cn.create(this.getParentCreatedAt(),a,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(e){this.prevCreatedAt=e}setCreatedAt(e){this.createdAt=e}}class _i{key;value;updatedAt;_isRemoved;constructor(e,a,s,o){this.key=e,this.value=a,this.updatedAt=s,this._isRemoved=o}static of(e,a,s,o){return new _i(e,a,s,o)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Ln}}}class ci{nodeMapByKey;numberOfRemovedElement;constructor(){this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new ci}getNodeMapByKey(){return this.nodeMapByKey}set(e,a,s){const o=this.nodeMapByKey.get(e);if(o&&o.isRemoved()&&s.after(o.getUpdatedAt())&&(this.numberOfRemovedElement-=1),o===void 0||s.after(o.getUpdatedAt())){const c=_i.of(e,a,s,!1);return this.nodeMapByKey.set(e,c),o!==void 0&&o.isRemoved()?[o,c]:[void 0,c]}return o.isRemoved()?[o,void 0]:[void 0,void 0]}setInternal(e,a,s,o){const c=_i.of(e,a,s,o);this.nodeMapByKey.set(e,c),o&&this.numberOfRemovedElement++}remove(e,a){const s=this.nodeMapByKey.get(e),o=[];if(s===void 0||a.after(s.getUpdatedAt())){if(s===void 0){this.numberOfRemovedElement+=1;const d=_i.of(e,"",a,!0);return this.nodeMapByKey.set(e,d),o.push(d),o}const c=s.isRemoved();c||(this.numberOfRemovedElement+=1),c&&o.push(s);const h=_i.of(e,s.getValue(),a,!0);return this.nodeMapByKey.set(e,h),o.push(h),o}return o}has(e){if(this.nodeMapByKey.has(e)){const a=this.nodeMapByKey.get(e);return a!==void 0&&!a.isRemoved()}return!1}get(e){if(this.nodeMapByKey.has(e))return this.nodeMapByKey.get(e).getValue()}deepcopy(){const e=new ci;for(const[,a]of this.nodeMapByKey)e.setInternal(a.getKey(),a.getValue(),a.getUpdatedAt(),a.isRemoved());return e}toJSON(){if(!this.size())return"{}";const e=[];for(const[a,s]of this.nodeMapByKey)s.isRemoved()||e.push(`"${Bn(a)}":"${Bn(s.getValue())}"`);return`{${e.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const e={};for(const[a,s]of this.nodeMapByKey)s.isRemoved()||(e[a]=s.getValue());return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}purge(e){const a=this.nodeMapByKey.get(e.getKey());a==null||a.toIDString()!=e.toIDString()||(this.nodeMapByKey.delete(e.getKey()),this.numberOfRemovedElement--)}}function En(i){if(i instanceof Map){const e=Array.from(i);return new Map(JSON.parse(JSON.stringify(e)))}return JSON.parse(JSON.stringify(i))}const Eb=i=>i?Object.entries(i).length===0:!0,Er=i=>{const e={};for(const[a,s]of Object.entries(i))e[a]=JSON.stringify(s);return e},oi=i=>{const e={};for(const[a,s]of Object.entries(i))e[a]=JSON.parse(s);return e};function eN(i){return i?n0(i.live)+n0(i.gc):0}function n0(i){return i.data+i.meta}function vt(i,...e){for(const a of e)i.data+=a.data,i.meta+=a.meta}function ya(i,e){i.data-=e.data,i.meta-=e.meta}class _s{attributes;content;constructor(e){this.attributes=ci.create(),this.content=e}static create(e){return new _s(e)}get length(){return this.content.length}substring(e,a){const s=new _s(this.content.substring(e,a));return s.attributes=this.attributes.deepcopy(),s}setAttr(e,a,s){return this.attributes.set(e,a,s)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const e={data:0,meta:0};e.data+=this.content.length*2;for(const a of this.attributes){const s=a.getDataSize();e.meta+=s.meta,e.data+=s.data}return e}toJSON(){const e=Bn(this.content),a=this.attributes.toObject(),s=[];for(const[o,c]of Object.entries(a)){const h=JSON.parse(c),d=typeof h=="string"?`"${Bn(o)}":"${Bn(h)}"`:`"${Bn(o)}":${String(h)}`;s.push(d)}return s.sort(),s.length===0?`{"val":"${e}"}`:`{"attrs":{${s.join(",")}},"val":"${e}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(e){this.attributes&&e instanceof _i&&this.attributes.purge(e)}getGCPairs(){const e=[];for(const a of this.attributes)a.getRemovedAt()&&e.push({parent:this,child:a});return e}}class $t extends ks{rgaTreeSplit;constructor(e,a){super(a),this.rgaTreeSplit=e}static create(e,a){return new $t(e,a)}edit(e,a,s,o,c){const h=a?_s.create(a):void 0;if(h&&o)for(const[w,R]of Object.entries(o))h.setAttr(w,R,s);const[d,y,m,b]=this.rgaTreeSplit.edit(e,s,h,c);return[b.map(w=>({...w,value:w.value?{attributes:oi(w.value.getAttributes()),content:w.value.getContent()}:{attributes:void 0,content:""},type:"content"})),y,m,[d,d]]}setStyle(e,a,s,o){const c={data:0,meta:0},[,h,d]=this.rgaTreeSplit.findNodeWithSplit(e[1],s),[,y,m]=this.rgaTreeSplit.findNodeWithSplit(e[0],s);vt(c,h,y);const b=[],A=this.rgaTreeSplit.findBetween(m,d),w=[];for(const C of A){const V=C.getCreatedAt().getActorID();let G=Bf;o!=null&&(G=o.get(V)?o.get(V):0n),C.canStyle(s,G)&&w.push(C)}const R=[];for(const C of w){if(C.isRemoved())continue;const[V,G]=this.rgaTreeSplit.findIndexesFromRange(C.createPosRange());b.push({type:"style",actor:s.getActorID(),from:V,to:G,value:{attributes:oi(a)}});for(const[H,q]of Object.entries(a)){const[X]=C.getValue().setAttr(H,q,s);X!==void 0&&R.push({parent:C.getValue(),child:X});const ne=C.getValue().getAttrs().getNodeMapByKey().get(H);ne!==void 0&&vt(c,ne.getDataSize())}}return[R,c,b]}indexRangeToPosRange(e,a){const s=this.rgaTreeSplit.indexToPos(e);return e===a?[s,s]:[s,this.rgaTreeSplit.indexToPos(a)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const e={data:0,meta:0};for(const a of this.rgaTreeSplit){if(a.isRemoved())continue;const s=a.getDataSize();e.data+=s.data,e.meta+=s.meta}return{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){const e=[];for(const a of this.rgaTreeSplit)a.isRemoved()||e.push(a.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const a of this.rgaTreeSplit)if(!a.isRemoved()){const s=a.getValue();e.push({attributes:oi(s.getAttributes()),content:s.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new $t(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}getGCPairs(){const e=[];for(const a of this.rgaTreeSplit){a.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:a});for(const s of a.getValue().getGCPairs())e.push(s)}return e}}class Fs extends Dn{fromPos;toPos;content;attributes;constructor(e,a,s,o,c,h){super(e,h),this.fromPos=a,this.toPos=s,this.content=o,this.attributes=c}static create(e,a,s,o,c,h){return new Fs(e,a,s,o,c,h)}execute(e,a,s){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new T(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof $t))throw new T(N.ErrInvalidArgument,"fail to execute, only Text can execute edit");const c=o,[h,d,y]=c.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),s);e.acc(y);for(const m of d)e.registerGCPair(m);return{opInfos:h.map(({from:m,to:b,value:A})=>({type:"edit",from:m,to:b,value:A,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),a=this.fromPos.toTestString(),s=this.toPos.toTestString(),o=this.content;return`${e}.EDIT(${a},${s},${o})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class js extends Dn{fromPos;toPos;attributes;constructor(e,a,s,o,c){super(e,c),this.fromPos=a,this.toPos=s,this.attributes=o}static create(e,a,s,o,c){return new js(e,a,s,o,c)}execute(e,a,s){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new T(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof $t))throw new T(N.ErrInvalidArgument,"fail to execute, only Text can execute edit");const c=o,[h,d,y]=c.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),s);e.acc(d);for(const m of h)e.registerGCPair(m);return{opInfos:y.map(({from:m,to:b,value:A})=>({type:"style",from:m,to:b,value:A,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),a=this.fromPos.toTestString(),s=this.toPos.toTestString(),o=this.attributes;return`${e}.STYL(${a},${s},${JSON.stringify(o)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const tN=2,nN="root",Mn="text";function Es(i,e,a=!1){let s=0;const o=a?i.allChildren:i.children;for(let c=0;c<e;c++){const h=o[c];!h||!a&&h.isRemoved||(s+=h.paddedSize(a))}return s}class iN{type;parent;_children;visibleSize;totalSize;constructor(e,a=[]){if(this.type=e,this.visibleSize=0,this.totalSize=0,this._children=a,this.isText&&this._children.length>0)throw new T(N.ErrRefused,"Text node cannot have children")}updateAncestorsSize(e,a=!1){let s=this.parent;for(;s;){if(a)s.totalSize+=e;else if(s.visibleSize+=e,s.isRemoved)break;s=s.parent}}updateDescendantsSize(e=!1){let a=0;for(const s of this._children){const o=s.updateDescendantsSize(e);!e&&s.isRemoved||(a+=o)}return e?this.totalSize+=a:this.visibleSize+=a,this.paddedSize(e)}get isText(){return this.type===Mn}paddedSize(e=!1){let a=this.visibleSize;return e&&(a=this.totalSize),this.isText||(a+=tN),a}isAncestorOf(e){return aN(this,e)}get nextSibling(){const e=this.parent.findOffset(this),a=this.parent.children[e+1];if(a)return a}get prevSibling(){const e=this.parent.findOffset(this),a=this.parent.children[e-1];if(a)return a}splitText(e,a){const s={data:0,meta:0};if(e===0||e===this.visibleSize)return[void 0,s];const o=this.value.slice(0,e),c=this.value.slice(e);if(!c.length)return[void 0,s];const h=this.getDataSize();this.value=o;const d=this.cloneText(e+a);return d.value=c,this.parent.insertAfterInternal(d,this),vt(s,this.getDataSize(),d.getDataSize()),ya(s,h),[d,s]}get children(){return this._children.filter(e=>!e.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(e=>e.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(e=>e.value).join(""):""}append(...e){if(this.isText)throw new T(N.ErrRefused,"Text node cannot have children");this._children.push(...e);for(const a of e)a.parent=this,a.updateAncestorsSize(a.paddedSize()),a.updateAncestorsSize(a.paddedSize(!0),!0)}prepend(...e){if(this.isText)throw new T(N.ErrRefused,"Text node cannot have children");this._children.unshift(...e);for(const a of e)a.parent=this}insertBefore(e,a){if(this.isText)throw new T(N.ErrRefused,"Text node cannot have children");const s=this._children.indexOf(a);if(s===-1)throw new T(N.ErrInvalidArgument,"child not found");this.insertAtInternal(e,s),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAfter(e,a){if(this.isText)throw new T(N.ErrRefused,"Text node cannot have children");const s=this._children.indexOf(a);if(s===-1)throw new T(N.ErrInvalidArgument,"child not found");this.insertAtInternal(e,s+1),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}insertAt(e,a){if(this.isText)throw new T(N.ErrRefused,"Text node cannot have children");this.insertAtInternal(e,a),e.updateAncestorsSize(e.paddedSize()),e.updateAncestorsSize(e.paddedSize(!0),!0)}removeChild(e){if(this.isText)throw new T(N.ErrRefused,"Text node cannot have children");const a=this._children.indexOf(e);if(a===-1)throw new T(N.ErrInvalidArgument,"child not found");this._children.splice(a,1),e.updateAncestorsSize(-e.paddedSize(!0),!0),e.parent=void 0}splitElement(e,a){const s={data:0,meta:0},o=this.getDataSize(),c=this.cloneElement(a);this.parent.insertAfterInternal(c,this),c.updateAncestorsSize(c.paddedSize()),c.updateAncestorsSize(c.paddedSize(!0),!0);const h=this.children.slice(0,e),d=this.children.slice(e);this._children=h,c._children=d,this.visibleSize=this._children.reduce((y,m)=>y+m.paddedSize(),0),this.totalSize=this._children.reduce((y,m)=>y+m.paddedSize(!0),0),c.visibleSize=c._children.reduce((y,m)=>y+m.paddedSize(!0),0),c.totalSize=c._children.reduce((y,m)=>y+m.paddedSize(!0),0);for(const y of c._children)y.parent=c;return vt(s,this.getDataSize(),c.getDataSize()),ya(s,o),[c,s]}insertAfterInternal(e,a){if(this.isText)throw new T(N.ErrRefused,"Text node cannot have children");const s=this._children.indexOf(a);if(s===-1)throw new T(N.ErrInvalidArgument,"child not found");this.insertAtInternal(e,s+1)}insertAtInternal(e,a){if(this.isText)throw new T(N.ErrRefused,"Text node cannot have children");this._children.splice(a,0,e),e.parent=this}findOffset(e,a=!1){if(this.isText)throw new T(N.ErrRefused,"Text node cannot have children");if(a)return this._children.indexOf(e);if(e.isRemoved){const s=this._children.indexOf(e);return this.allChildren.splice(0,s).filter(c=>!c.isRemoved).length}return this.children.indexOf(e)}findBranchOffset(e){if(this.isText)throw new T(N.ErrRefused,"Text node cannot have children");let a=e;for(;a;){const s=this._children.indexOf(a);if(s!==-1)return s;a=a.parent}return-1}}function aN(i,e){if(i===e)return!1;for(;e.parent;){if(e.parent===i)return!0;e=e.parent}return!1}var tt=(i=>(i.Start="Start",i.End="End",i.Text="Text",i))(tt||{});function Nb(i,e,a,s,o=!1){if(e>a)throw new T(N.ErrInvalidArgument,`from is greater than to: ${e} > ${a}`);const c=o?i.totalSize:i.visibleSize;if(e>c)throw new T(N.ErrInvalidArgument,`from is out of range: ${e} > ${c}`);if(a>c)throw new T(N.ErrInvalidArgument,`to is out of range: ${a} > ${c}`);if(e===a)return;let h=0;const d=o?i._children:i.children;for(const y of d){if(e-y.paddedSize(o)<h&&h<a){const m=y.isText?e-h:e-h-1,b=y.isText?a-h:a-h-1,A=o?y.totalSize:y.visibleSize,w=!y.isText&&m<0,R=!y.isText&&b>A;(y.isText||w)&&s([y,y.isText?"Text":"Start"],R),Nb(y,Math.max(0,m),Math.min(b,A),s,o),R&&s([y,"End"],R)}h+=y.paddedSize(o)}}function Tb(i,e,a=0){for(const s of i.children)Tb(s,e,a+1);e(i,a)}function Go(i,e,a=0){for(const s of i._children)Go(s,e,a+1);e(i,a)}function Mf(i,e,a=!0){if(e>i.visibleSize)throw new T(N.ErrInvalidArgument,`index is out of range: ${e} > ${i.visibleSize}`);if(i.isText)return{node:i,offset:e};let s=0,o=0;for(const c of i.children){if(a&&c.isText&&c.visibleSize>=e-o)return Mf(c,e-o,a);if(e===o)return{node:i,offset:s};if(!a&&c.paddedSize()===e-o)return{node:i,offset:s+1};if(c.paddedSize()>e-o)return Mf(c,e-o-1,a);o+=c.paddedSize(),s+=1}return{node:i,offset:s}}function Rb(i){return i.isText||i.children.length===0?i:Rb(i.children[0])}function rN(i,e){if(i.visibleSize<e)throw new T(N.ErrInvalidArgument,"unacceptable path");for(let a=0;a<i.children.length;a++){const s=i.children[a];if(s.visibleSize<e)e-=s.visibleSize;else{i=s;break}}return{node:i,offset:e}}class sN{root;constructor(e){this.root=e}tokensBetween(e,a,s,o=!1){Nb(this.root,e,a,s,o)}traverse(e){Tb(this.root,e,0)}traverseAll(e){Go(this.root,e,0)}findTreePos(e,a=!0){return Mf(this.root,e,a)}treePosToPath(e){const a=[];let s=e.node;if(s.isText){const o=s.parent.findOffset(s);if(o===-1)throw new T(N.ErrInvalidArgument,"invalid treePos");const c=Es(s.parent,o);a.push(c+e.offset),s=s.parent}else if(s.hasTextChild()){const o=Es(s,e.offset);a.push(o)}else a.push(e.offset);for(;s.parent;){const o=s.parent.findOffset(s);if(o===-1)throw new T(N.ErrInvalidArgument,"invalid treePos");a.push(o),s=s.parent}return a.reverse()}pathToIndex(e){const a=this.pathToTreePos(e);return this.indexOf(a)}pathToTreePos(e){if(!e.length)throw new T(N.ErrInvalidArgument,"unacceptable path");let a=this.root;for(let s=0;s<e.length-1;s++){const o=e[s];if(a=a.children[o],!a)throw new T(N.ErrInvalidArgument,"unacceptable path")}if(a.hasTextChild())return rN(a,e[e.length-1]);if(a.children.length<e[e.length-1])throw new T(N.ErrInvalidArgument,"unacceptable path");return{node:a,offset:e[e.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(e){const{node:a,offset:s}=e;if(a.isText){if(a.visibleSize===s){const o=a.nextSibling;return o||a.parent}return a}return a.children.length===s?a:Rb(a.children[s])}indexOf(e,a=!1){let{node:s}=e;const{offset:o}=e;let c=0,h=1;if(s.isText){c+=o;const d=s.parent,y=d.findOffset(s,a);if(y===-1)throw new T(N.ErrInvalidArgument,"invalid pos");c+=Es(d,y,a),s=s.parent}else c+=Es(s,o,a);for(;s?.parent;){const d=s.parent,y=d.findOffset(s,a);if(y===-1)throw new T(N.ErrInvalidArgument,"invalid pos");c+=Es(d,y,a),h++,s=s.parent}return c+h-1}indexToPath(e){const a=this.findTreePos(e);return this.treePosToPath(a)}}const lN=(i,e)=>i===e?0:i<e?-1:1;class oN{key;value;left;right;isRed;constructor(e,a,s){this.key=e,this.value=a,this.isRed=s}}class uN{stack;constructor(e){this.stack=[],this.traverseInorder(e)}traverseInorder(e){e&&(this.traverseInorder(e.left),this.stack.push({key:e.key,value:e.value}),this.traverseInorder(e.right))}}class Cb{root;comparator;counter;constructor(e){this.comparator=typeof e<"u"?e:lN,this.counter=0}put(e,a){return this.root=this.putInternal(e,a,this.root),this.root.isRed=!1,a}get(e){const a=this.getInternal(e,this.root);return a?a.value:void 0}remove(e){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,e),this.root&&(this.root.isRed=!1)}getIterator(){return new uN(this.root)}values(){const e=[];for(const a of this.getIterator().stack)e.push(a.value);return e}floorEntry(e){let a=this.root,s;for(;a;){const o=this.comparator(e,a.key);if(o===0)return a;o<0?a=a.left:(s=a,a=a.right)}return s}lastEntry(){if(!this.root)return this.root;let e=this.root;for(;e.right;)e=e.right;return e}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(e,a){for(;a;){const s=this.comparator(e,a.key);if(s===0)return a;s<0?a=a.left:s>0&&(a=a.right)}}putInternal(e,a,s){if(!s)return this.counter+=1,new oN(e,a,!0);const o=this.comparator(e,s.key);return o<0?s.left=this.putInternal(e,a,s.left):o>0?s.right=this.putInternal(e,a,s.right):s.value=a,this.isRed(s.right)&&!this.isRed(s.left)&&(s=this.rotateLeft(s)),this.isRed(s.left)&&this.isRed(s.left.left)&&(s=this.rotateRight(s)),this.isRed(s.left)&&this.isRed(s.right)&&this.flipColors(s),s}removeInternal(e,a){if(this.comparator(a,e.key)<0)!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeInternal(e.left,a);else{if(this.isRed(e.left)&&(e=this.rotateRight(e)),this.comparator(a,e.key)===0&&!e.right){this.counter-=1;return}if(!this.isRed(e.right)&&!this.isRed(e.right.left)&&(e=this.moveRedRight(e)),this.comparator(a,e.key)===0){this.counter-=1;const s=this.min(e.right);e.value=s.value,e.key=s.key,e.right=this.removeMin(e.right)}else e.right=this.removeInternal(e.right,a)}return this.fixUp(e)}min(e){return e.left?this.min(e.left):e}removeMin(e){if(e.left)return!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeMin(e.left),this.fixUp(e)}fixUp(e){return this.isRed(e.right)&&(e=this.rotateLeft(e)),this.isRed(e.left)&&this.isRed(e.left.left)&&(e=this.rotateRight(e)),this.isRed(e.left)&&this.isRed(e.right)&&this.flipColors(e),e}moveRedLeft(e){return this.flipColors(e),this.isRed(e.right.left)&&(e.right=this.rotateRight(e.right),e=this.rotateLeft(e),this.flipColors(e)),e}moveRedRight(e){return this.flipColors(e),this.isRed(e.left.left)&&(e=this.rotateRight(e),this.flipColors(e)),e}isRed(e){return e&&e.isRed}rotateLeft(e){const a=e.right;return e.right=a.left,a.left=e,a.isRed=a.left.isRed,a.left.isRed=!0,a}rotateRight(e){const a=e.left;return e.left=a.right,a.right=e,a.isRed=a.right.isRed,a.right.isRed=!0,a}flipColors(e){e.isRed=!e.isRed,e.left.isRed=!e.left.isRed,e.right.isRed=!e.right.isRed}}class In{parentID;leftSiblingID;constructor(e,a){this.parentID=e,this.leftSiblingID=a}static of(e,a){return new In(e,a)}static fromTreePos(e){const{offset:a}=e;let{node:s}=e,o;return s.isText?(s.parent.children[0]===s&&a===0?o=s.parent:o=s,s=s.parent):a===0?o=s:o=s.children[a-1],In.of(s.id,At.of(o.getCreatedAt(),o.getOffset()+a))}getParentID(){return this.parentID}static fromStruct(e){return In.of(At.of(hn.fromStruct(e.parentID.createdAt),e.parentID.offset),At.of(hn.fromStruct(e.leftSiblingID.createdAt),e.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(e){const a=this.getParentID(),s=this.getLeftSiblingID(),o=e.findFloorNode(a);let c=e.findFloorNode(s);if(!o||!c)throw new T(N.ErrRefused,`cannot find node of CRDTTreePos(${a.toTestString()}, ${s.toTestString()})`);return!s.equals(a)&&s.getOffset()>0&&s.getOffset()===c.id.getOffset()&&c.insPrevID&&(c=e.findFloorNode(c.insPrevID)),[o,c]}getLeftSiblingID(){return this.leftSiblingID}equals(e){return this.getParentID().getCreatedAt().equals(e.getParentID().getCreatedAt())&&this.getParentID().getOffset()===e.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(e.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===e.getLeftSiblingID().getOffset()}}class At{createdAt;offset;constructor(e,a){this.createdAt=e,this.offset=a}static of(e,a){return new At(e,a)}static fromStruct(e){return At.of(hn.fromStruct(e.createdAt),e.offset)}static createComparator(){return(e,a)=>{const s=e.getCreatedAt().compare(a.getCreatedAt());return s!==0?s:e.getOffset()>a.getOffset()?1:e.getOffset()<a.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}getOffset(){return this.offset}setOffset(e){this.offset=e}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Qt extends iN{id;removedAt;attrs;insPrevID;insNextID;_value="";constructor(e,a,s,o,c){super(a),this.id=e,this.removedAt=c,o&&(this.attrs=o),typeof s=="string"?this.value=s:Array.isArray(s)&&(this._children=s)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,a,s,o){return new Qt(e,a,s,o)}deepcopy(){const e=new Qt(this.id,this.type);return e.removedAt=this.removedAt,e._value=this._value,e.visibleSize=this.visibleSize,e.totalSize=this.totalSize,e.attrs=this.attrs?.deepcopy(),e._children=this._children.map(a=>{const s=a.deepcopy();return s.parent=e,s}),e.insPrevID=this.insPrevID,e.insNextID=this.insNextID,e}get value(){if(!this.isText)throw new T(N.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new T(N.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=e,this.visibleSize=e.length,this.totalSize=e.length}get isRemoved(){return!!this.removedAt}remove(e){return this.removedAt?(e.after(this.removedAt)&&(this.removedAt=e),!1):(this.removedAt=e,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(e){return new Qt(At.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new Qt(At.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,a,s){const[o,c]=this.isText?this.splitText(a,this.id.getOffset()):this.splitElement(a,s);if(o){if(o.insPrevID=this.id,this.insNextID){const h=e.findFloorNode(this.insNextID);h.insPrevID=o.id,o.insNextID=this.insNextID}this.insNextID=o.id,e.registerNode(o)}return[o,c]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,a,s){return a?!!(!this.removedAt||!s&&e?.after(this.removedAt)):!1}canStyle(e,a){return this.isText?!1:this.getCreatedAt().getLamport()<=a&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,a){this.attrs||(this.attrs=new ci);const s=[];for(const[o,c]of Object.entries(e))s.push(this.attrs.set(o,c,a));return s}purge(e){this.attrs&&this.attrs.purge(e)}getDataSize(){const e={data:0,meta:0};if(this.isText&&(e.data+=this.visibleSize*2),this.id&&(e.meta+=Ln),this.removedAt&&(e.meta+=Ln),this.attrs)for(const a of this.attrs){if(a.getRemovedAt())continue;const s=a.getDataSize();e.meta+=s.meta,e.data+=s.data}return e}getGCPairs(){const e=[];if(!this.attrs)return e;for(const a of this.attrs)a.getRemovedAt()&&e.push({parent:this,child:a});return e}}function Zf(i){if(i.isText){const a=i;return{type:a.type,value:a.value}}const e={type:i.type,children:i.children.map(Zf)};return i.attrs&&(e.attributes=oi(i.attrs?.toObject())),e}function bh(i){if(i.isText)return i.value;let e="";return i.attrs&&i.attrs.size()&&(e=" "+Array.from(i.attrs).filter(a=>!a.isRemoved()).sort((a,s)=>a.getKey().localeCompare(s.getKey())).map(a=>{const s=JSON.parse(a.getValue());return typeof s=="string"?`${a.getKey()}="${s}"`:`${a.getKey()}="${Bn(a.getValue())}"`}).join(" ")),`<${i.type}${e}>${i.children.map(a=>bh(a)).join("")}</${i.type}>`}function Ib(i){if(i.isText){const e=i;return{type:e.type,value:e.value,visibleSize:e.visibleSize,isRemoved:e.isRemoved}}return{type:i.type,children:i.children.map(Ib),visibleSize:i.visibleSize,isRemoved:i.isRemoved}}class Pt extends ks{indexTree;nodeMapByID;constructor(e,a){super(a),this.indexTree=new sN(e),this.nodeMapByID=new Cb(At.createComparator()),this.indexTree.traverseAll(s=>{this.nodeMapByID.put(s.id,s)})}static create(e,a){return new Pt(e,a)}findFloorNode(e){const a=this.nodeMapByID.floorEntry(e);if(!(!a||!a.key.getCreatedAt().equals(e.getCreatedAt())))return a.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,a){let s={data:0,meta:0};const[o,c]=e.toTreeNodePair(this);let h=c;const d=o===h,y=h.parent&&!d?h.parent:o;if(h.isText){const[,m]=h.split(this,e.getLeftSiblingID().getOffset()-h.id.getOffset());s=m}if(a){const m=y.allChildren,b=d?0:m.indexOf(h)+1;for(let A=b;A<m.length;A++){const w=m[A];if(!w.id.getCreatedAt().after(a))break;h=w}}return[[y,h],s]}style(e,a,s,o){const c={data:0,meta:0},[[h,d],y]=this.findNodesAndSplitText(e[0],s),[[m,b],A]=this.findNodesAndSplitText(e[1],s);vt(c,A,y);const w=[],R=a?oi(a):{},C=[];return this.traverseInPosRange(h,d,m,b,([V,G])=>{const H=V.getCreatedAt().getActorID();let q=Bf;if(o!=null&&(q=o.get(H)?o.get(H):0n),V.canStyle(s,q)&&a){const X=V.setAttrs(a,s),ne=X.reduce((W,[,ae])=>(ae&&(W[ae.getKey()]=R[ae.getKey()]),W),{}),J=V.parent,K=V.prevSibling||V.parent;Object.keys(ne).length>0&&w.push({type:"style",from:this.toIndex(J,K),to:this.toIndex(V,V),fromPath:this.toPath(J,K),toPath:this.toPath(V,V),actor:s.getActorID(),value:ne});for(const[W]of X)W&&C.push({parent:V,child:W});for(const[W]of Object.entries(R)){const ae=V.attrs?.getNodeMapByKey().get(W);ae!==void 0&&G!==tt.End&&vt(c,ae.getDataSize())}}}),[C,w,c]}removeStyle(e,a,s,o){const c={data:0,meta:0},[[h,d],y]=this.findNodesAndSplitText(e[0],s),[[m,b],A]=this.findNodesAndSplitText(e[1],s);vt(c,A,y);const w=[],R=[];return this.traverseInPosRange(h,d,m,b,([C])=>{const V=C.getCreatedAt().getActorID();let G=Bf;if(o!=null&&(G=o.get(V)?o.get(V):0n),C.canStyle(s,G)&&a){C.attrs||(C.attrs=new ci);for(const X of a){const ne=C.attrs.remove(X,s);for(const J of ne)R.push({parent:C,child:J})}const H=C.parent,q=C.prevSibling||C.parent;w.push({actor:s.getActorID(),type:"removeStyle",from:this.toIndex(H,q),to:this.toIndex(C,C),fromPath:this.toPath(H,q),toPath:this.toPath(C,C),value:a})}}),[R,w,c]}edit(e,a,s,o,c,h){const d={data:0,meta:0},[[y,m],b]=this.findNodesAndSplitText(e[0],o),[[A,w],R]=this.findNodesAndSplitText(e[1],o);vt(d,R,b);const C=this.toIndex(y,m),V=this.toPath(y,m),G=[],H=[],q=[];this.traverseInPosRange(y,m,A,w,([J,K],W)=>{if(K===tt.Start&&!W)for(const _e of J.children)q.push(_e);const ae=h===void 0;let Je=!1;const dt=h?.get(J.id.getCreatedAt().getActorID());Je=ae||dt!==void 0&&dt>=J.id.getCreatedAt().getLamport();let ot=!1;if(J.removedAt){const _e=h?.get(J.removedAt.getActorID());ot=ae||_e!==void 0&&_e>=J.removedAt.getLamport()}(J.canDelete(o,Je,ot)||G.includes(J.parent))&&((K===tt.Text||K===tt.Start)&&G.push(J),H.push([J,K]))},!0);const X=this.makeDeletionChanges(H,o),ne=[];for(const J of G)J.remove(o),J.isRemoved&&ne.push({parent:this,child:J});for(const J of q)J.removedAt||y.append(J);if(s>0){let J=0,K=y,W=m;for(;J<s;)K.split(this,K.findOffset(W)+1,c),W=K,K=K.parent,J++;X.push({type:"content",from:C,to:C,fromPath:V,toPath:V,actor:o.getActorID()})}if(a?.length){const J=[];let K=m;for(const W of a)K===y?y.insertAt(W,0):y.insertAfter(W,K),K=W,Go(W,ae=>{y.isRemoved?(ae.remove(o),ne.push({parent:this,child:ae})):vt(d,ae.getDataSize()),this.nodeMapByID.put(ae.id,ae)}),W.isRemoved||J.push(W);if(J.length){const W=J.map(ae=>Zf(ae));X.length&&X[X.length-1].from===C?X[X.length-1].value=W:X.push({type:"content",from:C,to:C,fromPath:V,toPath:V,actor:o.getActorID(),value:W})}}return[X,ne,d]}editT(e,a,s,o,c){const h=this.findPos(e[0]),d=this.findPos(e[1]);return this.edit([h,d],a,s,o,c)}move(e,a,s){throw new T(N.ErrUnimplemented,`not implemented: ${e}, ${a}, ${s}`)}pathToTreePos(e){return this.indexTree.pathToTreePos(e)}purge(e){e.parent?.removeChild(e),this.nodeMapByID.remove(e.id);const a=e.insPrevID,s=e.insNextID;if(a){const o=this.findFloorNode(a);o.insNextID=s}if(s){const o=this.findFloorNode(s);o.insPrevID=a}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(a=>{a.getRemovedAt()&&e.push({parent:this,child:a});for(const s of a.getGCPairs())e.push(s)}),e}findPos(e,a=!0){const s=this.indexTree.findTreePos(e,a);return In.fromTreePos(s)}pathToPosRange(e){const a=this.pathToIndex(e);return[this.findPos(a),this.findPos(a+1)]}pathToPos(e){const a=this.indexTree.pathToIndex(e);return this.findPos(a)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return bh(this.indexTree.getRoot())}getDataSize(){const e={data:0,meta:0};return this.indexTree.traverse(a=>{if(a.getRemovedAt())return;const s=a.getDataSize();e.data+=s.data,e.meta+=s.meta}),{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),a=(s,o=void 0,c=void 0,h=0)=>{let d,y,m;const b=s.isText?{node:s,offset:0}:o&&c?this.toTreePos(o,c):null;b&&(d=this.indexTree.indexOf(b),y=this.indexTree.treePosToPath(b),m=In.fromTreePos(b).toStruct());const A={type:s.type,parent:o?.id.toTestString(),size:s.visibleSize,id:s.id.toTestString(),removedAt:s.removedAt?.toTestString(),insPrev:s.insPrevID?.toTestString(),insNext:s.insNextID?.toTestString(),value:s.isText?s.value:void 0,isRemoved:s.isRemoved,children:[],depth:h,attributes:s.attrs?oi(s.attrs?.toObject()):void 0,index:d,path:y,pos:m};for(let w=0;w<s.allChildren.length;w++){const R=w===0?s:s.allChildren[w-1];A.children.push(a(s.allChildren[w],s,R,h+1))}return A};return a(e)}getRootTreeNode(){return Zf(this.indexTree.getRoot())}toTestTreeNode(){return Ib(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot(),a=new Pt(e.deepcopy(),this.getCreatedAt());return a.setRemovedAt(this.getRemovedAt()),a.setMovedAt(this.getMovedAt()),a}toPath(e,a){const s=this.toTreePos(e,a);return s?this.indexTree.treePosToPath(s):[]}toIndex(e,a,s=!1){const o=this.toTreePos(e,a,s);return o?this.indexTree.indexOf(o,s):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const a=this.findPos(e[0]);return e[0]===e[1]?[a,a]:[a,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[a,s]=e,o=this.findPos(a);return a===s?[o.toStruct(),o.toStruct()]:[o.toStruct(),this.findPos(s).toStruct()]}posRangeToPathRange(e){const[[a,s]]=this.findNodesAndSplitText(e[0]),[[o,c]]=this.findNodesAndSplitText(e[1]);return[this.toPath(a,s),this.toPath(o,c)]}posRangeToIndexRange(e){const[[a,s]]=this.findNodesAndSplitText(e[0]),[[o,c]]=this.findNodesAndSplitText(e[1]);return[this.toIndex(a,s),this.toIndex(o,c)]}traverseInPosRange(e,a,s,o,c,h=!1){const d=this.toIndex(e,a,h),y=this.toIndex(s,o,h);this.indexTree.tokensBetween(d,y,c,h)}toTreePos(e,a,s=!1){if(!e||!a)return;if(!s&&e.isRemoved){let c;for(;e.isRemoved;)c=e,e=c.parent;const h=e.findOffset(c,s);return{node:e,offset:h}}if(e===a)return{node:e,offset:0};let o=e.findOffset(a,s);if(s||!a.isRemoved){if(a.isText)return{node:a,offset:a.paddedSize(s)};o++}return{node:e,offset:o}}makeDeletionChanges(e,a){const s=[],o=[];let c=null,h=null;for(let d=0;d<e.length;d++){const y=e[d],m=e[d+1];c||(c=y),h=y;const b=this.findRightToken(y);(!b||!m||b[0]!==m[0]||b[1]!==m[1])&&(o.push([c,h]),c=null,h=null)}for(const d of o){const[y,m]=d,[b,A]=this.findLeftToken(y),[w,R]=m,C=A===tt.Start?b:b.parent,V=R===tt.Start?w:w.parent,G=this.toIndex(C,b),H=this.toIndex(V,w);G<H&&(s.length>0&&G===s[s.length-1].to?(s[s.length-1].to=H,s[s.length-1].toPath=this.toPath(V,w)):s.push({type:"content",from:G,to:H,fromPath:this.toPath(C,b),toPath:this.toPath(V,w),actor:a.getActorID()}))}return s.reverse()}findRightToken([e,a]){if(a===tt.Start){const d=e.allChildren;return d.length>0?[d[0],d[0].isText?tt.Text:tt.Start]:[e,tt.End]}const s=e.parent,o=s.allChildren,c=o.indexOf(e);if(s&&c===o.length-1)return[s,tt.End];const h=o[c+1];return[h,h.isText?tt.Text:tt.Start]}findLeftToken([e,a]){if(a===tt.End){const d=e.allChildren;if(d.length>0){const y=d[d.length-1];return[y,y.isText?tt.Text:tt.End]}return[e,tt.Start]}const s=e.parent,o=s.allChildren,c=o.indexOf(e);if(s&&c===0)return[s,tt.Start];const h=o[c-1];return[h,h.isText?tt.Text:tt.End]}}class Hs extends Dn{fromPos;toPos;contents;splitLevel;constructor(e,a,s,o,c,h){super(e,h),this.fromPos=a,this.toPos=s,this.contents=o,this.splitLevel=c}static create(e,a,s,o,c,h){return new Hs(e,a,s,o,c,h)}execute(e,a,s){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new T(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Pt))throw new T(N.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const c=this.getExecutedAt(),h=o,[d,y,m]=h.edit([this.fromPos,this.toPos],this.contents?.map(b=>b.deepcopy()),this.splitLevel,c,(()=>{let b=c.getDelimiter();return this.contents!==void 0&&(b+=this.contents.length),()=>hn.of(c.getLamport(),++b,c.getActorID())})(),s);e.acc(m);for(const b of y)e.registerGCPair(b);return{opInfos:d.map(({from:b,to:A,value:w,splitLevel:R,fromPath:C,toPath:V})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:b,to:A,value:w,splitLevel:R,fromPath:C,toPath:V}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),a=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,s=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,o=this.contents||[];return`${e}.EDIT(${a},${s},${o.map(c=>bh(c)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class hr{vector;constructor(e){this.vector=e||new Map}set(e,a){this.vector.set(e,a)}unset(e){this.vector.delete(e)}get(e){return this.vector.get(e)}has(e){return this.vector.has(e)}maxLamport(){let e=BigInt(0);for(const[,a]of this)a>e&&(e=a);return e}max(e){const a=new Map;for(const[s,o]of e){const c=this.vector.get(s),h=c&&c>o?c:o;a.set(s,h)}for(const[s,o]of this){const c=e.get(s),h=c&&c>o?c:o;a.set(s,h)}return new hr(a)}afterOrEqual(e){const a=this.vector.get(e.getActorID());return a===void 0?!1:a>=e.getLamport()}deepcopy(){const e=new Map;for(const[a,s]of this.vector)e.set(a,s);return new hr(e)}filter(e){const a=new Map;for(const[s]of e){const o=this.vector.get(s);o!==void 0&&a.set(s,o)}return new hr(a)}size(){return this.vector.size}*[Symbol.iterator](){for(const[e,a]of this.vector)yield[e,a]}}const wb=new hr(new Map);class Nn{clientSeq;serverSeq;actor;lamport;versionVector;constructor(e,a,s,o,c){this.clientSeq=e,this.serverSeq=c,this.lamport=a,this.versionVector=o,this.actor=s}hasClocks(){return this.versionVector.size()>0&&this.lamport!=Uf}static of(e,a,s,o,c){return new Nn(e,a,s,o,c)}next(e=!1){if(e)return new Nn(this.clientSeq+1,this.lamport,this.actor,wb,Uf);const a=this.versionVector.deepcopy();return a.set(this.actor,this.lamport+1n),new Nn(this.clientSeq+1,this.lamport+1n,this.actor,a)}syncClocks(e){if(!e.hasClocks())return this;const a=e.lamport>this.lamport?e.lamport+1n:this.lamport+1n,s=this.versionVector.max(e.versionVector),o=new Nn(this.clientSeq,a,this.actor,s);return o.versionVector.set(this.actor,a),o}setClocks(e,a){const s=e>this.lamport?e+1n:this.lamport+1n,o=this.versionVector.max(a);return o.set(this.actor,s),Nn.of(this.clientSeq,s,this.actor,o)}createTimeTicket(e){return hn.of(this.lamport,e,this.actor)}setActor(e){return new Nn(this.clientSeq,this.lamport,e,this.versionVector,this.serverSeq)}setLamport(e){return new Nn(this.clientSeq,e,this.actor,this.versionVector,this.serverSeq)}setVersionVector(e){return new Nn(this.clientSeq,this.lamport,this.actor,e,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const cN=new Nn(0,0n,yh,wb);class Nr{id;operations;presenceChange;message;constructor({id:e,operations:a,presenceChange:s,message:o}){this.id=e,this.operations=a||[],this.presenceChange=s,this.message=o}static create({id:e,operations:a,presenceChange:s,message:o}){return new Nr({id:e,operations:a,presenceChange:s,message:o})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(e){for(const a of this.operations)a.setActor(e);this.id=this.id.setActor(e)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(e,a,s){const o=[],c=[];for(const h of this.operations){const d=h.execute(e,s,this.id.getVersionVector());if(!d)continue;const{opInfos:y,reverseOp:m}=d;o.push(...y),m&&c.unshift(m)}return this.presenceChange&&(this.presenceChange.type===zn.Put?a.set(this.id.getActorID(),En(this.presenceChange.presence)):a.delete(this.id.getActorID())),{opInfos:o,reverseOps:c}}toTestString(){return`${this.operations.map(e=>e.toTestString()).join(",")}`}toStruct(){return{changeID:Xe.bytesToHex(Xe.changeIDToBinary(this.getID())),message:this.getMessage(),operations:this.getOperations().map(e=>Xe.bytesToHex(Xe.operationToBinary(e))),presenceChange:this.getPresenceChange()}}static fromStruct(e){const{changeID:a,operations:s,presenceChange:o,message:c}=e;return Nr.create({id:Xe.bytesToChangeID(Xe.hexToBytes(a)),operations:s?.map(h=>Xe.bytesToOperation(Xe.hexToBytes(h))),presenceChange:o,message:c})}}class _o{documentKey;checkpoint;isRemoved;changes;snapshot;versionVector;constructor(e,a,s,o,c,h){this.documentKey=e,this.checkpoint=a,this.isRemoved=s,this.changes=o,this.snapshot=h,this.versionVector=c}static create(e,a,s,o,c,h){return new _o(e,a,s,o,c,h)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class dr{serverSeq;clientSeq;constructor(e,a){this.serverSeq=e,this.clientSeq=a}static of(e,a){return new dr(e,a)}increaseClientSeq(e){return e===0?this:new dr(this.serverSeq,this.clientSeq+e)}forward(e){if(this.equals(e))return this;const a=this.serverSeq>e.serverSeq?this.serverSeq:e.serverSeq,s=Math.max(this.clientSeq,e.clientSeq);return dr.of(a,s)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(e){return this.clientSeq===e.clientSeq&&this.serverSeq==e.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const fN=new dr(0n,0);class Zn{createdAt;offset;constructor(e,a){this.createdAt=e,this.offset=a}static of(e,a){return new Zn(e,a)}static fromStruct(e){return Zn.of(hn.fromStruct(e.createdAt),e.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}hasSameCreatedAt(e){return this.createdAt.compare(e.createdAt)===0}split(e){return new Zn(this.createdAt,this.offset+e)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const hN=Zn.of(vr,0);class wn{id;relativeOffset;constructor(e,a){this.id=e,this.relativeOffset=a}static of(e,a){return new wn(e,a)}static fromStruct(e){const a=Zn.fromStruct(e.id);return wn.of(a,e.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Zn.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(e){return this.id.equals(e.id)?this.relativeOffset===e.relativeOffset:!1}}class Ki extends pb{id;removedAt;prev;next;insPrev;insNext;constructor(e,a,s){super(a),this.id=e,this.removedAt=s}static create(e,a){return new Ki(e,a)}static createComparator(){return(e,a)=>{const s=e.getCreatedAt().compare(a.getCreatedAt());return s!==0?s:e.getOffset()>a.getOffset()?1:e.getOffset()<a.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new Ki(this.id.split(e),this.splitValue(e),this.removedAt)}canRemove(e,a,s){return a?!!(!this.removedAt||!s&&e?.after(this.removedAt)):!1}canStyle(e,a){return this.getCreatedAt().getLamport()<=a&&(!this.removedAt||e.after(this.removedAt))}setRemovedAt(e){this.removedAt=e}remove(e){if(!this.removedAt){this.removedAt=e;return}e.after(this.removedAt)&&(this.removedAt=e)}createPosRange(){return[wn.of(this.id,0),wn.of(this.id,this.getLength())]}getDataSize(){const e=this.value.getDataSize();return this.id&&(e.meta+=Ln),this.removedAt&&(e.meta+=Ln),e}deepcopy(){return new Ki(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const a=this.value;return this.value=a.substring(0,e),a.substring(e,a.length)}toIDString(){return this.id.toIDString()}}class Tr{head;treeByIndex;treeByID;constructor(){this.head=Ki.create(hN),this.treeByIndex=new Ys,this.treeByID=new Cb(Ki.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Tr}edit(e,a,s,o){const c={data:0,meta:0},[h,d,y]=this.findNodeWithSplit(e[1],a),[m,b,A]=this.findNodeWithSplit(e[0],a);vt(c,d,b);const w=this.findBetween(A,y),[R,C]=this.deleteNodes(w,a,o),V=y?y.getID():h.getID();let G=wn.of(V,0);if(s){const q=this.posToIndex(m.createPosRange()[1],!0),X=this.insertAfter(m,Ki.create(Zn.of(a,0),s));vt(c,X.getDataSize()),R.length&&R[R.length-1].from===q?R[R.length-1].value=s:R.push({actor:a.getActorID(),from:q,to:q,value:s}),G=wn.of(X.getID(),X.getContentLength())}const H=[];for(const[,q]of C)H.push({parent:this,child:q});return[G,H,c,R]}indexToPos(e){const[a,s]=this.treeByIndex.find(e),o=a;return wn.of(o.getID(),s)}findIndexesFromRange(e){const[a,s]=e;return[this.posToIndex(a,!1),this.posToIndex(s,!0)]}posToIndex(e,a){const s=e.getAbsoluteID(),o=a?this.findFloorNodePreferToLeft(s):this.findFloorNode(s);if(!o)throw new T(N.ErrInvalidArgument,`the node of the given id should be found: ${s.toTestString()}`);const c=this.treeByIndex.indexOf(o),h=o.isRemoved()?0:s.getOffset()-o.getID().getOffset();return c+h}findNode(e){return this.findFloorNode(e)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const e=[];for(const a of this)a.isRemoved()||e.push(a.getValue());return e.join("")}*[Symbol.iterator](){let e=this.head.getNext();for(;e;)yield e,e=e.getNext()}getHead(){return this.head}deepcopy(){const e=new Tr;let a=this.head.getNext(),s=e.head,o;for(;a;){if(o=e.insertAfter(s,a.deepcopy()),a.hasInsPrev()){const c=e.findNode(a.getInsPrevID());o.setInsPrev(c)}s=o,a=a.getNext()}return e}toTestString(){const e=[];let a=this.head;for(;a;)a.isRemoved()?e.push(`{${a.toTestString()}}`):e.push(`[${a.toTestString()}]`),a=a.getNext();return e.join("")}insertAfter(e,a){const s=e.getNext();return a.setPrev(e),s&&s.setPrev(a),this.treeByID.put(a.getID(),a),this.treeByIndex.insertAfter(e,a),a}findNodeWithSplit(e,a){const s=e.getAbsoluteID();let o=this.findFloorNodePreferToLeft(s);const c=s.getOffset()-o.getID().getOffset(),[,h]=this.splitNode(o,c);for(;o.hasNext()&&o.getNext().getCreatedAt().after(a);)o=o.getNext();return[o,h,o.getNext()]}findFloorNodePreferToLeft(e){let a=this.findFloorNode(e);if(!a)throw new T(N.ErrInvalidArgument,`the node of the given id should be found: ${e.toTestString()}`);if(e.getOffset()>0&&a.getID().getOffset()==e.getOffset()){if(!a.hasInsPrev())return a;a=a.getInsPrev()}return a}findFloorNode(e){const a=this.treeByID.floorEntry(e);if(a&&!(!a.key.equals(e)&&!a.key.hasSameCreatedAt(e)))return a.value}findBetween(e,a){const s=[];let o=e;for(;o&&o!==a;)s.push(o),o=o.getNext();return s}splitNode(e,a){const s={data:0,meta:0};if(a>e.getContentLength())throw new T(N.ErrInvalidArgument,"offset should be less than or equal to length");if(a===0)return[e,s];if(a===e.getContentLength())return[e.getNext(),s];const o=e.getDataSize(),c=e.split(a);this.treeByIndex.updateWeight(c),this.insertAfter(e,c);const h=e.getInsNext();return h&&h.setInsPrev(c),c.setInsPrev(e),vt(s,e.getDataSize(),c.getDataSize()),ya(s,o),[c,s]}deleteNodes(e,a,s){if(!e.length)return[[],new Map];const o=s===void 0||s.size()===0,c=[],h=[],[d,y]=this.findEdgesOfCandidates(e);h.push(d);for(const A of e){let w=!1;if(o)w=!0;else{const C=s?.get(A.getCreatedAt().getActorID());C&&C>=A.getCreatedAt().getLamport()&&(w=!0)}let R=!1;if(A.getRemovedAt()){const C=s?.get(A.getRemovedAt().getActorID());(o||C&&C>=A.getRemovedAt().getLamport())&&(R=!0)}A.canRemove(a,w,R)?c.push(A):h.push(A)}h.push(y);const m=this.makeChanges(h,a),b=new Map;for(const A of c)b.set(A.getID().toIDString(),A),A.remove(a);return this.deleteIndexNodes(h),[m,b]}findEdgesOfCandidates(e){return[e[0].getPrev(),e[e.length-1].getNext()]}makeChanges(e,a){const s=[];let o,c;for(let h=0;h<e.length-1;h++){const d=e[h],y=e[h+1];d.getNext()!=y&&([o]=this.findIndexesFromRange(d.getNext().createPosRange()),y?[,c]=this.findIndexesFromRange(y.getPrev().createPosRange()):c=this.treeByIndex.length,o<c&&s.push({actor:a.getActorID(),from:o,to:c}))}return s.reverse()}deleteIndexNodes(e){for(let a=0;a<e.length-1;a++){const s=e[a],o=e[a+1];s.getNext()!=o&&this.treeByIndex.deleteRange(s,o)}}purge(e){this.treeByIndex.delete(e),this.treeByID.remove(e.getID());const a=e.getPrev(),s=e.getNext(),o=e.getInsPrev(),c=e.getInsNext();a&&a.setNext(s),s&&s.setPrev(a),e.setPrev(void 0),e.setNext(void 0),o&&o.setInsNext(c),c&&c.setInsPrev(o),e.setInsPrev(void 0),e.setInsNext(void 0)}}const i0=i=>i<0?Math.ceil(i):Math.floor(i);var Gn=(i=>(i[i.Int=0]="Int",i[i.Long=1]="Long",i))(Gn||{});class zt extends ks{valueType;value;constructor(e,a,s){switch(super(s),this.valueType=e,e){case 0:typeof a=="number"?a>Math.pow(2,31)-1||a<-Math.pow(2,31)?this.value=Se.fromNumber(a).toInt():this.value=i0(a):this.value=a.toInt();break;case 1:typeof a=="number"?this.value=Se.fromNumber(a):this.value=a;break;default:throw new T(N.ErrUnimplemented,`unimplemented type: ${e}`)}}static create(e,a,s){return new zt(e,a,s)}static valueFromBytes(e,a){switch(e){case 0:return a[0]|a[1]<<8|a[2]<<16|a[3]<<24;case 1:return Se.fromBytesLE(Array.from(a));default:throw new T(N.ErrUnimplemented,`unimplemented type: ${e}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=zt.create(this.valueType,this.value,this.getCreatedAt());return e.setRemovedAt(this.getRemovedAt()),e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof Se?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!zt.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const a=this.value.toBytesLE();return Uint8Array.from(a)}default:throw new T(N.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function a(s){if(!s.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof s.getValue()}`)}return a(this),a(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===Ge.Long?this.value=this.value+e.getValue().toInt():this.value=Se.fromNumber(this.value+i0(e.getValue())).toInt(),this}}class Rr extends Dn{value;constructor(e,a,s){super(e,s),this.value=a}static create(e,a,s){return new Rr(e,a,s)}execute(e){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof zt))throw new T(N.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const s=a,o=this.value.deepcopy();return s.increase(o),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:o.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),s=e.getType()===Ge.Long?e.getValue().multiply(-1):e.getValue()*-1;return Rr.create(this.getParentCreatedAt(),He.of(s,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class ui extends Dn{fromPos;toPos;attributes;attributesToRemove;constructor(e,a,s,o,c,h){super(e,h),this.fromPos=a,this.toPos=s,this.attributes=o,this.attributesToRemove=c}static create(e,a,s,o,c){return new ui(e,a,s,o,[],c)}static createTreeRemoveStyleOperation(e,a,s,o,c){return new ui(e,a,s,new Map,o,c)}execute(e,a,s){const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new T(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Pt))throw new T(N.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const c=o;let h,d,y={data:0,meta:0};if(this.attributes.size){const m={};[...this.attributes].forEach(([b,A])=>m[b]=A),[d,h,y]=c.style([this.fromPos,this.toPos],m,this.getExecutedAt(),s)}else{const m=this.attributesToRemove;[d,h,y]=c.removeStyle([this.fromPos,this.toPos],m,this.getExecutedAt(),s)}e.acc(y);for(const m of d)e.registerGCPair(m);return{opInfos:h.map(({from:m,to:b,value:A,fromPath:w,toPath:R})=>({type:"tree-style",from:m,to:b,value:this.attributes.size?{attributes:A}:{attributesToRemove:A},fromPath:w,toPath:R,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),a=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,s=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${a},${s},${Object.entries(this.attributes||{}).map(([o,c])=>`${o}:"${c}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class fi extends Dn{createdAt;value;constructor(e,a,s,o){super(e,o),this.createdAt=a,this.value=s}static create(e,a,s,o){return new fi(e,a,s,o)}execute(e){const a=e.findByCreatedAt(this.getParentCreatedAt());if(!a)throw new T(N.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(a instanceof Nt))throw new T(N.ErrInvalidArgument,"fail to execute, only array can execute set");const s=a.getByID(this.createdAt).deepcopy(),o=this.toReverseOperation(this.value,s),c=this.value.deepcopy();return a.insertAfter(this.createdAt,c,this.getExecutedAt()),a.delete(this.createdAt,this.getExecutedAt()),e.registerElement(c),{opInfos:[{type:"array-set",path:e.createPath(this.getParentCreatedAt())}],reverseOp:o}}toReverseOperation(e,a){return fi.create(this.getParentCreatedAt(),e.getCreatedAt(),a)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(e){this.createdAt=e}}function dN(i){const e={};for(const[a,s]of Object.entries(i))e[a]=JSON.stringify(s);return te(J2,{data:e})}function gN(i){if(i.type===zn.Put)return te(Hp,{type:zs.PUT,presence:dN(i.presence)});if(i.type===zn.Clear)return te(Hp,{type:zs.CLEAR});throw new T(N.ErrUnimplemented,"unimplemented type")}function mN(i){return te(k2,{serverSeq:i.getServerSeq(),clientSeq:i.getClientSeq()})}function zf(i){return te(dh,{clientSeq:i.getClientSeq(),lamport:i.getLamport(),actorId:Ko(i.getActorID()),versionVector:vh(i.getVersionVector())})}function ie(i){if(i)return te(j2,{lamport:i.getLamport(),delimiter:i.getDelimiter(),actorId:Ko(i.getActorID())})}function vh(i){if(!i)return;const e=te(gh);for(const[a,s]of i){const o=PN(Ko(a));e.vector[o]=BigInt(s.toString())}return e}function Db(i){switch(i){case Ge.Null:return me.NULL;case Ge.Boolean:return me.BOOLEAN;case Ge.Integer:return me.INTEGER;case Ge.Long:return me.LONG;case Ge.Double:return me.DOUBLE;case Ge.String:return me.STRING;case Ge.Bytes:return me.BYTES;case Ge.Date:return me.DATE;default:throw new T(N.ErrInvalidType,`unsupported type: ${i}`)}}function xb(i){switch(i){case Gn.Int:return me.INTEGER_CNT;case Gn.Long:return me.LONG_CNT;default:throw new T(N.ErrInvalidType,`unsupported type: ${i}`)}}function po(i){if(i instanceof Et)return te(rr,{type:me.JSON_OBJECT,createdAt:ie(i.getCreatedAt()),value:Wb(i)});if(i instanceof Nt)return te(rr,{type:me.JSON_ARRAY,createdAt:ie(i.getCreatedAt()),value:jN(i)});if(i instanceof $t)return te(rr,{type:me.TEXT,createdAt:ie(i.getCreatedAt())});if(i instanceof He)return te(rr,{type:Db(i.getType()),createdAt:ie(i.getCreatedAt()),value:i.toBytes()});if(i instanceof zt)return te(rr,{type:xb(i.getType()),createdAt:ie(i.getCreatedAt()),value:i.toBytes()});if(i instanceof Pt)return te(rr,{type:me.TREE,createdAt:ie(i.getCreatedAt()),value:QN(i)});throw new T(N.ErrUnimplemented,"unimplemented element")}function yN(i){return te(G2,{createdAt:ie(i.getCreatedAt()),offset:i.getOffset()})}function bo(i){return te(F2,{createdAt:ie(i.getID().getCreatedAt()),offset:i.getID().getOffset(),relativeOffset:i.getRelativeOffset()})}function vo(i){return te(X2,{parentId:ws(i.getParentID()),leftSiblingId:ws(i.getLeftSiblingID())})}function ws(i){return te(K2,{createdAt:ie(i.getCreatedAt()),offset:i.getOffset()})}function Yf(i){const e=te(mh);if(i instanceof ba){const a=i,s=te(S2);s.parentCreatedAt=ie(a.getParentCreatedAt()),s.key=a.getKey(),s.value=po(a.getValue()),s.executedAt=ie(a.getExecutedAt()),e.body.case="set",e.body.value=s}else if(i instanceof ki){const a=i,s=te(E2);s.parentCreatedAt=ie(a.getParentCreatedAt()),s.prevCreatedAt=ie(a.getPrevCreatedAt()),s.value=po(a.getValue()),s.executedAt=ie(a.getExecutedAt()),e.body.case="add",e.body.value=s}else if(i instanceof Cn){const a=i,s=te(N2);s.parentCreatedAt=ie(a.getParentCreatedAt()),s.prevCreatedAt=ie(a.getPrevCreatedAt()),s.createdAt=ie(a.getCreatedAt()),s.executedAt=ie(a.getExecutedAt()),e.body.case="move",e.body.value=s}else if(i instanceof Yn){const a=i,s=te(T2);s.parentCreatedAt=ie(a.getParentCreatedAt()),s.createdAt=ie(a.getCreatedAt()),s.executedAt=ie(a.getExecutedAt()),e.body.case="remove",e.body.value=s}else if(i instanceof Fs){const a=i,s=te(R2);s.parentCreatedAt=ie(a.getParentCreatedAt()),s.from=bo(a.getFromPos()),s.to=bo(a.getToPos()),s.content=a.getContent();const o=s.attributes;for(const[c,h]of a.getAttributes())o[c]=h;s.executedAt=ie(a.getExecutedAt()),e.body.case="edit",e.body.value=s}else if(i instanceof js){const a=i,s=te(C2);s.parentCreatedAt=ie(a.getParentCreatedAt()),s.from=bo(a.getFromPos()),s.to=bo(a.getToPos());const o=s.attributes;for(const[c,h]of a.getAttributes())o[c]=h;s.executedAt=ie(a.getExecutedAt()),e.body.case="style",e.body.value=s}else if(i instanceof Rr){const a=i,s=te(I2);s.parentCreatedAt=ie(a.getParentCreatedAt()),s.value=po(a.getValue()),s.executedAt=ie(a.getExecutedAt()),e.body.case="increase",e.body.value=s}else if(i instanceof Hs){const a=i,s=te(w2);s.parentCreatedAt=ie(a.getParentCreatedAt()),s.from=vo(a.getFromPos()),s.to=vo(a.getToPos()),s.contents=NN(a.getContents()),s.splitLevel=a.getSplitLevel(),s.executedAt=ie(a.getExecutedAt()),e.body.case="treeEdit",e.body.value=s}else if(i instanceof ui){const a=i,s=te(D2);s.parentCreatedAt=ie(a.getParentCreatedAt()),s.from=vo(a.getFromPos()),s.to=vo(a.getToPos());const o=a.getAttributesToRemove();if(o.length>0)s.attributesToRemove=o;else{const c=s.attributes;for(const[h,d]of a.getAttributes())c[h]=d}s.executedAt=ie(a.getExecutedAt()),e.body.case="treeStyle",e.body.value=s}else if(i instanceof fi){const a=i,s=te(x2);s.parentCreatedAt=ie(a.getParentCreatedAt()),s.createdAt=ie(a.getCreatedAt()),s.value=po(a.getValue()),s.executedAt=ie(a.getExecutedAt()),e.body.case="arraySet",e.body.value=s}else throw new T(N.ErrUnimplemented,"unimplemented operation");return e}function pN(i){const e=[];for(const a of i)e.push(Yf(a));return e}function bN(i){const e=te(A2,{id:zf(i.getID()),message:i.getMessage()});return i.hasOperations()&&(e.operations=pN(i.getOperations())),i.hasPresenceChange()&&(e.presenceChange=gN(i.getPresenceChange())),e}function vN(i){const e=[];for(const a of i)e.push(bN(a));return e}function AN(i){const e=[];for(const a of i)e.push(te(Z2,{key:a.getStrKey(),element:Sh(a.getValue())}));return e}function SN(i){const e=[];for(const a of i)e.push(te(z2,{element:Sh(a.getValue())}));return e}function EN(i){const e=[];for(const a of i){const s=te(Y2);s.id=yN(a.getID()),s.value=a.getValue().getContent(),s.removedAt=ie(a.getRemovedAt());const o=s.attributes,c=a.getValue().getAttrs();for(const h of c){const d=te(gb);d.value=h.getValue(),d.updatedAt=ie(h.getUpdatedAt()),o[h.getKey()]=d}e.push(s)}return e}function NN(i){const e=[];if(!i||!i.length)return e;for(const a of i)e.push(te(W2,{content:Ah(a)}));return e}function TN(i){const e={};for(const a of i)e[a.getKey()]=te(gb,{value:a.getValue(),updatedAt:ie(a.getUpdatedAt()),isRemoved:a.isRemoved()});return e}function Ah(i){if(!i)return[];const e=[];return Go(i,(a,s)=>{const o=te(_2,{id:ws(a.id),type:a.type,removedAt:ie(a.removedAt),depth:s});a.isText&&(o.value=a.value),a.insPrevID&&(o.insPrevId=ws(a.insPrevID)),a.insNextID&&(o.insNextId=ws(a.insNextID)),a.attrs&&(o.attributes=TN(a.attrs)),e.push(o)}),e}function RN(i){return te(mn,{body:{case:"jsonObject",value:te(O2,{nodes:AN(i.getRHT()),createdAt:ie(i.getCreatedAt()),movedAt:ie(i.getMovedAt()),removedAt:ie(i.getRemovedAt())})}})}function Ob(i){return te(mn,{body:{case:"jsonArray",value:te(V2,{nodes:SN(i.getElements()),createdAt:ie(i.getCreatedAt()),movedAt:ie(i.getMovedAt()),removedAt:ie(i.getRemovedAt())})}})}function CN(i){return te(mn,{body:{case:"primitive",value:te(U2,{type:Db(i.getType()),value:i.toBytes(),createdAt:ie(i.getCreatedAt()),movedAt:ie(i.getMovedAt()),removedAt:ie(i.getRemovedAt())})}})}function IN(i){return te(mn,{body:{case:"text",value:te(B2,{nodes:EN(i.getRGATreeSplit()),createdAt:ie(i.getCreatedAt()),movedAt:ie(i.getMovedAt()),removedAt:ie(i.getRemovedAt())})}})}function wN(i){return te(mn,{body:{case:"counter",value:te(L2,{type:xb(i.getType()),value:i.toBytes(),createdAt:ie(i.getCreatedAt()),movedAt:ie(i.getMovedAt()),removedAt:ie(i.getRemovedAt())})}})}function Vb(i){return te(mn,{body:{case:"tree",value:te(M2,{nodes:Ah(i.getRoot()),createdAt:ie(i.getCreatedAt()),movedAt:ie(i.getMovedAt()),removedAt:ie(i.getRemovedAt())})}})}function Sh(i){if(i instanceof Et)return RN(i);if(i instanceof Nt)return Ob(i);if(i instanceof He)return CN(i);if(i instanceof $t)return IN(i);if(i instanceof zt)return wN(i);if(i instanceof Pt)return Vb(i);throw new T(N.ErrUnimplemented,"unimplemented element")}function DN(i){return te(v2,{documentKey:i.getDocumentKey(),checkpoint:mN(i.getCheckpoint()),isRemoved:i.getIsRemoved(),changes:vN(i.getChanges()),snapshot:i.getSnapshot(),versionVector:vh(i.getVersionVector())})}function xN(i){return{id:i.id,label:i.label,description:i.description,snapshot:i.snapshot,createdAt:i.createdAt?_1(i.createdAt):new Date}}function Ts(i){if(!(i instanceof Ue))return{};const e=i.findDetails(P2);for(const a of e)return a.metadata;return{}}function or(i){return Ts(i).code??""}function Nf(i,e){return i instanceof Ue&&or(i)===e}function Ub(i){return Nn.of(i.clientSeq,BigInt(i.lamport),Ch(i.actorId),Eh(i.versionVector),BigInt(i.serverSeq))}function Eh(i){if(!i)return;const e=new hr;return Object.entries(i.vector).forEach(([a,s])=>{const o=Wo($N(a));e.set(o,BigInt(s.toString()))}),e}function se(i){if(i)return hn.of(BigInt(i.lamport),i.delimiter,Ch(i.actorId))}function Nh(i){const e={};return Object.entries(i.data).forEach(([a,s])=>{e[a]=JSON.parse(s)}),e}function ON(i){const e=i.type;if(e===zs.PUT){const a=Nh(i.presence);return{type:zn.Put,presence:a}}if(e===zs.CLEAR)return{type:zn.Clear};throw new T(N.ErrInvalidType,`unsupported type: ${e}`)}function VN(i){const e=new Map;return Object.entries(i).forEach(([a,s])=>{e.set(a,Nh(s))}),e}function Bb(i){switch(i){case me.NULL:return Ge.Null;case me.BOOLEAN:return Ge.Boolean;case me.INTEGER:return Ge.Integer;case me.LONG:return Ge.Long;case me.DOUBLE:return Ge.Double;case me.STRING:return Ge.String;case me.BYTES:return Ge.Bytes;case me.DATE:return Ge.Date}throw new T(N.ErrUnimplemented,`unimplemented value type: ${i}`)}function Uo(i){switch(i){case me.INTEGER_CNT:return Gn.Int;case me.LONG_CNT:return Gn.Long}throw new T(N.ErrUnimplemented,`unimplemented value type: ${i}`)}function Ao(i){switch(i.type){case me.JSON_OBJECT:return i.value?_b(i.value):Et.create(se(i.createdAt));case me.JSON_ARRAY:return i.value?FN(i.value):Nt.create(se(i.createdAt));case me.TEXT:return $t.create(Tr.create(),se(i.createdAt));case me.TREE:return HN(i.value);case me.NULL:case me.BOOLEAN:case me.INTEGER:case me.LONG:case me.DOUBLE:case me.STRING:case me.BYTES:case me.DATE:return He.of(He.valueFromBytes(Bb(i.type),i.value),se(i.createdAt));case me.INTEGER_CNT:case me.LONG_CNT:return zt.create(Uo(i.type),zt.valueFromBytes(Uo(i.type),i.value),se(i.createdAt))}}function So(i){return wn.of(Zn.of(se(i.createdAt),i.offset),i.relativeOffset)}function Lb(i){return Zn.of(se(i.createdAt),i.offset)}function UN(i){const e=_s.create(i.value);Object.entries(i.attributes).forEach(([s,o])=>{e.setAttr(s,o.value,se(o.updatedAt))});const a=Ki.create(Lb(i.id),e);return a.setRemovedAt(se(i.removedAt)),a}function sr(i){return In.of(Ds(i.parentId),Ds(i.leftSiblingId))}function Ds(i){return At.of(se(i.createdAt),i.offset)}function BN(i){if(!i.length)return;const e=[];return i.forEach(a=>{const s=Th(a.content);e.push(s)}),e}function Th(i){if(i.length===0)return;const e=[];for(const o of i)e.push(MN(o));const a=e[e.length-1],s=new Map;s.set(i[e.length-1].depth,e[e.length-1]);for(let o=e.length-2;o>=0;o--)s.get(i[o].depth-1).prepend(e[o]),s.set(i[o].depth,e[o]);return a.updateDescendantsSize(),a.updateDescendantsSize(!0),Pt.create(a,vr).getRoot()}function LN(i){const e=ci.create();for(const[a,s]of Object.entries(i))e.setInternal(a,s.value,se(s.updatedAt),s.isRemoved);return e}function MN(i){const e=Ds(i.id),a=Qt.create(e,i.type),s=Object.entries(i.attributes);return a.isText?a.value=i.value:s.length&&(a.attrs=LN(i.attributes)),i.insPrevId&&(a.insPrevID=Ds(i.insPrevId)),i.insNextId&&(a.insNextID=Ds(i.insNextId)),a.removedAt=se(i.removedAt),a}function Mb(i){if(i.body.case==="set"){const e=i.body.value;return ba.create(e.key,Ao(e.value),se(e.parentCreatedAt),se(e.executedAt))}else if(i.body.case==="add"){const e=i.body.value;return ki.create(se(e.parentCreatedAt),se(e.prevCreatedAt),Ao(e.value),se(e.executedAt))}else if(i.body.case==="move"){const e=i.body.value;return Cn.create(se(e.parentCreatedAt),se(e.prevCreatedAt),se(e.createdAt),se(e.executedAt))}else if(i.body.case==="remove"){const e=i.body.value;return Yn.create(se(e.parentCreatedAt),se(e.createdAt),se(e.executedAt))}else if(i.body.case==="edit"){const e=i.body.value,a=new Map;return Object.entries(e.attributes).forEach(([s,o])=>{a.set(s,o)}),Fs.create(se(e.parentCreatedAt),So(e.from),So(e.to),e.content,a,se(e.executedAt))}else if(i.body.case==="style"){const e=i.body.value,a=new Map;return Object.entries(e.attributes).forEach(([s,o])=>{a.set(s,o)}),js.create(se(e.parentCreatedAt),So(e.from),So(e.to),a,se(e.executedAt))}else if(i.body.case==="increase"){const e=i.body.value;return Rr.create(se(e.parentCreatedAt),Ao(e.value),se(e.executedAt))}else if(i.body.case==="treeEdit"){const e=i.body.value;return Hs.create(se(e.parentCreatedAt),sr(e.from),sr(e.to),BN(e.contents),e.splitLevel,se(e.executedAt))}else if(i.body.case==="treeStyle"){const e=i.body.value,a=new Map,s=e.attributesToRemove;return s?.length>0?ui.createTreeRemoveStyleOperation(se(e.parentCreatedAt),sr(e.from),sr(e.to),s,se(e.executedAt)):(Object.entries(e.attributes).forEach(([o,c])=>{a.set(o,c)}),ui.create(se(e.parentCreatedAt),sr(e.from),sr(e.to),a,se(e.executedAt)))}else if(i.body.case==="arraySet"){const e=i.body.value;return fi.create(se(e.parentCreatedAt),se(e.createdAt),Ao(e.value),se(e.executedAt))}else throw new T(N.ErrUnimplemented,"unimplemented operation")}function ZN(i){const e=[];for(const a of i){const s=Mb(a);s&&e.push(s)}return e}function Zb(i){const e=[];for(const a of i)e.push(Nr.create({id:Ub(a.id),operations:ZN(a.operations),presenceChange:a.presenceChange?ON(a.presenceChange):void 0,message:a.message}));return e}function zN(i){return dr.of(BigInt(i.serverSeq),i.clientSeq)}function YN(i){return _o.create(i.documentKey,zN(i.checkpoint),i.isRemoved,Zb(i.changes),Eh(i.versionVector),i.snapshot)}function zb(i){const e=new Ar;for(const s of i.nodes){const o=Rh(s.element);e.set(s.key,o,o.getPositionedAt())}const a=new Et(se(i.createdAt),e);return a.setMovedAt(se(i.movedAt)),a.setRemovedAt(se(i.removedAt)),a}function Yb(i){const e=new Gs;for(const s of i.nodes)e.insert(Rh(s.element));const a=new Nt(se(i.createdAt),e);return a.setMovedAt(se(i.movedAt)),a.setRemovedAt(se(i.removedAt)),a}function GN(i){const e=He.of(He.valueFromBytes(Bb(i.type),i.value),se(i.createdAt));return e.setMovedAt(se(i.movedAt)),e.setRemovedAt(se(i.removedAt)),e}function _N(i){const e=new Tr;let a=e.getHead();for(const o of i.nodes){const c=e.insertAfter(a,UN(o));o.insPrevId&&c.setInsPrev(e.findNode(Lb(o.insPrevId))),a=c}const s=new $t(e,se(i.createdAt));return s.setMovedAt(se(i.movedAt)),s.setRemovedAt(se(i.removedAt)),s}function WN(i){const e=zt.create(Uo(i.type),zt.valueFromBytes(Uo(i.type),i.value),se(i.createdAt));return e.setMovedAt(se(i.movedAt)),e.setRemovedAt(se(i.removedAt)),e}function Gb(i){const e=Th(i.nodes);return Pt.create(e,se(i.createdAt))}function Rh(i){if(i.body.case==="jsonObject")return zb(i.body.value);if(i.body.case==="jsonArray")return Yb(i.body.value);if(i.body.case==="primitive")return GN(i.body.value);if(i.body.case==="text")return _N(i.body.value);if(i.body.case==="counter")return WN(i.body.value);if(i.body.case==="tree")return Gb(i.body.value);throw new T(N.ErrUnimplemented,"unimplemented element")}function KN(i){return i.map(e=>({path:e.path,type:e.type}))}function XN(i){if(!i)return{root:Et.create(vr),presences:new Map};const e=gn(b2,i);return{root:Rh(e.root),presences:VN(e.presences)}}function JN(i){const e=vh(i);return Wo(Ji(gh,e))}function kN(i){const e=Ih(i),a=gn(gh,e);return Eh(a)}function _b(i){if(!i)throw new T(N.ErrInvalidArgument,"bytes is empty");const e=gn(mn,i);return zb(e.body.value)}function Wb(i){return Ji(mn,Sh(i))}function FN(i){if(!i)throw new T(N.ErrInvalidArgument,"bytes is empty");const e=gn(mn,i);return Yb(e.body.value)}function jN(i){return Ji(mn,Ob(i))}function HN(i){if(!i)throw new T(N.ErrInvalidArgument,"bytes is empty");const e=gn(mn,i);return Gb(e.body.value)}function QN(i){return Ji(mn,Vb(i))}function Wo(i){return i?Array.from(i).map(e=>e.toString(16).padStart(2,"0")).join(""):""}function Ch(i){return Wo(i)}function Ih(i){return new Uint8Array(i.match(/.{1,2}/g).map(e=>parseInt(e,16)))}function $N(i){if(typeof window<"u"&&typeof window.atob=="function"){const e=window.atob(i),a=e.length,s=new Uint8Array(a);for(let o=0;o<a;o++)s[o]=e.charCodeAt(o);return s}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const e=globalThis.Buffer;return new Uint8Array(e.from(i,"base64"))}else throw new Error("No base64 decoder available")}function Ko(i){return Ih(i)}function PN(i){if(typeof window<"u"&&typeof window.btoa=="function"){let e="";for(let a=0;a<i.byteLength;a++)e+=String.fromCharCode(i[a]);return window.btoa(e)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(i).toString("base64");throw new Error("No base64 encoder available")}}function qN(i){const e=gn(dh,i);return Ub(e)}function eT(i){const e=gn(mh,i);return Mb(e)}const Xe={fromPresence:Nh,toChangePack:DN,fromChangePack:YN,fromChanges:Zb,toTreeNodes:Ah,fromTreeNodes:Th,objectToBytes:Wb,bytesToObject:_b,bytesToSnapshot:XN,bytesToHex:Wo,hexToBytes:Ih,toHexString:Ch,toUint8Array:Ko,toOperation:Yf,toChangeID:zf,bytesToChangeID:qN,bytesToOperation:eT,versionVectorToHex:JN,hexToVersionVector:kN,fromSchemaRules:KN,toRevisionSummary:xN,changeIDToBinary:i=>Ji(dh,zf(i)),operationToBinary:i=>Ji(mh,Yf(i))};var Lt=(i=>(i[i.Trivial=0]="Trivial",i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warn=3]="Warn",i[i.Error=4]="Error",i[i.Fatal=5]="Fatal",i))(Lt||{});let da=3;function tT(i){da=i}const F={trivial:(...i)=>{da>0||typeof console<"u"&&console.log("YORKIE T:",...i)},debug:(...i)=>{da>1||typeof console<"u"&&console.log("YORKIE D:",...i)},info:(...i)=>{da>2||typeof console<"u"&&console.log("YORKIE I:",...i)},warn:(...i)=>{da>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...i):console.log("YORKIE W:",...i))},error:(...i)=>{da>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...i):console.log("YORKIE E:",...i))},fatal:(...i)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...i):console.log("YORKIE F:",...i))},isEnabled:i=>da<=i};function Kb(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,i=>{const e=Math.random()*16|0;return(i==="x"?e:e&3|8).toString(16)})}const Tf=()=>{};class nT{finalized=!1;observers=[];finalError;constructor(e){try{e(this)}catch(a){this.error(a)}}next(e){this.forEachObserver(a=>{a.next(e)})}error(e){this.forEachObserver(a=>{a.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,a,s){let o;if(!e)throw new T(N.ErrInvalidArgument,"missing observer");if(this.finalized)throw new T(N.ErrRefused,"observable is finalized due to previous error");typeof e=="object"?o=e:o={next:e,error:a,complete:s},o.next===void 0&&(o.next=Tf),o.error===void 0&&(o.error=Tf),o.complete===void 0&&(o.complete=Tf);const c=Kb(),h=this.unsubscribeOne.bind(this,c);if(this.observers.push({subscriptionID:c,observer:o}),this.finalized)try{this.finalError?o.error(this.finalError):o.complete()}catch(d){F.warn(d)}return h}unsubscribeOne(e){this.observers=this.observers?.filter(a=>a.subscriptionID!==e)}forEachObserver(e){if(!this.finalized)for(let a=0;a<this.observers.length;a++)this.sendOne(a,e)}sendOne(e,a){if(this.observers!==void 0&&this.observers[e]!==void 0)try{a(this.observers[e].observer)}catch(s){F.error(s)}}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.observers=void 0)}}function Xb(i){const e=new nT(i);return{subscribe:e.subscribe.bind(e),getProxy:()=>e}}class xs{prevID;nextID;delimiter;message;root;operations;presenceChange;previousPresence;reversePresenceKeys;constructor(e,a,s,o){this.prevID=e,this.nextID=e.next(),this.delimiter=yb,this.root=a,this.operations=[],this.previousPresence=En(s),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=o}static create(e,a,s,o){return new xs(e,a,s,o)}push(e){this.operations.push(e)}registerElement(e,a){this.root.registerElement(e,a)}registerRemovedElement(e){this.root.registerRemovedElement(e)}registerGCPair(e){this.root.registerGCPair(e)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const e=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return Nr.create({id:e,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(e){this.presenceChange=e}setReversePresence(e,a){for(const s of Object.keys(e))a?.addToHistory?this.reversePresenceKeys.add(s):this.reversePresenceKeys.delete(s)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const e={};for(const a of this.reversePresenceKeys)e[a]=this.previousPresence[a];return e}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(e){this.root.acc(e)}}function Jb(i,e){const a=new Ws(i);return new Proxy(e,a.getHandlers())}class Ws{context;handlers;constructor(e){this.context=e,this.handlers={set:(a,s,o)=>(F.isEnabled(Lt.Trivial)&&F.trivial(`obj[${s}]=${JSON.stringify(o)}`),Ws.setInternal(e,a,s,o),!0),get:(a,s)=>(F.isEnabled(Lt.Trivial)&&F.trivial(`obj[${s}]`),s==="getID"?()=>a.getCreatedAt():s==="toJSON"||s==="toString"?()=>a.toJSON():s==="toJS"?()=>a.toJS():s==="toJSForTest"?()=>a.toJSForTest():ga(e,a.get(s))),ownKeys:a=>a.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(a,s)=>(F.isEnabled(Lt.Trivial)&&F.trivial(`obj[${s}]`),Ws.deleteInternal(e,a,s),!0)}}static setInternal(e,a,s,o){if(s.includes("."))throw new T(N.ErrInvalidObjectKey,"key must not contain the '.'.");const c=e.issueTimeTicket(),h=Os(e,o,c),d=a.set(s,h,c);e.registerElement(h,a),d&&e.registerRemovedElement(d),e.push(ba.create(s,h.deepcopy(),a.getCreatedAt(),c))}static buildObjectMembers(e,a){const s={};for(const[o,c]of Object.entries(a)){if(o.includes("."))throw new T(N.ErrInvalidObjectKey,"key must not contain the '.'.");const h=e.issueTimeTicket(),d=Os(e,c,h);s[o]=d}return s}static deleteInternal(e,a,s){const o=e.issueTimeTicket(),c=a.deleteByKey(s,o);c&&(e.push(Yn.create(a.getCreatedAt(),c.getCreatedAt(),o)),e.registerRemovedElement(c))}getHandlers(){return this.handlers}}function iT(i,e){const a=new xe(i,e);return new Proxy(e,a.getHandlers())}function a0(i){return typeof i=="string"||i instanceof String?!isNaN(i):!1}function aT(i){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(i)}class xe{context;handlers;array;constructor(e,a){this.context=e,this.array=a,this.handlers={get:(s,o,c)=>o==="getID"?()=>s.getCreatedAt():o==="getElementByID"?h=>{const d=s.getByID(h);if(!(!d||d.isRemoved()))return Sn(e,d)}:o==="getElementByIndex"?h=>{const d=s.get(h);return Sn(e,d)}:o==="getLast"?()=>Sn(e,s.getLast()):o==="delete"?h=>{const d=xe.deleteInternalByIndex(e,s,h);return Sn(e,d)}:o==="deleteByID"?h=>{const d=xe.deleteInternalByID(e,s,h);return Sn(e,d)}:o==="insertAfter"?(h,d)=>{const y=xe.insertAfterInternal(e,s,h,d);return Sn(e,y)}:o==="insertIntegerAfter"?(h,d)=>{const y=xe.insertIntegerAfterInternal(e,s,h,d);return Sn(e,y)}:o==="insertBefore"?(h,d)=>{const y=xe.insertBeforeInternal(e,s,h,d);return Sn(e,y)}:o==="setValue"?(h,d)=>{const y=xe.setValueInternal(e,s,h,d);return Sn(e,y)}:o==="moveBefore"?(h,d)=>{xe.moveBeforeInternal(e,s,h,d)}:o==="moveAfter"?(h,d)=>{xe.moveAfterInternal(e,s,h,d)}:o==="moveAfterByIndex"?(h,d)=>{xe.moveAfterByIndexInternal(e,s,h,d)}:o==="moveFront"?h=>{xe.moveFrontInternal(e,s,h)}:o==="moveLast"?h=>{xe.moveLastInternal(e,s,h)}:a0(o)?ga(e,s.get(Number(o))):o==="push"?h=>xe.pushInternal(e,s,h):o==="splice"?(h,d,...y)=>xe.splice(e,s,h,d,...y):o==="length"?s.length:typeof o=="symbol"&&o===Symbol.iterator?xe.iteratorInternal.bind(this,e,s):o==="includes"?(h,d)=>xe.includes(e,s,h,d):o==="indexOf"?(h,d)=>xe.indexOf(e,s,h,d):o==="lastIndexOf"?(h,d)=>xe.lastIndexOf(e,s,h,d):o==="toJSForTest"?()=>s.toJSForTest():o==="toTestString"?()=>xe.toTestString(s):typeof o=="string"&&aT(o)?(...h)=>{const d=Array.from(s).map(y=>ga(e,y));return Array.prototype[o].apply(d,h)}:Reflect.get(s,o,c),set:(s,o,c)=>{if(a0(o)){const h=Number(o);return xe.setValueInternal(e,s,h,c),!0}return Reflect.set(s,o,c)},deleteProperty:(s,o)=>(F.isEnabled(Lt.Trivial)&&F.trivial(`array[${o}]`),xe.deleteInternalByIndex(e,s,Number.parseInt(o)),!0)}}static*iteratorInternal(e,a){for(const s of a)yield Sn(e,s)}static buildArrayElements(e,a){const s=[];for(const o of a){const c=e.issueTimeTicket(),h=Os(e,o,c);s.push(h)}return s}static pushInternal(e,a,s){return xe.insertAfterInternal(e,a,a.getLastCreatedAt(),s),a.length}static moveBeforeInternal(e,a,s,o){const c=e.issueTimeTicket(),h=a.getPrevCreatedAt(s);a.moveAfter(h,o,c),e.push(Cn.create(a.getCreatedAt(),h,o,c))}static moveAfterInternal(e,a,s,o){const c=e.issueTimeTicket();e.push(Cn.create(a.getCreatedAt(),s,o,c)),a.moveAfter(s,o,c)}static moveAfterByIndexInternal(e,a,s,o){const c=a.get(s);if(!c)throw new T(N.ErrInvalidArgument,`index out of bounds: ${s}`);const h=a.get(o);if(!h)throw new T(N.ErrInvalidArgument,`index out of bounds: ${o}`);xe.moveAfterInternal(e,a,c.getCreatedAt(),h.getCreatedAt())}static moveFrontInternal(e,a,s){const o=e.issueTimeTicket(),c=a.getHead();a.moveAfter(c.getCreatedAt(),s,o),e.push(Cn.create(a.getCreatedAt(),c.getCreatedAt(),s,o))}static moveLastInternal(e,a,s){const o=e.issueTimeTicket(),c=a.getLastCreatedAt();a.moveAfter(c,s,o),e.push(Cn.create(a.getCreatedAt(),c,s,o))}static insertAfterInternal(e,a,s,o){const c=e.issueTimeTicket(),h=Os(e,o,c);return a.insertAfter(s,h),e.registerElement(h,a),e.push(ki.create(a.getCreatedAt(),s,h.deepcopy(),c)),h}static insertIntegerAfterInternal(e,a,s,o){const c=a.get(s);if(!c)throw new T(N.ErrInvalidArgument,`index out of bounds: ${s}`);return xe.insertAfterInternal(e,a,c.getCreatedAt(),o),a}static insertBeforeInternal(e,a,s,o){return xe.insertAfterInternal(e,a,a.getPrevCreatedAt(s),o)}static setValueInternal(e,a,s,o){const c=a.get(s);if(!c)throw new T(N.ErrInvalidArgument,`index out of bounds: ${s}`);return xe.setByIndexInternal(e,a,c.getCreatedAt(),o),a}static setByIndexInternal(e,a,s,o){const c=e.issueTimeTicket(),h=Os(e,o,c),d=h.deepcopy();return e.push(fi.create(a.getCreatedAt(),s,d,c)),a.set(s,h,c),e.registerElement(h,a),h}static deleteInternalByIndex(e,a,s){const o=e.issueTimeTicket(),c=a.deleteByIndex(s,o);if(c)return e.push(Yn.create(a.getCreatedAt(),c.getCreatedAt(),o)),e.registerRemovedElement(c),c}static deleteInternalByID(e,a,s){const o=e.issueTimeTicket(),c=a.delete(s,o);return e.push(Yn.create(a.getCreatedAt(),c.getCreatedAt(),o)),e.registerRemovedElement(c),c}static splice(e,a,s,o,...c){const h=a.length,d=s>=0?Math.min(s,h):Math.max(h+s,0),y=o===void 0?h:o<0?d:Math.min(d+o,h),m=[];for(let b=d;b<y;b++){const A=xe.deleteInternalByIndex(e,a,d);if(A){const w=A.deepcopy();w.setRemovedAt(),m.push(ga(e,w))}}if(c){let b=d===0?a.getHead().getID():a.get(d-1).getID();for(const A of c)b=xe.insertAfterInternal(e,a,b,A).getID()}return m}static includes(e,a,s,o){const c=a.length,h=o===void 0?0:o<0?Math.max(o+c,0):o;if(h>=c)return!1;if(He.isSupport(s))return Array.from(a).map(y=>ga(e,y)).includes(s,h);for(let d=h;d<c;d++)if(a.get(d)?.getID()===s.getID())return!0;return!1}static indexOf(e,a,s,o){const c=a.length,h=o===void 0?0:o<0?Math.max(o+c,0):o;if(h>=c)return-1;if(He.isSupport(s))return Array.from(a).map(y=>ga(e,y)).indexOf(s,h);for(let d=h;d<c;d++)if(a.get(d)?.getID()===s.getID())return d;return-1}static lastIndexOf(e,a,s,o){const c=a.length,h=o===void 0||o>=c?c-1:o<0?o+c:o;if(h<0)return-1;if(He.isSupport(s))return Array.from(a).map(y=>ga(e,y)).lastIndexOf(s,h);for(let d=h;d>0;d--)if(a.get(d)?.getID()===s.getID())return d;return-1}static toTestString(e){return e.toTestString()}getHandlers(){return this.handlers}}class wh{context;text;constructor(e,a){this.context=e,this.text=a}initialize(e,a){this.context=e,this.text=a}getID(){return this.text.getID()}edit(e,a,s,o){if(!this.context||!this.text)throw new T(N.ErrNotInitialized,"Text is not initialized yet");if(e>a)throw new T(N.ErrInvalidArgument,"from should be less than or equal to to");const c=this.text.indexRangeToPosRange(e,a);F.isEnabled(Lt.Debug)&&F.debug(`EDIT: f:${e}->${c[0].toTestString()}, t:${a}->${c[1].toTestString()} c:${s}`);const h=o?Er(o):void 0,d=this.context.issueTimeTicket(),[,y,m,b]=this.text.edit(c,s,d,h);this.context.acc(m);for(const A of y)this.context.registerGCPair(A);return this.context.push(new Fs(this.text.getCreatedAt(),c[0],c[1],s,h?new Map(Object.entries(h)):new Map,d)),this.text.findIndexesFromRange(b)}delete(e,a){return this.edit(e,a,"")}empty(){return this.edit(0,this.length,"")}setStyle(e,a,s){if(!this.context||!this.text)throw new T(N.ErrNotInitialized,"Text is not initialized yet");if(e>a)throw new T(N.ErrInvalidArgument,"from should be less than or equal to to");const o=this.text.indexRangeToPosRange(e,a);F.isEnabled(Lt.Debug)&&F.debug(`STYL: f:${e}->${o[0].toTestString()}, t:${a}->${o[1].toTestString()} a:${JSON.stringify(s)}`);const c=Er(s),h=this.context.issueTimeTicket(),[d,y]=this.text.setStyle(o,c,h);this.context.acc(y);for(const m of d)this.context.registerGCPair(m);return this.context.push(new js(this.text.getCreatedAt(),o[0],o[1],new Map(Object.entries(c)),h)),!0}indexRangeToPosRange(e){if(!this.context||!this.text)throw new T(N.ErrNotInitialized,"Text is not initialized yet");const a=this.text.indexRangeToPosRange(e[0],e[1]);return[a[0].toStruct(),a[1].toStruct()]}posRangeToIndexRange(e){if(!this.context||!this.text)throw new T(N.ErrNotInitialized,"Text is not initialized yet");const a=this.text.findIndexesFromRange([wn.fromStruct(e[0]),wn.fromStruct(e[1])]);return[a[0],a[1]]}toTestString(){if(!this.context||!this.text)throw new T(N.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new T(N.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new T(N.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new T(N.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new T(N.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(e,a){if(!this.context||!this.text)throw new T(N.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(e,a)}}class Dh{valueType;value;context;counter;constructor(e,a){this.valueType=e,this.value=a}initialize(e,a){this.valueType=a.getValueType(),this.context=e,this.counter=a,this.value=a.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(e){if(!this.context||!this.counter)throw new T(N.ErrNotInitialized,"Counter is not initialized yet");const a=this.context.issueTimeTicket(),s=He.of(e,a);if(!s.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof s.getValue()}`);return this.counter.increase(s),this.context.push(Rr.create(this.counter.getCreatedAt(),s,a)),this}toJSForTest(){if(!this.context||!this.counter)throw new T(N.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function xh(i){if(i.isText)return{type:i.type,value:i.value};const e={type:i.type,children:i.children.map(a=>xh(a))};return i.attrs&&(e.attributes=oi(i.attrs.toObject())),e}function rT(i,e){const a={type:i.isText?i.parent.type:i.type,children:i.isText?i.parent.getChildrenText().length===e?[]:[{type:Mn,value:i.parent.getChildrenText().slice(e)}]:i.children.slice(e).map(s=>xh(s))};return i.attrs?a.attributes=oi(i.attrs.toObject()):i.isText&&i.parent.attrs&&(a.attributes=oi(i.parent.attrs.toObject())),a}function sT(i,e){const{node:a}=i,s=[...e].slice(0,-1),o=a.isText?a.parent.getChildrenText().length:a.children.length,c=[...s,o],h=[...s],d=[];h[h.length-1]+=1,e.every((m,b)=>m===c[b])||d.push({fromPath:[...e],toPath:c});const y=rT(a,e[e.length-1]);return y&&d.push({fromPath:h,toPath:h,content:y}),d}function lT(i,e){const{node:a,offset:s}=i,o=a.children[s],c=a.children[s-1],{children:h}=o,d=[...e].slice(0,-1),y=[{fromPath:[...e],toPath:[...d,s+1]}];if(!o.children.length)return y;const m=[...d,s-1,c.hasTextChild()?c.getChildrenText().length:c.children.length],b=h.map(A=>xh(A));return y.push({fromPath:m,toPath:m,content:b}),y}function Oh(i,e,a){const{type:s}=i,o=a.issueTimeTicket();if(s===Mn){kb(i);const{value:c}=i,h=Qt.create(At.of(o,0),s,c);e.append(h)}else{const{children:c=[]}=i,{attributes:h}=i;let d;if(typeof h=="object"&&!Eb(h)){const m=Er(h);d=new ci;for(const[b,A]of Object.entries(m))d.set(b,A,o)}const y=Qt.create(At.of(o,0),s,void 0,d);e.append(y);for(const m of c)Oh(m,y,a)}}function oT(i,e){const{type:a}=e,s=i.issueTimeTicket();let o;if(e.type===Mn){const{value:c}=e;o=Qt.create(At.of(s,0),a,c)}else if(e){const{children:c=[]}=e,{attributes:h}=e;let d;if(typeof h=="object"&&!Eb(h)){const y=Er(h);d=new ci;for(const[m,b]of Object.entries(y))d.set(m,b,s)}o=Qt.create(At.of(i.issueTimeTicket(),0),a,void 0,d);for(const y of c)Oh(y,o,i)}return o}function kb(i){if(!i.value.length)throw new T(N.ErrInvalidArgument,"text node cannot have empty value");return!0}function r0(i){if(!i.length)return!0;if(i[0].type===Mn)for(const a of i){const{type:s}=a;if(s!==Mn)throw new T(N.ErrInvalidArgument,"element node and text node cannot be passed together");kb(a)}else for(const a of i){const{type:s}=a;if(s===Mn)throw new T(N.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Vh{initialRoot;context;tree;constructor(e){this.initialRoot=e}initialize(e,a){this.context=e,this.tree=a}getID(){return this.tree.getID()}buildRoot(e){if(!this.initialRoot)return Qt.create(At.of(e.issueTimeTicket(),0),nN);const a=Qt.create(At.of(e.issueTimeTicket(),0),this.initialRoot.type);for(const s of this.initialRoot.children)Oh(s,a,e);return a}getSize(){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(e){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new T(N.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToTreePos(e),s=sT(a,e);for(const o of s){const{fromPath:c,toPath:h,content:d}=o,y=this.tree.pathToPos(c),m=this.tree.pathToPos(h);this.editInternal(y,m,d?[d]:[],0)}}mergeByPath(e){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new T(N.ErrInvalidArgument,"path should not be empty");const a=this.tree.pathToTreePos(e);if(a.node.isText)throw new T(N.ErrInvalidArgument,"text node cannot be merged");const s=lT(a,e);for(const o of s){const{fromPath:c,toPath:h,content:d}=o,y=this.tree.pathToPos(c),m=this.tree.pathToPos(h);this.editInternal(y,m,d??[],0)}}styleByPath(e,a){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new T(N.ErrInvalidArgument,"path should not be empty");const[s,o]=this.tree.pathToPosRange(e),c=this.context.issueTimeTicket(),h=a?Er(a):void 0,[d,,y]=this.tree.style([s,o],h,c);this.context.acc(y);for(const m of d)this.context.registerGCPair(m);this.context.push(ui.create(this.tree.getCreatedAt(),s,o,h?new Map(Object.entries(h)):new Map,c))}style(e,a,s){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");if(e>a)throw new T(N.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(e),c=this.tree.findPos(a),h=this.context.issueTimeTicket(),d=s?Er(s):void 0,[y,,m]=this.tree.style([o,c],d,h);this.context.acc(m);for(const b of y)this.context.registerGCPair(b);this.context.push(ui.create(this.tree.getCreatedAt(),o,c,d?new Map(Object.entries(d)):new Map,h))}removeStyle(e,a,s){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");if(e>a)throw new T(N.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(e),c=this.tree.findPos(a),h=this.context.issueTimeTicket(),[d,,y]=this.tree.removeStyle([o,c],s,h);this.context.acc(y);for(const m of d)this.context.registerGCPair(m);this.context.push(ui.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),o,c,s,h))}editInternal(e,a,s,o=0){if(s.length!==0&&s[0]&&(r0(s),s[0].type!==Mn))for(const m of s){const{children:b=[]}=m;r0(b)}const c=this.context.getLastTimeTicket();let h=new Array;if(s[0]?.type===Mn){let m="";for(const b of s){const{value:A}=b;m+=A}h.push(Qt.create(At.of(this.context.issueTimeTicket(),0),Mn,m))}else h=s.map(m=>m&&oT(this.context,m)).filter(m=>m);const[,d,y]=this.tree.edit([e,a],h.length?h.map(m=>m?.deepcopy()):void 0,o,c,()=>this.context.issueTimeTicket());this.context.acc(y);for(const m of d)this.context.registerGCPair(m);return this.context.push(Hs.create(this.tree.getCreatedAt(),e,a,h.length?h:void 0,o,c)),!0}editByPath(e,a,s,o=0){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==a.length)throw new T(N.ErrInvalidArgument,"path length should be equal");if(!e.length||!a.length)throw new T(N.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(e),h=this.tree.pathToPos(a);return this.editInternal(c,h,s?[s]:[],o)}editBulkByPath(e,a,s,o=0){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==a.length)throw new T(N.ErrInvalidArgument,"path length should be equal");if(!e.length||!a.length)throw new T(N.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(e),h=this.tree.pathToPos(a);return this.editInternal(c,h,s,o)}edit(e,a,s,o=0){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");if(e>a)throw new T(N.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(e),h=this.tree.findPos(a);return this.editInternal(c,h,s?[s]:[],o)}editBulk(e,a,s,o=0){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");if(e>a)throw new T(N.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(e),h=this.tree.findPos(a);return this.editInternal(c,h,s,o)}toXML(){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(e){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(e)}pathToIndex(e){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(e)}pathRangeToPosRange(e){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");const a=[this.tree.pathToIndex(e[0]),this.tree.pathToIndex(e[1])],s=this.tree.indexRangeToPosRange(a);return[s[0].toStruct(),s[1].toStruct()]}indexRangeToPosRange(e){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(e)}posRangeToIndexRange(e){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");const a=[In.fromStruct(e[0]),In.fromStruct(e[1])];return this.tree.posRangeToIndexRange(a)}posRangeToPathRange(e){if(!this.context||!this.tree)throw new T(N.ErrNotInitialized,"Tree is not initialized yet");const a=[In.fromStruct(e[0]),In.fromStruct(e[1])];return this.tree.posRangeToPathRange(a)}}function s0(i,e){return Jb(i,e)}function Sn(i,e){if(e){if(e instanceof He)return e;if(e instanceof Et)return Jb(i,e);if(e instanceof Nt)return iT(i,e);if(e instanceof $t)return new wh(i,e);if(e instanceof zt){const a=new Dh(Gn.Int,0);return a.initialize(i,e),a}else if(e instanceof Pt){const a=new Vh;return a.initialize(i,e),a}}else return;throw new TypeError(`Unsupported type of element: ${typeof e}`)}function ga(i,e){const a=Sn(i,e);return a instanceof He?a.getValue():a}function Os(i,e,a){let s;if(He.isSupport(e))s=He.of(e,a);else if(Array.isArray(e))s=Nt.create(a,xe.buildArrayElements(i,e));else if(typeof e=="object")e instanceof wh?(s=$t.create(Tr.create(),a),e.initialize(i,s)):e instanceof Dh?(s=zt.create(e.getValueType(),e.getValue(),a),e.initialize(i,s)):e instanceof Vh?(s=Pt.create(e.buildRoot(i),a),e.initialize(i,s)):s=Et.create(a,Ws.buildObjectMembers(i,e));else throw new TypeError(`Unsupported type of value: ${typeof e}`);return s}class Ks{rootObject;elementPairMapByCreatedAt;gcElementSetByCreatedAt;gcPairMap;docSize;constructor(e){this.rootObject=e,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(e,void 0),e.getDescendants(a=>{if(a.getRemovedAt()&&this.registerRemovedElement(a),a instanceof $t||a instanceof Pt)for(const s of a.getGCPairs())this.registerGCPair(s);return!1})}static create(){return new Ks(Et.create(vr))}findByCreatedAt(e){const a=this.elementPairMapByCreatedAt.get(e.toIDString());if(a)return a.element}findElementPairByCreatedAt(e){return this.elementPairMapByCreatedAt.get(e.toIDString())}createSubPaths(e){let a=this.elementPairMapByCreatedAt.get(e.toIDString());if(!a)return[];const s=[];for(;a.parent;){const o=a.element.getCreatedAt(),c=a.parent.subPathOf(o);if(c===void 0)throw new T(N.ErrInvalidArgument,`cant find the given element: ${o.toIDString()}`);s.unshift(c),a=this.elementPairMapByCreatedAt.get(a.parent.getCreatedAt().toIDString())}return s.unshift("$"),s}createPath(e){return this.createSubPaths(e).join(".")}registerElement(e,a){this.elementPairMapByCreatedAt.set(e.getCreatedAt().toIDString(),{parent:a,element:e}),vt(this.docSize.live,e.getDataSize()),e instanceof Wi&&e.getDescendants((s,o)=>(this.elementPairMapByCreatedAt.set(s.getCreatedAt().toIDString(),{parent:o,element:s}),vt(this.docSize.live,s.getDataSize()),!1))}deregisterElement(e){let a=0;const s=o=>{const c=o.getCreatedAt().toIDString();ya(this.docSize.gc,o.getDataSize()),this.elementPairMapByCreatedAt.delete(c),this.gcElementSetByCreatedAt.delete(c),a++};return s(e),e instanceof Wi&&e.getDescendants(o=>(s(o),!1)),a}registerRemovedElement(e){vt(this.docSize.gc,e.getDataSize()),ya(this.docSize.live,e.getDataSize()),this.docSize.live.meta+=Ln,this.gcElementSetByCreatedAt.add(e.getCreatedAt().toIDString())}registerGCPair(e){if(this.gcPairMap.get(e.child.toIDString())){this.gcPairMap.delete(e.child.toIDString());return}this.gcPairMap.set(e.child.toIDString(),e);const s=this.gcPairMap.get(e.child.toIDString()).child.getDataSize();vt(this.docSize.gc,s),ya(this.docSize.live,s),e.child instanceof _i||(this.docSize.live.meta+=Ln)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const e=new Set;for(const a of this.gcElementSetByCreatedAt){e.add(a);const s=this.elementPairMapByCreatedAt.get(a);s.element instanceof Wi&&s.element.getDescendants(o=>(e.add(o.getCreatedAt().toIDString()),!1))}return e.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new Ks(this.rootObject.deepcopy())}garbageCollect(e){let a=0;for(const s of this.gcElementSetByCreatedAt){const o=this.elementPairMapByCreatedAt.get(s),c=o.element.getRemovedAt();c&&e?.afterOrEqual(c)&&(o.parent.purge(o.element),a+=this.deregisterElement(o.element))}for(const[,s]of this.gcPairMap){const o=s.child.getRemovedAt();o&&e?.afterOrEqual(o)&&(s.parent.purge(s.child),ya(this.docSize.gc,s.child.getDataSize()),this.gcPairMap.delete(s.child.toIDString()),a+=1)}return a}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(e){vt(this.docSize.live,e)}*getGCElementPairs(){for(const e of this.gcElementSetByCreatedAt){const a=this.elementPairMapByCreatedAt.get(e);a&&(yield a)}}}let l0=class{context;presence;constructor(e,a){this.context=e,this.presence=a}set(e,a){for(const s of Object.keys(e))this.presence[s]=e[s];this.context.setPresenceChange({type:zn.Put,presence:En(this.presence)}),this.context.setReversePresence(e,a)}get(e){return this.presence[e]}clear(){this.presence={},this.context.setPresenceChange({type:zn.Clear})}};const o0=50;class uT{undoStack=[];redoStack=[];hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(e){this.undoStack.length>=o0&&this.undoStack.shift(),this.undoStack.push(e)}popUndo(){return this.undoStack.pop()}pushRedo(e){this.redoStack.length>=o0&&this.redoStack.shift(),this.redoStack.push(e)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(e,a){const s=o=>{for(const c of o)for(const h of c)(h instanceof fi||h instanceof Yn||h instanceof Cn)&&h.getCreatedAt()===e&&h.setCreatedAt(a),(h instanceof ki||h instanceof Cn)&&h.getPrevCreatedAt()===e&&h.setPrevCreatedAt(a)};s(this.undoStack),s(this.redoStack)}}function cT(i,e){const a=[];for(const s of e){const o=fT(i,s.path),c=hT(o,s);if(!c.valid)for(const h of c.errors||[])a.push(h)}return{valid:a.length===0,errors:a}}function fT(i,e){if(!e.startsWith("$"))throw new Error(`Path must start with $, got ${e}`);const a=e.split(".");let s=i;for(let o=1;o<a.length;o++){const c=a[o];if(!(s instanceof Et))return;s=s.get(c)}return s}function hT(i,e){switch(e.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return gT(i,e);case"object":if(!(i instanceof Et))return{valid:!1,errors:[{path:e.path,message:`expected object at path ${e.path}`}]};break;case"array":if(!(i instanceof Nt))return{valid:!1,errors:[{path:e.path,message:`expected array at path ${e.path}`}]};break;case"yorkie.Text":if(!(i instanceof $t))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Text at path ${e.path}`}]};break;case"yorkie.Tree":if(!(i instanceof Pt))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Tree at path ${e.path}`}]};break;case"yorkie.Counter":if(!(i instanceof zt))return{valid:!1,errors:[{path:e.path,message:`expected yorkie.Counter at path ${e.path}`}]};break;default:throw new Error(`Unknown rule type: ${e.type}`)}return{valid:!0}}function dT(i){switch(i){case"null":return Ge.Null;case"boolean":return Ge.Boolean;case"integer":return Ge.Integer;case"long":return Ge.Long;case"double":return Ge.Double;case"string":return Ge.String;case"bytes":return Ge.Bytes;case"date":return Ge.Date;default:throw new Error(`Unknown primitive type: ${i}`)}}function gT(i,e){return i instanceof He&&i.getType()===dT(e.type)?{valid:!0}:{valid:!1,errors:[{path:e.path,message:`expected ${e.type} at path ${e.path}`}]}}const mT="yorkie-devtools-panel",yT="yorkie-devtools-sdk";function pT(i){return[ft.StatusChanged,ft.Snapshot,ft.LocalChange,ft.RemoteChange,ft.Initialized,ft.Watched,ft.Unwatched,ft.PresenceChanged].includes(i.type)}function bT(i){return i.every(pT)}let ur="disconnected";const u0=new Map,Ro=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=Ro);function Eo(i,e){(e?.force||ur!=="disconnected")&&window.postMessage({source:yT,...i},"*")}function vT(i){if(!i.isEnableDevtools()||typeof window>"u"||u0.has(i.getKey()))return;Ro.set(i.getKey(),[]);const e=i.subscribe("all",a=>{bT(a)&&(Ro.get(i.getKey()).push(a),ur==="synced"&&Eo({msg:"doc::sync::partial",docKey:i.getKey(),event:a}))});u0.set(i.getKey(),[e]),Eo({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",a=>{if(a.data?.source!==mT)return;switch(a.data.msg){case"devtools::connect":if(ur!=="disconnected")break;ur="connected",Eo({msg:"doc::available",docKey:i.getKey()}),F.info(`[YD] Devtools connected. Doc: ${i.getKey()}`);break;case"devtools::disconnect":ur="disconnected",F.info(`[YD] Devtools disconnected. Doc: ${i.getKey()}`);break;case"devtools::subscribe":ur="synced",Eo({msg:"doc::sync::full",docKey:i.getKey(),events:Ro.get(i.getKey())}),F.info(`[YD] Devtools subscribed. Doc: ${i.getKey()}`);break}})}var zi=(i=>(i.Detached="detached",i.Attached="attached",i.Removed="removed",i))(zi||{}),ft=(i=>(i.StatusChanged="status-changed",i.ConnectionChanged="connection-changed",i.SyncStatusChanged="sync-status-changed",i.Snapshot="snapshot",i.LocalChange="local-change",i.RemoteChange="remote-change",i.Initialized="initialized",i.Watched="watched",i.Unwatched="unwatched",i.PresenceChanged="presence-changed",i.AuthError="auth-error",i))(ft||{}),Vs=(i=>(i.Connected="connected",i.Disconnected="disconnected",i))(Vs||{}),Gf=(i=>(i.Synced="synced",i.SyncFailed="sync-failed",i))(Gf||{});class Gi{key;status;opts;maxSizeLimit;schemaRules;changeID;checkpoint;localChanges;root;presences;clone;internalHistory;isUpdating;onlineClients;eventStream;eventStreamObserver;history;constructor(e,a){this.key=e,this.status="detached",this.opts=a||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=cN,this.checkpoint=fN,this.localChanges=[],this.root=Ks.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new uT,this.isUpdating=!1,this.eventStream=Xb(s=>this.eventStreamObserver=s),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},vT(this)}update(e,a){if(this.getStatus()==="removed")throw new T(N.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const s=this.changeID.getActorID(),o=xs.create(this.changeID,this.clone.root,this.clone.presences.get(s)||{},a);try{const d=s0(o,this.clone.root.getObject());this.presences.has(s)||this.clone.presences.set(s,{}),this.isUpdating=!0,e(d,new l0(o,this.clone.presences.get(s)))}catch(d){throw this.clone=void 0,d}finally{this.isUpdating=!1}const c=this.getSchemaRules();if(!o.isPresenceOnlyChange()&&c.length){const d=cT(this.clone?.root.getObject(),c);if(!d.valid)throw this.clone=void 0,new T(N.ErrDocumentSchemaValidationFailed,`schema validation failed: ${d.errors?.map(y=>y.message).join(", ")}`)}const h=eN(this.clone?.root.getDocSize());if(!o.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<h)throw this.clone=void 0,new T(N.ErrDocumentSizeExceedsLimit,`document size exceeded: ${h} > ${this.maxSizeLimit}`);if(o.hasChange()){F.isEnabled(Lt.Trivial)&&F.trivial(`trying to update a local change: ${this.toJSON()}`);const d=o.toChange(),{opInfos:y,reverseOps:m}=d.execute(this.root,this.presences,Fe.Local);for(const w of d.getOperations())w instanceof fi&&this.internalHistory.reconcileCreatedAt(w.getCreatedAt(),w.getValue().getCreatedAt());const b=o.getReversePresence();b&&m.push({type:"presence",value:b}),this.localChanges.push(d),m.length&&this.internalHistory.pushUndo(m),y.length&&this.internalHistory.clearRedo(),this.changeID=o.getNextID();const A=[];y.length&&A.push({type:"local-change",source:Fe.Local,value:{message:d.getMessage()||"",operations:y,actor:s,clientSeq:d.getID().getClientSeq(),serverSeq:d.getID().getServerSeq()},rawChange:this.isEnableDevtools()?d.toStruct():void 0}),d.hasPresenceChange()&&A.push({type:"presence-changed",source:Fe.Local,value:{clientID:s,presence:this.getPresence(s)}}),this.publish(A),F.isEnabled(Lt.Trivial)&&F.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(e,a,s,o){if(typeof e=="string"){if(typeof a!="function")throw new T(N.ErrInvalidArgument,"Second argument must be a callback function");if(e==="presence"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="initialized"&&m.type!=="watched"&&m.type!=="unwatched"&&m.type!=="presence-changed"||d(m)},s,o)}if(e==="my-presence"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="initialized"&&m.type!=="presence-changed"||m.type==="presence-changed"&&m.value.clientID!==this.changeID.getActorID()||d(m)},s,o)}if(e==="others"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="watched"&&m.type!=="unwatched"&&m.type!=="presence-changed"||m.value.clientID!==this.changeID.getActorID()&&d(m)},s,o)}if(e==="connection"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="connection-changed"&&d(m)},s,o)}if(e==="status"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="status-changed"&&d(m)},s,o)}if(e==="sync"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="sync-status-changed"&&d(m)},s,o)}if(e==="auth-error"){const d=a;return this.eventStream.subscribe(y=>{for(const m of y)m.type==="auth-error"&&d(m)},s)}if(e==="all"){const d=a;return this.eventStream.subscribe(d,s,o)}const c=e,h=a;return this.eventStream.subscribe(d=>{for(const y of d){if(y.type!=="local-change"&&y.type!=="remote-change")continue;const m=[];for(const b of y.value.operations)this.isSameElementOrChildOf(b.path,c)&&m.push(b);m.length&&h({...y,value:{...y.value,operations:m}})}},s,o)}if(typeof e=="function"){const c=e,h=a,d=s;return this.eventStream.subscribe(y=>{for(const m of y)m.type!=="snapshot"&&m.type!=="local-change"&&m.type!=="remote-change"||c(m)},h,d)}throw new T(N.ErrInvalidArgument,`"${e}" is not a valid`)}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}applyChangePack(e){e.hasSnapshot()?this.applySnapshot(e.getCheckpoint().getServerSeq(),e.getVersionVector(),e.getSnapshot(),e.getCheckpoint().getClientSeq()):(this.applyChanges(e.getChanges(),Fe.Remote),this.removePushedLocalChanges(e.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(e.getCheckpoint()),e.hasSnapshot()||this.garbageCollect(e.getVersionVector()),e.getIsRemoved()&&this.applyStatus("removed"),F.isEnabled(Lt.Trivial)&&F.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:En(this.presences)})}createChangePack(){const e=Array.from(this.localChanges),a=this.checkpoint.increaseClientSeq(e.length);return _o.create(this.key,a,!1,e,this.getVersionVector())}setActor(e){for(const a of this.localChanges)a.setActor(e);this.changeID=this.changeID.setActor(e)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const e=xs.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return s0(e,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(e){this.maxSizeLimit=e}getSchemaRules(){return this.schemaRules}setSchemaRules(e){this.schemaRules=e}garbageCollect(e){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(e),this.root.garbageCollect(e))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(e,a,s,o=-1){const{root:c,presences:h}=Xe.bytesToSnapshot(s);this.root=new Ks(c),this.presences=h,this.changeID=this.changeID.setClocks(a.maxLamport(),a),this.clone=void 0,this.removePushedLocalChanges(o),this.applyChanges(this.localChanges,Fe.Local),this.publish([{type:"snapshot",source:Fe.Remote,value:{serverSeq:e.toString(),snapshot:this.isEnableDevtools()?Xe.bytesToHex(s):void 0,snapshotVector:Xe.versionVectorToHex(a)}}])}applyChanges(e,a){F.isEnabled(Lt.Debug)&&F.debug(`trying to apply ${e.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),F.isEnabled(Lt.Trivial)&&F.trivial(e.map(s=>`${s.getID().toTestString()}	${s.toTestString()}`).join(`
`));for(const s of e)this.applyChange(s,a);F.isEnabled(Lt.Debug)&&F.debug(`after appling ${e.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(e,a){this.ensureClone(),e.execute(this.clone.root,this.clone.presences,a);const s=[],o=e.getID().getActorID();if(e.hasPresenceChange()&&this.onlineClients.has(o)){const h=e.getPresenceChange();switch(h.type){case zn.Put:s.push(this.presences.has(o)?{type:"presence-changed",source:a,value:{clientID:o,presence:h.presence}}:{type:"watched",source:Fe.Remote,value:{clientID:o,presence:h.presence}});break;case zn.Clear:s.push({type:"unwatched",source:Fe.Remote,value:{clientID:o,presence:this.getPresence(o)}}),this.removeOnlineClient(o);break}}const{opInfos:c}=e.execute(this.root,this.presences,a);if(this.changeID=this.changeID.syncClocks(e.getID()),c.length){const h=this.isEnableDevtools()?e.toStruct():void 0;s.push(a===Fe.Remote?{type:"remote-change",source:a,value:{actor:o,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:c},rawChange:h}:{type:"local-change",source:a,value:{actor:o,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:c},rawChange:h})}s.length&&this.publish(s)}applyWatchStream(e){if(e.body.case==="initialization"){const a=e.body.value.clientIds,s=new Set;for(const o of a)o!==this.changeID.getActorID()&&s.add(o);this.setOnlineClients(s),this.publish([{type:"initialized",source:Fe.Local,value:this.getPresences()}]);return}if(e.body.case==="event"){const{type:a,publisher:s}=e.body.value,o=[];if(a===Do.DOCUMENT_WATCHED){if(this.onlineClients.has(s)&&this.hasPresence(s))return;this.addOnlineClient(s),this.hasPresence(s)&&o.push({type:"watched",source:Fe.Remote,value:{clientID:s,presence:this.getPresence(s)}})}else if(a===Do.DOCUMENT_UNWATCHED){const c=this.getPresence(s);this.removeOnlineClient(s),c&&o.push({type:"unwatched",source:Fe.Remote,value:{clientID:s,presence:c}})}o.length&&this.publish(o)}}applyStatus(e){this.status=e,e==="detached"&&this.setActor(yh),this.publish([{source:e==="removed"?Fe.Remote:Fe.Local,type:"status-changed",value:e==="attached"?{status:e,actorID:this.changeID.getActorID()}:{status:e}}])}applyDocEventsForReplay(e){for(const a of e){if(a.type==="status-changed"){this.applyStatus(a.value.status),a.value.status==="attached"&&this.setActor(a.value.actorID);continue}if(a.type==="snapshot"){const{snapshot:s,serverSeq:o,snapshotVector:c}=a.value;if(!s)continue;this.applySnapshot(BigInt(o),Xe.hexToVersionVector(c),Xe.hexToBytes(s));continue}if(a.type==="local-change"||a.type==="remote-change"){if(!a.rawChange)continue;const s=Nr.fromStruct(a.rawChange);this.applyChange(s,a.source)}if(a.type==="initialized"){const s=new Set;for(const{clientID:o,presence:c}of a.value)s.add(o),this.presences.set(o,c);this.setOnlineClients(s)}else if(a.type==="watched"){const{clientID:s,presence:o}=a.value;this.addOnlineClient(s),this.presences.set(s,o)}else if(a.type==="unwatched"){const{clientID:s}=a.value;this.removeOnlineClient(s),this.presences.delete(s)}else if(a.type==="presence-changed"){const{clientID:s,presence:o}=a.value;this.presences.set(s,o)}}}getValueByPath(e){if(!e.startsWith("$"))throw new T(N.ErrInvalidArgument,'path must start with "$"');const a=e.split(".");a.shift();let s=this.getRoot();for(const o of a)if(s=s[o],!s)return;return s}setOnlineClients(e){this.onlineClients=e}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(e){this.onlineClients.add(e)}removeOnlineClient(e){this.onlineClients.delete(e)}hasPresence(e){return this.presences.has(e)}getMyPresence(){if(this.status!=="attached")return{};const e=this.presences.get(this.changeID.getActorID());return e?En(e):{}}getOthersPresences(){const e=[],a=this.changeID.getActorID();for(const s of this.onlineClients)s!==a&&this.presences.has(s)&&e.push({clientID:s,presence:En(this.presences.get(s))});return e}getPresence(e){if(e===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(e))return;const a=this.presences.get(e);return a?En(a):void 0}getPresences(){const e=[];e.push({clientID:this.changeID.getActorID(),presence:En(this.getMyPresence())});for(const a of this.onlineClients)this.presences.has(a)&&e.push({clientID:a,presence:En(this.presences.get(a))});return e}getPresenceForTest(e){const a=this.presences.get(e);return a?En(a):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const e=this.getChangeID().getActorID();return this.getPresences().filter(a=>a.clientID!==e).sort((a,s)=>a.clientID>s.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(e,a){if(a===e)return!0;const s=e.split(".");return a.split(".").every((o,c)=>o===s[c])}removePushedLocalChanges(e){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>e);)this.localChanges.shift()}executeUndoRedo(e){if(this.isUpdating)throw new T(N.ErrRefused,`${e?"Undo":"Redo"} is not allowed during an update`);const a=e?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!a)throw new T(N.ErrRefused,`There is no operation to be ${e?"undone":"redone"}`);this.ensureClone();const s=xs.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const b of a){if(!(b instanceof Dn)){new l0(s,En(this.clone.presences.get(this.changeID.getActorID()))).set(b.value,{addToHistory:!0});continue}const A=s.issueTimeTicket();if(b.setExecutedAt(A),b instanceof fi){const w=b.getCreatedAt();b.getValue().setCreatedAt(A),this.internalHistory.reconcileCreatedAt(w,A)}else if(b instanceof ki){const w=b.getValue().getCreatedAt();b.getValue().setCreatedAt(A),this.internalHistory.reconcileCreatedAt(w,A)}s.push(b)}const o=s.toChange();o.execute(this.clone.root,this.clone.presences,Fe.UndoRedo);const{opInfos:c,reverseOps:h}=o.execute(this.root,this.presences,Fe.UndoRedo),d=s.getReversePresence();if(d&&h.push({type:"presence",value:d}),h.length&&(e?this.internalHistory.pushRedo(h):this.internalHistory.pushUndo(h)),!o.hasPresenceChange()&&!c.length)return;this.localChanges.push(o),this.changeID=s.getNextID();const y=this.changeID.getActorID(),m=[];c.length&&m.push({type:"local-change",source:Fe.UndoRedo,value:{message:o.getMessage()||"",operations:c,actor:y,clientSeq:o.getID().getClientSeq(),serverSeq:o.getID().getServerSeq()},rawChange:this.isEnableDevtools()?o.toStruct():void 0}),o.hasPresenceChange()&&m.push({type:"presence-changed",source:Fe.UndoRedo,value:{clientID:y,presence:this.getPresence(y)}}),this.publish(m)}}class c0{resource;resourceID;syncMode;changeEventReceived;lastHeartbeatTime;reconnectStreamDelay;cancelled;watchStream;watchLoopTimerID;watchAbortController;constructor(e,a,s,o){this.reconnectStreamDelay=e,this.resource=a,this.resourceID=s,this.syncMode=o,this.changeEventReceived=o!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(e){this.syncMode=e}needRealtimeSync(){return this.syncMode===Cs.RealtimeSyncOff?!1:this.syncMode===Cs.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==Cs.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(e){return this.resource instanceof Gi?this.needRealtimeSync():this.syncMode===Cs.Manual?!1:Date.now()-this.lastHeartbeatTime>=e}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(e){const a=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await e(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(a,this.reconnectStreamDelay))})}catch{}};await a()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function AT(i,e){let a=e;return{authInterceptor:c=>async h=>(i&&h.header.set("x-api-key",i),a&&h.header.set("authorization",a),await c(h)),setToken:c=>{a=c}}}const ST="@yorkie-js/sdk",ET="0.6.41-rc",f0={name:ST,version:ET};function NT(i){return e=>async a=>(i?a.header.set("x-yorkie-user-agent",i):a.header.set("x-yorkie-user-agent",f0.name+"/"+f0.version),await e(a))}const TT=i=>{try{if(JSON.stringify(i)===void 0)return!1}catch{return!1}return!0};var Rs=(i=>(i.Detached="detached",i.Attached="attached",i.Removed="removed",i))(Rs||{}),fr=(i=>(i.PresenceChanged="presence-changed",i.Initialized="initialized",i.Broadcast="broadcast",i.LocalBroadcast="local-broadcast",i.AuthError="auth-error",i))(fr||{});const Ns=".";class Yi{key;status;actorID;sessionID;count;seq;eventStream;eventStreamObserver;constructor(e){this.validateChannelKey(e),this.key=e,this.status="detached",this.count=0,this.seq=0,this.eventStream=Xb(a=>this.eventStreamObserver=a)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(Ns)[0]}getStatus(){return this.status}applyStatus(e){this.status=e}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(e){this.actorID=e}getSessionID(){return this.sessionID}setSessionID(e){this.sessionID=e}getPresenceCount(){return this.count}updateCount(e,a){return a===0||a>this.seq?(this.count=e,this.seq=a,!0):!1}hasLocalChanges(){return!1}subscribe(e,a){if(typeof e=="function")return this.eventStream.subscribe(e);const s=e,o=a;if(!o)throw new Error("callback is required when subscribing to specific event type or topic");if(s==="broadcast")return this.eventStream.subscribe(h=>{h.type==="broadcast"&&o(h)});if(s==="local-broadcast")return this.eventStream.subscribe(h=>{h.type==="local-broadcast"&&o(h)});if(s==="auth-error")return this.eventStream.subscribe(h=>{h.type==="auth-error"&&o(h)});if(s==="presence")return this.eventStream.subscribe(h=>{(h.type==="presence-changed"||h.type==="initialized")&&o(h)});if(s==="all")return this.eventStream.subscribe(o);const c=s;return this.eventStream.subscribe(h=>{h.type==="broadcast"&&h.topic===c&&o(h)})}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}broadcast(e,a,s){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:e,payload:a,options:s})}validateChannelKey(e){if(e==="")throw new Error("channel key must not be empty");if(e.includes(" "))throw new Error("channel key must not contain a whitespace");if(e.startsWith(Ns))throw new Error("channel key must not start with a period");if(e.endsWith(Ns))throw new Error("channel key must not end with a period");if(e.includes(`${Ns}${Ns}`))throw new Error("channel key path must not empty")}}var Cs=(i=>(i.Manual="manual",i.Realtime="realtime",i.RealtimePushOnly="realtime-pushonly",i.RealtimeSyncOff="realtime-syncoff",i))(Cs||{});const lr={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},Rf={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class Fb{id;key;metadata;status;attachmentMap;apiKey;authTokenInjector;conditions;syncLoopDuration;reconnectStreamDelay;retrySyncLoopDelay;channelHeartbeatInterval;rpcClient;setAuthToken;taskQueue;processing=!1;keepalive=!1;constructor(e){e=e||lr;const a=e.rpcAddr||lr.rpcAddr;this.key=e.key||Kb(),this.metadata=e.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=e.apiKey||"",this.authTokenInjector=e.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=e.syncLoopDuration??lr.syncLoopDuration,this.reconnectStreamDelay=e.reconnectStreamDelay??lr.reconnectStreamDelay,this.retrySyncLoopDelay=e.retrySyncLoopDelay??lr.retrySyncLoopDelay,this.channelHeartbeatInterval=e.channelHeartbeatInterval??lr.channelHeartbeatInterval;const{authInterceptor:s,setToken:o}=AT(this.apiKey);this.setAuthToken=o,this.rpcClient=kE(Q2,p2({baseUrl:a,interceptors:[s,NT(e?.userAgent)],fetch:(c,h)=>fetch(c,{...h,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const e=await this.authTokenInjector();this.setAuthToken(e)}return this.enqueueTask(async()=>{try{const e=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=e.clientId,this.status="activated",this.runSyncLoop(),F.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(e){throw F.error(`[AC] c:"${this.getKey()}" err :`,e),await this.handleConnectError(e),e}})}deactivate(e={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const a=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:e.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),F.info(`[DC] c"${this.getKey()}" deactivated`)}catch(s){throw F.error(`[DC] c:"${this.getKey()}" err :`,s),await this.handleConnectError(s),s}};if(e.keepalive){this.keepalive=!0;const s=a();return this.keepalive=!1,s}return this.enqueueTask(a)}has(e){return this.attachmentMap.has(e)}attach(e,a){return e instanceof Yi?this.attachChannel(e,a):this.attachDocument(e,a)}attachDocument(e,a={}){if(!this.isActive())throw new T(N.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==zi.Detached)throw new T(N.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id),e.update((o,c)=>c.set(a.initialPresence||{}));const s=a.syncMode??"realtime";return this.enqueueTask(async()=>{try{const o=await this.rpcClient.attachDocument({clientId:this.id,changePack:Xe.toChangePack(e.createChangePack()),schemaKey:a.schema},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});(o.maxSizePerDocument??0)>0&&e.setMaxSizePerDocument(o.maxSizePerDocument),o.schemaRules.length>0&&e.setSchemaRules(Xe.fromSchemaRules(o.schemaRules));const h=Xe.fromChangePack(o.changePack);if(e.applyChangePack(h),e.getStatus()===zi.Removed)return e;e.applyStatus(zi.Attached),this.attachmentMap.set(e.getKey(),new c0(this.reconnectStreamDelay,e,o.documentId,s)),s!=="manual"&&await this.runWatchLoop(e.getKey()),F.info(`[AD] c:"${this.getKey()}" attaches d:"${e.getKey()}"`);const d=e.getRootObject();if(a.initialRoot){const y=a.initialRoot;e.update(m=>{for(const[b,A]of Object.entries(y))if(!d.has(b)){const w=b;m[w]=A}})}return e}catch(o){throw F.error(`[AD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}detach(e,a){return e instanceof Yi?this.detachChannel(e):this.detachDocument(e,a)}detachDocument(e,a={keepalive:!1}){if(!this.isActive())throw new T(N.ErrClientNotActivated,`${this.key} is not active`);const s=this.attachmentMap.get(e.getKey());if(!s)throw new T(N.ErrNotAttached,`${e.getKey()} is not attached`);e.update((c,h)=>h.clear());const o=async()=>{try{const c=await this.rpcClient.detachDocument({clientId:this.id,documentId:s.resourceID,changePack:Xe.toChangePack(e.createChangePack()),removeIfNotAttached:a.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),h=Xe.fromChangePack(c.changePack);return e.applyChangePack(h),e.getStatus()!==zi.Removed&&e.applyStatus(zi.Detached),this.detachInternal(e.getKey()),F.info(`[DD] c:"${this.getKey()}" detaches d:"${e.getKey()}"`),e}catch(c){throw F.error(`[DD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};if(a.keepalive){this.keepalive=!0;const c=o();return this.keepalive=!1,c}return this.enqueueTask(o)}async attachChannel(e,a={}){if(!this.isActive())throw new T(N.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==Rs.Detached)throw new T(N.ErrNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id);const s=async()=>{try{const o=await this.rpcClient.attachChannel({clientId:this.id,channelKey:e.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});e.setSessionID(o.sessionId),e.updateCount(Number(o.count),0),e.applyStatus(Rs.Attached);const c=a.isRealtime!==!1?"realtime":"manual",h=new c0(this.reconnectStreamDelay,e,o.sessionId,c);return e.subscribe("local-broadcast",d=>{const{topic:y,payload:m,options:b}=d;this.broadcast(e.getKey(),y,m,b).catch(A=>{b?.error&&b.error(A),F.error(`[BC] c:"${this.getKey()}" failed: ${A}`)})}),this.attachmentMap.set(e.getKey(),h),c==="realtime"&&await this.runWatchLoop(e.getKey()),F.info(`[AP] c:"${this.getKey()}" attaches p:"${e.getKey()}" mode:${c} count:${e.getPresenceCount()}`),e}catch(o){throw F.error(`[AP] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}};return this.enqueueTask(s)}async detachChannel(e){if(!this.isActive())throw new T(N.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(e.getKey()))throw new T(N.ErrNotAttached,`${e.getKey()} is not attached`);const a=async()=>{try{const s=await this.rpcClient.detachChannel({clientId:this.id,channelKey:e.getKey(),sessionId:e.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${e.getFirstKeyPath()}`}});return e.updateCount(Number(s.count),0),e.applyStatus(Rs.Detached),this.detachInternal(e.getKey()),F.info(`[DP] c:"${this.getKey()}" detaches p:"${e.getKey()}" count:${e.getPresenceCount()}`),e}catch(s){throw F.error(`[DP] c:"${this.getKey()}" err :`,s),await this.handleConnectError(s),s}};return this.enqueueTask(a)}async changeSyncMode(e,a){if(!this.isActive())throw new T(N.ErrClientNotActivated,`${this.key} is not active`);const s=this.attachmentMap.get(e.getKey());if(!s)throw new T(N.ErrNotAttached,`${e.getKey()} is not attached`);const o=s.syncMode;return o===a?e:(s.changeSyncMode(a),a==="manual"?(s.cancelWatchStream(),e):(a==="realtime"&&(s.changeEventReceived=!0),o==="manual"&&await this.runWatchLoop(e.getKey()),e))}sync(e){if(!this.isActive())throw new T(N.ErrClientNotActivated,`${this.key} is not active`);if(e instanceof Yi){const a=this.attachmentMap.get(e.getKey());if(!a)throw new T(N.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(a).catch(async s=>{throw F.error(`[SY] c:"${this.getKey()}" err :`,s),await this.handleConnectError(s),s}))}if(e instanceof Gi){const a=this.attachmentMap.get(e.getKey());if(!a)throw new T(N.ErrNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(a,"realtime").catch(async s=>{throw F.error(`[SY] c:"${this.getKey()}" err :`,s),await this.handleConnectError(s),s}))}return this.enqueueTask(async()=>{const a=[];for(const[,s]of this.attachmentMap)s.syncMode!==void 0&&s.resource instanceof Gi&&a.push(this.syncInternal(s,s.syncMode));return Promise.all(a).catch(async s=>{throw F.error(`[SY] c:"${this.getKey()}" err :`,s),await this.handleConnectError(s),s})})}remove(e){if(!this.isActive())throw new T(N.ErrClientNotActivated,`${this.key} is not active`);const a=this.attachmentMap.get(e.getKey());if(!a)throw new T(N.ErrNotAttached,`${e.getKey()} is not attached`);e.setActor(this.id);const s=Xe.toChangePack(e.createChangePack());return s.isRemoved=!0,this.enqueueTask(async()=>{try{const o=await this.rpcClient.removeDocument({clientId:this.id,documentId:a.resourceID,changePack:s},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),c=Xe.fromChangePack(o.changePack);e.applyChangePack(c),this.detachInternal(e.getKey()),F.info(`[RD] c:"${this.getKey()}" removes d:"${e.getKey()}"`)}catch(o){throw F.error(`[RD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(e){return this.conditions[e]}async createRevision(e,a,s){if(!this.isActive())throw new T(N.ErrClientNotActivated,`${this.key} is not active`);const o=this.attachmentMap.get(e.getKey());if(!o)throw new T(N.ErrNotAttached,`${e.getKey()} is not attached`);const c=async()=>{try{const h=await this.rpcClient.createRevision({clientId:this.id,documentId:o.resourceID,label:a,description:s||""},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!h.revision)throw new T(N.ErrInvalidArgument,"revision is not returned");return F.info(`[CR] c:"${this.getKey()}" creates revision d:"${e.getKey()}" l:"${a}"`),Xe.toRevisionSummary(h.revision)}catch(h){throw F.error(`[CR] c:"${this.getKey()}" err :`,h),await this.handleConnectError(h),h}};return this.enqueueTask(c)}async listRevisions(e,a){if(!this.isActive())throw new T(N.ErrClientNotActivated,`${this.key} is not active`);const s=this.attachmentMap.get(e.getKey());if(!s)throw new T(N.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{const c=await this.rpcClient.listRevisions({clientId:this.id,documentId:s.resourceID,pageSize:a?.pageSize||10,offset:a?.offset||0,isForward:a?.isForward??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});return F.info(`[LR] c:"${this.getKey()}" lists revisions d:"${e.getKey()}" count:${c.revisions.length}`),c.revisions.map(Xe.toRevisionSummary)}catch(c){throw F.error(`[LR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async getRevision(e,a){if(!this.isActive())throw new T(N.ErrClientNotActivated,`${this.key} is not active`);const s=this.attachmentMap.get(e.getKey());if(!s)throw new T(N.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{const c=await this.rpcClient.getRevision({clientId:this.id,documentId:s.resourceID,revisionId:a},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}});if(!c.revision)throw new T(N.ErrInvalidArgument,"revision is not returned");return F.info(`[GR] c:"${this.getKey()}" gets revision d:"${e.getKey()}" r:"${a}"`),Xe.toRevisionSummary(c.revision)}catch(c){throw F.error(`[GR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async restoreRevision(e,a){if(!this.isActive())throw new T(N.ErrClientNotActivated,`${this.key} is not active`);const s=this.attachmentMap.get(e.getKey());if(!s)throw new T(N.ErrNotAttached,`${e.getKey()} is not attached`);const o=async()=>{try{await this.rpcClient.restoreRevision({clientId:this.id,documentId:s.resourceID,revisionId:a},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}),F.info(`[RR] c:"${this.getKey()}" restores revision d:"${e.getKey()}" r:"${a}"`)}catch(c){throw F.error(`[RR] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};return this.enqueueTask(o)}async broadcast(e,a,s,o){if(!this.isActive())throw new T(N.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(e);if(!c)throw new T(N.ErrNotAttached,`${e} is not attached`);if(!TT(s))throw new T(N.ErrInvalidArgument,"payload is not serializable");const h=c.resource,d=o?.maxRetries??Rf.maxRetries,y=Rf.maxBackoff;let m=0;const b=w=>Math.min(Rf.initialRetryInterval*2**w,y),A=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:e,topic:a,payload:new TextEncoder().encode(JSON.stringify(s))},{headers:{"x-shard-key":`${this.apiKey}/${h.getFirstKeyPath()}`}}),F.info(`[BC] c:"${this.getKey()}" broadcasts p:"${e}" t:"${a}"`)}catch(w){if(F.error(`[BC] c:"${this.getKey()}" err:`,w),await this.handleConnectError(w))if(Nf(w,N.ErrUnauthenticated)&&c.resource instanceof Yi&&c.resource.publish({type:fr.AuthError,reason:Ts(w).reason||"unauthenticated",method:"Broadcast"}),m<d)m++,setTimeout(()=>A(),b(m-1)),F.info(`[BC] c:"${this.getKey()}" retry attempt ${m}/${d}`);else throw F.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),w}});return A()}runSyncLoop(){const e=async()=>{if(!this.isActive()){F.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const a=[];for(const[,s]of this.attachmentMap)s.needSync(this.channelHeartbeatInterval)&&(s.changeEventReceived!==void 0&&(s.changeEventReceived=!1),a.push(this.syncInternal(s,s.syncMode).catch(o=>{throw Nf(o,N.ErrUnauthenticated)&&s.resource.publish([{type:ft.AuthError,value:{reason:Ts(o).reason,method:"PushPull"}}]),o})));await Promise.all(a),setTimeout(e,this.syncLoopDuration)})}catch(a){F.error(`[SL] c:"${this.getKey()}" sync failed:`,a),await this.handleConnectError(a)?setTimeout(e,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};F.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,e()}async runWatchLoop(e){const a=this.attachmentMap.get(e);if(!a)throw new T(N.ErrNotAttached,`${e} is not attached`);return this.conditions.WatchLoop=!0,a.runWatchLoop(s=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new T(N.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(e))return this.conditions.WatchLoop=!1,Promise.reject(new T(N.ErrNotAttached,`${e} is not attached`));const o=new AbortController;return a.resource instanceof Gi?this.createDocumentWatchStream(a,e,o,s):a.resource instanceof Yi?this.createChannelWatchStream(a,e,o,s):Promise.reject(new T(N.ErrClientNotActivated,`Unknown resource type for ${e}`))})}createDocumentWatchStream(e,a,s,o){const c=this.rpcClient.watchDocument({clientId:this.id,documentId:e.resourceID},{headers:{"x-shard-key":`${this.apiKey}/${a}`},signal:s.signal});return e.resource.publish([{type:ft.ConnectionChanged,value:Vs.Connected}]),F.info(`[WD] c:"${this.getKey()}" watches d:"${a}"`),e.changeEventReceived!==void 0&&(e.changeEventReceived=!0),new Promise((h,d)=>{(async()=>{try{for await(const m of c)this.handleWatchDocumentResponse(e,m),m.body.case==="initialization"&&h([c,s]);e.resource.resetOnlineClients(),e.resource.publish([{type:ft.Initialized,source:Fe.Local,value:e.resource.getPresences()}]),e.resource.publish([{type:ft.ConnectionChanged,value:Vs.Disconnected}]),F.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`),o()}catch(m){e.resource.resetOnlineClients(),e.resource.publish([{type:ft.Initialized,source:Fe.Local,value:e.resource.getPresences()}]),e.resource.publish([{type:ft.ConnectionChanged,value:Vs.Disconnected}]),F.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(m)?(Nf(m,N.ErrUnauthenticated)&&e.resource.publish([{type:ft.AuthError,value:{reason:Ts(m).reason,method:"WatchDocument"}}]),o()):this.conditions.WatchLoop=!1,d(m)}})()})}createChannelWatchStream(e,a,s,o){const c=this.rpcClient.watchChannel({clientId:this.id,channelKey:a},{headers:{"x-shard-key":`${this.apiKey}/${e.resource.getFirstKeyPath()}`},signal:s.signal});return F.info(`[WP] c:"${this.getKey()}" watches p:"${a}"`),new Promise((h,d)=>{(async()=>{try{let m=!0;for await(const b of c)this.handleWatchChannelResponse(e,b),m&&(m=!1,h([c,s]));F.debug(`[WP] c:"${this.getKey()}" p:"${a}" stream ended`),o()}catch(m){if(m instanceof Error&&m.name==="AbortError"){F.debug(`[WP] c:"${this.getKey()}" p:"${a}" stream aborted`);return}F.debug(`[WP] c:"${this.getKey()}" p:"${a}" err:`,m),await this.handleConnectError(m)?o():this.conditions.WatchLoop=!1,d(m)}})()})}handleWatchChannelResponse(e,a){const s=e.resource;if(a.body.case==="initialized"){const{count:o,seq:c}=a.body.value;s.updateCount(Number(o),Number(c))&&s.publish({type:fr.Initialized,count:Number(o)})}else if(a.body.case==="event"){const o=a.body.value;if(o.type===mb.BROADCAST){const c=new TextDecoder;try{const h=JSON.parse(c.decode(o.payload));s.publish({type:fr.Broadcast,clientID:o.publisher,topic:o.topic,payload:h})}catch(h){F.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,h)}return}s.updateCount(Number(o.count),Number(o.seq))&&s.publish({type:fr.PresenceChanged,count:Number(o.count)})}}handleWatchDocumentResponse(e,a){if(a.body.case==="event"&&a.body.value.type===Do.DOCUMENT_CHANGED){e.changeEventReceived!==void 0&&(e.changeEventReceived=!0);return}e.resource.applyWatchStream(a)}deactivateInternal(){this.status="deactivated";for(const[e,a]of this.attachmentMap)this.detachInternal(e),a.resource instanceof Gi?a.resource.applyStatus(zi.Detached):a.resource instanceof Yi&&a.resource.applyStatus(Rs.Detached)}detachInternal(e){const a=this.attachmentMap.get(e);a&&(a.cancelWatchStream(),a.resource instanceof Gi&&a.resource.resetOnlineClients(),this.attachmentMap.delete(e))}async syncInternal(e,a){const{resource:s}=e;if(s instanceof Yi){try{const d=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:s.getKey(),sessionId:s.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${s.getFirstKeyPath()}`}});s.updateCount(Number(d.count),0),e.updateHeartbeatTime(),F.debug(`[RP] c:"${this.getKey()}" refreshes p:"${s.getKey()}" mode:${e.syncMode}`)}catch(d){throw F.error(`[RP] c:"${this.getKey()}" err :`,d),d}return s}const o=s,{resourceID:c}=e,h=o.createChangePack();try{const d=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:c,changePack:Xe.toChangePack(h),pushOnly:a==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${o.getKey()}`}}),y=Xe.fromChangePack(d.changePack);if(y.hasChanges()&&(e.syncMode==="realtime-pushonly"||e.syncMode==="realtime-syncoff"))return o;o.applyChangePack(y),e.resource.publish([{type:ft.SyncStatusChanged,value:Gf.Synced}]),o.getStatus()===zi.Removed&&this.detachInternal(o.getKey());const m=o.getKey(),b=y.getChangeSize();return F.info(`[PP] c:"${this.getKey()}" sync d:"${m}", push:${h.getChangeSize()} pull:${b} cp:${y.getCheckpoint().toTestString()}`),o}catch(d){throw o.publish([{type:ft.SyncStatusChanged,value:Gf.SyncFailed}]),F.error(`[PP] c:"${this.getKey()}" err :`,d),d}}async handleConnectError(e){if(!(e instanceof Ue))return!1;if(e.code===pe.Canceled||e.code===pe.Unknown||e.code===pe.ResourceExhausted||e.code===pe.Unavailable)return!0;if(or(e)===N.ErrUnauthenticated){if(this.authTokenInjector){const a=await this.authTokenInjector(Ts(e).reason);this.setAuthToken(a)}return!0}return or(e)===N.ErrTooManySubscribers?(F.error(`[WD] c:"${this.getKey()}" err :`,e.rawMessage),!0):(or(e)===N.ErrTooManyAttachments||(or(e)===N.ErrClientNotActivated||or(e)===N.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(e){return new Promise((a,s)=>{this.taskQueue.push(()=>e().then(a).catch(s)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{F.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}Gn.Int,Gn.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:Fb,Document:Gi,Primitive:He,Text:wh,Counter:Dh,Tree:Vh,Channel:Yi,ChannelEventType:fr,LogLevel:Lt,setLogLevel:tT,IntType:Gn.Int,LongType:Gn.Long});const RT="@yorkie-js/react",CT="0.6.41-rc",h0={name:RT,version:CT},jb=ue.createContext({client:void 0,loading:!0,error:void 0});function IT(i){const[e,a]=ue.useState(void 0),[s,o]=ue.useState(!0),[c,h]=ue.useState(void 0),[d,y]=ue.useState(!1);return ue.useEffect(()=>{y(!0)},[]),ue.useEffect(()=>{o(!0),h(void 0);async function m(){if(d)try{const b=new Fb(i);await b.activate(),a(b)}catch(b){h(b instanceof Error?b:new Error("Failed to activate client"))}finally{o(!1)}}return m(),()=>{e?.isActive()&&e.deactivate({keepalive:!0})}},[i.apiKey,i.rpcAddr,d]),{client:e,loading:s,error:c}}const wT=({children:i,...e})=>{const a=ue.useMemo(()=>({userAgent:h0.name+"/"+h0.version,...e}),[e.apiKey,e.rpcAddr]),{client:s,loading:o,error:c}=IT(a);return P.jsx(jb.Provider,{value:{client:s,loading:o,error:c},children:i})},DT=()=>{const i=ue.useContext(jb);if(!i)throw new Error("useYorkie must be used under YorkieProvider");return{client:i.client,loading:i.loading,error:i.error}};function xT(i){const e=new Set;let a=i;const s=()=>{e.forEach(y=>y(a))};return{subscribe:y=>(e.add(y),()=>e.delete(y)),getSnapshot:()=>a,setState:y=>{const m=a;a=typeof y=="function"?y(m):y,m!==a&&s()},destroy:()=>{e.clear()}}}const OT=i=>xT(i);function VT(i,e,a=Object.is){const s=ue.useRef(e),o=ue.useRef(a),c=ue.useRef(void 0);s.current=e,o.current=a;const h=()=>{const d=i.getSnapshot(),y=s.current?s.current(d):d;return c.current!==void 0&&o.current(c.current,y)?c.current:(c.current=y,y)};return ue.useSyncExternalStore(i.subscribe,h,h)}function UT(i,e,a,s,o,c,h,d){const y=ue.useRef(o),m=ue.useRef(c),[b,A]=ue.useState(!1);ue.useEffect(()=>{A(!0)},[]),ue.useEffect(()=>{if(a){d.setState(V=>({...V,loading:!1,error:a}));return}if(!i||e||!b){d.setState(V=>({...V,loading:!0}));return}d.setState(V=>({...V,loading:!0,error:void 0}));const w=new Gi(s,{enableDevtools:h}),R=[];R.push(w.subscribe(()=>{d.setState(V=>({...V,root:w.getRoot()}))})),R.push(w.subscribe("presence",()=>{d.setState(V=>({...V,presences:w.getPresences()}))})),R.push(w.subscribe("connection",V=>{d.setState(G=>({...G,connection:V.value}))}));async function C(){try{await i?.attach(w,{initialRoot:y.current,initialPresence:m.current});const V=G=>{try{w.update(G)}catch(H){d.setState(q=>({...q,error:H instanceof Error?H:new Error("Failed to update document")}))}};d.setState(G=>({...G,doc:w,root:w.getRoot(),presences:w.getPresences(),update:V}))}catch(V){d.setState(G=>({...G,error:V instanceof Error?V:new Error("Failed to attach document")}))}finally{d.setState(V=>({...V,loading:!1}))}}return C(),()=>{i&&i.has(s)&&i.detach(w);for(const V of R)V()}},[i,e,a,s,d,b])}const Hb=ue.createContext(void 0),BT=({docKey:i,initialRoot:e={},initialPresence:a={},enableDevtools:s=!1,children:o})=>{const{client:c,loading:h,error:d}=DT(),y=ue.useRef(void 0);y.current||(y.current=OT({doc:void 0,root:e,presences:[],connection:Vs.Disconnected,update:()=>{},loading:!0,error:void 0}));const m=y.current;return UT(c,h,d,i,e,a,s,m),P.jsx(Hb.Provider,{value:m,children:o})};function LT(){const i=ue.useContext(Hb);if(!i)throw new Error("useDocument must be used within a DocumentProvider");return VT(i)}ue.createContext(void 0);class d0{constructor(e,a){this.x=e,this.y=a,this.lifetime=0}}function _f(i,e){if(i.length<3)return i;let a=0,s=0;const[o,c]=[i[0],i[i.length-1]],h=c.x-o.x,d=c.y-o.y,y=Math.hypot(h,d)||1;for(let m=1;m<i.length-1;m++){const b=i[m],A=Math.abs(d*b.x-h*b.y+c.x*o.y-c.y*o.x)/y;A>a&&(a=A,s=m)}if(a>e){const m=_f(i.slice(0,s+1),e),b=_f(i.slice(s),e);return m.slice(0,-1).concat(b)}return[o,c]}function MT(i,e){const[a,s,o,c]=i,h=e*e,d=h*e;return{x:.5*(2*s.x+(-a.x+o.x)*e+(2*a.x-5*s.x+4*o.x-c.x)*h+(-a.x+3*s.x-3*o.x+c.x)*d),y:.5*(2*s.y+(-a.y+o.y)*e+(2*a.y-5*s.y+4*o.y-c.y)*h+(-a.y+3*s.y-3*o.y+c.y)*d)}}function ZT(i,e,a,s,o,c){const h=o-a,d=c-s,y=i-a,m=e-s,b=h*h+d*d||1;let A=(y*h+m*d)/b;A<0?A=0:A>1&&(A=1);const w=a+A*h,R=s+A*d;return Math.hypot(i-w,e-R)}const g0=6;function zT({xPos:i,yPos:e,tool:a="pen",color:s="black",maxTrail:o=128,rdpEpsilon:c=0,splineStep:h=.019,pointerDown:d=!1,visible:y=!0,resetNonce:m=0}){const b=ue.useRef(null),A=ue.useRef([]),w=ue.useRef(!1),R=ue.useRef({x:null,y:null});return ue.useEffect(()=>{const C=b.current?.getContext("2d");C&&(A.current=[],C.clearRect(0,0,C.canvas.width,C.canvas.height),w.current=!1,R.current={x:null,y:null})},[m]),ue.useEffect(()=>{if(!d){w.current=!1,R.current={x:null,y:null};return}if(a==="eraser"){A.current=A.current.filter(q=>{const X=q.points;if(X.length<2)return!0;const ne=Math.max(q.width,g0)*.75;for(let J=1;J<X.length;J++){const K=X[J-1],W=X[J],ae=Math.min(K.x,W.x)-ne,Je=Math.max(K.x,W.x)+ne,dt=Math.min(K.y,W.y)-ne,ot=Math.max(K.y,W.y)+ne;if(!(i<ae||i>Je||e<dt||e>ot)&&ZT(i,e,K.x,K.y,W.x,W.y)<=ne)return!1}return!0});return}if(!w.current){const q=new d0(i,e);a==="fading"&&(q.age=0),A.current.push({tool:a,color:s,width:g0,points:[q]}),w.current=!0,R.current={x:i,y:e};return}const C=R.current,V=i-C.x,G=e-C.y,H=Math.hypot(V,G);if(H>0){const q=Math.ceil(H/15),X=A.current.at(-1);for(let ne=1;ne<=q;ne++){const J=ne/q,K=C.x+V*J,W=C.y+G*J,ae=new d0(K,W);X.tool==="eraser"&&(ae.erase=!0),X.tool==="fading"&&(ae.age=0),X.points.push(ae)}R.current={x:i,y:e}}},[i,e,a,d]),ue.useEffect(()=>{const C=b.current,V=C.getContext("2d"),G=window.devicePixelRatio||1;C.width=window.innerWidth*G,C.height=window.innerHeight*G,C.style.width=`${window.innerWidth}px`,C.style.height=`${window.innerHeight}px`,V.setTransform(G,0,0,G,0,0)},[]),ue.useEffect(()=>{if(!y){const X=b.current?.getContext("2d");X&&X.clearRect(0,0,X.canvas.width,X.canvas.height);return}const C=b.current,V=C.getContext("2d");let G,H=!0;function q(){H&&(V.clearRect(0,0,C.width,C.height),A.current.forEach(X=>{let ne=X.points;if(X.tool==="fading"&&(ne=X.points=ne.map(K=>(K.age++,K)).filter(K=>K.age<o)),ne.length<2)return;const J=_f(ne,c);if(V.save(),V.lineWidth=X.width,V.lineCap="round",V.lineJoin="round",X.tool==="eraser"?(V.globalCompositeOperation="destination-out",V.strokeStyle="rgba(0,0,0,1)",V.globalAlpha=1):(V.globalCompositeOperation="source-over",V.strokeStyle=X.color,V.globalAlpha=X.tool==="highlighter"?.3:1),J.length>=4){V.beginPath(),V.moveTo(J[0].x,J[0].y);for(let K=0;K<=J.length-4;K++)for(let W=0;W<=1;W+=h){const ae=MT([J[K],J[K+1],J[K+2],J[K+3]],W);V.lineTo(ae.x,ae.y)}V.lineTo(J.at(-1).x,J.at(-1).y),V.stroke(),V.closePath()}else V.beginPath(),V.moveTo(J[0].x,J[0].y),J.slice(1).forEach(K=>V.lineTo(K.x,K.y)),V.stroke(),V.closePath();if(V.restore(),X.tool==="pencil"){V.save(),V.strokeStyle=X.color,V.lineWidth=Math.max(1,X.width*.5),V.globalAlpha=.6;const K=.3;for(let W=1;W<J.length;W++){if(Math.random()>K)continue;const ae=J[W],Je=J[W-1],dt=ae.x-Je.x,ot=ae.y-Je.y,_e=Math.atan2(ot,dt)+(Math.random()-.5)*.8,It=X.width*(.8+Math.random()*.4),pn=ae.x+Math.cos(_e)*It/2,Yt=ae.y+Math.sin(_e)*It/2,M=ae.x-Math.cos(_e)*It/2,k=ae.y-Math.sin(_e)*It/2;V.beginPath(),V.moveTo(pn,Yt),V.lineTo(M,k),V.stroke(),V.closePath()}V.restore()}}),G=requestAnimationFrame(q))}return q(),()=>{H=!1,G&&cancelAnimationFrame(G)}},[o,c,h,y]),P.jsx("canvas",{ref:b,style:{position:"fixed",left:0,top:0,pointerEvents:"none",zIndex:1e4,display:y?"block":"none"}})}const YT="_goUp0_1lnal_1",GT="_goUpAnimation0_1lnal_1",_T="_fadeOut_1lnal_1",WT="_goUp1_1lnal_16",KT="_goUpAnimation1_1lnal_1",XT="_goUp2_1lnal_31",JT="_goUpAnimation2_1lnal_1",kT="_leftRight0_1lnal_46",FT="_leftRightAnimation0_1lnal_1",jT="_leftRight1_1lnal_60",HT="_leftRightAnimation1_1lnal_1",QT="_leftRight2_1lnal_74",$T="_leftRightAnimation2_1lnal_1",Cf={goUp0:YT,goUpAnimation0:GT,fadeOut:_T,goUp1:WT,goUpAnimation1:KT,goUp2:XT,goUpAnimation2:JT,leftRight0:kT,leftRightAnimation0:FT,leftRight1:jT,leftRightAnimation1:HT,leftRight2:QT,leftRightAnimation2:$T};function PT({x:i,y:e,timestamp:a,selectedCursorShape:s}){return P.jsx("div",{className:"single-animation-container",children:P.jsx("div",{className:`absolute select-none pointer-events-none ${Cf.disappear} text-${a%5+2}xl ${Cf["goUp"+a%3]}`,style:{left:i,top:e},children:P.jsx("div",{className:Cf["leftRight"+a%3],children:P.jsx("div",{className:"transform -translate-x-1/2 -translate-y-full",children:P.jsx("img",{src:`./icons/icon_${s}.svg`})})})})})}function m0(i,e){const a=ue.useRef(i);ue.useEffect(()=>{a.current=i},[i]),ue.useEffect(()=>{function s(){a.current()}if(e!==null){let o=setInterval(s,e);return()=>clearInterval(o)}},[e])}function qT({pointerDown:i,xPos:e,yPos:a,selectedCursorShape:s}){const[o,c]=ue.useState([]),h=100;return m0(()=>{c(d=>d.filter(y=>y.timestamp>Date.now()-4e3))},1e3),m0(()=>{i&&c(d=>d.concat([{point:{x:e,y:a},timestamp:Date.now()}]))},h),P.jsx("div",{style:{transform:`translateX(${e-30}px) translateY(${a-40}px)`},children:o.map(d=>P.jsx(PT,{x:d.point.x,y:d.point.y,timestamp:d.timestamp,selectedCursorShape:s},d.timestamp.toString()))})}function eR({type:i,color:e}){switch(i){case"cursor":return P.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[P.jsx("rect",{width:"36",height:"36",rx:"8",fill:"none"}),P.jsx("path",{d:"M26.83 16.1571C27.5067 15.8939 27.845 15.7624 27.94 15.5763C28.0223 15.4151 28.0198 15.2237 27.9333 15.0648C27.8335 14.8813 27.4918 14.7586 26.8084 14.5133L9.379 8.2566C8.81992 8.0559 8.54037 7.95556 8.35762 8.01884C8.19874 8.07387 8.07387 8.19873 8.01884 8.35762C7.95556 8.54037 8.0559 8.81992 8.2566 9.379L14.5133 26.8085C14.7586 27.4918 14.8812 27.8335 15.0647 27.9333C15.2237 28.0198 15.4151 28.0224 15.5763 27.9401C15.7623 27.8451 15.8939 27.5067 16.1571 26.83L19.0055 19.5054C19.0571 19.3728 19.0829 19.3065 19.1227 19.2507C19.1579 19.2013 19.2012 19.158 19.2507 19.1227C19.3065 19.0829 19.3728 19.0571 19.5053 19.0056L26.83 16.1571Z",fill:e,stroke:"#FEFDFB",strokeWidth:"0.5",strokeLinecap:"round",strokeLinejoin:"round"})]});case"pen":case"fading":return P.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[P.jsx("rect",{width:"36",height:"36",rx:"8",fill:"none"}),P.jsxs("g",{clipPath:"url(#clip0_pen_colored)",children:[P.jsx("path",{d:"M9.73233 23.3904C9.5808 25.0085 10.7676 26.444 12.3854 26.5994C12.9205 26.6508 13.4605 26.5868 13.9688 26.4116L19.4305 24.5293C19.7215 24.429 19.9921 24.2771 20.2294 24.081L29.278 16.6002C29.8655 16.1145 30.0216 15.2781 29.6488 14.6132C28.3855 12.3598 26.7262 10.3528 24.7505 8.68832C24.1676 8.19717 23.3167 8.19323 22.7292 8.67897L13.6806 16.1597C13.4434 16.3559 13.2433 16.5931 13.0901 16.8602L10.2145 21.8705C9.94688 22.3368 9.78246 22.8551 9.73233 23.3904Z",fill:e,stroke:"#FEFDFB",strokeWidth:"0.5"}),P.jsx("path",{d:"M12.8764 26.3737C12.6642 26.5735 12.5267 26.6302 12.3106 26.7193C11.5383 27.0378 10.9542 27.2786 10.5095 27.4286C10.0767 27.5745 9.71876 27.6564 9.43664 27.5928C8.73307 27.4343 8.22552 26.8204 8.20212 26.0996C8.19273 25.8105 8.34043 25.4743 8.56515 25.0767C8.79602 24.6682 9.14239 24.1397 9.59453 23.45C9.72852 23.2455 9.81002 23.1212 10.0462 22.9503C10.1856 22.8495 10.4138 22.772 10.6132 22.7243C10.8125 22.6765 11.0511 22.6423 11.221 22.6691C11.4774 22.7182 12.3182 23.2516 12.6629 23.6686C13.0076 24.0856 13.2168 24.4982 13.342 24.8621C13.2168 24.4982 13.0076 24.0856 12.6629 23.6686",fill:e,stroke:"#FEFDFB",strokeWidth:"0.5"}),P.jsx("path",{d:"M19.5496 20.8585C19.0985 21.2314 18.4197 21.1031 18.1358 20.5913C17.7721 19.9354 17.2902 19.3524 16.7144 18.8719C16.2651 18.4969 16.2666 17.806 16.7177 17.4331L23.7284 11.6371C24.0468 11.3739 24.2059 11.2424 24.36 11.1593C24.9929 10.818 25.7691 10.8916 26.3266 11.3458C26.4623 11.4564 26.5939 11.6156 26.857 11.9339C27.1202 12.2522 27.2518 12.4114 27.3349 12.5655C27.6762 13.1984 27.6026 13.9746 27.1484 14.532C27.0378 14.6678 26.8787 14.7994 26.5603 15.0626L19.5496 20.8585Z",fill:"#FEFDFB"})]}),P.jsx("defs",{children:P.jsx("clipPath",{id:"clip0_pen_colored",children:P.jsx("rect",{width:"16.8889",height:"32",fill:"white",transform:"translate(11 36) rotate(-129.582)"})})})]});case"line":return P.jsx("svg",{width:"22",height:"23",viewBox:"0 0 22 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P.jsx("path",{d:"M7.95167 5.6812C3.39223 10.5957 2.69919 11.4214 2.79038 11.8145C2.88157 12.188 2.64448 12.5615 1.45902 13.8786L0 15.4906V16.5521C0 17.8103 0.364756 18.4393 2.1703 20.3462L3.30104 21.5256L2.06087 21.6239C1.05779 21.7026 0.8207 21.7812 0.765987 22.0761C0.601847 22.9803 0.711274 23 7.93344 23C15.1556 23 15.265 22.9803 15.1009 22.0761C15.0462 21.7615 14.7726 21.7222 12.4199 21.6632L9.79369 21.6043L10.2132 21.1325C10.505 20.7983 10.7603 20.6803 11.1068 20.759C11.5263 20.8376 12.1464 20.2479 16.8517 15.1761C21.0099 10.6744 22.086 9.41624 21.9948 9.12137C21.8489 8.5906 13.8242 0 13.4777 0C13.3318 0 10.8515 2.55555 7.95167 5.6812ZM15.8669 14.2521L11.3074 19.1667L8.62647 16.2769L5.92728 13.3675L9.10065 9.94701C11.964 6.84103 12.2376 6.48718 12.0552 6.11368C11.9275 5.87778 11.7087 5.70085 11.5263 5.70085C11.3621 5.70085 9.81193 7.21453 8.11581 9.04273L4.99715 12.4043L4.65063 11.9915C4.30412 11.5786 4.32235 11.559 8.84532 6.68376L13.4048 1.76923L16.9064 5.54359L20.4263 9.33761L15.8669 14.2521ZM6.87564 16.3556C8.40762 18.0068 9.66602 19.4419 9.66602 19.5598C9.66602 19.6581 9.28303 20.1692 8.80885 20.6803L7.95167 21.6239H6.67503H5.38015L3.33751 19.4222C0.765987 16.6504 0.747749 16.5915 2.49858 14.7043C3.17337 13.9573 3.8117 13.3675 3.92112 13.3675C4.01231 13.3675 5.34367 14.7239 6.87564 16.3556Z",fill:e})});case"highlighter":return P.jsxs("svg",{width:"23",height:"24",viewBox:"0 0 23 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[P.jsx("path",{d:"M17.9456 0.210907C17.7178 0.338861 14.6852 3.63367 11.2255 7.53625C6.41316 12.9423 4.91821 14.7176 4.91821 15.0215C4.91821 15.2934 5.50196 16.0612 7.08233 17.8525C8.93322 19.9477 9.31764 20.2996 9.68781 20.2996C10.058 20.2996 10.8695 19.4519 16.3937 13.2142C19.8535 9.3276 22.7579 5.98481 22.8434 5.79288C22.9288 5.60095 23 5.1851 23 4.84922C23 4.30542 22.8576 4.0975 21.3342 2.35413C19.2128 -0.0769892 18.8996 -0.268919 17.9456 0.210907ZM14.5286 12.1426L12.6777 14.2218L11.5387 12.9423L10.3997 11.6628L12.2506 9.58351L14.1015 7.50426L15.2405 8.7838L16.3795 10.0633L14.5286 12.1426Z",fill:e}),P.jsx("path",{d:"M3.63688 17.4527C3.20975 18.2684 2.73991 19.2121 2.58329 19.5319L2.2843 20.1397L3.7223 21.7551L5.1603 23.3705L7.03967 22.123L8.91903 20.8914L6.74068 18.4283C5.54472 17.0848 4.51961 15.9812 4.4769 15.9812C4.43418 15.9812 4.04977 16.653 3.63688 17.4527Z",fill:e,opacity:.85})]});default:return P.jsx("img",{src:`./icons/icon_${i}.svg`,alt:i,style:{display:"block"}})}}function tR({selectedCursorShape:i,x:e,y:a,pointerDown:s,fadeEnabled:o,color:c,visible:h=!0,resetNonce:d=0,overInteractive:y=!1,animate:m=!0}){const b=i,A=o&&b==="pen"?"fading":b,w=i==="pen"&&o?"fading":i==="eraser"?"line":i,R=["pen","highlighter","eraser","fading"],G={pen:{w:36,h:36,tipX:18,tipY:38},highlighter:{w:23,h:24,tipX:5,tipY:-8}}[w==="fading"?"pen":w],q=!!G?`translate(${-(G.w/2)+G.tipX}px, ${-G.h+G.tipY}px)`:"translate(-50%, -100%)";return P.jsxs(P.Fragment,{children:[!y&&P.jsx("div",{className:`${i}-cursor${m?" animated-remote-cursor":""}`,style:{position:"fixed",transform:`translate3d(${e}px, ${a}px, 0) ${q}`,pointerEvents:"none",zIndex:10001},children:P.jsx(eR,{type:w,color:c})}),(i==="heart"||i==="thumbs")&&P.jsx(qT,{pointerDown:s,xPos:e,yPos:a,selectedCursorShape:i}),R.includes(A)&&P.jsx(zT,{xPos:e,yPos:a,tool:A,color:c,pointerDown:s,visible:h,resetNonce:d})]})}function nR({handleCursorShapeSelect:i,clientsLength:e,fadeEnabled:a,onFadeSet:s,color:o,onColorChange:c}){const[h,d]=ue.useState("cursor"),[y,m]=ue.useState(!1),b=ue.useRef(null),A=["heart","thumbs","pen","cursor"],w=C=>{if(C==="pen"){s(!1),d("pen"),i("pen"),m(!0);return}d(C),i(C),m(!1)},R=C=>{d(C),i(C)};return P.jsxs(P.Fragment,{children:[y&&P.jsxs("div",{className:"yc-panel yc-draw-tools yc-fade-in",onMouseDown:C=>C.stopPropagation(),onMouseUp:C=>C.stopPropagation(),"data-native-cursor":!0,children:[P.jsx("button",{className:"yc-close-btn",onClick:()=>{m(!1)},title:"Close","data-native-cursor":!0,children:""}),[{key:"pen",icon:"pen"},{key:"fading",icon:"fading"},{key:"highlighter",icon:"highlighter"}].map(C=>{const V=C.icon==="pen"?h==="pen"&&!a:C.icon==="fading"?h==="pen"&&a:h===C.icon;return P.jsx("button",{className:"yc-tool-icon","data-selected":V,"data-faded":!V,"data-native-cursor":!0,title:C.icon==="fading"?"Fading Pen":C.icon.charAt(0).toUpperCase()+C.icon.slice(1),onClick:()=>{C.icon==="pen"?(s(!1),R("pen")):C.icon==="fading"?(s(!0),R("pen")):(s(!1),R(C.icon))},children:P.jsx("img",{src:`./icons/icon_${C.icon}.svg`,alt:C.icon})},C.key)}),P.jsx("button",{ref:b,className:"yc-tool-icon","data-selected":h==="eraser","data-faded":h!=="eraser","data-native-cursor":!0,title:"Eraser (line erase)",onClick:()=>{s(!1),R("eraser")},children:P.jsx("img",{src:"./icons/icon_eraser.svg",alt:"Eraser"})}),P.jsx("input",{type:"color",className:"yc-color-chip",value:o,"aria-label":"Color",title:"Color",onChange:C=>c(C.target.value),"data-native-cursor":!0,onMouseDown:C=>C.stopPropagation(),onMouseUp:C=>C.stopPropagation()})]}),P.jsxs("div",{className:"yc-combined-bar","data-native-cursor":!0,children:[P.jsx("div",{className:"yc-combined-icons",role:"toolbar","aria-label":"Cursor selector","data-native-cursor":!0,children:A.map(C=>{const V=C==="pen"?["pen","highlighter","eraser"].includes(h):h===C;return P.jsx("button",{className:"yc-nav-btn","data-selected":V,onClick:()=>w(C),title:C,"aria-pressed":V,"data-native-cursor":!0,children:P.jsx("img",{src:`./icons/icon_${C}.svg`,alt:`${C} cursor`,style:{filter:V?"brightness(0) invert(1)":"none"}})},C)})}),P.jsx("div",{className:"yc-divider","aria-hidden":"true","data-native-cursor":!0}),P.jsxs("div",{className:"yc-count-pill","data-native-cursor":!0,title:`${e} user${e===1?"":"s"} online`,"aria-label":`${e} user${e===1?"":"s"} online`,children:[P.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:P.jsx("path",{fill:"currentColor",d:"M12 12.75c2.899 0 5.25-2.351 5.25-5.25S14.899 2.25 12 2.25 6.75 4.601 6.75 7.5 9.101 12.75 12 12.75Zm0 1.5c-3.005 0-9 1.51-9 4.5v.75a.75.75 0 0 0 .75.75h16.5a.75.75 0 0 0 .75-.75v-.75c0-2.99-5.995-4.5-9-4.5Z"})}),P.jsx("span",{children:e})]})]})]})}function iR(){const i=Math.floor(Math.random()*360),e=70,a=55,s=R=>R.toString(16).padStart(2,"0"),o=(1-Math.abs(2*a/100-1))*(e/100),c=o*(1-Math.abs(i/60%2-1)),h=a/100-o/2;let d,y,m;i<60?[d,y,m]=[o,c,0]:i<120?[d,y,m]=[c,o,0]:i<180?[d,y,m]=[0,o,c]:i<240?[d,y,m]=[0,c,o]:i<300?[d,y,m]=[c,0,o]:[d,y,m]=[o,0,c];const b=Math.round((d+h)*255),A=Math.round((y+h)*255),w=Math.round((m+h)*255);return`#${s(b)}${s(A)}${s(w)}`}const Wf={cursorShape:"cursor",cursor:{xPos:0,yPos:0},pointerDown:!1,color:iR(),fadeEnabled:!1,overInteractive:!1},aR=2;function rR(){const{doc:i,presences:e,update:a,loading:s,error:o}=LT(),[c,h]=ue.useState(!1),[d,y]=ue.useState(Wf.color),m=ue.useRef(null),b=ue.useRef(null),A=ue.useRef({x:0,y:0}),w=ue.useRef(!1),R=G=>{a((H,q)=>q.set({cursorShape:G}))},C=G=>{h(G),a((H,q)=>q.set({fadeEnabled:G}))},V=G=>{y(G),a((H,q)=>q.set({color:G}))};return ue.useEffect(()=>{if(s||o)return;const G='button, input, select, textarea, [role="button"], a, [data-native-cursor]',H=()=>{w.current=!0,a((K,W)=>W.set({pointerDown:!0}))},q=()=>{w.current=!1,a((K,W)=>W.set({pointerDown:!1}))},X=K=>{const W=!!(K.target.closest&&K.target.closest(G));b.current={x:K.clientX,y:K.clientY,overInteractive:W}};let ne;const J=()=>{const K=b.current;if(K){const W=A.current,ae=K.x-W.x,Je=K.y-W.y,dt=Math.hypot(ae,Je);(w.current||dt>=aR)&&(A.current={x:K.x,y:K.y},a((_e,It)=>It.set({cursor:{xPos:K.x,yPos:K.y},overInteractive:K.overInteractive}))),b.current=null}ne=requestAnimationFrame(J)};return ne=requestAnimationFrame(J),window.addEventListener("mousedown",H),window.addEventListener("mouseup",q),window.addEventListener("mousemove",X),()=>{cancelAnimationFrame(ne),window.removeEventListener("mousedown",H),window.removeEventListener("mouseup",q),window.removeEventListener("mousemove",X)}},[s,o,a]),ue.useEffect(()=>{if(!i)return;const G=i.getMyPresence?.();G&&(h(G.fadeEnabled??!1),y(G.color??Wf.color))},[e,i]),s?P.jsx("div",{className:"general-container",children:"Loading..."}):o?P.jsxs("div",{className:"general-container",children:["Error: ",o.message]}):P.jsxs("div",{className:"general-container",onMouseDown:G=>{const H=G.target.tagName;["INPUT","SELECT","TEXTAREA","BUTTON"].includes(H)||G.preventDefault()},children:[e.map(({clientID:G,presence:H},q)=>{const{cursorShape:X,cursor:ne,pointerDown:J,color:K="#000000",fadeEnabled:W=!1,overInteractive:ae=!1}=H;q===0&&m.current===null&&(m.current=G);const Je=G===m.current;return ne&&P.jsx(tR,{selectedCursorShape:X,x:ne.xPos,y:ne.yPos,pointerDown:J,fadeEnabled:W,color:K,overInteractive:ae,animate:!Je},G)}),P.jsx(nR,{handleCursorShapeSelect:R,clientsLength:e.length,fadeEnabled:c,onFadeSet:C,color:d,onColorChange:V})]})}function sR(){return P.jsx(wT,{apiKey:"D6sd9E5ehtXBssmeRZ4QQP",rpcAddr:"https://api.yorkie.dev",children:P.jsx(BT,{docKey:"simultaneous-cursors",initialPresence:Wf,children:P.jsx(rR,{})})})}xS.createRoot(document.getElementById("root")).render(P.jsx(ue.StrictMode,{children:P.jsx(sR,{})}));
