var Oy=Object.defineProperty;var Ry=(n,e,t)=>e in n?Oy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var u=(n,e,t)=>Ry(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var sg={exports:{}},pl={},og={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var To=Symbol.for("react.element"),Ly=Symbol.for("react.portal"),By=Symbol.for("react.fragment"),Fy=Symbol.for("react.strict_mode"),by=Symbol.for("react.profiler"),My=Symbol.for("react.provider"),Jy=Symbol.for("react.context"),$y=Symbol.for("react.forward_ref"),zy=Symbol.for("react.suspense"),Uy=Symbol.for("react.memo"),jy=Symbol.for("react.lazy"),sd=Symbol.iterator;function qy(n){return n===null||typeof n!="object"?null:(n=sd&&n[sd]||n["@@iterator"],typeof n=="function"?n:null)}var ag={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lg=Object.assign,ug={};function ms(n,e,t){this.props=n,this.context=e,this.refs=ug,this.updater=t||ag}ms.prototype.isReactComponent={};ms.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};ms.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function cg(){}cg.prototype=ms.prototype;function _c(n,e,t){this.props=n,this.context=e,this.refs=ug,this.updater=t||ag}var Hc=_c.prototype=new cg;Hc.constructor=_c;lg(Hc,ms.prototype);Hc.isPureReactComponent=!0;var od=Array.isArray,fg=Object.prototype.hasOwnProperty,Gc={current:null},dg={key:!0,ref:!0,__self:!0,__source:!0};function hg(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fg.call(e,r)&&!dg.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:To,type:n,key:s,ref:o,props:i,_owner:Gc.current}}function Vy(n,e){return{$$typeof:To,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Yc(n){return typeof n=="object"&&n!==null&&n.$$typeof===To}function Ky(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var ad=/\/+/g;function jl(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Ky(""+n.key):e.toString(36)}function ra(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case To:case Ly:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+jl(o,0):r,od(i)?(t="",n!=null&&(t=n.replace(ad,"$&/")+"/"),ra(i,e,t,"",function(c){return c})):i!=null&&(Yc(i)&&(i=Vy(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ad,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",od(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+jl(s,a);o+=ra(s,e,t,l,i)}else if(l=qy(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+jl(s,a++),o+=ra(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bo(n,e,t){if(n==null)return n;var r=[],i=0;return ra(n,r,"","",function(s){return e.call(t,s,i++)}),r}function Wy(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Me={current:null},ia={transition:null},_y={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:ia,ReactCurrentOwner:Gc};q.Children={map:Bo,forEach:function(n,e,t){Bo(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Bo(n,function(){e++}),e},toArray:function(n){return Bo(n,function(e){return e})||[]},only:function(n){if(!Yc(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};q.Component=ms;q.Fragment=By;q.Profiler=by;q.PureComponent=_c;q.StrictMode=Fy;q.Suspense=zy;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_y;q.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=lg({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Gc.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)fg.call(e,l)&&!dg.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:To,type:n.type,key:i,ref:s,props:r,_owner:o}};q.createContext=function(n){return n={$$typeof:Jy,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:My,_context:n},n.Consumer=n};q.createElement=hg;q.createFactory=function(n){var e=hg.bind(null,n);return e.type=n,e};q.createRef=function(){return{current:null}};q.forwardRef=function(n){return{$$typeof:$y,render:n}};q.isValidElement=Yc;q.lazy=function(n){return{$$typeof:jy,_payload:{_status:-1,_result:n},_init:Wy}};q.memo=function(n,e){return{$$typeof:Uy,type:n,compare:e===void 0?null:e}};q.startTransition=function(n){var e=ia.transition;ia.transition={};try{n()}finally{ia.transition=e}};q.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};q.useCallback=function(n,e){return Me.current.useCallback(n,e)};q.useContext=function(n){return Me.current.useContext(n)};q.useDebugValue=function(){};q.useDeferredValue=function(n){return Me.current.useDeferredValue(n)};q.useEffect=function(n,e){return Me.current.useEffect(n,e)};q.useId=function(){return Me.current.useId()};q.useImperativeHandle=function(n,e,t){return Me.current.useImperativeHandle(n,e,t)};q.useInsertionEffect=function(n,e){return Me.current.useInsertionEffect(n,e)};q.useLayoutEffect=function(n,e){return Me.current.useLayoutEffect(n,e)};q.useMemo=function(n,e){return Me.current.useMemo(n,e)};q.useReducer=function(n,e,t){return Me.current.useReducer(n,e,t)};q.useRef=function(n){return Me.current.useRef(n)};q.useState=function(n){return Me.current.useState(n)};q.useSyncExternalStore=function(n,e,t){return Me.current.useSyncExternalStore(n,e,t)};q.useTransition=function(){return Me.current.useTransition()};q.version="18.2.0";og.exports=q;var Ue=og.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy=Ue,Gy=Symbol.for("react.element"),Yy=Symbol.for("react.fragment"),Qy=Object.prototype.hasOwnProperty,Xy=Hy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zy={key:!0,ref:!0,__self:!0,__source:!0};function gg(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Qy.call(e,r)&&!Zy.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Gy,type:n,key:s,ref:o,props:i,_owner:Xy.current}}pl.Fragment=Yy;pl.jsx=gg;pl.jsxs=gg;sg.exports=pl;var ue=sg.exports,Eu={},mg={exports:{}},st={},pg={exports:{}},yg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,z){var j=L.length;L.push(z);e:for(;0<j;){var ce=j-1>>>1,Se=L[ce];if(0<i(Se,z))L[ce]=z,L[j]=Se,j=ce;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],j=L.pop();if(j!==z){L[0]=j;e:for(var ce=0,Se=L.length,Ro=Se>>>1;ce<Ro;){var ti=2*(ce+1)-1,Ul=L[ti],ni=ti+1,Lo=L[ni];if(0>i(Ul,j))ni<Se&&0>i(Lo,Ul)?(L[ce]=Lo,L[ni]=j,ce=ni):(L[ce]=Ul,L[ti]=j,ce=ti);else if(ni<Se&&0>i(Lo,j))L[ce]=Lo,L[ni]=j,ce=ni;else break e}}return z}function i(L,z){var j=L.sortIndex-z.sortIndex;return j!==0?j:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,w=!1,I=!1,D=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var z=t(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=L)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(c)}}function T(L){if(I=!1,v(L),!w)if(t(l)!==null)w=!0,$l(x);else{var z=t(c);z!==null&&zl(T,z.startTime-L)}}function x(L,z){w=!1,I&&(I=!1,y(B),B=-1),m=!0;var j=p;try{for(v(z),h=t(l);h!==null&&(!(h.expirationTime>z)||L&&!Ge());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,p=h.priorityLevel;var Se=ce(h.expirationTime<=z);z=n.unstable_now(),typeof Se=="function"?h.callback=Se:h===t(l)&&r(l),v(z)}else r(l);h=t(l)}if(h!==null)var Ro=!0;else{var ti=t(c);ti!==null&&zl(T,ti.startTime-z),Ro=!1}return Ro}finally{h=null,p=j,m=!1}}var N=!1,P=null,B=-1,_=5,U=-1;function Ge(){return!(n.unstable_now()-U<_)}function vs(){if(P!==null){var L=n.unstable_now();U=L;var z=!0;try{z=P(!0,L)}finally{z?ws():(N=!1,P=null)}}else N=!1}var ws;if(typeof g=="function")ws=function(){g(vs)};else if(typeof MessageChannel<"u"){var id=new MessageChannel,Dy=id.port2;id.port1.onmessage=vs,ws=function(){Dy.postMessage(null)}}else ws=function(){D(vs,0)};function $l(L){P=L,N||(N=!0,ws())}function zl(L,z){B=D(function(){L(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){w||m||(w=!0,$l(x))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var j=p;p=z;try{return L()}finally{p=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var j=p;p=L;try{return z()}finally{p=j}},n.unstable_scheduleCallback=function(L,z,j){var ce=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ce+j:ce):j=ce,L){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=j+Se,L={id:d++,callback:z,priorityLevel:L,startTime:j,expirationTime:Se,sortIndex:-1},j>ce?(L.sortIndex=j,e(c,L),t(l)===null&&L===t(c)&&(I?(y(B),B=-1):I=!0,zl(T,j-ce))):(L.sortIndex=Se,e(l,L),w||m||(w=!0,$l(x))),L},n.unstable_shouldYield=Ge,n.unstable_wrapCallback=function(L){var z=p;return function(){var j=p;p=z;try{return L.apply(this,arguments)}finally{p=j}}}})(yg);pg.exports=yg;var ev=pg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg=Ue,it=ev;function E(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wg=new Set,Hs={};function Ei(n,e){es(n,e),es(n+"Capture",e)}function es(n,e){for(Hs[n]=e,n=0;n<e.length;n++)wg.add(e[n])}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xu=Object.prototype.hasOwnProperty,tv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ld={},ud={};function nv(n){return xu.call(ud,n)?!0:xu.call(ld,n)?!1:tv.test(n)?ud[n]=!0:(ld[n]=!0,!1)}function rv(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function iv(n,e,t,r){if(e===null||typeof e>"u"||rv(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Je(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){xe[n]=new Je(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];xe[e]=new Je(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){xe[n]=new Je(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){xe[n]=new Je(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){xe[n]=new Je(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){xe[n]=new Je(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){xe[n]=new Je(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){xe[n]=new Je(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){xe[n]=new Je(n,5,!1,n.toLowerCase(),null,!1,!1)});var Qc=/[\-:]([a-z])/g;function Xc(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Qc,Xc);xe[e]=new Je(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Qc,Xc);xe[e]=new Je(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Qc,Xc);xe[e]=new Je(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){xe[n]=new Je(n,1,!1,n.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){xe[n]=new Je(n,1,!1,n.toLowerCase(),null,!0,!0)});function Zc(n,e,t,r){var i=xe.hasOwnProperty(e)?xe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iv(e,t,i,r)&&(t=null),r||i===null?nv(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Tr=vg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fo=Symbol.for("react.element"),Ri=Symbol.for("react.portal"),Li=Symbol.for("react.fragment"),ef=Symbol.for("react.strict_mode"),Cu=Symbol.for("react.profiler"),Sg=Symbol.for("react.provider"),kg=Symbol.for("react.context"),tf=Symbol.for("react.forward_ref"),Nu=Symbol.for("react.suspense"),Pu=Symbol.for("react.suspense_list"),nf=Symbol.for("react.memo"),Nr=Symbol.for("react.lazy"),Tg=Symbol.for("react.offscreen"),cd=Symbol.iterator;function Ss(n){return n===null||typeof n!="object"?null:(n=cd&&n[cd]||n["@@iterator"],typeof n=="function"?n:null)}var se=Object.assign,ql;function Ds(n){if(ql===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);ql=e&&e[1]||""}return`
`+ql+n}var Vl=!1;function Kl(n,e){if(!n||Vl)return"";Vl=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Vl=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Ds(n):""}function sv(n){switch(n.tag){case 5:return Ds(n.type);case 16:return Ds("Lazy");case 13:return Ds("Suspense");case 19:return Ds("SuspenseList");case 0:case 2:case 15:return n=Kl(n.type,!1),n;case 11:return n=Kl(n.type.render,!1),n;case 1:return n=Kl(n.type,!0),n;default:return""}}function Du(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Li:return"Fragment";case Ri:return"Portal";case Cu:return"Profiler";case ef:return"StrictMode";case Nu:return"Suspense";case Pu:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case kg:return(n.displayName||"Context")+".Consumer";case Sg:return(n._context.displayName||"Context")+".Provider";case tf:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case nf:return e=n.displayName||null,e!==null?e:Du(n.type)||"Memo";case Nr:e=n._payload,n=n._init;try{return Du(n(e))}catch{}}return null}function ov(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Du(e);case 8:return e===ef?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _r(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ag(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function av(n){var e=Ag(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function bo(n){n._valueTracker||(n._valueTracker=av(n))}function Ig(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=Ag(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Ta(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ou(n,e){var t=e.checked;return se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function fd(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=_r(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Eg(n,e){e=e.checked,e!=null&&Zc(n,"checked",e,!1)}function Ru(n,e){Eg(n,e);var t=_r(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Lu(n,e.type,t):e.hasOwnProperty("defaultValue")&&Lu(n,e.type,_r(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function dd(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Lu(n,e,t){(e!=="number"||Ta(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Os=Array.isArray;function Wi(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+_r(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Bu(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return se({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function hd(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(E(92));if(Os(t)){if(1<t.length)throw Error(E(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:_r(t)}}function xg(n,e){var t=_r(e.value),r=_r(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function gd(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Cg(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fu(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Cg(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Mo,Ng=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Mo=Mo||document.createElement("div"),Mo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mo.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Gs(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lv=["Webkit","ms","Moz","O"];Object.keys(Bs).forEach(function(n){lv.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Bs[e]=Bs[n]})});function Pg(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Bs.hasOwnProperty(n)&&Bs[n]?(""+e).trim():e+"px"}function Dg(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=Pg(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var uv=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bu(n,e){if(e){if(uv[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function Mu(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ju=null;function rf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $u=null,_i=null,Hi=null;function md(n){if(n=Eo(n)){if(typeof $u!="function")throw Error(E(280));var e=n.stateNode;e&&(e=kl(e),$u(n.stateNode,n.type,e))}}function Og(n){_i?Hi?Hi.push(n):Hi=[n]:_i=n}function Rg(){if(_i){var n=_i,e=Hi;if(Hi=_i=null,md(n),e)for(n=0;n<e.length;n++)md(e[n])}}function Lg(n,e){return n(e)}function Bg(){}var Wl=!1;function Fg(n,e,t){if(Wl)return n(e,t);Wl=!0;try{return Lg(n,e,t)}finally{Wl=!1,(_i!==null||Hi!==null)&&(Bg(),Rg())}}function Ys(n,e){var t=n.stateNode;if(t===null)return null;var r=kl(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(E(231,e,typeof t));return t}var zu=!1;if(pr)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){zu=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{zu=!1}function cv(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var Fs=!1,Aa=null,Ia=!1,Uu=null,fv={onError:function(n){Fs=!0,Aa=n}};function dv(n,e,t,r,i,s,o,a,l){Fs=!1,Aa=null,cv.apply(fv,arguments)}function hv(n,e,t,r,i,s,o,a,l){if(dv.apply(this,arguments),Fs){if(Fs){var c=Aa;Fs=!1,Aa=null}else throw Error(E(198));Ia||(Ia=!0,Uu=c)}}function xi(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function bg(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function pd(n){if(xi(n)!==n)throw Error(E(188))}function gv(n){var e=n.alternate;if(!e){if(e=xi(n),e===null)throw Error(E(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return pd(i),n;if(s===r)return pd(i),e;s=s.sibling}throw Error(E(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(E(189))}}if(t.alternate!==r)throw Error(E(190))}if(t.tag!==3)throw Error(E(188));return t.stateNode.current===t?n:e}function Mg(n){return n=gv(n),n!==null?Jg(n):null}function Jg(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Jg(n);if(e!==null)return e;n=n.sibling}return null}var $g=it.unstable_scheduleCallback,yd=it.unstable_cancelCallback,mv=it.unstable_shouldYield,pv=it.unstable_requestPaint,fe=it.unstable_now,yv=it.unstable_getCurrentPriorityLevel,sf=it.unstable_ImmediatePriority,zg=it.unstable_UserBlockingPriority,Ea=it.unstable_NormalPriority,vv=it.unstable_LowPriority,Ug=it.unstable_IdlePriority,yl=null,tn=null;function wv(n){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(yl,n,void 0,(n.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:Tv,Sv=Math.log,kv=Math.LN2;function Tv(n){return n>>>=0,n===0?32:31-(Sv(n)/kv|0)|0}var Jo=64,$o=4194304;function Rs(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function xa(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Rs(a):(s&=o,s!==0&&(r=Rs(s)))}else o=t&~i,o!==0?r=Rs(o):s!==0&&(r=Rs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Lt(e),i=1<<t,r|=n[t],e&=~i;return r}function Av(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iv(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Lt(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=Av(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function ju(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function jg(){var n=Jo;return Jo<<=1,!(Jo&4194240)&&(Jo=64),n}function _l(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Ao(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Lt(e),n[e]=t}function Ev(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Lt(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function of(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Lt(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var G=0;function qg(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Vg,af,Kg,Wg,_g,qu=!1,zo=[],br=null,Mr=null,Jr=null,Qs=new Map,Xs=new Map,Dr=[],xv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vd(n,e){switch(n){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Qs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(e.pointerId)}}function Ts(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Eo(e),e!==null&&af(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function Cv(n,e,t,r,i){switch(e){case"focusin":return br=Ts(br,n,e,t,r,i),!0;case"dragenter":return Mr=Ts(Mr,n,e,t,r,i),!0;case"mouseover":return Jr=Ts(Jr,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Qs.set(s,Ts(Qs.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Xs.set(s,Ts(Xs.get(s)||null,n,e,t,r,i)),!0}return!1}function Hg(n){var e=li(n.target);if(e!==null){var t=xi(e);if(t!==null){if(e=t.tag,e===13){if(e=bg(t),e!==null){n.blockedOn=e,_g(n.priority,function(){Kg(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function sa(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Vu(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Ju=r,t.target.dispatchEvent(r),Ju=null}else return e=Eo(t),e!==null&&af(e),n.blockedOn=t,!1;e.shift()}return!0}function wd(n,e,t){sa(n)&&t.delete(e)}function Nv(){qu=!1,br!==null&&sa(br)&&(br=null),Mr!==null&&sa(Mr)&&(Mr=null),Jr!==null&&sa(Jr)&&(Jr=null),Qs.forEach(wd),Xs.forEach(wd)}function As(n,e){n.blockedOn===e&&(n.blockedOn=null,qu||(qu=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,Nv)))}function Zs(n){function e(i){return As(i,n)}if(0<zo.length){As(zo[0],n);for(var t=1;t<zo.length;t++){var r=zo[t];r.blockedOn===n&&(r.blockedOn=null)}}for(br!==null&&As(br,n),Mr!==null&&As(Mr,n),Jr!==null&&As(Jr,n),Qs.forEach(e),Xs.forEach(e),t=0;t<Dr.length;t++)r=Dr[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Dr.length&&(t=Dr[0],t.blockedOn===null);)Hg(t),t.blockedOn===null&&Dr.shift()}var Gi=Tr.ReactCurrentBatchConfig,Ca=!0;function Pv(n,e,t,r){var i=G,s=Gi.transition;Gi.transition=null;try{G=1,lf(n,e,t,r)}finally{G=i,Gi.transition=s}}function Dv(n,e,t,r){var i=G,s=Gi.transition;Gi.transition=null;try{G=4,lf(n,e,t,r)}finally{G=i,Gi.transition=s}}function lf(n,e,t,r){if(Ca){var i=Vu(n,e,t,r);if(i===null)ru(n,e,r,Na,t),vd(n,r);else if(Cv(i,n,e,t,r))r.stopPropagation();else if(vd(n,r),e&4&&-1<xv.indexOf(n)){for(;i!==null;){var s=Eo(i);if(s!==null&&Vg(s),s=Vu(n,e,t,r),s===null&&ru(n,e,r,Na,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else ru(n,e,r,null,t)}}var Na=null;function Vu(n,e,t,r){if(Na=null,n=rf(r),n=li(n),n!==null)if(e=xi(n),e===null)n=null;else if(t=e.tag,t===13){if(n=bg(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Na=n,null}function Gg(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yv()){case sf:return 1;case zg:return 4;case Ea:case vv:return 16;case Ug:return 536870912;default:return 16}default:return 16}}var Lr=null,uf=null,oa=null;function Yg(){if(oa)return oa;var n,e=uf,t=e.length,r,i="value"in Lr?Lr.value:Lr.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return oa=i.slice(n,1<r?1-r:void 0)}function aa(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Uo(){return!0}function Sd(){return!1}function ot(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Uo:Sd,this.isPropagationStopped=Sd,this}return se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Uo)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Uo)},persist:function(){},isPersistent:Uo}),e}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cf=ot(ps),Io=se({},ps,{view:0,detail:0}),Ov=ot(Io),Hl,Gl,Is,vl=se({},Io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ff,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Is&&(Is&&n.type==="mousemove"?(Hl=n.screenX-Is.screenX,Gl=n.screenY-Is.screenY):Gl=Hl=0,Is=n),Hl)},movementY:function(n){return"movementY"in n?n.movementY:Gl}}),kd=ot(vl),Rv=se({},vl,{dataTransfer:0}),Lv=ot(Rv),Bv=se({},Io,{relatedTarget:0}),Yl=ot(Bv),Fv=se({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),bv=ot(Fv),Mv=se({},ps,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Jv=ot(Mv),$v=se({},ps,{data:0}),Td=ot($v),zv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qv(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=jv[n])?!!e[n]:!1}function ff(){return qv}var Vv=se({},Io,{key:function(n){if(n.key){var e=zv[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=aa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Uv[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ff,charCode:function(n){return n.type==="keypress"?aa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?aa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Kv=ot(Vv),Wv=se({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ad=ot(Wv),_v=se({},Io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ff}),Hv=ot(_v),Gv=se({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yv=ot(Gv),Qv=se({},vl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Xv=ot(Qv),Zv=[9,13,27,32],df=pr&&"CompositionEvent"in window,bs=null;pr&&"documentMode"in document&&(bs=document.documentMode);var e0=pr&&"TextEvent"in window&&!bs,Qg=pr&&(!df||bs&&8<bs&&11>=bs),Id=" ",Ed=!1;function Xg(n,e){switch(n){case"keyup":return Zv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Bi=!1;function t0(n,e){switch(n){case"compositionend":return Zg(e);case"keypress":return e.which!==32?null:(Ed=!0,Id);case"textInput":return n=e.data,n===Id&&Ed?null:n;default:return null}}function n0(n,e){if(Bi)return n==="compositionend"||!df&&Xg(n,e)?(n=Yg(),oa=uf=Lr=null,Bi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qg&&e.locale!=="ko"?null:e.data;default:return null}}var r0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xd(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!r0[n.type]:e==="textarea"}function em(n,e,t,r){Og(r),e=Pa(e,"onChange"),0<e.length&&(t=new cf("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Ms=null,eo=null;function i0(n){fm(n,0)}function wl(n){var e=Mi(n);if(Ig(e))return n}function s0(n,e){if(n==="change")return e}var tm=!1;if(pr){var Ql;if(pr){var Xl="oninput"in document;if(!Xl){var Cd=document.createElement("div");Cd.setAttribute("oninput","return;"),Xl=typeof Cd.oninput=="function"}Ql=Xl}else Ql=!1;tm=Ql&&(!document.documentMode||9<document.documentMode)}function Nd(){Ms&&(Ms.detachEvent("onpropertychange",nm),eo=Ms=null)}function nm(n){if(n.propertyName==="value"&&wl(eo)){var e=[];em(e,eo,n,rf(n)),Fg(i0,e)}}function o0(n,e,t){n==="focusin"?(Nd(),Ms=e,eo=t,Ms.attachEvent("onpropertychange",nm)):n==="focusout"&&Nd()}function a0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return wl(eo)}function l0(n,e){if(n==="click")return wl(e)}function u0(n,e){if(n==="input"||n==="change")return wl(e)}function c0(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Mt=typeof Object.is=="function"?Object.is:c0;function to(n,e){if(Mt(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!xu.call(e,i)||!Mt(n[i],e[i]))return!1}return!0}function Pd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Dd(n,e){var t=Pd(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Pd(t)}}function rm(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?rm(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function im(){for(var n=window,e=Ta();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Ta(n.document)}return e}function hf(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function f0(n){var e=im(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&rm(t.ownerDocument.documentElement,t)){if(r!==null&&hf(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=Dd(t,s);var o=Dd(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var d0=pr&&"documentMode"in document&&11>=document.documentMode,Fi=null,Ku=null,Js=null,Wu=!1;function Od(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Wu||Fi==null||Fi!==Ta(r)||(r=Fi,"selectionStart"in r&&hf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Js&&to(Js,r)||(Js=r,r=Pa(Ku,"onSelect"),0<r.length&&(e=new cf("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Fi)))}function jo(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var bi={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionend:jo("Transition","TransitionEnd")},Zl={},sm={};pr&&(sm=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function Sl(n){if(Zl[n])return Zl[n];if(!bi[n])return n;var e=bi[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in sm)return Zl[n]=e[t];return n}var om=Sl("animationend"),am=Sl("animationiteration"),lm=Sl("animationstart"),um=Sl("transitionend"),cm=new Map,Rd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(n,e){cm.set(n,e),Ei(e,[n])}for(var eu=0;eu<Rd.length;eu++){var tu=Rd[eu],h0=tu.toLowerCase(),g0=tu[0].toUpperCase()+tu.slice(1);Xr(h0,"on"+g0)}Xr(om,"onAnimationEnd");Xr(am,"onAnimationIteration");Xr(lm,"onAnimationStart");Xr("dblclick","onDoubleClick");Xr("focusin","onFocus");Xr("focusout","onBlur");Xr(um,"onTransitionEnd");es("onMouseEnter",["mouseout","mouseover"]);es("onMouseLeave",["mouseout","mouseover"]);es("onPointerEnter",["pointerout","pointerover"]);es("onPointerLeave",["pointerout","pointerover"]);Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ls));function Ld(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,hv(r,e,void 0,n),n.currentTarget=null}function fm(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ld(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ld(i,a,c),s=l}}}if(Ia)throw n=Uu,Ia=!1,Uu=null,n}function X(n,e){var t=e[Qu];t===void 0&&(t=e[Qu]=new Set);var r=n+"__bubble";t.has(r)||(dm(e,n,2,!1),t.add(r))}function nu(n,e,t){var r=0;e&&(r|=4),dm(t,n,r,e)}var qo="_reactListening"+Math.random().toString(36).slice(2);function no(n){if(!n[qo]){n[qo]=!0,wg.forEach(function(t){t!=="selectionchange"&&(m0.has(t)||nu(t,!1,n),nu(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[qo]||(e[qo]=!0,nu("selectionchange",!1,e))}}function dm(n,e,t,r){switch(Gg(e)){case 1:var i=Pv;break;case 4:i=Dv;break;default:i=lf}t=i.bind(null,e,t,n),i=void 0,!zu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function ru(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=li(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Fg(function(){var c=s,d=rf(t),h=[];e:{var p=cm.get(n);if(p!==void 0){var m=cf,w=n;switch(n){case"keypress":if(aa(t)===0)break e;case"keydown":case"keyup":m=Kv;break;case"focusin":w="focus",m=Yl;break;case"focusout":w="blur",m=Yl;break;case"beforeblur":case"afterblur":m=Yl;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Lv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Hv;break;case om:case am:case lm:m=bv;break;case um:m=Yv;break;case"scroll":m=Ov;break;case"wheel":m=Xv;break;case"copy":case"cut":case"paste":m=Jv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ad}var I=(e&4)!==0,D=!I&&n==="scroll",y=I?p!==null?p+"Capture":null:p;I=[];for(var g=c,v;g!==null;){v=g;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,y!==null&&(T=Ys(g,y),T!=null&&I.push(ro(g,T,v)))),D)break;g=g.return}0<I.length&&(p=new m(p,w,null,t,d),h.push({event:p,listeners:I}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==Ju&&(w=t.relatedTarget||t.fromElement)&&(li(w)||w[yr]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=t.relatedTarget||t.toElement,m=c,w=w?li(w):null,w!==null&&(D=xi(w),w!==D||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=c),m!==w)){if(I=kd,T="onMouseLeave",y="onMouseEnter",g="mouse",(n==="pointerout"||n==="pointerover")&&(I=Ad,T="onPointerLeave",y="onPointerEnter",g="pointer"),D=m==null?p:Mi(m),v=w==null?p:Mi(w),p=new I(T,g+"leave",m,t,d),p.target=D,p.relatedTarget=v,T=null,li(d)===c&&(I=new I(y,g+"enter",w,t,d),I.target=v,I.relatedTarget=D,T=I),D=T,m&&w)t:{for(I=m,y=w,g=0,v=I;v;v=Ni(v))g++;for(v=0,T=y;T;T=Ni(T))v++;for(;0<g-v;)I=Ni(I),g--;for(;0<v-g;)y=Ni(y),v--;for(;g--;){if(I===y||y!==null&&I===y.alternate)break t;I=Ni(I),y=Ni(y)}I=null}else I=null;m!==null&&Bd(h,p,m,I,!1),w!==null&&D!==null&&Bd(h,D,w,I,!0)}}e:{if(p=c?Mi(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var x=s0;else if(xd(p))if(tm)x=u0;else{x=a0;var N=o0}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(x=l0);if(x&&(x=x(n,c))){em(h,x,t,d);break e}N&&N(n,p,c),n==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&Lu(p,"number",p.value)}switch(N=c?Mi(c):window,n){case"focusin":(xd(N)||N.contentEditable==="true")&&(Fi=N,Ku=c,Js=null);break;case"focusout":Js=Ku=Fi=null;break;case"mousedown":Wu=!0;break;case"contextmenu":case"mouseup":case"dragend":Wu=!1,Od(h,t,d);break;case"selectionchange":if(d0)break;case"keydown":case"keyup":Od(h,t,d)}var P;if(df)e:{switch(n){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Bi?Xg(n,t)&&(B="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(B="onCompositionStart");B&&(Qg&&t.locale!=="ko"&&(Bi||B!=="onCompositionStart"?B==="onCompositionEnd"&&Bi&&(P=Yg()):(Lr=d,uf="value"in Lr?Lr.value:Lr.textContent,Bi=!0)),N=Pa(c,B),0<N.length&&(B=new Td(B,n,null,t,d),h.push({event:B,listeners:N}),P?B.data=P:(P=Zg(t),P!==null&&(B.data=P)))),(P=e0?t0(n,t):n0(n,t))&&(c=Pa(c,"onBeforeInput"),0<c.length&&(d=new Td("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:c}),d.data=P))}fm(h,e)})}function ro(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Pa(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ys(n,t),s!=null&&r.unshift(ro(n,s,i)),s=Ys(n,e),s!=null&&r.push(ro(n,s,i))),n=n.return}return r}function Ni(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Bd(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ys(t,s),l!=null&&o.unshift(ro(t,l,a))):i||(l=Ys(t,s),l!=null&&o.push(ro(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var p0=/\r\n?/g,y0=/\u0000|\uFFFD/g;function Fd(n){return(typeof n=="string"?n:""+n).replace(p0,`
`).replace(y0,"")}function Vo(n,e,t){if(e=Fd(e),Fd(n)!==e&&t)throw Error(E(425))}function Da(){}var _u=null,Hu=null;function Gu(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yu=typeof setTimeout=="function"?setTimeout:void 0,v0=typeof clearTimeout=="function"?clearTimeout:void 0,bd=typeof Promise=="function"?Promise:void 0,w0=typeof queueMicrotask=="function"?queueMicrotask:typeof bd<"u"?function(n){return bd.resolve(null).then(n).catch(S0)}:Yu;function S0(n){setTimeout(function(){throw n})}function iu(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Zs(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Zs(e)}function $r(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Md(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ys=Math.random().toString(36).slice(2),Vt="__reactFiber$"+ys,io="__reactProps$"+ys,yr="__reactContainer$"+ys,Qu="__reactEvents$"+ys,k0="__reactListeners$"+ys,T0="__reactHandles$"+ys;function li(n){var e=n[Vt];if(e)return e;for(var t=n.parentNode;t;){if(e=t[yr]||t[Vt]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Md(n);n!==null;){if(t=n[Vt])return t;n=Md(n)}return e}n=t,t=n.parentNode}return null}function Eo(n){return n=n[Vt]||n[yr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Mi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(E(33))}function kl(n){return n[io]||null}var Xu=[],Ji=-1;function Zr(n){return{current:n}}function Z(n){0>Ji||(n.current=Xu[Ji],Xu[Ji]=null,Ji--)}function Q(n,e){Ji++,Xu[Ji]=n.current,n.current=e}var Hr={},Oe=Zr(Hr),Ve=Zr(!1),yi=Hr;function ts(n,e){var t=n.type.contextTypes;if(!t)return Hr;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Ke(n){return n=n.childContextTypes,n!=null}function Oa(){Z(Ve),Z(Oe)}function Jd(n,e,t){if(Oe.current!==Hr)throw Error(E(168));Q(Oe,e),Q(Ve,t)}function hm(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(E(108,ov(n)||"Unknown",i));return se({},t,r)}function Ra(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Hr,yi=Oe.current,Q(Oe,n),Q(Ve,Ve.current),!0}function $d(n,e,t){var r=n.stateNode;if(!r)throw Error(E(169));t?(n=hm(n,e,yi),r.__reactInternalMemoizedMergedChildContext=n,Z(Ve),Z(Oe),Q(Oe,n)):Z(Ve),Q(Ve,t)}var or=null,Tl=!1,su=!1;function gm(n){or===null?or=[n]:or.push(n)}function A0(n){Tl=!0,gm(n)}function ei(){if(!su&&or!==null){su=!0;var n=0,e=G;try{var t=or;for(G=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}or=null,Tl=!1}catch(i){throw or!==null&&(or=or.slice(n+1)),$g(sf,ei),i}finally{G=e,su=!1}}return null}var $i=[],zi=0,La=null,Ba=0,at=[],lt=0,vi=null,lr=1,ur="";function ii(n,e){$i[zi++]=Ba,$i[zi++]=La,La=n,Ba=e}function mm(n,e,t){at[lt++]=lr,at[lt++]=ur,at[lt++]=vi,vi=n;var r=lr;n=ur;var i=32-Lt(r)-1;r&=~(1<<i),t+=1;var s=32-Lt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,lr=1<<32-Lt(e)+i|t<<i|r,ur=s+n}else lr=1<<s|t<<i|r,ur=n}function gf(n){n.return!==null&&(ii(n,1),mm(n,1,0))}function mf(n){for(;n===La;)La=$i[--zi],$i[zi]=null,Ba=$i[--zi],$i[zi]=null;for(;n===vi;)vi=at[--lt],at[lt]=null,ur=at[--lt],at[lt]=null,lr=at[--lt],at[lt]=null}var et=null,Qe=null,ee=!1,Dt=null;function pm(n,e){var t=vt(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function zd(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,et=n,Qe=$r(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,et=n,Qe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=vi!==null?{id:lr,overflow:ur}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=vt(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,et=n,Qe=null,!0):!1;default:return!1}}function Zu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ec(n){if(ee){var e=Qe;if(e){var t=e;if(!zd(n,e)){if(Zu(n))throw Error(E(418));e=$r(t.nextSibling);var r=et;e&&zd(n,e)?pm(r,t):(n.flags=n.flags&-4097|2,ee=!1,et=n)}}else{if(Zu(n))throw Error(E(418));n.flags=n.flags&-4097|2,ee=!1,et=n}}}function Ud(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;et=n}function Ko(n){if(n!==et)return!1;if(!ee)return Ud(n),ee=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Gu(n.type,n.memoizedProps)),e&&(e=Qe)){if(Zu(n))throw ym(),Error(E(418));for(;e;)pm(n,e),e=$r(e.nextSibling)}if(Ud(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(E(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Qe=$r(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Qe=null}}else Qe=et?$r(n.stateNode.nextSibling):null;return!0}function ym(){for(var n=Qe;n;)n=$r(n.nextSibling)}function ns(){Qe=et=null,ee=!1}function pf(n){Dt===null?Dt=[n]:Dt.push(n)}var I0=Tr.ReactCurrentBatchConfig;function Ct(n,e){if(n&&n.defaultProps){e=se({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Fa=Zr(null),ba=null,Ui=null,yf=null;function vf(){yf=Ui=ba=null}function wf(n){var e=Fa.current;Z(Fa),n._currentValue=e}function tc(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Yi(n,e){ba=n,yf=Ui=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(je=!0),n.firstContext=null)}function Tt(n){var e=n._currentValue;if(yf!==n)if(n={context:n,memoizedValue:e,next:null},Ui===null){if(ba===null)throw Error(E(308));Ui=n,ba.dependencies={lanes:0,firstContext:n}}else Ui=Ui.next=n;return e}var ui=null;function Sf(n){ui===null?ui=[n]:ui.push(n)}function vm(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,Sf(e)):(t.next=i.next,i.next=t),e.interleaved=t,vr(n,r)}function vr(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Pr=!1;function kf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wm(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function hr(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function zr(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,vr(n,t)}return i=r.interleaved,i===null?(e.next=e,Sf(r)):(e.next=i.next,i.next=e),r.interleaved=e,vr(n,t)}function la(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,of(n,t)}}function jd(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Ma(n,e,t,r){var i=n.updateQueue;Pr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=n,I=a;switch(p=e,m=t,I.tag){case 1:if(w=I.payload,typeof w=="function"){h=w.call(m,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=I.payload,p=typeof w=="function"?w.call(m,h,p):w,p==null)break e;h=se({},h,p);break e;case 2:Pr=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Si|=o,n.lanes=o,n.memoizedState=h}}function qd(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(E(191,i));i.call(r)}}}var Sm=new vg.Component().refs;function nc(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:se({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Al={isMounted:function(n){return(n=n._reactInternals)?xi(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=be(),i=jr(n),s=hr(r,i);s.payload=e,t!=null&&(s.callback=t),e=zr(n,s,i),e!==null&&(Bt(e,n,i,r),la(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=be(),i=jr(n),s=hr(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=zr(n,s,i),e!==null&&(Bt(e,n,i,r),la(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=be(),r=jr(n),i=hr(t,r);i.tag=2,e!=null&&(i.callback=e),e=zr(n,i,r),e!==null&&(Bt(e,n,r,t),la(e,n,r))}};function Vd(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!to(t,r)||!to(i,s):!0}function km(n,e,t){var r=!1,i=Hr,s=e.contextType;return typeof s=="object"&&s!==null?s=Tt(s):(i=Ke(e)?yi:Oe.current,r=e.contextTypes,s=(r=r!=null)?ts(n,i):Hr),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Al,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function Kd(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Al.enqueueReplaceState(e,e.state,null)}function rc(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=Sm,kf(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Tt(s):(s=Ke(e)?yi:Oe.current,i.context=ts(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(nc(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Al.enqueueReplaceState(i,i.state,null),Ma(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Es(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(E(309));var r=t.stateNode}if(!r)throw Error(E(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Sm&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(E(284));if(!t._owner)throw Error(E(290,n))}return n}function Wo(n,e){throw n=Object.prototype.toString.call(e),Error(E(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Wd(n){var e=n._init;return e(n._payload)}function Tm(n){function e(y,g){if(n){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function t(y,g){if(!n)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=qr(y,g),y.index=0,y.sibling=null,y}function s(y,g,v){return y.index=v,n?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return n&&y.alternate===null&&(y.flags|=2),y}function a(y,g,v,T){return g===null||g.tag!==6?(g=du(v,y.mode,T),g.return=y,g):(g=i(g,v),g.return=y,g)}function l(y,g,v,T){var x=v.type;return x===Li?d(y,g,v.props.children,T,v.key):g!==null&&(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Nr&&Wd(x)===g.type)?(T=i(g,v.props),T.ref=Es(y,g,v),T.return=y,T):(T=ga(v.type,v.key,v.props,null,y.mode,T),T.ref=Es(y,g,v),T.return=y,T)}function c(y,g,v,T){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=hu(v,y.mode,T),g.return=y,g):(g=i(g,v.children||[]),g.return=y,g)}function d(y,g,v,T,x){return g===null||g.tag!==7?(g=gi(v,y.mode,T,x),g.return=y,g):(g=i(g,v),g.return=y,g)}function h(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=du(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Fo:return v=ga(g.type,g.key,g.props,null,y.mode,v),v.ref=Es(y,null,g),v.return=y,v;case Ri:return g=hu(g,y.mode,v),g.return=y,g;case Nr:var T=g._init;return h(y,T(g._payload),v)}if(Os(g)||Ss(g))return g=gi(g,y.mode,v,null),g.return=y,g;Wo(y,g)}return null}function p(y,g,v,T){var x=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:a(y,g,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fo:return v.key===x?l(y,g,v,T):null;case Ri:return v.key===x?c(y,g,v,T):null;case Nr:return x=v._init,p(y,g,x(v._payload),T)}if(Os(v)||Ss(v))return x!==null?null:d(y,g,v,T,null);Wo(y,v)}return null}function m(y,g,v,T,x){if(typeof T=="string"&&T!==""||typeof T=="number")return y=y.get(v)||null,a(g,y,""+T,x);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Fo:return y=y.get(T.key===null?v:T.key)||null,l(g,y,T,x);case Ri:return y=y.get(T.key===null?v:T.key)||null,c(g,y,T,x);case Nr:var N=T._init;return m(y,g,v,N(T._payload),x)}if(Os(T)||Ss(T))return y=y.get(v)||null,d(g,y,T,x,null);Wo(g,T)}return null}function w(y,g,v,T){for(var x=null,N=null,P=g,B=g=0,_=null;P!==null&&B<v.length;B++){P.index>B?(_=P,P=null):_=P.sibling;var U=p(y,P,v[B],T);if(U===null){P===null&&(P=_);break}n&&P&&U.alternate===null&&e(y,P),g=s(U,g,B),N===null?x=U:N.sibling=U,N=U,P=_}if(B===v.length)return t(y,P),ee&&ii(y,B),x;if(P===null){for(;B<v.length;B++)P=h(y,v[B],T),P!==null&&(g=s(P,g,B),N===null?x=P:N.sibling=P,N=P);return ee&&ii(y,B),x}for(P=r(y,P);B<v.length;B++)_=m(P,y,B,v[B],T),_!==null&&(n&&_.alternate!==null&&P.delete(_.key===null?B:_.key),g=s(_,g,B),N===null?x=_:N.sibling=_,N=_);return n&&P.forEach(function(Ge){return e(y,Ge)}),ee&&ii(y,B),x}function I(y,g,v,T){var x=Ss(v);if(typeof x!="function")throw Error(E(150));if(v=x.call(v),v==null)throw Error(E(151));for(var N=x=null,P=g,B=g=0,_=null,U=v.next();P!==null&&!U.done;B++,U=v.next()){P.index>B?(_=P,P=null):_=P.sibling;var Ge=p(y,P,U.value,T);if(Ge===null){P===null&&(P=_);break}n&&P&&Ge.alternate===null&&e(y,P),g=s(Ge,g,B),N===null?x=Ge:N.sibling=Ge,N=Ge,P=_}if(U.done)return t(y,P),ee&&ii(y,B),x;if(P===null){for(;!U.done;B++,U=v.next())U=h(y,U.value,T),U!==null&&(g=s(U,g,B),N===null?x=U:N.sibling=U,N=U);return ee&&ii(y,B),x}for(P=r(y,P);!U.done;B++,U=v.next())U=m(P,y,B,U.value,T),U!==null&&(n&&U.alternate!==null&&P.delete(U.key===null?B:U.key),g=s(U,g,B),N===null?x=U:N.sibling=U,N=U);return n&&P.forEach(function(vs){return e(y,vs)}),ee&&ii(y,B),x}function D(y,g,v,T){if(typeof v=="object"&&v!==null&&v.type===Li&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Fo:e:{for(var x=v.key,N=g;N!==null;){if(N.key===x){if(x=v.type,x===Li){if(N.tag===7){t(y,N.sibling),g=i(N,v.props.children),g.return=y,y=g;break e}}else if(N.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Nr&&Wd(x)===N.type){t(y,N.sibling),g=i(N,v.props),g.ref=Es(y,N,v),g.return=y,y=g;break e}t(y,N);break}else e(y,N);N=N.sibling}v.type===Li?(g=gi(v.props.children,y.mode,T,v.key),g.return=y,y=g):(T=ga(v.type,v.key,v.props,null,y.mode,T),T.ref=Es(y,g,v),T.return=y,y=T)}return o(y);case Ri:e:{for(N=v.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){t(y,g.sibling),g=i(g,v.children||[]),g.return=y,y=g;break e}else{t(y,g);break}else e(y,g);g=g.sibling}g=hu(v,y.mode,T),g.return=y,y=g}return o(y);case Nr:return N=v._init,D(y,g,N(v._payload),T)}if(Os(v))return w(y,g,v,T);if(Ss(v))return I(y,g,v,T);Wo(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(t(y,g.sibling),g=i(g,v),g.return=y,y=g):(t(y,g),g=du(v,y.mode,T),g.return=y,y=g),o(y)):t(y,g)}return D}var rs=Tm(!0),Am=Tm(!1),xo={},nn=Zr(xo),so=Zr(xo),oo=Zr(xo);function ci(n){if(n===xo)throw Error(E(174));return n}function Tf(n,e){switch(Q(oo,e),Q(so,n),Q(nn,xo),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fu(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Fu(e,n)}Z(nn),Q(nn,e)}function is(){Z(nn),Z(so),Z(oo)}function Im(n){ci(oo.current);var e=ci(nn.current),t=Fu(e,n.type);e!==t&&(Q(so,n),Q(nn,t))}function Af(n){so.current===n&&(Z(nn),Z(so))}var ne=Zr(0);function Ja(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ou=[];function If(){for(var n=0;n<ou.length;n++)ou[n]._workInProgressVersionPrimary=null;ou.length=0}var ua=Tr.ReactCurrentDispatcher,au=Tr.ReactCurrentBatchConfig,wi=0,ie=null,pe=null,ke=null,$a=!1,$s=!1,ao=0,E0=0;function Ce(){throw Error(E(321))}function Ef(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Mt(n[t],e[t]))return!1;return!0}function xf(n,e,t,r,i,s){if(wi=s,ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ua.current=n===null||n.memoizedState===null?P0:D0,n=t(r,i),$s){s=0;do{if($s=!1,ao=0,25<=s)throw Error(E(301));s+=1,ke=pe=null,e.updateQueue=null,ua.current=O0,n=t(r,i)}while($s)}if(ua.current=za,e=pe!==null&&pe.next!==null,wi=0,ke=pe=ie=null,$a=!1,e)throw Error(E(300));return n}function Cf(){var n=ao!==0;return ao=0,n}function Ut(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?ie.memoizedState=ke=n:ke=ke.next=n,ke}function At(){if(pe===null){var n=ie.alternate;n=n!==null?n.memoizedState:null}else n=pe.next;var e=ke===null?ie.memoizedState:ke.next;if(e!==null)ke=e,pe=n;else{if(n===null)throw Error(E(310));pe=n,n={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ke===null?ie.memoizedState=ke=n:ke=ke.next=n}return ke}function lo(n,e){return typeof e=="function"?e(n):e}function lu(n){var e=At(),t=e.queue;if(t===null)throw Error(E(311));t.lastRenderedReducer=n;var r=pe,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((wi&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ie.lanes|=d,Si|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Mt(r,e.memoizedState)||(je=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,ie.lanes|=s,Si|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function uu(n){var e=At(),t=e.queue;if(t===null)throw Error(E(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Mt(s,e.memoizedState)||(je=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function Em(){}function xm(n,e){var t=ie,r=At(),i=e(),s=!Mt(r.memoizedState,i);if(s&&(r.memoizedState=i,je=!0),r=r.queue,Nf(Pm.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||ke!==null&&ke.memoizedState.tag&1){if(t.flags|=2048,uo(9,Nm.bind(null,t,r,i,e),void 0,null),Te===null)throw Error(E(349));wi&30||Cm(t,e,i)}return i}function Cm(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Nm(n,e,t,r){e.value=t,e.getSnapshot=r,Dm(e)&&Om(n)}function Pm(n,e,t){return t(function(){Dm(e)&&Om(n)})}function Dm(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Mt(n,t)}catch{return!0}}function Om(n){var e=vr(n,1);e!==null&&Bt(e,n,1,-1)}function _d(n){var e=Ut();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:n},e.queue=n,n=n.dispatch=N0.bind(null,ie,n),[e.memoizedState,n]}function uo(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function Rm(){return At().memoizedState}function ca(n,e,t,r){var i=Ut();ie.flags|=n,i.memoizedState=uo(1|e,t,void 0,r===void 0?null:r)}function Il(n,e,t,r){var i=At();r=r===void 0?null:r;var s=void 0;if(pe!==null){var o=pe.memoizedState;if(s=o.destroy,r!==null&&Ef(r,o.deps)){i.memoizedState=uo(e,t,s,r);return}}ie.flags|=n,i.memoizedState=uo(1|e,t,s,r)}function Hd(n,e){return ca(8390656,8,n,e)}function Nf(n,e){return Il(2048,8,n,e)}function Lm(n,e){return Il(4,2,n,e)}function Bm(n,e){return Il(4,4,n,e)}function Fm(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function bm(n,e,t){return t=t!=null?t.concat([n]):null,Il(4,4,Fm.bind(null,e,n),t)}function Pf(){}function Mm(n,e){var t=At();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Ef(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function Jm(n,e){var t=At();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Ef(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function $m(n,e,t){return wi&21?(Mt(t,e)||(t=jg(),ie.lanes|=t,Si|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,je=!0),n.memoizedState=t)}function x0(n,e){var t=G;G=t!==0&&4>t?t:4,n(!0);var r=au.transition;au.transition={};try{n(!1),e()}finally{G=t,au.transition=r}}function zm(){return At().memoizedState}function C0(n,e,t){var r=jr(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},Um(n))jm(e,t);else if(t=vm(n,e,t,r),t!==null){var i=be();Bt(t,n,r,i),qm(t,e,r)}}function N0(n,e,t){var r=jr(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(Um(n))jm(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Mt(a,o)){var l=e.interleaved;l===null?(i.next=i,Sf(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=vm(n,e,i,r),t!==null&&(i=be(),Bt(t,n,r,i),qm(t,e,r))}}function Um(n){var e=n.alternate;return n===ie||e!==null&&e===ie}function jm(n,e){$s=$a=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function qm(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,of(n,t)}}var za={readContext:Tt,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useInsertionEffect:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useSyncExternalStore:Ce,useId:Ce,unstable_isNewReconciler:!1},P0={readContext:Tt,useCallback:function(n,e){return Ut().memoizedState=[n,e===void 0?null:e],n},useContext:Tt,useEffect:Hd,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,ca(4194308,4,Fm.bind(null,e,n),t)},useLayoutEffect:function(n,e){return ca(4194308,4,n,e)},useInsertionEffect:function(n,e){return ca(4,2,n,e)},useMemo:function(n,e){var t=Ut();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Ut();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=C0.bind(null,ie,n),[r.memoizedState,n]},useRef:function(n){var e=Ut();return n={current:n},e.memoizedState=n},useState:_d,useDebugValue:Pf,useDeferredValue:function(n){return Ut().memoizedState=n},useTransition:function(){var n=_d(!1),e=n[0];return n=x0.bind(null,n[1]),Ut().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=ie,i=Ut();if(ee){if(t===void 0)throw Error(E(407));t=t()}else{if(t=e(),Te===null)throw Error(E(349));wi&30||Cm(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,Hd(Pm.bind(null,r,s,n),[n]),r.flags|=2048,uo(9,Nm.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Ut(),e=Te.identifierPrefix;if(ee){var t=ur,r=lr;t=(r&~(1<<32-Lt(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=ao++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=E0++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},D0={readContext:Tt,useCallback:Mm,useContext:Tt,useEffect:Nf,useImperativeHandle:bm,useInsertionEffect:Lm,useLayoutEffect:Bm,useMemo:Jm,useReducer:lu,useRef:Rm,useState:function(){return lu(lo)},useDebugValue:Pf,useDeferredValue:function(n){var e=At();return $m(e,pe.memoizedState,n)},useTransition:function(){var n=lu(lo)[0],e=At().memoizedState;return[n,e]},useMutableSource:Em,useSyncExternalStore:xm,useId:zm,unstable_isNewReconciler:!1},O0={readContext:Tt,useCallback:Mm,useContext:Tt,useEffect:Nf,useImperativeHandle:bm,useInsertionEffect:Lm,useLayoutEffect:Bm,useMemo:Jm,useReducer:uu,useRef:Rm,useState:function(){return uu(lo)},useDebugValue:Pf,useDeferredValue:function(n){var e=At();return pe===null?e.memoizedState=n:$m(e,pe.memoizedState,n)},useTransition:function(){var n=uu(lo)[0],e=At().memoizedState;return[n,e]},useMutableSource:Em,useSyncExternalStore:xm,useId:zm,unstable_isNewReconciler:!1};function ss(n,e){try{var t="",r=e;do t+=sv(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function cu(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function ic(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var R0=typeof WeakMap=="function"?WeakMap:Map;function Vm(n,e,t){t=hr(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){ja||(ja=!0,gc=r),ic(n,e)},t}function Km(n,e,t){t=hr(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){ic(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){ic(n,e),typeof r!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function Gd(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new R0;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=W0.bind(null,n,e,t),e.then(n,n))}function Yd(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Qd(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=hr(-1,1),e.tag=2,zr(t,e,1))),t.lanes|=1),n)}var L0=Tr.ReactCurrentOwner,je=!1;function Le(n,e,t,r){e.child=n===null?Am(e,null,t,r):rs(e,n.child,t,r)}function Xd(n,e,t,r,i){t=t.render;var s=e.ref;return Yi(e,i),r=xf(n,e,t,r,s,i),t=Cf(),n!==null&&!je?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,wr(n,e,i)):(ee&&t&&gf(e),e.flags|=1,Le(n,e,r,i),e.child)}function Zd(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!Mf(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,Wm(n,e,s,r,i)):(n=ga(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:to,t(o,r)&&n.ref===e.ref)return wr(n,e,i)}return e.flags|=1,n=qr(s,r),n.ref=e.ref,n.return=e,e.child=n}function Wm(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(to(s,r)&&n.ref===e.ref)if(je=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(je=!0);else return e.lanes=n.lanes,wr(n,e,i)}return sc(n,e,t,r,i)}function _m(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(qi,Ye),Ye|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Q(qi,Ye),Ye|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Q(qi,Ye),Ye|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Q(qi,Ye),Ye|=r;return Le(n,e,i,t),e.child}function Hm(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function sc(n,e,t,r,i){var s=Ke(t)?yi:Oe.current;return s=ts(e,s),Yi(e,i),t=xf(n,e,t,r,s,i),r=Cf(),n!==null&&!je?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,wr(n,e,i)):(ee&&r&&gf(e),e.flags|=1,Le(n,e,t,i),e.child)}function eh(n,e,t,r,i){if(Ke(t)){var s=!0;Ra(e)}else s=!1;if(Yi(e,i),e.stateNode===null)fa(n,e),km(e,t,r),rc(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Tt(c):(c=Ke(t)?yi:Oe.current,c=ts(e,c));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Kd(e,o,r,c),Pr=!1;var p=e.memoizedState;o.state=p,Ma(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Ve.current||Pr?(typeof d=="function"&&(nc(e,t,d,r),l=e.memoizedState),(a=Pr||Vd(e,t,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,wm(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ct(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Tt(l):(l=Ke(t)?yi:Oe.current,l=ts(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Kd(e,o,r,l),Pr=!1,p=e.memoizedState,o.state=p,Ma(e,r,o,i);var w=e.memoizedState;a!==h||p!==w||Ve.current||Pr?(typeof m=="function"&&(nc(e,t,m,r),w=e.memoizedState),(c=Pr||Vd(e,t,c,r,p,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return oc(n,e,t,r,s,i)}function oc(n,e,t,r,i,s){Hm(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&$d(e,t,!1),wr(n,e,s);r=e.stateNode,L0.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=rs(e,n.child,null,s),e.child=rs(e,null,a,s)):Le(n,e,a,s),e.memoizedState=r.state,i&&$d(e,t,!0),e.child}function Gm(n){var e=n.stateNode;e.pendingContext?Jd(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Jd(n,e.context,!1),Tf(n,e.containerInfo)}function th(n,e,t,r,i){return ns(),pf(i),e.flags|=256,Le(n,e,t,r),e.child}var ac={dehydrated:null,treeContext:null,retryLane:0};function lc(n){return{baseLanes:n,cachePool:null,transitions:null}}function Ym(n,e,t){var r=e.pendingProps,i=ne.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Q(ne,i&1),n===null)return ec(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Cl(o,r,0,null),n=gi(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=lc(t),e.memoizedState=ac,n):Df(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return B0(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=qr(a,s):(s=gi(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?lc(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=ac,r}return s=n.child,n=s.sibling,r=qr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function Df(n,e){return e=Cl({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function _o(n,e,t,r){return r!==null&&pf(r),rs(e,n.child,null,t),n=Df(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function B0(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=cu(Error(E(422))),_o(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Cl({mode:"visible",children:r.children},i,0,null),s=gi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&rs(e,n.child,null,o),e.child.memoizedState=lc(o),e.memoizedState=ac,s);if(!(e.mode&1))return _o(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(E(419)),r=cu(s,r,void 0),_o(n,e,o,r)}if(a=(o&n.childLanes)!==0,je||a){if(r=Te,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vr(n,i),Bt(r,n,i,-1))}return bf(),r=cu(Error(E(421))),_o(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=_0.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Qe=$r(i.nextSibling),et=e,ee=!0,Dt=null,n!==null&&(at[lt++]=lr,at[lt++]=ur,at[lt++]=vi,lr=n.id,ur=n.overflow,vi=e),e=Df(e,r.children),e.flags|=4096,e)}function nh(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),tc(n.return,e,t)}function fu(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function Qm(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Le(n,e,r.children,t),r=ne.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&nh(n,t,e);else if(n.tag===19)nh(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Q(ne,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Ja(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),fu(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Ja(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}fu(e,!0,t,null,s);break;case"together":fu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fa(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function wr(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Si|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(E(153));if(e.child!==null){for(n=e.child,t=qr(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=qr(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function F0(n,e,t){switch(e.tag){case 3:Gm(e),ns();break;case 5:Im(e);break;case 1:Ke(e.type)&&Ra(e);break;case 4:Tf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Q(Fa,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Q(ne,ne.current&1),e.flags|=128,null):t&e.child.childLanes?Ym(n,e,t):(Q(ne,ne.current&1),n=wr(n,e,t),n!==null?n.sibling:null);Q(ne,ne.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return Qm(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Q(ne,ne.current),r)break;return null;case 22:case 23:return e.lanes=0,_m(n,e,t)}return wr(n,e,t)}var Xm,uc,Zm,ep;Xm=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};uc=function(){};Zm=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,ci(nn.current);var s=null;switch(t){case"input":i=Ou(n,i),r=Ou(n,r),s=[];break;case"select":i=se({},i,{value:void 0}),r=se({},r,{value:void 0}),s=[];break;case"textarea":i=Bu(n,i),r=Bu(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Da)}bu(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hs.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hs.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&X("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};ep=function(n,e,t,r){t!==r&&(e.flags|=4)};function xs(n,e){if(!ee)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Ne(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function b0(n,e,t){var r=e.pendingProps;switch(mf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(e),null;case 1:return Ke(e.type)&&Oa(),Ne(e),null;case 3:return r=e.stateNode,is(),Z(Ve),Z(Oe),If(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Ko(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dt!==null&&(yc(Dt),Dt=null))),uc(n,e),Ne(e),null;case 5:Af(e);var i=ci(oo.current);if(t=e.type,n!==null&&e.stateNode!=null)Zm(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return Ne(e),null}if(n=ci(nn.current),Ko(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Vt]=e,r[io]=s,n=(e.mode&1)!==0,t){case"dialog":X("cancel",r),X("close",r);break;case"iframe":case"object":case"embed":X("load",r);break;case"video":case"audio":for(i=0;i<Ls.length;i++)X(Ls[i],r);break;case"source":X("error",r);break;case"img":case"image":case"link":X("error",r),X("load",r);break;case"details":X("toggle",r);break;case"input":fd(r,s),X("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},X("invalid",r);break;case"textarea":hd(r,s),X("invalid",r)}bu(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Vo(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Vo(r.textContent,a,n),i=["children",""+a]):Hs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&X("scroll",r)}switch(t){case"input":bo(r),dd(r,s,!0);break;case"textarea":bo(r),gd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Da)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Cg(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Vt]=e,n[io]=r,Xm(n,e,!1,!1),e.stateNode=n;e:{switch(o=Mu(t,r),t){case"dialog":X("cancel",n),X("close",n),i=r;break;case"iframe":case"object":case"embed":X("load",n),i=r;break;case"video":case"audio":for(i=0;i<Ls.length;i++)X(Ls[i],n);i=r;break;case"source":X("error",n),i=r;break;case"img":case"image":case"link":X("error",n),X("load",n),i=r;break;case"details":X("toggle",n),i=r;break;case"input":fd(n,r),i=Ou(n,r),X("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=se({},r,{value:void 0}),X("invalid",n);break;case"textarea":hd(n,r),i=Bu(n,r),X("invalid",n);break;default:i=r}bu(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Dg(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ng(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Gs(n,l):typeof l=="number"&&Gs(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hs.hasOwnProperty(s)?l!=null&&s==="onScroll"&&X("scroll",n):l!=null&&Zc(n,s,l,o))}switch(t){case"input":bo(n),dd(n,r,!1);break;case"textarea":bo(n),gd(n);break;case"option":r.value!=null&&n.setAttribute("value",""+_r(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Wi(n,!!r.multiple,s,!1):r.defaultValue!=null&&Wi(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Da)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ne(e),null;case 6:if(n&&e.stateNode!=null)ep(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(t=ci(oo.current),ci(nn.current),Ko(e)){if(r=e.stateNode,t=e.memoizedProps,r[Vt]=e,(s=r.nodeValue!==t)&&(n=et,n!==null))switch(n.tag){case 3:Vo(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Vo(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Vt]=e,e.stateNode=r}return Ne(e),null;case 13:if(Z(ne),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ee&&Qe!==null&&e.mode&1&&!(e.flags&128))ym(),ns(),e.flags|=98560,s=!1;else if(s=Ko(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(E(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(E(317));s[Vt]=e}else ns(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ne(e),s=!1}else Dt!==null&&(yc(Dt),Dt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||ne.current&1?we===0&&(we=3):bf())),e.updateQueue!==null&&(e.flags|=4),Ne(e),null);case 4:return is(),uc(n,e),n===null&&no(e.stateNode.containerInfo),Ne(e),null;case 10:return wf(e.type._context),Ne(e),null;case 17:return Ke(e.type)&&Oa(),Ne(e),null;case 19:if(Z(ne),s=e.memoizedState,s===null)return Ne(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)xs(s,!1);else{if(we!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Ja(n),o!==null){for(e.flags|=128,xs(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Q(ne,ne.current&1|2),e.child}n=n.sibling}s.tail!==null&&fe()>os&&(e.flags|=128,r=!0,xs(s,!1),e.lanes=4194304)}else{if(!r)if(n=Ja(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),xs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ee)return Ne(e),null}else 2*fe()-s.renderingStartTime>os&&t!==1073741824&&(e.flags|=128,r=!0,xs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=fe(),e.sibling=null,t=ne.current,Q(ne,r?t&1|2:t&1),e):(Ne(e),null);case 22:case 23:return Ff(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ye&1073741824&&(Ne(e),e.subtreeFlags&6&&(e.flags|=8192)):Ne(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function M0(n,e){switch(mf(e),e.tag){case 1:return Ke(e.type)&&Oa(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return is(),Z(Ve),Z(Oe),If(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Af(e),null;case 13:if(Z(ne),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(E(340));ns()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Z(ne),null;case 4:return is(),null;case 10:return wf(e.type._context),null;case 22:case 23:return Ff(),null;case 24:return null;default:return null}}var Ho=!1,Pe=!1,J0=typeof WeakSet=="function"?WeakSet:Set,R=null;function ji(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){ae(n,e,r)}else t.current=null}function cc(n,e,t){try{t()}catch(r){ae(n,e,r)}}var rh=!1;function $0(n,e){if(_u=Ca,n=im(),hf(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=n,p=null;t:for(;;){for(var m;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Hu={focusedElem:n,selectionRange:t},Ca=!1,R=e;R!==null;)if(e=R,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,R=n;else for(;R!==null;){e=R;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var I=w.memoizedProps,D=w.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?I:Ct(e.type,I),D);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(T){ae(e,e.return,T)}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}return w=rh,rh=!1,w}function zs(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&cc(e,t,s)}i=i.next}while(i!==r)}}function El(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function fc(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function tp(n){var e=n.alternate;e!==null&&(n.alternate=null,tp(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Vt],delete e[io],delete e[Qu],delete e[k0],delete e[T0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function np(n){return n.tag===5||n.tag===3||n.tag===4}function ih(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||np(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function dc(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Da));else if(r!==4&&(n=n.child,n!==null))for(dc(n,e,t),n=n.sibling;n!==null;)dc(n,e,t),n=n.sibling}function hc(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(hc(n,e,t),n=n.sibling;n!==null;)hc(n,e,t),n=n.sibling}var Ae=null,Pt=!1;function Ir(n,e,t){for(t=t.child;t!==null;)rp(n,e,t),t=t.sibling}function rp(n,e,t){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(yl,t)}catch{}switch(t.tag){case 5:Pe||ji(t,e);case 6:var r=Ae,i=Pt;Ae=null,Ir(n,e,t),Ae=r,Pt=i,Ae!==null&&(Pt?(n=Ae,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ae.removeChild(t.stateNode));break;case 18:Ae!==null&&(Pt?(n=Ae,t=t.stateNode,n.nodeType===8?iu(n.parentNode,t):n.nodeType===1&&iu(n,t),Zs(n)):iu(Ae,t.stateNode));break;case 4:r=Ae,i=Pt,Ae=t.stateNode.containerInfo,Pt=!0,Ir(n,e,t),Ae=r,Pt=i;break;case 0:case 11:case 14:case 15:if(!Pe&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&cc(t,e,o),i=i.next}while(i!==r)}Ir(n,e,t);break;case 1:if(!Pe&&(ji(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){ae(t,e,a)}Ir(n,e,t);break;case 21:Ir(n,e,t);break;case 22:t.mode&1?(Pe=(r=Pe)||t.memoizedState!==null,Ir(n,e,t),Pe=r):Ir(n,e,t);break;default:Ir(n,e,t)}}function sh(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new J0),e.forEach(function(r){var i=H0.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function xt(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ae=a.stateNode,Pt=!1;break e;case 3:Ae=a.stateNode.containerInfo,Pt=!0;break e;case 4:Ae=a.stateNode.containerInfo,Pt=!0;break e}a=a.return}if(Ae===null)throw Error(E(160));rp(s,o,i),Ae=null,Pt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ae(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ip(e,n),e=e.sibling}function ip(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(xt(e,n),zt(n),r&4){try{zs(3,n,n.return),El(3,n)}catch(I){ae(n,n.return,I)}try{zs(5,n,n.return)}catch(I){ae(n,n.return,I)}}break;case 1:xt(e,n),zt(n),r&512&&t!==null&&ji(t,t.return);break;case 5:if(xt(e,n),zt(n),r&512&&t!==null&&ji(t,t.return),n.flags&32){var i=n.stateNode;try{Gs(i,"")}catch(I){ae(n,n.return,I)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Eg(i,s),Mu(a,o);var c=Mu(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Dg(i,h):d==="dangerouslySetInnerHTML"?Ng(i,h):d==="children"?Gs(i,h):Zc(i,d,h,c)}switch(a){case"input":Ru(i,s);break;case"textarea":xg(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Wi(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Wi(i,!!s.multiple,s.defaultValue,!0):Wi(i,!!s.multiple,s.multiple?[]:"",!1))}i[io]=s}catch(I){ae(n,n.return,I)}}break;case 6:if(xt(e,n),zt(n),r&4){if(n.stateNode===null)throw Error(E(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(I){ae(n,n.return,I)}}break;case 3:if(xt(e,n),zt(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Zs(e.containerInfo)}catch(I){ae(n,n.return,I)}break;case 4:xt(e,n),zt(n);break;case 13:xt(e,n),zt(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Lf=fe())),r&4&&sh(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Pe=(c=Pe)||d,xt(e,n),Pe=c):xt(e,n),zt(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(R=n,d=n.child;d!==null;){for(h=R=d;R!==null;){switch(p=R,m=p.child,p.tag){case 0:case 11:case 14:case 15:zs(4,p,p.return);break;case 1:ji(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(I){ae(r,t,I)}}break;case 5:ji(p,p.return);break;case 22:if(p.memoizedState!==null){ah(h);continue}}m!==null?(m.return=p,R=m):ah(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Pg("display",o))}catch(I){ae(n,n.return,I)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(I){ae(n,n.return,I)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xt(e,n),zt(n),r&4&&sh(n);break;case 21:break;default:xt(e,n),zt(n)}}function zt(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(np(t)){var r=t;break e}t=t.return}throw Error(E(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gs(i,""),r.flags&=-33);var s=ih(n);hc(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ih(n);dc(n,a,o);break;default:throw Error(E(161))}}catch(l){ae(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function z0(n,e,t){R=n,sp(n)}function sp(n,e,t){for(var r=(n.mode&1)!==0;R!==null;){var i=R,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ho;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Pe;a=Ho;var c=Pe;if(Ho=o,(Pe=l)&&!c)for(R=i;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?lh(i):l!==null?(l.return=o,R=l):lh(i);for(;s!==null;)R=s,sp(s),s=s.sibling;R=i,Ho=a,Pe=c}oh(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,R=s):oh(n)}}function oh(n){for(;R!==null;){var e=R;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pe||El(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pe)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Ct(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qd(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}qd(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Zs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Pe||e.flags&512&&fc(e)}catch(p){ae(e,e.return,p)}}if(e===n){R=null;break}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}}function ah(n){for(;R!==null;){var e=R;if(e===n){R=null;break}var t=e.sibling;if(t!==null){t.return=e.return,R=t;break}R=e.return}}function lh(n){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{El(4,e)}catch(l){ae(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ae(e,i,l)}}var s=e.return;try{fc(e)}catch(l){ae(e,s,l)}break;case 5:var o=e.return;try{fc(e)}catch(l){ae(e,o,l)}}}catch(l){ae(e,e.return,l)}if(e===n){R=null;break}var a=e.sibling;if(a!==null){a.return=e.return,R=a;break}R=e.return}}var U0=Math.ceil,Ua=Tr.ReactCurrentDispatcher,Of=Tr.ReactCurrentOwner,kt=Tr.ReactCurrentBatchConfig,K=0,Te=null,ge=null,Ie=0,Ye=0,qi=Zr(0),we=0,co=null,Si=0,xl=0,Rf=0,Us=null,ze=null,Lf=0,os=1/0,on=null,ja=!1,gc=null,Ur=null,Go=!1,Br=null,qa=0,js=0,mc=null,da=-1,ha=0;function be(){return K&6?fe():da!==-1?da:da=fe()}function jr(n){return n.mode&1?K&2&&Ie!==0?Ie&-Ie:I0.transition!==null?(ha===0&&(ha=jg()),ha):(n=G,n!==0||(n=window.event,n=n===void 0?16:Gg(n.type)),n):1}function Bt(n,e,t,r){if(50<js)throw js=0,mc=null,Error(E(185));Ao(n,t,r),(!(K&2)||n!==Te)&&(n===Te&&(!(K&2)&&(xl|=t),we===4&&Or(n,Ie)),We(n,r),t===1&&K===0&&!(e.mode&1)&&(os=fe()+500,Tl&&ei()))}function We(n,e){var t=n.callbackNode;Iv(n,e);var r=xa(n,n===Te?Ie:0);if(r===0)t!==null&&yd(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&yd(t),e===1)n.tag===0?A0(uh.bind(null,n)):gm(uh.bind(null,n)),w0(function(){!(K&6)&&ei()}),t=null;else{switch(qg(r)){case 1:t=sf;break;case 4:t=zg;break;case 16:t=Ea;break;case 536870912:t=Ug;break;default:t=Ea}t=hp(t,op.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function op(n,e){if(da=-1,ha=0,K&6)throw Error(E(327));var t=n.callbackNode;if(Qi()&&n.callbackNode!==t)return null;var r=xa(n,n===Te?Ie:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Va(n,r);else{e=r;var i=K;K|=2;var s=lp();(Te!==n||Ie!==e)&&(on=null,os=fe()+500,hi(n,e));do try{V0();break}catch(a){ap(n,a)}while(!0);vf(),Ua.current=s,K=i,ge!==null?e=0:(Te=null,Ie=0,e=we)}if(e!==0){if(e===2&&(i=ju(n),i!==0&&(r=i,e=pc(n,i))),e===1)throw t=co,hi(n,0),Or(n,r),We(n,fe()),t;if(e===6)Or(n,r);else{if(i=n.current.alternate,!(r&30)&&!j0(i)&&(e=Va(n,r),e===2&&(s=ju(n),s!==0&&(r=s,e=pc(n,s))),e===1))throw t=co,hi(n,0),Or(n,r),We(n,fe()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:si(n,ze,on);break;case 3:if(Or(n,r),(r&130023424)===r&&(e=Lf+500-fe(),10<e)){if(xa(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){be(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Yu(si.bind(null,n,ze,on),e);break}si(n,ze,on);break;case 4:if(Or(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Lt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*U0(r/1960))-r,10<r){n.timeoutHandle=Yu(si.bind(null,n,ze,on),r);break}si(n,ze,on);break;case 5:si(n,ze,on);break;default:throw Error(E(329))}}}return We(n,fe()),n.callbackNode===t?op.bind(null,n):null}function pc(n,e){var t=Us;return n.current.memoizedState.isDehydrated&&(hi(n,e).flags|=256),n=Va(n,e),n!==2&&(e=ze,ze=t,e!==null&&yc(e)),n}function yc(n){ze===null?ze=n:ze.push.apply(ze,n)}function j0(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Mt(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Or(n,e){for(e&=~Rf,e&=~xl,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Lt(e),r=1<<t;n[t]=-1,e&=~r}}function uh(n){if(K&6)throw Error(E(327));Qi();var e=xa(n,0);if(!(e&1))return We(n,fe()),null;var t=Va(n,e);if(n.tag!==0&&t===2){var r=ju(n);r!==0&&(e=r,t=pc(n,r))}if(t===1)throw t=co,hi(n,0),Or(n,e),We(n,fe()),t;if(t===6)throw Error(E(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,si(n,ze,on),We(n,fe()),null}function Bf(n,e){var t=K;K|=1;try{return n(e)}finally{K=t,K===0&&(os=fe()+500,Tl&&ei())}}function ki(n){Br!==null&&Br.tag===0&&!(K&6)&&Qi();var e=K;K|=1;var t=kt.transition,r=G;try{if(kt.transition=null,G=1,n)return n()}finally{G=r,kt.transition=t,K=e,!(K&6)&&ei()}}function Ff(){Ye=qi.current,Z(qi)}function hi(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,v0(t)),ge!==null)for(t=ge.return;t!==null;){var r=t;switch(mf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Oa();break;case 3:is(),Z(Ve),Z(Oe),If();break;case 5:Af(r);break;case 4:is();break;case 13:Z(ne);break;case 19:Z(ne);break;case 10:wf(r.type._context);break;case 22:case 23:Ff()}t=t.return}if(Te=n,ge=n=qr(n.current,null),Ie=Ye=e,we=0,co=null,Rf=xl=Si=0,ze=Us=null,ui!==null){for(e=0;e<ui.length;e++)if(t=ui[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}ui=null}return n}function ap(n,e){do{var t=ge;try{if(vf(),ua.current=za,$a){for(var r=ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$a=!1}if(wi=0,ke=pe=ie=null,$s=!1,ao=0,Of.current=null,t===null||t.return===null){we=1,co=e,ge=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Ie,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Yd(o);if(m!==null){m.flags&=-257,Qd(m,o,a,s,e),m.mode&1&&Gd(s,c,e),e=m,l=c;var w=e.updateQueue;if(w===null){var I=new Set;I.add(l),e.updateQueue=I}else w.add(l);break e}else{if(!(e&1)){Gd(s,c,e),bf();break e}l=Error(E(426))}}else if(ee&&a.mode&1){var D=Yd(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),Qd(D,o,a,s,e),pf(ss(l,a));break e}}s=l=ss(l,a),we!==4&&(we=2),Us===null?Us=[s]:Us.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=Vm(s,l,e);jd(s,y);break e;case 1:a=l;var g=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ur===null||!Ur.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=Km(s,a,e);jd(s,T);break e}}s=s.return}while(s!==null)}cp(t)}catch(x){e=x,ge===t&&t!==null&&(ge=t=t.return);continue}break}while(!0)}function lp(){var n=Ua.current;return Ua.current=za,n===null?za:n}function bf(){(we===0||we===3||we===2)&&(we=4),Te===null||!(Si&268435455)&&!(xl&268435455)||Or(Te,Ie)}function Va(n,e){var t=K;K|=2;var r=lp();(Te!==n||Ie!==e)&&(on=null,hi(n,e));do try{q0();break}catch(i){ap(n,i)}while(!0);if(vf(),K=t,Ua.current=r,ge!==null)throw Error(E(261));return Te=null,Ie=0,we}function q0(){for(;ge!==null;)up(ge)}function V0(){for(;ge!==null&&!mv();)up(ge)}function up(n){var e=dp(n.alternate,n,Ye);n.memoizedProps=n.pendingProps,e===null?cp(n):ge=e,Of.current=null}function cp(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=M0(t,e),t!==null){t.flags&=32767,ge=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{we=6,ge=null;return}}else if(t=b0(t,e,Ye),t!==null){ge=t;return}if(e=e.sibling,e!==null){ge=e;return}ge=e=n}while(e!==null);we===0&&(we=5)}function si(n,e,t){var r=G,i=kt.transition;try{kt.transition=null,G=1,K0(n,e,t,r)}finally{kt.transition=i,G=r}return null}function K0(n,e,t,r){do Qi();while(Br!==null);if(K&6)throw Error(E(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(E(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(Ev(n,s),n===Te&&(ge=Te=null,Ie=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Go||(Go=!0,hp(Ea,function(){return Qi(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=kt.transition,kt.transition=null;var o=G;G=1;var a=K;K|=4,Of.current=null,$0(n,t),ip(t,n),f0(Hu),Ca=!!_u,Hu=_u=null,n.current=t,z0(t),pv(),K=a,G=o,kt.transition=s}else n.current=t;if(Go&&(Go=!1,Br=n,qa=i),s=n.pendingLanes,s===0&&(Ur=null),wv(t.stateNode),We(n,fe()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(ja)throw ja=!1,n=gc,gc=null,n;return qa&1&&n.tag!==0&&Qi(),s=n.pendingLanes,s&1?n===mc?js++:(js=0,mc=n):js=0,ei(),null}function Qi(){if(Br!==null){var n=qg(qa),e=kt.transition,t=G;try{if(kt.transition=null,G=16>n?16:n,Br===null)var r=!1;else{if(n=Br,Br=null,qa=0,K&6)throw Error(E(331));var i=K;for(K|=4,R=n.current;R!==null;){var s=R,o=s.child;if(R.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(R=c;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:zs(8,d,s)}var h=d.child;if(h!==null)h.return=d,R=h;else for(;R!==null;){d=R;var p=d.sibling,m=d.return;if(tp(d),d===c){R=null;break}if(p!==null){p.return=m,R=p;break}R=m}}}var w=s.alternate;if(w!==null){var I=w.child;if(I!==null){w.child=null;do{var D=I.sibling;I.sibling=null,I=D}while(I!==null)}}R=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,R=o;else e:for(;R!==null;){if(s=R,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zs(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,R=y;break e}R=s.return}}var g=n.current;for(R=g;R!==null;){o=R;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,R=v;else e:for(o=g;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:El(9,a)}}catch(x){ae(a,a.return,x)}if(a===o){R=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,R=T;break e}R=a.return}}if(K=i,ei(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(yl,n)}catch{}r=!0}return r}finally{G=t,kt.transition=e}}return!1}function ch(n,e,t){e=ss(t,e),e=Vm(n,e,1),n=zr(n,e,1),e=be(),n!==null&&(Ao(n,1,e),We(n,e))}function ae(n,e,t){if(n.tag===3)ch(n,n,t);else for(;e!==null;){if(e.tag===3){ch(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ur===null||!Ur.has(r))){n=ss(t,n),n=Km(e,n,1),e=zr(e,n,1),n=be(),e!==null&&(Ao(e,1,n),We(e,n));break}}e=e.return}}function W0(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=be(),n.pingedLanes|=n.suspendedLanes&t,Te===n&&(Ie&t)===t&&(we===4||we===3&&(Ie&130023424)===Ie&&500>fe()-Lf?hi(n,0):Rf|=t),We(n,e)}function fp(n,e){e===0&&(n.mode&1?(e=$o,$o<<=1,!($o&130023424)&&($o=4194304)):e=1);var t=be();n=vr(n,e),n!==null&&(Ao(n,e,t),We(n,t))}function _0(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),fp(n,t)}function H0(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),fp(n,t)}var dp;dp=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ve.current)je=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return je=!1,F0(n,e,t);je=!!(n.flags&131072)}else je=!1,ee&&e.flags&1048576&&mm(e,Ba,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;fa(n,e),n=e.pendingProps;var i=ts(e,Oe.current);Yi(e,t),i=xf(null,e,r,n,i,t);var s=Cf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ke(r)?(s=!0,Ra(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kf(e),i.updater=Al,e.stateNode=i,i._reactInternals=e,rc(e,r,n,t),e=oc(null,e,r,!0,s,t)):(e.tag=0,ee&&s&&gf(e),Le(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(fa(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Y0(r),n=Ct(r,n),i){case 0:e=sc(null,e,r,n,t);break e;case 1:e=eh(null,e,r,n,t);break e;case 11:e=Xd(null,e,r,n,t);break e;case 14:e=Zd(null,e,r,Ct(r.type,n),t);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ct(r,i),sc(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ct(r,i),eh(n,e,r,i,t);case 3:e:{if(Gm(e),n===null)throw Error(E(387));r=e.pendingProps,s=e.memoizedState,i=s.element,wm(n,e),Ma(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ss(Error(E(423)),e),e=th(n,e,r,t,i);break e}else if(r!==i){i=ss(Error(E(424)),e),e=th(n,e,r,t,i);break e}else for(Qe=$r(e.stateNode.containerInfo.firstChild),et=e,ee=!0,Dt=null,t=Am(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(ns(),r===i){e=wr(n,e,t);break e}Le(n,e,r,t)}e=e.child}return e;case 5:return Im(e),n===null&&ec(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,Gu(r,i)?o=null:s!==null&&Gu(r,s)&&(e.flags|=32),Hm(n,e),Le(n,e,o,t),e.child;case 6:return n===null&&ec(e),null;case 13:return Ym(n,e,t);case 4:return Tf(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=rs(e,null,r,t):Le(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ct(r,i),Xd(n,e,r,i,t);case 7:return Le(n,e,e.pendingProps,t),e.child;case 8:return Le(n,e,e.pendingProps.children,t),e.child;case 12:return Le(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Q(Fa,r._currentValue),r._currentValue=o,s!==null)if(Mt(s.value,o)){if(s.children===i.children&&!Ve.current){e=wr(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=hr(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),tc(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(E(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),tc(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Le(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Yi(e,t),i=Tt(i),r=r(i),e.flags|=1,Le(n,e,r,t),e.child;case 14:return r=e.type,i=Ct(r,e.pendingProps),i=Ct(r.type,i),Zd(n,e,r,i,t);case 15:return Wm(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ct(r,i),fa(n,e),e.tag=1,Ke(r)?(n=!0,Ra(e)):n=!1,Yi(e,t),km(e,r,i),rc(e,r,i,t),oc(null,e,r,!0,n,t);case 19:return Qm(n,e,t);case 22:return _m(n,e,t)}throw Error(E(156,e.tag))};function hp(n,e){return $g(n,e)}function G0(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(n,e,t,r){return new G0(n,e,t,r)}function Mf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Y0(n){if(typeof n=="function")return Mf(n)?1:0;if(n!=null){if(n=n.$$typeof,n===tf)return 11;if(n===nf)return 14}return 2}function qr(n,e){var t=n.alternate;return t===null?(t=vt(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function ga(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")Mf(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Li:return gi(t.children,i,s,e);case ef:o=8,i|=8;break;case Cu:return n=vt(12,t,e,i|2),n.elementType=Cu,n.lanes=s,n;case Nu:return n=vt(13,t,e,i),n.elementType=Nu,n.lanes=s,n;case Pu:return n=vt(19,t,e,i),n.elementType=Pu,n.lanes=s,n;case Tg:return Cl(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Sg:o=10;break e;case kg:o=9;break e;case tf:o=11;break e;case nf:o=14;break e;case Nr:o=16,r=null;break e}throw Error(E(130,n==null?n:typeof n,""))}return e=vt(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function gi(n,e,t,r){return n=vt(7,n,r,e),n.lanes=t,n}function Cl(n,e,t,r){return n=vt(22,n,r,e),n.elementType=Tg,n.lanes=t,n.stateNode={isHidden:!1},n}function du(n,e,t){return n=vt(6,n,null,e),n.lanes=t,n}function hu(n,e,t){return e=vt(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Q0(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_l(0),this.expirationTimes=_l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_l(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jf(n,e,t,r,i,s,o,a,l){return n=new Q0(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=vt(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},kf(s),n}function X0(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ri,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function gp(n){if(!n)return Hr;n=n._reactInternals;e:{if(xi(n)!==n||n.tag!==1)throw Error(E(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ke(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(n.tag===1){var t=n.type;if(Ke(t))return hm(n,t,e)}return e}function mp(n,e,t,r,i,s,o,a,l){return n=Jf(t,r,!0,n,i,s,o,a,l),n.context=gp(null),t=n.current,r=be(),i=jr(t),s=hr(r,i),s.callback=e??null,zr(t,s,i),n.current.lanes=i,Ao(n,i,r),We(n,r),n}function Nl(n,e,t,r){var i=e.current,s=be(),o=jr(i);return t=gp(t),e.context===null?e.context=t:e.pendingContext=t,e=hr(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=zr(i,e,o),n!==null&&(Bt(n,i,o,s),la(n,i,o)),o}function Ka(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function fh(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function $f(n,e){fh(n,e),(n=n.alternate)&&fh(n,e)}function Z0(){return null}var pp=typeof reportError=="function"?reportError:function(n){console.error(n)};function zf(n){this._internalRoot=n}Pl.prototype.render=zf.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(E(409));Nl(n,e,null,null)};Pl.prototype.unmount=zf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ki(function(){Nl(null,n,null,null)}),e[yr]=null}};function Pl(n){this._internalRoot=n}Pl.prototype.unstable_scheduleHydration=function(n){if(n){var e=Wg();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Dr.length&&e!==0&&e<Dr[t].priority;t++);Dr.splice(t,0,n),t===0&&Hg(n)}};function Uf(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Dl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function dh(){}function ew(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ka(o);s.call(c)}}var o=mp(e,r,n,0,null,!1,!1,"",dh);return n._reactRootContainer=o,n[yr]=o.current,no(n.nodeType===8?n.parentNode:n),ki(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ka(l);a.call(c)}}var l=Jf(n,0,!1,null,null,!1,!1,"",dh);return n._reactRootContainer=l,n[yr]=l.current,no(n.nodeType===8?n.parentNode:n),ki(function(){Nl(e,l,t,r)}),l}function Ol(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ka(o);a.call(l)}}Nl(e,o,n,i)}else o=ew(t,e,n,i,r);return Ka(o)}Vg=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Rs(e.pendingLanes);t!==0&&(of(e,t|1),We(e,fe()),!(K&6)&&(os=fe()+500,ei()))}break;case 13:ki(function(){var r=vr(n,1);if(r!==null){var i=be();Bt(r,n,1,i)}}),$f(n,1)}};af=function(n){if(n.tag===13){var e=vr(n,134217728);if(e!==null){var t=be();Bt(e,n,134217728,t)}$f(n,134217728)}};Kg=function(n){if(n.tag===13){var e=jr(n),t=vr(n,e);if(t!==null){var r=be();Bt(t,n,e,r)}$f(n,e)}};Wg=function(){return G};_g=function(n,e){var t=G;try{return G=n,e()}finally{G=t}};$u=function(n,e,t){switch(e){case"input":if(Ru(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=kl(r);if(!i)throw Error(E(90));Ig(r),Ru(r,i)}}}break;case"textarea":xg(n,t);break;case"select":e=t.value,e!=null&&Wi(n,!!t.multiple,e,!1)}};Lg=Bf;Bg=ki;var tw={usingClientEntryPoint:!1,Events:[Eo,Mi,kl,Og,Rg,Bf]},Cs={findFiberByHostInstance:li,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nw={bundleType:Cs.bundleType,version:Cs.version,rendererPackageName:Cs.rendererPackageName,rendererConfig:Cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Mg(n),n===null?null:n.stateNode},findFiberByHostInstance:Cs.findFiberByHostInstance||Z0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yo.isDisabled&&Yo.supportsFiber)try{yl=Yo.inject(nw),tn=Yo}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tw;st.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uf(e))throw Error(E(200));return X0(n,e,null,t)};st.createRoot=function(n,e){if(!Uf(n))throw Error(E(299));var t=!1,r="",i=pp;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Jf(n,1,!1,null,null,t,!1,r,i),n[yr]=e.current,no(n.nodeType===8?n.parentNode:n),new zf(e)};st.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(E(188)):(n=Object.keys(n).join(","),Error(E(268,n)));return n=Mg(e),n=n===null?null:n.stateNode,n};st.flushSync=function(n){return ki(n)};st.hydrate=function(n,e,t){if(!Dl(e))throw Error(E(200));return Ol(null,n,e,!0,t)};st.hydrateRoot=function(n,e,t){if(!Uf(n))throw Error(E(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=pp;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=mp(e,null,n,1,t??null,i,!1,s,o),n[yr]=e.current,no(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Pl(e)};st.render=function(n,e,t){if(!Dl(e))throw Error(E(200));return Ol(null,n,e,!1,t)};st.unmountComponentAtNode=function(n){if(!Dl(n))throw Error(E(40));return n._reactRootContainer?(ki(function(){Ol(null,null,n,!1,function(){n._reactRootContainer=null,n[yr]=null})}),!0):!1};st.unstable_batchedUpdates=Bf;st.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Dl(t))throw Error(E(200));if(n==null||n._reactInternals===void 0)throw Error(E(38));return Ol(n,e,t,!1,r)};st.version="18.2.0-next-9e3b772b8-20220608";function yp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yp)}catch(n){console.error(n)}}yp(),mg.exports=st;var rw=mg.exports,hh=rw;Eu.createRoot=hh.createRoot,Eu.hydrateRoot=hh.hydrateRoot;var H;(function(n){n[n.Canceled=1]="Canceled",n[n.Unknown=2]="Unknown",n[n.InvalidArgument=3]="InvalidArgument",n[n.DeadlineExceeded=4]="DeadlineExceeded",n[n.NotFound=5]="NotFound",n[n.AlreadyExists=6]="AlreadyExists",n[n.PermissionDenied=7]="PermissionDenied",n[n.ResourceExhausted=8]="ResourceExhausted",n[n.FailedPrecondition=9]="FailedPrecondition",n[n.Aborted=10]="Aborted",n[n.OutOfRange=11]="OutOfRange",n[n.Unimplemented=12]="Unimplemented",n[n.Internal=13]="Internal",n[n.Unavailable=14]="Unavailable",n[n.DataLoss=15]="DataLoss",n[n.Unauthenticated=16]="Unauthenticated"})(H||(H={}));function gh(n){const e=H[n];return typeof e!="string"?n.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,t=>"_"+t.toLowerCase())}class me extends Error{constructor(e,t=H.Unknown,r,i,s){super(iw(e,t)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=t,this.metadata=new Headers(r??{}),this.details=i??[],this.cause=s}static from(e,t=H.Unknown){return e instanceof me?e:e instanceof Error?e.name=="AbortError"?new me(e.message,H.Canceled):new me(e.message,t,void 0,void 0,e):new me(String(e),t,void 0,void 0,e)}static[Symbol.hasInstance](e){return e instanceof Error?Object.getPrototypeOf(e)===me.prototype?!0:e.name==="ConnectError"&&"code"in e&&typeof e.code=="number"&&"metadata"in e&&"details"in e&&Array.isArray(e.details)&&"rawMessage"in e&&typeof e.rawMessage=="string"&&"cause"in e:!1}findDetails(e){const t="typeName"in e?{findMessage:i=>i===e.typeName?e:void 0}:e,r=[];for(const i of this.details){if("getType"in i){t.findMessage(i.getType().typeName)&&r.push(i);continue}const s=t.findMessage(i.type);if(s)try{r.push(s.fromBinary(i.value))}catch{}}return r}}function iw(n,e){return n.length?`[${gh(e)}] ${n}`:`[${gh(e)}]`}function le(n,e){if(!n)throw new Error(e)}const sw=34028234663852886e22,ow=-34028234663852886e22,aw=4294967295,lw=2147483647,uw=-2147483648;function ma(n){if(typeof n!="number")throw new Error("invalid int 32: "+typeof n);if(!Number.isInteger(n)||n>lw||n<uw)throw new Error("invalid int 32: "+n)}function vc(n){if(typeof n!="number")throw new Error("invalid uint 32: "+typeof n);if(!Number.isInteger(n)||n>aw||n<0)throw new Error("invalid uint 32: "+n)}function vp(n){if(typeof n!="number")throw new Error("invalid float 32: "+typeof n);if(Number.isFinite(n)&&(n>sw||n<ow))throw new Error("invalid float 32: "+n)}const wp=Symbol("@bufbuild/protobuf/enum-type");function cw(n){const e=n[wp];return le(e,"missing enum type on enum object"),e}function Sp(n,e,t,r){n[wp]=kp(e,t.map(i=>({no:i.no,name:i.name,localName:n[i.no]})))}function kp(n,e,t){const r=Object.create(null),i=Object.create(null),s=[];for(const o of e){const a=Tp(o);s.push(a),r[o.name]=a,i[o.no]=a}return{typeName:n,values:s,findName(o){return r[o]},findNumber(o){return i[o]}}}function fw(n,e,t){const r={};for(const i of e){const s=Tp(i);r[s.localName]=s.no,r[s.no]=s.localName}return Sp(r,n,e),r}function Tp(n){return"localName"in n?n:Object.assign(Object.assign({},n),{localName:n.name})}class O{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,t){const r=this.getType(),i=r.runtime.bin,s=i.makeReadOptions(t);return i.readMessage(this,s.readerFactory(e),e.byteLength,s),this}fromJson(e,t){const r=this.getType(),i=r.runtime.json,s=i.makeReadOptions(t);return i.readMessage(r,e,s,this),this}fromJsonString(e,t){let r;try{r=JSON.parse(e)}catch(i){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${i instanceof Error?i.message:String(i)}`)}return this.fromJson(r,t)}toBinary(e){const t=this.getType(),r=t.runtime.bin,i=r.makeWriteOptions(e),s=i.writerFactory();return r.writeMessage(this,s,i),s.finish()}toJson(e){const t=this.getType(),r=t.runtime.json,i=r.makeWriteOptions(e);return r.writeMessage(this,i)}toJsonString(e){var t;const r=this.toJson(e);return JSON.stringify(r,null,(t=e==null?void 0:e.prettySpaces)!==null&&t!==void 0?t:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function dw(n,e,t,r){var i;const s=(i=r==null?void 0:r.localName)!==null&&i!==void 0?i:e.substring(e.lastIndexOf(".")+1),o={[s]:function(a){n.util.initFields(this),n.util.initPartial(a,this)}}[s];return Object.setPrototypeOf(o.prototype,new O),Object.assign(o,{runtime:n,typeName:e,fields:n.util.newFieldList(t),fromBinary(a,l){return new o().fromBinary(a,l)},fromJson(a,l){return new o().fromJson(a,l)},fromJsonString(a,l){return new o().fromJsonString(a,l)},equals(a,l){return n.util.equals(o,a,l)}}),o}function hw(){let n=0,e=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(n|=(i&127)<<r,!(i&128))return this.assertBounds(),[n,e]}let t=this.buf[this.pos++];if(n|=(t&15)<<28,e=(t&112)>>4,!(t&128))return this.assertBounds(),[n,e];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<r,!(i&128))return this.assertBounds(),[n,e]}throw new Error("invalid varint")}function gu(n,e,t){for(let s=0;s<28;s=s+7){const o=n>>>s,a=!(!(o>>>7)&&e==0),l=(a?o|128:o)&255;if(t.push(l),!a)return}const r=n>>>28&15|(e&7)<<4,i=!!(e>>3);if(t.push((i?r|128:r)&255),!!i){for(let s=3;s<31;s=s+7){const o=e>>>s,a=!!(o>>>7),l=(a?o|128:o)&255;if(t.push(l),!a)return}t.push(e>>>31&1)}}const pa=4294967296;function mh(n){const e=n[0]==="-";e&&(n=n.slice(1));const t=1e6;let r=0,i=0;function s(o,a){const l=Number(n.slice(o,a));i*=t,r=r*t+l,r>=pa&&(i=i+(r/pa|0),r=r%pa)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),e?Ip(r,i):jf(r,i)}function gw(n,e){let t=jf(n,e);const r=t.hi&2147483648;r&&(t=Ip(t.lo,t.hi));const i=Ap(t.lo,t.hi);return r?"-"+i:i}function Ap(n,e){if({lo:n,hi:e}=mw(n,e),e<=2097151)return String(pa*e+n);const t=n&16777215,r=(n>>>24|e<<8)&16777215,i=e>>16&65535;let s=t+r*6777216+i*6710656,o=r+i*8147497,a=i*2;const l=1e7;return s>=l&&(o+=Math.floor(s/l),s%=l),o>=l&&(a+=Math.floor(o/l),o%=l),a.toString()+ph(o)+ph(s)}function mw(n,e){return{lo:n>>>0,hi:e>>>0}}function jf(n,e){return{lo:n|0,hi:e|0}}function Ip(n,e){return e=~e,n?n=~n+1:e+=1,jf(n,e)}const ph=n=>{const e=String(n);return"0000000".slice(e.length)+e};function yh(n,e){if(n>=0){for(;n>127;)e.push(n&127|128),n=n>>>7;e.push(n)}else{for(let t=0;t<9;t++)e.push(n&127|128),n=n>>7;e.push(1)}}function pw(){let n=this.buf[this.pos++],e=n&127;if(!(n&128))return this.assertBounds(),e;if(n=this.buf[this.pos++],e|=(n&127)<<7,!(n&128))return this.assertBounds(),e;if(n=this.buf[this.pos++],e|=(n&127)<<14,!(n&128))return this.assertBounds(),e;if(n=this.buf[this.pos++],e|=(n&127)<<21,!(n&128))return this.assertBounds(),e;n=this.buf[this.pos++],e|=(n&15)<<28;for(let t=5;n&128&&t<10;t++)n=this.buf[this.pos++];if(n&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}var vh={};function yw(){const n=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof n.getBigInt64=="function"&&typeof n.getBigUint64=="function"&&typeof n.setBigInt64=="function"&&typeof n.setBigUint64=="function"&&(typeof process!="object"||typeof vh!="object"||vh.BUF_BIGINT_DISABLE!=="1")){const i=BigInt("-9223372036854775808"),s=BigInt("9223372036854775807"),o=BigInt("0"),a=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>s||c<i)throw new Error(`int64 invalid: ${l}`);return c},uParse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>a||c<o)throw new Error(`uint64 invalid: ${l}`);return c},enc(l){return n.setBigInt64(0,this.parse(l),!0),{lo:n.getInt32(0,!0),hi:n.getInt32(4,!0)}},uEnc(l){return n.setBigInt64(0,this.uParse(l),!0),{lo:n.getInt32(0,!0),hi:n.getInt32(4,!0)}},dec(l,c){return n.setInt32(0,l,!0),n.setInt32(4,c,!0),n.getBigInt64(0,!0)},uDec(l,c){return n.setInt32(0,l,!0),n.setInt32(4,c,!0),n.getBigUint64(0,!0)}}}const t=i=>le(/^-?[0-9]+$/.test(i),`int64 invalid: ${i}`),r=i=>le(/^[0-9]+$/.test(i),`uint64 invalid: ${i}`);return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),t(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),r(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),t(i),mh(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),r(i),mh(i)},dec(i,s){return gw(i,s)},uDec(i,s){return Ap(i,s)}}}const te=yw();var A;(function(n){n[n.DOUBLE=1]="DOUBLE",n[n.FLOAT=2]="FLOAT",n[n.INT64=3]="INT64",n[n.UINT64=4]="UINT64",n[n.INT32=5]="INT32",n[n.FIXED64=6]="FIXED64",n[n.FIXED32=7]="FIXED32",n[n.BOOL=8]="BOOL",n[n.STRING=9]="STRING",n[n.BYTES=12]="BYTES",n[n.UINT32=13]="UINT32",n[n.SFIXED32=15]="SFIXED32",n[n.SFIXED64=16]="SFIXED64",n[n.SINT32=17]="SINT32",n[n.SINT64=18]="SINT64"})(A||(A={}));var Gr;(function(n){n[n.BIGINT=0]="BIGINT",n[n.STRING=1]="STRING"})(Gr||(Gr={}));function Er(n,e,t){if(e===t)return!0;if(n==A.BYTES){if(!(e instanceof Uint8Array)||!(t instanceof Uint8Array)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}switch(n){case A.UINT64:case A.FIXED64:case A.INT64:case A.SFIXED64:case A.SINT64:return e==t}return!1}function as(n,e){switch(n){case A.BOOL:return!1;case A.UINT64:case A.FIXED64:case A.INT64:case A.SFIXED64:case A.SINT64:return e==0?te.zero:"0";case A.DOUBLE:case A.FLOAT:return 0;case A.BYTES:return new Uint8Array(0);case A.STRING:return"";default:return 0}}function Ep(n,e){switch(n){case A.BOOL:return e===!1;case A.STRING:return e==="";case A.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}var de;(function(n){n[n.Varint=0]="Varint",n[n.Bit64=1]="Bit64",n[n.LengthDelimited=2]="LengthDelimited",n[n.StartGroup=3]="StartGroup",n[n.EndGroup=4]="EndGroup",n[n.Bit32=5]="Bit32"})(de||(de={}));class vw{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;let t=new Uint8Array(e),r=0;for(let i=0;i<this.chunks.length;i++)t.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(vc(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return ma(e),yh(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){vp(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){vc(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){ma(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return ma(e),e=(e<<1^e>>31)>>>0,yh(e,this.buf),this}sfixed64(e){let t=new Uint8Array(8),r=new DataView(t.buffer),i=te.enc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),r=new DataView(t.buffer),i=te.uEnc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(t)}int64(e){let t=te.enc(e);return gu(t.lo,t.hi,this.buf),this}sint64(e){let t=te.enc(e),r=t.hi>>31,i=t.lo<<1^r,s=(t.hi<<1|t.lo>>>31)^r;return gu(i,s,this.buf),this}uint64(e){let t=te.uEnc(e);return gu(t.lo,t.hi,this.buf),this}}class ww{constructor(e,t){this.varint64=hw,this.uint32=pw,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=t??new TextDecoder}tag(){let e=this.uint32(),t=e>>>3,r=e&7;if(t<=0||r<0||r>5)throw new Error("illegal tag: field no "+t+" wire type "+r);return[t,r]}skip(e,t){let r=this.pos;switch(e){case de.Varint:for(;this.buf[this.pos++]&128;);break;case de.Bit64:this.pos+=4;case de.Bit32:this.pos+=4;break;case de.LengthDelimited:let i=this.uint32();this.pos+=i;break;case de.StartGroup:for(;;){const[s,o]=this.tag();if(o===de.EndGroup){if(t!==void 0&&s!==t)throw new Error("invalid end group tag");break}this.skip(o,s)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return te.dec(...this.varint64())}uint64(){return te.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),r=-(e&1);return e=(e>>>1|(t&1)<<31)^r,t=t>>>1^r,te.dec(e,t)}bool(){let[e,t]=this.varint64();return e!==0||t!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return te.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return te.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}function Sw(n,e,t,r){let i;return{typeName:e,extendee:t,get field(){if(!i){const s=typeof r=="function"?r():r;s.name=e.split(".").pop(),s.jsonName=`[${e}]`,i=n.util.newFieldList([s]).list()[0]}return i},runtime:n}}function xp(n){const e=n.field.localName,t=Object.create(null);return t[e]=kw(n),[t,()=>t[e]]}function kw(n){const e=n.field;if(e.repeated)return[];if(e.default!==void 0)return e.default;switch(e.kind){case"enum":return e.T.values[0].no;case"scalar":return as(e.T,e.L);case"message":const t=e.T,r=new t;return t.fieldWrapper?t.fieldWrapper.unwrapField(r):r;case"map":throw"map fields are not allowed to be extensions"}}function Tw(n,e){if(!e.repeated&&(e.kind=="enum"||e.kind=="scalar")){for(let t=n.length-1;t>=0;--t)if(n[t].no==e.no)return[n[t]];return[]}return n.filter(t=>t.no===e.no)}let ar="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Rl=[];for(let n=0;n<ar.length;n++)Rl[ar[n].charCodeAt(0)]=n;Rl[45]=ar.indexOf("+");Rl[95]=ar.indexOf("/");const qf={dec(n){let e=n.length*3/4;n[n.length-2]=="="?e-=2:n[n.length-1]=="="&&(e-=1);let t=new Uint8Array(e),r=0,i=0,s,o=0;for(let a=0;a<n.length;a++){if(s=Rl[n.charCodeAt(a)],s===void 0)switch(n[a]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:o=s,i=1;break;case 1:t[r++]=o<<2|(s&48)>>4,o=s,i=2;break;case 2:t[r++]=(o&15)<<4|(s&60)>>2,o=s,i=3;break;case 3:t[r++]=(o&3)<<6|s,i=0;break}}if(i==1)throw Error("invalid base64 string.");return t.subarray(0,r)},enc(n){let e="",t=0,r,i=0;for(let s=0;s<n.length;s++)switch(r=n[s],t){case 0:e+=ar[r>>2],i=(r&3)<<4,t=1;break;case 1:e+=ar[i|r>>4],i=(r&15)<<2,t=2;break;case 2:e+=ar[i|r>>6],e+=ar[r&63],t=0;break}return t&&(e+=ar[i],e+="=",t==1&&(e+="=")),e}};function Aw(n,e,t){Np(e,n);const r=e.runtime.bin.makeReadOptions(t),i=Tw(n.getType().runtime.bin.listUnknownFields(n),e.field),[s,o]=xp(e);for(const a of i)e.runtime.bin.readField(s,r.readerFactory(a.data),e.field,a.wireType,r);return o()}function Iw(n,e,t,r){Np(e,n);const i=e.runtime.bin.makeReadOptions(r),s=e.runtime.bin.makeWriteOptions(r);if(Cp(n,e)){const c=n.getType().runtime.bin.listUnknownFields(n).filter(d=>d.no!=e.field.no);n.getType().runtime.bin.discardUnknownFields(n);for(const d of c)n.getType().runtime.bin.onUnknownField(n,d.no,d.wireType,d.data)}const o=s.writerFactory();let a=e.field;!a.opt&&!a.repeated&&(a.kind=="enum"||a.kind=="scalar")&&(a=Object.assign(Object.assign({},e.field),{opt:!0})),e.runtime.bin.writeField(a,t,o,s);const l=i.readerFactory(o.finish());for(;l.pos<l.len;){const[c,d]=l.tag(),h=l.skip(d,c);n.getType().runtime.bin.onUnknownField(n,c,d,h)}}function Cp(n,e){const t=n.getType();return e.extendee.typeName===t.typeName&&!!t.runtime.bin.listUnknownFields(n).find(r=>r.no==e.field.no)}function Np(n,e){le(n.extendee.typeName==e.getType().typeName,`extension ${n.typeName} can only be applied to message ${n.extendee.typeName}`)}function Pp(n,e){const t=n.localName;if(n.repeated)return e[t].length>0;if(n.oneof)return e[n.oneof.localName].case===t;switch(n.kind){case"enum":case"scalar":return n.opt||n.req?e[t]!==void 0:n.kind=="enum"?e[t]!==n.T.values[0].no:!Ep(n.T,e[t]);case"message":return e[t]!==void 0;case"map":return Object.keys(e[t]).length>0}}function wh(n,e){const t=n.localName,r=!n.opt&&!n.req;if(n.repeated)e[t]=[];else if(n.oneof)e[n.oneof.localName]={case:void 0};else switch(n.kind){case"map":e[t]={};break;case"enum":e[t]=r?n.T.values[0].no:void 0;break;case"scalar":e[t]=r?as(n.T,n.L):void 0;break;case"message":e[t]=void 0;break}}function mi(n,e){if(n===null||typeof n!="object"||!Object.getOwnPropertyNames(O.prototype).every(r=>r in n&&typeof n[r]=="function"))return!1;const t=n.getType();return t===null||typeof t!="function"||!("typeName"in t)||typeof t.typeName!="string"?!1:e===void 0?!0:t.typeName==e.typeName}function Dp(n,e){return mi(e)||!n.fieldWrapper?e:n.fieldWrapper.wrapField(e)}A.DOUBLE,A.FLOAT,A.INT64,A.UINT64,A.INT32,A.UINT32,A.BOOL,A.STRING,A.BYTES;const Sh={ignoreUnknownFields:!1},kh={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function Ew(n){return n?Object.assign(Object.assign({},Sh),n):Sh}function xw(n){return n?Object.assign(Object.assign({},kh),n):kh}const Wa=Symbol(),ya=Symbol();function Cw(){return{makeReadOptions:Ew,makeWriteOptions:xw,readMessage(n,e,t,r){if(e==null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message ${n.typeName} from JSON: ${qt(e)}`);r=r??new n;const i=new Map,s=t.typeRegistry;for(const[o,a]of Object.entries(e)){const l=n.fields.findJsonName(o);if(l){if(l.oneof){if(a===null&&l.kind=="scalar")continue;const c=i.get(l.oneof);if(c!==void 0)throw new Error(`cannot decode message ${n.typeName} from JSON: multiple keys for oneof "${l.oneof.name}" present: "${c}", "${o}"`);i.set(l.oneof,o)}Th(r,a,l,t,n)}else{let c=!1;if(s!=null&&s.findExtension&&o.startsWith("[")&&o.endsWith("]")){const d=s.findExtension(o.substring(1,o.length-1));if(d&&d.extendee.typeName==n.typeName){c=!0;const[h,p]=xp(d);Th(h,a,d.field,t,d),Iw(r,d,p(),t)}}if(!c&&!t.ignoreUnknownFields)throw new Error(`cannot decode message ${n.typeName} from JSON: key "${o}" is unknown`)}}return r},writeMessage(n,e){const t=n.getType(),r={};let i;try{for(i of t.fields.byNumber()){if(!Pp(i,n)){if(i.req)throw"required field not set";if(!e.emitDefaultValues||!Pw(i))continue}const o=i.oneof?n[i.oneof.localName].value:n[i.localName],a=Ah(i,o,e);a!==void 0&&(r[e.useProtoFieldName?i.name:i.jsonName]=a)}const s=e.typeRegistry;if(s!=null&&s.findExtensionFor)for(const o of t.runtime.bin.listUnknownFields(n)){const a=s.findExtensionFor(t.typeName,o.no);if(a&&Cp(n,a)){const l=Aw(n,a,e),c=Ah(a.field,l,e);c!==void 0&&(r[a.field.jsonName]=c)}}}catch(s){const o=i?`cannot encode field ${t.typeName}.${i.name} to JSON`:`cannot encode message ${t.typeName} to JSON`,a=s instanceof Error?s.message:String(s);throw new Error(o+(a.length>0?`: ${a}`:""))}return r},readScalar(n,e,t){return qs(n,e,t??Gr.BIGINT,!0)},writeScalar(n,e,t){if(e!==void 0&&(t||Ep(n,e)))return va(n,e)},debug:qt}}function qt(n){if(n===null)return"null";switch(typeof n){case"object":return Array.isArray(n)?"array":"object";case"string":return n.length>100?"string":`"${n.split('"').join('\\"')}"`;default:return String(n)}}function Th(n,e,t,r,i){let s=t.localName;if(t.repeated){if(le(t.kind!="map"),e===null)return;if(!Array.isArray(e))throw new Error(`cannot decode field ${i.typeName}.${t.name} from JSON: ${qt(e)}`);const o=n[s];for(const a of e){if(a===null)throw new Error(`cannot decode field ${i.typeName}.${t.name} from JSON: ${qt(a)}`);switch(t.kind){case"message":o.push(t.T.fromJson(a,r));break;case"enum":const l=mu(t.T,a,r.ignoreUnknownFields,!0);l!==ya&&o.push(l);break;case"scalar":try{o.push(qs(t.T,a,t.L,!0))}catch(c){let d=`cannot decode field ${i.typeName}.${t.name} from JSON: ${qt(a)}`;throw c instanceof Error&&c.message.length>0&&(d+=`: ${c.message}`),new Error(d)}break}}}else if(t.kind=="map"){if(e===null)return;if(typeof e!="object"||Array.isArray(e))throw new Error(`cannot decode field ${i.typeName}.${t.name} from JSON: ${qt(e)}`);const o=n[s];for(const[a,l]of Object.entries(e)){if(l===null)throw new Error(`cannot decode field ${i.typeName}.${t.name} from JSON: map value null`);let c;try{c=Nw(t.K,a)}catch(d){let h=`cannot decode map key for field ${i.typeName}.${t.name} from JSON: ${qt(e)}`;throw d instanceof Error&&d.message.length>0&&(h+=`: ${d.message}`),new Error(h)}switch(t.V.kind){case"message":o[c]=t.V.T.fromJson(l,r);break;case"enum":const d=mu(t.V.T,l,r.ignoreUnknownFields,!0);d!==ya&&(o[c]=d);break;case"scalar":try{o[c]=qs(t.V.T,l,Gr.BIGINT,!0)}catch(h){let p=`cannot decode map value for field ${i.typeName}.${t.name} from JSON: ${qt(e)}`;throw h instanceof Error&&h.message.length>0&&(p+=`: ${h.message}`),new Error(p)}break}}}else switch(t.oneof&&(n=n[t.oneof.localName]={case:s},s="value"),t.kind){case"message":const o=t.T;if(e===null&&o.typeName!="google.protobuf.Value")return;let a=n[s];mi(a)?a.fromJson(e,r):(n[s]=a=o.fromJson(e,r),o.fieldWrapper&&!t.oneof&&(n[s]=o.fieldWrapper.unwrapField(a)));break;case"enum":const l=mu(t.T,e,r.ignoreUnknownFields,!1);switch(l){case Wa:wh(t,n);break;case ya:break;default:n[s]=l;break}break;case"scalar":try{const c=qs(t.T,e,t.L,!1);switch(c){case Wa:wh(t,n);break;default:n[s]=c;break}}catch(c){let d=`cannot decode field ${i.typeName}.${t.name} from JSON: ${qt(e)}`;throw c instanceof Error&&c.message.length>0&&(d+=`: ${c.message}`),new Error(d)}break}}function Nw(n,e){if(n===A.BOOL)switch(e){case"true":e=!0;break;case"false":e=!1;break}return qs(n,e,Gr.BIGINT,!0).toString()}function qs(n,e,t,r){if(e===null)return r?as(n,t):Wa;switch(n){case A.DOUBLE:case A.FLOAT:if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;const i=Number(e);if(Number.isNaN(i)||!Number.isFinite(i))break;return n==A.FLOAT&&vp(i),i;case A.INT32:case A.FIXED32:case A.SFIXED32:case A.SINT32:case A.UINT32:let s;if(typeof e=="number"?s=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(s=Number(e)),s===void 0)break;return n==A.UINT32||n==A.FIXED32?vc(s):ma(s),s;case A.INT64:case A.SFIXED64:case A.SINT64:if(typeof e!="number"&&typeof e!="string")break;const o=te.parse(e);return t?o.toString():o;case A.FIXED64:case A.UINT64:if(typeof e!="number"&&typeof e!="string")break;const a=te.uParse(e);return t?a.toString():a;case A.BOOL:if(typeof e!="boolean")break;return e;case A.STRING:if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case A.BYTES:if(e==="")return new Uint8Array(0);if(typeof e!="string")break;return qf.dec(e)}throw new Error}function mu(n,e,t,r){if(e===null)return n.typeName=="google.protobuf.NullValue"?0:r?n.values[0].no:Wa;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const i=n.findName(e);if(i!==void 0)return i.no;if(t)return ya;break}throw new Error(`cannot decode enum ${n.typeName} from JSON: ${qt(e)}`)}function Pw(n){return n.repeated||n.kind=="map"?!0:!(n.oneof||n.kind=="message"||n.opt||n.req)}function Ah(n,e,t){if(n.kind=="map"){le(typeof e=="object"&&e!=null);const r={},i=Object.entries(e);switch(n.V.kind){case"scalar":for(const[o,a]of i)r[o.toString()]=va(n.V.T,a);break;case"message":for(const[o,a]of i)r[o.toString()]=a.toJson(t);break;case"enum":const s=n.V.T;for(const[o,a]of i)r[o.toString()]=pu(s,a,t.enumAsInteger);break}return t.emitDefaultValues||i.length>0?r:void 0}if(n.repeated){le(Array.isArray(e));const r=[];switch(n.kind){case"scalar":for(let i=0;i<e.length;i++)r.push(va(n.T,e[i]));break;case"enum":for(let i=0;i<e.length;i++)r.push(pu(n.T,e[i],t.enumAsInteger));break;case"message":for(let i=0;i<e.length;i++)r.push(e[i].toJson(t));break}return t.emitDefaultValues||r.length>0?r:void 0}switch(n.kind){case"scalar":return va(n.T,e);case"enum":return pu(n.T,e,t.enumAsInteger);case"message":return Dp(n.T,e).toJson(t)}}function pu(n,e,t){var r;if(le(typeof e=="number"),n.typeName=="google.protobuf.NullValue")return null;if(t)return e;const i=n.findNumber(e);return(r=i==null?void 0:i.name)!==null&&r!==void 0?r:e}function va(n,e){switch(n){case A.INT32:case A.SFIXED32:case A.SINT32:case A.FIXED32:case A.UINT32:return le(typeof e=="number"),e;case A.FLOAT:case A.DOUBLE:return le(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case A.STRING:return le(typeof e=="string"),e;case A.BOOL:return le(typeof e=="boolean"),e;case A.UINT64:case A.FIXED64:case A.INT64:case A.SFIXED64:case A.SINT64:return le(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),e.toString();case A.BYTES:return le(e instanceof Uint8Array),qf.enc(e)}}const Pi=Symbol("@bufbuild/protobuf/unknown-fields"),Ih={readUnknownFields:!0,readerFactory:n=>new ww(n)},Eh={writeUnknownFields:!0,writerFactory:()=>new vw};function Dw(n){return n?Object.assign(Object.assign({},Ih),n):Ih}function Ow(n){return n?Object.assign(Object.assign({},Eh),n):Eh}function Rw(){return{makeReadOptions:Dw,makeWriteOptions:Ow,listUnknownFields(n){var e;return(e=n[Pi])!==null&&e!==void 0?e:[]},discardUnknownFields(n){delete n[Pi]},writeUnknownFields(n,e){const r=n[Pi];if(r)for(const i of r)e.tag(i.no,i.wireType).raw(i.data)},onUnknownField(n,e,t,r){const i=n;Array.isArray(i[Pi])||(i[Pi]=[]),i[Pi].push({no:e,wireType:t,data:r})},readMessage(n,e,t,r,i){const s=n.getType(),o=i?e.len:e.pos+t;let a,l;for(;e.pos<o&&([a,l]=e.tag(),!(i===!0&&l==de.EndGroup));){const c=s.fields.find(a);if(!c){const d=e.skip(l,a);r.readUnknownFields&&this.onUnknownField(n,a,l,d);continue}xh(n,e,c,l,r)}if(i&&(l!=de.EndGroup||a!==t))throw new Error("invalid end group tag")},readField:xh,writeMessage(n,e,t){const r=n.getType();for(const i of r.fields.byNumber()){if(!Pp(i,n)){if(i.req)throw new Error(`cannot encode field ${r.typeName}.${i.name} to binary: required field not set`);continue}const s=i.oneof?n[i.oneof.localName].value:n[i.localName];Ch(i,s,e,t)}return t.writeUnknownFields&&this.writeUnknownFields(n,e),e},writeField(n,e,t,r){e!==void 0&&Ch(n,e,t,r)}}}function xh(n,e,t,r,i){let{repeated:s,localName:o}=t;switch(t.oneof&&(n=n[t.oneof.localName],n.case!=o&&delete n.value,n.case=o,o="value"),t.kind){case"scalar":case"enum":const a=t.kind=="enum"?A.INT32:t.T;let l=_a;if(t.kind=="scalar"&&t.L>0&&(l=Bw),s){let p=n[o];if(r==de.LengthDelimited&&a!=A.STRING&&a!=A.BYTES){let w=e.uint32()+e.pos;for(;e.pos<w;)p.push(l(e,a))}else p.push(l(e,a))}else n[o]=l(e,a);break;case"message":const c=t.T;s?n[o].push(wa(e,new c,i,t)):mi(n[o])?wa(e,n[o],i,t):(n[o]=wa(e,new c,i,t),c.fieldWrapper&&!t.oneof&&!t.repeated&&(n[o]=c.fieldWrapper.unwrapField(n[o])));break;case"map":let[d,h]=Lw(t,e,i);n[o][d]=h;break}}function wa(n,e,t,r){const i=e.getType().runtime.bin,s=r==null?void 0:r.delimited;return i.readMessage(e,n,s?r.no:n.uint32(),t,s),e}function Lw(n,e,t){const r=e.uint32(),i=e.pos+r;let s,o;for(;e.pos<i;){const[a]=e.tag();switch(a){case 1:s=_a(e,n.K);break;case 2:switch(n.V.kind){case"scalar":o=_a(e,n.V.T);break;case"enum":o=e.int32();break;case"message":o=wa(e,new n.V.T,t,void 0);break}break}}if(s===void 0&&(s=as(n.K,Gr.BIGINT)),typeof s!="string"&&typeof s!="number"&&(s=s.toString()),o===void 0)switch(n.V.kind){case"scalar":o=as(n.V.T,Gr.BIGINT);break;case"enum":o=n.V.T.values[0].no;break;case"message":o=new n.V.T;break}return[s,o]}function Bw(n,e){const t=_a(n,e);return typeof t=="bigint"?t.toString():t}function _a(n,e){switch(e){case A.STRING:return n.string();case A.BOOL:return n.bool();case A.DOUBLE:return n.double();case A.FLOAT:return n.float();case A.INT32:return n.int32();case A.INT64:return n.int64();case A.UINT64:return n.uint64();case A.FIXED64:return n.fixed64();case A.BYTES:return n.bytes();case A.FIXED32:return n.fixed32();case A.SFIXED32:return n.sfixed32();case A.SFIXED64:return n.sfixed64();case A.SINT64:return n.sint64();case A.UINT32:return n.uint32();case A.SINT32:return n.sint32()}}function Ch(n,e,t,r){le(e!==void 0);const i=n.repeated;switch(n.kind){case"scalar":case"enum":let s=n.kind=="enum"?A.INT32:n.T;if(i)if(le(Array.isArray(e)),n.packed)bw(t,s,n.no,e);else for(const o of e)Vs(t,s,n.no,o);else Vs(t,s,n.no,e);break;case"message":if(i){le(Array.isArray(e));for(const o of e)Nh(t,r,n,o)}else Nh(t,r,n,e);break;case"map":le(typeof e=="object"&&e!=null);for(const[o,a]of Object.entries(e))Fw(t,r,n,o,a);break}}function Fw(n,e,t,r,i){n.tag(t.no,de.LengthDelimited),n.fork();let s=r;switch(t.K){case A.INT32:case A.FIXED32:case A.UINT32:case A.SFIXED32:case A.SINT32:s=Number.parseInt(r);break;case A.BOOL:le(r=="true"||r=="false"),s=r=="true";break}switch(Vs(n,t.K,1,s),t.V.kind){case"scalar":Vs(n,t.V.T,2,i);break;case"enum":Vs(n,A.INT32,2,i);break;case"message":le(i!==void 0),n.tag(2,de.LengthDelimited).bytes(i.toBinary(e));break}n.join()}function Nh(n,e,t,r){const i=Dp(t.T,r);t.delimited?n.tag(t.no,de.StartGroup).raw(i.toBinary(e)).tag(t.no,de.EndGroup):n.tag(t.no,de.LengthDelimited).bytes(i.toBinary(e))}function Vs(n,e,t,r){le(r!==void 0);let[i,s]=Op(e);n.tag(t,i)[s](r)}function bw(n,e,t,r){if(!r.length)return;n.tag(t,de.LengthDelimited).fork();let[,i]=Op(e);for(let s=0;s<r.length;s++)n[i](r[s]);n.join()}function Op(n){let e=de.Varint;switch(n){case A.BYTES:case A.STRING:e=de.LengthDelimited;break;case A.DOUBLE:case A.FIXED64:case A.SFIXED64:e=de.Bit64;break;case A.FIXED32:case A.SFIXED32:case A.FLOAT:e=de.Bit32;break}const t=A[n].toLowerCase();return[e,t]}function Mw(){return{setEnumType:Sp,initPartial(n,e){if(n===void 0)return;const t=e.getType();for(const r of t.fields.byMember()){const i=r.localName,s=e,o=n;if(o[i]!=null)switch(r.kind){case"oneof":const a=o[i].case;if(a===void 0)continue;const l=r.findField(a);let c=o[i].value;l&&l.kind=="message"&&!mi(c,l.T)?c=new l.T(c):l&&l.kind==="scalar"&&l.T===A.BYTES&&(c=Ns(c)),s[i]={case:a,value:c};break;case"scalar":case"enum":let d=o[i];r.T===A.BYTES&&(d=r.repeated?d.map(Ns):Ns(d)),s[i]=d;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===A.BYTES)for(const[m,w]of Object.entries(o[i]))s[i][m]=Ns(w);else Object.assign(s[i],o[i]);break;case"message":const p=r.V.T;for(const m of Object.keys(o[i])){let w=o[i][m];p.fieldWrapper||(w=new p(w)),s[i][m]=w}break}break;case"message":const h=r.T;if(r.repeated)s[i]=o[i].map(p=>mi(p,h)?p:new h(p));else{const p=o[i];h.fieldWrapper?h.typeName==="google.protobuf.BytesValue"?s[i]=Ns(p):s[i]=p:s[i]=mi(p,h)?p:new h(p)}break}}},equals(n,e,t){return e===t?!0:!e||!t?!1:n.fields.byMember().every(r=>{const i=e[r.localName],s=t[r.localName];if(r.repeated){if(i.length!==s.length)return!1;switch(r.kind){case"message":return i.every((o,a)=>r.T.equals(o,s[a]));case"scalar":return i.every((o,a)=>Er(r.T,o,s[a]));case"enum":return i.every((o,a)=>Er(A.INT32,o,s[a]))}throw new Error(`repeated cannot contain ${r.kind}`)}switch(r.kind){case"message":return r.T.equals(i,s);case"enum":return Er(A.INT32,i,s);case"scalar":return Er(r.T,i,s);case"oneof":if(i.case!==s.case)return!1;const o=r.findField(i.case);if(o===void 0)return!0;switch(o.kind){case"message":return o.T.equals(i.value,s.value);case"enum":return Er(A.INT32,i.value,s.value);case"scalar":return Er(o.T,i.value,s.value)}throw new Error(`oneof cannot contain ${o.kind}`);case"map":const a=Object.keys(i).concat(Object.keys(s));switch(r.V.kind){case"message":const l=r.V.T;return a.every(d=>l.equals(i[d],s[d]));case"enum":return a.every(d=>Er(A.INT32,i[d],s[d]));case"scalar":const c=r.V.T;return a.every(d=>Er(c,i[d],s[d]))}break}})},clone(n){const e=n.getType(),t=new e,r=t;for(const i of e.fields.byMember()){const s=n[i.localName];let o;if(i.repeated)o=s.map(Qo);else if(i.kind=="map"){o=r[i.localName];for(const[a,l]of Object.entries(s))o[a]=Qo(l)}else i.kind=="oneof"?o=i.findField(s.case)?{case:s.case,value:Qo(s.value)}:{case:void 0}:o=Qo(s);r[i.localName]=o}for(const i of e.runtime.bin.listUnknownFields(n))e.runtime.bin.onUnknownField(r,i.no,i.wireType,i.data);return t}}}function Qo(n){if(n===void 0)return n;if(mi(n))return n.clone();if(n instanceof Uint8Array){const e=new Uint8Array(n.byteLength);return e.set(n),e}return n}function Ns(n){return n instanceof Uint8Array?n:new Uint8Array(n)}function Jw(n,e,t){return{syntax:n,json:Cw(),bin:Rw(),util:Object.assign(Object.assign({},Mw()),{newFieldList:e,initFields:t}),makeMessageType(r,i,s){return dw(this,r,i,s)},makeEnum:fw,makeEnumType:kp,getEnumType:cw,makeExtension(r,i,s){return Sw(this,r,i,s)}}}class $w{constructor(e,t){this._fields=e,this._normalizer=t}findJsonName(e){if(!this.jsonNames){const t={};for(const r of this.list())t[r.jsonName]=t[r.name]=r;this.jsonNames=t}return this.jsonNames[e]}find(e){if(!this.numbers){const t={};for(const r of this.list())t[r.no]=r;this.numbers=t}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,t)=>e.no-t.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let t;for(const r of this.list())r.oneof?r.oneof!==t&&(t=r.oneof,e.push(t)):e.push(r)}return this.members}}function Rp(n,e){const t=Lp(n);return e?t:Kw(Vw(t))}function zw(n){return Rp(n,!1)}const Uw=Lp;function Lp(n){let e=!1;const t=[];for(let r=0;r<n.length;r++){let i=n.charAt(r);switch(i){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":t.push(i),e=!1;break;default:e&&(e=!1,i=i.toUpperCase()),t.push(i);break}}return t.join("")}const jw=new Set(["constructor","toString","toJSON","valueOf"]),qw=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),Bp=n=>`${n}$`,Vw=n=>qw.has(n)?Bp(n):n,Kw=n=>jw.has(n)?Bp(n):n;class Ww{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=zw(e)}addField(e){le(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let t=0;t<this.fields.length;t++)this._lookup[this.fields[t].localName]=this.fields[t]}return this._lookup[e]}}function _w(n,e){var t,r,i,s,o,a;const l=[];let c;for(const d of typeof n=="function"?n():n){const h=d;if(h.localName=Rp(d.name,d.oneof!==void 0),h.jsonName=(t=d.jsonName)!==null&&t!==void 0?t:Uw(d.name),h.repeated=(r=d.repeated)!==null&&r!==void 0?r:!1,d.kind=="scalar"&&(h.L=(i=d.L)!==null&&i!==void 0?i:Gr.BIGINT),h.delimited=(s=d.delimited)!==null&&s!==void 0?s:!1,h.req=(o=d.req)!==null&&o!==void 0?o:!1,h.opt=(a=d.opt)!==null&&a!==void 0?a:!1,d.packed===void 0&&(h.packed=d.kind=="enum"||d.kind=="scalar"&&d.T!=A.BYTES&&d.T!=A.STRING),d.oneof!==void 0){const p=typeof d.oneof=="string"?d.oneof:d.oneof.name;(!c||c.name!=p)&&(c=new Ww(p)),h.oneof=c,c.addField(h)}l.push(h)}return l}const f=Jw("proto3",n=>new $w(n,e=>_w(e)),n=>{for(const e of n.getType().fields.byMember()){if(e.opt)continue;const t=e.localName,r=n;if(e.repeated){r[t]=[];continue}switch(e.kind){case"oneof":r[t]={case:void 0};break;case"enum":r[t]=0;break;case"map":r[t]={};break;case"scalar":r[t]=as(e.T,e.L);break}}});var Be;(function(n){n[n.Unary=0]="Unary",n[n.ServerStreaming=1]="ServerStreaming",n[n.ClientStreaming=2]="ClientStreaming",n[n.BiDiStreaming=3]="BiDiStreaming"})(Be||(Be={}));var Ph;(function(n){n[n.NoSideEffects=1]="NoSideEffects",n[n.Idempotent=2]="Idempotent"})(Ph||(Ph={}));class De extends O{constructor(e){super(),this.seconds=te.zero,this.nanos=0,f.util.initPartial(e,this)}fromJson(e,t){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${f.json.debug(e)}`);const r=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const i=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=te.parse(i/1e3),this.nanos=0,r[7]&&(this.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),this}toJson(e){const t=Number(this.seconds)*1e3;if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let r="Z";if(this.nanos>0){const i=(this.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?r="."+i.substring(0,3)+"Z":i.substring(6)==="000"?r="."+i.substring(0,6)+"Z":r="."+i+"Z"}return new Date(t).toISOString().replace(".000Z",r)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return De.fromDate(new Date)}static fromDate(e){const t=e.getTime();return new De({seconds:te.parse(Math.floor(t/1e3)),nanos:t%1e3*1e6})}static fromBinary(e,t){return new De().fromBinary(e,t)}static fromJson(e,t){return new De().fromJson(e,t)}static fromJsonString(e,t){return new De().fromJsonString(e,t)}static equals(e,t){return f.util.equals(De,e,t)}}De.runtime=f;De.typeName="google.protobuf.Timestamp";De.fields=f.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class cr extends O{constructor(e){super(),this.seconds=te.zero,this.nanos=0,f.util.initPartial(e,this)}fromJson(e,t){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(e)}`);const r=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(r===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(e)}`);const i=Number(r[1]);if(i>315576e6||i<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${f.json.debug(e)}`);if(this.seconds=te.parse(i),typeof r[2]=="string"){const s=r[2]+"0".repeat(9-r[2].length);this.nanos=parseInt(s),(i<0||Object.is(i,-0))&&(this.nanos=-this.nanos)}return this}toJson(e){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let t=this.seconds.toString();if(this.nanos!==0){let r=Math.abs(this.nanos).toString();r="0".repeat(9-r.length)+r,r.substring(3)==="000000"?r=r.substring(0,3):r.substring(6)==="000"&&(r=r.substring(0,6)),t+="."+r,this.nanos<0&&Number(this.seconds)==0&&(t="-"+t)}return t+"s"}static fromBinary(e,t){return new cr().fromBinary(e,t)}static fromJson(e,t){return new cr().fromJson(e,t)}static fromJsonString(e,t){return new cr().fromJsonString(e,t)}static equals(e,t){return f.util.equals(cr,e,t)}}cr.runtime=f;cr.typeName="google.protobuf.Duration";cr.fields=f.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Kt extends O{constructor(e){super(),this.typeUrl="",this.value=new Uint8Array(0),f.util.initPartial(e,this)}toJson(e){var t;if(this.typeUrl==="")return{};const r=this.typeUrlToName(this.typeUrl),i=(t=e==null?void 0:e.typeRegistry)===null||t===void 0?void 0:t.findMessage(r);if(!i)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let o=i.fromBinary(this.value).toJson(e);return(r.startsWith("google.protobuf.")||o===null||Array.isArray(o)||typeof o!="object")&&(o={value:o}),o["@type"]=this.typeUrl,o}fromJson(e,t){var r;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${e===null?"null":Array.isArray(e)?"array":typeof e}`);if(Object.keys(e).length==0)return this;const i=e["@type"];if(typeof i!="string"||i=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const s=this.typeUrlToName(i),o=(r=t==null?void 0:t.typeRegistry)===null||r===void 0?void 0:r.findMessage(s);if(!o)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${i} is not in the type registry`);let a;if(s.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value"))a=o.fromJson(e.value,t);else{const l=Object.assign({},e);delete l["@type"],a=o.fromJson(l,t)}return this.packFrom(a),this}packFrom(e){this.value=e.toBinary(),this.typeUrl=this.typeNameToUrl(e.getType().typeName)}unpackTo(e){return this.is(e.getType())?(e.fromBinary(this.value),!0):!1}unpack(e){if(this.typeUrl==="")return;const t=e.findMessage(this.typeUrlToName(this.typeUrl));if(t)return t.fromBinary(this.value)}is(e){if(this.typeUrl==="")return!1;const t=this.typeUrlToName(this.typeUrl);let r="";return typeof e=="string"?r=e:r=e.typeName,t===r}typeNameToUrl(e){return`type.googleapis.com/${e}`}typeUrlToName(e){if(!e.length)throw new Error(`invalid type url: ${e}`);const t=e.lastIndexOf("/"),r=t>=0?e.substring(t+1):e;if(!r.length)throw new Error(`invalid type url: ${e}`);return r}static pack(e){const t=new Kt;return t.packFrom(e),t}static fromBinary(e,t){return new Kt().fromBinary(e,t)}static fromJson(e,t){return new Kt().fromJson(e,t)}static fromJsonString(e,t){return new Kt().fromJsonString(e,t)}static equals(e,t){return f.util.equals(Kt,e,t)}}Kt.runtime=f;Kt.typeName="google.protobuf.Any";Kt.fields=f.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class Wt extends O{constructor(e){super(),this.value=0,f.util.initPartial(e,this)}toJson(e){return f.json.writeScalar(A.DOUBLE,this.value,!0)}fromJson(e,t){try{this.value=f.json.readScalar(A.DOUBLE,e)}catch(r){let i='cannot decode message google.protobuf.DoubleValue from JSON"';throw r instanceof Error&&r.message.length>0&&(i+=`: ${r.message}`),new Error(i)}return this}static fromBinary(e,t){return new Wt().fromBinary(e,t)}static fromJson(e,t){return new Wt().fromJson(e,t)}static fromJsonString(e,t){return new Wt().fromJsonString(e,t)}static equals(e,t){return f.util.equals(Wt,e,t)}}Wt.runtime=f;Wt.typeName="google.protobuf.DoubleValue";Wt.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);Wt.fieldWrapper={wrapField(n){return new Wt({value:n})},unwrapField(n){return n.value}};class _t extends O{constructor(e){super(),this.value=0,f.util.initPartial(e,this)}toJson(e){return f.json.writeScalar(A.FLOAT,this.value,!0)}fromJson(e,t){try{this.value=f.json.readScalar(A.FLOAT,e)}catch(r){let i='cannot decode message google.protobuf.FloatValue from JSON"';throw r instanceof Error&&r.message.length>0&&(i+=`: ${r.message}`),new Error(i)}return this}static fromBinary(e,t){return new _t().fromBinary(e,t)}static fromJson(e,t){return new _t().fromJson(e,t)}static fromJsonString(e,t){return new _t().fromJsonString(e,t)}static equals(e,t){return f.util.equals(_t,e,t)}}_t.runtime=f;_t.typeName="google.protobuf.FloatValue";_t.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);_t.fieldWrapper={wrapField(n){return new _t({value:n})},unwrapField(n){return n.value}};class Ht extends O{constructor(e){super(),this.value=te.zero,f.util.initPartial(e,this)}toJson(e){return f.json.writeScalar(A.INT64,this.value,!0)}fromJson(e,t){try{this.value=f.json.readScalar(A.INT64,e)}catch(r){let i='cannot decode message google.protobuf.Int64Value from JSON"';throw r instanceof Error&&r.message.length>0&&(i+=`: ${r.message}`),new Error(i)}return this}static fromBinary(e,t){return new Ht().fromBinary(e,t)}static fromJson(e,t){return new Ht().fromJson(e,t)}static fromJsonString(e,t){return new Ht().fromJsonString(e,t)}static equals(e,t){return f.util.equals(Ht,e,t)}}Ht.runtime=f;Ht.typeName="google.protobuf.Int64Value";Ht.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);Ht.fieldWrapper={wrapField(n){return new Ht({value:n})},unwrapField(n){return n.value}};class Gt extends O{constructor(e){super(),this.value=te.zero,f.util.initPartial(e,this)}toJson(e){return f.json.writeScalar(A.UINT64,this.value,!0)}fromJson(e,t){try{this.value=f.json.readScalar(A.UINT64,e)}catch(r){let i='cannot decode message google.protobuf.UInt64Value from JSON"';throw r instanceof Error&&r.message.length>0&&(i+=`: ${r.message}`),new Error(i)}return this}static fromBinary(e,t){return new Gt().fromBinary(e,t)}static fromJson(e,t){return new Gt().fromJson(e,t)}static fromJsonString(e,t){return new Gt().fromJsonString(e,t)}static equals(e,t){return f.util.equals(Gt,e,t)}}Gt.runtime=f;Gt.typeName="google.protobuf.UInt64Value";Gt.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);Gt.fieldWrapper={wrapField(n){return new Gt({value:n})},unwrapField(n){return n.value}};class Yt extends O{constructor(e){super(),this.value=0,f.util.initPartial(e,this)}toJson(e){return f.json.writeScalar(A.INT32,this.value,!0)}fromJson(e,t){try{this.value=f.json.readScalar(A.INT32,e)}catch(r){let i='cannot decode message google.protobuf.Int32Value from JSON"';throw r instanceof Error&&r.message.length>0&&(i+=`: ${r.message}`),new Error(i)}return this}static fromBinary(e,t){return new Yt().fromBinary(e,t)}static fromJson(e,t){return new Yt().fromJson(e,t)}static fromJsonString(e,t){return new Yt().fromJsonString(e,t)}static equals(e,t){return f.util.equals(Yt,e,t)}}Yt.runtime=f;Yt.typeName="google.protobuf.Int32Value";Yt.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);Yt.fieldWrapper={wrapField(n){return new Yt({value:n})},unwrapField(n){return n.value}};class Qt extends O{constructor(e){super(),this.value=0,f.util.initPartial(e,this)}toJson(e){return f.json.writeScalar(A.UINT32,this.value,!0)}fromJson(e,t){try{this.value=f.json.readScalar(A.UINT32,e)}catch(r){let i='cannot decode message google.protobuf.UInt32Value from JSON"';throw r instanceof Error&&r.message.length>0&&(i+=`: ${r.message}`),new Error(i)}return this}static fromBinary(e,t){return new Qt().fromBinary(e,t)}static fromJson(e,t){return new Qt().fromJson(e,t)}static fromJsonString(e,t){return new Qt().fromJsonString(e,t)}static equals(e,t){return f.util.equals(Qt,e,t)}}Qt.runtime=f;Qt.typeName="google.protobuf.UInt32Value";Qt.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);Qt.fieldWrapper={wrapField(n){return new Qt({value:n})},unwrapField(n){return n.value}};class Xt extends O{constructor(e){super(),this.value=!1,f.util.initPartial(e,this)}toJson(e){return f.json.writeScalar(A.BOOL,this.value,!0)}fromJson(e,t){try{this.value=f.json.readScalar(A.BOOL,e)}catch(r){let i='cannot decode message google.protobuf.BoolValue from JSON"';throw r instanceof Error&&r.message.length>0&&(i+=`: ${r.message}`),new Error(i)}return this}static fromBinary(e,t){return new Xt().fromBinary(e,t)}static fromJson(e,t){return new Xt().fromJson(e,t)}static fromJsonString(e,t){return new Xt().fromJsonString(e,t)}static equals(e,t){return f.util.equals(Xt,e,t)}}Xt.runtime=f;Xt.typeName="google.protobuf.BoolValue";Xt.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);Xt.fieldWrapper={wrapField(n){return new Xt({value:n})},unwrapField(n){return n.value}};class Xe extends O{constructor(e){super(),this.value="",f.util.initPartial(e,this)}toJson(e){return f.json.writeScalar(A.STRING,this.value,!0)}fromJson(e,t){try{this.value=f.json.readScalar(A.STRING,e)}catch(r){let i='cannot decode message google.protobuf.StringValue from JSON"';throw r instanceof Error&&r.message.length>0&&(i+=`: ${r.message}`),new Error(i)}return this}static fromBinary(e,t){return new Xe().fromBinary(e,t)}static fromJson(e,t){return new Xe().fromJson(e,t)}static fromJsonString(e,t){return new Xe().fromJsonString(e,t)}static equals(e,t){return f.util.equals(Xe,e,t)}}Xe.runtime=f;Xe.typeName="google.protobuf.StringValue";Xe.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);Xe.fieldWrapper={wrapField(n){return new Xe({value:n})},unwrapField(n){return n.value}};class Zt extends O{constructor(e){super(),this.value=new Uint8Array(0),f.util.initPartial(e,this)}toJson(e){return f.json.writeScalar(A.BYTES,this.value,!0)}fromJson(e,t){try{this.value=f.json.readScalar(A.BYTES,e)}catch(r){let i='cannot decode message google.protobuf.BytesValue from JSON"';throw r instanceof Error&&r.message.length>0&&(i+=`: ${r.message}`),new Error(i)}return this}static fromBinary(e,t){return new Zt().fromBinary(e,t)}static fromJson(e,t){return new Zt().fromJson(e,t)}static fromJsonString(e,t){return new Zt().fromJsonString(e,t)}static equals(e,t){return f.util.equals(Zt,e,t)}}Zt.runtime=f;Zt.typeName="google.protobuf.BytesValue";Zt.fields=f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);Zt.fieldWrapper={wrapField(n){return new Zt({value:n})},unwrapField(n){return n.value}};function Hw(n,e,t){try{const r=qf.dec(n);return e?e.fromBinary(r,t):r}catch(r){throw me.from(r,H.DataLoss)}}function Gw(n,e){const t={};for(const[r,i]of Object.entries(n.methods)){const s=e(Object.assign(Object.assign({},i),{localName:r,service:n}));s!=null&&(t[r]=s)}return t}function Dh(n){let e,t=new Uint8Array(0);function r(i){const s=new Uint8Array(t.length+i.length);s.set(t),s.set(i,t.length),t=s}return new ReadableStream({start(){e=n.getReader()},async pull(i){let s;for(;;){if(s===void 0&&t.byteLength>=5){let l=0;for(let c=1;c<5;c++)l=(l<<8)+t[c];s={flags:t[0],length:l}}if(s!==void 0&&t.byteLength>=s.length+5)break;const a=await e.read();if(a.done)break;r(a.value)}if(s===void 0){if(t.byteLength==0){i.close();return}i.error(new me("premature end of stream",H.DataLoss));return}const o=t.subarray(5,5+s.length);t=t.subarray(5+s.length),i.enqueue({flags:s.flags,data:o})}})}function Oh(n,e){const t=new Uint8Array(e.length+5);t.set(e,5);const r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.setUint8(0,n),r.setUint32(1,e.length),t}var Yw=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}},fo=function(n){return this instanceof fo?(this.v=n,this):new fo(n)},Qw=function(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(w){return Promise.resolve(w).then(m,h)}}function a(m,w){r[m]&&(i[m]=function(I){return new Promise(function(D,y){s.push([m,I,D,y])>1||l(m,I)})},w&&(i[m]=w(i[m])))}function l(m,w){try{c(r[m](w))}catch(I){p(s[0][3],I)}}function c(m){m.value instanceof fo?Promise.resolve(m.value.v).then(d,h):p(s[0][2],m)}function d(m){l("next",m)}function h(m){l("throw",m)}function p(m,w){m(w),s.shift(),s.length&&l(s[0][0],s[0][1])}},Xw=function(n){var e,t;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=n[i]?function(o){return(t=!t)?{value:fo(n[i](o)),done:!1}:s?s(o):o}:s}};function Zw(n){return Qw(this,arguments,function*(){yield fo(yield*Xw(Yw(n)))})}var Fp=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}},ls=function(n){return this instanceof ls?(this.v=n,this):new ls(n)},e1=function(n){var e,t;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=n[i]?function(o){return(t=!t)?{value:ls(n[i](o)),done:!1}:s?s(o):o}:s}},t1=function(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(w){return Promise.resolve(w).then(m,h)}}function a(m,w){r[m]&&(i[m]=function(I){return new Promise(function(D,y){s.push([m,I,D,y])>1||l(m,I)})},w&&(i[m]=w(i[m])))}function l(m,w){try{c(r[m](w))}catch(I){p(s[0][3],I)}}function c(m){m.value instanceof ls?Promise.resolve(m.value.v).then(d,h):p(s[0][2],m)}function d(m){l("next",m)}function h(m){l("throw",m)}function p(m,w){m(w),s.shift(),s.length&&l(s[0][0],s[0][1])}};function n1(n,e){return Gw(n,t=>{switch(t.kind){case Be.Unary:return r1(e,n,t);case Be.ServerStreaming:return i1(e,n,t);case Be.ClientStreaming:return s1(e,n,t);case Be.BiDiStreaming:return o1(e,n,t);default:return null}})}function r1(n,e,t){return async function(r,i){var s,o;const a=await n.unary(e,t,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,r,i==null?void 0:i.contextValues);return(s=i==null?void 0:i.onHeader)===null||s===void 0||s.call(i,a.header),(o=i==null?void 0:i.onTrailer)===null||o===void 0||o.call(i,a.trailer),a.message}}function i1(n,e,t){return function(r,i){return bp(n.stream(e,t,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,Zw([r]),i==null?void 0:i.contextValues),i)}}function s1(n,e,t){return async function(r,i){var s,o,a,l,c,d;const h=await n.stream(e,t,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,r,i==null?void 0:i.contextValues);(c=i==null?void 0:i.onHeader)===null||c===void 0||c.call(i,h.header);let p;try{for(var m=!0,w=Fp(h.message),I;I=await w.next(),s=I.done,!s;m=!0)l=I.value,m=!1,p=l}catch(D){o={error:D}}finally{try{!m&&!s&&(a=w.return)&&await a.call(w)}finally{if(o)throw o.error}}if(!p)throw new me("protocol error: missing response message",H.Internal);return(d=i==null?void 0:i.onTrailer)===null||d===void 0||d.call(i,h.trailer),p}}function o1(n,e,t){return function(r,i){return bp(n.stream(e,t,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,r,i==null?void 0:i.contextValues),i)}}function bp(n,e){const t=function(){var r,i;return t1(this,arguments,function*(){const s=yield ls(n);(r=e==null?void 0:e.onHeader)===null||r===void 0||r.call(e,s.header),yield ls(yield*e1(Fp(s.message))),(i=e==null?void 0:e.onTrailer)===null||i===void 0||i.call(e,s.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>t.next()})}}function a1(...n){const e=new AbortController,t=n.filter(i=>i!==void 0).concat(e.signal);for(const i of t){if(i.aborted){r.apply(i);break}i.addEventListener("abort",r)}function r(){e.signal.aborted||e.abort(Mp(this));for(const i of t)i.removeEventListener("abort",r)}return e}function l1(n){const e=new AbortController,t=()=>{e.abort(new me("the operation timed out",H.DeadlineExceeded))};let r;return n!==void 0&&(n<=0?t():r=setTimeout(t,n)),{signal:e.signal,cleanup:()=>clearTimeout(r)}}function Mp(n){if(!n.aborted)return;if(n.reason!==void 0)return n.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function Rh(){return{get(n){return n.id in this?this[n.id]:n.defaultValue},set(n,e){return this[n.id]=e,this},delete(n){return delete this[n.id],this}}}const yu=128;function Lh(n){const e=new Headers,t=new TextDecoder().decode(n).split(`\r
`);for(const r of t){if(r==="")continue;const i=r.indexOf(":");if(i>0){const s=r.substring(0,i).trim(),o=r.substring(i+1).trim();e.append(s,o)}}return e}const u1="Content-Type",c1="Grpc-Timeout",Jp="Grpc-Status",$p="Grpc-Message",f1="Grpc-Status-Details-Bin",d1="X-User-Agent",h1="X-Grpc-Web",g1="application/grpc-web+proto",m1="application/grpc-web+json";class fr extends O{constructor(e){super(),this.code=0,this.message="",this.details=[],f.util.initPartial(e,this)}static fromBinary(e,t){return new fr().fromBinary(e,t)}static fromJson(e,t){return new fr().fromJson(e,t)}static fromJsonString(e,t){return new fr().fromJsonString(e,t)}static equals(e,t){return f.util.equals(fr,e,t)}}fr.runtime=f;fr.typeName="google.rpc.Status";fr.fields=f.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:Kt,repeated:!0}]);const p1="0";function zp(n){var e;const t=n.get(f1);if(t!=null){const i=Hw(t,fr);if(i.code==0)return;const s=new me(i.message,i.code,n);return s.details=i.details.map(o=>({type:o.typeUrl.substring(o.typeUrl.lastIndexOf("/")+1),value:o.value})),s}const r=n.get(Jp);if(r!=null){if(r===p1)return;const i=parseInt(r,10);return i in H?new me(decodeURIComponent((e=n.get($p))!==null&&e!==void 0?e:""),i,n):new me(`invalid grpc-status: ${r}`,H.Internal,n)}}function Bh(n,e,t){const r=typeof e=="string"?e:e.typeName,i=typeof t=="string"?t:t.name;return n.toString().replace(/\/?$/,`/${r}/${i}`)}function Up(n,e){return e instanceof n?e:new n(e)}function y1(n,e){function t(r){return r.done===!0?r:{done:r.done,value:Up(n,r.value)}}return{[Symbol.asyncIterator](){const r=e[Symbol.asyncIterator](),i={next:()=>r.next().then(t)};return r.throw!==void 0&&(i.throw=s=>r.throw(s).then(t)),r.return!==void 0&&(i.return=s=>r.return(s).then(t)),i}}}function jp(n,e){var t;return(t=e==null?void 0:e.concat().reverse().reduce((r,i)=>i(r),n))!==null&&t!==void 0?t:n}function v1(n){var e;const t=Object.assign({},n);return(e=t.ignoreUnknownFields)!==null&&e!==void 0||(t.ignoreUnknownFields=!0),t}function Fh(n,e,t,r){const i=e?bh(n.I,r):Mh(n.I,t);return{parse:(e?bh(n.O,r):Mh(n.O,t)).parse,serialize:i.serialize}}function bh(n,e){return{parse(t){try{return n.fromBinary(t,e)}catch(r){const i=r instanceof Error?r.message:String(r);throw new me(`parse binary: ${i}`,H.InvalidArgument)}},serialize(t){try{return t.toBinary(e)}catch(r){const i=r instanceof Error?r.message:String(r);throw new me(`serialize binary: ${i}`,H.Internal)}}}}function Mh(n,e){var t,r;const i=(t=e==null?void 0:e.textEncoder)!==null&&t!==void 0?t:new TextEncoder,s=(r=e==null?void 0:e.textDecoder)!==null&&r!==void 0?r:new TextDecoder,o=v1(e);return{parse(a){try{const l=s.decode(a);return n.fromJsonString(l,o)}catch(l){throw me.from(l,H.InvalidArgument)}},serialize(a){try{const l=a.toJsonString(o);return i.encode(l)}catch(l){throw me.from(l,H.Internal)}}}}function w1(n){const e=jp(n.next,n.interceptors),[t,r,i]=qp(n),s=Object.assign(Object.assign({},n.req),{message:Up(n.req.method.I,n.req.message),signal:t});return e(s).then(o=>(i(),o),r)}function S1(n){const e=jp(n.next,n.interceptors),[t,r,i]=qp(n),s=Object.assign(Object.assign({},n.req),{message:y1(n.req.method.I,n.req.message),signal:t});let o=!1;return t.addEventListener("abort",function(){var a,l;const c=n.req.message[Symbol.asyncIterator]();o||(a=c.throw)===null||a===void 0||a.call(c,this.reason).catch(()=>{}),(l=c.return)===null||l===void 0||l.call(c).catch(()=>{})}),e(s).then(a=>Object.assign(Object.assign({},a),{message:{[Symbol.asyncIterator](){const l=a.message[Symbol.asyncIterator]();return{next(){return l.next().then(c=>(c.done==!0&&(o=!0,i()),c),r)}}}}}),r)}function qp(n){const{signal:e,cleanup:t}=l1(n.timeoutMs),r=a1(n.signal,e);return[r.signal,function(s){const o=me.from(e.aborted?Mp(e):s);return r.abort(o),t(),Promise.reject(o)},function(){t(),r.abort()}]}function k1(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Jh(n,e){const t=zp(n);if(t)throw e.forEach((r,i)=>{t.metadata.append(i,r)}),t}function $h(n,e,t,r){const i=new Headers(t??{});return i.set(u1,n?g1:m1),i.set(h1,"1"),i.set(d1,"connect-es/1.4.0"),e!==void 0&&i.set(c1,`${e}m`),i}function T1(n){switch(n){case 400:return H.Internal;case 401:return H.Unauthenticated;case 403:return H.PermissionDenied;case 404:return H.Unimplemented;case 429:return H.Unavailable;case 502:return H.Unavailable;case 503:return H.Unavailable;case 504:return H.Unavailable;default:return H.Unknown}}function zh(n,e){var t;if(n>=200&&n<300){const r=zp(e);if(r)throw r;return{foundStatus:e.has(Jp)}}throw new me(decodeURIComponent((t=e.get($p))!==null&&t!==void 0?t:`HTTP ${n}`),T1(n),e)}var fi=function(n){return this instanceof fi?(this.v=n,this):new fi(n)},A1=function(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(w){return Promise.resolve(w).then(m,h)}}function a(m,w){r[m]&&(i[m]=function(I){return new Promise(function(D,y){s.push([m,I,D,y])>1||l(m,I)})},w&&(i[m]=w(i[m])))}function l(m,w){try{c(r[m](w))}catch(I){p(s[0][3],I)}}function c(m){m.value instanceof fi?Promise.resolve(m.value.v).then(d,h):p(s[0][2],m)}function d(m){l("next",m)}function h(m){l("throw",m)}function p(m,w){m(w),s.shift(),s.length&&l(s[0][0],s[0][1])}};function I1(n){var e;k1();const t=(e=n.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(r,i,s,o,a,l,c){var d;const{serialize:h,parse:p}=Fh(i,t,n.jsonOptions,n.binaryOptions);return o=o===void 0?n.defaultTimeoutMs:o<=0?void 0:o,await w1({interceptors:n.interceptors,signal:s,timeoutMs:o,req:{stream:!1,service:r,method:i,url:Bh(n.baseUrl,r,i),init:{method:"POST",credentials:(d=n.credentials)!==null&&d!==void 0?d:"same-origin",redirect:"error",mode:"cors"},header:$h(t,o,a),contextValues:c??Rh(),message:l},next:async m=>{var w;const D=await((w=n.fetch)!==null&&w!==void 0?w:globalThis.fetch)(m.url,Object.assign(Object.assign({},m.init),{headers:m.header,signal:m.signal,body:Oh(0,h(m.message))}));if(zh(D.status,D.headers),!D.body)throw"missing response body";const y=Dh(D.body).getReader();let g,v;for(;;){const T=await y.read();if(T.done)break;const{flags:x,data:N}=T.value;if(x===yu){if(g!==void 0)throw"extra trailer";g=Lh(N);continue}if(v!==void 0)throw"extra message";v=p(N)}if(g===void 0)throw"missing trailer";if(Jh(g,D.headers),v===void 0)throw"missing message";return{stream:!1,service:r,method:i,header:D.headers,message:v,trailer:g}}})},async stream(r,i,s,o,a,l,c){var d;const{serialize:h,parse:p}=Fh(i,t,n.jsonOptions,n.binaryOptions);function m(I,D,y,g){return A1(this,arguments,function*(){const T=Dh(I).getReader();if(D){if(!(yield fi(T.read())).done)throw"extra data for trailers-only";return yield fi(void 0)}let x=!1;for(;;){const N=yield fi(T.read());if(N.done)break;const{flags:P,data:B}=N.value;if((P&yu)===yu){if(x)throw"extra trailer";x=!0;const _=Lh(B);Jh(_,g),_.forEach((U,Ge)=>y.set(Ge,U));continue}if(x)throw"extra message";yield yield fi(p(B))}if(!x)throw"missing trailer"})}async function w(I){if(i.kind!=Be.ServerStreaming)throw"The fetch API does not support streaming request bodies";const D=await I[Symbol.asyncIterator]().next();if(D.done==!0)throw"missing request message";return Oh(0,h(D.value))}return o=o===void 0?n.defaultTimeoutMs:o<=0?void 0:o,S1({interceptors:n.interceptors,signal:s,timeoutMs:o,req:{stream:!0,service:r,method:i,url:Bh(n.baseUrl,r,i),init:{method:"POST",credentials:(d=n.credentials)!==null&&d!==void 0?d:"same-origin",redirect:"error",mode:"cors"},header:$h(t,o,a),contextValues:c??Rh(),message:l},next:async I=>{var D;const g=await((D=n.fetch)!==null&&D!==void 0?D:globalThis.fetch)(I.url,Object.assign(Object.assign({},I.init),{headers:I.header,signal:I.signal,body:await w(I.message)})),{foundStatus:v}=zh(g.status,g.headers);if(!g.body)throw"missing response body";const T=new Headers;return Object.assign(Object.assign({},I),{header:g.headers,trailer:T,message:m(g.body,v,T,g.headers)})}})}}}var $=(n=>(n[n.NULL=0]="NULL",n[n.BOOLEAN=1]="BOOLEAN",n[n.INTEGER=2]="INTEGER",n[n.LONG=3]="LONG",n[n.DOUBLE=4]="DOUBLE",n[n.STRING=5]="STRING",n[n.BYTES=6]="BYTES",n[n.DATE=7]="DATE",n[n.JSON_OBJECT=8]="JSON_OBJECT",n[n.JSON_ARRAY=9]="JSON_ARRAY",n[n.TEXT=10]="TEXT",n[n.INTEGER_CNT=11]="INTEGER_CNT",n[n.LONG_CNT=12]="LONG_CNT",n[n.TREE=13]="TREE",n))($||{});f.util.setEnumType($,"yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER"},{no:3,name:"VALUE_TYPE_LONG"},{no:4,name:"VALUE_TYPE_DOUBLE"},{no:5,name:"VALUE_TYPE_STRING"},{no:6,name:"VALUE_TYPE_BYTES"},{no:7,name:"VALUE_TYPE_DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE"}]);var pi=(n=>(n[n.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",n[n.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",n[n.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",n[n.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",n))(pi||{});f.util.setEnumType(pi,"yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST"}]);const an=class an extends O{constructor(t){super();u(this,"root");u(this,"presences",{});f.util.initPartial(t,this)}static fromBinary(t,r){return new an().fromBinary(t,r)}static fromJson(t,r){return new an().fromJson(t,r)}static fromJsonString(t,r){return new an().fromJsonString(t,r)}static equals(t,r){return f.util.equals(an,t,r)}};u(an,"runtime",f),u(an,"typeName","yorkie.v1.Snapshot"),u(an,"fields",f.util.newFieldList(()=>[{no:1,name:"root",kind:"message",T:He},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:Kf}}]));let wc=an;var ct;let Ar=(ct=class extends O{constructor(t){super();u(this,"documentKey","");u(this,"checkpoint");u(this,"snapshot",new Uint8Array(0));u(this,"changes",[]);u(this,"minSyncedTicket");u(this,"isRemoved",!1);f.util.initPartial(t,this)}static fromBinary(t,r){return new ct().fromBinary(t,r)}static fromJson(t,r){return new ct().fromJson(t,r)}static fromJsonString(t,r){return new ct().fromJsonString(t,r)}static equals(t,r){return f.util.equals(ct,t,r)}},u(ct,"runtime",f),u(ct,"typeName","yorkie.v1.ChangePack"),u(ct,"fields",f.util.newFieldList(()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:Wp},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:Vp,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:F},{no:6,name:"is_removed",kind:"scalar",T:8}])),ct);var ft;let Vp=(ft=class extends O{constructor(t){super();u(this,"id");u(this,"message","");u(this,"operations",[]);u(this,"presenceChange");f.util.initPartial(t,this)}static fromBinary(t,r){return new ft().fromBinary(t,r)}static fromJson(t,r){return new ft().fromJson(t,r)}static fromJsonString(t,r){return new ft().fromJsonString(t,r)}static equals(t,r){return f.util.equals(ft,t,r)}},u(ft,"runtime",f),u(ft,"typeName","yorkie.v1.Change"),u(ft,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Ll},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:Vf,repeated:!0},{no:4,name:"presence_change",kind:"message",T:mo}])),ft);var dt;let Ll=(dt=class extends O{constructor(t){super();u(this,"clientSeq",0);u(this,"serverSeq",te.zero);u(this,"lamport",te.zero);u(this,"actorId",new Uint8Array(0));f.util.initPartial(t,this)}static fromBinary(t,r){return new dt().fromBinary(t,r)}static fromJson(t,r){return new dt().fromJson(t,r)}static fromJsonString(t,r){return new dt().fromJsonString(t,r)}static equals(t,r){return f.util.equals(dt,t,r)}},u(dt,"runtime",f),u(dt,"typeName","yorkie.v1.ChangeID"),u(dt,"fields",f.util.newFieldList(()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3},{no:3,name:"lamport",kind:"scalar",T:3},{no:4,name:"actor_id",kind:"scalar",T:12}])),dt);var ht;let Vf=(ht=class extends O{constructor(t){super();u(this,"body",{case:void 0});f.util.initPartial(t,this)}static fromBinary(t,r){return new ht().fromBinary(t,r)}static fromJson(t,r){return new ht().fromJson(t,r)}static fromJsonString(t,r){return new ht().fromJsonString(t,r)}static equals(t,r){return f.util.equals(ht,t,r)}},u(ht,"runtime",f),u(ht,"typeName","yorkie.v1.Operation"),u(ht,"fields",f.util.newFieldList(()=>[{no:1,name:"set",kind:"message",T:Ha,oneof:"body"},{no:2,name:"add",kind:"message",T:Ga,oneof:"body"},{no:3,name:"move",kind:"message",T:Ya,oneof:"body"},{no:4,name:"remove",kind:"message",T:Qa,oneof:"body"},{no:5,name:"edit",kind:"message",T:Xa,oneof:"body"},{no:6,name:"select",kind:"message",T:Sc,oneof:"body"},{no:7,name:"style",kind:"message",T:Za,oneof:"body"},{no:8,name:"increase",kind:"message",T:el,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:tl,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:nl,oneof:"body"},{no:11,name:"array_set",kind:"message",T:kc,oneof:"body"}])),ht);const ln=class ln extends O{constructor(t){super();u(this,"parentCreatedAt");u(this,"key","");u(this,"value");u(this,"executedAt");f.util.initPartial(t,this)}static fromBinary(t,r){return new ln().fromBinary(t,r)}static fromJson(t,r){return new ln().fromJson(t,r)}static fromJsonString(t,r){return new ln().fromJsonString(t,r)}static equals(t,r){return f.util.equals(ln,t,r)}};u(ln,"runtime",f),u(ln,"typeName","yorkie.v1.Operation.Set"),u(ln,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:ut},{no:4,name:"executed_at",kind:"message",T:F}]));let Ha=ln;const un=class un extends O{constructor(t){super();u(this,"parentCreatedAt");u(this,"prevCreatedAt");u(this,"value");u(this,"executedAt");f.util.initPartial(t,this)}static fromBinary(t,r){return new un().fromBinary(t,r)}static fromJson(t,r){return new un().fromJson(t,r)}static fromJsonString(t,r){return new un().fromJsonString(t,r)}static equals(t,r){return f.util.equals(un,t,r)}};u(un,"runtime",f),u(un,"typeName","yorkie.v1.Operation.Add"),u(un,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"prev_created_at",kind:"message",T:F},{no:3,name:"value",kind:"message",T:ut},{no:4,name:"executed_at",kind:"message",T:F}]));let Ga=un;const cn=class cn extends O{constructor(t){super();u(this,"parentCreatedAt");u(this,"prevCreatedAt");u(this,"createdAt");u(this,"executedAt");f.util.initPartial(t,this)}static fromBinary(t,r){return new cn().fromBinary(t,r)}static fromJson(t,r){return new cn().fromJson(t,r)}static fromJsonString(t,r){return new cn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(cn,t,r)}};u(cn,"runtime",f),u(cn,"typeName","yorkie.v1.Operation.Move"),u(cn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"prev_created_at",kind:"message",T:F},{no:3,name:"created_at",kind:"message",T:F},{no:4,name:"executed_at",kind:"message",T:F}]));let Ya=cn;const fn=class fn extends O{constructor(t){super();u(this,"parentCreatedAt");u(this,"createdAt");u(this,"executedAt");f.util.initPartial(t,this)}static fromBinary(t,r){return new fn().fromBinary(t,r)}static fromJson(t,r){return new fn().fromJson(t,r)}static fromJsonString(t,r){return new fn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(fn,t,r)}};u(fn,"runtime",f),u(fn,"typeName","yorkie.v1.Operation.Remove"),u(fn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"created_at",kind:"message",T:F},{no:3,name:"executed_at",kind:"message",T:F}]));let Qa=fn;const dn=class dn extends O{constructor(t){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"createdAtMapByActor",{});u(this,"content","");u(this,"executedAt");u(this,"attributes",{});f.util.initPartial(t,this)}static fromBinary(t,r){return new dn().fromBinary(t,r)}static fromJson(t,r){return new dn().fromJson(t,r)}static fromJsonString(t,r){return new dn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(dn,t,r)}};u(dn,"runtime",f),u(dn,"typeName","yorkie.v1.Operation.Edit"),u(dn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"from",kind:"message",T:Sr},{no:3,name:"to",kind:"message",T:Sr},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:F}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:F},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let Xa=dn;const hn=class hn extends O{constructor(t){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"executedAt");f.util.initPartial(t,this)}static fromBinary(t,r){return new hn().fromBinary(t,r)}static fromJson(t,r){return new hn().fromJson(t,r)}static fromJsonString(t,r){return new hn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(hn,t,r)}};u(hn,"runtime",f),u(hn,"typeName","yorkie.v1.Operation.Select"),u(hn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"from",kind:"message",T:Sr},{no:3,name:"to",kind:"message",T:Sr},{no:4,name:"executed_at",kind:"message",T:F}]));let Sc=hn;const gn=class gn extends O{constructor(t){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"attributes",{});u(this,"executedAt");u(this,"createdAtMapByActor",{});f.util.initPartial(t,this)}static fromBinary(t,r){return new gn().fromBinary(t,r)}static fromJson(t,r){return new gn().fromJson(t,r)}static fromJsonString(t,r){return new gn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(gn,t,r)}};u(gn,"runtime",f),u(gn,"typeName","yorkie.v1.Operation.Style"),u(gn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"from",kind:"message",T:Sr},{no:3,name:"to",kind:"message",T:Sr},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:F},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:F}}]));let Za=gn;const mn=class mn extends O{constructor(t){super();u(this,"parentCreatedAt");u(this,"value");u(this,"executedAt");f.util.initPartial(t,this)}static fromBinary(t,r){return new mn().fromBinary(t,r)}static fromJson(t,r){return new mn().fromJson(t,r)}static fromJsonString(t,r){return new mn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(mn,t,r)}};u(mn,"runtime",f),u(mn,"typeName","yorkie.v1.Operation.Increase"),u(mn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"value",kind:"message",T:ut},{no:3,name:"executed_at",kind:"message",T:F}]));let el=mn;const pn=class pn extends O{constructor(t){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"createdAtMapByActor",{});u(this,"contents",[]);u(this,"splitLevel",0);u(this,"executedAt");f.util.initPartial(t,this)}static fromBinary(t,r){return new pn().fromBinary(t,r)}static fromJson(t,r){return new pn().fromJson(t,r)}static fromJsonString(t,r){return new pn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(pn,t,r)}};u(pn,"runtime",f),u(pn,"typeName","yorkie.v1.Operation.TreeEdit"),u(pn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"from",kind:"message",T:Ti},{no:3,name:"to",kind:"message",T:Ti},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:F}},{no:5,name:"contents",kind:"message",T:fl,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:F}]));let tl=pn;const yn=class yn extends O{constructor(t){super();u(this,"parentCreatedAt");u(this,"from");u(this,"to");u(this,"attributes",{});u(this,"executedAt");u(this,"attributesToRemove",[]);u(this,"createdAtMapByActor",{});f.util.initPartial(t,this)}static fromBinary(t,r){return new yn().fromBinary(t,r)}static fromJson(t,r){return new yn().fromJson(t,r)}static fromJsonString(t,r){return new yn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(yn,t,r)}};u(yn,"runtime",f),u(yn,"typeName","yorkie.v1.Operation.TreeStyle"),u(yn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"from",kind:"message",T:Ti},{no:3,name:"to",kind:"message",T:Ti},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:F},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:F}}]));let nl=yn;const vn=class vn extends O{constructor(t){super();u(this,"parentCreatedAt");u(this,"createdAt");u(this,"value");u(this,"executedAt");f.util.initPartial(t,this)}static fromBinary(t,r){return new vn().fromBinary(t,r)}static fromJson(t,r){return new vn().fromJson(t,r)}static fromJsonString(t,r){return new vn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(vn,t,r)}};u(vn,"runtime",f),u(vn,"typeName","yorkie.v1.Operation.ArraySet"),u(vn,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"created_at",kind:"message",T:F},{no:3,name:"value",kind:"message",T:ut},{no:4,name:"executed_at",kind:"message",T:F}]));let kc=vn;const wn=class wn extends O{constructor(t){super();u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");u(this,"type",0);u(this,"value",new Uint8Array(0));f.util.initPartial(t,this)}static fromBinary(t,r){return new wn().fromBinary(t,r)}static fromJson(t,r){return new wn().fromJson(t,r)}static fromJsonString(t,r){return new wn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(wn,t,r)}};u(wn,"runtime",f),u(wn,"typeName","yorkie.v1.JSONElementSimple"),u(wn,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:F},{no:2,name:"moved_at",kind:"message",T:F},{no:3,name:"removed_at",kind:"message",T:F},{no:4,name:"type",kind:"enum",T:f.getEnumType($)},{no:5,name:"value",kind:"scalar",T:12}]));let ut=wn;const Sn=class Sn extends O{constructor(t){super();u(this,"body",{case:void 0});f.util.initPartial(t,this)}static fromBinary(t,r){return new Sn().fromBinary(t,r)}static fromJson(t,r){return new Sn().fromJson(t,r)}static fromJsonString(t,r){return new Sn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Sn,t,r)}};u(Sn,"runtime",f),u(Sn,"typeName","yorkie.v1.JSONElement"),u(Sn,"fields",f.util.newFieldList(()=>[{no:1,name:"json_object",kind:"message",T:rl,oneof:"body"},{no:2,name:"json_array",kind:"message",T:il,oneof:"body"},{no:3,name:"primitive",kind:"message",T:sl,oneof:"body"},{no:5,name:"text",kind:"message",T:ol,oneof:"body"},{no:6,name:"counter",kind:"message",T:al,oneof:"body"},{no:7,name:"tree",kind:"message",T:ll,oneof:"body"}]));let He=Sn;const kn=class kn extends O{constructor(t){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(t,this)}static fromBinary(t,r){return new kn().fromBinary(t,r)}static fromJson(t,r){return new kn().fromJson(t,r)}static fromJsonString(t,r){return new kn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(kn,t,r)}};u(kn,"runtime",f),u(kn,"typeName","yorkie.v1.JSONElement.JSONObject"),u(kn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Kp,repeated:!0},{no:2,name:"created_at",kind:"message",T:F},{no:3,name:"moved_at",kind:"message",T:F},{no:4,name:"removed_at",kind:"message",T:F}]));let rl=kn;const Tn=class Tn extends O{constructor(t){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(t,this)}static fromBinary(t,r){return new Tn().fromBinary(t,r)}static fromJson(t,r){return new Tn().fromJson(t,r)}static fromJsonString(t,r){return new Tn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Tn,t,r)}};u(Tn,"runtime",f),u(Tn,"typeName","yorkie.v1.JSONElement.JSONArray"),u(Tn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:ul,repeated:!0},{no:2,name:"created_at",kind:"message",T:F},{no:3,name:"moved_at",kind:"message",T:F},{no:4,name:"removed_at",kind:"message",T:F}]));let il=Tn;const An=class An extends O{constructor(t){super();u(this,"type",0);u(this,"value",new Uint8Array(0));u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(t,this)}static fromBinary(t,r){return new An().fromBinary(t,r)}static fromJson(t,r){return new An().fromJson(t,r)}static fromJsonString(t,r){return new An().fromJsonString(t,r)}static equals(t,r){return f.util.equals(An,t,r)}};u(An,"runtime",f),u(An,"typeName","yorkie.v1.JSONElement.Primitive"),u(An,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType($)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:F},{no:4,name:"moved_at",kind:"message",T:F},{no:5,name:"removed_at",kind:"message",T:F}]));let sl=An;const In=class In extends O{constructor(t){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(t,this)}static fromBinary(t,r){return new In().fromBinary(t,r)}static fromJson(t,r){return new In().fromJson(t,r)}static fromJsonString(t,r){return new In().fromJsonString(t,r)}static equals(t,r){return f.util.equals(In,t,r)}};u(In,"runtime",f),u(In,"typeName","yorkie.v1.JSONElement.Text"),u(In,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:cl,repeated:!0},{no:2,name:"created_at",kind:"message",T:F},{no:3,name:"moved_at",kind:"message",T:F},{no:4,name:"removed_at",kind:"message",T:F}]));let ol=In;const En=class En extends O{constructor(t){super();u(this,"type",0);u(this,"value",new Uint8Array(0));u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(t,this)}static fromBinary(t,r){return new En().fromBinary(t,r)}static fromJson(t,r){return new En().fromJson(t,r)}static fromJsonString(t,r){return new En().fromJsonString(t,r)}static equals(t,r){return f.util.equals(En,t,r)}};u(En,"runtime",f),u(En,"typeName","yorkie.v1.JSONElement.Counter"),u(En,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType($)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:F},{no:4,name:"moved_at",kind:"message",T:F},{no:5,name:"removed_at",kind:"message",T:F}]));let al=En;const xn=class xn extends O{constructor(t){super();u(this,"nodes",[]);u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");f.util.initPartial(t,this)}static fromBinary(t,r){return new xn().fromBinary(t,r)}static fromJson(t,r){return new xn().fromJson(t,r)}static fromJsonString(t,r){return new xn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(xn,t,r)}};u(xn,"runtime",f),u(xn,"typeName","yorkie.v1.JSONElement.Tree"),u(xn,"fields",f.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:go,repeated:!0},{no:2,name:"created_at",kind:"message",T:F},{no:3,name:"moved_at",kind:"message",T:F},{no:4,name:"removed_at",kind:"message",T:F}]));let ll=xn;var gt;let Kp=(gt=class extends O{constructor(t){super();u(this,"key","");u(this,"element");f.util.initPartial(t,this)}static fromBinary(t,r){return new gt().fromBinary(t,r)}static fromJson(t,r){return new gt().fromJson(t,r)}static fromJsonString(t,r){return new gt().fromJsonString(t,r)}static equals(t,r){return f.util.equals(gt,t,r)}},u(gt,"runtime",f),u(gt,"typeName","yorkie.v1.RHTNode"),u(gt,"fields",f.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:He}])),gt);const jt=class jt extends O{constructor(t){super();u(this,"next");u(this,"element");f.util.initPartial(t,this)}static fromBinary(t,r){return new jt().fromBinary(t,r)}static fromJson(t,r){return new jt().fromJson(t,r)}static fromJsonString(t,r){return new jt().fromJsonString(t,r)}static equals(t,r){return f.util.equals(jt,t,r)}};u(jt,"runtime",f),u(jt,"typeName","yorkie.v1.RGANode"),u(jt,"fields",f.util.newFieldList(()=>[{no:1,name:"next",kind:"message",T:jt},{no:2,name:"element",kind:"message",T:He}]));let ul=jt;const Cn=class Cn extends O{constructor(t){super();u(this,"value","");u(this,"updatedAt");u(this,"isRemoved",!1);f.util.initPartial(t,this)}static fromBinary(t,r){return new Cn().fromBinary(t,r)}static fromJson(t,r){return new Cn().fromJson(t,r)}static fromJsonString(t,r){return new Cn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Cn,t,r)}};u(Cn,"runtime",f),u(Cn,"typeName","yorkie.v1.NodeAttr"),u(Cn,"fields",f.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:F},{no:3,name:"is_removed",kind:"scalar",T:8}]));let us=Cn;const Nn=class Nn extends O{constructor(t){super();u(this,"id");u(this,"value","");u(this,"removedAt");u(this,"insPrevId");u(this,"attributes",{});f.util.initPartial(t,this)}static fromBinary(t,r){return new Nn().fromBinary(t,r)}static fromJson(t,r){return new Nn().fromJson(t,r)}static fromJsonString(t,r){return new Nn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Nn,t,r)}};u(Nn,"runtime",f),u(Nn,"typeName","yorkie.v1.TextNode"),u(Nn,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:ho},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:F},{no:4,name:"ins_prev_id",kind:"message",T:ho},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:us}}]));let cl=Nn;const Pn=class Pn extends O{constructor(t){super();u(this,"createdAt");u(this,"offset",0);f.util.initPartial(t,this)}static fromBinary(t,r){return new Pn().fromBinary(t,r)}static fromJson(t,r){return new Pn().fromJson(t,r)}static fromJsonString(t,r){return new Pn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Pn,t,r)}};u(Pn,"runtime",f),u(Pn,"typeName","yorkie.v1.TextNodeID"),u(Pn,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:F},{no:2,name:"offset",kind:"scalar",T:5}]));let ho=Pn;const Dn=class Dn extends O{constructor(t){super();u(this,"id");u(this,"type","");u(this,"value","");u(this,"removedAt");u(this,"insPrevId");u(this,"insNextId");u(this,"depth",0);u(this,"attributes",{});f.util.initPartial(t,this)}static fromBinary(t,r){return new Dn().fromBinary(t,r)}static fromJson(t,r){return new Dn().fromJson(t,r)}static fromJsonString(t,r){return new Dn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Dn,t,r)}};u(Dn,"runtime",f),u(Dn,"typeName","yorkie.v1.TreeNode"),u(Dn,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Vr},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:F},{no:5,name:"ins_prev_id",kind:"message",T:Vr},{no:6,name:"ins_next_id",kind:"message",T:Vr},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:us}}]));let go=Dn;const On=class On extends O{constructor(t){super();u(this,"content",[]);f.util.initPartial(t,this)}static fromBinary(t,r){return new On().fromBinary(t,r)}static fromJson(t,r){return new On().fromJson(t,r)}static fromJsonString(t,r){return new On().fromJsonString(t,r)}static equals(t,r){return f.util.equals(On,t,r)}};u(On,"runtime",f),u(On,"typeName","yorkie.v1.TreeNodes"),u(On,"fields",f.util.newFieldList(()=>[{no:1,name:"content",kind:"message",T:go,repeated:!0}]));let fl=On;const Rn=class Rn extends O{constructor(t){super();u(this,"createdAt");u(this,"offset",0);f.util.initPartial(t,this)}static fromBinary(t,r){return new Rn().fromBinary(t,r)}static fromJson(t,r){return new Rn().fromJson(t,r)}static fromJsonString(t,r){return new Rn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Rn,t,r)}};u(Rn,"runtime",f),u(Rn,"typeName","yorkie.v1.TreeNodeID"),u(Rn,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:F},{no:2,name:"offset",kind:"scalar",T:5}]));let Vr=Rn;const Ln=class Ln extends O{constructor(t){super();u(this,"parentId");u(this,"leftSiblingId");f.util.initPartial(t,this)}static fromBinary(t,r){return new Ln().fromBinary(t,r)}static fromJson(t,r){return new Ln().fromJson(t,r)}static fromJsonString(t,r){return new Ln().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Ln,t,r)}};u(Ln,"runtime",f),u(Ln,"typeName","yorkie.v1.TreePos"),u(Ln,"fields",f.util.newFieldList(()=>[{no:1,name:"parent_id",kind:"message",T:Vr},{no:2,name:"left_sibling_id",kind:"message",T:Vr}]));let Ti=Ln;const Bn=class Bn extends O{constructor(t){super();u(this,"id","");u(this,"username","");u(this,"createdAt");f.util.initPartial(t,this)}static fromBinary(t,r){return new Bn().fromBinary(t,r)}static fromJson(t,r){return new Bn().fromJson(t,r)}static fromJsonString(t,r){return new Bn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Bn,t,r)}};u(Bn,"runtime",f),u(Bn,"typeName","yorkie.v1.User"),u(Bn,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"created_at",kind:"message",T:De}]));let Uh=Bn;const Fn=class Fn extends O{constructor(t){super();u(this,"id","");u(this,"name","");u(this,"publicKey","");u(this,"secretKey","");u(this,"authWebhookUrl","");u(this,"authWebhookMethods",[]);u(this,"clientDeactivateThreshold","");u(this,"createdAt");u(this,"updatedAt");f.util.initPartial(t,this)}static fromBinary(t,r){return new Fn().fromBinary(t,r)}static fromJson(t,r){return new Fn().fromJson(t,r)}static fromJsonString(t,r){return new Fn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Fn,t,r)}};u(Fn,"runtime",f),u(Fn,"typeName","yorkie.v1.Project"),u(Fn,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:8,name:"created_at",kind:"message",T:De},{no:9,name:"updated_at",kind:"message",T:De}]));let jh=Fn;const bn=class bn extends O{constructor(t){super();u(this,"name");u(this,"authWebhookUrl");u(this,"authWebhookMethods");u(this,"clientDeactivateThreshold");f.util.initPartial(t,this)}static fromBinary(t,r){return new bn().fromBinary(t,r)}static fromJson(t,r){return new bn().fromJson(t,r)}static fromJsonString(t,r){return new bn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(bn,t,r)}};u(bn,"runtime",f),u(bn,"typeName","yorkie.v1.UpdatableProjectFields"),u(bn,"fields",f.util.newFieldList(()=>[{no:1,name:"name",kind:"message",T:Xe},{no:2,name:"auth_webhook_url",kind:"message",T:Xe},{no:3,name:"auth_webhook_methods",kind:"message",T:Tc},{no:4,name:"client_deactivate_threshold",kind:"message",T:Xe}]));let qh=bn;const Mn=class Mn extends O{constructor(t){super();u(this,"methods",[]);f.util.initPartial(t,this)}static fromBinary(t,r){return new Mn().fromBinary(t,r)}static fromJson(t,r){return new Mn().fromJson(t,r)}static fromJsonString(t,r){return new Mn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Mn,t,r)}};u(Mn,"runtime",f),u(Mn,"typeName","yorkie.v1.UpdatableProjectFields.AuthWebhookMethods"),u(Mn,"fields",f.util.newFieldList(()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}]));let Tc=Mn;const Jn=class Jn extends O{constructor(t){super();u(this,"id","");u(this,"key","");u(this,"snapshot","");u(this,"createdAt");u(this,"accessedAt");u(this,"updatedAt");f.util.initPartial(t,this)}static fromBinary(t,r){return new Jn().fromBinary(t,r)}static fromJson(t,r){return new Jn().fromJson(t,r)}static fromJsonString(t,r){return new Jn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Jn,t,r)}};u(Jn,"runtime",f),u(Jn,"typeName","yorkie.v1.DocumentSummary"),u(Jn,"fields",f.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"snapshot",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:De},{no:5,name:"accessed_at",kind:"message",T:De},{no:6,name:"updated_at",kind:"message",T:De}]));let Vh=Jn;const $n=class $n extends O{constructor(t){super();u(this,"type",0);u(this,"presence");f.util.initPartial(t,this)}static fromBinary(t,r){return new $n().fromBinary(t,r)}static fromJson(t,r){return new $n().fromJson(t,r)}static fromJsonString(t,r){return new $n().fromJsonString(t,r)}static equals(t,r){return f.util.equals($n,t,r)}};u($n,"runtime",f),u($n,"typeName","yorkie.v1.PresenceChange"),u($n,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(Ai)},{no:2,name:"presence",kind:"message",T:Kf}]));let mo=$n;var Ai=(n=>(n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.PUT=1]="PUT",n[n.DELETE=2]="DELETE",n[n.CLEAR=3]="CLEAR",n))(Ai||{});f.util.setEnumType(Ai,"yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT"},{no:2,name:"CHANGE_TYPE_DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR"}]);var mt;let Kf=(mt=class extends O{constructor(t){super();u(this,"data",{});f.util.initPartial(t,this)}static fromBinary(t,r){return new mt().fromBinary(t,r)}static fromJson(t,r){return new mt().fromJson(t,r)}static fromJsonString(t,r){return new mt().fromJsonString(t,r)}static equals(t,r){return f.util.equals(mt,t,r)}},u(mt,"runtime",f),u(mt,"typeName","yorkie.v1.Presence"),u(mt,"fields",f.util.newFieldList(()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}])),mt);var pt;let Wp=(pt=class extends O{constructor(t){super();u(this,"serverSeq",te.zero);u(this,"clientSeq",0);f.util.initPartial(t,this)}static fromBinary(t,r){return new pt().fromBinary(t,r)}static fromJson(t,r){return new pt().fromJson(t,r)}static fromJsonString(t,r){return new pt().fromJsonString(t,r)}static equals(t,r){return f.util.equals(pt,t,r)}},u(pt,"runtime",f),u(pt,"typeName","yorkie.v1.Checkpoint"),u(pt,"fields",f.util.newFieldList(()=>[{no:1,name:"server_seq",kind:"scalar",T:3},{no:2,name:"client_seq",kind:"scalar",T:13}])),pt);const zn=class zn extends O{constructor(t){super();u(this,"createdAt");u(this,"offset",0);u(this,"relativeOffset",0);f.util.initPartial(t,this)}static fromBinary(t,r){return new zn().fromBinary(t,r)}static fromJson(t,r){return new zn().fromJson(t,r)}static fromJsonString(t,r){return new zn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(zn,t,r)}};u(zn,"runtime",f),u(zn,"typeName","yorkie.v1.TextNodePos"),u(zn,"fields",f.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:F},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]));let Sr=zn;var yt;let F=(yt=class extends O{constructor(t){super();u(this,"lamport",te.zero);u(this,"delimiter",0);u(this,"actorId",new Uint8Array(0));f.util.initPartial(t,this)}static fromBinary(t,r){return new yt().fromBinary(t,r)}static fromJson(t,r){return new yt().fromJson(t,r)}static fromJsonString(t,r){return new yt().fromJsonString(t,r)}static equals(t,r){return f.util.equals(yt,t,r)}},u(yt,"runtime",f),u(yt,"typeName","yorkie.v1.TimeTicket"),u(yt,"fields",f.util.newFieldList(()=>[{no:1,name:"lamport",kind:"scalar",T:3},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}])),yt);const Un=class Un extends O{constructor(t){super();u(this,"topic","");u(this,"payload",new Uint8Array(0));f.util.initPartial(t,this)}static fromBinary(t,r){return new Un().fromBinary(t,r)}static fromJson(t,r){return new Un().fromJson(t,r)}static fromJsonString(t,r){return new Un().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Un,t,r)}};u(Un,"runtime",f),u(Un,"typeName","yorkie.v1.DocEventBody"),u(Un,"fields",f.util.newFieldList(()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]));let Ac=Un;const jn=class jn extends O{constructor(t){super();u(this,"type",0);u(this,"publisher","");u(this,"body");f.util.initPartial(t,this)}static fromBinary(t,r){return new jn().fromBinary(t,r)}static fromJson(t,r){return new jn().fromJson(t,r)}static fromJsonString(t,r){return new jn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(jn,t,r)}};u(jn,"runtime",f),u(jn,"typeName","yorkie.v1.DocEvent"),u(jn,"fields",f.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:f.getEnumType(pi)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:Ac}]));let Ic=jn;const qn=class qn extends O{constructor(t){super();u(this,"clientKey","");f.util.initPartial(t,this)}static fromBinary(t,r){return new qn().fromBinary(t,r)}static fromJson(t,r){return new qn().fromJson(t,r)}static fromJsonString(t,r){return new qn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(qn,t,r)}};u(qn,"runtime",f),u(qn,"typeName","yorkie.v1.ActivateClientRequest"),u(qn,"fields",f.util.newFieldList(()=>[{no:1,name:"client_key",kind:"scalar",T:9}]));let Ec=qn;const Vn=class Vn extends O{constructor(t){super();u(this,"clientId","");f.util.initPartial(t,this)}static fromBinary(t,r){return new Vn().fromBinary(t,r)}static fromJson(t,r){return new Vn().fromJson(t,r)}static fromJsonString(t,r){return new Vn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Vn,t,r)}};u(Vn,"runtime",f),u(Vn,"typeName","yorkie.v1.ActivateClientResponse"),u(Vn,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let xc=Vn;const Kn=class Kn extends O{constructor(t){super();u(this,"clientId","");f.util.initPartial(t,this)}static fromBinary(t,r){return new Kn().fromBinary(t,r)}static fromJson(t,r){return new Kn().fromJson(t,r)}static fromJsonString(t,r){return new Kn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Kn,t,r)}};u(Kn,"runtime",f),u(Kn,"typeName","yorkie.v1.DeactivateClientRequest"),u(Kn,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let Cc=Kn;const Wn=class Wn extends O{constructor(e){super(),f.util.initPartial(e,this)}static fromBinary(e,t){return new Wn().fromBinary(e,t)}static fromJson(e,t){return new Wn().fromJson(e,t)}static fromJsonString(e,t){return new Wn().fromJsonString(e,t)}static equals(e,t){return f.util.equals(Wn,e,t)}};u(Wn,"runtime",f),u(Wn,"typeName","yorkie.v1.DeactivateClientResponse"),u(Wn,"fields",f.util.newFieldList(()=>[]));let Nc=Wn;const _n=class _n extends O{constructor(t){super();u(this,"clientId","");u(this,"changePack");f.util.initPartial(t,this)}static fromBinary(t,r){return new _n().fromBinary(t,r)}static fromJson(t,r){return new _n().fromJson(t,r)}static fromJsonString(t,r){return new _n().fromJsonString(t,r)}static equals(t,r){return f.util.equals(_n,t,r)}};u(_n,"runtime",f),u(_n,"typeName","yorkie.v1.AttachDocumentRequest"),u(_n,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Ar}]));let Pc=_n;const Hn=class Hn extends O{constructor(t){super();u(this,"documentId","");u(this,"changePack");f.util.initPartial(t,this)}static fromBinary(t,r){return new Hn().fromBinary(t,r)}static fromJson(t,r){return new Hn().fromJson(t,r)}static fromJsonString(t,r){return new Hn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Hn,t,r)}};u(Hn,"runtime",f),u(Hn,"typeName","yorkie.v1.AttachDocumentResponse"),u(Hn,"fields",f.util.newFieldList(()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Ar}]));let Dc=Hn;const Gn=class Gn extends O{constructor(t){super();u(this,"clientId","");u(this,"documentId","");u(this,"changePack");u(this,"removeIfNotAttached",!1);f.util.initPartial(t,this)}static fromBinary(t,r){return new Gn().fromBinary(t,r)}static fromJson(t,r){return new Gn().fromJson(t,r)}static fromJsonString(t,r){return new Gn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Gn,t,r)}};u(Gn,"runtime",f),u(Gn,"typeName","yorkie.v1.DetachDocumentRequest"),u(Gn,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Ar},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]));let Oc=Gn;const Yn=class Yn extends O{constructor(t){super();u(this,"changePack");f.util.initPartial(t,this)}static fromBinary(t,r){return new Yn().fromBinary(t,r)}static fromJson(t,r){return new Yn().fromJson(t,r)}static fromJsonString(t,r){return new Yn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Yn,t,r)}};u(Yn,"runtime",f),u(Yn,"typeName","yorkie.v1.DetachDocumentResponse"),u(Yn,"fields",f.util.newFieldList(()=>[{no:2,name:"change_pack",kind:"message",T:Ar}]));let Rc=Yn;const Qn=class Qn extends O{constructor(t){super();u(this,"clientId","");u(this,"documentId","");f.util.initPartial(t,this)}static fromBinary(t,r){return new Qn().fromBinary(t,r)}static fromJson(t,r){return new Qn().fromJson(t,r)}static fromJsonString(t,r){return new Qn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Qn,t,r)}};u(Qn,"runtime",f),u(Qn,"typeName","yorkie.v1.WatchDocumentRequest"),u(Qn,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]));let Lc=Qn;const Xn=class Xn extends O{constructor(t){super();u(this,"body",{case:void 0});f.util.initPartial(t,this)}static fromBinary(t,r){return new Xn().fromBinary(t,r)}static fromJson(t,r){return new Xn().fromJson(t,r)}static fromJsonString(t,r){return new Xn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Xn,t,r)}};u(Xn,"runtime",f),u(Xn,"typeName","yorkie.v1.WatchDocumentResponse"),u(Xn,"fields",f.util.newFieldList(()=>[{no:1,name:"initialization",kind:"message",T:Fc,oneof:"body"},{no:2,name:"event",kind:"message",T:Ic,oneof:"body"}]));let Bc=Xn;const Zn=class Zn extends O{constructor(t){super();u(this,"clientIds",[]);f.util.initPartial(t,this)}static fromBinary(t,r){return new Zn().fromBinary(t,r)}static fromJson(t,r){return new Zn().fromJson(t,r)}static fromJsonString(t,r){return new Zn().fromJsonString(t,r)}static equals(t,r){return f.util.equals(Zn,t,r)}};u(Zn,"runtime",f),u(Zn,"typeName","yorkie.v1.WatchDocumentResponse.Initialization"),u(Zn,"fields",f.util.newFieldList(()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}]));let Fc=Zn;const er=class er extends O{constructor(t){super();u(this,"clientId","");u(this,"documentId","");u(this,"changePack");f.util.initPartial(t,this)}static fromBinary(t,r){return new er().fromBinary(t,r)}static fromJson(t,r){return new er().fromJson(t,r)}static fromJsonString(t,r){return new er().fromJsonString(t,r)}static equals(t,r){return f.util.equals(er,t,r)}};u(er,"runtime",f),u(er,"typeName","yorkie.v1.RemoveDocumentRequest"),u(er,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Ar}]));let bc=er;const tr=class tr extends O{constructor(t){super();u(this,"changePack");f.util.initPartial(t,this)}static fromBinary(t,r){return new tr().fromBinary(t,r)}static fromJson(t,r){return new tr().fromJson(t,r)}static fromJsonString(t,r){return new tr().fromJsonString(t,r)}static equals(t,r){return f.util.equals(tr,t,r)}};u(tr,"runtime",f),u(tr,"typeName","yorkie.v1.RemoveDocumentResponse"),u(tr,"fields",f.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Ar}]));let Mc=tr;const nr=class nr extends O{constructor(t){super();u(this,"clientId","");u(this,"documentId","");u(this,"changePack");u(this,"pushOnly",!1);f.util.initPartial(t,this)}static fromBinary(t,r){return new nr().fromBinary(t,r)}static fromJson(t,r){return new nr().fromJson(t,r)}static fromJsonString(t,r){return new nr().fromJsonString(t,r)}static equals(t,r){return f.util.equals(nr,t,r)}};u(nr,"runtime",f),u(nr,"typeName","yorkie.v1.PushPullChangesRequest"),u(nr,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Ar},{no:4,name:"push_only",kind:"scalar",T:8}]));let Jc=nr;const rr=class rr extends O{constructor(t){super();u(this,"changePack");f.util.initPartial(t,this)}static fromBinary(t,r){return new rr().fromBinary(t,r)}static fromJson(t,r){return new rr().fromJson(t,r)}static fromJsonString(t,r){return new rr().fromJsonString(t,r)}static equals(t,r){return f.util.equals(rr,t,r)}};u(rr,"runtime",f),u(rr,"typeName","yorkie.v1.PushPullChangesResponse"),u(rr,"fields",f.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Ar}]));let $c=rr;const ir=class ir extends O{constructor(t){super();u(this,"clientId","");u(this,"documentId","");u(this,"topic","");u(this,"payload",new Uint8Array(0));f.util.initPartial(t,this)}static fromBinary(t,r){return new ir().fromBinary(t,r)}static fromJson(t,r){return new ir().fromJson(t,r)}static fromJsonString(t,r){return new ir().fromJsonString(t,r)}static equals(t,r){return f.util.equals(ir,t,r)}};u(ir,"runtime",f),u(ir,"typeName","yorkie.v1.BroadcastRequest"),u(ir,"fields",f.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]));let zc=ir;const sr=class sr extends O{constructor(e){super(),f.util.initPartial(e,this)}static fromBinary(e,t){return new sr().fromBinary(e,t)}static fromJson(e,t){return new sr().fromJson(e,t)}static fromJsonString(e,t){return new sr().fromJsonString(e,t)}static equals(e,t){return f.util.equals(sr,e,t)}};u(sr,"runtime",f),u(sr,"typeName","yorkie.v1.BroadcastResponse"),u(sr,"fields",f.util.newFieldList(()=>[]));let Uc=sr;const E1={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:Ec,O:xc,kind:Be.Unary},deactivateClient:{name:"DeactivateClient",I:Cc,O:Nc,kind:Be.Unary},attachDocument:{name:"AttachDocument",I:Pc,O:Dc,kind:Be.Unary},detachDocument:{name:"DetachDocument",I:Oc,O:Rc,kind:Be.Unary},removeDocument:{name:"RemoveDocument",I:bc,O:Mc,kind:Be.Unary},pushPullChanges:{name:"PushPullChanges",I:Jc,O:$c,kind:Be.Unary},watchDocument:{name:"WatchDocument",I:Lc,O:Bc,kind:Be.ServerStreaming},broadcast:{name:"Broadcast",I:zc,O:Uc,kind:Be.Unary}}},x1=f.makeMessageType("google.rpc.ErrorInfo",()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]);f.makeMessageType("google.rpc.RetryInfo",()=>[{no:1,name:"retry_delay",kind:"message",T:cr}]);f.makeMessageType("google.rpc.DebugInfo",()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.QuotaFailure",()=>[{no:1,name:"violations",kind:"message",T:C1,repeated:!0}]);const C1=f.makeMessageType("google.rpc.QuotaFailure.Violation",()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}],{localName:"QuotaFailure_Violation"});f.makeMessageType("google.rpc.PreconditionFailure",()=>[{no:1,name:"violations",kind:"message",T:N1,repeated:!0}]);const N1=f.makeMessageType("google.rpc.PreconditionFailure.Violation",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}],{localName:"PreconditionFailure_Violation"});f.makeMessageType("google.rpc.BadRequest",()=>[{no:1,name:"field_violations",kind:"message",T:P1,repeated:!0}]);const P1=f.makeMessageType("google.rpc.BadRequest.FieldViolation",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}],{localName:"BadRequest_FieldViolation"});f.makeMessageType("google.rpc.RequestInfo",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.ResourceInfo",()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]);f.makeMessageType("google.rpc.Help",()=>[{no:1,name:"links",kind:"message",T:D1,repeated:!0}]);const D1=f.makeMessageType("google.rpc.Help.Link",()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}],{localName:"Help_Link"});f.makeMessageType("google.rpc.LocalizedMessage",()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]);var S=(n=>(n.Ok="ok",n.ErrClientNotActivated="ErrClientNotActivated",n.ErrClientNotFound="ErrClientNotFound",n.ErrUnimplemented="ErrUnimplemented",n.ErrInvalidType="ErrInvalidType",n.ErrDummy="ErrDummy",n.ErrDocumentNotAttached="ErrDocumentNotAttached",n.ErrDocumentNotDetached="ErrDocumentNotDetached",n.ErrDocumentRemoved="ErrDocumentRemoved",n.ErrInvalidObjectKey="ErrInvalidObjectKey",n.ErrInvalidArgument="ErrInvalidArgument",n.ErrNotInitialized="ErrNotInitialized",n.ErrNotReady="ErrNotReady",n.ErrRefused="ErrRefused",n.ErrContextNotProvided="ErrContextNotProvided",n))(S||{});class k extends Error{constructor(t,r){super(r);u(this,"name","YorkieError");u(this,"stack");this.code=t,this.message=r,this.toString=()=>`[code=${this.code}]: ${this.message}`}}function Nt(n){if(n instanceof Map){const e=Array.from(n);return new Map(JSON.parse(JSON.stringify(e)))}return JSON.parse(JSON.stringify(n))}const _p=n=>n?Object.entries(n).length===0:!0,cs=n=>{const e={};for(const[t,r]of Object.entries(n))e[t]=JSON.stringify(r);return e},Xi=n=>{const e={};for(const[t,r]of Object.entries(n))e[t]=JSON.parse(r);return e};var Yr=(n=>(n.Put="put",n.Clear="clear",n))(Yr||{});class vu{constructor(e,t){u(this,"context");u(this,"presence");this.context=e,this.presence=t}set(e,t){for(const r of Object.keys(e))this.presence[r]=e[r];this.context.setPresenceChange({type:"put",presence:Nt(this.presence)}),this.context.setReversePresence(e,t)}get(e){return this.presence[e]}clear(){this.presence={},this.context.setPresenceChange({type:"clear"})}}const Wf="000000000000000000000000",O1="FFFFFFFFFFFFFFFFFFFFFFFF";class tt{constructor(e,t,r){u(this,"lamport");u(this,"delimiter");u(this,"actorID");this.lamport=e,this.delimiter=t,this.actorID=r}static of(e,t,r){return new tt(e,t,r)}static fromStruct(e){return tt.of(BigInt(e.lamport),e.delimiter,e.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(e){return new tt(this.lamport,this.delimiter,e)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(e){return this.compare(e)>0}equals(e){return this.compare(e)===0}compare(e){if(this.lamport>e.lamport)return 1;if(e.lamport>this.lamport)return-1;const t=this.actorID.localeCompare(e.actorID);return t!==0?t:this.delimiter>e.delimiter?1:e.delimiter>this.delimiter?-1:0}}const Hp=0,R1=4294967295,L1=9223372036854775807n,Ft=new tt(0n,Hp,Wf),Ks=new tt(L1,R1,O1);function en(n){return n.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(e){switch(e){case'"':case"\\":return"\\"+e;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}})}class Co{constructor(e){u(this,"createdAt");u(this,"movedAt");u(this,"removedAt");this.createdAt=e}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(e){return!this.movedAt||e&&e.after(this.movedAt)?(this.movedAt=e,!0):!1}setRemovedAt(e){this.removedAt=e}remove(e){return e&&e.after(this.getPositionedAt())&&(!this.removedAt||e.after(this.removedAt))?(this.removedAt=e,!0):!1}isRemoved(){return!!this.removedAt}}class Kr extends Co{constructor(e){super(e)}}class _f{constructor(e,t){u(this,"strKey");u(this,"value");this.strKey=e,this.value=t}static of(e,t){return new _f(e,t)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(e){return this.value.remove(e)}}class po{constructor(){u(this,"nodeMapByKey");u(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new po}set(e,t,r){let i;const s=this.nodeMapByKey.get(e);s!=null&&!s.isRemoved()&&s.remove(r)&&(i=s.getValue());const o=_f.of(e,t);return this.nodeMapByCreatedAt.set(t.getCreatedAt().toIDString(),o),(s==null||r.after(s.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(e,o),t.setMovedAt(r)),i}delete(e,t){if(!this.nodeMapByCreatedAt.has(e.toIDString()))throw new k(S.ErrInvalidArgument,`fail to find ${e.toIDString()}`);const r=this.nodeMapByCreatedAt.get(e.toIDString());return r.remove(t),r.getValue()}subPathOf(e){const t=this.nodeMapByCreatedAt.get(e.toIDString());if(t)return t.getStrKey()}purge(e){const t=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!t)throw new k(S.ErrInvalidArgument,`fail to find ${e.getCreatedAt().toIDString()}`);const r=this.nodeMapByKey.get(t.getStrKey());t===r&&this.nodeMapByKey.delete(r.getStrKey()),this.nodeMapByCreatedAt.delete(t.getValue().getCreatedAt().toIDString())}deleteByKey(e,t){const r=this.nodeMapByKey.get(e);if(r!=null&&r.remove(t))return r.getValue()}has(e){const t=this.nodeMapByKey.get(e);return t==null?!1:!t.isRemoved()}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}get(e){const t=this.nodeMapByKey.get(e);if(!(!t||t.isRemoved()))return t}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}}class _e extends Kr{constructor(t,r){super(t);u(this,"memberNodes");this.memberNodes=r}static create(t,r){if(!r)return new _e(t,po.create());const i=po.create();for(const[s,o]of Object.entries(r))i.set(s,o.deepcopy(),o.getCreatedAt());return new _e(t,i)}subPathOf(t){return this.memberNodes.subPathOf(t)}purge(t){this.memberNodes.purge(t)}set(t,r,i){return this.memberNodes.set(t,r,i)}delete(t,r){return this.memberNodes.delete(t,r)}deleteByKey(t,r){return this.memberNodes.deleteByKey(t,r)}get(t){const r=this.memberNodes.get(t);return r==null?void 0:r.getValue()}getByID(t){const r=this.memberNodes.getByID(t);return r==null?void 0:r.getValue()}has(t){return this.memberNodes.has(t)}toJSON(){const t=[];for(const[r,i]of this)t.push(`"${en(r)}":${i.toJSON()}`);return`{${t.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const t={};for(const[r,i]of this){const{createdAt:s,value:o,type:a}=i.toJSForTest();t[r]={key:r,createdAt:s,value:o,type:a}}return{createdAt:this.getCreatedAt().toTestString(),value:t,type:"YORKIE_OBJECT"}}getKeys(){const t=Array();for(const[r]of this)t.push(r);return t}toSortedJSON(){var i;const t=Array();for(const[s]of this)t.push(s);const r=[];for(const s of t.sort()){const o=(i=this.memberNodes.get(s))==null?void 0:i.getValue();r.push(`"${en(s)}":${o.toSortedJSON()}`)}return`{${r.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const t=_e.create(this.getCreatedAt());for(const r of this.memberNodes)t.memberNodes.set(r.getStrKey(),r.getValue().deepcopy(),this.getPositionedAt());return t.remove(this.getRemovedAt()),t}getDescendants(t){for(const r of this.memberNodes){const i=r.getValue();if(t(i,this))return;i instanceof Kr&&i.getDescendants(t)}}*[Symbol.iterator](){const t=new Set;for(const r of this.memberNodes)t.has(r.getStrKey())||(t.add(r.getStrKey()),r.isRemoved()||(yield[r.getStrKey(),r.getValue()]))}}var Y=(n=>(n.Local="local",n.Remote="remote",n.UndoRedo="undoredo",n))(Y||{});class Jt{constructor(e,t){u(this,"parentCreatedAt");u(this,"executedAt");this.parentCreatedAt=e,this.executedAt=t}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new k(S.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(e){this.executedAt&&(this.executedAt=this.executedAt.setActor(e))}setExecutedAt(e){this.executedAt=e}}class Gp{constructor(e){u(this,"value");u(this,"left");u(this,"right");u(this,"parent");u(this,"weight");this.value=e,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(e){this.left=e}setRight(e){this.right=e}setParent(e){this.parent=e}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(e){this.weight+=e}initWeight(){this.weight=this.getLength()}}class yo{constructor(e){u(this,"root");this.root=e}get length(){return this.root?this.root.getWeight():0}find(e){if(!this.root||e<0)return[void 0,0];let t=this.root;for(;;)if(t.hasLeft()&&e<=t.getLeftWeight())t=t.getLeft();else if(t.hasRight()&&t.getLeftWeight()+t.getLength()<e)e-=t.getLeftWeight()+t.getLength(),t=t.getRight();else{e-=t.getLeftWeight();break}if(e>t.getLength())throw new k(S.ErrInvalidArgument,`out of index range: pos: ${e} > node.length: ${t.getLength()}`);return this.splayNode(t),[t,e]}indexOf(e){return!e||e!==this.root&&!e.hasLinks()?-1:(this.splayNode(e),this.root.getLeftWeight())}getRoot(){return this.root}insert(e){return this.insertAfter(this.root,e)}insertAfter(e,t){return e?(this.splayNode(e),this.root=t,t.setRight(e.getRight()),e.hasRight()&&e.getRight().setParent(t),t.setLeft(e),e.setParent(t),e.setRight(),this.updateWeight(e),this.updateWeight(t),t):(this.root=t,t)}updateWeight(e){e.initWeight(),e.hasLeft()&&e.increaseWeight(e.getLeftWeight()),e.hasRight()&&e.increaseWeight(e.getRightWeight())}updateTreeWeight(e){for(;e;)this.updateWeight(e),e=e.getParent()}splayNode(e){if(e)for(;;)if(this.isLeftChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e),this.rotateLeft(e);else if(this.isLeftChild(e.getParent())&&this.isLeftChild(e))this.rotateRight(e.getParent()),this.rotateRight(e);else if(this.isRightChild(e.getParent())&&this.isRightChild(e))this.rotateLeft(e.getParent()),this.rotateLeft(e);else{this.isLeftChild(e)?this.rotateRight(e):this.isRightChild(e)&&this.rotateLeft(e),this.updateWeight(e);return}}delete(e){this.splayNode(e);const t=new yo(e.getLeft());t.root&&t.root.setParent();const r=new yo(e.getRight());if(r.root&&r.root.setParent(),t.root){const i=t.getRightmost();t.splayNode(i),t.root.setRight(r.root),r.root&&r.root.setParent(t.root),this.root=t.root}else this.root=r.root;e.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(e,t){if(!t){this.splayNode(e),this.cutOffRight(e);return}this.splayNode(e),this.splayNode(t),t.getLeft()!=e&&this.rotateRight(e),this.cutOffRight(e)}cutOffRight(e){const t=[];this.traversePostorder(e.getRight(),t);for(const r of t)r.initWeight();this.updateTreeWeight(e)}toTestString(){const e=[];return this.traverseInorder(this.root,e),e.map(t=>`[${t.getWeight()},${t.getLength()}]${t.getValue()||""}`).join("")}checkWeight(){const e=[];this.traverseInorder(this.root,e);for(const t of e)if(t.getWeight()!=t.getLength()+t.getLeftWeight()+t.getRightWeight())return!1;return!0}getRightmost(){let e=this.root;for(;e.hasRight();)e=e.getRight();return e}traverseInorder(e,t){e&&(this.traverseInorder(e.getLeft(),t),t.push(e),this.traverseInorder(e.getRight(),t))}traversePostorder(e,t){e&&(this.traversePostorder(e.getLeft(),t),this.traversePostorder(e.getRight(),t),t.push(e))}rotateLeft(e){const t=e.getParent();t.hasParent()?t===t.getParent().getLeft()?t.getParent().setLeft(e):t.getParent().setRight(e):this.root=e,e.setParent(t.getParent()),t.setRight(e.getLeft()),t.hasRight()&&t.getRight().setParent(t),e.setLeft(t),e.getLeft().setParent(e),this.updateWeight(t),this.updateWeight(e)}rotateRight(e){const t=e.getParent();t.hasParent()?t===t.getParent().getLeft()?t.getParent().setLeft(e):t.getParent().setRight(e):this.root=e,e.setParent(t.getParent()),t.setLeft(e.getRight()),t.hasLeft()&&t.getLeft().setParent(t),e.setRight(t),e.getRight().setParent(e),this.updateWeight(t),this.updateWeight(e)}isLeftChild(e){return e&&e.hasParent()?e.getParent().getLeft()===e:!1}isRightChild(e){return e&&e.hasParent()?e.getParent().getRight()===e:!1}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var wt=null;try{wt=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function V(n,e,t){this.low=n|0,this.high=e|0,this.unsigned=!!t}V.prototype.__isLong__;Object.defineProperty(V.prototype,"__isLong__",{value:!0});function Re(n){return(n&&n.__isLong__)===!0}function Kh(n){var e=Math.clz32(n&-n);return n?31-e:e}V.isLong=Re;var Wh={},_h={};function Ci(n,e){var t,r,i;return e?(n>>>=0,(i=0<=n&&n<256)&&(r=_h[n],r)?r:(t=W(n,0,!0),i&&(_h[n]=t),t)):(n|=0,(i=-128<=n&&n<128)&&(r=Wh[n],r)?r:(t=W(n,n<0?-1:0,!1),i&&(Wh[n]=t),t))}V.fromInt=Ci;function St(n,e){if(isNaN(n))return e?dr:Ot;if(e){if(n<0)return dr;if(n>=Yp)return Zp}else{if(n<=-Gh)return qe;if(n+1>=Gh)return Xp}return n<0?St(-n,e).neg():W(n%fs|0,n/fs|0,e)}V.fromNumber=St;function W(n,e,t){return new V(n,e,t)}V.fromBits=W;var dl=Math.pow;function Hf(n,e,t){if(n.length===0)throw Error("empty string");if(typeof e=="number"?(t=e,e=!1):e=!!e,n==="NaN"||n==="Infinity"||n==="+Infinity"||n==="-Infinity")return e?dr:Ot;if(t=t||10,t<2||36<t)throw RangeError("radix");var r;if((r=n.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return Hf(n.substring(1),e,t).neg();for(var i=St(dl(t,8)),s=Ot,o=0;o<n.length;o+=8){var a=Math.min(8,n.length-o),l=parseInt(n.substring(o,o+a),t);if(a<8){var c=St(dl(t,a));s=s.mul(c).add(St(l))}else s=s.mul(i),s=s.add(St(l))}return s.unsigned=e,s}V.fromString=Hf;function $t(n,e){return typeof n=="number"?St(n,e):typeof n=="string"?Hf(n,e):W(n.low,n.high,typeof e=="boolean"?e:n.unsigned)}V.fromValue=$t;var Hh=65536,B1=1<<24,fs=Hh*Hh,Yp=fs*fs,Gh=Yp/2,Yh=Ci(B1),Ot=Ci(0);V.ZERO=Ot;var dr=Ci(0,!0);V.UZERO=dr;var Vi=Ci(1);V.ONE=Vi;var Qp=Ci(1,!0);V.UONE=Qp;var jc=Ci(-1);V.NEG_ONE=jc;var Xp=W(-1,2147483647,!1);V.MAX_VALUE=Xp;var Zp=W(-1,-1,!0);V.MAX_UNSIGNED_VALUE=Zp;var qe=W(0,-2147483648,!1);V.MIN_VALUE=qe;var C=V.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low};C.toNumber=function(){return this.unsigned?(this.high>>>0)*fs+(this.low>>>0):this.high*fs+(this.low>>>0)};C.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(qe)){var t=St(e),r=this.div(t),i=r.mul(t).sub(this);return r.toString(e)+i.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var s=St(dl(e,6),this.unsigned),o=this,a="";;){var l=o.div(s),c=o.sub(l.mul(s)).toInt()>>>0,d=c.toString(e);if(o=l,o.isZero())return d+a;for(;d.length<6;)d="0"+d;a=""+d+a}};C.getHighBits=function(){return this.high};C.getHighBitsUnsigned=function(){return this.high>>>0};C.getLowBits=function(){return this.low};C.getLowBitsUnsigned=function(){return this.low>>>0};C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(qe)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return this.high!=0?t+33:t+1};C.isZero=function(){return this.high===0&&this.low===0};C.eqz=C.isZero;C.isNegative=function(){return!this.unsigned&&this.high<0};C.isPositive=function(){return this.unsigned||this.high>=0};C.isOdd=function(){return(this.low&1)===1};C.isEven=function(){return(this.low&1)===0};C.equals=function(e){return Re(e)||(e=$t(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};C.eq=C.equals;C.notEquals=function(e){return!this.eq(e)};C.neq=C.notEquals;C.ne=C.notEquals;C.lessThan=function(e){return this.comp(e)<0};C.lt=C.lessThan;C.lessThanOrEqual=function(e){return this.comp(e)<=0};C.lte=C.lessThanOrEqual;C.le=C.lessThanOrEqual;C.greaterThan=function(e){return this.comp(e)>0};C.gt=C.greaterThan;C.greaterThanOrEqual=function(e){return this.comp(e)>=0};C.gte=C.greaterThanOrEqual;C.ge=C.greaterThanOrEqual;C.compare=function(e){if(Re(e)||(e=$t(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};C.comp=C.compare;C.negate=function(){return!this.unsigned&&this.eq(qe)?qe:this.not().add(Vi)};C.neg=C.negate;C.add=function(e){Re(e)||(e=$t(e));var t=this.high>>>16,r=this.high&65535,i=this.low>>>16,s=this.low&65535,o=e.high>>>16,a=e.high&65535,l=e.low>>>16,c=e.low&65535,d=0,h=0,p=0,m=0;return m+=s+c,p+=m>>>16,m&=65535,p+=i+l,h+=p>>>16,p&=65535,h+=r+a,d+=h>>>16,h&=65535,d+=t+o,d&=65535,W(p<<16|m,d<<16|h,this.unsigned)};C.subtract=function(e){return Re(e)||(e=$t(e)),this.add(e.neg())};C.sub=C.subtract;C.multiply=function(e){if(this.isZero())return this;if(Re(e)||(e=$t(e)),wt){var t=wt.mul(this.low,this.high,e.low,e.high);return W(t,wt.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?dr:Ot;if(this.eq(qe))return e.isOdd()?qe:Ot;if(e.eq(qe))return this.isOdd()?qe:Ot;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Yh)&&e.lt(Yh))return St(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,i=this.high&65535,s=this.low>>>16,o=this.low&65535,a=e.high>>>16,l=e.high&65535,c=e.low>>>16,d=e.low&65535,h=0,p=0,m=0,w=0;return w+=o*d,m+=w>>>16,w&=65535,m+=s*d,p+=m>>>16,m&=65535,m+=o*c,p+=m>>>16,m&=65535,p+=i*d,h+=p>>>16,p&=65535,p+=s*c,h+=p>>>16,p&=65535,p+=o*l,h+=p>>>16,p&=65535,h+=r*d+i*c+s*l+o*a,h&=65535,W(m<<16|w,h<<16|p,this.unsigned)};C.mul=C.multiply;C.divide=function(e){if(Re(e)||(e=$t(e)),e.isZero())throw Error("division by zero");if(wt){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var t=(this.unsigned?wt.div_u:wt.div_s)(this.low,this.high,e.low,e.high);return W(t,wt.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?dr:Ot;var r,i,s;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return dr;if(e.gt(this.shru(1)))return Qp;s=dr}else{if(this.eq(qe)){if(e.eq(Vi)||e.eq(jc))return qe;if(e.eq(qe))return Vi;var o=this.shr(1);return r=o.div(e).shl(1),r.eq(Ot)?e.isNegative()?Vi:jc:(i=this.sub(e.mul(r)),s=r.add(i.div(e)),s)}else if(e.eq(qe))return this.unsigned?dr:Ot;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=Ot}for(i=this;i.gte(e);){r=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),l=a<=48?1:dl(2,a-48),c=St(r),d=c.mul(e);d.isNegative()||d.gt(i);)r-=l,c=St(r,this.unsigned),d=c.mul(e);c.isZero()&&(c=Vi),s=s.add(c),i=i.sub(d)}return s};C.div=C.divide;C.modulo=function(e){if(Re(e)||(e=$t(e)),wt){var t=(this.unsigned?wt.rem_u:wt.rem_s)(this.low,this.high,e.low,e.high);return W(t,wt.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};C.mod=C.modulo;C.rem=C.modulo;C.not=function(){return W(~this.low,~this.high,this.unsigned)};C.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};C.clz=C.countLeadingZeros;C.countTrailingZeros=function(){return this.low?Kh(this.low):Kh(this.high)+32};C.ctz=C.countTrailingZeros;C.and=function(e){return Re(e)||(e=$t(e)),W(this.low&e.low,this.high&e.high,this.unsigned)};C.or=function(e){return Re(e)||(e=$t(e)),W(this.low|e.low,this.high|e.high,this.unsigned)};C.xor=function(e){return Re(e)||(e=$t(e)),W(this.low^e.low,this.high^e.high,this.unsigned)};C.shiftLeft=function(e){return Re(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?W(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):W(0,this.low<<e-32,this.unsigned)};C.shl=C.shiftLeft;C.shiftRight=function(e){return Re(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?W(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):W(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};C.shr=C.shiftRight;C.shiftRightUnsigned=function(e){return Re(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?W(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?W(this.high,0,this.unsigned):W(this.high>>>e-32,0,this.unsigned)};C.shru=C.shiftRightUnsigned;C.shr_u=C.shiftRightUnsigned;C.rotateLeft=function(e){var t;return Re(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?W(this.high,this.low,this.unsigned):e<32?(t=32-e,W(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(e-=32,t=32-e,W(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))};C.rotl=C.rotateLeft;C.rotateRight=function(e){var t;return Re(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?W(this.high,this.low,this.unsigned):e<32?(t=32-e,W(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(e-=32,t=32-e,W(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))};C.rotr=C.rotateRight;C.toSigned=function(){return this.unsigned?W(this.low,this.high,!1):this};C.toUnsigned=function(){return this.unsigned?this:W(this.low,this.high,!0)};C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};C.toBytesLE=function(){var e=this.high,t=this.low;return[t&255,t>>>8&255,t>>>16&255,t>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,t>>>24,t>>>16&255,t>>>8&255,t&255]};V.fromBytes=function(e,t,r){return r?V.fromBytesLE(e,t):V.fromBytesBE(e,t)};V.fromBytesLE=function(e,t){return new V(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)};V.fromBytesBE=function(e,t){return new V(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var ye=(n=>(n[n.Null=0]="Null",n[n.Boolean=1]="Boolean",n[n.Integer=2]="Integer",n[n.Long=3]="Long",n[n.Double=4]="Double",n[n.String=5]="String",n[n.Bytes=6]="Bytes",n[n.Date=7]="Date",n))(ye||{});class re extends Co{constructor(t,r){super(r);u(this,"valueType");u(this,"value");this.valueType=re.getPrimitiveType(t),this.value=t===void 0?null:t}static of(t,r){return new re(t,r)}static valueFromBytes(t,r){switch(t){case 0:return null;case 1:return!!r[0];case 2:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 4:{const i=new DataView(r.buffer);return r.forEach(function(s,o){i.setUint8(o,s)}),i.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(r);case 3:return V.fromBytesLE(Array.from(r));case 6:return r;case 7:return new Date(V.fromBytesLE(Array.from(r),!0).toNumber());default:throw new k(S.ErrUnimplemented,`unimplemented type: ${t}`)}}toJSON(){return this.valueType===5?`"${en(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const t=re.of(this.value,this.getCreatedAt());return t.setMovedAt(this.getMovedAt()),t.setRemovedAt(this.getRemovedAt()),t}getType(){return this.valueType}static getPrimitiveType(t){switch(typeof t){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(t)?2:4;case"string":return 5;case"object":if(t===null)return 0;if(t instanceof V)return 3;if(t instanceof Uint8Array)return 6;if(t instanceof Date)return 7}}static isSupport(t){return re.getPrimitiveType(t)!==void 0}static isInteger(t){return t%1===0}isNumericType(){const t=this.valueType;return t===2||t===3||t===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const t=this.value;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}case 4:{const t=this.value,r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,t,!0),r}case 5:return new TextEncoder().encode(this.value);case 3:{const r=this.value.toBytesLE();return Uint8Array.from(r)}case 6:return this.value;case 7:{const t=this.value,r=V.fromNumber(t.getTime(),!0).toBytesLE();return Uint8Array.from(r)}default:throw new k(S.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class hl extends Gp{constructor(t){super(t);u(this,"prev");u(this,"next");this.value=t}static createAfter(t,r){const i=new hl(r),s=t.next;return t.next=i,i.prev=t,i.next=s,s&&(s.prev=i),i}remove(t){return this.value.remove(t)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class vo{constructor(){u(this,"dummyHead");u(this,"last");u(this,"nodeMapByIndex");u(this,"nodeMapByCreatedAt");const e=re.of(0,Ft);e.setRemovedAt(Ft),this.dummyHead=new hl(e),this.last=this.dummyHead,this.nodeMapByIndex=new yo,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new vo}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(e,t){let r=this.nodeMapByCreatedAt.get(e.toIDString());if(!r)throw new k(S.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);for(;r.getNext()&&r.getNext().getPositionedAt().after(t);)r=r.getNext();return r}release(e){this.last===e&&(this.last=e.getPrev()),e.release(),this.nodeMapByIndex.delete(e),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}insertAfter(e,t,r=t.getCreatedAt()){const i=this.findNextBeforeExecutedAt(e,r),s=hl.createAfter(i,t);i===this.last&&(this.last=s),this.nodeMapByIndex.insertAfter(i,s),this.nodeMapByCreatedAt.set(s.getCreatedAt().toIDString(),s)}moveAfter(e,t,r){const i=this.nodeMapByCreatedAt.get(e.toIDString());if(!i)throw new k(S.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);const s=this.nodeMapByCreatedAt.get(t.toIDString());if(!s)throw new k(S.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);i!==s&&(!s.getValue().getMovedAt()||r.after(s.getValue().getMovedAt()))&&(this.release(s),this.insertAfter(i.getCreatedAt(),s.getValue(),r),s.getValue().setMovedAt(r))}insert(e){this.insertAfter(this.last.getCreatedAt(),e)}getByID(e){return this.nodeMapByCreatedAt.get(e.toIDString())}subPathOf(e){const t=this.nodeMapByCreatedAt.get(e.toIDString());if(t)return String(this.nodeMapByIndex.indexOf(t))}purge(e){const t=this.nodeMapByCreatedAt.get(e.getCreatedAt().toIDString());if(!t)throw new k(S.ErrInvalidArgument,`fail to find the given createdAt: ${e.getCreatedAt().toIDString()}`);this.release(t)}getByIndex(e){if(e>=this.length)return;const[t,r]=this.nodeMapByIndex.find(e);let i=t;if(e===0&&t===this.dummyHead||r>0)do i&&(i=i.getNext());while(i&&i.isRemoved());return i}getPrevCreatedAt(e){let t=this.nodeMapByCreatedAt.get(e.toIDString());do t=t.getPrev();while(this.dummyHead!==t&&t.isRemoved());return t.getValue().getCreatedAt()}delete(e,t){const r=this.nodeMapByCreatedAt.get(e.toIDString()),i=r.isRemoved();return r.remove(t)&&!i&&this.nodeMapByIndex.splayNode(r),r.getValue()}deleteByIndex(e,t){const r=this.getByIndex(e);if(r)return r.remove(t)&&this.nodeMapByIndex.splayNode(r),r.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const e=[];for(const t of this){const r=`${t.getCreatedAt().toIDString()}:${t.getValue().toJSON()}`;t.isRemoved()?e.push(`{${r}}`):e.push(`[${r}]`)}return e.join("")}*[Symbol.iterator](){let e=this.dummyHead.getNext();for(;e;)yield e,e=e.getNext()}}class nt extends Kr{constructor(t,r){super(t);u(this,"elements");this.elements=r}static create(t,r){if(!r)return new nt(t,vo.create());const i=vo.create();for(const s of r)i.insertAfter(i.getLastCreatedAt(),s.deepcopy());return new nt(t,i)}subPathOf(t){return this.elements.subPathOf(t)}purge(t){this.elements.purge(t)}insertAfter(t,r){this.elements.insertAfter(t,r)}moveAfter(t,r,i){this.elements.moveAfter(t,r,i)}get(t){const r=this.elements.getByIndex(t);return r==null?void 0:r.getValue()}getByID(t){const r=this.elements.getByID(t);return r==null?void 0:r.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(t){return this.elements.getPrevCreatedAt(t)}delete(t,r){return this.elements.delete(t,r)}deleteByIndex(t,r){return this.elements.deleteByIndex(t,r)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const t of this.elements)t.isRemoved()||(yield t.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(t){for(const r of this.elements){const i=r.getValue();if(t(i,this))return;i instanceof Kr&&i.getDescendants(t)}}toJSON(){const t=[];for(const r of this)t.push(r.toJSON());return`[${t.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const t={};for(let r=0;r<this.length;r++){const{createdAt:i,value:s,type:o}=this.get(r).toJSForTest();t[r]={key:String(r),createdAt:i,value:s,type:o}}return{createdAt:this.getCreatedAt().toTestString(),value:t,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const t=nt.create(this.getCreatedAt());for(const r of this.elements)t.elements.insertAfter(t.getLastCreatedAt(),r.getValue().deepcopy());return t.remove(this.getRemovedAt()),t}}class Qr extends Jt{constructor(t,r,i){super(t,i);u(this,"createdAt");this.createdAt=r}static create(t,r,i){return new Qr(t,r,i)}execute(t,r){var c;const i=t.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new k(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Kr))throw new k(S.ErrInvalidArgument,`only object and array can execute remove: ${i}`);if(r===Y.UndoRedo){let d=i.getByID(this.createdAt);for(;d;){if(d.getRemovedAt())return;d=(c=t.findElementPairByCreatedAt(d.getCreatedAt()))==null?void 0:c.parent}}const s=i.subPathOf(this.createdAt),o=this.toReverseOperation(i),a=i.delete(this.createdAt,this.getExecutedAt());return t.registerRemovedElement(a),{opInfos:i instanceof nt?[{type:"remove",path:t.createPath(this.getParentCreatedAt()),index:Number(s)}]:[{type:"remove",path:t.createPath(this.getParentCreatedAt()),key:s}],reverseOp:o}}toReverseOperation(t){if(t instanceof _e){const r=t.subPathOf(this.createdAt);if(r!==void 0){const i=t.get(r);if(i!==void 0)return Ii.create(r,i.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class Ii extends Jt{constructor(t,r,i,s){super(i,s);u(this,"key");u(this,"value");this.key=t,this.value=r}static create(t,r,i,s){return new Ii(t,r,i,s)}execute(t,r){var c;const i=t.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new k(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof _e))throw new k(S.ErrInvalidArgument,"fail to execute, only object can execute set");if(r===Y.UndoRedo){let d=i;for(;d;){if(d.getRemovedAt())return;d=(c=t.findElementPairByCreatedAt(d.getCreatedAt()))==null?void 0:c.parent}}const s=i.get(this.key),o=this.toReverseOperation(s),a=this.value.deepcopy(),l=i.set(this.key,a,this.getExecutedAt());return r===Y.UndoRedo&&t.findByCreatedAt(a.getCreatedAt())&&t.deregisterElement(a),t.registerElement(a,i),l&&t.registerRemovedElement(l),{opInfos:[{type:"set",path:t.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:o}}toReverseOperation(t){let r=Qr.create(this.getParentCreatedAt(),this.value.getCreatedAt());return t!==void 0&&!t.isRemoved()&&(r=Ii.create(this.key,t.deepcopy(),this.getParentCreatedAt())),r}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class No extends Jt{constructor(t,r,i,s){super(t,s);u(this,"prevCreatedAt");u(this,"value");this.prevCreatedAt=r,this.value=i}static create(t,r,i,s){return new No(t,r,i,s)}execute(t){const r=t.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new k(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof nt))throw new k(S.ErrInvalidArgument,"fail to execute, only array can execute add");const i=r,s=this.value.deepcopy();return i.insertAfter(this.prevCreatedAt,s),t.registerElement(s,i),{opInfos:[{type:"add",path:t.createPath(this.getParentCreatedAt()),index:Number(i.subPathOf(this.getEffectedCreatedAt()))}]}}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class Fr extends Jt{constructor(t,r,i,s){super(t,s);u(this,"prevCreatedAt");u(this,"createdAt");this.prevCreatedAt=r,this.createdAt=i}static create(t,r,i,s){return new Fr(t,r,i,s)}execute(t){const r=t.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new k(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof nt))throw new k(S.ErrInvalidArgument,"fail to execute, only array can execute move");const i=r,s=Number(i.subPathOf(this.createdAt));i.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const o=Number(i.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:t.createPath(this.getParentCreatedAt()),index:o,previousIndex:s}]}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class di{constructor(e,t,r,i){u(this,"key");u(this,"value");u(this,"updatedAt");u(this,"_isRemoved");this.key=e,this.value=t,this.updatedAt=r,this._isRemoved=i}static of(e,t,r,i){return new di(e,t,r,i)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}}class kr{constructor(){u(this,"nodeMapByKey");u(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new kr}getNodeMapByKey(){return this.nodeMapByKey}set(e,t,r){const i=this.nodeMapByKey.get(e);if(i&&i.isRemoved()&&r.after(i.getUpdatedAt())&&(this.numberOfRemovedElement-=1),i===void 0||r.after(i.getUpdatedAt())){const s=di.of(e,t,r,!1);return this.nodeMapByKey.set(e,s),i!==void 0&&i.isRemoved()?[i,s]:[void 0,s]}return i.isRemoved()?[i,void 0]:[void 0,void 0]}setInternal(e,t,r,i){const s=di.of(e,t,r,i);this.nodeMapByKey.set(e,s),i&&this.numberOfRemovedElement++}remove(e,t){const r=this.nodeMapByKey.get(e),i=[];if(r===void 0||t.after(r.getUpdatedAt())){if(r===void 0){this.numberOfRemovedElement+=1;const a=di.of(e,"",t,!0);return this.nodeMapByKey.set(e,a),i.push(a),i}const s=r.isRemoved();s||(this.numberOfRemovedElement+=1),s&&i.push(r);const o=di.of(e,r.getValue(),t,!0);return this.nodeMapByKey.set(e,o),i.push(o),i}return i}has(e){if(this.nodeMapByKey.has(e)){const t=this.nodeMapByKey.get(e);return t!==void 0&&!t.isRemoved()}return!1}get(e){if(this.nodeMapByKey.has(e))return this.nodeMapByKey.get(e).getValue()}deepcopy(){const e=new kr;for(const[,t]of this.nodeMapByKey)e.setInternal(t.getKey(),t.getValue(),t.getUpdatedAt(),t.isRemoved());return e}toJSON(){if(!this.size())return"{}";const e=[];for(const[t,r]of this.nodeMapByKey)r.isRemoved()||e.push(`"${en(t)}":"${en(r.getValue())}"`);return`{${e.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const e={};for(const[t,r]of this.nodeMapByKey)r.isRemoved()||(e[t]=r.getValue());return e}*[Symbol.iterator](){for(const[,e]of this.nodeMapByKey)yield e}purge(e){const t=this.nodeMapByKey.get(e.getKey());t==null||t.toIDString()!=e.toIDString()||(this.nodeMapByKey.delete(e.getKey()),this.numberOfRemovedElement--)}}class wo{constructor(e){u(this,"attributes");u(this,"content");this.attributes=kr.create(),this.content=e}static create(e){return new wo(e)}get length(){return this.content.length}substring(e,t){const r=new wo(this.content.substring(e,t));return r.attributes=this.attributes.deepcopy(),r}setAttr(e,t,r){return this.attributes.set(e,t,r)}getAttrs(){return this.attributes}toString(){return this.content}toJSON(){const e=en(this.content),t=this.attributes.toObject(),r=[];for(const[i,s]of Object.entries(t)){const o=JSON.parse(s),a=typeof o=="string"?`"${en(i)}":"${en(o)}"`:`"${en(i)}":${String(o)}`;r.push(a)}return r.sort(),r.length===0?`{"val":"${e}"}`:`{"attrs":{${r.join(",")}},"val":"${e}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(e){this.attributes&&e instanceof di&&this.attributes.purge(e)}getGCPairs(){const e=[];for(const t of this.attributes)t.getRemovedAt()&&e.push({parent:this,child:t});return e}}class It extends Co{constructor(t,r){super(r);u(this,"rgaTreeSplit");this.rgaTreeSplit=t}static create(t,r){return new It(t,r)}edit(t,r,i,s,o){const a=r?wo.create(r):void 0;if(a&&s)for(const[m,w]of Object.entries(s))a.setAttr(m,w,i);const[l,c,d,h]=this.rgaTreeSplit.edit(t,i,a,o),p=h.map(m=>({...m,value:m.value?{attributes:Xi(m.value.getAttributes()),content:m.value.getContent()}:{attributes:void 0,content:""},type:"content"}));return[c,p,d,[l,l]]}setStyle(t,r,i,s){const[,o]=this.rgaTreeSplit.findNodeWithSplit(t[1],i),[,a]=this.rgaTreeSplit.findNodeWithSplit(t[0],i),l=[],c=this.rgaTreeSplit.findBetween(a,o),d=new Map,h=[];for(const m of c){const w=m.getCreatedAt().getActorID(),I=s!=null&&s.size?s.has(w)?s.get(w):Ft:Ks;if(m.canStyle(i,I)){const D=d.get(w),y=m.getCreatedAt();(!D||y.after(D))&&d.set(w,y),h.push(m)}}const p=[];for(const m of h){if(m.isRemoved())continue;const[w,I]=this.rgaTreeSplit.findIndexesFromRange(m.createPosRange());l.push({type:"style",actor:i.getActorID(),from:w,to:I,value:{attributes:Xi(r)}});for(const[D,y]of Object.entries(r)){const[g]=m.getValue().setAttr(D,y,i);g!==void 0&&p.push({parent:m.getValue(),child:g})}}return[d,p,l]}indexRangeToPosRange(t,r){const i=this.rgaTreeSplit.indexToPos(t);return t===r?[i,i]:[i,this.rgaTreeSplit.indexToPos(r)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}toJSON(){const t=[];for(const r of this.rgaTreeSplit)r.isRemoved()||t.push(r.getValue().toJSON());return`[${t.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const t=[];for(const r of this.rgaTreeSplit)if(!r.isRemoved()){const i=r.getValue();t.push({attributes:Xi(i.getAttributes()),content:i.getContent()})}return t}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const t=new It(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return t.remove(this.getRemovedAt()),t}findIndexesFromRange(t){return this.rgaTreeSplit.findIndexesFromRange(t)}getGCPairs(){const t=[];for(const r of this.rgaTreeSplit){r.getRemovedAt()&&t.push({parent:this.rgaTreeSplit,child:r});for(const i of r.getValue().getGCPairs())t.push(i)}return t}}class Po extends Jt{constructor(t,r,i,s,o,a,l){super(t,l);u(this,"fromPos");u(this,"toPos");u(this,"maxCreatedAtMapByActor");u(this,"content");u(this,"attributes");this.fromPos=r,this.toPos=i,this.maxCreatedAtMapByActor=s,this.content=o,this.attributes=a}static create(t,r,i,s,o,a,l){return new Po(t,r,i,s,o,a,l)}execute(t){const r=t.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new k(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof It))throw new k(S.ErrInvalidArgument,"fail to execute, only Text can execute edit");const i=r,[,s,o]=i.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),this.maxCreatedAtMapByActor);for(const a of o)t.registerGCPair(a);return{opInfos:s.map(({from:a,to:l,value:c})=>({type:"edit",from:a,to:l,value:c,path:t.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),i=this.toPos.toTestString(),s=this.content;return`${t}.EDIT(${r},${i},${s})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Do extends Jt{constructor(t,r,i,s,o,a){super(t,a);u(this,"fromPos");u(this,"toPos");u(this,"maxCreatedAtMapByActor");u(this,"attributes");this.fromPos=r,this.toPos=i,this.maxCreatedAtMapByActor=s,this.attributes=o}static create(t,r,i,s,o,a){return new Do(t,r,i,s,o,a)}execute(t){const r=t.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new k(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof It))throw new k(S.ErrInvalidArgument,"fail to execute, only Text can execute edit");const i=r,[,s,o]=i.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),this.maxCreatedAtMapByActor);for(const a of s)t.registerGCPair(a);return{opInfos:o.map(({from:a,to:l,value:c})=>({type:"style",from:a,to:l,value:c,path:t.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),i=this.toPos.toTestString(),s=this.attributes;return`${t}.STYL(${r},${i},${JSON.stringify(s)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}const F1=2,b1="root",gr="text";function Ps(n,e){let t=0;const r=n.children;for(let i=0;i<e;i++){const s=r[i];!s||s.isRemoved||(t+=s.paddedSize)}return t}class M1{constructor(e,t=[]){u(this,"type");u(this,"parent");u(this,"_children");u(this,"size");if(this.type=e,this.size=0,this._children=t,this.isText&&this._children.length>0)throw new k(S.ErrRefused,"Text node cannot have children")}updateAncestorsSize(){let e=this.parent;const t=this.isRemoved?-1:1;for(;e&&(e.size+=this.paddedSize*t,!e.isRemoved);)e=e.parent}updateDescendantsSize(){let e=0;for(const t of this._children){const r=t.updateDescendantsSize();t.isRemoved||(e+=r)}return this.size+=e,this.paddedSize}get isText(){return this.type===gr}get paddedSize(){return this.size+(this.isText?0:F1)}isAncestorOf(e){return J1(this,e)}get nextSibling(){const e=this.parent.findOffset(this),t=this.parent.children[e+1];if(t)return t}get prevSibling(){const e=this.parent.findOffset(this),t=this.parent.children[e-1];if(t)return t}splitText(e,t){if(e===0||e===this.size)return;const r=this.value.slice(0,e),i=this.value.slice(e);if(!i.length)return;this.value=r;const s=this.cloneText(e+t);return s.value=i,this.parent.insertAfterInternal(s,this),s}get children(){return this._children.filter(e=>!e.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(e=>e.isText)}append(...e){if(this.isText)throw new k(S.ErrRefused,"Text node cannot have children");this._children.push(...e);for(const t of e)t.parent=this,t.updateAncestorsSize()}prepend(...e){if(this.isText)throw new k(S.ErrRefused,"Text node cannot have children");this._children.unshift(...e);for(const t of e)t.parent=this}insertBefore(e,t){if(this.isText)throw new k(S.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(t);if(r===-1)throw new k(S.ErrInvalidArgument,"child not found");this.insertAtInternal(e,r),e.updateAncestorsSize()}insertAfter(e,t){if(this.isText)throw new k(S.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(t);if(r===-1)throw new k(S.ErrInvalidArgument,"child not found");this.insertAtInternal(e,r+1),e.updateAncestorsSize()}insertAt(e,t){if(this.isText)throw new k(S.ErrRefused,"Text node cannot have children");this.insertAtInternal(e,t),e.updateAncestorsSize()}removeChild(e){if(this.isText)throw new k(S.ErrRefused,"Text node cannot have children");const t=this._children.indexOf(e);if(t===-1)throw new k(S.ErrInvalidArgument,"child not found");this._children.splice(t,1),e.parent=void 0}splitElement(e,t){const r=this.cloneElement(t);this.parent.insertAfterInternal(r,this),r.updateAncestorsSize();const i=this.children.slice(0,e),s=this.children.slice(e);this._children=i,r._children=s,this.size=this._children.reduce((o,a)=>o+a.paddedSize,0),r.size=r._children.reduce((o,a)=>o+a.paddedSize,0);for(const o of r._children)o.parent=r;return r}insertAfterInternal(e,t){if(this.isText)throw new k(S.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(t);if(r===-1)throw new k(S.ErrInvalidArgument,"child not found");this.insertAtInternal(e,r+1)}insertAtInternal(e,t){if(this.isText)throw new k(S.ErrRefused,"Text node cannot have children");this._children.splice(t,0,e),e.parent=this}findOffset(e){if(this.isText)throw new k(S.ErrRefused,"Text node cannot have children");if(e.isRemoved){const t=this._children.indexOf(e);return this.allChildren.splice(0,t).filter(i=>!i.isRemoved).length}return this.children.indexOf(e)}findBranchOffset(e){if(this.isText)throw new k(S.ErrRefused,"Text node cannot have children");let t=e;for(;t;){const r=this._children.indexOf(t);if(r!==-1)return r;t=t.parent}return-1}}function J1(n,e){if(n===e)return!1;for(;e.parent;){if(e.parent===n)return!0;e=e.parent}return!1}var he=(n=>(n.Start="Start",n.End="End",n.Text="Text",n))(he||{});function ey(n,e,t,r){if(e>t)throw new k(S.ErrInvalidArgument,`from is greater than to: ${e} > ${t}`);if(e>n.size)throw new k(S.ErrInvalidArgument,`from is out of range: ${e} > ${n.size}`);if(t>n.size)throw new k(S.ErrInvalidArgument,`to is out of range: ${t} > ${n.size}`);if(e===t)return;let i=0;for(const s of n.children){if(e-s.paddedSize<i&&i<t){const o=s.isText?e-i:e-i-1,a=s.isText?t-i:t-i-1,l=!s.isText&&o<0,c=!s.isText&&a>s.size;(s.isText||l)&&r([s,s.isText?"Text":"Start"],c),ey(s,Math.max(0,o),Math.min(a,s.size),r),c&&r([s,"End"],c)}i+=s.paddedSize}}function ty(n,e,t=0){for(const r of n.children)ty(r,e,t+1);e(n,t)}function Bl(n,e,t=0){for(const r of n._children)Bl(r,e,t+1);e(n,t)}function qc(n,e,t=!0){if(e>n.size)throw new k(S.ErrInvalidArgument,`index is out of range: ${e} > ${n.size}`);if(n.isText)return{node:n,offset:e};let r=0,i=0;for(const s of n.children){if(t&&s.isText&&s.size>=e-i)return qc(s,e-i,t);if(e===i)return{node:n,offset:r};if(!t&&s.paddedSize===e-i)return{node:n,offset:r+1};if(s.paddedSize>e-i)return qc(s,e-i-1,t);i+=s.paddedSize,r+=1}return{node:n,offset:r}}function ny(n){return n.isText||n.children.length===0?n:ny(n.children[0])}function $1(n,e){if(n.size<e)throw new k(S.ErrInvalidArgument,"unacceptable path");for(let t=0;t<n.children.length;t++){const r=n.children[t];if(r.size<e)e-=r.size;else{n=r;break}}return{node:n,offset:e}}class z1{constructor(e){u(this,"root");this.root=e}tokensBetween(e,t,r){ey(this.root,e,t,r)}traverse(e){ty(this.root,e,0)}traverseAll(e){Bl(this.root,e,0)}findTreePos(e,t=!0){return qc(this.root,e,t)}treePosToPath(e){const t=[];let r=e.node;if(r.isText){const i=r.parent.findOffset(r);if(i===-1)throw new k(S.ErrInvalidArgument,"invalid treePos");const s=Ps(r.parent,i);t.push(s+e.offset),r=r.parent}else if(r.hasTextChild()){const i=Ps(r,e.offset);t.push(i)}else t.push(e.offset);for(;r.parent;){const i=r.parent.findOffset(r);if(i===-1)throw new k(S.ErrInvalidArgument,"invalid treePos");t.push(i),r=r.parent}return t.reverse()}pathToIndex(e){const t=this.pathToTreePos(e);return this.indexOf(t)}pathToTreePos(e){if(!e.length)throw new k(S.ErrInvalidArgument,"unacceptable path");let t=this.root;for(let r=0;r<e.length-1;r++){const i=e[r];if(t=t.children[i],!t)throw new k(S.ErrInvalidArgument,"unacceptable path")}if(t.hasTextChild())return $1(t,e[e.length-1]);if(t.children.length<e[e.length-1])throw new k(S.ErrInvalidArgument,"unacceptable path");return{node:t,offset:e[e.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(e){const{node:t,offset:r}=e;if(t.isText){if(t.size===r){const i=t.nextSibling;return i||t.parent}return t}return t.children.length===r?t:ny(t.children[r])}indexOf(e){let{node:t}=e;const{offset:r}=e;let i=0,s=1;if(t.isText){i+=r;const o=t.parent,a=o.findOffset(t);if(a===-1)throw new k(S.ErrInvalidArgument,"invalid pos");i+=Ps(o,a),t=t.parent}else i+=Ps(t,r);for(;t!=null&&t.parent;){const o=t.parent,a=o.findOffset(t);if(a===-1)throw new k(S.ErrInvalidArgument,"invalid pos");i+=Ps(o,a),s++,t=t.parent}return i+s-1}indexToPath(e){const t=this.findTreePos(e);return this.treePosToPath(t)}}const U1=(n,e)=>n===e?0:n<e?-1:1;class j1{constructor(e,t,r){u(this,"key");u(this,"value");u(this,"parent");u(this,"left");u(this,"right");u(this,"isRed");this.key=e,this.value=t,this.isRed=r}}class q1{constructor(e){u(this,"stack");this.stack=[],this.traverseInorder(e)}traverseInorder(e){e&&(this.traverseInorder(e.left),this.stack.push({key:e.key,value:e.value}),this.traverseInorder(e.right))}}class ry{constructor(e){u(this,"root");u(this,"comparator");u(this,"counter");this.comparator=typeof e<"u"?e:U1,this.counter=0}put(e,t){return this.root=this.putInternal(e,t,this.root),this.root.isRed=!1,t}get(e){const t=this.getInternal(e,this.root);return t?t.value:void 0}remove(e){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,e),this.root&&(this.root.isRed=!1)}getIterator(){return new q1(this.root)}values(){const e=[];for(const t of this.getIterator().stack)e.push(t.value);return e}floorEntry(e){let t=this.root;for(;t;){const r=this.comparator(e,t.key);if(r>0)if(t.right)t.right.parent=t,t=t.right;else return t;else if(r<0)if(t.left)t.left.parent=t,t=t.left;else{let i=t.parent,s=t;for(;i&&s===i.left;)s=i,i=i.parent;return i}else return t}}lastEntry(){if(!this.root)return this.root;let e=this.root;for(;e.right;)e=e.right;return e}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(e,t){for(;t;){const r=this.comparator(e,t.key);if(r===0)return t;r<0?t=t.left:r>0&&(t=t.right)}}putInternal(e,t,r){if(!r)return this.counter+=1,new j1(e,t,!0);const i=this.comparator(e,r.key);return i<0?r.left=this.putInternal(e,t,r.left):i>0?r.right=this.putInternal(e,t,r.right):r.value=t,this.isRed(r.right)&&!this.isRed(r.left)&&(r=this.rotateLeft(r)),this.isRed(r.left)&&this.isRed(r.left.left)&&(r=this.rotateRight(r)),this.isRed(r.left)&&this.isRed(r.right)&&this.flipColors(r),r}removeInternal(e,t){if(this.comparator(t,e.key)<0)!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeInternal(e.left,t);else{if(this.isRed(e.left)&&(e=this.rotateRight(e)),this.comparator(t,e.key)===0&&!e.right){this.counter-=1;return}if(!this.isRed(e.right)&&!this.isRed(e.right.left)&&(e=this.moveRedRight(e)),this.comparator(t,e.key)===0){this.counter-=1;const r=this.min(e.right);e.value=r.value,e.key=r.key,e.right=this.removeMin(e.right)}else e.right=this.removeInternal(e.right,t)}return this.fixUp(e)}min(e){return e.left?this.min(e.left):e}removeMin(e){if(e.left)return!this.isRed(e.left)&&!this.isRed(e.left.left)&&(e=this.moveRedLeft(e)),e.left=this.removeMin(e.left),this.fixUp(e)}fixUp(e){return this.isRed(e.right)&&(e=this.rotateLeft(e)),this.isRed(e.left)&&this.isRed(e.left.left)&&(e=this.rotateRight(e)),this.isRed(e.left)&&this.isRed(e.right)&&this.flipColors(e),e}moveRedLeft(e){return this.flipColors(e),this.isRed(e.right.left)&&(e.right=this.rotateRight(e.right),e=this.rotateLeft(e),this.flipColors(e)),e}moveRedRight(e){return this.flipColors(e),this.isRed(e.left.left)&&(e=this.rotateRight(e),this.flipColors(e)),e}isRed(e){return e&&e.isRed}rotateLeft(e){const t=e.right;return e.right=t.left,t.left=e,t.isRed=t.left.isRed,t.left.isRed=!0,t}rotateRight(e){const t=e.left;return e.left=t.right,t.right=e,t.isRed=t.right.isRed,t.right.isRed=!0,t}flipColors(e){e.isRed=!e.isRed,e.left.isRed=!e.left.isRed,e.right.isRed=!e.right.isRed}}class Rt{constructor(e,t){u(this,"parentID");u(this,"leftSiblingID");this.parentID=e,this.leftSiblingID=t}static of(e,t){return new Rt(e,t)}static fromTreePos(e){const{offset:t}=e;let{node:r}=e,i;return r.isText?(r.parent.children[0]===r&&t===0?i=r.parent:i=r,r=r.parent):t===0?i=r:i=r.children[t-1],Rt.of(r.id,Ee.of(i.getCreatedAt(),i.getOffset()+t))}getParentID(){return this.parentID}static fromStruct(e){return Rt.of(Ee.of(tt.fromStruct(e.parentID.createdAt),e.parentID.offset),Ee.of(tt.fromStruct(e.leftSiblingID.createdAt),e.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(e){const t=this.getParentID(),r=this.getLeftSiblingID(),i=e.findFloorNode(t);let s=e.findFloorNode(r);if(!i||!s)throw new k(S.ErrRefused,`cannot find node of CRDTTreePos(${t.toTestString()}, ${r.toTestString()})`);return!r.equals(t)&&r.getOffset()>0&&r.getOffset()===s.id.getOffset()&&s.insPrevID&&(s=e.findFloorNode(s.insPrevID)),[i,s]}getLeftSiblingID(){return this.leftSiblingID}equals(e){return this.getParentID().getCreatedAt().equals(e.getParentID().getCreatedAt())&&this.getParentID().getOffset()===e.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(e.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===e.getLeftSiblingID().getOffset()}}class Ee{constructor(e,t){u(this,"createdAt");u(this,"offset");this.createdAt=e,this.offset=t}static of(e,t){return new Ee(e,t)}static fromStruct(e){return Ee.of(tt.fromStruct(e.createdAt),e.offset)}static createComparator(){return(e,t)=>{const r=e.getCreatedAt().compare(t.getCreatedAt());return r!==0?r:e.getOffset()>t.getOffset()?1:e.getOffset()<t.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}getOffset(){return this.offset}setOffset(e){this.offset=e}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Ze extends M1{constructor(t,r,i,s,o){super(r);u(this,"id");u(this,"removedAt");u(this,"attrs");u(this,"insPrevID");u(this,"insNextID");u(this,"_value","");this.id=t,this.removedAt=o,s&&(this.attrs=s),typeof i=="string"?this.value=i:Array.isArray(i)&&(this._children=i)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(t,r,i,s){return new Ze(t,r,i,s)}deepcopy(){var r;const t=new Ze(this.id,this.type);return t.removedAt=this.removedAt,t._value=this._value,t.size=this.size,t.attrs=(r=this.attrs)==null?void 0:r.deepcopy(),t._children=this._children.map(i=>{const s=i.deepcopy();return s.parent=t,s}),t.insPrevID=this.insPrevID,t.insNextID=this.insNextID,t}get value(){if(!this.isText)throw new k(S.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(t){if(!this.isText)throw new k(S.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=t,this.size=t.length}get isRemoved(){return!!this.removedAt}remove(t){const r=!this.removedAt;(!this.removedAt||this.removedAt.compare(t)>0)&&(this.removedAt=t),r&&this.updateAncestorsSize()}cloneText(t){return new Ze(Ee.of(this.id.getCreatedAt(),t),this.type,void 0,void 0,this.removedAt)}cloneElement(t){return new Ze(Ee.of(t(),0),this.type,void 0,void 0,this.removedAt)}split(t,r,i){const s=this.isText?this.splitText(r,this.id.getOffset()):this.splitElement(r,i);if(s){if(s.insPrevID=this.id,this.insNextID){const o=t.findFloorNode(this.insNextID);o.insPrevID=s.id,s.insNextID=this.insNextID}this.insNextID=s.id,t.registerNode(s)}return s}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(t,r){return!this.getCreatedAt().after(r)&&(!this.removedAt||t.after(this.removedAt))}canStyle(t,r){return this.isText?!1:!this.getCreatedAt().after(r)&&(!this.removedAt||t.after(this.removedAt))}setAttrs(t,r){this.attrs||(this.attrs=new kr);const i=new Array;for(const[s,o]of Object.entries(t))i.push(this.attrs.set(s,o,r));return i}purge(t){this.attrs&&this.attrs.purge(t)}getGCPairs(){const t=[];if(!this.attrs)return t;for(const r of this.attrs)r.getRemovedAt()&&t.push({parent:this,child:r});return t}}function Vc(n){var t;if(n.isText){const r=n;return{type:r.type,value:r.value}}const e={type:n.type,children:n.children.map(Vc)};return n.attrs&&(e.attributes=Xi((t=n.attrs)==null?void 0:t.toObject())),e}function Gf(n){if(n.isText)return n.value;let e="";return n.attrs&&n.attrs.size()&&(e=" "+Array.from(n.attrs).filter(t=>!t.isRemoved()).sort((t,r)=>t.getKey().localeCompare(r.getKey())).map(t=>{const r=JSON.parse(t.getValue());return typeof r=="string"?`${t.getKey()}="${r}"`:`${t.getKey()}="${en(t.getValue())}"`}).join(" ")),`<${n.type}${e}>${n.children.map(t=>Gf(t)).join("")}</${n.type}>`}function iy(n){if(n.isText){const e=n;return{type:e.type,value:e.value,size:e.size,isRemoved:e.isRemoved}}return{type:n.type,children:n.children.map(iy),size:n.size,isRemoved:n.isRemoved}}class Et extends Co{constructor(t,r){super(r);u(this,"indexTree");u(this,"nodeMapByID");this.indexTree=new z1(t),this.nodeMapByID=new ry(Ee.createComparator()),this.indexTree.traverseAll(i=>{this.nodeMapByID.put(i.id,i)})}static create(t,r){return new Et(t,r)}findFloorNode(t){const r=this.nodeMapByID.floorEntry(t);if(!(!r||!r.key.getCreatedAt().equals(t.getCreatedAt())))return r.value}registerNode(t){this.nodeMapByID.put(t.id,t)}findNodesAndSplitText(t,r){const[i,s]=t.toTreeNodePair(this);let o=s;const a=i===o,l=o.parent&&!a?o.parent:i;if(o.isText&&o.split(this,t.getLeftSiblingID().getOffset()-o.id.getOffset()),r){const c=l.allChildren,d=a?0:c.indexOf(o)+1;for(let h=d;h<c.length;h++){const p=c[h];if(!p.id.getCreatedAt().after(r))break;o=p}}return[l,o]}style(t,r,i,s){const[o,a]=this.findNodesAndSplitText(t[0],i),[l,c]=this.findNodesAndSplitText(t[1],i),d=[],h=r?Xi(r):{},p=new Map,m=[];return this.traverseInPosRange(o,a,l,c,([w])=>{const I=w.getCreatedAt().getActorID(),D=s?s.has(I)?s.get(I):Ft:Ks;if(w.canStyle(i,D)&&r){const y=p.get(I),g=w.getCreatedAt();(!y||g.after(y))&&p.set(I,g);const v=w.setAttrs(r,i),T=v.reduce((P,[,B])=>(B&&(P[B.getKey()]=h[B.getKey()]),P),{}),x=w.parent,N=w.prevSibling||w.parent;Object.keys(T).length>0&&d.push({type:"style",from:this.toIndex(x,N),to:this.toIndex(w,w),fromPath:this.toPath(x,N),toPath:this.toPath(w,w),actor:i.getActorID(),value:T});for(const[P]of v)P&&m.push({parent:w,child:P})}}),[p,m,d]}removeStyle(t,r,i,s){const[o,a]=this.findNodesAndSplitText(t[0],i),[l,c]=this.findNodesAndSplitText(t[1],i),d=[],h=new Map,p=[];return this.traverseInPosRange(o,a,l,c,([m])=>{const w=m.getCreatedAt().getActorID(),I=s?s.has(w)?s.get(w):Ft:Ks;if(m.canStyle(i,I)&&r){const D=h.get(w),y=m.getCreatedAt();(!D||y.after(D))&&h.set(w,y),m.attrs||(m.attrs=new kr);for(const T of r){const x=m.attrs.remove(T,i);for(const N of x)p.push({parent:m,child:N})}const g=m.parent,v=m.prevSibling||m.parent;d.push({actor:i.getActorID(),type:"removeStyle",from:this.toIndex(g,v),to:this.toIndex(m,m),fromPath:this.toPath(g,v),toPath:this.toPath(m,m),value:r})}}),[h,p,d]}edit(t,r,i,s,o,a){const[l,c]=this.findNodesAndSplitText(t[0],s),[d,h]=this.findNodesAndSplitText(t[1],s),p=this.toIndex(l,c),m=this.toPath(l,c),w=[],I=[],D=[],y=new Map;this.traverseInPosRange(l,c,d,h,([T,x],N)=>{if(x===he.Start&&!N)for(const _ of T.children)D.push(_);const P=T.getCreatedAt().getActorID(),B=a?a.has(P)?a.get(P):Ft:Ks;if(T.canDelete(s,B)||w.includes(T.parent)){const _=y.get(P),U=T.getCreatedAt();(!_||U.after(_))&&y.set(P,U),(x===he.Text||x===he.Start)&&w.push(T),I.push([T,x])}});const g=this.makeDeletionChanges(I,s),v=[];for(const T of w)T.remove(s),T.isRemoved&&v.push({parent:this,child:T});for(const T of D)T.removedAt||l.append(T);if(i>0){let T=0,x=l,N=c;for(;T<i;)x.split(this,x.findOffset(N)+1,o),N=x,x=x.parent,T++;g.push({type:"content",from:p,to:p,fromPath:m,toPath:m,actor:s.getActorID()})}if(r!=null&&r.length){const T=[];let x=c;for(const N of r)x===l?l.insertAt(N,0):l.insertAfter(N,x),x=N,Bl(N,P=>{l.isRemoved&&(P.remove(s),v.push({parent:this,child:P})),this.nodeMapByID.put(P.id,P)}),N.isRemoved||T.push(N);if(T.length){const N=T.map(P=>Vc(P));g.length&&g[g.length-1].from===p?g[g.length-1].value=N:g.push({type:"content",from:p,to:p,fromPath:m,toPath:m,actor:s.getActorID(),value:N})}}return[g,v,y]}editT(t,r,i,s,o){const a=this.findPos(t[0]),l=this.findPos(t[1]);this.edit([a,l],r,i,s,o)}move(t,r,i){throw new k(S.ErrUnimplemented,`not implemented: ${t}, ${r}, ${i}`)}purge(t){var s;(s=t.parent)==null||s.removeChild(t),this.nodeMapByID.remove(t.id);const r=t.insPrevID,i=t.insNextID;if(r){const o=this.findFloorNode(r);o.insNextID=i}if(i){const o=this.findFloorNode(i);o.insPrevID=r}t.insPrevID=void 0,t.insNextID=void 0}getGCPairs(){const t=[];return this.indexTree.traverse(r=>{r.getRemovedAt()&&t.push({parent:this,child:r});for(const i of r.getGCPairs())t.push(i)}),t}findPos(t,r=!0){const i=this.indexTree.findTreePos(t,r);return Rt.fromTreePos(i)}pathToPosRange(t){const r=this.pathToIndex(t);return[this.findPos(r),this.findPos(r+1)]}pathToPos(t){const r=this.indexTree.pathToIndex(t);return this.findPos(r)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return Gf(this.indexTree.getRoot())}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const t=this.indexTree.getRoot(),r=(i,s=void 0,o=void 0,a=0)=>{var m,w,I,D;let l,c,d;const h=i.isText?{node:i,offset:0}:s&&o?this.toTreePos(s,o):null;h&&(l=this.indexTree.indexOf(h),c=this.indexTree.treePosToPath(h),d=Rt.fromTreePos(h).toStruct());const p={type:i.type,parent:s==null?void 0:s.id.toTestString(),size:i.size,id:i.id.toTestString(),removedAt:(m=i.removedAt)==null?void 0:m.toTestString(),insPrev:(w=i.insPrevID)==null?void 0:w.toTestString(),insNext:(I=i.insNextID)==null?void 0:I.toTestString(),value:i.isText?i.value:void 0,isRemoved:i.isRemoved,children:[],depth:a,attributes:i.attrs?Xi((D=i.attrs)==null?void 0:D.toObject()):void 0,index:l,path:c,pos:d};for(let y=0;y<i.allChildren.length;y++){const g=y===0?i:i.allChildren[y-1];p.children.push(r(i.allChildren[y],i,g,a+1))}return p};return r(t)}getRootTreeNode(){return Vc(this.indexTree.getRoot())}toTestTreeNode(){return iy(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const t=this.getRoot();return new Et(t.deepcopy(),this.getCreatedAt())}toPath(t,r){const i=this.toTreePos(t,r);return i?this.indexTree.treePosToPath(i):[]}toIndex(t,r){const i=this.toTreePos(t,r);return i?this.indexTree.indexOf(i):-1}indexToPath(t){return this.indexTree.indexToPath(t)}pathToIndex(t){return this.indexTree.pathToIndex(t)}indexRangeToPosRange(t){const r=this.findPos(t[0]);return t[0]===t[1]?[r,r]:[r,this.findPos(t[1])]}indexRangeToPosStructRange(t){const[r,i]=t,s=this.findPos(r);return r===i?[s.toStruct(),s.toStruct()]:[s.toStruct(),this.findPos(i).toStruct()]}posRangeToPathRange(t){const[r,i]=this.findNodesAndSplitText(t[0]),[s,o]=this.findNodesAndSplitText(t[1]);return[this.toPath(r,i),this.toPath(s,o)]}posRangeToIndexRange(t){const[r,i]=this.findNodesAndSplitText(t[0]),[s,o]=this.findNodesAndSplitText(t[1]);return[this.toIndex(r,i),this.toIndex(s,o)]}traverseInPosRange(t,r,i,s,o){const a=this.toIndex(t,r),l=this.toIndex(i,s);return this.indexTree.tokensBetween(a,l,o)}toTreePos(t,r){if(!t||!r)return;if(t.isRemoved){let s;for(;t.isRemoved;)s=t,t=s.parent;const o=t.findOffset(s);return{node:t,offset:o}}if(t===r)return{node:t,offset:0};let i=t.findOffset(r);if(!r.isRemoved){if(r.isText)return{node:r,offset:r.paddedSize};i++}return{node:t,offset:i}}makeDeletionChanges(t,r){const i=[],s=[];let o=null,a=null;for(let l=0;l<t.length;l++){const c=t[l],d=t[l+1];o||(o=c),a=c;const h=this.findRightToken(c);(!h||!d||h[0]!==d[0]||h[1]!==d[1])&&(s.push([o,a]),o=null,a=null)}for(const l of s){const[c,d]=l,[h,p]=this.findLeftToken(c),[m,w]=d,I=p===he.Start?h:h.parent,D=w===he.Start?m:m.parent,y=this.toIndex(I,h),g=this.toIndex(D,m);y<g&&(i.length>0&&y===i[i.length-1].to?(i[i.length-1].to=g,i[i.length-1].toPath=this.toPath(D,m)):i.push({type:"content",from:y,to:g,fromPath:this.toPath(I,h),toPath:this.toPath(D,m),actor:r.getActorID()}))}return i.reverse()}findRightToken([t,r]){if(r===he.Start){const l=t.allChildren;return l.length>0?[l[0],l[0].isText?he.Text:he.Start]:[t,he.End]}const i=t.parent,s=i.allChildren,o=s.indexOf(t);if(i&&o===s.length-1)return[i,he.End];const a=s[o+1];return[a,a.isText?he.Text:he.Start]}findLeftToken([t,r]){if(r===he.End){const l=t.allChildren;if(l.length>0){const c=l[l.length-1];return[c,c.isText?he.Text:he.End]}return[t,he.Start]}const i=t.parent,s=i.allChildren,o=s.indexOf(t);if(i&&o===0)return[i,he.Start];const a=s[o-1];return[a,a.isText?he.Text:he.End]}}class Oo extends Jt{constructor(t,r,i,s,o,a,l){super(t,l);u(this,"fromPos");u(this,"toPos");u(this,"contents");u(this,"splitLevel");u(this,"maxCreatedAtMapByActor");this.fromPos=r,this.toPos=i,this.contents=s,this.splitLevel=o,this.maxCreatedAtMapByActor=a}static create(t,r,i,s,o,a,l){return new Oo(t,r,i,s,o,a,l)}execute(t){var l;const r=t.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new k(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Et))throw new k(S.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const i=this.getExecutedAt(),s=r,[o,a]=s.edit([this.fromPos,this.toPos],(l=this.contents)==null?void 0:l.map(c=>c.deepcopy()),this.splitLevel,i,(()=>{let c=i.getDelimiter();return this.contents!==void 0&&(c+=this.contents.length),()=>tt.of(i.getLamport(),++c,i.getActorID())})(),this.maxCreatedAtMapByActor);for(const c of a)t.registerGCPair(c);return{opInfos:o.map(({from:c,to:d,value:h,splitLevel:p,fromPath:m,toPath:w})=>({type:"tree-edit",path:t.createPath(this.getParentCreatedAt()),from:c,to:d,value:h,splitLevel:p,fromPath:m,toPath:w}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,i=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,s=this.contents||[];return`${t}.EDIT(${r},${i},${s.map(o=>Gf(o)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Rr{constructor(e,t,r,i){u(this,"clientSeq");u(this,"serverSeq");u(this,"lamport");u(this,"actor");this.clientSeq=e,this.serverSeq=i,this.lamport=t,this.actor=r}static of(e,t,r,i){return new Rr(e,t,r,i)}next(){return new Rr(this.clientSeq+1,this.lamport+1n,this.actor)}syncLamport(e){return e>this.lamport?new Rr(this.clientSeq,e,this.actor):new Rr(this.clientSeq,this.lamport+1n,this.actor)}createTimeTicket(e){return tt.of(this.lamport,e,this.actor)}setActor(e){return new Rr(this.clientSeq,this.lamport,e,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const V1=new Rr(0,0n,Wf);class ds{constructor({id:e,operations:t,presenceChange:r,message:i}){u(this,"id");u(this,"operations");u(this,"presenceChange");u(this,"message");this.id=e,this.operations=t||[],this.presenceChange=r,this.message=i}static create({id:e,operations:t,presenceChange:r,message:i}){return new ds({id:e,operations:t,presenceChange:r,message:i})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(e){for(const t of this.operations)t.setActor(e);this.id=this.id.setActor(e)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(e,t,r){const i=[],s=[];for(const o of this.operations){const a=o.execute(e,r);if(!a)continue;const{opInfos:l,reverseOp:c}=a;i.push(...l),c&&s.unshift(c)}return this.presenceChange&&(this.presenceChange.type===Yr.Put?t.set(this.id.getActorID(),Nt(this.presenceChange.presence)):t.delete(this.id.getActorID())),{opInfos:i,reverseOps:s}}toTestString(){return`${this.operations.map(e=>e.toTestString()).join(",")}`}toStruct(){return{changeID:ve.bytesToHex(ve.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(e=>ve.bytesToHex(ve.toOperation(e).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(e){const{changeID:t,operations:r,presenceChange:i,message:s}=e;return ds.create({id:ve.bytesToChangeID(ve.hexToBytes(t)),operations:r==null?void 0:r.map(o=>ve.bytesToOperation(ve.hexToBytes(o))),presenceChange:i,message:s})}}class Fl{constructor(e,t,r,i,s,o){u(this,"documentKey");u(this,"checkpoint");u(this,"isRemoved");u(this,"changes");u(this,"snapshot");u(this,"minSyncedTicket");this.documentKey=e,this.checkpoint=t,this.isRemoved=r,this.changes=i,this.snapshot=s,this.minSyncedTicket=o}static create(e,t,r,i,s,o){return new Fl(e,t,r,i,s,o)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getMinSyncedTicket(){return this.minSyncedTicket}}class Zi{constructor(e,t){u(this,"serverSeq");u(this,"clientSeq");this.serverSeq=e,this.clientSeq=t}static of(e,t){return new Zi(e,t)}increaseClientSeq(e){return e===0?this:new Zi(this.serverSeq,this.clientSeq+e)}forward(e){if(this.equals(e))return this;const t=this.serverSeq>e.serverSeq?this.serverSeq:e.serverSeq,r=Math.max(this.clientSeq,e.clientSeq);return Zi.of(t,r)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(e){return this.clientSeq===e.clientSeq&&this.serverSeq==e.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const K1=new Zi(0n,0);class rn{constructor(e,t){u(this,"createdAt");u(this,"offset");this.createdAt=e,this.offset=t}static of(e,t){return new rn(e,t)}static fromStruct(e){return rn.of(tt.fromStruct(e.createdAt),e.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(e){return this.createdAt.compare(e.createdAt)===0&&this.offset===e.offset}hasSameCreatedAt(e){return this.createdAt.compare(e.createdAt)===0}split(e){return new rn(this.createdAt,this.offset+e)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const W1=rn.of(Ft,0);class bt{constructor(e,t){u(this,"id");u(this,"relativeOffset");this.id=e,this.relativeOffset=t}static of(e,t){return new bt(e,t)}static fromStruct(e){const t=rn.fromStruct(e.id);return bt.of(t,e.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return rn.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(e){return this.id.equals(e.id)?this.relativeOffset===e.relativeOffset:!1}}class Wr extends Gp{constructor(t,r,i){super(r);u(this,"id");u(this,"removedAt");u(this,"prev");u(this,"next");u(this,"insPrev");u(this,"insNext");this.id=t,this.removedAt=i}static create(t,r){return new Wr(t,r)}static createComparator(){return(t,r)=>{const i=t.getCreatedAt().compare(r.getCreatedAt());return i!==0?i:t.getOffset()>r.getOffset()?1:t.getOffset()<r.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(t){this.prev=t,t&&(t.next=this)}setNext(t){this.next=t,t&&(t.prev=this)}setInsPrev(t){this.insPrev=t,t&&(t.insNext=this)}setInsNext(t){this.insNext=t,t&&(t.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(t){return new Wr(this.id.split(t),this.splitValue(t),this.removedAt)}canDelete(t,r){const i=!this.removedAt;return!this.getCreatedAt().after(r)&&(!this.removedAt||t.after(this.removedAt))?i:!1}canStyle(t,r){return!this.getCreatedAt().after(r)&&(!this.removedAt||t.after(this.removedAt))}remove(t){this.removedAt=t}createPosRange(){return[bt.of(this.id,0),bt.of(this.id,this.getLength())]}deepcopy(){return new Wr(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(t){const r=this.value;return this.value=r.substring(0,t),r.substring(t,r.length)}toIDString(){return this.id.toIDString()}}class hs{constructor(){u(this,"head");u(this,"treeByIndex");u(this,"treeByID");this.head=Wr.create(W1),this.treeByIndex=new yo,this.treeByID=new ry(Wr.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new hs}edit(e,t,r,i){const[s,o]=this.findNodeWithSplit(e[1],t),[a,l]=this.findNodeWithSplit(e[0],t),c=this.findBetween(l,o),[d,h,p]=this.deleteNodes(c,t,i),m=o?o.getID():s.getID();let w=bt.of(m,0);if(r){const D=this.posToIndex(a.createPosRange()[1],!0),y=this.insertAfter(a,Wr.create(rn.of(t,0),r));d.length&&d[d.length-1].from===D?d[d.length-1].value=r:d.push({actor:t.getActorID(),from:D,to:D,value:r}),w=bt.of(y.getID(),y.getContentLength())}const I=[];for(const[,D]of p)I.push({parent:this,child:D});return[w,h,I,d]}indexToPos(e){const[t,r]=this.treeByIndex.find(e),i=t;return bt.of(i.getID(),r)}findIndexesFromRange(e){const[t,r]=e;return[this.posToIndex(t,!1),this.posToIndex(r,!0)]}posToIndex(e,t){const r=e.getAbsoluteID(),i=t?this.findFloorNodePreferToLeft(r):this.findFloorNode(r);if(!i)throw new k(S.ErrInvalidArgument,`the node of the given id should be found: ${r.toTestString()}`);const s=this.treeByIndex.indexOf(i),o=i.isRemoved()?0:r.getOffset()-i.getID().getOffset();return s+o}findNode(e){return this.findFloorNode(e)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const e=[];for(const t of this)t.isRemoved()||e.push(t.getValue());return e.join("")}*[Symbol.iterator](){let e=this.head.getNext();for(;e;)yield e,e=e.getNext()}getHead(){return this.head}deepcopy(){const e=new hs;let t=this.head.getNext(),r=e.head,i;for(;t;){if(i=e.insertAfter(r,t.deepcopy()),t.hasInsPrev()){const s=e.findNode(t.getInsPrevID());i.setInsPrev(s)}r=i,t=t.getNext()}return e}toTestString(){const e=[];let t=this.head;for(;t;)t.isRemoved()?e.push(`{${t.toTestString()}}`):e.push(`[${t.toTestString()}]`),t=t.getNext();return e.join("")}insertAfter(e,t){const r=e.getNext();return t.setPrev(e),r&&r.setPrev(t),this.treeByID.put(t.getID(),t),this.treeByIndex.insertAfter(e,t),t}findNodeWithSplit(e,t){const r=e.getAbsoluteID();let i=this.findFloorNodePreferToLeft(r);const s=r.getOffset()-i.getID().getOffset();for(this.splitNode(i,s);i.hasNext()&&i.getNext().getCreatedAt().after(t);)i=i.getNext();return[i,i.getNext()]}findFloorNodePreferToLeft(e){let t=this.findFloorNode(e);if(!t)throw new k(S.ErrInvalidArgument,`the node of the given id should be found: ${e.toTestString()}`);if(e.getOffset()>0&&t.getID().getOffset()==e.getOffset()){if(!t.hasInsPrev())return t;t=t.getInsPrev()}return t}findFloorNode(e){const t=this.treeByID.floorEntry(e);if(t&&!(!t.key.equals(e)&&!t.key.hasSameCreatedAt(e)))return t.value}findBetween(e,t){const r=[];let i=e;for(;i&&i!==t;)r.push(i),i=i.getNext();return r}splitNode(e,t){if(t>e.getContentLength())throw new k(S.ErrInvalidArgument,"offset should be less than or equal to length");if(t===0)return e;if(t===e.getContentLength())return e.getNext();const r=e.split(t);this.treeByIndex.updateWeight(r),this.insertAfter(e,r);const i=e.getInsNext();return i&&i.setInsPrev(r),r.setInsPrev(e),r}deleteNodes(e,t,r){if(!e.length)return[[],new Map,new Map];const[i,s]=this.filterNodes(e,t,r),o=new Map,a=new Map,l=this.makeChanges(s,t);for(const c of i){const d=c.getCreatedAt().getActorID();(!o.has(d)||c.getID().getCreatedAt().after(o.get(d)))&&o.set(d,c.getID().getCreatedAt()),a.set(c.getID().toIDString(),c),c.remove(t)}return this.deleteIndexNodes(s),[l,o,a]}filterNodes(e,t,r){const i=!!r,s=[],o=[],[a,l]=this.findEdgesOfCandidates(e);o.push(a);for(const c of e){const d=c.getCreatedAt().getActorID(),h=i?r.has(d)?r.get(d):Ft:Ks;c.canDelete(t,h)?s.push(c):o.push(c)}return o.push(l),[s,o]}findEdgesOfCandidates(e){return[e[0].getPrev(),e[e.length-1].getNext()]}makeChanges(e,t){const r=[];let i,s;for(let o=0;o<e.length-1;o++){const a=e[o],l=e[o+1];a.getNext()!=l&&([i]=this.findIndexesFromRange(a.getNext().createPosRange()),l?[,s]=this.findIndexesFromRange(l.getPrev().createPosRange()):s=this.treeByIndex.length,i<s&&r.push({actor:t.getActorID(),from:i,to:s}))}return r.reverse()}deleteIndexNodes(e){for(let t=0;t<e.length-1;t++){const r=e[t],i=e[t+1];r.getNext()!=i&&this.treeByIndex.deleteRange(r,i)}}purge(e){this.treeByIndex.delete(e),this.treeByID.remove(e.getID());const t=e.getPrev(),r=e.getNext(),i=e.getInsPrev(),s=e.getInsNext();t&&t.setNext(r),r&&r.setPrev(t),e.setPrev(void 0),e.setNext(void 0),i&&i.setInsNext(s),s&&s.setInsPrev(i),e.setInsPrev(void 0),e.setInsNext(void 0)}}const Qh=n=>n<0?Math.ceil(n):Math.floor(n);var sn=(n=>(n[n.IntegerCnt=0]="IntegerCnt",n[n.LongCnt=1]="LongCnt",n))(sn||{});class rt extends Co{constructor(t,r,i){super(i);u(this,"valueType");u(this,"value");switch(this.valueType=t,t){case 0:typeof r=="number"?r>Math.pow(2,31)-1||r<-Math.pow(2,31)?this.value=V.fromNumber(r).toInt():this.value=Qh(r):this.value=r.toInt();break;case 1:typeof r=="number"?this.value=V.fromNumber(r):this.value=r;break;default:throw new k(S.ErrUnimplemented,`unimplemented type: ${t}`)}}static create(t,r,i){return new rt(t,r,i)}static valueFromBytes(t,r){switch(t){case 0:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 1:return V.fromBytesLE(Array.from(r));default:throw new k(S.ErrUnimplemented,`unimplemented type: ${t}`)}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const t=rt.create(this.valueType,this.value,this.getCreatedAt());return t.setMovedAt(this.getMovedAt()),t}getType(){return this.valueType}static getCounterType(t){switch(typeof t){case"object":return t instanceof V?1:void 0;case"number":return t>Math.pow(2,31)-1||t<-Math.pow(2,31)?1:0;default:return}}static isSupport(t){return!!rt.getCounterType(t)}static isInteger(t){return t%1===0}isNumericType(){const t=this.valueType;return t===0||t===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const t=this.value;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}case 1:{const r=this.value.toBytesLE();return Uint8Array.from(r)}default:throw new k(S.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(t){function r(i){if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`)}return r(this),r(t),this.valueType===1?this.value=this.value.add(t.getValue()):t.getType()===ye.Long?this.value=this.value+t.getValue().toInt():this.value=V.fromNumber(this.value+Qh(t.getValue())).toInt(),this}}class gs extends Jt{constructor(t,r,i){super(t,i);u(this,"value");this.value=r}static create(t,r,i){return new gs(t,r,i)}execute(t){const r=t.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new k(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof rt))throw new k(S.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const i=r,s=this.value.deepcopy();return i.increase(s),{opInfos:[{type:"increase",path:t.createPath(this.getParentCreatedAt()),value:s.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const t=this.value.deepcopy(),i=t.getType()===ye.Long?t.getValue().multiply(-1):t.getValue()*-1;return gs.create(this.getParentCreatedAt(),re.of(i,t.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class mr extends Jt{constructor(t,r,i,s,o,a,l){super(t,l);u(this,"fromPos");u(this,"toPos");u(this,"maxCreatedAtMapByActor");u(this,"attributes");u(this,"attributesToRemove");this.fromPos=r,this.toPos=i,this.maxCreatedAtMapByActor=s,this.attributes=o,this.attributesToRemove=a}static create(t,r,i,s,o,a){return new mr(t,r,i,s,o,new Array,a)}static createTreeRemoveStyleOperation(t,r,i,s,o,a){return new mr(t,r,i,s,new Map,o,a)}execute(t){const r=t.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new k(S.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Et))throw new k(S.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const i=r;let s,o;if(this.attributes.size){const a={};[...this.attributes].forEach(([l,c])=>a[l]=c),[,o,s]=i.style([this.fromPos,this.toPos],a,this.getExecutedAt(),this.maxCreatedAtMapByActor)}else{const a=this.attributesToRemove;[,o,s]=i.removeStyle([this.fromPos,this.toPos],a,this.getExecutedAt(),this.maxCreatedAtMapByActor)}for(const a of o)t.registerGCPair(a);return{opInfos:s.map(({from:a,to:l,value:c,fromPath:d,toPath:h})=>({type:"tree-style",from:a,to:l,value:this.attributes.size?{attributes:c}:{attributesToRemove:c},fromPath:d,toPath:h,path:t.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,i=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${t}.STYLE(${r},${i},${Object.entries(this.attributes||{}).map(([s,o])=>`${s}:"${o}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}function _1(n){const e=new Kf,t=e.data;for(const[r,i]of Object.entries(n))t[r]=JSON.stringify(i);return e}function H1(n){if(n.type===Yr.Put)return new mo({type:Ai.PUT,presence:_1(n.presence)});if(n.type===Yr.Clear)return new mo({type:Ai.CLEAR});throw new k(S.ErrUnimplemented,"unimplemented type")}function G1(n){return new Wp({serverSeq:n.getServerSeq(),clientSeq:n.getClientSeq()})}function sy(n){return new Ll({clientSeq:n.getClientSeq(),lamport:n.getLamport(),actorId:nd(n.getActorID())})}function b(n){if(n)return new F({lamport:n.getLamport(),delimiter:n.getDelimiter(),actorId:nd(n.getActorID())})}function oy(n){switch(n){case ye.Null:return $.NULL;case ye.Boolean:return $.BOOLEAN;case ye.Integer:return $.INTEGER;case ye.Long:return $.LONG;case ye.Double:return $.DOUBLE;case ye.String:return $.STRING;case ye.Bytes:return $.BYTES;case ye.Date:return $.DATE;default:throw new k(S.ErrInvalidType,`unsupported type: ${n}`)}}function ay(n){switch(n){case sn.IntegerCnt:return $.INTEGER_CNT;case sn.LongCnt:return $.LONG_CNT;default:throw new k(S.ErrInvalidType,`unsupported type: ${n}`)}}function wu(n){if(n instanceof _e)return new ut({type:$.JSON_OBJECT,createdAt:b(n.getCreatedAt()),value:Sy(n)});if(n instanceof nt)return new ut({type:$.JSON_ARRAY,createdAt:b(n.getCreatedAt()),value:IS(n)});if(n instanceof It)return new ut({type:$.TEXT,createdAt:b(n.getCreatedAt())});if(n instanceof re)return new ut({type:oy(n.getType()),createdAt:b(n.getCreatedAt()),value:n.toBytes()});if(n instanceof rt)return new ut({type:ay(n.getType()),createdAt:b(n.getCreatedAt()),value:n.toBytes()});if(n instanceof Et)return new ut({type:$.TREE,createdAt:b(n.getCreatedAt()),value:xS(n)});throw new k(S.ErrUnimplemented,"unimplemented element")}function Y1(n){return new ho({createdAt:b(n.getCreatedAt()),offset:n.getOffset()})}function Xo(n){return new Sr({createdAt:b(n.getID().getCreatedAt()),offset:n.getID().getOffset(),relativeOffset:n.getRelativeOffset()})}function Zo(n){return new Ti({parentId:Ws(n.getParentID()),leftSiblingId:Ws(n.getLeftSiblingID())})}function Ws(n){return new Vr({createdAt:b(n.getCreatedAt()),offset:n.getOffset()})}function ly(n){const e=new Vf;if(n instanceof Ii){const t=n,r=new Ha;r.parentCreatedAt=b(t.getParentCreatedAt()),r.key=t.getKey(),r.value=wu(t.getValue()),r.executedAt=b(t.getExecutedAt()),e.body.case="set",e.body.value=r}else if(n instanceof No){const t=n,r=new Ga;r.parentCreatedAt=b(t.getParentCreatedAt()),r.prevCreatedAt=b(t.getPrevCreatedAt()),r.value=wu(t.getValue()),r.executedAt=b(t.getExecutedAt()),e.body.case="add",e.body.value=r}else if(n instanceof Fr){const t=n,r=new Ya;r.parentCreatedAt=b(t.getParentCreatedAt()),r.prevCreatedAt=b(t.getPrevCreatedAt()),r.createdAt=b(t.getCreatedAt()),r.executedAt=b(t.getExecutedAt()),e.body.case="move",e.body.value=r}else if(n instanceof Qr){const t=n,r=new Qa;r.parentCreatedAt=b(t.getParentCreatedAt()),r.createdAt=b(t.getCreatedAt()),r.executedAt=b(t.getExecutedAt()),e.body.case="remove",e.body.value=r}else if(n instanceof Po){const t=n,r=new Xa;r.parentCreatedAt=b(t.getParentCreatedAt()),r.from=Xo(t.getFromPos()),r.to=Xo(t.getToPos());const i=r.createdAtMapByActor;for(const[o,a]of t.getMaxCreatedAtMapByActor())i[o]=b(a);r.content=t.getContent();const s=r.attributes;for(const[o,a]of t.getAttributes())s[o]=a;r.executedAt=b(t.getExecutedAt()),e.body.case="edit",e.body.value=r}else if(n instanceof Do){const t=n,r=new Za;r.parentCreatedAt=b(t.getParentCreatedAt()),r.from=Xo(t.getFromPos()),r.to=Xo(t.getToPos());const i=r.createdAtMapByActor;for(const[o,a]of t.getMaxCreatedAtMapByActor())i[o]=b(a);const s=r.attributes;for(const[o,a]of t.getAttributes())s[o]=a;r.executedAt=b(t.getExecutedAt()),e.body.case="style",e.body.value=r}else if(n instanceof gs){const t=n,r=new el;r.parentCreatedAt=b(t.getParentCreatedAt()),r.value=wu(t.getValue()),r.executedAt=b(t.getExecutedAt()),e.body.case="increase",e.body.value=r}else if(n instanceof Oo){const t=n,r=new tl,i=r.createdAtMapByActor;for(const[s,o]of t.getMaxCreatedAtMapByActor())i[s]=b(o);r.parentCreatedAt=b(t.getParentCreatedAt()),r.from=Zo(t.getFromPos()),r.to=Zo(t.getToPos()),r.contents=rS(t.getContents()),r.splitLevel=t.getSplitLevel(),r.executedAt=b(t.getExecutedAt()),e.body.case="treeEdit",e.body.value=r}else if(n instanceof mr){const t=n,r=new nl;r.parentCreatedAt=b(t.getParentCreatedAt()),r.from=Zo(t.getFromPos()),r.to=Zo(t.getToPos());const i=r.createdAtMapByActor;for(const[o,a]of t.getMaxCreatedAtMapByActor())i[o]=b(a);const s=t.getAttributesToRemove();if(s.length>0)r.attributesToRemove=s;else{const o=r.attributes;for(const[a,l]of t.getAttributes())o[a]=l}r.executedAt=b(t.getExecutedAt()),e.body.case="treeStyle",e.body.value=r}else throw new k(S.ErrUnimplemented,"unimplemented operation");return e}function Q1(n){const e=[];for(const t of n)e.push(ly(t));return e}function X1(n){const e=new Vp({id:sy(n.getID()),message:n.getMessage()});return n.hasOperations()&&(e.operations=Q1(n.getOperations())),n.hasPresenceChange()&&(e.presenceChange=H1(n.getPresenceChange())),e}function Z1(n){const e=[];for(const t of n)e.push(X1(t));return e}function eS(n){const e=[];for(const t of n)e.push(new Kp({key:t.getStrKey(),element:Qf(t.getValue())}));return e}function tS(n){const e=[];for(const t of n)e.push(new ul({element:Qf(t.getValue())}));return e}function nS(n){const e=[];for(const t of n){const r=new cl;r.id=Y1(t.getID()),r.value=t.getValue().getContent(),r.removedAt=b(t.getRemovedAt());const i=r.attributes,s=t.getValue().getAttrs();for(const o of s){const a=new us;a.value=o.getValue(),a.updatedAt=b(o.getUpdatedAt()),i[o.getKey()]=a}e.push(r)}return e}function rS(n){const e=[];if(!n||!n.length)return e;for(const t of n)e.push(new fl({content:Yf(t)}));return e}function iS(n){const e={};for(const t of n)e[t.getKey()]=new us({value:t.getValue(),updatedAt:b(t.getUpdatedAt()),isRemoved:t.isRemoved()});return e}function Yf(n){if(!n)return[];const e=[];return Bl(n,(t,r)=>{const i=new go({id:Ws(t.id),type:t.type,removedAt:b(t.removedAt),depth:r});t.isText&&(i.value=t.value),t.insPrevID&&(i.insPrevId=Ws(t.insPrevID)),t.insNextID&&(i.insNextId=Ws(t.insNextID)),t.attrs&&(i.attributes=iS(t.attrs)),e.push(i)}),e}function sS(n){const e=new He;return e.body.case="jsonObject",e.body.value=new rl({nodes:eS(n.getRHT()),createdAt:b(n.getCreatedAt()),movedAt:b(n.getMovedAt()),removedAt:b(n.getRemovedAt())}),e}function uy(n){const e=new He;return e.body.case="jsonArray",e.body.value=new il({nodes:tS(n.getElements()),createdAt:b(n.getCreatedAt()),movedAt:b(n.getMovedAt()),removedAt:b(n.getRemovedAt())}),e}function oS(n){const e=new He;return e.body.case="primitive",e.body.value=new sl({type:oy(n.getType()),value:n.toBytes(),createdAt:b(n.getCreatedAt()),movedAt:b(n.getMovedAt()),removedAt:b(n.getRemovedAt())}),e}function aS(n){const e=new He;return e.body.case="text",e.body.value=new ol({nodes:nS(n.getRGATreeSplit()),createdAt:b(n.getCreatedAt()),movedAt:b(n.getMovedAt()),removedAt:b(n.getRemovedAt())}),e}function lS(n){const e=new He;return e.body.case="counter",e.body.value=new al({type:ay(n.getType()),value:n.toBytes(),createdAt:b(n.getCreatedAt()),movedAt:b(n.getMovedAt()),removedAt:b(n.getRemovedAt())}),e}function cy(n){const e=new He;return e.body.case="tree",e.body.value=new ll({nodes:Yf(n.getRoot()),createdAt:b(n.getCreatedAt()),movedAt:b(n.getMovedAt()),removedAt:b(n.getRemovedAt())}),e}function Qf(n){if(n instanceof _e)return sS(n);if(n instanceof nt)return uy(n);if(n instanceof re)return oS(n);if(n instanceof It)return aS(n);if(n instanceof rt)return lS(n);if(n instanceof Et)return cy(n);throw new k(S.ErrUnimplemented,"unimplemented element")}function uS(n){return new Ar({documentKey:n.getDocumentKey(),checkpoint:G1(n.getCheckpoint()),isRemoved:n.getIsRemoved(),changes:Z1(n.getChanges()),snapshot:n.getSnapshot(),minSyncedTicket:b(n.getMinSyncedTicket())})}function Xh(n){const e=n.findDetails(x1);for(const t of e)if(t.metadata.code)return t.metadata.code;return""}function fy(n){return Rr.of(n.clientSeq,BigInt(n.lamport),td(n.actorId),BigInt(n.serverSeq))}function M(n){if(n)return tt.of(BigInt(n.lamport),n.delimiter,td(n.actorId))}function Xf(n){const e={};return Object.entries(n.data).forEach(([t,r])=>{e[t]=JSON.parse(r)}),e}function cS(n){const e=n.type;if(e===Ai.PUT){const t=Xf(n.presence);return{type:Yr.Put,presence:t}}if(e===Ai.CLEAR)return{type:Yr.Clear};throw new k(S.ErrInvalidType,`unsupported type: ${e}`)}function fS(n){const e=new Map;return Object.entries(n).forEach(([t,r])=>{e.set(t,Xf(r))}),e}function dy(n){switch(n){case $.NULL:return ye.Null;case $.BOOLEAN:return ye.Boolean;case $.INTEGER:return ye.Integer;case $.LONG:return ye.Long;case $.DOUBLE:return ye.Double;case $.STRING:return ye.String;case $.BYTES:return ye.Bytes;case $.DATE:return ye.Date}throw new k(S.ErrUnimplemented,`unimplemented value type: ${n}`)}function gl(n){switch(n){case $.INTEGER_CNT:return sn.IntegerCnt;case $.LONG_CNT:return sn.LongCnt}throw new k(S.ErrUnimplemented,`unimplemented value type: ${n}`)}function Su(n){switch(n.type){case $.JSON_OBJECT:return n.value?wy(n.value):_e.create(M(n.createdAt));case $.JSON_ARRAY:return n.value?AS(n.value):nt.create(M(n.createdAt));case $.TEXT:return It.create(hs.create(),M(n.createdAt));case $.TREE:return ES(n.value);case $.NULL:case $.BOOLEAN:case $.INTEGER:case $.LONG:case $.DOUBLE:case $.STRING:case $.BYTES:case $.DATE:return re.of(re.valueFromBytes(dy(n.type),n.value),M(n.createdAt));case $.INTEGER_CNT:case $.LONG_CNT:return rt.create(gl(n.type),rt.valueFromBytes(gl(n.type),n.value),M(n.createdAt))}}function ea(n){return bt.of(rn.of(M(n.createdAt),n.offset),n.relativeOffset)}function hy(n){return rn.of(M(n.createdAt),n.offset)}function dS(n){const e=wo.create(n.value);Object.entries(n.attributes).forEach(([r,i])=>{e.setAttr(r,i.value,M(i.updatedAt))});const t=Wr.create(hy(n.id),e);return t.remove(M(n.removedAt)),t}function Di(n){return Rt.of(_s(n.parentId),_s(n.leftSiblingId))}function _s(n){return Ee.of(M(n.createdAt),n.offset)}function hS(n){if(!n.length)return;const e=[];return n.forEach(t=>{const r=Zf(t.content);e.push(r)}),e}function Zf(n){if(n.length===0)return;const e=[];for(const i of n)e.push(mS(i));const t=e[e.length-1],r=new Map;r.set(n[e.length-1].depth,e[e.length-1]);for(let i=e.length-2;i>=0;i--)r.get(n[i].depth-1).prepend(e[i]),r.set(n[i].depth,e[i]);return t.updateDescendantsSize(),Et.create(t,Ft).getRoot()}function gS(n){const e=kr.create();for(const[t,r]of Object.entries(n))e.setInternal(t,r.value,M(r.updatedAt),r.isRemoved);return e}function mS(n){const e=_s(n.id),t=Ze.create(e,n.type),r=Object.entries(n.attributes);return t.isText?t.value=n.value:r.length&&(t.attrs=gS(n.attributes)),n.insPrevId&&(t.insPrevID=_s(n.insPrevId)),n.insNextId&&(t.insNextID=_s(n.insNextId)),t.removedAt=M(n.removedAt),t}function gy(n){if(n.body.case==="set"){const e=n.body.value;return Ii.create(e.key,Su(e.value),M(e.parentCreatedAt),M(e.executedAt))}else if(n.body.case==="add"){const e=n.body.value;return No.create(M(e.parentCreatedAt),M(e.prevCreatedAt),Su(e.value),M(e.executedAt))}else if(n.body.case==="move"){const e=n.body.value;return Fr.create(M(e.parentCreatedAt),M(e.prevCreatedAt),M(e.createdAt),M(e.executedAt))}else if(n.body.case==="remove"){const e=n.body.value;return Qr.create(M(e.parentCreatedAt),M(e.createdAt),M(e.executedAt))}else if(n.body.case==="edit"){const e=n.body.value,t=new Map;Object.entries(e.createdAtMapByActor).forEach(([i,s])=>{t.set(i,M(s))});const r=new Map;return Object.entries(e.attributes).forEach(([i,s])=>{r.set(i,s)}),Po.create(M(e.parentCreatedAt),ea(e.from),ea(e.to),t,e.content,r,M(e.executedAt))}else if(n.body.case==="style"){const e=n.body.value,t=new Map;Object.entries(e.createdAtMapByActor).forEach(([i,s])=>{t.set(i,M(s))});const r=new Map;return Object.entries(e.attributes).forEach(([i,s])=>{r.set(i,s)}),Do.create(M(e.parentCreatedAt),ea(e.from),ea(e.to),t,r,M(e.executedAt))}else{if(n.body.case==="select")return;if(n.body.case==="increase"){const e=n.body.value;return gs.create(M(e.parentCreatedAt),Su(e.value),M(e.executedAt))}else if(n.body.case==="treeEdit"){const e=n.body.value,t=new Map;return Object.entries(e.createdAtMapByActor).forEach(([r,i])=>{t.set(r,M(i))}),Oo.create(M(e.parentCreatedAt),Di(e.from),Di(e.to),hS(e.contents),e.splitLevel,t,M(e.executedAt))}else if(n.body.case==="treeStyle"){const e=n.body.value,t=new Map,r=e.attributesToRemove,i=new Map;return e!=null&&e.createdAtMapByActor&&Object.entries(e.createdAtMapByActor).forEach(([s,o])=>{i.set(s,M(o))}),(r==null?void 0:r.length)>0?mr.createTreeRemoveStyleOperation(M(e.parentCreatedAt),Di(e.from),Di(e.to),i,r,M(e.executedAt)):(Object.entries(e.attributes).forEach(([s,o])=>{t.set(s,o)}),mr.create(M(e.parentCreatedAt),Di(e.from),Di(e.to),i,t,M(e.executedAt)))}else throw new k(S.ErrUnimplemented,"unimplemented operation")}}function pS(n){const e=[];for(const t of n){const r=gy(t);r&&e.push(r)}return e}function my(n){const e=[];for(const t of n)e.push(ds.create({id:fy(t.id),operations:pS(t.operations),presenceChange:t.presenceChange?cS(t.presenceChange):void 0,message:t.message}));return e}function yS(n){return Zi.of(BigInt(n.serverSeq),n.clientSeq)}function vS(n){return Fl.create(n.documentKey,yS(n.checkpoint),n.isRemoved,my(n.changes),n.snapshot,M(n.minSyncedTicket))}function py(n){const e=new po;for(const r of n.nodes){const i=ed(r.element);e.set(r.key,i,i.getPositionedAt())}const t=new _e(M(n.createdAt),e);return t.setMovedAt(M(n.movedAt)),t.setRemovedAt(M(n.removedAt)),t}function yy(n){const e=new vo;for(const r of n.nodes)e.insert(ed(r.element));const t=new nt(M(n.createdAt),e);return t.setMovedAt(M(n.movedAt)),t.setRemovedAt(M(n.removedAt)),t}function wS(n){const e=re.of(re.valueFromBytes(dy(n.type),n.value),M(n.createdAt));return e.setMovedAt(M(n.movedAt)),e.setRemovedAt(M(n.removedAt)),e}function SS(n){const e=new hs;let t=e.getHead();for(const i of n.nodes){const s=e.insertAfter(t,dS(i));i.insPrevId&&s.setInsPrev(e.findNode(hy(i.insPrevId))),t=s}const r=new It(e,M(n.createdAt));return r.setMovedAt(M(n.movedAt)),r.setRemovedAt(M(n.removedAt)),r}function kS(n){const e=rt.create(gl(n.type),rt.valueFromBytes(gl(n.type),n.value),M(n.createdAt));return e.setMovedAt(M(n.movedAt)),e.setRemovedAt(M(n.removedAt)),e}function vy(n){const e=Zf(n.nodes);return Et.create(e,M(n.createdAt))}function ed(n){if(n.body.case==="jsonObject")return py(n.body.value);if(n.body.case==="jsonArray")return yy(n.body.value);if(n.body.case==="primitive")return wS(n.body.value);if(n.body.case==="text")return SS(n.body.value);if(n.body.case==="counter")return kS(n.body.value);if(n.body.case==="tree")return vy(n.body.value);throw new k(S.ErrUnimplemented,"unimplemented element")}function TS(n){if(!n)return{root:_e.create(Ft),presences:new Map};const e=wc.fromBinary(n);return{root:ed(e.root),presences:fS(e.presences)}}function wy(n){if(!n)throw new k(S.ErrInvalidArgument,"bytes is empty");const e=He.fromBinary(n);return py(e.body.value)}function Sy(n){return Qf(n).toBinary()}function AS(n){if(!n)throw new k(S.ErrInvalidArgument,"bytes is empty");const e=He.fromBinary(n);return yy(e.body.value)}function IS(n){return uy(n).toBinary()}function ES(n){if(!n)throw new k(S.ErrInvalidArgument,"bytes is empty");const e=He.fromBinary(n);return vy(e.body.value)}function xS(n){return cy(n).toBinary()}function ky(n){return n?Array.from(n).map(e=>e.toString(16).padStart(2,"0")).join(""):""}function td(n){return ky(n)}function Ty(n){return new Uint8Array(n.match(/.{1,2}/g).map(e=>parseInt(e,16)))}function nd(n){return Ty(n)}function CS(n){const e=Ll.fromBinary(n);return fy(e)}function NS(n){const e=Vf.fromBinary(n);return gy(e)}const ve={fromPresence:Xf,toChangePack:uS,fromChangePack:vS,fromChanges:my,toTreeNodes:Yf,fromTreeNodes:Zf,objectToBytes:Sy,bytesToObject:wy,bytesToSnapshot:TS,bytesToHex:ky,hexToBytes:Ty,toHexString:td,toUint8Array:nd,toOperation:ly,toChangeID:sy,PbChangeID:Ll,bytesToChangeID:CS,bytesToOperation:NS};var Fe=(n=>(n[n.Trivial=0]="Trivial",n[n.Debug=1]="Debug",n[n.Info=2]="Info",n[n.Warn=3]="Warn",n[n.Error=4]="Error",n[n.Fatal=5]="Fatal",n))(Fe||{});let oi=3;function Ay(n){oi=n}const J={trivial:(...n)=>{oi>0||typeof console<"u"&&console.log("YORKIE T:",...n)},debug:(...n)=>{oi>1||typeof console<"u"&&console.log("YORKIE D:",...n)},info:(...n)=>{oi>2||typeof console<"u"&&console.log("YORKIE I:",...n)},warn:(...n)=>{oi>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...n):console.log("YORKIE W:",...n))},error:(...n)=>{oi>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...n):console.log("YORKIE E:",...n))},fatal:(...n)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...n):console.log("YORKIE F:",...n))},isEnabled:n=>oi<=n};function Iy(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,n=>{const e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16)})}class PS{constructor(e,t,r,i,s){u(this,"reconnectStreamDelay");u(this,"doc");u(this,"docID");u(this,"syncMode");u(this,"remoteChangeEventReceived");u(this,"watchStream");u(this,"watchLoopTimerID");u(this,"watchAbortController");u(this,"unsubscribeBroadcastEvent");this.reconnectStreamDelay=e,this.doc=t,this.docID=r,this.syncMode=i,this.remoteChangeEventReceived=!1,this.unsubscribeBroadcastEvent=s}changeSyncMode(e){this.syncMode=e}needRealtimeSync(){return this.syncMode===ka.RealtimeSyncOff?!1:this.syncMode===ka.RealtimePushOnly?this.doc.hasLocalChanges():this.syncMode!==ka.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(e){const t=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await e(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(t,this.reconnectStreamDelay)})}catch{}};await t()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}const ku=()=>{};class DS{constructor(e){u(this,"finalized",!1);u(this,"observers",[]);u(this,"finalError");try{e(this)}catch(t){this.error(t)}}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(!e)throw new k(S.ErrInvalidArgument,"missing observer");if(this.finalized)throw new k(S.ErrRefused,"observable is finalized due to previous error");typeof e=="object"?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ku),i.error===void 0&&(i.error=ku),i.complete===void 0&&(i.complete=ku);const s=Iy(),o=this.unsubscribeOne.bind(this,s);if(this.observers.push({subscriptionID:s,observer:i}),this.finalized)try{this.finalError?i.error(this.finalError):i.complete()}catch(a){J.warn(a)}return o}unsubscribeOne(e){var t;this.observers=(t=this.observers)==null?void 0:t.filter(r=>r.subscriptionID!==e)}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e].observer)}catch(r){J.error(r)}}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.observers=void 0)}}function OS(n){const e=new DS(n);return{subscribe:e.subscribe.bind(e),getProxy:()=>e}}class Ki{constructor(e,t,r,i){u(this,"id");u(this,"delimiter");u(this,"message");u(this,"root");u(this,"operations");u(this,"presenceChange");u(this,"previousPresence");u(this,"reversePresenceKeys");this.id=e,this.delimiter=Hp,this.root=t,this.operations=[],this.previousPresence=Nt(r),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=i}static create(e,t,r,i){return new Ki(e,t,r,i)}push(e){this.operations.push(e)}registerElement(e,t){this.root.registerElement(e,t)}registerRemovedElement(e){this.root.registerRemovedElement(e)}registerGCPair(e){this.root.registerGCPair(e)}getChange(){return ds.create({id:this.id,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(e){this.presenceChange=e}setReversePresence(e,t){for(const r of Object.keys(e))t!=null&&t.addToHistory?this.reversePresenceKeys.add(r):this.reversePresenceKeys.delete(r)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const e={};for(const t of this.reversePresenceKeys)e[t]=this.previousPresence[t];return e}issueTimeTicket(){return this.delimiter+=1,this.id.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.id.createTimeTicket(this.delimiter)}}class So{constructor(e){u(this,"rootObject");u(this,"elementPairMapByCreatedAt");u(this,"gcElementSetByCreatedAt");u(this,"gcPairMap");this.rootObject=e,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.registerElement(e,void 0),e.getDescendants(t=>{if(t.getRemovedAt()&&this.registerRemovedElement(t),t instanceof It||t instanceof Et)for(const r of t.getGCPairs())this.registerGCPair(r);return!1})}static create(){return new So(_e.create(Ft))}findByCreatedAt(e){const t=this.elementPairMapByCreatedAt.get(e.toIDString());if(t)return t.element}findElementPairByCreatedAt(e){return this.elementPairMapByCreatedAt.get(e.toIDString())}createSubPaths(e){let t=this.elementPairMapByCreatedAt.get(e.toIDString());if(!t)return[];const r=[];for(;t.parent;){const i=t.element.getCreatedAt(),s=t.parent.subPathOf(i);if(s===void 0)throw new k(S.ErrInvalidArgument,`cant find the given element: ${i.toIDString()}`);r.unshift(s),t=this.elementPairMapByCreatedAt.get(t.parent.getCreatedAt().toIDString())}return r.unshift("$"),r}createPath(e){return this.createSubPaths(e).join(".")}registerElement(e,t){this.elementPairMapByCreatedAt.set(e.getCreatedAt().toIDString(),{parent:t,element:e}),e instanceof Kr&&e.getDescendants((r,i)=>(this.registerElement(r,i),!1))}deregisterElement(e){let t=0;const r=i=>{const s=i.getCreatedAt().toIDString();this.elementPairMapByCreatedAt.delete(s),this.gcElementSetByCreatedAt.delete(s),t++};return r(e),e instanceof Kr&&e.getDescendants(i=>(r(i),!1)),t}registerRemovedElement(e){this.gcElementSetByCreatedAt.add(e.getCreatedAt().toIDString())}registerGCPair(e){if(this.gcPairMap.get(e.child.toIDString())){this.gcPairMap.delete(e.child.toIDString());return}this.gcPairMap.set(e.child.toIDString(),e)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const e=new Set;for(const t of this.gcElementSetByCreatedAt){e.add(t);const r=this.elementPairMapByCreatedAt.get(t);r.element instanceof Kr&&r.element.getDescendants(i=>(e.add(i.getCreatedAt().toIDString()),!1))}return e.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}deepcopy(){return new So(this.rootObject.deepcopy())}garbageCollect(e){let t=0;for(const r of this.gcElementSetByCreatedAt){const i=this.elementPairMapByCreatedAt.get(r);i.element.getRemovedAt()&&e.compare(i.element.getRemovedAt())>=0&&(i.parent.purge(i.element),t+=this.deregisterElement(i.element))}for(const[,r]of this.gcPairMap){const i=r.child.getRemovedAt();i!==void 0&&e.compare(i)>=0&&(r.parent.purge(r.child),this.gcPairMap.delete(r.child.toIDString()),t+=1)}return t}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}}function Ey(n,e){const t=new ko(n);return new Proxy(e,t.getHandlers())}class ko{constructor(e){u(this,"context");u(this,"handlers");this.context=e,this.handlers={set:(t,r,i)=>(J.isEnabled(Fe.Trivial)&&J.trivial(`obj[${r}]=${JSON.stringify(i)}`),ko.setInternal(e,t,r,i),!0),get:(t,r)=>(J.isEnabled(Fe.Trivial)&&J.trivial(`obj[${r}]`),r==="getID"?()=>t.getCreatedAt():r==="toJSON"||r==="toString"?()=>t.toJSON():r==="toJS"?()=>t.toJS():r==="toJSForTest"?()=>t.toJSForTest():ai(e,t.get(r))),ownKeys:t=>t.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(t,r)=>(J.isEnabled(Fe.Trivial)&&J.trivial(`obj[${r}]`),ko.deleteInternal(e,t,r),!0)}}static setInternal(e,t,r,i){if(r.includes("."))throw new k(S.ErrInvalidObjectKey,"key must not contain the '.'.");const s=e.issueTimeTicket(),o=ml(e,i,s),a=t.set(r,o,s);e.registerElement(o,t),a&&e.registerRemovedElement(a),e.push(Ii.create(r,o.deepcopy(),t.getCreatedAt(),s))}static buildObjectMembers(e,t){const r={};for(const[i,s]of Object.entries(t)){if(i.includes("."))throw new k(S.ErrInvalidObjectKey,"key must not contain the '.'.");const o=e.issueTimeTicket(),a=ml(e,s,o);r[i]=a}return r}static deleteInternal(e,t,r){const i=e.issueTimeTicket(),s=t.deleteByKey(r,i);s&&(e.push(Qr.create(t.getCreatedAt(),s.getCreatedAt(),i)),e.registerRemovedElement(s))}getHandlers(){return this.handlers}}function RS(n,e){const t=new oe(n,e);return new Proxy(e,t.getHandlers())}function LS(n){return typeof n=="string"||n instanceof String?!isNaN(n):!1}function BS(n){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(n)}class oe{constructor(e,t){u(this,"context");u(this,"handlers");u(this,"array");this.context=e,this.array=t,this.handlers={get:(r,i,s)=>i==="getID"?()=>r.getCreatedAt():i==="getElementByID"?o=>{const a=r.getByID(o);if(!(!a||a.isRemoved()))return xr(e,a)}:i==="getElementByIndex"?o=>{const a=r.get(o);return xr(e,a)}:i==="getLast"?()=>xr(e,r.getLast()):i==="deleteByID"?o=>{const a=oe.deleteInternalByID(e,r,o);return xr(e,a)}:i==="insertAfter"?(o,a)=>{const l=oe.insertAfterInternal(e,r,o,a);return xr(e,l)}:i==="insertBefore"?(o,a)=>{const l=oe.insertBeforeInternal(e,r,o,a);return xr(e,l)}:i==="moveBefore"?(o,a)=>{oe.moveBeforeInternal(e,r,o,a)}:i==="moveAfter"?(o,a)=>{oe.moveAfterInternal(e,r,o,a)}:i==="moveFront"?o=>{oe.moveFrontInternal(e,r,o)}:i==="moveLast"?o=>{oe.moveLastInternal(e,r,o)}:LS(i)?ai(e,r.get(Number(i))):i==="push"?o=>oe.pushInternal(e,r,o):i==="splice"?(o,a,...l)=>oe.splice(e,r,o,a,...l):i==="length"?r.length:typeof i=="symbol"&&i===Symbol.iterator?oe.iteratorInternal.bind(this,e,r):i==="includes"?(o,a)=>oe.includes(e,r,o,a):i==="indexOf"?(o,a)=>oe.indexOf(e,r,o,a):i==="lastIndexOf"?(o,a)=>oe.lastIndexOf(e,r,o,a):i==="toJSForTest"?()=>r.toJSForTest():i==="toTestString"?()=>oe.toTestString(r):typeof i=="string"&&BS(i)?(...o)=>{const a=Array.from(r).map(l=>ai(e,l));return Array.prototype[i].apply(a,o)}:Reflect.get(r,i,s),deleteProperty:(r,i)=>(J.isEnabled(Fe.Trivial)&&J.trivial(`array[${i}]`),oe.deleteInternalByIndex(e,r,Number.parseInt(i)),!0)}}static*iteratorInternal(e,t){for(const r of t)yield xr(e,r)}static buildArrayElements(e,t){const r=[];for(const i of t){const s=e.issueTimeTicket(),o=ml(e,i,s);r.push(o)}return r}static pushInternal(e,t,r){return oe.insertAfterInternal(e,t,t.getLastCreatedAt(),r),t.length}static moveBeforeInternal(e,t,r,i){const s=e.issueTimeTicket(),o=t.getPrevCreatedAt(r);t.moveAfter(o,i,s),e.push(Fr.create(t.getCreatedAt(),o,i,s))}static moveAfterInternal(e,t,r,i){const s=e.issueTimeTicket();t.moveAfter(r,i,s),e.push(Fr.create(t.getCreatedAt(),r,i,s))}static moveFrontInternal(e,t,r){const i=e.issueTimeTicket(),s=t.getHead();t.moveAfter(s.getCreatedAt(),r,i),e.push(Fr.create(t.getCreatedAt(),s.getCreatedAt(),r,i))}static moveLastInternal(e,t,r){const i=e.issueTimeTicket(),s=t.getLastCreatedAt();t.moveAfter(s,r,i),e.push(Fr.create(t.getCreatedAt(),s,r,i))}static insertAfterInternal(e,t,r,i){const s=e.issueTimeTicket(),o=ml(e,i,s);return t.insertAfter(r,o),e.registerElement(o,t),e.push(No.create(t.getCreatedAt(),r,o.deepcopy(),s)),o}static insertBeforeInternal(e,t,r,i){return oe.insertAfterInternal(e,t,t.getPrevCreatedAt(r),i)}static deleteInternalByIndex(e,t,r){const i=e.issueTimeTicket(),s=t.deleteByIndex(r,i);if(s)return e.push(Qr.create(t.getCreatedAt(),s.getCreatedAt(),i)),e.registerRemovedElement(s),s}static deleteInternalByID(e,t,r){const i=e.issueTimeTicket(),s=t.delete(r,i);return e.push(Qr.create(t.getCreatedAt(),s.getCreatedAt(),i)),e.registerRemovedElement(s),s}static splice(e,t,r,i,...s){const o=t.length,a=r>=0?Math.min(r,o):Math.max(o+r,0),l=i===void 0?o:i<0?a:Math.min(a+i,o),c=[];for(let d=a;d<l;d++){const h=oe.deleteInternalByIndex(e,t,a);if(h){const p=h.deepcopy();p.setRemovedAt(),c.push(ai(e,p))}}if(s){let d=a===0?t.getHead().getID():t.get(a-1).getID();for(const h of s)d=oe.insertAfterInternal(e,t,d,h).getID()}return c}static includes(e,t,r,i){var a;const s=t.length,o=i===void 0?0:i<0?Math.max(i+s,0):i;if(o>=s)return!1;if(re.isSupport(r))return Array.from(t).map(c=>ai(e,c)).includes(r,o);for(let l=o;l<s;l++)if(((a=t.get(l))==null?void 0:a.getID())===r.getID())return!0;return!1}static indexOf(e,t,r,i){var a;const s=t.length,o=i===void 0?0:i<0?Math.max(i+s,0):i;if(o>=s)return-1;if(re.isSupport(r))return Array.from(t).map(c=>ai(e,c)).indexOf(r,o);for(let l=o;l<s;l++)if(((a=t.get(l))==null?void 0:a.getID())===r.getID())return l;return-1}static lastIndexOf(e,t,r,i){var a;const s=t.length,o=i===void 0||i>=s?s-1:i<0?i+s:i;if(o<0)return-1;if(re.isSupport(r))return Array.from(t).map(c=>ai(e,c)).lastIndexOf(r,o);for(let l=o;l>0;l--)if(((a=t.get(l))==null?void 0:a.getID())===r.getID())return l;return-1}static toTestString(e){return e.toTestString()}getHandlers(){return this.handlers}}class bl{constructor(e,t){u(this,"context");u(this,"text");this.context=e,this.text=t}initialize(e,t){this.context=e,this.text=t}getID(){return this.text.getID()}edit(e,t,r,i){if(!this.context||!this.text)throw new k(S.ErrNotInitialized,"Text is not initialized yet");if(e>t)throw new k(S.ErrInvalidArgument,"from should be less than or equal to to");const s=this.text.indexRangeToPosRange(e,t);J.isEnabled(Fe.Debug)&&J.debug(`EDIT: f:${e}->${s[0].toTestString()}, t:${t}->${s[1].toTestString()} c:${r}`);const o=i?cs(i):void 0,a=this.context.issueTimeTicket(),[l,,c,d]=this.text.edit(s,r,a,o);for(const h of c)this.context.registerGCPair(h);return this.context.push(new Po(this.text.getCreatedAt(),s[0],s[1],l,r,o?new Map(Object.entries(o)):new Map,a)),this.text.findIndexesFromRange(d)}delete(e,t){return this.edit(e,t,"")}empty(){return this.edit(0,this.length,"")}setStyle(e,t,r){if(!this.context||!this.text)throw new k(S.ErrNotInitialized,"Text is not initialized yet");if(e>t)throw new k(S.ErrInvalidArgument,"from should be less than or equal to to");const i=this.text.indexRangeToPosRange(e,t);J.isEnabled(Fe.Debug)&&J.debug(`STYL: f:${e}->${i[0].toTestString()}, t:${t}->${i[1].toTestString()} a:${JSON.stringify(r)}`);const s=cs(r),o=this.context.issueTimeTicket(),[a,l]=this.text.setStyle(i,s,o);for(const c of l)this.context.registerGCPair(c);return this.context.push(new Do(this.text.getCreatedAt(),i[0],i[1],a,new Map(Object.entries(s)),o)),!0}indexRangeToPosRange(e){if(!this.context||!this.text)throw new k(S.ErrNotInitialized,"Text is not initialized yet");const t=this.text.indexRangeToPosRange(e[0],e[1]);return[t[0].toStruct(),t[1].toStruct()]}posRangeToIndexRange(e){if(!this.context||!this.text)throw new k(S.ErrNotInitialized,"Text is not initialized yet");const t=this.text.findIndexesFromRange([bt.fromStruct(e[0]),bt.fromStruct(e[1])]);return[t[0],t[1]]}toTestString(){if(!this.context||!this.text)throw new k(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new k(S.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new k(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new k(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new k(S.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(e,t){if(!this.context||!this.text)throw new k(S.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(e,t)}}class Ml{constructor(e,t){u(this,"valueType");u(this,"value");u(this,"context");u(this,"counter");this.valueType=e,this.value=t}initialize(e,t){this.valueType=t.getValueType(),this.context=e,this.counter=t,this.value=t.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(e){if(!this.context||!this.counter)throw new k(S.ErrNotInitialized,"Counter is not initialized yet");const t=this.context.issueTimeTicket(),r=re.of(e,t);if(!r.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof r.getValue()}`);return this.counter.increase(r),this.context.push(gs.create(this.counter.getCreatedAt(),r,t)),this}toJSForTest(){if(!this.context||!this.counter)throw new k(S.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}}function rd(n,e,t){const{type:r}=n,i=t.issueTimeTicket();if(r===gr){xy(n);const{value:s}=n,o=Ze.create(Ee.of(i,0),r,s);e.append(o)}else{const{children:s=[]}=n,{attributes:o}=n;let a;if(typeof o=="object"&&!_p(o)){const c=cs(o);a=new kr;for(const[d,h]of Object.entries(c))a.set(d,h,i)}const l=Ze.create(Ee.of(i,0),r,void 0,a);e.append(l);for(const c of s)rd(c,l,t)}}function FS(n,e){const{type:t}=e,r=n.issueTimeTicket();let i;if(e.type===gr){const{value:s}=e;i=Ze.create(Ee.of(r,0),t,s)}else if(e){const{children:s=[]}=e,{attributes:o}=e;let a;if(typeof o=="object"&&!_p(o)){const l=cs(o);a=new kr;for(const[c,d]of Object.entries(l))a.set(c,d,r)}i=Ze.create(Ee.of(n.issueTimeTicket(),0),t,void 0,a);for(const l of s)rd(l,i,n)}return i}function xy(n){if(!n.value.length)throw new k(S.ErrInvalidArgument,"text node cannot have empty value");return!0}function Zh(n){if(!n.length)return!0;if(n[0].type===gr)for(const t of n){const{type:r}=t;if(r!==gr)throw new k(S.ErrInvalidArgument,"element node and text node cannot be passed together");xy(t)}else for(const t of n){const{type:r}=t;if(r===gr)throw new k(S.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Jl{constructor(e){u(this,"initialRoot");u(this,"context");u(this,"tree");this.initialRoot=e}initialize(e,t){this.context=e,this.tree=t}getID(){return this.tree.getID()}buildRoot(e){if(!this.initialRoot)return Ze.create(Ee.of(e.issueTimeTicket(),0),b1);const t=Ze.create(Ee.of(e.issueTimeTicket(),0),this.initialRoot.type);for(const r of this.initialRoot.children)rd(r,t,e);return t}getSize(){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}styleByPath(e,t){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");if(!e.length)throw new k(S.ErrInvalidArgument,"path should not be empty");const[r,i]=this.tree.pathToPosRange(e),s=this.context.issueTimeTicket(),o=t?cs(t):void 0,[a]=this.tree.style([r,i],o,s);this.context.push(mr.create(this.tree.getCreatedAt(),r,i,a,o?new Map(Object.entries(o)):new Map,s))}style(e,t,r){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");if(e>t)throw new k(S.ErrInvalidArgument,"from should be less than or equal to to");const i=this.tree.findPos(e),s=this.tree.findPos(t),o=this.context.issueTimeTicket(),a=r?cs(r):void 0,[l,c]=this.tree.style([i,s],a,o);for(const d of c)this.context.registerGCPair(d);this.context.push(mr.create(this.tree.getCreatedAt(),i,s,l,a?new Map(Object.entries(a)):new Map,o))}removeStyle(e,t,r){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");if(e>t)throw new k(S.ErrInvalidArgument,"from should be less than or equal to to");const i=this.tree.findPos(e),s=this.tree.findPos(t),o=this.context.issueTimeTicket(),[a,l]=this.tree.removeStyle([i,s],r,o);for(const c of l)this.context.registerGCPair(c);this.context.push(mr.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),i,s,a,r,o))}editInternal(e,t,r,i=0){var c;if(r.length!==0&&r[0]&&(Zh(r),r[0].type!==gr))for(const d of r){const{children:h=[]}=d;Zh(h)}const s=this.context.getLastTimeTicket();let o=new Array;if(((c=r[0])==null?void 0:c.type)===gr){let d="";for(const h of r){const{value:p}=h;d+=p}o.push(Ze.create(Ee.of(this.context.issueTimeTicket(),0),gr,d))}else o=r.map(d=>d&&FS(this.context,d)).filter(d=>d);const[,a,l]=this.tree.edit([e,t],o.length?o.map(d=>d==null?void 0:d.deepcopy()):void 0,i,s,()=>this.context.issueTimeTicket());for(const d of a)this.context.registerGCPair(d);return this.context.push(Oo.create(this.tree.getCreatedAt(),e,t,o.length?o:void 0,i,l,s)),!0}editByPath(e,t,r,i=0){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==t.length)throw new k(S.ErrInvalidArgument,"path length should be equal");if(!e.length||!t.length)throw new k(S.ErrInvalidArgument,"path should not be empty");const s=this.tree.pathToPos(e),o=this.tree.pathToPos(t);return this.editInternal(s,o,r?[r]:[],i)}editBulkByPath(e,t,r,i=0){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");if(e.length!==t.length)throw new k(S.ErrInvalidArgument,"path length should be equal");if(!e.length||!t.length)throw new k(S.ErrInvalidArgument,"path should not be empty");const s=this.tree.pathToPos(e),o=this.tree.pathToPos(t);return this.editInternal(s,o,r,i)}edit(e,t,r,i=0){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");if(e>t)throw new k(S.ErrInvalidArgument,"from should be less than or equal to to");const s=this.tree.findPos(e),o=this.tree.findPos(t);return this.editInternal(s,o,r?[r]:[],i)}editBulk(e,t,r,i=0){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");if(e>t)throw new k(S.ErrInvalidArgument,"from should be less than or equal to to");const s=this.tree.findPos(e),o=this.tree.findPos(t);return this.editInternal(s,o,r,i)}toXML(){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(e){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(e)}pathToIndex(e){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(e)}pathRangeToPosRange(e){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");const t=[this.tree.pathToIndex(e[0]),this.tree.pathToIndex(e[1])],r=this.tree.indexRangeToPosRange(t);return[r[0].toStruct(),r[1].toStruct()]}indexRangeToPosRange(e){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(e)}posRangeToIndexRange(e){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");const t=[Rt.fromStruct(e[0]),Rt.fromStruct(e[1])];return this.tree.posRangeToIndexRange(t)}posRangeToPathRange(e){if(!this.context||!this.tree)throw new k(S.ErrNotInitialized,"Tree is not initialized yet");const t=[Rt.fromStruct(e[0]),Rt.fromStruct(e[1])];return this.tree.posRangeToPathRange(t)}}function eg(n,e){return Ey(n,e)}function xr(n,e){if(e){if(e instanceof re)return e;if(e instanceof _e)return Ey(n,e);if(e instanceof nt)return RS(n,e);if(e instanceof It)return new bl(n,e);if(e instanceof rt){const t=new Ml(sn.IntegerCnt,0);return t.initialize(n,e),t}else if(e instanceof Et){const t=new Jl;return t.initialize(n,e),t}}else return;throw new TypeError(`Unsupported type of element: ${typeof e}`)}function ai(n,e){const t=xr(n,e);return t instanceof re?t.getValue():t}function ml(n,e,t){let r;if(re.isSupport(e))r=re.of(e,t);else if(Array.isArray(e))r=nt.create(t,oe.buildArrayElements(n,e));else if(typeof e=="object")e instanceof bl?(r=It.create(hs.create(),t),e.initialize(n,r)):e instanceof Ml?(r=rt.create(e.getValueType(),e.getValue(),t),e.initialize(n,r)):e instanceof Jl?(r=Et.create(e.buildRoot(n),t),e.initialize(n,r)):r=_e.create(t,ko.buildObjectMembers(n,e));else throw new TypeError(`Unsupported type of value: ${typeof e}`);return r}const tg=50;class bS{constructor(){u(this,"undoStack",[]);u(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(e){this.undoStack.length>=tg&&this.undoStack.shift(),this.undoStack.push(e)}popUndo(){return this.undoStack.pop()}pushRedo(e){this.redoStack.length>=tg&&this.redoStack.shift(),this.redoStack.push(e)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const MS="yorkie-devtools-panel",JS="yorkie-devtools-sdk";let Oi="disconnected";const ng=new Map,Sa=new Map;typeof window<"u"&&(window.transactionEventsByDocKey=Sa);function ta(n,e){(e!=null&&e.force||Oi!=="disconnected")&&window.postMessage({source:JS,...n},"*")}function $S(n){if(!n.isEnableDevtools()||typeof window>"u"||ng.has(n.getKey()))return;Sa.set(n.getKey(),[]);const e=n.subscribe("all",t=>{t.some(r=>r.type!==$e.StatusChanged&&r.type!==$e.Snapshot&&r.type!==$e.LocalChange&&r.type!==$e.RemoteChange&&r.type!==$e.Initialized&&r.type!==$e.Watched&&r.type!==$e.Unwatched&&r.type!==$e.PresenceChanged)||(Sa.get(n.getKey()).push(t),Oi==="synced"&&ta({msg:"doc::sync::partial",docKey:n.getKey(),event:t}))});ng.set(n.getKey(),[e]),ta({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",t=>{var i;if(((i=t.data)==null?void 0:i.source)!==MS)return;switch(t.data.msg){case"devtools::connect":if(Oi!=="disconnected")break;Oi="connected",ta({msg:"doc::available",docKey:n.getKey()}),J.info(`[YD] Devtools connected. Doc: ${n.getKey()}`);break;case"devtools::disconnect":Oi="disconnected",J.info(`[YD] Devtools disconnected. Doc: ${n.getKey()}`);break;case"devtools::subscribe":Oi="synced",ta({msg:"doc::sync::full",docKey:n.getKey(),events:Sa.get(n.getKey())}),J.info(`[YD] Devtools subscribed. Doc: ${n.getKey()}`);break}})}var Cr=(n=>(n.Detached="detached",n.Attached="attached",n.Removed="removed",n))(Cr||{}),$e=(n=>(n.StatusChanged="status-changed",n.ConnectionChanged="connection-changed",n.SyncStatusChanged="sync-status-changed",n.Snapshot="snapshot",n.LocalChange="local-change",n.RemoteChange="remote-change",n.Initialized="initialized",n.Watched="watched",n.Unwatched="unwatched",n.PresenceChanged="presence-changed",n.Broadcast="broadcast",n.LocalBroadcast="local-broadcast",n))($e||{}),Kc=(n=>(n.Connected="connected",n.Disconnected="disconnected",n))(Kc||{}),Wc=(n=>(n.Synced="synced",n.SyncFailed="sync-failed",n))(Wc||{});class Cy{constructor(e,t){u(this,"key");u(this,"status");u(this,"opts");u(this,"changeID");u(this,"checkpoint");u(this,"localChanges");u(this,"root");u(this,"clone");u(this,"eventStream");u(this,"eventStreamObserver");u(this,"onlineClients");u(this,"presences");u(this,"history");u(this,"internalHistory");u(this,"isUpdating");this.opts=t||{},this.key=e,this.status="detached",this.root=So.create(),this.changeID=V1,this.checkpoint=K1,this.localChanges=[],this.eventStream=OS(r=>{this.eventStreamObserver=r}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new bS,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},$S(this)}update(e,t){if(this.getStatus()==="removed")throw new k(S.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const r=this.changeID.getActorID(),i=Ki.create(this.changeID.next(),this.clone.root,this.clone.presences.get(r)||{},t);try{const s=eg(i,this.clone.root.getObject());this.presences.has(r)||this.clone.presences.set(r,{}),this.isUpdating=!0,e(s,new vu(i,this.clone.presences.get(r)))}catch(s){throw this.clone=void 0,s}finally{this.isUpdating=!1}if(i.hasChange()){J.isEnabled(Fe.Trivial)&&J.trivial(`trying to update a local change: ${this.toJSON()}`);const s=i.getChange(),{opInfos:o,reverseOps:a}=s.execute(this.root,this.presences,Y.Local),l=i.getReversePresence();l&&a.push({type:"presence",value:l}),this.localChanges.push(s),a.length>0&&this.internalHistory.pushUndo(a),o.length>0&&this.internalHistory.clearRedo(),this.changeID=s.getID();const c=[];o.length>0&&c.push({type:"local-change",source:Y.Local,value:{message:s.getMessage()||"",operations:o,actor:r,clientSeq:s.getID().getClientSeq(),serverSeq:s.getID().getServerSeq()},rawChange:this.isEnableDevtools()?s.toStruct():void 0}),s.hasPresenceChange()&&c.push({type:"presence-changed",source:Y.Local,value:{clientID:r,presence:this.getPresence(r)}}),this.publish(c),J.isEnabled(Fe.Trivial)&&J.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(e,t,r,i){if(typeof e=="string"){if(typeof t!="function")throw new k(S.ErrInvalidArgument,"Second argument must be a callback function");if(e==="presence"){const a=t;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="initialized"&&c.type!=="watched"&&c.type!=="unwatched"&&c.type!=="presence-changed"||a(c)},r,i)}if(e==="my-presence"){const a=t;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="initialized"&&c.type!=="presence-changed"||c.type==="presence-changed"&&c.value.clientID!==this.changeID.getActorID()||a(c)},r,i)}if(e==="others"){const a=t;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="watched"&&c.type!=="unwatched"&&c.type!=="presence-changed"||c.value.clientID!==this.changeID.getActorID()&&a(c)},r,i)}if(e==="connection"){const a=t;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="connection-changed"&&a(c)},r,i)}if(e==="status"){const a=t;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="status-changed"&&a(c)},r,i)}if(e==="sync"){const a=t;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="sync-status-changed"&&a(c)},r,i)}if(e==="local-broadcast"){const a=t;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="local-broadcast"&&a(c)},r)}if(e==="broadcast"){const a=t;return this.eventStream.subscribe(l=>{for(const c of l)c.type==="broadcast"&&a(c)},r)}if(e==="all"){const a=t;return this.eventStream.subscribe(a,r,i)}const s=e,o=t;return this.eventStream.subscribe(a=>{for(const l of a){if(l.type!=="local-change"&&l.type!=="remote-change")continue;const c=[];for(const d of l.value.operations)this.isSameElementOrChildOf(d.path,s)&&c.push(d);c.length&&o({...l,value:{...l.value,operations:c}})}},r,i)}if(typeof e=="function"){const s=e,o=t,a=r;return this.eventStream.subscribe(l=>{for(const c of l)c.type!=="snapshot"&&c.type!=="local-change"&&c.type!=="remote-change"||s(c)},o,a)}throw new k(S.ErrInvalidArgument,`"${e}" is not a valid`)}publish(e){this.eventStreamObserver&&this.eventStreamObserver.next(e)}isSameElementOrChildOf(e,t){if(t===e)return!0;const r=e.split(".");return t.split(".").every((s,o)=>s===r[o])}applyChangePack(e){for(e.hasSnapshot()?this.applySnapshot(e.getCheckpoint().getServerSeq(),e.getSnapshot()):e.hasChanges()&&this.applyChanges(e.getChanges(),Y.Remote);this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>e.getCheckpoint().getClientSeq());)this.localChanges.shift();e.hasSnapshot()&&this.applyChanges(this.localChanges,Y.Remote),this.checkpoint=this.checkpoint.forward(e.getCheckpoint()),this.garbageCollect(e.getMinSyncedTicket()),e.getIsRemoved()&&this.applyStatus("removed"),J.isEnabled(Fe.Trivial)&&J.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:Nt(this.presences)})}createChangePack(){const e=Array.from(this.localChanges),t=this.checkpoint.increaseClientSeq(e.length);return Fl.create(this.key,t,!1,e)}setActor(e){for(const t of this.localChanges)t.setActor(e);this.changeID=this.changeID.setActor(e)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const e=Ki.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return eg(e,this.clone.root.getObject())}garbageCollect(e){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(e),this.root.garbageCollect(e))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(e,t){const{root:r,presences:i}=ve.bytesToSnapshot(t);this.root=new So(r),this.presences=i,this.changeID=this.changeID.syncLamport(e),this.clone=void 0,this.publish([{type:"snapshot",source:Y.Remote,value:{snapshot:this.isEnableDevtools()?ve.bytesToHex(t):void 0,serverSeq:e.toString()}}])}applyChanges(e,t){J.isEnabled(Fe.Debug)&&J.debug(`trying to apply ${e.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),J.isEnabled(Fe.Trivial)&&J.trivial(e.map(r=>`${r.getID().toTestString()}	${r.toTestString()}`).join(`
`));for(const r of e)this.applyChange(r,t);J.isEnabled(Fe.Debug)&&J.debug(`after appling ${e.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(e,t){this.ensureClone(),e.execute(this.clone.root,this.clone.presences,t);const r=[],i=e.getID().getActorID();if(e.hasPresenceChange()&&this.onlineClients.has(i)){const o=e.getPresenceChange();switch(o.type){case Yr.Put:r.push(this.presences.has(i)?{type:"presence-changed",source:t,value:{clientID:i,presence:o.presence}}:{type:"watched",source:Y.Remote,value:{clientID:i,presence:o.presence}});break;case Yr.Clear:r.push({type:"unwatched",source:Y.Remote,value:{clientID:i,presence:this.getPresence(i)}}),this.removeOnlineClient(i);break}}const{opInfos:s}=e.execute(this.root,this.presences,t);if(this.changeID=this.changeID.syncLamport(e.getID().getLamport()),s.length>0){const o=this.isEnableDevtools()?e.toStruct():void 0;r.push(t===Y.Remote?{type:"remote-change",source:t,value:{actor:i,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:s},rawChange:o}:{type:"local-change",source:t,value:{actor:i,clientSeq:e.getID().getClientSeq(),serverSeq:e.getID().getServerSeq(),message:e.getMessage()||"",operations:s},rawChange:o})}r.length>0&&this.publish(r)}applyWatchStream(e){if(e.body.case==="initialization"){const t=e.body.value.clientIds,r=new Set;for(const i of t)i!==this.changeID.getActorID()&&r.add(i);this.setOnlineClients(r),this.publish([{type:"initialized",source:Y.Local,value:this.getPresences()}]);return}if(e.body.case==="event"){const{type:t,publisher:r}=e.body.value,i=[];if(t===pi.DOCUMENT_WATCHED)this.addOnlineClient(r),this.hasPresence(r)&&i.push({type:"watched",source:Y.Remote,value:{clientID:r,presence:this.getPresence(r)}});else if(t===pi.DOCUMENT_UNWATCHED){const s=this.getPresence(r);this.removeOnlineClient(r),s&&i.push({type:"unwatched",source:Y.Remote,value:{clientID:r,presence:s}})}else if(t===pi.DOCUMENT_BROADCAST&&e.body.value.body){const{topic:s,payload:o}=e.body.value.body,a=new TextDecoder;i.push({type:"broadcast",value:{clientID:r,topic:s,payload:JSON.parse(a.decode(o))}})}i.length>0&&this.publish(i)}}applyStatus(e){this.status=e,e==="detached"&&this.setActor(Wf),this.publish([{source:e==="removed"?Y.Remote:Y.Local,type:"status-changed",value:e==="attached"?{status:e,actorID:this.changeID.getActorID()}:{status:e}}])}applyDocEvent(e){if(e.type==="status-changed"){this.applyStatus(e.value.status),e.value.status==="attached"&&this.setActor(e.value.actorID);return}if(e.type==="snapshot"){const{snapshot:t,serverSeq:r}=e.value;if(!t)return;this.applySnapshot(BigInt(r),ve.hexToBytes(t));return}if(e.type==="local-change"||e.type==="remote-change"){if(!e.rawChange)return;const t=ds.fromStruct(e.rawChange);this.applyChange(t,e.source)}if(e.type==="initialized"){const t=new Set;for(const{clientID:r,presence:i}of e.value)t.add(r),this.presences.set(r,i);this.setOnlineClients(t);return}if(e.type==="watched"){const{clientID:t,presence:r}=e.value;this.addOnlineClient(t),this.presences.set(t,r);return}if(e.type==="unwatched"){const{clientID:t}=e.value;this.removeOnlineClient(t),this.presences.delete(t)}if(e.type==="presence-changed"){const{clientID:t,presence:r}=e.value;this.presences.set(t,r)}}applyTransactionEvent(e){for(const t of e)this.applyDocEvent(t)}getValueByPath(e){if(!e.startsWith("$"))throw new k(S.ErrInvalidArgument,'path must start with "$"');const t=e.split(".");t.shift();let r=this.getRoot();for(const i of t)if(r=r[i],r===void 0)return;return r}setOnlineClients(e){this.onlineClients=e}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(e){this.onlineClients.add(e)}removeOnlineClient(e){this.onlineClients.delete(e)}hasPresence(e){return this.presences.has(e)}getMyPresence(){if(this.status!=="attached")return{};const e=this.presences.get(this.changeID.getActorID());return e?Nt(e):{}}getPresence(e){if(e===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(e))return;const t=this.presences.get(e);return t?Nt(t):void 0}getPresenceForTest(e){const t=this.presences.get(e);return t?Nt(t):void 0}getPresences(){const e=[];e.push({clientID:this.changeID.getActorID(),presence:Nt(this.getMyPresence())});for(const t of this.onlineClients)this.presences.has(t)&&e.push({clientID:t,presence:Nt(this.presences.get(t))});return e}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const e=this.getChangeID().getActorID();return this.getPresences().filter(t=>t.clientID!==e).sort((t,r)=>t.clientID>r.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new k(S.ErrRefused,"Undo is not allowed during an update");const e=this.internalHistory.popUndo();if(e===void 0)throw new k(S.ErrRefused,"There is no operation to be undone");this.ensureClone();const t=Ki.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const c of e){if(!(c instanceof Jt)){new vu(t,Nt(this.clone.presences.get(this.changeID.getActorID()))).set(c.value,{addToHistory:!0});continue}const d=t.issueTimeTicket();c.setExecutedAt(d),t.push(c)}const r=t.getChange();r.execute(this.clone.root,this.clone.presences,Y.UndoRedo);const{opInfos:i,reverseOps:s}=r.execute(this.root,this.presences,Y.UndoRedo),o=t.getReversePresence();if(o&&s.push({type:"presence",value:o}),s.length>0&&this.internalHistory.pushRedo(s),!r.hasPresenceChange()&&i.length===0)return;this.localChanges.push(r),this.changeID=r.getID();const a=this.changeID.getActorID(),l=[];i.length>0&&l.push({type:"local-change",source:Y.UndoRedo,value:{message:r.getMessage()||"",operations:i,actor:a,clientSeq:r.getID().getClientSeq(),serverSeq:r.getID().getServerSeq()},rawChange:this.isEnableDevtools()?r.toStruct():void 0}),r.hasPresenceChange()&&l.push({type:"presence-changed",source:Y.UndoRedo,value:{clientID:a,presence:this.getPresence(a)}}),this.publish(l)}redo(){if(this.isUpdating)throw new k(S.ErrRefused,"Redo is not allowed during an update");const e=this.internalHistory.popRedo();if(e===void 0)throw new k(S.ErrRefused,"There is no operation to be redone");this.ensureClone();const t=Ki.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const c of e){if(!(c instanceof Jt)){new vu(t,Nt(this.clone.presences.get(this.changeID.getActorID()))).set(c.value,{addToHistory:!0});continue}const d=t.issueTimeTicket();c.setExecutedAt(d),t.push(c)}const r=t.getChange();r.execute(this.clone.root,this.clone.presences,Y.UndoRedo);const{opInfos:i,reverseOps:s}=r.execute(this.root,this.presences,Y.UndoRedo),o=t.getReversePresence();if(o&&s.push({type:"presence",value:o}),s.length>0&&this.internalHistory.pushUndo(s),!r.hasPresenceChange()&&i.length===0)return;this.localChanges.push(r),this.changeID=r.getID();const a=this.changeID.getActorID(),l=[];i.length>0&&l.push({type:"local-change",source:Y.UndoRedo,value:{message:r.getMessage()||"",operations:i,actor:a,clientSeq:r.getID().getClientSeq(),serverSeq:r.getID().getServerSeq()},rawChange:this.isEnableDevtools()?r.toStruct():void 0}),r.hasPresenceChange()&&l.push({type:"presence-changed",source:Y.UndoRedo,value:{clientID:a,presence:this.getPresence(a)}}),this.publish(l)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}broadcast(e,t,r){const i={type:"local-broadcast",value:{topic:e,payload:t},options:r};this.publish([i])}}function zS(n,e){return t=>async r=>(n&&r.header.set("x-api-key",n),e&&r.header.set("authorization",e),await t(r))}const US="yorkie-js-sdk",jS="0.5.1",qS="Yorkie JS SDK",VS="./src/yorkie.ts",KS={access:"public",main:"./dist/yorkie-js-sdk.js",typings:"./dist/yorkie-js-sdk.d.ts"},WS=["dist"],_S={build:"tsc && vite build","build:proto":"npx buf generate","build:docs":"typedoc","build:ghpages":"mkdir -p ghpages/examples && cp -r docs ghpages/api-reference && find ../../examples -name 'dist' -type d -exec sh -c 'cp -r {} ghpages/examples/$(basename $(dirname {}))' \\;",dev:"vite build -c vite.preview.ts && vite preview",test:"vitest run","test:watch":"vitest","test:bench":"vitest bench","test:ci":"vitest run --coverage","test:yorkie.dev":"TEST_RPC_ADDR=https://api.yorkie.dev vitest run --coverage",prepare:"pnpm build"},HS={node:">=18.0.0",npm:">=7.1.0"},GS={type:"git",url:"git+https://github.com/yorkie-team/yorkie-js-sdk.git"},YS={name:"hackerwins",email:"susukang98@gmail.com"},QS="Apache-2.0",XS={url:"https://github.com/yorkie-team/yorkie-js-sdk/issues"},ZS="https://github.com/yorkie-team/yorkie-js-sdk#readme",ek={"@buf/googleapis_googleapis.bufbuild_es":"^1.4.0-20240524201209-f0e53af8f2fc.3","@bufbuild/buf":"^1.28.1","@bufbuild/protoc-gen-es":"^1.6.0","@connectrpc/protoc-gen-connect-es":"^1.4.0","@types/google-protobuf":"^3.15.5","@types/long":"^4.0.1","@typescript-eslint/eslint-plugin":"^6.21.0","@typescript-eslint/parser":"^6.21.0","@vitest/coverage-istanbul":"^0.34.5","@vitest/coverage-v8":"^0.34.5","eslint-plugin-tsdoc":"^0.2.16",prettier:"^2.7.1","ts-node":"^10.9.1",typedoc:"^0.25.13",typescript:"^5.3.3","typescript-transform-paths":"^3.3.1",vite:"^5.0.12","vite-plugin-commonjs":"^0.10.1","vite-plugin-dts":"^3.9.1","vite-tsconfig-paths":"^4.2.1",vitest:"^0.34.5"},tk={"@bufbuild/protobuf":"^1.6.0","@connectrpc/connect":"^1.4.0","@connectrpc/connect-web":"^1.4.0",long:"^5.2.0"},rg={name:US,version:jS,description:qS,main:VS,publishConfig:KS,files:WS,scripts:_S,engines:HS,repository:GS,author:YS,license:QS,bugs:XS,homepage:ZS,devDependencies:ek,dependencies:tk};function nk(){return n=>async e=>(e.header.set("x-yorkie-user-agent",rg.name+"/"+rg.version),await n(e))}const rk=n=>{try{if(JSON.stringify(n)===void 0)return!1}catch{return!1}return!0};var ka=(n=>(n.Manual="manual",n.Realtime="realtime",n.RealtimePushOnly="realtime-pushonly",n.RealtimeSyncOff="realtime-syncoff",n))(ka||{});const na={syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3},Tu={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class Ny{constructor(e,t){u(this,"id");u(this,"key");u(this,"status");u(this,"attachmentMap");u(this,"apiKey");u(this,"conditions");u(this,"syncLoopDuration");u(this,"reconnectStreamDelay");u(this,"retrySyncLoopDelay");u(this,"rpcClient");u(this,"taskQueue");u(this,"processing",!1);t=t||na,this.key=t.key?t.key:Iy(),this.status="deactivated",this.attachmentMap=new Map,this.apiKey=t.apiKey||"",this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=t.syncLoopDuration||na.syncLoopDuration,this.reconnectStreamDelay=t.reconnectStreamDelay||na.reconnectStreamDelay,this.retrySyncLoopDelay=t.retrySyncLoopDelay||na.retrySyncLoopDelay,this.rpcClient=n1(E1,I1({baseUrl:e,interceptors:[zS(t.apiKey,t.token),nk()]})),this.taskQueue=[]}activate(){return this.isActive()?Promise.resolve():this.enqueueTask(async()=>this.rpcClient.activateClient({clientKey:this.key},{headers:{"x-shard-key":this.apiKey}}).then(e=>{this.id=e.clientId,this.status="activated",this.runSyncLoop(),J.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`)}).catch(e=>{throw J.error(`[AC] c:"${this.getKey()}" err :`,e),this.handleConnectError(e),e}))}deactivate(){return this.status==="deactivated"?Promise.resolve():this.enqueueTask(async()=>this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":this.apiKey}}).then(()=>{this.deactivateInternal(),J.info(`[DC] c"${this.getKey()}" deactivated`)}).catch(e=>{throw J.error(`[DC] c:"${this.getKey()}" err :`,e),this.handleConnectError(e),e}))}attach(e,t={}){if(!this.isActive())throw new k(S.ErrClientNotActivated,`${this.key} is not active`);if(e.getStatus()!==Cr.Detached)throw new k(S.ErrDocumentNotDetached,`${e.getKey()} is not detached`);e.setActor(this.id),e.update((s,o)=>o.set(t.initialPresence||{}));const r=e.subscribe("local-broadcast",async s=>{var d;const{topic:o,payload:a}=s.value,l=(d=s.options)==null?void 0:d.error,c=s.options;try{await this.broadcast(e.getKey(),o,a,c)}catch(h){h instanceof Error&&(l==null||l(h))}}),i=t.syncMode??"realtime";return this.enqueueTask(async()=>this.rpcClient.attachDocument({clientId:this.id,changePack:ve.toChangePack(e.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}).then(async s=>{const o=ve.fromChangePack(s.changePack);return e.applyChangePack(o),e.getStatus()===Cr.Removed||(e.applyStatus(Cr.Attached),this.attachmentMap.set(e.getKey(),new PS(this.reconnectStreamDelay,e,s.documentId,i,r)),i!=="manual"&&await this.runWatchLoop(e.getKey()),J.info(`[AD] c:"${this.getKey()}" attaches d:"${e.getKey()}"`)),e}).catch(s=>{throw J.error(`[AD] c:"${this.getKey()}" err :`,s),this.handleConnectError(s),s}))}detach(e,t={}){if(!this.isActive())throw new k(S.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(e.getKey());if(!r)throw new k(S.ErrDocumentNotAttached,`${e.getKey()} is not attached`);return e.update((i,s)=>s.clear()),this.enqueueTask(async()=>this.rpcClient.detachDocument({clientId:this.id,documentId:r.docID,changePack:ve.toChangePack(e.createChangePack()),removeIfNotAttached:t.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}).then(i=>{const s=ve.fromChangePack(i.changePack);return e.applyChangePack(s),e.getStatus()!==Cr.Removed&&e.applyStatus(Cr.Detached),this.detachInternal(e.getKey()),J.info(`[DD] c:"${this.getKey()}" detaches d:"${e.getKey()}"`),e}).catch(i=>{throw J.error(`[DD] c:"${this.getKey()}" err :`,i),this.handleConnectError(i),i}))}async changeSyncMode(e,t){if(!this.isActive())throw new k(S.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(e.getKey());if(!r)throw new k(S.ErrDocumentNotAttached,`${e.getKey()} is not attached`);const i=r.syncMode;return i===t?e:(r.changeSyncMode(t),t==="manual"?(r.cancelWatchStream(),e):(t==="realtime"&&(r.remoteChangeEventReceived=!0),i==="manual"&&await this.runWatchLoop(e.getKey()),e))}sync(e){if(!this.isActive())throw new k(S.ErrClientNotActivated,`${this.key} is not active`);if(e){const t=this.attachmentMap.get(e.getKey());if(!t)throw new k(S.ErrDocumentNotAttached,`${e.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(t,"realtime").catch(r=>{throw J.error(`[SY] c:"${this.getKey()}" err :`,r),this.handleConnectError(r),r}))}return this.enqueueTask(async()=>{const t=[];for(const[,r]of this.attachmentMap)t.push(this.syncInternal(r,r.syncMode));return Promise.all(t).catch(r=>{throw J.error(`[SY] c:"${this.getKey()}" err :`,r),this.handleConnectError(r),r})})}remove(e){if(!this.isActive())throw new k(S.ErrClientNotActivated,`${this.key} is not active`);const t=this.attachmentMap.get(e.getKey());if(!t)throw new k(S.ErrDocumentNotAttached,`${e.getKey()} is not attached`);e.setActor(this.id);const r=ve.toChangePack(e.createChangePack());return r.isRemoved=!0,this.enqueueTask(async()=>this.rpcClient.removeDocument({clientId:this.id,documentId:t.docID,changePack:r},{headers:{"x-shard-key":`${this.apiKey}/${e.getKey()}`}}).then(i=>{const s=ve.fromChangePack(i.changePack);e.applyChangePack(s),this.detachInternal(e.getKey()),J.info(`[RD] c:"${this.getKey()}" removes d:"${e.getKey()}"`)}).catch(i=>{throw J.error(`[RD] c:"${this.getKey()}" err :`,i),this.handleConnectError(i),i}))}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(e){return this.conditions[e]}broadcast(e,t,r,i){if(!this.isActive())throw new k(S.ErrClientNotActivated,`${this.key} is not active`);const s=this.attachmentMap.get(e);if(!s)throw new k(S.ErrDocumentNotAttached,`${e} is not attached`);if(!rk(r))throw new k(S.ErrInvalidArgument,"payload is not serializable");const o=(i==null?void 0:i.maxRetries)??Tu.maxRetries,a=Tu.maxBackoff;let l=0;const c=h=>Math.min(Tu.initialRetryInterval*2**h,a),d=async()=>this.enqueueTask(async()=>this.rpcClient.broadcast({clientId:this.id,documentId:s.docID,topic:t,payload:new TextEncoder().encode(JSON.stringify(r))},{headers:{"x-shard-key":`${this.apiKey}/${e}`}}).then(()=>{J.info(`[BC] c:"${this.getKey()}" broadcasts d:"${e}" t:"${t}"`)}).catch(h=>{if(J.error(`[BC] c:"${this.getKey()}" err:`,h),this.handleConnectError(h))if(l<o)l++,setTimeout(()=>d(),c(l-1)),J.info(`[BC] c:"${this.getKey()}" retry attempt ${l}/${o}`);else throw J.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),h;else throw h}));return d()}runSyncLoop(){const e=()=>{if(!this.isActive()){J.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}const t=[];for(const[,r]of this.attachmentMap)r.needRealtimeSync()&&(r.remoteChangeEventReceived=!1,t.push(this.syncInternal(r,r.syncMode)));Promise.all(t).then(()=>setTimeout(e,this.syncLoopDuration)).catch(r=>{J.error(`[SL] c:"${this.getKey()}" sync failed:`,r),this.handleConnectError(r)?setTimeout(e,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1})};J.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,e()}async runWatchLoop(e){const t=this.attachmentMap.get(e);if(!t)throw new k(S.ErrDocumentNotAttached,`${e} is not attached`);return this.conditions.WatchLoop=!0,t.runWatchLoop(r=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new k(S.ErrClientNotActivated,`${this.key} is not active`));const i=new AbortController,s=this.rpcClient.watchDocument({clientId:this.id,documentId:t.docID},{headers:{"x-shard-key":`${this.apiKey}/${e}`},signal:i.signal});return t.doc.publish([{type:$e.ConnectionChanged,value:Kc.Connected}]),J.info(`[WD] c:"${this.getKey()}" watches d:"${e}"`),new Promise((o,a)=>{(async()=>{try{for await(const c of s)this.handleWatchDocumentsResponse(t,c),c.body.case==="initialization"&&o([s,i])}catch(c){t.doc.resetOnlineClients(),t.doc.publish([{type:$e.Initialized,source:Y.Local,value:t.doc.getPresences()}]),t.doc.publish([{type:$e.ConnectionChanged,value:Kc.Disconnected}]),J.debug(`[WD] c:"${this.getKey()}" unwatches`),this.handleConnectError(c)?r():this.conditions.WatchLoop=!1,a(c)}})()})})}handleWatchDocumentsResponse(e,t){if(t.body.case==="event"&&t.body.value.type===pi.DOCUMENT_CHANGED){e.remoteChangeEventReceived=!0;return}e.doc.applyWatchStream(t)}deactivateInternal(){this.status="deactivated";for(const[e,t]of this.attachmentMap)this.detachInternal(e),t.doc.applyStatus(Cr.Detached)}detachInternal(e){const t=this.attachmentMap.get(e);t&&(t.cancelWatchStream(),t.unsubscribeBroadcastEvent(),this.attachmentMap.delete(e))}syncInternal(e,t){const{doc:r,docID:i}=e,s=r.createChangePack();return this.rpcClient.pushPullChanges({clientId:this.id,documentId:i,changePack:ve.toChangePack(s),pushOnly:t==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${r.getKey()}`}}).then(o=>{const a=ve.fromChangePack(o.changePack);if(a.hasChanges()&&(e.syncMode==="realtime-pushonly"||e.syncMode==="realtime-syncoff"))return r;r.applyChangePack(a),e.doc.publish([{type:$e.SyncStatusChanged,value:Wc.Synced}]),r.getStatus()===Cr.Removed&&this.detachInternal(r.getKey());const l=r.getKey(),c=a.getChangeSize();return J.info(`[PP] c:"${this.getKey()}" sync d:"${l}", push:${s.getChangeSize()} pull:${c} cp:${a.getCheckpoint().toTestString()}`),r}).catch(o=>{throw r.publish([{type:$e.SyncStatusChanged,value:Wc.SyncFailed}]),J.error(`[PP] c:"${this.getKey()}" err :`,o),o})}handleConnectError(e){return e instanceof me?e.code===H.Canceled||e.code===H.Unknown||e.code===H.ResourceExhausted||e.code===H.Unavailable?!0:((Xh(e)===S.ErrClientNotActivated||Xh(e)===S.ErrClientNotFound)&&this.deactivateInternal(),!1):!1}enqueueTask(e){return new Promise((t,r)=>{this.taskQueue.push(()=>e().then(t).catch(r)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{J.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}const Py={Client:Ny,Document:Cy,Primitive:re,Text:bl,Counter:Ml,Tree:Jl,LogLevel:Fe,setLogLevel:Ay,IntType:sn.IntegerCnt,LongType:sn.LongCnt};typeof globalThis<"u"&&(globalThis.yorkie={Client:Ny,Document:Cy,Primitive:re,Text:bl,Counter:Ml,Tree:Jl,LogLevel:Fe,setLogLevel:Ay,IntType:sn.IntegerCnt,LongType:sn.LongCnt});class ik{constructor(e,t){this.x=e,this.y=t,this.lifetime=0}}const sk=({xPos:n,yPos:e})=>{const[t,r]=Ue.useState([]),i=Ue.useRef(null),[s,o]=Ue.useState([]),a=(l,c)=>{const d=new ik(l,c);s.push(d),o(s),t.push(d),r(t)};return Ue.useEffect(()=>{const c=i.current.getContext("2d"),d=()=>{c.clearRect(0,0,c.canvas.width,c.canvas.height);const h=.7*(1*4e3)/60;for(let p=0;p<s.length;++p){const m=s[p];let w;if(s[p-1]!==void 0?w=s[p-1]:w=m,m.lifetime+=1,m.lifetime>h)s.shift();else{c.lineWidth=5,c.lineJoin="round";const I=0,D=0,y=0;c.strokeStyle=`rgb(${I},${D},${y})`,c.beginPath(),c.moveTo(w.x,w.y),c.lineTo(m.x,m.y),c.stroke(),c.closePath()}}requestAnimationFrame(d)};d()},[s]),Ue.useEffect(()=>{a(n,e)},[n,e]),ue.jsx("canvas",{className:"pen-cursor-canvas",ref:i,width:document.body.clientWidth,height:document.body.clientHeight})},ok="_goUp0_1lnal_1",ak="_goUpAnimation0_1lnal_1",lk="_fadeOut_1lnal_1",uk="_goUp1_1lnal_16",ck="_goUpAnimation1_1lnal_1",fk="_goUp2_1lnal_31",dk="_goUpAnimation2_1lnal_1",hk="_leftRight0_1lnal_46",gk="_leftRightAnimation0_1lnal_1",mk="_leftRight1_1lnal_60",pk="_leftRightAnimation1_1lnal_1",yk="_leftRight2_1lnal_74",vk="_leftRightAnimation2_1lnal_1",Au={goUp0:ok,goUpAnimation0:ak,fadeOut:lk,goUp1:uk,goUpAnimation1:ck,goUp2:fk,goUpAnimation2:dk,leftRight0:hk,leftRightAnimation0:gk,leftRight1:mk,leftRightAnimation1:pk,leftRight2:yk,leftRightAnimation2:vk};function wk({x:n,y:e,timestamp:t,selectedCursorShape:r}){return ue.jsx("div",{className:"single-animation-container",children:ue.jsx("div",{className:`absolute select-none pointer-events-none ${Au.disappear} text-${t%5+2}xl ${Au["goUp"+t%3]}`,style:{left:n,top:e},children:ue.jsx("div",{className:Au["leftRight"+t%3],children:ue.jsx("div",{className:"transform -translate-x-1/2 -translate-y-1/2",children:ue.jsx("img",{src:`./icons/icon_${r}.svg`})})})})})}function ig(n,e){const t=Ue.useRef(n);Ue.useEffect(()=>{t.current=n},[n]),Ue.useEffect(()=>{function r(){t.current()}if(e!==null){let i=setInterval(r,e);return()=>clearInterval(i)}},[e])}const Sk=({pointerDown:n,xPos:e,yPos:t,selectedCursorShape:r})=>{const[i,s]=Ue.useState([]),o=100;return ig(()=>{s(a=>a.filter(l=>l.timestamp>Date.now()-4e3))},1e3),ig(()=>{n&&s(a=>a.concat([{point:{x:e,y:t},timestamp:Date.now()}]))},o),ue.jsx("div",{style:{transform:`translateX(${e}px) translateY(${t}px)`},children:i.map(a=>ue.jsx(wk,{x:a.point.x,y:a.point.y,timestamp:a.timestamp,selectedCursorShape:r},a.timestamp.toString()))})},kk=({selectedCursorShape:n,x:e,y:t,pointerDown:r})=>ue.jsxs(ue.Fragment,{children:[ue.jsx("img",{src:`./icons/icon_${n}.svg`,className:`${n}-cursor`,style:{transform:`translate3d(${e}px, ${t}px, 0)`}}),(n==="heart"||n==="thumbs")&&ue.jsx(Sk,{pointerDown:r,xPos:e,yPos:t,selectedCursorShape:n}),n==="pen"&&r&&ue.jsx(sk,{xPos:e,yPos:t})]}),Tk=({handleCursorShapeSelect:n,clientsLength:e})=>{const[t,r]=Ue.useState("cursor"),i=["heart","thumbs","pen","cursor"];return ue.jsxs("div",{className:"cursor-selector-container",children:[ue.jsx("div",{className:"cursor-selections-container",children:i.map(s=>ue.jsx("img",{onClick:()=>{n(s),r(s)},className:`${t===s?"cursor-shape-selected":"cursor-shape-not-selected"}`,src:`./icons/icon_${s}.svg`},s))}),ue.jsx("div",{className:"num-users-container",children:ue.jsx("p",{children:e!==1?`${e} users are here`:"1 user here"})})]})},Iu=new Py.Client("https://api.yorkie.dev",{apiKey:"cedaovjuioqlk4pjqn6g"}),ri=new Py.Document("simultaneous-cursors",{enableDevtools:!0}),Ak=()=>{const[n,e]=Ue.useState([]),t=r=>{ri.update((i,s)=>{s.set({cursorShape:r})})};return Ue.useEffect(()=>{(async()=>{await Iu.activate(),ri.subscribe("presence",a=>{e(ri.getPresences())}),await Iu.attach(ri,{initialPresence:{cursorShape:"cursor",cursor:{xPos:0,yPos:0},pointerDown:!1}}),window.addEventListener("beforeunload",()=>{Iu.deactivate()})})();const i=()=>{ri.update((a,l)=>{l.set({pointerDown:!1})})},s=()=>{ri.update((a,l)=>{l.set({pointerDown:!0})})},o=a=>{ri.update((l,c)=>{c.set({cursor:{xPos:a.clientX,yPos:a.clientY}})})};return window.addEventListener("mousedown",s),window.addEventListener("mouseup",i),window.addEventListener("mousemove",o),()=>{window.removeEventListener("mousedown",s),window.removeEventListener("mouseup",i),window.removeEventListener("mousemove",o)}},[]),ue.jsxs("div",{className:"general-container",children:[n.map(({clientID:r,presence:{cursorShape:i,cursor:s,pointerDown:o}})=>s?ue.jsx(kk,{selectedCursorShape:i,x:s.xPos,y:s.yPos,pointerDown:o},r):null),ue.jsx(Tk,{handleCursorShapeSelect:t,clientsLength:n.length})]})};Eu.createRoot(document.getElementById("root")).render(ue.jsx(Ak,{}));
