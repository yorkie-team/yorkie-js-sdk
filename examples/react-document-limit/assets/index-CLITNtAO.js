var sw=Object.defineProperty;var ow=(s,n,t)=>n in s?sw(s,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[n]=t;var h=(s,n,t)=>ow(s,typeof n!="symbol"?n+"":n,t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=t(l);fetch(l.href,c)}})();function lw(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var nd={exports:{}},il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function uw(){if(vv)return il;vv=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(i,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:i,key:d,ref:l!==void 0?l:null,props:c}}return il.Fragment=n,il.jsx=t,il.jsxs=t,il}var Sv;function cw(){return Sv||(Sv=1,nd.exports=uw()),nd.exports}var kt=cw(),rd={exports:{}},ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function fw(){if(bv)return ht;bv=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.iterator;function O(w){return w===null||typeof w!="object"?null:(w=E&&w[E]||w["@@iterator"],typeof w=="function"?w:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,V={};function j(w,P,X){this.props=w,this.context=P,this.refs=V,this.updater=X||k}j.prototype.isReactComponent={},j.prototype.setState=function(w,P){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,P,"setState")},j.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function W(){}W.prototype=j.prototype;function lt(w,P,X){this.props=w,this.context=P,this.refs=V,this.updater=X||k}var ct=lt.prototype=new W;ct.constructor=lt,U(ct,j.prototype),ct.isPureReactComponent=!0;var mt=Array.isArray,et={H:null,A:null,T:null,S:null,V:null},nt=Object.prototype.hasOwnProperty;function yt(w,P,X,Y,rt,Nt){return X=Nt.ref,{$$typeof:s,type:w,key:P,ref:X!==void 0?X:null,props:Nt}}function At(w,P){return yt(w.type,P,void 0,void 0,void 0,w.props)}function Et(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function ae(w){var P={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(X){return P[X]})}var Oe=/\/+/g;function Qt(w,P){return typeof w=="object"&&w!==null&&w.key!=null?ae(""+w.key):P.toString(36)}function _e(){}function xa(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(_e,_e):(w.status="pending",w.then(function(P){w.status==="pending"&&(w.status="fulfilled",w.value=P)},function(P){w.status==="pending"&&(w.status="rejected",w.reason=P)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function be(w,P,X,Y,rt){var Nt=typeof w;(Nt==="undefined"||Nt==="boolean")&&(w=null);var ut=!1;if(w===null)ut=!0;else switch(Nt){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(w.$$typeof){case s:case n:ut=!0;break;case b:return ut=w._init,be(ut(w._payload),P,X,Y,rt)}}if(ut)return rt=rt(w),ut=Y===""?"."+Qt(w,0):Y,mt(rt)?(X="",ut!=null&&(X=ut.replace(Oe,"$&/")+"/"),be(rt,P,X,"",function(Ki){return Ki})):rt!=null&&(Et(rt)&&(rt=At(rt,X+(rt.key==null||w&&w.key===rt.key?"":(""+rt.key).replace(Oe,"$&/")+"/")+ut)),P.push(rt)),1;ut=0;var Je=Y===""?".":Y+":";if(mt(w))for(var Ht=0;Ht<w.length;Ht++)Y=w[Ht],Nt=Je+Qt(Y,Ht),ut+=be(Y,P,X,Nt,rt);else if(Ht=O(w),typeof Ht=="function")for(w=Ht.call(w),Ht=0;!(Y=w.next()).done;)Y=Y.value,Nt=Je+Qt(Y,Ht++),ut+=be(Y,P,X,Nt,rt);else if(Nt==="object"){if(typeof w.then=="function")return be(xa(w),P,X,Y,rt);throw P=String(w),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ut}function L(w,P,X){if(w==null)return w;var Y=[],rt=0;return be(w,Y,"","",function(Nt){return P.call(X,Nt,rt++)}),Y}function $(w){if(w._status===-1){var P=w._result;P=P(),P.then(function(X){(w._status===0||w._status===-1)&&(w._status=1,w._result=X)},function(X){(w._status===0||w._status===-1)&&(w._status=2,w._result=X)}),w._status===-1&&(w._status=0,w._result=P)}if(w._status===1)return w._result.default;throw w._result}var st=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Lt(){}return ht.Children={map:L,forEach:function(w,P,X){L(w,function(){P.apply(this,arguments)},X)},count:function(w){var P=0;return L(w,function(){P++}),P},toArray:function(w){return L(w,function(P){return P})||[]},only:function(w){if(!Et(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},ht.Component=j,ht.Fragment=t,ht.Profiler=l,ht.PureComponent=lt,ht.StrictMode=i,ht.Suspense=y,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et,ht.__COMPILER_RUNTIME={__proto__:null,c:function(w){return et.H.useMemoCache(w)}},ht.cache=function(w){return function(){return w.apply(null,arguments)}},ht.cloneElement=function(w,P,X){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var Y=U({},w.props),rt=w.key,Nt=void 0;if(P!=null)for(ut in P.ref!==void 0&&(Nt=void 0),P.key!==void 0&&(rt=""+P.key),P)!nt.call(P,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&P.ref===void 0||(Y[ut]=P[ut]);var ut=arguments.length-2;if(ut===1)Y.children=X;else if(1<ut){for(var Je=Array(ut),Ht=0;Ht<ut;Ht++)Je[Ht]=arguments[Ht+2];Y.children=Je}return yt(w.type,rt,void 0,void 0,Nt,Y)},ht.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},ht.createElement=function(w,P,X){var Y,rt={},Nt=null;if(P!=null)for(Y in P.key!==void 0&&(Nt=""+P.key),P)nt.call(P,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(rt[Y]=P[Y]);var ut=arguments.length-2;if(ut===1)rt.children=X;else if(1<ut){for(var Je=Array(ut),Ht=0;Ht<ut;Ht++)Je[Ht]=arguments[Ht+2];rt.children=Je}if(w&&w.defaultProps)for(Y in ut=w.defaultProps,ut)rt[Y]===void 0&&(rt[Y]=ut[Y]);return yt(w,Nt,void 0,void 0,null,rt)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(w){return{$$typeof:g,render:w}},ht.isValidElement=Et,ht.lazy=function(w){return{$$typeof:b,_payload:{_status:-1,_result:w},_init:$}},ht.memo=function(w,P){return{$$typeof:v,type:w,compare:P===void 0?null:P}},ht.startTransition=function(w){var P=et.T,X={};et.T=X;try{var Y=w(),rt=et.S;rt!==null&&rt(X,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Lt,st)}catch(Nt){st(Nt)}finally{et.T=P}},ht.unstable_useCacheRefresh=function(){return et.H.useCacheRefresh()},ht.use=function(w){return et.H.use(w)},ht.useActionState=function(w,P,X){return et.H.useActionState(w,P,X)},ht.useCallback=function(w,P){return et.H.useCallback(w,P)},ht.useContext=function(w){return et.H.useContext(w)},ht.useDebugValue=function(){},ht.useDeferredValue=function(w,P){return et.H.useDeferredValue(w,P)},ht.useEffect=function(w,P,X){var Y=et.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(w,P)},ht.useId=function(){return et.H.useId()},ht.useImperativeHandle=function(w,P,X){return et.H.useImperativeHandle(w,P,X)},ht.useInsertionEffect=function(w,P){return et.H.useInsertionEffect(w,P)},ht.useLayoutEffect=function(w,P){return et.H.useLayoutEffect(w,P)},ht.useMemo=function(w,P){return et.H.useMemo(w,P)},ht.useOptimistic=function(w,P){return et.H.useOptimistic(w,P)},ht.useReducer=function(w,P,X){return et.H.useReducer(w,P,X)},ht.useRef=function(w){return et.H.useRef(w)},ht.useState=function(w){return et.H.useState(w)},ht.useSyncExternalStore=function(w,P,X){return et.H.useSyncExternalStore(w,P,X)},ht.useTransition=function(){return et.H.useTransition()},ht.version="19.1.0",ht}var Tv;function ng(){return Tv||(Tv=1,rd.exports=fw()),rd.exports}var Vt=ng();const hw=lw(Vt);var id={exports:{}},al={},ad={exports:{}},sd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function dw(){return wv||(wv=1,function(s){function n(L,$){var st=L.length;L.push($);t:for(;0<st;){var Lt=st-1>>>1,w=L[Lt];if(0<l(w,$))L[Lt]=$,L[st]=w,st=Lt;else break t}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var $=L[0],st=L.pop();if(st!==$){L[0]=st;t:for(var Lt=0,w=L.length,P=w>>>1;Lt<P;){var X=2*(Lt+1)-1,Y=L[X],rt=X+1,Nt=L[rt];if(0>l(Y,st))rt<w&&0>l(Nt,Y)?(L[Lt]=Nt,L[rt]=st,Lt=rt):(L[Lt]=Y,L[X]=st,Lt=X);else if(rt<w&&0>l(Nt,st))L[Lt]=Nt,L[rt]=st,Lt=rt;else break t}}return $}function l(L,$){var st=L.sortIndex-$.sortIndex;return st!==0?st:L.id-$.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],v=[],b=1,E=null,O=3,k=!1,U=!1,V=!1,j=!1,W=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function mt(L){for(var $=t(v);$!==null;){if($.callback===null)i(v);else if($.startTime<=L)i(v),$.sortIndex=$.expirationTime,n(y,$);else break;$=t(v)}}function et(L){if(V=!1,mt(L),!U)if(t(y)!==null)U=!0,nt||(nt=!0,Qt());else{var $=t(v);$!==null&&be(et,$.startTime-L)}}var nt=!1,yt=-1,At=5,Et=-1;function ae(){return j?!0:!(s.unstable_now()-Et<At)}function Oe(){if(j=!1,nt){var L=s.unstable_now();Et=L;var $=!0;try{t:{U=!1,V&&(V=!1,lt(yt),yt=-1),k=!0;var st=O;try{e:{for(mt(L),E=t(y);E!==null&&!(E.expirationTime>L&&ae());){var Lt=E.callback;if(typeof Lt=="function"){E.callback=null,O=E.priorityLevel;var w=Lt(E.expirationTime<=L);if(L=s.unstable_now(),typeof w=="function"){E.callback=w,mt(L),$=!0;break e}E===t(y)&&i(y),mt(L)}else i(y);E=t(y)}if(E!==null)$=!0;else{var P=t(v);P!==null&&be(et,P.startTime-L),$=!1}}break t}finally{E=null,O=st,k=!1}$=void 0}}finally{$?Qt():nt=!1}}}var Qt;if(typeof ct=="function")Qt=function(){ct(Oe)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,xa=_e.port2;_e.port1.onmessage=Oe,Qt=function(){xa.postMessage(null)}}else Qt=function(){W(Oe,0)};function be(L,$){yt=W(function(){L(s.unstable_now())},$)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(L){L.callback=null},s.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):At=0<L?Math.floor(1e3/L):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(L){switch(O){case 1:case 2:case 3:var $=3;break;default:$=O}var st=O;O=$;try{return L()}finally{O=st}},s.unstable_requestPaint=function(){j=!0},s.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var st=O;O=L;try{return $()}finally{O=st}},s.unstable_scheduleCallback=function(L,$,st){var Lt=s.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?Lt+st:Lt):st=Lt,L){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=st+w,L={id:b++,callback:$,priorityLevel:L,startTime:st,expirationTime:w,sortIndex:-1},st>Lt?(L.sortIndex=st,n(v,L),t(y)===null&&L===t(v)&&(V?(lt(yt),yt=-1):V=!0,be(et,st-Lt))):(L.sortIndex=w,n(y,L),U||k||(U=!0,nt||(nt=!0,Qt()))),L},s.unstable_shouldYield=ae,s.unstable_wrapCallback=function(L){var $=O;return function(){var st=O;O=$;try{return L.apply(this,arguments)}finally{O=st}}}}(sd)),sd}var Av;function gw(){return Av||(Av=1,ad.exports=dw()),ad.exports}var od={exports:{}},Ae={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function mw(){if(Ev)return Ae;Ev=1;var s=ng();function n(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(n(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,v,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:y,containerInfo:v,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ae.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ae.createPortal=function(y,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return c(y,v,null,b)},Ae.flushSync=function(y){var v=d.T,b=i.p;try{if(d.T=null,i.p=2,y)return y()}finally{d.T=v,i.p=b,i.d.f()}},Ae.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,i.d.C(y,v))},Ae.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},Ae.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var b=v.as,E=g(b,v.crossOrigin),O=typeof v.integrity=="string"?v.integrity:void 0,k=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?i.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:E,integrity:O,fetchPriority:k}):b==="script"&&i.d.X(y,{crossOrigin:E,integrity:O,fetchPriority:k,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ae.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=g(v.as,v.crossOrigin);i.d.M(y,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&i.d.M(y)},Ae.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,E=g(b,v.crossOrigin);i.d.L(y,b,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ae.preloadModule=function(y,v){if(typeof y=="string")if(v){var b=g(v.as,v.crossOrigin);i.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else i.d.m(y)},Ae.requestFormReset=function(y){i.d.r(y)},Ae.unstable_batchedUpdates=function(y,v){return y(v)},Ae.useFormState=function(y,v,b){return d.H.useFormState(y,v,b)},Ae.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ae.version="19.1.0",Ae}var xv;function yw(){if(xv)return od.exports;xv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),od.exports=mw(),od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function pw(){if(Nv)return al;Nv=1;var s=gw(),n=ng(),t=yw();function i(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function d(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(i(188))}function y(e){var r=e.alternate;if(!r){if(r=c(e),r===null)throw Error(i(188));return r!==e?null:e}for(var a=e,o=r;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){a=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return g(u),e;if(f===o)return g(u),r;f=f.sibling}throw Error(i(188))}if(a.return!==o.return)a=u,o=f;else{for(var m=!1,S=u.child;S;){if(S===a){m=!0,a=u,o=f;break}if(S===o){m=!0,o=u,a=f;break}S=S.sibling}if(!m){for(S=f.child;S;){if(S===a){m=!0,a=f,o=u;break}if(S===o){m=!0,o=f,a=u;break}S=S.sibling}if(!m)throw Error(i(189))}}if(a.alternate!==o)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:r}function v(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=v(e),r!==null)return r;e=e.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),Et=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),Oe=Symbol.iterator;function Qt(e){return e===null||typeof e!="object"?null:(e=Oe&&e[Oe]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Symbol.for("react.client.reference");function xa(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_e?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case j:return"Profiler";case V:return"StrictMode";case et:return"Suspense";case nt:return"SuspenseList";case Et:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case ct:return(e.displayName||"Context")+".Provider";case lt:return(e._context.displayName||"Context")+".Consumer";case mt:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yt:return r=e.displayName||null,r!==null?r:xa(e.type)||"Memo";case At:r=e._payload,e=e._init;try{return xa(e(r))}catch{}}return null}var be=Array.isArray,L=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},Lt=[],w=-1;function P(e){return{current:e}}function X(e){0>w||(e.current=Lt[w],Lt[w]=null,w--)}function Y(e,r){w++,Lt[w]=e.current,e.current=r}var rt=P(null),Nt=P(null),ut=P(null),Je=P(null);function Ht(e,r){switch(Y(ut,r),Y(Nt,e),Y(rt,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?$p(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=$p(r),e=Gp(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(rt),Y(rt,e)}function Ki(){X(rt),X(Nt),X(ut)}function Pc(e){e.memoizedState!==null&&Y(Je,e);var r=rt.current,a=Gp(r,e.type);r!==a&&(Y(Nt,e),Y(rt,a))}function Rl(e){Nt.current===e&&(X(rt),X(Nt)),Je.current===e&&(X(Je),Wo._currentValue=st)}var Vc=Object.prototype.hasOwnProperty,Hc=s.unstable_scheduleCallback,Kc=s.unstable_cancelCallback,JS=s.unstable_shouldYield,qS=s.unstable_requestPaint,Un=s.unstable_now,PS=s.unstable_getCurrentPriorityLevel,Ng=s.unstable_ImmediatePriority,Dg=s.unstable_UserBlockingPriority,Il=s.unstable_NormalPriority,VS=s.unstable_LowPriority,Og=s.unstable_IdlePriority,HS=s.log,KS=s.unstable_setDisableYieldValue,so=null,qe=null;function ji(e){if(typeof HS=="function"&&KS(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(so,e)}catch{}}var Pe=Math.clz32?Math.clz32:$S,jS=Math.log,YS=Math.LN2;function $S(e){return e>>>=0,e===0?32:31-(jS(e)/YS|0)|0}var Bl=256,zl=4194304;function Na(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ml(e,r,a){var o=e.pendingLanes;if(o===0)return 0;var u=0,f=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var S=o&134217727;return S!==0?(o=S&~f,o!==0?u=Na(o):(m&=S,m!==0?u=Na(m):a||(a=S&~e,a!==0&&(u=Na(a))))):(S=o&~f,S!==0?u=Na(S):m!==0?u=Na(m):a||(a=o&~e,a!==0&&(u=Na(a)))),u===0?0:r!==0&&r!==u&&(r&f)===0&&(f=u&-u,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:u}function oo(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function GS(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kg(){var e=Bl;return Bl<<=1,(Bl&4194048)===0&&(Bl=256),e}function Cg(){var e=zl;return zl<<=1,(zl&62914560)===0&&(zl=4194304),e}function jc(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function lo(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function XS(e,r,a,o,u,f){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,T=e.expirationTimes,R=e.hiddenUpdates;for(a=m&~a;0<a;){var M=31-Pe(a),q=1<<M;S[M]=0,T[M]=-1;var I=R[M];if(I!==null)for(R[M]=null,M=0;M<I.length;M++){var B=I[M];B!==null&&(B.lane&=-536870913)}a&=~q}o!==0&&Rg(e,o,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(m&~r))}function Rg(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var o=31-Pe(r);e.entangledLanes|=r,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function Ig(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var o=31-Pe(a),u=1<<o;u&r|e[o]&r&&(e[o]|=r),a&=~u}}function Yc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $c(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Bg(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:hv(e.type))}function FS(e,r){var a=$.p;try{return $.p=e,r()}finally{$.p=a}}var Yi=Math.random().toString(36).slice(2),Te="__reactFiber$"+Yi,ke="__reactProps$"+Yi,Wa="__reactContainer$"+Yi,Gc="__reactEvents$"+Yi,ZS="__reactListeners$"+Yi,QS="__reactHandles$"+Yi,zg="__reactResources$"+Yi,uo="__reactMarker$"+Yi;function Xc(e){delete e[Te],delete e[ke],delete e[Gc],delete e[ZS],delete e[QS]}function ts(e){var r=e[Te];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Wa]||a[Te]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=Qp(e);e!==null;){if(a=e[Te])return a;e=Qp(e)}return r}e=a,a=e.parentNode}return null}function es(e){if(e=e[Te]||e[Wa]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function co(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(i(33))}function ns(e){var r=e[zg];return r||(r=e[zg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ue(e){e[uo]=!0}var Mg=new Set,Ug={};function Da(e,r){rs(e,r),rs(e+"Capture",r)}function rs(e,r){for(Ug[e]=r,e=0;e<r.length;e++)Mg.add(r[e])}var _S=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lg={},Jg={};function WS(e){return Vc.call(Jg,e)?!0:Vc.call(Lg,e)?!1:_S.test(e)?Jg[e]=!0:(Lg[e]=!0,!1)}function Ul(e,r,a){if(WS(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function Ll(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function nr(e,r,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+o)}}var Fc,qg;function is(e){if(Fc===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Fc=r&&r[1]||"",qg=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fc+e+qg}var Zc=!1;function Qc(e,r){if(!e||Zc)return"";Zc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(B){var I=B}Reflect.construct(e,[],q)}else{try{q.call()}catch(B){I=B}e.call(q.prototype)}}else{try{throw Error()}catch(B){I=B}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(B){if(B&&I&&typeof B.stack=="string")return[B.stack,I.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),m=f[0],S=f[1];if(m&&S){var T=m.split(`
`),R=S.split(`
`);for(u=o=0;o<T.length&&!T[o].includes("DetermineComponentFrameRoot");)o++;for(;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;if(o===T.length||u===R.length)for(o=T.length-1,u=R.length-1;1<=o&&0<=u&&T[o]!==R[u];)u--;for(;1<=o&&0<=u;o--,u--)if(T[o]!==R[u]){if(o!==1||u!==1)do if(o--,u--,0>u||T[o]!==R[u]){var M=`
`+T[o].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=o&&0<=u);break}}}finally{Zc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?is(a):""}function tb(e){switch(e.tag){case 26:case 27:case 5:return is(e.type);case 16:return is("Lazy");case 13:return is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return Qc(e.type,!1);case 11:return Qc(e.type.render,!1);case 1:return Qc(e.type,!0);case 31:return is("Activity");default:return""}}function Pg(e){try{var r="";do r+=tb(e),e=e.return;while(e);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vg(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function eb(e){var r=Vg(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),o=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return u.call(this)},set:function(m){o=""+m,f.call(this,m)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(m){o=""+m},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Jl(e){e._valueTracker||(e._valueTracker=eb(e))}function Hg(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),o="";return e&&(o=Vg(e)?e.checked?"true":"false":e.value),e=o,e!==a?(r.setValue(e),!0):!1}function ql(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var nb=/[\n"\\]/g;function tn(e){return e.replace(nb,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _c(e,r,a,o,u,f,m,S){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),r!=null?m==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+We(r)):e.value!==""+We(r)&&(e.value=""+We(r)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),r!=null?Wc(e,m,We(r)):a!=null?Wc(e,m,We(a)):o!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+We(S):e.removeAttribute("name")}function Kg(e,r,a,o,u,f,m,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+We(a):"",r=r!=null?""+We(r):a,S||r===e.value||(e.value=r),e.defaultValue=r}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=S?e.checked:!!o,e.defaultChecked=!!o,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m)}function Wc(e,r,a){r==="number"&&ql(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function as(e,r,a,o){if(e=e.options,r){r={};for(var u=0;u<a.length;u++)r["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=r.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&o&&(e[a].defaultSelected=!0)}else{for(a=""+We(a),r=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}r!==null||e[u].disabled||(r=e[u])}r!==null&&(r.selected=!0)}}function jg(e,r,a){if(r!=null&&(r=""+We(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+We(a):""}function Yg(e,r,a,o){if(r==null){if(o!=null){if(a!=null)throw Error(i(92));if(be(o)){if(1<o.length)throw Error(i(93));o=o[0]}a=o}a==null&&(a=""),r=a}a=We(r),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function ss(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var rb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $g(e,r,a){var o=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":o?e.setProperty(r,a):typeof a!="number"||a===0||rb.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Gg(e,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var u in r)o=r[u],r.hasOwnProperty(u)&&a[u]!==o&&$g(e,u,o)}else for(var f in r)r.hasOwnProperty(f)&&$g(e,f,r[f])}function tf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ib=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ab=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pl(e){return ab.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ef=null;function nf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var os=null,ls=null;function Xg(e){var r=es(e);if(r&&(e=r.stateNode)){var a=e[ke]||null;t:switch(e=r.stateNode,r.type){case"input":if(_c(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var o=a[r];if(o!==e&&o.form===e.form){var u=o[ke]||null;if(!u)throw Error(i(90));_c(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(r=0;r<a.length;r++)o=a[r],o.form===e.form&&Hg(o)}break t;case"textarea":jg(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&as(e,!!a.multiple,r,!1)}}}var rf=!1;function Fg(e,r,a){if(rf)return e(r,a);rf=!0;try{var o=e(r);return o}finally{if(rf=!1,(os!==null||ls!==null)&&(xu(),os&&(r=os,e=ls,ls=os=null,Xg(r),e)))for(r=0;r<e.length;r++)Xg(e[r])}}function fo(e,r){var a=e.stateNode;if(a===null)return null;var o=a[ke]||null;if(o===null)return null;a=o[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),af=!1;if(rr)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){af=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{af=!1}var $i=null,sf=null,Vl=null;function Zg(){if(Vl)return Vl;var e,r=sf,a=r.length,o,u="value"in $i?$i.value:$i.textContent,f=u.length;for(e=0;e<a&&r[e]===u[e];e++);var m=a-e;for(o=1;o<=m&&r[a-o]===u[f-o];o++);return Vl=u.slice(e,1<o?1-o:void 0)}function Hl(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Kl(){return!0}function Qg(){return!1}function Ce(e){function r(a,o,u,f,m){this._reactName=a,this._targetInst=u,this.type=o,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Kl:Qg,this.isPropagationStopped=Qg,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),r}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=Ce(Oa),go=b({},Oa,{view:0,detail:0}),sb=Ce(go),of,lf,mo,Yl=b({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mo&&(mo&&e.type==="mousemove"?(of=e.screenX-mo.screenX,lf=e.screenY-mo.screenY):lf=of=0,mo=e),of)},movementY:function(e){return"movementY"in e?e.movementY:lf}}),_g=Ce(Yl),ob=b({},Yl,{dataTransfer:0}),lb=Ce(ob),ub=b({},go,{relatedTarget:0}),uf=Ce(ub),cb=b({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),fb=Ce(cb),hb=b({},Oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),db=Ce(hb),gb=b({},Oa,{data:0}),Wg=Ce(gb),mb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vb(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=pb[e])?!!r[e]:!1}function cf(){return vb}var Sb=b({},go,{key:function(e){if(e.key){var r=mb[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Hl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cf,charCode:function(e){return e.type==="keypress"?Hl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bb=Ce(Sb),Tb=b({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tm=Ce(Tb),wb=b({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cf}),Ab=Ce(wb),Eb=b({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),xb=Ce(Eb),Nb=b({},Yl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Db=Ce(Nb),Ob=b({},Oa,{newState:0,oldState:0}),kb=Ce(Ob),Cb=[9,13,27,32],ff=rr&&"CompositionEvent"in window,yo=null;rr&&"documentMode"in document&&(yo=document.documentMode);var Rb=rr&&"TextEvent"in window&&!yo,em=rr&&(!ff||yo&&8<yo&&11>=yo),nm=" ",rm=!1;function im(e,r){switch(e){case"keyup":return Cb.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function am(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var us=!1;function Ib(e,r){switch(e){case"compositionend":return am(r);case"keypress":return r.which!==32?null:(rm=!0,nm);case"textInput":return e=r.data,e===nm&&rm?null:e;default:return null}}function Bb(e,r){if(us)return e==="compositionend"||!ff&&im(e,r)?(e=Zg(),Vl=sf=$i=null,us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return em&&r.locale!=="ko"?null:r.data;default:return null}}var zb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!zb[e.type]:r==="textarea"}function om(e,r,a,o){os?ls?ls.push(o):ls=[o]:os=o,r=Ru(r,"onChange"),0<r.length&&(a=new jl("onChange","change",null,a,o),e.push({event:a,listeners:r}))}var po=null,vo=null;function Mb(e){Vp(e,0)}function $l(e){var r=co(e);if(Hg(r))return e}function lm(e,r){if(e==="change")return r}var um=!1;if(rr){var hf;if(rr){var df="oninput"in document;if(!df){var cm=document.createElement("div");cm.setAttribute("oninput","return;"),df=typeof cm.oninput=="function"}hf=df}else hf=!1;um=hf&&(!document.documentMode||9<document.documentMode)}function fm(){po&&(po.detachEvent("onpropertychange",hm),vo=po=null)}function hm(e){if(e.propertyName==="value"&&$l(vo)){var r=[];om(r,vo,e,nf(e)),Fg(Mb,r)}}function Ub(e,r,a){e==="focusin"?(fm(),po=r,vo=a,po.attachEvent("onpropertychange",hm)):e==="focusout"&&fm()}function Lb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $l(vo)}function Jb(e,r){if(e==="click")return $l(r)}function qb(e,r){if(e==="input"||e==="change")return $l(r)}function Pb(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Ve=typeof Object.is=="function"?Object.is:Pb;function So(e,r){if(Ve(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),o=Object.keys(r);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var u=a[o];if(!Vc.call(r,u)||!Ve(e[u],r[u]))return!1}return!0}function dm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gm(e,r){var a=dm(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=r&&o>=r)return{node:a,offset:r-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=dm(a)}}function mm(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?mm(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function ym(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=ql(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=ql(e.document)}return r}function gf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var Vb=rr&&"documentMode"in document&&11>=document.documentMode,cs=null,mf=null,bo=null,yf=!1;function pm(e,r,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yf||cs==null||cs!==ql(o)||(o=cs,"selectionStart"in o&&gf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),bo&&So(bo,o)||(bo=o,o=Ru(mf,"onSelect"),0<o.length&&(r=new jl("onSelect","select",null,r,a),e.push({event:r,listeners:o}),r.target=cs)))}function ka(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var fs={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionrun:ka("Transition","TransitionRun"),transitionstart:ka("Transition","TransitionStart"),transitioncancel:ka("Transition","TransitionCancel"),transitionend:ka("Transition","TransitionEnd")},pf={},vm={};rr&&(vm=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function Ca(e){if(pf[e])return pf[e];if(!fs[e])return e;var r=fs[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in vm)return pf[e]=r[a];return e}var Sm=Ca("animationend"),bm=Ca("animationiteration"),Tm=Ca("animationstart"),Hb=Ca("transitionrun"),Kb=Ca("transitionstart"),jb=Ca("transitioncancel"),wm=Ca("transitionend"),Am=new Map,vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vf.push("scrollEnd");function En(e,r){Am.set(e,r),Da(r,[e])}var Em=new WeakMap;function en(e,r){if(typeof e=="object"&&e!==null){var a=Em.get(e);return a!==void 0?a:(r={value:e,source:r,stack:Pg(r)},Em.set(e,r),r)}return{value:e,source:r,stack:Pg(r)}}var nn=[],hs=0,Sf=0;function Gl(){for(var e=hs,r=Sf=hs=0;r<e;){var a=nn[r];nn[r++]=null;var o=nn[r];nn[r++]=null;var u=nn[r];nn[r++]=null;var f=nn[r];if(nn[r++]=null,o!==null&&u!==null){var m=o.pending;m===null?u.next=u:(u.next=m.next,m.next=u),o.pending=u}f!==0&&xm(a,u,f)}}function Xl(e,r,a,o){nn[hs++]=e,nn[hs++]=r,nn[hs++]=a,nn[hs++]=o,Sf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function bf(e,r,a,o){return Xl(e,r,a,o),Fl(e)}function ds(e,r){return Xl(e,null,null,r),Fl(e)}function xm(e,r,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var u=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&r!==null&&(u=31-Pe(a),e=f.hiddenUpdates,o=e[u],o===null?e[u]=[r]:o.push(r),r.lane=a|536870912),f):null}function Fl(e){if(50<Yo)throw Yo=0,Nh=null,Error(i(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var gs={};function Yb(e,r,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(e,r,a,o){return new Yb(e,r,a,o)}function Tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ir(e,r){var a=e.alternate;return a===null?(a=He(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Nm(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function Zl(e,r,a,o,u,f){var m=0;if(o=e,typeof e=="function")Tf(e)&&(m=1);else if(typeof e=="string")m=GT(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Et:return e=He(31,a,r,u),e.elementType=Et,e.lanes=f,e;case U:return Ra(a.children,u,f,r);case V:m=8,u|=24;break;case j:return e=He(12,a,r,u|2),e.elementType=j,e.lanes=f,e;case et:return e=He(13,a,r,u),e.elementType=et,e.lanes=f,e;case nt:return e=He(19,a,r,u),e.elementType=nt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:case ct:m=10;break t;case lt:m=9;break t;case mt:m=11;break t;case yt:m=14;break t;case At:m=16,o=null;break t}m=29,a=Error(i(130,e===null?"null":typeof e,"")),o=null}return r=He(m,a,r,u),r.elementType=e,r.type=o,r.lanes=f,r}function Ra(e,r,a,o){return e=He(7,e,o,r),e.lanes=a,e}function wf(e,r,a){return e=He(6,e,null,r),e.lanes=a,e}function Af(e,r,a){return r=He(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var ms=[],ys=0,Ql=null,_l=0,rn=[],an=0,Ia=null,ar=1,sr="";function Ba(e,r){ms[ys++]=_l,ms[ys++]=Ql,Ql=e,_l=r}function Dm(e,r,a){rn[an++]=ar,rn[an++]=sr,rn[an++]=Ia,Ia=e;var o=ar;e=sr;var u=32-Pe(o)-1;o&=~(1<<u),a+=1;var f=32-Pe(r)+u;if(30<f){var m=u-u%5;f=(o&(1<<m)-1).toString(32),o>>=m,u-=m,ar=1<<32-Pe(r)+u|a<<u|o,sr=f+e}else ar=1<<f|a<<u|o,sr=e}function Ef(e){e.return!==null&&(Ba(e,1),Dm(e,1,0))}function xf(e){for(;e===Ql;)Ql=ms[--ys],ms[ys]=null,_l=ms[--ys],ms[ys]=null;for(;e===Ia;)Ia=rn[--an],rn[an]=null,sr=rn[--an],rn[an]=null,ar=rn[--an],rn[an]=null}var De=null,Gt=null,Ot=!1,za=null,Ln=!1,Nf=Error(i(519));function Ma(e){var r=Error(i(418,""));throw Ao(en(r,e)),Nf}function Om(e){var r=e.stateNode,a=e.type,o=e.memoizedProps;switch(r[Te]=e,r[ke]=o,a){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(a=0;a<Go.length;a++)vt(Go[a],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":vt("invalid",r),Kg(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Jl(r);break;case"select":vt("invalid",r);break;case"textarea":vt("invalid",r),Yg(r,o.value,o.defaultValue,o.children),Jl(r)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||o.suppressHydrationWarning===!0||Yp(r.textContent,a)?(o.popover!=null&&(vt("beforetoggle",r),vt("toggle",r)),o.onScroll!=null&&vt("scroll",r),o.onScrollEnd!=null&&vt("scrollend",r),o.onClick!=null&&(r.onclick=Iu),r=!0):r=!1,r||Ma(e)}function km(e){for(De=e.return;De;)switch(De.tag){case 5:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:De=De.return}}function To(e){if(e!==De)return!1;if(!Ot)return km(e),Ot=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Hh(e.type,e.memoizedProps)),a=!a),a&&Gt&&Ma(e),km(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));t:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(r===0){Gt=Nn(e.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;e=e.nextSibling}Gt=null}}else r===27?(r=Gt,la(e.type)?(e=$h,$h=null,Gt=e):Gt=r):Gt=De?Nn(e.stateNode.nextSibling):null;return!0}function wo(){Gt=De=null,Ot=!1}function Cm(){var e=za;return e!==null&&(Be===null?Be=e:Be.push.apply(Be,e),za=null),e}function Ao(e){za===null?za=[e]:za.push(e)}var Df=P(null),Ua=null,or=null;function Gi(e,r,a){Y(Df,r._currentValue),r._currentValue=a}function lr(e){e._currentValue=Df.current,X(Df)}function Of(e,r,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),e===a)break;e=e.return}}function kf(e,r,a,o){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var m=u.child;f=f.firstContext;t:for(;f!==null;){var S=f;f=u;for(var T=0;T<r.length;T++)if(S.context===r[T]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),Of(f.return,a,e),o||(m=null);break t}f=S.next}}else if(u.tag===18){if(m=u.return,m===null)throw Error(i(341));m.lanes|=a,f=m.alternate,f!==null&&(f.lanes|=a),Of(m,a,e),m=null}else m=u.child;if(m!==null)m.return=u;else for(m=u;m!==null;){if(m===e){m=null;break}if(u=m.sibling,u!==null){u.return=m.return,m=u;break}m=m.return}u=m}}function Eo(e,r,a,o){e=null;for(var u=r,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var m=u.alternate;if(m===null)throw Error(i(387));if(m=m.memoizedProps,m!==null){var S=u.type;Ve(u.pendingProps.value,m.value)||(e!==null?e.push(S):e=[S])}}else if(u===Je.current){if(m=u.alternate,m===null)throw Error(i(387));m.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Wo):e=[Wo])}u=u.return}e!==null&&kf(r,e,a,o),r.flags|=262144}function Wl(e){for(e=e.firstContext;e!==null;){if(!Ve(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function La(e){Ua=e,or=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function we(e){return Rm(Ua,e)}function tu(e,r){return Ua===null&&La(e),Rm(e,r)}function Rm(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},or===null){if(e===null)throw Error(i(308));or=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else or=or.next=r;return a}var $b=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},Gb=s.unstable_scheduleCallback,Xb=s.unstable_NormalPriority,se={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new $b,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&Gb(Xb,function(){e.controller.abort()})}var No=null,Rf=0,ps=0,vs=null;function Fb(e,r){if(No===null){var a=No=[];Rf=0,ps=Bh(),vs={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Rf++,r.then(Im,Im),r}function Im(){if(--Rf===0&&No!==null){vs!==null&&(vs.status="fulfilled");var e=No;No=null,ps=0,vs=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function Zb(e,r){var a=[],o={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){o.status="fulfilled",o.value=r;for(var u=0;u<a.length;u++)(0,a[u])(r)},function(u){for(o.status="rejected",o.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),o}var Bm=L.S;L.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Fb(e,r),Bm!==null&&Bm(e,r)};var Ja=P(null);function If(){var e=Ja.current;return e!==null?e:Pt.pooledCache}function eu(e,r){r===null?Y(Ja,Ja.current):Y(Ja,r.pool)}function zm(){var e=If();return e===null?null:{parent:se._currentValue,pool:e}}var Do=Error(i(460)),Mm=Error(i(474)),nu=Error(i(542)),Bf={then:function(){}};function Um(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ru(){}function Lm(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(ru,ru),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,qm(e),e;default:if(typeof r.status=="string")r.then(ru,ru);else{if(e=Pt,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=r,e.status="pending",e.then(function(o){if(r.status==="pending"){var u=r;u.status="fulfilled",u.value=o}},function(o){if(r.status==="pending"){var u=r;u.status="rejected",u.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,qm(e),e}throw Oo=r,Do}}var Oo=null;function Jm(){if(Oo===null)throw Error(i(459));var e=Oo;return Oo=null,e}function qm(e){if(e===Do||e===nu)throw Error(i(483))}var Xi=!1;function zf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zi(e,r,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Rt&2)!==0){var u=o.pending;return u===null?r.next=r:(r.next=u.next,u.next=r),o.pending=r,r=Fl(e),xm(e,null,a),r}return Xl(e,o,r,a),Fl(e)}function ko(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var o=r.lanes;o&=e.pendingLanes,a|=o,r.lanes=a,Ig(e,a)}}function Uf(e,r){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=m:f=f.next=m,a=a.next}while(a!==null);f===null?u=f=r:f=f.next=r}else u=f=r;a={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var Lf=!1;function Co(){if(Lf){var e=vs;if(e!==null)throw e}}function Ro(e,r,a,o){Lf=!1;var u=e.updateQueue;Xi=!1;var f=u.firstBaseUpdate,m=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var T=S,R=T.next;T.next=null,m===null?f=R:m.next=R,m=T;var M=e.alternate;M!==null&&(M=M.updateQueue,S=M.lastBaseUpdate,S!==m&&(S===null?M.firstBaseUpdate=R:S.next=R,M.lastBaseUpdate=T))}if(f!==null){var q=u.baseState;m=0,M=R=T=null,S=f;do{var I=S.lane&-536870913,B=I!==S.lane;if(B?(wt&I)===I:(o&I)===I){I!==0&&I===ps&&(Lf=!0),M!==null&&(M=M.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ot=e,it=S;I=r;var Mt=a;switch(it.tag){case 1:if(ot=it.payload,typeof ot=="function"){q=ot.call(Mt,q,I);break t}q=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=it.payload,I=typeof ot=="function"?ot.call(Mt,q,I):ot,I==null)break t;q=b({},q,I);break t;case 2:Xi=!0}}I=S.callback,I!==null&&(e.flags|=64,B&&(e.flags|=8192),B=u.callbacks,B===null?u.callbacks=[I]:B.push(I))}else B={lane:I,tag:S.tag,payload:S.payload,callback:S.callback,next:null},M===null?(R=M=B,T=q):M=M.next=B,m|=I;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;B=S,S=B.next,B.next=null,u.lastBaseUpdate=B,u.shared.pending=null}}while(!0);M===null&&(T=q),u.baseState=T,u.firstBaseUpdate=R,u.lastBaseUpdate=M,f===null&&(u.shared.lanes=0),ia|=m,e.lanes=m,e.memoizedState=q}}function Pm(e,r){if(typeof e!="function")throw Error(i(191,e));e.call(r)}function Vm(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Pm(a[e],r)}var Ss=P(null),iu=P(0);function Hm(e,r){e=mr,Y(iu,e),Y(Ss,r),mr=e|r.baseLanes}function Jf(){Y(iu,mr),Y(Ss,Ss.current)}function qf(){mr=iu.current,X(Ss),X(iu)}var Qi=0,dt=null,Bt=null,ne=null,au=!1,bs=!1,qa=!1,su=0,Io=0,Ts=null,Qb=0;function _t(){throw Error(i(321))}function Pf(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!Ve(e[a],r[a]))return!1;return!0}function Vf(e,r,a,o,u,f){return Qi=f,dt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,L.H=e===null||e.memoizedState===null?xy:Ny,qa=!1,f=a(o,u),qa=!1,bs&&(f=jm(r,a,o,u)),Km(e),f}function Km(e){L.H=hu;var r=Bt!==null&&Bt.next!==null;if(Qi=0,ne=Bt=dt=null,au=!1,Io=0,Ts=null,r)throw Error(i(300));e===null||ce||(e=e.dependencies,e!==null&&Wl(e)&&(ce=!0))}function jm(e,r,a,o){dt=e;var u=0;do{if(bs&&(Ts=null),Io=0,bs=!1,25<=u)throw Error(i(301));if(u+=1,ne=Bt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=iT,f=r(a,o)}while(bs);return f}function _b(){var e=L.H,r=e.useState()[0];return r=typeof r.then=="function"?Bo(r):r,e=e.useState()[0],(Bt!==null?Bt.memoizedState:null)!==e&&(dt.flags|=1024),r}function Hf(){var e=su!==0;return su=0,e}function Kf(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function jf(e){if(au){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}au=!1}Qi=0,ne=Bt=dt=null,bs=!1,Io=su=0,Ts=null}function Re(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ne===null?dt.memoizedState=ne=e:ne=ne.next=e,ne}function re(){if(Bt===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var r=ne===null?dt.memoizedState:ne.next;if(r!==null)ne=r,Bt=e;else{if(e===null)throw dt.alternate===null?Error(i(467)):Error(i(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},ne===null?dt.memoizedState=ne=e:ne=ne.next=e}return ne}function Yf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(e){var r=Io;return Io+=1,Ts===null&&(Ts=[]),e=Lm(Ts,e,r),r=dt,(ne===null?r.memoizedState:ne.next)===null&&(r=r.alternate,L.H=r===null||r.memoizedState===null?xy:Ny),e}function ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bo(e);if(e.$$typeof===ct)return we(e)}throw Error(i(438,String(e)))}function $f(e){var r=null,a=dt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var o=dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(u){return u.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Yf(),dt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),o=0;o<e;o++)a[o]=ae;return r.index++,a}function ur(e,r){return typeof r=="function"?r(e):r}function lu(e){var r=re();return Gf(r,Bt,e)}function Gf(e,r,a){var o=e.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=a;var u=e.baseQueue,f=o.pending;if(f!==null){if(u!==null){var m=u.next;u.next=f.next,f.next=m}r.baseQueue=u=f,o.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{r=u.next;var S=m=null,T=null,R=r,M=!1;do{var q=R.lane&-536870913;if(q!==R.lane?(wt&q)===q:(Qi&q)===q){var I=R.revertLane;if(I===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),q===ps&&(M=!0);else if((Qi&I)===I){R=R.next,I===ps&&(M=!0);continue}else q={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},T===null?(S=T=q,m=f):T=T.next=q,dt.lanes|=I,ia|=I;q=R.action,qa&&a(f,q),f=R.hasEagerState?R.eagerState:a(f,q)}else I={lane:q,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},T===null?(S=T=I,m=f):T=T.next=I,dt.lanes|=q,ia|=q;R=R.next}while(R!==null&&R!==r);if(T===null?m=f:T.next=S,!Ve(f,e.memoizedState)&&(ce=!0,M&&(a=vs,a!==null)))throw a;e.memoizedState=f,e.baseState=m,e.baseQueue=T,o.lastRenderedState=f}return u===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Xf(e){var r=re(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var o=a.dispatch,u=a.pending,f=r.memoizedState;if(u!==null){a.pending=null;var m=u=u.next;do f=e(f,m.action),m=m.next;while(m!==u);Ve(f,r.memoizedState)||(ce=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,o]}function Ym(e,r,a){var o=dt,u=re(),f=Ot;if(f){if(a===void 0)throw Error(i(407));a=a()}else a=r();var m=!Ve((Bt||u).memoizedState,a);m&&(u.memoizedState=a,ce=!0),u=u.queue;var S=Xm.bind(null,o,u,e);if(zo(2048,8,S,[e]),u.getSnapshot!==r||m||ne!==null&&ne.memoizedState.tag&1){if(o.flags|=2048,ws(9,uu(),Gm.bind(null,o,u,a,r),null),Pt===null)throw Error(i(349));f||(Qi&124)!==0||$m(o,r,a)}return a}function $m(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=dt.updateQueue,r===null?(r=Yf(),dt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Gm(e,r,a,o){r.value=a,r.getSnapshot=o,Fm(r)&&Zm(e)}function Xm(e,r,a){return a(function(){Fm(r)&&Zm(e)})}function Fm(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!Ve(e,a)}catch{return!0}}function Zm(e){var r=ds(e,2);r!==null&&Ge(r,e,2)}function Ff(e){var r=Re();if(typeof e=="function"){var a=e;if(e=a(),qa){ji(!0);try{a()}finally{ji(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:e},r}function Qm(e,r,a,o){return e.baseState=a,Gf(e,Bt,typeof o=="function"?o:ur)}function Wb(e,r,a,o,u){if(fu(e))throw Error(i(485));if(e=r.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){f.listeners.push(m)}};L.T!==null?a(!0):f.isTransition=!1,o(f),a=r.pending,a===null?(f.next=r.pending=f,_m(r,f)):(f.next=a.next,r.pending=a.next=f)}}function _m(e,r){var a=r.action,o=r.payload,u=e.state;if(r.isTransition){var f=L.T,m={};L.T=m;try{var S=a(u,o),T=L.S;T!==null&&T(m,S),Wm(e,r,S)}catch(R){Zf(e,r,R)}finally{L.T=f}}else try{f=a(u,o),Wm(e,r,f)}catch(R){Zf(e,r,R)}}function Wm(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){ty(e,r,o)},function(o){return Zf(e,r,o)}):ty(e,r,a)}function ty(e,r,a){r.status="fulfilled",r.value=a,ey(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,_m(e,a)))}function Zf(e,r,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=a,ey(r),r=r.next;while(r!==o)}e.action=null}function ey(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function ny(e,r){return r}function ry(e,r){if(Ot){var a=Pt.formState;if(a!==null){t:{var o=dt;if(Ot){if(Gt){e:{for(var u=Gt,f=Ln;u.nodeType!==8;){if(!f){u=null;break e}if(u=Nn(u.nextSibling),u===null){u=null;break e}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Gt=Nn(u.nextSibling),o=u.data==="F!";break t}}Ma(o)}o=!1}o&&(r=a[0])}}return a=Re(),a.memoizedState=a.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:r},a.queue=o,a=wy.bind(null,dt,o),o.dispatch=a,o=Ff(!1),f=eh.bind(null,dt,!1,o.queue),o=Re(),u={state:r,dispatch:null,action:e,pending:null},o.queue=u,a=Wb.bind(null,dt,u,f,a),u.dispatch=a,o.memoizedState=e,[r,a,!1]}function iy(e){var r=re();return ay(r,Bt,e)}function ay(e,r,a){if(r=Gf(e,r,ny)[0],e=lu(ur)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=Bo(r)}catch(m){throw m===Do?nu:m}else o=r;r=re();var u=r.queue,f=u.dispatch;return a!==r.memoizedState&&(dt.flags|=2048,ws(9,uu(),tT.bind(null,u,a),null)),[o,f,e]}function tT(e,r){e.action=r}function sy(e){var r=re(),a=Bt;if(a!==null)return ay(r,a,e);re(),r=r.memoizedState,a=re();var o=a.queue.dispatch;return a.memoizedState=e,[r,o,!1]}function ws(e,r,a,o){return e={tag:e,create:a,deps:o,inst:r,next:null},r=dt.updateQueue,r===null&&(r=Yf(),dt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,r.lastEffect=e),e}function uu(){return{destroy:void 0,resource:void 0}}function oy(){return re().memoizedState}function cu(e,r,a,o){var u=Re();o=o===void 0?null:o,dt.flags|=e,u.memoizedState=ws(1|r,uu(),a,o)}function zo(e,r,a,o){var u=re();o=o===void 0?null:o;var f=u.memoizedState.inst;Bt!==null&&o!==null&&Pf(o,Bt.memoizedState.deps)?u.memoizedState=ws(r,f,a,o):(dt.flags|=e,u.memoizedState=ws(1|r,f,a,o))}function ly(e,r){cu(8390656,8,e,r)}function uy(e,r){zo(2048,8,e,r)}function cy(e,r){return zo(4,2,e,r)}function fy(e,r){return zo(4,4,e,r)}function hy(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function dy(e,r,a){a=a!=null?a.concat([e]):null,zo(4,4,hy.bind(null,r,e),a)}function Qf(){}function gy(e,r){var a=re();r=r===void 0?null:r;var o=a.memoizedState;return r!==null&&Pf(r,o[1])?o[0]:(a.memoizedState=[e,r],e)}function my(e,r){var a=re();r=r===void 0?null:r;var o=a.memoizedState;if(r!==null&&Pf(r,o[1]))return o[0];if(o=e(),qa){ji(!0);try{e()}finally{ji(!1)}}return a.memoizedState=[o,r],o}function _f(e,r,a){return a===void 0||(Qi&1073741824)!==0?e.memoizedState=r:(e.memoizedState=a,e=vp(),dt.lanes|=e,ia|=e,a)}function yy(e,r,a,o){return Ve(a,r)?a:Ss.current!==null?(e=_f(e,a,o),Ve(e,r)||(ce=!0),e):(Qi&42)===0?(ce=!0,e.memoizedState=a):(e=vp(),dt.lanes|=e,ia|=e,r)}function py(e,r,a,o,u){var f=$.p;$.p=f!==0&&8>f?f:8;var m=L.T,S={};L.T=S,eh(e,!1,r,a);try{var T=u(),R=L.S;if(R!==null&&R(S,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var M=Zb(T,o);Mo(e,r,M,$e(e))}else Mo(e,r,o,$e(e))}catch(q){Mo(e,r,{then:function(){},status:"rejected",reason:q},$e())}finally{$.p=f,L.T=m}}function eT(){}function Wf(e,r,a,o){if(e.tag!==5)throw Error(i(476));var u=vy(e).queue;py(e,u,r,st,a===null?eT:function(){return Sy(e),a(o)})}function vy(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:st},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function Sy(e){var r=vy(e).next.queue;Mo(e,r,{},$e())}function th(){return we(Wo)}function by(){return re().memoizedState}function Ty(){return re().memoizedState}function nT(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=$e();e=Fi(a);var o=Zi(r,e,a);o!==null&&(Ge(o,r,a),ko(o,r,a)),r={cache:Cf()},e.payload=r;return}r=r.return}}function rT(e,r,a){var o=$e();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},fu(e)?Ay(r,a):(a=bf(e,r,a,o),a!==null&&(Ge(a,e,o),Ey(a,r,o)))}function wy(e,r,a){var o=$e();Mo(e,r,a,o)}function Mo(e,r,a,o){var u={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(fu(e))Ay(r,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var m=r.lastRenderedState,S=f(m,a);if(u.hasEagerState=!0,u.eagerState=S,Ve(S,m))return Xl(e,r,u,0),Pt===null&&Gl(),!1}catch{}finally{}if(a=bf(e,r,u,o),a!==null)return Ge(a,e,o),Ey(a,r,o),!0}return!1}function eh(e,r,a,o){if(o={lane:2,revertLane:Bh(),action:o,hasEagerState:!1,eagerState:null,next:null},fu(e)){if(r)throw Error(i(479))}else r=bf(e,a,o,2),r!==null&&Ge(r,e,2)}function fu(e){var r=e.alternate;return e===dt||r!==null&&r===dt}function Ay(e,r){bs=au=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function Ey(e,r,a){if((a&4194048)!==0){var o=r.lanes;o&=e.pendingLanes,a|=o,r.lanes=a,Ig(e,a)}}var hu={readContext:we,use:ou,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},xy={readContext:we,use:ou,useCallback:function(e,r){return Re().memoizedState=[e,r===void 0?null:r],e},useContext:we,useEffect:ly,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,cu(4194308,4,hy.bind(null,r,e),a)},useLayoutEffect:function(e,r){return cu(4194308,4,e,r)},useInsertionEffect:function(e,r){cu(4,2,e,r)},useMemo:function(e,r){var a=Re();r=r===void 0?null:r;var o=e();if(qa){ji(!0);try{e()}finally{ji(!1)}}return a.memoizedState=[o,r],o},useReducer:function(e,r,a){var o=Re();if(a!==void 0){var u=a(r);if(qa){ji(!0);try{a(r)}finally{ji(!1)}}}else u=r;return o.memoizedState=o.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},o.queue=e,e=e.dispatch=rT.bind(null,dt,e),[o.memoizedState,e]},useRef:function(e){var r=Re();return e={current:e},r.memoizedState=e},useState:function(e){e=Ff(e);var r=e.queue,a=wy.bind(null,dt,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:Qf,useDeferredValue:function(e,r){var a=Re();return _f(a,e,r)},useTransition:function(){var e=Ff(!1);return e=py.bind(null,dt,e.queue,!0,!1),Re().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var o=dt,u=Re();if(Ot){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),Pt===null)throw Error(i(349));(wt&124)!==0||$m(o,r,a)}u.memoizedState=a;var f={value:a,getSnapshot:r};return u.queue=f,ly(Xm.bind(null,o,f,e),[e]),o.flags|=2048,ws(9,uu(),Gm.bind(null,o,f,a,r),null),a},useId:function(){var e=Re(),r=Pt.identifierPrefix;if(Ot){var a=sr,o=ar;a=(o&~(1<<32-Pe(o)-1)).toString(32)+a,r=""+r+"R"+a,a=su++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=Qb++,r=""+r+"r"+a.toString(32)+"";return e.memoizedState=r},useHostTransitionStatus:th,useFormState:ry,useActionState:ry,useOptimistic:function(e){var r=Re();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=eh.bind(null,dt,!0,a),a.dispatch=r,[e,r]},useMemoCache:$f,useCacheRefresh:function(){return Re().memoizedState=nT.bind(null,dt)}},Ny={readContext:we,use:ou,useCallback:gy,useContext:we,useEffect:uy,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:fy,useMemo:my,useReducer:lu,useRef:oy,useState:function(){return lu(ur)},useDebugValue:Qf,useDeferredValue:function(e,r){var a=re();return yy(a,Bt.memoizedState,e,r)},useTransition:function(){var e=lu(ur)[0],r=re().memoizedState;return[typeof e=="boolean"?e:Bo(e),r]},useSyncExternalStore:Ym,useId:by,useHostTransitionStatus:th,useFormState:iy,useActionState:iy,useOptimistic:function(e,r){var a=re();return Qm(a,Bt,e,r)},useMemoCache:$f,useCacheRefresh:Ty},iT={readContext:we,use:ou,useCallback:gy,useContext:we,useEffect:uy,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:fy,useMemo:my,useReducer:Xf,useRef:oy,useState:function(){return Xf(ur)},useDebugValue:Qf,useDeferredValue:function(e,r){var a=re();return Bt===null?_f(a,e,r):yy(a,Bt.memoizedState,e,r)},useTransition:function(){var e=Xf(ur)[0],r=re().memoizedState;return[typeof e=="boolean"?e:Bo(e),r]},useSyncExternalStore:Ym,useId:by,useHostTransitionStatus:th,useFormState:sy,useActionState:sy,useOptimistic:function(e,r){var a=re();return Bt!==null?Qm(a,Bt,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:$f,useCacheRefresh:Ty},As=null,Uo=0;function du(e){var r=Uo;return Uo+=1,As===null&&(As=[]),Lm(As,e,r)}function Lo(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function gu(e,r){throw r.$$typeof===E?Error(i(525)):(e=Object.prototype.toString.call(r),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function Dy(e){var r=e._init;return r(e._payload)}function Oy(e){function r(N,A){if(e){var C=N.deletions;C===null?(N.deletions=[A],N.flags|=16):C.push(A)}}function a(N,A){if(!e)return null;for(;A!==null;)r(N,A),A=A.sibling;return null}function o(N){for(var A=new Map;N!==null;)N.key!==null?A.set(N.key,N):A.set(N.index,N),N=N.sibling;return A}function u(N,A){return N=ir(N,A),N.index=0,N.sibling=null,N}function f(N,A,C){return N.index=C,e?(C=N.alternate,C!==null?(C=C.index,C<A?(N.flags|=67108866,A):C):(N.flags|=67108866,A)):(N.flags|=1048576,A)}function m(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function S(N,A,C,J){return A===null||A.tag!==6?(A=wf(C,N.mode,J),A.return=N,A):(A=u(A,C),A.return=N,A)}function T(N,A,C,J){var F=C.type;return F===U?M(N,A,C.props.children,J,C.key):A!==null&&(A.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===At&&Dy(F)===A.type)?(A=u(A,C.props),Lo(A,C),A.return=N,A):(A=Zl(C.type,C.key,C.props,null,N.mode,J),Lo(A,C),A.return=N,A)}function R(N,A,C,J){return A===null||A.tag!==4||A.stateNode.containerInfo!==C.containerInfo||A.stateNode.implementation!==C.implementation?(A=Af(C,N.mode,J),A.return=N,A):(A=u(A,C.children||[]),A.return=N,A)}function M(N,A,C,J,F){return A===null||A.tag!==7?(A=Ra(C,N.mode,J,F),A.return=N,A):(A=u(A,C),A.return=N,A)}function q(N,A,C){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=wf(""+A,N.mode,C),A.return=N,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case O:return C=Zl(A.type,A.key,A.props,null,N.mode,C),Lo(C,A),C.return=N,C;case k:return A=Af(A,N.mode,C),A.return=N,A;case At:var J=A._init;return A=J(A._payload),q(N,A,C)}if(be(A)||Qt(A))return A=Ra(A,N.mode,C,null),A.return=N,A;if(typeof A.then=="function")return q(N,du(A),C);if(A.$$typeof===ct)return q(N,tu(N,A),C);gu(N,A)}return null}function I(N,A,C,J){var F=A!==null?A.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return F!==null?null:S(N,A,""+C,J);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case O:return C.key===F?T(N,A,C,J):null;case k:return C.key===F?R(N,A,C,J):null;case At:return F=C._init,C=F(C._payload),I(N,A,C,J)}if(be(C)||Qt(C))return F!==null?null:M(N,A,C,J,null);if(typeof C.then=="function")return I(N,A,du(C),J);if(C.$$typeof===ct)return I(N,A,tu(N,C),J);gu(N,C)}return null}function B(N,A,C,J,F){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return N=N.get(C)||null,S(A,N,""+J,F);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case O:return N=N.get(J.key===null?C:J.key)||null,T(A,N,J,F);case k:return N=N.get(J.key===null?C:J.key)||null,R(A,N,J,F);case At:var gt=J._init;return J=gt(J._payload),B(N,A,C,J,F)}if(be(J)||Qt(J))return N=N.get(C)||null,M(A,N,J,F,null);if(typeof J.then=="function")return B(N,A,C,du(J),F);if(J.$$typeof===ct)return B(N,A,C,tu(A,J),F);gu(A,J)}return null}function ot(N,A,C,J){for(var F=null,gt=null,Q=A,at=A=0,he=null;Q!==null&&at<C.length;at++){Q.index>at?(he=Q,Q=null):he=Q.sibling;var Dt=I(N,Q,C[at],J);if(Dt===null){Q===null&&(Q=he);break}e&&Q&&Dt.alternate===null&&r(N,Q),A=f(Dt,A,at),gt===null?F=Dt:gt.sibling=Dt,gt=Dt,Q=he}if(at===C.length)return a(N,Q),Ot&&Ba(N,at),F;if(Q===null){for(;at<C.length;at++)Q=q(N,C[at],J),Q!==null&&(A=f(Q,A,at),gt===null?F=Q:gt.sibling=Q,gt=Q);return Ot&&Ba(N,at),F}for(Q=o(Q);at<C.length;at++)he=B(Q,N,at,C[at],J),he!==null&&(e&&he.alternate!==null&&Q.delete(he.key===null?at:he.key),A=f(he,A,at),gt===null?F=he:gt.sibling=he,gt=he);return e&&Q.forEach(function(da){return r(N,da)}),Ot&&Ba(N,at),F}function it(N,A,C,J){if(C==null)throw Error(i(151));for(var F=null,gt=null,Q=A,at=A=0,he=null,Dt=C.next();Q!==null&&!Dt.done;at++,Dt=C.next()){Q.index>at?(he=Q,Q=null):he=Q.sibling;var da=I(N,Q,Dt.value,J);if(da===null){Q===null&&(Q=he);break}e&&Q&&da.alternate===null&&r(N,Q),A=f(da,A,at),gt===null?F=da:gt.sibling=da,gt=da,Q=he}if(Dt.done)return a(N,Q),Ot&&Ba(N,at),F;if(Q===null){for(;!Dt.done;at++,Dt=C.next())Dt=q(N,Dt.value,J),Dt!==null&&(A=f(Dt,A,at),gt===null?F=Dt:gt.sibling=Dt,gt=Dt);return Ot&&Ba(N,at),F}for(Q=o(Q);!Dt.done;at++,Dt=C.next())Dt=B(Q,N,at,Dt.value,J),Dt!==null&&(e&&Dt.alternate!==null&&Q.delete(Dt.key===null?at:Dt.key),A=f(Dt,A,at),gt===null?F=Dt:gt.sibling=Dt,gt=Dt);return e&&Q.forEach(function(aw){return r(N,aw)}),Ot&&Ba(N,at),F}function Mt(N,A,C,J){if(typeof C=="object"&&C!==null&&C.type===U&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case O:t:{for(var F=C.key;A!==null;){if(A.key===F){if(F=C.type,F===U){if(A.tag===7){a(N,A.sibling),J=u(A,C.props.children),J.return=N,N=J;break t}}else if(A.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===At&&Dy(F)===A.type){a(N,A.sibling),J=u(A,C.props),Lo(J,C),J.return=N,N=J;break t}a(N,A);break}else r(N,A);A=A.sibling}C.type===U?(J=Ra(C.props.children,N.mode,J,C.key),J.return=N,N=J):(J=Zl(C.type,C.key,C.props,null,N.mode,J),Lo(J,C),J.return=N,N=J)}return m(N);case k:t:{for(F=C.key;A!==null;){if(A.key===F)if(A.tag===4&&A.stateNode.containerInfo===C.containerInfo&&A.stateNode.implementation===C.implementation){a(N,A.sibling),J=u(A,C.children||[]),J.return=N,N=J;break t}else{a(N,A);break}else r(N,A);A=A.sibling}J=Af(C,N.mode,J),J.return=N,N=J}return m(N);case At:return F=C._init,C=F(C._payload),Mt(N,A,C,J)}if(be(C))return ot(N,A,C,J);if(Qt(C)){if(F=Qt(C),typeof F!="function")throw Error(i(150));return C=F.call(C),it(N,A,C,J)}if(typeof C.then=="function")return Mt(N,A,du(C),J);if(C.$$typeof===ct)return Mt(N,A,tu(N,C),J);gu(N,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,A!==null&&A.tag===6?(a(N,A.sibling),J=u(A,C),J.return=N,N=J):(a(N,A),J=wf(C,N.mode,J),J.return=N,N=J),m(N)):a(N,A)}return function(N,A,C,J){try{Uo=0;var F=Mt(N,A,C,J);return As=null,F}catch(Q){if(Q===Do||Q===nu)throw Q;var gt=He(29,Q,null,N.mode);return gt.lanes=J,gt.return=N,gt}finally{}}}var Es=Oy(!0),ky=Oy(!1),sn=P(null),Jn=null;function _i(e){var r=e.alternate;Y(oe,oe.current&1),Y(sn,e),Jn===null&&(r===null||Ss.current!==null||r.memoizedState!==null)&&(Jn=e)}function Cy(e){if(e.tag===22){if(Y(oe,oe.current),Y(sn,e),Jn===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(Jn=e)}}else Wi()}function Wi(){Y(oe,oe.current),Y(sn,sn.current)}function cr(e){X(sn),Jn===e&&(Jn=null),X(oe)}var oe=P(0);function mu(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Yh(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function nh(e,r,a,o){r=e.memoizedState,a=a(o,r),a=a==null?r:b({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var rh={enqueueSetState:function(e,r,a){e=e._reactInternals;var o=$e(),u=Fi(o);u.payload=r,a!=null&&(u.callback=a),r=Zi(e,u,o),r!==null&&(Ge(r,e,o),ko(r,e,o))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var o=$e(),u=Fi(o);u.tag=1,u.payload=r,a!=null&&(u.callback=a),r=Zi(e,u,o),r!==null&&(Ge(r,e,o),ko(r,e,o))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=$e(),o=Fi(a);o.tag=2,r!=null&&(o.callback=r),r=Zi(e,o,a),r!==null&&(Ge(r,e,a),ko(r,e,a))}};function Ry(e,r,a,o,u,f,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,m):r.prototype&&r.prototype.isPureReactComponent?!So(a,o)||!So(u,f):!0}function Iy(e,r,a,o){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,o),r.state!==e&&rh.enqueueReplaceState(r,r.state,null)}function Pa(e,r){var a=r;if("ref"in r){a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}if(e=e.defaultProps){a===r&&(a=b({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}var yu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function By(e){yu(e)}function zy(e){console.error(e)}function My(e){yu(e)}function pu(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function Uy(e,r,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function ih(e,r,a){return a=Fi(a),a.tag=3,a.payload={element:null},a.callback=function(){pu(e,r)},a}function Ly(e){return e=Fi(e),e.tag=3,e}function Jy(e,r,a,o){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=o.value;e.payload=function(){return u(f)},e.callback=function(){Uy(r,a,o)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Uy(r,a,o),typeof u!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function aT(e,r,a,o,u){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=a.alternate,r!==null&&Eo(r,a,u,!0),a=sn.current,a!==null){switch(a.tag){case 13:return Jn===null?Oh():a.alternate===null&&Xt===0&&(Xt=3),a.flags&=-257,a.flags|=65536,a.lanes=u,o===Bf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([o]):r.add(o),Ch(e,o,u)),!1;case 22:return a.flags|=65536,o===Bf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([o]):a.add(o)),Ch(e,o,u)),!1}throw Error(i(435,a.tag))}return Ch(e,o,u),Oh(),!1}if(Ot)return r=sn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=u,o!==Nf&&(e=Error(i(422),{cause:o}),Ao(en(e,a)))):(o!==Nf&&(r=Error(i(423),{cause:o}),Ao(en(r,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,o=en(o,a),u=ih(e.stateNode,o,u),Uf(e,u),Xt!==4&&(Xt=2)),!1;var f=Error(i(520),{cause:o});if(f=en(f,a),jo===null?jo=[f]:jo.push(f),Xt!==4&&(Xt=2),r===null)return!0;o=en(o,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=ih(a.stateNode,o,e),Uf(a,e),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(aa===null||!aa.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Ly(u),Jy(u,e,a,o),Uf(a,u),!1}a=a.return}while(a!==null);return!1}var qy=Error(i(461)),ce=!1;function ge(e,r,a,o){r.child=e===null?ky(r,null,a,o):Es(r,e.child,a,o)}function Py(e,r,a,o,u){a=a.render;var f=r.ref;if("ref"in o){var m={};for(var S in o)S!=="ref"&&(m[S]=o[S])}else m=o;return La(r),o=Vf(e,r,a,m,f,u),S=Hf(),e!==null&&!ce?(Kf(e,r,u),fr(e,r,u)):(Ot&&S&&Ef(r),r.flags|=1,ge(e,r,o,u),r.child)}function Vy(e,r,a,o,u){if(e===null){var f=a.type;return typeof f=="function"&&!Tf(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,Hy(e,r,f,o,u)):(e=Zl(a.type,null,o,r,r.mode,u),e.ref=r.ref,e.return=r,r.child=e)}if(f=e.child,!hh(e,u)){var m=f.memoizedProps;if(a=a.compare,a=a!==null?a:So,a(m,o)&&e.ref===r.ref)return fr(e,r,u)}return r.flags|=1,e=ir(f,o),e.ref=r.ref,e.return=r,r.child=e}function Hy(e,r,a,o,u){if(e!==null){var f=e.memoizedProps;if(So(f,o)&&e.ref===r.ref)if(ce=!1,r.pendingProps=o=f,hh(e,u))(e.flags&131072)!==0&&(ce=!0);else return r.lanes=e.lanes,fr(e,r,u)}return ah(e,r,a,o,u)}function Ky(e,r,a){var o=r.pendingProps,u=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,e!==null){for(u=r.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;r.childLanes=f&~o}else r.childLanes=0,r.child=null;return jy(e,r,o,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&eu(r,f!==null?f.cachePool:null),f!==null?Hm(r,f):Jf(),Cy(r);else return r.lanes=r.childLanes=536870912,jy(e,r,f!==null?f.baseLanes|a:a,a)}else f!==null?(eu(r,f.cachePool),Hm(r,f),Wi(),r.memoizedState=null):(e!==null&&eu(r,null),Jf(),Wi());return ge(e,r,u,a),r.child}function jy(e,r,a,o){var u=If();return u=u===null?null:{parent:se._currentValue,pool:u},r.memoizedState={baseLanes:a,cachePool:u},e!==null&&eu(r,null),Jf(),Cy(r),e!==null&&Eo(e,r,o,!0),null}function vu(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function ah(e,r,a,o,u){return La(r),a=Vf(e,r,a,o,void 0,u),o=Hf(),e!==null&&!ce?(Kf(e,r,u),fr(e,r,u)):(Ot&&o&&Ef(r),r.flags|=1,ge(e,r,a,u),r.child)}function Yy(e,r,a,o,u,f){return La(r),r.updateQueue=null,a=jm(r,o,a,u),Km(e),o=Hf(),e!==null&&!ce?(Kf(e,r,f),fr(e,r,f)):(Ot&&o&&Ef(r),r.flags|=1,ge(e,r,a,f),r.child)}function $y(e,r,a,o,u){if(La(r),r.stateNode===null){var f=gs,m=a.contextType;typeof m=="object"&&m!==null&&(f=we(m)),f=new a(o,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rh,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=o,f.state=r.memoizedState,f.refs={},zf(r),m=a.contextType,f.context=typeof m=="object"&&m!==null?we(m):gs,f.state=r.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(nh(r,a,m,o),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(m=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),m!==f.state&&rh.enqueueReplaceState(f,f.state,null),Ro(r,o,f,u),Co(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(e===null){f=r.stateNode;var S=r.memoizedProps,T=Pa(a,S);f.props=T;var R=f.context,M=a.contextType;m=gs,typeof M=="object"&&M!==null&&(m=we(M));var q=a.getDerivedStateFromProps;M=typeof q=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,M||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||R!==m)&&Iy(r,f,o,m),Xi=!1;var I=r.memoizedState;f.state=I,Ro(r,o,f,u),Co(),R=r.memoizedState,S||I!==R||Xi?(typeof q=="function"&&(nh(r,a,q,o),R=r.memoizedState),(T=Xi||Ry(r,a,T,o,I,R,m))?(M||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=R),f.props=o,f.state=R,f.context=m,o=T):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{f=r.stateNode,Mf(e,r),m=r.memoizedProps,M=Pa(a,m),f.props=M,q=r.pendingProps,I=f.context,R=a.contextType,T=gs,typeof R=="object"&&R!==null&&(T=we(R)),S=a.getDerivedStateFromProps,(R=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==q||I!==T)&&Iy(r,f,o,T),Xi=!1,I=r.memoizedState,f.state=I,Ro(r,o,f,u),Co();var B=r.memoizedState;m!==q||I!==B||Xi||e!==null&&e.dependencies!==null&&Wl(e.dependencies)?(typeof S=="function"&&(nh(r,a,S,o),B=r.memoizedState),(M=Xi||Ry(r,a,M,o,I,B,T)||e!==null&&e.dependencies!==null&&Wl(e.dependencies))?(R||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,T),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,T)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=B),f.props=o,f.state=B,f.context=T,o=M):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(r.flags|=1024),o=!1)}return f=o,vu(e,r),o=(r.flags&128)!==0,f||o?(f=r.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,e!==null&&o?(r.child=Es(r,e.child,null,u),r.child=Es(r,null,a,u)):ge(e,r,a,u),r.memoizedState=f.state,e=r.child):e=fr(e,r,u),e}function Gy(e,r,a,o){return wo(),r.flags|=256,ge(e,r,a,o),r.child}var sh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oh(e){return{baseLanes:e,cachePool:zm()}}function lh(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=on),e}function Xy(e,r,a){var o=r.pendingProps,u=!1,f=(r.flags&128)!==0,m;if((m=f)||(m=e!==null&&e.memoizedState===null?!1:(oe.current&2)!==0),m&&(u=!0,r.flags&=-129),m=(r.flags&32)!==0,r.flags&=-33,e===null){if(Ot){if(u?_i(r):Wi(),Ot){var S=Gt,T;if(T=S){t:{for(T=S,S=Ln;T.nodeType!==8;){if(!S){S=null;break t}if(T=Nn(T.nextSibling),T===null){S=null;break t}}S=T}S!==null?(r.memoizedState={dehydrated:S,treeContext:Ia!==null?{id:ar,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},T=He(18,null,null,0),T.stateNode=S,T.return=r,r.child=T,De=r,Gt=null,T=!0):T=!1}T||Ma(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Yh(S)?r.lanes=32:r.lanes=536870912,null;cr(r)}return S=o.children,o=o.fallback,u?(Wi(),u=r.mode,S=Su({mode:"hidden",children:S},u),o=Ra(o,u,a,null),S.return=r,o.return=r,S.sibling=o,r.child=S,u=r.child,u.memoizedState=oh(a),u.childLanes=lh(e,m,a),r.memoizedState=sh,o):(_i(r),uh(r,S))}if(T=e.memoizedState,T!==null&&(S=T.dehydrated,S!==null)){if(f)r.flags&256?(_i(r),r.flags&=-257,r=ch(e,r,a)):r.memoizedState!==null?(Wi(),r.child=e.child,r.flags|=128,r=null):(Wi(),u=o.fallback,S=r.mode,o=Su({mode:"visible",children:o.children},S),u=Ra(u,S,a,null),u.flags|=2,o.return=r,u.return=r,o.sibling=u,r.child=o,Es(r,e.child,null,a),o=r.child,o.memoizedState=oh(a),o.childLanes=lh(e,m,a),r.memoizedState=sh,r=u);else if(_i(r),Yh(S)){if(m=S.nextSibling&&S.nextSibling.dataset,m)var R=m.dgst;m=R,o=Error(i(419)),o.stack="",o.digest=m,Ao({value:o,source:null,stack:null}),r=ch(e,r,a)}else if(ce||Eo(e,r,a,!1),m=(a&e.childLanes)!==0,ce||m){if(m=Pt,m!==null&&(o=a&-a,o=(o&42)!==0?1:Yc(o),o=(o&(m.suspendedLanes|a))!==0?0:o,o!==0&&o!==T.retryLane))throw T.retryLane=o,ds(e,o),Ge(m,e,o),qy;S.data==="$?"||Oh(),r=ch(e,r,a)}else S.data==="$?"?(r.flags|=192,r.child=e.child,r=null):(e=T.treeContext,Gt=Nn(S.nextSibling),De=r,Ot=!0,za=null,Ln=!1,e!==null&&(rn[an++]=ar,rn[an++]=sr,rn[an++]=Ia,ar=e.id,sr=e.overflow,Ia=r),r=uh(r,o.children),r.flags|=4096);return r}return u?(Wi(),u=o.fallback,S=r.mode,T=e.child,R=T.sibling,o=ir(T,{mode:"hidden",children:o.children}),o.subtreeFlags=T.subtreeFlags&65011712,R!==null?u=ir(R,u):(u=Ra(u,S,a,null),u.flags|=2),u.return=r,o.return=r,o.sibling=u,r.child=o,o=u,u=r.child,S=e.child.memoizedState,S===null?S=oh(a):(T=S.cachePool,T!==null?(R=se._currentValue,T=T.parent!==R?{parent:R,pool:R}:T):T=zm(),S={baseLanes:S.baseLanes|a,cachePool:T}),u.memoizedState=S,u.childLanes=lh(e,m,a),r.memoizedState=sh,o):(_i(r),a=e.child,e=a.sibling,a=ir(a,{mode:"visible",children:o.children}),a.return=r,a.sibling=null,e!==null&&(m=r.deletions,m===null?(r.deletions=[e],r.flags|=16):m.push(e)),r.child=a,r.memoizedState=null,a)}function uh(e,r){return r=Su({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Su(e,r){return e=He(22,e,null,r),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ch(e,r,a){return Es(r,e.child,null,a),e=uh(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Fy(e,r,a){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r),Of(e.return,r,a)}function fh(e,r,a,o,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:u}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=u)}function Zy(e,r,a){var o=r.pendingProps,u=o.revealOrder,f=o.tail;if(ge(e,r,o.children,a),o=oe.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fy(e,a,r);else if(e.tag===19)Fy(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Y(oe,o),u){case"forwards":for(a=r.child,u=null;a!==null;)e=a.alternate,e!==null&&mu(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=r.child,r.child=null):(u=a.sibling,a.sibling=null),fh(r,!1,u,a,f);break;case"backwards":for(a=null,u=r.child,r.child=null;u!==null;){if(e=u.alternate,e!==null&&mu(e)===null){r.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}fh(r,!0,a,null,f);break;case"together":fh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function fr(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),ia|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(Eo(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(i(153));if(r.child!==null){for(e=r.child,a=ir(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=ir(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function hh(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&Wl(e)))}function sT(e,r,a){switch(r.tag){case 3:Ht(r,r.stateNode.containerInfo),Gi(r,se,e.memoizedState.cache),wo();break;case 27:case 5:Pc(r);break;case 4:Ht(r,r.stateNode.containerInfo);break;case 10:Gi(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(_i(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Xy(e,r,a):(_i(r),e=fr(e,r,a),e!==null?e.sibling:null);_i(r);break;case 19:var u=(e.flags&128)!==0;if(o=(a&r.childLanes)!==0,o||(Eo(e,r,a,!1),o=(a&r.childLanes)!==0),u){if(o)return Zy(e,r,a);r.flags|=128}if(u=r.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Y(oe,oe.current),o)break;return null;case 22:case 23:return r.lanes=0,Ky(e,r,a);case 24:Gi(r,se,e.memoizedState.cache)}return fr(e,r,a)}function Qy(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)ce=!0;else{if(!hh(e,a)&&(r.flags&128)===0)return ce=!1,sT(e,r,a);ce=(e.flags&131072)!==0}else ce=!1,Ot&&(r.flags&1048576)!==0&&Dm(r,_l,r.index);switch(r.lanes=0,r.tag){case 16:t:{e=r.pendingProps;var o=r.elementType,u=o._init;if(o=u(o._payload),r.type=o,typeof o=="function")Tf(o)?(e=Pa(o,e),r.tag=1,r=$y(null,r,o,e,a)):(r.tag=0,r=ah(null,r,o,e,a));else{if(o!=null){if(u=o.$$typeof,u===mt){r.tag=11,r=Py(null,r,o,e,a);break t}else if(u===yt){r.tag=14,r=Vy(null,r,o,e,a);break t}}throw r=xa(o)||o,Error(i(306,r,""))}}return r;case 0:return ah(e,r,r.type,r.pendingProps,a);case 1:return o=r.type,u=Pa(o,r.pendingProps),$y(e,r,o,u,a);case 3:t:{if(Ht(r,r.stateNode.containerInfo),e===null)throw Error(i(387));o=r.pendingProps;var f=r.memoizedState;u=f.element,Mf(e,r),Ro(r,o,null,a);var m=r.memoizedState;if(o=m.cache,Gi(r,se,o),o!==f.cache&&kf(r,[se],a,!0),Co(),o=m.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:m.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Gy(e,r,o,a);break t}else if(o!==u){u=en(Error(i(424)),r),Ao(u),r=Gy(e,r,o,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Gt=Nn(e.firstChild),De=r,Ot=!0,za=null,Ln=!0,a=ky(r,null,o,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(wo(),o===u){r=fr(e,r,a);break t}ge(e,r,o,a)}r=r.child}return r;case 26:return vu(e,r),e===null?(a=ev(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ot||(a=r.type,e=r.pendingProps,o=Bu(ut.current).createElement(a),o[Te]=r,o[ke]=e,ye(o,a,e),ue(o),r.stateNode=o):r.memoizedState=ev(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Pc(r),e===null&&Ot&&(o=r.stateNode=_p(r.type,r.pendingProps,ut.current),De=r,Ln=!0,u=Gt,la(r.type)?($h=u,Gt=Nn(o.firstChild)):Gt=u),ge(e,r,r.pendingProps.children,a),vu(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Ot&&((u=o=Gt)&&(o=zT(o,r.type,r.pendingProps,Ln),o!==null?(r.stateNode=o,De=r,Gt=Nn(o.firstChild),Ln=!1,u=!0):u=!1),u||Ma(r)),Pc(r),u=r.type,f=r.pendingProps,m=e!==null?e.memoizedProps:null,o=f.children,Hh(u,f)?o=null:m!==null&&Hh(u,m)&&(r.flags|=32),r.memoizedState!==null&&(u=Vf(e,r,_b,null,null,a),Wo._currentValue=u),vu(e,r),ge(e,r,o,a),r.child;case 6:return e===null&&Ot&&((e=a=Gt)&&(a=MT(a,r.pendingProps,Ln),a!==null?(r.stateNode=a,De=r,Gt=null,e=!0):e=!1),e||Ma(r)),null;case 13:return Xy(e,r,a);case 4:return Ht(r,r.stateNode.containerInfo),o=r.pendingProps,e===null?r.child=Es(r,null,o,a):ge(e,r,o,a),r.child;case 11:return Py(e,r,r.type,r.pendingProps,a);case 7:return ge(e,r,r.pendingProps,a),r.child;case 8:return ge(e,r,r.pendingProps.children,a),r.child;case 12:return ge(e,r,r.pendingProps.children,a),r.child;case 10:return o=r.pendingProps,Gi(r,r.type,o.value),ge(e,r,o.children,a),r.child;case 9:return u=r.type._context,o=r.pendingProps.children,La(r),u=we(u),o=o(u),r.flags|=1,ge(e,r,o,a),r.child;case 14:return Vy(e,r,r.type,r.pendingProps,a);case 15:return Hy(e,r,r.type,r.pendingProps,a);case 19:return Zy(e,r,a);case 31:return o=r.pendingProps,a=r.mode,o={mode:o.mode,children:o.children},e===null?(a=Su(o,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=ir(e.child,o),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Ky(e,r,a);case 24:return La(r),o=we(se),e===null?(u=If(),u===null&&(u=Pt,f=Cf(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),r.memoizedState={parent:o,cache:u},zf(r),Gi(r,se,u)):((e.lanes&a)!==0&&(Mf(e,r),Ro(r,null,null,a),Co()),u=e.memoizedState,f=r.memoizedState,u.parent!==o?(u={parent:o,cache:o},r.memoizedState=u,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=u),Gi(r,se,o)):(o=f.cache,Gi(r,se,o),o!==u.cache&&kf(r,[se],a,!0))),ge(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function hr(e){e.flags|=4}function _y(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!sv(r)){if(r=sn.current,r!==null&&((wt&4194048)===wt?Jn!==null:(wt&62914560)!==wt&&(wt&536870912)===0||r!==Jn))throw Oo=Bf,Mm;e.flags|=8192}}function bu(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Cg():536870912,e.lanes|=r,Os|=r)}function Jo(e,r){if(!Ot)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Yt(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(r)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=a,r}function oT(e,r,a){var o=r.pendingProps;switch(xf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(r),null;case 1:return Yt(r),null;case 3:return a=r.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),lr(se),Ki(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(To(r)?hr(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Cm())),Yt(r),null;case 26:return a=r.memoizedState,e===null?(hr(r),a!==null?(Yt(r),_y(r,a)):(Yt(r),r.flags&=-16777217)):a?a!==e.memoizedState?(hr(r),Yt(r),_y(r,a)):(Yt(r),r.flags&=-16777217):(e.memoizedProps!==o&&hr(r),Yt(r),r.flags&=-16777217),null;case 27:Rl(r),a=ut.current;var u=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==o&&hr(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return Yt(r),null}e=rt.current,To(r)?Om(r):(e=_p(u,o,a),r.stateNode=e,hr(r))}return Yt(r),null;case 5:if(Rl(r),a=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==o&&hr(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return Yt(r),null}if(e=rt.current,To(r))Om(r);else{switch(u=Bu(ut.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?u.createElement("select",{is:o.is}):u.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?u.createElement(a,{is:o.is}):u.createElement(a)}}e[Te]=r,e[ke]=o;t:for(u=r.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break t;for(;u.sibling===null;){if(u.return===null||u.return===r)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}r.stateNode=e;t:switch(ye(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&hr(r)}}return Yt(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==o&&hr(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(i(166));if(e=ut.current,To(r)){if(e=r.stateNode,a=r.memoizedProps,o=null,u=De,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}e[Te]=r,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Yp(e.nodeValue,a)),e||Ma(r)}else e=Bu(e).createTextNode(o),e[Te]=r,r.stateNode=e}return Yt(r),null;case 13:if(o=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=To(r),o!==null&&o.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=r.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[Te]=r}else wo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Yt(r),u=!1}else u=Cm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return r.flags&256?(cr(r),r):(cr(r),null)}if(cr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=r.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048)}return a!==e&&a&&(r.child.flags|=8192),bu(r,r.updateQueue),Yt(r),null;case 4:return Ki(),e===null&&Lh(r.stateNode.containerInfo),Yt(r),null;case 10:return lr(r.type),Yt(r),null;case 19:if(X(oe),u=r.memoizedState,u===null)return Yt(r),null;if(o=(r.flags&128)!==0,f=u.rendering,f===null)if(o)Jo(u,!1);else{if(Xt!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(f=mu(e),f!==null){for(r.flags|=128,Jo(u,!1),e=f.updateQueue,r.updateQueue=e,bu(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)Nm(a,e),a=a.sibling;return Y(oe,oe.current&1|2),r.child}e=e.sibling}u.tail!==null&&Un()>Au&&(r.flags|=128,o=!0,Jo(u,!1),r.lanes=4194304)}else{if(!o)if(e=mu(f),e!==null){if(r.flags|=128,o=!0,e=e.updateQueue,r.updateQueue=e,bu(r,e),Jo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Ot)return Yt(r),null}else 2*Un()-u.renderingStartTime>Au&&a!==536870912&&(r.flags|=128,o=!0,Jo(u,!1),r.lanes=4194304);u.isBackwards?(f.sibling=r.child,r.child=f):(e=u.last,e!==null?e.sibling=f:r.child=f,u.last=f)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=Un(),r.sibling=null,e=oe.current,Y(oe,o?e&1|2:e&1),r):(Yt(r),null);case 22:case 23:return cr(r),qf(),o=r.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(a&536870912)!==0&&(r.flags&128)===0&&(Yt(r),r.subtreeFlags&6&&(r.flags|=8192)):Yt(r),a=r.updateQueue,a!==null&&bu(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048),e!==null&&X(Ja),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),lr(se),Yt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function lT(e,r){switch(xf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return lr(se),Ki(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return Rl(r),null;case 13:if(cr(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(i(340));wo()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return X(oe),null;case 4:return Ki(),null;case 10:return lr(r.type),null;case 22:case 23:return cr(r),qf(),e!==null&&X(Ja),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return lr(se),null;case 25:return null;default:return null}}function Wy(e,r){switch(xf(r),r.tag){case 3:lr(se),Ki();break;case 26:case 27:case 5:Rl(r);break;case 4:Ki();break;case 13:cr(r);break;case 19:X(oe);break;case 10:lr(r.type);break;case 22:case 23:cr(r),qf(),e!==null&&X(Ja);break;case 24:lr(se)}}function qo(e,r){try{var a=r.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var u=o.next;a=u;do{if((a.tag&e)===e){o=void 0;var f=a.create,m=a.inst;o=f(),m.destroy=o}a=a.next}while(a!==u)}}catch(S){Jt(r,r.return,S)}}function ta(e,r,a){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&e)===e){var m=o.inst,S=m.destroy;if(S!==void 0){m.destroy=void 0,u=r;var T=a,R=S;try{R()}catch(M){Jt(u,T,M)}}}o=o.next}while(o!==f)}}catch(M){Jt(r,r.return,M)}}function tp(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{Vm(r,a)}catch(o){Jt(e,e.return,o)}}}function ep(e,r,a){a.props=Pa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Jt(e,r,o)}}function Po(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(u){Jt(e,r,u)}}function qn(e,r){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(u){Jt(e,r,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Jt(e,r,u)}else a.current=null}function np(e){var r=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(u){Jt(e,e.return,u)}}function dh(e,r,a){try{var o=e.stateNode;kT(o,e.type,a,r),o[ke]=r}catch(u){Jt(e,e.return,u)}}function rp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&la(e.type)||e.tag===4}function gh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||rp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&la(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mh(e,r,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Iu));else if(o!==4&&(o===27&&la(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(mh(e,r,a),e=e.sibling;e!==null;)mh(e,r,a),e=e.sibling}function Tu(e,r,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(o!==4&&(o===27&&la(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Tu(e,r,a),e=e.sibling;e!==null;)Tu(e,r,a),e=e.sibling}function ip(e){var r=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,u=r.attributes;u.length;)r.removeAttributeNode(u[0]);ye(r,o,a),r[Te]=e,r[ke]=a}catch(f){Jt(e,e.return,f)}}var dr=!1,Wt=!1,yh=!1,ap=typeof WeakSet=="function"?WeakSet:Set,fe=null;function uT(e,r){if(e=e.containerInfo,Ph=qu,e=ym(e),gf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var u=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var m=0,S=-1,T=-1,R=0,M=0,q=e,I=null;e:for(;;){for(var B;q!==a||u!==0&&q.nodeType!==3||(S=m+u),q!==f||o!==0&&q.nodeType!==3||(T=m+o),q.nodeType===3&&(m+=q.nodeValue.length),(B=q.firstChild)!==null;)I=q,q=B;for(;;){if(q===e)break e;if(I===a&&++R===u&&(S=m),I===f&&++M===o&&(T=m),(B=q.nextSibling)!==null)break;q=I,I=q.parentNode}q=B}a=S===-1||T===-1?null:{start:S,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vh={focusedElem:e,selectionRange:a},qu=!1,fe=r;fe!==null;)if(r=fe,e=r.child,(r.subtreeFlags&1024)!==0&&e!==null)e.return=r,fe=e;else for(;fe!==null;){switch(r=fe,f=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=r,u=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=Pa(a.type,u,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(it){Jt(a,a.return,it)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)jh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=r.sibling,e!==null){e.return=r.return,fe=e;break}fe=r.return}}function sp(e,r,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ea(e,a),o&4&&qo(5,a);break;case 1:if(ea(e,a),o&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(m){Jt(a,a.return,m)}else{var u=Pa(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(u,r,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Jt(a,a.return,m)}}o&64&&tp(a),o&512&&Po(a,a.return);break;case 3:if(ea(e,a),o&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Vm(e,r)}catch(m){Jt(a,a.return,m)}}break;case 27:r===null&&o&4&&ip(a);case 26:case 5:ea(e,a),r===null&&o&4&&np(a),o&512&&Po(a,a.return);break;case 12:ea(e,a);break;case 13:ea(e,a),o&4&&up(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=vT.bind(null,a),UT(e,a))));break;case 22:if(o=a.memoizedState!==null||dr,!o){r=r!==null&&r.memoizedState!==null||Wt,u=dr;var f=Wt;dr=o,(Wt=r)&&!f?na(e,a,(a.subtreeFlags&8772)!==0):ea(e,a),dr=u,Wt=f}break;case 30:break;default:ea(e,a)}}function op(e){var r=e.alternate;r!==null&&(e.alternate=null,op(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&Xc(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Kt=null,Ie=!1;function gr(e,r,a){for(a=a.child;a!==null;)lp(e,r,a),a=a.sibling}function lp(e,r,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(so,a)}catch{}switch(a.tag){case 26:Wt||qn(a,r),gr(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Wt||qn(a,r);var o=Kt,u=Ie;la(a.type)&&(Kt=a.stateNode,Ie=!1),gr(e,r,a),Fo(a.stateNode),Kt=o,Ie=u;break;case 5:Wt||qn(a,r);case 6:if(o=Kt,u=Ie,Kt=null,gr(e,r,a),Kt=o,Ie=u,Kt!==null)if(Ie)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(a.stateNode)}catch(f){Jt(a,r,f)}else try{Kt.removeChild(a.stateNode)}catch(f){Jt(a,r,f)}break;case 18:Kt!==null&&(Ie?(e=Kt,Zp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),rl(e)):Zp(Kt,a.stateNode));break;case 4:o=Kt,u=Ie,Kt=a.stateNode.containerInfo,Ie=!0,gr(e,r,a),Kt=o,Ie=u;break;case 0:case 11:case 14:case 15:Wt||ta(2,a,r),Wt||ta(4,a,r),gr(e,r,a);break;case 1:Wt||(qn(a,r),o=a.stateNode,typeof o.componentWillUnmount=="function"&&ep(a,r,o)),gr(e,r,a);break;case 21:gr(e,r,a);break;case 22:Wt=(o=Wt)||a.memoizedState!==null,gr(e,r,a),Wt=o;break;default:gr(e,r,a)}}function up(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{rl(e)}catch(a){Jt(r,r.return,a)}}function cT(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new ap),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new ap),r;default:throw Error(i(435,e.tag))}}function ph(e,r){var a=cT(e);r.forEach(function(o){var u=ST.bind(null,e,o);a.has(o)||(a.add(o),o.then(u,u))})}function Ke(e,r){var a=r.deletions;if(a!==null)for(var o=0;o<a.length;o++){var u=a[o],f=e,m=r,S=m;t:for(;S!==null;){switch(S.tag){case 27:if(la(S.type)){Kt=S.stateNode,Ie=!1;break t}break;case 5:Kt=S.stateNode,Ie=!1;break t;case 3:case 4:Kt=S.stateNode.containerInfo,Ie=!0;break t}S=S.return}if(Kt===null)throw Error(i(160));lp(f,m,u),Kt=null,Ie=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)cp(r,e),r=r.sibling}var xn=null;function cp(e,r){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ke(r,e),je(e),o&4&&(ta(3,e,e.return),qo(3,e),ta(5,e,e.return));break;case 1:Ke(r,e),je(e),o&512&&(Wt||a===null||qn(a,a.return)),o&64&&dr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var u=xn;if(Ke(r,e),je(e),o&512&&(Wt||a===null||qn(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,u=u.ownerDocument||u;e:switch(o){case"title":f=u.getElementsByTagName("title")[0],(!f||f[uo]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(o),u.head.insertBefore(f,u.querySelector("head > title"))),ye(f,o,a),f[Te]=e,ue(f),o=f;break t;case"link":var m=iv("link","href",u).get(o+(a.href||""));if(m){for(var S=0;S<m.length;S++)if(f=m[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(S,1);break e}}f=u.createElement(o),ye(f,o,a),u.head.appendChild(f);break;case"meta":if(m=iv("meta","content",u).get(o+(a.content||""))){for(S=0;S<m.length;S++)if(f=m[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(S,1);break e}}f=u.createElement(o),ye(f,o,a),u.head.appendChild(f);break;default:throw Error(i(468,o))}f[Te]=e,ue(f),o=f}e.stateNode=o}else av(u,e.type,e.stateNode);else e.stateNode=rv(u,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?av(u,e.type,e.stateNode):rv(u,o,e.memoizedProps)):o===null&&e.stateNode!==null&&dh(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ke(r,e),je(e),o&512&&(Wt||a===null||qn(a,a.return)),a!==null&&o&4&&dh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ke(r,e),je(e),o&512&&(Wt||a===null||qn(a,a.return)),e.flags&32){u=e.stateNode;try{ss(u,"")}catch(B){Jt(e,e.return,B)}}o&4&&e.stateNode!=null&&(u=e.memoizedProps,dh(e,u,a!==null?a.memoizedProps:u)),o&1024&&(yh=!0);break;case 6:if(Ke(r,e),je(e),o&4){if(e.stateNode===null)throw Error(i(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){Jt(e,e.return,B)}}break;case 3:if(Uu=null,u=xn,xn=zu(r.containerInfo),Ke(r,e),xn=u,je(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{rl(r.containerInfo)}catch(B){Jt(e,e.return,B)}yh&&(yh=!1,fp(e));break;case 4:o=xn,xn=zu(e.stateNode.containerInfo),Ke(r,e),je(e),xn=o;break;case 12:Ke(r,e),je(e);break;case 13:Ke(r,e),je(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ah=Un()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ph(e,o)));break;case 22:u=e.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,R=dr,M=Wt;if(dr=R||u,Wt=M||T,Ke(r,e),Wt=M,dr=R,je(e),o&8192)t:for(r=e.stateNode,r._visibility=u?r._visibility&-2:r._visibility|1,u&&(a===null||T||dr||Wt||Va(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){T=a=r;try{if(f=T.stateNode,u)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{S=T.stateNode;var q=T.memoizedProps.style,I=q!=null&&q.hasOwnProperty("display")?q.display:null;S.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(B){Jt(T,T.return,B)}}}else if(r.tag===6){if(a===null){T=r;try{T.stateNode.nodeValue=u?"":T.memoizedProps}catch(B){Jt(T,T.return,B)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ph(e,a))));break;case 19:Ke(r,e),je(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ph(e,o)));break;case 30:break;case 21:break;default:Ke(r,e),je(e)}}function je(e){var r=e.flags;if(r&2){try{for(var a,o=e.return;o!==null;){if(rp(o)){a=o;break}o=o.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var u=a.stateNode,f=gh(e);Tu(e,f,u);break;case 5:var m=a.stateNode;a.flags&32&&(ss(m,""),a.flags&=-33);var S=gh(e);Tu(e,S,m);break;case 3:case 4:var T=a.stateNode.containerInfo,R=gh(e);mh(e,R,T);break;default:throw Error(i(161))}}catch(M){Jt(e,e.return,M)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function fp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;fp(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function ea(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)sp(e,r.alternate,r),r=r.sibling}function Va(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:ta(4,r,r.return),Va(r);break;case 1:qn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&ep(r,r.return,a),Va(r);break;case 27:Fo(r.stateNode);case 26:case 5:qn(r,r.return),Va(r);break;case 22:r.memoizedState===null&&Va(r);break;case 30:Va(r);break;default:Va(r)}e=e.sibling}}function na(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,u=e,f=r,m=f.flags;switch(f.tag){case 0:case 11:case 15:na(u,f,a),qo(4,f);break;case 1:if(na(u,f,a),o=f,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(R){Jt(o,o.return,R)}if(o=f,u=o.updateQueue,u!==null){var S=o.stateNode;try{var T=u.shared.hiddenCallbacks;if(T!==null)for(u.shared.hiddenCallbacks=null,u=0;u<T.length;u++)Pm(T[u],S)}catch(R){Jt(o,o.return,R)}}a&&m&64&&tp(f),Po(f,f.return);break;case 27:ip(f);case 26:case 5:na(u,f,a),a&&o===null&&m&4&&np(f),Po(f,f.return);break;case 12:na(u,f,a);break;case 13:na(u,f,a),a&&m&4&&up(u,f);break;case 22:f.memoizedState===null&&na(u,f,a),Po(f,f.return);break;case 30:break;default:na(u,f,a)}r=r.sibling}}function vh(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&xo(a))}function Sh(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&xo(e))}function Pn(e,r,a,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)hp(e,r,a,o),r=r.sibling}function hp(e,r,a,o){var u=r.flags;switch(r.tag){case 0:case 11:case 15:Pn(e,r,a,o),u&2048&&qo(9,r);break;case 1:Pn(e,r,a,o);break;case 3:Pn(e,r,a,o),u&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&xo(e)));break;case 12:if(u&2048){Pn(e,r,a,o),e=r.stateNode;try{var f=r.memoizedProps,m=f.id,S=f.onPostCommit;typeof S=="function"&&S(m,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Jt(r,r.return,T)}}else Pn(e,r,a,o);break;case 13:Pn(e,r,a,o);break;case 23:break;case 22:f=r.stateNode,m=r.alternate,r.memoizedState!==null?f._visibility&2?Pn(e,r,a,o):Vo(e,r):f._visibility&2?Pn(e,r,a,o):(f._visibility|=2,xs(e,r,a,o,(r.subtreeFlags&10256)!==0)),u&2048&&vh(m,r);break;case 24:Pn(e,r,a,o),u&2048&&Sh(r.alternate,r);break;default:Pn(e,r,a,o)}}function xs(e,r,a,o,u){for(u=u&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=e,m=r,S=a,T=o,R=m.flags;switch(m.tag){case 0:case 11:case 15:xs(f,m,S,T,u),qo(8,m);break;case 23:break;case 22:var M=m.stateNode;m.memoizedState!==null?M._visibility&2?xs(f,m,S,T,u):Vo(f,m):(M._visibility|=2,xs(f,m,S,T,u)),u&&R&2048&&vh(m.alternate,m);break;case 24:xs(f,m,S,T,u),u&&R&2048&&Sh(m.alternate,m);break;default:xs(f,m,S,T,u)}r=r.sibling}}function Vo(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,o=r,u=o.flags;switch(o.tag){case 22:Vo(a,o),u&2048&&vh(o.alternate,o);break;case 24:Vo(a,o),u&2048&&Sh(o.alternate,o);break;default:Vo(a,o)}r=r.sibling}}var Ho=8192;function Ns(e){if(e.subtreeFlags&Ho)for(e=e.child;e!==null;)dp(e),e=e.sibling}function dp(e){switch(e.tag){case 26:Ns(e),e.flags&Ho&&e.memoizedState!==null&&FT(xn,e.memoizedState,e.memoizedProps);break;case 5:Ns(e);break;case 3:case 4:var r=xn;xn=zu(e.stateNode.containerInfo),Ns(e),xn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Ho,Ho=16777216,Ns(e),Ho=r):Ns(e));break;default:Ns(e)}}function gp(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Ko(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];fe=o,yp(o,e)}gp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mp(e),e=e.sibling}function mp(e){switch(e.tag){case 0:case 11:case 15:Ko(e),e.flags&2048&&ta(9,e,e.return);break;case 3:Ko(e);break;case 12:Ko(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,wu(e)):Ko(e);break;default:Ko(e)}}function wu(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];fe=o,yp(o,e)}gp(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:ta(8,r,r.return),wu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,wu(r));break;default:wu(r)}e=e.sibling}}function yp(e,r){for(;fe!==null;){var a=fe;switch(a.tag){case 0:case 11:case 15:ta(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,fe=o;else t:for(a=e;fe!==null;){o=fe;var u=o.sibling,f=o.return;if(op(o),o===a){fe=null;break t}if(u!==null){u.return=f,fe=u;break t}fe=f}}}var fT={getCacheForType:function(e){var r=we(se),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a}},hT=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Pt=null,pt=null,wt=0,It=0,Ye=null,ra=!1,Ds=!1,bh=!1,mr=0,Xt=0,ia=0,Ha=0,Th=0,on=0,Os=0,jo=null,Be=null,wh=!1,Ah=0,Au=1/0,Eu=null,aa=null,me=0,sa=null,ks=null,Cs=0,Eh=0,xh=null,pp=null,Yo=0,Nh=null;function $e(){if((Rt&2)!==0&&wt!==0)return wt&-wt;if(L.T!==null){var e=ps;return e!==0?e:Bh()}return Bg()}function vp(){on===0&&(on=(wt&536870912)===0||Ot?kg():536870912);var e=sn.current;return e!==null&&(e.flags|=32),on}function Ge(e,r,a){(e===Pt&&(It===2||It===9)||e.cancelPendingCommit!==null)&&(Rs(e,0),oa(e,wt,on,!1)),lo(e,a),((Rt&2)===0||e!==Pt)&&(e===Pt&&((Rt&2)===0&&(Ha|=a),Xt===4&&oa(e,wt,on,!1)),Vn(e))}function Sp(e,r,a){if((Rt&6)!==0)throw Error(i(327));var o=!a&&(r&124)===0&&(r&e.expiredLanes)===0||oo(e,r),u=o?mT(e,r):kh(e,r,!0),f=o;do{if(u===0){Ds&&!o&&oa(e,r,0,!1);break}else{if(a=e.current.alternate,f&&!dT(a)){u=kh(e,r,!1),f=!1;continue}if(u===2){if(f=r,e.errorRecoveryDisabledLanes&f)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){r=m;t:{var S=e;u=jo;var T=S.current.memoizedState.isDehydrated;if(T&&(Rs(S,m).flags|=256),m=kh(S,m,!1),m!==2){if(bh&&!T){S.errorRecoveryDisabledLanes|=f,Ha|=f,u=4;break t}f=Be,Be=u,f!==null&&(Be===null?Be=f:Be.push.apply(Be,f))}u=m}if(f=!1,u!==2)continue}}if(u===1){Rs(e,0),oa(e,r,0,!0);break}t:{switch(o=e,f=u,f){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:oa(o,r,on,!ra);break t;case 2:Be=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(u=Ah+300-Un(),10<u)){if(oa(o,r,on,!ra),Ml(o,0,!0)!==0)break t;o.timeoutHandle=Xp(bp.bind(null,o,a,Be,Eu,wh,r,on,Ha,Os,ra,f,2,-0,0),u);break t}bp(o,a,Be,Eu,wh,r,on,Ha,Os,ra,f,0,-0,0)}}break}while(!0);Vn(e)}function bp(e,r,a,o,u,f,m,S,T,R,M,q,I,B){if(e.timeoutHandle=-1,q=r.subtreeFlags,(q&8192||(q&16785408)===16785408)&&(_o={stylesheets:null,count:0,unsuspend:XT},dp(r),q=ZT(),q!==null)){e.cancelPendingCommit=q(Dp.bind(null,e,r,f,a,o,u,m,S,T,M,1,I,B)),oa(e,f,m,!R);return}Dp(e,r,f,a,o,u,m,S,T)}function dT(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var u=a[o],f=u.getSnapshot;u=u.value;try{if(!Ve(f(),u))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function oa(e,r,a,o){r&=~Th,r&=~Ha,e.suspendedLanes|=r,e.pingedLanes&=~r,o&&(e.warmLanes|=r),o=e.expirationTimes;for(var u=r;0<u;){var f=31-Pe(u),m=1<<f;o[f]=-1,u&=~m}a!==0&&Rg(e,a,r)}function xu(){return(Rt&6)===0?($o(0),!1):!0}function Dh(){if(pt!==null){if(It===0)var e=pt.return;else e=pt,or=Ua=null,jf(e),As=null,Uo=0,e=pt;for(;e!==null;)Wy(e.alternate,e),e=e.return;pt=null}}function Rs(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,RT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Dh(),Pt=e,pt=a=ir(e.current,null),wt=r,It=0,Ye=null,ra=!1,Ds=oo(e,r),bh=!1,Os=on=Th=Ha=ia=Xt=0,Be=jo=null,wh=!1,(r&8)!==0&&(r|=r&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=r;0<o;){var u=31-Pe(o),f=1<<u;r|=e[u],o&=~f}return mr=r,Gl(),a}function Tp(e,r){dt=null,L.H=hu,r===Do||r===nu?(r=Jm(),It=3):r===Mm?(r=Jm(),It=4):It=r===qy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ye=r,pt===null&&(Xt=1,pu(e,en(r,e.current)))}function wp(){var e=L.H;return L.H=hu,e===null?hu:e}function Ap(){var e=L.A;return L.A=fT,e}function Oh(){Xt=4,ra||(wt&4194048)!==wt&&sn.current!==null||(Ds=!0),(ia&134217727)===0&&(Ha&134217727)===0||Pt===null||oa(Pt,wt,on,!1)}function kh(e,r,a){var o=Rt;Rt|=2;var u=wp(),f=Ap();(Pt!==e||wt!==r)&&(Eu=null,Rs(e,r)),r=!1;var m=Xt;t:do try{if(It!==0&&pt!==null){var S=pt,T=Ye;switch(It){case 8:Dh(),m=6;break t;case 3:case 2:case 9:case 6:sn.current===null&&(r=!0);var R=It;if(It=0,Ye=null,Is(e,S,T,R),a&&Ds){m=0;break t}break;default:R=It,It=0,Ye=null,Is(e,S,T,R)}}gT(),m=Xt;break}catch(M){Tp(e,M)}while(!0);return r&&e.shellSuspendCounter++,or=Ua=null,Rt=o,L.H=u,L.A=f,pt===null&&(Pt=null,wt=0,Gl()),m}function gT(){for(;pt!==null;)Ep(pt)}function mT(e,r){var a=Rt;Rt|=2;var o=wp(),u=Ap();Pt!==e||wt!==r?(Eu=null,Au=Un()+500,Rs(e,r)):Ds=oo(e,r);t:do try{if(It!==0&&pt!==null){r=pt;var f=Ye;e:switch(It){case 1:It=0,Ye=null,Is(e,r,f,1);break;case 2:case 9:if(Um(f)){It=0,Ye=null,xp(r);break}r=function(){It!==2&&It!==9||Pt!==e||(It=7),Vn(e)},f.then(r,r);break t;case 3:It=7;break t;case 4:It=5;break t;case 7:Um(f)?(It=0,Ye=null,xp(r)):(It=0,Ye=null,Is(e,r,f,7));break;case 5:var m=null;switch(pt.tag){case 26:m=pt.memoizedState;case 5:case 27:var S=pt;if(!m||sv(m)){It=0,Ye=null;var T=S.sibling;if(T!==null)pt=T;else{var R=S.return;R!==null?(pt=R,Nu(R)):pt=null}break e}}It=0,Ye=null,Is(e,r,f,5);break;case 6:It=0,Ye=null,Is(e,r,f,6);break;case 8:Dh(),Xt=6;break t;default:throw Error(i(462))}}yT();break}catch(M){Tp(e,M)}while(!0);return or=Ua=null,L.H=o,L.A=u,Rt=a,pt!==null?0:(Pt=null,wt=0,Gl(),Xt)}function yT(){for(;pt!==null&&!JS();)Ep(pt)}function Ep(e){var r=Qy(e.alternate,e,mr);e.memoizedProps=e.pendingProps,r===null?Nu(e):pt=r}function xp(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=Yy(a,r,r.pendingProps,r.type,void 0,wt);break;case 11:r=Yy(a,r,r.pendingProps,r.type.render,r.ref,wt);break;case 5:jf(r);default:Wy(a,r),r=pt=Nm(r,mr),r=Qy(a,r,mr)}e.memoizedProps=e.pendingProps,r===null?Nu(e):pt=r}function Is(e,r,a,o){or=Ua=null,jf(r),As=null,Uo=0;var u=r.return;try{if(aT(e,u,r,a,wt)){Xt=1,pu(e,en(a,e.current)),pt=null;return}}catch(f){if(u!==null)throw pt=u,f;Xt=1,pu(e,en(a,e.current)),pt=null;return}r.flags&32768?(Ot||o===1?e=!0:Ds||(wt&536870912)!==0?e=!1:(ra=e=!0,(o===2||o===9||o===3||o===6)&&(o=sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Np(r,e)):Nu(r)}function Nu(e){var r=e;do{if((r.flags&32768)!==0){Np(r,ra);return}e=r.return;var a=oT(r.alternate,r,mr);if(a!==null){pt=a;return}if(r=r.sibling,r!==null){pt=r;return}pt=r=e}while(r!==null);Xt===0&&(Xt=5)}function Np(e,r){do{var a=lT(e.alternate,e);if(a!==null){a.flags&=32767,pt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){pt=e;return}pt=e=a}while(e!==null);Xt=6,pt=null}function Dp(e,r,a,o,u,f,m,S,T){e.cancelPendingCommit=null;do Du();while(me!==0);if((Rt&6)!==0)throw Error(i(327));if(r!==null){if(r===e.current)throw Error(i(177));if(f=r.lanes|r.childLanes,f|=Sf,XS(e,a,f,m,S,T),e===Pt&&(pt=Pt=null,wt=0),ks=r,sa=e,Cs=a,Eh=f,xh=u,pp=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bT(Il,function(){return Ip(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,u=$.p,$.p=2,m=Rt,Rt|=4;try{uT(e,r,a)}finally{Rt=m,$.p=u,L.T=o}}me=1,Op(),kp(),Cp()}}function Op(){if(me===1){me=0;var e=sa,r=ks,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var o=$.p;$.p=2;var u=Rt;Rt|=4;try{cp(r,e);var f=Vh,m=ym(e.containerInfo),S=f.focusedElem,T=f.selectionRange;if(m!==S&&S&&S.ownerDocument&&mm(S.ownerDocument.documentElement,S)){if(T!==null&&gf(S)){var R=T.start,M=T.end;if(M===void 0&&(M=R),"selectionStart"in S)S.selectionStart=R,S.selectionEnd=Math.min(M,S.value.length);else{var q=S.ownerDocument||document,I=q&&q.defaultView||window;if(I.getSelection){var B=I.getSelection(),ot=S.textContent.length,it=Math.min(T.start,ot),Mt=T.end===void 0?it:Math.min(T.end,ot);!B.extend&&it>Mt&&(m=Mt,Mt=it,it=m);var N=gm(S,it),A=gm(S,Mt);if(N&&A&&(B.rangeCount!==1||B.anchorNode!==N.node||B.anchorOffset!==N.offset||B.focusNode!==A.node||B.focusOffset!==A.offset)){var C=q.createRange();C.setStart(N.node,N.offset),B.removeAllRanges(),it>Mt?(B.addRange(C),B.extend(A.node,A.offset)):(C.setEnd(A.node,A.offset),B.addRange(C))}}}}for(q=[],B=S;B=B.parentNode;)B.nodeType===1&&q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<q.length;S++){var J=q[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}qu=!!Ph,Vh=Ph=null}finally{Rt=u,$.p=o,L.T=a}}e.current=r,me=2}}function kp(){if(me===2){me=0;var e=sa,r=ks,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var o=$.p;$.p=2;var u=Rt;Rt|=4;try{sp(e,r.alternate,r)}finally{Rt=u,$.p=o,L.T=a}}me=3}}function Cp(){if(me===4||me===3){me=0,qS();var e=sa,r=ks,a=Cs,o=pp;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?me=5:(me=0,ks=sa=null,Rp(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(aa=null),$c(a),r=r.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(so,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=L.T,u=$.p,$.p=2,L.T=null;try{for(var f=e.onRecoverableError,m=0;m<o.length;m++){var S=o[m];f(S.value,{componentStack:S.stack})}}finally{L.T=r,$.p=u}}(Cs&3)!==0&&Du(),Vn(e),u=e.pendingLanes,(a&4194090)!==0&&(u&42)!==0?e===Nh?Yo++:(Yo=0,Nh=e):Yo=0,$o(0)}}function Rp(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,xo(r)))}function Du(e){return Op(),kp(),Cp(),Ip()}function Ip(){if(me!==5)return!1;var e=sa,r=Eh;Eh=0;var a=$c(Cs),o=L.T,u=$.p;try{$.p=32>a?32:a,L.T=null,a=xh,xh=null;var f=sa,m=Cs;if(me=0,ks=sa=null,Cs=0,(Rt&6)!==0)throw Error(i(331));var S=Rt;if(Rt|=4,mp(f.current),hp(f,f.current,m,a),Rt=S,$o(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(so,f)}catch{}return!0}finally{$.p=u,L.T=o,Rp(e,r)}}function Bp(e,r,a){r=en(a,r),r=ih(e.stateNode,r,2),e=Zi(e,r,2),e!==null&&(lo(e,2),Vn(e))}function Jt(e,r,a){if(e.tag===3)Bp(e,e,a);else for(;r!==null;){if(r.tag===3){Bp(r,e,a);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(aa===null||!aa.has(o))){e=en(a,e),a=Ly(2),o=Zi(r,a,2),o!==null&&(Jy(a,o,r,e),lo(o,2),Vn(o));break}}r=r.return}}function Ch(e,r,a){var o=e.pingCache;if(o===null){o=e.pingCache=new hT;var u=new Set;o.set(r,u)}else u=o.get(r),u===void 0&&(u=new Set,o.set(r,u));u.has(a)||(bh=!0,u.add(a),e=pT.bind(null,e,r,a),r.then(e,e))}function pT(e,r,a){var o=e.pingCache;o!==null&&o.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Pt===e&&(wt&a)===a&&(Xt===4||Xt===3&&(wt&62914560)===wt&&300>Un()-Ah?(Rt&2)===0&&Rs(e,0):Th|=a,Os===wt&&(Os=0)),Vn(e)}function zp(e,r){r===0&&(r=Cg()),e=ds(e,r),e!==null&&(lo(e,r),Vn(e))}function vT(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),zp(e,a)}function ST(e,r){var a=0;switch(e.tag){case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(r),zp(e,a)}function bT(e,r){return Hc(e,r)}var Ou=null,Bs=null,Rh=!1,ku=!1,Ih=!1,Ka=0;function Vn(e){e!==Bs&&e.next===null&&(Bs===null?Ou=Bs=e:Bs=Bs.next=e),ku=!0,Rh||(Rh=!0,wT())}function $o(e,r){if(!Ih&&ku){Ih=!0;do for(var a=!1,o=Ou;o!==null;){if(e!==0){var u=o.pendingLanes;if(u===0)var f=0;else{var m=o.suspendedLanes,S=o.pingedLanes;f=(1<<31-Pe(42|e)+1)-1,f&=u&~(m&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Jp(o,f))}else f=wt,f=Ml(o,o===Pt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||oo(o,f)||(a=!0,Jp(o,f));o=o.next}while(a);Ih=!1}}function TT(){Mp()}function Mp(){ku=Rh=!1;var e=0;Ka!==0&&(CT()&&(e=Ka),Ka=0);for(var r=Un(),a=null,o=Ou;o!==null;){var u=o.next,f=Up(o,r);f===0?(o.next=null,a===null?Ou=u:a.next=u,u===null&&(Bs=a)):(a=o,(e!==0||(f&3)!==0)&&(ku=!0)),o=u}$o(e)}function Up(e,r){for(var a=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var m=31-Pe(f),S=1<<m,T=u[m];T===-1?((S&a)===0||(S&o)!==0)&&(u[m]=GS(S,r)):T<=r&&(e.expiredLanes|=S),f&=~S}if(r=Pt,a=wt,a=Ml(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===r&&(It===2||It===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Kc(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||oo(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(o!==null&&Kc(o),$c(a)){case 2:case 8:a=Dg;break;case 32:a=Il;break;case 268435456:a=Og;break;default:a=Il}return o=Lp.bind(null,e),a=Hc(a,o),e.callbackPriority=r,e.callbackNode=a,r}return o!==null&&o!==null&&Kc(o),e.callbackPriority=2,e.callbackNode=null,2}function Lp(e,r){if(me!==0&&me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Du()&&e.callbackNode!==a)return null;var o=wt;return o=Ml(e,e===Pt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Sp(e,o,r),Up(e,Un()),e.callbackNode!=null&&e.callbackNode===a?Lp.bind(null,e):null)}function Jp(e,r){if(Du())return null;Sp(e,r,!0)}function wT(){IT(function(){(Rt&6)!==0?Hc(Ng,TT):Mp()})}function Bh(){return Ka===0&&(Ka=kg()),Ka}function qp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Pl(""+e)}function Pp(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function AT(e,r,a,o,u){if(r==="submit"&&a&&a.stateNode===u){var f=qp((u[ke]||null).action),m=o.submitter;m&&(r=(r=m[ke]||null)?qp(r.formAction):m.getAttribute("formAction"),r!==null&&(f=r,m=null));var S=new jl("action","action",null,o,u);e.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ka!==0){var T=m?Pp(u,m):new FormData(u);Wf(a,{pending:!0,data:T,method:u.method,action:f},null,T)}}else typeof f=="function"&&(S.preventDefault(),T=m?Pp(u,m):new FormData(u),Wf(a,{pending:!0,data:T,method:u.method,action:f},f,T))},currentTarget:u}]})}}for(var zh=0;zh<vf.length;zh++){var Mh=vf[zh],ET=Mh.toLowerCase(),xT=Mh[0].toUpperCase()+Mh.slice(1);En(ET,"on"+xT)}En(Sm,"onAnimationEnd"),En(bm,"onAnimationIteration"),En(Tm,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(Hb,"onTransitionRun"),En(Kb,"onTransitionStart"),En(jb,"onTransitionCancel"),En(wm,"onTransitionEnd"),rs("onMouseEnter",["mouseout","mouseover"]),rs("onMouseLeave",["mouseout","mouseover"]),rs("onPointerEnter",["pointerout","pointerover"]),rs("onPointerLeave",["pointerout","pointerover"]),Da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Da("onBeforeInput",["compositionend","keypress","textInput","paste"]),Da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Go));function Vp(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],u=o.event;o=o.listeners;t:{var f=void 0;if(r)for(var m=o.length-1;0<=m;m--){var S=o[m],T=S.instance,R=S.currentTarget;if(S=S.listener,T!==f&&u.isPropagationStopped())break t;f=S,u.currentTarget=R;try{f(u)}catch(M){yu(M)}u.currentTarget=null,f=T}else for(m=0;m<o.length;m++){if(S=o[m],T=S.instance,R=S.currentTarget,S=S.listener,T!==f&&u.isPropagationStopped())break t;f=S,u.currentTarget=R;try{f(u)}catch(M){yu(M)}u.currentTarget=null,f=T}}}}function vt(e,r){var a=r[Gc];a===void 0&&(a=r[Gc]=new Set);var o=e+"__bubble";a.has(o)||(Hp(r,e,2,!1),a.add(o))}function Uh(e,r,a){var o=0;r&&(o|=4),Hp(a,e,o,r)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function Lh(e){if(!e[Cu]){e[Cu]=!0,Mg.forEach(function(a){a!=="selectionchange"&&(NT.has(a)||Uh(a,!1,e),Uh(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Cu]||(r[Cu]=!0,Uh("selectionchange",!1,r))}}function Hp(e,r,a,o){switch(hv(r)){case 2:var u=WT;break;case 8:u=tw;break;default:u=Qh}a=u.bind(null,r,a,e),u=void 0,!af||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(r,a,{capture:!0,passive:u}):e.addEventListener(r,a,!0):u!==void 0?e.addEventListener(r,a,{passive:u}):e.addEventListener(r,a,!1)}function Jh(e,r,a,o,u){var f=o;if((r&1)===0&&(r&2)===0&&o!==null)t:for(;;){if(o===null)return;var m=o.tag;if(m===3||m===4){var S=o.stateNode.containerInfo;if(S===u)break;if(m===4)for(m=o.return;m!==null;){var T=m.tag;if((T===3||T===4)&&m.stateNode.containerInfo===u)return;m=m.return}for(;S!==null;){if(m=ts(S),m===null)return;if(T=m.tag,T===5||T===6||T===26||T===27){o=f=m;continue t}S=S.parentNode}}o=o.return}Fg(function(){var R=f,M=nf(a),q=[];t:{var I=Am.get(e);if(I!==void 0){var B=jl,ot=e;switch(e){case"keypress":if(Hl(a)===0)break t;case"keydown":case"keyup":B=bb;break;case"focusin":ot="focus",B=uf;break;case"focusout":ot="blur",B=uf;break;case"beforeblur":case"afterblur":B=uf;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=_g;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=lb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Ab;break;case Sm:case bm:case Tm:B=fb;break;case wm:B=xb;break;case"scroll":case"scrollend":B=sb;break;case"wheel":B=Db;break;case"copy":case"cut":case"paste":B=db;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=tm;break;case"toggle":case"beforetoggle":B=kb}var it=(r&4)!==0,Mt=!it&&(e==="scroll"||e==="scrollend"),N=it?I!==null?I+"Capture":null:I;it=[];for(var A=R,C;A!==null;){var J=A;if(C=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||C===null||N===null||(J=fo(A,N),J!=null&&it.push(Xo(A,J,C))),Mt)break;A=A.return}0<it.length&&(I=new B(I,ot,null,a,M),q.push({event:I,listeners:it}))}}if((r&7)===0){t:{if(I=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",I&&a!==ef&&(ot=a.relatedTarget||a.fromElement)&&(ts(ot)||ot[Wa]))break t;if((B||I)&&(I=M.window===M?M:(I=M.ownerDocument)?I.defaultView||I.parentWindow:window,B?(ot=a.relatedTarget||a.toElement,B=R,ot=ot?ts(ot):null,ot!==null&&(Mt=c(ot),it=ot.tag,ot!==Mt||it!==5&&it!==27&&it!==6)&&(ot=null)):(B=null,ot=R),B!==ot)){if(it=_g,J="onMouseLeave",N="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(it=tm,J="onPointerLeave",N="onPointerEnter",A="pointer"),Mt=B==null?I:co(B),C=ot==null?I:co(ot),I=new it(J,A+"leave",B,a,M),I.target=Mt,I.relatedTarget=C,J=null,ts(M)===R&&(it=new it(N,A+"enter",ot,a,M),it.target=C,it.relatedTarget=Mt,J=it),Mt=J,B&&ot)e:{for(it=B,N=ot,A=0,C=it;C;C=zs(C))A++;for(C=0,J=N;J;J=zs(J))C++;for(;0<A-C;)it=zs(it),A--;for(;0<C-A;)N=zs(N),C--;for(;A--;){if(it===N||N!==null&&it===N.alternate)break e;it=zs(it),N=zs(N)}it=null}else it=null;B!==null&&Kp(q,I,B,it,!1),ot!==null&&Mt!==null&&Kp(q,Mt,ot,it,!0)}}t:{if(I=R?co(R):window,B=I.nodeName&&I.nodeName.toLowerCase(),B==="select"||B==="input"&&I.type==="file")var F=lm;else if(sm(I))if(um)F=qb;else{F=Lb;var gt=Ub}else B=I.nodeName,!B||B.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?R&&tf(R.elementType)&&(F=lm):F=Jb;if(F&&(F=F(e,R))){om(q,F,a,M);break t}gt&&gt(e,I,R),e==="focusout"&&R&&I.type==="number"&&R.memoizedProps.value!=null&&Wc(I,"number",I.value)}switch(gt=R?co(R):window,e){case"focusin":(sm(gt)||gt.contentEditable==="true")&&(cs=gt,mf=R,bo=null);break;case"focusout":bo=mf=cs=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,pm(q,a,M);break;case"selectionchange":if(Vb)break;case"keydown":case"keyup":pm(q,a,M)}var Q;if(ff)t:{switch(e){case"compositionstart":var at="onCompositionStart";break t;case"compositionend":at="onCompositionEnd";break t;case"compositionupdate":at="onCompositionUpdate";break t}at=void 0}else us?im(e,a)&&(at="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(at="onCompositionStart");at&&(em&&a.locale!=="ko"&&(us||at!=="onCompositionStart"?at==="onCompositionEnd"&&us&&(Q=Zg()):($i=M,sf="value"in $i?$i.value:$i.textContent,us=!0)),gt=Ru(R,at),0<gt.length&&(at=new Wg(at,e,null,a,M),q.push({event:at,listeners:gt}),Q?at.data=Q:(Q=am(a),Q!==null&&(at.data=Q)))),(Q=Rb?Ib(e,a):Bb(e,a))&&(at=Ru(R,"onBeforeInput"),0<at.length&&(gt=new Wg("onBeforeInput","beforeinput",null,a,M),q.push({event:gt,listeners:at}),gt.data=Q)),AT(q,e,R,a,M)}Vp(q,r)})}function Xo(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Ru(e,r){for(var a=r+"Capture",o=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=fo(e,a),u!=null&&o.unshift(Xo(e,u,f)),u=fo(e,r),u!=null&&o.push(Xo(e,u,f))),e.tag===3)return o;e=e.return}return[]}function zs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Kp(e,r,a,o,u){for(var f=r._reactName,m=[];a!==null&&a!==o;){var S=a,T=S.alternate,R=S.stateNode;if(S=S.tag,T!==null&&T===o)break;S!==5&&S!==26&&S!==27||R===null||(T=R,u?(R=fo(a,f),R!=null&&m.unshift(Xo(a,R,T))):u||(R=fo(a,f),R!=null&&m.push(Xo(a,R,T)))),a=a.return}m.length!==0&&e.push({event:r,listeners:m})}var DT=/\r\n?/g,OT=/\u0000|\uFFFD/g;function jp(e){return(typeof e=="string"?e:""+e).replace(DT,`
`).replace(OT,"")}function Yp(e,r){return r=jp(r),jp(e)===r}function Iu(){}function zt(e,r,a,o,u,f){switch(a){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||ss(e,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&ss(e,""+o);break;case"className":Ll(e,"class",o);break;case"tabIndex":Ll(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ll(e,a,o);break;case"style":Gg(e,o,f);break;case"data":if(r!=="object"){Ll(e,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Pl(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&zt(e,r,"name",u.name,u,null),zt(e,r,"formEncType",u.formEncType,u,null),zt(e,r,"formMethod",u.formMethod,u,null),zt(e,r,"formTarget",u.formTarget,u,null)):(zt(e,r,"encType",u.encType,u,null),zt(e,r,"method",u.method,u,null),zt(e,r,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Pl(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Iu);break;case"onScroll":o!=null&&vt("scroll",e);break;case"onScrollEnd":o!=null&&vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Pl(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":vt("beforetoggle",e),vt("toggle",e),Ul(e,"popover",o);break;case"xlinkActuate":nr(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":nr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":nr(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":nr(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":nr(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":nr(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":nr(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":nr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":nr(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ul(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ib.get(a)||a,Ul(e,a,o))}}function qh(e,r,a,o,u,f){switch(a){case"style":Gg(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof o=="string"?ss(e,o):(typeof o=="number"||typeof o=="bigint")&&ss(e,""+o);break;case"onScroll":o!=null&&vt("scroll",e);break;case"onScrollEnd":o!=null&&vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Iu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ug.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),r=a.slice(2,u?a.length-7:void 0),f=e[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(r,f,u),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,o,u);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Ul(e,a,o)}}}function ye(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",e),vt("load",e);var o=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var m=a[f];if(m!=null)switch(f){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:zt(e,r,f,m,a,null)}}u&&zt(e,r,"srcSet",a.srcSet,a,null),o&&zt(e,r,"src",a.src,a,null);return;case"input":vt("invalid",e);var S=f=m=u=null,T=null,R=null;for(o in a)if(a.hasOwnProperty(o)){var M=a[o];if(M!=null)switch(o){case"name":u=M;break;case"type":m=M;break;case"checked":T=M;break;case"defaultChecked":R=M;break;case"value":f=M;break;case"defaultValue":S=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(137,r));break;default:zt(e,r,o,M,a,null)}}Kg(e,f,S,T,R,m,u,!1),Jl(e);return;case"select":vt("invalid",e),o=m=f=null;for(u in a)if(a.hasOwnProperty(u)&&(S=a[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":m=S;break;case"multiple":o=S;default:zt(e,r,u,S,a,null)}r=f,a=m,e.multiple=!!o,r!=null?as(e,!!o,r,!1):a!=null&&as(e,!!o,a,!0);return;case"textarea":vt("invalid",e),f=u=o=null;for(m in a)if(a.hasOwnProperty(m)&&(S=a[m],S!=null))switch(m){case"value":o=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:zt(e,r,m,S,a,null)}Yg(e,o,u,f),Jl(e);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(o=a[T],o!=null))switch(T){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:zt(e,r,T,o,a,null)}return;case"dialog":vt("beforetoggle",e),vt("toggle",e),vt("cancel",e),vt("close",e);break;case"iframe":case"object":vt("load",e);break;case"video":case"audio":for(o=0;o<Go.length;o++)vt(Go[o],e);break;case"image":vt("error",e),vt("load",e);break;case"details":vt("toggle",e);break;case"embed":case"source":case"link":vt("error",e),vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:zt(e,r,R,o,a,null)}return;default:if(tf(r)){for(M in a)a.hasOwnProperty(M)&&(o=a[M],o!==void 0&&qh(e,r,M,o,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null&&zt(e,r,S,o,a,null))}function kT(e,r,a,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,m=null,S=null,T=null,R=null,M=null;for(B in a){var q=a[B];if(a.hasOwnProperty(B)&&q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":T=q;default:o.hasOwnProperty(B)||zt(e,r,B,null,o,q)}}for(var I in o){var B=o[I];if(q=a[I],o.hasOwnProperty(I)&&(B!=null||q!=null))switch(I){case"type":f=B;break;case"name":u=B;break;case"checked":R=B;break;case"defaultChecked":M=B;break;case"value":m=B;break;case"defaultValue":S=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,r));break;default:B!==q&&zt(e,r,I,B,o,q)}}_c(e,m,S,T,R,M,f,u);return;case"select":B=m=S=I=null;for(f in a)if(T=a[f],a.hasOwnProperty(f)&&T!=null)switch(f){case"value":break;case"multiple":B=T;default:o.hasOwnProperty(f)||zt(e,r,f,null,o,T)}for(u in o)if(f=o[u],T=a[u],o.hasOwnProperty(u)&&(f!=null||T!=null))switch(u){case"value":I=f;break;case"defaultValue":S=f;break;case"multiple":m=f;default:f!==T&&zt(e,r,u,f,o,T)}r=S,a=m,o=B,I!=null?as(e,!!a,I,!1):!!o!=!!a&&(r!=null?as(e,!!a,r,!0):as(e,!!a,a?[]:"",!1));return;case"textarea":B=I=null;for(S in a)if(u=a[S],a.hasOwnProperty(S)&&u!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:zt(e,r,S,null,o,u)}for(m in o)if(u=o[m],f=a[m],o.hasOwnProperty(m)&&(u!=null||f!=null))switch(m){case"value":I=u;break;case"defaultValue":B=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==f&&zt(e,r,m,u,o,f)}jg(e,I,B);return;case"option":for(var ot in a)if(I=a[ot],a.hasOwnProperty(ot)&&I!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:zt(e,r,ot,null,o,I)}for(T in o)if(I=o[T],B=a[T],o.hasOwnProperty(T)&&I!==B&&(I!=null||B!=null))switch(T){case"selected":e.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:zt(e,r,T,I,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in a)I=a[it],a.hasOwnProperty(it)&&I!=null&&!o.hasOwnProperty(it)&&zt(e,r,it,null,o,I);for(R in o)if(I=o[R],B=a[R],o.hasOwnProperty(R)&&I!==B&&(I!=null||B!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,r));break;default:zt(e,r,R,I,o,B)}return;default:if(tf(r)){for(var Mt in a)I=a[Mt],a.hasOwnProperty(Mt)&&I!==void 0&&!o.hasOwnProperty(Mt)&&qh(e,r,Mt,void 0,o,I);for(M in o)I=o[M],B=a[M],!o.hasOwnProperty(M)||I===B||I===void 0&&B===void 0||qh(e,r,M,I,o,B);return}}for(var N in a)I=a[N],a.hasOwnProperty(N)&&I!=null&&!o.hasOwnProperty(N)&&zt(e,r,N,null,o,I);for(q in o)I=o[q],B=a[q],!o.hasOwnProperty(q)||I===B||I==null&&B==null||zt(e,r,q,I,o,B)}var Ph=null,Vh=null;function Bu(e){return e.nodeType===9?e:e.ownerDocument}function $p(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gp(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function Hh(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Kh=null;function CT(){var e=window.event;return e&&e.type==="popstate"?e===Kh?!1:(Kh=e,!0):(Kh=null,!1)}var Xp=typeof setTimeout=="function"?setTimeout:void 0,RT=typeof clearTimeout=="function"?clearTimeout:void 0,Fp=typeof Promise=="function"?Promise:void 0,IT=typeof queueMicrotask=="function"?queueMicrotask:typeof Fp<"u"?function(e){return Fp.resolve(null).then(e).catch(BT)}:Xp;function BT(e){setTimeout(function(){throw e})}function la(e){return e==="head"}function Zp(e,r){var a=r,o=0,u=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var m=e.ownerDocument;if(a&1&&Fo(m.documentElement),a&2&&Fo(m.body),a&4)for(a=m.head,Fo(a),m=a.firstChild;m;){var S=m.nextSibling,T=m.nodeName;m[uo]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=S}}if(u===0){e.removeChild(f),rl(r);return}u--}else a==="$"||a==="$?"||a==="$!"?u++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);rl(r)}function jh(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jh(a),Xc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function zT(e,r,a,o){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[uo])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function MT(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Nn(e.nextSibling),e===null))return null;return e}function Yh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function UT(e,r){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")r();else{var o=function(){r(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Nn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}var $h=null;function Qp(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}function _p(e,r,a){switch(r=Bu(a),e){case"html":if(e=r.documentElement,!e)throw Error(i(452));return e;case"head":if(e=r.head,!e)throw Error(i(453));return e;case"body":if(e=r.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Fo(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Xc(e)}var ln=new Map,Wp=new Set;function zu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yr=$.d;$.d={f:LT,r:JT,D:qT,C:PT,L:VT,m:HT,X:jT,S:KT,M:YT};function LT(){var e=yr.f(),r=xu();return e||r}function JT(e){var r=es(e);r!==null&&r.tag===5&&r.type==="form"?Sy(r):yr.r(e)}var Ms=typeof document>"u"?null:document;function tv(e,r,a){var o=Ms;if(o&&typeof r=="string"&&r){var u=tn(r);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Wp.has(u)||(Wp.add(u),e={rel:e,crossOrigin:a,href:r},o.querySelector(u)===null&&(r=o.createElement("link"),ye(r,"link",e),ue(r),o.head.appendChild(r)))}}function qT(e){yr.D(e),tv("dns-prefetch",e,null)}function PT(e,r){yr.C(e,r),tv("preconnect",e,r)}function VT(e,r,a){yr.L(e,r,a);var o=Ms;if(o&&e&&r){var u='link[rel="preload"][as="'+tn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+tn(a.imageSizes)+'"]')):u+='[href="'+tn(e)+'"]';var f=u;switch(r){case"style":f=Us(e);break;case"script":f=Ls(e)}ln.has(f)||(e=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),ln.set(f,e),o.querySelector(u)!==null||r==="style"&&o.querySelector(Zo(f))||r==="script"&&o.querySelector(Qo(f))||(r=o.createElement("link"),ye(r,"link",e),ue(r),o.head.appendChild(r)))}}function HT(e,r){yr.m(e,r);var a=Ms;if(a&&e){var o=r&&typeof r.as=="string"?r.as:"script",u='link[rel="modulepreload"][as="'+tn(o)+'"][href="'+tn(e)+'"]',f=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ls(e)}if(!ln.has(f)&&(e=b({rel:"modulepreload",href:e},r),ln.set(f,e),a.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Qo(f)))return}o=a.createElement("link"),ye(o,"link",e),ue(o),a.head.appendChild(o)}}}function KT(e,r,a){yr.S(e,r,a);var o=Ms;if(o&&e){var u=ns(o).hoistableStyles,f=Us(e);r=r||"default";var m=u.get(f);if(!m){var S={loading:0,preload:null};if(m=o.querySelector(Zo(f)))S.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":r},a),(a=ln.get(f))&&Gh(e,a);var T=m=o.createElement("link");ue(T),ye(T,"link",e),T._p=new Promise(function(R,M){T.onload=R,T.onerror=M}),T.addEventListener("load",function(){S.loading|=1}),T.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Mu(m,r,o)}m={type:"stylesheet",instance:m,count:1,state:S},u.set(f,m)}}}function jT(e,r){yr.X(e,r);var a=Ms;if(a&&e){var o=ns(a).hoistableScripts,u=Ls(e),f=o.get(u);f||(f=a.querySelector(Qo(u)),f||(e=b({src:e,async:!0},r),(r=ln.get(u))&&Xh(e,r),f=a.createElement("script"),ue(f),ye(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function YT(e,r){yr.M(e,r);var a=Ms;if(a&&e){var o=ns(a).hoistableScripts,u=Ls(e),f=o.get(u);f||(f=a.querySelector(Qo(u)),f||(e=b({src:e,async:!0,type:"module"},r),(r=ln.get(u))&&Xh(e,r),f=a.createElement("script"),ue(f),ye(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function ev(e,r,a,o){var u=(u=ut.current)?zu(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Us(a.href),a=ns(u).hoistableStyles,o=a.get(r),o||(o={type:"style",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Us(a.href);var f=ns(u).hoistableStyles,m=f.get(e);if(m||(u=u.ownerDocument||u,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,m),(f=u.querySelector(Zo(e)))&&!f._p&&(m.instance=f,m.state.loading=5),ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ln.set(e,a),f||$T(u,e,a,m.state))),r&&o===null)throw Error(i(528,""));return m}if(r&&o!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ls(a),a=ns(u).hoistableScripts,o=a.get(r),o||(o={type:"script",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Us(e){return'href="'+tn(e)+'"'}function Zo(e){return'link[rel="stylesheet"]['+e+"]"}function nv(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function $T(e,r,a,o){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=e.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),ye(r,"link",a),ue(r),e.head.appendChild(r))}function Ls(e){return'[src="'+tn(e)+'"]'}function Qo(e){return"script[async]"+e}function rv(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var o=e.querySelector('style[data-href~="'+tn(a.href)+'"]');if(o)return r.instance=o,ue(o),o;var u=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ue(o),ye(o,"style",u),Mu(o,a.precedence,e),r.instance=o;case"stylesheet":u=Us(a.href);var f=e.querySelector(Zo(u));if(f)return r.state.loading|=4,r.instance=f,ue(f),f;o=nv(a),(u=ln.get(u))&&Gh(o,u),f=(e.ownerDocument||e).createElement("link"),ue(f);var m=f;return m._p=new Promise(function(S,T){m.onload=S,m.onerror=T}),ye(f,"link",o),r.state.loading|=4,Mu(f,a.precedence,e),r.instance=f;case"script":return f=Ls(a.src),(u=e.querySelector(Qo(f)))?(r.instance=u,ue(u),u):(o=a,(u=ln.get(f))&&(o=b({},a),Xh(o,u)),e=e.ownerDocument||e,u=e.createElement("script"),ue(u),ye(u,"link",o),e.head.appendChild(u),r.instance=u);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Mu(o,a.precedence,e));return r.instance}function Mu(e,r,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,f=u,m=0;m<o.length;m++){var S=o[m];if(S.dataset.precedence===r)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function Gh(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function Xh(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Uu=null;function iv(e,r,a){if(Uu===null){var o=new Map,u=Uu=new Map;u.set(a,o)}else u=Uu,o=u.get(a),o||(o=new Map,u.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var f=a[u];if(!(f[uo]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var m=f.getAttribute(r)||"";m=e+m;var S=o.get(m);S?S.push(f):o.set(m,[f])}}return o}function av(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function GT(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function sv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var _o=null;function XT(){}function FT(e,r,a){if(_o===null)throw Error(i(475));var o=_o;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=Us(a.href),f=e.querySelector(Zo(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Lu.bind(o),e.then(o,o)),r.state.loading|=4,r.instance=f,ue(f);return}f=e.ownerDocument||e,a=nv(a),(u=ln.get(u))&&Gh(a,u),f=f.createElement("link"),ue(f);var m=f;m._p=new Promise(function(S,T){m.onload=S,m.onerror=T}),ye(f,"link",a),r.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=Lu.bind(o),e.addEventListener("load",r),e.addEventListener("error",r))}}function ZT(){if(_o===null)throw Error(i(475));var e=_o;return e.stylesheets&&e.count===0&&Fh(e,e.stylesheets),0<e.count?function(r){var a=setTimeout(function(){if(e.stylesheets&&Fh(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Lu(){if(this.count--,this.count===0){if(this.stylesheets)Fh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ju=null;function Fh(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ju=new Map,r.forEach(QT,e),Ju=null,Lu.call(e))}function QT(e,r){if(!(r.state.loading&4)){var a=Ju.get(e);if(a)var o=a.get(null);else{a=new Map,Ju.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var m=u[f];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),o=m)}o&&a.set(null,o)}u=r.instance,m=u.getAttribute("data-precedence"),f=a.get(m)||o,f===o&&a.set(null,u),a.set(m,u),this.count++,o=Lu.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),r.state.loading|=4}}var Wo={$$typeof:ct,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function _T(e,r,a,o,u,f,m,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jc(0),this.hiddenUpdates=jc(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function ov(e,r,a,o,u,f,m,S,T,R,M,q){return e=new _T(e,r,a,m,S,T,R,q),r=1,f===!0&&(r|=24),f=He(3,null,null,r),e.current=f,f.stateNode=e,r=Cf(),r.refCount++,e.pooledCache=r,r.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:r},zf(f),e}function lv(e){return e?(e=gs,e):gs}function uv(e,r,a,o,u,f){u=lv(u),o.context===null?o.context=u:o.pendingContext=u,o=Fi(r),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Zi(e,o,r),a!==null&&(Ge(a,e,r),ko(a,e,r))}function cv(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function Zh(e,r){cv(e,r),(e=e.alternate)&&cv(e,r)}function fv(e){if(e.tag===13){var r=ds(e,67108864);r!==null&&Ge(r,e,67108864),Zh(e,67108864)}}var qu=!0;function WT(e,r,a,o){var u=L.T;L.T=null;var f=$.p;try{$.p=2,Qh(e,r,a,o)}finally{$.p=f,L.T=u}}function tw(e,r,a,o){var u=L.T;L.T=null;var f=$.p;try{$.p=8,Qh(e,r,a,o)}finally{$.p=f,L.T=u}}function Qh(e,r,a,o){if(qu){var u=_h(o);if(u===null)Jh(e,r,o,Pu,a),dv(e,o);else if(nw(u,e,r,a,o))o.stopPropagation();else if(dv(e,o),r&4&&-1<ew.indexOf(e)){for(;u!==null;){var f=es(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=Na(f.pendingLanes);if(m!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;m;){var T=1<<31-Pe(m);S.entanglements[1]|=T,m&=~T}Vn(f),(Rt&6)===0&&(Au=Un()+500,$o(0))}}break;case 13:S=ds(f,2),S!==null&&Ge(S,f,2),xu(),Zh(f,2)}if(f=_h(o),f===null&&Jh(e,r,o,Pu,a),f===u)break;u=f}u!==null&&o.stopPropagation()}else Jh(e,r,o,null,a)}}function _h(e){return e=nf(e),Wh(e)}var Pu=null;function Wh(e){if(Pu=null,e=ts(e),e!==null){var r=c(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=d(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Pu=e,null}function hv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(PS()){case Ng:return 2;case Dg:return 8;case Il:case VS:return 32;case Og:return 268435456;default:return 32}default:return 32}}var td=!1,ua=null,ca=null,fa=null,tl=new Map,el=new Map,ha=[],ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dv(e,r){switch(e){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":tl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(r.pointerId)}}function nl(e,r,a,o,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:r,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[u]},r!==null&&(r=es(r),r!==null&&fv(r)),e):(e.eventSystemFlags|=o,r=e.targetContainers,u!==null&&r.indexOf(u)===-1&&r.push(u),e)}function nw(e,r,a,o,u){switch(r){case"focusin":return ua=nl(ua,e,r,a,o,u),!0;case"dragenter":return ca=nl(ca,e,r,a,o,u),!0;case"mouseover":return fa=nl(fa,e,r,a,o,u),!0;case"pointerover":var f=u.pointerId;return tl.set(f,nl(tl.get(f)||null,e,r,a,o,u)),!0;case"gotpointercapture":return f=u.pointerId,el.set(f,nl(el.get(f)||null,e,r,a,o,u)),!0}return!1}function gv(e){var r=ts(e.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){e.blockedOn=r,FS(e.priority,function(){if(a.tag===13){var o=$e();o=Yc(o);var u=ds(a,o);u!==null&&Ge(u,a,o),Zh(a,o)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vu(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=_h(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);ef=o,a.target.dispatchEvent(o),ef=null}else return r=es(a),r!==null&&fv(r),e.blockedOn=a,!1;r.shift()}return!0}function mv(e,r,a){Vu(e)&&a.delete(r)}function rw(){td=!1,ua!==null&&Vu(ua)&&(ua=null),ca!==null&&Vu(ca)&&(ca=null),fa!==null&&Vu(fa)&&(fa=null),tl.forEach(mv),el.forEach(mv)}function Hu(e,r){e.blockedOn===r&&(e.blockedOn=null,td||(td=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,rw)))}var Ku=null;function yv(e){Ku!==e&&(Ku=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ku===e&&(Ku=null);for(var r=0;r<e.length;r+=3){var a=e[r],o=e[r+1],u=e[r+2];if(typeof o!="function"){if(Wh(o||a)===null)continue;break}var f=es(a);f!==null&&(e.splice(r,3),r-=3,Wf(f,{pending:!0,data:u,method:a.method,action:o},o,u))}}))}function rl(e){function r(T){return Hu(T,e)}ua!==null&&Hu(ua,e),ca!==null&&Hu(ca,e),fa!==null&&Hu(fa,e),tl.forEach(r),el.forEach(r);for(var a=0;a<ha.length;a++){var o=ha[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ha.length&&(a=ha[0],a.blockedOn===null);)gv(a),a.blockedOn===null&&ha.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var u=a[o],f=a[o+1],m=u[ke]||null;if(typeof f=="function")m||yv(a);else if(m){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,m=f[ke]||null)S=m.formAction;else if(Wh(u)!==null)continue}else S=m.action;typeof S=="function"?a[o+1]=S:(a.splice(o,3),o-=3),yv(a)}}}function ed(e){this._internalRoot=e}ju.prototype.render=ed.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,o=$e();uv(a,o,e,r,null,null)},ju.prototype.unmount=ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;uv(e.current,2,null,e,null,null),xu(),r[Wa]=null}};function ju(e){this._internalRoot=e}ju.prototype.unstable_scheduleHydration=function(e){if(e){var r=Bg();e={blockedOn:null,target:e,priority:r};for(var a=0;a<ha.length&&r!==0&&r<ha[a].priority;a++);ha.splice(a,0,e),a===0&&gv(e)}};var pv=n.version;if(pv!=="19.1.0")throw Error(i(527,pv,"19.1.0"));$.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=y(r),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var iw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{so=Yu.inject(iw),qe=Yu}catch{}}return al.createRoot=function(e,r){if(!l(e))throw Error(i(299));var a=!1,o="",u=By,f=zy,m=My,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(u=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(m=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=ov(e,1,!1,null,null,a,o,u,f,m,S,null),e[Wa]=r.current,Lh(e),new ed(r)},al.hydrateRoot=function(e,r,a){if(!l(e))throw Error(i(299));var o=!1,u="",f=By,m=zy,S=My,T=null,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks),a.formState!==void 0&&(R=a.formState)),r=ov(e,1,!0,r,a??null,o,u,f,m,S,T,R),r.context=lv(null),a=r.current,o=$e(),o=Yc(o),u=Fi(o),u.callback=null,Zi(a,u,o),a=o,r.current.lanes=a,lo(r,a),Vn(r),e[Wa]=r.current,Lh(e),new ju(r)},al.version="19.1.0",al}var Dv;function vw(){if(Dv)return id.exports;Dv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),id.exports=pw(),id.exports}var Sw=vw(),St;(function(s){s[s.Canceled=1]="Canceled",s[s.Unknown=2]="Unknown",s[s.InvalidArgument=3]="InvalidArgument",s[s.DeadlineExceeded=4]="DeadlineExceeded",s[s.NotFound=5]="NotFound",s[s.AlreadyExists=6]="AlreadyExists",s[s.PermissionDenied=7]="PermissionDenied",s[s.ResourceExhausted=8]="ResourceExhausted",s[s.FailedPrecondition=9]="FailedPrecondition",s[s.Aborted=10]="Aborted",s[s.OutOfRange=11]="OutOfRange",s[s.Unimplemented=12]="Unimplemented",s[s.Internal=13]="Internal",s[s.Unavailable=14]="Unavailable",s[s.DataLoss=15]="DataLoss",s[s.Unauthenticated=16]="Unauthenticated"})(St||(St={}));function Ov(s){const n=St[s];return typeof n!="string"?s.toString():n[0].toLowerCase()+n.substring(1).replace(/[A-Z]/g,t=>"_"+t.toLowerCase())}class Ut extends Error{constructor(n,t=St.Unknown,i,l,c){super(bw(n,t)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=n,this.code=t,this.metadata=new Headers(i??{}),this.details=l??[],this.cause=c}static from(n,t=St.Unknown){return n instanceof Ut?n:n instanceof Error?n.name=="AbortError"?new Ut(n.message,St.Canceled):new Ut(n.message,t,void 0,void 0,n):new Ut(String(n),t,void 0,void 0,n)}static[Symbol.hasInstance](n){return n instanceof Error?Object.getPrototypeOf(n)===Ut.prototype?!0:n.name==="ConnectError"&&"code"in n&&typeof n.code=="number"&&"metadata"in n&&"details"in n&&Array.isArray(n.details)&&"rawMessage"in n&&typeof n.rawMessage=="string"&&"cause"in n:!1}findDetails(n){const t="typeName"in n?{findMessage:l=>l===n.typeName?n:void 0}:n,i=[];for(const l of this.details){if("getType"in l){t.findMessage(l.getType().typeName)&&i.push(l);continue}const c=t.findMessage(l.type);if(c)try{i.push(c.fromBinary(l.value))}catch{}}return i}}function bw(s,n){return s.length?`[${Ov(n)}] ${s}`:`[${Ov(n)}]`}function Zt(s,n){if(!s)throw new Error(n)}const Tw=34028234663852886e22,ww=-34028234663852886e22,Aw=4294967295,Ew=2147483647,xw=-2147483648;function Wu(s){if(typeof s!="number")throw new Error("invalid int 32: "+typeof s);if(!Number.isInteger(s)||s>Ew||s<xw)throw new Error("invalid int 32: "+s)}function md(s){if(typeof s!="number")throw new Error("invalid uint 32: "+typeof s);if(!Number.isInteger(s)||s>Aw||s<0)throw new Error("invalid uint 32: "+s)}function D0(s){if(typeof s!="number")throw new Error("invalid float 32: "+typeof s);if(Number.isFinite(s)&&(s>Tw||s<ww))throw new Error("invalid float 32: "+s)}const O0=Symbol("@bufbuild/protobuf/enum-type");function Nw(s){const n=s[O0];return Zt(n,"missing enum type on enum object"),n}function k0(s,n,t,i){s[O0]=C0(n,t.map(l=>({no:l.no,name:l.name,localName:s[l.no]})))}function C0(s,n,t){const i=Object.create(null),l=Object.create(null),c=[];for(const d of n){const g=R0(d);c.push(g),i[d.name]=g,l[d.no]=g}return{typeName:s,values:c,findName(d){return i[d]},findNumber(d){return l[d]}}}function Dw(s,n,t){const i={};for(const l of n){const c=R0(l);i[c.localName]=c.no,i[c.no]=c.localName}return k0(i,s,n),i}function R0(s){return"localName"in s?s:Object.assign(Object.assign({},s),{localName:s.name})}class K{equals(n){return this.getType().runtime.util.equals(this.getType(),this,n)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(n,t){const i=this.getType(),l=i.runtime.bin,c=l.makeReadOptions(t);return l.readMessage(this,c.readerFactory(n),n.byteLength,c),this}fromJson(n,t){const i=this.getType(),l=i.runtime.json,c=l.makeReadOptions(t);return l.readMessage(i,n,c,this),this}fromJsonString(n,t){let i;try{i=JSON.parse(n)}catch(l){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${l instanceof Error?l.message:String(l)}`)}return this.fromJson(i,t)}toBinary(n){const t=this.getType(),i=t.runtime.bin,l=i.makeWriteOptions(n),c=l.writerFactory();return i.writeMessage(this,c,l),c.finish()}toJson(n){const t=this.getType(),i=t.runtime.json,l=i.makeWriteOptions(n);return i.writeMessage(this,l)}toJsonString(n){var t;const i=this.toJson(n);return JSON.stringify(i,null,(t=n==null?void 0:n.prettySpaces)!==null&&t!==void 0?t:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function Ow(s,n,t,i){var l;const c=(l=i==null?void 0:i.localName)!==null&&l!==void 0?l:n.substring(n.lastIndexOf(".")+1),d={[c]:function(g){s.util.initFields(this),s.util.initPartial(g,this)}}[c];return Object.setPrototypeOf(d.prototype,new K),Object.assign(d,{runtime:s,typeName:n,fields:s.util.newFieldList(t),fromBinary(g,y){return new d().fromBinary(g,y)},fromJson(g,y){return new d().fromJson(g,y)},fromJsonString(g,y){return new d().fromJsonString(g,y)},equals(g,y){return s.util.equals(d,g,y)}}),d}function kw(){let s=0,n=0;for(let i=0;i<28;i+=7){let l=this.buf[this.pos++];if(s|=(l&127)<<i,(l&128)==0)return this.assertBounds(),[s,n]}let t=this.buf[this.pos++];if(s|=(t&15)<<28,n=(t&112)>>4,(t&128)==0)return this.assertBounds(),[s,n];for(let i=3;i<=31;i+=7){let l=this.buf[this.pos++];if(n|=(l&127)<<i,(l&128)==0)return this.assertBounds(),[s,n]}throw new Error("invalid varint")}function ld(s,n,t){for(let c=0;c<28;c=c+7){const d=s>>>c,g=!(!(d>>>7)&&n==0),y=(g?d|128:d)&255;if(t.push(y),!g)return}const i=s>>>28&15|(n&7)<<4,l=n>>3!=0;if(t.push((l?i|128:i)&255),!!l){for(let c=3;c<31;c=c+7){const d=n>>>c,g=!!(d>>>7),y=(g?d|128:d)&255;if(t.push(y),!g)return}t.push(n>>>31&1)}}const tc=4294967296;function kv(s){const n=s[0]==="-";n&&(s=s.slice(1));const t=1e6;let i=0,l=0;function c(d,g){const y=Number(s.slice(d,g));l*=t,i=i*t+y,i>=tc&&(l=l+(i/tc|0),i=i%tc)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),n?B0(i,l):rg(i,l)}function Cw(s,n){let t=rg(s,n);const i=t.hi&2147483648;i&&(t=B0(t.lo,t.hi));const l=I0(t.lo,t.hi);return i?"-"+l:l}function I0(s,n){if({lo:s,hi:n}=Rw(s,n),n<=2097151)return String(tc*n+s);const t=s&16777215,i=(s>>>24|n<<8)&16777215,l=n>>16&65535;let c=t+i*6777216+l*6710656,d=i+l*8147497,g=l*2;const y=1e7;return c>=y&&(d+=Math.floor(c/y),c%=y),d>=y&&(g+=Math.floor(d/y),d%=y),g.toString()+Cv(d)+Cv(c)}function Rw(s,n){return{lo:s>>>0,hi:n>>>0}}function rg(s,n){return{lo:s|0,hi:n|0}}function B0(s,n){return n=~n,s?s=~s+1:n+=1,rg(s,n)}const Cv=s=>{const n=String(s);return"0000000".slice(n.length)+n};function Rv(s,n){if(s>=0){for(;s>127;)n.push(s&127|128),s=s>>>7;n.push(s)}else{for(let t=0;t<9;t++)n.push(s&127|128),s=s>>7;n.push(1)}}function Iw(){let s=this.buf[this.pos++],n=s&127;if((s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<7,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<14,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<21,(s&128)==0)return this.assertBounds(),n;s=this.buf[this.pos++],n|=(s&15)<<28;for(let t=5;(s&128)!==0&&t<10;t++)s=this.buf[this.pos++];if((s&128)!=0)throw new Error("invalid varint");return this.assertBounds(),n>>>0}var Iv={};function Bw(){const s=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof s.getBigInt64=="function"&&typeof s.getBigUint64=="function"&&typeof s.setBigInt64=="function"&&typeof s.setBigUint64=="function"&&(typeof process!="object"||typeof Iv!="object"||Iv.BUF_BIGINT_DISABLE!=="1")){const l=BigInt("-9223372036854775808"),c=BigInt("9223372036854775807"),d=BigInt("0"),g=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(y){const v=typeof y=="bigint"?y:BigInt(y);if(v>c||v<l)throw new Error(`int64 invalid: ${y}`);return v},uParse(y){const v=typeof y=="bigint"?y:BigInt(y);if(v>g||v<d)throw new Error(`uint64 invalid: ${y}`);return v},enc(y){return s.setBigInt64(0,this.parse(y),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},uEnc(y){return s.setBigInt64(0,this.uParse(y),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},dec(y,v){return s.setInt32(0,y,!0),s.setInt32(4,v,!0),s.getBigInt64(0,!0)},uDec(y,v){return s.setInt32(0,y,!0),s.setInt32(4,v,!0),s.getBigUint64(0,!0)}}}const t=l=>Zt(/^-?[0-9]+$/.test(l),`int64 invalid: ${l}`),i=l=>Zt(/^[0-9]+$/.test(l),`uint64 invalid: ${l}`);return{zero:"0",supported:!1,parse(l){return typeof l!="string"&&(l=l.toString()),t(l),l},uParse(l){return typeof l!="string"&&(l=l.toString()),i(l),l},enc(l){return typeof l!="string"&&(l=l.toString()),t(l),kv(l)},uEnc(l){return typeof l!="string"&&(l=l.toString()),i(l),kv(l)},dec(l,c){return Cw(l,c)},uDec(l,c){return I0(l,c)}}}const Tt=Bw();var z;(function(s){s[s.DOUBLE=1]="DOUBLE",s[s.FLOAT=2]="FLOAT",s[s.INT64=3]="INT64",s[s.UINT64=4]="UINT64",s[s.INT32=5]="INT32",s[s.FIXED64=6]="FIXED64",s[s.FIXED32=7]="FIXED32",s[s.BOOL=8]="BOOL",s[s.STRING=9]="STRING",s[s.BYTES=12]="BYTES",s[s.UINT32=13]="UINT32",s[s.SFIXED32=15]="SFIXED32",s[s.SFIXED64=16]="SFIXED64",s[s.SINT32=17]="SINT32",s[s.SINT64=18]="SINT64"})(z||(z={}));var Aa;(function(s){s[s.BIGINT=0]="BIGINT",s[s.STRING=1]="STRING"})(Aa||(Aa={}));function ga(s,n,t){if(n===t)return!0;if(s==z.BYTES){if(!(n instanceof Uint8Array)||!(t instanceof Uint8Array)||n.length!==t.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==t[i])return!1;return!0}switch(s){case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return n==t}return!1}function Gs(s,n){switch(s){case z.BOOL:return!1;case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return n==0?Tt.zero:"0";case z.DOUBLE:case z.FLOAT:return 0;case z.BYTES:return new Uint8Array(0);case z.STRING:return"";default:return 0}}function z0(s,n){switch(s){case z.BOOL:return n===!1;case z.STRING:return n==="";case z.BYTES:return n instanceof Uint8Array&&!n.byteLength;default:return n==0}}var ee;(function(s){s[s.Varint=0]="Varint",s[s.Bit64=1]="Bit64",s[s.LengthDelimited=2]="LengthDelimited",s[s.StartGroup=3]="StartGroup",s[s.EndGroup=4]="EndGroup",s[s.Bit32=5]="Bit32"})(ee||(ee={}));class zw{constructor(n){this.stack=[],this.textEncoder=n??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let n=0;for(let l=0;l<this.chunks.length;l++)n+=this.chunks[l].length;let t=new Uint8Array(n),i=0;for(let l=0;l<this.chunks.length;l++)t.set(this.chunks[l],i),i+=this.chunks[l].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let n=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(n.byteLength),this.raw(n)}tag(n,t){return this.uint32((n<<3|t)>>>0)}raw(n){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(n),this}uint32(n){for(md(n);n>127;)this.buf.push(n&127|128),n=n>>>7;return this.buf.push(n),this}int32(n){return Wu(n),Rv(n,this.buf),this}bool(n){return this.buf.push(n?1:0),this}bytes(n){return this.uint32(n.byteLength),this.raw(n)}string(n){let t=this.textEncoder.encode(n);return this.uint32(t.byteLength),this.raw(t)}float(n){D0(n);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,n,!0),this.raw(t)}double(n){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,n,!0),this.raw(t)}fixed32(n){md(n);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,n,!0),this.raw(t)}sfixed32(n){Wu(n);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,n,!0),this.raw(t)}sint32(n){return Wu(n),n=(n<<1^n>>31)>>>0,Rv(n,this.buf),this}sfixed64(n){let t=new Uint8Array(8),i=new DataView(t.buffer),l=Tt.enc(n);return i.setInt32(0,l.lo,!0),i.setInt32(4,l.hi,!0),this.raw(t)}fixed64(n){let t=new Uint8Array(8),i=new DataView(t.buffer),l=Tt.uEnc(n);return i.setInt32(0,l.lo,!0),i.setInt32(4,l.hi,!0),this.raw(t)}int64(n){let t=Tt.enc(n);return ld(t.lo,t.hi,this.buf),this}sint64(n){let t=Tt.enc(n),i=t.hi>>31,l=t.lo<<1^i,c=(t.hi<<1|t.lo>>>31)^i;return ld(l,c,this.buf),this}uint64(n){let t=Tt.uEnc(n);return ld(t.lo,t.hi,this.buf),this}}class Mw{constructor(n,t){this.varint64=kw,this.uint32=Iw,this.buf=n,this.len=n.length,this.pos=0,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.textDecoder=t??new TextDecoder}tag(){let n=this.uint32(),t=n>>>3,i=n&7;if(t<=0||i<0||i>5)throw new Error("illegal tag: field no "+t+" wire type "+i);return[t,i]}skip(n,t){let i=this.pos;switch(n){case ee.Varint:for(;this.buf[this.pos++]&128;);break;case ee.Bit64:this.pos+=4;case ee.Bit32:this.pos+=4;break;case ee.LengthDelimited:let l=this.uint32();this.pos+=l;break;case ee.StartGroup:for(;;){const[c,d]=this.tag();if(d===ee.EndGroup){if(t!==void 0&&c!==t)throw new Error("invalid end group tag");break}this.skip(d,c)}break;default:throw new Error("cant skip wire type "+n)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let n=this.uint32();return n>>>1^-(n&1)}int64(){return Tt.dec(...this.varint64())}uint64(){return Tt.uDec(...this.varint64())}sint64(){let[n,t]=this.varint64(),i=-(n&1);return n=(n>>>1|(t&1)<<31)^i,t=t>>>1^i,Tt.dec(n,t)}bool(){let[n,t]=this.varint64();return n!==0||t!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Tt.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Tt.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let n=this.uint32(),t=this.pos;return this.pos+=n,this.assertBounds(),this.buf.subarray(t,t+n)}string(){return this.textDecoder.decode(this.bytes())}}function Uw(s,n,t,i){let l;return{typeName:n,extendee:t,get field(){if(!l){const c=typeof i=="function"?i():i;c.name=n.split(".").pop(),c.jsonName=`[${n}]`,l=s.util.newFieldList([c]).list()[0]}return l},runtime:s}}function M0(s){const n=s.field.localName,t=Object.create(null);return t[n]=Lw(s),[t,()=>t[n]]}function Lw(s){const n=s.field;if(n.repeated)return[];if(n.default!==void 0)return n.default;switch(n.kind){case"enum":return n.T.values[0].no;case"scalar":return Gs(n.T,n.L);case"message":const t=n.T,i=new t;return t.fieldWrapper?t.fieldWrapper.unwrapField(i):i;case"map":throw"map fields are not allowed to be extensions"}}function Jw(s,n){if(!n.repeated&&(n.kind=="enum"||n.kind=="scalar")){for(let t=s.length-1;t>=0;--t)if(s[t].no==n.no)return[s[t]];return[]}return s.filter(t=>t.no===n.no)}let Bi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Ic=[];for(let s=0;s<Bi.length;s++)Ic[Bi[s].charCodeAt(0)]=s;Ic[45]=Bi.indexOf("+");Ic[95]=Bi.indexOf("/");const ig={dec(s){let n=s.length*3/4;s[s.length-2]=="="?n-=2:s[s.length-1]=="="&&(n-=1);let t=new Uint8Array(n),i=0,l=0,c,d=0;for(let g=0;g<s.length;g++){if(c=Ic[s.charCodeAt(g)],c===void 0)switch(s[g]){case"=":l=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(l){case 0:d=c,l=1;break;case 1:t[i++]=d<<2|(c&48)>>4,d=c,l=2;break;case 2:t[i++]=(d&15)<<4|(c&60)>>2,d=c,l=3;break;case 3:t[i++]=(d&3)<<6|c,l=0;break}}if(l==1)throw Error("invalid base64 string.");return t.subarray(0,i)},enc(s){let n="",t=0,i,l=0;for(let c=0;c<s.length;c++)switch(i=s[c],t){case 0:n+=Bi[i>>2],l=(i&3)<<4,t=1;break;case 1:n+=Bi[l|i>>4],l=(i&15)<<2,t=2;break;case 2:n+=Bi[l|i>>6],n+=Bi[i&63],t=0;break}return t&&(n+=Bi[l],n+="=",t==1&&(n+="=")),n}};function qw(s,n,t){L0(n,s);const i=n.runtime.bin.makeReadOptions(t),l=Jw(s.getType().runtime.bin.listUnknownFields(s),n.field),[c,d]=M0(n);for(const g of l)n.runtime.bin.readField(c,i.readerFactory(g.data),n.field,g.wireType,i);return d()}function Pw(s,n,t,i){L0(n,s);const l=n.runtime.bin.makeReadOptions(i),c=n.runtime.bin.makeWriteOptions(i);if(U0(s,n)){const v=s.getType().runtime.bin.listUnknownFields(s).filter(b=>b.no!=n.field.no);s.getType().runtime.bin.discardUnknownFields(s);for(const b of v)s.getType().runtime.bin.onUnknownField(s,b.no,b.wireType,b.data)}const d=c.writerFactory();let g=n.field;!g.opt&&!g.repeated&&(g.kind=="enum"||g.kind=="scalar")&&(g=Object.assign(Object.assign({},n.field),{opt:!0})),n.runtime.bin.writeField(g,t,d,c);const y=l.readerFactory(d.finish());for(;y.pos<y.len;){const[v,b]=y.tag(),E=y.skip(b,v);s.getType().runtime.bin.onUnknownField(s,v,b,E)}}function U0(s,n){const t=s.getType();return n.extendee.typeName===t.typeName&&!!t.runtime.bin.listUnknownFields(s).find(i=>i.no==n.field.no)}function L0(s,n){Zt(s.extendee.typeName==n.getType().typeName,`extension ${s.typeName} can only be applied to message ${s.extendee.typeName}`)}function J0(s,n){const t=s.localName;if(s.repeated)return n[t].length>0;if(s.oneof)return n[s.oneof.localName].case===t;switch(s.kind){case"enum":case"scalar":return s.opt||s.req?n[t]!==void 0:s.kind=="enum"?n[t]!==s.T.values[0].no:!z0(s.T,n[t]);case"message":return n[t]!==void 0;case"map":return Object.keys(n[t]).length>0}}function Bv(s,n){const t=s.localName,i=!s.opt&&!s.req;if(s.repeated)n[t]=[];else if(s.oneof)n[s.oneof.localName]={case:void 0};else switch(s.kind){case"map":n[t]={};break;case"enum":n[t]=i?s.T.values[0].no:void 0;break;case"scalar":n[t]=i?Gs(s.T,s.L):void 0;break;case"message":n[t]=void 0;break}}function zi(s,n){if(s===null||typeof s!="object"||!Object.getOwnPropertyNames(K.prototype).every(i=>i in s&&typeof s[i]=="function"))return!1;const t=s.getType();return t===null||typeof t!="function"||!("typeName"in t)||typeof t.typeName!="string"?!1:n===void 0?!0:t.typeName==n.typeName}function q0(s,n){return zi(n)||!s.fieldWrapper?n:s.fieldWrapper.wrapField(n)}z.DOUBLE,z.FLOAT,z.INT64,z.UINT64,z.INT32,z.UINT32,z.BOOL,z.STRING,z.BYTES;const zv={ignoreUnknownFields:!1},Mv={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function Vw(s){return s?Object.assign(Object.assign({},zv),s):zv}function Hw(s){return s?Object.assign(Object.assign({},Mv),s):Mv}const ac=Symbol(),ec=Symbol();function Kw(){return{makeReadOptions:Vw,makeWriteOptions:Hw,readMessage(s,n,t,i){if(n==null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message ${s.typeName} from JSON: ${Kn(n)}`);i=i??new s;const l=new Map,c=t.typeRegistry;for(const[d,g]of Object.entries(n)){const y=s.fields.findJsonName(d);if(y){if(y.oneof){if(g===null&&y.kind=="scalar")continue;const v=l.get(y.oneof);if(v!==void 0)throw new Error(`cannot decode message ${s.typeName} from JSON: multiple keys for oneof "${y.oneof.name}" present: "${v}", "${d}"`);l.set(y.oneof,d)}Uv(i,g,y,t,s)}else{let v=!1;if(c!=null&&c.findExtension&&d.startsWith("[")&&d.endsWith("]")){const b=c.findExtension(d.substring(1,d.length-1));if(b&&b.extendee.typeName==s.typeName){v=!0;const[E,O]=M0(b);Uv(E,g,b.field,t,b),Pw(i,b,O(),t)}}if(!v&&!t.ignoreUnknownFields)throw new Error(`cannot decode message ${s.typeName} from JSON: key "${d}" is unknown`)}}return i},writeMessage(s,n){const t=s.getType(),i={};let l;try{for(l of t.fields.byNumber()){if(!J0(l,s)){if(l.req)throw"required field not set";if(!n.emitDefaultValues||!Yw(l))continue}const d=l.oneof?s[l.oneof.localName].value:s[l.localName],g=Lv(l,d,n);g!==void 0&&(i[n.useProtoFieldName?l.name:l.jsonName]=g)}const c=n.typeRegistry;if(c!=null&&c.findExtensionFor)for(const d of t.runtime.bin.listUnknownFields(s)){const g=c.findExtensionFor(t.typeName,d.no);if(g&&U0(s,g)){const y=qw(s,g,n),v=Lv(g.field,y,n);v!==void 0&&(i[g.field.jsonName]=v)}}}catch(c){const d=l?`cannot encode field ${t.typeName}.${l.name} to JSON`:`cannot encode message ${t.typeName} to JSON`,g=c instanceof Error?c.message:String(c);throw new Error(d+(g.length>0?`: ${g}`:""))}return i},readScalar(s,n,t){return hl(s,n,t??Aa.BIGINT,!0)},writeScalar(s,n,t){if(n!==void 0&&(t||z0(s,n)))return nc(s,n)},debug:Kn}}function Kn(s){if(s===null)return"null";switch(typeof s){case"object":return Array.isArray(s)?"array":"object";case"string":return s.length>100?"string":`"${s.split('"').join('\\"')}"`;default:return String(s)}}function Uv(s,n,t,i,l){let c=t.localName;if(t.repeated){if(Zt(t.kind!="map"),n===null)return;if(!Array.isArray(n))throw new Error(`cannot decode field ${l.typeName}.${t.name} from JSON: ${Kn(n)}`);const d=s[c];for(const g of n){if(g===null)throw new Error(`cannot decode field ${l.typeName}.${t.name} from JSON: ${Kn(g)}`);switch(t.kind){case"message":d.push(t.T.fromJson(g,i));break;case"enum":const y=ud(t.T,g,i.ignoreUnknownFields,!0);y!==ec&&d.push(y);break;case"scalar":try{d.push(hl(t.T,g,t.L,!0))}catch(v){let b=`cannot decode field ${l.typeName}.${t.name} from JSON: ${Kn(g)}`;throw v instanceof Error&&v.message.length>0&&(b+=`: ${v.message}`),new Error(b)}break}}}else if(t.kind=="map"){if(n===null)return;if(typeof n!="object"||Array.isArray(n))throw new Error(`cannot decode field ${l.typeName}.${t.name} from JSON: ${Kn(n)}`);const d=s[c];for(const[g,y]of Object.entries(n)){if(y===null)throw new Error(`cannot decode field ${l.typeName}.${t.name} from JSON: map value null`);let v;try{v=jw(t.K,g)}catch(b){let E=`cannot decode map key for field ${l.typeName}.${t.name} from JSON: ${Kn(n)}`;throw b instanceof Error&&b.message.length>0&&(E+=`: ${b.message}`),new Error(E)}switch(t.V.kind){case"message":d[v]=t.V.T.fromJson(y,i);break;case"enum":const b=ud(t.V.T,y,i.ignoreUnknownFields,!0);b!==ec&&(d[v]=b);break;case"scalar":try{d[v]=hl(t.V.T,y,Aa.BIGINT,!0)}catch(E){let O=`cannot decode map value for field ${l.typeName}.${t.name} from JSON: ${Kn(n)}`;throw E instanceof Error&&E.message.length>0&&(O+=`: ${E.message}`),new Error(O)}break}}}else switch(t.oneof&&(s=s[t.oneof.localName]={case:c},c="value"),t.kind){case"message":const d=t.T;if(n===null&&d.typeName!="google.protobuf.Value")return;let g=s[c];zi(g)?g.fromJson(n,i):(s[c]=g=d.fromJson(n,i),d.fieldWrapper&&!t.oneof&&(s[c]=d.fieldWrapper.unwrapField(g)));break;case"enum":const y=ud(t.T,n,i.ignoreUnknownFields,!1);switch(y){case ac:Bv(t,s);break;case ec:break;default:s[c]=y;break}break;case"scalar":try{const v=hl(t.T,n,t.L,!1);switch(v){case ac:Bv(t,s);break;default:s[c]=v;break}}catch(v){let b=`cannot decode field ${l.typeName}.${t.name} from JSON: ${Kn(n)}`;throw v instanceof Error&&v.message.length>0&&(b+=`: ${v.message}`),new Error(b)}break}}function jw(s,n){if(s===z.BOOL)switch(n){case"true":n=!0;break;case"false":n=!1;break}return hl(s,n,Aa.BIGINT,!0).toString()}function hl(s,n,t,i){if(n===null)return i?Gs(s,t):ac;switch(s){case z.DOUBLE:case z.FLOAT:if(n==="NaN")return Number.NaN;if(n==="Infinity")return Number.POSITIVE_INFINITY;if(n==="-Infinity")return Number.NEGATIVE_INFINITY;if(n===""||typeof n=="string"&&n.trim().length!==n.length||typeof n!="string"&&typeof n!="number")break;const l=Number(n);if(Number.isNaN(l)||!Number.isFinite(l))break;return s==z.FLOAT&&D0(l),l;case z.INT32:case z.FIXED32:case z.SFIXED32:case z.SINT32:case z.UINT32:let c;if(typeof n=="number"?c=n:typeof n=="string"&&n.length>0&&n.trim().length===n.length&&(c=Number(n)),c===void 0)break;return s==z.UINT32||s==z.FIXED32?md(c):Wu(c),c;case z.INT64:case z.SFIXED64:case z.SINT64:if(typeof n!="number"&&typeof n!="string")break;const d=Tt.parse(n);return t?d.toString():d;case z.FIXED64:case z.UINT64:if(typeof n!="number"&&typeof n!="string")break;const g=Tt.uParse(n);return t?g.toString():g;case z.BOOL:if(typeof n!="boolean")break;return n;case z.STRING:if(typeof n!="string")break;try{encodeURIComponent(n)}catch{throw new Error("invalid UTF8")}return n;case z.BYTES:if(n==="")return new Uint8Array(0);if(typeof n!="string")break;return ig.dec(n)}throw new Error}function ud(s,n,t,i){if(n===null)return s.typeName=="google.protobuf.NullValue"?0:i?s.values[0].no:ac;switch(typeof n){case"number":if(Number.isInteger(n))return n;break;case"string":const l=s.findName(n);if(l!==void 0)return l.no;if(t)return ec;break}throw new Error(`cannot decode enum ${s.typeName} from JSON: ${Kn(n)}`)}function Yw(s){return s.repeated||s.kind=="map"?!0:!(s.oneof||s.kind=="message"||s.opt||s.req)}function Lv(s,n,t){if(s.kind=="map"){Zt(typeof n=="object"&&n!=null);const i={},l=Object.entries(n);switch(s.V.kind){case"scalar":for(const[d,g]of l)i[d.toString()]=nc(s.V.T,g);break;case"message":for(const[d,g]of l)i[d.toString()]=g.toJson(t);break;case"enum":const c=s.V.T;for(const[d,g]of l)i[d.toString()]=cd(c,g,t.enumAsInteger);break}return t.emitDefaultValues||l.length>0?i:void 0}if(s.repeated){Zt(Array.isArray(n));const i=[];switch(s.kind){case"scalar":for(let l=0;l<n.length;l++)i.push(nc(s.T,n[l]));break;case"enum":for(let l=0;l<n.length;l++)i.push(cd(s.T,n[l],t.enumAsInteger));break;case"message":for(let l=0;l<n.length;l++)i.push(n[l].toJson(t));break}return t.emitDefaultValues||i.length>0?i:void 0}switch(s.kind){case"scalar":return nc(s.T,n);case"enum":return cd(s.T,n,t.enumAsInteger);case"message":return q0(s.T,n).toJson(t)}}function cd(s,n,t){var i;if(Zt(typeof n=="number"),s.typeName=="google.protobuf.NullValue")return null;if(t)return n;const l=s.findNumber(n);return(i=l==null?void 0:l.name)!==null&&i!==void 0?i:n}function nc(s,n){switch(s){case z.INT32:case z.SFIXED32:case z.SINT32:case z.FIXED32:case z.UINT32:return Zt(typeof n=="number"),n;case z.FLOAT:case z.DOUBLE:return Zt(typeof n=="number"),Number.isNaN(n)?"NaN":n===Number.POSITIVE_INFINITY?"Infinity":n===Number.NEGATIVE_INFINITY?"-Infinity":n;case z.STRING:return Zt(typeof n=="string"),n;case z.BOOL:return Zt(typeof n=="boolean"),n;case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return Zt(typeof n=="bigint"||typeof n=="string"||typeof n=="number"),n.toString();case z.BYTES:return Zt(n instanceof Uint8Array),ig.enc(n)}}const Js=Symbol("@bufbuild/protobuf/unknown-fields"),Jv={readUnknownFields:!0,readerFactory:s=>new Mw(s)},qv={writeUnknownFields:!0,writerFactory:()=>new zw};function $w(s){return s?Object.assign(Object.assign({},Jv),s):Jv}function Gw(s){return s?Object.assign(Object.assign({},qv),s):qv}function Xw(){return{makeReadOptions:$w,makeWriteOptions:Gw,listUnknownFields(s){var n;return(n=s[Js])!==null&&n!==void 0?n:[]},discardUnknownFields(s){delete s[Js]},writeUnknownFields(s,n){const i=s[Js];if(i)for(const l of i)n.tag(l.no,l.wireType).raw(l.data)},onUnknownField(s,n,t,i){const l=s;Array.isArray(l[Js])||(l[Js]=[]),l[Js].push({no:n,wireType:t,data:i})},readMessage(s,n,t,i,l){const c=s.getType(),d=l?n.len:n.pos+t;let g,y;for(;n.pos<d&&([g,y]=n.tag(),!(l===!0&&y==ee.EndGroup));){const v=c.fields.find(g);if(!v){const b=n.skip(y,g);i.readUnknownFields&&this.onUnknownField(s,g,y,b);continue}Pv(s,n,v,y,i)}if(l&&(y!=ee.EndGroup||g!==t))throw new Error("invalid end group tag")},readField:Pv,writeMessage(s,n,t){const i=s.getType();for(const l of i.fields.byNumber()){if(!J0(l,s)){if(l.req)throw new Error(`cannot encode field ${i.typeName}.${l.name} to binary: required field not set`);continue}const c=l.oneof?s[l.oneof.localName].value:s[l.localName];Vv(l,c,n,t)}return t.writeUnknownFields&&this.writeUnknownFields(s,n),n},writeField(s,n,t,i){n!==void 0&&Vv(s,n,t,i)}}}function Pv(s,n,t,i,l){let{repeated:c,localName:d}=t;switch(t.oneof&&(s=s[t.oneof.localName],s.case!=d&&delete s.value,s.case=d,d="value"),t.kind){case"scalar":case"enum":const g=t.kind=="enum"?z.INT32:t.T;let y=sc;if(t.kind=="scalar"&&t.L>0&&(y=Zw),c){let O=s[d];if(i==ee.LengthDelimited&&g!=z.STRING&&g!=z.BYTES){let U=n.uint32()+n.pos;for(;n.pos<U;)O.push(y(n,g))}else O.push(y(n,g))}else s[d]=y(n,g);break;case"message":const v=t.T;c?s[d].push(rc(n,new v,l,t)):zi(s[d])?rc(n,s[d],l,t):(s[d]=rc(n,new v,l,t),v.fieldWrapper&&!t.oneof&&!t.repeated&&(s[d]=v.fieldWrapper.unwrapField(s[d])));break;case"map":let[b,E]=Fw(t,n,l);s[d][b]=E;break}}function rc(s,n,t,i){const l=n.getType().runtime.bin,c=i==null?void 0:i.delimited;return l.readMessage(n,s,c?i.no:s.uint32(),t,c),n}function Fw(s,n,t){const i=n.uint32(),l=n.pos+i;let c,d;for(;n.pos<l;){const[g]=n.tag();switch(g){case 1:c=sc(n,s.K);break;case 2:switch(s.V.kind){case"scalar":d=sc(n,s.V.T);break;case"enum":d=n.int32();break;case"message":d=rc(n,new s.V.T,t,void 0);break}break}}if(c===void 0&&(c=Gs(s.K,Aa.BIGINT)),typeof c!="string"&&typeof c!="number"&&(c=c.toString()),d===void 0)switch(s.V.kind){case"scalar":d=Gs(s.V.T,Aa.BIGINT);break;case"enum":d=s.V.T.values[0].no;break;case"message":d=new s.V.T;break}return[c,d]}function Zw(s,n){const t=sc(s,n);return typeof t=="bigint"?t.toString():t}function sc(s,n){switch(n){case z.STRING:return s.string();case z.BOOL:return s.bool();case z.DOUBLE:return s.double();case z.FLOAT:return s.float();case z.INT32:return s.int32();case z.INT64:return s.int64();case z.UINT64:return s.uint64();case z.FIXED64:return s.fixed64();case z.BYTES:return s.bytes();case z.FIXED32:return s.fixed32();case z.SFIXED32:return s.sfixed32();case z.SFIXED64:return s.sfixed64();case z.SINT64:return s.sint64();case z.UINT32:return s.uint32();case z.SINT32:return s.sint32()}}function Vv(s,n,t,i){Zt(n!==void 0);const l=s.repeated;switch(s.kind){case"scalar":case"enum":let c=s.kind=="enum"?z.INT32:s.T;if(l)if(Zt(Array.isArray(n)),s.packed)_w(t,c,s.no,n);else for(const d of n)dl(t,c,s.no,d);else dl(t,c,s.no,n);break;case"message":if(l){Zt(Array.isArray(n));for(const d of n)Hv(t,i,s,d)}else Hv(t,i,s,n);break;case"map":Zt(typeof n=="object"&&n!=null);for(const[d,g]of Object.entries(n))Qw(t,i,s,d,g);break}}function Qw(s,n,t,i,l){s.tag(t.no,ee.LengthDelimited),s.fork();let c=i;switch(t.K){case z.INT32:case z.FIXED32:case z.UINT32:case z.SFIXED32:case z.SINT32:c=Number.parseInt(i);break;case z.BOOL:Zt(i=="true"||i=="false"),c=i=="true";break}switch(dl(s,t.K,1,c),t.V.kind){case"scalar":dl(s,t.V.T,2,l);break;case"enum":dl(s,z.INT32,2,l);break;case"message":Zt(l!==void 0),s.tag(2,ee.LengthDelimited).bytes(l.toBinary(n));break}s.join()}function Hv(s,n,t,i){const l=q0(t.T,i);t.delimited?s.tag(t.no,ee.StartGroup).raw(l.toBinary(n)).tag(t.no,ee.EndGroup):s.tag(t.no,ee.LengthDelimited).bytes(l.toBinary(n))}function dl(s,n,t,i){Zt(i!==void 0);let[l,c]=P0(n);s.tag(t,l)[c](i)}function _w(s,n,t,i){if(!i.length)return;s.tag(t,ee.LengthDelimited).fork();let[,l]=P0(n);for(let c=0;c<i.length;c++)s[l](i[c]);s.join()}function P0(s){let n=ee.Varint;switch(s){case z.BYTES:case z.STRING:n=ee.LengthDelimited;break;case z.DOUBLE:case z.FIXED64:case z.SFIXED64:n=ee.Bit64;break;case z.FIXED32:case z.SFIXED32:case z.FLOAT:n=ee.Bit32;break}const t=z[s].toLowerCase();return[n,t]}function Ww(){return{setEnumType:k0,initPartial(s,n){if(s===void 0)return;const t=n.getType();for(const i of t.fields.byMember()){const l=i.localName,c=n,d=s;if(d[l]!=null)switch(i.kind){case"oneof":const g=d[l].case;if(g===void 0)continue;const y=i.findField(g);let v=d[l].value;y&&y.kind=="message"&&!zi(v,y.T)?v=new y.T(v):y&&y.kind==="scalar"&&y.T===z.BYTES&&(v=sl(v)),c[l]={case:g,value:v};break;case"scalar":case"enum":let b=d[l];i.T===z.BYTES&&(b=i.repeated?b.map(sl):sl(b)),c[l]=b;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===z.BYTES)for(const[k,U]of Object.entries(d[l]))c[l][k]=sl(U);else Object.assign(c[l],d[l]);break;case"message":const O=i.V.T;for(const k of Object.keys(d[l])){let U=d[l][k];O.fieldWrapper||(U=new O(U)),c[l][k]=U}break}break;case"message":const E=i.T;if(i.repeated)c[l]=d[l].map(O=>zi(O,E)?O:new E(O));else{const O=d[l];E.fieldWrapper?E.typeName==="google.protobuf.BytesValue"?c[l]=sl(O):c[l]=O:c[l]=zi(O,E)?O:new E(O)}break}}},equals(s,n,t){return n===t?!0:!n||!t?!1:s.fields.byMember().every(i=>{const l=n[i.localName],c=t[i.localName];if(i.repeated){if(l.length!==c.length)return!1;switch(i.kind){case"message":return l.every((d,g)=>i.T.equals(d,c[g]));case"scalar":return l.every((d,g)=>ga(i.T,d,c[g]));case"enum":return l.every((d,g)=>ga(z.INT32,d,c[g]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":let d=l,g=c;return i.T.fieldWrapper&&(d!==void 0&&!zi(d)&&(d=i.T.fieldWrapper.wrapField(d)),g!==void 0&&!zi(g)&&(g=i.T.fieldWrapper.wrapField(g))),i.T.equals(d,g);case"enum":return ga(z.INT32,l,c);case"scalar":return ga(i.T,l,c);case"oneof":if(l.case!==c.case)return!1;const y=i.findField(l.case);if(y===void 0)return!0;switch(y.kind){case"message":return y.T.equals(l.value,c.value);case"enum":return ga(z.INT32,l.value,c.value);case"scalar":return ga(y.T,l.value,c.value)}throw new Error(`oneof cannot contain ${y.kind}`);case"map":const v=Object.keys(l).concat(Object.keys(c));switch(i.V.kind){case"message":const b=i.V.T;return v.every(O=>b.equals(l[O],c[O]));case"enum":return v.every(O=>ga(z.INT32,l[O],c[O]));case"scalar":const E=i.V.T;return v.every(O=>ga(E,l[O],c[O]))}break}})},clone(s){const n=s.getType(),t=new n,i=t;for(const l of n.fields.byMember()){const c=s[l.localName];let d;if(l.repeated)d=c.map($u);else if(l.kind=="map"){d=i[l.localName];for(const[g,y]of Object.entries(c))d[g]=$u(y)}else l.kind=="oneof"?d=l.findField(c.case)?{case:c.case,value:$u(c.value)}:{case:void 0}:d=$u(c);i[l.localName]=d}for(const l of n.runtime.bin.listUnknownFields(s))n.runtime.bin.onUnknownField(i,l.no,l.wireType,l.data);return t}}}function $u(s){if(s===void 0)return s;if(zi(s))return s.clone();if(s instanceof Uint8Array){const n=new Uint8Array(s.byteLength);return n.set(s),n}return s}function sl(s){return s instanceof Uint8Array?s:new Uint8Array(s)}function t1(s,n,t){return{syntax:s,json:Kw(),bin:Xw(),util:Object.assign(Object.assign({},Ww()),{newFieldList:n,initFields:t}),makeMessageType(i,l,c){return Ow(this,i,l,c)},makeEnum:Dw,makeEnumType:C0,getEnumType:Nw,makeExtension(i,l,c){return Uw(this,i,l,c)}}}class e1{constructor(n,t){this._fields=n,this._normalizer=t}findJsonName(n){if(!this.jsonNames){const t={};for(const i of this.list())t[i.jsonName]=t[i.name]=i;this.jsonNames=t}return this.jsonNames[n]}find(n){if(!this.numbers){const t={};for(const i of this.list())t[i.no]=i;this.numbers=t}return this.numbers[n]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((n,t)=>n.no-t.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const n=this.members;let t;for(const i of this.list())i.oneof?i.oneof!==t&&(t=i.oneof,n.push(t)):n.push(i)}return this.members}}function V0(s,n){const t=H0(s);return n?t:o1(s1(t))}function n1(s){return V0(s,!1)}const r1=H0;function H0(s){let n=!1;const t=[];for(let i=0;i<s.length;i++){let l=s.charAt(i);switch(l){case"_":n=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":t.push(l),n=!1;break;default:n&&(n=!1,l=l.toUpperCase()),t.push(l);break}}return t.join("")}const i1=new Set(["constructor","toString","toJSON","valueOf"]),a1=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),K0=s=>`${s}$`,s1=s=>a1.has(s)?K0(s):s,o1=s=>i1.has(s)?K0(s):s;class l1{constructor(n){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=n,this.localName=n1(n)}addField(n){Zt(n.oneof===this,`field ${n.name} not one of ${this.name}`),this.fields.push(n)}findField(n){if(!this._lookup){this._lookup=Object.create(null);for(let t=0;t<this.fields.length;t++)this._lookup[this.fields[t].localName]=this.fields[t]}return this._lookup[n]}}function u1(s,n){var t,i,l,c,d,g;const y=[];let v;for(const b of typeof s=="function"?s():s){const E=b;if(E.localName=V0(b.name,b.oneof!==void 0),E.jsonName=(t=b.jsonName)!==null&&t!==void 0?t:r1(b.name),E.repeated=(i=b.repeated)!==null&&i!==void 0?i:!1,b.kind=="scalar"&&(E.L=(l=b.L)!==null&&l!==void 0?l:Aa.BIGINT),E.delimited=(c=b.delimited)!==null&&c!==void 0?c:!1,E.req=(d=b.req)!==null&&d!==void 0?d:!1,E.opt=(g=b.opt)!==null&&g!==void 0?g:!1,b.packed===void 0&&(E.packed=b.kind=="enum"||b.kind=="scalar"&&b.T!=z.BYTES&&b.T!=z.STRING),b.oneof!==void 0){const O=typeof b.oneof=="string"?b.oneof:b.oneof.name;(!v||v.name!=O)&&(v=new l1(O)),E.oneof=v,v.addField(E)}y.push(E)}return y}const p=t1("proto3",s=>new e1(s,n=>u1(n)),s=>{for(const n of s.getType().fields.byMember()){if(n.opt)continue;const t=n.localName,i=s;if(n.repeated){i[t]=[];continue}switch(n.kind){case"oneof":i[t]={case:void 0};break;case"enum":i[t]=0;break;case"map":i[t]={};break;case"scalar":i[t]=Gs(n.T,n.L);break}}});var le;(function(s){s[s.Unary=0]="Unary",s[s.ServerStreaming=1]="ServerStreaming",s[s.ClientStreaming=2]="ClientStreaming",s[s.BiDiStreaming=3]="BiDiStreaming"})(le||(le={}));var Kv;(function(s){s[s.NoSideEffects=1]="NoSideEffects",s[s.Idempotent=2]="Idempotent"})(Kv||(Kv={}));class pe extends K{constructor(n){super(),this.seconds=Tt.zero,this.nanos=0,p.util.initPartial(n,this)}fromJson(n,t){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${p.json.debug(n)}`);const i=n.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const l=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(l))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(l<Date.parse("0001-01-01T00:00:00Z")||l>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Tt.parse(l/1e3),this.nanos=0,i[7]&&(this.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),this}toJson(n){const t=Number(this.seconds)*1e3;if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let i="Z";if(this.nanos>0){const l=(this.nanos+1e9).toString().substring(1);l.substring(3)==="000000"?i="."+l.substring(0,3)+"Z":l.substring(6)==="000"?i="."+l.substring(0,6)+"Z":i="."+l+"Z"}return new Date(t).toISOString().replace(".000Z",i)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return pe.fromDate(new Date)}static fromDate(n){const t=n.getTime();return new pe({seconds:Tt.parse(Math.floor(t/1e3)),nanos:t%1e3*1e6})}static fromBinary(n,t){return new pe().fromBinary(n,t)}static fromJson(n,t){return new pe().fromJson(n,t)}static fromJsonString(n,t){return new pe().fromJsonString(n,t)}static equals(n,t){return p.util.equals(pe,n,t)}}pe.runtime=p;pe.typeName="google.protobuf.Timestamp";pe.fields=p.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Mi extends K{constructor(n){super(),this.seconds=Tt.zero,this.nanos=0,p.util.initPartial(n,this)}fromJson(n,t){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${p.json.debug(n)}`);const i=n.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(i===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${p.json.debug(n)}`);const l=Number(i[1]);if(l>315576e6||l<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${p.json.debug(n)}`);if(this.seconds=Tt.parse(l),typeof i[2]=="string"){const c=i[2]+"0".repeat(9-i[2].length);this.nanos=parseInt(c),(l<0||Object.is(l,-0))&&(this.nanos=-this.nanos)}return this}toJson(n){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let t=this.seconds.toString();if(this.nanos!==0){let i=Math.abs(this.nanos).toString();i="0".repeat(9-i.length)+i,i.substring(3)==="000000"?i=i.substring(0,3):i.substring(6)==="000"&&(i=i.substring(0,6)),t+="."+i,this.nanos<0&&Number(this.seconds)==0&&(t="-"+t)}return t+"s"}static fromBinary(n,t){return new Mi().fromBinary(n,t)}static fromJson(n,t){return new Mi().fromJson(n,t)}static fromJsonString(n,t){return new Mi().fromJsonString(n,t)}static equals(n,t){return p.util.equals(Mi,n,t)}}Mi.runtime=p;Mi.typeName="google.protobuf.Duration";Mi.fields=p.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class jn extends K{constructor(n){super(),this.typeUrl="",this.value=new Uint8Array(0),p.util.initPartial(n,this)}toJson(n){var t;if(this.typeUrl==="")return{};const i=this.typeUrlToName(this.typeUrl),l=(t=n==null?void 0:n.typeRegistry)===null||t===void 0?void 0:t.findMessage(i);if(!l)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let d=l.fromBinary(this.value).toJson(n);return(i.startsWith("google.protobuf.")||d===null||Array.isArray(d)||typeof d!="object")&&(d={value:d}),d["@type"]=this.typeUrl,d}fromJson(n,t){var i;if(n===null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${n===null?"null":Array.isArray(n)?"array":typeof n}`);if(Object.keys(n).length==0)return this;const l=n["@type"];if(typeof l!="string"||l=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const c=this.typeUrlToName(l),d=(i=t==null?void 0:t.typeRegistry)===null||i===void 0?void 0:i.findMessage(c);if(!d)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${l} is not in the type registry`);let g;if(c.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(n,"value"))g=d.fromJson(n.value,t);else{const y=Object.assign({},n);delete y["@type"],g=d.fromJson(y,t)}return this.packFrom(g),this}packFrom(n){this.value=n.toBinary(),this.typeUrl=this.typeNameToUrl(n.getType().typeName)}unpackTo(n){return this.is(n.getType())?(n.fromBinary(this.value),!0):!1}unpack(n){if(this.typeUrl==="")return;const t=n.findMessage(this.typeUrlToName(this.typeUrl));if(t)return t.fromBinary(this.value)}is(n){if(this.typeUrl==="")return!1;const t=this.typeUrlToName(this.typeUrl);let i="";return typeof n=="string"?i=n:i=n.typeName,t===i}typeNameToUrl(n){return`type.googleapis.com/${n}`}typeUrlToName(n){if(!n.length)throw new Error(`invalid type url: ${n}`);const t=n.lastIndexOf("/"),i=t>=0?n.substring(t+1):n;if(!i.length)throw new Error(`invalid type url: ${n}`);return i}static pack(n){const t=new jn;return t.packFrom(n),t}static fromBinary(n,t){return new jn().fromBinary(n,t)}static fromJson(n,t){return new jn().fromJson(n,t)}static fromJsonString(n,t){return new jn().fromJsonString(n,t)}static equals(n,t){return p.util.equals(jn,n,t)}}jn.runtime=p;jn.typeName="google.protobuf.Any";jn.fields=p.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class Yn extends K{constructor(n){super(),this.value=0,p.util.initPartial(n,this)}toJson(n){return p.json.writeScalar(z.DOUBLE,this.value,!0)}fromJson(n,t){try{this.value=p.json.readScalar(z.DOUBLE,n)}catch(i){let l='cannot decode message google.protobuf.DoubleValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,t){return new Yn().fromBinary(n,t)}static fromJson(n,t){return new Yn().fromJson(n,t)}static fromJsonString(n,t){return new Yn().fromJsonString(n,t)}static equals(n,t){return p.util.equals(Yn,n,t)}}Yn.runtime=p;Yn.typeName="google.protobuf.DoubleValue";Yn.fields=p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);Yn.fieldWrapper={wrapField(s){return new Yn({value:s})},unwrapField(s){return s.value}};class $n extends K{constructor(n){super(),this.value=0,p.util.initPartial(n,this)}toJson(n){return p.json.writeScalar(z.FLOAT,this.value,!0)}fromJson(n,t){try{this.value=p.json.readScalar(z.FLOAT,n)}catch(i){let l='cannot decode message google.protobuf.FloatValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,t){return new $n().fromBinary(n,t)}static fromJson(n,t){return new $n().fromJson(n,t)}static fromJsonString(n,t){return new $n().fromJsonString(n,t)}static equals(n,t){return p.util.equals($n,n,t)}}$n.runtime=p;$n.typeName="google.protobuf.FloatValue";$n.fields=p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);$n.fieldWrapper={wrapField(s){return new $n({value:s})},unwrapField(s){return s.value}};class vn extends K{constructor(n){super(),this.value=Tt.zero,p.util.initPartial(n,this)}toJson(n){return p.json.writeScalar(z.INT64,this.value,!0)}fromJson(n,t){try{this.value=p.json.readScalar(z.INT64,n)}catch(i){let l='cannot decode message google.protobuf.Int64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,t){return new vn().fromBinary(n,t)}static fromJson(n,t){return new vn().fromJson(n,t)}static fromJsonString(n,t){return new vn().fromJsonString(n,t)}static equals(n,t){return p.util.equals(vn,n,t)}}vn.runtime=p;vn.typeName="google.protobuf.Int64Value";vn.fields=p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);vn.fieldWrapper={wrapField(s){return new vn({value:s})},unwrapField(s){return s.value}};class Sn extends K{constructor(n){super(),this.value=Tt.zero,p.util.initPartial(n,this)}toJson(n){return p.json.writeScalar(z.UINT64,this.value,!0)}fromJson(n,t){try{this.value=p.json.readScalar(z.UINT64,n)}catch(i){let l='cannot decode message google.protobuf.UInt64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,t){return new Sn().fromBinary(n,t)}static fromJson(n,t){return new Sn().fromJson(n,t)}static fromJsonString(n,t){return new Sn().fromJsonString(n,t)}static equals(n,t){return p.util.equals(Sn,n,t)}}Sn.runtime=p;Sn.typeName="google.protobuf.UInt64Value";Sn.fields=p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);Sn.fieldWrapper={wrapField(s){return new Sn({value:s})},unwrapField(s){return s.value}};class Xe extends K{constructor(n){super(),this.value=0,p.util.initPartial(n,this)}toJson(n){return p.json.writeScalar(z.INT32,this.value,!0)}fromJson(n,t){try{this.value=p.json.readScalar(z.INT32,n)}catch(i){let l='cannot decode message google.protobuf.Int32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,t){return new Xe().fromBinary(n,t)}static fromJson(n,t){return new Xe().fromJson(n,t)}static fromJsonString(n,t){return new Xe().fromJsonString(n,t)}static equals(n,t){return p.util.equals(Xe,n,t)}}Xe.runtime=p;Xe.typeName="google.protobuf.Int32Value";Xe.fields=p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);Xe.fieldWrapper={wrapField(s){return new Xe({value:s})},unwrapField(s){return s.value}};class Gn extends K{constructor(n){super(),this.value=0,p.util.initPartial(n,this)}toJson(n){return p.json.writeScalar(z.UINT32,this.value,!0)}fromJson(n,t){try{this.value=p.json.readScalar(z.UINT32,n)}catch(i){let l='cannot decode message google.protobuf.UInt32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,t){return new Gn().fromBinary(n,t)}static fromJson(n,t){return new Gn().fromJson(n,t)}static fromJsonString(n,t){return new Gn().fromJsonString(n,t)}static equals(n,t){return p.util.equals(Gn,n,t)}}Gn.runtime=p;Gn.typeName="google.protobuf.UInt32Value";Gn.fields=p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);Gn.fieldWrapper={wrapField(s){return new Gn({value:s})},unwrapField(s){return s.value}};class Cn extends K{constructor(n){super(),this.value=!1,p.util.initPartial(n,this)}toJson(n){return p.json.writeScalar(z.BOOL,this.value,!0)}fromJson(n,t){try{this.value=p.json.readScalar(z.BOOL,n)}catch(i){let l='cannot decode message google.protobuf.BoolValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,t){return new Cn().fromBinary(n,t)}static fromJson(n,t){return new Cn().fromJson(n,t)}static fromJsonString(n,t){return new Cn().fromJsonString(n,t)}static equals(n,t){return p.util.equals(Cn,n,t)}}Cn.runtime=p;Cn.typeName="google.protobuf.BoolValue";Cn.fields=p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);Cn.fieldWrapper={wrapField(s){return new Cn({value:s})},unwrapField(s){return s.value}};class ie extends K{constructor(n){super(),this.value="",p.util.initPartial(n,this)}toJson(n){return p.json.writeScalar(z.STRING,this.value,!0)}fromJson(n,t){try{this.value=p.json.readScalar(z.STRING,n)}catch(i){let l='cannot decode message google.protobuf.StringValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,t){return new ie().fromBinary(n,t)}static fromJson(n,t){return new ie().fromJson(n,t)}static fromJsonString(n,t){return new ie().fromJsonString(n,t)}static equals(n,t){return p.util.equals(ie,n,t)}}ie.runtime=p;ie.typeName="google.protobuf.StringValue";ie.fields=p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);ie.fieldWrapper={wrapField(s){return new ie({value:s})},unwrapField(s){return s.value}};class Xn extends K{constructor(n){super(),this.value=new Uint8Array(0),p.util.initPartial(n,this)}toJson(n){return p.json.writeScalar(z.BYTES,this.value,!0)}fromJson(n,t){try{this.value=p.json.readScalar(z.BYTES,n)}catch(i){let l='cannot decode message google.protobuf.BytesValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,t){return new Xn().fromBinary(n,t)}static fromJson(n,t){return new Xn().fromJson(n,t)}static fromJsonString(n,t){return new Xn().fromJsonString(n,t)}static equals(n,t){return p.util.equals(Xn,n,t)}}Xn.runtime=p;Xn.typeName="google.protobuf.BytesValue";Xn.fields=p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);Xn.fieldWrapper={wrapField(s){return new Xn({value:s})},unwrapField(s){return s.value}};function c1(s,n,t){try{const i=ig.dec(s);return n?n.fromBinary(i,t):i}catch(i){throw Ut.from(i,St.DataLoss)}}function f1(s,n){const t={};for(const[i,l]of Object.entries(s.methods)){const c=n(Object.assign(Object.assign({},l),{localName:i,service:s}));c!=null&&(t[i]=c)}return t}const jv=1;function Yv(s){let n,t=new Uint8Array(0);function i(l){const c=new Uint8Array(t.length+l.length);c.set(t),c.set(l,t.length),t=c}return new ReadableStream({start(){n=s.getReader()},async pull(l){let c;for(;;){if(c===void 0&&t.byteLength>=5){let y=0;for(let v=1;v<5;v++)y=(y<<8)+t[v];c={flags:t[0],length:y}}if(c!==void 0&&t.byteLength>=c.length+5)break;const g=await n.read();if(g.done)break;i(g.value)}if(c===void 0){if(t.byteLength==0){l.close();return}l.error(new Ut("premature end of stream",St.DataLoss));return}const d=t.subarray(5,5+c.length);t=t.subarray(5+c.length),l.enqueue({flags:c.flags,data:d})}})}function $v(s,n){const t=new Uint8Array(n.length+5);t.set(n,5);const i=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.setUint8(0,s),i.setUint32(1,n.length),t}var h1=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],t;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(c){t[c]=s[c]&&function(d){return new Promise(function(g,y){d=s[c](d),l(g,y,d.done,d.value)})}}function l(c,d,g,y){Promise.resolve(y).then(function(v){c({value:v,done:g})},d)}},vl=function(s){return this instanceof vl?(this.v=s,this):new vl(s)},d1=function(s,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(k){return function(U){return Promise.resolve(U).then(k,E)}}function g(k,U){i[k]&&(l[k]=function(V){return new Promise(function(j,W){c.push([k,V,j,W])>1||y(k,V)})},U&&(l[k]=U(l[k])))}function y(k,U){try{v(i[k](U))}catch(V){O(c[0][3],V)}}function v(k){k.value instanceof vl?Promise.resolve(k.value.v).then(b,E):O(c[0][2],k)}function b(k){y("next",k)}function E(k){y("throw",k)}function O(k,U){k(U),c.shift(),c.length&&y(c[0][0],c[0][1])}},g1=function(s){var n,t;return n={},i("next"),i("throw",function(l){throw l}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(l,c){n[l]=s[l]?function(d){return(t=!t)?{value:vl(s[l](d)),done:!1}:c?c(d):d}:c}};function m1(s){return d1(this,arguments,function*(){yield vl(yield*g1(h1(s)))})}var j0=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],t;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(c){t[c]=s[c]&&function(d){return new Promise(function(g,y){d=s[c](d),l(g,y,d.done,d.value)})}}function l(c,d,g,y){Promise.resolve(y).then(function(v){c({value:v,done:g})},d)}},Xs=function(s){return this instanceof Xs?(this.v=s,this):new Xs(s)},y1=function(s){var n,t;return n={},i("next"),i("throw",function(l){throw l}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(l,c){n[l]=s[l]?function(d){return(t=!t)?{value:Xs(s[l](d)),done:!1}:c?c(d):d}:c}},p1=function(s,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(k){return function(U){return Promise.resolve(U).then(k,E)}}function g(k,U){i[k]&&(l[k]=function(V){return new Promise(function(j,W){c.push([k,V,j,W])>1||y(k,V)})},U&&(l[k]=U(l[k])))}function y(k,U){try{v(i[k](U))}catch(V){O(c[0][3],V)}}function v(k){k.value instanceof Xs?Promise.resolve(k.value.v).then(b,E):O(c[0][2],k)}function b(k){y("next",k)}function E(k){y("throw",k)}function O(k,U){k(U),c.shift(),c.length&&y(c[0][0],c[0][1])}};function v1(s,n){return f1(s,t=>{switch(t.kind){case le.Unary:return S1(n,s,t);case le.ServerStreaming:return b1(n,s,t);case le.ClientStreaming:return T1(n,s,t);case le.BiDiStreaming:return w1(n,s,t);default:return null}})}function S1(s,n,t){return async function(i,l){var c,d;const g=await s.unary(n,t,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,i,l==null?void 0:l.contextValues);return(c=l==null?void 0:l.onHeader)===null||c===void 0||c.call(l,g.header),(d=l==null?void 0:l.onTrailer)===null||d===void 0||d.call(l,g.trailer),g.message}}function b1(s,n,t){return function(i,l){return Y0(s.stream(n,t,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,m1([i]),l==null?void 0:l.contextValues),l)}}function T1(s,n,t){return async function(i,l){var c,d,g,y,v,b;const E=await s.stream(n,t,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,i,l==null?void 0:l.contextValues);(v=l==null?void 0:l.onHeader)===null||v===void 0||v.call(l,E.header);let O,k=0;try{for(var U=!0,V=j0(E.message),j;j=await V.next(),c=j.done,!c;U=!0)y=j.value,U=!1,O=y,k++}catch(W){d={error:W}}finally{try{!U&&!c&&(g=V.return)&&await g.call(V)}finally{if(d)throw d.error}}if(!O)throw new Ut("protocol error: missing response message",St.Unimplemented);if(k>1)throw new Ut("protocol error: received extra messages for client streaming method",St.Unimplemented);return(b=l==null?void 0:l.onTrailer)===null||b===void 0||b.call(l,E.trailer),O}}function w1(s,n,t){return function(i,l){return Y0(s.stream(n,t,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,i,l==null?void 0:l.contextValues),l)}}function Y0(s,n){const t=function(){return p1(this,arguments,function*(){var i,l;const c=yield Xs(s);(i=n==null?void 0:n.onHeader)===null||i===void 0||i.call(n,c.header),yield Xs(yield*y1(j0(c.message))),(l=n==null?void 0:n.onTrailer)===null||l===void 0||l.call(n,c.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>t.next()})}}function A1(...s){const n=new AbortController,t=s.filter(l=>l!==void 0).concat(n.signal);for(const l of t){if(l.aborted){i.apply(l);break}l.addEventListener("abort",i)}function i(){n.signal.aborted||n.abort($0(this));for(const l of t)l.removeEventListener("abort",i)}return n}function E1(s){const n=new AbortController,t=()=>{n.abort(new Ut("the operation timed out",St.DeadlineExceeded))};let i;return s!==void 0&&(s<=0?t():i=setTimeout(t,s)),{signal:n.signal,cleanup:()=>clearTimeout(i)}}function $0(s){if(!s.aborted)return;if(s.reason!==void 0)return s.reason;const n=new Error("This operation was aborted");return n.name="AbortError",n}function Gv(){return{get(s){return s.id in this?this[s.id]:s.defaultValue},set(s,n){return this[s.id]=n,this},delete(s){return delete this[s.id],this}}}const fd=128;function Xv(s){const n=new Headers,t=new TextDecoder().decode(s).split(`\r
`);for(const i of t){if(i==="")continue;const l=i.indexOf(":");if(l>0){const c=i.substring(0,l).trim(),d=i.substring(l+1).trim();n.append(c,d)}}return n}const x1="Content-Type",N1="Grpc-Timeout",Fs="Grpc-Status",G0="Grpc-Message",D1="Grpc-Status-Details-Bin",O1="X-User-Agent",k1="X-Grpc-Web",C1="application/grpc-web+proto",R1="application/grpc-web+json";class Ui extends K{constructor(n){super(),this.code=0,this.message="",this.details=[],p.util.initPartial(n,this)}static fromBinary(n,t){return new Ui().fromBinary(n,t)}static fromJson(n,t){return new Ui().fromJson(n,t)}static fromJsonString(n,t){return new Ui().fromJsonString(n,t)}static equals(n,t){return p.util.equals(Ui,n,t)}}Ui.runtime=p;Ui.typeName="google.rpc.Status";Ui.fields=p.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:jn,repeated:!0}]);const I1="0";function X0(s){var n;const t=s.get(D1);if(t!=null){const l=c1(t,Ui);if(l.code==0)return;const c=new Ut(l.message,l.code,s);return c.details=l.details.map(d=>({type:d.typeUrl.substring(d.typeUrl.lastIndexOf("/")+1),value:d.value})),c}const i=s.get(Fs);if(i!=null){if(i===I1)return;const l=parseInt(i,10);return l in St?new Ut(decodeURIComponent((n=s.get(G0))!==null&&n!==void 0?n:""),l,s):new Ut(`invalid grpc-status: ${i}`,St.Internal,s)}}function Fv(s,n,t){const i=typeof n=="string"?n:n.typeName,l=typeof t=="string"?t:t.name;return s.toString().replace(/\/?$/,`/${i}/${l}`)}function F0(s,n){return n instanceof s?n:new s(n)}function B1(s,n){function t(i){return i.done===!0?i:{done:i.done,value:F0(s,i.value)}}return{[Symbol.asyncIterator](){const i=n[Symbol.asyncIterator](),l={next:()=>i.next().then(t)};return i.throw!==void 0&&(l.throw=c=>i.throw(c).then(t)),i.return!==void 0&&(l.return=c=>i.return(c).then(t)),l}}}function Z0(s,n){var t;return(t=n==null?void 0:n.concat().reverse().reduce((i,l)=>l(i),s))!==null&&t!==void 0?t:s}function z1(s){var n;const t=Object.assign({},s);return(n=t.ignoreUnknownFields)!==null&&n!==void 0||(t.ignoreUnknownFields=!0),t}function Zv(s,n,t,i){const l=n?Qv(s.I,i):_v(s.I,t);return{parse:(n?Qv(s.O,i):_v(s.O,t)).parse,serialize:l.serialize}}function Qv(s,n){return{parse(t){try{return s.fromBinary(t,n)}catch(i){const l=i instanceof Error?i.message:String(i);throw new Ut(`parse binary: ${l}`,St.Internal)}},serialize(t){try{return t.toBinary(n)}catch(i){const l=i instanceof Error?i.message:String(i);throw new Ut(`serialize binary: ${l}`,St.Internal)}}}}function _v(s,n){var t,i;const l=(t=n==null?void 0:n.textEncoder)!==null&&t!==void 0?t:new TextEncoder,c=(i=n==null?void 0:n.textDecoder)!==null&&i!==void 0?i:new TextDecoder,d=z1(n);return{parse(g){try{const y=c.decode(g);return s.fromJsonString(y,d)}catch(y){throw Ut.from(y,St.InvalidArgument)}},serialize(g){try{const y=g.toJsonString(d);return l.encode(y)}catch(y){throw Ut.from(y,St.Internal)}}}}function M1(s){const n=Z0(s.next,s.interceptors),[t,i,l]=Q0(s),c=Object.assign(Object.assign({},s.req),{message:F0(s.req.method.I,s.req.message),signal:t});return n(c).then(d=>(l(),d),i)}function U1(s){const n=Z0(s.next,s.interceptors),[t,i,l]=Q0(s),c=Object.assign(Object.assign({},s.req),{message:B1(s.req.method.I,s.req.message),signal:t});let d=!1;return t.addEventListener("abort",function(){var g,y;const v=s.req.message[Symbol.asyncIterator]();d||(g=v.throw)===null||g===void 0||g.call(v,this.reason).catch(()=>{}),(y=v.return)===null||y===void 0||y.call(v).catch(()=>{})}),n(c).then(g=>Object.assign(Object.assign({},g),{message:{[Symbol.asyncIterator](){const y=g.message[Symbol.asyncIterator]();return{next(){return y.next().then(v=>(v.done==!0&&(d=!0,l()),v),i)}}}}}),i)}function Q0(s){const{signal:n,cleanup:t}=E1(s.timeoutMs),i=A1(s.signal,n);return[i.signal,function(c){const d=Ut.from(n.aborted?$0(n):c);return i.abort(d),t(),Promise.reject(d)},function(){t(),i.abort()}]}function L1(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Wv(s,n){const t=X0(s);if(t)throw n.forEach((i,l)=>{t.metadata.append(l,i)}),t;if(!n.has(Fs)&&!s.has(Fs))throw new Ut("protocol error: missing status",St.Internal)}function t0(s,n,t,i){const l=new Headers(t??{});return l.set(x1,s?C1:R1),l.set(k1,"1"),l.set(O1,"connect-es/1.6.1"),n!==void 0&&l.set(N1,`${n}m`),l}function J1(s){switch(s){case 400:return St.Internal;case 401:return St.Unauthenticated;case 403:return St.PermissionDenied;case 404:return St.Unimplemented;case 429:return St.Unavailable;case 502:return St.Unavailable;case 503:return St.Unavailable;case 504:return St.Unavailable;default:return St.Unknown}}function e0(s,n){var t;if(s>=200&&s<300)return{foundStatus:n.has(Fs),headerError:X0(n)};throw new Ut(decodeURIComponent((t=n.get(G0))!==null&&t!==void 0?t:`HTTP ${s}`),J1(s),n)}var $a=function(s){return this instanceof $a?(this.v=s,this):new $a(s)},q1=function(s,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(k){return function(U){return Promise.resolve(U).then(k,E)}}function g(k,U){i[k]&&(l[k]=function(V){return new Promise(function(j,W){c.push([k,V,j,W])>1||y(k,V)})},U&&(l[k]=U(l[k])))}function y(k,U){try{v(i[k](U))}catch(V){O(c[0][3],V)}}function v(k){k.value instanceof $a?Promise.resolve(k.value.v).then(b,E):O(c[0][2],k)}function b(k){y("next",k)}function E(k){y("throw",k)}function O(k,U){k(U),c.shift(),c.length&&y(c[0][0],c[0][1])}};function P1(s){var n;L1();const t=(n=s.useBinaryFormat)!==null&&n!==void 0?n:!0;return{async unary(i,l,c,d,g,y,v){var b;const{serialize:E,parse:O}=Zv(l,t,s.jsonOptions,s.binaryOptions);return d=d===void 0?s.defaultTimeoutMs:d<=0?void 0:d,await M1({interceptors:s.interceptors,signal:c,timeoutMs:d,req:{stream:!1,service:i,method:l,url:Fv(s.baseUrl,i,l),init:{method:"POST",credentials:(b=s.credentials)!==null&&b!==void 0?b:"same-origin",redirect:"error",mode:"cors"},header:t0(t,d,g),contextValues:v??Gv(),message:y},next:async k=>{var U;const j=await((U=s.fetch)!==null&&U!==void 0?U:globalThis.fetch)(k.url,Object.assign(Object.assign({},k.init),{headers:k.header,signal:k.signal,body:$v(0,E(k.message))})),{headerError:W}=e0(j.status,j.headers);if(!j.body)throw W!==void 0?W:"missing response body";const lt=Yv(j.body).getReader();let ct,mt;for(;;){const et=await lt.read();if(et.done)break;const{flags:nt,data:yt}=et.value;if((nt&jv)===jv)throw new Ut("protocol error: received unsupported compressed output",St.Internal);if(nt===fd){if(ct!==void 0)throw"extra trailer";ct=Xv(yt);continue}if(mt!==void 0)throw new Ut("extra message",St.Unimplemented);mt=O(yt)}if(ct===void 0)throw W!==void 0?W:new Ut("missing trailer",j.headers.has(Fs)?St.Unimplemented:St.Unknown);if(Wv(ct,j.headers),mt===void 0)throw new Ut("missing message",ct.has(Fs)?St.Unimplemented:St.Unknown);return{stream:!1,service:i,method:l,header:j.headers,message:mt,trailer:ct}}})},async stream(i,l,c,d,g,y,v){var b;const{serialize:E,parse:O}=Zv(l,t,s.jsonOptions,s.binaryOptions);function k(V,j,W,lt,ct){return q1(this,arguments,function*(){const et=Yv(V).getReader();if(j){if(!(yield $a(et.read())).done)throw"extra data for trailers-only";return yield $a(void 0)}let nt=!1;for(;;){const yt=yield $a(et.read());if(yt.done)break;const{flags:At,data:Et}=yt.value;if((At&fd)===fd){if(nt)throw"extra trailer";nt=!0;const ae=Xv(Et);Wv(ae,lt),ae.forEach((Oe,Qt)=>W.set(Qt,Oe));continue}if(nt)throw"extra message";yield yield $a(O(Et))}if("throwIfAborted"in ct&&ct.throwIfAborted(),!nt)throw"missing trailer"})}async function U(V){if(l.kind!=le.ServerStreaming)throw"The fetch API does not support streaming request bodies";const j=await V[Symbol.asyncIterator]().next();if(j.done==!0)throw"missing request message";return $v(0,E(j.value))}return d=d===void 0?s.defaultTimeoutMs:d<=0?void 0:d,U1({interceptors:s.interceptors,signal:c,timeoutMs:d,req:{stream:!0,service:i,method:l,url:Fv(s.baseUrl,i,l),init:{method:"POST",credentials:(b=s.credentials)!==null&&b!==void 0?b:"same-origin",redirect:"error",mode:"cors"},header:t0(t,d,g),contextValues:v??Gv(),message:y},next:async V=>{var j;const lt=await((j=s.fetch)!==null&&j!==void 0?j:globalThis.fetch)(V.url,Object.assign(Object.assign({},V.init),{headers:V.header,signal:V.signal,body:await U(V.message)})),{foundStatus:ct,headerError:mt}=e0(lt.status,lt.headers);if(mt!=null)throw mt;if(!lt.body)throw"missing response body";const et=new Headers;return Object.assign(Object.assign({},V),{header:lt.headers,trailer:et,message:k(lt.body,ct,et,lt.headers,V.signal)})}})}}}var ft=(s=>(s[s.NULL=0]="NULL",s[s.BOOLEAN=1]="BOOLEAN",s[s.INTEGER=2]="INTEGER",s[s.LONG=3]="LONG",s[s.DOUBLE=4]="DOUBLE",s[s.STRING=5]="STRING",s[s.BYTES=6]="BYTES",s[s.DATE=7]="DATE",s[s.JSON_OBJECT=8]="JSON_OBJECT",s[s.JSON_ARRAY=9]="JSON_ARRAY",s[s.TEXT=10]="TEXT",s[s.INTEGER_CNT=11]="INTEGER_CNT",s[s.LONG_CNT=12]="LONG_CNT",s[s.TREE=13]="TREE",s))(ft||{});p.util.setEnumType(ft,"yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER"},{no:3,name:"VALUE_TYPE_LONG"},{no:4,name:"VALUE_TYPE_DOUBLE"},{no:5,name:"VALUE_TYPE_STRING"},{no:6,name:"VALUE_TYPE_BYTES"},{no:7,name:"VALUE_TYPE_DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE"}]);var Zs=(s=>(s[s.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",s[s.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",s[s.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",s[s.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",s))(Zs||{});p.util.setEnumType(Zs,"yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST"}]);const pr=class pr extends K{constructor(t){super();h(this,"root");h(this,"presences",{});p.util.initPartial(t,this)}static fromBinary(t,i){return new pr().fromBinary(t,i)}static fromJson(t,i){return new pr().fromJson(t,i)}static fromJsonString(t,i){return new pr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(pr,t,i)}};h(pr,"runtime",p),h(pr,"typeName","yorkie.v1.Snapshot"),h(pr,"fields",p.util.newFieldList(()=>[{no:1,name:"root",kind:"message",T:Le},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:_s}}]));let yd=pr;var cn;let Hi=(cn=class extends K{constructor(t){super();h(this,"documentKey","");h(this,"checkpoint");h(this,"snapshot",new Uint8Array(0));h(this,"changes",[]);h(this,"minSyncedTicket");h(this,"isRemoved",!1);h(this,"versionVector");p.util.initPartial(t,this)}static fromBinary(t,i){return new cn().fromBinary(t,i)}static fromJson(t,i){return new cn().fromJson(t,i)}static fromJsonString(t,i){return new cn().fromJsonString(t,i)}static equals(t,i){return p.util.equals(cn,t,i)}},h(cn,"runtime",p),h(cn,"typeName","yorkie.v1.ChangePack"),h(cn,"fields",p.util.newFieldList(()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:tS},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:_0,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:Z},{no:6,name:"is_removed",kind:"scalar",T:8},{no:7,name:"version_vector",kind:"message",T:zc}])),cn);var fn;let _0=(fn=class extends K{constructor(t){super();h(this,"id");h(this,"message","");h(this,"operations",[]);h(this,"presenceChange");p.util.initPartial(t,this)}static fromBinary(t,i){return new fn().fromBinary(t,i)}static fromJson(t,i){return new fn().fromJson(t,i)}static fromJsonString(t,i){return new fn().fromJsonString(t,i)}static equals(t,i){return p.util.equals(fn,t,i)}},h(fn,"runtime",p),h(fn,"typeName","yorkie.v1.Change"),h(fn,"fields",p.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Bc},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:ag,repeated:!0},{no:4,name:"presence_change",kind:"message",T:Tl}])),fn);var hn;let Bc=(hn=class extends K{constructor(t){super();h(this,"clientSeq",0);h(this,"serverSeq",Tt.zero);h(this,"lamport",Tt.zero);h(this,"actorId",new Uint8Array(0));h(this,"versionVector");p.util.initPartial(t,this)}static fromBinary(t,i){return new hn().fromBinary(t,i)}static fromJson(t,i){return new hn().fromJson(t,i)}static fromJsonString(t,i){return new hn().fromJsonString(t,i)}static equals(t,i){return p.util.equals(hn,t,i)}},h(hn,"runtime",p),h(hn,"typeName","yorkie.v1.ChangeID"),h(hn,"fields",p.util.newFieldList(()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3},{no:3,name:"lamport",kind:"scalar",T:3},{no:4,name:"actor_id",kind:"scalar",T:12},{no:5,name:"version_vector",kind:"message",T:zc}])),hn);var dn;let zc=(dn=class extends K{constructor(t){super();h(this,"vector",{});p.util.initPartial(t,this)}static fromBinary(t,i){return new dn().fromBinary(t,i)}static fromJson(t,i){return new dn().fromJson(t,i)}static fromJsonString(t,i){return new dn().fromJsonString(t,i)}static equals(t,i){return p.util.equals(dn,t,i)}},h(dn,"runtime",p),h(dn,"typeName","yorkie.v1.VersionVector"),h(dn,"fields",p.util.newFieldList(()=>[{no:1,name:"vector",kind:"map",K:9,V:{kind:"scalar",T:3}}])),dn);var gn;let ag=(gn=class extends K{constructor(t){super();h(this,"body",{case:void 0});p.util.initPartial(t,this)}static fromBinary(t,i){return new gn().fromBinary(t,i)}static fromJson(t,i){return new gn().fromJson(t,i)}static fromJsonString(t,i){return new gn().fromJsonString(t,i)}static equals(t,i){return p.util.equals(gn,t,i)}},h(gn,"runtime",p),h(gn,"typeName","yorkie.v1.Operation"),h(gn,"fields",p.util.newFieldList(()=>[{no:1,name:"set",kind:"message",T:oc,oneof:"body"},{no:2,name:"add",kind:"message",T:lc,oneof:"body"},{no:3,name:"move",kind:"message",T:uc,oneof:"body"},{no:4,name:"remove",kind:"message",T:cc,oneof:"body"},{no:5,name:"edit",kind:"message",T:fc,oneof:"body"},{no:7,name:"style",kind:"message",T:hc,oneof:"body"},{no:8,name:"increase",kind:"message",T:dc,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:gc,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:mc,oneof:"body"},{no:11,name:"array_set",kind:"message",T:yc,oneof:"body"}])),gn);const vr=class vr extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"key","");h(this,"value");h(this,"executedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new vr().fromBinary(t,i)}static fromJson(t,i){return new vr().fromJson(t,i)}static fromJsonString(t,i){return new vr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(vr,t,i)}};h(vr,"runtime",p),h(vr,"typeName","yorkie.v1.Operation.Set"),h(vr,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:un},{no:4,name:"executed_at",kind:"message",T:Z}]));let oc=vr;const Sr=class Sr extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"prevCreatedAt");h(this,"value");h(this,"executedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Sr().fromBinary(t,i)}static fromJson(t,i){return new Sr().fromJson(t,i)}static fromJsonString(t,i){return new Sr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Sr,t,i)}};h(Sr,"runtime",p),h(Sr,"typeName","yorkie.v1.Operation.Add"),h(Sr,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"prev_created_at",kind:"message",T:Z},{no:3,name:"value",kind:"message",T:un},{no:4,name:"executed_at",kind:"message",T:Z}]));let lc=Sr;const br=class br extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"prevCreatedAt");h(this,"createdAt");h(this,"executedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new br().fromBinary(t,i)}static fromJson(t,i){return new br().fromJson(t,i)}static fromJsonString(t,i){return new br().fromJsonString(t,i)}static equals(t,i){return p.util.equals(br,t,i)}};h(br,"runtime",p),h(br,"typeName","yorkie.v1.Operation.Move"),h(br,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"prev_created_at",kind:"message",T:Z},{no:3,name:"created_at",kind:"message",T:Z},{no:4,name:"executed_at",kind:"message",T:Z}]));let uc=br;const Tr=class Tr extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"createdAt");h(this,"executedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Tr().fromBinary(t,i)}static fromJson(t,i){return new Tr().fromJson(t,i)}static fromJsonString(t,i){return new Tr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Tr,t,i)}};h(Tr,"runtime",p),h(Tr,"typeName","yorkie.v1.Operation.Remove"),h(Tr,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"executed_at",kind:"message",T:Z}]));let cc=Tr;const wr=class wr extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"createdAtMapByActor",{});h(this,"content","");h(this,"executedAt");h(this,"attributes",{});p.util.initPartial(t,this)}static fromBinary(t,i){return new wr().fromBinary(t,i)}static fromJson(t,i){return new wr().fromJson(t,i)}static fromJsonString(t,i){return new wr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(wr,t,i)}};h(wr,"runtime",p),h(wr,"typeName","yorkie.v1.Operation.Edit"),h(wr,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:Za},{no:3,name:"to",kind:"message",T:Za},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:Z},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let fc=wr;const Ar=class Ar extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"attributes",{});h(this,"executedAt");h(this,"createdAtMapByActor",{});p.util.initPartial(t,this)}static fromBinary(t,i){return new Ar().fromBinary(t,i)}static fromJson(t,i){return new Ar().fromJson(t,i)}static fromJsonString(t,i){return new Ar().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Ar,t,i)}};h(Ar,"runtime",p),h(Ar,"typeName","yorkie.v1.Operation.Style"),h(Ar,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:Za},{no:3,name:"to",kind:"message",T:Za},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:Z},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}}]));let hc=Ar;const Er=class Er extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"value");h(this,"executedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Er().fromBinary(t,i)}static fromJson(t,i){return new Er().fromJson(t,i)}static fromJsonString(t,i){return new Er().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Er,t,i)}};h(Er,"runtime",p),h(Er,"typeName","yorkie.v1.Operation.Increase"),h(Er,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"value",kind:"message",T:un},{no:3,name:"executed_at",kind:"message",T:Z}]));let dc=Er;const xr=class xr extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"createdAtMapByActor",{});h(this,"contents",[]);h(this,"splitLevel",0);h(this,"executedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new xr().fromBinary(t,i)}static fromJson(t,i){return new xr().fromJson(t,i)}static fromJsonString(t,i){return new xr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(xr,t,i)}};h(xr,"runtime",p),h(xr,"typeName","yorkie.v1.Operation.TreeEdit"),h(xr,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:Xa},{no:3,name:"to",kind:"message",T:Xa},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}},{no:5,name:"contents",kind:"message",T:xc,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:Z}]));let gc=xr;const Nr=class Nr extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"attributes",{});h(this,"executedAt");h(this,"attributesToRemove",[]);h(this,"createdAtMapByActor",{});p.util.initPartial(t,this)}static fromBinary(t,i){return new Nr().fromBinary(t,i)}static fromJson(t,i){return new Nr().fromJson(t,i)}static fromJsonString(t,i){return new Nr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Nr,t,i)}};h(Nr,"runtime",p),h(Nr,"typeName","yorkie.v1.Operation.TreeStyle"),h(Nr,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"from",kind:"message",T:Xa},{no:3,name:"to",kind:"message",T:Xa},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:Z},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:Z}}]));let mc=Nr;const Dr=class Dr extends K{constructor(t){super();h(this,"parentCreatedAt");h(this,"createdAt");h(this,"value");h(this,"executedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Dr().fromBinary(t,i)}static fromJson(t,i){return new Dr().fromJson(t,i)}static fromJsonString(t,i){return new Dr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Dr,t,i)}};h(Dr,"runtime",p),h(Dr,"typeName","yorkie.v1.Operation.ArraySet"),h(Dr,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:Z},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"value",kind:"message",T:un},{no:4,name:"executed_at",kind:"message",T:Z}]));let yc=Dr;const Or=class Or extends K{constructor(t){super();h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");h(this,"type",0);h(this,"value",new Uint8Array(0));p.util.initPartial(t,this)}static fromBinary(t,i){return new Or().fromBinary(t,i)}static fromJson(t,i){return new Or().fromJson(t,i)}static fromJsonString(t,i){return new Or().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Or,t,i)}};h(Or,"runtime",p),h(Or,"typeName","yorkie.v1.JSONElementSimple"),h(Or,"fields",p.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"moved_at",kind:"message",T:Z},{no:3,name:"removed_at",kind:"message",T:Z},{no:4,name:"type",kind:"enum",T:p.getEnumType(ft)},{no:5,name:"value",kind:"scalar",T:12}]));let un=Or;const kr=class kr extends K{constructor(t){super();h(this,"body",{case:void 0});p.util.initPartial(t,this)}static fromBinary(t,i){return new kr().fromBinary(t,i)}static fromJson(t,i){return new kr().fromJson(t,i)}static fromJsonString(t,i){return new kr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(kr,t,i)}};h(kr,"runtime",p),h(kr,"typeName","yorkie.v1.JSONElement"),h(kr,"fields",p.util.newFieldList(()=>[{no:1,name:"json_object",kind:"message",T:pc,oneof:"body"},{no:2,name:"json_array",kind:"message",T:vc,oneof:"body"},{no:3,name:"primitive",kind:"message",T:Sc,oneof:"body"},{no:5,name:"text",kind:"message",T:bc,oneof:"body"},{no:6,name:"counter",kind:"message",T:Tc,oneof:"body"},{no:7,name:"tree",kind:"message",T:wc,oneof:"body"}]));let Le=kr;const Cr=class Cr extends K{constructor(t){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Cr().fromBinary(t,i)}static fromJson(t,i){return new Cr().fromJson(t,i)}static fromJsonString(t,i){return new Cr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Cr,t,i)}};h(Cr,"runtime",p),h(Cr,"typeName","yorkie.v1.JSONElement.JSONObject"),h(Cr,"fields",p.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:W0,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let pc=Cr;const Rr=class Rr extends K{constructor(t){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Rr().fromBinary(t,i)}static fromJson(t,i){return new Rr().fromJson(t,i)}static fromJsonString(t,i){return new Rr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Rr,t,i)}};h(Rr,"runtime",p),h(Rr,"typeName","yorkie.v1.JSONElement.JSONArray"),h(Rr,"fields",p.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Ac,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let vc=Rr;const Ir=class Ir extends K{constructor(t){super();h(this,"type",0);h(this,"value",new Uint8Array(0));h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Ir().fromBinary(t,i)}static fromJson(t,i){return new Ir().fromJson(t,i)}static fromJsonString(t,i){return new Ir().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Ir,t,i)}};h(Ir,"runtime",p),h(Ir,"typeName","yorkie.v1.JSONElement.Primitive"),h(Ir,"fields",p.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:p.getEnumType(ft)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:Z},{no:4,name:"moved_at",kind:"message",T:Z},{no:5,name:"removed_at",kind:"message",T:Z}]));let Sc=Ir;const Br=class Br extends K{constructor(t){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Br().fromBinary(t,i)}static fromJson(t,i){return new Br().fromJson(t,i)}static fromJsonString(t,i){return new Br().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Br,t,i)}};h(Br,"runtime",p),h(Br,"typeName","yorkie.v1.JSONElement.Text"),h(Br,"fields",p.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Ec,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let bc=Br;const zr=class zr extends K{constructor(t){super();h(this,"type",0);h(this,"value",new Uint8Array(0));h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new zr().fromBinary(t,i)}static fromJson(t,i){return new zr().fromJson(t,i)}static fromJsonString(t,i){return new zr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(zr,t,i)}};h(zr,"runtime",p),h(zr,"typeName","yorkie.v1.JSONElement.Counter"),h(zr,"fields",p.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:p.getEnumType(ft)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:Z},{no:4,name:"moved_at",kind:"message",T:Z},{no:5,name:"removed_at",kind:"message",T:Z}]));let Tc=zr;const Mr=class Mr extends K{constructor(t){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Mr().fromBinary(t,i)}static fromJson(t,i){return new Mr().fromJson(t,i)}static fromJsonString(t,i){return new Mr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Mr,t,i)}};h(Mr,"runtime",p),h(Mr,"typeName","yorkie.v1.JSONElement.Tree"),h(Mr,"fields",p.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:bl,repeated:!0},{no:2,name:"created_at",kind:"message",T:Z},{no:3,name:"moved_at",kind:"message",T:Z},{no:4,name:"removed_at",kind:"message",T:Z}]));let wc=Mr;var mn;let W0=(mn=class extends K{constructor(t){super();h(this,"key","");h(this,"element");p.util.initPartial(t,this)}static fromBinary(t,i){return new mn().fromBinary(t,i)}static fromJson(t,i){return new mn().fromJson(t,i)}static fromJsonString(t,i){return new mn().fromJsonString(t,i)}static equals(t,i){return p.util.equals(mn,t,i)}},h(mn,"runtime",p),h(mn,"typeName","yorkie.v1.RHTNode"),h(mn,"fields",p.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:Le}])),mn);const Hn=class Hn extends K{constructor(t){super();h(this,"next");h(this,"element");p.util.initPartial(t,this)}static fromBinary(t,i){return new Hn().fromBinary(t,i)}static fromJson(t,i){return new Hn().fromJson(t,i)}static fromJsonString(t,i){return new Hn().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Hn,t,i)}};h(Hn,"runtime",p),h(Hn,"typeName","yorkie.v1.RGANode"),h(Hn,"fields",p.util.newFieldList(()=>[{no:1,name:"next",kind:"message",T:Hn},{no:2,name:"element",kind:"message",T:Le}]));let Ac=Hn;const Ur=class Ur extends K{constructor(t){super();h(this,"value","");h(this,"updatedAt");h(this,"isRemoved",!1);p.util.initPartial(t,this)}static fromBinary(t,i){return new Ur().fromBinary(t,i)}static fromJson(t,i){return new Ur().fromJson(t,i)}static fromJsonString(t,i){return new Ur().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Ur,t,i)}};h(Ur,"runtime",p),h(Ur,"typeName","yorkie.v1.NodeAttr"),h(Ur,"fields",p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:Z},{no:3,name:"is_removed",kind:"scalar",T:8}]));let Qs=Ur;const Lr=class Lr extends K{constructor(t){super();h(this,"id");h(this,"value","");h(this,"removedAt");h(this,"insPrevId");h(this,"attributes",{});p.util.initPartial(t,this)}static fromBinary(t,i){return new Lr().fromBinary(t,i)}static fromJson(t,i){return new Lr().fromJson(t,i)}static fromJsonString(t,i){return new Lr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Lr,t,i)}};h(Lr,"runtime",p),h(Lr,"typeName","yorkie.v1.TextNode"),h(Lr,"fields",p.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Sl},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:Z},{no:4,name:"ins_prev_id",kind:"message",T:Sl},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Qs}}]));let Ec=Lr;const Jr=class Jr extends K{constructor(t){super();h(this,"createdAt");h(this,"offset",0);p.util.initPartial(t,this)}static fromBinary(t,i){return new Jr().fromBinary(t,i)}static fromJson(t,i){return new Jr().fromJson(t,i)}static fromJsonString(t,i){return new Jr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Jr,t,i)}};h(Jr,"runtime",p),h(Jr,"typeName","yorkie.v1.TextNodeID"),h(Jr,"fields",p.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"offset",kind:"scalar",T:5}]));let Sl=Jr;const qr=class qr extends K{constructor(t){super();h(this,"id");h(this,"type","");h(this,"value","");h(this,"removedAt");h(this,"insPrevId");h(this,"insNextId");h(this,"depth",0);h(this,"attributes",{});p.util.initPartial(t,this)}static fromBinary(t,i){return new qr().fromBinary(t,i)}static fromJson(t,i){return new qr().fromJson(t,i)}static fromJsonString(t,i){return new qr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(qr,t,i)}};h(qr,"runtime",p),h(qr,"typeName","yorkie.v1.TreeNode"),h(qr,"fields",p.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Sa},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:Z},{no:5,name:"ins_prev_id",kind:"message",T:Sa},{no:6,name:"ins_next_id",kind:"message",T:Sa},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Qs}}]));let bl=qr;const Pr=class Pr extends K{constructor(t){super();h(this,"content",[]);p.util.initPartial(t,this)}static fromBinary(t,i){return new Pr().fromBinary(t,i)}static fromJson(t,i){return new Pr().fromJson(t,i)}static fromJsonString(t,i){return new Pr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Pr,t,i)}};h(Pr,"runtime",p),h(Pr,"typeName","yorkie.v1.TreeNodes"),h(Pr,"fields",p.util.newFieldList(()=>[{no:1,name:"content",kind:"message",T:bl,repeated:!0}]));let xc=Pr;const Vr=class Vr extends K{constructor(t){super();h(this,"createdAt");h(this,"offset",0);p.util.initPartial(t,this)}static fromBinary(t,i){return new Vr().fromBinary(t,i)}static fromJson(t,i){return new Vr().fromJson(t,i)}static fromJsonString(t,i){return new Vr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Vr,t,i)}};h(Vr,"runtime",p),h(Vr,"typeName","yorkie.v1.TreeNodeID"),h(Vr,"fields",p.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"offset",kind:"scalar",T:5}]));let Sa=Vr;const Hr=class Hr extends K{constructor(t){super();h(this,"parentId");h(this,"leftSiblingId");p.util.initPartial(t,this)}static fromBinary(t,i){return new Hr().fromBinary(t,i)}static fromJson(t,i){return new Hr().fromJson(t,i)}static fromJsonString(t,i){return new Hr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Hr,t,i)}};h(Hr,"runtime",p),h(Hr,"typeName","yorkie.v1.TreePos"),h(Hr,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_id",kind:"message",T:Sa},{no:2,name:"left_sibling_id",kind:"message",T:Sa}]));let Xa=Hr;const Kr=class Kr extends K{constructor(t){super();h(this,"id","");h(this,"authProvider","");h(this,"username","");h(this,"createdAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Kr().fromBinary(t,i)}static fromJson(t,i){return new Kr().fromJson(t,i)}static fromJsonString(t,i){return new Kr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Kr,t,i)}};h(Kr,"runtime",p),h(Kr,"typeName","yorkie.v1.User"),h(Kr,"fields",p.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"auth_provider",kind:"scalar",T:9},{no:3,name:"username",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:pe}]));let n0=Kr;const jr=class jr extends K{constructor(t){super();h(this,"id","");h(this,"name","");h(this,"publicKey","");h(this,"secretKey","");h(this,"authWebhookUrl","");h(this,"authWebhookMethods",[]);h(this,"authWebhookMaxRetries",Tt.zero);h(this,"authWebhookMinWaitInterval","");h(this,"authWebhookMaxWaitInterval","");h(this,"authWebhookRequestTimeout","");h(this,"eventWebhookUrl","");h(this,"eventWebhookEvents",[]);h(this,"eventWebhookMaxRetries",Tt.zero);h(this,"eventWebhookMinWaitInterval","");h(this,"eventWebhookMaxWaitInterval","");h(this,"eventWebhookRequestTimeout","");h(this,"clientDeactivateThreshold","");h(this,"snapshotThreshold",Tt.zero);h(this,"snapshotInterval",Tt.zero);h(this,"maxSubscribersPerDocument",0);h(this,"maxAttachmentsPerDocument",0);h(this,"maxSizePerDocument",0);h(this,"removeOnDetach",!1);h(this,"allowedOrigins",[]);h(this,"createdAt");h(this,"updatedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new jr().fromBinary(t,i)}static fromJson(t,i){return new jr().fromJson(t,i)}static fromJsonString(t,i){return new jr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(jr,t,i)}};h(jr,"runtime",p),h(jr,"typeName","yorkie.v1.Project"),h(jr,"fields",p.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:17,name:"auth_webhook_max_retries",kind:"scalar",T:4},{no:18,name:"auth_webhook_min_wait_interval",kind:"scalar",T:9},{no:19,name:"auth_webhook_max_wait_interval",kind:"scalar",T:9},{no:20,name:"auth_webhook_request_timeout",kind:"scalar",T:9},{no:7,name:"event_webhook_url",kind:"scalar",T:9},{no:8,name:"event_webhook_events",kind:"scalar",T:9,repeated:!0},{no:21,name:"event_webhook_max_retries",kind:"scalar",T:4},{no:22,name:"event_webhook_min_wait_interval",kind:"scalar",T:9},{no:23,name:"event_webhook_max_wait_interval",kind:"scalar",T:9},{no:24,name:"event_webhook_request_timeout",kind:"scalar",T:9},{no:9,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:25,name:"snapshot_threshold",kind:"scalar",T:3},{no:26,name:"snapshot_interval",kind:"scalar",T:3},{no:10,name:"max_subscribers_per_document",kind:"scalar",T:5},{no:11,name:"max_attachments_per_document",kind:"scalar",T:5},{no:15,name:"max_size_per_document",kind:"scalar",T:5},{no:16,name:"remove_on_detach",kind:"scalar",T:8},{no:14,name:"allowed_origins",kind:"scalar",T:9,repeated:!0},{no:12,name:"created_at",kind:"message",T:pe},{no:13,name:"updated_at",kind:"message",T:pe}]));let r0=jr;const Yr=class Yr extends K{constructor(t){super();h(this,"timestamp",Tt.zero);h(this,"value",0);p.util.initPartial(t,this)}static fromBinary(t,i){return new Yr().fromBinary(t,i)}static fromJson(t,i){return new Yr().fromJson(t,i)}static fromJsonString(t,i){return new Yr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Yr,t,i)}};h(Yr,"runtime",p),h(Yr,"typeName","yorkie.v1.MetricPoint"),h(Yr,"fields",p.util.newFieldList(()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"value",kind:"scalar",T:5}]));let i0=Yr;const $r=class $r extends K{constructor(t){super();h(this,"name");h(this,"authWebhookUrl");h(this,"authWebhookMethods");h(this,"authWebhookMaxRetries");h(this,"authWebhookMinWaitInterval");h(this,"authWebhookMaxWaitInterval");h(this,"authWebhookRequestTimeout");h(this,"eventWebhookUrl");h(this,"eventWebhookEvents");h(this,"eventWebhookMaxRetries");h(this,"eventWebhookMinWaitInterval");h(this,"eventWebhookMaxWaitInterval");h(this,"eventWebhookRequestTimeout");h(this,"snapshotThreshold");h(this,"snapshotInterval");h(this,"clientDeactivateThreshold");h(this,"maxSubscribersPerDocument");h(this,"maxAttachmentsPerDocument");h(this,"maxSizePerDocument");h(this,"removeOnDetach");h(this,"allowedOrigins");p.util.initPartial(t,this)}static fromBinary(t,i){return new $r().fromBinary(t,i)}static fromJson(t,i){return new $r().fromJson(t,i)}static fromJsonString(t,i){return new $r().fromJsonString(t,i)}static equals(t,i){return p.util.equals($r,t,i)}};h($r,"runtime",p),h($r,"typeName","yorkie.v1.UpdatableProjectFields"),h($r,"fields",p.util.newFieldList(()=>[{no:1,name:"name",kind:"message",T:ie},{no:2,name:"auth_webhook_url",kind:"message",T:ie},{no:3,name:"auth_webhook_methods",kind:"message",T:pd},{no:12,name:"auth_webhook_max_retries",kind:"message",T:Sn},{no:13,name:"auth_webhook_min_wait_interval",kind:"message",T:ie},{no:14,name:"auth_webhook_max_wait_interval",kind:"message",T:ie},{no:15,name:"auth_webhook_request_timeout",kind:"message",T:ie},{no:4,name:"event_webhook_url",kind:"message",T:ie},{no:5,name:"event_webhook_events",kind:"message",T:vd},{no:16,name:"event_webhook_max_retries",kind:"message",T:Sn},{no:17,name:"event_webhook_min_wait_interval",kind:"message",T:ie},{no:18,name:"event_webhook_max_wait_interval",kind:"message",T:ie},{no:19,name:"event_webhook_request_timeout",kind:"message",T:ie},{no:20,name:"snapshot_threshold",kind:"message",T:vn},{no:21,name:"snapshot_interval",kind:"message",T:vn},{no:6,name:"client_deactivate_threshold",kind:"message",T:ie},{no:7,name:"max_subscribers_per_document",kind:"message",T:Xe},{no:8,name:"max_attachments_per_document",kind:"message",T:Xe},{no:10,name:"max_size_per_document",kind:"message",T:Xe},{no:11,name:"remove_on_detach",kind:"message",T:Cn},{no:9,name:"allowed_origins",kind:"message",T:Sd}]));let a0=$r;const Gr=class Gr extends K{constructor(t){super();h(this,"methods",[]);p.util.initPartial(t,this)}static fromBinary(t,i){return new Gr().fromBinary(t,i)}static fromJson(t,i){return new Gr().fromJson(t,i)}static fromJsonString(t,i){return new Gr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Gr,t,i)}};h(Gr,"runtime",p),h(Gr,"typeName","yorkie.v1.UpdatableProjectFields.AuthWebhookMethods"),h(Gr,"fields",p.util.newFieldList(()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}]));let pd=Gr;const Xr=class Xr extends K{constructor(t){super();h(this,"events",[]);p.util.initPartial(t,this)}static fromBinary(t,i){return new Xr().fromBinary(t,i)}static fromJson(t,i){return new Xr().fromJson(t,i)}static fromJsonString(t,i){return new Xr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Xr,t,i)}};h(Xr,"runtime",p),h(Xr,"typeName","yorkie.v1.UpdatableProjectFields.EventWebhookEvents"),h(Xr,"fields",p.util.newFieldList(()=>[{no:1,name:"events",kind:"scalar",T:9,repeated:!0}]));let vd=Xr;const Fr=class Fr extends K{constructor(t){super();h(this,"origins",[]);p.util.initPartial(t,this)}static fromBinary(t,i){return new Fr().fromBinary(t,i)}static fromJson(t,i){return new Fr().fromJson(t,i)}static fromJsonString(t,i){return new Fr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Fr,t,i)}};h(Fr,"runtime",p),h(Fr,"typeName","yorkie.v1.UpdatableProjectFields.AllowedOrigins"),h(Fr,"fields",p.util.newFieldList(()=>[{no:1,name:"origins",kind:"scalar",T:9,repeated:!0}]));let Sd=Fr;const Zr=class Zr extends K{constructor(t){super();h(this,"id","");h(this,"key","");h(this,"root","");h(this,"attachedClients",0);h(this,"documentSize");h(this,"schemaKey","");h(this,"presences",{});h(this,"createdAt");h(this,"accessedAt");h(this,"updatedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Zr().fromBinary(t,i)}static fromJson(t,i){return new Zr().fromJson(t,i)}static fromJsonString(t,i){return new Zr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Zr,t,i)}};h(Zr,"runtime",p),h(Zr,"typeName","yorkie.v1.DocumentSummary"),h(Zr,"fields",p.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"root",kind:"scalar",T:9},{no:7,name:"attached_clients",kind:"scalar",T:5},{no:8,name:"document_size",kind:"message",T:Ad},{no:9,name:"schema_key",kind:"scalar",T:9},{no:10,name:"presences",kind:"map",K:9,V:{kind:"message",T:_s}},{no:4,name:"created_at",kind:"message",T:pe},{no:5,name:"accessed_at",kind:"message",T:pe},{no:6,name:"updated_at",kind:"message",T:pe}]));let s0=Zr;const Qr=class Qr extends K{constructor(t){super();h(this,"type",0);h(this,"presence");p.util.initPartial(t,this)}static fromBinary(t,i){return new Qr().fromBinary(t,i)}static fromJson(t,i){return new Qr().fromJson(t,i)}static fromJsonString(t,i){return new Qr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Qr,t,i)}};h(Qr,"runtime",p),h(Qr,"typeName","yorkie.v1.PresenceChange"),h(Qr,"fields",p.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:p.getEnumType(Fa)},{no:2,name:"presence",kind:"message",T:_s}]));let Tl=Qr;var Fa=(s=>(s[s.UNSPECIFIED=0]="UNSPECIFIED",s[s.PUT=1]="PUT",s[s.DELETE=2]="DELETE",s[s.CLEAR=3]="CLEAR",s))(Fa||{});p.util.setEnumType(Fa,"yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT"},{no:2,name:"CHANGE_TYPE_DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR"}]);const _r=class _r extends K{constructor(t){super();h(this,"data",{});p.util.initPartial(t,this)}static fromBinary(t,i){return new _r().fromBinary(t,i)}static fromJson(t,i){return new _r().fromJson(t,i)}static fromJsonString(t,i){return new _r().fromJsonString(t,i)}static equals(t,i){return p.util.equals(_r,t,i)}};h(_r,"runtime",p),h(_r,"typeName","yorkie.v1.Presence"),h(_r,"fields",p.util.newFieldList(()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let _s=_r;var yn;let tS=(yn=class extends K{constructor(t){super();h(this,"serverSeq",Tt.zero);h(this,"clientSeq",0);p.util.initPartial(t,this)}static fromBinary(t,i){return new yn().fromBinary(t,i)}static fromJson(t,i){return new yn().fromJson(t,i)}static fromJsonString(t,i){return new yn().fromJsonString(t,i)}static equals(t,i){return p.util.equals(yn,t,i)}},h(yn,"runtime",p),h(yn,"typeName","yorkie.v1.Checkpoint"),h(yn,"fields",p.util.newFieldList(()=>[{no:1,name:"server_seq",kind:"scalar",T:3},{no:2,name:"client_seq",kind:"scalar",T:13}])),yn);const Wr=class Wr extends K{constructor(t){super();h(this,"createdAt");h(this,"offset",0);h(this,"relativeOffset",0);p.util.initPartial(t,this)}static fromBinary(t,i){return new Wr().fromBinary(t,i)}static fromJson(t,i){return new Wr().fromJson(t,i)}static fromJsonString(t,i){return new Wr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Wr,t,i)}};h(Wr,"runtime",p),h(Wr,"typeName","yorkie.v1.TextNodePos"),h(Wr,"fields",p.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:Z},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]));let Za=Wr;var pn;let Z=(pn=class extends K{constructor(t){super();h(this,"lamport",Tt.zero);h(this,"delimiter",0);h(this,"actorId",new Uint8Array(0));p.util.initPartial(t,this)}static fromBinary(t,i){return new pn().fromBinary(t,i)}static fromJson(t,i){return new pn().fromJson(t,i)}static fromJsonString(t,i){return new pn().fromJsonString(t,i)}static equals(t,i){return p.util.equals(pn,t,i)}},h(pn,"runtime",p),h(pn,"typeName","yorkie.v1.TimeTicket"),h(pn,"fields",p.util.newFieldList(()=>[{no:1,name:"lamport",kind:"scalar",T:3},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}])),pn);const ti=class ti extends K{constructor(t){super();h(this,"topic","");h(this,"payload",new Uint8Array(0));p.util.initPartial(t,this)}static fromBinary(t,i){return new ti().fromBinary(t,i)}static fromJson(t,i){return new ti().fromJson(t,i)}static fromJsonString(t,i){return new ti().fromJsonString(t,i)}static equals(t,i){return p.util.equals(ti,t,i)}};h(ti,"runtime",p),h(ti,"typeName","yorkie.v1.DocEventBody"),h(ti,"fields",p.util.newFieldList(()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]));let bd=ti;const ei=class ei extends K{constructor(t){super();h(this,"type",0);h(this,"publisher","");h(this,"body");p.util.initPartial(t,this)}static fromBinary(t,i){return new ei().fromBinary(t,i)}static fromJson(t,i){return new ei().fromJson(t,i)}static fromJsonString(t,i){return new ei().fromJsonString(t,i)}static equals(t,i){return p.util.equals(ei,t,i)}};h(ei,"runtime",p),h(ei,"typeName","yorkie.v1.DocEvent"),h(ei,"fields",p.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:p.getEnumType(Zs)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:bd}]));let Td=ei;const ni=class ni extends K{constructor(t){super();h(this,"type",0);h(this,"publisher","");h(this,"count",Tt.zero);h(this,"seq",Tt.zero);h(this,"topic","");h(this,"payload",new Uint8Array(0));p.util.initPartial(t,this)}static fromBinary(t,i){return new ni().fromBinary(t,i)}static fromJson(t,i){return new ni().fromJson(t,i)}static fromJsonString(t,i){return new ni().fromJsonString(t,i)}static equals(t,i){return p.util.equals(ni,t,i)}};h(ni,"runtime",p),h(ni,"typeName","yorkie.v1.ChannelEvent"),h(ni,"fields",p.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:p.getEnumType(Mc)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"count",kind:"scalar",T:3},{no:4,name:"seq",kind:"scalar",T:3},{no:5,name:"topic",kind:"scalar",T:9},{no:6,name:"payload",kind:"scalar",T:12}]));let wd=ni;var Mc=(s=>(s[s.UNSPECIFIED=0]="UNSPECIFIED",s[s.PRESENCE=1]="PRESENCE",s[s.BROADCAST=2]="BROADCAST",s))(Mc||{});p.util.setEnumType(Mc,"yorkie.v1.ChannelEvent.Type",[{no:0,name:"TYPE_UNSPECIFIED"},{no:1,name:"TYPE_PRESENCE"},{no:2,name:"TYPE_BROADCAST"}]);const ri=class ri extends K{constructor(t){super();h(this,"data",0);h(this,"meta",0);p.util.initPartial(t,this)}static fromBinary(t,i){return new ri().fromBinary(t,i)}static fromJson(t,i){return new ri().fromJson(t,i)}static fromJsonString(t,i){return new ri().fromJsonString(t,i)}static equals(t,i){return p.util.equals(ri,t,i)}};h(ri,"runtime",p),h(ri,"typeName","yorkie.v1.DataSize"),h(ri,"fields",p.util.newFieldList(()=>[{no:1,name:"data",kind:"scalar",T:5},{no:2,name:"meta",kind:"scalar",T:5}]));let Nc=ri;const ii=class ii extends K{constructor(t){super();h(this,"live");h(this,"gc");p.util.initPartial(t,this)}static fromBinary(t,i){return new ii().fromBinary(t,i)}static fromJson(t,i){return new ii().fromJson(t,i)}static fromJsonString(t,i){return new ii().fromJsonString(t,i)}static equals(t,i){return p.util.equals(ii,t,i)}};h(ii,"runtime",p),h(ii,"typeName","yorkie.v1.DocSize"),h(ii,"fields",p.util.newFieldList(()=>[{no:1,name:"live",kind:"message",T:Nc},{no:2,name:"gc",kind:"message",T:Nc}]));let Ad=ii;const ai=class ai extends K{constructor(t){super();h(this,"id","");h(this,"name","");h(this,"version",0);h(this,"body","");h(this,"rules",[]);h(this,"createdAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new ai().fromBinary(t,i)}static fromJson(t,i){return new ai().fromJson(t,i)}static fromJsonString(t,i){return new ai().fromJsonString(t,i)}static equals(t,i){return p.util.equals(ai,t,i)}};h(ai,"runtime",p),h(ai,"typeName","yorkie.v1.Schema"),h(ai,"fields",p.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"version",kind:"scalar",T:5},{no:4,name:"body",kind:"scalar",T:9},{no:5,name:"rules",kind:"message",T:Dc,repeated:!0},{no:6,name:"created_at",kind:"message",T:pe}]));let o0=ai;const si=class si extends K{constructor(t){super();h(this,"path","");h(this,"type","");p.util.initPartial(t,this)}static fromBinary(t,i){return new si().fromBinary(t,i)}static fromJson(t,i){return new si().fromJson(t,i)}static fromJsonString(t,i){return new si().fromJsonString(t,i)}static equals(t,i){return p.util.equals(si,t,i)}};h(si,"runtime",p),h(si,"typeName","yorkie.v1.Rule"),h(si,"fields",p.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9}]));let Dc=si;const oi=class oi extends K{constructor(t){super();h(this,"clientKey","");h(this,"metadata",{});p.util.initPartial(t,this)}static fromBinary(t,i){return new oi().fromBinary(t,i)}static fromJson(t,i){return new oi().fromJson(t,i)}static fromJsonString(t,i){return new oi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(oi,t,i)}};h(oi,"runtime",p),h(oi,"typeName","yorkie.v1.ActivateClientRequest"),h(oi,"fields",p.util.newFieldList(()=>[{no:1,name:"client_key",kind:"scalar",T:9},{no:2,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let Ed=oi;const li=class li extends K{constructor(t){super();h(this,"clientId","");p.util.initPartial(t,this)}static fromBinary(t,i){return new li().fromBinary(t,i)}static fromJson(t,i){return new li().fromJson(t,i)}static fromJsonString(t,i){return new li().fromJsonString(t,i)}static equals(t,i){return p.util.equals(li,t,i)}};h(li,"runtime",p),h(li,"typeName","yorkie.v1.ActivateClientResponse"),h(li,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let xd=li;const ui=class ui extends K{constructor(t){super();h(this,"clientId","");h(this,"synchronous",!1);p.util.initPartial(t,this)}static fromBinary(t,i){return new ui().fromBinary(t,i)}static fromJson(t,i){return new ui().fromJson(t,i)}static fromJsonString(t,i){return new ui().fromJsonString(t,i)}static equals(t,i){return p.util.equals(ui,t,i)}};h(ui,"runtime",p),h(ui,"typeName","yorkie.v1.DeactivateClientRequest"),h(ui,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"synchronous",kind:"scalar",T:8}]));let Nd=ui;const ci=class ci extends K{constructor(n){super(),p.util.initPartial(n,this)}static fromBinary(n,t){return new ci().fromBinary(n,t)}static fromJson(n,t){return new ci().fromJson(n,t)}static fromJsonString(n,t){return new ci().fromJsonString(n,t)}static equals(n,t){return p.util.equals(ci,n,t)}};h(ci,"runtime",p),h(ci,"typeName","yorkie.v1.DeactivateClientResponse"),h(ci,"fields",p.util.newFieldList(()=>[]));let Dd=ci;const fi=class fi extends K{constructor(t){super();h(this,"clientId","");h(this,"changePack");h(this,"schemaKey","");p.util.initPartial(t,this)}static fromBinary(t,i){return new fi().fromBinary(t,i)}static fromJson(t,i){return new fi().fromJson(t,i)}static fromJsonString(t,i){return new fi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(fi,t,i)}};h(fi,"runtime",p),h(fi,"typeName","yorkie.v1.AttachDocumentRequest"),h(fi,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Hi},{no:3,name:"schema_key",kind:"scalar",T:9}]));let Od=fi;const hi=class hi extends K{constructor(t){super();h(this,"documentId","");h(this,"changePack");h(this,"maxSizePerDocument",0);h(this,"schemaRules",[]);p.util.initPartial(t,this)}static fromBinary(t,i){return new hi().fromBinary(t,i)}static fromJson(t,i){return new hi().fromJson(t,i)}static fromJsonString(t,i){return new hi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(hi,t,i)}};h(hi,"runtime",p),h(hi,"typeName","yorkie.v1.AttachDocumentResponse"),h(hi,"fields",p.util.newFieldList(()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Hi},{no:3,name:"max_size_per_document",kind:"scalar",T:5},{no:4,name:"schema_rules",kind:"message",T:Dc,repeated:!0}]));let kd=hi;const di=class di extends K{constructor(t){super();h(this,"clientId","");h(this,"documentId","");h(this,"changePack");h(this,"removeIfNotAttached",!1);p.util.initPartial(t,this)}static fromBinary(t,i){return new di().fromBinary(t,i)}static fromJson(t,i){return new di().fromJson(t,i)}static fromJsonString(t,i){return new di().fromJsonString(t,i)}static equals(t,i){return p.util.equals(di,t,i)}};h(di,"runtime",p),h(di,"typeName","yorkie.v1.DetachDocumentRequest"),h(di,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Hi},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]));let Cd=di;const gi=class gi extends K{constructor(t){super();h(this,"changePack");p.util.initPartial(t,this)}static fromBinary(t,i){return new gi().fromBinary(t,i)}static fromJson(t,i){return new gi().fromJson(t,i)}static fromJsonString(t,i){return new gi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(gi,t,i)}};h(gi,"runtime",p),h(gi,"typeName","yorkie.v1.DetachDocumentResponse"),h(gi,"fields",p.util.newFieldList(()=>[{no:2,name:"change_pack",kind:"message",T:Hi}]));let Rd=gi;const mi=class mi extends K{constructor(t){super();h(this,"clientId","");h(this,"documentId","");p.util.initPartial(t,this)}static fromBinary(t,i){return new mi().fromBinary(t,i)}static fromJson(t,i){return new mi().fromJson(t,i)}static fromJsonString(t,i){return new mi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(mi,t,i)}};h(mi,"runtime",p),h(mi,"typeName","yorkie.v1.WatchDocumentRequest"),h(mi,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]));let Id=mi;const yi=class yi extends K{constructor(t){super();h(this,"body",{case:void 0});p.util.initPartial(t,this)}static fromBinary(t,i){return new yi().fromBinary(t,i)}static fromJson(t,i){return new yi().fromJson(t,i)}static fromJsonString(t,i){return new yi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(yi,t,i)}};h(yi,"runtime",p),h(yi,"typeName","yorkie.v1.WatchDocumentResponse"),h(yi,"fields",p.util.newFieldList(()=>[{no:1,name:"initialization",kind:"message",T:zd,oneof:"body"},{no:2,name:"event",kind:"message",T:Td,oneof:"body"}]));let Bd=yi;const pi=class pi extends K{constructor(t){super();h(this,"clientIds",[]);p.util.initPartial(t,this)}static fromBinary(t,i){return new pi().fromBinary(t,i)}static fromJson(t,i){return new pi().fromJson(t,i)}static fromJsonString(t,i){return new pi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(pi,t,i)}};h(pi,"runtime",p),h(pi,"typeName","yorkie.v1.WatchDocumentResponse.Initialization"),h(pi,"fields",p.util.newFieldList(()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}]));let zd=pi;const vi=class vi extends K{constructor(t){super();h(this,"clientId","");h(this,"documentId","");h(this,"changePack");p.util.initPartial(t,this)}static fromBinary(t,i){return new vi().fromBinary(t,i)}static fromJson(t,i){return new vi().fromJson(t,i)}static fromJsonString(t,i){return new vi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(vi,t,i)}};h(vi,"runtime",p),h(vi,"typeName","yorkie.v1.RemoveDocumentRequest"),h(vi,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Hi}]));let Md=vi;const Si=class Si extends K{constructor(t){super();h(this,"changePack");p.util.initPartial(t,this)}static fromBinary(t,i){return new Si().fromBinary(t,i)}static fromJson(t,i){return new Si().fromJson(t,i)}static fromJsonString(t,i){return new Si().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Si,t,i)}};h(Si,"runtime",p),h(Si,"typeName","yorkie.v1.RemoveDocumentResponse"),h(Si,"fields",p.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Hi}]));let Ud=Si;const bi=class bi extends K{constructor(t){super();h(this,"clientId","");h(this,"documentId","");h(this,"changePack");h(this,"pushOnly",!1);p.util.initPartial(t,this)}static fromBinary(t,i){return new bi().fromBinary(t,i)}static fromJson(t,i){return new bi().fromJson(t,i)}static fromJsonString(t,i){return new bi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(bi,t,i)}};h(bi,"runtime",p),h(bi,"typeName","yorkie.v1.PushPullChangesRequest"),h(bi,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Hi},{no:4,name:"push_only",kind:"scalar",T:8}]));let Ld=bi;const Ti=class Ti extends K{constructor(t){super();h(this,"changePack");p.util.initPartial(t,this)}static fromBinary(t,i){return new Ti().fromBinary(t,i)}static fromJson(t,i){return new Ti().fromJson(t,i)}static fromJsonString(t,i){return new Ti().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Ti,t,i)}};h(Ti,"runtime",p),h(Ti,"typeName","yorkie.v1.PushPullChangesResponse"),h(Ti,"fields",p.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Hi}]));let Jd=Ti;const wi=class wi extends K{constructor(t){super();h(this,"clientId","");h(this,"channelKey","");p.util.initPartial(t,this)}static fromBinary(t,i){return new wi().fromBinary(t,i)}static fromJson(t,i){return new wi().fromJson(t,i)}static fromJsonString(t,i){return new wi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(wi,t,i)}};h(wi,"runtime",p),h(wi,"typeName","yorkie.v1.AttachChannelRequest"),h(wi,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"channel_key",kind:"scalar",T:9}]));let qd=wi;const Ai=class Ai extends K{constructor(t){super();h(this,"sessionId","");h(this,"count",Tt.zero);p.util.initPartial(t,this)}static fromBinary(t,i){return new Ai().fromBinary(t,i)}static fromJson(t,i){return new Ai().fromJson(t,i)}static fromJsonString(t,i){return new Ai().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Ai,t,i)}};h(Ai,"runtime",p),h(Ai,"typeName","yorkie.v1.AttachChannelResponse"),h(Ai,"fields",p.util.newFieldList(()=>[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"count",kind:"scalar",T:3}]));let Pd=Ai;const Ei=class Ei extends K{constructor(t){super();h(this,"clientId","");h(this,"channelKey","");h(this,"sessionId","");p.util.initPartial(t,this)}static fromBinary(t,i){return new Ei().fromBinary(t,i)}static fromJson(t,i){return new Ei().fromJson(t,i)}static fromJsonString(t,i){return new Ei().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Ei,t,i)}};h(Ei,"runtime",p),h(Ei,"typeName","yorkie.v1.DetachChannelRequest"),h(Ei,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"channel_key",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}]));let Vd=Ei;const xi=class xi extends K{constructor(t){super();h(this,"count",Tt.zero);p.util.initPartial(t,this)}static fromBinary(t,i){return new xi().fromBinary(t,i)}static fromJson(t,i){return new xi().fromJson(t,i)}static fromJsonString(t,i){return new xi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(xi,t,i)}};h(xi,"runtime",p),h(xi,"typeName","yorkie.v1.DetachChannelResponse"),h(xi,"fields",p.util.newFieldList(()=>[{no:1,name:"count",kind:"scalar",T:3}]));let Hd=xi;const Ni=class Ni extends K{constructor(t){super();h(this,"clientId","");h(this,"channelKey","");h(this,"sessionId","");p.util.initPartial(t,this)}static fromBinary(t,i){return new Ni().fromBinary(t,i)}static fromJson(t,i){return new Ni().fromJson(t,i)}static fromJsonString(t,i){return new Ni().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Ni,t,i)}};h(Ni,"runtime",p),h(Ni,"typeName","yorkie.v1.RefreshChannelRequest"),h(Ni,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"channel_key",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}]));let Kd=Ni;const Di=class Di extends K{constructor(t){super();h(this,"count",Tt.zero);p.util.initPartial(t,this)}static fromBinary(t,i){return new Di().fromBinary(t,i)}static fromJson(t,i){return new Di().fromJson(t,i)}static fromJsonString(t,i){return new Di().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Di,t,i)}};h(Di,"runtime",p),h(Di,"typeName","yorkie.v1.RefreshChannelResponse"),h(Di,"fields",p.util.newFieldList(()=>[{no:1,name:"count",kind:"scalar",T:3}]));let jd=Di;const Oi=class Oi extends K{constructor(t){super();h(this,"clientId","");h(this,"channelKey","");p.util.initPartial(t,this)}static fromBinary(t,i){return new Oi().fromBinary(t,i)}static fromJson(t,i){return new Oi().fromJson(t,i)}static fromJsonString(t,i){return new Oi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Oi,t,i)}};h(Oi,"runtime",p),h(Oi,"typeName","yorkie.v1.WatchChannelRequest"),h(Oi,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"channel_key",kind:"scalar",T:9}]));let Yd=Oi;const ki=class ki extends K{constructor(t){super();h(this,"body",{case:void 0});p.util.initPartial(t,this)}static fromBinary(t,i){return new ki().fromBinary(t,i)}static fromJson(t,i){return new ki().fromJson(t,i)}static fromJsonString(t,i){return new ki().fromJsonString(t,i)}static equals(t,i){return p.util.equals(ki,t,i)}};h(ki,"runtime",p),h(ki,"typeName","yorkie.v1.WatchChannelResponse"),h(ki,"fields",p.util.newFieldList(()=>[{no:1,name:"initialized",kind:"message",T:Gd,oneof:"body"},{no:2,name:"event",kind:"message",T:wd,oneof:"body"}]));let $d=ki;const Ci=class Ci extends K{constructor(t){super();h(this,"count",Tt.zero);h(this,"seq",Tt.zero);p.util.initPartial(t,this)}static fromBinary(t,i){return new Ci().fromBinary(t,i)}static fromJson(t,i){return new Ci().fromJson(t,i)}static fromJsonString(t,i){return new Ci().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Ci,t,i)}};h(Ci,"runtime",p),h(Ci,"typeName","yorkie.v1.WatchChannelInitialized"),h(Ci,"fields",p.util.newFieldList(()=>[{no:1,name:"count",kind:"scalar",T:3},{no:2,name:"seq",kind:"scalar",T:3}]));let Gd=Ci;const Ri=class Ri extends K{constructor(t){super();h(this,"clientId","");h(this,"channelKey","");h(this,"topic","");h(this,"payload",new Uint8Array(0));p.util.initPartial(t,this)}static fromBinary(t,i){return new Ri().fromBinary(t,i)}static fromJson(t,i){return new Ri().fromJson(t,i)}static fromJsonString(t,i){return new Ri().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Ri,t,i)}};h(Ri,"runtime",p),h(Ri,"typeName","yorkie.v1.BroadcastRequest"),h(Ri,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"channel_key",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]));let Xd=Ri;const Ii=class Ii extends K{constructor(n){super(),p.util.initPartial(n,this)}static fromBinary(n,t){return new Ii().fromBinary(n,t)}static fromJson(n,t){return new Ii().fromJson(n,t)}static fromJsonString(n,t){return new Ii().fromJsonString(n,t)}static equals(n,t){return p.util.equals(Ii,n,t)}};h(Ii,"runtime",p),h(Ii,"typeName","yorkie.v1.BroadcastResponse"),h(Ii,"fields",p.util.newFieldList(()=>[]));let Fd=Ii;const V1={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:Ed,O:xd,kind:le.Unary},deactivateClient:{name:"DeactivateClient",I:Nd,O:Dd,kind:le.Unary},attachDocument:{name:"AttachDocument",I:Od,O:kd,kind:le.Unary},detachDocument:{name:"DetachDocument",I:Cd,O:Rd,kind:le.Unary},removeDocument:{name:"RemoveDocument",I:Md,O:Ud,kind:le.Unary},pushPullChanges:{name:"PushPullChanges",I:Ld,O:Jd,kind:le.Unary},watchDocument:{name:"WatchDocument",I:Id,O:Bd,kind:le.ServerStreaming},attachChannel:{name:"AttachChannel",I:qd,O:Pd,kind:le.Unary},detachChannel:{name:"DetachChannel",I:Vd,O:Hd,kind:le.Unary},refreshChannel:{name:"RefreshChannel",I:Kd,O:jd,kind:le.Unary},watchChannel:{name:"WatchChannel",I:Yd,O:$d,kind:le.ServerStreaming},broadcast:{name:"Broadcast",I:Xd,O:Fd,kind:le.Unary}}},H1=p.makeMessageType("google.rpc.ErrorInfo",()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]);p.makeMessageType("google.rpc.RetryInfo",()=>[{no:1,name:"retry_delay",kind:"message",T:Mi}]);p.makeMessageType("google.rpc.DebugInfo",()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]);p.makeMessageType("google.rpc.QuotaFailure",()=>[{no:1,name:"violations",kind:"message",T:K1,repeated:!0}]);const K1=p.makeMessageType("google.rpc.QuotaFailure.Violation",()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"api_service",kind:"scalar",T:9},{no:4,name:"quota_metric",kind:"scalar",T:9},{no:5,name:"quota_id",kind:"scalar",T:9},{no:6,name:"quota_dimensions",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:7,name:"quota_value",kind:"scalar",T:3},{no:8,name:"future_quota_value",kind:"scalar",T:3,opt:!0}],{localName:"QuotaFailure_Violation"});p.makeMessageType("google.rpc.PreconditionFailure",()=>[{no:1,name:"violations",kind:"message",T:j1,repeated:!0}]);const j1=p.makeMessageType("google.rpc.PreconditionFailure.Violation",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}],{localName:"PreconditionFailure_Violation"});p.makeMessageType("google.rpc.BadRequest",()=>[{no:1,name:"field_violations",kind:"message",T:Y1,repeated:!0}]);const Y1=p.makeMessageType("google.rpc.BadRequest.FieldViolation",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"reason",kind:"scalar",T:9},{no:4,name:"localized_message",kind:"message",T:G1}],{localName:"BadRequest_FieldViolation"});p.makeMessageType("google.rpc.RequestInfo",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]);p.makeMessageType("google.rpc.ResourceInfo",()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]);p.makeMessageType("google.rpc.Help",()=>[{no:1,name:"links",kind:"message",T:$1,repeated:!0}]);const $1=p.makeMessageType("google.rpc.Help.Link",()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}],{localName:"Help_Link"}),G1=p.makeMessageType("google.rpc.LocalizedMessage",()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]);var x=(s=>(s.Ok="ok",s.ErrClientNotActivated="ErrClientNotActivated",s.ErrClientNotFound="ErrClientNotFound",s.ErrUnimplemented="ErrUnimplemented",s.ErrInvalidType="ErrInvalidType",s.ErrDummy="ErrDummy",s.ErrNotAttached="ErrNotAttached",s.ErrNotDetached="ErrNotDetached",s.ErrDocumentRemoved="ErrDocumentRemoved",s.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",s.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",s.ErrInvalidObjectKey="ErrInvalidObjectKey",s.ErrInvalidArgument="ErrInvalidArgument",s.ErrNotInitialized="ErrNotInitialized",s.ErrNotReady="ErrNotReady",s.ErrRefused="ErrRefused",s.ErrContextNotProvided="ErrContextNotProvided",s.ErrPermissionDenied="ErrPermissionDenied",s.ErrUnauthenticated="ErrUnauthenticated",s.ErrTooManySubscribers="ErrTooManySubscribers",s.ErrTooManyAttachments="ErrTooManyAttachments",s))(x||{});class D extends Error{constructor(t,i){super(i);h(this,"name","YorkieError");h(this,"stack");this.code=t,this.message=i,this.toString=()=>`[code=${this.code}]: ${this.message}`}}var Wn=(s=>(s.Put="put",s.Clear="clear",s))(Wn||{});const sg="000000000000000000000000",Zn=24;class wn{constructor(n,t,i){h(this,"lamport");h(this,"delimiter");h(this,"actorID");this.lamport=n,this.delimiter=t,this.actorID=i}static of(n,t,i){return new wn(n,t,i)}static fromStruct(n){return wn.of(BigInt(n.lamport),n.delimiter,n.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(n){return new wn(this.lamport,this.delimiter,n)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(n){return this.compare(n)>0}equals(n){return this.compare(n)===0}compare(n){if(this.lamport>n.lamport)return 1;if(n.lamport>this.lamport)return-1;const t=this.actorID.localeCompare(n.actorID);return t!==0?t:this.delimiter>n.delimiter?1:n.delimiter>this.delimiter?-1:0}}const Zd=0n,eS=0,Qd=9223372036854775807n,Ws=new wn(Zd,eS,sg);function Fn(s){return s.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(n){switch(n){case'"':case"\\":return"\\"+n;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return n}})}class Dl{constructor(n){h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");this.createdAt=n}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(n){this.createdAt=n}setMovedAt(n){return!this.movedAt||n&&n.after(this.movedAt)?(this.movedAt=n,!0):!1}setRemovedAt(n){this.removedAt=n}remove(n){return n&&n.after(this.createdAt)&&(!this.removedAt||n.after(this.removedAt))?(this.removedAt=n,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let n=0;return this.getCreatedAt()&&(n+=Zn),this.getMovedAt()&&(n+=Zn),this.getRemovedAt()&&(n+=Zn),n}}class ba extends Dl{constructor(n){super(n)}}class Oc{constructor(n,t){h(this,"strKey");h(this,"value");this.strKey=n,this.value=t}static of(n,t){return new Oc(n,t)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(n){return this.value.remove(n)}}class to{constructor(){h(this,"nodeMapByKey");h(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new to}set(n,t,i){let l;const c=this.nodeMapByKey.get(n);c&&!c.isRemoved()&&c.remove(i)&&(l=c.getValue());const d=Oc.of(n,t);return this.nodeMapByCreatedAt.set(t.getCreatedAt().toIDString(),d),(!c||i.after(c.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(n,d),t.setMovedAt(i)),l}delete(n,t){if(!this.nodeMapByCreatedAt.has(n.toIDString()))throw new D(x.ErrInvalidArgument,`fail to find ${n.toIDString()}`);const i=this.nodeMapByCreatedAt.get(n.toIDString());return i.remove(t),i.getValue()}subPathOf(n){const t=this.nodeMapByCreatedAt.get(n.toIDString());if(t)return t.getStrKey()}purge(n){const t=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!t)throw new D(x.ErrInvalidArgument,`fail to find ${n.getCreatedAt().toIDString()}`);const i=this.nodeMapByKey.get(t.getStrKey());t===i&&this.nodeMapByKey.delete(i.getStrKey()),this.nodeMapByCreatedAt.delete(t.getValue().getCreatedAt().toIDString())}deleteByKey(n,t){const i=this.nodeMapByKey.get(n);if(i&&i.remove(t))return i.getValue()}has(n){const t=this.nodeMapByKey.get(n);return t?!t.isRemoved():!1}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}get(n){const t=this.nodeMapByKey.get(n);if(!(!t||t.isRemoved()))return t}deepcopy(){const n=to.create();for(const[,t]of this.nodeMapByCreatedAt)n.nodeMapByCreatedAt.set(t.getValue().getCreatedAt().toIDString(),Oc.of(t.getStrKey(),t.getValue().deepcopy()));for(const[t,i]of this.nodeMapByKey)n.nodeMapByKey.set(t,n.nodeMapByCreatedAt.get(i.getValue().getCreatedAt().toIDString()));return n}*[Symbol.iterator](){for(const[,n]of this.nodeMapByCreatedAt)yield n}}class Ee extends ba{constructor(t,i){super(t);h(this,"memberNodes");this.memberNodes=i}static create(t,i){if(!i)return new Ee(t,to.create());const l=to.create();for(const[c,d]of Object.entries(i))l.set(c,d.deepcopy(),d.getCreatedAt());return new Ee(t,l)}subPathOf(t){return this.memberNodes.subPathOf(t)}purge(t){this.memberNodes.purge(t)}set(t,i,l){return this.memberNodes.set(t,i,l)}delete(t,i){return this.memberNodes.delete(t,i)}deleteByKey(t,i){return this.memberNodes.deleteByKey(t,i)}get(t){const i=this.memberNodes.get(t);return i==null?void 0:i.getValue()}getByID(t){const i=this.memberNodes.getByID(t);return i==null?void 0:i.getValue()}has(t){return this.memberNodes.has(t)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const t=[];for(const[i,l]of this)t.push(`"${Fn(i)}":${l.toJSON()}`);return`{${t.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const t={};for(const[i,l]of this){const{createdAt:c,value:d,type:g}=l.toJSForTest();t[i]={key:i,createdAt:c,value:d,type:g}}return{createdAt:this.getCreatedAt().toTestString(),value:t,type:"YORKIE_OBJECT"}}getKeys(){const t=Array();for(const[i]of this)t.push(i);return t}toSortedJSON(){var l;const t=new Set;for(const[c]of this)t.add(c);const i=[];for(const c of Array.from(t).sort()){const d=(l=this.memberNodes.get(c))==null?void 0:l.getValue();i.push(`"${Fn(c)}":${d.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const t=Ee.create(this.getCreatedAt());return t.memberNodes=this.memberNodes.deepcopy(),t.setRemovedAt(this.getRemovedAt()),t.setMovedAt(this.getMovedAt()),t}getDescendants(t){for(const i of this.memberNodes){const l=i.getValue();if(t(l,this))return;l instanceof ba&&l.getDescendants(t)}}*[Symbol.iterator](){for(const t of this.memberNodes)t.isRemoved()||(yield[t.getStrKey(),t.getValue()])}}var jt=(s=>(s.Local="local",s.Remote="remote",s.UndoRedo="undoredo",s))(jt||{});class Mn{constructor(n,t){h(this,"parentCreatedAt");h(this,"executedAt");this.parentCreatedAt=n,this.executedAt=t}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new D(x.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(n){this.executedAt&&(this.executedAt=this.executedAt.setActor(n))}setExecutedAt(n){this.executedAt=n}}class nS{constructor(n){h(this,"value");h(this,"left");h(this,"right");h(this,"parent");h(this,"weight");this.value=n,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(n){this.left=n}setRight(n){this.right=n}setParent(n){this.parent=n}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(n){this.weight+=n}initWeight(){this.weight=this.getLength()}}class wl{constructor(n){h(this,"root");this.root=n}get length(){return this.root?this.root.getWeight():0}find(n){if(!this.root||n<0)return[void 0,0];let t=this.root;for(;;)if(t.hasLeft()&&n<=t.getLeftWeight())t=t.getLeft();else if(t.hasRight()&&t.getLeftWeight()+t.getLength()<n)n-=t.getLeftWeight()+t.getLength(),t=t.getRight();else{n-=t.getLeftWeight();break}if(n>t.getLength())throw new D(x.ErrInvalidArgument,`out of index range: pos: ${n} > node.length: ${t.getLength()}`);return this.splayNode(t),[t,n]}indexOf(n){return!n||n!==this.root&&!n.hasLinks()?-1:(this.splayNode(n),this.root.getLeftWeight())}getRoot(){return this.root}insert(n){return this.insertAfter(this.root,n)}insertAfter(n,t){return n?(this.splayNode(n),this.root=t,t.setRight(n.getRight()),n.hasRight()&&n.getRight().setParent(t),t.setLeft(n),n.setParent(t),n.setRight(),this.updateWeight(n),this.updateWeight(t),t):(this.root=t,t)}updateWeight(n){n.initWeight(),n.hasLeft()&&n.increaseWeight(n.getLeftWeight()),n.hasRight()&&n.increaseWeight(n.getRightWeight())}updateTreeWeight(n){for(;n;)this.updateWeight(n),n=n.getParent()}splayNode(n){if(n)for(;;)if(this.isLeftChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n),this.rotateLeft(n);else if(this.isLeftChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n.getParent()),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n.getParent()),this.rotateLeft(n);else{this.isLeftChild(n)?this.rotateRight(n):this.isRightChild(n)&&this.rotateLeft(n),this.updateWeight(n);return}}delete(n){this.splayNode(n);const t=new wl(n.getLeft());t.root&&t.root.setParent();const i=new wl(n.getRight());if(i.root&&i.root.setParent(),t.root){const l=t.getRightmost();t.splayNode(l),t.root.setRight(i.root),i.root&&i.root.setParent(t.root),this.root=t.root}else this.root=i.root;n.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(n,t){if(!t){this.splayNode(n),this.cutOffRight(n);return}this.splayNode(n),this.splayNode(t),t.getLeft()!=n&&this.rotateRight(n),this.cutOffRight(n)}cutOffRight(n){const t=[];this.traversePostorder(n.getRight(),t);for(const i of t)i.initWeight();this.updateTreeWeight(n)}toTestString(){const n=[];return this.traverseInorder(this.root,n),n.map(t=>`[${t.getWeight()},${t.getLength()}]${t.getValue()||""}`).join("")}checkWeight(){const n=[];this.traverseInorder(this.root,n);for(const t of n)if(t.getWeight()!=t.getLength()+t.getLeftWeight()+t.getRightWeight())return!1;return!0}getRightmost(){let n=this.root;for(;n.hasRight();)n=n.getRight();return n}traverseInorder(n,t){n&&(this.traverseInorder(n.getLeft(),t),t.push(n),this.traverseInorder(n.getRight(),t))}traversePostorder(n,t){n&&(this.traversePostorder(n.getLeft(),t),this.traversePostorder(n.getRight(),t),t.push(n))}rotateLeft(n){const t=n.getParent();t.hasParent()?t===t.getParent().getLeft()?t.getParent().setLeft(n):t.getParent().setRight(n):this.root=n,n.setParent(t.getParent()),t.setRight(n.getLeft()),t.hasRight()&&t.getRight().setParent(t),n.setLeft(t),n.getLeft().setParent(n),this.updateWeight(t),this.updateWeight(n)}rotateRight(n){const t=n.getParent();t.hasParent()?t===t.getParent().getLeft()?t.getParent().setLeft(n):t.getParent().setRight(n):this.root=n,n.setParent(t.getParent()),t.setLeft(n.getRight()),t.hasLeft()&&t.getLeft().setParent(t),n.setRight(t),n.getRight().setParent(n),this.updateWeight(t),this.updateWeight(n)}isLeftChild(n){return n&&n.hasParent()?n.getParent().getLeft()===n:!1}isRightChild(n){return n&&n.hasParent()?n.getParent().getRight()===n:!1}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var bn=null;try{bn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function bt(s,n,t){this.low=s|0,this.high=n|0,this.unsigned=!!t}bt.prototype.__isLong__;Object.defineProperty(bt.prototype,"__isLong__",{value:!0});function Ne(s){return(s&&s.__isLong__)===!0}function l0(s){var n=Math.clz32(s&-s);return s?31-n:n}bt.isLong=Ne;var u0={},c0={};function _a(s,n){var t,i,l;return n?(s>>>=0,(l=0<=s&&s<256)&&(i=c0[s],i)?i:(t=xt(s,0,!0),l&&(c0[s]=t),t)):(s|=0,(l=-128<=s&&s<128)&&(i=u0[s],i)?i:(t=xt(s,s<0?-1:0,!1),l&&(u0[s]=t),t))}bt.fromInt=_a;function Tn(s,n){if(isNaN(s))return n?Li:Rn;if(n){if(s<0)return Li;if(s>=rS)return sS}else{if(s<=-h0)return Me;if(s+1>=h0)return aS}return s<0?Tn(-s,n).neg():xt(s%eo|0,s/eo|0,n)}bt.fromNumber=Tn;function xt(s,n,t){return new bt(s,n,t)}bt.fromBits=xt;var kc=Math.pow;function og(s,n,t){if(s.length===0)throw Error("empty string");if(typeof n=="number"?(t=n,n=!1):n=!!n,s==="NaN"||s==="Infinity"||s==="+Infinity"||s==="-Infinity")return n?Li:Rn;if(t=t||10,t<2||36<t)throw RangeError("radix");var i;if((i=s.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return og(s.substring(1),n,t).neg();for(var l=Tn(kc(t,8)),c=Rn,d=0;d<s.length;d+=8){var g=Math.min(8,s.length-d),y=parseInt(s.substring(d,d+g),t);if(g<8){var v=Tn(kc(t,g));c=c.mul(v).add(Tn(y))}else c=c.mul(l),c=c.add(Tn(y))}return c.unsigned=n,c}bt.fromString=og;function An(s,n){return typeof s=="number"?Tn(s,n):typeof s=="string"?og(s,n):xt(s.low,s.high,typeof n=="boolean"?n:s.unsigned)}bt.fromValue=An;var f0=65536,X1=1<<24,eo=f0*f0,rS=eo*eo,h0=rS/2,d0=_a(X1),Rn=_a(0);bt.ZERO=Rn;var Li=_a(0,!0);bt.UZERO=Li;var Ks=_a(1);bt.ONE=Ks;var iS=_a(1,!0);bt.UONE=iS;var _d=_a(-1);bt.NEG_ONE=_d;var aS=xt(-1,2147483647,!1);bt.MAX_VALUE=aS;var sS=xt(-1,-1,!0);bt.MAX_UNSIGNED_VALUE=sS;var Me=xt(0,-2147483648,!1);bt.MIN_VALUE=Me;var H=bt.prototype;H.toInt=function(){return this.unsigned?this.low>>>0:this.low};H.toNumber=function(){return this.unsigned?(this.high>>>0)*eo+(this.low>>>0):this.high*eo+(this.low>>>0)};H.toString=function(n){if(n=n||10,n<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Me)){var t=Tn(n),i=this.div(t),l=i.mul(t).sub(this);return i.toString(n)+l.toInt().toString(n)}else return"-"+this.neg().toString(n);for(var c=Tn(kc(n,6),this.unsigned),d=this,g="";;){var y=d.div(c),v=d.sub(y.mul(c)).toInt()>>>0,b=v.toString(n);if(d=y,d.isZero())return b+g;for(;b.length<6;)b="0"+b;g=""+b+g}};H.getHighBits=function(){return this.high};H.getHighBitsUnsigned=function(){return this.high>>>0};H.getLowBits=function(){return this.low};H.getLowBitsUnsigned=function(){return this.low>>>0};H.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Me)?64:this.neg().getNumBitsAbs();for(var n=this.high!=0?this.high:this.low,t=31;t>0&&(n&1<<t)==0;t--);return this.high!=0?t+33:t+1};H.isSafeInteger=function(){var n=this.high>>21;return n?this.unsigned?!1:n===-1&&!(this.low===0&&this.high===-2097152):!0};H.isZero=function(){return this.high===0&&this.low===0};H.eqz=H.isZero;H.isNegative=function(){return!this.unsigned&&this.high<0};H.isPositive=function(){return this.unsigned||this.high>=0};H.isOdd=function(){return(this.low&1)===1};H.isEven=function(){return(this.low&1)===0};H.equals=function(n){return Ne(n)||(n=An(n)),this.unsigned!==n.unsigned&&this.high>>>31===1&&n.high>>>31===1?!1:this.high===n.high&&this.low===n.low};H.eq=H.equals;H.notEquals=function(n){return!this.eq(n)};H.neq=H.notEquals;H.ne=H.notEquals;H.lessThan=function(n){return this.comp(n)<0};H.lt=H.lessThan;H.lessThanOrEqual=function(n){return this.comp(n)<=0};H.lte=H.lessThanOrEqual;H.le=H.lessThanOrEqual;H.greaterThan=function(n){return this.comp(n)>0};H.gt=H.greaterThan;H.greaterThanOrEqual=function(n){return this.comp(n)>=0};H.gte=H.greaterThanOrEqual;H.ge=H.greaterThanOrEqual;H.compare=function(n){if(Ne(n)||(n=An(n)),this.eq(n))return 0;var t=this.isNegative(),i=n.isNegative();return t&&!i?-1:!t&&i?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1};H.comp=H.compare;H.negate=function(){return!this.unsigned&&this.eq(Me)?Me:this.not().add(Ks)};H.neg=H.negate;H.add=function(n){Ne(n)||(n=An(n));var t=this.high>>>16,i=this.high&65535,l=this.low>>>16,c=this.low&65535,d=n.high>>>16,g=n.high&65535,y=n.low>>>16,v=n.low&65535,b=0,E=0,O=0,k=0;return k+=c+v,O+=k>>>16,k&=65535,O+=l+y,E+=O>>>16,O&=65535,E+=i+g,b+=E>>>16,E&=65535,b+=t+d,b&=65535,xt(O<<16|k,b<<16|E,this.unsigned)};H.subtract=function(n){return Ne(n)||(n=An(n)),this.add(n.neg())};H.sub=H.subtract;H.multiply=function(n){if(this.isZero())return this;if(Ne(n)||(n=An(n)),bn){var t=bn.mul(this.low,this.high,n.low,n.high);return xt(t,bn.get_high(),this.unsigned)}if(n.isZero())return this.unsigned?Li:Rn;if(this.eq(Me))return n.isOdd()?Me:Rn;if(n.eq(Me))return this.isOdd()?Me:Rn;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(d0)&&n.lt(d0))return Tn(this.toNumber()*n.toNumber(),this.unsigned);var i=this.high>>>16,l=this.high&65535,c=this.low>>>16,d=this.low&65535,g=n.high>>>16,y=n.high&65535,v=n.low>>>16,b=n.low&65535,E=0,O=0,k=0,U=0;return U+=d*b,k+=U>>>16,U&=65535,k+=c*b,O+=k>>>16,k&=65535,k+=d*v,O+=k>>>16,k&=65535,O+=l*b,E+=O>>>16,O&=65535,O+=c*v,E+=O>>>16,O&=65535,O+=d*y,E+=O>>>16,O&=65535,E+=i*b+l*v+c*y+d*g,E&=65535,xt(k<<16|U,E<<16|O,this.unsigned)};H.mul=H.multiply;H.divide=function(n){if(Ne(n)||(n=An(n)),n.isZero())throw Error("division by zero");if(bn){if(!this.unsigned&&this.high===-2147483648&&n.low===-1&&n.high===-1)return this;var t=(this.unsigned?bn.div_u:bn.div_s)(this.low,this.high,n.low,n.high);return xt(t,bn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Li:Rn;var i,l,c;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return Li;if(n.gt(this.shru(1)))return iS;c=Li}else{if(this.eq(Me)){if(n.eq(Ks)||n.eq(_d))return Me;if(n.eq(Me))return Ks;var d=this.shr(1);return i=d.div(n).shl(1),i.eq(Rn)?n.isNegative()?Ks:_d:(l=this.sub(n.mul(i)),c=i.add(l.div(n)),c)}else if(n.eq(Me))return this.unsigned?Li:Rn;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();c=Rn}for(l=this;l.gte(n);){i=Math.max(1,Math.floor(l.toNumber()/n.toNumber()));for(var g=Math.ceil(Math.log(i)/Math.LN2),y=g<=48?1:kc(2,g-48),v=Tn(i),b=v.mul(n);b.isNegative()||b.gt(l);)i-=y,v=Tn(i,this.unsigned),b=v.mul(n);v.isZero()&&(v=Ks),c=c.add(v),l=l.sub(b)}return c};H.div=H.divide;H.modulo=function(n){if(Ne(n)||(n=An(n)),bn){var t=(this.unsigned?bn.rem_u:bn.rem_s)(this.low,this.high,n.low,n.high);return xt(t,bn.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))};H.mod=H.modulo;H.rem=H.modulo;H.not=function(){return xt(~this.low,~this.high,this.unsigned)};H.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};H.clz=H.countLeadingZeros;H.countTrailingZeros=function(){return this.low?l0(this.low):l0(this.high)+32};H.ctz=H.countTrailingZeros;H.and=function(n){return Ne(n)||(n=An(n)),xt(this.low&n.low,this.high&n.high,this.unsigned)};H.or=function(n){return Ne(n)||(n=An(n)),xt(this.low|n.low,this.high|n.high,this.unsigned)};H.xor=function(n){return Ne(n)||(n=An(n)),xt(this.low^n.low,this.high^n.high,this.unsigned)};H.shiftLeft=function(n){return Ne(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?xt(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):xt(0,this.low<<n-32,this.unsigned)};H.shl=H.shiftLeft;H.shiftRight=function(n){return Ne(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?xt(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):xt(this.high>>n-32,this.high>=0?0:-1,this.unsigned)};H.shr=H.shiftRight;H.shiftRightUnsigned=function(n){return Ne(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?xt(this.low>>>n|this.high<<32-n,this.high>>>n,this.unsigned):n===32?xt(this.high,0,this.unsigned):xt(this.high>>>n-32,0,this.unsigned)};H.shru=H.shiftRightUnsigned;H.shr_u=H.shiftRightUnsigned;H.rotateLeft=function(n){var t;return Ne(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?xt(this.high,this.low,this.unsigned):n<32?(t=32-n,xt(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned)):(n-=32,t=32-n,xt(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned))};H.rotl=H.rotateLeft;H.rotateRight=function(n){var t;return Ne(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?xt(this.high,this.low,this.unsigned):n<32?(t=32-n,xt(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned)):(n-=32,t=32-n,xt(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned))};H.rotr=H.rotateRight;H.toSigned=function(){return this.unsigned?xt(this.low,this.high,!1):this};H.toUnsigned=function(){return this.unsigned?this:xt(this.low,this.high,!0)};H.toBytes=function(n){return n?this.toBytesLE():this.toBytesBE()};H.toBytesLE=function(){var n=this.high,t=this.low;return[t&255,t>>>8&255,t>>>16&255,t>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]};H.toBytesBE=function(){var n=this.high,t=this.low;return[n>>>24,n>>>16&255,n>>>8&255,n&255,t>>>24,t>>>16&255,t>>>8&255,t&255]};bt.fromBytes=function(n,t,i){return i?bt.fromBytesLE(n,t):bt.fromBytesBE(n,t)};bt.fromBytesLE=function(n,t){return new bt(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,t)};bt.fromBytesBE=function(n,t){return new bt(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],t)};typeof BigInt=="function"&&(bt.fromBigInt=function(n,t){var i=Number(BigInt.asIntN(32,n)),l=Number(BigInt.asIntN(32,n>>BigInt(32)));return xt(i,l,t)},bt.fromValue=function(n,t){return typeof n=="bigint"?bt.fromBigInt(n,t):An(n,t)},H.toBigInt=function(){var n=BigInt(this.low>>>0),t=BigInt(this.unsigned?this.high>>>0:this.high);return t<<BigInt(32)|n});var qt=(s=>(s[s.Null=0]="Null",s[s.Boolean=1]="Boolean",s[s.Integer=2]="Integer",s[s.Long=3]="Long",s[s.Double=4]="Double",s[s.String=5]="String",s[s.Bytes=6]="Bytes",s[s.Date=7]="Date",s))(qt||{});class $t extends Dl{constructor(t,i){super(i);h(this,"valueType");h(this,"value");this.valueType=$t.getPrimitiveType(t),this.value=t===void 0?null:t}static of(t,i){return new $t(t,i)}static valueFromBytes(t,i){switch(t){case 0:return null;case 1:return!!i[0];case 2:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 4:{const l=new DataView(i.buffer);return i.forEach(function(c,d){l.setUint8(d,c)}),l.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(i);case 3:return bt.fromBytesLE(Array.from(i));case 6:return i;case 7:return new Date(bt.fromBytesLE(Array.from(i),!0).toNumber());default:throw new D(x.ErrUnimplemented,`unimplemented type: ${t}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new D(x.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${Fn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const t=$t.of(this.value,this.getCreatedAt());return t.setMovedAt(this.getMovedAt()),t.setRemovedAt(this.getRemovedAt()),t}getType(){return this.valueType}static getPrimitiveType(t){switch(typeof t){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(t)?2:4;case"string":return 5;case"object":if(t===null)return 0;if(t instanceof bt)return 3;if(t instanceof Uint8Array)return 6;if(t instanceof Date)return 7}}static isSupport(t){return $t.getPrimitiveType(t)!==void 0}static isInteger(t){return t%1===0}isNumericType(){const t=this.valueType;return t===2||t===3||t===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const t=this.value;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}case 4:{const t=this.value,i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,t,!0),i}case 5:return new TextEncoder().encode(this.value);case 3:{const i=this.value.toBytesLE();return Uint8Array.from(i)}case 6:return this.value;case 7:{const t=this.value,i=bt.fromNumber(t.getTime(),!0).toBytesLE();return Uint8Array.from(i)}default:throw new D(x.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Cc extends nS{constructor(t){super(t);h(this,"prev");h(this,"next");h(this,"movedFrom");this.value=t}static createAfter(t,i){const l=new Cc(i),c=t.next;return t.next=l,l.prev=t,l.next=c,c&&(c.prev=l),l}remove(t){return this.value.remove(t)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(t){this.movedFrom=t}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class Al{constructor(){h(this,"dummyHead");h(this,"last");h(this,"nodeMapByIndex");h(this,"nodeMapByCreatedAt");const n=$t.of(0,Ws);n.setRemovedAt(Ws),this.dummyHead=new Cc(n),this.last=this.dummyHead,this.nodeMapByIndex=new wl,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new Al}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(n,t){let i=this.nodeMapByCreatedAt.get(n.toIDString());if(!i)throw new D(x.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);for(;i.getValue().getMovedAt()&&i.getValue().getMovedAt().after(t)&&i.getMovedFrom();)i=i.getMovedFrom();for(;i.getNext()&&i.getNext().getPositionedAt().after(t);)i=i.getNext();return i}release(n){this.last===n&&(this.last=n.getPrev()),n.release(),this.nodeMapByIndex.delete(n),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}insertAfter(n,t,i=t.getCreatedAt()){const l=this.findNextBeforeExecutedAt(n,i),c=Cc.createAfter(l,t);return l===this.last&&(this.last=c),this.nodeMapByIndex.insertAfter(l,c),this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),c),c}moveAfter(n,t,i){let l=this.nodeMapByCreatedAt.get(n.toIDString());if(!l)throw new D(x.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);let c=this.nodeMapByCreatedAt.get(t.toIDString());if(!c)throw new D(x.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);if(l!==c&&i.after(c.getPositionedAt())){const d=c.getPrev();let g=c.getNext();for(this.release(c),c=this.insertAfter(l.getCreatedAt(),c.getValue(),i),c.getValue().setMovedAt(i),c.setMovedFrom(d);g&&g.getPositionedAt().after(i);)l=c,c=g,g=c.getNext(),this.release(c),c=this.insertAfter(l.getCreatedAt(),c.getValue(),i),c.getValue().setMovedAt(i),c.setMovedFrom(d)}}insert(n){this.insertAfter(this.last.getCreatedAt(),n)}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}subPathOf(n){const t=this.nodeMapByCreatedAt.get(n.toIDString());if(t)return String(this.nodeMapByIndex.indexOf(t))}purge(n){const t=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!t)throw new D(x.ErrInvalidArgument,`fail to find the given createdAt: ${n.getCreatedAt().toIDString()}`);this.release(t)}getByIndex(n){if(n>=this.length)return;const[t,i]=this.nodeMapByIndex.find(n);let l=t;if(n===0&&t===this.dummyHead||i>0)do l&&(l=l.getNext());while(l&&l.isRemoved());return l}getPrevCreatedAt(n){let t=this.nodeMapByCreatedAt.get(n.toIDString());do t=t.getPrev();while(this.dummyHead!==t&&t.isRemoved());return t.getValue().getCreatedAt()}delete(n,t){const i=this.nodeMapByCreatedAt.get(n.toIDString()),l=i.isRemoved();return i.remove(t)&&!l&&this.nodeMapByIndex.splayNode(i),i.getValue()}set(n,t,i){const l=this.nodeMapByCreatedAt.get(n.toIDString());if(!l)throw new D(x.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);return this.insertAfter(l.getCreatedAt(),t,i),this.delete(n,i)}deleteByIndex(n,t){const i=this.getByIndex(n);if(i)return i.remove(t)&&this.nodeMapByIndex.splayNode(i),i.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const n=[];for(const t of this){const i=`${t.getCreatedAt().toIDString()}:${t.getValue().toJSON()}`;t.isRemoved()?n.push(`{${i}}`):n.push(`[${i}]`)}return n.join("")}*[Symbol.iterator](){let n=this.dummyHead.getNext();for(;n;)yield n,n=n.getNext()}}class xe extends ba{constructor(t,i){super(t);h(this,"elements");this.elements=i}static create(t,i){if(!i)return new xe(t,Al.create());const l=Al.create();for(const c of i)l.insertAfter(l.getLastCreatedAt(),c.deepcopy());return new xe(t,l)}subPathOf(t){return this.elements.subPathOf(t)}purge(t){this.elements.purge(t)}insertAfter(t,i,l){this.elements.insertAfter(t,i,l)}moveAfter(t,i,l){this.elements.moveAfter(t,i,l)}get(t){const i=this.elements.getByIndex(t);return i==null?void 0:i.getValue()}getByID(t){const i=this.elements.getByID(t);return i==null?void 0:i.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(t){return this.elements.getPrevCreatedAt(t)}delete(t,i){return this.elements.delete(t,i)}deleteByIndex(t,i){return this.elements.deleteByIndex(t,i)}set(t,i,l){return this.elements.set(t,i,l)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const t of this.elements)t.isRemoved()||(yield t.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(t){for(const i of this.elements){const l=i.getValue();if(t(l,this))return;l instanceof ba&&l.getDescendants(t)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const t=[];for(const i of this)t.push(i.toJSON());return`[${t.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const t={};for(let i=0;i<this.length;i++){const{createdAt:l,value:c,type:d}=this.get(i).toJSForTest();t[i]={key:String(i),createdAt:l,value:c,type:d}}return{createdAt:this.getCreatedAt().toTestString(),value:t,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const t=xe.create(this.getCreatedAt());for(const i of this.elements)t.elements.insertAfter(t.getLastCreatedAt(),i.getValue().deepcopy());return t.setRemovedAt(this.getRemovedAt()),t.setMovedAt(this.getMovedAt()),t}}class Ea extends Mn{constructor(t,i,l,c){super(t,c);h(this,"prevCreatedAt");h(this,"value");this.prevCreatedAt=i,this.value=l}static create(t,i,l,c){return new Ea(t,i,l,c)}execute(t){const i=t.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof xe))throw new D(x.ErrInvalidArgument,"fail to execute, only array can execute add");const l=i,c=this.value.deepcopy();return l.insertAfter(this.prevCreatedAt,c,this.getExecutedAt()),t.registerElement(c,l),{opInfos:[{type:"add",path:t.createPath(this.getParentCreatedAt()),index:Number(l.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return tr.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(t){this.prevCreatedAt=t}}class tr extends Mn{constructor(t,i,l){super(t,l);h(this,"createdAt");this.createdAt=i}static create(t,i,l){return new tr(t,i,l)}execute(t,i){var v;const l=t.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof ba))throw new D(x.ErrInvalidArgument,`only object and array can execute remove: ${l}`);if(i===jt.UndoRedo){let b=l.getByID(this.createdAt);for(;b;){if(b.getRemovedAt())return;b=(v=t.findElementPairByCreatedAt(b.getCreatedAt()))==null?void 0:v.parent}}const c=l.subPathOf(this.createdAt),d=this.toReverseOperation(l),g=l.delete(this.createdAt,this.getExecutedAt());return t.registerRemovedElement(g),{opInfos:l instanceof xe?[{type:"remove",path:t.createPath(this.getParentCreatedAt()),index:Number(c)}]:[{type:"remove",path:t.createPath(this.getParentCreatedAt()),key:c}],reverseOp:d}}toReverseOperation(t){if(t instanceof xe){const i=t.getByID(this.createdAt);if(i!==void 0){const l=t.getPrevCreatedAt(this.createdAt);return Ea.create(this.getParentCreatedAt(),l,i.deepcopy())}}if(t instanceof Ee){const i=t.subPathOf(this.createdAt);if(i!==void 0){const l=t.get(i);if(l!==void 0)return Qa.create(i,l.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(t){this.createdAt=t}}class Qa extends Mn{constructor(t,i,l,c){super(l,c);h(this,"key");h(this,"value");this.key=t,this.value=i}static create(t,i,l,c){return new Qa(t,i,l,c)}execute(t,i){var v;const l=t.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof Ee))throw new D(x.ErrInvalidArgument,"fail to execute, only object can execute set");if(i===jt.UndoRedo){let b=l;for(;b;){if(b.getRemovedAt())return;b=(v=t.findElementPairByCreatedAt(b.getCreatedAt()))==null?void 0:v.parent}}const c=l.get(this.key),d=this.toReverseOperation(c),g=this.value.deepcopy(),y=l.set(this.key,g,this.getExecutedAt());return i===jt.UndoRedo&&t.findByCreatedAt(g.getCreatedAt())&&t.deregisterElement(g),t.registerElement(g,l),y&&t.registerRemovedElement(y),{opInfos:[{type:"set",path:t.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:d}}toReverseOperation(t){let i=tr.create(this.getParentCreatedAt(),this.value.getCreatedAt());return t!==void 0&&!t.isRemoved()&&(i=Qa.create(this.key,t.deepcopy(),this.getParentCreatedAt())),i}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class In extends Mn{constructor(t,i,l,c){super(t,c);h(this,"prevCreatedAt");h(this,"createdAt");this.prevCreatedAt=i,this.createdAt=l}static create(t,i,l,c){return new In(t,i,l,c)}execute(t){const i=t.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof xe))throw new D(x.ErrInvalidArgument,"fail to execute, only array can execute move");const l=i,c=this.toReverseOperation(l),d=Number(l.subPathOf(this.createdAt));l.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const g=Number(l.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:t.createPath(this.getParentCreatedAt()),index:g,previousIndex:d}],reverseOp:c}}toReverseOperation(t){const i=t.getPrevCreatedAt(this.createdAt);return In.create(this.getParentCreatedAt(),i,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(t){this.prevCreatedAt=t}setCreatedAt(t){this.createdAt=t}}class va{constructor(n,t,i,l){h(this,"key");h(this,"value");h(this,"updatedAt");h(this,"_isRemoved");this.key=n,this.value=t,this.updatedAt=i,this._isRemoved=l}static of(n,t,i,l){return new va(n,t,i,l)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Zn}}}class Pi{constructor(){h(this,"nodeMapByKey");h(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Pi}getNodeMapByKey(){return this.nodeMapByKey}set(n,t,i){const l=this.nodeMapByKey.get(n);if(l&&l.isRemoved()&&i.after(l.getUpdatedAt())&&(this.numberOfRemovedElement-=1),l===void 0||i.after(l.getUpdatedAt())){const c=va.of(n,t,i,!1);return this.nodeMapByKey.set(n,c),l!==void 0&&l.isRemoved()?[l,c]:[void 0,c]}return l.isRemoved()?[l,void 0]:[void 0,void 0]}setInternal(n,t,i,l){const c=va.of(n,t,i,l);this.nodeMapByKey.set(n,c),l&&this.numberOfRemovedElement++}remove(n,t){const i=this.nodeMapByKey.get(n),l=[];if(i===void 0||t.after(i.getUpdatedAt())){if(i===void 0){this.numberOfRemovedElement+=1;const g=va.of(n,"",t,!0);return this.nodeMapByKey.set(n,g),l.push(g),l}const c=i.isRemoved();c||(this.numberOfRemovedElement+=1),c&&l.push(i);const d=va.of(n,i.getValue(),t,!0);return this.nodeMapByKey.set(n,d),l.push(d),l}return l}has(n){if(this.nodeMapByKey.has(n)){const t=this.nodeMapByKey.get(n);return t!==void 0&&!t.isRemoved()}return!1}get(n){if(this.nodeMapByKey.has(n))return this.nodeMapByKey.get(n).getValue()}deepcopy(){const n=new Pi;for(const[,t]of this.nodeMapByKey)n.setInternal(t.getKey(),t.getValue(),t.getUpdatedAt(),t.isRemoved());return n}toJSON(){if(!this.size())return"{}";const n=[];for(const[t,i]of this.nodeMapByKey)i.isRemoved()||n.push(`"${Fn(t)}":"${Fn(i.getValue())}"`);return`{${n.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const n={};for(const[t,i]of this.nodeMapByKey)i.isRemoved()||(n[t]=i.getValue());return n}*[Symbol.iterator](){for(const[,n]of this.nodeMapByKey)yield n}purge(n){const t=this.nodeMapByKey.get(n.getKey());t==null||t.toIDString()!=n.toIDString()||(this.nodeMapByKey.delete(n.getKey()),this.numberOfRemovedElement--)}}function On(s){if(s instanceof Map){const n=Array.from(s);return new Map(JSON.parse(JSON.stringify(n)))}return JSON.parse(JSON.stringify(s))}const oS=s=>s?Object.entries(s).length===0:!0,no=s=>{const n={};for(const[t,i]of Object.entries(s))n[t]=JSON.stringify(i);return n},Ji=s=>{const n={};for(const[t,i]of Object.entries(s))n[t]=JSON.parse(i);return n};function F1(s){return s?g0(s.live)+g0(s.gc):0}function g0(s){return s.data+s.meta}function ve(s,...n){for(const t of n)s.data+=t.data,s.meta+=t.meta}function Ga(s,n){s.data-=n.data,s.meta-=n.meta}class El{constructor(n){h(this,"attributes");h(this,"content");this.attributes=Pi.create(),this.content=n}static create(n){return new El(n)}get length(){return this.content.length}substring(n,t){const i=new El(this.content.substring(n,t));return i.attributes=this.attributes.deepcopy(),i}setAttr(n,t,i){return this.attributes.set(n,t,i)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const n={data:0,meta:0};n.data+=this.content.length*2;for(const t of this.attributes){const i=t.getDataSize();n.meta+=i.meta,n.data+=i.data}return n}toJSON(){const n=Fn(this.content),t=this.attributes.toObject(),i=[];for(const[l,c]of Object.entries(t)){const d=JSON.parse(c),g=typeof d=="string"?`"${Fn(l)}":"${Fn(d)}"`:`"${Fn(l)}":${String(d)}`;i.push(g)}return i.sort(),i.length===0?`{"val":"${n}"}`:`{"attrs":{${i.join(",")}},"val":"${n}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(n){this.attributes&&n instanceof va&&this.attributes.purge(n)}getGCPairs(){const n=[];for(const t of this.attributes)t.getRemovedAt()&&n.push({parent:this,child:t});return n}}class Ze extends Dl{constructor(t,i){super(i);h(this,"rgaTreeSplit");this.rgaTreeSplit=t}static create(t,i){return new Ze(t,i)}edit(t,i,l,c,d){const g=i?El.create(i):void 0;if(g&&c)for(const[k,U]of Object.entries(c))g.setAttr(k,U,l);const[y,v,b,E]=this.rgaTreeSplit.edit(t,l,g,d);return[E.map(k=>({...k,value:k.value?{attributes:Ji(k.value.getAttributes()),content:k.value.getContent()}:{attributes:void 0,content:""},type:"content"})),v,b,[y,y]]}setStyle(t,i,l,c){const d={data:0,meta:0},[,g,y]=this.rgaTreeSplit.findNodeWithSplit(t[1],l),[,v,b]=this.rgaTreeSplit.findNodeWithSplit(t[0],l);ve(d,g,v);const E=[],O=this.rgaTreeSplit.findBetween(b,y),k=[];for(const V of O){const j=V.getCreatedAt().getActorID();let W=Qd;c!=null&&(W=c.get(j)?c.get(j):0n),V.canStyle(l,W)&&k.push(V)}const U=[];for(const V of k){if(V.isRemoved())continue;const[j,W]=this.rgaTreeSplit.findIndexesFromRange(V.createPosRange());E.push({type:"style",actor:l.getActorID(),from:j,to:W,value:{attributes:Ji(i)}});for(const[lt,ct]of Object.entries(i)){const[mt]=V.getValue().setAttr(lt,ct,l);mt!==void 0&&U.push({parent:V.getValue(),child:mt});const et=V.getValue().getAttrs().getNodeMapByKey().get(lt);et!==void 0&&ve(d,et.getDataSize())}}return[U,d,E]}indexRangeToPosRange(t,i){const l=this.rgaTreeSplit.indexToPos(t);return t===i?[l,l]:[l,this.rgaTreeSplit.indexToPos(i)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const t={data:0,meta:0};for(const i of this.rgaTreeSplit){if(i.isRemoved())continue;const l=i.getDataSize();t.data+=l.data,t.meta+=l.meta}return{data:t.data,meta:t.meta+this.getMetaUsage()}}toJSON(){const t=[];for(const i of this.rgaTreeSplit)i.isRemoved()||t.push(i.getValue().toJSON());return`[${t.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const t=[];for(const i of this.rgaTreeSplit)if(!i.isRemoved()){const l=i.getValue();t.push({attributes:Ji(l.getAttributes()),content:l.getContent()})}return t}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const t=new Ze(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return t.setRemovedAt(this.getRemovedAt()),t.setMovedAt(this.getMovedAt()),t}findIndexesFromRange(t){return this.rgaTreeSplit.findIndexesFromRange(t)}getGCPairs(){const t=[];for(const i of this.rgaTreeSplit){i.getRemovedAt()&&t.push({parent:this.rgaTreeSplit,child:i});for(const l of i.getValue().getGCPairs())t.push(l)}return t}}class Ol extends Mn{constructor(t,i,l,c,d,g){super(t,g);h(this,"fromPos");h(this,"toPos");h(this,"content");h(this,"attributes");this.fromPos=i,this.toPos=l,this.content=c,this.attributes=d}static create(t,i,l,c,d,g){return new Ol(t,i,l,c,d,g)}execute(t,i,l){const c=t.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Ze))throw new D(x.ErrInvalidArgument,"fail to execute, only Text can execute edit");const d=c,[g,y,v]=d.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),l);t.acc(v);for(const b of y)t.registerGCPair(b);return{opInfos:g.map(({from:b,to:E,value:O})=>({type:"edit",from:b,to:E,value:O,path:t.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.content;return`${t}.EDIT(${i},${l},${c})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class kl extends Mn{constructor(t,i,l,c,d){super(t,d);h(this,"fromPos");h(this,"toPos");h(this,"attributes");this.fromPos=i,this.toPos=l,this.attributes=c}static create(t,i,l,c,d){return new kl(t,i,l,c,d)}execute(t,i,l){const c=t.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Ze))throw new D(x.ErrInvalidArgument,"fail to execute, only Text can execute edit");const d=c,[g,y,v]=d.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),l);t.acc(y);for(const b of g)t.registerGCPair(b);return{opInfos:v.map(({from:b,to:E,value:O})=>({type:"style",from:b,to:E,value:O,path:t.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.attributes;return`${t}.STYL(${i},${l},${JSON.stringify(c)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const Z1=2,Q1="root",Qn="text";function ol(s,n,t=!1){let i=0;const l=t?s.allChildren:s.children;for(let c=0;c<n;c++){const d=l[c];!d||!t&&d.isRemoved||(i+=d.paddedSize(t))}return i}class _1{constructor(n,t=[]){h(this,"type");h(this,"parent");h(this,"_children");h(this,"visibleSize");h(this,"totalSize");if(this.type=n,this.visibleSize=0,this.totalSize=0,this._children=t,this.isText&&this._children.length>0)throw new D(x.ErrRefused,"Text node cannot have children")}updateAncestorsSize(n,t=!1){let i=this.parent;for(;i;){if(t)i.totalSize+=n;else if(i.visibleSize+=n,i.isRemoved)break;i=i.parent}}updateDescendantsSize(n=!1){let t=0;for(const i of this._children){const l=i.updateDescendantsSize(n);!n&&i.isRemoved||(t+=l)}return n?this.totalSize+=t:this.visibleSize+=t,this.paddedSize(n)}get isText(){return this.type===Qn}paddedSize(n=!1){let t=this.visibleSize;return n&&(t=this.totalSize),this.isText||(t+=Z1),t}isAncestorOf(n){return W1(this,n)}get nextSibling(){const n=this.parent.findOffset(this),t=this.parent.children[n+1];if(t)return t}get prevSibling(){const n=this.parent.findOffset(this),t=this.parent.children[n-1];if(t)return t}splitText(n,t){const i={data:0,meta:0};if(n===0||n===this.visibleSize)return[void 0,i];const l=this.value.slice(0,n),c=this.value.slice(n);if(!c.length)return[void 0,i];const d=this.getDataSize();this.value=l;const g=this.cloneText(n+t);return g.value=c,this.parent.insertAfterInternal(g,this),ve(i,this.getDataSize(),g.getDataSize()),Ga(i,d),[g,i]}get children(){return this._children.filter(n=>!n.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(n=>n.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(n=>n.value).join(""):""}append(...n){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");this._children.push(...n);for(const t of n)t.parent=this,t.updateAncestorsSize(t.paddedSize()),t.updateAncestorsSize(t.paddedSize(!0),!0)}prepend(...n){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");this._children.unshift(...n);for(const t of n)t.parent=this}insertBefore(n,t){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(t);if(i===-1)throw new D(x.ErrInvalidArgument,"child not found");this.insertAtInternal(n,i),n.updateAncestorsSize(n.paddedSize()),n.updateAncestorsSize(n.paddedSize(!0),!0)}insertAfter(n,t){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(t);if(i===-1)throw new D(x.ErrInvalidArgument,"child not found");this.insertAtInternal(n,i+1),n.updateAncestorsSize(n.paddedSize()),n.updateAncestorsSize(n.paddedSize(!0),!0)}insertAt(n,t){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");this.insertAtInternal(n,t),n.updateAncestorsSize(n.paddedSize()),n.updateAncestorsSize(n.paddedSize(!0),!0)}removeChild(n){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");const t=this._children.indexOf(n);if(t===-1)throw new D(x.ErrInvalidArgument,"child not found");this._children.splice(t,1),n.updateAncestorsSize(-n.paddedSize(!0),!0),n.parent=void 0}splitElement(n,t){const i={data:0,meta:0},l=this.getDataSize(),c=this.cloneElement(t);this.parent.insertAfterInternal(c,this),c.updateAncestorsSize(c.paddedSize()),c.updateAncestorsSize(c.paddedSize(!0),!0);const d=this.children.slice(0,n),g=this.children.slice(n);this._children=d,c._children=g,this.visibleSize=this._children.reduce((y,v)=>y+v.paddedSize(),0),this.totalSize=this._children.reduce((y,v)=>y+v.paddedSize(!0),0),c.visibleSize=c._children.reduce((y,v)=>y+v.paddedSize(!0),0),c.totalSize=c._children.reduce((y,v)=>y+v.paddedSize(!0),0);for(const y of c._children)y.parent=c;return ve(i,this.getDataSize(),c.getDataSize()),Ga(i,l),[c,i]}insertAfterInternal(n,t){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(t);if(i===-1)throw new D(x.ErrInvalidArgument,"child not found");this.insertAtInternal(n,i+1)}insertAtInternal(n,t){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");this._children.splice(t,0,n),n.parent=this}findOffset(n,t=!1){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");if(t)return this._children.indexOf(n);if(n.isRemoved){const i=this._children.indexOf(n);return this.allChildren.splice(0,i).filter(c=>!c.isRemoved).length}return this.children.indexOf(n)}findBranchOffset(n){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");let t=n;for(;t;){const i=this._children.indexOf(t);if(i!==-1)return i;t=t.parent}return-1}}function W1(s,n){if(s===n)return!1;for(;n.parent;){if(n.parent===s)return!0;n=n.parent}return!1}var te=(s=>(s.Start="Start",s.End="End",s.Text="Text",s))(te||{});function lS(s,n,t,i,l=!1){if(n>t)throw new D(x.ErrInvalidArgument,`from is greater than to: ${n} > ${t}`);const c=l?s.totalSize:s.visibleSize;if(n>c)throw new D(x.ErrInvalidArgument,`from is out of range: ${n} > ${c}`);if(t>c)throw new D(x.ErrInvalidArgument,`to is out of range: ${t} > ${c}`);if(n===t)return;let d=0;const g=l?s._children:s.children;for(const y of g){if(n-y.paddedSize(l)<d&&d<t){const v=y.isText?n-d:n-d-1,b=y.isText?t-d:t-d-1,E=l?y.totalSize:y.visibleSize,O=!y.isText&&v<0,k=!y.isText&&b>E;(y.isText||O)&&i([y,y.isText?"Text":"Start"],k),lS(y,Math.max(0,v),Math.min(b,E),i,l),k&&i([y,"End"],k)}d+=y.paddedSize(l)}}function uS(s,n,t=0){for(const i of s.children)uS(i,n,t+1);n(s,t)}function Uc(s,n,t=0){for(const i of s._children)Uc(i,n,t+1);n(s,t)}function Wd(s,n,t=!0){if(n>s.visibleSize)throw new D(x.ErrInvalidArgument,`index is out of range: ${n} > ${s.visibleSize}`);if(s.isText)return{node:s,offset:n};let i=0,l=0;for(const c of s.children){if(t&&c.isText&&c.visibleSize>=n-l)return Wd(c,n-l,t);if(n===l)return{node:s,offset:i};if(!t&&c.paddedSize()===n-l)return{node:s,offset:i+1};if(c.paddedSize()>n-l)return Wd(c,n-l-1,t);l+=c.paddedSize(),i+=1}return{node:s,offset:i}}function cS(s){return s.isText||s.children.length===0?s:cS(s.children[0])}function tA(s,n){if(s.visibleSize<n)throw new D(x.ErrInvalidArgument,"unacceptable path");for(let t=0;t<s.children.length;t++){const i=s.children[t];if(i.visibleSize<n)n-=i.visibleSize;else{s=i;break}}return{node:s,offset:n}}class eA{constructor(n){h(this,"root");this.root=n}tokensBetween(n,t,i,l=!1){lS(this.root,n,t,i,l)}traverse(n){uS(this.root,n,0)}traverseAll(n){Uc(this.root,n,0)}findTreePos(n,t=!0){return Wd(this.root,n,t)}treePosToPath(n){const t=[];let i=n.node;if(i.isText){const l=i.parent.findOffset(i);if(l===-1)throw new D(x.ErrInvalidArgument,"invalid treePos");const c=ol(i.parent,l);t.push(c+n.offset),i=i.parent}else if(i.hasTextChild()){const l=ol(i,n.offset);t.push(l)}else t.push(n.offset);for(;i.parent;){const l=i.parent.findOffset(i);if(l===-1)throw new D(x.ErrInvalidArgument,"invalid treePos");t.push(l),i=i.parent}return t.reverse()}pathToIndex(n){const t=this.pathToTreePos(n);return this.indexOf(t)}pathToTreePos(n){if(!n.length)throw new D(x.ErrInvalidArgument,"unacceptable path");let t=this.root;for(let i=0;i<n.length-1;i++){const l=n[i];if(t=t.children[l],!t)throw new D(x.ErrInvalidArgument,"unacceptable path")}if(t.hasTextChild())return tA(t,n[n.length-1]);if(t.children.length<n[n.length-1])throw new D(x.ErrInvalidArgument,"unacceptable path");return{node:t,offset:n[n.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(n){const{node:t,offset:i}=n;if(t.isText){if(t.visibleSize===i){const l=t.nextSibling;return l||t.parent}return t}return t.children.length===i?t:cS(t.children[i])}indexOf(n,t=!1){let{node:i}=n;const{offset:l}=n;let c=0,d=1;if(i.isText){c+=l;const g=i.parent,y=g.findOffset(i,t);if(y===-1)throw new D(x.ErrInvalidArgument,"invalid pos");c+=ol(g,y,t),i=i.parent}else c+=ol(i,l,t);for(;i!=null&&i.parent;){const g=i.parent,y=g.findOffset(i,t);if(y===-1)throw new D(x.ErrInvalidArgument,"invalid pos");c+=ol(g,y,t),d++,i=i.parent}return c+d-1}indexToPath(n){const t=this.findTreePos(n);return this.treePosToPath(t)}}const nA=(s,n)=>s===n?0:s<n?-1:1;class rA{constructor(n,t,i){h(this,"key");h(this,"value");h(this,"left");h(this,"right");h(this,"isRed");this.key=n,this.value=t,this.isRed=i}}class iA{constructor(n){h(this,"stack");this.stack=[],this.traverseInorder(n)}traverseInorder(n){n&&(this.traverseInorder(n.left),this.stack.push({key:n.key,value:n.value}),this.traverseInorder(n.right))}}class fS{constructor(n){h(this,"root");h(this,"comparator");h(this,"counter");this.comparator=typeof n<"u"?n:nA,this.counter=0}put(n,t){return this.root=this.putInternal(n,t,this.root),this.root.isRed=!1,t}get(n){const t=this.getInternal(n,this.root);return t?t.value:void 0}remove(n){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,n),this.root&&(this.root.isRed=!1)}getIterator(){return new iA(this.root)}values(){const n=[];for(const t of this.getIterator().stack)n.push(t.value);return n}floorEntry(n){let t=this.root,i;for(;t;){const l=this.comparator(n,t.key);if(l===0)return t;l<0?t=t.left:(i=t,t=t.right)}return i}lastEntry(){if(!this.root)return this.root;let n=this.root;for(;n.right;)n=n.right;return n}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(n,t){for(;t;){const i=this.comparator(n,t.key);if(i===0)return t;i<0?t=t.left:i>0&&(t=t.right)}}putInternal(n,t,i){if(!i)return this.counter+=1,new rA(n,t,!0);const l=this.comparator(n,i.key);return l<0?i.left=this.putInternal(n,t,i.left):l>0?i.right=this.putInternal(n,t,i.right):i.value=t,this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}removeInternal(n,t){if(this.comparator(t,n.key)<0)!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeInternal(n.left,t);else{if(this.isRed(n.left)&&(n=this.rotateRight(n)),this.comparator(t,n.key)===0&&!n.right){this.counter-=1;return}if(!this.isRed(n.right)&&!this.isRed(n.right.left)&&(n=this.moveRedRight(n)),this.comparator(t,n.key)===0){this.counter-=1;const i=this.min(n.right);n.value=i.value,n.key=i.key,n.right=this.removeMin(n.right)}else n.right=this.removeInternal(n.right,t)}return this.fixUp(n)}min(n){return n.left?this.min(n.left):n}removeMin(n){if(n.left)return!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeMin(n.left),this.fixUp(n)}fixUp(n){return this.isRed(n.right)&&(n=this.rotateLeft(n)),this.isRed(n.left)&&this.isRed(n.left.left)&&(n=this.rotateRight(n)),this.isRed(n.left)&&this.isRed(n.right)&&this.flipColors(n),n}moveRedLeft(n){return this.flipColors(n),this.isRed(n.right.left)&&(n.right=this.rotateRight(n.right),n=this.rotateLeft(n),this.flipColors(n)),n}moveRedRight(n){return this.flipColors(n),this.isRed(n.left.left)&&(n=this.rotateRight(n),this.flipColors(n)),n}isRed(n){return n&&n.isRed}rotateLeft(n){const t=n.right;return n.right=t.left,t.left=n,t.isRed=t.left.isRed,t.left.isRed=!0,t}rotateRight(n){const t=n.left;return n.left=t.right,t.right=n,t.isRed=t.right.isRed,t.right.isRed=!0,t}flipColors(n){n.isRed=!n.isRed,n.left.isRed=!n.left.isRed,n.right.isRed=!n.right.isRed}}class Bn{constructor(n,t){h(this,"parentID");h(this,"leftSiblingID");this.parentID=n,this.leftSiblingID=t}static of(n,t){return new Bn(n,t)}static fromTreePos(n){const{offset:t}=n;let{node:i}=n,l;return i.isText?(i.parent.children[0]===i&&t===0?l=i.parent:l=i,i=i.parent):t===0?l=i:l=i.children[t-1],Bn.of(i.id,Se.of(l.getCreatedAt(),l.getOffset()+t))}getParentID(){return this.parentID}static fromStruct(n){return Bn.of(Se.of(wn.fromStruct(n.parentID.createdAt),n.parentID.offset),Se.of(wn.fromStruct(n.leftSiblingID.createdAt),n.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(n){const t=this.getParentID(),i=this.getLeftSiblingID(),l=n.findFloorNode(t);let c=n.findFloorNode(i);if(!l||!c)throw new D(x.ErrRefused,`cannot find node of CRDTTreePos(${t.toTestString()}, ${i.toTestString()})`);return!i.equals(t)&&i.getOffset()>0&&i.getOffset()===c.id.getOffset()&&c.insPrevID&&(c=n.findFloorNode(c.insPrevID)),[l,c]}getLeftSiblingID(){return this.leftSiblingID}equals(n){return this.getParentID().getCreatedAt().equals(n.getParentID().getCreatedAt())&&this.getParentID().getOffset()===n.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(n.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===n.getLeftSiblingID().getOffset()}}class Se{constructor(n,t){h(this,"createdAt");h(this,"offset");this.createdAt=n,this.offset=t}static of(n,t){return new Se(n,t)}static fromStruct(n){return Se.of(wn.fromStruct(n.createdAt),n.offset)}static createComparator(){return(n,t)=>{const i=n.getCreatedAt().compare(t.getCreatedAt());return i!==0?i:n.getOffset()>t.getOffset()?1:n.getOffset()<t.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}getOffset(){return this.offset}setOffset(n){this.offset=n}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Fe extends _1{constructor(t,i,l,c,d){super(i);h(this,"id");h(this,"removedAt");h(this,"attrs");h(this,"insPrevID");h(this,"insNextID");h(this,"_value","");this.id=t,this.removedAt=d,c&&(this.attrs=c),typeof l=="string"?this.value=l:Array.isArray(l)&&(this._children=l)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(t,i,l,c){return new Fe(t,i,l,c)}deepcopy(){var i;const t=new Fe(this.id,this.type);return t.removedAt=this.removedAt,t._value=this._value,t.visibleSize=this.visibleSize,t.totalSize=this.totalSize,t.attrs=(i=this.attrs)==null?void 0:i.deepcopy(),t._children=this._children.map(l=>{const c=l.deepcopy();return c.parent=t,c}),t.insPrevID=this.insPrevID,t.insNextID=this.insNextID,t}get value(){if(!this.isText)throw new D(x.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(t){if(!this.isText)throw new D(x.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=t,this.visibleSize=t.length,this.totalSize=t.length}get isRemoved(){return!!this.removedAt}remove(t){return this.removedAt?(t.after(this.removedAt)&&(this.removedAt=t),!1):(this.removedAt=t,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(t){return new Fe(Se.of(this.id.getCreatedAt(),t),this.type,void 0,void 0,this.removedAt)}cloneElement(t){return new Fe(Se.of(t(),0),this.type,void 0,void 0,this.removedAt)}split(t,i,l){const[c,d]=this.isText?this.splitText(i,this.id.getOffset()):this.splitElement(i,l);if(c){if(c.insPrevID=this.id,this.insNextID){const g=t.findFloorNode(this.insNextID);g.insPrevID=c.id,c.insNextID=this.insNextID}this.insNextID=c.id,t.registerNode(c)}return[c,d]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(t,i,l){return i?!!(!this.removedAt||!l&&(t!=null&&t.after(this.removedAt))):!1}canStyle(t,i){return this.isText?!1:this.getCreatedAt().getLamport()<=i&&(!this.removedAt||t.after(this.removedAt))}setAttrs(t,i){this.attrs||(this.attrs=new Pi);const l=[];for(const[c,d]of Object.entries(t))l.push(this.attrs.set(c,d,i));return l}purge(t){this.attrs&&this.attrs.purge(t)}getDataSize(){const t={data:0,meta:0};if(this.isText&&(t.data+=this.visibleSize*2),this.id&&(t.meta+=Zn),this.removedAt&&(t.meta+=Zn),this.attrs)for(const i of this.attrs){if(i.getRemovedAt())continue;const l=i.getDataSize();t.meta+=l.meta,t.data+=l.data}return t}getGCPairs(){const t=[];if(!this.attrs)return t;for(const i of this.attrs)i.getRemovedAt()&&t.push({parent:this,child:i});return t}}function tg(s){var t;if(s.isText){const i=s;return{type:i.type,value:i.value}}const n={type:s.type,children:s.children.map(tg)};return s.attrs&&(n.attributes=Ji((t=s.attrs)==null?void 0:t.toObject())),n}function lg(s){if(s.isText)return s.value;let n="";return s.attrs&&s.attrs.size()&&(n=" "+Array.from(s.attrs).filter(t=>!t.isRemoved()).sort((t,i)=>t.getKey().localeCompare(i.getKey())).map(t=>{const i=JSON.parse(t.getValue());return typeof i=="string"?`${t.getKey()}="${i}"`:`${t.getKey()}="${Fn(t.getValue())}"`}).join(" ")),`<${s.type}${n}>${s.children.map(t=>lg(t)).join("")}</${s.type}>`}function hS(s){if(s.isText){const n=s;return{type:n.type,value:n.value,visibleSize:n.visibleSize,isRemoved:n.isRemoved}}return{type:s.type,children:s.children.map(hS),visibleSize:s.visibleSize,isRemoved:s.isRemoved}}class Qe extends Dl{constructor(t,i){super(i);h(this,"indexTree");h(this,"nodeMapByID");this.indexTree=new eA(t),this.nodeMapByID=new fS(Se.createComparator()),this.indexTree.traverseAll(l=>{this.nodeMapByID.put(l.id,l)})}static create(t,i){return new Qe(t,i)}findFloorNode(t){const i=this.nodeMapByID.floorEntry(t);if(!(!i||!i.key.getCreatedAt().equals(t.getCreatedAt())))return i.value}registerNode(t){this.nodeMapByID.put(t.id,t)}findNodesAndSplitText(t,i){let l={data:0,meta:0};const[c,d]=t.toTreeNodePair(this);let g=d;const y=c===g,v=g.parent&&!y?g.parent:c;if(g.isText){const[,b]=g.split(this,t.getLeftSiblingID().getOffset()-g.id.getOffset());l=b}if(i){const b=v.allChildren,E=y?0:b.indexOf(g)+1;for(let O=E;O<b.length;O++){const k=b[O];if(!k.id.getCreatedAt().after(i))break;g=k}}return[[v,g],l]}style(t,i,l,c){const d={data:0,meta:0},[[g,y],v]=this.findNodesAndSplitText(t[0],l),[[b,E],O]=this.findNodesAndSplitText(t[1],l);ve(d,O,v);const k=[],U=i?Ji(i):{},V=[];return this.traverseInPosRange(g,y,b,E,([j,W])=>{var mt;const lt=j.getCreatedAt().getActorID();let ct=Qd;if(c!=null&&(ct=c.get(lt)?c.get(lt):0n),j.canStyle(l,ct)&&i){const et=j.setAttrs(i,l),nt=et.reduce((Et,[,ae])=>(ae&&(Et[ae.getKey()]=U[ae.getKey()]),Et),{}),yt=j.parent,At=j.prevSibling||j.parent;Object.keys(nt).length>0&&k.push({type:"style",from:this.toIndex(yt,At),to:this.toIndex(j,j),fromPath:this.toPath(yt,At),toPath:this.toPath(j,j),actor:l.getActorID(),value:nt});for(const[Et]of et)Et&&V.push({parent:j,child:Et});for(const[Et]of Object.entries(U)){const ae=(mt=j.attrs)==null?void 0:mt.getNodeMapByKey().get(Et);ae!==void 0&&W!==te.End&&ve(d,ae.getDataSize())}}}),[V,k,d]}removeStyle(t,i,l,c){const d={data:0,meta:0},[[g,y],v]=this.findNodesAndSplitText(t[0],l),[[b,E],O]=this.findNodesAndSplitText(t[1],l);ve(d,O,v);const k=[],U=[];return this.traverseInPosRange(g,y,b,E,([V])=>{const j=V.getCreatedAt().getActorID();let W=Qd;if(c!=null&&(W=c.get(j)?c.get(j):0n),V.canStyle(l,W)&&i){V.attrs||(V.attrs=new Pi);for(const mt of i){const et=V.attrs.remove(mt,l);for(const nt of et)U.push({parent:V,child:nt})}const lt=V.parent,ct=V.prevSibling||V.parent;k.push({actor:l.getActorID(),type:"removeStyle",from:this.toIndex(lt,ct),to:this.toIndex(V,V),fromPath:this.toPath(lt,ct),toPath:this.toPath(V,V),value:i})}}),[U,k,d]}edit(t,i,l,c,d,g){const y={data:0,meta:0},[[v,b],E]=this.findNodesAndSplitText(t[0],c),[[O,k],U]=this.findNodesAndSplitText(t[1],c);ve(y,U,E);const V=this.toIndex(v,b),j=this.toPath(v,b),W=[],lt=[],ct=[];this.traverseInPosRange(v,b,O,k,([nt,yt],At)=>{if(yt===te.Start&&!At)for(const _e of nt.children)ct.push(_e);const Et=g===void 0;let ae=!1;const Oe=g==null?void 0:g.get(nt.id.getCreatedAt().getActorID());ae=Et||Oe!==void 0&&Oe>=nt.id.getCreatedAt().getLamport();let Qt=!1;if(nt.removedAt){const _e=g==null?void 0:g.get(nt.removedAt.getActorID());Qt=Et||_e!==void 0&&_e>=nt.removedAt.getLamport()}(nt.canDelete(c,ae,Qt)||W.includes(nt.parent))&&((yt===te.Text||yt===te.Start)&&W.push(nt),lt.push([nt,yt]))},!0);const mt=this.makeDeletionChanges(lt,c),et=[];for(const nt of W)nt.remove(c),nt.isRemoved&&et.push({parent:this,child:nt});for(const nt of ct)nt.removedAt||v.append(nt);if(l>0){let nt=0,yt=v,At=b;for(;nt<l;)yt.split(this,yt.findOffset(At)+1,d),At=yt,yt=yt.parent,nt++;mt.push({type:"content",from:V,to:V,fromPath:j,toPath:j,actor:c.getActorID()})}if(i!=null&&i.length){const nt=[];let yt=b;for(const At of i)yt===v?v.insertAt(At,0):v.insertAfter(At,yt),yt=At,Uc(At,Et=>{v.isRemoved?(Et.remove(c),et.push({parent:this,child:Et})):ve(y,Et.getDataSize()),this.nodeMapByID.put(Et.id,Et)}),At.isRemoved||nt.push(At);if(nt.length){const At=nt.map(Et=>tg(Et));mt.length&&mt[mt.length-1].from===V?mt[mt.length-1].value=At:mt.push({type:"content",from:V,to:V,fromPath:j,toPath:j,actor:c.getActorID(),value:At})}}return[mt,et,y]}editT(t,i,l,c,d){const g=this.findPos(t[0]),y=this.findPos(t[1]);return this.edit([g,y],i,l,c,d)}move(t,i,l){throw new D(x.ErrUnimplemented,`not implemented: ${t}, ${i}, ${l}`)}pathToTreePos(t){return this.indexTree.pathToTreePos(t)}purge(t){var c;(c=t.parent)==null||c.removeChild(t),this.nodeMapByID.remove(t.id);const i=t.insPrevID,l=t.insNextID;if(i){const d=this.findFloorNode(i);d.insNextID=l}if(l){const d=this.findFloorNode(l);d.insPrevID=i}t.insPrevID=void 0,t.insNextID=void 0}getGCPairs(){const t=[];return this.indexTree.traverse(i=>{i.getRemovedAt()&&t.push({parent:this,child:i});for(const l of i.getGCPairs())t.push(l)}),t}findPos(t,i=!0){const l=this.indexTree.findTreePos(t,i);return Bn.fromTreePos(l)}pathToPosRange(t){const i=this.pathToIndex(t);return[this.findPos(i),this.findPos(i+1)]}pathToPos(t){const i=this.indexTree.pathToIndex(t);return this.findPos(i)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return lg(this.indexTree.getRoot())}getDataSize(){const t={data:0,meta:0};return this.indexTree.traverse(i=>{if(i.getRemovedAt())return;const l=i.getDataSize();t.data+=l.data,t.meta+=l.meta}),{data:t.data,meta:t.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const t=this.indexTree.getRoot(),i=(l,c=void 0,d=void 0,g=0)=>{var k,U,V,j;let y,v,b;const E=l.isText?{node:l,offset:0}:c&&d?this.toTreePos(c,d):null;E&&(y=this.indexTree.indexOf(E),v=this.indexTree.treePosToPath(E),b=Bn.fromTreePos(E).toStruct());const O={type:l.type,parent:c==null?void 0:c.id.toTestString(),size:l.visibleSize,id:l.id.toTestString(),removedAt:(k=l.removedAt)==null?void 0:k.toTestString(),insPrev:(U=l.insPrevID)==null?void 0:U.toTestString(),insNext:(V=l.insNextID)==null?void 0:V.toTestString(),value:l.isText?l.value:void 0,isRemoved:l.isRemoved,children:[],depth:g,attributes:l.attrs?Ji((j=l.attrs)==null?void 0:j.toObject()):void 0,index:y,path:v,pos:b};for(let W=0;W<l.allChildren.length;W++){const lt=W===0?l:l.allChildren[W-1];O.children.push(i(l.allChildren[W],l,lt,g+1))}return O};return i(t)}getRootTreeNode(){return tg(this.indexTree.getRoot())}toTestTreeNode(){return hS(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const t=this.getRoot(),i=new Qe(t.deepcopy(),this.getCreatedAt());return i.setRemovedAt(this.getRemovedAt()),i.setMovedAt(this.getMovedAt()),i}toPath(t,i){const l=this.toTreePos(t,i);return l?this.indexTree.treePosToPath(l):[]}toIndex(t,i,l=!1){const c=this.toTreePos(t,i,l);return c?this.indexTree.indexOf(c,l):-1}indexToPath(t){return this.indexTree.indexToPath(t)}pathToIndex(t){return this.indexTree.pathToIndex(t)}indexRangeToPosRange(t){const i=this.findPos(t[0]);return t[0]===t[1]?[i,i]:[i,this.findPos(t[1])]}indexRangeToPosStructRange(t){const[i,l]=t,c=this.findPos(i);return i===l?[c.toStruct(),c.toStruct()]:[c.toStruct(),this.findPos(l).toStruct()]}posRangeToPathRange(t){const[[i,l]]=this.findNodesAndSplitText(t[0]),[[c,d]]=this.findNodesAndSplitText(t[1]);return[this.toPath(i,l),this.toPath(c,d)]}posRangeToIndexRange(t){const[[i,l]]=this.findNodesAndSplitText(t[0]),[[c,d]]=this.findNodesAndSplitText(t[1]);return[this.toIndex(i,l),this.toIndex(c,d)]}traverseInPosRange(t,i,l,c,d,g=!1){const y=this.toIndex(t,i,g),v=this.toIndex(l,c,g);this.indexTree.tokensBetween(y,v,d,g)}toTreePos(t,i,l=!1){if(!t||!i)return;if(!l&&t.isRemoved){let d;for(;t.isRemoved;)d=t,t=d.parent;const g=t.findOffset(d,l);return{node:t,offset:g}}if(t===i)return{node:t,offset:0};let c=t.findOffset(i,l);if(l||!i.isRemoved){if(i.isText)return{node:i,offset:i.paddedSize(l)};c++}return{node:t,offset:c}}makeDeletionChanges(t,i){const l=[],c=[];let d=null,g=null;for(let y=0;y<t.length;y++){const v=t[y],b=t[y+1];d||(d=v),g=v;const E=this.findRightToken(v);(!E||!b||E[0]!==b[0]||E[1]!==b[1])&&(c.push([d,g]),d=null,g=null)}for(const y of c){const[v,b]=y,[E,O]=this.findLeftToken(v),[k,U]=b,V=O===te.Start?E:E.parent,j=U===te.Start?k:k.parent,W=this.toIndex(V,E),lt=this.toIndex(j,k);W<lt&&(l.length>0&&W===l[l.length-1].to?(l[l.length-1].to=lt,l[l.length-1].toPath=this.toPath(j,k)):l.push({type:"content",from:W,to:lt,fromPath:this.toPath(V,E),toPath:this.toPath(j,k),actor:i.getActorID()}))}return l.reverse()}findRightToken([t,i]){if(i===te.Start){const y=t.allChildren;return y.length>0?[y[0],y[0].isText?te.Text:te.Start]:[t,te.End]}const l=t.parent,c=l.allChildren,d=c.indexOf(t);if(l&&d===c.length-1)return[l,te.End];const g=c[d+1];return[g,g.isText?te.Text:te.Start]}findLeftToken([t,i]){if(i===te.End){const y=t.allChildren;if(y.length>0){const v=y[y.length-1];return[v,v.isText?te.Text:te.End]}return[t,te.Start]}const l=t.parent,c=l.allChildren,d=c.indexOf(t);if(l&&d===0)return[l,te.Start];const g=c[d-1];return[g,g.isText?te.Text:te.End]}}class Cl extends Mn{constructor(t,i,l,c,d,g){super(t,g);h(this,"fromPos");h(this,"toPos");h(this,"contents");h(this,"splitLevel");this.fromPos=i,this.toPos=l,this.contents=c,this.splitLevel=d}static create(t,i,l,c,d,g){return new Cl(t,i,l,c,d,g)}execute(t,i,l){var E;const c=t.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Qe))throw new D(x.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const d=this.getExecutedAt(),g=c,[y,v,b]=g.edit([this.fromPos,this.toPos],(E=this.contents)==null?void 0:E.map(O=>O.deepcopy()),this.splitLevel,d,(()=>{let O=d.getDelimiter();return this.contents!==void 0&&(O+=this.contents.length),()=>wn.of(d.getLamport(),++O,d.getActorID())})(),l);t.acc(b);for(const O of v)t.registerGCPair(O);return{opInfos:y.map(({from:O,to:k,value:U,splitLevel:V,fromPath:j,toPath:W})=>({type:"tree-edit",path:t.createPath(this.getParentCreatedAt()),from:O,to:k,value:U,splitLevel:V,fromPath:j,toPath:W}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,c=this.contents||[];return`${t}.EDIT(${i},${l},${c.map(d=>lg(d)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class Ys{constructor(n){h(this,"vector");this.vector=n||new Map}set(n,t){this.vector.set(n,t)}unset(n){this.vector.delete(n)}get(n){return this.vector.get(n)}has(n){return this.vector.has(n)}maxLamport(){let n=BigInt(0);for(const[,t]of this)t>n&&(n=t);return n}max(n){const t=new Map;for(const[i,l]of n){const c=this.vector.get(i),d=c&&c>l?c:l;t.set(i,d)}for(const[i,l]of this){const c=n.get(i),d=c&&c>l?c:l;t.set(i,d)}return new Ys(t)}afterOrEqual(n){const t=this.vector.get(n.getActorID());return t===void 0?!1:t>=n.getLamport()}deepcopy(){const n=new Map;for(const[t,i]of this.vector)n.set(t,i);return new Ys(n)}filter(n){const t=new Map;for(const[i]of n){const l=this.vector.get(i);l!==void 0&&t.set(i,l)}return new Ys(t)}size(){return this.vector.size}*[Symbol.iterator](){for(const[n,t]of this.vector)yield[n,t]}}const dS=new Ys(new Map);class kn{constructor(n,t,i,l,c){h(this,"clientSeq");h(this,"serverSeq");h(this,"actor");h(this,"lamport");h(this,"versionVector");this.clientSeq=n,this.serverSeq=c,this.lamport=t,this.versionVector=l,this.actor=i}hasClocks(){return this.versionVector.size()>0&&this.lamport!=Zd}static of(n,t,i,l,c){return new kn(n,t,i,l,c)}next(n=!1){if(n)return new kn(this.clientSeq+1,this.lamport,this.actor,dS,Zd);const t=this.versionVector.deepcopy();return t.set(this.actor,this.lamport+1n),new kn(this.clientSeq+1,this.lamport+1n,this.actor,t)}syncClocks(n){if(!n.hasClocks())return this;const t=n.lamport>this.lamport?n.lamport+1n:this.lamport+1n,i=this.versionVector.max(n.versionVector),l=new kn(this.clientSeq,t,this.actor,i);return l.versionVector.set(this.actor,t),l}setClocks(n,t){const i=n>this.lamport?n+1n:this.lamport+1n,l=this.versionVector.max(t);return l.set(this.actor,i),kn.of(this.clientSeq,i,this.actor,l)}createTimeTicket(n){return wn.of(this.lamport,n,this.actor)}setActor(n){return new kn(this.clientSeq,this.lamport,n,this.versionVector,this.serverSeq)}setLamport(n){return new kn(this.clientSeq,n,this.actor,this.versionVector,this.serverSeq)}setVersionVector(n){return new kn(this.clientSeq,this.lamport,this.actor,n,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const aA=new kn(0,0n,sg,dS);class ro{constructor({id:n,operations:t,presenceChange:i,message:l}){h(this,"id");h(this,"operations");h(this,"presenceChange");h(this,"message");this.id=n,this.operations=t||[],this.presenceChange=i,this.message=l}static create({id:n,operations:t,presenceChange:i,message:l}){return new ro({id:n,operations:t,presenceChange:i,message:l})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(n){for(const t of this.operations)t.setActor(n);this.id=this.id.setActor(n)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(n,t,i){const l=[],c=[];for(const d of this.operations){const g=d.execute(n,i,this.id.getVersionVector());if(!g)continue;const{opInfos:y,reverseOp:v}=g;l.push(...y),v&&c.unshift(v)}return this.presenceChange&&(this.presenceChange.type===Wn.Put?t.set(this.id.getActorID(),On(this.presenceChange.presence)):t.delete(this.id.getActorID())),{opInfos:l,reverseOps:c}}toTestString(){return`${this.operations.map(n=>n.toTestString()).join(",")}`}toStruct(){return{changeID:Ft.bytesToHex(Ft.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(n=>Ft.bytesToHex(Ft.toOperation(n).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(n){const{changeID:t,operations:i,presenceChange:l,message:c}=n;return ro.create({id:Ft.bytesToChangeID(Ft.hexToBytes(t)),operations:i==null?void 0:i.map(d=>Ft.bytesToOperation(Ft.hexToBytes(d))),presenceChange:l,message:c})}}class Lc{constructor(n,t,i,l,c,d){h(this,"documentKey");h(this,"checkpoint");h(this,"isRemoved");h(this,"changes");h(this,"snapshot");h(this,"versionVector");this.documentKey=n,this.checkpoint=t,this.isRemoved=i,this.changes=l,this.snapshot=d,this.versionVector=c}static create(n,t,i,l,c,d){return new Lc(n,t,i,l,c,d)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class $s{constructor(n,t){h(this,"serverSeq");h(this,"clientSeq");this.serverSeq=n,this.clientSeq=t}static of(n,t){return new $s(n,t)}increaseClientSeq(n){return n===0?this:new $s(this.serverSeq,this.clientSeq+n)}forward(n){if(this.equals(n))return this;const t=this.serverSeq>n.serverSeq?this.serverSeq:n.serverSeq,i=Math.max(this.clientSeq,n.clientSeq);return $s.of(t,i)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(n){return this.clientSeq===n.clientSeq&&this.serverSeq==n.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const sA=new $s(0n,0);class _n{constructor(n,t){h(this,"createdAt");h(this,"offset");this.createdAt=n,this.offset=t}static of(n,t){return new _n(n,t)}static fromStruct(n){return _n.of(wn.fromStruct(n.createdAt),n.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}hasSameCreatedAt(n){return this.createdAt.compare(n.createdAt)===0}split(n){return new _n(this.createdAt,this.offset+n)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const oA=_n.of(Ws,0);class zn{constructor(n,t){h(this,"id");h(this,"relativeOffset");this.id=n,this.relativeOffset=t}static of(n,t){return new zn(n,t)}static fromStruct(n){const t=_n.fromStruct(n.id);return zn.of(t,n.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return _n.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(n){return this.id.equals(n.id)?this.relativeOffset===n.relativeOffset:!1}}class Ta extends nS{constructor(t,i,l){super(i);h(this,"id");h(this,"removedAt");h(this,"prev");h(this,"next");h(this,"insPrev");h(this,"insNext");this.id=t,this.removedAt=l}static create(t,i){return new Ta(t,i)}static createComparator(){return(t,i)=>{const l=t.getCreatedAt().compare(i.getCreatedAt());return l!==0?l:t.getOffset()>i.getOffset()?1:t.getOffset()<i.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(t){this.prev=t,t&&(t.next=this)}setNext(t){this.next=t,t&&(t.prev=this)}setInsPrev(t){this.insPrev=t,t&&(t.insNext=this)}setInsNext(t){this.insNext=t,t&&(t.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(t){return new Ta(this.id.split(t),this.splitValue(t),this.removedAt)}canRemove(t,i,l){return i?!!(!this.removedAt||!l&&(t!=null&&t.after(this.removedAt))):!1}canStyle(t,i){return this.getCreatedAt().getLamport()<=i&&(!this.removedAt||t.after(this.removedAt))}setRemovedAt(t){this.removedAt=t}remove(t){if(!this.removedAt){this.removedAt=t;return}t.after(this.removedAt)&&(this.removedAt=t)}createPosRange(){return[zn.of(this.id,0),zn.of(this.id,this.getLength())]}getDataSize(){const t=this.value.getDataSize();return this.id&&(t.meta+=Zn),this.removedAt&&(t.meta+=Zn),t}deepcopy(){return new Ta(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(t){const i=this.value;return this.value=i.substring(0,t),i.substring(t,i.length)}toIDString(){return this.id.toIDString()}}class io{constructor(){h(this,"head");h(this,"treeByIndex");h(this,"treeByID");this.head=Ta.create(oA),this.treeByIndex=new wl,this.treeByID=new fS(Ta.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new io}edit(n,t,i,l){const c={data:0,meta:0},[d,g,y]=this.findNodeWithSplit(n[1],t),[v,b,E]=this.findNodeWithSplit(n[0],t);ve(c,g,b);const O=this.findBetween(E,y),[k,U]=this.deleteNodes(O,t,l),V=y?y.getID():d.getID();let j=zn.of(V,0);if(i){const lt=this.posToIndex(v.createPosRange()[1],!0),ct=this.insertAfter(v,Ta.create(_n.of(t,0),i));ve(c,ct.getDataSize()),k.length&&k[k.length-1].from===lt?k[k.length-1].value=i:k.push({actor:t.getActorID(),from:lt,to:lt,value:i}),j=zn.of(ct.getID(),ct.getContentLength())}const W=[];for(const[,lt]of U)W.push({parent:this,child:lt});return[j,W,c,k]}indexToPos(n){const[t,i]=this.treeByIndex.find(n),l=t;return zn.of(l.getID(),i)}findIndexesFromRange(n){const[t,i]=n;return[this.posToIndex(t,!1),this.posToIndex(i,!0)]}posToIndex(n,t){const i=n.getAbsoluteID(),l=t?this.findFloorNodePreferToLeft(i):this.findFloorNode(i);if(!l)throw new D(x.ErrInvalidArgument,`the node of the given id should be found: ${i.toTestString()}`);const c=this.treeByIndex.indexOf(l),d=l.isRemoved()?0:i.getOffset()-l.getID().getOffset();return c+d}findNode(n){return this.findFloorNode(n)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const n=[];for(const t of this)t.isRemoved()||n.push(t.getValue());return n.join("")}*[Symbol.iterator](){let n=this.head.getNext();for(;n;)yield n,n=n.getNext()}getHead(){return this.head}deepcopy(){const n=new io;let t=this.head.getNext(),i=n.head,l;for(;t;){if(l=n.insertAfter(i,t.deepcopy()),t.hasInsPrev()){const c=n.findNode(t.getInsPrevID());l.setInsPrev(c)}i=l,t=t.getNext()}return n}toTestString(){const n=[];let t=this.head;for(;t;)t.isRemoved()?n.push(`{${t.toTestString()}}`):n.push(`[${t.toTestString()}]`),t=t.getNext();return n.join("")}insertAfter(n,t){const i=n.getNext();return t.setPrev(n),i&&i.setPrev(t),this.treeByID.put(t.getID(),t),this.treeByIndex.insertAfter(n,t),t}findNodeWithSplit(n,t){const i=n.getAbsoluteID();let l=this.findFloorNodePreferToLeft(i);const c=i.getOffset()-l.getID().getOffset(),[,d]=this.splitNode(l,c);for(;l.hasNext()&&l.getNext().getCreatedAt().after(t);)l=l.getNext();return[l,d,l.getNext()]}findFloorNodePreferToLeft(n){let t=this.findFloorNode(n);if(!t)throw new D(x.ErrInvalidArgument,`the node of the given id should be found: ${n.toTestString()}`);if(n.getOffset()>0&&t.getID().getOffset()==n.getOffset()){if(!t.hasInsPrev())return t;t=t.getInsPrev()}return t}findFloorNode(n){const t=this.treeByID.floorEntry(n);if(t&&!(!t.key.equals(n)&&!t.key.hasSameCreatedAt(n)))return t.value}findBetween(n,t){const i=[];let l=n;for(;l&&l!==t;)i.push(l),l=l.getNext();return i}splitNode(n,t){const i={data:0,meta:0};if(t>n.getContentLength())throw new D(x.ErrInvalidArgument,"offset should be less than or equal to length");if(t===0)return[n,i];if(t===n.getContentLength())return[n.getNext(),i];const l=n.getDataSize(),c=n.split(t);this.treeByIndex.updateWeight(c),this.insertAfter(n,c);const d=n.getInsNext();return d&&d.setInsPrev(c),c.setInsPrev(n),ve(i,n.getDataSize(),c.getDataSize()),Ga(i,l),[c,i]}deleteNodes(n,t,i){if(!n.length)return[[],new Map];const l=i===void 0||i.size()===0,c=[],d=[],[g,y]=this.findEdgesOfCandidates(n);d.push(g);for(const E of n){let O=!1;if(l)O=!0;else{const U=i==null?void 0:i.get(E.getCreatedAt().getActorID());U&&U>=E.getCreatedAt().getLamport()&&(O=!0)}let k=!1;if(E.getRemovedAt()){const U=i==null?void 0:i.get(E.getRemovedAt().getActorID());(l||U&&U>=E.getRemovedAt().getLamport())&&(k=!0)}E.canRemove(t,O,k)?c.push(E):d.push(E)}d.push(y);const v=this.makeChanges(d,t),b=new Map;for(const E of c)b.set(E.getID().toIDString(),E),E.remove(t);return this.deleteIndexNodes(d),[v,b]}findEdgesOfCandidates(n){return[n[0].getPrev(),n[n.length-1].getNext()]}makeChanges(n,t){const i=[];let l,c;for(let d=0;d<n.length-1;d++){const g=n[d],y=n[d+1];g.getNext()!=y&&([l]=this.findIndexesFromRange(g.getNext().createPosRange()),y?[,c]=this.findIndexesFromRange(y.getPrev().createPosRange()):c=this.treeByIndex.length,l<c&&i.push({actor:t.getActorID(),from:l,to:c}))}return i.reverse()}deleteIndexNodes(n){for(let t=0;t<n.length-1;t++){const i=n[t],l=n[t+1];i.getNext()!=l&&this.treeByIndex.deleteRange(i,l)}}purge(n){this.treeByIndex.delete(n),this.treeByID.remove(n.getID());const t=n.getPrev(),i=n.getNext(),l=n.getInsPrev(),c=n.getInsNext();t&&t.setNext(i),i&&i.setPrev(t),n.setPrev(void 0),n.setNext(void 0),l&&l.setInsNext(c),c&&c.setInsPrev(l),n.setInsPrev(void 0),n.setInsNext(void 0)}}const m0=s=>s<0?Math.ceil(s):Math.floor(s);var er=(s=>(s[s.Int=0]="Int",s[s.Long=1]="Long",s))(er||{});class Ue extends Dl{constructor(t,i,l){super(l);h(this,"valueType");h(this,"value");switch(this.valueType=t,t){case 0:typeof i=="number"?i>Math.pow(2,31)-1||i<-Math.pow(2,31)?this.value=bt.fromNumber(i).toInt():this.value=m0(i):this.value=i.toInt();break;case 1:typeof i=="number"?this.value=bt.fromNumber(i):this.value=i;break;default:throw new D(x.ErrUnimplemented,`unimplemented type: ${t}`)}}static create(t,i,l){return new Ue(t,i,l)}static valueFromBytes(t,i){switch(t){case 0:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 1:return bt.fromBytesLE(Array.from(i));default:throw new D(x.ErrUnimplemented,`unimplemented type: ${t}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const t=Ue.create(this.valueType,this.value,this.getCreatedAt());return t.setRemovedAt(this.getRemovedAt()),t.setMovedAt(this.getMovedAt()),t}getType(){return this.valueType}static getCounterType(t){switch(typeof t){case"object":return t instanceof bt?1:void 0;case"number":return t>Math.pow(2,31)-1||t<-Math.pow(2,31)?1:0;default:return}}static isSupport(t){return!!Ue.getCounterType(t)}static isInteger(t){return t%1===0}isNumericType(){const t=this.valueType;return t===0||t===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const t=this.value;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}case 1:{const i=this.value.toBytesLE();return Uint8Array.from(i)}default:throw new D(x.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(t){function i(l){if(!l.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof l.getValue()}`)}return i(this),i(t),this.valueType===1?this.value=this.value.add(t.getValue()):t.getType()===qt.Long?this.value=this.value+t.getValue().toInt():this.value=bt.fromNumber(this.value+m0(t.getValue())).toInt(),this}}class ao extends Mn{constructor(t,i,l){super(t,l);h(this,"value");this.value=i}static create(t,i,l){return new ao(t,i,l)}execute(t){const i=t.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Ue))throw new D(x.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const l=i,c=this.value.deepcopy();return l.increase(c),{opInfos:[{type:"increase",path:t.createPath(this.getParentCreatedAt()),value:c.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const t=this.value.deepcopy(),l=t.getType()===qt.Long?t.getValue().multiply(-1):t.getValue()*-1;return ao.create(this.getParentCreatedAt(),$t.of(l,t.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class qi extends Mn{constructor(t,i,l,c,d,g){super(t,g);h(this,"fromPos");h(this,"toPos");h(this,"attributes");h(this,"attributesToRemove");this.fromPos=i,this.toPos=l,this.attributes=c,this.attributesToRemove=d}static create(t,i,l,c,d){return new qi(t,i,l,c,[],d)}static createTreeRemoveStyleOperation(t,i,l,c,d){return new qi(t,i,l,new Map,c,d)}execute(t,i,l){const c=t.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Qe))throw new D(x.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const d=c;let g,y,v={data:0,meta:0};if(this.attributes.size){const b={};[...this.attributes].forEach(([E,O])=>b[E]=O),[y,g,v]=d.style([this.fromPos,this.toPos],b,this.getExecutedAt(),l)}else{const b=this.attributesToRemove;[y,g,v]=d.removeStyle([this.fromPos,this.toPos],b,this.getExecutedAt(),l)}t.acc(v);for(const b of y)t.registerGCPair(b);return{opInfos:g.map(({from:b,to:E,value:O,fromPath:k,toPath:U})=>({type:"tree-style",from:b,to:E,value:this.attributes.size?{attributes:O}:{attributesToRemove:O},fromPath:k,toPath:U,path:t.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${t}.STYLE(${i},${l},${Object.entries(this.attributes||{}).map(([c,d])=>`${c}:"${d}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class Vi extends Mn{constructor(t,i,l,c){super(t,c);h(this,"createdAt");h(this,"value");this.createdAt=i,this.value=l}static create(t,i,l,c){return new Vi(t,i,l,c)}execute(t){const i=t.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof xe))throw new D(x.ErrInvalidArgument,"fail to execute, only array can execute set");const l=i.getByID(this.createdAt).deepcopy(),c=this.toReverseOperation(this.value,l),d=this.value.deepcopy();return i.insertAfter(this.createdAt,d,this.getExecutedAt()),i.delete(this.createdAt,this.getExecutedAt()),t.registerElement(d),{opInfos:[{type:"array-set",path:t.createPath(this.getParentCreatedAt())}],reverseOp:c}}toReverseOperation(t,i){return Vi.create(this.getParentCreatedAt(),t.getCreatedAt(),i)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(t){this.createdAt=t}}function lA(s){const n=new _s,t=n.data;for(const[i,l]of Object.entries(s))t[i]=JSON.stringify(l);return n}function uA(s){if(s.type===Wn.Put)return new Tl({type:Fa.PUT,presence:lA(s.presence)});if(s.type===Wn.Clear)return new Tl({type:Fa.CLEAR});throw new D(x.ErrUnimplemented,"unimplemented type")}function cA(s){return new tS({serverSeq:s.getServerSeq(),clientSeq:s.getClientSeq()})}function gS(s){return new Bc({clientSeq:s.getClientSeq(),lamport:s.getLamport(),actorId:qc(s.getActorID()),versionVector:ug(s.getVersionVector())})}function _(s){if(s)return new Z({lamport:s.getLamport(),delimiter:s.getDelimiter(),actorId:qc(s.getActorID())})}function ug(s){if(!s)return;const n=new zc;for(const[t,i]of s){const l=$A(qc(t));n.vector[l]=BigInt(i.toString())}return n}function mS(s){switch(s){case qt.Null:return ft.NULL;case qt.Boolean:return ft.BOOLEAN;case qt.Integer:return ft.INTEGER;case qt.Long:return ft.LONG;case qt.Double:return ft.DOUBLE;case qt.String:return ft.STRING;case qt.Bytes:return ft.BYTES;case qt.Date:return ft.DATE;default:throw new D(x.ErrInvalidType,`unsupported type: ${s}`)}}function yS(s){switch(s){case er.Int:return ft.INTEGER_CNT;case er.Long:return ft.LONG_CNT;default:throw new D(x.ErrInvalidType,`unsupported type: ${s}`)}}function Gu(s){if(s instanceof Ee)return new un({type:ft.JSON_OBJECT,createdAt:_(s.getCreatedAt()),value:kS(s)});if(s instanceof xe)return new un({type:ft.JSON_ARRAY,createdAt:_(s.getCreatedAt()),value:HA(s)});if(s instanceof Ze)return new un({type:ft.TEXT,createdAt:_(s.getCreatedAt())});if(s instanceof $t)return new un({type:mS(s.getType()),createdAt:_(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Ue)return new un({type:yS(s.getType()),createdAt:_(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Qe)return new un({type:ft.TREE,createdAt:_(s.getCreatedAt()),value:jA(s)});throw new D(x.ErrUnimplemented,"unimplemented element")}function fA(s){return new Sl({createdAt:_(s.getCreatedAt()),offset:s.getOffset()})}function Xu(s){return new Za({createdAt:_(s.getID().getCreatedAt()),offset:s.getID().getOffset(),relativeOffset:s.getRelativeOffset()})}function Fu(s){return new Xa({parentId:gl(s.getParentID()),leftSiblingId:gl(s.getLeftSiblingID())})}function gl(s){return new Sa({createdAt:_(s.getCreatedAt()),offset:s.getOffset()})}function pS(s){const n=new ag;if(s instanceof Qa){const t=s,i=new oc;i.parentCreatedAt=_(t.getParentCreatedAt()),i.key=t.getKey(),i.value=Gu(t.getValue()),i.executedAt=_(t.getExecutedAt()),n.body.case="set",n.body.value=i}else if(s instanceof Ea){const t=s,i=new lc;i.parentCreatedAt=_(t.getParentCreatedAt()),i.prevCreatedAt=_(t.getPrevCreatedAt()),i.value=Gu(t.getValue()),i.executedAt=_(t.getExecutedAt()),n.body.case="add",n.body.value=i}else if(s instanceof In){const t=s,i=new uc;i.parentCreatedAt=_(t.getParentCreatedAt()),i.prevCreatedAt=_(t.getPrevCreatedAt()),i.createdAt=_(t.getCreatedAt()),i.executedAt=_(t.getExecutedAt()),n.body.case="move",n.body.value=i}else if(s instanceof tr){const t=s,i=new cc;i.parentCreatedAt=_(t.getParentCreatedAt()),i.createdAt=_(t.getCreatedAt()),i.executedAt=_(t.getExecutedAt()),n.body.case="remove",n.body.value=i}else if(s instanceof Ol){const t=s,i=new fc;i.parentCreatedAt=_(t.getParentCreatedAt()),i.from=Xu(t.getFromPos()),i.to=Xu(t.getToPos()),i.content=t.getContent();const l=i.attributes;for(const[c,d]of t.getAttributes())l[c]=d;i.executedAt=_(t.getExecutedAt()),n.body.case="edit",n.body.value=i}else if(s instanceof kl){const t=s,i=new hc;i.parentCreatedAt=_(t.getParentCreatedAt()),i.from=Xu(t.getFromPos()),i.to=Xu(t.getToPos());const l=i.attributes;for(const[c,d]of t.getAttributes())l[c]=d;i.executedAt=_(t.getExecutedAt()),n.body.case="style",n.body.value=i}else if(s instanceof ao){const t=s,i=new dc;i.parentCreatedAt=_(t.getParentCreatedAt()),i.value=Gu(t.getValue()),i.executedAt=_(t.getExecutedAt()),n.body.case="increase",n.body.value=i}else if(s instanceof Cl){const t=s,i=new gc;i.parentCreatedAt=_(t.getParentCreatedAt()),i.from=Fu(t.getFromPos()),i.to=Fu(t.getToPos()),i.contents=vA(t.getContents()),i.splitLevel=t.getSplitLevel(),i.executedAt=_(t.getExecutedAt()),n.body.case="treeEdit",n.body.value=i}else if(s instanceof qi){const t=s,i=new mc;i.parentCreatedAt=_(t.getParentCreatedAt()),i.from=Fu(t.getFromPos()),i.to=Fu(t.getToPos());const l=t.getAttributesToRemove();if(l.length>0)i.attributesToRemove=l;else{const c=i.attributes;for(const[d,g]of t.getAttributes())c[d]=g}i.executedAt=_(t.getExecutedAt()),n.body.case="treeStyle",n.body.value=i}else if(s instanceof Vi){const t=s,i=new yc;i.parentCreatedAt=_(t.getParentCreatedAt()),i.createdAt=_(t.getCreatedAt()),i.value=Gu(t.getValue()),i.executedAt=_(t.getExecutedAt()),n.body.case="arraySet",n.body.value=i}else throw new D(x.ErrUnimplemented,"unimplemented operation");return n}function hA(s){const n=[];for(const t of s)n.push(pS(t));return n}function dA(s){const n=new _0({id:gS(s.getID()),message:s.getMessage()});return s.hasOperations()&&(n.operations=hA(s.getOperations())),s.hasPresenceChange()&&(n.presenceChange=uA(s.getPresenceChange())),n}function gA(s){const n=[];for(const t of s)n.push(dA(t));return n}function mA(s){const n=[];for(const t of s)n.push(new W0({key:t.getStrKey(),element:fg(t.getValue())}));return n}function yA(s){const n=[];for(const t of s)n.push(new Ac({element:fg(t.getValue())}));return n}function pA(s){const n=[];for(const t of s){const i=new Ec;i.id=fA(t.getID()),i.value=t.getValue().getContent(),i.removedAt=_(t.getRemovedAt());const l=i.attributes,c=t.getValue().getAttrs();for(const d of c){const g=new Qs;g.value=d.getValue(),g.updatedAt=_(d.getUpdatedAt()),l[d.getKey()]=g}n.push(i)}return n}function vA(s){const n=[];if(!s||!s.length)return n;for(const t of s)n.push(new xc({content:cg(t)}));return n}function SA(s){const n={};for(const t of s)n[t.getKey()]=new Qs({value:t.getValue(),updatedAt:_(t.getUpdatedAt()),isRemoved:t.isRemoved()});return n}function cg(s){if(!s)return[];const n=[];return Uc(s,(t,i)=>{const l=new bl({id:gl(t.id),type:t.type,removedAt:_(t.removedAt),depth:i});t.isText&&(l.value=t.value),t.insPrevID&&(l.insPrevId=gl(t.insPrevID)),t.insNextID&&(l.insNextId=gl(t.insNextID)),t.attrs&&(l.attributes=SA(t.attrs)),n.push(l)}),n}function bA(s){const n=new Le;return n.body.case="jsonObject",n.body.value=new pc({nodes:mA(s.getRHT()),createdAt:_(s.getCreatedAt()),movedAt:_(s.getMovedAt()),removedAt:_(s.getRemovedAt())}),n}function vS(s){const n=new Le;return n.body.case="jsonArray",n.body.value=new vc({nodes:yA(s.getElements()),createdAt:_(s.getCreatedAt()),movedAt:_(s.getMovedAt()),removedAt:_(s.getRemovedAt())}),n}function TA(s){const n=new Le;return n.body.case="primitive",n.body.value=new Sc({type:mS(s.getType()),value:s.toBytes(),createdAt:_(s.getCreatedAt()),movedAt:_(s.getMovedAt()),removedAt:_(s.getRemovedAt())}),n}function wA(s){const n=new Le;return n.body.case="text",n.body.value=new bc({nodes:pA(s.getRGATreeSplit()),createdAt:_(s.getCreatedAt()),movedAt:_(s.getMovedAt()),removedAt:_(s.getRemovedAt())}),n}function AA(s){const n=new Le;return n.body.case="counter",n.body.value=new Tc({type:yS(s.getType()),value:s.toBytes(),createdAt:_(s.getCreatedAt()),movedAt:_(s.getMovedAt()),removedAt:_(s.getRemovedAt())}),n}function SS(s){const n=new Le;return n.body.case="tree",n.body.value=new wc({nodes:cg(s.getRoot()),createdAt:_(s.getCreatedAt()),movedAt:_(s.getMovedAt()),removedAt:_(s.getRemovedAt())}),n}function fg(s){if(s instanceof Ee)return bA(s);if(s instanceof xe)return vS(s);if(s instanceof $t)return TA(s);if(s instanceof Ze)return wA(s);if(s instanceof Ue)return AA(s);if(s instanceof Qe)return SS(s);throw new D(x.ErrUnimplemented,"unimplemented element")}function EA(s){return new Hi({documentKey:s.getDocumentKey(),checkpoint:cA(s.getCheckpoint()),isRemoved:s.getIsRemoved(),changes:gA(s.getChanges()),snapshot:s.getSnapshot(),versionVector:ug(s.getVersionVector())})}function ul(s){if(!(s instanceof Ut))return{};const n=s.findDetails(H1);for(const t of n)return t.metadata;return{}}function Vs(s){return ul(s).code??""}function hd(s,n){return s instanceof Ut&&Vs(s)===n}function bS(s){return kn.of(s.clientSeq,BigInt(s.lamport),yg(s.actorId),hg(s.versionVector),BigInt(s.serverSeq))}function hg(s){if(!s)return;const n=new Ys;return Object.entries(s.vector).forEach(([t,i])=>{const l=Jc(YA(t));n.set(l,BigInt(i.toString()))}),n}function tt(s){if(s)return wn.of(BigInt(s.lamport),s.delimiter,yg(s.actorId))}function dg(s){const n={};return Object.entries(s.data).forEach(([t,i])=>{n[t]=JSON.parse(i)}),n}function xA(s){const n=s.type;if(n===Fa.PUT){const t=dg(s.presence);return{type:Wn.Put,presence:t}}if(n===Fa.CLEAR)return{type:Wn.Clear};throw new D(x.ErrInvalidType,`unsupported type: ${n}`)}function NA(s){const n=new Map;return Object.entries(s).forEach(([t,i])=>{n.set(t,dg(i))}),n}function TS(s){switch(s){case ft.NULL:return qt.Null;case ft.BOOLEAN:return qt.Boolean;case ft.INTEGER:return qt.Integer;case ft.LONG:return qt.Long;case ft.DOUBLE:return qt.Double;case ft.STRING:return qt.String;case ft.BYTES:return qt.Bytes;case ft.DATE:return qt.Date}throw new D(x.ErrUnimplemented,`unimplemented value type: ${s}`)}function Rc(s){switch(s){case ft.INTEGER_CNT:return er.Int;case ft.LONG_CNT:return er.Long}throw new D(x.ErrUnimplemented,`unimplemented value type: ${s}`)}function Zu(s){switch(s.type){case ft.JSON_OBJECT:return s.value?OS(s.value):Ee.create(tt(s.createdAt));case ft.JSON_ARRAY:return s.value?VA(s.value):xe.create(tt(s.createdAt));case ft.TEXT:return Ze.create(io.create(),tt(s.createdAt));case ft.TREE:return KA(s.value);case ft.NULL:case ft.BOOLEAN:case ft.INTEGER:case ft.LONG:case ft.DOUBLE:case ft.STRING:case ft.BYTES:case ft.DATE:return $t.of($t.valueFromBytes(TS(s.type),s.value),tt(s.createdAt));case ft.INTEGER_CNT:case ft.LONG_CNT:return Ue.create(Rc(s.type),Ue.valueFromBytes(Rc(s.type),s.value),tt(s.createdAt))}}function Qu(s){return zn.of(_n.of(tt(s.createdAt),s.offset),s.relativeOffset)}function wS(s){return _n.of(tt(s.createdAt),s.offset)}function DA(s){const n=El.create(s.value);Object.entries(s.attributes).forEach(([i,l])=>{n.setAttr(i,l.value,tt(l.updatedAt))});const t=Ta.create(wS(s.id),n);return t.setRemovedAt(tt(s.removedAt)),t}function qs(s){return Bn.of(ml(s.parentId),ml(s.leftSiblingId))}function ml(s){return Se.of(tt(s.createdAt),s.offset)}function OA(s){if(!s.length)return;const n=[];return s.forEach(t=>{const i=gg(t.content);n.push(i)}),n}function gg(s){if(s.length===0)return;const n=[];for(const l of s)n.push(CA(l));const t=n[n.length-1],i=new Map;i.set(s[n.length-1].depth,n[n.length-1]);for(let l=n.length-2;l>=0;l--)i.get(s[l].depth-1).prepend(n[l]),i.set(s[l].depth,n[l]);return t.updateDescendantsSize(),t.updateDescendantsSize(!0),Qe.create(t,Ws).getRoot()}function kA(s){const n=Pi.create();for(const[t,i]of Object.entries(s))n.setInternal(t,i.value,tt(i.updatedAt),i.isRemoved);return n}function CA(s){const n=ml(s.id),t=Fe.create(n,s.type),i=Object.entries(s.attributes);return t.isText?t.value=s.value:i.length&&(t.attrs=kA(s.attributes)),s.insPrevId&&(t.insPrevID=ml(s.insPrevId)),s.insNextId&&(t.insNextID=ml(s.insNextId)),t.removedAt=tt(s.removedAt),t}function AS(s){if(s.body.case==="set"){const n=s.body.value;return Qa.create(n.key,Zu(n.value),tt(n.parentCreatedAt),tt(n.executedAt))}else if(s.body.case==="add"){const n=s.body.value;return Ea.create(tt(n.parentCreatedAt),tt(n.prevCreatedAt),Zu(n.value),tt(n.executedAt))}else if(s.body.case==="move"){const n=s.body.value;return In.create(tt(n.parentCreatedAt),tt(n.prevCreatedAt),tt(n.createdAt),tt(n.executedAt))}else if(s.body.case==="remove"){const n=s.body.value;return tr.create(tt(n.parentCreatedAt),tt(n.createdAt),tt(n.executedAt))}else if(s.body.case==="edit"){const n=s.body.value,t=new Map;return Object.entries(n.attributes).forEach(([i,l])=>{t.set(i,l)}),Ol.create(tt(n.parentCreatedAt),Qu(n.from),Qu(n.to),n.content,t,tt(n.executedAt))}else if(s.body.case==="style"){const n=s.body.value,t=new Map;return Object.entries(n.attributes).forEach(([i,l])=>{t.set(i,l)}),kl.create(tt(n.parentCreatedAt),Qu(n.from),Qu(n.to),t,tt(n.executedAt))}else if(s.body.case==="increase"){const n=s.body.value;return ao.create(tt(n.parentCreatedAt),Zu(n.value),tt(n.executedAt))}else if(s.body.case==="treeEdit"){const n=s.body.value;return Cl.create(tt(n.parentCreatedAt),qs(n.from),qs(n.to),OA(n.contents),n.splitLevel,tt(n.executedAt))}else if(s.body.case==="treeStyle"){const n=s.body.value,t=new Map,i=n.attributesToRemove;return(i==null?void 0:i.length)>0?qi.createTreeRemoveStyleOperation(tt(n.parentCreatedAt),qs(n.from),qs(n.to),i,tt(n.executedAt)):(Object.entries(n.attributes).forEach(([l,c])=>{t.set(l,c)}),qi.create(tt(n.parentCreatedAt),qs(n.from),qs(n.to),t,tt(n.executedAt)))}else if(s.body.case==="arraySet"){const n=s.body.value;return Vi.create(tt(n.parentCreatedAt),tt(n.createdAt),Zu(n.value),tt(n.executedAt))}else throw new D(x.ErrUnimplemented,"unimplemented operation")}function RA(s){const n=[];for(const t of s){const i=AS(t);i&&n.push(i)}return n}function ES(s){const n=[];for(const t of s)n.push(ro.create({id:bS(t.id),operations:RA(t.operations),presenceChange:t.presenceChange?xA(t.presenceChange):void 0,message:t.message}));return n}function IA(s){return $s.of(BigInt(s.serverSeq),s.clientSeq)}function BA(s){return Lc.create(s.documentKey,IA(s.checkpoint),s.isRemoved,ES(s.changes),hg(s.versionVector),s.snapshot)}function xS(s){const n=new to;for(const i of s.nodes){const l=mg(i.element);n.set(i.key,l,l.getPositionedAt())}const t=new Ee(tt(s.createdAt),n);return t.setMovedAt(tt(s.movedAt)),t.setRemovedAt(tt(s.removedAt)),t}function NS(s){const n=new Al;for(const i of s.nodes)n.insert(mg(i.element));const t=new xe(tt(s.createdAt),n);return t.setMovedAt(tt(s.movedAt)),t.setRemovedAt(tt(s.removedAt)),t}function zA(s){const n=$t.of($t.valueFromBytes(TS(s.type),s.value),tt(s.createdAt));return n.setMovedAt(tt(s.movedAt)),n.setRemovedAt(tt(s.removedAt)),n}function MA(s){const n=new io;let t=n.getHead();for(const l of s.nodes){const c=n.insertAfter(t,DA(l));l.insPrevId&&c.setInsPrev(n.findNode(wS(l.insPrevId))),t=c}const i=new Ze(n,tt(s.createdAt));return i.setMovedAt(tt(s.movedAt)),i.setRemovedAt(tt(s.removedAt)),i}function UA(s){const n=Ue.create(Rc(s.type),Ue.valueFromBytes(Rc(s.type),s.value),tt(s.createdAt));return n.setMovedAt(tt(s.movedAt)),n.setRemovedAt(tt(s.removedAt)),n}function DS(s){const n=gg(s.nodes);return Qe.create(n,tt(s.createdAt))}function mg(s){if(s.body.case==="jsonObject")return xS(s.body.value);if(s.body.case==="jsonArray")return NS(s.body.value);if(s.body.case==="primitive")return zA(s.body.value);if(s.body.case==="text")return MA(s.body.value);if(s.body.case==="counter")return UA(s.body.value);if(s.body.case==="tree")return DS(s.body.value);throw new D(x.ErrUnimplemented,"unimplemented element")}function LA(s){return s.map(n=>({path:n.path,type:n.type}))}function JA(s){if(!s)return{root:Ee.create(Ws),presences:new Map};const n=yd.fromBinary(s);return{root:mg(n.root),presences:NA(n.presences)}}function qA(s){const n=ug(s);return Jc(n.toBinary())}function PA(s){const n=pg(s),t=zc.fromBinary(n);return hg(t)}function OS(s){if(!s)throw new D(x.ErrInvalidArgument,"bytes is empty");const n=Le.fromBinary(s);return xS(n.body.value)}function kS(s){return fg(s).toBinary()}function VA(s){if(!s)throw new D(x.ErrInvalidArgument,"bytes is empty");const n=Le.fromBinary(s);return NS(n.body.value)}function HA(s){return vS(s).toBinary()}function KA(s){if(!s)throw new D(x.ErrInvalidArgument,"bytes is empty");const n=Le.fromBinary(s);return DS(n.body.value)}function jA(s){return SS(s).toBinary()}function Jc(s){return s?Array.from(s).map(n=>n.toString(16).padStart(2,"0")).join(""):""}function yg(s){return Jc(s)}function pg(s){return new Uint8Array(s.match(/.{1,2}/g).map(n=>parseInt(n,16)))}function YA(s){if(typeof window<"u"&&typeof window.atob=="function"){const n=window.atob(s),t=n.length,i=new Uint8Array(t);for(let l=0;l<t;l++)i[l]=n.charCodeAt(l);return i}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const n=globalThis.Buffer;return new Uint8Array(n.from(s,"base64"))}else throw new Error("No base64 decoder available")}function qc(s){return pg(s)}function $A(s){if(typeof window<"u"&&typeof window.btoa=="function"){let n="";for(let t=0;t<s.byteLength;t++)n+=String.fromCharCode(s[t]);return window.btoa(n)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(s).toString("base64");throw new Error("No base64 encoder available")}}function GA(s){const n=Bc.fromBinary(s);return bS(n)}function XA(s){const n=ag.fromBinary(s);return AS(n)}const Ft={fromPresence:dg,toChangePack:EA,fromChangePack:BA,fromChanges:ES,toTreeNodes:cg,fromTreeNodes:gg,objectToBytes:kS,bytesToObject:OS,bytesToSnapshot:JA,bytesToHex:Jc,hexToBytes:pg,toHexString:yg,toUint8Array:qc,toOperation:pS,toChangeID:gS,PbChangeID:Bc,bytesToChangeID:GA,bytesToOperation:XA,versionVectorToHex:qA,hexToVersionVector:PA,fromSchemaRules:LA};var ze=(s=>(s[s.Trivial=0]="Trivial",s[s.Debug=1]="Debug",s[s.Info=2]="Info",s[s.Warn=3]="Warn",s[s.Error=4]="Error",s[s.Fatal=5]="Fatal",s))(ze||{});let ja=3;function FA(s){ja=s}const G={trivial:(...s)=>{ja>0||typeof console<"u"&&console.log("YORKIE T:",...s)},debug:(...s)=>{ja>1||typeof console<"u"&&console.log("YORKIE D:",...s)},info:(...s)=>{ja>2||typeof console<"u"&&console.log("YORKIE I:",...s)},warn:(...s)=>{ja>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...s):console.log("YORKIE W:",...s))},error:(...s)=>{ja>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...s):console.log("YORKIE E:",...s))},fatal:(...s)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...s):console.log("YORKIE F:",...s))},isEnabled:s=>ja<=s};function CS(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,s=>{const n=Math.random()*16|0;return(s==="x"?n:n&3|8).toString(16)})}const dd=()=>{};class ZA{constructor(n){h(this,"finalized",!1);h(this,"observers",[]);h(this,"finalError");try{n(this)}catch(t){this.error(t)}}next(n){this.forEachObserver(t=>{t.next(n)})}error(n){this.forEachObserver(t=>{t.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,t,i){let l;if(!n)throw new D(x.ErrInvalidArgument,"missing observer");if(this.finalized)throw new D(x.ErrRefused,"observable is finalized due to previous error");typeof n=="object"?l=n:l={next:n,error:t,complete:i},l.next===void 0&&(l.next=dd),l.error===void 0&&(l.error=dd),l.complete===void 0&&(l.complete=dd);const c=CS(),d=this.unsubscribeOne.bind(this,c);if(this.observers.push({subscriptionID:c,observer:l}),this.finalized)try{this.finalError?l.error(this.finalError):l.complete()}catch(g){G.warn(g)}return d}unsubscribeOne(n){var t;this.observers=(t=this.observers)==null?void 0:t.filter(i=>i.subscriptionID!==n)}forEachObserver(n){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,n)}sendOne(n,t){if(this.observers!==void 0&&this.observers[n]!==void 0)try{t(this.observers[n].observer)}catch(i){G.error(i)}}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.observers=void 0)}}function RS(s){const n=new ZA(s);return{subscribe:n.subscribe.bind(n),getProxy:()=>n}}class yl{constructor(n,t,i,l){h(this,"prevID");h(this,"nextID");h(this,"delimiter");h(this,"message");h(this,"root");h(this,"operations");h(this,"presenceChange");h(this,"previousPresence");h(this,"reversePresenceKeys");this.prevID=n,this.nextID=n.next(),this.delimiter=eS,this.root=t,this.operations=[],this.previousPresence=On(i),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=l}static create(n,t,i,l){return new yl(n,t,i,l)}push(n){this.operations.push(n)}registerElement(n,t){this.root.registerElement(n,t)}registerRemovedElement(n){this.root.registerRemovedElement(n)}registerGCPair(n){this.root.registerGCPair(n)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const n=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return ro.create({id:n,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(n){this.presenceChange=n}setReversePresence(n,t){for(const i of Object.keys(n))t!=null&&t.addToHistory?this.reversePresenceKeys.add(i):this.reversePresenceKeys.delete(i)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const n={};for(const t of this.reversePresenceKeys)n[t]=this.previousPresence[t];return n}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(n){this.root.acc(n)}}function IS(s,n){const t=new xl(s);return new Proxy(n,t.getHandlers())}class xl{constructor(n){h(this,"context");h(this,"handlers");this.context=n,this.handlers={set:(t,i,l)=>(G.isEnabled(ze.Trivial)&&G.trivial(`obj[${i}]=${JSON.stringify(l)}`),xl.setInternal(n,t,i,l),!0),get:(t,i)=>(G.isEnabled(ze.Trivial)&&G.trivial(`obj[${i}]`),i==="getID"?()=>t.getCreatedAt():i==="toJSON"||i==="toString"?()=>t.toJSON():i==="toJS"?()=>t.toJS():i==="toJSForTest"?()=>t.toJSForTest():Ya(n,t.get(i))),ownKeys:t=>t.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(t,i)=>(G.isEnabled(ze.Trivial)&&G.trivial(`obj[${i}]`),xl.deleteInternal(n,t,i),!0)}}static setInternal(n,t,i,l){if(i.includes("."))throw new D(x.ErrInvalidObjectKey,"key must not contain the '.'.");const c=n.issueTimeTicket(),d=pl(n,l,c),g=t.set(i,d,c);n.registerElement(d,t),g&&n.registerRemovedElement(g),n.push(Qa.create(i,d.deepcopy(),t.getCreatedAt(),c))}static buildObjectMembers(n,t){const i={};for(const[l,c]of Object.entries(t)){if(l.includes("."))throw new D(x.ErrInvalidObjectKey,"key must not contain the '.'.");const d=n.issueTimeTicket(),g=pl(n,c,d);i[l]=g}return i}static deleteInternal(n,t,i){const l=n.issueTimeTicket(),c=t.deleteByKey(i,l);c&&(n.push(tr.create(t.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c))}getHandlers(){return this.handlers}}function QA(s,n){const t=new Ct(s,n);return new Proxy(n,t.getHandlers())}function y0(s){return typeof s=="string"||s instanceof String?!isNaN(s):!1}function _A(s){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(s)}class Ct{constructor(n,t){h(this,"context");h(this,"handlers");h(this,"array");this.context=n,this.array=t,this.handlers={get:(i,l,c)=>l==="getID"?()=>i.getCreatedAt():l==="getElementByID"?d=>{const g=i.getByID(d);if(!(!g||g.isRemoved()))return Dn(n,g)}:l==="getElementByIndex"?d=>{const g=i.get(d);return Dn(n,g)}:l==="getLast"?()=>Dn(n,i.getLast()):l==="delete"?d=>{const g=Ct.deleteInternalByIndex(n,i,d);return Dn(n,g)}:l==="deleteByID"?d=>{const g=Ct.deleteInternalByID(n,i,d);return Dn(n,g)}:l==="insertAfter"?(d,g)=>{const y=Ct.insertAfterInternal(n,i,d,g);return Dn(n,y)}:l==="insertIntegerAfter"?(d,g)=>{const y=Ct.insertIntegerAfterInternal(n,i,d,g);return Dn(n,y)}:l==="insertBefore"?(d,g)=>{const y=Ct.insertBeforeInternal(n,i,d,g);return Dn(n,y)}:l==="setValue"?(d,g)=>{const y=Ct.setValueInternal(n,i,d,g);return Dn(n,y)}:l==="moveBefore"?(d,g)=>{Ct.moveBeforeInternal(n,i,d,g)}:l==="moveAfter"?(d,g)=>{Ct.moveAfterInternal(n,i,d,g)}:l==="moveAfterByIndex"?(d,g)=>{Ct.moveAfterByIndexInternal(n,i,d,g)}:l==="moveFront"?d=>{Ct.moveFrontInternal(n,i,d)}:l==="moveLast"?d=>{Ct.moveLastInternal(n,i,d)}:y0(l)?Ya(n,i.get(Number(l))):l==="push"?d=>Ct.pushInternal(n,i,d):l==="splice"?(d,g,...y)=>Ct.splice(n,i,d,g,...y):l==="length"?i.length:typeof l=="symbol"&&l===Symbol.iterator?Ct.iteratorInternal.bind(this,n,i):l==="includes"?(d,g)=>Ct.includes(n,i,d,g):l==="indexOf"?(d,g)=>Ct.indexOf(n,i,d,g):l==="lastIndexOf"?(d,g)=>Ct.lastIndexOf(n,i,d,g):l==="toJSForTest"?()=>i.toJSForTest():l==="toTestString"?()=>Ct.toTestString(i):typeof l=="string"&&_A(l)?(...d)=>{const g=Array.from(i).map(y=>Ya(n,y));return Array.prototype[l].apply(g,d)}:Reflect.get(i,l,c),set:(i,l,c)=>{if(y0(l)){const d=Number(l);return Ct.setValueInternal(n,i,d,c),!0}return Reflect.set(i,l,c)},deleteProperty:(i,l)=>(G.isEnabled(ze.Trivial)&&G.trivial(`array[${l}]`),Ct.deleteInternalByIndex(n,i,Number.parseInt(l)),!0)}}static*iteratorInternal(n,t){for(const i of t)yield Dn(n,i)}static buildArrayElements(n,t){const i=[];for(const l of t){const c=n.issueTimeTicket(),d=pl(n,l,c);i.push(d)}return i}static pushInternal(n,t,i){return Ct.insertAfterInternal(n,t,t.getLastCreatedAt(),i),t.length}static moveBeforeInternal(n,t,i,l){const c=n.issueTimeTicket(),d=t.getPrevCreatedAt(i);t.moveAfter(d,l,c),n.push(In.create(t.getCreatedAt(),d,l,c))}static moveAfterInternal(n,t,i,l){const c=n.issueTimeTicket();n.push(In.create(t.getCreatedAt(),i,l,c)),t.moveAfter(i,l,c)}static moveAfterByIndexInternal(n,t,i,l){const c=t.get(i);if(!c)throw new D(x.ErrInvalidArgument,`index out of bounds: ${i}`);const d=t.get(l);if(!d)throw new D(x.ErrInvalidArgument,`index out of bounds: ${l}`);Ct.moveAfterInternal(n,t,c.getCreatedAt(),d.getCreatedAt())}static moveFrontInternal(n,t,i){const l=n.issueTimeTicket(),c=t.getHead();t.moveAfter(c.getCreatedAt(),i,l),n.push(In.create(t.getCreatedAt(),c.getCreatedAt(),i,l))}static moveLastInternal(n,t,i){const l=n.issueTimeTicket(),c=t.getLastCreatedAt();t.moveAfter(c,i,l),n.push(In.create(t.getCreatedAt(),c,i,l))}static insertAfterInternal(n,t,i,l){const c=n.issueTimeTicket(),d=pl(n,l,c);return t.insertAfter(i,d),n.registerElement(d,t),n.push(Ea.create(t.getCreatedAt(),i,d.deepcopy(),c)),d}static insertIntegerAfterInternal(n,t,i,l){const c=t.get(i);if(!c)throw new D(x.ErrInvalidArgument,`index out of bounds: ${i}`);return Ct.insertAfterInternal(n,t,c.getCreatedAt(),l),t}static insertBeforeInternal(n,t,i,l){return Ct.insertAfterInternal(n,t,t.getPrevCreatedAt(i),l)}static setValueInternal(n,t,i,l){const c=t.get(i);if(!c)throw new D(x.ErrInvalidArgument,`index out of bounds: ${i}`);return Ct.setByIndexInternal(n,t,c.getCreatedAt(),l),t}static setByIndexInternal(n,t,i,l){const c=n.issueTimeTicket(),d=pl(n,l,c),g=d.deepcopy();return n.push(Vi.create(t.getCreatedAt(),i,g,c)),t.set(i,d,c),n.registerElement(d,t),d}static deleteInternalByIndex(n,t,i){const l=n.issueTimeTicket(),c=t.deleteByIndex(i,l);if(c)return n.push(tr.create(t.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c),c}static deleteInternalByID(n,t,i){const l=n.issueTimeTicket(),c=t.delete(i,l);return n.push(tr.create(t.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c),c}static splice(n,t,i,l,...c){const d=t.length,g=i>=0?Math.min(i,d):Math.max(d+i,0),y=l===void 0?d:l<0?g:Math.min(g+l,d),v=[];for(let b=g;b<y;b++){const E=Ct.deleteInternalByIndex(n,t,g);if(E){const O=E.deepcopy();O.setRemovedAt(),v.push(Ya(n,O))}}if(c){let b=g===0?t.getHead().getID():t.get(g-1).getID();for(const E of c)b=Ct.insertAfterInternal(n,t,b,E).getID()}return v}static includes(n,t,i,l){var g;const c=t.length,d=l===void 0?0:l<0?Math.max(l+c,0):l;if(d>=c)return!1;if($t.isSupport(i))return Array.from(t).map(v=>Ya(n,v)).includes(i,d);for(let y=d;y<c;y++)if(((g=t.get(y))==null?void 0:g.getID())===i.getID())return!0;return!1}static indexOf(n,t,i,l){var g;const c=t.length,d=l===void 0?0:l<0?Math.max(l+c,0):l;if(d>=c)return-1;if($t.isSupport(i))return Array.from(t).map(v=>Ya(n,v)).indexOf(i,d);for(let y=d;y<c;y++)if(((g=t.get(y))==null?void 0:g.getID())===i.getID())return y;return-1}static lastIndexOf(n,t,i,l){var g;const c=t.length,d=l===void 0||l>=c?c-1:l<0?l+c:l;if(d<0)return-1;if($t.isSupport(i))return Array.from(t).map(v=>Ya(n,v)).lastIndexOf(i,d);for(let y=d;y>0;y--)if(((g=t.get(y))==null?void 0:g.getID())===i.getID())return y;return-1}static toTestString(n){return n.toTestString()}getHandlers(){return this.handlers}}class vg{constructor(n,t){h(this,"context");h(this,"text");this.context=n,this.text=t}initialize(n,t){this.context=n,this.text=t}getID(){return this.text.getID()}edit(n,t,i,l){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");if(n>t)throw new D(x.ErrInvalidArgument,"from should be less than or equal to to");const c=this.text.indexRangeToPosRange(n,t);G.isEnabled(ze.Debug)&&G.debug(`EDIT: f:${n}->${c[0].toTestString()}, t:${t}->${c[1].toTestString()} c:${i}`);const d=l?no(l):void 0,g=this.context.issueTimeTicket(),[,y,v,b]=this.text.edit(c,i,g,d);this.context.acc(v);for(const E of y)this.context.registerGCPair(E);return this.context.push(new Ol(this.text.getCreatedAt(),c[0],c[1],i,d?new Map(Object.entries(d)):new Map,g)),this.text.findIndexesFromRange(b)}delete(n,t){return this.edit(n,t,"")}empty(){return this.edit(0,this.length,"")}setStyle(n,t,i){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");if(n>t)throw new D(x.ErrInvalidArgument,"from should be less than or equal to to");const l=this.text.indexRangeToPosRange(n,t);G.isEnabled(ze.Debug)&&G.debug(`STYL: f:${n}->${l[0].toTestString()}, t:${t}->${l[1].toTestString()} a:${JSON.stringify(i)}`);const c=no(i),d=this.context.issueTimeTicket(),[g,y]=this.text.setStyle(l,c,d);this.context.acc(y);for(const v of g)this.context.registerGCPair(v);return this.context.push(new kl(this.text.getCreatedAt(),l[0],l[1],new Map(Object.entries(c)),d)),!0}indexRangeToPosRange(n){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");const t=this.text.indexRangeToPosRange(n[0],n[1]);return[t[0].toStruct(),t[1].toStruct()]}posRangeToIndexRange(n){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");const t=this.text.findIndexesFromRange([zn.fromStruct(n[0]),zn.fromStruct(n[1])]);return[t[0],t[1]]}toTestString(){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(n,t){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(n,t)}}let Sg=class{constructor(n,t){h(this,"valueType");h(this,"value");h(this,"context");h(this,"counter");this.valueType=n,this.value=t}initialize(n,t){this.valueType=t.getValueType(),this.context=n,this.counter=t,this.value=t.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(n){if(!this.context||!this.counter)throw new D(x.ErrNotInitialized,"Counter is not initialized yet");const t=this.context.issueTimeTicket(),i=$t.of(n,t);if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`);return this.counter.increase(i),this.context.push(ao.create(this.counter.getCreatedAt(),i,t)),this}toJSForTest(){if(!this.context||!this.counter)throw new D(x.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}};function bg(s){if(s.isText)return{type:s.type,value:s.value};const n={type:s.type,children:s.children.map(t=>bg(t))};return s.attrs&&(n.attributes=Ji(s.attrs.toObject())),n}function WA(s,n){const t={type:s.isText?s.parent.type:s.type,children:s.isText?s.parent.getChildrenText().length===n?[]:[{type:Qn,value:s.parent.getChildrenText().slice(n)}]:s.children.slice(n).map(i=>bg(i))};return s.attrs?t.attributes=Ji(s.attrs.toObject()):s.isText&&s.parent.attrs&&(t.attributes=Ji(s.parent.attrs.toObject())),t}function tE(s,n){const{node:t}=s,i=[...n].slice(0,-1),l=t.isText?t.parent.getChildrenText().length:t.children.length,c=[...i,l],d=[...i],g=[];d[d.length-1]+=1,n.every((v,b)=>v===c[b])||g.push({fromPath:[...n],toPath:c});const y=WA(t,n[n.length-1]);return y&&g.push({fromPath:d,toPath:d,content:y}),g}function eE(s,n){const{node:t,offset:i}=s,l=t.children[i],c=t.children[i-1],{children:d}=l,g=[...n].slice(0,-1),y=[{fromPath:[...n],toPath:[...g,i+1]}];if(!l.children.length)return y;const v=[...g,i-1,c.hasTextChild()?c.getChildrenText().length:c.children.length],b=d.map(E=>bg(E));return y.push({fromPath:v,toPath:v,content:b}),y}function Tg(s,n,t){const{type:i}=s,l=t.issueTimeTicket();if(i===Qn){BS(s);const{value:c}=s,d=Fe.create(Se.of(l,0),i,c);n.append(d)}else{const{children:c=[]}=s,{attributes:d}=s;let g;if(typeof d=="object"&&!oS(d)){const v=no(d);g=new Pi;for(const[b,E]of Object.entries(v))g.set(b,E,l)}const y=Fe.create(Se.of(l,0),i,void 0,g);n.append(y);for(const v of c)Tg(v,y,t)}}function nE(s,n){const{type:t}=n,i=s.issueTimeTicket();let l;if(n.type===Qn){const{value:c}=n;l=Fe.create(Se.of(i,0),t,c)}else if(n){const{children:c=[]}=n,{attributes:d}=n;let g;if(typeof d=="object"&&!oS(d)){const y=no(d);g=new Pi;for(const[v,b]of Object.entries(y))g.set(v,b,i)}l=Fe.create(Se.of(s.issueTimeTicket(),0),t,void 0,g);for(const y of c)Tg(y,l,s)}return l}function BS(s){if(!s.value.length)throw new D(x.ErrInvalidArgument,"text node cannot have empty value");return!0}function p0(s){if(!s.length)return!0;if(s[0].type===Qn)for(const t of s){const{type:i}=t;if(i!==Qn)throw new D(x.ErrInvalidArgument,"element node and text node cannot be passed together");BS(t)}else for(const t of s){const{type:i}=t;if(i===Qn)throw new D(x.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class wg{constructor(n){h(this,"initialRoot");h(this,"context");h(this,"tree");this.initialRoot=n}initialize(n,t){this.context=n,this.tree=t}getID(){return this.tree.getID()}buildRoot(n){if(!this.initialRoot)return Fe.create(Se.of(n.issueTimeTicket(),0),Q1);const t=Fe.create(Se.of(n.issueTimeTicket(),0),this.initialRoot.type);for(const i of this.initialRoot.children)Tg(i,t,n);return t}getSize(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new D(x.ErrInvalidArgument,"path should not be empty");const t=this.tree.pathToTreePos(n),i=tE(t,n);for(const l of i){const{fromPath:c,toPath:d,content:g}=l,y=this.tree.pathToPos(c),v=this.tree.pathToPos(d);this.editInternal(y,v,g?[g]:[],0)}}mergeByPath(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new D(x.ErrInvalidArgument,"path should not be empty");const t=this.tree.pathToTreePos(n);if(t.node.isText)throw new D(x.ErrInvalidArgument,"text node cannot be merged");const i=eE(t,n);for(const l of i){const{fromPath:c,toPath:d,content:g}=l,y=this.tree.pathToPos(c),v=this.tree.pathToPos(d);this.editInternal(y,v,g??[],0)}}styleByPath(n,t){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new D(x.ErrInvalidArgument,"path should not be empty");const[i,l]=this.tree.pathToPosRange(n),c=this.context.issueTimeTicket(),d=t?no(t):void 0,[g,,y]=this.tree.style([i,l],d,c);this.context.acc(y);for(const v of g)this.context.registerGCPair(v);this.context.push(qi.create(this.tree.getCreatedAt(),i,l,d?new Map(Object.entries(d)):new Map,c))}style(n,t,i){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(n>t)throw new D(x.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(n),c=this.tree.findPos(t),d=this.context.issueTimeTicket(),g=i?no(i):void 0,[y,,v]=this.tree.style([l,c],g,d);this.context.acc(v);for(const b of y)this.context.registerGCPair(b);this.context.push(qi.create(this.tree.getCreatedAt(),l,c,g?new Map(Object.entries(g)):new Map,d))}removeStyle(n,t,i){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(n>t)throw new D(x.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(n),c=this.tree.findPos(t),d=this.context.issueTimeTicket(),[g,,y]=this.tree.removeStyle([l,c],i,d);this.context.acc(y);for(const v of g)this.context.registerGCPair(v);this.context.push(qi.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),l,c,i,d))}editInternal(n,t,i,l=0){var v;if(i.length!==0&&i[0]&&(p0(i),i[0].type!==Qn))for(const b of i){const{children:E=[]}=b;p0(E)}const c=this.context.getLastTimeTicket();let d=new Array;if(((v=i[0])==null?void 0:v.type)===Qn){let b="";for(const E of i){const{value:O}=E;b+=O}d.push(Fe.create(Se.of(this.context.issueTimeTicket(),0),Qn,b))}else d=i.map(b=>b&&nE(this.context,b)).filter(b=>b);const[,g,y]=this.tree.edit([n,t],d.length?d.map(b=>b==null?void 0:b.deepcopy()):void 0,l,c,()=>this.context.issueTimeTicket());this.context.acc(y);for(const b of g)this.context.registerGCPair(b);return this.context.push(Cl.create(this.tree.getCreatedAt(),n,t,d.length?d:void 0,l,c)),!0}editByPath(n,t,i,l=0){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==t.length)throw new D(x.ErrInvalidArgument,"path length should be equal");if(!n.length||!t.length)throw new D(x.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),d=this.tree.pathToPos(t);return this.editInternal(c,d,i?[i]:[],l)}editBulkByPath(n,t,i,l=0){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==t.length)throw new D(x.ErrInvalidArgument,"path length should be equal");if(!n.length||!t.length)throw new D(x.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),d=this.tree.pathToPos(t);return this.editInternal(c,d,i,l)}edit(n,t,i,l=0){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(n>t)throw new D(x.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),d=this.tree.findPos(t);return this.editInternal(c,d,i?[i]:[],l)}editBulk(n,t,i,l=0){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(n>t)throw new D(x.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),d=this.tree.findPos(t);return this.editInternal(c,d,i,l)}toXML(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(n)}pathToIndex(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(n)}pathRangeToPosRange(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");const t=[this.tree.pathToIndex(n[0]),this.tree.pathToIndex(n[1])],i=this.tree.indexRangeToPosRange(t);return[i[0].toStruct(),i[1].toStruct()]}indexRangeToPosRange(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(n)}posRangeToIndexRange(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");const t=[Bn.fromStruct(n[0]),Bn.fromStruct(n[1])];return this.tree.posRangeToIndexRange(t)}posRangeToPathRange(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");const t=[Bn.fromStruct(n[0]),Bn.fromStruct(n[1])];return this.tree.posRangeToPathRange(t)}}function v0(s,n){return IS(s,n)}function Dn(s,n){if(n){if(n instanceof $t)return n;if(n instanceof Ee)return IS(s,n);if(n instanceof xe)return QA(s,n);if(n instanceof Ze)return new vg(s,n);if(n instanceof Ue){const t=new Sg(er.Int,0);return t.initialize(s,n),t}else if(n instanceof Qe){const t=new wg;return t.initialize(s,n),t}}else return;throw new TypeError(`Unsupported type of element: ${typeof n}`)}function Ya(s,n){const t=Dn(s,n);return t instanceof $t?t.getValue():t}function pl(s,n,t){let i;if($t.isSupport(n))i=$t.of(n,t);else if(Array.isArray(n))i=xe.create(t,Ct.buildArrayElements(s,n));else if(typeof n=="object")n instanceof vg?(i=Ze.create(io.create(),t),n.initialize(s,i)):n instanceof Sg?(i=Ue.create(n.getValueType(),n.getValue(),t),n.initialize(s,i)):n instanceof wg?(i=Qe.create(n.buildRoot(s),t),n.initialize(s,i)):i=Ee.create(t,xl.buildObjectMembers(s,n));else throw new TypeError(`Unsupported type of value: ${typeof n}`);return i}class Nl{constructor(n){h(this,"rootObject");h(this,"elementPairMapByCreatedAt");h(this,"gcElementSetByCreatedAt");h(this,"gcPairMap");h(this,"docSize");this.rootObject=n,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(n,void 0),n.getDescendants(t=>{if(t.getRemovedAt()&&this.registerRemovedElement(t),t instanceof Ze||t instanceof Qe)for(const i of t.getGCPairs())this.registerGCPair(i);return!1})}static create(){return new Nl(Ee.create(Ws))}findByCreatedAt(n){const t=this.elementPairMapByCreatedAt.get(n.toIDString());if(t)return t.element}findElementPairByCreatedAt(n){return this.elementPairMapByCreatedAt.get(n.toIDString())}createSubPaths(n){let t=this.elementPairMapByCreatedAt.get(n.toIDString());if(!t)return[];const i=[];for(;t.parent;){const l=t.element.getCreatedAt(),c=t.parent.subPathOf(l);if(c===void 0)throw new D(x.ErrInvalidArgument,`cant find the given element: ${l.toIDString()}`);i.unshift(c),t=this.elementPairMapByCreatedAt.get(t.parent.getCreatedAt().toIDString())}return i.unshift("$"),i}createPath(n){return this.createSubPaths(n).join(".")}registerElement(n,t){this.elementPairMapByCreatedAt.set(n.getCreatedAt().toIDString(),{parent:t,element:n}),ve(this.docSize.live,n.getDataSize()),n instanceof ba&&n.getDescendants((i,l)=>(this.elementPairMapByCreatedAt.set(i.getCreatedAt().toIDString(),{parent:l,element:i}),ve(this.docSize.live,i.getDataSize()),!1))}deregisterElement(n){let t=0;const i=l=>{const c=l.getCreatedAt().toIDString();Ga(this.docSize.gc,l.getDataSize()),this.elementPairMapByCreatedAt.delete(c),this.gcElementSetByCreatedAt.delete(c),t++};return i(n),n instanceof ba&&n.getDescendants(l=>(i(l),!1)),t}registerRemovedElement(n){ve(this.docSize.gc,n.getDataSize()),Ga(this.docSize.live,n.getDataSize()),this.docSize.live.meta+=Zn,this.gcElementSetByCreatedAt.add(n.getCreatedAt().toIDString())}registerGCPair(n){if(this.gcPairMap.get(n.child.toIDString())){this.gcPairMap.delete(n.child.toIDString());return}this.gcPairMap.set(n.child.toIDString(),n);const i=this.gcPairMap.get(n.child.toIDString()).child.getDataSize();ve(this.docSize.gc,i),Ga(this.docSize.live,i),n.child instanceof va||(this.docSize.live.meta+=Zn)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const n=new Set;for(const t of this.gcElementSetByCreatedAt){n.add(t);const i=this.elementPairMapByCreatedAt.get(t);i.element instanceof ba&&i.element.getDescendants(l=>(n.add(l.getCreatedAt().toIDString()),!1))}return n.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new Nl(this.rootObject.deepcopy())}garbageCollect(n){let t=0;for(const i of this.gcElementSetByCreatedAt){const l=this.elementPairMapByCreatedAt.get(i),c=l.element.getRemovedAt();c&&(n!=null&&n.afterOrEqual(c))&&(l.parent.purge(l.element),t+=this.deregisterElement(l.element))}for(const[,i]of this.gcPairMap){const l=i.child.getRemovedAt();l&&(n!=null&&n.afterOrEqual(l))&&(i.parent.purge(i.child),Ga(this.docSize.gc,i.child.getDataSize()),this.gcPairMap.delete(i.child.toIDString()),t+=1)}return t}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(n){ve(this.docSize.live,n)}*getGCElementPairs(){for(const n of this.gcElementSetByCreatedAt){const t=this.elementPairMapByCreatedAt.get(n);t&&(yield t)}}}let S0=class{constructor(n,t){h(this,"context");h(this,"presence");this.context=n,this.presence=t}set(n,t){for(const i of Object.keys(n))this.presence[i]=n[i];this.context.setPresenceChange({type:Wn.Put,presence:On(this.presence)}),this.context.setReversePresence(n,t)}get(n){return this.presence[n]}clear(){this.presence={},this.context.setPresenceChange({type:Wn.Clear})}};const b0=50;class rE{constructor(){h(this,"undoStack",[]);h(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(n){this.undoStack.length>=b0&&this.undoStack.shift(),this.undoStack.push(n)}popUndo(){return this.undoStack.pop()}pushRedo(n){this.redoStack.length>=b0&&this.redoStack.shift(),this.redoStack.push(n)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(n,t){const i=l=>{for(const c of l)for(const d of c)(d instanceof Vi||d instanceof tr||d instanceof In)&&d.getCreatedAt()===n&&d.setCreatedAt(t),(d instanceof Ea||d instanceof In)&&d.getPrevCreatedAt()===n&&d.setPrevCreatedAt(t)};i(this.undoStack),i(this.redoStack)}}function iE(s,n){const t=[];for(const i of n){const l=aE(s,i.path),c=sE(l,i);if(!c.valid)for(const d of c.errors||[])t.push(d)}return{valid:t.length===0,errors:t}}function aE(s,n){if(!n.startsWith("$"))throw new Error(`Path must start with $, got ${n}`);const t=n.split(".");let i=s;for(let l=1;l<t.length;l++){const c=t[l];if(!(i instanceof Ee))return;i=i.get(c)}return i}function sE(s,n){switch(n.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return lE(s,n);case"object":if(!(s instanceof Ee))return{valid:!1,errors:[{path:n.path,message:`expected object at path ${n.path}`}]};break;case"array":if(!(s instanceof xe))return{valid:!1,errors:[{path:n.path,message:`expected array at path ${n.path}`}]};break;case"yorkie.Text":if(!(s instanceof Ze))return{valid:!1,errors:[{path:n.path,message:`expected yorkie.Text at path ${n.path}`}]};break;case"yorkie.Tree":if(!(s instanceof Qe))return{valid:!1,errors:[{path:n.path,message:`expected yorkie.Tree at path ${n.path}`}]};break;case"yorkie.Counter":if(!(s instanceof Ue))return{valid:!1,errors:[{path:n.path,message:`expected yorkie.Counter at path ${n.path}`}]};break;default:throw new Error(`Unknown rule type: ${n.type}`)}return{valid:!0}}function oE(s){switch(s){case"null":return qt.Null;case"boolean":return qt.Boolean;case"integer":return qt.Integer;case"long":return qt.Long;case"double":return qt.Double;case"string":return qt.String;case"bytes":return qt.Bytes;case"date":return qt.Date;default:throw new Error(`Unknown primitive type: ${s}`)}}function lE(s,n){return s instanceof $t&&s.getType()===oE(n.type)?{valid:!0}:{valid:!1,errors:[{path:n.path,message:`expected ${n.type} at path ${n.path}`}]}}const uE="yorkie-devtools-panel",cE="yorkie-devtools-sdk";function fE(s){return[de.StatusChanged,de.Snapshot,de.LocalChange,de.RemoteChange,de.Initialized,de.Watched,de.Unwatched,de.PresenceChanged].includes(s.type)}function hE(s){return s.every(fE)}let Hs="disconnected";const T0=new Map,ic=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=ic);function _u(s,n){(n!=null&&n.force||Hs!=="disconnected")&&window.postMessage({source:cE,...s},"*")}function dE(s){if(!s.isEnableDevtools()||typeof window>"u"||T0.has(s.getKey()))return;ic.set(s.getKey(),[]);const n=s.subscribe("all",t=>{hE(t)&&(ic.get(s.getKey()).push(t),Hs==="synced"&&_u({msg:"doc::sync::partial",docKey:s.getKey(),event:t}))});T0.set(s.getKey(),[n]),_u({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",t=>{var l;if(((l=t.data)==null?void 0:l.source)!==uE)return;switch(t.data.msg){case"devtools::connect":if(Hs!=="disconnected")break;Hs="connected",_u({msg:"doc::available",docKey:s.getKey()}),G.info(`[YD] Devtools connected. Doc: ${s.getKey()}`);break;case"devtools::disconnect":Hs="disconnected",G.info(`[YD] Devtools disconnected. Doc: ${s.getKey()}`);break;case"devtools::subscribe":Hs="synced",_u({msg:"doc::sync::full",docKey:s.getKey(),events:ic.get(s.getKey())}),G.info(`[YD] Devtools subscribed. Doc: ${s.getKey()}`);break}})}var ma=(s=>(s.Detached="detached",s.Attached="attached",s.Removed="removed",s))(ma||{}),de=(s=>(s.StatusChanged="status-changed",s.ConnectionChanged="connection-changed",s.SyncStatusChanged="sync-status-changed",s.Snapshot="snapshot",s.LocalChange="local-change",s.RemoteChange="remote-change",s.Initialized="initialized",s.Watched="watched",s.Unwatched="unwatched",s.PresenceChanged="presence-changed",s.AuthError="auth-error",s))(de||{}),wa=(s=>(s.Connected="connected",s.Disconnected="disconnected",s))(wa||{}),eg=(s=>(s.Synced="synced",s.SyncFailed="sync-failed",s))(eg||{});class pa{constructor(n,t){h(this,"key");h(this,"status");h(this,"opts");h(this,"maxSizeLimit");h(this,"schemaRules");h(this,"changeID");h(this,"checkpoint");h(this,"localChanges");h(this,"root");h(this,"presences");h(this,"clone");h(this,"internalHistory");h(this,"isUpdating");h(this,"onlineClients");h(this,"eventStream");h(this,"eventStreamObserver");h(this,"history");this.key=n,this.status="detached",this.opts=t||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=aA,this.checkpoint=sA,this.localChanges=[],this.root=Nl.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new rE,this.isUpdating=!1,this.eventStream=RS(i=>this.eventStreamObserver=i),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},dE(this)}update(n,t){var g,y,v;if(this.getStatus()==="removed")throw new D(x.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const i=this.changeID.getActorID(),l=yl.create(this.changeID,this.clone.root,this.clone.presences.get(i)||{},t);try{const b=v0(l,this.clone.root.getObject());this.presences.has(i)||this.clone.presences.set(i,{}),this.isUpdating=!0,n(b,new S0(l,this.clone.presences.get(i)))}catch(b){throw this.clone=void 0,b}finally{this.isUpdating=!1}const c=this.getSchemaRules();if(!l.isPresenceOnlyChange()&&c.length){const b=iE((g=this.clone)==null?void 0:g.root.getObject(),c);if(!b.valid)throw this.clone=void 0,new D(x.ErrDocumentSchemaValidationFailed,`schema validation failed: ${(y=b.errors)==null?void 0:y.map(E=>E.message).join(", ")}`)}const d=F1((v=this.clone)==null?void 0:v.root.getDocSize());if(!l.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<d)throw this.clone=void 0,new D(x.ErrDocumentSizeExceedsLimit,`document size exceeded: ${d} > ${this.maxSizeLimit}`);if(l.hasChange()){G.isEnabled(ze.Trivial)&&G.trivial(`trying to update a local change: ${this.toJSON()}`);const b=l.toChange(),{opInfos:E,reverseOps:O}=b.execute(this.root,this.presences,jt.Local);for(const V of b.getOperations())V instanceof Vi&&this.internalHistory.reconcileCreatedAt(V.getCreatedAt(),V.getValue().getCreatedAt());const k=l.getReversePresence();k&&O.push({type:"presence",value:k}),this.localChanges.push(b),O.length&&this.internalHistory.pushUndo(O),E.length&&this.internalHistory.clearRedo(),this.changeID=l.getNextID();const U=[];E.length&&U.push({type:"local-change",source:jt.Local,value:{message:b.getMessage()||"",operations:E,actor:i,clientSeq:b.getID().getClientSeq(),serverSeq:b.getID().getServerSeq()},rawChange:this.isEnableDevtools()?b.toStruct():void 0}),b.hasPresenceChange()&&U.push({type:"presence-changed",source:jt.Local,value:{clientID:i,presence:this.getPresence(i)}}),this.publish(U),G.isEnabled(ze.Trivial)&&G.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(n,t,i,l){if(typeof n=="string"){if(typeof t!="function")throw new D(x.ErrInvalidArgument,"Second argument must be a callback function");if(n==="presence"){const g=t;return this.eventStream.subscribe(y=>{for(const v of y)v.type!=="initialized"&&v.type!=="watched"&&v.type!=="unwatched"&&v.type!=="presence-changed"||g(v)},i,l)}if(n==="my-presence"){const g=t;return this.eventStream.subscribe(y=>{for(const v of y)v.type!=="initialized"&&v.type!=="presence-changed"||v.type==="presence-changed"&&v.value.clientID!==this.changeID.getActorID()||g(v)},i,l)}if(n==="others"){const g=t;return this.eventStream.subscribe(y=>{for(const v of y)v.type!=="watched"&&v.type!=="unwatched"&&v.type!=="presence-changed"||v.value.clientID!==this.changeID.getActorID()&&g(v)},i,l)}if(n==="connection"){const g=t;return this.eventStream.subscribe(y=>{for(const v of y)v.type==="connection-changed"&&g(v)},i,l)}if(n==="status"){const g=t;return this.eventStream.subscribe(y=>{for(const v of y)v.type==="status-changed"&&g(v)},i,l)}if(n==="sync"){const g=t;return this.eventStream.subscribe(y=>{for(const v of y)v.type==="sync-status-changed"&&g(v)},i,l)}if(n==="auth-error"){const g=t;return this.eventStream.subscribe(y=>{for(const v of y)v.type==="auth-error"&&g(v)},i)}if(n==="all"){const g=t;return this.eventStream.subscribe(g,i,l)}const c=n,d=t;return this.eventStream.subscribe(g=>{for(const y of g){if(y.type!=="local-change"&&y.type!=="remote-change")continue;const v=[];for(const b of y.value.operations)this.isSameElementOrChildOf(b.path,c)&&v.push(b);v.length&&d({...y,value:{...y.value,operations:v}})}},i,l)}if(typeof n=="function"){const c=n,d=t,g=i;return this.eventStream.subscribe(y=>{for(const v of y)v.type!=="snapshot"&&v.type!=="local-change"&&v.type!=="remote-change"||c(v)},d,g)}throw new D(x.ErrInvalidArgument,`"${n}" is not a valid`)}publish(n){this.eventStreamObserver&&this.eventStreamObserver.next(n)}applyChangePack(n){n.hasSnapshot()?this.applySnapshot(n.getCheckpoint().getServerSeq(),n.getVersionVector(),n.getSnapshot(),n.getCheckpoint().getClientSeq()):(this.applyChanges(n.getChanges(),jt.Remote),this.removePushedLocalChanges(n.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(n.getCheckpoint()),n.hasSnapshot()||this.garbageCollect(n.getVersionVector()),n.getIsRemoved()&&this.applyStatus("removed"),G.isEnabled(ze.Trivial)&&G.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:On(this.presences)})}createChangePack(){const n=Array.from(this.localChanges),t=this.checkpoint.increaseClientSeq(n.length);return Lc.create(this.key,t,!1,n,this.getVersionVector())}setActor(n){for(const t of this.localChanges)t.setActor(n);this.changeID=this.changeID.setActor(n)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const n=yl.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return v0(n,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(n){this.maxSizeLimit=n}getSchemaRules(){return this.schemaRules}setSchemaRules(n){this.schemaRules=n}garbageCollect(n){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(n),this.root.garbageCollect(n))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(n,t,i,l=-1){const{root:c,presences:d}=Ft.bytesToSnapshot(i);this.root=new Nl(c),this.presences=d,this.changeID=this.changeID.setClocks(t.maxLamport(),t),this.clone=void 0,this.removePushedLocalChanges(l),this.applyChanges(this.localChanges,jt.Local),this.publish([{type:"snapshot",source:jt.Remote,value:{serverSeq:n.toString(),snapshot:this.isEnableDevtools()?Ft.bytesToHex(i):void 0,snapshotVector:Ft.versionVectorToHex(t)}}])}applyChanges(n,t){G.isEnabled(ze.Debug)&&G.debug(`trying to apply ${n.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),G.isEnabled(ze.Trivial)&&G.trivial(n.map(i=>`${i.getID().toTestString()}	${i.toTestString()}`).join(`
`));for(const i of n)this.applyChange(i,t);G.isEnabled(ze.Debug)&&G.debug(`after appling ${n.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(n,t){this.ensureClone(),n.execute(this.clone.root,this.clone.presences,t);const i=[],l=n.getID().getActorID();if(n.hasPresenceChange()&&this.onlineClients.has(l)){const d=n.getPresenceChange();switch(d.type){case Wn.Put:i.push(this.presences.has(l)?{type:"presence-changed",source:t,value:{clientID:l,presence:d.presence}}:{type:"watched",source:jt.Remote,value:{clientID:l,presence:d.presence}});break;case Wn.Clear:i.push({type:"unwatched",source:jt.Remote,value:{clientID:l,presence:this.getPresence(l)}}),this.removeOnlineClient(l);break}}const{opInfos:c}=n.execute(this.root,this.presences,t);if(this.changeID=this.changeID.syncClocks(n.getID()),c.length){const d=this.isEnableDevtools()?n.toStruct():void 0;i.push(t===jt.Remote?{type:"remote-change",source:t,value:{actor:l,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:d}:{type:"local-change",source:t,value:{actor:l,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:d})}i.length&&this.publish(i)}applyWatchStream(n){if(n.body.case==="initialization"){const t=n.body.value.clientIds,i=new Set;for(const l of t)l!==this.changeID.getActorID()&&i.add(l);this.setOnlineClients(i),this.publish([{type:"initialized",source:jt.Local,value:this.getPresences()}]);return}if(n.body.case==="event"){const{type:t,publisher:i}=n.body.value,l=[];if(t===Zs.DOCUMENT_WATCHED){if(this.onlineClients.has(i)&&this.hasPresence(i))return;this.addOnlineClient(i),this.hasPresence(i)&&l.push({type:"watched",source:jt.Remote,value:{clientID:i,presence:this.getPresence(i)}})}else if(t===Zs.DOCUMENT_UNWATCHED){const c=this.getPresence(i);this.removeOnlineClient(i),c&&l.push({type:"unwatched",source:jt.Remote,value:{clientID:i,presence:c}})}l.length&&this.publish(l)}}applyStatus(n){this.status=n,n==="detached"&&this.setActor(sg),this.publish([{source:n==="removed"?jt.Remote:jt.Local,type:"status-changed",value:n==="attached"?{status:n,actorID:this.changeID.getActorID()}:{status:n}}])}applyDocEventsForReplay(n){for(const t of n){if(t.type==="status-changed"){this.applyStatus(t.value.status),t.value.status==="attached"&&this.setActor(t.value.actorID);continue}if(t.type==="snapshot"){const{snapshot:i,serverSeq:l,snapshotVector:c}=t.value;if(!i)continue;this.applySnapshot(BigInt(l),Ft.hexToVersionVector(c),Ft.hexToBytes(i));continue}if(t.type==="local-change"||t.type==="remote-change"){if(!t.rawChange)continue;const i=ro.fromStruct(t.rawChange);this.applyChange(i,t.source)}if(t.type==="initialized"){const i=new Set;for(const{clientID:l,presence:c}of t.value)i.add(l),this.presences.set(l,c);this.setOnlineClients(i)}else if(t.type==="watched"){const{clientID:i,presence:l}=t.value;this.addOnlineClient(i),this.presences.set(i,l)}else if(t.type==="unwatched"){const{clientID:i}=t.value;this.removeOnlineClient(i),this.presences.delete(i)}else if(t.type==="presence-changed"){const{clientID:i,presence:l}=t.value;this.presences.set(i,l)}}}getValueByPath(n){if(!n.startsWith("$"))throw new D(x.ErrInvalidArgument,'path must start with "$"');const t=n.split(".");t.shift();let i=this.getRoot();for(const l of t)if(i=i[l],!i)return;return i}setOnlineClients(n){this.onlineClients=n}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(n){this.onlineClients.add(n)}removeOnlineClient(n){this.onlineClients.delete(n)}hasPresence(n){return this.presences.has(n)}getMyPresence(){if(this.status!=="attached")return{};const n=this.presences.get(this.changeID.getActorID());return n?On(n):{}}getOthersPresences(){const n=[],t=this.changeID.getActorID();for(const i of this.onlineClients)i!==t&&this.presences.has(i)&&n.push({clientID:i,presence:On(this.presences.get(i))});return n}getPresence(n){if(n===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(n))return;const t=this.presences.get(n);return t?On(t):void 0}getPresences(){const n=[];n.push({clientID:this.changeID.getActorID(),presence:On(this.getMyPresence())});for(const t of this.onlineClients)this.presences.has(t)&&n.push({clientID:t,presence:On(this.presences.get(t))});return n}getPresenceForTest(n){const t=this.presences.get(n);return t?On(t):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const n=this.getChangeID().getActorID();return this.getPresences().filter(t=>t.clientID!==n).sort((t,i)=>t.clientID>i.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(n,t){if(t===n)return!0;const i=n.split(".");return t.split(".").every((l,c)=>l===i[c])}removePushedLocalChanges(n){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>n);)this.localChanges.shift()}executeUndoRedo(n){if(this.isUpdating)throw new D(x.ErrRefused,`${n?"Undo":"Redo"} is not allowed during an update`);const t=n?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!t)throw new D(x.ErrRefused,`There is no operation to be ${n?"undone":"redone"}`);this.ensureClone();const i=yl.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const b of t){if(!(b instanceof Mn)){new S0(i,On(this.clone.presences.get(this.changeID.getActorID()))).set(b.value,{addToHistory:!0});continue}const E=i.issueTimeTicket();if(b.setExecutedAt(E),b instanceof Vi){const O=b.getCreatedAt();b.getValue().setCreatedAt(E),this.internalHistory.reconcileCreatedAt(O,E)}else if(b instanceof Ea){const O=b.getValue().getCreatedAt();b.getValue().setCreatedAt(E),this.internalHistory.reconcileCreatedAt(O,E)}i.push(b)}const l=i.toChange();l.execute(this.clone.root,this.clone.presences,jt.UndoRedo);const{opInfos:c,reverseOps:d}=l.execute(this.root,this.presences,jt.UndoRedo),g=i.getReversePresence();if(g&&d.push({type:"presence",value:g}),d.length&&(n?this.internalHistory.pushRedo(d):this.internalHistory.pushUndo(d)),!l.hasPresenceChange()&&!c.length)return;this.localChanges.push(l),this.changeID=i.getNextID();const y=this.changeID.getActorID(),v=[];c.length&&v.push({type:"local-change",source:jt.UndoRedo,value:{message:l.getMessage()||"",operations:c,actor:y,clientSeq:l.getID().getClientSeq(),serverSeq:l.getID().getServerSeq()},rawChange:this.isEnableDevtools()?l.toStruct():void 0}),l.hasPresenceChange()&&v.push({type:"presence-changed",source:jt.UndoRedo,value:{clientID:y,presence:this.getPresence(y)}}),this.publish(v)}}class w0{constructor(n,t,i,l){h(this,"resource");h(this,"resourceID");h(this,"syncMode");h(this,"changeEventReceived");h(this,"lastHeartbeatTime");h(this,"reconnectStreamDelay");h(this,"cancelled");h(this,"watchStream");h(this,"watchLoopTimerID");h(this,"watchAbortController");this.reconnectStreamDelay=n,this.resource=t,this.resourceID=i,this.syncMode=l,this.changeEventReceived=l!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1}changeSyncMode(n){this.syncMode=n}needRealtimeSync(){return this.syncMode===fl.RealtimeSyncOff?!1:this.syncMode===fl.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==fl.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(n){return this.resource instanceof pa?this.needRealtimeSync():this.syncMode===fl.Manual?!1:Date.now()-this.lastHeartbeatTime>=n}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(n){const t=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await n(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(t,this.reconnectStreamDelay))})}catch{}};await t()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function gE(s,n){let t=n;return{authInterceptor:c=>async d=>(s&&d.header.set("x-api-key",s),t&&d.header.set("authorization",t),await c(d)),setToken:c=>{t=c}}}const mE="@yorkie-js/sdk",yE="0.6.38",A0={name:mE,version:yE};function pE(s){return n=>async t=>(s?t.header.set("x-yorkie-user-agent",s):t.header.set("x-yorkie-user-agent",A0.name+"/"+A0.version),await n(t))}const vE=s=>{try{if(JSON.stringify(s)===void 0)return!1}catch{return!1}return!0};var cl=(s=>(s.Detached="detached",s.Attached="attached",s.Removed="removed",s))(cl||{}),js=(s=>(s.PresenceChanged="presence-changed",s.Initialized="initialized",s.Broadcast="broadcast",s.LocalBroadcast="local-broadcast",s.AuthError="auth-error",s))(js||{});const ll=".";class ya{constructor(n){h(this,"key");h(this,"status");h(this,"actorID");h(this,"sessionID");h(this,"count");h(this,"seq");h(this,"eventStream");h(this,"eventStreamObserver");this.validateChannelKey(n),this.key=n,this.status="detached",this.count=0,this.seq=0,this.eventStream=RS(t=>this.eventStreamObserver=t)}getKey(){return this.key}getFirstKeyPath(){return this.key.split(ll)[0]}getStatus(){return this.status}applyStatus(n){this.status=n}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(n){this.actorID=n}getSessionID(){return this.sessionID}setSessionID(n){this.sessionID=n}getPresenceCount(){return this.count}updateCount(n,t){return t===0||t>this.seq?(this.count=n,this.seq=t,!0):!1}hasLocalChanges(){return!1}subscribe(n,t){if(typeof n=="function")return this.eventStream.subscribe(n);const i=n,l=t;if(!l)throw new Error("callback is required when subscribing to specific event type or topic");if(i==="broadcast")return this.eventStream.subscribe(d=>{d.type==="broadcast"&&l(d)});if(i==="local-broadcast")return this.eventStream.subscribe(d=>{d.type==="local-broadcast"&&l(d)});if(i==="auth-error")return this.eventStream.subscribe(d=>{d.type==="auth-error"&&l(d)});if(i==="presence")return this.eventStream.subscribe(d=>{(d.type==="presence-changed"||d.type==="initialized")&&l(d)});if(i==="all")return this.eventStream.subscribe(l);const c=i;return this.eventStream.subscribe(d=>{d.type==="broadcast"&&d.topic===c&&l(d)})}publish(n){this.eventStreamObserver&&this.eventStreamObserver.next(n)}broadcast(n,t,i){if(this.status!=="attached")throw new Error(`channel is not attached: ${this.status}`);if(!this.actorID)throw new Error("actorID is not set");this.publish({type:"local-broadcast",clientID:this.actorID,topic:n,payload:t,options:i})}validateChannelKey(n){if(n==="")throw new Error("channel key must not be empty");if(n.includes(" "))throw new Error("channel key must not contain a whitespace");if(n.startsWith(ll))throw new Error("channel key must not start with a period");if(n.endsWith(ll))throw new Error("channel key must not end with a period");if(n.includes(`${ll}${ll}`))throw new Error("channel key path must not empty")}}var fl=(s=>(s.Manual="manual",s.Realtime="realtime",s.RealtimePushOnly="realtime-pushonly",s.RealtimeSyncOff="realtime-syncoff",s))(fl||{});const Ps={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,channelHeartbeatInterval:3e4},gd={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class zS{constructor(n){h(this,"id");h(this,"key");h(this,"metadata");h(this,"status");h(this,"attachmentMap");h(this,"apiKey");h(this,"authTokenInjector");h(this,"conditions");h(this,"syncLoopDuration");h(this,"reconnectStreamDelay");h(this,"retrySyncLoopDelay");h(this,"channelHeartbeatInterval");h(this,"rpcClient");h(this,"setAuthToken");h(this,"taskQueue");h(this,"processing",!1);h(this,"keepalive",!1);n=n||Ps;const t=n.rpcAddr||Ps.rpcAddr;this.key=n.key||CS(),this.metadata=n.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=n.apiKey||"",this.authTokenInjector=n.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=n.syncLoopDuration??Ps.syncLoopDuration,this.reconnectStreamDelay=n.reconnectStreamDelay??Ps.reconnectStreamDelay,this.retrySyncLoopDelay=n.retrySyncLoopDelay??Ps.retrySyncLoopDelay,this.channelHeartbeatInterval=n.channelHeartbeatInterval??Ps.channelHeartbeatInterval;const{authInterceptor:i,setToken:l}=gE(this.apiKey);this.setAuthToken=l,this.rpcClient=v1(V1,P1({baseUrl:t,interceptors:[i,pE(n==null?void 0:n.userAgent)],fetch:(c,d)=>fetch(c,{...d,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const n=await this.authTokenInjector();this.setAuthToken(n)}return this.enqueueTask(async()=>{try{const n=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=n.clientId,this.status="activated",this.runSyncLoop(),G.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(n){throw G.error(`[AC] c:"${this.getKey()}" err :`,n),await this.handleConnectError(n),n}})}deactivate(n={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const t=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:n.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),G.info(`[DC] c"${this.getKey()}" deactivated`)}catch(i){throw G.error(`[DC] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};if(n.keepalive){this.keepalive=!0;const i=t();return this.keepalive=!1,i}return this.enqueueTask(t)}has(n){return this.attachmentMap.has(n)}attach(n,t){return n instanceof ya?this.attachChannel(n,t):this.attachDocument(n,t)}attachDocument(n,t={}){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);if(n.getStatus()!==ma.Detached)throw new D(x.ErrNotDetached,`${n.getKey()} is not detached`);n.setActor(this.id),n.update((l,c)=>c.set(t.initialPresence||{}));const i=t.syncMode??"realtime";return this.enqueueTask(async()=>{try{const l=await this.rpcClient.attachDocument({clientId:this.id,changePack:Ft.toChangePack(n.createChangePack()),schemaKey:t.schema},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}});(l.maxSizePerDocument??0)>0&&n.setMaxSizePerDocument(l.maxSizePerDocument),l.schemaRules.length>0&&n.setSchemaRules(Ft.fromSchemaRules(l.schemaRules));const d=Ft.fromChangePack(l.changePack);if(n.applyChangePack(d),n.getStatus()===ma.Removed)return n;n.applyStatus(ma.Attached),this.attachmentMap.set(n.getKey(),new w0(this.reconnectStreamDelay,n,l.documentId,i)),i!=="manual"&&await this.runWatchLoop(n.getKey()),G.info(`[AD] c:"${this.getKey()}" attaches d:"${n.getKey()}"`);const g=n.getRootObject();if(t.initialRoot){const y=t.initialRoot;n.update(v=>{for(const[b,E]of Object.entries(y))if(!g.has(b)){const O=b;v[O]=E}})}return n}catch(l){throw G.error(`[AD] c:"${this.getKey()}" err :`,l),await this.handleConnectError(l),l}})}detach(n,t){return n instanceof ya?this.detachChannel(n):this.detachDocument(n,t)}detachDocument(n,t={keepalive:!1}){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(n.getKey());if(!i)throw new D(x.ErrNotAttached,`${n.getKey()} is not attached`);n.update((c,d)=>d.clear());const l=async()=>{try{const c=await this.rpcClient.detachDocument({clientId:this.id,documentId:i.resourceID,changePack:Ft.toChangePack(n.createChangePack()),removeIfNotAttached:t.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),d=Ft.fromChangePack(c.changePack);return n.applyChangePack(d),n.getStatus()!==ma.Removed&&n.applyStatus(ma.Detached),this.detachInternal(n.getKey()),G.info(`[DD] c:"${this.getKey()}" detaches d:"${n.getKey()}"`),n}catch(c){throw G.error(`[DD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};if(t.keepalive){this.keepalive=!0;const c=l();return this.keepalive=!1,c}return this.enqueueTask(l)}async attachChannel(n,t={}){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);if(n.getStatus()!==cl.Detached)throw new D(x.ErrNotDetached,`${n.getKey()} is not detached`);n.setActor(this.id);const i=async()=>{try{const l=await this.rpcClient.attachChannel({clientId:this.id,channelKey:n.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${n.getFirstKeyPath()}`}});n.setSessionID(l.sessionId),n.updateCount(Number(l.count),0),n.applyStatus(cl.Attached);const c=t.isRealtime!==!1?"realtime":"manual",d=new w0(this.reconnectStreamDelay,n,l.sessionId,c);return n.subscribe("local-broadcast",g=>{const{topic:y,payload:v,options:b}=g;this.broadcast(n.getKey(),y,v,b).catch(E=>{b!=null&&b.error&&b.error(E),G.error(`[BC] c:"${this.getKey()}" failed: ${E}`)})}),this.attachmentMap.set(n.getKey(),d),c==="realtime"&&await this.runWatchLoop(n.getKey()),G.info(`[AP] c:"${this.getKey()}" attaches p:"${n.getKey()}" mode:${c} count:${n.getPresenceCount()}`),n}catch(l){throw G.error(`[AP] c:"${this.getKey()}" err :`,l),await this.handleConnectError(l),l}};return this.enqueueTask(i)}async detachChannel(n){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(n.getKey()))throw new D(x.ErrNotAttached,`${n.getKey()} is not attached`);const t=async()=>{try{const i=await this.rpcClient.detachChannel({clientId:this.id,channelKey:n.getKey(),sessionId:n.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${n.getFirstKeyPath()}`}});return n.updateCount(Number(i.count),0),n.applyStatus(cl.Detached),this.detachInternal(n.getKey()),G.info(`[DP] c:"${this.getKey()}" detaches p:"${n.getKey()}" count:${n.getPresenceCount()}`),n}catch(i){throw G.error(`[DP] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};return this.enqueueTask(t)}async changeSyncMode(n,t){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(n.getKey());if(!i)throw new D(x.ErrNotAttached,`${n.getKey()} is not attached`);const l=i.syncMode;return l===t?n:(i.changeSyncMode(t),t==="manual"?(i.cancelWatchStream(),n):(t==="realtime"&&(i.changeEventReceived=!0),l==="manual"&&await this.runWatchLoop(n.getKey()),n))}sync(n){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);if(n instanceof ya){const t=this.attachmentMap.get(n.getKey());if(!t)throw new D(x.ErrNotAttached,`${n.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(t).catch(async i=>{throw G.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}if(n instanceof pa){const t=this.attachmentMap.get(n.getKey());if(!t)throw new D(x.ErrNotAttached,`${n.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(t,"realtime").catch(async i=>{throw G.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}return this.enqueueTask(async()=>{const t=[];for(const[,i]of this.attachmentMap)i.syncMode!==void 0&&i.resource instanceof pa&&t.push(this.syncInternal(i,i.syncMode));return Promise.all(t).catch(async i=>{throw G.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i})})}remove(n){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);const t=this.attachmentMap.get(n.getKey());if(!t)throw new D(x.ErrNotAttached,`${n.getKey()} is not attached`);n.setActor(this.id);const i=Ft.toChangePack(n.createChangePack());return i.isRemoved=!0,this.enqueueTask(async()=>{try{const l=await this.rpcClient.removeDocument({clientId:this.id,documentId:t.resourceID,changePack:i},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),c=Ft.fromChangePack(l.changePack);n.applyChangePack(c),this.detachInternal(n.getKey()),G.info(`[RD] c:"${this.getKey()}" removes d:"${n.getKey()}"`)}catch(l){throw G.error(`[RD] c:"${this.getKey()}" err :`,l),await this.handleConnectError(l),l}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(n){return this.conditions[n]}async broadcast(n,t,i,l){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(n);if(!c)throw new D(x.ErrNotAttached,`${n} is not attached`);if(!vE(i))throw new D(x.ErrInvalidArgument,"payload is not serializable");const d=c.resource,g=(l==null?void 0:l.maxRetries)??gd.maxRetries,y=gd.maxBackoff;let v=0;const b=O=>Math.min(gd.initialRetryInterval*2**O,y),E=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,channelKey:n,topic:t,payload:new TextEncoder().encode(JSON.stringify(i))},{headers:{"x-shard-key":`${this.apiKey}/${d.getFirstKeyPath()}`}}),G.info(`[BC] c:"${this.getKey()}" broadcasts p:"${n}" t:"${t}"`)}catch(O){if(G.error(`[BC] c:"${this.getKey()}" err:`,O),await this.handleConnectError(O))if(hd(O,x.ErrUnauthenticated)&&c.resource instanceof ya&&c.resource.publish({type:js.AuthError,reason:ul(O).reason||"unauthenticated",method:"Broadcast"}),v<g)v++,setTimeout(()=>E(),b(v-1)),G.info(`[BC] c:"${this.getKey()}" retry attempt ${v}/${g}`);else throw G.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),O}});return E()}runSyncLoop(){const n=async()=>{if(!this.isActive()){G.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const t=[];for(const[,i]of this.attachmentMap)i.needSync(this.channelHeartbeatInterval)&&(i.changeEventReceived!==void 0&&(i.changeEventReceived=!1),t.push(this.syncInternal(i,i.syncMode).catch(l=>{throw hd(l,x.ErrUnauthenticated)&&i.resource.publish([{type:de.AuthError,value:{reason:ul(l).reason,method:"PushPull"}}]),l})));await Promise.all(t),setTimeout(n,this.syncLoopDuration)})}catch(t){G.error(`[SL] c:"${this.getKey()}" sync failed:`,t),await this.handleConnectError(t)?setTimeout(n,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};G.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,n()}async runWatchLoop(n){const t=this.attachmentMap.get(n);if(!t)throw new D(x.ErrNotAttached,`${n} is not attached`);return this.conditions.WatchLoop=!0,t.runWatchLoop(i=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new D(x.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(n))return this.conditions.WatchLoop=!1,Promise.reject(new D(x.ErrNotAttached,`${n} is not attached`));const l=new AbortController;return t.resource instanceof pa?this.createDocumentWatchStream(t,n,l,i):t.resource instanceof ya?this.createChannelWatchStream(t,n,l,i):Promise.reject(new D(x.ErrClientNotActivated,`Unknown resource type for ${n}`))})}createDocumentWatchStream(n,t,i,l){const c=this.rpcClient.watchDocument({clientId:this.id,documentId:n.resourceID},{headers:{"x-shard-key":`${this.apiKey}/${t}`},signal:i.signal});return n.resource.publish([{type:de.ConnectionChanged,value:wa.Connected}]),G.info(`[WD] c:"${this.getKey()}" watches d:"${t}"`),n.changeEventReceived!==void 0&&(n.changeEventReceived=!0),new Promise((d,g)=>{(async()=>{try{for await(const v of c)this.handleWatchDocumentResponse(n,v),v.body.case==="initialization"&&d([c,i]);n.resource.resetOnlineClients(),n.resource.publish([{type:de.Initialized,source:jt.Local,value:n.resource.getPresences()}]),n.resource.publish([{type:de.ConnectionChanged,value:wa.Disconnected}]),G.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`),l()}catch(v){n.resource.resetOnlineClients(),n.resource.publish([{type:de.Initialized,source:jt.Local,value:n.resource.getPresences()}]),n.resource.publish([{type:de.ConnectionChanged,value:wa.Disconnected}]),G.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(v)?(hd(v,x.ErrUnauthenticated)&&n.resource.publish([{type:de.AuthError,value:{reason:ul(v).reason,method:"WatchDocument"}}]),l()):this.conditions.WatchLoop=!1,g(v)}})()})}createChannelWatchStream(n,t,i,l){const c=this.rpcClient.watchChannel({clientId:this.id,channelKey:t},{headers:{"x-shard-key":`${this.apiKey}/${n.resource.getFirstKeyPath()}`},signal:i.signal});return G.info(`[WP] c:"${this.getKey()}" watches p:"${t}"`),new Promise((d,g)=>{(async()=>{try{let v=!0;for await(const b of c)this.handleWatchChannelResponse(n,b),v&&(v=!1,d([c,i]));G.debug(`[WP] c:"${this.getKey()}" p:"${t}" stream ended`),l()}catch(v){if(v instanceof Error&&v.name==="AbortError"){G.debug(`[WP] c:"${this.getKey()}" p:"${t}" stream aborted`);return}G.debug(`[WP] c:"${this.getKey()}" p:"${t}" err:`,v),await this.handleConnectError(v)?l():this.conditions.WatchLoop=!1,g(v)}})()})}handleWatchChannelResponse(n,t){const i=n.resource;if(t.body.case==="initialized"){const{count:l,seq:c}=t.body.value;i.updateCount(Number(l),Number(c))&&i.publish({type:js.Initialized,count:Number(l)})}else if(t.body.case==="event"){const l=t.body.value;if(l.type===Mc.BROADCAST){const c=new TextDecoder;try{const d=JSON.parse(c.decode(l.payload));i.publish({type:js.Broadcast,clientID:l.publisher,topic:l.topic,payload:d})}catch(d){G.error(`[WP] c:"${this.getKey()}" failed to parse broadcast payload:`,d)}return}i.updateCount(Number(l.count),Number(l.seq))&&i.publish({type:js.PresenceChanged,count:Number(l.count)})}}handleWatchDocumentResponse(n,t){if(t.body.case==="event"&&t.body.value.type===Zs.DOCUMENT_CHANGED){n.changeEventReceived!==void 0&&(n.changeEventReceived=!0);return}n.resource.applyWatchStream(t)}deactivateInternal(){this.status="deactivated";for(const[n,t]of this.attachmentMap)this.detachInternal(n),t.resource instanceof pa?t.resource.applyStatus(ma.Detached):t.resource instanceof ya&&t.resource.applyStatus(cl.Detached)}detachInternal(n){const t=this.attachmentMap.get(n);t&&(t.cancelWatchStream(),t.resource instanceof pa&&t.resource.resetOnlineClients(),this.attachmentMap.delete(n))}async syncInternal(n,t){const{resource:i}=n;if(i instanceof ya){try{const g=await this.rpcClient.refreshChannel({clientId:this.id,channelKey:i.getKey(),sessionId:i.getSessionID()},{headers:{"x-shard-key":`${this.apiKey}/${i.getFirstKeyPath()}`}});i.updateCount(Number(g.count),0),n.updateHeartbeatTime(),G.debug(`[RP] c:"${this.getKey()}" refreshes p:"${i.getKey()}" mode:${n.syncMode}`)}catch(g){throw G.error(`[RP] c:"${this.getKey()}" err :`,g),g}return i}const l=i,{resourceID:c}=n,d=l.createChangePack();try{const g=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:c,changePack:Ft.toChangePack(d),pushOnly:t==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${l.getKey()}`}}),y=Ft.fromChangePack(g.changePack);if(y.hasChanges()&&(n.syncMode==="realtime-pushonly"||n.syncMode==="realtime-syncoff"))return l;l.applyChangePack(y),n.resource.publish([{type:de.SyncStatusChanged,value:eg.Synced}]),l.getStatus()===ma.Removed&&this.detachInternal(l.getKey());const v=l.getKey(),b=y.getChangeSize();return G.info(`[PP] c:"${this.getKey()}" sync d:"${v}", push:${d.getChangeSize()} pull:${b} cp:${y.getCheckpoint().toTestString()}`),l}catch(g){throw l.publish([{type:de.SyncStatusChanged,value:eg.SyncFailed}]),G.error(`[PP] c:"${this.getKey()}" err :`,g),g}}async handleConnectError(n){if(!(n instanceof Ut))return!1;if(n.code===St.Canceled||n.code===St.Unknown||n.code===St.ResourceExhausted||n.code===St.Unavailable)return!0;if(Vs(n)===x.ErrUnauthenticated){if(this.authTokenInjector){const t=await this.authTokenInjector(ul(n).reason);this.setAuthToken(t)}return!0}return Vs(n)===x.ErrTooManySubscribers?(G.error(`[WD] c:"${this.getKey()}" err :`,n.rawMessage),!0):(Vs(n)===x.ErrTooManyAttachments||(Vs(n)===x.ErrClientNotActivated||Vs(n)===x.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(n){return new Promise((t,i)=>{this.taskQueue.push(()=>n().then(t).catch(i)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{G.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}er.Int,er.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:zS,Document:pa,Primitive:$t,Text:vg,Counter:Sg,Tree:wg,Channel:ya,ChannelEventType:js,LogLevel:ze,setLogLevel:FA,IntType:er.Int,LongType:er.Long});const SE="@yorkie-js/react",bE="0.6.38",E0={name:SE,version:bE},MS=Vt.createContext({client:void 0,loading:!0,error:void 0});function TE(s){const[n,t]=Vt.useState(void 0),[i,l]=Vt.useState(!0),[c,d]=Vt.useState(void 0),[g,y]=Vt.useState(!1);return Vt.useEffect(()=>{y(!0)},[]),Vt.useEffect(()=>{l(!0),d(void 0);async function v(){if(g)try{const b=new zS(s);await b.activate(),t(b)}catch(b){d(b instanceof Error?b:new Error("Failed to activate client"))}finally{l(!1)}}return v(),()=>{n!=null&&n.isActive()&&n.deactivate({keepalive:!0})}},[s.apiKey,s.rpcAddr,g]),{client:n,loading:i,error:c}}const wE=({children:s,...n})=>{const t=Vt.useMemo(()=>({userAgent:E0.name+"/"+E0.version,...n}),[n.apiKey,n.rpcAddr]),{client:i,loading:l,error:c}=TE(t);return kt.jsx(MS.Provider,{value:{client:i,loading:l,error:c},children:s})},AE=()=>{const s=Vt.useContext(MS);if(!s)throw new Error("useYorkie must be used under YorkieProvider");return{client:s.client,loading:s.loading,error:s.error}};function EE(s){const n=new Set;let t=s;const i=()=>{n.forEach(y=>y(t))};return{subscribe:y=>(n.add(y),()=>n.delete(y)),getSnapshot:()=>t,setState:y=>{const v=t;t=typeof y=="function"?y(v):y,v!==t&&i()},destroy:()=>{n.clear()}}}const xE=s=>EE(s);function Ag(s,n,t=Object.is){const i=Vt.useRef(n),l=Vt.useRef(t),c=Vt.useRef(void 0);i.current=n,l.current=t;const d=()=>{const g=s.getSnapshot(),y=i.current?i.current(g):g;return c.current!==void 0&&l.current(c.current,y)?c.current:(c.current=y,y)};return Vt.useSyncExternalStore(s.subscribe,d,d)}function x0(s){return s!=null&&typeof s[Symbol.iterator]=="function"}function N0(s){return"entries"in s&&typeof s.entries=="function"}function NE(s,n){const t=s instanceof Map?s:new Map(s.entries()),i=n instanceof Map?n:new Map(n.entries());if(t.size!==i.size)return!1;for(const[l,c]of t)if(!i.has(l)||!Object.is(c,i.get(l)))return!1;return!0}function DE(s,n){const t=s[Symbol.iterator](),i=n[Symbol.iterator]();let l=t.next(),c=i.next();for(;!l.done&&!c.done;){if(!Object.is(l.value,c.value))return!1;l=t.next(),c=i.next()}return l.done===c.done}function OE(s,n){const t=Object.keys(s),i=Object.keys(n);if(t.length!==i.length)return!1;for(const l of t)if(!Object.prototype.hasOwnProperty.call(n,l)||!Object.is(s[l],n[l]))return!1;return!0}function kE(s,n){if(Object.is(s,n))return!0;if(typeof s!="object"||s===null||typeof n!="object"||n===null||Object.getPrototypeOf(s)!==Object.getPrototypeOf(n))return!1;const t=x0(s),i=x0(n);return t!==i?!1:t&&i?N0(s)&&N0(n)?NE(s,n):DE(s,n):OE(s,n)}function CE(s,n,t,i,l,c,d){const g=Vt.useRef(l),y=Vt.useRef(c),[v,b]=Vt.useState(!1);Vt.useEffect(()=>{b(!0)},[]),Vt.useEffect(()=>{if(t){d.setState(U=>({...U,loading:!1,error:t}));return}if(!s||n||!v){d.setState(U=>({...U,loading:!0}));return}d.setState(U=>({...U,loading:!0,error:void 0}));const E=new pa(i),O=[];O.push(E.subscribe(()=>{d.setState(U=>({...U,root:E.getRoot()}))})),O.push(E.subscribe("presence",()=>{d.setState(U=>({...U,presences:E.getPresences()}))})),O.push(E.subscribe("connection",U=>{d.setState(V=>({...V,connection:U.value}))}));async function k(){try{await(s==null?void 0:s.attach(E,{initialRoot:g.current,initialPresence:y.current}));const U=V=>{try{E.update(V)}catch(j){d.setState(W=>({...W,error:j instanceof Error?j:new Error("Failed to update document")}))}};d.setState(V=>({...V,doc:E,root:E.getRoot(),presences:E.getPresences(),update:U}))}catch(U){d.setState(V=>({...V,error:U instanceof Error?U:new Error("Failed to attach document")}))}finally{d.setState(U=>({...U,loading:!1}))}}return k(),()=>{s&&s.has(i)&&s.detach(E);for(const U of O)U()}},[s,n,t,i,d,v])}const Eg=Vt.createContext(void 0),RE=({docKey:s,initialRoot:n={},initialPresence:t={},children:i})=>{const{client:l,loading:c,error:d}=AE(),g=Vt.useRef(void 0);g.current||(g.current=xE({doc:void 0,root:n,presences:[],connection:wa.Disconnected,update:()=>{},loading:!0,error:void 0}));const y=g.current;return CE(l,c,d,s,n,t,y),kt.jsx(Eg.Provider,{value:y,children:i})},IE=()=>(s,n=kE)=>{const t=Vt.useContext(Eg);if(!t)throw new Error("useDocument must be used within a DocumentProvider");return Ag(t,s,n)},BE=()=>{const s=LS("usePresences");return Ag(s,n=>n.presences)},US=()=>{const s=LS("useConnection");return Ag(s,n=>n.connection)},LS=s=>{const n=Vt.useContext(Eg);if(!n)throw new Error(`${s} must be used within a DocumentProvider`);return n};Vt.createContext(void 0);function zE(){const s=US();return kt.jsxs("div",{id:"connection-status",children:["Connection Status:"," ",s===wa.Connected?kt.jsx("span",{className:"green",children:" "}):kt.jsx("span",{className:"red",children:" "})]})}function ME(){const s=BE();return kt.jsx("div",{id:"peers-container",children:kt.jsxs("p",{children:["Peers:"," ",s.map((n,t)=>kt.jsxs(hw.Fragment,{children:[kt.jsx("span",{children:n.clientID.slice(-2)}),t<s.length-1&&kt.jsx("span",{children:", "})]},n.clientID))]})})}const xg=IE();function UE(){const{counter:s}=xg(({root:n})=>({counter:n.counter}));return kt.jsx("div",{id:"counter-value",children:s})}function LE(){const{update:s,connection:n}=xg(({update:t,connection:i})=>({update:t,connection:i}));return kt.jsx("button",{id:"increment",disabled:n===wa.Disconnected,onClick:()=>s(t=>t.counter+=1),children:"Increment"})}function JE(){const{loading:s,error:n}=xg(({loading:i,error:l})=>({loading:i,error:l})),t=US();return s?kt.jsx("p",{children:"Loading..."}):n?kt.jsxs("div",{id:"error",children:[kt.jsxs("p",{children:["Error Name: ",n.name]}),kt.jsxs("p",{children:["Error Message: ",n.message]})]}):kt.jsxs("div",{className:"counter-side",children:[kt.jsx(zE,{}),kt.jsx(ME,{}),kt.jsxs("div",{id:"counter-container",children:[kt.jsx("h1",{id:"counter",children:"Counter"}),kt.jsx(UE,{}),kt.jsx(LE,{})]}),kt.jsx("div",{id:"error",children:t===wa.Disconnected&&kt.jsx("p",{children:"Stream subscription is disconnected"})})]})}function qE(){return kt.jsx(wE,{apiKey:"",rpcAddr:"https://api.yorkie.dev",children:kt.jsx("div",{className:"page-container",children:kt.jsx(RE,{docKey:"react-document-limit",initialRoot:{counter:0},children:kt.jsx(JE,{})})})})}Sw.createRoot(document.getElementById("root")).render(kt.jsx(Vt.StrictMode,{children:kt.jsx(qE,{})}));
