var aw=Object.defineProperty;var sw=(s,n,t)=>n in s?aw(s,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[n]=t;var h=(s,n,t)=>sw(s,typeof n!="symbol"?n+"":n,t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=t(l);fetch(l.href,c)}})();function ow(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var td={exports:{}},nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function lw(){if(pv)return nl;pv=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(i,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:i,key:d,ref:l!==void 0?l:null,props:c}}return nl.Fragment=n,nl.jsx=t,nl.jsxs=t,nl}var vv;function uw(){return vv||(vv=1,td.exports=lw()),td.exports}var kt=uw(),ed={exports:{}},ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function cw(){if(Sv)return ht;Sv=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.iterator;function C(w){return w===null||typeof w!="object"?null:(w=E&&w[E]||w["@@iterator"],typeof w=="function"?w:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,V={};function K(w,P,$){this.props=w,this.context=P,this.refs=V,this.updater=$||O}K.prototype.isReactComponent={},K.prototype.setState=function(w,P){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,P,"setState")},K.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function W(){}W.prototype=K.prototype;function lt(w,P,$){this.props=w,this.context=P,this.refs=V,this.updater=$||O}var ct=lt.prototype=new W;ct.constructor=lt,U(ct,K.prototype),ct.isPureReactComponent=!0;var mt=Array.isArray,et={H:null,A:null,T:null,S:null,V:null},nt=Object.prototype.hasOwnProperty;function yt(w,P,$,Y,rt,Nt){return $=Nt.ref,{$$typeof:s,type:w,key:P,ref:$!==void 0?$:null,props:Nt}}function At(w,P){return yt(w.type,P,void 0,void 0,void 0,w.props)}function Et(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function ae(w){var P={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function($){return P[$]})}var Oe=/\/+/g;function Qt(w,P){return typeof w=="object"&&w!==null&&w.key!=null?ae(""+w.key):P.toString(36)}function _e(){}function Ea(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(_e,_e):(w.status="pending",w.then(function(P){w.status==="pending"&&(w.status="fulfilled",w.value=P)},function(P){w.status==="pending"&&(w.status="rejected",w.reason=P)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function be(w,P,$,Y,rt){var Nt=typeof w;(Nt==="undefined"||Nt==="boolean")&&(w=null);var ut=!1;if(w===null)ut=!0;else switch(Nt){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(w.$$typeof){case s:case n:ut=!0;break;case b:return ut=w._init,be(ut(w._payload),P,$,Y,rt)}}if(ut)return rt=rt(w),ut=Y===""?"."+Qt(w,0):Y,mt(rt)?($="",ut!=null&&($=ut.replace(Oe,"$&/")+"/"),be(rt,P,$,"",function(Ki){return Ki})):rt!=null&&(Et(rt)&&(rt=At(rt,$+(rt.key==null||w&&w.key===rt.key?"":(""+rt.key).replace(Oe,"$&/")+"/")+ut)),P.push(rt)),1;ut=0;var Je=Y===""?".":Y+":";if(mt(w))for(var Ht=0;Ht<w.length;Ht++)Y=w[Ht],Nt=Je+Qt(Y,Ht),ut+=be(Y,P,$,Nt,rt);else if(Ht=C(w),typeof Ht=="function")for(w=Ht.call(w),Ht=0;!(Y=w.next()).done;)Y=Y.value,Nt=Je+Qt(Y,Ht++),ut+=be(Y,P,$,Nt,rt);else if(Nt==="object"){if(typeof w.then=="function")return be(Ea(w),P,$,Y,rt);throw P=String(w),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ut}function L(w,P,$){if(w==null)return w;var Y=[],rt=0;return be(w,Y,"","",function(Nt){return P.call($,Nt,rt++)}),Y}function G(w){if(w._status===-1){var P=w._result;P=P(),P.then(function($){(w._status===0||w._status===-1)&&(w._status=1,w._result=$)},function($){(w._status===0||w._status===-1)&&(w._status=2,w._result=$)}),w._status===-1&&(w._status=0,w._result=P)}if(w._status===1)return w._result.default;throw w._result}var st=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Lt(){}return ht.Children={map:L,forEach:function(w,P,$){L(w,function(){P.apply(this,arguments)},$)},count:function(w){var P=0;return L(w,function(){P++}),P},toArray:function(w){return L(w,function(P){return P})||[]},only:function(w){if(!Et(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},ht.Component=K,ht.Fragment=t,ht.Profiler=l,ht.PureComponent=lt,ht.StrictMode=i,ht.Suspense=y,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et,ht.__COMPILER_RUNTIME={__proto__:null,c:function(w){return et.H.useMemoCache(w)}},ht.cache=function(w){return function(){return w.apply(null,arguments)}},ht.cloneElement=function(w,P,$){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var Y=U({},w.props),rt=w.key,Nt=void 0;if(P!=null)for(ut in P.ref!==void 0&&(Nt=void 0),P.key!==void 0&&(rt=""+P.key),P)!nt.call(P,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&P.ref===void 0||(Y[ut]=P[ut]);var ut=arguments.length-2;if(ut===1)Y.children=$;else if(1<ut){for(var Je=Array(ut),Ht=0;Ht<ut;Ht++)Je[Ht]=arguments[Ht+2];Y.children=Je}return yt(w.type,rt,void 0,void 0,Nt,Y)},ht.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},ht.createElement=function(w,P,$){var Y,rt={},Nt=null;if(P!=null)for(Y in P.key!==void 0&&(Nt=""+P.key),P)nt.call(P,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(rt[Y]=P[Y]);var ut=arguments.length-2;if(ut===1)rt.children=$;else if(1<ut){for(var Je=Array(ut),Ht=0;Ht<ut;Ht++)Je[Ht]=arguments[Ht+2];rt.children=Je}if(w&&w.defaultProps)for(Y in ut=w.defaultProps,ut)rt[Y]===void 0&&(rt[Y]=ut[Y]);return yt(w,Nt,void 0,void 0,null,rt)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(w){return{$$typeof:g,render:w}},ht.isValidElement=Et,ht.lazy=function(w){return{$$typeof:b,_payload:{_status:-1,_result:w},_init:G}},ht.memo=function(w,P){return{$$typeof:v,type:w,compare:P===void 0?null:P}},ht.startTransition=function(w){var P=et.T,$={};et.T=$;try{var Y=w(),rt=et.S;rt!==null&&rt($,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Lt,st)}catch(Nt){st(Nt)}finally{et.T=P}},ht.unstable_useCacheRefresh=function(){return et.H.useCacheRefresh()},ht.use=function(w){return et.H.use(w)},ht.useActionState=function(w,P,$){return et.H.useActionState(w,P,$)},ht.useCallback=function(w,P){return et.H.useCallback(w,P)},ht.useContext=function(w){return et.H.useContext(w)},ht.useDebugValue=function(){},ht.useDeferredValue=function(w,P){return et.H.useDeferredValue(w,P)},ht.useEffect=function(w,P,$){var Y=et.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(w,P)},ht.useId=function(){return et.H.useId()},ht.useImperativeHandle=function(w,P,$){return et.H.useImperativeHandle(w,P,$)},ht.useInsertionEffect=function(w,P){return et.H.useInsertionEffect(w,P)},ht.useLayoutEffect=function(w,P){return et.H.useLayoutEffect(w,P)},ht.useMemo=function(w,P){return et.H.useMemo(w,P)},ht.useOptimistic=function(w,P){return et.H.useOptimistic(w,P)},ht.useReducer=function(w,P,$){return et.H.useReducer(w,P,$)},ht.useRef=function(w){return et.H.useRef(w)},ht.useState=function(w){return et.H.useState(w)},ht.useSyncExternalStore=function(w,P,$){return et.H.useSyncExternalStore(w,P,$)},ht.useTransition=function(){return et.H.useTransition()},ht.version="19.1.0",ht}var bv;function tg(){return bv||(bv=1,ed.exports=cw()),ed.exports}var Vt=tg();const fw=ow(Vt);var nd={exports:{}},rl={},rd={exports:{}},id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function hw(){return Tv||(Tv=1,function(s){function n(L,G){var st=L.length;L.push(G);t:for(;0<st;){var Lt=st-1>>>1,w=L[Lt];if(0<l(w,G))L[Lt]=G,L[st]=w,st=Lt;else break t}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var G=L[0],st=L.pop();if(st!==G){L[0]=st;t:for(var Lt=0,w=L.length,P=w>>>1;Lt<P;){var $=2*(Lt+1)-1,Y=L[$],rt=$+1,Nt=L[rt];if(0>l(Y,st))rt<w&&0>l(Nt,Y)?(L[Lt]=Nt,L[rt]=st,Lt=rt):(L[Lt]=Y,L[$]=st,Lt=$);else if(rt<w&&0>l(Nt,st))L[Lt]=Nt,L[rt]=st,Lt=rt;else break t}}return G}function l(L,G){var st=L.sortIndex-G.sortIndex;return st!==0?st:L.id-G.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],v=[],b=1,E=null,C=3,O=!1,U=!1,V=!1,K=!1,W=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function mt(L){for(var G=t(v);G!==null;){if(G.callback===null)i(v);else if(G.startTime<=L)i(v),G.sortIndex=G.expirationTime,n(y,G);else break;G=t(v)}}function et(L){if(V=!1,mt(L),!U)if(t(y)!==null)U=!0,nt||(nt=!0,Qt());else{var G=t(v);G!==null&&be(et,G.startTime-L)}}var nt=!1,yt=-1,At=5,Et=-1;function ae(){return K?!0:!(s.unstable_now()-Et<At)}function Oe(){if(K=!1,nt){var L=s.unstable_now();Et=L;var G=!0;try{t:{U=!1,V&&(V=!1,lt(yt),yt=-1),O=!0;var st=C;try{e:{for(mt(L),E=t(y);E!==null&&!(E.expirationTime>L&&ae());){var Lt=E.callback;if(typeof Lt=="function"){E.callback=null,C=E.priorityLevel;var w=Lt(E.expirationTime<=L);if(L=s.unstable_now(),typeof w=="function"){E.callback=w,mt(L),G=!0;break e}E===t(y)&&i(y),mt(L)}else i(y);E=t(y)}if(E!==null)G=!0;else{var P=t(v);P!==null&&be(et,P.startTime-L),G=!1}}break t}finally{E=null,C=st,O=!1}G=void 0}}finally{G?Qt():nt=!1}}}var Qt;if(typeof ct=="function")Qt=function(){ct(Oe)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Ea=_e.port2;_e.port1.onmessage=Oe,Qt=function(){Ea.postMessage(null)}}else Qt=function(){W(Oe,0)};function be(L,G){yt=W(function(){L(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(L){L.callback=null},s.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):At=0<L?Math.floor(1e3/L):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(L){switch(C){case 1:case 2:case 3:var G=3;break;default:G=C}var st=C;C=G;try{return L()}finally{C=st}},s.unstable_requestPaint=function(){K=!0},s.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var st=C;C=L;try{return G()}finally{C=st}},s.unstable_scheduleCallback=function(L,G,st){var Lt=s.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?Lt+st:Lt):st=Lt,L){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=st+w,L={id:b++,callback:G,priorityLevel:L,startTime:st,expirationTime:w,sortIndex:-1},st>Lt?(L.sortIndex=st,n(v,L),t(y)===null&&L===t(v)&&(V?(lt(yt),yt=-1):V=!0,be(et,st-Lt))):(L.sortIndex=w,n(y,L),U||O||(U=!0,nt||(nt=!0,Qt()))),L},s.unstable_shouldYield=ae,s.unstable_wrapCallback=function(L){var G=C;return function(){var st=C;C=G;try{return L.apply(this,arguments)}finally{C=st}}}}(id)),id}var wv;function dw(){return wv||(wv=1,rd.exports=hw()),rd.exports}var ad={exports:{}},Ae={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function gw(){if(Av)return Ae;Av=1;var s=tg();function n(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(n(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,v,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:y,containerInfo:v,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ae.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ae.createPortal=function(y,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return c(y,v,null,b)},Ae.flushSync=function(y){var v=d.T,b=i.p;try{if(d.T=null,i.p=2,y)return y()}finally{d.T=v,i.p=b,i.d.f()}},Ae.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,i.d.C(y,v))},Ae.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},Ae.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var b=v.as,E=g(b,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,O=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?i.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:E,integrity:C,fetchPriority:O}):b==="script"&&i.d.X(y,{crossOrigin:E,integrity:C,fetchPriority:O,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ae.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=g(v.as,v.crossOrigin);i.d.M(y,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&i.d.M(y)},Ae.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,E=g(b,v.crossOrigin);i.d.L(y,b,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ae.preloadModule=function(y,v){if(typeof y=="string")if(v){var b=g(v.as,v.crossOrigin);i.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else i.d.m(y)},Ae.requestFormReset=function(y){i.d.r(y)},Ae.unstable_batchedUpdates=function(y,v){return y(v)},Ae.useFormState=function(y,v,b){return d.H.useFormState(y,v,b)},Ae.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ae.version="19.1.0",Ae}var Ev;function mw(){if(Ev)return ad.exports;Ev=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),ad.exports=gw(),ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function yw(){if(xv)return rl;xv=1;var s=dw(),n=tg(),t=mw();function i(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function d(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(i(188))}function y(e){var r=e.alternate;if(!r){if(r=c(e),r===null)throw Error(i(188));return r!==e?null:e}for(var a=e,o=r;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){a=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return g(u),e;if(f===o)return g(u),r;f=f.sibling}throw Error(i(188))}if(a.return!==o.return)a=u,o=f;else{for(var m=!1,S=u.child;S;){if(S===a){m=!0,a=u,o=f;break}if(S===o){m=!0,o=u,a=f;break}S=S.sibling}if(!m){for(S=f.child;S;){if(S===a){m=!0,a=f,o=u;break}if(S===o){m=!0,o=f,a=u;break}S=S.sibling}if(!m)throw Error(i(189))}}if(a.alternate!==o)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:r}function v(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=v(e),r!==null)return r;e=e.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),Et=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),Oe=Symbol.iterator;function Qt(e){return e===null||typeof e!="object"?null:(e=Oe&&e[Oe]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Symbol.for("react.client.reference");function Ea(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_e?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case K:return"Profiler";case V:return"StrictMode";case et:return"Suspense";case nt:return"SuspenseList";case Et:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case ct:return(e.displayName||"Context")+".Provider";case lt:return(e._context.displayName||"Context")+".Consumer";case mt:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yt:return r=e.displayName||null,r!==null?r:Ea(e.type)||"Memo";case At:r=e._payload,e=e._init;try{return Ea(e(r))}catch{}}return null}var be=Array.isArray,L=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},Lt=[],w=-1;function P(e){return{current:e}}function $(e){0>w||(e.current=Lt[w],Lt[w]=null,w--)}function Y(e,r){w++,Lt[w]=e.current,e.current=r}var rt=P(null),Nt=P(null),ut=P(null),Je=P(null);function Ht(e,r){switch(Y(ut,r),Y(Nt,e),Y(rt,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?Yp(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=Yp(r),e=Gp(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(rt),Y(rt,e)}function Ki(){$(rt),$(Nt),$(ut)}function Jc(e){e.memoizedState!==null&&Y(Je,e);var r=rt.current,a=Gp(r,e.type);r!==a&&(Y(Nt,e),Y(rt,a))}function Ol(e){Nt.current===e&&($(rt),$(Nt)),Je.current===e&&($(Je),Qo._currentValue=st)}var qc=Object.prototype.hasOwnProperty,Pc=s.unstable_scheduleCallback,Vc=s.unstable_cancelCallback,LS=s.unstable_shouldYield,JS=s.unstable_requestPaint,Ln=s.unstable_now,qS=s.unstable_getCurrentPriorityLevel,xg=s.unstable_ImmediatePriority,Ng=s.unstable_UserBlockingPriority,kl=s.unstable_NormalPriority,PS=s.unstable_LowPriority,Dg=s.unstable_IdlePriority,VS=s.log,HS=s.unstable_setDisableYieldValue,io=null,qe=null;function Yi(e){if(typeof VS=="function"&&HS(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(io,e)}catch{}}var Pe=Math.clz32?Math.clz32:YS,jS=Math.log,KS=Math.LN2;function YS(e){return e>>>=0,e===0?32:31-(jS(e)/KS|0)|0}var Cl=256,Il=4194304;function xa(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Rl(e,r,a){var o=e.pendingLanes;if(o===0)return 0;var u=0,f=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var S=o&134217727;return S!==0?(o=S&~f,o!==0?u=xa(o):(m&=S,m!==0?u=xa(m):a||(a=S&~e,a!==0&&(u=xa(a))))):(S=o&~f,S!==0?u=xa(S):m!==0?u=xa(m):a||(a=o&~e,a!==0&&(u=xa(a)))),u===0?0:r!==0&&r!==u&&(r&f)===0&&(f=u&-u,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:u}function ao(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function GS(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Og(){var e=Cl;return Cl<<=1,(Cl&4194048)===0&&(Cl=256),e}function kg(){var e=Il;return Il<<=1,(Il&62914560)===0&&(Il=4194304),e}function Hc(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function so(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $S(e,r,a,o,u,f){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,T=e.expirationTimes,I=e.hiddenUpdates;for(a=m&~a;0<a;){var M=31-Pe(a),q=1<<M;S[M]=0,T[M]=-1;var R=I[M];if(R!==null)for(I[M]=null,M=0;M<R.length;M++){var B=R[M];B!==null&&(B.lane&=-536870913)}a&=~q}o!==0&&Cg(e,o,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(m&~r))}function Cg(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var o=31-Pe(r);e.entangledLanes|=r,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function Ig(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var o=31-Pe(a),u=1<<o;u&r|e[o]&r&&(e[o]|=r),a&=~u}}function jc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Kc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Rg(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:fv(e.type))}function XS(e,r){var a=G.p;try{return G.p=e,r()}finally{G.p=a}}var Gi=Math.random().toString(36).slice(2),Te="__reactFiber$"+Gi,ke="__reactProps$"+Gi,ts="__reactContainer$"+Gi,Yc="__reactEvents$"+Gi,ZS="__reactListeners$"+Gi,FS="__reactHandles$"+Gi,Bg="__reactResources$"+Gi,oo="__reactMarker$"+Gi;function Gc(e){delete e[Te],delete e[ke],delete e[Yc],delete e[ZS],delete e[FS]}function es(e){var r=e[Te];if(r)return r;for(var a=e.parentNode;a;){if(r=a[ts]||a[Te]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=Fp(e);e!==null;){if(a=e[Te])return a;e=Fp(e)}return r}e=a,a=e.parentNode}return null}function ns(e){if(e=e[Te]||e[ts]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function lo(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(i(33))}function rs(e){var r=e[Bg];return r||(r=e[Bg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ce(e){e[oo]=!0}var zg=new Set,Mg={};function Na(e,r){is(e,r),is(e+"Capture",r)}function is(e,r){for(Mg[e]=r,e=0;e<r.length;e++)zg.add(r[e])}var QS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ug={},Lg={};function _S(e){return qc.call(Lg,e)?!0:qc.call(Ug,e)?!1:QS.test(e)?Lg[e]=!0:(Ug[e]=!0,!1)}function Bl(e,r,a){if(_S(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function zl(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function rr(e,r,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+o)}}var $c,Jg;function as(e){if($c===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);$c=r&&r[1]||"",Jg=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$c+e+Jg}var Xc=!1;function Zc(e,r){if(!e||Xc)return"";Xc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(B){var R=B}Reflect.construct(e,[],q)}else{try{q.call()}catch(B){R=B}e.call(q.prototype)}}else{try{throw Error()}catch(B){R=B}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(B){if(B&&R&&typeof B.stack=="string")return[B.stack,R.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),m=f[0],S=f[1];if(m&&S){var T=m.split(`
`),I=S.split(`
`);for(u=o=0;o<T.length&&!T[o].includes("DetermineComponentFrameRoot");)o++;for(;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;if(o===T.length||u===I.length)for(o=T.length-1,u=I.length-1;1<=o&&0<=u&&T[o]!==I[u];)u--;for(;1<=o&&0<=u;o--,u--)if(T[o]!==I[u]){if(o!==1||u!==1)do if(o--,u--,0>u||T[o]!==I[u]){var M=`
`+T[o].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=o&&0<=u);break}}}finally{Xc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?as(a):""}function WS(e){switch(e.tag){case 26:case 27:case 5:return as(e.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 15:return Zc(e.type,!1);case 11:return Zc(e.type.render,!1);case 1:return Zc(e.type,!0);case 31:return as("Activity");default:return""}}function qg(e){try{var r="";do r+=WS(e),e=e.return;while(e);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pg(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function tb(e){var r=Pg(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),o=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return u.call(this)},set:function(m){o=""+m,f.call(this,m)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(m){o=""+m},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Ml(e){e._valueTracker||(e._valueTracker=tb(e))}function Vg(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),o="";return e&&(o=Pg(e)?e.checked?"true":"false":e.value),e=o,e!==a?(r.setValue(e),!0):!1}function Ul(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var eb=/[\n"\\]/g;function tn(e){return e.replace(eb,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Fc(e,r,a,o,u,f,m,S){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),r!=null?m==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+We(r)):e.value!==""+We(r)&&(e.value=""+We(r)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),r!=null?Qc(e,m,We(r)):a!=null?Qc(e,m,We(a)):o!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+We(S):e.removeAttribute("name")}function Hg(e,r,a,o,u,f,m,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+We(a):"",r=r!=null?""+We(r):a,S||r===e.value||(e.value=r),e.defaultValue=r}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=S?e.checked:!!o,e.defaultChecked=!!o,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m)}function Qc(e,r,a){r==="number"&&Ul(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ss(e,r,a,o){if(e=e.options,r){r={};for(var u=0;u<a.length;u++)r["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=r.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&o&&(e[a].defaultSelected=!0)}else{for(a=""+We(a),r=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}r!==null||e[u].disabled||(r=e[u])}r!==null&&(r.selected=!0)}}function jg(e,r,a){if(r!=null&&(r=""+We(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+We(a):""}function Kg(e,r,a,o){if(r==null){if(o!=null){if(a!=null)throw Error(i(92));if(be(o)){if(1<o.length)throw Error(i(93));o=o[0]}a=o}a==null&&(a=""),r=a}a=We(r),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function os(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var nb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yg(e,r,a){var o=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":o?e.setProperty(r,a):typeof a!="number"||a===0||nb.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Gg(e,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var u in r)o=r[u],r.hasOwnProperty(u)&&a[u]!==o&&Yg(e,u,o)}else for(var f in r)r.hasOwnProperty(f)&&Yg(e,f,r[f])}function _c(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ib=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(e){return ib.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Wc=null;function tf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ls=null,us=null;function $g(e){var r=ns(e);if(r&&(e=r.stateNode)){var a=e[ke]||null;t:switch(e=r.stateNode,r.type){case"input":if(Fc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var o=a[r];if(o!==e&&o.form===e.form){var u=o[ke]||null;if(!u)throw Error(i(90));Fc(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(r=0;r<a.length;r++)o=a[r],o.form===e.form&&Vg(o)}break t;case"textarea":jg(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&ss(e,!!a.multiple,r,!1)}}}var ef=!1;function Xg(e,r,a){if(ef)return e(r,a);ef=!0;try{var o=e(r);return o}finally{if(ef=!1,(ls!==null||us!==null)&&(wu(),ls&&(r=ls,e=us,us=ls=null,$g(r),e)))for(r=0;r<e.length;r++)$g(e[r])}}function uo(e,r){var a=e.stateNode;if(a===null)return null;var o=a[ke]||null;if(o===null)return null;a=o[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nf=!1;if(ir)try{var co={};Object.defineProperty(co,"passive",{get:function(){nf=!0}}),window.addEventListener("test",co,co),window.removeEventListener("test",co,co)}catch{nf=!1}var $i=null,rf=null,Jl=null;function Zg(){if(Jl)return Jl;var e,r=rf,a=r.length,o,u="value"in $i?$i.value:$i.textContent,f=u.length;for(e=0;e<a&&r[e]===u[e];e++);var m=a-e;for(o=1;o<=m&&r[a-o]===u[f-o];o++);return Jl=u.slice(e,1<o?1-o:void 0)}function ql(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Pl(){return!0}function Fg(){return!1}function Ce(e){function r(a,o,u,f,m){this._reactName=a,this._targetInst=u,this.type=o,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Pl:Fg,this.isPropagationStopped=Fg,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),r}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vl=Ce(Da),fo=b({},Da,{view:0,detail:0}),ab=Ce(fo),af,sf,ho,Hl=b({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ho&&(ho&&e.type==="mousemove"?(af=e.screenX-ho.screenX,sf=e.screenY-ho.screenY):sf=af=0,ho=e),af)},movementY:function(e){return"movementY"in e?e.movementY:sf}}),Qg=Ce(Hl),sb=b({},Hl,{dataTransfer:0}),ob=Ce(sb),lb=b({},fo,{relatedTarget:0}),of=Ce(lb),ub=b({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),cb=Ce(ub),fb=b({},Da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hb=Ce(fb),db=b({},Da,{data:0}),_g=Ce(db),gb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pb(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=yb[e])?!!r[e]:!1}function lf(){return pb}var vb=b({},fo,{key:function(e){if(e.key){var r=gb[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=ql(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lf,charCode:function(e){return e.type==="keypress"?ql(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ql(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sb=Ce(vb),bb=b({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wg=Ce(bb),Tb=b({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lf}),wb=Ce(Tb),Ab=b({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eb=Ce(Ab),xb=b({},Hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nb=Ce(xb),Db=b({},Da,{newState:0,oldState:0}),Ob=Ce(Db),kb=[9,13,27,32],uf=ir&&"CompositionEvent"in window,go=null;ir&&"documentMode"in document&&(go=document.documentMode);var Cb=ir&&"TextEvent"in window&&!go,tm=ir&&(!uf||go&&8<go&&11>=go),em=" ",nm=!1;function rm(e,r){switch(e){case"keyup":return kb.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function im(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cs=!1;function Ib(e,r){switch(e){case"compositionend":return im(r);case"keypress":return r.which!==32?null:(nm=!0,em);case"textInput":return e=r.data,e===em&&nm?null:e;default:return null}}function Rb(e,r){if(cs)return e==="compositionend"||!uf&&rm(e,r)?(e=Zg(),Jl=rf=$i=null,cs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return tm&&r.locale!=="ko"?null:r.data;default:return null}}var Bb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function am(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Bb[e.type]:r==="textarea"}function sm(e,r,a,o){ls?us?us.push(o):us=[o]:ls=o,r=Ou(r,"onChange"),0<r.length&&(a=new Vl("onChange","change",null,a,o),e.push({event:a,listeners:r}))}var mo=null,yo=null;function zb(e){Pp(e,0)}function jl(e){var r=lo(e);if(Vg(r))return e}function om(e,r){if(e==="change")return r}var lm=!1;if(ir){var cf;if(ir){var ff="oninput"in document;if(!ff){var um=document.createElement("div");um.setAttribute("oninput","return;"),ff=typeof um.oninput=="function"}cf=ff}else cf=!1;lm=cf&&(!document.documentMode||9<document.documentMode)}function cm(){mo&&(mo.detachEvent("onpropertychange",fm),yo=mo=null)}function fm(e){if(e.propertyName==="value"&&jl(yo)){var r=[];sm(r,yo,e,tf(e)),Xg(zb,r)}}function Mb(e,r,a){e==="focusin"?(cm(),mo=r,yo=a,mo.attachEvent("onpropertychange",fm)):e==="focusout"&&cm()}function Ub(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jl(yo)}function Lb(e,r){if(e==="click")return jl(r)}function Jb(e,r){if(e==="input"||e==="change")return jl(r)}function qb(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Ve=typeof Object.is=="function"?Object.is:qb;function po(e,r){if(Ve(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),o=Object.keys(r);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var u=a[o];if(!qc.call(r,u)||!Ve(e[u],r[u]))return!1}return!0}function hm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dm(e,r){var a=hm(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=r&&o>=r)return{node:a,offset:r-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=hm(a)}}function gm(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?gm(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function mm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=Ul(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Ul(e.document)}return r}function hf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var Pb=ir&&"documentMode"in document&&11>=document.documentMode,fs=null,df=null,vo=null,gf=!1;function ym(e,r,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||fs==null||fs!==Ul(o)||(o=fs,"selectionStart"in o&&hf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),vo&&po(vo,o)||(vo=o,o=Ou(df,"onSelect"),0<o.length&&(r=new Vl("onSelect","select",null,r,a),e.push({event:r,listeners:o}),r.target=fs)))}function Oa(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var hs={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},mf={},pm={};ir&&(pm=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function ka(e){if(mf[e])return mf[e];if(!hs[e])return e;var r=hs[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in pm)return mf[e]=r[a];return e}var vm=ka("animationend"),Sm=ka("animationiteration"),bm=ka("animationstart"),Vb=ka("transitionrun"),Hb=ka("transitionstart"),jb=ka("transitioncancel"),Tm=ka("transitionend"),wm=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function xn(e,r){wm.set(e,r),Na(r,[e])}var Am=new WeakMap;function en(e,r){if(typeof e=="object"&&e!==null){var a=Am.get(e);return a!==void 0?a:(r={value:e,source:r,stack:qg(r)},Am.set(e,r),r)}return{value:e,source:r,stack:qg(r)}}var nn=[],ds=0,pf=0;function Kl(){for(var e=ds,r=pf=ds=0;r<e;){var a=nn[r];nn[r++]=null;var o=nn[r];nn[r++]=null;var u=nn[r];nn[r++]=null;var f=nn[r];if(nn[r++]=null,o!==null&&u!==null){var m=o.pending;m===null?u.next=u:(u.next=m.next,m.next=u),o.pending=u}f!==0&&Em(a,u,f)}}function Yl(e,r,a,o){nn[ds++]=e,nn[ds++]=r,nn[ds++]=a,nn[ds++]=o,pf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function vf(e,r,a,o){return Yl(e,r,a,o),Gl(e)}function gs(e,r){return Yl(e,null,null,r),Gl(e)}function Em(e,r,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var u=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&r!==null&&(u=31-Pe(a),e=f.hiddenUpdates,o=e[u],o===null?e[u]=[r]:o.push(r),r.lane=a|536870912),f):null}function Gl(e){if(50<jo)throw jo=0,Eh=null,Error(i(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var ms={};function Kb(e,r,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(e,r,a,o){return new Kb(e,r,a,o)}function Sf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ar(e,r){var a=e.alternate;return a===null?(a=He(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function xm(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function $l(e,r,a,o,u,f){var m=0;if(o=e,typeof e=="function")Sf(e)&&(m=1);else if(typeof e=="string")m=GT(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Et:return e=He(31,a,r,u),e.elementType=Et,e.lanes=f,e;case U:return Ca(a.children,u,f,r);case V:m=8,u|=24;break;case K:return e=He(12,a,r,u|2),e.elementType=K,e.lanes=f,e;case et:return e=He(13,a,r,u),e.elementType=et,e.lanes=f,e;case nt:return e=He(19,a,r,u),e.elementType=nt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:case ct:m=10;break t;case lt:m=9;break t;case mt:m=11;break t;case yt:m=14;break t;case At:m=16,o=null;break t}m=29,a=Error(i(130,e===null?"null":typeof e,"")),o=null}return r=He(m,a,r,u),r.elementType=e,r.type=o,r.lanes=f,r}function Ca(e,r,a,o){return e=He(7,e,o,r),e.lanes=a,e}function bf(e,r,a){return e=He(6,e,null,r),e.lanes=a,e}function Tf(e,r,a){return r=He(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var ys=[],ps=0,Xl=null,Zl=0,rn=[],an=0,Ia=null,sr=1,or="";function Ra(e,r){ys[ps++]=Zl,ys[ps++]=Xl,Xl=e,Zl=r}function Nm(e,r,a){rn[an++]=sr,rn[an++]=or,rn[an++]=Ia,Ia=e;var o=sr;e=or;var u=32-Pe(o)-1;o&=~(1<<u),a+=1;var f=32-Pe(r)+u;if(30<f){var m=u-u%5;f=(o&(1<<m)-1).toString(32),o>>=m,u-=m,sr=1<<32-Pe(r)+u|a<<u|o,or=f+e}else sr=1<<f|a<<u|o,or=e}function wf(e){e.return!==null&&(Ra(e,1),Nm(e,1,0))}function Af(e){for(;e===Xl;)Xl=ys[--ps],ys[ps]=null,Zl=ys[--ps],ys[ps]=null;for(;e===Ia;)Ia=rn[--an],rn[an]=null,or=rn[--an],rn[an]=null,sr=rn[--an],rn[an]=null}var De=null,$t=null,Ot=!1,Ba=null,Jn=!1,Ef=Error(i(519));function za(e){var r=Error(i(418,""));throw To(en(r,e)),Ef}function Dm(e){var r=e.stateNode,a=e.type,o=e.memoizedProps;switch(r[Te]=e,r[ke]=o,a){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(a=0;a<Yo.length;a++)vt(Yo[a],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":vt("invalid",r),Hg(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ml(r);break;case"select":vt("invalid",r);break;case"textarea":vt("invalid",r),Kg(r,o.value,o.defaultValue,o.children),Ml(r)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||o.suppressHydrationWarning===!0||Kp(r.textContent,a)?(o.popover!=null&&(vt("beforetoggle",r),vt("toggle",r)),o.onScroll!=null&&vt("scroll",r),o.onScrollEnd!=null&&vt("scrollend",r),o.onClick!=null&&(r.onclick=ku),r=!0):r=!1,r||za(e)}function Om(e){for(De=e.return;De;)switch(De.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:De=De.return}}function So(e){if(e!==De)return!1;if(!Ot)return Om(e),Ot=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ph(e.type,e.memoizedProps)),a=!a),a&&$t&&za(e),Om(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));t:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(r===0){$t=Dn(e.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;e=e.nextSibling}$t=null}}else r===27?(r=$t,ua(e.type)?(e=Kh,Kh=null,$t=e):$t=r):$t=De?Dn(e.stateNode.nextSibling):null;return!0}function bo(){$t=De=null,Ot=!1}function km(){var e=Ba;return e!==null&&(Be===null?Be=e:Be.push.apply(Be,e),Ba=null),e}function To(e){Ba===null?Ba=[e]:Ba.push(e)}var xf=P(null),Ma=null,lr=null;function Xi(e,r,a){Y(xf,r._currentValue),r._currentValue=a}function ur(e){e._currentValue=xf.current,$(xf)}function Nf(e,r,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),e===a)break;e=e.return}}function Df(e,r,a,o){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var m=u.child;f=f.firstContext;t:for(;f!==null;){var S=f;f=u;for(var T=0;T<r.length;T++)if(S.context===r[T]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),Nf(f.return,a,e),o||(m=null);break t}f=S.next}}else if(u.tag===18){if(m=u.return,m===null)throw Error(i(341));m.lanes|=a,f=m.alternate,f!==null&&(f.lanes|=a),Nf(m,a,e),m=null}else m=u.child;if(m!==null)m.return=u;else for(m=u;m!==null;){if(m===e){m=null;break}if(u=m.sibling,u!==null){u.return=m.return,m=u;break}m=m.return}u=m}}function wo(e,r,a,o){e=null;for(var u=r,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var m=u.alternate;if(m===null)throw Error(i(387));if(m=m.memoizedProps,m!==null){var S=u.type;Ve(u.pendingProps.value,m.value)||(e!==null?e.push(S):e=[S])}}else if(u===Je.current){if(m=u.alternate,m===null)throw Error(i(387));m.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Qo):e=[Qo])}u=u.return}e!==null&&Df(r,e,a,o),r.flags|=262144}function Fl(e){for(e=e.firstContext;e!==null;){if(!Ve(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ua(e){Ma=e,lr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function we(e){return Cm(Ma,e)}function Ql(e,r){return Ma===null&&Ua(e),Cm(e,r)}function Cm(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},lr===null){if(e===null)throw Error(i(308));lr=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else lr=lr.next=r;return a}var Yb=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},Gb=s.unstable_scheduleCallback,$b=s.unstable_NormalPriority,se={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new Yb,data:new Map,refCount:0}}function Ao(e){e.refCount--,e.refCount===0&&Gb($b,function(){e.controller.abort()})}var Eo=null,kf=0,vs=0,Ss=null;function Xb(e,r){if(Eo===null){var a=Eo=[];kf=0,vs=Ih(),Ss={status:"pending",value:void 0,then:function(o){a.push(o)}}}return kf++,r.then(Im,Im),r}function Im(){if(--kf===0&&Eo!==null){Ss!==null&&(Ss.status="fulfilled");var e=Eo;Eo=null,vs=0,Ss=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function Zb(e,r){var a=[],o={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){o.status="fulfilled",o.value=r;for(var u=0;u<a.length;u++)(0,a[u])(r)},function(u){for(o.status="rejected",o.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),o}var Rm=L.S;L.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Xb(e,r),Rm!==null&&Rm(e,r)};var La=P(null);function Cf(){var e=La.current;return e!==null?e:Pt.pooledCache}function _l(e,r){r===null?Y(La,La.current):Y(La,r.pool)}function Bm(){var e=Cf();return e===null?null:{parent:se._currentValue,pool:e}}var xo=Error(i(460)),zm=Error(i(474)),Wl=Error(i(542)),If={then:function(){}};function Mm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tu(){}function Um(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(tu,tu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Jm(e),e;default:if(typeof r.status=="string")r.then(tu,tu);else{if(e=Pt,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=r,e.status="pending",e.then(function(o){if(r.status==="pending"){var u=r;u.status="fulfilled",u.value=o}},function(o){if(r.status==="pending"){var u=r;u.status="rejected",u.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Jm(e),e}throw No=r,xo}}var No=null;function Lm(){if(No===null)throw Error(i(459));var e=No;return No=null,e}function Jm(e){if(e===xo||e===Wl)throw Error(i(483))}var Zi=!1;function Rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qi(e,r,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(It&2)!==0){var u=o.pending;return u===null?r.next=r:(r.next=u.next,u.next=r),o.pending=r,r=Gl(e),Em(e,null,a),r}return Yl(e,o,r,a),Gl(e)}function Do(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var o=r.lanes;o&=e.pendingLanes,a|=o,r.lanes=a,Ig(e,a)}}function zf(e,r){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=m:f=f.next=m,a=a.next}while(a!==null);f===null?u=f=r:f=f.next=r}else u=f=r;a={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var Mf=!1;function Oo(){if(Mf){var e=Ss;if(e!==null)throw e}}function ko(e,r,a,o){Mf=!1;var u=e.updateQueue;Zi=!1;var f=u.firstBaseUpdate,m=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var T=S,I=T.next;T.next=null,m===null?f=I:m.next=I,m=T;var M=e.alternate;M!==null&&(M=M.updateQueue,S=M.lastBaseUpdate,S!==m&&(S===null?M.firstBaseUpdate=I:S.next=I,M.lastBaseUpdate=T))}if(f!==null){var q=u.baseState;m=0,M=I=T=null,S=f;do{var R=S.lane&-536870913,B=R!==S.lane;if(B?(wt&R)===R:(o&R)===R){R!==0&&R===vs&&(Mf=!0),M!==null&&(M=M.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ot=e,it=S;R=r;var Mt=a;switch(it.tag){case 1:if(ot=it.payload,typeof ot=="function"){q=ot.call(Mt,q,R);break t}q=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=it.payload,R=typeof ot=="function"?ot.call(Mt,q,R):ot,R==null)break t;q=b({},q,R);break t;case 2:Zi=!0}}R=S.callback,R!==null&&(e.flags|=64,B&&(e.flags|=8192),B=u.callbacks,B===null?u.callbacks=[R]:B.push(R))}else B={lane:R,tag:S.tag,payload:S.payload,callback:S.callback,next:null},M===null?(I=M=B,T=q):M=M.next=B,m|=R;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;B=S,S=B.next,B.next=null,u.lastBaseUpdate=B,u.shared.pending=null}}while(!0);M===null&&(T=q),u.baseState=T,u.firstBaseUpdate=I,u.lastBaseUpdate=M,f===null&&(u.shared.lanes=0),aa|=m,e.lanes=m,e.memoizedState=q}}function qm(e,r){if(typeof e!="function")throw Error(i(191,e));e.call(r)}function Pm(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)qm(a[e],r)}var bs=P(null),eu=P(0);function Vm(e,r){e=yr,Y(eu,e),Y(bs,r),yr=e|r.baseLanes}function Uf(){Y(eu,yr),Y(bs,bs.current)}function Lf(){yr=eu.current,$(bs),$(eu)}var _i=0,dt=null,Bt=null,ne=null,nu=!1,Ts=!1,Ja=!1,ru=0,Co=0,ws=null,Fb=0;function _t(){throw Error(i(321))}function Jf(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!Ve(e[a],r[a]))return!1;return!0}function qf(e,r,a,o,u,f){return _i=f,dt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,L.H=e===null||e.memoizedState===null?Ey:xy,Ja=!1,f=a(o,u),Ja=!1,Ts&&(f=jm(r,a,o,u)),Hm(e),f}function Hm(e){L.H=uu;var r=Bt!==null&&Bt.next!==null;if(_i=0,ne=Bt=dt=null,nu=!1,Co=0,ws=null,r)throw Error(i(300));e===null||fe||(e=e.dependencies,e!==null&&Fl(e)&&(fe=!0))}function jm(e,r,a,o){dt=e;var u=0;do{if(Ts&&(ws=null),Co=0,Ts=!1,25<=u)throw Error(i(301));if(u+=1,ne=Bt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=rT,f=r(a,o)}while(Ts);return f}function Qb(){var e=L.H,r=e.useState()[0];return r=typeof r.then=="function"?Io(r):r,e=e.useState()[0],(Bt!==null?Bt.memoizedState:null)!==e&&(dt.flags|=1024),r}function Pf(){var e=ru!==0;return ru=0,e}function Vf(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function Hf(e){if(nu){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}nu=!1}_i=0,ne=Bt=dt=null,Ts=!1,Co=ru=0,ws=null}function Ie(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ne===null?dt.memoizedState=ne=e:ne=ne.next=e,ne}function re(){if(Bt===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var r=ne===null?dt.memoizedState:ne.next;if(r!==null)ne=r,Bt=e;else{if(e===null)throw dt.alternate===null?Error(i(467)):Error(i(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},ne===null?dt.memoizedState=ne=e:ne=ne.next=e}return ne}function jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Io(e){var r=Co;return Co+=1,ws===null&&(ws=[]),e=Um(ws,e,r),r=dt,(ne===null?r.memoizedState:ne.next)===null&&(r=r.alternate,L.H=r===null||r.memoizedState===null?Ey:xy),e}function iu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Io(e);if(e.$$typeof===ct)return we(e)}throw Error(i(438,String(e)))}function Kf(e){var r=null,a=dt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var o=dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(u){return u.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=jf(),dt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),o=0;o<e;o++)a[o]=ae;return r.index++,a}function cr(e,r){return typeof r=="function"?r(e):r}function au(e){var r=re();return Yf(r,Bt,e)}function Yf(e,r,a){var o=e.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=a;var u=e.baseQueue,f=o.pending;if(f!==null){if(u!==null){var m=u.next;u.next=f.next,f.next=m}r.baseQueue=u=f,o.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{r=u.next;var S=m=null,T=null,I=r,M=!1;do{var q=I.lane&-536870913;if(q!==I.lane?(wt&q)===q:(_i&q)===q){var R=I.revertLane;if(R===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),q===vs&&(M=!0);else if((_i&R)===R){I=I.next,R===vs&&(M=!0);continue}else q={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},T===null?(S=T=q,m=f):T=T.next=q,dt.lanes|=R,aa|=R;q=I.action,Ja&&a(f,q),f=I.hasEagerState?I.eagerState:a(f,q)}else R={lane:q,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},T===null?(S=T=R,m=f):T=T.next=R,dt.lanes|=q,aa|=q;I=I.next}while(I!==null&&I!==r);if(T===null?m=f:T.next=S,!Ve(f,e.memoizedState)&&(fe=!0,M&&(a=Ss,a!==null)))throw a;e.memoizedState=f,e.baseState=m,e.baseQueue=T,o.lastRenderedState=f}return u===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Gf(e){var r=re(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var o=a.dispatch,u=a.pending,f=r.memoizedState;if(u!==null){a.pending=null;var m=u=u.next;do f=e(f,m.action),m=m.next;while(m!==u);Ve(f,r.memoizedState)||(fe=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,o]}function Km(e,r,a){var o=dt,u=re(),f=Ot;if(f){if(a===void 0)throw Error(i(407));a=a()}else a=r();var m=!Ve((Bt||u).memoizedState,a);m&&(u.memoizedState=a,fe=!0),u=u.queue;var S=$m.bind(null,o,u,e);if(Ro(2048,8,S,[e]),u.getSnapshot!==r||m||ne!==null&&ne.memoizedState.tag&1){if(o.flags|=2048,As(9,su(),Gm.bind(null,o,u,a,r),null),Pt===null)throw Error(i(349));f||(_i&124)!==0||Ym(o,r,a)}return a}function Ym(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=dt.updateQueue,r===null?(r=jf(),dt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Gm(e,r,a,o){r.value=a,r.getSnapshot=o,Xm(r)&&Zm(e)}function $m(e,r,a){return a(function(){Xm(r)&&Zm(e)})}function Xm(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!Ve(e,a)}catch{return!0}}function Zm(e){var r=gs(e,2);r!==null&&$e(r,e,2)}function $f(e){var r=Ie();if(typeof e=="function"){var a=e;if(e=a(),Ja){Yi(!0);try{a()}finally{Yi(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:e},r}function Fm(e,r,a,o){return e.baseState=a,Yf(e,Bt,typeof o=="function"?o:cr)}function _b(e,r,a,o,u){if(lu(e))throw Error(i(485));if(e=r.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){f.listeners.push(m)}};L.T!==null?a(!0):f.isTransition=!1,o(f),a=r.pending,a===null?(f.next=r.pending=f,Qm(r,f)):(f.next=a.next,r.pending=a.next=f)}}function Qm(e,r){var a=r.action,o=r.payload,u=e.state;if(r.isTransition){var f=L.T,m={};L.T=m;try{var S=a(u,o),T=L.S;T!==null&&T(m,S),_m(e,r,S)}catch(I){Xf(e,r,I)}finally{L.T=f}}else try{f=a(u,o),_m(e,r,f)}catch(I){Xf(e,r,I)}}function _m(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Wm(e,r,o)},function(o){return Xf(e,r,o)}):Wm(e,r,a)}function Wm(e,r,a){r.status="fulfilled",r.value=a,ty(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,Qm(e,a)))}function Xf(e,r,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=a,ty(r),r=r.next;while(r!==o)}e.action=null}function ty(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function ey(e,r){return r}function ny(e,r){if(Ot){var a=Pt.formState;if(a!==null){t:{var o=dt;if(Ot){if($t){e:{for(var u=$t,f=Jn;u.nodeType!==8;){if(!f){u=null;break e}if(u=Dn(u.nextSibling),u===null){u=null;break e}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){$t=Dn(u.nextSibling),o=u.data==="F!";break t}}za(o)}o=!1}o&&(r=a[0])}}return a=Ie(),a.memoizedState=a.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ey,lastRenderedState:r},a.queue=o,a=Ty.bind(null,dt,o),o.dispatch=a,o=$f(!1),f=Wf.bind(null,dt,!1,o.queue),o=Ie(),u={state:r,dispatch:null,action:e,pending:null},o.queue=u,a=_b.bind(null,dt,u,f,a),u.dispatch=a,o.memoizedState=e,[r,a,!1]}function ry(e){var r=re();return iy(r,Bt,e)}function iy(e,r,a){if(r=Yf(e,r,ey)[0],e=au(cr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=Io(r)}catch(m){throw m===xo?Wl:m}else o=r;r=re();var u=r.queue,f=u.dispatch;return a!==r.memoizedState&&(dt.flags|=2048,As(9,su(),Wb.bind(null,u,a),null)),[o,f,e]}function Wb(e,r){e.action=r}function ay(e){var r=re(),a=Bt;if(a!==null)return iy(r,a,e);re(),r=r.memoizedState,a=re();var o=a.queue.dispatch;return a.memoizedState=e,[r,o,!1]}function As(e,r,a,o){return e={tag:e,create:a,deps:o,inst:r,next:null},r=dt.updateQueue,r===null&&(r=jf(),dt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,r.lastEffect=e),e}function su(){return{destroy:void 0,resource:void 0}}function sy(){return re().memoizedState}function ou(e,r,a,o){var u=Ie();o=o===void 0?null:o,dt.flags|=e,u.memoizedState=As(1|r,su(),a,o)}function Ro(e,r,a,o){var u=re();o=o===void 0?null:o;var f=u.memoizedState.inst;Bt!==null&&o!==null&&Jf(o,Bt.memoizedState.deps)?u.memoizedState=As(r,f,a,o):(dt.flags|=e,u.memoizedState=As(1|r,f,a,o))}function oy(e,r){ou(8390656,8,e,r)}function ly(e,r){Ro(2048,8,e,r)}function uy(e,r){return Ro(4,2,e,r)}function cy(e,r){return Ro(4,4,e,r)}function fy(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function hy(e,r,a){a=a!=null?a.concat([e]):null,Ro(4,4,fy.bind(null,r,e),a)}function Zf(){}function dy(e,r){var a=re();r=r===void 0?null:r;var o=a.memoizedState;return r!==null&&Jf(r,o[1])?o[0]:(a.memoizedState=[e,r],e)}function gy(e,r){var a=re();r=r===void 0?null:r;var o=a.memoizedState;if(r!==null&&Jf(r,o[1]))return o[0];if(o=e(),Ja){Yi(!0);try{e()}finally{Yi(!1)}}return a.memoizedState=[o,r],o}function Ff(e,r,a){return a===void 0||(_i&1073741824)!==0?e.memoizedState=r:(e.memoizedState=a,e=pp(),dt.lanes|=e,aa|=e,a)}function my(e,r,a,o){return Ve(a,r)?a:bs.current!==null?(e=Ff(e,a,o),Ve(e,r)||(fe=!0),e):(_i&42)===0?(fe=!0,e.memoizedState=a):(e=pp(),dt.lanes|=e,aa|=e,r)}function yy(e,r,a,o,u){var f=G.p;G.p=f!==0&&8>f?f:8;var m=L.T,S={};L.T=S,Wf(e,!1,r,a);try{var T=u(),I=L.S;if(I!==null&&I(S,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var M=Zb(T,o);Bo(e,r,M,Ge(e))}else Bo(e,r,o,Ge(e))}catch(q){Bo(e,r,{then:function(){},status:"rejected",reason:q},Ge())}finally{G.p=f,L.T=m}}function tT(){}function Qf(e,r,a,o){if(e.tag!==5)throw Error(i(476));var u=py(e).queue;yy(e,u,r,st,a===null?tT:function(){return vy(e),a(o)})}function py(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:st},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function vy(e){var r=py(e).next.queue;Bo(e,r,{},Ge())}function _f(){return we(Qo)}function Sy(){return re().memoizedState}function by(){return re().memoizedState}function eT(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=Ge();e=Fi(a);var o=Qi(r,e,a);o!==null&&($e(o,r,a),Do(o,r,a)),r={cache:Of()},e.payload=r;return}r=r.return}}function nT(e,r,a){var o=Ge();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},lu(e)?wy(r,a):(a=vf(e,r,a,o),a!==null&&($e(a,e,o),Ay(a,r,o)))}function Ty(e,r,a){var o=Ge();Bo(e,r,a,o)}function Bo(e,r,a,o){var u={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(lu(e))wy(r,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var m=r.lastRenderedState,S=f(m,a);if(u.hasEagerState=!0,u.eagerState=S,Ve(S,m))return Yl(e,r,u,0),Pt===null&&Kl(),!1}catch{}finally{}if(a=vf(e,r,u,o),a!==null)return $e(a,e,o),Ay(a,r,o),!0}return!1}function Wf(e,r,a,o){if(o={lane:2,revertLane:Ih(),action:o,hasEagerState:!1,eagerState:null,next:null},lu(e)){if(r)throw Error(i(479))}else r=vf(e,a,o,2),r!==null&&$e(r,e,2)}function lu(e){var r=e.alternate;return e===dt||r!==null&&r===dt}function wy(e,r){Ts=nu=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function Ay(e,r,a){if((a&4194048)!==0){var o=r.lanes;o&=e.pendingLanes,a|=o,r.lanes=a,Ig(e,a)}}var uu={readContext:we,use:iu,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},Ey={readContext:we,use:iu,useCallback:function(e,r){return Ie().memoizedState=[e,r===void 0?null:r],e},useContext:we,useEffect:oy,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,ou(4194308,4,fy.bind(null,r,e),a)},useLayoutEffect:function(e,r){return ou(4194308,4,e,r)},useInsertionEffect:function(e,r){ou(4,2,e,r)},useMemo:function(e,r){var a=Ie();r=r===void 0?null:r;var o=e();if(Ja){Yi(!0);try{e()}finally{Yi(!1)}}return a.memoizedState=[o,r],o},useReducer:function(e,r,a){var o=Ie();if(a!==void 0){var u=a(r);if(Ja){Yi(!0);try{a(r)}finally{Yi(!1)}}}else u=r;return o.memoizedState=o.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},o.queue=e,e=e.dispatch=nT.bind(null,dt,e),[o.memoizedState,e]},useRef:function(e){var r=Ie();return e={current:e},r.memoizedState=e},useState:function(e){e=$f(e);var r=e.queue,a=Ty.bind(null,dt,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(e,r){var a=Ie();return Ff(a,e,r)},useTransition:function(){var e=$f(!1);return e=yy.bind(null,dt,e.queue,!0,!1),Ie().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var o=dt,u=Ie();if(Ot){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),Pt===null)throw Error(i(349));(wt&124)!==0||Ym(o,r,a)}u.memoizedState=a;var f={value:a,getSnapshot:r};return u.queue=f,oy($m.bind(null,o,f,e),[e]),o.flags|=2048,As(9,su(),Gm.bind(null,o,f,a,r),null),a},useId:function(){var e=Ie(),r=Pt.identifierPrefix;if(Ot){var a=or,o=sr;a=(o&~(1<<32-Pe(o)-1)).toString(32)+a,r="«"+r+"R"+a,a=ru++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=Fb++,r="«"+r+"r"+a.toString(32)+"»";return e.memoizedState=r},useHostTransitionStatus:_f,useFormState:ny,useActionState:ny,useOptimistic:function(e){var r=Ie();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Wf.bind(null,dt,!0,a),a.dispatch=r,[e,r]},useMemoCache:Kf,useCacheRefresh:function(){return Ie().memoizedState=eT.bind(null,dt)}},xy={readContext:we,use:iu,useCallback:dy,useContext:we,useEffect:ly,useImperativeHandle:hy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:gy,useReducer:au,useRef:sy,useState:function(){return au(cr)},useDebugValue:Zf,useDeferredValue:function(e,r){var a=re();return my(a,Bt.memoizedState,e,r)},useTransition:function(){var e=au(cr)[0],r=re().memoizedState;return[typeof e=="boolean"?e:Io(e),r]},useSyncExternalStore:Km,useId:Sy,useHostTransitionStatus:_f,useFormState:ry,useActionState:ry,useOptimistic:function(e,r){var a=re();return Fm(a,Bt,e,r)},useMemoCache:Kf,useCacheRefresh:by},rT={readContext:we,use:iu,useCallback:dy,useContext:we,useEffect:ly,useImperativeHandle:hy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:gy,useReducer:Gf,useRef:sy,useState:function(){return Gf(cr)},useDebugValue:Zf,useDeferredValue:function(e,r){var a=re();return Bt===null?Ff(a,e,r):my(a,Bt.memoizedState,e,r)},useTransition:function(){var e=Gf(cr)[0],r=re().memoizedState;return[typeof e=="boolean"?e:Io(e),r]},useSyncExternalStore:Km,useId:Sy,useHostTransitionStatus:_f,useFormState:ay,useActionState:ay,useOptimistic:function(e,r){var a=re();return Bt!==null?Fm(a,Bt,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Kf,useCacheRefresh:by},Es=null,zo=0;function cu(e){var r=zo;return zo+=1,Es===null&&(Es=[]),Um(Es,e,r)}function Mo(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function fu(e,r){throw r.$$typeof===E?Error(i(525)):(e=Object.prototype.toString.call(r),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function Ny(e){var r=e._init;return r(e._payload)}function Dy(e){function r(N,A){if(e){var k=N.deletions;k===null?(N.deletions=[A],N.flags|=16):k.push(A)}}function a(N,A){if(!e)return null;for(;A!==null;)r(N,A),A=A.sibling;return null}function o(N){for(var A=new Map;N!==null;)N.key!==null?A.set(N.key,N):A.set(N.index,N),N=N.sibling;return A}function u(N,A){return N=ar(N,A),N.index=0,N.sibling=null,N}function f(N,A,k){return N.index=k,e?(k=N.alternate,k!==null?(k=k.index,k<A?(N.flags|=67108866,A):k):(N.flags|=67108866,A)):(N.flags|=1048576,A)}function m(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function S(N,A,k,J){return A===null||A.tag!==6?(A=bf(k,N.mode,J),A.return=N,A):(A=u(A,k),A.return=N,A)}function T(N,A,k,J){var Z=k.type;return Z===U?M(N,A,k.props.children,J,k.key):A!==null&&(A.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===At&&Ny(Z)===A.type)?(A=u(A,k.props),Mo(A,k),A.return=N,A):(A=$l(k.type,k.key,k.props,null,N.mode,J),Mo(A,k),A.return=N,A)}function I(N,A,k,J){return A===null||A.tag!==4||A.stateNode.containerInfo!==k.containerInfo||A.stateNode.implementation!==k.implementation?(A=Tf(k,N.mode,J),A.return=N,A):(A=u(A,k.children||[]),A.return=N,A)}function M(N,A,k,J,Z){return A===null||A.tag!==7?(A=Ca(k,N.mode,J,Z),A.return=N,A):(A=u(A,k),A.return=N,A)}function q(N,A,k){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=bf(""+A,N.mode,k),A.return=N,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case C:return k=$l(A.type,A.key,A.props,null,N.mode,k),Mo(k,A),k.return=N,k;case O:return A=Tf(A,N.mode,k),A.return=N,A;case At:var J=A._init;return A=J(A._payload),q(N,A,k)}if(be(A)||Qt(A))return A=Ca(A,N.mode,k,null),A.return=N,A;if(typeof A.then=="function")return q(N,cu(A),k);if(A.$$typeof===ct)return q(N,Ql(N,A),k);fu(N,A)}return null}function R(N,A,k,J){var Z=A!==null?A.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return Z!==null?null:S(N,A,""+k,J);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case C:return k.key===Z?T(N,A,k,J):null;case O:return k.key===Z?I(N,A,k,J):null;case At:return Z=k._init,k=Z(k._payload),R(N,A,k,J)}if(be(k)||Qt(k))return Z!==null?null:M(N,A,k,J,null);if(typeof k.then=="function")return R(N,A,cu(k),J);if(k.$$typeof===ct)return R(N,A,Ql(N,k),J);fu(N,k)}return null}function B(N,A,k,J,Z){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return N=N.get(k)||null,S(A,N,""+J,Z);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return N=N.get(J.key===null?k:J.key)||null,T(A,N,J,Z);case O:return N=N.get(J.key===null?k:J.key)||null,I(A,N,J,Z);case At:var gt=J._init;return J=gt(J._payload),B(N,A,k,J,Z)}if(be(J)||Qt(J))return N=N.get(k)||null,M(A,N,J,Z,null);if(typeof J.then=="function")return B(N,A,k,cu(J),Z);if(J.$$typeof===ct)return B(N,A,k,Ql(A,J),Z);fu(A,J)}return null}function ot(N,A,k,J){for(var Z=null,gt=null,Q=A,at=A=0,de=null;Q!==null&&at<k.length;at++){Q.index>at?(de=Q,Q=null):de=Q.sibling;var Dt=R(N,Q,k[at],J);if(Dt===null){Q===null&&(Q=de);break}e&&Q&&Dt.alternate===null&&r(N,Q),A=f(Dt,A,at),gt===null?Z=Dt:gt.sibling=Dt,gt=Dt,Q=de}if(at===k.length)return a(N,Q),Ot&&Ra(N,at),Z;if(Q===null){for(;at<k.length;at++)Q=q(N,k[at],J),Q!==null&&(A=f(Q,A,at),gt===null?Z=Q:gt.sibling=Q,gt=Q);return Ot&&Ra(N,at),Z}for(Q=o(Q);at<k.length;at++)de=B(Q,N,at,k[at],J),de!==null&&(e&&de.alternate!==null&&Q.delete(de.key===null?at:de.key),A=f(de,A,at),gt===null?Z=de:gt.sibling=de,gt=de);return e&&Q.forEach(function(ga){return r(N,ga)}),Ot&&Ra(N,at),Z}function it(N,A,k,J){if(k==null)throw Error(i(151));for(var Z=null,gt=null,Q=A,at=A=0,de=null,Dt=k.next();Q!==null&&!Dt.done;at++,Dt=k.next()){Q.index>at?(de=Q,Q=null):de=Q.sibling;var ga=R(N,Q,Dt.value,J);if(ga===null){Q===null&&(Q=de);break}e&&Q&&ga.alternate===null&&r(N,Q),A=f(ga,A,at),gt===null?Z=ga:gt.sibling=ga,gt=ga,Q=de}if(Dt.done)return a(N,Q),Ot&&Ra(N,at),Z;if(Q===null){for(;!Dt.done;at++,Dt=k.next())Dt=q(N,Dt.value,J),Dt!==null&&(A=f(Dt,A,at),gt===null?Z=Dt:gt.sibling=Dt,gt=Dt);return Ot&&Ra(N,at),Z}for(Q=o(Q);!Dt.done;at++,Dt=k.next())Dt=B(Q,N,at,Dt.value,J),Dt!==null&&(e&&Dt.alternate!==null&&Q.delete(Dt.key===null?at:Dt.key),A=f(Dt,A,at),gt===null?Z=Dt:gt.sibling=Dt,gt=Dt);return e&&Q.forEach(function(iw){return r(N,iw)}),Ot&&Ra(N,at),Z}function Mt(N,A,k,J){if(typeof k=="object"&&k!==null&&k.type===U&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case C:t:{for(var Z=k.key;A!==null;){if(A.key===Z){if(Z=k.type,Z===U){if(A.tag===7){a(N,A.sibling),J=u(A,k.props.children),J.return=N,N=J;break t}}else if(A.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===At&&Ny(Z)===A.type){a(N,A.sibling),J=u(A,k.props),Mo(J,k),J.return=N,N=J;break t}a(N,A);break}else r(N,A);A=A.sibling}k.type===U?(J=Ca(k.props.children,N.mode,J,k.key),J.return=N,N=J):(J=$l(k.type,k.key,k.props,null,N.mode,J),Mo(J,k),J.return=N,N=J)}return m(N);case O:t:{for(Z=k.key;A!==null;){if(A.key===Z)if(A.tag===4&&A.stateNode.containerInfo===k.containerInfo&&A.stateNode.implementation===k.implementation){a(N,A.sibling),J=u(A,k.children||[]),J.return=N,N=J;break t}else{a(N,A);break}else r(N,A);A=A.sibling}J=Tf(k,N.mode,J),J.return=N,N=J}return m(N);case At:return Z=k._init,k=Z(k._payload),Mt(N,A,k,J)}if(be(k))return ot(N,A,k,J);if(Qt(k)){if(Z=Qt(k),typeof Z!="function")throw Error(i(150));return k=Z.call(k),it(N,A,k,J)}if(typeof k.then=="function")return Mt(N,A,cu(k),J);if(k.$$typeof===ct)return Mt(N,A,Ql(N,k),J);fu(N,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,A!==null&&A.tag===6?(a(N,A.sibling),J=u(A,k),J.return=N,N=J):(a(N,A),J=bf(k,N.mode,J),J.return=N,N=J),m(N)):a(N,A)}return function(N,A,k,J){try{zo=0;var Z=Mt(N,A,k,J);return Es=null,Z}catch(Q){if(Q===xo||Q===Wl)throw Q;var gt=He(29,Q,null,N.mode);return gt.lanes=J,gt.return=N,gt}finally{}}}var xs=Dy(!0),Oy=Dy(!1),sn=P(null),qn=null;function Wi(e){var r=e.alternate;Y(oe,oe.current&1),Y(sn,e),qn===null&&(r===null||bs.current!==null||r.memoizedState!==null)&&(qn=e)}function ky(e){if(e.tag===22){if(Y(oe,oe.current),Y(sn,e),qn===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(qn=e)}}else ta()}function ta(){Y(oe,oe.current),Y(sn,sn.current)}function fr(e){$(sn),qn===e&&(qn=null),$(oe)}var oe=P(0);function hu(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||jh(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function th(e,r,a,o){r=e.memoizedState,a=a(o,r),a=a==null?r:b({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var eh={enqueueSetState:function(e,r,a){e=e._reactInternals;var o=Ge(),u=Fi(o);u.payload=r,a!=null&&(u.callback=a),r=Qi(e,u,o),r!==null&&($e(r,e,o),Do(r,e,o))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var o=Ge(),u=Fi(o);u.tag=1,u.payload=r,a!=null&&(u.callback=a),r=Qi(e,u,o),r!==null&&($e(r,e,o),Do(r,e,o))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=Ge(),o=Fi(a);o.tag=2,r!=null&&(o.callback=r),r=Qi(e,o,a),r!==null&&($e(r,e,a),Do(r,e,a))}};function Cy(e,r,a,o,u,f,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,m):r.prototype&&r.prototype.isPureReactComponent?!po(a,o)||!po(u,f):!0}function Iy(e,r,a,o){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,o),r.state!==e&&eh.enqueueReplaceState(r,r.state,null)}function qa(e,r){var a=r;if("ref"in r){a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}if(e=e.defaultProps){a===r&&(a=b({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}var du=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ry(e){du(e)}function By(e){console.error(e)}function zy(e){du(e)}function gu(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function My(e,r,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function nh(e,r,a){return a=Fi(a),a.tag=3,a.payload={element:null},a.callback=function(){gu(e,r)},a}function Uy(e){return e=Fi(e),e.tag=3,e}function Ly(e,r,a,o){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=o.value;e.payload=function(){return u(f)},e.callback=function(){My(r,a,o)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){My(r,a,o),typeof u!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function iT(e,r,a,o,u){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=a.alternate,r!==null&&wo(r,a,u,!0),a=sn.current,a!==null){switch(a.tag){case 13:return qn===null?Nh():a.alternate===null&&Xt===0&&(Xt=3),a.flags&=-257,a.flags|=65536,a.lanes=u,o===If?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([o]):r.add(o),Oh(e,o,u)),!1;case 22:return a.flags|=65536,o===If?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([o]):a.add(o)),Oh(e,o,u)),!1}throw Error(i(435,a.tag))}return Oh(e,o,u),Nh(),!1}if(Ot)return r=sn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=u,o!==Ef&&(e=Error(i(422),{cause:o}),To(en(e,a)))):(o!==Ef&&(r=Error(i(423),{cause:o}),To(en(r,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,o=en(o,a),u=nh(e.stateNode,o,u),zf(e,u),Xt!==4&&(Xt=2)),!1;var f=Error(i(520),{cause:o});if(f=en(f,a),Ho===null?Ho=[f]:Ho.push(f),Xt!==4&&(Xt=2),r===null)return!0;o=en(o,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=nh(a.stateNode,o,e),zf(a,e),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(sa===null||!sa.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Uy(u),Ly(u,e,a,o),zf(a,u),!1}a=a.return}while(a!==null);return!1}var Jy=Error(i(461)),fe=!1;function ge(e,r,a,o){r.child=e===null?Oy(r,null,a,o):xs(r,e.child,a,o)}function qy(e,r,a,o,u){a=a.render;var f=r.ref;if("ref"in o){var m={};for(var S in o)S!=="ref"&&(m[S]=o[S])}else m=o;return Ua(r),o=qf(e,r,a,m,f,u),S=Pf(),e!==null&&!fe?(Vf(e,r,u),hr(e,r,u)):(Ot&&S&&wf(r),r.flags|=1,ge(e,r,o,u),r.child)}function Py(e,r,a,o,u){if(e===null){var f=a.type;return typeof f=="function"&&!Sf(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,Vy(e,r,f,o,u)):(e=$l(a.type,null,o,r,r.mode,u),e.ref=r.ref,e.return=r,r.child=e)}if(f=e.child,!ch(e,u)){var m=f.memoizedProps;if(a=a.compare,a=a!==null?a:po,a(m,o)&&e.ref===r.ref)return hr(e,r,u)}return r.flags|=1,e=ar(f,o),e.ref=r.ref,e.return=r,r.child=e}function Vy(e,r,a,o,u){if(e!==null){var f=e.memoizedProps;if(po(f,o)&&e.ref===r.ref)if(fe=!1,r.pendingProps=o=f,ch(e,u))(e.flags&131072)!==0&&(fe=!0);else return r.lanes=e.lanes,hr(e,r,u)}return rh(e,r,a,o,u)}function Hy(e,r,a){var o=r.pendingProps,u=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((r.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,e!==null){for(u=r.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;r.childLanes=f&~o}else r.childLanes=0,r.child=null;return jy(e,r,o,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&_l(r,f!==null?f.cachePool:null),f!==null?Vm(r,f):Uf(),ky(r);else return r.lanes=r.childLanes=536870912,jy(e,r,f!==null?f.baseLanes|a:a,a)}else f!==null?(_l(r,f.cachePool),Vm(r,f),ta(),r.memoizedState=null):(e!==null&&_l(r,null),Uf(),ta());return ge(e,r,u,a),r.child}function jy(e,r,a,o){var u=Cf();return u=u===null?null:{parent:se._currentValue,pool:u},r.memoizedState={baseLanes:a,cachePool:u},e!==null&&_l(r,null),Uf(),ky(r),e!==null&&wo(e,r,o,!0),null}function mu(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function rh(e,r,a,o,u){return Ua(r),a=qf(e,r,a,o,void 0,u),o=Pf(),e!==null&&!fe?(Vf(e,r,u),hr(e,r,u)):(Ot&&o&&wf(r),r.flags|=1,ge(e,r,a,u),r.child)}function Ky(e,r,a,o,u,f){return Ua(r),r.updateQueue=null,a=jm(r,o,a,u),Hm(e),o=Pf(),e!==null&&!fe?(Vf(e,r,f),hr(e,r,f)):(Ot&&o&&wf(r),r.flags|=1,ge(e,r,a,f),r.child)}function Yy(e,r,a,o,u){if(Ua(r),r.stateNode===null){var f=ms,m=a.contextType;typeof m=="object"&&m!==null&&(f=we(m)),f=new a(o,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=eh,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=o,f.state=r.memoizedState,f.refs={},Rf(r),m=a.contextType,f.context=typeof m=="object"&&m!==null?we(m):ms,f.state=r.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(th(r,a,m,o),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(m=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),m!==f.state&&eh.enqueueReplaceState(f,f.state,null),ko(r,o,f,u),Oo(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(e===null){f=r.stateNode;var S=r.memoizedProps,T=qa(a,S);f.props=T;var I=f.context,M=a.contextType;m=ms,typeof M=="object"&&M!==null&&(m=we(M));var q=a.getDerivedStateFromProps;M=typeof q=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,M||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||I!==m)&&Iy(r,f,o,m),Zi=!1;var R=r.memoizedState;f.state=R,ko(r,o,f,u),Oo(),I=r.memoizedState,S||R!==I||Zi?(typeof q=="function"&&(th(r,a,q,o),I=r.memoizedState),(T=Zi||Cy(r,a,T,o,R,I,m))?(M||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=I),f.props=o,f.state=I,f.context=m,o=T):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{f=r.stateNode,Bf(e,r),m=r.memoizedProps,M=qa(a,m),f.props=M,q=r.pendingProps,R=f.context,I=a.contextType,T=ms,typeof I=="object"&&I!==null&&(T=we(I)),S=a.getDerivedStateFromProps,(I=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==q||R!==T)&&Iy(r,f,o,T),Zi=!1,R=r.memoizedState,f.state=R,ko(r,o,f,u),Oo();var B=r.memoizedState;m!==q||R!==B||Zi||e!==null&&e.dependencies!==null&&Fl(e.dependencies)?(typeof S=="function"&&(th(r,a,S,o),B=r.memoizedState),(M=Zi||Cy(r,a,M,o,R,B,T)||e!==null&&e.dependencies!==null&&Fl(e.dependencies))?(I||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,T),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,T)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=B),f.props=o,f.state=B,f.context=T,o=M):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(r.flags|=1024),o=!1)}return f=o,mu(e,r),o=(r.flags&128)!==0,f||o?(f=r.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,e!==null&&o?(r.child=xs(r,e.child,null,u),r.child=xs(r,null,a,u)):ge(e,r,a,u),r.memoizedState=f.state,e=r.child):e=hr(e,r,u),e}function Gy(e,r,a,o){return bo(),r.flags|=256,ge(e,r,a,o),r.child}var ih={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ah(e){return{baseLanes:e,cachePool:Bm()}}function sh(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=on),e}function $y(e,r,a){var o=r.pendingProps,u=!1,f=(r.flags&128)!==0,m;if((m=f)||(m=e!==null&&e.memoizedState===null?!1:(oe.current&2)!==0),m&&(u=!0,r.flags&=-129),m=(r.flags&32)!==0,r.flags&=-33,e===null){if(Ot){if(u?Wi(r):ta(),Ot){var S=$t,T;if(T=S){t:{for(T=S,S=Jn;T.nodeType!==8;){if(!S){S=null;break t}if(T=Dn(T.nextSibling),T===null){S=null;break t}}S=T}S!==null?(r.memoizedState={dehydrated:S,treeContext:Ia!==null?{id:sr,overflow:or}:null,retryLane:536870912,hydrationErrors:null},T=He(18,null,null,0),T.stateNode=S,T.return=r,r.child=T,De=r,$t=null,T=!0):T=!1}T||za(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return jh(S)?r.lanes=32:r.lanes=536870912,null;fr(r)}return S=o.children,o=o.fallback,u?(ta(),u=r.mode,S=yu({mode:"hidden",children:S},u),o=Ca(o,u,a,null),S.return=r,o.return=r,S.sibling=o,r.child=S,u=r.child,u.memoizedState=ah(a),u.childLanes=sh(e,m,a),r.memoizedState=ih,o):(Wi(r),oh(r,S))}if(T=e.memoizedState,T!==null&&(S=T.dehydrated,S!==null)){if(f)r.flags&256?(Wi(r),r.flags&=-257,r=lh(e,r,a)):r.memoizedState!==null?(ta(),r.child=e.child,r.flags|=128,r=null):(ta(),u=o.fallback,S=r.mode,o=yu({mode:"visible",children:o.children},S),u=Ca(u,S,a,null),u.flags|=2,o.return=r,u.return=r,o.sibling=u,r.child=o,xs(r,e.child,null,a),o=r.child,o.memoizedState=ah(a),o.childLanes=sh(e,m,a),r.memoizedState=ih,r=u);else if(Wi(r),jh(S)){if(m=S.nextSibling&&S.nextSibling.dataset,m)var I=m.dgst;m=I,o=Error(i(419)),o.stack="",o.digest=m,To({value:o,source:null,stack:null}),r=lh(e,r,a)}else if(fe||wo(e,r,a,!1),m=(a&e.childLanes)!==0,fe||m){if(m=Pt,m!==null&&(o=a&-a,o=(o&42)!==0?1:jc(o),o=(o&(m.suspendedLanes|a))!==0?0:o,o!==0&&o!==T.retryLane))throw T.retryLane=o,gs(e,o),$e(m,e,o),Jy;S.data==="$?"||Nh(),r=lh(e,r,a)}else S.data==="$?"?(r.flags|=192,r.child=e.child,r=null):(e=T.treeContext,$t=Dn(S.nextSibling),De=r,Ot=!0,Ba=null,Jn=!1,e!==null&&(rn[an++]=sr,rn[an++]=or,rn[an++]=Ia,sr=e.id,or=e.overflow,Ia=r),r=oh(r,o.children),r.flags|=4096);return r}return u?(ta(),u=o.fallback,S=r.mode,T=e.child,I=T.sibling,o=ar(T,{mode:"hidden",children:o.children}),o.subtreeFlags=T.subtreeFlags&65011712,I!==null?u=ar(I,u):(u=Ca(u,S,a,null),u.flags|=2),u.return=r,o.return=r,o.sibling=u,r.child=o,o=u,u=r.child,S=e.child.memoizedState,S===null?S=ah(a):(T=S.cachePool,T!==null?(I=se._currentValue,T=T.parent!==I?{parent:I,pool:I}:T):T=Bm(),S={baseLanes:S.baseLanes|a,cachePool:T}),u.memoizedState=S,u.childLanes=sh(e,m,a),r.memoizedState=ih,o):(Wi(r),a=e.child,e=a.sibling,a=ar(a,{mode:"visible",children:o.children}),a.return=r,a.sibling=null,e!==null&&(m=r.deletions,m===null?(r.deletions=[e],r.flags|=16):m.push(e)),r.child=a,r.memoizedState=null,a)}function oh(e,r){return r=yu({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function yu(e,r){return e=He(22,e,null,r),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function lh(e,r,a){return xs(r,e.child,null,a),e=oh(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Xy(e,r,a){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r),Nf(e.return,r,a)}function uh(e,r,a,o,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:u}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=u)}function Zy(e,r,a){var o=r.pendingProps,u=o.revealOrder,f=o.tail;if(ge(e,r,o.children,a),o=oe.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xy(e,a,r);else if(e.tag===19)Xy(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Y(oe,o),u){case"forwards":for(a=r.child,u=null;a!==null;)e=a.alternate,e!==null&&hu(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=r.child,r.child=null):(u=a.sibling,a.sibling=null),uh(r,!1,u,a,f);break;case"backwards":for(a=null,u=r.child,r.child=null;u!==null;){if(e=u.alternate,e!==null&&hu(e)===null){r.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}uh(r,!0,a,null,f);break;case"together":uh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function hr(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),aa|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(wo(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(i(153));if(r.child!==null){for(e=r.child,a=ar(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=ar(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function ch(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&Fl(e)))}function aT(e,r,a){switch(r.tag){case 3:Ht(r,r.stateNode.containerInfo),Xi(r,se,e.memoizedState.cache),bo();break;case 27:case 5:Jc(r);break;case 4:Ht(r,r.stateNode.containerInfo);break;case 10:Xi(r,r.type,r.memoizedProps.value);break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(Wi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?$y(e,r,a):(Wi(r),e=hr(e,r,a),e!==null?e.sibling:null);Wi(r);break;case 19:var u=(e.flags&128)!==0;if(o=(a&r.childLanes)!==0,o||(wo(e,r,a,!1),o=(a&r.childLanes)!==0),u){if(o)return Zy(e,r,a);r.flags|=128}if(u=r.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Y(oe,oe.current),o)break;return null;case 22:case 23:return r.lanes=0,Hy(e,r,a);case 24:Xi(r,se,e.memoizedState.cache)}return hr(e,r,a)}function Fy(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)fe=!0;else{if(!ch(e,a)&&(r.flags&128)===0)return fe=!1,aT(e,r,a);fe=(e.flags&131072)!==0}else fe=!1,Ot&&(r.flags&1048576)!==0&&Nm(r,Zl,r.index);switch(r.lanes=0,r.tag){case 16:t:{e=r.pendingProps;var o=r.elementType,u=o._init;if(o=u(o._payload),r.type=o,typeof o=="function")Sf(o)?(e=qa(o,e),r.tag=1,r=Yy(null,r,o,e,a)):(r.tag=0,r=rh(null,r,o,e,a));else{if(o!=null){if(u=o.$$typeof,u===mt){r.tag=11,r=qy(null,r,o,e,a);break t}else if(u===yt){r.tag=14,r=Py(null,r,o,e,a);break t}}throw r=Ea(o)||o,Error(i(306,r,""))}}return r;case 0:return rh(e,r,r.type,r.pendingProps,a);case 1:return o=r.type,u=qa(o,r.pendingProps),Yy(e,r,o,u,a);case 3:t:{if(Ht(r,r.stateNode.containerInfo),e===null)throw Error(i(387));o=r.pendingProps;var f=r.memoizedState;u=f.element,Bf(e,r),ko(r,o,null,a);var m=r.memoizedState;if(o=m.cache,Xi(r,se,o),o!==f.cache&&Df(r,[se],a,!0),Oo(),o=m.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:m.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Gy(e,r,o,a);break t}else if(o!==u){u=en(Error(i(424)),r),To(u),r=Gy(e,r,o,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($t=Dn(e.firstChild),De=r,Ot=!0,Ba=null,Jn=!0,a=Oy(r,null,o,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(bo(),o===u){r=hr(e,r,a);break t}ge(e,r,o,a)}r=r.child}return r;case 26:return mu(e,r),e===null?(a=tv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ot||(a=r.type,e=r.pendingProps,o=Cu(ut.current).createElement(a),o[Te]=r,o[ke]=e,ye(o,a,e),ce(o),r.stateNode=o):r.memoizedState=tv(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Jc(r),e===null&&Ot&&(o=r.stateNode=Qp(r.type,r.pendingProps,ut.current),De=r,Jn=!0,u=$t,ua(r.type)?(Kh=u,$t=Dn(o.firstChild)):$t=u),ge(e,r,r.pendingProps.children,a),mu(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Ot&&((u=o=$t)&&(o=BT(o,r.type,r.pendingProps,Jn),o!==null?(r.stateNode=o,De=r,$t=Dn(o.firstChild),Jn=!1,u=!0):u=!1),u||za(r)),Jc(r),u=r.type,f=r.pendingProps,m=e!==null?e.memoizedProps:null,o=f.children,Ph(u,f)?o=null:m!==null&&Ph(u,m)&&(r.flags|=32),r.memoizedState!==null&&(u=qf(e,r,Qb,null,null,a),Qo._currentValue=u),mu(e,r),ge(e,r,o,a),r.child;case 6:return e===null&&Ot&&((e=a=$t)&&(a=zT(a,r.pendingProps,Jn),a!==null?(r.stateNode=a,De=r,$t=null,e=!0):e=!1),e||za(r)),null;case 13:return $y(e,r,a);case 4:return Ht(r,r.stateNode.containerInfo),o=r.pendingProps,e===null?r.child=xs(r,null,o,a):ge(e,r,o,a),r.child;case 11:return qy(e,r,r.type,r.pendingProps,a);case 7:return ge(e,r,r.pendingProps,a),r.child;case 8:return ge(e,r,r.pendingProps.children,a),r.child;case 12:return ge(e,r,r.pendingProps.children,a),r.child;case 10:return o=r.pendingProps,Xi(r,r.type,o.value),ge(e,r,o.children,a),r.child;case 9:return u=r.type._context,o=r.pendingProps.children,Ua(r),u=we(u),o=o(u),r.flags|=1,ge(e,r,o,a),r.child;case 14:return Py(e,r,r.type,r.pendingProps,a);case 15:return Vy(e,r,r.type,r.pendingProps,a);case 19:return Zy(e,r,a);case 31:return o=r.pendingProps,a=r.mode,o={mode:o.mode,children:o.children},e===null?(a=yu(o,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=ar(e.child,o),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Hy(e,r,a);case 24:return Ua(r),o=we(se),e===null?(u=Cf(),u===null&&(u=Pt,f=Of(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),r.memoizedState={parent:o,cache:u},Rf(r),Xi(r,se,u)):((e.lanes&a)!==0&&(Bf(e,r),ko(r,null,null,a),Oo()),u=e.memoizedState,f=r.memoizedState,u.parent!==o?(u={parent:o,cache:o},r.memoizedState=u,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=u),Xi(r,se,o)):(o=f.cache,Xi(r,se,o),o!==u.cache&&Df(r,[se],a,!0))),ge(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function dr(e){e.flags|=4}function Qy(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!av(r)){if(r=sn.current,r!==null&&((wt&4194048)===wt?qn!==null:(wt&62914560)!==wt&&(wt&536870912)===0||r!==qn))throw No=If,zm;e.flags|=8192}}function pu(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?kg():536870912,e.lanes|=r,ks|=r)}function Uo(e,r){if(!Ot)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Yt(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(r)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=a,r}function sT(e,r,a){var o=r.pendingProps;switch(Af(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(r),null;case 1:return Yt(r),null;case 3:return a=r.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ur(se),Ki(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(So(r)?dr(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,km())),Yt(r),null;case 26:return a=r.memoizedState,e===null?(dr(r),a!==null?(Yt(r),Qy(r,a)):(Yt(r),r.flags&=-16777217)):a?a!==e.memoizedState?(dr(r),Yt(r),Qy(r,a)):(Yt(r),r.flags&=-16777217):(e.memoizedProps!==o&&dr(r),Yt(r),r.flags&=-16777217),null;case 27:Ol(r),a=ut.current;var u=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==o&&dr(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return Yt(r),null}e=rt.current,So(r)?Dm(r):(e=Qp(u,o,a),r.stateNode=e,dr(r))}return Yt(r),null;case 5:if(Ol(r),a=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==o&&dr(r);else{if(!o){if(r.stateNode===null)throw Error(i(166));return Yt(r),null}if(e=rt.current,So(r))Dm(r);else{switch(u=Cu(ut.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?u.createElement("select",{is:o.is}):u.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?u.createElement(a,{is:o.is}):u.createElement(a)}}e[Te]=r,e[ke]=o;t:for(u=r.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break t;for(;u.sibling===null;){if(u.return===null||u.return===r)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}r.stateNode=e;t:switch(ye(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&dr(r)}}return Yt(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==o&&dr(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(i(166));if(e=ut.current,So(r)){if(e=r.stateNode,a=r.memoizedProps,o=null,u=De,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}e[Te]=r,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Kp(e.nodeValue,a)),e||za(r)}else e=Cu(e).createTextNode(o),e[Te]=r,r.stateNode=e}return Yt(r),null;case 13:if(o=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=So(r),o!==null&&o.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=r.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[Te]=r}else bo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Yt(r),u=!1}else u=km(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return r.flags&256?(fr(r),r):(fr(r),null)}if(fr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=r.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048)}return a!==e&&a&&(r.child.flags|=8192),pu(r,r.updateQueue),Yt(r),null;case 4:return Ki(),e===null&&Mh(r.stateNode.containerInfo),Yt(r),null;case 10:return ur(r.type),Yt(r),null;case 19:if($(oe),u=r.memoizedState,u===null)return Yt(r),null;if(o=(r.flags&128)!==0,f=u.rendering,f===null)if(o)Uo(u,!1);else{if(Xt!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(f=hu(e),f!==null){for(r.flags|=128,Uo(u,!1),e=f.updateQueue,r.updateQueue=e,pu(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)xm(a,e),a=a.sibling;return Y(oe,oe.current&1|2),r.child}e=e.sibling}u.tail!==null&&Ln()>bu&&(r.flags|=128,o=!0,Uo(u,!1),r.lanes=4194304)}else{if(!o)if(e=hu(f),e!==null){if(r.flags|=128,o=!0,e=e.updateQueue,r.updateQueue=e,pu(r,e),Uo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Ot)return Yt(r),null}else 2*Ln()-u.renderingStartTime>bu&&a!==536870912&&(r.flags|=128,o=!0,Uo(u,!1),r.lanes=4194304);u.isBackwards?(f.sibling=r.child,r.child=f):(e=u.last,e!==null?e.sibling=f:r.child=f,u.last=f)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=Ln(),r.sibling=null,e=oe.current,Y(oe,o?e&1|2:e&1),r):(Yt(r),null);case 22:case 23:return fr(r),Lf(),o=r.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(a&536870912)!==0&&(r.flags&128)===0&&(Yt(r),r.subtreeFlags&6&&(r.flags|=8192)):Yt(r),a=r.updateQueue,a!==null&&pu(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048),e!==null&&$(La),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ur(se),Yt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function oT(e,r){switch(Af(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return ur(se),Ki(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return Ol(r),null;case 13:if(fr(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(i(340));bo()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return $(oe),null;case 4:return Ki(),null;case 10:return ur(r.type),null;case 22:case 23:return fr(r),Lf(),e!==null&&$(La),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return ur(se),null;case 25:return null;default:return null}}function _y(e,r){switch(Af(r),r.tag){case 3:ur(se),Ki();break;case 26:case 27:case 5:Ol(r);break;case 4:Ki();break;case 13:fr(r);break;case 19:$(oe);break;case 10:ur(r.type);break;case 22:case 23:fr(r),Lf(),e!==null&&$(La);break;case 24:ur(se)}}function Lo(e,r){try{var a=r.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var u=o.next;a=u;do{if((a.tag&e)===e){o=void 0;var f=a.create,m=a.inst;o=f(),m.destroy=o}a=a.next}while(a!==u)}}catch(S){Jt(r,r.return,S)}}function ea(e,r,a){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&e)===e){var m=o.inst,S=m.destroy;if(S!==void 0){m.destroy=void 0,u=r;var T=a,I=S;try{I()}catch(M){Jt(u,T,M)}}}o=o.next}while(o!==f)}}catch(M){Jt(r,r.return,M)}}function Wy(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{Pm(r,a)}catch(o){Jt(e,e.return,o)}}}function tp(e,r,a){a.props=qa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Jt(e,r,o)}}function Jo(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(u){Jt(e,r,u)}}function Pn(e,r){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(u){Jt(e,r,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Jt(e,r,u)}else a.current=null}function ep(e){var r=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(u){Jt(e,e.return,u)}}function fh(e,r,a){try{var o=e.stateNode;OT(o,e.type,a,r),o[ke]=r}catch(u){Jt(e,e.return,u)}}function np(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ua(e.type)||e.tag===4}function hh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dh(e,r,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ku));else if(o!==4&&(o===27&&ua(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(dh(e,r,a),e=e.sibling;e!==null;)dh(e,r,a),e=e.sibling}function vu(e,r,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(o!==4&&(o===27&&ua(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(vu(e,r,a),e=e.sibling;e!==null;)vu(e,r,a),e=e.sibling}function rp(e){var r=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,u=r.attributes;u.length;)r.removeAttributeNode(u[0]);ye(r,o,a),r[Te]=e,r[ke]=a}catch(f){Jt(e,e.return,f)}}var gr=!1,Wt=!1,gh=!1,ip=typeof WeakSet=="function"?WeakSet:Set,he=null;function lT(e,r){if(e=e.containerInfo,Jh=Uu,e=mm(e),hf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var u=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var m=0,S=-1,T=-1,I=0,M=0,q=e,R=null;e:for(;;){for(var B;q!==a||u!==0&&q.nodeType!==3||(S=m+u),q!==f||o!==0&&q.nodeType!==3||(T=m+o),q.nodeType===3&&(m+=q.nodeValue.length),(B=q.firstChild)!==null;)R=q,q=B;for(;;){if(q===e)break e;if(R===a&&++I===u&&(S=m),R===f&&++M===o&&(T=m),(B=q.nextSibling)!==null)break;q=R,R=q.parentNode}q=B}a=S===-1||T===-1?null:{start:S,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(qh={focusedElem:e,selectionRange:a},Uu=!1,he=r;he!==null;)if(r=he,e=r.child,(r.subtreeFlags&1024)!==0&&e!==null)e.return=r,he=e;else for(;he!==null;){switch(r=he,f=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=r,u=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=qa(a.type,u,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(it){Jt(a,a.return,it)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)Hh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=r.sibling,e!==null){e.return=r.return,he=e;break}he=r.return}}function ap(e,r,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:na(e,a),o&4&&Lo(5,a);break;case 1:if(na(e,a),o&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(m){Jt(a,a.return,m)}else{var u=qa(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(u,r,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Jt(a,a.return,m)}}o&64&&Wy(a),o&512&&Jo(a,a.return);break;case 3:if(na(e,a),o&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Pm(e,r)}catch(m){Jt(a,a.return,m)}}break;case 27:r===null&&o&4&&rp(a);case 26:case 5:na(e,a),r===null&&o&4&&ep(a),o&512&&Jo(a,a.return);break;case 12:na(e,a);break;case 13:na(e,a),o&4&&lp(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=pT.bind(null,a),MT(e,a))));break;case 22:if(o=a.memoizedState!==null||gr,!o){r=r!==null&&r.memoizedState!==null||Wt,u=gr;var f=Wt;gr=o,(Wt=r)&&!f?ra(e,a,(a.subtreeFlags&8772)!==0):na(e,a),gr=u,Wt=f}break;case 30:break;default:na(e,a)}}function sp(e){var r=e.alternate;r!==null&&(e.alternate=null,sp(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&Gc(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var jt=null,Re=!1;function mr(e,r,a){for(a=a.child;a!==null;)op(e,r,a),a=a.sibling}function op(e,r,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(io,a)}catch{}switch(a.tag){case 26:Wt||Pn(a,r),mr(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Wt||Pn(a,r);var o=jt,u=Re;ua(a.type)&&(jt=a.stateNode,Re=!1),mr(e,r,a),$o(a.stateNode),jt=o,Re=u;break;case 5:Wt||Pn(a,r);case 6:if(o=jt,u=Re,jt=null,mr(e,r,a),jt=o,Re=u,jt!==null)if(Re)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(a.stateNode)}catch(f){Jt(a,r,f)}else try{jt.removeChild(a.stateNode)}catch(f){Jt(a,r,f)}break;case 18:jt!==null&&(Re?(e=jt,Zp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),el(e)):Zp(jt,a.stateNode));break;case 4:o=jt,u=Re,jt=a.stateNode.containerInfo,Re=!0,mr(e,r,a),jt=o,Re=u;break;case 0:case 11:case 14:case 15:Wt||ea(2,a,r),Wt||ea(4,a,r),mr(e,r,a);break;case 1:Wt||(Pn(a,r),o=a.stateNode,typeof o.componentWillUnmount=="function"&&tp(a,r,o)),mr(e,r,a);break;case 21:mr(e,r,a);break;case 22:Wt=(o=Wt)||a.memoizedState!==null,mr(e,r,a),Wt=o;break;default:mr(e,r,a)}}function lp(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{el(e)}catch(a){Jt(r,r.return,a)}}function uT(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new ip),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new ip),r;default:throw Error(i(435,e.tag))}}function mh(e,r){var a=uT(e);r.forEach(function(o){var u=vT.bind(null,e,o);a.has(o)||(a.add(o),o.then(u,u))})}function je(e,r){var a=r.deletions;if(a!==null)for(var o=0;o<a.length;o++){var u=a[o],f=e,m=r,S=m;t:for(;S!==null;){switch(S.tag){case 27:if(ua(S.type)){jt=S.stateNode,Re=!1;break t}break;case 5:jt=S.stateNode,Re=!1;break t;case 3:case 4:jt=S.stateNode.containerInfo,Re=!0;break t}S=S.return}if(jt===null)throw Error(i(160));op(f,m,u),jt=null,Re=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)up(r,e),r=r.sibling}var Nn=null;function up(e,r){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:je(r,e),Ke(e),o&4&&(ea(3,e,e.return),Lo(3,e),ea(5,e,e.return));break;case 1:je(r,e),Ke(e),o&512&&(Wt||a===null||Pn(a,a.return)),o&64&&gr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var u=Nn;if(je(r,e),Ke(e),o&512&&(Wt||a===null||Pn(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,u=u.ownerDocument||u;e:switch(o){case"title":f=u.getElementsByTagName("title")[0],(!f||f[oo]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(o),u.head.insertBefore(f,u.querySelector("head > title"))),ye(f,o,a),f[Te]=e,ce(f),o=f;break t;case"link":var m=rv("link","href",u).get(o+(a.href||""));if(m){for(var S=0;S<m.length;S++)if(f=m[S],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(S,1);break e}}f=u.createElement(o),ye(f,o,a),u.head.appendChild(f);break;case"meta":if(m=rv("meta","content",u).get(o+(a.content||""))){for(S=0;S<m.length;S++)if(f=m[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(S,1);break e}}f=u.createElement(o),ye(f,o,a),u.head.appendChild(f);break;default:throw Error(i(468,o))}f[Te]=e,ce(f),o=f}e.stateNode=o}else iv(u,e.type,e.stateNode);else e.stateNode=nv(u,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?iv(u,e.type,e.stateNode):nv(u,o,e.memoizedProps)):o===null&&e.stateNode!==null&&fh(e,e.memoizedProps,a.memoizedProps)}break;case 27:je(r,e),Ke(e),o&512&&(Wt||a===null||Pn(a,a.return)),a!==null&&o&4&&fh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(je(r,e),Ke(e),o&512&&(Wt||a===null||Pn(a,a.return)),e.flags&32){u=e.stateNode;try{os(u,"")}catch(B){Jt(e,e.return,B)}}o&4&&e.stateNode!=null&&(u=e.memoizedProps,fh(e,u,a!==null?a.memoizedProps:u)),o&1024&&(gh=!0);break;case 6:if(je(r,e),Ke(e),o&4){if(e.stateNode===null)throw Error(i(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){Jt(e,e.return,B)}}break;case 3:if(Bu=null,u=Nn,Nn=Iu(r.containerInfo),je(r,e),Nn=u,Ke(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{el(r.containerInfo)}catch(B){Jt(e,e.return,B)}gh&&(gh=!1,cp(e));break;case 4:o=Nn,Nn=Iu(e.stateNode.containerInfo),je(r,e),Ke(e),Nn=o;break;case 12:je(r,e),Ke(e);break;case 13:je(r,e),Ke(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Th=Ln()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,mh(e,o)));break;case 22:u=e.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,I=gr,M=Wt;if(gr=I||u,Wt=M||T,je(r,e),Wt=M,gr=I,Ke(e),o&8192)t:for(r=e.stateNode,r._visibility=u?r._visibility&-2:r._visibility|1,u&&(a===null||T||gr||Wt||Pa(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){T=a=r;try{if(f=T.stateNode,u)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{S=T.stateNode;var q=T.memoizedProps.style,R=q!=null&&q.hasOwnProperty("display")?q.display:null;S.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(B){Jt(T,T.return,B)}}}else if(r.tag===6){if(a===null){T=r;try{T.stateNode.nodeValue=u?"":T.memoizedProps}catch(B){Jt(T,T.return,B)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,mh(e,a))));break;case 19:je(r,e),Ke(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,mh(e,o)));break;case 30:break;case 21:break;default:je(r,e),Ke(e)}}function Ke(e){var r=e.flags;if(r&2){try{for(var a,o=e.return;o!==null;){if(np(o)){a=o;break}o=o.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var u=a.stateNode,f=hh(e);vu(e,f,u);break;case 5:var m=a.stateNode;a.flags&32&&(os(m,""),a.flags&=-33);var S=hh(e);vu(e,S,m);break;case 3:case 4:var T=a.stateNode.containerInfo,I=hh(e);dh(e,I,T);break;default:throw Error(i(161))}}catch(M){Jt(e,e.return,M)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function cp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;cp(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function na(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ap(e,r.alternate,r),r=r.sibling}function Pa(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:ea(4,r,r.return),Pa(r);break;case 1:Pn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&tp(r,r.return,a),Pa(r);break;case 27:$o(r.stateNode);case 26:case 5:Pn(r,r.return),Pa(r);break;case 22:r.memoizedState===null&&Pa(r);break;case 30:Pa(r);break;default:Pa(r)}e=e.sibling}}function ra(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,u=e,f=r,m=f.flags;switch(f.tag){case 0:case 11:case 15:ra(u,f,a),Lo(4,f);break;case 1:if(ra(u,f,a),o=f,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(I){Jt(o,o.return,I)}if(o=f,u=o.updateQueue,u!==null){var S=o.stateNode;try{var T=u.shared.hiddenCallbacks;if(T!==null)for(u.shared.hiddenCallbacks=null,u=0;u<T.length;u++)qm(T[u],S)}catch(I){Jt(o,o.return,I)}}a&&m&64&&Wy(f),Jo(f,f.return);break;case 27:rp(f);case 26:case 5:ra(u,f,a),a&&o===null&&m&4&&ep(f),Jo(f,f.return);break;case 12:ra(u,f,a);break;case 13:ra(u,f,a),a&&m&4&&lp(u,f);break;case 22:f.memoizedState===null&&ra(u,f,a),Jo(f,f.return);break;case 30:break;default:ra(u,f,a)}r=r.sibling}}function yh(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ao(a))}function ph(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Ao(e))}function Vn(e,r,a,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)fp(e,r,a,o),r=r.sibling}function fp(e,r,a,o){var u=r.flags;switch(r.tag){case 0:case 11:case 15:Vn(e,r,a,o),u&2048&&Lo(9,r);break;case 1:Vn(e,r,a,o);break;case 3:Vn(e,r,a,o),u&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Ao(e)));break;case 12:if(u&2048){Vn(e,r,a,o),e=r.stateNode;try{var f=r.memoizedProps,m=f.id,S=f.onPostCommit;typeof S=="function"&&S(m,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Jt(r,r.return,T)}}else Vn(e,r,a,o);break;case 13:Vn(e,r,a,o);break;case 23:break;case 22:f=r.stateNode,m=r.alternate,r.memoizedState!==null?f._visibility&2?Vn(e,r,a,o):qo(e,r):f._visibility&2?Vn(e,r,a,o):(f._visibility|=2,Ns(e,r,a,o,(r.subtreeFlags&10256)!==0)),u&2048&&yh(m,r);break;case 24:Vn(e,r,a,o),u&2048&&ph(r.alternate,r);break;default:Vn(e,r,a,o)}}function Ns(e,r,a,o,u){for(u=u&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=e,m=r,S=a,T=o,I=m.flags;switch(m.tag){case 0:case 11:case 15:Ns(f,m,S,T,u),Lo(8,m);break;case 23:break;case 22:var M=m.stateNode;m.memoizedState!==null?M._visibility&2?Ns(f,m,S,T,u):qo(f,m):(M._visibility|=2,Ns(f,m,S,T,u)),u&&I&2048&&yh(m.alternate,m);break;case 24:Ns(f,m,S,T,u),u&&I&2048&&ph(m.alternate,m);break;default:Ns(f,m,S,T,u)}r=r.sibling}}function qo(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,o=r,u=o.flags;switch(o.tag){case 22:qo(a,o),u&2048&&yh(o.alternate,o);break;case 24:qo(a,o),u&2048&&ph(o.alternate,o);break;default:qo(a,o)}r=r.sibling}}var Po=8192;function Ds(e){if(e.subtreeFlags&Po)for(e=e.child;e!==null;)hp(e),e=e.sibling}function hp(e){switch(e.tag){case 26:Ds(e),e.flags&Po&&e.memoizedState!==null&&XT(Nn,e.memoizedState,e.memoizedProps);break;case 5:Ds(e);break;case 3:case 4:var r=Nn;Nn=Iu(e.stateNode.containerInfo),Ds(e),Nn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Po,Po=16777216,Ds(e),Po=r):Ds(e));break;default:Ds(e)}}function dp(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Vo(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];he=o,mp(o,e)}dp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gp(e),e=e.sibling}function gp(e){switch(e.tag){case 0:case 11:case 15:Vo(e),e.flags&2048&&ea(9,e,e.return);break;case 3:Vo(e);break;case 12:Vo(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Su(e)):Vo(e);break;default:Vo(e)}}function Su(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];he=o,mp(o,e)}dp(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:ea(8,r,r.return),Su(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Su(r));break;default:Su(r)}e=e.sibling}}function mp(e,r){for(;he!==null;){var a=he;switch(a.tag){case 0:case 11:case 15:ea(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ao(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,he=o;else t:for(a=e;he!==null;){o=he;var u=o.sibling,f=o.return;if(sp(o),o===a){he=null;break t}if(u!==null){u.return=f,he=u;break t}he=f}}}var cT={getCacheForType:function(e){var r=we(se),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a}},fT=typeof WeakMap=="function"?WeakMap:Map,It=0,Pt=null,pt=null,wt=0,Rt=0,Ye=null,ia=!1,Os=!1,vh=!1,yr=0,Xt=0,aa=0,Va=0,Sh=0,on=0,ks=0,Ho=null,Be=null,bh=!1,Th=0,bu=1/0,Tu=null,sa=null,me=0,oa=null,Cs=null,Is=0,wh=0,Ah=null,yp=null,jo=0,Eh=null;function Ge(){if((It&2)!==0&&wt!==0)return wt&-wt;if(L.T!==null){var e=vs;return e!==0?e:Ih()}return Rg()}function pp(){on===0&&(on=(wt&536870912)===0||Ot?Og():536870912);var e=sn.current;return e!==null&&(e.flags|=32),on}function $e(e,r,a){(e===Pt&&(Rt===2||Rt===9)||e.cancelPendingCommit!==null)&&(Rs(e,0),la(e,wt,on,!1)),so(e,a),((It&2)===0||e!==Pt)&&(e===Pt&&((It&2)===0&&(Va|=a),Xt===4&&la(e,wt,on,!1)),Hn(e))}function vp(e,r,a){if((It&6)!==0)throw Error(i(327));var o=!a&&(r&124)===0&&(r&e.expiredLanes)===0||ao(e,r),u=o?gT(e,r):Dh(e,r,!0),f=o;do{if(u===0){Os&&!o&&la(e,r,0,!1);break}else{if(a=e.current.alternate,f&&!hT(a)){u=Dh(e,r,!1),f=!1;continue}if(u===2){if(f=r,e.errorRecoveryDisabledLanes&f)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){r=m;t:{var S=e;u=Ho;var T=S.current.memoizedState.isDehydrated;if(T&&(Rs(S,m).flags|=256),m=Dh(S,m,!1),m!==2){if(vh&&!T){S.errorRecoveryDisabledLanes|=f,Va|=f,u=4;break t}f=Be,Be=u,f!==null&&(Be===null?Be=f:Be.push.apply(Be,f))}u=m}if(f=!1,u!==2)continue}}if(u===1){Rs(e,0),la(e,r,0,!0);break}t:{switch(o=e,f=u,f){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:la(o,r,on,!ia);break t;case 2:Be=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(u=Th+300-Ln(),10<u)){if(la(o,r,on,!ia),Rl(o,0,!0)!==0)break t;o.timeoutHandle=$p(Sp.bind(null,o,a,Be,Tu,bh,r,on,Va,ks,ia,f,2,-0,0),u);break t}Sp(o,a,Be,Tu,bh,r,on,Va,ks,ia,f,0,-0,0)}}break}while(!0);Hn(e)}function Sp(e,r,a,o,u,f,m,S,T,I,M,q,R,B){if(e.timeoutHandle=-1,q=r.subtreeFlags,(q&8192||(q&16785408)===16785408)&&(Fo={stylesheets:null,count:0,unsuspend:$T},hp(r),q=ZT(),q!==null)){e.cancelPendingCommit=q(Np.bind(null,e,r,f,a,o,u,m,S,T,M,1,R,B)),la(e,f,m,!I);return}Np(e,r,f,a,o,u,m,S,T)}function hT(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var u=a[o],f=u.getSnapshot;u=u.value;try{if(!Ve(f(),u))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function la(e,r,a,o){r&=~Sh,r&=~Va,e.suspendedLanes|=r,e.pingedLanes&=~r,o&&(e.warmLanes|=r),o=e.expirationTimes;for(var u=r;0<u;){var f=31-Pe(u),m=1<<f;o[f]=-1,u&=~m}a!==0&&Cg(e,a,r)}function wu(){return(It&6)===0?(Ko(0),!1):!0}function xh(){if(pt!==null){if(Rt===0)var e=pt.return;else e=pt,lr=Ma=null,Hf(e),Es=null,zo=0,e=pt;for(;e!==null;)_y(e.alternate,e),e=e.return;pt=null}}function Rs(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,CT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),xh(),Pt=e,pt=a=ar(e.current,null),wt=r,Rt=0,Ye=null,ia=!1,Os=ao(e,r),vh=!1,ks=on=Sh=Va=aa=Xt=0,Be=Ho=null,bh=!1,(r&8)!==0&&(r|=r&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=r;0<o;){var u=31-Pe(o),f=1<<u;r|=e[u],o&=~f}return yr=r,Kl(),a}function bp(e,r){dt=null,L.H=uu,r===xo||r===Wl?(r=Lm(),Rt=3):r===zm?(r=Lm(),Rt=4):Rt=r===Jy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ye=r,pt===null&&(Xt=1,gu(e,en(r,e.current)))}function Tp(){var e=L.H;return L.H=uu,e===null?uu:e}function wp(){var e=L.A;return L.A=cT,e}function Nh(){Xt=4,ia||(wt&4194048)!==wt&&sn.current!==null||(Os=!0),(aa&134217727)===0&&(Va&134217727)===0||Pt===null||la(Pt,wt,on,!1)}function Dh(e,r,a){var o=It;It|=2;var u=Tp(),f=wp();(Pt!==e||wt!==r)&&(Tu=null,Rs(e,r)),r=!1;var m=Xt;t:do try{if(Rt!==0&&pt!==null){var S=pt,T=Ye;switch(Rt){case 8:xh(),m=6;break t;case 3:case 2:case 9:case 6:sn.current===null&&(r=!0);var I=Rt;if(Rt=0,Ye=null,Bs(e,S,T,I),a&&Os){m=0;break t}break;default:I=Rt,Rt=0,Ye=null,Bs(e,S,T,I)}}dT(),m=Xt;break}catch(M){bp(e,M)}while(!0);return r&&e.shellSuspendCounter++,lr=Ma=null,It=o,L.H=u,L.A=f,pt===null&&(Pt=null,wt=0,Kl()),m}function dT(){for(;pt!==null;)Ap(pt)}function gT(e,r){var a=It;It|=2;var o=Tp(),u=wp();Pt!==e||wt!==r?(Tu=null,bu=Ln()+500,Rs(e,r)):Os=ao(e,r);t:do try{if(Rt!==0&&pt!==null){r=pt;var f=Ye;e:switch(Rt){case 1:Rt=0,Ye=null,Bs(e,r,f,1);break;case 2:case 9:if(Mm(f)){Rt=0,Ye=null,Ep(r);break}r=function(){Rt!==2&&Rt!==9||Pt!==e||(Rt=7),Hn(e)},f.then(r,r);break t;case 3:Rt=7;break t;case 4:Rt=5;break t;case 7:Mm(f)?(Rt=0,Ye=null,Ep(r)):(Rt=0,Ye=null,Bs(e,r,f,7));break;case 5:var m=null;switch(pt.tag){case 26:m=pt.memoizedState;case 5:case 27:var S=pt;if(!m||av(m)){Rt=0,Ye=null;var T=S.sibling;if(T!==null)pt=T;else{var I=S.return;I!==null?(pt=I,Au(I)):pt=null}break e}}Rt=0,Ye=null,Bs(e,r,f,5);break;case 6:Rt=0,Ye=null,Bs(e,r,f,6);break;case 8:xh(),Xt=6;break t;default:throw Error(i(462))}}mT();break}catch(M){bp(e,M)}while(!0);return lr=Ma=null,L.H=o,L.A=u,It=a,pt!==null?0:(Pt=null,wt=0,Kl(),Xt)}function mT(){for(;pt!==null&&!LS();)Ap(pt)}function Ap(e){var r=Fy(e.alternate,e,yr);e.memoizedProps=e.pendingProps,r===null?Au(e):pt=r}function Ep(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=Ky(a,r,r.pendingProps,r.type,void 0,wt);break;case 11:r=Ky(a,r,r.pendingProps,r.type.render,r.ref,wt);break;case 5:Hf(r);default:_y(a,r),r=pt=xm(r,yr),r=Fy(a,r,yr)}e.memoizedProps=e.pendingProps,r===null?Au(e):pt=r}function Bs(e,r,a,o){lr=Ma=null,Hf(r),Es=null,zo=0;var u=r.return;try{if(iT(e,u,r,a,wt)){Xt=1,gu(e,en(a,e.current)),pt=null;return}}catch(f){if(u!==null)throw pt=u,f;Xt=1,gu(e,en(a,e.current)),pt=null;return}r.flags&32768?(Ot||o===1?e=!0:Os||(wt&536870912)!==0?e=!1:(ia=e=!0,(o===2||o===9||o===3||o===6)&&(o=sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),xp(r,e)):Au(r)}function Au(e){var r=e;do{if((r.flags&32768)!==0){xp(r,ia);return}e=r.return;var a=sT(r.alternate,r,yr);if(a!==null){pt=a;return}if(r=r.sibling,r!==null){pt=r;return}pt=r=e}while(r!==null);Xt===0&&(Xt=5)}function xp(e,r){do{var a=oT(e.alternate,e);if(a!==null){a.flags&=32767,pt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){pt=e;return}pt=e=a}while(e!==null);Xt=6,pt=null}function Np(e,r,a,o,u,f,m,S,T){e.cancelPendingCommit=null;do Eu();while(me!==0);if((It&6)!==0)throw Error(i(327));if(r!==null){if(r===e.current)throw Error(i(177));if(f=r.lanes|r.childLanes,f|=pf,$S(e,a,f,m,S,T),e===Pt&&(pt=Pt=null,wt=0),Cs=r,oa=e,Is=a,wh=f,Ah=u,yp=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ST(kl,function(){return Ip(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,u=G.p,G.p=2,m=It,It|=4;try{lT(e,r,a)}finally{It=m,G.p=u,L.T=o}}me=1,Dp(),Op(),kp()}}function Dp(){if(me===1){me=0;var e=oa,r=Cs,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var o=G.p;G.p=2;var u=It;It|=4;try{up(r,e);var f=qh,m=mm(e.containerInfo),S=f.focusedElem,T=f.selectionRange;if(m!==S&&S&&S.ownerDocument&&gm(S.ownerDocument.documentElement,S)){if(T!==null&&hf(S)){var I=T.start,M=T.end;if(M===void 0&&(M=I),"selectionStart"in S)S.selectionStart=I,S.selectionEnd=Math.min(M,S.value.length);else{var q=S.ownerDocument||document,R=q&&q.defaultView||window;if(R.getSelection){var B=R.getSelection(),ot=S.textContent.length,it=Math.min(T.start,ot),Mt=T.end===void 0?it:Math.min(T.end,ot);!B.extend&&it>Mt&&(m=Mt,Mt=it,it=m);var N=dm(S,it),A=dm(S,Mt);if(N&&A&&(B.rangeCount!==1||B.anchorNode!==N.node||B.anchorOffset!==N.offset||B.focusNode!==A.node||B.focusOffset!==A.offset)){var k=q.createRange();k.setStart(N.node,N.offset),B.removeAllRanges(),it>Mt?(B.addRange(k),B.extend(A.node,A.offset)):(k.setEnd(A.node,A.offset),B.addRange(k))}}}}for(q=[],B=S;B=B.parentNode;)B.nodeType===1&&q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<q.length;S++){var J=q[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Uu=!!Jh,qh=Jh=null}finally{It=u,G.p=o,L.T=a}}e.current=r,me=2}}function Op(){if(me===2){me=0;var e=oa,r=Cs,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var o=G.p;G.p=2;var u=It;It|=4;try{ap(e,r.alternate,r)}finally{It=u,G.p=o,L.T=a}}me=3}}function kp(){if(me===4||me===3){me=0,JS();var e=oa,r=Cs,a=Is,o=yp;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?me=5:(me=0,Cs=oa=null,Cp(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(sa=null),Kc(a),r=r.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(io,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=L.T,u=G.p,G.p=2,L.T=null;try{for(var f=e.onRecoverableError,m=0;m<o.length;m++){var S=o[m];f(S.value,{componentStack:S.stack})}}finally{L.T=r,G.p=u}}(Is&3)!==0&&Eu(),Hn(e),u=e.pendingLanes,(a&4194090)!==0&&(u&42)!==0?e===Eh?jo++:(jo=0,Eh=e):jo=0,Ko(0)}}function Cp(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,Ao(r)))}function Eu(e){return Dp(),Op(),kp(),Ip()}function Ip(){if(me!==5)return!1;var e=oa,r=wh;wh=0;var a=Kc(Is),o=L.T,u=G.p;try{G.p=32>a?32:a,L.T=null,a=Ah,Ah=null;var f=oa,m=Is;if(me=0,Cs=oa=null,Is=0,(It&6)!==0)throw Error(i(331));var S=It;if(It|=4,gp(f.current),fp(f,f.current,m,a),It=S,Ko(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(io,f)}catch{}return!0}finally{G.p=u,L.T=o,Cp(e,r)}}function Rp(e,r,a){r=en(a,r),r=nh(e.stateNode,r,2),e=Qi(e,r,2),e!==null&&(so(e,2),Hn(e))}function Jt(e,r,a){if(e.tag===3)Rp(e,e,a);else for(;r!==null;){if(r.tag===3){Rp(r,e,a);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(sa===null||!sa.has(o))){e=en(a,e),a=Uy(2),o=Qi(r,a,2),o!==null&&(Ly(a,o,r,e),so(o,2),Hn(o));break}}r=r.return}}function Oh(e,r,a){var o=e.pingCache;if(o===null){o=e.pingCache=new fT;var u=new Set;o.set(r,u)}else u=o.get(r),u===void 0&&(u=new Set,o.set(r,u));u.has(a)||(vh=!0,u.add(a),e=yT.bind(null,e,r,a),r.then(e,e))}function yT(e,r,a){var o=e.pingCache;o!==null&&o.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Pt===e&&(wt&a)===a&&(Xt===4||Xt===3&&(wt&62914560)===wt&&300>Ln()-Th?(It&2)===0&&Rs(e,0):Sh|=a,ks===wt&&(ks=0)),Hn(e)}function Bp(e,r){r===0&&(r=kg()),e=gs(e,r),e!==null&&(so(e,r),Hn(e))}function pT(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),Bp(e,a)}function vT(e,r){var a=0;switch(e.tag){case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(r),Bp(e,a)}function ST(e,r){return Pc(e,r)}var xu=null,zs=null,kh=!1,Nu=!1,Ch=!1,Ha=0;function Hn(e){e!==zs&&e.next===null&&(zs===null?xu=zs=e:zs=zs.next=e),Nu=!0,kh||(kh=!0,TT())}function Ko(e,r){if(!Ch&&Nu){Ch=!0;do for(var a=!1,o=xu;o!==null;){if(e!==0){var u=o.pendingLanes;if(u===0)var f=0;else{var m=o.suspendedLanes,S=o.pingedLanes;f=(1<<31-Pe(42|e)+1)-1,f&=u&~(m&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Lp(o,f))}else f=wt,f=Rl(o,o===Pt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ao(o,f)||(a=!0,Lp(o,f));o=o.next}while(a);Ch=!1}}function bT(){zp()}function zp(){Nu=kh=!1;var e=0;Ha!==0&&(kT()&&(e=Ha),Ha=0);for(var r=Ln(),a=null,o=xu;o!==null;){var u=o.next,f=Mp(o,r);f===0?(o.next=null,a===null?xu=u:a.next=u,u===null&&(zs=a)):(a=o,(e!==0||(f&3)!==0)&&(Nu=!0)),o=u}Ko(e)}function Mp(e,r){for(var a=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var m=31-Pe(f),S=1<<m,T=u[m];T===-1?((S&a)===0||(S&o)!==0)&&(u[m]=GS(S,r)):T<=r&&(e.expiredLanes|=S),f&=~S}if(r=Pt,a=wt,a=Rl(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===r&&(Rt===2||Rt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Vc(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ao(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(o!==null&&Vc(o),Kc(a)){case 2:case 8:a=Ng;break;case 32:a=kl;break;case 268435456:a=Dg;break;default:a=kl}return o=Up.bind(null,e),a=Pc(a,o),e.callbackPriority=r,e.callbackNode=a,r}return o!==null&&o!==null&&Vc(o),e.callbackPriority=2,e.callbackNode=null,2}function Up(e,r){if(me!==0&&me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Eu()&&e.callbackNode!==a)return null;var o=wt;return o=Rl(e,e===Pt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(vp(e,o,r),Mp(e,Ln()),e.callbackNode!=null&&e.callbackNode===a?Up.bind(null,e):null)}function Lp(e,r){if(Eu())return null;vp(e,r,!0)}function TT(){IT(function(){(It&6)!==0?Pc(xg,bT):zp()})}function Ih(){return Ha===0&&(Ha=Og()),Ha}function Jp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ll(""+e)}function qp(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function wT(e,r,a,o,u){if(r==="submit"&&a&&a.stateNode===u){var f=Jp((u[ke]||null).action),m=o.submitter;m&&(r=(r=m[ke]||null)?Jp(r.formAction):m.getAttribute("formAction"),r!==null&&(f=r,m=null));var S=new Vl("action","action",null,o,u);e.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ha!==0){var T=m?qp(u,m):new FormData(u);Qf(a,{pending:!0,data:T,method:u.method,action:f},null,T)}}else typeof f=="function"&&(S.preventDefault(),T=m?qp(u,m):new FormData(u),Qf(a,{pending:!0,data:T,method:u.method,action:f},f,T))},currentTarget:u}]})}}for(var Rh=0;Rh<yf.length;Rh++){var Bh=yf[Rh],AT=Bh.toLowerCase(),ET=Bh[0].toUpperCase()+Bh.slice(1);xn(AT,"on"+ET)}xn(vm,"onAnimationEnd"),xn(Sm,"onAnimationIteration"),xn(bm,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(Vb,"onTransitionRun"),xn(Hb,"onTransitionStart"),xn(jb,"onTransitionCancel"),xn(Tm,"onTransitionEnd"),is("onMouseEnter",["mouseout","mouseover"]),is("onMouseLeave",["mouseout","mouseover"]),is("onPointerEnter",["pointerout","pointerover"]),is("onPointerLeave",["pointerout","pointerover"]),Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Na("onBeforeInput",["compositionend","keypress","textInput","paste"]),Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yo));function Pp(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],u=o.event;o=o.listeners;t:{var f=void 0;if(r)for(var m=o.length-1;0<=m;m--){var S=o[m],T=S.instance,I=S.currentTarget;if(S=S.listener,T!==f&&u.isPropagationStopped())break t;f=S,u.currentTarget=I;try{f(u)}catch(M){du(M)}u.currentTarget=null,f=T}else for(m=0;m<o.length;m++){if(S=o[m],T=S.instance,I=S.currentTarget,S=S.listener,T!==f&&u.isPropagationStopped())break t;f=S,u.currentTarget=I;try{f(u)}catch(M){du(M)}u.currentTarget=null,f=T}}}}function vt(e,r){var a=r[Yc];a===void 0&&(a=r[Yc]=new Set);var o=e+"__bubble";a.has(o)||(Vp(r,e,2,!1),a.add(o))}function zh(e,r,a){var o=0;r&&(o|=4),Vp(a,e,o,r)}var Du="_reactListening"+Math.random().toString(36).slice(2);function Mh(e){if(!e[Du]){e[Du]=!0,zg.forEach(function(a){a!=="selectionchange"&&(xT.has(a)||zh(a,!1,e),zh(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Du]||(r[Du]=!0,zh("selectionchange",!1,r))}}function Vp(e,r,a,o){switch(fv(r)){case 2:var u=_T;break;case 8:u=WT;break;default:u=Zh}a=u.bind(null,r,a,e),u=void 0,!nf||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(r,a,{capture:!0,passive:u}):e.addEventListener(r,a,!0):u!==void 0?e.addEventListener(r,a,{passive:u}):e.addEventListener(r,a,!1)}function Uh(e,r,a,o,u){var f=o;if((r&1)===0&&(r&2)===0&&o!==null)t:for(;;){if(o===null)return;var m=o.tag;if(m===3||m===4){var S=o.stateNode.containerInfo;if(S===u)break;if(m===4)for(m=o.return;m!==null;){var T=m.tag;if((T===3||T===4)&&m.stateNode.containerInfo===u)return;m=m.return}for(;S!==null;){if(m=es(S),m===null)return;if(T=m.tag,T===5||T===6||T===26||T===27){o=f=m;continue t}S=S.parentNode}}o=o.return}Xg(function(){var I=f,M=tf(a),q=[];t:{var R=wm.get(e);if(R!==void 0){var B=Vl,ot=e;switch(e){case"keypress":if(ql(a)===0)break t;case"keydown":case"keyup":B=Sb;break;case"focusin":ot="focus",B=of;break;case"focusout":ot="blur",B=of;break;case"beforeblur":case"afterblur":B=of;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=ob;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=wb;break;case vm:case Sm:case bm:B=cb;break;case Tm:B=Eb;break;case"scroll":case"scrollend":B=ab;break;case"wheel":B=Nb;break;case"copy":case"cut":case"paste":B=hb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Wg;break;case"toggle":case"beforetoggle":B=Ob}var it=(r&4)!==0,Mt=!it&&(e==="scroll"||e==="scrollend"),N=it?R!==null?R+"Capture":null:R;it=[];for(var A=I,k;A!==null;){var J=A;if(k=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||k===null||N===null||(J=uo(A,N),J!=null&&it.push(Go(A,J,k))),Mt)break;A=A.return}0<it.length&&(R=new B(R,ot,null,a,M),q.push({event:R,listeners:it}))}}if((r&7)===0){t:{if(R=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",R&&a!==Wc&&(ot=a.relatedTarget||a.fromElement)&&(es(ot)||ot[ts]))break t;if((B||R)&&(R=M.window===M?M:(R=M.ownerDocument)?R.defaultView||R.parentWindow:window,B?(ot=a.relatedTarget||a.toElement,B=I,ot=ot?es(ot):null,ot!==null&&(Mt=c(ot),it=ot.tag,ot!==Mt||it!==5&&it!==27&&it!==6)&&(ot=null)):(B=null,ot=I),B!==ot)){if(it=Qg,J="onMouseLeave",N="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(it=Wg,J="onPointerLeave",N="onPointerEnter",A="pointer"),Mt=B==null?R:lo(B),k=ot==null?R:lo(ot),R=new it(J,A+"leave",B,a,M),R.target=Mt,R.relatedTarget=k,J=null,es(M)===I&&(it=new it(N,A+"enter",ot,a,M),it.target=k,it.relatedTarget=Mt,J=it),Mt=J,B&&ot)e:{for(it=B,N=ot,A=0,k=it;k;k=Ms(k))A++;for(k=0,J=N;J;J=Ms(J))k++;for(;0<A-k;)it=Ms(it),A--;for(;0<k-A;)N=Ms(N),k--;for(;A--;){if(it===N||N!==null&&it===N.alternate)break e;it=Ms(it),N=Ms(N)}it=null}else it=null;B!==null&&Hp(q,R,B,it,!1),ot!==null&&Mt!==null&&Hp(q,Mt,ot,it,!0)}}t:{if(R=I?lo(I):window,B=R.nodeName&&R.nodeName.toLowerCase(),B==="select"||B==="input"&&R.type==="file")var Z=om;else if(am(R))if(lm)Z=Jb;else{Z=Ub;var gt=Mb}else B=R.nodeName,!B||B.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?I&&_c(I.elementType)&&(Z=om):Z=Lb;if(Z&&(Z=Z(e,I))){sm(q,Z,a,M);break t}gt&&gt(e,R,I),e==="focusout"&&I&&R.type==="number"&&I.memoizedProps.value!=null&&Qc(R,"number",R.value)}switch(gt=I?lo(I):window,e){case"focusin":(am(gt)||gt.contentEditable==="true")&&(fs=gt,df=I,vo=null);break;case"focusout":vo=df=fs=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,ym(q,a,M);break;case"selectionchange":if(Pb)break;case"keydown":case"keyup":ym(q,a,M)}var Q;if(uf)t:{switch(e){case"compositionstart":var at="onCompositionStart";break t;case"compositionend":at="onCompositionEnd";break t;case"compositionupdate":at="onCompositionUpdate";break t}at=void 0}else cs?rm(e,a)&&(at="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(at="onCompositionStart");at&&(tm&&a.locale!=="ko"&&(cs||at!=="onCompositionStart"?at==="onCompositionEnd"&&cs&&(Q=Zg()):($i=M,rf="value"in $i?$i.value:$i.textContent,cs=!0)),gt=Ou(I,at),0<gt.length&&(at=new _g(at,e,null,a,M),q.push({event:at,listeners:gt}),Q?at.data=Q:(Q=im(a),Q!==null&&(at.data=Q)))),(Q=Cb?Ib(e,a):Rb(e,a))&&(at=Ou(I,"onBeforeInput"),0<at.length&&(gt=new _g("onBeforeInput","beforeinput",null,a,M),q.push({event:gt,listeners:at}),gt.data=Q)),wT(q,e,I,a,M)}Pp(q,r)})}function Go(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Ou(e,r){for(var a=r+"Capture",o=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=uo(e,a),u!=null&&o.unshift(Go(e,u,f)),u=uo(e,r),u!=null&&o.push(Go(e,u,f))),e.tag===3)return o;e=e.return}return[]}function Ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hp(e,r,a,o,u){for(var f=r._reactName,m=[];a!==null&&a!==o;){var S=a,T=S.alternate,I=S.stateNode;if(S=S.tag,T!==null&&T===o)break;S!==5&&S!==26&&S!==27||I===null||(T=I,u?(I=uo(a,f),I!=null&&m.unshift(Go(a,I,T))):u||(I=uo(a,f),I!=null&&m.push(Go(a,I,T)))),a=a.return}m.length!==0&&e.push({event:r,listeners:m})}var NT=/\r\n?/g,DT=/\u0000|\uFFFD/g;function jp(e){return(typeof e=="string"?e:""+e).replace(NT,`
`).replace(DT,"")}function Kp(e,r){return r=jp(r),jp(e)===r}function ku(){}function zt(e,r,a,o,u,f){switch(a){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||os(e,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&os(e,""+o);break;case"className":zl(e,"class",o);break;case"tabIndex":zl(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":zl(e,a,o);break;case"style":Gg(e,o,f);break;case"data":if(r!=="object"){zl(e,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ll(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&zt(e,r,"name",u.name,u,null),zt(e,r,"formEncType",u.formEncType,u,null),zt(e,r,"formMethod",u.formMethod,u,null),zt(e,r,"formTarget",u.formTarget,u,null)):(zt(e,r,"encType",u.encType,u,null),zt(e,r,"method",u.method,u,null),zt(e,r,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ll(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ku);break;case"onScroll":o!=null&&vt("scroll",e);break;case"onScrollEnd":o!=null&&vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Ll(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":vt("beforetoggle",e),vt("toggle",e),Bl(e,"popover",o);break;case"xlinkActuate":rr(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":rr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":rr(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":rr(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":rr(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":rr(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":rr(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":rr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":rr(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Bl(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rb.get(a)||a,Bl(e,a,o))}}function Lh(e,r,a,o,u,f){switch(a){case"style":Gg(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof o=="string"?os(e,o):(typeof o=="number"||typeof o=="bigint")&&os(e,""+o);break;case"onScroll":o!=null&&vt("scroll",e);break;case"onScrollEnd":o!=null&&vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mg.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),r=a.slice(2,u?a.length-7:void 0),f=e[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(r,f,u),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,o,u);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Bl(e,a,o)}}}function ye(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",e),vt("load",e);var o=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var m=a[f];if(m!=null)switch(f){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:zt(e,r,f,m,a,null)}}u&&zt(e,r,"srcSet",a.srcSet,a,null),o&&zt(e,r,"src",a.src,a,null);return;case"input":vt("invalid",e);var S=f=m=u=null,T=null,I=null;for(o in a)if(a.hasOwnProperty(o)){var M=a[o];if(M!=null)switch(o){case"name":u=M;break;case"type":m=M;break;case"checked":T=M;break;case"defaultChecked":I=M;break;case"value":f=M;break;case"defaultValue":S=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(137,r));break;default:zt(e,r,o,M,a,null)}}Hg(e,f,S,T,I,m,u,!1),Ml(e);return;case"select":vt("invalid",e),o=m=f=null;for(u in a)if(a.hasOwnProperty(u)&&(S=a[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":m=S;break;case"multiple":o=S;default:zt(e,r,u,S,a,null)}r=f,a=m,e.multiple=!!o,r!=null?ss(e,!!o,r,!1):a!=null&&ss(e,!!o,a,!0);return;case"textarea":vt("invalid",e),f=u=o=null;for(m in a)if(a.hasOwnProperty(m)&&(S=a[m],S!=null))switch(m){case"value":o=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:zt(e,r,m,S,a,null)}Kg(e,o,u,f),Ml(e);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(o=a[T],o!=null))switch(T){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:zt(e,r,T,o,a,null)}return;case"dialog":vt("beforetoggle",e),vt("toggle",e),vt("cancel",e),vt("close",e);break;case"iframe":case"object":vt("load",e);break;case"video":case"audio":for(o=0;o<Yo.length;o++)vt(Yo[o],e);break;case"image":vt("error",e),vt("load",e);break;case"details":vt("toggle",e);break;case"embed":case"source":case"link":vt("error",e),vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:zt(e,r,I,o,a,null)}return;default:if(_c(r)){for(M in a)a.hasOwnProperty(M)&&(o=a[M],o!==void 0&&Lh(e,r,M,o,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null&&zt(e,r,S,o,a,null))}function OT(e,r,a,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,m=null,S=null,T=null,I=null,M=null;for(B in a){var q=a[B];if(a.hasOwnProperty(B)&&q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":T=q;default:o.hasOwnProperty(B)||zt(e,r,B,null,o,q)}}for(var R in o){var B=o[R];if(q=a[R],o.hasOwnProperty(R)&&(B!=null||q!=null))switch(R){case"type":f=B;break;case"name":u=B;break;case"checked":I=B;break;case"defaultChecked":M=B;break;case"value":m=B;break;case"defaultValue":S=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,r));break;default:B!==q&&zt(e,r,R,B,o,q)}}Fc(e,m,S,T,I,M,f,u);return;case"select":B=m=S=R=null;for(f in a)if(T=a[f],a.hasOwnProperty(f)&&T!=null)switch(f){case"value":break;case"multiple":B=T;default:o.hasOwnProperty(f)||zt(e,r,f,null,o,T)}for(u in o)if(f=o[u],T=a[u],o.hasOwnProperty(u)&&(f!=null||T!=null))switch(u){case"value":R=f;break;case"defaultValue":S=f;break;case"multiple":m=f;default:f!==T&&zt(e,r,u,f,o,T)}r=S,a=m,o=B,R!=null?ss(e,!!a,R,!1):!!o!=!!a&&(r!=null?ss(e,!!a,r,!0):ss(e,!!a,a?[]:"",!1));return;case"textarea":B=R=null;for(S in a)if(u=a[S],a.hasOwnProperty(S)&&u!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:zt(e,r,S,null,o,u)}for(m in o)if(u=o[m],f=a[m],o.hasOwnProperty(m)&&(u!=null||f!=null))switch(m){case"value":R=u;break;case"defaultValue":B=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==f&&zt(e,r,m,u,o,f)}jg(e,R,B);return;case"option":for(var ot in a)if(R=a[ot],a.hasOwnProperty(ot)&&R!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:zt(e,r,ot,null,o,R)}for(T in o)if(R=o[T],B=a[T],o.hasOwnProperty(T)&&R!==B&&(R!=null||B!=null))switch(T){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:zt(e,r,T,R,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in a)R=a[it],a.hasOwnProperty(it)&&R!=null&&!o.hasOwnProperty(it)&&zt(e,r,it,null,o,R);for(I in o)if(R=o[I],B=a[I],o.hasOwnProperty(I)&&R!==B&&(R!=null||B!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(137,r));break;default:zt(e,r,I,R,o,B)}return;default:if(_c(r)){for(var Mt in a)R=a[Mt],a.hasOwnProperty(Mt)&&R!==void 0&&!o.hasOwnProperty(Mt)&&Lh(e,r,Mt,void 0,o,R);for(M in o)R=o[M],B=a[M],!o.hasOwnProperty(M)||R===B||R===void 0&&B===void 0||Lh(e,r,M,R,o,B);return}}for(var N in a)R=a[N],a.hasOwnProperty(N)&&R!=null&&!o.hasOwnProperty(N)&&zt(e,r,N,null,o,R);for(q in o)R=o[q],B=a[q],!o.hasOwnProperty(q)||R===B||R==null&&B==null||zt(e,r,q,R,o,B)}var Jh=null,qh=null;function Cu(e){return e.nodeType===9?e:e.ownerDocument}function Yp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gp(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function Ph(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Vh=null;function kT(){var e=window.event;return e&&e.type==="popstate"?e===Vh?!1:(Vh=e,!0):(Vh=null,!1)}var $p=typeof setTimeout=="function"?setTimeout:void 0,CT=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,IT=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(e){return Xp.resolve(null).then(e).catch(RT)}:$p;function RT(e){setTimeout(function(){throw e})}function ua(e){return e==="head"}function Zp(e,r){var a=r,o=0,u=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var m=e.ownerDocument;if(a&1&&$o(m.documentElement),a&2&&$o(m.body),a&4)for(a=m.head,$o(a),m=a.firstChild;m;){var S=m.nextSibling,T=m.nodeName;m[oo]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=S}}if(u===0){e.removeChild(f),el(r);return}u--}else a==="$"||a==="$?"||a==="$!"?u++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);el(r)}function Hh(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hh(a),Gc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function BT(e,r,a,o){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[oo])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function zT(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Dn(e.nextSibling),e===null))return null;return e}function jh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function MT(e,r){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")r();else{var o=function(){r(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Dn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}var Kh=null;function Fp(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}function Qp(e,r,a){switch(r=Cu(a),e){case"html":if(e=r.documentElement,!e)throw Error(i(452));return e;case"head":if(e=r.head,!e)throw Error(i(453));return e;case"body":if(e=r.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function $o(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Gc(e)}var ln=new Map,_p=new Set;function Iu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pr=G.d;G.d={f:UT,r:LT,D:JT,C:qT,L:PT,m:VT,X:jT,S:HT,M:KT};function UT(){var e=pr.f(),r=wu();return e||r}function LT(e){var r=ns(e);r!==null&&r.tag===5&&r.type==="form"?vy(r):pr.r(e)}var Us=typeof document>"u"?null:document;function Wp(e,r,a){var o=Us;if(o&&typeof r=="string"&&r){var u=tn(r);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),_p.has(u)||(_p.add(u),e={rel:e,crossOrigin:a,href:r},o.querySelector(u)===null&&(r=o.createElement("link"),ye(r,"link",e),ce(r),o.head.appendChild(r)))}}function JT(e){pr.D(e),Wp("dns-prefetch",e,null)}function qT(e,r){pr.C(e,r),Wp("preconnect",e,r)}function PT(e,r,a){pr.L(e,r,a);var o=Us;if(o&&e&&r){var u='link[rel="preload"][as="'+tn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+tn(a.imageSizes)+'"]')):u+='[href="'+tn(e)+'"]';var f=u;switch(r){case"style":f=Ls(e);break;case"script":f=Js(e)}ln.has(f)||(e=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),ln.set(f,e),o.querySelector(u)!==null||r==="style"&&o.querySelector(Xo(f))||r==="script"&&o.querySelector(Zo(f))||(r=o.createElement("link"),ye(r,"link",e),ce(r),o.head.appendChild(r)))}}function VT(e,r){pr.m(e,r);var a=Us;if(a&&e){var o=r&&typeof r.as=="string"?r.as:"script",u='link[rel="modulepreload"][as="'+tn(o)+'"][href="'+tn(e)+'"]',f=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Js(e)}if(!ln.has(f)&&(e=b({rel:"modulepreload",href:e},r),ln.set(f,e),a.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zo(f)))return}o=a.createElement("link"),ye(o,"link",e),ce(o),a.head.appendChild(o)}}}function HT(e,r,a){pr.S(e,r,a);var o=Us;if(o&&e){var u=rs(o).hoistableStyles,f=Ls(e);r=r||"default";var m=u.get(f);if(!m){var S={loading:0,preload:null};if(m=o.querySelector(Xo(f)))S.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":r},a),(a=ln.get(f))&&Yh(e,a);var T=m=o.createElement("link");ce(T),ye(T,"link",e),T._p=new Promise(function(I,M){T.onload=I,T.onerror=M}),T.addEventListener("load",function(){S.loading|=1}),T.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ru(m,r,o)}m={type:"stylesheet",instance:m,count:1,state:S},u.set(f,m)}}}function jT(e,r){pr.X(e,r);var a=Us;if(a&&e){var o=rs(a).hoistableScripts,u=Js(e),f=o.get(u);f||(f=a.querySelector(Zo(u)),f||(e=b({src:e,async:!0},r),(r=ln.get(u))&&Gh(e,r),f=a.createElement("script"),ce(f),ye(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function KT(e,r){pr.M(e,r);var a=Us;if(a&&e){var o=rs(a).hoistableScripts,u=Js(e),f=o.get(u);f||(f=a.querySelector(Zo(u)),f||(e=b({src:e,async:!0,type:"module"},r),(r=ln.get(u))&&Gh(e,r),f=a.createElement("script"),ce(f),ye(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function tv(e,r,a,o){var u=(u=ut.current)?Iu(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ls(a.href),a=rs(u).hoistableStyles,o=a.get(r),o||(o={type:"style",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ls(a.href);var f=rs(u).hoistableStyles,m=f.get(e);if(m||(u=u.ownerDocument||u,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,m),(f=u.querySelector(Xo(e)))&&!f._p&&(m.instance=f,m.state.loading=5),ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ln.set(e,a),f||YT(u,e,a,m.state))),r&&o===null)throw Error(i(528,""));return m}if(r&&o!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Js(a),a=rs(u).hoistableScripts,o=a.get(r),o||(o={type:"script",instance:null,count:0,state:null},a.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Ls(e){return'href="'+tn(e)+'"'}function Xo(e){return'link[rel="stylesheet"]['+e+"]"}function ev(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function YT(e,r,a,o){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=e.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),ye(r,"link",a),ce(r),e.head.appendChild(r))}function Js(e){return'[src="'+tn(e)+'"]'}function Zo(e){return"script[async]"+e}function nv(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var o=e.querySelector('style[data-href~="'+tn(a.href)+'"]');if(o)return r.instance=o,ce(o),o;var u=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ce(o),ye(o,"style",u),Ru(o,a.precedence,e),r.instance=o;case"stylesheet":u=Ls(a.href);var f=e.querySelector(Xo(u));if(f)return r.state.loading|=4,r.instance=f,ce(f),f;o=ev(a),(u=ln.get(u))&&Yh(o,u),f=(e.ownerDocument||e).createElement("link"),ce(f);var m=f;return m._p=new Promise(function(S,T){m.onload=S,m.onerror=T}),ye(f,"link",o),r.state.loading|=4,Ru(f,a.precedence,e),r.instance=f;case"script":return f=Js(a.src),(u=e.querySelector(Zo(f)))?(r.instance=u,ce(u),u):(o=a,(u=ln.get(f))&&(o=b({},a),Gh(o,u)),e=e.ownerDocument||e,u=e.createElement("script"),ce(u),ye(u,"link",o),e.head.appendChild(u),r.instance=u);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Ru(o,a.precedence,e));return r.instance}function Ru(e,r,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,f=u,m=0;m<o.length;m++){var S=o[m];if(S.dataset.precedence===r)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function Yh(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function Gh(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Bu=null;function rv(e,r,a){if(Bu===null){var o=new Map,u=Bu=new Map;u.set(a,o)}else u=Bu,o=u.get(a),o||(o=new Map,u.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var f=a[u];if(!(f[oo]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var m=f.getAttribute(r)||"";m=e+m;var S=o.get(m);S?S.push(f):o.set(m,[f])}}return o}function iv(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function GT(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function av(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Fo=null;function $T(){}function XT(e,r,a){if(Fo===null)throw Error(i(475));var o=Fo;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=Ls(a.href),f=e.querySelector(Xo(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=zu.bind(o),e.then(o,o)),r.state.loading|=4,r.instance=f,ce(f);return}f=e.ownerDocument||e,a=ev(a),(u=ln.get(u))&&Yh(a,u),f=f.createElement("link"),ce(f);var m=f;m._p=new Promise(function(S,T){m.onload=S,m.onerror=T}),ye(f,"link",a),r.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(o.count++,r=zu.bind(o),e.addEventListener("load",r),e.addEventListener("error",r))}}function ZT(){if(Fo===null)throw Error(i(475));var e=Fo;return e.stylesheets&&e.count===0&&$h(e,e.stylesheets),0<e.count?function(r){var a=setTimeout(function(){if(e.stylesheets&&$h(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(a)}}:null}function zu(){if(this.count--,this.count===0){if(this.stylesheets)$h(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mu=null;function $h(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mu=new Map,r.forEach(FT,e),Mu=null,zu.call(e))}function FT(e,r){if(!(r.state.loading&4)){var a=Mu.get(e);if(a)var o=a.get(null);else{a=new Map,Mu.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var m=u[f];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),o=m)}o&&a.set(null,o)}u=r.instance,m=u.getAttribute("data-precedence"),f=a.get(m)||o,f===o&&a.set(null,u),a.set(m,u),this.count++,o=zu.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),r.state.loading|=4}}var Qo={$$typeof:ct,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function QT(e,r,a,o,u,f,m,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hc(0),this.hiddenUpdates=Hc(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function sv(e,r,a,o,u,f,m,S,T,I,M,q){return e=new QT(e,r,a,m,S,T,I,q),r=1,f===!0&&(r|=24),f=He(3,null,null,r),e.current=f,f.stateNode=e,r=Of(),r.refCount++,e.pooledCache=r,r.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:r},Rf(f),e}function ov(e){return e?(e=ms,e):ms}function lv(e,r,a,o,u,f){u=ov(u),o.context===null?o.context=u:o.pendingContext=u,o=Fi(r),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Qi(e,o,r),a!==null&&($e(a,e,r),Do(a,e,r))}function uv(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function Xh(e,r){uv(e,r),(e=e.alternate)&&uv(e,r)}function cv(e){if(e.tag===13){var r=gs(e,67108864);r!==null&&$e(r,e,67108864),Xh(e,67108864)}}var Uu=!0;function _T(e,r,a,o){var u=L.T;L.T=null;var f=G.p;try{G.p=2,Zh(e,r,a,o)}finally{G.p=f,L.T=u}}function WT(e,r,a,o){var u=L.T;L.T=null;var f=G.p;try{G.p=8,Zh(e,r,a,o)}finally{G.p=f,L.T=u}}function Zh(e,r,a,o){if(Uu){var u=Fh(o);if(u===null)Uh(e,r,o,Lu,a),hv(e,o);else if(ew(u,e,r,a,o))o.stopPropagation();else if(hv(e,o),r&4&&-1<tw.indexOf(e)){for(;u!==null;){var f=ns(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=xa(f.pendingLanes);if(m!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;m;){var T=1<<31-Pe(m);S.entanglements[1]|=T,m&=~T}Hn(f),(It&6)===0&&(bu=Ln()+500,Ko(0))}}break;case 13:S=gs(f,2),S!==null&&$e(S,f,2),wu(),Xh(f,2)}if(f=Fh(o),f===null&&Uh(e,r,o,Lu,a),f===u)break;u=f}u!==null&&o.stopPropagation()}else Uh(e,r,o,null,a)}}function Fh(e){return e=tf(e),Qh(e)}var Lu=null;function Qh(e){if(Lu=null,e=es(e),e!==null){var r=c(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=d(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Lu=e,null}function fv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qS()){case xg:return 2;case Ng:return 8;case kl:case PS:return 32;case Dg:return 268435456;default:return 32}default:return 32}}var _h=!1,ca=null,fa=null,ha=null,_o=new Map,Wo=new Map,da=[],tw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hv(e,r){switch(e){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":_o.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(r.pointerId)}}function tl(e,r,a,o,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:r,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[u]},r!==null&&(r=ns(r),r!==null&&cv(r)),e):(e.eventSystemFlags|=o,r=e.targetContainers,u!==null&&r.indexOf(u)===-1&&r.push(u),e)}function ew(e,r,a,o,u){switch(r){case"focusin":return ca=tl(ca,e,r,a,o,u),!0;case"dragenter":return fa=tl(fa,e,r,a,o,u),!0;case"mouseover":return ha=tl(ha,e,r,a,o,u),!0;case"pointerover":var f=u.pointerId;return _o.set(f,tl(_o.get(f)||null,e,r,a,o,u)),!0;case"gotpointercapture":return f=u.pointerId,Wo.set(f,tl(Wo.get(f)||null,e,r,a,o,u)),!0}return!1}function dv(e){var r=es(e.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){e.blockedOn=r,XS(e.priority,function(){if(a.tag===13){var o=Ge();o=jc(o);var u=gs(a,o);u!==null&&$e(u,a,o),Xh(a,o)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ju(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=Fh(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Wc=o,a.target.dispatchEvent(o),Wc=null}else return r=ns(a),r!==null&&cv(r),e.blockedOn=a,!1;r.shift()}return!0}function gv(e,r,a){Ju(e)&&a.delete(r)}function nw(){_h=!1,ca!==null&&Ju(ca)&&(ca=null),fa!==null&&Ju(fa)&&(fa=null),ha!==null&&Ju(ha)&&(ha=null),_o.forEach(gv),Wo.forEach(gv)}function qu(e,r){e.blockedOn===r&&(e.blockedOn=null,_h||(_h=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,nw)))}var Pu=null;function mv(e){Pu!==e&&(Pu=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Pu===e&&(Pu=null);for(var r=0;r<e.length;r+=3){var a=e[r],o=e[r+1],u=e[r+2];if(typeof o!="function"){if(Qh(o||a)===null)continue;break}var f=ns(a);f!==null&&(e.splice(r,3),r-=3,Qf(f,{pending:!0,data:u,method:a.method,action:o},o,u))}}))}function el(e){function r(T){return qu(T,e)}ca!==null&&qu(ca,e),fa!==null&&qu(fa,e),ha!==null&&qu(ha,e),_o.forEach(r),Wo.forEach(r);for(var a=0;a<da.length;a++){var o=da[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<da.length&&(a=da[0],a.blockedOn===null);)dv(a),a.blockedOn===null&&da.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var u=a[o],f=a[o+1],m=u[ke]||null;if(typeof f=="function")m||mv(a);else if(m){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,m=f[ke]||null)S=m.formAction;else if(Qh(u)!==null)continue}else S=m.action;typeof S=="function"?a[o+1]=S:(a.splice(o,3),o-=3),mv(a)}}}function Wh(e){this._internalRoot=e}Vu.prototype.render=Wh.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,o=Ge();lv(a,o,e,r,null,null)},Vu.prototype.unmount=Wh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;lv(e.current,2,null,e,null,null),wu(),r[ts]=null}};function Vu(e){this._internalRoot=e}Vu.prototype.unstable_scheduleHydration=function(e){if(e){var r=Rg();e={blockedOn:null,target:e,priority:r};for(var a=0;a<da.length&&r!==0&&r<da[a].priority;a++);da.splice(a,0,e),a===0&&dv(e)}};var yv=n.version;if(yv!=="19.1.0")throw Error(i(527,yv,"19.1.0"));G.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=y(r),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var rw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{io=Hu.inject(rw),qe=Hu}catch{}}return rl.createRoot=function(e,r){if(!l(e))throw Error(i(299));var a=!1,o="",u=Ry,f=By,m=zy,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(u=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(m=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=sv(e,1,!1,null,null,a,o,u,f,m,S,null),e[ts]=r.current,Mh(e),new Wh(r)},rl.hydrateRoot=function(e,r,a){if(!l(e))throw Error(i(299));var o=!1,u="",f=Ry,m=By,S=zy,T=null,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks),a.formState!==void 0&&(I=a.formState)),r=sv(e,1,!0,r,a??null,o,u,f,m,S,T,I),r.context=ov(null),a=r.current,o=Ge(),o=jc(o),u=Fi(o),u.callback=null,Qi(a,u,o),a=o,r.current.lanes=a,so(r,a),Hn(r),e[ts]=r.current,Mh(e),new Vu(r)},rl.version="19.1.0",rl}var Nv;function pw(){if(Nv)return nd.exports;Nv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),nd.exports=yw(),nd.exports}var vw=pw(),St;(function(s){s[s.Canceled=1]="Canceled",s[s.Unknown=2]="Unknown",s[s.InvalidArgument=3]="InvalidArgument",s[s.DeadlineExceeded=4]="DeadlineExceeded",s[s.NotFound=5]="NotFound",s[s.AlreadyExists=6]="AlreadyExists",s[s.PermissionDenied=7]="PermissionDenied",s[s.ResourceExhausted=8]="ResourceExhausted",s[s.FailedPrecondition=9]="FailedPrecondition",s[s.Aborted=10]="Aborted",s[s.OutOfRange=11]="OutOfRange",s[s.Unimplemented=12]="Unimplemented",s[s.Internal=13]="Internal",s[s.Unavailable=14]="Unavailable",s[s.DataLoss=15]="DataLoss",s[s.Unauthenticated=16]="Unauthenticated"})(St||(St={}));function Dv(s){const n=St[s];return typeof n!="string"?s.toString():n[0].toLowerCase()+n.substring(1).replace(/[A-Z]/g,t=>"_"+t.toLowerCase())}class Ut extends Error{constructor(n,t=St.Unknown,i,l,c){super(Sw(n,t)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=n,this.code=t,this.metadata=new Headers(i??{}),this.details=l??[],this.cause=c}static from(n,t=St.Unknown){return n instanceof Ut?n:n instanceof Error?n.name=="AbortError"?new Ut(n.message,St.Canceled):new Ut(n.message,t,void 0,void 0,n):new Ut(String(n),t,void 0,void 0,n)}static[Symbol.hasInstance](n){return n instanceof Error?Object.getPrototypeOf(n)===Ut.prototype?!0:n.name==="ConnectError"&&"code"in n&&typeof n.code=="number"&&"metadata"in n&&"details"in n&&Array.isArray(n.details)&&"rawMessage"in n&&typeof n.rawMessage=="string"&&"cause"in n:!1}findDetails(n){const t="typeName"in n?{findMessage:l=>l===n.typeName?n:void 0}:n,i=[];for(const l of this.details){if("getType"in l){t.findMessage(l.getType().typeName)&&i.push(l);continue}const c=t.findMessage(l.type);if(c)try{i.push(c.fromBinary(l.value))}catch{}}return i}}function Sw(s,n){return s.length?`[${Dv(n)}] ${s}`:`[${Dv(n)}]`}function Ft(s,n){if(!s)throw new Error(n)}const bw=34028234663852886e22,Tw=-34028234663852886e22,ww=4294967295,Aw=2147483647,Ew=-2147483648;function Fu(s){if(typeof s!="number")throw new Error("invalid int 32: "+typeof s);if(!Number.isInteger(s)||s>Aw||s<Ew)throw new Error("invalid int 32: "+s)}function dd(s){if(typeof s!="number")throw new Error("invalid uint 32: "+typeof s);if(!Number.isInteger(s)||s>ww||s<0)throw new Error("invalid uint 32: "+s)}function N0(s){if(typeof s!="number")throw new Error("invalid float 32: "+typeof s);if(Number.isFinite(s)&&(s>bw||s<Tw))throw new Error("invalid float 32: "+s)}const D0=Symbol("@bufbuild/protobuf/enum-type");function xw(s){const n=s[D0];return Ft(n,"missing enum type on enum object"),n}function O0(s,n,t,i){s[D0]=k0(n,t.map(l=>({no:l.no,name:l.name,localName:s[l.no]})))}function k0(s,n,t){const i=Object.create(null),l=Object.create(null),c=[];for(const d of n){const g=C0(d);c.push(g),i[d.name]=g,l[d.no]=g}return{typeName:s,values:c,findName(d){return i[d]},findNumber(d){return l[d]}}}function Nw(s,n,t){const i={};for(const l of n){const c=C0(l);i[c.localName]=c.no,i[c.no]=c.localName}return O0(i,s,n),i}function C0(s){return"localName"in s?s:Object.assign(Object.assign({},s),{localName:s.name})}class j{equals(n){return this.getType().runtime.util.equals(this.getType(),this,n)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(n,t){const i=this.getType(),l=i.runtime.bin,c=l.makeReadOptions(t);return l.readMessage(this,c.readerFactory(n),n.byteLength,c),this}fromJson(n,t){const i=this.getType(),l=i.runtime.json,c=l.makeReadOptions(t);return l.readMessage(i,n,c,this),this}fromJsonString(n,t){let i;try{i=JSON.parse(n)}catch(l){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${l instanceof Error?l.message:String(l)}`)}return this.fromJson(i,t)}toBinary(n){const t=this.getType(),i=t.runtime.bin,l=i.makeWriteOptions(n),c=l.writerFactory();return i.writeMessage(this,c,l),c.finish()}toJson(n){const t=this.getType(),i=t.runtime.json,l=i.makeWriteOptions(n);return i.writeMessage(this,l)}toJsonString(n){var t;const i=this.toJson(n);return JSON.stringify(i,null,(t=n==null?void 0:n.prettySpaces)!==null&&t!==void 0?t:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function Dw(s,n,t,i){var l;const c=(l=i==null?void 0:i.localName)!==null&&l!==void 0?l:n.substring(n.lastIndexOf(".")+1),d={[c]:function(g){s.util.initFields(this),s.util.initPartial(g,this)}}[c];return Object.setPrototypeOf(d.prototype,new j),Object.assign(d,{runtime:s,typeName:n,fields:s.util.newFieldList(t),fromBinary(g,y){return new d().fromBinary(g,y)},fromJson(g,y){return new d().fromJson(g,y)},fromJsonString(g,y){return new d().fromJsonString(g,y)},equals(g,y){return s.util.equals(d,g,y)}}),d}function Ow(){let s=0,n=0;for(let i=0;i<28;i+=7){let l=this.buf[this.pos++];if(s|=(l&127)<<i,(l&128)==0)return this.assertBounds(),[s,n]}let t=this.buf[this.pos++];if(s|=(t&15)<<28,n=(t&112)>>4,(t&128)==0)return this.assertBounds(),[s,n];for(let i=3;i<=31;i+=7){let l=this.buf[this.pos++];if(n|=(l&127)<<i,(l&128)==0)return this.assertBounds(),[s,n]}throw new Error("invalid varint")}function sd(s,n,t){for(let c=0;c<28;c=c+7){const d=s>>>c,g=!(!(d>>>7)&&n==0),y=(g?d|128:d)&255;if(t.push(y),!g)return}const i=s>>>28&15|(n&7)<<4,l=n>>3!=0;if(t.push((l?i|128:i)&255),!!l){for(let c=3;c<31;c=c+7){const d=n>>>c,g=!!(d>>>7),y=(g?d|128:d)&255;if(t.push(y),!g)return}t.push(n>>>31&1)}}const Qu=4294967296;function Ov(s){const n=s[0]==="-";n&&(s=s.slice(1));const t=1e6;let i=0,l=0;function c(d,g){const y=Number(s.slice(d,g));l*=t,i=i*t+y,i>=Qu&&(l=l+(i/Qu|0),i=i%Qu)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),n?R0(i,l):eg(i,l)}function kw(s,n){let t=eg(s,n);const i=t.hi&2147483648;i&&(t=R0(t.lo,t.hi));const l=I0(t.lo,t.hi);return i?"-"+l:l}function I0(s,n){if({lo:s,hi:n}=Cw(s,n),n<=2097151)return String(Qu*n+s);const t=s&16777215,i=(s>>>24|n<<8)&16777215,l=n>>16&65535;let c=t+i*6777216+l*6710656,d=i+l*8147497,g=l*2;const y=1e7;return c>=y&&(d+=Math.floor(c/y),c%=y),d>=y&&(g+=Math.floor(d/y),d%=y),g.toString()+kv(d)+kv(c)}function Cw(s,n){return{lo:s>>>0,hi:n>>>0}}function eg(s,n){return{lo:s|0,hi:n|0}}function R0(s,n){return n=~n,s?s=~s+1:n+=1,eg(s,n)}const kv=s=>{const n=String(s);return"0000000".slice(n.length)+n};function Cv(s,n){if(s>=0){for(;s>127;)n.push(s&127|128),s=s>>>7;n.push(s)}else{for(let t=0;t<9;t++)n.push(s&127|128),s=s>>7;n.push(1)}}function Iw(){let s=this.buf[this.pos++],n=s&127;if((s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<7,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<14,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<21,(s&128)==0)return this.assertBounds(),n;s=this.buf[this.pos++],n|=(s&15)<<28;for(let t=5;(s&128)!==0&&t<10;t++)s=this.buf[this.pos++];if((s&128)!=0)throw new Error("invalid varint");return this.assertBounds(),n>>>0}var Iv={};function Rw(){const s=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof s.getBigInt64=="function"&&typeof s.getBigUint64=="function"&&typeof s.setBigInt64=="function"&&typeof s.setBigUint64=="function"&&(typeof process!="object"||typeof Iv!="object"||Iv.BUF_BIGINT_DISABLE!=="1")){const l=BigInt("-9223372036854775808"),c=BigInt("9223372036854775807"),d=BigInt("0"),g=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(y){const v=typeof y=="bigint"?y:BigInt(y);if(v>c||v<l)throw new Error(`int64 invalid: ${y}`);return v},uParse(y){const v=typeof y=="bigint"?y:BigInt(y);if(v>g||v<d)throw new Error(`uint64 invalid: ${y}`);return v},enc(y){return s.setBigInt64(0,this.parse(y),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},uEnc(y){return s.setBigInt64(0,this.uParse(y),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},dec(y,v){return s.setInt32(0,y,!0),s.setInt32(4,v,!0),s.getBigInt64(0,!0)},uDec(y,v){return s.setInt32(0,y,!0),s.setInt32(4,v,!0),s.getBigUint64(0,!0)}}}const t=l=>Ft(/^-?[0-9]+$/.test(l),`int64 invalid: ${l}`),i=l=>Ft(/^[0-9]+$/.test(l),`uint64 invalid: ${l}`);return{zero:"0",supported:!1,parse(l){return typeof l!="string"&&(l=l.toString()),t(l),l},uParse(l){return typeof l!="string"&&(l=l.toString()),i(l),l},enc(l){return typeof l!="string"&&(l=l.toString()),t(l),Ov(l)},uEnc(l){return typeof l!="string"&&(l=l.toString()),i(l),Ov(l)},dec(l,c){return kw(l,c)},uDec(l,c){return I0(l,c)}}}const Tt=Rw();var z;(function(s){s[s.DOUBLE=1]="DOUBLE",s[s.FLOAT=2]="FLOAT",s[s.INT64=3]="INT64",s[s.UINT64=4]="UINT64",s[s.INT32=5]="INT32",s[s.FIXED64=6]="FIXED64",s[s.FIXED32=7]="FIXED32",s[s.BOOL=8]="BOOL",s[s.STRING=9]="STRING",s[s.BYTES=12]="BYTES",s[s.UINT32=13]="UINT32",s[s.SFIXED32=15]="SFIXED32",s[s.SFIXED64=16]="SFIXED64",s[s.SINT32=17]="SINT32",s[s.SINT64=18]="SINT64"})(z||(z={}));var wa;(function(s){s[s.BIGINT=0]="BIGINT",s[s.STRING=1]="STRING"})(wa||(wa={}));function ma(s,n,t){if(n===t)return!0;if(s==z.BYTES){if(!(n instanceof Uint8Array)||!(t instanceof Uint8Array)||n.length!==t.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==t[i])return!1;return!0}switch(s){case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return n==t}return!1}function $s(s,n){switch(s){case z.BOOL:return!1;case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return n==0?Tt.zero:"0";case z.DOUBLE:case z.FLOAT:return 0;case z.BYTES:return new Uint8Array(0);case z.STRING:return"";default:return 0}}function B0(s,n){switch(s){case z.BOOL:return n===!1;case z.STRING:return n==="";case z.BYTES:return n instanceof Uint8Array&&!n.byteLength;default:return n==0}}var ee;(function(s){s[s.Varint=0]="Varint",s[s.Bit64=1]="Bit64",s[s.LengthDelimited=2]="LengthDelimited",s[s.StartGroup=3]="StartGroup",s[s.EndGroup=4]="EndGroup",s[s.Bit32=5]="Bit32"})(ee||(ee={}));class Bw{constructor(n){this.stack=[],this.textEncoder=n??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let n=0;for(let l=0;l<this.chunks.length;l++)n+=this.chunks[l].length;let t=new Uint8Array(n),i=0;for(let l=0;l<this.chunks.length;l++)t.set(this.chunks[l],i),i+=this.chunks[l].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let n=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(n.byteLength),this.raw(n)}tag(n,t){return this.uint32((n<<3|t)>>>0)}raw(n){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(n),this}uint32(n){for(dd(n);n>127;)this.buf.push(n&127|128),n=n>>>7;return this.buf.push(n),this}int32(n){return Fu(n),Cv(n,this.buf),this}bool(n){return this.buf.push(n?1:0),this}bytes(n){return this.uint32(n.byteLength),this.raw(n)}string(n){let t=this.textEncoder.encode(n);return this.uint32(t.byteLength),this.raw(t)}float(n){N0(n);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,n,!0),this.raw(t)}double(n){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,n,!0),this.raw(t)}fixed32(n){dd(n);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,n,!0),this.raw(t)}sfixed32(n){Fu(n);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,n,!0),this.raw(t)}sint32(n){return Fu(n),n=(n<<1^n>>31)>>>0,Cv(n,this.buf),this}sfixed64(n){let t=new Uint8Array(8),i=new DataView(t.buffer),l=Tt.enc(n);return i.setInt32(0,l.lo,!0),i.setInt32(4,l.hi,!0),this.raw(t)}fixed64(n){let t=new Uint8Array(8),i=new DataView(t.buffer),l=Tt.uEnc(n);return i.setInt32(0,l.lo,!0),i.setInt32(4,l.hi,!0),this.raw(t)}int64(n){let t=Tt.enc(n);return sd(t.lo,t.hi,this.buf),this}sint64(n){let t=Tt.enc(n),i=t.hi>>31,l=t.lo<<1^i,c=(t.hi<<1|t.lo>>>31)^i;return sd(l,c,this.buf),this}uint64(n){let t=Tt.uEnc(n);return sd(t.lo,t.hi,this.buf),this}}class zw{constructor(n,t){this.varint64=Ow,this.uint32=Iw,this.buf=n,this.len=n.length,this.pos=0,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.textDecoder=t??new TextDecoder}tag(){let n=this.uint32(),t=n>>>3,i=n&7;if(t<=0||i<0||i>5)throw new Error("illegal tag: field no "+t+" wire type "+i);return[t,i]}skip(n,t){let i=this.pos;switch(n){case ee.Varint:for(;this.buf[this.pos++]&128;);break;case ee.Bit64:this.pos+=4;case ee.Bit32:this.pos+=4;break;case ee.LengthDelimited:let l=this.uint32();this.pos+=l;break;case ee.StartGroup:for(;;){const[c,d]=this.tag();if(d===ee.EndGroup){if(t!==void 0&&c!==t)throw new Error("invalid end group tag");break}this.skip(d,c)}break;default:throw new Error("cant skip wire type "+n)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let n=this.uint32();return n>>>1^-(n&1)}int64(){return Tt.dec(...this.varint64())}uint64(){return Tt.uDec(...this.varint64())}sint64(){let[n,t]=this.varint64(),i=-(n&1);return n=(n>>>1|(t&1)<<31)^i,t=t>>>1^i,Tt.dec(n,t)}bool(){let[n,t]=this.varint64();return n!==0||t!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Tt.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Tt.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let n=this.uint32(),t=this.pos;return this.pos+=n,this.assertBounds(),this.buf.subarray(t,t+n)}string(){return this.textDecoder.decode(this.bytes())}}function Mw(s,n,t,i){let l;return{typeName:n,extendee:t,get field(){if(!l){const c=typeof i=="function"?i():i;c.name=n.split(".").pop(),c.jsonName=`[${n}]`,l=s.util.newFieldList([c]).list()[0]}return l},runtime:s}}function z0(s){const n=s.field.localName,t=Object.create(null);return t[n]=Uw(s),[t,()=>t[n]]}function Uw(s){const n=s.field;if(n.repeated)return[];if(n.default!==void 0)return n.default;switch(n.kind){case"enum":return n.T.values[0].no;case"scalar":return $s(n.T,n.L);case"message":const t=n.T,i=new t;return t.fieldWrapper?t.fieldWrapper.unwrapField(i):i;case"map":throw"map fields are not allowed to be extensions"}}function Lw(s,n){if(!n.repeated&&(n.kind=="enum"||n.kind=="scalar")){for(let t=s.length-1;t>=0;--t)if(s[t].no==n.no)return[s[t]];return[]}return s.filter(t=>t.no===n.no)}let zi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Cc=[];for(let s=0;s<zi.length;s++)Cc[zi[s].charCodeAt(0)]=s;Cc[45]=zi.indexOf("+");Cc[95]=zi.indexOf("/");const ng={dec(s){let n=s.length*3/4;s[s.length-2]=="="?n-=2:s[s.length-1]=="="&&(n-=1);let t=new Uint8Array(n),i=0,l=0,c,d=0;for(let g=0;g<s.length;g++){if(c=Cc[s.charCodeAt(g)],c===void 0)switch(s[g]){case"=":l=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(l){case 0:d=c,l=1;break;case 1:t[i++]=d<<2|(c&48)>>4,d=c,l=2;break;case 2:t[i++]=(d&15)<<4|(c&60)>>2,d=c,l=3;break;case 3:t[i++]=(d&3)<<6|c,l=0;break}}if(l==1)throw Error("invalid base64 string.");return t.subarray(0,i)},enc(s){let n="",t=0,i,l=0;for(let c=0;c<s.length;c++)switch(i=s[c],t){case 0:n+=zi[i>>2],l=(i&3)<<4,t=1;break;case 1:n+=zi[l|i>>4],l=(i&15)<<2,t=2;break;case 2:n+=zi[l|i>>6],n+=zi[i&63],t=0;break}return t&&(n+=zi[l],n+="=",t==1&&(n+="=")),n}};function Jw(s,n,t){U0(n,s);const i=n.runtime.bin.makeReadOptions(t),l=Lw(s.getType().runtime.bin.listUnknownFields(s),n.field),[c,d]=z0(n);for(const g of l)n.runtime.bin.readField(c,i.readerFactory(g.data),n.field,g.wireType,i);return d()}function qw(s,n,t,i){U0(n,s);const l=n.runtime.bin.makeReadOptions(i),c=n.runtime.bin.makeWriteOptions(i);if(M0(s,n)){const v=s.getType().runtime.bin.listUnknownFields(s).filter(b=>b.no!=n.field.no);s.getType().runtime.bin.discardUnknownFields(s);for(const b of v)s.getType().runtime.bin.onUnknownField(s,b.no,b.wireType,b.data)}const d=c.writerFactory();let g=n.field;!g.opt&&!g.repeated&&(g.kind=="enum"||g.kind=="scalar")&&(g=Object.assign(Object.assign({},n.field),{opt:!0})),n.runtime.bin.writeField(g,t,d,c);const y=l.readerFactory(d.finish());for(;y.pos<y.len;){const[v,b]=y.tag(),E=y.skip(b,v);s.getType().runtime.bin.onUnknownField(s,v,b,E)}}function M0(s,n){const t=s.getType();return n.extendee.typeName===t.typeName&&!!t.runtime.bin.listUnknownFields(s).find(i=>i.no==n.field.no)}function U0(s,n){Ft(s.extendee.typeName==n.getType().typeName,`extension ${s.typeName} can only be applied to message ${s.extendee.typeName}`)}function L0(s,n){const t=s.localName;if(s.repeated)return n[t].length>0;if(s.oneof)return n[s.oneof.localName].case===t;switch(s.kind){case"enum":case"scalar":return s.opt||s.req?n[t]!==void 0:s.kind=="enum"?n[t]!==s.T.values[0].no:!B0(s.T,n[t]);case"message":return n[t]!==void 0;case"map":return Object.keys(n[t]).length>0}}function Rv(s,n){const t=s.localName,i=!s.opt&&!s.req;if(s.repeated)n[t]=[];else if(s.oneof)n[s.oneof.localName]={case:void 0};else switch(s.kind){case"map":n[t]={};break;case"enum":n[t]=i?s.T.values[0].no:void 0;break;case"scalar":n[t]=i?$s(s.T,s.L):void 0;break;case"message":n[t]=void 0;break}}function Mi(s,n){if(s===null||typeof s!="object"||!Object.getOwnPropertyNames(j.prototype).every(i=>i in s&&typeof s[i]=="function"))return!1;const t=s.getType();return t===null||typeof t!="function"||!("typeName"in t)||typeof t.typeName!="string"?!1:n===void 0?!0:t.typeName==n.typeName}function J0(s,n){return Mi(n)||!s.fieldWrapper?n:s.fieldWrapper.wrapField(n)}z.DOUBLE,z.FLOAT,z.INT64,z.UINT64,z.INT32,z.UINT32,z.BOOL,z.STRING,z.BYTES;const Bv={ignoreUnknownFields:!1},zv={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function Pw(s){return s?Object.assign(Object.assign({},Bv),s):Bv}function Vw(s){return s?Object.assign(Object.assign({},zv),s):zv}const nc=Symbol(),_u=Symbol();function Hw(){return{makeReadOptions:Pw,makeWriteOptions:Vw,readMessage(s,n,t,i){if(n==null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message ${s.typeName} from JSON: ${Kn(n)}`);i=i??new s;const l=new Map,c=t.typeRegistry;for(const[d,g]of Object.entries(n)){const y=s.fields.findJsonName(d);if(y){if(y.oneof){if(g===null&&y.kind=="scalar")continue;const v=l.get(y.oneof);if(v!==void 0)throw new Error(`cannot decode message ${s.typeName} from JSON: multiple keys for oneof "${y.oneof.name}" present: "${v}", "${d}"`);l.set(y.oneof,d)}Mv(i,g,y,t,s)}else{let v=!1;if(c!=null&&c.findExtension&&d.startsWith("[")&&d.endsWith("]")){const b=c.findExtension(d.substring(1,d.length-1));if(b&&b.extendee.typeName==s.typeName){v=!0;const[E,C]=z0(b);Mv(E,g,b.field,t,b),qw(i,b,C(),t)}}if(!v&&!t.ignoreUnknownFields)throw new Error(`cannot decode message ${s.typeName} from JSON: key "${d}" is unknown`)}}return i},writeMessage(s,n){const t=s.getType(),i={};let l;try{for(l of t.fields.byNumber()){if(!L0(l,s)){if(l.req)throw"required field not set";if(!n.emitDefaultValues||!Kw(l))continue}const d=l.oneof?s[l.oneof.localName].value:s[l.localName],g=Uv(l,d,n);g!==void 0&&(i[n.useProtoFieldName?l.name:l.jsonName]=g)}const c=n.typeRegistry;if(c!=null&&c.findExtensionFor)for(const d of t.runtime.bin.listUnknownFields(s)){const g=c.findExtensionFor(t.typeName,d.no);if(g&&M0(s,g)){const y=Jw(s,g,n),v=Uv(g.field,y,n);v!==void 0&&(i[g.field.jsonName]=v)}}}catch(c){const d=l?`cannot encode field ${t.typeName}.${l.name} to JSON`:`cannot encode message ${t.typeName} to JSON`,g=c instanceof Error?c.message:String(c);throw new Error(d+(g.length>0?`: ${g}`:""))}return i},readScalar(s,n,t){return ul(s,n,t??wa.BIGINT,!0)},writeScalar(s,n,t){if(n!==void 0&&(t||B0(s,n)))return Wu(s,n)},debug:Kn}}function Kn(s){if(s===null)return"null";switch(typeof s){case"object":return Array.isArray(s)?"array":"object";case"string":return s.length>100?"string":`"${s.split('"').join('\\"')}"`;default:return String(s)}}function Mv(s,n,t,i,l){let c=t.localName;if(t.repeated){if(Ft(t.kind!="map"),n===null)return;if(!Array.isArray(n))throw new Error(`cannot decode field ${l.typeName}.${t.name} from JSON: ${Kn(n)}`);const d=s[c];for(const g of n){if(g===null)throw new Error(`cannot decode field ${l.typeName}.${t.name} from JSON: ${Kn(g)}`);switch(t.kind){case"message":d.push(t.T.fromJson(g,i));break;case"enum":const y=od(t.T,g,i.ignoreUnknownFields,!0);y!==_u&&d.push(y);break;case"scalar":try{d.push(ul(t.T,g,t.L,!0))}catch(v){let b=`cannot decode field ${l.typeName}.${t.name} from JSON: ${Kn(g)}`;throw v instanceof Error&&v.message.length>0&&(b+=`: ${v.message}`),new Error(b)}break}}}else if(t.kind=="map"){if(n===null)return;if(typeof n!="object"||Array.isArray(n))throw new Error(`cannot decode field ${l.typeName}.${t.name} from JSON: ${Kn(n)}`);const d=s[c];for(const[g,y]of Object.entries(n)){if(y===null)throw new Error(`cannot decode field ${l.typeName}.${t.name} from JSON: map value null`);let v;try{v=jw(t.K,g)}catch(b){let E=`cannot decode map key for field ${l.typeName}.${t.name} from JSON: ${Kn(n)}`;throw b instanceof Error&&b.message.length>0&&(E+=`: ${b.message}`),new Error(E)}switch(t.V.kind){case"message":d[v]=t.V.T.fromJson(y,i);break;case"enum":const b=od(t.V.T,y,i.ignoreUnknownFields,!0);b!==_u&&(d[v]=b);break;case"scalar":try{d[v]=ul(t.V.T,y,wa.BIGINT,!0)}catch(E){let C=`cannot decode map value for field ${l.typeName}.${t.name} from JSON: ${Kn(n)}`;throw E instanceof Error&&E.message.length>0&&(C+=`: ${E.message}`),new Error(C)}break}}}else switch(t.oneof&&(s=s[t.oneof.localName]={case:c},c="value"),t.kind){case"message":const d=t.T;if(n===null&&d.typeName!="google.protobuf.Value")return;let g=s[c];Mi(g)?g.fromJson(n,i):(s[c]=g=d.fromJson(n,i),d.fieldWrapper&&!t.oneof&&(s[c]=d.fieldWrapper.unwrapField(g)));break;case"enum":const y=od(t.T,n,i.ignoreUnknownFields,!1);switch(y){case nc:Rv(t,s);break;case _u:break;default:s[c]=y;break}break;case"scalar":try{const v=ul(t.T,n,t.L,!1);switch(v){case nc:Rv(t,s);break;default:s[c]=v;break}}catch(v){let b=`cannot decode field ${l.typeName}.${t.name} from JSON: ${Kn(n)}`;throw v instanceof Error&&v.message.length>0&&(b+=`: ${v.message}`),new Error(b)}break}}function jw(s,n){if(s===z.BOOL)switch(n){case"true":n=!0;break;case"false":n=!1;break}return ul(s,n,wa.BIGINT,!0).toString()}function ul(s,n,t,i){if(n===null)return i?$s(s,t):nc;switch(s){case z.DOUBLE:case z.FLOAT:if(n==="NaN")return Number.NaN;if(n==="Infinity")return Number.POSITIVE_INFINITY;if(n==="-Infinity")return Number.NEGATIVE_INFINITY;if(n===""||typeof n=="string"&&n.trim().length!==n.length||typeof n!="string"&&typeof n!="number")break;const l=Number(n);if(Number.isNaN(l)||!Number.isFinite(l))break;return s==z.FLOAT&&N0(l),l;case z.INT32:case z.FIXED32:case z.SFIXED32:case z.SINT32:case z.UINT32:let c;if(typeof n=="number"?c=n:typeof n=="string"&&n.length>0&&n.trim().length===n.length&&(c=Number(n)),c===void 0)break;return s==z.UINT32||s==z.FIXED32?dd(c):Fu(c),c;case z.INT64:case z.SFIXED64:case z.SINT64:if(typeof n!="number"&&typeof n!="string")break;const d=Tt.parse(n);return t?d.toString():d;case z.FIXED64:case z.UINT64:if(typeof n!="number"&&typeof n!="string")break;const g=Tt.uParse(n);return t?g.toString():g;case z.BOOL:if(typeof n!="boolean")break;return n;case z.STRING:if(typeof n!="string")break;try{encodeURIComponent(n)}catch{throw new Error("invalid UTF8")}return n;case z.BYTES:if(n==="")return new Uint8Array(0);if(typeof n!="string")break;return ng.dec(n)}throw new Error}function od(s,n,t,i){if(n===null)return s.typeName=="google.protobuf.NullValue"?0:i?s.values[0].no:nc;switch(typeof n){case"number":if(Number.isInteger(n))return n;break;case"string":const l=s.findName(n);if(l!==void 0)return l.no;if(t)return _u;break}throw new Error(`cannot decode enum ${s.typeName} from JSON: ${Kn(n)}`)}function Kw(s){return s.repeated||s.kind=="map"?!0:!(s.oneof||s.kind=="message"||s.opt||s.req)}function Uv(s,n,t){if(s.kind=="map"){Ft(typeof n=="object"&&n!=null);const i={},l=Object.entries(n);switch(s.V.kind){case"scalar":for(const[d,g]of l)i[d.toString()]=Wu(s.V.T,g);break;case"message":for(const[d,g]of l)i[d.toString()]=g.toJson(t);break;case"enum":const c=s.V.T;for(const[d,g]of l)i[d.toString()]=ld(c,g,t.enumAsInteger);break}return t.emitDefaultValues||l.length>0?i:void 0}if(s.repeated){Ft(Array.isArray(n));const i=[];switch(s.kind){case"scalar":for(let l=0;l<n.length;l++)i.push(Wu(s.T,n[l]));break;case"enum":for(let l=0;l<n.length;l++)i.push(ld(s.T,n[l],t.enumAsInteger));break;case"message":for(let l=0;l<n.length;l++)i.push(n[l].toJson(t));break}return t.emitDefaultValues||i.length>0?i:void 0}switch(s.kind){case"scalar":return Wu(s.T,n);case"enum":return ld(s.T,n,t.enumAsInteger);case"message":return J0(s.T,n).toJson(t)}}function ld(s,n,t){var i;if(Ft(typeof n=="number"),s.typeName=="google.protobuf.NullValue")return null;if(t)return n;const l=s.findNumber(n);return(i=l==null?void 0:l.name)!==null&&i!==void 0?i:n}function Wu(s,n){switch(s){case z.INT32:case z.SFIXED32:case z.SINT32:case z.FIXED32:case z.UINT32:return Ft(typeof n=="number"),n;case z.FLOAT:case z.DOUBLE:return Ft(typeof n=="number"),Number.isNaN(n)?"NaN":n===Number.POSITIVE_INFINITY?"Infinity":n===Number.NEGATIVE_INFINITY?"-Infinity":n;case z.STRING:return Ft(typeof n=="string"),n;case z.BOOL:return Ft(typeof n=="boolean"),n;case z.UINT64:case z.FIXED64:case z.INT64:case z.SFIXED64:case z.SINT64:return Ft(typeof n=="bigint"||typeof n=="string"||typeof n=="number"),n.toString();case z.BYTES:return Ft(n instanceof Uint8Array),ng.enc(n)}}const qs=Symbol("@bufbuild/protobuf/unknown-fields"),Lv={readUnknownFields:!0,readerFactory:s=>new zw(s)},Jv={writeUnknownFields:!0,writerFactory:()=>new Bw};function Yw(s){return s?Object.assign(Object.assign({},Lv),s):Lv}function Gw(s){return s?Object.assign(Object.assign({},Jv),s):Jv}function $w(){return{makeReadOptions:Yw,makeWriteOptions:Gw,listUnknownFields(s){var n;return(n=s[qs])!==null&&n!==void 0?n:[]},discardUnknownFields(s){delete s[qs]},writeUnknownFields(s,n){const i=s[qs];if(i)for(const l of i)n.tag(l.no,l.wireType).raw(l.data)},onUnknownField(s,n,t,i){const l=s;Array.isArray(l[qs])||(l[qs]=[]),l[qs].push({no:n,wireType:t,data:i})},readMessage(s,n,t,i,l){const c=s.getType(),d=l?n.len:n.pos+t;let g,y;for(;n.pos<d&&([g,y]=n.tag(),!(l===!0&&y==ee.EndGroup));){const v=c.fields.find(g);if(!v){const b=n.skip(y,g);i.readUnknownFields&&this.onUnknownField(s,g,y,b);continue}qv(s,n,v,y,i)}if(l&&(y!=ee.EndGroup||g!==t))throw new Error("invalid end group tag")},readField:qv,writeMessage(s,n,t){const i=s.getType();for(const l of i.fields.byNumber()){if(!L0(l,s)){if(l.req)throw new Error(`cannot encode field ${i.typeName}.${l.name} to binary: required field not set`);continue}const c=l.oneof?s[l.oneof.localName].value:s[l.localName];Pv(l,c,n,t)}return t.writeUnknownFields&&this.writeUnknownFields(s,n),n},writeField(s,n,t,i){n!==void 0&&Pv(s,n,t,i)}}}function qv(s,n,t,i,l){let{repeated:c,localName:d}=t;switch(t.oneof&&(s=s[t.oneof.localName],s.case!=d&&delete s.value,s.case=d,d="value"),t.kind){case"scalar":case"enum":const g=t.kind=="enum"?z.INT32:t.T;let y=rc;if(t.kind=="scalar"&&t.L>0&&(y=Zw),c){let C=s[d];if(i==ee.LengthDelimited&&g!=z.STRING&&g!=z.BYTES){let U=n.uint32()+n.pos;for(;n.pos<U;)C.push(y(n,g))}else C.push(y(n,g))}else s[d]=y(n,g);break;case"message":const v=t.T;c?s[d].push(tc(n,new v,l,t)):Mi(s[d])?tc(n,s[d],l,t):(s[d]=tc(n,new v,l,t),v.fieldWrapper&&!t.oneof&&!t.repeated&&(s[d]=v.fieldWrapper.unwrapField(s[d])));break;case"map":let[b,E]=Xw(t,n,l);s[d][b]=E;break}}function tc(s,n,t,i){const l=n.getType().runtime.bin,c=i==null?void 0:i.delimited;return l.readMessage(n,s,c?i.no:s.uint32(),t,c),n}function Xw(s,n,t){const i=n.uint32(),l=n.pos+i;let c,d;for(;n.pos<l;){const[g]=n.tag();switch(g){case 1:c=rc(n,s.K);break;case 2:switch(s.V.kind){case"scalar":d=rc(n,s.V.T);break;case"enum":d=n.int32();break;case"message":d=tc(n,new s.V.T,t,void 0);break}break}}if(c===void 0&&(c=$s(s.K,wa.BIGINT)),typeof c!="string"&&typeof c!="number"&&(c=c.toString()),d===void 0)switch(s.V.kind){case"scalar":d=$s(s.V.T,wa.BIGINT);break;case"enum":d=s.V.T.values[0].no;break;case"message":d=new s.V.T;break}return[c,d]}function Zw(s,n){const t=rc(s,n);return typeof t=="bigint"?t.toString():t}function rc(s,n){switch(n){case z.STRING:return s.string();case z.BOOL:return s.bool();case z.DOUBLE:return s.double();case z.FLOAT:return s.float();case z.INT32:return s.int32();case z.INT64:return s.int64();case z.UINT64:return s.uint64();case z.FIXED64:return s.fixed64();case z.BYTES:return s.bytes();case z.FIXED32:return s.fixed32();case z.SFIXED32:return s.sfixed32();case z.SFIXED64:return s.sfixed64();case z.SINT64:return s.sint64();case z.UINT32:return s.uint32();case z.SINT32:return s.sint32()}}function Pv(s,n,t,i){Ft(n!==void 0);const l=s.repeated;switch(s.kind){case"scalar":case"enum":let c=s.kind=="enum"?z.INT32:s.T;if(l)if(Ft(Array.isArray(n)),s.packed)Qw(t,c,s.no,n);else for(const d of n)cl(t,c,s.no,d);else cl(t,c,s.no,n);break;case"message":if(l){Ft(Array.isArray(n));for(const d of n)Vv(t,i,s,d)}else Vv(t,i,s,n);break;case"map":Ft(typeof n=="object"&&n!=null);for(const[d,g]of Object.entries(n))Fw(t,i,s,d,g);break}}function Fw(s,n,t,i,l){s.tag(t.no,ee.LengthDelimited),s.fork();let c=i;switch(t.K){case z.INT32:case z.FIXED32:case z.UINT32:case z.SFIXED32:case z.SINT32:c=Number.parseInt(i);break;case z.BOOL:Ft(i=="true"||i=="false"),c=i=="true";break}switch(cl(s,t.K,1,c),t.V.kind){case"scalar":cl(s,t.V.T,2,l);break;case"enum":cl(s,z.INT32,2,l);break;case"message":Ft(l!==void 0),s.tag(2,ee.LengthDelimited).bytes(l.toBinary(n));break}s.join()}function Vv(s,n,t,i){const l=J0(t.T,i);t.delimited?s.tag(t.no,ee.StartGroup).raw(l.toBinary(n)).tag(t.no,ee.EndGroup):s.tag(t.no,ee.LengthDelimited).bytes(l.toBinary(n))}function cl(s,n,t,i){Ft(i!==void 0);let[l,c]=q0(n);s.tag(t,l)[c](i)}function Qw(s,n,t,i){if(!i.length)return;s.tag(t,ee.LengthDelimited).fork();let[,l]=q0(n);for(let c=0;c<i.length;c++)s[l](i[c]);s.join()}function q0(s){let n=ee.Varint;switch(s){case z.BYTES:case z.STRING:n=ee.LengthDelimited;break;case z.DOUBLE:case z.FIXED64:case z.SFIXED64:n=ee.Bit64;break;case z.FIXED32:case z.SFIXED32:case z.FLOAT:n=ee.Bit32;break}const t=z[s].toLowerCase();return[n,t]}function _w(){return{setEnumType:O0,initPartial(s,n){if(s===void 0)return;const t=n.getType();for(const i of t.fields.byMember()){const l=i.localName,c=n,d=s;if(d[l]!=null)switch(i.kind){case"oneof":const g=d[l].case;if(g===void 0)continue;const y=i.findField(g);let v=d[l].value;y&&y.kind=="message"&&!Mi(v,y.T)?v=new y.T(v):y&&y.kind==="scalar"&&y.T===z.BYTES&&(v=il(v)),c[l]={case:g,value:v};break;case"scalar":case"enum":let b=d[l];i.T===z.BYTES&&(b=i.repeated?b.map(il):il(b)),c[l]=b;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===z.BYTES)for(const[O,U]of Object.entries(d[l]))c[l][O]=il(U);else Object.assign(c[l],d[l]);break;case"message":const C=i.V.T;for(const O of Object.keys(d[l])){let U=d[l][O];C.fieldWrapper||(U=new C(U)),c[l][O]=U}break}break;case"message":const E=i.T;if(i.repeated)c[l]=d[l].map(C=>Mi(C,E)?C:new E(C));else{const C=d[l];E.fieldWrapper?E.typeName==="google.protobuf.BytesValue"?c[l]=il(C):c[l]=C:c[l]=Mi(C,E)?C:new E(C)}break}}},equals(s,n,t){return n===t?!0:!n||!t?!1:s.fields.byMember().every(i=>{const l=n[i.localName],c=t[i.localName];if(i.repeated){if(l.length!==c.length)return!1;switch(i.kind){case"message":return l.every((d,g)=>i.T.equals(d,c[g]));case"scalar":return l.every((d,g)=>ma(i.T,d,c[g]));case"enum":return l.every((d,g)=>ma(z.INT32,d,c[g]))}throw new Error(`repeated cannot contain ${i.kind}`)}switch(i.kind){case"message":let d=l,g=c;return i.T.fieldWrapper&&(d!==void 0&&!Mi(d)&&(d=i.T.fieldWrapper.wrapField(d)),g!==void 0&&!Mi(g)&&(g=i.T.fieldWrapper.wrapField(g))),i.T.equals(d,g);case"enum":return ma(z.INT32,l,c);case"scalar":return ma(i.T,l,c);case"oneof":if(l.case!==c.case)return!1;const y=i.findField(l.case);if(y===void 0)return!0;switch(y.kind){case"message":return y.T.equals(l.value,c.value);case"enum":return ma(z.INT32,l.value,c.value);case"scalar":return ma(y.T,l.value,c.value)}throw new Error(`oneof cannot contain ${y.kind}`);case"map":const v=Object.keys(l).concat(Object.keys(c));switch(i.V.kind){case"message":const b=i.V.T;return v.every(C=>b.equals(l[C],c[C]));case"enum":return v.every(C=>ma(z.INT32,l[C],c[C]));case"scalar":const E=i.V.T;return v.every(C=>ma(E,l[C],c[C]))}break}})},clone(s){const n=s.getType(),t=new n,i=t;for(const l of n.fields.byMember()){const c=s[l.localName];let d;if(l.repeated)d=c.map(ju);else if(l.kind=="map"){d=i[l.localName];for(const[g,y]of Object.entries(c))d[g]=ju(y)}else l.kind=="oneof"?d=l.findField(c.case)?{case:c.case,value:ju(c.value)}:{case:void 0}:d=ju(c);i[l.localName]=d}for(const l of n.runtime.bin.listUnknownFields(s))n.runtime.bin.onUnknownField(i,l.no,l.wireType,l.data);return t}}}function ju(s){if(s===void 0)return s;if(Mi(s))return s.clone();if(s instanceof Uint8Array){const n=new Uint8Array(s.byteLength);return n.set(s),n}return s}function il(s){return s instanceof Uint8Array?s:new Uint8Array(s)}function Ww(s,n,t){return{syntax:s,json:Hw(),bin:$w(),util:Object.assign(Object.assign({},_w()),{newFieldList:n,initFields:t}),makeMessageType(i,l,c){return Dw(this,i,l,c)},makeEnum:Nw,makeEnumType:k0,getEnumType:xw,makeExtension(i,l,c){return Mw(this,i,l,c)}}}class t1{constructor(n,t){this._fields=n,this._normalizer=t}findJsonName(n){if(!this.jsonNames){const t={};for(const i of this.list())t[i.jsonName]=t[i.name]=i;this.jsonNames=t}return this.jsonNames[n]}find(n){if(!this.numbers){const t={};for(const i of this.list())t[i.no]=i;this.numbers=t}return this.numbers[n]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((n,t)=>n.no-t.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const n=this.members;let t;for(const i of this.list())i.oneof?i.oneof!==t&&(t=i.oneof,n.push(t)):n.push(i)}return this.members}}function P0(s,n){const t=V0(s);return n?t:s1(a1(t))}function e1(s){return P0(s,!1)}const n1=V0;function V0(s){let n=!1;const t=[];for(let i=0;i<s.length;i++){let l=s.charAt(i);switch(l){case"_":n=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":t.push(l),n=!1;break;default:n&&(n=!1,l=l.toUpperCase()),t.push(l);break}}return t.join("")}const r1=new Set(["constructor","toString","toJSON","valueOf"]),i1=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),H0=s=>`${s}$`,a1=s=>i1.has(s)?H0(s):s,s1=s=>r1.has(s)?H0(s):s;class o1{constructor(n){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=n,this.localName=e1(n)}addField(n){Ft(n.oneof===this,`field ${n.name} not one of ${this.name}`),this.fields.push(n)}findField(n){if(!this._lookup){this._lookup=Object.create(null);for(let t=0;t<this.fields.length;t++)this._lookup[this.fields[t].localName]=this.fields[t]}return this._lookup[n]}}function l1(s,n){var t,i,l,c,d,g;const y=[];let v;for(const b of typeof s=="function"?s():s){const E=b;if(E.localName=P0(b.name,b.oneof!==void 0),E.jsonName=(t=b.jsonName)!==null&&t!==void 0?t:n1(b.name),E.repeated=(i=b.repeated)!==null&&i!==void 0?i:!1,b.kind=="scalar"&&(E.L=(l=b.L)!==null&&l!==void 0?l:wa.BIGINT),E.delimited=(c=b.delimited)!==null&&c!==void 0?c:!1,E.req=(d=b.req)!==null&&d!==void 0?d:!1,E.opt=(g=b.opt)!==null&&g!==void 0?g:!1,b.packed===void 0&&(E.packed=b.kind=="enum"||b.kind=="scalar"&&b.T!=z.BYTES&&b.T!=z.STRING),b.oneof!==void 0){const C=typeof b.oneof=="string"?b.oneof:b.oneof.name;(!v||v.name!=C)&&(v=new o1(C)),E.oneof=v,v.addField(E)}y.push(E)}return y}const p=Ww("proto3",s=>new t1(s,n=>l1(n)),s=>{for(const n of s.getType().fields.byMember()){if(n.opt)continue;const t=n.localName,i=s;if(n.repeated){i[t]=[];continue}switch(n.kind){case"oneof":i[t]={case:void 0};break;case"enum":i[t]=0;break;case"map":i[t]={};break;case"scalar":i[t]=$s(n.T,n.L);break}}});var le;(function(s){s[s.Unary=0]="Unary",s[s.ServerStreaming=1]="ServerStreaming",s[s.ClientStreaming=2]="ClientStreaming",s[s.BiDiStreaming=3]="BiDiStreaming"})(le||(le={}));var Hv;(function(s){s[s.NoSideEffects=1]="NoSideEffects",s[s.Idempotent=2]="Idempotent"})(Hv||(Hv={}));class pe extends j{constructor(n){super(),this.seconds=Tt.zero,this.nanos=0,p.util.initPartial(n,this)}fromJson(n,t){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${p.json.debug(n)}`);const i=n.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const l=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(l))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(l<Date.parse("0001-01-01T00:00:00Z")||l>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Tt.parse(l/1e3),this.nanos=0,i[7]&&(this.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),this}toJson(n){const t=Number(this.seconds)*1e3;if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let i="Z";if(this.nanos>0){const l=(this.nanos+1e9).toString().substring(1);l.substring(3)==="000000"?i="."+l.substring(0,3)+"Z":l.substring(6)==="000"?i="."+l.substring(0,6)+"Z":i="."+l+"Z"}return new Date(t).toISOString().replace(".000Z",i)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return pe.fromDate(new Date)}static fromDate(n){const t=n.getTime();return new pe({seconds:Tt.parse(Math.floor(t/1e3)),nanos:t%1e3*1e6})}static fromBinary(n,t){return new pe().fromBinary(n,t)}static fromJson(n,t){return new pe().fromJson(n,t)}static fromJsonString(n,t){return new pe().fromJsonString(n,t)}static equals(n,t){return p.util.equals(pe,n,t)}}pe.runtime=p;pe.typeName="google.protobuf.Timestamp";pe.fields=p.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Ui extends j{constructor(n){super(),this.seconds=Tt.zero,this.nanos=0,p.util.initPartial(n,this)}fromJson(n,t){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${p.json.debug(n)}`);const i=n.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(i===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${p.json.debug(n)}`);const l=Number(i[1]);if(l>315576e6||l<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${p.json.debug(n)}`);if(this.seconds=Tt.parse(l),typeof i[2]=="string"){const c=i[2]+"0".repeat(9-i[2].length);this.nanos=parseInt(c),(l<0||Object.is(l,-0))&&(this.nanos=-this.nanos)}return this}toJson(n){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let t=this.seconds.toString();if(this.nanos!==0){let i=Math.abs(this.nanos).toString();i="0".repeat(9-i.length)+i,i.substring(3)==="000000"?i=i.substring(0,3):i.substring(6)==="000"&&(i=i.substring(0,6)),t+="."+i,this.nanos<0&&Number(this.seconds)==0&&(t="-"+t)}return t+"s"}static fromBinary(n,t){return new Ui().fromBinary(n,t)}static fromJson(n,t){return new Ui().fromJson(n,t)}static fromJsonString(n,t){return new Ui().fromJsonString(n,t)}static equals(n,t){return p.util.equals(Ui,n,t)}}Ui.runtime=p;Ui.typeName="google.protobuf.Duration";Ui.fields=p.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class Yn extends j{constructor(n){super(),this.typeUrl="",this.value=new Uint8Array(0),p.util.initPartial(n,this)}toJson(n){var t;if(this.typeUrl==="")return{};const i=this.typeUrlToName(this.typeUrl),l=(t=n==null?void 0:n.typeRegistry)===null||t===void 0?void 0:t.findMessage(i);if(!l)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let d=l.fromBinary(this.value).toJson(n);return(i.startsWith("google.protobuf.")||d===null||Array.isArray(d)||typeof d!="object")&&(d={value:d}),d["@type"]=this.typeUrl,d}fromJson(n,t){var i;if(n===null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${n===null?"null":Array.isArray(n)?"array":typeof n}`);if(Object.keys(n).length==0)return this;const l=n["@type"];if(typeof l!="string"||l=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const c=this.typeUrlToName(l),d=(i=t==null?void 0:t.typeRegistry)===null||i===void 0?void 0:i.findMessage(c);if(!d)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${l} is not in the type registry`);let g;if(c.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(n,"value"))g=d.fromJson(n.value,t);else{const y=Object.assign({},n);delete y["@type"],g=d.fromJson(y,t)}return this.packFrom(g),this}packFrom(n){this.value=n.toBinary(),this.typeUrl=this.typeNameToUrl(n.getType().typeName)}unpackTo(n){return this.is(n.getType())?(n.fromBinary(this.value),!0):!1}unpack(n){if(this.typeUrl==="")return;const t=n.findMessage(this.typeUrlToName(this.typeUrl));if(t)return t.fromBinary(this.value)}is(n){if(this.typeUrl==="")return!1;const t=this.typeUrlToName(this.typeUrl);let i="";return typeof n=="string"?i=n:i=n.typeName,t===i}typeNameToUrl(n){return`type.googleapis.com/${n}`}typeUrlToName(n){if(!n.length)throw new Error(`invalid type url: ${n}`);const t=n.lastIndexOf("/"),i=t>=0?n.substring(t+1):n;if(!i.length)throw new Error(`invalid type url: ${n}`);return i}static pack(n){const t=new Yn;return t.packFrom(n),t}static fromBinary(n,t){return new Yn().fromBinary(n,t)}static fromJson(n,t){return new Yn().fromJson(n,t)}static fromJsonString(n,t){return new Yn().fromJsonString(n,t)}static equals(n,t){return p.util.equals(Yn,n,t)}}Yn.runtime=p;Yn.typeName="google.protobuf.Any";Yn.fields=p.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class Gn extends j{constructor(n){super(),this.value=0,p.util.initPartial(n,this)}toJson(n){return p.json.writeScalar(z.DOUBLE,this.value,!0)}fromJson(n,t){try{this.value=p.json.readScalar(z.DOUBLE,n)}catch(i){let l='cannot decode message google.protobuf.DoubleValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,t){return new Gn().fromBinary(n,t)}static fromJson(n,t){return new Gn().fromJson(n,t)}static fromJsonString(n,t){return new Gn().fromJsonString(n,t)}static equals(n,t){return p.util.equals(Gn,n,t)}}Gn.runtime=p;Gn.typeName="google.protobuf.DoubleValue";Gn.fields=p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);Gn.fieldWrapper={wrapField(s){return new Gn({value:s})},unwrapField(s){return s.value}};class $n extends j{constructor(n){super(),this.value=0,p.util.initPartial(n,this)}toJson(n){return p.json.writeScalar(z.FLOAT,this.value,!0)}fromJson(n,t){try{this.value=p.json.readScalar(z.FLOAT,n)}catch(i){let l='cannot decode message google.protobuf.FloatValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,t){return new $n().fromBinary(n,t)}static fromJson(n,t){return new $n().fromJson(n,t)}static fromJsonString(n,t){return new $n().fromJsonString(n,t)}static equals(n,t){return p.util.equals($n,n,t)}}$n.runtime=p;$n.typeName="google.protobuf.FloatValue";$n.fields=p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);$n.fieldWrapper={wrapField(s){return new $n({value:s})},unwrapField(s){return s.value}};class Sn extends j{constructor(n){super(),this.value=Tt.zero,p.util.initPartial(n,this)}toJson(n){return p.json.writeScalar(z.INT64,this.value,!0)}fromJson(n,t){try{this.value=p.json.readScalar(z.INT64,n)}catch(i){let l='cannot decode message google.protobuf.Int64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,t){return new Sn().fromBinary(n,t)}static fromJson(n,t){return new Sn().fromJson(n,t)}static fromJsonString(n,t){return new Sn().fromJsonString(n,t)}static equals(n,t){return p.util.equals(Sn,n,t)}}Sn.runtime=p;Sn.typeName="google.protobuf.Int64Value";Sn.fields=p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);Sn.fieldWrapper={wrapField(s){return new Sn({value:s})},unwrapField(s){return s.value}};class bn extends j{constructor(n){super(),this.value=Tt.zero,p.util.initPartial(n,this)}toJson(n){return p.json.writeScalar(z.UINT64,this.value,!0)}fromJson(n,t){try{this.value=p.json.readScalar(z.UINT64,n)}catch(i){let l='cannot decode message google.protobuf.UInt64Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,t){return new bn().fromBinary(n,t)}static fromJson(n,t){return new bn().fromJson(n,t)}static fromJsonString(n,t){return new bn().fromJsonString(n,t)}static equals(n,t){return p.util.equals(bn,n,t)}}bn.runtime=p;bn.typeName="google.protobuf.UInt64Value";bn.fields=p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);bn.fieldWrapper={wrapField(s){return new bn({value:s})},unwrapField(s){return s.value}};class Xe extends j{constructor(n){super(),this.value=0,p.util.initPartial(n,this)}toJson(n){return p.json.writeScalar(z.INT32,this.value,!0)}fromJson(n,t){try{this.value=p.json.readScalar(z.INT32,n)}catch(i){let l='cannot decode message google.protobuf.Int32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,t){return new Xe().fromBinary(n,t)}static fromJson(n,t){return new Xe().fromJson(n,t)}static fromJsonString(n,t){return new Xe().fromJsonString(n,t)}static equals(n,t){return p.util.equals(Xe,n,t)}}Xe.runtime=p;Xe.typeName="google.protobuf.Int32Value";Xe.fields=p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);Xe.fieldWrapper={wrapField(s){return new Xe({value:s})},unwrapField(s){return s.value}};class Xn extends j{constructor(n){super(),this.value=0,p.util.initPartial(n,this)}toJson(n){return p.json.writeScalar(z.UINT32,this.value,!0)}fromJson(n,t){try{this.value=p.json.readScalar(z.UINT32,n)}catch(i){let l='cannot decode message google.protobuf.UInt32Value from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,t){return new Xn().fromBinary(n,t)}static fromJson(n,t){return new Xn().fromJson(n,t)}static fromJsonString(n,t){return new Xn().fromJsonString(n,t)}static equals(n,t){return p.util.equals(Xn,n,t)}}Xn.runtime=p;Xn.typeName="google.protobuf.UInt32Value";Xn.fields=p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);Xn.fieldWrapper={wrapField(s){return new Xn({value:s})},unwrapField(s){return s.value}};class In extends j{constructor(n){super(),this.value=!1,p.util.initPartial(n,this)}toJson(n){return p.json.writeScalar(z.BOOL,this.value,!0)}fromJson(n,t){try{this.value=p.json.readScalar(z.BOOL,n)}catch(i){let l='cannot decode message google.protobuf.BoolValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,t){return new In().fromBinary(n,t)}static fromJson(n,t){return new In().fromJson(n,t)}static fromJsonString(n,t){return new In().fromJsonString(n,t)}static equals(n,t){return p.util.equals(In,n,t)}}In.runtime=p;In.typeName="google.protobuf.BoolValue";In.fields=p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);In.fieldWrapper={wrapField(s){return new In({value:s})},unwrapField(s){return s.value}};class ie extends j{constructor(n){super(),this.value="",p.util.initPartial(n,this)}toJson(n){return p.json.writeScalar(z.STRING,this.value,!0)}fromJson(n,t){try{this.value=p.json.readScalar(z.STRING,n)}catch(i){let l='cannot decode message google.protobuf.StringValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,t){return new ie().fromBinary(n,t)}static fromJson(n,t){return new ie().fromJson(n,t)}static fromJsonString(n,t){return new ie().fromJsonString(n,t)}static equals(n,t){return p.util.equals(ie,n,t)}}ie.runtime=p;ie.typeName="google.protobuf.StringValue";ie.fields=p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);ie.fieldWrapper={wrapField(s){return new ie({value:s})},unwrapField(s){return s.value}};class Zn extends j{constructor(n){super(),this.value=new Uint8Array(0),p.util.initPartial(n,this)}toJson(n){return p.json.writeScalar(z.BYTES,this.value,!0)}fromJson(n,t){try{this.value=p.json.readScalar(z.BYTES,n)}catch(i){let l='cannot decode message google.protobuf.BytesValue from JSON"';throw i instanceof Error&&i.message.length>0&&(l+=`: ${i.message}`),new Error(l)}return this}static fromBinary(n,t){return new Zn().fromBinary(n,t)}static fromJson(n,t){return new Zn().fromJson(n,t)}static fromJsonString(n,t){return new Zn().fromJsonString(n,t)}static equals(n,t){return p.util.equals(Zn,n,t)}}Zn.runtime=p;Zn.typeName="google.protobuf.BytesValue";Zn.fields=p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);Zn.fieldWrapper={wrapField(s){return new Zn({value:s})},unwrapField(s){return s.value}};function u1(s,n,t){try{const i=ng.dec(s);return n?n.fromBinary(i,t):i}catch(i){throw Ut.from(i,St.DataLoss)}}function c1(s,n){const t={};for(const[i,l]of Object.entries(s.methods)){const c=n(Object.assign(Object.assign({},l),{localName:i,service:s}));c!=null&&(t[i]=c)}return t}const jv=1;function Kv(s){let n,t=new Uint8Array(0);function i(l){const c=new Uint8Array(t.length+l.length);c.set(t),c.set(l,t.length),t=c}return new ReadableStream({start(){n=s.getReader()},async pull(l){let c;for(;;){if(c===void 0&&t.byteLength>=5){let y=0;for(let v=1;v<5;v++)y=(y<<8)+t[v];c={flags:t[0],length:y}}if(c!==void 0&&t.byteLength>=c.length+5)break;const g=await n.read();if(g.done)break;i(g.value)}if(c===void 0){if(t.byteLength==0){l.close();return}l.error(new Ut("premature end of stream",St.DataLoss));return}const d=t.subarray(5,5+c.length);t=t.subarray(5+c.length),l.enqueue({flags:c.flags,data:d})}})}function Yv(s,n){const t=new Uint8Array(n.length+5);t.set(n,5);const i=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.setUint8(0,s),i.setUint32(1,n.length),t}var f1=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],t;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(c){t[c]=s[c]&&function(d){return new Promise(function(g,y){d=s[c](d),l(g,y,d.done,d.value)})}}function l(c,d,g,y){Promise.resolve(y).then(function(v){c({value:v,done:g})},d)}},ml=function(s){return this instanceof ml?(this.v=s,this):new ml(s)},h1=function(s,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(O){return function(U){return Promise.resolve(U).then(O,E)}}function g(O,U){i[O]&&(l[O]=function(V){return new Promise(function(K,W){c.push([O,V,K,W])>1||y(O,V)})},U&&(l[O]=U(l[O])))}function y(O,U){try{v(i[O](U))}catch(V){C(c[0][3],V)}}function v(O){O.value instanceof ml?Promise.resolve(O.value.v).then(b,E):C(c[0][2],O)}function b(O){y("next",O)}function E(O){y("throw",O)}function C(O,U){O(U),c.shift(),c.length&&y(c[0][0],c[0][1])}},d1=function(s){var n,t;return n={},i("next"),i("throw",function(l){throw l}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(l,c){n[l]=s[l]?function(d){return(t=!t)?{value:ml(s[l](d)),done:!1}:c?c(d):d}:c}};function g1(s){return h1(this,arguments,function*(){yield ml(yield*d1(f1(s)))})}var j0=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],t;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(c){t[c]=s[c]&&function(d){return new Promise(function(g,y){d=s[c](d),l(g,y,d.done,d.value)})}}function l(c,d,g,y){Promise.resolve(y).then(function(v){c({value:v,done:g})},d)}},Xs=function(s){return this instanceof Xs?(this.v=s,this):new Xs(s)},m1=function(s){var n,t;return n={},i("next"),i("throw",function(l){throw l}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(l,c){n[l]=s[l]?function(d){return(t=!t)?{value:Xs(s[l](d)),done:!1}:c?c(d):d}:c}},y1=function(s,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(O){return function(U){return Promise.resolve(U).then(O,E)}}function g(O,U){i[O]&&(l[O]=function(V){return new Promise(function(K,W){c.push([O,V,K,W])>1||y(O,V)})},U&&(l[O]=U(l[O])))}function y(O,U){try{v(i[O](U))}catch(V){C(c[0][3],V)}}function v(O){O.value instanceof Xs?Promise.resolve(O.value.v).then(b,E):C(c[0][2],O)}function b(O){y("next",O)}function E(O){y("throw",O)}function C(O,U){O(U),c.shift(),c.length&&y(c[0][0],c[0][1])}};function p1(s,n){return c1(s,t=>{switch(t.kind){case le.Unary:return v1(n,s,t);case le.ServerStreaming:return S1(n,s,t);case le.ClientStreaming:return b1(n,s,t);case le.BiDiStreaming:return T1(n,s,t);default:return null}})}function v1(s,n,t){return async function(i,l){var c,d;const g=await s.unary(n,t,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,i,l==null?void 0:l.contextValues);return(c=l==null?void 0:l.onHeader)===null||c===void 0||c.call(l,g.header),(d=l==null?void 0:l.onTrailer)===null||d===void 0||d.call(l,g.trailer),g.message}}function S1(s,n,t){return function(i,l){return K0(s.stream(n,t,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,g1([i]),l==null?void 0:l.contextValues),l)}}function b1(s,n,t){return async function(i,l){var c,d,g,y,v,b;const E=await s.stream(n,t,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,i,l==null?void 0:l.contextValues);(v=l==null?void 0:l.onHeader)===null||v===void 0||v.call(l,E.header);let C,O=0;try{for(var U=!0,V=j0(E.message),K;K=await V.next(),c=K.done,!c;U=!0)y=K.value,U=!1,C=y,O++}catch(W){d={error:W}}finally{try{!U&&!c&&(g=V.return)&&await g.call(V)}finally{if(d)throw d.error}}if(!C)throw new Ut("protocol error: missing response message",St.Unimplemented);if(O>1)throw new Ut("protocol error: received extra messages for client streaming method",St.Unimplemented);return(b=l==null?void 0:l.onTrailer)===null||b===void 0||b.call(l,E.trailer),C}}function T1(s,n,t){return function(i,l){return K0(s.stream(n,t,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,i,l==null?void 0:l.contextValues),l)}}function K0(s,n){const t=function(){return y1(this,arguments,function*(){var i,l;const c=yield Xs(s);(i=n==null?void 0:n.onHeader)===null||i===void 0||i.call(n,c.header),yield Xs(yield*m1(j0(c.message))),(l=n==null?void 0:n.onTrailer)===null||l===void 0||l.call(n,c.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>t.next()})}}function w1(...s){const n=new AbortController,t=s.filter(l=>l!==void 0).concat(n.signal);for(const l of t){if(l.aborted){i.apply(l);break}l.addEventListener("abort",i)}function i(){n.signal.aborted||n.abort(Y0(this));for(const l of t)l.removeEventListener("abort",i)}return n}function A1(s){const n=new AbortController,t=()=>{n.abort(new Ut("the operation timed out",St.DeadlineExceeded))};let i;return s!==void 0&&(s<=0?t():i=setTimeout(t,s)),{signal:n.signal,cleanup:()=>clearTimeout(i)}}function Y0(s){if(!s.aborted)return;if(s.reason!==void 0)return s.reason;const n=new Error("This operation was aborted");return n.name="AbortError",n}function Gv(){return{get(s){return s.id in this?this[s.id]:s.defaultValue},set(s,n){return this[s.id]=n,this},delete(s){return delete this[s.id],this}}}const ud=128;function $v(s){const n=new Headers,t=new TextDecoder().decode(s).split(`\r
`);for(const i of t){if(i==="")continue;const l=i.indexOf(":");if(l>0){const c=i.substring(0,l).trim(),d=i.substring(l+1).trim();n.append(c,d)}}return n}const E1="Content-Type",x1="Grpc-Timeout",Zs="Grpc-Status",G0="Grpc-Message",N1="Grpc-Status-Details-Bin",D1="X-User-Agent",O1="X-Grpc-Web",k1="application/grpc-web+proto",C1="application/grpc-web+json";class Li extends j{constructor(n){super(),this.code=0,this.message="",this.details=[],p.util.initPartial(n,this)}static fromBinary(n,t){return new Li().fromBinary(n,t)}static fromJson(n,t){return new Li().fromJson(n,t)}static fromJsonString(n,t){return new Li().fromJsonString(n,t)}static equals(n,t){return p.util.equals(Li,n,t)}}Li.runtime=p;Li.typeName="google.rpc.Status";Li.fields=p.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:Yn,repeated:!0}]);const I1="0";function $0(s){var n;const t=s.get(N1);if(t!=null){const l=u1(t,Li);if(l.code==0)return;const c=new Ut(l.message,l.code,s);return c.details=l.details.map(d=>({type:d.typeUrl.substring(d.typeUrl.lastIndexOf("/")+1),value:d.value})),c}const i=s.get(Zs);if(i!=null){if(i===I1)return;const l=parseInt(i,10);return l in St?new Ut(decodeURIComponent((n=s.get(G0))!==null&&n!==void 0?n:""),l,s):new Ut(`invalid grpc-status: ${i}`,St.Internal,s)}}function Xv(s,n,t){const i=typeof n=="string"?n:n.typeName,l=typeof t=="string"?t:t.name;return s.toString().replace(/\/?$/,`/${i}/${l}`)}function X0(s,n){return n instanceof s?n:new s(n)}function R1(s,n){function t(i){return i.done===!0?i:{done:i.done,value:X0(s,i.value)}}return{[Symbol.asyncIterator](){const i=n[Symbol.asyncIterator](),l={next:()=>i.next().then(t)};return i.throw!==void 0&&(l.throw=c=>i.throw(c).then(t)),i.return!==void 0&&(l.return=c=>i.return(c).then(t)),l}}}function Z0(s,n){var t;return(t=n==null?void 0:n.concat().reverse().reduce((i,l)=>l(i),s))!==null&&t!==void 0?t:s}function B1(s){var n;const t=Object.assign({},s);return(n=t.ignoreUnknownFields)!==null&&n!==void 0||(t.ignoreUnknownFields=!0),t}function Zv(s,n,t,i){const l=n?Fv(s.I,i):Qv(s.I,t);return{parse:(n?Fv(s.O,i):Qv(s.O,t)).parse,serialize:l.serialize}}function Fv(s,n){return{parse(t){try{return s.fromBinary(t,n)}catch(i){const l=i instanceof Error?i.message:String(i);throw new Ut(`parse binary: ${l}`,St.Internal)}},serialize(t){try{return t.toBinary(n)}catch(i){const l=i instanceof Error?i.message:String(i);throw new Ut(`serialize binary: ${l}`,St.Internal)}}}}function Qv(s,n){var t,i;const l=(t=n==null?void 0:n.textEncoder)!==null&&t!==void 0?t:new TextEncoder,c=(i=n==null?void 0:n.textDecoder)!==null&&i!==void 0?i:new TextDecoder,d=B1(n);return{parse(g){try{const y=c.decode(g);return s.fromJsonString(y,d)}catch(y){throw Ut.from(y,St.InvalidArgument)}},serialize(g){try{const y=g.toJsonString(d);return l.encode(y)}catch(y){throw Ut.from(y,St.Internal)}}}}function z1(s){const n=Z0(s.next,s.interceptors),[t,i,l]=F0(s),c=Object.assign(Object.assign({},s.req),{message:X0(s.req.method.I,s.req.message),signal:t});return n(c).then(d=>(l(),d),i)}function M1(s){const n=Z0(s.next,s.interceptors),[t,i,l]=F0(s),c=Object.assign(Object.assign({},s.req),{message:R1(s.req.method.I,s.req.message),signal:t});let d=!1;return t.addEventListener("abort",function(){var g,y;const v=s.req.message[Symbol.asyncIterator]();d||(g=v.throw)===null||g===void 0||g.call(v,this.reason).catch(()=>{}),(y=v.return)===null||y===void 0||y.call(v).catch(()=>{})}),n(c).then(g=>Object.assign(Object.assign({},g),{message:{[Symbol.asyncIterator](){const y=g.message[Symbol.asyncIterator]();return{next(){return y.next().then(v=>(v.done==!0&&(d=!0,l()),v),i)}}}}}),i)}function F0(s){const{signal:n,cleanup:t}=A1(s.timeoutMs),i=w1(s.signal,n);return[i.signal,function(c){const d=Ut.from(n.aborted?Y0(n):c);return i.abort(d),t(),Promise.reject(d)},function(){t(),i.abort()}]}function U1(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function _v(s,n){const t=$0(s);if(t)throw n.forEach((i,l)=>{t.metadata.append(l,i)}),t;if(!n.has(Zs)&&!s.has(Zs))throw new Ut("protocol error: missing status",St.Internal)}function Wv(s,n,t,i){const l=new Headers(t??{});return l.set(E1,s?k1:C1),l.set(O1,"1"),l.set(D1,"connect-es/1.6.1"),n!==void 0&&l.set(x1,`${n}m`),l}function L1(s){switch(s){case 400:return St.Internal;case 401:return St.Unauthenticated;case 403:return St.PermissionDenied;case 404:return St.Unimplemented;case 429:return St.Unavailable;case 502:return St.Unavailable;case 503:return St.Unavailable;case 504:return St.Unavailable;default:return St.Unknown}}function t0(s,n){var t;if(s>=200&&s<300)return{foundStatus:n.has(Zs),headerError:$0(n)};throw new Ut(decodeURIComponent((t=n.get(G0))!==null&&t!==void 0?t:`HTTP ${s}`),L1(s),n)}var Ga=function(s){return this instanceof Ga?(this.v=s,this):new Ga(s)},J1=function(s,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(s,n||[]),l,c=[];return l={},g("next"),g("throw"),g("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(O){return function(U){return Promise.resolve(U).then(O,E)}}function g(O,U){i[O]&&(l[O]=function(V){return new Promise(function(K,W){c.push([O,V,K,W])>1||y(O,V)})},U&&(l[O]=U(l[O])))}function y(O,U){try{v(i[O](U))}catch(V){C(c[0][3],V)}}function v(O){O.value instanceof Ga?Promise.resolve(O.value.v).then(b,E):C(c[0][2],O)}function b(O){y("next",O)}function E(O){y("throw",O)}function C(O,U){O(U),c.shift(),c.length&&y(c[0][0],c[0][1])}};function q1(s){var n;U1();const t=(n=s.useBinaryFormat)!==null&&n!==void 0?n:!0;return{async unary(i,l,c,d,g,y,v){var b;const{serialize:E,parse:C}=Zv(l,t,s.jsonOptions,s.binaryOptions);return d=d===void 0?s.defaultTimeoutMs:d<=0?void 0:d,await z1({interceptors:s.interceptors,signal:c,timeoutMs:d,req:{stream:!1,service:i,method:l,url:Xv(s.baseUrl,i,l),init:{method:"POST",credentials:(b=s.credentials)!==null&&b!==void 0?b:"same-origin",redirect:"error",mode:"cors"},header:Wv(t,d,g),contextValues:v??Gv(),message:y},next:async O=>{var U;const K=await((U=s.fetch)!==null&&U!==void 0?U:globalThis.fetch)(O.url,Object.assign(Object.assign({},O.init),{headers:O.header,signal:O.signal,body:Yv(0,E(O.message))})),{headerError:W}=t0(K.status,K.headers);if(!K.body)throw W!==void 0?W:"missing response body";const lt=Kv(K.body).getReader();let ct,mt;for(;;){const et=await lt.read();if(et.done)break;const{flags:nt,data:yt}=et.value;if((nt&jv)===jv)throw new Ut("protocol error: received unsupported compressed output",St.Internal);if(nt===ud){if(ct!==void 0)throw"extra trailer";ct=$v(yt);continue}if(mt!==void 0)throw new Ut("extra message",St.Unimplemented);mt=C(yt)}if(ct===void 0)throw W!==void 0?W:new Ut("missing trailer",K.headers.has(Zs)?St.Unimplemented:St.Unknown);if(_v(ct,K.headers),mt===void 0)throw new Ut("missing message",ct.has(Zs)?St.Unimplemented:St.Unknown);return{stream:!1,service:i,method:l,header:K.headers,message:mt,trailer:ct}}})},async stream(i,l,c,d,g,y,v){var b;const{serialize:E,parse:C}=Zv(l,t,s.jsonOptions,s.binaryOptions);function O(V,K,W,lt,ct){return J1(this,arguments,function*(){const et=Kv(V).getReader();if(K){if(!(yield Ga(et.read())).done)throw"extra data for trailers-only";return yield Ga(void 0)}let nt=!1;for(;;){const yt=yield Ga(et.read());if(yt.done)break;const{flags:At,data:Et}=yt.value;if((At&ud)===ud){if(nt)throw"extra trailer";nt=!0;const ae=$v(Et);_v(ae,lt),ae.forEach((Oe,Qt)=>W.set(Qt,Oe));continue}if(nt)throw"extra message";yield yield Ga(C(Et))}if("throwIfAborted"in ct&&ct.throwIfAborted(),!nt)throw"missing trailer"})}async function U(V){if(l.kind!=le.ServerStreaming)throw"The fetch API does not support streaming request bodies";const K=await V[Symbol.asyncIterator]().next();if(K.done==!0)throw"missing request message";return Yv(0,E(K.value))}return d=d===void 0?s.defaultTimeoutMs:d<=0?void 0:d,M1({interceptors:s.interceptors,signal:c,timeoutMs:d,req:{stream:!0,service:i,method:l,url:Xv(s.baseUrl,i,l),init:{method:"POST",credentials:(b=s.credentials)!==null&&b!==void 0?b:"same-origin",redirect:"error",mode:"cors"},header:Wv(t,d,g),contextValues:v??Gv(),message:y},next:async V=>{var K;const lt=await((K=s.fetch)!==null&&K!==void 0?K:globalThis.fetch)(V.url,Object.assign(Object.assign({},V.init),{headers:V.header,signal:V.signal,body:await U(V.message)})),{foundStatus:ct,headerError:mt}=t0(lt.status,lt.headers);if(mt!=null)throw mt;if(!lt.body)throw"missing response body";const et=new Headers;return Object.assign(Object.assign({},V),{header:lt.headers,trailer:et,message:O(lt.body,ct,et,lt.headers,V.signal)})}})}}}var ft=(s=>(s[s.NULL=0]="NULL",s[s.BOOLEAN=1]="BOOLEAN",s[s.INTEGER=2]="INTEGER",s[s.LONG=3]="LONG",s[s.DOUBLE=4]="DOUBLE",s[s.STRING=5]="STRING",s[s.BYTES=6]="BYTES",s[s.DATE=7]="DATE",s[s.JSON_OBJECT=8]="JSON_OBJECT",s[s.JSON_ARRAY=9]="JSON_ARRAY",s[s.TEXT=10]="TEXT",s[s.INTEGER_CNT=11]="INTEGER_CNT",s[s.LONG_CNT=12]="LONG_CNT",s[s.TREE=13]="TREE",s))(ft||{});p.util.setEnumType(ft,"yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER"},{no:3,name:"VALUE_TYPE_LONG"},{no:4,name:"VALUE_TYPE_DOUBLE"},{no:5,name:"VALUE_TYPE_STRING"},{no:6,name:"VALUE_TYPE_BYTES"},{no:7,name:"VALUE_TYPE_DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE"}]);var Xa=(s=>(s[s.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",s[s.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",s[s.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",s[s.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",s))(Xa||{});p.util.setEnumType(Xa,"yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST"}]);const vr=class vr extends j{constructor(t){super();h(this,"root");h(this,"presences",{});p.util.initPartial(t,this)}static fromBinary(t,i){return new vr().fromBinary(t,i)}static fromJson(t,i){return new vr().fromJson(t,i)}static fromJsonString(t,i){return new vr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(vr,t,i)}};h(vr,"runtime",p),h(vr,"typeName","yorkie.v1.Snapshot"),h(vr,"fields",p.util.newFieldList(()=>[{no:1,name:"root",kind:"message",T:Le},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:Bc}}]));let gd=vr;var cn;let ji=(cn=class extends j{constructor(t){super();h(this,"documentKey","");h(this,"checkpoint");h(this,"snapshot",new Uint8Array(0));h(this,"changes",[]);h(this,"minSyncedTicket");h(this,"isRemoved",!1);h(this,"versionVector");p.util.initPartial(t,this)}static fromBinary(t,i){return new cn().fromBinary(t,i)}static fromJson(t,i){return new cn().fromJson(t,i)}static fromJsonString(t,i){return new cn().fromJsonString(t,i)}static equals(t,i){return p.util.equals(cn,t,i)}},h(cn,"runtime",p),h(cn,"typeName","yorkie.v1.ChangePack"),h(cn,"fields",p.util.newFieldList(()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:W0},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:Q0,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:F},{no:6,name:"is_removed",kind:"scalar",T:8},{no:7,name:"version_vector",kind:"message",T:Rc}])),cn);var fn;let Q0=(fn=class extends j{constructor(t){super();h(this,"id");h(this,"message","");h(this,"operations",[]);h(this,"presenceChange");p.util.initPartial(t,this)}static fromBinary(t,i){return new fn().fromBinary(t,i)}static fromJson(t,i){return new fn().fromJson(t,i)}static fromJsonString(t,i){return new fn().fromJsonString(t,i)}static equals(t,i){return p.util.equals(fn,t,i)}},h(fn,"runtime",p),h(fn,"typeName","yorkie.v1.Change"),h(fn,"fields",p.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Ic},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:rg,repeated:!0},{no:4,name:"presence_change",kind:"message",T:vl}])),fn);var hn;let Ic=(hn=class extends j{constructor(t){super();h(this,"clientSeq",0);h(this,"serverSeq",Tt.zero);h(this,"lamport",Tt.zero);h(this,"actorId",new Uint8Array(0));h(this,"versionVector");p.util.initPartial(t,this)}static fromBinary(t,i){return new hn().fromBinary(t,i)}static fromJson(t,i){return new hn().fromJson(t,i)}static fromJsonString(t,i){return new hn().fromJsonString(t,i)}static equals(t,i){return p.util.equals(hn,t,i)}},h(hn,"runtime",p),h(hn,"typeName","yorkie.v1.ChangeID"),h(hn,"fields",p.util.newFieldList(()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3},{no:3,name:"lamport",kind:"scalar",T:3},{no:4,name:"actor_id",kind:"scalar",T:12},{no:5,name:"version_vector",kind:"message",T:Rc}])),hn);var dn;let Rc=(dn=class extends j{constructor(t){super();h(this,"vector",{});p.util.initPartial(t,this)}static fromBinary(t,i){return new dn().fromBinary(t,i)}static fromJson(t,i){return new dn().fromJson(t,i)}static fromJsonString(t,i){return new dn().fromJsonString(t,i)}static equals(t,i){return p.util.equals(dn,t,i)}},h(dn,"runtime",p),h(dn,"typeName","yorkie.v1.VersionVector"),h(dn,"fields",p.util.newFieldList(()=>[{no:1,name:"vector",kind:"map",K:9,V:{kind:"scalar",T:3}}])),dn);var gn;let rg=(gn=class extends j{constructor(t){super();h(this,"body",{case:void 0});p.util.initPartial(t,this)}static fromBinary(t,i){return new gn().fromBinary(t,i)}static fromJson(t,i){return new gn().fromJson(t,i)}static fromJsonString(t,i){return new gn().fromJsonString(t,i)}static equals(t,i){return p.util.equals(gn,t,i)}},h(gn,"runtime",p),h(gn,"typeName","yorkie.v1.Operation"),h(gn,"fields",p.util.newFieldList(()=>[{no:1,name:"set",kind:"message",T:ic,oneof:"body"},{no:2,name:"add",kind:"message",T:ac,oneof:"body"},{no:3,name:"move",kind:"message",T:sc,oneof:"body"},{no:4,name:"remove",kind:"message",T:oc,oneof:"body"},{no:5,name:"edit",kind:"message",T:lc,oneof:"body"},{no:7,name:"style",kind:"message",T:uc,oneof:"body"},{no:8,name:"increase",kind:"message",T:cc,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:fc,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:hc,oneof:"body"},{no:11,name:"array_set",kind:"message",T:dc,oneof:"body"}])),gn);const Sr=class Sr extends j{constructor(t){super();h(this,"parentCreatedAt");h(this,"key","");h(this,"value");h(this,"executedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Sr().fromBinary(t,i)}static fromJson(t,i){return new Sr().fromJson(t,i)}static fromJsonString(t,i){return new Sr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Sr,t,i)}};h(Sr,"runtime",p),h(Sr,"typeName","yorkie.v1.Operation.Set"),h(Sr,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:un},{no:4,name:"executed_at",kind:"message",T:F}]));let ic=Sr;const br=class br extends j{constructor(t){super();h(this,"parentCreatedAt");h(this,"prevCreatedAt");h(this,"value");h(this,"executedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new br().fromBinary(t,i)}static fromJson(t,i){return new br().fromJson(t,i)}static fromJsonString(t,i){return new br().fromJsonString(t,i)}static equals(t,i){return p.util.equals(br,t,i)}};h(br,"runtime",p),h(br,"typeName","yorkie.v1.Operation.Add"),h(br,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"prev_created_at",kind:"message",T:F},{no:3,name:"value",kind:"message",T:un},{no:4,name:"executed_at",kind:"message",T:F}]));let ac=br;const Tr=class Tr extends j{constructor(t){super();h(this,"parentCreatedAt");h(this,"prevCreatedAt");h(this,"createdAt");h(this,"executedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Tr().fromBinary(t,i)}static fromJson(t,i){return new Tr().fromJson(t,i)}static fromJsonString(t,i){return new Tr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Tr,t,i)}};h(Tr,"runtime",p),h(Tr,"typeName","yorkie.v1.Operation.Move"),h(Tr,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"prev_created_at",kind:"message",T:F},{no:3,name:"created_at",kind:"message",T:F},{no:4,name:"executed_at",kind:"message",T:F}]));let sc=Tr;const wr=class wr extends j{constructor(t){super();h(this,"parentCreatedAt");h(this,"createdAt");h(this,"executedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new wr().fromBinary(t,i)}static fromJson(t,i){return new wr().fromJson(t,i)}static fromJsonString(t,i){return new wr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(wr,t,i)}};h(wr,"runtime",p),h(wr,"typeName","yorkie.v1.Operation.Remove"),h(wr,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"created_at",kind:"message",T:F},{no:3,name:"executed_at",kind:"message",T:F}]));let oc=wr;const Ar=class Ar extends j{constructor(t){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"createdAtMapByActor",{});h(this,"content","");h(this,"executedAt");h(this,"attributes",{});p.util.initPartial(t,this)}static fromBinary(t,i){return new Ar().fromBinary(t,i)}static fromJson(t,i){return new Ar().fromJson(t,i)}static fromJsonString(t,i){return new Ar().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Ar,t,i)}};h(Ar,"runtime",p),h(Ar,"typeName","yorkie.v1.Operation.Edit"),h(Ar,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"from",kind:"message",T:Qa},{no:3,name:"to",kind:"message",T:Qa},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:F}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:F},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let lc=Ar;const Er=class Er extends j{constructor(t){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"attributes",{});h(this,"executedAt");h(this,"createdAtMapByActor",{});p.util.initPartial(t,this)}static fromBinary(t,i){return new Er().fromBinary(t,i)}static fromJson(t,i){return new Er().fromJson(t,i)}static fromJsonString(t,i){return new Er().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Er,t,i)}};h(Er,"runtime",p),h(Er,"typeName","yorkie.v1.Operation.Style"),h(Er,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"from",kind:"message",T:Qa},{no:3,name:"to",kind:"message",T:Qa},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:F},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:F}}]));let uc=Er;const xr=class xr extends j{constructor(t){super();h(this,"parentCreatedAt");h(this,"value");h(this,"executedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new xr().fromBinary(t,i)}static fromJson(t,i){return new xr().fromJson(t,i)}static fromJsonString(t,i){return new xr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(xr,t,i)}};h(xr,"runtime",p),h(xr,"typeName","yorkie.v1.Operation.Increase"),h(xr,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"value",kind:"message",T:un},{no:3,name:"executed_at",kind:"message",T:F}]));let cc=xr;const Nr=class Nr extends j{constructor(t){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"createdAtMapByActor",{});h(this,"contents",[]);h(this,"splitLevel",0);h(this,"executedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Nr().fromBinary(t,i)}static fromJson(t,i){return new Nr().fromJson(t,i)}static fromJsonString(t,i){return new Nr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Nr,t,i)}};h(Nr,"runtime",p),h(Nr,"typeName","yorkie.v1.Operation.TreeEdit"),h(Nr,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"from",kind:"message",T:Za},{no:3,name:"to",kind:"message",T:Za},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:F}},{no:5,name:"contents",kind:"message",T:wc,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:F}]));let fc=Nr;const Dr=class Dr extends j{constructor(t){super();h(this,"parentCreatedAt");h(this,"from");h(this,"to");h(this,"attributes",{});h(this,"executedAt");h(this,"attributesToRemove",[]);h(this,"createdAtMapByActor",{});p.util.initPartial(t,this)}static fromBinary(t,i){return new Dr().fromBinary(t,i)}static fromJson(t,i){return new Dr().fromJson(t,i)}static fromJsonString(t,i){return new Dr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Dr,t,i)}};h(Dr,"runtime",p),h(Dr,"typeName","yorkie.v1.Operation.TreeStyle"),h(Dr,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"from",kind:"message",T:Za},{no:3,name:"to",kind:"message",T:Za},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:F},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:F}}]));let hc=Dr;const Or=class Or extends j{constructor(t){super();h(this,"parentCreatedAt");h(this,"createdAt");h(this,"value");h(this,"executedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Or().fromBinary(t,i)}static fromJson(t,i){return new Or().fromJson(t,i)}static fromJsonString(t,i){return new Or().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Or,t,i)}};h(Or,"runtime",p),h(Or,"typeName","yorkie.v1.Operation.ArraySet"),h(Or,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:F},{no:2,name:"created_at",kind:"message",T:F},{no:3,name:"value",kind:"message",T:un},{no:4,name:"executed_at",kind:"message",T:F}]));let dc=Or;const kr=class kr extends j{constructor(t){super();h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");h(this,"type",0);h(this,"value",new Uint8Array(0));p.util.initPartial(t,this)}static fromBinary(t,i){return new kr().fromBinary(t,i)}static fromJson(t,i){return new kr().fromJson(t,i)}static fromJsonString(t,i){return new kr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(kr,t,i)}};h(kr,"runtime",p),h(kr,"typeName","yorkie.v1.JSONElementSimple"),h(kr,"fields",p.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:F},{no:2,name:"moved_at",kind:"message",T:F},{no:3,name:"removed_at",kind:"message",T:F},{no:4,name:"type",kind:"enum",T:p.getEnumType(ft)},{no:5,name:"value",kind:"scalar",T:12}]));let un=kr;const Cr=class Cr extends j{constructor(t){super();h(this,"body",{case:void 0});p.util.initPartial(t,this)}static fromBinary(t,i){return new Cr().fromBinary(t,i)}static fromJson(t,i){return new Cr().fromJson(t,i)}static fromJsonString(t,i){return new Cr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Cr,t,i)}};h(Cr,"runtime",p),h(Cr,"typeName","yorkie.v1.JSONElement"),h(Cr,"fields",p.util.newFieldList(()=>[{no:1,name:"json_object",kind:"message",T:gc,oneof:"body"},{no:2,name:"json_array",kind:"message",T:mc,oneof:"body"},{no:3,name:"primitive",kind:"message",T:yc,oneof:"body"},{no:5,name:"text",kind:"message",T:pc,oneof:"body"},{no:6,name:"counter",kind:"message",T:vc,oneof:"body"},{no:7,name:"tree",kind:"message",T:Sc,oneof:"body"}]));let Le=Cr;const Ir=class Ir extends j{constructor(t){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Ir().fromBinary(t,i)}static fromJson(t,i){return new Ir().fromJson(t,i)}static fromJsonString(t,i){return new Ir().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Ir,t,i)}};h(Ir,"runtime",p),h(Ir,"typeName","yorkie.v1.JSONElement.JSONObject"),h(Ir,"fields",p.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:_0,repeated:!0},{no:2,name:"created_at",kind:"message",T:F},{no:3,name:"moved_at",kind:"message",T:F},{no:4,name:"removed_at",kind:"message",T:F}]));let gc=Ir;const Rr=class Rr extends j{constructor(t){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Rr().fromBinary(t,i)}static fromJson(t,i){return new Rr().fromJson(t,i)}static fromJsonString(t,i){return new Rr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Rr,t,i)}};h(Rr,"runtime",p),h(Rr,"typeName","yorkie.v1.JSONElement.JSONArray"),h(Rr,"fields",p.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:bc,repeated:!0},{no:2,name:"created_at",kind:"message",T:F},{no:3,name:"moved_at",kind:"message",T:F},{no:4,name:"removed_at",kind:"message",T:F}]));let mc=Rr;const Br=class Br extends j{constructor(t){super();h(this,"type",0);h(this,"value",new Uint8Array(0));h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Br().fromBinary(t,i)}static fromJson(t,i){return new Br().fromJson(t,i)}static fromJsonString(t,i){return new Br().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Br,t,i)}};h(Br,"runtime",p),h(Br,"typeName","yorkie.v1.JSONElement.Primitive"),h(Br,"fields",p.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:p.getEnumType(ft)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:F},{no:4,name:"moved_at",kind:"message",T:F},{no:5,name:"removed_at",kind:"message",T:F}]));let yc=Br;const zr=class zr extends j{constructor(t){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new zr().fromBinary(t,i)}static fromJson(t,i){return new zr().fromJson(t,i)}static fromJsonString(t,i){return new zr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(zr,t,i)}};h(zr,"runtime",p),h(zr,"typeName","yorkie.v1.JSONElement.Text"),h(zr,"fields",p.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Tc,repeated:!0},{no:2,name:"created_at",kind:"message",T:F},{no:3,name:"moved_at",kind:"message",T:F},{no:4,name:"removed_at",kind:"message",T:F}]));let pc=zr;const Mr=class Mr extends j{constructor(t){super();h(this,"type",0);h(this,"value",new Uint8Array(0));h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Mr().fromBinary(t,i)}static fromJson(t,i){return new Mr().fromJson(t,i)}static fromJsonString(t,i){return new Mr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Mr,t,i)}};h(Mr,"runtime",p),h(Mr,"typeName","yorkie.v1.JSONElement.Counter"),h(Mr,"fields",p.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:p.getEnumType(ft)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:F},{no:4,name:"moved_at",kind:"message",T:F},{no:5,name:"removed_at",kind:"message",T:F}]));let vc=Mr;const Ur=class Ur extends j{constructor(t){super();h(this,"nodes",[]);h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Ur().fromBinary(t,i)}static fromJson(t,i){return new Ur().fromJson(t,i)}static fromJsonString(t,i){return new Ur().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Ur,t,i)}};h(Ur,"runtime",p),h(Ur,"typeName","yorkie.v1.JSONElement.Tree"),h(Ur,"fields",p.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:pl,repeated:!0},{no:2,name:"created_at",kind:"message",T:F},{no:3,name:"moved_at",kind:"message",T:F},{no:4,name:"removed_at",kind:"message",T:F}]));let Sc=Ur;var mn;let _0=(mn=class extends j{constructor(t){super();h(this,"key","");h(this,"element");p.util.initPartial(t,this)}static fromBinary(t,i){return new mn().fromBinary(t,i)}static fromJson(t,i){return new mn().fromJson(t,i)}static fromJsonString(t,i){return new mn().fromJsonString(t,i)}static equals(t,i){return p.util.equals(mn,t,i)}},h(mn,"runtime",p),h(mn,"typeName","yorkie.v1.RHTNode"),h(mn,"fields",p.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:Le}])),mn);const jn=class jn extends j{constructor(t){super();h(this,"next");h(this,"element");p.util.initPartial(t,this)}static fromBinary(t,i){return new jn().fromBinary(t,i)}static fromJson(t,i){return new jn().fromJson(t,i)}static fromJsonString(t,i){return new jn().fromJsonString(t,i)}static equals(t,i){return p.util.equals(jn,t,i)}};h(jn,"runtime",p),h(jn,"typeName","yorkie.v1.RGANode"),h(jn,"fields",p.util.newFieldList(()=>[{no:1,name:"next",kind:"message",T:jn},{no:2,name:"element",kind:"message",T:Le}]));let bc=jn;const Lr=class Lr extends j{constructor(t){super();h(this,"value","");h(this,"updatedAt");h(this,"isRemoved",!1);p.util.initPartial(t,this)}static fromBinary(t,i){return new Lr().fromBinary(t,i)}static fromJson(t,i){return new Lr().fromJson(t,i)}static fromJsonString(t,i){return new Lr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Lr,t,i)}};h(Lr,"runtime",p),h(Lr,"typeName","yorkie.v1.NodeAttr"),h(Lr,"fields",p.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:F},{no:3,name:"is_removed",kind:"scalar",T:8}]));let Fs=Lr;const Jr=class Jr extends j{constructor(t){super();h(this,"id");h(this,"value","");h(this,"removedAt");h(this,"insPrevId");h(this,"attributes",{});p.util.initPartial(t,this)}static fromBinary(t,i){return new Jr().fromBinary(t,i)}static fromJson(t,i){return new Jr().fromJson(t,i)}static fromJsonString(t,i){return new Jr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Jr,t,i)}};h(Jr,"runtime",p),h(Jr,"typeName","yorkie.v1.TextNode"),h(Jr,"fields",p.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:yl},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:F},{no:4,name:"ins_prev_id",kind:"message",T:yl},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Fs}}]));let Tc=Jr;const qr=class qr extends j{constructor(t){super();h(this,"createdAt");h(this,"offset",0);p.util.initPartial(t,this)}static fromBinary(t,i){return new qr().fromBinary(t,i)}static fromJson(t,i){return new qr().fromJson(t,i)}static fromJsonString(t,i){return new qr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(qr,t,i)}};h(qr,"runtime",p),h(qr,"typeName","yorkie.v1.TextNodeID"),h(qr,"fields",p.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:F},{no:2,name:"offset",kind:"scalar",T:5}]));let yl=qr;const Pr=class Pr extends j{constructor(t){super();h(this,"id");h(this,"type","");h(this,"value","");h(this,"removedAt");h(this,"insPrevId");h(this,"insNextId");h(this,"depth",0);h(this,"attributes",{});p.util.initPartial(t,this)}static fromBinary(t,i){return new Pr().fromBinary(t,i)}static fromJson(t,i){return new Pr().fromJson(t,i)}static fromJsonString(t,i){return new Pr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Pr,t,i)}};h(Pr,"runtime",p),h(Pr,"typeName","yorkie.v1.TreeNode"),h(Pr,"fields",p.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:va},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:F},{no:5,name:"ins_prev_id",kind:"message",T:va},{no:6,name:"ins_next_id",kind:"message",T:va},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Fs}}]));let pl=Pr;const Vr=class Vr extends j{constructor(t){super();h(this,"content",[]);p.util.initPartial(t,this)}static fromBinary(t,i){return new Vr().fromBinary(t,i)}static fromJson(t,i){return new Vr().fromJson(t,i)}static fromJsonString(t,i){return new Vr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Vr,t,i)}};h(Vr,"runtime",p),h(Vr,"typeName","yorkie.v1.TreeNodes"),h(Vr,"fields",p.util.newFieldList(()=>[{no:1,name:"content",kind:"message",T:pl,repeated:!0}]));let wc=Vr;const Hr=class Hr extends j{constructor(t){super();h(this,"createdAt");h(this,"offset",0);p.util.initPartial(t,this)}static fromBinary(t,i){return new Hr().fromBinary(t,i)}static fromJson(t,i){return new Hr().fromJson(t,i)}static fromJsonString(t,i){return new Hr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Hr,t,i)}};h(Hr,"runtime",p),h(Hr,"typeName","yorkie.v1.TreeNodeID"),h(Hr,"fields",p.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:F},{no:2,name:"offset",kind:"scalar",T:5}]));let va=Hr;const jr=class jr extends j{constructor(t){super();h(this,"parentId");h(this,"leftSiblingId");p.util.initPartial(t,this)}static fromBinary(t,i){return new jr().fromBinary(t,i)}static fromJson(t,i){return new jr().fromJson(t,i)}static fromJsonString(t,i){return new jr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(jr,t,i)}};h(jr,"runtime",p),h(jr,"typeName","yorkie.v1.TreePos"),h(jr,"fields",p.util.newFieldList(()=>[{no:1,name:"parent_id",kind:"message",T:va},{no:2,name:"left_sibling_id",kind:"message",T:va}]));let Za=jr;const Kr=class Kr extends j{constructor(t){super();h(this,"id","");h(this,"authProvider","");h(this,"username","");h(this,"createdAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Kr().fromBinary(t,i)}static fromJson(t,i){return new Kr().fromJson(t,i)}static fromJsonString(t,i){return new Kr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Kr,t,i)}};h(Kr,"runtime",p),h(Kr,"typeName","yorkie.v1.User"),h(Kr,"fields",p.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"auth_provider",kind:"scalar",T:9},{no:3,name:"username",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:pe}]));let e0=Kr;const Yr=class Yr extends j{constructor(t){super();h(this,"id","");h(this,"name","");h(this,"publicKey","");h(this,"secretKey","");h(this,"authWebhookUrl","");h(this,"authWebhookMethods",[]);h(this,"authWebhookMaxRetries",Tt.zero);h(this,"authWebhookMinWaitInterval","");h(this,"authWebhookMaxWaitInterval","");h(this,"authWebhookRequestTimeout","");h(this,"eventWebhookUrl","");h(this,"eventWebhookEvents",[]);h(this,"eventWebhookMaxRetries",Tt.zero);h(this,"eventWebhookMinWaitInterval","");h(this,"eventWebhookMaxWaitInterval","");h(this,"eventWebhookRequestTimeout","");h(this,"clientDeactivateThreshold","");h(this,"snapshotThreshold",Tt.zero);h(this,"snapshotInterval",Tt.zero);h(this,"maxSubscribersPerDocument",0);h(this,"maxAttachmentsPerDocument",0);h(this,"maxSizePerDocument",0);h(this,"removeOnDetach",!1);h(this,"allowedOrigins",[]);h(this,"createdAt");h(this,"updatedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Yr().fromBinary(t,i)}static fromJson(t,i){return new Yr().fromJson(t,i)}static fromJsonString(t,i){return new Yr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Yr,t,i)}};h(Yr,"runtime",p),h(Yr,"typeName","yorkie.v1.Project"),h(Yr,"fields",p.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:17,name:"auth_webhook_max_retries",kind:"scalar",T:4},{no:18,name:"auth_webhook_min_wait_interval",kind:"scalar",T:9},{no:19,name:"auth_webhook_max_wait_interval",kind:"scalar",T:9},{no:20,name:"auth_webhook_request_timeout",kind:"scalar",T:9},{no:7,name:"event_webhook_url",kind:"scalar",T:9},{no:8,name:"event_webhook_events",kind:"scalar",T:9,repeated:!0},{no:21,name:"event_webhook_max_retries",kind:"scalar",T:4},{no:22,name:"event_webhook_min_wait_interval",kind:"scalar",T:9},{no:23,name:"event_webhook_max_wait_interval",kind:"scalar",T:9},{no:24,name:"event_webhook_request_timeout",kind:"scalar",T:9},{no:9,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:25,name:"snapshot_threshold",kind:"scalar",T:3},{no:26,name:"snapshot_interval",kind:"scalar",T:3},{no:10,name:"max_subscribers_per_document",kind:"scalar",T:5},{no:11,name:"max_attachments_per_document",kind:"scalar",T:5},{no:15,name:"max_size_per_document",kind:"scalar",T:5},{no:16,name:"remove_on_detach",kind:"scalar",T:8},{no:14,name:"allowed_origins",kind:"scalar",T:9,repeated:!0},{no:12,name:"created_at",kind:"message",T:pe},{no:13,name:"updated_at",kind:"message",T:pe}]));let n0=Yr;const Gr=class Gr extends j{constructor(t){super();h(this,"timestamp",Tt.zero);h(this,"value",0);p.util.initPartial(t,this)}static fromBinary(t,i){return new Gr().fromBinary(t,i)}static fromJson(t,i){return new Gr().fromJson(t,i)}static fromJsonString(t,i){return new Gr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Gr,t,i)}};h(Gr,"runtime",p),h(Gr,"typeName","yorkie.v1.MetricPoint"),h(Gr,"fields",p.util.newFieldList(()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"value",kind:"scalar",T:5}]));let r0=Gr;const $r=class $r extends j{constructor(t){super();h(this,"name");h(this,"authWebhookUrl");h(this,"authWebhookMethods");h(this,"authWebhookMaxRetries");h(this,"authWebhookMinWaitInterval");h(this,"authWebhookMaxWaitInterval");h(this,"authWebhookRequestTimeout");h(this,"eventWebhookUrl");h(this,"eventWebhookEvents");h(this,"eventWebhookMaxRetries");h(this,"eventWebhookMinWaitInterval");h(this,"eventWebhookMaxWaitInterval");h(this,"eventWebhookRequestTimeout");h(this,"snapshotThreshold");h(this,"snapshotInterval");h(this,"clientDeactivateThreshold");h(this,"maxSubscribersPerDocument");h(this,"maxAttachmentsPerDocument");h(this,"maxSizePerDocument");h(this,"removeOnDetach");h(this,"allowedOrigins");p.util.initPartial(t,this)}static fromBinary(t,i){return new $r().fromBinary(t,i)}static fromJson(t,i){return new $r().fromJson(t,i)}static fromJsonString(t,i){return new $r().fromJsonString(t,i)}static equals(t,i){return p.util.equals($r,t,i)}};h($r,"runtime",p),h($r,"typeName","yorkie.v1.UpdatableProjectFields"),h($r,"fields",p.util.newFieldList(()=>[{no:1,name:"name",kind:"message",T:ie},{no:2,name:"auth_webhook_url",kind:"message",T:ie},{no:3,name:"auth_webhook_methods",kind:"message",T:md},{no:12,name:"auth_webhook_max_retries",kind:"message",T:bn},{no:13,name:"auth_webhook_min_wait_interval",kind:"message",T:ie},{no:14,name:"auth_webhook_max_wait_interval",kind:"message",T:ie},{no:15,name:"auth_webhook_request_timeout",kind:"message",T:ie},{no:4,name:"event_webhook_url",kind:"message",T:ie},{no:5,name:"event_webhook_events",kind:"message",T:yd},{no:16,name:"event_webhook_max_retries",kind:"message",T:bn},{no:17,name:"event_webhook_min_wait_interval",kind:"message",T:ie},{no:18,name:"event_webhook_max_wait_interval",kind:"message",T:ie},{no:19,name:"event_webhook_request_timeout",kind:"message",T:ie},{no:20,name:"snapshot_threshold",kind:"message",T:Sn},{no:21,name:"snapshot_interval",kind:"message",T:Sn},{no:6,name:"client_deactivate_threshold",kind:"message",T:ie},{no:7,name:"max_subscribers_per_document",kind:"message",T:Xe},{no:8,name:"max_attachments_per_document",kind:"message",T:Xe},{no:10,name:"max_size_per_document",kind:"message",T:Xe},{no:11,name:"remove_on_detach",kind:"message",T:In},{no:9,name:"allowed_origins",kind:"message",T:pd}]));let i0=$r;const Xr=class Xr extends j{constructor(t){super();h(this,"methods",[]);p.util.initPartial(t,this)}static fromBinary(t,i){return new Xr().fromBinary(t,i)}static fromJson(t,i){return new Xr().fromJson(t,i)}static fromJsonString(t,i){return new Xr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Xr,t,i)}};h(Xr,"runtime",p),h(Xr,"typeName","yorkie.v1.UpdatableProjectFields.AuthWebhookMethods"),h(Xr,"fields",p.util.newFieldList(()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}]));let md=Xr;const Zr=class Zr extends j{constructor(t){super();h(this,"events",[]);p.util.initPartial(t,this)}static fromBinary(t,i){return new Zr().fromBinary(t,i)}static fromJson(t,i){return new Zr().fromJson(t,i)}static fromJsonString(t,i){return new Zr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Zr,t,i)}};h(Zr,"runtime",p),h(Zr,"typeName","yorkie.v1.UpdatableProjectFields.EventWebhookEvents"),h(Zr,"fields",p.util.newFieldList(()=>[{no:1,name:"events",kind:"scalar",T:9,repeated:!0}]));let yd=Zr;const Fr=class Fr extends j{constructor(t){super();h(this,"origins",[]);p.util.initPartial(t,this)}static fromBinary(t,i){return new Fr().fromBinary(t,i)}static fromJson(t,i){return new Fr().fromJson(t,i)}static fromJsonString(t,i){return new Fr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Fr,t,i)}};h(Fr,"runtime",p),h(Fr,"typeName","yorkie.v1.UpdatableProjectFields.AllowedOrigins"),h(Fr,"fields",p.util.newFieldList(()=>[{no:1,name:"origins",kind:"scalar",T:9,repeated:!0}]));let pd=Fr;const Qr=class Qr extends j{constructor(t){super();h(this,"id","");h(this,"key","");h(this,"root","");h(this,"attachedClients",0);h(this,"documentSize");h(this,"schemaKey","");h(this,"presences",{});h(this,"createdAt");h(this,"accessedAt");h(this,"updatedAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new Qr().fromBinary(t,i)}static fromJson(t,i){return new Qr().fromJson(t,i)}static fromJsonString(t,i){return new Qr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Qr,t,i)}};h(Qr,"runtime",p),h(Qr,"typeName","yorkie.v1.DocumentSummary"),h(Qr,"fields",p.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"root",kind:"scalar",T:9},{no:7,name:"attached_clients",kind:"scalar",T:5},{no:8,name:"document_size",kind:"message",T:Td},{no:9,name:"schema_key",kind:"scalar",T:9},{no:10,name:"presences",kind:"map",K:9,V:{kind:"message",T:Bc}},{no:4,name:"created_at",kind:"message",T:pe},{no:5,name:"accessed_at",kind:"message",T:pe},{no:6,name:"updated_at",kind:"message",T:pe}]));let a0=Qr;const _r=class _r extends j{constructor(t){super();h(this,"type",0);h(this,"presence");p.util.initPartial(t,this)}static fromBinary(t,i){return new _r().fromBinary(t,i)}static fromJson(t,i){return new _r().fromJson(t,i)}static fromJsonString(t,i){return new _r().fromJsonString(t,i)}static equals(t,i){return p.util.equals(_r,t,i)}};h(_r,"runtime",p),h(_r,"typeName","yorkie.v1.PresenceChange"),h(_r,"fields",p.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:p.getEnumType(Fa)},{no:2,name:"presence",kind:"message",T:Bc}]));let vl=_r;var Fa=(s=>(s[s.UNSPECIFIED=0]="UNSPECIFIED",s[s.PUT=1]="PUT",s[s.DELETE=2]="DELETE",s[s.CLEAR=3]="CLEAR",s))(Fa||{});p.util.setEnumType(Fa,"yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT"},{no:2,name:"CHANGE_TYPE_DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR"}]);var yn;let Bc=(yn=class extends j{constructor(t){super();h(this,"data",{});p.util.initPartial(t,this)}static fromBinary(t,i){return new yn().fromBinary(t,i)}static fromJson(t,i){return new yn().fromJson(t,i)}static fromJsonString(t,i){return new yn().fromJsonString(t,i)}static equals(t,i){return p.util.equals(yn,t,i)}},h(yn,"runtime",p),h(yn,"typeName","yorkie.v1.Presence"),h(yn,"fields",p.util.newFieldList(()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}])),yn);var pn;let W0=(pn=class extends j{constructor(t){super();h(this,"serverSeq",Tt.zero);h(this,"clientSeq",0);p.util.initPartial(t,this)}static fromBinary(t,i){return new pn().fromBinary(t,i)}static fromJson(t,i){return new pn().fromJson(t,i)}static fromJsonString(t,i){return new pn().fromJsonString(t,i)}static equals(t,i){return p.util.equals(pn,t,i)}},h(pn,"runtime",p),h(pn,"typeName","yorkie.v1.Checkpoint"),h(pn,"fields",p.util.newFieldList(()=>[{no:1,name:"server_seq",kind:"scalar",T:3},{no:2,name:"client_seq",kind:"scalar",T:13}])),pn);const Wr=class Wr extends j{constructor(t){super();h(this,"createdAt");h(this,"offset",0);h(this,"relativeOffset",0);p.util.initPartial(t,this)}static fromBinary(t,i){return new Wr().fromBinary(t,i)}static fromJson(t,i){return new Wr().fromJson(t,i)}static fromJsonString(t,i){return new Wr().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Wr,t,i)}};h(Wr,"runtime",p),h(Wr,"typeName","yorkie.v1.TextNodePos"),h(Wr,"fields",p.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:F},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]));let Qa=Wr;var vn;let F=(vn=class extends j{constructor(t){super();h(this,"lamport",Tt.zero);h(this,"delimiter",0);h(this,"actorId",new Uint8Array(0));p.util.initPartial(t,this)}static fromBinary(t,i){return new vn().fromBinary(t,i)}static fromJson(t,i){return new vn().fromJson(t,i)}static fromJsonString(t,i){return new vn().fromJsonString(t,i)}static equals(t,i){return p.util.equals(vn,t,i)}},h(vn,"runtime",p),h(vn,"typeName","yorkie.v1.TimeTicket"),h(vn,"fields",p.util.newFieldList(()=>[{no:1,name:"lamport",kind:"scalar",T:3},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}])),vn);const ti=class ti extends j{constructor(t){super();h(this,"topic","");h(this,"payload",new Uint8Array(0));p.util.initPartial(t,this)}static fromBinary(t,i){return new ti().fromBinary(t,i)}static fromJson(t,i){return new ti().fromJson(t,i)}static fromJsonString(t,i){return new ti().fromJsonString(t,i)}static equals(t,i){return p.util.equals(ti,t,i)}};h(ti,"runtime",p),h(ti,"typeName","yorkie.v1.DocEventBody"),h(ti,"fields",p.util.newFieldList(()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]));let vd=ti;const ei=class ei extends j{constructor(t){super();h(this,"type",0);h(this,"publisher","");h(this,"body");p.util.initPartial(t,this)}static fromBinary(t,i){return new ei().fromBinary(t,i)}static fromJson(t,i){return new ei().fromJson(t,i)}static fromJsonString(t,i){return new ei().fromJsonString(t,i)}static equals(t,i){return p.util.equals(ei,t,i)}};h(ei,"runtime",p),h(ei,"typeName","yorkie.v1.DocEvent"),h(ei,"fields",p.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:p.getEnumType(Xa)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:vd}]));let Sd=ei;const ni=class ni extends j{constructor(t){super();h(this,"type",0);h(this,"count",Tt.zero);h(this,"seq",Tt.zero);p.util.initPartial(t,this)}static fromBinary(t,i){return new ni().fromBinary(t,i)}static fromJson(t,i){return new ni().fromJson(t,i)}static fromJsonString(t,i){return new ni().fromJsonString(t,i)}static equals(t,i){return p.util.equals(ni,t,i)}};h(ni,"runtime",p),h(ni,"typeName","yorkie.v1.PresenceEvent"),h(ni,"fields",p.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:p.getEnumType(ig)},{no:2,name:"count",kind:"scalar",T:3},{no:3,name:"seq",kind:"scalar",T:3}]));let bd=ni;var ig=(s=>(s[s.UNSPECIFIED=0]="UNSPECIFIED",s[s.COUNT_CHANGED=1]="COUNT_CHANGED",s))(ig||{});p.util.setEnumType(ig,"yorkie.v1.PresenceEvent.Type",[{no:0,name:"TYPE_UNSPECIFIED"},{no:1,name:"TYPE_COUNT_CHANGED"}]);const ri=class ri extends j{constructor(t){super();h(this,"data",0);h(this,"meta",0);p.util.initPartial(t,this)}static fromBinary(t,i){return new ri().fromBinary(t,i)}static fromJson(t,i){return new ri().fromJson(t,i)}static fromJsonString(t,i){return new ri().fromJsonString(t,i)}static equals(t,i){return p.util.equals(ri,t,i)}};h(ri,"runtime",p),h(ri,"typeName","yorkie.v1.DataSize"),h(ri,"fields",p.util.newFieldList(()=>[{no:1,name:"data",kind:"scalar",T:5},{no:2,name:"meta",kind:"scalar",T:5}]));let Ac=ri;const ii=class ii extends j{constructor(t){super();h(this,"live");h(this,"gc");p.util.initPartial(t,this)}static fromBinary(t,i){return new ii().fromBinary(t,i)}static fromJson(t,i){return new ii().fromJson(t,i)}static fromJsonString(t,i){return new ii().fromJsonString(t,i)}static equals(t,i){return p.util.equals(ii,t,i)}};h(ii,"runtime",p),h(ii,"typeName","yorkie.v1.DocSize"),h(ii,"fields",p.util.newFieldList(()=>[{no:1,name:"live",kind:"message",T:Ac},{no:2,name:"gc",kind:"message",T:Ac}]));let Td=ii;const ai=class ai extends j{constructor(t){super();h(this,"id","");h(this,"name","");h(this,"version",0);h(this,"body","");h(this,"rules",[]);h(this,"createdAt");p.util.initPartial(t,this)}static fromBinary(t,i){return new ai().fromBinary(t,i)}static fromJson(t,i){return new ai().fromJson(t,i)}static fromJsonString(t,i){return new ai().fromJsonString(t,i)}static equals(t,i){return p.util.equals(ai,t,i)}};h(ai,"runtime",p),h(ai,"typeName","yorkie.v1.Schema"),h(ai,"fields",p.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"version",kind:"scalar",T:5},{no:4,name:"body",kind:"scalar",T:9},{no:5,name:"rules",kind:"message",T:Ec,repeated:!0},{no:6,name:"created_at",kind:"message",T:pe}]));let s0=ai;const si=class si extends j{constructor(t){super();h(this,"path","");h(this,"type","");p.util.initPartial(t,this)}static fromBinary(t,i){return new si().fromBinary(t,i)}static fromJson(t,i){return new si().fromJson(t,i)}static fromJsonString(t,i){return new si().fromJsonString(t,i)}static equals(t,i){return p.util.equals(si,t,i)}};h(si,"runtime",p),h(si,"typeName","yorkie.v1.Rule"),h(si,"fields",p.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9}]));let Ec=si;const oi=class oi extends j{constructor(t){super();h(this,"clientKey","");h(this,"metadata",{});p.util.initPartial(t,this)}static fromBinary(t,i){return new oi().fromBinary(t,i)}static fromJson(t,i){return new oi().fromJson(t,i)}static fromJsonString(t,i){return new oi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(oi,t,i)}};h(oi,"runtime",p),h(oi,"typeName","yorkie.v1.ActivateClientRequest"),h(oi,"fields",p.util.newFieldList(()=>[{no:1,name:"client_key",kind:"scalar",T:9},{no:2,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let wd=oi;const li=class li extends j{constructor(t){super();h(this,"clientId","");p.util.initPartial(t,this)}static fromBinary(t,i){return new li().fromBinary(t,i)}static fromJson(t,i){return new li().fromJson(t,i)}static fromJsonString(t,i){return new li().fromJsonString(t,i)}static equals(t,i){return p.util.equals(li,t,i)}};h(li,"runtime",p),h(li,"typeName","yorkie.v1.ActivateClientResponse"),h(li,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let Ad=li;const ui=class ui extends j{constructor(t){super();h(this,"clientId","");h(this,"synchronous",!1);p.util.initPartial(t,this)}static fromBinary(t,i){return new ui().fromBinary(t,i)}static fromJson(t,i){return new ui().fromJson(t,i)}static fromJsonString(t,i){return new ui().fromJsonString(t,i)}static equals(t,i){return p.util.equals(ui,t,i)}};h(ui,"runtime",p),h(ui,"typeName","yorkie.v1.DeactivateClientRequest"),h(ui,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"synchronous",kind:"scalar",T:8}]));let Ed=ui;const ci=class ci extends j{constructor(n){super(),p.util.initPartial(n,this)}static fromBinary(n,t){return new ci().fromBinary(n,t)}static fromJson(n,t){return new ci().fromJson(n,t)}static fromJsonString(n,t){return new ci().fromJsonString(n,t)}static equals(n,t){return p.util.equals(ci,n,t)}};h(ci,"runtime",p),h(ci,"typeName","yorkie.v1.DeactivateClientResponse"),h(ci,"fields",p.util.newFieldList(()=>[]));let xd=ci;const fi=class fi extends j{constructor(t){super();h(this,"clientId","");h(this,"changePack");h(this,"schemaKey","");p.util.initPartial(t,this)}static fromBinary(t,i){return new fi().fromBinary(t,i)}static fromJson(t,i){return new fi().fromJson(t,i)}static fromJsonString(t,i){return new fi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(fi,t,i)}};h(fi,"runtime",p),h(fi,"typeName","yorkie.v1.AttachDocumentRequest"),h(fi,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:ji},{no:3,name:"schema_key",kind:"scalar",T:9}]));let Nd=fi;const hi=class hi extends j{constructor(t){super();h(this,"documentId","");h(this,"changePack");h(this,"maxSizePerDocument",0);h(this,"schemaRules",[]);p.util.initPartial(t,this)}static fromBinary(t,i){return new hi().fromBinary(t,i)}static fromJson(t,i){return new hi().fromJson(t,i)}static fromJsonString(t,i){return new hi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(hi,t,i)}};h(hi,"runtime",p),h(hi,"typeName","yorkie.v1.AttachDocumentResponse"),h(hi,"fields",p.util.newFieldList(()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:ji},{no:3,name:"max_size_per_document",kind:"scalar",T:5},{no:4,name:"schema_rules",kind:"message",T:Ec,repeated:!0}]));let Dd=hi;const di=class di extends j{constructor(t){super();h(this,"clientId","");h(this,"documentId","");h(this,"changePack");h(this,"removeIfNotAttached",!1);p.util.initPartial(t,this)}static fromBinary(t,i){return new di().fromBinary(t,i)}static fromJson(t,i){return new di().fromJson(t,i)}static fromJsonString(t,i){return new di().fromJsonString(t,i)}static equals(t,i){return p.util.equals(di,t,i)}};h(di,"runtime",p),h(di,"typeName","yorkie.v1.DetachDocumentRequest"),h(di,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:ji},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]));let Od=di;const gi=class gi extends j{constructor(t){super();h(this,"changePack");p.util.initPartial(t,this)}static fromBinary(t,i){return new gi().fromBinary(t,i)}static fromJson(t,i){return new gi().fromJson(t,i)}static fromJsonString(t,i){return new gi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(gi,t,i)}};h(gi,"runtime",p),h(gi,"typeName","yorkie.v1.DetachDocumentResponse"),h(gi,"fields",p.util.newFieldList(()=>[{no:2,name:"change_pack",kind:"message",T:ji}]));let kd=gi;const mi=class mi extends j{constructor(t){super();h(this,"clientId","");h(this,"documentId","");p.util.initPartial(t,this)}static fromBinary(t,i){return new mi().fromBinary(t,i)}static fromJson(t,i){return new mi().fromJson(t,i)}static fromJsonString(t,i){return new mi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(mi,t,i)}};h(mi,"runtime",p),h(mi,"typeName","yorkie.v1.WatchDocumentRequest"),h(mi,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]));let Cd=mi;const yi=class yi extends j{constructor(t){super();h(this,"body",{case:void 0});p.util.initPartial(t,this)}static fromBinary(t,i){return new yi().fromBinary(t,i)}static fromJson(t,i){return new yi().fromJson(t,i)}static fromJsonString(t,i){return new yi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(yi,t,i)}};h(yi,"runtime",p),h(yi,"typeName","yorkie.v1.WatchDocumentResponse"),h(yi,"fields",p.util.newFieldList(()=>[{no:1,name:"initialization",kind:"message",T:Rd,oneof:"body"},{no:2,name:"event",kind:"message",T:Sd,oneof:"body"}]));let Id=yi;const pi=class pi extends j{constructor(t){super();h(this,"clientIds",[]);p.util.initPartial(t,this)}static fromBinary(t,i){return new pi().fromBinary(t,i)}static fromJson(t,i){return new pi().fromJson(t,i)}static fromJsonString(t,i){return new pi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(pi,t,i)}};h(pi,"runtime",p),h(pi,"typeName","yorkie.v1.WatchDocumentResponse.Initialization"),h(pi,"fields",p.util.newFieldList(()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}]));let Rd=pi;const vi=class vi extends j{constructor(t){super();h(this,"clientId","");h(this,"documentId","");h(this,"changePack");p.util.initPartial(t,this)}static fromBinary(t,i){return new vi().fromBinary(t,i)}static fromJson(t,i){return new vi().fromJson(t,i)}static fromJsonString(t,i){return new vi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(vi,t,i)}};h(vi,"runtime",p),h(vi,"typeName","yorkie.v1.RemoveDocumentRequest"),h(vi,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:ji}]));let Bd=vi;const Si=class Si extends j{constructor(t){super();h(this,"changePack");p.util.initPartial(t,this)}static fromBinary(t,i){return new Si().fromBinary(t,i)}static fromJson(t,i){return new Si().fromJson(t,i)}static fromJsonString(t,i){return new Si().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Si,t,i)}};h(Si,"runtime",p),h(Si,"typeName","yorkie.v1.RemoveDocumentResponse"),h(Si,"fields",p.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:ji}]));let zd=Si;const bi=class bi extends j{constructor(t){super();h(this,"clientId","");h(this,"documentId","");h(this,"changePack");h(this,"pushOnly",!1);p.util.initPartial(t,this)}static fromBinary(t,i){return new bi().fromBinary(t,i)}static fromJson(t,i){return new bi().fromJson(t,i)}static fromJsonString(t,i){return new bi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(bi,t,i)}};h(bi,"runtime",p),h(bi,"typeName","yorkie.v1.PushPullChangesRequest"),h(bi,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:ji},{no:4,name:"push_only",kind:"scalar",T:8}]));let Md=bi;const Ti=class Ti extends j{constructor(t){super();h(this,"changePack");p.util.initPartial(t,this)}static fromBinary(t,i){return new Ti().fromBinary(t,i)}static fromJson(t,i){return new Ti().fromJson(t,i)}static fromJsonString(t,i){return new Ti().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Ti,t,i)}};h(Ti,"runtime",p),h(Ti,"typeName","yorkie.v1.PushPullChangesResponse"),h(Ti,"fields",p.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:ji}]));let Ud=Ti;const wi=class wi extends j{constructor(t){super();h(this,"clientId","");h(this,"documentId","");h(this,"topic","");h(this,"payload",new Uint8Array(0));p.util.initPartial(t,this)}static fromBinary(t,i){return new wi().fromBinary(t,i)}static fromJson(t,i){return new wi().fromJson(t,i)}static fromJsonString(t,i){return new wi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(wi,t,i)}};h(wi,"runtime",p),h(wi,"typeName","yorkie.v1.BroadcastRequest"),h(wi,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]));let Ld=wi;const Ai=class Ai extends j{constructor(n){super(),p.util.initPartial(n,this)}static fromBinary(n,t){return new Ai().fromBinary(n,t)}static fromJson(n,t){return new Ai().fromJson(n,t)}static fromJsonString(n,t){return new Ai().fromJsonString(n,t)}static equals(n,t){return p.util.equals(Ai,n,t)}};h(Ai,"runtime",p),h(Ai,"typeName","yorkie.v1.BroadcastResponse"),h(Ai,"fields",p.util.newFieldList(()=>[]));let Jd=Ai;const Ei=class Ei extends j{constructor(t){super();h(this,"clientId","");h(this,"presenceKey","");p.util.initPartial(t,this)}static fromBinary(t,i){return new Ei().fromBinary(t,i)}static fromJson(t,i){return new Ei().fromJson(t,i)}static fromJsonString(t,i){return new Ei().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Ei,t,i)}};h(Ei,"runtime",p),h(Ei,"typeName","yorkie.v1.AttachPresenceRequest"),h(Ei,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"presence_key",kind:"scalar",T:9}]));let qd=Ei;const xi=class xi extends j{constructor(t){super();h(this,"presenceId","");h(this,"count",Tt.zero);p.util.initPartial(t,this)}static fromBinary(t,i){return new xi().fromBinary(t,i)}static fromJson(t,i){return new xi().fromJson(t,i)}static fromJsonString(t,i){return new xi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(xi,t,i)}};h(xi,"runtime",p),h(xi,"typeName","yorkie.v1.AttachPresenceResponse"),h(xi,"fields",p.util.newFieldList(()=>[{no:1,name:"presence_id",kind:"scalar",T:9},{no:2,name:"count",kind:"scalar",T:3}]));let Pd=xi;const Ni=class Ni extends j{constructor(t){super();h(this,"clientId","");h(this,"presenceId","");h(this,"presenceKey","");p.util.initPartial(t,this)}static fromBinary(t,i){return new Ni().fromBinary(t,i)}static fromJson(t,i){return new Ni().fromJson(t,i)}static fromJsonString(t,i){return new Ni().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Ni,t,i)}};h(Ni,"runtime",p),h(Ni,"typeName","yorkie.v1.DetachPresenceRequest"),h(Ni,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"presence_id",kind:"scalar",T:9},{no:3,name:"presence_key",kind:"scalar",T:9}]));let Vd=Ni;const Di=class Di extends j{constructor(t){super();h(this,"count",Tt.zero);p.util.initPartial(t,this)}static fromBinary(t,i){return new Di().fromBinary(t,i)}static fromJson(t,i){return new Di().fromJson(t,i)}static fromJsonString(t,i){return new Di().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Di,t,i)}};h(Di,"runtime",p),h(Di,"typeName","yorkie.v1.DetachPresenceResponse"),h(Di,"fields",p.util.newFieldList(()=>[{no:1,name:"count",kind:"scalar",T:3}]));let Hd=Di;const Oi=class Oi extends j{constructor(t){super();h(this,"clientId","");h(this,"presenceId","");h(this,"presenceKey","");p.util.initPartial(t,this)}static fromBinary(t,i){return new Oi().fromBinary(t,i)}static fromJson(t,i){return new Oi().fromJson(t,i)}static fromJsonString(t,i){return new Oi().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Oi,t,i)}};h(Oi,"runtime",p),h(Oi,"typeName","yorkie.v1.RefreshPresenceRequest"),h(Oi,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"presence_id",kind:"scalar",T:9},{no:3,name:"presence_key",kind:"scalar",T:9}]));let jd=Oi;const ki=class ki extends j{constructor(t){super();h(this,"count",Tt.zero);p.util.initPartial(t,this)}static fromBinary(t,i){return new ki().fromBinary(t,i)}static fromJson(t,i){return new ki().fromJson(t,i)}static fromJsonString(t,i){return new ki().fromJsonString(t,i)}static equals(t,i){return p.util.equals(ki,t,i)}};h(ki,"runtime",p),h(ki,"typeName","yorkie.v1.RefreshPresenceResponse"),h(ki,"fields",p.util.newFieldList(()=>[{no:1,name:"count",kind:"scalar",T:3}]));let Kd=ki;const Ci=class Ci extends j{constructor(t){super();h(this,"clientId","");h(this,"presenceKey","");p.util.initPartial(t,this)}static fromBinary(t,i){return new Ci().fromBinary(t,i)}static fromJson(t,i){return new Ci().fromJson(t,i)}static fromJsonString(t,i){return new Ci().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Ci,t,i)}};h(Ci,"runtime",p),h(Ci,"typeName","yorkie.v1.WatchPresenceRequest"),h(Ci,"fields",p.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"presence_key",kind:"scalar",T:9}]));let Yd=Ci;const Ii=class Ii extends j{constructor(t){super();h(this,"body",{case:void 0});p.util.initPartial(t,this)}static fromBinary(t,i){return new Ii().fromBinary(t,i)}static fromJson(t,i){return new Ii().fromJson(t,i)}static fromJsonString(t,i){return new Ii().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Ii,t,i)}};h(Ii,"runtime",p),h(Ii,"typeName","yorkie.v1.WatchPresenceResponse"),h(Ii,"fields",p.util.newFieldList(()=>[{no:1,name:"initialized",kind:"message",T:$d,oneof:"body"},{no:2,name:"event",kind:"message",T:bd,oneof:"body"}]));let Gd=Ii;const Ri=class Ri extends j{constructor(t){super();h(this,"count",Tt.zero);h(this,"seq",Tt.zero);p.util.initPartial(t,this)}static fromBinary(t,i){return new Ri().fromBinary(t,i)}static fromJson(t,i){return new Ri().fromJson(t,i)}static fromJsonString(t,i){return new Ri().fromJsonString(t,i)}static equals(t,i){return p.util.equals(Ri,t,i)}};h(Ri,"runtime",p),h(Ri,"typeName","yorkie.v1.WatchPresenceInitialized"),h(Ri,"fields",p.util.newFieldList(()=>[{no:1,name:"count",kind:"scalar",T:3},{no:2,name:"seq",kind:"scalar",T:3}]));let $d=Ri;const P1={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:wd,O:Ad,kind:le.Unary},deactivateClient:{name:"DeactivateClient",I:Ed,O:xd,kind:le.Unary},attachDocument:{name:"AttachDocument",I:Nd,O:Dd,kind:le.Unary},detachDocument:{name:"DetachDocument",I:Od,O:kd,kind:le.Unary},removeDocument:{name:"RemoveDocument",I:Bd,O:zd,kind:le.Unary},pushPullChanges:{name:"PushPullChanges",I:Md,O:Ud,kind:le.Unary},watchDocument:{name:"WatchDocument",I:Cd,O:Id,kind:le.ServerStreaming},broadcast:{name:"Broadcast",I:Ld,O:Jd,kind:le.Unary},attachPresence:{name:"AttachPresence",I:qd,O:Pd,kind:le.Unary},detachPresence:{name:"DetachPresence",I:Vd,O:Hd,kind:le.Unary},refreshPresence:{name:"RefreshPresence",I:jd,O:Kd,kind:le.Unary},watchPresence:{name:"WatchPresence",I:Yd,O:Gd,kind:le.ServerStreaming}}},V1=p.makeMessageType("google.rpc.ErrorInfo",()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]);p.makeMessageType("google.rpc.RetryInfo",()=>[{no:1,name:"retry_delay",kind:"message",T:Ui}]);p.makeMessageType("google.rpc.DebugInfo",()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]);p.makeMessageType("google.rpc.QuotaFailure",()=>[{no:1,name:"violations",kind:"message",T:H1,repeated:!0}]);const H1=p.makeMessageType("google.rpc.QuotaFailure.Violation",()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"api_service",kind:"scalar",T:9},{no:4,name:"quota_metric",kind:"scalar",T:9},{no:5,name:"quota_id",kind:"scalar",T:9},{no:6,name:"quota_dimensions",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:7,name:"quota_value",kind:"scalar",T:3},{no:8,name:"future_quota_value",kind:"scalar",T:3,opt:!0}],{localName:"QuotaFailure_Violation"});p.makeMessageType("google.rpc.PreconditionFailure",()=>[{no:1,name:"violations",kind:"message",T:j1,repeated:!0}]);const j1=p.makeMessageType("google.rpc.PreconditionFailure.Violation",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}],{localName:"PreconditionFailure_Violation"});p.makeMessageType("google.rpc.BadRequest",()=>[{no:1,name:"field_violations",kind:"message",T:K1,repeated:!0}]);const K1=p.makeMessageType("google.rpc.BadRequest.FieldViolation",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"reason",kind:"scalar",T:9},{no:4,name:"localized_message",kind:"message",T:G1}],{localName:"BadRequest_FieldViolation"});p.makeMessageType("google.rpc.RequestInfo",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]);p.makeMessageType("google.rpc.ResourceInfo",()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]);p.makeMessageType("google.rpc.Help",()=>[{no:1,name:"links",kind:"message",T:Y1,repeated:!0}]);const Y1=p.makeMessageType("google.rpc.Help.Link",()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}],{localName:"Help_Link"}),G1=p.makeMessageType("google.rpc.LocalizedMessage",()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]);var x=(s=>(s.Ok="ok",s.ErrClientNotActivated="ErrClientNotActivated",s.ErrClientNotFound="ErrClientNotFound",s.ErrUnimplemented="ErrUnimplemented",s.ErrInvalidType="ErrInvalidType",s.ErrDummy="ErrDummy",s.ErrDocumentNotAttached="ErrDocumentNotAttached",s.ErrDocumentNotDetached="ErrDocumentNotDetached",s.ErrDocumentRemoved="ErrDocumentRemoved",s.ErrDocumentSizeExceedsLimit="ErrDocumentSizeExceedsLimit",s.ErrDocumentSchemaValidationFailed="ErrDocumentSchemaValidationFailed",s.ErrInvalidObjectKey="ErrInvalidObjectKey",s.ErrInvalidArgument="ErrInvalidArgument",s.ErrNotInitialized="ErrNotInitialized",s.ErrNotReady="ErrNotReady",s.ErrRefused="ErrRefused",s.ErrContextNotProvided="ErrContextNotProvided",s.ErrPermissionDenied="ErrPermissionDenied",s.ErrUnauthenticated="ErrUnauthenticated",s.ErrTooManySubscribers="ErrTooManySubscribers",s.ErrTooManyAttachments="ErrTooManyAttachments",s))(x||{});class D extends Error{constructor(t,i){super(i);h(this,"name","YorkieError");h(this,"stack");this.code=t,this.message=i,this.toString=()=>`[code=${this.code}]: ${this.message}`}}var tr=(s=>(s.Put="put",s.Clear="clear",s))(tr||{});const ag="000000000000000000000000",Qn=24;class An{constructor(n,t,i){h(this,"lamport");h(this,"delimiter");h(this,"actorID");this.lamport=n,this.delimiter=t,this.actorID=i}static of(n,t,i){return new An(n,t,i)}static fromStruct(n){return An.of(BigInt(n.lamport),n.delimiter,n.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(n){return new An(this.lamport,this.delimiter,n)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(n){return this.compare(n)>0}equals(n){return this.compare(n)===0}compare(n){if(this.lamport>n.lamport)return 1;if(n.lamport>this.lamport)return-1;const t=this.actorID.localeCompare(n.actorID);return t!==0?t:this.delimiter>n.delimiter?1:n.delimiter>this.delimiter?-1:0}}const Xd=0n,tS=0,Zd=9223372036854775807n,Qs=new An(Xd,tS,ag);function Fn(s){return s.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(n){switch(n){case'"':case"\\":return"\\"+n;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return n}})}class El{constructor(n){h(this,"createdAt");h(this,"movedAt");h(this,"removedAt");this.createdAt=n}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setCreatedAt(n){this.createdAt=n}setMovedAt(n){return!this.movedAt||n&&n.after(this.movedAt)?(this.movedAt=n,!0):!1}setRemovedAt(n){this.removedAt=n}remove(n){return n&&n.after(this.createdAt)&&(!this.removedAt||n.after(this.removedAt))?(this.removedAt=n,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let n=0;return this.getCreatedAt()&&(n+=Qn),this.getMovedAt()&&(n+=Qn),this.getRemovedAt()&&(n+=Qn),n}}class Sa extends El{constructor(n){super(n)}}class xc{constructor(n,t){h(this,"strKey");h(this,"value");this.strKey=n,this.value=t}static of(n,t){return new xc(n,t)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(n){return this.value.remove(n)}}class _s{constructor(){h(this,"nodeMapByKey");h(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new _s}set(n,t,i){let l;const c=this.nodeMapByKey.get(n);c&&!c.isRemoved()&&c.remove(i)&&(l=c.getValue());const d=xc.of(n,t);return this.nodeMapByCreatedAt.set(t.getCreatedAt().toIDString(),d),(!c||i.after(c.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(n,d),t.setMovedAt(i)),l}delete(n,t){if(!this.nodeMapByCreatedAt.has(n.toIDString()))throw new D(x.ErrInvalidArgument,`fail to find ${n.toIDString()}`);const i=this.nodeMapByCreatedAt.get(n.toIDString());return i.remove(t),i.getValue()}subPathOf(n){const t=this.nodeMapByCreatedAt.get(n.toIDString());if(t)return t.getStrKey()}purge(n){const t=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!t)throw new D(x.ErrInvalidArgument,`fail to find ${n.getCreatedAt().toIDString()}`);const i=this.nodeMapByKey.get(t.getStrKey());t===i&&this.nodeMapByKey.delete(i.getStrKey()),this.nodeMapByCreatedAt.delete(t.getValue().getCreatedAt().toIDString())}deleteByKey(n,t){const i=this.nodeMapByKey.get(n);if(i&&i.remove(t))return i.getValue()}has(n){const t=this.nodeMapByKey.get(n);return t?!t.isRemoved():!1}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}get(n){const t=this.nodeMapByKey.get(n);if(!(!t||t.isRemoved()))return t}deepcopy(){const n=_s.create();for(const[,t]of this.nodeMapByCreatedAt)n.nodeMapByCreatedAt.set(t.getValue().getCreatedAt().toIDString(),xc.of(t.getStrKey(),t.getValue().deepcopy()));for(const[t,i]of this.nodeMapByKey)n.nodeMapByKey.set(t,n.nodeMapByCreatedAt.get(i.getValue().getCreatedAt().toIDString()));return n}*[Symbol.iterator](){for(const[,n]of this.nodeMapByCreatedAt)yield n}}class Ee extends Sa{constructor(t,i){super(t);h(this,"memberNodes");this.memberNodes=i}static create(t,i){if(!i)return new Ee(t,_s.create());const l=_s.create();for(const[c,d]of Object.entries(i))l.set(c,d.deepcopy(),d.getCreatedAt());return new Ee(t,l)}subPathOf(t){return this.memberNodes.subPathOf(t)}purge(t){this.memberNodes.purge(t)}set(t,i,l){return this.memberNodes.set(t,i,l)}delete(t,i){return this.memberNodes.delete(t,i)}deleteByKey(t,i){return this.memberNodes.deleteByKey(t,i)}get(t){const i=this.memberNodes.get(t);return i==null?void 0:i.getValue()}getByID(t){const i=this.memberNodes.getByID(t);return i==null?void 0:i.getValue()}has(t){return this.memberNodes.has(t)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const t=[];for(const[i,l]of this)t.push(`"${Fn(i)}":${l.toJSON()}`);return`{${t.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const t={};for(const[i,l]of this){const{createdAt:c,value:d,type:g}=l.toJSForTest();t[i]={key:i,createdAt:c,value:d,type:g}}return{createdAt:this.getCreatedAt().toTestString(),value:t,type:"YORKIE_OBJECT"}}getKeys(){const t=Array();for(const[i]of this)t.push(i);return t}toSortedJSON(){var l;const t=new Set;for(const[c]of this)t.add(c);const i=[];for(const c of Array.from(t).sort()){const d=(l=this.memberNodes.get(c))==null?void 0:l.getValue();i.push(`"${Fn(c)}":${d.toSortedJSON()}`)}return`{${i.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const t=Ee.create(this.getCreatedAt());return t.memberNodes=this.memberNodes.deepcopy(),t.setRemovedAt(this.getRemovedAt()),t.setMovedAt(this.getMovedAt()),t}getDescendants(t){for(const i of this.memberNodes){const l=i.getValue();if(t(l,this))return;l instanceof Sa&&l.getDescendants(t)}}*[Symbol.iterator](){for(const t of this.memberNodes)t.isRemoved()||(yield[t.getStrKey(),t.getValue()])}}var Kt=(s=>(s.Local="local",s.Remote="remote",s.UndoRedo="undoredo",s))(Kt||{});class Un{constructor(n,t){h(this,"parentCreatedAt");h(this,"executedAt");this.parentCreatedAt=n,this.executedAt=t}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new D(x.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(n){this.executedAt&&(this.executedAt=this.executedAt.setActor(n))}setExecutedAt(n){this.executedAt=n}}class eS{constructor(n){h(this,"value");h(this,"left");h(this,"right");h(this,"parent");h(this,"weight");this.value=n,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(n){this.left=n}setRight(n){this.right=n}setParent(n){this.parent=n}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(n){this.weight+=n}initWeight(){this.weight=this.getLength()}}class Sl{constructor(n){h(this,"root");this.root=n}get length(){return this.root?this.root.getWeight():0}find(n){if(!this.root||n<0)return[void 0,0];let t=this.root;for(;;)if(t.hasLeft()&&n<=t.getLeftWeight())t=t.getLeft();else if(t.hasRight()&&t.getLeftWeight()+t.getLength()<n)n-=t.getLeftWeight()+t.getLength(),t=t.getRight();else{n-=t.getLeftWeight();break}if(n>t.getLength())throw new D(x.ErrInvalidArgument,`out of index range: pos: ${n} > node.length: ${t.getLength()}`);return this.splayNode(t),[t,n]}indexOf(n){return!n||n!==this.root&&!n.hasLinks()?-1:(this.splayNode(n),this.root.getLeftWeight())}getRoot(){return this.root}insert(n){return this.insertAfter(this.root,n)}insertAfter(n,t){return n?(this.splayNode(n),this.root=t,t.setRight(n.getRight()),n.hasRight()&&n.getRight().setParent(t),t.setLeft(n),n.setParent(t),n.setRight(),this.updateWeight(n),this.updateWeight(t),t):(this.root=t,t)}updateWeight(n){n.initWeight(),n.hasLeft()&&n.increaseWeight(n.getLeftWeight()),n.hasRight()&&n.increaseWeight(n.getRightWeight())}updateTreeWeight(n){for(;n;)this.updateWeight(n),n=n.getParent()}splayNode(n){if(n)for(;;)if(this.isLeftChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n),this.rotateLeft(n);else if(this.isLeftChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n.getParent()),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n.getParent()),this.rotateLeft(n);else{this.isLeftChild(n)?this.rotateRight(n):this.isRightChild(n)&&this.rotateLeft(n),this.updateWeight(n);return}}delete(n){this.splayNode(n);const t=new Sl(n.getLeft());t.root&&t.root.setParent();const i=new Sl(n.getRight());if(i.root&&i.root.setParent(),t.root){const l=t.getRightmost();t.splayNode(l),t.root.setRight(i.root),i.root&&i.root.setParent(t.root),this.root=t.root}else this.root=i.root;n.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(n,t){if(!t){this.splayNode(n),this.cutOffRight(n);return}this.splayNode(n),this.splayNode(t),t.getLeft()!=n&&this.rotateRight(n),this.cutOffRight(n)}cutOffRight(n){const t=[];this.traversePostorder(n.getRight(),t);for(const i of t)i.initWeight();this.updateTreeWeight(n)}toTestString(){const n=[];return this.traverseInorder(this.root,n),n.map(t=>`[${t.getWeight()},${t.getLength()}]${t.getValue()||""}`).join("")}checkWeight(){const n=[];this.traverseInorder(this.root,n);for(const t of n)if(t.getWeight()!=t.getLength()+t.getLeftWeight()+t.getRightWeight())return!1;return!0}getRightmost(){let n=this.root;for(;n.hasRight();)n=n.getRight();return n}traverseInorder(n,t){n&&(this.traverseInorder(n.getLeft(),t),t.push(n),this.traverseInorder(n.getRight(),t))}traversePostorder(n,t){n&&(this.traversePostorder(n.getLeft(),t),this.traversePostorder(n.getRight(),t),t.push(n))}rotateLeft(n){const t=n.getParent();t.hasParent()?t===t.getParent().getLeft()?t.getParent().setLeft(n):t.getParent().setRight(n):this.root=n,n.setParent(t.getParent()),t.setRight(n.getLeft()),t.hasRight()&&t.getRight().setParent(t),n.setLeft(t),n.getLeft().setParent(n),this.updateWeight(t),this.updateWeight(n)}rotateRight(n){const t=n.getParent();t.hasParent()?t===t.getParent().getLeft()?t.getParent().setLeft(n):t.getParent().setRight(n):this.root=n,n.setParent(t.getParent()),t.setLeft(n.getRight()),t.hasLeft()&&t.getLeft().setParent(t),n.setRight(t),n.getRight().setParent(n),this.updateWeight(t),this.updateWeight(n)}isLeftChild(n){return n&&n.hasParent()?n.getParent().getLeft()===n:!1}isRightChild(n){return n&&n.hasParent()?n.getParent().getRight()===n:!1}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var Tn=null;try{Tn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function bt(s,n,t){this.low=s|0,this.high=n|0,this.unsigned=!!t}bt.prototype.__isLong__;Object.defineProperty(bt.prototype,"__isLong__",{value:!0});function Ne(s){return(s&&s.__isLong__)===!0}function o0(s){var n=Math.clz32(s&-s);return s?31-n:n}bt.isLong=Ne;var l0={},u0={};function Wa(s,n){var t,i,l;return n?(s>>>=0,(l=0<=s&&s<256)&&(i=u0[s],i)?i:(t=xt(s,0,!0),l&&(u0[s]=t),t)):(s|=0,(l=-128<=s&&s<128)&&(i=l0[s],i)?i:(t=xt(s,s<0?-1:0,!1),l&&(l0[s]=t),t))}bt.fromInt=Wa;function wn(s,n){if(isNaN(s))return n?Ji:Rn;if(n){if(s<0)return Ji;if(s>=nS)return aS}else{if(s<=-f0)return Me;if(s+1>=f0)return iS}return s<0?wn(-s,n).neg():xt(s%Ws|0,s/Ws|0,n)}bt.fromNumber=wn;function xt(s,n,t){return new bt(s,n,t)}bt.fromBits=xt;var Nc=Math.pow;function sg(s,n,t){if(s.length===0)throw Error("empty string");if(typeof n=="number"?(t=n,n=!1):n=!!n,s==="NaN"||s==="Infinity"||s==="+Infinity"||s==="-Infinity")return n?Ji:Rn;if(t=t||10,t<2||36<t)throw RangeError("radix");var i;if((i=s.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return sg(s.substring(1),n,t).neg();for(var l=wn(Nc(t,8)),c=Rn,d=0;d<s.length;d+=8){var g=Math.min(8,s.length-d),y=parseInt(s.substring(d,d+g),t);if(g<8){var v=wn(Nc(t,g));c=c.mul(v).add(wn(y))}else c=c.mul(l),c=c.add(wn(y))}return c.unsigned=n,c}bt.fromString=sg;function En(s,n){return typeof s=="number"?wn(s,n):typeof s=="string"?sg(s,n):xt(s.low,s.high,typeof n=="boolean"?n:s.unsigned)}bt.fromValue=En;var c0=65536,$1=1<<24,Ws=c0*c0,nS=Ws*Ws,f0=nS/2,h0=Wa($1),Rn=Wa(0);bt.ZERO=Rn;var Ji=Wa(0,!0);bt.UZERO=Ji;var Ks=Wa(1);bt.ONE=Ks;var rS=Wa(1,!0);bt.UONE=rS;var Fd=Wa(-1);bt.NEG_ONE=Fd;var iS=xt(-1,2147483647,!1);bt.MAX_VALUE=iS;var aS=xt(-1,-1,!0);bt.MAX_UNSIGNED_VALUE=aS;var Me=xt(0,-2147483648,!1);bt.MIN_VALUE=Me;var H=bt.prototype;H.toInt=function(){return this.unsigned?this.low>>>0:this.low};H.toNumber=function(){return this.unsigned?(this.high>>>0)*Ws+(this.low>>>0):this.high*Ws+(this.low>>>0)};H.toString=function(n){if(n=n||10,n<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Me)){var t=wn(n),i=this.div(t),l=i.mul(t).sub(this);return i.toString(n)+l.toInt().toString(n)}else return"-"+this.neg().toString(n);for(var c=wn(Nc(n,6),this.unsigned),d=this,g="";;){var y=d.div(c),v=d.sub(y.mul(c)).toInt()>>>0,b=v.toString(n);if(d=y,d.isZero())return b+g;for(;b.length<6;)b="0"+b;g=""+b+g}};H.getHighBits=function(){return this.high};H.getHighBitsUnsigned=function(){return this.high>>>0};H.getLowBits=function(){return this.low};H.getLowBitsUnsigned=function(){return this.low>>>0};H.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Me)?64:this.neg().getNumBitsAbs();for(var n=this.high!=0?this.high:this.low,t=31;t>0&&(n&1<<t)==0;t--);return this.high!=0?t+33:t+1};H.isSafeInteger=function(){var n=this.high>>21;return n?this.unsigned?!1:n===-1&&!(this.low===0&&this.high===-2097152):!0};H.isZero=function(){return this.high===0&&this.low===0};H.eqz=H.isZero;H.isNegative=function(){return!this.unsigned&&this.high<0};H.isPositive=function(){return this.unsigned||this.high>=0};H.isOdd=function(){return(this.low&1)===1};H.isEven=function(){return(this.low&1)===0};H.equals=function(n){return Ne(n)||(n=En(n)),this.unsigned!==n.unsigned&&this.high>>>31===1&&n.high>>>31===1?!1:this.high===n.high&&this.low===n.low};H.eq=H.equals;H.notEquals=function(n){return!this.eq(n)};H.neq=H.notEquals;H.ne=H.notEquals;H.lessThan=function(n){return this.comp(n)<0};H.lt=H.lessThan;H.lessThanOrEqual=function(n){return this.comp(n)<=0};H.lte=H.lessThanOrEqual;H.le=H.lessThanOrEqual;H.greaterThan=function(n){return this.comp(n)>0};H.gt=H.greaterThan;H.greaterThanOrEqual=function(n){return this.comp(n)>=0};H.gte=H.greaterThanOrEqual;H.ge=H.greaterThanOrEqual;H.compare=function(n){if(Ne(n)||(n=En(n)),this.eq(n))return 0;var t=this.isNegative(),i=n.isNegative();return t&&!i?-1:!t&&i?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1};H.comp=H.compare;H.negate=function(){return!this.unsigned&&this.eq(Me)?Me:this.not().add(Ks)};H.neg=H.negate;H.add=function(n){Ne(n)||(n=En(n));var t=this.high>>>16,i=this.high&65535,l=this.low>>>16,c=this.low&65535,d=n.high>>>16,g=n.high&65535,y=n.low>>>16,v=n.low&65535,b=0,E=0,C=0,O=0;return O+=c+v,C+=O>>>16,O&=65535,C+=l+y,E+=C>>>16,C&=65535,E+=i+g,b+=E>>>16,E&=65535,b+=t+d,b&=65535,xt(C<<16|O,b<<16|E,this.unsigned)};H.subtract=function(n){return Ne(n)||(n=En(n)),this.add(n.neg())};H.sub=H.subtract;H.multiply=function(n){if(this.isZero())return this;if(Ne(n)||(n=En(n)),Tn){var t=Tn.mul(this.low,this.high,n.low,n.high);return xt(t,Tn.get_high(),this.unsigned)}if(n.isZero())return this.unsigned?Ji:Rn;if(this.eq(Me))return n.isOdd()?Me:Rn;if(n.eq(Me))return this.isOdd()?Me:Rn;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(h0)&&n.lt(h0))return wn(this.toNumber()*n.toNumber(),this.unsigned);var i=this.high>>>16,l=this.high&65535,c=this.low>>>16,d=this.low&65535,g=n.high>>>16,y=n.high&65535,v=n.low>>>16,b=n.low&65535,E=0,C=0,O=0,U=0;return U+=d*b,O+=U>>>16,U&=65535,O+=c*b,C+=O>>>16,O&=65535,O+=d*v,C+=O>>>16,O&=65535,C+=l*b,E+=C>>>16,C&=65535,C+=c*v,E+=C>>>16,C&=65535,C+=d*y,E+=C>>>16,C&=65535,E+=i*b+l*v+c*y+d*g,E&=65535,xt(O<<16|U,E<<16|C,this.unsigned)};H.mul=H.multiply;H.divide=function(n){if(Ne(n)||(n=En(n)),n.isZero())throw Error("division by zero");if(Tn){if(!this.unsigned&&this.high===-2147483648&&n.low===-1&&n.high===-1)return this;var t=(this.unsigned?Tn.div_u:Tn.div_s)(this.low,this.high,n.low,n.high);return xt(t,Tn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Ji:Rn;var i,l,c;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return Ji;if(n.gt(this.shru(1)))return rS;c=Ji}else{if(this.eq(Me)){if(n.eq(Ks)||n.eq(Fd))return Me;if(n.eq(Me))return Ks;var d=this.shr(1);return i=d.div(n).shl(1),i.eq(Rn)?n.isNegative()?Ks:Fd:(l=this.sub(n.mul(i)),c=i.add(l.div(n)),c)}else if(n.eq(Me))return this.unsigned?Ji:Rn;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();c=Rn}for(l=this;l.gte(n);){i=Math.max(1,Math.floor(l.toNumber()/n.toNumber()));for(var g=Math.ceil(Math.log(i)/Math.LN2),y=g<=48?1:Nc(2,g-48),v=wn(i),b=v.mul(n);b.isNegative()||b.gt(l);)i-=y,v=wn(i,this.unsigned),b=v.mul(n);v.isZero()&&(v=Ks),c=c.add(v),l=l.sub(b)}return c};H.div=H.divide;H.modulo=function(n){if(Ne(n)||(n=En(n)),Tn){var t=(this.unsigned?Tn.rem_u:Tn.rem_s)(this.low,this.high,n.low,n.high);return xt(t,Tn.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))};H.mod=H.modulo;H.rem=H.modulo;H.not=function(){return xt(~this.low,~this.high,this.unsigned)};H.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};H.clz=H.countLeadingZeros;H.countTrailingZeros=function(){return this.low?o0(this.low):o0(this.high)+32};H.ctz=H.countTrailingZeros;H.and=function(n){return Ne(n)||(n=En(n)),xt(this.low&n.low,this.high&n.high,this.unsigned)};H.or=function(n){return Ne(n)||(n=En(n)),xt(this.low|n.low,this.high|n.high,this.unsigned)};H.xor=function(n){return Ne(n)||(n=En(n)),xt(this.low^n.low,this.high^n.high,this.unsigned)};H.shiftLeft=function(n){return Ne(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?xt(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):xt(0,this.low<<n-32,this.unsigned)};H.shl=H.shiftLeft;H.shiftRight=function(n){return Ne(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?xt(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):xt(this.high>>n-32,this.high>=0?0:-1,this.unsigned)};H.shr=H.shiftRight;H.shiftRightUnsigned=function(n){return Ne(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?xt(this.low>>>n|this.high<<32-n,this.high>>>n,this.unsigned):n===32?xt(this.high,0,this.unsigned):xt(this.high>>>n-32,0,this.unsigned)};H.shru=H.shiftRightUnsigned;H.shr_u=H.shiftRightUnsigned;H.rotateLeft=function(n){var t;return Ne(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?xt(this.high,this.low,this.unsigned):n<32?(t=32-n,xt(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned)):(n-=32,t=32-n,xt(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned))};H.rotl=H.rotateLeft;H.rotateRight=function(n){var t;return Ne(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?xt(this.high,this.low,this.unsigned):n<32?(t=32-n,xt(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned)):(n-=32,t=32-n,xt(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned))};H.rotr=H.rotateRight;H.toSigned=function(){return this.unsigned?xt(this.low,this.high,!1):this};H.toUnsigned=function(){return this.unsigned?this:xt(this.low,this.high,!0)};H.toBytes=function(n){return n?this.toBytesLE():this.toBytesBE()};H.toBytesLE=function(){var n=this.high,t=this.low;return[t&255,t>>>8&255,t>>>16&255,t>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]};H.toBytesBE=function(){var n=this.high,t=this.low;return[n>>>24,n>>>16&255,n>>>8&255,n&255,t>>>24,t>>>16&255,t>>>8&255,t&255]};bt.fromBytes=function(n,t,i){return i?bt.fromBytesLE(n,t):bt.fromBytesBE(n,t)};bt.fromBytesLE=function(n,t){return new bt(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,t)};bt.fromBytesBE=function(n,t){return new bt(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],t)};typeof BigInt=="function"&&(bt.fromBigInt=function(n,t){var i=Number(BigInt.asIntN(32,n)),l=Number(BigInt.asIntN(32,n>>BigInt(32)));return xt(i,l,t)},bt.fromValue=function(n,t){return typeof n=="bigint"?bt.fromBigInt(n,t):En(n,t)},H.toBigInt=function(){var n=BigInt(this.low>>>0),t=BigInt(this.unsigned?this.high>>>0:this.high);return t<<BigInt(32)|n});var qt=(s=>(s[s.Null=0]="Null",s[s.Boolean=1]="Boolean",s[s.Integer=2]="Integer",s[s.Long=3]="Long",s[s.Double=4]="Double",s[s.String=5]="String",s[s.Bytes=6]="Bytes",s[s.Date=7]="Date",s))(qt||{});class Gt extends El{constructor(t,i){super(i);h(this,"valueType");h(this,"value");this.valueType=Gt.getPrimitiveType(t),this.value=t===void 0?null:t}static of(t,i){return new Gt(t,i)}static valueFromBytes(t,i){switch(t){case 0:return null;case 1:return!!i[0];case 2:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 4:{const l=new DataView(i.buffer);return i.forEach(function(c,d){l.setUint8(d,c)}),l.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(i);case 3:return bt.fromBytesLE(Array.from(i));case 6:return i;case 7:return new Date(bt.fromBytesLE(Array.from(i),!0).toNumber());default:throw new D(x.ErrUnimplemented,`unimplemented type: ${t}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new D(x.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${Fn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const t=Gt.of(this.value,this.getCreatedAt());return t.setMovedAt(this.getMovedAt()),t.setRemovedAt(this.getRemovedAt()),t}getType(){return this.valueType}static getPrimitiveType(t){switch(typeof t){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(t)?2:4;case"string":return 5;case"object":if(t===null)return 0;if(t instanceof bt)return 3;if(t instanceof Uint8Array)return 6;if(t instanceof Date)return 7}}static isSupport(t){return Gt.getPrimitiveType(t)!==void 0}static isInteger(t){return t%1===0}isNumericType(){const t=this.valueType;return t===2||t===3||t===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const t=this.value;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}case 4:{const t=this.value,i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,t,!0),i}case 5:return new TextEncoder().encode(this.value);case 3:{const i=this.value.toBytesLE();return Uint8Array.from(i)}case 6:return this.value;case 7:{const t=this.value,i=bt.fromNumber(t.getTime(),!0).toBytesLE();return Uint8Array.from(i)}default:throw new D(x.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Dc extends eS{constructor(t){super(t);h(this,"prev");h(this,"next");h(this,"movedFrom");this.value=t}static createAfter(t,i){const l=new Dc(i),c=t.next;return t.next=l,l.prev=t,l.next=c,c&&(c.prev=l),l}remove(t){return this.value.remove(t)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getMovedFrom(){return this.movedFrom}setMovedFrom(t){this.movedFrom=t}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class bl{constructor(){h(this,"dummyHead");h(this,"last");h(this,"nodeMapByIndex");h(this,"nodeMapByCreatedAt");const n=Gt.of(0,Qs);n.setRemovedAt(Qs),this.dummyHead=new Dc(n),this.last=this.dummyHead,this.nodeMapByIndex=new Sl,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new bl}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(n,t){let i=this.nodeMapByCreatedAt.get(n.toIDString());if(!i)throw new D(x.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);for(;i.getValue().getMovedAt()&&i.getValue().getMovedAt().after(t)&&i.getMovedFrom();)i=i.getMovedFrom();for(;i.getNext()&&i.getNext().getPositionedAt().after(t);)i=i.getNext();return i}release(n){this.last===n&&(this.last=n.getPrev()),n.release(),this.nodeMapByIndex.delete(n),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}insertAfter(n,t,i=t.getCreatedAt()){const l=this.findNextBeforeExecutedAt(n,i),c=Dc.createAfter(l,t);return l===this.last&&(this.last=c),this.nodeMapByIndex.insertAfter(l,c),this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),c),c}moveAfter(n,t,i){let l=this.nodeMapByCreatedAt.get(n.toIDString());if(!l)throw new D(x.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);let c=this.nodeMapByCreatedAt.get(t.toIDString());if(!c)throw new D(x.ErrInvalidArgument,`cant find the given node: ${t.toIDString()}`);if(l!==c&&i.after(c.getPositionedAt())){const d=c.getPrev();let g=c.getNext();for(this.release(c),c=this.insertAfter(l.getCreatedAt(),c.getValue(),i),c.getValue().setMovedAt(i),c.setMovedFrom(d);g&&g.getPositionedAt().after(i);)l=c,c=g,g=c.getNext(),this.release(c),c=this.insertAfter(l.getCreatedAt(),c.getValue(),i),c.getValue().setMovedAt(i),c.setMovedFrom(d)}}insert(n){this.insertAfter(this.last.getCreatedAt(),n)}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}subPathOf(n){const t=this.nodeMapByCreatedAt.get(n.toIDString());if(t)return String(this.nodeMapByIndex.indexOf(t))}purge(n){const t=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!t)throw new D(x.ErrInvalidArgument,`fail to find the given createdAt: ${n.getCreatedAt().toIDString()}`);this.release(t)}getByIndex(n){if(n>=this.length)return;const[t,i]=this.nodeMapByIndex.find(n);let l=t;if(n===0&&t===this.dummyHead||i>0)do l&&(l=l.getNext());while(l&&l.isRemoved());return l}getPrevCreatedAt(n){let t=this.nodeMapByCreatedAt.get(n.toIDString());do t=t.getPrev();while(this.dummyHead!==t&&t.isRemoved());return t.getValue().getCreatedAt()}delete(n,t){const i=this.nodeMapByCreatedAt.get(n.toIDString()),l=i.isRemoved();return i.remove(t)&&!l&&this.nodeMapByIndex.splayNode(i),i.getValue()}set(n,t,i){const l=this.nodeMapByCreatedAt.get(n.toIDString());if(!l)throw new D(x.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);return this.insertAfter(l.getCreatedAt(),t,i),this.delete(n,i)}deleteByIndex(n,t){const i=this.getByIndex(n);if(i)return i.remove(t)&&this.nodeMapByIndex.splayNode(i),i.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const n=[];for(const t of this){const i=`${t.getCreatedAt().toIDString()}:${t.getValue().toJSON()}`;t.isRemoved()?n.push(`{${i}}`):n.push(`[${i}]`)}return n.join("")}*[Symbol.iterator](){let n=this.dummyHead.getNext();for(;n;)yield n,n=n.getNext()}}class xe extends Sa{constructor(t,i){super(t);h(this,"elements");this.elements=i}static create(t,i){if(!i)return new xe(t,bl.create());const l=bl.create();for(const c of i)l.insertAfter(l.getLastCreatedAt(),c.deepcopy());return new xe(t,l)}subPathOf(t){return this.elements.subPathOf(t)}purge(t){this.elements.purge(t)}insertAfter(t,i,l){this.elements.insertAfter(t,i,l)}moveAfter(t,i,l){this.elements.moveAfter(t,i,l)}get(t){const i=this.elements.getByIndex(t);return i==null?void 0:i.getValue()}getByID(t){const i=this.elements.getByID(t);return i==null?void 0:i.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(t){return this.elements.getPrevCreatedAt(t)}delete(t,i){return this.elements.delete(t,i)}deleteByIndex(t,i){return this.elements.deleteByIndex(t,i)}set(t,i,l){return this.elements.set(t,i,l)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const t of this.elements)t.isRemoved()||(yield t.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(t){for(const i of this.elements){const l=i.getValue();if(t(l,this))return;l instanceof Sa&&l.getDescendants(t)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const t=[];for(const i of this)t.push(i.toJSON());return`[${t.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const t={};for(let i=0;i<this.length;i++){const{createdAt:l,value:c,type:d}=this.get(i).toJSForTest();t[i]={key:String(i),createdAt:l,value:c,type:d}}return{createdAt:this.getCreatedAt().toTestString(),value:t,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const t=xe.create(this.getCreatedAt());for(const i of this.elements)t.elements.insertAfter(t.getLastCreatedAt(),i.getValue().deepcopy());return t.setRemovedAt(this.getRemovedAt()),t.setMovedAt(this.getMovedAt()),t}}class Aa extends Un{constructor(t,i,l,c){super(t,c);h(this,"prevCreatedAt");h(this,"value");this.prevCreatedAt=i,this.value=l}static create(t,i,l,c){return new Aa(t,i,l,c)}execute(t){const i=t.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof xe))throw new D(x.ErrInvalidArgument,"fail to execute, only array can execute add");const l=i,c=this.value.deepcopy();return l.insertAfter(this.prevCreatedAt,c,this.getExecutedAt()),t.registerElement(c,l),{opInfos:[{type:"add",path:t.createPath(this.getParentCreatedAt()),index:Number(l.subPathOf(this.getEffectedCreatedAt()))}],reverseOp:this.toReverseOperation()}}toReverseOperation(){return er.create(this.getParentCreatedAt(),this.value.getCreatedAt())}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}setPrevCreatedAt(t){this.prevCreatedAt=t}}class er extends Un{constructor(t,i,l){super(t,l);h(this,"createdAt");this.createdAt=i}static create(t,i,l){return new er(t,i,l)}execute(t,i){var v;const l=t.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof Sa))throw new D(x.ErrInvalidArgument,`only object and array can execute remove: ${l}`);if(i===Kt.UndoRedo){let b=l.getByID(this.createdAt);for(;b;){if(b.getRemovedAt())return;b=(v=t.findElementPairByCreatedAt(b.getCreatedAt()))==null?void 0:v.parent}}const c=l.subPathOf(this.createdAt),d=this.toReverseOperation(l),g=l.delete(this.createdAt,this.getExecutedAt());return t.registerRemovedElement(g),{opInfos:l instanceof xe?[{type:"remove",path:t.createPath(this.getParentCreatedAt()),index:Number(c)}]:[{type:"remove",path:t.createPath(this.getParentCreatedAt()),key:c}],reverseOp:d}}toReverseOperation(t){if(t instanceof xe){const i=t.getByID(this.createdAt);if(i!==void 0){const l=t.getPrevCreatedAt(this.createdAt);return Aa.create(this.getParentCreatedAt(),l,i.deepcopy())}}if(t instanceof Ee){const i=t.subPathOf(this.createdAt);if(i!==void 0){const l=t.get(i);if(l!==void 0)return _a.create(i,l.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}setCreatedAt(t){this.createdAt=t}}class _a extends Un{constructor(t,i,l,c){super(l,c);h(this,"key");h(this,"value");this.key=t,this.value=i}static create(t,i,l,c){return new _a(t,i,l,c)}execute(t,i){var v;const l=t.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof Ee))throw new D(x.ErrInvalidArgument,"fail to execute, only object can execute set");if(i===Kt.UndoRedo){let b=l;for(;b;){if(b.getRemovedAt())return;b=(v=t.findElementPairByCreatedAt(b.getCreatedAt()))==null?void 0:v.parent}}const c=l.get(this.key),d=this.toReverseOperation(c),g=this.value.deepcopy(),y=l.set(this.key,g,this.getExecutedAt());return i===Kt.UndoRedo&&t.findByCreatedAt(g.getCreatedAt())&&t.deregisterElement(g),t.registerElement(g,l),y&&t.registerRemovedElement(y),{opInfos:[{type:"set",path:t.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:d}}toReverseOperation(t){let i=er.create(this.getParentCreatedAt(),this.value.getCreatedAt());return t!==void 0&&!t.isRemoved()&&(i=_a.create(this.key,t.deepcopy(),this.getParentCreatedAt())),i}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class Bn extends Un{constructor(t,i,l,c){super(t,c);h(this,"prevCreatedAt");h(this,"createdAt");this.prevCreatedAt=i,this.createdAt=l}static create(t,i,l,c){return new Bn(t,i,l,c)}execute(t){const i=t.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof xe))throw new D(x.ErrInvalidArgument,"fail to execute, only array can execute move");const l=i,c=this.toReverseOperation(l),d=Number(l.subPathOf(this.createdAt));l.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const g=Number(l.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:t.createPath(this.getParentCreatedAt()),index:g,previousIndex:d}],reverseOp:c}}toReverseOperation(t){const i=t.getPrevCreatedAt(this.createdAt);return Bn.create(this.getParentCreatedAt(),i,this.createdAt)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}setPrevCreatedAt(t){this.prevCreatedAt=t}setCreatedAt(t){this.createdAt=t}}class pa{constructor(n,t,i,l){h(this,"key");h(this,"value");h(this,"updatedAt");h(this,"_isRemoved");this.key=n,this.value=t,this.updatedAt=i,this._isRemoved=l}static of(n,t,i,l){return new pa(n,t,i,l)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Qn}}}class Vi{constructor(){h(this,"nodeMapByKey");h(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Vi}getNodeMapByKey(){return this.nodeMapByKey}set(n,t,i){const l=this.nodeMapByKey.get(n);if(l&&l.isRemoved()&&i.after(l.getUpdatedAt())&&(this.numberOfRemovedElement-=1),l===void 0||i.after(l.getUpdatedAt())){const c=pa.of(n,t,i,!1);return this.nodeMapByKey.set(n,c),l!==void 0&&l.isRemoved()?[l,c]:[void 0,c]}return l.isRemoved()?[l,void 0]:[void 0,void 0]}setInternal(n,t,i,l){const c=pa.of(n,t,i,l);this.nodeMapByKey.set(n,c),l&&this.numberOfRemovedElement++}remove(n,t){const i=this.nodeMapByKey.get(n),l=[];if(i===void 0||t.after(i.getUpdatedAt())){if(i===void 0){this.numberOfRemovedElement+=1;const g=pa.of(n,"",t,!0);return this.nodeMapByKey.set(n,g),l.push(g),l}const c=i.isRemoved();c||(this.numberOfRemovedElement+=1),c&&l.push(i);const d=pa.of(n,i.getValue(),t,!0);return this.nodeMapByKey.set(n,d),l.push(d),l}return l}has(n){if(this.nodeMapByKey.has(n)){const t=this.nodeMapByKey.get(n);return t!==void 0&&!t.isRemoved()}return!1}get(n){if(this.nodeMapByKey.has(n))return this.nodeMapByKey.get(n).getValue()}deepcopy(){const n=new Vi;for(const[,t]of this.nodeMapByKey)n.setInternal(t.getKey(),t.getValue(),t.getUpdatedAt(),t.isRemoved());return n}toJSON(){if(!this.size())return"{}";const n=[];for(const[t,i]of this.nodeMapByKey)i.isRemoved()||n.push(`"${Fn(t)}":"${Fn(i.getValue())}"`);return`{${n.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const n={};for(const[t,i]of this.nodeMapByKey)i.isRemoved()||(n[t]=i.getValue());return n}*[Symbol.iterator](){for(const[,n]of this.nodeMapByKey)yield n}purge(n){const t=this.nodeMapByKey.get(n.getKey());t==null||t.toIDString()!=n.toIDString()||(this.nodeMapByKey.delete(n.getKey()),this.numberOfRemovedElement--)}}function kn(s){if(s instanceof Map){const n=Array.from(s);return new Map(JSON.parse(JSON.stringify(n)))}return JSON.parse(JSON.stringify(s))}const sS=s=>s?Object.entries(s).length===0:!0,to=s=>{const n={};for(const[t,i]of Object.entries(s))n[t]=JSON.stringify(i);return n},qi=s=>{const n={};for(const[t,i]of Object.entries(s))n[t]=JSON.parse(i);return n};function X1(s){return s?d0(s.live)+d0(s.gc):0}function d0(s){return s.data+s.meta}function ve(s,...n){for(const t of n)s.data+=t.data,s.meta+=t.meta}function $a(s,n){s.data-=n.data,s.meta-=n.meta}class Tl{constructor(n){h(this,"attributes");h(this,"content");this.attributes=Vi.create(),this.content=n}static create(n){return new Tl(n)}get length(){return this.content.length}substring(n,t){const i=new Tl(this.content.substring(n,t));return i.attributes=this.attributes.deepcopy(),i}setAttr(n,t,i){return this.attributes.set(n,t,i)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const n={data:0,meta:0};n.data+=this.content.length*2;for(const t of this.attributes){const i=t.getDataSize();n.meta+=i.meta,n.data+=i.data}return n}toJSON(){const n=Fn(this.content),t=this.attributes.toObject(),i=[];for(const[l,c]of Object.entries(t)){const d=JSON.parse(c),g=typeof d=="string"?`"${Fn(l)}":"${Fn(d)}"`:`"${Fn(l)}":${String(d)}`;i.push(g)}return i.sort(),i.length===0?`{"val":"${n}"}`:`{"attrs":{${i.join(",")}},"val":"${n}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(n){this.attributes&&n instanceof pa&&this.attributes.purge(n)}getGCPairs(){const n=[];for(const t of this.attributes)t.getRemovedAt()&&n.push({parent:this,child:t});return n}}class Fe extends El{constructor(t,i){super(i);h(this,"rgaTreeSplit");this.rgaTreeSplit=t}static create(t,i){return new Fe(t,i)}edit(t,i,l,c,d){const g=i?Tl.create(i):void 0;if(g&&c)for(const[O,U]of Object.entries(c))g.setAttr(O,U,l);const[y,v,b,E]=this.rgaTreeSplit.edit(t,l,g,d);return[E.map(O=>({...O,value:O.value?{attributes:qi(O.value.getAttributes()),content:O.value.getContent()}:{attributes:void 0,content:""},type:"content"})),v,b,[y,y]]}setStyle(t,i,l,c){const d={data:0,meta:0},[,g,y]=this.rgaTreeSplit.findNodeWithSplit(t[1],l),[,v,b]=this.rgaTreeSplit.findNodeWithSplit(t[0],l);ve(d,g,v);const E=[],C=this.rgaTreeSplit.findBetween(b,y),O=[];for(const V of C){const K=V.getCreatedAt().getActorID();let W=Zd;c!=null&&(W=c.get(K)?c.get(K):0n),V.canStyle(l,W)&&O.push(V)}const U=[];for(const V of O){if(V.isRemoved())continue;const[K,W]=this.rgaTreeSplit.findIndexesFromRange(V.createPosRange());E.push({type:"style",actor:l.getActorID(),from:K,to:W,value:{attributes:qi(i)}});for(const[lt,ct]of Object.entries(i)){const[mt]=V.getValue().setAttr(lt,ct,l);mt!==void 0&&U.push({parent:V.getValue(),child:mt});const et=V.getValue().getAttrs().getNodeMapByKey().get(lt);et!==void 0&&ve(d,et.getDataSize())}}return[U,d,E]}indexRangeToPosRange(t,i){const l=this.rgaTreeSplit.indexToPos(t);return t===i?[l,l]:[l,this.rgaTreeSplit.indexToPos(i)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const t={data:0,meta:0};for(const i of this.rgaTreeSplit){if(i.isRemoved())continue;const l=i.getDataSize();t.data+=l.data,t.meta+=l.meta}return{data:t.data,meta:t.meta+this.getMetaUsage()}}toJSON(){const t=[];for(const i of this.rgaTreeSplit)i.isRemoved()||t.push(i.getValue().toJSON());return`[${t.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const t=[];for(const i of this.rgaTreeSplit)if(!i.isRemoved()){const l=i.getValue();t.push({attributes:qi(l.getAttributes()),content:l.getContent()})}return t}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const t=new Fe(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return t.setRemovedAt(this.getRemovedAt()),t.setMovedAt(this.getMovedAt()),t}findIndexesFromRange(t){return this.rgaTreeSplit.findIndexesFromRange(t)}getGCPairs(){const t=[];for(const i of this.rgaTreeSplit){i.getRemovedAt()&&t.push({parent:this.rgaTreeSplit,child:i});for(const l of i.getValue().getGCPairs())t.push(l)}return t}}class xl extends Un{constructor(t,i,l,c,d,g){super(t,g);h(this,"fromPos");h(this,"toPos");h(this,"content");h(this,"attributes");this.fromPos=i,this.toPos=l,this.content=c,this.attributes=d}static create(t,i,l,c,d,g){return new xl(t,i,l,c,d,g)}execute(t,i,l){const c=t.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Fe))throw new D(x.ErrInvalidArgument,"fail to execute, only Text can execute edit");const d=c,[g,y,v]=d.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),l);t.acc(v);for(const b of y)t.registerGCPair(b);return{opInfos:g.map(({from:b,to:E,value:C})=>({type:"edit",from:b,to:E,value:C,path:t.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.content;return`${t}.EDIT(${i},${l},${c})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class Nl extends Un{constructor(t,i,l,c,d){super(t,d);h(this,"fromPos");h(this,"toPos");h(this,"attributes");this.fromPos=i,this.toPos=l,this.attributes=c}static create(t,i,l,c,d){return new Nl(t,i,l,c,d)}execute(t,i,l){const c=t.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Fe))throw new D(x.ErrInvalidArgument,"fail to execute, only Text can execute edit");const d=c,[g,y,v]=d.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),l);t.acc(y);for(const b of g)t.registerGCPair(b);return{opInfos:v.map(({from:b,to:E,value:C})=>({type:"style",from:b,to:E,value:C,path:t.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),i=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.attributes;return`${t}.STYL(${i},${l},${JSON.stringify(c)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const Z1=2,F1="root",_n="text";function al(s,n,t=!1){let i=0;const l=t?s.allChildren:s.children;for(let c=0;c<n;c++){const d=l[c];!d||!t&&d.isRemoved||(i+=d.paddedSize(t))}return i}class Q1{constructor(n,t=[]){h(this,"type");h(this,"parent");h(this,"_children");h(this,"visibleSize");h(this,"totalSize");if(this.type=n,this.visibleSize=0,this.totalSize=0,this._children=t,this.isText&&this._children.length>0)throw new D(x.ErrRefused,"Text node cannot have children")}updateAncestorsSize(n,t=!1){let i=this.parent;for(;i;){if(t)i.totalSize+=n;else if(i.visibleSize+=n,i.isRemoved)break;i=i.parent}}updateDescendantsSize(n=!1){let t=0;for(const i of this._children){const l=i.updateDescendantsSize(n);!n&&i.isRemoved||(t+=l)}return n?this.totalSize+=t:this.visibleSize+=t,this.paddedSize(n)}get isText(){return this.type===_n}paddedSize(n=!1){let t=this.visibleSize;return n&&(t=this.totalSize),this.isText||(t+=Z1),t}isAncestorOf(n){return _1(this,n)}get nextSibling(){const n=this.parent.findOffset(this),t=this.parent.children[n+1];if(t)return t}get prevSibling(){const n=this.parent.findOffset(this),t=this.parent.children[n-1];if(t)return t}splitText(n,t){const i={data:0,meta:0};if(n===0||n===this.visibleSize)return[void 0,i];const l=this.value.slice(0,n),c=this.value.slice(n);if(!c.length)return[void 0,i];const d=this.getDataSize();this.value=l;const g=this.cloneText(n+t);return g.value=c,this.parent.insertAfterInternal(g,this),ve(i,this.getDataSize(),g.getDataSize()),$a(i,d),[g,i]}get children(){return this._children.filter(n=>!n.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(n=>n.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(n=>n.value).join(""):""}append(...n){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");this._children.push(...n);for(const t of n)t.parent=this,t.updateAncestorsSize(t.paddedSize()),t.updateAncestorsSize(t.paddedSize(!0),!0)}prepend(...n){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");this._children.unshift(...n);for(const t of n)t.parent=this}insertBefore(n,t){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(t);if(i===-1)throw new D(x.ErrInvalidArgument,"child not found");this.insertAtInternal(n,i),n.updateAncestorsSize(n.paddedSize()),n.updateAncestorsSize(n.paddedSize(!0),!0)}insertAfter(n,t){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(t);if(i===-1)throw new D(x.ErrInvalidArgument,"child not found");this.insertAtInternal(n,i+1),n.updateAncestorsSize(n.paddedSize()),n.updateAncestorsSize(n.paddedSize(!0),!0)}insertAt(n,t){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");this.insertAtInternal(n,t),n.updateAncestorsSize(n.paddedSize()),n.updateAncestorsSize(n.paddedSize(!0),!0)}removeChild(n){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");const t=this._children.indexOf(n);if(t===-1)throw new D(x.ErrInvalidArgument,"child not found");this._children.splice(t,1),n.updateAncestorsSize(-n.paddedSize(!0),!0),n.parent=void 0}splitElement(n,t){const i={data:0,meta:0},l=this.getDataSize(),c=this.cloneElement(t);this.parent.insertAfterInternal(c,this),c.updateAncestorsSize(c.paddedSize()),c.updateAncestorsSize(c.paddedSize(!0),!0);const d=this.children.slice(0,n),g=this.children.slice(n);this._children=d,c._children=g,this.visibleSize=this._children.reduce((y,v)=>y+v.paddedSize(),0),this.totalSize=this._children.reduce((y,v)=>y+v.paddedSize(!0),0),c.visibleSize=c._children.reduce((y,v)=>y+v.paddedSize(!0),0),c.totalSize=c._children.reduce((y,v)=>y+v.paddedSize(!0),0);for(const y of c._children)y.parent=c;return ve(i,this.getDataSize(),c.getDataSize()),$a(i,l),[c,i]}insertAfterInternal(n,t){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");const i=this._children.indexOf(t);if(i===-1)throw new D(x.ErrInvalidArgument,"child not found");this.insertAtInternal(n,i+1)}insertAtInternal(n,t){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");this._children.splice(t,0,n),n.parent=this}findOffset(n,t=!1){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");if(t)return this._children.indexOf(n);if(n.isRemoved){const i=this._children.indexOf(n);return this.allChildren.splice(0,i).filter(c=>!c.isRemoved).length}return this.children.indexOf(n)}findBranchOffset(n){if(this.isText)throw new D(x.ErrRefused,"Text node cannot have children");let t=n;for(;t;){const i=this._children.indexOf(t);if(i!==-1)return i;t=t.parent}return-1}}function _1(s,n){if(s===n)return!1;for(;n.parent;){if(n.parent===s)return!0;n=n.parent}return!1}var te=(s=>(s.Start="Start",s.End="End",s.Text="Text",s))(te||{});function oS(s,n,t,i,l=!1){if(n>t)throw new D(x.ErrInvalidArgument,`from is greater than to: ${n} > ${t}`);const c=l?s.totalSize:s.visibleSize;if(n>c)throw new D(x.ErrInvalidArgument,`from is out of range: ${n} > ${c}`);if(t>c)throw new D(x.ErrInvalidArgument,`to is out of range: ${t} > ${c}`);if(n===t)return;let d=0;const g=l?s._children:s.children;for(const y of g){if(n-y.paddedSize(l)<d&&d<t){const v=y.isText?n-d:n-d-1,b=y.isText?t-d:t-d-1,E=l?y.totalSize:y.visibleSize,C=!y.isText&&v<0,O=!y.isText&&b>E;(y.isText||C)&&i([y,y.isText?"Text":"Start"],O),oS(y,Math.max(0,v),Math.min(b,E),i,l),O&&i([y,"End"],O)}d+=y.paddedSize(l)}}function lS(s,n,t=0){for(const i of s.children)lS(i,n,t+1);n(s,t)}function zc(s,n,t=0){for(const i of s._children)zc(i,n,t+1);n(s,t)}function Qd(s,n,t=!0){if(n>s.visibleSize)throw new D(x.ErrInvalidArgument,`index is out of range: ${n} > ${s.visibleSize}`);if(s.isText)return{node:s,offset:n};let i=0,l=0;for(const c of s.children){if(t&&c.isText&&c.visibleSize>=n-l)return Qd(c,n-l,t);if(n===l)return{node:s,offset:i};if(!t&&c.paddedSize()===n-l)return{node:s,offset:i+1};if(c.paddedSize()>n-l)return Qd(c,n-l-1,t);l+=c.paddedSize(),i+=1}return{node:s,offset:i}}function uS(s){return s.isText||s.children.length===0?s:uS(s.children[0])}function W1(s,n){if(s.visibleSize<n)throw new D(x.ErrInvalidArgument,"unacceptable path");for(let t=0;t<s.children.length;t++){const i=s.children[t];if(i.visibleSize<n)n-=i.visibleSize;else{s=i;break}}return{node:s,offset:n}}class tA{constructor(n){h(this,"root");this.root=n}tokensBetween(n,t,i,l=!1){oS(this.root,n,t,i,l)}traverse(n){lS(this.root,n,0)}traverseAll(n){zc(this.root,n,0)}findTreePos(n,t=!0){return Qd(this.root,n,t)}treePosToPath(n){const t=[];let i=n.node;if(i.isText){const l=i.parent.findOffset(i);if(l===-1)throw new D(x.ErrInvalidArgument,"invalid treePos");const c=al(i.parent,l);t.push(c+n.offset),i=i.parent}else if(i.hasTextChild()){const l=al(i,n.offset);t.push(l)}else t.push(n.offset);for(;i.parent;){const l=i.parent.findOffset(i);if(l===-1)throw new D(x.ErrInvalidArgument,"invalid treePos");t.push(l),i=i.parent}return t.reverse()}pathToIndex(n){const t=this.pathToTreePos(n);return this.indexOf(t)}pathToTreePos(n){if(!n.length)throw new D(x.ErrInvalidArgument,"unacceptable path");let t=this.root;for(let i=0;i<n.length-1;i++){const l=n[i];if(t=t.children[l],!t)throw new D(x.ErrInvalidArgument,"unacceptable path")}if(t.hasTextChild())return W1(t,n[n.length-1]);if(t.children.length<n[n.length-1])throw new D(x.ErrInvalidArgument,"unacceptable path");return{node:t,offset:n[n.length-1]}}getRoot(){return this.root}get size(){return this.root.visibleSize}findPostorderRight(n){const{node:t,offset:i}=n;if(t.isText){if(t.visibleSize===i){const l=t.nextSibling;return l||t.parent}return t}return t.children.length===i?t:uS(t.children[i])}indexOf(n,t=!1){let{node:i}=n;const{offset:l}=n;let c=0,d=1;if(i.isText){c+=l;const g=i.parent,y=g.findOffset(i,t);if(y===-1)throw new D(x.ErrInvalidArgument,"invalid pos");c+=al(g,y,t),i=i.parent}else c+=al(i,l,t);for(;i!=null&&i.parent;){const g=i.parent,y=g.findOffset(i,t);if(y===-1)throw new D(x.ErrInvalidArgument,"invalid pos");c+=al(g,y,t),d++,i=i.parent}return c+d-1}indexToPath(n){const t=this.findTreePos(n);return this.treePosToPath(t)}}const eA=(s,n)=>s===n?0:s<n?-1:1;class nA{constructor(n,t,i){h(this,"key");h(this,"value");h(this,"parent");h(this,"left");h(this,"right");h(this,"isRed");this.key=n,this.value=t,this.isRed=i}}class rA{constructor(n){h(this,"stack");this.stack=[],this.traverseInorder(n)}traverseInorder(n){n&&(this.traverseInorder(n.left),this.stack.push({key:n.key,value:n.value}),this.traverseInorder(n.right))}}class cS{constructor(n){h(this,"root");h(this,"comparator");h(this,"counter");this.comparator=typeof n<"u"?n:eA,this.counter=0}put(n,t){return this.root=this.putInternal(n,t,this.root),this.root.isRed=!1,t}get(n){const t=this.getInternal(n,this.root);return t?t.value:void 0}remove(n){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,n),this.root&&(this.root.isRed=!1)}getIterator(){return new rA(this.root)}values(){const n=[];for(const t of this.getIterator().stack)n.push(t.value);return n}floorEntry(n){let t=this.root;for(;t;){const i=this.comparator(n,t.key);if(i>0)if(t.right)t.right.parent=t,t=t.right;else return t;else if(i<0)if(t.left)t.left.parent=t,t=t.left;else{let l=t.parent,c=t;for(;l&&c===l.left;)c=l,l=l.parent;return l}else return t}}lastEntry(){if(!this.root)return this.root;let n=this.root;for(;n.right;)n=n.right;return n}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(n,t){for(;t;){const i=this.comparator(n,t.key);if(i===0)return t;i<0?t=t.left:i>0&&(t=t.right)}}putInternal(n,t,i){if(!i)return this.counter+=1,new nA(n,t,!0);const l=this.comparator(n,i.key);return l<0?i.left=this.putInternal(n,t,i.left):l>0?i.right=this.putInternal(n,t,i.right):i.value=t,this.isRed(i.right)&&!this.isRed(i.left)&&(i=this.rotateLeft(i)),this.isRed(i.left)&&this.isRed(i.left.left)&&(i=this.rotateRight(i)),this.isRed(i.left)&&this.isRed(i.right)&&this.flipColors(i),i}removeInternal(n,t){if(this.comparator(t,n.key)<0)!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeInternal(n.left,t);else{if(this.isRed(n.left)&&(n=this.rotateRight(n)),this.comparator(t,n.key)===0&&!n.right){this.counter-=1;return}if(!this.isRed(n.right)&&!this.isRed(n.right.left)&&(n=this.moveRedRight(n)),this.comparator(t,n.key)===0){this.counter-=1;const i=this.min(n.right);n.value=i.value,n.key=i.key,n.right=this.removeMin(n.right)}else n.right=this.removeInternal(n.right,t)}return this.fixUp(n)}min(n){return n.left?this.min(n.left):n}removeMin(n){if(n.left)return!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeMin(n.left),this.fixUp(n)}fixUp(n){return this.isRed(n.right)&&(n=this.rotateLeft(n)),this.isRed(n.left)&&this.isRed(n.left.left)&&(n=this.rotateRight(n)),this.isRed(n.left)&&this.isRed(n.right)&&this.flipColors(n),n}moveRedLeft(n){return this.flipColors(n),this.isRed(n.right.left)&&(n.right=this.rotateRight(n.right),n=this.rotateLeft(n),this.flipColors(n)),n}moveRedRight(n){return this.flipColors(n),this.isRed(n.left.left)&&(n=this.rotateRight(n),this.flipColors(n)),n}isRed(n){return n&&n.isRed}rotateLeft(n){const t=n.right;return n.right=t.left,t.left=n,t.isRed=t.left.isRed,t.left.isRed=!0,t}rotateRight(n){const t=n.left;return n.left=t.right,t.right=n,t.isRed=t.right.isRed,t.right.isRed=!0,t}flipColors(n){n.isRed=!n.isRed,n.left.isRed=!n.left.isRed,n.right.isRed=!n.right.isRed}}class zn{constructor(n,t){h(this,"parentID");h(this,"leftSiblingID");this.parentID=n,this.leftSiblingID=t}static of(n,t){return new zn(n,t)}static fromTreePos(n){const{offset:t}=n;let{node:i}=n,l;return i.isText?(i.parent.children[0]===i&&t===0?l=i.parent:l=i,i=i.parent):t===0?l=i:l=i.children[t-1],zn.of(i.id,Se.of(l.getCreatedAt(),l.getOffset()+t))}getParentID(){return this.parentID}static fromStruct(n){return zn.of(Se.of(An.fromStruct(n.parentID.createdAt),n.parentID.offset),Se.of(An.fromStruct(n.leftSiblingID.createdAt),n.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(n){const t=this.getParentID(),i=this.getLeftSiblingID(),l=n.findFloorNode(t);let c=n.findFloorNode(i);if(!l||!c)throw new D(x.ErrRefused,`cannot find node of CRDTTreePos(${t.toTestString()}, ${i.toTestString()})`);return!i.equals(t)&&i.getOffset()>0&&i.getOffset()===c.id.getOffset()&&c.insPrevID&&(c=n.findFloorNode(c.insPrevID)),[l,c]}getLeftSiblingID(){return this.leftSiblingID}equals(n){return this.getParentID().getCreatedAt().equals(n.getParentID().getCreatedAt())&&this.getParentID().getOffset()===n.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(n.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===n.getLeftSiblingID().getOffset()}}class Se{constructor(n,t){h(this,"createdAt");h(this,"offset");this.createdAt=n,this.offset=t}static of(n,t){return new Se(n,t)}static fromStruct(n){return Se.of(An.fromStruct(n.createdAt),n.offset)}static createComparator(){return(n,t)=>{const i=n.getCreatedAt().compare(t.getCreatedAt());return i!==0?i:n.getOffset()>t.getOffset()?1:n.getOffset()<t.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}getOffset(){return this.offset}setOffset(n){this.offset=n}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Ze extends Q1{constructor(t,i,l,c,d){super(i);h(this,"id");h(this,"removedAt");h(this,"attrs");h(this,"insPrevID");h(this,"insNextID");h(this,"_value","");this.id=t,this.removedAt=d,c&&(this.attrs=c),typeof l=="string"?this.value=l:Array.isArray(l)&&(this._children=l)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(t,i,l,c){return new Ze(t,i,l,c)}deepcopy(){var i;const t=new Ze(this.id,this.type);return t.removedAt=this.removedAt,t._value=this._value,t.visibleSize=this.visibleSize,t.totalSize=this.totalSize,t.attrs=(i=this.attrs)==null?void 0:i.deepcopy(),t._children=this._children.map(l=>{const c=l.deepcopy();return c.parent=t,c}),t.insPrevID=this.insPrevID,t.insNextID=this.insNextID,t}get value(){if(!this.isText)throw new D(x.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(t){if(!this.isText)throw new D(x.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=t,this.visibleSize=t.length,this.totalSize=t.length}get isRemoved(){return!!this.removedAt}remove(t){return this.removedAt?(t.after(this.removedAt)&&(this.removedAt=t),!1):(this.removedAt=t,this.updateAncestorsSize(-this.paddedSize()),!0)}cloneText(t){return new Ze(Se.of(this.id.getCreatedAt(),t),this.type,void 0,void 0,this.removedAt)}cloneElement(t){return new Ze(Se.of(t(),0),this.type,void 0,void 0,this.removedAt)}split(t,i,l){const[c,d]=this.isText?this.splitText(i,this.id.getOffset()):this.splitElement(i,l);if(c){if(c.insPrevID=this.id,this.insNextID){const g=t.findFloorNode(this.insNextID);g.insPrevID=c.id,c.insNextID=this.insNextID}this.insNextID=c.id,t.registerNode(c)}return[c,d]}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(t,i,l){return i?!!(!this.removedAt||!l&&(t!=null&&t.after(this.removedAt))):!1}canStyle(t,i){return this.isText?!1:this.getCreatedAt().getLamport()<=i&&(!this.removedAt||t.after(this.removedAt))}setAttrs(t,i){this.attrs||(this.attrs=new Vi);const l=[];for(const[c,d]of Object.entries(t))l.push(this.attrs.set(c,d,i));return l}purge(t){this.attrs&&this.attrs.purge(t)}getDataSize(){const t={data:0,meta:0};if(this.isText&&(t.data+=this.visibleSize*2),this.id&&(t.meta+=Qn),this.removedAt&&(t.meta+=Qn),this.attrs)for(const i of this.attrs){if(i.getRemovedAt())continue;const l=i.getDataSize();t.meta+=l.meta,t.data+=l.data}return t}getGCPairs(){const t=[];if(!this.attrs)return t;for(const i of this.attrs)i.getRemovedAt()&&t.push({parent:this,child:i});return t}}function _d(s){var t;if(s.isText){const i=s;return{type:i.type,value:i.value}}const n={type:s.type,children:s.children.map(_d)};return s.attrs&&(n.attributes=qi((t=s.attrs)==null?void 0:t.toObject())),n}function og(s){if(s.isText)return s.value;let n="";return s.attrs&&s.attrs.size()&&(n=" "+Array.from(s.attrs).filter(t=>!t.isRemoved()).sort((t,i)=>t.getKey().localeCompare(i.getKey())).map(t=>{const i=JSON.parse(t.getValue());return typeof i=="string"?`${t.getKey()}="${i}"`:`${t.getKey()}="${Fn(t.getValue())}"`}).join(" ")),`<${s.type}${n}>${s.children.map(t=>og(t)).join("")}</${s.type}>`}function fS(s){if(s.isText){const n=s;return{type:n.type,value:n.value,visibleSize:n.visibleSize,isRemoved:n.isRemoved}}return{type:s.type,children:s.children.map(fS),visibleSize:s.visibleSize,isRemoved:s.isRemoved}}class Qe extends El{constructor(t,i){super(i);h(this,"indexTree");h(this,"nodeMapByID");this.indexTree=new tA(t),this.nodeMapByID=new cS(Se.createComparator()),this.indexTree.traverseAll(l=>{this.nodeMapByID.put(l.id,l)})}static create(t,i){return new Qe(t,i)}findFloorNode(t){const i=this.nodeMapByID.floorEntry(t);if(!(!i||!i.key.getCreatedAt().equals(t.getCreatedAt())))return i.value}registerNode(t){this.nodeMapByID.put(t.id,t)}findNodesAndSplitText(t,i){let l={data:0,meta:0};const[c,d]=t.toTreeNodePair(this);let g=d;const y=c===g,v=g.parent&&!y?g.parent:c;if(g.isText){const[,b]=g.split(this,t.getLeftSiblingID().getOffset()-g.id.getOffset());l=b}if(i){const b=v.allChildren,E=y?0:b.indexOf(g)+1;for(let C=E;C<b.length;C++){const O=b[C];if(!O.id.getCreatedAt().after(i))break;g=O}}return[[v,g],l]}style(t,i,l,c){const d={data:0,meta:0},[[g,y],v]=this.findNodesAndSplitText(t[0],l),[[b,E],C]=this.findNodesAndSplitText(t[1],l);ve(d,C,v);const O=[],U=i?qi(i):{},V=[];return this.traverseInPosRange(g,y,b,E,([K,W])=>{var mt;const lt=K.getCreatedAt().getActorID();let ct=Zd;if(c!=null&&(ct=c.get(lt)?c.get(lt):0n),K.canStyle(l,ct)&&i){const et=K.setAttrs(i,l),nt=et.reduce((Et,[,ae])=>(ae&&(Et[ae.getKey()]=U[ae.getKey()]),Et),{}),yt=K.parent,At=K.prevSibling||K.parent;Object.keys(nt).length>0&&O.push({type:"style",from:this.toIndex(yt,At),to:this.toIndex(K,K),fromPath:this.toPath(yt,At),toPath:this.toPath(K,K),actor:l.getActorID(),value:nt});for(const[Et]of et)Et&&V.push({parent:K,child:Et});for(const[Et]of Object.entries(U)){const ae=(mt=K.attrs)==null?void 0:mt.getNodeMapByKey().get(Et);ae!==void 0&&W!==te.End&&ve(d,ae.getDataSize())}}}),[V,O,d]}removeStyle(t,i,l,c){const d={data:0,meta:0},[[g,y],v]=this.findNodesAndSplitText(t[0],l),[[b,E],C]=this.findNodesAndSplitText(t[1],l);ve(d,C,v);const O=[],U=[];return this.traverseInPosRange(g,y,b,E,([V])=>{const K=V.getCreatedAt().getActorID();let W=Zd;if(c!=null&&(W=c.get(K)?c.get(K):0n),V.canStyle(l,W)&&i){V.attrs||(V.attrs=new Vi);for(const mt of i){const et=V.attrs.remove(mt,l);for(const nt of et)U.push({parent:V,child:nt})}const lt=V.parent,ct=V.prevSibling||V.parent;O.push({actor:l.getActorID(),type:"removeStyle",from:this.toIndex(lt,ct),to:this.toIndex(V,V),fromPath:this.toPath(lt,ct),toPath:this.toPath(V,V),value:i})}}),[U,O,d]}edit(t,i,l,c,d,g){const y={data:0,meta:0},[[v,b],E]=this.findNodesAndSplitText(t[0],c),[[C,O],U]=this.findNodesAndSplitText(t[1],c);ve(y,U,E);const V=this.toIndex(v,b),K=this.toPath(v,b),W=[],lt=[],ct=[];this.traverseInPosRange(v,b,C,O,([nt,yt],At)=>{if(yt===te.Start&&!At)for(const _e of nt.children)ct.push(_e);const Et=g===void 0;let ae=!1;const Oe=g==null?void 0:g.get(nt.id.getCreatedAt().getActorID());ae=Et||Oe!==void 0&&Oe>=nt.id.getCreatedAt().getLamport();let Qt=!1;if(nt.removedAt){const _e=g==null?void 0:g.get(nt.removedAt.getActorID());Qt=Et||_e!==void 0&&_e>=nt.removedAt.getLamport()}(nt.canDelete(c,ae,Qt)||W.includes(nt.parent))&&((yt===te.Text||yt===te.Start)&&W.push(nt),lt.push([nt,yt]))},!0);const mt=this.makeDeletionChanges(lt,c),et=[];for(const nt of W)nt.remove(c),nt.isRemoved&&et.push({parent:this,child:nt});for(const nt of ct)nt.removedAt||v.append(nt);if(l>0){let nt=0,yt=v,At=b;for(;nt<l;)yt.split(this,yt.findOffset(At)+1,d),At=yt,yt=yt.parent,nt++;mt.push({type:"content",from:V,to:V,fromPath:K,toPath:K,actor:c.getActorID()})}if(i!=null&&i.length){const nt=[];let yt=b;for(const At of i)yt===v?v.insertAt(At,0):v.insertAfter(At,yt),yt=At,zc(At,Et=>{v.isRemoved?(Et.remove(c),et.push({parent:this,child:Et})):ve(y,Et.getDataSize()),this.nodeMapByID.put(Et.id,Et)}),At.isRemoved||nt.push(At);if(nt.length){const At=nt.map(Et=>_d(Et));mt.length&&mt[mt.length-1].from===V?mt[mt.length-1].value=At:mt.push({type:"content",from:V,to:V,fromPath:K,toPath:K,actor:c.getActorID(),value:At})}}return[mt,et,y]}editT(t,i,l,c,d){const g=this.findPos(t[0]),y=this.findPos(t[1]);return this.edit([g,y],i,l,c,d)}move(t,i,l){throw new D(x.ErrUnimplemented,`not implemented: ${t}, ${i}, ${l}`)}pathToTreePos(t){return this.indexTree.pathToTreePos(t)}purge(t){var c;(c=t.parent)==null||c.removeChild(t),this.nodeMapByID.remove(t.id);const i=t.insPrevID,l=t.insNextID;if(i){const d=this.findFloorNode(i);d.insNextID=l}if(l){const d=this.findFloorNode(l);d.insPrevID=i}t.insPrevID=void 0,t.insNextID=void 0}getGCPairs(){const t=[];return this.indexTree.traverse(i=>{i.getRemovedAt()&&t.push({parent:this,child:i});for(const l of i.getGCPairs())t.push(l)}),t}findPos(t,i=!0){const l=this.indexTree.findTreePos(t,i);return zn.fromTreePos(l)}pathToPosRange(t){const i=this.pathToIndex(t);return[this.findPos(i),this.findPos(i+1)]}pathToPos(t){const i=this.indexTree.pathToIndex(t);return this.findPos(i)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return og(this.indexTree.getRoot())}getDataSize(){const t={data:0,meta:0};return this.indexTree.traverse(i=>{if(i.getRemovedAt())return;const l=i.getDataSize();t.data+=l.data,t.meta+=l.meta}),{data:t.data,meta:t.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const t=this.indexTree.getRoot(),i=(l,c=void 0,d=void 0,g=0)=>{var O,U,V,K;let y,v,b;const E=l.isText?{node:l,offset:0}:c&&d?this.toTreePos(c,d):null;E&&(y=this.indexTree.indexOf(E),v=this.indexTree.treePosToPath(E),b=zn.fromTreePos(E).toStruct());const C={type:l.type,parent:c==null?void 0:c.id.toTestString(),size:l.visibleSize,id:l.id.toTestString(),removedAt:(O=l.removedAt)==null?void 0:O.toTestString(),insPrev:(U=l.insPrevID)==null?void 0:U.toTestString(),insNext:(V=l.insNextID)==null?void 0:V.toTestString(),value:l.isText?l.value:void 0,isRemoved:l.isRemoved,children:[],depth:g,attributes:l.attrs?qi((K=l.attrs)==null?void 0:K.toObject()):void 0,index:y,path:v,pos:b};for(let W=0;W<l.allChildren.length;W++){const lt=W===0?l:l.allChildren[W-1];C.children.push(i(l.allChildren[W],l,lt,g+1))}return C};return i(t)}getRootTreeNode(){return _d(this.indexTree.getRoot())}toTestTreeNode(){return fS(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const t=this.getRoot(),i=new Qe(t.deepcopy(),this.getCreatedAt());return i.setRemovedAt(this.getRemovedAt()),i.setMovedAt(this.getMovedAt()),i}toPath(t,i){const l=this.toTreePos(t,i);return l?this.indexTree.treePosToPath(l):[]}toIndex(t,i,l=!1){const c=this.toTreePos(t,i,l);return c?this.indexTree.indexOf(c,l):-1}indexToPath(t){return this.indexTree.indexToPath(t)}pathToIndex(t){return this.indexTree.pathToIndex(t)}indexRangeToPosRange(t){const i=this.findPos(t[0]);return t[0]===t[1]?[i,i]:[i,this.findPos(t[1])]}indexRangeToPosStructRange(t){const[i,l]=t,c=this.findPos(i);return i===l?[c.toStruct(),c.toStruct()]:[c.toStruct(),this.findPos(l).toStruct()]}posRangeToPathRange(t){const[[i,l]]=this.findNodesAndSplitText(t[0]),[[c,d]]=this.findNodesAndSplitText(t[1]);return[this.toPath(i,l),this.toPath(c,d)]}posRangeToIndexRange(t){const[[i,l]]=this.findNodesAndSplitText(t[0]),[[c,d]]=this.findNodesAndSplitText(t[1]);return[this.toIndex(i,l),this.toIndex(c,d)]}traverseInPosRange(t,i,l,c,d,g=!1){const y=this.toIndex(t,i,g),v=this.toIndex(l,c,g);this.indexTree.tokensBetween(y,v,d,g)}toTreePos(t,i,l=!1){if(!t||!i)return;if(!l&&t.isRemoved){let d;for(;t.isRemoved;)d=t,t=d.parent;const g=t.findOffset(d,l);return{node:t,offset:g}}if(t===i)return{node:t,offset:0};let c=t.findOffset(i,l);if(l||!i.isRemoved){if(i.isText)return{node:i,offset:i.paddedSize(l)};c++}return{node:t,offset:c}}makeDeletionChanges(t,i){const l=[],c=[];let d=null,g=null;for(let y=0;y<t.length;y++){const v=t[y],b=t[y+1];d||(d=v),g=v;const E=this.findRightToken(v);(!E||!b||E[0]!==b[0]||E[1]!==b[1])&&(c.push([d,g]),d=null,g=null)}for(const y of c){const[v,b]=y,[E,C]=this.findLeftToken(v),[O,U]=b,V=C===te.Start?E:E.parent,K=U===te.Start?O:O.parent,W=this.toIndex(V,E),lt=this.toIndex(K,O);W<lt&&(l.length>0&&W===l[l.length-1].to?(l[l.length-1].to=lt,l[l.length-1].toPath=this.toPath(K,O)):l.push({type:"content",from:W,to:lt,fromPath:this.toPath(V,E),toPath:this.toPath(K,O),actor:i.getActorID()}))}return l.reverse()}findRightToken([t,i]){if(i===te.Start){const y=t.allChildren;return y.length>0?[y[0],y[0].isText?te.Text:te.Start]:[t,te.End]}const l=t.parent,c=l.allChildren,d=c.indexOf(t);if(l&&d===c.length-1)return[l,te.End];const g=c[d+1];return[g,g.isText?te.Text:te.Start]}findLeftToken([t,i]){if(i===te.End){const y=t.allChildren;if(y.length>0){const v=y[y.length-1];return[v,v.isText?te.Text:te.End]}return[t,te.Start]}const l=t.parent,c=l.allChildren,d=c.indexOf(t);if(l&&d===0)return[l,te.Start];const g=c[d-1];return[g,g.isText?te.Text:te.End]}}class Dl extends Un{constructor(t,i,l,c,d,g){super(t,g);h(this,"fromPos");h(this,"toPos");h(this,"contents");h(this,"splitLevel");this.fromPos=i,this.toPos=l,this.contents=c,this.splitLevel=d}static create(t,i,l,c,d,g){return new Dl(t,i,l,c,d,g)}execute(t,i,l){var E;const c=t.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Qe))throw new D(x.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const d=this.getExecutedAt(),g=c,[y,v,b]=g.edit([this.fromPos,this.toPos],(E=this.contents)==null?void 0:E.map(C=>C.deepcopy()),this.splitLevel,d,(()=>{let C=d.getDelimiter();return this.contents!==void 0&&(C+=this.contents.length),()=>An.of(d.getLamport(),++C,d.getActorID())})(),l);t.acc(b);for(const C of v)t.registerGCPair(C);return{opInfos:y.map(({from:C,to:O,value:U,splitLevel:V,fromPath:K,toPath:W})=>({type:"tree-edit",path:t.createPath(this.getParentCreatedAt()),from:C,to:O,value:U,splitLevel:V,fromPath:K,toPath:W}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,c=this.contents||[];return`${t}.EDIT(${i},${l},${c.map(d=>og(d)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class Ys{constructor(n){h(this,"vector");this.vector=n||new Map}set(n,t){this.vector.set(n,t)}unset(n){this.vector.delete(n)}get(n){return this.vector.get(n)}has(n){return this.vector.has(n)}maxLamport(){let n=BigInt(0);for(const[,t]of this)t>n&&(n=t);return n}max(n){const t=new Map;for(const[i,l]of n){const c=this.vector.get(i),d=c&&c>l?c:l;t.set(i,d)}for(const[i,l]of this){const c=n.get(i),d=c&&c>l?c:l;t.set(i,d)}return new Ys(t)}afterOrEqual(n){const t=this.vector.get(n.getActorID());return t===void 0?!1:t>=n.getLamport()}deepcopy(){const n=new Map;for(const[t,i]of this.vector)n.set(t,i);return new Ys(n)}filter(n){const t=new Map;for(const[i]of n){const l=this.vector.get(i);l!==void 0&&t.set(i,l)}return new Ys(t)}size(){return this.vector.size}*[Symbol.iterator](){for(const[n,t]of this.vector)yield[n,t]}}const hS=new Ys(new Map);class Cn{constructor(n,t,i,l,c){h(this,"clientSeq");h(this,"serverSeq");h(this,"actor");h(this,"lamport");h(this,"versionVector");this.clientSeq=n,this.serverSeq=c,this.lamport=t,this.versionVector=l,this.actor=i}hasClocks(){return this.versionVector.size()>0&&this.lamport!=Xd}static of(n,t,i,l,c){return new Cn(n,t,i,l,c)}next(n=!1){if(n)return new Cn(this.clientSeq+1,this.lamport,this.actor,hS,Xd);const t=this.versionVector.deepcopy();return t.set(this.actor,this.lamport+1n),new Cn(this.clientSeq+1,this.lamport+1n,this.actor,t)}syncClocks(n){if(!n.hasClocks())return this;const t=n.lamport>this.lamport?n.lamport+1n:this.lamport+1n,i=this.versionVector.max(n.versionVector),l=new Cn(this.clientSeq,t,this.actor,i);return l.versionVector.set(this.actor,t),l}setClocks(n,t){const i=n>this.lamport?n+1n:this.lamport+1n,l=this.versionVector.max(t);return l.set(this.actor,i),Cn.of(this.clientSeq,i,this.actor,l)}createTimeTicket(n){return An.of(this.lamport,n,this.actor)}setActor(n){return new Cn(this.clientSeq,this.lamport,n,this.versionVector,this.serverSeq)}setLamport(n){return new Cn(this.clientSeq,n,this.actor,this.versionVector,this.serverSeq)}setVersionVector(n){return new Cn(this.clientSeq,this.lamport,this.actor,n,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const iA=new Cn(0,0n,ag,hS);class eo{constructor({id:n,operations:t,presenceChange:i,message:l}){h(this,"id");h(this,"operations");h(this,"presenceChange");h(this,"message");this.id=n,this.operations=t||[],this.presenceChange=i,this.message=l}static create({id:n,operations:t,presenceChange:i,message:l}){return new eo({id:n,operations:t,presenceChange:i,message:l})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(n){for(const t of this.operations)t.setActor(n);this.id=this.id.setActor(n)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(n,t,i){const l=[],c=[];for(const d of this.operations){const g=d.execute(n,i,this.id.getVersionVector());if(!g)continue;const{opInfos:y,reverseOp:v}=g;l.push(...y),v&&c.unshift(v)}return this.presenceChange&&(this.presenceChange.type===tr.Put?t.set(this.id.getActorID(),kn(this.presenceChange.presence)):t.delete(this.id.getActorID())),{opInfos:l,reverseOps:c}}toTestString(){return`${this.operations.map(n=>n.toTestString()).join(",")}`}toStruct(){return{changeID:Zt.bytesToHex(Zt.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(n=>Zt.bytesToHex(Zt.toOperation(n).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(n){const{changeID:t,operations:i,presenceChange:l,message:c}=n;return eo.create({id:Zt.bytesToChangeID(Zt.hexToBytes(t)),operations:i==null?void 0:i.map(d=>Zt.bytesToOperation(Zt.hexToBytes(d))),presenceChange:l,message:c})}}class Mc{constructor(n,t,i,l,c,d){h(this,"documentKey");h(this,"checkpoint");h(this,"isRemoved");h(this,"changes");h(this,"snapshot");h(this,"versionVector");this.documentKey=n,this.checkpoint=t,this.isRemoved=i,this.changes=l,this.snapshot=d,this.versionVector=c}static create(n,t,i,l,c,d){return new Mc(n,t,i,l,c,d)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class Gs{constructor(n,t){h(this,"serverSeq");h(this,"clientSeq");this.serverSeq=n,this.clientSeq=t}static of(n,t){return new Gs(n,t)}increaseClientSeq(n){return n===0?this:new Gs(this.serverSeq,this.clientSeq+n)}forward(n){if(this.equals(n))return this;const t=this.serverSeq>n.serverSeq?this.serverSeq:n.serverSeq,i=Math.max(this.clientSeq,n.clientSeq);return Gs.of(t,i)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(n){return this.clientSeq===n.clientSeq&&this.serverSeq==n.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const aA=new Gs(0n,0);class Wn{constructor(n,t){h(this,"createdAt");h(this,"offset");this.createdAt=n,this.offset=t}static of(n,t){return new Wn(n,t)}static fromStruct(n){return Wn.of(An.fromStruct(n.createdAt),n.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}hasSameCreatedAt(n){return this.createdAt.compare(n.createdAt)===0}split(n){return new Wn(this.createdAt,this.offset+n)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const sA=Wn.of(Qs,0);class Mn{constructor(n,t){h(this,"id");h(this,"relativeOffset");this.id=n,this.relativeOffset=t}static of(n,t){return new Mn(n,t)}static fromStruct(n){const t=Wn.fromStruct(n.id);return Mn.of(t,n.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Wn.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(n){return this.id.equals(n.id)?this.relativeOffset===n.relativeOffset:!1}}class ba extends eS{constructor(t,i,l){super(i);h(this,"id");h(this,"removedAt");h(this,"prev");h(this,"next");h(this,"insPrev");h(this,"insNext");this.id=t,this.removedAt=l}static create(t,i){return new ba(t,i)}static createComparator(){return(t,i)=>{const l=t.getCreatedAt().compare(i.getCreatedAt());return l!==0?l:t.getOffset()>i.getOffset()?1:t.getOffset()<i.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(t){this.prev=t,t&&(t.next=this)}setNext(t){this.next=t,t&&(t.prev=this)}setInsPrev(t){this.insPrev=t,t&&(t.insNext=this)}setInsNext(t){this.insNext=t,t&&(t.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(t){return new ba(this.id.split(t),this.splitValue(t),this.removedAt)}canRemove(t,i,l){return i?!!(!this.removedAt||!l&&(t!=null&&t.after(this.removedAt))):!1}canStyle(t,i){return this.getCreatedAt().getLamport()<=i&&(!this.removedAt||t.after(this.removedAt))}setRemovedAt(t){this.removedAt=t}remove(t){if(!this.removedAt){this.removedAt=t;return}t.after(this.removedAt)&&(this.removedAt=t)}createPosRange(){return[Mn.of(this.id,0),Mn.of(this.id,this.getLength())]}getDataSize(){const t=this.value.getDataSize();return this.id&&(t.meta+=Qn),this.removedAt&&(t.meta+=Qn),t}deepcopy(){return new ba(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(t){const i=this.value;return this.value=i.substring(0,t),i.substring(t,i.length)}toIDString(){return this.id.toIDString()}}class no{constructor(){h(this,"head");h(this,"treeByIndex");h(this,"treeByID");this.head=ba.create(sA),this.treeByIndex=new Sl,this.treeByID=new cS(ba.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new no}edit(n,t,i,l){const c={data:0,meta:0},[d,g,y]=this.findNodeWithSplit(n[1],t),[v,b,E]=this.findNodeWithSplit(n[0],t);ve(c,g,b);const C=this.findBetween(E,y),[O,U]=this.deleteNodes(C,t,l),V=y?y.getID():d.getID();let K=Mn.of(V,0);if(i){const lt=this.posToIndex(v.createPosRange()[1],!0),ct=this.insertAfter(v,ba.create(Wn.of(t,0),i));ve(c,ct.getDataSize()),O.length&&O[O.length-1].from===lt?O[O.length-1].value=i:O.push({actor:t.getActorID(),from:lt,to:lt,value:i}),K=Mn.of(ct.getID(),ct.getContentLength())}const W=[];for(const[,lt]of U)W.push({parent:this,child:lt});return[K,W,c,O]}indexToPos(n){const[t,i]=this.treeByIndex.find(n),l=t;return Mn.of(l.getID(),i)}findIndexesFromRange(n){const[t,i]=n;return[this.posToIndex(t,!1),this.posToIndex(i,!0)]}posToIndex(n,t){const i=n.getAbsoluteID(),l=t?this.findFloorNodePreferToLeft(i):this.findFloorNode(i);if(!l)throw new D(x.ErrInvalidArgument,`the node of the given id should be found: ${i.toTestString()}`);const c=this.treeByIndex.indexOf(l),d=l.isRemoved()?0:i.getOffset()-l.getID().getOffset();return c+d}findNode(n){return this.findFloorNode(n)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const n=[];for(const t of this)t.isRemoved()||n.push(t.getValue());return n.join("")}*[Symbol.iterator](){let n=this.head.getNext();for(;n;)yield n,n=n.getNext()}getHead(){return this.head}deepcopy(){const n=new no;let t=this.head.getNext(),i=n.head,l;for(;t;){if(l=n.insertAfter(i,t.deepcopy()),t.hasInsPrev()){const c=n.findNode(t.getInsPrevID());l.setInsPrev(c)}i=l,t=t.getNext()}return n}toTestString(){const n=[];let t=this.head;for(;t;)t.isRemoved()?n.push(`{${t.toTestString()}}`):n.push(`[${t.toTestString()}]`),t=t.getNext();return n.join("")}insertAfter(n,t){const i=n.getNext();return t.setPrev(n),i&&i.setPrev(t),this.treeByID.put(t.getID(),t),this.treeByIndex.insertAfter(n,t),t}findNodeWithSplit(n,t){const i=n.getAbsoluteID();let l=this.findFloorNodePreferToLeft(i);const c=i.getOffset()-l.getID().getOffset(),[,d]=this.splitNode(l,c);for(;l.hasNext()&&l.getNext().getCreatedAt().after(t);)l=l.getNext();return[l,d,l.getNext()]}findFloorNodePreferToLeft(n){let t=this.findFloorNode(n);if(!t)throw new D(x.ErrInvalidArgument,`the node of the given id should be found: ${n.toTestString()}`);if(n.getOffset()>0&&t.getID().getOffset()==n.getOffset()){if(!t.hasInsPrev())return t;t=t.getInsPrev()}return t}findFloorNode(n){const t=this.treeByID.floorEntry(n);if(t&&!(!t.key.equals(n)&&!t.key.hasSameCreatedAt(n)))return t.value}findBetween(n,t){const i=[];let l=n;for(;l&&l!==t;)i.push(l),l=l.getNext();return i}splitNode(n,t){const i={data:0,meta:0};if(t>n.getContentLength())throw new D(x.ErrInvalidArgument,"offset should be less than or equal to length");if(t===0)return[n,i];if(t===n.getContentLength())return[n.getNext(),i];const l=n.getDataSize(),c=n.split(t);this.treeByIndex.updateWeight(c),this.insertAfter(n,c);const d=n.getInsNext();return d&&d.setInsPrev(c),c.setInsPrev(n),ve(i,n.getDataSize(),c.getDataSize()),$a(i,l),[c,i]}deleteNodes(n,t,i){if(!n.length)return[[],new Map];const l=i===void 0||i.size()===0,c=[],d=[],[g,y]=this.findEdgesOfCandidates(n);d.push(g);for(const E of n){let C=!1;if(l)C=!0;else{const U=i==null?void 0:i.get(E.getCreatedAt().getActorID());U&&U>=E.getCreatedAt().getLamport()&&(C=!0)}let O=!1;if(E.getRemovedAt()){const U=i==null?void 0:i.get(E.getRemovedAt().getActorID());(l||U&&U>=E.getRemovedAt().getLamport())&&(O=!0)}E.canRemove(t,C,O)?c.push(E):d.push(E)}d.push(y);const v=this.makeChanges(d,t),b=new Map;for(const E of c)b.set(E.getID().toIDString(),E),E.remove(t);return this.deleteIndexNodes(d),[v,b]}findEdgesOfCandidates(n){return[n[0].getPrev(),n[n.length-1].getNext()]}makeChanges(n,t){const i=[];let l,c;for(let d=0;d<n.length-1;d++){const g=n[d],y=n[d+1];g.getNext()!=y&&([l]=this.findIndexesFromRange(g.getNext().createPosRange()),y?[,c]=this.findIndexesFromRange(y.getPrev().createPosRange()):c=this.treeByIndex.length,l<c&&i.push({actor:t.getActorID(),from:l,to:c}))}return i.reverse()}deleteIndexNodes(n){for(let t=0;t<n.length-1;t++){const i=n[t],l=n[t+1];i.getNext()!=l&&this.treeByIndex.deleteRange(i,l)}}purge(n){this.treeByIndex.delete(n),this.treeByID.remove(n.getID());const t=n.getPrev(),i=n.getNext(),l=n.getInsPrev(),c=n.getInsNext();t&&t.setNext(i),i&&i.setPrev(t),n.setPrev(void 0),n.setNext(void 0),l&&l.setInsNext(c),c&&c.setInsPrev(l),n.setInsPrev(void 0),n.setInsNext(void 0)}}const g0=s=>s<0?Math.ceil(s):Math.floor(s);var nr=(s=>(s[s.Int=0]="Int",s[s.Long=1]="Long",s))(nr||{});class Ue extends El{constructor(t,i,l){super(l);h(this,"valueType");h(this,"value");switch(this.valueType=t,t){case 0:typeof i=="number"?i>Math.pow(2,31)-1||i<-Math.pow(2,31)?this.value=bt.fromNumber(i).toInt():this.value=g0(i):this.value=i.toInt();break;case 1:typeof i=="number"?this.value=bt.fromNumber(i):this.value=i;break;default:throw new D(x.ErrUnimplemented,`unimplemented type: ${t}`)}}static create(t,i,l){return new Ue(t,i,l)}static valueFromBytes(t,i){switch(t){case 0:return i[0]|i[1]<<8|i[2]<<16|i[3]<<24;case 1:return bt.fromBytesLE(Array.from(i));default:throw new D(x.ErrUnimplemented,`unimplemented type: ${t}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const t=Ue.create(this.valueType,this.value,this.getCreatedAt());return t.setRemovedAt(this.getRemovedAt()),t.setMovedAt(this.getMovedAt()),t}getType(){return this.valueType}static getCounterType(t){switch(typeof t){case"object":return t instanceof bt?1:void 0;case"number":return t>Math.pow(2,31)-1||t<-Math.pow(2,31)?1:0;default:return}}static isSupport(t){return!!Ue.getCounterType(t)}static isInteger(t){return t%1===0}isNumericType(){const t=this.valueType;return t===0||t===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const t=this.value;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}case 1:{const i=this.value.toBytesLE();return Uint8Array.from(i)}default:throw new D(x.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(t){function i(l){if(!l.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof l.getValue()}`)}return i(this),i(t),this.valueType===1?this.value=this.value.add(t.getValue()):t.getType()===qt.Long?this.value=this.value+t.getValue().toInt():this.value=bt.fromNumber(this.value+g0(t.getValue())).toInt(),this}}class ro extends Un{constructor(t,i,l){super(t,l);h(this,"value");this.value=i}static create(t,i,l){return new ro(t,i,l)}execute(t){const i=t.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof Ue))throw new D(x.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const l=i,c=this.value.deepcopy();return l.increase(c),{opInfos:[{type:"increase",path:t.createPath(this.getParentCreatedAt()),value:c.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const t=this.value.deepcopy(),l=t.getType()===qt.Long?t.getValue().multiply(-1):t.getValue()*-1;return ro.create(this.getParentCreatedAt(),Gt.of(l,t.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Pi extends Un{constructor(t,i,l,c,d,g){super(t,g);h(this,"fromPos");h(this,"toPos");h(this,"attributes");h(this,"attributesToRemove");this.fromPos=i,this.toPos=l,this.attributes=c,this.attributesToRemove=d}static create(t,i,l,c,d){return new Pi(t,i,l,c,[],d)}static createTreeRemoveStyleOperation(t,i,l,c,d){return new Pi(t,i,l,new Map,c,d)}execute(t,i,l){const c=t.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Qe))throw new D(x.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const d=c;let g,y,v={data:0,meta:0};if(this.attributes.size){const b={};[...this.attributes].forEach(([E,C])=>b[E]=C),[y,g,v]=d.style([this.fromPos,this.toPos],b,this.getExecutedAt(),l)}else{const b=this.attributesToRemove;[y,g,v]=d.removeStyle([this.fromPos,this.toPos],b,this.getExecutedAt(),l)}t.acc(v);for(const b of y)t.registerGCPair(b);return{opInfos:g.map(({from:b,to:E,value:C,fromPath:O,toPath:U})=>({type:"tree-style",from:b,to:E,value:this.attributes.size?{attributes:C}:{attributesToRemove:C},fromPath:O,toPath:U,path:t.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const t=this.getParentCreatedAt().toTestString(),i=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${t}.STYLE(${i},${l},${Object.entries(this.attributes||{}).map(([c,d])=>`${c}:"${d}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}class Hi extends Un{constructor(t,i,l,c){super(t,c);h(this,"createdAt");h(this,"value");this.createdAt=i,this.value=l}static create(t,i,l,c){return new Hi(t,i,l,c)}execute(t){const i=t.findByCreatedAt(this.getParentCreatedAt());if(!i)throw new D(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(i instanceof xe))throw new D(x.ErrInvalidArgument,"fail to execute, only array can execute set");const l=i.getByID(this.createdAt).deepcopy(),c=this.toReverseOperation(this.value,l),d=this.value.deepcopy();return i.insertAfter(this.createdAt,d,this.getExecutedAt()),i.delete(this.createdAt,this.getExecutedAt()),t.registerElement(d),{opInfos:[{type:"array-set",path:t.createPath(this.getParentCreatedAt())}],reverseOp:c}}toReverseOperation(t,i){return Hi.create(this.getParentCreatedAt(),t.getCreatedAt(),i)}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ARRAY_SET.${this.createdAt.toTestString()}=${this.value.toSortedJSON()}`}getCreatedAt(){return this.createdAt}getValue(){return this.value}setCreatedAt(t){this.createdAt=t}}function oA(s){const n=new Bc,t=n.data;for(const[i,l]of Object.entries(s))t[i]=JSON.stringify(l);return n}function lA(s){if(s.type===tr.Put)return new vl({type:Fa.PUT,presence:oA(s.presence)});if(s.type===tr.Clear)return new vl({type:Fa.CLEAR});throw new D(x.ErrUnimplemented,"unimplemented type")}function uA(s){return new W0({serverSeq:s.getServerSeq(),clientSeq:s.getClientSeq()})}function dS(s){return new Ic({clientSeq:s.getClientSeq(),lamport:s.getLamport(),actorId:Lc(s.getActorID()),versionVector:lg(s.getVersionVector())})}function _(s){if(s)return new F({lamport:s.getLamport(),delimiter:s.getDelimiter(),actorId:Lc(s.getActorID())})}function lg(s){if(!s)return;const n=new Rc;for(const[t,i]of s){const l=YA(Lc(t));n.vector[l]=BigInt(i.toString())}return n}function gS(s){switch(s){case qt.Null:return ft.NULL;case qt.Boolean:return ft.BOOLEAN;case qt.Integer:return ft.INTEGER;case qt.Long:return ft.LONG;case qt.Double:return ft.DOUBLE;case qt.String:return ft.STRING;case qt.Bytes:return ft.BYTES;case qt.Date:return ft.DATE;default:throw new D(x.ErrInvalidType,`unsupported type: ${s}`)}}function mS(s){switch(s){case nr.Int:return ft.INTEGER_CNT;case nr.Long:return ft.LONG_CNT;default:throw new D(x.ErrInvalidType,`unsupported type: ${s}`)}}function Ku(s){if(s instanceof Ee)return new un({type:ft.JSON_OBJECT,createdAt:_(s.getCreatedAt()),value:OS(s)});if(s instanceof xe)return new un({type:ft.JSON_ARRAY,createdAt:_(s.getCreatedAt()),value:VA(s)});if(s instanceof Fe)return new un({type:ft.TEXT,createdAt:_(s.getCreatedAt())});if(s instanceof Gt)return new un({type:gS(s.getType()),createdAt:_(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Ue)return new un({type:mS(s.getType()),createdAt:_(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Qe)return new un({type:ft.TREE,createdAt:_(s.getCreatedAt()),value:jA(s)});throw new D(x.ErrUnimplemented,"unimplemented element")}function cA(s){return new yl({createdAt:_(s.getCreatedAt()),offset:s.getOffset()})}function Yu(s){return new Qa({createdAt:_(s.getID().getCreatedAt()),offset:s.getID().getOffset(),relativeOffset:s.getRelativeOffset()})}function Gu(s){return new Za({parentId:fl(s.getParentID()),leftSiblingId:fl(s.getLeftSiblingID())})}function fl(s){return new va({createdAt:_(s.getCreatedAt()),offset:s.getOffset()})}function yS(s){const n=new rg;if(s instanceof _a){const t=s,i=new ic;i.parentCreatedAt=_(t.getParentCreatedAt()),i.key=t.getKey(),i.value=Ku(t.getValue()),i.executedAt=_(t.getExecutedAt()),n.body.case="set",n.body.value=i}else if(s instanceof Aa){const t=s,i=new ac;i.parentCreatedAt=_(t.getParentCreatedAt()),i.prevCreatedAt=_(t.getPrevCreatedAt()),i.value=Ku(t.getValue()),i.executedAt=_(t.getExecutedAt()),n.body.case="add",n.body.value=i}else if(s instanceof Bn){const t=s,i=new sc;i.parentCreatedAt=_(t.getParentCreatedAt()),i.prevCreatedAt=_(t.getPrevCreatedAt()),i.createdAt=_(t.getCreatedAt()),i.executedAt=_(t.getExecutedAt()),n.body.case="move",n.body.value=i}else if(s instanceof er){const t=s,i=new oc;i.parentCreatedAt=_(t.getParentCreatedAt()),i.createdAt=_(t.getCreatedAt()),i.executedAt=_(t.getExecutedAt()),n.body.case="remove",n.body.value=i}else if(s instanceof xl){const t=s,i=new lc;i.parentCreatedAt=_(t.getParentCreatedAt()),i.from=Yu(t.getFromPos()),i.to=Yu(t.getToPos()),i.content=t.getContent();const l=i.attributes;for(const[c,d]of t.getAttributes())l[c]=d;i.executedAt=_(t.getExecutedAt()),n.body.case="edit",n.body.value=i}else if(s instanceof Nl){const t=s,i=new uc;i.parentCreatedAt=_(t.getParentCreatedAt()),i.from=Yu(t.getFromPos()),i.to=Yu(t.getToPos());const l=i.attributes;for(const[c,d]of t.getAttributes())l[c]=d;i.executedAt=_(t.getExecutedAt()),n.body.case="style",n.body.value=i}else if(s instanceof ro){const t=s,i=new cc;i.parentCreatedAt=_(t.getParentCreatedAt()),i.value=Ku(t.getValue()),i.executedAt=_(t.getExecutedAt()),n.body.case="increase",n.body.value=i}else if(s instanceof Dl){const t=s,i=new fc;i.parentCreatedAt=_(t.getParentCreatedAt()),i.from=Gu(t.getFromPos()),i.to=Gu(t.getToPos()),i.contents=pA(t.getContents()),i.splitLevel=t.getSplitLevel(),i.executedAt=_(t.getExecutedAt()),n.body.case="treeEdit",n.body.value=i}else if(s instanceof Pi){const t=s,i=new hc;i.parentCreatedAt=_(t.getParentCreatedAt()),i.from=Gu(t.getFromPos()),i.to=Gu(t.getToPos());const l=t.getAttributesToRemove();if(l.length>0)i.attributesToRemove=l;else{const c=i.attributes;for(const[d,g]of t.getAttributes())c[d]=g}i.executedAt=_(t.getExecutedAt()),n.body.case="treeStyle",n.body.value=i}else if(s instanceof Hi){const t=s,i=new dc;i.parentCreatedAt=_(t.getParentCreatedAt()),i.createdAt=_(t.getCreatedAt()),i.value=Ku(t.getValue()),i.executedAt=_(t.getExecutedAt()),n.body.case="arraySet",n.body.value=i}else throw new D(x.ErrUnimplemented,"unimplemented operation");return n}function fA(s){const n=[];for(const t of s)n.push(yS(t));return n}function hA(s){const n=new Q0({id:dS(s.getID()),message:s.getMessage()});return s.hasOperations()&&(n.operations=fA(s.getOperations())),s.hasPresenceChange()&&(n.presenceChange=lA(s.getPresenceChange())),n}function dA(s){const n=[];for(const t of s)n.push(hA(t));return n}function gA(s){const n=[];for(const t of s)n.push(new _0({key:t.getStrKey(),element:cg(t.getValue())}));return n}function mA(s){const n=[];for(const t of s)n.push(new bc({element:cg(t.getValue())}));return n}function yA(s){const n=[];for(const t of s){const i=new Tc;i.id=cA(t.getID()),i.value=t.getValue().getContent(),i.removedAt=_(t.getRemovedAt());const l=i.attributes,c=t.getValue().getAttrs();for(const d of c){const g=new Fs;g.value=d.getValue(),g.updatedAt=_(d.getUpdatedAt()),l[d.getKey()]=g}n.push(i)}return n}function pA(s){const n=[];if(!s||!s.length)return n;for(const t of s)n.push(new wc({content:ug(t)}));return n}function vA(s){const n={};for(const t of s)n[t.getKey()]=new Fs({value:t.getValue(),updatedAt:_(t.getUpdatedAt()),isRemoved:t.isRemoved()});return n}function ug(s){if(!s)return[];const n=[];return zc(s,(t,i)=>{const l=new pl({id:fl(t.id),type:t.type,removedAt:_(t.removedAt),depth:i});t.isText&&(l.value=t.value),t.insPrevID&&(l.insPrevId=fl(t.insPrevID)),t.insNextID&&(l.insNextId=fl(t.insNextID)),t.attrs&&(l.attributes=vA(t.attrs)),n.push(l)}),n}function SA(s){const n=new Le;return n.body.case="jsonObject",n.body.value=new gc({nodes:gA(s.getRHT()),createdAt:_(s.getCreatedAt()),movedAt:_(s.getMovedAt()),removedAt:_(s.getRemovedAt())}),n}function pS(s){const n=new Le;return n.body.case="jsonArray",n.body.value=new mc({nodes:mA(s.getElements()),createdAt:_(s.getCreatedAt()),movedAt:_(s.getMovedAt()),removedAt:_(s.getRemovedAt())}),n}function bA(s){const n=new Le;return n.body.case="primitive",n.body.value=new yc({type:gS(s.getType()),value:s.toBytes(),createdAt:_(s.getCreatedAt()),movedAt:_(s.getMovedAt()),removedAt:_(s.getRemovedAt())}),n}function TA(s){const n=new Le;return n.body.case="text",n.body.value=new pc({nodes:yA(s.getRGATreeSplit()),createdAt:_(s.getCreatedAt()),movedAt:_(s.getMovedAt()),removedAt:_(s.getRemovedAt())}),n}function wA(s){const n=new Le;return n.body.case="counter",n.body.value=new vc({type:mS(s.getType()),value:s.toBytes(),createdAt:_(s.getCreatedAt()),movedAt:_(s.getMovedAt()),removedAt:_(s.getRemovedAt())}),n}function vS(s){const n=new Le;return n.body.case="tree",n.body.value=new Sc({nodes:ug(s.getRoot()),createdAt:_(s.getCreatedAt()),movedAt:_(s.getMovedAt()),removedAt:_(s.getRemovedAt())}),n}function cg(s){if(s instanceof Ee)return SA(s);if(s instanceof xe)return pS(s);if(s instanceof Gt)return bA(s);if(s instanceof Fe)return TA(s);if(s instanceof Ue)return wA(s);if(s instanceof Qe)return vS(s);throw new D(x.ErrUnimplemented,"unimplemented element")}function AA(s){return new ji({documentKey:s.getDocumentKey(),checkpoint:uA(s.getCheckpoint()),isRemoved:s.getIsRemoved(),changes:dA(s.getChanges()),snapshot:s.getSnapshot(),versionVector:lg(s.getVersionVector())})}function sl(s){if(!(s instanceof Ut))return{};const n=s.findDetails(V1);for(const t of n)return t.metadata;return{}}function Hs(s){return sl(s).code??""}function cd(s,n){return s instanceof Ut&&Hs(s)===n}function SS(s){return Cn.of(s.clientSeq,BigInt(s.lamport),mg(s.actorId),fg(s.versionVector),BigInt(s.serverSeq))}function fg(s){if(!s)return;const n=new Ys;return Object.entries(s.vector).forEach(([t,i])=>{const l=Uc(KA(t));n.set(l,BigInt(i.toString()))}),n}function tt(s){if(s)return An.of(BigInt(s.lamport),s.delimiter,mg(s.actorId))}function hg(s){const n={};return Object.entries(s.data).forEach(([t,i])=>{n[t]=JSON.parse(i)}),n}function EA(s){const n=s.type;if(n===Fa.PUT){const t=hg(s.presence);return{type:tr.Put,presence:t}}if(n===Fa.CLEAR)return{type:tr.Clear};throw new D(x.ErrInvalidType,`unsupported type: ${n}`)}function xA(s){const n=new Map;return Object.entries(s).forEach(([t,i])=>{n.set(t,hg(i))}),n}function bS(s){switch(s){case ft.NULL:return qt.Null;case ft.BOOLEAN:return qt.Boolean;case ft.INTEGER:return qt.Integer;case ft.LONG:return qt.Long;case ft.DOUBLE:return qt.Double;case ft.STRING:return qt.String;case ft.BYTES:return qt.Bytes;case ft.DATE:return qt.Date}throw new D(x.ErrUnimplemented,`unimplemented value type: ${s}`)}function Oc(s){switch(s){case ft.INTEGER_CNT:return nr.Int;case ft.LONG_CNT:return nr.Long}throw new D(x.ErrUnimplemented,`unimplemented value type: ${s}`)}function $u(s){switch(s.type){case ft.JSON_OBJECT:return s.value?DS(s.value):Ee.create(tt(s.createdAt));case ft.JSON_ARRAY:return s.value?PA(s.value):xe.create(tt(s.createdAt));case ft.TEXT:return Fe.create(no.create(),tt(s.createdAt));case ft.TREE:return HA(s.value);case ft.NULL:case ft.BOOLEAN:case ft.INTEGER:case ft.LONG:case ft.DOUBLE:case ft.STRING:case ft.BYTES:case ft.DATE:return Gt.of(Gt.valueFromBytes(bS(s.type),s.value),tt(s.createdAt));case ft.INTEGER_CNT:case ft.LONG_CNT:return Ue.create(Oc(s.type),Ue.valueFromBytes(Oc(s.type),s.value),tt(s.createdAt))}}function Xu(s){return Mn.of(Wn.of(tt(s.createdAt),s.offset),s.relativeOffset)}function TS(s){return Wn.of(tt(s.createdAt),s.offset)}function NA(s){const n=Tl.create(s.value);Object.entries(s.attributes).forEach(([i,l])=>{n.setAttr(i,l.value,tt(l.updatedAt))});const t=ba.create(TS(s.id),n);return t.setRemovedAt(tt(s.removedAt)),t}function Ps(s){return zn.of(hl(s.parentId),hl(s.leftSiblingId))}function hl(s){return Se.of(tt(s.createdAt),s.offset)}function DA(s){if(!s.length)return;const n=[];return s.forEach(t=>{const i=dg(t.content);n.push(i)}),n}function dg(s){if(s.length===0)return;const n=[];for(const l of s)n.push(kA(l));const t=n[n.length-1],i=new Map;i.set(s[n.length-1].depth,n[n.length-1]);for(let l=n.length-2;l>=0;l--)i.get(s[l].depth-1).prepend(n[l]),i.set(s[l].depth,n[l]);return t.updateDescendantsSize(),t.updateDescendantsSize(!0),Qe.create(t,Qs).getRoot()}function OA(s){const n=Vi.create();for(const[t,i]of Object.entries(s))n.setInternal(t,i.value,tt(i.updatedAt),i.isRemoved);return n}function kA(s){const n=hl(s.id),t=Ze.create(n,s.type),i=Object.entries(s.attributes);return t.isText?t.value=s.value:i.length&&(t.attrs=OA(s.attributes)),s.insPrevId&&(t.insPrevID=hl(s.insPrevId)),s.insNextId&&(t.insNextID=hl(s.insNextId)),t.removedAt=tt(s.removedAt),t}function wS(s){if(s.body.case==="set"){const n=s.body.value;return _a.create(n.key,$u(n.value),tt(n.parentCreatedAt),tt(n.executedAt))}else if(s.body.case==="add"){const n=s.body.value;return Aa.create(tt(n.parentCreatedAt),tt(n.prevCreatedAt),$u(n.value),tt(n.executedAt))}else if(s.body.case==="move"){const n=s.body.value;return Bn.create(tt(n.parentCreatedAt),tt(n.prevCreatedAt),tt(n.createdAt),tt(n.executedAt))}else if(s.body.case==="remove"){const n=s.body.value;return er.create(tt(n.parentCreatedAt),tt(n.createdAt),tt(n.executedAt))}else if(s.body.case==="edit"){const n=s.body.value,t=new Map;return Object.entries(n.attributes).forEach(([i,l])=>{t.set(i,l)}),xl.create(tt(n.parentCreatedAt),Xu(n.from),Xu(n.to),n.content,t,tt(n.executedAt))}else if(s.body.case==="style"){const n=s.body.value,t=new Map;return Object.entries(n.attributes).forEach(([i,l])=>{t.set(i,l)}),Nl.create(tt(n.parentCreatedAt),Xu(n.from),Xu(n.to),t,tt(n.executedAt))}else if(s.body.case==="increase"){const n=s.body.value;return ro.create(tt(n.parentCreatedAt),$u(n.value),tt(n.executedAt))}else if(s.body.case==="treeEdit"){const n=s.body.value;return Dl.create(tt(n.parentCreatedAt),Ps(n.from),Ps(n.to),DA(n.contents),n.splitLevel,tt(n.executedAt))}else if(s.body.case==="treeStyle"){const n=s.body.value,t=new Map,i=n.attributesToRemove;return(i==null?void 0:i.length)>0?Pi.createTreeRemoveStyleOperation(tt(n.parentCreatedAt),Ps(n.from),Ps(n.to),i,tt(n.executedAt)):(Object.entries(n.attributes).forEach(([l,c])=>{t.set(l,c)}),Pi.create(tt(n.parentCreatedAt),Ps(n.from),Ps(n.to),t,tt(n.executedAt)))}else if(s.body.case==="arraySet"){const n=s.body.value;return Hi.create(tt(n.parentCreatedAt),tt(n.createdAt),$u(n.value),tt(n.executedAt))}else throw new D(x.ErrUnimplemented,"unimplemented operation")}function CA(s){const n=[];for(const t of s){const i=wS(t);i&&n.push(i)}return n}function AS(s){const n=[];for(const t of s)n.push(eo.create({id:SS(t.id),operations:CA(t.operations),presenceChange:t.presenceChange?EA(t.presenceChange):void 0,message:t.message}));return n}function IA(s){return Gs.of(BigInt(s.serverSeq),s.clientSeq)}function RA(s){return Mc.create(s.documentKey,IA(s.checkpoint),s.isRemoved,AS(s.changes),fg(s.versionVector),s.snapshot)}function ES(s){const n=new _s;for(const i of s.nodes){const l=gg(i.element);n.set(i.key,l,l.getPositionedAt())}const t=new Ee(tt(s.createdAt),n);return t.setMovedAt(tt(s.movedAt)),t.setRemovedAt(tt(s.removedAt)),t}function xS(s){const n=new bl;for(const i of s.nodes)n.insert(gg(i.element));const t=new xe(tt(s.createdAt),n);return t.setMovedAt(tt(s.movedAt)),t.setRemovedAt(tt(s.removedAt)),t}function BA(s){const n=Gt.of(Gt.valueFromBytes(bS(s.type),s.value),tt(s.createdAt));return n.setMovedAt(tt(s.movedAt)),n.setRemovedAt(tt(s.removedAt)),n}function zA(s){const n=new no;let t=n.getHead();for(const l of s.nodes){const c=n.insertAfter(t,NA(l));l.insPrevId&&c.setInsPrev(n.findNode(TS(l.insPrevId))),t=c}const i=new Fe(n,tt(s.createdAt));return i.setMovedAt(tt(s.movedAt)),i.setRemovedAt(tt(s.removedAt)),i}function MA(s){const n=Ue.create(Oc(s.type),Ue.valueFromBytes(Oc(s.type),s.value),tt(s.createdAt));return n.setMovedAt(tt(s.movedAt)),n.setRemovedAt(tt(s.removedAt)),n}function NS(s){const n=dg(s.nodes);return Qe.create(n,tt(s.createdAt))}function gg(s){if(s.body.case==="jsonObject")return ES(s.body.value);if(s.body.case==="jsonArray")return xS(s.body.value);if(s.body.case==="primitive")return BA(s.body.value);if(s.body.case==="text")return zA(s.body.value);if(s.body.case==="counter")return MA(s.body.value);if(s.body.case==="tree")return NS(s.body.value);throw new D(x.ErrUnimplemented,"unimplemented element")}function UA(s){return s.map(n=>({path:n.path,type:n.type}))}function LA(s){if(!s)return{root:Ee.create(Qs),presences:new Map};const n=gd.fromBinary(s);return{root:gg(n.root),presences:xA(n.presences)}}function JA(s){const n=lg(s);return Uc(n.toBinary())}function qA(s){const n=yg(s),t=Rc.fromBinary(n);return fg(t)}function DS(s){if(!s)throw new D(x.ErrInvalidArgument,"bytes is empty");const n=Le.fromBinary(s);return ES(n.body.value)}function OS(s){return cg(s).toBinary()}function PA(s){if(!s)throw new D(x.ErrInvalidArgument,"bytes is empty");const n=Le.fromBinary(s);return xS(n.body.value)}function VA(s){return pS(s).toBinary()}function HA(s){if(!s)throw new D(x.ErrInvalidArgument,"bytes is empty");const n=Le.fromBinary(s);return NS(n.body.value)}function jA(s){return vS(s).toBinary()}function Uc(s){return s?Array.from(s).map(n=>n.toString(16).padStart(2,"0")).join(""):""}function mg(s){return Uc(s)}function yg(s){return new Uint8Array(s.match(/.{1,2}/g).map(n=>parseInt(n,16)))}function KA(s){if(typeof window<"u"&&typeof window.atob=="function"){const n=window.atob(s),t=n.length,i=new Uint8Array(t);for(let l=0;l<t;l++)i[l]=n.charCodeAt(l);return i}else if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u"){const n=globalThis.Buffer;return new Uint8Array(n.from(s,"base64"))}else throw new Error("No base64 decoder available")}function Lc(s){return yg(s)}function YA(s){if(typeof window<"u"&&typeof window.btoa=="function"){let n="";for(let t=0;t<s.byteLength;t++)n+=String.fromCharCode(s[t]);return window.btoa(n)}else{if(typeof globalThis<"u"&&typeof globalThis.Buffer<"u")return globalThis.Buffer.from(s).toString("base64");throw new Error("No base64 encoder available")}}function GA(s){const n=Ic.fromBinary(s);return SS(n)}function $A(s){const n=rg.fromBinary(s);return wS(n)}const Zt={fromPresence:hg,toChangePack:AA,fromChangePack:RA,fromChanges:AS,toTreeNodes:ug,fromTreeNodes:dg,objectToBytes:OS,bytesToObject:DS,bytesToSnapshot:LA,bytesToHex:Uc,hexToBytes:yg,toHexString:mg,toUint8Array:Lc,toOperation:yS,toChangeID:dS,PbChangeID:Ic,bytesToChangeID:GA,bytesToOperation:$A,versionVectorToHex:JA,hexToVersionVector:qA,fromSchemaRules:UA};var ze=(s=>(s[s.Trivial=0]="Trivial",s[s.Debug=1]="Debug",s[s.Info=2]="Info",s[s.Warn=3]="Warn",s[s.Error=4]="Error",s[s.Fatal=5]="Fatal",s))(ze||{});let ja=3;function XA(s){ja=s}const X={trivial:(...s)=>{ja>0||typeof console<"u"&&console.log("YORKIE T:",...s)},debug:(...s)=>{ja>1||typeof console<"u"&&console.log("YORKIE D:",...s)},info:(...s)=>{ja>2||typeof console<"u"&&console.log("YORKIE I:",...s)},warn:(...s)=>{ja>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...s):console.log("YORKIE W:",...s))},error:(...s)=>{ja>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...s):console.log("YORKIE E:",...s))},fatal:(...s)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...s):console.log("YORKIE F:",...s))},isEnabled:s=>ja<=s};function kS(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,s=>{const n=Math.random()*16|0;return(s==="x"?n:n&3|8).toString(16)})}const fd=()=>{};class ZA{constructor(n){h(this,"finalized",!1);h(this,"observers",[]);h(this,"finalError");try{n(this)}catch(t){this.error(t)}}next(n){this.forEachObserver(t=>{t.next(n)})}error(n){this.forEachObserver(t=>{t.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,t,i){let l;if(!n)throw new D(x.ErrInvalidArgument,"missing observer");if(this.finalized)throw new D(x.ErrRefused,"observable is finalized due to previous error");typeof n=="object"?l=n:l={next:n,error:t,complete:i},l.next===void 0&&(l.next=fd),l.error===void 0&&(l.error=fd),l.complete===void 0&&(l.complete=fd);const c=kS(),d=this.unsubscribeOne.bind(this,c);if(this.observers.push({subscriptionID:c,observer:l}),this.finalized)try{this.finalError?l.error(this.finalError):l.complete()}catch(g){X.warn(g)}return d}unsubscribeOne(n){var t;this.observers=(t=this.observers)==null?void 0:t.filter(i=>i.subscriptionID!==n)}forEachObserver(n){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,n)}sendOne(n,t){if(this.observers!==void 0&&this.observers[n]!==void 0)try{t(this.observers[n].observer)}catch(i){X.error(i)}}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.observers=void 0)}}function CS(s){const n=new ZA(s);return{subscribe:n.subscribe.bind(n),getProxy:()=>n}}class dl{constructor(n,t,i,l){h(this,"prevID");h(this,"nextID");h(this,"delimiter");h(this,"message");h(this,"root");h(this,"operations");h(this,"presenceChange");h(this,"previousPresence");h(this,"reversePresenceKeys");this.prevID=n,this.nextID=n.next(),this.delimiter=tS,this.root=t,this.operations=[],this.previousPresence=kn(i),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=l}static create(n,t,i,l){return new dl(n,t,i,l)}push(n){this.operations.push(n)}registerElement(n,t){this.root.registerElement(n,t)}registerRemovedElement(n){this.root.registerRemovedElement(n)}registerGCPair(n){this.root.registerGCPair(n)}getNextID(){return this.isPresenceOnlyChange()?this.prevID.next(!0).setLamport(this.prevID.getLamport()).setVersionVector(this.prevID.getVersionVector()):this.nextID}toChange(){const n=this.isPresenceOnlyChange()?this.prevID.next(!0):this.nextID;return eo.create({id:n,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}isPresenceOnlyChange(){return this.operations.length===0}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(n){this.presenceChange=n}setReversePresence(n,t){for(const i of Object.keys(n))t!=null&&t.addToHistory?this.reversePresenceKeys.add(i):this.reversePresenceKeys.delete(i)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const n={};for(const t of this.reversePresenceKeys)n[t]=this.previousPresence[t];return n}issueTimeTicket(){return this.delimiter+=1,this.nextID.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.nextID.createTimeTicket(this.delimiter)}acc(n){this.root.acc(n)}}function IS(s,n){const t=new wl(s);return new Proxy(n,t.getHandlers())}class wl{constructor(n){h(this,"context");h(this,"handlers");this.context=n,this.handlers={set:(t,i,l)=>(X.isEnabled(ze.Trivial)&&X.trivial(`obj[${i}]=${JSON.stringify(l)}`),wl.setInternal(n,t,i,l),!0),get:(t,i)=>(X.isEnabled(ze.Trivial)&&X.trivial(`obj[${i}]`),i==="getID"?()=>t.getCreatedAt():i==="toJSON"||i==="toString"?()=>t.toJSON():i==="toJS"?()=>t.toJS():i==="toJSForTest"?()=>t.toJSForTest():Ka(n,t.get(i))),ownKeys:t=>t.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(t,i)=>(X.isEnabled(ze.Trivial)&&X.trivial(`obj[${i}]`),wl.deleteInternal(n,t,i),!0)}}static setInternal(n,t,i,l){if(i.includes("."))throw new D(x.ErrInvalidObjectKey,"key must not contain the '.'.");const c=n.issueTimeTicket(),d=gl(n,l,c),g=t.set(i,d,c);n.registerElement(d,t),g&&n.registerRemovedElement(g),n.push(_a.create(i,d.deepcopy(),t.getCreatedAt(),c))}static buildObjectMembers(n,t){const i={};for(const[l,c]of Object.entries(t)){if(l.includes("."))throw new D(x.ErrInvalidObjectKey,"key must not contain the '.'.");const d=n.issueTimeTicket(),g=gl(n,c,d);i[l]=g}return i}static deleteInternal(n,t,i){const l=n.issueTimeTicket(),c=t.deleteByKey(i,l);c&&(n.push(er.create(t.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c))}getHandlers(){return this.handlers}}function FA(s,n){const t=new Ct(s,n);return new Proxy(n,t.getHandlers())}function m0(s){return typeof s=="string"||s instanceof String?!isNaN(s):!1}function QA(s){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(s)}class Ct{constructor(n,t){h(this,"context");h(this,"handlers");h(this,"array");this.context=n,this.array=t,this.handlers={get:(i,l,c)=>l==="getID"?()=>i.getCreatedAt():l==="getElementByID"?d=>{const g=i.getByID(d);if(!(!g||g.isRemoved()))return On(n,g)}:l==="getElementByIndex"?d=>{const g=i.get(d);return On(n,g)}:l==="getLast"?()=>On(n,i.getLast()):l==="delete"?d=>{const g=Ct.deleteInternalByIndex(n,i,d);return On(n,g)}:l==="deleteByID"?d=>{const g=Ct.deleteInternalByID(n,i,d);return On(n,g)}:l==="insertAfter"?(d,g)=>{const y=Ct.insertAfterInternal(n,i,d,g);return On(n,y)}:l==="insertIntegerAfter"?(d,g)=>{const y=Ct.insertIntegerAfterInternal(n,i,d,g);return On(n,y)}:l==="insertBefore"?(d,g)=>{const y=Ct.insertBeforeInternal(n,i,d,g);return On(n,y)}:l==="setValue"?(d,g)=>{const y=Ct.setValueInternal(n,i,d,g);return On(n,y)}:l==="moveBefore"?(d,g)=>{Ct.moveBeforeInternal(n,i,d,g)}:l==="moveAfter"?(d,g)=>{Ct.moveAfterInternal(n,i,d,g)}:l==="moveAfterByIndex"?(d,g)=>{Ct.moveAfterByIndexInternal(n,i,d,g)}:l==="moveFront"?d=>{Ct.moveFrontInternal(n,i,d)}:l==="moveLast"?d=>{Ct.moveLastInternal(n,i,d)}:m0(l)?Ka(n,i.get(Number(l))):l==="push"?d=>Ct.pushInternal(n,i,d):l==="splice"?(d,g,...y)=>Ct.splice(n,i,d,g,...y):l==="length"?i.length:typeof l=="symbol"&&l===Symbol.iterator?Ct.iteratorInternal.bind(this,n,i):l==="includes"?(d,g)=>Ct.includes(n,i,d,g):l==="indexOf"?(d,g)=>Ct.indexOf(n,i,d,g):l==="lastIndexOf"?(d,g)=>Ct.lastIndexOf(n,i,d,g):l==="toJSForTest"?()=>i.toJSForTest():l==="toTestString"?()=>Ct.toTestString(i):typeof l=="string"&&QA(l)?(...d)=>{const g=Array.from(i).map(y=>Ka(n,y));return Array.prototype[l].apply(g,d)}:Reflect.get(i,l,c),set:(i,l,c)=>{if(m0(l)){const d=Number(l);return Ct.setValueInternal(n,i,d,c),!0}return Reflect.set(i,l,c)},deleteProperty:(i,l)=>(X.isEnabled(ze.Trivial)&&X.trivial(`array[${l}]`),Ct.deleteInternalByIndex(n,i,Number.parseInt(l)),!0)}}static*iteratorInternal(n,t){for(const i of t)yield On(n,i)}static buildArrayElements(n,t){const i=[];for(const l of t){const c=n.issueTimeTicket(),d=gl(n,l,c);i.push(d)}return i}static pushInternal(n,t,i){return Ct.insertAfterInternal(n,t,t.getLastCreatedAt(),i),t.length}static moveBeforeInternal(n,t,i,l){const c=n.issueTimeTicket(),d=t.getPrevCreatedAt(i);t.moveAfter(d,l,c),n.push(Bn.create(t.getCreatedAt(),d,l,c))}static moveAfterInternal(n,t,i,l){const c=n.issueTimeTicket();n.push(Bn.create(t.getCreatedAt(),i,l,c)),t.moveAfter(i,l,c)}static moveAfterByIndexInternal(n,t,i,l){const c=t.get(i);if(!c)throw new D(x.ErrInvalidArgument,`index out of bounds: ${i}`);const d=t.get(l);if(!d)throw new D(x.ErrInvalidArgument,`index out of bounds: ${l}`);Ct.moveAfterInternal(n,t,c.getCreatedAt(),d.getCreatedAt())}static moveFrontInternal(n,t,i){const l=n.issueTimeTicket(),c=t.getHead();t.moveAfter(c.getCreatedAt(),i,l),n.push(Bn.create(t.getCreatedAt(),c.getCreatedAt(),i,l))}static moveLastInternal(n,t,i){const l=n.issueTimeTicket(),c=t.getLastCreatedAt();t.moveAfter(c,i,l),n.push(Bn.create(t.getCreatedAt(),c,i,l))}static insertAfterInternal(n,t,i,l){const c=n.issueTimeTicket(),d=gl(n,l,c);return t.insertAfter(i,d),n.registerElement(d,t),n.push(Aa.create(t.getCreatedAt(),i,d.deepcopy(),c)),d}static insertIntegerAfterInternal(n,t,i,l){const c=t.get(i);if(!c)throw new D(x.ErrInvalidArgument,`index out of bounds: ${i}`);return Ct.insertAfterInternal(n,t,c.getCreatedAt(),l),t}static insertBeforeInternal(n,t,i,l){return Ct.insertAfterInternal(n,t,t.getPrevCreatedAt(i),l)}static setValueInternal(n,t,i,l){const c=t.get(i);if(!c)throw new D(x.ErrInvalidArgument,`index out of bounds: ${i}`);return Ct.setByIndexInternal(n,t,c.getCreatedAt(),l),t}static setByIndexInternal(n,t,i,l){const c=n.issueTimeTicket(),d=gl(n,l,c),g=d.deepcopy();return n.push(Hi.create(t.getCreatedAt(),i,g,c)),t.set(i,d,c),n.registerElement(d,t),d}static deleteInternalByIndex(n,t,i){const l=n.issueTimeTicket(),c=t.deleteByIndex(i,l);if(c)return n.push(er.create(t.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c),c}static deleteInternalByID(n,t,i){const l=n.issueTimeTicket(),c=t.delete(i,l);return n.push(er.create(t.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c),c}static splice(n,t,i,l,...c){const d=t.length,g=i>=0?Math.min(i,d):Math.max(d+i,0),y=l===void 0?d:l<0?g:Math.min(g+l,d),v=[];for(let b=g;b<y;b++){const E=Ct.deleteInternalByIndex(n,t,g);if(E){const C=E.deepcopy();C.setRemovedAt(),v.push(Ka(n,C))}}if(c){let b=g===0?t.getHead().getID():t.get(g-1).getID();for(const E of c)b=Ct.insertAfterInternal(n,t,b,E).getID()}return v}static includes(n,t,i,l){var g;const c=t.length,d=l===void 0?0:l<0?Math.max(l+c,0):l;if(d>=c)return!1;if(Gt.isSupport(i))return Array.from(t).map(v=>Ka(n,v)).includes(i,d);for(let y=d;y<c;y++)if(((g=t.get(y))==null?void 0:g.getID())===i.getID())return!0;return!1}static indexOf(n,t,i,l){var g;const c=t.length,d=l===void 0?0:l<0?Math.max(l+c,0):l;if(d>=c)return-1;if(Gt.isSupport(i))return Array.from(t).map(v=>Ka(n,v)).indexOf(i,d);for(let y=d;y<c;y++)if(((g=t.get(y))==null?void 0:g.getID())===i.getID())return y;return-1}static lastIndexOf(n,t,i,l){var g;const c=t.length,d=l===void 0||l>=c?c-1:l<0?l+c:l;if(d<0)return-1;if(Gt.isSupport(i))return Array.from(t).map(v=>Ka(n,v)).lastIndexOf(i,d);for(let y=d;y>0;y--)if(((g=t.get(y))==null?void 0:g.getID())===i.getID())return y;return-1}static toTestString(n){return n.toTestString()}getHandlers(){return this.handlers}}class pg{constructor(n,t){h(this,"context");h(this,"text");this.context=n,this.text=t}initialize(n,t){this.context=n,this.text=t}getID(){return this.text.getID()}edit(n,t,i,l){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");if(n>t)throw new D(x.ErrInvalidArgument,"from should be less than or equal to to");const c=this.text.indexRangeToPosRange(n,t);X.isEnabled(ze.Debug)&&X.debug(`EDIT: f:${n}->${c[0].toTestString()}, t:${t}->${c[1].toTestString()} c:${i}`);const d=l?to(l):void 0,g=this.context.issueTimeTicket(),[,y,v,b]=this.text.edit(c,i,g,d);this.context.acc(v);for(const E of y)this.context.registerGCPair(E);return this.context.push(new xl(this.text.getCreatedAt(),c[0],c[1],i,d?new Map(Object.entries(d)):new Map,g)),this.text.findIndexesFromRange(b)}delete(n,t){return this.edit(n,t,"")}empty(){return this.edit(0,this.length,"")}setStyle(n,t,i){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");if(n>t)throw new D(x.ErrInvalidArgument,"from should be less than or equal to to");const l=this.text.indexRangeToPosRange(n,t);X.isEnabled(ze.Debug)&&X.debug(`STYL: f:${n}->${l[0].toTestString()}, t:${t}->${l[1].toTestString()} a:${JSON.stringify(i)}`);const c=to(i),d=this.context.issueTimeTicket(),[g,y]=this.text.setStyle(l,c,d);this.context.acc(y);for(const v of g)this.context.registerGCPair(v);return this.context.push(new Nl(this.text.getCreatedAt(),l[0],l[1],new Map(Object.entries(c)),d)),!0}indexRangeToPosRange(n){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");const t=this.text.indexRangeToPosRange(n[0],n[1]);return[t[0].toStruct(),t[1].toStruct()]}posRangeToIndexRange(n){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");const t=this.text.findIndexesFromRange([Mn.fromStruct(n[0]),Mn.fromStruct(n[1])]);return[t[0],t[1]]}toTestString(){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(n,t){if(!this.context||!this.text)throw new D(x.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(n,t)}}let vg=class{constructor(n,t){h(this,"valueType");h(this,"value");h(this,"context");h(this,"counter");this.valueType=n,this.value=t}initialize(n,t){this.valueType=t.getValueType(),this.context=n,this.counter=t,this.value=t.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(n){if(!this.context||!this.counter)throw new D(x.ErrNotInitialized,"Counter is not initialized yet");const t=this.context.issueTimeTicket(),i=Gt.of(n,t);if(!i.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof i.getValue()}`);return this.counter.increase(i),this.context.push(ro.create(this.counter.getCreatedAt(),i,t)),this}toJSForTest(){if(!this.context||!this.counter)throw new D(x.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}};function Sg(s){if(s.isText)return{type:s.type,value:s.value};const n={type:s.type,children:s.children.map(t=>Sg(t))};return s.attrs&&(n.attributes=qi(s.attrs.toObject())),n}function _A(s,n){const t={type:s.isText?s.parent.type:s.type,children:s.isText?s.parent.getChildrenText().length===n?[]:[{type:_n,value:s.parent.getChildrenText().slice(n)}]:s.children.slice(n).map(i=>Sg(i))};return s.attrs?t.attributes=qi(s.attrs.toObject()):s.isText&&s.parent.attrs&&(t.attributes=qi(s.parent.attrs.toObject())),t}function WA(s,n){const{node:t}=s,i=[...n].slice(0,-1),l=t.isText?t.parent.getChildrenText().length:t.children.length,c=[...i,l],d=[...i],g=[];d[d.length-1]+=1,n.every((v,b)=>v===c[b])||g.push({fromPath:[...n],toPath:c});const y=_A(t,n[n.length-1]);return y&&g.push({fromPath:d,toPath:d,content:y}),g}function tE(s,n){const{node:t,offset:i}=s,l=t.children[i],c=t.children[i-1],{children:d}=l,g=[...n].slice(0,-1),y=[{fromPath:[...n],toPath:[...g,i+1]}];if(!l.children.length)return y;const v=[...g,i-1,c.hasTextChild()?c.getChildrenText().length:c.children.length],b=d.map(E=>Sg(E));return y.push({fromPath:v,toPath:v,content:b}),y}function bg(s,n,t){const{type:i}=s,l=t.issueTimeTicket();if(i===_n){RS(s);const{value:c}=s,d=Ze.create(Se.of(l,0),i,c);n.append(d)}else{const{children:c=[]}=s,{attributes:d}=s;let g;if(typeof d=="object"&&!sS(d)){const v=to(d);g=new Vi;for(const[b,E]of Object.entries(v))g.set(b,E,l)}const y=Ze.create(Se.of(l,0),i,void 0,g);n.append(y);for(const v of c)bg(v,y,t)}}function eE(s,n){const{type:t}=n,i=s.issueTimeTicket();let l;if(n.type===_n){const{value:c}=n;l=Ze.create(Se.of(i,0),t,c)}else if(n){const{children:c=[]}=n,{attributes:d}=n;let g;if(typeof d=="object"&&!sS(d)){const y=to(d);g=new Vi;for(const[v,b]of Object.entries(y))g.set(v,b,i)}l=Ze.create(Se.of(s.issueTimeTicket(),0),t,void 0,g);for(const y of c)bg(y,l,s)}return l}function RS(s){if(!s.value.length)throw new D(x.ErrInvalidArgument,"text node cannot have empty value");return!0}function y0(s){if(!s.length)return!0;if(s[0].type===_n)for(const t of s){const{type:i}=t;if(i!==_n)throw new D(x.ErrInvalidArgument,"element node and text node cannot be passed together");RS(t)}else for(const t of s){const{type:i}=t;if(i===_n)throw new D(x.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Tg{constructor(n){h(this,"initialRoot");h(this,"context");h(this,"tree");this.initialRoot=n}initialize(n,t){this.context=n,this.tree=t}getID(){return this.tree.getID()}buildRoot(n){if(!this.initialRoot)return Ze.create(Se.of(n.issueTimeTicket(),0),F1);const t=Ze.create(Se.of(n.issueTimeTicket(),0),this.initialRoot.type);for(const i of this.initialRoot.children)bg(i,t,n);return t}getSize(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new D(x.ErrInvalidArgument,"path should not be empty");const t=this.tree.pathToTreePos(n),i=WA(t,n);for(const l of i){const{fromPath:c,toPath:d,content:g}=l,y=this.tree.pathToPos(c),v=this.tree.pathToPos(d);this.editInternal(y,v,g?[g]:[],0)}}mergeByPath(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new D(x.ErrInvalidArgument,"path should not be empty");const t=this.tree.pathToTreePos(n);if(t.node.isText)throw new D(x.ErrInvalidArgument,"text node cannot be merged");const i=tE(t,n);for(const l of i){const{fromPath:c,toPath:d,content:g}=l,y=this.tree.pathToPos(c),v=this.tree.pathToPos(d);this.editInternal(y,v,g??[],0)}}styleByPath(n,t){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new D(x.ErrInvalidArgument,"path should not be empty");const[i,l]=this.tree.pathToPosRange(n),c=this.context.issueTimeTicket(),d=t?to(t):void 0,[g,,y]=this.tree.style([i,l],d,c);this.context.acc(y);for(const v of g)this.context.registerGCPair(v);this.context.push(Pi.create(this.tree.getCreatedAt(),i,l,d?new Map(Object.entries(d)):new Map,c))}style(n,t,i){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(n>t)throw new D(x.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(n),c=this.tree.findPos(t),d=this.context.issueTimeTicket(),g=i?to(i):void 0,[y,,v]=this.tree.style([l,c],g,d);this.context.acc(v);for(const b of y)this.context.registerGCPair(b);this.context.push(Pi.create(this.tree.getCreatedAt(),l,c,g?new Map(Object.entries(g)):new Map,d))}removeStyle(n,t,i){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(n>t)throw new D(x.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(n),c=this.tree.findPos(t),d=this.context.issueTimeTicket(),[g,,y]=this.tree.removeStyle([l,c],i,d);this.context.acc(y);for(const v of g)this.context.registerGCPair(v);this.context.push(Pi.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),l,c,i,d))}editInternal(n,t,i,l=0){var v;if(i.length!==0&&i[0]&&(y0(i),i[0].type!==_n))for(const b of i){const{children:E=[]}=b;y0(E)}const c=this.context.getLastTimeTicket();let d=new Array;if(((v=i[0])==null?void 0:v.type)===_n){let b="";for(const E of i){const{value:C}=E;b+=C}d.push(Ze.create(Se.of(this.context.issueTimeTicket(),0),_n,b))}else d=i.map(b=>b&&eE(this.context,b)).filter(b=>b);const[,g,y]=this.tree.edit([n,t],d.length?d.map(b=>b==null?void 0:b.deepcopy()):void 0,l,c,()=>this.context.issueTimeTicket());this.context.acc(y);for(const b of g)this.context.registerGCPair(b);return this.context.push(Dl.create(this.tree.getCreatedAt(),n,t,d.length?d:void 0,l,c)),!0}editByPath(n,t,i,l=0){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==t.length)throw new D(x.ErrInvalidArgument,"path length should be equal");if(!n.length||!t.length)throw new D(x.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),d=this.tree.pathToPos(t);return this.editInternal(c,d,i?[i]:[],l)}editBulkByPath(n,t,i,l=0){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==t.length)throw new D(x.ErrInvalidArgument,"path length should be equal");if(!n.length||!t.length)throw new D(x.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),d=this.tree.pathToPos(t);return this.editInternal(c,d,i,l)}edit(n,t,i,l=0){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(n>t)throw new D(x.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),d=this.tree.findPos(t);return this.editInternal(c,d,i?[i]:[],l)}editBulk(n,t,i,l=0){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");if(n>t)throw new D(x.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),d=this.tree.findPos(t);return this.editInternal(c,d,i,l)}toXML(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(n)}pathToIndex(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(n)}pathRangeToPosRange(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");const t=[this.tree.pathToIndex(n[0]),this.tree.pathToIndex(n[1])],i=this.tree.indexRangeToPosRange(t);return[i[0].toStruct(),i[1].toStruct()]}indexRangeToPosRange(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(n)}posRangeToIndexRange(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");const t=[zn.fromStruct(n[0]),zn.fromStruct(n[1])];return this.tree.posRangeToIndexRange(t)}posRangeToPathRange(n){if(!this.context||!this.tree)throw new D(x.ErrNotInitialized,"Tree is not initialized yet");const t=[zn.fromStruct(n[0]),zn.fromStruct(n[1])];return this.tree.posRangeToPathRange(t)}}function p0(s,n){return IS(s,n)}function On(s,n){if(n){if(n instanceof Gt)return n;if(n instanceof Ee)return IS(s,n);if(n instanceof xe)return FA(s,n);if(n instanceof Fe)return new pg(s,n);if(n instanceof Ue){const t=new vg(nr.Int,0);return t.initialize(s,n),t}else if(n instanceof Qe){const t=new Tg;return t.initialize(s,n),t}}else return;throw new TypeError(`Unsupported type of element: ${typeof n}`)}function Ka(s,n){const t=On(s,n);return t instanceof Gt?t.getValue():t}function gl(s,n,t){let i;if(Gt.isSupport(n))i=Gt.of(n,t);else if(Array.isArray(n))i=xe.create(t,Ct.buildArrayElements(s,n));else if(typeof n=="object")n instanceof pg?(i=Fe.create(no.create(),t),n.initialize(s,i)):n instanceof vg?(i=Ue.create(n.getValueType(),n.getValue(),t),n.initialize(s,i)):n instanceof Tg?(i=Qe.create(n.buildRoot(s),t),n.initialize(s,i)):i=Ee.create(t,wl.buildObjectMembers(s,n));else throw new TypeError(`Unsupported type of value: ${typeof n}`);return i}class Al{constructor(n){h(this,"rootObject");h(this,"elementPairMapByCreatedAt");h(this,"gcElementSetByCreatedAt");h(this,"gcPairMap");h(this,"docSize");this.rootObject=n,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.docSize={live:{data:0,meta:0},gc:{data:0,meta:0}},this.registerElement(n,void 0),n.getDescendants(t=>{if(t.getRemovedAt()&&this.registerRemovedElement(t),t instanceof Fe||t instanceof Qe)for(const i of t.getGCPairs())this.registerGCPair(i);return!1})}static create(){return new Al(Ee.create(Qs))}findByCreatedAt(n){const t=this.elementPairMapByCreatedAt.get(n.toIDString());if(t)return t.element}findElementPairByCreatedAt(n){return this.elementPairMapByCreatedAt.get(n.toIDString())}createSubPaths(n){let t=this.elementPairMapByCreatedAt.get(n.toIDString());if(!t)return[];const i=[];for(;t.parent;){const l=t.element.getCreatedAt(),c=t.parent.subPathOf(l);if(c===void 0)throw new D(x.ErrInvalidArgument,`cant find the given element: ${l.toIDString()}`);i.unshift(c),t=this.elementPairMapByCreatedAt.get(t.parent.getCreatedAt().toIDString())}return i.unshift("$"),i}createPath(n){return this.createSubPaths(n).join(".")}registerElement(n,t){this.elementPairMapByCreatedAt.set(n.getCreatedAt().toIDString(),{parent:t,element:n}),ve(this.docSize.live,n.getDataSize()),n instanceof Sa&&n.getDescendants((i,l)=>(this.elementPairMapByCreatedAt.set(i.getCreatedAt().toIDString(),{parent:l,element:i}),ve(this.docSize.live,i.getDataSize()),!1))}deregisterElement(n){let t=0;const i=l=>{const c=l.getCreatedAt().toIDString();$a(this.docSize.gc,l.getDataSize()),this.elementPairMapByCreatedAt.delete(c),this.gcElementSetByCreatedAt.delete(c),t++};return i(n),n instanceof Sa&&n.getDescendants(l=>(i(l),!1)),t}registerRemovedElement(n){ve(this.docSize.gc,n.getDataSize()),$a(this.docSize.live,n.getDataSize()),this.docSize.live.meta+=Qn,this.gcElementSetByCreatedAt.add(n.getCreatedAt().toIDString())}registerGCPair(n){if(this.gcPairMap.get(n.child.toIDString())){this.gcPairMap.delete(n.child.toIDString());return}this.gcPairMap.set(n.child.toIDString(),n);const i=this.gcPairMap.get(n.child.toIDString()).child.getDataSize();ve(this.docSize.gc,i),$a(this.docSize.live,i),n.child instanceof pa||(this.docSize.live.meta+=Qn)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const n=new Set;for(const t of this.gcElementSetByCreatedAt){n.add(t);const i=this.elementPairMapByCreatedAt.get(t);i.element instanceof Sa&&i.element.getDescendants(l=>(n.add(l.getCreatedAt().toIDString()),!1))}return n.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){return this.docSize}deepcopy(){return new Al(this.rootObject.deepcopy())}garbageCollect(n){let t=0;for(const i of this.gcElementSetByCreatedAt){const l=this.elementPairMapByCreatedAt.get(i),c=l.element.getRemovedAt();c&&(n!=null&&n.afterOrEqual(c))&&(l.parent.purge(l.element),t+=this.deregisterElement(l.element))}for(const[,i]of this.gcPairMap){const l=i.child.getRemovedAt();l&&(n!=null&&n.afterOrEqual(l))&&(i.parent.purge(i.child),$a(this.docSize.gc,i.child.getDataSize()),this.gcPairMap.delete(i.child.toIDString()),t+=1)}return t}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}acc(n){ve(this.docSize.live,n)}*getGCElementPairs(){for(const n of this.gcElementSetByCreatedAt){const t=this.elementPairMapByCreatedAt.get(n);t&&(yield t)}}}class v0{constructor(n,t){h(this,"context");h(this,"presence");this.context=n,this.presence=t}set(n,t){for(const i of Object.keys(n))this.presence[i]=n[i];this.context.setPresenceChange({type:tr.Put,presence:kn(this.presence)}),this.context.setReversePresence(n,t)}get(n){return this.presence[n]}clear(){this.presence={},this.context.setPresenceChange({type:tr.Clear})}}const S0=50;class nE{constructor(){h(this,"undoStack",[]);h(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(n){this.undoStack.length>=S0&&this.undoStack.shift(),this.undoStack.push(n)}popUndo(){return this.undoStack.pop()}pushRedo(n){this.redoStack.length>=S0&&this.redoStack.shift(),this.redoStack.push(n)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}reconcileCreatedAt(n,t){const i=l=>{for(const c of l)for(const d of c)(d instanceof Hi||d instanceof er||d instanceof Bn)&&d.getCreatedAt()===n&&d.setCreatedAt(t),(d instanceof Aa||d instanceof Bn)&&d.getPrevCreatedAt()===n&&d.setPrevCreatedAt(t)};i(this.undoStack),i(this.redoStack)}}function rE(s,n){const t=[];for(const i of n){const l=iE(s,i.path),c=aE(l,i);if(!c.valid)for(const d of c.errors||[])t.push(d)}return{valid:t.length===0,errors:t}}function iE(s,n){if(!n.startsWith("$"))throw new Error(`Path must start with $, got ${n}`);const t=n.split(".");let i=s;for(let l=1;l<t.length;l++){const c=t[l];if(!(i instanceof Ee))return;i=i.get(c)}return i}function aE(s,n){switch(n.type){case"string":case"boolean":case"integer":case"double":case"long":case"date":case"bytes":case"null":return oE(s,n);case"object":if(!(s instanceof Ee))return{valid:!1,errors:[{path:n.path,message:`expected object at path ${n.path}`}]};break;case"array":if(!(s instanceof xe))return{valid:!1,errors:[{path:n.path,message:`expected array at path ${n.path}`}]};break;case"yorkie.Text":if(!(s instanceof Fe))return{valid:!1,errors:[{path:n.path,message:`expected yorkie.Text at path ${n.path}`}]};break;case"yorkie.Tree":if(!(s instanceof Qe))return{valid:!1,errors:[{path:n.path,message:`expected yorkie.Tree at path ${n.path}`}]};break;case"yorkie.Counter":if(!(s instanceof Ue))return{valid:!1,errors:[{path:n.path,message:`expected yorkie.Counter at path ${n.path}`}]};break;default:throw new Error(`Unknown rule type: ${n.type}`)}return{valid:!0}}function sE(s){switch(s){case"null":return qt.Null;case"boolean":return qt.Boolean;case"integer":return qt.Integer;case"long":return qt.Long;case"double":return qt.Double;case"string":return qt.String;case"bytes":return qt.Bytes;case"date":return qt.Date;default:throw new Error(`Unknown primitive type: ${s}`)}}function oE(s,n){return s instanceof Gt&&s.getType()===sE(n.type)?{valid:!0}:{valid:!1,errors:[{path:n.path,message:`expected ${n.type} at path ${n.path}`}]}}const lE="yorkie-devtools-panel",uE="yorkie-devtools-sdk";function cE(s){return[ue.StatusChanged,ue.Snapshot,ue.LocalChange,ue.RemoteChange,ue.Initialized,ue.Watched,ue.Unwatched,ue.PresenceChanged].includes(s.type)}function fE(s){return s.every(cE)}let js="disconnected";const b0=new Map,ec=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=ec);function Zu(s,n){(n!=null&&n.force||js!=="disconnected")&&window.postMessage({source:uE,...s},"*")}function hE(s){if(!s.isEnableDevtools()||typeof window>"u"||b0.has(s.getKey()))return;ec.set(s.getKey(),[]);const n=s.subscribe("all",t=>{fE(t)&&(ec.get(s.getKey()).push(t),js==="synced"&&Zu({msg:"doc::sync::partial",docKey:s.getKey(),event:t}))});b0.set(s.getKey(),[n]),Zu({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",t=>{var l;if(((l=t.data)==null?void 0:l.source)!==lE)return;switch(t.data.msg){case"devtools::connect":if(js!=="disconnected")break;js="connected",Zu({msg:"doc::available",docKey:s.getKey()}),X.info(`[YD] Devtools connected. Doc: ${s.getKey()}`);break;case"devtools::disconnect":js="disconnected",X.info(`[YD] Devtools disconnected. Doc: ${s.getKey()}`);break;case"devtools::subscribe":js="synced",Zu({msg:"doc::sync::full",docKey:s.getKey(),events:ec.get(s.getKey())}),X.info(`[YD] Devtools subscribed. Doc: ${s.getKey()}`);break}})}var ya=(s=>(s.Detached="detached",s.Attached="attached",s.Removed="removed",s))(ya||{}),ue=(s=>(s.StatusChanged="status-changed",s.ConnectionChanged="connection-changed",s.SyncStatusChanged="sync-status-changed",s.Snapshot="snapshot",s.LocalChange="local-change",s.RemoteChange="remote-change",s.Initialized="initialized",s.Watched="watched",s.Unwatched="unwatched",s.PresenceChanged="presence-changed",s.Broadcast="broadcast",s.LocalBroadcast="local-broadcast",s.AuthError="auth-error",s))(ue||{}),Ta=(s=>(s.Connected="connected",s.Disconnected="disconnected",s))(Ta||{}),Wd=(s=>(s.Synced="synced",s.SyncFailed="sync-failed",s))(Wd||{});class Bi{constructor(n,t){h(this,"key");h(this,"status");h(this,"opts");h(this,"maxSizeLimit");h(this,"schemaRules");h(this,"changeID");h(this,"checkpoint");h(this,"localChanges");h(this,"root");h(this,"presences");h(this,"clone");h(this,"internalHistory");h(this,"isUpdating");h(this,"onlineClients");h(this,"eventStream");h(this,"eventStreamObserver");h(this,"history");this.key=n,this.status="detached",this.opts=t||{},this.maxSizeLimit=0,this.schemaRules=[],this.changeID=iA,this.checkpoint=aA,this.localChanges=[],this.root=Al.create(),this.presences=new Map,this.onlineClients=new Set,this.internalHistory=new nE,this.isUpdating=!1,this.eventStream=CS(i=>this.eventStreamObserver=i),this.history={canUndo:()=>this.internalHistory.hasUndo()&&!this.isUpdating,canRedo:()=>this.internalHistory.hasRedo()&&!this.isUpdating,undo:()=>this.executeUndoRedo(!0),redo:()=>this.executeUndoRedo(!1)},hE(this)}update(n,t){var g,y,v;if(this.getStatus()==="removed")throw new D(x.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const i=this.changeID.getActorID(),l=dl.create(this.changeID,this.clone.root,this.clone.presences.get(i)||{},t);try{const b=p0(l,this.clone.root.getObject());this.presences.has(i)||this.clone.presences.set(i,{}),this.isUpdating=!0,n(b,new v0(l,this.clone.presences.get(i)))}catch(b){throw this.clone=void 0,b}finally{this.isUpdating=!1}const c=this.getSchemaRules();if(!l.isPresenceOnlyChange()&&c.length){const b=rE((g=this.clone)==null?void 0:g.root.getObject(),c);if(!b.valid)throw this.clone=void 0,new D(x.ErrDocumentSchemaValidationFailed,`schema validation failed: ${(y=b.errors)==null?void 0:y.map(E=>E.message).join(", ")}`)}const d=X1((v=this.clone)==null?void 0:v.root.getDocSize());if(!l.isPresenceOnlyChange()&&this.maxSizeLimit>0&&this.maxSizeLimit<d)throw this.clone=void 0,new D(x.ErrDocumentSizeExceedsLimit,`document size exceeded: ${d} > ${this.maxSizeLimit}`);if(l.hasChange()){X.isEnabled(ze.Trivial)&&X.trivial(`trying to update a local change: ${this.toJSON()}`);const b=l.toChange(),{opInfos:E,reverseOps:C}=b.execute(this.root,this.presences,Kt.Local);for(const V of b.getOperations())V instanceof Hi&&this.internalHistory.reconcileCreatedAt(V.getCreatedAt(),V.getValue().getCreatedAt());const O=l.getReversePresence();O&&C.push({type:"presence",value:O}),this.localChanges.push(b),C.length&&this.internalHistory.pushUndo(C),E.length&&this.internalHistory.clearRedo(),this.changeID=l.getNextID();const U=[];E.length&&U.push({type:"local-change",source:Kt.Local,value:{message:b.getMessage()||"",operations:E,actor:i,clientSeq:b.getID().getClientSeq(),serverSeq:b.getID().getServerSeq()},rawChange:this.isEnableDevtools()?b.toStruct():void 0}),b.hasPresenceChange()&&U.push({type:"presence-changed",source:Kt.Local,value:{clientID:i,presence:this.getPresence(i)}}),this.publish(U),X.isEnabled(ze.Trivial)&&X.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(n,t,i,l){if(typeof n=="string"){if(typeof t!="function")throw new D(x.ErrInvalidArgument,"Second argument must be a callback function");if(n==="presence"){const g=t;return this.eventStream.subscribe(y=>{for(const v of y)v.type!=="initialized"&&v.type!=="watched"&&v.type!=="unwatched"&&v.type!=="presence-changed"||g(v)},i,l)}if(n==="my-presence"){const g=t;return this.eventStream.subscribe(y=>{for(const v of y)v.type!=="initialized"&&v.type!=="presence-changed"||v.type==="presence-changed"&&v.value.clientID!==this.changeID.getActorID()||g(v)},i,l)}if(n==="others"){const g=t;return this.eventStream.subscribe(y=>{for(const v of y)v.type!=="watched"&&v.type!=="unwatched"&&v.type!=="presence-changed"||v.value.clientID!==this.changeID.getActorID()&&g(v)},i,l)}if(n==="connection"){const g=t;return this.eventStream.subscribe(y=>{for(const v of y)v.type==="connection-changed"&&g(v)},i,l)}if(n==="status"){const g=t;return this.eventStream.subscribe(y=>{for(const v of y)v.type==="status-changed"&&g(v)},i,l)}if(n==="sync"){const g=t;return this.eventStream.subscribe(y=>{for(const v of y)v.type==="sync-status-changed"&&g(v)},i,l)}if(n==="local-broadcast"){const g=t;return this.eventStream.subscribe(y=>{for(const v of y)v.type==="local-broadcast"&&g(v)},i)}if(n==="broadcast"){const g=t;return this.eventStream.subscribe(y=>{for(const v of y)v.type==="broadcast"&&g(v)},i)}if(n==="auth-error"){const g=t;return this.eventStream.subscribe(y=>{for(const v of y)v.type==="auth-error"&&g(v)},i)}if(n==="all"){const g=t;return this.eventStream.subscribe(g,i,l)}const c=n,d=t;return this.eventStream.subscribe(g=>{for(const y of g){if(y.type!=="local-change"&&y.type!=="remote-change")continue;const v=[];for(const b of y.value.operations)this.isSameElementOrChildOf(b.path,c)&&v.push(b);v.length&&d({...y,value:{...y.value,operations:v}})}},i,l)}if(typeof n=="function"){const c=n,d=t,g=i;return this.eventStream.subscribe(y=>{for(const v of y)v.type!=="snapshot"&&v.type!=="local-change"&&v.type!=="remote-change"||c(v)},d,g)}throw new D(x.ErrInvalidArgument,`"${n}" is not a valid`)}publish(n){this.eventStreamObserver&&this.eventStreamObserver.next(n)}applyChangePack(n){n.hasSnapshot()?this.applySnapshot(n.getCheckpoint().getServerSeq(),n.getVersionVector(),n.getSnapshot(),n.getCheckpoint().getClientSeq()):(this.applyChanges(n.getChanges(),Kt.Remote),this.removePushedLocalChanges(n.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(n.getCheckpoint()),n.hasSnapshot()||this.garbageCollect(n.getVersionVector()),n.getIsRemoved()&&this.applyStatus("removed"),X.isEnabled(ze.Trivial)&&X.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:kn(this.presences)})}createChangePack(){const n=Array.from(this.localChanges),t=this.checkpoint.increaseClientSeq(n.length);return Mc.create(this.key,t,!1,n,this.getVersionVector())}setActor(n){for(const t of this.localChanges)t.setActor(n);this.changeID=this.changeID.setActor(n)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getClone(){return this.clone}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const n=dl.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return p0(n,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}getMaxSizePerDocument(){return this.maxSizeLimit}setMaxSizePerDocument(n){this.maxSizeLimit=n}getSchemaRules(){return this.schemaRules}setSchemaRules(n){this.schemaRules=n}garbageCollect(n){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(n),this.root.garbageCollect(n))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getRootCRDT(){return this.root}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(n,t,i,l=-1){const{root:c,presences:d}=Zt.bytesToSnapshot(i);this.root=new Al(c),this.presences=d,this.changeID=this.changeID.setClocks(t.maxLamport(),t),this.clone=void 0,this.removePushedLocalChanges(l),this.applyChanges(this.localChanges,Kt.Local),this.publish([{type:"snapshot",source:Kt.Remote,value:{serverSeq:n.toString(),snapshot:this.isEnableDevtools()?Zt.bytesToHex(i):void 0,snapshotVector:Zt.versionVectorToHex(t)}}])}applyChanges(n,t){X.isEnabled(ze.Debug)&&X.debug(`trying to apply ${n.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),X.isEnabled(ze.Trivial)&&X.trivial(n.map(i=>`${i.getID().toTestString()}	${i.toTestString()}`).join(`
`));for(const i of n)this.applyChange(i,t);X.isEnabled(ze.Debug)&&X.debug(`after appling ${n.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(n,t){this.ensureClone(),n.execute(this.clone.root,this.clone.presences,t);const i=[],l=n.getID().getActorID();if(n.hasPresenceChange()&&this.onlineClients.has(l)){const d=n.getPresenceChange();switch(d.type){case tr.Put:i.push(this.presences.has(l)?{type:"presence-changed",source:t,value:{clientID:l,presence:d.presence}}:{type:"watched",source:Kt.Remote,value:{clientID:l,presence:d.presence}});break;case tr.Clear:i.push({type:"unwatched",source:Kt.Remote,value:{clientID:l,presence:this.getPresence(l)}}),this.removeOnlineClient(l);break}}const{opInfos:c}=n.execute(this.root,this.presences,t);if(this.changeID=this.changeID.syncClocks(n.getID()),c.length){const d=this.isEnableDevtools()?n.toStruct():void 0;i.push(t===Kt.Remote?{type:"remote-change",source:t,value:{actor:l,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:d}:{type:"local-change",source:t,value:{actor:l,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:d})}i.length&&this.publish(i)}applyWatchStream(n){if(n.body.case==="initialization"){const t=n.body.value.clientIds,i=new Set;for(const l of t)l!==this.changeID.getActorID()&&i.add(l);this.setOnlineClients(i),this.publish([{type:"initialized",source:Kt.Local,value:this.getPresences()}]);return}if(n.body.case==="event"){const{type:t,publisher:i}=n.body.value,l=[];if(t===Xa.DOCUMENT_WATCHED){if(this.onlineClients.has(i)&&this.hasPresence(i))return;this.addOnlineClient(i),this.hasPresence(i)&&l.push({type:"watched",source:Kt.Remote,value:{clientID:i,presence:this.getPresence(i)}})}else if(t===Xa.DOCUMENT_UNWATCHED){const c=this.getPresence(i);this.removeOnlineClient(i),c&&l.push({type:"unwatched",source:Kt.Remote,value:{clientID:i,presence:c}})}else if(t===Xa.DOCUMENT_BROADCAST&&n.body.value.body){const{topic:c,payload:d}=n.body.value.body,g=new TextDecoder;l.push({type:"broadcast",value:{clientID:i,topic:c,payload:JSON.parse(g.decode(d))}})}l.length&&this.publish(l)}}applyStatus(n){this.status=n,n==="detached"&&this.setActor(ag),this.publish([{source:n==="removed"?Kt.Remote:Kt.Local,type:"status-changed",value:n==="attached"?{status:n,actorID:this.changeID.getActorID()}:{status:n}}])}applyDocEventsForReplay(n){for(const t of n){if(t.type==="status-changed"){this.applyStatus(t.value.status),t.value.status==="attached"&&this.setActor(t.value.actorID);continue}if(t.type==="snapshot"){const{snapshot:i,serverSeq:l,snapshotVector:c}=t.value;if(!i)continue;this.applySnapshot(BigInt(l),Zt.hexToVersionVector(c),Zt.hexToBytes(i));continue}if(t.type==="local-change"||t.type==="remote-change"){if(!t.rawChange)continue;const i=eo.fromStruct(t.rawChange);this.applyChange(i,t.source)}if(t.type==="initialized"){const i=new Set;for(const{clientID:l,presence:c}of t.value)i.add(l),this.presences.set(l,c);this.setOnlineClients(i)}else if(t.type==="watched"){const{clientID:i,presence:l}=t.value;this.addOnlineClient(i),this.presences.set(i,l)}else if(t.type==="unwatched"){const{clientID:i}=t.value;this.removeOnlineClient(i),this.presences.delete(i)}else if(t.type==="presence-changed"){const{clientID:i,presence:l}=t.value;this.presences.set(i,l)}}}getValueByPath(n){if(!n.startsWith("$"))throw new D(x.ErrInvalidArgument,'path must start with "$"');const t=n.split(".");t.shift();let i=this.getRoot();for(const l of t)if(i=i[l],!i)return;return i}setOnlineClients(n){this.onlineClients=n}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(n){this.onlineClients.add(n)}removeOnlineClient(n){this.onlineClients.delete(n)}hasPresence(n){return this.presences.has(n)}getMyPresence(){if(this.status!=="attached")return{};const n=this.presences.get(this.changeID.getActorID());return n?kn(n):{}}getOthersPresences(){const n=[],t=this.changeID.getActorID();for(const i of this.onlineClients)i!==t&&this.presences.has(i)&&n.push({clientID:i,presence:kn(this.presences.get(i))});return n}getPresence(n){if(n===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(n))return;const t=this.presences.get(n);return t?kn(t):void 0}getPresences(){const n=[];n.push({clientID:this.changeID.getActorID(),presence:kn(this.getMyPresence())});for(const t of this.onlineClients)this.presences.has(t)&&n.push({clientID:t,presence:kn(this.presences.get(t))});return n}getPresenceForTest(n){const t=this.presences.get(n);return t?kn(t):void 0}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const n=this.getChangeID().getActorID();return this.getPresences().filter(t=>t.clientID!==n).sort((t,i)=>t.clientID>i.clientID?1:-1)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}broadcast(n,t,i){this.publish([{type:"local-broadcast",value:{topic:n,payload:t},options:i}])}getVersionVector(){return this.changeID.getVersionVector()}isSameElementOrChildOf(n,t){if(t===n)return!0;const i=n.split(".");return t.split(".").every((l,c)=>l===i[c])}removePushedLocalChanges(n){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>n);)this.localChanges.shift()}executeUndoRedo(n){if(this.isUpdating)throw new D(x.ErrRefused,`${n?"Undo":"Redo"} is not allowed during an update`);const t=n?this.internalHistory.popUndo():this.internalHistory.popRedo();if(!t)throw new D(x.ErrRefused,`There is no operation to be ${n?"undone":"redone"}`);this.ensureClone();const i=dl.create(this.changeID,this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const b of t){if(!(b instanceof Un)){new v0(i,kn(this.clone.presences.get(this.changeID.getActorID()))).set(b.value,{addToHistory:!0});continue}const E=i.issueTimeTicket();if(b.setExecutedAt(E),b instanceof Hi){const C=b.getCreatedAt();b.getValue().setCreatedAt(E),this.internalHistory.reconcileCreatedAt(C,E)}else if(b instanceof Aa){const C=b.getValue().getCreatedAt();b.getValue().setCreatedAt(E),this.internalHistory.reconcileCreatedAt(C,E)}i.push(b)}const l=i.toChange();l.execute(this.clone.root,this.clone.presences,Kt.UndoRedo);const{opInfos:c,reverseOps:d}=l.execute(this.root,this.presences,Kt.UndoRedo),g=i.getReversePresence();if(g&&d.push({type:"presence",value:g}),d.length&&(n?this.internalHistory.pushRedo(d):this.internalHistory.pushUndo(d)),!l.hasPresenceChange()&&!c.length)return;this.localChanges.push(l),this.changeID=i.getNextID();const y=this.changeID.getActorID(),v=[];c.length&&v.push({type:"local-change",source:Kt.UndoRedo,value:{message:l.getMessage()||"",operations:c,actor:y,clientSeq:l.getID().getClientSeq(),serverSeq:l.getID().getServerSeq()},rawChange:this.isEnableDevtools()?l.toStruct():void 0}),l.hasPresenceChange()&&v.push({type:"presence-changed",source:Kt.UndoRedo,value:{clientID:y,presence:this.getPresence(y)}}),this.publish(v)}}class T0{constructor(n,t,i,l,c){h(this,"resource");h(this,"resourceID");h(this,"syncMode");h(this,"changeEventReceived");h(this,"lastHeartbeatTime");h(this,"reconnectStreamDelay");h(this,"cancelled");h(this,"watchStream");h(this,"watchLoopTimerID");h(this,"watchAbortController");h(this,"unsubscribeBroadcastEvent");this.reconnectStreamDelay=n,this.resource=t,this.resourceID=i,this.syncMode=l,this.changeEventReceived=l!==void 0?!1:void 0,this.lastHeartbeatTime=Date.now(),this.cancelled=!1,this.unsubscribeBroadcastEvent=c}changeSyncMode(n){this.syncMode=n}needRealtimeSync(){return this.syncMode===ll.RealtimeSyncOff?!1:this.syncMode===ll.RealtimePushOnly?this.resource.hasLocalChanges():this.syncMode!==ll.Manual&&(this.resource.hasLocalChanges()||(this.changeEventReceived??!1))}needSync(n){return this.resource instanceof Bi?this.needRealtimeSync():this.syncMode===ll.Manual?!1:Date.now()-this.lastHeartbeatTime>=n}updateHeartbeatTime(){this.lastHeartbeatTime=Date.now()}async runWatchLoop(n){const t=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await n(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.cancelled||(this.watchLoopTimerID=setTimeout(t,this.reconnectStreamDelay))})}catch{}};await t()}cancelWatchStream(){this.cancelled=!0,this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}function dE(s,n){let t=n;return{authInterceptor:c=>async d=>(s&&d.header.set("x-api-key",s),t&&d.header.set("authorization",t),await c(d)),setToken:c=>{t=c}}}const gE="@yorkie-js/sdk",mE="0.6.35",w0={name:gE,version:mE};function yE(s){return n=>async t=>(s?t.header.set("x-yorkie-user-agent",s):t.header.set("x-yorkie-user-agent",w0.name+"/"+w0.version),await n(t))}const pE=s=>{try{if(JSON.stringify(s)===void 0)return!1}catch{return!1}return!0};var ol=(s=>(s.Detached="detached",s.Attached="attached",s.Removed="removed",s))(ol||{}),kc=(s=>(s.Changed="changed",s.Initialized="initialized",s))(kc||{});class Ya{constructor(n){h(this,"key");h(this,"status");h(this,"actorID");h(this,"presenceID");h(this,"count");h(this,"seq");h(this,"eventStream");h(this,"eventStreamObserver");this.key=n,this.status="detached",this.count=0,this.seq=0,this.eventStream=CS(t=>this.eventStreamObserver=t)}getKey(){return this.key}getStatus(){return this.status}applyStatus(n){this.status=n}isAttached(){return this.status==="attached"}getActorID(){return this.actorID}setActor(n){this.actorID=n}getPresenceID(){return this.presenceID}setPresenceID(n){this.presenceID=n}getCount(){return this.count}updateCount(n,t){return t===0||t>this.seq?(this.count=n,this.seq=t,!0):!1}hasLocalChanges(){return!1}subscribe(n){return this.eventStream.subscribe(n)}publish(n){this.eventStreamObserver&&this.eventStreamObserver.next(n)}}var ll=(s=>(s.Manual="manual",s.Realtime="realtime",s.RealtimePushOnly="realtime-pushonly",s.RealtimeSyncOff="realtime-syncoff",s))(ll||{});const Vs={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3,presenceHeartbeatInterval:3e4},hd={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class BS{constructor(n){h(this,"id");h(this,"key");h(this,"metadata");h(this,"status");h(this,"attachmentMap");h(this,"apiKey");h(this,"authTokenInjector");h(this,"conditions");h(this,"syncLoopDuration");h(this,"reconnectStreamDelay");h(this,"retrySyncLoopDelay");h(this,"presenceHeartbeatInterval");h(this,"rpcClient");h(this,"setAuthToken");h(this,"taskQueue");h(this,"processing",!1);h(this,"keepalive",!1);n=n||Vs;const t=n.rpcAddr||Vs.rpcAddr;this.key=n.key||kS(),this.metadata=n.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=n.apiKey||"",this.authTokenInjector=n.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=n.syncLoopDuration??Vs.syncLoopDuration,this.reconnectStreamDelay=n.reconnectStreamDelay??Vs.reconnectStreamDelay,this.retrySyncLoopDelay=n.retrySyncLoopDelay??Vs.retrySyncLoopDelay,this.presenceHeartbeatInterval=n.presenceHeartbeatInterval??Vs.presenceHeartbeatInterval;const{authInterceptor:i,setToken:l}=dE(this.apiKey);this.setAuthToken=l,this.rpcClient=p1(P1,q1({baseUrl:t,interceptors:[i,yE(n==null?void 0:n.userAgent)],fetch:(c,d)=>fetch(c,{...d,keepalive:this.keepalive})})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const n=await this.authTokenInjector();this.setAuthToken(n)}return this.enqueueTask(async()=>{try{const n=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}});this.id=n.clientId,this.status="activated",this.runSyncLoop(),X.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(n){throw X.error(`[AC] c:"${this.getKey()}" err :`,n),await this.handleConnectError(n),n}})}deactivate(n={keepalive:!1,synchronous:!1}){if(this.status==="deactivated")return Promise.resolve();const t=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id,synchronous:n.synchronous},{headers:{"x-shard-key":`${this.apiKey}/${this.key}`}}),this.deactivateInternal(),X.info(`[DC] c"${this.getKey()}" deactivated`)}catch(i){throw X.error(`[DC] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};if(n.keepalive){this.keepalive=!0;const i=t();return this.keepalive=!1,i}return this.enqueueTask(t)}has(n){return this.attachmentMap.has(n)}attach(n,t){return n instanceof Ya?this.attachPresence(n,t):this.attachDocument(n,t)}attachDocument(n,t={}){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);if(n.getStatus()!==ya.Detached)throw new D(x.ErrDocumentNotDetached,`${n.getKey()} is not detached`);n.setActor(this.id),n.update((c,d)=>d.set(t.initialPresence||{}));const i=n.subscribe("local-broadcast",async c=>{var b;const{topic:d,payload:g}=c.value,y=(b=c.options)==null?void 0:b.error,v=c.options;try{await this.broadcast(n.getKey(),d,g,v)}catch(E){E instanceof Error&&(y==null||y(E))}}),l=t.syncMode??"realtime";return this.enqueueTask(async()=>{try{const c=await this.rpcClient.attachDocument({clientId:this.id,changePack:Zt.toChangePack(n.createChangePack()),schemaKey:t.schema},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}});(c.maxSizePerDocument??0)>0&&n.setMaxSizePerDocument(c.maxSizePerDocument),c.schemaRules.length>0&&n.setSchemaRules(Zt.fromSchemaRules(c.schemaRules));const g=Zt.fromChangePack(c.changePack);if(n.applyChangePack(g),n.getStatus()===ya.Removed)return n;n.applyStatus(ya.Attached),this.attachmentMap.set(n.getKey(),new T0(this.reconnectStreamDelay,n,c.documentId,l,i)),l!=="manual"&&await this.runWatchLoop(n.getKey()),X.info(`[AD] c:"${this.getKey()}" attaches d:"${n.getKey()}"`);const y=n.getRootObject();if(t.initialRoot){const v=t.initialRoot;n.update(b=>{for(const[E,C]of Object.entries(v))if(!y.has(E)){const O=E;b[O]=C}})}return n}catch(c){throw X.error(`[AD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}})}detach(n,t){return n instanceof Ya?this.detachPresence(n):this.detachDocument(n,t)}detachDocument(n,t={keepalive:!1}){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(n.getKey());if(!i)throw new D(x.ErrDocumentNotAttached,`${n.getKey()} is not attached`);n.update((c,d)=>d.clear());const l=async()=>{try{const c=await this.rpcClient.detachDocument({clientId:this.id,documentId:i.resourceID,changePack:Zt.toChangePack(n.createChangePack()),removeIfNotAttached:t.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),d=Zt.fromChangePack(c.changePack);return n.applyChangePack(d),n.getStatus()!==ya.Removed&&n.applyStatus(ya.Detached),this.detachInternal(n.getKey()),X.info(`[DD] c:"${this.getKey()}" detaches d:"${n.getKey()}"`),n}catch(c){throw X.error(`[DD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};if(t.keepalive){this.keepalive=!0;const c=l();return this.keepalive=!1,c}return this.enqueueTask(l)}async attachPresence(n,t={}){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);if(n.getStatus()!==ol.Detached)throw new D(x.ErrDocumentNotDetached,`${n.getKey()} is not detached`);n.setActor(this.id);const i=async()=>{try{const l=await this.rpcClient.attachPresence({clientId:this.id,presenceKey:n.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}});n.setPresenceID(l.presenceId),n.updateCount(Number(l.count),0),n.applyStatus(ol.Attached);const c=t.isRealtime!==!1?"realtime":"manual",d=new T0(this.reconnectStreamDelay,n,l.presenceId,c);return this.attachmentMap.set(n.getKey(),d),c==="realtime"&&await this.runWatchLoop(n.getKey()),X.info(`[AP] c:"${this.getKey()}" attaches p:"${n.getKey()}" mode:${c} count:${n.getCount()}`),n}catch(l){throw X.error(`[AP] c:"${this.getKey()}" err :`,l),await this.handleConnectError(l),l}};return this.enqueueTask(i)}async detachPresence(n){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);if(!this.attachmentMap.has(n.getKey()))throw new D(x.ErrDocumentNotAttached,`${n.getKey()} is not attached`);const t=async()=>{try{const i=await this.rpcClient.detachPresence({clientId:this.id,presenceId:n.getPresenceID(),presenceKey:n.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}});return n.updateCount(Number(i.count),0),n.applyStatus(ol.Detached),this.detachInternal(n.getKey()),X.info(`[DP] c:"${this.getKey()}" detaches p:"${n.getKey()}" count:${n.getCount()}`),n}catch(i){throw X.error(`[DP] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}};return this.enqueueTask(t)}async changeSyncMode(n,t){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);const i=this.attachmentMap.get(n.getKey());if(!i)throw new D(x.ErrDocumentNotAttached,`${n.getKey()} is not attached`);const l=i.syncMode;return l===t?n:(i.changeSyncMode(t),t==="manual"?(i.cancelWatchStream(),n):(t==="realtime"&&(i.changeEventReceived=!0),l==="manual"&&await this.runWatchLoop(n.getKey()),n))}sync(n){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);if(n instanceof Ya){const t=this.attachmentMap.get(n.getKey());if(!t)throw new D(x.ErrDocumentNotAttached,`${n.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(t).catch(async i=>{throw X.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}if(n instanceof Bi){const t=this.attachmentMap.get(n.getKey());if(!t)throw new D(x.ErrDocumentNotAttached,`${n.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(t,"realtime").catch(async i=>{throw X.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i}))}return this.enqueueTask(async()=>{const t=[];for(const[,i]of this.attachmentMap)i.syncMode!==void 0&&i.resource instanceof Bi&&t.push(this.syncInternal(i,i.syncMode));return Promise.all(t).catch(async i=>{throw X.error(`[SY] c:"${this.getKey()}" err :`,i),await this.handleConnectError(i),i})})}remove(n){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);const t=this.attachmentMap.get(n.getKey());if(!t)throw new D(x.ErrDocumentNotAttached,`${n.getKey()} is not attached`);n.setActor(this.id);const i=Zt.toChangePack(n.createChangePack());return i.isRemoved=!0,this.enqueueTask(async()=>{try{const l=await this.rpcClient.removeDocument({clientId:this.id,documentId:t.resourceID,changePack:i},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),c=Zt.fromChangePack(l.changePack);n.applyChangePack(c),this.detachInternal(n.getKey()),X.info(`[RD] c:"${this.getKey()}" removes d:"${n.getKey()}"`)}catch(l){throw X.error(`[RD] c:"${this.getKey()}" err :`,l),await this.handleConnectError(l),l}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(n){return this.conditions[n]}broadcast(n,t,i,l){if(!this.isActive())throw new D(x.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(n);if(!c)throw new D(x.ErrDocumentNotAttached,`${n} is not attached`);if(!pE(i))throw new D(x.ErrInvalidArgument,"payload is not serializable");const d=(l==null?void 0:l.maxRetries)??hd.maxRetries,g=hd.maxBackoff;let y=0;const v=E=>Math.min(hd.initialRetryInterval*2**E,g),b=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,documentId:c.resourceID,topic:t,payload:new TextEncoder().encode(JSON.stringify(i))},{headers:{"x-shard-key":`${this.apiKey}/${n}`}}),X.info(`[BC] c:"${this.getKey()}" broadcasts d:"${n}" t:"${t}"`)}catch(E){if(X.error(`[BC] c:"${this.getKey()}" err:`,E),await this.handleConnectError(E))if(cd(E,x.ErrUnauthenticated)&&c.resource instanceof Bi&&c.resource.publish([{type:ue.AuthError,value:{reason:sl(E).reason,method:"Broadcast"}}]),y<d)y++,setTimeout(()=>b(),v(y-1)),X.info(`[BC] c:"${this.getKey()}" retry attempt ${y}/${d}`);else throw X.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),E;else throw E}});return b()}runSyncLoop(){const n=async()=>{if(!this.isActive()){X.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}try{await this.enqueueTask(async()=>{const t=[];for(const[,i]of this.attachmentMap)i.needSync(this.presenceHeartbeatInterval)&&(i.changeEventReceived!==void 0&&(i.changeEventReceived=!1),t.push(this.syncInternal(i,i.syncMode).catch(l=>{throw cd(l,x.ErrUnauthenticated)&&i.resource.publish([{type:ue.AuthError,value:{reason:sl(l).reason,method:"PushPull"}}]),l})));await Promise.all(t),setTimeout(n,this.syncLoopDuration)})}catch(t){X.error(`[SL] c:"${this.getKey()}" sync failed:`,t),await this.handleConnectError(t)?setTimeout(n,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1}};X.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,n()}async runWatchLoop(n){const t=this.attachmentMap.get(n);if(!t)throw new D(x.ErrDocumentNotAttached,`${n} is not attached`);return this.conditions.WatchLoop=!0,t.runWatchLoop(i=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new D(x.ErrClientNotActivated,`${this.key} is not active`));if(!this.attachmentMap.has(n))return this.conditions.WatchLoop=!1,Promise.reject(new D(x.ErrDocumentNotAttached,`${n} is not attached`));const l=new AbortController;return t.resource instanceof Bi?this.createDocumentWatchStream(t,n,l,i):t.resource instanceof Ya?this.createPresenceWatchStream(t,n,l,i):Promise.reject(new D(x.ErrClientNotActivated,`Unknown resource type for ${n}`))})}createDocumentWatchStream(n,t,i,l){const c=this.rpcClient.watchDocument({clientId:this.id,documentId:n.resourceID},{headers:{"x-shard-key":`${this.apiKey}/${t}`},signal:i.signal});return n.resource.publish([{type:ue.ConnectionChanged,value:Ta.Connected}]),X.info(`[WD] c:"${this.getKey()}" watches d:"${t}"`),n.changeEventReceived!==void 0&&(n.changeEventReceived=!0),new Promise((d,g)=>{(async()=>{try{for await(const v of c)this.handleWatchDocumentResponse(n,v),v.body.case==="initialization"&&d([c,i]);n.resource.resetOnlineClients(),n.resource.publish([{type:ue.Initialized,source:Kt.Local,value:n.resource.getPresences()}]),n.resource.publish([{type:ue.ConnectionChanged,value:Ta.Disconnected}]),X.debug(`[WD] c:"${this.getKey()}" unwatches (stream ended)`),l()}catch(v){n.resource.resetOnlineClients(),n.resource.publish([{type:ue.Initialized,source:Kt.Local,value:n.resource.getPresences()}]),n.resource.publish([{type:ue.ConnectionChanged,value:Ta.Disconnected}]),X.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(v)?(cd(v,x.ErrUnauthenticated)&&n.resource.publish([{type:ue.AuthError,value:{reason:sl(v).reason,method:"WatchDocument"}}]),l()):this.conditions.WatchLoop=!1,g(v)}})()})}createPresenceWatchStream(n,t,i,l){const c=this.rpcClient.watchPresence({clientId:this.id,presenceKey:t},{headers:{"x-shard-key":`${this.apiKey}/${t}`},signal:i.signal});return X.info(`[WP] c:"${this.getKey()}" watches p:"${t}"`),new Promise((d,g)=>{(async()=>{try{let v=!0;for await(const b of c)this.handleWatchPresenceResponse(n,b),v&&(v=!1,d([c,i]));X.debug(`[WP] c:"${this.getKey()}" p:"${t}" stream ended`),l()}catch(v){if(v instanceof Error&&v.name==="AbortError"){X.debug(`[WP] c:"${this.getKey()}" p:"${t}" stream aborted`);return}X.debug(`[WP] c:"${this.getKey()}" p:"${t}" err:`,v),await this.handleConnectError(v)?l():this.conditions.WatchLoop=!1,g(v)}})()})}handleWatchPresenceResponse(n,t){if(t.body.case==="initialized"){const{count:i,seq:l}=t.body.value;n.resource.updateCount(Number(i),Number(l))&&n.resource.publish({type:kc.Initialized,count:Number(i)})}else if(t.body.case==="event"){const{count:i,seq:l}=t.body.value;n.resource.updateCount(Number(i),Number(l))&&n.resource.publish({type:kc.Changed,count:Number(i)})}}handleWatchDocumentResponse(n,t){if(t.body.case==="event"&&t.body.value.type===Xa.DOCUMENT_CHANGED){n.changeEventReceived!==void 0&&(n.changeEventReceived=!0);return}n.resource.applyWatchStream(t)}deactivateInternal(){this.status="deactivated";for(const[n,t]of this.attachmentMap)this.detachInternal(n),t.resource instanceof Bi?t.resource.applyStatus(ya.Detached):t.resource instanceof Ya&&t.resource.applyStatus(ol.Detached)}detachInternal(n){var i;const t=this.attachmentMap.get(n);t&&(t.cancelWatchStream(),t.resource instanceof Bi&&t.resource.resetOnlineClients(),(i=t.unsubscribeBroadcastEvent)==null||i.call(t),this.attachmentMap.delete(n))}async syncInternal(n,t){const{resource:i}=n;if(i instanceof Ya){try{const g=await this.rpcClient.refreshPresence({clientId:this.id,presenceId:i.getPresenceID(),presenceKey:i.getKey()},{headers:{"x-shard-key":`${this.apiKey}/${i.getKey()}`}});i.updateCount(Number(g.count),0),n.updateHeartbeatTime(),X.debug(`[RP] c:"${this.getKey()}" refreshes p:"${i.getKey()}" mode:${n.syncMode}`)}catch(g){throw X.error(`[RP] c:"${this.getKey()}" err :`,g),g}return i}const l=i,{resourceID:c}=n,d=l.createChangePack();try{const g=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:c,changePack:Zt.toChangePack(d),pushOnly:t==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${l.getKey()}`}}),y=Zt.fromChangePack(g.changePack);if(y.hasChanges()&&(n.syncMode==="realtime-pushonly"||n.syncMode==="realtime-syncoff"))return l;l.applyChangePack(y),n.resource.publish([{type:ue.SyncStatusChanged,value:Wd.Synced}]),l.getStatus()===ya.Removed&&this.detachInternal(l.getKey());const v=l.getKey(),b=y.getChangeSize();return X.info(`[PP] c:"${this.getKey()}" sync d:"${v}", push:${d.getChangeSize()} pull:${b} cp:${y.getCheckpoint().toTestString()}`),l}catch(g){throw l.publish([{type:ue.SyncStatusChanged,value:Wd.SyncFailed}]),X.error(`[PP] c:"${this.getKey()}" err :`,g),g}}async handleConnectError(n){if(!(n instanceof Ut))return!1;if(n.code===St.Canceled||n.code===St.Unknown||n.code===St.ResourceExhausted||n.code===St.Unavailable)return!0;if(Hs(n)===x.ErrUnauthenticated){if(this.authTokenInjector){const t=await this.authTokenInjector(sl(n).reason);this.setAuthToken(t)}return!0}return Hs(n)===x.ErrTooManySubscribers?(X.error(`[WD] c:"${this.getKey()}" err :`,n.rawMessage),!0):(Hs(n)===x.ErrTooManyAttachments||(Hs(n)===x.ErrClientNotActivated||Hs(n)===x.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(n){return new Promise((t,i)=>{this.taskQueue.push(()=>n().then(t).catch(i)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{X.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}nr.Int,nr.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:BS,Document:Bi,Primitive:Gt,Text:pg,Counter:vg,Tree:Tg,Presence:Ya,PresenceEventType:kc,LogLevel:ze,setLogLevel:XA,IntType:nr.Int,LongType:nr.Long});const vE="@yorkie-js/react",SE="0.6.35",A0={name:vE,version:SE},zS=Vt.createContext({client:void 0,loading:!0,error:void 0});function bE(s){const[n,t]=Vt.useState(void 0),[i,l]=Vt.useState(!0),[c,d]=Vt.useState(void 0),[g,y]=Vt.useState(!1);return Vt.useEffect(()=>{y(!0)},[]),Vt.useEffect(()=>{l(!0),d(void 0);async function v(){if(g)try{const b=new BS(s);await b.activate(),t(b)}catch(b){d(b instanceof Error?b:new Error("Failed to activate client"))}finally{l(!1)}}return v(),()=>{n!=null&&n.isActive()&&n.deactivate({keepalive:!0})}},[s.apiKey,s.rpcAddr,g]),{client:n,loading:i,error:c}}const TE=({children:s,...n})=>{const t=Vt.useMemo(()=>({userAgent:A0.name+"/"+A0.version,...n}),[n.apiKey,n.rpcAddr]),{client:i,loading:l,error:c}=bE(t);return kt.jsx(zS.Provider,{value:{client:i,loading:l,error:c},children:s})},wE=()=>{const s=Vt.useContext(zS);if(!s)throw new Error("useYorkie must be used under YorkieProvider");return{client:s.client,loading:s.loading,error:s.error}};function AE(s){const n=new Set;let t=s;const i=()=>{n.forEach(y=>y(t))};return{subscribe:y=>(n.add(y),()=>n.delete(y)),getSnapshot:()=>t,setState:y=>{const v=t;t=typeof y=="function"?y(v):y,v!==t&&i()},destroy:()=>{n.clear()}}}const EE=s=>AE(s);function wg(s,n,t=Object.is){const i=Vt.useRef(n),l=Vt.useRef(t),c=Vt.useRef(void 0);i.current=n,l.current=t;const d=()=>{const g=s.getSnapshot(),y=i.current?i.current(g):g;return c.current!==void 0&&l.current(c.current,y)?c.current:(c.current=y,y)};return Vt.useSyncExternalStore(s.subscribe,d,d)}function E0(s){return s!=null&&typeof s[Symbol.iterator]=="function"}function x0(s){return"entries"in s&&typeof s.entries=="function"}function xE(s,n){const t=s instanceof Map?s:new Map(s.entries()),i=n instanceof Map?n:new Map(n.entries());if(t.size!==i.size)return!1;for(const[l,c]of t)if(!i.has(l)||!Object.is(c,i.get(l)))return!1;return!0}function NE(s,n){const t=s[Symbol.iterator](),i=n[Symbol.iterator]();let l=t.next(),c=i.next();for(;!l.done&&!c.done;){if(!Object.is(l.value,c.value))return!1;l=t.next(),c=i.next()}return l.done===c.done}function DE(s,n){const t=Object.keys(s),i=Object.keys(n);if(t.length!==i.length)return!1;for(const l of t)if(!Object.prototype.hasOwnProperty.call(n,l)||!Object.is(s[l],n[l]))return!1;return!0}function OE(s,n){if(Object.is(s,n))return!0;if(typeof s!="object"||s===null||typeof n!="object"||n===null||Object.getPrototypeOf(s)!==Object.getPrototypeOf(n))return!1;const t=E0(s),i=E0(n);return t!==i?!1:t&&i?x0(s)&&x0(n)?xE(s,n):NE(s,n):DE(s,n)}function kE(s,n,t,i,l,c,d){const g=Vt.useRef(l),y=Vt.useRef(c),[v,b]=Vt.useState(!1);Vt.useEffect(()=>{b(!0)},[]),Vt.useEffect(()=>{if(t){d.setState(U=>({...U,loading:!1,error:t}));return}if(!s||n||!v){d.setState(U=>({...U,loading:!0}));return}d.setState(U=>({...U,loading:!0,error:void 0}));const E=new Bi(i),C=[];C.push(E.subscribe(()=>{d.setState(U=>({...U,root:E.getRoot()}))})),C.push(E.subscribe("presence",()=>{d.setState(U=>({...U,presences:E.getPresences()}))})),C.push(E.subscribe("connection",U=>{d.setState(V=>({...V,connection:U.value}))}));async function O(){try{await(s==null?void 0:s.attach(E,{initialRoot:g.current,initialPresence:y.current}));const U=V=>{try{E.update(V)}catch(K){d.setState(W=>({...W,error:K instanceof Error?K:new Error("Failed to update document")}))}};d.setState(V=>({...V,doc:E,root:E.getRoot(),presences:E.getPresences(),update:U}))}catch(U){d.setState(V=>({...V,error:U instanceof Error?U:new Error("Failed to attach document")}))}finally{d.setState(U=>({...U,loading:!1}))}}return O(),()=>{s&&s.has(i)&&s.detach(E);for(const U of C)U()}},[s,n,t,i,d,v])}const Ag=Vt.createContext(void 0),CE=({docKey:s,initialRoot:n={},initialPresence:t={},children:i})=>{const{client:l,loading:c,error:d}=wE(),g=Vt.useRef(void 0);g.current||(g.current=EE({doc:void 0,root:n,presences:[],connection:Ta.Disconnected,update:()=>{},loading:!0,error:void 0}));const y=g.current;return kE(l,c,d,s,n,t,y),kt.jsx(Ag.Provider,{value:y,children:i})},IE=()=>(s,n=OE)=>{const t=Vt.useContext(Ag);if(!t)throw new Error("useDocument must be used within a DocumentProvider");return wg(t,s,n)},RE=()=>{const s=US("usePresences");return wg(s,n=>n.presences)},MS=()=>{const s=US("useConnection");return wg(s,n=>n.connection)},US=s=>{const n=Vt.useContext(Ag);if(!n)throw new Error(`${s} must be used within a DocumentProvider`);return n};Vt.createContext(void 0);function BE(){const s=MS();return kt.jsxs("div",{id:"connection-status",children:["Connection Status:"," ",s===Ta.Connected?kt.jsx("span",{className:"green",children:" "}):kt.jsx("span",{className:"red",children:" "})]})}function zE(){const s=RE();return kt.jsx("div",{id:"peers-container",children:kt.jsxs("p",{children:["Peers:"," ",s.map((n,t)=>kt.jsxs(fw.Fragment,{children:[kt.jsx("span",{children:n.clientID.slice(-2)}),t<s.length-1&&kt.jsx("span",{children:", "})]},n.clientID))]})})}const Eg=IE();function ME(){const{counter:s}=Eg(({root:n})=>({counter:n.counter}));return kt.jsx("div",{id:"counter-value",children:s})}function UE(){const{update:s,connection:n}=Eg(({update:t,connection:i})=>({update:t,connection:i}));return kt.jsx("button",{id:"increment",disabled:n===Ta.Disconnected,onClick:()=>s(t=>t.counter+=1),children:"Increment"})}function LE(){const{loading:s,error:n}=Eg(({loading:i,error:l})=>({loading:i,error:l})),t=MS();return s?kt.jsx("p",{children:"Loading..."}):n?kt.jsxs("div",{id:"error",children:[kt.jsxs("p",{children:["Error Name: ",n.name]}),kt.jsxs("p",{children:["Error Message: ",n.message]})]}):kt.jsxs("div",{className:"counter-side",children:[kt.jsx(BE,{}),kt.jsx(zE,{}),kt.jsxs("div",{id:"counter-container",children:[kt.jsx("h1",{id:"counter",children:"Counter"}),kt.jsx(ME,{}),kt.jsx(UE,{})]}),kt.jsx("div",{id:"error",children:t===Ta.Disconnected&&kt.jsx("p",{children:"Stream subscription is disconnected"})})]})}function JE(){return kt.jsx(TE,{apiKey:"",rpcAddr:"https://api.yorkie.dev",children:kt.jsx("div",{className:"page-container",children:kt.jsx(CE,{docKey:"react-document-limit",initialRoot:{counter:0},children:kt.jsx(LE,{})})})})}vw.createRoot(document.getElementById("root")).render(kt.jsx(Vt.StrictMode,{children:kt.jsx(JE,{})}));
