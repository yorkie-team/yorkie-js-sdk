var Yb=Object.defineProperty;var Fb=(s,n,e)=>n in s?Yb(s,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[n]=e;var d=(s,n,e)=>Fb(s,typeof n!="symbol"?n+"":n,e);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function e(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=e(o);fetch(o.href,c)}})();function Kb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Th={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function $b(){if(mp)return Ul;mp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function e(r,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:h,ref:o!==void 0?o:null,props:c}}return Ul.Fragment=n,Ul.jsx=e,Ul.jsxs=e,Ul}var yp;function Xb(){return yp||(yp=1,Th.exports=$b()),Th.exports}var Ct=Xb(),Ah={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function Zb(){if(pp)return dt;pp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.iterator;function B(A){return A===null||typeof A!="object"?null:(A=E&&A[E]||A["@@iterator"],typeof A=="function"?A:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,j={};function Y(A,J,at){this.props=A,this.context=J,this.refs=j,this.updater=at||R}Y.prototype.isReactComponent={},Y.prototype.setState=function(A,J){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,J,"setState")},Y.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function et(){}et.prototype=Y.prototype;function _(A,J,at){this.props=A,this.context=J,this.refs=j,this.updater=at||R}var ut=_.prototype=new et;ut.constructor=_,z(ut,Y.prototype),ut.isPureReactComponent=!0;var gt=Array.isArray,P={H:null,A:null,T:null,S:null},ct=Object.prototype.hasOwnProperty;function vt(A,J,at,it,F,Tt){return at=Tt.ref,{$$typeof:s,type:A,key:J,ref:at!==void 0?at:null,props:Tt}}function xt(A,J){return vt(A.type,J,void 0,void 0,void 0,A.props)}function $(A){return typeof A=="object"&&A!==null&&A.$$typeof===s}function ht(A){var J={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(at){return J[at]})}var re=/\/+/g;function Ye(A,J){return typeof A=="object"&&A!==null&&A.key!=null?ht(""+A.key):J.toString(36)}function kn(){}function Wn(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(kn,kn):(A.status="pending",A.then(function(J){A.status==="pending"&&(A.status="fulfilled",A.value=J)},function(J){A.status==="pending"&&(A.status="rejected",A.reason=J)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function De(A,J,at,it,F){var Tt=typeof A;(Tt==="undefined"||Tt==="boolean")&&(A=null);var mt=!1;if(A===null)mt=!0;else switch(Tt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(A.$$typeof){case s:case n:mt=!0;break;case b:return mt=A._init,De(mt(A._payload),J,at,it,F)}}if(mt)return F=F(A),mt=it===""?"."+Ye(A,0):it,gt(F)?(at="",mt!=null&&(at=mt.replace(re,"$&/")+"/"),De(F,J,at,"",function(Wt){return Wt})):F!=null&&($(F)&&(F=xt(F,at+(F.key==null||A&&A.key===F.key?"":(""+F.key).replace(re,"$&/")+"/")+mt)),J.push(F)),1;mt=0;var Ae=it===""?".":it+":";if(gt(A))for(var Ot=0;Ot<A.length;Ot++)it=A[Ot],Tt=Ae+Ye(it,Ot),mt+=De(it,J,at,Tt,F);else if(Ot=B(A),typeof Ot=="function")for(A=Ot.call(A),Ot=0;!(it=A.next()).done;)it=it.value,Tt=Ae+Ye(it,Ot++),mt+=De(it,J,at,Tt,F);else if(Tt==="object"){if(typeof A.then=="function")return De(Wn(A),J,at,it,F);throw J=String(A),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return mt}function G(A,J,at){if(A==null)return A;var it=[],F=0;return De(A,it,"","",function(Tt){return J.call(at,Tt,F++)}),it}function ft(A){if(A._status===-1){var J=A._result;J=J(),J.then(function(at){(A._status===0||A._status===-1)&&(A._status=1,A._result=at)},function(at){(A._status===0||A._status===-1)&&(A._status=2,A._result=at)}),A._status===-1&&(A._status=0,A._result=J)}if(A._status===1)return A._result.default;throw A._result}var st=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function Ut(){}return dt.Children={map:G,forEach:function(A,J,at){G(A,function(){J.apply(this,arguments)},at)},count:function(A){var J=0;return G(A,function(){J++}),J},toArray:function(A){return G(A,function(J){return J})||[]},only:function(A){if(!$(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},dt.Component=Y,dt.Fragment=e,dt.Profiler=o,dt.PureComponent=_,dt.StrictMode=r,dt.Suspense=p,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,dt.act=function(){throw Error("act(...) is not supported in production builds of React.")},dt.cache=function(A){return function(){return A.apply(null,arguments)}},dt.cloneElement=function(A,J,at){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var it=z({},A.props),F=A.key,Tt=void 0;if(J!=null)for(mt in J.ref!==void 0&&(Tt=void 0),J.key!==void 0&&(F=""+J.key),J)!ct.call(J,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&J.ref===void 0||(it[mt]=J[mt]);var mt=arguments.length-2;if(mt===1)it.children=at;else if(1<mt){for(var Ae=Array(mt),Ot=0;Ot<mt;Ot++)Ae[Ot]=arguments[Ot+2];it.children=Ae}return vt(A.type,F,void 0,void 0,Tt,it)},dt.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},dt.createElement=function(A,J,at){var it,F={},Tt=null;if(J!=null)for(it in J.key!==void 0&&(Tt=""+J.key),J)ct.call(J,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(F[it]=J[it]);var mt=arguments.length-2;if(mt===1)F.children=at;else if(1<mt){for(var Ae=Array(mt),Ot=0;Ot<mt;Ot++)Ae[Ot]=arguments[Ot+2];F.children=Ae}if(A&&A.defaultProps)for(it in mt=A.defaultProps,mt)F[it]===void 0&&(F[it]=mt[it]);return vt(A,Tt,void 0,void 0,null,F)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(A){return{$$typeof:m,render:A}},dt.isValidElement=$,dt.lazy=function(A){return{$$typeof:b,_payload:{_status:-1,_result:A},_init:ft}},dt.memo=function(A,J){return{$$typeof:y,type:A,compare:J===void 0?null:J}},dt.startTransition=function(A){var J=P.T,at={};P.T=at;try{var it=A(),F=P.S;F!==null&&F(at,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Ut,st)}catch(Tt){st(Tt)}finally{P.T=J}},dt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},dt.use=function(A){return P.H.use(A)},dt.useActionState=function(A,J,at){return P.H.useActionState(A,J,at)},dt.useCallback=function(A,J){return P.H.useCallback(A,J)},dt.useContext=function(A){return P.H.useContext(A)},dt.useDebugValue=function(){},dt.useDeferredValue=function(A,J){return P.H.useDeferredValue(A,J)},dt.useEffect=function(A,J){return P.H.useEffect(A,J)},dt.useId=function(){return P.H.useId()},dt.useImperativeHandle=function(A,J,at){return P.H.useImperativeHandle(A,J,at)},dt.useInsertionEffect=function(A,J){return P.H.useInsertionEffect(A,J)},dt.useLayoutEffect=function(A,J){return P.H.useLayoutEffect(A,J)},dt.useMemo=function(A,J){return P.H.useMemo(A,J)},dt.useOptimistic=function(A,J){return P.H.useOptimistic(A,J)},dt.useReducer=function(A,J,at){return P.H.useReducer(A,J,at)},dt.useRef=function(A){return P.H.useRef(A)},dt.useState=function(A){return P.H.useState(A)},dt.useSyncExternalStore=function(A,J,at){return P.H.useSyncExternalStore(A,J,at)},dt.useTransition=function(){return P.H.useTransition()},dt.version="19.0.0",dt}var vp;function cd(){return vp||(vp=1,Ah.exports=Zb()),Ah.exports}var Zt=cd();const Qb=Kb(Zt);var wh={exports:{}},zl={},Eh={exports:{}},Nh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function _b(){return Sp||(Sp=1,function(s){function n(G,ft){var st=G.length;G.push(ft);t:for(;0<st;){var Ut=st-1>>>1,A=G[Ut];if(0<o(A,ft))G[Ut]=ft,G[st]=A,st=Ut;else break t}}function e(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ft=G[0],st=G.pop();if(st!==ft){G[0]=st;t:for(var Ut=0,A=G.length,J=A>>>1;Ut<J;){var at=2*(Ut+1)-1,it=G[at],F=at+1,Tt=G[F];if(0>o(it,st))F<A&&0>o(Tt,it)?(G[Ut]=Tt,G[F]=st,Ut=F):(G[Ut]=it,G[at]=st,Ut=at);else if(F<A&&0>o(Tt,st))G[Ut]=Tt,G[F]=st,Ut=F;else break t}}return ft}function o(G,ft){var st=G.sortIndex-ft.sortIndex;return st!==0?st:G.id-ft.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var p=[],y=[],b=1,E=null,B=3,R=!1,z=!1,j=!1,Y=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function ut(G){for(var ft=e(y);ft!==null;){if(ft.callback===null)r(y);else if(ft.startTime<=G)r(y),ft.sortIndex=ft.expirationTime,n(p,ft);else break;ft=e(y)}}function gt(G){if(j=!1,ut(G),!z)if(e(p)!==null)z=!0,Wn();else{var ft=e(y);ft!==null&&De(gt,ft.startTime-G)}}var P=!1,ct=-1,vt=5,xt=-1;function $(){return!(s.unstable_now()-xt<vt)}function ht(){if(P){var G=s.unstable_now();xt=G;var ft=!0;try{t:{z=!1,j&&(j=!1,et(ct),ct=-1),R=!0;var st=B;try{e:{for(ut(G),E=e(p);E!==null&&!(E.expirationTime>G&&$());){var Ut=E.callback;if(typeof Ut=="function"){E.callback=null,B=E.priorityLevel;var A=Ut(E.expirationTime<=G);if(G=s.unstable_now(),typeof A=="function"){E.callback=A,ut(G),ft=!0;break e}E===e(p)&&r(p),ut(G)}else r(p);E=e(p)}if(E!==null)ft=!0;else{var J=e(y);J!==null&&De(gt,J.startTime-G),ft=!1}}break t}finally{E=null,B=st,R=!1}ft=void 0}}finally{ft?re():P=!1}}}var re;if(typeof _=="function")re=function(){_(ht)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,kn=Ye.port2;Ye.port1.onmessage=ht,re=function(){kn.postMessage(null)}}else re=function(){Y(ht,0)};function Wn(){P||(P=!0,re())}function De(G,ft){ct=Y(function(){G(s.unstable_now())},ft)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_continueExecution=function(){z||R||(z=!0,Wn())},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):vt=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return B},s.unstable_getFirstCallbackNode=function(){return e(p)},s.unstable_next=function(G){switch(B){case 1:case 2:case 3:var ft=3;break;default:ft=B}var st=B;B=ft;try{return G()}finally{B=st}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(G,ft){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var st=B;B=G;try{return ft()}finally{B=st}},s.unstable_scheduleCallback=function(G,ft,st){var Ut=s.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?Ut+st:Ut):st=Ut,G){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=st+A,G={id:b++,callback:ft,priorityLevel:G,startTime:st,expirationTime:A,sortIndex:-1},st>Ut?(G.sortIndex=st,n(y,G),e(p)===null&&G===e(y)&&(j?(et(ct),ct=-1):j=!0,De(gt,st-Ut))):(G.sortIndex=A,n(p,G),z||R||(z=!0,Wn())),G},s.unstable_shouldYield=$,s.unstable_wrapCallback=function(G){var ft=B;return function(){var st=B;B=ft;try{return G.apply(this,arguments)}finally{B=st}}}}(Nh)),Nh}var bp;function Wb(){return bp||(bp=1,Eh.exports=_b()),Eh.exports}var Dh={exports:{}},Se={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function tT(){if(Tp)return Se;Tp=1;var s=cd();function n(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(n(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:y,implementation:b}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Se.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Se.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return c(p,y,null,b)},Se.flushSync=function(p){var y=h.T,b=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=y,r.p=b,r.d.f()}},Se.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},Se.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Se.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,E=m(b,y.crossOrigin),B=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:B,fetchPriority:R}):b==="script"&&r.d.X(p,{crossOrigin:E,integrity:B,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Se.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},Se.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,E=m(b,y.crossOrigin);r.d.L(p,b,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Se.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=m(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},Se.requestFormReset=function(p){r.d.r(p)},Se.unstable_batchedUpdates=function(p,y){return p(y)},Se.useFormState=function(p,y,b){return h.H.useFormState(p,y,b)},Se.useFormStatus=function(){return h.H.useHostTransitionStatus()},Se.version="19.0.0",Se}var Ap;function eT(){if(Ap)return Dh.exports;Ap=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Dh.exports=tT(),Dh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function nT(){if(wp)return zl;wp=1;var s=Wb(),n=cd(),e=eT();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),R=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),ut=Symbol.for("react.offscreen"),gt=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function ct(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Symbol.for("react.client.reference");function xt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===vt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case b:return"Profiler";case y:return"StrictMode";case j:return"Suspense";case Y:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R:return(t.displayName||"Context")+".Provider";case B:return(t._context.displayName||"Context")+".Consumer";case z:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case et:return i=t.displayName||null,i!==null?i:xt(t.type)||"Memo";case _:i=t._payload,t=t._init;try{return xt(t(i))}catch{}}return null}var $=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=Object.assign,re,Ye;function kn(t){if(re===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);re=i&&i[1]||"",Ye=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+re+t+Ye}var Wn=!1;function De(t,i){if(!t||Wn)return"";Wn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(I){var k=I}Reflect.construct(t,[],q)}else{try{q.call()}catch(I){k=I}t.call(q.prototype)}}else{try{throw Error()}catch(I){k=I}(q=t())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(I){if(I&&k&&typeof I.stack=="string")return[I.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],S=f[1];if(g&&S){var T=g.split(`
`),N=S.split(`
`);for(u=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;if(l===T.length||u===N.length)for(l=T.length-1,u=N.length-1;1<=l&&0<=u&&T[l]!==N[u];)u--;for(;1<=l&&0<=u;l--,u--)if(T[l]!==N[u]){if(l!==1||u!==1)do if(l--,u--,0>u||T[l]!==N[u]){var U=`
`+T[l].replace(" at new "," at ");return t.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",t.displayName)),U}while(1<=l&&0<=u);break}}}finally{Wn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?kn(a):""}function G(t){switch(t.tag){case 26:case 27:case 5:return kn(t.type);case 16:return kn("Lazy");case 13:return kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return t=De(t.type,!1),t;case 11:return t=De(t.type.render,!1),t;case 1:return t=De(t.type,!0),t;default:return""}}function ft(t){try{var i="";do i+=G(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function st(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Ut(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function A(t){if(st(t)!==t)throw Error(r(188))}function J(t){var i=t.alternate;if(!i){if(i=st(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return A(u),t;if(f===l)return A(u),i;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=u,l=f;else{for(var g=!1,S=u.child;S;){if(S===a){g=!0,a=u,l=f;break}if(S===l){g=!0,l=u,a=f;break}S=S.sibling}if(!g){for(S=f.child;S;){if(S===a){g=!0,a=f,l=u;break}if(S===l){g=!0,l=f,a=u;break}S=S.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function at(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=at(t),i!==null)return i;t=t.sibling}return null}var it=Array.isArray,F=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt={pending:!1,data:null,method:null,action:null},mt=[],Ae=-1;function Ot(t){return{current:t}}function Wt(t){0>Ae||(t.current=mt[Ae],mt[Ae]=null,Ae--)}function qt(t,i){Ae++,mt[Ae]=t.current,t.current=i}var Bn=Ot(null),qs=Ot(null),Dr=Ot(null),so=Ot(null);function lo(t,i){switch(qt(Dr,i),qt(qs,t),qt(Bn,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Gy(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=Gy(t),i=Yy(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Wt(Bn),qt(Bn,i)}function Ha(){Wt(Bn),Wt(qs),Wt(Dr)}function fc(t){t.memoizedState!==null&&qt(so,t);var i=Bn.current,a=Yy(i,t.type);i!==a&&(qt(qs,t),qt(Bn,a))}function oo(t){qs.current===t&&(Wt(Bn),Wt(qs)),so.current===t&&(Wt(so),Rl._currentValue=Tt)}var hc=Object.prototype.hasOwnProperty,dc=s.unstable_scheduleCallback,gc=s.unstable_cancelCallback,w0=s.unstable_shouldYield,E0=s.unstable_requestPaint,Mn=s.unstable_now,N0=s.unstable_getCurrentPriorityLevel,Md=s.unstable_ImmediatePriority,Id=s.unstable_UserBlockingPriority,uo=s.unstable_NormalPriority,D0=s.unstable_LowPriority,Ud=s.unstable_IdlePriority,x0=s.log,O0=s.unstable_setDisableYieldValue,Js=null,Ie=null;function C0(t){if(Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(Js,t,void 0,(t.current.flags&128)===128)}catch{}}function xr(t){if(typeof x0=="function"&&O0(t),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(Js,t)}catch{}}var Ue=Math.clz32?Math.clz32:B0,R0=Math.log,k0=Math.LN2;function B0(t){return t>>>=0,t===0?32:31-(R0(t)/k0|0)|0}var co=128,fo=4194304;function la(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ho(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,u=t.suspendedLanes,f=t.pingedLanes,g=t.warmLanes;t=t.finishedLanes!==0;var S=a&134217727;return S!==0?(a=S&~u,a!==0?l=la(a):(f&=S,f!==0?l=la(f):t||(g=S&~g,g!==0&&(l=la(g))))):(S=a&~u,S!==0?l=la(S):f!==0?l=la(f):t||(g=a&~g,g!==0&&(l=la(g)))),l===0?0:i!==0&&i!==l&&(i&u)===0&&(u=l&-l,g=i&-i,u>=g||u===32&&(g&4194176)!==0)?i:l}function Hs(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function M0(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zd(){var t=co;return co<<=1,(co&4194176)===0&&(co=128),t}function Ld(){var t=fo;return fo<<=1,(fo&62914560)===0&&(fo=4194304),t}function mc(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function js(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function I0(t,i,a,l,u,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,T=t.expirationTimes,N=t.hiddenUpdates;for(a=g&~a;0<a;){var U=31-Ue(a),q=1<<U;S[U]=0,T[U]=-1;var k=N[U];if(k!==null)for(N[U]=null,U=0;U<k.length;U++){var I=k[U];I!==null&&(I.lane&=-536870913)}a&=~q}l!==0&&qd(t,l,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~i))}function qd(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Ue(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Jd(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Ue(a),u=1<<l;u&i|t[l]&i&&(t[l]|=i),a&=~u}}function Hd(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function jd(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:up(t.type))}function U0(t,i){var a=F.p;try{return F.p=t,i()}finally{F.p=a}}var Or=Math.random().toString(36).slice(2),pe="__reactFiber$"+Or,xe="__reactProps$"+Or,ja="__reactContainer$"+Or,yc="__reactEvents$"+Or,z0="__reactListeners$"+Or,L0="__reactHandles$"+Or,Vd="__reactResources$"+Or,Vs="__reactMarker$"+Or;function pc(t){delete t[pe],delete t[xe],delete t[yc],delete t[z0],delete t[L0]}function oa(t){var i=t[pe];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ja]||a[pe]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=$y(t);t!==null;){if(a=t[pe])return a;t=$y(t)}return i}t=a,a=t.parentNode}return null}function Va(t){if(t=t[pe]||t[ja]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Ps(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Pa(t){var i=t[Vd];return i||(i=t[Vd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function oe(t){t[Vs]=!0}var Pd=new Set,Gd={};function ua(t,i){Ga(t,i),Ga(t+"Capture",i)}function Ga(t,i){for(Gd[t]=i,t=0;t<i.length;t++)Pd.add(i[t])}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),q0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yd={},Fd={};function J0(t){return hc.call(Fd,t)?!0:hc.call(Yd,t)?!1:q0.test(t)?Fd[t]=!0:(Yd[t]=!0,!1)}function go(t,i,a){if(J0(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function mo(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function ei(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Fe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kd(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function H0(t){var i=Kd(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return u.call(this)},set:function(g){l=""+g,f.call(this,g)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function yo(t){t._valueTracker||(t._valueTracker=H0(t))}function $d(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Kd(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function po(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var j0=/[\n"\\]/g;function Ke(t){return t.replace(j0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function vc(t,i,a,l,u,f,g,S){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),i!=null?g==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Fe(i)):t.value!==""+Fe(i)&&(t.value=""+Fe(i)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),i!=null?Sc(t,g,Fe(i)):a!=null?Sc(t,g,Fe(a)):l!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Fe(S):t.removeAttribute("name")}function Xd(t,i,a,l,u,f,g,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+Fe(a):"",i=i!=null?""+Fe(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function Sc(t,i,a){i==="number"&&po(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ya(t,i,a,l){if(t=t.options,i){i={};for(var u=0;u<a.length;u++)i["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=i.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Fe(a),i=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,l&&(t[u].defaultSelected=!0);return}i!==null||t[u].disabled||(i=t[u])}i!==null&&(i.selected=!0)}}function Zd(t,i,a){if(i!=null&&(i=""+Fe(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Fe(a):""}function Qd(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(it(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Fe(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Fa(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var V0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _d(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||V0.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Wd(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var u in i)l=i[u],i.hasOwnProperty(u)&&a[u]!==l&&_d(t,u,l)}else for(var f in i)i.hasOwnProperty(f)&&_d(t,f,i[f])}function bc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var P0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),G0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vo(t){return G0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Tc=null;function Ac(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ka=null,$a=null;function tg(t){var i=Va(t);if(i&&(t=i.stateNode)){var a=t[xe]||null;t:switch(t=i.stateNode,i.type){case"input":if(vc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ke(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var u=l[xe]||null;if(!u)throw Error(r(90));vc(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&$d(l)}break t;case"textarea":Zd(t,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ya(t,!!a.multiple,i,!1)}}}var wc=!1;function eg(t,i,a){if(wc)return t(i,a);wc=!0;try{var l=t(i);return l}finally{if(wc=!1,(Ka!==null||$a!==null)&&(eu(),Ka&&(i=Ka,t=$a,$a=Ka=null,tg(i),t)))for(i=0;i<t.length;i++)tg(t[i])}}function Gs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[xe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Ec=!1;if(ti)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){Ec=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{Ec=!1}var Cr=null,Nc=null,So=null;function ng(){if(So)return So;var t,i=Nc,a=i.length,l,u="value"in Cr?Cr.value:Cr.textContent,f=u.length;for(t=0;t<a&&i[t]===u[t];t++);var g=a-t;for(l=1;l<=g&&i[a-l]===u[f-l];l++);return So=u.slice(t,1<l?1-l:void 0)}function bo(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function To(){return!0}function ig(){return!1}function Oe(t){function i(a,l,u,f,g){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?To:ig,this.isPropagationStopped=ig,this}return ht(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),i}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=Oe(ca),Fs=ht({},ca,{view:0,detail:0}),Y0=Oe(Fs),Dc,xc,Ks,wo=ht({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ks&&(Ks&&t.type==="mousemove"?(Dc=t.screenX-Ks.screenX,xc=t.screenY-Ks.screenY):xc=Dc=0,Ks=t),Dc)},movementY:function(t){return"movementY"in t?t.movementY:xc}}),rg=Oe(wo),F0=ht({},wo,{dataTransfer:0}),K0=Oe(F0),$0=ht({},Fs,{relatedTarget:0}),Oc=Oe($0),X0=ht({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),Z0=Oe(X0),Q0=ht({},ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_0=Oe(Q0),W0=ht({},ca,{data:0}),ag=Oe(W0),tS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iS(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=nS[t])?!!i[t]:!1}function Cc(){return iS}var rS=ht({},Fs,{key:function(t){if(t.key){var i=tS[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=bo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cc,charCode:function(t){return t.type==="keypress"?bo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aS=Oe(rS),sS=ht({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sg=Oe(sS),lS=ht({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cc}),oS=Oe(lS),uS=ht({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),cS=Oe(uS),fS=ht({},wo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hS=Oe(fS),dS=ht({},ca,{newState:0,oldState:0}),gS=Oe(dS),mS=[9,13,27,32],Rc=ti&&"CompositionEvent"in window,$s=null;ti&&"documentMode"in document&&($s=document.documentMode);var yS=ti&&"TextEvent"in window&&!$s,lg=ti&&(!Rc||$s&&8<$s&&11>=$s),og=" ",ug=!1;function cg(t,i){switch(t){case"keyup":return mS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xa=!1;function pS(t,i){switch(t){case"compositionend":return fg(i);case"keypress":return i.which!==32?null:(ug=!0,og);case"textInput":return t=i.data,t===og&&ug?null:t;default:return null}}function vS(t,i){if(Xa)return t==="compositionend"||!Rc&&cg(t,i)?(t=ng(),So=Nc=Cr=null,Xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return lg&&i.locale!=="ko"?null:i.data;default:return null}}var SS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!SS[t.type]:i==="textarea"}function dg(t,i,a,l){Ka?$a?$a.push(l):$a=[l]:Ka=l,i=su(i,"onChange"),0<i.length&&(a=new Ao("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Xs=null,Zs=null;function bS(t){Jy(t,0)}function Eo(t){var i=Ps(t);if($d(i))return t}function gg(t,i){if(t==="change")return i}var mg=!1;if(ti){var kc;if(ti){var Bc="oninput"in document;if(!Bc){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),Bc=typeof yg.oninput=="function"}kc=Bc}else kc=!1;mg=kc&&(!document.documentMode||9<document.documentMode)}function pg(){Xs&&(Xs.detachEvent("onpropertychange",vg),Zs=Xs=null)}function vg(t){if(t.propertyName==="value"&&Eo(Zs)){var i=[];dg(i,Zs,t,Ac(t)),eg(bS,i)}}function TS(t,i,a){t==="focusin"?(pg(),Xs=i,Zs=a,Xs.attachEvent("onpropertychange",vg)):t==="focusout"&&pg()}function AS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eo(Zs)}function wS(t,i){if(t==="click")return Eo(i)}function ES(t,i){if(t==="input"||t==="change")return Eo(i)}function NS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var ze=typeof Object.is=="function"?Object.is:NS;function Qs(t,i){if(ze(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!hc.call(i,u)||!ze(t[u],i[u]))return!1}return!0}function Sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bg(t,i){var a=Sg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Sg(a)}}function Tg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Tg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=po(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=po(t.document)}return i}function Mc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function DS(t,i){var a=Ag(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&Tg(i.ownerDocument.documentElement,i)){if(l!==null&&Mc(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var u=i.textContent.length,f=Math.min(l.start,u);l=l.end===void 0?f:Math.min(l.end,u),!a.extend&&f>l&&(u=l,l=f,f=u),u=bg(i,f);var g=bg(i,l);u&&g&&(a.rangeCount!==1||a.anchorNode!==u.node||a.anchorOffset!==u.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),a.removeAllRanges(),f>l?(a.addRange(t),a.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var xS=ti&&"documentMode"in document&&11>=document.documentMode,Za=null,Ic=null,_s=null,Uc=!1;function wg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uc||Za==null||Za!==po(l)||(l=Za,"selectionStart"in l&&Mc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_s&&Qs(_s,l)||(_s=l,l=su(Ic,"onSelect"),0<l.length&&(i=new Ao("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Za)))}function fa(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Qa={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},zc={},Eg={};ti&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function ha(t){if(zc[t])return zc[t];if(!Qa[t])return t;var i=Qa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Eg)return zc[t]=i[a];return t}var Ng=ha("animationend"),Dg=ha("animationiteration"),xg=ha("animationstart"),OS=ha("transitionrun"),CS=ha("transitionstart"),RS=ha("transitioncancel"),Og=ha("transitionend"),Cg=new Map,Rg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function bn(t,i){Cg.set(t,i),ua(i,[t])}var $e=[],_a=0,Lc=0;function No(){for(var t=_a,i=Lc=_a=0;i<t;){var a=$e[i];$e[i++]=null;var l=$e[i];$e[i++]=null;var u=$e[i];$e[i++]=null;var f=$e[i];if($e[i++]=null,l!==null&&u!==null){var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}f!==0&&kg(a,u,f)}}function Do(t,i,a,l){$e[_a++]=t,$e[_a++]=i,$e[_a++]=a,$e[_a++]=l,Lc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qc(t,i,a,l){return Do(t,i,a,l),xo(t)}function Rr(t,i){return Do(t,null,null,i),xo(t)}function kg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var u=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;u&&i!==null&&t.tag===3&&(f=t.stateNode,u=31-Ue(a),f=f.hiddenUpdates,t=f[u],t===null?f[u]=[i]:t.push(i),i.lane=a|536870912)}function xo(t){if(50<wl)throw wl=0,Yf=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Wa={},Bg=new WeakMap;function Xe(t,i){if(typeof t=="object"&&t!==null){var a=Bg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ft(i)},Bg.set(t,i),i)}return{value:t,source:i,stack:ft(i)}}var ts=[],es=0,Oo=null,Co=0,Ze=[],Qe=0,da=null,ni=1,ii="";function ga(t,i){ts[es++]=Co,ts[es++]=Oo,Oo=t,Co=i}function Mg(t,i,a){Ze[Qe++]=ni,Ze[Qe++]=ii,Ze[Qe++]=da,da=t;var l=ni;t=ii;var u=32-Ue(l)-1;l&=~(1<<u),a+=1;var f=32-Ue(i)+u;if(30<f){var g=u-u%5;f=(l&(1<<g)-1).toString(32),l>>=g,u-=g,ni=1<<32-Ue(i)+u|a<<u|l,ii=f+t}else ni=1<<f|a<<u|l,ii=t}function Jc(t){t.return!==null&&(ga(t,1),Mg(t,1,0))}function Hc(t){for(;t===Oo;)Oo=ts[--es],ts[es]=null,Co=ts[--es],ts[es]=null;for(;t===da;)da=Ze[--Qe],Ze[Qe]=null,ii=Ze[--Qe],Ze[Qe]=null,ni=Ze[--Qe],Ze[Qe]=null}var we=null,he=null,Et=!1,Tn=null,In=!1,jc=Error(r(519));function ma(t){var i=Error(r(418,""));throw el(Xe(i,t)),jc}function Ig(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[pe]=t,i[xe]=l,a){case"dialog":bt("cancel",i),bt("close",i);break;case"iframe":case"object":case"embed":bt("load",i);break;case"video":case"audio":for(a=0;a<Nl.length;a++)bt(Nl[a],i);break;case"source":bt("error",i);break;case"img":case"image":case"link":bt("error",i),bt("load",i);break;case"details":bt("toggle",i);break;case"input":bt("invalid",i),Xd(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),yo(i);break;case"select":bt("invalid",i);break;case"textarea":bt("invalid",i),Qd(i,l.value,l.defaultValue,l.children),yo(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Py(i.textContent,a)?(l.popover!=null&&(bt("beforetoggle",i),bt("toggle",i)),l.onScroll!=null&&bt("scroll",i),l.onScrollEnd!=null&&bt("scrollend",i),l.onClick!=null&&(i.onclick=lu),i=!0):i=!1,i||ma(t)}function Ug(t){for(we=t.return;we;)switch(we.tag){case 3:case 27:In=!0;return;case 5:case 13:In=!1;return;default:we=we.return}}function Ws(t){if(t!==we)return!1;if(!Et)return Ug(t),Et=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||oh(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&he&&ma(t),Ug(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){he=wn(t.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}he=null}}else he=we?wn(t.stateNode.nextSibling):null;return!0}function tl(){he=we=null,Et=!1}function el(t){Tn===null?Tn=[t]:Tn.push(t)}var nl=Error(r(460)),zg=Error(r(474)),Vc={then:function(){}};function Lg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ro(){}function qg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ro,Ro),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===nl?Error(r(483)):t;default:if(typeof i.status=="string")i.then(Ro,Ro);else{if(t=zt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var u=i;u.status="fulfilled",u.value=l}},function(l){if(i.status==="pending"){var u=i;u.status="rejected",u.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===nl?Error(r(483)):t}throw il=i,nl}}var il=null;function Jg(){if(il===null)throw Error(r(459));var t=il;return il=null,t}var ns=null,rl=0;function ko(t){var i=rl;return rl+=1,ns===null&&(ns=[]),qg(ns,t,i)}function al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Bo(t,i){throw i.$$typeof===c?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Hg(t){var i=t._init;return i(t._payload)}function jg(t){function i(D,w){if(t){var O=D.deletions;O===null?(D.deletions=[w],D.flags|=16):O.push(w)}}function a(D,w){if(!t)return null;for(;w!==null;)i(D,w),w=w.sibling;return null}function l(D){for(var w=new Map;D!==null;)D.key!==null?w.set(D.key,D):w.set(D.index,D),D=D.sibling;return w}function u(D,w){return D=Vr(D,w),D.index=0,D.sibling=null,D}function f(D,w,O){return D.index=O,t?(O=D.alternate,O!==null?(O=O.index,O<w?(D.flags|=33554434,w):O):(D.flags|=33554434,w)):(D.flags|=1048576,w)}function g(D){return t&&D.alternate===null&&(D.flags|=33554434),D}function S(D,w,O,L){return w===null||w.tag!==6?(w=Lf(O,D.mode,L),w.return=D,w):(w=u(w,O),w.return=D,w)}function T(D,w,O,L){var K=O.type;return K===p?U(D,w,O.props.children,L,O.key):w!==null&&(w.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===_&&Hg(K)===w.type)?(w=u(w,O.props),al(w,O),w.return=D,w):(w=Zo(O.type,O.key,O.props,null,D.mode,L),al(w,O),w.return=D,w)}function N(D,w,O,L){return w===null||w.tag!==4||w.stateNode.containerInfo!==O.containerInfo||w.stateNode.implementation!==O.implementation?(w=qf(O,D.mode,L),w.return=D,w):(w=u(w,O.children||[]),w.return=D,w)}function U(D,w,O,L,K){return w===null||w.tag!==7?(w=Na(O,D.mode,L,K),w.return=D,w):(w=u(w,O),w.return=D,w)}function q(D,w,O){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Lf(""+w,D.mode,O),w.return=D,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case h:return O=Zo(w.type,w.key,w.props,null,D.mode,O),al(O,w),O.return=D,O;case m:return w=qf(w,D.mode,O),w.return=D,w;case _:var L=w._init;return w=L(w._payload),q(D,w,O)}if(it(w)||ct(w))return w=Na(w,D.mode,O,null),w.return=D,w;if(typeof w.then=="function")return q(D,ko(w),O);if(w.$$typeof===R)return q(D,Ko(D,w),O);Bo(D,w)}return null}function k(D,w,O,L){var K=w!==null?w.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return K!==null?null:S(D,w,""+O,L);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case h:return O.key===K?T(D,w,O,L):null;case m:return O.key===K?N(D,w,O,L):null;case _:return K=O._init,O=K(O._payload),k(D,w,O,L)}if(it(O)||ct(O))return K!==null?null:U(D,w,O,L,null);if(typeof O.then=="function")return k(D,w,ko(O),L);if(O.$$typeof===R)return k(D,w,Ko(D,O),L);Bo(D,O)}return null}function I(D,w,O,L,K){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return D=D.get(O)||null,S(w,D,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case h:return D=D.get(L.key===null?O:L.key)||null,T(w,D,L,K);case m:return D=D.get(L.key===null?O:L.key)||null,N(w,D,L,K);case _:var pt=L._init;return L=pt(L._payload),I(D,w,O,L,K)}if(it(L)||ct(L))return D=D.get(O)||null,U(w,D,L,K,null);if(typeof L.then=="function")return I(D,w,O,ko(L),K);if(L.$$typeof===R)return I(D,w,O,Ko(w,L),K);Bo(w,L)}return null}function Z(D,w,O,L){for(var K=null,pt=null,tt=w,rt=w=0,fe=null;tt!==null&&rt<O.length;rt++){tt.index>rt?(fe=tt,tt=null):fe=tt.sibling;var Nt=k(D,tt,O[rt],L);if(Nt===null){tt===null&&(tt=fe);break}t&&tt&&Nt.alternate===null&&i(D,tt),w=f(Nt,w,rt),pt===null?K=Nt:pt.sibling=Nt,pt=Nt,tt=fe}if(rt===O.length)return a(D,tt),Et&&ga(D,rt),K;if(tt===null){for(;rt<O.length;rt++)tt=q(D,O[rt],L),tt!==null&&(w=f(tt,w,rt),pt===null?K=tt:pt.sibling=tt,pt=tt);return Et&&ga(D,rt),K}for(tt=l(tt);rt<O.length;rt++)fe=I(tt,D,rt,O[rt],L),fe!==null&&(t&&fe.alternate!==null&&tt.delete(fe.key===null?rt:fe.key),w=f(fe,w,rt),pt===null?K=fe:pt.sibling=fe,pt=fe);return t&&tt.forEach(function(Xr){return i(D,Xr)}),Et&&ga(D,rt),K}function lt(D,w,O,L){if(O==null)throw Error(r(151));for(var K=null,pt=null,tt=w,rt=w=0,fe=null,Nt=O.next();tt!==null&&!Nt.done;rt++,Nt=O.next()){tt.index>rt?(fe=tt,tt=null):fe=tt.sibling;var Xr=k(D,tt,Nt.value,L);if(Xr===null){tt===null&&(tt=fe);break}t&&tt&&Xr.alternate===null&&i(D,tt),w=f(Xr,w,rt),pt===null?K=Xr:pt.sibling=Xr,pt=Xr,tt=fe}if(Nt.done)return a(D,tt),Et&&ga(D,rt),K;if(tt===null){for(;!Nt.done;rt++,Nt=O.next())Nt=q(D,Nt.value,L),Nt!==null&&(w=f(Nt,w,rt),pt===null?K=Nt:pt.sibling=Nt,pt=Nt);return Et&&ga(D,rt),K}for(tt=l(tt);!Nt.done;rt++,Nt=O.next())Nt=I(tt,D,rt,Nt.value,L),Nt!==null&&(t&&Nt.alternate!==null&&tt.delete(Nt.key===null?rt:Nt.key),w=f(Nt,w,rt),pt===null?K=Nt:pt.sibling=Nt,pt=Nt);return t&&tt.forEach(function(Gb){return i(D,Gb)}),Et&&ga(D,rt),K}function Yt(D,w,O,L){if(typeof O=="object"&&O!==null&&O.type===p&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case h:t:{for(var K=O.key;w!==null;){if(w.key===K){if(K=O.type,K===p){if(w.tag===7){a(D,w.sibling),L=u(w,O.props.children),L.return=D,D=L;break t}}else if(w.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===_&&Hg(K)===w.type){a(D,w.sibling),L=u(w,O.props),al(L,O),L.return=D,D=L;break t}a(D,w);break}else i(D,w);w=w.sibling}O.type===p?(L=Na(O.props.children,D.mode,L,O.key),L.return=D,D=L):(L=Zo(O.type,O.key,O.props,null,D.mode,L),al(L,O),L.return=D,D=L)}return g(D);case m:t:{for(K=O.key;w!==null;){if(w.key===K)if(w.tag===4&&w.stateNode.containerInfo===O.containerInfo&&w.stateNode.implementation===O.implementation){a(D,w.sibling),L=u(w,O.children||[]),L.return=D,D=L;break t}else{a(D,w);break}else i(D,w);w=w.sibling}L=qf(O,D.mode,L),L.return=D,D=L}return g(D);case _:return K=O._init,O=K(O._payload),Yt(D,w,O,L)}if(it(O))return Z(D,w,O,L);if(ct(O)){if(K=ct(O),typeof K!="function")throw Error(r(150));return O=K.call(O),lt(D,w,O,L)}if(typeof O.then=="function")return Yt(D,w,ko(O),L);if(O.$$typeof===R)return Yt(D,w,Ko(D,O),L);Bo(D,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,w!==null&&w.tag===6?(a(D,w.sibling),L=u(w,O),L.return=D,D=L):(a(D,w),L=Lf(O,D.mode,L),L.return=D,D=L),g(D)):a(D,w)}return function(D,w,O,L){try{rl=0;var K=Yt(D,w,O,L);return ns=null,K}catch(tt){if(tt===nl)throw tt;var pt=en(29,tt,null,D.mode);return pt.lanes=L,pt.return=D,pt}finally{}}}var ya=jg(!0),Vg=jg(!1),is=Ot(null),Mo=Ot(0);function Pg(t,i){t=gi,qt(Mo,t),qt(is,i),gi=t|i.baseLanes}function Pc(){qt(Mo,gi),qt(is,is.current)}function Gc(){gi=Mo.current,Wt(is),Wt(Mo)}var _e=Ot(null),Un=null;function kr(t){var i=t.alternate;qt(ae,ae.current&1),qt(_e,t),Un===null&&(i===null||is.current!==null||i.memoizedState!==null)&&(Un=t)}function Gg(t){if(t.tag===22){if(qt(ae,ae.current),qt(_e,t),Un===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Un=t)}}else Br()}function Br(){qt(ae,ae.current),qt(_e,_e.current)}function ri(t){Wt(_e),Un===t&&(Un=null),Wt(ae)}var ae=Ot(0);function Io(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var kS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},BS=s.unstable_scheduleCallback,MS=s.unstable_NormalPriority,se={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yc(){return{controller:new kS,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&BS(MS,function(){t.controller.abort()})}var ll=null,Fc=0,rs=0,as=null;function IS(t,i){if(ll===null){var a=ll=[];Fc=0,rs=Wf(),as={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Fc++,i.then(Yg,Yg),i}function Yg(){if(--Fc===0&&ll!==null){as!==null&&(as.status="fulfilled");var t=ll;ll=null,rs=0,as=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function US(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var u=0;u<a.length;u++)(0,a[u])(i)},function(u){for(l.status="rejected",l.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),l}var Fg=$.S;$.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&IS(t,i),Fg!==null&&Fg(t,i)};var pa=Ot(null);function Kc(){var t=pa.current;return t!==null?t:zt.pooledCache}function Uo(t,i){i===null?qt(pa,pa.current):qt(pa,i.pool)}function Kg(){var t=Kc();return t===null?null:{parent:se._currentValue,pool:t}}var Mr=0,yt=null,kt=null,te=null,zo=!1,ss=!1,va=!1,Lo=0,ol=0,ls=null,zS=0;function Xt(){throw Error(r(321))}function $c(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!ze(t[a],i[a]))return!1;return!0}function Xc(t,i,a,l,u,f){return Mr=f,yt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?Sa:Ir,va=!1,f=a(l,u),va=!1,ss&&(f=Xg(i,a,l,u)),$g(t),f}function $g(t){$.H=zn;var i=kt!==null&&kt.next!==null;if(Mr=0,te=kt=yt=null,zo=!1,ol=0,ls=null,i)throw Error(r(300));t===null||ue||(t=t.dependencies,t!==null&&Fo(t)&&(ue=!0))}function Xg(t,i,a,l){yt=t;var u=0;do{if(ss&&(ls=null),ol=0,ss=!1,25<=u)throw Error(r(301));if(u+=1,te=kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=ba,f=i(a,l)}while(ss);return f}function LS(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?ul(i):i,t=t.useState()[0],(kt!==null?kt.memoizedState:null)!==t&&(yt.flags|=1024),i}function Zc(){var t=Lo!==0;return Lo=0,t}function Qc(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function _c(t){if(zo){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}zo=!1}Mr=0,te=kt=yt=null,ss=!1,ol=Lo=0,ls=null}function Ce(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return te===null?yt.memoizedState=te=t:te=te.next=t,te}function ee(){if(kt===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=kt.next;var i=te===null?yt.memoizedState:te.next;if(i!==null)te=i,kt=t;else{if(t===null)throw yt.alternate===null?Error(r(467)):Error(r(310));kt=t,t={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},te===null?yt.memoizedState=te=t:te=te.next=t}return te}var qo;qo=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ul(t){var i=ol;return ol+=1,ls===null&&(ls=[]),t=qg(ls,t,i),i=yt,(te===null?i.memoizedState:te.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Sa:Ir),t}function Jo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===R)return ve(t)}throw Error(r(438,String(t)))}function Wc(t){var i=null,a=yt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=yt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(u){return u.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=qo(),yt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=gt;return i.index++,a}function ai(t,i){return typeof i=="function"?i(t):i}function Ho(t){var i=ee();return tf(i,kt,t)}function tf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var u=t.baseQueue,f=l.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}i.baseQueue=u=f,l.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{i=u.next;var S=g=null,T=null,N=i,U=!1;do{var q=N.lane&-536870913;if(q!==N.lane?(At&q)===q:(Mr&q)===q){var k=N.revertLane;if(k===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),q===rs&&(U=!0);else if((Mr&k)===k){N=N.next,k===rs&&(U=!0);continue}else q={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},T===null?(S=T=q,g=f):T=T.next=q,yt.lanes|=k,Pr|=k;q=N.action,va&&a(f,q),f=N.hasEagerState?N.eagerState:a(f,q)}else k={lane:q,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},T===null?(S=T=k,g=f):T=T.next=k,yt.lanes|=q,Pr|=q;N=N.next}while(N!==null&&N!==i);if(T===null?g=f:T.next=S,!ze(f,t.memoizedState)&&(ue=!0,U&&(a=as,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=T,l.lastRenderedState=f}return u===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ef(t){var i=ee(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,u=a.pending,f=i.memoizedState;if(u!==null){a.pending=null;var g=u=u.next;do f=t(f,g.action),g=g.next;while(g!==u);ze(f,i.memoizedState)||(ue=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function Zg(t,i,a){var l=yt,u=ee(),f=Et;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var g=!ze((kt||u).memoizedState,a);if(g&&(u.memoizedState=a,ue=!0),u=u.queue,af(Wg.bind(null,l,u,t),[t]),u.getSnapshot!==i||g||te!==null&&te.memoizedState.tag&1){if(l.flags|=2048,os(9,_g.bind(null,l,u,a,i),{destroy:void 0},null),zt===null)throw Error(r(349));f||(Mr&60)!==0||Qg(l,i,a)}return a}function Qg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=yt.updateQueue,i===null?(i=qo(),yt.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function _g(t,i,a,l){i.value=a,i.getSnapshot=l,tm(i)&&em(t)}function Wg(t,i,a){return a(function(){tm(i)&&em(t)})}function tm(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!ze(t,a)}catch{return!0}}function em(t){var i=Rr(t,2);i!==null&&Ee(i,t,2)}function nf(t){var i=Ce();if(typeof t=="function"){var a=t;if(t=a(),va){xr(!0);try{a()}finally{xr(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:t},i}function nm(t,i,a,l){return t.baseState=a,tf(t,kt,typeof l=="function"?l:ai)}function qS(t,i,a,l,u){if(Po(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};$.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,im(i,f)):(f.next=a.next,i.pending=a.next=f)}}function im(t,i){var a=i.action,l=i.payload,u=t.state;if(i.isTransition){var f=$.T,g={};$.T=g;try{var S=a(u,l),T=$.S;T!==null&&T(g,S),rm(t,i,S)}catch(N){rf(t,i,N)}finally{$.T=f}}else try{f=a(u,l),rm(t,i,f)}catch(N){rf(t,i,N)}}function rm(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){am(t,i,l)},function(l){return rf(t,i,l)}):am(t,i,a)}function am(t,i,a){i.status="fulfilled",i.value=a,sm(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,im(t,a)))}function rf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,sm(i),i=i.next;while(i!==l)}t.action=null}function sm(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function lm(t,i){return i}function om(t,i){if(Et){var a=zt.formState;if(a!==null){t:{var l=yt;if(Et){if(he){e:{for(var u=he,f=In;u.nodeType!==8;){if(!f){u=null;break e}if(u=wn(u.nextSibling),u===null){u=null;break e}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){he=wn(u.nextSibling),l=u.data==="F!";break t}}ma(l)}l=!1}l&&(i=a[0])}}return a=Ce(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lm,lastRenderedState:i},a.queue=l,a=Dm.bind(null,yt,l),l.dispatch=a,l=nf(!1),f=cf.bind(null,yt,!1,l.queue),l=Ce(),u={state:i,dispatch:null,action:t,pending:null},l.queue=u,a=qS.bind(null,yt,u,f,a),u.dispatch=a,l.memoizedState=t,[i,a,!1]}function um(t){var i=ee();return cm(i,kt,t)}function cm(t,i,a){i=tf(t,i,lm)[0],t=Ho(ai)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?ul(i):i;var l=ee(),u=l.queue,f=u.dispatch;return a!==l.memoizedState&&(yt.flags|=2048,os(9,JS.bind(null,u,a),{destroy:void 0},null)),[i,f,t]}function JS(t,i){t.action=i}function fm(t){var i=ee(),a=kt;if(a!==null)return cm(i,a,t);ee(),i=i.memoizedState,a=ee();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function os(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=yt.updateQueue,i===null&&(i=qo(),yt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function hm(){return ee().memoizedState}function jo(t,i,a,l){var u=Ce();yt.flags|=t,u.memoizedState=os(1|i,a,{destroy:void 0},l===void 0?null:l)}function Vo(t,i,a,l){var u=ee();l=l===void 0?null:l;var f=u.memoizedState.inst;kt!==null&&l!==null&&$c(l,kt.memoizedState.deps)?u.memoizedState=os(i,a,f,l):(yt.flags|=t,u.memoizedState=os(1|i,a,f,l))}function dm(t,i){jo(8390656,8,t,i)}function af(t,i){Vo(2048,8,t,i)}function gm(t,i){return Vo(4,2,t,i)}function mm(t,i){return Vo(4,4,t,i)}function ym(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function pm(t,i,a){a=a!=null?a.concat([t]):null,Vo(4,4,ym.bind(null,i,t),a)}function sf(){}function vm(t,i){var a=ee();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&$c(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Sm(t,i){var a=ee();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&$c(i,l[1]))return l[0];if(l=t(),va){xr(!0);try{t()}finally{xr(!1)}}return a.memoizedState=[l,i],l}function lf(t,i,a){return a===void 0||(Mr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Ty(),yt.lanes|=t,Pr|=t,a)}function bm(t,i,a,l){return ze(a,i)?a:is.current!==null?(t=lf(t,a,l),ze(t,i)||(ue=!0),t):(Mr&42)===0?(ue=!0,t.memoizedState=a):(t=Ty(),yt.lanes|=t,Pr|=t,i)}function Tm(t,i,a,l,u){var f=F.p;F.p=f!==0&&8>f?f:8;var g=$.T,S={};$.T=S,cf(t,!1,i,a);try{var T=u(),N=$.S;if(N!==null&&N(S,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var U=US(T,l);cl(t,i,U,He(t))}else cl(t,i,l,He(t))}catch(q){cl(t,i,{then:function(){},status:"rejected",reason:q},He())}finally{F.p=f,$.T=g}}function HS(){}function of(t,i,a,l){if(t.tag!==5)throw Error(r(476));var u=Am(t).queue;Tm(t,u,i,Tt,a===null?HS:function(){return wm(t),a(l)})}function Am(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Tt,baseState:Tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:Tt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function wm(t){var i=Am(t).next.queue;cl(t,i,{},He())}function uf(){return ve(Rl)}function Em(){return ee().memoizedState}function Nm(){return ee().memoizedState}function jS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=He();t=Lr(a);var l=qr(i,t,a);l!==null&&(Ee(l,i,a),dl(l,i,a)),i={cache:Yc()},t.payload=i;return}i=i.return}}function VS(t,i,a){var l=He();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Po(t)?xm(i,a):(a=qc(t,i,a,l),a!==null&&(Ee(a,t,l),Om(a,i,l)))}function Dm(t,i,a){var l=He();cl(t,i,a,l)}function cl(t,i,a,l){var u={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Po(t))xm(i,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var g=i.lastRenderedState,S=f(g,a);if(u.hasEagerState=!0,u.eagerState=S,ze(S,g))return Do(t,i,u,0),zt===null&&No(),!1}catch{}finally{}if(a=qc(t,i,u,l),a!==null)return Ee(a,t,l),Om(a,i,l),!0}return!1}function cf(t,i,a,l){if(l={lane:2,revertLane:Wf(),action:l,hasEagerState:!1,eagerState:null,next:null},Po(t)){if(i)throw Error(r(479))}else i=qc(t,a,l,2),i!==null&&Ee(i,t,2)}function Po(t){var i=t.alternate;return t===yt||i!==null&&i===yt}function xm(t,i){ss=zo=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Om(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Jd(t,a)}}var zn={readContext:ve,use:Jo,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt};zn.useCacheRefresh=Xt,zn.useMemoCache=Xt,zn.useHostTransitionStatus=Xt,zn.useFormState=Xt,zn.useActionState=Xt,zn.useOptimistic=Xt;var Sa={readContext:ve,use:Jo,useCallback:function(t,i){return Ce().memoizedState=[t,i===void 0?null:i],t},useContext:ve,useEffect:dm,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,jo(4194308,4,ym.bind(null,i,t),a)},useLayoutEffect:function(t,i){return jo(4194308,4,t,i)},useInsertionEffect:function(t,i){jo(4,2,t,i)},useMemo:function(t,i){var a=Ce();i=i===void 0?null:i;var l=t();if(va){xr(!0);try{t()}finally{xr(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=Ce();if(a!==void 0){var u=a(i);if(va){xr(!0);try{a(i)}finally{xr(!1)}}}else u=i;return l.memoizedState=l.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},l.queue=t,t=t.dispatch=VS.bind(null,yt,t),[l.memoizedState,t]},useRef:function(t){var i=Ce();return t={current:t},i.memoizedState=t},useState:function(t){t=nf(t);var i=t.queue,a=Dm.bind(null,yt,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:sf,useDeferredValue:function(t,i){var a=Ce();return lf(a,t,i)},useTransition:function(){var t=nf(!1);return t=Tm.bind(null,yt,t.queue,!0,!1),Ce().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=yt,u=Ce();if(Et){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),zt===null)throw Error(r(349));(At&60)!==0||Qg(l,i,a)}u.memoizedState=a;var f={value:a,getSnapshot:i};return u.queue=f,dm(Wg.bind(null,l,f,t),[t]),l.flags|=2048,os(9,_g.bind(null,l,f,a,i),{destroy:void 0},null),a},useId:function(){var t=Ce(),i=zt.identifierPrefix;if(Et){var a=ii,l=ni;a=(l&~(1<<32-Ue(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Lo++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=zS++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return Ce().memoizedState=jS.bind(null,yt)}};Sa.useMemoCache=Wc,Sa.useHostTransitionStatus=uf,Sa.useFormState=om,Sa.useActionState=om,Sa.useOptimistic=function(t){var i=Ce();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=cf.bind(null,yt,!0,a),a.dispatch=i,[t,i]};var Ir={readContext:ve,use:Jo,useCallback:vm,useContext:ve,useEffect:af,useImperativeHandle:pm,useInsertionEffect:gm,useLayoutEffect:mm,useMemo:Sm,useReducer:Ho,useRef:hm,useState:function(){return Ho(ai)},useDebugValue:sf,useDeferredValue:function(t,i){var a=ee();return bm(a,kt.memoizedState,t,i)},useTransition:function(){var t=Ho(ai)[0],i=ee().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Zg,useId:Em};Ir.useCacheRefresh=Nm,Ir.useMemoCache=Wc,Ir.useHostTransitionStatus=uf,Ir.useFormState=um,Ir.useActionState=um,Ir.useOptimistic=function(t,i){var a=ee();return nm(a,kt,t,i)};var ba={readContext:ve,use:Jo,useCallback:vm,useContext:ve,useEffect:af,useImperativeHandle:pm,useInsertionEffect:gm,useLayoutEffect:mm,useMemo:Sm,useReducer:ef,useRef:hm,useState:function(){return ef(ai)},useDebugValue:sf,useDeferredValue:function(t,i){var a=ee();return kt===null?lf(a,t,i):bm(a,kt.memoizedState,t,i)},useTransition:function(){var t=ef(ai)[0],i=ee().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Zg,useId:Em};ba.useCacheRefresh=Nm,ba.useMemoCache=Wc,ba.useHostTransitionStatus=uf,ba.useFormState=fm,ba.useActionState=fm,ba.useOptimistic=function(t,i){var a=ee();return kt!==null?nm(a,kt,t,i):(a.baseState=t,[t,a.queue.dispatch])};function ff(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:ht({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hf={isMounted:function(t){return(t=t._reactInternals)?st(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=He(),u=Lr(l);u.payload=i,a!=null&&(u.callback=a),i=qr(t,u,l),i!==null&&(Ee(i,t,l),dl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=He(),u=Lr(l);u.tag=1,u.payload=i,a!=null&&(u.callback=a),i=qr(t,u,l),i!==null&&(Ee(i,t,l),dl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=He(),l=Lr(a);l.tag=2,i!=null&&(l.callback=i),i=qr(t,l,a),i!==null&&(Ee(i,t,a),dl(i,t,a))}};function Cm(t,i,a,l,u,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):i.prototype&&i.prototype.isPureReactComponent?!Qs(a,l)||!Qs(u,f):!0}function Rm(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&hf.enqueueReplaceState(i,i.state,null)}function Ta(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=ht({},a));for(var u in t)a[u]===void 0&&(a[u]=t[u])}return a}var Go=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function km(t){Go(t)}function Bm(t){console.error(t)}function Mm(t){Go(t)}function Yo(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Im(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function df(t,i,a){return a=Lr(a),a.tag=3,a.payload={element:null},a.callback=function(){Yo(t,i)},a}function Um(t){return t=Lr(t),t.tag=3,t}function zm(t,i,a,l){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;t.payload=function(){return u(f)},t.callback=function(){Im(i,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Im(i,a,l),typeof u!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function PS(t,i,a,l,u){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&hl(i,a,u,!0),a=_e.current,a!==null){switch(a.tag){case 13:return Un===null?$f():a.alternate===null&&Gt===0&&(Gt=3),a.flags&=-257,a.flags|=65536,a.lanes=u,l===Vc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Zf(t,l,u)),!1;case 22:return a.flags|=65536,l===Vc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Zf(t,l,u)),!1}throw Error(r(435,a.tag))}return Zf(t,l,u),$f(),!1}if(Et)return i=_e.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=u,l!==jc&&(t=Error(r(422),{cause:l}),el(Xe(t,a)))):(l!==jc&&(i=Error(r(423),{cause:l}),el(Xe(i,a))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,l=Xe(l,a),u=df(t.stateNode,l,u),Of(t,u),Gt!==4&&(Gt=2)),!1;var f=Error(r(520),{cause:l});if(f=Xe(f,a),Tl===null?Tl=[f]:Tl.push(f),Gt!==4&&(Gt=2),i===null)return!0;l=Xe(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=u&-u,a.lanes|=t,t=df(a.stateNode,l,t),Of(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Gr===null||!Gr.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Um(u),zm(u,t,a,l),Of(a,u),!1}a=a.return}while(a!==null);return!1}var Lm=Error(r(461)),ue=!1;function de(t,i,a,l){i.child=t===null?Vg(i,null,a,l):ya(i,t.child,a,l)}function qm(t,i,a,l,u){a=a.render;var f=i.ref;if("ref"in l){var g={};for(var S in l)S!=="ref"&&(g[S]=l[S])}else g=l;return wa(i),l=Xc(t,i,a,g,f,u),S=Zc(),t!==null&&!ue?(Qc(t,i,u),si(t,i,u)):(Et&&S&&Jc(i),i.flags|=1,de(t,i,l,u),i.child)}function Jm(t,i,a,l,u){if(t===null){var f=a.type;return typeof f=="function"&&!zf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Hm(t,i,f,l,u)):(t=Zo(a.type,null,l,i,i.mode,u),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Af(t,u)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Qs,a(g,l)&&t.ref===i.ref)return si(t,i,u)}return i.flags|=1,t=Vr(f,l),t.ref=i.ref,t.return=i,i.child=t}function Hm(t,i,a,l,u){if(t!==null){var f=t.memoizedProps;if(Qs(f,l)&&t.ref===i.ref)if(ue=!1,i.pendingProps=l=f,Af(t,u))(t.flags&131072)!==0&&(ue=!0);else return i.lanes=t.lanes,si(t,i,u)}return gf(t,i,a,l,u)}function jm(t,i,a){var l=i.pendingProps,u=l.children,f=(i.stateNode._pendingVisibility&2)!==0,g=t!==null?t.memoizedState:null;if(fl(t,i),l.mode==="hidden"||f){if((i.flags&128)!==0){if(l=g!==null?g.baseLanes|a:a,t!==null){for(u=i.child=t.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return Vm(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uo(i,g!==null?g.cachePool:null),g!==null?Pg(i,g):Pc(),Gg(i);else return i.lanes=i.childLanes=536870912,Vm(t,i,g!==null?g.baseLanes|a:a,a)}else g!==null?(Uo(i,g.cachePool),Pg(i,g),Br(),i.memoizedState=null):(t!==null&&Uo(i,null),Pc(),Br());return de(t,i,u,a),i.child}function Vm(t,i,a,l){var u=Kc();return u=u===null?null:{parent:se._currentValue,pool:u},i.memoizedState={baseLanes:a,cachePool:u},t!==null&&Uo(i,null),Pc(),Gg(i),t!==null&&hl(t,i,l,!0),null}function fl(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function gf(t,i,a,l,u){return wa(i),a=Xc(t,i,a,l,void 0,u),l=Zc(),t!==null&&!ue?(Qc(t,i,u),si(t,i,u)):(Et&&l&&Jc(i),i.flags|=1,de(t,i,a,u),i.child)}function Pm(t,i,a,l,u,f){return wa(i),i.updateQueue=null,a=Xg(i,l,a,u),$g(t),l=Zc(),t!==null&&!ue?(Qc(t,i,f),si(t,i,f)):(Et&&l&&Jc(i),i.flags|=1,de(t,i,a,f),i.child)}function Gm(t,i,a,l,u){if(wa(i),i.stateNode===null){var f=Wa,g=a.contextType;typeof g=="object"&&g!==null&&(f=ve(g)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=hf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},Df(i),g=a.contextType,f.context=typeof g=="object"&&g!==null?ve(g):Wa,f.state=i.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(ff(i,a,g,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&hf.enqueueReplaceState(f,f.state,null),ml(i,l,f,u),gl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var S=i.memoizedProps,T=Ta(a,S);f.props=T;var N=f.context,U=a.contextType;g=Wa,typeof U=="object"&&U!==null&&(g=ve(U));var q=a.getDerivedStateFromProps;U=typeof q=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,U||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||N!==g)&&Rm(i,f,l,g),zr=!1;var k=i.memoizedState;f.state=k,ml(i,l,f,u),gl(),N=i.memoizedState,S||k!==N||zr?(typeof q=="function"&&(ff(i,a,q,l),N=i.memoizedState),(T=zr||Cm(i,a,T,l,k,N,g))?(U||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=N),f.props=l,f.state=N,f.context=g,l=T):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,xf(t,i),g=i.memoizedProps,U=Ta(a,g),f.props=U,q=i.pendingProps,k=f.context,N=a.contextType,T=Wa,typeof N=="object"&&N!==null&&(T=ve(N)),S=a.getDerivedStateFromProps,(N=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==q||k!==T)&&Rm(i,f,l,T),zr=!1,k=i.memoizedState,f.state=k,ml(i,l,f,u),gl();var I=i.memoizedState;g!==q||k!==I||zr||t!==null&&t.dependencies!==null&&Fo(t.dependencies)?(typeof S=="function"&&(ff(i,a,S,l),I=i.memoizedState),(U=zr||Cm(i,a,U,l,k,I,T)||t!==null&&t.dependencies!==null&&Fo(t.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,I,T),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,I,T)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=I),f.props=l,f.state=I,f.context=T,l=U):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,fl(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=ya(i,t.child,null,u),i.child=ya(i,null,a,u)):de(t,i,a,u),i.memoizedState=f.state,t=i.child):t=si(t,i,u),t}function Ym(t,i,a,l){return tl(),i.flags|=256,de(t,i,a,l),i.child}var mf={dehydrated:null,treeContext:null,retryLane:0};function yf(t){return{baseLanes:t,cachePool:Kg()}}function pf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=nn),t}function Fm(t,i,a){var l=i.pendingProps,u=!1,f=(i.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(ae.current&2)!==0),g&&(u=!0,i.flags&=-129),g=(i.flags&32)!==0,i.flags&=-33,t===null){if(Et){if(u?kr(i):Br(),Et){var S=he,T;if(T=S){t:{for(T=S,S=In;T.nodeType!==8;){if(!S){S=null;break t}if(T=wn(T.nextSibling),T===null){S=null;break t}}S=T}S!==null?(i.memoizedState={dehydrated:S,treeContext:da!==null?{id:ni,overflow:ii}:null,retryLane:536870912},T=en(18,null,null,0),T.stateNode=S,T.return=i,i.child=T,we=i,he=null,T=!0):T=!1}T||ma(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?i.lanes=16:i.lanes=536870912,null;ri(i)}return S=l.children,l=l.fallback,u?(Br(),u=i.mode,S=Sf({mode:"hidden",children:S},u),l=Na(l,u,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,u=i.child,u.memoizedState=yf(a),u.childLanes=pf(t,g,a),i.memoizedState=mf,l):(kr(i),vf(i,S))}if(T=t.memoizedState,T!==null&&(S=T.dehydrated,S!==null)){if(f)i.flags&256?(kr(i),i.flags&=-257,i=bf(t,i,a)):i.memoizedState!==null?(Br(),i.child=t.child,i.flags|=128,i=null):(Br(),u=l.fallback,S=i.mode,l=Sf({mode:"visible",children:l.children},S),u=Na(u,S,a,null),u.flags|=2,l.return=i,u.return=i,l.sibling=u,i.child=l,ya(i,t.child,null,a),l=i.child,l.memoizedState=yf(a),l.childLanes=pf(t,g,a),i.memoizedState=mf,i=u);else if(kr(i),S.data==="$!"){if(g=S.nextSibling&&S.nextSibling.dataset,g)var N=g.dgst;g=N,l=Error(r(419)),l.stack="",l.digest=g,el({value:l,source:null,stack:null}),i=bf(t,i,a)}else if(ue||hl(t,i,a,!1),g=(a&t.childLanes)!==0,ue||g){if(g=zt,g!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(g.suspendedLanes|a))!==0?0:l,l!==0&&l!==T.retryLane)throw T.retryLane=l,Rr(t,l),Ee(g,t,l),Lm}S.data==="$?"||$f(),i=bf(t,i,a)}else S.data==="$?"?(i.flags|=128,i.child=t.child,i=rb.bind(null,t),S._reactRetry=i,i=null):(t=T.treeContext,he=wn(S.nextSibling),we=i,Et=!0,Tn=null,In=!1,t!==null&&(Ze[Qe++]=ni,Ze[Qe++]=ii,Ze[Qe++]=da,ni=t.id,ii=t.overflow,da=i),i=vf(i,l.children),i.flags|=4096);return i}return u?(Br(),u=l.fallback,S=i.mode,T=t.child,N=T.sibling,l=Vr(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&31457280,N!==null?u=Vr(N,u):(u=Na(u,S,a,null),u.flags|=2),u.return=i,l.return=i,l.sibling=u,i.child=l,l=u,u=i.child,S=t.child.memoizedState,S===null?S=yf(a):(T=S.cachePool,T!==null?(N=se._currentValue,T=T.parent!==N?{parent:N,pool:N}:T):T=Kg(),S={baseLanes:S.baseLanes|a,cachePool:T}),u.memoizedState=S,u.childLanes=pf(t,g,a),i.memoizedState=mf,l):(kr(i),a=t.child,t=a.sibling,a=Vr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(g=i.deletions,g===null?(i.deletions=[t],i.flags|=16):g.push(t)),i.child=a,i.memoizedState=null,a)}function vf(t,i){return i=Sf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Sf(t,i){return vy(t,i,0,null)}function bf(t,i,a){return ya(i,t.child,null,a),t=vf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Km(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Ef(t.return,i,a)}function Tf(t,i,a,l,u){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=u)}function $m(t,i,a){var l=i.pendingProps,u=l.revealOrder,f=l.tail;if(de(t,i,l.children,a),l=ae.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Km(t,a,i);else if(t.tag===19)Km(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break t;for(;t.sibling===null;){if(t.return===null||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(qt(ae,l),u){case"forwards":for(a=i.child,u=null;a!==null;)t=a.alternate,t!==null&&Io(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=i.child,i.child=null):(u=a.sibling,a.sibling=null),Tf(i,!1,u,a,f);break;case"backwards":for(a=null,u=i.child,i.child=null;u!==null;){if(t=u.alternate,t!==null&&Io(t)===null){i.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}Tf(i,!0,a,null,f);break;case"together":Tf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function si(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Pr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(hl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Vr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Vr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Af(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Fo(t)))}function GS(t,i,a){switch(i.tag){case 3:lo(i,i.stateNode.containerInfo),Ur(i,se,t.memoizedState.cache),tl();break;case 27:case 5:fc(i);break;case 4:lo(i,i.stateNode.containerInfo);break;case 10:Ur(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(kr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Fm(t,i,a):(kr(i),t=si(t,i,a),t!==null?t.sibling:null);kr(i);break;case 19:var u=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(hl(t,i,a,!1),l=(a&i.childLanes)!==0),u){if(l)return $m(t,i,a);i.flags|=128}if(u=i.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),qt(ae,ae.current),l)break;return null;case 22:case 23:return i.lanes=0,jm(t,i,a);case 24:Ur(i,se,t.memoizedState.cache)}return si(t,i,a)}function Xm(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)ue=!0;else{if(!Af(t,a)&&(i.flags&128)===0)return ue=!1,GS(t,i,a);ue=(t.flags&131072)!==0}else ue=!1,Et&&(i.flags&1048576)!==0&&Mg(i,Co,i.index);switch(i.lanes=0,i.tag){case 16:t:{t=i.pendingProps;var l=i.elementType,u=l._init;if(l=u(l._payload),i.type=l,typeof l=="function")zf(l)?(t=Ta(l,t),i.tag=1,i=Gm(null,i,l,t,a)):(i.tag=0,i=gf(null,i,l,t,a));else{if(l!=null){if(u=l.$$typeof,u===z){i.tag=11,i=qm(null,i,l,t,a);break t}else if(u===et){i.tag=14,i=Jm(null,i,l,t,a);break t}}throw i=xt(l)||l,Error(r(306,i,""))}}return i;case 0:return gf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,u=Ta(l,i.pendingProps),Gm(t,i,l,u,a);case 3:t:{if(lo(i,i.stateNode.containerInfo),t===null)throw Error(r(387));var f=i.pendingProps;u=i.memoizedState,l=u.element,xf(t,i),ml(i,f,null,a);var g=i.memoizedState;if(f=g.cache,Ur(i,se,f),f!==u.cache&&Nf(i,[se],a,!0),gl(),f=g.element,u.isDehydrated)if(u={element:f,isDehydrated:!1,cache:g.cache},i.updateQueue.baseState=u,i.memoizedState=u,i.flags&256){i=Ym(t,i,f,a);break t}else if(f!==l){l=Xe(Error(r(424)),i),el(l),i=Ym(t,i,f,a);break t}else for(he=wn(i.stateNode.containerInfo.firstChild),we=i,Et=!0,Tn=null,In=!0,a=Vg(i,null,f,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(tl(),f===l){i=si(t,i,a);break t}de(t,i,f,a)}i=i.child}return i;case 26:return fl(t,i),t===null?(a=_y(i.type,null,i.pendingProps,null))?i.memoizedState=a:Et||(a=i.type,t=i.pendingProps,l=ou(Dr.current).createElement(a),l[pe]=i,l[xe]=t,ge(l,a,t),oe(l),i.stateNode=l):i.memoizedState=_y(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return fc(i),t===null&&Et&&(l=i.stateNode=Xy(i.type,i.pendingProps,Dr.current),we=i,In=!0,he=wn(l.firstChild)),l=i.pendingProps.children,t!==null||Et?de(t,i,l,a):i.child=ya(i,null,l,a),fl(t,i),i.child;case 5:return t===null&&Et&&((u=l=he)&&(l=bb(l,i.type,i.pendingProps,In),l!==null?(i.stateNode=l,we=i,he=wn(l.firstChild),In=!1,u=!0):u=!1),u||ma(i)),fc(i),u=i.type,f=i.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,oh(u,f)?l=null:g!==null&&oh(u,g)&&(i.flags|=32),i.memoizedState!==null&&(u=Xc(t,i,LS,null,null,a),Rl._currentValue=u),fl(t,i),de(t,i,l,a),i.child;case 6:return t===null&&Et&&((t=a=he)&&(a=Tb(a,i.pendingProps,In),a!==null?(i.stateNode=a,we=i,he=null,t=!0):t=!1),t||ma(i)),null;case 13:return Fm(t,i,a);case 4:return lo(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ya(i,null,l,a):de(t,i,l,a),i.child;case 11:return qm(t,i,i.type,i.pendingProps,a);case 7:return de(t,i,i.pendingProps,a),i.child;case 8:return de(t,i,i.pendingProps.children,a),i.child;case 12:return de(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ur(i,i.type,l.value),de(t,i,l.children,a),i.child;case 9:return u=i.type._context,l=i.pendingProps.children,wa(i),u=ve(u),l=l(u),i.flags|=1,de(t,i,l,a),i.child;case 14:return Jm(t,i,i.type,i.pendingProps,a);case 15:return Hm(t,i,i.type,i.pendingProps,a);case 19:return $m(t,i,a);case 22:return jm(t,i,a);case 24:return wa(i),l=ve(se),t===null?(u=Kc(),u===null&&(u=zt,f=Yc(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),i.memoizedState={parent:l,cache:u},Df(i),Ur(i,se,u)):((t.lanes&a)!==0&&(xf(t,i),ml(i,null,null,a),gl()),u=t.memoizedState,f=i.memoizedState,u.parent!==l?(u={parent:l,cache:l},i.memoizedState=u,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=u),Ur(i,se,l)):(l=f.cache,Ur(i,se,l),l!==u.cache&&Nf(i,[se],a,!0))),de(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}var wf=Ot(null),Aa=null,li=null;function Ur(t,i,a){qt(wf,i._currentValue),i._currentValue=a}function oi(t){t._currentValue=wf.current,Wt(wf)}function Ef(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Nf(t,i,a,l){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;t:for(;f!==null;){var S=f;f=u;for(var T=0;T<i.length;T++)if(S.context===i[T]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),Ef(f.return,a,t),l||(g=null);break t}f=S.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Ef(g,a,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function hl(t,i,a,l){t=null;for(var u=i,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var S=u.type;ze(u.pendingProps.value,g.value)||(t!==null?t.push(S):t=[S])}}else if(u===so.current){if(g=u.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}u=u.return}t!==null&&Nf(i,t,a,l),i.flags|=262144}function Fo(t){for(t=t.firstContext;t!==null;){if(!ze(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function wa(t){Aa=t,li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ve(t){return Zm(Aa,t)}function Ko(t,i){return Aa===null&&wa(t),Zm(t,i)}function Zm(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},li===null){if(t===null)throw Error(r(308));li=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else li=li.next=i;return a}var zr=!1;function Df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Vt&2)!==0){var u=l.pending;return u===null?i.next=i:(i.next=u.next,u.next=i),l.pending=i,i=xo(t),kg(t,null,a),i}return Do(t,l,i,a),xo(t)}function dl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Jd(t,a)}}function Of(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?u=f=i:f=f.next=i}else u=f=i;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Cf=!1;function gl(){if(Cf){var t=as;if(t!==null)throw t}}function ml(t,i,a,l){Cf=!1;var u=t.updateQueue;zr=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var T=S,N=T.next;T.next=null,g===null?f=N:g.next=N,g=T;var U=t.alternate;U!==null&&(U=U.updateQueue,S=U.lastBaseUpdate,S!==g&&(S===null?U.firstBaseUpdate=N:S.next=N,U.lastBaseUpdate=T))}if(f!==null){var q=u.baseState;g=0,U=N=T=null,S=f;do{var k=S.lane&-536870913,I=k!==S.lane;if(I?(At&k)===k:(l&k)===k){k!==0&&k===rs&&(Cf=!0),U!==null&&(U=U.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var Z=t,lt=S;k=i;var Yt=a;switch(lt.tag){case 1:if(Z=lt.payload,typeof Z=="function"){q=Z.call(Yt,q,k);break t}q=Z;break t;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=lt.payload,k=typeof Z=="function"?Z.call(Yt,q,k):Z,k==null)break t;q=ht({},q,k);break t;case 2:zr=!0}}k=S.callback,k!==null&&(t.flags|=64,I&&(t.flags|=8192),I=u.callbacks,I===null?u.callbacks=[k]:I.push(k))}else I={lane:k,tag:S.tag,payload:S.payload,callback:S.callback,next:null},U===null?(N=U=I,T=q):U=U.next=I,g|=k;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;I=S,S=I.next,I.next=null,u.lastBaseUpdate=I,u.shared.pending=null}}while(!0);U===null&&(T=q),u.baseState=T,u.firstBaseUpdate=N,u.lastBaseUpdate=U,f===null&&(u.shared.lanes=0),Pr|=g,t.lanes=g,t.memoizedState=q}}function Qm(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function _m(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Qm(a[t],i)}function yl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var u=l.next;a=u;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==u)}}catch(S){Mt(i,i.return,S)}}function Jr(t,i,a){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&t)===t){var g=l.inst,S=g.destroy;if(S!==void 0){g.destroy=void 0,u=i;var T=a;try{S()}catch(N){Mt(u,T,N)}}}l=l.next}while(l!==f)}}catch(N){Mt(i,i.return,N)}}function Wm(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{_m(i,a)}catch(l){Mt(t,t.return,l)}}}function ty(t,i,a){a.props=Ta(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Mt(t,i,l)}}function Ea(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var u=l;break;default:u=l}typeof a=="function"?t.refCleanup=a(u):a.current=u}}catch(f){Mt(t,i,f)}}function Le(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(u){Mt(t,i,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Mt(t,i,u)}else a.current=null}function ey(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(u){Mt(t,t.return,u)}}function ny(t,i,a){try{var l=t.stateNode;mb(l,t.type,a,i),l[xe]=i}catch(u){Mt(t,t.return,u)}}function iy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Rf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||iy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=lu));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(kf(t,i,a),t=t.sibling;t!==null;)kf(t,i,a),t=t.sibling}function $o(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for($o(t,i,a),t=t.sibling;t!==null;)$o(t,i,a),t=t.sibling}var ui=!1,Pt=!1,Bf=!1,ry=typeof WeakSet=="function"?WeakSet:Set,ce=null,ay=!1;function YS(t,i){if(t=t.containerInfo,sh=gu,t=Ag(t),Mc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,S=-1,T=-1,N=0,U=0,q=t,k=null;e:for(;;){for(var I;q!==a||u!==0&&q.nodeType!==3||(S=g+u),q!==f||l!==0&&q.nodeType!==3||(T=g+l),q.nodeType===3&&(g+=q.nodeValue.length),(I=q.firstChild)!==null;)k=q,q=I;for(;;){if(q===t)break e;if(k===a&&++N===u&&(S=g),k===f&&++U===l&&(T=g),(I=q.nextSibling)!==null)break;q=k,k=q.parentNode}q=I}a=S===-1||T===-1?null:{start:S,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(lh={focusedElem:t,selectionRange:a},gu=!1,ce=i;ce!==null;)if(i=ce,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,ce=t;else for(;ce!==null;){switch(i=ce,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,u=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Z=Ta(a.type,u,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Z,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(lt){Mt(a,a.return,lt)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)fh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":fh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,ce=t;break}ce=i.return}return Z=ay,ay=!1,Z}function sy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fi(t,a),l&4&&yl(5,a);break;case 1:if(fi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(S){Mt(a,a.return,S)}else{var u=Ta(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(u,i,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Mt(a,a.return,S)}}l&64&&Wm(a),l&512&&Ea(a,a.return);break;case 3:if(fi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{_m(l,t)}catch(S){Mt(a,a.return,S)}}break;case 26:fi(t,a),l&512&&Ea(a,a.return);break;case 27:case 5:fi(t,a),i===null&&l&4&&ey(a),l&512&&Ea(a,a.return);break;case 12:fi(t,a);break;case 13:fi(t,a),l&4&&uy(t,a);break;case 22:if(u=a.memoizedState!==null||ui,!u){i=i!==null&&i.memoizedState!==null||Pt;var f=ui,g=Pt;ui=u,(Pt=i)&&!g?Hr(t,a,(a.subtreeFlags&8772)!==0):fi(t,a),ui=f,Pt=g}l&512&&(a.memoizedProps.mode==="manual"?Ea(a,a.return):Le(a,a.return));break;default:fi(t,a)}}function ly(t){var i=t.alternate;i!==null&&(t.alternate=null,ly(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&pc(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,qe=!1;function ci(t,i,a){for(a=a.child;a!==null;)oy(t,i,a),a=a.sibling}function oy(t,i,a){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(Js,a)}catch{}switch(a.tag){case 26:Pt||Le(a,i),ci(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pt||Le(a,i);var l=ne,u=qe;for(ne=a.stateNode,ci(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);pc(a),ne=l,qe=u;break;case 5:Pt||Le(a,i);case 6:u=ne;var f=qe;if(ne=null,ci(t,i,a),ne=u,qe=f,ne!==null)if(qe)try{t=ne,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(g){Mt(a,i,g)}else try{ne.removeChild(a.stateNode)}catch(g){Mt(a,i,g)}break;case 18:ne!==null&&(qe?(i=ne,a=a.stateNode,i.nodeType===8?ch(i.parentNode,a):i.nodeType===1&&ch(i,a),Il(i)):ch(ne,a.stateNode));break;case 4:l=ne,u=qe,ne=a.stateNode.containerInfo,qe=!0,ci(t,i,a),ne=l,qe=u;break;case 0:case 11:case 14:case 15:Pt||Jr(2,a,i),Pt||Jr(4,a,i),ci(t,i,a);break;case 1:Pt||(Le(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ty(a,i,l)),ci(t,i,a);break;case 21:ci(t,i,a);break;case 22:Pt||Le(a,i),Pt=(l=Pt)||a.memoizedState!==null,ci(t,i,a),Pt=l;break;default:ci(t,i,a)}}function uy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(a){Mt(i,i.return,a)}}function FS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ry),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ry),i;default:throw Error(r(435,t.tag))}}function Mf(t,i){var a=FS(t);i.forEach(function(l){var u=ab.bind(null,t,l);a.has(l)||(a.add(l),l.then(u,u))})}function We(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l],f=t,g=i,S=g;t:for(;S!==null;){switch(S.tag){case 27:case 5:ne=S.stateNode,qe=!1;break t;case 3:ne=S.stateNode.containerInfo,qe=!0;break t;case 4:ne=S.stateNode.containerInfo,qe=!0;break t}S=S.return}if(ne===null)throw Error(r(160));oy(f,g,u),ne=null,qe=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)cy(i,t),i=i.sibling}var An=null;function cy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:We(i,t),tn(t),l&4&&(Jr(3,t,t.return),yl(3,t),Jr(5,t,t.return));break;case 1:We(i,t),tn(t),l&512&&(Pt||a===null||Le(a,a.return)),l&64&&ui&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var u=An;if(We(i,t),tn(t),l&512&&(Pt||a===null||Le(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,u=u.ownerDocument||u;e:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Vs]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),ge(f,l,a),f[pe]=t,oe(f),l=f;break t;case"link":var g=ep("link","href",u).get(l+(a.href||""));if(g){for(var S=0;S<g.length;S++)if(f=g[S],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(S,1);break e}}f=u.createElement(l),ge(f,l,a),u.head.appendChild(f);break;case"meta":if(g=ep("meta","content",u).get(l+(a.content||""))){for(S=0;S<g.length;S++)if(f=g[S],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(S,1);break e}}f=u.createElement(l),ge(f,l,a),u.head.appendChild(f);break;default:throw Error(r(468,l))}f[pe]=t,oe(f),l=f}t.stateNode=l}else np(u,t.type,t.stateNode);else t.stateNode=tp(u,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?np(u,t.type,t.stateNode):tp(u,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ny(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){u=t.stateNode,f=t.memoizedProps;try{for(var T=u.firstChild;T;){var N=T.nextSibling,U=T.nodeName;T[Vs]||U==="HEAD"||U==="BODY"||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&T.rel.toLowerCase()==="stylesheet"||u.removeChild(T),T=N}for(var q=t.type,k=u.attributes;k.length;)u.removeAttributeNode(k[0]);ge(u,q,f),u[pe]=t,u[xe]=f}catch(Z){Mt(t,t.return,Z)}}case 5:if(We(i,t),tn(t),l&512&&(Pt||a===null||Le(a,a.return)),t.flags&32){u=t.stateNode;try{Fa(u,"")}catch(Z){Mt(t,t.return,Z)}}l&4&&t.stateNode!=null&&(u=t.memoizedProps,ny(t,u,a!==null?a.memoizedProps:u)),l&1024&&(Bf=!0);break;case 6:if(We(i,t),tn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Z){Mt(t,t.return,Z)}}break;case 3:if(fu=null,u=An,An=uu(i.containerInfo),We(i,t),An=u,tn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Il(i.containerInfo)}catch(Z){Mt(t,t.return,Z)}Bf&&(Bf=!1,fy(t));break;case 4:l=An,An=uu(t.stateNode.containerInfo),We(i,t),tn(t),An=l;break;case 12:We(i,t),tn(t);break;case 13:We(i,t),tn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vf=Mn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mf(t,l)));break;case 22:if(l&512&&(Pt||a===null||Le(a,a.return)),T=t.memoizedState!==null,N=a!==null&&a.memoizedState!==null,U=ui,q=Pt,ui=U||T,Pt=q||N,We(i,t),Pt=q,ui=U,tn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=T?i._visibility&-2:i._visibility|1,T&&(i=ui||Pt,a===null||N||i||us(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){N=a=i;try{if(u=N.stateNode,T)f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{g=N.stateNode,S=N.memoizedProps.style;var I=S!=null&&S.hasOwnProperty("display")?S.display:null;g.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(Z){Mt(N,N.return,Z)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=T?"":N.memoizedProps}catch(Z){Mt(N,N.return,Z)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Mf(t,a))));break;case 19:We(i,t),tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mf(t,l)));break;case 21:break;default:We(i,t),tn(t)}}function tn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){t:{for(var a=t.return;a!==null;){if(iy(a)){var l=a;break t}a=a.return}throw Error(r(160))}switch(l.tag){case 27:var u=l.stateNode,f=Rf(t);$o(t,f,u);break;case 5:var g=l.stateNode;l.flags&32&&(Fa(g,""),l.flags&=-33);var S=Rf(t);$o(t,S,g);break;case 3:case 4:var T=l.stateNode.containerInfo,N=Rf(t);kf(t,N,T);break;default:throw Error(r(161))}}}catch(U){Mt(t,t.return,U)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function fy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;fy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function fi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)sy(t,i.alternate,i),i=i.sibling}function us(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Jr(4,i,i.return),us(i);break;case 1:Le(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ty(i,i.return,a),us(i);break;case 26:case 27:case 5:Le(i,i.return),us(i);break;case 22:Le(i,i.return),i.memoizedState===null&&us(i);break;default:us(i)}t=t.sibling}}function Hr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,u=t,f=i,g=f.flags;switch(f.tag){case 0:case 11:case 15:Hr(u,f,a),yl(4,f);break;case 1:if(Hr(u,f,a),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(N){Mt(l,l.return,N)}if(l=f,u=l.updateQueue,u!==null){var S=l.stateNode;try{var T=u.shared.hiddenCallbacks;if(T!==null)for(u.shared.hiddenCallbacks=null,u=0;u<T.length;u++)Qm(T[u],S)}catch(N){Mt(l,l.return,N)}}a&&g&64&&Wm(f),Ea(f,f.return);break;case 26:case 27:case 5:Hr(u,f,a),a&&l===null&&g&4&&ey(f),Ea(f,f.return);break;case 12:Hr(u,f,a);break;case 13:Hr(u,f,a),a&&g&4&&uy(u,f);break;case 22:f.memoizedState===null&&Hr(u,f,a),Ea(f,f.return);break;default:Hr(u,f,a)}i=i.sibling}}function If(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function Uf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sl(t))}function jr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hy(t,i,a,l),i=i.sibling}function hy(t,i,a,l){var u=i.flags;switch(i.tag){case 0:case 11:case 15:jr(t,i,a,l),u&2048&&yl(9,i);break;case 3:jr(t,i,a,l),u&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&sl(t)));break;case 12:if(u&2048){jr(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,g=f.id,S=f.onPostCommit;typeof S=="function"&&S(g,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(T){Mt(i,i.return,T)}}else jr(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,i.memoizedState!==null?f._visibility&4?jr(t,i,a,l):pl(t,i):f._visibility&4?jr(t,i,a,l):(f._visibility|=4,cs(t,i,a,l,(i.subtreeFlags&10256)!==0)),u&2048&&If(i.alternate,i);break;case 24:jr(t,i,a,l),u&2048&&Uf(i.alternate,i);break;default:jr(t,i,a,l)}}function cs(t,i,a,l,u){for(u=u&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,g=i,S=a,T=l,N=g.flags;switch(g.tag){case 0:case 11:case 15:cs(f,g,S,T,u),yl(8,g);break;case 23:break;case 22:var U=g.stateNode;g.memoizedState!==null?U._visibility&4?cs(f,g,S,T,u):pl(f,g):(U._visibility|=4,cs(f,g,S,T,u)),u&&N&2048&&If(g.alternate,g);break;case 24:cs(f,g,S,T,u),u&&N&2048&&Uf(g.alternate,g);break;default:cs(f,g,S,T,u)}i=i.sibling}}function pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,u=l.flags;switch(l.tag){case 22:pl(a,l),u&2048&&If(l.alternate,l);break;case 24:pl(a,l),u&2048&&Uf(l.alternate,l);break;default:pl(a,l)}i=i.sibling}}var vl=8192;function fs(t){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)dy(t),t=t.sibling}function dy(t){switch(t.tag){case 26:fs(t),t.flags&vl&&t.memoizedState!==null&&Ib(An,t.memoizedState,t.memoizedProps);break;case 5:fs(t);break;case 3:case 4:var i=An;An=uu(t.stateNode.containerInfo),fs(t),An=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=vl,vl=16777216,fs(t),vl=i):fs(t));break;default:fs(t)}}function gy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Sl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ce=l,yy(l,t)}gy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)my(t),t=t.sibling}function my(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&Jr(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,Xo(t)):Sl(t);break;default:Sl(t)}}function Xo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ce=l,yy(l,t)}gy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Jr(8,i,i.return),Xo(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Xo(i));break;default:Xo(i)}t=t.sibling}}function yy(t,i){for(;ce!==null;){var a=ce;switch(a.tag){case 0:case 11:case 15:Jr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ce=l;else t:for(a=t;ce!==null;){l=ce;var u=l.sibling,f=l.return;if(ly(l),l===a){ce=null;break t}if(u!==null){u.return=f,ce=u;break t}ce=f}}}function KS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(t,i,a,l){return new KS(t,i,a,l)}function zf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vr(t,i){var a=t.alternate;return a===null?(a=en(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function py(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Zo(t,i,a,l,u,f){var g=0;if(l=t,typeof t=="function")zf(t)&&(g=1);else if(typeof t=="string")g=Bb(t,a,Bn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case p:return Na(a.children,u,f,i);case y:g=8,u|=24;break;case b:return t=en(12,a,i,u|2),t.elementType=b,t.lanes=f,t;case j:return t=en(13,a,i,u),t.elementType=j,t.lanes=f,t;case Y:return t=en(19,a,i,u),t.elementType=Y,t.lanes=f,t;case ut:return vy(a,u,f,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E:case R:g=10;break t;case B:g=9;break t;case z:g=11;break t;case et:g=14;break t;case _:g=16,l=null;break t}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=en(g,a,i,u),i.elementType=t,i.type=l,i.lanes=f,i}function Na(t,i,a,l){return t=en(7,t,l,i),t.lanes=a,t}function vy(t,i,a,l){t=en(22,t,l,i),t.elementType=ut,t.lanes=a;var u={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=u._current;if(f===null)throw Error(r(456));if((u._pendingVisibility&2)===0){var g=Rr(f,2);g!==null&&(u._pendingVisibility|=2,Ee(g,f,2))}},attach:function(){var f=u._current;if(f===null)throw Error(r(456));if((u._pendingVisibility&2)!==0){var g=Rr(f,2);g!==null&&(u._pendingVisibility&=-3,Ee(g,f,2))}}};return t.stateNode=u,t}function Lf(t,i,a){return t=en(6,t,null,i),t.lanes=a,t}function qf(t,i,a){return i=en(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function hi(t){t.flags|=4}function Sy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ip(i)){if(i=_e.current,i!==null&&((At&4194176)===At?Un!==null:(At&62914560)!==At&&(At&536870912)===0||i!==Un))throw il=Vc,zg;t.flags|=8192}}function Qo(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ld():536870912,t.lanes|=i,ds|=i)}function bl(t,i){if(!Et)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function jt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&31457280,l|=u.flags&31457280,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function $S(t,i,a){var l=i.pendingProps;switch(Hc(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(i),null;case 1:return jt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),oi(se),Ha(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ws(i)?hi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tn!==null&&(Ff(Tn),Tn=null))),jt(i),null;case 26:return a=i.memoizedState,t===null?(hi(i),a!==null?(jt(i),Sy(i,a)):(jt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(hi(i),jt(i),Sy(i,a)):(jt(i),i.flags&=-16777217):(t.memoizedProps!==l&&hi(i),jt(i),i.flags&=-16777217),null;case 27:oo(i),a=Dr.current;var u=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&hi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return jt(i),null}t=Bn.current,Ws(i)?Ig(i):(t=Xy(u,l,a),i.stateNode=t,hi(i))}return jt(i),null;case 5:if(oo(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&hi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return jt(i),null}if(t=Bn.current,Ws(i))Ig(i);else{switch(u=ou(Dr.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?u.createElement("select",{is:l.is}):u.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?u.createElement(a,{is:l.is}):u.createElement(a)}}t[pe]=i,t[xe]=l;t:for(u=i.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break t;for(;u.sibling===null;){if(u.return===null||u.return===i)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}i.stateNode=t;t:switch(ge(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&hi(i)}}return jt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&hi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=Dr.current,Ws(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,u=we,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}t[pe]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Py(t.nodeValue,a)),t||ma(i)}else t=ou(t).createTextNode(l),t[pe]=i,i.stateNode=t}return jt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Ws(i),l!==null&&l.dehydrated!==null){if(t===null){if(!u)throw Error(r(318));if(u=i.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[pe]=i}else tl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;jt(i),u=!1}else Tn!==null&&(Ff(Tn),Tn=null),u=!0;if(!u)return i.flags&256?(ri(i),i):(ri(i),null)}if(ri(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Qo(i,i.updateQueue),jt(i),null;case 4:return Ha(),t===null&&ih(i.stateNode.containerInfo),jt(i),null;case 10:return oi(i.type),jt(i),null;case 19:if(Wt(ae),u=i.memoizedState,u===null)return jt(i),null;if(l=(i.flags&128)!==0,f=u.rendering,f===null)if(l)bl(u,!1);else{if(Gt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Io(t),f!==null){for(i.flags|=128,bl(u,!1),t=f.updateQueue,i.updateQueue=t,Qo(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)py(a,t),a=a.sibling;return qt(ae,ae.current&1|2),i.child}t=t.sibling}u.tail!==null&&Mn()>_o&&(i.flags|=128,l=!0,bl(u,!1),i.lanes=4194304)}else{if(!l)if(t=Io(f),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Qo(i,t),bl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Et)return jt(i),null}else 2*Mn()-u.renderingStartTime>_o&&a!==536870912&&(i.flags|=128,l=!0,bl(u,!1),i.lanes=4194304);u.isBackwards?(f.sibling=i.child,i.child=f):(t=u.last,t!==null?t.sibling=f:i.child=f,u.last=f)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Mn(),i.sibling=null,t=ae.current,qt(ae,l?t&1|2:t&1),i):(jt(i),null);case 22:case 23:return ri(i),Gc(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(jt(i),i.subtreeFlags&6&&(i.flags|=8192)):jt(i),a=i.updateQueue,a!==null&&Qo(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Wt(pa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),oi(se),jt(i),null;case 25:return null}throw Error(r(156,i.tag))}function XS(t,i){switch(Hc(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return oi(se),Ha(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return oo(i),null;case 13:if(ri(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));tl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Wt(ae),null;case 4:return Ha(),null;case 10:return oi(i.type),null;case 22:case 23:return ri(i),Gc(),t!==null&&Wt(pa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return oi(se),null;case 25:return null;default:return null}}function by(t,i){switch(Hc(i),i.tag){case 3:oi(se),Ha();break;case 26:case 27:case 5:oo(i);break;case 4:Ha();break;case 13:ri(i);break;case 19:Wt(ae);break;case 10:oi(i.type);break;case 22:case 23:ri(i),Gc(),t!==null&&Wt(pa);break;case 24:oi(se)}}var ZS={getCacheForType:function(t){var i=ve(se),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},QS=typeof WeakMap=="function"?WeakMap:Map,Vt=0,zt=null,St=null,At=0,Lt=0,Je=null,di=!1,hs=!1,Jf=!1,gi=0,Gt=0,Pr=0,Da=0,Hf=0,nn=0,ds=0,Tl=null,Ln=null,jf=!1,Vf=0,_o=1/0,Wo=null,Gr=null,tu=!1,xa=null,Al=0,Pf=0,Gf=null,wl=0,Yf=null;function He(){if((Vt&2)!==0&&At!==0)return At&-At;if($.T!==null){var t=rs;return t!==0?t:Wf()}return jd()}function Ty(){nn===0&&(nn=(At&536870912)===0||Et?zd():536870912);var t=_e.current;return t!==null&&(t.flags|=32),nn}function Ee(t,i,a){(t===zt&&Lt===2||t.cancelPendingCommit!==null)&&(gs(t,0),mi(t,At,nn,!1)),js(t,a),((Vt&2)===0||t!==zt)&&(t===zt&&((Vt&2)===0&&(Da|=a),Gt===4&&mi(t,At,nn,!1)),qn(t))}function Ay(t,i,a){if((Vt&6)!==0)throw Error(r(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||Hs(t,i),u=l?tb(t,i):Xf(t,i,!0),f=l;do{if(u===0){hs&&!l&&mi(t,i,0,!1);break}else if(u===6)mi(t,i,0,!di);else{if(a=t.current.alternate,f&&!_S(a)){u=Xf(t,i,!1),f=!1;continue}if(u===2){if(f=i,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){i=g;t:{var S=t;u=Tl;var T=S.current.memoizedState.isDehydrated;if(T&&(gs(S,g).flags|=256),g=Xf(S,g,!1),g!==2){if(Jf&&!T){S.errorRecoveryDisabledLanes|=f,Da|=f,u=4;break t}f=Ln,Ln=u,f!==null&&Ff(f)}u=g}if(f=!1,u!==2)continue}}if(u===1){gs(t,0),mi(t,i,0,!0);break}t:{switch(l=t,u){case 0:case 1:throw Error(r(345));case 4:if((i&4194176)===i){mi(l,i,nn,!di);break t}break;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(f=Vf+300-Mn(),10<f)){if(mi(l,i,nn,!di),ho(l,0)!==0)break t;l.timeoutHandle=Fy(wy.bind(null,l,a,Ln,Wo,jf,i,nn,Da,ds,di,2,-0,0),f);break t}wy(l,a,Ln,Wo,jf,i,nn,Da,ds,di,0,-0,0)}}break}while(!0);qn(t)}function Ff(t){Ln===null?Ln=t:Ln.push.apply(Ln,t)}function wy(t,i,a,l,u,f,g,S,T,N,U,q,k){var I=i.subtreeFlags;if((I&8192||(I&16785408)===16785408)&&(Cl={stylesheets:null,count:0,unsuspend:Mb},dy(i),i=Ub(),i!==null)){t.cancelPendingCommit=i(Ry.bind(null,t,a,l,u,g,S,T,1,q,k)),mi(t,f,g,!N);return}Ry(t,a,l,u,g,S,T,U,q,k)}function _S(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var u=a[l],f=u.getSnapshot;u=u.value;try{if(!ze(f(),u))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function mi(t,i,a,l){i&=~Hf,i&=~Da,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var u=i;0<u;){var f=31-Ue(u),g=1<<f;l[f]=-1,u&=~g}a!==0&&qd(t,a,i)}function eu(){return(Vt&6)===0?(El(0),!1):!0}function Kf(){if(St!==null){if(Lt===0)var t=St.return;else t=St,li=Aa=null,_c(t),ns=null,rl=0,t=St;for(;t!==null;)by(t.alternate,t),t=t.return;St=null}}function gs(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,pb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Kf(),zt=t,St=a=Vr(t.current,null),At=i,Lt=0,Je=null,di=!1,hs=Hs(t,i),Jf=!1,ds=nn=Hf=Da=Pr=Gt=0,Ln=Tl=null,jf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var u=31-Ue(l),f=1<<u;i|=t[u],l&=~f}return gi=i,No(),a}function Ey(t,i){yt=null,$.H=zn,i===nl?(i=Jg(),Lt=3):i===zg?(i=Jg(),Lt=4):Lt=i===Lm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Je=i,St===null&&(Gt=1,Yo(t,Xe(i,t.current)))}function Ny(){var t=$.H;return $.H=zn,t===null?zn:t}function Dy(){var t=$.A;return $.A=ZS,t}function $f(){Gt=4,di||(At&4194176)!==At&&_e.current!==null||(hs=!0),(Pr&134217727)===0&&(Da&134217727)===0||zt===null||mi(zt,At,nn,!1)}function Xf(t,i,a){var l=Vt;Vt|=2;var u=Ny(),f=Dy();(zt!==t||At!==i)&&(Wo=null,gs(t,i)),i=!1;var g=Gt;t:do try{if(Lt!==0&&St!==null){var S=St,T=Je;switch(Lt){case 8:Kf(),g=6;break t;case 3:case 2:case 6:_e.current===null&&(i=!0);var N=Lt;if(Lt=0,Je=null,ms(t,S,T,N),a&&hs){g=0;break t}break;default:N=Lt,Lt=0,Je=null,ms(t,S,T,N)}}WS(),g=Gt;break}catch(U){Ey(t,U)}while(!0);return i&&t.shellSuspendCounter++,li=Aa=null,Vt=l,$.H=u,$.A=f,St===null&&(zt=null,At=0,No()),g}function WS(){for(;St!==null;)xy(St)}function tb(t,i){var a=Vt;Vt|=2;var l=Ny(),u=Dy();zt!==t||At!==i?(Wo=null,_o=Mn()+500,gs(t,i)):hs=Hs(t,i);t:do try{if(Lt!==0&&St!==null){i=St;var f=Je;e:switch(Lt){case 1:Lt=0,Je=null,ms(t,i,f,1);break;case 2:if(Lg(f)){Lt=0,Je=null,Oy(i);break}i=function(){Lt===2&&zt===t&&(Lt=7),qn(t)},f.then(i,i);break t;case 3:Lt=7;break t;case 4:Lt=5;break t;case 7:Lg(f)?(Lt=0,Je=null,Oy(i)):(Lt=0,Je=null,ms(t,i,f,7));break;case 5:var g=null;switch(St.tag){case 26:g=St.memoizedState;case 5:case 27:var S=St;if(!g||ip(g)){Lt=0,Je=null;var T=S.sibling;if(T!==null)St=T;else{var N=S.return;N!==null?(St=N,nu(N)):St=null}break e}}Lt=0,Je=null,ms(t,i,f,5);break;case 6:Lt=0,Je=null,ms(t,i,f,6);break;case 8:Kf(),Gt=6;break t;default:throw Error(r(462))}}eb();break}catch(U){Ey(t,U)}while(!0);return li=Aa=null,$.H=l,$.A=u,Vt=a,St!==null?0:(zt=null,At=0,No(),Gt)}function eb(){for(;St!==null&&!w0();)xy(St)}function xy(t){var i=Xm(t.alternate,t,gi);t.memoizedProps=t.pendingProps,i===null?nu(t):St=i}function Oy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Pm(a,i,i.pendingProps,i.type,void 0,At);break;case 11:i=Pm(a,i,i.pendingProps,i.type.render,i.ref,At);break;case 5:_c(i);default:by(a,i),i=St=py(i,gi),i=Xm(a,i,gi)}t.memoizedProps=t.pendingProps,i===null?nu(t):St=i}function ms(t,i,a,l){li=Aa=null,_c(i),ns=null,rl=0;var u=i.return;try{if(PS(t,u,i,a,At)){Gt=1,Yo(t,Xe(a,t.current)),St=null;return}}catch(f){if(u!==null)throw St=u,f;Gt=1,Yo(t,Xe(a,t.current)),St=null;return}i.flags&32768?(Et||l===1?t=!0:hs||(At&536870912)!==0?t=!1:(di=t=!0,(l===2||l===3||l===6)&&(l=_e.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cy(i,t)):nu(i)}function nu(t){var i=t;do{if((i.flags&32768)!==0){Cy(i,di);return}t=i.return;var a=$S(i.alternate,i,gi);if(a!==null){St=a;return}if(i=i.sibling,i!==null){St=i;return}St=i=t}while(i!==null);Gt===0&&(Gt=5)}function Cy(t,i){do{var a=XS(t.alternate,t);if(a!==null){a.flags&=32767,St=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){St=t;return}St=t=a}while(t!==null);Gt=6,St=null}function Ry(t,i,a,l,u,f,g,S,T,N){var U=$.T,q=F.p;try{F.p=2,$.T=null,nb(t,i,a,l,q,u,f,g,S,T,N)}finally{$.T=U,F.p=q}}function nb(t,i,a,l,u,f,g,S){do ys();while(xa!==null);if((Vt&6)!==0)throw Error(r(327));var T=t.finishedWork;if(l=t.finishedLanes,T===null)return null;if(t.finishedWork=null,t.finishedLanes=0,T===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var N=T.lanes|T.childLanes;if(N|=Lc,I0(t,l,N,f,g,S),t===zt&&(St=zt=null,At=0),(T.subtreeFlags&10256)===0&&(T.flags&10256)===0||tu||(tu=!0,Pf=N,Gf=a,sb(uo,function(){return ys(),null})),a=(T.flags&15990)!==0,(T.subtreeFlags&15990)!==0||a?(a=$.T,$.T=null,f=F.p,F.p=2,g=Vt,Vt|=4,YS(t,T),cy(T,t),DS(lh,t.containerInfo),gu=!!sh,lh=sh=null,t.current=T,sy(t,T.alternate,T),E0(),Vt=g,F.p=f,$.T=a):t.current=T,tu?(tu=!1,xa=t,Al=l):ky(t,N),N=t.pendingLanes,N===0&&(Gr=null),C0(T.stateNode),qn(t),i!==null)for(u=t.onRecoverableError,T=0;T<i.length;T++)N=i[T],u(N.value,{componentStack:N.stack});return(Al&3)!==0&&ys(),N=t.pendingLanes,(l&4194218)!==0&&(N&42)!==0?t===Yf?wl++:(wl=0,Yf=t):wl=0,El(0),null}function ky(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,sl(i)))}function ys(){if(xa!==null){var t=xa,i=Pf;Pf=0;var a=Hd(Al),l=$.T,u=F.p;try{if(F.p=32>a?32:a,$.T=null,xa===null)var f=!1;else{a=Gf,Gf=null;var g=xa,S=Al;if(xa=null,Al=0,(Vt&6)!==0)throw Error(r(331));var T=Vt;if(Vt|=4,my(g.current),hy(g,g.current,S,a),Vt=T,El(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(Js,g)}catch{}f=!0}return f}finally{F.p=u,$.T=l,ky(t,i)}}return!1}function By(t,i,a){i=Xe(a,i),i=df(t.stateNode,i,2),t=qr(t,i,2),t!==null&&(js(t,2),qn(t))}function Mt(t,i,a){if(t.tag===3)By(t,t,a);else for(;i!==null;){if(i.tag===3){By(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){t=Xe(a,t),a=Um(2),l=qr(i,a,2),l!==null&&(zm(a,l,i,t),js(l,2),qn(l));break}}i=i.return}}function Zf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new QS;var u=new Set;l.set(i,u)}else u=l.get(i),u===void 0&&(u=new Set,l.set(i,u));u.has(a)||(Jf=!0,u.add(a),t=ib.bind(null,t,i,a),i.then(t,t))}function ib(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,zt===t&&(At&a)===a&&(Gt===4||Gt===3&&(At&62914560)===At&&300>Mn()-Vf?(Vt&2)===0&&gs(t,0):Hf|=a,ds===At&&(ds=0)),qn(t)}function My(t,i){i===0&&(i=Ld()),t=Rr(t,i),t!==null&&(js(t,i),qn(t))}function rb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),My(t,a)}function ab(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),My(t,a)}function sb(t,i){return dc(t,i)}var iu=null,ps=null,Qf=!1,ru=!1,_f=!1,Oa=0;function qn(t){t!==ps&&t.next===null&&(ps===null?iu=ps=t:ps=ps.next=t),ru=!0,Qf||(Qf=!0,ob(lb))}function El(t,i){if(!_f&&ru){_f=!0;do for(var a=!1,l=iu;l!==null;){if(t!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var g=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-Ue(42|t)+1)-1,f&=u&~(g&~S),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,zy(l,f))}else f=At,f=ho(l,l===zt?f:0),(f&3)===0||Hs(l,f)||(a=!0,zy(l,f));l=l.next}while(a);_f=!1}}function lb(){ru=Qf=!1;var t=0;Oa!==0&&(yb()&&(t=Oa),Oa=0);for(var i=Mn(),a=null,l=iu;l!==null;){var u=l.next,f=Iy(l,i);f===0?(l.next=null,a===null?iu=u:a.next=u,u===null&&(ps=a)):(a=l,(t!==0||(f&3)!==0)&&(ru=!0)),l=u}El(t)}function Iy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Ue(f),S=1<<g,T=u[g];T===-1?((S&a)===0||(S&l)!==0)&&(u[g]=M0(S,i)):T<=i&&(t.expiredLanes|=S),f&=~S}if(i=zt,a=At,a=ho(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&Lt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gc(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hs(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&gc(l),Hd(a)){case 2:case 8:a=Id;break;case 32:a=uo;break;case 268435456:a=Ud;break;default:a=uo}return l=Uy.bind(null,t),a=dc(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&gc(l),t.callbackPriority=2,t.callbackNode=null,2}function Uy(t,i){var a=t.callbackNode;if(ys()&&t.callbackNode!==a)return null;var l=At;return l=ho(t,t===zt?l:0),l===0?null:(Ay(t,l,i),Iy(t,Mn()),t.callbackNode!=null&&t.callbackNode===a?Uy.bind(null,t):null)}function zy(t,i){if(ys())return null;Ay(t,i,!0)}function ob(t){vb(function(){(Vt&6)!==0?dc(Md,t):t()})}function Wf(){return Oa===0&&(Oa=zd()),Oa}function Ly(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:vo(""+t)}function qy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ub(t,i,a,l,u){if(i==="submit"&&a&&a.stateNode===u){var f=Ly((u[xe]||null).action),g=l.submitter;g&&(i=(i=g[xe]||null)?Ly(i.formAction):g.getAttribute("formAction"),i!==null&&(f=i,g=null));var S=new Ao("action","action",null,l,u);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Oa!==0){var T=g?qy(u,g):new FormData(u);of(a,{pending:!0,data:T,method:u.method,action:f},null,T)}}else typeof f=="function"&&(S.preventDefault(),T=g?qy(u,g):new FormData(u),of(a,{pending:!0,data:T,method:u.method,action:f},f,T))},currentTarget:u}]})}}for(var th=0;th<Rg.length;th++){var eh=Rg[th],cb=eh.toLowerCase(),fb=eh[0].toUpperCase()+eh.slice(1);bn(cb,"on"+fb)}bn(Ng,"onAnimationEnd"),bn(Dg,"onAnimationIteration"),bn(xg,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(OS,"onTransitionRun"),bn(CS,"onTransitionStart"),bn(RS,"onTransitionCancel"),bn(Og,"onTransitionEnd"),Ga("onMouseEnter",["mouseout","mouseover"]),Ga("onMouseLeave",["mouseout","mouseover"]),Ga("onPointerEnter",["pointerout","pointerover"]),Ga("onPointerLeave",["pointerout","pointerover"]),ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ua("onBeforeInput",["compositionend","keypress","textInput","paste"]),ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Jy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],u=l.event;l=l.listeners;t:{var f=void 0;if(i)for(var g=l.length-1;0<=g;g--){var S=l[g],T=S.instance,N=S.currentTarget;if(S=S.listener,T!==f&&u.isPropagationStopped())break t;f=S,u.currentTarget=N;try{f(u)}catch(U){Go(U)}u.currentTarget=null,f=T}else for(g=0;g<l.length;g++){if(S=l[g],T=S.instance,N=S.currentTarget,S=S.listener,T!==f&&u.isPropagationStopped())break t;f=S,u.currentTarget=N;try{f(u)}catch(U){Go(U)}u.currentTarget=null,f=T}}}}function bt(t,i){var a=i[yc];a===void 0&&(a=i[yc]=new Set);var l=t+"__bubble";a.has(l)||(Hy(i,t,2,!1),a.add(l))}function nh(t,i,a){var l=0;i&&(l|=4),Hy(a,t,l,i)}var au="_reactListening"+Math.random().toString(36).slice(2);function ih(t){if(!t[au]){t[au]=!0,Pd.forEach(function(a){a!=="selectionchange"&&(hb.has(a)||nh(a,!1,t),nh(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[au]||(i[au]=!0,nh("selectionchange",!1,i))}}function Hy(t,i,a,l){switch(up(i)){case 2:var u=qb;break;case 8:u=Jb;break;default:u=yh}a=u.bind(null,i,a,t),u=void 0,!Ec||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(u=!0),l?u!==void 0?t.addEventListener(i,a,{capture:!0,passive:u}):t.addEventListener(i,a,!0):u!==void 0?t.addEventListener(i,a,{passive:u}):t.addEventListener(i,a,!1)}function rh(t,i,a,l,u){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var S=l.stateNode.containerInfo;if(S===u||S.nodeType===8&&S.parentNode===u)break;if(g===4)for(g=l.return;g!==null;){var T=g.tag;if((T===3||T===4)&&(T=g.stateNode.containerInfo,T===u||T.nodeType===8&&T.parentNode===u))return;g=g.return}for(;S!==null;){if(g=oa(S),g===null)return;if(T=g.tag,T===5||T===6||T===26||T===27){l=f=g;continue t}S=S.parentNode}}l=l.return}eg(function(){var N=f,U=Ac(a),q=[];t:{var k=Cg.get(t);if(k!==void 0){var I=Ao,Z=t;switch(t){case"keypress":if(bo(a)===0)break t;case"keydown":case"keyup":I=aS;break;case"focusin":Z="focus",I=Oc;break;case"focusout":Z="blur",I=Oc;break;case"beforeblur":case"afterblur":I=Oc;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=K0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=oS;break;case Ng:case Dg:case xg:I=Z0;break;case Og:I=cS;break;case"scroll":case"scrollend":I=Y0;break;case"wheel":I=hS;break;case"copy":case"cut":case"paste":I=_0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=sg;break;case"toggle":case"beforetoggle":I=gS}var lt=(i&4)!==0,Yt=!lt&&(t==="scroll"||t==="scrollend"),D=lt?k!==null?k+"Capture":null:k;lt=[];for(var w=N,O;w!==null;){var L=w;if(O=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||O===null||D===null||(L=Gs(w,D),L!=null&&lt.push(Dl(w,L,O))),Yt)break;w=w.return}0<lt.length&&(k=new I(k,Z,null,a,U),q.push({event:k,listeners:lt}))}}if((i&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",k&&a!==Tc&&(Z=a.relatedTarget||a.fromElement)&&(oa(Z)||Z[ja]))break t;if((I||k)&&(k=U.window===U?U:(k=U.ownerDocument)?k.defaultView||k.parentWindow:window,I?(Z=a.relatedTarget||a.toElement,I=N,Z=Z?oa(Z):null,Z!==null&&(Yt=st(Z),lt=Z.tag,Z!==Yt||lt!==5&&lt!==27&&lt!==6)&&(Z=null)):(I=null,Z=N),I!==Z)){if(lt=rg,L="onMouseLeave",D="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(lt=sg,L="onPointerLeave",D="onPointerEnter",w="pointer"),Yt=I==null?k:Ps(I),O=Z==null?k:Ps(Z),k=new lt(L,w+"leave",I,a,U),k.target=Yt,k.relatedTarget=O,L=null,oa(U)===N&&(lt=new lt(D,w+"enter",Z,a,U),lt.target=O,lt.relatedTarget=Yt,L=lt),Yt=L,I&&Z)e:{for(lt=I,D=Z,w=0,O=lt;O;O=vs(O))w++;for(O=0,L=D;L;L=vs(L))O++;for(;0<w-O;)lt=vs(lt),w--;for(;0<O-w;)D=vs(D),O--;for(;w--;){if(lt===D||D!==null&&lt===D.alternate)break e;lt=vs(lt),D=vs(D)}lt=null}else lt=null;I!==null&&jy(q,k,I,lt,!1),Z!==null&&Yt!==null&&jy(q,Yt,Z,lt,!0)}}t:{if(k=N?Ps(N):window,I=k.nodeName&&k.nodeName.toLowerCase(),I==="select"||I==="input"&&k.type==="file")var K=gg;else if(hg(k))if(mg)K=ES;else{K=AS;var pt=TS}else I=k.nodeName,!I||I.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?N&&bc(N.elementType)&&(K=gg):K=wS;if(K&&(K=K(t,N))){dg(q,K,a,U);break t}pt&&pt(t,k,N),t==="focusout"&&N&&k.type==="number"&&N.memoizedProps.value!=null&&Sc(k,"number",k.value)}switch(pt=N?Ps(N):window,t){case"focusin":(hg(pt)||pt.contentEditable==="true")&&(Za=pt,Ic=N,_s=null);break;case"focusout":_s=Ic=Za=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,wg(q,a,U);break;case"selectionchange":if(xS)break;case"keydown":case"keyup":wg(q,a,U)}var tt;if(Rc)t:{switch(t){case"compositionstart":var rt="onCompositionStart";break t;case"compositionend":rt="onCompositionEnd";break t;case"compositionupdate":rt="onCompositionUpdate";break t}rt=void 0}else Xa?cg(t,a)&&(rt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(rt="onCompositionStart");rt&&(lg&&a.locale!=="ko"&&(Xa||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Xa&&(tt=ng()):(Cr=U,Nc="value"in Cr?Cr.value:Cr.textContent,Xa=!0)),pt=su(N,rt),0<pt.length&&(rt=new ag(rt,t,null,a,U),q.push({event:rt,listeners:pt}),tt?rt.data=tt:(tt=fg(a),tt!==null&&(rt.data=tt)))),(tt=yS?pS(t,a):vS(t,a))&&(rt=su(N,"onBeforeInput"),0<rt.length&&(pt=new ag("onBeforeInput","beforeinput",null,a,U),q.push({event:pt,listeners:rt}),pt.data=tt)),ub(q,t,N,a,U)}Jy(q,i)})}function Dl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function su(t,i){for(var a=i+"Capture",l=[];t!==null;){var u=t,f=u.stateNode;u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Gs(t,a),u!=null&&l.unshift(Dl(t,u,f)),u=Gs(t,i),u!=null&&l.push(Dl(t,u,f))),t=t.return}return l}function vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jy(t,i,a,l,u){for(var f=i._reactName,g=[];a!==null&&a!==l;){var S=a,T=S.alternate,N=S.stateNode;if(S=S.tag,T!==null&&T===l)break;S!==5&&S!==26&&S!==27||N===null||(T=N,u?(N=Gs(a,f),N!=null&&g.unshift(Dl(a,N,T))):u||(N=Gs(a,f),N!=null&&g.push(Dl(a,N,T)))),a=a.return}g.length!==0&&t.push({event:i,listeners:g})}var db=/\r\n?/g,gb=/\u0000|\uFFFD/g;function Vy(t){return(typeof t=="string"?t:""+t).replace(db,`
`).replace(gb,"")}function Py(t,i){return i=Vy(i),Vy(t)===i}function lu(){}function Bt(t,i,a,l,u,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Fa(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Fa(t,""+l);break;case"className":mo(t,"class",l);break;case"tabIndex":mo(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mo(t,a,l);break;case"style":Wd(t,l,f);break;case"data":if(i!=="object"){mo(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=vo(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Bt(t,i,"name",u.name,u,null),Bt(t,i,"formEncType",u.formEncType,u,null),Bt(t,i,"formMethod",u.formMethod,u,null),Bt(t,i,"formTarget",u.formTarget,u,null)):(Bt(t,i,"encType",u.encType,u,null),Bt(t,i,"method",u.method,u,null),Bt(t,i,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=vo(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=lu);break;case"onScroll":l!=null&&bt("scroll",t);break;case"onScrollEnd":l!=null&&bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=vo(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":bt("beforetoggle",t),bt("toggle",t),go(t,"popover",l);break;case"xlinkActuate":ei(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ei(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ei(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ei(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ei(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ei(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ei(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ei(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ei(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":go(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=P0.get(a)||a,go(t,a,l))}}function ah(t,i,a,l,u,f){switch(a){case"style":Wd(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Fa(t,l):(typeof l=="number"||typeof l=="bigint")&&Fa(t,""+l);break;case"onScroll":l!=null&&bt("scroll",t);break;case"onScrollEnd":l!=null&&bt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=lu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gd.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),i=a.slice(2,u?a.length-7:void 0),f=t[xe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,u);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):go(t,a,l)}}}function ge(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",t),bt("load",t);var l=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Bt(t,i,f,g,a,null)}}u&&Bt(t,i,"srcSet",a.srcSet,a,null),l&&Bt(t,i,"src",a.src,a,null);return;case"input":bt("invalid",t);var S=f=g=u=null,T=null,N=null;for(l in a)if(a.hasOwnProperty(l)){var U=a[l];if(U!=null)switch(l){case"name":u=U;break;case"type":g=U;break;case"checked":T=U;break;case"defaultChecked":N=U;break;case"value":f=U;break;case"defaultValue":S=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,i));break;default:Bt(t,i,l,U,a,null)}}Xd(t,f,S,T,N,g,u,!1),yo(t);return;case"select":bt("invalid",t),l=g=f=null;for(u in a)if(a.hasOwnProperty(u)&&(S=a[u],S!=null))switch(u){case"value":f=S;break;case"defaultValue":g=S;break;case"multiple":l=S;default:Bt(t,i,u,S,a,null)}i=f,a=g,t.multiple=!!l,i!=null?Ya(t,!!l,i,!1):a!=null&&Ya(t,!!l,a,!0);return;case"textarea":bt("invalid",t),f=u=l=null;for(g in a)if(a.hasOwnProperty(g)&&(S=a[g],S!=null))switch(g){case"value":l=S;break;case"defaultValue":u=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Bt(t,i,g,S,a,null)}Qd(t,l,u,f),yo(t);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(l=a[T],l!=null))switch(T){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Bt(t,i,T,l,a,null)}return;case"dialog":bt("cancel",t),bt("close",t);break;case"iframe":case"object":bt("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)bt(Nl[l],t);break;case"image":bt("error",t),bt("load",t);break;case"details":bt("toggle",t);break;case"embed":case"source":case"link":bt("error",t),bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Bt(t,i,N,l,a,null)}return;default:if(bc(i)){for(U in a)a.hasOwnProperty(U)&&(l=a[U],l!==void 0&&ah(t,i,U,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Bt(t,i,S,l,a,null))}function mb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,S=null,T=null,N=null,U=null;for(I in a){var q=a[I];if(a.hasOwnProperty(I)&&q!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":T=q;default:l.hasOwnProperty(I)||Bt(t,i,I,null,l,q)}}for(var k in l){var I=l[k];if(q=a[k],l.hasOwnProperty(k)&&(I!=null||q!=null))switch(k){case"type":f=I;break;case"name":u=I;break;case"checked":N=I;break;case"defaultChecked":U=I;break;case"value":g=I;break;case"defaultValue":S=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,i));break;default:I!==q&&Bt(t,i,k,I,l,q)}}vc(t,g,S,T,N,U,f,u);return;case"select":I=g=S=k=null;for(f in a)if(T=a[f],a.hasOwnProperty(f)&&T!=null)switch(f){case"value":break;case"multiple":I=T;default:l.hasOwnProperty(f)||Bt(t,i,f,null,l,T)}for(u in l)if(f=l[u],T=a[u],l.hasOwnProperty(u)&&(f!=null||T!=null))switch(u){case"value":k=f;break;case"defaultValue":S=f;break;case"multiple":g=f;default:f!==T&&Bt(t,i,u,f,l,T)}i=S,a=g,l=I,k!=null?Ya(t,!!a,k,!1):!!l!=!!a&&(i!=null?Ya(t,!!a,i,!0):Ya(t,!!a,a?[]:"",!1));return;case"textarea":I=k=null;for(S in a)if(u=a[S],a.hasOwnProperty(S)&&u!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Bt(t,i,S,null,l,u)}for(g in l)if(u=l[g],f=a[g],l.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":k=u;break;case"defaultValue":I=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==f&&Bt(t,i,g,u,l,f)}Zd(t,k,I);return;case"option":for(var Z in a)if(k=a[Z],a.hasOwnProperty(Z)&&k!=null&&!l.hasOwnProperty(Z))switch(Z){case"selected":t.selected=!1;break;default:Bt(t,i,Z,null,l,k)}for(T in l)if(k=l[T],I=a[T],l.hasOwnProperty(T)&&k!==I&&(k!=null||I!=null))switch(T){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Bt(t,i,T,k,l,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in a)k=a[lt],a.hasOwnProperty(lt)&&k!=null&&!l.hasOwnProperty(lt)&&Bt(t,i,lt,null,l,k);for(N in l)if(k=l[N],I=a[N],l.hasOwnProperty(N)&&k!==I&&(k!=null||I!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,i));break;default:Bt(t,i,N,k,l,I)}return;default:if(bc(i)){for(var Yt in a)k=a[Yt],a.hasOwnProperty(Yt)&&k!==void 0&&!l.hasOwnProperty(Yt)&&ah(t,i,Yt,void 0,l,k);for(U in l)k=l[U],I=a[U],!l.hasOwnProperty(U)||k===I||k===void 0&&I===void 0||ah(t,i,U,k,l,I);return}}for(var D in a)k=a[D],a.hasOwnProperty(D)&&k!=null&&!l.hasOwnProperty(D)&&Bt(t,i,D,null,l,k);for(q in l)k=l[q],I=a[q],!l.hasOwnProperty(q)||k===I||k==null&&I==null||Bt(t,i,q,k,l,I)}var sh=null,lh=null;function ou(t){return t.nodeType===9?t:t.ownerDocument}function Gy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function oh(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var uh=null;function yb(){var t=window.event;return t&&t.type==="popstate"?t===uh?!1:(uh=t,!0):(uh=null,!1)}var Fy=typeof setTimeout=="function"?setTimeout:void 0,pb=typeof clearTimeout=="function"?clearTimeout:void 0,Ky=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof Ky<"u"?function(t){return Ky.resolve(null).then(t).catch(Sb)}:Fy;function Sb(t){setTimeout(function(){throw t})}function ch(t,i){var a=i,l=0;do{var u=a.nextSibling;if(t.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(l===0){t.removeChild(u),Il(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=u}while(a);Il(i)}function fh(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fh(a),pc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function bb(t,i,a,l){for(;t.nodeType===1;){var u=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Vs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=wn(t.nextSibling),t===null)break}return null}function Tb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=wn(t.nextSibling),t===null))return null;return t}function wn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function $y(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Xy(t,i,a){switch(i=ou(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}var rn=new Map,Zy=new Set;function uu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var yi=F.d;F.d={f:Ab,r:wb,D:Eb,C:Nb,L:Db,m:xb,X:Cb,S:Ob,M:Rb};function Ab(){var t=yi.f(),i=eu();return t||i}function wb(t){var i=Va(t);i!==null&&i.tag===5&&i.type==="form"?wm(i):yi.r(t)}var Ss=typeof document>"u"?null:document;function Qy(t,i,a){var l=Ss;if(l&&typeof i=="string"&&i){var u=Ke(i);u='link[rel="'+t+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Zy.has(u)||(Zy.add(u),t={rel:t,crossOrigin:a,href:i},l.querySelector(u)===null&&(i=l.createElement("link"),ge(i,"link",t),oe(i),l.head.appendChild(i)))}}function Eb(t){yi.D(t),Qy("dns-prefetch",t,null)}function Nb(t,i){yi.C(t,i),Qy("preconnect",t,i)}function Db(t,i,a){yi.L(t,i,a);var l=Ss;if(l&&t&&i){var u='link[rel="preload"][as="'+Ke(i)+'"]';i==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Ke(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Ke(a.imageSizes)+'"]')):u+='[href="'+Ke(t)+'"]';var f=u;switch(i){case"style":f=bs(t);break;case"script":f=Ts(t)}rn.has(f)||(t=ht({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),rn.set(f,t),l.querySelector(u)!==null||i==="style"&&l.querySelector(xl(f))||i==="script"&&l.querySelector(Ol(f))||(i=l.createElement("link"),ge(i,"link",t),oe(i),l.head.appendChild(i)))}}function xb(t,i){yi.m(t,i);var a=Ss;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",u='link[rel="modulepreload"][as="'+Ke(l)+'"][href="'+Ke(t)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ts(t)}if(!rn.has(f)&&(t=ht({rel:"modulepreload",href:t},i),rn.set(f,t),a.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(f)))return}l=a.createElement("link"),ge(l,"link",t),oe(l),a.head.appendChild(l)}}}function Ob(t,i,a){yi.S(t,i,a);var l=Ss;if(l&&t){var u=Pa(l).hoistableStyles,f=bs(t);i=i||"default";var g=u.get(f);if(!g){var S={loading:0,preload:null};if(g=l.querySelector(xl(f)))S.loading=5;else{t=ht({rel:"stylesheet",href:t,"data-precedence":i},a),(a=rn.get(f))&&hh(t,a);var T=g=l.createElement("link");oe(T),ge(T,"link",t),T._p=new Promise(function(N,U){T.onload=N,T.onerror=U}),T.addEventListener("load",function(){S.loading|=1}),T.addEventListener("error",function(){S.loading|=2}),S.loading|=4,cu(g,i,l)}g={type:"stylesheet",instance:g,count:1,state:S},u.set(f,g)}}}function Cb(t,i){yi.X(t,i);var a=Ss;if(a&&t){var l=Pa(a).hoistableScripts,u=Ts(t),f=l.get(u);f||(f=a.querySelector(Ol(u)),f||(t=ht({src:t,async:!0},i),(i=rn.get(u))&&dh(t,i),f=a.createElement("script"),oe(f),ge(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function Rb(t,i){yi.M(t,i);var a=Ss;if(a&&t){var l=Pa(a).hoistableScripts,u=Ts(t),f=l.get(u);f||(f=a.querySelector(Ol(u)),f||(t=ht({src:t,async:!0,type:"module"},i),(i=rn.get(u))&&dh(t,i),f=a.createElement("script"),oe(f),ge(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function _y(t,i,a,l){var u=(u=Dr.current)?uu(u):null;if(!u)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=bs(a.href),a=Pa(u).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=bs(a.href);var f=Pa(u).hoistableStyles,g=f.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=u.querySelector(xl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),rn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},rn.set(t,a),f||kb(u,t,a,g.state))),i&&l===null)throw Error(r(528,""));return g}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ts(a),a=Pa(u).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function bs(t){return'href="'+Ke(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function Wy(t){return ht({},t,{"data-precedence":t.precedence,precedence:null})}function kb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ge(i,"link",a),oe(i),t.head.appendChild(i))}function Ts(t){return'[src="'+Ke(t)+'"]'}function Ol(t){return"script[async]"+t}function tp(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Ke(a.href)+'"]');if(l)return i.instance=l,oe(l),l;var u=ht({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),ge(l,"style",u),cu(l,a.precedence,t),i.instance=l;case"stylesheet":u=bs(a.href);var f=t.querySelector(xl(u));if(f)return i.state.loading|=4,i.instance=f,oe(f),f;l=Wy(a),(u=rn.get(u))&&hh(l,u),f=(t.ownerDocument||t).createElement("link"),oe(f);var g=f;return g._p=new Promise(function(S,T){g.onload=S,g.onerror=T}),ge(f,"link",l),i.state.loading|=4,cu(f,a.precedence,t),i.instance=f;case"script":return f=Ts(a.src),(u=t.querySelector(Ol(f)))?(i.instance=u,oe(u),u):(l=a,(u=rn.get(f))&&(l=ht({},a),dh(l,u)),t=t.ownerDocument||t,u=t.createElement("script"),oe(u),ge(u,"link",l),t.head.appendChild(u),i.instance=u);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,cu(l,a.precedence,t));return i.instance}function cu(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,g=0;g<l.length;g++){var S=l[g];if(S.dataset.precedence===i)f=S;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function hh(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function dh(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var fu=null;function ep(t,i,a){if(fu===null){var l=new Map,u=fu=new Map;u.set(a,l)}else u=fu,l=u.get(a),l||(l=new Map,u.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),u=0;u<a.length;u++){var f=a[u];if(!(f[Vs]||f[pe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(i)||"";g=t+g;var S=l.get(g);S?S.push(f):l.set(g,[f])}}return l}function np(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Bb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ip(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Cl=null;function Mb(){}function Ib(t,i,a){if(Cl===null)throw Error(r(475));var l=Cl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=bs(a.href),f=t.querySelector(xl(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=hu.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=f,oe(f);return}f=t.ownerDocument||t,a=Wy(a),(u=rn.get(u))&&hh(a,u),f=f.createElement("link"),oe(f);var g=f;g._p=new Promise(function(S,T){g.onload=S,g.onerror=T}),ge(f,"link",a),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=hu.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Ub(){if(Cl===null)throw Error(r(475));var t=Cl;return t.stylesheets&&t.count===0&&gh(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&gh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function hu(){if(this.count--,this.count===0){if(this.stylesheets)gh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var du=null;function gh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,du=new Map,i.forEach(zb,t),du=null,hu.call(t))}function zb(t,i){if(!(i.state.loading&4)){var a=du.get(t);if(a)var l=a.get(null);else{a=new Map,du.set(t,a);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}u=i.instance,g=u.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,u),a.set(g,u),this.count++,l=hu.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),i.state.loading|=4}}var Rl={$$typeof:R,Provider:null,Consumer:null,_currentValue:Tt,_currentValue2:Tt,_threadCount:0};function Lb(t,i,a,l,u,f,g,S){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mc(0),this.hiddenUpdates=mc(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function rp(t,i,a,l,u,f,g,S,T,N,U,q){return t=new Lb(t,i,a,g,S,T,N,q),i=1,f===!0&&(i|=24),f=en(3,null,null,i),t.current=f,f.stateNode=t,i=Yc(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},Df(f),t}function ap(t){return t?(t=Wa,t):Wa}function sp(t,i,a,l,u,f){u=ap(u),l.context===null?l.context=u:l.pendingContext=u,l=Lr(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=qr(t,l,i),a!==null&&(Ee(a,t,i),dl(a,t,i))}function lp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function mh(t,i){lp(t,i),(t=t.alternate)&&lp(t,i)}function op(t){if(t.tag===13){var i=Rr(t,67108864);i!==null&&Ee(i,t,67108864),mh(t,67108864)}}var gu=!0;function qb(t,i,a,l){var u=$.T;$.T=null;var f=F.p;try{F.p=2,yh(t,i,a,l)}finally{F.p=f,$.T=u}}function Jb(t,i,a,l){var u=$.T;$.T=null;var f=F.p;try{F.p=8,yh(t,i,a,l)}finally{F.p=f,$.T=u}}function yh(t,i,a,l){if(gu){var u=ph(l);if(u===null)rh(t,i,l,mu,a),cp(t,l);else if(jb(u,t,i,a,l))l.stopPropagation();else if(cp(t,l),i&4&&-1<Hb.indexOf(t)){for(;u!==null;){var f=Va(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=la(f.pendingLanes);if(g!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;g;){var T=1<<31-Ue(g);S.entanglements[1]|=T,g&=~T}qn(f),(Vt&6)===0&&(_o=Mn()+500,El(0))}}break;case 13:S=Rr(f,2),S!==null&&Ee(S,f,2),eu(),mh(f,2)}if(f=ph(l),f===null&&rh(t,i,l,mu,a),f===u)break;u=f}u!==null&&l.stopPropagation()}else rh(t,i,l,null,a)}}function ph(t){return t=Ac(t),vh(t)}var mu=null;function vh(t){if(mu=null,t=oa(t),t!==null){var i=st(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=Ut(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return mu=t,null}function up(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(N0()){case Md:return 2;case Id:return 8;case uo:case D0:return 32;case Ud:return 268435456;default:return 32}default:return 32}}var Sh=!1,Yr=null,Fr=null,Kr=null,kl=new Map,Bl=new Map,$r=[],Hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cp(t,i){switch(t){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(i.pointerId)}}function Ml(t,i,a,l,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},i!==null&&(i=Va(i),i!==null&&op(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,u!==null&&i.indexOf(u)===-1&&i.push(u),t)}function jb(t,i,a,l,u){switch(i){case"focusin":return Yr=Ml(Yr,t,i,a,l,u),!0;case"dragenter":return Fr=Ml(Fr,t,i,a,l,u),!0;case"mouseover":return Kr=Ml(Kr,t,i,a,l,u),!0;case"pointerover":var f=u.pointerId;return kl.set(f,Ml(kl.get(f)||null,t,i,a,l,u)),!0;case"gotpointercapture":return f=u.pointerId,Bl.set(f,Ml(Bl.get(f)||null,t,i,a,l,u)),!0}return!1}function fp(t){var i=oa(t.target);if(i!==null){var a=st(i);if(a!==null){if(i=a.tag,i===13){if(i=Ut(a),i!==null){t.blockedOn=i,U0(t.priority,function(){if(a.tag===13){var l=He(),u=Rr(a,l);u!==null&&Ee(u,a,l),mh(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=ph(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Tc=l,a.target.dispatchEvent(l),Tc=null}else return i=Va(a),i!==null&&op(i),t.blockedOn=a,!1;i.shift()}return!0}function hp(t,i,a){yu(t)&&a.delete(i)}function Vb(){Sh=!1,Yr!==null&&yu(Yr)&&(Yr=null),Fr!==null&&yu(Fr)&&(Fr=null),Kr!==null&&yu(Kr)&&(Kr=null),kl.forEach(hp),Bl.forEach(hp)}function pu(t,i){t.blockedOn===i&&(t.blockedOn=null,Sh||(Sh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Vb)))}var vu=null;function dp(t){vu!==t&&(vu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){vu===t&&(vu=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],u=t[i+2];if(typeof l!="function"){if(vh(l||a)===null)continue;break}var f=Va(a);f!==null&&(t.splice(i,3),i-=3,of(f,{pending:!0,data:u,method:a.method,action:l},l,u))}}))}function Il(t){function i(T){return pu(T,t)}Yr!==null&&pu(Yr,t),Fr!==null&&pu(Fr,t),Kr!==null&&pu(Kr,t),kl.forEach(i),Bl.forEach(i);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)fp(a),a.blockedOn===null&&$r.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var u=a[l],f=a[l+1],g=u[xe]||null;if(typeof f=="function")g||dp(a);else if(g){var S=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[xe]||null)S=g.formAction;else if(vh(u)!==null)continue}else S=g.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),dp(a)}}}function bh(t){this._internalRoot=t}Su.prototype.render=bh.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=He();sp(a,l,t,i,null,null)},Su.prototype.unmount=bh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&ys(),sp(t.current,2,null,t,null,null),eu(),i[ja]=null}};function Su(t){this._internalRoot=t}Su.prototype.unstable_scheduleHydration=function(t){if(t){var i=jd();t={blockedOn:null,target:t,priority:i};for(var a=0;a<$r.length&&i!==0&&i<$r[a].priority;a++);$r.splice(a,0,t),a===0&&fp(t)}};var gp=n.version;if(gp!=="19.0.0")throw Error(r(527,gp,"19.0.0"));F.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=J(i),t=t!==null?at(t):null,t=t===null?null:t.stateNode,t};var Pb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:$,findFiberByHostInstance:oa,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{Js=bu.inject(Pb),Ie=bu}catch{}}return zl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",u=km,f=Bm,g=Mm,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=rp(t,1,!1,null,null,a,l,u,f,g,S,null),t[ja]=i.current,ih(t.nodeType===8?t.parentNode:t),new bh(i)},zl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,u="",f=km,g=Bm,S=Mm,T=null,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks),a.formState!==void 0&&(N=a.formState)),i=rp(t,1,!0,i,a??null,l,u,f,g,S,T,N),i.context=ap(null),a=i.current,l=He(),u=Lr(l),u.callback=null,qr(a,u,l),i.current.lanes=l,js(i,l),qn(i),t[ja]=i.current,ih(t),new Su(i)},zl.version="19.0.0",zl}var Ep;function iT(){if(Ep)return wh.exports;Ep=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),wh.exports=nT(),wh.exports}var rT=iT(),Rt;(function(s){s[s.Canceled=1]="Canceled",s[s.Unknown=2]="Unknown",s[s.InvalidArgument=3]="InvalidArgument",s[s.DeadlineExceeded=4]="DeadlineExceeded",s[s.NotFound=5]="NotFound",s[s.AlreadyExists=6]="AlreadyExists",s[s.PermissionDenied=7]="PermissionDenied",s[s.ResourceExhausted=8]="ResourceExhausted",s[s.FailedPrecondition=9]="FailedPrecondition",s[s.Aborted=10]="Aborted",s[s.OutOfRange=11]="OutOfRange",s[s.Unimplemented=12]="Unimplemented",s[s.Internal=13]="Internal",s[s.Unavailable=14]="Unavailable",s[s.DataLoss=15]="DataLoss",s[s.Unauthenticated=16]="Unauthenticated"})(Rt||(Rt={}));function Np(s){const n=Rt[s];return typeof n!="string"?s.toString():n[0].toLowerCase()+n.substring(1).replace(/[A-Z]/g,e=>"_"+e.toLowerCase())}class Jt extends Error{constructor(n,e=Rt.Unknown,r,o,c){super(aT(n,e)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=n,this.code=e,this.metadata=new Headers(r??{}),this.details=o??[],this.cause=c}static from(n,e=Rt.Unknown){return n instanceof Jt?n:n instanceof Error?n.name=="AbortError"?new Jt(n.message,Rt.Canceled):new Jt(n.message,e,void 0,void 0,n):new Jt(String(n),e,void 0,void 0,n)}static[Symbol.hasInstance](n){return n instanceof Error?Object.getPrototypeOf(n)===Jt.prototype?!0:n.name==="ConnectError"&&"code"in n&&typeof n.code=="number"&&"metadata"in n&&"details"in n&&Array.isArray(n.details)&&"rawMessage"in n&&typeof n.rawMessage=="string"&&"cause"in n:!1}findDetails(n){const e="typeName"in n?{findMessage:o=>o===n.typeName?n:void 0}:n,r=[];for(const o of this.details){if("getType"in o){e.findMessage(o.getType().typeName)&&r.push(o);continue}const c=e.findMessage(o.type);if(c)try{r.push(c.fromBinary(o.value))}catch{}}return r}}function aT(s,n){return s.length?`[${Np(n)}] ${s}`:`[${Np(n)}]`}function Kt(s,n){if(!s)throw new Error(n)}const sT=34028234663852886e22,lT=-34028234663852886e22,oT=4294967295,uT=2147483647,cT=-2147483648;function xu(s){if(typeof s!="number")throw new Error("invalid int 32: "+typeof s);if(!Number.isInteger(s)||s>uT||s<cT)throw new Error("invalid int 32: "+s)}function zh(s){if(typeof s!="number")throw new Error("invalid uint 32: "+typeof s);if(!Number.isInteger(s)||s>oT||s<0)throw new Error("invalid uint 32: "+s)}function dv(s){if(typeof s!="number")throw new Error("invalid float 32: "+typeof s);if(Number.isFinite(s)&&(s>sT||s<lT))throw new Error("invalid float 32: "+s)}const gv=Symbol("@bufbuild/protobuf/enum-type");function fT(s){const n=s[gv];return Kt(n,"missing enum type on enum object"),n}function mv(s,n,e,r){s[gv]=yv(n,e.map(o=>({no:o.no,name:o.name,localName:s[o.no]})))}function yv(s,n,e){const r=Object.create(null),o=Object.create(null),c=[];for(const h of n){const m=pv(h);c.push(m),r[h.name]=m,o[h.no]=m}return{typeName:s,values:c,findName(h){return r[h]},findNumber(h){return o[h]}}}function hT(s,n,e){const r={};for(const o of n){const c=pv(o);r[c.localName]=c.no,r[c.no]=c.localName}return mv(r,s,n),r}function pv(s){return"localName"in s?s:Object.assign(Object.assign({},s),{localName:s.name})}class V{equals(n){return this.getType().runtime.util.equals(this.getType(),this,n)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(n,e){const r=this.getType(),o=r.runtime.bin,c=o.makeReadOptions(e);return o.readMessage(this,c.readerFactory(n),n.byteLength,c),this}fromJson(n,e){const r=this.getType(),o=r.runtime.json,c=o.makeReadOptions(e);return o.readMessage(r,n,c,this),this}fromJsonString(n,e){let r;try{r=JSON.parse(n)}catch(o){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${o instanceof Error?o.message:String(o)}`)}return this.fromJson(r,e)}toBinary(n){const e=this.getType(),r=e.runtime.bin,o=r.makeWriteOptions(n),c=o.writerFactory();return r.writeMessage(this,c,o),c.finish()}toJson(n){const e=this.getType(),r=e.runtime.json,o=r.makeWriteOptions(n);return r.writeMessage(this,o)}toJsonString(n){var e;const r=this.toJson(n);return JSON.stringify(r,null,(e=n==null?void 0:n.prettySpaces)!==null&&e!==void 0?e:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function dT(s,n,e,r){var o;const c=(o=r==null?void 0:r.localName)!==null&&o!==void 0?o:n.substring(n.lastIndexOf(".")+1),h={[c]:function(m){s.util.initFields(this),s.util.initPartial(m,this)}}[c];return Object.setPrototypeOf(h.prototype,new V),Object.assign(h,{runtime:s,typeName:n,fields:s.util.newFieldList(e),fromBinary(m,p){return new h().fromBinary(m,p)},fromJson(m,p){return new h().fromJson(m,p)},fromJsonString(m,p){return new h().fromJsonString(m,p)},equals(m,p){return s.util.equals(h,m,p)}}),h}function gT(){let s=0,n=0;for(let r=0;r<28;r+=7){let o=this.buf[this.pos++];if(s|=(o&127)<<r,(o&128)==0)return this.assertBounds(),[s,n]}let e=this.buf[this.pos++];if(s|=(e&15)<<28,n=(e&112)>>4,(e&128)==0)return this.assertBounds(),[s,n];for(let r=3;r<=31;r+=7){let o=this.buf[this.pos++];if(n|=(o&127)<<r,(o&128)==0)return this.assertBounds(),[s,n]}throw new Error("invalid varint")}function xh(s,n,e){for(let c=0;c<28;c=c+7){const h=s>>>c,m=!(!(h>>>7)&&n==0),p=(m?h|128:h)&255;if(e.push(p),!m)return}const r=s>>>28&15|(n&7)<<4,o=n>>3!=0;if(e.push((o?r|128:r)&255),!!o){for(let c=3;c<31;c=c+7){const h=n>>>c,m=!!(h>>>7),p=(m?h|128:h)&255;if(e.push(p),!m)return}e.push(n>>>31&1)}}const Ou=4294967296;function Dp(s){const n=s[0]==="-";n&&(s=s.slice(1));const e=1e6;let r=0,o=0;function c(h,m){const p=Number(s.slice(h,m));o*=e,r=r*e+p,r>=Ou&&(o=o+(r/Ou|0),r=r%Ou)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),n?Sv(r,o):fd(r,o)}function mT(s,n){let e=fd(s,n);const r=e.hi&2147483648;r&&(e=Sv(e.lo,e.hi));const o=vv(e.lo,e.hi);return r?"-"+o:o}function vv(s,n){if({lo:s,hi:n}=yT(s,n),n<=2097151)return String(Ou*n+s);const e=s&16777215,r=(s>>>24|n<<8)&16777215,o=n>>16&65535;let c=e+r*6777216+o*6710656,h=r+o*8147497,m=o*2;const p=1e7;return c>=p&&(h+=Math.floor(c/p),c%=p),h>=p&&(m+=Math.floor(h/p),h%=p),m.toString()+xp(h)+xp(c)}function yT(s,n){return{lo:s>>>0,hi:n>>>0}}function fd(s,n){return{lo:s|0,hi:n|0}}function Sv(s,n){return n=~n,s?s=~s+1:n+=1,fd(s,n)}const xp=s=>{const n=String(s);return"0000000".slice(n.length)+n};function Op(s,n){if(s>=0){for(;s>127;)n.push(s&127|128),s=s>>>7;n.push(s)}else{for(let e=0;e<9;e++)n.push(s&127|128),s=s>>7;n.push(1)}}function pT(){let s=this.buf[this.pos++],n=s&127;if((s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<7,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<14,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<21,(s&128)==0)return this.assertBounds(),n;s=this.buf[this.pos++],n|=(s&15)<<28;for(let e=5;(s&128)!==0&&e<10;e++)s=this.buf[this.pos++];if((s&128)!=0)throw new Error("invalid varint");return this.assertBounds(),n>>>0}var Cp={};function vT(){const s=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof s.getBigInt64=="function"&&typeof s.getBigUint64=="function"&&typeof s.setBigInt64=="function"&&typeof s.setBigUint64=="function"&&(typeof process!="object"||typeof Cp!="object"||Cp.BUF_BIGINT_DISABLE!=="1")){const o=BigInt("-9223372036854775808"),c=BigInt("9223372036854775807"),h=BigInt("0"),m=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(p){const y=typeof p=="bigint"?p:BigInt(p);if(y>c||y<o)throw new Error(`int64 invalid: ${p}`);return y},uParse(p){const y=typeof p=="bigint"?p:BigInt(p);if(y>m||y<h)throw new Error(`uint64 invalid: ${p}`);return y},enc(p){return s.setBigInt64(0,this.parse(p),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},uEnc(p){return s.setBigInt64(0,this.uParse(p),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},dec(p,y){return s.setInt32(0,p,!0),s.setInt32(4,y,!0),s.getBigInt64(0,!0)},uDec(p,y){return s.setInt32(0,p,!0),s.setInt32(4,y,!0),s.getBigUint64(0,!0)}}}const e=o=>Kt(/^-?[0-9]+$/.test(o),`int64 invalid: ${o}`),r=o=>Kt(/^[0-9]+$/.test(o),`uint64 invalid: ${o}`);return{zero:"0",supported:!1,parse(o){return typeof o!="string"&&(o=o.toString()),e(o),o},uParse(o){return typeof o!="string"&&(o=o.toString()),r(o),o},enc(o){return typeof o!="string"&&(o=o.toString()),e(o),Dp(o)},uEnc(o){return typeof o!="string"&&(o=o.toString()),r(o),Dp(o)},dec(o,c){return mT(o,c)},uDec(o,c){return vv(o,c)}}}const Ht=vT();var M;(function(s){s[s.DOUBLE=1]="DOUBLE",s[s.FLOAT=2]="FLOAT",s[s.INT64=3]="INT64",s[s.UINT64=4]="UINT64",s[s.INT32=5]="INT32",s[s.FIXED64=6]="FIXED64",s[s.FIXED32=7]="FIXED32",s[s.BOOL=8]="BOOL",s[s.STRING=9]="STRING",s[s.BYTES=12]="BYTES",s[s.UINT32=13]="UINT32",s[s.SFIXED32=15]="SFIXED32",s[s.SFIXED64=16]="SFIXED64",s[s.SINT32=17]="SINT32",s[s.SINT64=18]="SINT64"})(M||(M={}));var ra;(function(s){s[s.BIGINT=0]="BIGINT",s[s.STRING=1]="STRING"})(ra||(ra={}));function Zr(s,n,e){if(n===e)return!0;if(s==M.BYTES){if(!(n instanceof Uint8Array)||!(e instanceof Uint8Array)||n.length!==e.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!==e[r])return!1;return!0}switch(s){case M.UINT64:case M.FIXED64:case M.INT64:case M.SFIXED64:case M.SINT64:return n==e}return!1}function Rs(s,n){switch(s){case M.BOOL:return!1;case M.UINT64:case M.FIXED64:case M.INT64:case M.SFIXED64:case M.SINT64:return n==0?Ht.zero:"0";case M.DOUBLE:case M.FLOAT:return 0;case M.BYTES:return new Uint8Array(0);case M.STRING:return"";default:return 0}}function bv(s,n){switch(s){case M.BOOL:return n===!1;case M.STRING:return n==="";case M.BYTES:return n instanceof Uint8Array&&!n.byteLength;default:return n==0}}var _t;(function(s){s[s.Varint=0]="Varint",s[s.Bit64=1]="Bit64",s[s.LengthDelimited=2]="LengthDelimited",s[s.StartGroup=3]="StartGroup",s[s.EndGroup=4]="EndGroup",s[s.Bit32=5]="Bit32"})(_t||(_t={}));class ST{constructor(n){this.stack=[],this.textEncoder=n??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let n=0;for(let o=0;o<this.chunks.length;o++)n+=this.chunks[o].length;let e=new Uint8Array(n),r=0;for(let o=0;o<this.chunks.length;o++)e.set(this.chunks[o],r),r+=this.chunks[o].length;return this.chunks=[],e}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let n=this.finish(),e=this.stack.pop();if(!e)throw new Error("invalid state, fork stack empty");return this.chunks=e.chunks,this.buf=e.buf,this.uint32(n.byteLength),this.raw(n)}tag(n,e){return this.uint32((n<<3|e)>>>0)}raw(n){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(n),this}uint32(n){for(zh(n);n>127;)this.buf.push(n&127|128),n=n>>>7;return this.buf.push(n),this}int32(n){return xu(n),Op(n,this.buf),this}bool(n){return this.buf.push(n?1:0),this}bytes(n){return this.uint32(n.byteLength),this.raw(n)}string(n){let e=this.textEncoder.encode(n);return this.uint32(e.byteLength),this.raw(e)}float(n){dv(n);let e=new Uint8Array(4);return new DataView(e.buffer).setFloat32(0,n,!0),this.raw(e)}double(n){let e=new Uint8Array(8);return new DataView(e.buffer).setFloat64(0,n,!0),this.raw(e)}fixed32(n){zh(n);let e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,n,!0),this.raw(e)}sfixed32(n){xu(n);let e=new Uint8Array(4);return new DataView(e.buffer).setInt32(0,n,!0),this.raw(e)}sint32(n){return xu(n),n=(n<<1^n>>31)>>>0,Op(n,this.buf),this}sfixed64(n){let e=new Uint8Array(8),r=new DataView(e.buffer),o=Ht.enc(n);return r.setInt32(0,o.lo,!0),r.setInt32(4,o.hi,!0),this.raw(e)}fixed64(n){let e=new Uint8Array(8),r=new DataView(e.buffer),o=Ht.uEnc(n);return r.setInt32(0,o.lo,!0),r.setInt32(4,o.hi,!0),this.raw(e)}int64(n){let e=Ht.enc(n);return xh(e.lo,e.hi,this.buf),this}sint64(n){let e=Ht.enc(n),r=e.hi>>31,o=e.lo<<1^r,c=(e.hi<<1|e.lo>>>31)^r;return xh(o,c,this.buf),this}uint64(n){let e=Ht.uEnc(n);return xh(e.lo,e.hi,this.buf),this}}class bT{constructor(n,e){this.varint64=gT,this.uint32=pT,this.buf=n,this.len=n.length,this.pos=0,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.textDecoder=e??new TextDecoder}tag(){let n=this.uint32(),e=n>>>3,r=n&7;if(e<=0||r<0||r>5)throw new Error("illegal tag: field no "+e+" wire type "+r);return[e,r]}skip(n,e){let r=this.pos;switch(n){case _t.Varint:for(;this.buf[this.pos++]&128;);break;case _t.Bit64:this.pos+=4;case _t.Bit32:this.pos+=4;break;case _t.LengthDelimited:let o=this.uint32();this.pos+=o;break;case _t.StartGroup:for(;;){const[c,h]=this.tag();if(h===_t.EndGroup){if(e!==void 0&&c!==e)throw new Error("invalid end group tag");break}this.skip(h,c)}break;default:throw new Error("cant skip wire type "+n)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let n=this.uint32();return n>>>1^-(n&1)}int64(){return Ht.dec(...this.varint64())}uint64(){return Ht.uDec(...this.varint64())}sint64(){let[n,e]=this.varint64(),r=-(n&1);return n=(n>>>1|(e&1)<<31)^r,e=e>>>1^r,Ht.dec(n,e)}bool(){let[n,e]=this.varint64();return n!==0||e!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Ht.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Ht.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let n=this.uint32(),e=this.pos;return this.pos+=n,this.assertBounds(),this.buf.subarray(e,e+n)}string(){return this.textDecoder.decode(this.bytes())}}function TT(s,n,e,r){let o;return{typeName:n,extendee:e,get field(){if(!o){const c=typeof r=="function"?r():r;c.name=n.split(".").pop(),c.jsonName=`[${n}]`,o=s.util.newFieldList([c]).list()[0]}return o},runtime:s}}function Tv(s){const n=s.field.localName,e=Object.create(null);return e[n]=AT(s),[e,()=>e[n]]}function AT(s){const n=s.field;if(n.repeated)return[];if(n.default!==void 0)return n.default;switch(n.kind){case"enum":return n.T.values[0].no;case"scalar":return Rs(n.T,n.L);case"message":const e=n.T,r=new e;return e.fieldWrapper?e.fieldWrapper.unwrapField(r):r;case"map":throw"map fields are not allowed to be extensions"}}function wT(s,n){if(!n.repeated&&(n.kind=="enum"||n.kind=="scalar")){for(let e=s.length-1;e>=0;--e)if(s[e].no==n.no)return[s[e]];return[]}return s.filter(e=>e.no===n.no)}let pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),rc=[];for(let s=0;s<pr.length;s++)rc[pr[s].charCodeAt(0)]=s;rc[45]=pr.indexOf("+");rc[95]=pr.indexOf("/");const hd={dec(s){let n=s.length*3/4;s[s.length-2]=="="?n-=2:s[s.length-1]=="="&&(n-=1);let e=new Uint8Array(n),r=0,o=0,c,h=0;for(let m=0;m<s.length;m++){if(c=rc[s.charCodeAt(m)],c===void 0)switch(s[m]){case"=":o=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(o){case 0:h=c,o=1;break;case 1:e[r++]=h<<2|(c&48)>>4,h=c,o=2;break;case 2:e[r++]=(h&15)<<4|(c&60)>>2,h=c,o=3;break;case 3:e[r++]=(h&3)<<6|c,o=0;break}}if(o==1)throw Error("invalid base64 string.");return e.subarray(0,r)},enc(s){let n="",e=0,r,o=0;for(let c=0;c<s.length;c++)switch(r=s[c],e){case 0:n+=pr[r>>2],o=(r&3)<<4,e=1;break;case 1:n+=pr[o|r>>4],o=(r&15)<<2,e=2;break;case 2:n+=pr[o|r>>6],n+=pr[r&63],e=0;break}return e&&(n+=pr[o],n+="=",e==1&&(n+="=")),n}};function ET(s,n,e){wv(n,s);const r=n.runtime.bin.makeReadOptions(e),o=wT(s.getType().runtime.bin.listUnknownFields(s),n.field),[c,h]=Tv(n);for(const m of o)n.runtime.bin.readField(c,r.readerFactory(m.data),n.field,m.wireType,r);return h()}function NT(s,n,e,r){wv(n,s);const o=n.runtime.bin.makeReadOptions(r),c=n.runtime.bin.makeWriteOptions(r);if(Av(s,n)){const y=s.getType().runtime.bin.listUnknownFields(s).filter(b=>b.no!=n.field.no);s.getType().runtime.bin.discardUnknownFields(s);for(const b of y)s.getType().runtime.bin.onUnknownField(s,b.no,b.wireType,b.data)}const h=c.writerFactory();let m=n.field;!m.opt&&!m.repeated&&(m.kind=="enum"||m.kind=="scalar")&&(m=Object.assign(Object.assign({},n.field),{opt:!0})),n.runtime.bin.writeField(m,e,h,c);const p=o.readerFactory(h.finish());for(;p.pos<p.len;){const[y,b]=p.tag(),E=p.skip(b,y);s.getType().runtime.bin.onUnknownField(s,y,b,E)}}function Av(s,n){const e=s.getType();return n.extendee.typeName===e.typeName&&!!e.runtime.bin.listUnknownFields(s).find(r=>r.no==n.field.no)}function wv(s,n){Kt(s.extendee.typeName==n.getType().typeName,`extension ${s.typeName} can only be applied to message ${s.extendee.typeName}`)}function Ev(s,n){const e=s.localName;if(s.repeated)return n[e].length>0;if(s.oneof)return n[s.oneof.localName].case===e;switch(s.kind){case"enum":case"scalar":return s.opt||s.req?n[e]!==void 0:s.kind=="enum"?n[e]!==s.T.values[0].no:!bv(s.T,n[e]);case"message":return n[e]!==void 0;case"map":return Object.keys(n[e]).length>0}}function Rp(s,n){const e=s.localName,r=!s.opt&&!s.req;if(s.repeated)n[e]=[];else if(s.oneof)n[s.oneof.localName]={case:void 0};else switch(s.kind){case"map":n[e]={};break;case"enum":n[e]=r?s.T.values[0].no:void 0;break;case"scalar":n[e]=r?Rs(s.T,s.L):void 0;break;case"message":n[e]=void 0;break}}function Ma(s,n){if(s===null||typeof s!="object"||!Object.getOwnPropertyNames(V.prototype).every(r=>r in s&&typeof s[r]=="function"))return!1;const e=s.getType();return e===null||typeof e!="function"||!("typeName"in e)||typeof e.typeName!="string"?!1:n===void 0?!0:e.typeName==n.typeName}function Nv(s,n){return Ma(n)||!s.fieldWrapper?n:s.fieldWrapper.wrapField(n)}M.DOUBLE,M.FLOAT,M.INT64,M.UINT64,M.INT32,M.UINT32,M.BOOL,M.STRING,M.BYTES;const kp={ignoreUnknownFields:!1},Bp={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function DT(s){return s?Object.assign(Object.assign({},kp),s):kp}function xT(s){return s?Object.assign(Object.assign({},Bp),s):Bp}const Iu=Symbol(),Cu=Symbol();function OT(){return{makeReadOptions:DT,makeWriteOptions:xT,readMessage(s,n,e,r){if(n==null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message ${s.typeName} from JSON: ${Hn(n)}`);r=r??new s;const o=new Map,c=e.typeRegistry;for(const[h,m]of Object.entries(n)){const p=s.fields.findJsonName(h);if(p){if(p.oneof){if(m===null&&p.kind=="scalar")continue;const y=o.get(p.oneof);if(y!==void 0)throw new Error(`cannot decode message ${s.typeName} from JSON: multiple keys for oneof "${p.oneof.name}" present: "${y}", "${h}"`);o.set(p.oneof,h)}Mp(r,m,p,e,s)}else{let y=!1;if(c!=null&&c.findExtension&&h.startsWith("[")&&h.endsWith("]")){const b=c.findExtension(h.substring(1,h.length-1));if(b&&b.extendee.typeName==s.typeName){y=!0;const[E,B]=Tv(b);Mp(E,m,b.field,e,b),NT(r,b,B(),e)}}if(!y&&!e.ignoreUnknownFields)throw new Error(`cannot decode message ${s.typeName} from JSON: key "${h}" is unknown`)}}return r},writeMessage(s,n){const e=s.getType(),r={};let o;try{for(o of e.fields.byNumber()){if(!Ev(o,s)){if(o.req)throw"required field not set";if(!n.emitDefaultValues||!RT(o))continue}const h=o.oneof?s[o.oneof.localName].value:s[o.localName],m=Ip(o,h,n);m!==void 0&&(r[n.useProtoFieldName?o.name:o.jsonName]=m)}const c=n.typeRegistry;if(c!=null&&c.findExtensionFor)for(const h of e.runtime.bin.listUnknownFields(s)){const m=c.findExtensionFor(e.typeName,h.no);if(m&&Av(s,m)){const p=ET(s,m,n),y=Ip(m.field,p,n);y!==void 0&&(r[m.field.jsonName]=y)}}}catch(c){const h=o?`cannot encode field ${e.typeName}.${o.name} to JSON`:`cannot encode message ${e.typeName} to JSON`,m=c instanceof Error?c.message:String(c);throw new Error(h+(m.length>0?`: ${m}`:""))}return r},readScalar(s,n,e){return Hl(s,n,e??ra.BIGINT,!0)},writeScalar(s,n,e){if(n!==void 0&&(e||bv(s,n)))return Ru(s,n)},debug:Hn}}function Hn(s){if(s===null)return"null";switch(typeof s){case"object":return Array.isArray(s)?"array":"object";case"string":return s.length>100?"string":`"${s.split('"').join('\\"')}"`;default:return String(s)}}function Mp(s,n,e,r,o){let c=e.localName;if(e.repeated){if(Kt(e.kind!="map"),n===null)return;if(!Array.isArray(n))throw new Error(`cannot decode field ${o.typeName}.${e.name} from JSON: ${Hn(n)}`);const h=s[c];for(const m of n){if(m===null)throw new Error(`cannot decode field ${o.typeName}.${e.name} from JSON: ${Hn(m)}`);switch(e.kind){case"message":h.push(e.T.fromJson(m,r));break;case"enum":const p=Oh(e.T,m,r.ignoreUnknownFields,!0);p!==Cu&&h.push(p);break;case"scalar":try{h.push(Hl(e.T,m,e.L,!0))}catch(y){let b=`cannot decode field ${o.typeName}.${e.name} from JSON: ${Hn(m)}`;throw y instanceof Error&&y.message.length>0&&(b+=`: ${y.message}`),new Error(b)}break}}}else if(e.kind=="map"){if(n===null)return;if(typeof n!="object"||Array.isArray(n))throw new Error(`cannot decode field ${o.typeName}.${e.name} from JSON: ${Hn(n)}`);const h=s[c];for(const[m,p]of Object.entries(n)){if(p===null)throw new Error(`cannot decode field ${o.typeName}.${e.name} from JSON: map value null`);let y;try{y=CT(e.K,m)}catch(b){let E=`cannot decode map key for field ${o.typeName}.${e.name} from JSON: ${Hn(n)}`;throw b instanceof Error&&b.message.length>0&&(E+=`: ${b.message}`),new Error(E)}switch(e.V.kind){case"message":h[y]=e.V.T.fromJson(p,r);break;case"enum":const b=Oh(e.V.T,p,r.ignoreUnknownFields,!0);b!==Cu&&(h[y]=b);break;case"scalar":try{h[y]=Hl(e.V.T,p,ra.BIGINT,!0)}catch(E){let B=`cannot decode map value for field ${o.typeName}.${e.name} from JSON: ${Hn(n)}`;throw E instanceof Error&&E.message.length>0&&(B+=`: ${E.message}`),new Error(B)}break}}}else switch(e.oneof&&(s=s[e.oneof.localName]={case:c},c="value"),e.kind){case"message":const h=e.T;if(n===null&&h.typeName!="google.protobuf.Value")return;let m=s[c];Ma(m)?m.fromJson(n,r):(s[c]=m=h.fromJson(n,r),h.fieldWrapper&&!e.oneof&&(s[c]=h.fieldWrapper.unwrapField(m)));break;case"enum":const p=Oh(e.T,n,r.ignoreUnknownFields,!1);switch(p){case Iu:Rp(e,s);break;case Cu:break;default:s[c]=p;break}break;case"scalar":try{const y=Hl(e.T,n,e.L,!1);switch(y){case Iu:Rp(e,s);break;default:s[c]=y;break}}catch(y){let b=`cannot decode field ${o.typeName}.${e.name} from JSON: ${Hn(n)}`;throw y instanceof Error&&y.message.length>0&&(b+=`: ${y.message}`),new Error(b)}break}}function CT(s,n){if(s===M.BOOL)switch(n){case"true":n=!0;break;case"false":n=!1;break}return Hl(s,n,ra.BIGINT,!0).toString()}function Hl(s,n,e,r){if(n===null)return r?Rs(s,e):Iu;switch(s){case M.DOUBLE:case M.FLOAT:if(n==="NaN")return Number.NaN;if(n==="Infinity")return Number.POSITIVE_INFINITY;if(n==="-Infinity")return Number.NEGATIVE_INFINITY;if(n===""||typeof n=="string"&&n.trim().length!==n.length||typeof n!="string"&&typeof n!="number")break;const o=Number(n);if(Number.isNaN(o)||!Number.isFinite(o))break;return s==M.FLOAT&&dv(o),o;case M.INT32:case M.FIXED32:case M.SFIXED32:case M.SINT32:case M.UINT32:let c;if(typeof n=="number"?c=n:typeof n=="string"&&n.length>0&&n.trim().length===n.length&&(c=Number(n)),c===void 0)break;return s==M.UINT32||s==M.FIXED32?zh(c):xu(c),c;case M.INT64:case M.SFIXED64:case M.SINT64:if(typeof n!="number"&&typeof n!="string")break;const h=Ht.parse(n);return e?h.toString():h;case M.FIXED64:case M.UINT64:if(typeof n!="number"&&typeof n!="string")break;const m=Ht.uParse(n);return e?m.toString():m;case M.BOOL:if(typeof n!="boolean")break;return n;case M.STRING:if(typeof n!="string")break;try{encodeURIComponent(n)}catch{throw new Error("invalid UTF8")}return n;case M.BYTES:if(n==="")return new Uint8Array(0);if(typeof n!="string")break;return hd.dec(n)}throw new Error}function Oh(s,n,e,r){if(n===null)return s.typeName=="google.protobuf.NullValue"?0:r?s.values[0].no:Iu;switch(typeof n){case"number":if(Number.isInteger(n))return n;break;case"string":const o=s.findName(n);if(o!==void 0)return o.no;if(e)return Cu;break}throw new Error(`cannot decode enum ${s.typeName} from JSON: ${Hn(n)}`)}function RT(s){return s.repeated||s.kind=="map"?!0:!(s.oneof||s.kind=="message"||s.opt||s.req)}function Ip(s,n,e){if(s.kind=="map"){Kt(typeof n=="object"&&n!=null);const r={},o=Object.entries(n);switch(s.V.kind){case"scalar":for(const[h,m]of o)r[h.toString()]=Ru(s.V.T,m);break;case"message":for(const[h,m]of o)r[h.toString()]=m.toJson(e);break;case"enum":const c=s.V.T;for(const[h,m]of o)r[h.toString()]=Ch(c,m,e.enumAsInteger);break}return e.emitDefaultValues||o.length>0?r:void 0}if(s.repeated){Kt(Array.isArray(n));const r=[];switch(s.kind){case"scalar":for(let o=0;o<n.length;o++)r.push(Ru(s.T,n[o]));break;case"enum":for(let o=0;o<n.length;o++)r.push(Ch(s.T,n[o],e.enumAsInteger));break;case"message":for(let o=0;o<n.length;o++)r.push(n[o].toJson(e));break}return e.emitDefaultValues||r.length>0?r:void 0}switch(s.kind){case"scalar":return Ru(s.T,n);case"enum":return Ch(s.T,n,e.enumAsInteger);case"message":return Nv(s.T,n).toJson(e)}}function Ch(s,n,e){var r;if(Kt(typeof n=="number"),s.typeName=="google.protobuf.NullValue")return null;if(e)return n;const o=s.findNumber(n);return(r=o==null?void 0:o.name)!==null&&r!==void 0?r:n}function Ru(s,n){switch(s){case M.INT32:case M.SFIXED32:case M.SINT32:case M.FIXED32:case M.UINT32:return Kt(typeof n=="number"),n;case M.FLOAT:case M.DOUBLE:return Kt(typeof n=="number"),Number.isNaN(n)?"NaN":n===Number.POSITIVE_INFINITY?"Infinity":n===Number.NEGATIVE_INFINITY?"-Infinity":n;case M.STRING:return Kt(typeof n=="string"),n;case M.BOOL:return Kt(typeof n=="boolean"),n;case M.UINT64:case M.FIXED64:case M.INT64:case M.SFIXED64:case M.SINT64:return Kt(typeof n=="bigint"||typeof n=="string"||typeof n=="number"),n.toString();case M.BYTES:return Kt(n instanceof Uint8Array),hd.enc(n)}}const As=Symbol("@bufbuild/protobuf/unknown-fields"),Up={readUnknownFields:!0,readerFactory:s=>new bT(s)},zp={writeUnknownFields:!0,writerFactory:()=>new ST};function kT(s){return s?Object.assign(Object.assign({},Up),s):Up}function BT(s){return s?Object.assign(Object.assign({},zp),s):zp}function MT(){return{makeReadOptions:kT,makeWriteOptions:BT,listUnknownFields(s){var n;return(n=s[As])!==null&&n!==void 0?n:[]},discardUnknownFields(s){delete s[As]},writeUnknownFields(s,n){const r=s[As];if(r)for(const o of r)n.tag(o.no,o.wireType).raw(o.data)},onUnknownField(s,n,e,r){const o=s;Array.isArray(o[As])||(o[As]=[]),o[As].push({no:n,wireType:e,data:r})},readMessage(s,n,e,r,o){const c=s.getType(),h=o?n.len:n.pos+e;let m,p;for(;n.pos<h&&([m,p]=n.tag(),!(o===!0&&p==_t.EndGroup));){const y=c.fields.find(m);if(!y){const b=n.skip(p,m);r.readUnknownFields&&this.onUnknownField(s,m,p,b);continue}Lp(s,n,y,p,r)}if(o&&(p!=_t.EndGroup||m!==e))throw new Error("invalid end group tag")},readField:Lp,writeMessage(s,n,e){const r=s.getType();for(const o of r.fields.byNumber()){if(!Ev(o,s)){if(o.req)throw new Error(`cannot encode field ${r.typeName}.${o.name} to binary: required field not set`);continue}const c=o.oneof?s[o.oneof.localName].value:s[o.localName];qp(o,c,n,e)}return e.writeUnknownFields&&this.writeUnknownFields(s,n),n},writeField(s,n,e,r){n!==void 0&&qp(s,n,e,r)}}}function Lp(s,n,e,r,o){let{repeated:c,localName:h}=e;switch(e.oneof&&(s=s[e.oneof.localName],s.case!=h&&delete s.value,s.case=h,h="value"),e.kind){case"scalar":case"enum":const m=e.kind=="enum"?M.INT32:e.T;let p=Uu;if(e.kind=="scalar"&&e.L>0&&(p=UT),c){let B=s[h];if(r==_t.LengthDelimited&&m!=M.STRING&&m!=M.BYTES){let z=n.uint32()+n.pos;for(;n.pos<z;)B.push(p(n,m))}else B.push(p(n,m))}else s[h]=p(n,m);break;case"message":const y=e.T;c?s[h].push(ku(n,new y,o,e)):Ma(s[h])?ku(n,s[h],o,e):(s[h]=ku(n,new y,o,e),y.fieldWrapper&&!e.oneof&&!e.repeated&&(s[h]=y.fieldWrapper.unwrapField(s[h])));break;case"map":let[b,E]=IT(e,n,o);s[h][b]=E;break}}function ku(s,n,e,r){const o=n.getType().runtime.bin,c=r==null?void 0:r.delimited;return o.readMessage(n,s,c?r.no:s.uint32(),e,c),n}function IT(s,n,e){const r=n.uint32(),o=n.pos+r;let c,h;for(;n.pos<o;){const[m]=n.tag();switch(m){case 1:c=Uu(n,s.K);break;case 2:switch(s.V.kind){case"scalar":h=Uu(n,s.V.T);break;case"enum":h=n.int32();break;case"message":h=ku(n,new s.V.T,e,void 0);break}break}}if(c===void 0&&(c=Rs(s.K,ra.BIGINT)),typeof c!="string"&&typeof c!="number"&&(c=c.toString()),h===void 0)switch(s.V.kind){case"scalar":h=Rs(s.V.T,ra.BIGINT);break;case"enum":h=s.V.T.values[0].no;break;case"message":h=new s.V.T;break}return[c,h]}function UT(s,n){const e=Uu(s,n);return typeof e=="bigint"?e.toString():e}function Uu(s,n){switch(n){case M.STRING:return s.string();case M.BOOL:return s.bool();case M.DOUBLE:return s.double();case M.FLOAT:return s.float();case M.INT32:return s.int32();case M.INT64:return s.int64();case M.UINT64:return s.uint64();case M.FIXED64:return s.fixed64();case M.BYTES:return s.bytes();case M.FIXED32:return s.fixed32();case M.SFIXED32:return s.sfixed32();case M.SFIXED64:return s.sfixed64();case M.SINT64:return s.sint64();case M.UINT32:return s.uint32();case M.SINT32:return s.sint32()}}function qp(s,n,e,r){Kt(n!==void 0);const o=s.repeated;switch(s.kind){case"scalar":case"enum":let c=s.kind=="enum"?M.INT32:s.T;if(o)if(Kt(Array.isArray(n)),s.packed)LT(e,c,s.no,n);else for(const h of n)jl(e,c,s.no,h);else jl(e,c,s.no,n);break;case"message":if(o){Kt(Array.isArray(n));for(const h of n)Jp(e,r,s,h)}else Jp(e,r,s,n);break;case"map":Kt(typeof n=="object"&&n!=null);for(const[h,m]of Object.entries(n))zT(e,r,s,h,m);break}}function zT(s,n,e,r,o){s.tag(e.no,_t.LengthDelimited),s.fork();let c=r;switch(e.K){case M.INT32:case M.FIXED32:case M.UINT32:case M.SFIXED32:case M.SINT32:c=Number.parseInt(r);break;case M.BOOL:Kt(r=="true"||r=="false"),c=r=="true";break}switch(jl(s,e.K,1,c),e.V.kind){case"scalar":jl(s,e.V.T,2,o);break;case"enum":jl(s,M.INT32,2,o);break;case"message":Kt(o!==void 0),s.tag(2,_t.LengthDelimited).bytes(o.toBinary(n));break}s.join()}function Jp(s,n,e,r){const o=Nv(e.T,r);e.delimited?s.tag(e.no,_t.StartGroup).raw(o.toBinary(n)).tag(e.no,_t.EndGroup):s.tag(e.no,_t.LengthDelimited).bytes(o.toBinary(n))}function jl(s,n,e,r){Kt(r!==void 0);let[o,c]=Dv(n);s.tag(e,o)[c](r)}function LT(s,n,e,r){if(!r.length)return;s.tag(e,_t.LengthDelimited).fork();let[,o]=Dv(n);for(let c=0;c<r.length;c++)s[o](r[c]);s.join()}function Dv(s){let n=_t.Varint;switch(s){case M.BYTES:case M.STRING:n=_t.LengthDelimited;break;case M.DOUBLE:case M.FIXED64:case M.SFIXED64:n=_t.Bit64;break;case M.FIXED32:case M.SFIXED32:case M.FLOAT:n=_t.Bit32;break}const e=M[s].toLowerCase();return[n,e]}function qT(){return{setEnumType:mv,initPartial(s,n){if(s===void 0)return;const e=n.getType();for(const r of e.fields.byMember()){const o=r.localName,c=n,h=s;if(h[o]!=null)switch(r.kind){case"oneof":const m=h[o].case;if(m===void 0)continue;const p=r.findField(m);let y=h[o].value;p&&p.kind=="message"&&!Ma(y,p.T)?y=new p.T(y):p&&p.kind==="scalar"&&p.T===M.BYTES&&(y=Ll(y)),c[o]={case:m,value:y};break;case"scalar":case"enum":let b=h[o];r.T===M.BYTES&&(b=r.repeated?b.map(Ll):Ll(b)),c[o]=b;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===M.BYTES)for(const[R,z]of Object.entries(h[o]))c[o][R]=Ll(z);else Object.assign(c[o],h[o]);break;case"message":const B=r.V.T;for(const R of Object.keys(h[o])){let z=h[o][R];B.fieldWrapper||(z=new B(z)),c[o][R]=z}break}break;case"message":const E=r.T;if(r.repeated)c[o]=h[o].map(B=>Ma(B,E)?B:new E(B));else{const B=h[o];E.fieldWrapper?E.typeName==="google.protobuf.BytesValue"?c[o]=Ll(B):c[o]=B:c[o]=Ma(B,E)?B:new E(B)}break}}},equals(s,n,e){return n===e?!0:!n||!e?!1:s.fields.byMember().every(r=>{const o=n[r.localName],c=e[r.localName];if(r.repeated){if(o.length!==c.length)return!1;switch(r.kind){case"message":return o.every((h,m)=>r.T.equals(h,c[m]));case"scalar":return o.every((h,m)=>Zr(r.T,h,c[m]));case"enum":return o.every((h,m)=>Zr(M.INT32,h,c[m]))}throw new Error(`repeated cannot contain ${r.kind}`)}switch(r.kind){case"message":return r.T.equals(o,c);case"enum":return Zr(M.INT32,o,c);case"scalar":return Zr(r.T,o,c);case"oneof":if(o.case!==c.case)return!1;const h=r.findField(o.case);if(h===void 0)return!0;switch(h.kind){case"message":return h.T.equals(o.value,c.value);case"enum":return Zr(M.INT32,o.value,c.value);case"scalar":return Zr(h.T,o.value,c.value)}throw new Error(`oneof cannot contain ${h.kind}`);case"map":const m=Object.keys(o).concat(Object.keys(c));switch(r.V.kind){case"message":const p=r.V.T;return m.every(b=>p.equals(o[b],c[b]));case"enum":return m.every(b=>Zr(M.INT32,o[b],c[b]));case"scalar":const y=r.V.T;return m.every(b=>Zr(y,o[b],c[b]))}break}})},clone(s){const n=s.getType(),e=new n,r=e;for(const o of n.fields.byMember()){const c=s[o.localName];let h;if(o.repeated)h=c.map(Tu);else if(o.kind=="map"){h=r[o.localName];for(const[m,p]of Object.entries(c))h[m]=Tu(p)}else o.kind=="oneof"?h=o.findField(c.case)?{case:c.case,value:Tu(c.value)}:{case:void 0}:h=Tu(c);r[o.localName]=h}for(const o of n.runtime.bin.listUnknownFields(s))n.runtime.bin.onUnknownField(r,o.no,o.wireType,o.data);return e}}}function Tu(s){if(s===void 0)return s;if(Ma(s))return s.clone();if(s instanceof Uint8Array){const n=new Uint8Array(s.byteLength);return n.set(s),n}return s}function Ll(s){return s instanceof Uint8Array?s:new Uint8Array(s)}function JT(s,n,e){return{syntax:s,json:OT(),bin:MT(),util:Object.assign(Object.assign({},qT()),{newFieldList:n,initFields:e}),makeMessageType(r,o,c){return dT(this,r,o,c)},makeEnum:hT,makeEnumType:yv,getEnumType:fT,makeExtension(r,o,c){return TT(this,r,o,c)}}}class HT{constructor(n,e){this._fields=n,this._normalizer=e}findJsonName(n){if(!this.jsonNames){const e={};for(const r of this.list())e[r.jsonName]=e[r.name]=r;this.jsonNames=e}return this.jsonNames[n]}find(n){if(!this.numbers){const e={};for(const r of this.list())e[r.no]=r;this.numbers=e}return this.numbers[n]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((n,e)=>n.no-e.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const n=this.members;let e;for(const r of this.list())r.oneof?r.oneof!==e&&(e=r.oneof,n.push(e)):n.push(r)}return this.members}}function xv(s,n){const e=Ov(s);return n?e:FT(YT(e))}function jT(s){return xv(s,!1)}const VT=Ov;function Ov(s){let n=!1;const e=[];for(let r=0;r<s.length;r++){let o=s.charAt(r);switch(o){case"_":n=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e.push(o),n=!1;break;default:n&&(n=!1,o=o.toUpperCase()),e.push(o);break}}return e.join("")}const PT=new Set(["constructor","toString","toJSON","valueOf"]),GT=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),Cv=s=>`${s}$`,YT=s=>GT.has(s)?Cv(s):s,FT=s=>PT.has(s)?Cv(s):s;class KT{constructor(n){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=n,this.localName=jT(n)}addField(n){Kt(n.oneof===this,`field ${n.name} not one of ${this.name}`),this.fields.push(n)}findField(n){if(!this._lookup){this._lookup=Object.create(null);for(let e=0;e<this.fields.length;e++)this._lookup[this.fields[e].localName]=this.fields[e]}return this._lookup[n]}}function $T(s,n){var e,r,o,c,h,m;const p=[];let y;for(const b of typeof s=="function"?s():s){const E=b;if(E.localName=xv(b.name,b.oneof!==void 0),E.jsonName=(e=b.jsonName)!==null&&e!==void 0?e:VT(b.name),E.repeated=(r=b.repeated)!==null&&r!==void 0?r:!1,b.kind=="scalar"&&(E.L=(o=b.L)!==null&&o!==void 0?o:ra.BIGINT),E.delimited=(c=b.delimited)!==null&&c!==void 0?c:!1,E.req=(h=b.req)!==null&&h!==void 0?h:!1,E.opt=(m=b.opt)!==null&&m!==void 0?m:!1,b.packed===void 0&&(E.packed=b.kind=="enum"||b.kind=="scalar"&&b.T!=M.BYTES&&b.T!=M.STRING),b.oneof!==void 0){const B=typeof b.oneof=="string"?b.oneof:b.oneof.name;(!y||y.name!=B)&&(y=new KT(B)),E.oneof=y,y.addField(E)}p.push(E)}return p}const v=JT("proto3",s=>new HT(s,n=>$T(n)),s=>{for(const n of s.getType().fields.byMember()){if(n.opt)continue;const e=n.localName,r=s;if(n.repeated){r[e]=[];continue}switch(n.kind){case"oneof":r[e]={case:void 0};break;case"enum":r[e]=0;break;case"map":r[e]={};break;case"scalar":r[e]=Rs(n.T,n.L);break}}});var Ne;(function(s){s[s.Unary=0]="Unary",s[s.ServerStreaming=1]="ServerStreaming",s[s.ClientStreaming=2]="ClientStreaming",s[s.BiDiStreaming=3]="BiDiStreaming"})(Ne||(Ne={}));var Hp;(function(s){s[s.NoSideEffects=1]="NoSideEffects",s[s.Idempotent=2]="Idempotent"})(Hp||(Hp={}));class be extends V{constructor(n){super(),this.seconds=Ht.zero,this.nanos=0,v.util.initPartial(n,this)}fromJson(n,e){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${v.json.debug(n)}`);const r=n.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const o=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(o))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(o<Date.parse("0001-01-01T00:00:00Z")||o>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Ht.parse(o/1e3),this.nanos=0,r[7]&&(this.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),this}toJson(n){const e=Number(this.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let r="Z";if(this.nanos>0){const o=(this.nanos+1e9).toString().substring(1);o.substring(3)==="000000"?r="."+o.substring(0,3)+"Z":o.substring(6)==="000"?r="."+o.substring(0,6)+"Z":r="."+o+"Z"}return new Date(e).toISOString().replace(".000Z",r)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return be.fromDate(new Date)}static fromDate(n){const e=n.getTime();return new be({seconds:Ht.parse(Math.floor(e/1e3)),nanos:e%1e3*1e6})}static fromBinary(n,e){return new be().fromBinary(n,e)}static fromJson(n,e){return new be().fromJson(n,e)}static fromJsonString(n,e){return new be().fromJsonString(n,e)}static equals(n,e){return v.util.equals(be,n,e)}}be.runtime=v;be.typeName="google.protobuf.Timestamp";be.fields=v.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class vr extends V{constructor(n){super(),this.seconds=Ht.zero,this.nanos=0,v.util.initPartial(n,this)}fromJson(n,e){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${v.json.debug(n)}`);const r=n.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(r===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${v.json.debug(n)}`);const o=Number(r[1]);if(o>315576e6||o<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${v.json.debug(n)}`);if(this.seconds=Ht.parse(o),typeof r[2]=="string"){const c=r[2]+"0".repeat(9-r[2].length);this.nanos=parseInt(c),(o<0||Object.is(o,-0))&&(this.nanos=-this.nanos)}return this}toJson(n){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let e=this.seconds.toString();if(this.nanos!==0){let r=Math.abs(this.nanos).toString();r="0".repeat(9-r.length)+r,r.substring(3)==="000000"?r=r.substring(0,3):r.substring(6)==="000"&&(r=r.substring(0,6)),e+="."+r,this.nanos<0&&Number(this.seconds)==0&&(e="-"+e)}return e+"s"}static fromBinary(n,e){return new vr().fromBinary(n,e)}static fromJson(n,e){return new vr().fromJson(n,e)}static fromJsonString(n,e){return new vr().fromJsonString(n,e)}static equals(n,e){return v.util.equals(vr,n,e)}}vr.runtime=v;vr.typeName="google.protobuf.Duration";vr.fields=v.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class jn extends V{constructor(n){super(),this.typeUrl="",this.value=new Uint8Array(0),v.util.initPartial(n,this)}toJson(n){var e;if(this.typeUrl==="")return{};const r=this.typeUrlToName(this.typeUrl),o=(e=n==null?void 0:n.typeRegistry)===null||e===void 0?void 0:e.findMessage(r);if(!o)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let h=o.fromBinary(this.value).toJson(n);return(r.startsWith("google.protobuf.")||h===null||Array.isArray(h)||typeof h!="object")&&(h={value:h}),h["@type"]=this.typeUrl,h}fromJson(n,e){var r;if(n===null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${n===null?"null":Array.isArray(n)?"array":typeof n}`);if(Object.keys(n).length==0)return this;const o=n["@type"];if(typeof o!="string"||o=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const c=this.typeUrlToName(o),h=(r=e==null?void 0:e.typeRegistry)===null||r===void 0?void 0:r.findMessage(c);if(!h)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${o} is not in the type registry`);let m;if(c.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(n,"value"))m=h.fromJson(n.value,e);else{const p=Object.assign({},n);delete p["@type"],m=h.fromJson(p,e)}return this.packFrom(m),this}packFrom(n){this.value=n.toBinary(),this.typeUrl=this.typeNameToUrl(n.getType().typeName)}unpackTo(n){return this.is(n.getType())?(n.fromBinary(this.value),!0):!1}unpack(n){if(this.typeUrl==="")return;const e=n.findMessage(this.typeUrlToName(this.typeUrl));if(e)return e.fromBinary(this.value)}is(n){if(this.typeUrl==="")return!1;const e=this.typeUrlToName(this.typeUrl);let r="";return typeof n=="string"?r=n:r=n.typeName,e===r}typeNameToUrl(n){return`type.googleapis.com/${n}`}typeUrlToName(n){if(!n.length)throw new Error(`invalid type url: ${n}`);const e=n.lastIndexOf("/"),r=e>=0?n.substring(e+1):n;if(!r.length)throw new Error(`invalid type url: ${n}`);return r}static pack(n){const e=new jn;return e.packFrom(n),e}static fromBinary(n,e){return new jn().fromBinary(n,e)}static fromJson(n,e){return new jn().fromJson(n,e)}static fromJsonString(n,e){return new jn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(jn,n,e)}}jn.runtime=v;jn.typeName="google.protobuf.Any";jn.fields=v.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class Vn extends V{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(M.DOUBLE,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(M.DOUBLE,n)}catch(r){let o='cannot decode message google.protobuf.DoubleValue from JSON"';throw r instanceof Error&&r.message.length>0&&(o+=`: ${r.message}`),new Error(o)}return this}static fromBinary(n,e){return new Vn().fromBinary(n,e)}static fromJson(n,e){return new Vn().fromJson(n,e)}static fromJsonString(n,e){return new Vn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Vn,n,e)}}Vn.runtime=v;Vn.typeName="google.protobuf.DoubleValue";Vn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);Vn.fieldWrapper={wrapField(s){return new Vn({value:s})},unwrapField(s){return s.value}};class Pn extends V{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(M.FLOAT,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(M.FLOAT,n)}catch(r){let o='cannot decode message google.protobuf.FloatValue from JSON"';throw r instanceof Error&&r.message.length>0&&(o+=`: ${r.message}`),new Error(o)}return this}static fromBinary(n,e){return new Pn().fromBinary(n,e)}static fromJson(n,e){return new Pn().fromJson(n,e)}static fromJsonString(n,e){return new Pn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Pn,n,e)}}Pn.runtime=v;Pn.typeName="google.protobuf.FloatValue";Pn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);Pn.fieldWrapper={wrapField(s){return new Pn({value:s})},unwrapField(s){return s.value}};class Gn extends V{constructor(n){super(),this.value=Ht.zero,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(M.INT64,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(M.INT64,n)}catch(r){let o='cannot decode message google.protobuf.Int64Value from JSON"';throw r instanceof Error&&r.message.length>0&&(o+=`: ${r.message}`),new Error(o)}return this}static fromBinary(n,e){return new Gn().fromBinary(n,e)}static fromJson(n,e){return new Gn().fromJson(n,e)}static fromJsonString(n,e){return new Gn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Gn,n,e)}}Gn.runtime=v;Gn.typeName="google.protobuf.Int64Value";Gn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);Gn.fieldWrapper={wrapField(s){return new Gn({value:s})},unwrapField(s){return s.value}};class Yn extends V{constructor(n){super(),this.value=Ht.zero,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(M.UINT64,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(M.UINT64,n)}catch(r){let o='cannot decode message google.protobuf.UInt64Value from JSON"';throw r instanceof Error&&r.message.length>0&&(o+=`: ${r.message}`),new Error(o)}return this}static fromBinary(n,e){return new Yn().fromBinary(n,e)}static fromJson(n,e){return new Yn().fromJson(n,e)}static fromJsonString(n,e){return new Yn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Yn,n,e)}}Yn.runtime=v;Yn.typeName="google.protobuf.UInt64Value";Yn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);Yn.fieldWrapper={wrapField(s){return new Yn({value:s})},unwrapField(s){return s.value}};class Fn extends V{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(M.INT32,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(M.INT32,n)}catch(r){let o='cannot decode message google.protobuf.Int32Value from JSON"';throw r instanceof Error&&r.message.length>0&&(o+=`: ${r.message}`),new Error(o)}return this}static fromBinary(n,e){return new Fn().fromBinary(n,e)}static fromJson(n,e){return new Fn().fromJson(n,e)}static fromJsonString(n,e){return new Fn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Fn,n,e)}}Fn.runtime=v;Fn.typeName="google.protobuf.Int32Value";Fn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);Fn.fieldWrapper={wrapField(s){return new Fn({value:s})},unwrapField(s){return s.value}};class Kn extends V{constructor(n){super(),this.value=0,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(M.UINT32,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(M.UINT32,n)}catch(r){let o='cannot decode message google.protobuf.UInt32Value from JSON"';throw r instanceof Error&&r.message.length>0&&(o+=`: ${r.message}`),new Error(o)}return this}static fromBinary(n,e){return new Kn().fromBinary(n,e)}static fromJson(n,e){return new Kn().fromJson(n,e)}static fromJsonString(n,e){return new Kn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Kn,n,e)}}Kn.runtime=v;Kn.typeName="google.protobuf.UInt32Value";Kn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);Kn.fieldWrapper={wrapField(s){return new Kn({value:s})},unwrapField(s){return s.value}};class $n extends V{constructor(n){super(),this.value=!1,v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(M.BOOL,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(M.BOOL,n)}catch(r){let o='cannot decode message google.protobuf.BoolValue from JSON"';throw r instanceof Error&&r.message.length>0&&(o+=`: ${r.message}`),new Error(o)}return this}static fromBinary(n,e){return new $n().fromBinary(n,e)}static fromJson(n,e){return new $n().fromJson(n,e)}static fromJsonString(n,e){return new $n().fromJsonString(n,e)}static equals(n,e){return v.util.equals($n,n,e)}}$n.runtime=v;$n.typeName="google.protobuf.BoolValue";$n.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);$n.fieldWrapper={wrapField(s){return new $n({value:s})},unwrapField(s){return s.value}};class je extends V{constructor(n){super(),this.value="",v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(M.STRING,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(M.STRING,n)}catch(r){let o='cannot decode message google.protobuf.StringValue from JSON"';throw r instanceof Error&&r.message.length>0&&(o+=`: ${r.message}`),new Error(o)}return this}static fromBinary(n,e){return new je().fromBinary(n,e)}static fromJson(n,e){return new je().fromJson(n,e)}static fromJsonString(n,e){return new je().fromJsonString(n,e)}static equals(n,e){return v.util.equals(je,n,e)}}je.runtime=v;je.typeName="google.protobuf.StringValue";je.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);je.fieldWrapper={wrapField(s){return new je({value:s})},unwrapField(s){return s.value}};class Xn extends V{constructor(n){super(),this.value=new Uint8Array(0),v.util.initPartial(n,this)}toJson(n){return v.json.writeScalar(M.BYTES,this.value,!0)}fromJson(n,e){try{this.value=v.json.readScalar(M.BYTES,n)}catch(r){let o='cannot decode message google.protobuf.BytesValue from JSON"';throw r instanceof Error&&r.message.length>0&&(o+=`: ${r.message}`),new Error(o)}return this}static fromBinary(n,e){return new Xn().fromBinary(n,e)}static fromJson(n,e){return new Xn().fromJson(n,e)}static fromJsonString(n,e){return new Xn().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Xn,n,e)}}Xn.runtime=v;Xn.typeName="google.protobuf.BytesValue";Xn.fields=v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);Xn.fieldWrapper={wrapField(s){return new Xn({value:s})},unwrapField(s){return s.value}};function XT(s,n,e){try{const r=hd.dec(s);return n?n.fromBinary(r,e):r}catch(r){throw Jt.from(r,Rt.DataLoss)}}function ZT(s,n){const e={};for(const[r,o]of Object.entries(s.methods)){const c=n(Object.assign(Object.assign({},o),{localName:r,service:s}));c!=null&&(e[r]=c)}return e}function jp(s){let n,e=new Uint8Array(0);function r(o){const c=new Uint8Array(e.length+o.length);c.set(e),c.set(o,e.length),e=c}return new ReadableStream({start(){n=s.getReader()},async pull(o){let c;for(;;){if(c===void 0&&e.byteLength>=5){let p=0;for(let y=1;y<5;y++)p=(p<<8)+e[y];c={flags:e[0],length:p}}if(c!==void 0&&e.byteLength>=c.length+5)break;const m=await n.read();if(m.done)break;r(m.value)}if(c===void 0){if(e.byteLength==0){o.close();return}o.error(new Jt("premature end of stream",Rt.DataLoss));return}const h=e.subarray(5,5+c.length);e=e.subarray(5+c.length),o.enqueue({flags:c.flags,data:h})}})}function Vp(s,n){const e=new Uint8Array(n.length+5);e.set(n,5);const r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setUint8(0,s),r.setUint32(1,n.length),e}var QT=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],e;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(c){e[c]=s[c]&&function(h){return new Promise(function(m,p){h=s[c](h),o(m,p,h.done,h.value)})}}function o(c,h,m,p){Promise.resolve(p).then(function(y){c({value:y,done:m})},h)}},Yl=function(s){return this instanceof Yl?(this.v=s,this):new Yl(s)},_T=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(s,n||[]),o,c=[];return o={},m("next"),m("throw"),m("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(R){return function(z){return Promise.resolve(z).then(R,E)}}function m(R,z){r[R]&&(o[R]=function(j){return new Promise(function(Y,et){c.push([R,j,Y,et])>1||p(R,j)})},z&&(o[R]=z(o[R])))}function p(R,z){try{y(r[R](z))}catch(j){B(c[0][3],j)}}function y(R){R.value instanceof Yl?Promise.resolve(R.value.v).then(b,E):B(c[0][2],R)}function b(R){p("next",R)}function E(R){p("throw",R)}function B(R,z){R(z),c.shift(),c.length&&p(c[0][0],c[0][1])}},WT=function(s){var n,e;return n={},r("next"),r("throw",function(o){throw o}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(o,c){n[o]=s[o]?function(h){return(e=!e)?{value:Yl(s[o](h)),done:!1}:c?c(h):h}:c}};function tA(s){return _T(this,arguments,function*(){yield Yl(yield*WT(QT(s)))})}var Rv=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],e;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(c){e[c]=s[c]&&function(h){return new Promise(function(m,p){h=s[c](h),o(m,p,h.done,h.value)})}}function o(c,h,m,p){Promise.resolve(p).then(function(y){c({value:y,done:m})},h)}},ks=function(s){return this instanceof ks?(this.v=s,this):new ks(s)},eA=function(s){var n,e;return n={},r("next"),r("throw",function(o){throw o}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(o,c){n[o]=s[o]?function(h){return(e=!e)?{value:ks(s[o](h)),done:!1}:c?c(h):h}:c}},nA=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(s,n||[]),o,c=[];return o={},m("next"),m("throw"),m("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(R){return function(z){return Promise.resolve(z).then(R,E)}}function m(R,z){r[R]&&(o[R]=function(j){return new Promise(function(Y,et){c.push([R,j,Y,et])>1||p(R,j)})},z&&(o[R]=z(o[R])))}function p(R,z){try{y(r[R](z))}catch(j){B(c[0][3],j)}}function y(R){R.value instanceof ks?Promise.resolve(R.value.v).then(b,E):B(c[0][2],R)}function b(R){p("next",R)}function E(R){p("throw",R)}function B(R,z){R(z),c.shift(),c.length&&p(c[0][0],c[0][1])}};function iA(s,n){return ZT(s,e=>{switch(e.kind){case Ne.Unary:return rA(n,s,e);case Ne.ServerStreaming:return aA(n,s,e);case Ne.ClientStreaming:return sA(n,s,e);case Ne.BiDiStreaming:return lA(n,s,e);default:return null}})}function rA(s,n,e){return async function(r,o){var c,h;const m=await s.unary(n,e,o==null?void 0:o.signal,o==null?void 0:o.timeoutMs,o==null?void 0:o.headers,r,o==null?void 0:o.contextValues);return(c=o==null?void 0:o.onHeader)===null||c===void 0||c.call(o,m.header),(h=o==null?void 0:o.onTrailer)===null||h===void 0||h.call(o,m.trailer),m.message}}function aA(s,n,e){return function(r,o){return kv(s.stream(n,e,o==null?void 0:o.signal,o==null?void 0:o.timeoutMs,o==null?void 0:o.headers,tA([r]),o==null?void 0:o.contextValues),o)}}function sA(s,n,e){return async function(r,o){var c,h,m,p,y,b;const E=await s.stream(n,e,o==null?void 0:o.signal,o==null?void 0:o.timeoutMs,o==null?void 0:o.headers,r,o==null?void 0:o.contextValues);(y=o==null?void 0:o.onHeader)===null||y===void 0||y.call(o,E.header);let B;try{for(var R=!0,z=Rv(E.message),j;j=await z.next(),c=j.done,!c;R=!0)p=j.value,R=!1,B=p}catch(Y){h={error:Y}}finally{try{!R&&!c&&(m=z.return)&&await m.call(z)}finally{if(h)throw h.error}}if(!B)throw new Jt("protocol error: missing response message",Rt.Internal);return(b=o==null?void 0:o.onTrailer)===null||b===void 0||b.call(o,E.trailer),B}}function lA(s,n,e){return function(r,o){return kv(s.stream(n,e,o==null?void 0:o.signal,o==null?void 0:o.timeoutMs,o==null?void 0:o.headers,r,o==null?void 0:o.contextValues),o)}}function kv(s,n){const e=function(){var r,o;return nA(this,arguments,function*(){const c=yield ks(s);(r=n==null?void 0:n.onHeader)===null||r===void 0||r.call(n,c.header),yield ks(yield*eA(Rv(c.message))),(o=n==null?void 0:n.onTrailer)===null||o===void 0||o.call(n,c.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>e.next()})}}function oA(...s){const n=new AbortController,e=s.filter(o=>o!==void 0).concat(n.signal);for(const o of e){if(o.aborted){r.apply(o);break}o.addEventListener("abort",r)}function r(){n.signal.aborted||n.abort(Bv(this));for(const o of e)o.removeEventListener("abort",r)}return n}function uA(s){const n=new AbortController,e=()=>{n.abort(new Jt("the operation timed out",Rt.DeadlineExceeded))};let r;return s!==void 0&&(s<=0?e():r=setTimeout(e,s)),{signal:n.signal,cleanup:()=>clearTimeout(r)}}function Bv(s){if(!s.aborted)return;if(s.reason!==void 0)return s.reason;const n=new Error("This operation was aborted");return n.name="AbortError",n}function Pp(){return{get(s){return s.id in this?this[s.id]:s.defaultValue},set(s,n){return this[s.id]=n,this},delete(s){return delete this[s.id],this}}}const Rh=128;function Gp(s){const n=new Headers,e=new TextDecoder().decode(s).split(`\r
`);for(const r of e){if(r==="")continue;const o=r.indexOf(":");if(o>0){const c=r.substring(0,o).trim(),h=r.substring(o+1).trim();n.append(c,h)}}return n}const cA="Content-Type",fA="Grpc-Timeout",Mv="Grpc-Status",Iv="Grpc-Message",hA="Grpc-Status-Details-Bin",dA="X-User-Agent",gA="X-Grpc-Web",mA="application/grpc-web+proto",yA="application/grpc-web+json";class Sr extends V{constructor(n){super(),this.code=0,this.message="",this.details=[],v.util.initPartial(n,this)}static fromBinary(n,e){return new Sr().fromBinary(n,e)}static fromJson(n,e){return new Sr().fromJson(n,e)}static fromJsonString(n,e){return new Sr().fromJsonString(n,e)}static equals(n,e){return v.util.equals(Sr,n,e)}}Sr.runtime=v;Sr.typeName="google.rpc.Status";Sr.fields=v.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:jn,repeated:!0}]);const pA="0";function Uv(s){var n;const e=s.get(hA);if(e!=null){const o=XT(e,Sr);if(o.code==0)return;const c=new Jt(o.message,o.code,s);return c.details=o.details.map(h=>({type:h.typeUrl.substring(h.typeUrl.lastIndexOf("/")+1),value:h.value})),c}const r=s.get(Mv);if(r!=null){if(r===pA)return;const o=parseInt(r,10);return o in Rt?new Jt(decodeURIComponent((n=s.get(Iv))!==null&&n!==void 0?n:""),o,s):new Jt(`invalid grpc-status: ${r}`,Rt.Internal,s)}}function Yp(s,n,e){const r=typeof n=="string"?n:n.typeName,o=typeof e=="string"?e:e.name;return s.toString().replace(/\/?$/,`/${r}/${o}`)}function zv(s,n){return n instanceof s?n:new s(n)}function vA(s,n){function e(r){return r.done===!0?r:{done:r.done,value:zv(s,r.value)}}return{[Symbol.asyncIterator](){const r=n[Symbol.asyncIterator](),o={next:()=>r.next().then(e)};return r.throw!==void 0&&(o.throw=c=>r.throw(c).then(e)),r.return!==void 0&&(o.return=c=>r.return(c).then(e)),o}}}function Lv(s,n){var e;return(e=n==null?void 0:n.concat().reverse().reduce((r,o)=>o(r),s))!==null&&e!==void 0?e:s}function SA(s){var n;const e=Object.assign({},s);return(n=e.ignoreUnknownFields)!==null&&n!==void 0||(e.ignoreUnknownFields=!0),e}function Fp(s,n,e,r){const o=n?Kp(s.I,r):$p(s.I,e);return{parse:(n?Kp(s.O,r):$p(s.O,e)).parse,serialize:o.serialize}}function Kp(s,n){return{parse(e){try{return s.fromBinary(e,n)}catch(r){const o=r instanceof Error?r.message:String(r);throw new Jt(`parse binary: ${o}`,Rt.InvalidArgument)}},serialize(e){try{return e.toBinary(n)}catch(r){const o=r instanceof Error?r.message:String(r);throw new Jt(`serialize binary: ${o}`,Rt.Internal)}}}}function $p(s,n){var e,r;const o=(e=n==null?void 0:n.textEncoder)!==null&&e!==void 0?e:new TextEncoder,c=(r=n==null?void 0:n.textDecoder)!==null&&r!==void 0?r:new TextDecoder,h=SA(n);return{parse(m){try{const p=c.decode(m);return s.fromJsonString(p,h)}catch(p){throw Jt.from(p,Rt.InvalidArgument)}},serialize(m){try{const p=m.toJsonString(h);return o.encode(p)}catch(p){throw Jt.from(p,Rt.Internal)}}}}function bA(s){const n=Lv(s.next,s.interceptors),[e,r,o]=qv(s),c=Object.assign(Object.assign({},s.req),{message:zv(s.req.method.I,s.req.message),signal:e});return n(c).then(h=>(o(),h),r)}function TA(s){const n=Lv(s.next,s.interceptors),[e,r,o]=qv(s),c=Object.assign(Object.assign({},s.req),{message:vA(s.req.method.I,s.req.message),signal:e});let h=!1;return e.addEventListener("abort",function(){var m,p;const y=s.req.message[Symbol.asyncIterator]();h||(m=y.throw)===null||m===void 0||m.call(y,this.reason).catch(()=>{}),(p=y.return)===null||p===void 0||p.call(y).catch(()=>{})}),n(c).then(m=>Object.assign(Object.assign({},m),{message:{[Symbol.asyncIterator](){const p=m.message[Symbol.asyncIterator]();return{next(){return p.next().then(y=>(y.done==!0&&(h=!0,o()),y),r)}}}}}),r)}function qv(s){const{signal:n,cleanup:e}=uA(s.timeoutMs),r=oA(s.signal,n);return[r.signal,function(c){const h=Jt.from(n.aborted?Bv(n):c);return r.abort(h),e(),Promise.reject(h)},function(){e(),r.abort()}]}function AA(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function Xp(s,n){const e=Uv(s);if(e)throw n.forEach((r,o)=>{e.metadata.append(o,r)}),e}function Zp(s,n,e,r){const o=new Headers(e??{});return o.set(cA,s?mA:yA),o.set(gA,"1"),o.set(dA,"connect-es/1.4.0"),n!==void 0&&o.set(fA,`${n}m`),o}function wA(s){switch(s){case 400:return Rt.Internal;case 401:return Rt.Unauthenticated;case 403:return Rt.PermissionDenied;case 404:return Rt.Unimplemented;case 429:return Rt.Unavailable;case 502:return Rt.Unavailable;case 503:return Rt.Unavailable;case 504:return Rt.Unavailable;default:return Rt.Unknown}}function Qp(s,n){var e;if(s>=200&&s<300){const r=Uv(n);if(r)throw r;return{foundStatus:n.has(Mv)}}throw new Jt(decodeURIComponent((e=n.get(Iv))!==null&&e!==void 0?e:`HTTP ${s}`),wA(s),n)}var ka=function(s){return this instanceof ka?(this.v=s,this):new ka(s)},EA=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(s,n||[]),o,c=[];return o={},m("next"),m("throw"),m("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(R){return function(z){return Promise.resolve(z).then(R,E)}}function m(R,z){r[R]&&(o[R]=function(j){return new Promise(function(Y,et){c.push([R,j,Y,et])>1||p(R,j)})},z&&(o[R]=z(o[R])))}function p(R,z){try{y(r[R](z))}catch(j){B(c[0][3],j)}}function y(R){R.value instanceof ka?Promise.resolve(R.value.v).then(b,E):B(c[0][2],R)}function b(R){p("next",R)}function E(R){p("throw",R)}function B(R,z){R(z),c.shift(),c.length&&p(c[0][0],c[0][1])}};function NA(s){var n;AA();const e=(n=s.useBinaryFormat)!==null&&n!==void 0?n:!0;return{async unary(r,o,c,h,m,p,y){var b;const{serialize:E,parse:B}=Fp(o,e,s.jsonOptions,s.binaryOptions);return h=h===void 0?s.defaultTimeoutMs:h<=0?void 0:h,await bA({interceptors:s.interceptors,signal:c,timeoutMs:h,req:{stream:!1,service:r,method:o,url:Yp(s.baseUrl,r,o),init:{method:"POST",credentials:(b=s.credentials)!==null&&b!==void 0?b:"same-origin",redirect:"error",mode:"cors"},header:Zp(e,h,m),contextValues:y??Pp(),message:p},next:async R=>{var z;const Y=await((z=s.fetch)!==null&&z!==void 0?z:globalThis.fetch)(R.url,Object.assign(Object.assign({},R.init),{headers:R.header,signal:R.signal,body:Vp(0,E(R.message))}));if(Qp(Y.status,Y.headers),!Y.body)throw"missing response body";const et=jp(Y.body).getReader();let _,ut;for(;;){const gt=await et.read();if(gt.done)break;const{flags:P,data:ct}=gt.value;if(P===Rh){if(_!==void 0)throw"extra trailer";_=Gp(ct);continue}if(ut!==void 0)throw"extra message";ut=B(ct)}if(_===void 0)throw"missing trailer";if(Xp(_,Y.headers),ut===void 0)throw"missing message";return{stream:!1,service:r,method:o,header:Y.headers,message:ut,trailer:_}}})},async stream(r,o,c,h,m,p,y){var b;const{serialize:E,parse:B}=Fp(o,e,s.jsonOptions,s.binaryOptions);function R(j,Y,et,_){return EA(this,arguments,function*(){const gt=jp(j).getReader();if(Y){if(!(yield ka(gt.read())).done)throw"extra data for trailers-only";return yield ka(void 0)}let P=!1;for(;;){const ct=yield ka(gt.read());if(ct.done)break;const{flags:vt,data:xt}=ct.value;if((vt&Rh)===Rh){if(P)throw"extra trailer";P=!0;const $=Gp(xt);Xp($,_),$.forEach((ht,re)=>et.set(re,ht));continue}if(P)throw"extra message";yield yield ka(B(xt))}if(!P)throw"missing trailer"})}async function z(j){if(o.kind!=Ne.ServerStreaming)throw"The fetch API does not support streaming request bodies";const Y=await j[Symbol.asyncIterator]().next();if(Y.done==!0)throw"missing request message";return Vp(0,E(Y.value))}return h=h===void 0?s.defaultTimeoutMs:h<=0?void 0:h,TA({interceptors:s.interceptors,signal:c,timeoutMs:h,req:{stream:!0,service:r,method:o,url:Yp(s.baseUrl,r,o),init:{method:"POST",credentials:(b=s.credentials)!==null&&b!==void 0?b:"same-origin",redirect:"error",mode:"cors"},header:Zp(e,h,m),contextValues:y??Pp(),message:p},next:async j=>{var Y;const _=await((Y=s.fetch)!==null&&Y!==void 0?Y:globalThis.fetch)(j.url,Object.assign(Object.assign({},j.init),{headers:j.header,signal:j.signal,body:await z(j.message)})),{foundStatus:ut}=Qp(_.status,_.headers);if(!_.body)throw"missing response body";const gt=new Headers;return Object.assign(Object.assign({},j),{header:_.headers,trailer:gt,message:R(_.body,ut,gt,_.headers)})}})}}}var ot=(s=>(s[s.NULL=0]="NULL",s[s.BOOLEAN=1]="BOOLEAN",s[s.INTEGER=2]="INTEGER",s[s.LONG=3]="LONG",s[s.DOUBLE=4]="DOUBLE",s[s.STRING=5]="STRING",s[s.BYTES=6]="BYTES",s[s.DATE=7]="DATE",s[s.JSON_OBJECT=8]="JSON_OBJECT",s[s.JSON_ARRAY=9]="JSON_ARRAY",s[s.TEXT=10]="TEXT",s[s.INTEGER_CNT=11]="INTEGER_CNT",s[s.LONG_CNT=12]="LONG_CNT",s[s.TREE=13]="TREE",s))(ot||{});v.util.setEnumType(ot,"yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER"},{no:3,name:"VALUE_TYPE_LONG"},{no:4,name:"VALUE_TYPE_DOUBLE"},{no:5,name:"VALUE_TYPE_STRING"},{no:6,name:"VALUE_TYPE_BYTES"},{no:7,name:"VALUE_TYPE_DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE"}]);var Ia=(s=>(s[s.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",s[s.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",s[s.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",s[s.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",s))(Ia||{});v.util.setEnumType(Ia,"yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST"}]);const pi=class pi extends V{constructor(e){super();d(this,"root");d(this,"presences",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new pi().fromBinary(e,r)}static fromJson(e,r){return new pi().fromJson(e,r)}static fromJsonString(e,r){return new pi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(pi,e,r)}};d(pi,"runtime",v),d(pi,"typeName","yorkie.v1.Snapshot"),d(pi,"fields",v.util.newFieldList(()=>[{no:1,name:"root",kind:"message",T:Me},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:gd}}]));let Lh=pi;var sn;let Nr=(sn=class extends V{constructor(e){super();d(this,"documentKey","");d(this,"checkpoint");d(this,"snapshot",new Uint8Array(0));d(this,"changes",[]);d(this,"minSyncedTicket");d(this,"isRemoved",!1);d(this,"versionVector");v.util.initPartial(e,this)}static fromBinary(e,r){return new sn().fromBinary(e,r)}static fromJson(e,r){return new sn().fromJson(e,r)}static fromJsonString(e,r){return new sn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(sn,e,r)}},d(sn,"runtime",v),d(sn,"typeName","yorkie.v1.ChangePack"),d(sn,"fields",v.util.newFieldList(()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:jv},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:Jv,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:X},{no:6,name:"is_removed",kind:"scalar",T:8},{no:7,name:"version_vector",kind:"message",T:sc}])),sn);var ln;let Jv=(ln=class extends V{constructor(e){super();d(this,"id");d(this,"message","");d(this,"operations",[]);d(this,"presenceChange");v.util.initPartial(e,this)}static fromBinary(e,r){return new ln().fromBinary(e,r)}static fromJson(e,r){return new ln().fromJson(e,r)}static fromJsonString(e,r){return new ln().fromJsonString(e,r)}static equals(e,r){return v.util.equals(ln,e,r)}},d(ln,"runtime",v),d(ln,"typeName","yorkie.v1.Change"),d(ln,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:ac},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:dd,repeated:!0},{no:4,name:"presence_change",kind:"message",T:$l}])),ln);var on;let ac=(on=class extends V{constructor(e){super();d(this,"clientSeq",0);d(this,"serverSeq",Ht.zero);d(this,"lamport",Ht.zero);d(this,"actorId",new Uint8Array(0));d(this,"versionVector");v.util.initPartial(e,this)}static fromBinary(e,r){return new on().fromBinary(e,r)}static fromJson(e,r){return new on().fromJson(e,r)}static fromJsonString(e,r){return new on().fromJsonString(e,r)}static equals(e,r){return v.util.equals(on,e,r)}},d(on,"runtime",v),d(on,"typeName","yorkie.v1.ChangeID"),d(on,"fields",v.util.newFieldList(()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3},{no:3,name:"lamport",kind:"scalar",T:3},{no:4,name:"actor_id",kind:"scalar",T:12},{no:5,name:"version_vector",kind:"message",T:sc}])),on);var un;let sc=(un=class extends V{constructor(e){super();d(this,"vector",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new un().fromBinary(e,r)}static fromJson(e,r){return new un().fromJson(e,r)}static fromJsonString(e,r){return new un().fromJsonString(e,r)}static equals(e,r){return v.util.equals(un,e,r)}},d(un,"runtime",v),d(un,"typeName","yorkie.v1.VersionVector"),d(un,"fields",v.util.newFieldList(()=>[{no:1,name:"vector",kind:"map",K:9,V:{kind:"scalar",T:3}}])),un);var cn;let dd=(cn=class extends V{constructor(e){super();d(this,"body",{case:void 0});v.util.initPartial(e,this)}static fromBinary(e,r){return new cn().fromBinary(e,r)}static fromJson(e,r){return new cn().fromJson(e,r)}static fromJsonString(e,r){return new cn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(cn,e,r)}},d(cn,"runtime",v),d(cn,"typeName","yorkie.v1.Operation"),d(cn,"fields",v.util.newFieldList(()=>[{no:1,name:"set",kind:"message",T:zu,oneof:"body"},{no:2,name:"add",kind:"message",T:Lu,oneof:"body"},{no:3,name:"move",kind:"message",T:qu,oneof:"body"},{no:4,name:"remove",kind:"message",T:Ju,oneof:"body"},{no:5,name:"edit",kind:"message",T:Hu,oneof:"body"},{no:6,name:"select",kind:"message",T:qh,oneof:"body"},{no:7,name:"style",kind:"message",T:ju,oneof:"body"},{no:8,name:"increase",kind:"message",T:Vu,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:Pu,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:Gu,oneof:"body"},{no:11,name:"array_set",kind:"message",T:Jh,oneof:"body"}])),cn);const vi=class vi extends V{constructor(e){super();d(this,"parentCreatedAt");d(this,"key","");d(this,"value");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new vi().fromBinary(e,r)}static fromJson(e,r){return new vi().fromJson(e,r)}static fromJsonString(e,r){return new vi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(vi,e,r)}};d(vi,"runtime",v),d(vi,"typeName","yorkie.v1.Operation.Set"),d(vi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:X},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:an},{no:4,name:"executed_at",kind:"message",T:X}]));let zu=vi;const Si=class Si extends V{constructor(e){super();d(this,"parentCreatedAt");d(this,"prevCreatedAt");d(this,"value");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Si().fromBinary(e,r)}static fromJson(e,r){return new Si().fromJson(e,r)}static fromJsonString(e,r){return new Si().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Si,e,r)}};d(Si,"runtime",v),d(Si,"typeName","yorkie.v1.Operation.Add"),d(Si,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:X},{no:2,name:"prev_created_at",kind:"message",T:X},{no:3,name:"value",kind:"message",T:an},{no:4,name:"executed_at",kind:"message",T:X}]));let Lu=Si;const bi=class bi extends V{constructor(e){super();d(this,"parentCreatedAt");d(this,"prevCreatedAt");d(this,"createdAt");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new bi().fromBinary(e,r)}static fromJson(e,r){return new bi().fromJson(e,r)}static fromJsonString(e,r){return new bi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(bi,e,r)}};d(bi,"runtime",v),d(bi,"typeName","yorkie.v1.Operation.Move"),d(bi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:X},{no:2,name:"prev_created_at",kind:"message",T:X},{no:3,name:"created_at",kind:"message",T:X},{no:4,name:"executed_at",kind:"message",T:X}]));let qu=bi;const Ti=class Ti extends V{constructor(e){super();d(this,"parentCreatedAt");d(this,"createdAt");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Ti().fromBinary(e,r)}static fromJson(e,r){return new Ti().fromJson(e,r)}static fromJsonString(e,r){return new Ti().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ti,e,r)}};d(Ti,"runtime",v),d(Ti,"typeName","yorkie.v1.Operation.Remove"),d(Ti,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:X},{no:2,name:"created_at",kind:"message",T:X},{no:3,name:"executed_at",kind:"message",T:X}]));let Ju=Ti;const Ai=class Ai extends V{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"createdAtMapByActor",{});d(this,"content","");d(this,"executedAt");d(this,"attributes",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new Ai().fromBinary(e,r)}static fromJson(e,r){return new Ai().fromJson(e,r)}static fromJsonString(e,r){return new Ai().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ai,e,r)}};d(Ai,"runtime",v),d(Ai,"typeName","yorkie.v1.Operation.Edit"),d(Ai,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:X},{no:2,name:"from",kind:"message",T:wr},{no:3,name:"to",kind:"message",T:wr},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:X}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:X},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let Hu=Ai;const wi=class wi extends V{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new wi().fromBinary(e,r)}static fromJson(e,r){return new wi().fromJson(e,r)}static fromJsonString(e,r){return new wi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(wi,e,r)}};d(wi,"runtime",v),d(wi,"typeName","yorkie.v1.Operation.Select"),d(wi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:X},{no:2,name:"from",kind:"message",T:wr},{no:3,name:"to",kind:"message",T:wr},{no:4,name:"executed_at",kind:"message",T:X}]));let qh=wi;const Ei=class Ei extends V{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"attributes",{});d(this,"executedAt");d(this,"createdAtMapByActor",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new Ei().fromBinary(e,r)}static fromJson(e,r){return new Ei().fromJson(e,r)}static fromJsonString(e,r){return new Ei().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ei,e,r)}};d(Ei,"runtime",v),d(Ei,"typeName","yorkie.v1.Operation.Style"),d(Ei,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:X},{no:2,name:"from",kind:"message",T:wr},{no:3,name:"to",kind:"message",T:wr},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:X},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:X}}]));let ju=Ei;const Ni=class Ni extends V{constructor(e){super();d(this,"parentCreatedAt");d(this,"value");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Ni().fromBinary(e,r)}static fromJson(e,r){return new Ni().fromJson(e,r)}static fromJsonString(e,r){return new Ni().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ni,e,r)}};d(Ni,"runtime",v),d(Ni,"typeName","yorkie.v1.Operation.Increase"),d(Ni,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:X},{no:2,name:"value",kind:"message",T:an},{no:3,name:"executed_at",kind:"message",T:X}]));let Vu=Ni;const Di=class Di extends V{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"createdAtMapByActor",{});d(this,"contents",[]);d(this,"splitLevel",0);d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Di().fromBinary(e,r)}static fromJson(e,r){return new Di().fromJson(e,r)}static fromJsonString(e,r){return new Di().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Di,e,r)}};d(Di,"runtime",v),d(Di,"typeName","yorkie.v1.Operation.TreeEdit"),d(Di,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:X},{no:2,name:"from",kind:"message",T:Ua},{no:3,name:"to",kind:"message",T:Ua},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:X}},{no:5,name:"contents",kind:"message",T:Wu,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:X}]));let Pu=Di;const xi=class xi extends V{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"attributes",{});d(this,"executedAt");d(this,"attributesToRemove",[]);d(this,"createdAtMapByActor",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new xi().fromBinary(e,r)}static fromJson(e,r){return new xi().fromJson(e,r)}static fromJsonString(e,r){return new xi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(xi,e,r)}};d(xi,"runtime",v),d(xi,"typeName","yorkie.v1.Operation.TreeStyle"),d(xi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:X},{no:2,name:"from",kind:"message",T:Ua},{no:3,name:"to",kind:"message",T:Ua},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:X},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:X}}]));let Gu=xi;const Oi=class Oi extends V{constructor(e){super();d(this,"parentCreatedAt");d(this,"createdAt");d(this,"value");d(this,"executedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Oi().fromBinary(e,r)}static fromJson(e,r){return new Oi().fromJson(e,r)}static fromJsonString(e,r){return new Oi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Oi,e,r)}};d(Oi,"runtime",v),d(Oi,"typeName","yorkie.v1.Operation.ArraySet"),d(Oi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:X},{no:2,name:"created_at",kind:"message",T:X},{no:3,name:"value",kind:"message",T:an},{no:4,name:"executed_at",kind:"message",T:X}]));let Jh=Oi;const Ci=class Ci extends V{constructor(e){super();d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");d(this,"type",0);d(this,"value",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,r){return new Ci().fromBinary(e,r)}static fromJson(e,r){return new Ci().fromJson(e,r)}static fromJsonString(e,r){return new Ci().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ci,e,r)}};d(Ci,"runtime",v),d(Ci,"typeName","yorkie.v1.JSONElementSimple"),d(Ci,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:X},{no:2,name:"moved_at",kind:"message",T:X},{no:3,name:"removed_at",kind:"message",T:X},{no:4,name:"type",kind:"enum",T:v.getEnumType(ot)},{no:5,name:"value",kind:"scalar",T:12}]));let an=Ci;const Ri=class Ri extends V{constructor(e){super();d(this,"body",{case:void 0});v.util.initPartial(e,this)}static fromBinary(e,r){return new Ri().fromBinary(e,r)}static fromJson(e,r){return new Ri().fromJson(e,r)}static fromJsonString(e,r){return new Ri().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ri,e,r)}};d(Ri,"runtime",v),d(Ri,"typeName","yorkie.v1.JSONElement"),d(Ri,"fields",v.util.newFieldList(()=>[{no:1,name:"json_object",kind:"message",T:Yu,oneof:"body"},{no:2,name:"json_array",kind:"message",T:Fu,oneof:"body"},{no:3,name:"primitive",kind:"message",T:Ku,oneof:"body"},{no:5,name:"text",kind:"message",T:$u,oneof:"body"},{no:6,name:"counter",kind:"message",T:Xu,oneof:"body"},{no:7,name:"tree",kind:"message",T:Zu,oneof:"body"}]));let Me=Ri;const ki=class ki extends V{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new ki().fromBinary(e,r)}static fromJson(e,r){return new ki().fromJson(e,r)}static fromJsonString(e,r){return new ki().fromJsonString(e,r)}static equals(e,r){return v.util.equals(ki,e,r)}};d(ki,"runtime",v),d(ki,"typeName","yorkie.v1.JSONElement.JSONObject"),d(ki,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Hv,repeated:!0},{no:2,name:"created_at",kind:"message",T:X},{no:3,name:"moved_at",kind:"message",T:X},{no:4,name:"removed_at",kind:"message",T:X}]));let Yu=ki;const Bi=class Bi extends V{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Bi().fromBinary(e,r)}static fromJson(e,r){return new Bi().fromJson(e,r)}static fromJsonString(e,r){return new Bi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Bi,e,r)}};d(Bi,"runtime",v),d(Bi,"typeName","yorkie.v1.JSONElement.JSONArray"),d(Bi,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Qu,repeated:!0},{no:2,name:"created_at",kind:"message",T:X},{no:3,name:"moved_at",kind:"message",T:X},{no:4,name:"removed_at",kind:"message",T:X}]));let Fu=Bi;const Mi=class Mi extends V{constructor(e){super();d(this,"type",0);d(this,"value",new Uint8Array(0));d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Mi().fromBinary(e,r)}static fromJson(e,r){return new Mi().fromJson(e,r)}static fromJsonString(e,r){return new Mi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Mi,e,r)}};d(Mi,"runtime",v),d(Mi,"typeName","yorkie.v1.JSONElement.Primitive"),d(Mi,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(ot)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:X},{no:4,name:"moved_at",kind:"message",T:X},{no:5,name:"removed_at",kind:"message",T:X}]));let Ku=Mi;const Ii=class Ii extends V{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Ii().fromBinary(e,r)}static fromJson(e,r){return new Ii().fromJson(e,r)}static fromJsonString(e,r){return new Ii().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ii,e,r)}};d(Ii,"runtime",v),d(Ii,"typeName","yorkie.v1.JSONElement.Text"),d(Ii,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:_u,repeated:!0},{no:2,name:"created_at",kind:"message",T:X},{no:3,name:"moved_at",kind:"message",T:X},{no:4,name:"removed_at",kind:"message",T:X}]));let $u=Ii;const Ui=class Ui extends V{constructor(e){super();d(this,"type",0);d(this,"value",new Uint8Array(0));d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Ui().fromBinary(e,r)}static fromJson(e,r){return new Ui().fromJson(e,r)}static fromJsonString(e,r){return new Ui().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ui,e,r)}};d(Ui,"runtime",v),d(Ui,"typeName","yorkie.v1.JSONElement.Counter"),d(Ui,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(ot)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:X},{no:4,name:"moved_at",kind:"message",T:X},{no:5,name:"removed_at",kind:"message",T:X}]));let Xu=Ui;const zi=class zi extends V{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new zi().fromBinary(e,r)}static fromJson(e,r){return new zi().fromJson(e,r)}static fromJsonString(e,r){return new zi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(zi,e,r)}};d(zi,"runtime",v),d(zi,"typeName","yorkie.v1.JSONElement.Tree"),d(zi,"fields",v.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Kl,repeated:!0},{no:2,name:"created_at",kind:"message",T:X},{no:3,name:"moved_at",kind:"message",T:X},{no:4,name:"removed_at",kind:"message",T:X}]));let Zu=zi;var fn;let Hv=(fn=class extends V{constructor(e){super();d(this,"key","");d(this,"element");v.util.initPartial(e,this)}static fromBinary(e,r){return new fn().fromBinary(e,r)}static fromJson(e,r){return new fn().fromJson(e,r)}static fromJsonString(e,r){return new fn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(fn,e,r)}},d(fn,"runtime",v),d(fn,"typeName","yorkie.v1.RHTNode"),d(fn,"fields",v.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:Me}])),fn);const Jn=class Jn extends V{constructor(e){super();d(this,"next");d(this,"element");v.util.initPartial(e,this)}static fromBinary(e,r){return new Jn().fromBinary(e,r)}static fromJson(e,r){return new Jn().fromJson(e,r)}static fromJsonString(e,r){return new Jn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Jn,e,r)}};d(Jn,"runtime",v),d(Jn,"typeName","yorkie.v1.RGANode"),d(Jn,"fields",v.util.newFieldList(()=>[{no:1,name:"next",kind:"message",T:Jn},{no:2,name:"element",kind:"message",T:Me}]));let Qu=Jn;const Li=class Li extends V{constructor(e){super();d(this,"value","");d(this,"updatedAt");d(this,"isRemoved",!1);v.util.initPartial(e,this)}static fromBinary(e,r){return new Li().fromBinary(e,r)}static fromJson(e,r){return new Li().fromJson(e,r)}static fromJsonString(e,r){return new Li().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Li,e,r)}};d(Li,"runtime",v),d(Li,"typeName","yorkie.v1.NodeAttr"),d(Li,"fields",v.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:X},{no:3,name:"is_removed",kind:"scalar",T:8}]));let Bs=Li;const qi=class qi extends V{constructor(e){super();d(this,"id");d(this,"value","");d(this,"removedAt");d(this,"insPrevId");d(this,"attributes",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new qi().fromBinary(e,r)}static fromJson(e,r){return new qi().fromJson(e,r)}static fromJsonString(e,r){return new qi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(qi,e,r)}};d(qi,"runtime",v),d(qi,"typeName","yorkie.v1.TextNode"),d(qi,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Fl},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:X},{no:4,name:"ins_prev_id",kind:"message",T:Fl},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Bs}}]));let _u=qi;const Ji=class Ji extends V{constructor(e){super();d(this,"createdAt");d(this,"offset",0);v.util.initPartial(e,this)}static fromBinary(e,r){return new Ji().fromBinary(e,r)}static fromJson(e,r){return new Ji().fromJson(e,r)}static fromJsonString(e,r){return new Ji().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ji,e,r)}};d(Ji,"runtime",v),d(Ji,"typeName","yorkie.v1.TextNodeID"),d(Ji,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:X},{no:2,name:"offset",kind:"scalar",T:5}]));let Fl=Ji;const Hi=class Hi extends V{constructor(e){super();d(this,"id");d(this,"type","");d(this,"value","");d(this,"removedAt");d(this,"insPrevId");d(this,"insNextId");d(this,"depth",0);d(this,"attributes",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new Hi().fromBinary(e,r)}static fromJson(e,r){return new Hi().fromJson(e,r)}static fromJsonString(e,r){return new Hi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Hi,e,r)}};d(Hi,"runtime",v),d(Hi,"typeName","yorkie.v1.TreeNode"),d(Hi,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:ea},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:X},{no:5,name:"ins_prev_id",kind:"message",T:ea},{no:6,name:"ins_next_id",kind:"message",T:ea},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Bs}}]));let Kl=Hi;const ji=class ji extends V{constructor(e){super();d(this,"content",[]);v.util.initPartial(e,this)}static fromBinary(e,r){return new ji().fromBinary(e,r)}static fromJson(e,r){return new ji().fromJson(e,r)}static fromJsonString(e,r){return new ji().fromJsonString(e,r)}static equals(e,r){return v.util.equals(ji,e,r)}};d(ji,"runtime",v),d(ji,"typeName","yorkie.v1.TreeNodes"),d(ji,"fields",v.util.newFieldList(()=>[{no:1,name:"content",kind:"message",T:Kl,repeated:!0}]));let Wu=ji;const Vi=class Vi extends V{constructor(e){super();d(this,"createdAt");d(this,"offset",0);v.util.initPartial(e,this)}static fromBinary(e,r){return new Vi().fromBinary(e,r)}static fromJson(e,r){return new Vi().fromJson(e,r)}static fromJsonString(e,r){return new Vi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Vi,e,r)}};d(Vi,"runtime",v),d(Vi,"typeName","yorkie.v1.TreeNodeID"),d(Vi,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:X},{no:2,name:"offset",kind:"scalar",T:5}]));let ea=Vi;const Pi=class Pi extends V{constructor(e){super();d(this,"parentId");d(this,"leftSiblingId");v.util.initPartial(e,this)}static fromBinary(e,r){return new Pi().fromBinary(e,r)}static fromJson(e,r){return new Pi().fromJson(e,r)}static fromJsonString(e,r){return new Pi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Pi,e,r)}};d(Pi,"runtime",v),d(Pi,"typeName","yorkie.v1.TreePos"),d(Pi,"fields",v.util.newFieldList(()=>[{no:1,name:"parent_id",kind:"message",T:ea},{no:2,name:"left_sibling_id",kind:"message",T:ea}]));let Ua=Pi;const Gi=class Gi extends V{constructor(e){super();d(this,"id","");d(this,"username","");d(this,"createdAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Gi().fromBinary(e,r)}static fromJson(e,r){return new Gi().fromJson(e,r)}static fromJsonString(e,r){return new Gi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Gi,e,r)}};d(Gi,"runtime",v),d(Gi,"typeName","yorkie.v1.User"),d(Gi,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"created_at",kind:"message",T:be}]));let _p=Gi;const Yi=class Yi extends V{constructor(e){super();d(this,"id","");d(this,"name","");d(this,"publicKey","");d(this,"secretKey","");d(this,"authWebhookUrl","");d(this,"authWebhookMethods",[]);d(this,"clientDeactivateThreshold","");d(this,"createdAt");d(this,"updatedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new Yi().fromBinary(e,r)}static fromJson(e,r){return new Yi().fromJson(e,r)}static fromJsonString(e,r){return new Yi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Yi,e,r)}};d(Yi,"runtime",v),d(Yi,"typeName","yorkie.v1.Project"),d(Yi,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:8,name:"created_at",kind:"message",T:be},{no:9,name:"updated_at",kind:"message",T:be}]));let Wp=Yi;const Fi=class Fi extends V{constructor(e){super();d(this,"name");d(this,"authWebhookUrl");d(this,"authWebhookMethods");d(this,"clientDeactivateThreshold");v.util.initPartial(e,this)}static fromBinary(e,r){return new Fi().fromBinary(e,r)}static fromJson(e,r){return new Fi().fromJson(e,r)}static fromJsonString(e,r){return new Fi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Fi,e,r)}};d(Fi,"runtime",v),d(Fi,"typeName","yorkie.v1.UpdatableProjectFields"),d(Fi,"fields",v.util.newFieldList(()=>[{no:1,name:"name",kind:"message",T:je},{no:2,name:"auth_webhook_url",kind:"message",T:je},{no:3,name:"auth_webhook_methods",kind:"message",T:Hh},{no:4,name:"client_deactivate_threshold",kind:"message",T:je}]));let tv=Fi;const Ki=class Ki extends V{constructor(e){super();d(this,"methods",[]);v.util.initPartial(e,this)}static fromBinary(e,r){return new Ki().fromBinary(e,r)}static fromJson(e,r){return new Ki().fromJson(e,r)}static fromJsonString(e,r){return new Ki().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Ki,e,r)}};d(Ki,"runtime",v),d(Ki,"typeName","yorkie.v1.UpdatableProjectFields.AuthWebhookMethods"),d(Ki,"fields",v.util.newFieldList(()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}]));let Hh=Ki;const $i=class $i extends V{constructor(e){super();d(this,"id","");d(this,"key","");d(this,"snapshot","");d(this,"createdAt");d(this,"accessedAt");d(this,"updatedAt");v.util.initPartial(e,this)}static fromBinary(e,r){return new $i().fromBinary(e,r)}static fromJson(e,r){return new $i().fromJson(e,r)}static fromJsonString(e,r){return new $i().fromJsonString(e,r)}static equals(e,r){return v.util.equals($i,e,r)}};d($i,"runtime",v),d($i,"typeName","yorkie.v1.DocumentSummary"),d($i,"fields",v.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"snapshot",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:be},{no:5,name:"accessed_at",kind:"message",T:be},{no:6,name:"updated_at",kind:"message",T:be}]));let ev=$i;const Xi=class Xi extends V{constructor(e){super();d(this,"type",0);d(this,"presence");v.util.initPartial(e,this)}static fromBinary(e,r){return new Xi().fromBinary(e,r)}static fromJson(e,r){return new Xi().fromJson(e,r)}static fromJsonString(e,r){return new Xi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Xi,e,r)}};d(Xi,"runtime",v),d(Xi,"typeName","yorkie.v1.PresenceChange"),d(Xi,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(za)},{no:2,name:"presence",kind:"message",T:gd}]));let $l=Xi;var za=(s=>(s[s.UNSPECIFIED=0]="UNSPECIFIED",s[s.PUT=1]="PUT",s[s.DELETE=2]="DELETE",s[s.CLEAR=3]="CLEAR",s))(za||{});v.util.setEnumType(za,"yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT"},{no:2,name:"CHANGE_TYPE_DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR"}]);var hn;let gd=(hn=class extends V{constructor(e){super();d(this,"data",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new hn().fromBinary(e,r)}static fromJson(e,r){return new hn().fromJson(e,r)}static fromJsonString(e,r){return new hn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(hn,e,r)}},d(hn,"runtime",v),d(hn,"typeName","yorkie.v1.Presence"),d(hn,"fields",v.util.newFieldList(()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}])),hn);var dn;let jv=(dn=class extends V{constructor(e){super();d(this,"serverSeq",Ht.zero);d(this,"clientSeq",0);v.util.initPartial(e,this)}static fromBinary(e,r){return new dn().fromBinary(e,r)}static fromJson(e,r){return new dn().fromJson(e,r)}static fromJsonString(e,r){return new dn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(dn,e,r)}},d(dn,"runtime",v),d(dn,"typeName","yorkie.v1.Checkpoint"),d(dn,"fields",v.util.newFieldList(()=>[{no:1,name:"server_seq",kind:"scalar",T:3},{no:2,name:"client_seq",kind:"scalar",T:13}])),dn);const Zi=class Zi extends V{constructor(e){super();d(this,"createdAt");d(this,"offset",0);d(this,"relativeOffset",0);v.util.initPartial(e,this)}static fromBinary(e,r){return new Zi().fromBinary(e,r)}static fromJson(e,r){return new Zi().fromJson(e,r)}static fromJsonString(e,r){return new Zi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Zi,e,r)}};d(Zi,"runtime",v),d(Zi,"typeName","yorkie.v1.TextNodePos"),d(Zi,"fields",v.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:X},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]));let wr=Zi;var gn;let X=(gn=class extends V{constructor(e){super();d(this,"lamport",Ht.zero);d(this,"delimiter",0);d(this,"actorId",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,r){return new gn().fromBinary(e,r)}static fromJson(e,r){return new gn().fromJson(e,r)}static fromJsonString(e,r){return new gn().fromJsonString(e,r)}static equals(e,r){return v.util.equals(gn,e,r)}},d(gn,"runtime",v),d(gn,"typeName","yorkie.v1.TimeTicket"),d(gn,"fields",v.util.newFieldList(()=>[{no:1,name:"lamport",kind:"scalar",T:3},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}])),gn);const Qi=class Qi extends V{constructor(e){super();d(this,"topic","");d(this,"payload",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,r){return new Qi().fromBinary(e,r)}static fromJson(e,r){return new Qi().fromJson(e,r)}static fromJsonString(e,r){return new Qi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Qi,e,r)}};d(Qi,"runtime",v),d(Qi,"typeName","yorkie.v1.DocEventBody"),d(Qi,"fields",v.util.newFieldList(()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]));let jh=Qi;const _i=class _i extends V{constructor(e){super();d(this,"type",0);d(this,"publisher","");d(this,"body");v.util.initPartial(e,this)}static fromBinary(e,r){return new _i().fromBinary(e,r)}static fromJson(e,r){return new _i().fromJson(e,r)}static fromJsonString(e,r){return new _i().fromJsonString(e,r)}static equals(e,r){return v.util.equals(_i,e,r)}};d(_i,"runtime",v),d(_i,"typeName","yorkie.v1.DocEvent"),d(_i,"fields",v.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:v.getEnumType(Ia)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:jh}]));let Vh=_i;const Wi=class Wi extends V{constructor(e){super();d(this,"clientKey","");d(this,"metadata",{});v.util.initPartial(e,this)}static fromBinary(e,r){return new Wi().fromBinary(e,r)}static fromJson(e,r){return new Wi().fromJson(e,r)}static fromJsonString(e,r){return new Wi().fromJsonString(e,r)}static equals(e,r){return v.util.equals(Wi,e,r)}};d(Wi,"runtime",v),d(Wi,"typeName","yorkie.v1.ActivateClientRequest"),d(Wi,"fields",v.util.newFieldList(()=>[{no:1,name:"client_key",kind:"scalar",T:9},{no:2,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let Ph=Wi;const tr=class tr extends V{constructor(e){super();d(this,"clientId","");v.util.initPartial(e,this)}static fromBinary(e,r){return new tr().fromBinary(e,r)}static fromJson(e,r){return new tr().fromJson(e,r)}static fromJsonString(e,r){return new tr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(tr,e,r)}};d(tr,"runtime",v),d(tr,"typeName","yorkie.v1.ActivateClientResponse"),d(tr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let Gh=tr;const er=class er extends V{constructor(e){super();d(this,"clientId","");v.util.initPartial(e,this)}static fromBinary(e,r){return new er().fromBinary(e,r)}static fromJson(e,r){return new er().fromJson(e,r)}static fromJsonString(e,r){return new er().fromJsonString(e,r)}static equals(e,r){return v.util.equals(er,e,r)}};d(er,"runtime",v),d(er,"typeName","yorkie.v1.DeactivateClientRequest"),d(er,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let Yh=er;const nr=class nr extends V{constructor(n){super(),v.util.initPartial(n,this)}static fromBinary(n,e){return new nr().fromBinary(n,e)}static fromJson(n,e){return new nr().fromJson(n,e)}static fromJsonString(n,e){return new nr().fromJsonString(n,e)}static equals(n,e){return v.util.equals(nr,n,e)}};d(nr,"runtime",v),d(nr,"typeName","yorkie.v1.DeactivateClientResponse"),d(nr,"fields",v.util.newFieldList(()=>[]));let Fh=nr;const ir=class ir extends V{constructor(e){super();d(this,"clientId","");d(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,r){return new ir().fromBinary(e,r)}static fromJson(e,r){return new ir().fromJson(e,r)}static fromJsonString(e,r){return new ir().fromJsonString(e,r)}static equals(e,r){return v.util.equals(ir,e,r)}};d(ir,"runtime",v),d(ir,"typeName","yorkie.v1.AttachDocumentRequest"),d(ir,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Nr}]));let Kh=ir;const rr=class rr extends V{constructor(e){super();d(this,"documentId","");d(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,r){return new rr().fromBinary(e,r)}static fromJson(e,r){return new rr().fromJson(e,r)}static fromJsonString(e,r){return new rr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(rr,e,r)}};d(rr,"runtime",v),d(rr,"typeName","yorkie.v1.AttachDocumentResponse"),d(rr,"fields",v.util.newFieldList(()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:Nr}]));let $h=rr;const ar=class ar extends V{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"changePack");d(this,"removeIfNotAttached",!1);v.util.initPartial(e,this)}static fromBinary(e,r){return new ar().fromBinary(e,r)}static fromJson(e,r){return new ar().fromJson(e,r)}static fromJsonString(e,r){return new ar().fromJsonString(e,r)}static equals(e,r){return v.util.equals(ar,e,r)}};d(ar,"runtime",v),d(ar,"typeName","yorkie.v1.DetachDocumentRequest"),d(ar,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Nr},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]));let Xh=ar;const sr=class sr extends V{constructor(e){super();d(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,r){return new sr().fromBinary(e,r)}static fromJson(e,r){return new sr().fromJson(e,r)}static fromJsonString(e,r){return new sr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(sr,e,r)}};d(sr,"runtime",v),d(sr,"typeName","yorkie.v1.DetachDocumentResponse"),d(sr,"fields",v.util.newFieldList(()=>[{no:2,name:"change_pack",kind:"message",T:Nr}]));let Zh=sr;const lr=class lr extends V{constructor(e){super();d(this,"clientId","");d(this,"documentId","");v.util.initPartial(e,this)}static fromBinary(e,r){return new lr().fromBinary(e,r)}static fromJson(e,r){return new lr().fromJson(e,r)}static fromJsonString(e,r){return new lr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(lr,e,r)}};d(lr,"runtime",v),d(lr,"typeName","yorkie.v1.WatchDocumentRequest"),d(lr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]));let Qh=lr;const or=class or extends V{constructor(e){super();d(this,"body",{case:void 0});v.util.initPartial(e,this)}static fromBinary(e,r){return new or().fromBinary(e,r)}static fromJson(e,r){return new or().fromJson(e,r)}static fromJsonString(e,r){return new or().fromJsonString(e,r)}static equals(e,r){return v.util.equals(or,e,r)}};d(or,"runtime",v),d(or,"typeName","yorkie.v1.WatchDocumentResponse"),d(or,"fields",v.util.newFieldList(()=>[{no:1,name:"initialization",kind:"message",T:Wh,oneof:"body"},{no:2,name:"event",kind:"message",T:Vh,oneof:"body"}]));let _h=or;const ur=class ur extends V{constructor(e){super();d(this,"clientIds",[]);v.util.initPartial(e,this)}static fromBinary(e,r){return new ur().fromBinary(e,r)}static fromJson(e,r){return new ur().fromJson(e,r)}static fromJsonString(e,r){return new ur().fromJsonString(e,r)}static equals(e,r){return v.util.equals(ur,e,r)}};d(ur,"runtime",v),d(ur,"typeName","yorkie.v1.WatchDocumentResponse.Initialization"),d(ur,"fields",v.util.newFieldList(()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}]));let Wh=ur;const cr=class cr extends V{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,r){return new cr().fromBinary(e,r)}static fromJson(e,r){return new cr().fromJson(e,r)}static fromJsonString(e,r){return new cr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(cr,e,r)}};d(cr,"runtime",v),d(cr,"typeName","yorkie.v1.RemoveDocumentRequest"),d(cr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Nr}]));let td=cr;const fr=class fr extends V{constructor(e){super();d(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,r){return new fr().fromBinary(e,r)}static fromJson(e,r){return new fr().fromJson(e,r)}static fromJsonString(e,r){return new fr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(fr,e,r)}};d(fr,"runtime",v),d(fr,"typeName","yorkie.v1.RemoveDocumentResponse"),d(fr,"fields",v.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Nr}]));let ed=fr;const hr=class hr extends V{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"changePack");d(this,"pushOnly",!1);v.util.initPartial(e,this)}static fromBinary(e,r){return new hr().fromBinary(e,r)}static fromJson(e,r){return new hr().fromJson(e,r)}static fromJsonString(e,r){return new hr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(hr,e,r)}};d(hr,"runtime",v),d(hr,"typeName","yorkie.v1.PushPullChangesRequest"),d(hr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:Nr},{no:4,name:"push_only",kind:"scalar",T:8}]));let nd=hr;const dr=class dr extends V{constructor(e){super();d(this,"changePack");v.util.initPartial(e,this)}static fromBinary(e,r){return new dr().fromBinary(e,r)}static fromJson(e,r){return new dr().fromJson(e,r)}static fromJsonString(e,r){return new dr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(dr,e,r)}};d(dr,"runtime",v),d(dr,"typeName","yorkie.v1.PushPullChangesResponse"),d(dr,"fields",v.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:Nr}]));let id=dr;const gr=class gr extends V{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"topic","");d(this,"payload",new Uint8Array(0));v.util.initPartial(e,this)}static fromBinary(e,r){return new gr().fromBinary(e,r)}static fromJson(e,r){return new gr().fromJson(e,r)}static fromJsonString(e,r){return new gr().fromJsonString(e,r)}static equals(e,r){return v.util.equals(gr,e,r)}};d(gr,"runtime",v),d(gr,"typeName","yorkie.v1.BroadcastRequest"),d(gr,"fields",v.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]));let rd=gr;const mr=class mr extends V{constructor(n){super(),v.util.initPartial(n,this)}static fromBinary(n,e){return new mr().fromBinary(n,e)}static fromJson(n,e){return new mr().fromJson(n,e)}static fromJsonString(n,e){return new mr().fromJsonString(n,e)}static equals(n,e){return v.util.equals(mr,n,e)}};d(mr,"runtime",v),d(mr,"typeName","yorkie.v1.BroadcastResponse"),d(mr,"fields",v.util.newFieldList(()=>[]));let ad=mr;const DA={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:Ph,O:Gh,kind:Ne.Unary},deactivateClient:{name:"DeactivateClient",I:Yh,O:Fh,kind:Ne.Unary},attachDocument:{name:"AttachDocument",I:Kh,O:$h,kind:Ne.Unary},detachDocument:{name:"DetachDocument",I:Xh,O:Zh,kind:Ne.Unary},removeDocument:{name:"RemoveDocument",I:td,O:ed,kind:Ne.Unary},pushPullChanges:{name:"PushPullChanges",I:nd,O:id,kind:Ne.Unary},watchDocument:{name:"WatchDocument",I:Qh,O:_h,kind:Ne.ServerStreaming},broadcast:{name:"Broadcast",I:rd,O:ad,kind:Ne.Unary}}},xA=v.makeMessageType("google.rpc.ErrorInfo",()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]);v.makeMessageType("google.rpc.RetryInfo",()=>[{no:1,name:"retry_delay",kind:"message",T:vr}]);v.makeMessageType("google.rpc.DebugInfo",()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]);v.makeMessageType("google.rpc.QuotaFailure",()=>[{no:1,name:"violations",kind:"message",T:OA,repeated:!0}]);const OA=v.makeMessageType("google.rpc.QuotaFailure.Violation",()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}],{localName:"QuotaFailure_Violation"});v.makeMessageType("google.rpc.PreconditionFailure",()=>[{no:1,name:"violations",kind:"message",T:CA,repeated:!0}]);const CA=v.makeMessageType("google.rpc.PreconditionFailure.Violation",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}],{localName:"PreconditionFailure_Violation"});v.makeMessageType("google.rpc.BadRequest",()=>[{no:1,name:"field_violations",kind:"message",T:RA,repeated:!0}]);const RA=v.makeMessageType("google.rpc.BadRequest.FieldViolation",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}],{localName:"BadRequest_FieldViolation"});v.makeMessageType("google.rpc.RequestInfo",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]);v.makeMessageType("google.rpc.ResourceInfo",()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]);v.makeMessageType("google.rpc.Help",()=>[{no:1,name:"links",kind:"message",T:kA,repeated:!0}]);const kA=v.makeMessageType("google.rpc.Help.Link",()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}],{localName:"Help_Link"});v.makeMessageType("google.rpc.LocalizedMessage",()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]);var x=(s=>(s.Ok="ok",s.ErrClientNotActivated="ErrClientNotActivated",s.ErrClientNotFound="ErrClientNotFound",s.ErrUnimplemented="ErrUnimplemented",s.ErrInvalidType="ErrInvalidType",s.ErrDummy="ErrDummy",s.ErrDocumentNotAttached="ErrDocumentNotAttached",s.ErrDocumentNotDetached="ErrDocumentNotDetached",s.ErrDocumentRemoved="ErrDocumentRemoved",s.ErrInvalidObjectKey="ErrInvalidObjectKey",s.ErrInvalidArgument="ErrInvalidArgument",s.ErrNotInitialized="ErrNotInitialized",s.ErrNotReady="ErrNotReady",s.ErrRefused="ErrRefused",s.ErrContextNotProvided="ErrContextNotProvided",s.ErrPermissionDenied="ErrPermissionDenied",s.ErrUnauthenticated="ErrUnauthenticated",s.ErrTooManySubscribers="ErrTooManySubscribers",s.ErrTooManyAttachments="ErrTooManyAttachments",s))(x||{});class C extends Error{constructor(e,r){super(r);d(this,"name","YorkieError");d(this,"stack");this.code=e,this.message=r,this.toString=()=>`[code=${this.code}]: ${this.message}`}}function En(s){if(s instanceof Map){const n=Array.from(s);return new Map(JSON.parse(JSON.stringify(n)))}return JSON.parse(JSON.stringify(s))}const Vv=s=>s?Object.entries(s).length===0:!0,Ms=s=>{const n={};for(const[e,r]of Object.entries(s))n[e]=JSON.stringify(r);return n},xs=s=>{const n={};for(const[e,r]of Object.entries(s))n[e]=JSON.parse(r);return n};var aa=(s=>(s.Put="put",s.Clear="clear",s))(aa||{});class kh{constructor(n,e){d(this,"context");d(this,"presence");this.context=n,this.presence=e}set(n,e){for(const r of Object.keys(n))this.presence[r]=n[r];this.context.setPresenceChange({type:"put",presence:En(this.presence)}),this.context.setReversePresence(n,e)}get(n){return this.presence[n]}clear(){this.presence={},this.context.setPresenceChange({type:"clear"})}}const lc="000000000000000000000000";class pn{constructor(n,e,r){d(this,"lamport");d(this,"delimiter");d(this,"actorID");this.lamport=n,this.delimiter=e,this.actorID=r}static of(n,e,r){return new pn(n,e,r)}static fromStruct(n){return pn.of(BigInt(n.lamport),n.delimiter,n.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(n){return new pn(this.lamport,this.delimiter,n)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(n){return this.compare(n)>0}equals(n){return this.compare(n)===0}compare(n){if(this.lamport>n.lamport)return 1;if(n.lamport>this.lamport)return-1;const e=this.actorID.localeCompare(n.actorID);return e!==0?e:this.delimiter>n.delimiter?1:n.delimiter>this.delimiter?-1:0}}const Pv=0,Vl=9223372036854775807n,xn=new pn(0n,Pv,lc);function Zn(s){return s.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(n){switch(n){case'"':case"\\":return"\\"+n;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return n}})}class eo{constructor(n){d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");this.createdAt=n}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(n){return!this.movedAt||n&&n.after(this.movedAt)?(this.movedAt=n,!0):!1}setRemovedAt(n){this.removedAt=n}remove(n){return n&&n.after(this.getPositionedAt())&&(!this.removedAt||n.after(this.removedAt))?(this.removedAt=n,!0):!1}isRemoved(){return!!this.removedAt}}class na extends eo{constructor(n){super(n)}}class md{constructor(n,e){d(this,"strKey");d(this,"value");this.strKey=n,this.value=e}static of(n,e){return new md(n,e)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(n){return this.value.remove(n)}}class Xl{constructor(){d(this,"nodeMapByKey");d(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Xl}set(n,e,r){let o;const c=this.nodeMapByKey.get(n);c!=null&&!c.isRemoved()&&c.remove(r)&&(o=c.getValue());const h=md.of(n,e);return this.nodeMapByCreatedAt.set(e.getCreatedAt().toIDString(),h),(c==null||r.after(c.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(n,h),e.setMovedAt(r)),o}delete(n,e){if(!this.nodeMapByCreatedAt.has(n.toIDString()))throw new C(x.ErrInvalidArgument,`fail to find ${n.toIDString()}`);const r=this.nodeMapByCreatedAt.get(n.toIDString());return r.remove(e),r.getValue()}subPathOf(n){const e=this.nodeMapByCreatedAt.get(n.toIDString());if(e)return e.getStrKey()}purge(n){const e=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!e)throw new C(x.ErrInvalidArgument,`fail to find ${n.getCreatedAt().toIDString()}`);const r=this.nodeMapByKey.get(e.getStrKey());e===r&&this.nodeMapByKey.delete(r.getStrKey()),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}deleteByKey(n,e){const r=this.nodeMapByKey.get(n);if(r!=null&&r.remove(e))return r.getValue()}has(n){const e=this.nodeMapByKey.get(n);return e==null?!1:!e.isRemoved()}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}get(n){const e=this.nodeMapByKey.get(n);if(!(!e||e.isRemoved()))return e}*[Symbol.iterator](){for(const[,n]of this.nodeMapByKey)yield n}}class Be extends na{constructor(e,r){super(e);d(this,"memberNodes");this.memberNodes=r}static create(e,r){if(!r)return new Be(e,Xl.create());const o=Xl.create();for(const[c,h]of Object.entries(r))o.set(c,h.deepcopy(),h.getCreatedAt());return new Be(e,o)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,r,o){return this.memberNodes.set(e,r,o)}delete(e,r){return this.memberNodes.delete(e,r)}deleteByKey(e,r){return this.memberNodes.deleteByKey(e,r)}get(e){const r=this.memberNodes.get(e);return r==null?void 0:r.getValue()}getByID(e){const r=this.memberNodes.getByID(e);return r==null?void 0:r.getValue()}has(e){return this.memberNodes.has(e)}toJSON(){const e=[];for(const[r,o]of this)e.push(`"${Zn(r)}":${o.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[r,o]of this){const{createdAt:c,value:h,type:m}=o.toJSForTest();e[r]={key:r,createdAt:c,value:h,type:m}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[r]of this)e.push(r);return e}toSortedJSON(){var o;const e=Array();for(const[c]of this)e.push(c);const r=[];for(const c of e.sort()){const h=(o=this.memberNodes.get(c))==null?void 0:o.getValue();r.push(`"${Zn(c)}":${h.toSortedJSON()}`)}return`{${r.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=Be.create(this.getCreatedAt());for(const r of this.memberNodes)e.memberNodes.set(r.getStrKey(),r.getValue().deepcopy(),this.getPositionedAt());return e.remove(this.getRemovedAt()),e}getDescendants(e){for(const r of this.memberNodes){const o=r.getValue();if(e(o,this))return;o instanceof na&&o.getDescendants(e)}}*[Symbol.iterator](){const e=new Set;for(const r of this.memberNodes)e.has(r.getStrKey())||(e.add(r.getStrKey()),r.isRemoved()||(yield[r.getStrKey(),r.getValue()]))}}var It=(s=>(s.Local="local",s.Remote="remote",s.UndoRedo="undoredo",s))(It||{});class Cn{constructor(n,e){d(this,"parentCreatedAt");d(this,"executedAt");this.parentCreatedAt=n,this.executedAt=e}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new C(x.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(n){this.executedAt&&(this.executedAt=this.executedAt.setActor(n))}setExecutedAt(n){this.executedAt=n}}class Gv{constructor(n){d(this,"value");d(this,"left");d(this,"right");d(this,"parent");d(this,"weight");this.value=n,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(n){this.left=n}setRight(n){this.right=n}setParent(n){this.parent=n}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(n){this.weight+=n}initWeight(){this.weight=this.getLength()}}class Zl{constructor(n){d(this,"root");this.root=n}get length(){return this.root?this.root.getWeight():0}find(n){if(!this.root||n<0)return[void 0,0];let e=this.root;for(;;)if(e.hasLeft()&&n<=e.getLeftWeight())e=e.getLeft();else if(e.hasRight()&&e.getLeftWeight()+e.getLength()<n)n-=e.getLeftWeight()+e.getLength(),e=e.getRight();else{n-=e.getLeftWeight();break}if(n>e.getLength())throw new C(x.ErrInvalidArgument,`out of index range: pos: ${n} > node.length: ${e.getLength()}`);return this.splayNode(e),[e,n]}indexOf(n){return!n||n!==this.root&&!n.hasLinks()?-1:(this.splayNode(n),this.root.getLeftWeight())}getRoot(){return this.root}insert(n){return this.insertAfter(this.root,n)}insertAfter(n,e){return n?(this.splayNode(n),this.root=e,e.setRight(n.getRight()),n.hasRight()&&n.getRight().setParent(e),e.setLeft(n),n.setParent(e),n.setRight(),this.updateWeight(n),this.updateWeight(e),e):(this.root=e,e)}updateWeight(n){n.initWeight(),n.hasLeft()&&n.increaseWeight(n.getLeftWeight()),n.hasRight()&&n.increaseWeight(n.getRightWeight())}updateTreeWeight(n){for(;n;)this.updateWeight(n),n=n.getParent()}splayNode(n){if(n)for(;;)if(this.isLeftChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n),this.rotateLeft(n);else if(this.isLeftChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n.getParent()),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n.getParent()),this.rotateLeft(n);else{this.isLeftChild(n)?this.rotateRight(n):this.isRightChild(n)&&this.rotateLeft(n),this.updateWeight(n);return}}delete(n){this.splayNode(n);const e=new Zl(n.getLeft());e.root&&e.root.setParent();const r=new Zl(n.getRight());if(r.root&&r.root.setParent(),e.root){const o=e.getRightmost();e.splayNode(o),e.root.setRight(r.root),r.root&&r.root.setParent(e.root),this.root=e.root}else this.root=r.root;n.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(n,e){if(!e){this.splayNode(n),this.cutOffRight(n);return}this.splayNode(n),this.splayNode(e),e.getLeft()!=n&&this.rotateRight(n),this.cutOffRight(n)}cutOffRight(n){const e=[];this.traversePostorder(n.getRight(),e);for(const r of e)r.initWeight();this.updateTreeWeight(n)}toTestString(){const n=[];return this.traverseInorder(this.root,n),n.map(e=>`[${e.getWeight()},${e.getLength()}]${e.getValue()||""}`).join("")}checkWeight(){const n=[];this.traverseInorder(this.root,n);for(const e of n)if(e.getWeight()!=e.getLength()+e.getLeftWeight()+e.getRightWeight())return!1;return!0}getRightmost(){let n=this.root;for(;n.hasRight();)n=n.getRight();return n}traverseInorder(n,e){n&&(this.traverseInorder(n.getLeft(),e),e.push(n),this.traverseInorder(n.getRight(),e))}traversePostorder(n,e){n&&(this.traversePostorder(n.getLeft(),e),this.traversePostorder(n.getRight(),e),e.push(n))}rotateLeft(n){const e=n.getParent();e.hasParent()?e===e.getParent().getLeft()?e.getParent().setLeft(n):e.getParent().setRight(n):this.root=n,n.setParent(e.getParent()),e.setRight(n.getLeft()),e.hasRight()&&e.getRight().setParent(e),n.setLeft(e),n.getLeft().setParent(n),this.updateWeight(e),this.updateWeight(n)}rotateRight(n){const e=n.getParent();e.hasParent()?e===e.getParent().getLeft()?e.getParent().setLeft(n):e.getParent().setRight(n):this.root=n,n.setParent(e.getParent()),e.setLeft(n.getRight()),e.hasLeft()&&e.getLeft().setParent(e),n.setRight(e),n.getRight().setParent(n),this.updateWeight(e),this.updateWeight(n)}isLeftChild(n){return n&&n.hasParent()?n.getParent().getLeft()===n:!1}isRightChild(n){return n&&n.hasParent()?n.getParent().getRight()===n:!1}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var mn=null;try{mn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function wt(s,n,e){this.low=s|0,this.high=n|0,this.unsigned=!!e}wt.prototype.__isLong__;Object.defineProperty(wt.prototype,"__isLong__",{value:!0});function Te(s){return(s&&s.__isLong__)===!0}function nv(s){var n=Math.clz32(s&-s);return s?31-n:n}wt.isLong=Te;var iv={},rv={};function Ja(s,n){var e,r,o;return n?(s>>>=0,(o=0<=s&&s<256)&&(r=rv[s],r)?r:(e=Dt(s,0,!0),o&&(rv[s]=e),e)):(s|=0,(o=-128<=s&&s<128)&&(r=iv[s],r)?r:(e=Dt(s,s<0?-1:0,!1),o&&(iv[s]=e),e))}wt.fromInt=Ja;function yn(s,n){if(isNaN(s))return n?br:Nn;if(n){if(s<0)return br;if(s>=Yv)return $v}else{if(s<=-9223372036854776e3)return ke;if(s+1>=MA)return Kv}return s<0?yn(-s,n).neg():Dt(s%Is|0,s/Is|0,n)}wt.fromNumber=yn;function Dt(s,n,e){return new wt(s,n,e)}wt.fromBits=Dt;var tc=Math.pow;function yd(s,n,e){if(s.length===0)throw Error("empty string");if(typeof n=="number"?(e=n,n=!1):n=!!n,s==="NaN"||s==="Infinity"||s==="+Infinity"||s==="-Infinity")return n?br:Nn;if(e=e||10,e<2||36<e)throw RangeError("radix");var r;if((r=s.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return yd(s.substring(1),n,e).neg();for(var o=yn(tc(e,8)),c=Nn,h=0;h<s.length;h+=8){var m=Math.min(8,s.length-h),p=parseInt(s.substring(h,h+m),e);if(m<8){var y=yn(tc(e,m));c=c.mul(y).add(yn(p))}else c=c.mul(o),c=c.add(yn(p))}return c.unsigned=n,c}wt.fromString=yd;function Rn(s,n){return typeof s=="number"?yn(s,n):typeof s=="string"?yd(s,n):Dt(s.low,s.high,typeof n=="boolean"?n:s.unsigned)}wt.fromValue=Rn;var av=65536,BA=1<<24,Is=av*av,Yv=Is*Is,MA=Yv/2,sv=Ja(BA),Nn=Ja(0);wt.ZERO=Nn;var br=Ja(0,!0);wt.UZERO=br;var Ns=Ja(1);wt.ONE=Ns;var Fv=Ja(1,!0);wt.UONE=Fv;var sd=Ja(-1);wt.NEG_ONE=sd;var Kv=Dt(-1,2147483647,!1);wt.MAX_VALUE=Kv;var $v=Dt(-1,-1,!0);wt.MAX_UNSIGNED_VALUE=$v;var ke=Dt(0,-2147483648,!1);wt.MIN_VALUE=ke;var H=wt.prototype;H.toInt=function(){return this.unsigned?this.low>>>0:this.low};H.toNumber=function(){return this.unsigned?(this.high>>>0)*Is+(this.low>>>0):this.high*Is+(this.low>>>0)};H.toString=function(n){if(n=n||10,n<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(ke)){var e=yn(n),r=this.div(e),o=r.mul(e).sub(this);return r.toString(n)+o.toInt().toString(n)}else return"-"+this.neg().toString(n);for(var c=yn(tc(n,6),this.unsigned),h=this,m="";;){var p=h.div(c),y=h.sub(p.mul(c)).toInt()>>>0,b=y.toString(n);if(h=p,h.isZero())return b+m;for(;b.length<6;)b="0"+b;m=""+b+m}};H.getHighBits=function(){return this.high};H.getHighBitsUnsigned=function(){return this.high>>>0};H.getLowBits=function(){return this.low};H.getLowBitsUnsigned=function(){return this.low>>>0};H.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ke)?64:this.neg().getNumBitsAbs();for(var n=this.high!=0?this.high:this.low,e=31;e>0&&(n&1<<e)==0;e--);return this.high!=0?e+33:e+1};H.isZero=function(){return this.high===0&&this.low===0};H.eqz=H.isZero;H.isNegative=function(){return!this.unsigned&&this.high<0};H.isPositive=function(){return this.unsigned||this.high>=0};H.isOdd=function(){return(this.low&1)===1};H.isEven=function(){return(this.low&1)===0};H.equals=function(n){return Te(n)||(n=Rn(n)),this.unsigned!==n.unsigned&&this.high>>>31===1&&n.high>>>31===1?!1:this.high===n.high&&this.low===n.low};H.eq=H.equals;H.notEquals=function(n){return!this.eq(n)};H.neq=H.notEquals;H.ne=H.notEquals;H.lessThan=function(n){return this.comp(n)<0};H.lt=H.lessThan;H.lessThanOrEqual=function(n){return this.comp(n)<=0};H.lte=H.lessThanOrEqual;H.le=H.lessThanOrEqual;H.greaterThan=function(n){return this.comp(n)>0};H.gt=H.greaterThan;H.greaterThanOrEqual=function(n){return this.comp(n)>=0};H.gte=H.greaterThanOrEqual;H.ge=H.greaterThanOrEqual;H.compare=function(n){if(Te(n)||(n=Rn(n)),this.eq(n))return 0;var e=this.isNegative(),r=n.isNegative();return e&&!r?-1:!e&&r?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1};H.comp=H.compare;H.negate=function(){return!this.unsigned&&this.eq(ke)?ke:this.not().add(Ns)};H.neg=H.negate;H.add=function(n){Te(n)||(n=Rn(n));var e=this.high>>>16,r=this.high&65535,o=this.low>>>16,c=this.low&65535,h=n.high>>>16,m=n.high&65535,p=n.low>>>16,y=n.low&65535,b=0,E=0,B=0,R=0;return R+=c+y,B+=R>>>16,R&=65535,B+=o+p,E+=B>>>16,B&=65535,E+=r+m,b+=E>>>16,E&=65535,b+=e+h,b&=65535,Dt(B<<16|R,b<<16|E,this.unsigned)};H.subtract=function(n){return Te(n)||(n=Rn(n)),this.add(n.neg())};H.sub=H.subtract;H.multiply=function(n){if(this.isZero())return this;if(Te(n)||(n=Rn(n)),mn){var e=mn.mul(this.low,this.high,n.low,n.high);return Dt(e,mn.get_high(),this.unsigned)}if(n.isZero())return this.unsigned?br:Nn;if(this.eq(ke))return n.isOdd()?ke:Nn;if(n.eq(ke))return this.isOdd()?ke:Nn;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(sv)&&n.lt(sv))return yn(this.toNumber()*n.toNumber(),this.unsigned);var r=this.high>>>16,o=this.high&65535,c=this.low>>>16,h=this.low&65535,m=n.high>>>16,p=n.high&65535,y=n.low>>>16,b=n.low&65535,E=0,B=0,R=0,z=0;return z+=h*b,R+=z>>>16,z&=65535,R+=c*b,B+=R>>>16,R&=65535,R+=h*y,B+=R>>>16,R&=65535,B+=o*b,E+=B>>>16,B&=65535,B+=c*y,E+=B>>>16,B&=65535,B+=h*p,E+=B>>>16,B&=65535,E+=r*b+o*y+c*p+h*m,E&=65535,Dt(R<<16|z,E<<16|B,this.unsigned)};H.mul=H.multiply;H.divide=function(n){if(Te(n)||(n=Rn(n)),n.isZero())throw Error("division by zero");if(mn){if(!this.unsigned&&this.high===-2147483648&&n.low===-1&&n.high===-1)return this;var e=(this.unsigned?mn.div_u:mn.div_s)(this.low,this.high,n.low,n.high);return Dt(e,mn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?br:Nn;var r,o,c;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return br;if(n.gt(this.shru(1)))return Fv;c=br}else{if(this.eq(ke)){if(n.eq(Ns)||n.eq(sd))return ke;if(n.eq(ke))return Ns;var h=this.shr(1);return r=h.div(n).shl(1),r.eq(Nn)?n.isNegative()?Ns:sd:(o=this.sub(n.mul(r)),c=r.add(o.div(n)),c)}else if(n.eq(ke))return this.unsigned?br:Nn;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();c=Nn}for(o=this;o.gte(n);){r=Math.max(1,Math.floor(o.toNumber()/n.toNumber()));for(var m=Math.ceil(Math.log(r)/Math.LN2),p=m<=48?1:tc(2,m-48),y=yn(r),b=y.mul(n);b.isNegative()||b.gt(o);)r-=p,y=yn(r,this.unsigned),b=y.mul(n);y.isZero()&&(y=Ns),c=c.add(y),o=o.sub(b)}return c};H.div=H.divide;H.modulo=function(n){if(Te(n)||(n=Rn(n)),mn){var e=(this.unsigned?mn.rem_u:mn.rem_s)(this.low,this.high,n.low,n.high);return Dt(e,mn.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))};H.mod=H.modulo;H.rem=H.modulo;H.not=function(){return Dt(~this.low,~this.high,this.unsigned)};H.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};H.clz=H.countLeadingZeros;H.countTrailingZeros=function(){return this.low?nv(this.low):nv(this.high)+32};H.ctz=H.countTrailingZeros;H.and=function(n){return Te(n)||(n=Rn(n)),Dt(this.low&n.low,this.high&n.high,this.unsigned)};H.or=function(n){return Te(n)||(n=Rn(n)),Dt(this.low|n.low,this.high|n.high,this.unsigned)};H.xor=function(n){return Te(n)||(n=Rn(n)),Dt(this.low^n.low,this.high^n.high,this.unsigned)};H.shiftLeft=function(n){return Te(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Dt(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):Dt(0,this.low<<n-32,this.unsigned)};H.shl=H.shiftLeft;H.shiftRight=function(n){return Te(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Dt(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):Dt(this.high>>n-32,this.high>=0?0:-1,this.unsigned)};H.shr=H.shiftRight;H.shiftRightUnsigned=function(n){return Te(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?Dt(this.low>>>n|this.high<<32-n,this.high>>>n,this.unsigned):n===32?Dt(this.high,0,this.unsigned):Dt(this.high>>>n-32,0,this.unsigned)};H.shru=H.shiftRightUnsigned;H.shr_u=H.shiftRightUnsigned;H.rotateLeft=function(n){var e;return Te(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?Dt(this.high,this.low,this.unsigned):n<32?(e=32-n,Dt(this.low<<n|this.high>>>e,this.high<<n|this.low>>>e,this.unsigned)):(n-=32,e=32-n,Dt(this.high<<n|this.low>>>e,this.low<<n|this.high>>>e,this.unsigned))};H.rotl=H.rotateLeft;H.rotateRight=function(n){var e;return Te(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?Dt(this.high,this.low,this.unsigned):n<32?(e=32-n,Dt(this.high<<e|this.low>>>n,this.low<<e|this.high>>>n,this.unsigned)):(n-=32,e=32-n,Dt(this.low<<e|this.high>>>n,this.high<<e|this.low>>>n,this.unsigned))};H.rotr=H.rotateRight;H.toSigned=function(){return this.unsigned?Dt(this.low,this.high,!1):this};H.toUnsigned=function(){return this.unsigned?this:Dt(this.low,this.high,!0)};H.toBytes=function(n){return n?this.toBytesLE():this.toBytesBE()};H.toBytesLE=function(){var n=this.high,e=this.low;return[e&255,e>>>8&255,e>>>16&255,e>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]};H.toBytesBE=function(){var n=this.high,e=this.low;return[n>>>24,n>>>16&255,n>>>8&255,n&255,e>>>24,e>>>16&255,e>>>8&255,e&255]};wt.fromBytes=function(n,e,r){return r?wt.fromBytesLE(n,e):wt.fromBytesBE(n,e)};wt.fromBytesLE=function(n,e){return new wt(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,e)};wt.fromBytesBE=function(n,e){return new wt(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],e)};var le=(s=>(s[s.Null=0]="Null",s[s.Boolean=1]="Boolean",s[s.Integer=2]="Integer",s[s.Long=3]="Long",s[s.Double=4]="Double",s[s.String=5]="String",s[s.Bytes=6]="Bytes",s[s.Date=7]="Date",s))(le||{});class $t extends eo{constructor(e,r){super(r);d(this,"valueType");d(this,"value");this.valueType=$t.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,r){return new $t(e,r)}static valueFromBytes(e,r){switch(e){case 0:return null;case 1:return!!r[0];case 2:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 4:{const o=new DataView(r.buffer);return r.forEach(function(c,h){o.setUint8(h,c)}),o.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(r);case 3:return wt.fromBytesLE(Array.from(r));case 6:return r;case 7:return new Date(wt.fromBytesLE(Array.from(r),!0).toNumber());default:throw new C(x.ErrUnimplemented,`unimplemented type: ${e}`)}}toJSON(){return this.valueType===5?`"${Zn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=$t.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof wt)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return $t.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,e,!0),r}case 5:return new TextEncoder().encode(this.value);case 3:{const r=this.value.toBytesLE();return Uint8Array.from(r)}case 6:return this.value;case 7:{const e=this.value,r=wt.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(r)}default:throw new C(x.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class ec extends Gv{constructor(e){super(e);d(this,"prev");d(this,"next");this.value=e}static createAfter(e,r){const o=new ec(r),c=e.next;return e.next=o,o.prev=e,o.next=c,c&&(c.prev=o),o}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class Ql{constructor(){d(this,"dummyHead");d(this,"last");d(this,"nodeMapByIndex");d(this,"nodeMapByCreatedAt");const n=$t.of(0,xn);n.setRemovedAt(xn),this.dummyHead=new ec(n),this.last=this.dummyHead,this.nodeMapByIndex=new Zl,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new Ql}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(n,e){let r=this.nodeMapByCreatedAt.get(n.toIDString());if(!r)throw new C(x.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);for(;r.getNext()&&r.getNext().getPositionedAt().after(e);)r=r.getNext();return r}release(n){this.last===n&&(this.last=n.getPrev()),n.release(),this.nodeMapByIndex.delete(n),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}insertAfter(n,e,r=e.getCreatedAt()){const o=this.findNextBeforeExecutedAt(n,r),c=ec.createAfter(o,e);o===this.last&&(this.last=c),this.nodeMapByIndex.insertAfter(o,c),this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),c)}moveAfter(n,e,r){const o=this.nodeMapByCreatedAt.get(n.toIDString());if(!o)throw new C(x.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);const c=this.nodeMapByCreatedAt.get(e.toIDString());if(!c)throw new C(x.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);o!==c&&(!c.getValue().getMovedAt()||r.after(c.getValue().getMovedAt()))&&(this.release(c),this.insertAfter(o.getCreatedAt(),c.getValue(),r),c.getValue().setMovedAt(r))}insert(n){this.insertAfter(this.last.getCreatedAt(),n)}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}subPathOf(n){const e=this.nodeMapByCreatedAt.get(n.toIDString());if(e)return String(this.nodeMapByIndex.indexOf(e))}purge(n){const e=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!e)throw new C(x.ErrInvalidArgument,`fail to find the given createdAt: ${n.getCreatedAt().toIDString()}`);this.release(e)}getByIndex(n){if(n>=this.length)return;const[e,r]=this.nodeMapByIndex.find(n);let o=e;if(n===0&&e===this.dummyHead||r>0)do o&&(o=o.getNext());while(o&&o.isRemoved());return o}getPrevCreatedAt(n){let e=this.nodeMapByCreatedAt.get(n.toIDString());do e=e.getPrev();while(this.dummyHead!==e&&e.isRemoved());return e.getValue().getCreatedAt()}delete(n,e){const r=this.nodeMapByCreatedAt.get(n.toIDString()),o=r.isRemoved();return r.remove(e)&&!o&&this.nodeMapByIndex.splayNode(r),r.getValue()}deleteByIndex(n,e){const r=this.getByIndex(n);if(r)return r.remove(e)&&this.nodeMapByIndex.splayNode(r),r.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const n=[];for(const e of this){const r=`${e.getCreatedAt().toIDString()}:${e.getValue().toJSON()}`;e.isRemoved()?n.push(`{${r}}`):n.push(`[${r}]`)}return n.join("")}*[Symbol.iterator](){let n=this.dummyHead.getNext();for(;n;)yield n,n=n.getNext()}}class Pe extends na{constructor(e,r){super(e);d(this,"elements");this.elements=r}static create(e,r){if(!r)return new Pe(e,Ql.create());const o=Ql.create();for(const c of r)o.insertAfter(o.getLastCreatedAt(),c.deepcopy());return new Pe(e,o)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,r){this.elements.insertAfter(e,r)}moveAfter(e,r,o){this.elements.moveAfter(e,r,o)}get(e){const r=this.elements.getByIndex(e);return r==null?void 0:r.getValue()}getByID(e){const r=this.elements.getByID(e);return r==null?void 0:r.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,r){return this.elements.delete(e,r)}deleteByIndex(e,r){return this.elements.deleteByIndex(e,r)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const r of this.elements){const o=r.getValue();if(e(o,this))return;o instanceof na&&o.getDescendants(e)}}toJSON(){const e=[];for(const r of this)e.push(r.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let r=0;r<this.length;r++){const{createdAt:o,value:c,type:h}=this.get(r).toJSForTest();e[r]={key:String(r),createdAt:o,value:c,type:h}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=Pe.create(this.getCreatedAt());for(const r of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),r.getValue().deepcopy());return e.remove(this.getRemovedAt()),e}}class sa extends Cn{constructor(e,r,o){super(e,o);d(this,"createdAt");this.createdAt=r}static create(e,r,o){return new sa(e,r,o)}execute(e,r){var y;const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new C(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof na))throw new C(x.ErrInvalidArgument,`only object and array can execute remove: ${o}`);if(r===It.UndoRedo){let b=o.getByID(this.createdAt);for(;b;){if(b.getRemovedAt())return;b=(y=e.findElementPairByCreatedAt(b.getCreatedAt()))==null?void 0:y.parent}}const c=o.subPathOf(this.createdAt),h=this.toReverseOperation(o),m=o.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(m),{opInfos:o instanceof Pe?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(c)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:c}],reverseOp:h}}toReverseOperation(e){if(e instanceof Be){const r=e.subPathOf(this.createdAt);if(r!==void 0){const o=e.get(r);if(o!==void 0)return La.create(r,o.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class La extends Cn{constructor(e,r,o,c){super(o,c);d(this,"key");d(this,"value");this.key=e,this.value=r}static create(e,r,o,c){return new La(e,r,o,c)}execute(e,r){var y;const o=e.findByCreatedAt(this.getParentCreatedAt());if(!o)throw new C(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(o instanceof Be))throw new C(x.ErrInvalidArgument,"fail to execute, only object can execute set");if(r===It.UndoRedo){let b=o;for(;b;){if(b.getRemovedAt())return;b=(y=e.findElementPairByCreatedAt(b.getCreatedAt()))==null?void 0:y.parent}}const c=o.get(this.key),h=this.toReverseOperation(c),m=this.value.deepcopy(),p=o.set(this.key,m,this.getExecutedAt());return r===It.UndoRedo&&e.findByCreatedAt(m.getCreatedAt())&&e.deregisterElement(m),e.registerElement(m,o),p&&e.registerRemovedElement(p),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:h}}toReverseOperation(e){let r=sa.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(r=La.create(this.key,e.deepcopy(),this.getParentCreatedAt())),r}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class no extends Cn{constructor(e,r,o,c){super(e,c);d(this,"prevCreatedAt");d(this,"value");this.prevCreatedAt=r,this.value=o}static create(e,r,o,c){return new no(e,r,o,c)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new C(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Pe))throw new C(x.ErrInvalidArgument,"fail to execute, only array can execute add");const o=r,c=this.value.deepcopy();return o.insertAfter(this.prevCreatedAt,c),e.registerElement(c,o),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(o.subPathOf(this.getEffectedCreatedAt()))}]}}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class ta extends Cn{constructor(e,r,o,c){super(e,c);d(this,"prevCreatedAt");d(this,"createdAt");this.prevCreatedAt=r,this.createdAt=o}static create(e,r,o,c){return new ta(e,r,o,c)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new C(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Pe))throw new C(x.ErrInvalidArgument,"fail to execute, only array can execute move");const o=r,c=Number(o.subPathOf(this.createdAt));o.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const h=Number(o.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:h,previousIndex:c}]}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class Ba{constructor(n,e,r,o){d(this,"key");d(this,"value");d(this,"updatedAt");d(this,"_isRemoved");this.key=n,this.value=e,this.updatedAt=r,this._isRemoved=o}static of(n,e,r,o){return new Ba(n,e,r,o)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}}class Er{constructor(){d(this,"nodeMapByKey");d(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new Er}getNodeMapByKey(){return this.nodeMapByKey}set(n,e,r){const o=this.nodeMapByKey.get(n);if(o&&o.isRemoved()&&r.after(o.getUpdatedAt())&&(this.numberOfRemovedElement-=1),o===void 0||r.after(o.getUpdatedAt())){const c=Ba.of(n,e,r,!1);return this.nodeMapByKey.set(n,c),o!==void 0&&o.isRemoved()?[o,c]:[void 0,c]}return o.isRemoved()?[o,void 0]:[void 0,void 0]}setInternal(n,e,r,o){const c=Ba.of(n,e,r,o);this.nodeMapByKey.set(n,c),o&&this.numberOfRemovedElement++}remove(n,e){const r=this.nodeMapByKey.get(n),o=[];if(r===void 0||e.after(r.getUpdatedAt())){if(r===void 0){this.numberOfRemovedElement+=1;const m=Ba.of(n,"",e,!0);return this.nodeMapByKey.set(n,m),o.push(m),o}const c=r.isRemoved();c||(this.numberOfRemovedElement+=1),c&&o.push(r);const h=Ba.of(n,r.getValue(),e,!0);return this.nodeMapByKey.set(n,h),o.push(h),o}return o}has(n){if(this.nodeMapByKey.has(n)){const e=this.nodeMapByKey.get(n);return e!==void 0&&!e.isRemoved()}return!1}get(n){if(this.nodeMapByKey.has(n))return this.nodeMapByKey.get(n).getValue()}deepcopy(){const n=new Er;for(const[,e]of this.nodeMapByKey)n.setInternal(e.getKey(),e.getValue(),e.getUpdatedAt(),e.isRemoved());return n}toJSON(){if(!this.size())return"{}";const n=[];for(const[e,r]of this.nodeMapByKey)r.isRemoved()||n.push(`"${Zn(e)}":"${Zn(r.getValue())}"`);return`{${n.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const n={};for(const[e,r]of this.nodeMapByKey)r.isRemoved()||(n[e]=r.getValue());return n}*[Symbol.iterator](){for(const[,n]of this.nodeMapByKey)yield n}purge(n){const e=this.nodeMapByKey.get(n.getKey());e==null||e.toIDString()!=n.toIDString()||(this.nodeMapByKey.delete(n.getKey()),this.numberOfRemovedElement--)}}class _l{constructor(n){d(this,"attributes");d(this,"content");this.attributes=Er.create(),this.content=n}static create(n){return new _l(n)}get length(){return this.content.length}substring(n,e){const r=new _l(this.content.substring(n,e));return r.attributes=this.attributes.deepcopy(),r}setAttr(n,e,r){return this.attributes.set(n,e,r)}getAttrs(){return this.attributes}toString(){return this.content}toJSON(){const n=Zn(this.content),e=this.attributes.toObject(),r=[];for(const[o,c]of Object.entries(e)){const h=JSON.parse(c),m=typeof h=="string"?`"${Zn(o)}":"${Zn(h)}"`:`"${Zn(o)}":${String(h)}`;r.push(m)}return r.sort(),r.length===0?`{"val":"${n}"}`:`{"attrs":{${r.join(",")}},"val":"${n}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(n){this.attributes&&n instanceof Ba&&this.attributes.purge(n)}getGCPairs(){const n=[];for(const e of this.attributes)e.getRemovedAt()&&n.push({parent:this,child:e});return n}}class vn extends eo{constructor(e,r){super(r);d(this,"rgaTreeSplit");this.rgaTreeSplit=e}static create(e,r){return new vn(e,r)}edit(e,r,o,c,h,m){const p=r?_l.create(r):void 0;if(p&&c)for(const[z,j]of Object.entries(c))p.setAttr(z,j,o);const[y,b,E,B]=this.rgaTreeSplit.edit(e,o,p,h,m),R=B.map(z=>({...z,value:z.value?{attributes:xs(z.value.getAttributes()),content:z.value.getContent()}:{attributes:void 0,content:""},type:"content"}));return[b,R,E,[y,y]]}setStyle(e,r,o,c,h){const[,m]=this.rgaTreeSplit.findNodeWithSplit(e[1],o),[,p]=this.rgaTreeSplit.findNodeWithSplit(e[0],o),y=[],b=this.rgaTreeSplit.findBetween(p,m),E=new Map,B=[];for(const z of b){const j=z.getCreatedAt().getActorID();let Y,et=0n;if(h===void 0&&c===void 0?et=Vl:h.size()>0?et=h.get(j)?h.get(j):0n:Y=c.has(j)?c.get(j):xn,z.canStyle(o,Y,et)){const _=E.get(j),ut=z.getCreatedAt();(!_||ut.after(_))&&E.set(j,ut),B.push(z)}}const R=[];for(const z of B){if(z.isRemoved())continue;const[j,Y]=this.rgaTreeSplit.findIndexesFromRange(z.createPosRange());y.push({type:"style",actor:o.getActorID(),from:j,to:Y,value:{attributes:xs(r)}});for(const[et,_]of Object.entries(r)){const[ut]=z.getValue().setAttr(et,_,o);ut!==void 0&&R.push({parent:z.getValue(),child:ut})}}return[E,R,y]}indexRangeToPosRange(e,r){const o=this.rgaTreeSplit.indexToPos(e);return e===r?[o,o]:[o,this.rgaTreeSplit.indexToPos(r)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}toJSON(){const e=[];for(const r of this.rgaTreeSplit)r.isRemoved()||e.push(r.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const r of this.rgaTreeSplit)if(!r.isRemoved()){const o=r.getValue();e.push({attributes:xs(o.getAttributes()),content:o.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new vn(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.remove(this.getRemovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}getGCPairs(){const e=[];for(const r of this.rgaTreeSplit){r.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:r});for(const o of r.getValue().getGCPairs())e.push(o)}return e}}class io extends Cn{constructor(e,r,o,c,h,m,p){super(e,p);d(this,"fromPos");d(this,"toPos");d(this,"maxCreatedAtMapByActor");d(this,"content");d(this,"attributes");this.fromPos=r,this.toPos=o,this.maxCreatedAtMapByActor=c,this.content=h,this.attributes=m}static create(e,r,o,c,h,m,p){return new io(e,r,o,c,h,m,p)}execute(e,r,o){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new C(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof vn))throw new C(x.ErrInvalidArgument,"fail to execute, only Text can execute edit");const h=c,[,m,p]=h.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),this.maxCreatedAtMapByActor,o);for(const y of p)e.registerGCPair(y);return{opInfos:m.map(({from:y,to:b,value:E})=>({type:"edit",from:y,to:b,value:E,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),o=this.toPos.toTestString(),c=this.content;return`${e}.EDIT(${r},${o},${c})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class ro extends Cn{constructor(e,r,o,c,h,m){super(e,m);d(this,"fromPos");d(this,"toPos");d(this,"maxCreatedAtMapByActor");d(this,"attributes");this.fromPos=r,this.toPos=o,this.maxCreatedAtMapByActor=c,this.attributes=h}static create(e,r,o,c,h,m){return new ro(e,r,o,c,h,m)}execute(e,r,o){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new C(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof vn))throw new C(x.ErrInvalidArgument,"fail to execute, only Text can execute edit");const h=c,[,m,p]=h.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),this.maxCreatedAtMapByActor,o);for(const y of m)e.registerGCPair(y);return{opInfos:p.map(({from:y,to:b,value:E})=>({type:"style",from:y,to:b,value:E,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),o=this.toPos.toTestString(),c=this.attributes;return`${e}.STYL(${r},${o},${JSON.stringify(c)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}const IA=2,UA="root",Tr="text";function ql(s,n){let e=0;const r=s.children;for(let o=0;o<n;o++){const c=r[o];!c||c.isRemoved||(e+=c.paddedSize)}return e}class zA{constructor(n,e=[]){d(this,"type");d(this,"parent");d(this,"_children");d(this,"size");if(this.type=n,this.size=0,this._children=e,this.isText&&this._children.length>0)throw new C(x.ErrRefused,"Text node cannot have children")}updateAncestorsSize(){let n=this.parent;const e=this.isRemoved?-1:1;for(;n&&(n.size+=this.paddedSize*e,!n.isRemoved);)n=n.parent}updateDescendantsSize(){let n=0;for(const e of this._children){const r=e.updateDescendantsSize();e.isRemoved||(n+=r)}return this.size+=n,this.paddedSize}get isText(){return this.type===Tr}get paddedSize(){return this.size+(this.isText?0:IA)}isAncestorOf(n){return LA(this,n)}get nextSibling(){const n=this.parent.findOffset(this),e=this.parent.children[n+1];if(e)return e}get prevSibling(){const n=this.parent.findOffset(this),e=this.parent.children[n-1];if(e)return e}splitText(n,e){if(n===0||n===this.size)return;const r=this.value.slice(0,n),o=this.value.slice(n);if(!o.length)return;this.value=r;const c=this.cloneText(n+e);return c.value=o,this.parent.insertAfterInternal(c,this),c}get children(){return this._children.filter(n=>!n.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(n=>n.isText)}append(...n){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");this._children.push(...n);for(const e of n)e.parent=this,e.updateAncestorsSize()}prepend(...n){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");this._children.unshift(...n);for(const e of n)e.parent=this}insertBefore(n,e){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(e);if(r===-1)throw new C(x.ErrInvalidArgument,"child not found");this.insertAtInternal(n,r),n.updateAncestorsSize()}insertAfter(n,e){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(e);if(r===-1)throw new C(x.ErrInvalidArgument,"child not found");this.insertAtInternal(n,r+1),n.updateAncestorsSize()}insertAt(n,e){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");this.insertAtInternal(n,e),n.updateAncestorsSize()}removeChild(n){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");const e=this._children.indexOf(n);if(e===-1)throw new C(x.ErrInvalidArgument,"child not found");this._children.splice(e,1),n.parent=void 0}splitElement(n,e){const r=this.cloneElement(e);this.parent.insertAfterInternal(r,this),r.updateAncestorsSize();const o=this.children.slice(0,n),c=this.children.slice(n);this._children=o,r._children=c,this.size=this._children.reduce((h,m)=>h+m.paddedSize,0),r.size=r._children.reduce((h,m)=>h+m.paddedSize,0);for(const h of r._children)h.parent=r;return r}insertAfterInternal(n,e){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(e);if(r===-1)throw new C(x.ErrInvalidArgument,"child not found");this.insertAtInternal(n,r+1)}insertAtInternal(n,e){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");this._children.splice(e,0,n),n.parent=this}findOffset(n){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");if(n.isRemoved){const e=this._children.indexOf(n);return this.allChildren.splice(0,e).filter(o=>!o.isRemoved).length}return this.children.indexOf(n)}findBranchOffset(n){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");let e=n;for(;e;){const r=this._children.indexOf(e);if(r!==-1)return r;e=e.parent}return-1}}function LA(s,n){if(s===n)return!1;for(;n.parent;){if(n.parent===s)return!0;n=n.parent}return!1}var ie=(s=>(s.Start="Start",s.End="End",s.Text="Text",s))(ie||{});function Xv(s,n,e,r){if(n>e)throw new C(x.ErrInvalidArgument,`from is greater than to: ${n} > ${e}`);if(n>s.size)throw new C(x.ErrInvalidArgument,`from is out of range: ${n} > ${s.size}`);if(e>s.size)throw new C(x.ErrInvalidArgument,`to is out of range: ${e} > ${s.size}`);if(n===e)return;let o=0;for(const c of s.children){if(n-c.paddedSize<o&&o<e){const h=c.isText?n-o:n-o-1,m=c.isText?e-o:e-o-1,p=!c.isText&&h<0,y=!c.isText&&m>c.size;(c.isText||p)&&r([c,c.isText?"Text":"Start"],y),Xv(c,Math.max(0,h),Math.min(m,c.size),r),y&&r([c,"End"],y)}o+=c.paddedSize}}function Zv(s,n,e=0){for(const r of s.children)Zv(r,n,e+1);n(s,e)}function oc(s,n,e=0){for(const r of s._children)oc(r,n,e+1);n(s,e)}function ld(s,n,e=!0){if(n>s.size)throw new C(x.ErrInvalidArgument,`index is out of range: ${n} > ${s.size}`);if(s.isText)return{node:s,offset:n};let r=0,o=0;for(const c of s.children){if(e&&c.isText&&c.size>=n-o)return ld(c,n-o,e);if(n===o)return{node:s,offset:r};if(!e&&c.paddedSize===n-o)return{node:s,offset:r+1};if(c.paddedSize>n-o)return ld(c,n-o-1,e);o+=c.paddedSize,r+=1}return{node:s,offset:r}}function Qv(s){return s.isText||s.children.length===0?s:Qv(s.children[0])}function qA(s,n){if(s.size<n)throw new C(x.ErrInvalidArgument,"unacceptable path");for(let e=0;e<s.children.length;e++){const r=s.children[e];if(r.size<n)n-=r.size;else{s=r;break}}return{node:s,offset:n}}class JA{constructor(n){d(this,"root");this.root=n}tokensBetween(n,e,r){Xv(this.root,n,e,r)}traverse(n){Zv(this.root,n,0)}traverseAll(n){oc(this.root,n,0)}findTreePos(n,e=!0){return ld(this.root,n,e)}treePosToPath(n){const e=[];let r=n.node;if(r.isText){const o=r.parent.findOffset(r);if(o===-1)throw new C(x.ErrInvalidArgument,"invalid treePos");const c=ql(r.parent,o);e.push(c+n.offset),r=r.parent}else if(r.hasTextChild()){const o=ql(r,n.offset);e.push(o)}else e.push(n.offset);for(;r.parent;){const o=r.parent.findOffset(r);if(o===-1)throw new C(x.ErrInvalidArgument,"invalid treePos");e.push(o),r=r.parent}return e.reverse()}pathToIndex(n){const e=this.pathToTreePos(n);return this.indexOf(e)}pathToTreePos(n){if(!n.length)throw new C(x.ErrInvalidArgument,"unacceptable path");let e=this.root;for(let r=0;r<n.length-1;r++){const o=n[r];if(e=e.children[o],!e)throw new C(x.ErrInvalidArgument,"unacceptable path")}if(e.hasTextChild())return qA(e,n[n.length-1]);if(e.children.length<n[n.length-1])throw new C(x.ErrInvalidArgument,"unacceptable path");return{node:e,offset:n[n.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(n){const{node:e,offset:r}=n;if(e.isText){if(e.size===r){const o=e.nextSibling;return o||e.parent}return e}return e.children.length===r?e:Qv(e.children[r])}indexOf(n){let{node:e}=n;const{offset:r}=n;let o=0,c=1;if(e.isText){o+=r;const h=e.parent,m=h.findOffset(e);if(m===-1)throw new C(x.ErrInvalidArgument,"invalid pos");o+=ql(h,m),e=e.parent}else o+=ql(e,r);for(;e!=null&&e.parent;){const h=e.parent,m=h.findOffset(e);if(m===-1)throw new C(x.ErrInvalidArgument,"invalid pos");o+=ql(h,m),c++,e=e.parent}return o+c-1}indexToPath(n){const e=this.findTreePos(n);return this.treePosToPath(e)}}const HA=(s,n)=>s===n?0:s<n?-1:1;class jA{constructor(n,e,r){d(this,"key");d(this,"value");d(this,"parent");d(this,"left");d(this,"right");d(this,"isRed");this.key=n,this.value=e,this.isRed=r}}class VA{constructor(n){d(this,"stack");this.stack=[],this.traverseInorder(n)}traverseInorder(n){n&&(this.traverseInorder(n.left),this.stack.push({key:n.key,value:n.value}),this.traverseInorder(n.right))}}class _v{constructor(n){d(this,"root");d(this,"comparator");d(this,"counter");this.comparator=typeof n<"u"?n:HA,this.counter=0}put(n,e){return this.root=this.putInternal(n,e,this.root),this.root.isRed=!1,e}get(n){const e=this.getInternal(n,this.root);return e?e.value:void 0}remove(n){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,n),this.root&&(this.root.isRed=!1)}getIterator(){return new VA(this.root)}values(){const n=[];for(const e of this.getIterator().stack)n.push(e.value);return n}floorEntry(n){let e=this.root;for(;e;){const r=this.comparator(n,e.key);if(r>0)if(e.right)e.right.parent=e,e=e.right;else return e;else if(r<0)if(e.left)e.left.parent=e,e=e.left;else{let o=e.parent,c=e;for(;o&&c===o.left;)c=o,o=o.parent;return o}else return e}}lastEntry(){if(!this.root)return this.root;let n=this.root;for(;n.right;)n=n.right;return n}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(n,e){for(;e;){const r=this.comparator(n,e.key);if(r===0)return e;r<0?e=e.left:r>0&&(e=e.right)}}putInternal(n,e,r){if(!r)return this.counter+=1,new jA(n,e,!0);const o=this.comparator(n,r.key);return o<0?r.left=this.putInternal(n,e,r.left):o>0?r.right=this.putInternal(n,e,r.right):r.value=e,this.isRed(r.right)&&!this.isRed(r.left)&&(r=this.rotateLeft(r)),this.isRed(r.left)&&this.isRed(r.left.left)&&(r=this.rotateRight(r)),this.isRed(r.left)&&this.isRed(r.right)&&this.flipColors(r),r}removeInternal(n,e){if(this.comparator(e,n.key)<0)!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeInternal(n.left,e);else{if(this.isRed(n.left)&&(n=this.rotateRight(n)),this.comparator(e,n.key)===0&&!n.right){this.counter-=1;return}if(!this.isRed(n.right)&&!this.isRed(n.right.left)&&(n=this.moveRedRight(n)),this.comparator(e,n.key)===0){this.counter-=1;const r=this.min(n.right);n.value=r.value,n.key=r.key,n.right=this.removeMin(n.right)}else n.right=this.removeInternal(n.right,e)}return this.fixUp(n)}min(n){return n.left?this.min(n.left):n}removeMin(n){if(n.left)return!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeMin(n.left),this.fixUp(n)}fixUp(n){return this.isRed(n.right)&&(n=this.rotateLeft(n)),this.isRed(n.left)&&this.isRed(n.left.left)&&(n=this.rotateRight(n)),this.isRed(n.left)&&this.isRed(n.right)&&this.flipColors(n),n}moveRedLeft(n){return this.flipColors(n),this.isRed(n.right.left)&&(n.right=this.rotateRight(n.right),n=this.rotateLeft(n),this.flipColors(n)),n}moveRedRight(n){return this.flipColors(n),this.isRed(n.left.left)&&(n=this.rotateRight(n),this.flipColors(n)),n}isRed(n){return n&&n.isRed}rotateLeft(n){const e=n.right;return n.right=e.left,e.left=n,e.isRed=e.left.isRed,e.left.isRed=!0,e}rotateRight(n){const e=n.left;return n.left=e.right,e.right=n,e.isRed=e.right.isRed,e.right.isRed=!0,e}flipColors(n){n.isRed=!n.isRed,n.left.isRed=!n.left.isRed,n.right.isRed=!n.right.isRed}}class Dn{constructor(n,e){d(this,"parentID");d(this,"leftSiblingID");this.parentID=n,this.leftSiblingID=e}static of(n,e){return new Dn(n,e)}static fromTreePos(n){const{offset:e}=n;let{node:r}=n,o;return r.isText?(r.parent.children[0]===r&&e===0?o=r.parent:o=r,r=r.parent):e===0?o=r:o=r.children[e-1],Dn.of(r.id,ye.of(o.getCreatedAt(),o.getOffset()+e))}getParentID(){return this.parentID}static fromStruct(n){return Dn.of(ye.of(pn.fromStruct(n.parentID.createdAt),n.parentID.offset),ye.of(pn.fromStruct(n.leftSiblingID.createdAt),n.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(n){const e=this.getParentID(),r=this.getLeftSiblingID(),o=n.findFloorNode(e);let c=n.findFloorNode(r);if(!o||!c)throw new C(x.ErrRefused,`cannot find node of CRDTTreePos(${e.toTestString()}, ${r.toTestString()})`);return!r.equals(e)&&r.getOffset()>0&&r.getOffset()===c.id.getOffset()&&c.insPrevID&&(c=n.findFloorNode(c.insPrevID)),[o,c]}getLeftSiblingID(){return this.leftSiblingID}equals(n){return this.getParentID().getCreatedAt().equals(n.getParentID().getCreatedAt())&&this.getParentID().getOffset()===n.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(n.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===n.getLeftSiblingID().getOffset()}}class ye{constructor(n,e){d(this,"createdAt");d(this,"offset");this.createdAt=n,this.offset=e}static of(n,e){return new ye(n,e)}static fromStruct(n){return ye.of(pn.fromStruct(n.createdAt),n.offset)}static createComparator(){return(n,e)=>{const r=n.getCreatedAt().compare(e.getCreatedAt());return r!==0?r:n.getOffset()>e.getOffset()?1:n.getOffset()<e.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}getOffset(){return this.offset}setOffset(n){this.offset=n}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class Ve extends zA{constructor(e,r,o,c,h){super(r);d(this,"id");d(this,"removedAt");d(this,"attrs");d(this,"insPrevID");d(this,"insNextID");d(this,"_value","");this.id=e,this.removedAt=h,c&&(this.attrs=c),typeof o=="string"?this.value=o:Array.isArray(o)&&(this._children=o)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,r,o,c){return new Ve(e,r,o,c)}deepcopy(){var r;const e=new Ve(this.id,this.type);return e.removedAt=this.removedAt,e._value=this._value,e.size=this.size,e.attrs=(r=this.attrs)==null?void 0:r.deepcopy(),e._children=this._children.map(o=>{const c=o.deepcopy();return c.parent=e,c}),e.insPrevID=this.insPrevID,e.insNextID=this.insNextID,e}get value(){if(!this.isText)throw new C(x.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new C(x.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=e,this.size=e.length}get isRemoved(){return!!this.removedAt}remove(e){const r=!this.removedAt;(!this.removedAt||this.removedAt.compare(e)>0)&&(this.removedAt=e),r&&this.updateAncestorsSize()}cloneText(e){return new Ve(ye.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new Ve(ye.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,r,o){const c=this.isText?this.splitText(r,this.id.getOffset()):this.splitElement(r,o);if(c){if(c.insPrevID=this.id,this.insNextID){const h=e.findFloorNode(this.insNextID);h.insPrevID=c.id,c.insNextID=this.insNextID}this.insNextID=c.id,e.registerNode(c)}return c}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,r,o){return(r?!this.getCreatedAt().after(r):this.getCreatedAt().getLamport()<=o)&&(!this.removedAt||e.after(this.removedAt))}canStyle(e,r,o){return this.isText?!1:(r?!this.getCreatedAt().after(r):this.getCreatedAt().getLamport()<=o)&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,r){this.attrs||(this.attrs=new Er);const o=[];for(const[c,h]of Object.entries(e))o.push(this.attrs.set(c,h,r));return o}purge(e){this.attrs&&this.attrs.purge(e)}getGCPairs(){const e=[];if(!this.attrs)return e;for(const r of this.attrs)r.getRemovedAt()&&e.push({parent:this,child:r});return e}}function od(s){var e;if(s.isText){const r=s;return{type:r.type,value:r.value}}const n={type:s.type,children:s.children.map(od)};return s.attrs&&(n.attributes=xs((e=s.attrs)==null?void 0:e.toObject())),n}function pd(s){if(s.isText)return s.value;let n="";return s.attrs&&s.attrs.size()&&(n=" "+Array.from(s.attrs).filter(e=>!e.isRemoved()).sort((e,r)=>e.getKey().localeCompare(r.getKey())).map(e=>{const r=JSON.parse(e.getValue());return typeof r=="string"?`${e.getKey()}="${r}"`:`${e.getKey()}="${Zn(e.getValue())}"`}).join(" ")),`<${s.type}${n}>${s.children.map(e=>pd(e)).join("")}</${s.type}>`}function Wv(s){if(s.isText){const n=s;return{type:n.type,value:n.value,size:n.size,isRemoved:n.isRemoved}}return{type:s.type,children:s.children.map(Wv),size:s.size,isRemoved:s.isRemoved}}class Sn extends eo{constructor(e,r){super(r);d(this,"indexTree");d(this,"nodeMapByID");this.indexTree=new JA(e),this.nodeMapByID=new _v(ye.createComparator()),this.indexTree.traverseAll(o=>{this.nodeMapByID.put(o.id,o)})}static create(e,r){return new Sn(e,r)}findFloorNode(e){const r=this.nodeMapByID.floorEntry(e);if(!(!r||!r.key.getCreatedAt().equals(e.getCreatedAt())))return r.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,r){const[o,c]=e.toTreeNodePair(this);let h=c;const m=o===h,p=h.parent&&!m?h.parent:o;if(h.isText&&h.split(this,e.getLeftSiblingID().getOffset()-h.id.getOffset()),r){const y=p.allChildren,b=m?0:y.indexOf(h)+1;for(let E=b;E<y.length;E++){const B=y[E];if(!B.id.getCreatedAt().after(r))break;h=B}}return[p,h]}style(e,r,o,c,h){const[m,p]=this.findNodesAndSplitText(e[0],o),[y,b]=this.findNodesAndSplitText(e[1],o),E=[],B=r?xs(r):{},R=new Map,z=[];return this.traverseInPosRange(m,p,y,b,([j])=>{const Y=j.getCreatedAt().getActorID();let et,_=0n;if(h===void 0&&c===void 0?_=Vl:h.size()>0?_=h.get(Y)?h.get(Y):0n:et=c.has(Y)?c.get(Y):xn,j.canStyle(o,et,_)&&r){const ut=R.get(Y),gt=j.getCreatedAt();(!ut||gt.after(ut))&&R.set(Y,gt);const P=j.setAttrs(r,o),ct=P.reduce(($,[,ht])=>(ht&&($[ht.getKey()]=B[ht.getKey()]),$),{}),vt=j.parent,xt=j.prevSibling||j.parent;Object.keys(ct).length>0&&E.push({type:"style",from:this.toIndex(vt,xt),to:this.toIndex(j,j),fromPath:this.toPath(vt,xt),toPath:this.toPath(j,j),actor:o.getActorID(),value:ct});for(const[$]of P)$&&z.push({parent:j,child:$})}}),[R,z,E]}removeStyle(e,r,o,c,h){const[m,p]=this.findNodesAndSplitText(e[0],o),[y,b]=this.findNodesAndSplitText(e[1],o),E=[],B=new Map,R=[];return this.traverseInPosRange(m,p,y,b,([z])=>{const j=z.getCreatedAt().getActorID();let Y,et=0n;if(h===void 0&&c===void 0?et=Vl:h.size()>0?et=h.get(j)?h.get(j):0n:Y=c.has(j)?c.get(j):xn,z.canStyle(o,Y,et)&&r){const _=B.get(j),ut=z.getCreatedAt();(!_||ut.after(_))&&B.set(j,ut),z.attrs||(z.attrs=new Er);for(const ct of r){const vt=z.attrs.remove(ct,o);for(const xt of vt)R.push({parent:z,child:xt})}const gt=z.parent,P=z.prevSibling||z.parent;E.push({actor:o.getActorID(),type:"removeStyle",from:this.toIndex(gt,P),to:this.toIndex(z,z),fromPath:this.toPath(gt,P),toPath:this.toPath(z,z),value:r})}}),[B,R,E]}edit(e,r,o,c,h,m,p){const[y,b]=this.findNodesAndSplitText(e[0],c),[E,B]=this.findNodesAndSplitText(e[1],c),R=this.toIndex(y,b),z=this.toPath(y,b),j=[],Y=[],et=[],_=new Map;this.traverseInPosRange(y,b,E,B,([P,ct],vt)=>{if(ct===ie.Start&&!vt)for(const re of P.children)et.push(re);const xt=P.getCreatedAt().getActorID();let $,ht=0n;if(p===void 0&&m===void 0?ht=Vl:p.size()>0?ht=p.get(xt)?p.get(xt):0n:$=m.has(xt)?m.get(xt):xn,P.canDelete(c,$,ht)||j.includes(P.parent)){const re=_.get(xt),Ye=P.getCreatedAt();(!re||Ye.after(re))&&_.set(xt,Ye),(ct===ie.Text||ct===ie.Start)&&j.push(P),Y.push([P,ct])}});const ut=this.makeDeletionChanges(Y,c),gt=[];for(const P of j)P.remove(c),P.isRemoved&&gt.push({parent:this,child:P});for(const P of et)P.removedAt||y.append(P);if(o>0){let P=0,ct=y,vt=b;for(;P<o;)ct.split(this,ct.findOffset(vt)+1,h),vt=ct,ct=ct.parent,P++;ut.push({type:"content",from:R,to:R,fromPath:z,toPath:z,actor:c.getActorID()})}if(r!=null&&r.length){const P=[];let ct=b;for(const vt of r)ct===y?y.insertAt(vt,0):y.insertAfter(vt,ct),ct=vt,oc(vt,xt=>{y.isRemoved&&(xt.remove(c),gt.push({parent:this,child:xt})),this.nodeMapByID.put(xt.id,xt)}),vt.isRemoved||P.push(vt);if(P.length){const vt=P.map(xt=>od(xt));ut.length&&ut[ut.length-1].from===R?ut[ut.length-1].value=vt:ut.push({type:"content",from:R,to:R,fromPath:z,toPath:z,actor:c.getActorID(),value:vt})}}return[ut,gt,_]}editT(e,r,o,c,h){const m=this.findPos(e[0]),p=this.findPos(e[1]);this.edit([m,p],r,o,c,h)}move(e,r,o){throw new C(x.ErrUnimplemented,`not implemented: ${e}, ${r}, ${o}`)}purge(e){var c;(c=e.parent)==null||c.removeChild(e),this.nodeMapByID.remove(e.id);const r=e.insPrevID,o=e.insNextID;if(r){const h=this.findFloorNode(r);h.insNextID=o}if(o){const h=this.findFloorNode(o);h.insPrevID=r}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(r=>{r.getRemovedAt()&&e.push({parent:this,child:r});for(const o of r.getGCPairs())e.push(o)}),e}findPos(e,r=!0){const o=this.indexTree.findTreePos(e,r);return Dn.fromTreePos(o)}pathToPosRange(e){const r=this.pathToIndex(e);return[this.findPos(r),this.findPos(r+1)]}pathToPos(e){const r=this.indexTree.pathToIndex(e);return this.findPos(r)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return pd(this.indexTree.getRoot())}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),r=(o,c=void 0,h=void 0,m=0)=>{var R,z,j,Y;let p,y,b;const E=o.isText?{node:o,offset:0}:c&&h?this.toTreePos(c,h):null;E&&(p=this.indexTree.indexOf(E),y=this.indexTree.treePosToPath(E),b=Dn.fromTreePos(E).toStruct());const B={type:o.type,parent:c==null?void 0:c.id.toTestString(),size:o.size,id:o.id.toTestString(),removedAt:(R=o.removedAt)==null?void 0:R.toTestString(),insPrev:(z=o.insPrevID)==null?void 0:z.toTestString(),insNext:(j=o.insNextID)==null?void 0:j.toTestString(),value:o.isText?o.value:void 0,isRemoved:o.isRemoved,children:[],depth:m,attributes:o.attrs?xs((Y=o.attrs)==null?void 0:Y.toObject()):void 0,index:p,path:y,pos:b};for(let et=0;et<o.allChildren.length;et++){const _=et===0?o:o.allChildren[et-1];B.children.push(r(o.allChildren[et],o,_,m+1))}return B};return r(e)}getRootTreeNode(){return od(this.indexTree.getRoot())}toTestTreeNode(){return Wv(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot();return new Sn(e.deepcopy(),this.getCreatedAt())}toPath(e,r){const o=this.toTreePos(e,r);return o?this.indexTree.treePosToPath(o):[]}toIndex(e,r){const o=this.toTreePos(e,r);return o?this.indexTree.indexOf(o):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const r=this.findPos(e[0]);return e[0]===e[1]?[r,r]:[r,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[r,o]=e,c=this.findPos(r);return r===o?[c.toStruct(),c.toStruct()]:[c.toStruct(),this.findPos(o).toStruct()]}posRangeToPathRange(e){const[r,o]=this.findNodesAndSplitText(e[0]),[c,h]=this.findNodesAndSplitText(e[1]);return[this.toPath(r,o),this.toPath(c,h)]}posRangeToIndexRange(e){const[r,o]=this.findNodesAndSplitText(e[0]),[c,h]=this.findNodesAndSplitText(e[1]);return[this.toIndex(r,o),this.toIndex(c,h)]}traverseInPosRange(e,r,o,c,h){const m=this.toIndex(e,r),p=this.toIndex(o,c);return this.indexTree.tokensBetween(m,p,h)}toTreePos(e,r){if(!e||!r)return;if(e.isRemoved){let c;for(;e.isRemoved;)c=e,e=c.parent;const h=e.findOffset(c);return{node:e,offset:h}}if(e===r)return{node:e,offset:0};let o=e.findOffset(r);if(!r.isRemoved){if(r.isText)return{node:r,offset:r.paddedSize};o++}return{node:e,offset:o}}makeDeletionChanges(e,r){const o=[],c=[];let h=null,m=null;for(let p=0;p<e.length;p++){const y=e[p],b=e[p+1];h||(h=y),m=y;const E=this.findRightToken(y);(!E||!b||E[0]!==b[0]||E[1]!==b[1])&&(c.push([h,m]),h=null,m=null)}for(const p of c){const[y,b]=p,[E,B]=this.findLeftToken(y),[R,z]=b,j=B===ie.Start?E:E.parent,Y=z===ie.Start?R:R.parent,et=this.toIndex(j,E),_=this.toIndex(Y,R);et<_&&(o.length>0&&et===o[o.length-1].to?(o[o.length-1].to=_,o[o.length-1].toPath=this.toPath(Y,R)):o.push({type:"content",from:et,to:_,fromPath:this.toPath(j,E),toPath:this.toPath(Y,R),actor:r.getActorID()}))}return o.reverse()}findRightToken([e,r]){if(r===ie.Start){const p=e.allChildren;return p.length>0?[p[0],p[0].isText?ie.Text:ie.Start]:[e,ie.End]}const o=e.parent,c=o.allChildren,h=c.indexOf(e);if(o&&h===c.length-1)return[o,ie.End];const m=c[h+1];return[m,m.isText?ie.Text:ie.Start]}findLeftToken([e,r]){if(r===ie.End){const p=e.allChildren;if(p.length>0){const y=p[p.length-1];return[y,y.isText?ie.Text:ie.End]}return[e,ie.Start]}const o=e.parent,c=o.allChildren,h=c.indexOf(e);if(o&&h===0)return[o,ie.Start];const m=c[h-1];return[m,m.isText?ie.Text:ie.End]}}class ao extends Cn{constructor(e,r,o,c,h,m,p){super(e,p);d(this,"fromPos");d(this,"toPos");d(this,"contents");d(this,"splitLevel");d(this,"maxCreatedAtMapByActor");this.fromPos=r,this.toPos=o,this.contents=c,this.splitLevel=h,this.maxCreatedAtMapByActor=m}static create(e,r,o,c,h,m,p){return new ao(e,r,o,c,h,m,p)}execute(e,r,o){var b;const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new C(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Sn))throw new C(x.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const h=this.getExecutedAt(),m=c,[p,y]=m.edit([this.fromPos,this.toPos],(b=this.contents)==null?void 0:b.map(E=>E.deepcopy()),this.splitLevel,h,(()=>{let E=h.getDelimiter();return this.contents!==void 0&&(E+=this.contents.length),()=>pn.of(h.getLamport(),++E,h.getActorID())})(),this.maxCreatedAtMapByActor,o);for(const E of y)e.registerGCPair(E);return{opInfos:p.map(({from:E,to:B,value:R,splitLevel:z,fromPath:j,toPath:Y})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:E,to:B,value:R,splitLevel:z,fromPath:j,toPath:Y}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,o=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,c=this.contents||[];return`${e}.EDIT(${r},${o},${c.map(h=>pd(h)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}class Os{constructor(n){d(this,"vector");this.vector=n||new Map}set(n,e){this.vector.set(n,e)}unset(n){this.vector.delete(n)}get(n){return this.vector.get(n)}maxLamport(){let n=BigInt(0);for(const[,e]of this)e>n&&(n=e);return n}max(n){const e=new Map;for(const[r,o]of n){const c=this.vector.get(r),h=c&&c>o?c:o;e.set(r,h)}for(const[r,o]of this){const c=n.get(r),h=c&&c>o?c:o;e.set(r,h)}return new Os(e)}afterOrEqual(n){const e=this.vector.get(n.getActorID());return e===void 0?!1:e>=n.getLamport()}deepcopy(){const n=new Map;for(const[e,r]of this.vector)n.set(e,r);return new Os(n)}filter(n){const e=new Map;for(const[r]of n){const o=this.vector.get(r);o!==void 0&&e.set(r,o)}return new Os(e)}size(){return this.vector.size}*[Symbol.iterator](){for(const[n,e]of this.vector)yield[n,e]}}const PA=new Os(new Map);class yr{constructor(n,e,r,o,c){d(this,"clientSeq");d(this,"serverSeq");d(this,"lamport");d(this,"actor");d(this,"versionVector");this.clientSeq=n,this.serverSeq=c,this.lamport=e,this.versionVector=o,this.actor=r}static of(n,e,r,o,c){return new yr(n,e,r,o,c)}next(){const n=this.versionVector.deepcopy();return n.set(this.actor,this.lamport+1n),new yr(this.clientSeq+1,this.lamport+1n,this.actor,n)}syncClocks(n){const e=n.lamport>this.lamport?n.lamport+1n:this.lamport+1n;let r=n.versionVector;r.size()===0&&(r=r.deepcopy(),r.set(n.actor,n.lamport));const o=this.versionVector.max(r),c=new yr(this.clientSeq,e,this.actor,o);return c.versionVector.set(this.actor,e),c}setClocks(n,e){const r=n>this.lamport?n+1n:this.lamport+1n;e.unset(lc);const o=this.versionVector.max(e);return o.set(this.actor,r),yr.of(this.clientSeq,r,this.actor,o)}createTimeTicket(n){return pn.of(this.lamport,n,this.actor)}setActor(n){return new yr(this.clientSeq,this.lamport,n,this.versionVector,this.serverSeq)}setVersionVector(n){return new yr(this.clientSeq,this.lamport,this.actor,n,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const GA=new yr(0,0n,lc,PA);class Us{constructor({id:n,operations:e,presenceChange:r,message:o}){d(this,"id");d(this,"operations");d(this,"presenceChange");d(this,"message");this.id=n,this.operations=e||[],this.presenceChange=r,this.message=o}static create({id:n,operations:e,presenceChange:r,message:o}){return new Us({id:n,operations:e,presenceChange:r,message:o})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(n){for(const e of this.operations)e.setActor(n);this.id=this.id.setActor(n)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(n,e,r){const o=[],c=[];for(const h of this.operations){const m=h.execute(n,r,this.id.getVersionVector());if(!m)continue;const{opInfos:p,reverseOp:y}=m;o.push(...p),y&&c.unshift(y)}return this.presenceChange&&(this.presenceChange.type===aa.Put?e.set(this.id.getActorID(),En(this.presenceChange.presence)):e.delete(this.id.getActorID())),{opInfos:o,reverseOps:c}}toTestString(){return`${this.operations.map(n=>n.toTestString()).join(",")}`}toStruct(){return{changeID:Qt.bytesToHex(Qt.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(n=>Qt.bytesToHex(Qt.toOperation(n).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(n){const{changeID:e,operations:r,presenceChange:o,message:c}=n;return Us.create({id:Qt.bytesToChangeID(Qt.hexToBytes(e)),operations:r==null?void 0:r.map(h=>Qt.bytesToOperation(Qt.hexToBytes(h))),presenceChange:o,message:c})}}class uc{constructor(n,e,r,o,c,h,m){d(this,"documentKey");d(this,"checkpoint");d(this,"isRemoved");d(this,"changes");d(this,"snapshot");d(this,"minSyncedTicket");d(this,"versionVector");this.documentKey=n,this.checkpoint=e,this.isRemoved=r,this.changes=o,this.snapshot=h,this.minSyncedTicket=m,this.versionVector=c}static create(n,e,r,o,c,h,m){return new uc(n,e,r,o,c,h,m)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getMinSyncedTicket(){return this.minSyncedTicket}getVersionVector(){return this.versionVector}}class Cs{constructor(n,e){d(this,"serverSeq");d(this,"clientSeq");this.serverSeq=n,this.clientSeq=e}static of(n,e){return new Cs(n,e)}increaseClientSeq(n){return n===0?this:new Cs(this.serverSeq,this.clientSeq+n)}forward(n){if(this.equals(n))return this;const e=this.serverSeq>n.serverSeq?this.serverSeq:n.serverSeq,r=Math.max(this.clientSeq,n.clientSeq);return Cs.of(e,r)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(n){return this.clientSeq===n.clientSeq&&this.serverSeq==n.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const YA=new Cs(0n,0);class Qn{constructor(n,e){d(this,"createdAt");d(this,"offset");this.createdAt=n,this.offset=e}static of(n,e){return new Qn(n,e)}static fromStruct(n){return Qn.of(pn.fromStruct(n.createdAt),n.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}hasSameCreatedAt(n){return this.createdAt.compare(n.createdAt)===0}split(n){return new Qn(this.createdAt,this.offset+n)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const FA=Qn.of(xn,0);class On{constructor(n,e){d(this,"id");d(this,"relativeOffset");this.id=n,this.relativeOffset=e}static of(n,e){return new On(n,e)}static fromStruct(n){const e=Qn.fromStruct(n.id);return On.of(e,n.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Qn.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(n){return this.id.equals(n.id)?this.relativeOffset===n.relativeOffset:!1}}class ia extends Gv{constructor(e,r,o){super(r);d(this,"id");d(this,"removedAt");d(this,"prev");d(this,"next");d(this,"insPrev");d(this,"insNext");this.id=e,this.removedAt=o}static create(e,r){return new ia(e,r)}static createComparator(){return(e,r)=>{const o=e.getCreatedAt().compare(r.getCreatedAt());return o!==0?o:e.getOffset()>r.getOffset()?1:e.getOffset()<r.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new ia(this.id.split(e),this.splitValue(e),this.removedAt)}canDelete(e,r,o){const c=!this.removedAt;return(r?!this.getCreatedAt().after(r):this.getCreatedAt().getLamport()<=o)&&(!this.removedAt||e.after(this.removedAt))?c:!1}canStyle(e,r,o){return(r?!this.getCreatedAt().after(r):this.getCreatedAt().getLamport()<=o)&&(!this.removedAt||e.after(this.removedAt))}remove(e){this.removedAt=e}createPosRange(){return[On.of(this.id,0),On.of(this.id,this.getLength())]}deepcopy(){return new ia(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const r=this.value;return this.value=r.substring(0,e),r.substring(e,r.length)}toIDString(){return this.id.toIDString()}}class zs{constructor(){d(this,"head");d(this,"treeByIndex");d(this,"treeByID");this.head=ia.create(FA),this.treeByIndex=new Zl,this.treeByID=new _v(ia.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new zs}edit(n,e,r,o,c){const[h,m]=this.findNodeWithSplit(n[1],e),[p,y]=this.findNodeWithSplit(n[0],e),b=this.findBetween(y,m),[E,B,R]=this.deleteNodes(b,e,o,c),z=m?m.getID():h.getID();let j=On.of(z,0);if(r){const et=this.posToIndex(p.createPosRange()[1],!0),_=this.insertAfter(p,ia.create(Qn.of(e,0),r));E.length&&E[E.length-1].from===et?E[E.length-1].value=r:E.push({actor:e.getActorID(),from:et,to:et,value:r}),j=On.of(_.getID(),_.getContentLength())}const Y=[];for(const[,et]of R)Y.push({parent:this,child:et});return[j,B,Y,E]}indexToPos(n){const[e,r]=this.treeByIndex.find(n),o=e;return On.of(o.getID(),r)}findIndexesFromRange(n){const[e,r]=n;return[this.posToIndex(e,!1),this.posToIndex(r,!0)]}posToIndex(n,e){const r=n.getAbsoluteID(),o=e?this.findFloorNodePreferToLeft(r):this.findFloorNode(r);if(!o)throw new C(x.ErrInvalidArgument,`the node of the given id should be found: ${r.toTestString()}`);const c=this.treeByIndex.indexOf(o),h=o.isRemoved()?0:r.getOffset()-o.getID().getOffset();return c+h}findNode(n){return this.findFloorNode(n)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const n=[];for(const e of this)e.isRemoved()||n.push(e.getValue());return n.join("")}*[Symbol.iterator](){let n=this.head.getNext();for(;n;)yield n,n=n.getNext()}getHead(){return this.head}deepcopy(){const n=new zs;let e=this.head.getNext(),r=n.head,o;for(;e;){if(o=n.insertAfter(r,e.deepcopy()),e.hasInsPrev()){const c=n.findNode(e.getInsPrevID());o.setInsPrev(c)}r=o,e=e.getNext()}return n}toTestString(){const n=[];let e=this.head;for(;e;)e.isRemoved()?n.push(`{${e.toTestString()}}`):n.push(`[${e.toTestString()}]`),e=e.getNext();return n.join("")}insertAfter(n,e){const r=n.getNext();return e.setPrev(n),r&&r.setPrev(e),this.treeByID.put(e.getID(),e),this.treeByIndex.insertAfter(n,e),e}findNodeWithSplit(n,e){const r=n.getAbsoluteID();let o=this.findFloorNodePreferToLeft(r);const c=r.getOffset()-o.getID().getOffset();for(this.splitNode(o,c);o.hasNext()&&o.getNext().getCreatedAt().after(e);)o=o.getNext();return[o,o.getNext()]}findFloorNodePreferToLeft(n){let e=this.findFloorNode(n);if(!e)throw new C(x.ErrInvalidArgument,`the node of the given id should be found: ${n.toTestString()}`);if(n.getOffset()>0&&e.getID().getOffset()==n.getOffset()){if(!e.hasInsPrev())return e;e=e.getInsPrev()}return e}findFloorNode(n){const e=this.treeByID.floorEntry(n);if(e&&!(!e.key.equals(n)&&!e.key.hasSameCreatedAt(n)))return e.value}findBetween(n,e){const r=[];let o=n;for(;o&&o!==e;)r.push(o),o=o.getNext();return r}splitNode(n,e){if(e>n.getContentLength())throw new C(x.ErrInvalidArgument,"offset should be less than or equal to length");if(e===0)return n;if(e===n.getContentLength())return n.getNext();const r=n.split(e);this.treeByIndex.updateWeight(r),this.insertAfter(n,r);const o=n.getInsNext();return o&&o.setInsPrev(r),r.setInsPrev(n),r}deleteNodes(n,e,r,o){if(!n.length)return[[],new Map,new Map];const[c,h]=this.filterNodes(n,e,r,o),m=new Map,p=new Map,y=this.makeChanges(h,e);for(const b of c){const E=b.getCreatedAt().getActorID();(!m.has(E)||b.getID().getCreatedAt().after(m.get(E)))&&m.set(E,b.getID().getCreatedAt()),p.set(b.getID().toIDString(),b),b.remove(e)}return this.deleteIndexNodes(h),[y,m,p]}filterNodes(n,e,r,o){const c=[],h=[],[m,p]=this.findEdgesOfCandidates(n);h.push(m);for(const y of n){const b=y.getCreatedAt().getActorID();let E,B=0n;o===void 0&&r===void 0?B=Vl:o.size()>0?B=o.get(b)?o.get(b):0n:E=r.has(b)?r.get(b):xn,y.canDelete(e,E,B)?c.push(y):h.push(y)}return h.push(p),[c,h]}findEdgesOfCandidates(n){return[n[0].getPrev(),n[n.length-1].getNext()]}makeChanges(n,e){const r=[];let o,c;for(let h=0;h<n.length-1;h++){const m=n[h],p=n[h+1];m.getNext()!=p&&([o]=this.findIndexesFromRange(m.getNext().createPosRange()),p?[,c]=this.findIndexesFromRange(p.getPrev().createPosRange()):c=this.treeByIndex.length,o<c&&r.push({actor:e.getActorID(),from:o,to:c}))}return r.reverse()}deleteIndexNodes(n){for(let e=0;e<n.length-1;e++){const r=n[e],o=n[e+1];r.getNext()!=o&&this.treeByIndex.deleteRange(r,o)}}purge(n){this.treeByIndex.delete(n),this.treeByID.remove(n.getID());const e=n.getPrev(),r=n.getNext(),o=n.getInsPrev(),c=n.getInsNext();e&&e.setNext(r),r&&r.setPrev(e),n.setPrev(void 0),n.setNext(void 0),o&&o.setInsNext(c),c&&c.setInsPrev(o),n.setInsPrev(void 0),n.setInsNext(void 0)}}const lv=s=>s<0?Math.ceil(s):Math.floor(s);var _n=(s=>(s[s.IntegerCnt=0]="IntegerCnt",s[s.LongCnt=1]="LongCnt",s))(_n||{});class Ge extends eo{constructor(e,r,o){super(o);d(this,"valueType");d(this,"value");switch(this.valueType=e,e){case 0:typeof r=="number"?r>Math.pow(2,31)-1||r<-Math.pow(2,31)?this.value=wt.fromNumber(r).toInt():this.value=lv(r):this.value=r.toInt();break;case 1:typeof r=="number"?this.value=wt.fromNumber(r):this.value=r;break;default:throw new C(x.ErrUnimplemented,`unimplemented type: ${e}`)}}static create(e,r,o){return new Ge(e,r,o)}static valueFromBytes(e,r){switch(e){case 0:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 1:return wt.fromBytesLE(Array.from(r));default:throw new C(x.ErrUnimplemented,`unimplemented type: ${e}`)}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=Ge.create(this.valueType,this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof wt?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!Ge.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const r=this.value.toBytesLE();return Uint8Array.from(r)}default:throw new C(x.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function r(o){if(!o.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof o.getValue()}`)}return r(this),r(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===le.Long?this.value=this.value+e.getValue().toInt():this.value=wt.fromNumber(this.value+lv(e.getValue())).toInt(),this}}class Ls extends Cn{constructor(e,r,o){super(e,o);d(this,"value");this.value=r}static create(e,r,o){return new Ls(e,r,o)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new C(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Ge))throw new C(x.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const o=r,c=this.value.deepcopy();return o.increase(c),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:c.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),o=e.getType()===le.Long?e.getValue().multiply(-1):e.getValue()*-1;return Ls.create(this.getParentCreatedAt(),$t.of(o,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class Ar extends Cn{constructor(e,r,o,c,h,m,p){super(e,p);d(this,"fromPos");d(this,"toPos");d(this,"maxCreatedAtMapByActor");d(this,"attributes");d(this,"attributesToRemove");this.fromPos=r,this.toPos=o,this.maxCreatedAtMapByActor=c,this.attributes=h,this.attributesToRemove=m}static create(e,r,o,c,h,m){return new Ar(e,r,o,c,h,[],m)}static createTreeRemoveStyleOperation(e,r,o,c,h,m){return new Ar(e,r,o,c,new Map,h,m)}execute(e,r,o){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new C(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof Sn))throw new C(x.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const h=c;let m,p;if(this.attributes.size){const y={};[...this.attributes].forEach(([b,E])=>y[b]=E),[,p,m]=h.style([this.fromPos,this.toPos],y,this.getExecutedAt(),this.maxCreatedAtMapByActor,o)}else{const y=this.attributesToRemove;[,p,m]=h.removeStyle([this.fromPos,this.toPos],y,this.getExecutedAt(),this.maxCreatedAtMapByActor,o)}for(const y of p)e.registerGCPair(y);return{opInfos:m.map(({from:y,to:b,value:E,fromPath:B,toPath:R})=>({type:"tree-style",from:y,to:b,value:this.attributes.size?{attributes:E}:{attributesToRemove:E},fromPath:B,toPath:R,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,o=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${r},${o},${Object.entries(this.attributes||{}).map(([c,h])=>`${c}:"${h}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}getMaxCreatedAtMapByActor(){return this.maxCreatedAtMapByActor}}function KA(s){const n=new gd,e=n.data;for(const[r,o]of Object.entries(s))e[r]=JSON.stringify(o);return n}function $A(s){if(s.type===aa.Put)return new $l({type:za.PUT,presence:KA(s.presence)});if(s.type===aa.Clear)return new $l({type:za.CLEAR});throw new C(x.ErrUnimplemented,"unimplemented type")}function XA(s){return new jv({serverSeq:s.getServerSeq(),clientSeq:s.getClientSeq()})}function t0(s){return new ac({clientSeq:s.getClientSeq(),lamport:s.getLamport(),actorId:Od(s.getActorID()),versionVector:vd(s.getVersionVector())})}function Q(s){if(s)return new X({lamport:s.getLamport(),delimiter:s.getDelimiter(),actorId:Od(s.getActorID())})}function vd(s){if(!s)return;const n=new sc;for(const[e,r]of s)n.vector[e]=BigInt(r.toString());return n}function e0(s){switch(s){case le.Null:return ot.NULL;case le.Boolean:return ot.BOOLEAN;case le.Integer:return ot.INTEGER;case le.Long:return ot.LONG;case le.Double:return ot.DOUBLE;case le.String:return ot.STRING;case le.Bytes:return ot.BYTES;case le.Date:return ot.DATE;default:throw new C(x.ErrInvalidType,`unsupported type: ${s}`)}}function n0(s){switch(s){case _n.IntegerCnt:return ot.INTEGER_CNT;case _n.LongCnt:return ot.LONG_CNT;default:throw new C(x.ErrInvalidType,`unsupported type: ${s}`)}}function Bh(s){if(s instanceof Be)return new an({type:ot.JSON_OBJECT,createdAt:Q(s.getCreatedAt()),value:m0(s)});if(s instanceof Pe)return new an({type:ot.JSON_ARRAY,createdAt:Q(s.getCreatedAt()),value:D1(s)});if(s instanceof vn)return new an({type:ot.TEXT,createdAt:Q(s.getCreatedAt())});if(s instanceof $t)return new an({type:e0(s.getType()),createdAt:Q(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Ge)return new an({type:n0(s.getType()),createdAt:Q(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Sn)return new an({type:ot.TREE,createdAt:Q(s.getCreatedAt()),value:O1(s)});throw new C(x.ErrUnimplemented,"unimplemented element")}function ZA(s){return new Fl({createdAt:Q(s.getCreatedAt()),offset:s.getOffset()})}function Au(s){return new wr({createdAt:Q(s.getID().getCreatedAt()),offset:s.getID().getOffset(),relativeOffset:s.getRelativeOffset()})}function wu(s){return new Ua({parentId:Pl(s.getParentID()),leftSiblingId:Pl(s.getLeftSiblingID())})}function Pl(s){return new ea({createdAt:Q(s.getCreatedAt()),offset:s.getOffset()})}function i0(s){const n=new dd;if(s instanceof La){const e=s,r=new zu;r.parentCreatedAt=Q(e.getParentCreatedAt()),r.key=e.getKey(),r.value=Bh(e.getValue()),r.executedAt=Q(e.getExecutedAt()),n.body.case="set",n.body.value=r}else if(s instanceof no){const e=s,r=new Lu;r.parentCreatedAt=Q(e.getParentCreatedAt()),r.prevCreatedAt=Q(e.getPrevCreatedAt()),r.value=Bh(e.getValue()),r.executedAt=Q(e.getExecutedAt()),n.body.case="add",n.body.value=r}else if(s instanceof ta){const e=s,r=new qu;r.parentCreatedAt=Q(e.getParentCreatedAt()),r.prevCreatedAt=Q(e.getPrevCreatedAt()),r.createdAt=Q(e.getCreatedAt()),r.executedAt=Q(e.getExecutedAt()),n.body.case="move",n.body.value=r}else if(s instanceof sa){const e=s,r=new Ju;r.parentCreatedAt=Q(e.getParentCreatedAt()),r.createdAt=Q(e.getCreatedAt()),r.executedAt=Q(e.getExecutedAt()),n.body.case="remove",n.body.value=r}else if(s instanceof io){const e=s,r=new Hu;r.parentCreatedAt=Q(e.getParentCreatedAt()),r.from=Au(e.getFromPos()),r.to=Au(e.getToPos());const o=r.createdAtMapByActor;for(const[h,m]of e.getMaxCreatedAtMapByActor())o[h]=Q(m);r.content=e.getContent();const c=r.attributes;for(const[h,m]of e.getAttributes())c[h]=m;r.executedAt=Q(e.getExecutedAt()),n.body.case="edit",n.body.value=r}else if(s instanceof ro){const e=s,r=new ju;r.parentCreatedAt=Q(e.getParentCreatedAt()),r.from=Au(e.getFromPos()),r.to=Au(e.getToPos());const o=r.createdAtMapByActor;for(const[h,m]of e.getMaxCreatedAtMapByActor())o[h]=Q(m);const c=r.attributes;for(const[h,m]of e.getAttributes())c[h]=m;r.executedAt=Q(e.getExecutedAt()),n.body.case="style",n.body.value=r}else if(s instanceof Ls){const e=s,r=new Vu;r.parentCreatedAt=Q(e.getParentCreatedAt()),r.value=Bh(e.getValue()),r.executedAt=Q(e.getExecutedAt()),n.body.case="increase",n.body.value=r}else if(s instanceof ao){const e=s,r=new Pu,o=r.createdAtMapByActor;for(const[c,h]of e.getMaxCreatedAtMapByActor())o[c]=Q(h);r.parentCreatedAt=Q(e.getParentCreatedAt()),r.from=wu(e.getFromPos()),r.to=wu(e.getToPos()),r.contents=i1(e.getContents()),r.splitLevel=e.getSplitLevel(),r.executedAt=Q(e.getExecutedAt()),n.body.case="treeEdit",n.body.value=r}else if(s instanceof Ar){const e=s,r=new Gu;r.parentCreatedAt=Q(e.getParentCreatedAt()),r.from=wu(e.getFromPos()),r.to=wu(e.getToPos());const o=r.createdAtMapByActor;for(const[h,m]of e.getMaxCreatedAtMapByActor())o[h]=Q(m);const c=e.getAttributesToRemove();if(c.length>0)r.attributesToRemove=c;else{const h=r.attributes;for(const[m,p]of e.getAttributes())h[m]=p}r.executedAt=Q(e.getExecutedAt()),n.body.case="treeStyle",n.body.value=r}else throw new C(x.ErrUnimplemented,"unimplemented operation");return n}function QA(s){const n=[];for(const e of s)n.push(i0(e));return n}function _A(s){const n=new Jv({id:t0(s.getID()),message:s.getMessage()});return s.hasOperations()&&(n.operations=QA(s.getOperations())),s.hasPresenceChange()&&(n.presenceChange=$A(s.getPresenceChange())),n}function WA(s){const n=[];for(const e of s)n.push(_A(e));return n}function t1(s){const n=[];for(const e of s)n.push(new Hv({key:e.getStrKey(),element:bd(e.getValue())}));return n}function e1(s){const n=[];for(const e of s)n.push(new Qu({element:bd(e.getValue())}));return n}function n1(s){const n=[];for(const e of s){const r=new _u;r.id=ZA(e.getID()),r.value=e.getValue().getContent(),r.removedAt=Q(e.getRemovedAt());const o=r.attributes,c=e.getValue().getAttrs();for(const h of c){const m=new Bs;m.value=h.getValue(),m.updatedAt=Q(h.getUpdatedAt()),o[h.getKey()]=m}n.push(r)}return n}function i1(s){const n=[];if(!s||!s.length)return n;for(const e of s)n.push(new Wu({content:Sd(e)}));return n}function r1(s){const n={};for(const e of s)n[e.getKey()]=new Bs({value:e.getValue(),updatedAt:Q(e.getUpdatedAt()),isRemoved:e.isRemoved()});return n}function Sd(s){if(!s)return[];const n=[];return oc(s,(e,r)=>{const o=new Kl({id:Pl(e.id),type:e.type,removedAt:Q(e.removedAt),depth:r});e.isText&&(o.value=e.value),e.insPrevID&&(o.insPrevId=Pl(e.insPrevID)),e.insNextID&&(o.insNextId=Pl(e.insNextID)),e.attrs&&(o.attributes=r1(e.attrs)),n.push(o)}),n}function a1(s){const n=new Me;return n.body.case="jsonObject",n.body.value=new Yu({nodes:t1(s.getRHT()),createdAt:Q(s.getCreatedAt()),movedAt:Q(s.getMovedAt()),removedAt:Q(s.getRemovedAt())}),n}function r0(s){const n=new Me;return n.body.case="jsonArray",n.body.value=new Fu({nodes:e1(s.getElements()),createdAt:Q(s.getCreatedAt()),movedAt:Q(s.getMovedAt()),removedAt:Q(s.getRemovedAt())}),n}function s1(s){const n=new Me;return n.body.case="primitive",n.body.value=new Ku({type:e0(s.getType()),value:s.toBytes(),createdAt:Q(s.getCreatedAt()),movedAt:Q(s.getMovedAt()),removedAt:Q(s.getRemovedAt())}),n}function l1(s){const n=new Me;return n.body.case="text",n.body.value=new $u({nodes:n1(s.getRGATreeSplit()),createdAt:Q(s.getCreatedAt()),movedAt:Q(s.getMovedAt()),removedAt:Q(s.getRemovedAt())}),n}function o1(s){const n=new Me;return n.body.case="counter",n.body.value=new Xu({type:n0(s.getType()),value:s.toBytes(),createdAt:Q(s.getCreatedAt()),movedAt:Q(s.getMovedAt()),removedAt:Q(s.getRemovedAt())}),n}function a0(s){const n=new Me;return n.body.case="tree",n.body.value=new Zu({nodes:Sd(s.getRoot()),createdAt:Q(s.getCreatedAt()),movedAt:Q(s.getMovedAt()),removedAt:Q(s.getRemovedAt())}),n}function bd(s){if(s instanceof Be)return a1(s);if(s instanceof Pe)return r0(s);if(s instanceof $t)return s1(s);if(s instanceof vn)return l1(s);if(s instanceof Ge)return o1(s);if(s instanceof Sn)return a0(s);throw new C(x.ErrUnimplemented,"unimplemented element")}function u1(s){return new Nr({documentKey:s.getDocumentKey(),checkpoint:XA(s.getCheckpoint()),isRemoved:s.getIsRemoved(),changes:WA(s.getChanges()),snapshot:s.getSnapshot(),versionVector:vd(s.getVersionVector()),minSyncedTicket:Q(s.getMinSyncedTicket())})}function Jl(s){if(!(s instanceof Jt))return{};const n=s.findDetails(xA);for(const e of n)return e.metadata;return{}}function Qr(s){return Jl(s).code??""}function s0(s){return yr.of(s.clientSeq,BigInt(s.lamport),Dd(s.actorId),Td(s.versionVector),BigInt(s.serverSeq))}function Td(s){if(!s)return;const n=new Os;return Object.entries(s.vector).forEach(([e,r])=>{n.set(e,BigInt(r.toString()))}),n}function W(s){if(s)return pn.of(BigInt(s.lamport),s.delimiter,Dd(s.actorId))}function Ad(s){const n={};return Object.entries(s.data).forEach(([e,r])=>{n[e]=JSON.parse(r)}),n}function c1(s){const n=s.type;if(n===za.PUT){const e=Ad(s.presence);return{type:aa.Put,presence:e}}if(n===za.CLEAR)return{type:aa.Clear};throw new C(x.ErrInvalidType,`unsupported type: ${n}`)}function f1(s){const n=new Map;return Object.entries(s).forEach(([e,r])=>{n.set(e,Ad(r))}),n}function l0(s){switch(s){case ot.NULL:return le.Null;case ot.BOOLEAN:return le.Boolean;case ot.INTEGER:return le.Integer;case ot.LONG:return le.Long;case ot.DOUBLE:return le.Double;case ot.STRING:return le.String;case ot.BYTES:return le.Bytes;case ot.DATE:return le.Date}throw new C(x.ErrUnimplemented,`unimplemented value type: ${s}`)}function nc(s){switch(s){case ot.INTEGER_CNT:return _n.IntegerCnt;case ot.LONG_CNT:return _n.LongCnt}throw new C(x.ErrUnimplemented,`unimplemented value type: ${s}`)}function Mh(s){switch(s.type){case ot.JSON_OBJECT:return s.value?g0(s.value):Be.create(W(s.createdAt));case ot.JSON_ARRAY:return s.value?N1(s.value):Pe.create(W(s.createdAt));case ot.TEXT:return vn.create(zs.create(),W(s.createdAt));case ot.TREE:return x1(s.value);case ot.NULL:case ot.BOOLEAN:case ot.INTEGER:case ot.LONG:case ot.DOUBLE:case ot.STRING:case ot.BYTES:case ot.DATE:return $t.of($t.valueFromBytes(l0(s.type),s.value),W(s.createdAt));case ot.INTEGER_CNT:case ot.LONG_CNT:return Ge.create(nc(s.type),Ge.valueFromBytes(nc(s.type),s.value),W(s.createdAt))}}function Eu(s){return On.of(Qn.of(W(s.createdAt),s.offset),s.relativeOffset)}function o0(s){return Qn.of(W(s.createdAt),s.offset)}function h1(s){const n=_l.create(s.value);Object.entries(s.attributes).forEach(([r,o])=>{n.setAttr(r,o.value,W(o.updatedAt))});const e=ia.create(o0(s.id),n);return e.remove(W(s.removedAt)),e}function ws(s){return Dn.of(Gl(s.parentId),Gl(s.leftSiblingId))}function Gl(s){return ye.of(W(s.createdAt),s.offset)}function d1(s){if(!s.length)return;const n=[];return s.forEach(e=>{const r=wd(e.content);n.push(r)}),n}function wd(s){if(s.length===0)return;const n=[];for(const o of s)n.push(m1(o));const e=n[n.length-1],r=new Map;r.set(s[n.length-1].depth,n[n.length-1]);for(let o=n.length-2;o>=0;o--)r.get(s[o].depth-1).prepend(n[o]),r.set(s[o].depth,n[o]);return e.updateDescendantsSize(),Sn.create(e,xn).getRoot()}function g1(s){const n=Er.create();for(const[e,r]of Object.entries(s))n.setInternal(e,r.value,W(r.updatedAt),r.isRemoved);return n}function m1(s){const n=Gl(s.id),e=Ve.create(n,s.type),r=Object.entries(s.attributes);return e.isText?e.value=s.value:r.length&&(e.attrs=g1(s.attributes)),s.insPrevId&&(e.insPrevID=Gl(s.insPrevId)),s.insNextId&&(e.insNextID=Gl(s.insNextId)),e.removedAt=W(s.removedAt),e}function u0(s){if(s.body.case==="set"){const n=s.body.value;return La.create(n.key,Mh(n.value),W(n.parentCreatedAt),W(n.executedAt))}else if(s.body.case==="add"){const n=s.body.value;return no.create(W(n.parentCreatedAt),W(n.prevCreatedAt),Mh(n.value),W(n.executedAt))}else if(s.body.case==="move"){const n=s.body.value;return ta.create(W(n.parentCreatedAt),W(n.prevCreatedAt),W(n.createdAt),W(n.executedAt))}else if(s.body.case==="remove"){const n=s.body.value;return sa.create(W(n.parentCreatedAt),W(n.createdAt),W(n.executedAt))}else if(s.body.case==="edit"){const n=s.body.value,e=new Map;Object.entries(n.createdAtMapByActor).forEach(([o,c])=>{e.set(o,W(c))});const r=new Map;return Object.entries(n.attributes).forEach(([o,c])=>{r.set(o,c)}),io.create(W(n.parentCreatedAt),Eu(n.from),Eu(n.to),e,n.content,r,W(n.executedAt))}else if(s.body.case==="style"){const n=s.body.value,e=new Map;Object.entries(n.createdAtMapByActor).forEach(([o,c])=>{e.set(o,W(c))});const r=new Map;return Object.entries(n.attributes).forEach(([o,c])=>{r.set(o,c)}),ro.create(W(n.parentCreatedAt),Eu(n.from),Eu(n.to),e,r,W(n.executedAt))}else{if(s.body.case==="select")return;if(s.body.case==="increase"){const n=s.body.value;return Ls.create(W(n.parentCreatedAt),Mh(n.value),W(n.executedAt))}else if(s.body.case==="treeEdit"){const n=s.body.value,e=new Map;return Object.entries(n.createdAtMapByActor).forEach(([r,o])=>{e.set(r,W(o))}),ao.create(W(n.parentCreatedAt),ws(n.from),ws(n.to),d1(n.contents),n.splitLevel,e,W(n.executedAt))}else if(s.body.case==="treeStyle"){const n=s.body.value,e=new Map,r=n.attributesToRemove,o=new Map;return n!=null&&n.createdAtMapByActor&&Object.entries(n.createdAtMapByActor).forEach(([c,h])=>{o.set(c,W(h))}),(r==null?void 0:r.length)>0?Ar.createTreeRemoveStyleOperation(W(n.parentCreatedAt),ws(n.from),ws(n.to),o,r,W(n.executedAt)):(Object.entries(n.attributes).forEach(([c,h])=>{e.set(c,h)}),Ar.create(W(n.parentCreatedAt),ws(n.from),ws(n.to),o,e,W(n.executedAt)))}else throw new C(x.ErrUnimplemented,"unimplemented operation")}}function y1(s){const n=[];for(const e of s){const r=u0(e);r&&n.push(r)}return n}function c0(s){const n=[];for(const e of s)n.push(Us.create({id:s0(e.id),operations:y1(e.operations),presenceChange:e.presenceChange?c1(e.presenceChange):void 0,message:e.message}));return n}function p1(s){return Cs.of(BigInt(s.serverSeq),s.clientSeq)}function v1(s){return uc.create(s.documentKey,p1(s.checkpoint),s.isRemoved,c0(s.changes),Td(s.versionVector),s.snapshot,W(s.minSyncedTicket))}function f0(s){const n=new Xl;for(const r of s.nodes){const o=Ed(r.element);n.set(r.key,o,o.getPositionedAt())}const e=new Be(W(s.createdAt),n);return e.setMovedAt(W(s.movedAt)),e.setRemovedAt(W(s.removedAt)),e}function h0(s){const n=new Ql;for(const r of s.nodes)n.insert(Ed(r.element));const e=new Pe(W(s.createdAt),n);return e.setMovedAt(W(s.movedAt)),e.setRemovedAt(W(s.removedAt)),e}function S1(s){const n=$t.of($t.valueFromBytes(l0(s.type),s.value),W(s.createdAt));return n.setMovedAt(W(s.movedAt)),n.setRemovedAt(W(s.removedAt)),n}function b1(s){const n=new zs;let e=n.getHead();for(const o of s.nodes){const c=n.insertAfter(e,h1(o));o.insPrevId&&c.setInsPrev(n.findNode(o0(o.insPrevId))),e=c}const r=new vn(n,W(s.createdAt));return r.setMovedAt(W(s.movedAt)),r.setRemovedAt(W(s.removedAt)),r}function T1(s){const n=Ge.create(nc(s.type),Ge.valueFromBytes(nc(s.type),s.value),W(s.createdAt));return n.setMovedAt(W(s.movedAt)),n.setRemovedAt(W(s.removedAt)),n}function d0(s){const n=wd(s.nodes);return Sn.create(n,W(s.createdAt))}function Ed(s){if(s.body.case==="jsonObject")return f0(s.body.value);if(s.body.case==="jsonArray")return h0(s.body.value);if(s.body.case==="primitive")return S1(s.body.value);if(s.body.case==="text")return b1(s.body.value);if(s.body.case==="counter")return T1(s.body.value);if(s.body.case==="tree")return d0(s.body.value);throw new C(x.ErrUnimplemented,"unimplemented element")}function A1(s){if(!s)return{root:Be.create(xn),presences:new Map};const n=Lh.fromBinary(s);return{root:Ed(n.root),presences:f1(n.presences)}}function w1(s){const n=vd(s);return Nd(n.toBinary())}function E1(s){const n=xd(s),e=sc.fromBinary(n);return Td(e)}function g0(s){if(!s)throw new C(x.ErrInvalidArgument,"bytes is empty");const n=Me.fromBinary(s);return f0(n.body.value)}function m0(s){return bd(s).toBinary()}function N1(s){if(!s)throw new C(x.ErrInvalidArgument,"bytes is empty");const n=Me.fromBinary(s);return h0(n.body.value)}function D1(s){return r0(s).toBinary()}function x1(s){if(!s)throw new C(x.ErrInvalidArgument,"bytes is empty");const n=Me.fromBinary(s);return d0(n.body.value)}function O1(s){return a0(s).toBinary()}function Nd(s){return s?Array.from(s).map(n=>n.toString(16).padStart(2,"0")).join(""):""}function Dd(s){return Nd(s)}function xd(s){return new Uint8Array(s.match(/.{1,2}/g).map(n=>parseInt(n,16)))}function Od(s){return xd(s)}function C1(s){const n=ac.fromBinary(s);return s0(n)}function R1(s){const n=dd.fromBinary(s);return u0(n)}const Qt={fromPresence:Ad,toChangePack:u1,fromChangePack:v1,fromChanges:c0,toTreeNodes:Sd,fromTreeNodes:wd,objectToBytes:m0,bytesToObject:g0,bytesToSnapshot:A1,bytesToHex:Nd,hexToBytes:xd,toHexString:Dd,toUint8Array:Od,toOperation:i0,toChangeID:t0,PbChangeID:ac,bytesToChangeID:C1,bytesToOperation:R1,versionVectorToHex:w1,hexToVersionVector:E1};var Re=(s=>(s[s.Trivial=0]="Trivial",s[s.Debug=1]="Debug",s[s.Info=2]="Info",s[s.Warn=3]="Warn",s[s.Error=4]="Error",s[s.Fatal=5]="Fatal",s))(Re||{});let Ca=3;function k1(s){Ca=s}const nt={trivial:(...s)=>{Ca>0||typeof console<"u"&&console.log("YORKIE T:",...s)},debug:(...s)=>{Ca>1||typeof console<"u"&&console.log("YORKIE D:",...s)},info:(...s)=>{Ca>2||typeof console<"u"&&console.log("YORKIE I:",...s)},warn:(...s)=>{Ca>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...s):console.log("YORKIE W:",...s))},error:(...s)=>{Ca>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...s):console.log("YORKIE E:",...s))},fatal:(...s)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...s):console.log("YORKIE F:",...s))},isEnabled:s=>Ca<=s};function y0(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,s=>{const n=Math.random()*16|0;return(s==="x"?n:n&3|8).toString(16)})}class B1{constructor(n,e,r,o,c){d(this,"reconnectStreamDelay");d(this,"doc");d(this,"docID");d(this,"syncMode");d(this,"remoteChangeEventReceived");d(this,"watchStream");d(this,"watchLoopTimerID");d(this,"watchAbortController");d(this,"unsubscribeBroadcastEvent");this.reconnectStreamDelay=n,this.doc=e,this.docID=r,this.syncMode=o,this.remoteChangeEventReceived=!1,this.unsubscribeBroadcastEvent=c}changeSyncMode(n){this.syncMode=n}needRealtimeSync(){return this.syncMode===Mu.RealtimeSyncOff?!1:this.syncMode===Mu.RealtimePushOnly?this.doc.hasLocalChanges():this.syncMode!==Mu.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(n){const e=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await n(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(e,this.reconnectStreamDelay)})}catch{}};await e()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}const Ih=()=>{};class M1{constructor(n){d(this,"finalized",!1);d(this,"observers",[]);d(this,"finalError");try{n(this)}catch(e){this.error(e)}}next(n){this.forEachObserver(e=>{e.next(n)})}error(n){this.forEachObserver(e=>{e.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,e,r){let o;if(!n)throw new C(x.ErrInvalidArgument,"missing observer");if(this.finalized)throw new C(x.ErrRefused,"observable is finalized due to previous error");typeof n=="object"?o=n:o={next:n,error:e,complete:r},o.next===void 0&&(o.next=Ih),o.error===void 0&&(o.error=Ih),o.complete===void 0&&(o.complete=Ih);const c=y0(),h=this.unsubscribeOne.bind(this,c);if(this.observers.push({subscriptionID:c,observer:o}),this.finalized)try{this.finalError?o.error(this.finalError):o.complete()}catch(m){nt.warn(m)}return h}unsubscribeOne(n){var e;this.observers=(e=this.observers)==null?void 0:e.filter(r=>r.subscriptionID!==n)}forEachObserver(n){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,n)}sendOne(n,e){if(this.observers!==void 0&&this.observers[n]!==void 0)try{e(this.observers[n].observer)}catch(r){nt.error(r)}}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.observers=void 0)}}function I1(s){const n=new M1(s);return{subscribe:n.subscribe.bind(n),getProxy:()=>n}}class Ds{constructor(n,e,r,o){d(this,"id");d(this,"delimiter");d(this,"message");d(this,"root");d(this,"operations");d(this,"presenceChange");d(this,"previousPresence");d(this,"reversePresenceKeys");this.id=n,this.delimiter=Pv,this.root=e,this.operations=[],this.previousPresence=En(r),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=o}static create(n,e,r,o){return new Ds(n,e,r,o)}push(n){this.operations.push(n)}registerElement(n,e){this.root.registerElement(n,e)}registerRemovedElement(n){this.root.registerRemovedElement(n)}registerGCPair(n){this.root.registerGCPair(n)}getChange(){return Us.create({id:this.id,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(n){this.presenceChange=n}setReversePresence(n,e){for(const r of Object.keys(n))e!=null&&e.addToHistory?this.reversePresenceKeys.add(r):this.reversePresenceKeys.delete(r)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const n={};for(const e of this.reversePresenceKeys)n[e]=this.previousPresence[e];return n}issueTimeTicket(){return this.delimiter+=1,this.id.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.id.createTimeTicket(this.delimiter)}}class Wl{constructor(n){d(this,"rootObject");d(this,"elementPairMapByCreatedAt");d(this,"gcElementSetByCreatedAt");d(this,"gcPairMap");this.rootObject=n,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.registerElement(n,void 0),n.getDescendants(e=>{if(e.getRemovedAt()&&this.registerRemovedElement(e),e instanceof vn||e instanceof Sn)for(const r of e.getGCPairs())this.registerGCPair(r);return!1})}static create(){return new Wl(Be.create(xn))}findByCreatedAt(n){const e=this.elementPairMapByCreatedAt.get(n.toIDString());if(e)return e.element}findElementPairByCreatedAt(n){return this.elementPairMapByCreatedAt.get(n.toIDString())}createSubPaths(n){let e=this.elementPairMapByCreatedAt.get(n.toIDString());if(!e)return[];const r=[];for(;e.parent;){const o=e.element.getCreatedAt(),c=e.parent.subPathOf(o);if(c===void 0)throw new C(x.ErrInvalidArgument,`cant find the given element: ${o.toIDString()}`);r.unshift(c),e=this.elementPairMapByCreatedAt.get(e.parent.getCreatedAt().toIDString())}return r.unshift("$"),r}createPath(n){return this.createSubPaths(n).join(".")}registerElement(n,e){this.elementPairMapByCreatedAt.set(n.getCreatedAt().toIDString(),{parent:e,element:n}),n instanceof na&&n.getDescendants((r,o)=>(this.registerElement(r,o),!1))}deregisterElement(n){let e=0;const r=o=>{const c=o.getCreatedAt().toIDString();this.elementPairMapByCreatedAt.delete(c),this.gcElementSetByCreatedAt.delete(c),e++};return r(n),n instanceof na&&n.getDescendants(o=>(r(o),!1)),e}registerRemovedElement(n){this.gcElementSetByCreatedAt.add(n.getCreatedAt().toIDString())}registerGCPair(n){if(this.gcPairMap.get(n.child.toIDString())){this.gcPairMap.delete(n.child.toIDString());return}this.gcPairMap.set(n.child.toIDString(),n)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const n=new Set;for(const e of this.gcElementSetByCreatedAt){n.add(e);const r=this.elementPairMapByCreatedAt.get(e);r.element instanceof na&&r.element.getDescendants(o=>(n.add(o.getCreatedAt().toIDString()),!1))}return n.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}deepcopy(){return new Wl(this.rootObject.deepcopy())}garbageCollect(n){let e=0;for(const r of this.gcElementSetByCreatedAt){const o=this.elementPairMapByCreatedAt.get(r),c=o.element.getRemovedAt();c&&(n!=null&&n.afterOrEqual(c))&&(o.parent.purge(o.element),e+=this.deregisterElement(o.element))}for(const[,r]of this.gcPairMap){const o=r.child.getRemovedAt();o&&(n!=null&&n.afterOrEqual(o))&&(r.parent.purge(r.child),this.gcPairMap.delete(r.child.toIDString()),e+=1)}return e}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}}function p0(s,n){const e=new to(s);return new Proxy(n,e.getHandlers())}class to{constructor(n){d(this,"context");d(this,"handlers");this.context=n,this.handlers={set:(e,r,o)=>(nt.isEnabled(Re.Trivial)&&nt.trivial(`obj[${r}]=${JSON.stringify(o)}`),to.setInternal(n,e,r,o),!0),get:(e,r)=>(nt.isEnabled(Re.Trivial)&&nt.trivial(`obj[${r}]`),r==="getID"?()=>e.getCreatedAt():r==="toJSON"||r==="toString"?()=>e.toJSON():r==="toJS"?()=>e.toJS():r==="toJSForTest"?()=>e.toJSForTest():Ra(n,e.get(r))),ownKeys:e=>e.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(e,r)=>(nt.isEnabled(Re.Trivial)&&nt.trivial(`obj[${r}]`),to.deleteInternal(n,e,r),!0)}}static setInternal(n,e,r,o){if(r.includes("."))throw new C(x.ErrInvalidObjectKey,"key must not contain the '.'.");const c=n.issueTimeTicket(),h=ic(n,o,c),m=e.set(r,h,c);n.registerElement(h,e),m&&n.registerRemovedElement(m),n.push(La.create(r,h.deepcopy(),e.getCreatedAt(),c))}static buildObjectMembers(n,e){const r={};for(const[o,c]of Object.entries(e)){if(o.includes("."))throw new C(x.ErrInvalidObjectKey,"key must not contain the '.'.");const h=n.issueTimeTicket(),m=ic(n,c,h);r[o]=m}return r}static deleteInternal(n,e,r){const o=n.issueTimeTicket(),c=e.deleteByKey(r,o);c&&(n.push(sa.create(e.getCreatedAt(),c.getCreatedAt(),o)),n.registerRemovedElement(c))}getHandlers(){return this.handlers}}function U1(s,n){const e=new Ft(s,n);return new Proxy(n,e.getHandlers())}function z1(s){return typeof s=="string"||s instanceof String?!isNaN(s):!1}function L1(s){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(s)}class Ft{constructor(n,e){d(this,"context");d(this,"handlers");d(this,"array");this.context=n,this.array=e,this.handlers={get:(r,o,c)=>o==="getID"?()=>r.getCreatedAt():o==="getElementByID"?h=>{const m=r.getByID(h);if(!(!m||m.isRemoved()))return _r(n,m)}:o==="getElementByIndex"?h=>{const m=r.get(h);return _r(n,m)}:o==="getLast"?()=>_r(n,r.getLast()):o==="deleteByID"?h=>{const m=Ft.deleteInternalByID(n,r,h);return _r(n,m)}:o==="insertAfter"?(h,m)=>{const p=Ft.insertAfterInternal(n,r,h,m);return _r(n,p)}:o==="insertBefore"?(h,m)=>{const p=Ft.insertBeforeInternal(n,r,h,m);return _r(n,p)}:o==="moveBefore"?(h,m)=>{Ft.moveBeforeInternal(n,r,h,m)}:o==="moveAfter"?(h,m)=>{Ft.moveAfterInternal(n,r,h,m)}:o==="moveFront"?h=>{Ft.moveFrontInternal(n,r,h)}:o==="moveLast"?h=>{Ft.moveLastInternal(n,r,h)}:z1(o)?Ra(n,r.get(Number(o))):o==="push"?h=>Ft.pushInternal(n,r,h):o==="splice"?(h,m,...p)=>Ft.splice(n,r,h,m,...p):o==="length"?r.length:typeof o=="symbol"&&o===Symbol.iterator?Ft.iteratorInternal.bind(this,n,r):o==="includes"?(h,m)=>Ft.includes(n,r,h,m):o==="indexOf"?(h,m)=>Ft.indexOf(n,r,h,m):o==="lastIndexOf"?(h,m)=>Ft.lastIndexOf(n,r,h,m):o==="toJSForTest"?()=>r.toJSForTest():o==="toTestString"?()=>Ft.toTestString(r):typeof o=="string"&&L1(o)?(...h)=>{const m=Array.from(r).map(p=>Ra(n,p));return Array.prototype[o].apply(m,h)}:Reflect.get(r,o,c),deleteProperty:(r,o)=>(nt.isEnabled(Re.Trivial)&&nt.trivial(`array[${o}]`),Ft.deleteInternalByIndex(n,r,Number.parseInt(o)),!0)}}static*iteratorInternal(n,e){for(const r of e)yield _r(n,r)}static buildArrayElements(n,e){const r=[];for(const o of e){const c=n.issueTimeTicket(),h=ic(n,o,c);r.push(h)}return r}static pushInternal(n,e,r){return Ft.insertAfterInternal(n,e,e.getLastCreatedAt(),r),e.length}static moveBeforeInternal(n,e,r,o){const c=n.issueTimeTicket(),h=e.getPrevCreatedAt(r);e.moveAfter(h,o,c),n.push(ta.create(e.getCreatedAt(),h,o,c))}static moveAfterInternal(n,e,r,o){const c=n.issueTimeTicket();e.moveAfter(r,o,c),n.push(ta.create(e.getCreatedAt(),r,o,c))}static moveFrontInternal(n,e,r){const o=n.issueTimeTicket(),c=e.getHead();e.moveAfter(c.getCreatedAt(),r,o),n.push(ta.create(e.getCreatedAt(),c.getCreatedAt(),r,o))}static moveLastInternal(n,e,r){const o=n.issueTimeTicket(),c=e.getLastCreatedAt();e.moveAfter(c,r,o),n.push(ta.create(e.getCreatedAt(),c,r,o))}static insertAfterInternal(n,e,r,o){const c=n.issueTimeTicket(),h=ic(n,o,c);return e.insertAfter(r,h),n.registerElement(h,e),n.push(no.create(e.getCreatedAt(),r,h.deepcopy(),c)),h}static insertBeforeInternal(n,e,r,o){return Ft.insertAfterInternal(n,e,e.getPrevCreatedAt(r),o)}static deleteInternalByIndex(n,e,r){const o=n.issueTimeTicket(),c=e.deleteByIndex(r,o);if(c)return n.push(sa.create(e.getCreatedAt(),c.getCreatedAt(),o)),n.registerRemovedElement(c),c}static deleteInternalByID(n,e,r){const o=n.issueTimeTicket(),c=e.delete(r,o);return n.push(sa.create(e.getCreatedAt(),c.getCreatedAt(),o)),n.registerRemovedElement(c),c}static splice(n,e,r,o,...c){const h=e.length,m=r>=0?Math.min(r,h):Math.max(h+r,0),p=o===void 0?h:o<0?m:Math.min(m+o,h),y=[];for(let b=m;b<p;b++){const E=Ft.deleteInternalByIndex(n,e,m);if(E){const B=E.deepcopy();B.setRemovedAt(),y.push(Ra(n,B))}}if(c){let b=m===0?e.getHead().getID():e.get(m-1).getID();for(const E of c)b=Ft.insertAfterInternal(n,e,b,E).getID()}return y}static includes(n,e,r,o){var m;const c=e.length,h=o===void 0?0:o<0?Math.max(o+c,0):o;if(h>=c)return!1;if($t.isSupport(r))return Array.from(e).map(y=>Ra(n,y)).includes(r,h);for(let p=h;p<c;p++)if(((m=e.get(p))==null?void 0:m.getID())===r.getID())return!0;return!1}static indexOf(n,e,r,o){var m;const c=e.length,h=o===void 0?0:o<0?Math.max(o+c,0):o;if(h>=c)return-1;if($t.isSupport(r))return Array.from(e).map(y=>Ra(n,y)).indexOf(r,h);for(let p=h;p<c;p++)if(((m=e.get(p))==null?void 0:m.getID())===r.getID())return p;return-1}static lastIndexOf(n,e,r,o){var m;const c=e.length,h=o===void 0||o>=c?c-1:o<0?o+c:o;if(h<0)return-1;if($t.isSupport(r))return Array.from(e).map(y=>Ra(n,y)).lastIndexOf(r,h);for(let p=h;p>0;p--)if(((m=e.get(p))==null?void 0:m.getID())===r.getID())return p;return-1}static toTestString(n){return n.toTestString()}getHandlers(){return this.handlers}}class Cd{constructor(n,e){d(this,"context");d(this,"text");this.context=n,this.text=e}initialize(n,e){this.context=n,this.text=e}getID(){return this.text.getID()}edit(n,e,r,o){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");if(n>e)throw new C(x.ErrInvalidArgument,"from should be less than or equal to to");const c=this.text.indexRangeToPosRange(n,e);nt.isEnabled(Re.Debug)&&nt.debug(`EDIT: f:${n}->${c[0].toTestString()}, t:${e}->${c[1].toTestString()} c:${r}`);const h=o?Ms(o):void 0,m=this.context.issueTimeTicket(),[p,,y,b]=this.text.edit(c,r,m,h);for(const E of y)this.context.registerGCPair(E);return this.context.push(new io(this.text.getCreatedAt(),c[0],c[1],p,r,h?new Map(Object.entries(h)):new Map,m)),this.text.findIndexesFromRange(b)}delete(n,e){return this.edit(n,e,"")}empty(){return this.edit(0,this.length,"")}setStyle(n,e,r){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");if(n>e)throw new C(x.ErrInvalidArgument,"from should be less than or equal to to");const o=this.text.indexRangeToPosRange(n,e);nt.isEnabled(Re.Debug)&&nt.debug(`STYL: f:${n}->${o[0].toTestString()}, t:${e}->${o[1].toTestString()} a:${JSON.stringify(r)}`);const c=Ms(r),h=this.context.issueTimeTicket(),[m,p]=this.text.setStyle(o,c,h);for(const y of p)this.context.registerGCPair(y);return this.context.push(new ro(this.text.getCreatedAt(),o[0],o[1],m,new Map(Object.entries(c)),h)),!0}indexRangeToPosRange(n){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");const e=this.text.indexRangeToPosRange(n[0],n[1]);return[e[0].toStruct(),e[1].toStruct()]}posRangeToIndexRange(n){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");const e=this.text.findIndexesFromRange([On.fromStruct(n[0]),On.fromStruct(n[1])]);return[e[0],e[1]]}toTestString(){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(n,e){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(n,e)}}let Rd=class{constructor(n,e){d(this,"valueType");d(this,"value");d(this,"context");d(this,"counter");this.valueType=n,this.value=e}initialize(n,e){this.valueType=e.getValueType(),this.context=n,this.counter=e,this.value=e.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(n){if(!this.context||!this.counter)throw new C(x.ErrNotInitialized,"Counter is not initialized yet");const e=this.context.issueTimeTicket(),r=$t.of(n,e);if(!r.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof r.getValue()}`);return this.counter.increase(r),this.context.push(Ls.create(this.counter.getCreatedAt(),r,e)),this}toJSForTest(){if(!this.context||!this.counter)throw new C(x.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}};function kd(s,n,e){const{type:r}=s,o=e.issueTimeTicket();if(r===Tr){v0(s);const{value:c}=s,h=Ve.create(ye.of(o,0),r,c);n.append(h)}else{const{children:c=[]}=s,{attributes:h}=s;let m;if(typeof h=="object"&&!Vv(h)){const y=Ms(h);m=new Er;for(const[b,E]of Object.entries(y))m.set(b,E,o)}const p=Ve.create(ye.of(o,0),r,void 0,m);n.append(p);for(const y of c)kd(y,p,e)}}function q1(s,n){const{type:e}=n,r=s.issueTimeTicket();let o;if(n.type===Tr){const{value:c}=n;o=Ve.create(ye.of(r,0),e,c)}else if(n){const{children:c=[]}=n,{attributes:h}=n;let m;if(typeof h=="object"&&!Vv(h)){const p=Ms(h);m=new Er;for(const[y,b]of Object.entries(p))m.set(y,b,r)}o=Ve.create(ye.of(s.issueTimeTicket(),0),e,void 0,m);for(const p of c)kd(p,o,s)}return o}function v0(s){if(!s.value.length)throw new C(x.ErrInvalidArgument,"text node cannot have empty value");return!0}function ov(s){if(!s.length)return!0;if(s[0].type===Tr)for(const e of s){const{type:r}=e;if(r!==Tr)throw new C(x.ErrInvalidArgument,"element node and text node cannot be passed together");v0(e)}else for(const e of s){const{type:r}=e;if(r===Tr)throw new C(x.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Bd{constructor(n){d(this,"initialRoot");d(this,"context");d(this,"tree");this.initialRoot=n}initialize(n,e){this.context=n,this.tree=e}getID(){return this.tree.getID()}buildRoot(n){if(!this.initialRoot)return Ve.create(ye.of(n.issueTimeTicket(),0),UA);const e=Ve.create(ye.of(n.issueTimeTicket(),0),this.initialRoot.type);for(const r of this.initialRoot.children)kd(r,e,n);return e}getSize(){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}styleByPath(n,e){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new C(x.ErrInvalidArgument,"path should not be empty");const[r,o]=this.tree.pathToPosRange(n),c=this.context.issueTimeTicket(),h=e?Ms(e):void 0,[m]=this.tree.style([r,o],h,c);this.context.push(Ar.create(this.tree.getCreatedAt(),r,o,m,h?new Map(Object.entries(h)):new Map,c))}style(n,e,r){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new C(x.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(n),c=this.tree.findPos(e),h=this.context.issueTimeTicket(),m=r?Ms(r):void 0,[p,y]=this.tree.style([o,c],m,h);for(const b of y)this.context.registerGCPair(b);this.context.push(Ar.create(this.tree.getCreatedAt(),o,c,p,m?new Map(Object.entries(m)):new Map,h))}removeStyle(n,e,r){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new C(x.ErrInvalidArgument,"from should be less than or equal to to");const o=this.tree.findPos(n),c=this.tree.findPos(e),h=this.context.issueTimeTicket(),[m,p]=this.tree.removeStyle([o,c],r,h);for(const y of p)this.context.registerGCPair(y);this.context.push(Ar.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),o,c,m,r,h))}editInternal(n,e,r,o=0){var y;if(r.length!==0&&r[0]&&(ov(r),r[0].type!==Tr))for(const b of r){const{children:E=[]}=b;ov(E)}const c=this.context.getLastTimeTicket();let h=new Array;if(((y=r[0])==null?void 0:y.type)===Tr){let b="";for(const E of r){const{value:B}=E;b+=B}h.push(Ve.create(ye.of(this.context.issueTimeTicket(),0),Tr,b))}else h=r.map(b=>b&&q1(this.context,b)).filter(b=>b);const[,m,p]=this.tree.edit([n,e],h.length?h.map(b=>b==null?void 0:b.deepcopy()):void 0,o,c,()=>this.context.issueTimeTicket());for(const b of m)this.context.registerGCPair(b);return this.context.push(ao.create(this.tree.getCreatedAt(),n,e,h.length?h:void 0,o,p,c)),!0}editByPath(n,e,r,o=0){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==e.length)throw new C(x.ErrInvalidArgument,"path length should be equal");if(!n.length||!e.length)throw new C(x.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),h=this.tree.pathToPos(e);return this.editInternal(c,h,r?[r]:[],o)}editBulkByPath(n,e,r,o=0){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==e.length)throw new C(x.ErrInvalidArgument,"path length should be equal");if(!n.length||!e.length)throw new C(x.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),h=this.tree.pathToPos(e);return this.editInternal(c,h,r,o)}edit(n,e,r,o=0){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new C(x.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),h=this.tree.findPos(e);return this.editInternal(c,h,r?[r]:[],o)}editBulk(n,e,r,o=0){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new C(x.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),h=this.tree.findPos(e);return this.editInternal(c,h,r,o)}toXML(){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(n){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(n)}pathToIndex(n){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(n)}pathRangeToPosRange(n){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");const e=[this.tree.pathToIndex(n[0]),this.tree.pathToIndex(n[1])],r=this.tree.indexRangeToPosRange(e);return[r[0].toStruct(),r[1].toStruct()]}indexRangeToPosRange(n){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(n)}posRangeToIndexRange(n){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");const e=[Dn.fromStruct(n[0]),Dn.fromStruct(n[1])];return this.tree.posRangeToIndexRange(e)}posRangeToPathRange(n){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");const e=[Dn.fromStruct(n[0]),Dn.fromStruct(n[1])];return this.tree.posRangeToPathRange(e)}}function uv(s,n){return p0(s,n)}function _r(s,n){if(n){if(n instanceof $t)return n;if(n instanceof Be)return p0(s,n);if(n instanceof Pe)return U1(s,n);if(n instanceof vn)return new Cd(s,n);if(n instanceof Ge){const e=new Rd(_n.IntegerCnt,0);return e.initialize(s,n),e}else if(n instanceof Sn){const e=new Bd;return e.initialize(s,n),e}}else return;throw new TypeError(`Unsupported type of element: ${typeof n}`)}function Ra(s,n){const e=_r(s,n);return e instanceof $t?e.getValue():e}function ic(s,n,e){let r;if($t.isSupport(n))r=$t.of(n,e);else if(Array.isArray(n))r=Pe.create(e,Ft.buildArrayElements(s,n));else if(typeof n=="object")n instanceof Cd?(r=vn.create(zs.create(),e),n.initialize(s,r)):n instanceof Rd?(r=Ge.create(n.getValueType(),n.getValue(),e),n.initialize(s,r)):n instanceof Bd?(r=Sn.create(n.buildRoot(s),e),n.initialize(s,r)):r=Be.create(e,to.buildObjectMembers(s,n));else throw new TypeError(`Unsupported type of value: ${typeof n}`);return r}const cv=50;class J1{constructor(){d(this,"undoStack",[]);d(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(n){this.undoStack.length>=cv&&this.undoStack.shift(),this.undoStack.push(n)}popUndo(){return this.undoStack.pop()}pushRedo(n){this.redoStack.length>=cv&&this.redoStack.shift(),this.redoStack.push(n)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const H1="yorkie-devtools-panel",j1="yorkie-devtools-sdk";function V1(s){return[me.StatusChanged,me.Snapshot,me.LocalChange,me.RemoteChange,me.Initialized,me.Watched,me.Unwatched,me.PresenceChanged].includes(s.type)}function P1(s){return s.every(V1)}let Es="disconnected";const fv=new Map,Bu=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=Bu);function Nu(s,n){(n!=null&&n.force||Es!=="disconnected")&&window.postMessage({source:j1,...s},"*")}function G1(s){if(!s.isEnableDevtools()||typeof window>"u"||fv.has(s.getKey()))return;Bu.set(s.getKey(),[]);const n=s.subscribe("all",e=>{P1(e)&&(Bu.get(s.getKey()).push(e),Es==="synced"&&Nu({msg:"doc::sync::partial",docKey:s.getKey(),event:e}))});fv.set(s.getKey(),[n]),Nu({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",e=>{var o;if(((o=e.data)==null?void 0:o.source)!==H1)return;switch(e.data.msg){case"devtools::connect":if(Es!=="disconnected")break;Es="connected",Nu({msg:"doc::available",docKey:s.getKey()}),nt.info(`[YD] Devtools connected. Doc: ${s.getKey()}`);break;case"devtools::disconnect":Es="disconnected",nt.info(`[YD] Devtools disconnected. Doc: ${s.getKey()}`);break;case"devtools::subscribe":Es="synced",Nu({msg:"doc::sync::full",docKey:s.getKey(),events:Bu.get(s.getKey())}),nt.info(`[YD] Devtools subscribed. Doc: ${s.getKey()}`);break}})}var Wr=(s=>(s.Detached="detached",s.Attached="attached",s.Removed="removed",s))(Wr||{}),me=(s=>(s.StatusChanged="status-changed",s.ConnectionChanged="connection-changed",s.SyncStatusChanged="sync-status-changed",s.Snapshot="snapshot",s.LocalChange="local-change",s.RemoteChange="remote-change",s.Initialized="initialized",s.Watched="watched",s.Unwatched="unwatched",s.PresenceChanged="presence-changed",s.Broadcast="broadcast",s.LocalBroadcast="local-broadcast",s.AuthError="auth-error",s))(me||{}),qa=(s=>(s.Connected="connected",s.Disconnected="disconnected",s))(qa||{}),ud=(s=>(s.Synced="synced",s.SyncFailed="sync-failed",s))(ud||{});class S0{constructor(n,e){d(this,"key");d(this,"status");d(this,"opts");d(this,"changeID");d(this,"checkpoint");d(this,"localChanges");d(this,"root");d(this,"clone");d(this,"eventStream");d(this,"eventStreamObserver");d(this,"onlineClients");d(this,"presences");d(this,"history");d(this,"internalHistory");d(this,"isUpdating");this.opts=e||{},this.key=n,this.status="detached",this.root=Wl.create(),this.changeID=GA,this.checkpoint=YA,this.localChanges=[],this.eventStream=I1(r=>{this.eventStreamObserver=r}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new J1,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},G1(this)}update(n,e){if(this.getStatus()==="removed")throw new C(x.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const r=this.changeID.getActorID(),o=Ds.create(this.changeID.next(),this.clone.root,this.clone.presences.get(r)||{},e);try{const c=uv(o,this.clone.root.getObject());this.presences.has(r)||this.clone.presences.set(r,{}),this.isUpdating=!0,n(c,new kh(o,this.clone.presences.get(r)))}catch(c){throw this.clone=void 0,c}finally{this.isUpdating=!1}if(o.hasChange()){nt.isEnabled(Re.Trivial)&&nt.trivial(`trying to update a local change: ${this.toJSON()}`);const c=o.getChange(),{opInfos:h,reverseOps:m}=c.execute(this.root,this.presences,It.Local),p=o.getReversePresence();p&&m.push({type:"presence",value:p}),this.localChanges.push(c),m.length>0&&this.internalHistory.pushUndo(m),h.length>0&&this.internalHistory.clearRedo(),this.changeID=c.getID();const y=[];h.length>0&&y.push({type:"local-change",source:It.Local,value:{message:c.getMessage()||"",operations:h,actor:r,clientSeq:c.getID().getClientSeq(),serverSeq:c.getID().getServerSeq()},rawChange:this.isEnableDevtools()?c.toStruct():void 0}),c.hasPresenceChange()&&y.push({type:"presence-changed",source:It.Local,value:{clientID:r,presence:this.getPresence(r)}}),this.publish(y),nt.isEnabled(Re.Trivial)&&nt.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(n,e,r,o){if(typeof n=="string"){if(typeof e!="function")throw new C(x.ErrInvalidArgument,"Second argument must be a callback function");if(n==="presence"){const m=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="initialized"&&y.type!=="watched"&&y.type!=="unwatched"&&y.type!=="presence-changed"||m(y)},r,o)}if(n==="my-presence"){const m=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="initialized"&&y.type!=="presence-changed"||y.type==="presence-changed"&&y.value.clientID!==this.changeID.getActorID()||m(y)},r,o)}if(n==="others"){const m=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="watched"&&y.type!=="unwatched"&&y.type!=="presence-changed"||y.value.clientID!==this.changeID.getActorID()&&m(y)},r,o)}if(n==="connection"){const m=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="connection-changed"&&m(y)},r,o)}if(n==="status"){const m=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="status-changed"&&m(y)},r,o)}if(n==="sync"){const m=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="sync-status-changed"&&m(y)},r,o)}if(n==="local-broadcast"){const m=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="local-broadcast"&&m(y)},r)}if(n==="broadcast"){const m=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="broadcast"&&m(y)},r)}if(n==="auth-error"){const m=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="auth-error"&&m(y)},r)}if(n==="all"){const m=e;return this.eventStream.subscribe(m,r,o)}const c=n,h=e;return this.eventStream.subscribe(m=>{for(const p of m){if(p.type!=="local-change"&&p.type!=="remote-change")continue;const y=[];for(const b of p.value.operations)this.isSameElementOrChildOf(b.path,c)&&y.push(b);y.length&&h({...p,value:{...p.value,operations:y}})}},r,o)}if(typeof n=="function"){const c=n,h=e,m=r;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="snapshot"&&y.type!=="local-change"&&y.type!=="remote-change"||c(y)},h,m)}throw new C(x.ErrInvalidArgument,`"${n}" is not a valid`)}publish(n){this.eventStreamObserver&&this.eventStreamObserver.next(n)}isSameElementOrChildOf(n,e){if(e===n)return!0;const r=n.split(".");return e.split(".").every((c,h)=>c===r[h])}removePushedLocalChanges(n){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>n);)this.localChanges.shift()}applyChangePack(n){const e=n.hasSnapshot();e?this.applySnapshot(n.getCheckpoint().getServerSeq(),n.getVersionVector(),n.getSnapshot(),n.getCheckpoint().getClientSeq()):(this.applyChanges(n.getChanges(),It.Remote),this.removePushedLocalChanges(n.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(n.getCheckpoint()),e||this.garbageCollect(n.getVersionVector()),n.getIsRemoved()&&this.applyStatus("removed"),nt.isEnabled(Re.Trivial)&&nt.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:En(this.presences)})}createChangePack(){const n=Array.from(this.localChanges),e=this.checkpoint.increaseClientSeq(n.length);return uc.create(this.key,e,!1,n,this.getVersionVector())}setActor(n){for(const e of this.localChanges)e.setActor(n);this.changeID=this.changeID.setActor(n)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const n=Ds.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return uv(n,this.clone.root.getObject())}garbageCollect(n){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(n),this.root.garbageCollect(n))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(n,e,r,o=-1){const{root:c,presences:h}=Qt.bytesToSnapshot(r);this.root=new Wl(c),this.presences=h,this.changeID=this.changeID.setClocks(e.maxLamport(),e),this.clone=void 0,this.removePushedLocalChanges(o),this.applyChanges(this.localChanges,It.Local),this.publish([{type:"snapshot",source:It.Remote,value:{serverSeq:n.toString(),snapshot:this.isEnableDevtools()?Qt.bytesToHex(r):void 0,snapshotVector:Qt.versionVectorToHex(e)}}])}applyChanges(n,e){nt.isEnabled(Re.Debug)&&nt.debug(`trying to apply ${n.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),nt.isEnabled(Re.Trivial)&&nt.trivial(n.map(r=>`${r.getID().toTestString()}	${r.toTestString()}`).join(`
`));for(const r of n)this.applyChange(r,e);nt.isEnabled(Re.Debug)&&nt.debug(`after appling ${n.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(n,e){this.ensureClone(),n.execute(this.clone.root,this.clone.presences,e);const r=[],o=n.getID().getActorID();if(n.hasPresenceChange()&&this.onlineClients.has(o)){const h=n.getPresenceChange();switch(h.type){case aa.Put:r.push(this.presences.has(o)?{type:"presence-changed",source:e,value:{clientID:o,presence:h.presence}}:{type:"watched",source:It.Remote,value:{clientID:o,presence:h.presence}});break;case aa.Clear:r.push({type:"unwatched",source:It.Remote,value:{clientID:o,presence:this.getPresence(o)}}),this.removeOnlineClient(o);break}}const{opInfos:c}=n.execute(this.root,this.presences,e);if(this.changeID=this.changeID.syncClocks(n.getID()),c.length>0){const h=this.isEnableDevtools()?n.toStruct():void 0;r.push(e===It.Remote?{type:"remote-change",source:e,value:{actor:o,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:h}:{type:"local-change",source:e,value:{actor:o,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:h})}r.length>0&&this.publish(r)}applyWatchStream(n){if(n.body.case==="initialization"){const e=n.body.value.clientIds,r=new Set;for(const o of e)o!==this.changeID.getActorID()&&r.add(o);this.setOnlineClients(r),this.publish([{type:"initialized",source:It.Local,value:this.getPresences()}]);return}if(n.body.case==="event"){const{type:e,publisher:r}=n.body.value,o=[];if(e===Ia.DOCUMENT_WATCHED){if(this.onlineClients.has(r)&&this.hasPresence(r))return;this.addOnlineClient(r),this.hasPresence(r)&&o.push({type:"watched",source:It.Remote,value:{clientID:r,presence:this.getPresence(r)}})}else if(e===Ia.DOCUMENT_UNWATCHED){const c=this.getPresence(r);this.removeOnlineClient(r),c&&o.push({type:"unwatched",source:It.Remote,value:{clientID:r,presence:c}})}else if(e===Ia.DOCUMENT_BROADCAST&&n.body.value.body){const{topic:c,payload:h}=n.body.value.body,m=new TextDecoder;o.push({type:"broadcast",value:{clientID:r,topic:c,payload:JSON.parse(m.decode(h))}})}o.length>0&&this.publish(o)}}applyStatus(n){this.status=n,n==="detached"&&this.setActor(lc),this.publish([{source:n==="removed"?It.Remote:It.Local,type:"status-changed",value:n==="attached"?{status:n,actorID:this.changeID.getActorID()}:{status:n}}])}applyDocEventForReplay(n){if(n.type==="status-changed"){this.applyStatus(n.value.status),n.value.status==="attached"&&this.setActor(n.value.actorID);return}if(n.type==="snapshot"){const{snapshot:e,serverSeq:r,snapshotVector:o}=n.value;if(!e)return;this.applySnapshot(BigInt(r),Qt.hexToVersionVector(o),Qt.hexToBytes(e));return}if(n.type==="local-change"||n.type==="remote-change"){if(!n.rawChange)return;const e=Us.fromStruct(n.rawChange);this.applyChange(e,n.source)}if(n.type==="initialized"){const e=new Set;for(const{clientID:r,presence:o}of n.value)e.add(r),this.presences.set(r,o);this.setOnlineClients(e);return}if(n.type==="watched"){const{clientID:e,presence:r}=n.value;this.addOnlineClient(e),this.presences.set(e,r);return}if(n.type==="unwatched"){const{clientID:e}=n.value;this.removeOnlineClient(e),this.presences.delete(e)}if(n.type==="presence-changed"){const{clientID:e,presence:r}=n.value;this.presences.set(e,r)}}applyDocEventsForReplay(n){for(const e of n)this.applyDocEventForReplay(e)}getValueByPath(n){if(!n.startsWith("$"))throw new C(x.ErrInvalidArgument,'path must start with "$"');const e=n.split(".");e.shift();let r=this.getRoot();for(const o of e)if(r=r[o],r===void 0)return;return r}setOnlineClients(n){this.onlineClients=n}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(n){this.onlineClients.add(n)}removeOnlineClient(n){this.onlineClients.delete(n)}hasPresence(n){return this.presences.has(n)}getMyPresence(){if(this.status!=="attached")return{};const n=this.presences.get(this.changeID.getActorID());return n?En(n):{}}getPresence(n){if(n===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(n))return;const e=this.presences.get(n);return e?En(e):void 0}getPresenceForTest(n){const e=this.presences.get(n);return e?En(e):void 0}getPresences(){const n=[];n.push({clientID:this.changeID.getActorID(),presence:En(this.getMyPresence())});for(const e of this.onlineClients)this.presences.has(e)&&n.push({clientID:e,presence:En(this.presences.get(e))});return n}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const n=this.getChangeID().getActorID();return this.getPresences().filter(e=>e.clientID!==n).sort((e,r)=>e.clientID>r.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}filterVersionVector(n){const r=this.changeID.getVersionVector().filter(n);this.changeID=this.changeID.setVersionVector(r)}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new C(x.ErrRefused,"Undo is not allowed during an update");const n=this.internalHistory.popUndo();if(n===void 0)throw new C(x.ErrRefused,"There is no operation to be undone");this.ensureClone();const e=Ds.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const y of n){if(!(y instanceof Cn)){new kh(e,En(this.clone.presences.get(this.changeID.getActorID()))).set(y.value,{addToHistory:!0});continue}const b=e.issueTimeTicket();y.setExecutedAt(b),e.push(y)}const r=e.getChange();r.execute(this.clone.root,this.clone.presences,It.UndoRedo);const{opInfos:o,reverseOps:c}=r.execute(this.root,this.presences,It.UndoRedo),h=e.getReversePresence();if(h&&c.push({type:"presence",value:h}),c.length>0&&this.internalHistory.pushRedo(c),!r.hasPresenceChange()&&o.length===0)return;this.localChanges.push(r),this.changeID=r.getID();const m=this.changeID.getActorID(),p=[];o.length>0&&p.push({type:"local-change",source:It.UndoRedo,value:{message:r.getMessage()||"",operations:o,actor:m,clientSeq:r.getID().getClientSeq(),serverSeq:r.getID().getServerSeq()},rawChange:this.isEnableDevtools()?r.toStruct():void 0}),r.hasPresenceChange()&&p.push({type:"presence-changed",source:It.UndoRedo,value:{clientID:m,presence:this.getPresence(m)}}),this.publish(p)}redo(){if(this.isUpdating)throw new C(x.ErrRefused,"Redo is not allowed during an update");const n=this.internalHistory.popRedo();if(n===void 0)throw new C(x.ErrRefused,"There is no operation to be redone");this.ensureClone();const e=Ds.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const y of n){if(!(y instanceof Cn)){new kh(e,En(this.clone.presences.get(this.changeID.getActorID()))).set(y.value,{addToHistory:!0});continue}const b=e.issueTimeTicket();y.setExecutedAt(b),e.push(y)}const r=e.getChange();r.execute(this.clone.root,this.clone.presences,It.UndoRedo);const{opInfos:o,reverseOps:c}=r.execute(this.root,this.presences,It.UndoRedo),h=e.getReversePresence();if(h&&c.push({type:"presence",value:h}),c.length>0&&this.internalHistory.pushUndo(c),!r.hasPresenceChange()&&o.length===0)return;this.localChanges.push(r),this.changeID=r.getID();const m=this.changeID.getActorID(),p=[];o.length>0&&p.push({type:"local-change",source:It.UndoRedo,value:{message:r.getMessage()||"",operations:o,actor:m,clientSeq:r.getID().getClientSeq(),serverSeq:r.getID().getServerSeq()},rawChange:this.isEnableDevtools()?r.toStruct():void 0}),r.hasPresenceChange()&&p.push({type:"presence-changed",source:It.UndoRedo,value:{clientID:m,presence:this.getPresence(m)}}),this.publish(p)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}broadcast(n,e,r){const o={type:"local-broadcast",value:{topic:n,payload:e},options:r};this.publish([o])}getVersionVector(){return this.changeID.getVersionVector()}}function Y1(s,n){let e=n;return{authInterceptor:c=>async h=>(s&&h.header.set("x-api-key",s),e&&h.header.set("authorization",e),await c(h)),setToken:c=>{e=c}}}const F1="@yorkie-js/sdk",K1="0.6.5",hv={name:F1,version:K1};function $1(){return s=>async n=>(n.header.set("x-yorkie-user-agent",hv.name+"/"+hv.version),await s(n))}const X1=s=>{try{if(JSON.stringify(s)===void 0)return!1}catch{return!1}return!0};var Mu=(s=>(s.Manual="manual",s.Realtime="realtime",s.RealtimePushOnly="realtime-pushonly",s.RealtimeSyncOff="realtime-syncoff",s))(Mu||{});const Du={syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3},Uh={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class b0{constructor(n,e){d(this,"id");d(this,"key");d(this,"metadata");d(this,"status");d(this,"attachmentMap");d(this,"apiKey");d(this,"authTokenInjector");d(this,"conditions");d(this,"syncLoopDuration");d(this,"reconnectStreamDelay");d(this,"retrySyncLoopDelay");d(this,"rpcClient");d(this,"setAuthToken");d(this,"taskQueue");d(this,"processing",!1);d(this,"keepalive",!1);e=e||Du,this.key=e.key?e.key:y0(),this.metadata=e.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=e.apiKey||"",this.authTokenInjector=e.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=e.syncLoopDuration??Du.syncLoopDuration,this.reconnectStreamDelay=e.reconnectStreamDelay??Du.reconnectStreamDelay,this.retrySyncLoopDelay=e.retrySyncLoopDelay??Du.retrySyncLoopDelay;const{authInterceptor:r,setToken:o}=Y1(this.apiKey);this.setAuthToken=o,this.rpcClient=iA(DA,NA({baseUrl:n,interceptors:[r,$1()],fetch:(c,h)=>{const m={...h,keepalive:this.keepalive};return fetch(c,m)}})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const n=await this.authTokenInjector();this.setAuthToken(n)}return this.enqueueTask(async()=>this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":this.apiKey}}).then(n=>{this.id=n.clientId,this.status="activated",this.runSyncLoop(),nt.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`)}).catch(async n=>{throw nt.error(`[AC] c:"${this.getKey()}" err :`,n),await this.handleConnectError(n),n}))}deactivate(n={keepalive:!1}){if(this.status==="deactivated")return Promise.resolve();const e=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":this.apiKey}}),this.deactivateInternal(),nt.info(`[DC] c"${this.getKey()}" deactivated`)}catch(r){throw nt.error(`[DC] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}};if(n.keepalive){this.keepalive=!0;const r=e();return this.keepalive=!1,r}return this.enqueueTask(e)}hasDocument(n){return this.attachmentMap.has(n)}attach(n,e={}){if(!this.isActive())throw new C(x.ErrClientNotActivated,`${this.key} is not active`);if(n.getStatus()!==Wr.Detached)throw new C(x.ErrDocumentNotDetached,`${n.getKey()} is not detached`);n.setActor(this.id),n.update((c,h)=>h.set(e.initialPresence||{}));const r=n.subscribe("local-broadcast",async c=>{var b;const{topic:h,payload:m}=c.value,p=(b=c.options)==null?void 0:b.error,y=c.options;try{await this.broadcast(n.getKey(),h,m,y)}catch(E){E instanceof Error&&(p==null||p(E))}}),o=e.syncMode??"realtime";return this.enqueueTask(async()=>this.rpcClient.attachDocument({clientId:this.id,changePack:Qt.toChangePack(n.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}).then(async c=>{const h=Qt.fromChangePack(c.changePack);if(n.applyChangePack(h),n.getStatus()===Wr.Removed)return n;n.applyStatus(Wr.Attached),this.attachmentMap.set(n.getKey(),new B1(this.reconnectStreamDelay,n,c.documentId,o,r)),o!=="manual"&&await this.runWatchLoop(n.getKey()),nt.info(`[AD] c:"${this.getKey()}" attaches d:"${n.getKey()}"`);const m=n.getRootObject();if(e.initialRoot){const p=e.initialRoot;n.update(y=>{for(const[b,E]of Object.entries(p))if(!m.has(b)){const B=b;y[B]=E}})}return n}).catch(async c=>{throw nt.error(`[AD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}))}detach(n,e={keepalive:!1}){if(!this.isActive())throw new C(x.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(n.getKey());if(!r)throw new C(x.ErrDocumentNotAttached,`${n.getKey()} is not attached`);n.update((c,h)=>h.clear());const o=async()=>await this.rpcClient.detachDocument({clientId:this.id,documentId:r.docID,changePack:Qt.toChangePack(n.createChangePack()),removeIfNotAttached:e.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}).then(c=>{const h=Qt.fromChangePack(c.changePack);return n.applyChangePack(h),n.getStatus()!==Wr.Removed&&n.applyStatus(Wr.Detached),this.detachInternal(n.getKey()),nt.info(`[DD] c:"${this.getKey()}" detaches d:"${n.getKey()}"`),n}).catch(async c=>{throw nt.error(`[DD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c});if(e.keepalive){this.keepalive=!0;const c=o();return this.keepalive=!1,c}return this.enqueueTask(o)}async changeSyncMode(n,e){if(!this.isActive())throw new C(x.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(n.getKey());if(!r)throw new C(x.ErrDocumentNotAttached,`${n.getKey()} is not attached`);const o=r.syncMode;return o===e?n:(r.changeSyncMode(e),e==="manual"?(r.cancelWatchStream(),n):(e==="realtime"&&(r.remoteChangeEventReceived=!0),o==="manual"&&await this.runWatchLoop(n.getKey()),n))}sync(n){if(!this.isActive())throw new C(x.ErrClientNotActivated,`${this.key} is not active`);if(n){const e=this.attachmentMap.get(n.getKey());if(!e)throw new C(x.ErrDocumentNotAttached,`${n.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(e,"realtime").catch(async r=>{throw nt.error(`[SY] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}))}return this.enqueueTask(async()=>{const e=[];for(const[,r]of this.attachmentMap)e.push(this.syncInternal(r,r.syncMode));return Promise.all(e).catch(async r=>{throw nt.error(`[SY] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r})})}remove(n){if(!this.isActive())throw new C(x.ErrClientNotActivated,`${this.key} is not active`);const e=this.attachmentMap.get(n.getKey());if(!e)throw new C(x.ErrDocumentNotAttached,`${n.getKey()} is not attached`);n.setActor(this.id);const r=Qt.toChangePack(n.createChangePack());return r.isRemoved=!0,this.enqueueTask(async()=>this.rpcClient.removeDocument({clientId:this.id,documentId:e.docID,changePack:r},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}).then(o=>{const c=Qt.fromChangePack(o.changePack);n.applyChangePack(c),this.detachInternal(n.getKey()),nt.info(`[RD] c:"${this.getKey()}" removes d:"${n.getKey()}"`)}).catch(async o=>{throw nt.error(`[RD] c:"${this.getKey()}" err :`,o),await this.handleConnectError(o),o}))}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(n){return this.conditions[n]}broadcast(n,e,r,o){if(!this.isActive())throw new C(x.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(n);if(!c)throw new C(x.ErrDocumentNotAttached,`${n} is not attached`);if(!X1(r))throw new C(x.ErrInvalidArgument,"payload is not serializable");const h=(o==null?void 0:o.maxRetries)??Uh.maxRetries,m=Uh.maxBackoff;let p=0;const y=E=>Math.min(Uh.initialRetryInterval*2**E,m),b=async()=>this.enqueueTask(async()=>this.rpcClient.broadcast({clientId:this.id,documentId:c.docID,topic:e,payload:new TextEncoder().encode(JSON.stringify(r))},{headers:{"x-shard-key":`${this.apiKey}/${n}`}}).then(()=>{nt.info(`[BC] c:"${this.getKey()}" broadcasts d:"${n}" t:"${e}"`)}).catch(async E=>{if(nt.error(`[BC] c:"${this.getKey()}" err:`,E),await this.handleConnectError(E))if(E instanceof Jt&&Qr(E)===x.ErrUnauthenticated&&c.doc.publish([{type:me.AuthError,value:{reason:Jl(E).reason,method:"Broadcast"}}]),p<h)p++,setTimeout(()=>b(),y(p-1)),nt.info(`[BC] c:"${this.getKey()}" retry attempt ${p}/${h}`);else throw nt.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),E;else throw E}));return b()}runSyncLoop(){const n=()=>{if(!this.isActive()){nt.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}const e=[];for(const[,r]of this.attachmentMap)r.needRealtimeSync()&&(r.remoteChangeEventReceived=!1,e.push(this.syncInternal(r,r.syncMode).catch(async o=>{throw o instanceof Jt&&Qr(o)===x.ErrUnauthenticated&&r.doc.publish([{type:me.AuthError,value:{reason:Jl(o).reason,method:"PushPull"}}]),o})));Promise.all(e).then(()=>setTimeout(n,this.syncLoopDuration)).catch(async r=>{nt.error(`[SL] c:"${this.getKey()}" sync failed:`,r),await this.handleConnectError(r)?setTimeout(n,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1})};nt.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,n()}async runWatchLoop(n){const e=this.attachmentMap.get(n);if(!e)throw new C(x.ErrDocumentNotAttached,`${n} is not attached`);return this.conditions.WatchLoop=!0,e.runWatchLoop(r=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new C(x.ErrClientNotActivated,`${this.key} is not active`));const o=new AbortController,c=this.rpcClient.watchDocument({clientId:this.id,documentId:e.docID},{headers:{"x-shard-key":`${this.apiKey}/${n}`},signal:o.signal});return e.doc.publish([{type:me.ConnectionChanged,value:qa.Connected}]),nt.info(`[WD] c:"${this.getKey()}" watches d:"${n}"`),new Promise((h,m)=>{(async()=>{try{for await(const y of c)this.handleWatchDocumentsResponse(e,y),y.body.case==="initialization"&&h([c,o])}catch(y){e.doc.resetOnlineClients(),e.doc.publish([{type:me.Initialized,source:It.Local,value:e.doc.getPresences()}]),e.doc.publish([{type:me.ConnectionChanged,value:qa.Disconnected}]),nt.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(y)?(y instanceof Jt&&Qr(y)===x.ErrUnauthenticated&&e.doc.publish([{type:me.AuthError,value:{reason:Jl(y).reason,method:"WatchDocuments"}}]),r()):this.conditions.WatchLoop=!1,m(y)}})()})})}handleWatchDocumentsResponse(n,e){if(e.body.case==="event"&&e.body.value.type===Ia.DOCUMENT_CHANGED){n.remoteChangeEventReceived=!0;return}n.doc.applyWatchStream(e)}deactivateInternal(){this.status="deactivated";for(const[n,e]of this.attachmentMap)this.detachInternal(n),e.doc.applyStatus(Wr.Detached)}detachInternal(n){const e=this.attachmentMap.get(n);e&&(e.cancelWatchStream(),e.unsubscribeBroadcastEvent(),this.attachmentMap.delete(n))}syncInternal(n,e){const{doc:r,docID:o}=n,c=r.createChangePack();return this.rpcClient.pushPullChanges({clientId:this.id,documentId:o,changePack:Qt.toChangePack(c),pushOnly:e==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${r.getKey()}`}}).then(h=>{const m=Qt.fromChangePack(h.changePack);if(m.hasChanges()&&(n.syncMode==="realtime-pushonly"||n.syncMode==="realtime-syncoff"))return r;r.applyChangePack(m),n.doc.publish([{type:me.SyncStatusChanged,value:ud.Synced}]),r.getStatus()===Wr.Removed&&this.detachInternal(r.getKey());const p=r.getKey(),y=m.getChangeSize();return nt.info(`[PP] c:"${this.getKey()}" sync d:"${p}", push:${c.getChangeSize()} pull:${y} cp:${m.getCheckpoint().toTestString()}`),r}).catch(async h=>{throw r.publish([{type:me.SyncStatusChanged,value:ud.SyncFailed}]),nt.error(`[PP] c:"${this.getKey()}" err :`,h),h})}async handleConnectError(n){if(!(n instanceof Jt))return!1;if(n.code===Rt.Canceled||n.code===Rt.Unknown||n.code===Rt.ResourceExhausted||n.code===Rt.Unavailable)return!0;if(Qr(n)===x.ErrUnauthenticated){if(this.authTokenInjector){const e=await this.authTokenInjector(Jl(n).reason);this.setAuthToken(e)}return!0}return Qr(n)===x.ErrTooManySubscribers?(nt.error(`[WD] c:"${this.getKey()}" err :`,n.rawMessage),!0):(Qr(n)===x.ErrTooManyAttachments||(Qr(n)===x.ErrClientNotActivated||Qr(n)===x.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(n){return new Promise((e,r)=>{this.taskQueue.push(()=>n().then(e).catch(r)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{nt.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}_n.IntegerCnt,_n.LongCnt;typeof globalThis<"u"&&(globalThis.yorkie={Client:b0,Document:S0,Primitive:$t,Text:Cd,Counter:Rd,Tree:Bd,LogLevel:Re,setLogLevel:k1,IntType:_n.IntegerCnt,LongType:_n.LongCnt});const T0=Zt.createContext({client:void 0,loading:!0,error:void 0}),Z1=({apiKey:s,rpcAddr:n="https://api.yorkie.dev",children:e})=>{const[r,o]=Zt.useState(void 0),[c,h]=Zt.useState(!0),[m,p]=Zt.useState(void 0),y=Zt.useRef(void 0);return Zt.useEffect(()=>{h(!0),p(void 0);async function b(){var E;try{if((E=y.current)!=null&&E.isActive()){o(y.current),h(!1);return}const B=new b0(n,{apiKey:s});await B.activate(),y.current=B,o(B)}catch(B){p(B instanceof Error?B:new Error("Failed to activate client"))}finally{h(!1)}}return b(),()=>{var E;(E=y.current)!=null&&E.isActive()&&(y.current.deactivate({keepalive:!0}),y.current=void 0)}},[s,n]),Ct.jsx(T0.Provider,{value:{client:r,loading:c,error:m},children:e})},Q1=()=>{const s=Zt.useContext(T0);if(!s)throw new Error("useYorkie must be used under YorkieProvider");return{client:s.client,loading:s.loading,error:s.error}},cc=Zt.createContext(null),_1=({docKey:s,initialRoot:n={},initialPresence:e={},children:r})=>{const{client:o,loading:c,error:h}=Q1(),[m,p]=Zt.useState(void 0),[y,b]=Zt.useState(!0),[E,B]=Zt.useState(void 0),[R,z]=Zt.useState(n),[j,Y]=Zt.useState([]),[et,_]=Zt.useState(qa.Disconnected);Zt.useEffect(()=>{if(h){b(!1),B(h);return}if(!o||c){b(!0);return}b(!0),B(void 0);const gt=new S0(s),P=[];P.push(gt.subscribe(()=>{z(gt.getRoot())})),P.push(gt.subscribe("presence",()=>{Y(gt.getPresences())})),P.push(gt.subscribe("connection",vt=>{_(vt.value)}));async function ct(){try{await(o==null?void 0:o.attach(gt,{initialRoot:n,initialPresence:e})),p(gt),z(gt.getRoot()),Y(gt.getPresences())}catch(vt){B(vt instanceof Error?vt:new Error("Failed to attach document"))}finally{b(!1)}}return ct(),()=>{o&&o.hasDocument(s)&&o.detach(gt);for(const vt of P)vt()}},[o,c,h,s]);const ut=Zt.useCallback(gt=>{if(m)try{m.update(gt)}catch(P){B(P instanceof Error?P:new Error("Failed to update document"))}},[m]);return Ct.jsx(cc.Provider,{value:{root:R,presences:j,connection:et,update:ut,loading:y,error:E},children:r})},W1=()=>{const s=Zt.useContext(cc);if(!s)throw new Error("useDocument must be used within a DocumentProvider");return{root:s.root,presences:s.presences,connection:s.connection,update:s.update,loading:s.loading,error:s.error}},tw=()=>{const s=Zt.useContext(cc);if(!s)throw new Error("usePresences must be used within a DocumentProvider");return s.presences},A0=()=>{const s=Zt.useContext(cc);if(!s)throw new Error("useConnection must be used within a DocumentProvider");return s.connection};function ew(){const s=A0();return Ct.jsxs("div",{id:"connection-status",children:["Connection Status: "," ",s===qa.Connected?Ct.jsx("span",{className:"green",children:" "}):Ct.jsx("span",{className:"red",children:" "})]})}function nw(){const s=tw();return Ct.jsx("div",{id:"peers-container",children:Ct.jsxs("p",{children:["Peers:"," ",s.map((n,e)=>Ct.jsxs(Qb.Fragment,{children:[Ct.jsx("span",{children:n.clientID.slice(-2)}),e<s.length-1&&Ct.jsx("span",{children:", "})]},n.clientID))]})})}function iw(){const{root:s,update:n,loading:e,error:r}=W1(),o=A0();return e?Ct.jsx("p",{children:"Loading..."}):r?Ct.jsxs("div",{id:"error",children:[Ct.jsxs("p",{children:["Error Name: ",r.name]}),Ct.jsxs("p",{children:["Error Message: ",r.message]})]}):Ct.jsxs("div",{className:"counter-side",children:[Ct.jsx(ew,{}),Ct.jsx(nw,{}),Ct.jsxs("div",{id:"counter-container",children:[Ct.jsx("h1",{id:"counter",children:"Counter"}),Ct.jsx("div",{id:"counter-value",children:s.counter}),Ct.jsx("button",{id:"increment",disabled:o===qa.Disconnected,onClick:()=>n(c=>c.counter+=1),children:"Increment"})]}),Ct.jsx("div",{id:"error",children:o===qa.Disconnected&&Ct.jsx("p",{children:"Stream subscription is disconnected"})})]})}function rw(){return Ct.jsx(Z1,{apiKey:"",rpcAddr:"http://localhost:8080",children:Ct.jsx("div",{className:"page-container",children:Ct.jsx(_1,{docKey:"react-document-limit",initialRoot:{counter:0},children:Ct.jsx(iw,{})})})})}rT.createRoot(document.getElementById("root")).render(Ct.jsx(Zt.StrictMode,{children:Ct.jsx(rw,{})}));
