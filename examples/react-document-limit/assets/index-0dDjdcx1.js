var ob=Object.defineProperty;var lb=(s,n,e)=>n in s?ob(s,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[n]=e;var d=(s,n,e)=>lb(s,typeof n!="symbol"?n+"":n,e);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function e(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=e(l);fetch(l.href,c)}})();function ub(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Nh={exports:{}},Io={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function cb(){if(Rp)return Io;Rp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function e(r,l,c){var h=null;if(c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),"key"in l){c={};for(var m in l)m!=="key"&&(c[m]=l[m])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:h,ref:l!==void 0?l:null,props:c}}return Io.Fragment=n,Io.jsx=e,Io.jsxs=e,Io}var kp;function fb(){return kp||(kp=1,Nh.exports=cb()),Nh.exports}var Ot=fb(),xh={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function hb(){if(Bp)return ft;Bp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),N=Symbol.iterator;function B(w){return w===null||typeof w!="object"?null:(w=N&&w[N]||w["@@iterator"],typeof w=="function"?w:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,Y={};function X(w,J,$){this.props=w,this.context=J,this.refs=Y,this.updater=$||R}X.prototype.isReactComponent={},X.prototype.setState=function(w,J){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,J,"setState")},X.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function tt(){}tt.prototype=X.prototype;function mt(w,J,$){this.props=w,this.context=J,this.refs=Y,this.updater=$||R}var K=mt.prototype=new tt;K.constructor=mt,V(K,X.prototype),K.isPureReactComponent=!0;var at=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},ht=Object.prototype.hasOwnProperty;function Vt(w,J,$,j,it,wt){return $=wt.ref,{$$typeof:s,type:w,key:J,ref:$!==void 0?$:null,props:wt}}function le(w,J){return Vt(w.type,J,void 0,void 0,void 0,w.props)}function ke(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function Xn(w){var J={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function($){return J[$]})}var vn=/\/+/g;function ie(w,J){return typeof w=="object"&&w!==null&&w.key!=null?Xn(""+w.key):J.toString(36)}function na(){}function ia(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(na,na):(w.status="pending",w.then(function(J){w.status==="pending"&&(w.status="fulfilled",w.value=J)},function(J){w.status==="pending"&&(w.status="rejected",w.reason=J)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function ge(w,J,$,j,it){var wt=typeof w;(wt==="undefined"||wt==="boolean")&&(w=null);var ut=!1;if(w===null)ut=!0;else switch(wt){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(w.$$typeof){case s:case n:ut=!0;break;case T:return ut=w._init,ge(ut(w._payload),J,$,j,it)}}if(ut)return it=it(w),ut=j===""?"."+ie(w,0):j,at(it)?($="",ut!=null&&($=ut.replace(vn,"$&/")+"/"),ge(it,J,$,"",function(Sr){return Sr})):it!=null&&(ke(it)&&(it=le(it,$+(it.key==null||w&&w.key===it.key?"":(""+it.key).replace(vn,"$&/")+"/")+ut)),J.push(it)),1;ut=0;var Be=j===""?".":j+":";if(at(w))for(var Ut=0;Ut<w.length;Ut++)j=w[Ut],wt=Be+ie(j,Ut),ut+=ge(j,J,$,wt,it);else if(Ut=B(w),typeof Ut=="function")for(w=Ut.call(w),Ut=0;!(j=w.next()).done;)j=j.value,wt=Be+ie(j,Ut++),ut+=ge(j,J,$,wt,it);else if(wt==="object"){if(typeof w.then=="function")return ge(ia(w),J,$,j,it);throw J=String(w),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ut}function U(w,J,$){if(w==null)return w;var j=[],it=0;return ge(w,j,"","",function(wt){return J.call($,wt,it++)}),j}function G(w){if(w._status===-1){var J=w._result;J=J(),J.then(function($){(w._status===0||w._status===-1)&&(w._status=1,w._result=$)},function($){(w._status===0||w._status===-1)&&(w._status=2,w._result=$)}),w._status===-1&&(w._status=0,w._result=J)}if(w._status===1)return w._result.default;throw w._result}var ot=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Bt(){}return ft.Children={map:U,forEach:function(w,J,$){U(w,function(){J.apply(this,arguments)},$)},count:function(w){var J=0;return U(w,function(){J++}),J},toArray:function(w){return U(w,function(J){return J})||[]},only:function(w){if(!ke(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},ft.Component=X,ft.Fragment=e,ft.Profiler=l,ft.PureComponent=mt,ft.StrictMode=r,ft.Suspense=p,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,ft.__COMPILER_RUNTIME={__proto__:null,c:function(w){return Q.H.useMemoCache(w)}},ft.cache=function(w){return function(){return w.apply(null,arguments)}},ft.cloneElement=function(w,J,$){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var j=V({},w.props),it=w.key,wt=void 0;if(J!=null)for(ut in J.ref!==void 0&&(wt=void 0),J.key!==void 0&&(it=""+J.key),J)!ht.call(J,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&J.ref===void 0||(j[ut]=J[ut]);var ut=arguments.length-2;if(ut===1)j.children=$;else if(1<ut){for(var Be=Array(ut),Ut=0;Ut<ut;Ut++)Be[Ut]=arguments[Ut+2];j.children=Be}return Vt(w.type,it,void 0,void 0,wt,j)},ft.createContext=function(w){return w={$$typeof:h,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},ft.createElement=function(w,J,$){var j,it={},wt=null;if(J!=null)for(j in J.key!==void 0&&(wt=""+J.key),J)ht.call(J,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(it[j]=J[j]);var ut=arguments.length-2;if(ut===1)it.children=$;else if(1<ut){for(var Be=Array(ut),Ut=0;Ut<ut;Ut++)Be[Ut]=arguments[Ut+2];it.children=Be}if(w&&w.defaultProps)for(j in ut=w.defaultProps,ut)it[j]===void 0&&(it[j]=ut[j]);return Vt(w,wt,void 0,void 0,null,it)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(w){return{$$typeof:m,render:w}},ft.isValidElement=ke,ft.lazy=function(w){return{$$typeof:T,_payload:{_status:-1,_result:w},_init:G}},ft.memo=function(w,J){return{$$typeof:y,type:w,compare:J===void 0?null:J}},ft.startTransition=function(w){var J=Q.T,$={};Q.T=$;try{var j=w(),it=Q.S;it!==null&&it($,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(Bt,ot)}catch(wt){ot(wt)}finally{Q.T=J}},ft.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},ft.use=function(w){return Q.H.use(w)},ft.useActionState=function(w,J,$){return Q.H.useActionState(w,J,$)},ft.useCallback=function(w,J){return Q.H.useCallback(w,J)},ft.useContext=function(w){return Q.H.useContext(w)},ft.useDebugValue=function(){},ft.useDeferredValue=function(w,J){return Q.H.useDeferredValue(w,J)},ft.useEffect=function(w,J,$){var j=Q.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(w,J)},ft.useId=function(){return Q.H.useId()},ft.useImperativeHandle=function(w,J,$){return Q.H.useImperativeHandle(w,J,$)},ft.useInsertionEffect=function(w,J){return Q.H.useInsertionEffect(w,J)},ft.useLayoutEffect=function(w,J){return Q.H.useLayoutEffect(w,J)},ft.useMemo=function(w,J){return Q.H.useMemo(w,J)},ft.useOptimistic=function(w,J){return Q.H.useOptimistic(w,J)},ft.useReducer=function(w,J,$){return Q.H.useReducer(w,J,$)},ft.useRef=function(w){return Q.H.useRef(w)},ft.useState=function(w){return Q.H.useState(w)},ft.useSyncExternalStore=function(w,J,$){return Q.H.useSyncExternalStore(w,J,$)},ft.useTransition=function(){return Q.H.useTransition()},ft.version="19.1.0",ft}var Ip;function gd(){return Ip||(Ip=1,xh.exports=hb()),xh.exports}var Pt=gd();const db=ub(Pt);var Dh={exports:{}},Mo={},Oh={exports:{}},Ch={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function gb(){return Mp||(Mp=1,function(s){function n(U,G){var ot=U.length;U.push(G);t:for(;0<ot;){var Bt=ot-1>>>1,w=U[Bt];if(0<l(w,G))U[Bt]=G,U[ot]=w,ot=Bt;else break t}}function e(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var G=U[0],ot=U.pop();if(ot!==G){U[0]=ot;t:for(var Bt=0,w=U.length,J=w>>>1;Bt<J;){var $=2*(Bt+1)-1,j=U[$],it=$+1,wt=U[it];if(0>l(j,ot))it<w&&0>l(wt,j)?(U[Bt]=wt,U[it]=ot,Bt=it):(U[Bt]=j,U[$]=ot,Bt=$);else if(it<w&&0>l(wt,ot))U[Bt]=wt,U[it]=ot,Bt=it;else break t}}return G}function l(U,G){var ot=U.sortIndex-G.sortIndex;return ot!==0?ot:U.id-G.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var p=[],y=[],T=1,N=null,B=3,R=!1,V=!1,Y=!1,X=!1,tt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function at(U){for(var G=e(y);G!==null;){if(G.callback===null)r(y);else if(G.startTime<=U)r(y),G.sortIndex=G.expirationTime,n(p,G);else break;G=e(y)}}function Q(U){if(Y=!1,at(U),!V)if(e(p)!==null)V=!0,ht||(ht=!0,ie());else{var G=e(y);G!==null&&ge(Q,G.startTime-U)}}var ht=!1,Vt=-1,le=5,ke=-1;function Xn(){return X?!0:!(s.unstable_now()-ke<le)}function vn(){if(X=!1,ht){var U=s.unstable_now();ke=U;var G=!0;try{t:{V=!1,Y&&(Y=!1,mt(Vt),Vt=-1),R=!0;var ot=B;try{e:{for(at(U),N=e(p);N!==null&&!(N.expirationTime>U&&Xn());){var Bt=N.callback;if(typeof Bt=="function"){N.callback=null,B=N.priorityLevel;var w=Bt(N.expirationTime<=U);if(U=s.unstable_now(),typeof w=="function"){N.callback=w,at(U),G=!0;break e}N===e(p)&&r(p),at(U)}else r(p);N=e(p)}if(N!==null)G=!0;else{var J=e(y);J!==null&&ge(Q,J.startTime-U),G=!1}}break t}finally{N=null,B=ot,R=!1}G=void 0}}finally{G?ie():ht=!1}}}var ie;if(typeof K=="function")ie=function(){K(vn)};else if(typeof MessageChannel<"u"){var na=new MessageChannel,ia=na.port2;na.port1.onmessage=vn,ie=function(){ia.postMessage(null)}}else ie=function(){tt(vn,0)};function ge(U,G){Vt=tt(function(){U(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return B},s.unstable_next=function(U){switch(B){case 1:case 2:case 3:var G=3;break;default:G=B}var ot=B;B=G;try{return U()}finally{B=ot}},s.unstable_requestPaint=function(){X=!0},s.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ot=B;B=U;try{return G()}finally{B=ot}},s.unstable_scheduleCallback=function(U,G,ot){var Bt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Bt+ot:Bt):ot=Bt,U){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ot+w,U={id:T++,callback:G,priorityLevel:U,startTime:ot,expirationTime:w,sortIndex:-1},ot>Bt?(U.sortIndex=ot,n(y,U),e(p)===null&&U===e(y)&&(Y?(mt(Vt),Vt=-1):Y=!0,ge(Q,ot-Bt))):(U.sortIndex=w,n(p,U),V||R||(V=!0,ht||(ht=!0,ie()))),U},s.unstable_shouldYield=Xn,s.unstable_wrapCallback=function(U){var G=B;return function(){var ot=B;B=G;try{return U.apply(this,arguments)}finally{B=ot}}}}(Ch)),Ch}var zp;function mb(){return zp||(zp=1,Oh.exports=gb()),Oh.exports}var Rh={exports:{}},pe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function yb(){if(Up)return pe;Up=1;var s=gd();function n(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(n(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,T){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:N==null?null:""+N,children:p,containerInfo:y,implementation:T}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pe.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return c(p,y,null,T)},pe.flushSync=function(p){var y=h.T,T=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=y,r.p=T,r.d.f()}},pe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},pe.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},pe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,N=m(T,y.crossOrigin),B=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:N,integrity:B,fetchPriority:R}):T==="script"&&r.d.X(p,{crossOrigin:N,integrity:B,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},pe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},pe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,N=m(T,y.crossOrigin);r.d.L(p,T,{crossOrigin:N,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},pe.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},pe.requestFormReset=function(p){r.d.r(p)},pe.unstable_batchedUpdates=function(p,y){return p(y)},pe.useFormState=function(p,y,T){return h.H.useFormState(p,y,T)},pe.useFormStatus=function(){return h.H.useHostTransitionStatus()},pe.version="19.1.0",pe}var Lp;function pb(){if(Lp)return Rh.exports;Lp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Rh.exports=yb(),Rh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function vb(){if(qp)return Mo;qp=1;var s=mb(),n=gd(),e=pb();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(r(188))}function p(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){a=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return m(u),t;if(f===o)return m(u),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=u,o=f;else{for(var g=!1,v=u.child;v;){if(v===a){g=!0,a=u,o=f;break}if(v===o){g=!0,o=u,a=f;break}v=v.sibling}if(!g){for(v=f.child;v;){if(v===a){g=!0,a=f,o=u;break}if(v===o){g=!0,o=f,a=u;break}v=v.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,N=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),tt=Symbol.for("react.provider"),mt=Symbol.for("react.consumer"),K=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),Vt=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),ke=Symbol.for("react.activity"),Xn=Symbol.for("react.memo_cache_sentinel"),vn=Symbol.iterator;function ie(t){return t===null||typeof t!="object"?null:(t=vn&&t[vn]||t["@@iterator"],typeof t=="function"?t:null)}var na=Symbol.for("react.client.reference");function ia(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===na?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case X:return"Profiler";case Y:return"StrictMode";case Q:return"Suspense";case ht:return"SuspenseList";case ke:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case R:return"Portal";case K:return(t.displayName||"Context")+".Provider";case mt:return(t._context.displayName||"Context")+".Consumer";case at:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vt:return i=t.displayName||null,i!==null?i:ia(t.type)||"Memo";case le:i=t._payload,t=t._init;try{return ia(t(i))}catch{}}return null}var ge=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Bt=[],w=-1;function J(t){return{current:t}}function $(t){0>w||(t.current=Bt[w],Bt[w]=null,w--)}function j(t,i){w++,Bt[w]=t.current,t.current=i}var it=J(null),wt=J(null),ut=J(null),Be=J(null);function Ut(t,i){switch(j(ut,i),j(wt,t),j(it,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?rp(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=rp(i),t=ap(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(it),j(it,t)}function Sr(){$(it),$(wt),$(ut)}function uc(t){t.memoizedState!==null&&j(Be,t);var i=it.current,a=ap(i,t.type);i!==a&&(j(wt,t),j(it,a))}function al(t){wt.current===t&&($(it),$(wt)),Be.current===t&&($(Be),Oo._currentValue=ot)}var cc=Object.prototype.hasOwnProperty,fc=s.unstable_scheduleCallback,hc=s.unstable_cancelCallback,J0=s.unstable_shouldYield,P0=s.unstable_requestPaint,Dn=s.unstable_now,V0=s.unstable_getCurrentPriorityLevel,qd=s.unstable_ImmediatePriority,Jd=s.unstable_UserBlockingPriority,sl=s.unstable_NormalPriority,H0=s.unstable_LowPriority,Pd=s.unstable_IdlePriority,j0=s.log,Y0=s.unstable_setDisableYieldValue,zs=null,Ie=null;function Tr(t){if(typeof j0=="function"&&Y0(t),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(zs,t)}catch{}}var Me=Math.clz32?Math.clz32:$0,G0=Math.log,K0=Math.LN2;function $0(t){return t>>>=0,t===0?32:31-(G0(t)/K0|0)|0}var ol=256,ll=4194304;function ra(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ul(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var u=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var v=o&134217727;return v!==0?(o=v&~f,o!==0?u=ra(o):(g&=v,g!==0?u=ra(g):a||(a=v&~t,a!==0&&(u=ra(a))))):(v=o&~f,v!==0?u=ra(v):g!==0?u=ra(g):a||(a=o&~t,a!==0&&(u=ra(a)))),u===0?0:i!==0&&i!==u&&(i&f)===0&&(f=u&-u,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:u}function Us(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function X0(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vd(){var t=ol;return ol<<=1,(ol&4194048)===0&&(ol=256),t}function Hd(){var t=ll;return ll<<=1,(ll&62914560)===0&&(ll=4194304),t}function dc(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ls(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Z0(t,i,a,o,u,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var v=t.entanglements,b=t.expirationTimes,O=t.hiddenUpdates;for(a=g&~a;0<a;){var z=31-Me(a),q=1<<z;v[z]=0,b[z]=-1;var k=O[z];if(k!==null)for(O[z]=null,z=0;z<k.length;z++){var I=k[z];I!==null&&(I.lane&=-536870913)}a&=~q}o!==0&&jd(t,o,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~i))}function jd(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-Me(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194090}function Yd(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-Me(a),u=1<<o;u&i|t[o]&i&&(t[o]|=i),a&=~u}}function gc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function mc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gd(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:Ep(t.type))}function Q0(t,i){var a=G.p;try{return G.p=t,i()}finally{G.p=a}}var br=Math.random().toString(36).slice(2),me="__reactFiber$"+br,we="__reactProps$"+br,Ia="__reactContainer$"+br,yc="__reactEvents$"+br,_0="__reactListeners$"+br,F0="__reactHandles$"+br,Kd="__reactResources$"+br,qs="__reactMarker$"+br;function pc(t){delete t[me],delete t[we],delete t[yc],delete t[_0],delete t[F0]}function Ma(t){var i=t[me];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ia]||a[me]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=up(t);t!==null;){if(a=t[me])return a;t=up(t)}return i}t=a,a=t.parentNode}return null}function za(t){if(t=t[me]||t[Ia]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Js(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Ua(t){var i=t[Kd];return i||(i=t[Kd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function re(t){t[qs]=!0}var $d=new Set,Xd={};function aa(t,i){La(t,i),La(t+"Capture",i)}function La(t,i){for(Xd[t]=i,t=0;t<i.length;t++)$d.add(i[t])}var W0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zd={},Qd={};function tS(t){return cc.call(Qd,t)?!0:cc.call(Zd,t)?!1:W0.test(t)?Qd[t]=!0:(Zd[t]=!0,!1)}function cl(t,i,a){if(tS(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function fl(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Zn(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}var vc,_d;function qa(t){if(vc===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);vc=i&&i[1]||"",_d=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vc+t+_d}var Sc=!1;function Tc(t,i){if(!t||Sc)return"";Sc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(I){var k=I}Reflect.construct(t,[],q)}else{try{q.call()}catch(I){k=I}t.call(q.prototype)}}else{try{throw Error()}catch(I){k=I}(q=t())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(I){if(I&&k&&typeof I.stack=="string")return[I.stack,k.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],v=f[1];if(g&&v){var b=g.split(`
`),O=v.split(`
`);for(u=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;if(o===b.length||u===O.length)for(o=b.length-1,u=O.length-1;1<=o&&0<=u&&b[o]!==O[u];)u--;for(;1<=o&&0<=u;o--,u--)if(b[o]!==O[u]){if(o!==1||u!==1)do if(o--,u--,0>u||b[o]!==O[u]){var z=`
`+b[o].replace(" at new "," at ");return t.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",t.displayName)),z}while(1<=o&&0<=u);break}}}finally{Sc=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?qa(a):""}function eS(t){switch(t.tag){case 26:case 27:case 5:return qa(t.type);case 16:return qa("Lazy");case 13:return qa("Suspense");case 19:return qa("SuspenseList");case 0:case 15:return Tc(t.type,!1);case 11:return Tc(t.type.render,!1);case 1:return Tc(t.type,!0);case 31:return qa("Activity");default:return""}}function Fd(t){try{var i="";do i+=eS(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wd(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function nS(t){var i=Wd(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),o=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return u.call(this)},set:function(g){o=""+g,f.call(this,g)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function hl(t){t._valueTracker||(t._valueTracker=nS(t))}function tg(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=Wd(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function dl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var iS=/[\n"\\]/g;function $e(t){return t.replace(iS,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function bc(t,i,a,o,u,f,g,v){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),i!=null?g==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ke(i)):t.value!==""+Ke(i)&&(t.value=""+Ke(i)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),i!=null?wc(t,g,Ke(i)):a!=null?wc(t,g,Ke(a)):o!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+Ke(v):t.removeAttribute("name")}function eg(t,i,a,o,u,f,g,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+Ke(a):"",i=i!=null?""+Ke(i):a,v||i===t.value||(t.value=i),t.defaultValue=i}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=v?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function wc(t,i,a){i==="number"&&dl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ja(t,i,a,o){if(t=t.options,i){i={};for(var u=0;u<a.length;u++)i["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=i.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ke(a),i=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,o&&(t[u].defaultSelected=!0);return}i!==null||t[u].disabled||(i=t[u])}i!==null&&(i.selected=!0)}}function ng(t,i,a){if(i!=null&&(i=""+Ke(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ke(a):""}function ig(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(ge(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ke(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function Pa(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var rS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rg(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||rS.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function ag(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var u in i)o=i[u],i.hasOwnProperty(u)&&a[u]!==o&&rg(t,u,o)}else for(var f in i)i.hasOwnProperty(f)&&rg(t,f,i[f])}function Ac(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gl(t){return sS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ec=null;function Nc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Va=null,Ha=null;function sg(t){var i=za(t);if(i&&(t=i.stateNode)){var a=t[we]||null;t:switch(t=i.stateNode,i.type){case"input":if(bc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$e(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var u=o[we]||null;if(!u)throw Error(r(90));bc(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&tg(o)}break t;case"textarea":ng(t,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ja(t,!!a.multiple,i,!1)}}}var xc=!1;function og(t,i,a){if(xc)return t(i,a);xc=!0;try{var o=t(i);return o}finally{if(xc=!1,(Va!==null||Ha!==null)&&(Wl(),Va&&(i=Va,t=Ha,Ha=Va=null,sg(i),t)))for(i=0;i<t.length;i++)sg(t[i])}}function Ps(t,i){var a=t.stateNode;if(a===null)return null;var o=a[we]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dc=!1;if(Qn)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){Dc=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{Dc=!1}var wr=null,Oc=null,ml=null;function lg(){if(ml)return ml;var t,i=Oc,a=i.length,o,u="value"in wr?wr.value:wr.textContent,f=u.length;for(t=0;t<a&&i[t]===u[t];t++);var g=a-t;for(o=1;o<=g&&i[a-o]===u[f-o];o++);return ml=u.slice(t,1<o?1-o:void 0)}function yl(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function pl(){return!0}function ug(){return!1}function Ae(t){function i(a,o,u,f,g){this._reactName=a,this._targetInst=u,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(a=t[v],this[v]=a?a(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?pl:ug,this.isPropagationStopped=ug,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pl)},persist:function(){},isPersistent:pl}),i}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=Ae(sa),Hs=T({},sa,{view:0,detail:0}),oS=Ae(Hs),Cc,Rc,js,Sl=T({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==js&&(js&&t.type==="mousemove"?(Cc=t.screenX-js.screenX,Rc=t.screenY-js.screenY):Rc=Cc=0,js=t),Cc)},movementY:function(t){return"movementY"in t?t.movementY:Rc}}),cg=Ae(Sl),lS=T({},Sl,{dataTransfer:0}),uS=Ae(lS),cS=T({},Hs,{relatedTarget:0}),kc=Ae(cS),fS=T({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),hS=Ae(fS),dS=T({},sa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gS=Ae(dS),mS=T({},sa,{data:0}),fg=Ae(mS),yS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SS(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=vS[t])?!!i[t]:!1}function Bc(){return SS}var TS=T({},Hs,{key:function(t){if(t.key){var i=yS[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=yl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(t){return t.type==="keypress"?yl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bS=Ae(TS),wS=T({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hg=Ae(wS),AS=T({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),ES=Ae(AS),NS=T({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),xS=Ae(NS),DS=T({},Sl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OS=Ae(DS),CS=T({},sa,{newState:0,oldState:0}),RS=Ae(CS),kS=[9,13,27,32],Ic=Qn&&"CompositionEvent"in window,Ys=null;Qn&&"documentMode"in document&&(Ys=document.documentMode);var BS=Qn&&"TextEvent"in window&&!Ys,dg=Qn&&(!Ic||Ys&&8<Ys&&11>=Ys),gg=" ",mg=!1;function yg(t,i){switch(t){case"keyup":return kS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ja=!1;function IS(t,i){switch(t){case"compositionend":return pg(i);case"keypress":return i.which!==32?null:(mg=!0,gg);case"textInput":return t=i.data,t===gg&&mg?null:t;default:return null}}function MS(t,i){if(ja)return t==="compositionend"||!Ic&&yg(t,i)?(t=lg(),ml=Oc=wr=null,ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return dg&&i.locale!=="ko"?null:i.data;default:return null}}var zS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!zS[t.type]:i==="textarea"}function Sg(t,i,a,o){Va?Ha?Ha.push(o):Ha=[o]:Va=o,i=au(i,"onChange"),0<i.length&&(a=new vl("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Gs=null,Ks=null;function US(t){Wy(t,0)}function Tl(t){var i=Js(t);if(tg(i))return t}function Tg(t,i){if(t==="change")return i}var bg=!1;if(Qn){var Mc;if(Qn){var zc="oninput"in document;if(!zc){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),zc=typeof wg.oninput=="function"}Mc=zc}else Mc=!1;bg=Mc&&(!document.documentMode||9<document.documentMode)}function Ag(){Gs&&(Gs.detachEvent("onpropertychange",Eg),Ks=Gs=null)}function Eg(t){if(t.propertyName==="value"&&Tl(Ks)){var i=[];Sg(i,Ks,t,Nc(t)),og(US,i)}}function LS(t,i,a){t==="focusin"?(Ag(),Gs=i,Ks=a,Gs.attachEvent("onpropertychange",Eg)):t==="focusout"&&Ag()}function qS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tl(Ks)}function JS(t,i){if(t==="click")return Tl(i)}function PS(t,i){if(t==="input"||t==="change")return Tl(i)}function VS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var ze=typeof Object.is=="function"?Object.is:VS;function $s(t,i){if(ze(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var u=a[o];if(!cc.call(i,u)||!ze(t[u],i[u]))return!1}return!0}function Ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xg(t,i){var a=Ng(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ng(a)}}function Dg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Dg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=dl(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=dl(t.document)}return i}function Uc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var HS=Qn&&"documentMode"in document&&11>=document.documentMode,Ya=null,Lc=null,Xs=null,qc=!1;function Cg(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qc||Ya==null||Ya!==dl(o)||(o=Ya,"selectionStart"in o&&Uc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Xs&&$s(Xs,o)||(Xs=o,o=au(Lc,"onSelect"),0<o.length&&(i=new vl("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Ya)))}function oa(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ga={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},Jc={},Rg={};Qn&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function la(t){if(Jc[t])return Jc[t];if(!Ga[t])return t;var i=Ga[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Rg)return Jc[t]=i[a];return t}var kg=la("animationend"),Bg=la("animationiteration"),Ig=la("animationstart"),jS=la("transitionrun"),YS=la("transitionstart"),GS=la("transitioncancel"),Mg=la("transitionend"),zg=new Map,Pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pc.push("scrollEnd");function Sn(t,i){zg.set(t,i),aa(i,[t])}var Ug=new WeakMap;function Xe(t,i){if(typeof t=="object"&&t!==null){var a=Ug.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Fd(i)},Ug.set(t,i),i)}return{value:t,source:i,stack:Fd(i)}}var Ze=[],Ka=0,Vc=0;function bl(){for(var t=Ka,i=Vc=Ka=0;i<t;){var a=Ze[i];Ze[i++]=null;var o=Ze[i];Ze[i++]=null;var u=Ze[i];Ze[i++]=null;var f=Ze[i];if(Ze[i++]=null,o!==null&&u!==null){var g=o.pending;g===null?u.next=u:(u.next=g.next,g.next=u),o.pending=u}f!==0&&Lg(a,u,f)}}function wl(t,i,a,o){Ze[Ka++]=t,Ze[Ka++]=i,Ze[Ka++]=a,Ze[Ka++]=o,Vc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Hc(t,i,a,o){return wl(t,i,a,o),Al(t)}function $a(t,i){return wl(t,null,null,i),Al(t)}function Lg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var u=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&i!==null&&(u=31-Me(a),t=f.hiddenUpdates,o=t[u],o===null?t[u]=[i]:o.push(i),i.lane=a|536870912),f):null}function Al(t){if(50<To)throw To=0,Zf=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Xa={};function KS(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ue(t,i,a,o){return new KS(t,i,a,o)}function jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _n(t,i){var a=t.alternate;return a===null?(a=Ue(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function qg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function El(t,i,a,o,u,f){var g=0;if(o=t,typeof t=="function")jc(t)&&(g=1);else if(typeof t=="string")g=XT(t,a,it.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case ke:return t=Ue(31,a,i,u),t.elementType=ke,t.lanes=f,t;case V:return ua(a.children,u,f,i);case Y:g=8,u|=24;break;case X:return t=Ue(12,a,i,u|2),t.elementType=X,t.lanes=f,t;case Q:return t=Ue(13,a,i,u),t.elementType=Q,t.lanes=f,t;case ht:return t=Ue(19,a,i,u),t.elementType=ht,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tt:case K:g=10;break t;case mt:g=9;break t;case at:g=11;break t;case Vt:g=14;break t;case le:g=16,o=null;break t}g=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=Ue(g,a,i,u),i.elementType=t,i.type=o,i.lanes=f,i}function ua(t,i,a,o){return t=Ue(7,t,o,i),t.lanes=a,t}function Yc(t,i,a){return t=Ue(6,t,null,i),t.lanes=a,t}function Gc(t,i,a){return i=Ue(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Za=[],Qa=0,Nl=null,xl=0,Qe=[],_e=0,ca=null,Fn=1,Wn="";function fa(t,i){Za[Qa++]=xl,Za[Qa++]=Nl,Nl=t,xl=i}function Jg(t,i,a){Qe[_e++]=Fn,Qe[_e++]=Wn,Qe[_e++]=ca,ca=t;var o=Fn;t=Wn;var u=32-Me(o)-1;o&=~(1<<u),a+=1;var f=32-Me(i)+u;if(30<f){var g=u-u%5;f=(o&(1<<g)-1).toString(32),o>>=g,u-=g,Fn=1<<32-Me(i)+u|a<<u|o,Wn=f+t}else Fn=1<<f|a<<u|o,Wn=t}function Kc(t){t.return!==null&&(fa(t,1),Jg(t,1,0))}function $c(t){for(;t===Nl;)Nl=Za[--Qa],Za[Qa]=null,xl=Za[--Qa],Za[Qa]=null;for(;t===ca;)ca=Qe[--_e],Qe[_e]=null,Wn=Qe[--_e],Qe[_e]=null,Fn=Qe[--_e],Qe[_e]=null}var Te=null,Ht=null,Et=!1,ha=null,On=!1,Xc=Error(r(519));function da(t){var i=Error(r(418,""));throw _s(Xe(i,t)),Xc}function Pg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[me]=t,i[we]=o,a){case"dialog":pt("cancel",i),pt("close",i);break;case"iframe":case"object":case"embed":pt("load",i);break;case"video":case"audio":for(a=0;a<wo.length;a++)pt(wo[a],i);break;case"source":pt("error",i);break;case"img":case"image":case"link":pt("error",i),pt("load",i);break;case"details":pt("toggle",i);break;case"input":pt("invalid",i),eg(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),hl(i);break;case"select":pt("invalid",i);break;case"textarea":pt("invalid",i),ig(i,o.value,o.defaultValue,o.children),hl(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||ip(i.textContent,a)?(o.popover!=null&&(pt("beforetoggle",i),pt("toggle",i)),o.onScroll!=null&&pt("scroll",i),o.onScrollEnd!=null&&pt("scrollend",i),o.onClick!=null&&(i.onclick=su),i=!0):i=!1,i||da(t)}function Vg(t){for(Te=t.return;Te;)switch(Te.tag){case 5:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Te=Te.return}}function Zs(t){if(t!==Te)return!1;if(!Et)return Vg(t),Et=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||fh(t.type,t.memoizedProps)),a=!a),a&&Ht&&da(t),Vg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Ht=bn(t.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Ht=null}}else i===27?(i=Ht,qr(t.type)?(t=mh,mh=null,Ht=t):Ht=i):Ht=Te?bn(t.stateNode.nextSibling):null;return!0}function Qs(){Ht=Te=null,Et=!1}function Hg(){var t=ha;return t!==null&&(xe===null?xe=t:xe.push.apply(xe,t),ha=null),t}function _s(t){ha===null?ha=[t]:ha.push(t)}var Zc=J(null),ga=null,ti=null;function Ar(t,i,a){j(Zc,i._currentValue),i._currentValue=a}function ei(t){t._currentValue=Zc.current,$(Zc)}function Qc(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function _c(t,i,a,o){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;t:for(;f!==null;){var v=f;f=u;for(var b=0;b<i.length;b++)if(v.context===i[b]){f.lanes|=a,v=f.alternate,v!==null&&(v.lanes|=a),Qc(f.return,a,t),o||(g=null);break t}f=v.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Qc(g,a,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Fs(t,i,a,o){t=null;for(var u=i,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var v=u.type;ze(u.pendingProps.value,g.value)||(t!==null?t.push(v):t=[v])}}else if(u===Be.current){if(g=u.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Oo):t=[Oo])}u=u.return}t!==null&&_c(i,t,a,o),i.flags|=262144}function Dl(t){for(t=t.firstContext;t!==null;){if(!ze(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ma(t){ga=t,ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ye(t){return jg(ga,t)}function Ol(t,i){return ga===null&&ma(t),jg(t,i)}function jg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ti===null){if(t===null)throw Error(r(308));ti=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ti=ti.next=i;return a}var $S=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},XS=s.unstable_scheduleCallback,ZS=s.unstable_NormalPriority,te={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fc(){return{controller:new $S,data:new Map,refCount:0}}function Ws(t){t.refCount--,t.refCount===0&&XS(ZS,function(){t.controller.abort()})}var to=null,Wc=0,_a=0,Fa=null;function QS(t,i){if(to===null){var a=to=[];Wc=0,_a=nh(),Fa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Wc++,i.then(Yg,Yg),i}function Yg(){if(--Wc===0&&to!==null){Fa!==null&&(Fa.status="fulfilled");var t=to;to=null,_a=0,Fa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function _S(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var u=0;u<a.length;u++)(0,a[u])(i)},function(u){for(o.status="rejected",o.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),o}var Gg=U.S;U.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&QS(t,i),Gg!==null&&Gg(t,i)};var ya=J(null);function tf(){var t=ya.current;return t!==null?t:zt.pooledCache}function Cl(t,i){i===null?j(ya,ya.current):j(ya,i.pool)}function Kg(){var t=tf();return t===null?null:{parent:te._currentValue,pool:t}}var eo=Error(r(460)),$g=Error(r(474)),Rl=Error(r(542)),ef={then:function(){}};function Xg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function kl(){}function Zg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(kl,kl),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,_g(t),t;default:if(typeof i.status=="string")i.then(kl,kl);else{if(t=zt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var u=i;u.status="fulfilled",u.value=o}},function(o){if(i.status==="pending"){var u=i;u.status="rejected",u.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,_g(t),t}throw no=i,eo}}var no=null;function Qg(){if(no===null)throw Error(r(459));var t=no;return no=null,t}function _g(t){if(t===eo||t===Rl)throw Error(r(483))}var Er=!1;function nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Nr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xr(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(xt&2)!==0){var u=o.pending;return u===null?i.next=i:(i.next=u.next,u.next=i),o.pending=i,i=Al(t),Lg(t,null,a),i}return wl(t,o,i,a),Al(t)}function io(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Yd(t,a)}}function af(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?u=f=i:f=f.next=i}else u=f=i;a={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var sf=!1;function ro(){if(sf){var t=Fa;if(t!==null)throw t}}function ao(t,i,a,o){sf=!1;var u=t.updateQueue;Er=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var b=v,O=b.next;b.next=null,g===null?f=O:g.next=O,g=b;var z=t.alternate;z!==null&&(z=z.updateQueue,v=z.lastBaseUpdate,v!==g&&(v===null?z.firstBaseUpdate=O:v.next=O,z.lastBaseUpdate=b))}if(f!==null){var q=u.baseState;g=0,z=O=b=null,v=f;do{var k=v.lane&-536870913,I=k!==v.lane;if(I?(Tt&k)===k:(o&k)===k){k!==0&&k===_a&&(sf=!0),z!==null&&(z=z.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var lt=t,rt=v;k=i;var kt=a;switch(rt.tag){case 1:if(lt=rt.payload,typeof lt=="function"){q=lt.call(kt,q,k);break t}q=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=rt.payload,k=typeof lt=="function"?lt.call(kt,q,k):lt,k==null)break t;q=T({},q,k);break t;case 2:Er=!0}}k=v.callback,k!==null&&(t.flags|=64,I&&(t.flags|=8192),I=u.callbacks,I===null?u.callbacks=[k]:I.push(k))}else I={lane:k,tag:v.tag,payload:v.payload,callback:v.callback,next:null},z===null?(O=z=I,b=q):z=z.next=I,g|=k;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;I=v,v=I.next,I.next=null,u.lastBaseUpdate=I,u.shared.pending=null}}while(!0);z===null&&(b=q),u.baseState=b,u.firstBaseUpdate=O,u.lastBaseUpdate=z,f===null&&(u.shared.lanes=0),Mr|=g,t.lanes=g,t.memoizedState=q}}function Fg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Wg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Fg(a[t],i)}var Wa=J(null),Bl=J(0);function tm(t,i){t=li,j(Bl,t),j(Wa,i),li=t|i.baseLanes}function of(){j(Bl,li),j(Wa,Wa.current)}function lf(){li=Bl.current,$(Wa),$(Bl)}var Dr=0,dt=null,Ct=null,_t=null,Il=!1,ts=!1,pa=!1,Ml=0,so=0,es=null,FS=0;function $t(){throw Error(r(321))}function uf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!ze(t[a],i[a]))return!1;return!0}function cf(t,i,a,o,u,f){return Dr=f,dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=t===null||t.memoizedState===null?Lm:qm,pa=!1,f=a(o,u),pa=!1,ts&&(f=nm(i,a,o,u)),em(t),f}function em(t){U.H=Pl;var i=Ct!==null&&Ct.next!==null;if(Dr=0,_t=Ct=dt=null,Il=!1,so=0,es=null,i)throw Error(r(300));t===null||ae||(t=t.dependencies,t!==null&&Dl(t)&&(ae=!0))}function nm(t,i,a,o){dt=t;var u=0;do{if(ts&&(es=null),so=0,ts=!1,25<=u)throw Error(r(301));if(u+=1,_t=Ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=aT,f=i(a,o)}while(ts);return f}function WS(){var t=U.H,i=t.useState()[0];return i=typeof i.then=="function"?oo(i):i,t=t.useState()[0],(Ct!==null?Ct.memoizedState:null)!==t&&(dt.flags|=1024),i}function ff(){var t=Ml!==0;return Ml=0,t}function hf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function df(t){if(Il){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Il=!1}Dr=0,_t=Ct=dt=null,ts=!1,so=Ml=0,es=null}function Ee(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?dt.memoizedState=_t=t:_t=_t.next=t,_t}function Ft(){if(Ct===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var i=_t===null?dt.memoizedState:_t.next;if(i!==null)_t=i,Ct=t;else{if(t===null)throw dt.alternate===null?Error(r(467)):Error(r(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},_t===null?dt.memoizedState=_t=t:_t=_t.next=t}return _t}function gf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oo(t){var i=so;return so+=1,es===null&&(es=[]),t=Zg(es,t,i),i=dt,(_t===null?i.memoizedState:_t.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?Lm:qm),t}function zl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return oo(t);if(t.$$typeof===K)return ye(t)}throw Error(r(438,String(t)))}function mf(t){var i=null,a=dt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(u){return u.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=gf(),dt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=Xn;return i.index++,a}function ni(t,i){return typeof i=="function"?i(t):i}function Ul(t){var i=Ft();return yf(i,Ct,t)}function yf(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var u=t.baseQueue,f=o.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}i.baseQueue=u=f,o.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{i=u.next;var v=g=null,b=null,O=i,z=!1;do{var q=O.lane&-536870913;if(q!==O.lane?(Tt&q)===q:(Dr&q)===q){var k=O.revertLane;if(k===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),q===_a&&(z=!0);else if((Dr&k)===k){O=O.next,k===_a&&(z=!0);continue}else q={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},b===null?(v=b=q,g=f):b=b.next=q,dt.lanes|=k,Mr|=k;q=O.action,pa&&a(f,q),f=O.hasEagerState?O.eagerState:a(f,q)}else k={lane:q,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},b===null?(v=b=k,g=f):b=b.next=k,dt.lanes|=q,Mr|=q;O=O.next}while(O!==null&&O!==i);if(b===null?g=f:b.next=v,!ze(f,t.memoizedState)&&(ae=!0,z&&(a=Fa,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=b,o.lastRenderedState=f}return u===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function pf(t){var i=Ft(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,u=a.pending,f=i.memoizedState;if(u!==null){a.pending=null;var g=u=u.next;do f=t(f,g.action),g=g.next;while(g!==u);ze(f,i.memoizedState)||(ae=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function im(t,i,a){var o=dt,u=Ft(),f=Et;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var g=!ze((Ct||u).memoizedState,a);g&&(u.memoizedState=a,ae=!0),u=u.queue;var v=sm.bind(null,o,u,t);if(lo(2048,8,v,[t]),u.getSnapshot!==i||g||_t!==null&&_t.memoizedState.tag&1){if(o.flags|=2048,ns(9,Ll(),am.bind(null,o,u,a,i),null),zt===null)throw Error(r(349));f||(Dr&124)!==0||rm(o,i,a)}return a}function rm(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=dt.updateQueue,i===null?(i=gf(),dt.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function am(t,i,a,o){i.value=a,i.getSnapshot=o,om(i)&&lm(t)}function sm(t,i,a){return a(function(){om(i)&&lm(t)})}function om(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!ze(t,a)}catch{return!0}}function lm(t){var i=$a(t,2);i!==null&&Ve(i,t,2)}function vf(t){var i=Ee();if(typeof t=="function"){var a=t;if(t=a(),pa){Tr(!0);try{a()}finally{Tr(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:t},i}function um(t,i,a,o){return t.baseState=a,yf(t,Ct,typeof o=="function"?o:ni)}function tT(t,i,a,o,u){if(Jl(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};U.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,cm(i,f)):(f.next=a.next,i.pending=a.next=f)}}function cm(t,i){var a=i.action,o=i.payload,u=t.state;if(i.isTransition){var f=U.T,g={};U.T=g;try{var v=a(u,o),b=U.S;b!==null&&b(g,v),fm(t,i,v)}catch(O){Sf(t,i,O)}finally{U.T=f}}else try{f=a(u,o),fm(t,i,f)}catch(O){Sf(t,i,O)}}function fm(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){hm(t,i,o)},function(o){return Sf(t,i,o)}):hm(t,i,a)}function hm(t,i,a){i.status="fulfilled",i.value=a,dm(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,cm(t,a)))}function Sf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,dm(i),i=i.next;while(i!==o)}t.action=null}function dm(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function gm(t,i){return i}function mm(t,i){if(Et){var a=zt.formState;if(a!==null){t:{var o=dt;if(Et){if(Ht){e:{for(var u=Ht,f=On;u.nodeType!==8;){if(!f){u=null;break e}if(u=bn(u.nextSibling),u===null){u=null;break e}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Ht=bn(u.nextSibling),o=u.data==="F!";break t}}da(o)}o=!1}o&&(i=a[0])}}return a=Ee(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gm,lastRenderedState:i},a.queue=o,a=Mm.bind(null,dt,o),o.dispatch=a,o=vf(!1),f=Ef.bind(null,dt,!1,o.queue),o=Ee(),u={state:i,dispatch:null,action:t,pending:null},o.queue=u,a=tT.bind(null,dt,u,f,a),u.dispatch=a,o.memoizedState=t,[i,a,!1]}function ym(t){var i=Ft();return pm(i,Ct,t)}function pm(t,i,a){if(i=yf(t,i,gm)[0],t=Ul(ni)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=oo(i)}catch(g){throw g===eo?Rl:g}else o=i;i=Ft();var u=i.queue,f=u.dispatch;return a!==i.memoizedState&&(dt.flags|=2048,ns(9,Ll(),eT.bind(null,u,a),null)),[o,f,t]}function eT(t,i){t.action=i}function vm(t){var i=Ft(),a=Ct;if(a!==null)return pm(i,a,t);Ft(),i=i.memoizedState,a=Ft();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function ns(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=dt.updateQueue,i===null&&(i=gf(),dt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Ll(){return{destroy:void 0,resource:void 0}}function Sm(){return Ft().memoizedState}function ql(t,i,a,o){var u=Ee();o=o===void 0?null:o,dt.flags|=t,u.memoizedState=ns(1|i,Ll(),a,o)}function lo(t,i,a,o){var u=Ft();o=o===void 0?null:o;var f=u.memoizedState.inst;Ct!==null&&o!==null&&uf(o,Ct.memoizedState.deps)?u.memoizedState=ns(i,f,a,o):(dt.flags|=t,u.memoizedState=ns(1|i,f,a,o))}function Tm(t,i){ql(8390656,8,t,i)}function bm(t,i){lo(2048,8,t,i)}function wm(t,i){return lo(4,2,t,i)}function Am(t,i){return lo(4,4,t,i)}function Em(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Nm(t,i,a){a=a!=null?a.concat([t]):null,lo(4,4,Em.bind(null,i,t),a)}function Tf(){}function xm(t,i){var a=Ft();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&uf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Dm(t,i){var a=Ft();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&uf(i,o[1]))return o[0];if(o=t(),pa){Tr(!0);try{t()}finally{Tr(!1)}}return a.memoizedState=[o,i],o}function bf(t,i,a){return a===void 0||(Dr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Ry(),dt.lanes|=t,Mr|=t,a)}function Om(t,i,a,o){return ze(a,i)?a:Wa.current!==null?(t=bf(t,a,o),ze(t,i)||(ae=!0),t):(Dr&42)===0?(ae=!0,t.memoizedState=a):(t=Ry(),dt.lanes|=t,Mr|=t,i)}function Cm(t,i,a,o,u){var f=G.p;G.p=f!==0&&8>f?f:8;var g=U.T,v={};U.T=v,Ef(t,!1,i,a);try{var b=u(),O=U.S;if(O!==null&&O(v,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var z=_S(b,o);uo(t,i,z,Pe(t))}else uo(t,i,o,Pe(t))}catch(q){uo(t,i,{then:function(){},status:"rejected",reason:q},Pe())}finally{G.p=f,U.T=g}}function nT(){}function wf(t,i,a,o){if(t.tag!==5)throw Error(r(476));var u=Rm(t).queue;Cm(t,u,i,ot,a===null?nT:function(){return km(t),a(o)})}function Rm(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:ot},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function km(t){var i=Rm(t).next.queue;uo(t,i,{},Pe())}function Af(){return ye(Oo)}function Bm(){return Ft().memoizedState}function Im(){return Ft().memoizedState}function iT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Pe();t=Nr(a);var o=xr(i,t,a);o!==null&&(Ve(o,i,a),io(o,i,a)),i={cache:Fc()},t.payload=i;return}i=i.return}}function rT(t,i,a){var o=Pe();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Jl(t)?zm(i,a):(a=Hc(t,i,a,o),a!==null&&(Ve(a,t,o),Um(a,i,o)))}function Mm(t,i,a){var o=Pe();uo(t,i,a,o)}function uo(t,i,a,o){var u={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Jl(t))zm(i,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var g=i.lastRenderedState,v=f(g,a);if(u.hasEagerState=!0,u.eagerState=v,ze(v,g))return wl(t,i,u,0),zt===null&&bl(),!1}catch{}finally{}if(a=Hc(t,i,u,o),a!==null)return Ve(a,t,o),Um(a,i,o),!0}return!1}function Ef(t,i,a,o){if(o={lane:2,revertLane:nh(),action:o,hasEagerState:!1,eagerState:null,next:null},Jl(t)){if(i)throw Error(r(479))}else i=Hc(t,a,o,2),i!==null&&Ve(i,t,2)}function Jl(t){var i=t.alternate;return t===dt||i!==null&&i===dt}function zm(t,i){ts=Il=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Um(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Yd(t,a)}}var Pl={readContext:ye,use:zl,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t},Lm={readContext:ye,use:zl,useCallback:function(t,i){return Ee().memoizedState=[t,i===void 0?null:i],t},useContext:ye,useEffect:Tm,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ql(4194308,4,Em.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ql(4194308,4,t,i)},useInsertionEffect:function(t,i){ql(4,2,t,i)},useMemo:function(t,i){var a=Ee();i=i===void 0?null:i;var o=t();if(pa){Tr(!0);try{t()}finally{Tr(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=Ee();if(a!==void 0){var u=a(i);if(pa){Tr(!0);try{a(i)}finally{Tr(!1)}}}else u=i;return o.memoizedState=o.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},o.queue=t,t=t.dispatch=rT.bind(null,dt,t),[o.memoizedState,t]},useRef:function(t){var i=Ee();return t={current:t},i.memoizedState=t},useState:function(t){t=vf(t);var i=t.queue,a=Mm.bind(null,dt,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Tf,useDeferredValue:function(t,i){var a=Ee();return bf(a,t,i)},useTransition:function(){var t=vf(!1);return t=Cm.bind(null,dt,t.queue,!0,!1),Ee().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=dt,u=Ee();if(Et){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),zt===null)throw Error(r(349));(Tt&124)!==0||rm(o,i,a)}u.memoizedState=a;var f={value:a,getSnapshot:i};return u.queue=f,Tm(sm.bind(null,o,f,t),[t]),o.flags|=2048,ns(9,Ll(),am.bind(null,o,f,a,i),null),a},useId:function(){var t=Ee(),i=zt.identifierPrefix;if(Et){var a=Wn,o=Fn;a=(o&~(1<<32-Me(o)-1)).toString(32)+a,i="«"+i+"R"+a,a=Ml++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=FS++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Af,useFormState:mm,useActionState:mm,useOptimistic:function(t){var i=Ee();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ef.bind(null,dt,!0,a),a.dispatch=i,[t,i]},useMemoCache:mf,useCacheRefresh:function(){return Ee().memoizedState=iT.bind(null,dt)}},qm={readContext:ye,use:zl,useCallback:xm,useContext:ye,useEffect:bm,useImperativeHandle:Nm,useInsertionEffect:wm,useLayoutEffect:Am,useMemo:Dm,useReducer:Ul,useRef:Sm,useState:function(){return Ul(ni)},useDebugValue:Tf,useDeferredValue:function(t,i){var a=Ft();return Om(a,Ct.memoizedState,t,i)},useTransition:function(){var t=Ul(ni)[0],i=Ft().memoizedState;return[typeof t=="boolean"?t:oo(t),i]},useSyncExternalStore:im,useId:Bm,useHostTransitionStatus:Af,useFormState:ym,useActionState:ym,useOptimistic:function(t,i){var a=Ft();return um(a,Ct,t,i)},useMemoCache:mf,useCacheRefresh:Im},aT={readContext:ye,use:zl,useCallback:xm,useContext:ye,useEffect:bm,useImperativeHandle:Nm,useInsertionEffect:wm,useLayoutEffect:Am,useMemo:Dm,useReducer:pf,useRef:Sm,useState:function(){return pf(ni)},useDebugValue:Tf,useDeferredValue:function(t,i){var a=Ft();return Ct===null?bf(a,t,i):Om(a,Ct.memoizedState,t,i)},useTransition:function(){var t=pf(ni)[0],i=Ft().memoizedState;return[typeof t=="boolean"?t:oo(t),i]},useSyncExternalStore:im,useId:Bm,useHostTransitionStatus:Af,useFormState:vm,useActionState:vm,useOptimistic:function(t,i){var a=Ft();return Ct!==null?um(a,Ct,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Im},is=null,co=0;function Vl(t){var i=co;return co+=1,is===null&&(is=[]),Zg(is,t,i)}function fo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Hl(t,i){throw i.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Jm(t){var i=t._init;return i(t._payload)}function Pm(t){function i(E,A){if(t){var D=E.deletions;D===null?(E.deletions=[A],E.flags|=16):D.push(A)}}function a(E,A){if(!t)return null;for(;A!==null;)i(E,A),A=A.sibling;return null}function o(E){for(var A=new Map;E!==null;)E.key!==null?A.set(E.key,E):A.set(E.index,E),E=E.sibling;return A}function u(E,A){return E=_n(E,A),E.index=0,E.sibling=null,E}function f(E,A,D){return E.index=D,t?(D=E.alternate,D!==null?(D=D.index,D<A?(E.flags|=67108866,A):D):(E.flags|=67108866,A)):(E.flags|=1048576,A)}function g(E){return t&&E.alternate===null&&(E.flags|=67108866),E}function v(E,A,D,L){return A===null||A.tag!==6?(A=Yc(D,E.mode,L),A.return=E,A):(A=u(A,D),A.return=E,A)}function b(E,A,D,L){var Z=D.type;return Z===V?z(E,A,D.props.children,L,D.key):A!==null&&(A.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===le&&Jm(Z)===A.type)?(A=u(A,D.props),fo(A,D),A.return=E,A):(A=El(D.type,D.key,D.props,null,E.mode,L),fo(A,D),A.return=E,A)}function O(E,A,D,L){return A===null||A.tag!==4||A.stateNode.containerInfo!==D.containerInfo||A.stateNode.implementation!==D.implementation?(A=Gc(D,E.mode,L),A.return=E,A):(A=u(A,D.children||[]),A.return=E,A)}function z(E,A,D,L,Z){return A===null||A.tag!==7?(A=ua(D,E.mode,L,Z),A.return=E,A):(A=u(A,D),A.return=E,A)}function q(E,A,D){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Yc(""+A,E.mode,D),A.return=E,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case B:return D=El(A.type,A.key,A.props,null,E.mode,D),fo(D,A),D.return=E,D;case R:return A=Gc(A,E.mode,D),A.return=E,A;case le:var L=A._init;return A=L(A._payload),q(E,A,D)}if(ge(A)||ie(A))return A=ua(A,E.mode,D,null),A.return=E,A;if(typeof A.then=="function")return q(E,Vl(A),D);if(A.$$typeof===K)return q(E,Ol(E,A),D);Hl(E,A)}return null}function k(E,A,D,L){var Z=A!==null?A.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return Z!==null?null:v(E,A,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case B:return D.key===Z?b(E,A,D,L):null;case R:return D.key===Z?O(E,A,D,L):null;case le:return Z=D._init,D=Z(D._payload),k(E,A,D,L)}if(ge(D)||ie(D))return Z!==null?null:z(E,A,D,L,null);if(typeof D.then=="function")return k(E,A,Vl(D),L);if(D.$$typeof===K)return k(E,A,Ol(E,D),L);Hl(E,D)}return null}function I(E,A,D,L,Z){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return E=E.get(D)||null,v(A,E,""+L,Z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case B:return E=E.get(L.key===null?D:L.key)||null,b(A,E,L,Z);case R:return E=E.get(L.key===null?D:L.key)||null,O(A,E,L,Z);case le:var gt=L._init;return L=gt(L._payload),I(E,A,D,L,Z)}if(ge(L)||ie(L))return E=E.get(D)||null,z(A,E,L,Z,null);if(typeof L.then=="function")return I(E,A,D,Vl(L),Z);if(L.$$typeof===K)return I(E,A,D,Ol(A,L),Z);Hl(A,L)}return null}function lt(E,A,D,L){for(var Z=null,gt=null,F=A,st=A=0,oe=null;F!==null&&st<D.length;st++){F.index>st?(oe=F,F=null):oe=F.sibling;var At=k(E,F,D[st],L);if(At===null){F===null&&(F=oe);break}t&&F&&At.alternate===null&&i(E,F),A=f(At,A,st),gt===null?Z=At:gt.sibling=At,gt=At,F=oe}if(st===D.length)return a(E,F),Et&&fa(E,st),Z;if(F===null){for(;st<D.length;st++)F=q(E,D[st],L),F!==null&&(A=f(F,A,st),gt===null?Z=F:gt.sibling=F,gt=F);return Et&&fa(E,st),Z}for(F=o(F);st<D.length;st++)oe=I(F,E,st,D[st],L),oe!==null&&(t&&oe.alternate!==null&&F.delete(oe.key===null?st:oe.key),A=f(oe,A,st),gt===null?Z=oe:gt.sibling=oe,gt=oe);return t&&F.forEach(function(jr){return i(E,jr)}),Et&&fa(E,st),Z}function rt(E,A,D,L){if(D==null)throw Error(r(151));for(var Z=null,gt=null,F=A,st=A=0,oe=null,At=D.next();F!==null&&!At.done;st++,At=D.next()){F.index>st?(oe=F,F=null):oe=F.sibling;var jr=k(E,F,At.value,L);if(jr===null){F===null&&(F=oe);break}t&&F&&jr.alternate===null&&i(E,F),A=f(jr,A,st),gt===null?Z=jr:gt.sibling=jr,gt=jr,F=oe}if(At.done)return a(E,F),Et&&fa(E,st),Z;if(F===null){for(;!At.done;st++,At=D.next())At=q(E,At.value,L),At!==null&&(A=f(At,A,st),gt===null?Z=At:gt.sibling=At,gt=At);return Et&&fa(E,st),Z}for(F=o(F);!At.done;st++,At=D.next())At=I(F,E,st,At.value,L),At!==null&&(t&&At.alternate!==null&&F.delete(At.key===null?st:At.key),A=f(At,A,st),gt===null?Z=At:gt.sibling=At,gt=At);return t&&F.forEach(function(sb){return i(E,sb)}),Et&&fa(E,st),Z}function kt(E,A,D,L){if(typeof D=="object"&&D!==null&&D.type===V&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case B:t:{for(var Z=D.key;A!==null;){if(A.key===Z){if(Z=D.type,Z===V){if(A.tag===7){a(E,A.sibling),L=u(A,D.props.children),L.return=E,E=L;break t}}else if(A.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===le&&Jm(Z)===A.type){a(E,A.sibling),L=u(A,D.props),fo(L,D),L.return=E,E=L;break t}a(E,A);break}else i(E,A);A=A.sibling}D.type===V?(L=ua(D.props.children,E.mode,L,D.key),L.return=E,E=L):(L=El(D.type,D.key,D.props,null,E.mode,L),fo(L,D),L.return=E,E=L)}return g(E);case R:t:{for(Z=D.key;A!==null;){if(A.key===Z)if(A.tag===4&&A.stateNode.containerInfo===D.containerInfo&&A.stateNode.implementation===D.implementation){a(E,A.sibling),L=u(A,D.children||[]),L.return=E,E=L;break t}else{a(E,A);break}else i(E,A);A=A.sibling}L=Gc(D,E.mode,L),L.return=E,E=L}return g(E);case le:return Z=D._init,D=Z(D._payload),kt(E,A,D,L)}if(ge(D))return lt(E,A,D,L);if(ie(D)){if(Z=ie(D),typeof Z!="function")throw Error(r(150));return D=Z.call(D),rt(E,A,D,L)}if(typeof D.then=="function")return kt(E,A,Vl(D),L);if(D.$$typeof===K)return kt(E,A,Ol(E,D),L);Hl(E,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,A!==null&&A.tag===6?(a(E,A.sibling),L=u(A,D),L.return=E,E=L):(a(E,A),L=Yc(D,E.mode,L),L.return=E,E=L),g(E)):a(E,A)}return function(E,A,D,L){try{co=0;var Z=kt(E,A,D,L);return is=null,Z}catch(F){if(F===eo||F===Rl)throw F;var gt=Ue(29,F,null,E.mode);return gt.lanes=L,gt.return=E,gt}finally{}}}var rs=Pm(!0),Vm=Pm(!1),Fe=J(null),Cn=null;function Or(t){var i=t.alternate;j(ee,ee.current&1),j(Fe,t),Cn===null&&(i===null||Wa.current!==null||i.memoizedState!==null)&&(Cn=t)}function Hm(t){if(t.tag===22){if(j(ee,ee.current),j(Fe,t),Cn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Cn=t)}}else Cr()}function Cr(){j(ee,ee.current),j(Fe,Fe.current)}function ii(t){$(Fe),Cn===t&&(Cn=null),$(ee)}var ee=J(0);function jl(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||gh(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Nf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var xf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Pe(),u=Nr(o);u.payload=i,a!=null&&(u.callback=a),i=xr(t,u,o),i!==null&&(Ve(i,t,o),io(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Pe(),u=Nr(o);u.tag=1,u.payload=i,a!=null&&(u.callback=a),i=xr(t,u,o),i!==null&&(Ve(i,t,o),io(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Pe(),o=Nr(a);o.tag=2,i!=null&&(o.callback=i),i=xr(t,o,a),i!==null&&(Ve(i,t,a),io(i,t,a))}};function jm(t,i,a,o,u,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):i.prototype&&i.prototype.isPureReactComponent?!$s(a,o)||!$s(u,f):!0}function Ym(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&xf.enqueueReplaceState(i,i.state,null)}function va(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var u in t)a[u]===void 0&&(a[u]=t[u])}return a}var Yl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Gm(t){Yl(t)}function Km(t){console.error(t)}function $m(t){Yl(t)}function Gl(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Xm(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Df(t,i,a){return a=Nr(a),a.tag=3,a.payload={element:null},a.callback=function(){Gl(t,i)},a}function Zm(t){return t=Nr(t),t.tag=3,t}function Qm(t,i,a,o){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=o.value;t.payload=function(){return u(f)},t.callback=function(){Xm(i,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Xm(i,a,o),typeof u!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function sT(t,i,a,o,u){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Fs(i,a,u,!0),a=Fe.current,a!==null){switch(a.tag){case 13:return Cn===null?_f():a.alternate===null&&jt===0&&(jt=3),a.flags&=-257,a.flags|=65536,a.lanes=u,o===ef?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Wf(t,o,u)),!1;case 22:return a.flags|=65536,o===ef?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Wf(t,o,u)),!1}throw Error(r(435,a.tag))}return Wf(t,o,u),_f(),!1}if(Et)return i=Fe.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=u,o!==Xc&&(t=Error(r(422),{cause:o}),_s(Xe(t,a)))):(o!==Xc&&(i=Error(r(423),{cause:o}),_s(Xe(i,a))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,o=Xe(o,a),u=Df(t.stateNode,o,u),af(t,u),jt!==4&&(jt=2)),!1;var f=Error(r(520),{cause:o});if(f=Xe(f,a),So===null?So=[f]:So.push(f),jt!==4&&(jt=2),i===null)return!0;o=Xe(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=u&-u,a.lanes|=t,t=Df(a.stateNode,o,t),af(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zr===null||!zr.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Zm(u),Qm(u,t,a,o),af(a,u),!1}a=a.return}while(a!==null);return!1}var _m=Error(r(461)),ae=!1;function ue(t,i,a,o){i.child=t===null?Vm(i,null,a,o):rs(i,t.child,a,o)}function Fm(t,i,a,o,u){a=a.render;var f=i.ref;if("ref"in o){var g={};for(var v in o)v!=="ref"&&(g[v]=o[v])}else g=o;return ma(i),o=cf(t,i,a,g,f,u),v=ff(),t!==null&&!ae?(hf(t,i,u),ri(t,i,u)):(Et&&v&&Kc(i),i.flags|=1,ue(t,i,o,u),i.child)}function Wm(t,i,a,o,u){if(t===null){var f=a.type;return typeof f=="function"&&!jc(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,ty(t,i,f,o,u)):(t=El(a.type,null,o,i,i.mode,u),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!zf(t,u)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:$s,a(g,o)&&t.ref===i.ref)return ri(t,i,u)}return i.flags|=1,t=_n(f,o),t.ref=i.ref,t.return=i,i.child=t}function ty(t,i,a,o,u){if(t!==null){var f=t.memoizedProps;if($s(f,o)&&t.ref===i.ref)if(ae=!1,i.pendingProps=o=f,zf(t,u))(t.flags&131072)!==0&&(ae=!0);else return i.lanes=t.lanes,ri(t,i,u)}return Of(t,i,a,o,u)}function ey(t,i,a){var o=i.pendingProps,u=o.children,f=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,t!==null){for(u=i.child=t.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return ny(t,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cl(i,f!==null?f.cachePool:null),f!==null?tm(i,f):of(),Hm(i);else return i.lanes=i.childLanes=536870912,ny(t,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(Cl(i,f.cachePool),tm(i,f),Cr(),i.memoizedState=null):(t!==null&&Cl(i,null),of(),Cr());return ue(t,i,u,a),i.child}function ny(t,i,a,o){var u=tf();return u=u===null?null:{parent:te._currentValue,pool:u},i.memoizedState={baseLanes:a,cachePool:u},t!==null&&Cl(i,null),of(),Hm(i),t!==null&&Fs(t,i,o,!0),null}function Kl(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Of(t,i,a,o,u){return ma(i),a=cf(t,i,a,o,void 0,u),o=ff(),t!==null&&!ae?(hf(t,i,u),ri(t,i,u)):(Et&&o&&Kc(i),i.flags|=1,ue(t,i,a,u),i.child)}function iy(t,i,a,o,u,f){return ma(i),i.updateQueue=null,a=nm(i,o,a,u),em(t),o=ff(),t!==null&&!ae?(hf(t,i,f),ri(t,i,f)):(Et&&o&&Kc(i),i.flags|=1,ue(t,i,a,f),i.child)}function ry(t,i,a,o,u){if(ma(i),i.stateNode===null){var f=Xa,g=a.contextType;typeof g=="object"&&g!==null&&(f=ye(g)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},nf(i),g=a.contextType,f.context=typeof g=="object"&&g!==null?ye(g):Xa,f.state=i.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Nf(i,a,g,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&xf.enqueueReplaceState(f,f.state,null),ao(i,o,f,u),ro(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var v=i.memoizedProps,b=va(a,v);f.props=b;var O=f.context,z=a.contextType;g=Xa,typeof z=="object"&&z!==null&&(g=ye(z));var q=a.getDerivedStateFromProps;z=typeof q=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=i.pendingProps!==v,z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||O!==g)&&Ym(i,f,o,g),Er=!1;var k=i.memoizedState;f.state=k,ao(i,o,f,u),ro(),O=i.memoizedState,v||k!==O||Er?(typeof q=="function"&&(Nf(i,a,q,o),O=i.memoizedState),(b=Er||jm(i,a,b,o,k,O,g))?(z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=O),f.props=o,f.state=O,f.context=g,o=b):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,rf(t,i),g=i.memoizedProps,z=va(a,g),f.props=z,q=i.pendingProps,k=f.context,O=a.contextType,b=Xa,typeof O=="object"&&O!==null&&(b=ye(O)),v=a.getDerivedStateFromProps,(O=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==q||k!==b)&&Ym(i,f,o,b),Er=!1,k=i.memoizedState,f.state=k,ao(i,o,f,u),ro();var I=i.memoizedState;g!==q||k!==I||Er||t!==null&&t.dependencies!==null&&Dl(t.dependencies)?(typeof v=="function"&&(Nf(i,a,v,o),I=i.memoizedState),(z=Er||jm(i,a,z,o,k,I,b)||t!==null&&t.dependencies!==null&&Dl(t.dependencies))?(O||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,I,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,I,b)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=I),f.props=o,f.state=I,f.context=b,o=z):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,Kl(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=rs(i,t.child,null,u),i.child=rs(i,null,a,u)):ue(t,i,a,u),i.memoizedState=f.state,t=i.child):t=ri(t,i,u),t}function ay(t,i,a,o){return Qs(),i.flags|=256,ue(t,i,a,o),i.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(t){return{baseLanes:t,cachePool:Kg()}}function kf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=We),t}function sy(t,i,a){var o=i.pendingProps,u=!1,f=(i.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(ee.current&2)!==0),g&&(u=!0,i.flags&=-129),g=(i.flags&32)!==0,i.flags&=-33,t===null){if(Et){if(u?Or(i):Cr(),Et){var v=Ht,b;if(b=v){t:{for(b=v,v=On;b.nodeType!==8;){if(!v){v=null;break t}if(b=bn(b.nextSibling),b===null){v=null;break t}}v=b}v!==null?(i.memoizedState={dehydrated:v,treeContext:ca!==null?{id:Fn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},b=Ue(18,null,null,0),b.stateNode=v,b.return=i,i.child=b,Te=i,Ht=null,b=!0):b=!1}b||da(i)}if(v=i.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return gh(v)?i.lanes=32:i.lanes=536870912,null;ii(i)}return v=o.children,o=o.fallback,u?(Cr(),u=i.mode,v=$l({mode:"hidden",children:v},u),o=ua(o,u,a,null),v.return=i,o.return=i,v.sibling=o,i.child=v,u=i.child,u.memoizedState=Rf(a),u.childLanes=kf(t,g,a),i.memoizedState=Cf,o):(Or(i),Bf(i,v))}if(b=t.memoizedState,b!==null&&(v=b.dehydrated,v!==null)){if(f)i.flags&256?(Or(i),i.flags&=-257,i=If(t,i,a)):i.memoizedState!==null?(Cr(),i.child=t.child,i.flags|=128,i=null):(Cr(),u=o.fallback,v=i.mode,o=$l({mode:"visible",children:o.children},v),u=ua(u,v,a,null),u.flags|=2,o.return=i,u.return=i,o.sibling=u,i.child=o,rs(i,t.child,null,a),o=i.child,o.memoizedState=Rf(a),o.childLanes=kf(t,g,a),i.memoizedState=Cf,i=u);else if(Or(i),gh(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var O=g.dgst;g=O,o=Error(r(419)),o.stack="",o.digest=g,_s({value:o,source:null,stack:null}),i=If(t,i,a)}else if(ae||Fs(t,i,a,!1),g=(a&t.childLanes)!==0,ae||g){if(g=zt,g!==null&&(o=a&-a,o=(o&42)!==0?1:gc(o),o=(o&(g.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,$a(t,o),Ve(g,t,o),_m;v.data==="$?"||_f(),i=If(t,i,a)}else v.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=b.treeContext,Ht=bn(v.nextSibling),Te=i,Et=!0,ha=null,On=!1,t!==null&&(Qe[_e++]=Fn,Qe[_e++]=Wn,Qe[_e++]=ca,Fn=t.id,Wn=t.overflow,ca=i),i=Bf(i,o.children),i.flags|=4096);return i}return u?(Cr(),u=o.fallback,v=i.mode,b=t.child,O=b.sibling,o=_n(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,O!==null?u=_n(O,u):(u=ua(u,v,a,null),u.flags|=2),u.return=i,o.return=i,o.sibling=u,i.child=o,o=u,u=i.child,v=t.child.memoizedState,v===null?v=Rf(a):(b=v.cachePool,b!==null?(O=te._currentValue,b=b.parent!==O?{parent:O,pool:O}:b):b=Kg(),v={baseLanes:v.baseLanes|a,cachePool:b}),u.memoizedState=v,u.childLanes=kf(t,g,a),i.memoizedState=Cf,o):(Or(i),a=t.child,t=a.sibling,a=_n(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(g=i.deletions,g===null?(i.deletions=[t],i.flags|=16):g.push(t)),i.child=a,i.memoizedState=null,a)}function Bf(t,i){return i=$l({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function $l(t,i){return t=Ue(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function If(t,i,a){return rs(i,t.child,null,a),t=Bf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function oy(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Qc(t.return,i,a)}function Mf(t,i,a,o,u){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:u}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=u)}function ly(t,i,a){var o=i.pendingProps,u=o.revealOrder,f=o.tail;if(ue(t,i,o.children,a),o=ee.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oy(t,a,i);else if(t.tag===19)oy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break t;for(;t.sibling===null;){if(t.return===null||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(j(ee,o),u){case"forwards":for(a=i.child,u=null;a!==null;)t=a.alternate,t!==null&&jl(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=i.child,i.child=null):(u=a.sibling,a.sibling=null),Mf(i,!1,u,a,f);break;case"backwards":for(a=null,u=i.child,i.child=null;u!==null;){if(t=u.alternate,t!==null&&jl(t)===null){i.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}Mf(i,!0,a,null,f);break;case"together":Mf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ri(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Mr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Fs(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=_n(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=_n(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function zf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Dl(t)))}function oT(t,i,a){switch(i.tag){case 3:Ut(i,i.stateNode.containerInfo),Ar(i,te,t.memoizedState.cache),Qs();break;case 27:case 5:uc(i);break;case 4:Ut(i,i.stateNode.containerInfo);break;case 10:Ar(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Or(i),i.flags|=128,null):(a&i.child.childLanes)!==0?sy(t,i,a):(Or(i),t=ri(t,i,a),t!==null?t.sibling:null);Or(i);break;case 19:var u=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Fs(t,i,a,!1),o=(a&i.childLanes)!==0),u){if(o)return ly(t,i,a);i.flags|=128}if(u=i.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),j(ee,ee.current),o)break;return null;case 22:case 23:return i.lanes=0,ey(t,i,a);case 24:Ar(i,te,t.memoizedState.cache)}return ri(t,i,a)}function uy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)ae=!0;else{if(!zf(t,a)&&(i.flags&128)===0)return ae=!1,oT(t,i,a);ae=(t.flags&131072)!==0}else ae=!1,Et&&(i.flags&1048576)!==0&&Jg(i,xl,i.index);switch(i.lanes=0,i.tag){case 16:t:{t=i.pendingProps;var o=i.elementType,u=o._init;if(o=u(o._payload),i.type=o,typeof o=="function")jc(o)?(t=va(o,t),i.tag=1,i=ry(null,i,o,t,a)):(i.tag=0,i=Of(null,i,o,t,a));else{if(o!=null){if(u=o.$$typeof,u===at){i.tag=11,i=Fm(null,i,o,t,a);break t}else if(u===Vt){i.tag=14,i=Wm(null,i,o,t,a);break t}}throw i=ia(o)||o,Error(r(306,i,""))}}return i;case 0:return Of(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,u=va(o,i.pendingProps),ry(t,i,o,u,a);case 3:t:{if(Ut(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;u=f.element,rf(t,i),ao(i,o,null,a);var g=i.memoizedState;if(o=g.cache,Ar(i,te,o),o!==f.cache&&_c(i,[te],a,!0),ro(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=ay(t,i,o,a);break t}else if(o!==u){u=Xe(Error(r(424)),i),_s(u),i=ay(t,i,o,a);break t}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ht=bn(t.firstChild),Te=i,Et=!0,ha=null,On=!0,a=Vm(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qs(),o===u){i=ri(t,i,a);break t}ue(t,i,o,a)}i=i.child}return i;case 26:return Kl(t,i),t===null?(a=dp(i.type,null,i.pendingProps,null))?i.memoizedState=a:Et||(a=i.type,t=i.pendingProps,o=ou(ut.current).createElement(a),o[me]=i,o[we]=t,fe(o,a,t),re(o),i.stateNode=o):i.memoizedState=dp(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return uc(i),t===null&&Et&&(o=i.stateNode=cp(i.type,i.pendingProps,ut.current),Te=i,On=!0,u=Ht,qr(i.type)?(mh=u,Ht=bn(o.firstChild)):Ht=u),ue(t,i,i.pendingProps.children,a),Kl(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Et&&((u=o=Ht)&&(o=zT(o,i.type,i.pendingProps,On),o!==null?(i.stateNode=o,Te=i,Ht=bn(o.firstChild),On=!1,u=!0):u=!1),u||da(i)),uc(i),u=i.type,f=i.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,fh(u,f)?o=null:g!==null&&fh(u,g)&&(i.flags|=32),i.memoizedState!==null&&(u=cf(t,i,WS,null,null,a),Oo._currentValue=u),Kl(t,i),ue(t,i,o,a),i.child;case 6:return t===null&&Et&&((t=a=Ht)&&(a=UT(a,i.pendingProps,On),a!==null?(i.stateNode=a,Te=i,Ht=null,t=!0):t=!1),t||da(i)),null;case 13:return sy(t,i,a);case 4:return Ut(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=rs(i,null,o,a):ue(t,i,o,a),i.child;case 11:return Fm(t,i,i.type,i.pendingProps,a);case 7:return ue(t,i,i.pendingProps,a),i.child;case 8:return ue(t,i,i.pendingProps.children,a),i.child;case 12:return ue(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Ar(i,i.type,o.value),ue(t,i,o.children,a),i.child;case 9:return u=i.type._context,o=i.pendingProps.children,ma(i),u=ye(u),o=o(u),i.flags|=1,ue(t,i,o,a),i.child;case 14:return Wm(t,i,i.type,i.pendingProps,a);case 15:return ty(t,i,i.type,i.pendingProps,a);case 19:return ly(t,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},t===null?(a=$l(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=_n(t.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return ey(t,i,a);case 24:return ma(i),o=ye(te),t===null?(u=tf(),u===null&&(u=zt,f=Fc(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),i.memoizedState={parent:o,cache:u},nf(i),Ar(i,te,u)):((t.lanes&a)!==0&&(rf(t,i),ao(i,null,null,a),ro()),u=t.memoizedState,f=i.memoizedState,u.parent!==o?(u={parent:o,cache:o},i.memoizedState=u,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=u),Ar(i,te,o)):(o=f.cache,Ar(i,te,o),o!==u.cache&&_c(i,[te],a,!0))),ue(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ai(t){t.flags|=4}function cy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vp(i)){if(i=Fe.current,i!==null&&((Tt&4194048)===Tt?Cn!==null:(Tt&62914560)!==Tt&&(Tt&536870912)===0||i!==Cn))throw no=ef,$g;t.flags|=8192}}function Xl(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Hd():536870912,t.lanes|=i,ls|=i)}function ho(t,i){if(!Et)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Jt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function lT(t,i,a){var o=i.pendingProps;switch($c(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(i),null;case 1:return Jt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ei(te),Sr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Zs(i)?ai(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Hg())),Jt(i),null;case 26:return a=i.memoizedState,t===null?(ai(i),a!==null?(Jt(i),cy(i,a)):(Jt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(ai(i),Jt(i),cy(i,a)):(Jt(i),i.flags&=-16777217):(t.memoizedProps!==o&&ai(i),Jt(i),i.flags&=-16777217),null;case 27:al(i),a=ut.current;var u=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ai(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return Jt(i),null}t=it.current,Zs(i)?Pg(i):(t=cp(u,o,a),i.stateNode=t,ai(i))}return Jt(i),null;case 5:if(al(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ai(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return Jt(i),null}if(t=it.current,Zs(i))Pg(i);else{switch(u=ou(ut.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?u.createElement("select",{is:o.is}):u.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?u.createElement(a,{is:o.is}):u.createElement(a)}}t[me]=i,t[we]=o;t:for(u=i.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break t;for(;u.sibling===null;){if(u.return===null||u.return===i)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}i.stateNode=t;t:switch(fe(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&ai(i)}}return Jt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&ai(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=ut.current,Zs(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,u=Te,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}t[me]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||ip(t.nodeValue,a)),t||da(i)}else t=ou(t).createTextNode(o),t[me]=i,i.stateNode=t}return Jt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Zs(i),o!==null&&o.dehydrated!==null){if(t===null){if(!u)throw Error(r(318));if(u=i.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[me]=i}else Qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jt(i),u=!1}else u=Hg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return i.flags&256?(ii(i),i):(ii(i),null)}if(ii(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=i.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Xl(i,i.updateQueue),Jt(i),null;case 4:return Sr(),t===null&&sh(i.stateNode.containerInfo),Jt(i),null;case 10:return ei(i.type),Jt(i),null;case 19:if($(ee),u=i.memoizedState,u===null)return Jt(i),null;if(o=(i.flags&128)!==0,f=u.rendering,f===null)if(o)ho(u,!1);else{if(jt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=jl(t),f!==null){for(i.flags|=128,ho(u,!1),t=f.updateQueue,i.updateQueue=t,Xl(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)qg(a,t),a=a.sibling;return j(ee,ee.current&1|2),i.child}t=t.sibling}u.tail!==null&&Dn()>_l&&(i.flags|=128,o=!0,ho(u,!1),i.lanes=4194304)}else{if(!o)if(t=jl(f),t!==null){if(i.flags|=128,o=!0,t=t.updateQueue,i.updateQueue=t,Xl(i,t),ho(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Et)return Jt(i),null}else 2*Dn()-u.renderingStartTime>_l&&a!==536870912&&(i.flags|=128,o=!0,ho(u,!1),i.lanes=4194304);u.isBackwards?(f.sibling=i.child,i.child=f):(t=u.last,t!==null?t.sibling=f:i.child=f,u.last=f)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Dn(),i.sibling=null,t=ee.current,j(ee,o?t&1|2:t&1),i):(Jt(i),null);case 22:case 23:return ii(i),lf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(Jt(i),i.subtreeFlags&6&&(i.flags|=8192)):Jt(i),a=i.updateQueue,a!==null&&Xl(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&$(ya),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ei(te),Jt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function uT(t,i){switch($c(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ei(te),Sr(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return al(i),null;case 13:if(ii(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Qs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $(ee),null;case 4:return Sr(),null;case 10:return ei(i.type),null;case 22:case 23:return ii(i),lf(),t!==null&&$(ya),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ei(te),null;case 25:return null;default:return null}}function fy(t,i){switch($c(i),i.tag){case 3:ei(te),Sr();break;case 26:case 27:case 5:al(i);break;case 4:Sr();break;case 13:ii(i);break;case 19:$(ee);break;case 10:ei(i.type);break;case 22:case 23:ii(i),lf(),t!==null&&$(ya);break;case 24:ei(te)}}function go(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var u=o.next;a=u;do{if((a.tag&t)===t){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==u)}}catch(v){It(i,i.return,v)}}function Rr(t,i,a){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&t)===t){var g=o.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,u=i;var b=a,O=v;try{O()}catch(z){It(u,b,z)}}}o=o.next}while(o!==f)}}catch(z){It(i,i.return,z)}}function hy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Wg(i,a)}catch(o){It(t,t.return,o)}}}function dy(t,i,a){a.props=va(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){It(t,i,o)}}function mo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(u){It(t,i,u)}}function Rn(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(u){It(t,i,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){It(t,i,u)}else a.current=null}function gy(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(u){It(t,t.return,u)}}function Uf(t,i,a){try{var o=t.stateNode;RT(o,t.type,a,i),o[we]=i}catch(u){It(t,t.return,u)}}function my(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qr(t.type)||t.tag===4}function Lf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||my(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=su));else if(o!==4&&(o===27&&qr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(qf(t,i,a),t=t.sibling;t!==null;)qf(t,i,a),t=t.sibling}function Zl(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&qr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Zl(t,i,a),t=t.sibling;t!==null;)Zl(t,i,a),t=t.sibling}function yy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,u=i.attributes;u.length;)i.removeAttributeNode(u[0]);fe(i,o,a),i[me]=t,i[we]=a}catch(f){It(t,t.return,f)}}var si=!1,Xt=!1,Jf=!1,py=typeof WeakSet=="function"?WeakSet:Set,se=null;function cT(t,i){if(t=t.containerInfo,uh=du,t=Og(t),Uc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var u=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,v=-1,b=-1,O=0,z=0,q=t,k=null;e:for(;;){for(var I;q!==a||u!==0&&q.nodeType!==3||(v=g+u),q!==f||o!==0&&q.nodeType!==3||(b=g+o),q.nodeType===3&&(g+=q.nodeValue.length),(I=q.firstChild)!==null;)k=q,q=I;for(;;){if(q===t)break e;if(k===a&&++O===u&&(v=g),k===f&&++z===o&&(b=g),(I=q.nextSibling)!==null)break;q=k,k=q.parentNode}q=I}a=v===-1||b===-1?null:{start:v,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(ch={focusedElem:t,selectionRange:a},du=!1,se=i;se!==null;)if(i=se,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,se=t;else for(;se!==null;){switch(i=se,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,u=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var lt=va(a.type,u,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(rt){It(a,a.return,rt)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)dh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":dh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,se=t;break}se=i.return}}function vy(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:kr(t,a),o&4&&go(5,a);break;case 1:if(kr(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(g){It(a,a.return,g)}else{var u=va(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(u,i,t.__reactInternalSnapshotBeforeUpdate)}catch(g){It(a,a.return,g)}}o&64&&hy(a),o&512&&mo(a,a.return);break;case 3:if(kr(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Wg(t,i)}catch(g){It(a,a.return,g)}}break;case 27:i===null&&o&4&&yy(a);case 26:case 5:kr(t,a),i===null&&o&4&&gy(a),o&512&&mo(a,a.return);break;case 12:kr(t,a);break;case 13:kr(t,a),o&4&&by(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ST.bind(null,a),LT(t,a))));break;case 22:if(o=a.memoizedState!==null||si,!o){i=i!==null&&i.memoizedState!==null||Xt,u=si;var f=Xt;si=o,(Xt=i)&&!f?Br(t,a,(a.subtreeFlags&8772)!==0):kr(t,a),si=u,Xt=f}break;case 30:break;default:kr(t,a)}}function Sy(t){var i=t.alternate;i!==null&&(t.alternate=null,Sy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&pc(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Lt=null,Ne=!1;function oi(t,i,a){for(a=a.child;a!==null;)Ty(t,i,a),a=a.sibling}function Ty(t,i,a){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(zs,a)}catch{}switch(a.tag){case 26:Xt||Rn(a,i),oi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Xt||Rn(a,i);var o=Lt,u=Ne;qr(a.type)&&(Lt=a.stateNode,Ne=!1),oi(t,i,a),Eo(a.stateNode),Lt=o,Ne=u;break;case 5:Xt||Rn(a,i);case 6:if(o=Lt,u=Ne,Lt=null,oi(t,i,a),Lt=o,Ne=u,Lt!==null)if(Ne)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(a.stateNode)}catch(f){It(a,i,f)}else try{Lt.removeChild(a.stateNode)}catch(f){It(a,i,f)}break;case 18:Lt!==null&&(Ne?(t=Lt,lp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Bo(t)):lp(Lt,a.stateNode));break;case 4:o=Lt,u=Ne,Lt=a.stateNode.containerInfo,Ne=!0,oi(t,i,a),Lt=o,Ne=u;break;case 0:case 11:case 14:case 15:Xt||Rr(2,a,i),Xt||Rr(4,a,i),oi(t,i,a);break;case 1:Xt||(Rn(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&dy(a,i,o)),oi(t,i,a);break;case 21:oi(t,i,a);break;case 22:Xt=(o=Xt)||a.memoizedState!==null,oi(t,i,a),Xt=o;break;default:oi(t,i,a)}}function by(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bo(t)}catch(a){It(i,i.return,a)}}function fT(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new py),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new py),i;default:throw Error(r(435,t.tag))}}function Pf(t,i){var a=fT(t);i.forEach(function(o){var u=TT.bind(null,t,o);a.has(o)||(a.add(o),o.then(u,u))})}function Le(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var u=a[o],f=t,g=i,v=g;t:for(;v!==null;){switch(v.tag){case 27:if(qr(v.type)){Lt=v.stateNode,Ne=!1;break t}break;case 5:Lt=v.stateNode,Ne=!1;break t;case 3:case 4:Lt=v.stateNode.containerInfo,Ne=!0;break t}v=v.return}if(Lt===null)throw Error(r(160));Ty(f,g,u),Lt=null,Ne=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)wy(i,t),i=i.sibling}var Tn=null;function wy(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Le(i,t),qe(t),o&4&&(Rr(3,t,t.return),go(3,t),Rr(5,t,t.return));break;case 1:Le(i,t),qe(t),o&512&&(Xt||a===null||Rn(a,a.return)),o&64&&si&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var u=Tn;if(Le(i,t),qe(t),o&512&&(Xt||a===null||Rn(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){t:{o=t.type,a=t.memoizedProps,u=u.ownerDocument||u;e:switch(o){case"title":f=u.getElementsByTagName("title")[0],(!f||f[qs]||f[me]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(o),u.head.insertBefore(f,u.querySelector("head > title"))),fe(f,o,a),f[me]=t,re(f),o=f;break t;case"link":var g=yp("link","href",u).get(o+(a.href||""));if(g){for(var v=0;v<g.length;v++)if(f=g[v],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(v,1);break e}}f=u.createElement(o),fe(f,o,a),u.head.appendChild(f);break;case"meta":if(g=yp("meta","content",u).get(o+(a.content||""))){for(v=0;v<g.length;v++)if(f=g[v],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(v,1);break e}}f=u.createElement(o),fe(f,o,a),u.head.appendChild(f);break;default:throw Error(r(468,o))}f[me]=t,re(f),o=f}t.stateNode=o}else pp(u,t.type,t.stateNode);else t.stateNode=mp(u,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?pp(u,t.type,t.stateNode):mp(u,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Uf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Le(i,t),qe(t),o&512&&(Xt||a===null||Rn(a,a.return)),a!==null&&o&4&&Uf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Le(i,t),qe(t),o&512&&(Xt||a===null||Rn(a,a.return)),t.flags&32){u=t.stateNode;try{Pa(u,"")}catch(I){It(t,t.return,I)}}o&4&&t.stateNode!=null&&(u=t.memoizedProps,Uf(t,u,a!==null?a.memoizedProps:u)),o&1024&&(Jf=!0);break;case 6:if(Le(i,t),qe(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(I){It(t,t.return,I)}}break;case 3:if(cu=null,u=Tn,Tn=lu(i.containerInfo),Le(i,t),Tn=u,qe(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Bo(i.containerInfo)}catch(I){It(t,t.return,I)}Jf&&(Jf=!1,Ay(t));break;case 4:o=Tn,Tn=lu(t.stateNode.containerInfo),Le(i,t),qe(t),Tn=o;break;case 12:Le(i,t),qe(t);break;case 13:Le(i,t),qe(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kf=Dn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Pf(t,o)));break;case 22:u=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,O=si,z=Xt;if(si=O||u,Xt=z||b,Le(i,t),Xt=z,si=O,qe(t),o&8192)t:for(i=t.stateNode,i._visibility=u?i._visibility&-2:i._visibility|1,u&&(a===null||b||si||Xt||Sa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(f=b.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=b.stateNode;var q=b.memoizedProps.style,k=q!=null&&q.hasOwnProperty("display")?q.display:null;v.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(I){It(b,b.return,I)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=u?"":b.memoizedProps}catch(I){It(b,b.return,I)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Pf(t,a))));break;case 19:Le(i,t),qe(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Pf(t,o)));break;case 30:break;case 21:break;default:Le(i,t),qe(t)}}function qe(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(my(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var u=a.stateNode,f=Lf(t);Zl(t,f,u);break;case 5:var g=a.stateNode;a.flags&32&&(Pa(g,""),a.flags&=-33);var v=Lf(t);Zl(t,v,g);break;case 3:case 4:var b=a.stateNode.containerInfo,O=Lf(t);qf(t,O,b);break;default:throw Error(r(161))}}catch(z){It(t,t.return,z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ay(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ay(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function kr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)vy(t,i.alternate,i),i=i.sibling}function Sa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Rr(4,i,i.return),Sa(i);break;case 1:Rn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&dy(i,i.return,a),Sa(i);break;case 27:Eo(i.stateNode);case 26:case 5:Rn(i,i.return),Sa(i);break;case 22:i.memoizedState===null&&Sa(i);break;case 30:Sa(i);break;default:Sa(i)}t=t.sibling}}function Br(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,u=t,f=i,g=f.flags;switch(f.tag){case 0:case 11:case 15:Br(u,f,a),go(4,f);break;case 1:if(Br(u,f,a),o=f,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(O){It(o,o.return,O)}if(o=f,u=o.updateQueue,u!==null){var v=o.stateNode;try{var b=u.shared.hiddenCallbacks;if(b!==null)for(u.shared.hiddenCallbacks=null,u=0;u<b.length;u++)Fg(b[u],v)}catch(O){It(o,o.return,O)}}a&&g&64&&hy(f),mo(f,f.return);break;case 27:yy(f);case 26:case 5:Br(u,f,a),a&&o===null&&g&4&&gy(f),mo(f,f.return);break;case 12:Br(u,f,a);break;case 13:Br(u,f,a),a&&g&4&&by(u,f);break;case 22:f.memoizedState===null&&Br(u,f,a),mo(f,f.return);break;case 30:break;default:Br(u,f,a)}i=i.sibling}}function Vf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ws(a))}function Hf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ws(t))}function kn(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ey(t,i,a,o),i=i.sibling}function Ey(t,i,a,o){var u=i.flags;switch(i.tag){case 0:case 11:case 15:kn(t,i,a,o),u&2048&&go(9,i);break;case 1:kn(t,i,a,o);break;case 3:kn(t,i,a,o),u&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ws(t)));break;case 12:if(u&2048){kn(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,g=f.id,v=f.onPostCommit;typeof v=="function"&&v(g,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){It(i,i.return,b)}}else kn(t,i,a,o);break;case 13:kn(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,g=i.alternate,i.memoizedState!==null?f._visibility&2?kn(t,i,a,o):yo(t,i):f._visibility&2?kn(t,i,a,o):(f._visibility|=2,as(t,i,a,o,(i.subtreeFlags&10256)!==0)),u&2048&&Vf(g,i);break;case 24:kn(t,i,a,o),u&2048&&Hf(i.alternate,i);break;default:kn(t,i,a,o)}}function as(t,i,a,o,u){for(u=u&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,g=i,v=a,b=o,O=g.flags;switch(g.tag){case 0:case 11:case 15:as(f,g,v,b,u),go(8,g);break;case 23:break;case 22:var z=g.stateNode;g.memoizedState!==null?z._visibility&2?as(f,g,v,b,u):yo(f,g):(z._visibility|=2,as(f,g,v,b,u)),u&&O&2048&&Vf(g.alternate,g);break;case 24:as(f,g,v,b,u),u&&O&2048&&Hf(g.alternate,g);break;default:as(f,g,v,b,u)}i=i.sibling}}function yo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,u=o.flags;switch(o.tag){case 22:yo(a,o),u&2048&&Vf(o.alternate,o);break;case 24:yo(a,o),u&2048&&Hf(o.alternate,o);break;default:yo(a,o)}i=i.sibling}}var po=8192;function ss(t){if(t.subtreeFlags&po)for(t=t.child;t!==null;)Ny(t),t=t.sibling}function Ny(t){switch(t.tag){case 26:ss(t),t.flags&po&&t.memoizedState!==null&&QT(Tn,t.memoizedState,t.memoizedProps);break;case 5:ss(t);break;case 3:case 4:var i=Tn;Tn=lu(t.stateNode.containerInfo),ss(t),Tn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=po,po=16777216,ss(t),po=i):ss(t));break;default:ss(t)}}function xy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function vo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];se=o,Oy(o,t)}xy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dy(t),t=t.sibling}function Dy(t){switch(t.tag){case 0:case 11:case 15:vo(t),t.flags&2048&&Rr(9,t,t.return);break;case 3:vo(t);break;case 12:vo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ql(t)):vo(t);break;default:vo(t)}}function Ql(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];se=o,Oy(o,t)}xy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Rr(8,i,i.return),Ql(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ql(i));break;default:Ql(i)}t=t.sibling}}function Oy(t,i){for(;se!==null;){var a=se;switch(a.tag){case 0:case 11:case 15:Rr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ws(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,se=o;else t:for(a=t;se!==null;){o=se;var u=o.sibling,f=o.return;if(Sy(o),o===a){se=null;break t}if(u!==null){u.return=f,se=u;break t}se=f}}}var hT={getCacheForType:function(t){var i=ye(te),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},dT=typeof WeakMap=="function"?WeakMap:Map,xt=0,zt=null,yt=null,Tt=0,Dt=0,Je=null,Ir=!1,os=!1,jf=!1,li=0,jt=0,Mr=0,Ta=0,Yf=0,We=0,ls=0,So=null,xe=null,Gf=!1,Kf=0,_l=1/0,Fl=null,zr=null,ce=0,Ur=null,us=null,cs=0,$f=0,Xf=null,Cy=null,To=0,Zf=null;function Pe(){if((xt&2)!==0&&Tt!==0)return Tt&-Tt;if(U.T!==null){var t=_a;return t!==0?t:nh()}return Gd()}function Ry(){We===0&&(We=(Tt&536870912)===0||Et?Vd():536870912);var t=Fe.current;return t!==null&&(t.flags|=32),We}function Ve(t,i,a){(t===zt&&(Dt===2||Dt===9)||t.cancelPendingCommit!==null)&&(fs(t,0),Lr(t,Tt,We,!1)),Ls(t,a),((xt&2)===0||t!==zt)&&(t===zt&&((xt&2)===0&&(Ta|=a),jt===4&&Lr(t,Tt,We,!1)),Bn(t))}function ky(t,i,a){if((xt&6)!==0)throw Error(r(327));var o=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Us(t,i),u=o?yT(t,i):Ff(t,i,!0),f=o;do{if(u===0){os&&!o&&Lr(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!gT(a)){u=Ff(t,i,!1),f=!1;continue}if(u===2){if(f=i,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){i=g;t:{var v=t;u=So;var b=v.current.memoizedState.isDehydrated;if(b&&(fs(v,g).flags|=256),g=Ff(v,g,!1),g!==2){if(jf&&!b){v.errorRecoveryDisabledLanes|=f,Ta|=f,u=4;break t}f=xe,xe=u,f!==null&&(xe===null?xe=f:xe.push.apply(xe,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){fs(t,0),Lr(t,i,0,!0);break}t:{switch(o=t,f=u,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Lr(o,i,We,!Ir);break t;case 2:xe=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(u=Kf+300-Dn(),10<u)){if(Lr(o,i,We,!Ir),ul(o,0,!0)!==0)break t;o.timeoutHandle=sp(By.bind(null,o,a,xe,Fl,Gf,i,We,Ta,ls,Ir,f,2,-0,0),u);break t}By(o,a,xe,Fl,Gf,i,We,Ta,ls,Ir,f,0,-0,0)}}break}while(!0);Bn(t)}function By(t,i,a,o,u,f,g,v,b,O,z,q,k,I){if(t.timeoutHandle=-1,q=i.subtreeFlags,(q&8192||(q&16785408)===16785408)&&(Do={stylesheets:null,count:0,unsuspend:ZT},Ny(i),q=_T(),q!==null)){t.cancelPendingCommit=q(Jy.bind(null,t,i,f,a,o,u,g,v,b,z,1,k,I)),Lr(t,f,g,!O);return}Jy(t,i,f,a,o,u,g,v,b)}function gT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var u=a[o],f=u.getSnapshot;u=u.value;try{if(!ze(f(),u))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Lr(t,i,a,o){i&=~Yf,i&=~Ta,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var u=i;0<u;){var f=31-Me(u),g=1<<f;o[f]=-1,u&=~g}a!==0&&jd(t,a,i)}function Wl(){return(xt&6)===0?(bo(0),!1):!0}function Qf(){if(yt!==null){if(Dt===0)var t=yt.return;else t=yt,ti=ga=null,df(t),is=null,co=0,t=yt;for(;t!==null;)fy(t.alternate,t),t=t.return;yt=null}}function fs(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,BT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Qf(),zt=t,yt=a=_n(t.current,null),Tt=i,Dt=0,Je=null,Ir=!1,os=Us(t,i),jf=!1,ls=We=Yf=Ta=Mr=jt=0,xe=So=null,Gf=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var u=31-Me(o),f=1<<u;i|=t[u],o&=~f}return li=i,bl(),a}function Iy(t,i){dt=null,U.H=Pl,i===eo||i===Rl?(i=Qg(),Dt=3):i===$g?(i=Qg(),Dt=4):Dt=i===_m?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Je=i,yt===null&&(jt=1,Gl(t,Xe(i,t.current)))}function My(){var t=U.H;return U.H=Pl,t===null?Pl:t}function zy(){var t=U.A;return U.A=hT,t}function _f(){jt=4,Ir||(Tt&4194048)!==Tt&&Fe.current!==null||(os=!0),(Mr&134217727)===0&&(Ta&134217727)===0||zt===null||Lr(zt,Tt,We,!1)}function Ff(t,i,a){var o=xt;xt|=2;var u=My(),f=zy();(zt!==t||Tt!==i)&&(Fl=null,fs(t,i)),i=!1;var g=jt;t:do try{if(Dt!==0&&yt!==null){var v=yt,b=Je;switch(Dt){case 8:Qf(),g=6;break t;case 3:case 2:case 9:case 6:Fe.current===null&&(i=!0);var O=Dt;if(Dt=0,Je=null,hs(t,v,b,O),a&&os){g=0;break t}break;default:O=Dt,Dt=0,Je=null,hs(t,v,b,O)}}mT(),g=jt;break}catch(z){Iy(t,z)}while(!0);return i&&t.shellSuspendCounter++,ti=ga=null,xt=o,U.H=u,U.A=f,yt===null&&(zt=null,Tt=0,bl()),g}function mT(){for(;yt!==null;)Uy(yt)}function yT(t,i){var a=xt;xt|=2;var o=My(),u=zy();zt!==t||Tt!==i?(Fl=null,_l=Dn()+500,fs(t,i)):os=Us(t,i);t:do try{if(Dt!==0&&yt!==null){i=yt;var f=Je;e:switch(Dt){case 1:Dt=0,Je=null,hs(t,i,f,1);break;case 2:case 9:if(Xg(f)){Dt=0,Je=null,Ly(i);break}i=function(){Dt!==2&&Dt!==9||zt!==t||(Dt=7),Bn(t)},f.then(i,i);break t;case 3:Dt=7;break t;case 4:Dt=5;break t;case 7:Xg(f)?(Dt=0,Je=null,Ly(i)):(Dt=0,Je=null,hs(t,i,f,7));break;case 5:var g=null;switch(yt.tag){case 26:g=yt.memoizedState;case 5:case 27:var v=yt;if(!g||vp(g)){Dt=0,Je=null;var b=v.sibling;if(b!==null)yt=b;else{var O=v.return;O!==null?(yt=O,tu(O)):yt=null}break e}}Dt=0,Je=null,hs(t,i,f,5);break;case 6:Dt=0,Je=null,hs(t,i,f,6);break;case 8:Qf(),jt=6;break t;default:throw Error(r(462))}}pT();break}catch(z){Iy(t,z)}while(!0);return ti=ga=null,U.H=o,U.A=u,xt=a,yt!==null?0:(zt=null,Tt=0,bl(),jt)}function pT(){for(;yt!==null&&!J0();)Uy(yt)}function Uy(t){var i=uy(t.alternate,t,li);t.memoizedProps=t.pendingProps,i===null?tu(t):yt=i}function Ly(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=iy(a,i,i.pendingProps,i.type,void 0,Tt);break;case 11:i=iy(a,i,i.pendingProps,i.type.render,i.ref,Tt);break;case 5:df(i);default:fy(a,i),i=yt=qg(i,li),i=uy(a,i,li)}t.memoizedProps=t.pendingProps,i===null?tu(t):yt=i}function hs(t,i,a,o){ti=ga=null,df(i),is=null,co=0;var u=i.return;try{if(sT(t,u,i,a,Tt)){jt=1,Gl(t,Xe(a,t.current)),yt=null;return}}catch(f){if(u!==null)throw yt=u,f;jt=1,Gl(t,Xe(a,t.current)),yt=null;return}i.flags&32768?(Et||o===1?t=!0:os||(Tt&536870912)!==0?t=!1:(Ir=t=!0,(o===2||o===9||o===3||o===6)&&(o=Fe.current,o!==null&&o.tag===13&&(o.flags|=16384))),qy(i,t)):tu(i)}function tu(t){var i=t;do{if((i.flags&32768)!==0){qy(i,Ir);return}t=i.return;var a=lT(i.alternate,i,li);if(a!==null){yt=a;return}if(i=i.sibling,i!==null){yt=i;return}yt=i=t}while(i!==null);jt===0&&(jt=5)}function qy(t,i){do{var a=uT(t.alternate,t);if(a!==null){a.flags&=32767,yt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){yt=t;return}yt=t=a}while(t!==null);jt=6,yt=null}function Jy(t,i,a,o,u,f,g,v,b){t.cancelPendingCommit=null;do eu();while(ce!==0);if((xt&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=Vc,Z0(t,a,f,g,v,b),t===zt&&(yt=zt=null,Tt=0),us=i,Ur=t,cs=a,$f=f,Xf=u,Cy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bT(sl,function(){return Yy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,u=G.p,G.p=2,g=xt,xt|=4;try{cT(t,i,a)}finally{xt=g,G.p=u,U.T=o}}ce=1,Py(),Vy(),Hy()}}function Py(){if(ce===1){ce=0;var t=Ur,i=us,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var o=G.p;G.p=2;var u=xt;xt|=4;try{wy(i,t);var f=ch,g=Og(t.containerInfo),v=f.focusedElem,b=f.selectionRange;if(g!==v&&v&&v.ownerDocument&&Dg(v.ownerDocument.documentElement,v)){if(b!==null&&Uc(v)){var O=b.start,z=b.end;if(z===void 0&&(z=O),"selectionStart"in v)v.selectionStart=O,v.selectionEnd=Math.min(z,v.value.length);else{var q=v.ownerDocument||document,k=q&&q.defaultView||window;if(k.getSelection){var I=k.getSelection(),lt=v.textContent.length,rt=Math.min(b.start,lt),kt=b.end===void 0?rt:Math.min(b.end,lt);!I.extend&&rt>kt&&(g=kt,kt=rt,rt=g);var E=xg(v,rt),A=xg(v,kt);if(E&&A&&(I.rangeCount!==1||I.anchorNode!==E.node||I.anchorOffset!==E.offset||I.focusNode!==A.node||I.focusOffset!==A.offset)){var D=q.createRange();D.setStart(E.node,E.offset),I.removeAllRanges(),rt>kt?(I.addRange(D),I.extend(A.node,A.offset)):(D.setEnd(A.node,A.offset),I.addRange(D))}}}}for(q=[],I=v;I=I.parentNode;)I.nodeType===1&&q.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<q.length;v++){var L=q[v];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}du=!!uh,ch=uh=null}finally{xt=u,G.p=o,U.T=a}}t.current=i,ce=2}}function Vy(){if(ce===2){ce=0;var t=Ur,i=us,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var o=G.p;G.p=2;var u=xt;xt|=4;try{vy(t,i.alternate,i)}finally{xt=u,G.p=o,U.T=a}}ce=3}}function Hy(){if(ce===4||ce===3){ce=0,P0();var t=Ur,i=us,a=cs,o=Cy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ce=5:(ce=0,us=Ur=null,jy(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(zr=null),mc(a),i=i.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(zs,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=U.T,u=G.p,G.p=2,U.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var v=o[g];f(v.value,{componentStack:v.stack})}}finally{U.T=i,G.p=u}}(cs&3)!==0&&eu(),Bn(t),u=t.pendingLanes,(a&4194090)!==0&&(u&42)!==0?t===Zf?To++:(To=0,Zf=t):To=0,bo(0)}}function jy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ws(i)))}function eu(t){return Py(),Vy(),Hy(),Yy()}function Yy(){if(ce!==5)return!1;var t=Ur,i=$f;$f=0;var a=mc(cs),o=U.T,u=G.p;try{G.p=32>a?32:a,U.T=null,a=Xf,Xf=null;var f=Ur,g=cs;if(ce=0,us=Ur=null,cs=0,(xt&6)!==0)throw Error(r(331));var v=xt;if(xt|=4,Dy(f.current),Ey(f,f.current,g,a),xt=v,bo(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(zs,f)}catch{}return!0}finally{G.p=u,U.T=o,jy(t,i)}}function Gy(t,i,a){i=Xe(a,i),i=Df(t.stateNode,i,2),t=xr(t,i,2),t!==null&&(Ls(t,2),Bn(t))}function It(t,i,a){if(t.tag===3)Gy(t,t,a);else for(;i!==null;){if(i.tag===3){Gy(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(zr===null||!zr.has(o))){t=Xe(a,t),a=Zm(2),o=xr(i,a,2),o!==null&&(Qm(a,o,i,t),Ls(o,2),Bn(o));break}}i=i.return}}function Wf(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new dT;var u=new Set;o.set(i,u)}else u=o.get(i),u===void 0&&(u=new Set,o.set(i,u));u.has(a)||(jf=!0,u.add(a),t=vT.bind(null,t,i,a),i.then(t,t))}function vT(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,zt===t&&(Tt&a)===a&&(jt===4||jt===3&&(Tt&62914560)===Tt&&300>Dn()-Kf?(xt&2)===0&&fs(t,0):Yf|=a,ls===Tt&&(ls=0)),Bn(t)}function Ky(t,i){i===0&&(i=Hd()),t=$a(t,i),t!==null&&(Ls(t,i),Bn(t))}function ST(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Ky(t,a)}function TT(t,i){var a=0;switch(t.tag){case 13:var o=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),Ky(t,a)}function bT(t,i){return fc(t,i)}var nu=null,ds=null,th=!1,iu=!1,eh=!1,ba=0;function Bn(t){t!==ds&&t.next===null&&(ds===null?nu=ds=t:ds=ds.next=t),iu=!0,th||(th=!0,AT())}function bo(t,i){if(!eh&&iu){eh=!0;do for(var a=!1,o=nu;o!==null;){if(t!==0){var u=o.pendingLanes;if(u===0)var f=0;else{var g=o.suspendedLanes,v=o.pingedLanes;f=(1<<31-Me(42|t)+1)-1,f&=u&~(g&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Qy(o,f))}else f=Tt,f=ul(o,o===zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Us(o,f)||(a=!0,Qy(o,f));o=o.next}while(a);eh=!1}}function wT(){$y()}function $y(){iu=th=!1;var t=0;ba!==0&&(kT()&&(t=ba),ba=0);for(var i=Dn(),a=null,o=nu;o!==null;){var u=o.next,f=Xy(o,i);f===0?(o.next=null,a===null?nu=u:a.next=u,u===null&&(ds=a)):(a=o,(t!==0||(f&3)!==0)&&(iu=!0)),o=u}bo(t)}function Xy(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Me(f),v=1<<g,b=u[g];b===-1?((v&a)===0||(v&o)!==0)&&(u[g]=X0(v,i)):b<=i&&(t.expiredLanes|=v),f&=~v}if(i=zt,a=Tt,a=ul(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Dt===2||Dt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&hc(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Us(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&hc(o),mc(a)){case 2:case 8:a=Jd;break;case 32:a=sl;break;case 268435456:a=Pd;break;default:a=sl}return o=Zy.bind(null,t),a=fc(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&hc(o),t.callbackPriority=2,t.callbackNode=null,2}function Zy(t,i){if(ce!==0&&ce!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(eu()&&t.callbackNode!==a)return null;var o=Tt;return o=ul(t,t===zt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(ky(t,o,i),Xy(t,Dn()),t.callbackNode!=null&&t.callbackNode===a?Zy.bind(null,t):null)}function Qy(t,i){if(eu())return null;ky(t,i,!0)}function AT(){IT(function(){(xt&6)!==0?fc(qd,wT):$y()})}function nh(){return ba===0&&(ba=Vd()),ba}function _y(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:gl(""+t)}function Fy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ET(t,i,a,o,u){if(i==="submit"&&a&&a.stateNode===u){var f=_y((u[we]||null).action),g=o.submitter;g&&(i=(i=g[we]||null)?_y(i.formAction):g.getAttribute("formAction"),i!==null&&(f=i,g=null));var v=new vl("action","action",null,o,u);t.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ba!==0){var b=g?Fy(u,g):new FormData(u);wf(a,{pending:!0,data:b,method:u.method,action:f},null,b)}}else typeof f=="function"&&(v.preventDefault(),b=g?Fy(u,g):new FormData(u),wf(a,{pending:!0,data:b,method:u.method,action:f},f,b))},currentTarget:u}]})}}for(var ih=0;ih<Pc.length;ih++){var rh=Pc[ih],NT=rh.toLowerCase(),xT=rh[0].toUpperCase()+rh.slice(1);Sn(NT,"on"+xT)}Sn(kg,"onAnimationEnd"),Sn(Bg,"onAnimationIteration"),Sn(Ig,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(jS,"onTransitionRun"),Sn(YS,"onTransitionStart"),Sn(GS,"onTransitionCancel"),Sn(Mg,"onTransitionEnd"),La("onMouseEnter",["mouseout","mouseover"]),La("onMouseLeave",["mouseout","mouseover"]),La("onPointerEnter",["pointerout","pointerover"]),La("onPointerLeave",["pointerout","pointerover"]),aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wo));function Wy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],u=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var g=o.length-1;0<=g;g--){var v=o[g],b=v.instance,O=v.currentTarget;if(v=v.listener,b!==f&&u.isPropagationStopped())break t;f=v,u.currentTarget=O;try{f(u)}catch(z){Yl(z)}u.currentTarget=null,f=b}else for(g=0;g<o.length;g++){if(v=o[g],b=v.instance,O=v.currentTarget,v=v.listener,b!==f&&u.isPropagationStopped())break t;f=v,u.currentTarget=O;try{f(u)}catch(z){Yl(z)}u.currentTarget=null,f=b}}}}function pt(t,i){var a=i[yc];a===void 0&&(a=i[yc]=new Set);var o=t+"__bubble";a.has(o)||(tp(i,t,2,!1),a.add(o))}function ah(t,i,a){var o=0;i&&(o|=4),tp(a,t,o,i)}var ru="_reactListening"+Math.random().toString(36).slice(2);function sh(t){if(!t[ru]){t[ru]=!0,$d.forEach(function(a){a!=="selectionchange"&&(DT.has(a)||ah(a,!1,t),ah(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ru]||(i[ru]=!0,ah("selectionchange",!1,i))}}function tp(t,i,a,o){switch(Ep(i)){case 2:var u=tb;break;case 8:u=eb;break;default:u=Th}a=u.bind(null,i,a,t),u=void 0,!Dc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(u=!0),o?u!==void 0?t.addEventListener(i,a,{capture:!0,passive:u}):t.addEventListener(i,a,!0):u!==void 0?t.addEventListener(i,a,{passive:u}):t.addEventListener(i,a,!1)}function oh(t,i,a,o,u){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var v=o.stateNode.containerInfo;if(v===u)break;if(g===4)for(g=o.return;g!==null;){var b=g.tag;if((b===3||b===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;v!==null;){if(g=Ma(v),g===null)return;if(b=g.tag,b===5||b===6||b===26||b===27){o=f=g;continue t}v=v.parentNode}}o=o.return}og(function(){var O=f,z=Nc(a),q=[];t:{var k=zg.get(t);if(k!==void 0){var I=vl,lt=t;switch(t){case"keypress":if(yl(a)===0)break t;case"keydown":case"keyup":I=bS;break;case"focusin":lt="focus",I=kc;break;case"focusout":lt="blur",I=kc;break;case"beforeblur":case"afterblur":I=kc;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=cg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=uS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=ES;break;case kg:case Bg:case Ig:I=hS;break;case Mg:I=xS;break;case"scroll":case"scrollend":I=oS;break;case"wheel":I=OS;break;case"copy":case"cut":case"paste":I=gS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=hg;break;case"toggle":case"beforetoggle":I=RS}var rt=(i&4)!==0,kt=!rt&&(t==="scroll"||t==="scrollend"),E=rt?k!==null?k+"Capture":null:k;rt=[];for(var A=O,D;A!==null;){var L=A;if(D=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||D===null||E===null||(L=Ps(A,E),L!=null&&rt.push(Ao(A,L,D))),kt)break;A=A.return}0<rt.length&&(k=new I(k,lt,null,a,z),q.push({event:k,listeners:rt}))}}if((i&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",k&&a!==Ec&&(lt=a.relatedTarget||a.fromElement)&&(Ma(lt)||lt[Ia]))break t;if((I||k)&&(k=z.window===z?z:(k=z.ownerDocument)?k.defaultView||k.parentWindow:window,I?(lt=a.relatedTarget||a.toElement,I=O,lt=lt?Ma(lt):null,lt!==null&&(kt=c(lt),rt=lt.tag,lt!==kt||rt!==5&&rt!==27&&rt!==6)&&(lt=null)):(I=null,lt=O),I!==lt)){if(rt=cg,L="onMouseLeave",E="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(rt=hg,L="onPointerLeave",E="onPointerEnter",A="pointer"),kt=I==null?k:Js(I),D=lt==null?k:Js(lt),k=new rt(L,A+"leave",I,a,z),k.target=kt,k.relatedTarget=D,L=null,Ma(z)===O&&(rt=new rt(E,A+"enter",lt,a,z),rt.target=D,rt.relatedTarget=kt,L=rt),kt=L,I&&lt)e:{for(rt=I,E=lt,A=0,D=rt;D;D=gs(D))A++;for(D=0,L=E;L;L=gs(L))D++;for(;0<A-D;)rt=gs(rt),A--;for(;0<D-A;)E=gs(E),D--;for(;A--;){if(rt===E||E!==null&&rt===E.alternate)break e;rt=gs(rt),E=gs(E)}rt=null}else rt=null;I!==null&&ep(q,k,I,rt,!1),lt!==null&&kt!==null&&ep(q,kt,lt,rt,!0)}}t:{if(k=O?Js(O):window,I=k.nodeName&&k.nodeName.toLowerCase(),I==="select"||I==="input"&&k.type==="file")var Z=Tg;else if(vg(k))if(bg)Z=PS;else{Z=qS;var gt=LS}else I=k.nodeName,!I||I.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?O&&Ac(O.elementType)&&(Z=Tg):Z=JS;if(Z&&(Z=Z(t,O))){Sg(q,Z,a,z);break t}gt&&gt(t,k,O),t==="focusout"&&O&&k.type==="number"&&O.memoizedProps.value!=null&&wc(k,"number",k.value)}switch(gt=O?Js(O):window,t){case"focusin":(vg(gt)||gt.contentEditable==="true")&&(Ya=gt,Lc=O,Xs=null);break;case"focusout":Xs=Lc=Ya=null;break;case"mousedown":qc=!0;break;case"contextmenu":case"mouseup":case"dragend":qc=!1,Cg(q,a,z);break;case"selectionchange":if(HS)break;case"keydown":case"keyup":Cg(q,a,z)}var F;if(Ic)t:{switch(t){case"compositionstart":var st="onCompositionStart";break t;case"compositionend":st="onCompositionEnd";break t;case"compositionupdate":st="onCompositionUpdate";break t}st=void 0}else ja?yg(t,a)&&(st="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(st="onCompositionStart");st&&(dg&&a.locale!=="ko"&&(ja||st!=="onCompositionStart"?st==="onCompositionEnd"&&ja&&(F=lg()):(wr=z,Oc="value"in wr?wr.value:wr.textContent,ja=!0)),gt=au(O,st),0<gt.length&&(st=new fg(st,t,null,a,z),q.push({event:st,listeners:gt}),F?st.data=F:(F=pg(a),F!==null&&(st.data=F)))),(F=BS?IS(t,a):MS(t,a))&&(st=au(O,"onBeforeInput"),0<st.length&&(gt=new fg("onBeforeInput","beforeinput",null,a,z),q.push({event:gt,listeners:st}),gt.data=F)),ET(q,t,O,a,z)}Wy(q,i)})}function Ao(t,i,a){return{instance:t,listener:i,currentTarget:a}}function au(t,i){for(var a=i+"Capture",o=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Ps(t,a),u!=null&&o.unshift(Ao(t,u,f)),u=Ps(t,i),u!=null&&o.push(Ao(t,u,f))),t.tag===3)return o;t=t.return}return[]}function gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ep(t,i,a,o,u){for(var f=i._reactName,g=[];a!==null&&a!==o;){var v=a,b=v.alternate,O=v.stateNode;if(v=v.tag,b!==null&&b===o)break;v!==5&&v!==26&&v!==27||O===null||(b=O,u?(O=Ps(a,f),O!=null&&g.unshift(Ao(a,O,b))):u||(O=Ps(a,f),O!=null&&g.push(Ao(a,O,b)))),a=a.return}g.length!==0&&t.push({event:i,listeners:g})}var OT=/\r\n?/g,CT=/\u0000|\uFFFD/g;function np(t){return(typeof t=="string"?t:""+t).replace(OT,`
`).replace(CT,"")}function ip(t,i){return i=np(i),np(t)===i}function su(){}function Rt(t,i,a,o,u,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Pa(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Pa(t,""+o);break;case"className":fl(t,"class",o);break;case"tabIndex":fl(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fl(t,a,o);break;case"style":ag(t,o,f);break;case"data":if(i!=="object"){fl(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=gl(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Rt(t,i,"name",u.name,u,null),Rt(t,i,"formEncType",u.formEncType,u,null),Rt(t,i,"formMethod",u.formMethod,u,null),Rt(t,i,"formTarget",u.formTarget,u,null)):(Rt(t,i,"encType",u.encType,u,null),Rt(t,i,"method",u.method,u,null),Rt(t,i,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=gl(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=su);break;case"onScroll":o!=null&&pt("scroll",t);break;case"onScrollEnd":o!=null&&pt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=gl(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":pt("beforetoggle",t),pt("toggle",t),cl(t,"popover",o);break;case"xlinkActuate":Zn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Zn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Zn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Zn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Zn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Zn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Zn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":cl(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=aS.get(a)||a,cl(t,a,o))}}function lh(t,i,a,o,u,f){switch(a){case"style":ag(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Pa(t,o):(typeof o=="number"||typeof o=="bigint")&&Pa(t,""+o);break;case"onScroll":o!=null&&pt("scroll",t);break;case"onScrollEnd":o!=null&&pt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=su);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xd.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),i=a.slice(2,u?a.length-7:void 0),f=t[we]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,u),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,u);break t}a in t?t[a]=o:o===!0?t.setAttribute(a,""):cl(t,a,o)}}}function fe(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",t),pt("load",t);var o=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Rt(t,i,f,g,a,null)}}u&&Rt(t,i,"srcSet",a.srcSet,a,null),o&&Rt(t,i,"src",a.src,a,null);return;case"input":pt("invalid",t);var v=f=g=u=null,b=null,O=null;for(o in a)if(a.hasOwnProperty(o)){var z=a[o];if(z!=null)switch(o){case"name":u=z;break;case"type":g=z;break;case"checked":b=z;break;case"defaultChecked":O=z;break;case"value":f=z;break;case"defaultValue":v=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,i));break;default:Rt(t,i,o,z,a,null)}}eg(t,f,v,b,O,g,u,!1),hl(t);return;case"select":pt("invalid",t),o=g=f=null;for(u in a)if(a.hasOwnProperty(u)&&(v=a[u],v!=null))switch(u){case"value":f=v;break;case"defaultValue":g=v;break;case"multiple":o=v;default:Rt(t,i,u,v,a,null)}i=f,a=g,t.multiple=!!o,i!=null?Ja(t,!!o,i,!1):a!=null&&Ja(t,!!o,a,!0);return;case"textarea":pt("invalid",t),f=u=o=null;for(g in a)if(a.hasOwnProperty(g)&&(v=a[g],v!=null))switch(g){case"value":o=v;break;case"defaultValue":u=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Rt(t,i,g,v,a,null)}ig(t,o,u,f),hl(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Rt(t,i,b,o,a,null)}return;case"dialog":pt("beforetoggle",t),pt("toggle",t),pt("cancel",t),pt("close",t);break;case"iframe":case"object":pt("load",t);break;case"video":case"audio":for(o=0;o<wo.length;o++)pt(wo[o],t);break;case"image":pt("error",t),pt("load",t);break;case"details":pt("toggle",t);break;case"embed":case"source":case"link":pt("error",t),pt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(o=a[O],o!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Rt(t,i,O,o,a,null)}return;default:if(Ac(i)){for(z in a)a.hasOwnProperty(z)&&(o=a[z],o!==void 0&&lh(t,i,z,o,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(o=a[v],o!=null&&Rt(t,i,v,o,a,null))}function RT(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,v=null,b=null,O=null,z=null;for(I in a){var q=a[I];if(a.hasOwnProperty(I)&&q!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":b=q;default:o.hasOwnProperty(I)||Rt(t,i,I,null,o,q)}}for(var k in o){var I=o[k];if(q=a[k],o.hasOwnProperty(k)&&(I!=null||q!=null))switch(k){case"type":f=I;break;case"name":u=I;break;case"checked":O=I;break;case"defaultChecked":z=I;break;case"value":g=I;break;case"defaultValue":v=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,i));break;default:I!==q&&Rt(t,i,k,I,o,q)}}bc(t,g,v,b,O,z,f,u);return;case"select":I=g=v=k=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":I=b;default:o.hasOwnProperty(f)||Rt(t,i,f,null,o,b)}for(u in o)if(f=o[u],b=a[u],o.hasOwnProperty(u)&&(f!=null||b!=null))switch(u){case"value":k=f;break;case"defaultValue":v=f;break;case"multiple":g=f;default:f!==b&&Rt(t,i,u,f,o,b)}i=v,a=g,o=I,k!=null?Ja(t,!!a,k,!1):!!o!=!!a&&(i!=null?Ja(t,!!a,i,!0):Ja(t,!!a,a?[]:"",!1));return;case"textarea":I=k=null;for(v in a)if(u=a[v],a.hasOwnProperty(v)&&u!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Rt(t,i,v,null,o,u)}for(g in o)if(u=o[g],f=a[g],o.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":k=u;break;case"defaultValue":I=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==f&&Rt(t,i,g,u,o,f)}ng(t,k,I);return;case"option":for(var lt in a)if(k=a[lt],a.hasOwnProperty(lt)&&k!=null&&!o.hasOwnProperty(lt))switch(lt){case"selected":t.selected=!1;break;default:Rt(t,i,lt,null,o,k)}for(b in o)if(k=o[b],I=a[b],o.hasOwnProperty(b)&&k!==I&&(k!=null||I!=null))switch(b){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Rt(t,i,b,k,o,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in a)k=a[rt],a.hasOwnProperty(rt)&&k!=null&&!o.hasOwnProperty(rt)&&Rt(t,i,rt,null,o,k);for(O in o)if(k=o[O],I=a[O],o.hasOwnProperty(O)&&k!==I&&(k!=null||I!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,i));break;default:Rt(t,i,O,k,o,I)}return;default:if(Ac(i)){for(var kt in a)k=a[kt],a.hasOwnProperty(kt)&&k!==void 0&&!o.hasOwnProperty(kt)&&lh(t,i,kt,void 0,o,k);for(z in o)k=o[z],I=a[z],!o.hasOwnProperty(z)||k===I||k===void 0&&I===void 0||lh(t,i,z,k,o,I);return}}for(var E in a)k=a[E],a.hasOwnProperty(E)&&k!=null&&!o.hasOwnProperty(E)&&Rt(t,i,E,null,o,k);for(q in o)k=o[q],I=a[q],!o.hasOwnProperty(q)||k===I||k==null&&I==null||Rt(t,i,q,k,o,I)}var uh=null,ch=null;function ou(t){return t.nodeType===9?t:t.ownerDocument}function rp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ap(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function fh(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var hh=null;function kT(){var t=window.event;return t&&t.type==="popstate"?t===hh?!1:(hh=t,!0):(hh=null,!1)}var sp=typeof setTimeout=="function"?setTimeout:void 0,BT=typeof clearTimeout=="function"?clearTimeout:void 0,op=typeof Promise=="function"?Promise:void 0,IT=typeof queueMicrotask=="function"?queueMicrotask:typeof op<"u"?function(t){return op.resolve(null).then(t).catch(MT)}:sp;function MT(t){setTimeout(function(){throw t})}function qr(t){return t==="head"}function lp(t,i){var a=i,o=0,u=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var g=t.ownerDocument;if(a&1&&Eo(g.documentElement),a&2&&Eo(g.body),a&4)for(a=g.head,Eo(a),g=a.firstChild;g;){var v=g.nextSibling,b=g.nodeName;g[qs]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=v}}if(u===0){t.removeChild(f),Bo(i);return}u--}else a==="$"||a==="$?"||a==="$!"?u++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);Bo(i)}function dh(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dh(a),pc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function zT(t,i,a,o){for(;t.nodeType===1;){var u=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[qs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=bn(t.nextSibling),t===null)break}return null}function UT(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=bn(t.nextSibling),t===null))return null;return t}function gh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function LT(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function bn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var mh=null;function up(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function cp(t,i,a){switch(i=ou(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Eo(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pc(t)}var tn=new Map,fp=new Set;function lu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ui=G.d;G.d={f:qT,r:JT,D:PT,C:VT,L:HT,m:jT,X:GT,S:YT,M:KT};function qT(){var t=ui.f(),i=Wl();return t||i}function JT(t){var i=za(t);i!==null&&i.tag===5&&i.type==="form"?km(i):ui.r(t)}var ms=typeof document>"u"?null:document;function hp(t,i,a){var o=ms;if(o&&typeof i=="string"&&i){var u=$e(i);u='link[rel="'+t+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),fp.has(u)||(fp.add(u),t={rel:t,crossOrigin:a,href:i},o.querySelector(u)===null&&(i=o.createElement("link"),fe(i,"link",t),re(i),o.head.appendChild(i)))}}function PT(t){ui.D(t),hp("dns-prefetch",t,null)}function VT(t,i){ui.C(t,i),hp("preconnect",t,i)}function HT(t,i,a){ui.L(t,i,a);var o=ms;if(o&&t&&i){var u='link[rel="preload"][as="'+$e(i)+'"]';i==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+$e(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+$e(a.imageSizes)+'"]')):u+='[href="'+$e(t)+'"]';var f=u;switch(i){case"style":f=ys(t);break;case"script":f=ps(t)}tn.has(f)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),tn.set(f,t),o.querySelector(u)!==null||i==="style"&&o.querySelector(No(f))||i==="script"&&o.querySelector(xo(f))||(i=o.createElement("link"),fe(i,"link",t),re(i),o.head.appendChild(i)))}}function jT(t,i){ui.m(t,i);var a=ms;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",u='link[rel="modulepreload"][as="'+$e(o)+'"][href="'+$e(t)+'"]',f=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ps(t)}if(!tn.has(f)&&(t=T({rel:"modulepreload",href:t},i),tn.set(f,t),a.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xo(f)))return}o=a.createElement("link"),fe(o,"link",t),re(o),a.head.appendChild(o)}}}function YT(t,i,a){ui.S(t,i,a);var o=ms;if(o&&t){var u=Ua(o).hoistableStyles,f=ys(t);i=i||"default";var g=u.get(f);if(!g){var v={loading:0,preload:null};if(g=o.querySelector(No(f)))v.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=tn.get(f))&&yh(t,a);var b=g=o.createElement("link");re(b),fe(b,"link",t),b._p=new Promise(function(O,z){b.onload=O,b.onerror=z}),b.addEventListener("load",function(){v.loading|=1}),b.addEventListener("error",function(){v.loading|=2}),v.loading|=4,uu(g,i,o)}g={type:"stylesheet",instance:g,count:1,state:v},u.set(f,g)}}}function GT(t,i){ui.X(t,i);var a=ms;if(a&&t){var o=Ua(a).hoistableScripts,u=ps(t),f=o.get(u);f||(f=a.querySelector(xo(u)),f||(t=T({src:t,async:!0},i),(i=tn.get(u))&&ph(t,i),f=a.createElement("script"),re(f),fe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function KT(t,i){ui.M(t,i);var a=ms;if(a&&t){var o=Ua(a).hoistableScripts,u=ps(t),f=o.get(u);f||(f=a.querySelector(xo(u)),f||(t=T({src:t,async:!0,type:"module"},i),(i=tn.get(u))&&ph(t,i),f=a.createElement("script"),re(f),fe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function dp(t,i,a,o){var u=(u=ut.current)?lu(u):null;if(!u)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ys(a.href),a=Ua(u).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ys(a.href);var f=Ua(u).hoistableStyles,g=f.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=u.querySelector(No(t)))&&!f._p&&(g.instance=f,g.state.loading=5),tn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},tn.set(t,a),f||$T(u,t,a,g.state))),i&&o===null)throw Error(r(528,""));return g}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ps(a),a=Ua(u).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ys(t){return'href="'+$e(t)+'"'}function No(t){return'link[rel="stylesheet"]['+t+"]"}function gp(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function $T(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),fe(i,"link",a),re(i),t.head.appendChild(i))}function ps(t){return'[src="'+$e(t)+'"]'}function xo(t){return"script[async]"+t}function mp(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+$e(a.href)+'"]');if(o)return i.instance=o,re(o),o;var u=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),re(o),fe(o,"style",u),uu(o,a.precedence,t),i.instance=o;case"stylesheet":u=ys(a.href);var f=t.querySelector(No(u));if(f)return i.state.loading|=4,i.instance=f,re(f),f;o=gp(a),(u=tn.get(u))&&yh(o,u),f=(t.ownerDocument||t).createElement("link"),re(f);var g=f;return g._p=new Promise(function(v,b){g.onload=v,g.onerror=b}),fe(f,"link",o),i.state.loading|=4,uu(f,a.precedence,t),i.instance=f;case"script":return f=ps(a.src),(u=t.querySelector(xo(f)))?(i.instance=u,re(u),u):(o=a,(u=tn.get(f))&&(o=T({},a),ph(o,u)),t=t.ownerDocument||t,u=t.createElement("script"),re(u),fe(u,"link",o),t.head.appendChild(u),i.instance=u);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,uu(o,a.precedence,t));return i.instance}function uu(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,f=u,g=0;g<o.length;g++){var v=o[g];if(v.dataset.precedence===i)f=v;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function yh(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function ph(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var cu=null;function yp(t,i,a){if(cu===null){var o=new Map,u=cu=new Map;u.set(a,o)}else u=cu,o=u.get(a),o||(o=new Map,u.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),u=0;u<a.length;u++){var f=a[u];if(!(f[qs]||f[me]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(i)||"";g=t+g;var v=o.get(g);v?v.push(f):o.set(g,[f])}}return o}function pp(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function XT(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function vp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Do=null;function ZT(){}function QT(t,i,a){if(Do===null)throw Error(r(475));var o=Do;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=ys(a.href),f=t.querySelector(No(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=fu.bind(o),t.then(o,o)),i.state.loading|=4,i.instance=f,re(f);return}f=t.ownerDocument||t,a=gp(a),(u=tn.get(u))&&yh(a,u),f=f.createElement("link"),re(f);var g=f;g._p=new Promise(function(v,b){g.onload=v,g.onerror=b}),fe(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=fu.bind(o),t.addEventListener("load",i),t.addEventListener("error",i))}}function _T(){if(Do===null)throw Error(r(475));var t=Do;return t.stylesheets&&t.count===0&&vh(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&vh(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function fu(){if(this.count--,this.count===0){if(this.stylesheets)vh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hu=null;function vh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hu=new Map,i.forEach(FT,t),hu=null,fu.call(t))}function FT(t,i){if(!(i.state.loading&4)){var a=hu.get(t);if(a)var o=a.get(null);else{a=new Map,hu.set(t,a);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}u=i.instance,g=u.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,u),a.set(g,u),this.count++,o=fu.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),i.state.loading|=4}}var Oo={$$typeof:K,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function WT(t,i,a,o,u,f,g,v){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dc(0),this.hiddenUpdates=dc(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Sp(t,i,a,o,u,f,g,v,b,O,z,q){return t=new WT(t,i,a,g,v,b,O,q),i=1,f===!0&&(i|=24),f=Ue(3,null,null,i),t.current=f,f.stateNode=t,i=Fc(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},nf(f),t}function Tp(t){return t?(t=Xa,t):Xa}function bp(t,i,a,o,u,f){u=Tp(u),o.context===null?o.context=u:o.pendingContext=u,o=Nr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=xr(t,o,i),a!==null&&(Ve(a,t,i),io(a,t,i))}function wp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Sh(t,i){wp(t,i),(t=t.alternate)&&wp(t,i)}function Ap(t){if(t.tag===13){var i=$a(t,67108864);i!==null&&Ve(i,t,67108864),Sh(t,67108864)}}var du=!0;function tb(t,i,a,o){var u=U.T;U.T=null;var f=G.p;try{G.p=2,Th(t,i,a,o)}finally{G.p=f,U.T=u}}function eb(t,i,a,o){var u=U.T;U.T=null;var f=G.p;try{G.p=8,Th(t,i,a,o)}finally{G.p=f,U.T=u}}function Th(t,i,a,o){if(du){var u=bh(o);if(u===null)oh(t,i,o,gu,a),Np(t,o);else if(ib(u,t,i,a,o))o.stopPropagation();else if(Np(t,o),i&4&&-1<nb.indexOf(t)){for(;u!==null;){var f=za(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ra(f.pendingLanes);if(g!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var b=1<<31-Me(g);v.entanglements[1]|=b,g&=~b}Bn(f),(xt&6)===0&&(_l=Dn()+500,bo(0))}}break;case 13:v=$a(f,2),v!==null&&Ve(v,f,2),Wl(),Sh(f,2)}if(f=bh(o),f===null&&oh(t,i,o,gu,a),f===u)break;u=f}u!==null&&o.stopPropagation()}else oh(t,i,o,null,a)}}function bh(t){return t=Nc(t),wh(t)}var gu=null;function wh(t){if(gu=null,t=Ma(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return gu=t,null}function Ep(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(V0()){case qd:return 2;case Jd:return 8;case sl:case H0:return 32;case Pd:return 268435456;default:return 32}default:return 32}}var Ah=!1,Jr=null,Pr=null,Vr=null,Co=new Map,Ro=new Map,Hr=[],nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Np(t,i){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Co.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(i.pointerId)}}function ko(t,i,a,o,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[u]},i!==null&&(i=za(i),i!==null&&Ap(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,u!==null&&i.indexOf(u)===-1&&i.push(u),t)}function ib(t,i,a,o,u){switch(i){case"focusin":return Jr=ko(Jr,t,i,a,o,u),!0;case"dragenter":return Pr=ko(Pr,t,i,a,o,u),!0;case"mouseover":return Vr=ko(Vr,t,i,a,o,u),!0;case"pointerover":var f=u.pointerId;return Co.set(f,ko(Co.get(f)||null,t,i,a,o,u)),!0;case"gotpointercapture":return f=u.pointerId,Ro.set(f,ko(Ro.get(f)||null,t,i,a,o,u)),!0}return!1}function xp(t){var i=Ma(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Q0(t.priority,function(){if(a.tag===13){var o=Pe();o=gc(o);var u=$a(a,o);u!==null&&Ve(u,a,o),Sh(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=bh(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Ec=o,a.target.dispatchEvent(o),Ec=null}else return i=za(a),i!==null&&Ap(i),t.blockedOn=a,!1;i.shift()}return!0}function Dp(t,i,a){mu(t)&&a.delete(i)}function rb(){Ah=!1,Jr!==null&&mu(Jr)&&(Jr=null),Pr!==null&&mu(Pr)&&(Pr=null),Vr!==null&&mu(Vr)&&(Vr=null),Co.forEach(Dp),Ro.forEach(Dp)}function yu(t,i){t.blockedOn===i&&(t.blockedOn=null,Ah||(Ah=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,rb)))}var pu=null;function Op(t){pu!==t&&(pu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){pu===t&&(pu=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],u=t[i+2];if(typeof o!="function"){if(wh(o||a)===null)continue;break}var f=za(a);f!==null&&(t.splice(i,3),i-=3,wf(f,{pending:!0,data:u,method:a.method,action:o},o,u))}}))}function Bo(t){function i(b){return yu(b,t)}Jr!==null&&yu(Jr,t),Pr!==null&&yu(Pr,t),Vr!==null&&yu(Vr,t),Co.forEach(i),Ro.forEach(i);for(var a=0;a<Hr.length;a++){var o=Hr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Hr.length&&(a=Hr[0],a.blockedOn===null);)xp(a),a.blockedOn===null&&Hr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var u=a[o],f=a[o+1],g=u[we]||null;if(typeof f=="function")g||Op(a);else if(g){var v=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[we]||null)v=g.formAction;else if(wh(u)!==null)continue}else v=g.action;typeof v=="function"?a[o+1]=v:(a.splice(o,3),o-=3),Op(a)}}}function Eh(t){this._internalRoot=t}vu.prototype.render=Eh.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Pe();bp(a,o,t,i,null,null)},vu.prototype.unmount=Eh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;bp(t.current,2,null,t,null,null),Wl(),i[Ia]=null}};function vu(t){this._internalRoot=t}vu.prototype.unstable_scheduleHydration=function(t){if(t){var i=Gd();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Hr.length&&i!==0&&i<Hr[a].priority;a++);Hr.splice(a,0,t),a===0&&xp(t)}};var Cp=n.version;if(Cp!=="19.1.0")throw Error(r(527,Cp,"19.1.0"));G.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var ab={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{zs=Su.inject(ab),Ie=Su}catch{}}return Mo.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",u=Gm,f=Km,g=$m,v=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(v=i.unstable_transitionCallbacks)),i=Sp(t,1,!1,null,null,a,o,u,f,g,v,null),t[Ia]=i.current,sh(t),new Eh(i)},Mo.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,u="",f=Gm,g=Km,v=$m,b=null,O=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(O=a.formState)),i=Sp(t,1,!0,i,a??null,o,u,f,g,v,b,O),i.context=Tp(null),a=i.current,o=Pe(),o=gc(o),u=Nr(o),u.callback=null,xr(a,u,o),a=o,i.current.lanes=a,Ls(i,a),Bn(i),t[Ia]=i.current,sh(t),new vu(i)},Mo.version="19.1.0",Mo}var Jp;function Sb(){if(Jp)return Dh.exports;Jp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Dh.exports=vb(),Dh.exports}var Tb=Sb();const bb="@yorkie-js/react",wb="0.6.9",Pp={name:bb,version:wb};var vt;(function(s){s[s.Canceled=1]="Canceled",s[s.Unknown=2]="Unknown",s[s.InvalidArgument=3]="InvalidArgument",s[s.DeadlineExceeded=4]="DeadlineExceeded",s[s.NotFound=5]="NotFound",s[s.AlreadyExists=6]="AlreadyExists",s[s.PermissionDenied=7]="PermissionDenied",s[s.ResourceExhausted=8]="ResourceExhausted",s[s.FailedPrecondition=9]="FailedPrecondition",s[s.Aborted=10]="Aborted",s[s.OutOfRange=11]="OutOfRange",s[s.Unimplemented=12]="Unimplemented",s[s.Internal=13]="Internal",s[s.Unavailable=14]="Unavailable",s[s.DataLoss=15]="DataLoss",s[s.Unauthenticated=16]="Unauthenticated"})(vt||(vt={}));function Vp(s){const n=vt[s];return typeof n!="string"?s.toString():n[0].toLowerCase()+n.substring(1).replace(/[A-Z]/g,e=>"_"+e.toLowerCase())}class Nt extends Error{constructor(n,e=vt.Unknown,r,l,c){super(Ab(n,e)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=n,this.code=e,this.metadata=new Headers(r??{}),this.details=l??[],this.cause=c}static from(n,e=vt.Unknown){return n instanceof Nt?n:n instanceof Error?n.name=="AbortError"?new Nt(n.message,vt.Canceled):new Nt(n.message,e,void 0,void 0,n):new Nt(String(n),e,void 0,void 0,n)}static[Symbol.hasInstance](n){return n instanceof Error?Object.getPrototypeOf(n)===Nt.prototype?!0:n.name==="ConnectError"&&"code"in n&&typeof n.code=="number"&&"metadata"in n&&"details"in n&&Array.isArray(n.details)&&"rawMessage"in n&&typeof n.rawMessage=="string"&&"cause"in n:!1}findDetails(n){const e="typeName"in n?{findMessage:l=>l===n.typeName?n:void 0}:n,r=[];for(const l of this.details){if("getType"in l){e.findMessage(l.getType().typeName)&&r.push(l);continue}const c=e.findMessage(l.type);if(c)try{r.push(c.fromBinary(l.value))}catch{}}return r}}function Ab(s,n){return s.length?`[${Vp(n)}] ${s}`:`[${Vp(n)}]`}function Gt(s,n){if(!s)throw new Error(n)}const Eb=34028234663852886e22,Nb=-34028234663852886e22,xb=4294967295,Db=2147483647,Ob=-2147483648;function Nu(s){if(typeof s!="number")throw new Error("invalid int 32: "+typeof s);if(!Number.isInteger(s)||s>Db||s<Ob)throw new Error("invalid int 32: "+s)}function Ph(s){if(typeof s!="number")throw new Error("invalid uint 32: "+typeof s);if(!Number.isInteger(s)||s>xb||s<0)throw new Error("invalid uint 32: "+s)}function Rv(s){if(typeof s!="number")throw new Error("invalid float 32: "+typeof s);if(Number.isFinite(s)&&(s>Eb||s<Nb))throw new Error("invalid float 32: "+s)}const kv=Symbol("@bufbuild/protobuf/enum-type");function Cb(s){const n=s[kv];return Gt(n,"missing enum type on enum object"),n}function Bv(s,n,e,r){s[kv]=Iv(n,e.map(l=>({no:l.no,name:l.name,localName:s[l.no]})))}function Iv(s,n,e){const r=Object.create(null),l=Object.create(null),c=[];for(const h of n){const m=Mv(h);c.push(m),r[h.name]=m,l[h.no]=m}return{typeName:s,values:c,findName(h){return r[h]},findNumber(h){return l[h]}}}function Rb(s,n,e){const r={};for(const l of n){const c=Mv(l);r[c.localName]=c.no,r[c.no]=c.localName}return Bv(r,s,n),r}function Mv(s){return"localName"in s?s:Object.assign(Object.assign({},s),{localName:s.name})}class H{equals(n){return this.getType().runtime.util.equals(this.getType(),this,n)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(n,e){const r=this.getType(),l=r.runtime.bin,c=l.makeReadOptions(e);return l.readMessage(this,c.readerFactory(n),n.byteLength,c),this}fromJson(n,e){const r=this.getType(),l=r.runtime.json,c=l.makeReadOptions(e);return l.readMessage(r,n,c,this),this}fromJsonString(n,e){let r;try{r=JSON.parse(n)}catch(l){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${l instanceof Error?l.message:String(l)}`)}return this.fromJson(r,e)}toBinary(n){const e=this.getType(),r=e.runtime.bin,l=r.makeWriteOptions(n),c=l.writerFactory();return r.writeMessage(this,c,l),c.finish()}toJson(n){const e=this.getType(),r=e.runtime.json,l=r.makeWriteOptions(n);return r.writeMessage(this,l)}toJsonString(n){var e;const r=this.toJson(n);return JSON.stringify(r,null,(e=n==null?void 0:n.prettySpaces)!==null&&e!==void 0?e:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function kb(s,n,e,r){var l;const c=(l=r==null?void 0:r.localName)!==null&&l!==void 0?l:n.substring(n.lastIndexOf(".")+1),h={[c]:function(m){s.util.initFields(this),s.util.initPartial(m,this)}}[c];return Object.setPrototypeOf(h.prototype,new H),Object.assign(h,{runtime:s,typeName:n,fields:s.util.newFieldList(e),fromBinary(m,p){return new h().fromBinary(m,p)},fromJson(m,p){return new h().fromJson(m,p)},fromJsonString(m,p){return new h().fromJsonString(m,p)},equals(m,p){return s.util.equals(h,m,p)}}),h}function Bb(){let s=0,n=0;for(let r=0;r<28;r+=7){let l=this.buf[this.pos++];if(s|=(l&127)<<r,(l&128)==0)return this.assertBounds(),[s,n]}let e=this.buf[this.pos++];if(s|=(e&15)<<28,n=(e&112)>>4,(e&128)==0)return this.assertBounds(),[s,n];for(let r=3;r<=31;r+=7){let l=this.buf[this.pos++];if(n|=(l&127)<<r,(l&128)==0)return this.assertBounds(),[s,n]}throw new Error("invalid varint")}function kh(s,n,e){for(let c=0;c<28;c=c+7){const h=s>>>c,m=!(!(h>>>7)&&n==0),p=(m?h|128:h)&255;if(e.push(p),!m)return}const r=s>>>28&15|(n&7)<<4,l=n>>3!=0;if(e.push((l?r|128:r)&255),!!l){for(let c=3;c<31;c=c+7){const h=n>>>c,m=!!(h>>>7),p=(m?h|128:h)&255;if(e.push(p),!m)return}e.push(n>>>31&1)}}const xu=4294967296;function Hp(s){const n=s[0]==="-";n&&(s=s.slice(1));const e=1e6;let r=0,l=0;function c(h,m){const p=Number(s.slice(h,m));l*=e,r=r*e+p,r>=xu&&(l=l+(r/xu|0),r=r%xu)}return c(-24,-18),c(-18,-12),c(-12,-6),c(-6),n?Uv(r,l):md(r,l)}function Ib(s,n){let e=md(s,n);const r=e.hi&2147483648;r&&(e=Uv(e.lo,e.hi));const l=zv(e.lo,e.hi);return r?"-"+l:l}function zv(s,n){if({lo:s,hi:n}=Mb(s,n),n<=2097151)return String(xu*n+s);const e=s&16777215,r=(s>>>24|n<<8)&16777215,l=n>>16&65535;let c=e+r*6777216+l*6710656,h=r+l*8147497,m=l*2;const p=1e7;return c>=p&&(h+=Math.floor(c/p),c%=p),h>=p&&(m+=Math.floor(h/p),h%=p),m.toString()+jp(h)+jp(c)}function Mb(s,n){return{lo:s>>>0,hi:n>>>0}}function md(s,n){return{lo:s|0,hi:n|0}}function Uv(s,n){return n=~n,s?s=~s+1:n+=1,md(s,n)}const jp=s=>{const n=String(s);return"0000000".slice(n.length)+n};function Yp(s,n){if(s>=0){for(;s>127;)n.push(s&127|128),s=s>>>7;n.push(s)}else{for(let e=0;e<9;e++)n.push(s&127|128),s=s>>7;n.push(1)}}function zb(){let s=this.buf[this.pos++],n=s&127;if((s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<7,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<14,(s&128)==0)return this.assertBounds(),n;if(s=this.buf[this.pos++],n|=(s&127)<<21,(s&128)==0)return this.assertBounds(),n;s=this.buf[this.pos++],n|=(s&15)<<28;for(let e=5;(s&128)!==0&&e<10;e++)s=this.buf[this.pos++];if((s&128)!=0)throw new Error("invalid varint");return this.assertBounds(),n>>>0}var Gp={};function Ub(){const s=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof s.getBigInt64=="function"&&typeof s.getBigUint64=="function"&&typeof s.setBigInt64=="function"&&typeof s.setBigUint64=="function"&&(typeof process!="object"||typeof Gp!="object"||Gp.BUF_BIGINT_DISABLE!=="1")){const l=BigInt("-9223372036854775808"),c=BigInt("9223372036854775807"),h=BigInt("0"),m=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(p){const y=typeof p=="bigint"?p:BigInt(p);if(y>c||y<l)throw new Error(`int64 invalid: ${p}`);return y},uParse(p){const y=typeof p=="bigint"?p:BigInt(p);if(y>m||y<h)throw new Error(`uint64 invalid: ${p}`);return y},enc(p){return s.setBigInt64(0,this.parse(p),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},uEnc(p){return s.setBigInt64(0,this.uParse(p),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},dec(p,y){return s.setInt32(0,p,!0),s.setInt32(4,y,!0),s.getBigInt64(0,!0)},uDec(p,y){return s.setInt32(0,p,!0),s.setInt32(4,y,!0),s.getBigUint64(0,!0)}}}const e=l=>Gt(/^-?[0-9]+$/.test(l),`int64 invalid: ${l}`),r=l=>Gt(/^[0-9]+$/.test(l),`uint64 invalid: ${l}`);return{zero:"0",supported:!1,parse(l){return typeof l!="string"&&(l=l.toString()),e(l),l},uParse(l){return typeof l!="string"&&(l=l.toString()),r(l),l},enc(l){return typeof l!="string"&&(l=l.toString()),e(l),Hp(l)},uEnc(l){return typeof l!="string"&&(l=l.toString()),r(l),Hp(l)},dec(l,c){return Ib(l,c)},uDec(l,c){return zv(l,c)}}}const qt=Ub();var M;(function(s){s[s.DOUBLE=1]="DOUBLE",s[s.FLOAT=2]="FLOAT",s[s.INT64=3]="INT64",s[s.UINT64=4]="UINT64",s[s.INT32=5]="INT32",s[s.FIXED64=6]="FIXED64",s[s.FIXED32=7]="FIXED32",s[s.BOOL=8]="BOOL",s[s.STRING=9]="STRING",s[s.BYTES=12]="BYTES",s[s.UINT32=13]="UINT32",s[s.SFIXED32=15]="SFIXED32",s[s.SFIXED64=16]="SFIXED64",s[s.SINT32=17]="SINT32",s[s.SINT64=18]="SINT64"})(M||(M={}));var Wr;(function(s){s[s.BIGINT=0]="BIGINT",s[s.STRING=1]="STRING"})(Wr||(Wr={}));function Yr(s,n,e){if(n===e)return!0;if(s==M.BYTES){if(!(n instanceof Uint8Array)||!(e instanceof Uint8Array)||n.length!==e.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!==e[r])return!1;return!0}switch(s){case M.UINT64:case M.FIXED64:case M.INT64:case M.SFIXED64:case M.SINT64:return n==e}return!1}function Ns(s,n){switch(s){case M.BOOL:return!1;case M.UINT64:case M.FIXED64:case M.INT64:case M.SFIXED64:case M.SINT64:return n==0?qt.zero:"0";case M.DOUBLE:case M.FLOAT:return 0;case M.BYTES:return new Uint8Array(0);case M.STRING:return"";default:return 0}}function Lv(s,n){switch(s){case M.BOOL:return n===!1;case M.STRING:return n==="";case M.BYTES:return n instanceof Uint8Array&&!n.byteLength;default:return n==0}}var Qt;(function(s){s[s.Varint=0]="Varint",s[s.Bit64=1]="Bit64",s[s.LengthDelimited=2]="LengthDelimited",s[s.StartGroup=3]="StartGroup",s[s.EndGroup=4]="EndGroup",s[s.Bit32=5]="Bit32"})(Qt||(Qt={}));class Lb{constructor(n){this.stack=[],this.textEncoder=n??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let n=0;for(let l=0;l<this.chunks.length;l++)n+=this.chunks[l].length;let e=new Uint8Array(n),r=0;for(let l=0;l<this.chunks.length;l++)e.set(this.chunks[l],r),r+=this.chunks[l].length;return this.chunks=[],e}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let n=this.finish(),e=this.stack.pop();if(!e)throw new Error("invalid state, fork stack empty");return this.chunks=e.chunks,this.buf=e.buf,this.uint32(n.byteLength),this.raw(n)}tag(n,e){return this.uint32((n<<3|e)>>>0)}raw(n){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(n),this}uint32(n){for(Ph(n);n>127;)this.buf.push(n&127|128),n=n>>>7;return this.buf.push(n),this}int32(n){return Nu(n),Yp(n,this.buf),this}bool(n){return this.buf.push(n?1:0),this}bytes(n){return this.uint32(n.byteLength),this.raw(n)}string(n){let e=this.textEncoder.encode(n);return this.uint32(e.byteLength),this.raw(e)}float(n){Rv(n);let e=new Uint8Array(4);return new DataView(e.buffer).setFloat32(0,n,!0),this.raw(e)}double(n){let e=new Uint8Array(8);return new DataView(e.buffer).setFloat64(0,n,!0),this.raw(e)}fixed32(n){Ph(n);let e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,n,!0),this.raw(e)}sfixed32(n){Nu(n);let e=new Uint8Array(4);return new DataView(e.buffer).setInt32(0,n,!0),this.raw(e)}sint32(n){return Nu(n),n=(n<<1^n>>31)>>>0,Yp(n,this.buf),this}sfixed64(n){let e=new Uint8Array(8),r=new DataView(e.buffer),l=qt.enc(n);return r.setInt32(0,l.lo,!0),r.setInt32(4,l.hi,!0),this.raw(e)}fixed64(n){let e=new Uint8Array(8),r=new DataView(e.buffer),l=qt.uEnc(n);return r.setInt32(0,l.lo,!0),r.setInt32(4,l.hi,!0),this.raw(e)}int64(n){let e=qt.enc(n);return kh(e.lo,e.hi,this.buf),this}sint64(n){let e=qt.enc(n),r=e.hi>>31,l=e.lo<<1^r,c=(e.hi<<1|e.lo>>>31)^r;return kh(l,c,this.buf),this}uint64(n){let e=qt.uEnc(n);return kh(e.lo,e.hi,this.buf),this}}class qb{constructor(n,e){this.varint64=Bb,this.uint32=zb,this.buf=n,this.len=n.length,this.pos=0,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.textDecoder=e??new TextDecoder}tag(){let n=this.uint32(),e=n>>>3,r=n&7;if(e<=0||r<0||r>5)throw new Error("illegal tag: field no "+e+" wire type "+r);return[e,r]}skip(n,e){let r=this.pos;switch(n){case Qt.Varint:for(;this.buf[this.pos++]&128;);break;case Qt.Bit64:this.pos+=4;case Qt.Bit32:this.pos+=4;break;case Qt.LengthDelimited:let l=this.uint32();this.pos+=l;break;case Qt.StartGroup:for(;;){const[c,h]=this.tag();if(h===Qt.EndGroup){if(e!==void 0&&c!==e)throw new Error("invalid end group tag");break}this.skip(h,c)}break;default:throw new Error("cant skip wire type "+n)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let n=this.uint32();return n>>>1^-(n&1)}int64(){return qt.dec(...this.varint64())}uint64(){return qt.uDec(...this.varint64())}sint64(){let[n,e]=this.varint64(),r=-(n&1);return n=(n>>>1|(e&1)<<31)^r,e=e>>>1^r,qt.dec(n,e)}bool(){let[n,e]=this.varint64();return n!==0||e!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return qt.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return qt.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let n=this.uint32(),e=this.pos;return this.pos+=n,this.assertBounds(),this.buf.subarray(e,e+n)}string(){return this.textDecoder.decode(this.bytes())}}function Jb(s,n,e,r){let l;return{typeName:n,extendee:e,get field(){if(!l){const c=typeof r=="function"?r():r;c.name=n.split(".").pop(),c.jsonName=`[${n}]`,l=s.util.newFieldList([c]).list()[0]}return l},runtime:s}}function qv(s){const n=s.field.localName,e=Object.create(null);return e[n]=Pb(s),[e,()=>e[n]]}function Pb(s){const n=s.field;if(n.repeated)return[];if(n.default!==void 0)return n.default;switch(n.kind){case"enum":return n.T.values[0].no;case"scalar":return Ns(n.T,n.L);case"message":const e=n.T,r=new e;return e.fieldWrapper?e.fieldWrapper.unwrapField(r):r;case"map":throw"map fields are not allowed to be extensions"}}function Vb(s,n){if(!n.repeated&&(n.kind=="enum"||n.kind=="scalar")){for(let e=s.length-1;e>=0;--e)if(s[e].no==n.no)return[s[e]];return[]}return s.filter(e=>e.no===n.no)}let cr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),nc=[];for(let s=0;s<cr.length;s++)nc[cr[s].charCodeAt(0)]=s;nc[45]=cr.indexOf("+");nc[95]=cr.indexOf("/");const yd={dec(s){let n=s.length*3/4;s[s.length-2]=="="?n-=2:s[s.length-1]=="="&&(n-=1);let e=new Uint8Array(n),r=0,l=0,c,h=0;for(let m=0;m<s.length;m++){if(c=nc[s.charCodeAt(m)],c===void 0)switch(s[m]){case"=":l=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(l){case 0:h=c,l=1;break;case 1:e[r++]=h<<2|(c&48)>>4,h=c,l=2;break;case 2:e[r++]=(h&15)<<4|(c&60)>>2,h=c,l=3;break;case 3:e[r++]=(h&3)<<6|c,l=0;break}}if(l==1)throw Error("invalid base64 string.");return e.subarray(0,r)},enc(s){let n="",e=0,r,l=0;for(let c=0;c<s.length;c++)switch(r=s[c],e){case 0:n+=cr[r>>2],l=(r&3)<<4,e=1;break;case 1:n+=cr[l|r>>4],l=(r&15)<<2,e=2;break;case 2:n+=cr[l|r>>6],n+=cr[r&63],e=0;break}return e&&(n+=cr[l],n+="=",e==1&&(n+="=")),n}};function Hb(s,n,e){Pv(n,s);const r=n.runtime.bin.makeReadOptions(e),l=Vb(s.getType().runtime.bin.listUnknownFields(s),n.field),[c,h]=qv(n);for(const m of l)n.runtime.bin.readField(c,r.readerFactory(m.data),n.field,m.wireType,r);return h()}function jb(s,n,e,r){Pv(n,s);const l=n.runtime.bin.makeReadOptions(r),c=n.runtime.bin.makeWriteOptions(r);if(Jv(s,n)){const y=s.getType().runtime.bin.listUnknownFields(s).filter(T=>T.no!=n.field.no);s.getType().runtime.bin.discardUnknownFields(s);for(const T of y)s.getType().runtime.bin.onUnknownField(s,T.no,T.wireType,T.data)}const h=c.writerFactory();let m=n.field;!m.opt&&!m.repeated&&(m.kind=="enum"||m.kind=="scalar")&&(m=Object.assign(Object.assign({},n.field),{opt:!0})),n.runtime.bin.writeField(m,e,h,c);const p=l.readerFactory(h.finish());for(;p.pos<p.len;){const[y,T]=p.tag(),N=p.skip(T,y);s.getType().runtime.bin.onUnknownField(s,y,T,N)}}function Jv(s,n){const e=s.getType();return n.extendee.typeName===e.typeName&&!!e.runtime.bin.listUnknownFields(s).find(r=>r.no==n.field.no)}function Pv(s,n){Gt(s.extendee.typeName==n.getType().typeName,`extension ${s.typeName} can only be applied to message ${s.extendee.typeName}`)}function Vv(s,n){const e=s.localName;if(s.repeated)return n[e].length>0;if(s.oneof)return n[s.oneof.localName].case===e;switch(s.kind){case"enum":case"scalar":return s.opt||s.req?n[e]!==void 0:s.kind=="enum"?n[e]!==s.T.values[0].no:!Lv(s.T,n[e]);case"message":return n[e]!==void 0;case"map":return Object.keys(n[e]).length>0}}function Kp(s,n){const e=s.localName,r=!s.opt&&!s.req;if(s.repeated)n[e]=[];else if(s.oneof)n[s.oneof.localName]={case:void 0};else switch(s.kind){case"map":n[e]={};break;case"enum":n[e]=r?s.T.values[0].no:void 0;break;case"scalar":n[e]=r?Ns(s.T,s.L):void 0;break;case"message":n[e]=void 0;break}}function xa(s,n){if(s===null||typeof s!="object"||!Object.getOwnPropertyNames(H.prototype).every(r=>r in s&&typeof s[r]=="function"))return!1;const e=s.getType();return e===null||typeof e!="function"||!("typeName"in e)||typeof e.typeName!="string"?!1:n===void 0?!0:e.typeName==n.typeName}function Hv(s,n){return xa(n)||!s.fieldWrapper?n:s.fieldWrapper.wrapField(n)}M.DOUBLE,M.FLOAT,M.INT64,M.UINT64,M.INT32,M.UINT32,M.BOOL,M.STRING,M.BYTES;const $p={ignoreUnknownFields:!1},Xp={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function Yb(s){return s?Object.assign(Object.assign({},$p),s):$p}function Gb(s){return s?Object.assign(Object.assign({},Xp),s):Xp}const Bu=Symbol(),Du=Symbol();function Kb(){return{makeReadOptions:Yb,makeWriteOptions:Gb,readMessage(s,n,e,r){if(n==null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message ${s.typeName} from JSON: ${Mn(n)}`);r=r??new s;const l=new Map,c=e.typeRegistry;for(const[h,m]of Object.entries(n)){const p=s.fields.findJsonName(h);if(p){if(p.oneof){if(m===null&&p.kind=="scalar")continue;const y=l.get(p.oneof);if(y!==void 0)throw new Error(`cannot decode message ${s.typeName} from JSON: multiple keys for oneof "${p.oneof.name}" present: "${y}", "${h}"`);l.set(p.oneof,h)}Zp(r,m,p,e,s)}else{let y=!1;if(c!=null&&c.findExtension&&h.startsWith("[")&&h.endsWith("]")){const T=c.findExtension(h.substring(1,h.length-1));if(T&&T.extendee.typeName==s.typeName){y=!0;const[N,B]=qv(T);Zp(N,m,T.field,e,T),jb(r,T,B(),e)}}if(!y&&!e.ignoreUnknownFields)throw new Error(`cannot decode message ${s.typeName} from JSON: key "${h}" is unknown`)}}return r},writeMessage(s,n){const e=s.getType(),r={};let l;try{for(l of e.fields.byNumber()){if(!Vv(l,s)){if(l.req)throw"required field not set";if(!n.emitDefaultValues||!Xb(l))continue}const h=l.oneof?s[l.oneof.localName].value:s[l.localName],m=Qp(l,h,n);m!==void 0&&(r[n.useProtoFieldName?l.name:l.jsonName]=m)}const c=n.typeRegistry;if(c!=null&&c.findExtensionFor)for(const h of e.runtime.bin.listUnknownFields(s)){const m=c.findExtensionFor(e.typeName,h.no);if(m&&Jv(s,m)){const p=Hb(s,m,n),y=Qp(m.field,p,n);y!==void 0&&(r[m.field.jsonName]=y)}}}catch(c){const h=l?`cannot encode field ${e.typeName}.${l.name} to JSON`:`cannot encode message ${e.typeName} to JSON`,m=c instanceof Error?c.message:String(c);throw new Error(h+(m.length>0?`: ${m}`:""))}return r},readScalar(s,n,e){return Jo(s,n,e??Wr.BIGINT,!0)},writeScalar(s,n,e){if(n!==void 0&&(e||Lv(s,n)))return Ou(s,n)},debug:Mn}}function Mn(s){if(s===null)return"null";switch(typeof s){case"object":return Array.isArray(s)?"array":"object";case"string":return s.length>100?"string":`"${s.split('"').join('\\"')}"`;default:return String(s)}}function Zp(s,n,e,r,l){let c=e.localName;if(e.repeated){if(Gt(e.kind!="map"),n===null)return;if(!Array.isArray(n))throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: ${Mn(n)}`);const h=s[c];for(const m of n){if(m===null)throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: ${Mn(m)}`);switch(e.kind){case"message":h.push(e.T.fromJson(m,r));break;case"enum":const p=Bh(e.T,m,r.ignoreUnknownFields,!0);p!==Du&&h.push(p);break;case"scalar":try{h.push(Jo(e.T,m,e.L,!0))}catch(y){let T=`cannot decode field ${l.typeName}.${e.name} from JSON: ${Mn(m)}`;throw y instanceof Error&&y.message.length>0&&(T+=`: ${y.message}`),new Error(T)}break}}}else if(e.kind=="map"){if(n===null)return;if(typeof n!="object"||Array.isArray(n))throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: ${Mn(n)}`);const h=s[c];for(const[m,p]of Object.entries(n)){if(p===null)throw new Error(`cannot decode field ${l.typeName}.${e.name} from JSON: map value null`);let y;try{y=$b(e.K,m)}catch(T){let N=`cannot decode map key for field ${l.typeName}.${e.name} from JSON: ${Mn(n)}`;throw T instanceof Error&&T.message.length>0&&(N+=`: ${T.message}`),new Error(N)}switch(e.V.kind){case"message":h[y]=e.V.T.fromJson(p,r);break;case"enum":const T=Bh(e.V.T,p,r.ignoreUnknownFields,!0);T!==Du&&(h[y]=T);break;case"scalar":try{h[y]=Jo(e.V.T,p,Wr.BIGINT,!0)}catch(N){let B=`cannot decode map value for field ${l.typeName}.${e.name} from JSON: ${Mn(n)}`;throw N instanceof Error&&N.message.length>0&&(B+=`: ${N.message}`),new Error(B)}break}}}else switch(e.oneof&&(s=s[e.oneof.localName]={case:c},c="value"),e.kind){case"message":const h=e.T;if(n===null&&h.typeName!="google.protobuf.Value")return;let m=s[c];xa(m)?m.fromJson(n,r):(s[c]=m=h.fromJson(n,r),h.fieldWrapper&&!e.oneof&&(s[c]=h.fieldWrapper.unwrapField(m)));break;case"enum":const p=Bh(e.T,n,r.ignoreUnknownFields,!1);switch(p){case Bu:Kp(e,s);break;case Du:break;default:s[c]=p;break}break;case"scalar":try{const y=Jo(e.T,n,e.L,!1);switch(y){case Bu:Kp(e,s);break;default:s[c]=y;break}}catch(y){let T=`cannot decode field ${l.typeName}.${e.name} from JSON: ${Mn(n)}`;throw y instanceof Error&&y.message.length>0&&(T+=`: ${y.message}`),new Error(T)}break}}function $b(s,n){if(s===M.BOOL)switch(n){case"true":n=!0;break;case"false":n=!1;break}return Jo(s,n,Wr.BIGINT,!0).toString()}function Jo(s,n,e,r){if(n===null)return r?Ns(s,e):Bu;switch(s){case M.DOUBLE:case M.FLOAT:if(n==="NaN")return Number.NaN;if(n==="Infinity")return Number.POSITIVE_INFINITY;if(n==="-Infinity")return Number.NEGATIVE_INFINITY;if(n===""||typeof n=="string"&&n.trim().length!==n.length||typeof n!="string"&&typeof n!="number")break;const l=Number(n);if(Number.isNaN(l)||!Number.isFinite(l))break;return s==M.FLOAT&&Rv(l),l;case M.INT32:case M.FIXED32:case M.SFIXED32:case M.SINT32:case M.UINT32:let c;if(typeof n=="number"?c=n:typeof n=="string"&&n.length>0&&n.trim().length===n.length&&(c=Number(n)),c===void 0)break;return s==M.UINT32||s==M.FIXED32?Ph(c):Nu(c),c;case M.INT64:case M.SFIXED64:case M.SINT64:if(typeof n!="number"&&typeof n!="string")break;const h=qt.parse(n);return e?h.toString():h;case M.FIXED64:case M.UINT64:if(typeof n!="number"&&typeof n!="string")break;const m=qt.uParse(n);return e?m.toString():m;case M.BOOL:if(typeof n!="boolean")break;return n;case M.STRING:if(typeof n!="string")break;try{encodeURIComponent(n)}catch{throw new Error("invalid UTF8")}return n;case M.BYTES:if(n==="")return new Uint8Array(0);if(typeof n!="string")break;return yd.dec(n)}throw new Error}function Bh(s,n,e,r){if(n===null)return s.typeName=="google.protobuf.NullValue"?0:r?s.values[0].no:Bu;switch(typeof n){case"number":if(Number.isInteger(n))return n;break;case"string":const l=s.findName(n);if(l!==void 0)return l.no;if(e)return Du;break}throw new Error(`cannot decode enum ${s.typeName} from JSON: ${Mn(n)}`)}function Xb(s){return s.repeated||s.kind=="map"?!0:!(s.oneof||s.kind=="message"||s.opt||s.req)}function Qp(s,n,e){if(s.kind=="map"){Gt(typeof n=="object"&&n!=null);const r={},l=Object.entries(n);switch(s.V.kind){case"scalar":for(const[h,m]of l)r[h.toString()]=Ou(s.V.T,m);break;case"message":for(const[h,m]of l)r[h.toString()]=m.toJson(e);break;case"enum":const c=s.V.T;for(const[h,m]of l)r[h.toString()]=Ih(c,m,e.enumAsInteger);break}return e.emitDefaultValues||l.length>0?r:void 0}if(s.repeated){Gt(Array.isArray(n));const r=[];switch(s.kind){case"scalar":for(let l=0;l<n.length;l++)r.push(Ou(s.T,n[l]));break;case"enum":for(let l=0;l<n.length;l++)r.push(Ih(s.T,n[l],e.enumAsInteger));break;case"message":for(let l=0;l<n.length;l++)r.push(n[l].toJson(e));break}return e.emitDefaultValues||r.length>0?r:void 0}switch(s.kind){case"scalar":return Ou(s.T,n);case"enum":return Ih(s.T,n,e.enumAsInteger);case"message":return Hv(s.T,n).toJson(e)}}function Ih(s,n,e){var r;if(Gt(typeof n=="number"),s.typeName=="google.protobuf.NullValue")return null;if(e)return n;const l=s.findNumber(n);return(r=l==null?void 0:l.name)!==null&&r!==void 0?r:n}function Ou(s,n){switch(s){case M.INT32:case M.SFIXED32:case M.SINT32:case M.FIXED32:case M.UINT32:return Gt(typeof n=="number"),n;case M.FLOAT:case M.DOUBLE:return Gt(typeof n=="number"),Number.isNaN(n)?"NaN":n===Number.POSITIVE_INFINITY?"Infinity":n===Number.NEGATIVE_INFINITY?"-Infinity":n;case M.STRING:return Gt(typeof n=="string"),n;case M.BOOL:return Gt(typeof n=="boolean"),n;case M.UINT64:case M.FIXED64:case M.INT64:case M.SFIXED64:case M.SINT64:return Gt(typeof n=="bigint"||typeof n=="string"||typeof n=="number"),n.toString();case M.BYTES:return Gt(n instanceof Uint8Array),yd.enc(n)}}const vs=Symbol("@bufbuild/protobuf/unknown-fields"),_p={readUnknownFields:!0,readerFactory:s=>new qb(s)},Fp={writeUnknownFields:!0,writerFactory:()=>new Lb};function Zb(s){return s?Object.assign(Object.assign({},_p),s):_p}function Qb(s){return s?Object.assign(Object.assign({},Fp),s):Fp}function _b(){return{makeReadOptions:Zb,makeWriteOptions:Qb,listUnknownFields(s){var n;return(n=s[vs])!==null&&n!==void 0?n:[]},discardUnknownFields(s){delete s[vs]},writeUnknownFields(s,n){const r=s[vs];if(r)for(const l of r)n.tag(l.no,l.wireType).raw(l.data)},onUnknownField(s,n,e,r){const l=s;Array.isArray(l[vs])||(l[vs]=[]),l[vs].push({no:n,wireType:e,data:r})},readMessage(s,n,e,r,l){const c=s.getType(),h=l?n.len:n.pos+e;let m,p;for(;n.pos<h&&([m,p]=n.tag(),!(l===!0&&p==Qt.EndGroup));){const y=c.fields.find(m);if(!y){const T=n.skip(p,m);r.readUnknownFields&&this.onUnknownField(s,m,p,T);continue}Wp(s,n,y,p,r)}if(l&&(p!=Qt.EndGroup||m!==e))throw new Error("invalid end group tag")},readField:Wp,writeMessage(s,n,e){const r=s.getType();for(const l of r.fields.byNumber()){if(!Vv(l,s)){if(l.req)throw new Error(`cannot encode field ${r.typeName}.${l.name} to binary: required field not set`);continue}const c=l.oneof?s[l.oneof.localName].value:s[l.localName];tv(l,c,n,e)}return e.writeUnknownFields&&this.writeUnknownFields(s,n),n},writeField(s,n,e,r){n!==void 0&&tv(s,n,e,r)}}}function Wp(s,n,e,r,l){let{repeated:c,localName:h}=e;switch(e.oneof&&(s=s[e.oneof.localName],s.case!=h&&delete s.value,s.case=h,h="value"),e.kind){case"scalar":case"enum":const m=e.kind=="enum"?M.INT32:e.T;let p=Iu;if(e.kind=="scalar"&&e.L>0&&(p=Wb),c){let B=s[h];if(r==Qt.LengthDelimited&&m!=M.STRING&&m!=M.BYTES){let V=n.uint32()+n.pos;for(;n.pos<V;)B.push(p(n,m))}else B.push(p(n,m))}else s[h]=p(n,m);break;case"message":const y=e.T;c?s[h].push(Cu(n,new y,l,e)):xa(s[h])?Cu(n,s[h],l,e):(s[h]=Cu(n,new y,l,e),y.fieldWrapper&&!e.oneof&&!e.repeated&&(s[h]=y.fieldWrapper.unwrapField(s[h])));break;case"map":let[T,N]=Fb(e,n,l);s[h][T]=N;break}}function Cu(s,n,e,r){const l=n.getType().runtime.bin,c=r==null?void 0:r.delimited;return l.readMessage(n,s,c?r.no:s.uint32(),e,c),n}function Fb(s,n,e){const r=n.uint32(),l=n.pos+r;let c,h;for(;n.pos<l;){const[m]=n.tag();switch(m){case 1:c=Iu(n,s.K);break;case 2:switch(s.V.kind){case"scalar":h=Iu(n,s.V.T);break;case"enum":h=n.int32();break;case"message":h=Cu(n,new s.V.T,e,void 0);break}break}}if(c===void 0&&(c=Ns(s.K,Wr.BIGINT)),typeof c!="string"&&typeof c!="number"&&(c=c.toString()),h===void 0)switch(s.V.kind){case"scalar":h=Ns(s.V.T,Wr.BIGINT);break;case"enum":h=s.V.T.values[0].no;break;case"message":h=new s.V.T;break}return[c,h]}function Wb(s,n){const e=Iu(s,n);return typeof e=="bigint"?e.toString():e}function Iu(s,n){switch(n){case M.STRING:return s.string();case M.BOOL:return s.bool();case M.DOUBLE:return s.double();case M.FLOAT:return s.float();case M.INT32:return s.int32();case M.INT64:return s.int64();case M.UINT64:return s.uint64();case M.FIXED64:return s.fixed64();case M.BYTES:return s.bytes();case M.FIXED32:return s.fixed32();case M.SFIXED32:return s.sfixed32();case M.SFIXED64:return s.sfixed64();case M.SINT64:return s.sint64();case M.UINT32:return s.uint32();case M.SINT32:return s.sint32()}}function tv(s,n,e,r){Gt(n!==void 0);const l=s.repeated;switch(s.kind){case"scalar":case"enum":let c=s.kind=="enum"?M.INT32:s.T;if(l)if(Gt(Array.isArray(n)),s.packed)e1(e,c,s.no,n);else for(const h of n)Po(e,c,s.no,h);else Po(e,c,s.no,n);break;case"message":if(l){Gt(Array.isArray(n));for(const h of n)ev(e,r,s,h)}else ev(e,r,s,n);break;case"map":Gt(typeof n=="object"&&n!=null);for(const[h,m]of Object.entries(n))t1(e,r,s,h,m);break}}function t1(s,n,e,r,l){s.tag(e.no,Qt.LengthDelimited),s.fork();let c=r;switch(e.K){case M.INT32:case M.FIXED32:case M.UINT32:case M.SFIXED32:case M.SINT32:c=Number.parseInt(r);break;case M.BOOL:Gt(r=="true"||r=="false"),c=r=="true";break}switch(Po(s,e.K,1,c),e.V.kind){case"scalar":Po(s,e.V.T,2,l);break;case"enum":Po(s,M.INT32,2,l);break;case"message":Gt(l!==void 0),s.tag(2,Qt.LengthDelimited).bytes(l.toBinary(n));break}s.join()}function ev(s,n,e,r){const l=Hv(e.T,r);e.delimited?s.tag(e.no,Qt.StartGroup).raw(l.toBinary(n)).tag(e.no,Qt.EndGroup):s.tag(e.no,Qt.LengthDelimited).bytes(l.toBinary(n))}function Po(s,n,e,r){Gt(r!==void 0);let[l,c]=jv(n);s.tag(e,l)[c](r)}function e1(s,n,e,r){if(!r.length)return;s.tag(e,Qt.LengthDelimited).fork();let[,l]=jv(n);for(let c=0;c<r.length;c++)s[l](r[c]);s.join()}function jv(s){let n=Qt.Varint;switch(s){case M.BYTES:case M.STRING:n=Qt.LengthDelimited;break;case M.DOUBLE:case M.FIXED64:case M.SFIXED64:n=Qt.Bit64;break;case M.FIXED32:case M.SFIXED32:case M.FLOAT:n=Qt.Bit32;break}const e=M[s].toLowerCase();return[n,e]}function n1(){return{setEnumType:Bv,initPartial(s,n){if(s===void 0)return;const e=n.getType();for(const r of e.fields.byMember()){const l=r.localName,c=n,h=s;if(h[l]!=null)switch(r.kind){case"oneof":const m=h[l].case;if(m===void 0)continue;const p=r.findField(m);let y=h[l].value;p&&p.kind=="message"&&!xa(y,p.T)?y=new p.T(y):p&&p.kind==="scalar"&&p.T===M.BYTES&&(y=zo(y)),c[l]={case:m,value:y};break;case"scalar":case"enum":let T=h[l];r.T===M.BYTES&&(T=r.repeated?T.map(zo):zo(T)),c[l]=T;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===M.BYTES)for(const[R,V]of Object.entries(h[l]))c[l][R]=zo(V);else Object.assign(c[l],h[l]);break;case"message":const B=r.V.T;for(const R of Object.keys(h[l])){let V=h[l][R];B.fieldWrapper||(V=new B(V)),c[l][R]=V}break}break;case"message":const N=r.T;if(r.repeated)c[l]=h[l].map(B=>xa(B,N)?B:new N(B));else{const B=h[l];N.fieldWrapper?N.typeName==="google.protobuf.BytesValue"?c[l]=zo(B):c[l]=B:c[l]=xa(B,N)?B:new N(B)}break}}},equals(s,n,e){return n===e?!0:!n||!e?!1:s.fields.byMember().every(r=>{const l=n[r.localName],c=e[r.localName];if(r.repeated){if(l.length!==c.length)return!1;switch(r.kind){case"message":return l.every((h,m)=>r.T.equals(h,c[m]));case"scalar":return l.every((h,m)=>Yr(r.T,h,c[m]));case"enum":return l.every((h,m)=>Yr(M.INT32,h,c[m]))}throw new Error(`repeated cannot contain ${r.kind}`)}switch(r.kind){case"message":return r.T.equals(l,c);case"enum":return Yr(M.INT32,l,c);case"scalar":return Yr(r.T,l,c);case"oneof":if(l.case!==c.case)return!1;const h=r.findField(l.case);if(h===void 0)return!0;switch(h.kind){case"message":return h.T.equals(l.value,c.value);case"enum":return Yr(M.INT32,l.value,c.value);case"scalar":return Yr(h.T,l.value,c.value)}throw new Error(`oneof cannot contain ${h.kind}`);case"map":const m=Object.keys(l).concat(Object.keys(c));switch(r.V.kind){case"message":const p=r.V.T;return m.every(T=>p.equals(l[T],c[T]));case"enum":return m.every(T=>Yr(M.INT32,l[T],c[T]));case"scalar":const y=r.V.T;return m.every(T=>Yr(y,l[T],c[T]))}break}})},clone(s){const n=s.getType(),e=new n,r=e;for(const l of n.fields.byMember()){const c=s[l.localName];let h;if(l.repeated)h=c.map(Tu);else if(l.kind=="map"){h=r[l.localName];for(const[m,p]of Object.entries(c))h[m]=Tu(p)}else l.kind=="oneof"?h=l.findField(c.case)?{case:c.case,value:Tu(c.value)}:{case:void 0}:h=Tu(c);r[l.localName]=h}for(const l of n.runtime.bin.listUnknownFields(s))n.runtime.bin.onUnknownField(r,l.no,l.wireType,l.data);return e}}}function Tu(s){if(s===void 0)return s;if(xa(s))return s.clone();if(s instanceof Uint8Array){const n=new Uint8Array(s.byteLength);return n.set(s),n}return s}function zo(s){return s instanceof Uint8Array?s:new Uint8Array(s)}function i1(s,n,e){return{syntax:s,json:Kb(),bin:_b(),util:Object.assign(Object.assign({},n1()),{newFieldList:n,initFields:e}),makeMessageType(r,l,c){return kb(this,r,l,c)},makeEnum:Rb,makeEnumType:Iv,getEnumType:Cb,makeExtension(r,l,c){return Jb(this,r,l,c)}}}class r1{constructor(n,e){this._fields=n,this._normalizer=e}findJsonName(n){if(!this.jsonNames){const e={};for(const r of this.list())e[r.jsonName]=e[r.name]=r;this.jsonNames=e}return this.jsonNames[n]}find(n){if(!this.numbers){const e={};for(const r of this.list())e[r.no]=r;this.numbers=e}return this.numbers[n]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((n,e)=>n.no-e.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const n=this.members;let e;for(const r of this.list())r.oneof?r.oneof!==e&&(e=r.oneof,n.push(e)):n.push(r)}return this.members}}function Yv(s,n){const e=Gv(s);return n?e:c1(u1(e))}function a1(s){return Yv(s,!1)}const s1=Gv;function Gv(s){let n=!1;const e=[];for(let r=0;r<s.length;r++){let l=s.charAt(r);switch(l){case"_":n=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e.push(l),n=!1;break;default:n&&(n=!1,l=l.toUpperCase()),e.push(l);break}}return e.join("")}const o1=new Set(["constructor","toString","toJSON","valueOf"]),l1=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),Kv=s=>`${s}$`,u1=s=>l1.has(s)?Kv(s):s,c1=s=>o1.has(s)?Kv(s):s;class f1{constructor(n){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=n,this.localName=a1(n)}addField(n){Gt(n.oneof===this,`field ${n.name} not one of ${this.name}`),this.fields.push(n)}findField(n){if(!this._lookup){this._lookup=Object.create(null);for(let e=0;e<this.fields.length;e++)this._lookup[this.fields[e].localName]=this.fields[e]}return this._lookup[n]}}function h1(s,n){var e,r,l,c,h,m;const p=[];let y;for(const T of typeof s=="function"?s():s){const N=T;if(N.localName=Yv(T.name,T.oneof!==void 0),N.jsonName=(e=T.jsonName)!==null&&e!==void 0?e:s1(T.name),N.repeated=(r=T.repeated)!==null&&r!==void 0?r:!1,T.kind=="scalar"&&(N.L=(l=T.L)!==null&&l!==void 0?l:Wr.BIGINT),N.delimited=(c=T.delimited)!==null&&c!==void 0?c:!1,N.req=(h=T.req)!==null&&h!==void 0?h:!1,N.opt=(m=T.opt)!==null&&m!==void 0?m:!1,T.packed===void 0&&(N.packed=T.kind=="enum"||T.kind=="scalar"&&T.T!=M.BYTES&&T.T!=M.STRING),T.oneof!==void 0){const B=typeof T.oneof=="string"?T.oneof:T.oneof.name;(!y||y.name!=B)&&(y=new f1(B)),N.oneof=y,y.addField(N)}p.push(N)}return p}const S=i1("proto3",s=>new r1(s,n=>h1(n)),s=>{for(const n of s.getType().fields.byMember()){if(n.opt)continue;const e=n.localName,r=s;if(n.repeated){r[e]=[];continue}switch(n.kind){case"oneof":r[e]={case:void 0};break;case"enum":r[e]=0;break;case"map":r[e]={};break;case"scalar":r[e]=Ns(n.T,n.L);break}}});var be;(function(s){s[s.Unary=0]="Unary",s[s.ServerStreaming=1]="ServerStreaming",s[s.ClientStreaming=2]="ClientStreaming",s[s.BiDiStreaming=3]="BiDiStreaming"})(be||(be={}));var nv;(function(s){s[s.NoSideEffects=1]="NoSideEffects",s[s.Idempotent=2]="Idempotent"})(nv||(nv={}));class ve extends H{constructor(n){super(),this.seconds=qt.zero,this.nanos=0,S.util.initPartial(n,this)}fromJson(n,e){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${S.json.debug(n)}`);const r=n.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const l=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(l))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(l<Date.parse("0001-01-01T00:00:00Z")||l>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=qt.parse(l/1e3),this.nanos=0,r[7]&&(this.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),this}toJson(n){const e=Number(this.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let r="Z";if(this.nanos>0){const l=(this.nanos+1e9).toString().substring(1);l.substring(3)==="000000"?r="."+l.substring(0,3)+"Z":l.substring(6)==="000"?r="."+l.substring(0,6)+"Z":r="."+l+"Z"}return new Date(e).toISOString().replace(".000Z",r)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return ve.fromDate(new Date)}static fromDate(n){const e=n.getTime();return new ve({seconds:qt.parse(Math.floor(e/1e3)),nanos:e%1e3*1e6})}static fromBinary(n,e){return new ve().fromBinary(n,e)}static fromJson(n,e){return new ve().fromJson(n,e)}static fromJsonString(n,e){return new ve().fromJsonString(n,e)}static equals(n,e){return S.util.equals(ve,n,e)}}ve.runtime=S;ve.typeName="google.protobuf.Timestamp";ve.fields=S.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class fr extends H{constructor(n){super(),this.seconds=qt.zero,this.nanos=0,S.util.initPartial(n,this)}fromJson(n,e){if(typeof n!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${S.json.debug(n)}`);const r=n.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(r===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${S.json.debug(n)}`);const l=Number(r[1]);if(l>315576e6||l<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${S.json.debug(n)}`);if(this.seconds=qt.parse(l),typeof r[2]=="string"){const c=r[2]+"0".repeat(9-r[2].length);this.nanos=parseInt(c),(l<0||Object.is(l,-0))&&(this.nanos=-this.nanos)}return this}toJson(n){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let e=this.seconds.toString();if(this.nanos!==0){let r=Math.abs(this.nanos).toString();r="0".repeat(9-r.length)+r,r.substring(3)==="000000"?r=r.substring(0,3):r.substring(6)==="000"&&(r=r.substring(0,6)),e+="."+r,this.nanos<0&&Number(this.seconds)==0&&(e="-"+e)}return e+"s"}static fromBinary(n,e){return new fr().fromBinary(n,e)}static fromJson(n,e){return new fr().fromJson(n,e)}static fromJsonString(n,e){return new fr().fromJsonString(n,e)}static equals(n,e){return S.util.equals(fr,n,e)}}fr.runtime=S;fr.typeName="google.protobuf.Duration";fr.fields=S.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);class zn extends H{constructor(n){super(),this.typeUrl="",this.value=new Uint8Array(0),S.util.initPartial(n,this)}toJson(n){var e;if(this.typeUrl==="")return{};const r=this.typeUrlToName(this.typeUrl),l=(e=n==null?void 0:n.typeRegistry)===null||e===void 0?void 0:e.findMessage(r);if(!l)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let h=l.fromBinary(this.value).toJson(n);return(r.startsWith("google.protobuf.")||h===null||Array.isArray(h)||typeof h!="object")&&(h={value:h}),h["@type"]=this.typeUrl,h}fromJson(n,e){var r;if(n===null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${n===null?"null":Array.isArray(n)?"array":typeof n}`);if(Object.keys(n).length==0)return this;const l=n["@type"];if(typeof l!="string"||l=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');const c=this.typeUrlToName(l),h=(r=e==null?void 0:e.typeRegistry)===null||r===void 0?void 0:r.findMessage(c);if(!h)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${l} is not in the type registry`);let m;if(c.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(n,"value"))m=h.fromJson(n.value,e);else{const p=Object.assign({},n);delete p["@type"],m=h.fromJson(p,e)}return this.packFrom(m),this}packFrom(n){this.value=n.toBinary(),this.typeUrl=this.typeNameToUrl(n.getType().typeName)}unpackTo(n){return this.is(n.getType())?(n.fromBinary(this.value),!0):!1}unpack(n){if(this.typeUrl==="")return;const e=n.findMessage(this.typeUrlToName(this.typeUrl));if(e)return e.fromBinary(this.value)}is(n){if(this.typeUrl==="")return!1;const e=this.typeUrlToName(this.typeUrl);let r="";return typeof n=="string"?r=n:r=n.typeName,e===r}typeNameToUrl(n){return`type.googleapis.com/${n}`}typeUrlToName(n){if(!n.length)throw new Error(`invalid type url: ${n}`);const e=n.lastIndexOf("/"),r=e>=0?n.substring(e+1):n;if(!r.length)throw new Error(`invalid type url: ${n}`);return r}static pack(n){const e=new zn;return e.packFrom(n),e}static fromBinary(n,e){return new zn().fromBinary(n,e)}static fromJson(n,e){return new zn().fromJson(n,e)}static fromJsonString(n,e){return new zn().fromJsonString(n,e)}static equals(n,e){return S.util.equals(zn,n,e)}}zn.runtime=S;zn.typeName="google.protobuf.Any";zn.fields=S.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);class Un extends H{constructor(n){super(),this.value=0,S.util.initPartial(n,this)}toJson(n){return S.json.writeScalar(M.DOUBLE,this.value,!0)}fromJson(n,e){try{this.value=S.json.readScalar(M.DOUBLE,n)}catch(r){let l='cannot decode message google.protobuf.DoubleValue from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Un().fromBinary(n,e)}static fromJson(n,e){return new Un().fromJson(n,e)}static fromJsonString(n,e){return new Un().fromJsonString(n,e)}static equals(n,e){return S.util.equals(Un,n,e)}}Un.runtime=S;Un.typeName="google.protobuf.DoubleValue";Un.fields=S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);Un.fieldWrapper={wrapField(s){return new Un({value:s})},unwrapField(s){return s.value}};class Ln extends H{constructor(n){super(),this.value=0,S.util.initPartial(n,this)}toJson(n){return S.json.writeScalar(M.FLOAT,this.value,!0)}fromJson(n,e){try{this.value=S.json.readScalar(M.FLOAT,n)}catch(r){let l='cannot decode message google.protobuf.FloatValue from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Ln().fromBinary(n,e)}static fromJson(n,e){return new Ln().fromJson(n,e)}static fromJsonString(n,e){return new Ln().fromJsonString(n,e)}static equals(n,e){return S.util.equals(Ln,n,e)}}Ln.runtime=S;Ln.typeName="google.protobuf.FloatValue";Ln.fields=S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);Ln.fieldWrapper={wrapField(s){return new Ln({value:s})},unwrapField(s){return s.value}};class qn extends H{constructor(n){super(),this.value=qt.zero,S.util.initPartial(n,this)}toJson(n){return S.json.writeScalar(M.INT64,this.value,!0)}fromJson(n,e){try{this.value=S.json.readScalar(M.INT64,n)}catch(r){let l='cannot decode message google.protobuf.Int64Value from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new qn().fromBinary(n,e)}static fromJson(n,e){return new qn().fromJson(n,e)}static fromJsonString(n,e){return new qn().fromJsonString(n,e)}static equals(n,e){return S.util.equals(qn,n,e)}}qn.runtime=S;qn.typeName="google.protobuf.Int64Value";qn.fields=S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);qn.fieldWrapper={wrapField(s){return new qn({value:s})},unwrapField(s){return s.value}};class Jn extends H{constructor(n){super(),this.value=qt.zero,S.util.initPartial(n,this)}toJson(n){return S.json.writeScalar(M.UINT64,this.value,!0)}fromJson(n,e){try{this.value=S.json.readScalar(M.UINT64,n)}catch(r){let l='cannot decode message google.protobuf.UInt64Value from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Jn().fromBinary(n,e)}static fromJson(n,e){return new Jn().fromJson(n,e)}static fromJsonString(n,e){return new Jn().fromJsonString(n,e)}static equals(n,e){return S.util.equals(Jn,n,e)}}Jn.runtime=S;Jn.typeName="google.protobuf.UInt64Value";Jn.fields=S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);Jn.fieldWrapper={wrapField(s){return new Jn({value:s})},unwrapField(s){return s.value}};class Pn extends H{constructor(n){super(),this.value=0,S.util.initPartial(n,this)}toJson(n){return S.json.writeScalar(M.INT32,this.value,!0)}fromJson(n,e){try{this.value=S.json.readScalar(M.INT32,n)}catch(r){let l='cannot decode message google.protobuf.Int32Value from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Pn().fromBinary(n,e)}static fromJson(n,e){return new Pn().fromJson(n,e)}static fromJsonString(n,e){return new Pn().fromJsonString(n,e)}static equals(n,e){return S.util.equals(Pn,n,e)}}Pn.runtime=S;Pn.typeName="google.protobuf.Int32Value";Pn.fields=S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);Pn.fieldWrapper={wrapField(s){return new Pn({value:s})},unwrapField(s){return s.value}};class Vn extends H{constructor(n){super(),this.value=0,S.util.initPartial(n,this)}toJson(n){return S.json.writeScalar(M.UINT32,this.value,!0)}fromJson(n,e){try{this.value=S.json.readScalar(M.UINT32,n)}catch(r){let l='cannot decode message google.protobuf.UInt32Value from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Vn().fromBinary(n,e)}static fromJson(n,e){return new Vn().fromJson(n,e)}static fromJsonString(n,e){return new Vn().fromJsonString(n,e)}static equals(n,e){return S.util.equals(Vn,n,e)}}Vn.runtime=S;Vn.typeName="google.protobuf.UInt32Value";Vn.fields=S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);Vn.fieldWrapper={wrapField(s){return new Vn({value:s})},unwrapField(s){return s.value}};class Hn extends H{constructor(n){super(),this.value=!1,S.util.initPartial(n,this)}toJson(n){return S.json.writeScalar(M.BOOL,this.value,!0)}fromJson(n,e){try{this.value=S.json.readScalar(M.BOOL,n)}catch(r){let l='cannot decode message google.protobuf.BoolValue from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new Hn().fromBinary(n,e)}static fromJson(n,e){return new Hn().fromJson(n,e)}static fromJsonString(n,e){return new Hn().fromJsonString(n,e)}static equals(n,e){return S.util.equals(Hn,n,e)}}Hn.runtime=S;Hn.typeName="google.protobuf.BoolValue";Hn.fields=S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);Hn.fieldWrapper={wrapField(s){return new Hn({value:s})},unwrapField(s){return s.value}};class He extends H{constructor(n){super(),this.value="",S.util.initPartial(n,this)}toJson(n){return S.json.writeScalar(M.STRING,this.value,!0)}fromJson(n,e){try{this.value=S.json.readScalar(M.STRING,n)}catch(r){let l='cannot decode message google.protobuf.StringValue from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new He().fromBinary(n,e)}static fromJson(n,e){return new He().fromJson(n,e)}static fromJsonString(n,e){return new He().fromJsonString(n,e)}static equals(n,e){return S.util.equals(He,n,e)}}He.runtime=S;He.typeName="google.protobuf.StringValue";He.fields=S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);He.fieldWrapper={wrapField(s){return new He({value:s})},unwrapField(s){return s.value}};class jn extends H{constructor(n){super(),this.value=new Uint8Array(0),S.util.initPartial(n,this)}toJson(n){return S.json.writeScalar(M.BYTES,this.value,!0)}fromJson(n,e){try{this.value=S.json.readScalar(M.BYTES,n)}catch(r){let l='cannot decode message google.protobuf.BytesValue from JSON"';throw r instanceof Error&&r.message.length>0&&(l+=`: ${r.message}`),new Error(l)}return this}static fromBinary(n,e){return new jn().fromBinary(n,e)}static fromJson(n,e){return new jn().fromJson(n,e)}static fromJsonString(n,e){return new jn().fromJsonString(n,e)}static equals(n,e){return S.util.equals(jn,n,e)}}jn.runtime=S;jn.typeName="google.protobuf.BytesValue";jn.fields=S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);jn.fieldWrapper={wrapField(s){return new jn({value:s})},unwrapField(s){return s.value}};function d1(s,n,e){try{const r=yd.dec(s);return n?n.fromBinary(r,e):r}catch(r){throw Nt.from(r,vt.DataLoss)}}function g1(s,n){const e={};for(const[r,l]of Object.entries(s.methods)){const c=n(Object.assign(Object.assign({},l),{localName:r,service:s}));c!=null&&(e[r]=c)}return e}const iv=1;function rv(s){let n,e=new Uint8Array(0);function r(l){const c=new Uint8Array(e.length+l.length);c.set(e),c.set(l,e.length),e=c}return new ReadableStream({start(){n=s.getReader()},async pull(l){let c;for(;;){if(c===void 0&&e.byteLength>=5){let p=0;for(let y=1;y<5;y++)p=(p<<8)+e[y];c={flags:e[0],length:p}}if(c!==void 0&&e.byteLength>=c.length+5)break;const m=await n.read();if(m.done)break;r(m.value)}if(c===void 0){if(e.byteLength==0){l.close();return}l.error(new Nt("premature end of stream",vt.DataLoss));return}const h=e.subarray(5,5+c.length);e=e.subarray(5+c.length),l.enqueue({flags:c.flags,data:h})}})}function av(s,n){const e=new Uint8Array(n.length+5);e.set(n,5);const r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setUint8(0,s),r.setUint32(1,n.length),e}var m1=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],e;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(c){e[c]=s[c]&&function(h){return new Promise(function(m,p){h=s[c](h),l(m,p,h.done,h.value)})}}function l(c,h,m,p){Promise.resolve(p).then(function(y){c({value:y,done:m})},h)}},Yo=function(s){return this instanceof Yo?(this.v=s,this):new Yo(s)},y1=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(s,n||[]),l,c=[];return l={},m("next"),m("throw"),m("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(R){return function(V){return Promise.resolve(V).then(R,N)}}function m(R,V){r[R]&&(l[R]=function(Y){return new Promise(function(X,tt){c.push([R,Y,X,tt])>1||p(R,Y)})},V&&(l[R]=V(l[R])))}function p(R,V){try{y(r[R](V))}catch(Y){B(c[0][3],Y)}}function y(R){R.value instanceof Yo?Promise.resolve(R.value.v).then(T,N):B(c[0][2],R)}function T(R){p("next",R)}function N(R){p("throw",R)}function B(R,V){R(V),c.shift(),c.length&&p(c[0][0],c[0][1])}},p1=function(s){var n,e;return n={},r("next"),r("throw",function(l){throw l}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(l,c){n[l]=s[l]?function(h){return(e=!e)?{value:Yo(s[l](h)),done:!1}:c?c(h):h}:c}};function v1(s){return y1(this,arguments,function*(){yield Yo(yield*p1(m1(s)))})}var $v=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],e;return n?n.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(c){e[c]=s[c]&&function(h){return new Promise(function(m,p){h=s[c](h),l(m,p,h.done,h.value)})}}function l(c,h,m,p){Promise.resolve(p).then(function(y){c({value:y,done:m})},h)}},xs=function(s){return this instanceof xs?(this.v=s,this):new xs(s)},S1=function(s){var n,e;return n={},r("next"),r("throw",function(l){throw l}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(l,c){n[l]=s[l]?function(h){return(e=!e)?{value:xs(s[l](h)),done:!1}:c?c(h):h}:c}},T1=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(s,n||[]),l,c=[];return l={},m("next"),m("throw"),m("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(R){return function(V){return Promise.resolve(V).then(R,N)}}function m(R,V){r[R]&&(l[R]=function(Y){return new Promise(function(X,tt){c.push([R,Y,X,tt])>1||p(R,Y)})},V&&(l[R]=V(l[R])))}function p(R,V){try{y(r[R](V))}catch(Y){B(c[0][3],Y)}}function y(R){R.value instanceof xs?Promise.resolve(R.value.v).then(T,N):B(c[0][2],R)}function T(R){p("next",R)}function N(R){p("throw",R)}function B(R,V){R(V),c.shift(),c.length&&p(c[0][0],c[0][1])}};function b1(s,n){return g1(s,e=>{switch(e.kind){case be.Unary:return w1(n,s,e);case be.ServerStreaming:return A1(n,s,e);case be.ClientStreaming:return E1(n,s,e);case be.BiDiStreaming:return N1(n,s,e);default:return null}})}function w1(s,n,e){return async function(r,l){var c,h;const m=await s.unary(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,r,l==null?void 0:l.contextValues);return(c=l==null?void 0:l.onHeader)===null||c===void 0||c.call(l,m.header),(h=l==null?void 0:l.onTrailer)===null||h===void 0||h.call(l,m.trailer),m.message}}function A1(s,n,e){return function(r,l){return Xv(s.stream(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,v1([r]),l==null?void 0:l.contextValues),l)}}function E1(s,n,e){return async function(r,l){var c,h,m,p,y,T;const N=await s.stream(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,r,l==null?void 0:l.contextValues);(y=l==null?void 0:l.onHeader)===null||y===void 0||y.call(l,N.header);let B,R=0;try{for(var V=!0,Y=$v(N.message),X;X=await Y.next(),c=X.done,!c;V=!0)p=X.value,V=!1,B=p,R++}catch(tt){h={error:tt}}finally{try{!V&&!c&&(m=Y.return)&&await m.call(Y)}finally{if(h)throw h.error}}if(!B)throw new Nt("protocol error: missing response message",vt.Unimplemented);if(R>1)throw new Nt("protocol error: received extra messages for client streaming method",vt.Unimplemented);return(T=l==null?void 0:l.onTrailer)===null||T===void 0||T.call(l,N.trailer),B}}function N1(s,n,e){return function(r,l){return Xv(s.stream(n,e,l==null?void 0:l.signal,l==null?void 0:l.timeoutMs,l==null?void 0:l.headers,r,l==null?void 0:l.contextValues),l)}}function Xv(s,n){const e=function(){return T1(this,arguments,function*(){var r,l;const c=yield xs(s);(r=n==null?void 0:n.onHeader)===null||r===void 0||r.call(n,c.header),yield xs(yield*S1($v(c.message))),(l=n==null?void 0:n.onTrailer)===null||l===void 0||l.call(n,c.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>e.next()})}}function x1(...s){const n=new AbortController,e=s.filter(l=>l!==void 0).concat(n.signal);for(const l of e){if(l.aborted){r.apply(l);break}l.addEventListener("abort",r)}function r(){n.signal.aborted||n.abort(Zv(this));for(const l of e)l.removeEventListener("abort",r)}return n}function D1(s){const n=new AbortController,e=()=>{n.abort(new Nt("the operation timed out",vt.DeadlineExceeded))};let r;return s!==void 0&&(s<=0?e():r=setTimeout(e,s)),{signal:n.signal,cleanup:()=>clearTimeout(r)}}function Zv(s){if(!s.aborted)return;if(s.reason!==void 0)return s.reason;const n=new Error("This operation was aborted");return n.name="AbortError",n}function sv(){return{get(s){return s.id in this?this[s.id]:s.defaultValue},set(s,n){return this[s.id]=n,this},delete(s){return delete this[s.id],this}}}const Mh=128;function ov(s){const n=new Headers,e=new TextDecoder().decode(s).split(`\r
`);for(const r of e){if(r==="")continue;const l=r.indexOf(":");if(l>0){const c=r.substring(0,l).trim(),h=r.substring(l+1).trim();n.append(c,h)}}return n}const O1="Content-Type",C1="Grpc-Timeout",Ds="Grpc-Status",Qv="Grpc-Message",R1="Grpc-Status-Details-Bin",k1="X-User-Agent",B1="X-Grpc-Web",I1="application/grpc-web+proto",M1="application/grpc-web+json";class hr extends H{constructor(n){super(),this.code=0,this.message="",this.details=[],S.util.initPartial(n,this)}static fromBinary(n,e){return new hr().fromBinary(n,e)}static fromJson(n,e){return new hr().fromJson(n,e)}static fromJsonString(n,e){return new hr().fromJsonString(n,e)}static equals(n,e){return S.util.equals(hr,n,e)}}hr.runtime=S;hr.typeName="google.rpc.Status";hr.fields=S.util.newFieldList(()=>[{no:1,name:"code",kind:"scalar",T:5},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"details",kind:"message",T:zn,repeated:!0}]);const z1="0";function _v(s){var n;const e=s.get(R1);if(e!=null){const l=d1(e,hr);if(l.code==0)return;const c=new Nt(l.message,l.code,s);return c.details=l.details.map(h=>({type:h.typeUrl.substring(h.typeUrl.lastIndexOf("/")+1),value:h.value})),c}const r=s.get(Ds);if(r!=null){if(r===z1)return;const l=parseInt(r,10);return l in vt?new Nt(decodeURIComponent((n=s.get(Qv))!==null&&n!==void 0?n:""),l,s):new Nt(`invalid grpc-status: ${r}`,vt.Internal,s)}}function lv(s,n,e){const r=typeof n=="string"?n:n.typeName,l=typeof e=="string"?e:e.name;return s.toString().replace(/\/?$/,`/${r}/${l}`)}function Fv(s,n){return n instanceof s?n:new s(n)}function U1(s,n){function e(r){return r.done===!0?r:{done:r.done,value:Fv(s,r.value)}}return{[Symbol.asyncIterator](){const r=n[Symbol.asyncIterator](),l={next:()=>r.next().then(e)};return r.throw!==void 0&&(l.throw=c=>r.throw(c).then(e)),r.return!==void 0&&(l.return=c=>r.return(c).then(e)),l}}}function Wv(s,n){var e;return(e=n==null?void 0:n.concat().reverse().reduce((r,l)=>l(r),s))!==null&&e!==void 0?e:s}function L1(s){var n;const e=Object.assign({},s);return(n=e.ignoreUnknownFields)!==null&&n!==void 0||(e.ignoreUnknownFields=!0),e}function uv(s,n,e,r){const l=n?cv(s.I,r):fv(s.I,e);return{parse:(n?cv(s.O,r):fv(s.O,e)).parse,serialize:l.serialize}}function cv(s,n){return{parse(e){try{return s.fromBinary(e,n)}catch(r){const l=r instanceof Error?r.message:String(r);throw new Nt(`parse binary: ${l}`,vt.Internal)}},serialize(e){try{return e.toBinary(n)}catch(r){const l=r instanceof Error?r.message:String(r);throw new Nt(`serialize binary: ${l}`,vt.Internal)}}}}function fv(s,n){var e,r;const l=(e=n==null?void 0:n.textEncoder)!==null&&e!==void 0?e:new TextEncoder,c=(r=n==null?void 0:n.textDecoder)!==null&&r!==void 0?r:new TextDecoder,h=L1(n);return{parse(m){try{const p=c.decode(m);return s.fromJsonString(p,h)}catch(p){throw Nt.from(p,vt.InvalidArgument)}},serialize(m){try{const p=m.toJsonString(h);return l.encode(p)}catch(p){throw Nt.from(p,vt.Internal)}}}}function q1(s){const n=Wv(s.next,s.interceptors),[e,r,l]=t0(s),c=Object.assign(Object.assign({},s.req),{message:Fv(s.req.method.I,s.req.message),signal:e});return n(c).then(h=>(l(),h),r)}function J1(s){const n=Wv(s.next,s.interceptors),[e,r,l]=t0(s),c=Object.assign(Object.assign({},s.req),{message:U1(s.req.method.I,s.req.message),signal:e});let h=!1;return e.addEventListener("abort",function(){var m,p;const y=s.req.message[Symbol.asyncIterator]();h||(m=y.throw)===null||m===void 0||m.call(y,this.reason).catch(()=>{}),(p=y.return)===null||p===void 0||p.call(y).catch(()=>{})}),n(c).then(m=>Object.assign(Object.assign({},m),{message:{[Symbol.asyncIterator](){const p=m.message[Symbol.asyncIterator]();return{next(){return p.next().then(y=>(y.done==!0&&(h=!0,l()),y),r)}}}}}),r)}function t0(s){const{signal:n,cleanup:e}=D1(s.timeoutMs),r=x1(s.signal,n);return[r.signal,function(c){const h=Nt.from(n.aborted?Zv(n):c);return r.abort(h),e(),Promise.reject(h)},function(){e(),r.abort()}]}function P1(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function hv(s,n){const e=_v(s);if(e)throw n.forEach((r,l)=>{e.metadata.append(l,r)}),e;if(!n.has(Ds)&&!s.has(Ds))throw new Nt("protocol error: missing status",vt.Internal)}function dv(s,n,e,r){const l=new Headers(e??{});return l.set(O1,s?I1:M1),l.set(B1,"1"),l.set(k1,"connect-es/1.6.1"),n!==void 0&&l.set(C1,`${n}m`),l}function V1(s){switch(s){case 400:return vt.Internal;case 401:return vt.Unauthenticated;case 403:return vt.PermissionDenied;case 404:return vt.Unimplemented;case 429:return vt.Unavailable;case 502:return vt.Unavailable;case 503:return vt.Unavailable;case 504:return vt.Unavailable;default:return vt.Unknown}}function gv(s,n){var e;if(s>=200&&s<300)return{foundStatus:n.has(Ds),headerError:_v(n)};throw new Nt(decodeURIComponent((e=n.get(Qv))!==null&&e!==void 0?e:`HTTP ${s}`),V1(s),n)}var Ea=function(s){return this instanceof Ea?(this.v=s,this):new Ea(s)},H1=function(s,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(s,n||[]),l,c=[];return l={},m("next"),m("throw"),m("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(R){return function(V){return Promise.resolve(V).then(R,N)}}function m(R,V){r[R]&&(l[R]=function(Y){return new Promise(function(X,tt){c.push([R,Y,X,tt])>1||p(R,Y)})},V&&(l[R]=V(l[R])))}function p(R,V){try{y(r[R](V))}catch(Y){B(c[0][3],Y)}}function y(R){R.value instanceof Ea?Promise.resolve(R.value.v).then(T,N):B(c[0][2],R)}function T(R){p("next",R)}function N(R){p("throw",R)}function B(R,V){R(V),c.shift(),c.length&&p(c[0][0],c[0][1])}};function j1(s){var n;P1();const e=(n=s.useBinaryFormat)!==null&&n!==void 0?n:!0;return{async unary(r,l,c,h,m,p,y){var T;const{serialize:N,parse:B}=uv(l,e,s.jsonOptions,s.binaryOptions);return h=h===void 0?s.defaultTimeoutMs:h<=0?void 0:h,await q1({interceptors:s.interceptors,signal:c,timeoutMs:h,req:{stream:!1,service:r,method:l,url:lv(s.baseUrl,r,l),init:{method:"POST",credentials:(T=s.credentials)!==null&&T!==void 0?T:"same-origin",redirect:"error",mode:"cors"},header:dv(e,h,m),contextValues:y??sv(),message:p},next:async R=>{var V;const X=await((V=s.fetch)!==null&&V!==void 0?V:globalThis.fetch)(R.url,Object.assign(Object.assign({},R.init),{headers:R.header,signal:R.signal,body:av(0,N(R.message))})),{headerError:tt}=gv(X.status,X.headers);if(!X.body)throw tt!==void 0?tt:"missing response body";const mt=rv(X.body).getReader();let K,at;for(;;){const Q=await mt.read();if(Q.done)break;const{flags:ht,data:Vt}=Q.value;if((ht&iv)===iv)throw new Nt("protocol error: received unsupported compressed output",vt.Internal);if(ht===Mh){if(K!==void 0)throw"extra trailer";K=ov(Vt);continue}if(at!==void 0)throw new Nt("extra message",vt.Unimplemented);at=B(Vt)}if(K===void 0)throw tt!==void 0?tt:new Nt("missing trailer",X.headers.has(Ds)?vt.Unimplemented:vt.Unknown);if(hv(K,X.headers),at===void 0)throw new Nt("missing message",K.has(Ds)?vt.Unimplemented:vt.Unknown);return{stream:!1,service:r,method:l,header:X.headers,message:at,trailer:K}}})},async stream(r,l,c,h,m,p,y){var T;const{serialize:N,parse:B}=uv(l,e,s.jsonOptions,s.binaryOptions);function R(Y,X,tt,mt,K){return H1(this,arguments,function*(){const Q=rv(Y).getReader();if(X){if(!(yield Ea(Q.read())).done)throw"extra data for trailers-only";return yield Ea(void 0)}let ht=!1;for(;;){const Vt=yield Ea(Q.read());if(Vt.done)break;const{flags:le,data:ke}=Vt.value;if((le&Mh)===Mh){if(ht)throw"extra trailer";ht=!0;const Xn=ov(ke);hv(Xn,mt),Xn.forEach((vn,ie)=>tt.set(ie,vn));continue}if(ht)throw"extra message";yield yield Ea(B(ke))}if("throwIfAborted"in K&&K.throwIfAborted(),!ht)throw"missing trailer"})}async function V(Y){if(l.kind!=be.ServerStreaming)throw"The fetch API does not support streaming request bodies";const X=await Y[Symbol.asyncIterator]().next();if(X.done==!0)throw"missing request message";return av(0,N(X.value))}return h=h===void 0?s.defaultTimeoutMs:h<=0?void 0:h,J1({interceptors:s.interceptors,signal:c,timeoutMs:h,req:{stream:!0,service:r,method:l,url:lv(s.baseUrl,r,l),init:{method:"POST",credentials:(T=s.credentials)!==null&&T!==void 0?T:"same-origin",redirect:"error",mode:"cors"},header:dv(e,h,m),contextValues:y??sv(),message:p},next:async Y=>{var X;const mt=await((X=s.fetch)!==null&&X!==void 0?X:globalThis.fetch)(Y.url,Object.assign(Object.assign({},Y.init),{headers:Y.header,signal:Y.signal,body:await V(Y.message)})),{foundStatus:K,headerError:at}=gv(mt.status,mt.headers);if(at!=null)throw at;if(!mt.body)throw"missing response body";const Q=new Headers;return Object.assign(Object.assign({},Y),{header:mt.headers,trailer:Q,message:R(mt.body,K,Q,mt.headers,Y.signal)})}})}}}var ct=(s=>(s[s.NULL=0]="NULL",s[s.BOOLEAN=1]="BOOLEAN",s[s.INTEGER=2]="INTEGER",s[s.LONG=3]="LONG",s[s.DOUBLE=4]="DOUBLE",s[s.STRING=5]="STRING",s[s.BYTES=6]="BYTES",s[s.DATE=7]="DATE",s[s.JSON_OBJECT=8]="JSON_OBJECT",s[s.JSON_ARRAY=9]="JSON_ARRAY",s[s.TEXT=10]="TEXT",s[s.INTEGER_CNT=11]="INTEGER_CNT",s[s.LONG_CNT=12]="LONG_CNT",s[s.TREE=13]="TREE",s))(ct||{});S.util.setEnumType(ct,"yorkie.v1.ValueType",[{no:0,name:"VALUE_TYPE_NULL"},{no:1,name:"VALUE_TYPE_BOOLEAN"},{no:2,name:"VALUE_TYPE_INTEGER"},{no:3,name:"VALUE_TYPE_LONG"},{no:4,name:"VALUE_TYPE_DOUBLE"},{no:5,name:"VALUE_TYPE_STRING"},{no:6,name:"VALUE_TYPE_BYTES"},{no:7,name:"VALUE_TYPE_DATE"},{no:8,name:"VALUE_TYPE_JSON_OBJECT"},{no:9,name:"VALUE_TYPE_JSON_ARRAY"},{no:10,name:"VALUE_TYPE_TEXT"},{no:11,name:"VALUE_TYPE_INTEGER_CNT"},{no:12,name:"VALUE_TYPE_LONG_CNT"},{no:13,name:"VALUE_TYPE_TREE"}]);var Da=(s=>(s[s.DOCUMENT_CHANGED=0]="DOCUMENT_CHANGED",s[s.DOCUMENT_WATCHED=1]="DOCUMENT_WATCHED",s[s.DOCUMENT_UNWATCHED=2]="DOCUMENT_UNWATCHED",s[s.DOCUMENT_BROADCAST=3]="DOCUMENT_BROADCAST",s))(Da||{});S.util.setEnumType(Da,"yorkie.v1.DocEventType",[{no:0,name:"DOC_EVENT_TYPE_DOCUMENT_CHANGED"},{no:1,name:"DOC_EVENT_TYPE_DOCUMENT_WATCHED"},{no:2,name:"DOC_EVENT_TYPE_DOCUMENT_UNWATCHED"},{no:3,name:"DOC_EVENT_TYPE_DOCUMENT_BROADCAST"}]);const ci=class ci extends H{constructor(e){super();d(this,"root");d(this,"presences",{});S.util.initPartial(e,this)}static fromBinary(e,r){return new ci().fromBinary(e,r)}static fromJson(e,r){return new ci().fromJson(e,r)}static fromJsonString(e,r){return new ci().fromJsonString(e,r)}static equals(e,r){return S.util.equals(ci,e,r)}};d(ci,"runtime",S),d(ci,"typeName","yorkie.v1.Snapshot"),d(ci,"fields",S.util.newFieldList(()=>[{no:1,name:"root",kind:"message",T:Re},{no:2,name:"presences",kind:"map",K:9,V:{kind:"message",T:vd}}]));let Vh=ci;var nn;let vr=(nn=class extends H{constructor(e){super();d(this,"documentKey","");d(this,"checkpoint");d(this,"snapshot",new Uint8Array(0));d(this,"changes",[]);d(this,"minSyncedTicket");d(this,"isRemoved",!1);d(this,"versionVector");S.util.initPartial(e,this)}static fromBinary(e,r){return new nn().fromBinary(e,r)}static fromJson(e,r){return new nn().fromJson(e,r)}static fromJsonString(e,r){return new nn().fromJsonString(e,r)}static equals(e,r){return S.util.equals(nn,e,r)}},d(nn,"runtime",S),d(nn,"typeName","yorkie.v1.ChangePack"),d(nn,"fields",S.util.newFieldList(()=>[{no:1,name:"document_key",kind:"scalar",T:9},{no:2,name:"checkpoint",kind:"message",T:i0},{no:3,name:"snapshot",kind:"scalar",T:12},{no:4,name:"changes",kind:"message",T:e0,repeated:!0},{no:5,name:"min_synced_ticket",kind:"message",T:_},{no:6,name:"is_removed",kind:"scalar",T:8},{no:7,name:"version_vector",kind:"message",T:rc}])),nn);var rn;let e0=(rn=class extends H{constructor(e){super();d(this,"id");d(this,"message","");d(this,"operations",[]);d(this,"presenceChange");S.util.initPartial(e,this)}static fromBinary(e,r){return new rn().fromBinary(e,r)}static fromJson(e,r){return new rn().fromJson(e,r)}static fromJsonString(e,r){return new rn().fromJsonString(e,r)}static equals(e,r){return S.util.equals(rn,e,r)}},d(rn,"runtime",S),d(rn,"typeName","yorkie.v1.Change"),d(rn,"fields",S.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:ic},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"operations",kind:"message",T:pd,repeated:!0},{no:4,name:"presence_change",kind:"message",T:$o}])),rn);var an;let ic=(an=class extends H{constructor(e){super();d(this,"clientSeq",0);d(this,"serverSeq",qt.zero);d(this,"lamport",qt.zero);d(this,"actorId",new Uint8Array(0));d(this,"versionVector");S.util.initPartial(e,this)}static fromBinary(e,r){return new an().fromBinary(e,r)}static fromJson(e,r){return new an().fromJson(e,r)}static fromJsonString(e,r){return new an().fromJsonString(e,r)}static equals(e,r){return S.util.equals(an,e,r)}},d(an,"runtime",S),d(an,"typeName","yorkie.v1.ChangeID"),d(an,"fields",S.util.newFieldList(()=>[{no:1,name:"client_seq",kind:"scalar",T:13},{no:2,name:"server_seq",kind:"scalar",T:3},{no:3,name:"lamport",kind:"scalar",T:3},{no:4,name:"actor_id",kind:"scalar",T:12},{no:5,name:"version_vector",kind:"message",T:rc}])),an);var sn;let rc=(sn=class extends H{constructor(e){super();d(this,"vector",{});S.util.initPartial(e,this)}static fromBinary(e,r){return new sn().fromBinary(e,r)}static fromJson(e,r){return new sn().fromJson(e,r)}static fromJsonString(e,r){return new sn().fromJsonString(e,r)}static equals(e,r){return S.util.equals(sn,e,r)}},d(sn,"runtime",S),d(sn,"typeName","yorkie.v1.VersionVector"),d(sn,"fields",S.util.newFieldList(()=>[{no:1,name:"vector",kind:"map",K:9,V:{kind:"scalar",T:3}}])),sn);var on;let pd=(on=class extends H{constructor(e){super();d(this,"body",{case:void 0});S.util.initPartial(e,this)}static fromBinary(e,r){return new on().fromBinary(e,r)}static fromJson(e,r){return new on().fromJson(e,r)}static fromJsonString(e,r){return new on().fromJsonString(e,r)}static equals(e,r){return S.util.equals(on,e,r)}},d(on,"runtime",S),d(on,"typeName","yorkie.v1.Operation"),d(on,"fields",S.util.newFieldList(()=>[{no:1,name:"set",kind:"message",T:Mu,oneof:"body"},{no:2,name:"add",kind:"message",T:zu,oneof:"body"},{no:3,name:"move",kind:"message",T:Uu,oneof:"body"},{no:4,name:"remove",kind:"message",T:Lu,oneof:"body"},{no:5,name:"edit",kind:"message",T:qu,oneof:"body"},{no:6,name:"select",kind:"message",T:Hh,oneof:"body"},{no:7,name:"style",kind:"message",T:Ju,oneof:"body"},{no:8,name:"increase",kind:"message",T:Pu,oneof:"body"},{no:9,name:"tree_edit",kind:"message",T:Vu,oneof:"body"},{no:10,name:"tree_style",kind:"message",T:Hu,oneof:"body"},{no:11,name:"array_set",kind:"message",T:jh,oneof:"body"}])),on);const fi=class fi extends H{constructor(e){super();d(this,"parentCreatedAt");d(this,"key","");d(this,"value");d(this,"executedAt");S.util.initPartial(e,this)}static fromBinary(e,r){return new fi().fromBinary(e,r)}static fromJson(e,r){return new fi().fromJson(e,r)}static fromJsonString(e,r){return new fi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(fi,e,r)}};d(fi,"runtime",S),d(fi,"typeName","yorkie.v1.Operation.Set"),d(fi,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"value",kind:"message",T:en},{no:4,name:"executed_at",kind:"message",T:_}]));let Mu=fi;const hi=class hi extends H{constructor(e){super();d(this,"parentCreatedAt");d(this,"prevCreatedAt");d(this,"value");d(this,"executedAt");S.util.initPartial(e,this)}static fromBinary(e,r){return new hi().fromBinary(e,r)}static fromJson(e,r){return new hi().fromJson(e,r)}static fromJsonString(e,r){return new hi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(hi,e,r)}};d(hi,"runtime",S),d(hi,"typeName","yorkie.v1.Operation.Add"),d(hi,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"prev_created_at",kind:"message",T:_},{no:3,name:"value",kind:"message",T:en},{no:4,name:"executed_at",kind:"message",T:_}]));let zu=hi;const di=class di extends H{constructor(e){super();d(this,"parentCreatedAt");d(this,"prevCreatedAt");d(this,"createdAt");d(this,"executedAt");S.util.initPartial(e,this)}static fromBinary(e,r){return new di().fromBinary(e,r)}static fromJson(e,r){return new di().fromJson(e,r)}static fromJsonString(e,r){return new di().fromJsonString(e,r)}static equals(e,r){return S.util.equals(di,e,r)}};d(di,"runtime",S),d(di,"typeName","yorkie.v1.Operation.Move"),d(di,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"prev_created_at",kind:"message",T:_},{no:3,name:"created_at",kind:"message",T:_},{no:4,name:"executed_at",kind:"message",T:_}]));let Uu=di;const gi=class gi extends H{constructor(e){super();d(this,"parentCreatedAt");d(this,"createdAt");d(this,"executedAt");S.util.initPartial(e,this)}static fromBinary(e,r){return new gi().fromBinary(e,r)}static fromJson(e,r){return new gi().fromJson(e,r)}static fromJsonString(e,r){return new gi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(gi,e,r)}};d(gi,"runtime",S),d(gi,"typeName","yorkie.v1.Operation.Remove"),d(gi,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"created_at",kind:"message",T:_},{no:3,name:"executed_at",kind:"message",T:_}]));let Lu=gi;const mi=class mi extends H{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"createdAtMapByActor",{});d(this,"content","");d(this,"executedAt");d(this,"attributes",{});S.util.initPartial(e,this)}static fromBinary(e,r){return new mi().fromBinary(e,r)}static fromJson(e,r){return new mi().fromJson(e,r)}static fromJsonString(e,r){return new mi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(mi,e,r)}};d(mi,"runtime",S),d(mi,"typeName","yorkie.v1.Operation.Edit"),d(mi,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"from",kind:"message",T:yr},{no:3,name:"to",kind:"message",T:yr},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:_}},{no:5,name:"content",kind:"scalar",T:9},{no:6,name:"executed_at",kind:"message",T:_},{no:7,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let qu=mi;const yi=class yi extends H{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"executedAt");S.util.initPartial(e,this)}static fromBinary(e,r){return new yi().fromBinary(e,r)}static fromJson(e,r){return new yi().fromJson(e,r)}static fromJsonString(e,r){return new yi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(yi,e,r)}};d(yi,"runtime",S),d(yi,"typeName","yorkie.v1.Operation.Select"),d(yi,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"from",kind:"message",T:yr},{no:3,name:"to",kind:"message",T:yr},{no:4,name:"executed_at",kind:"message",T:_}]));let Hh=yi;const pi=class pi extends H{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"attributes",{});d(this,"executedAt");d(this,"createdAtMapByActor",{});S.util.initPartial(e,this)}static fromBinary(e,r){return new pi().fromBinary(e,r)}static fromJson(e,r){return new pi().fromJson(e,r)}static fromJsonString(e,r){return new pi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(pi,e,r)}};d(pi,"runtime",S),d(pi,"typeName","yorkie.v1.Operation.Style"),d(pi,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"from",kind:"message",T:yr},{no:3,name:"to",kind:"message",T:yr},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:_},{no:6,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:_}}]));let Ju=pi;const vi=class vi extends H{constructor(e){super();d(this,"parentCreatedAt");d(this,"value");d(this,"executedAt");S.util.initPartial(e,this)}static fromBinary(e,r){return new vi().fromBinary(e,r)}static fromJson(e,r){return new vi().fromJson(e,r)}static fromJsonString(e,r){return new vi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(vi,e,r)}};d(vi,"runtime",S),d(vi,"typeName","yorkie.v1.Operation.Increase"),d(vi,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"value",kind:"message",T:en},{no:3,name:"executed_at",kind:"message",T:_}]));let Pu=vi;const Si=class Si extends H{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"createdAtMapByActor",{});d(this,"contents",[]);d(this,"splitLevel",0);d(this,"executedAt");S.util.initPartial(e,this)}static fromBinary(e,r){return new Si().fromBinary(e,r)}static fromJson(e,r){return new Si().fromJson(e,r)}static fromJsonString(e,r){return new Si().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Si,e,r)}};d(Si,"runtime",S),d(Si,"typeName","yorkie.v1.Operation.TreeEdit"),d(Si,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"from",kind:"message",T:Oa},{no:3,name:"to",kind:"message",T:Oa},{no:4,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:_}},{no:5,name:"contents",kind:"message",T:_u,repeated:!0},{no:7,name:"split_level",kind:"scalar",T:5},{no:6,name:"executed_at",kind:"message",T:_}]));let Vu=Si;const Ti=class Ti extends H{constructor(e){super();d(this,"parentCreatedAt");d(this,"from");d(this,"to");d(this,"attributes",{});d(this,"executedAt");d(this,"attributesToRemove",[]);d(this,"createdAtMapByActor",{});S.util.initPartial(e,this)}static fromBinary(e,r){return new Ti().fromBinary(e,r)}static fromJson(e,r){return new Ti().fromJson(e,r)}static fromJsonString(e,r){return new Ti().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Ti,e,r)}};d(Ti,"runtime",S),d(Ti,"typeName","yorkie.v1.Operation.TreeStyle"),d(Ti,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"from",kind:"message",T:Oa},{no:3,name:"to",kind:"message",T:Oa},{no:4,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"executed_at",kind:"message",T:_},{no:6,name:"attributes_to_remove",kind:"scalar",T:9,repeated:!0},{no:7,name:"created_at_map_by_actor",kind:"map",K:9,V:{kind:"message",T:_}}]));let Hu=Ti;const bi=class bi extends H{constructor(e){super();d(this,"parentCreatedAt");d(this,"createdAt");d(this,"value");d(this,"executedAt");S.util.initPartial(e,this)}static fromBinary(e,r){return new bi().fromBinary(e,r)}static fromJson(e,r){return new bi().fromJson(e,r)}static fromJsonString(e,r){return new bi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(bi,e,r)}};d(bi,"runtime",S),d(bi,"typeName","yorkie.v1.Operation.ArraySet"),d(bi,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_created_at",kind:"message",T:_},{no:2,name:"created_at",kind:"message",T:_},{no:3,name:"value",kind:"message",T:en},{no:4,name:"executed_at",kind:"message",T:_}]));let jh=bi;const wi=class wi extends H{constructor(e){super();d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");d(this,"type",0);d(this,"value",new Uint8Array(0));S.util.initPartial(e,this)}static fromBinary(e,r){return new wi().fromBinary(e,r)}static fromJson(e,r){return new wi().fromJson(e,r)}static fromJsonString(e,r){return new wi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(wi,e,r)}};d(wi,"runtime",S),d(wi,"typeName","yorkie.v1.JSONElementSimple"),d(wi,"fields",S.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:_},{no:2,name:"moved_at",kind:"message",T:_},{no:3,name:"removed_at",kind:"message",T:_},{no:4,name:"type",kind:"enum",T:S.getEnumType(ct)},{no:5,name:"value",kind:"scalar",T:12}]));let en=wi;const Ai=class Ai extends H{constructor(e){super();d(this,"body",{case:void 0});S.util.initPartial(e,this)}static fromBinary(e,r){return new Ai().fromBinary(e,r)}static fromJson(e,r){return new Ai().fromJson(e,r)}static fromJsonString(e,r){return new Ai().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Ai,e,r)}};d(Ai,"runtime",S),d(Ai,"typeName","yorkie.v1.JSONElement"),d(Ai,"fields",S.util.newFieldList(()=>[{no:1,name:"json_object",kind:"message",T:ju,oneof:"body"},{no:2,name:"json_array",kind:"message",T:Yu,oneof:"body"},{no:3,name:"primitive",kind:"message",T:Gu,oneof:"body"},{no:5,name:"text",kind:"message",T:Ku,oneof:"body"},{no:6,name:"counter",kind:"message",T:$u,oneof:"body"},{no:7,name:"tree",kind:"message",T:Xu,oneof:"body"}]));let Re=Ai;const Ei=class Ei extends H{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");S.util.initPartial(e,this)}static fromBinary(e,r){return new Ei().fromBinary(e,r)}static fromJson(e,r){return new Ei().fromJson(e,r)}static fromJsonString(e,r){return new Ei().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Ei,e,r)}};d(Ei,"runtime",S),d(Ei,"typeName","yorkie.v1.JSONElement.JSONObject"),d(Ei,"fields",S.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:n0,repeated:!0},{no:2,name:"created_at",kind:"message",T:_},{no:3,name:"moved_at",kind:"message",T:_},{no:4,name:"removed_at",kind:"message",T:_}]));let ju=Ei;const Ni=class Ni extends H{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");S.util.initPartial(e,this)}static fromBinary(e,r){return new Ni().fromBinary(e,r)}static fromJson(e,r){return new Ni().fromJson(e,r)}static fromJsonString(e,r){return new Ni().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Ni,e,r)}};d(Ni,"runtime",S),d(Ni,"typeName","yorkie.v1.JSONElement.JSONArray"),d(Ni,"fields",S.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Zu,repeated:!0},{no:2,name:"created_at",kind:"message",T:_},{no:3,name:"moved_at",kind:"message",T:_},{no:4,name:"removed_at",kind:"message",T:_}]));let Yu=Ni;const xi=class xi extends H{constructor(e){super();d(this,"type",0);d(this,"value",new Uint8Array(0));d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");S.util.initPartial(e,this)}static fromBinary(e,r){return new xi().fromBinary(e,r)}static fromJson(e,r){return new xi().fromJson(e,r)}static fromJsonString(e,r){return new xi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(xi,e,r)}};d(xi,"runtime",S),d(xi,"typeName","yorkie.v1.JSONElement.Primitive"),d(xi,"fields",S.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:S.getEnumType(ct)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:_},{no:4,name:"moved_at",kind:"message",T:_},{no:5,name:"removed_at",kind:"message",T:_}]));let Gu=xi;const Di=class Di extends H{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");S.util.initPartial(e,this)}static fromBinary(e,r){return new Di().fromBinary(e,r)}static fromJson(e,r){return new Di().fromJson(e,r)}static fromJsonString(e,r){return new Di().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Di,e,r)}};d(Di,"runtime",S),d(Di,"typeName","yorkie.v1.JSONElement.Text"),d(Di,"fields",S.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Qu,repeated:!0},{no:2,name:"created_at",kind:"message",T:_},{no:3,name:"moved_at",kind:"message",T:_},{no:4,name:"removed_at",kind:"message",T:_}]));let Ku=Di;const Oi=class Oi extends H{constructor(e){super();d(this,"type",0);d(this,"value",new Uint8Array(0));d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");S.util.initPartial(e,this)}static fromBinary(e,r){return new Oi().fromBinary(e,r)}static fromJson(e,r){return new Oi().fromJson(e,r)}static fromJsonString(e,r){return new Oi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Oi,e,r)}};d(Oi,"runtime",S),d(Oi,"typeName","yorkie.v1.JSONElement.Counter"),d(Oi,"fields",S.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:S.getEnumType(ct)},{no:2,name:"value",kind:"scalar",T:12},{no:3,name:"created_at",kind:"message",T:_},{no:4,name:"moved_at",kind:"message",T:_},{no:5,name:"removed_at",kind:"message",T:_}]));let $u=Oi;const Ci=class Ci extends H{constructor(e){super();d(this,"nodes",[]);d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");S.util.initPartial(e,this)}static fromBinary(e,r){return new Ci().fromBinary(e,r)}static fromJson(e,r){return new Ci().fromJson(e,r)}static fromJsonString(e,r){return new Ci().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Ci,e,r)}};d(Ci,"runtime",S),d(Ci,"typeName","yorkie.v1.JSONElement.Tree"),d(Ci,"fields",S.util.newFieldList(()=>[{no:1,name:"nodes",kind:"message",T:Ko,repeated:!0},{no:2,name:"created_at",kind:"message",T:_},{no:3,name:"moved_at",kind:"message",T:_},{no:4,name:"removed_at",kind:"message",T:_}]));let Xu=Ci;var ln;let n0=(ln=class extends H{constructor(e){super();d(this,"key","");d(this,"element");S.util.initPartial(e,this)}static fromBinary(e,r){return new ln().fromBinary(e,r)}static fromJson(e,r){return new ln().fromJson(e,r)}static fromJsonString(e,r){return new ln().fromJsonString(e,r)}static equals(e,r){return S.util.equals(ln,e,r)}},d(ln,"runtime",S),d(ln,"typeName","yorkie.v1.RHTNode"),d(ln,"fields",S.util.newFieldList(()=>[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"element",kind:"message",T:Re}])),ln);const In=class In extends H{constructor(e){super();d(this,"next");d(this,"element");S.util.initPartial(e,this)}static fromBinary(e,r){return new In().fromBinary(e,r)}static fromJson(e,r){return new In().fromJson(e,r)}static fromJsonString(e,r){return new In().fromJsonString(e,r)}static equals(e,r){return S.util.equals(In,e,r)}};d(In,"runtime",S),d(In,"typeName","yorkie.v1.RGANode"),d(In,"fields",S.util.newFieldList(()=>[{no:1,name:"next",kind:"message",T:In},{no:2,name:"element",kind:"message",T:Re}]));let Zu=In;const Ri=class Ri extends H{constructor(e){super();d(this,"value","");d(this,"updatedAt");d(this,"isRemoved",!1);S.util.initPartial(e,this)}static fromBinary(e,r){return new Ri().fromBinary(e,r)}static fromJson(e,r){return new Ri().fromJson(e,r)}static fromJsonString(e,r){return new Ri().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Ri,e,r)}};d(Ri,"runtime",S),d(Ri,"typeName","yorkie.v1.NodeAttr"),d(Ri,"fields",S.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9},{no:2,name:"updated_at",kind:"message",T:_},{no:3,name:"is_removed",kind:"scalar",T:8}]));let Os=Ri;const ki=class ki extends H{constructor(e){super();d(this,"id");d(this,"value","");d(this,"removedAt");d(this,"insPrevId");d(this,"attributes",{});S.util.initPartial(e,this)}static fromBinary(e,r){return new ki().fromBinary(e,r)}static fromJson(e,r){return new ki().fromJson(e,r)}static fromJsonString(e,r){return new ki().fromJsonString(e,r)}static equals(e,r){return S.util.equals(ki,e,r)}};d(ki,"runtime",S),d(ki,"typeName","yorkie.v1.TextNode"),d(ki,"fields",S.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Go},{no:2,name:"value",kind:"scalar",T:9},{no:3,name:"removed_at",kind:"message",T:_},{no:4,name:"ins_prev_id",kind:"message",T:Go},{no:5,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Os}}]));let Qu=ki;const Bi=class Bi extends H{constructor(e){super();d(this,"createdAt");d(this,"offset",0);S.util.initPartial(e,this)}static fromBinary(e,r){return new Bi().fromBinary(e,r)}static fromJson(e,r){return new Bi().fromJson(e,r)}static fromJsonString(e,r){return new Bi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Bi,e,r)}};d(Bi,"runtime",S),d(Bi,"typeName","yorkie.v1.TextNodeID"),d(Bi,"fields",S.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:_},{no:2,name:"offset",kind:"scalar",T:5}]));let Go=Bi;const Ii=class Ii extends H{constructor(e){super();d(this,"id");d(this,"type","");d(this,"value","");d(this,"removedAt");d(this,"insPrevId");d(this,"insNextId");d(this,"depth",0);d(this,"attributes",{});S.util.initPartial(e,this)}static fromBinary(e,r){return new Ii().fromBinary(e,r)}static fromJson(e,r){return new Ii().fromJson(e,r)}static fromJsonString(e,r){return new Ii().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Ii,e,r)}};d(Ii,"runtime",S),d(Ii,"typeName","yorkie.v1.TreeNode"),d(Ii,"fields",S.util.newFieldList(()=>[{no:1,name:"id",kind:"message",T:Zr},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:9},{no:4,name:"removed_at",kind:"message",T:_},{no:5,name:"ins_prev_id",kind:"message",T:Zr},{no:6,name:"ins_next_id",kind:"message",T:Zr},{no:7,name:"depth",kind:"scalar",T:5},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"message",T:Os}}]));let Ko=Ii;const Mi=class Mi extends H{constructor(e){super();d(this,"content",[]);S.util.initPartial(e,this)}static fromBinary(e,r){return new Mi().fromBinary(e,r)}static fromJson(e,r){return new Mi().fromJson(e,r)}static fromJsonString(e,r){return new Mi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Mi,e,r)}};d(Mi,"runtime",S),d(Mi,"typeName","yorkie.v1.TreeNodes"),d(Mi,"fields",S.util.newFieldList(()=>[{no:1,name:"content",kind:"message",T:Ko,repeated:!0}]));let _u=Mi;const zi=class zi extends H{constructor(e){super();d(this,"createdAt");d(this,"offset",0);S.util.initPartial(e,this)}static fromBinary(e,r){return new zi().fromBinary(e,r)}static fromJson(e,r){return new zi().fromJson(e,r)}static fromJsonString(e,r){return new zi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(zi,e,r)}};d(zi,"runtime",S),d(zi,"typeName","yorkie.v1.TreeNodeID"),d(zi,"fields",S.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:_},{no:2,name:"offset",kind:"scalar",T:5}]));let Zr=zi;const Ui=class Ui extends H{constructor(e){super();d(this,"parentId");d(this,"leftSiblingId");S.util.initPartial(e,this)}static fromBinary(e,r){return new Ui().fromBinary(e,r)}static fromJson(e,r){return new Ui().fromJson(e,r)}static fromJsonString(e,r){return new Ui().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Ui,e,r)}};d(Ui,"runtime",S),d(Ui,"typeName","yorkie.v1.TreePos"),d(Ui,"fields",S.util.newFieldList(()=>[{no:1,name:"parent_id",kind:"message",T:Zr},{no:2,name:"left_sibling_id",kind:"message",T:Zr}]));let Oa=Ui;const Li=class Li extends H{constructor(e){super();d(this,"id","");d(this,"username","");d(this,"createdAt");S.util.initPartial(e,this)}static fromBinary(e,r){return new Li().fromBinary(e,r)}static fromJson(e,r){return new Li().fromJson(e,r)}static fromJsonString(e,r){return new Li().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Li,e,r)}};d(Li,"runtime",S),d(Li,"typeName","yorkie.v1.User"),d(Li,"fields",S.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"created_at",kind:"message",T:ve}]));let mv=Li;const qi=class qi extends H{constructor(e){super();d(this,"id","");d(this,"name","");d(this,"publicKey","");d(this,"secretKey","");d(this,"authWebhookUrl","");d(this,"authWebhookMethods",[]);d(this,"clientDeactivateThreshold","");d(this,"createdAt");d(this,"updatedAt");S.util.initPartial(e,this)}static fromBinary(e,r){return new qi().fromBinary(e,r)}static fromJson(e,r){return new qi().fromJson(e,r)}static fromJsonString(e,r){return new qi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(qi,e,r)}};d(qi,"runtime",S),d(qi,"typeName","yorkie.v1.Project"),d(qi,"fields",S.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"public_key",kind:"scalar",T:9},{no:4,name:"secret_key",kind:"scalar",T:9},{no:5,name:"auth_webhook_url",kind:"scalar",T:9},{no:6,name:"auth_webhook_methods",kind:"scalar",T:9,repeated:!0},{no:7,name:"client_deactivate_threshold",kind:"scalar",T:9},{no:8,name:"created_at",kind:"message",T:ve},{no:9,name:"updated_at",kind:"message",T:ve}]));let yv=qi;const Ji=class Ji extends H{constructor(e){super();d(this,"name");d(this,"authWebhookUrl");d(this,"authWebhookMethods");d(this,"clientDeactivateThreshold");S.util.initPartial(e,this)}static fromBinary(e,r){return new Ji().fromBinary(e,r)}static fromJson(e,r){return new Ji().fromJson(e,r)}static fromJsonString(e,r){return new Ji().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Ji,e,r)}};d(Ji,"runtime",S),d(Ji,"typeName","yorkie.v1.UpdatableProjectFields"),d(Ji,"fields",S.util.newFieldList(()=>[{no:1,name:"name",kind:"message",T:He},{no:2,name:"auth_webhook_url",kind:"message",T:He},{no:3,name:"auth_webhook_methods",kind:"message",T:Yh},{no:4,name:"client_deactivate_threshold",kind:"message",T:He}]));let pv=Ji;const Pi=class Pi extends H{constructor(e){super();d(this,"methods",[]);S.util.initPartial(e,this)}static fromBinary(e,r){return new Pi().fromBinary(e,r)}static fromJson(e,r){return new Pi().fromJson(e,r)}static fromJsonString(e,r){return new Pi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Pi,e,r)}};d(Pi,"runtime",S),d(Pi,"typeName","yorkie.v1.UpdatableProjectFields.AuthWebhookMethods"),d(Pi,"fields",S.util.newFieldList(()=>[{no:1,name:"methods",kind:"scalar",T:9,repeated:!0}]));let Yh=Pi;const Vi=class Vi extends H{constructor(e){super();d(this,"id","");d(this,"key","");d(this,"snapshot","");d(this,"createdAt");d(this,"accessedAt");d(this,"updatedAt");S.util.initPartial(e,this)}static fromBinary(e,r){return new Vi().fromBinary(e,r)}static fromJson(e,r){return new Vi().fromJson(e,r)}static fromJsonString(e,r){return new Vi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Vi,e,r)}};d(Vi,"runtime",S),d(Vi,"typeName","yorkie.v1.DocumentSummary"),d(Vi,"fields",S.util.newFieldList(()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"key",kind:"scalar",T:9},{no:3,name:"snapshot",kind:"scalar",T:9},{no:4,name:"created_at",kind:"message",T:ve},{no:5,name:"accessed_at",kind:"message",T:ve},{no:6,name:"updated_at",kind:"message",T:ve}]));let vv=Vi;const Hi=class Hi extends H{constructor(e){super();d(this,"type",0);d(this,"presence");S.util.initPartial(e,this)}static fromBinary(e,r){return new Hi().fromBinary(e,r)}static fromJson(e,r){return new Hi().fromJson(e,r)}static fromJsonString(e,r){return new Hi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Hi,e,r)}};d(Hi,"runtime",S),d(Hi,"typeName","yorkie.v1.PresenceChange"),d(Hi,"fields",S.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:S.getEnumType(Ca)},{no:2,name:"presence",kind:"message",T:vd}]));let $o=Hi;var Ca=(s=>(s[s.UNSPECIFIED=0]="UNSPECIFIED",s[s.PUT=1]="PUT",s[s.DELETE=2]="DELETE",s[s.CLEAR=3]="CLEAR",s))(Ca||{});S.util.setEnumType(Ca,"yorkie.v1.PresenceChange.ChangeType",[{no:0,name:"CHANGE_TYPE_UNSPECIFIED"},{no:1,name:"CHANGE_TYPE_PUT"},{no:2,name:"CHANGE_TYPE_DELETE"},{no:3,name:"CHANGE_TYPE_CLEAR"}]);var un;let vd=(un=class extends H{constructor(e){super();d(this,"data",{});S.util.initPartial(e,this)}static fromBinary(e,r){return new un().fromBinary(e,r)}static fromJson(e,r){return new un().fromJson(e,r)}static fromJsonString(e,r){return new un().fromJsonString(e,r)}static equals(e,r){return S.util.equals(un,e,r)}},d(un,"runtime",S),d(un,"typeName","yorkie.v1.Presence"),d(un,"fields",S.util.newFieldList(()=>[{no:1,name:"data",kind:"map",K:9,V:{kind:"scalar",T:9}}])),un);var cn;let i0=(cn=class extends H{constructor(e){super();d(this,"serverSeq",qt.zero);d(this,"clientSeq",0);S.util.initPartial(e,this)}static fromBinary(e,r){return new cn().fromBinary(e,r)}static fromJson(e,r){return new cn().fromJson(e,r)}static fromJsonString(e,r){return new cn().fromJsonString(e,r)}static equals(e,r){return S.util.equals(cn,e,r)}},d(cn,"runtime",S),d(cn,"typeName","yorkie.v1.Checkpoint"),d(cn,"fields",S.util.newFieldList(()=>[{no:1,name:"server_seq",kind:"scalar",T:3},{no:2,name:"client_seq",kind:"scalar",T:13}])),cn);const ji=class ji extends H{constructor(e){super();d(this,"createdAt");d(this,"offset",0);d(this,"relativeOffset",0);S.util.initPartial(e,this)}static fromBinary(e,r){return new ji().fromBinary(e,r)}static fromJson(e,r){return new ji().fromJson(e,r)}static fromJsonString(e,r){return new ji().fromJsonString(e,r)}static equals(e,r){return S.util.equals(ji,e,r)}};d(ji,"runtime",S),d(ji,"typeName","yorkie.v1.TextNodePos"),d(ji,"fields",S.util.newFieldList(()=>[{no:1,name:"created_at",kind:"message",T:_},{no:2,name:"offset",kind:"scalar",T:5},{no:3,name:"relative_offset",kind:"scalar",T:5}]));let yr=ji;var fn;let _=(fn=class extends H{constructor(e){super();d(this,"lamport",qt.zero);d(this,"delimiter",0);d(this,"actorId",new Uint8Array(0));S.util.initPartial(e,this)}static fromBinary(e,r){return new fn().fromBinary(e,r)}static fromJson(e,r){return new fn().fromJson(e,r)}static fromJsonString(e,r){return new fn().fromJsonString(e,r)}static equals(e,r){return S.util.equals(fn,e,r)}},d(fn,"runtime",S),d(fn,"typeName","yorkie.v1.TimeTicket"),d(fn,"fields",S.util.newFieldList(()=>[{no:1,name:"lamport",kind:"scalar",T:3},{no:2,name:"delimiter",kind:"scalar",T:13},{no:3,name:"actor_id",kind:"scalar",T:12}])),fn);const Yi=class Yi extends H{constructor(e){super();d(this,"topic","");d(this,"payload",new Uint8Array(0));S.util.initPartial(e,this)}static fromBinary(e,r){return new Yi().fromBinary(e,r)}static fromJson(e,r){return new Yi().fromJson(e,r)}static fromJsonString(e,r){return new Yi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Yi,e,r)}};d(Yi,"runtime",S),d(Yi,"typeName","yorkie.v1.DocEventBody"),d(Yi,"fields",S.util.newFieldList(()=>[{no:1,name:"topic",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12}]));let Gh=Yi;const Gi=class Gi extends H{constructor(e){super();d(this,"type",0);d(this,"publisher","");d(this,"body");S.util.initPartial(e,this)}static fromBinary(e,r){return new Gi().fromBinary(e,r)}static fromJson(e,r){return new Gi().fromJson(e,r)}static fromJsonString(e,r){return new Gi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Gi,e,r)}};d(Gi,"runtime",S),d(Gi,"typeName","yorkie.v1.DocEvent"),d(Gi,"fields",S.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:S.getEnumType(Da)},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"body",kind:"message",T:Gh}]));let Kh=Gi;const Ki=class Ki extends H{constructor(e){super();d(this,"clientKey","");d(this,"metadata",{});S.util.initPartial(e,this)}static fromBinary(e,r){return new Ki().fromBinary(e,r)}static fromJson(e,r){return new Ki().fromJson(e,r)}static fromJsonString(e,r){return new Ki().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Ki,e,r)}};d(Ki,"runtime",S),d(Ki,"typeName","yorkie.v1.ActivateClientRequest"),d(Ki,"fields",S.util.newFieldList(()=>[{no:1,name:"client_key",kind:"scalar",T:9},{no:2,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));let $h=Ki;const $i=class $i extends H{constructor(e){super();d(this,"clientId","");S.util.initPartial(e,this)}static fromBinary(e,r){return new $i().fromBinary(e,r)}static fromJson(e,r){return new $i().fromJson(e,r)}static fromJsonString(e,r){return new $i().fromJsonString(e,r)}static equals(e,r){return S.util.equals($i,e,r)}};d($i,"runtime",S),d($i,"typeName","yorkie.v1.ActivateClientResponse"),d($i,"fields",S.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let Xh=$i;const Xi=class Xi extends H{constructor(e){super();d(this,"clientId","");S.util.initPartial(e,this)}static fromBinary(e,r){return new Xi().fromBinary(e,r)}static fromJson(e,r){return new Xi().fromJson(e,r)}static fromJsonString(e,r){return new Xi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Xi,e,r)}};d(Xi,"runtime",S),d(Xi,"typeName","yorkie.v1.DeactivateClientRequest"),d(Xi,"fields",S.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9}]));let Zh=Xi;const Zi=class Zi extends H{constructor(n){super(),S.util.initPartial(n,this)}static fromBinary(n,e){return new Zi().fromBinary(n,e)}static fromJson(n,e){return new Zi().fromJson(n,e)}static fromJsonString(n,e){return new Zi().fromJsonString(n,e)}static equals(n,e){return S.util.equals(Zi,n,e)}};d(Zi,"runtime",S),d(Zi,"typeName","yorkie.v1.DeactivateClientResponse"),d(Zi,"fields",S.util.newFieldList(()=>[]));let Qh=Zi;const Qi=class Qi extends H{constructor(e){super();d(this,"clientId","");d(this,"changePack");S.util.initPartial(e,this)}static fromBinary(e,r){return new Qi().fromBinary(e,r)}static fromJson(e,r){return new Qi().fromJson(e,r)}static fromJsonString(e,r){return new Qi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Qi,e,r)}};d(Qi,"runtime",S),d(Qi,"typeName","yorkie.v1.AttachDocumentRequest"),d(Qi,"fields",S.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:vr}]));let _h=Qi;const _i=class _i extends H{constructor(e){super();d(this,"documentId","");d(this,"changePack");S.util.initPartial(e,this)}static fromBinary(e,r){return new _i().fromBinary(e,r)}static fromJson(e,r){return new _i().fromJson(e,r)}static fromJsonString(e,r){return new _i().fromJsonString(e,r)}static equals(e,r){return S.util.equals(_i,e,r)}};d(_i,"runtime",S),d(_i,"typeName","yorkie.v1.AttachDocumentResponse"),d(_i,"fields",S.util.newFieldList(()=>[{no:1,name:"document_id",kind:"scalar",T:9},{no:2,name:"change_pack",kind:"message",T:vr}]));let Fh=_i;const Fi=class Fi extends H{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"changePack");d(this,"removeIfNotAttached",!1);S.util.initPartial(e,this)}static fromBinary(e,r){return new Fi().fromBinary(e,r)}static fromJson(e,r){return new Fi().fromJson(e,r)}static fromJsonString(e,r){return new Fi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Fi,e,r)}};d(Fi,"runtime",S),d(Fi,"typeName","yorkie.v1.DetachDocumentRequest"),d(Fi,"fields",S.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:vr},{no:4,name:"remove_if_not_attached",kind:"scalar",T:8}]));let Wh=Fi;const Wi=class Wi extends H{constructor(e){super();d(this,"changePack");S.util.initPartial(e,this)}static fromBinary(e,r){return new Wi().fromBinary(e,r)}static fromJson(e,r){return new Wi().fromJson(e,r)}static fromJsonString(e,r){return new Wi().fromJsonString(e,r)}static equals(e,r){return S.util.equals(Wi,e,r)}};d(Wi,"runtime",S),d(Wi,"typeName","yorkie.v1.DetachDocumentResponse"),d(Wi,"fields",S.util.newFieldList(()=>[{no:2,name:"change_pack",kind:"message",T:vr}]));let td=Wi;const tr=class tr extends H{constructor(e){super();d(this,"clientId","");d(this,"documentId","");S.util.initPartial(e,this)}static fromBinary(e,r){return new tr().fromBinary(e,r)}static fromJson(e,r){return new tr().fromJson(e,r)}static fromJsonString(e,r){return new tr().fromJsonString(e,r)}static equals(e,r){return S.util.equals(tr,e,r)}};d(tr,"runtime",S),d(tr,"typeName","yorkie.v1.WatchDocumentRequest"),d(tr,"fields",S.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9}]));let ed=tr;const er=class er extends H{constructor(e){super();d(this,"body",{case:void 0});S.util.initPartial(e,this)}static fromBinary(e,r){return new er().fromBinary(e,r)}static fromJson(e,r){return new er().fromJson(e,r)}static fromJsonString(e,r){return new er().fromJsonString(e,r)}static equals(e,r){return S.util.equals(er,e,r)}};d(er,"runtime",S),d(er,"typeName","yorkie.v1.WatchDocumentResponse"),d(er,"fields",S.util.newFieldList(()=>[{no:1,name:"initialization",kind:"message",T:id,oneof:"body"},{no:2,name:"event",kind:"message",T:Kh,oneof:"body"}]));let nd=er;const nr=class nr extends H{constructor(e){super();d(this,"clientIds",[]);S.util.initPartial(e,this)}static fromBinary(e,r){return new nr().fromBinary(e,r)}static fromJson(e,r){return new nr().fromJson(e,r)}static fromJsonString(e,r){return new nr().fromJsonString(e,r)}static equals(e,r){return S.util.equals(nr,e,r)}};d(nr,"runtime",S),d(nr,"typeName","yorkie.v1.WatchDocumentResponse.Initialization"),d(nr,"fields",S.util.newFieldList(()=>[{no:1,name:"client_ids",kind:"scalar",T:9,repeated:!0}]));let id=nr;const ir=class ir extends H{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"changePack");S.util.initPartial(e,this)}static fromBinary(e,r){return new ir().fromBinary(e,r)}static fromJson(e,r){return new ir().fromJson(e,r)}static fromJsonString(e,r){return new ir().fromJsonString(e,r)}static equals(e,r){return S.util.equals(ir,e,r)}};d(ir,"runtime",S),d(ir,"typeName","yorkie.v1.RemoveDocumentRequest"),d(ir,"fields",S.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:vr}]));let rd=ir;const rr=class rr extends H{constructor(e){super();d(this,"changePack");S.util.initPartial(e,this)}static fromBinary(e,r){return new rr().fromBinary(e,r)}static fromJson(e,r){return new rr().fromJson(e,r)}static fromJsonString(e,r){return new rr().fromJsonString(e,r)}static equals(e,r){return S.util.equals(rr,e,r)}};d(rr,"runtime",S),d(rr,"typeName","yorkie.v1.RemoveDocumentResponse"),d(rr,"fields",S.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:vr}]));let ad=rr;const ar=class ar extends H{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"changePack");d(this,"pushOnly",!1);S.util.initPartial(e,this)}static fromBinary(e,r){return new ar().fromBinary(e,r)}static fromJson(e,r){return new ar().fromJson(e,r)}static fromJsonString(e,r){return new ar().fromJsonString(e,r)}static equals(e,r){return S.util.equals(ar,e,r)}};d(ar,"runtime",S),d(ar,"typeName","yorkie.v1.PushPullChangesRequest"),d(ar,"fields",S.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"change_pack",kind:"message",T:vr},{no:4,name:"push_only",kind:"scalar",T:8}]));let sd=ar;const sr=class sr extends H{constructor(e){super();d(this,"changePack");S.util.initPartial(e,this)}static fromBinary(e,r){return new sr().fromBinary(e,r)}static fromJson(e,r){return new sr().fromJson(e,r)}static fromJsonString(e,r){return new sr().fromJsonString(e,r)}static equals(e,r){return S.util.equals(sr,e,r)}};d(sr,"runtime",S),d(sr,"typeName","yorkie.v1.PushPullChangesResponse"),d(sr,"fields",S.util.newFieldList(()=>[{no:1,name:"change_pack",kind:"message",T:vr}]));let od=sr;const or=class or extends H{constructor(e){super();d(this,"clientId","");d(this,"documentId","");d(this,"topic","");d(this,"payload",new Uint8Array(0));S.util.initPartial(e,this)}static fromBinary(e,r){return new or().fromBinary(e,r)}static fromJson(e,r){return new or().fromJson(e,r)}static fromJsonString(e,r){return new or().fromJsonString(e,r)}static equals(e,r){return S.util.equals(or,e,r)}};d(or,"runtime",S),d(or,"typeName","yorkie.v1.BroadcastRequest"),d(or,"fields",S.util.newFieldList(()=>[{no:1,name:"client_id",kind:"scalar",T:9},{no:2,name:"document_id",kind:"scalar",T:9},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"payload",kind:"scalar",T:12}]));let ld=or;const lr=class lr extends H{constructor(n){super(),S.util.initPartial(n,this)}static fromBinary(n,e){return new lr().fromBinary(n,e)}static fromJson(n,e){return new lr().fromJson(n,e)}static fromJsonString(n,e){return new lr().fromJsonString(n,e)}static equals(n,e){return S.util.equals(lr,n,e)}};d(lr,"runtime",S),d(lr,"typeName","yorkie.v1.BroadcastResponse"),d(lr,"fields",S.util.newFieldList(()=>[]));let ud=lr;const Y1={typeName:"yorkie.v1.YorkieService",methods:{activateClient:{name:"ActivateClient",I:$h,O:Xh,kind:be.Unary},deactivateClient:{name:"DeactivateClient",I:Zh,O:Qh,kind:be.Unary},attachDocument:{name:"AttachDocument",I:_h,O:Fh,kind:be.Unary},detachDocument:{name:"DetachDocument",I:Wh,O:td,kind:be.Unary},removeDocument:{name:"RemoveDocument",I:rd,O:ad,kind:be.Unary},pushPullChanges:{name:"PushPullChanges",I:sd,O:od,kind:be.Unary},watchDocument:{name:"WatchDocument",I:ed,O:nd,kind:be.ServerStreaming},broadcast:{name:"Broadcast",I:ld,O:ud,kind:be.Unary}}},G1=S.makeMessageType("google.rpc.ErrorInfo",()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]);S.makeMessageType("google.rpc.RetryInfo",()=>[{no:1,name:"retry_delay",kind:"message",T:fr}]);S.makeMessageType("google.rpc.DebugInfo",()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]);S.makeMessageType("google.rpc.QuotaFailure",()=>[{no:1,name:"violations",kind:"message",T:K1,repeated:!0}]);const K1=S.makeMessageType("google.rpc.QuotaFailure.Violation",()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}],{localName:"QuotaFailure_Violation"});S.makeMessageType("google.rpc.PreconditionFailure",()=>[{no:1,name:"violations",kind:"message",T:$1,repeated:!0}]);const $1=S.makeMessageType("google.rpc.PreconditionFailure.Violation",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}],{localName:"PreconditionFailure_Violation"});S.makeMessageType("google.rpc.BadRequest",()=>[{no:1,name:"field_violations",kind:"message",T:X1,repeated:!0}]);const X1=S.makeMessageType("google.rpc.BadRequest.FieldViolation",()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"reason",kind:"scalar",T:9},{no:4,name:"localized_message",kind:"message",T:Q1}],{localName:"BadRequest_FieldViolation"});S.makeMessageType("google.rpc.RequestInfo",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]);S.makeMessageType("google.rpc.ResourceInfo",()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]);S.makeMessageType("google.rpc.Help",()=>[{no:1,name:"links",kind:"message",T:Z1,repeated:!0}]);const Z1=S.makeMessageType("google.rpc.Help.Link",()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}],{localName:"Help_Link"}),Q1=S.makeMessageType("google.rpc.LocalizedMessage",()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]);var x=(s=>(s.Ok="ok",s.ErrClientNotActivated="ErrClientNotActivated",s.ErrClientNotFound="ErrClientNotFound",s.ErrUnimplemented="ErrUnimplemented",s.ErrInvalidType="ErrInvalidType",s.ErrDummy="ErrDummy",s.ErrDocumentNotAttached="ErrDocumentNotAttached",s.ErrDocumentNotDetached="ErrDocumentNotDetached",s.ErrDocumentRemoved="ErrDocumentRemoved",s.ErrInvalidObjectKey="ErrInvalidObjectKey",s.ErrInvalidArgument="ErrInvalidArgument",s.ErrNotInitialized="ErrNotInitialized",s.ErrNotReady="ErrNotReady",s.ErrRefused="ErrRefused",s.ErrContextNotProvided="ErrContextNotProvided",s.ErrPermissionDenied="ErrPermissionDenied",s.ErrUnauthenticated="ErrUnauthenticated",s.ErrTooManySubscribers="ErrTooManySubscribers",s.ErrTooManyAttachments="ErrTooManyAttachments",s))(x||{});class C extends Error{constructor(e,r){super(r);d(this,"name","YorkieError");d(this,"stack");this.code=e,this.message=r,this.toString=()=>`[code=${this.code}]: ${this.message}`}}function wn(s){if(s instanceof Map){const n=Array.from(s);return new Map(JSON.parse(JSON.stringify(n)))}return JSON.parse(JSON.stringify(s))}const r0=s=>s?Object.entries(s).length===0:!0,Cs=s=>{const n={};for(const[e,r]of Object.entries(s))n[e]=JSON.stringify(r);return n},gr=s=>{const n={};for(const[e,r]of Object.entries(s))n[e]=JSON.parse(r);return n};var ta=(s=>(s.Put="put",s.Clear="clear",s))(ta||{});class zh{constructor(n,e){d(this,"context");d(this,"presence");this.context=n,this.presence=e}set(n,e){for(const r of Object.keys(n))this.presence[r]=n[r];this.context.setPresenceChange({type:"put",presence:wn(this.presence)}),this.context.setReversePresence(n,e)}get(n){return this.presence[n]}clear(){this.presence={},this.context.setPresenceChange({type:"clear"})}}const ac="000000000000000000000000",Qr=24;class gn{constructor(n,e,r){d(this,"lamport");d(this,"delimiter");d(this,"actorID");this.lamport=n,this.delimiter=e,this.actorID=r}static of(n,e,r){return new gn(n,e,r)}static fromStruct(n){return gn.of(BigInt(n.lamport),n.delimiter,n.actorID)}toIDString(){return`${this.lamport.toString()}:${this.actorID}:${this.delimiter}`}toStruct(){return{lamport:this.getLamportAsString(),delimiter:this.getDelimiter(),actorID:this.getActorID()}}toTestString(){return`${this.lamport.toString()}:${this.actorID.slice(-2)}:${this.delimiter}`}setActor(n){return new gn(this.lamport,this.delimiter,n)}getLamportAsString(){return this.lamport.toString()}getLamport(){return this.lamport}getDelimiter(){return this.delimiter}getActorID(){return this.actorID}after(n){return this.compare(n)>0}equals(n){return this.compare(n)===0}compare(n){if(this.lamport>n.lamport)return 1;if(n.lamport>this.lamport)return-1;const e=this.actorID.localeCompare(n.actorID);return e!==0?e:this.delimiter>n.delimiter?1:n.delimiter>this.delimiter?-1:0}}const a0=0,Vo=9223372036854775807n,Rs=new gn(0n,a0,ac);function Yn(s){return s.replace(/["'\\\n\r\f\b\t\u2028\u2029]/g,function(n){switch(n){case'"':case"\\":return"\\"+n;case`
`:return"\\n";case"\r":return"\\r";case"\f":return"\\f";case"\b":return"\\b";case"	":return"\\t";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return n}})}class tl{constructor(n){d(this,"createdAt");d(this,"movedAt");d(this,"removedAt");this.createdAt=n}getCreatedAt(){return this.createdAt}getID(){return this.createdAt}getMovedAt(){return this.movedAt}getRemovedAt(){return this.removedAt}getPositionedAt(){return this.movedAt?this.movedAt:this.createdAt}setMovedAt(n){return!this.movedAt||n&&n.after(this.movedAt)?(this.movedAt=n,!0):!1}setRemovedAt(n){this.removedAt=n}remove(n){return n&&n.after(this.getPositionedAt())&&(!this.removedAt||n.after(this.removedAt))?(this.removedAt=n,!0):!1}isRemoved(){return!!this.removedAt}getMetaUsage(){let n=0;return this.getCreatedAt()&&(n+=Qr),this.getMovedAt()&&(n+=Qr),this.getRemovedAt()&&(n+=Qr),n}}class _r extends tl{constructor(n){super(n)}}class Sd{constructor(n,e){d(this,"strKey");d(this,"value");this.strKey=n,this.value=e}static of(n,e){return new Sd(n,e)}isRemoved(){return this.value.isRemoved()}getStrKey(){return this.strKey}getValue(){return this.value}remove(n){return this.value.remove(n)}}class Xo{constructor(){d(this,"nodeMapByKey");d(this,"nodeMapByCreatedAt");this.nodeMapByKey=new Map,this.nodeMapByCreatedAt=new Map}static create(){return new Xo}set(n,e,r){let l;const c=this.nodeMapByKey.get(n);c!=null&&!c.isRemoved()&&c.remove(r)&&(l=c.getValue());const h=Sd.of(n,e);return this.nodeMapByCreatedAt.set(e.getCreatedAt().toIDString(),h),(c==null||r.after(c.getValue().getPositionedAt()))&&(this.nodeMapByKey.set(n,h),e.setMovedAt(r)),l}delete(n,e){if(!this.nodeMapByCreatedAt.has(n.toIDString()))throw new C(x.ErrInvalidArgument,`fail to find ${n.toIDString()}`);const r=this.nodeMapByCreatedAt.get(n.toIDString());return r.remove(e),r.getValue()}subPathOf(n){const e=this.nodeMapByCreatedAt.get(n.toIDString());if(e)return e.getStrKey()}purge(n){const e=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!e)throw new C(x.ErrInvalidArgument,`fail to find ${n.getCreatedAt().toIDString()}`);const r=this.nodeMapByKey.get(e.getStrKey());e===r&&this.nodeMapByKey.delete(r.getStrKey()),this.nodeMapByCreatedAt.delete(e.getValue().getCreatedAt().toIDString())}deleteByKey(n,e){const r=this.nodeMapByKey.get(n);if(r!=null&&r.remove(e))return r.getValue()}has(n){const e=this.nodeMapByKey.get(n);return e==null?!1:!e.isRemoved()}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}get(n){const e=this.nodeMapByKey.get(n);if(!(!e||e.isRemoved()))return e}*[Symbol.iterator](){for(const[,n]of this.nodeMapByKey)yield n}}class Ce extends _r{constructor(e,r){super(e);d(this,"memberNodes");this.memberNodes=r}static create(e,r){if(!r)return new Ce(e,Xo.create());const l=Xo.create();for(const[c,h]of Object.entries(r))l.set(c,h.deepcopy(),h.getCreatedAt());return new Ce(e,l)}subPathOf(e){return this.memberNodes.subPathOf(e)}purge(e){this.memberNodes.purge(e)}set(e,r,l){return this.memberNodes.set(e,r,l)}delete(e,r){return this.memberNodes.delete(e,r)}deleteByKey(e,r){return this.memberNodes.deleteByKey(e,r)}get(e){const r=this.memberNodes.get(e);return r==null?void 0:r.getValue()}getByID(e){const r=this.memberNodes.getByID(e);return r==null?void 0:r.getValue()}has(e){return this.memberNodes.has(e)}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const[r,l]of this)e.push(`"${Yn(r)}":${l.toJSON()}`);return`{${e.join(",")}}`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(const[r,l]of this){const{createdAt:c,value:h,type:m}=l.toJSForTest();e[r]={key:r,createdAt:c,value:h,type:m}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_OBJECT"}}getKeys(){const e=Array();for(const[r]of this)e.push(r);return e}toSortedJSON(){var l;const e=Array();for(const[c]of this)e.push(c);const r=[];for(const c of e.sort()){const h=(l=this.memberNodes.get(c))==null?void 0:l.getValue();r.push(`"${Yn(c)}":${h.toSortedJSON()}`)}return`{${r.join(",")}}`}getRHT(){return this.memberNodes}deepcopy(){const e=Ce.create(this.getCreatedAt());for(const r of this.memberNodes)e.memberNodes.set(r.getStrKey(),r.getValue().deepcopy(),this.getPositionedAt());return e.remove(this.getRemovedAt()),e}getDescendants(e){for(const r of this.memberNodes){const l=r.getValue();if(e(l,this))return;l instanceof _r&&l.getDescendants(e)}}*[Symbol.iterator](){const e=new Set;for(const r of this.memberNodes)e.has(r.getStrKey())||(e.add(r.getStrKey()),r.isRemoved()||(yield[r.getStrKey(),r.getValue()]))}}var Mt=(s=>(s.Local="local",s.Remote="remote",s.UndoRedo="undoredo",s))(Mt||{});class xn{constructor(n,e){d(this,"parentCreatedAt");d(this,"executedAt");this.parentCreatedAt=n,this.executedAt=e}getParentCreatedAt(){return this.parentCreatedAt}getExecutedAt(){if(!this.executedAt)throw new C(x.ErrNotReady,"executedAt is not set yet");return this.executedAt}setActor(n){this.executedAt&&(this.executedAt=this.executedAt.setActor(n))}setExecutedAt(n){this.executedAt=n}}class s0{constructor(n){d(this,"value");d(this,"left");d(this,"right");d(this,"parent");d(this,"weight");this.value=n,this.initWeight()}getNodeString(){return`${this.weight}${this.value}`}getValue(){return this.value}getLeftWeight(){return this.hasLeft()?this.left.getWeight():0}getRightWeight(){return this.hasRight()?this.right.getWeight():0}getWeight(){return this.weight}getLeft(){return this.left}getRight(){return this.right}getParent(){return this.parent}hasLeft(){return!!this.left}hasRight(){return!!this.right}hasParent(){return!!this.parent}setLeft(n){this.left=n}setRight(n){this.right=n}setParent(n){this.parent=n}unlink(){this.parent=void 0,this.right=void 0,this.left=void 0}hasLinks(){return this.hasParent()||this.hasLeft()||this.hasRight()}increaseWeight(n){this.weight+=n}initWeight(){this.weight=this.getLength()}}class Zo{constructor(n){d(this,"root");this.root=n}get length(){return this.root?this.root.getWeight():0}find(n){if(!this.root||n<0)return[void 0,0];let e=this.root;for(;;)if(e.hasLeft()&&n<=e.getLeftWeight())e=e.getLeft();else if(e.hasRight()&&e.getLeftWeight()+e.getLength()<n)n-=e.getLeftWeight()+e.getLength(),e=e.getRight();else{n-=e.getLeftWeight();break}if(n>e.getLength())throw new C(x.ErrInvalidArgument,`out of index range: pos: ${n} > node.length: ${e.getLength()}`);return this.splayNode(e),[e,n]}indexOf(n){return!n||n!==this.root&&!n.hasLinks()?-1:(this.splayNode(n),this.root.getLeftWeight())}getRoot(){return this.root}insert(n){return this.insertAfter(this.root,n)}insertAfter(n,e){return n?(this.splayNode(n),this.root=e,e.setRight(n.getRight()),n.hasRight()&&n.getRight().setParent(e),e.setLeft(n),n.setParent(e),n.setRight(),this.updateWeight(n),this.updateWeight(e),e):(this.root=e,e)}updateWeight(n){n.initWeight(),n.hasLeft()&&n.increaseWeight(n.getLeftWeight()),n.hasRight()&&n.increaseWeight(n.getRightWeight())}updateTreeWeight(n){for(;n;)this.updateWeight(n),n=n.getParent()}splayNode(n){if(n)for(;;)if(this.isLeftChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n),this.rotateLeft(n);else if(this.isLeftChild(n.getParent())&&this.isLeftChild(n))this.rotateRight(n.getParent()),this.rotateRight(n);else if(this.isRightChild(n.getParent())&&this.isRightChild(n))this.rotateLeft(n.getParent()),this.rotateLeft(n);else{this.isLeftChild(n)?this.rotateRight(n):this.isRightChild(n)&&this.rotateLeft(n),this.updateWeight(n);return}}delete(n){this.splayNode(n);const e=new Zo(n.getLeft());e.root&&e.root.setParent();const r=new Zo(n.getRight());if(r.root&&r.root.setParent(),e.root){const l=e.getRightmost();e.splayNode(l),e.root.setRight(r.root),r.root&&r.root.setParent(e.root),this.root=e.root}else this.root=r.root;n.unlink(),this.root&&this.updateWeight(this.root)}deleteRange(n,e){if(!e){this.splayNode(n),this.cutOffRight(n);return}this.splayNode(n),this.splayNode(e),e.getLeft()!=n&&this.rotateRight(n),this.cutOffRight(n)}cutOffRight(n){const e=[];this.traversePostorder(n.getRight(),e);for(const r of e)r.initWeight();this.updateTreeWeight(n)}toTestString(){const n=[];return this.traverseInorder(this.root,n),n.map(e=>`[${e.getWeight()},${e.getLength()}]${e.getValue()||""}`).join("")}checkWeight(){const n=[];this.traverseInorder(this.root,n);for(const e of n)if(e.getWeight()!=e.getLength()+e.getLeftWeight()+e.getRightWeight())return!1;return!0}getRightmost(){let n=this.root;for(;n.hasRight();)n=n.getRight();return n}traverseInorder(n,e){n&&(this.traverseInorder(n.getLeft(),e),e.push(n),this.traverseInorder(n.getRight(),e))}traversePostorder(n,e){n&&(this.traversePostorder(n.getLeft(),e),this.traversePostorder(n.getRight(),e),e.push(n))}rotateLeft(n){const e=n.getParent();e.hasParent()?e===e.getParent().getLeft()?e.getParent().setLeft(n):e.getParent().setRight(n):this.root=n,n.setParent(e.getParent()),e.setRight(n.getLeft()),e.hasRight()&&e.getRight().setParent(e),n.setLeft(e),n.getLeft().setParent(n),this.updateWeight(e),this.updateWeight(n)}rotateRight(n){const e=n.getParent();e.hasParent()?e===e.getParent().getLeft()?e.getParent().setLeft(n):e.getParent().setRight(n):this.root=n,n.setParent(e.getParent()),e.setLeft(n.getRight()),e.hasLeft()&&e.getLeft().setParent(e),n.setRight(e),n.getRight().setParent(n),this.updateWeight(e),this.updateWeight(n)}isLeftChild(n){return n&&n.hasParent()?n.getParent().getLeft()===n:!1}isRightChild(n){return n&&n.hasParent()?n.getParent().getRight()===n:!1}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var hn=null;try{hn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function St(s,n,e){this.low=s|0,this.high=n|0,this.unsigned=!!e}St.prototype.__isLong__;Object.defineProperty(St.prototype,"__isLong__",{value:!0});function Se(s){return(s&&s.__isLong__)===!0}function Sv(s){var n=Math.clz32(s&-s);return s?31-n:n}St.isLong=Se;var Tv={},bv={};function Ba(s,n){var e,r,l;return n?(s>>>=0,(l=0<=s&&s<256)&&(r=bv[s],r)?r:(e=bt(s,0,!0),l&&(bv[s]=e),e)):(s|=0,(l=-128<=s&&s<128)&&(r=Tv[s],r)?r:(e=bt(s,s<0?-1:0,!1),l&&(Tv[s]=e),e))}St.fromInt=Ba;function dn(s,n){if(isNaN(s))return n?dr:An;if(n){if(s<0)return dr;if(s>=o0)return c0}else{if(s<=-9223372036854776e3)return Oe;if(s+1>=F1)return u0}return s<0?dn(-s,n).neg():bt(s%ks|0,s/ks|0,n)}St.fromNumber=dn;function bt(s,n,e){return new St(s,n,e)}St.fromBits=bt;var Fu=Math.pow;function Td(s,n,e){if(s.length===0)throw Error("empty string");if(typeof n=="number"?(e=n,n=!1):n=!!n,s==="NaN"||s==="Infinity"||s==="+Infinity"||s==="-Infinity")return n?dr:An;if(e=e||10,e<2||36<e)throw RangeError("radix");var r;if((r=s.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return Td(s.substring(1),n,e).neg();for(var l=dn(Fu(e,8)),c=An,h=0;h<s.length;h+=8){var m=Math.min(8,s.length-h),p=parseInt(s.substring(h,h+m),e);if(m<8){var y=dn(Fu(e,m));c=c.mul(y).add(dn(p))}else c=c.mul(l),c=c.add(dn(p))}return c.unsigned=n,c}St.fromString=Td;function pn(s,n){return typeof s=="number"?dn(s,n):typeof s=="string"?Td(s,n):bt(s.low,s.high,typeof n=="boolean"?n:s.unsigned)}St.fromValue=pn;var wv=65536,_1=1<<24,ks=wv*wv,o0=ks*ks,F1=o0/2,Av=Ba(_1),An=Ba(0);St.ZERO=An;var dr=Ba(0,!0);St.UZERO=dr;var bs=Ba(1);St.ONE=bs;var l0=Ba(1,!0);St.UONE=l0;var cd=Ba(-1);St.NEG_ONE=cd;var u0=bt(-1,2147483647,!1);St.MAX_VALUE=u0;var c0=bt(-1,-1,!0);St.MAX_UNSIGNED_VALUE=c0;var Oe=bt(0,-2147483648,!1);St.MIN_VALUE=Oe;var P=St.prototype;P.toInt=function(){return this.unsigned?this.low>>>0:this.low};P.toNumber=function(){return this.unsigned?(this.high>>>0)*ks+(this.low>>>0):this.high*ks+(this.low>>>0)};P.toString=function(n){if(n=n||10,n<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Oe)){var e=dn(n),r=this.div(e),l=r.mul(e).sub(this);return r.toString(n)+l.toInt().toString(n)}else return"-"+this.neg().toString(n);for(var c=dn(Fu(n,6),this.unsigned),h=this,m="";;){var p=h.div(c),y=h.sub(p.mul(c)).toInt()>>>0,T=y.toString(n);if(h=p,h.isZero())return T+m;for(;T.length<6;)T="0"+T;m=""+T+m}};P.getHighBits=function(){return this.high};P.getHighBitsUnsigned=function(){return this.high>>>0};P.getLowBits=function(){return this.low};P.getLowBitsUnsigned=function(){return this.low>>>0};P.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Oe)?64:this.neg().getNumBitsAbs();for(var n=this.high!=0?this.high:this.low,e=31;e>0&&(n&1<<e)==0;e--);return this.high!=0?e+33:e+1};P.isSafeInteger=function(){var n=this.high>>21;return n?this.unsigned?!1:n===-1&&!(this.low===0&&this.high===-2097152):!0};P.isZero=function(){return this.high===0&&this.low===0};P.eqz=P.isZero;P.isNegative=function(){return!this.unsigned&&this.high<0};P.isPositive=function(){return this.unsigned||this.high>=0};P.isOdd=function(){return(this.low&1)===1};P.isEven=function(){return(this.low&1)===0};P.equals=function(n){return Se(n)||(n=pn(n)),this.unsigned!==n.unsigned&&this.high>>>31===1&&n.high>>>31===1?!1:this.high===n.high&&this.low===n.low};P.eq=P.equals;P.notEquals=function(n){return!this.eq(n)};P.neq=P.notEquals;P.ne=P.notEquals;P.lessThan=function(n){return this.comp(n)<0};P.lt=P.lessThan;P.lessThanOrEqual=function(n){return this.comp(n)<=0};P.lte=P.lessThanOrEqual;P.le=P.lessThanOrEqual;P.greaterThan=function(n){return this.comp(n)>0};P.gt=P.greaterThan;P.greaterThanOrEqual=function(n){return this.comp(n)>=0};P.gte=P.greaterThanOrEqual;P.ge=P.greaterThanOrEqual;P.compare=function(n){if(Se(n)||(n=pn(n)),this.eq(n))return 0;var e=this.isNegative(),r=n.isNegative();return e&&!r?-1:!e&&r?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1};P.comp=P.compare;P.negate=function(){return!this.unsigned&&this.eq(Oe)?Oe:this.not().add(bs)};P.neg=P.negate;P.add=function(n){Se(n)||(n=pn(n));var e=this.high>>>16,r=this.high&65535,l=this.low>>>16,c=this.low&65535,h=n.high>>>16,m=n.high&65535,p=n.low>>>16,y=n.low&65535,T=0,N=0,B=0,R=0;return R+=c+y,B+=R>>>16,R&=65535,B+=l+p,N+=B>>>16,B&=65535,N+=r+m,T+=N>>>16,N&=65535,T+=e+h,T&=65535,bt(B<<16|R,T<<16|N,this.unsigned)};P.subtract=function(n){return Se(n)||(n=pn(n)),this.add(n.neg())};P.sub=P.subtract;P.multiply=function(n){if(this.isZero())return this;if(Se(n)||(n=pn(n)),hn){var e=hn.mul(this.low,this.high,n.low,n.high);return bt(e,hn.get_high(),this.unsigned)}if(n.isZero())return this.unsigned?dr:An;if(this.eq(Oe))return n.isOdd()?Oe:An;if(n.eq(Oe))return this.isOdd()?Oe:An;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(Av)&&n.lt(Av))return dn(this.toNumber()*n.toNumber(),this.unsigned);var r=this.high>>>16,l=this.high&65535,c=this.low>>>16,h=this.low&65535,m=n.high>>>16,p=n.high&65535,y=n.low>>>16,T=n.low&65535,N=0,B=0,R=0,V=0;return V+=h*T,R+=V>>>16,V&=65535,R+=c*T,B+=R>>>16,R&=65535,R+=h*y,B+=R>>>16,R&=65535,B+=l*T,N+=B>>>16,B&=65535,B+=c*y,N+=B>>>16,B&=65535,B+=h*p,N+=B>>>16,B&=65535,N+=r*T+l*y+c*p+h*m,N&=65535,bt(R<<16|V,N<<16|B,this.unsigned)};P.mul=P.multiply;P.divide=function(n){if(Se(n)||(n=pn(n)),n.isZero())throw Error("division by zero");if(hn){if(!this.unsigned&&this.high===-2147483648&&n.low===-1&&n.high===-1)return this;var e=(this.unsigned?hn.div_u:hn.div_s)(this.low,this.high,n.low,n.high);return bt(e,hn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?dr:An;var r,l,c;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return dr;if(n.gt(this.shru(1)))return l0;c=dr}else{if(this.eq(Oe)){if(n.eq(bs)||n.eq(cd))return Oe;if(n.eq(Oe))return bs;var h=this.shr(1);return r=h.div(n).shl(1),r.eq(An)?n.isNegative()?bs:cd:(l=this.sub(n.mul(r)),c=r.add(l.div(n)),c)}else if(n.eq(Oe))return this.unsigned?dr:An;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();c=An}for(l=this;l.gte(n);){r=Math.max(1,Math.floor(l.toNumber()/n.toNumber()));for(var m=Math.ceil(Math.log(r)/Math.LN2),p=m<=48?1:Fu(2,m-48),y=dn(r),T=y.mul(n);T.isNegative()||T.gt(l);)r-=p,y=dn(r,this.unsigned),T=y.mul(n);y.isZero()&&(y=bs),c=c.add(y),l=l.sub(T)}return c};P.div=P.divide;P.modulo=function(n){if(Se(n)||(n=pn(n)),hn){var e=(this.unsigned?hn.rem_u:hn.rem_s)(this.low,this.high,n.low,n.high);return bt(e,hn.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))};P.mod=P.modulo;P.rem=P.modulo;P.not=function(){return bt(~this.low,~this.high,this.unsigned)};P.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};P.clz=P.countLeadingZeros;P.countTrailingZeros=function(){return this.low?Sv(this.low):Sv(this.high)+32};P.ctz=P.countTrailingZeros;P.and=function(n){return Se(n)||(n=pn(n)),bt(this.low&n.low,this.high&n.high,this.unsigned)};P.or=function(n){return Se(n)||(n=pn(n)),bt(this.low|n.low,this.high|n.high,this.unsigned)};P.xor=function(n){return Se(n)||(n=pn(n)),bt(this.low^n.low,this.high^n.high,this.unsigned)};P.shiftLeft=function(n){return Se(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?bt(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):bt(0,this.low<<n-32,this.unsigned)};P.shl=P.shiftLeft;P.shiftRight=function(n){return Se(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?bt(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):bt(this.high>>n-32,this.high>=0?0:-1,this.unsigned)};P.shr=P.shiftRight;P.shiftRightUnsigned=function(n){return Se(n)&&(n=n.toInt()),(n&=63)===0?this:n<32?bt(this.low>>>n|this.high<<32-n,this.high>>>n,this.unsigned):n===32?bt(this.high,0,this.unsigned):bt(this.high>>>n-32,0,this.unsigned)};P.shru=P.shiftRightUnsigned;P.shr_u=P.shiftRightUnsigned;P.rotateLeft=function(n){var e;return Se(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?bt(this.high,this.low,this.unsigned):n<32?(e=32-n,bt(this.low<<n|this.high>>>e,this.high<<n|this.low>>>e,this.unsigned)):(n-=32,e=32-n,bt(this.high<<n|this.low>>>e,this.low<<n|this.high>>>e,this.unsigned))};P.rotl=P.rotateLeft;P.rotateRight=function(n){var e;return Se(n)&&(n=n.toInt()),(n&=63)===0?this:n===32?bt(this.high,this.low,this.unsigned):n<32?(e=32-n,bt(this.high<<e|this.low>>>n,this.low<<e|this.high>>>n,this.unsigned)):(n-=32,e=32-n,bt(this.low<<e|this.high>>>n,this.high<<e|this.low>>>n,this.unsigned))};P.rotr=P.rotateRight;P.toSigned=function(){return this.unsigned?bt(this.low,this.high,!1):this};P.toUnsigned=function(){return this.unsigned?this:bt(this.low,this.high,!0)};P.toBytes=function(n){return n?this.toBytesLE():this.toBytesBE()};P.toBytesLE=function(){var n=this.high,e=this.low;return[e&255,e>>>8&255,e>>>16&255,e>>>24,n&255,n>>>8&255,n>>>16&255,n>>>24]};P.toBytesBE=function(){var n=this.high,e=this.low;return[n>>>24,n>>>16&255,n>>>8&255,n&255,e>>>24,e>>>16&255,e>>>8&255,e&255]};St.fromBytes=function(n,e,r){return r?St.fromBytesLE(n,e):St.fromBytesBE(n,e)};St.fromBytesLE=function(n,e){return new St(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,e)};St.fromBytesBE=function(n,e){return new St(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],e)};typeof BigInt=="function"&&(St.fromBigInt=function(n,e){var r=Number(BigInt.asIntN(32,n)),l=Number(BigInt.asIntN(32,n>>BigInt(32)));return bt(r,l,e)},St.fromValue=function(n,e){return typeof n=="bigint"?fromBigInt(n,e):pn(n,e)},P.toBigInt=function(){var n=BigInt(this.low>>>0),e=BigInt(this.unsigned?this.high>>>0:this.high);return e<<BigInt(32)|n});var ne=(s=>(s[s.Null=0]="Null",s[s.Boolean=1]="Boolean",s[s.Integer=2]="Integer",s[s.Long=3]="Long",s[s.Double=4]="Double",s[s.String=5]="String",s[s.Bytes=6]="Bytes",s[s.Date=7]="Date",s))(ne||{});class Kt extends tl{constructor(e,r){super(r);d(this,"valueType");d(this,"value");this.valueType=Kt.getPrimitiveType(e),this.value=e===void 0?null:e}static of(e,r){return new Kt(e,r)}static valueFromBytes(e,r){switch(e){case 0:return null;case 1:return!!r[0];case 2:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 4:{const l=new DataView(r.buffer);return r.forEach(function(c,h){l.setUint8(h,c)}),l.getFloat64(0,!0)}case 5:return new TextDecoder("utf-8").decode(r);case 3:return St.fromBytesLE(Array.from(r));case 6:return r;case 7:return new Date(St.fromBytesLE(Array.from(r),!0).toNumber());default:throw new C(x.ErrUnimplemented,`unimplemented type: ${e}`)}}getValueSize(){switch(this.valueType){case 0:return 8;case 1:return 4;case 2:return 4;case 3:return 8;case 4:return 8;case 5:return this.value.length*2;case 6:return this.value.length;case 7:return 8;default:throw new C(x.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}getDataSize(){return{data:this.getValueSize(),meta:this.getMetaUsage()}}toJSON(){return this.valueType===5?`"${Yn(this.value)}"`:`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_PRIMITIVE"}}deepcopy(){const e=Kt.of(this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e.setRemovedAt(this.getRemovedAt()),e}getType(){return this.valueType}static getPrimitiveType(e){switch(typeof e){case"undefined":return 0;case"boolean":return 1;case"number":return this.isInteger(e)?2:4;case"string":return 5;case"object":if(e===null)return 0;if(e instanceof St)return 3;if(e instanceof Uint8Array)return 6;if(e instanceof Date)return 7}}static isSupport(e){return Kt.getPrimitiveType(e)!==void 0}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===2||e===3||e===4}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:return new Uint8Array;case 1:return this.value?new Uint8Array([1]):new Uint8Array([0]);case 2:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 4:{const e=this.value,r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,e,!0),r}case 5:return new TextEncoder().encode(this.value);case 3:{const r=this.value.toBytesLE();return Uint8Array.from(r)}case 6:return this.value;case 7:{const e=this.value,r=St.fromNumber(e.getTime(),!0).toBytesLE();return Uint8Array.from(r)}default:throw new C(x.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}}class Wu extends s0{constructor(e){super(e);d(this,"prev");d(this,"next");this.value=e}static createAfter(e,r){const l=new Wu(r),c=e.next;return e.next=l,l.prev=e,l.next=c,c&&(c.prev=l),l}remove(e){return this.value.remove(e)}getCreatedAt(){return this.value.getCreatedAt()}getPositionedAt(){return this.value.getPositionedAt()}release(){this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.prev=void 0,this.next=void 0}getLength(){return this.value.isRemoved()?0:1}getPrev(){return this.prev}getNext(){return this.next}getValue(){return this.value}isRemoved(){return this.value.isRemoved()}}class Qo{constructor(){d(this,"dummyHead");d(this,"last");d(this,"nodeMapByIndex");d(this,"nodeMapByCreatedAt");const n=Kt.of(0,Rs);n.setRemovedAt(Rs),this.dummyHead=new Wu(n),this.last=this.dummyHead,this.nodeMapByIndex=new Zo,this.nodeMapByCreatedAt=new Map,this.nodeMapByIndex.insert(this.dummyHead),this.nodeMapByCreatedAt.set(this.dummyHead.getCreatedAt().toIDString(),this.dummyHead)}static create(){return new Qo}get length(){return this.nodeMapByIndex.length}findNextBeforeExecutedAt(n,e){let r=this.nodeMapByCreatedAt.get(n.toIDString());if(!r)throw new C(x.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);for(;r.getNext()&&r.getNext().getPositionedAt().after(e);)r=r.getNext();return r}release(n){this.last===n&&(this.last=n.getPrev()),n.release(),this.nodeMapByIndex.delete(n),this.nodeMapByCreatedAt.delete(n.getValue().getCreatedAt().toIDString())}insertAfter(n,e,r=e.getCreatedAt()){const l=this.findNextBeforeExecutedAt(n,r),c=Wu.createAfter(l,e);l===this.last&&(this.last=c),this.nodeMapByIndex.insertAfter(l,c),this.nodeMapByCreatedAt.set(c.getCreatedAt().toIDString(),c)}moveAfter(n,e,r){const l=this.nodeMapByCreatedAt.get(n.toIDString());if(!l)throw new C(x.ErrInvalidArgument,`cant find the given node: ${n.toIDString()}`);const c=this.nodeMapByCreatedAt.get(e.toIDString());if(!c)throw new C(x.ErrInvalidArgument,`cant find the given node: ${e.toIDString()}`);l!==c&&(!c.getValue().getMovedAt()||r.after(c.getValue().getMovedAt()))&&(this.release(c),this.insertAfter(l.getCreatedAt(),c.getValue(),r),c.getValue().setMovedAt(r))}insert(n){this.insertAfter(this.last.getCreatedAt(),n)}getByID(n){return this.nodeMapByCreatedAt.get(n.toIDString())}subPathOf(n){const e=this.nodeMapByCreatedAt.get(n.toIDString());if(e)return String(this.nodeMapByIndex.indexOf(e))}purge(n){const e=this.nodeMapByCreatedAt.get(n.getCreatedAt().toIDString());if(!e)throw new C(x.ErrInvalidArgument,`fail to find the given createdAt: ${n.getCreatedAt().toIDString()}`);this.release(e)}getByIndex(n){if(n>=this.length)return;const[e,r]=this.nodeMapByIndex.find(n);let l=e;if(n===0&&e===this.dummyHead||r>0)do l&&(l=l.getNext());while(l&&l.isRemoved());return l}getPrevCreatedAt(n){let e=this.nodeMapByCreatedAt.get(n.toIDString());do e=e.getPrev();while(this.dummyHead!==e&&e.isRemoved());return e.getValue().getCreatedAt()}delete(n,e){const r=this.nodeMapByCreatedAt.get(n.toIDString()),l=r.isRemoved();return r.remove(e)&&!l&&this.nodeMapByIndex.splayNode(r),r.getValue()}deleteByIndex(n,e){const r=this.getByIndex(n);if(r)return r.remove(e)&&this.nodeMapByIndex.splayNode(r),r.getValue()}getHead(){return this.dummyHead.getValue()}getLast(){return this.last.getValue()}getLastCreatedAt(){return this.last.getCreatedAt()}toTestString(){const n=[];for(const e of this){const r=`${e.getCreatedAt().toIDString()}:${e.getValue().toJSON()}`;e.isRemoved()?n.push(`{${r}}`):n.push(`[${r}]`)}return n.join("")}*[Symbol.iterator](){let n=this.dummyHead.getNext();for(;n;)yield n,n=n.getNext()}}class Ye extends _r{constructor(e,r){super(e);d(this,"elements");this.elements=r}static create(e,r){if(!r)return new Ye(e,Qo.create());const l=Qo.create();for(const c of r)l.insertAfter(l.getLastCreatedAt(),c.deepcopy());return new Ye(e,l)}subPathOf(e){return this.elements.subPathOf(e)}purge(e){this.elements.purge(e)}insertAfter(e,r){this.elements.insertAfter(e,r)}moveAfter(e,r,l){this.elements.moveAfter(e,r,l)}get(e){const r=this.elements.getByIndex(e);return r==null?void 0:r.getValue()}getByID(e){const r=this.elements.getByID(e);return r==null?void 0:r.getValue()}getHead(){return this.elements.getHead()}getLast(){return this.elements.getLast()}getPrevCreatedAt(e){return this.elements.getPrevCreatedAt(e)}delete(e,r){return this.elements.delete(e,r)}deleteByIndex(e,r){return this.elements.deleteByIndex(e,r)}getLastCreatedAt(){return this.elements.getLastCreatedAt()}get length(){return this.elements.length}*[Symbol.iterator](){for(const e of this.elements)e.isRemoved()||(yield e.getValue())}toTestString(){return this.elements.toTestString()}getDescendants(e){for(const r of this.elements){const l=r.getValue();if(e(l,this))return;l instanceof _r&&l.getDescendants(e)}}getDataSize(){return{data:0,meta:this.getMetaUsage()}}toJSON(){const e=[];for(const r of this)e.push(r.toJSON());return`[${e.join(",")}]`}toJS(){return JSON.parse(this.toJSON())}toJSForTest(){const e={};for(let r=0;r<this.length;r++){const{createdAt:l,value:c,type:h}=this.get(r).toJSForTest();e[r]={key:String(r),createdAt:l,value:c,type:h}}return{createdAt:this.getCreatedAt().toTestString(),value:e,type:"YORKIE_ARRAY"}}toSortedJSON(){return this.toJSON()}getElements(){return this.elements}deepcopy(){const e=Ye.create(this.getCreatedAt());for(const r of this.elements)e.elements.insertAfter(e.getLastCreatedAt(),r.getValue().deepcopy());return e.remove(this.getRemovedAt()),e}}class ea extends xn{constructor(e,r,l){super(e,l);d(this,"createdAt");this.createdAt=r}static create(e,r,l){return new ea(e,r,l)}execute(e,r){var y;const l=e.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new C(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof _r))throw new C(x.ErrInvalidArgument,`only object and array can execute remove: ${l}`);if(r===Mt.UndoRedo){let T=l.getByID(this.createdAt);for(;T;){if(T.getRemovedAt())return;T=(y=e.findElementPairByCreatedAt(T.getCreatedAt()))==null?void 0:y.parent}}const c=l.subPathOf(this.createdAt),h=this.toReverseOperation(l),m=l.delete(this.createdAt,this.getExecutedAt());return e.registerRemovedElement(m),{opInfos:l instanceof Ye?[{type:"remove",path:e.createPath(this.getParentCreatedAt()),index:Number(c)}]:[{type:"remove",path:e.createPath(this.getParentCreatedAt()),key:c}],reverseOp:h}}toReverseOperation(e){if(e instanceof Ce){const r=e.subPathOf(this.createdAt);if(r!==void 0){const l=e.get(r);if(l!==void 0)return Ra.create(r,l.deepcopy(),this.getParentCreatedAt())}}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.REMOVE.${this.createdAt.toTestString()}`}getCreatedAt(){return this.createdAt}}class Ra extends xn{constructor(e,r,l,c){super(l,c);d(this,"key");d(this,"value");this.key=e,this.value=r}static create(e,r,l,c){return new Ra(e,r,l,c)}execute(e,r){var y;const l=e.findByCreatedAt(this.getParentCreatedAt());if(!l)throw new C(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(l instanceof Ce))throw new C(x.ErrInvalidArgument,"fail to execute, only object can execute set");if(r===Mt.UndoRedo){let T=l;for(;T;){if(T.getRemovedAt())return;T=(y=e.findElementPairByCreatedAt(T.getCreatedAt()))==null?void 0:y.parent}}const c=l.get(this.key),h=this.toReverseOperation(c),m=this.value.deepcopy(),p=l.set(this.key,m,this.getExecutedAt());return r===Mt.UndoRedo&&e.findByCreatedAt(m.getCreatedAt())&&e.deregisterElement(m),e.registerElement(m,l),p&&e.registerRemovedElement(p),{opInfos:[{type:"set",path:e.createPath(this.getParentCreatedAt()),key:this.key}],reverseOp:h}}toReverseOperation(e){let r=ea.create(this.getParentCreatedAt(),this.value.getCreatedAt());return e!==void 0&&!e.isRemoved()&&(r=Ra.create(this.key,e.deepcopy(),this.getParentCreatedAt())),r}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.SET.${this.key}=${this.value.toSortedJSON()}`}getKey(){return this.key}getValue(){return this.value}}class el extends xn{constructor(e,r,l,c){super(e,c);d(this,"prevCreatedAt");d(this,"value");this.prevCreatedAt=r,this.value=l}static create(e,r,l,c){return new el(e,r,l,c)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new C(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Ye))throw new C(x.ErrInvalidArgument,"fail to execute, only array can execute add");const l=r,c=this.value.deepcopy();return l.insertAfter(this.prevCreatedAt,c),e.registerElement(c,l),{opInfos:[{type:"add",path:e.createPath(this.getParentCreatedAt()),index:Number(l.subPathOf(this.getEffectedCreatedAt()))}]}}getEffectedCreatedAt(){return this.value.getCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.ADD.${this.value.toJSON()}`}getPrevCreatedAt(){return this.prevCreatedAt}getValue(){return this.value}}class Xr extends xn{constructor(e,r,l,c){super(e,c);d(this,"prevCreatedAt");d(this,"createdAt");this.prevCreatedAt=r,this.createdAt=l}static create(e,r,l,c){return new Xr(e,r,l,c)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new C(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Ye))throw new C(x.ErrInvalidArgument,"fail to execute, only array can execute move");const l=r,c=Number(l.subPathOf(this.createdAt));l.moveAfter(this.prevCreatedAt,this.createdAt,this.getExecutedAt());const h=Number(l.subPathOf(this.createdAt));return{opInfos:[{type:"move",path:e.createPath(this.getParentCreatedAt()),index:h,previousIndex:c}]}}getEffectedCreatedAt(){return this.createdAt}toTestString(){return`${this.getParentCreatedAt().toTestString()}.MOVE`}getPrevCreatedAt(){return this.prevCreatedAt}getCreatedAt(){return this.createdAt}}class Na{constructor(n,e,r,l){d(this,"key");d(this,"value");d(this,"updatedAt");d(this,"_isRemoved");this.key=n,this.value=e,this.updatedAt=r,this._isRemoved=l}static of(n,e,r,l){return new Na(n,e,r,l)}getKey(){return this.key}getValue(){return this.value}getUpdatedAt(){return this.updatedAt}isRemoved(){return this._isRemoved}toIDString(){return`${this.updatedAt.toIDString()}:${this.key}`}getRemovedAt(){if(this._isRemoved)return this.updatedAt}getDataSize(){return{data:(this.key.length+this.value.length)*2,meta:Qr}}}class pr{constructor(){d(this,"nodeMapByKey");d(this,"numberOfRemovedElement");this.nodeMapByKey=new Map,this.numberOfRemovedElement=0}static create(){return new pr}getNodeMapByKey(){return this.nodeMapByKey}set(n,e,r){const l=this.nodeMapByKey.get(n);if(l&&l.isRemoved()&&r.after(l.getUpdatedAt())&&(this.numberOfRemovedElement-=1),l===void 0||r.after(l.getUpdatedAt())){const c=Na.of(n,e,r,!1);return this.nodeMapByKey.set(n,c),l!==void 0&&l.isRemoved()?[l,c]:[void 0,c]}return l.isRemoved()?[l,void 0]:[void 0,void 0]}setInternal(n,e,r,l){const c=Na.of(n,e,r,l);this.nodeMapByKey.set(n,c),l&&this.numberOfRemovedElement++}remove(n,e){const r=this.nodeMapByKey.get(n),l=[];if(r===void 0||e.after(r.getUpdatedAt())){if(r===void 0){this.numberOfRemovedElement+=1;const m=Na.of(n,"",e,!0);return this.nodeMapByKey.set(n,m),l.push(m),l}const c=r.isRemoved();c||(this.numberOfRemovedElement+=1),c&&l.push(r);const h=Na.of(n,r.getValue(),e,!0);return this.nodeMapByKey.set(n,h),l.push(h),l}return l}has(n){if(this.nodeMapByKey.has(n)){const e=this.nodeMapByKey.get(n);return e!==void 0&&!e.isRemoved()}return!1}get(n){if(this.nodeMapByKey.has(n))return this.nodeMapByKey.get(n).getValue()}deepcopy(){const n=new pr;for(const[,e]of this.nodeMapByKey)n.setInternal(e.getKey(),e.getValue(),e.getUpdatedAt(),e.isRemoved());return n}toJSON(){if(!this.size())return"{}";const n=[];for(const[e,r]of this.nodeMapByKey)r.isRemoved()||n.push(`"${Yn(e)}":"${Yn(r.getValue())}"`);return`{${n.join(",")}}`}size(){return this.nodeMapByKey.size-this.numberOfRemovedElement}toObject(){const n={};for(const[e,r]of this.nodeMapByKey)r.isRemoved()||(n[e]=r.getValue());return n}*[Symbol.iterator](){for(const[,n]of this.nodeMapByKey)yield n}purge(n){const e=this.nodeMapByKey.get(n.getKey());e==null||e.toIDString()!=n.toIDString()||(this.nodeMapByKey.delete(n.getKey()),this.numberOfRemovedElement--)}}class _o{constructor(n){d(this,"attributes");d(this,"content");this.attributes=pr.create(),this.content=n}static create(n){return new _o(n)}get length(){return this.content.length}substring(n,e){const r=new _o(this.content.substring(n,e));return r.attributes=this.attributes.deepcopy(),r}setAttr(n,e,r){return this.attributes.set(n,e,r)}getAttrs(){return this.attributes}toString(){return this.content}getDataSize(){const n={data:0,meta:0};n.data+=this.content.length*2;for(const e of this.attributes){const r=e.getDataSize();n.meta+=r.meta,n.data+=r.data}return n}toJSON(){const n=Yn(this.content),e=this.attributes.toObject(),r=[];for(const[l,c]of Object.entries(e)){const h=JSON.parse(c),m=typeof h=="string"?`"${Yn(l)}":"${Yn(h)}"`:`"${Yn(l)}":${String(h)}`;r.push(m)}return r.sort(),r.length===0?`{"val":"${n}"}`:`{"attrs":{${r.join(",")}},"val":"${n}"}`}getAttributes(){return this.attributes.toObject()}getContent(){return this.content}purge(n){this.attributes&&n instanceof Na&&this.attributes.purge(n)}getGCPairs(){const n=[];for(const e of this.attributes)e.getRemovedAt()&&n.push({parent:this,child:e});return n}}class mn extends tl{constructor(e,r){super(r);d(this,"rgaTreeSplit");this.rgaTreeSplit=e}static create(e,r){return new mn(e,r)}edit(e,r,l,c,h){const m=r?_o.create(r):void 0;if(m&&c)for(const[B,R]of Object.entries(c))m.setAttr(B,R,l);const[p,y,T]=this.rgaTreeSplit.edit(e,l,m,h);return[T.map(B=>({...B,value:B.value?{attributes:gr(B.value.getAttributes()),content:B.value.getContent()}:{attributes:void 0,content:""},type:"content"})),y,[p,p]]}setStyle(e,r,l,c){const[,h]=this.rgaTreeSplit.findNodeWithSplit(e[1],l),[,m]=this.rgaTreeSplit.findNodeWithSplit(e[0],l),p=[],y=this.rgaTreeSplit.findBetween(m,h),T=[];for(const B of y){const R=B.getCreatedAt().getActorID();let V=Vo;c!=null&&(V=c.get(R)?c.get(R):0n),B.canStyle(l,V)&&T.push(B)}const N=[];for(const B of T){if(B.isRemoved())continue;const[R,V]=this.rgaTreeSplit.findIndexesFromRange(B.createPosRange());p.push({type:"style",actor:l.getActorID(),from:R,to:V,value:{attributes:gr(r)}});for(const[Y,X]of Object.entries(r)){const[tt]=B.getValue().setAttr(Y,X,l);tt!==void 0&&N.push({parent:B.getValue(),child:tt})}}return[N,p]}indexRangeToPosRange(e,r){const l=this.rgaTreeSplit.indexToPos(e);return e===r?[l,l]:[l,this.rgaTreeSplit.indexToPos(r)]}get length(){return this.rgaTreeSplit.length}getTreeByIndex(){return this.rgaTreeSplit.getTreeByIndex()}getTreeByID(){return this.rgaTreeSplit.getTreeByID()}getDataSize(){const e={data:0,meta:0};for(const r of this.rgaTreeSplit){if(r.isRemoved())continue;const l=r.getDataSize();e.data+=l.data,e.meta+=l.meta}return{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){const e=[];for(const r of this.rgaTreeSplit)r.isRemoved()||e.push(r.getValue().toJSON());return`[${e.join(",")}]`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TEXT"}}toString(){return this.rgaTreeSplit.toString()}values(){const e=[];for(const r of this.rgaTreeSplit)if(!r.isRemoved()){const l=r.getValue();e.push({attributes:gr(l.getAttributes()),content:l.getContent()})}return e}getRGATreeSplit(){return this.rgaTreeSplit}toTestString(){return this.rgaTreeSplit.toTestString()}deepcopy(){const e=new mn(this.rgaTreeSplit.deepcopy(),this.getCreatedAt());return e.remove(this.getRemovedAt()),e}findIndexesFromRange(e){return this.rgaTreeSplit.findIndexesFromRange(e)}getGCPairs(){const e=[];for(const r of this.rgaTreeSplit){r.getRemovedAt()&&e.push({parent:this.rgaTreeSplit,child:r});for(const l of r.getValue().getGCPairs())e.push(l)}return e}}class nl extends xn{constructor(e,r,l,c,h,m){super(e,m);d(this,"fromPos");d(this,"toPos");d(this,"content");d(this,"attributes");this.fromPos=r,this.toPos=l,this.content=c,this.attributes=h}static create(e,r,l,c,h,m){return new nl(e,r,l,c,h,m)}execute(e,r,l){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new C(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof mn))throw new C(x.ErrInvalidArgument,"fail to execute, only Text can execute edit");const h=c,[m,p]=h.edit([this.fromPos,this.toPos],this.content,this.getExecutedAt(),Object.fromEntries(this.attributes),l);for(const y of p)e.registerGCPair(y);return{opInfos:m.map(({from:y,to:T,value:N})=>({type:"edit",from:y,to:T,value:N,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.content;return`${e}.EDIT(${r},${l},${c})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContent(){return this.content}getAttributes(){return this.attributes||new Map}}class il extends xn{constructor(e,r,l,c,h){super(e,h);d(this,"fromPos");d(this,"toPos");d(this,"attributes");this.fromPos=r,this.toPos=l,this.attributes=c}static create(e,r,l,c,h){return new il(e,r,l,c,h)}execute(e,r,l){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new C(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof mn))throw new C(x.ErrInvalidArgument,"fail to execute, only Text can execute edit");const h=c,[m,p]=h.setStyle([this.fromPos,this.toPos],this.attributes?Object.fromEntries(this.attributes):{},this.getExecutedAt(),l);for(const y of m)e.registerGCPair(y);return{opInfos:p.map(({from:y,to:T,value:N})=>({type:"style",from:y,to:T,value:N,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=this.fromPos.toTestString(),l=this.toPos.toTestString(),c=this.attributes;return`${e}.STYL(${r},${l},${JSON.stringify(c)})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}}const W1=2,tw="root",Gn="text";function Uo(s,n){let e=0;const r=s.children;for(let l=0;l<n;l++){const c=r[l];!c||c.isRemoved||(e+=c.paddedSize)}return e}class ew{constructor(n,e=[]){d(this,"type");d(this,"parent");d(this,"_children");d(this,"size");if(this.type=n,this.size=0,this._children=e,this.isText&&this._children.length>0)throw new C(x.ErrRefused,"Text node cannot have children")}updateAncestorsSize(){let n=this.parent;const e=this.isRemoved?-1:1;for(;n&&(n.size+=this.paddedSize*e,!n.isRemoved);)n=n.parent}updateDescendantsSize(){let n=0;for(const e of this._children){const r=e.updateDescendantsSize();e.isRemoved||(n+=r)}return this.size+=n,this.paddedSize}get isText(){return this.type===Gn}get paddedSize(){return this.size+(this.isText?0:W1)}isAncestorOf(n){return nw(this,n)}get nextSibling(){const n=this.parent.findOffset(this),e=this.parent.children[n+1];if(e)return e}get prevSibling(){const n=this.parent.findOffset(this),e=this.parent.children[n-1];if(e)return e}splitText(n,e){if(n===0||n===this.size)return;const r=this.value.slice(0,n),l=this.value.slice(n);if(!l.length)return;this.value=r;const c=this.cloneText(n+e);return c.value=l,this.parent.insertAfterInternal(c,this),c}get children(){return this._children.filter(n=>!n.isRemoved)}get allChildren(){return[...this._children]}hasTextChild(){return this.children.length>0&&this.children.every(n=>n.isText)}getChildrenText(){return this.isText?this.value:this.hasTextChild()?this.children.map(n=>n.value).join(""):""}append(...n){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");this._children.push(...n);for(const e of n)e.parent=this,e.updateAncestorsSize()}prepend(...n){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");this._children.unshift(...n);for(const e of n)e.parent=this}insertBefore(n,e){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(e);if(r===-1)throw new C(x.ErrInvalidArgument,"child not found");this.insertAtInternal(n,r),n.updateAncestorsSize()}insertAfter(n,e){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(e);if(r===-1)throw new C(x.ErrInvalidArgument,"child not found");this.insertAtInternal(n,r+1),n.updateAncestorsSize()}insertAt(n,e){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");this.insertAtInternal(n,e),n.updateAncestorsSize()}removeChild(n){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");const e=this._children.indexOf(n);if(e===-1)throw new C(x.ErrInvalidArgument,"child not found");this._children.splice(e,1),n.parent=void 0}splitElement(n,e){const r=this.cloneElement(e);this.parent.insertAfterInternal(r,this),r.updateAncestorsSize();const l=this.children.slice(0,n),c=this.children.slice(n);this._children=l,r._children=c,this.size=this._children.reduce((h,m)=>h+m.paddedSize,0),r.size=r._children.reduce((h,m)=>h+m.paddedSize,0);for(const h of r._children)h.parent=r;return r}insertAfterInternal(n,e){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");const r=this._children.indexOf(e);if(r===-1)throw new C(x.ErrInvalidArgument,"child not found");this.insertAtInternal(n,r+1)}insertAtInternal(n,e){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");this._children.splice(e,0,n),n.parent=this}findOffset(n){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");if(n.isRemoved){const e=this._children.indexOf(n);return this.allChildren.splice(0,e).filter(l=>!l.isRemoved).length}return this.children.indexOf(n)}findBranchOffset(n){if(this.isText)throw new C(x.ErrRefused,"Text node cannot have children");let e=n;for(;e;){const r=this._children.indexOf(e);if(r!==-1)return r;e=e.parent}return-1}}function nw(s,n){if(s===n)return!1;for(;n.parent;){if(n.parent===s)return!0;n=n.parent}return!1}var Wt=(s=>(s.Start="Start",s.End="End",s.Text="Text",s))(Wt||{});function f0(s,n,e,r){if(n>e)throw new C(x.ErrInvalidArgument,`from is greater than to: ${n} > ${e}`);if(n>s.size)throw new C(x.ErrInvalidArgument,`from is out of range: ${n} > ${s.size}`);if(e>s.size)throw new C(x.ErrInvalidArgument,`to is out of range: ${e} > ${s.size}`);if(n===e)return;let l=0;for(const c of s.children){if(n-c.paddedSize<l&&l<e){const h=c.isText?n-l:n-l-1,m=c.isText?e-l:e-l-1,p=!c.isText&&h<0,y=!c.isText&&m>c.size;(c.isText||p)&&r([c,c.isText?"Text":"Start"],y),f0(c,Math.max(0,h),Math.min(m,c.size),r),y&&r([c,"End"],y)}l+=c.paddedSize}}function h0(s,n,e=0){for(const r of s.children)h0(r,n,e+1);n(s,e)}function sc(s,n,e=0){for(const r of s._children)sc(r,n,e+1);n(s,e)}function fd(s,n,e=!0){if(n>s.size)throw new C(x.ErrInvalidArgument,`index is out of range: ${n} > ${s.size}`);if(s.isText)return{node:s,offset:n};let r=0,l=0;for(const c of s.children){if(e&&c.isText&&c.size>=n-l)return fd(c,n-l,e);if(n===l)return{node:s,offset:r};if(!e&&c.paddedSize===n-l)return{node:s,offset:r+1};if(c.paddedSize>n-l)return fd(c,n-l-1,e);l+=c.paddedSize,r+=1}return{node:s,offset:r}}function d0(s){return s.isText||s.children.length===0?s:d0(s.children[0])}function iw(s,n){if(s.size<n)throw new C(x.ErrInvalidArgument,"unacceptable path");for(let e=0;e<s.children.length;e++){const r=s.children[e];if(r.size<n)n-=r.size;else{s=r;break}}return{node:s,offset:n}}class rw{constructor(n){d(this,"root");this.root=n}tokensBetween(n,e,r){f0(this.root,n,e,r)}traverse(n){h0(this.root,n,0)}traverseAll(n){sc(this.root,n,0)}findTreePos(n,e=!0){return fd(this.root,n,e)}treePosToPath(n){const e=[];let r=n.node;if(r.isText){const l=r.parent.findOffset(r);if(l===-1)throw new C(x.ErrInvalidArgument,"invalid treePos");const c=Uo(r.parent,l);e.push(c+n.offset),r=r.parent}else if(r.hasTextChild()){const l=Uo(r,n.offset);e.push(l)}else e.push(n.offset);for(;r.parent;){const l=r.parent.findOffset(r);if(l===-1)throw new C(x.ErrInvalidArgument,"invalid treePos");e.push(l),r=r.parent}return e.reverse()}pathToIndex(n){const e=this.pathToTreePos(n);return this.indexOf(e)}pathToTreePos(n){if(!n.length)throw new C(x.ErrInvalidArgument,"unacceptable path");let e=this.root;for(let r=0;r<n.length-1;r++){const l=n[r];if(e=e.children[l],!e)throw new C(x.ErrInvalidArgument,"unacceptable path")}if(e.hasTextChild())return iw(e,n[n.length-1]);if(e.children.length<n[n.length-1])throw new C(x.ErrInvalidArgument,"unacceptable path");return{node:e,offset:n[n.length-1]}}getRoot(){return this.root}get size(){return this.root.size}findPostorderRight(n){const{node:e,offset:r}=n;if(e.isText){if(e.size===r){const l=e.nextSibling;return l||e.parent}return e}return e.children.length===r?e:d0(e.children[r])}indexOf(n){let{node:e}=n;const{offset:r}=n;let l=0,c=1;if(e.isText){l+=r;const h=e.parent,m=h.findOffset(e);if(m===-1)throw new C(x.ErrInvalidArgument,"invalid pos");l+=Uo(h,m),e=e.parent}else l+=Uo(e,r);for(;e!=null&&e.parent;){const h=e.parent,m=h.findOffset(e);if(m===-1)throw new C(x.ErrInvalidArgument,"invalid pos");l+=Uo(h,m),c++,e=e.parent}return l+c-1}indexToPath(n){const e=this.findTreePos(n);return this.treePosToPath(e)}}const aw=(s,n)=>s===n?0:s<n?-1:1;class sw{constructor(n,e,r){d(this,"key");d(this,"value");d(this,"parent");d(this,"left");d(this,"right");d(this,"isRed");this.key=n,this.value=e,this.isRed=r}}class ow{constructor(n){d(this,"stack");this.stack=[],this.traverseInorder(n)}traverseInorder(n){n&&(this.traverseInorder(n.left),this.stack.push({key:n.key,value:n.value}),this.traverseInorder(n.right))}}class g0{constructor(n){d(this,"root");d(this,"comparator");d(this,"counter");this.comparator=typeof n<"u"?n:aw,this.counter=0}put(n,e){return this.root=this.putInternal(n,e,this.root),this.root.isRed=!1,e}get(n){const e=this.getInternal(n,this.root);return e?e.value:void 0}remove(n){!this.isRed(this.root.left)&&!this.isRed(this.root.right)&&(this.root.isRed=!0),this.root=this.removeInternal(this.root,n),this.root&&(this.root.isRed=!1)}getIterator(){return new ow(this.root)}values(){const n=[];for(const e of this.getIterator().stack)n.push(e.value);return n}floorEntry(n){let e=this.root;for(;e;){const r=this.comparator(n,e.key);if(r>0)if(e.right)e.right.parent=e,e=e.right;else return e;else if(r<0)if(e.left)e.left.parent=e,e=e.left;else{let l=e.parent,c=e;for(;l&&c===l.left;)c=l,l=l.parent;return l}else return e}}lastEntry(){if(!this.root)return this.root;let n=this.root;for(;n.right;)n=n.right;return n}size(){return this.counter}isEmpty(){return this.counter===0}getInternal(n,e){for(;e;){const r=this.comparator(n,e.key);if(r===0)return e;r<0?e=e.left:r>0&&(e=e.right)}}putInternal(n,e,r){if(!r)return this.counter+=1,new sw(n,e,!0);const l=this.comparator(n,r.key);return l<0?r.left=this.putInternal(n,e,r.left):l>0?r.right=this.putInternal(n,e,r.right):r.value=e,this.isRed(r.right)&&!this.isRed(r.left)&&(r=this.rotateLeft(r)),this.isRed(r.left)&&this.isRed(r.left.left)&&(r=this.rotateRight(r)),this.isRed(r.left)&&this.isRed(r.right)&&this.flipColors(r),r}removeInternal(n,e){if(this.comparator(e,n.key)<0)!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeInternal(n.left,e);else{if(this.isRed(n.left)&&(n=this.rotateRight(n)),this.comparator(e,n.key)===0&&!n.right){this.counter-=1;return}if(!this.isRed(n.right)&&!this.isRed(n.right.left)&&(n=this.moveRedRight(n)),this.comparator(e,n.key)===0){this.counter-=1;const r=this.min(n.right);n.value=r.value,n.key=r.key,n.right=this.removeMin(n.right)}else n.right=this.removeInternal(n.right,e)}return this.fixUp(n)}min(n){return n.left?this.min(n.left):n}removeMin(n){if(n.left)return!this.isRed(n.left)&&!this.isRed(n.left.left)&&(n=this.moveRedLeft(n)),n.left=this.removeMin(n.left),this.fixUp(n)}fixUp(n){return this.isRed(n.right)&&(n=this.rotateLeft(n)),this.isRed(n.left)&&this.isRed(n.left.left)&&(n=this.rotateRight(n)),this.isRed(n.left)&&this.isRed(n.right)&&this.flipColors(n),n}moveRedLeft(n){return this.flipColors(n),this.isRed(n.right.left)&&(n.right=this.rotateRight(n.right),n=this.rotateLeft(n),this.flipColors(n)),n}moveRedRight(n){return this.flipColors(n),this.isRed(n.left.left)&&(n=this.rotateRight(n),this.flipColors(n)),n}isRed(n){return n&&n.isRed}rotateLeft(n){const e=n.right;return n.right=e.left,e.left=n,e.isRed=e.left.isRed,e.left.isRed=!0,e}rotateRight(n){const e=n.left;return n.left=e.right,e.right=n,e.isRed=e.right.isRed,e.right.isRed=!0,e}flipColors(n){n.isRed=!n.isRed,n.left.isRed=!n.left.isRed,n.right.isRed=!n.right.isRed}}class En{constructor(n,e){d(this,"parentID");d(this,"leftSiblingID");this.parentID=n,this.leftSiblingID=e}static of(n,e){return new En(n,e)}static fromTreePos(n){const{offset:e}=n;let{node:r}=n,l;return r.isText?(r.parent.children[0]===r&&e===0?l=r.parent:l=r,r=r.parent):e===0?l=r:l=r.children[e-1],En.of(r.id,de.of(l.getCreatedAt(),l.getOffset()+e))}getParentID(){return this.parentID}static fromStruct(n){return En.of(de.of(gn.fromStruct(n.parentID.createdAt),n.parentID.offset),de.of(gn.fromStruct(n.leftSiblingID.createdAt),n.leftSiblingID.offset))}toStruct(){return{parentID:{createdAt:this.getParentID().getCreatedAt().toStruct(),offset:this.getParentID().getOffset()},leftSiblingID:{createdAt:this.getLeftSiblingID().getCreatedAt().toStruct(),offset:this.getLeftSiblingID().getOffset()}}}toTreeNodePair(n){const e=this.getParentID(),r=this.getLeftSiblingID(),l=n.findFloorNode(e);let c=n.findFloorNode(r);if(!l||!c)throw new C(x.ErrRefused,`cannot find node of CRDTTreePos(${e.toTestString()}, ${r.toTestString()})`);return!r.equals(e)&&r.getOffset()>0&&r.getOffset()===c.id.getOffset()&&c.insPrevID&&(c=n.findFloorNode(c.insPrevID)),[l,c]}getLeftSiblingID(){return this.leftSiblingID}equals(n){return this.getParentID().getCreatedAt().equals(n.getParentID().getCreatedAt())&&this.getParentID().getOffset()===n.getParentID().getOffset()&&this.getLeftSiblingID().getCreatedAt().equals(n.getLeftSiblingID().getCreatedAt())&&this.getLeftSiblingID().getOffset()===n.getLeftSiblingID().getOffset()}}class de{constructor(n,e){d(this,"createdAt");d(this,"offset");this.createdAt=n,this.offset=e}static of(n,e){return new de(n,e)}static fromStruct(n){return de.of(gn.fromStruct(n.createdAt),n.offset)}static createComparator(){return(n,e)=>{const r=n.getCreatedAt().compare(e.getCreatedAt());return r!==0?r:n.getOffset()>e.getOffset()?1:n.getOffset()<e.getOffset()?-1:0}}getCreatedAt(){return this.createdAt}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}getOffset(){return this.offset}setOffset(n){this.offset=n}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}toTestString(){return`${this.createdAt.toTestString()}/${this.offset}`}}class je extends ew{constructor(e,r,l,c,h){super(r);d(this,"id");d(this,"removedAt");d(this,"attrs");d(this,"insPrevID");d(this,"insNextID");d(this,"_value","");this.id=e,this.removedAt=h,c&&(this.attrs=c),typeof l=="string"?this.value=l:Array.isArray(l)&&(this._children=l)}toIDString(){return this.id.toIDString()}getRemovedAt(){return this.removedAt}static create(e,r,l,c){return new je(e,r,l,c)}deepcopy(){var r;const e=new je(this.id,this.type);return e.removedAt=this.removedAt,e._value=this._value,e.size=this.size,e.attrs=(r=this.attrs)==null?void 0:r.deepcopy(),e._children=this._children.map(l=>{const c=l.deepcopy();return c.parent=e,c}),e.insPrevID=this.insPrevID,e.insNextID=this.insNextID,e}get value(){if(!this.isText)throw new C(x.ErrInvalidType,`cannot get value of element node: ${this.type}`);return this._value}set value(e){if(!this.isText)throw new C(x.ErrInvalidType,`cannot set value of element node: ${this.type}`);this._value=e,this.size=e.length}get isRemoved(){return!!this.removedAt}remove(e){const r=!this.removedAt;(!this.removedAt||this.removedAt.compare(e)>0)&&(this.removedAt=e),r&&this.updateAncestorsSize()}cloneText(e){return new je(de.of(this.id.getCreatedAt(),e),this.type,void 0,void 0,this.removedAt)}cloneElement(e){return new je(de.of(e(),0),this.type,void 0,void 0,this.removedAt)}split(e,r,l){const c=this.isText?this.splitText(r,this.id.getOffset()):this.splitElement(r,l);if(c){if(c.insPrevID=this.id,this.insNextID){const h=e.findFloorNode(this.insNextID);h.insPrevID=c.id,c.insNextID=this.insNextID}this.insNextID=c.id,e.registerNode(c)}return c}getCreatedAt(){return this.id.getCreatedAt()}getOffset(){return this.id.getOffset()}canDelete(e,r){return this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}canStyle(e,r){return this.isText?!1:this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}setAttrs(e,r){this.attrs||(this.attrs=new pr);const l=[];for(const[c,h]of Object.entries(e))l.push(this.attrs.set(c,h,r));return l}purge(e){this.attrs&&this.attrs.purge(e)}getDataSize(){const e={data:0,meta:0};if(this.isText&&(e.data+=this.size*2),this.id&&(e.meta+=Qr),this.removedAt&&(e.meta+=Qr),this.attrs)for(const r of this.attrs){if(r.getRemovedAt())continue;const l=r.getDataSize();e.meta+=l.meta,e.data+=l.data}return e}getGCPairs(){const e=[];if(!this.attrs)return e;for(const r of this.attrs)r.getRemovedAt()&&e.push({parent:this,child:r});return e}}function hd(s){var e;if(s.isText){const r=s;return{type:r.type,value:r.value}}const n={type:s.type,children:s.children.map(hd)};return s.attrs&&(n.attributes=gr((e=s.attrs)==null?void 0:e.toObject())),n}function bd(s){if(s.isText)return s.value;let n="";return s.attrs&&s.attrs.size()&&(n=" "+Array.from(s.attrs).filter(e=>!e.isRemoved()).sort((e,r)=>e.getKey().localeCompare(r.getKey())).map(e=>{const r=JSON.parse(e.getValue());return typeof r=="string"?`${e.getKey()}="${r}"`:`${e.getKey()}="${Yn(e.getValue())}"`}).join(" ")),`<${s.type}${n}>${s.children.map(e=>bd(e)).join("")}</${s.type}>`}function m0(s){if(s.isText){const n=s;return{type:n.type,value:n.value,size:n.size,isRemoved:n.isRemoved}}return{type:s.type,children:s.children.map(m0),size:s.size,isRemoved:s.isRemoved}}class yn extends tl{constructor(e,r){super(r);d(this,"indexTree");d(this,"nodeMapByID");this.indexTree=new rw(e),this.nodeMapByID=new g0(de.createComparator()),this.indexTree.traverseAll(l=>{this.nodeMapByID.put(l.id,l)})}static create(e,r){return new yn(e,r)}findFloorNode(e){const r=this.nodeMapByID.floorEntry(e);if(!(!r||!r.key.getCreatedAt().equals(e.getCreatedAt())))return r.value}registerNode(e){this.nodeMapByID.put(e.id,e)}findNodesAndSplitText(e,r){const[l,c]=e.toTreeNodePair(this);let h=c;const m=l===h,p=h.parent&&!m?h.parent:l;if(h.isText&&h.split(this,e.getLeftSiblingID().getOffset()-h.id.getOffset()),r){const y=p.allChildren,T=m?0:y.indexOf(h)+1;for(let N=T;N<y.length;N++){const B=y[N];if(!B.id.getCreatedAt().after(r))break;h=B}}return[p,h]}style(e,r,l,c){const[h,m]=this.findNodesAndSplitText(e[0],l),[p,y]=this.findNodesAndSplitText(e[1],l),T=[],N=r?gr(r):{},B=[];return this.traverseInPosRange(h,m,p,y,([R])=>{const V=R.getCreatedAt().getActorID();let Y=Vo;if(c!=null&&(Y=c.get(V)?c.get(V):0n),R.canStyle(l,Y)&&r){const X=R.setAttrs(r,l),tt=X.reduce((at,[,Q])=>(Q&&(at[Q.getKey()]=N[Q.getKey()]),at),{}),mt=R.parent,K=R.prevSibling||R.parent;Object.keys(tt).length>0&&T.push({type:"style",from:this.toIndex(mt,K),to:this.toIndex(R,R),fromPath:this.toPath(mt,K),toPath:this.toPath(R,R),actor:l.getActorID(),value:tt});for(const[at]of X)at&&B.push({parent:R,child:at})}}),[B,T]}removeStyle(e,r,l,c){const[h,m]=this.findNodesAndSplitText(e[0],l),[p,y]=this.findNodesAndSplitText(e[1],l),T=[],N=[];return this.traverseInPosRange(h,m,p,y,([B])=>{const R=B.getCreatedAt().getActorID();let V=Vo;if(c!=null&&(V=c.get(R)?c.get(R):0n),B.canStyle(l,V)&&r){B.attrs||(B.attrs=new pr);for(const tt of r){const mt=B.attrs.remove(tt,l);for(const K of mt)N.push({parent:B,child:K})}const Y=B.parent,X=B.prevSibling||B.parent;T.push({actor:l.getActorID(),type:"removeStyle",from:this.toIndex(Y,X),to:this.toIndex(B,B),fromPath:this.toPath(Y,X),toPath:this.toPath(B,B),value:r})}}),[N,T]}edit(e,r,l,c,h,m){const[p,y]=this.findNodesAndSplitText(e[0],c),[T,N]=this.findNodesAndSplitText(e[1],c),B=this.toIndex(p,y),R=this.toPath(p,y),V=[],Y=[],X=[];this.traverseInPosRange(p,y,T,N,([K,at],Q)=>{if(at===Wt.Start&&!Q)for(const le of K.children)X.push(le);const ht=K.getCreatedAt().getActorID();let Vt=Vo;m!=null&&(Vt=m.get(ht)?m.get(ht):0n),(K.canDelete(c,Vt)||V.includes(K.parent))&&((at===Wt.Text||at===Wt.Start)&&V.push(K),Y.push([K,at]))});const tt=this.makeDeletionChanges(Y,c),mt=[];for(const K of V)K.remove(c),K.isRemoved&&mt.push({parent:this,child:K});for(const K of X)K.removedAt||p.append(K);if(l>0){let K=0,at=p,Q=y;for(;K<l;)at.split(this,at.findOffset(Q)+1,h),Q=at,at=at.parent,K++;tt.push({type:"content",from:B,to:B,fromPath:R,toPath:R,actor:c.getActorID()})}if(r!=null&&r.length){const K=[];let at=y;for(const Q of r)at===p?p.insertAt(Q,0):p.insertAfter(Q,at),at=Q,sc(Q,ht=>{p.isRemoved&&(ht.remove(c),mt.push({parent:this,child:ht})),this.nodeMapByID.put(ht.id,ht)}),Q.isRemoved||K.push(Q);if(K.length){const Q=K.map(ht=>hd(ht));tt.length&&tt[tt.length-1].from===B?tt[tt.length-1].value=Q:tt.push({type:"content",from:B,to:B,fromPath:R,toPath:R,actor:c.getActorID(),value:Q})}}return[tt,mt]}editT(e,r,l,c,h){const m=this.findPos(e[0]),p=this.findPos(e[1]);this.edit([m,p],r,l,c,h)}move(e,r,l){throw new C(x.ErrUnimplemented,`not implemented: ${e}, ${r}, ${l}`)}pathToTreePos(e){return this.indexTree.pathToTreePos(e)}purge(e){var c;(c=e.parent)==null||c.removeChild(e),this.nodeMapByID.remove(e.id);const r=e.insPrevID,l=e.insNextID;if(r){const h=this.findFloorNode(r);h.insNextID=l}if(l){const h=this.findFloorNode(l);h.insPrevID=r}e.insPrevID=void 0,e.insNextID=void 0}getGCPairs(){const e=[];return this.indexTree.traverse(r=>{r.getRemovedAt()&&e.push({parent:this,child:r});for(const l of r.getGCPairs())e.push(l)}),e}findPos(e,r=!0){const l=this.indexTree.findTreePos(e,r);return En.fromTreePos(l)}pathToPosRange(e){const r=this.pathToIndex(e);return[this.findPos(r),this.findPos(r+1)]}pathToPos(e){const r=this.indexTree.pathToIndex(e);return this.findPos(r)}getRoot(){return this.indexTree.getRoot()}getSize(){return this.indexTree.size}getNodeSize(){return this.nodeMapByID.size()}getIndexTree(){return this.indexTree}toXML(){return bd(this.indexTree.getRoot())}getDataSize(){const e={data:0,meta:0};return this.indexTree.traverse(r=>{if(r.getRemovedAt())return;const l=r.getDataSize();e.data+=l.data,e.meta+=l.meta}),{data:e.data,meta:e.meta+this.getMetaUsage()}}toJSON(){return JSON.stringify(this.getRootTreeNode())}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:JSON.parse(this.toJSON()),type:"YORKIE_TREE"}}toJSInfoForTest(){const e=this.indexTree.getRoot(),r=(l,c=void 0,h=void 0,m=0)=>{var R,V,Y,X;let p,y,T;const N=l.isText?{node:l,offset:0}:c&&h?this.toTreePos(c,h):null;N&&(p=this.indexTree.indexOf(N),y=this.indexTree.treePosToPath(N),T=En.fromTreePos(N).toStruct());const B={type:l.type,parent:c==null?void 0:c.id.toTestString(),size:l.size,id:l.id.toTestString(),removedAt:(R=l.removedAt)==null?void 0:R.toTestString(),insPrev:(V=l.insPrevID)==null?void 0:V.toTestString(),insNext:(Y=l.insNextID)==null?void 0:Y.toTestString(),value:l.isText?l.value:void 0,isRemoved:l.isRemoved,children:[],depth:m,attributes:l.attrs?gr((X=l.attrs)==null?void 0:X.toObject()):void 0,index:p,path:y,pos:T};for(let tt=0;tt<l.allChildren.length;tt++){const mt=tt===0?l:l.allChildren[tt-1];B.children.push(r(l.allChildren[tt],l,mt,m+1))}return B};return r(e)}getRootTreeNode(){return hd(this.indexTree.getRoot())}toTestTreeNode(){return m0(this.indexTree.getRoot())}toSortedJSON(){return this.toJSON()}deepcopy(){const e=this.getRoot();return new yn(e.deepcopy(),this.getCreatedAt())}toPath(e,r){const l=this.toTreePos(e,r);return l?this.indexTree.treePosToPath(l):[]}toIndex(e,r){const l=this.toTreePos(e,r);return l?this.indexTree.indexOf(l):-1}indexToPath(e){return this.indexTree.indexToPath(e)}pathToIndex(e){return this.indexTree.pathToIndex(e)}indexRangeToPosRange(e){const r=this.findPos(e[0]);return e[0]===e[1]?[r,r]:[r,this.findPos(e[1])]}indexRangeToPosStructRange(e){const[r,l]=e,c=this.findPos(r);return r===l?[c.toStruct(),c.toStruct()]:[c.toStruct(),this.findPos(l).toStruct()]}posRangeToPathRange(e){const[r,l]=this.findNodesAndSplitText(e[0]),[c,h]=this.findNodesAndSplitText(e[1]);return[this.toPath(r,l),this.toPath(c,h)]}posRangeToIndexRange(e){const[r,l]=this.findNodesAndSplitText(e[0]),[c,h]=this.findNodesAndSplitText(e[1]);return[this.toIndex(r,l),this.toIndex(c,h)]}traverseInPosRange(e,r,l,c,h){const m=this.toIndex(e,r),p=this.toIndex(l,c);return this.indexTree.tokensBetween(m,p,h)}toTreePos(e,r){if(!e||!r)return;if(e.isRemoved){let c;for(;e.isRemoved;)c=e,e=c.parent;const h=e.findOffset(c);return{node:e,offset:h}}if(e===r)return{node:e,offset:0};let l=e.findOffset(r);if(!r.isRemoved){if(r.isText)return{node:r,offset:r.paddedSize};l++}return{node:e,offset:l}}makeDeletionChanges(e,r){const l=[],c=[];let h=null,m=null;for(let p=0;p<e.length;p++){const y=e[p],T=e[p+1];h||(h=y),m=y;const N=this.findRightToken(y);(!N||!T||N[0]!==T[0]||N[1]!==T[1])&&(c.push([h,m]),h=null,m=null)}for(const p of c){const[y,T]=p,[N,B]=this.findLeftToken(y),[R,V]=T,Y=B===Wt.Start?N:N.parent,X=V===Wt.Start?R:R.parent,tt=this.toIndex(Y,N),mt=this.toIndex(X,R);tt<mt&&(l.length>0&&tt===l[l.length-1].to?(l[l.length-1].to=mt,l[l.length-1].toPath=this.toPath(X,R)):l.push({type:"content",from:tt,to:mt,fromPath:this.toPath(Y,N),toPath:this.toPath(X,R),actor:r.getActorID()}))}return l.reverse()}findRightToken([e,r]){if(r===Wt.Start){const p=e.allChildren;return p.length>0?[p[0],p[0].isText?Wt.Text:Wt.Start]:[e,Wt.End]}const l=e.parent,c=l.allChildren,h=c.indexOf(e);if(l&&h===c.length-1)return[l,Wt.End];const m=c[h+1];return[m,m.isText?Wt.Text:Wt.Start]}findLeftToken([e,r]){if(r===Wt.End){const p=e.allChildren;if(p.length>0){const y=p[p.length-1];return[y,y.isText?Wt.Text:Wt.End]}return[e,Wt.Start]}const l=e.parent,c=l.allChildren,h=c.indexOf(e);if(l&&h===0)return[l,Wt.Start];const m=c[h-1];return[m,m.isText?Wt.Text:Wt.End]}}class rl extends xn{constructor(e,r,l,c,h,m){super(e,m);d(this,"fromPos");d(this,"toPos");d(this,"contents");d(this,"splitLevel");this.fromPos=r,this.toPos=l,this.contents=c,this.splitLevel=h}static create(e,r,l,c,h,m){return new rl(e,r,l,c,h,m)}execute(e,r,l){var T;const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new C(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof yn))throw new C(x.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const h=this.getExecutedAt(),m=c,[p,y]=m.edit([this.fromPos,this.toPos],(T=this.contents)==null?void 0:T.map(N=>N.deepcopy()),this.splitLevel,h,(()=>{let N=h.getDelimiter();return this.contents!==void 0&&(N+=this.contents.length),()=>gn.of(h.getLamport(),++N,h.getActorID())})(),l);for(const N of y)e.registerGCPair(N);return{opInfos:p.map(({from:N,to:B,value:R,splitLevel:V,fromPath:Y,toPath:X})=>({type:"tree-edit",path:e.createPath(this.getParentCreatedAt()),from:N,to:B,value:R,splitLevel:V,fromPath:Y,toPath:X}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}/${this.toPos.getLeftSiblingID().getOffset()}`,c=this.contents||[];return`${e}.EDIT(${r},${l},${c.map(h=>bd(h)).join("")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getContents(){return this.contents}getSplitLevel(){return this.splitLevel}}class As{constructor(n){d(this,"vector");this.vector=n||new Map}set(n,e){this.vector.set(n,e)}unset(n){this.vector.delete(n)}get(n){return this.vector.get(n)}maxLamport(){let n=BigInt(0);for(const[,e]of this)e>n&&(n=e);return n}max(n){const e=new Map;for(const[r,l]of n){const c=this.vector.get(r),h=c&&c>l?c:l;e.set(r,h)}for(const[r,l]of this){const c=n.get(r),h=c&&c>l?c:l;e.set(r,h)}return new As(e)}afterOrEqual(n){const e=this.vector.get(n.getActorID());return e===void 0?!1:e>=n.getLamport()}deepcopy(){const n=new Map;for(const[e,r]of this.vector)n.set(e,r);return new As(n)}filter(n){const e=new Map;for(const[r]of n){const l=this.vector.get(r);l!==void 0&&e.set(r,l)}return new As(e)}size(){return this.vector.size}*[Symbol.iterator](){for(const[n,e]of this.vector)yield[n,e]}}const lw=new As(new Map);class ur{constructor(n,e,r,l,c){d(this,"clientSeq");d(this,"serverSeq");d(this,"lamport");d(this,"actor");d(this,"versionVector");this.clientSeq=n,this.serverSeq=c,this.lamport=e,this.versionVector=l,this.actor=r}static of(n,e,r,l,c){return new ur(n,e,r,l,c)}next(){const n=this.versionVector.deepcopy();return n.set(this.actor,this.lamport+1n),new ur(this.clientSeq+1,this.lamport+1n,this.actor,n)}syncClocks(n){const e=n.lamport>this.lamport?n.lamport+1n:this.lamport+1n,r=this.versionVector.max(n.versionVector),l=new ur(this.clientSeq,e,this.actor,r);return l.versionVector.set(this.actor,e),l}setClocks(n,e){const r=n>this.lamport?n+1n:this.lamport+1n;e.unset(ac);const l=this.versionVector.max(e);return l.set(this.actor,r),ur.of(this.clientSeq,r,this.actor,l)}createTimeTicket(n){return gn.of(this.lamport,n,this.actor)}setActor(n){return new ur(this.clientSeq,this.lamport,n,this.versionVector,this.serverSeq)}setVersionVector(n){return new ur(this.clientSeq,this.lamport,this.actor,n,this.serverSeq)}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq?this.serverSeq.toString():""}getLamport(){return this.lamport}getLamportAsString(){return this.lamport.toString()}getActorID(){return this.actor}getVersionVector(){return this.versionVector}toTestString(){return`${this.lamport.toString()}:${this.actor.slice(-2)}:${this.clientSeq}`}}const uw=new ur(0,0n,ac,lw);class Bs{constructor({id:n,operations:e,presenceChange:r,message:l}){d(this,"id");d(this,"operations");d(this,"presenceChange");d(this,"message");this.id=n,this.operations=e||[],this.presenceChange=r,this.message=l}static create({id:n,operations:e,presenceChange:r,message:l}){return new Bs({id:n,operations:e,presenceChange:r,message:l})}getID(){return this.id}getMessage(){return this.message}hasOperations(){return this.operations.length>0}getOperations(){return this.operations}setActor(n){for(const e of this.operations)e.setActor(n);this.id=this.id.setActor(n)}hasPresenceChange(){return this.presenceChange!==void 0}getPresenceChange(){return this.presenceChange}execute(n,e,r){const l=[],c=[];for(const h of this.operations){const m=h.execute(n,r,this.id.getVersionVector());if(!m)continue;const{opInfos:p,reverseOp:y}=m;l.push(...p),y&&c.unshift(y)}return this.presenceChange&&(this.presenceChange.type===ta.Put?e.set(this.id.getActorID(),wn(this.presenceChange.presence)):e.delete(this.id.getActorID())),{opInfos:l,reverseOps:c}}toTestString(){return`${this.operations.map(n=>n.toTestString()).join(",")}`}toStruct(){return{changeID:Zt.bytesToHex(Zt.toChangeID(this.getID()).toBinary()),message:this.getMessage(),operations:this.getOperations().map(n=>Zt.bytesToHex(Zt.toOperation(n).toBinary())),presenceChange:this.getPresenceChange()}}static fromStruct(n){const{changeID:e,operations:r,presenceChange:l,message:c}=n;return Bs.create({id:Zt.bytesToChangeID(Zt.hexToBytes(e)),operations:r==null?void 0:r.map(h=>Zt.bytesToOperation(Zt.hexToBytes(h))),presenceChange:l,message:c})}}class oc{constructor(n,e,r,l,c,h){d(this,"documentKey");d(this,"checkpoint");d(this,"isRemoved");d(this,"changes");d(this,"snapshot");d(this,"versionVector");this.documentKey=n,this.checkpoint=e,this.isRemoved=r,this.changes=l,this.snapshot=h,this.versionVector=c}static create(n,e,r,l,c,h){return new oc(n,e,r,l,c,h)}getDocumentKey(){return this.documentKey}getCheckpoint(){return this.checkpoint}getIsRemoved(){return this.isRemoved}getChanges(){return this.changes}hasChanges(){return this.changes.length>0}getChangeSize(){return this.changes.length}hasSnapshot(){return!!this.snapshot&&!!this.snapshot.length}getSnapshot(){return this.snapshot}getVersionVector(){return this.versionVector}}class Es{constructor(n,e){d(this,"serverSeq");d(this,"clientSeq");this.serverSeq=n,this.clientSeq=e}static of(n,e){return new Es(n,e)}increaseClientSeq(n){return n===0?this:new Es(this.serverSeq,this.clientSeq+n)}forward(n){if(this.equals(n))return this;const e=this.serverSeq>n.serverSeq?this.serverSeq:n.serverSeq,r=Math.max(this.clientSeq,n.clientSeq);return Es.of(e,r)}getServerSeqAsString(){return this.serverSeq.toString()}getClientSeq(){return this.clientSeq}getServerSeq(){return this.serverSeq}equals(n){return this.clientSeq===n.clientSeq&&this.serverSeq==n.serverSeq}toTestString(){return`serverSeq=${this.serverSeq}, clientSeq=${this.clientSeq}`}}const cw=new Es(0n,0);class Kn{constructor(n,e){d(this,"createdAt");d(this,"offset");this.createdAt=n,this.offset=e}static of(n,e){return new Kn(n,e)}static fromStruct(n){return Kn.of(gn.fromStruct(n.createdAt),n.offset)}getCreatedAt(){return this.createdAt}getOffset(){return this.offset}equals(n){return this.createdAt.compare(n.createdAt)===0&&this.offset===n.offset}hasSameCreatedAt(n){return this.createdAt.compare(n.createdAt)===0}split(n){return new Kn(this.createdAt,this.offset+n)}toStruct(){return{createdAt:this.createdAt.toStruct(),offset:this.offset}}toTestString(){return`${this.createdAt.toTestString()}:${this.offset}`}toIDString(){return`${this.createdAt.toIDString()}:${this.offset}`}}const fw=Kn.of(Rs,0);class Nn{constructor(n,e){d(this,"id");d(this,"relativeOffset");this.id=n,this.relativeOffset=e}static of(n,e){return new Nn(n,e)}static fromStruct(n){const e=Kn.fromStruct(n.id);return Nn.of(e,n.relativeOffset)}getID(){return this.id}getRelativeOffset(){return this.relativeOffset}getAbsoluteID(){return Kn.of(this.id.getCreatedAt(),this.id.getOffset()+this.relativeOffset)}toTestString(){return`${this.id.toTestString()}:${this.relativeOffset}`}toStruct(){return{id:this.id.toStruct(),relativeOffset:this.relativeOffset}}equals(n){return this.id.equals(n.id)?this.relativeOffset===n.relativeOffset:!1}}class Fr extends s0{constructor(e,r,l){super(r);d(this,"id");d(this,"removedAt");d(this,"prev");d(this,"next");d(this,"insPrev");d(this,"insNext");this.id=e,this.removedAt=l}static create(e,r){return new Fr(e,r)}static createComparator(){return(e,r)=>{const l=e.getCreatedAt().compare(r.getCreatedAt());return l!==0?l:e.getOffset()>r.getOffset()?1:e.getOffset()<r.getOffset()?-1:0}}getID(){return this.id}getCreatedAt(){return this.id.getCreatedAt()}getLength(){return this.removedAt?0:this.getContentLength()}getContentLength(){return this.value&&this.value.length||0}getPrev(){return this.prev}getNext(){return this.next}getInsPrev(){return this.insPrev}getInsNext(){return this.insNext}getInsPrevID(){return this.insPrev.getID()}setPrev(e){this.prev=e,e&&(e.next=this)}setNext(e){this.next=e,e&&(e.prev=this)}setInsPrev(e){this.insPrev=e,e&&(e.insNext=this)}setInsNext(e){this.insNext=e,e&&(e.insPrev=this)}hasNext(){return!!this.next}hasInsPrev(){return!!this.insPrev}isRemoved(){return!!this.removedAt}getRemovedAt(){return this.removedAt}split(e){return new Fr(this.id.split(e),this.splitValue(e),this.removedAt)}canDelete(e,r){const l=!this.removedAt;return this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))?l:!1}canStyle(e,r){return this.getCreatedAt().getLamport()<=r&&(!this.removedAt||e.after(this.removedAt))}remove(e){this.removedAt=e}createPosRange(){return[Nn.of(this.id,0),Nn.of(this.id,this.getLength())]}getDataSize(){const e=this.value.getDataSize();return this.id&&(e.meta+=Qr),this.removedAt&&(e.meta+=Qr),e}deepcopy(){return new Fr(this.id,this.value,this.removedAt)}toTestString(){return`${this.id.toTestString()} ${this.value?this.value:""}`}splitValue(e){const r=this.value;return this.value=r.substring(0,e),r.substring(e,r.length)}toIDString(){return this.id.toIDString()}}class Is{constructor(){d(this,"head");d(this,"treeByIndex");d(this,"treeByID");this.head=Fr.create(fw),this.treeByIndex=new Zo,this.treeByID=new g0(Fr.createComparator()),this.treeByIndex.insert(this.head),this.treeByID.put(this.head.getID(),this.head)}static create(){return new Is}edit(n,e,r,l){const[c,h]=this.findNodeWithSplit(n[1],e),[m,p]=this.findNodeWithSplit(n[0],e),y=this.findBetween(p,h),[T,N]=this.deleteNodes(y,e,l),B=h?h.getID():c.getID();let R=Nn.of(B,0);if(r){const Y=this.posToIndex(m.createPosRange()[1],!0),X=this.insertAfter(m,Fr.create(Kn.of(e,0),r));T.length&&T[T.length-1].from===Y?T[T.length-1].value=r:T.push({actor:e.getActorID(),from:Y,to:Y,value:r}),R=Nn.of(X.getID(),X.getContentLength())}const V=[];for(const[,Y]of N)V.push({parent:this,child:Y});return[R,V,T]}indexToPos(n){const[e,r]=this.treeByIndex.find(n),l=e;return Nn.of(l.getID(),r)}findIndexesFromRange(n){const[e,r]=n;return[this.posToIndex(e,!1),this.posToIndex(r,!0)]}posToIndex(n,e){const r=n.getAbsoluteID(),l=e?this.findFloorNodePreferToLeft(r):this.findFloorNode(r);if(!l)throw new C(x.ErrInvalidArgument,`the node of the given id should be found: ${r.toTestString()}`);const c=this.treeByIndex.indexOf(l),h=l.isRemoved()?0:r.getOffset()-l.getID().getOffset();return c+h}findNode(n){return this.findFloorNode(n)}get length(){return this.treeByIndex.length}getTreeByIndex(){return this.treeByIndex}getTreeByID(){return this.treeByID}toString(){const n=[];for(const e of this)e.isRemoved()||n.push(e.getValue());return n.join("")}*[Symbol.iterator](){let n=this.head.getNext();for(;n;)yield n,n=n.getNext()}getHead(){return this.head}deepcopy(){const n=new Is;let e=this.head.getNext(),r=n.head,l;for(;e;){if(l=n.insertAfter(r,e.deepcopy()),e.hasInsPrev()){const c=n.findNode(e.getInsPrevID());l.setInsPrev(c)}r=l,e=e.getNext()}return n}toTestString(){const n=[];let e=this.head;for(;e;)e.isRemoved()?n.push(`{${e.toTestString()}}`):n.push(`[${e.toTestString()}]`),e=e.getNext();return n.join("")}insertAfter(n,e){const r=n.getNext();return e.setPrev(n),r&&r.setPrev(e),this.treeByID.put(e.getID(),e),this.treeByIndex.insertAfter(n,e),e}findNodeWithSplit(n,e){const r=n.getAbsoluteID();let l=this.findFloorNodePreferToLeft(r);const c=r.getOffset()-l.getID().getOffset();for(this.splitNode(l,c);l.hasNext()&&l.getNext().getCreatedAt().after(e);)l=l.getNext();return[l,l.getNext()]}findFloorNodePreferToLeft(n){let e=this.findFloorNode(n);if(!e)throw new C(x.ErrInvalidArgument,`the node of the given id should be found: ${n.toTestString()}`);if(n.getOffset()>0&&e.getID().getOffset()==n.getOffset()){if(!e.hasInsPrev())return e;e=e.getInsPrev()}return e}findFloorNode(n){const e=this.treeByID.floorEntry(n);if(e&&!(!e.key.equals(n)&&!e.key.hasSameCreatedAt(n)))return e.value}findBetween(n,e){const r=[];let l=n;for(;l&&l!==e;)r.push(l),l=l.getNext();return r}splitNode(n,e){if(e>n.getContentLength())throw new C(x.ErrInvalidArgument,"offset should be less than or equal to length");if(e===0)return n;if(e===n.getContentLength())return n.getNext();const r=n.split(e);this.treeByIndex.updateWeight(r),this.insertAfter(n,r);const l=n.getInsNext();return l&&l.setInsPrev(r),r.setInsPrev(n),r}deleteNodes(n,e,r){if(!n.length)return[[],new Map];const[l,c]=this.filterNodes(n,e,r),h=new Map,m=this.makeChanges(c,e);for(const p of l)h.set(p.getID().toIDString(),p),p.remove(e);return this.deleteIndexNodes(c),[m,h]}filterNodes(n,e,r){const l=[],c=[],[h,m]=this.findEdgesOfCandidates(n);c.push(h);for(const p of n){const y=p.getCreatedAt().getActorID();let T=Vo;r!=null&&(T=r.get(y)?r.get(y):0n),p.canDelete(e,T)?l.push(p):c.push(p)}return c.push(m),[l,c]}findEdgesOfCandidates(n){return[n[0].getPrev(),n[n.length-1].getNext()]}makeChanges(n,e){const r=[];let l,c;for(let h=0;h<n.length-1;h++){const m=n[h],p=n[h+1];m.getNext()!=p&&([l]=this.findIndexesFromRange(m.getNext().createPosRange()),p?[,c]=this.findIndexesFromRange(p.getPrev().createPosRange()):c=this.treeByIndex.length,l<c&&r.push({actor:e.getActorID(),from:l,to:c}))}return r.reverse()}deleteIndexNodes(n){for(let e=0;e<n.length-1;e++){const r=n[e],l=n[e+1];r.getNext()!=l&&this.treeByIndex.deleteRange(r,l)}}purge(n){this.treeByIndex.delete(n),this.treeByID.remove(n.getID());const e=n.getPrev(),r=n.getNext(),l=n.getInsPrev(),c=n.getInsNext();e&&e.setNext(r),r&&r.setPrev(e),n.setPrev(void 0),n.setNext(void 0),l&&l.setInsNext(c),c&&c.setInsPrev(l),n.setInsPrev(void 0),n.setInsNext(void 0)}}const Ev=s=>s<0?Math.ceil(s):Math.floor(s);var $n=(s=>(s[s.Int=0]="Int",s[s.Long=1]="Long",s))($n||{});class Ge extends tl{constructor(e,r,l){super(l);d(this,"valueType");d(this,"value");switch(this.valueType=e,e){case 0:typeof r=="number"?r>Math.pow(2,31)-1||r<-Math.pow(2,31)?this.value=St.fromNumber(r).toInt():this.value=Ev(r):this.value=r.toInt();break;case 1:typeof r=="number"?this.value=St.fromNumber(r):this.value=r;break;default:throw new C(x.ErrUnimplemented,`unimplemented type: ${e}`)}}static create(e,r,l){return new Ge(e,r,l)}static valueFromBytes(e,r){switch(e){case 0:return r[0]|r[1]<<8|r[2]<<16|r[3]<<24;case 1:return St.fromBytesLE(Array.from(r));default:throw new C(x.ErrUnimplemented,`unimplemented type: ${e}`)}}getDataSize(){return{data:this.valueType===0?4:8,meta:this.getMetaUsage()}}toJSON(){return`${this.value}`}toSortedJSON(){return this.toJSON()}toJSForTest(){return{createdAt:this.getCreatedAt().toTestString(),value:this.value,type:"YORKIE_COUNTER"}}deepcopy(){const e=Ge.create(this.valueType,this.value,this.getCreatedAt());return e.setMovedAt(this.getMovedAt()),e}getType(){return this.valueType}static getCounterType(e){switch(typeof e){case"object":return e instanceof St?1:void 0;case"number":return e>Math.pow(2,31)-1||e<-Math.pow(2,31)?1:0;default:return}}static isSupport(e){return!!Ge.getCounterType(e)}static isInteger(e){return e%1===0}isNumericType(){const e=this.valueType;return e===0||e===1}getValueType(){return this.valueType}getValue(){return this.value}toBytes(){switch(this.valueType){case 0:{const e=this.value;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}case 1:{const r=this.value.toBytesLE();return Uint8Array.from(r)}default:throw new C(x.ErrUnimplemented,`unimplemented type: ${this.valueType}`)}}increase(e){function r(l){if(!l.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof l.getValue()}`)}return r(this),r(e),this.valueType===1?this.value=this.value.add(e.getValue()):e.getType()===ne.Long?this.value=this.value+e.getValue().toInt():this.value=St.fromNumber(this.value+Ev(e.getValue())).toInt(),this}}class Ms extends xn{constructor(e,r,l){super(e,l);d(this,"value");this.value=r}static create(e,r,l){return new Ms(e,r,l)}execute(e){const r=e.findByCreatedAt(this.getParentCreatedAt());if(!r)throw new C(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(r instanceof Ge))throw new C(x.ErrInvalidArgument,"fail to execute, only Counter can execute increase");const l=r,c=this.value.deepcopy();return l.increase(c),{opInfos:[{type:"increase",path:e.createPath(this.getParentCreatedAt()),value:c.getValue()}],reverseOp:this.toReverseOperation()}}toReverseOperation(){const e=this.value.deepcopy(),l=e.getType()===ne.Long?e.getValue().multiply(-1):e.getValue()*-1;return Ms.create(this.getParentCreatedAt(),Kt.of(l,e.getCreatedAt()))}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){return`${this.getParentCreatedAt().toTestString()}.INCREASE.${this.value.toJSON()}`}getValue(){return this.value}}class mr extends xn{constructor(e,r,l,c,h,m){super(e,m);d(this,"fromPos");d(this,"toPos");d(this,"attributes");d(this,"attributesToRemove");this.fromPos=r,this.toPos=l,this.attributes=c,this.attributesToRemove=h}static create(e,r,l,c,h){return new mr(e,r,l,c,[],h)}static createTreeRemoveStyleOperation(e,r,l,c,h){return new mr(e,r,l,new Map,c,h)}execute(e,r,l){const c=e.findByCreatedAt(this.getParentCreatedAt());if(!c)throw new C(x.ErrInvalidArgument,`fail to find ${this.getParentCreatedAt()}`);if(!(c instanceof yn))throw new C(x.ErrInvalidArgument,"fail to execute, only Tree can execute edit");const h=c;let m,p;if(this.attributes.size){const y={};[...this.attributes].forEach(([T,N])=>y[T]=N),[p,m]=h.style([this.fromPos,this.toPos],y,this.getExecutedAt(),l)}else{const y=this.attributesToRemove;[p,m]=h.removeStyle([this.fromPos,this.toPos],y,this.getExecutedAt(),l)}for(const y of p)e.registerGCPair(y);return{opInfos:m.map(({from:y,to:T,value:N,fromPath:B,toPath:R})=>({type:"tree-style",from:y,to:T,value:this.attributes.size?{attributes:N}:{attributesToRemove:N},fromPath:B,toPath:R,path:e.createPath(this.getParentCreatedAt())}))}}getEffectedCreatedAt(){return this.getParentCreatedAt()}toTestString(){const e=this.getParentCreatedAt().toTestString(),r=`${this.fromPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.fromPos.getLeftSiblingID().getOffset()}`,l=`${this.toPos.getLeftSiblingID().getCreatedAt().toTestString()}:${this.toPos.getLeftSiblingID().getOffset()}`;return`${e}.STYLE(${r},${l},${Object.entries(this.attributes||{}).map(([c,h])=>`${c}:"${h}"`).join(" ")})`}getFromPos(){return this.fromPos}getToPos(){return this.toPos}getAttributes(){return this.attributes}getAttributesToRemove(){return this.attributesToRemove}}function hw(s){const n=new vd,e=n.data;for(const[r,l]of Object.entries(s))e[r]=JSON.stringify(l);return n}function dw(s){if(s.type===ta.Put)return new $o({type:Ca.PUT,presence:hw(s.presence)});if(s.type===ta.Clear)return new $o({type:Ca.CLEAR});throw new C(x.ErrUnimplemented,"unimplemented type")}function gw(s){return new i0({serverSeq:s.getServerSeq(),clientSeq:s.getClientSeq()})}function y0(s){return new ic({clientSeq:s.getClientSeq(),lamport:s.getLamport(),actorId:Bd(s.getActorID()),versionVector:wd(s.getVersionVector())})}function et(s){if(s)return new _({lamport:s.getLamport(),delimiter:s.getDelimiter(),actorId:Bd(s.getActorID())})}function wd(s){if(!s)return;const n=new rc;for(const[e,r]of s)n.vector[e]=BigInt(r.toString());return n}function p0(s){switch(s){case ne.Null:return ct.NULL;case ne.Boolean:return ct.BOOLEAN;case ne.Integer:return ct.INTEGER;case ne.Long:return ct.LONG;case ne.Double:return ct.DOUBLE;case ne.String:return ct.STRING;case ne.Bytes:return ct.BYTES;case ne.Date:return ct.DATE;default:throw new C(x.ErrInvalidType,`unsupported type: ${s}`)}}function v0(s){switch(s){case $n.Int:return ct.INTEGER_CNT;case $n.Long:return ct.LONG_CNT;default:throw new C(x.ErrInvalidType,`unsupported type: ${s}`)}}function Uh(s){if(s instanceof Ce)return new en({type:ct.JSON_OBJECT,createdAt:et(s.getCreatedAt()),value:k0(s)});if(s instanceof Ye)return new en({type:ct.JSON_ARRAY,createdAt:et(s.getCreatedAt()),value:Gw(s)});if(s instanceof mn)return new en({type:ct.TEXT,createdAt:et(s.getCreatedAt())});if(s instanceof Kt)return new en({type:p0(s.getType()),createdAt:et(s.getCreatedAt()),value:s.toBytes()});if(s instanceof Ge)return new en({type:v0(s.getType()),createdAt:et(s.getCreatedAt()),value:s.toBytes()});if(s instanceof yn)return new en({type:ct.TREE,createdAt:et(s.getCreatedAt()),value:$w(s)});throw new C(x.ErrUnimplemented,"unimplemented element")}function mw(s){return new Go({createdAt:et(s.getCreatedAt()),offset:s.getOffset()})}function bu(s){return new yr({createdAt:et(s.getID().getCreatedAt()),offset:s.getID().getOffset(),relativeOffset:s.getRelativeOffset()})}function wu(s){return new Oa({parentId:Ho(s.getParentID()),leftSiblingId:Ho(s.getLeftSiblingID())})}function Ho(s){return new Zr({createdAt:et(s.getCreatedAt()),offset:s.getOffset()})}function S0(s){const n=new pd;if(s instanceof Ra){const e=s,r=new Mu;r.parentCreatedAt=et(e.getParentCreatedAt()),r.key=e.getKey(),r.value=Uh(e.getValue()),r.executedAt=et(e.getExecutedAt()),n.body.case="set",n.body.value=r}else if(s instanceof el){const e=s,r=new zu;r.parentCreatedAt=et(e.getParentCreatedAt()),r.prevCreatedAt=et(e.getPrevCreatedAt()),r.value=Uh(e.getValue()),r.executedAt=et(e.getExecutedAt()),n.body.case="add",n.body.value=r}else if(s instanceof Xr){const e=s,r=new Uu;r.parentCreatedAt=et(e.getParentCreatedAt()),r.prevCreatedAt=et(e.getPrevCreatedAt()),r.createdAt=et(e.getCreatedAt()),r.executedAt=et(e.getExecutedAt()),n.body.case="move",n.body.value=r}else if(s instanceof ea){const e=s,r=new Lu;r.parentCreatedAt=et(e.getParentCreatedAt()),r.createdAt=et(e.getCreatedAt()),r.executedAt=et(e.getExecutedAt()),n.body.case="remove",n.body.value=r}else if(s instanceof nl){const e=s,r=new qu;r.parentCreatedAt=et(e.getParentCreatedAt()),r.from=bu(e.getFromPos()),r.to=bu(e.getToPos()),r.content=e.getContent();const l=r.attributes;for(const[c,h]of e.getAttributes())l[c]=h;r.executedAt=et(e.getExecutedAt()),n.body.case="edit",n.body.value=r}else if(s instanceof il){const e=s,r=new Ju;r.parentCreatedAt=et(e.getParentCreatedAt()),r.from=bu(e.getFromPos()),r.to=bu(e.getToPos());const l=r.attributes;for(const[c,h]of e.getAttributes())l[c]=h;r.executedAt=et(e.getExecutedAt()),n.body.case="style",n.body.value=r}else if(s instanceof Ms){const e=s,r=new Pu;r.parentCreatedAt=et(e.getParentCreatedAt()),r.value=Uh(e.getValue()),r.executedAt=et(e.getExecutedAt()),n.body.case="increase",n.body.value=r}else if(s instanceof rl){const e=s,r=new Vu;r.parentCreatedAt=et(e.getParentCreatedAt()),r.from=wu(e.getFromPos()),r.to=wu(e.getToPos()),r.contents=ww(e.getContents()),r.splitLevel=e.getSplitLevel(),r.executedAt=et(e.getExecutedAt()),n.body.case="treeEdit",n.body.value=r}else if(s instanceof mr){const e=s,r=new Hu;r.parentCreatedAt=et(e.getParentCreatedAt()),r.from=wu(e.getFromPos()),r.to=wu(e.getToPos());const l=e.getAttributesToRemove();if(l.length>0)r.attributesToRemove=l;else{const c=r.attributes;for(const[h,m]of e.getAttributes())c[h]=m}r.executedAt=et(e.getExecutedAt()),n.body.case="treeStyle",n.body.value=r}else throw new C(x.ErrUnimplemented,"unimplemented operation");return n}function yw(s){const n=[];for(const e of s)n.push(S0(e));return n}function pw(s){const n=new e0({id:y0(s.getID()),message:s.getMessage()});return s.hasOperations()&&(n.operations=yw(s.getOperations())),s.hasPresenceChange()&&(n.presenceChange=dw(s.getPresenceChange())),n}function vw(s){const n=[];for(const e of s)n.push(pw(e));return n}function Sw(s){const n=[];for(const e of s)n.push(new n0({key:e.getStrKey(),element:Ed(e.getValue())}));return n}function Tw(s){const n=[];for(const e of s)n.push(new Zu({element:Ed(e.getValue())}));return n}function bw(s){const n=[];for(const e of s){const r=new Qu;r.id=mw(e.getID()),r.value=e.getValue().getContent(),r.removedAt=et(e.getRemovedAt());const l=r.attributes,c=e.getValue().getAttrs();for(const h of c){const m=new Os;m.value=h.getValue(),m.updatedAt=et(h.getUpdatedAt()),l[h.getKey()]=m}n.push(r)}return n}function ww(s){const n=[];if(!s||!s.length)return n;for(const e of s)n.push(new _u({content:Ad(e)}));return n}function Aw(s){const n={};for(const e of s)n[e.getKey()]=new Os({value:e.getValue(),updatedAt:et(e.getUpdatedAt()),isRemoved:e.isRemoved()});return n}function Ad(s){if(!s)return[];const n=[];return sc(s,(e,r)=>{const l=new Ko({id:Ho(e.id),type:e.type,removedAt:et(e.removedAt),depth:r});e.isText&&(l.value=e.value),e.insPrevID&&(l.insPrevId=Ho(e.insPrevID)),e.insNextID&&(l.insNextId=Ho(e.insNextID)),e.attrs&&(l.attributes=Aw(e.attrs)),n.push(l)}),n}function Ew(s){const n=new Re;return n.body.case="jsonObject",n.body.value=new ju({nodes:Sw(s.getRHT()),createdAt:et(s.getCreatedAt()),movedAt:et(s.getMovedAt()),removedAt:et(s.getRemovedAt())}),n}function T0(s){const n=new Re;return n.body.case="jsonArray",n.body.value=new Yu({nodes:Tw(s.getElements()),createdAt:et(s.getCreatedAt()),movedAt:et(s.getMovedAt()),removedAt:et(s.getRemovedAt())}),n}function Nw(s){const n=new Re;return n.body.case="primitive",n.body.value=new Gu({type:p0(s.getType()),value:s.toBytes(),createdAt:et(s.getCreatedAt()),movedAt:et(s.getMovedAt()),removedAt:et(s.getRemovedAt())}),n}function xw(s){const n=new Re;return n.body.case="text",n.body.value=new Ku({nodes:bw(s.getRGATreeSplit()),createdAt:et(s.getCreatedAt()),movedAt:et(s.getMovedAt()),removedAt:et(s.getRemovedAt())}),n}function Dw(s){const n=new Re;return n.body.case="counter",n.body.value=new $u({type:v0(s.getType()),value:s.toBytes(),createdAt:et(s.getCreatedAt()),movedAt:et(s.getMovedAt()),removedAt:et(s.getRemovedAt())}),n}function b0(s){const n=new Re;return n.body.case="tree",n.body.value=new Xu({nodes:Ad(s.getRoot()),createdAt:et(s.getCreatedAt()),movedAt:et(s.getMovedAt()),removedAt:et(s.getRemovedAt())}),n}function Ed(s){if(s instanceof Ce)return Ew(s);if(s instanceof Ye)return T0(s);if(s instanceof Kt)return Nw(s);if(s instanceof mn)return xw(s);if(s instanceof Ge)return Dw(s);if(s instanceof yn)return b0(s);throw new C(x.ErrUnimplemented,"unimplemented element")}function Ow(s){return new vr({documentKey:s.getDocumentKey(),checkpoint:gw(s.getCheckpoint()),isRemoved:s.getIsRemoved(),changes:vw(s.getChanges()),snapshot:s.getSnapshot(),versionVector:wd(s.getVersionVector())})}function qo(s){if(!(s instanceof Nt))return{};const n=s.findDetails(G1);for(const e of n)return e.metadata;return{}}function Gr(s){return qo(s).code??""}function w0(s){return ur.of(s.clientSeq,BigInt(s.lamport),Rd(s.actorId),Nd(s.versionVector),BigInt(s.serverSeq))}function Nd(s){if(!s)return;const n=new As;return Object.entries(s.vector).forEach(([e,r])=>{n.set(e,BigInt(r.toString()))}),n}function nt(s){if(s)return gn.of(BigInt(s.lamport),s.delimiter,Rd(s.actorId))}function xd(s){const n={};return Object.entries(s.data).forEach(([e,r])=>{n[e]=JSON.parse(r)}),n}function Cw(s){const n=s.type;if(n===Ca.PUT){const e=xd(s.presence);return{type:ta.Put,presence:e}}if(n===Ca.CLEAR)return{type:ta.Clear};throw new C(x.ErrInvalidType,`unsupported type: ${n}`)}function Rw(s){const n=new Map;return Object.entries(s).forEach(([e,r])=>{n.set(e,xd(r))}),n}function A0(s){switch(s){case ct.NULL:return ne.Null;case ct.BOOLEAN:return ne.Boolean;case ct.INTEGER:return ne.Integer;case ct.LONG:return ne.Long;case ct.DOUBLE:return ne.Double;case ct.STRING:return ne.String;case ct.BYTES:return ne.Bytes;case ct.DATE:return ne.Date}throw new C(x.ErrUnimplemented,`unimplemented value type: ${s}`)}function tc(s){switch(s){case ct.INTEGER_CNT:return $n.Int;case ct.LONG_CNT:return $n.Long}throw new C(x.ErrUnimplemented,`unimplemented value type: ${s}`)}function Lh(s){switch(s.type){case ct.JSON_OBJECT:return s.value?R0(s.value):Ce.create(nt(s.createdAt));case ct.JSON_ARRAY:return s.value?Yw(s.value):Ye.create(nt(s.createdAt));case ct.TEXT:return mn.create(Is.create(),nt(s.createdAt));case ct.TREE:return Kw(s.value);case ct.NULL:case ct.BOOLEAN:case ct.INTEGER:case ct.LONG:case ct.DOUBLE:case ct.STRING:case ct.BYTES:case ct.DATE:return Kt.of(Kt.valueFromBytes(A0(s.type),s.value),nt(s.createdAt));case ct.INTEGER_CNT:case ct.LONG_CNT:return Ge.create(tc(s.type),Ge.valueFromBytes(tc(s.type),s.value),nt(s.createdAt))}}function Au(s){return Nn.of(Kn.of(nt(s.createdAt),s.offset),s.relativeOffset)}function E0(s){return Kn.of(nt(s.createdAt),s.offset)}function kw(s){const n=_o.create(s.value);Object.entries(s.attributes).forEach(([r,l])=>{n.setAttr(r,l.value,nt(l.updatedAt))});const e=Fr.create(E0(s.id),n);return e.remove(nt(s.removedAt)),e}function Ss(s){return En.of(jo(s.parentId),jo(s.leftSiblingId))}function jo(s){return de.of(nt(s.createdAt),s.offset)}function Bw(s){if(!s.length)return;const n=[];return s.forEach(e=>{const r=Dd(e.content);n.push(r)}),n}function Dd(s){if(s.length===0)return;const n=[];for(const l of s)n.push(Mw(l));const e=n[n.length-1],r=new Map;r.set(s[n.length-1].depth,n[n.length-1]);for(let l=n.length-2;l>=0;l--)r.get(s[l].depth-1).prepend(n[l]),r.set(s[l].depth,n[l]);return e.updateDescendantsSize(),yn.create(e,Rs).getRoot()}function Iw(s){const n=pr.create();for(const[e,r]of Object.entries(s))n.setInternal(e,r.value,nt(r.updatedAt),r.isRemoved);return n}function Mw(s){const n=jo(s.id),e=je.create(n,s.type),r=Object.entries(s.attributes);return e.isText?e.value=s.value:r.length&&(e.attrs=Iw(s.attributes)),s.insPrevId&&(e.insPrevID=jo(s.insPrevId)),s.insNextId&&(e.insNextID=jo(s.insNextId)),e.removedAt=nt(s.removedAt),e}function N0(s){if(s.body.case==="set"){const n=s.body.value;return Ra.create(n.key,Lh(n.value),nt(n.parentCreatedAt),nt(n.executedAt))}else if(s.body.case==="add"){const n=s.body.value;return el.create(nt(n.parentCreatedAt),nt(n.prevCreatedAt),Lh(n.value),nt(n.executedAt))}else if(s.body.case==="move"){const n=s.body.value;return Xr.create(nt(n.parentCreatedAt),nt(n.prevCreatedAt),nt(n.createdAt),nt(n.executedAt))}else if(s.body.case==="remove"){const n=s.body.value;return ea.create(nt(n.parentCreatedAt),nt(n.createdAt),nt(n.executedAt))}else if(s.body.case==="edit"){const n=s.body.value,e=new Map;return Object.entries(n.attributes).forEach(([r,l])=>{e.set(r,l)}),nl.create(nt(n.parentCreatedAt),Au(n.from),Au(n.to),n.content,e,nt(n.executedAt))}else if(s.body.case==="style"){const n=s.body.value,e=new Map;return Object.entries(n.attributes).forEach(([r,l])=>{e.set(r,l)}),il.create(nt(n.parentCreatedAt),Au(n.from),Au(n.to),e,nt(n.executedAt))}else{if(s.body.case==="select")return;if(s.body.case==="increase"){const n=s.body.value;return Ms.create(nt(n.parentCreatedAt),Lh(n.value),nt(n.executedAt))}else if(s.body.case==="treeEdit"){const n=s.body.value;return rl.create(nt(n.parentCreatedAt),Ss(n.from),Ss(n.to),Bw(n.contents),n.splitLevel,nt(n.executedAt))}else if(s.body.case==="treeStyle"){const n=s.body.value,e=new Map,r=n.attributesToRemove;return(r==null?void 0:r.length)>0?mr.createTreeRemoveStyleOperation(nt(n.parentCreatedAt),Ss(n.from),Ss(n.to),r,nt(n.executedAt)):(Object.entries(n.attributes).forEach(([l,c])=>{e.set(l,c)}),mr.create(nt(n.parentCreatedAt),Ss(n.from),Ss(n.to),e,nt(n.executedAt)))}else throw new C(x.ErrUnimplemented,"unimplemented operation")}}function zw(s){const n=[];for(const e of s){const r=N0(e);r&&n.push(r)}return n}function x0(s){const n=[];for(const e of s)n.push(Bs.create({id:w0(e.id),operations:zw(e.operations),presenceChange:e.presenceChange?Cw(e.presenceChange):void 0,message:e.message}));return n}function Uw(s){return Es.of(BigInt(s.serverSeq),s.clientSeq)}function Lw(s){return oc.create(s.documentKey,Uw(s.checkpoint),s.isRemoved,x0(s.changes),Nd(s.versionVector),s.snapshot)}function D0(s){const n=new Xo;for(const r of s.nodes){const l=Od(r.element);n.set(r.key,l,l.getPositionedAt())}const e=new Ce(nt(s.createdAt),n);return e.setMovedAt(nt(s.movedAt)),e.setRemovedAt(nt(s.removedAt)),e}function O0(s){const n=new Qo;for(const r of s.nodes)n.insert(Od(r.element));const e=new Ye(nt(s.createdAt),n);return e.setMovedAt(nt(s.movedAt)),e.setRemovedAt(nt(s.removedAt)),e}function qw(s){const n=Kt.of(Kt.valueFromBytes(A0(s.type),s.value),nt(s.createdAt));return n.setMovedAt(nt(s.movedAt)),n.setRemovedAt(nt(s.removedAt)),n}function Jw(s){const n=new Is;let e=n.getHead();for(const l of s.nodes){const c=n.insertAfter(e,kw(l));l.insPrevId&&c.setInsPrev(n.findNode(E0(l.insPrevId))),e=c}const r=new mn(n,nt(s.createdAt));return r.setMovedAt(nt(s.movedAt)),r.setRemovedAt(nt(s.removedAt)),r}function Pw(s){const n=Ge.create(tc(s.type),Ge.valueFromBytes(tc(s.type),s.value),nt(s.createdAt));return n.setMovedAt(nt(s.movedAt)),n.setRemovedAt(nt(s.removedAt)),n}function C0(s){const n=Dd(s.nodes);return yn.create(n,nt(s.createdAt))}function Od(s){if(s.body.case==="jsonObject")return D0(s.body.value);if(s.body.case==="jsonArray")return O0(s.body.value);if(s.body.case==="primitive")return qw(s.body.value);if(s.body.case==="text")return Jw(s.body.value);if(s.body.case==="counter")return Pw(s.body.value);if(s.body.case==="tree")return C0(s.body.value);throw new C(x.ErrUnimplemented,"unimplemented element")}function Vw(s){if(!s)return{root:Ce.create(Rs),presences:new Map};const n=Vh.fromBinary(s);return{root:Od(n.root),presences:Rw(n.presences)}}function Hw(s){const n=wd(s);return Cd(n.toBinary())}function jw(s){const n=kd(s),e=rc.fromBinary(n);return Nd(e)}function R0(s){if(!s)throw new C(x.ErrInvalidArgument,"bytes is empty");const n=Re.fromBinary(s);return D0(n.body.value)}function k0(s){return Ed(s).toBinary()}function Yw(s){if(!s)throw new C(x.ErrInvalidArgument,"bytes is empty");const n=Re.fromBinary(s);return O0(n.body.value)}function Gw(s){return T0(s).toBinary()}function Kw(s){if(!s)throw new C(x.ErrInvalidArgument,"bytes is empty");const n=Re.fromBinary(s);return C0(n.body.value)}function $w(s){return b0(s).toBinary()}function Cd(s){return s?Array.from(s).map(n=>n.toString(16).padStart(2,"0")).join(""):""}function Rd(s){return Cd(s)}function kd(s){return new Uint8Array(s.match(/.{1,2}/g).map(n=>parseInt(n,16)))}function Bd(s){return kd(s)}function Xw(s){const n=ic.fromBinary(s);return w0(n)}function Zw(s){const n=pd.fromBinary(s);return N0(n)}const Zt={fromPresence:xd,toChangePack:Ow,fromChangePack:Lw,fromChanges:x0,toTreeNodes:Ad,fromTreeNodes:Dd,objectToBytes:k0,bytesToObject:R0,bytesToSnapshot:Vw,bytesToHex:Cd,hexToBytes:kd,toHexString:Rd,toUint8Array:Bd,toOperation:S0,toChangeID:y0,PbChangeID:ic,bytesToChangeID:Xw,bytesToOperation:Zw,versionVectorToHex:Hw,hexToVersionVector:jw};var De=(s=>(s[s.Trivial=0]="Trivial",s[s.Debug=1]="Debug",s[s.Info=2]="Info",s[s.Warn=3]="Warn",s[s.Error=4]="Error",s[s.Fatal=5]="Fatal",s))(De||{});let wa=3;function Qw(s){wa=s}const W={trivial:(...s)=>{wa>0||typeof console<"u"&&console.log("YORKIE T:",...s)},debug:(...s)=>{wa>1||typeof console<"u"&&console.log("YORKIE D:",...s)},info:(...s)=>{wa>2||typeof console<"u"&&console.log("YORKIE I:",...s)},warn:(...s)=>{wa>3||typeof console<"u"&&(typeof console.warn<"u"?console.warn("YORKIE W:",...s):console.log("YORKIE W:",...s))},error:(...s)=>{wa>4||typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE E:",...s):console.log("YORKIE E:",...s))},fatal:(...s)=>{typeof console<"u"&&(typeof console.error<"u"?console.error("YORKIE F:",...s):console.log("YORKIE F:",...s))},isEnabled:s=>wa<=s};function B0(){return"xxxxxxxx-xxxx-4xxxy-xxxx-xxxxxxxxxxx".replace(/[xy]/g,s=>{const n=Math.random()*16|0;return(s==="x"?n:n&3|8).toString(16)})}class _w{constructor(n,e,r,l,c){d(this,"reconnectStreamDelay");d(this,"doc");d(this,"docID");d(this,"syncMode");d(this,"remoteChangeEventReceived");d(this,"watchStream");d(this,"watchLoopTimerID");d(this,"watchAbortController");d(this,"unsubscribeBroadcastEvent");this.reconnectStreamDelay=n,this.doc=e,this.docID=r,this.syncMode=l,this.remoteChangeEventReceived=!1,this.unsubscribeBroadcastEvent=c}changeSyncMode(n){this.syncMode=n}needRealtimeSync(){return this.syncMode===ku.RealtimeSyncOff?!1:this.syncMode===ku.RealtimePushOnly?this.doc.hasLocalChanges():this.syncMode!==ku.Manual&&(this.doc.hasLocalChanges()||this.remoteChangeEventReceived)}async runWatchLoop(n){const e=async()=>{if(this.watchStream)return Promise.resolve();this.watchLoopTimerID&&(clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0);try{[this.watchStream,this.watchAbortController]=await n(()=>{this.watchStream=void 0,this.watchAbortController=void 0,this.watchLoopTimerID=setTimeout(e,this.reconnectStreamDelay)})}catch{}};await e()}cancelWatchStream(){this.watchStream&&this.watchAbortController&&(this.watchAbortController.abort(),this.watchStream=void 0,this.watchAbortController=void 0),clearTimeout(this.watchLoopTimerID),this.watchLoopTimerID=void 0}}const qh=()=>{};class Fw{constructor(n){d(this,"finalized",!1);d(this,"observers",[]);d(this,"finalError");try{n(this)}catch(e){this.error(e)}}next(n){this.forEachObserver(e=>{e.next(n)})}error(n){this.forEachObserver(e=>{e.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,e,r){let l;if(!n)throw new C(x.ErrInvalidArgument,"missing observer");if(this.finalized)throw new C(x.ErrRefused,"observable is finalized due to previous error");typeof n=="object"?l=n:l={next:n,error:e,complete:r},l.next===void 0&&(l.next=qh),l.error===void 0&&(l.error=qh),l.complete===void 0&&(l.complete=qh);const c=B0(),h=this.unsubscribeOne.bind(this,c);if(this.observers.push({subscriptionID:c,observer:l}),this.finalized)try{this.finalError?l.error(this.finalError):l.complete()}catch(m){W.warn(m)}return h}unsubscribeOne(n){var e;this.observers=(e=this.observers)==null?void 0:e.filter(r=>r.subscriptionID!==n)}forEachObserver(n){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,n)}sendOne(n,e){if(this.observers!==void 0&&this.observers[n]!==void 0)try{e(this.observers[n].observer)}catch(r){W.error(r)}}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.observers=void 0)}}function Ww(s){const n=new Fw(s);return{subscribe:n.subscribe.bind(n),getProxy:()=>n}}class ws{constructor(n,e,r,l){d(this,"id");d(this,"delimiter");d(this,"message");d(this,"root");d(this,"operations");d(this,"presenceChange");d(this,"previousPresence");d(this,"reversePresenceKeys");this.id=n,this.delimiter=a0,this.root=e,this.operations=[],this.previousPresence=wn(r),this.presenceChange=void 0,this.reversePresenceKeys=new Set,this.message=l}static create(n,e,r,l){return new ws(n,e,r,l)}push(n){this.operations.push(n)}registerElement(n,e){this.root.registerElement(n,e)}registerRemovedElement(n){this.root.registerRemovedElement(n)}registerGCPair(n){this.root.registerGCPair(n)}getChange(){return Bs.create({id:this.id,operations:this.operations,presenceChange:this.presenceChange,message:this.message})}hasChange(){return this.operations.length>0||this.presenceChange!==void 0}setPresenceChange(n){this.presenceChange=n}setReversePresence(n,e){for(const r of Object.keys(n))e!=null&&e.addToHistory?this.reversePresenceKeys.add(r):this.reversePresenceKeys.delete(r)}getReversePresence(){if(this.reversePresenceKeys.size===0)return;const n={};for(const e of this.reversePresenceKeys)n[e]=this.previousPresence[e];return n}issueTimeTicket(){return this.delimiter+=1,this.id.createTimeTicket(this.delimiter)}getLastTimeTicket(){return this.id.createTimeTicket(this.delimiter)}}class Fo{constructor(n){d(this,"rootObject");d(this,"elementPairMapByCreatedAt");d(this,"gcElementSetByCreatedAt");d(this,"gcPairMap");this.rootObject=n,this.elementPairMapByCreatedAt=new Map,this.gcElementSetByCreatedAt=new Set,this.gcPairMap=new Map,this.registerElement(n,void 0),n.getDescendants(e=>{if(e.getRemovedAt()&&this.registerRemovedElement(e),e instanceof mn||e instanceof yn)for(const r of e.getGCPairs())this.registerGCPair(r);return!1})}static create(){return new Fo(Ce.create(Rs))}findByCreatedAt(n){const e=this.elementPairMapByCreatedAt.get(n.toIDString());if(e)return e.element}findElementPairByCreatedAt(n){return this.elementPairMapByCreatedAt.get(n.toIDString())}createSubPaths(n){let e=this.elementPairMapByCreatedAt.get(n.toIDString());if(!e)return[];const r=[];for(;e.parent;){const l=e.element.getCreatedAt(),c=e.parent.subPathOf(l);if(c===void 0)throw new C(x.ErrInvalidArgument,`cant find the given element: ${l.toIDString()}`);r.unshift(c),e=this.elementPairMapByCreatedAt.get(e.parent.getCreatedAt().toIDString())}return r.unshift("$"),r}createPath(n){return this.createSubPaths(n).join(".")}registerElement(n,e){this.elementPairMapByCreatedAt.set(n.getCreatedAt().toIDString(),{parent:e,element:n}),n instanceof _r&&n.getDescendants((r,l)=>(this.registerElement(r,l),!1))}deregisterElement(n){let e=0;const r=l=>{const c=l.getCreatedAt().toIDString();this.elementPairMapByCreatedAt.delete(c),this.gcElementSetByCreatedAt.delete(c),e++};return r(n),n instanceof _r&&n.getDescendants(l=>(r(l),!1)),e}registerRemovedElement(n){this.gcElementSetByCreatedAt.add(n.getCreatedAt().toIDString())}registerGCPair(n){if(this.gcPairMap.get(n.child.toIDString())){this.gcPairMap.delete(n.child.toIDString());return}this.gcPairMap.set(n.child.toIDString(),n)}getElementMapSize(){return this.elementPairMapByCreatedAt.size}getGarbageElementSetSize(){const n=new Set;for(const e of this.gcElementSetByCreatedAt){n.add(e);const r=this.elementPairMapByCreatedAt.get(e);r.element instanceof _r&&r.element.getDescendants(l=>(n.add(l.getCreatedAt().toIDString()),!1))}return n.size}getObject(){return this.rootObject}getGarbageLen(){return this.getGarbageElementSetSize()+this.gcPairMap.size}getDocSize(){const n={live:{data:0,meta:0},gc:{data:0,meta:0}};for(const[e,r]of this.elementPairMapByCreatedAt)this.gcElementSetByCreatedAt.has(e)?(n.gc.data+=r.element.getDataSize().data,n.gc.meta+=r.element.getDataSize().meta):(n.live.data+=r.element.getDataSize().data,n.live.meta+=r.element.getDataSize().meta);for(const e of this.gcPairMap.values()){const r=e.child.getDataSize();n.gc.data+=r.data,n.gc.meta+=r.meta}return n}deepcopy(){return new Fo(this.rootObject.deepcopy())}garbageCollect(n){let e=0;for(const r of this.gcElementSetByCreatedAt){const l=this.elementPairMapByCreatedAt.get(r),c=l.element.getRemovedAt();c&&(n!=null&&n.afterOrEqual(c))&&(l.parent.purge(l.element),e+=this.deregisterElement(l.element))}for(const[,r]of this.gcPairMap){const l=r.child.getRemovedAt();l&&(n!=null&&n.afterOrEqual(l))&&(r.parent.purge(r.child),this.gcPairMap.delete(r.child.toIDString()),e+=1)}return e}toJSON(){return this.rootObject.toJSON()}toSortedJSON(){return this.rootObject.toSortedJSON()}getStats(){return{elements:this.getElementMapSize(),gcPairs:this.gcPairMap.size,gcElements:this.getGarbageElementSetSize()}}}function I0(s,n){const e=new Wo(s);return new Proxy(n,e.getHandlers())}class Wo{constructor(n){d(this,"context");d(this,"handlers");this.context=n,this.handlers={set:(e,r,l)=>(W.isEnabled(De.Trivial)&&W.trivial(`obj[${r}]=${JSON.stringify(l)}`),Wo.setInternal(n,e,r,l),!0),get:(e,r)=>(W.isEnabled(De.Trivial)&&W.trivial(`obj[${r}]`),r==="getID"?()=>e.getCreatedAt():r==="toJSON"||r==="toString"?()=>e.toJSON():r==="toJS"?()=>e.toJS():r==="toJSForTest"?()=>e.toJSForTest():Aa(n,e.get(r))),ownKeys:e=>e.getKeys(),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),deleteProperty:(e,r)=>(W.isEnabled(De.Trivial)&&W.trivial(`obj[${r}]`),Wo.deleteInternal(n,e,r),!0)}}static setInternal(n,e,r,l){if(r.includes("."))throw new C(x.ErrInvalidObjectKey,"key must not contain the '.'.");const c=n.issueTimeTicket(),h=ec(n,l,c),m=e.set(r,h,c);n.registerElement(h,e),m&&n.registerRemovedElement(m),n.push(Ra.create(r,h.deepcopy(),e.getCreatedAt(),c))}static buildObjectMembers(n,e){const r={};for(const[l,c]of Object.entries(e)){if(l.includes("."))throw new C(x.ErrInvalidObjectKey,"key must not contain the '.'.");const h=n.issueTimeTicket(),m=ec(n,c,h);r[l]=m}return r}static deleteInternal(n,e,r){const l=n.issueTimeTicket(),c=e.deleteByKey(r,l);c&&(n.push(ea.create(e.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c))}getHandlers(){return this.handlers}}function tA(s,n){const e=new Yt(s,n);return new Proxy(n,e.getHandlers())}function eA(s){return typeof s=="string"||s instanceof String?!isNaN(s):!1}function nA(s){return["concat","entries","every","filter","find","findIndex","forEach","join","keys","map","reduce","reduceRight","slice","some","toLocaleString","toString","values"].includes(s)}class Yt{constructor(n,e){d(this,"context");d(this,"handlers");d(this,"array");this.context=n,this.array=e,this.handlers={get:(r,l,c)=>l==="getID"?()=>r.getCreatedAt():l==="getElementByID"?h=>{const m=r.getByID(h);if(!(!m||m.isRemoved()))return Kr(n,m)}:l==="getElementByIndex"?h=>{const m=r.get(h);return Kr(n,m)}:l==="getLast"?()=>Kr(n,r.getLast()):l==="deleteByID"?h=>{const m=Yt.deleteInternalByID(n,r,h);return Kr(n,m)}:l==="insertAfter"?(h,m)=>{const p=Yt.insertAfterInternal(n,r,h,m);return Kr(n,p)}:l==="insertBefore"?(h,m)=>{const p=Yt.insertBeforeInternal(n,r,h,m);return Kr(n,p)}:l==="moveBefore"?(h,m)=>{Yt.moveBeforeInternal(n,r,h,m)}:l==="moveAfter"?(h,m)=>{Yt.moveAfterInternal(n,r,h,m)}:l==="moveFront"?h=>{Yt.moveFrontInternal(n,r,h)}:l==="moveLast"?h=>{Yt.moveLastInternal(n,r,h)}:eA(l)?Aa(n,r.get(Number(l))):l==="push"?h=>Yt.pushInternal(n,r,h):l==="splice"?(h,m,...p)=>Yt.splice(n,r,h,m,...p):l==="length"?r.length:typeof l=="symbol"&&l===Symbol.iterator?Yt.iteratorInternal.bind(this,n,r):l==="includes"?(h,m)=>Yt.includes(n,r,h,m):l==="indexOf"?(h,m)=>Yt.indexOf(n,r,h,m):l==="lastIndexOf"?(h,m)=>Yt.lastIndexOf(n,r,h,m):l==="toJSForTest"?()=>r.toJSForTest():l==="toTestString"?()=>Yt.toTestString(r):typeof l=="string"&&nA(l)?(...h)=>{const m=Array.from(r).map(p=>Aa(n,p));return Array.prototype[l].apply(m,h)}:Reflect.get(r,l,c),deleteProperty:(r,l)=>(W.isEnabled(De.Trivial)&&W.trivial(`array[${l}]`),Yt.deleteInternalByIndex(n,r,Number.parseInt(l)),!0)}}static*iteratorInternal(n,e){for(const r of e)yield Kr(n,r)}static buildArrayElements(n,e){const r=[];for(const l of e){const c=n.issueTimeTicket(),h=ec(n,l,c);r.push(h)}return r}static pushInternal(n,e,r){return Yt.insertAfterInternal(n,e,e.getLastCreatedAt(),r),e.length}static moveBeforeInternal(n,e,r,l){const c=n.issueTimeTicket(),h=e.getPrevCreatedAt(r);e.moveAfter(h,l,c),n.push(Xr.create(e.getCreatedAt(),h,l,c))}static moveAfterInternal(n,e,r,l){const c=n.issueTimeTicket();e.moveAfter(r,l,c),n.push(Xr.create(e.getCreatedAt(),r,l,c))}static moveFrontInternal(n,e,r){const l=n.issueTimeTicket(),c=e.getHead();e.moveAfter(c.getCreatedAt(),r,l),n.push(Xr.create(e.getCreatedAt(),c.getCreatedAt(),r,l))}static moveLastInternal(n,e,r){const l=n.issueTimeTicket(),c=e.getLastCreatedAt();e.moveAfter(c,r,l),n.push(Xr.create(e.getCreatedAt(),c,r,l))}static insertAfterInternal(n,e,r,l){const c=n.issueTimeTicket(),h=ec(n,l,c);return e.insertAfter(r,h),n.registerElement(h,e),n.push(el.create(e.getCreatedAt(),r,h.deepcopy(),c)),h}static insertBeforeInternal(n,e,r,l){return Yt.insertAfterInternal(n,e,e.getPrevCreatedAt(r),l)}static deleteInternalByIndex(n,e,r){const l=n.issueTimeTicket(),c=e.deleteByIndex(r,l);if(c)return n.push(ea.create(e.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c),c}static deleteInternalByID(n,e,r){const l=n.issueTimeTicket(),c=e.delete(r,l);return n.push(ea.create(e.getCreatedAt(),c.getCreatedAt(),l)),n.registerRemovedElement(c),c}static splice(n,e,r,l,...c){const h=e.length,m=r>=0?Math.min(r,h):Math.max(h+r,0),p=l===void 0?h:l<0?m:Math.min(m+l,h),y=[];for(let T=m;T<p;T++){const N=Yt.deleteInternalByIndex(n,e,m);if(N){const B=N.deepcopy();B.setRemovedAt(),y.push(Aa(n,B))}}if(c){let T=m===0?e.getHead().getID():e.get(m-1).getID();for(const N of c)T=Yt.insertAfterInternal(n,e,T,N).getID()}return y}static includes(n,e,r,l){var m;const c=e.length,h=l===void 0?0:l<0?Math.max(l+c,0):l;if(h>=c)return!1;if(Kt.isSupport(r))return Array.from(e).map(y=>Aa(n,y)).includes(r,h);for(let p=h;p<c;p++)if(((m=e.get(p))==null?void 0:m.getID())===r.getID())return!0;return!1}static indexOf(n,e,r,l){var m;const c=e.length,h=l===void 0?0:l<0?Math.max(l+c,0):l;if(h>=c)return-1;if(Kt.isSupport(r))return Array.from(e).map(y=>Aa(n,y)).indexOf(r,h);for(let p=h;p<c;p++)if(((m=e.get(p))==null?void 0:m.getID())===r.getID())return p;return-1}static lastIndexOf(n,e,r,l){var m;const c=e.length,h=l===void 0||l>=c?c-1:l<0?l+c:l;if(h<0)return-1;if(Kt.isSupport(r))return Array.from(e).map(y=>Aa(n,y)).lastIndexOf(r,h);for(let p=h;p>0;p--)if(((m=e.get(p))==null?void 0:m.getID())===r.getID())return p;return-1}static toTestString(n){return n.toTestString()}getHandlers(){return this.handlers}}class Id{constructor(n,e){d(this,"context");d(this,"text");this.context=n,this.text=e}initialize(n,e){this.context=n,this.text=e}getID(){return this.text.getID()}edit(n,e,r,l){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");if(n>e)throw new C(x.ErrInvalidArgument,"from should be less than or equal to to");const c=this.text.indexRangeToPosRange(n,e);W.isEnabled(De.Debug)&&W.debug(`EDIT: f:${n}->${c[0].toTestString()}, t:${e}->${c[1].toTestString()} c:${r}`);const h=l?Cs(l):void 0,m=this.context.issueTimeTicket(),[,p,y]=this.text.edit(c,r,m,h);for(const T of p)this.context.registerGCPair(T);return this.context.push(new nl(this.text.getCreatedAt(),c[0],c[1],r,h?new Map(Object.entries(h)):new Map,m)),this.text.findIndexesFromRange(y)}delete(n,e){return this.edit(n,e,"")}empty(){return this.edit(0,this.length,"")}setStyle(n,e,r){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");if(n>e)throw new C(x.ErrInvalidArgument,"from should be less than or equal to to");const l=this.text.indexRangeToPosRange(n,e);W.isEnabled(De.Debug)&&W.debug(`STYL: f:${n}->${l[0].toTestString()}, t:${e}->${l[1].toTestString()} a:${JSON.stringify(r)}`);const c=Cs(r),h=this.context.issueTimeTicket(),[m]=this.text.setStyle(l,c,h);for(const p of m)this.context.registerGCPair(p);return this.context.push(new il(this.text.getCreatedAt(),l[0],l[1],new Map(Object.entries(c)),h)),!0}indexRangeToPosRange(n){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");const e=this.text.indexRangeToPosRange(n[0],n[1]);return[e[0].toStruct(),e[1].toStruct()]}posRangeToIndexRange(n){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");const e=this.text.findIndexesFromRange([Nn.fromStruct(n[0]),Nn.fromStruct(n[1])]);return[e[0],e[1]]}toTestString(){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toTestString()}values(){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");return this.text.values()}get length(){return this.text.length}getTreeByIndex(){return this.text.getTreeByIndex()}getTreeByID(){return this.text.getTreeByID()}toString(){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toString()}toJSON(){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSON()}toJSForTest(){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");return this.text.toJSForTest()}createRangeForTest(n,e){if(!this.context||!this.text)throw new C(x.ErrNotInitialized,"Text is not initialized yet");return this.text.indexRangeToPosRange(n,e)}}let Md=class{constructor(n,e){d(this,"valueType");d(this,"value");d(this,"context");d(this,"counter");this.valueType=n,this.value=e}initialize(n,e){this.valueType=e.getValueType(),this.context=n,this.counter=e,this.value=e.getValue()}getID(){return this.counter.getID()}getValue(){return this.value}getValueType(){return this.valueType}increase(n){if(!this.context||!this.counter)throw new C(x.ErrNotInitialized,"Counter is not initialized yet");const e=this.context.issueTimeTicket(),r=Kt.of(n,e);if(!r.isNumericType())throw new TypeError(`Unsupported type of value: ${typeof r.getValue()}`);return this.counter.increase(r),this.context.push(Ms.create(this.counter.getCreatedAt(),r,e)),this}toJSForTest(){if(!this.context||!this.counter)throw new C(x.ErrNotInitialized,"Counter is not initialized yet");return this.counter.toJSForTest()}};function zd(s){if(s.isText)return{type:s.type,value:s.value};const n={type:s.type,children:s.children.map(e=>zd(e))};return s.attrs&&(n.attributes=gr(s.attrs.toObject())),n}function iA(s,n){const e={type:s.isText?s.parent.type:s.type,children:s.isText?s.parent.getChildrenText().length===n?[]:[{type:Gn,value:s.parent.getChildrenText().slice(n)}]:s.children.slice(n).map(r=>zd(r))};return s.attrs?e.attributes=gr(s.attrs.toObject()):s.isText&&s.parent.attrs&&(e.attributes=gr(s.parent.attrs.toObject())),e}function rA(s,n){const{node:e}=s,r=[...n].slice(0,-1),l=e.isText?e.parent.getChildrenText().length:e.children.length,c=[...r,l],h=[...r],m=[];h[h.length-1]+=1,n.every((y,T)=>y===c[T])||m.push({fromPath:[...n],toPath:c});const p=iA(e,n[n.length-1]);return p&&m.push({fromPath:h,toPath:h,content:p}),m}function aA(s,n){const{node:e,offset:r}=s,l=e.children[r],c=e.children[r-1],{children:h}=l,m=[...n].slice(0,-1),p=[{fromPath:[...n],toPath:[...m,r+1]}];if(!l.children.length)return p;const y=[...m,r-1,c.hasTextChild()?c.getChildrenText().length:c.children.length],T=h.map(N=>zd(N));return p.push({fromPath:y,toPath:y,content:T}),p}function Ud(s,n,e){const{type:r}=s,l=e.issueTimeTicket();if(r===Gn){M0(s);const{value:c}=s,h=je.create(de.of(l,0),r,c);n.append(h)}else{const{children:c=[]}=s,{attributes:h}=s;let m;if(typeof h=="object"&&!r0(h)){const y=Cs(h);m=new pr;for(const[T,N]of Object.entries(y))m.set(T,N,l)}const p=je.create(de.of(l,0),r,void 0,m);n.append(p);for(const y of c)Ud(y,p,e)}}function sA(s,n){const{type:e}=n,r=s.issueTimeTicket();let l;if(n.type===Gn){const{value:c}=n;l=je.create(de.of(r,0),e,c)}else if(n){const{children:c=[]}=n,{attributes:h}=n;let m;if(typeof h=="object"&&!r0(h)){const p=Cs(h);m=new pr;for(const[y,T]of Object.entries(p))m.set(y,T,r)}l=je.create(de.of(s.issueTimeTicket(),0),e,void 0,m);for(const p of c)Ud(p,l,s)}return l}function M0(s){if(!s.value.length)throw new C(x.ErrInvalidArgument,"text node cannot have empty value");return!0}function Nv(s){if(!s.length)return!0;if(s[0].type===Gn)for(const e of s){const{type:r}=e;if(r!==Gn)throw new C(x.ErrInvalidArgument,"element node and text node cannot be passed together");M0(e)}else for(const e of s){const{type:r}=e;if(r===Gn)throw new C(x.ErrInvalidArgument,"element node and text node cannot be passed together")}return!0}class Ld{constructor(n){d(this,"initialRoot");d(this,"context");d(this,"tree");this.initialRoot=n}initialize(n,e){this.context=n,this.tree=e}getID(){return this.tree.getID()}buildRoot(n){if(!this.initialRoot)return je.create(de.of(n.issueTimeTicket(),0),tw);const e=je.create(de.of(n.issueTimeTicket(),0),this.initialRoot.type);for(const r of this.initialRoot.children)Ud(r,e,n);return e}getSize(){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getSize()}getNodeSize(){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getNodeSize()}getIndexTree(){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getIndexTree()}splitByPath(n){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new C(x.ErrInvalidArgument,"path should not be empty");const e=this.tree.pathToTreePos(n),r=rA(e,n);for(const l of r){const{fromPath:c,toPath:h,content:m}=l,p=this.tree.pathToPos(c),y=this.tree.pathToPos(h);this.editInternal(p,y,m?[m]:[],0)}}mergeByPath(n){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new C(x.ErrInvalidArgument,"path should not be empty");const e=this.tree.pathToTreePos(n);if(e.node.isText)throw new C(x.ErrInvalidArgument,"text node cannot be merged");const r=aA(e,n);for(const l of r){const{fromPath:c,toPath:h,content:m}=l,p=this.tree.pathToPos(c),y=this.tree.pathToPos(h);this.editInternal(p,y,m??[],0)}}styleByPath(n,e){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");if(!n.length)throw new C(x.ErrInvalidArgument,"path should not be empty");const[r,l]=this.tree.pathToPosRange(n),c=this.context.issueTimeTicket(),h=e?Cs(e):void 0,[m]=this.tree.style([r,l],h,c);for(const p of m)this.context.registerGCPair(p);this.context.push(mr.create(this.tree.getCreatedAt(),r,l,h?new Map(Object.entries(h)):new Map,c))}style(n,e,r){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new C(x.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(n),c=this.tree.findPos(e),h=this.context.issueTimeTicket(),m=r?Cs(r):void 0,[p]=this.tree.style([l,c],m,h);for(const y of p)this.context.registerGCPair(y);this.context.push(mr.create(this.tree.getCreatedAt(),l,c,m?new Map(Object.entries(m)):new Map,h))}removeStyle(n,e,r){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new C(x.ErrInvalidArgument,"from should be less than or equal to to");const l=this.tree.findPos(n),c=this.tree.findPos(e),h=this.context.issueTimeTicket(),[m]=this.tree.removeStyle([l,c],r,h);for(const p of m)this.context.registerGCPair(p);this.context.push(mr.createTreeRemoveStyleOperation(this.tree.getCreatedAt(),l,c,r,h))}editInternal(n,e,r,l=0){var p;if(r.length!==0&&r[0]&&(Nv(r),r[0].type!==Gn))for(const y of r){const{children:T=[]}=y;Nv(T)}const c=this.context.getLastTimeTicket();let h=new Array;if(((p=r[0])==null?void 0:p.type)===Gn){let y="";for(const T of r){const{value:N}=T;y+=N}h.push(je.create(de.of(this.context.issueTimeTicket(),0),Gn,y))}else h=r.map(y=>y&&sA(this.context,y)).filter(y=>y);const[,m]=this.tree.edit([n,e],h.length?h.map(y=>y==null?void 0:y.deepcopy()):void 0,l,c,()=>this.context.issueTimeTicket());for(const y of m)this.context.registerGCPair(y);return this.context.push(rl.create(this.tree.getCreatedAt(),n,e,h.length?h:void 0,l,c)),!0}editByPath(n,e,r,l=0){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==e.length)throw new C(x.ErrInvalidArgument,"path length should be equal");if(!n.length||!e.length)throw new C(x.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),h=this.tree.pathToPos(e);return this.editInternal(c,h,r?[r]:[],l)}editBulkByPath(n,e,r,l=0){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");if(n.length!==e.length)throw new C(x.ErrInvalidArgument,"path length should be equal");if(!n.length||!e.length)throw new C(x.ErrInvalidArgument,"path should not be empty");const c=this.tree.pathToPos(n),h=this.tree.pathToPos(e);return this.editInternal(c,h,r,l)}edit(n,e,r,l=0){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new C(x.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),h=this.tree.findPos(e);return this.editInternal(c,h,r?[r]:[],l)}editBulk(n,e,r,l=0){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");if(n>e)throw new C(x.ErrInvalidArgument,"from should be less than or equal to to");const c=this.tree.findPos(n),h=this.tree.findPos(e);return this.editInternal(c,h,r,l)}toXML(){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toXML()}toJSON(){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSON()}toJSForTest(){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSForTest()}toJSInfoForTest(){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.toJSInfoForTest()}getRootTreeNode(){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.getRootTreeNode()}indexToPath(n){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexToPath(n)}pathToIndex(n){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.pathToIndex(n)}pathRangeToPosRange(n){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");const e=[this.tree.pathToIndex(n[0]),this.tree.pathToIndex(n[1])],r=this.tree.indexRangeToPosRange(e);return[r[0].toStruct(),r[1].toStruct()]}indexRangeToPosRange(n){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");return this.tree.indexRangeToPosStructRange(n)}posRangeToIndexRange(n){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");const e=[En.fromStruct(n[0]),En.fromStruct(n[1])];return this.tree.posRangeToIndexRange(e)}posRangeToPathRange(n){if(!this.context||!this.tree)throw new C(x.ErrNotInitialized,"Tree is not initialized yet");const e=[En.fromStruct(n[0]),En.fromStruct(n[1])];return this.tree.posRangeToPathRange(e)}}function xv(s,n){return I0(s,n)}function Kr(s,n){if(n){if(n instanceof Kt)return n;if(n instanceof Ce)return I0(s,n);if(n instanceof Ye)return tA(s,n);if(n instanceof mn)return new Id(s,n);if(n instanceof Ge){const e=new Md($n.Int,0);return e.initialize(s,n),e}else if(n instanceof yn){const e=new Ld;return e.initialize(s,n),e}}else return;throw new TypeError(`Unsupported type of element: ${typeof n}`)}function Aa(s,n){const e=Kr(s,n);return e instanceof Kt?e.getValue():e}function ec(s,n,e){let r;if(Kt.isSupport(n))r=Kt.of(n,e);else if(Array.isArray(n))r=Ye.create(e,Yt.buildArrayElements(s,n));else if(typeof n=="object")n instanceof Id?(r=mn.create(Is.create(),e),n.initialize(s,r)):n instanceof Md?(r=Ge.create(n.getValueType(),n.getValue(),e),n.initialize(s,r)):n instanceof Ld?(r=yn.create(n.buildRoot(s),e),n.initialize(s,r)):r=Ce.create(e,Wo.buildObjectMembers(s,n));else throw new TypeError(`Unsupported type of value: ${typeof n}`);return r}const Dv=50;class oA{constructor(){d(this,"undoStack",[]);d(this,"redoStack",[])}hasUndo(){return this.undoStack.length>0}hasRedo(){return this.redoStack.length>0}pushUndo(n){this.undoStack.length>=Dv&&this.undoStack.shift(),this.undoStack.push(n)}popUndo(){return this.undoStack.pop()}pushRedo(n){this.redoStack.length>=Dv&&this.redoStack.shift(),this.redoStack.push(n)}popRedo(){return this.redoStack.pop()}clearRedo(){this.redoStack=[]}getUndoStackForTest(){return this.undoStack}getRedoStackForTest(){return this.redoStack}}const lA="yorkie-devtools-panel",uA="yorkie-devtools-sdk";function cA(s){return[he.StatusChanged,he.Snapshot,he.LocalChange,he.RemoteChange,he.Initialized,he.Watched,he.Unwatched,he.PresenceChanged].includes(s.type)}function fA(s){return s.every(cA)}let Ts="disconnected";const Ov=new Map,Ru=new Map;typeof window<"u"&&(window.docEventsForReplayByDocKey=Ru);function Eu(s,n){(n!=null&&n.force||Ts!=="disconnected")&&window.postMessage({source:uA,...s},"*")}function hA(s){if(!s.isEnableDevtools()||typeof window>"u"||Ov.has(s.getKey()))return;Ru.set(s.getKey(),[]);const n=s.subscribe("all",e=>{fA(e)&&(Ru.get(s.getKey()).push(e),Ts==="synced"&&Eu({msg:"doc::sync::partial",docKey:s.getKey(),event:e}))});Ov.set(s.getKey(),[n]),Eu({msg:"refresh-devtools"},{force:!0}),window.addEventListener("message",e=>{var l;if(((l=e.data)==null?void 0:l.source)!==lA)return;switch(e.data.msg){case"devtools::connect":if(Ts!=="disconnected")break;Ts="connected",Eu({msg:"doc::available",docKey:s.getKey()}),W.info(`[YD] Devtools connected. Doc: ${s.getKey()}`);break;case"devtools::disconnect":Ts="disconnected",W.info(`[YD] Devtools disconnected. Doc: ${s.getKey()}`);break;case"devtools::subscribe":Ts="synced",Eu({msg:"doc::sync::full",docKey:s.getKey(),events:Ru.get(s.getKey())}),W.info(`[YD] Devtools subscribed. Doc: ${s.getKey()}`);break}})}var $r=(s=>(s.Detached="detached",s.Attached="attached",s.Removed="removed",s))($r||{}),he=(s=>(s.StatusChanged="status-changed",s.ConnectionChanged="connection-changed",s.SyncStatusChanged="sync-status-changed",s.Snapshot="snapshot",s.LocalChange="local-change",s.RemoteChange="remote-change",s.Initialized="initialized",s.Watched="watched",s.Unwatched="unwatched",s.PresenceChanged="presence-changed",s.Broadcast="broadcast",s.LocalBroadcast="local-broadcast",s.AuthError="auth-error",s))(he||{}),ka=(s=>(s.Connected="connected",s.Disconnected="disconnected",s))(ka||{}),dd=(s=>(s.Synced="synced",s.SyncFailed="sync-failed",s))(dd||{});class z0{constructor(n,e){d(this,"key");d(this,"status");d(this,"opts");d(this,"changeID");d(this,"checkpoint");d(this,"localChanges");d(this,"root");d(this,"clone");d(this,"eventStream");d(this,"eventStreamObserver");d(this,"onlineClients");d(this,"presences");d(this,"history");d(this,"internalHistory");d(this,"isUpdating");this.opts=e||{},this.key=n,this.status="detached",this.root=Fo.create(),this.changeID=uw,this.checkpoint=cw,this.localChanges=[],this.eventStream=Ww(r=>{this.eventStreamObserver=r}),this.onlineClients=new Set,this.presences=new Map,this.isUpdating=!1,this.internalHistory=new oA,this.history={canUndo:this.canUndo.bind(this),canRedo:this.canRedo.bind(this),undo:this.undo.bind(this),redo:this.redo.bind(this)},hA(this)}update(n,e){if(this.getStatus()==="removed")throw new C(x.ErrDocumentRemoved,`${this.key} is removed`);this.ensureClone();const r=this.changeID.getActorID(),l=ws.create(this.changeID.next(),this.clone.root,this.clone.presences.get(r)||{},e);try{const c=xv(l,this.clone.root.getObject());this.presences.has(r)||this.clone.presences.set(r,{}),this.isUpdating=!0,n(c,new zh(l,this.clone.presences.get(r)))}catch(c){throw this.clone=void 0,c}finally{this.isUpdating=!1}if(l.hasChange()){W.isEnabled(De.Trivial)&&W.trivial(`trying to update a local change: ${this.toJSON()}`);const c=l.getChange(),{opInfos:h,reverseOps:m}=c.execute(this.root,this.presences,Mt.Local),p=l.getReversePresence();p&&m.push({type:"presence",value:p}),this.localChanges.push(c),m.length>0&&this.internalHistory.pushUndo(m),h.length>0&&this.internalHistory.clearRedo(),this.changeID=c.getID();const y=[];h.length>0&&y.push({type:"local-change",source:Mt.Local,value:{message:c.getMessage()||"",operations:h,actor:r,clientSeq:c.getID().getClientSeq(),serverSeq:c.getID().getServerSeq()},rawChange:this.isEnableDevtools()?c.toStruct():void 0}),c.hasPresenceChange()&&y.push({type:"presence-changed",source:Mt.Local,value:{clientID:r,presence:this.getPresence(r)}}),this.publish(y),W.isEnabled(De.Trivial)&&W.trivial(`after update a local change: ${this.toJSON()}`)}}subscribe(n,e,r,l){if(typeof n=="string"){if(typeof e!="function")throw new C(x.ErrInvalidArgument,"Second argument must be a callback function");if(n==="presence"){const m=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="initialized"&&y.type!=="watched"&&y.type!=="unwatched"&&y.type!=="presence-changed"||m(y)},r,l)}if(n==="my-presence"){const m=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="initialized"&&y.type!=="presence-changed"||y.type==="presence-changed"&&y.value.clientID!==this.changeID.getActorID()||m(y)},r,l)}if(n==="others"){const m=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="watched"&&y.type!=="unwatched"&&y.type!=="presence-changed"||y.value.clientID!==this.changeID.getActorID()&&m(y)},r,l)}if(n==="connection"){const m=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="connection-changed"&&m(y)},r,l)}if(n==="status"){const m=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="status-changed"&&m(y)},r,l)}if(n==="sync"){const m=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="sync-status-changed"&&m(y)},r,l)}if(n==="local-broadcast"){const m=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="local-broadcast"&&m(y)},r)}if(n==="broadcast"){const m=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="broadcast"&&m(y)},r)}if(n==="auth-error"){const m=e;return this.eventStream.subscribe(p=>{for(const y of p)y.type==="auth-error"&&m(y)},r)}if(n==="all"){const m=e;return this.eventStream.subscribe(m,r,l)}const c=n,h=e;return this.eventStream.subscribe(m=>{for(const p of m){if(p.type!=="local-change"&&p.type!=="remote-change")continue;const y=[];for(const T of p.value.operations)this.isSameElementOrChildOf(T.path,c)&&y.push(T);y.length&&h({...p,value:{...p.value,operations:y}})}},r,l)}if(typeof n=="function"){const c=n,h=e,m=r;return this.eventStream.subscribe(p=>{for(const y of p)y.type!=="snapshot"&&y.type!=="local-change"&&y.type!=="remote-change"||c(y)},h,m)}throw new C(x.ErrInvalidArgument,`"${n}" is not a valid`)}publish(n){this.eventStreamObserver&&this.eventStreamObserver.next(n)}isSameElementOrChildOf(n,e){if(e===n)return!0;const r=n.split(".");return e.split(".").every((c,h)=>c===r[h])}removePushedLocalChanges(n){for(;this.localChanges.length&&!(this.localChanges[0].getID().getClientSeq()>n);)this.localChanges.shift()}applyChangePack(n){const e=n.hasSnapshot();e?this.applySnapshot(n.getCheckpoint().getServerSeq(),n.getVersionVector(),n.getSnapshot(),n.getCheckpoint().getClientSeq()):(this.applyChanges(n.getChanges(),Mt.Remote),this.removePushedLocalChanges(n.getCheckpoint().getClientSeq())),this.checkpoint=this.checkpoint.forward(n.getCheckpoint()),e||this.garbageCollect(n.getVersionVector()),n.getIsRemoved()&&this.applyStatus("removed"),W.isEnabled(De.Trivial)&&W.trivial(`${this.root.toJSON()}`)}getCheckpoint(){return this.checkpoint}getChangeID(){return this.changeID}hasLocalChanges(){return this.localChanges.length>0}ensureClone(){this.clone||(this.clone={root:this.root.deepcopy(),presences:wn(this.presences)})}createChangePack(){const n=Array.from(this.localChanges),e=this.checkpoint.increaseClientSeq(n.length);return oc.create(this.key,e,!1,n,this.getVersionVector())}setActor(n){for(const e of this.localChanges)e.setActor(n);this.changeID=this.changeID.setActor(n)}isEnableDevtools(){return!!this.opts.enableDevtools}getKey(){return this.key}getStatus(){return this.status}getCloneRoot(){if(this.clone)return this.clone.root.getObject()}getRoot(){this.ensureClone();const n=ws.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});return xv(n,this.clone.root.getObject())}getDocSize(){return this.root.getDocSize()}garbageCollect(n){return this.opts.disableGC?0:(this.clone&&this.clone.root.garbageCollect(n),this.root.garbageCollect(n))}getRootObject(){return this.root.getObject()}getGarbageLen(){return this.root.getGarbageLen()}getGarbageLenFromClone(){return this.clone.root.getGarbageLen()}toJSON(){return this.root.toJSON()}toSortedJSON(){return this.root.toSortedJSON()}getStats(){return this.root.getStats()}toJSForTest(){return{...this.getRoot().toJSForTest(),key:"root"}}applySnapshot(n,e,r,l=-1){const{root:c,presences:h}=Zt.bytesToSnapshot(r);this.root=new Fo(c),this.presences=h,this.changeID=this.changeID.setClocks(e.maxLamport(),e),this.clone=void 0,this.removePushedLocalChanges(l),this.applyChanges(this.localChanges,Mt.Local),this.publish([{type:"snapshot",source:Mt.Remote,value:{serverSeq:n.toString(),snapshot:this.isEnableDevtools()?Zt.bytesToHex(r):void 0,snapshotVector:Zt.versionVectorToHex(e)}}])}applyChanges(n,e){W.isEnabled(De.Debug)&&W.debug(`trying to apply ${n.length} remote changes.elements:${this.root.getElementMapSize()}, removeds:${this.root.getGarbageElementSetSize()}`),W.isEnabled(De.Trivial)&&W.trivial(n.map(r=>`${r.getID().toTestString()}	${r.toTestString()}`).join(`
`));for(const r of n)this.applyChange(r,e);W.isEnabled(De.Debug)&&W.debug(`after appling ${n.length} remote changes.elements:${this.root.getElementMapSize()},  removeds:${this.root.getGarbageElementSetSize()}`)}applyChange(n,e){this.ensureClone(),n.execute(this.clone.root,this.clone.presences,e);const r=[],l=n.getID().getActorID();if(n.hasPresenceChange()&&this.onlineClients.has(l)){const h=n.getPresenceChange();switch(h.type){case ta.Put:r.push(this.presences.has(l)?{type:"presence-changed",source:e,value:{clientID:l,presence:h.presence}}:{type:"watched",source:Mt.Remote,value:{clientID:l,presence:h.presence}});break;case ta.Clear:r.push({type:"unwatched",source:Mt.Remote,value:{clientID:l,presence:this.getPresence(l)}}),this.removeOnlineClient(l);break}}const{opInfos:c}=n.execute(this.root,this.presences,e);if(this.changeID=this.changeID.syncClocks(n.getID()),c.length>0){const h=this.isEnableDevtools()?n.toStruct():void 0;r.push(e===Mt.Remote?{type:"remote-change",source:e,value:{actor:l,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:h}:{type:"local-change",source:e,value:{actor:l,clientSeq:n.getID().getClientSeq(),serverSeq:n.getID().getServerSeq(),message:n.getMessage()||"",operations:c},rawChange:h})}r.length>0&&this.publish(r)}applyWatchStream(n){if(n.body.case==="initialization"){const e=n.body.value.clientIds,r=new Set;for(const l of e)l!==this.changeID.getActorID()&&r.add(l);this.setOnlineClients(r),this.publish([{type:"initialized",source:Mt.Local,value:this.getPresences()}]);return}if(n.body.case==="event"){const{type:e,publisher:r}=n.body.value,l=[];if(e===Da.DOCUMENT_WATCHED){if(this.onlineClients.has(r)&&this.hasPresence(r))return;this.addOnlineClient(r),this.hasPresence(r)&&l.push({type:"watched",source:Mt.Remote,value:{clientID:r,presence:this.getPresence(r)}})}else if(e===Da.DOCUMENT_UNWATCHED){const c=this.getPresence(r);this.removeOnlineClient(r),c&&l.push({type:"unwatched",source:Mt.Remote,value:{clientID:r,presence:c}})}else if(e===Da.DOCUMENT_BROADCAST&&n.body.value.body){const{topic:c,payload:h}=n.body.value.body,m=new TextDecoder;l.push({type:"broadcast",value:{clientID:r,topic:c,payload:JSON.parse(m.decode(h))}})}l.length>0&&this.publish(l)}}applyStatus(n){this.status=n,n==="detached"&&this.setActor(ac),this.publish([{source:n==="removed"?Mt.Remote:Mt.Local,type:"status-changed",value:n==="attached"?{status:n,actorID:this.changeID.getActorID()}:{status:n}}])}applyDocEventForReplay(n){if(n.type==="status-changed"){this.applyStatus(n.value.status),n.value.status==="attached"&&this.setActor(n.value.actorID);return}if(n.type==="snapshot"){const{snapshot:e,serverSeq:r,snapshotVector:l}=n.value;if(!e)return;this.applySnapshot(BigInt(r),Zt.hexToVersionVector(l),Zt.hexToBytes(e));return}if(n.type==="local-change"||n.type==="remote-change"){if(!n.rawChange)return;const e=Bs.fromStruct(n.rawChange);this.applyChange(e,n.source)}if(n.type==="initialized"){const e=new Set;for(const{clientID:r,presence:l}of n.value)e.add(r),this.presences.set(r,l);this.setOnlineClients(e);return}if(n.type==="watched"){const{clientID:e,presence:r}=n.value;this.addOnlineClient(e),this.presences.set(e,r);return}if(n.type==="unwatched"){const{clientID:e}=n.value;this.removeOnlineClient(e),this.presences.delete(e)}if(n.type==="presence-changed"){const{clientID:e,presence:r}=n.value;this.presences.set(e,r)}}applyDocEventsForReplay(n){for(const e of n)this.applyDocEventForReplay(e)}getValueByPath(n){if(!n.startsWith("$"))throw new C(x.ErrInvalidArgument,'path must start with "$"');const e=n.split(".");e.shift();let r=this.getRoot();for(const l of e)if(r=r[l],r===void 0)return;return r}setOnlineClients(n){this.onlineClients=n}resetOnlineClients(){this.onlineClients=new Set}addOnlineClient(n){this.onlineClients.add(n)}removeOnlineClient(n){this.onlineClients.delete(n)}hasPresence(n){return this.presences.has(n)}getMyPresence(){if(this.status!=="attached")return{};const n=this.presences.get(this.changeID.getActorID());return n?wn(n):{}}getPresence(n){if(n===this.changeID.getActorID())return this.getMyPresence();if(!this.onlineClients.has(n))return;const e=this.presences.get(n);return e?wn(e):void 0}getPresenceForTest(n){const e=this.presences.get(n);return e?wn(e):void 0}getPresences(){const n=[];n.push({clientID:this.changeID.getActorID(),presence:wn(this.getMyPresence())});for(const e of this.onlineClients)this.presences.has(e)&&n.push({clientID:e,presence:wn(this.presences.get(e))});return n}getSelfForTest(){return{clientID:this.getChangeID().getActorID(),presence:this.getMyPresence()}}getOthersForTest(){const n=this.getChangeID().getActorID();return this.getPresences().filter(e=>e.clientID!==n).sort((e,r)=>e.clientID>r.clientID?1:-1)}canUndo(){return this.internalHistory.hasUndo()&&!this.isUpdating}filterVersionVector(n){const r=this.changeID.getVersionVector().filter(n);this.changeID=this.changeID.setVersionVector(r)}canRedo(){return this.internalHistory.hasRedo()&&!this.isUpdating}undo(){if(this.isUpdating)throw new C(x.ErrRefused,"Undo is not allowed during an update");const n=this.internalHistory.popUndo();if(n===void 0)throw new C(x.ErrRefused,"There is no operation to be undone");this.ensureClone();const e=ws.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const y of n){if(!(y instanceof xn)){new zh(e,wn(this.clone.presences.get(this.changeID.getActorID()))).set(y.value,{addToHistory:!0});continue}const T=e.issueTimeTicket();y.setExecutedAt(T),e.push(y)}const r=e.getChange();r.execute(this.clone.root,this.clone.presences,Mt.UndoRedo);const{opInfos:l,reverseOps:c}=r.execute(this.root,this.presences,Mt.UndoRedo),h=e.getReversePresence();if(h&&c.push({type:"presence",value:h}),c.length>0&&this.internalHistory.pushRedo(c),!r.hasPresenceChange()&&l.length===0)return;this.localChanges.push(r),this.changeID=r.getID();const m=this.changeID.getActorID(),p=[];l.length>0&&p.push({type:"local-change",source:Mt.UndoRedo,value:{message:r.getMessage()||"",operations:l,actor:m,clientSeq:r.getID().getClientSeq(),serverSeq:r.getID().getServerSeq()},rawChange:this.isEnableDevtools()?r.toStruct():void 0}),r.hasPresenceChange()&&p.push({type:"presence-changed",source:Mt.UndoRedo,value:{clientID:m,presence:this.getPresence(m)}}),this.publish(p)}redo(){if(this.isUpdating)throw new C(x.ErrRefused,"Redo is not allowed during an update");const n=this.internalHistory.popRedo();if(n===void 0)throw new C(x.ErrRefused,"There is no operation to be redone");this.ensureClone();const e=ws.create(this.changeID.next(),this.clone.root,this.clone.presences.get(this.changeID.getActorID())||{});for(const y of n){if(!(y instanceof xn)){new zh(e,wn(this.clone.presences.get(this.changeID.getActorID()))).set(y.value,{addToHistory:!0});continue}const T=e.issueTimeTicket();y.setExecutedAt(T),e.push(y)}const r=e.getChange();r.execute(this.clone.root,this.clone.presences,Mt.UndoRedo);const{opInfos:l,reverseOps:c}=r.execute(this.root,this.presences,Mt.UndoRedo),h=e.getReversePresence();if(h&&c.push({type:"presence",value:h}),c.length>0&&this.internalHistory.pushUndo(c),!r.hasPresenceChange()&&l.length===0)return;this.localChanges.push(r),this.changeID=r.getID();const m=this.changeID.getActorID(),p=[];l.length>0&&p.push({type:"local-change",source:Mt.UndoRedo,value:{message:r.getMessage()||"",operations:l,actor:m,clientSeq:r.getID().getClientSeq(),serverSeq:r.getID().getServerSeq()},rawChange:this.isEnableDevtools()?r.toStruct():void 0}),r.hasPresenceChange()&&p.push({type:"presence-changed",source:Mt.UndoRedo,value:{clientID:m,presence:this.getPresence(m)}}),this.publish(p)}getUndoStackForTest(){return this.internalHistory.getUndoStackForTest()}getRedoStackForTest(){return this.internalHistory.getRedoStackForTest()}broadcast(n,e,r){const l={type:"local-broadcast",value:{topic:n,payload:e},options:r};this.publish([l])}getVersionVector(){return this.changeID.getVersionVector()}}function dA(s,n){let e=n;return{authInterceptor:c=>async h=>(s&&h.header.set("x-api-key",s),e&&h.header.set("authorization",e),await c(h)),setToken:c=>{e=c}}}const gA="@yorkie-js/sdk",mA="0.6.9",Cv={name:gA,version:mA};function yA(s){return n=>async e=>(s?e.header.set("x-yorkie-user-agent",s):e.header.set("x-yorkie-user-agent",Cv.name+"/"+Cv.version),await n(e))}const pA=s=>{try{if(JSON.stringify(s)===void 0)return!1}catch{return!1}return!0};var ku=(s=>(s.Manual="manual",s.Realtime="realtime",s.RealtimePushOnly="realtime-pushonly",s.RealtimeSyncOff="realtime-syncoff",s))(ku||{});const Lo={rpcAddr:"https://api.yorkie.dev",syncLoopDuration:50,retrySyncLoopDelay:1e3,reconnectStreamDelay:1e3},Jh={maxRetries:1/0,initialRetryInterval:1e3,maxBackoff:2e4};class U0{constructor(n){d(this,"id");d(this,"key");d(this,"metadata");d(this,"status");d(this,"attachmentMap");d(this,"apiKey");d(this,"authTokenInjector");d(this,"conditions");d(this,"syncLoopDuration");d(this,"reconnectStreamDelay");d(this,"retrySyncLoopDelay");d(this,"rpcClient");d(this,"setAuthToken");d(this,"taskQueue");d(this,"processing",!1);d(this,"keepalive",!1);n=n||Lo;const e=n.rpcAddr||Lo.rpcAddr;this.key=n.key||B0(),this.metadata=n.metadata||{},this.status="deactivated",this.attachmentMap=new Map,this.apiKey=n.apiKey||"",this.authTokenInjector=n.authTokenInjector,this.conditions={SyncLoop:!1,WatchLoop:!1},this.syncLoopDuration=n.syncLoopDuration??Lo.syncLoopDuration,this.reconnectStreamDelay=n.reconnectStreamDelay??Lo.reconnectStreamDelay,this.retrySyncLoopDelay=n.retrySyncLoopDelay??Lo.retrySyncLoopDelay;const{authInterceptor:r,setToken:l}=dA(this.apiKey);this.setAuthToken=l,this.rpcClient=b1(Y1,j1({baseUrl:e,interceptors:[r,yA(n==null?void 0:n.userAgent)],fetch:(c,h)=>{const m={...h,keepalive:this.keepalive};return fetch(c,m)}})),this.taskQueue=[]}async activate(){if(this.isActive())return Promise.resolve();if(this.authTokenInjector){const n=await this.authTokenInjector();this.setAuthToken(n)}return this.enqueueTask(async()=>{try{const n=await this.rpcClient.activateClient({clientKey:this.key,metadata:this.metadata},{headers:{"x-shard-key":this.apiKey}});this.id=n.clientId,this.status="activated",this.runSyncLoop(),W.info(`[AC] c:"${this.getKey()}" activated, id:"${this.id}"`),typeof window<"u"&&window.addEventListener("beforeunload",async()=>{await this.deactivate({keepalive:!0})})}catch(n){throw W.error(`[AC] c:"${this.getKey()}" err :`,n),await this.handleConnectError(n),n}})}deactivate(n={keepalive:!1}){if(this.status==="deactivated")return Promise.resolve();const e=async()=>{try{await this.rpcClient.deactivateClient({clientId:this.id},{headers:{"x-shard-key":this.apiKey}}),this.deactivateInternal(),W.info(`[DC] c"${this.getKey()}" deactivated`)}catch(r){throw W.error(`[DC] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}};if(n.keepalive){this.keepalive=!0;const r=e();return this.keepalive=!1,r}return this.enqueueTask(e)}hasDocument(n){return this.attachmentMap.has(n)}attach(n,e={}){if(!this.isActive())throw new C(x.ErrClientNotActivated,`${this.key} is not active`);if(n.getStatus()!==$r.Detached)throw new C(x.ErrDocumentNotDetached,`${n.getKey()} is not detached`);n.setActor(this.id),n.update((c,h)=>h.set(e.initialPresence||{}));const r=n.subscribe("local-broadcast",async c=>{var T;const{topic:h,payload:m}=c.value,p=(T=c.options)==null?void 0:T.error,y=c.options;try{await this.broadcast(n.getKey(),h,m,y)}catch(N){N instanceof Error&&(p==null||p(N))}}),l=e.syncMode??"realtime";return this.enqueueTask(async()=>{try{const c=await this.rpcClient.attachDocument({clientId:this.id,changePack:Zt.toChangePack(n.createChangePack())},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),h=Zt.fromChangePack(c.changePack);if(n.applyChangePack(h),n.getStatus()===$r.Removed)return n;n.applyStatus($r.Attached),this.attachmentMap.set(n.getKey(),new _w(this.reconnectStreamDelay,n,c.documentId,l,r)),l!=="manual"&&await this.runWatchLoop(n.getKey()),W.info(`[AD] c:"${this.getKey()}" attaches d:"${n.getKey()}"`);const m=n.getRootObject();if(e.initialRoot){const p=e.initialRoot;n.update(y=>{for(const[T,N]of Object.entries(p))if(!m.has(T)){const B=T;y[B]=N}})}return n}catch(c){throw W.error(`[AD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}})}detach(n,e={keepalive:!1}){if(!this.isActive())throw new C(x.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(n.getKey());if(!r)throw new C(x.ErrDocumentNotAttached,`${n.getKey()} is not attached`);n.update((c,h)=>h.clear());const l=async()=>{try{const c=await this.rpcClient.detachDocument({clientId:this.id,documentId:r.docID,changePack:Zt.toChangePack(n.createChangePack()),removeIfNotAttached:e.removeIfNotAttached??!1},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),h=Zt.fromChangePack(c.changePack);return n.applyChangePack(h),n.getStatus()!==$r.Removed&&n.applyStatus($r.Detached),this.detachInternal(n.getKey()),W.info(`[DD] c:"${this.getKey()}" detaches d:"${n.getKey()}"`),n}catch(c){throw W.error(`[DD] c:"${this.getKey()}" err :`,c),await this.handleConnectError(c),c}};if(e.keepalive){this.keepalive=!0;const c=l();return this.keepalive=!1,c}return this.enqueueTask(l)}async changeSyncMode(n,e){if(!this.isActive())throw new C(x.ErrClientNotActivated,`${this.key} is not active`);const r=this.attachmentMap.get(n.getKey());if(!r)throw new C(x.ErrDocumentNotAttached,`${n.getKey()} is not attached`);const l=r.syncMode;return l===e?n:(r.changeSyncMode(e),e==="manual"?(r.cancelWatchStream(),n):(e==="realtime"&&(r.remoteChangeEventReceived=!0),l==="manual"&&await this.runWatchLoop(n.getKey()),n))}sync(n){if(!this.isActive())throw new C(x.ErrClientNotActivated,`${this.key} is not active`);if(n){const e=this.attachmentMap.get(n.getKey());if(!e)throw new C(x.ErrDocumentNotAttached,`${n.getKey()} is not attached`);return this.enqueueTask(async()=>this.syncInternal(e,"realtime").catch(async r=>{throw W.error(`[SY] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r}))}return this.enqueueTask(async()=>{const e=[];for(const[,r]of this.attachmentMap)e.push(this.syncInternal(r,r.syncMode));return Promise.all(e).catch(async r=>{throw W.error(`[SY] c:"${this.getKey()}" err :`,r),await this.handleConnectError(r),r})})}remove(n){if(!this.isActive())throw new C(x.ErrClientNotActivated,`${this.key} is not active`);const e=this.attachmentMap.get(n.getKey());if(!e)throw new C(x.ErrDocumentNotAttached,`${n.getKey()} is not attached`);n.setActor(this.id);const r=Zt.toChangePack(n.createChangePack());return r.isRemoved=!0,this.enqueueTask(async()=>{try{const l=await this.rpcClient.removeDocument({clientId:this.id,documentId:e.docID,changePack:r},{headers:{"x-shard-key":`${this.apiKey}/${n.getKey()}`}}),c=Zt.fromChangePack(l.changePack);n.applyChangePack(c),this.detachInternal(n.getKey()),W.info(`[RD] c:"${this.getKey()}" removes d:"${n.getKey()}"`)}catch(l){throw W.error(`[RD] c:"${this.getKey()}" err :`,l),await this.handleConnectError(l),l}})}getID(){return this.id}getKey(){return this.key}isActive(){return this.status==="activated"}getStatus(){return this.status}getCondition(n){return this.conditions[n]}broadcast(n,e,r,l){if(!this.isActive())throw new C(x.ErrClientNotActivated,`${this.key} is not active`);const c=this.attachmentMap.get(n);if(!c)throw new C(x.ErrDocumentNotAttached,`${n} is not attached`);if(!pA(r))throw new C(x.ErrInvalidArgument,"payload is not serializable");const h=(l==null?void 0:l.maxRetries)??Jh.maxRetries,m=Jh.maxBackoff;let p=0;const y=N=>Math.min(Jh.initialRetryInterval*2**N,m),T=async()=>this.enqueueTask(async()=>{try{await this.rpcClient.broadcast({clientId:this.id,documentId:c.docID,topic:e,payload:new TextEncoder().encode(JSON.stringify(r))},{headers:{"x-shard-key":`${this.apiKey}/${n}`}}),W.info(`[BC] c:"${this.getKey()}" broadcasts d:"${n}" t:"${e}"`)}catch(N){if(W.error(`[BC] c:"${this.getKey()}" err:`,N),await this.handleConnectError(N))if(N instanceof Nt&&Gr(N)===x.ErrUnauthenticated&&c.doc.publish([{type:he.AuthError,value:{reason:qo(N).reason,method:"Broadcast"}}]),p<h)p++,setTimeout(()=>T(),y(p-1)),W.info(`[BC] c:"${this.getKey()}" retry attempt ${p}/${h}`);else throw W.error(`[BC] c:"${this.getKey()}" exceeded maximum retry attempts`),N;else throw N}});return T()}runSyncLoop(){const n=()=>{if(!this.isActive()){W.debug(`[SL] c:"${this.getKey()}" exit sync loop`),this.conditions.SyncLoop=!1;return}const e=[];for(const[,r]of this.attachmentMap)r.needRealtimeSync()&&(r.remoteChangeEventReceived=!1,e.push(this.syncInternal(r,r.syncMode).catch(async l=>{throw l instanceof Nt&&Gr(l)===x.ErrUnauthenticated&&r.doc.publish([{type:he.AuthError,value:{reason:qo(l).reason,method:"PushPull"}}]),l})));Promise.all(e).then(()=>setTimeout(n,this.syncLoopDuration)).catch(async r=>{W.error(`[SL] c:"${this.getKey()}" sync failed:`,r),await this.handleConnectError(r)?setTimeout(n,this.retrySyncLoopDelay):this.conditions.SyncLoop=!1})};W.debug(`[SL] c:"${this.getKey()}" run sync loop`),this.conditions.SyncLoop=!0,n()}async runWatchLoop(n){const e=this.attachmentMap.get(n);if(!e)throw new C(x.ErrDocumentNotAttached,`${n} is not attached`);return this.conditions.WatchLoop=!0,e.runWatchLoop(r=>{if(!this.isActive())return this.conditions.WatchLoop=!1,Promise.reject(new C(x.ErrClientNotActivated,`${this.key} is not active`));const l=new AbortController,c=this.rpcClient.watchDocument({clientId:this.id,documentId:e.docID},{headers:{"x-shard-key":`${this.apiKey}/${n}`},signal:l.signal});return e.doc.publish([{type:he.ConnectionChanged,value:ka.Connected}]),W.info(`[WD] c:"${this.getKey()}" watches d:"${n}"`),new Promise((h,m)=>{(async()=>{try{for await(const y of c)this.handleWatchDocumentsResponse(e,y),y.body.case==="initialization"&&h([c,l])}catch(y){e.doc.resetOnlineClients(),e.doc.publish([{type:he.Initialized,source:Mt.Local,value:e.doc.getPresences()}]),e.doc.publish([{type:he.ConnectionChanged,value:ka.Disconnected}]),W.debug(`[WD] c:"${this.getKey()}" unwatches`),await this.handleConnectError(y)?(y instanceof Nt&&Gr(y)===x.ErrUnauthenticated&&e.doc.publish([{type:he.AuthError,value:{reason:qo(y).reason,method:"WatchDocuments"}}]),r()):this.conditions.WatchLoop=!1,m(y)}})()})})}handleWatchDocumentsResponse(n,e){if(e.body.case==="event"&&e.body.value.type===Da.DOCUMENT_CHANGED){n.remoteChangeEventReceived=!0;return}n.doc.applyWatchStream(e)}deactivateInternal(){this.status="deactivated";for(const[n,e]of this.attachmentMap)this.detachInternal(n),e.doc.applyStatus($r.Detached)}detachInternal(n){const e=this.attachmentMap.get(n);e&&(e.cancelWatchStream(),e.unsubscribeBroadcastEvent(),this.attachmentMap.delete(n))}async syncInternal(n,e){const{doc:r,docID:l}=n,c=r.createChangePack();try{const h=await this.rpcClient.pushPullChanges({clientId:this.id,documentId:l,changePack:Zt.toChangePack(c),pushOnly:e==="realtime-pushonly"},{headers:{"x-shard-key":`${this.apiKey}/${r.getKey()}`}}),m=Zt.fromChangePack(h.changePack);if(m.hasChanges()&&(n.syncMode==="realtime-pushonly"||n.syncMode==="realtime-syncoff"))return r;r.applyChangePack(m),n.doc.publish([{type:he.SyncStatusChanged,value:dd.Synced}]),r.getStatus()===$r.Removed&&this.detachInternal(r.getKey());const p=r.getKey(),y=m.getChangeSize();return W.info(`[PP] c:"${this.getKey()}" sync d:"${p}", push:${c.getChangeSize()} pull:${y} cp:${m.getCheckpoint().toTestString()}`),r}catch(h){throw r.publish([{type:he.SyncStatusChanged,value:dd.SyncFailed}]),W.error(`[PP] c:"${this.getKey()}" err :`,h),h}}async handleConnectError(n){if(!(n instanceof Nt))return!1;if(n.code===vt.Canceled||n.code===vt.Unknown||n.code===vt.ResourceExhausted||n.code===vt.Unavailable)return!0;if(Gr(n)===x.ErrUnauthenticated){if(this.authTokenInjector){const e=await this.authTokenInjector(qo(n).reason);this.setAuthToken(e)}return!0}return Gr(n)===x.ErrTooManySubscribers?(W.error(`[WD] c:"${this.getKey()}" err :`,n.rawMessage),!0):(Gr(n)===x.ErrTooManyAttachments||(Gr(n)===x.ErrClientNotActivated||Gr(n)===x.ErrClientNotFound)&&this.deactivateInternal(),!1)}enqueueTask(n){return new Promise((e,r)=>{this.taskQueue.push(()=>n().then(e).catch(r)),this.processing||this.processNext()})}async processNext(){if(this.taskQueue.length===0){this.processing=!1;return}try{this.processing=!0,await this.taskQueue.shift()()}catch{W.error(`[TQ] c:"${this.getKey()}" process failed, id:"${this.id}"`)}this.processNext()}}$n.Int,$n.Long;typeof globalThis<"u"&&(globalThis.yorkie={Client:U0,Document:z0,Primitive:Kt,Text:Id,Counter:Md,Tree:Ld,LogLevel:De,setLogLevel:Qw,IntType:$n.Int,LongType:$n.Long});const L0=Pt.createContext({client:void 0,loading:!0,error:void 0});function vA(s){const[n,e]=Pt.useState(void 0),[r,l]=Pt.useState(!0),[c,h]=Pt.useState(void 0),[m,p]=Pt.useState(!1);return Pt.useEffect(()=>{p(!0)},[]),Pt.useEffect(()=>{l(!0),h(void 0);async function y(){if(m)try{const T=new U0(s);await T.activate(),e(T)}catch(T){h(T instanceof Error?T:new Error("Failed to activate client"))}finally{l(!1)}}return y(),()=>{n!=null&&n.isActive()&&n.deactivate({keepalive:!0})}},[s.apiKey,s.rpcAddr,m]),{client:n,loading:r,error:c}}const SA=({children:s,...n})=>{const e=Pt.useMemo(()=>({userAgent:Pp.name+"/"+Pp.version,...n}),[n.apiKey,n.rpcAddr]),{client:r,loading:l,error:c}=vA(e);return Ot.jsx(L0.Provider,{value:{client:r,loading:l,error:c},children:s})},TA=()=>{const s=Pt.useContext(L0);if(!s)throw new Error("useYorkie must be used under YorkieProvider");return{client:s.client,loading:s.loading,error:s.error}};function bA(s,n,e,r,l,c){const[h,m]=Pt.useState(),[p,y]=Pt.useState(!0),[T,N]=Pt.useState(),[B,R]=Pt.useState(l),[V,Y]=Pt.useState([]),[X,tt]=Pt.useState(ka.Disconnected);Pt.useEffect(()=>{if(e){y(!1),N(e);return}if(!s||n){y(!0);return}y(!0),N(void 0);const K=new z0(r),at=[];at.push(K.subscribe(()=>{R(K.getRoot())})),at.push(K.subscribe("presence",()=>{Y(K.getPresences())})),at.push(K.subscribe("connection",ht=>{tt(ht.value)}));async function Q(){try{await(s==null?void 0:s.attach(K,{initialRoot:l,initialPresence:c})),m(K),R(K.getRoot()),Y(K.getPresences())}catch(ht){N(ht instanceof Error?ht:new Error("Failed to attach document"))}finally{y(!1)}}return Q(),()=>{s&&s.hasDocument(r)&&s.detach(K);for(const ht of at)ht()}},[s,n,e,r]);const mt=Pt.useCallback(K=>{if(h)try{h.update(K)}catch(at){N(at instanceof Error?at:new Error("Failed to update document"))}},[h]);return{doc:h,root:B,presences:V,connection:X,update:mt,loading:p,error:T}}const lc=Pt.createContext(null),wA=({docKey:s,initialRoot:n={},initialPresence:e={},children:r})=>{const{client:l,loading:c,error:h}=TA(),{doc:m,root:p,presences:y,connection:T,update:N,loading:B,error:R}=bA(l,c,h,s,n,e);return Ot.jsx(lc.Provider,{value:{doc:m,root:p,presences:y,connection:T,update:N,loading:B,error:R},children:r})},AA=()=>{const s=Pt.useContext(lc);if(!s)throw new Error("useDocument must be used within a DocumentProvider");return{doc:s.doc,root:s.root,presences:s.presences,connection:s.connection,update:s.update,loading:s.loading,error:s.error}},EA=()=>{const s=Pt.useContext(lc);if(!s)throw new Error("usePresences must be used within a DocumentProvider");return s.presences},q0=()=>{const s=Pt.useContext(lc);if(!s)throw new Error("useConnection must be used within a DocumentProvider");return s.connection};function NA(){const s=q0();return Ot.jsxs("div",{id:"connection-status",children:["Connection Status: "," ",s===ka.Connected?Ot.jsx("span",{className:"green",children:" "}):Ot.jsx("span",{className:"red",children:" "})]})}function xA(){const s=EA();return Ot.jsx("div",{id:"peers-container",children:Ot.jsxs("p",{children:["Peers:"," ",s.map((n,e)=>Ot.jsxs(db.Fragment,{children:[Ot.jsx("span",{children:n.clientID.slice(-2)}),e<s.length-1&&Ot.jsx("span",{children:", "})]},n.clientID))]})})}function DA(){const{root:s,update:n,loading:e,error:r}=AA(),l=q0();return e?Ot.jsx("p",{children:"Loading..."}):r?Ot.jsxs("div",{id:"error",children:[Ot.jsxs("p",{children:["Error Name: ",r.name]}),Ot.jsxs("p",{children:["Error Message: ",r.message]})]}):Ot.jsxs("div",{className:"counter-side",children:[Ot.jsx(NA,{}),Ot.jsx(xA,{}),Ot.jsxs("div",{id:"counter-container",children:[Ot.jsx("h1",{id:"counter",children:"Counter"}),Ot.jsx("div",{id:"counter-value",children:s.counter}),Ot.jsx("button",{id:"increment",disabled:l===ka.Disconnected,onClick:()=>n(c=>c.counter+=1),children:"Increment"})]}),Ot.jsx("div",{id:"error",children:l===ka.Disconnected&&Ot.jsx("p",{children:"Stream subscription is disconnected"})})]})}function OA(){return Ot.jsx(SA,{apiKey:"",rpcAddr:"http://localhost:8080",children:Ot.jsx("div",{className:"page-container",children:Ot.jsx(wA,{docKey:"react-document-limit",initialRoot:{counter:0},children:Ot.jsx(DA,{})})})})}Tb.createRoot(document.getElementById("root")).render(Ot.jsx(Pt.StrictMode,{children:Ot.jsx(OA,{})}));
